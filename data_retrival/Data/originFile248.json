{"items":[{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":2277941,"reputation":10097,"user_id":2003763,"accept_rate":100,"display_name":"Thibault D."},"score":2,"creation_date":1361660824,"post_id":15046764,"comment_id":21151059,"body_markdown":"Did you enable maven on your project configuration in intellij? Just unfold the maven panel, probably on the right side of your screen.","body":"Did you enable maven on your project configuration in intellij? Just unfold the maven panel, probably on the right side of your screen."},{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":0,"creation_date":1361660959,"post_id":15046764,"comment_id":21151095,"body_markdown":"Have you enabled Maven plugin in your IDEA?","body":"Have you enabled Maven plugin in your IDEA?"},{"owner":{"account_id":1333489,"reputation":17338,"user_id":1276804,"display_name":"zagyi"},"score":2,"creation_date":1361661012,"post_id":15046764,"comment_id":21151110,"body_markdown":"Also, check if the maven home directory is properly set under Settings/Maven.","body":"Also, check if the maven home directory is properly set under Settings/Maven."},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1361661354,"post_id":15046764,"comment_id":21151199,"body_markdown":"What do you mean by &quot;created with Maven&quot;?","body":"What do you mean by &quot;created with Maven&quot;?"},{"owner":{"account_id":458224,"reputation":37507,"user_id":857994,"accept_rate":97,"display_name":"John Humphreys"},"score":0,"creation_date":1361662046,"post_id":15046764,"comment_id":21151361,"body_markdown":"I actually created a maven project within IDEA, it&#39;s how I started the project.  Then I copied a few files in from some sample code I had written, added some references to the pom, made sure I could build from command line with maven, etc.  I&#39;ll try zagyi&#39;s suggestion though.","body":"I actually created a maven project within IDEA, it&#39;s how I started the project.  Then I copied a few files in from some sample code I had written, added some references to the pom, made sure I could build from command line with maven, etc.  I&#39;ll try zagyi&#39;s suggestion though."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":13,"creation_date":1361667730,"post_id":15046764,"comment_id":21152537,"body_markdown":"Try to **Reimport** the project from IDEA **Maven Projects** tool window.","body":"Try to <b>Reimport</b> the project from IDEA <b>Maven Projects</b> tool window."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":2,"creation_date":1406059395,"post_id":15046764,"comment_id":38675926,"body_markdown":"See also http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/24892769#24892769","body":"See also <a href=\"http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/24892769#24892769\" title=\"import maven dependencies in intellij idea\">stackoverflow.com/questions/11454822/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":458224,"reputation":37507,"user_id":857994,"accept_rate":97,"display_name":"John Humphreys"},"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1362166144,"creation_date":1362166144,"answer_id":15165364,"question_id":15046764,"body_markdown":"For some reason re-import did not do the trick.  After looking at this:\r\n\r\nhttp://www.jetbrains.com/idea/webhelp/maven-importing.html\r\n\r\nI set auto-import and then the problem went away though; hopefully it helps someone else.  Thanks for the ideas everyone :).","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>For some reason re-import did not do the trick.  After looking at this:</p>\n\n<p><a href=\"http://www.jetbrains.com/idea/webhelp/maven-importing.html\">http://www.jetbrains.com/idea/webhelp/maven-importing.html</a></p>\n\n<p>I set auto-import and then the problem went away though; hopefully it helps someone else.  Thanks for the ideas everyone :).</p>\n"},{"tags":[],"owner":{"account_id":1593295,"reputation":804,"user_id":1476154,"accept_rate":100,"display_name":"grinch"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1406671520,"creation_date":1406671520,"answer_id":25025758,"question_id":15046764,"body_markdown":"I was running into similar issues. For me it ended up being that I was importing the project incorrectly. I had been doing \r\n\r\n    import project\r\n        &lt;navigate to existing project and click top level directory&gt;\r\n        follow the wizard\r\n   \r\nWhat solved my maven problems was to do\r\n\r\n    import project\r\n        &lt;navigate to existing project and click the pom.xml\r\n        follow the wizard\r\n","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>I was running into similar issues. For me it ended up being that I was importing the project incorrectly. I had been doing </p>\n\n<pre><code>import project\n    &lt;navigate to existing project and click top level directory&gt;\n    follow the wizard\n</code></pre>\n\n<p>What solved my maven problems was to do</p>\n\n<pre><code>import project\n    &lt;navigate to existing project and click the pom.xml\n    follow the wizard\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1558965,"reputation":912,"user_id":1489386,"display_name":"Max"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1428702711,"creation_date":1407415681,"answer_id":25182965,"question_id":15046764,"body_markdown":"After installing IntelliJ IDEA on a new computer I found myself with the same issue.\r\n\r\nI had to update the remote maven repository. (`Settings &gt; Maven &gt; Repositories`)\r\n\r\n![enter image description here][1]\r\n\r\nBoth local and remote repos needed to be updated. The remote one wasn&#39;t updated ever before this. After a restart everything worked fine. You might have to reimport your project.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KAmRK.png","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>After installing IntelliJ IDEA on a new computer I found myself with the same issue.</p>\n\n<p>I had to update the remote maven repository. (<code>Settings &gt; Maven &gt; Repositories</code>)</p>\n\n<p><img src=\"https://i.stack.imgur.com/KAmRK.png\" alt=\"enter image description here\"></p>\n\n<p>Both local and remote repos needed to be updated. The remote one wasn't updated ever before this. After a restart everything worked fine. You might have to reimport your project.</p>\n"},{"tags":[],"owner":{"account_id":7045408,"reputation":1,"user_id":5396375,"display_name":"Eirik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443685148,"creation_date":1443685148,"answer_id":32881975,"question_id":15046764,"body_markdown":"This also happened to me after upgrading Intellij to 1.4.15. I tried to re-import the whole project with same result, but enabling Maven Auto Import did the tricks.","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>This also happened to me after upgrading Intellij to 1.4.15. I tried to re-import the whole project with same result, but enabling Maven Auto Import did the tricks.</p>\n"},{"tags":[],"owner":{"account_id":7342363,"reputation":381,"user_id":5591358,"display_name":"Jarek"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1449817815,"creation_date":1449816598,"answer_id":34217681,"question_id":15046764,"body_markdown":"You could go to:\r\n\r\nFile &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven\r\n\r\nand check if your pom.xml is not in the &quot;Ignored Files&quot; list.","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>You could go to:</p>\n\n<p>File > Settings > Build, Execution, Deployment > Build Tools > Maven</p>\n\n<p>and check if your pom.xml is not in the \"Ignored Files\" list.</p>\n"},{"tags":[],"owner":{"account_id":7339181,"reputation":116,"user_id":5589447,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1456566967,"creation_date":1456566967,"answer_id":35668314,"question_id":15046764,"body_markdown":"A simple reimport and/or update of the repositories via Intellij did not do the trick for me.\r\n\r\n Instead I had to delete the complete `~/.m2/repository` directory and let maven sort everything out by itself. Afterwards `Maven -&gt; Reimport` finished it off.","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>A simple reimport and/or update of the repositories via Intellij did not do the trick for me.</p>\n\n<p>Instead I had to delete the complete <code>~/.m2/repository</code> directory and let maven sort everything out by itself. Afterwards <code>Maven -&gt; Reimport</code> finished it off.</p>\n"},{"tags":[],"owner":{"account_id":5719584,"reputation":3632,"user_id":4518468,"display_name":"HankScorpio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460673325,"creation_date":1460673325,"answer_id":36635198,"question_id":15046764,"body_markdown":"Looks like there are several, valid reasons why intelliJ would ignore a pom file.\r\nNone of the previous answers worked in my case, so here&#39;s what did work, in case someone else runs into this issue:\r\n\r\nIn this example, module3 was being completely ignored by IntelliJ. The pom.xml in that directory wasn&#39;t even being treated as a maven pom.\r\n\r\nMy project structure is like this:\r\n\r\n    myProject\r\n        module1\r\n        module2\r\n        module3\r\n\r\nBUT, my (simplified) pom structure is like this:\r\n\r\n\t&lt;project&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;groupId&gt;devs&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;myProject&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\t\t&lt;name&gt;myProject&lt;/name&gt;\r\n\r\n\t\t&lt;modules&gt;\r\n\t\t\t&lt;module&gt;module1&lt;/module&gt;\r\n\t\t\t&lt;module&gt;module2&lt;/module&gt;\r\n\t\t&lt;modules&gt;\r\n\t\t\r\n\t\t&lt;profiles&gt;\r\n\t\t\t&lt;profile&gt;\r\n\t\t\t\t&lt;id&gt;CompleteBuildProfile&lt;/id&gt;\r\n\t\t\t\t&lt;modules&gt;\r\n\t\t\t\t\t&lt;module&gt;module3&lt;/module&gt;\r\n\t\t\t\t&lt;/modules&gt;\r\n\t\t\t&lt;/profile&gt;\r\n\t\t&lt;/profiles&gt;\r\n\t&lt;/project&gt;\r\n\r\nTo fix this, I modified the root `&lt;modules&gt;` element to add in module3 temporarily.\r\n\r\n\t\t&lt;modules&gt;\r\n\t\t\t&lt;module&gt;module1&lt;/module&gt;\r\n\t\t\t&lt;module&gt;module2&lt;/module&gt;\r\n\t\t\t&lt;module&gt;module3&lt;/module&gt;\r\n\t\t&lt;modules&gt;\r\n\r\nNext re-import the root pom, and IntelliJ will add the module.\r\nWhen that&#39;s done, revert the pom. IntelliJ will ask if you also want to remove `module3` from the project structure. Click `No`.\r\n\r\nBam! Done. Module3 works and I can run my Integration tests from IntelliJ again :D","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>Looks like there are several, valid reasons why intelliJ would ignore a pom file.\nNone of the previous answers worked in my case, so here's what did work, in case someone else runs into this issue:</p>\n\n<p>In this example, module3 was being completely ignored by IntelliJ. The pom.xml in that directory wasn't even being treated as a maven pom.</p>\n\n<p>My project structure is like this:</p>\n\n<pre><code>myProject\n    module1\n    module2\n    module3\n</code></pre>\n\n<p>BUT, my (simplified) pom structure is like this:</p>\n\n<pre><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;devs&lt;/groupId&gt;\n    &lt;artifactId&gt;myProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;myProject&lt;/name&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;module1&lt;/module&gt;\n        &lt;module&gt;module2&lt;/module&gt;\n    &lt;modules&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;CompleteBuildProfile&lt;/id&gt;\n            &lt;modules&gt;\n                &lt;module&gt;module3&lt;/module&gt;\n            &lt;/modules&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>To fix this, I modified the root <code>&lt;modules&gt;</code> element to add in module3 temporarily.</p>\n\n<pre><code>    &lt;modules&gt;\n        &lt;module&gt;module1&lt;/module&gt;\n        &lt;module&gt;module2&lt;/module&gt;\n        &lt;module&gt;module3&lt;/module&gt;\n    &lt;modules&gt;\n</code></pre>\n\n<p>Next re-import the root pom, and IntelliJ will add the module.\nWhen that's done, revert the pom. IntelliJ will ask if you also want to remove <code>module3</code> from the project structure. Click <code>No</code>.</p>\n\n<p>Bam! Done. Module3 works and I can run my Integration tests from IntelliJ again :D</p>\n"},{"tags":[],"owner":{"account_id":2689611,"reputation":1721,"user_id":2323210,"accept_rate":100,"display_name":"nickebbitt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461063614,"creation_date":1461063614,"answer_id":36716417,"question_id":15046764,"body_markdown":"The problem was caused for me by selecting the project directory to be Imported when first starting IntelliJ rather than the `pom.xml` file for the project.\r\n\r\nClosing the problem project and then following the Import process again but choosing the `pom.xml` resulted in a fully working project in the IDE.","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>The problem was caused for me by selecting the project directory to be Imported when first starting IntelliJ rather than the <code>pom.xml</code> file for the project.</p>\n\n<p>Closing the problem project and then following the Import process again but choosing the <code>pom.xml</code> resulted in a fully working project in the IDE.</p>\n"},{"tags":[],"owner":{"account_id":5617366,"reputation":37,"user_id":4448247,"display_name":"Stefano Ghezzi"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1463036092,"creation_date":1463036092,"answer_id":37179370,"question_id":15046764,"body_markdown":"In my case the problem was that the project was in maven2 while intellj was configured for maven3. Switching to maven2 in settings solved the problem","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>In my case the problem was that the project was in maven2 while intellj was configured for maven3. Switching to maven2 in settings solved the problem</p>\n"},{"tags":[],"owner":{"account_id":2698527,"reputation":2274,"user_id":2622079,"accept_rate":57,"display_name":"fan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470668333,"creation_date":1464690164,"answer_id":37543055,"question_id":15046764,"body_markdown":"For me the problem seems to be a conflict with the maven helper plugin (https://plugins.jetbrains.com/plugin/7179?pr=idea). \r\n\r\nI disable it, and it works again :)","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>For me the problem seems to be a conflict with the maven helper plugin (<a href=\"https://plugins.jetbrains.com/plugin/7179?pr=idea\" rel=\"nofollow\">https://plugins.jetbrains.com/plugin/7179?pr=idea</a>). </p>\n\n<p>I disable it, and it works again :)</p>\n"},{"tags":[],"owner":{"account_id":2405964,"reputation":187,"user_id":2102440,"display_name":"Akila"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1481627323,"creation_date":1481627323,"answer_id":41119597,"question_id":15046764,"body_markdown":"Go to \r\nFile &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven\r\nand check the Maven home directory. This should be the same maven installation used for command line","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>Go to \nFile > Settings > Build, Execution, Deployment > Build Tools > Maven\nand check the Maven home directory. This should be the same maven installation used for command line</p>\n"},{"tags":[],"owner":{"account_id":2093613,"reputation":69,"user_id":1862863,"display_name":"mikey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501835982,"creation_date":1501835982,"answer_id":45502057,"question_id":15046764,"body_markdown":"Might be useful to others that were still stuck like me. \r\nNone of the suggested fix worked. Actually, not before I fixed my main problem which was the installation location of maven.\r\n\r\nIn my case, I did not use the standard location. Changing that location in the maven settings (**Settings/Maven/Maven home repository**) did the trick.\r\n\r\nMy 2 cents.","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>Might be useful to others that were still stuck like me. \nNone of the suggested fix worked. Actually, not before I fixed my main problem which was the installation location of maven.</p>\n\n<p>In my case, I did not use the standard location. Changing that location in the maven settings (<strong>Settings/Maven/Maven home repository</strong>) did the trick.</p>\n\n<p>My 2 cents.</p>\n"},{"tags":[],"owner":{"account_id":5957467,"reputation":376,"user_id":4683578,"display_name":"hosford42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521045549,"creation_date":1521045549,"answer_id":49283266,"question_id":15046764,"body_markdown":"For me, what did the trick was to add the dependencies in File &gt; Project Settings &gt; Modules &gt; Dependencies.","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>For me, what did the trick was to add the dependencies in File > Project Settings > Modules > Dependencies.</p>\n"},{"tags":[],"owner":{"account_id":251239,"reputation":467,"user_id":528473,"accept_rate":40,"display_name":"Sherin Syriac"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1544020183,"creation_date":1544020183,"answer_id":53634563,"question_id":15046764,"body_markdown":"For me File&gt;&gt;Invalidate Cache/Restart&gt;&gt;Invalidate and Restart worked in IntelliJ","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>For me File>>Invalidate Cache/Restart>>Invalidate and Restart worked in IntelliJ</p>\n"},{"tags":[],"owner":{"account_id":265903,"reputation":5352,"user_id":2092870,"accept_rate":80,"display_name":"Krešimir Nesek"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1552828154,"creation_date":1552828154,"answer_id":55207404,"question_id":15046764,"body_markdown":"For reasons I don&#39;t understand, in my case, I needed turn on setting &quot;Always update snapshots&quot; in Build, Executions, Deployment &gt; Build Tools &gt; Maven.\r\n\r\nThat made IntelliJ redownload dependencies and make it work.","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>For reasons I don't understand, in my case, I needed turn on setting \"Always update snapshots\" in Build, Executions, Deployment > Build Tools > Maven.</p>\n\n<p>That made IntelliJ redownload dependencies and make it work.</p>\n"},{"tags":[],"owner":{"account_id":9165319,"reputation":51,"user_id":6815182,"display_name":"Luis Mendoza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554312361,"creation_date":1554312361,"answer_id":55500924,"question_id":15046764,"body_markdown":"Cache is causing problems! Make sure to do the following:\r\n\r\nIn your terminal, go to project/module: \r\n\r\n    mvn clean install\r\n\r\nIn your IntelliJ: \r\n\r\n 1. File &gt; Invalidate Caches &gt; Invalidate\r\n        \r\n 2. Right click on project/module &gt; Maven &gt; Reimport\r\n\r\n","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>Cache is causing problems! Make sure to do the following:</p>\n\n<p>In your terminal, go to project/module: </p>\n\n<pre><code>mvn clean install\n</code></pre>\n\n<p>In your IntelliJ: </p>\n\n<ol>\n<li><p>File > Invalidate Caches > Invalidate</p></li>\n<li><p>Right click on project/module > Maven > Reimport</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":384161,"reputation":1163,"user_id":740488,"accept_rate":57,"display_name":"gospodin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569401205,"creation_date":1569401205,"answer_id":58094567,"question_id":15046764,"body_markdown":"Just delete your project&#39;s .idea folder and re-import your project in IntelliJ.","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>Just delete your project's .idea folder and re-import your project in IntelliJ.</p>\n"},{"tags":[],"owner":{"account_id":3037164,"reputation":1912,"user_id":2574965,"display_name":"Pukhraj soni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572508681,"creation_date":1572508681,"answer_id":58638978,"question_id":15046764,"body_markdown":"If you have any dependencies in pom.xml specific to your organisation than you need to update path of setting.xml for your project which is by default set to your user directory in Ubuntu : /home/user/.m2/settings.xml -&gt; (change it to your apache-maven conf path) \r\n\r\nGo to -&gt; intellij settings -&gt; build,Execution, Deployement -&gt; Build Tools -&gt; Maven -&gt; User settings file\r\n\r\n[![Update Setting.xml file Intellij][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VFkbe.png","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>If you have any dependencies in pom.xml specific to your organisation than you need to update path of setting.xml for your project which is by default set to your user directory in Ubuntu : /home/user/.m2/settings.xml -> (change it to your apache-maven conf path) </p>\n\n<p>Go to -> intellij settings -> build,Execution, Deployement -> Build Tools -> Maven -> User settings file</p>\n\n<p><a href=\"https://i.stack.imgur.com/VFkbe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VFkbe.png\" alt=\"Update Setting.xml file Intellij\"></a></p>\n"},{"tags":[],"owner":{"account_id":7048299,"reputation":800,"user_id":5398371,"display_name":"Zeinab Ghaffarnasab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572761454,"creation_date":1572761454,"answer_id":58677834,"question_id":15046764,"body_markdown":"For my case I should have checked the work offline\r\n\r\nGo to File&gt;Settings &gt;Build, Execution, Deployment &gt;Build tools&gt;Maven \r\nThen check Work Offline","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>For my case I should have checked the work offline</p>\n\n<p>Go to File>Settings >Build, Execution, Deployment >Build tools>Maven \nThen check Work Offline</p>\n"},{"tags":[],"owner":{"account_id":90378,"reputation":2824,"user_id":248847,"accept_rate":85,"display_name":"KrishPrabakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573736396,"creation_date":1573736396,"answer_id":58857386,"question_id":15046764,"body_markdown":"Restart, Invalid caches, outside building, none worked for me.\r\n\r\nOnly Reimport worked finally.  For others sake, putting it as answer:\r\n\r\n    Right click the project &gt; Maven &gt; Reimport","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>Restart, Invalid caches, outside building, none worked for me.</p>\n\n<p>Only Reimport worked finally.  For others sake, putting it as answer:</p>\n\n<pre><code>Right click the project &gt; Maven &gt; Reimport\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17259261,"reputation":29,"user_id":12497631,"display_name":"Boggie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575748986,"creation_date":1575748986,"answer_id":59229697,"question_id":15046764,"body_markdown":"Ran into the &quot;same&quot; issue some days ago. It might not be related as my issue was more specific to Spring boot but as I was struggling with it and tried every solution on this post I&#39;m going to share my experience.\r\n\r\nWhat I was trying to do is to add one of my spring boot app into another project as a maven dependency. The dependency was resolved but I couldn&#39;t access my classes. \r\n\r\n&gt; When no packaging is declared, Maven assumes the default packaging is JAR.\r\nThe JAR generated by the Spring Boot Maven Plugin overrides the default one generated by Maven.\r\n\r\nThe solution was:\r\n\r\n&gt; The solution that we found is to generate another JAR which will be used as a dependency to be imported from other projects.\r\n\r\nThe full [article][1] which helped me solve my issue. \r\n\r\nHope it helps someone.\r\n\r\n\r\n  [1]: https://medium.com/xebia-france/import-spring-boot-application-as-a-maven-dependency-a25e03e5c3a","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>Ran into the \"same\" issue some days ago. It might not be related as my issue was more specific to Spring boot but as I was struggling with it and tried every solution on this post I'm going to share my experience.</p>\n\n<p>What I was trying to do is to add one of my spring boot app into another project as a maven dependency. The dependency was resolved but I couldn't access my classes. </p>\n\n<blockquote>\n  <p>When no packaging is declared, Maven assumes the default packaging is JAR.\n  The JAR generated by the Spring Boot Maven Plugin overrides the default one generated by Maven.</p>\n</blockquote>\n\n<p>The solution was:</p>\n\n<blockquote>\n  <p>The solution that we found is to generate another JAR which will be used as a dependency to be imported from other projects.</p>\n</blockquote>\n\n<p>The full <a href=\"https://medium.com/xebia-france/import-spring-boot-application-as-a-maven-dependency-a25e03e5c3a\" rel=\"nofollow noreferrer\">article</a> which helped me solve my issue. </p>\n\n<p>Hope it helps someone.</p>\n"},{"tags":[],"owner":{"account_id":10268205,"reputation":51,"user_id":7577490,"display_name":"Michael Race"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580400704,"creation_date":1580400704,"answer_id":59990115,"question_id":15046764,"body_markdown":"I&#39;ve encountered a similar issue after refactoring my maven project into different modules. Re-importing on it&#39;s own usually doesn&#39;t work, but I&#39;ve found that deleting the .iml files and then re-importing usually does the trick.","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>I've encountered a similar issue after refactoring my maven project into different modules. Re-importing on it's own usually doesn't work, but I've found that deleting the .iml files and then re-importing usually does the trick.</p>\n"},{"tags":[],"owner":{"account_id":9764541,"reputation":111,"user_id":7238473,"display_name":"Vijay Godithi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1619243887,"creation_date":1596728882,"answer_id":63287290,"question_id":15046764,"body_markdown":"Idea cannot download all dependent jar packages using maven,try the following operations:\r\n\r\n **mvn -U idea:idea**\r\n\r\nthen all the dependent jar packages are download from the maven repository","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>Idea cannot download all dependent jar packages using maven,try the following operations:</p>\n<p><strong>mvn -U idea:idea</strong></p>\n<p>then all the dependent jar packages are download from the maven repository</p>\n"},{"tags":[],"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1607583293,"creation_date":1607583293,"answer_id":65229767,"question_id":15046764,"body_markdown":"Right click on the pom.xml -&gt; Add as Maven project -&gt; Reimport\r\n\r\n[![Maven import][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wYl8L.gif","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>Right click on the pom.xml -&gt; Add as Maven project -&gt; Reimport</p>\n<p><a href=\"https://i.stack.imgur.com/wYl8L.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wYl8L.gif\" alt=\"Maven import\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20851878,"reputation":1,"user_id":15316229,"display_name":"Saranya G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616391603,"creation_date":1616391603,"answer_id":66740827,"question_id":15046764,"body_markdown":"While importing a New project : \r\n\r\n1.To identify all the modules in a project as maven modules:\r\nFile ---&gt;New Project Settings --&gt;Build Execution deployment --&gt;build tools --&gt; maven ---&gt; importing ---&gt; enable &quot;search for projects recursively&quot;","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>While importing a New project :</p>\n<p>1.To identify all the modules in a project as maven modules:\nFile ---&gt;New Project Settings --&gt;Build Execution deployment --&gt;build tools --&gt; maven ---&gt; importing ---&gt; enable &quot;search for projects recursively&quot;</p>\n"},{"tags":[],"owner":{"account_id":14222505,"reputation":1863,"user_id":10275943,"display_name":"Ikbel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634222548,"creation_date":1634222132,"answer_id":69572584,"question_id":15046764,"body_markdown":"Option1: Right-click on the  main project folder =&gt; Add Framework Support =&gt; Check Maven  option \r\n\r\n\r\nOption2: right-click on the pom.xml file and click on &quot;Add as a  maven  project&quot;","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>Option1: Right-click on the  main project folder =&gt; Add Framework Support =&gt; Check Maven  option</p>\n<p>Option2: right-click on the pom.xml file and click on &quot;Add as a  maven  project&quot;</p>\n"},{"tags":[],"owner":{"account_id":8889721,"reputation":166,"user_id":6636772,"display_name":"anand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643848873,"creation_date":1643848531,"answer_id":70964635,"question_id":15046764,"body_markdown":"This happened when I was upgrading from Java from 8 to 11 and Spring version. All the dependencies in the maven section disappeared as if no pom file existed. Was able to find the issue by doing \r\n\r\n    mvn clean\r\n\r\nIt showed me that one of the dependencies was missing version tag and it needed one. \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAfter adding version to the above dependency it started showing up all the dependencies under maven section.","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>This happened when I was upgrading from Java from 8 to 11 and Spring version. All the dependencies in the maven section disappeared as if no pom file existed. Was able to find the issue by doing</p>\n<pre><code>mvn clean\n</code></pre>\n<p>It showed me that one of the dependencies was missing version tag and it needed one.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After adding version to the above dependency it started showing up all the dependencies under maven section.</p>\n"},{"tags":[],"owner":{"account_id":13971473,"reputation":367,"user_id":10089961,"display_name":"Shay Ribera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646844831,"creation_date":1646844831,"answer_id":71413102,"question_id":15046764,"body_markdown":"In my case the my maven home path was pointing to Bundled Maven 3 instead of where my .m2 folder was located, fixed it by going to File &gt; Settings &gt; Build, Execution and Deployment &gt; Maven &gt; Maven home path and adding C:/Program Files/apache-maven-3.5.4","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>In my case the my maven home path was pointing to Bundled Maven 3 instead of where my .m2 folder was located, fixed it by going to File &gt; Settings &gt; Build, Execution and Deployment &gt; Maven &gt; Maven home path and adding C:/Program Files/apache-maven-3.5.4</p>\n"},{"tags":[],"owner":{"account_id":26217504,"reputation":21,"user_id":19895453,"display_name":"Sadvik gowda "},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662478125,"creation_date":1662033105,"answer_id":73568902,"question_id":15046764,"body_markdown":"Worked for me:\r\n\r\n    mvn -U idea:idea\r\n\r\nSince `mvn -U` updates the dependencies, check what `mvn -U` does: https://stackoverflow.com/a/26224957/6150881\r\n\r\n\r\nBefore this I have tried following steps but these have not helped:-\r\n1) Deleted `.idea` and `.iml` file\r\n2) Invalidate cache and restart\r\n3) Maven -&gt; Reimport .","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>Worked for me:</p>\n<pre><code>mvn -U idea:idea\n</code></pre>\n<p>Since <code>mvn -U</code> updates the dependencies, check what <code>mvn -U</code> does: <a href=\"https://stackoverflow.com/a/26224957/6150881\">https://stackoverflow.com/a/26224957/6150881</a></p>\n<p>Before this I have tried following steps but these have not helped:-</p>\n<ol>\n<li>Deleted <code>.idea</code> and <code>.iml</code> file</li>\n<li>Invalidate cache and restart</li>\n<li>Maven -&gt; Reimport .</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16303380,"reputation":39,"user_id":11773900,"display_name":"themartinipolice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669873771,"creation_date":1669873771,"answer_id":74637417,"question_id":15046764,"body_markdown":"This happened to me when I had mistakenly set my IntelliJ to power saving mode. Power Saving mode is displayed by battery icon with half empty charge. Disabling that fixed the problem.","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>This happened to me when I had mistakenly set my IntelliJ to power saving mode. Power Saving mode is displayed by battery icon with half empty charge. Disabling that fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":25265975,"reputation":1,"user_id":19096148,"display_name":"Pizza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670165619,"creation_date":1670165619,"answer_id":74677749,"question_id":15046764,"body_markdown":"I have tried a lot of things and ended up adding the dependencies through the project settings&gt;libraries section. If nothing else works it does the trick.","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>I have tried a lot of things and ended up adding the dependencies through the project settings&gt;libraries section. If nothing else works it does the trick.</p>\n"},{"tags":[],"owner":{"account_id":117490,"reputation":889,"user_id":2691447,"display_name":"msd.salehi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689091365,"creation_date":1689091365,"answer_id":76663841,"question_id":15046764,"body_markdown":"If you have multiple root projects open at the same time in your `Projects` window, try opening them separately in different Intellij windows.\r\n\r\nThis has helped me multiple times so far with projects having more advanced module structure (like hierarchical maven artifacts or multiple projects open at the same time).\r\n\r\nJust choose the `Open` item from `File` menu and chose only on project or sub-module at a time.","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>If you have multiple root projects open at the same time in your <code>Projects</code> window, try opening them separately in different Intellij windows.</p>\n<p>This has helped me multiple times so far with projects having more advanced module structure (like hierarchical maven artifacts or multiple projects open at the same time).</p>\n<p>Just choose the <code>Open</code> item from <code>File</code> menu and chose only on project or sub-module at a time.</p>\n"},{"tags":[],"owner":{"account_id":1555433,"reputation":2537,"user_id":1446707,"accept_rate":100,"display_name":"Ali.Mojtahed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692031878,"creation_date":1692031878,"answer_id":76900774,"question_id":15046764,"body_markdown":"for me `mvnw.cmd and mvnw and wrapper` cause the issue in intelliJ version:`2021.3`, I deleted them and just with pure pom.xml , file &gt; project from existing source it worked","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>for me <code>mvnw.cmd and mvnw and wrapper</code> cause the issue in intelliJ version:<code>2021.3</code>, I deleted them and just with pure pom.xml , file &gt; project from existing source it worked</p>\n"}],"owner":{"account_id":458224,"reputation":37507,"user_id":857994,"accept_rate":97,"display_name":"John Humphreys"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157888,"favorite_count":0,"down_vote_count":0,"up_vote_count":84,"accepted_answer_id":15165364,"answer_count":33,"score":84,"last_activity_date":1692031878,"creation_date":1361660660,"question_id":15046764,"body_markdown":"I have a project in IntelliJ IDEA which was created with Maven.  I then specified a set of dependencies and external repositories in the Pom.xml file.\r\n\r\nThe project builds fine on command line if I do `mvn install`.  When I open any of the code files in the IDE though it says all the classes handled by Maven dependencies aren&#39;t recognized - as it would for a normal project if I never added the required JARs to the build path.\r\n\r\nI know in my Eclipse Maven projects (rather than IntelliJ) it usually shows an extra directory on the left which says &quot;Maven Dependencies&quot; and lists the JARs pulled in via maven.  I don&#39;t see that here.  What am I doing wrong?\r\n\r\n----------\r\n\r\n**Here&#39;s what my screen looks like:**\r\n\r\n![IDE Image][1]\r\n\r\n  [1]: http://i.stack.imgur.com/SDUGA.png","title":"IntelliJ IDEA not recognizing classes specified in Maven dependencies","body":"<p>I have a project in IntelliJ IDEA which was created with Maven.  I then specified a set of dependencies and external repositories in the Pom.xml file.</p>\n<p>The project builds fine on command line if I do <code>mvn install</code>.  When I open any of the code files in the IDE though it says all the classes handled by Maven dependencies aren't recognized - as it would for a normal project if I never added the required JARs to the build path.</p>\n<p>I know in my Eclipse Maven projects (rather than IntelliJ) it usually shows an extra directory on the left which says &quot;Maven Dependencies&quot; and lists the JARs pulled in via maven.  I don't see that here.  What am I doing wrong?</p>\n<hr />\n<p><strong>Here's what my screen looks like:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/SDUGA.png\" alt=\"IDE Image\" /></p>\n"},{"tags":["java","maven","jenkins","pom.xml","nexus"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1691581380,"post_id":76863120,"comment_id":135510357,"body_markdown":"First thing would be to update to version 3.0.1.","body":"First thing would be to update to version 3.0.1."},{"owner":{"account_id":17819871,"reputation":33,"user_id":13342448,"display_name":"Bally2716"},"score":0,"creation_date":1691595455,"post_id":76863120,"comment_id":135513667,"body_markdown":"I will try this and see if it makes a difference","body":"I will try this and see if it makes a difference"},{"owner":{"account_id":17819871,"reputation":33,"user_id":13342448,"display_name":"Bally2716"},"score":0,"creation_date":1691596140,"post_id":76863120,"comment_id":135513832,"body_markdown":"I have an api incompatibility with this version.  According to https://issues.apache.org/jira/browse/MRELEASE-875 This was fixed after 2.5. I have a parent pom thats not in the git root. Maybe that has to do with it. However, still very strange behavior.","body":"I have an api incompatibility with this version.  According to <a href=\"https://issues.apache.org/jira/browse/MRELEASE-875\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MRELEASE-875</a> This was fixed after 2.5. I have a parent pom thats not in the git root. Maybe that has to do with it. However, still very strange behavior."},{"owner":{"account_id":17819871,"reputation":33,"user_id":13342448,"display_name":"Bally2716"},"score":0,"creation_date":1692031744,"post_id":76863120,"comment_id":135570634,"body_markdown":"https://stackoverflow.com/a/18993429/13342448 This was the fix to my issue, hopefully it saves someone more time that it took me.","body":"<a href=\"https://stackoverflow.com/a/18993429/13342448\">stackoverflow.com/a/18993429/13342448</a> This was the fix to my issue, hopefully it saves someone more time that it took me."}],"owner":{"account_id":17819871,"reputation":33,"user_id":13342448,"display_name":"Bally2716"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1692037700,"answer_count":0,"score":1,"last_activity_date":1692031744,"creation_date":1691527839,"question_id":76863120,"body_markdown":"I just switched from svn to git, and for some reason release:prepare release:perform is not commiting to my nexus release repo, and is instead going to my snapshot repo. I&#39;ve read that this is a bug in maven release plugin 2.5 but I am using 2.5.1. My pom file for the maven release plugin looks like this:\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;maven-scm-provider-gitexe&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;1.9.5&lt;/version&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;maven-scm-api&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.9.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\r\n\t\t\t\t\t&lt;remoteTagging&gt;false&lt;/remoteTagging&gt; \r\n\r\nI&#39;ve done everything I can find to resolve this and have had no luck... This is in my parent POM, and I&#39;ve exhausted my options... Any help is appreciated.\r\n\r\n\r\nEdit: Seems its the release:prepare step that keeps adding the -SNAPSHOT on the end of the build\r\n\r\n    DdevelopmentVersion=test111-RC5-SNAPSHOT -DreleaseVersion=test111-RC4 -Dresume=false -DdryRun=true release:prepare\r\n    [INFO] Scanning for projects...\r\n\r\n\r\n\r\nThen immediately adds it after it checks out...\r\n\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building . test111-RC4-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-release-plugin:2.4.2:prepare (default-cli) @ . ---\r\n\r\n","title":"Maven release plugin is publishing to SNAPSHOT Repo rather that release repo","body":"<p>I just switched from svn to git, and for some reason release:prepare release:perform is not commiting to my nexus release repo, and is instead going to my snapshot repo. I've read that this is a bug in maven release plugin 2.5 but I am using 2.5.1. My pom file for the maven release plugin looks like this:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-scm-provider-gitexe&lt;/artifactId&gt;\n                    &lt;version&gt;1.9.5&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-scm-api&lt;/artifactId&gt;\n                &lt;version&gt;1.9.1&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;configuration&gt;\n                &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\n                &lt;remoteTagging&gt;false&lt;/remoteTagging&gt; \n</code></pre>\n<p>I've done everything I can find to resolve this and have had no luck... This is in my parent POM, and I've exhausted my options... Any help is appreciated.</p>\n<p>Edit: Seems its the release:prepare step that keeps adding the -SNAPSHOT on the end of the build</p>\n<pre><code>DdevelopmentVersion=test111-RC5-SNAPSHOT -DreleaseVersion=test111-RC4 -Dresume=false -DdryRun=true release:prepare\n[INFO] Scanning for projects...\n</code></pre>\n<p>Then immediately adds it after it checks out...</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] Building . test111-RC4-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-release-plugin:2.4.2:prepare (default-cli) @ . ---\n</code></pre>\n"},{"tags":["java","debugging","ssl"],"comments":[{"owner":{"account_id":11179200,"reputation":1,"user_id":8203726,"display_name":"Paul"},"score":0,"creation_date":1498217103,"post_id":44716456,"comment_id":76422580,"body_markdown":"i have debbuged and the system shows me the bug in the method","body":"i have debbuged and the system shows me the bug in the method"}],"answers":[{"tags":[],"owner":{"account_id":11179200,"reputation":1,"user_id":8203726,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1499349982,"creation_date":1498217323,"answer_id":44720353,"question_id":44716456,"body_markdown":"The code was right but should be the port 443.","title":"&quot;openTlsConnect&quot;Certification with CA and openTlsConnect","body":"<p>The code was right but should be the port 443.</p>\n"}],"owner":{"account_id":11179200,"reputation":1,"user_id":8203726,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44720353,"answer_count":1,"score":0,"last_activity_date":1692031607,"creation_date":1498205940,"question_id":44716456,"body_markdown":"I&#39;m working on software project, where I have the task to make a Proxi, which works like a client. This Clientproxi is running in java on win10 and communicates with embedded Serviceregistry Yocto-Linux and must building a safe external connections over HTTP(s) with certivicateexchange TLS1.2. I&#39;m implementing and working with bouncycastlelibraries and have the following done:\r\n\r\n        UnsecureHttpExecutor unsecureHttpExecutor = new UnsecureHttpExecutor();// Connection for external Clientservices\r\n        logger.debug(&quot;Try to connect!&quot;);\r\n        HttpRequest httpRequest = new BasicHttpRequest(&quot;GET&quot;, &quot;/auth&quot;);// simple GET /auth -for REST\r\n        logger.debug(&quot;http.request: \\n&quot; + httpRequest.toString());\r\n        \t\r\n    \t\r\n        try {\r\n            HttpResponse httpResponse = unsecureHttpExecutor.executeRequest(httpRequest);// createHttpClient(); connectHttpClient();\r\n            String mibIdentifierJson = EntityUtils.toString(httpResponse.getEntity());\r\n            logger.debug(&quot;This is MIBIdentifierJson:\\n&quot; + mibIdentifierJson);\r\n            ResponseObject responseObject = JsonUtils.objectMapper().readValue(mibIdentifierJson, ResponseObject.class);\r\n            logger.debug(&quot;JSONUtils&quot; + JsonUtils.objectMapper().readValue(mibIdentifierJson, ResponseObject.class).toString());\r\n           \r\n            \r\n            \r\n        \tClientContext clientContext = null;\r\n        \tRegistrationProcess registrationProcess = new RegistrationProcess();\r\n        \tlogger.debug(&quot;Here is all ok!?&quot;);\r\n        \tRegistrationResult registrationResult = registrationProcess.registerNewClient(); //&lt;-- Here are the question    \t\r\n    \r\n    //__________________________________________________________________________\r\n    \r\n     public RegistrationResult registerNewClient(ClientContext clientContext) {\r\n           RegistrationResult registrationResult = null;\r\n    \r\n            try {\r\n            \t\r\n                createHttpClient();\r\n    \r\n                // create KeyPair, CSR and Self-Signed certificate which will be send to server during tls handshake (see MSC_002)\r\n                KeyPair keyPair = CertificateUtils.generateKeyPair();\r\n                //L.d(&quot;KeyPair abgeschlossen&quot;);\r\n                logger.debug(&quot;KeyPair abgeschlossen KeyPair: &quot; + keyPair.toString());\r\n                PKCS10CertificationRequest certificationRequest = CertificateUtils.createCertificationRequest(/*clientContext.getAppName()*/&quot;Testapp&quot;, keyPair);\r\n                logger.debug(&quot;PKCS10CertificationRequest erfolgreich abgeschlossen&quot;);\r\n                //L.d(&quot;PKCS10CertificationRequest erfolgreich abgeschlossen&quot;\r\n                X509CertificateHolder selfSignedCertificate = CertificateUtils.selfSignCertificate(certificationRequest, keyPair.getPrivate());\r\n                //L.d(&quot;X509 Selbstsigniertes&quot;);\r\n                \r\n                logger.debug(&quot;X509 Selbstsigniertes Certifikat erstellt&quot; + selfSignedCertificate.toString());\r\n                openTlsConnect(selfSignedCertificate, keyPair.getPrivate());\r\n\r\n-----------------------------------------------------------------------------\r\nI get following log\r\n\r\n    08:30:15.264 [main] DEBUG [main][connect()] - Try to connect!                                                               \r\n    08:30:15.268 [main] DEBUG [main][connect()] - http.request:                                                             GET /auth []                                                                                                                \r\n    08:30:15.296 [main] DEBUG [main][connect()] - Das ist der MIBIdentifierJson:                                            {&quot;data&quot;:[{&quot;id&quot;:&quot;&quot;,&quot;name&quot;:&quot;this is the auth-service of ViWi-ServiceRegistry&quot;,&quot;uri&quot;:&quot;auth\\/&quot;}],&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1002380}                                                                                                                     \r\n    08:30:15.401 [main] DEBUG [main][connect()] - JSONUtilsCommunication.ResponseObject@6321e813                                \r\n    08:30:15.402 [main] DEBUG [main][connect()] - Hier noch alles gut!                                                          \r\n    08:30:15.598 [main] DEBUG [Registrationprocess] - KeyPair abgeschlossen KeyPair: java.security.KeyPair@77167fb7\r\n    08:30:15.619 [main] DEBUG [Registrationprocess] - PKCS10CertificationRequest erfolgreich abgeschlossen                  \r\n    08:30:15.626 [main] DEBUG [Registrationprocess] - X509 Selbstsigniertes Certifikat erstelltorg.bouncycastle.cert.X509CertificateHolder@ad1a4e8d                                                                                                 Registration started                                                                                                    RegistrationSocked erstellt                                                                                             \r\n    08:30:15.627 [main] DEBUG Registrationsocked] - Connect registration socket using timeout: 3000\r\n    08:30:15.638 [main] DEBUG Registrationsocked] - Client Inputstream: %s                                                                                                                                                                          \r\n    08:30:15.638 [main] DEBUG Registrationsocked] - Client Outputstream: %s                                                                                                                                                                         \r\n    08:30:15.639 [main] DEBUG Registrationsocked] - TlsClientProtocol                                                       \r\n    08:30:15.639 [main] DEBUG Registrationsocked] - connect now via tls                                                     \r\n    08:30:15.639 [main] DEBUG Registrationsocked] - TLS Client:                                                             Registration.RegistrationTlsClient@441772e                                                                              \r\n    08:30:15.639 [main] DEBUG Registrationsocked] - TLS Client:                                                             Registration.RegistrationTlsClient$1@14dd9eb7                                                                           java.io.IOException: Internal TLS error, this could be an attackCould not perform registration process. \r\n\r\nthe problem lays in the method openTLSConnection and I don&#39;t know what I done wrong. Maybe it gives another way to get an TLS connection or clientconnection. thanks forward for comments! ","title":"&quot;openTlsConnect&quot;Certification with CA and openTlsConnect","body":"<p>I'm working on software project, where I have the task to make a Proxi, which works like a client. This Clientproxi is running in java on win10 and communicates with embedded Serviceregistry Yocto-Linux and must building a safe external connections over HTTP(s) with certivicateexchange TLS1.2. I'm implementing and working with bouncycastlelibraries and have the following done:</p>\n<pre><code>    UnsecureHttpExecutor unsecureHttpExecutor = new UnsecureHttpExecutor();// Connection for external Clientservices\n    logger.debug(&quot;Try to connect!&quot;);\n    HttpRequest httpRequest = new BasicHttpRequest(&quot;GET&quot;, &quot;/auth&quot;);// simple GET /auth -for REST\n    logger.debug(&quot;http.request: \\n&quot; + httpRequest.toString());\n        \n    \n    try {\n        HttpResponse httpResponse = unsecureHttpExecutor.executeRequest(httpRequest);// createHttpClient(); connectHttpClient();\n        String mibIdentifierJson = EntityUtils.toString(httpResponse.getEntity());\n        logger.debug(&quot;This is MIBIdentifierJson:\\n&quot; + mibIdentifierJson);\n        ResponseObject responseObject = JsonUtils.objectMapper().readValue(mibIdentifierJson, ResponseObject.class);\n        logger.debug(&quot;JSONUtils&quot; + JsonUtils.objectMapper().readValue(mibIdentifierJson, ResponseObject.class).toString());\n       \n        \n        \n        ClientContext clientContext = null;\n        RegistrationProcess registrationProcess = new RegistrationProcess();\n        logger.debug(&quot;Here is all ok!?&quot;);\n        RegistrationResult registrationResult = registrationProcess.registerNewClient(); //&lt;-- Here are the question        \n\n//__________________________________________________________________________\n\n public RegistrationResult registerNewClient(ClientContext clientContext) {\n       RegistrationResult registrationResult = null;\n\n        try {\n            \n            createHttpClient();\n\n            // create KeyPair, CSR and Self-Signed certificate which will be send to server during tls handshake (see MSC_002)\n            KeyPair keyPair = CertificateUtils.generateKeyPair();\n            //L.d(&quot;KeyPair abgeschlossen&quot;);\n            logger.debug(&quot;KeyPair abgeschlossen KeyPair: &quot; + keyPair.toString());\n            PKCS10CertificationRequest certificationRequest = CertificateUtils.createCertificationRequest(/*clientContext.getAppName()*/&quot;Testapp&quot;, keyPair);\n            logger.debug(&quot;PKCS10CertificationRequest erfolgreich abgeschlossen&quot;);\n            //L.d(&quot;PKCS10CertificationRequest erfolgreich abgeschlossen&quot;\n            X509CertificateHolder selfSignedCertificate = CertificateUtils.selfSignCertificate(certificationRequest, keyPair.getPrivate());\n            //L.d(&quot;X509 Selbstsigniertes&quot;);\n            \n            logger.debug(&quot;X509 Selbstsigniertes Certifikat erstellt&quot; + selfSignedCertificate.toString());\n            openTlsConnect(selfSignedCertificate, keyPair.getPrivate());\n</code></pre>\n<hr />\n<p>I get following log</p>\n<pre><code>08:30:15.264 [main] DEBUG [main][connect()] - Try to connect!                                                               \n08:30:15.268 [main] DEBUG [main][connect()] - http.request:                                                             GET /auth []                                                                                                                \n08:30:15.296 [main] DEBUG [main][connect()] - Das ist der MIBIdentifierJson:                                            {&quot;data&quot;:[{&quot;id&quot;:&quot;&quot;,&quot;name&quot;:&quot;this is the auth-service of ViWi-ServiceRegistry&quot;,&quot;uri&quot;:&quot;auth\\/&quot;}],&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1002380}                                                                                                                     \n08:30:15.401 [main] DEBUG [main][connect()] - JSONUtilsCommunication.ResponseObject@6321e813                                \n08:30:15.402 [main] DEBUG [main][connect()] - Hier noch alles gut!                                                          \n08:30:15.598 [main] DEBUG [Registrationprocess] - KeyPair abgeschlossen KeyPair: java.security.KeyPair@77167fb7\n08:30:15.619 [main] DEBUG [Registrationprocess] - PKCS10CertificationRequest erfolgreich abgeschlossen                  \n08:30:15.626 [main] DEBUG [Registrationprocess] - X509 Selbstsigniertes Certifikat erstelltorg.bouncycastle.cert.X509CertificateHolder@ad1a4e8d                                                                                                 Registration started                                                                                                    RegistrationSocked erstellt                                                                                             \n08:30:15.627 [main] DEBUG Registrationsocked] - Connect registration socket using timeout: 3000\n08:30:15.638 [main] DEBUG Registrationsocked] - Client Inputstream: %s                                                                                                                                                                          \n08:30:15.638 [main] DEBUG Registrationsocked] - Client Outputstream: %s                                                                                                                                                                         \n08:30:15.639 [main] DEBUG Registrationsocked] - TlsClientProtocol                                                       \n08:30:15.639 [main] DEBUG Registrationsocked] - connect now via tls                                                     \n08:30:15.639 [main] DEBUG Registrationsocked] - TLS Client:                                                             Registration.RegistrationTlsClient@441772e                                                                              \n08:30:15.639 [main] DEBUG Registrationsocked] - TLS Client:                                                             Registration.RegistrationTlsClient$1@14dd9eb7                                                                           java.io.IOException: Internal TLS error, this could be an attackCould not perform registration process. \n</code></pre>\n<p>the problem lays in the method openTLSConnection and I don't know what I done wrong. Maybe it gives another way to get an TLS connection or clientconnection. thanks forward for comments!</p>\n"},{"tags":["java","grails"],"answers":[{"tags":[],"owner":{"account_id":10953634,"reputation":605,"user_id":8049180,"display_name":"wubbalubba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692029880,"creation_date":1692029880,"answer_id":76900586,"question_id":76685167,"body_markdown":"Add `logger(&quot;grails.plugins.mail&quot;, DEBUG)` to your `grails-app/conf/logback.groovy` file so it looks something like this at the bottom:\r\n```groovy\r\ndef targetDir = BuildSettings.TARGET_DIR\r\nif (Environment.isDevelopmentMode() &amp;&amp; targetDir != null) {\r\n    appender(&quot;FULL_STACKTRACE&quot;, FileAppender) {\r\n        file = &quot;${targetDir}/stacktrace.log&quot;\r\n        append = true\r\n        encoder(PatternLayoutEncoder) {\r\n            pattern = &quot;%level %logger - %msg%n&quot;\r\n        }\r\n    }\r\n    logger(&quot;StackTrace&quot;, ERROR, [&#39;FULL_STACKTRACE&#39;], false)\r\n}\r\n\r\nlogger(&quot;grails.plugins.mail&quot;, DEBUG)\r\n\r\nroot(ERROR, [&#39;STDOUT&#39;])\r\n```\r\n\r\nIn Grails 5 and Grails 6 where the logback configuration is stored in an XML file (`grails-app/conf/logback.xml`), the same thing can be accomplished by adding `&lt;logger name=&quot;grails.plugins.mail&quot; level=&quot;DEBUG&quot;/&gt;`.","title":"Grails mail.debug not producing any output on tomcat9","body":"<p>Add <code>logger(&quot;grails.plugins.mail&quot;, DEBUG)</code> to your <code>grails-app/conf/logback.groovy</code> file so it looks something like this at the bottom:</p>\n<pre><code>def targetDir = BuildSettings.TARGET_DIR\nif (Environment.isDevelopmentMode() &amp;&amp; targetDir != null) {\n    appender(&quot;FULL_STACKTRACE&quot;, FileAppender) {\n        file = &quot;${targetDir}/stacktrace.log&quot;\n        append = true\n        encoder(PatternLayoutEncoder) {\n            pattern = &quot;%level %logger - %msg%n&quot;\n        }\n    }\n    logger(&quot;StackTrace&quot;, ERROR, ['FULL_STACKTRACE'], false)\n}\n\nlogger(&quot;grails.plugins.mail&quot;, DEBUG)\n\nroot(ERROR, ['STDOUT'])\n</code></pre>\n<p>In Grails 5 and Grails 6 where the logback configuration is stored in an XML file (<code>grails-app/conf/logback.xml</code>), the same thing can be accomplished by adding <code>&lt;logger name=&quot;grails.plugins.mail&quot; level=&quot;DEBUG&quot;/&gt;</code>.</p>\n"}],"owner":{"account_id":3266517,"reputation":334,"user_id":2750910,"accept_rate":85,"display_name":"Fish-Guts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692029880,"creation_date":1689315989,"question_id":76685167,"body_markdown":"Users have reported they don&#39;t receive mails. To assist them I need to debug the mails on the test environment. However, mail.debug doesn&#39;t produce any output. It works fine on my Dev Environment but I need to do this on the test environment as the e-mail adress in question has IP restrictions on it. My config file is as followed:\r\n\r\n    grails:\r\n    mail:\r\n        disabled: &quot;false&quot;\r\n        overrideAddress: &quot;xxx&quot;\r\n        host: &quot;smtp-relay.gmail.com&quot;\r\n        port: 465\r\n        username: &quot;xxx&quot;\r\n        password: &quot;xxx&quot;\r\n        props:\r\n            mail.smtp.auth: &quot;true&quot;\r\n            mail.smtp.socketFactory.port: &quot;465&quot;\r\n            mail.smtp.socketFactory.class: &quot;javax.net.ssl.SSLSocketFactory&quot;\r\n            mail.smtp.socketFactory.fallback: &quot;false&quot;\r\n            mail.smtp.ssl.enable: &quot;true&quot;\r\n            mail.debug: &quot;true&quot;\r\n    grails.plugin.springsecurity.ui:\r\n        register:\r\n            emailFrom: &quot;xxx&quot;\r\n            emailSubject: &quot;xxx&quot;\r\n        forgotPassword:\r\n            emailFrom: &quot;xxx&quot;\r\n            emailSubject: &quot;xxx&quot;\r\n\r\n\r\nPlease note that all the entries marked with &quot;xxx&quot; are correctly configured, I just masked them here for security reasons. \r\n\r\nIt&#39;s grails version 3.3.4 deployed on Tomcat 9, Java Version is 8. \r\n\r\nI also tried passing \r\n\r\n    -Dmail.debug=true\r\n\r\nand all the log levels are set to DEBUG. \r\n\r\nto the Java VM. However, the log produces absolutely nothing regarding mails. \r\n\r\nIs there anything I can configure to get some output? ","title":"Grails mail.debug not producing any output on tomcat9","body":"<p>Users have reported they don't receive mails. To assist them I need to debug the mails on the test environment. However, mail.debug doesn't produce any output. It works fine on my Dev Environment but I need to do this on the test environment as the e-mail adress in question has IP restrictions on it. My config file is as followed:</p>\n<pre><code>grails:\nmail:\n    disabled: &quot;false&quot;\n    overrideAddress: &quot;xxx&quot;\n    host: &quot;smtp-relay.gmail.com&quot;\n    port: 465\n    username: &quot;xxx&quot;\n    password: &quot;xxx&quot;\n    props:\n        mail.smtp.auth: &quot;true&quot;\n        mail.smtp.socketFactory.port: &quot;465&quot;\n        mail.smtp.socketFactory.class: &quot;javax.net.ssl.SSLSocketFactory&quot;\n        mail.smtp.socketFactory.fallback: &quot;false&quot;\n        mail.smtp.ssl.enable: &quot;true&quot;\n        mail.debug: &quot;true&quot;\ngrails.plugin.springsecurity.ui:\n    register:\n        emailFrom: &quot;xxx&quot;\n        emailSubject: &quot;xxx&quot;\n    forgotPassword:\n        emailFrom: &quot;xxx&quot;\n        emailSubject: &quot;xxx&quot;\n</code></pre>\n<p>Please note that all the entries marked with &quot;xxx&quot; are correctly configured, I just masked them here for security reasons.</p>\n<p>It's grails version 3.3.4 deployed on Tomcat 9, Java Version is 8.</p>\n<p>I also tried passing</p>\n<pre><code>-Dmail.debug=true\n</code></pre>\n<p>and all the log levels are set to DEBUG.</p>\n<p>to the Java VM. However, the log produces absolutely nothing regarding mails.</p>\n<p>Is there anything I can configure to get some output?</p>\n"},{"tags":["java","javafx","label"],"comments":[{"owner":{"account_id":2887481,"reputation":1735,"user_id":2476976,"display_name":"Kenneth Clark"},"score":0,"creation_date":1432561800,"post_id":30439848,"comment_id":48962419,"body_markdown":"possible duplicate of [Javafx textfield resize to text lenght?](http://stackoverflow.com/questions/12737829/javafx-textfield-resize-to-text-lenght)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/12737829/javafx-textfield-resize-to-text-lenght\">Javafx textfield resize to text lenght?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6360938,"reputation":1153,"user_id":4936458,"accept_rate":75,"display_name":"Steven Van Impe"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1432561809,"creation_date":1432561809,"answer_id":30439938,"question_id":30439848,"body_markdown":"If you want to make sure your label stays big enough for the text it holds, you probably want to set its minimum size to track its preferred size:\r\n\r\n    label.setMinWidth(Region.USE_PREF_SIZE);\r\n","title":"How to adjust Label&#39;s width to fit its content?","body":"<p>If you want to make sure your label stays big enough for the text it holds, you probably want to set its minimum size to track its preferred size:</p>\n\n<pre><code>label.setMinWidth(Region.USE_PREF_SIZE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5219222,"reputation":93,"user_id":4173204,"display_name":"Zyxl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692029703,"creation_date":1692029703,"answer_id":76900568,"question_id":30439848,"body_markdown":"Here&#39;s a solution where you can also set a min and max width based on the size of the unclipped content.\r\n\r\nFor example, if you want to limit how much the label can get clipped and how long the label can be, but otherwise have the label width be the exact length necessary to show the full content. Here I show at least half of the unclipped width and at least 50px, but max 200px:\r\n\r\n    label.minWidthProperty().bind(Bindings.createDoubleBinding(\r\n    \t\t() -&gt; Math.max(label.prefWidth(-1) / 2, 50), // Show at least half of content and at least 50px\r\n    \t\tlabel.textProperty(), label.graphicProperty(), label.prefWidthProperty(), label.layoutBoundsProperty()));\r\n    label.maxWidthProperty().bind(Bindings.createDoubleBinding(\r\n    \t\t() -&gt; Math.min(label.prefWidth(-1), 200), // Show content up to 200px\r\n    \t\tlabel.textProperty(), label.graphicProperty(), label.prefWidthProperty(), label.layoutBoundsProperty()));\r\n\r\nThis is robust to changes in the label text or graphic. If you&#39;re going to change other things affecting the content size after the label is rendered then you may need to add some other observables to the list of dependencies, e.g. `label.graphicTextGapProperty()`.","title":"How to adjust Label&#39;s width to fit its content?","body":"<p>Here's a solution where you can also set a min and max width based on the size of the unclipped content.</p>\n<p>For example, if you want to limit how much the label can get clipped and how long the label can be, but otherwise have the label width be the exact length necessary to show the full content. Here I show at least half of the unclipped width and at least 50px, but max 200px:</p>\n<pre><code>label.minWidthProperty().bind(Bindings.createDoubleBinding(\n        () -&gt; Math.max(label.prefWidth(-1) / 2, 50), // Show at least half of content and at least 50px\n        label.textProperty(), label.graphicProperty(), label.prefWidthProperty(), label.layoutBoundsProperty()));\nlabel.maxWidthProperty().bind(Bindings.createDoubleBinding(\n        () -&gt; Math.min(label.prefWidth(-1), 200), // Show content up to 200px\n        label.textProperty(), label.graphicProperty(), label.prefWidthProperty(), label.layoutBoundsProperty()));\n</code></pre>\n<p>This is robust to changes in the label text or graphic. If you're going to change other things affecting the content size after the label is rendered then you may need to add some other observables to the list of dependencies, e.g. <code>label.graphicTextGapProperty()</code>.</p>\n"}],"owner":{"account_id":3136367,"reputation":5058,"user_id":2652811,"accept_rate":58,"display_name":"bluevoxel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15880,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1692029703,"creation_date":1432561548,"question_id":30439848,"body_markdown":"How one can adjust minimum width of the JavaFX 8 (8_45) Label control item according to its content? To this very moment I had to adjust size of my GUI components manually, in order to be sure, that their content will be visible no matter what will happen with the size of its parent (eg. HBox, Scene, Stage or whatever), ie.:\r\n\r\n    Label label = new Label(&quot;Foo foo foo&quot;);\r\n    label.setMinWidth(someMinValue);\r\n\r\nIs there a way to make Label or any other JavaFX control item to &quot;listen&quot; its content and adjust its width to it automatically? Thank you in advance.","title":"How to adjust Label&#39;s width to fit its content?","body":"<p>How one can adjust minimum width of the JavaFX 8 (8_45) Label control item according to its content? To this very moment I had to adjust size of my GUI components manually, in order to be sure, that their content will be visible no matter what will happen with the size of its parent (eg. HBox, Scene, Stage or whatever), ie.:</p>\n\n<pre><code>Label label = new Label(\"Foo foo foo\");\nlabel.setMinWidth(someMinValue);\n</code></pre>\n\n<p>Is there a way to make Label or any other JavaFX control item to \"listen\" its content and adjust its width to it automatically? Thank you in advance.</p>\n"},{"tags":["java","spring","mongodb","rest"],"answers":[{"tags":[],"owner":{"account_id":4778121,"reputation":4535,"user_id":3860691,"accept_rate":58,"display_name":"Eka Rudianto"},"down_vote_count":0,"up_vote_count":227,"is_accepted":true,"score":227,"last_activity_date":1503663655,"creation_date":1491126890,"answer_id":43166993,"question_id":42907553,"body_markdown":"Solved it. So by default, all packages that falls under `@SpringBootApplication` declaration will be scanned.\r\n\r\nAssuming my main class `ExampleApplication` that has `@SpringBootApplication` declaration is declared inside `com.example.something`, then all components that falls under `com.example.something` is scanned while `com.example.applicant` will not be scanned.\r\n\r\nSo, there are two ways to do it based on this [question][1]. Use\r\n\r\n    @SpringBootApplication(scanBasePackages={\r\n    &quot;com.example.something&quot;, &quot;com.example.application&quot;})\r\n\r\nThat way, the application will scan all the specified components, but I think what if the scale were getting bigger ? \r\n\r\nSo I use the second approach, by restructuring my packages and it worked ! Now my packages structure became like this.\r\n\r\n    src/\r\n    ├── main/\r\n    │   └── java/\r\n    |       ├── com.example/\r\n    |       |   └── Application.java\r\n    |       ├── com.example.model/\r\n    |       |   └── User.java\r\n    |       ├── com.example.controller/\r\n    |       |   ├── IndexController.java\r\n    |       |   └── UsersController.java\r\n    |       └── com.example.service/\r\n    |           └── UserService.java\r\n    └── resources/\r\n        └── application.properties\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40384056/consider-defining-a-bean-of-type-package-in-your-configuration-spring-boot","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>Solved it. So by default, all packages that falls under <code>@SpringBootApplication</code> declaration will be scanned.</p>\n\n<p>Assuming my main class <code>ExampleApplication</code> that has <code>@SpringBootApplication</code> declaration is declared inside <code>com.example.something</code>, then all components that falls under <code>com.example.something</code> is scanned while <code>com.example.applicant</code> will not be scanned.</p>\n\n<p>So, there are two ways to do it based on this <a href=\"https://stackoverflow.com/questions/40384056/consider-defining-a-bean-of-type-package-in-your-configuration-spring-boot\">question</a>. Use</p>\n\n<pre><code>@SpringBootApplication(scanBasePackages={\n\"com.example.something\", \"com.example.application\"})\n</code></pre>\n\n<p>That way, the application will scan all the specified components, but I think what if the scale were getting bigger ? </p>\n\n<p>So I use the second approach, by restructuring my packages and it worked ! Now my packages structure became like this.</p>\n\n<pre><code>src/\n├── main/\n│   └── java/\n|       ├── com.example/\n|       |   └── Application.java\n|       ├── com.example.model/\n|       |   └── User.java\n|       ├── com.example.controller/\n|       |   ├── IndexController.java\n|       |   └── UsersController.java\n|       └── com.example.service/\n|           └── UserService.java\n└── resources/\n    └── application.properties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10840524,"reputation":1471,"user_id":7971907,"display_name":"dzzxjl"},"down_vote_count":0,"up_vote_count":137,"is_accepted":false,"score":137,"last_activity_date":1500275343,"creation_date":1500268487,"answer_id":45136391,"question_id":42907553,"body_markdown":"Add the `@Service` in the service/UserService.java.","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>Add the <code>@Service</code> in the service/UserService.java.</p>\n"},{"tags":[],"owner":{"account_id":7144957,"reputation":549,"user_id":5461035,"accept_rate":78,"display_name":"Vitali"},"down_vote_count":3,"up_vote_count":24,"is_accepted":false,"score":21,"last_activity_date":1513899404,"creation_date":1513899404,"answer_id":47934153,"question_id":42907553,"body_markdown":"Spent a lot of time because of the auto-import.\r\nIntellij Idea somewhy imported `@Service` from `import org.jvnet.hk2.annotations.Service;` instead of `import org.springframework.stereotype.Service;`!","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>Spent a lot of time because of the auto-import.\nIntellij Idea somewhy imported <code>@Service</code> from <code>import org.jvnet.hk2.annotations.Service;</code> instead of <code>import org.springframework.stereotype.Service;</code>!</p>\n"},{"tags":[],"owner":{"account_id":17912,"reputation":3052,"user_id":40570,"accept_rate":60,"display_name":"shabby"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1579627032,"creation_date":1516269273,"answer_id":48318353,"question_id":42907553,"body_markdown":"I also had the same error:\r\n\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field repository in com.kalsym.next.gen.campaign.controller.CampaignController required a bean of type &#39;com.kalsym.next.gen.campaign.data.CustomerRepository&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.kalsym.next.gen.campaign.data.CustomerRepository&#39; in your configuration.de here\r\n\r\n\r\nAnd my packages were constructed in the same way as mentioned in the accepted answer. I fixed my issue by adding EnableMongoRepositories annotation in the main class like this:\r\n\r\n\r\n    @SpringBootApplication\r\n    @EnableMongoRepositories(basePackageClasses = CustomerRepository.class)\r\n    public class CampaignAPI {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(CampaignAPI.class, args);\r\n        }\r\n    }\r\n\r\nIf you need to add multiple don&#39;t forget the curly braces:\r\n\r\n    @EnableMongoRepositories(basePackageClasses\r\n        = {\r\n            MSASMSRepository.class, APartyMappingRepository.class\r\n        })\r\n\r\n\r\n","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>I also had the same error:</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField repository in com.kalsym.next.gen.campaign.controller.CampaignController required a bean of type 'com.kalsym.next.gen.campaign.data.CustomerRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.kalsym.next.gen.campaign.data.CustomerRepository' in your configuration.de here\n</code></pre>\n\n<p>And my packages were constructed in the same way as mentioned in the accepted answer. I fixed my issue by adding EnableMongoRepositories annotation in the main class like this:</p>\n\n<pre><code>@SpringBootApplication\n@EnableMongoRepositories(basePackageClasses = CustomerRepository.class)\npublic class CampaignAPI {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CampaignAPI.class, args);\n    }\n}\n</code></pre>\n\n<p>If you need to add multiple don't forget the curly braces:</p>\n\n<pre><code>@EnableMongoRepositories(basePackageClasses\n    = {\n        MSASMSRepository.class, APartyMappingRepository.class\n    })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13121103,"reputation":163,"user_id":9478489,"display_name":"shubham bansal"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1523957272,"creation_date":1523957272,"answer_id":49874480,"question_id":42907553,"body_markdown":"Add the @Component in your controller class. May this work ","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>Add the @Component in your controller class. May this work </p>\n"},{"tags":[],"owner":{"account_id":2477517,"reputation":41,"user_id":2157827,"display_name":"Ahmad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557380728,"creation_date":1524334041,"answer_id":49958765,"question_id":42907553,"body_markdown":"I have same Issue, fixed by Adding\r\n**@EnableMongoRepositories(&quot;in.topthree.util&quot;)**\r\n\r\n    package in.topthree.core;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\n    \r\n    import in.topthree.util.Student;\r\n    \r\n    @SpringBootApplication\r\n    @EnableMongoRepositories(&quot;in.topthree.util&quot;)\r\n    public class Run implements CommandLineRunner {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Run.class, args);\r\n    \t\tSystem.out.println(&quot;Run&quot;);\r\n    \t}\r\n    \r\n    \t@Autowired\r\n    \tprivate Process pr;\r\n    \t\r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \t\tpr.saveDB(new Student(&quot;Testing&quot;, &quot;FB&quot;));\r\n    \t\tSystem.exit(0);\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd my Repository is:\r\n\r\n\tpackage in.topthree.util;\r\n\r\n\timport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\n\tpublic interface StudentMongo extends MongoRepository&lt;Student, Integer&gt; {\r\n\r\n\t\tpublic Student findByUrl(String url);\r\n\t}\r\n\r\n\r\n\r\n\r\nNow Its Working","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>I have same Issue, fixed by Adding\n<strong>@EnableMongoRepositories(\"in.topthree.util\")</strong></p>\n\n<pre><code>package in.topthree.core;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\n\nimport in.topthree.util.Student;\n\n@SpringBootApplication\n@EnableMongoRepositories(\"in.topthree.util\")\npublic class Run implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Run.class, args);\n        System.out.println(\"Run\");\n    }\n\n    @Autowired\n    private Process pr;\n\n    @Override\n    public void run(String... args) throws Exception {\n        pr.saveDB(new Student(\"Testing\", \"FB\"));\n        System.exit(0);\n    }\n\n}\n</code></pre>\n\n<p>And my Repository is:</p>\n\n<pre><code>package in.topthree.util;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic interface StudentMongo extends MongoRepository&lt;Student, Integer&gt; {\n\n    public Student findByUrl(String url);\n}\n</code></pre>\n\n<p>Now Its Working</p>\n"},{"tags":[],"owner":{"account_id":2152996,"reputation":2186,"user_id":1908827,"display_name":"Akash Yellappa"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1525561868,"creation_date":1525561868,"answer_id":50194822,"question_id":42907553,"body_markdown":"I encountered the same issue and all I had to do was to place the Application in a package one level higher than the service, dao and domain packages.","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>I encountered the same issue and all I had to do was to place the Application in a package one level higher than the service, dao and domain packages.</p>\n"},{"tags":[],"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1529585429,"creation_date":1526444043,"answer_id":50362374,"question_id":42907553,"body_markdown":"Normally we can solve this problem in two aspects:\r\n\r\n1. proper annotation should be used for *Spring Boot* scanning the **bean**, like `@Component`;\r\n2. the **scanning** path will include the classes just as all others mentioned above. \r\n\r\nBy the way, there is a very good explanation for the difference among [@Component,  @Repository, @Service, and @Controller](https://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in#answer-6897038).","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>Normally we can solve this problem in two aspects:</p>\n\n<ol>\n<li>proper annotation should be used for <em>Spring Boot</em> scanning the <strong>bean</strong>, like <code>@Component</code>;</li>\n<li>the <strong>scanning</strong> path will include the classes just as all others mentioned above. </li>\n</ol>\n\n<p>By the way, there is a very good explanation for the difference among <a href=\"https://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in#answer-6897038\">@Component,  @Repository, @Service, and @Controller</a>.</p>\n"},{"tags":[],"owner":{"account_id":2684354,"reputation":183,"user_id":2319032,"display_name":"Anand"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1532950253,"creation_date":1532948134,"answer_id":51592410,"question_id":42907553,"body_markdown":"Using this solved my issue.\r\n\r\n    @SpringBootApplication(scanBasePackages={&quot;com.example.something&quot;, &quot;com.example.application&quot;})","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>Using this solved my issue.</p>\n\n<pre><code>@SpringBootApplication(scanBasePackages={\"com.example.something\", \"com.example.application\"})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9457960,"reputation":21,"user_id":7032630,"display_name":"benymor"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1533289722,"creation_date":1533289722,"answer_id":51669894,"question_id":42907553,"body_markdown":"This may happen when two beans have same names.\r\n\r\n`Module1Beans.java`：\r\n\r\n    @Configuration\r\n    public class Module1Beans {\r\n        @Bean\r\n        public GoogleAPI retrofitService(){\r\n            Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl(&quot;https://www.google.com/&quot;)\r\n                    .addConverterFactory(JacksonConverterFactory.create())\r\n                    .build();\r\n            return retrofit.create(GoogleAPI.class);\r\n        }\r\n    }\r\n\r\n\r\n`Module2Beans.java`：\r\n\r\n    @Configuration\r\n    public class Module2Beans {\r\n        @Bean\r\n        public GithubAPI retrofitService(){\r\n            Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl(&quot;https://www.github.com/&quot;)\r\n                    .addConverterFactory(JacksonConverterFactory.create())\r\n                    .build();\r\n            return retrofit.create(GithubAPI.class);\r\n        }\r\n    }\r\n\r\nA bean named `retrofitService` is first created, and it&#39;s type is `GoogleAPI`, then covered by a `GithubAPI` becauce they&#39;re both created by a `retrofitService()` method. \r\nNow when you `@Autowired` a `GoogleAPI` you&#39;ll get a message like `Field googleAPI in com.example.GoogleService required a bean of type &#39;com.example.rest.GoogleAPI&#39; that could not be found.`\r\n","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>This may happen when two beans have same names.</p>\n\n<p><code>Module1Beans.java</code>：</p>\n\n<pre><code>@Configuration\npublic class Module1Beans {\n    @Bean\n    public GoogleAPI retrofitService(){\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(\"https://www.google.com/\")\n                .addConverterFactory(JacksonConverterFactory.create())\n                .build();\n        return retrofit.create(GoogleAPI.class);\n    }\n}\n</code></pre>\n\n<p><code>Module2Beans.java</code>：</p>\n\n<pre><code>@Configuration\npublic class Module2Beans {\n    @Bean\n    public GithubAPI retrofitService(){\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(\"https://www.github.com/\")\n                .addConverterFactory(JacksonConverterFactory.create())\n                .build();\n        return retrofit.create(GithubAPI.class);\n    }\n}\n</code></pre>\n\n<p>A bean named <code>retrofitService</code> is first created, and it's type is <code>GoogleAPI</code>, then covered by a <code>GithubAPI</code> becauce they're both created by a <code>retrofitService()</code> method. \nNow when you <code>@Autowired</code> a <code>GoogleAPI</code> you'll get a message like <code>Field googleAPI in com.example.GoogleService required a bean of type 'com.example.rest.GoogleAPI' that could not be found.</code></p>\n"},{"tags":[],"owner":{"account_id":5979955,"reputation":349,"user_id":4699375,"accept_rate":86,"display_name":"Zain Elabidine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534786892,"creation_date":1534786892,"answer_id":51935959,"question_id":42907553,"body_markdown":"In my case i have just put the Class MyprojectApplication in a package(com.example.start) with the same level of model, controller,service packages.\r\n\r\n","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>In my case i have just put the Class MyprojectApplication in a package(com.example.start) with the same level of model, controller,service packages.</p>\n"},{"tags":[],"owner":{"account_id":1587820,"reputation":627,"user_id":1471779,"accept_rate":67,"display_name":"Bhushan Karmarkar"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1541055599,"creation_date":1541055599,"answer_id":53096512,"question_id":42907553,"body_markdown":"This thread is old now but I am posting my answer, which may be useful for others.\r\n\r\nI had the same issue.\r\nIt turned out that there is another class with the same name in other module. I renamed that class and it solved the issue.","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>This thread is old now but I am posting my answer, which may be useful for others.</p>\n\n<p>I had the same issue.\nIt turned out that there is another class with the same name in other module. I renamed that class and it solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":6532574,"reputation":2212,"user_id":5053266,"accept_rate":67,"display_name":"RotS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543239750,"creation_date":1543239750,"answer_id":53482420,"question_id":42907553,"body_markdown":"My Mapper implementation classes in my target folder had been deleted, so my Mapper interfaces had no implementation classes anymore. Thus I got the same error `Field *** required a bean of type ***Mapper that could not be found.`\r\n\r\nI simply had to regenerate my mappers implementations with maven, and refresh the project...","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>My Mapper implementation classes in my target folder had been deleted, so my Mapper interfaces had no implementation classes anymore. Thus I got the same error <code>Field *** required a bean of type ***Mapper that could not be found.</code></p>\n\n<p>I simply had to regenerate my mappers implementations with maven, and refresh the project...</p>\n"},{"tags":[],"owner":{"account_id":8631946,"reputation":1017,"user_id":6607763,"display_name":"Łukasz Kotyński"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546722433,"creation_date":1546722433,"answer_id":54056271,"question_id":42907553,"body_markdown":"I have come to this post looking for help while using Spring Webflux with Mongo Repository.\r\n\r\nMy error was similar to owner\r\n\r\n    Field usersRepository in foobar.UsersService required\r\n    a bean of type &#39;foobar.UsersRepository&#39; that could not be found.\r\n\r\nAs I was working before with Spring MVC I was surprised by this error.\r\n\r\nBecause finding help was not so obvious I&#39;m putting answer to this question as it is somehow related and this question is high in search results.\r\n\r\nFirst thing is you must remember about what was mentioned in answer marked as accepted - package hierarchy.\r\n\r\nSecond important thing is that if you use Webflux you need to use some different package while when using Spring MVC e.g. for MongoDB you need to add\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nwith **-reactive** at the end.","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>I have come to this post looking for help while using Spring Webflux with Mongo Repository.</p>\n\n<p>My error was similar to owner</p>\n\n<pre><code>Field usersRepository in foobar.UsersService required\na bean of type 'foobar.UsersRepository' that could not be found.\n</code></pre>\n\n<p>As I was working before with Spring MVC I was surprised by this error.</p>\n\n<p>Because finding help was not so obvious I'm putting answer to this question as it is somehow related and this question is high in search results.</p>\n\n<p>First thing is you must remember about what was mentioned in answer marked as accepted - package hierarchy.</p>\n\n<p>Second important thing is that if you use Webflux you need to use some different package while when using Spring MVC e.g. for MongoDB you need to add</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>with <strong>-reactive</strong> at the end.</p>\n"},{"tags":[],"owner":{"account_id":10008395,"reputation":115,"user_id":7402015,"display_name":"Kashmir54"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1556524039,"creation_date":1556524039,"answer_id":55898981,"question_id":42907553,"body_markdown":"Using all @ Annotations fixed my problem. (Yes, I&#39;m new into Spring)\r\nIf you are using a service class add @Service, and same for @Controller and @Repository.\r\n\r\nThen this annotations on the App.java fixed the issue (I&#39;m using JPA + Hibernate)\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration(exclude = { ErrorMvcAutoConfiguration.class })\r\n    @ComponentScan(basePackages = {&quot;es.unileon.inso2&quot;})\r\n    @EntityScan(&quot;es.unileon.inso2.model&quot;)\r\n    @EnableJpaRepositories(&quot;es.unileon.inso2.repository&quot;)\r\n\r\nPackage tree:\r\n\r\n    src/\r\n    ├── main/\r\n    │   └── java/\r\n    |       ├── es.unileon.inso2/\r\n    |       |   └── App.java\r\n    |       ├── es.unileon.inso2.model/\r\n    |       |   └── User.java\r\n    |       ├── es.unileon.inso2.controller/\r\n    |       |   ├── IndexController.java\r\n    |       |   └── UserController.java\r\n    |       ├── es.unileon.inso2.service/\r\n    |       |    └── UserService.java\r\n    |       └── es.unileon.inso2.repository/\r\n    |            └── UserRepository.java\r\n    └── resources/\r\n        └── application.properties\r\n","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>Using all @ Annotations fixed my problem. (Yes, I'm new into Spring)\nIf you are using a service class add @Service, and same for @Controller and @Repository.</p>\n\n<p>Then this annotations on the App.java fixed the issue (I'm using JPA + Hibernate)</p>\n\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration(exclude = { ErrorMvcAutoConfiguration.class })\n@ComponentScan(basePackages = {\"es.unileon.inso2\"})\n@EntityScan(\"es.unileon.inso2.model\")\n@EnableJpaRepositories(\"es.unileon.inso2.repository\")\n</code></pre>\n\n<p>Package tree:</p>\n\n<pre><code>src/\n├── main/\n│   └── java/\n|       ├── es.unileon.inso2/\n|       |   └── App.java\n|       ├── es.unileon.inso2.model/\n|       |   └── User.java\n|       ├── es.unileon.inso2.controller/\n|       |   ├── IndexController.java\n|       |   └── UserController.java\n|       ├── es.unileon.inso2.service/\n|       |    └── UserService.java\n|       └── es.unileon.inso2.repository/\n|            └── UserRepository.java\n└── resources/\n    └── application.properties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7919693,"reputation":1311,"user_id":5981077,"display_name":"ColdFire"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1559329640,"creation_date":1559329640,"answer_id":56400548,"question_id":42907553,"body_markdown":"You have to add the `@Service` annotation to the implementation of your service. \r\n","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>You have to add the <code>@Service</code> annotation to the implementation of your service. </p>\n"},{"tags":[],"owner":{"account_id":10494317,"reputation":2364,"user_id":7735112,"accept_rate":77,"display_name":"Cyber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578562115,"creation_date":1578562115,"answer_id":59660848,"question_id":42907553,"body_markdown":"I know it is old, but wanna add my 5 cents.\r\n\r\nI used `.service` and `.service.impl` in a folder structure to separate the service with it&#39;s implementation. Forget to implement the ServiceImplementation piece.","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>I know it is old, but wanna add my 5 cents.</p>\n\n<p>I used <code>.service</code> and <code>.service.impl</code> in a folder structure to separate the service with it's implementation. Forget to implement the ServiceImplementation piece.</p>\n"},{"tags":[],"owner":{"account_id":8058011,"reputation":118,"user_id":6074458,"display_name":"sonOFAthena"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1586819579,"creation_date":1586819579,"answer_id":61198258,"question_id":42907553,"body_markdown":"**Add** @Repository in you dao class\r\n\r\n**example:**\r\n\r\n    @Repository\r\n    public class DaoClassName implements IIntefaceDao {\r\n    }","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p><strong>Add</strong> @Repository in you dao class</p>\n\n<p><strong>example:</strong></p>\n\n<pre><code>@Repository\npublic class DaoClassName implements IIntefaceDao {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11574148,"reputation":399,"user_id":8480036,"display_name":"Ashish Singh"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1657015967,"creation_date":1589442546,"answer_id":61792008,"question_id":42907553,"body_markdown":"I had the same issue. My mistake was that I used `@Service` annotation on the Service Interface.\r\nThe `@Service` annotation should be applied to the ServiceImpl class.\r\n","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>I had the same issue. My mistake was that I used <code>@Service</code> annotation on the Service Interface.\nThe <code>@Service</code> annotation should be applied to the ServiceImpl class.</p>\n"},{"tags":[],"owner":{"account_id":2697123,"reputation":353,"user_id":2328851,"display_name":"biddut"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1592604027,"creation_date":1592604027,"answer_id":62479116,"question_id":42907553,"body_markdown":"Add @Repository in your dao class\r\n\r\n\r\n\r\n        @Repository\r\n        public interface UserDao extends CrudRepository&lt;User, Long&gt; {\r\n\t         User findByUsername(String username);\r\n\t         User findByEmail(String email);\t\r\n          }\r\n","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>Add @Repository in your dao class</p>\n\n<pre><code>    @Repository\n    public interface UserDao extends CrudRepository&lt;User, Long&gt; {\n         User findByUsername(String username);\n         User findByEmail(String email);    \n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5281693,"reputation":702,"user_id":4216826,"display_name":"mumbasa"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1657015953,"creation_date":1594018085,"answer_id":62750660,"question_id":42907553,"body_markdown":"I had the same problem I removed the `@Autowired` Annotation from the controller. If your repository is a class then the Autowired Annotation is needed to use the repository but when it is an interface you do not need to add the `@Autowired` Annotation from my experience.","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>I had the same problem I removed the <code>@Autowired</code> Annotation from the controller. If your repository is a class then the Autowired Annotation is needed to use the repository but when it is an interface you do not need to add the <code>@Autowired</code> Annotation from my experience.</p>\n"},{"tags":[],"owner":{"account_id":1400521,"reputation":664,"user_id":1329403,"accept_rate":0,"display_name":"duracell"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1657015938,"creation_date":1595292288,"answer_id":63005777,"question_id":42907553,"body_markdown":"you have to import  `spring-boot-starter-data-jpa`\r\nas dependency if you use spring boot","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>you have to import  <code>spring-boot-starter-data-jpa</code>\nas dependency if you use spring boot</p>\n"},{"tags":[],"owner":{"account_id":17789506,"reputation":369,"user_id":12918869,"display_name":"noob"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1687246858,"creation_date":1595313926,"answer_id":63008845,"question_id":42907553,"body_markdown":"In order to spring to create bean and inject it into the class, class should be marked with **@Componet,@service or @Repository** any one of the annotation, in your context it should be\r\n\r\n    package main.java.service;\r\n    \r\n    import java.util.List;\r\n    import main.java.model.User;\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    @Repository\r\n    public interface UserService extends MongoRepository&lt;User, String&gt; {\r\n        public List&lt;User&gt; findAll();\r\n    }","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>In order to spring to create bean and inject it into the class, class should be marked with <strong>@Componet,@service or @Repository</strong> any one of the annotation, in your context it should be</p>\n<pre><code>package main.java.service;\n\nimport java.util.List;\nimport main.java.model.User;\nimport org.springframework.data.mongodb.repository.MongoRepository;\n@Repository\npublic interface UserService extends MongoRepository&lt;User, String&gt; {\n    public List&lt;User&gt; findAll();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598377041,"creation_date":1598377041,"answer_id":63584303,"question_id":42907553,"body_markdown":"For me this message:\r\n\r\n    org.apache.wicket.WicketRuntimeException: Can&#39;t instantiate page using constructor &#39;public org.package.MyClass(org.apache.wicket.request.mapper.parameter.PageParameters)&#39; and argument &#39;&#39;. Might be it doesn&#39;t exist, may be it is not visible (public).\r\n\r\nmeant &quot;in my wicket unit test at the top you have to manually add that bean in like&quot;\r\n\r\n    appContext.putBean(myClass);\r\n","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>For me this message:</p>\n<pre><code>org.apache.wicket.WicketRuntimeException: Can't instantiate page using constructor 'public org.package.MyClass(org.apache.wicket.request.mapper.parameter.PageParameters)' and argument ''. Might be it doesn't exist, may be it is not visible (public).\n</code></pre>\n<p>meant &quot;in my wicket unit test at the top you have to manually add that bean in like&quot;</p>\n<pre><code>appContext.putBean(myClass);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11499580,"reputation":73,"user_id":8427763,"display_name":"Shubham Debnath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598859675,"creation_date":1598859675,"answer_id":63666714,"question_id":42907553,"body_markdown":"I followed all steps and instructions followed by OP here, took care of blank space around username and password(even though spring takes care of whitespaces in properties file), still was either facing \r\n\r\n    could not find bean for ___Repository\r\n\r\n(you interface which extends JPARepository)\r\n\r\nOR after adding @EnableJPARepository\r\n\r\n    could not find bean for EntityManagerFactory\r\n\r\ni solved it by changing spring boot starter parent version from 2.3.2 to 2.2.1 in pom.xml\r\n\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n    \t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nand adding following dependency\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nI did not need to add any of following, spring boot does it itself\r\n\r\n1) @EnableJPAReposity - since i already had all class with same root package\r\n2) spring.data.jpa.repositories.enabled  in application.properties\r\n3) spring.datasource.driverClassName=com.mysql.jdbc.Driver in application properties","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>I followed all steps and instructions followed by OP here, took care of blank space around username and password(even though spring takes care of whitespaces in properties file), still was either facing</p>\n<pre><code>could not find bean for ___Repository\n</code></pre>\n<p>(you interface which extends JPARepository)</p>\n<p>OR after adding @EnableJPARepository</p>\n<pre><code>could not find bean for EntityManagerFactory\n</code></pre>\n<p>i solved it by changing spring boot starter parent version from 2.3.2 to 2.2.1 in pom.xml</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>and adding following dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I did not need to add any of following, spring boot does it itself</p>\n<ol>\n<li>@EnableJPAReposity - since i already had all class with same root package</li>\n<li>spring.data.jpa.repositories.enabled  in application.properties</li>\n<li>spring.datasource.driverClassName=com.mysql.jdbc.Driver in application properties</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5747337,"reputation":365,"user_id":4538204,"display_name":"eriegz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1601414840,"creation_date":1601414840,"answer_id":64127875,"question_id":42907553,"body_markdown":"For anybody who was brought here by googling the generic bean error message, but who is actually trying to add a ***feign client*** to their Spring Boot application via the `@FeignClient` annotation on your client interface, none of the above solutions will work for you.\r\n\r\nTo fix the problem, you need to add the `@EnableFeignClients` annotation to your Application class, like so:\r\n\r\n```\r\n@SpringBootApplication\r\n// ... (other pre-existing annotations) ...\r\n@EnableFeignClients // &lt;------- THE IMPORTANT ONE\r\npublic class Application {\r\n```\r\n\r\nIn this way, the fix is similar to the `@EnableMongoRepositories` fix mentioned above. It&#39;s a shame that this generic error message requires such a tailored fix for every type of circumstance...","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>For anybody who was brought here by googling the generic bean error message, but who is actually trying to add a <em><strong>feign client</strong></em> to their Spring Boot application via the <code>@FeignClient</code> annotation on your client interface, none of the above solutions will work for you.</p>\n<p>To fix the problem, you need to add the <code>@EnableFeignClients</code> annotation to your Application class, like so:</p>\n<pre><code>@SpringBootApplication\n// ... (other pre-existing annotations) ...\n@EnableFeignClients // &lt;------- THE IMPORTANT ONE\npublic class Application {\n</code></pre>\n<p>In this way, the fix is similar to the <code>@EnableMongoRepositories</code> fix mentioned above. It's a shame that this generic error message requires such a tailored fix for every type of circumstance...</p>\n"},{"tags":[],"owner":{"account_id":17253239,"reputation":53,"user_id":12492930,"display_name":"Akshay kharade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604322458,"creation_date":1604322458,"answer_id":64646192,"question_id":42907553,"body_markdown":"Two types of mongo dependencies - \r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt; \r\n\r\nTwo types of repositories -\r\n\r\n    MongoRepository\r\n    ReactiveMongoRepository\r\n\r\n\r\nMake sure you are using the right combination.\r\n","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>Two types of mongo dependencies -</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>Two types of repositories -</p>\n<pre><code>MongoRepository\nReactiveMongoRepository\n</code></pre>\n<p>Make sure you are using the right combination.</p>\n"},{"tags":[],"owner":{"account_id":12866635,"reputation":71,"user_id":9306690,"display_name":"ali shahriarimanesh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657015925,"creation_date":1625217445,"answer_id":68222625,"question_id":42907553,"body_markdown":"you can add `@Service`, when defining your service class\r\n\r\nex:\r\n\r\n    \r\n    @Service\r\n    public class myService {\r\n    \r\n        public String getData(){\r\n    \t   return &quot;some data&quot;;\r\n    \t}\r\n    \r\n    }","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>you can add <code>@Service</code>, when defining your service class</p>\n<p>ex:</p>\n<pre><code>@Service\npublic class myService {\n\n    public String getData(){\n       return &quot;some data&quot;;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657015903,"creation_date":1626800162,"answer_id":68458682,"question_id":42907553,"body_markdown":"The class annotated with `@SpringBootApplication` should be in **your root package** (by default all classes in this `package and subpackages are scanned`) or you need to specify other packages (controller, entity and others) in @ComponentScan.\r\n\r\nIn order to create bean and inject it class in spring framework, `Class` should be marked with **@Componet, @Service or @Repository** in class level accordingly.  Make sure you have used it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AinMw.png","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>The class annotated with <code>@SpringBootApplication</code> should be in <strong>your root package</strong> (by default all classes in this <code>package and subpackages are scanned</code>) or you need to specify other packages (controller, entity and others) in @ComponentScan.</p>\n<p>In order to create bean and inject it class in spring framework, <code>Class</code> should be marked with <strong>@Componet, @Service or @Repository</strong> in class level accordingly.  Make sure you have used it.</p>\n<p><a href=\"https://i.stack.imgur.com/AinMw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AinMw.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13822754,"reputation":392,"user_id":9977815,"display_name":"mnagdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627315411,"creation_date":1627315411,"answer_id":68533105,"question_id":42907553,"body_markdown":"Putting this value in `application.properties` worked for me\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n    \r\nNote that if your package structure is the same as that in the accepted answer, all you need is `@SpringBootApplication` annotation on your main class (no additional parameters inside it)\r\n\r\nSource : \r\nhttps://stackoverflow.com/questions/52164599/spring-boot-field-required-a-bean-of-type-that-could-not-be-found","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>Putting this value in <code>application.properties</code> worked for me</p>\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n</code></pre>\n<p>Note that if your package structure is the same as that in the accepted answer, all you need is <code>@SpringBootApplication</code> annotation on your main class (no additional parameters inside it)</p>\n<p>Source :\n<a href=\"https://stackoverflow.com/questions/52164599/spring-boot-field-required-a-bean-of-type-that-could-not-be-found\">Spring boot Field required a bean of type that could not be found</a></p>\n"},{"tags":[],"owner":{"account_id":13508670,"reputation":205,"user_id":9745785,"display_name":"karalis1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628778817,"creation_date":1628778817,"answer_id":68759422,"question_id":42907553,"body_markdown":"Spent about 2 hours debugging this error then somewhat figured out I forgot to add Spring Web Mvc Dependency \r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>Spent about 2 hours debugging this error then somewhat figured out I forgot to add Spring Web Mvc Dependency</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;5.3.9&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16311951,"reputation":313,"user_id":11780318,"display_name":"Andre TOKAM"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657015882,"creation_date":1630458273,"answer_id":69006726,"question_id":42907553,"body_markdown":"You need to add to your main class a `@ComponentScan` annotation, telling it to scan the package of the services, otherwise it will not initialize these beans","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>You need to add to your main class a <code>@ComponentScan</code> annotation, telling it to scan the package of the services, otherwise it will not initialize these beans</p>\n"},{"tags":[],"owner":{"account_id":18835999,"reputation":21,"user_id":15004758,"display_name":"Restonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635075426,"creation_date":1635075426,"answer_id":69696355,"question_id":42907553,"body_markdown":"For me adding dependency &#39;org.mongodb:mongodb-driver-sync:4.3.2&#39; works perfectly.\r\nDidn&#39;t found that answer here.","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>For me adding dependency 'org.mongodb:mongodb-driver-sync:4.3.2' works perfectly.\nDidn't found that answer here.</p>\n"},{"tags":[],"owner":{"account_id":20559507,"reputation":41,"user_id":15090313,"display_name":"ChillDochMal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637736405,"creation_date":1637736405,"answer_id":70091720,"question_id":42907553,"body_markdown":"ONLY INTERESTING IF YOU TRY TO AUTOWIRE AN ABSTRACT CLASS!\r\n\r\nYou are running in to this issue because Spring Boot can&#39;t find an abstract class by default. \r\n\r\nFirst, an abstract class isn&#39;t component-scanned since it can&#39;t be instantiated without a concrete subclass.\r\n\r\nMeans you have to create a subclass for this abstract class to solve the issue.","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>ONLY INTERESTING IF YOU TRY TO AUTOWIRE AN ABSTRACT CLASS!</p>\n<p>You are running in to this issue because Spring Boot can't find an abstract class by default.</p>\n<p>First, an abstract class isn't component-scanned since it can't be instantiated without a concrete subclass.</p>\n<p>Means you have to create a subclass for this abstract class to solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":12033544,"reputation":89,"user_id":8802951,"display_name":"mehmed akif ay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654681233,"creation_date":1654681233,"answer_id":72543420,"question_id":42907553,"body_markdown":"I was wondering problem for hours. The reason was this excluding command. I added this before for testing (then forgot). I am sure someone can make the same mistake.\r\n\r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\n\r\n... change to fix:\r\n\r\n    @SpringBootApplication","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>I was wondering problem for hours. The reason was this excluding command. I added this before for testing (then forgot). I am sure someone can make the same mistake.</p>\n<pre><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\n</code></pre>\n<p>... change to fix:</p>\n<pre><code>@SpringBootApplication\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20354189,"reputation":13,"user_id":14930106,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662703179,"creation_date":1662318917,"answer_id":73602140,"question_id":42907553,"body_markdown":"Faced same issue when initialise the gradle project in kotlin.\r\n\r\n**Reason:** Actually it is not able to scan build.gradle.kts file.\r\n\r\n**Solution:** We can add a `@ComponentScan(&quot;build.gradle.kts&quot;)` before the main function declaration so that it can go to the gradle file and scan all the required dependencies.","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>Faced same issue when initialise the gradle project in kotlin.</p>\n<p><strong>Reason:</strong> Actually it is not able to scan build.gradle.kts file.</p>\n<p><strong>Solution:</strong> We can add a <code>@ComponentScan(&quot;build.gradle.kts&quot;)</code> before the main function declaration so that it can go to the gradle file and scan all the required dependencies.</p>\n"},{"tags":[],"owner":{"account_id":1597864,"reputation":869,"user_id":4154338,"accept_rate":90,"display_name":"rogger2016"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674312204,"creation_date":1674312204,"answer_id":75194154,"question_id":42907553,"body_markdown":"This error will happen when you add this ...\r\n\r\n```\r\n   &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n   &lt;/dependency&gt;\r\n```\r\n\r\ninstead of this...\r\n\r\n```\r\n   &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n   &lt;/dependency&gt;\r\n```\r\nIn your scenario remove the `-reactive` and the bean creation should work","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>This error will happen when you add this ...</p>\n<pre><code>   &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>instead of this...</p>\n<pre><code>   &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>In your scenario remove the <code>-reactive</code> and the bean creation should work</p>\n"},{"tags":[],"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692029411,"creation_date":1692029411,"answer_id":76900530,"question_id":42907553,"body_markdown":"For those searching for the root cause of this error message, in my case it was due to a (JSON) file dependency not being loaded for a Spring (Bean) Configuration class. Set up like so:\r\n\r\n    package my.package;\r\n    \r\n    import java.io.IOException;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    \r\n    @Configuration\r\n    public class MyConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tFileHelperUtils fileHelperUtils;\r\n    \r\n    \t@Bean\r\n    \tpublic MyMappingResponse getMyMappings() throws IOException {\r\n    \t\tString jsonResponse = fileHelperUtils.getFileAsString(&quot;MyMappings.json&quot;);\r\n    \t\treturn Common.mapJsonToObject(jsonResponse, MyMappingResponse.class);\r\n    \t}\r\n    }\r\n\r\nThe best solution in this case was to fix a JSON file issue, such that the file could be loaded at startup time correctly. MyMappings.json - this file&#39;s structure did not match that which was expected by the MyMappingResponse class.","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>For those searching for the root cause of this error message, in my case it was due to a (JSON) file dependency not being loaded for a Spring (Bean) Configuration class. Set up like so:</p>\n<pre><code>package my.package;\n\nimport java.io.IOException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n\n@Configuration\npublic class MyConfiguration {\n\n    @Autowired\n    FileHelperUtils fileHelperUtils;\n\n    @Bean\n    public MyMappingResponse getMyMappings() throws IOException {\n        String jsonResponse = fileHelperUtils.getFileAsString(&quot;MyMappings.json&quot;);\n        return Common.mapJsonToObject(jsonResponse, MyMappingResponse.class);\n    }\n}\n</code></pre>\n<p>The best solution in this case was to fix a JSON file issue, such that the file could be loaded at startup time correctly. MyMappings.json - this file's structure did not match that which was expected by the MyMappingResponse class.</p>\n"}],"owner":{"account_id":4778121,"reputation":4535,"user_id":3860691,"accept_rate":58,"display_name":"Eka Rudianto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650926,"favorite_count":0,"down_vote_count":0,"up_vote_count":189,"accepted_answer_id":43166993,"answer_count":38,"score":189,"last_activity_date":1692029411,"creation_date":1490023554,"question_id":42907553,"body_markdown":"So I&#39;ve been learning Spring in the couples of week, been following this tutorial\r\n\r\n[Building a RESTful Web Service][1]\r\n\r\n\r\nAll was well until I tried to integrate it to mongodb. So I follow this tutorial.\r\n\r\n[Accessing Data with MongoDB][2]\r\n\r\nBut my practice is partially still using the first one. So my project directory structure is like this.\r\n\r\n    src/\r\n    ├── main/\r\n    │   └── java/\r\n    |       ├── model/\r\n    |       |   └── User.java\r\n    |       ├── rest/\r\n    |       |   ├── Application.java\r\n    |       |   ├── IndexController.java\r\n    |       |   └── UsersController.java\r\n    |       └── service/\r\n    |           └── UserService.java\r\n    └── resources/\r\n        └── application.properties\r\n\r\nThis is my **model/User.java** file\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package main.java.model;\r\n    \r\n    import org.springframework.data.annotation.Id;\r\n    import org.springframework.data.mongodb.core.mapping.Document;\r\n    \r\n    @Document(collection=&quot;user&quot;)\r\n    public class User {\r\n    \r\n        private int age;\r\n        private String country; \r\n        @Id\r\n        private String id;\r\n        private String name;\r\n        \r\n    \r\n        public User() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        public String getCountry() {\r\n            return country;\r\n        }\r\n    \r\n        public void setCountry(String country) {\r\n            this.country = country;\r\n        }\r\n    }\r\n\r\nThis is my **rest/UsersController.java** file\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package main.java.rest;\r\n    \r\n    import java.util.List;\r\n    import main.java.service.UserService;\r\n    import main.java.model.User;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(value = &quot;/users&quot;)\r\n    public class UsersController {\r\n    \r\n        @Autowired\r\n    \tUserService userService;\r\n    \r\n        @RequestMapping(method = RequestMethod.GET)\r\n        public List&lt;User&gt; getAllUsers() {\r\n    \t\treturn userService.findAll();\r\n    \t}\r\n    }\r\n\r\nThis is my **service/UserService.java** file\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package main.java.service;\r\n    \r\n    import java.util.List;\r\n    import main.java.model.User;\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    \r\n    public interface UserService extends MongoRepository&lt;User, String&gt; {\r\n    \tpublic List&lt;User&gt; findAll();\r\n    }\r\n\r\nI could compile them (I&#39;m using gradle for compilation because I&#39;m following the tutorial), but when I run the jar file it was throwing this error.\r\n\r\n&gt; *************************** \r\n&gt; APPLICATION FAILED TO START\r\n&gt; ***************************\r\n&gt; \r\n&gt; Description:\r\n&gt; \r\n&gt; Field userService in main.java.rest.UsersController required a bean of\r\n&gt; type &#39;main.java.service.UserService&#39; that could not be found.\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type &#39;main.java.service.UserService&#39; in\r\n&gt; your configuration.\r\n\r\nNot sure what is wrong I start googling around and found that I need to include `Beans.xml` file and register the userService in it. I did that but it&#39;s not working. I&#39;m really new to this so I really have no clue on what&#39;s going on.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/rest-service/\r\n  [2]: https://spring.io/guides/gs/accessing-data-mongodb/","title":"&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb","body":"<p>So I've been learning Spring in the couples of week, been following this tutorial</p>\n\n<p><a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"noreferrer\">Building a RESTful Web Service</a></p>\n\n<p>All was well until I tried to integrate it to mongodb. So I follow this tutorial.</p>\n\n<p><a href=\"https://spring.io/guides/gs/accessing-data-mongodb/\" rel=\"noreferrer\">Accessing Data with MongoDB</a></p>\n\n<p>But my practice is partially still using the first one. So my project directory structure is like this.</p>\n\n<pre><code>src/\n├── main/\n│   └── java/\n|       ├── model/\n|       |   └── User.java\n|       ├── rest/\n|       |   ├── Application.java\n|       |   ├── IndexController.java\n|       |   └── UsersController.java\n|       └── service/\n|           └── UserService.java\n└── resources/\n    └── application.properties\n</code></pre>\n\n<p>This is my <strong>model/User.java</strong> file</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package main.java.model;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document(collection=\"user\")\npublic class User {\n\n    private int age;\n    private String country; \n    @Id\n    private String id;\n    private String name;\n\n\n    public User() {\n        super();\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public String getCountry() {\n        return country;\n    }\n\n    public void setCountry(String country) {\n        this.country = country;\n    }\n}\n</code></pre>\n\n<p>This is my <strong>rest/UsersController.java</strong> file</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package main.java.rest;\n\nimport java.util.List;\nimport main.java.service.UserService;\nimport main.java.model.User;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(value = \"/users\")\npublic class UsersController {\n\n    @Autowired\n    UserService userService;\n\n    @RequestMapping(method = RequestMethod.GET)\n    public List&lt;User&gt; getAllUsers() {\n        return userService.findAll();\n    }\n}\n</code></pre>\n\n<p>This is my <strong>service/UserService.java</strong> file</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package main.java.service;\n\nimport java.util.List;\nimport main.java.model.User;\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic interface UserService extends MongoRepository&lt;User, String&gt; {\n    public List&lt;User&gt; findAll();\n}\n</code></pre>\n\n<p>I could compile them (I'm using gradle for compilation because I'm following the tutorial), but when I run the jar file it was throwing this error.</p>\n\n<blockquote>\n  <hr>\n  \n  <p>APPLICATION FAILED TO START</p>\n  \n  <hr>\n  \n  <p>Description:</p>\n  \n  <p>Field userService in main.java.rest.UsersController required a bean of\n  type 'main.java.service.UserService' that could not be found.</p>\n  \n  <p>Action:</p>\n  \n  <p>Consider defining a bean of type 'main.java.service.UserService' in\n  your configuration.</p>\n</blockquote>\n\n<p>Not sure what is wrong I start googling around and found that I need to include <code>Beans.xml</code> file and register the userService in it. I did that but it's not working. I'm really new to this so I really have no clue on what's going on.</p>\n"},{"tags":["java","linux","spring-boot","ubuntu","spring-security"],"comments":[{"owner":{"account_id":1352610,"reputation":1933,"user_id":1291778,"accept_rate":50,"display_name":"aeskreis"},"score":0,"creation_date":1691703677,"post_id":76877789,"comment_id":135531373,"body_markdown":"Rather than allowing circular dependencies (which is not a great idea) you should instead instantiate any circular beans using the `@Lazy` annotation. This will instead inject a proxy which will not use the real bean until it&#39;s called at runtime. In this way  you can break the circular dependency chain and your application context will start up.","body":"Rather than allowing circular dependencies (which is not a great idea) you should instead instantiate any circular beans using the <code>@Lazy</code> annotation. This will instead inject a proxy which will not use the real bean until it&#39;s called at runtime. In this way  you can break the circular dependency chain and your application context will start up."},{"owner":{"account_id":19369993,"reputation":1,"user_id":14163490,"display_name":"falah"},"score":0,"creation_date":1691761530,"post_id":76877789,"comment_id":135539517,"body_markdown":"Can you help me identify where I should put `@Lazy`? I actually already suspice cause of this circular reference in `EmpServiceImpl.java` and put `@Lazy` on it but gave no effect (I have edit this question &amp; put this 1 more file--it is a service implementation). I want to intervene `EmployeeRepository` but the problem is it is an `interface` so I don&#39;t know what to with it.","body":"Can you help me identify where I should put <code>@Lazy</code>? I actually already suspice cause of this circular reference in <code>EmpServiceImpl.java</code> and put <code>@Lazy</code> on it but gave no effect (I have edit this question &amp; put this 1 more file--it is a service implementation). I want to intervene <code>EmployeeRepository</code> but the problem is it is an <code>interface</code> so I don&#39;t know what to with it."},{"owner":{"account_id":1352610,"reputation":1933,"user_id":1291778,"accept_rate":50,"display_name":"aeskreis"},"score":0,"creation_date":1691766751,"post_id":76877789,"comment_id":135540645,"body_markdown":"If you are using constructor initialization (which you should be, and if not you should change to constructor initialization), you should put it on the constructor parameter.","body":"If you are using constructor initialization (which you should be, and if not you should change to constructor initialization), you should put it on the constructor parameter."},{"owner":{"account_id":1352610,"reputation":1933,"user_id":1291778,"accept_rate":50,"display_name":"aeskreis"},"score":0,"creation_date":1691766888,"post_id":76877789,"comment_id":135540665,"body_markdown":"Also if you&#39;re using constructor initialization you don&#39;t need `@Autowired` on your member variable. I&#39;m pretty sure that&#39;s why the `@Lazy` annotation isn&#39;t having any effect.","body":"Also if you&#39;re using constructor initialization you don&#39;t need <code>@Autowired</code> on your member variable. I&#39;m pretty sure that&#39;s why the <code>@Lazy</code> annotation isn&#39;t having any effect."}],"answers":[{"tags":[],"owner":{"account_id":19369993,"reputation":1,"user_id":14163490,"display_name":"falah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692029098,"creation_date":1692029098,"answer_id":76900501,"question_id":76877789,"body_markdown":"Got it! I finally solve the circular reference after eliminate `extends WebSecurityConfiguration` from my codes in file `SecurityConfiguration.java`","title":"Spring Boot circular reference is already handled in application.properties but seems ignored by Java Spring Boot executable jar file","body":"<p>Got it! I finally solve the circular reference after eliminate <code>extends WebSecurityConfiguration</code> from my codes in file <code>SecurityConfiguration.java</code></p>\n"}],"owner":{"account_id":19369993,"reputation":1,"user_id":14163490,"display_name":"falah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76900501,"answer_count":1,"score":0,"last_activity_date":1692029098,"creation_date":1691686106,"question_id":76877789,"body_markdown":"So the case is I a created simple login employee management system by using Java Spring Boot (very basic so it enough to have login-logout and CRUD operation). I also tried to use Spring Security to secure the authentication.\r\n\r\nThis it the spec of my Java Spring Boot application:\r\n- spring tool suite 4.18.0.RELEASE\r\n- spring security 6\r\n- using java 17\r\n- built on top linux ubuntu 22.04\r\n- application.properties is already located in resource folder by default in `SBTLEmpManSys/src/main/resources`\r\n\r\nI will attach my java files related to the error, `application.properties`, &amp; `pom.xml` later but this is what I already handle. I have put this code `spring.main.allow-circular-references=true` in my `application.properties` to handle this error and it actually works\r\n\r\n```\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌─────┐\r\n|  securityConfiguration (field private org.springframework.security.config.annotation.web.builders.HttpSecurity org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.httpSecurity)\r\n↑     ↓\r\n|  org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]\r\n└─────┘\r\n```\r\n\r\nEverything works well when I ran it inside Spring Tool Suite IDE.\r\n\r\nBut the problem occur after I packed my Java Spring Boot application into executable jar file. It seems like file `application.properties` is ignored.\r\n\r\nThe circular reference seems happen in `EmpServiceImpl.java` around this line of codes:\r\n```\r\n@Service\r\npublic class EmpServiceImpl implements EmpService {\r\n\r\n\t@Autowired\r\n\tprivate EmployeeRepository empRepDAO;\r\n\t\r\n\t//public EmpServiceImpl(@Lazy EmployeeRepository empRepDAO) { //ANNOTATION &#39;@Lazy&#39; is ADDITION to AVOID CIRCULAR REFERENCE --&gt; ANNOTATION NOT WORKING\r\n\tpublic EmpServiceImpl(EmployeeRepository empRepDAO) {\r\n\t\tsuper();\r\n\t\tthis.empRepDAO = empRepDAO;\r\n\t}\r\n\r\n...[AND_SO_ON]\r\n```\r\n\r\nThe way I ran the jar file is by going into directory `target` via terminal and run it with `java -jar SBTLEmpManSys-0.0.1-SNAPSHOT.jar`. This is a snippet of error I got when I ran my app.\r\n\r\n```\r\nApplication run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;empServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;passwordEncoder&#39;: Error creating bean with name &#39;securityConfiguration&#39;: Unsatisfied dependency expressed through field &#39;httpSecurity&#39;: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method &#39;httpSecurity&#39; threw exception with message: Error creating bean with name &#39;passwordEncoder&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n```\r\n\r\nI wonder why the error message said this `Requested bean is currently in creation: Is there an unresolvable circular reference?` because it should be handled already in `application.properties`\r\n\r\nDoes anyone can help? Any help will be very appreciated. Thanks guys ;)\r\n\r\nThis is my `SecurityConfiguration.java`\r\n\r\n```\r\npackage com.kastamer.sbtl.config;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\nimport com.kastamer.sbtl.service.EmpService;\r\n\r\n@Configuration\r\n@PropertySource(value = &quot;classpath:application.properties&quot;)\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfiguration {\r\n\r\n\t@Autowired\r\n\tpublic EmpService empService;\r\n\t\r\n\t@Bean\r\n\tpublic BCryptPasswordEncoder passwordEncoder() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\thttp.authorizeHttpRequests((requests) -&gt; requests.requestMatchers(\r\n\t\t\t\t&quot;/registrasi&quot;,\r\n\t\t\t\t&quot;/js**&quot;,\r\n\t\t\t\t&quot;/css**&quot;,\r\n\t\t\t\t&quot;/img**&quot;)\r\n\t\t\t\t.permitAll().anyRequest().authenticated())\r\n\t\t.formLogin((form) -&gt; form.loginPage(&quot;/login&quot;).permitAll())\r\n\t\t.logout((logout) -&gt; logout.invalidateHttpSession(true).clearAuthentication(true).logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/login?logout&quot;).permitAll());\r\n\t\t\r\n\t\treturn http.build();\r\n\t}\r\n}\r\n```\r\n\r\nThis is my service file &#39;EmpServiceImpl.java&#39;:\r\n```\r\npackage com.kastamer.sbtl.service;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Lazy;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Sort;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.kastamer.sbtl.model.EmpRole;\r\nimport com.kastamer.sbtl.model.Employee;\r\nimport com.kastamer.sbtl.repository.EmployeeRepository;\r\nimport com.kastamer.sbtl.web.dto.EmpRegistrationDTO;\r\n\r\n@Service\r\npublic class EmpServiceImpl implements EmpService {\r\n\r\n\t@Autowired\r\n\tprivate EmployeeRepository empRepDAO; //this is interface extend JpaRepository&lt;Employee, Long&gt;\r\n\t\r\n\t@Autowired\r\n\tprivate BCryptPasswordEncoder passwordEncoder;\r\n\r\n\t//@Autowired //THIS is ADDITION to AVOID CIRCULAR REFERENCE --&gt; ANNOTATION NOT WORKING\r\n\t//public EmpServiceImpl(@Lazy EmployeeRepository empRepDAO) { //ANNOTATION &#39;@Lazy&#39; is ADDITION to AVOID CIRCULAR REFERENCE --&gt; ANNOTATION NOT WORKING\r\n\tpublic EmpServiceImpl(EmployeeRepository empRepDAO) {\r\n\t\tsuper();\r\n\t\tthis.empRepDAO = empRepDAO;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tEmployee pegawai = empRepDAO.findByEmail(username);\r\n\t\t\r\n\t\tif (pegawai == null) {\r\n\t\t\tthrow new UsernameNotFoundException(&quot;Email atau kata sandi tidak cocok!&quot;);\r\n\t\t}\r\n\t\t\r\n\t\treturn new org.springframework.security.core.userdetails.User(pegawai.getEmail(), pegawai.getPassword(), mapRolesToAuthority(pegawai.getRoles())); //return null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Employee save(EmpRegistrationDTO empRegistrationDTO) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tEmployee karyawan = new Employee(\r\n\t\t\t\tempRegistrationDTO.getFullName(),\r\n\t\t\t\tempRegistrationDTO.getEmail(),\r\n\t\t\t\tpasswordEncoder.encode(empRegistrationDTO.getPassword()),\r\n\t\t\t\tArrays.asList(new EmpRole(&quot;ROLE_USER&quot;)));\r\n\t\t\r\n\t\treturn empRepDAO.save(karyawan); //return null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void simpanPembaruanData(Employee employee) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\temployee.setPassword(passwordEncoder.encode(employee.getPassword()));\r\n\t\t\r\n\t\tthis.empRepDAO.save(employee);\r\n\t}\r\n\t\r\n\tprivate Collection&lt;? extends GrantedAuthority&gt; mapRolesToAuthority(Collection&lt;EmpRole&gt; roles) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getNamaRole())).collect(Collectors.toList());\r\n\t}\r\n\r\n\t//PART POJOK KARYAWAN\r\n\t@Override\r\n\tpublic List&lt;Employee&gt; getAllEmployees() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn empRepDAO.findAll(); //return null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Employee getEmployeeById(long id) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tOptional&lt;Employee&gt; optEmp = empRepDAO.findById(id);\r\n\t\tEmployee empl = null;\r\n\t\t\r\n\t\tif (optEmp.isPresent()) {\r\n\t\t\templ = optEmp.get();\r\n\t\t} else {\r\n\t\t\tthrow new RuntimeException(&quot;Karyawan dengan emp_id &#39;&quot; + id + &quot;&#39; tidak bisa ditemukan&quot;);\r\n\t\t}\r\n\t\t\r\n\t\treturn empl; //return null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteEmployeeById(long id) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthis.empRepDAO.deleteById(id);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Page&lt;Employee&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortAscOrDesc) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSort runut = sortAscOrDesc.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() : Sort.by(sortField).descending();\r\n\t\t\r\n\t\tPageable pageable = PageRequest.of(pageNo - 1, pageSize, runut);\r\n\t\t\r\n\t\treturn this.empRepDAO.findAll(pageable); //return null;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nThis is my `application.properties`:\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/myDB\r\nspring.datasource.username=[POSTGRES_USERNAME]\r\nspring.datasource.password=[POSTGRES_PASSWORD]\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nlogging.level.org.hibernate.sql=debug\r\nlogging.level.org.hibernate.type=trace\r\n#spring.jpa.show-sql=true\r\n\r\n# Default user login and password for spring security web login page (if spring security is enabled)\r\n#spring.security.user.name=spring\r\n#spring.security.user.password=spring123 \r\n#spring.security.user.roles=USER\r\n\r\nspring.main.allow-bean-definition-overriding=true\r\nspring.main.allow-circular-references=true\r\n```","title":"Spring Boot circular reference is already handled in application.properties but seems ignored by Java Spring Boot executable jar file","body":"<p>So the case is I a created simple login employee management system by using Java Spring Boot (very basic so it enough to have login-logout and CRUD operation). I also tried to use Spring Security to secure the authentication.</p>\n<p>This it the spec of my Java Spring Boot application:</p>\n<ul>\n<li>spring tool suite 4.18.0.RELEASE</li>\n<li>spring security 6</li>\n<li>using java 17</li>\n<li>built on top linux ubuntu 22.04</li>\n<li>application.properties is already located in resource folder by default in <code>SBTLEmpManSys/src/main/resources</code></li>\n</ul>\n<p>I will attach my java files related to the error, <code>application.properties</code>, &amp; <code>pom.xml</code> later but this is what I already handle. I have put this code <code>spring.main.allow-circular-references=true</code> in my <code>application.properties</code> to handle this error and it actually works</p>\n<pre><code>The dependencies of some of the beans in the application context form a cycle:\n\n┌─────┐\n|  securityConfiguration (field private org.springframework.security.config.annotation.web.builders.HttpSecurity org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.httpSecurity)\n↑     ↓\n|  org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]\n└─────┘\n</code></pre>\n<p>Everything works well when I ran it inside Spring Tool Suite IDE.</p>\n<p>But the problem occur after I packed my Java Spring Boot application into executable jar file. It seems like file <code>application.properties</code> is ignored.</p>\n<p>The circular reference seems happen in <code>EmpServiceImpl.java</code> around this line of codes:</p>\n<pre><code>@Service\npublic class EmpServiceImpl implements EmpService {\n\n    @Autowired\n    private EmployeeRepository empRepDAO;\n    \n    //public EmpServiceImpl(@Lazy EmployeeRepository empRepDAO) { //ANNOTATION '@Lazy' is ADDITION to AVOID CIRCULAR REFERENCE --&gt; ANNOTATION NOT WORKING\n    public EmpServiceImpl(EmployeeRepository empRepDAO) {\n        super();\n        this.empRepDAO = empRepDAO;\n    }\n\n...[AND_SO_ON]\n</code></pre>\n<p>The way I ran the jar file is by going into directory <code>target</code> via terminal and run it with <code>java -jar SBTLEmpManSys-0.0.1-SNAPSHOT.jar</code>. This is a snippet of error I got when I ran my app.</p>\n<pre><code>Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'empServiceImpl': Unsatisfied dependency expressed through field 'passwordEncoder': Error creating bean with name 'securityConfiguration': Unsatisfied dependency expressed through field 'httpSecurity': Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception with message: Error creating bean with name 'passwordEncoder': Requested bean is currently in creation: Is there an unresolvable circular reference?\n</code></pre>\n<p>I wonder why the error message said this <code>Requested bean is currently in creation: Is there an unresolvable circular reference?</code> because it should be handled already in <code>application.properties</code></p>\n<p>Does anyone can help? Any help will be very appreciated. Thanks guys ;)</p>\n<p>This is my <code>SecurityConfiguration.java</code></p>\n<pre><code>package com.kastamer.sbtl.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport com.kastamer.sbtl.service.EmpService;\n\n@Configuration\n@PropertySource(value = &quot;classpath:application.properties&quot;)\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfiguration {\n\n    @Autowired\n    public EmpService empService;\n    \n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        // TODO Auto-generated method stub\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\n        // TODO Auto-generated method stub\n        http.authorizeHttpRequests((requests) -&gt; requests.requestMatchers(\n                &quot;/registrasi&quot;,\n                &quot;/js**&quot;,\n                &quot;/css**&quot;,\n                &quot;/img**&quot;)\n                .permitAll().anyRequest().authenticated())\n        .formLogin((form) -&gt; form.loginPage(&quot;/login&quot;).permitAll())\n        .logout((logout) -&gt; logout.invalidateHttpSession(true).clearAuthentication(true).logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/login?logout&quot;).permitAll());\n        \n        return http.build();\n    }\n}\n</code></pre>\n<p>This is my service file 'EmpServiceImpl.java':</p>\n<pre><code>package com.kastamer.sbtl.service;\n\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.stream.Collectors;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Lazy;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport com.kastamer.sbtl.model.EmpRole;\nimport com.kastamer.sbtl.model.Employee;\nimport com.kastamer.sbtl.repository.EmployeeRepository;\nimport com.kastamer.sbtl.web.dto.EmpRegistrationDTO;\n\n@Service\npublic class EmpServiceImpl implements EmpService {\n\n    @Autowired\n    private EmployeeRepository empRepDAO; //this is interface extend JpaRepository&lt;Employee, Long&gt;\n    \n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n\n    //@Autowired //THIS is ADDITION to AVOID CIRCULAR REFERENCE --&gt; ANNOTATION NOT WORKING\n    //public EmpServiceImpl(@Lazy EmployeeRepository empRepDAO) { //ANNOTATION '@Lazy' is ADDITION to AVOID CIRCULAR REFERENCE --&gt; ANNOTATION NOT WORKING\n    public EmpServiceImpl(EmployeeRepository empRepDAO) {\n        super();\n        this.empRepDAO = empRepDAO;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        // TODO Auto-generated method stub\n        Employee pegawai = empRepDAO.findByEmail(username);\n        \n        if (pegawai == null) {\n            throw new UsernameNotFoundException(&quot;Email atau kata sandi tidak cocok!&quot;);\n        }\n        \n        return new org.springframework.security.core.userdetails.User(pegawai.getEmail(), pegawai.getPassword(), mapRolesToAuthority(pegawai.getRoles())); //return null;\n    }\n\n    @Override\n    public Employee save(EmpRegistrationDTO empRegistrationDTO) {\n        // TODO Auto-generated method stub\n        Employee karyawan = new Employee(\n                empRegistrationDTO.getFullName(),\n                empRegistrationDTO.getEmail(),\n                passwordEncoder.encode(empRegistrationDTO.getPassword()),\n                Arrays.asList(new EmpRole(&quot;ROLE_USER&quot;)));\n        \n        return empRepDAO.save(karyawan); //return null;\n    }\n\n    @Override\n    public void simpanPembaruanData(Employee employee) {\n        // TODO Auto-generated method stub\n        employee.setPassword(passwordEncoder.encode(employee.getPassword()));\n        \n        this.empRepDAO.save(employee);\n    }\n    \n    private Collection&lt;? extends GrantedAuthority&gt; mapRolesToAuthority(Collection&lt;EmpRole&gt; roles) {\n        // TODO Auto-generated method stub\n        return roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getNamaRole())).collect(Collectors.toList());\n    }\n\n    //PART POJOK KARYAWAN\n    @Override\n    public List&lt;Employee&gt; getAllEmployees() {\n        // TODO Auto-generated method stub\n        return empRepDAO.findAll(); //return null;\n    }\n\n    @Override\n    public Employee getEmployeeById(long id) {\n        // TODO Auto-generated method stub\n        Optional&lt;Employee&gt; optEmp = empRepDAO.findById(id);\n        Employee empl = null;\n        \n        if (optEmp.isPresent()) {\n            empl = optEmp.get();\n        } else {\n            throw new RuntimeException(&quot;Karyawan dengan emp_id '&quot; + id + &quot;' tidak bisa ditemukan&quot;);\n        }\n        \n        return empl; //return null;\n    }\n\n    @Override\n    public void deleteEmployeeById(long id) {\n        // TODO Auto-generated method stub\n        this.empRepDAO.deleteById(id);\n    }\n\n    @Override\n    public Page&lt;Employee&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortAscOrDesc) {\n        // TODO Auto-generated method stub\n        Sort runut = sortAscOrDesc.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() : Sort.by(sortField).descending();\n        \n        Pageable pageable = PageRequest.of(pageNo - 1, pageSize, runut);\n        \n        return this.empRepDAO.findAll(pageable); //return null;\n    }\n}\n</code></pre>\n<p>This is my <code>application.properties</code>:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/myDB\nspring.datasource.username=[POSTGRES_USERNAME]\nspring.datasource.password=[POSTGRES_PASSWORD]\nspring.datasource.driver-class-name=org.postgresql.Driver\n\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n\nspring.jpa.hibernate.ddl-auto=update\n\nlogging.level.org.hibernate.sql=debug\nlogging.level.org.hibernate.type=trace\n#spring.jpa.show-sql=true\n\n# Default user login and password for spring security web login page (if spring security is enabled)\n#spring.security.user.name=spring\n#spring.security.user.password=spring123 \n#spring.security.user.roles=USER\n\nspring.main.allow-bean-definition-overriding=true\nspring.main.allow-circular-references=true\n</code></pre>\n"},{"tags":["java","search","binary-search","square-bracket"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":5,"creation_date":1692006055,"post_id":76897816,"comment_id":135562535,"body_markdown":"It is an array of which the elements are arrays of integers.","body":"It is an array of which the elements are arrays of integers."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1692007200,"post_id":76897816,"comment_id":135562763,"body_markdown":"&quot;I tried finding about it on google ...&quot; - How about reading the Oracle Java tutorial?  https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","body":"&quot;I tried finding about it on google ...&quot; - How about reading the Oracle Java tutorial?  <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1692015648,"post_id":76897816,"comment_id":135564352,"body_markdown":"The clue is in the problem name:   .... Matrix ...","body":"The clue is in the problem name:   .... Matrix ..."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":1,"creation_date":1692016921,"post_id":76897816,"comment_id":135564581,"body_markdown":"@Stephen_C For each question you may ask on SO, there&#39;s a book or a web site you could read instead. This could go with all the questions you asked on SO too. When you are a complete beginner in Java, SO is helpful for you.","body":"@Stephen_C For each question you may ask on SO, there&#39;s a book or a web site you could read instead. This could go with all the questions you asked on SO too. When you are a complete beginner in Java, SO is helpful for you."}],"answers":[{"tags":[],"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692006642,"creation_date":1692006642,"answer_id":76897906,"question_id":76897816,"body_markdown":"It is a two-dimensional array, or an array of arrays of `int`.","title":"Meaning of two double brackets ([][]) in Java","body":"<p>It is a two-dimensional array, or an array of arrays of <code>int</code>.</p>\n"},{"tags":[],"owner":{"account_id":16014501,"reputation":61,"user_id":11557623,"display_name":"Ka&#39;Eios"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692008125,"creation_date":1692008125,"answer_id":76898060,"question_id":76897816,"body_markdown":"In Java, double brackets are used to represent 2D-Arrays (an array that contains arrays). \r\n\r\nIn your code example, this type is used to represent a 2D-Matrix containing integers. First coordinate correspond to rows and second to columns.\r\n\r\nExample : \r\n\r\n```JAVA\r\n/*\r\n    Consider 3x3 Matrix A\r\n    | 1 2 3 |\r\n    | 4 5 6 |\r\n    | 7 8 9 |\r\n*/\r\n\r\n// Represent matrix as a 2D-Array\r\nint[][] matrix = new int[][] {\r\n    {1, 2, 3}, // 1st row\r\n    {4, 5, 6}, // 2nd row\r\n    {7, 8, 9}, // 3rd row\r\n};\r\n\r\n// Access coefficient at A(1, 2)\r\nint value = matrix[0][1]; // A(1, 2) is at [0][1] in array because index start at 0.\r\n```","title":"Meaning of two double brackets ([][]) in Java","body":"<p>In Java, double brackets are used to represent 2D-Arrays (an array that contains arrays).</p>\n<p>In your code example, this type is used to represent a 2D-Matrix containing integers. First coordinate correspond to rows and second to columns.</p>\n<p>Example :</p>\n<pre><code>/*\n    Consider 3x3 Matrix A\n    | 1 2 3 |\n    | 4 5 6 |\n    | 7 8 9 |\n*/\n\n// Represent matrix as a 2D-Array\nint[][] matrix = new int[][] {\n    {1, 2, 3}, // 1st row\n    {4, 5, 6}, // 2nd row\n    {7, 8, 9}, // 3rd row\n};\n\n// Access coefficient at A(1, 2)\nint value = matrix[0][1]; // A(1, 2) is at [0][1] in array because index start at 0.\n</code></pre>\n"}],"owner":{"account_id":29221558,"reputation":17,"user_id":22387201,"display_name":"Abhishek Thakur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":2,"score":-2,"last_activity_date":1692028806,"creation_date":1692005810,"question_id":76897816,"body_markdown":"What is the role of a pair of double brackets (`[][]`) in Java?\r\n\r\nreference code(Leetcode 1351. Count Negative Numbers in a Sorted Matrix):\r\n\r\n```java\r\n\r\nclass Solution {\r\n  public int countNegatives(int[][] grid) {\r\n    final int m = grid.length;\r\n    final int n = grid[0].length;\r\n    int ans = 0;\r\n    int i = m - 1;\r\n    int j = 0;\r\n\r\n    while (i &gt;= 0 &amp;&amp; j &lt; n) {\r\n      if (grid[i][j] &lt; 0) {\r\n        ans += n - j;\r\n        --i;\r\n      } else {\r\n        ++j;\r\n      }\r\n    }\r\n\r\n    return ans;\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI tried finding about it on google but was not able to find anything regarding this. Please tell me why we use a double bracket here?","title":"Meaning of two double brackets ([][]) in Java","body":"<p>What is the role of a pair of double brackets (<code>[][]</code>) in Java?</p>\n<p>reference code(Leetcode 1351. Count Negative Numbers in a Sorted Matrix):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass Solution {\n  public int countNegatives(int[][] grid) {\n    final int m = grid.length;\n    final int n = grid[0].length;\n    int ans = 0;\n    int i = m - 1;\n    int j = 0;\n\n    while (i &gt;= 0 &amp;&amp; j &lt; n) {\n      if (grid[i][j] &lt; 0) {\n        ans += n - j;\n        --i;\n      } else {\n        ++j;\n      }\n    }\n\n    return ans;\n  }\n}\n\n</code></pre>\n<p>I tried finding about it on google but was not able to find anything regarding this. Please tell me why we use a double bracket here?</p>\n"},{"tags":["java","file","nio","nio2"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691273855,"post_id":76843673,"comment_id":135470330,"body_markdown":"`TRUNCATE_EXISTING, CREATE` *together* seem to do it","body":"<code>TRUNCATE_EXISTING, CREATE</code> <i>together</i> seem to do it"}],"answers":[{"tags":[],"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692028257,"creation_date":1691274976,"answer_id":76843805,"question_id":76843673,"body_markdown":"## `CREATE`, `WRITE`, &amp; `TRUNCATE_EXISTING`\r\n\r\nSo the behaviour you want is the effect of using CREATE, and TRUNCATE_EXISTING options with WRITE.\r\n\r\n```java\r\n    Files.write (\r\n            Paths.get ( &quot;/Users/My_UserName/Example.txt&quot; ) ,\r\n            List.of ( &quot;Hello world&quot; , Instant.now ( ).toString ( ) ) ,\r\n            StandardCharsets.UTF_8 ,\r\n            StandardOpenOption.CREATE ,\r\n            StandardOpenOption.WRITE ,\r\n            StandardOpenOption.TRUNCATE_EXISTING\r\n    );\r\n```\r\n\r\nFortunately, this is the default behaviour, as documented by both your API references like [Files.write](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#write(java.nio.file.Path,byte%5B%5D,java.nio.file.OpenOption...)) :\r\n\r\n&gt; If no options are present then this method works as if the CREATE,\r\n&gt; TRUNCATE_EXISTING, and WRITE options are present.\r\n\r\nSo simply don’t override that default - don’t give that WRITE, so\r\n\r\n```java\r\n    Files.write (\r\n            Paths.get ( &quot;/Users/My_UserName/Example.txt&quot; ) ,\r\n            List.of ( &quot;Hello world&quot; , Instant.now ( ).toString ( ) ) ,\r\n            StandardCharsets.UTF_8  \r\n            // &lt;--- Omitting the 3 CREATE, WRITE, &amp; TRUNCATE_EXISTING arguments.\r\n    );\r\n```\r\n\r\nAlso, the `Charset` parameter is [documented as optional][1], defaulting to [UTF-8][2], in Java 8+ (but not the original [Java 7 arrival of this class][3]). So we can further shorten your code to this:\r\n\r\n```java\r\n    Files.write (\r\n            Paths.get ( &quot;/Users/My_UserName/Example.txt&quot; ) ,\r\n            List.of ( &quot;Hello world&quot; , Instant.now ( ).toString ( ) ) \r\n            // &lt;--- Omitting the StandardCharsets.UTF_8  argument.\r\n            // &lt;--- Omitting the 3 CREATE, WRITE, &amp; TRUNCATE_EXISTING arguments.\r\n    );\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#write(java.nio.file.Path,java.lang.Iterable,java.nio.file.OpenOption...)\r\n  [2]: https://en.wikipedia.org/wiki/UTF-8\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html","title":"Replace a file, if existing, or else create a new file, using NIO.2 in Java 7+","body":"<h2><code>CREATE</code>, <code>WRITE</code>, &amp; <code>TRUNCATE_EXISTING</code></h2>\n<p>So the behaviour you want is the effect of using CREATE, and TRUNCATE_EXISTING options with WRITE.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Files.write (\n            Paths.get ( &quot;/Users/My_UserName/Example.txt&quot; ) ,\n            List.of ( &quot;Hello world&quot; , Instant.now ( ).toString ( ) ) ,\n            StandardCharsets.UTF_8 ,\n            StandardOpenOption.CREATE ,\n            StandardOpenOption.WRITE ,\n            StandardOpenOption.TRUNCATE_EXISTING\n    );\n</code></pre>\n<p>Fortunately, this is the default behaviour, as documented by both your API references like <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#write(java.nio.file.Path,byte%5B%5D,java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\">Files.write</a> :</p>\n<blockquote>\n<p>If no options are present then this method works as if the CREATE,\nTRUNCATE_EXISTING, and WRITE options are present.</p>\n</blockquote>\n<p>So simply don’t override that default - don’t give that WRITE, so</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Files.write (\n            Paths.get ( &quot;/Users/My_UserName/Example.txt&quot; ) ,\n            List.of ( &quot;Hello world&quot; , Instant.now ( ).toString ( ) ) ,\n            StandardCharsets.UTF_8  \n            // &lt;--- Omitting the 3 CREATE, WRITE, &amp; TRUNCATE_EXISTING arguments.\n    );\n</code></pre>\n<p>Also, the <code>Charset</code> parameter is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#write(java.nio.file.Path,java.lang.Iterable,java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\">documented as optional</a>, defaulting to <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">UTF-8</a>, in Java 8+ (but not the original <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">Java 7 arrival of this class</a>). So we can further shorten your code to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Files.write (\n            Paths.get ( &quot;/Users/My_UserName/Example.txt&quot; ) ,\n            List.of ( &quot;Hello world&quot; , Instant.now ( ).toString ( ) ) \n            // &lt;--- Omitting the StandardCharsets.UTF_8  argument.\n            // &lt;--- Omitting the 3 CREATE, WRITE, &amp; TRUNCATE_EXISTING arguments.\n    );\n</code></pre>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76843805,"answer_count":1,"score":1,"last_activity_date":1692028257,"creation_date":1691272277,"question_id":76843673,"body_markdown":"The [`Files.write`][1] &amp; [`Files.writeString`][2] methods in Java 7+ are a concise handy way to write text to a file. \r\n\r\n```java\r\ntry\r\n{\r\n    Files.write (\r\n            Paths.get ( &quot;/Users/My_UserName/Example.txt&quot; ) ,\r\n            List.of( &quot;Hello world&quot; , Instant.now().toString() ) ,\r\n            StandardCharsets.UTF_8 ,\r\n            StandardOpenOption.WRITE ;\r\n}\r\ncatch ( IOException e )\r\n{\r\n    throw new RuntimeException ( e );\r\n}\r\n```\r\n\r\nUnfortunately, I cannot get this to work the first time, before the file exists. I get an exception thrown:\r\n\r\n&gt;`java.nio.file.NoSuchFileException`\r\n\r\nMy goal is always blow away any existing file, to write a new fresh file.\r\n\r\nI tried adding `TRUNCATE_EXISTING`. \r\n\r\n```java\r\ntry\r\n{\r\n    Files.write (\r\n            Paths.get ( &quot;/Users/My_UserName/Example.txt&quot; ) ,\r\n            List.of( &quot;Hello world&quot; , Instant.now().toString() ) ,\r\n            StandardCharsets.UTF_8 ,\r\n            StandardOpenOption.WRITE,\r\n            StandardOpenOption.TRUNCATE_EXISTING );  // &lt;--- Combining Open-options.\r\n}\r\ncatch ( IOException e )\r\n{\r\n    throw new RuntimeException ( e );\r\n}\r\n```\r\n\r\nBut that too fails when the file does not already exist. \r\n\r\n&#128073;&#127996; Is there some combination of [`OpenOption`][3]/[`StandardOpenOption`][4] objects to make use of these convenient `Files` methods?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#write(java.nio.file.Path,byte%5B%5D,java.nio.file.OpenOption...)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.charset.Charset,java.nio.file.OpenOption...)\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/OpenOption.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/StandardOpenOption.html","title":"Replace a file, if existing, or else create a new file, using NIO.2 in Java 7+","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#write(java.nio.file.Path,byte%5B%5D,java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\"><code>Files.write</code></a> &amp; <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.charset.Charset,java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\"><code>Files.writeString</code></a> methods in Java 7+ are a concise handy way to write text to a file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try\n{\n    Files.write (\n            Paths.get ( &quot;/Users/My_UserName/Example.txt&quot; ) ,\n            List.of( &quot;Hello world&quot; , Instant.now().toString() ) ,\n            StandardCharsets.UTF_8 ,\n            StandardOpenOption.WRITE ;\n}\ncatch ( IOException e )\n{\n    throw new RuntimeException ( e );\n}\n</code></pre>\n<p>Unfortunately, I cannot get this to work the first time, before the file exists. I get an exception thrown:</p>\n<blockquote>\n<p><code>java.nio.file.NoSuchFileException</code></p>\n</blockquote>\n<p>My goal is always blow away any existing file, to write a new fresh file.</p>\n<p>I tried adding <code>TRUNCATE_EXISTING</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try\n{\n    Files.write (\n            Paths.get ( &quot;/Users/My_UserName/Example.txt&quot; ) ,\n            List.of( &quot;Hello world&quot; , Instant.now().toString() ) ,\n            StandardCharsets.UTF_8 ,\n            StandardOpenOption.WRITE,\n            StandardOpenOption.TRUNCATE_EXISTING );  // &lt;--- Combining Open-options.\n}\ncatch ( IOException e )\n{\n    throw new RuntimeException ( e );\n}\n</code></pre>\n<p>But that too fails when the file does not already exist.</p>\n<p>👉🏼 Is there some combination of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/OpenOption.html\" rel=\"nofollow noreferrer\"><code>OpenOption</code></a>/<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/StandardOpenOption.html\" rel=\"nofollow noreferrer\"><code>StandardOpenOption</code></a> objects to make use of these convenient <code>Files</code> methods?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692027012,"post_id":76900259,"comment_id":135566899,"body_markdown":"Why do you think it&#39;s not good enough? Are you getting incorrect output? Did you try to debug your code?","body":"Why do you think it&#39;s not good enough? Are you getting incorrect output? Did you try to debug your code?"},{"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"score":0,"creation_date":1692027067,"post_id":76900259,"comment_id":135566916,"body_markdown":"@Jorn I tried to get better/cleaner code","body":"@Jorn I tried to get better/cleaner code"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692027126,"post_id":76900259,"comment_id":135566935,"body_markdown":"If you are looking for improvements on working code, [codereview.se] is a better place to ask.","body":"If you are looking for improvements on working code, <a href=\"https://codereview.stackexchange.com\">Code Review</a> is a better place to ask."}],"answers":[{"tags":[],"owner":{"account_id":5979633,"reputation":2842,"user_id":4699160,"accept_rate":48,"display_name":"Saurabh Jhunjhunwala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692027335,"creation_date":1692027335,"answer_id":76900319,"question_id":76900259,"body_markdown":"I think you have too main `filters`, not sure if you really need them. I think you only need items where `foodInLunch.getName() == false` why don&#39;t you use \r\n\r\n    X.stream().map(Food::getName).collect(Collectors.toSet()).contains(foodInLunch.getName()) == false).collect(Collectors.toList());\r\n\r\nI think the above snippet should return the same result. You can pass `X` as a param. First case it would be food, and second it would be drink","title":"Java Stream: return exclusive elements by comparing atrribute value from two collections","body":"<p>I think you have too main <code>filters</code>, not sure if you really need them. I think you only need items where <code>foodInLunch.getName() == false</code> why don't you use</p>\n<pre><code>X.stream().map(Food::getName).collect(Collectors.toSet()).contains(foodInLunch.getName()) == false).collect(Collectors.toList());\n</code></pre>\n<p>I think the above snippet should return the same result. You can pass <code>X</code> as a param. First case it would be food, and second it would be drink</p>\n"}],"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692027335,"creation_date":1692026848,"question_id":76900259,"body_markdown":"Considering following POJO classes, please note all the attributes can be null and not wrapped by `Optional` \r\n\r\n    public class Food{\r\n\r\n        String name;    // can be null\r\n        Double weight;\r\n        \r\n        // gettes &amp; setters &amp; constructor\r\n    }\r\n\r\n    public class Drink{\r\n\r\n        String name;    // can be null\r\n        Long volume;\r\n        \r\n        // gettes &amp; setters &amp; constructor\r\n    }\r\n\r\n    public class Meal{\r\n        Long id;\r\n        Timetstamp date;\r\n        List&lt;Food&gt; foodList;\r\n        List&lt;Drink&gt; drinkList;\r\n        \r\n        // getters &amp; setters\r\n        // constructor\r\n    }\r\n\r\nNow there are 2 Meals I&#39;d like to find exclusive food and drink items \r\n\r\n    Meal lunch = new Meal();\r\n    Meal dinner = new Meal();\r\n\r\n    // .. skip logic to fill in attribute value for lunch &amp; dinner\r\n\r\n    List&lt;Food&gt; uniqueFoodInLunchAndDinner = ....    // require implementation\r\n    List&lt;Drink&gt; uniqueDrinkInLunchAndDinner = ....  // require implementation\r\n\r\n\r\nMy question is how to implement above logic using less code but also not sacrifice performance.  \r\n\r\nBlow is my code but I think it&#39;s not good enough\r\n\r\n    List&lt;Food&gt; getUniqueFoodInLunchAndDinner(Meal lunch, Meal dinner){\r\n\r\n        List&lt;Food&gt; missingFoodinDinner = lunch.getFood().stream.filter(Objects::nonNull).filter(foodInLunch -&gt; {\r\n            dinner.getFood().stream()\r\n                            .filter(Objects::nonNull)\r\n                            .map(Food::getName)\r\n                            .filter(Objects::nonNull)\r\n                            .collect(Collectors.toList())\r\n                            .contains(foodInLunch.getName()) == false).collect(Collectors.toList());\r\n        })\r\n\r\n        return dinner.getFood().addAll(missingFoodinDinner );\r\n\r\n    }\r\n\r\n    // same logic for drink...","title":"Java Stream: return exclusive elements by comparing atrribute value from two collections","body":"<p>Considering following POJO classes, please note all the attributes can be null and not wrapped by <code>Optional</code></p>\n<pre><code>public class Food{\n\n    String name;    // can be null\n    Double weight;\n    \n    // gettes &amp; setters &amp; constructor\n}\n\npublic class Drink{\n\n    String name;    // can be null\n    Long volume;\n    \n    // gettes &amp; setters &amp; constructor\n}\n\npublic class Meal{\n    Long id;\n    Timetstamp date;\n    List&lt;Food&gt; foodList;\n    List&lt;Drink&gt; drinkList;\n    \n    // getters &amp; setters\n    // constructor\n}\n</code></pre>\n<p>Now there are 2 Meals I'd like to find exclusive food and drink items</p>\n<pre><code>Meal lunch = new Meal();\nMeal dinner = new Meal();\n\n// .. skip logic to fill in attribute value for lunch &amp; dinner\n\nList&lt;Food&gt; uniqueFoodInLunchAndDinner = ....    // require implementation\nList&lt;Drink&gt; uniqueDrinkInLunchAndDinner = ....  // require implementation\n</code></pre>\n<p>My question is how to implement above logic using less code but also not sacrifice performance.</p>\n<p>Blow is my code but I think it's not good enough</p>\n<pre><code>List&lt;Food&gt; getUniqueFoodInLunchAndDinner(Meal lunch, Meal dinner){\n\n    List&lt;Food&gt; missingFoodinDinner = lunch.getFood().stream.filter(Objects::nonNull).filter(foodInLunch -&gt; {\n        dinner.getFood().stream()\n                        .filter(Objects::nonNull)\n                        .map(Food::getName)\n                        .filter(Objects::nonNull)\n                        .collect(Collectors.toList())\n                        .contains(foodInLunch.getName()) == false).collect(Collectors.toList());\n    })\n\n    return dinner.getFood().addAll(missingFoodinDinner );\n\n}\n\n// same logic for drink...\n</code></pre>\n"},{"tags":["java","spring-boot","nginx","server","request"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692025772,"post_id":76900118,"comment_id":135566641,"body_markdown":"Yes, if your request is getting aborted after a while, especially sensiblle defaults like 60, 120 or 300 seconds, it&#39;s probably a timeout somewhere. Could be on one of your proxies, or some other intermediate server.","body":"Yes, if your request is getting aborted after a while, especially sensiblle defaults like 60, 120 or 300 seconds, it&#39;s probably a timeout somewhere. Could be on one of your proxies, or some other intermediate server."},{"owner":{"account_id":25979387,"reputation":1,"user_id":19693378,"display_name":"Filip."},"score":0,"creation_date":1692048988,"post_id":76900118,"comment_id":135570498,"body_markdown":"Yeah I just checked and it gets aborted after 60 seconds. So what could be the solution of the problem? If I manage to change the timeout time, then the client should wait a couple of minutes to get a error message that will inform him that the image size is too large?","body":"Yeah I just checked and it gets aborted after 60 seconds. So what could be the solution of the problem? If I manage to change the timeout time, then the client should wait a couple of minutes to get a error message that will inform him that the image size is too large?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692080925,"post_id":76900118,"comment_id":135572956,"body_markdown":"If your backend is willing to accept images of that size, the best solution is to fix proxy settings to allow large requests. If not, you could check the `Content-Length` header (not always reliable) or you could terminate the request (just stop reading and respond with an appropriate error code) once the maximum size is exceeded.","body":"If your backend is willing to accept images of that size, the best solution is to fix proxy settings to allow large requests. If not, you could check the <code>Content-Length</code> header (not always reliable) or you could terminate the request (just stop reading and respond with an appropriate error code) once the maximum size is exceeded."}],"answers":[{"tags":[],"owner":{"account_id":5979633,"reputation":2842,"user_id":4699160,"accept_rate":48,"display_name":"Saurabh Jhunjhunwala"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692026881,"creation_date":1692026881,"answer_id":76900264,"question_id":76900118,"body_markdown":"There are two ways I can think of :\r\n\r\n 1. Encrypt your image in the client and send it as a stream. In the backend, you can decrypt and use it\r\n 2. Ask the client to upload the image to an external storage eg. S3, from where your back-end can read","title":"Request gets aborted when sending a large photo in the body","body":"<p>There are two ways I can think of :</p>\n<ol>\n<li>Encrypt your image in the client and send it as a stream. In the backend, you can decrypt and use it</li>\n<li>Ask the client to upload the image to an external storage eg. S3, from where your back-end can read</li>\n</ol>\n"}],"owner":{"account_id":25979387,"reputation":1,"user_id":19693378,"display_name":"Filip."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692026881,"creation_date":1692025685,"question_id":76900118,"body_markdown":"So I have a problem with my API, that handles a request bigger than 1mb locally (I am sending an image in the body). It needs to send an appropriate response message when a client sends a picture larger than 2mb.\r\n\r\n\r\nBut the problem lays on the server, it throws an 413 error that is referencing &quot;Nginx 413 Request Entity Too Large&quot;. And I tried fixing it with adding the \r\n```\r\nclient_max_body_size \r\n```\r\nand bumping it to a bigger size, it removed the response, but now postman is loading the request for a long period and then it just aborts the request.\r\n\r\nHas anyone had experience with this kind of problem, and what could be the solution. Could the proxy connection times be the solution of the problem?","title":"Request gets aborted when sending a large photo in the body","body":"<p>So I have a problem with my API, that handles a request bigger than 1mb locally (I am sending an image in the body). It needs to send an appropriate response message when a client sends a picture larger than 2mb.</p>\n<p>But the problem lays on the server, it throws an 413 error that is referencing &quot;Nginx 413 Request Entity Too Large&quot;. And I tried fixing it with adding the</p>\n<pre><code>client_max_body_size \n</code></pre>\n<p>and bumping it to a bigger size, it removed the response, but now postman is loading the request for a long period and then it just aborts the request.</p>\n<p>Has anyone had experience with this kind of problem, and what could be the solution. Could the proxy connection times be the solution of the problem?</p>\n"},{"tags":["java","jms","heap-memory","jms-serializer","jms-queue"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1692464956,"post_id":76883012,"comment_id":135628223,"body_markdown":"Any feedback here?","body":"Any feedback here?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692026335,"creation_date":1692026335,"answer_id":76900201,"question_id":76883012,"body_markdown":"There&#39;s no way to know for sure why your application is running out of memory based on the information you&#39;ve provided. You need to capture a heap dump when you hit the `OutOfMemoryError` and then analyze it to see what&#39;s consuming most of the memory.\r\n\r\nTo capture a heap dump when you hit the `OutOfMemoryError` you can use the `-XX:+HeapDumpOnOutOfMemoryError` JVM parameter as described [here][1].\r\n\r\nThere are many tools you can use to analyze the heap dump (e.g. [JVisualVM][2], [Eclipse MAT][3], etc.).\r\n\r\n\r\n  [1]: https://%60https://www.baeldung.com/java-heap-dump-capture#automatically\r\n  [2]: https://visualvm.github.io/\r\n  [3]: https://eclipse.dev/mat/","title":"JMS Service not pushing XML files to Queue. Stops processing in between and needed to restart the service to push the files further","body":"<p>There's no way to know for sure why your application is running out of memory based on the information you've provided. You need to capture a heap dump when you hit the <code>OutOfMemoryError</code> and then analyze it to see what's consuming most of the memory.</p>\n<p>To capture a heap dump when you hit the <code>OutOfMemoryError</code> you can use the <code>-XX:+HeapDumpOnOutOfMemoryError</code> JVM parameter as described <a href=\"https://%60https://www.baeldung.com/java-heap-dump-capture#automatically\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>There are many tools you can use to analyze the heap dump (e.g. <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">JVisualVM</a>, <a href=\"https://eclipse.dev/mat/\" rel=\"nofollow noreferrer\">Eclipse MAT</a>, etc.).</p>\n"}],"owner":{"account_id":29204921,"reputation":1,"user_id":22374238,"display_name":"PKSenapaty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692026335,"creation_date":1691752064,"question_id":76883012,"body_markdown":"There is a directory named `/var/xyz/aa/clm/data/infiles/SenderJMS/CE/L3/` where number of XML files are stored after a process runs. These files contain data to be pushed to remote server through a JMS queue. The queue is configured at client&#39;s cloud server.\r\n\r\nIn `SenderJMS` service code we just use the JMS config credentials and queue name and then start pushing the files. Sometime the XML file list increases to 20K/30K, and in error log we get &quot;OutOfMemoryError&quot;. Then the `SenderJMS` stops in the middle of processing. Then we are restarting the service to process, from where it stopped execution.\r\n\r\n**Crdentials:**\r\n```\r\nQueue Name: VS.REVFDX.CL10.PUB.LAS.TCF.L3\r\njndi.environment.property.key.java.naming.provider.url=ldap://apptstldap.corp.&lt;client_name&gt;.com:888/ou=messaging,dc=corp,dc=&lt;client_name&gt;,dc=com\r\ndestination.jndiName=fxClientDestinationUID=D.REVFDX.DLRS.ToBeInvoiced\r\n\r\nconnection.factory.userid= XYZ_UID\r\nconnection.factory.password= PWD\r\n```\r\n**JNDI Configuration**\r\n\r\n```java\r\n@Bean(name = &quot;jndiTemplate&quot;)\r\npublic JndiTemplate jndiTemplate() {\r\n    JndiTemplate jndiTemplate = new JndiTemplate();\r\n    Properties environment = new Properties();\r\n    environment.setProperty(&quot;java.naming.factory.initial&quot;, &quot;jndi_environment_property_key_java_naming_factory_initial&quot;);\r\n    environment.setProperty(&quot;java.naming.provider.url&quot;, &quot;jndi_environment_property_key_java_naming_provider_url&quot;);\r\n    jndiTemplate.setEnvironment(environment);\r\n    return jndiTemplate;\r\n}\r\n```\r\n\r\n**Queue Channel**\r\n\r\n```java\r\n@Bean(name=&quot;channel1&quot;)\r\npublic QueueChannel queueChannel() {\r\n    return new QueueChannel();\r\n}\r\n```\r\n\r\n\r\n**File Poller**\r\n\r\n```java\r\n@Bean(name=&quot;fileListPoller1&quot;)\r\npublic FileListPoller fileListPoller() {\r\n    FileListPoller fp = new FileListPoller();\r\n    fp.setDirectoryPath(file_inbound_dir);\r\n    fp.setExcludes(excludes);\r\n    return fp;\r\n}\r\n```\r\n\r\n**Inbound Handler**\r\n\r\n```java\r\n@Bean(name=&quot;inboundHandler2&quot;,initMethod=&quot;initWS&quot;)\r\npublic InboundJMSHandlerWS inboundJMSHandlerWS() {\r\n    InboundJMSHandlerWS inboundJMSHandlerWS = new InboundJMSHandlerWS();\r\n    inboundJMSHandlerWS.setChannel(queueChannel());\r\n    inboundJMSHandlerWS.setAddress(inbound_webservice_endpoint_address_4jms);\r\n    return inboundJMSHandlerWS;\r\n}\r\n```\r\n\r\n\r\n**Outbound Handler**\r\n```java\r\n@Bean(name=&quot;outboundJMSHandler1&quot;,initMethod=&quot;initThreadPool&quot;)\r\npublic OutboundJMSHandler outboundJMSHandler() {\r\n    OutboundJMSHandler outboundJMSHandler = new OutboundJMSHandler();\r\n    outboundJMSHandler.setChannel(queueChannel());\r\n    outboundJMSHandler.setThreadPoolSize(outbound_jmshandler_thread_pool_size);\r\n    outboundJMSHandler.setJndiTemplate(jndiTemplate());\r\n    outboundJMSHandler.setJmsPoolSize(connection_pool_size);\r\n    outboundJMSHandler.setConnectionFactoryJndiKey(connectionFactory_jndiName);\r\n    outboundJMSHandler.setDestinationJndiKey(destination_jndiName);\r\n    outboundJMSHandler.setInterfaceName(outbound_jms_interface_name);\r\n    outboundJMSHandler.setTestLevel(outbound_jms_testLevel);\r\n    outboundJMSHandler.setCnFactoryUID(connection_factory_userid);\r\n    outboundJMSHandler.setCnFactoryPassword(connection_factory_password);\r\n    outboundJMSHandler.setJmsMessageType(jms_message_type);\r\n    return outboundJMSHandler;\r\n}\r\n```\r\n\r\n**Error Details:** \r\n```\r\nException in thread &quot;TIBCO EMS TCPLink Reader (Server-130801)&quot; java.lang.OutOfMemoryError: Java heap space\r\nException in thread &quot;&lt;ClientName&gt;JMSStarvedConsumerTimer&quot; java.lang.OutOfMemoryError: Java heap space.\r\n```\r\n```\r\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=75M; support was removed in 8.0\r\nJava HotSpot(TM) 64-Bit Server VM warning: MaxNewSize (512000k) is equal to or greater than the entire heap (512000k).  A new max generation size of 511936k will be used.\r\n```\r\nAs in the log we got `OutOfMemoryError` we increased the heap size from 500MB to 1024MB(1GB), but that didn&#39;t resolve our issue. Like before, if the above issue come again, we need to restart the `SenderJMS` service again. \r\n\r\nWhat could be the reason that the `SenderJMS` application is stopping in between? Do we need to check if the queue is full during file push?","title":"JMS Service not pushing XML files to Queue. Stops processing in between and needed to restart the service to push the files further","body":"<p>There is a directory named <code>/var/xyz/aa/clm/data/infiles/SenderJMS/CE/L3/</code> where number of XML files are stored after a process runs. These files contain data to be pushed to remote server through a JMS queue. The queue is configured at client's cloud server.</p>\n<p>In <code>SenderJMS</code> service code we just use the JMS config credentials and queue name and then start pushing the files. Sometime the XML file list increases to 20K/30K, and in error log we get &quot;OutOfMemoryError&quot;. Then the <code>SenderJMS</code> stops in the middle of processing. Then we are restarting the service to process, from where it stopped execution.</p>\n<p><strong>Crdentials:</strong></p>\n<pre><code>Queue Name: VS.REVFDX.CL10.PUB.LAS.TCF.L3\njndi.environment.property.key.java.naming.provider.url=ldap://apptstldap.corp.&lt;client_name&gt;.com:888/ou=messaging,dc=corp,dc=&lt;client_name&gt;,dc=com\ndestination.jndiName=fxClientDestinationUID=D.REVFDX.DLRS.ToBeInvoiced\n\nconnection.factory.userid= XYZ_UID\nconnection.factory.password= PWD\n</code></pre>\n<p><strong>JNDI Configuration</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = &quot;jndiTemplate&quot;)\npublic JndiTemplate jndiTemplate() {\n    JndiTemplate jndiTemplate = new JndiTemplate();\n    Properties environment = new Properties();\n    environment.setProperty(&quot;java.naming.factory.initial&quot;, &quot;jndi_environment_property_key_java_naming_factory_initial&quot;);\n    environment.setProperty(&quot;java.naming.provider.url&quot;, &quot;jndi_environment_property_key_java_naming_provider_url&quot;);\n    jndiTemplate.setEnvironment(environment);\n    return jndiTemplate;\n}\n</code></pre>\n<p><strong>Queue Channel</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name=&quot;channel1&quot;)\npublic QueueChannel queueChannel() {\n    return new QueueChannel();\n}\n</code></pre>\n<p><strong>File Poller</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name=&quot;fileListPoller1&quot;)\npublic FileListPoller fileListPoller() {\n    FileListPoller fp = new FileListPoller();\n    fp.setDirectoryPath(file_inbound_dir);\n    fp.setExcludes(excludes);\n    return fp;\n}\n</code></pre>\n<p><strong>Inbound Handler</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name=&quot;inboundHandler2&quot;,initMethod=&quot;initWS&quot;)\npublic InboundJMSHandlerWS inboundJMSHandlerWS() {\n    InboundJMSHandlerWS inboundJMSHandlerWS = new InboundJMSHandlerWS();\n    inboundJMSHandlerWS.setChannel(queueChannel());\n    inboundJMSHandlerWS.setAddress(inbound_webservice_endpoint_address_4jms);\n    return inboundJMSHandlerWS;\n}\n</code></pre>\n<p><strong>Outbound Handler</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name=&quot;outboundJMSHandler1&quot;,initMethod=&quot;initThreadPool&quot;)\npublic OutboundJMSHandler outboundJMSHandler() {\n    OutboundJMSHandler outboundJMSHandler = new OutboundJMSHandler();\n    outboundJMSHandler.setChannel(queueChannel());\n    outboundJMSHandler.setThreadPoolSize(outbound_jmshandler_thread_pool_size);\n    outboundJMSHandler.setJndiTemplate(jndiTemplate());\n    outboundJMSHandler.setJmsPoolSize(connection_pool_size);\n    outboundJMSHandler.setConnectionFactoryJndiKey(connectionFactory_jndiName);\n    outboundJMSHandler.setDestinationJndiKey(destination_jndiName);\n    outboundJMSHandler.setInterfaceName(outbound_jms_interface_name);\n    outboundJMSHandler.setTestLevel(outbound_jms_testLevel);\n    outboundJMSHandler.setCnFactoryUID(connection_factory_userid);\n    outboundJMSHandler.setCnFactoryPassword(connection_factory_password);\n    outboundJMSHandler.setJmsMessageType(jms_message_type);\n    return outboundJMSHandler;\n}\n</code></pre>\n<p><strong>Error Details:</strong></p>\n<pre><code>Exception in thread &quot;TIBCO EMS TCPLink Reader (Server-130801)&quot; java.lang.OutOfMemoryError: Java heap space\nException in thread &quot;&lt;ClientName&gt;JMSStarvedConsumerTimer&quot; java.lang.OutOfMemoryError: Java heap space.\n</code></pre>\n<pre><code>Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=75M; support was removed in 8.0\nJava HotSpot(TM) 64-Bit Server VM warning: MaxNewSize (512000k) is equal to or greater than the entire heap (512000k).  A new max generation size of 511936k will be used.\n</code></pre>\n<p>As in the log we got <code>OutOfMemoryError</code> we increased the heap size from 500MB to 1024MB(1GB), but that didn't resolve our issue. Like before, if the above issue come again, we need to restart the <code>SenderJMS</code> service again.</p>\n<p>What could be the reason that the <code>SenderJMS</code> application is stopping in between? Do we need to check if the queue is full during file push?</p>\n"},{"tags":["java","asynchronous","project-reactor","flatmap"],"answers":[{"tags":[],"owner":{"account_id":3630600,"reputation":5980,"user_id":3026886,"accept_rate":93,"display_name":"rado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692025872,"creation_date":1691900995,"answer_id":76891935,"question_id":76891870,"body_markdown":"i&#39;m open if there&#39;s any less verbose ways:\r\n\r\n\r\n```\r\npublic static Mono&lt;Boolean&gt; processFluxUntilFailure(Flux&lt;Integer&gt; flux) {\r\n    return flux\r\n\r\n            .flatMap(apiInput -&gt; getApiData(apiInput)\r\n                    .flatMap(apiOutput -&gt; updateDatabaseWithApiData(apiInput, apiOutput))\r\n                    .switchIfEmpty(Mono.defer(() -&gt; logFailure(apiInput)))\r\n            ).&lt;Boolean&gt;handle((b, sink) -&gt; {\r\n                if (b) sink.next(true);\r\n                else sink.complete();\r\n            })\r\n\r\n            .defaultIfEmpty(false)\r\n            .reduce((b1, b2) -&gt; b1 || b2);\r\n}\r\n```\r\ngot me this output:\r\n```\r\n1 -&gt; 2\r\n2 -&gt; 4\r\n3 -&gt; failure\r\nresult true\r\n```\r\n\r\napparently `flatMap` and `handle` are not eager evaluated and putting them together did the trick","title":"how to map flux stopping if async condition is satisfied?","body":"<p>i'm open if there's any less verbose ways:</p>\n<pre><code>public static Mono&lt;Boolean&gt; processFluxUntilFailure(Flux&lt;Integer&gt; flux) {\n    return flux\n\n            .flatMap(apiInput -&gt; getApiData(apiInput)\n                    .flatMap(apiOutput -&gt; updateDatabaseWithApiData(apiInput, apiOutput))\n                    .switchIfEmpty(Mono.defer(() -&gt; logFailure(apiInput)))\n            ).&lt;Boolean&gt;handle((b, sink) -&gt; {\n                if (b) sink.next(true);\n                else sink.complete();\n            })\n\n            .defaultIfEmpty(false)\n            .reduce((b1, b2) -&gt; b1 || b2);\n}\n</code></pre>\n<p>got me this output:</p>\n<pre><code>1 -&gt; 2\n2 -&gt; 4\n3 -&gt; failure\nresult true\n</code></pre>\n<p>apparently <code>flatMap</code> and <code>handle</code> are not eager evaluated and putting them together did the trick</p>\n"},{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692025863,"creation_date":1691938896,"answer_id":76893922,"question_id":76891870,"body_markdown":"You can use [takeWhile](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#takeWhile-java.util.function.Predicate-) for this use-case.\r\n\r\n*takeWhile* short your flow execution upon receiving an &quot;invalid value&quot;, i.e once it fails a certain test/predicate. As it does *not* include the failed element in the output (contrary to *takeUntil*), it should match your requirement.\r\n\r\nSo, your function could be expressed like that:\r\n\r\n```java\r\npublic static Mono&lt;Boolean&gt; processFluxUntilFailure(Flux&lt;Integer&gt; flux) {\r\n    return flux.flatMap(apiInput -&gt; getApiData(apiInput)\r\n                    .flatMap(apiOutput -&gt; updateDatabaseWithApiData(apiInput, apiOutput))\r\n                    .switchIfEmpty(Mono.defer(() -&gt; logFailure(apiInput)))\r\n            )\r\n            .takeWhile(Boolean.TRUE::equals)\r\n            .last(false);\r\n}\r\n```\r\n","title":"how to map flux stopping if async condition is satisfied?","body":"<p>You can use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#takeWhile-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">takeWhile</a> for this use-case.</p>\n<p><em>takeWhile</em> short your flow execution upon receiving an &quot;invalid value&quot;, i.e once it fails a certain test/predicate. As it does <em>not</em> include the failed element in the output (contrary to <em>takeUntil</em>), it should match your requirement.</p>\n<p>So, your function could be expressed like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Mono&lt;Boolean&gt; processFluxUntilFailure(Flux&lt;Integer&gt; flux) {\n    return flux.flatMap(apiInput -&gt; getApiData(apiInput)\n                    .flatMap(apiOutput -&gt; updateDatabaseWithApiData(apiInput, apiOutput))\n                    .switchIfEmpty(Mono.defer(() -&gt; logFailure(apiInput)))\n            )\n            .takeWhile(Boolean.TRUE::equals)\n            .last(false);\n}\n</code></pre>\n"}],"owner":{"account_id":3630600,"reputation":5980,"user_id":3026886,"accept_rate":93,"display_name":"rado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76893922,"answer_count":2,"score":0,"last_activity_date":1692025872,"creation_date":1691899286,"question_id":76891870,"body_markdown":"consider i have a flux of integers and this method simulating an async external api data retrieval, which can return an empty response for some specific unknown input:\r\n```\r\npublic static Mono&lt;String&gt; getApiData(int i) {\r\n    if (i == 3) return Mono.empty(); // i&#39;m using 3 just as an example\r\n    return Mono.just(String.valueOf(i * 2));\r\n}\r\n```\r\nand these methods to be executed with `getApiData` output, depending on the result:\r\n```\r\n// when getApiData returns non empty mono\r\npublic static Mono&lt;Boolean&gt; updateDatabaseWithApiData(int apiInput, String apiOutput) {\r\n    System.out.println(apiInput + &quot; -&gt; &quot; + apiOutput);\r\n    // lots of unrelated logic\r\n    return Mono.just(true);\r\n}\r\n\r\n// when getApiData returns empty mono\r\npublic static Mono&lt;Boolean&gt; logFailure(int apiInput) {\r\n    System.out.println(apiInput + &quot; -&gt; failure&quot;);\r\n    // registering errors logs\r\n    return Mono.just(false);\r\n}\r\n```\r\nwith this i would like to write a method like this `Mono&lt;Boolean&gt; processFluxUntilFailure(Flux&lt;Integer&gt; flux)` that applies `getApiData` for each element and **stops when a failure occurs**. then if at least a single element reaches `updateDatabaseWithApiData`, return `Mono.just(true)`, `Mono.just(false)` otherwise. \r\n\r\n\r\nso i would get this output:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Flux&lt;Integer&gt; flux = Flux.just(1, 2, 3, 4, 5);\r\n    processFluxUntilFailure(flux).subscribe(value -&gt; System.out.println(&quot;result &quot; + value));\r\n}\r\n```\r\ndesired output:\r\n```\r\n1 -&gt; 2\r\n2 -&gt; 4\r\n3 -&gt; failure\r\nresult true\r\n```\r\nsince we had (at least 1) 2 successful elements processed.\r\n\r\nconsidering:\r\n* this is a simplified version of my real problem\r\n* i can&#39;t predict when data will be empty from `getApiData`\r\n* i can&#39;t change the described methods, only `processFluxUntilFailure`\r\n\r\ni tried this:\r\n```\r\npublic static Mono&lt;Boolean&gt; processFluxUntilFailure(Flux&lt;Integer&gt; flux) {\r\n    return flux.flatMap(apiInput -&gt; getApiData(apiInput)\r\n                    .flatMap(apiOutput -&gt; updateDatabaseWithApiData(apiInput, apiOutput))\r\n                    .switchIfEmpty(Mono.defer(() -&gt; logFailure(apiInput)))\r\n            )\r\n            .reduce((b1, b2) -&gt; b1 || b2);\r\n}\r\n```\r\nwhich resulted in\r\n```\r\n1 -&gt; 2\r\n2 -&gt; 4\r\n3 -&gt; failure\r\n4 -&gt; 8\r\n5 -&gt; 10\r\nresult true\r\n```\r\n\r\nhow can i achieve my desired output from this try? in other words, how can i &quot;stop&quot; `flatMap` if some async condition is satisfied?","title":"how to map flux stopping if async condition is satisfied?","body":"<p>consider i have a flux of integers and this method simulating an async external api data retrieval, which can return an empty response for some specific unknown input:</p>\n<pre><code>public static Mono&lt;String&gt; getApiData(int i) {\n    if (i == 3) return Mono.empty(); // i'm using 3 just as an example\n    return Mono.just(String.valueOf(i * 2));\n}\n</code></pre>\n<p>and these methods to be executed with <code>getApiData</code> output, depending on the result:</p>\n<pre><code>// when getApiData returns non empty mono\npublic static Mono&lt;Boolean&gt; updateDatabaseWithApiData(int apiInput, String apiOutput) {\n    System.out.println(apiInput + &quot; -&gt; &quot; + apiOutput);\n    // lots of unrelated logic\n    return Mono.just(true);\n}\n\n// when getApiData returns empty mono\npublic static Mono&lt;Boolean&gt; logFailure(int apiInput) {\n    System.out.println(apiInput + &quot; -&gt; failure&quot;);\n    // registering errors logs\n    return Mono.just(false);\n}\n</code></pre>\n<p>with this i would like to write a method like this <code>Mono&lt;Boolean&gt; processFluxUntilFailure(Flux&lt;Integer&gt; flux)</code> that applies <code>getApiData</code> for each element and <strong>stops when a failure occurs</strong>. then if at least a single element reaches <code>updateDatabaseWithApiData</code>, return <code>Mono.just(true)</code>, <code>Mono.just(false)</code> otherwise.</p>\n<p>so i would get this output:</p>\n<pre><code>public static void main(String[] args) {\n    Flux&lt;Integer&gt; flux = Flux.just(1, 2, 3, 4, 5);\n    processFluxUntilFailure(flux).subscribe(value -&gt; System.out.println(&quot;result &quot; + value));\n}\n</code></pre>\n<p>desired output:</p>\n<pre><code>1 -&gt; 2\n2 -&gt; 4\n3 -&gt; failure\nresult true\n</code></pre>\n<p>since we had (at least 1) 2 successful elements processed.</p>\n<p>considering:</p>\n<ul>\n<li>this is a simplified version of my real problem</li>\n<li>i can't predict when data will be empty from <code>getApiData</code></li>\n<li>i can't change the described methods, only <code>processFluxUntilFailure</code></li>\n</ul>\n<p>i tried this:</p>\n<pre><code>public static Mono&lt;Boolean&gt; processFluxUntilFailure(Flux&lt;Integer&gt; flux) {\n    return flux.flatMap(apiInput -&gt; getApiData(apiInput)\n                    .flatMap(apiOutput -&gt; updateDatabaseWithApiData(apiInput, apiOutput))\n                    .switchIfEmpty(Mono.defer(() -&gt; logFailure(apiInput)))\n            )\n            .reduce((b1, b2) -&gt; b1 || b2);\n}\n</code></pre>\n<p>which resulted in</p>\n<pre><code>1 -&gt; 2\n2 -&gt; 4\n3 -&gt; failure\n4 -&gt; 8\n5 -&gt; 10\nresult true\n</code></pre>\n<p>how can i achieve my desired output from this try? in other words, how can i &quot;stop&quot; <code>flatMap</code> if some async condition is satisfied?</p>\n"},{"tags":["java","plugins","minecraft"],"comments":[{"owner":{"account_id":16014501,"reputation":61,"user_id":11557623,"display_name":"Ka&#39;Eios"},"score":0,"creation_date":1692047980,"post_id":76899877,"comment_id":135570377,"body_markdown":"Are you reloading or restarting your server between each test of your plugin ? Maybe it&#39;s an issue with data from a previous test that are still registered into the server","body":"Are you reloading or restarting your server between each test of your plugin ? Maybe it&#39;s an issue with data from a previous test that are still registered into the server"}],"owner":{"account_id":29206016,"reputation":3,"user_id":22375074,"display_name":"Pinouz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692025662,"creation_date":1692023598,"question_id":76899877,"body_markdown":"For the past few days, I&#39;ve been trying to create a plugin that allows crafting custom mob heads using the Stonecutter. I finally managed to get something functional, but when I select one type of head, it gives me a different one instead.\r\n\r\n[stonecutter craft bug](https://i.stack.imgur.com/vtVlS.png)\r\n\r\nHere is my code:\r\n\r\n\r\n```\r\npackage me.zoteuh.grillade;\r\n\r\nimport com.mojang.authlib.GameProfile;\r\nimport com.mojang.authlib.properties.Property;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.NamespacedKey;\r\nimport org.bukkit.inventory.ItemStack;\r\nimport org.bukkit.inventory.RecipeChoice;\r\nimport org.bukkit.inventory.StonecuttingRecipe;\r\nimport org.bukkit.inventory.meta.SkullMeta;\r\nimport org.json.simple.JSONArray;\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.parser.JSONParser;\r\nimport org.json.simple.parser.ParseException;\r\n\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Field;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\nimport static org.bukkit.Bukkit.getServer;\r\n\r\npublic class CustomHeads {\r\n\r\n    public static void loadCustomHeads(Grillade pluginInstance) {\r\n\r\n        List&lt;ItemStack&gt; headMaterials = new ArrayList&lt;&gt;(Arrays.asList(\r\n                new ItemStack(Material.SKELETON_SKULL),\r\n                new ItemStack(Material.ZOMBIE_HEAD),\r\n                new ItemStack(Material.CREEPER_HEAD),\r\n                new ItemStack(Material.PIGLIN_HEAD)\r\n        ));\r\n\r\n        RecipeChoice material = new RecipeChoice.ExactChoice(headMaterials);\r\n\r\n        File jsonFile = new File(pluginInstance.getDataFolder(), &quot;heads.json&quot;);\r\n\r\n        if (jsonFile.exists()) {\r\n            try {\r\n                JSONParser parser = new JSONParser();\r\n                JSONArray jsonArray = (JSONArray) parser.parse(new FileReader(jsonFile));\r\n\r\n                for (Object obj : jsonArray) {\r\n                    JSONObject jsonObject = (JSONObject) obj;\r\n                    String name = (String) jsonObject.get(&quot;name&quot;);\r\n                    String texture = (String) jsonObject.get(&quot;texture&quot;);\r\n\r\n                    getLogger().info(&quot;Name: &quot; + name);\r\n                    getLogger().info(&quot;Texture: &quot; + texture);\r\n\r\n                    String recipeID = &quot;custom_head_recipe_&quot; + name;\r\n                    NamespacedKey recipeKey = new NamespacedKey(pluginInstance, recipeID.toLowerCase());\r\n\r\n                    ItemStack customHead = createCustomHead(texture, name);\r\n                    StonecuttingRecipe headRecipe = createRecipe(material, customHead, recipeKey);\r\n                    getServer().addRecipe(headRecipe);\r\n                }\r\n            } catch (IOException | ParseException e) {\r\n                getLogger().log(Level.SEVERE, &quot;Error reading heads.json or creating recipes.&quot;, e);\r\n            }\r\n        } else {\r\n            getLogger().warning(&quot;heads.json file not found.&quot;);\r\n        }\r\n    }\r\n\r\n    private static ItemStack createCustomHead(String texture, String name) {\r\n        ItemStack skull = new ItemStack(Material.PLAYER_HEAD);\r\n        SkullMeta skullMeta = (SkullMeta) skull.getItemMeta();\r\n\r\n        if (applyTextureToSkull(skullMeta, texture)) {\r\n            skullMeta.setDisplayName(name);\r\n            skull.setItemMeta(skullMeta);\r\n            return skull;\r\n        } else {\r\n            getLogger().log(Level.SEVERE, &quot;Erreur lors de l&#39;application de la texture au cr&#226;ne.&quot;);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private static boolean applyTextureToSkull(SkullMeta skullMeta, String texture) {\r\n        GameProfile profile = new GameProfile(UUID.randomUUID(), null);\r\n        profile.getProperties().put(&quot;textures&quot;, new Property(&quot;textures&quot;, texture));\r\n\r\n        try {\r\n            Field profileField = skullMeta.getClass().getDeclaredField(&quot;profile&quot;);\r\n            profileField.setAccessible(true);\r\n            profileField.set(skullMeta, profile);\r\n            return true;\r\n        } catch (Exception e) {\r\n            getLogger().log(Level.SEVERE, &quot;Erreur lors de l&#39;application de la texture au cr&#226;ne.&quot;, e);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private static StonecuttingRecipe createRecipe(RecipeChoice skullMaterial, ItemStack customHead, NamespacedKey recipeKey) {\r\n        return new StonecuttingRecipe(\r\n                recipeKey,\r\n                customHead,\r\n                skullMaterial\r\n        );\r\n    }\r\n\r\n    private static Logger getLogger() {\r\n        return Logger.getLogger(&quot;CustomHeads&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd here is my JSON file:\r\n\r\n\r\n```\r\n[\r\n  {\r\n    &quot;name&quot;: &quot;test&quot;,\r\n    &quot;texture&quot;: &quot;eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNjNmZTU5YjJhMWQyYmYzMjcwNDA2OGVmYzg2MGM3NWY5MjEyYzIzMTBiNDNkMDdjNGJiYTRiNGViMjM0ZTY4NCJ9fX0=&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;cake&quot;,\r\n    &quot;texture&quot;: &quot;eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZWZlMDJmZDViNGM2NTI2MDg1Y2JkZjNlZTM1ZDE4ZDA3ZDUxYTY3MjVmZTU0MTdhZDVhZDdmNDdkYmExYzVlIn19fQ==&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;beer&quot;,\r\n    &quot;texture&quot;: &quot;eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNDA1M2UyNjg2N2JiNTc1MzhlOTc4OTEzN2RiYmI1Mzc3NGUxOGVkYTZmZWY1MWNiMmVkZjQyNmIzNzI2NCJ9fX0=&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;mailbox&quot;,\r\n    &quot;texture&quot;: &quot;eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMzQ1ZmQxNzRmMjUwMzdiN2Y5ZWNhNzMzY2ZkMDQ2YThiNjM1MTEyMDI2NDg1MzcwNWJjYWE1YjYzZTE3YzE3In19fQ==&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;books&quot;,\r\n    &quot;texture&quot;: &quot;eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNDIxN2ZkYTI5YzUwYzkzN2VhOTViYjk5ODI4MzY0YTVhMTViZGFjZWI4ZjNhOGJlMDg4ZGYwYTUxZjYxN2JjNCJ9fX0=&quot;\r\n  }\r\n]\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve understood the issue, but I&#39;m unsure how to resolve it. I have 5 heads in my JSON file: &quot;test,&quot; &quot;cake,&quot; &quot;beer,&quot; &quot;mailbox,&quot; and &quot;books.&quot; Since I&#39;m importing them from top to bottom, they should appear in this order: &quot;books,&quot; &quot;mailbox,&quot; &quot;beer,&quot; &quot;cake,&quot; &quot;test.&quot; The problem is that in the selection menu of the stonecutter, they are appearing out of order. What&#39;s strange is that even though they are in the wrong order, if I select the first head that displays &quot;mailbox,&quot; it does indeed suggest crafting the &quot;books&quot; head. The crafting process works correctly; if I select head 1, it crafts head 1. The issue appears to be a display problem that is not showing the heads in the correct order in the selection menu.","title":"Custom crafts in the Stonecutter are not appearing in the correct order","body":"<p>For the past few days, I've been trying to create a plugin that allows crafting custom mob heads using the Stonecutter. I finally managed to get something functional, but when I select one type of head, it gives me a different one instead.</p>\n<p><a href=\"https://i.stack.imgur.com/vtVlS.png\" rel=\"nofollow noreferrer\">stonecutter craft bug</a></p>\n<p>Here is my code:</p>\n<pre><code>package me.zoteuh.grillade;\n\nimport com.mojang.authlib.GameProfile;\nimport com.mojang.authlib.properties.Property;\nimport org.bukkit.Material;\nimport org.bukkit.NamespacedKey;\nimport org.bukkit.inventory.ItemStack;\nimport org.bukkit.inventory.RecipeChoice;\nimport org.bukkit.inventory.StonecuttingRecipe;\nimport org.bukkit.inventory.meta.SkullMeta;\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.lang.reflect.Field;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.UUID;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\nimport static org.bukkit.Bukkit.getServer;\n\npublic class CustomHeads {\n\n    public static void loadCustomHeads(Grillade pluginInstance) {\n\n        List&lt;ItemStack&gt; headMaterials = new ArrayList&lt;&gt;(Arrays.asList(\n                new ItemStack(Material.SKELETON_SKULL),\n                new ItemStack(Material.ZOMBIE_HEAD),\n                new ItemStack(Material.CREEPER_HEAD),\n                new ItemStack(Material.PIGLIN_HEAD)\n        ));\n\n        RecipeChoice material = new RecipeChoice.ExactChoice(headMaterials);\n\n        File jsonFile = new File(pluginInstance.getDataFolder(), &quot;heads.json&quot;);\n\n        if (jsonFile.exists()) {\n            try {\n                JSONParser parser = new JSONParser();\n                JSONArray jsonArray = (JSONArray) parser.parse(new FileReader(jsonFile));\n\n                for (Object obj : jsonArray) {\n                    JSONObject jsonObject = (JSONObject) obj;\n                    String name = (String) jsonObject.get(&quot;name&quot;);\n                    String texture = (String) jsonObject.get(&quot;texture&quot;);\n\n                    getLogger().info(&quot;Name: &quot; + name);\n                    getLogger().info(&quot;Texture: &quot; + texture);\n\n                    String recipeID = &quot;custom_head_recipe_&quot; + name;\n                    NamespacedKey recipeKey = new NamespacedKey(pluginInstance, recipeID.toLowerCase());\n\n                    ItemStack customHead = createCustomHead(texture, name);\n                    StonecuttingRecipe headRecipe = createRecipe(material, customHead, recipeKey);\n                    getServer().addRecipe(headRecipe);\n                }\n            } catch (IOException | ParseException e) {\n                getLogger().log(Level.SEVERE, &quot;Error reading heads.json or creating recipes.&quot;, e);\n            }\n        } else {\n            getLogger().warning(&quot;heads.json file not found.&quot;);\n        }\n    }\n\n    private static ItemStack createCustomHead(String texture, String name) {\n        ItemStack skull = new ItemStack(Material.PLAYER_HEAD);\n        SkullMeta skullMeta = (SkullMeta) skull.getItemMeta();\n\n        if (applyTextureToSkull(skullMeta, texture)) {\n            skullMeta.setDisplayName(name);\n            skull.setItemMeta(skullMeta);\n            return skull;\n        } else {\n            getLogger().log(Level.SEVERE, &quot;Erreur lors de l'application de la texture au crâne.&quot;);\n            return null;\n        }\n    }\n\n    private static boolean applyTextureToSkull(SkullMeta skullMeta, String texture) {\n        GameProfile profile = new GameProfile(UUID.randomUUID(), null);\n        profile.getProperties().put(&quot;textures&quot;, new Property(&quot;textures&quot;, texture));\n\n        try {\n            Field profileField = skullMeta.getClass().getDeclaredField(&quot;profile&quot;);\n            profileField.setAccessible(true);\n            profileField.set(skullMeta, profile);\n            return true;\n        } catch (Exception e) {\n            getLogger().log(Level.SEVERE, &quot;Erreur lors de l'application de la texture au crâne.&quot;, e);\n            return false;\n        }\n    }\n\n    private static StonecuttingRecipe createRecipe(RecipeChoice skullMaterial, ItemStack customHead, NamespacedKey recipeKey) {\n        return new StonecuttingRecipe(\n                recipeKey,\n                customHead,\n                skullMaterial\n        );\n    }\n\n    private static Logger getLogger() {\n        return Logger.getLogger(&quot;CustomHeads&quot;);\n    }\n}\n\n</code></pre>\n<p>And here is my JSON file:</p>\n<pre><code>[\n  {\n    &quot;name&quot;: &quot;test&quot;,\n    &quot;texture&quot;: &quot;eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNjNmZTU5YjJhMWQyYmYzMjcwNDA2OGVmYzg2MGM3NWY5MjEyYzIzMTBiNDNkMDdjNGJiYTRiNGViMjM0ZTY4NCJ9fX0=&quot;\n  },\n  {\n    &quot;name&quot;: &quot;cake&quot;,\n    &quot;texture&quot;: &quot;eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZWZlMDJmZDViNGM2NTI2MDg1Y2JkZjNlZTM1ZDE4ZDA3ZDUxYTY3MjVmZTU0MTdhZDVhZDdmNDdkYmExYzVlIn19fQ==&quot;\n  },\n  {\n    &quot;name&quot;: &quot;beer&quot;,\n    &quot;texture&quot;: &quot;eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNDA1M2UyNjg2N2JiNTc1MzhlOTc4OTEzN2RiYmI1Mzc3NGUxOGVkYTZmZWY1MWNiMmVkZjQyNmIzNzI2NCJ9fX0=&quot;\n  },\n  {\n    &quot;name&quot;: &quot;mailbox&quot;,\n    &quot;texture&quot;: &quot;eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMzQ1ZmQxNzRmMjUwMzdiN2Y5ZWNhNzMzY2ZkMDQ2YThiNjM1MTEyMDI2NDg1MzcwNWJjYWE1YjYzZTE3YzE3In19fQ==&quot;\n  },\n  {\n    &quot;name&quot;: &quot;books&quot;,\n    &quot;texture&quot;: &quot;eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNDIxN2ZkYTI5YzUwYzkzN2VhOTViYjk5ODI4MzY0YTVhMTViZGFjZWI4ZjNhOGJlMDg4ZGYwYTUxZjYxN2JjNCJ9fX0=&quot;\n  }\n]\n</code></pre>\n<p>I've understood the issue, but I'm unsure how to resolve it. I have 5 heads in my JSON file: &quot;test,&quot; &quot;cake,&quot; &quot;beer,&quot; &quot;mailbox,&quot; and &quot;books.&quot; Since I'm importing them from top to bottom, they should appear in this order: &quot;books,&quot; &quot;mailbox,&quot; &quot;beer,&quot; &quot;cake,&quot; &quot;test.&quot; The problem is that in the selection menu of the stonecutter, they are appearing out of order. What's strange is that even though they are in the wrong order, if I select the first head that displays &quot;mailbox,&quot; it does indeed suggest crafting the &quot;books&quot; head. The crafting process works correctly; if I select head 1, it crafts head 1. The issue appears to be a display problem that is not showing the heads in the correct order in the selection menu.</p>\n"},{"tags":["java","android","android-recyclerview","android-textinputlayout","android-textinputedittext"],"answers":[{"tags":[],"owner":{"account_id":22689925,"reputation":1,"user_id":16859004,"display_name":"Rangnitt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692025320,"creation_date":1692025320,"answer_id":76900078,"question_id":76898574,"body_markdown":"After further testing in the UI I found a **work-around**. It is not exactly what I hoped for but it works. \r\nIn my **TextInputLayout, when counterEnabled is true, it automatically deselects the EditText on text changed.** \r\n\r\n    &gt; &lt;com.google.android.material.textfield.TextInputLayout\r\n    &gt;     android:id=&quot;@+id/layout_edt_comment&quot;\r\n    &gt;     android:layout_width=&quot;match_parent&quot;\r\n    &gt;     android:layout_height=&quot;wrap_content&quot;\r\n    &gt;     app:counterEnabled=&quot;true&quot;\r\n    &gt;     app:counterMaxLength=&quot;255&quot;\r\n    &gt;     app:endIconMode=&quot;clear_text&quot;&gt;&lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\nSo I removed it and it works now. Does anyone know the true solution to this though? I do need a text counter. I could also add a textviewer and update it in the TextWatcher. But that still feels like a work-around.\r\n","title":"Why does my device automatically unselect my TextInputLayout/TextInputEditText with an external keyboard?","body":"<p>After further testing in the UI I found a <strong>work-around</strong>. It is not exactly what I hoped for but it works.\nIn my <strong>TextInputLayout, when counterEnabled is true, it automatically deselects the EditText on text changed.</strong></p>\n<pre><code>&gt; &lt;com.google.android.material.textfield.TextInputLayout\n&gt;     android:id=&quot;@+id/layout_edt_comment&quot;\n&gt;     android:layout_width=&quot;match_parent&quot;\n&gt;     android:layout_height=&quot;wrap_content&quot;\n&gt;     app:counterEnabled=&quot;true&quot;\n&gt;     app:counterMaxLength=&quot;255&quot;\n&gt;     app:endIconMode=&quot;clear_text&quot;&gt;&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>So I removed it and it works now. Does anyone know the true solution to this though? I do need a text counter. I could also add a textviewer and update it in the TextWatcher. But that still feels like a work-around.</p>\n"}],"owner":{"account_id":22689925,"reputation":1,"user_id":16859004,"display_name":"Rangnitt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692025320,"creation_date":1692012716,"question_id":76898574,"body_markdown":"I have an cardview adapter where each card is a form of filling in a mandatory value (if the user want to save the value) and an optional commentbox.\r\nThis mandatory value and the optional commentbox are TextInputEditText-fields within TextInputLayouts.\r\nIn the code behind I have Textwatchers for each field. The value-field looks through the input and validates the value. If it is valid, the commentbox will be enabled and the value will be set onto an object. The textwatcher for the commentbox only takes the string in the input and sets it onto the same object.\r\nex. `object.setValue(); object.setComment();`\r\n\r\nI have implemented it like this in the UI:\r\n\r\n`&lt;TextView     android:id=&quot;@+id/txt_value_title&quot;     android:layout_width=&quot;wrap_content&quot;     android:layout_height=&quot;wrap_content&quot;     android:text=&quot;Value:*&quot;     android:textAppearance=&quot;@style/Bold.FontPath&quot;     android:textSize=&quot;@dimen/cardview_textsize_header&quot;     android:textStyle=&quot;bold&quot; /&gt;`\r\n\r\n    `&lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/layout_edt_value&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:endIconMode=&quot;clear_text&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n                    android:id=&quot;@+id/edt_value&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginRight=&quot;@dimen/twenty_dp&quot;\r\n                    android:background=&quot;@drawable/rounded_border&quot;\r\n                    android:inputType=&quot;text&quot;\r\n                    android:lines=&quot;1&quot;\r\n                    android:maxLines=&quot;1&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;@dimen/cardview_textsize_header&quot; /&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n    &lt;TextView\r\n        android:id=&quot;@+id/txt_commentbox_title&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginTop=&quot;@dimen/ten_dp&quot;\r\n        android:text=&quot;Title&quot;\r\n        android:textAppearance=&quot;@style/Bold.FontPath&quot;\r\n        android:textSize=&quot;@dimen/cardview_textsize_header&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/layout_edt_comment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:counterEnabled=&quot;true&quot;\r\n        app:counterMaxLength=&quot;255&quot;\r\n        app:endIconMode=&quot;clear_text&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/edt_comment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:lines=&quot;2&quot;\r\n            android:gravity=&quot;top&quot;\r\n            android:background=&quot;@drawable/rounded_border&quot;\r\n            android:inputType=&quot;textMultiLine|textCapSentences&quot;\r\n            android:maxEms=&quot;255&quot;\r\n            android:maxLength=&quot;255&quot;\r\n            android:maxLines=&quot;3&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;`\r\n\r\nThe issue is that the value-input works completely fine with an external keyboard. But when I focus on the commmentbox, after one key-press it selects my &quot;back&quot;-button in the header.\r\nIt works completely fine on previous android version before Android 12.\r\n\r\nI have been analysing events in the code behind, but there is nothing that would seem to alter the commentbox at all after an edit except for saving the string-value onto an object with a textwatcher.\r\n\r\nI have however found that this pops up in the log only for the commentbox-edittext:\r\n`W/IInputConnectionWrapper: getTextBeforeCursor on inactive InputConnection W/IInputConnectionWrapper: getTextAfterCursor on inactive InputConnection W/IInputConnectionWrapper: getSelectedText on inactive InputConnection`\r\nThis feels like it would be the issue but I can not find a solution to this.\r\n\r\nDoes anyone have any idea?\r\n\r\nI have tried changing the UI. I have tried using EditTexts. I have tried updating `&quot;com.google.android.material:material:1.3.0&quot;` to the latest version. I have also looked through the logic of the whole code-behind and removed triggers completely to see if it would change anything. I have added an new clean editText which works, But my commentbox is still the one that is not working as intended.","title":"Why does my device automatically unselect my TextInputLayout/TextInputEditText with an external keyboard?","body":"<p>I have an cardview adapter where each card is a form of filling in a mandatory value (if the user want to save the value) and an optional commentbox.\nThis mandatory value and the optional commentbox are TextInputEditText-fields within TextInputLayouts.\nIn the code behind I have Textwatchers for each field. The value-field looks through the input and validates the value. If it is valid, the commentbox will be enabled and the value will be set onto an object. The textwatcher for the commentbox only takes the string in the input and sets it onto the same object.\nex. <code>object.setValue(); object.setComment();</code></p>\n<p>I have implemented it like this in the UI:</p>\n<p><code>&lt;TextView     android:id=&quot;@+id/txt_value_title&quot;     android:layout_width=&quot;wrap_content&quot;     android:layout_height=&quot;wrap_content&quot;     android:text=&quot;Value:*&quot;     android:textAppearance=&quot;@style/Bold.FontPath&quot;     android:textSize=&quot;@dimen/cardview_textsize_header&quot;     android:textStyle=&quot;bold&quot; /&gt;</code></p>\n<pre><code>`&lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/layout_edt_value&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:endIconMode=&quot;clear_text&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n                android:id=&quot;@+id/edt_value&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginRight=&quot;@dimen/twenty_dp&quot;\n                android:background=&quot;@drawable/rounded_border&quot;\n                android:inputType=&quot;text&quot;\n                android:lines=&quot;1&quot;\n                android:maxLines=&quot;1&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;@dimen/cardview_textsize_header&quot; /&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/txt_commentbox_title&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_marginTop=&quot;@dimen/ten_dp&quot;\n    android:text=&quot;Title&quot;\n    android:textAppearance=&quot;@style/Bold.FontPath&quot;\n    android:textSize=&quot;@dimen/cardview_textsize_header&quot;\n    android:textStyle=&quot;bold&quot; /&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/layout_edt_comment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:counterEnabled=&quot;true&quot;\n    app:counterMaxLength=&quot;255&quot;\n    app:endIconMode=&quot;clear_text&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:id=&quot;@+id/edt_comment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:lines=&quot;2&quot;\n        android:gravity=&quot;top&quot;\n        android:background=&quot;@drawable/rounded_border&quot;\n        android:inputType=&quot;textMultiLine|textCapSentences&quot;\n        android:maxEms=&quot;255&quot;\n        android:maxLength=&quot;255&quot;\n        android:maxLines=&quot;3&quot;/&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;`\n</code></pre>\n<p>The issue is that the value-input works completely fine with an external keyboard. But when I focus on the commmentbox, after one key-press it selects my &quot;back&quot;-button in the header.\nIt works completely fine on previous android version before Android 12.</p>\n<p>I have been analysing events in the code behind, but there is nothing that would seem to alter the commentbox at all after an edit except for saving the string-value onto an object with a textwatcher.</p>\n<p>I have however found that this pops up in the log only for the commentbox-edittext:\n<code>W/IInputConnectionWrapper: getTextBeforeCursor on inactive InputConnection W/IInputConnectionWrapper: getTextAfterCursor on inactive InputConnection W/IInputConnectionWrapper: getSelectedText on inactive InputConnection</code>\nThis feels like it would be the issue but I can not find a solution to this.</p>\n<p>Does anyone have any idea?</p>\n<p>I have tried changing the UI. I have tried using EditTexts. I have tried updating <code>&quot;com.google.android.material:material:1.3.0&quot;</code> to the latest version. I have also looked through the logic of the whole code-behind and removed triggers completely to see if it would change anything. I have added an new clean editText which works, But my commentbox is still the one that is not working as intended.</p>\n"},{"tags":["java","android","android-external-storage"],"answers":[{"tags":[],"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632507614,"creation_date":1632503660,"answer_id":69318889,"question_id":69318399,"body_markdown":"maybe the case that your application doesn&#39;t have the permission yet.  \r\nSince android 6, some permissions are considered [dangerous permissions][1] and even if you added the required permission to your android manifest, you shouldn&#39;t assume that your application have it yet and you should always ask for permissions at runtime before proceeding with the actions that require them.\r\n\r\n* if you didn&#39;t add the `READ_EXTERNAL_STORAGE` to the android manifest, it should look like this : \r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;your.package.name&quot;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;application&gt;\r\n      ...\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\n* if you did add it but still access to external storage is denied then this is how to ask for it at runtime :\r\n1. First initialize an `ActivityResultLauncher` and register it as an activity result which must be before {initialization, `onAttach()`, or `onCreate()`} fragment creation methods, so the only way was to initialize it as a global fragment variable \r\n\r\n2. Then when you need to start using external storage, you first use the `ActivityResultLauncher` you initialized before to launch a request for permissions needed.\r\n\r\n3. If permissions was granted the callback should continue your work flow naturally, else (temporarily) you should show a toast/Alert dialog message telling user why he can&#39;t continue with his action.\r\n\r\n```\r\npublic class myFragment extends Fragment {\r\n    ...\r\n    ActivityResultLauncher&lt;String&gt; requestPermissionLauncher =\r\n                registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\r\n                    if (isGranted){ \r\n                        //continue your work flow\r\n                        goDoSomething();}\r\n                    else{\r\n                       // Explain to the user that the feature is unavailable because\r\n                       // the features requires a permission that the user has denied.\r\n                       // At the same time, respect the user&#39;s decision. Don&#39;t link to\r\n                       // system settings in an effort to convince the user to change\r\n                       // their decision.\r\n                        Toast.makeText(getContext(), &quot;Can&#39;t continue without the required permissions&quot;, Toast.LENGTH_LONG).show();\r\n                     }\r\n                });\r\n    public void getNecessaryPermissionsAndDoSomething() {\r\n            if (ActivityCompat.checkSelfPermission(getContext(),\r\n                    Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) { \r\n                //check first if you have the permission or not \r\n                //if you don&#39;t then launch permission request dialog\r\n                requestPermissionLauncher.launch(Manifest.permission.READ_EXTERNAL_STORAGE);\r\n            }else goDoSomething(); //continue your work naturally \r\n        }\r\n}\r\n```\r\n\r\nfor more information about this you should check the [android developers documentation][2] about requesting permissions at runtime.\r\n\r\n\r\n----------\r\n## update ## \r\n\r\n```\r\nif (ActivityCompat.checkSelfPermission(getContext(),\r\n                    Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)\r\n         Log.e(&quot;permission&quot;,&quot;not granted&quot;); \r\nelse Log.e(&quot;permission&quot;,&quot;granted&quot;); \r\n```\r\n\r\n  [1]: https://developer.android.com/guide/topics/permissions/overview#dangerous_permissions\r\n  [2]: https://developer.android.com/training/permissions/requesting#request-permission\r\n","title":"Not Asking For permission in android and program directly runs into denied block","body":"<p>maybe the case that your application doesn't have the permission yet.<br />\nSince android 6, some permissions are considered <a href=\"https://developer.android.com/guide/topics/permissions/overview#dangerous_permissions\" rel=\"nofollow noreferrer\">dangerous permissions</a> and even if you added the required permission to your android manifest, you shouldn't assume that your application have it yet and you should always ask for permissions at runtime before proceeding with the actions that require them.</p>\n<ul>\n<li>if you didn't add the <code>READ_EXTERNAL_STORAGE</code> to the android manifest, it should look like this :</li>\n</ul>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;your.package.name&quot;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;application&gt;\n      ...\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<ul>\n<li>if you did add it but still access to external storage is denied then this is how to ask for it at runtime :</li>\n</ul>\n<ol>\n<li><p>First initialize an <code>ActivityResultLauncher</code> and register it as an activity result which must be before {initialization, <code>onAttach()</code>, or <code>onCreate()</code>} fragment creation methods, so the only way was to initialize it as a global fragment variable</p>\n</li>\n<li><p>Then when you need to start using external storage, you first use the <code>ActivityResultLauncher</code> you initialized before to launch a request for permissions needed.</p>\n</li>\n<li><p>If permissions was granted the callback should continue your work flow naturally, else (temporarily) you should show a toast/Alert dialog message telling user why he can't continue with his action.</p>\n</li>\n</ol>\n<pre><code>public class myFragment extends Fragment {\n    ...\n    ActivityResultLauncher&lt;String&gt; requestPermissionLauncher =\n                registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\n                    if (isGranted){ \n                        //continue your work flow\n                        goDoSomething();}\n                    else{\n                       // Explain to the user that the feature is unavailable because\n                       // the features requires a permission that the user has denied.\n                       // At the same time, respect the user's decision. Don't link to\n                       // system settings in an effort to convince the user to change\n                       // their decision.\n                        Toast.makeText(getContext(), &quot;Can't continue without the required permissions&quot;, Toast.LENGTH_LONG).show();\n                     }\n                });\n    public void getNecessaryPermissionsAndDoSomething() {\n            if (ActivityCompat.checkSelfPermission(getContext(),\n                    Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) { \n                //check first if you have the permission or not \n                //if you don't then launch permission request dialog\n                requestPermissionLauncher.launch(Manifest.permission.READ_EXTERNAL_STORAGE);\n            }else goDoSomething(); //continue your work naturally \n        }\n}\n</code></pre>\n<p>for more information about this you should check the <a href=\"https://developer.android.com/training/permissions/requesting#request-permission\" rel=\"nofollow noreferrer\">android developers documentation</a> about requesting permissions at runtime.</p>\n<hr />\n<h2>update</h2>\n<pre><code>if (ActivityCompat.checkSelfPermission(getContext(),\n                    Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)\n         Log.e(&quot;permission&quot;,&quot;not granted&quot;); \nelse Log.e(&quot;permission&quot;,&quot;granted&quot;); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1353221,"reputation":89,"user_id":1292142,"display_name":"liwen zeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692025183,"creation_date":1692025183,"answer_id":76900058,"question_id":69318399,"body_markdown":"me too. Then I check app-&gt;manifests-&gt;androidmanifests.xml\r\nadd the permission app need.\r\nfor me: the line 1,2 show you the location, line 3,4 is my add.\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;","title":"Not Asking For permission in android and program directly runs into denied block","body":"<p>me too. Then I check app-&gt;manifests-&gt;androidmanifests.xml\nadd the permission app need.\nfor me: the line 1,2 show you the location, line 3,4 is my add.</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":22726904,"reputation":29,"user_id":16890478,"display_name":"Sumit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692025183,"creation_date":1632501036,"question_id":69318399,"body_markdown":"   Hi So Recently I started coding in android studio and I included dexter for permissions to access user storage but the main concern is that the code is directly showing the message of denied block even without asking for permiisions.PLease help\r\n\r\n \r\n\r\n    Dexter.withContext(this)\r\n                        .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\r\n        \r\n                        .withListener(new PermissionListener() {\r\n                            @Override\r\n                            public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\r\n                                Toast.makeText(MainActivity.this, &quot;Thanks !&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n        \r\n                            @Override\r\n                            public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\r\n                                Toast.makeText(MainActivity.this, &quot;not granted&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n        \r\n                            @Override\r\n                            public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\r\n                                permissionToken.continuePermissionRequest();\r\n                            }\r\n                        })\r\n                        .check();","title":"Not Asking For permission in android and program directly runs into denied block","body":"<p>Hi So Recently I started coding in android studio and I included dexter for permissions to access user storage but the main concern is that the code is directly showing the message of denied block even without asking for permiisions.PLease help</p>\n<pre><code>Dexter.withContext(this)\n                    .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n    \n                    .withListener(new PermissionListener() {\n                        @Override\n                        public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\n                            Toast.makeText(MainActivity.this, &quot;Thanks !&quot;, Toast.LENGTH_SHORT).show();\n                        }\n    \n                        @Override\n                        public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\n                            Toast.makeText(MainActivity.this, &quot;not granted&quot;, Toast.LENGTH_SHORT).show();\n                        }\n    \n                        @Override\n                        public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\n                            permissionToken.continuePermissionRequest();\n                        }\n                    })\n                    .check();\n</code></pre>\n"},{"tags":["java","concurrenthashmap"],"comments":[{"owner":{"account_id":204988,"reputation":6870,"user_id":453513,"accept_rate":72,"display_name":"RAY"},"score":1,"creation_date":1305301275,"post_id":698638,"comment_id":6922497,"body_markdown":"I think it&#39;s an extremely annoying inconsistency. EnumMap doesn&#39;t allow null either. There&#39;s obviously no technical limitation that disallows null keys. for a Map&lt;K, V&gt;, simply a V-typed field will provide support for null keys (probably another boolean field if you want to differentiate between null value and no value).","body":"I think it&#39;s an extremely annoying inconsistency. EnumMap doesn&#39;t allow null either. There&#39;s obviously no technical limitation that disallows null keys. for a Map&lt;K, V&gt;, simply a V-typed field will provide support for null keys (probably another boolean field if you want to differentiate between null value and no value)."},{"owner":{"account_id":72889,"reputation":4696,"user_id":210216,"display_name":"Jed Wesley-Smith"},"score":8,"creation_date":1356850205,"post_id":698638,"comment_id":19485036,"body_markdown":"A better question is &quot;why does HashMap allow a null key and null values?&quot;. Or possibly, &quot;why does Java allow null to inhabit all types?&quot;, or even &quot;why does Java have nulls at all?&quot;.","body":"A better question is &quot;why does HashMap allow a null key and null values?&quot;. Or possibly, &quot;why does Java allow null to inhabit all types?&quot;, or even &quot;why does Java have nulls at all?&quot;."}],"answers":[{"tags":[],"owner":{"account_id":29913,"reputation":10102,"user_id":81193,"accept_rate":83,"display_name":"Kevin Crowell"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1238440621,"creation_date":1238440621,"answer_id":698649,"question_id":698638,"body_markdown":"ConcurrentHashMap is thread-safe. I believe that not allowing null keys and values was a part of making sure that it is thread-safe.","title":"Why does ConcurrentHashMap prevent null keys and values?","body":"<p>ConcurrentHashMap is thread-safe. I believe that not allowing null keys and values was a part of making sure that it is thread-safe.</p>\n"},{"tags":[],"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"down_vote_count":6,"up_vote_count":8,"is_accepted":false,"score":2,"last_activity_date":1238445822,"creation_date":1238440696,"answer_id":698652,"question_id":698638,"body_markdown":"You can&#39;t synchronize on a null.\r\n\r\nEdit: This isn&#39;t exactly why in this case.  I initially thought there was something fancy going on with locking things against concurrent updates or otherwise using the Object monitor to detect if something was modified, but upon examining [the source code][1] it appears I was wrong - they lock using a &quot;segment&quot; based on a bitmask of the hash.\r\n\r\nIn that case, I suspect they did it to copy Hashtable, and I suspect Hashtable did it because in the relational database world, null != null, so using a null as a key has no meaning.\r\n\r\n\r\n  [1]: http://gee.cs.oswego.edu/dl/classes/EDU/oswego/cs/dl/util/concurrent/ConcurrentHashMap.java","title":"Why does ConcurrentHashMap prevent null keys and values?","body":"<p>You can't synchronize on a null.</p>\n\n<p>Edit: This isn't exactly why in this case.  I initially thought there was something fancy going on with locking things against concurrent updates or otherwise using the Object monitor to detect if something was modified, but upon examining <a href=\"http://gee.cs.oswego.edu/dl/classes/EDU/oswego/cs/dl/util/concurrent/ConcurrentHashMap.java\" rel=\"nofollow noreferrer\">the source code</a> it appears I was wrong - they lock using a \"segment\" based on a bitmask of the hash.</p>\n\n<p>In that case, I suspect they did it to copy Hashtable, and I suspect Hashtable did it because in the relational database world, null != null, so using a null as a key has no meaning.</p>\n"},{"tags":[],"owner":{"account_id":29994,"reputation":371,"user_id":81448,"display_name":"Tobias M&#252;ller"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1238441341,"creation_date":1238441341,"answer_id":698679,"question_id":698638,"body_markdown":"I guess that the following snippet of the API documentation gives a good hint:\r\n&quot;This class is fully interoperable with Hashtable in programs that rely on its thread safety but not on its synchronization details.&quot;\r\n\r\nThey probably just wanted to make `ConcurrentHashMap` fully compatible/interchangeable to `Hashtable`. And as `Hashtable` does not allow null keys and values..","title":"Why does ConcurrentHashMap prevent null keys and values?","body":"<p>I guess that the following snippet of the API documentation gives a good hint:\n\"This class is fully interoperable with Hashtable in programs that rely on its thread safety but not on its synchronization details.\"</p>\n\n<p>They probably just wanted to make <code>ConcurrentHashMap</code> fully compatible/interchangeable to <code>Hashtable</code>. And as <code>Hashtable</code> does not allow null keys and values..</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1469758888,"creation_date":1238443288,"answer_id":698803,"question_id":698638,"body_markdown":"Josh Bloch designed `HashMap`; Doug Lea designed `ConcurrentHashMap`. I hope that isn&#39;t libelous. Actually I think the problem is that nulls often require wrapping so that the real null can stand for uninitialized. If client code requires nulls then it can pay the (admittedly small) cost of wrapping nulls itself.","title":"Why does ConcurrentHashMap prevent null keys and values?","body":"<p>Josh Bloch designed <code>HashMap</code>; Doug Lea designed <code>ConcurrentHashMap</code>. I hope that isn't libelous. Actually I think the problem is that nulls often require wrapping so that the real null can stand for uninitialized. If client code requires nulls then it can pay the (admittedly small) cost of wrapping nulls itself.</p>\n"},{"tags":[],"owner":{"account_id":43047,"reputation":12737,"user_id":125663,"accept_rate":100,"display_name":"Alice Purcell"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1295616376,"creation_date":1295616376,"answer_id":4759293,"question_id":698638,"body_markdown":"I believe it is, at least in part, to allow you to combine `containsKey` and `get` into a single call. If the map can hold nulls, there is no way to tell if `get` is returning a null because there was no key for that value, or just because the value was null.\r\n\r\nWhy is that a problem? Because there is no safe way to do that yourself. Take the following code:\r\n\r\n    if (m.containsKey(k)) {\r\n       return m.get(k);\r\n    } else {\r\n       throw new KeyNotPresentException();\r\n    }\r\n\r\nSince `m` is a concurrent map, key k may be deleted between the `containsKey` and `get` calls, causing this snippet to return a null that was never in the table, rather than the desired `KeyNotPresentException`.\r\n\r\nNormally you would solve that by synchronizing, but with a concurrent map that of course won&#39;t work. Hence the signature for `get` had to change, and the only way to do that in a backwards-compatible way was to prevent the user inserting null values in the first place, and continue using that as a placeholder for &quot;key not found&quot;.","title":"Why does ConcurrentHashMap prevent null keys and values?","body":"<p>I believe it is, at least in part, to allow you to combine <code>containsKey</code> and <code>get</code> into a single call. If the map can hold nulls, there is no way to tell if <code>get</code> is returning a null because there was no key for that value, or just because the value was null.</p>\n\n<p>Why is that a problem? Because there is no safe way to do that yourself. Take the following code:</p>\n\n<pre><code>if (m.containsKey(k)) {\n   return m.get(k);\n} else {\n   throw new KeyNotPresentException();\n}\n</code></pre>\n\n<p>Since <code>m</code> is a concurrent map, key k may be deleted between the <code>containsKey</code> and <code>get</code> calls, causing this snippet to return a null that was never in the table, rather than the desired <code>KeyNotPresentException</code>.</p>\n\n<p>Normally you would solve that by synchronizing, but with a concurrent map that of course won't work. Hence the signature for <code>get</code> had to change, and the only way to do that in a backwards-compatible way was to prevent the user inserting null values in the first place, and continue using that as a placeholder for \"key not found\".</p>\n"},{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":247,"is_accepted":true,"score":247,"last_activity_date":1329326582,"creation_date":1329326582,"answer_id":9298113,"question_id":698638,"body_markdown":"[From the author of `ConcurrentHashMap` himself (Doug Lea)][1]:\r\n\r\n&gt; The main reason that nulls aren&#39;t allowed in ConcurrentMaps\r\n&gt; (ConcurrentHashMaps, ConcurrentSkipListMaps) is that ambiguities that\r\n&gt; may be just barely tolerable in non-concurrent maps can&#39;t be\r\n&gt; accommodated. The main one is that if `map.get(key)` returns `null`, you\r\n&gt; can&#39;t detect whether the key explicitly maps to `null` vs the key isn&#39;t\r\n&gt; mapped. In a non-concurrent map, you can check this via\r\n&gt; `map.contains(key)`, but in a concurrent one, the map might have changed\r\n&gt; between calls.\r\n\r\n\r\n  [1]: http://cs.oswego.edu/pipermail/concurrency-interest/2006-May/002485.html","title":"Why does ConcurrentHashMap prevent null keys and values?","body":"<p><a href=\"http://cs.oswego.edu/pipermail/concurrency-interest/2006-May/002485.html\" rel=\"noreferrer\">From the author of <code>ConcurrentHashMap</code> himself (Doug Lea)</a>:</p>\n\n<blockquote>\n  <p>The main reason that nulls aren't allowed in ConcurrentMaps\n  (ConcurrentHashMaps, ConcurrentSkipListMaps) is that ambiguities that\n  may be just barely tolerable in non-concurrent maps can't be\n  accommodated. The main one is that if <code>map.get(key)</code> returns <code>null</code>, you\n  can't detect whether the key explicitly maps to <code>null</code> vs the key isn't\n  mapped. In a non-concurrent map, you can check this via\n  <code>map.contains(key)</code>, but in a concurrent one, the map might have changed\n  between calls.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9287937,"reputation":327,"user_id":6897197,"display_name":"yinhaomin"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1546940585,"creation_date":1546940585,"answer_id":54089024,"question_id":698638,"body_markdown":"I don&#39;t think disallowing null value is a correct option. \r\nIn many cases, we do want do put a key with null value into the con-current map. However, by using ConcurrentHashMap, we cannot do that.\r\nI suggest that the coming version of JDK can support that.","title":"Why does ConcurrentHashMap prevent null keys and values?","body":"<p>I don't think disallowing null value is a correct option. \nIn many cases, we do want do put a key with null value into the con-current map. However, by using ConcurrentHashMap, we cannot do that.\nI suggest that the coming version of JDK can support that.</p>\n"}],"owner":{"account_id":1854,"reputation":3799,"user_id":2554,"accept_rate":69,"display_name":"Marcel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77941,"favorite_count":0,"down_vote_count":1,"up_vote_count":166,"accepted_answer_id":9298113,"answer_count":7,"score":165,"last_activity_date":1692025127,"creation_date":1238440330,"question_id":698638,"body_markdown":"The JavaDoc of [`ConcurrentHashMap`][1] says this:\r\n\r\n&gt; Like `Hashtable` but unlike `HashMap`, this class does *not* allow `null` to be used as a key or value.\r\n\r\nMy question: Why?\r\n\r\n2nd question: Why doesn&#39;t `Hashtable` allow null?\r\n\r\nI&#39;ve used a lot of HashMaps for storing data. But when changing to `ConcurrentHashMap` I got several times into trouble because of NullPointerExceptions.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/ConcurrentHashMap.html","title":"Why does ConcurrentHashMap prevent null keys and values?","body":"<p>The JavaDoc of <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"noreferrer\"><code>ConcurrentHashMap</code></a> says this:</p>\n\n<blockquote>\n  <p>Like <code>Hashtable</code> but unlike <code>HashMap</code>, this class does <em>not</em> allow <code>null</code> to be used as a key or value.</p>\n</blockquote>\n\n<p>My question: Why?</p>\n\n<p>2nd question: Why doesn't <code>Hashtable</code> allow null?</p>\n\n<p>I've used a lot of HashMaps for storing data. But when changing to <code>ConcurrentHashMap</code> I got several times into trouble because of NullPointerExceptions.</p>\n"},{"tags":["java","windows","environment-variables"],"comments":[{"owner":{"account_id":4891345,"reputation":345,"user_id":3942407,"display_name":"brb tea"},"score":0,"creation_date":1416310004,"post_id":26993101,"comment_id":42517173,"body_markdown":"Set path with batch file, and execute java too inside batch file.","body":"Set path with batch file, and execute java too inside batch file."},{"owner":{"account_id":4245913,"reputation":644,"user_id":3474610,"accept_rate":39,"display_name":"Lui"},"score":1,"creation_date":1416310246,"post_id":26993101,"comment_id":42517323,"body_markdown":"As you can see both variables are setting in batch file. But I don&#39;t know how to execute java inside this file. I found this solution on another page and I don&#39;t know how to write batch files.","body":"As you can see both variables are setting in batch file. But I don&#39;t know how to execute java inside this file. I found this solution on another page and I don&#39;t know how to write batch files."}],"answers":[{"tags":[],"owner":{"account_id":482558,"reputation":29183,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1692024911,"creation_date":1416310150,"answer_id":26993233,"question_id":26993101,"body_markdown":"The `set` command only works for the current terminal. To permanently set a system or user environment variable you can use [`setx`][1]. \r\n\r\nYou can set the variable for the current user like this:\r\n\r\n    setx JAVA_HOME &quot;C:\\Program Files\\Java\\jdk1.7.0_72&quot;\r\n\r\nYou can also set the variable system wide (Note: **The terminal must be run as administrator fo this**) by running the same command with the `/m` option:\r\n\r\n    setx JAVA_HOME &quot;C:\\Program Files\\Java\\jdk1.7.0_72&quot; /m\r\n\r\nThe variable will be available in all new terminal session, but not the current one. If you also want to use the path in the same sessoin, you need to use both `set` and `setx`.\r\n\r\nYou can avoid manipulating the `PATH` variable if you just once put `%JAVA_HOME%` in there, instead of the full JDK path. If you change `JAVA_HOME`, `PATH` will be updated too.\r\n\r\n\r\n---\r\n\r\nThere are also a few environment variable editors as alternative to the cumbersome Windows environment variable settings. See &quot;[Is there a convenient way to edit PATH in Windows 7?][2]&quot; on Super User.\r\n\r\n\r\n  [1]: http://technet.microsoft.com/en-us/library/cc755104.aspx\r\n  [2]: https://superuser.com/questions/297947/is-there-a-convenient-way-to-edit-path-in-windows-7","title":"Switching between different JDK versions in Windows","body":"<p>The <code>set</code> command only works for the current terminal. To permanently set a system or user environment variable you can use <a href=\"http://technet.microsoft.com/en-us/library/cc755104.aspx\" rel=\"nofollow noreferrer\"><code>setx</code></a>.</p>\n<p>You can set the variable for the current user like this:</p>\n<pre><code>setx JAVA_HOME &quot;C:\\Program Files\\Java\\jdk1.7.0_72&quot;\n</code></pre>\n<p>You can also set the variable system wide (Note: <strong>The terminal must be run as administrator fo this</strong>) by running the same command with the <code>/m</code> option:</p>\n<pre><code>setx JAVA_HOME &quot;C:\\Program Files\\Java\\jdk1.7.0_72&quot; /m\n</code></pre>\n<p>The variable will be available in all new terminal session, but not the current one. If you also want to use the path in the same sessoin, you need to use both <code>set</code> and <code>setx</code>.</p>\n<p>You can avoid manipulating the <code>PATH</code> variable if you just once put <code>%JAVA_HOME%</code> in there, instead of the full JDK path. If you change <code>JAVA_HOME</code>, <code>PATH</code> will be updated too.</p>\n<hr />\n<p>There are also a few environment variable editors as alternative to the cumbersome Windows environment variable settings. See &quot;<a href=\"https://superuser.com/questions/297947/is-there-a-convenient-way-to-edit-path-in-windows-7\">Is there a convenient way to edit PATH in Windows 7?</a>&quot; on Super User.</p>\n"},{"tags":[],"owner":{"account_id":2544920,"reputation":101,"user_id":6413028,"display_name":"Conete Cristian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526375343,"creation_date":1526375022,"answer_id":50346234,"question_id":26993101,"body_markdown":"If your path have less than 1024 characters can execute (Run as Administrator) this script:\r\n\r\n\t@echo off \r\n\tset &quot;JAVA5_FOLDER=C:\\Java\\jdk1.5.0_22&quot;\r\n\tset &quot;JAVA6_FOLDER=C:\\Java\\jdk1.6.0_45&quot;\r\n\tset &quot;JAVA7_FOLDER=C:\\Java\\jdk1.7.0_80&quot;\r\n\tset &quot;JAVA8_FOLDER=C:\\Java\\jdk1.8.0_121&quot;\r\n\tset &quot;JAVA9_FOLDER=C:\\Java\\jdk-10.0.1&quot;\r\n\tset &quot;CLEAR_FOLDER=C:\\xxxxxx&quot;\r\n\r\n\t(echo &quot;%PATH%&quot; &amp; echo.) | findstr /O . | more +1 | (set /P RESULT= &amp; call exit /B %%RESULT%%)\r\n\tset /A STRLENGTH=%ERRORLEVEL%\r\n\techo path length = %STRLENGTH%\r\n\tif %STRLENGTH% GTR 1024  goto byebye \r\n\r\n\techo Old Path: %PATH%\r\n\techo =================== \r\n\techo Choose new Java Version:\r\n\techo [5] JDK5\r\n\techo [6] JDK6 \r\n\techo [7] JDK7\r\n\techo [8] JDK8\r\n\techo [9] JDK10\r\n\techo [x] Exit\r\n\r\n\t:choice \r\n\tSET /P C=[5,6,7,8,9,x]? \r\n\tfor %%? in (5) do if /I &quot;%C%&quot;==&quot;%%?&quot; goto JDK_L5 \r\n\tfor %%? in (6) do if /I &quot;%C%&quot;==&quot;%%?&quot; goto JDK_L6\r\n\tfor %%? in (7) do if /I &quot;%C%&quot;==&quot;%%?&quot; goto JDK_L7 \r\n\tfor %%? in (8) do if /I &quot;%C%&quot;==&quot;%%?&quot; goto JDK_L8 \r\n\tfor %%? in (9) do if /I &quot;%C%&quot;==&quot;%%?&quot; goto JDK_L9\r\n\tfor %%? in (x) do if /I &quot;%C%&quot;==&quot;%%?&quot; goto byebye\r\n\tgoto choice \r\n\r\n\t@echo on\r\n\t:JDK_L5  \r\n\tset &quot;NEW_PATH=%JAVA5_FOLDER%&quot;\r\n\tgoto setPath\r\n\r\n\t:JDK_L6  \r\n\t@echo off \r\n\tset &quot;NEW_PATH=%JAVA6_FOLDER%&quot;\r\n\tgoto setPath\r\n\r\n\t:JDK_L7  \r\n\t@echo off \r\n\tset &quot;NEW_PATH=%JAVA7_FOLDER%&quot;\r\n\tgoto setPath\r\n\r\n\t:JDK_L8  \r\n\t@echo off \r\n\tset &quot;NEW_PATH=%JAVA8_FOLDER%&quot;\r\n\tgoto setPath\r\n\r\n\t:JDK_L9  \r\n\t@echo off \r\n\tset NEW_PATH = %JAVA9_FOLDER%\r\n\r\n\t:setPath\r\n\tCall Set &quot;PATH=%%PATH:%JAVA5_FOLDER%=%CLEAR_FOLDER%%%&quot;\r\n\tCall Set &quot;PATH=%%PATH:%JAVA6_FOLDER%=%CLEAR_FOLDER%%%&quot;\r\n\tCall Set &quot;PATH=%%PATH:%JAVA7_FOLDER%=%CLEAR_FOLDER%%%&quot;\r\n\tCall Set &quot;PATH=%%PATH:%JAVA8_FOLDER%=%CLEAR_FOLDER%%%&quot;\r\n\tCall Set &quot;PATH=%%PATH:%JAVA9_FOLDER%=%CLEAR_FOLDER%%%&quot;\r\n\trem echo Interim Path: %PATH%\r\n\tCall Set &quot;PATH=%%PATH:%CLEAR_FOLDER%=%NEW_PATH%%%&quot; \r\n\r\n\tsetx PATH &quot;%PATH%&quot; /M\r\n\r\n\tcall set &quot;JAVA_HOME=%NEW_PATH%&quot;\r\n\tsetx JAVA_HOME %JAVA_HOME% \r\n\r\n\techo New Path: %PATH%\r\n\t:byebye\r\n\techo\r\n\tjava -version\r\n\tpause\r\n\r\nIf more than 1024, try to remove some unnecessary paths, or can modify this scripts with some inputs from https://superuser.com/questions/387619/overcoming-the-1024-character-limit-with-setx","title":"Switching between different JDK versions in Windows","body":"<p>If your path have less than 1024 characters can execute (Run as Administrator) this script:</p>\n\n<pre><code>@echo off \nset \"JAVA5_FOLDER=C:\\Java\\jdk1.5.0_22\"\nset \"JAVA6_FOLDER=C:\\Java\\jdk1.6.0_45\"\nset \"JAVA7_FOLDER=C:\\Java\\jdk1.7.0_80\"\nset \"JAVA8_FOLDER=C:\\Java\\jdk1.8.0_121\"\nset \"JAVA9_FOLDER=C:\\Java\\jdk-10.0.1\"\nset \"CLEAR_FOLDER=C:\\xxxxxx\"\n\n(echo \"%PATH%\" &amp; echo.) | findstr /O . | more +1 | (set /P RESULT= &amp; call exit /B %%RESULT%%)\nset /A STRLENGTH=%ERRORLEVEL%\necho path length = %STRLENGTH%\nif %STRLENGTH% GTR 1024  goto byebye \n\necho Old Path: %PATH%\necho =================== \necho Choose new Java Version:\necho [5] JDK5\necho [6] JDK6 \necho [7] JDK7\necho [8] JDK8\necho [9] JDK10\necho [x] Exit\n\n:choice \nSET /P C=[5,6,7,8,9,x]? \nfor %%? in (5) do if /I \"%C%\"==\"%%?\" goto JDK_L5 \nfor %%? in (6) do if /I \"%C%\"==\"%%?\" goto JDK_L6\nfor %%? in (7) do if /I \"%C%\"==\"%%?\" goto JDK_L7 \nfor %%? in (8) do if /I \"%C%\"==\"%%?\" goto JDK_L8 \nfor %%? in (9) do if /I \"%C%\"==\"%%?\" goto JDK_L9\nfor %%? in (x) do if /I \"%C%\"==\"%%?\" goto byebye\ngoto choice \n\n@echo on\n:JDK_L5  \nset \"NEW_PATH=%JAVA5_FOLDER%\"\ngoto setPath\n\n:JDK_L6  \n@echo off \nset \"NEW_PATH=%JAVA6_FOLDER%\"\ngoto setPath\n\n:JDK_L7  \n@echo off \nset \"NEW_PATH=%JAVA7_FOLDER%\"\ngoto setPath\n\n:JDK_L8  \n@echo off \nset \"NEW_PATH=%JAVA8_FOLDER%\"\ngoto setPath\n\n:JDK_L9  \n@echo off \nset NEW_PATH = %JAVA9_FOLDER%\n\n:setPath\nCall Set \"PATH=%%PATH:%JAVA5_FOLDER%=%CLEAR_FOLDER%%%\"\nCall Set \"PATH=%%PATH:%JAVA6_FOLDER%=%CLEAR_FOLDER%%%\"\nCall Set \"PATH=%%PATH:%JAVA7_FOLDER%=%CLEAR_FOLDER%%%\"\nCall Set \"PATH=%%PATH:%JAVA8_FOLDER%=%CLEAR_FOLDER%%%\"\nCall Set \"PATH=%%PATH:%JAVA9_FOLDER%=%CLEAR_FOLDER%%%\"\nrem echo Interim Path: %PATH%\nCall Set \"PATH=%%PATH:%CLEAR_FOLDER%=%NEW_PATH%%%\" \n\nsetx PATH \"%PATH%\" /M\n\ncall set \"JAVA_HOME=%NEW_PATH%\"\nsetx JAVA_HOME %JAVA_HOME% \n\necho New Path: %PATH%\n:byebye\necho\njava -version\npause\n</code></pre>\n\n<p>If more than 1024, try to remove some unnecessary paths, or can modify this scripts with some inputs from <a href=\"https://superuser.com/questions/387619/overcoming-the-1024-character-limit-with-setx\">https://superuser.com/questions/387619/overcoming-the-1024-character-limit-with-setx</a></p>\n"},{"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1530907546,"creation_date":1530907081,"answer_id":51216874,"question_id":26993101,"body_markdown":" 1. Open `Environment Variables` editor (File Explorer &gt; right click on\r\n    This PC &gt; Properties &gt; Advanced system settings &gt; Environment\r\n    Variables...)\r\n 2. Find `Path` variable in *System variables* list &gt;\r\n    press Edit &gt; put `%JAVA_HOME%bin;` at first position. This is required\r\n    because Java installer adds `C:\\Program Files (x86)\\Common\r\n    Files\\Oracle\\Java\\javapath` to the `PATH` which references to the latest Java version installed. [![enter image description here][1]][1]\r\n 3. Now you can switch between Java version using `setx` command (*should be run under administrative permissions*):\r\n\r\n        setx /m JAVA_HOME &quot;c:\\Program Files\\Java\\jdk-10.0.1\\\r\n\r\n (note: **there is no double quote at the end of the line** and should not be or you&#39;ll get `c:\\Program Files\\Java\\jdk-10.0.1\\&quot;` in your `JAVA_HOME` variable and it breaks your `PATH` variable)\r\n\r\nSolution with system variables (and administrative permissions) is more robust because it puts desired path to Java at the start of the resulting `PATH` variable.\r\n\r\n  [1]: https://i.stack.imgur.com/szvK2.png","title":"Switching between different JDK versions in Windows","body":"<ol>\n<li>Open <code>Environment Variables</code> editor (File Explorer > right click on\nThis PC > Properties > Advanced system settings > Environment\nVariables...)</li>\n<li>Find <code>Path</code> variable in <em>System variables</em> list >\npress Edit > put <code>%JAVA_HOME%bin;</code> at first position. This is required\nbecause Java installer adds <code>C:\\Program Files (x86)\\Common\nFiles\\Oracle\\Java\\javapath</code> to the <code>PATH</code> which references to the latest Java version installed. <a href=\"https://i.stack.imgur.com/szvK2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/szvK2.png\" alt=\"enter image description here\"></a></li>\n<li><p>Now you can switch between Java version using <code>setx</code> command (<em>should be run under administrative permissions</em>):</p>\n\n<pre><code>setx /m JAVA_HOME \"c:\\Program Files\\Java\\jdk-10.0.1\\\n</code></pre>\n\n<p>(note: <strong>there is no double quote at the end of the line</strong> and should not be or you'll get <code>c:\\Program Files\\Java\\jdk-10.0.1\\\"</code> in your <code>JAVA_HOME</code> variable and it breaks your <code>PATH</code> variable)</p></li>\n</ol>\n\n<p>Solution with system variables (and administrative permissions) is more robust because it puts desired path to Java at the start of the resulting <code>PATH</code> variable.</p>\n"},{"tags":[],"owner":{"account_id":6837963,"reputation":848,"user_id":5259214,"display_name":"Prakash Boda"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1653981081,"creation_date":1603268069,"answer_id":64459399,"question_id":26993101,"body_markdown":"In case if someone want to switch frequently in each new command window then I am using following approach.\r\n\r\n**Command Prompt Version:**\r\n\r\nCreate batch file using below code. You can add n number of version using if and else blocks.\r\n\r\n    @echo off\r\n    if &quot;%~1&quot; == &quot;11&quot; (\r\n       set &quot;JAVA_HOME=C:\\Software\\openjdk-11+28_windows-x64_bin\\jdk-11&quot;\r\n    ) else (\r\n       set &quot;JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_151&quot;\r\n    )\r\n    set &quot;Path=%JAVA_HOME%\\bin;%Path%&quot;\r\n    java -version\r\n\r\nSave this batch file as SJV.bat and add this file location in your machine&#39;s Path environment variable. So now SJV will act as command to &quot;Switch Java Version&quot;.\r\n\r\nNow open new command window and just type `SJV 11` it will switch to Java 11.\r\nType `SJV 8` it will switch to Java 8.\r\n\r\n**PowerShell Version**\r\n\r\nCreate powershell(ps1) file using below code. You can add n number of version using if and else blocks.\r\n\r\n    If($args[0] -eq &quot;11&quot;)\r\n    {\r\n    \t$env:JAVA_HOME = &#39;C:\\Software\\openjdk-11+28_windows-x64_bin\\jdk-11&#39;\r\n    }else{\r\n    \t$env:JAVA_HOME = &#39;C:\\Program Files\\Java\\jdk1.8.0_151&#39;\r\n    }\r\n    $env:Path = $env:JAVA_HOME+&#39;\\bin;&#39;+$env:Path\r\n    java -version\r\n\r\nSave this script file as SJV.ps1 and add this file location in your machine&#39;s Path environment variable. So now SJV will act as command to &quot;Switch Java Version&quot;.\r\n\r\nNow open new powershell window and just type `SJV 11` it will switch to Java 11.\r\nType `SJV 8` OR `SJV` it will switch to Java 8.\r\n\r\nI hope this help someone who want to change it frequently.","title":"Switching between different JDK versions in Windows","body":"<p>In case if someone want to switch frequently in each new command window then I am using following approach.</p>\n<p><strong>Command Prompt Version:</strong></p>\n<p>Create batch file using below code. You can add n number of version using if and else blocks.</p>\n<pre><code>@echo off\nif &quot;%~1&quot; == &quot;11&quot; (\n   set &quot;JAVA_HOME=C:\\Software\\openjdk-11+28_windows-x64_bin\\jdk-11&quot;\n) else (\n   set &quot;JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_151&quot;\n)\nset &quot;Path=%JAVA_HOME%\\bin;%Path%&quot;\njava -version\n</code></pre>\n<p>Save this batch file as SJV.bat and add this file location in your machine's Path environment variable. So now SJV will act as command to &quot;Switch Java Version&quot;.</p>\n<p>Now open new command window and just type <code>SJV 11</code> it will switch to Java 11.\nType <code>SJV 8</code> it will switch to Java 8.</p>\n<p><strong>PowerShell Version</strong></p>\n<p>Create powershell(ps1) file using below code. You can add n number of version using if and else blocks.</p>\n<pre><code>If($args[0] -eq &quot;11&quot;)\n{\n    $env:JAVA_HOME = 'C:\\Software\\openjdk-11+28_windows-x64_bin\\jdk-11'\n}else{\n    $env:JAVA_HOME = 'C:\\Program Files\\Java\\jdk1.8.0_151'\n}\n$env:Path = $env:JAVA_HOME+'\\bin;'+$env:Path\njava -version\n</code></pre>\n<p>Save this script file as SJV.ps1 and add this file location in your machine's Path environment variable. So now SJV will act as command to &quot;Switch Java Version&quot;.</p>\n<p>Now open new powershell window and just type <code>SJV 11</code> it will switch to Java 11.\nType <code>SJV 8</code> OR <code>SJV</code> it will switch to Java 8.</p>\n<p>I hope this help someone who want to change it frequently.</p>\n"},{"tags":[],"owner":{"account_id":2814271,"reputation":333,"user_id":2419789,"accept_rate":50,"display_name":"CamelCamelius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636086161,"creation_date":1636086161,"answer_id":69848663,"question_id":26993101,"body_markdown":"Run this BAT file to conveniently change the java version.\r\n\r\nPros:\r\n-----\r\n\r\n 1. It does NOT modify the PATH system environment variable.\r\n 2. The only thing that has to be maintained is the relational array (can be conveniently constructed as a sparse array) that holds the version number and the path at the beginning of the script.\r\n\r\nPrecondition:\r\n----\r\nThe following entry `%JAVA_HOME%\\bin` has to be [appended][1] to the `PATH` environment variable.\r\n\r\n\r\n\r\n    @echo off\r\n    @cls\r\n    @title Switch Java Version\r\n    setlocal EnableExtensions DisableDelayedExpansion\r\n    \r\n    :: This bat file Switches the Java Version using the JAVA_HOME variable.\r\n    :: This script does NOT modify the PATH system environment variable.\r\n    :: Precondition: The following entry &quot;%JAVA_HOME%\\bin&quot; has to be appended to the PATH environment variable.\r\n    ::  Script Name: SwitchJavaVersion | Version 1 | 2021/11/04\r\n    \r\n    rem Add items to vector as follows:\r\n    rem   AvailableVersions[&quot;Java Major Version Number&quot;]=&quot;Java Absolute Path&quot;\r\n    set AvailableVersions[8]=&quot;D:\\Program Files\\Java\\jdk8u252-b09&quot;\r\n    set AvailableVersions[17]=&quot;D:\\Program Files\\Java\\jdk-17.0.1&quot;\r\n    \r\n    call :PrintJavaVersion\r\n    call :PrintAvailableVersions\r\n    call :GetJavaVersion\r\n    call :SetJavaVersion\r\n    call :ResetLocalPath\r\n    if %errorlevel% neq 0 exit /b %errorlevel%\r\n    call :PrintJavaVersion\r\n    \r\n    pause\r\n    endlocal\r\n    exit /b\r\n    \r\n    \r\n    rem Print available versions.\r\n    :PrintAvailableVersions\r\n        echo Available Java Versions:\r\n        for /f &quot;tokens=2 delims=[]&quot; %%I in (&#39;set AvailableVersions[&#39;) do echo ^&gt; %%I\r\n        exit /b\r\n    \r\n    rem Get version from user input or command-line arguments.\r\n    :GetJavaVersion\r\n        set &quot;JavaVersion=&quot;\r\n        if &quot;%~1&quot;==&quot;&quot; (\r\n            set /p JavaVersion=&quot;Type the major java version number you want to switch to: &quot;\r\n        ) else (\r\n            set /a JavaVersion=&quot;%~1&quot;\r\n        )\r\n        exit /b\r\n    \r\n    \r\n    rem Update JAVA_HOME user variable with hardcoded paths.\r\n    :SetJavaVersion\r\n        set JavaPath=\r\n        for /f &quot;tokens=2 delims=[]&quot; %%I in (&#39;set AvailableVersions[&#39;) do (\r\n            if &quot;%%I&quot; == &quot;%JavaVersion%&quot; (\r\n                setlocal EnableDelayedExpansion\r\n                set JavaPath=!AvailableVersions[%%I]!\r\n                setlocal EnableExtensions DisableDelayedExpansion\r\n            )\r\n        )\r\n    \r\n        if not defined JavaPath (\r\n            echo &quot;Specified version NOT found: Default settings applied.&quot;\r\n            for /f &quot;tokens=2 delims==&quot; %%I in (&#39;set AvailableVersions[&#39;) do (\r\n                set JavaPath=%%I\r\n                goto exitForJavaPath\r\n            )\r\n            \r\n        )\r\n        :exitForJavaPath\r\n    \r\n        rem remove quotes from path\r\n        set JavaPath=%JavaPath:&quot;=%\r\n        set &quot;JAVA_HOME=%JavaPath%&quot;\r\n        setx JAVA_HOME &quot;%JAVA_HOME%&quot;\r\n        \r\n        rem setlocal statement was run 2 times previously inside the for loop; therefore, the endlocal statement must be executed 2 times to close those nested local scopes.\r\n    \r\n        \r\n        rem below endlocal statement will close local scope set by previous &quot;setlocal EnableExtensions DisableDelayedExpansion&quot; statement\r\n        endlocal &amp; set &quot;JavaPath=%JavaPath%&quot;\r\n        rem JAVA_HOME&#39;s value rolls back due to endlocal statement so the appropriate value has to be reassigned\r\n        set &quot;JAVA_HOME=%JavaPath%&quot;\r\n        rem below endlocal statement will close local scope set by previous &quot;setlocal EnableDelayedExpansion&quot; statement\r\n        endlocal &amp; set &quot;JavaPath=%JavaPath%&quot;\r\n        rem JAVA_HOME&#39;s value rolls back due to endlocal statement so the appropriate value has to be reassigned\r\n        set &quot;JAVA_HOME=%JavaPath%&quot;\r\n        \r\n        exit /b\r\n    \r\n    \r\n    rem Get User and System Path variable&#39;s definition from Registry,\r\n    rem    evaluate the definitions with the new values and reset\r\n    rem    the local path variable so newly set java version\r\n    rem    is properly displayed.\r\n    :ResetLocalPath\r\n        set &quot;PathValue=&quot;\r\n        for /F &quot;skip=2 tokens=1,2,*&quot; %%I in (&#39;%SystemRoot%\\System32\\reg.exe QUERY &quot;HKLM\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment&quot; /V Path&#39;) do if /I &quot;%%I&quot; == &quot;Path&quot; if not &quot;%%~K&quot; == &quot;&quot; if &quot;%%J&quot; == &quot;REG_SZ&quot; (set &quot;PathValue=%%~K&quot;) else if &quot;%%J&quot; == &quot;REG_EXPAND_SZ&quot; call set &quot;PathValue=%%~K&quot;\r\n    \r\n        if not defined PathValue goto pathError\r\n    \r\n        set &quot;UserPathValue=&quot;\r\n        for /F &quot;skip=2 tokens=1,2,*&quot; %%I in (&#39;%SystemRoot%\\System32\\reg.exe QUERY &quot;HKCU\\Environment&quot; /V Path&#39;) do if /I &quot;%%I&quot; == &quot;Path&quot; if not &quot;%%~K&quot; == &quot;&quot; if &quot;%%J&quot; == &quot;REG_SZ&quot; (set &quot;UserPathValue=%%~K&quot;) else if &quot;%%J&quot; == &quot;REG_EXPAND_SZ&quot; call set &quot;UserPathValue=%%~K&quot;\r\n    \r\n        if not defined UserPathValue goto pathError\r\n        \r\n        call set &quot;Path=%PathValue%;%UserPathValue%&quot;\r\n    \r\n        echo Path variable reset:\r\n        echo PATH=%Path%  \r\n        echo.\r\n        exit /b\r\n    \r\n    \r\n    rem Display the Java version.\r\n    :PrintJavaVersion\r\n        echo Current Java Version:\r\n        java -version\r\n        echo.\r\n        exit /b\r\n    \r\n    \r\n    rem Error handling subroutine.\r\n    :pathError\r\n        echo.\r\n        echo Error while refreshing the PATH variable:\r\n        echo PathValue=%PathValue%\r\n        echo UserPathValue=%UserPathValue%\r\n        pause\r\n        exit /b 2\r\n    \r\n    endlocal\r\n    exit\r\n\r\n\r\n  [1]: https://mkyong.com/java/how-to-set-java_home-on-windows-10/","title":"Switching between different JDK versions in Windows","body":"<p>Run this BAT file to conveniently change the java version.</p>\n<h2>Pros:</h2>\n<ol>\n<li>It does NOT modify the PATH system environment variable.</li>\n<li>The only thing that has to be maintained is the relational array (can be conveniently constructed as a sparse array) that holds the version number and the path at the beginning of the script.</li>\n</ol>\n<h2>Precondition:</h2>\n<p>The following entry <code>%JAVA_HOME%\\bin</code> has to be <a href=\"https://mkyong.com/java/how-to-set-java_home-on-windows-10/\" rel=\"nofollow noreferrer\">appended</a> to the <code>PATH</code> environment variable.</p>\n<pre><code>@echo off\n@cls\n@title Switch Java Version\nsetlocal EnableExtensions DisableDelayedExpansion\n\n:: This bat file Switches the Java Version using the JAVA_HOME variable.\n:: This script does NOT modify the PATH system environment variable.\n:: Precondition: The following entry &quot;%JAVA_HOME%\\bin&quot; has to be appended to the PATH environment variable.\n::  Script Name: SwitchJavaVersion | Version 1 | 2021/11/04\n\nrem Add items to vector as follows:\nrem   AvailableVersions[&quot;Java Major Version Number&quot;]=&quot;Java Absolute Path&quot;\nset AvailableVersions[8]=&quot;D:\\Program Files\\Java\\jdk8u252-b09&quot;\nset AvailableVersions[17]=&quot;D:\\Program Files\\Java\\jdk-17.0.1&quot;\n\ncall :PrintJavaVersion\ncall :PrintAvailableVersions\ncall :GetJavaVersion\ncall :SetJavaVersion\ncall :ResetLocalPath\nif %errorlevel% neq 0 exit /b %errorlevel%\ncall :PrintJavaVersion\n\npause\nendlocal\nexit /b\n\n\nrem Print available versions.\n:PrintAvailableVersions\n    echo Available Java Versions:\n    for /f &quot;tokens=2 delims=[]&quot; %%I in ('set AvailableVersions[') do echo ^&gt; %%I\n    exit /b\n\nrem Get version from user input or command-line arguments.\n:GetJavaVersion\n    set &quot;JavaVersion=&quot;\n    if &quot;%~1&quot;==&quot;&quot; (\n        set /p JavaVersion=&quot;Type the major java version number you want to switch to: &quot;\n    ) else (\n        set /a JavaVersion=&quot;%~1&quot;\n    )\n    exit /b\n\n\nrem Update JAVA_HOME user variable with hardcoded paths.\n:SetJavaVersion\n    set JavaPath=\n    for /f &quot;tokens=2 delims=[]&quot; %%I in ('set AvailableVersions[') do (\n        if &quot;%%I&quot; == &quot;%JavaVersion%&quot; (\n            setlocal EnableDelayedExpansion\n            set JavaPath=!AvailableVersions[%%I]!\n            setlocal EnableExtensions DisableDelayedExpansion\n        )\n    )\n\n    if not defined JavaPath (\n        echo &quot;Specified version NOT found: Default settings applied.&quot;\n        for /f &quot;tokens=2 delims==&quot; %%I in ('set AvailableVersions[') do (\n            set JavaPath=%%I\n            goto exitForJavaPath\n        )\n        \n    )\n    :exitForJavaPath\n\n    rem remove quotes from path\n    set JavaPath=%JavaPath:&quot;=%\n    set &quot;JAVA_HOME=%JavaPath%&quot;\n    setx JAVA_HOME &quot;%JAVA_HOME%&quot;\n    \n    rem setlocal statement was run 2 times previously inside the for loop; therefore, the endlocal statement must be executed 2 times to close those nested local scopes.\n\n    \n    rem below endlocal statement will close local scope set by previous &quot;setlocal EnableExtensions DisableDelayedExpansion&quot; statement\n    endlocal &amp; set &quot;JavaPath=%JavaPath%&quot;\n    rem JAVA_HOME's value rolls back due to endlocal statement so the appropriate value has to be reassigned\n    set &quot;JAVA_HOME=%JavaPath%&quot;\n    rem below endlocal statement will close local scope set by previous &quot;setlocal EnableDelayedExpansion&quot; statement\n    endlocal &amp; set &quot;JavaPath=%JavaPath%&quot;\n    rem JAVA_HOME's value rolls back due to endlocal statement so the appropriate value has to be reassigned\n    set &quot;JAVA_HOME=%JavaPath%&quot;\n    \n    exit /b\n\n\nrem Get User and System Path variable's definition from Registry,\nrem    evaluate the definitions with the new values and reset\nrem    the local path variable so newly set java version\nrem    is properly displayed.\n:ResetLocalPath\n    set &quot;PathValue=&quot;\n    for /F &quot;skip=2 tokens=1,2,*&quot; %%I in ('%SystemRoot%\\System32\\reg.exe QUERY &quot;HKLM\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment&quot; /V Path') do if /I &quot;%%I&quot; == &quot;Path&quot; if not &quot;%%~K&quot; == &quot;&quot; if &quot;%%J&quot; == &quot;REG_SZ&quot; (set &quot;PathValue=%%~K&quot;) else if &quot;%%J&quot; == &quot;REG_EXPAND_SZ&quot; call set &quot;PathValue=%%~K&quot;\n\n    if not defined PathValue goto pathError\n\n    set &quot;UserPathValue=&quot;\n    for /F &quot;skip=2 tokens=1,2,*&quot; %%I in ('%SystemRoot%\\System32\\reg.exe QUERY &quot;HKCU\\Environment&quot; /V Path') do if /I &quot;%%I&quot; == &quot;Path&quot; if not &quot;%%~K&quot; == &quot;&quot; if &quot;%%J&quot; == &quot;REG_SZ&quot; (set &quot;UserPathValue=%%~K&quot;) else if &quot;%%J&quot; == &quot;REG_EXPAND_SZ&quot; call set &quot;UserPathValue=%%~K&quot;\n\n    if not defined UserPathValue goto pathError\n    \n    call set &quot;Path=%PathValue%;%UserPathValue%&quot;\n\n    echo Path variable reset:\n    echo PATH=%Path%  \n    echo.\n    exit /b\n\n\nrem Display the Java version.\n:PrintJavaVersion\n    echo Current Java Version:\n    java -version\n    echo.\n    exit /b\n\n\nrem Error handling subroutine.\n:pathError\n    echo.\n    echo Error while refreshing the PATH variable:\n    echo PathValue=%PathValue%\n    echo UserPathValue=%UserPathValue%\n    pause\n    exit /b 2\n\nendlocal\nexit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7788830,"reputation":1450,"user_id":5963772,"accept_rate":43,"display_name":"Kid101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641286635,"creation_date":1641286292,"answer_id":70576201,"question_id":26993101,"body_markdown":"Load below mentioned PowerShell script at the start of the PowerShell.  or generate the file using `New-Item $profile -Type File -Force`\r\nthis will create a file here `C:\\Users\\{user_name}\\Documents\\WindowsPowerShell\\Microsoft.PowerShell_profile`\r\n\r\nNow copy-paste the content given below in this file to be loaded each time the PowerShell is started\r\n\r\nSet all the java versions you need as separate variables.\r\n\r\n 1. Java_8_home-&gt; Points to Java 8 Location in local\r\n 2. Java_11_home -&gt; Points to Java 11 Location in local\r\n 3. Java_17_home -&gt; Points to Java 17 Location in local\r\n 4. Java_Home-&gt; This points to the java version you want to use\r\n\r\nRun in power shell to update the version to 8 `update_java_version 8 $True`\r\n\r\nTo update execution policy to allow script to be loaded at start of the PowerShell use below command\r\n`Set-ExecutionPolicy -Scope CurrentUser -ExecutionPolicy Unrestricted -Force`\r\n  \r\n`\r\n\r\n    function update_java_version($version, [bool] $everywhere)\r\n    {\r\n        switch ($version)\r\n        {\r\n            8 {\r\n                $java_value = (Get-Item Env:Java_8_home).value\r\n                $Env:Java_Home = $java_value\r\n                refresh-path\r\n                break\r\n            }\r\n            11 {\r\n                $java_value = (Get-Item Env:Java_11_home).value\r\n                $Env:Java_Home = $java_value\r\n                refresh-path\r\n                break\r\n            }\r\n            17 {\r\n                $java_value = (Get-Item Env:Java_17_home).value\r\n                $Env:Java_Home = $java_value\r\n                refresh-path\r\n                break\r\n            }\r\n            default {\r\n                throw &quot;No matching java version found for `$version`: $version&quot;\r\n            }\r\n        }\r\n        if ($everywhere)\r\n        {\r\n            [System.Environment]::SetEnvironmentVariable(&quot;Java_Home&quot;, $java_value, &quot;User&quot;)\r\n        }\r\n    }\r\n\r\n    function refresh-path\r\n    {\r\n        $env:Path = [System.Environment]::GetEnvironmentVariable(&quot;Path&quot;, &quot;Machine&quot;) +\r\n                &quot;;&quot; +\r\n                [System.Environment]::GetEnvironmentVariable(&quot;Path&quot;, &quot;User&quot;)\r\n    }\r\n\r\n\r\n","title":"Switching between different JDK versions in Windows","body":"<p>Load below mentioned PowerShell script at the start of the PowerShell.  or generate the file using <code>New-Item $profile -Type File -Force</code>\nthis will create a file here <code>C:\\Users\\{user_name}\\Documents\\WindowsPowerShell\\Microsoft.PowerShell_profile</code></p>\n<p>Now copy-paste the content given below in this file to be loaded each time the PowerShell is started</p>\n<p>Set all the java versions you need as separate variables.</p>\n<ol>\n<li>Java_8_home-&gt; Points to Java 8 Location in local</li>\n<li>Java_11_home -&gt; Points to Java 11 Location in local</li>\n<li>Java_17_home -&gt; Points to Java 17 Location in local</li>\n<li>Java_Home-&gt; This points to the java version you want to use</li>\n</ol>\n<p>Run in power shell to update the version to 8 <code>update_java_version 8 $True</code></p>\n<p>To update execution policy to allow script to be loaded at start of the PowerShell use below command\n<code>Set-ExecutionPolicy -Scope CurrentUser -ExecutionPolicy Unrestricted -Force</code></p>\n<p>`</p>\n<pre><code>function update_java_version($version, [bool] $everywhere)\n{\n    switch ($version)\n    {\n        8 {\n            $java_value = (Get-Item Env:Java_8_home).value\n            $Env:Java_Home = $java_value\n            refresh-path\n            break\n        }\n        11 {\n            $java_value = (Get-Item Env:Java_11_home).value\n            $Env:Java_Home = $java_value\n            refresh-path\n            break\n        }\n        17 {\n            $java_value = (Get-Item Env:Java_17_home).value\n            $Env:Java_Home = $java_value\n            refresh-path\n            break\n        }\n        default {\n            throw &quot;No matching java version found for `$version`: $version&quot;\n        }\n    }\n    if ($everywhere)\n    {\n        [System.Environment]::SetEnvironmentVariable(&quot;Java_Home&quot;, $java_value, &quot;User&quot;)\n    }\n}\n\nfunction refresh-path\n{\n    $env:Path = [System.Environment]::GetEnvironmentVariable(&quot;Path&quot;, &quot;Machine&quot;) +\n            &quot;;&quot; +\n            [System.Environment]::GetEnvironmentVariable(&quot;Path&quot;, &quot;User&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653560501,"creation_date":1653554907,"answer_id":72389151,"question_id":26993101,"body_markdown":"Adding to the answer provided here (https://stackoverflow.com/a/64459399/894565). \r\n\r\nI manually created environment variables via UI for `Java11`, `Java17` and `Java8`. To change across Java version:\r\n\r\nFrom powershell (`PJV.ps1`):\r\n\r\n    if($args[0] -eq &quot;11&quot;) {\r\n       $Env:JAVA_HOME=&quot;$ENV:JAVA11&quot;\r\n       $Env:Path=&quot;$Env:JAVA_HOME\\bin;$Env:Path&quot;\r\n    } elseif($args[0] -eq &quot;17&quot;) {\r\n       $Env:JAVA_HOME=&quot;$ENV:JAVA17&quot;\r\n       $Env:Path=&quot;$Env:JAVA_HOME\\bin;$Env:Path&quot;\r\n    } elseif($args[0] -eq &quot;8&quot;) {\r\n       $Env:JAVA_HOME=&quot;$ENV:JAVA8&quot;\r\n       $Env:Path=&quot;$Env:JAVA_HOME\\bin;$Env:Path&quot;\r\n    }\r\n    set &quot;Path=%JAVA_HOME%\\bin;%Path%&quot;\r\n    java -version\r\n\r\nFrom command line (`JV.bat`):\r\n\r\n    @echo off\r\n    if &quot;%~1&quot; == &quot;11&quot; (\r\n       set &quot;JAVA_HOME=%JAVA11%&quot;\r\n       setx JAVA_HOME &quot;%JAVA11%&quot;\r\n    ) else if &quot;%~1&quot; == &quot;17&quot; (\r\n       set &quot;JAVA_HOME=%JAVA17%&quot;\r\n       setx JAVA_HOME &quot;%JAVA17%&quot;\r\n    ) else (\r\n       set &quot;JAVA_HOME=%JAVA8%&quot;\r\n       setx JAVA_HOME &quot;%JAVA8%&quot;\r\n    )\r\n    set &quot;Path=%JAVA_HOME%\\bin;%Path%&quot;\r\n    java -version\r\n\r\nFinally both these files are in the same folder. And this folder path has been added to my system `PATH`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M6r5B.png","title":"Switching between different JDK versions in Windows","body":"<p>Adding to the answer provided here (<a href=\"https://stackoverflow.com/a/64459399/894565\">https://stackoverflow.com/a/64459399/894565</a>).</p>\n<p>I manually created environment variables via UI for <code>Java11</code>, <code>Java17</code> and <code>Java8</code>. To change across Java version:</p>\n<p>From powershell (<code>PJV.ps1</code>):</p>\n<pre><code>if($args[0] -eq &quot;11&quot;) {\n   $Env:JAVA_HOME=&quot;$ENV:JAVA11&quot;\n   $Env:Path=&quot;$Env:JAVA_HOME\\bin;$Env:Path&quot;\n} elseif($args[0] -eq &quot;17&quot;) {\n   $Env:JAVA_HOME=&quot;$ENV:JAVA17&quot;\n   $Env:Path=&quot;$Env:JAVA_HOME\\bin;$Env:Path&quot;\n} elseif($args[0] -eq &quot;8&quot;) {\n   $Env:JAVA_HOME=&quot;$ENV:JAVA8&quot;\n   $Env:Path=&quot;$Env:JAVA_HOME\\bin;$Env:Path&quot;\n}\nset &quot;Path=%JAVA_HOME%\\bin;%Path%&quot;\njava -version\n</code></pre>\n<p>From command line (<code>JV.bat</code>):</p>\n<pre><code>@echo off\nif &quot;%~1&quot; == &quot;11&quot; (\n   set &quot;JAVA_HOME=%JAVA11%&quot;\n   setx JAVA_HOME &quot;%JAVA11%&quot;\n) else if &quot;%~1&quot; == &quot;17&quot; (\n   set &quot;JAVA_HOME=%JAVA17%&quot;\n   setx JAVA_HOME &quot;%JAVA17%&quot;\n) else (\n   set &quot;JAVA_HOME=%JAVA8%&quot;\n   setx JAVA_HOME &quot;%JAVA8%&quot;\n)\nset &quot;Path=%JAVA_HOME%\\bin;%Path%&quot;\njava -version\n</code></pre>\n<p>Finally both these files are in the same folder. And this folder path has been added to my system <code>PATH</code></p>\n<p><a href=\"https://i.stack.imgur.com/M6r5B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M6r5B.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4245913,"reputation":644,"user_id":3474610,"accept_rate":39,"display_name":"Lui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85130,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":26993233,"answer_count":7,"score":34,"last_activity_date":1692024911,"creation_date":1416309769,"question_id":26993101,"body_markdown":"I&#39;m working on few projects and some of them are using different JDK. Switching between JDK versions is not comfortable. So I was wondering if there is any easy way to change it?\r\n\r\nI found 2 ways, which should solve this problem, but it doesn&#39;t work.\r\n\r\nFirst solution is creating a bat files like this:\r\n\r\n    @echo off\r\n    echo Setting JAVA_HOME\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.7.0_72\r\n    echo setting PATH\r\n    set PATH=C:\\Program Files\\Java\\jdk1.7.0_72\\bin;%PATH%\r\n    echo Display java version\r\n    java -version\r\n    pause\r\n\r\nAnd after running this bat, I see right version of Java. But when I close this CMD and open a new one and type &quot;java -version&quot; it says that I still have 1.8.0_25. So it doesn&#39;t work.\r\n\r\nSecond solution which I found is an application from [this ][1] site. And it also doesn&#39;t work. The same effect as in the first solution.\r\n\r\nAny ideas? Because changing JAVA_HOME and PAHT by: Win + Pause -&gt; Advanced System Settings -&gt; Environment Variables -&gt; and editing these variables, is terrible way...\r\n\r\n  [1]: http://mihosoft.eu/?p=649","title":"Switching between different JDK versions in Windows","body":"<p>I'm working on few projects and some of them are using different JDK. Switching between JDK versions is not comfortable. So I was wondering if there is any easy way to change it?</p>\n\n<p>I found 2 ways, which should solve this problem, but it doesn't work.</p>\n\n<p>First solution is creating a bat files like this:</p>\n\n<pre><code>@echo off\necho Setting JAVA_HOME\nset JAVA_HOME=C:\\Program Files\\Java\\jdk1.7.0_72\necho setting PATH\nset PATH=C:\\Program Files\\Java\\jdk1.7.0_72\\bin;%PATH%\necho Display java version\njava -version\npause\n</code></pre>\n\n<p>And after running this bat, I see right version of Java. But when I close this CMD and open a new one and type \"java -version\" it says that I still have 1.8.0_25. So it doesn't work.</p>\n\n<p>Second solution which I found is an application from <a href=\"http://mihosoft.eu/?p=649\" rel=\"noreferrer\">this </a> site. And it also doesn't work. The same effect as in the first solution.</p>\n\n<p>Any ideas? Because changing JAVA_HOME and PAHT by: Win + Pause -> Advanced System Settings -> Environment Variables -> and editing these variables, is terrible way...</p>\n"},{"tags":["java","spring","validation","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692023082,"post_id":76899633,"comment_id":135566030,"body_markdown":"The `BindingResult` must directly follow the `@ModelAttribute` annotated parameter, yours isn&#39;t. Also fix your dependencies as you defined versions for some, don&#39;t let the `spring-boot-starter-parent` manage the versions.","body":"The <code>BindingResult</code> must directly follow the <code>@ModelAttribute</code> annotated parameter, yours isn&#39;t. Also fix your dependencies as you defined versions for some, don&#39;t let the <code>spring-boot-starter-parent</code> manage the versions."},{"owner":{"account_id":21989278,"reputation":1,"user_id":17205137,"display_name":"Kachur"},"score":0,"creation_date":1692023429,"post_id":76899633,"comment_id":135566106,"body_markdown":"Idk how i missed that it should follow it. I appreciate your help, thanks a lot!","body":"Idk how i missed that it should follow it. I appreciate your help, thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":21989278,"reputation":1,"user_id":17205137,"display_name":"Kachur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692023709,"creation_date":1692023709,"answer_id":76899892,"question_id":76899633,"body_markdown":"As [M. Deinum][1] commented\r\n\r\n&gt; The BindingResult must directly follow the @ModelAttribute annotated parameter, yours isn&#39;t.\r\n\r\nThe problem was because of my BindingResult wasnt following Message that it was validating. Huge love!\r\n\r\n*also thx for the dependencies tip*\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2696260/m-deinum","title":"My Spring application throwing Whitelabel Error page instead of working with binding results","body":"<p>As <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a> commented</p>\n<blockquote>\n<p>The BindingResult must directly follow the @ModelAttribute annotated parameter, yours isn't.</p>\n</blockquote>\n<p>The problem was because of my BindingResult wasnt following Message that it was validating. Huge love!</p>\n<p><em>also thx for the dependencies tip</em></p>\n"}],"owner":{"account_id":21989278,"reputation":1,"user_id":17205137,"display_name":"Kachur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76899892,"answer_count":1,"score":0,"last_activity_date":1692023709,"creation_date":1692021728,"question_id":76899633,"body_markdown":"I am trying to configure validation in my practical training. But instead of showing me the error message in the page, so that user cannot send empty or too large text, its sending me to the Whitelabel Error page with the error that my message didnt go through validation.\r\n\r\n1. .pom depencies\r\n\r\n```\r\n &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.28&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.flywaydb/flyway-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n            &lt;version&gt;9.21.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n2. Message class\r\n\r\n```\r\npackage com.example.springmvcapp.domain;\r\n\r\nimport jakarta.persistence.*;\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.hibernate.validator.constraints.Length;\r\n\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\npublic class Message {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;message_seq&quot;)\r\n    @SequenceGenerator(name = &quot;message_seq&quot;, sequenceName = &quot;message_seq&quot;, allocationSize = 1)\r\n    private Long id;\r\n\r\n    @NotBlank(message = &quot;Please fill the message&quot;)\r\n    @Length(max = 2048, message = &quot;Message too long (more then 2kB)&quot;)\r\n    private String text;\r\n    private String tag;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User author;\r\n\r\n    private String filename;\r\n    public String getAuthorName(){\r\n        return author != null ? author.getUsername() : &quot;&lt;none&gt;&quot;;\r\n     }\r\n}\r\n\r\n```\r\n3. Main controller\r\n\r\n```\r\npackage com.example.springmvcapp.controller;\r\n\r\nimport com.example.springmvcapp.domain.Message;\r\nimport com.example.springmvcapp.domain.User;\r\nimport com.example.springmvcapp.repos.MessageRepo;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.security.core.annotation.AuthenticationPrincipal;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.validation.FieldError;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.thymeleaf.util.StringUtils;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\nimport java.util.UUID;\r\nimport java.util.stream.Collector;\r\nimport java.util.stream.Collectors;\r\n\r\n@Controller\r\npublic class MainController {\r\n\r\n    private final MessageRepo messageRepo;\r\n\r\n    public MainController(MessageRepo messageRepo) {\r\n        this.messageRepo = messageRepo;\r\n    }\r\n\r\n    @GetMapping\r\n    public String greeting(Model model) {\r\n        return &quot;greeting&quot;;\r\n    }\r\n\r\n    @Value(&quot;${upload.path}&quot;)\r\n    private String uploadPath;\r\n\r\n    @GetMapping(&quot;/index&quot;)\r\n    public String index(\r\n            @RequestParam(name = &quot;filterValue&quot;, required = false) String filterValue,\r\n            Model model\r\n    ){\r\n        Iterable&lt;Message&gt; messages;\r\n        if(!StringUtils.isEmpty(filterValue)){\r\n            messages = messageRepo.findByTag(filterValue);\r\n        } else {\r\n            messages = messageRepo.findAll();\r\n        }\r\n\r\n        model.addAttribute(&quot;filterValue&quot;, filterValue);\r\n        model.addAttribute(&quot;message&quot;, new Message());\r\n        model.addAttribute(&quot;messages&quot;, messages);\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/index&quot;)\r\n    public String messageSubmit(\r\n            @AuthenticationPrincipal User user,\r\n            @ModelAttribute @Valid  Message message,\r\n            @RequestParam(name = &quot;file&quot;, required = false) MultipartFile file ,\r\n            BindingResult bindingResult,\r\n            Model model\r\n    ) throws IOException {\r\n\r\n        if(bindingResult.hasErrors()){\r\n            Map&lt;String, String&gt; errorsMap = ControllerUtils.getErrors(bindingResult);\r\n            model.mergeAttributes(errorsMap);\r\n\r\n            //return &quot;index&quot;\r\n        } else{\r\n            if(file != null &amp;&amp; !file.getOriginalFilename().isEmpty()){\r\n                File uploadDir = new File(uploadPath);\r\n\r\n                if(!uploadDir.exists()){\r\n                    uploadDir.mkdir();\r\n                }\r\n                String uuidFile = UUID.randomUUID().toString();\r\n                String resultFileName = uuidFile + &quot;.&quot; + file.getOriginalFilename();\r\n                file.transferTo(new File(uploadPath + &quot;/&quot; + resultFileName));\r\n                message.setFilename(resultFileName);\r\n            }\r\n\r\n            message.setAuthor(user);\r\n            messageRepo.save(message);\r\n        }\r\n\r\n        return &quot;redirect:/index&quot;;\r\n    }\r\n}\r\n```\r\n4. The method that is used in &quot;if&quot; with bindingResult\r\n\r\n\r\n```\r\npackage com.example.springmvcapp.controller;\r\n\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.validation.FieldError;\r\n\r\nimport java.util.Map;\r\nimport java.util.stream.Collector;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class ControllerUtils {\r\n\r\n    static Map&lt;String, String&gt; getErrors(BindingResult bindingResult) {\r\n        Collector&lt;FieldError, ?, Map&lt;String, String&gt;&gt; collector = Collectors.toMap(\r\n                fieldError -&gt; fieldError.getField() + &quot;Error&quot;,\r\n                FieldError::getDefaultMessage\r\n        );\r\n        Map&lt;String, String&gt; errorsMap = bindingResult.getFieldErrors().stream().collect(collector);\r\n        return errorsMap;\r\n    }\r\n}\r\n\r\n```\r\n\r\n5. Thymeleaf template\r\n\r\n\r\n```\r\n&lt;th:block th:replace=&quot;~{parts/common :: topBody}&quot;/&gt;\r\n\r\n\r\n&lt;form th:method=&quot;get&quot; th:action=&quot;@{/index}&quot; class=&quot;row row-cols-lg-auto g-3 align-items-center mb-3&quot;&gt;\r\n    &lt;div class=&quot;col-12&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;filterValue&quot; th:value=&quot;${filterValue}&quot; placeholder=&quot;Search by tag&quot; class=&quot;form-control&quot;&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=&quot;col-12&quot;&gt;\r\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Search&lt;/button&gt;\r\n    &lt;/div&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;p class=&quot;d-inline-flex gap-1 mb-3&quot;&gt;\r\n    &lt;button class=&quot;btn btn-primary&quot; type=&quot;button&quot; data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#collapseAdd&quot; aria-expanded=&quot;false&quot; aria-controls=&quot;collapseAdd&quot;&gt;\r\n        Add new message\r\n    &lt;/button&gt;\r\n\r\n    &lt;div class=&quot;collapse&quot; id=&quot;collapseAdd&quot;&gt;\r\n        &lt;form th:action=&quot;@{/index}&quot; th:object=&quot;${message}&quot; th:method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n            &lt;div class=&quot;input-group mb-3&quot;&gt;\r\n                &lt;label class=&quot;visually-hidden&quot; for=&quot;Text&quot;&gt;Text&lt;/label&gt;\r\n                &lt;div class=&quot;input-group-text&quot;&gt;Text:&lt;/div&gt;\r\n                &lt;input type=&quot;text&quot; th:class=&quot;form-control&quot; th:classappend=&quot; ${textError ?: &#39;.is-invalid&#39;} &quot;\r\n                       th:value=&quot;${message.text}&quot;\r\n                       id=&quot;Text&quot; th:field=&quot;*{text}&quot; placeholder=&quot;Lets imagine something...&quot;&gt;\r\n                &lt;div th:if=&quot;${textError}&quot; class=&quot;invalid-feedback&quot; th:text=&quot;${textError}&quot;&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;input-group mb-3&quot;&gt;\r\n                &lt;label class=&quot;visually-hidden&quot; for=&quot;Tag&quot;&gt;Tag&lt;/label&gt;\r\n                &lt;div class=&quot;input-group-text&quot;&gt;Tag:&lt;/div&gt;\r\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;Tag&quot; th:field=&quot;*{tag}&quot; placeholder=&quot;Tag&quot;&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;mb-3&quot;&gt;\r\n                &lt;label for=&quot;File&quot; class=&quot;visually-hidden&quot;&gt;Choose file:&lt;/label&gt;\r\n                &lt;input class=&quot;form-control&quot; type=&quot;file&quot; name=&quot;file&quot; id=&quot;File&quot;&gt;\r\n            &lt;/div&gt;\r\n            &lt;p&gt;&lt;input type=&quot;submit&quot; class=&quot;btn btn-primary mb-3&quot; value=&quot;Submit&quot;/&gt; &lt;input type=&quot;reset&quot; class=&quot;btn btn-primary mb-3&quot; value=&quot;Reset&quot;/&gt;&lt;/p&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n&lt;/p&gt;\r\n\r\n&lt;div th:if=&quot;${messages.isEmpty()}&quot;&gt;\r\n    &lt;p&gt;No messages available.&lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=&quot;row row-cols-1 row-cols-md-3 g-4&quot;&gt;\r\n    &lt;div th:each=&quot;message: ${messages}&quot; class=&quot;card p-0 m-2&quot; style=&quot;width: 18rem;&quot;&gt;\r\n        &lt;div th:if=&quot;${message.filename != null}&quot;&gt;\r\n            &lt;img th:src=&quot;@{/img/} + ${message.filename}&quot; class=&quot;card-img-top&quot;&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;card-body&quot;&gt;\r\n            &lt;h5 class=&quot;card-title&quot; th:text=&quot;${message.tag}&quot;&gt;&lt;/h5&gt;\r\n            &lt;p class=&quot;card-text&quot; th:text=&quot;${message.text}&quot;&gt;&lt;/p&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;card-footer&quot;&gt;\r\n            &lt;p class=&quot;card-text&quot; th:text=&quot;${message.author?.getUsername() ?: &#39;&lt;none&gt;&#39;}&quot;&gt;&lt;/p&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;th:block th:replace=&quot;~{parts/common :: bottomBody}&quot;/&gt;\r\n\r\n```\r\n\r\n 5. Error\r\n \r\n```\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nMon Aug 14 17:04:21 EEST 2023\r\nThere was an unexpected error (type=Bad Request, status=400).\r\nValidation failed for object=&#39;message&#39;. Error count: 1\r\norg.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public java.lang.String com.example.springmvcapp.controller.MainController.messageSubmit(com.example.springmvcapp.domain.User,com.example.springmvcapp.domain.Message,org.springframework.web.multipart.MultipartFile,org.springframework.validation.BindingResult,org.springframework.ui.Model) throws java.io.IOException: [Field error in object &#39;message&#39; on field &#39;text&#39;: rejected value []; codes [NotBlank.message.text,NotBlank.text,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [message.text,text]; arguments []; default message [text]]; default message [Please fill the message]] \r\n\tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:177)\r\n\tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:131)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nIve tried to add `server.error.include-binding-errors=always` into application.properties, tried to change the thymeleaf code to do something with that, logic of the controller","title":"My Spring application throwing Whitelabel Error page instead of working with binding results","body":"<p>I am trying to configure validation in my practical training. But instead of showing me the error message in the page, so that user cannot send empty or too large text, its sending me to the Whitelabel Error page with the error that my message didnt go through validation.</p>\n<ol>\n<li>.pom depencies</li>\n</ol>\n<pre><code> &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.28&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.flywaydb/flyway-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n            &lt;version&gt;9.21.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Message class</li>\n</ol>\n<pre><code>package com.example.springmvcapp.domain;\n\nimport jakarta.persistence.*;\nimport jakarta.validation.constraints.NotBlank;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.hibernate.validator.constraints.Length;\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Message {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;message_seq&quot;)\n    @SequenceGenerator(name = &quot;message_seq&quot;, sequenceName = &quot;message_seq&quot;, allocationSize = 1)\n    private Long id;\n\n    @NotBlank(message = &quot;Please fill the message&quot;)\n    @Length(max = 2048, message = &quot;Message too long (more then 2kB)&quot;)\n    private String text;\n    private String tag;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User author;\n\n    private String filename;\n    public String getAuthorName(){\n        return author != null ? author.getUsername() : &quot;&lt;none&gt;&quot;;\n     }\n}\n\n</code></pre>\n<ol start=\"3\">\n<li>Main controller</li>\n</ol>\n<pre><code>package com.example.springmvcapp.controller;\n\nimport com.example.springmvcapp.domain.Message;\nimport com.example.springmvcapp.domain.User;\nimport com.example.springmvcapp.repos.MessageRepo;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.core.annotation.AuthenticationPrincipal;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.validation.FieldError;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.thymeleaf.util.StringUtils;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Map;\nimport java.util.UUID;\nimport java.util.stream.Collector;\nimport java.util.stream.Collectors;\n\n@Controller\npublic class MainController {\n\n    private final MessageRepo messageRepo;\n\n    public MainController(MessageRepo messageRepo) {\n        this.messageRepo = messageRepo;\n    }\n\n    @GetMapping\n    public String greeting(Model model) {\n        return &quot;greeting&quot;;\n    }\n\n    @Value(&quot;${upload.path}&quot;)\n    private String uploadPath;\n\n    @GetMapping(&quot;/index&quot;)\n    public String index(\n            @RequestParam(name = &quot;filterValue&quot;, required = false) String filterValue,\n            Model model\n    ){\n        Iterable&lt;Message&gt; messages;\n        if(!StringUtils.isEmpty(filterValue)){\n            messages = messageRepo.findByTag(filterValue);\n        } else {\n            messages = messageRepo.findAll();\n        }\n\n        model.addAttribute(&quot;filterValue&quot;, filterValue);\n        model.addAttribute(&quot;message&quot;, new Message());\n        model.addAttribute(&quot;messages&quot;, messages);\n        return &quot;index&quot;;\n    }\n\n    @PostMapping(&quot;/index&quot;)\n    public String messageSubmit(\n            @AuthenticationPrincipal User user,\n            @ModelAttribute @Valid  Message message,\n            @RequestParam(name = &quot;file&quot;, required = false) MultipartFile file ,\n            BindingResult bindingResult,\n            Model model\n    ) throws IOException {\n\n        if(bindingResult.hasErrors()){\n            Map&lt;String, String&gt; errorsMap = ControllerUtils.getErrors(bindingResult);\n            model.mergeAttributes(errorsMap);\n\n            //return &quot;index&quot;\n        } else{\n            if(file != null &amp;&amp; !file.getOriginalFilename().isEmpty()){\n                File uploadDir = new File(uploadPath);\n\n                if(!uploadDir.exists()){\n                    uploadDir.mkdir();\n                }\n                String uuidFile = UUID.randomUUID().toString();\n                String resultFileName = uuidFile + &quot;.&quot; + file.getOriginalFilename();\n                file.transferTo(new File(uploadPath + &quot;/&quot; + resultFileName));\n                message.setFilename(resultFileName);\n            }\n\n            message.setAuthor(user);\n            messageRepo.save(message);\n        }\n\n        return &quot;redirect:/index&quot;;\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>The method that is used in &quot;if&quot; with bindingResult</li>\n</ol>\n<pre><code>package com.example.springmvcapp.controller;\n\nimport org.springframework.validation.BindingResult;\nimport org.springframework.validation.FieldError;\n\nimport java.util.Map;\nimport java.util.stream.Collector;\nimport java.util.stream.Collectors;\n\npublic class ControllerUtils {\n\n    static Map&lt;String, String&gt; getErrors(BindingResult bindingResult) {\n        Collector&lt;FieldError, ?, Map&lt;String, String&gt;&gt; collector = Collectors.toMap(\n                fieldError -&gt; fieldError.getField() + &quot;Error&quot;,\n                FieldError::getDefaultMessage\n        );\n        Map&lt;String, String&gt; errorsMap = bindingResult.getFieldErrors().stream().collect(collector);\n        return errorsMap;\n    }\n}\n\n</code></pre>\n<ol start=\"5\">\n<li>Thymeleaf template</li>\n</ol>\n<pre><code>&lt;th:block th:replace=&quot;~{parts/common :: topBody}&quot;/&gt;\n\n\n&lt;form th:method=&quot;get&quot; th:action=&quot;@{/index}&quot; class=&quot;row row-cols-lg-auto g-3 align-items-center mb-3&quot;&gt;\n    &lt;div class=&quot;col-12&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;filterValue&quot; th:value=&quot;${filterValue}&quot; placeholder=&quot;Search by tag&quot; class=&quot;form-control&quot;&gt;\n    &lt;/div&gt;\n\n    &lt;div class=&quot;col-12&quot;&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Search&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n\n&lt;p class=&quot;d-inline-flex gap-1 mb-3&quot;&gt;\n    &lt;button class=&quot;btn btn-primary&quot; type=&quot;button&quot; data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#collapseAdd&quot; aria-expanded=&quot;false&quot; aria-controls=&quot;collapseAdd&quot;&gt;\n        Add new message\n    &lt;/button&gt;\n\n    &lt;div class=&quot;collapse&quot; id=&quot;collapseAdd&quot;&gt;\n        &lt;form th:action=&quot;@{/index}&quot; th:object=&quot;${message}&quot; th:method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\n            &lt;div class=&quot;input-group mb-3&quot;&gt;\n                &lt;label class=&quot;visually-hidden&quot; for=&quot;Text&quot;&gt;Text&lt;/label&gt;\n                &lt;div class=&quot;input-group-text&quot;&gt;Text:&lt;/div&gt;\n                &lt;input type=&quot;text&quot; th:class=&quot;form-control&quot; th:classappend=&quot; ${textError ?: '.is-invalid'} &quot;\n                       th:value=&quot;${message.text}&quot;\n                       id=&quot;Text&quot; th:field=&quot;*{text}&quot; placeholder=&quot;Lets imagine something...&quot;&gt;\n                &lt;div th:if=&quot;${textError}&quot; class=&quot;invalid-feedback&quot; th:text=&quot;${textError}&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;input-group mb-3&quot;&gt;\n                &lt;label class=&quot;visually-hidden&quot; for=&quot;Tag&quot;&gt;Tag&lt;/label&gt;\n                &lt;div class=&quot;input-group-text&quot;&gt;Tag:&lt;/div&gt;\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;Tag&quot; th:field=&quot;*{tag}&quot; placeholder=&quot;Tag&quot;&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;mb-3&quot;&gt;\n                &lt;label for=&quot;File&quot; class=&quot;visually-hidden&quot;&gt;Choose file:&lt;/label&gt;\n                &lt;input class=&quot;form-control&quot; type=&quot;file&quot; name=&quot;file&quot; id=&quot;File&quot;&gt;\n            &lt;/div&gt;\n            &lt;p&gt;&lt;input type=&quot;submit&quot; class=&quot;btn btn-primary mb-3&quot; value=&quot;Submit&quot;/&gt; &lt;input type=&quot;reset&quot; class=&quot;btn btn-primary mb-3&quot; value=&quot;Reset&quot;/&gt;&lt;/p&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/p&gt;\n\n&lt;div th:if=&quot;${messages.isEmpty()}&quot;&gt;\n    &lt;p&gt;No messages available.&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;div class=&quot;row row-cols-1 row-cols-md-3 g-4&quot;&gt;\n    &lt;div th:each=&quot;message: ${messages}&quot; class=&quot;card p-0 m-2&quot; style=&quot;width: 18rem;&quot;&gt;\n        &lt;div th:if=&quot;${message.filename != null}&quot;&gt;\n            &lt;img th:src=&quot;@{/img/} + ${message.filename}&quot; class=&quot;card-img-top&quot;&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;card-body&quot;&gt;\n            &lt;h5 class=&quot;card-title&quot; th:text=&quot;${message.tag}&quot;&gt;&lt;/h5&gt;\n            &lt;p class=&quot;card-text&quot; th:text=&quot;${message.text}&quot;&gt;&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;card-footer&quot;&gt;\n            &lt;p class=&quot;card-text&quot; th:text=&quot;${message.author?.getUsername() ?: '&lt;none&gt;'}&quot;&gt;&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;th:block th:replace=&quot;~{parts/common :: bottomBody}&quot;/&gt;\n\n</code></pre>\n<ol start=\"5\">\n<li>Error</li>\n</ol>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nMon Aug 14 17:04:21 EEST 2023\nThere was an unexpected error (type=Bad Request, status=400).\nValidation failed for object='message'. Error count: 1\norg.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public java.lang.String com.example.springmvcapp.controller.MainController.messageSubmit(com.example.springmvcapp.domain.User,com.example.springmvcapp.domain.Message,org.springframework.web.multipart.MultipartFile,org.springframework.validation.BindingResult,org.springframework.ui.Model) throws java.io.IOException: [Field error in object 'message' on field 'text': rejected value []; codes [NotBlank.message.text,NotBlank.text,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [message.text,text]; arguments []; default message [text]]; default message [Please fill the message]] \n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:177)\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:131)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Ive tried to add <code>server.error.include-binding-errors=always</code> into application.properties, tried to change the thymeleaf code to do something with that, logic of the controller</p>\n"},{"tags":["java","arrays","wiremock"],"answers":[{"tags":[],"owner":{"account_id":16106441,"reputation":6176,"user_id":11625850,"display_name":"agoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692023628,"creation_date":1692023628,"answer_id":76899879,"question_id":76884053,"body_markdown":"WireMock uses regex matching, [so you can use the `matches` keyword][1] and a pipe character (`|`) to achieve this.\r\n\r\n```js\r\n{\r\n  &quot;request&quot;: {\r\n    &quot;urlPathPattern&quot;: &quot;/some/url&quot;,\r\n    &quot;method&quot;: &quot;GET&quot;,\r\n    &quot;headers&quot;: {\r\n      &quot;apiKey&quot;: {\r\n        &quot;matches&quot;: &quot;t|e|s|t&quot;\r\n      }\r\n    }\r\n  },\r\n  &quot;response&quot;: {\r\n    &quot;status&quot;: 200\r\n  }\r\n}\r\n```\r\n\r\n[regex101&#39;s][2] documentation on the `|` character:\r\n&gt; Matches either what is before the | or what is after it - in this case `a` or `b`.\r\n\r\n\r\n  [1]: https://wiremock.org/docs/request-matching/#regular-expression\r\n  [2]: https://regex101.com/","title":"Wiremock Mapping - use array in one of header values for one of the keys","body":"<p>WireMock uses regex matching, <a href=\"https://wiremock.org/docs/request-matching/#regular-expression\" rel=\"nofollow noreferrer\">so you can use the <code>matches</code> keyword</a> and a pipe character (<code>|</code>) to achieve this.</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  &quot;request&quot;: {\n    &quot;urlPathPattern&quot;: &quot;/some/url&quot;,\n    &quot;method&quot;: &quot;GET&quot;,\n    &quot;headers&quot;: {\n      &quot;apiKey&quot;: {\n        &quot;matches&quot;: &quot;t|e|s|t&quot;\n      }\n    }\n  },\n  &quot;response&quot;: {\n    &quot;status&quot;: 200\n  }\n}\n</code></pre>\n<p><a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101's</a> documentation on the <code>|</code> character:</p>\n<blockquote>\n<p>Matches either what is before the | or what is after it - in this case <code>a</code> or <code>b</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":2134958,"reputation":600,"user_id":1894980,"accept_rate":60,"display_name":"Thamiar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76899879,"answer_count":1,"score":0,"last_activity_date":1692023628,"creation_date":1691761115,"question_id":76884053,"body_markdown":"I want to make mapping for my wiremock server. However I have no idea how to map char array instead of string.\r\n\r\n      &quot;request&quot;: {\r\n        &quot;urlPathPattern&quot;: &quot;/some/url&quot;,\r\n        &quot;method&quot;: &quot;GET&quot;,\r\n        &quot;headers&quot; : {\r\n          &quot;apiKey&quot;: {\r\n            &quot;equalTo&quot;: &quot;test&quot;\r\n          }\r\n        }\r\n    \r\n      }\r\n\r\nThis mapping will stub for string &#39;test&#39; but i wanna match it to [&quot;t&quot;,&quot;e&quot;,&quot;s&quot;,&quot;t&quot;]\r\nPutting it in that, ends up with initializationError -&gt; equalTo operand must be a non-null string","title":"Wiremock Mapping - use array in one of header values for one of the keys","body":"<p>I want to make mapping for my wiremock server. However I have no idea how to map char array instead of string.</p>\n<pre><code>  &quot;request&quot;: {\n    &quot;urlPathPattern&quot;: &quot;/some/url&quot;,\n    &quot;method&quot;: &quot;GET&quot;,\n    &quot;headers&quot; : {\n      &quot;apiKey&quot;: {\n        &quot;equalTo&quot;: &quot;test&quot;\n      }\n    }\n\n  }\n</code></pre>\n<p>This mapping will stub for string 'test' but i wanna match it to [&quot;t&quot;,&quot;e&quot;,&quot;s&quot;,&quot;t&quot;]\nPutting it in that, ends up with initializationError -&gt; equalTo operand must be a non-null string</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":5619102,"reputation":41,"user_id":4449526,"display_name":"kozmatteo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692023196,"creation_date":1692023196,"answer_id":76899818,"question_id":76898712,"body_markdown":"I believe that utilizing a static query might not be the best fit for your current scenario. Instead, I recommend leveraging the `CriteriaAPI`, a flexible approach in Hibernate/JPA for crafting dynamic queries.\r\n\r\nLet&#39;s assume you intend to search for `User` entities using this approach:\r\n\r\n```java\r\nList&lt;FilterCondition&gt; and = List.of(\r\n    new FilterCondition(&quot;id&quot;, &quot;in&quot;, List.of(1, 2, 3)),\r\n    new FilterCondition(&quot;name&quot;, &quot;eq&quot;, &quot;example name&quot;));\r\n\r\nFilter filter = new Filter(and);\r\n\r\nCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\nCriteriaQuery&lt;User&gt; criteriaQuery = criteriaBuilder.createQuery(User.class);\r\nRoot&lt;User&gt; root = criteriaQuery.from(User.class);\r\n\r\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\r\nfor (FilterCondition condition : filter.getAnd()) {\r\n    String fieldName = condition.getField();\r\n    Path&lt;?&gt; path = root.get(fieldName);\r\n    \r\n    if (&quot;in&quot;.equals(condition.getOperator())) {\r\n        List&lt;?&gt; values = (List&lt;?&gt;) condition.getValue();\r\n        predicates.add(path.in(values));\r\n    } else if (&quot;eq&quot;.equals(condition.getOperator())) {\r\n        Object value = condition.getValue();\r\n        predicates.add(criteriaBuilder.equal(path, value));\r\n    }\r\n}\r\n\r\ncriteriaQuery.where(criteriaBuilder.and(predicates.toArray(new Predicate[0])));\r\nList&lt;User&gt; users = em.createQuery(criteriaQuery).getResultList();\r\n```\r\n\r\nThis approach is especially useful for building complex queries based on various filter conditions.","title":"Spring &amp; Hibernate JPA TypedQuery: how to handle IN clause when the value &amp; its type it is given dynamically?","body":"<p>I believe that utilizing a static query might not be the best fit for your current scenario. Instead, I recommend leveraging the <code>CriteriaAPI</code>, a flexible approach in Hibernate/JPA for crafting dynamic queries.</p>\n<p>Let's assume you intend to search for <code>User</code> entities using this approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;FilterCondition&gt; and = List.of(\n    new FilterCondition(&quot;id&quot;, &quot;in&quot;, List.of(1, 2, 3)),\n    new FilterCondition(&quot;name&quot;, &quot;eq&quot;, &quot;example name&quot;));\n\nFilter filter = new Filter(and);\n\nCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;User&gt; criteriaQuery = criteriaBuilder.createQuery(User.class);\nRoot&lt;User&gt; root = criteriaQuery.from(User.class);\n\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\nfor (FilterCondition condition : filter.getAnd()) {\n    String fieldName = condition.getField();\n    Path&lt;?&gt; path = root.get(fieldName);\n    \n    if (&quot;in&quot;.equals(condition.getOperator())) {\n        List&lt;?&gt; values = (List&lt;?&gt;) condition.getValue();\n        predicates.add(path.in(values));\n    } else if (&quot;eq&quot;.equals(condition.getOperator())) {\n        Object value = condition.getValue();\n        predicates.add(criteriaBuilder.equal(path, value));\n    }\n}\n\ncriteriaQuery.where(criteriaBuilder.and(predicates.toArray(new Predicate[0])));\nList&lt;User&gt; users = em.createQuery(criteriaQuery).getResultList();\n</code></pre>\n<p>This approach is especially useful for building complex queries based on various filter conditions.</p>\n"}],"owner":{"account_id":11728429,"reputation":129,"user_id":8584838,"display_name":"Clx3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692023196,"creation_date":1692013921,"question_id":76898712,"body_markdown":"I am building a REST API with Spring boot &amp; Hibernate. The idea is that the API can be queried dynamically for all its entities with a GraphQL-like request. Heres a quick example how the API request object might look like:\r\n\r\n```\r\n&quot;filter&quot;: {\r\n    &quot;and&quot;: [\r\n        { \r\n\t\t\t&quot;id&quot;: { &quot;in&quot;: [1, 2, 3] },\r\n            &quot;name&quot;: { &quot;eq&quot;: &quot;example name&quot; }\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nInside the &quot;and&quot;-array there are objects that basically contain the key as the entity&#39;s field to use in the filter and then another object that tells the operator and values to use during the query, in this case equals and IN operators. The important part here is that as you can see, the value is dynamic. In the example there is an array and a string.\r\n\r\nI build a JPQL-query from the request object and if we think that we do NOT include the equals filter but only the in filter with the values `[1, 2, 3]` for the next example, it constructs the following JPQL:\r\n\r\n`SELECT t FROM Entity t WHERE id IN :id1`\r\n\r\nThe IN filter is stored in a map with a string key and an object as a value because the value can be dynamic depending on the filter: `Map&lt;String, Object&gt; filters;`\r\n\r\nAfter everythings set I create a `TypedQuery` as follows:\r\n\r\n```\r\nTypedQuery&lt;T&gt; query = entityManager.createQuery(queryData.getFirst(), clazz);\r\nfor (Map.Entry&lt;String, Object&gt; entry : queryData.getSecond().entrySet()) {\r\n\tquery.setParameter(entry.getKey(), entry.getValue());\r\n}\r\n```\r\n\r\nWhereas the queryData.getFirst() returns the JPQL as seen above, and the queryData.getSecond() contains filters key &amp; value that is set to the JPQL. In this case id1 and the [1, 2, 3] values for the JPQL.\r\n\r\nWhen i have created and set the parameters for the TypedQuery and try to get the results with either `query.getResultStream()` or `query.getResultList()` I get a `ClassCastException` like so:\r\n\r\n```\r\njava.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.Long (java.lang.Integer and java.lang.Long are in module java.base of loader &#39;bootstrap&#39;)\r\n\tat org.hibernate.type.descriptor.java.LongJavaType.unwrap(LongJavaType.java:24) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.type.descriptor.jdbc.BigIntJdbcType$1.doBind(BigIntJdbcType.java:62) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.type.descriptor.jdbc.BasicBinder.bind(BasicBinder.java:63) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.exec.internal.AbstractJdbcParameter.bindParameterValue(AbstractJdbcParameter.java:108) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.exec.internal.AbstractJdbcParameter.bindParameterValue(AbstractJdbcParameter.java:98) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:188) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:146) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:205) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:85) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:29) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:88) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.ScrollableResultsImpl.next(ScrollableResultsImpl.java:49) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.query.internal.ScrollableResultsIterator.hasNext(ScrollableResultsIterator.java:33) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:132)\r\n```\r\n\r\nI understand that the issue is when the IN values are given as an Object, Java detects it&#39;s value as `List&lt;Integer&gt;` that is set to the query as so, but since the actual id field of the entity is a type of `Long` it fails somewhere. The IN filter works if i query entity&#39;s field that is a type of String when the values are set accordingly like `[&quot;first&quot;, &quot;second&quot;]` but I can&#39;t seem to figure out how to work out the problem with different value types. \r\n\r\nAny suggestions how I could maybe detect the type of the entity&#39;s field and then maybe try casting the values accordingly or anything else that might help with this problem?","title":"Spring &amp; Hibernate JPA TypedQuery: how to handle IN clause when the value &amp; its type it is given dynamically?","body":"<p>I am building a REST API with Spring boot &amp; Hibernate. The idea is that the API can be queried dynamically for all its entities with a GraphQL-like request. Heres a quick example how the API request object might look like:</p>\n<pre><code>&quot;filter&quot;: {\n    &quot;and&quot;: [\n        { \n            &quot;id&quot;: { &quot;in&quot;: [1, 2, 3] },\n            &quot;name&quot;: { &quot;eq&quot;: &quot;example name&quot; }\n        }\n    ]\n}\n</code></pre>\n<p>Inside the &quot;and&quot;-array there are objects that basically contain the key as the entity's field to use in the filter and then another object that tells the operator and values to use during the query, in this case equals and IN operators. The important part here is that as you can see, the value is dynamic. In the example there is an array and a string.</p>\n<p>I build a JPQL-query from the request object and if we think that we do NOT include the equals filter but only the in filter with the values <code>[1, 2, 3]</code> for the next example, it constructs the following JPQL:</p>\n<p><code>SELECT t FROM Entity t WHERE id IN :id1</code></p>\n<p>The IN filter is stored in a map with a string key and an object as a value because the value can be dynamic depending on the filter: <code>Map&lt;String, Object&gt; filters;</code></p>\n<p>After everythings set I create a <code>TypedQuery</code> as follows:</p>\n<pre><code>TypedQuery&lt;T&gt; query = entityManager.createQuery(queryData.getFirst(), clazz);\nfor (Map.Entry&lt;String, Object&gt; entry : queryData.getSecond().entrySet()) {\n    query.setParameter(entry.getKey(), entry.getValue());\n}\n</code></pre>\n<p>Whereas the queryData.getFirst() returns the JPQL as seen above, and the queryData.getSecond() contains filters key &amp; value that is set to the JPQL. In this case id1 and the [1, 2, 3] values for the JPQL.</p>\n<p>When i have created and set the parameters for the TypedQuery and try to get the results with either <code>query.getResultStream()</code> or <code>query.getResultList()</code> I get a <code>ClassCastException</code> like so:</p>\n<pre><code>java.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.Long (java.lang.Integer and java.lang.Long are in module java.base of loader 'bootstrap')\n    at org.hibernate.type.descriptor.java.LongJavaType.unwrap(LongJavaType.java:24) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.type.descriptor.jdbc.BigIntJdbcType$1.doBind(BigIntJdbcType.java:62) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.type.descriptor.jdbc.BasicBinder.bind(BasicBinder.java:63) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.exec.internal.AbstractJdbcParameter.bindParameterValue(AbstractJdbcParameter.java:108) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.exec.internal.AbstractJdbcParameter.bindParameterValue(AbstractJdbcParameter.java:98) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:188) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:146) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:205) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:85) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:29) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:88) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.ScrollableResultsImpl.next(ScrollableResultsImpl.java:49) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.query.internal.ScrollableResultsIterator.hasNext(ScrollableResultsIterator.java:33) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:132)\n</code></pre>\n<p>I understand that the issue is when the IN values are given as an Object, Java detects it's value as <code>List&lt;Integer&gt;</code> that is set to the query as so, but since the actual id field of the entity is a type of <code>Long</code> it fails somewhere. The IN filter works if i query entity's field that is a type of String when the values are set accordingly like <code>[&quot;first&quot;, &quot;second&quot;]</code> but I can't seem to figure out how to work out the problem with different value types.</p>\n<p>Any suggestions how I could maybe detect the type of the entity's field and then maybe try casting the values accordingly or anything else that might help with this problem?</p>\n"},{"tags":["java","zebra-printers","zpl"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692022740,"creation_date":1692022740,"answer_id":76899752,"question_id":76899659,"body_markdown":"Assuming that you are using the Zebra SDK for Java, there is an example in the [javadocs][1].  (Copied here in case the link evaporates.)\r\n\r\n\r\n    package test.zebra.sdk.printer.examples;\r\n     \r\n     import com.zebra.sdk.comm.Connection;\r\n     import com.zebra.sdk.comm.ConnectionException;\r\n     import com.zebra.sdk.comm.TcpConnection;\r\n     import com.zebra.sdk.printer.PrinterStatus;\r\n     import com.zebra.sdk.printer.ZebraPrinter;\r\n     import com.zebra.sdk.printer.ZebraPrinterFactory;\r\n     import com.zebra.sdk.printer.ZebraPrinterLanguageUnknownException;\r\n     \r\n     public class PrinterStatusExample {\r\n     \r\n         public static void main(String[] args) throws Exception {\r\n             Connection connection = new TcpConnection(&quot;192.168.1.100&quot;, TcpConnection.DEFAULT_ZPL_TCP_PORT);\r\n             try {\r\n                 connection.open();\r\n                 ZebraPrinter printer = ZebraPrinterFactory.getInstance(connection);\r\n     \r\n                 PrinterStatus printerStatus = printer.getCurrentStatus();\r\n                 if (printerStatus.isReadyToPrint) {\r\n                     System.out.println(&quot;Ready To Print&quot;);\r\n                 } else if (printerStatus.isPaused) {\r\n                     System.out.println(&quot;Cannot Print because the printer is paused.&quot;);\r\n                 } else if (printerStatus.isHeadOpen) {\r\n                     System.out.println(&quot;Cannot Print because the printer head is open.&quot;);\r\n                 } else if (printerStatus.isPaperOut) {\r\n                     System.out.println(&quot;Cannot Print because the paper is out.&quot;);\r\n                 } else {\r\n                     System.out.println(&quot;Cannot Print.&quot;);\r\n                 }\r\n             } catch (ConnectionException e) {\r\n                 e.printStackTrace();\r\n             } catch (ZebraPrinterLanguageUnknownException e) {\r\n                 e.printStackTrace();\r\n             } finally {\r\n                 connection.close();\r\n             }\r\n         }\r\n     }\r\n\r\nThe code is self-explanatory.\r\n\r\nFor information on performing other tasks, take a look at the javadocs&#39; [overview page][2].\r\n\r\n\r\n  [1]: https://techdocs.zebra.com/link-os/2-12/webservices/content/com/zebra/sdk/printer/printerstatus\r\n  [2]: https://techdocs.zebra.com/link-os/2-12/webservices/content/overview-summary","title":"how to find a printing job status in java","body":"<p>Assuming that you are using the Zebra SDK for Java, there is an example in the <a href=\"https://techdocs.zebra.com/link-os/2-12/webservices/content/com/zebra/sdk/printer/printerstatus\" rel=\"nofollow noreferrer\">javadocs</a>.  (Copied here in case the link evaporates.)</p>\n<pre><code>package test.zebra.sdk.printer.examples;\n \n import com.zebra.sdk.comm.Connection;\n import com.zebra.sdk.comm.ConnectionException;\n import com.zebra.sdk.comm.TcpConnection;\n import com.zebra.sdk.printer.PrinterStatus;\n import com.zebra.sdk.printer.ZebraPrinter;\n import com.zebra.sdk.printer.ZebraPrinterFactory;\n import com.zebra.sdk.printer.ZebraPrinterLanguageUnknownException;\n \n public class PrinterStatusExample {\n \n     public static void main(String[] args) throws Exception {\n         Connection connection = new TcpConnection(&quot;192.168.1.100&quot;, TcpConnection.DEFAULT_ZPL_TCP_PORT);\n         try {\n             connection.open();\n             ZebraPrinter printer = ZebraPrinterFactory.getInstance(connection);\n \n             PrinterStatus printerStatus = printer.getCurrentStatus();\n             if (printerStatus.isReadyToPrint) {\n                 System.out.println(&quot;Ready To Print&quot;);\n             } else if (printerStatus.isPaused) {\n                 System.out.println(&quot;Cannot Print because the printer is paused.&quot;);\n             } else if (printerStatus.isHeadOpen) {\n                 System.out.println(&quot;Cannot Print because the printer head is open.&quot;);\n             } else if (printerStatus.isPaperOut) {\n                 System.out.println(&quot;Cannot Print because the paper is out.&quot;);\n             } else {\n                 System.out.println(&quot;Cannot Print.&quot;);\n             }\n         } catch (ConnectionException e) {\n             e.printStackTrace();\n         } catch (ZebraPrinterLanguageUnknownException e) {\n             e.printStackTrace();\n         } finally {\n             connection.close();\n         }\n     }\n }\n</code></pre>\n<p>The code is self-explanatory.</p>\n<p>For information on performing other tasks, take a look at the javadocs' <a href=\"https://techdocs.zebra.com/link-os/2-12/webservices/content/overview-summary\" rel=\"nofollow noreferrer\">overview page</a>.</p>\n"}],"owner":{"account_id":28602642,"reputation":1,"user_id":21899232,"display_name":"Aravind A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692023091,"creation_date":1692021972,"question_id":76899659,"body_markdown":"    private void sendZPLContentToPrinter(String ipAddress, int portNumber, String zplContent) throws IOException {\r\n        try (Socket socket = new Socket()) {\r\n            socket.setSoTimeout(DEFAULT_CONNECTION_TIMEOUT);\r\n            socket.connect(new InetSocketAddress(ipAddress, portNumber), DEFAULT_CONNECTION_TIMEOUT);\r\n            OutputStream outputStream = socket.getOutputStream();\r\n            byte[] zplBytes = zplContent.getBytes(&quot;UTF-8&quot;);\r\n            outputStream.write(zplBytes);\r\n            outputStream.flush();\r\n\r\n        } catch (SocketTimeoutException e) {\r\n            throw new IOException(&quot;Connection timed out while trying to connect to the printer.&quot;);\r\n        }\r\n    }\r\n\r\nthe above code will print the content.\r\nnow i want to know the printer job if it is successfull or not","title":"how to find a printing job status in java","body":"<pre><code>private void sendZPLContentToPrinter(String ipAddress, int portNumber, String zplContent) throws IOException {\n    try (Socket socket = new Socket()) {\n        socket.setSoTimeout(DEFAULT_CONNECTION_TIMEOUT);\n        socket.connect(new InetSocketAddress(ipAddress, portNumber), DEFAULT_CONNECTION_TIMEOUT);\n        OutputStream outputStream = socket.getOutputStream();\n        byte[] zplBytes = zplContent.getBytes(&quot;UTF-8&quot;);\n        outputStream.write(zplBytes);\n        outputStream.flush();\n\n    } catch (SocketTimeoutException e) {\n        throw new IOException(&quot;Connection timed out while trying to connect to the printer.&quot;);\n    }\n}\n</code></pre>\n<p>the above code will print the content.\nnow i want to know the printer job if it is successfull or not</p>\n"},{"tags":["java","azure","azure-blob-storage"],"comments":[{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1692021825,"post_id":76899527,"comment_id":135565712,"body_markdown":"How does your Blob SAS URL look like?","body":"How does your Blob SAS URL look like?"},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1692022250,"post_id":76899527,"comment_id":135565825,"body_markdown":"https://&lt;myaccountname&gt;.blob.core.windows.net/dev?sp=racwdl&amp;st=2023-08-14T11:33:15Z&amp;se=2023-08-14T19:33:15Z&amp;spr=https&amp;sv=2022-11-02&amp;sr=c&amp;sig=rUXvP4e6hYRm7qHJGpTqGyzaVqRP%2F1KZYFpsgy4pZzU%3D","body":"https://&lt;myaccountname&gt;.blob.core.windows.net/dev?sp=racwdl&amp;&zwnj;&#8203;st=2023-08-14T11:33:&zwnj;&#8203;15Z&amp;se=2023-08-14T19&zwnj;&#8203;:33:15Z&amp;spr=https&amp;sv&zwnj;&#8203;=2022-11-02&amp;sr=c&amp;sig&zwnj;&#8203;=rUXvP4e6hYRm7qHJGpT&zwnj;&#8203;qGyzaVqRP%2F1KZYFpsg&zwnj;&#8203;y4pZzU%3D"}],"answers":[{"tags":[],"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692022983,"creation_date":1692022983,"answer_id":76899784,"question_id":76899527,"body_markdown":"The reason you are getting this error is because you have created a [`Service SAS`][1] and trying to perform an operation (`blobServiceClient.getProperties()`) at the account level using that SAS. With a Service SAS you are only allowed to perform operation on either the blob (if the SAS is created for a specific blob) or the blob container and blobs inside that container (if the SAS is created for a specific blob container which is what you are doing).\r\n\r\nTo fix this issue, you will need to create an [`Account SAS`][2] and use that SAS URL (which will be something like `https://account.blob.core.windows.net?sas-token`). You can create an Account SAS in Azure Portal by navigating to the storage account and then selecting Shared Access Signature from the menu on the left hand side.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/rest/api/storageservices/create-service-sas\r\n  [2]: https://learn.microsoft.com/en-us/rest/api/storageservices/create-account-sas","title":"AuthenticationError when accessing Azure BlobServiceClient in Java app","body":"<p>The reason you are getting this error is because you have created a <a href=\"https://learn.microsoft.com/en-us/rest/api/storageservices/create-service-sas\" rel=\"nofollow noreferrer\"><code>Service SAS</code></a> and trying to perform an operation (<code>blobServiceClient.getProperties()</code>) at the account level using that SAS. With a Service SAS you are only allowed to perform operation on either the blob (if the SAS is created for a specific blob) or the blob container and blobs inside that container (if the SAS is created for a specific blob container which is what you are doing).</p>\n<p>To fix this issue, you will need to create an <a href=\"https://learn.microsoft.com/en-us/rest/api/storageservices/create-account-sas\" rel=\"nofollow noreferrer\"><code>Account SAS</code></a> and use that SAS URL (which will be something like <code>https://account.blob.core.windows.net?sas-token</code>). You can create an Account SAS in Azure Portal by navigating to the storage account and then selecting Shared Access Signature from the menu on the left hand side.</p>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76899784,"answer_count":1,"score":0,"last_activity_date":1692022983,"creation_date":1692021071,"question_id":76899527,"body_markdown":"I am new in Azure. I am trying to create simple Java app to connect and then download data from Blob Container \r\nI started from creating creating \r\nHere is code fragment \r\n\r\n    String sasToken = &quot;my blob sas token key&quot;;\r\n            \r\n    BlobServiceClient blobServiceClient = new BlobServiceClientBuilder()\r\n    \t\t.endpoint(&quot;my blob sas URL&quot;)\r\n    \t\t.sasToken(sasToken)\r\n    \t\t.buildClient();\r\n    \t\t\r\n    try {\r\n    \tBlobServiceProperties props = this.blobServiceClient.getProperties();\r\n    \tPagedIterable&lt;BlobContainerItem&gt; items =  this.blobServiceClient.listBlobContainers();\r\n    }\r\n    catch (Exception ex) {\r\n    \tSystem.out.println(&quot;APP exception: &quot;+ex.getMessage());\r\n    }\r\n\t\r\n\r\nAfter running this code fragment - getting exception : \r\n\r\n    If you are using a StorageSharedKeyCredential, and the server returned an error message that says &#39;Signature did not match&#39;, you can compare the string to sign with the one generated by the SDK. To log the string to sign, pass in the context key value pair &#39;Azure-Storage-Log-String-To-Sign&#39;: true to the appropriate method call.\r\n    If you are using a SAS token, and the server returned an error message that says &#39;Signature did not match&#39;, \r\n    you can compare the string to sign with the one generated by the SDK. \r\n    To log the string to sign, pass in the context key value pair &#39;Azure-Storage-Log-String-To-Sign&#39;: true to the appropriate generateSas method call.\r\n    Please remember to disable &#39;Azure-Storage-Log-String-To-Sign&#39; before going to production as this string can potentially contain PII.\r\n    Status code 403, &quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;AuthenticationFailed&lt;/Code&gt;&lt;Message&gt;Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\r\n    RequestId:cd0a04bd-f01e-0061-159d-ceb31d000000\r\n    Time:2023-08-14T10:55:53.7449600Z&lt;/Message&gt;&lt;AuthenticationErrorDetail&gt;The specified signed resource is not allowed for the this resource level&lt;/AuthenticationErrorDetail&gt;&lt;/Error&gt;&quot;\r\n\r\nBlob SAS token key and Blob SAS Url were generated with settings as attached screenshot\r\nIs there something missing / wrong in the code above ? \r\nThanks in advance\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SNnzt.png","title":"AuthenticationError when accessing Azure BlobServiceClient in Java app","body":"<p>I am new in Azure. I am trying to create simple Java app to connect and then download data from Blob Container\nI started from creating creating\nHere is code fragment</p>\n<pre><code>String sasToken = &quot;my blob sas token key&quot;;\n        \nBlobServiceClient blobServiceClient = new BlobServiceClientBuilder()\n        .endpoint(&quot;my blob sas URL&quot;)\n        .sasToken(sasToken)\n        .buildClient();\n        \ntry {\n    BlobServiceProperties props = this.blobServiceClient.getProperties();\n    PagedIterable&lt;BlobContainerItem&gt; items =  this.blobServiceClient.listBlobContainers();\n}\ncatch (Exception ex) {\n    System.out.println(&quot;APP exception: &quot;+ex.getMessage());\n}\n</code></pre>\n<p>After running this code fragment - getting exception :</p>\n<pre><code>If you are using a StorageSharedKeyCredential, and the server returned an error message that says 'Signature did not match', you can compare the string to sign with the one generated by the SDK. To log the string to sign, pass in the context key value pair 'Azure-Storage-Log-String-To-Sign': true to the appropriate method call.\nIf you are using a SAS token, and the server returned an error message that says 'Signature did not match', \nyou can compare the string to sign with the one generated by the SDK. \nTo log the string to sign, pass in the context key value pair 'Azure-Storage-Log-String-To-Sign': true to the appropriate generateSas method call.\nPlease remember to disable 'Azure-Storage-Log-String-To-Sign' before going to production as this string can potentially contain PII.\nStatus code 403, &quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;AuthenticationFailed&lt;/Code&gt;&lt;Message&gt;Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\nRequestId:cd0a04bd-f01e-0061-159d-ceb31d000000\nTime:2023-08-14T10:55:53.7449600Z&lt;/Message&gt;&lt;AuthenticationErrorDetail&gt;The specified signed resource is not allowed for the this resource level&lt;/AuthenticationErrorDetail&gt;&lt;/Error&gt;&quot;\n</code></pre>\n<p>Blob SAS token key and Blob SAS Url were generated with settings as attached screenshot\nIs there something missing / wrong in the code above ?\nThanks in advance</p>\n<p><a href=\"https://i.stack.imgur.com/SNnzt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SNnzt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1692019693,"post_id":76899203,"comment_id":135565201,"body_markdown":"Check the executed logs. How do you do delete and upate?","body":"Check the executed logs. How do you do delete and upate?"},{"owner":{"account_id":8172676,"reputation":439,"user_id":6152567,"accept_rate":59,"display_name":"M Ansyori"},"score":0,"creation_date":1692019853,"post_id":76899203,"comment_id":135565238,"body_markdown":"@SimonMartinelli I executed the query using mysql workbench with raw query `delete from content_management_journey where journey_id = &#39;something&#39;;`","body":"@SimonMartinelli I executed the query using mysql workbench with raw query <code>delete from content_management_journey where journey_id = &#39;something&#39;;</code>"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1692021389,"post_id":76899203,"comment_id":135565602,"body_markdown":"What you do in your Java code with JPA annotations does not affect the database. So when you delete from `content_management_journey` using an SQL statement in MySQL Workbench, it is not automatically going to delete the linked `content_management_status` records. The database, and MySQL Workbench, know nothing about the JPA cascade settings you put in your Java code.","body":"What you do in your Java code with JPA annotations does not affect the database. So when you delete from <code>content_management_journey</code> using an SQL statement in MySQL Workbench, it is not automatically going to delete the linked <code>content_management_status</code> records. The database, and MySQL Workbench, know nothing about the JPA cascade settings you put in your Java code."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692021963,"post_id":76899203,"comment_id":135565752,"body_markdown":"This code has a few problems, first being that the mappings are not correct - you have the ContentManagementStatus. JOURNEY_ID column writable through multiple java properties (the ContentManagementJourney.screens collection as well as each ContentManagementStatus.journeyId string). One side or the other needs to be marked read-only - chances are it isn&#39;t being set the way you think it should in the database because of this. Also check that, if using JPA to remove ContentManagementJourney instead of your own queries, that the screens collection has values - JPA will only delete what it knows","body":"This code has a few problems, first being that the mappings are not correct - you have the ContentManagementStatus. JOURNEY_ID column writable through multiple java properties (the ContentManagementJourney.screens collection as well as each ContentManagementStatus.journeyId string). One side or the other needs to be marked read-only - chances are it isn&#39;t being set the way you think it should in the database because of this. Also check that, if using JPA to remove ContentManagementJourney instead of your own queries, that the screens collection has values - JPA will only delete what it knows"},{"owner":{"account_id":8172676,"reputation":439,"user_id":6152567,"accept_rate":59,"display_name":"M Ansyori"},"score":0,"creation_date":1692082718,"post_id":76899203,"comment_id":135573209,"body_markdown":"@Jesper well in that case how can I ensure that JPA creates the necessary foreign key relationship so that the update/delete cascade works seamlessly when I perform operations in the database?","body":"@Jesper well in that case how can I ensure that JPA creates the necessary foreign key relationship so that the update/delete cascade works seamlessly when I perform operations in the database?"},{"owner":{"account_id":8172676,"reputation":439,"user_id":6152567,"accept_rate":59,"display_name":"M Ansyori"},"score":0,"creation_date":1692083121,"post_id":76899203,"comment_id":135573261,"body_markdown":"@Chris Could you provide a sample of the code for the mappings between ContentManagementJourney and ContentManagementStatus entities? It would be really helpful for me to better understand the issue and provide more specific guidance on resolving the problems you&#39;ve mentioned. Thanks","body":"@Chris Could you provide a sample of the code for the mappings between ContentManagementJourney and ContentManagementStatus entities? It would be really helpful for me to better understand the issue and provide more specific guidance on resolving the problems you&#39;ve mentioned. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692022703,"creation_date":1692022703,"answer_id":76899746,"question_id":76899203,"body_markdown":"If you use bulk update/delete then no cascading will happen because this bypasses the persistence context.\r\n\r\nCascading is only happening when using the methods of the EntityManager.","title":"Spring boot OneToMany with JoinColumn not working?","body":"<p>If you use bulk update/delete then no cascading will happen because this bypasses the persistence context.</p>\n<p>Cascading is only happening when using the methods of the EntityManager.</p>\n"}],"owner":{"account_id":8172676,"reputation":439,"user_id":6152567,"accept_rate":59,"display_name":"M Ansyori"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692022703,"creation_date":1692018362,"question_id":76899203,"body_markdown":"I have two entities below:\r\n```java\r\n@ToString\r\n@EqualsAndHashCode( of = {&quot;journeyId&quot;})\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Entity\r\npublic class ContentManagementJourney {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long id;\r\n\r\n  @Column(name = &quot;JOURNEY_ID&quot;, unique = true)\r\n  private String journeyId;\r\n\r\n  @Column(name = &quot;JOURNEY_NAME&quot;)\r\n  private String journeyName;\r\n\r\n  @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n  @JoinColumn(name = &quot;JOURNEY_ID&quot;, referencedColumnName = &quot;JOURNEY_ID&quot;)\r\n  private Collection&lt;ContentManagementStatus&gt; screens = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n```java\r\n@ToString\r\n@EqualsAndHashCode(of = {&quot;menuId&quot;})\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Entity\r\npublic class ContentManagementStatus {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long id;\r\n\r\n  @Column(name = &quot;JOURNEY_ID&quot;)\r\n  private String journeyId;\r\n\r\n  @Column(name = &quot;MENU_ID&quot;, unique = true)\r\n  private String menuId;\r\n\r\n  @Column(name = &quot;NAME&quot;)\r\n  private String name;\r\n\r\n  @Column(name = &quot;LAST_UPDATE&quot;)\r\n  @UpdateTimestamp\r\n  @Temporal(TemporalType.TIMESTAMP)\r\n  private Date lastUpdate;\r\n}\r\n```\r\n\r\nI execute the delete and update query on the table `ContentManagementJourney`, the item of the table was updated or deleted successfully. But unfortunately, the item in `ContentManagementStatus` with the same `journeyId` was not deleted. What is happening here? I also can&#39;t use a bidirectional mechanism because I don&#39;t want my `ContentManagementJourney` to be shown every time I query/select from the `ContentManagementStatus` table.\r\n\r\nI&#39;m using this spring version:\r\n```json\r\nplugins {\r\n  id &#39;java&#39;\r\n  id &#39;org.springframework.boot&#39; version &#39;3.1.2&#39;\r\n  id &#39;io.spring.dependency-management&#39; version &#39;1.1.2&#39;\r\n}\r\n\r\ndependencies {\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client&#39;\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n  implementation &#39;io.jsonwebtoken:jjwt:0.9.1&#39;\r\n  implementation &#39;javax.xml.bind:jaxb-api:2.2.4&#39;\r\n  implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.15.2&#39;\r\n  compileOnly &#39;org.projectlombok:lombok&#39;\r\n  runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n  annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n  testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n}\r\n```\r\n\r\nAny help will be much appreciated, thanks","title":"Spring boot OneToMany with JoinColumn not working?","body":"<p>I have two entities below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ToString\n@EqualsAndHashCode( of = {&quot;journeyId&quot;})\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Entity\npublic class ContentManagementJourney {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n\n  @Column(name = &quot;JOURNEY_ID&quot;, unique = true)\n  private String journeyId;\n\n  @Column(name = &quot;JOURNEY_NAME&quot;)\n  private String journeyName;\n\n  @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n  @JoinColumn(name = &quot;JOURNEY_ID&quot;, referencedColumnName = &quot;JOURNEY_ID&quot;)\n  private Collection&lt;ContentManagementStatus&gt; screens = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@ToString\n@EqualsAndHashCode(of = {&quot;menuId&quot;})\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Entity\npublic class ContentManagementStatus {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n\n  @Column(name = &quot;JOURNEY_ID&quot;)\n  private String journeyId;\n\n  @Column(name = &quot;MENU_ID&quot;, unique = true)\n  private String menuId;\n\n  @Column(name = &quot;NAME&quot;)\n  private String name;\n\n  @Column(name = &quot;LAST_UPDATE&quot;)\n  @UpdateTimestamp\n  @Temporal(TemporalType.TIMESTAMP)\n  private Date lastUpdate;\n}\n</code></pre>\n<p>I execute the delete and update query on the table <code>ContentManagementJourney</code>, the item of the table was updated or deleted successfully. But unfortunately, the item in <code>ContentManagementStatus</code> with the same <code>journeyId</code> was not deleted. What is happening here? I also can't use a bidirectional mechanism because I don't want my <code>ContentManagementJourney</code> to be shown every time I query/select from the <code>ContentManagementStatus</code> table.</p>\n<p>I'm using this spring version:</p>\n<pre class=\"lang-json prettyprint-override\"><code>plugins {\n  id 'java'\n  id 'org.springframework.boot' version '3.1.2'\n  id 'io.spring.dependency-management' version '1.1.2'\n}\n\ndependencies {\n  implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n  implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'\n  implementation 'org.springframework.boot:spring-boot-starter-security'\n  implementation 'org.springframework.boot:spring-boot-starter-web'\n  implementation 'io.jsonwebtoken:jjwt:0.9.1'\n  implementation 'javax.xml.bind:jaxb-api:2.2.4'\n  implementation 'com.fasterxml.jackson.core:jackson-databind:2.15.2'\n  compileOnly 'org.projectlombok:lombok'\n  runtimeOnly 'com.mysql:mysql-connector-j'\n  annotationProcessor 'org.projectlombok:lombok'\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n  testImplementation 'org.springframework.security:spring-security-test'\n}\n</code></pre>\n<p>Any help will be much appreciated, thanks</p>\n"},{"tags":["java","spring-boot","spring-thymeleaf"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692023006,"post_id":76899739,"comment_id":135566011,"body_markdown":"Status codes 301-307 [do not allow method changes](https://developer.mozilla.org/en-US/docs/Web/HTTP/Redirections#permanent_redirections). Status code 308 might, depending on if your client supports it.","body":"Status codes 301-307 <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Redirections#permanent_redirections\" rel=\"nofollow noreferrer\">do not allow method changes</a>. Status code 308 might, depending on if your client supports it."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692023058,"post_id":76899739,"comment_id":135566020,"body_markdown":"It&#39;s probably easier to handle this not using a redirect, but simply by calling the code internally.","body":"It&#39;s probably easier to handle this not using a redirect, but simply by calling the code internally."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692024434,"post_id":76899739,"comment_id":135566326,"body_markdown":"tbh I *did* think of doing it internally but then I didn&#39;t want to &#39;duck out&#39; of learning the technology and also not sure of exactly how to do it. There are quite a lot of closely related model classes and then you&#39;ve got the varying tech between different Spring versions, etc. I might settle at least on a Spring 3 way of doing it internallly","body":"tbh I <i>did</i> think of doing it internally but then I didn&#39;t want to &#39;duck out&#39; of learning the technology and also not sure of exactly how to do it. There are quite a lot of closely related model classes and then you&#39;ve got the varying tech between different Spring versions, etc. I might settle at least on a Spring 3 way of doing it internallly"}],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692022672,"creation_date":1692022672,"question_id":76899739,"body_markdown":"I have a `Job`s listing where I have a link to enable editing:\r\n```\r\n&lt;a href=&quot;/editprep?id=81&quot; class=&quot;btn btn-secondary&quot;&gt;Edit&lt;/a&gt;\r\n```\r\nThe idea is to &#39;prepare&#39; the editing and then forward to the form that will allow editing, followed by saving. This is the error I&#39;m getting:\r\n```\r\nWhitelabel Error Page\r\n\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\nMon Aug 14 13:41:33 BST 2023\r\nThere was an unexpected error (type=Method Not Allowed, status=405).\r\n```\r\nand in the console I see:\r\n```\r\n2023-08-14T13:41:33.877+01:00  WARN 7881 --- [qtp603184112-33] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;GET&#39; is not supported]\r\n```\r\nThe controller method for this is:\r\n```\r\n    //@ModelAttribute\r\n    @RequestMapping(value=&quot;/editprep&quot;, method=RequestMethod.GET)\r\n    public ModelAndView editPrep(@RequestParam String id, ModelMap model) {\r\n        System.out.printf(&quot;Would edit job with ID %s%n&quot;, id);\r\n        Job editingJob = repository.findById(Long.valueOf(id)).orElseThrow();\r\n        model.addAttribute(&quot;editingJob&quot;, editingJob);\r\n        /*\r\n        System.out.println(model);\r\n        System.out.println(&quot;Found job &quot; + editingJob);\r\n        */\r\n        //return &quot;redirect:/editjob&quot;;\r\n        return new ModelAndView(&quot;forward:/editjob&quot;, model);\r\n        //return &quot;controlpanel&quot;;\r\n    }\r\n```\r\n(messy as as lot of fruitless trial and error has gone on here)\r\nThe idea is to forward to the form for editing, to be saved in the following:\r\n```\r\n    @RequestMapping(value=&quot;/editjob&quot;, method=RequestMethod.POST)\r\n\tpublic String editJob(@RequestParam String date, @RequestParam String place, @RequestParam String amount, @RequestParam boolean billed, @RequestParam boolean paid, @RequestParam String notes) {\r\n        return &quot;/&quot;;\r\n    }\r\n```\r\nThis is essentially the same as create/save, so I should do some code reuse here.\r\nHow do I solve this coding error? Do I have a logical/flow error too?","title":"Spring Boot 3 forward problem: GET to POST","body":"<p>I have a <code>Job</code>s listing where I have a link to enable editing:</p>\n<pre><code>&lt;a href=&quot;/editprep?id=81&quot; class=&quot;btn btn-secondary&quot;&gt;Edit&lt;/a&gt;\n</code></pre>\n<p>The idea is to 'prepare' the editing and then forward to the form that will allow editing, followed by saving. This is the error I'm getting:</p>\n<pre><code>Whitelabel Error Page\n\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\nMon Aug 14 13:41:33 BST 2023\nThere was an unexpected error (type=Method Not Allowed, status=405).\n</code></pre>\n<p>and in the console I see:</p>\n<pre><code>2023-08-14T13:41:33.877+01:00  WARN 7881 --- [qtp603184112-33] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]\n</code></pre>\n<p>The controller method for this is:</p>\n<pre><code>    //@ModelAttribute\n    @RequestMapping(value=&quot;/editprep&quot;, method=RequestMethod.GET)\n    public ModelAndView editPrep(@RequestParam String id, ModelMap model) {\n        System.out.printf(&quot;Would edit job with ID %s%n&quot;, id);\n        Job editingJob = repository.findById(Long.valueOf(id)).orElseThrow();\n        model.addAttribute(&quot;editingJob&quot;, editingJob);\n        /*\n        System.out.println(model);\n        System.out.println(&quot;Found job &quot; + editingJob);\n        */\n        //return &quot;redirect:/editjob&quot;;\n        return new ModelAndView(&quot;forward:/editjob&quot;, model);\n        //return &quot;controlpanel&quot;;\n    }\n</code></pre>\n<p>(messy as as lot of fruitless trial and error has gone on here)\nThe idea is to forward to the form for editing, to be saved in the following:</p>\n<pre><code>    @RequestMapping(value=&quot;/editjob&quot;, method=RequestMethod.POST)\n    public String editJob(@RequestParam String date, @RequestParam String place, @RequestParam String amount, @RequestParam boolean billed, @RequestParam boolean paid, @RequestParam String notes) {\n        return &quot;/&quot;;\n    }\n</code></pre>\n<p>This is essentially the same as create/save, so I should do some code reuse here.\nHow do I solve this coding error? Do I have a logical/flow error too?</p>\n"},{"tags":["java","file","javadoc","mkdir"],"answers":[{"tags":[],"owner":{"account_id":325446,"reputation":17129,"user_id":646634,"accept_rate":100,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1561409552,"creation_date":1346349999,"answer_id":12202900,"question_id":12202766,"body_markdown":"&gt; If security/permissions is a reason, then why is SecurityException NOT thrown (which is mentioned in javadoc)?\r\n\r\nA `SecurityException` is thrown when you don&#39;t have JVM-level permission to do something, not OS-level\r\n\r\n&gt; Is there a way to find the exact reason why of returning false?\r\n\r\nNo, AFAIK. The only way to know would be to check the permissions on the directory yourself, make sure it doesn&#39;t exist before calling them, check if the parent directory exists, etc.\r\n\r\nHowever, if you&#39;re using **Java 7 or higher**, you can use NIO instead to create the directory. Specifically, [`Files.createDirectory`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#createDirectory(java.nio.file.Path,%20java.nio.file.attribute.FileAttribute...)):\r\n\r\n    File dir = new File(&quot;mydir&quot;);\r\n    Files.createDirectory(dir.toPath());\r\n\r\nIf you want to use NIO entirely without using `java.io.File`, you can use [`Paths.get`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html#get(java.lang.String,%20java.lang.String...)) to create a `Path` instead:\r\n\r\n    Path dir = Paths.get(&quot;mydir&quot;);\r\n    Files.createDirectory(dir);\r\n\r\nIn both cases, if the directory can&#39;t be created, it will throw an `IOException` with an exact reason for why the operation failed.\r\n\r\nThis is true for most of the methods in `Files`, and so using it is recommended over using the methods in the `File` class.","title":"File.mkdir or mkdirs return false - Reason?","body":"<blockquote>\n  <p>If security/permissions is a reason, then why is SecurityException NOT thrown (which is mentioned in javadoc)?</p>\n</blockquote>\n\n<p>A <code>SecurityException</code> is thrown when you don't have JVM-level permission to do something, not OS-level</p>\n\n<blockquote>\n  <p>Is there a way to find the exact reason why of returning false?</p>\n</blockquote>\n\n<p>No, AFAIK. The only way to know would be to check the permissions on the directory yourself, make sure it doesn't exist before calling them, check if the parent directory exists, etc.</p>\n\n<p>However, if you're using <strong>Java 7 or higher</strong>, you can use NIO instead to create the directory. Specifically, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#createDirectory(java.nio.file.Path,%20java.nio.file.attribute.FileAttribute...)\" rel=\"noreferrer\"><code>Files.createDirectory</code></a>:</p>\n\n<pre><code>File dir = new File(\"mydir\");\nFiles.createDirectory(dir.toPath());\n</code></pre>\n\n<p>If you want to use NIO entirely without using <code>java.io.File</code>, you can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html#get(java.lang.String,%20java.lang.String...)\" rel=\"noreferrer\"><code>Paths.get</code></a> to create a <code>Path</code> instead:</p>\n\n<pre><code>Path dir = Paths.get(\"mydir\");\nFiles.createDirectory(dir);\n</code></pre>\n\n<p>In both cases, if the directory can't be created, it will throw an <code>IOException</code> with an exact reason for why the operation failed.</p>\n\n<p>This is true for most of the methods in <code>Files</code>, and so using it is recommended over using the methods in the <code>File</code> class.</p>\n"},{"tags":[],"owner":{"account_id":453984,"reputation":142640,"user_id":851273,"display_name":"Jon Lin"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1346351244,"creation_date":1346350004,"answer_id":12202901,"question_id":12202766,"body_markdown":"1. No, there&#39;s no way to find the exact reason `mkdirs()` returns false, at least not from within Java, as it would probably be OS dependent.\r\n\r\n2. A `SecurityException` is thrown if there is a security violation in the `SecurityManager`&#39;s `checkRead()` and `checkWrite()` methods. The exception isn&#39;t thrown if there is an OS permissions issue.\r\n\r\n-----\r\n\r\nAdditionally, note that if you call `File.mkdir()`, and the parent directory doesn&#39;t exist, `mkdir()` will return false. However, calling `File.mkdirs()` will create the non-existent parent directories.","title":"File.mkdir or mkdirs return false - Reason?","body":"<ol>\n<li><p>No, there's no way to find the exact reason <code>mkdirs()</code> returns false, at least not from within Java, as it would probably be OS dependent.</p></li>\n<li><p>A <code>SecurityException</code> is thrown if there is a security violation in the <code>SecurityManager</code>'s <code>checkRead()</code> and <code>checkWrite()</code> methods. The exception isn't thrown if there is an OS permissions issue.</p></li>\n</ol>\n\n<hr>\n\n<p>Additionally, note that if you call <code>File.mkdir()</code>, and the parent directory doesn't exist, <code>mkdir()</code> will return false. However, calling <code>File.mkdirs()</code> will create the non-existent parent directories.</p>\n"},{"tags":[],"owner":{"account_id":357086,"reputation":2586,"user_id":697031,"display_name":"Michael Krussel"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1346354789,"creation_date":1346354789,"answer_id":12204054,"question_id":12202766,"body_markdown":"mkdir and mkdirs return false if the directory already exists, so that might be one reason for the failure.\r\n\r\nIf you are using Java 7, you can use the Files class.  It throws an IOException on error with pretty good descriptions.\r\n\r\n    Files.createDirectory(file.toPath());","title":"File.mkdir or mkdirs return false - Reason?","body":"<p>mkdir and mkdirs return false if the directory already exists, so that might be one reason for the failure.</p>\n\n<p>If you are using Java 7, you can use the Files class.  It throws an IOException on error with pretty good descriptions.</p>\n\n<pre><code>Files.createDirectory(file.toPath());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8949895,"reputation":807,"user_id":6676240,"accept_rate":95,"display_name":"Akshay Maldhure"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549261758,"creation_date":1549261758,"answer_id":54511114,"question_id":12202766,"body_markdown":"Here&#39;s something specific to Windows: In my case, the `file.mkdir()` method was failing with `NoSuchFileException` because I was trying to create a nested directory structure directly (e.g. `results\\results_ddMMyyyy` without first creating the `results` directory) on Windows.\r\n\r\nHowever, the exact same code worked fine on my Mac, i.e. no such exception was thrown on Mac and the intermediate `results` directory was created implicitly by the `file.mkdir()` method. \r\n\r\nHope this helps someone in future.","title":"File.mkdir or mkdirs return false - Reason?","body":"<p>Here's something specific to Windows: In my case, the <code>file.mkdir()</code> method was failing with <code>NoSuchFileException</code> because I was trying to create a nested directory structure directly (e.g. <code>results\\results_ddMMyyyy</code> without first creating the <code>results</code> directory) on Windows.</p>\n\n<p>However, the exact same code worked fine on my Mac, i.e. no such exception was thrown on Mac and the intermediate <code>results</code> directory was created implicitly by the <code>file.mkdir()</code> method. </p>\n\n<p>Hope this helps someone in future.</p>\n"},{"tags":[],"owner":{"account_id":20772013,"reputation":37,"user_id":15254470,"display_name":"Exitron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692022379,"creation_date":1692017724,"answer_id":76899115,"question_id":12202766,"body_markdown":"My problem was that I didn&#39;t include &quot;/&quot; before the path I gave which made my path wrong and hence failure. \r\n\r\n&gt; What I was doing\r\n\r\n    &quot;Talkify/Media/Picture/Sent&quot;\r\n\r\n\r\n&gt; What it should look like\r\n\r\n    &quot;/Talkify/Media/Picture/Sent&quot;","title":"File.mkdir or mkdirs return false - Reason?","body":"<p>My problem was that I didn't include &quot;/&quot; before the path I gave which made my path wrong and hence failure.</p>\n<blockquote>\n<p>What I was doing</p>\n</blockquote>\n<pre><code>&quot;Talkify/Media/Picture/Sent&quot;\n</code></pre>\n<blockquote>\n<p>What it should look like</p>\n</blockquote>\n<pre><code>&quot;/Talkify/Media/Picture/Sent&quot;\n</code></pre>\n"}],"owner":{"account_id":82331,"reputation":14750,"user_id":231567,"accept_rate":81,"display_name":"Sandeep Jindal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50902,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":12202900,"answer_count":5,"score":52,"last_activity_date":1692022379,"creation_date":1346349457,"question_id":12202766,"body_markdown":"Why file.mkdir is returning false?\r\n\r\nGoogle indicates that there could be several reasons (e.g. security, permissions, pathname, etc). \r\n\r\nMy questions:\r\n\r\n\r\n 1. How to find the exact reason of returning false?\r\n 2. If security/permissions is a reason, then why is SecurityException not thrown?\r\n","title":"File.mkdir or mkdirs return false - Reason?","body":"<p>Why file.mkdir is returning false?</p>\n\n<p>Google indicates that there could be several reasons (e.g. security, permissions, pathname, etc). </p>\n\n<p>My questions:</p>\n\n<ol>\n<li>How to find the exact reason of returning false?</li>\n<li>If security/permissions is a reason, then why is SecurityException not thrown?</li>\n</ol>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692012913,"post_id":76898319,"comment_id":135563828,"body_markdown":"check this resource [onetomany-association](https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/)","body":"check this resource <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">onetomany-association</a>"},{"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"score":0,"creation_date":1692013197,"post_id":76898319,"comment_id":135563871,"body_markdown":"Here&#39;s a very nice answer: https://stackoverflow.com/a/28826374/6067302","body":"Here&#39;s a very nice answer: <a href=\"https://stackoverflow.com/a/28826374/6067302\">stackoverflow.com/a/28826374/6067302</a>"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1692022887,"post_id":76898319,"comment_id":135565980,"body_markdown":"Related https://stackoverflow.com/questions/13514760/bidirectional-onetoone-relationship-not-symmetric-for-save","body":"Related <a href=\"https://stackoverflow.com/questions/13514760/bidirectional-onetoone-relationship-not-symmetric-for-save\" title=\"bidirectional onetoone relationship not symmetric for save\">stackoverflow.com/questions/13514760/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692013372,"creation_date":1692013372,"answer_id":76898649,"question_id":76898319,"body_markdown":"With a bidirectional relationship you have possibly contradicting information about the state of your relation ship. \r\n\r\nThis is actually the case in your scenario: The `UserEntity` has a additional `LessonEntity`, but the `LessonEntity` doesn&#39;t have a properly set `teacher` attribute. \r\n\r\nYou tell JPA with the `mappedBy` attribute which one to use. \r\nThis you set to `teacher`, i.e. `LessonEntity.teacher` which is still empty.\r\n\r\nTo fix this set the `teacher` attribute in your `LessonEntity` properly. \r\n\r\nYou can do this manually, in the setter, and I believe Hibernate has a feature to do this automatically for you.\r\n\r\nThe alternative, which I would prefer is to not have bidirectional relationships at all.\r\n","title":"One to many relationship doesn&#39;t work Spring boot jpa","body":"<p>With a bidirectional relationship you have possibly contradicting information about the state of your relation ship.</p>\n<p>This is actually the case in your scenario: The <code>UserEntity</code> has a additional <code>LessonEntity</code>, but the <code>LessonEntity</code> doesn't have a properly set <code>teacher</code> attribute.</p>\n<p>You tell JPA with the <code>mappedBy</code> attribute which one to use.\nThis you set to <code>teacher</code>, i.e. <code>LessonEntity.teacher</code> which is still empty.</p>\n<p>To fix this set the <code>teacher</code> attribute in your <code>LessonEntity</code> properly.</p>\n<p>You can do this manually, in the setter, and I believe Hibernate has a feature to do this automatically for you.</p>\n<p>The alternative, which I would prefer is to not have bidirectional relationships at all.</p>\n"}],"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76898649,"answer_count":1,"score":0,"last_activity_date":1692022348,"creation_date":1692010485,"question_id":76898319,"body_markdown":"I&#39;m trying to create an app using spring boot for practicing my java skills, but I faced with small and stupid problem. I created one to many relationship with **UserEntity** and **LessonEntity**. And when I try to add lesson to **UserEntity** set - nothing is happening. The relation doesn&#39;t work.\r\n\r\nHere&#39;s my code:\r\n\r\n**UserEntity.java**\r\n```java\r\n@Entity\r\n@Table(name = &quot;users&quot;, schema = &quot;working&quot;)\r\n@Getter @Setter\r\npublic class UserEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String patronymic;\r\n    @Column(unique = true)\r\n    private String phoneNumber;\r\n    @Column(unique = true)\r\n    private String email;\r\n    private String password;\r\n    private String state;\r\n    @OneToMany(mappedBy = &quot;teacher&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;LessonEntity&gt; lessons;\r\n}\r\n```\r\n\r\n**LessonEntity.java**\r\n```java\r\n@Entity\r\n@Table(name = &quot;lessons&quot;, schema = &quot;working&quot;)\r\n@Getter @Setter\r\npublic class LessonEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private Long id;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;teacher_id&quot;)\r\n    private UserEntity teacher;\r\n}\r\n```\r\n\r\nAnd here&#39;s the code, where I try to add lesson to user:\r\n\r\n```java\r\npublic void singUpForLesson(UserEntity user, SingUpForLessonModel singUpForLessonModel)\r\n throws UserNotFoundException {\r\n        UserEntity teacher = userRepo.findById(singUpForLessonModel.getTeacherId()).orElseThrow(UserNotFoundException::new);\r\n        LessonEntity lesson = new LessonEntity();\r\n        teacher.getLessons().add(lesson);\r\n        lessonRepo.save(lesson);\r\n        userRepo.save(teacher);\r\n    }\r\n```\r\n\r\nAnd here&#39;s what I see after saving teacher and lesson:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vfYzX.png\r\n\r\nSo what can be the problem? If you know, please tell me, I&#39;d really appreciate it!","title":"One to many relationship doesn&#39;t work Spring boot jpa","body":"<p>I'm trying to create an app using spring boot for practicing my java skills, but I faced with small and stupid problem. I created one to many relationship with <strong>UserEntity</strong> and <strong>LessonEntity</strong>. And when I try to add lesson to <strong>UserEntity</strong> set - nothing is happening. The relation doesn't work.</p>\n<p>Here's my code:</p>\n<p><strong>UserEntity.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot;, schema = &quot;working&quot;)\n@Getter @Setter\npublic class UserEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private long id;\n    private String firstName;\n    private String lastName;\n    private String patronymic;\n    @Column(unique = true)\n    private String phoneNumber;\n    @Column(unique = true)\n    private String email;\n    private String password;\n    private String state;\n    @OneToMany(mappedBy = &quot;teacher&quot;, cascade = CascadeType.ALL)\n    private Set&lt;LessonEntity&gt; lessons;\n}\n</code></pre>\n<p><strong>LessonEntity.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;lessons&quot;, schema = &quot;working&quot;)\n@Getter @Setter\npublic class LessonEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n    @ManyToOne\n    @JoinColumn(name = &quot;teacher_id&quot;)\n    private UserEntity teacher;\n}\n</code></pre>\n<p>And here's the code, where I try to add lesson to user:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void singUpForLesson(UserEntity user, SingUpForLessonModel singUpForLessonModel)\n throws UserNotFoundException {\n        UserEntity teacher = userRepo.findById(singUpForLessonModel.getTeacherId()).orElseThrow(UserNotFoundException::new);\n        LessonEntity lesson = new LessonEntity();\n        teacher.getLessons().add(lesson);\n        lessonRepo.save(lesson);\n        userRepo.save(teacher);\n    }\n</code></pre>\n<p>And here's what I see after saving teacher and lesson:</p>\n<p><a href=\"https://i.stack.imgur.com/vfYzX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vfYzX.png\" alt=\"enter image description here\" /></a></p>\n<p>So what can be the problem? If you know, please tell me, I'd really appreciate it!</p>\n"},{"tags":["java","android","autocompletetextview"],"answers":[{"tags":[],"owner":{"account_id":1322038,"reputation":86670,"user_id":1267661,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1341166024,"creation_date":1341166024,"answer_id":11284444,"question_id":11284368,"body_markdown":"You don&#39;t define the &quot;moment&quot; when you want to display all the results, so I hope this fits. But try something like this:\r\n\r\n    AutoCompleteTextView autoComplete;\r\n    String savedText;\r\n    \r\n    public void showAll() {\r\n        savedText = autoComplete.getText().toString();\r\n        autoComplete.setText(&quot;&quot;);\r\n        autoComplete.showDropDown();\r\n    }\r\n\r\n    public void restore() {\r\n        autoComplete.setText(savedText);\r\n    }","title":"AutoCompleteTextView force to show all items","body":"<p>You don't define the \"moment\" when you want to display all the results, so I hope this fits. But try something like this:</p>\n\n<pre><code>AutoCompleteTextView autoComplete;\nString savedText;\n\npublic void showAll() {\n    savedText = autoComplete.getText().toString();\n    autoComplete.setText(\"\");\n    autoComplete.showDropDown();\n}\n\npublic void restore() {\n    autoComplete.setText(savedText);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1617223,"reputation":295,"user_id":1494582,"display_name":"XCoder"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1691571204,"creation_date":1341273806,"answer_id":11302820,"question_id":11284368,"body_markdown":"Basically, after 5-6 hours of experimentation to understand how the damn filter works, I wrote my own adapter which does exactly what I want:\r\n\r\n```java\r\n    import android.content.Context;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Filter;\r\n    import android.widget.Filterable;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class BurtuAdapteris extends ArrayAdapter&lt;String&gt; implements Filterable {\r\n        ArrayList&lt;String&gt; _items = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; orig = new ArrayList&lt;&gt;();\r\n    \r\n        public BurtuAdapteris(Context context, int resource, ArrayList&lt;String&gt; items) {\r\n            super(context, resource, items);\r\n    \r\n            for (int i = 0; i &lt; items.size(); i++) {\r\n                orig.add(items.get(i));\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int getCount() {\r\n            if (_items != null)\r\n                return _items.size();\r\n            else\r\n                return 0;\r\n        }\r\n    \r\n        @Override\r\n        public String getItem(int arg0) {\r\n            return _items.get(arg0);\r\n        }\r\n    \r\n        @Override\r\n        public Filter getFilter() {\r\n            Filter filter = new Filter() {\r\n                @Override\r\n                protected FilterResults performFiltering(CharSequence constraint) {\r\n    \r\n                    FilterResults oReturn = new FilterResults();\r\n                    String temp;\r\n                    int counters = 0;\r\n                    if (constraint != null) {\r\n    \r\n                        _items.clear();\r\n                        if (orig != null &amp;&amp; orig.size() &gt; 0) {\r\n                            for (int i = 0; i &lt; orig.size(); i++) {\r\n                                temp = orig.get(i).toUpperCase();\r\n    \r\n                                if (temp.startsWith(constraint.toString().toUpperCase())) {\r\n    \r\n                                    _items.add(orig.get(i));\r\n                                    counters++;\r\n    \r\n                                }\r\n                            }\r\n                        }\r\n                        if (counters == 0) {\r\n                            _items.clear();\r\n                            _items = orig;\r\n                        }\r\n                        oReturn.values = _items;\r\n                        oReturn.count = _items.size();\r\n                    }\r\n                    return oReturn;\r\n                }\r\n    \r\n                @SuppressWarnings(&quot;unchecked&quot;)\r\n                @Override\r\n                protected void publishResults(CharSequence constraint, FilterResults results) {\r\n                    if (results != null &amp;&amp; results.count &gt; 0) {\r\n                        notifyDataSetChanged();\r\n                    } else {\r\n                        notifyDataSetInvalidated();\r\n                    }\r\n    \r\n                }\r\n    \r\n            };\r\n    \r\n            return filter;\r\n        }\r\n    \r\n    }\r\n```\r\n\r\nAnd it&#39;s simple to use, just replace the original adapter with this:\r\n\r\n```java\r\n    final BurtuAdapteris fAdapter = new burtuAdapteris(this, android.R.layout.simple_dropdown_item_1line, liste);\r\n```\r\n\r\nIn my case `liste` is: `ArrayList&lt;String&gt; liste = new ArrayList&lt;String&gt;();`","title":"AutoCompleteTextView force to show all items","body":"<p>Basically, after 5-6 hours of experimentation to understand how the damn filter works, I wrote my own adapter which does exactly what I want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import android.content.Context;\n    import android.widget.ArrayAdapter;\n    import android.widget.Filter;\n    import android.widget.Filterable;\n    \n    import java.util.ArrayList;\n    \n    public class BurtuAdapteris extends ArrayAdapter&lt;String&gt; implements Filterable {\n        ArrayList&lt;String&gt; _items = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; orig = new ArrayList&lt;&gt;();\n    \n        public BurtuAdapteris(Context context, int resource, ArrayList&lt;String&gt; items) {\n            super(context, resource, items);\n    \n            for (int i = 0; i &lt; items.size(); i++) {\n                orig.add(items.get(i));\n            }\n        }\n    \n        @Override\n        public int getCount() {\n            if (_items != null)\n                return _items.size();\n            else\n                return 0;\n        }\n    \n        @Override\n        public String getItem(int arg0) {\n            return _items.get(arg0);\n        }\n    \n        @Override\n        public Filter getFilter() {\n            Filter filter = new Filter() {\n                @Override\n                protected FilterResults performFiltering(CharSequence constraint) {\n    \n                    FilterResults oReturn = new FilterResults();\n                    String temp;\n                    int counters = 0;\n                    if (constraint != null) {\n    \n                        _items.clear();\n                        if (orig != null &amp;&amp; orig.size() &gt; 0) {\n                            for (int i = 0; i &lt; orig.size(); i++) {\n                                temp = orig.get(i).toUpperCase();\n    \n                                if (temp.startsWith(constraint.toString().toUpperCase())) {\n    \n                                    _items.add(orig.get(i));\n                                    counters++;\n    \n                                }\n                            }\n                        }\n                        if (counters == 0) {\n                            _items.clear();\n                            _items = orig;\n                        }\n                        oReturn.values = _items;\n                        oReturn.count = _items.size();\n                    }\n                    return oReturn;\n                }\n    \n                @SuppressWarnings(&quot;unchecked&quot;)\n                @Override\n                protected void publishResults(CharSequence constraint, FilterResults results) {\n                    if (results != null &amp;&amp; results.count &gt; 0) {\n                        notifyDataSetChanged();\n                    } else {\n                        notifyDataSetInvalidated();\n                    }\n    \n                }\n    \n            };\n    \n            return filter;\n        }\n    \n    }\n</code></pre>\n<p>And it's simple to use, just replace the original adapter with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final BurtuAdapteris fAdapter = new burtuAdapteris(this, android.R.layout.simple_dropdown_item_1line, liste);\n</code></pre>\n<p>In my case <code>liste</code> is: <code>ArrayList&lt;String&gt; liste = new ArrayList&lt;String&gt;();</code></p>\n"},{"tags":[],"owner":{"account_id":4869623,"reputation":2463,"user_id":3926611,"display_name":"Hemant Shori"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411645414,"creation_date":1411645414,"answer_id":26037772,"question_id":11284368,"body_markdown":"method forcefully show drop down list.\r\n\r\nyou need to call requestFocus(); to show keyboard otherwise keyboard does not pop up.\r\n\r\n\r\n    autocomptv.setOnTouchListener(new OnTouchListener() {\r\n\r\n\t\t\t@SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n\t\t\t@Override\r\n\t\t\tpublic boolean onTouch(View paramView, MotionEvent paramMotionEvent) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tautocomptv.showDropDown();\r\n\t\t\t\tautocomptv.requestFocus();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n","title":"AutoCompleteTextView force to show all items","body":"<p>method forcefully show drop down list.</p>\n\n<p>you need to call requestFocus(); to show keyboard otherwise keyboard does not pop up.</p>\n\n<pre><code>autocomptv.setOnTouchListener(new OnTouchListener() {\n\n        @SuppressLint(\"ClickableViewAccessibility\")\n        @Override\n        public boolean onTouch(View paramView, MotionEvent paramMotionEvent) {\n            // TODO Auto-generated method stub\n            autocomptv.showDropDown();\n            autocomptv.requestFocus();\n            return false;\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9604132,"reputation":736,"user_id":7130649,"display_name":"Ho Luong"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1480657442,"creation_date":1478596405,"answer_id":40482975,"question_id":11284368,"body_markdown":"This works for me perfectly, this is an easy way to resolve the problem:\r\n\r\n    final ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(getContext(), android.R.layout.simple_dropdown_item_1line, usernameLists);\r\n        etUsername.setThreshold(1);\r\n        etUsername.setAdapter(adapter);\r\n        etUsername.setOnTouchListener(new View.OnTouchListener() {\r\n\r\n            @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n            @Override\r\n            public boolean onTouch(View paramView, MotionEvent paramMotionEvent) {\r\n                if (usernameLists.size() &gt; 0) {\r\n                    // show all suggestions\r\n                    if (!etUsername.getText().toString().equals(&quot;&quot;))\r\n                        adapter.getFilter().filter(null);\r\n                    etUsername.showDropDown();\r\n                }\r\n                return false;\r\n            }\r\n        });","title":"AutoCompleteTextView force to show all items","body":"<p>This works for me perfectly, this is an easy way to resolve the problem:</p>\n\n<pre><code>final ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(getContext(), android.R.layout.simple_dropdown_item_1line, usernameLists);\n    etUsername.setThreshold(1);\n    etUsername.setAdapter(adapter);\n    etUsername.setOnTouchListener(new View.OnTouchListener() {\n\n        @SuppressLint(\"ClickableViewAccessibility\")\n        @Override\n        public boolean onTouch(View paramView, MotionEvent paramMotionEvent) {\n            if (usernameLists.size() &gt; 0) {\n                // show all suggestions\n                if (!etUsername.getText().toString().equals(\"\"))\n                    adapter.getFilter().filter(null);\n                etUsername.showDropDown();\n            }\n            return false;\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8524181,"reputation":51,"user_id":6390099,"display_name":"Andrea Minosu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588755891,"creation_date":1479250107,"answer_id":40621104,"question_id":11284368,"body_markdown":"As &quot;ArtOfWarfare&quot; suggested, you can just sub-class and override performFiltering():\r\n\r\n    public class My_AutoCompleteTextView extends AutoCompleteTextView {\r\n        public My_AutoCompleteTextView(Context context) {\r\n            super(context);\r\n        }\r\n        public My_AutoCompleteTextView(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n        public My_AutoCompleteTextView(Context context, AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n        }\r\n    \r\n        @Override\r\n        protected void performFiltering(CharSequence text, int keyCode) {\r\n            super.performFiltering(&quot;&quot;, 0);\r\n        }\r\n    }\r\n\r\nI&#39;m using it successfully.","title":"AutoCompleteTextView force to show all items","body":"<p>As \"ArtOfWarfare\" suggested, you can just sub-class and override performFiltering():</p>\n\n<pre><code>public class My_AutoCompleteTextView extends AutoCompleteTextView {\n    public My_AutoCompleteTextView(Context context) {\n        super(context);\n    }\n    public My_AutoCompleteTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n    public My_AutoCompleteTextView(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n    }\n\n    @Override\n    protected void performFiltering(CharSequence text, int keyCode) {\n        super.performFiltering(\"\", 0);\n    }\n}\n</code></pre>\n\n<p>I'm using it successfully.</p>\n"},{"tags":[],"owner":{"account_id":5764391,"reputation":540,"user_id":4549776,"display_name":"jmeinke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492692464,"creation_date":1492692132,"answer_id":43519879,"question_id":11284368,"body_markdown":"If you want to show the suggestions instantly, then you have to override `enoughToFilter()` to make it always return true. To ignore what is given as text input, you have to use `performFiltering(&quot;&quot;, 0)` with an empty filtering pattern. The AutoCompleteTextView then shows all suggestions.\r\n\r\nThis is solution I&#39;ve combined from other StackOverflow posts:\r\n\r\n    public class InstantAutoComplete extends android.support.v7.widget.AppCompatAutoCompleteTextView {\r\n        public InstantAutoComplete(Context context) {\r\n            super(context);\r\n        }\r\n    \r\n        public InstantAutoComplete(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n    \r\n        public InstantAutoComplete(Context context, AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n        }\r\n    \r\n        @Override\r\n        public boolean enoughToFilter() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        protected void onFocusChanged(boolean focused, int direction, Rect previouslyFocusedRect) {\r\n            super.onFocusChanged(focused, direction, previouslyFocusedRect);\r\n    \r\n            if (focused &amp;&amp; getAdapter() != null) {\r\n                performFiltering(&quot;&quot;, 0);\r\n            }\r\n        }\r\n    }","title":"AutoCompleteTextView force to show all items","body":"<p>If you want to show the suggestions instantly, then you have to override <code>enoughToFilter()</code> to make it always return true. To ignore what is given as text input, you have to use <code>performFiltering(\"\", 0)</code> with an empty filtering pattern. The AutoCompleteTextView then shows all suggestions.</p>\n\n<p>This is solution I've combined from other StackOverflow posts:</p>\n\n<pre><code>public class InstantAutoComplete extends android.support.v7.widget.AppCompatAutoCompleteTextView {\n    public InstantAutoComplete(Context context) {\n        super(context);\n    }\n\n    public InstantAutoComplete(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public InstantAutoComplete(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n    }\n\n    @Override\n    public boolean enoughToFilter() {\n        return true;\n    }\n\n    @Override\n    protected void onFocusChanged(boolean focused, int direction, Rect previouslyFocusedRect) {\n        super.onFocusChanged(focused, direction, previouslyFocusedRect);\n\n        if (focused &amp;&amp; getAdapter() != null) {\n            performFiltering(\"\", 0);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4254889,"reputation":3902,"user_id":3568919,"accept_rate":50,"display_name":"Nasif Md. Tanjim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499249876,"creation_date":1499249876,"answer_id":44923396,"question_id":11284368,"body_markdown":"This is what worked for me:\r\n\r\n        public class CustomAutoCompleteTextView extends AutoCompleteTextView {\r\n        public CustomAutoCompleteTextView(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n\r\n        @Override\r\n        public boolean enoughToFilter() {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        protected void onFocusChanged(boolean focused, int direction, Rect previouslyFocusedRect) {\r\n            super.onFocusChanged(focused, direction, previouslyFocusedRect);\r\n            if (focused) {\r\n                performFiltering(getText(), 0);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public boolean onTouchEvent(MotionEvent event) {\r\n            this.showDropDown();\r\n            return super.onTouchEvent(event);\r\n        }\r\n    }\r\n\r\n\r\n    ","title":"AutoCompleteTextView force to show all items","body":"<p>This is what worked for me:</p>\n\n<pre><code>    public class CustomAutoCompleteTextView extends AutoCompleteTextView {\n    public CustomAutoCompleteTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    @Override\n    public boolean enoughToFilter() {\n        return true;\n    }\n\n    @Override\n    protected void onFocusChanged(boolean focused, int direction, Rect previouslyFocusedRect) {\n        super.onFocusChanged(focused, direction, previouslyFocusedRect);\n        if (focused) {\n            performFiltering(getText(), 0);\n        }\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        this.showDropDown();\n        return super.onTouchEvent(event);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":411874,"reputation":173,"user_id":4034434,"display_name":"latifalbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543996949,"creation_date":1543965871,"answer_id":53622911,"question_id":11284368,"body_markdown":"    class InstantAutoComplete(context: Context?, attrs: AttributeSet?) : AutoCompleteTextView(context, attrs) {\r\n\r\n    override fun enoughToFilter(): Boolean {\r\n        return true\r\n    }\r\n\r\n    override fun onFocusChanged(focused: Boolean, direction: Int, previouslyFocusedRect: Rect?) {\r\n        super.onFocusChanged(focused, direction, previouslyFocusedRect)\r\n        if (focused &amp;&amp; filters != null) {\r\n            performFiltering(text, 0)\r\n        }\r\n    }\r\n\r\n    fun performFilter() {\r\n        performFiltering(text, 0)\r\n        showDropDown()\r\n    }\r\n}\r\n\r\nI need to show all data from autocompletetextview after click button dropdown(imageview). Using class extends AutoCompleteTextView and add this function, it works like magic. ","title":"AutoCompleteTextView force to show all items","body":"<pre><code>class InstantAutoComplete(context: Context?, attrs: AttributeSet?) : AutoCompleteTextView(context, attrs) {\n\noverride fun enoughToFilter(): Boolean {\n    return true\n}\n\noverride fun onFocusChanged(focused: Boolean, direction: Int, previouslyFocusedRect: Rect?) {\n    super.onFocusChanged(focused, direction, previouslyFocusedRect)\n    if (focused &amp;&amp; filters != null) {\n        performFiltering(text, 0)\n    }\n}\n\nfun performFilter() {\n    performFiltering(text, 0)\n    showDropDown()\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I need to show all data from autocompletetextview after click button dropdown(imageview). Using class extends AutoCompleteTextView and add this function, it works like magic. </p>\n"},{"tags":[],"owner":{"account_id":7209293,"reputation":3047,"user_id":5503940,"display_name":"Antonis Radz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578657348,"creation_date":1578657348,"answer_id":59681198,"question_id":11284368,"body_markdown":"Simple and easy answer is:\r\n\r\nafter `autoCompleteTextView.setText(&quot;&quot;)` simply remove filter from adapter like this:\r\n\r\n`autoCompleteTextView.adapter.filter.filter(null)`\r\n\r\nthats it, filtering is gone and whole dropdown list is shown.","title":"AutoCompleteTextView force to show all items","body":"<p>Simple and easy answer is:</p>\n\n<p>after <code>autoCompleteTextView.setText(\"\")</code> simply remove filter from adapter like this:</p>\n\n<p><code>autoCompleteTextView.adapter.filter.filter(null)</code></p>\n\n<p>thats it, filtering is gone and whole dropdown list is shown.</p>\n"},{"tags":[],"owner":{"account_id":14371927,"reputation":161,"user_id":10381451,"display_name":"Magdalena Piekarska"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1581673133,"creation_date":1581673133,"answer_id":60223651,"question_id":11284368,"body_markdown":"To stop adapter from filtering you can set high enough treshold on your textview:\r\n\r\n    autoCompleteTextView.setThreshold(100);\r\n\r\nHope it helps.","title":"AutoCompleteTextView force to show all items","body":"<p>To stop adapter from filtering you can set high enough treshold on your textview:</p>\n\n<pre><code>autoCompleteTextView.setThreshold(100);\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":1316456,"reputation":191,"user_id":1263182,"display_name":"beokh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593509183,"creation_date":1593509183,"answer_id":62654295,"question_id":11284368,"body_markdown":"1. autoComplete.setText(&quot; &quot;)\r\n2. filter { it.contains(constraint.trim(), true) } }\r\n\r\nNote: You have to set text for autoComplete with space text and in filter, you should trim constraint text input and it will show all dropdown list. ","title":"AutoCompleteTextView force to show all items","body":"<ol>\n<li>autoComplete.setText(&quot; &quot;)</li>\n<li>filter { it.contains(constraint.trim(), true) } }</li>\n</ol>\n<p>Note: You have to set text for autoComplete with space text and in filter, you should trim constraint text input and it will show all dropdown list.</p>\n"},{"tags":[],"owner":{"account_id":12605951,"reputation":2564,"user_id":9166855,"display_name":"Prajwal Waingankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692022239,"creation_date":1692022239,"answer_id":76899690,"question_id":11284368,"body_markdown":"With reference to this answer above: https://stackoverflow.com/a/60223651/9166855\r\nWith some additional changes I was able to get the perfect workable solution:\r\n\r\n1. XML: Add below code in AutoCompleteTextView. This avoid user from entering any input manually and selecting only the suggestions.\r\n\r\n       android:inputType=&quot;none&quot;\r\n       android:focusableInTouchMode=&quot;false&quot;\r\n       android:cursorVisible=&quot;false&quot;\r\n\r\n2. Code: Setting high threshold helps showing all suggestions always.\r\n\r\n       autotvLocations.setThreshold(100);  // Setting high threshold so that everytime all suggestions are shown.","title":"AutoCompleteTextView force to show all items","body":"<p>With reference to this answer above: <a href=\"https://stackoverflow.com/a/60223651/9166855\">https://stackoverflow.com/a/60223651/9166855</a>\nWith some additional changes I was able to get the perfect workable solution:</p>\n<ol>\n<li><p>XML: Add below code in AutoCompleteTextView. This avoid user from entering any input manually and selecting only the suggestions.</p>\n<pre><code>android:inputType=&quot;none&quot;\nandroid:focusableInTouchMode=&quot;false&quot;\nandroid:cursorVisible=&quot;false&quot;\n</code></pre>\n</li>\n<li><p>Code: Setting high threshold helps showing all suggestions always.</p>\n<pre><code>autotvLocations.setThreshold(100);  // Setting high threshold so that everytime all suggestions are shown.\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":1617223,"reputation":295,"user_id":1494582,"display_name":"XCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30366,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":11302820,"answer_count":12,"score":20,"last_activity_date":1692022239,"creation_date":1341165335,"question_id":11284368,"body_markdown":"There is a moment in my app, that I need to force to show all items in the suggestion list, no matter what the user has typed. How can I do that?\r\n\r\nI tried to do something with filtering, but for me as a beginner filtering is just way too complicated, I tried searching beginners tutorial for filtering without any luck. Maybe, there is a simpler way to force to show all the suggestion items?\r\n\r\n\r\n\r\nEDIT:\r\nBasically what was my idea, is that, when user types something whats not in the list, it shows all the available options he can have.\r\n\r\nI&#39;ve found the best way of checking weather the ACTV is beign shown or not, but onTextChangeEvent I compare the user typed text with my list, and then if no elements have been found show full list.\r\n\r\n\r\n    public void onTextChanged(CharSequence s, int start, int before, int count)\r\n             {                \r\n               final EditText editText = (EditText) findViewById(R.id.vardsUserInput);\r\n           \t\tString strValue = editText.getText().toString().toUpperCase();\r\n           \t\tString temp;\r\n           \t\tint Cc=0; //my count variable\r\n           \t\tfor(int i=0; i&lt;vardi.length; i++)\r\n           \t\t{\r\n           \t\t\ttemp = vardi[i].toUpperCase();\r\n           \t\t\tif(temp.startsWith(strValue.toUpperCase()))\r\n           \t\t\t{\r\n           \t\t\t\tLog.d(&quot;testing&quot;,vardi[i]);\r\n           \t\t\t\tCc++;   \t\t\t\t       \t\t\t       \t\t\t\r\n           \t\t\t}\r\n           \t\t}       \t\t\r\n           \tif(Cc == 0)\r\n            {\r\n            //Show all the available options\r\n    \ttextView.showDropDown();       \t\t       \t\r\n             }          \t\t\r\n    }\r\n\r\n","title":"AutoCompleteTextView force to show all items","body":"<p>There is a moment in my app, that I need to force to show all items in the suggestion list, no matter what the user has typed. How can I do that?</p>\n\n<p>I tried to do something with filtering, but for me as a beginner filtering is just way too complicated, I tried searching beginners tutorial for filtering without any luck. Maybe, there is a simpler way to force to show all the suggestion items?</p>\n\n<p>EDIT:\nBasically what was my idea, is that, when user types something whats not in the list, it shows all the available options he can have.</p>\n\n<p>I've found the best way of checking weather the ACTV is beign shown or not, but onTextChangeEvent I compare the user typed text with my list, and then if no elements have been found show full list.</p>\n\n<pre><code>public void onTextChanged(CharSequence s, int start, int before, int count)\n         {                \n           final EditText editText = (EditText) findViewById(R.id.vardsUserInput);\n            String strValue = editText.getText().toString().toUpperCase();\n            String temp;\n            int Cc=0; //my count variable\n            for(int i=0; i&lt;vardi.length; i++)\n            {\n                temp = vardi[i].toUpperCase();\n                if(temp.startsWith(strValue.toUpperCase()))\n                {\n                    Log.d(\"testing\",vardi[i]);\n                    Cc++;                                                   \n                }\n            }               \n        if(Cc == 0)\n        {\n        //Show all the available options\n    textView.showDropDown();                    \n         }                  \n}\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":8656744,"reputation":424,"user_id":6480749,"display_name":"J11"},"score":0,"creation_date":1657900554,"post_id":72989579,"comment_id":128927660,"body_markdown":"Have you tried not concatenating HAVERSINE_FORMULA_IMPROVED to the query?","body":"Have you tried not concatenating HAVERSINE_FORMULA_IMPROVED to the query?"},{"owner":{"account_id":1673567,"reputation":23,"user_id":1539537,"display_name":"Trey"},"score":0,"creation_date":1657951175,"post_id":72989579,"comment_id":128936271,"body_markdown":"Yes, adding the text from HAVERSINE_FORMULA_IMPROVED directly to the @Query(&quot;... give the same result.","body":"Yes, adding the text from HAVERSINE_FORMULA_IMPROVED directly to the @Query(&quot;... give the same result."}],"answers":[{"tags":[],"owner":{"account_id":2020728,"reputation":21,"user_id":1806971,"display_name":"user1806971"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692021699,"creation_date":1692021699,"answer_id":76899629,"question_id":72989579,"body_markdown":"did you find a solution to this?    I had by Haversine function working within a query fine but now, after updating to Spring 3.0 (and corresponding hibernate libs etc) I get this same error (Could not locate named parameter [longitude]).\r\n\r\nIf I change by function from: \r\n\r\n    String HAVERSINE_PART = &quot; (6371 * &quot; +\r\n            &quot; acos( cos(radians(:latitude)) &quot; +\r\n            &quot;     * cos(radians(ii.latitude)) &quot; +\r\n            &quot;     * cos(radians(ii.longitude) - radians(:longitude)) &quot; +\r\n            &quot;     + sin(radians(:latitude)) &quot; +\r\n            &quot;     * sin(radians(ii.latitude)) ) ) &quot;;\r\n\r\nto \r\n\r\n    String HAVERSINE_PART = &quot;  (6371 * :longitude + :latitude )&quot; ;\r\n\r\nI don&#39;t get the error.   There seems to be a limit on the complexity of the SQL that JPA can handle.\r\n\r\nHAVERSINE_PART is contained as both a select column and within tthe WHERE clause of the SQL Statement.\r\n","title":"Could not locate named parameter [longitude], expecting one of [searchTerm] when using Spring JPA and QueryDSL","body":"<p>did you find a solution to this?    I had by Haversine function working within a query fine but now, after updating to Spring 3.0 (and corresponding hibernate libs etc) I get this same error (Could not locate named parameter [longitude]).</p>\n<p>If I change by function from:</p>\n<pre><code>String HAVERSINE_PART = &quot; (6371 * &quot; +\n        &quot; acos( cos(radians(:latitude)) &quot; +\n        &quot;     * cos(radians(ii.latitude)) &quot; +\n        &quot;     * cos(radians(ii.longitude) - radians(:longitude)) &quot; +\n        &quot;     + sin(radians(:latitude)) &quot; +\n        &quot;     * sin(radians(ii.latitude)) ) ) &quot;;\n</code></pre>\n<p>to</p>\n<pre><code>String HAVERSINE_PART = &quot;  (6371 * :longitude + :latitude )&quot; ;\n</code></pre>\n<p>I don't get the error.   There seems to be a limit on the complexity of the SQL that JPA can handle.</p>\n<p>HAVERSINE_PART is contained as both a select column and within tthe WHERE clause of the SQL Statement.</p>\n"}],"owner":{"account_id":1673567,"reputation":23,"user_id":1539537,"display_name":"Trey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692021699,"creation_date":1657864437,"question_id":72989579,"body_markdown":"My JPA query seems to return the correct results, but still throws:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Could not locate named parameter [longitude], expecting one of [searchTerm]\r\n\tat org.hibernate.query.internal.ParameterMetadataImpl.getNamedParameterDescriptor(ParameterMetadataImpl.java:229) ~[hibernate-core-5.4.20.Final.jar:5.4.20.Final]\r\n\tat org.hibernate.query.internal.ParameterMetadataImpl.getQueryParameter(ParameterMetadataImpl.java:198) ~[hibernate-core-5.4.20.Final.jar:5.4.20.Final]\r\n\tat org.hibernate.query.internal.QueryParameterBindingsImpl.getBinding(QueryParameterBindingsImpl.java:188) ~[hibernate-core-5.4.20.Final.jar:5.4.20.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:490) ~[hibernate-core-5\r\n```\r\n\r\nMy JpaRepository has this method:\r\n\r\n```\r\n  String HAVERSINE_FORMULA_IMPROVED = &quot;(0.000621371 * 6378137 * 2 * atan2(&quot;\r\n      + &quot;      sqrt(sin(radians(c.geonamesPostal.latitude - :latitude) / 2) * sin(radians(c.geonamesPostal.latitude - :latitude) / 2)&quot;\r\n      + &quot;          + cos(radians(:latitude)) * cos(radians(c.geonamesPostal.latitude))&quot;\r\n      + &quot;              * sin(radians(c.geonamesPostal.longitude - :longitude) / 2) * sin(radians(c.geonamesPostal.longitude - :longitude) / 2)),&quot;\r\n      + &quot;      sqrt(1 - sin(radians(c.geonamesPostal.latitude - :latitude) / 2) * sin(radians(c.geonamesPostal.latitude - :latitude) / 2)&quot;\r\n      + &quot;          + cos(radians(:latitude)) * cos(radians(c.geonamesPostal.latitude))&quot;\r\n      + &quot;              * sin(radians(c.geonamesPostal.longitude - :longitude) / 2) * sin(radians(c.geonamesPostal.longitude - :longitude) / 2))))&quot;;\r\n\r\n  @Query(&quot;SELECT c FROM Classified c where c.dateDeleted is NULL and c.title like %:searchTerm% or c.description like %:searchTerm% ORDER BY &quot;\r\n      + HAVERSINE_FORMULA_IMPROVED)\r\n  Page&lt;Classified&gt; findNearestClassifieds(@Param(&quot;latitude&quot;) double latitude,\r\n      @Param(&quot;longitude&quot;) double longitude, @Param(&quot;searchTerm&quot;) String searchTerm, Pageable page);\r\n```\r\n\r\nMy guess is there is something wrong with the way I&#39;m constructing the @Query\r\n","title":"Could not locate named parameter [longitude], expecting one of [searchTerm] when using Spring JPA and QueryDSL","body":"<p>My JPA query seems to return the correct results, but still throws:</p>\n<pre><code>java.lang.IllegalArgumentException: Could not locate named parameter [longitude], expecting one of [searchTerm]\n    at org.hibernate.query.internal.ParameterMetadataImpl.getNamedParameterDescriptor(ParameterMetadataImpl.java:229) ~[hibernate-core-5.4.20.Final.jar:5.4.20.Final]\n    at org.hibernate.query.internal.ParameterMetadataImpl.getQueryParameter(ParameterMetadataImpl.java:198) ~[hibernate-core-5.4.20.Final.jar:5.4.20.Final]\n    at org.hibernate.query.internal.QueryParameterBindingsImpl.getBinding(QueryParameterBindingsImpl.java:188) ~[hibernate-core-5.4.20.Final.jar:5.4.20.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:490) ~[hibernate-core-5\n</code></pre>\n<p>My JpaRepository has this method:</p>\n<pre><code>  String HAVERSINE_FORMULA_IMPROVED = &quot;(0.000621371 * 6378137 * 2 * atan2(&quot;\n      + &quot;      sqrt(sin(radians(c.geonamesPostal.latitude - :latitude) / 2) * sin(radians(c.geonamesPostal.latitude - :latitude) / 2)&quot;\n      + &quot;          + cos(radians(:latitude)) * cos(radians(c.geonamesPostal.latitude))&quot;\n      + &quot;              * sin(radians(c.geonamesPostal.longitude - :longitude) / 2) * sin(radians(c.geonamesPostal.longitude - :longitude) / 2)),&quot;\n      + &quot;      sqrt(1 - sin(radians(c.geonamesPostal.latitude - :latitude) / 2) * sin(radians(c.geonamesPostal.latitude - :latitude) / 2)&quot;\n      + &quot;          + cos(radians(:latitude)) * cos(radians(c.geonamesPostal.latitude))&quot;\n      + &quot;              * sin(radians(c.geonamesPostal.longitude - :longitude) / 2) * sin(radians(c.geonamesPostal.longitude - :longitude) / 2))))&quot;;\n\n  @Query(&quot;SELECT c FROM Classified c where c.dateDeleted is NULL and c.title like %:searchTerm% or c.description like %:searchTerm% ORDER BY &quot;\n      + HAVERSINE_FORMULA_IMPROVED)\n  Page&lt;Classified&gt; findNearestClassifieds(@Param(&quot;latitude&quot;) double latitude,\n      @Param(&quot;longitude&quot;) double longitude, @Param(&quot;searchTerm&quot;) String searchTerm, Pageable page);\n</code></pre>\n<p>My guess is there is something wrong with the way I'm constructing the @Query</p>\n"},{"tags":["java","generics","serialization","jackson"],"comments":[{"owner":{"account_id":8702736,"reputation":11399,"user_id":6511967,"display_name":"Wilson"},"score":0,"creation_date":1467998503,"post_id":38271440,"comment_id":63963778,"body_markdown":"http://stackoverflow.com/questions/11664894/jackson-deserialize-using-generic-class may help","body":"<a href=\"http://stackoverflow.com/questions/11664894/jackson-deserialize-using-generic-class\" title=\"jackson deserialize using generic class\">stackoverflow.com/questions/11664894/&hellip;</a> may help"}],"answers":[{"tags":[],"owner":{"account_id":7704350,"reputation":11,"user_id":5835733,"display_name":"jayms"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1467998452,"creation_date":1467998452,"answer_id":38272264,"question_id":38271440,"body_markdown":"I don&#39;t think you need to write our own custom deserializer. You can use this syntax to deserialize objects that use generics, taken from another Stack Overflow thread.\r\n\r\n    mapper.readValue(jsonString, new TypeReference&lt;Data&lt;String&gt;&gt;() {});\r\n\r\nCouple sources to help you:\r\nhttps://stackoverflow.com/questions/11664894/jackson-deserialize-using-generic-class\r\nhttp://www.tutorialspoint.com/jackson/jackson_data_binding_generics.htm","title":"Jackson deserializer for generic type","body":"<p>I don't think you need to write our own custom deserializer. You can use this syntax to deserialize objects that use generics, taken from another Stack Overflow thread.</p>\n\n<pre><code>mapper.readValue(jsonString, new TypeReference&lt;Data&lt;String&gt;&gt;() {});\n</code></pre>\n\n<p>Couple sources to help you:\n<a href=\"https://stackoverflow.com/questions/11664894/jackson-deserialize-using-generic-class\">Jackson - Deserialize using generic class</a>\n<a href=\"http://www.tutorialspoint.com/jackson/jackson_data_binding_generics.htm\" rel=\"nofollow noreferrer\">http://www.tutorialspoint.com/jackson/jackson_data_binding_generics.htm</a></p>\n"},{"tags":[],"owner":{"account_id":8466234,"reputation":1271,"user_id":6350321,"display_name":"Sanjeev Sachdev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519149484,"creation_date":1519143774,"answer_id":48889745,"question_id":38271440,"body_markdown":"You don&#39;t need to write a custom deserializer. A generic can be deserialized by putting Jackson annotations on the type that is passed as parameter to the generic class.&lt;BR&gt;\r\nAnnotate class `Bar1` as follows:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\r\n    @JsonTypeName(&quot;Bar1&quot;)\r\n    class Bar1 {\r\n    \r\n    }\r\n\r\nNow when you deserialize an instance of `Foo&lt;Bar1&gt;`, Jackson will put type parameter info into JSON. This JSON can then be deserialized into generic class `Foo.class` just as you would deserialize any other class.\r\n\r\n    ObjectMapper mapper = ...;\r\n    Foo&lt;Bar1&gt; foo = new Foo&lt;Bar1&gt;();\r\n    String json = objectMapper.writeValueAsString(foo);\r\n    foo = mapper.readValue(json, Foo.class); // no need to specify the type Bar1.\r\n\r\nSo if every class that can be passed as parameter to Foo has annotations on it, then JSON can be deserialized without knowing the type parameter at compile time.\r\n\r\nPlease refer Jackson documentation on [Polymorphic Deserialization][1] and [Annotations][2].\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\r\n  [2]: https://github.com/FasterXML/jackson-annotations/wiki/Jackson-Annotations","title":"Jackson deserializer for generic type","body":"<p>You don't need to write a custom deserializer. A generic can be deserialized by putting Jackson annotations on the type that is passed as parameter to the generic class.<BR>\nAnnotate class <code>Bar1</code> as follows:</p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\n@JsonTypeName(\"Bar1\")\nclass Bar1 {\n\n}\n</code></pre>\n\n<p>Now when you deserialize an instance of <code>Foo&lt;Bar1&gt;</code>, Jackson will put type parameter info into JSON. This JSON can then be deserialized into generic class <code>Foo.class</code> just as you would deserialize any other class.</p>\n\n<pre><code>ObjectMapper mapper = ...;\nFoo&lt;Bar1&gt; foo = new Foo&lt;Bar1&gt;();\nString json = objectMapper.writeValueAsString(foo);\nfoo = mapper.readValue(json, Foo.class); // no need to specify the type Bar1.\n</code></pre>\n\n<p>So if every class that can be passed as parameter to Foo has annotations on it, then JSON can be deserialized without knowing the type parameter at compile time.</p>\n\n<p>Please refer Jackson documentation on <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\" rel=\"nofollow noreferrer\">Polymorphic Deserialization</a> and <a href=\"https://github.com/FasterXML/jackson-annotations/wiki/Jackson-Annotations\" rel=\"nofollow noreferrer\">Annotations</a>.</p>\n"}],"owner":{"account_id":3441020,"reputation":283,"user_id":2882986,"accept_rate":80,"display_name":"nsommer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16594,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1692021675,"creation_date":1467995066,"question_id":38271440,"body_markdown":"I need to write a custom deserializer for a class with generics. I couldn&#39;t find a way to do this, however I cannot imagine I&#39;m the only one with this problem. As far as I&#39;ve thought through it, there would be two ways to implement this, yet none of them are implementable:\r\n\r\n1. Providing a Class&lt;?&gt; parameter to the deserializer in the constructor of the deserializer doesn&#39;t work, because when registering the deserializer, the relationship between Type&lt;T&gt;.class and the instance of the deserializer with the passed Class&lt;T&gt; instance is lost.\r\n\r\nFor example:\r\n\r\n    public class Foo&lt;T&gt; {}\r\n    public class FooDeserializer&lt;T&gt; {\r\n        public FooDeserializer(Class&lt;T&gt; type) { ... }\r\n        ...\r\n    }\r\n    // Boilerplate code...\r\n    module.addDeserializer(Foo.class, new FooDeserializer&lt;Bar1&gt;(Bar1.class));\r\n    module.addDeserializer(Foo.class, new FooDeserializer&lt;Bar2&gt;(Bar2.class));\r\n\r\nThis doesn&#39;t work, when an ObjectMapper instance gets an instance of Foo, there&#39;s no type information of the generic parameter available (type erasure) so it simply chooses the last deserializer registered.\r\n\r\n\r\n2. It doesn&#39;t help to keep a reference of the generic type in the class because an instantiated version of the class cannot be passed to the deserializer (the interface is readValue(String, Class&lt;?&gt;)).\r\n\r\nFor example:\r\n\r\n    String json = &quot;...&quot;;\r\n    ObjectMapper mapper = ...;\r\n    Foo&lt;Bar1&gt; foo = new Foo&lt;&gt;(Bar1.class);\r\n    foo = mapper.readValue(json, Foo.class); // Can&#39;t pass empty foo instance with Class&lt;?&gt; field containing Bar1.class\r\n\r\nSomething like this would be needed:\r\n\r\n    mapper.readValue(json, Foo.class, Bar1.class); // Doesn&#39;t exist in jackson\r\n\r\nAny suggestions how to do this?\r\n\r\nEDIT:\r\nI found a way to solve the problem, however it&#39;s not a clean solution:\r\n\r\nI extend the FooDeserializer with a Class&lt;?&gt; field to save the type of Foo&#39;s generic parameter. Then, every time I want to deserialize some json into a new Foo instance, I get a new ObjectMapper instance (I use ObjectMapper#copy on a preconfigured instance from a factory) and pass it a new Module which contains an instance of the FooDeserializer with the class parameter (I know the type at this time). Module, FooDeserializer and the ObjectMapper copy are short living, they only get instantiated for this single deserialization action. As I said, not very clean, but still better than subclassing Foo many times and writing a deserializer for each.\r\n\r\nExample:\r\n\r\n    public class FooDeserializer&lt;T&gt; extends StdDeserializer&lt;T&gt; {\r\n        private Class&lt;T&gt; type;\r\n        public FooDeserializer(Class&lt;T&gt; type) { this.type = type }\r\n        ...\r\n    }\r\n    \r\n    // Meanwhile, before deserialization:\r\n    ObjectMapper mapper = MyObjectMapperFactory.get().copy();\r\n    SimpleModule module = new SimpleModule(new Version(0,0,1,null,null,null);\r\n    module.addDeserializer(Foo.class, new FooDeserializer(Bar1.class);\r\n    mapper.addModule(module);\r\n    Foo&lt;Bar1&gt; x = mapper.readValue(json, Foo.class); \r\nProbably putting this into a utility method to hide the uglyness.","title":"Jackson deserializer for generic type","body":"<p>I need to write a custom deserializer for a class with generics. I couldn't find a way to do this, however I cannot imagine I'm the only one with this problem. As far as I've thought through it, there would be two ways to implement this, yet none of them are implementable:</p>\n\n<ol>\n<li>Providing a Class parameter to the deserializer in the constructor of the deserializer doesn't work, because when registering the deserializer, the relationship between Type.class and the instance of the deserializer with the passed Class instance is lost.</li>\n</ol>\n\n<p>For example:</p>\n\n<pre><code>public class Foo&lt;T&gt; {}\npublic class FooDeserializer&lt;T&gt; {\n    public FooDeserializer(Class&lt;T&gt; type) { ... }\n    ...\n}\n// Boilerplate code...\nmodule.addDeserializer(Foo.class, new FooDeserializer&lt;Bar1&gt;(Bar1.class));\nmodule.addDeserializer(Foo.class, new FooDeserializer&lt;Bar2&gt;(Bar2.class));\n</code></pre>\n\n<p>This doesn't work, when an ObjectMapper instance gets an instance of Foo, there's no type information of the generic parameter available (type erasure) so it simply chooses the last deserializer registered.</p>\n\n<ol start=\"2\">\n<li>It doesn't help to keep a reference of the generic type in the class because an instantiated version of the class cannot be passed to the deserializer (the interface is readValue(String, Class)).</li>\n</ol>\n\n<p>For example:</p>\n\n<pre><code>String json = \"...\";\nObjectMapper mapper = ...;\nFoo&lt;Bar1&gt; foo = new Foo&lt;&gt;(Bar1.class);\nfoo = mapper.readValue(json, Foo.class); // Can't pass empty foo instance with Class&lt;?&gt; field containing Bar1.class\n</code></pre>\n\n<p>Something like this would be needed:</p>\n\n<pre><code>mapper.readValue(json, Foo.class, Bar1.class); // Doesn't exist in jackson\n</code></pre>\n\n<p>Any suggestions how to do this?</p>\n\n<p>EDIT:\nI found a way to solve the problem, however it's not a clean solution:</p>\n\n<p>I extend the FooDeserializer with a Class field to save the type of Foo's generic parameter. Then, every time I want to deserialize some json into a new Foo instance, I get a new ObjectMapper instance (I use ObjectMapper#copy on a preconfigured instance from a factory) and pass it a new Module which contains an instance of the FooDeserializer with the class parameter (I know the type at this time). Module, FooDeserializer and the ObjectMapper copy are short living, they only get instantiated for this single deserialization action. As I said, not very clean, but still better than subclassing Foo many times and writing a deserializer for each.</p>\n\n<p>Example:</p>\n\n<pre><code>public class FooDeserializer&lt;T&gt; extends StdDeserializer&lt;T&gt; {\n    private Class&lt;T&gt; type;\n    public FooDeserializer(Class&lt;T&gt; type) { this.type = type }\n    ...\n}\n\n// Meanwhile, before deserialization:\nObjectMapper mapper = MyObjectMapperFactory.get().copy();\nSimpleModule module = new SimpleModule(new Version(0,0,1,null,null,null);\nmodule.addDeserializer(Foo.class, new FooDeserializer(Bar1.class);\nmapper.addModule(module);\nFoo&lt;Bar1&gt; x = mapper.readValue(json, Foo.class); \n</code></pre>\n\n<p>Probably putting this into a utility method to hide the uglyness.</p>\n"},{"tags":["java","spring","kotlin","ldap","spring-ldap"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1692021934,"post_id":76899510,"comment_id":135565741,"body_markdown":"There are 2 things at play here, 1 authentication (you are who you tell who you are) and 2. authorization. While you could do 1 with passing the username/password to LDAP you couldn&#39;t do the second as you would need to retrieve the user. Hence generally you have a readonly user to connect to the LDAP server and then let Spring through the LDAP support retrieve and validate the user. Instead of setting the `userDn` and `password` set the `authenticationSource` and set it to `SpringSecurityAuthenticationSource` which will use the entered credetials for the authentication as well as retrieval.","body":"There are 2 things at play here, 1 authentication (you are who you tell who you are) and 2. authorization. While you could do 1 with passing the username/password to LDAP you couldn&#39;t do the second as you would need to retrieve the user. Hence generally you have a readonly user to connect to the LDAP server and then let Spring through the LDAP support retrieve and validate the user. Instead of setting the <code>userDn</code> and <code>password</code> set the <code>authenticationSource</code> and set it to <code>SpringSecurityAuthenticationSource</code> which will use the entered credetials for the authentication as well as retrieval."}],"owner":{"account_id":7793862,"reputation":591,"user_id":6099620,"display_name":"well"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692021542,"creation_date":1692020969,"question_id":76899510,"body_markdown":"There is an LDAP-server in the local network. I&#39;m trying to autentificate users in a Spring app with Spring LDAP. There are many users and everyone should have possibility to enter their credentials in the Spring app, with which I could autentificate them to the LDAP-server.\r\n\r\nTest code snippet for  autentification:\r\n\r\n    fun test() {\r\n        val contextSource = LdapContextSource()\r\n        contextSource.setUrl(&quot;ldap://server.com:389/&quot;)\r\n        contextSource.setBase(&quot;DC=server,DC=com&quot;)\r\n        contextSource.userDn = &quot;username@server.com&quot;\r\n        contextSource.password = &quot;supersecretpassword&quot;\r\n        contextSource.afterPropertiesSet()\r\n    \r\n        val ldapTemplate = LdapTemplate(contextSource)\r\n        ldapTemplate.afterPropertiesSet()\r\n    \r\n        val query = query().where(&quot;userprincipalname&quot;).`is`(&quot;username@server.com&quot;)\r\n        ldapTemplate.authenticate(query,  &quot;supersecretpassword&quot;)\r\n    }\r\n\r\nThis is a working code, user is autentificated. But here are some points I don&#39;t understand:\r\n1. For what it is necessary to specify the login and password of the user in `LdapContextSource`, and then in `LdapTemplate` when executing autentification? It is logical, after all, if I know the user credentials, I enter them it one place. But if I don&#39;t specify the credentials in `LdapContextSource`, then when executing `ldapTemplate.authenticate(..)` I&#39;ll get an exception.  Moreover, an exception won&#39;t be thrown either when creating `LdapContextSource` either `LdapTemplate`.\r\nI only have an assumption that credentials in `LdapContextSource` have to be with admin rights. But for what? Knowledge of your username and password should be enough for autentification.\r\n2. The second problem is a consequence of the first. Above, I wrote a code snippet with creating instances of the `LdapContextSource` and `LdapTemplate`. But a good point is to create beans of these classes. But I can&#39;t create beans of these classes because there are a lot of users and, accordingly, their credentials. I have to create instances of `LdapContextSource` and `LdapTemplate` every time a user logs in.\r\n\r\nBy the way, you can authenticate a user without specifying his credentials in LdapContextSource:\r\n\r\n    fun test() {\r\n        val contextSource = LdapContextSource()\r\n        contextSource.setUrl(&quot;ldap://server.com:389/&quot;)\r\n        contextSource.afterPropertiesSet()\r\n        val dirContext = contextSource.getContext(&quot;username@server.com&quot;, &quot;supersecretpassword&quot;)\r\n    }\r\nBut in this case you won&#39;t get a list of user attributes, only a list of domain attributes.\r\n\r\nLibrary versions:\r\n\r\n - org.springframework.ldap:spring-ldap-core:2.2.0.RELEASE\r\n - org.springframework.boot:spring-boot-starter-data-ldap:2.2.0.RELEASE\r\n\r\n","title":"Using credentials for Spring LDAP autentification","body":"<p>There is an LDAP-server in the local network. I'm trying to autentificate users in a Spring app with Spring LDAP. There are many users and everyone should have possibility to enter their credentials in the Spring app, with which I could autentificate them to the LDAP-server.</p>\n<p>Test code snippet for  autentification:</p>\n<pre><code>fun test() {\n    val contextSource = LdapContextSource()\n    contextSource.setUrl(&quot;ldap://server.com:389/&quot;)\n    contextSource.setBase(&quot;DC=server,DC=com&quot;)\n    contextSource.userDn = &quot;username@server.com&quot;\n    contextSource.password = &quot;supersecretpassword&quot;\n    contextSource.afterPropertiesSet()\n\n    val ldapTemplate = LdapTemplate(contextSource)\n    ldapTemplate.afterPropertiesSet()\n\n    val query = query().where(&quot;userprincipalname&quot;).`is`(&quot;username@server.com&quot;)\n    ldapTemplate.authenticate(query,  &quot;supersecretpassword&quot;)\n}\n</code></pre>\n<p>This is a working code, user is autentificated. But here are some points I don't understand:</p>\n<ol>\n<li>For what it is necessary to specify the login and password of the user in <code>LdapContextSource</code>, and then in <code>LdapTemplate</code> when executing autentification? It is logical, after all, if I know the user credentials, I enter them it one place. But if I don't specify the credentials in <code>LdapContextSource</code>, then when executing <code>ldapTemplate.authenticate(..)</code> I'll get an exception.  Moreover, an exception won't be thrown either when creating <code>LdapContextSource</code> either <code>LdapTemplate</code>.\nI only have an assumption that credentials in <code>LdapContextSource</code> have to be with admin rights. But for what? Knowledge of your username and password should be enough for autentification.</li>\n<li>The second problem is a consequence of the first. Above, I wrote a code snippet with creating instances of the <code>LdapContextSource</code> and <code>LdapTemplate</code>. But a good point is to create beans of these classes. But I can't create beans of these classes because there are a lot of users and, accordingly, their credentials. I have to create instances of <code>LdapContextSource</code> and <code>LdapTemplate</code> every time a user logs in.</li>\n</ol>\n<p>By the way, you can authenticate a user without specifying his credentials in LdapContextSource:</p>\n<pre><code>fun test() {\n    val contextSource = LdapContextSource()\n    contextSource.setUrl(&quot;ldap://server.com:389/&quot;)\n    contextSource.afterPropertiesSet()\n    val dirContext = contextSource.getContext(&quot;username@server.com&quot;, &quot;supersecretpassword&quot;)\n}\n</code></pre>\n<p>But in this case you won't get a list of user attributes, only a list of domain attributes.</p>\n<p>Library versions:</p>\n<ul>\n<li>org.springframework.ldap:spring-ldap-core:2.2.0.RELEASE</li>\n<li>org.springframework.boot:spring-boot-starter-data-ldap:2.2.0.RELEASE</li>\n</ul>\n"},{"tags":["java","spring","postgresql","hibernate","spring-boot"],"comments":[{"owner":{"account_id":4079753,"reputation":2891,"user_id":3350516,"accept_rate":50,"display_name":"rorschach"},"score":0,"creation_date":1473543410,"post_id":39430422,"comment_id":66184853,"body_markdown":"http://stackoverflow.com/questions/4168689/is-it-possible-to-specify-schema-when-connecting-to-postgres-with-jdbc","body":"<a href=\"http://stackoverflow.com/questions/4168689/is-it-possible-to-specify-schema-when-connecting-to-postgres-with-jdbc\" title=\"is it possible to specify schema when connecting to postgres with jdbc\">stackoverflow.com/questions/4168689/&hellip;</a>"},{"owner":{"account_id":244890,"reputation":14524,"user_id":518012,"accept_rate":66,"display_name":"Eugene Goldberg"},"score":0,"creation_date":1473543999,"post_id":39430422,"comment_id":66184983,"body_markdown":"the link you provided, pointed me to the solution:  ALTER USER user_name SET search_path to &#39;schema&#39;\nWill be happy to accept if you post it as an answer. thanks!","body":"the link you provided, pointed me to the solution:  ALTER USER user_name SET search_path to &#39;schema&#39; Will be happy to accept if you post it as an answer. thanks!"},{"owner":{"account_id":3668752,"reputation":6558,"user_id":3065232,"accept_rate":25,"display_name":"Lijo"},"score":0,"creation_date":1571209258,"post_id":39430422,"comment_id":103158993,"body_markdown":"did you find any solution","body":"did you find any solution"}],"answers":[{"tags":[],"owner":{"account_id":1895425,"reputation":2578,"user_id":1712511,"display_name":"anthavio"},"down_vote_count":0,"up_vote_count":153,"is_accepted":false,"score":153,"last_activity_date":1528826135,"creation_date":1478018278,"answer_id":40364487,"question_id":39430422,"body_markdown":"For Hibernate as JPA provider use\r\n\r\n`spring.jpa.properties.hibernate.default_schema=dbo`\r\n\r\nFor plain JDBC, add it to your connection string:\r\n\r\n    jdbc:postgresql://localhost:5432/mydatabase?currentSchema=myschema\r\n\r\nAnother option is to run the statement `set schema &#39;dbo&#39;` early in each query object. (Yuck!)\r\n\r\nBTW your \r\n`spring.datasource.schema=dbo`\r\nis probably mistake as this property specifies name of the sql file that contains your schema (CREATE/ALTER statements)\r\n","title":"how to properly specify database schema in spring boot?","body":"<p>For Hibernate as JPA provider use</p>\n\n<p><code>spring.jpa.properties.hibernate.default_schema=dbo</code></p>\n\n<p>For plain JDBC, add it to your connection string:</p>\n\n<pre><code>jdbc:postgresql://localhost:5432/mydatabase?currentSchema=myschema\n</code></pre>\n\n<p>Another option is to run the statement <code>set schema 'dbo'</code> early in each query object. (Yuck!)</p>\n\n<p>BTW your \n<code>spring.datasource.schema=dbo</code>\nis probably mistake as this property specifies name of the sql file that contains your schema (CREATE/ALTER statements)</p>\n"},{"tags":[],"owner":{"account_id":20317996,"reputation":1,"user_id":14903413,"display_name":"CrazyFrodric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643208119,"creation_date":1643203871,"answer_id":70864214,"question_id":39430422,"body_markdown":"I had similar problem. The following two lines\r\n\r\n    entityManagerFactory.setJpaProperties(additionalProperties);\r\n    additionalProperties.put(&quot;hibernate.default_schema&quot;, &quot;dbo&quot;);\r\n\r\nshould be in a different order: \r\nfirst you put default schema in additionalProperties and then set them in entityManagerFactory\r\n\r\n    additionalProperties.put(&quot;hibernate.default_schema&quot;, &quot;dbo&quot;);\r\n    entityManagerFactory.setJpaProperties(additionalProperties);\r\n\r\n\r\n","title":"how to properly specify database schema in spring boot?","body":"<p>I had similar problem. The following two lines</p>\n<pre><code>entityManagerFactory.setJpaProperties(additionalProperties);\nadditionalProperties.put(&quot;hibernate.default_schema&quot;, &quot;dbo&quot;);\n</code></pre>\n<p>should be in a different order:\nfirst you put default schema in additionalProperties and then set them in entityManagerFactory</p>\n<pre><code>additionalProperties.put(&quot;hibernate.default_schema&quot;, &quot;dbo&quot;);\nentityManagerFactory.setJpaProperties(additionalProperties);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12051524,"reputation":1,"user_id":8814299,"display_name":"Srivatsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658915932,"creation_date":1658915892,"answer_id":73135871,"question_id":39430422,"body_markdown":"I had the similar problem with my Microservice as well.\r\nWhen checking the internet, I found a way to do this. &lt;br&gt;\r\nSource : https://gist.github.com/marisnb/6d08621442a50b33f2104f42f9df9d86\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;code&gt;**spring.jpa.properties.hibernate.default_schema**=schema-name&lt;/code&gt;","title":"how to properly specify database schema in spring boot?","body":"<p>I had the similar problem with my Microservice as well.\nWhen checking the internet, I found a way to do this. <br>\nSource : <a href=\"https://gist.github.com/marisnb/6d08621442a50b33f2104f42f9df9d86\" rel=\"nofollow noreferrer\">https://gist.github.com/marisnb/6d08621442a50b33f2104f42f9df9d86</a>\n<br>\n<br>\n<code><strong>spring.jpa.properties.hibernate.default_schema</strong>=schema-name</code></p>\n"},{"tags":[],"owner":{"account_id":15963633,"reputation":41,"user_id":11519949,"display_name":"Samuel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1660636199,"creation_date":1660636199,"answer_id":73370497,"question_id":39430422,"body_markdown":"I suggest you to change your application.properties&#39;s file content like this :\r\n\r\n############## DataSource Config #################\r\n\r\n    spring.datasource.url=jdbc:postgresql://127.0.0.1:5432/databaseName?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC+1\r\n\r\n    spring.datasource.username=username\r\n    spring.datasource.password=password\r\n    spring.datasource.hikari.schema=dbo\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.sql.init.encoding= UTF-8\r\n\r\n############# Hibernate properties #################\r\n\r\n    spring.jpa.properties.hibernate.dialect = \r\n    org.hibernate.dialect.PostgreSQLDialect\r\n    spring.jpa.show-sql=true\r\n    #spring.jpa.hibernate.ddl-auto = create-drop\r\n    spring.jpa.hibernate.ddl-auto = update","title":"how to properly specify database schema in spring boot?","body":"<p>I suggest you to change your application.properties's file content like this :</p>\n<p>############## DataSource Config #################</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://127.0.0.1:5432/databaseName?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC+1\n\nspring.datasource.username=username\nspring.datasource.password=password\nspring.datasource.hikari.schema=dbo\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.sql.init.encoding= UTF-8\n</code></pre>\n<p>############# Hibernate properties #################</p>\n<pre><code>spring.jpa.properties.hibernate.dialect = \norg.hibernate.dialect.PostgreSQLDialect\nspring.jpa.show-sql=true\n#spring.jpa.hibernate.ddl-auto = create-drop\nspring.jpa.hibernate.ddl-auto = update\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12647878,"reputation":71,"user_id":9193028,"display_name":"Anand Nandeshwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689322417,"creation_date":1689322417,"answer_id":76685883,"question_id":39430422,"body_markdown":"By default, the public schema is used in PostgreSQL. \r\nAny SQL queries executed will run against the public schema by default unless explicitly mentioned.\r\n\r\nif your DB have multiple schema you can access by following strategies:\r\n\r\nHow to access :\r\n 1) DB Level -&gt; SET search_path TO schema1,schema2;\r\n 2) Table Level -&gt; Specify schema name in @Table annotation (@Table(name = &quot;testtable&quot;, schema = &quot;user_service&quot;))\r\n 3) Configuration Level -&gt; Specify schema name in properties or yaml file:\r\n\tspring:\t\r\n\t\tjpa:    \r\n\t\t\tproperties: \r\n\t\t\t\thibernate:\r\n\t\t\t\t\tdialect: org.hibernate.dialect.PostgreSQLDialect\r\n\t\t\t\t\tdefault_schema: user_service\r\n\r\nHope this will help","title":"how to properly specify database schema in spring boot?","body":"<p>By default, the public schema is used in PostgreSQL.\nAny SQL queries executed will run against the public schema by default unless explicitly mentioned.</p>\n<p>if your DB have multiple schema you can access by following strategies:</p>\n<p>How to access :</p>\n<ol>\n<li>DB Level -&gt; SET search_path TO schema1,schema2;</li>\n<li>Table Level -&gt; Specify schema name in @Table annotation (@Table(name = &quot;testtable&quot;, schema = &quot;user_service&quot;))</li>\n<li>Configuration Level -&gt; Specify schema name in properties or yaml file:\nspring:\njpa:<br />\nproperties:\nhibernate:\ndialect: org.hibernate.dialect.PostgreSQLDialect\ndefault_schema: user_service</li>\n</ol>\n<p>Hope this will help</p>\n"},{"tags":[],"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692021456,"creation_date":1692021456,"answer_id":76899591,"question_id":39430422,"body_markdown":"    try (final Connection connection = new JdbcTemplate(dataSource).getDataSource().getConnection()) {\r\n        connection.getSchema()\r\n}\r\n\r\nThe best and easiest decision!","title":"how to properly specify database schema in spring boot?","body":"<pre><code>try (final Connection connection = new JdbcTemplate(dataSource).getDataSource().getConnection()) {\n    connection.getSchema()\n</code></pre>\n<p>}</p>\n<p>The best and easiest decision!</p>\n"}],"owner":{"account_id":244890,"reputation":14524,"user_id":518012,"accept_rate":66,"display_name":"Eugene Goldberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136027,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"answer_count":6,"score":52,"last_activity_date":1692021456,"creation_date":1473540263,"question_id":39430422,"body_markdown":"in my spring boot / hibernate application, I need to connect to a Postgres database &quot;ax2012_1&quot;, which belong to the &quot;dbo&quot; schema.\r\n\r\nI have the following application.properties:\r\n\r\n    # Database\r\n    db.driver: org.postgresql.Driver\r\n    db.url: jdbc:postgresql://localhost:5432/ax2012_1\r\n    db.username: my_user_name\r\n    db.password: my_password\r\n    \r\n    spring.datasource.url= jdbc:postgresql://localhost:5432/ax2012_1\r\n    spring.datasource.username=my_user_name\r\n    spring.datasource.password=my_password\r\n    spring.datasource.schema=dbo \r\n    \r\n    spring.jpa.hibernate.ddl-auto=validate\r\n    \r\n    # Hibernate\r\n    hibernate.dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    hibernate.show_sql: true\r\n    hibernate.hbm2ddl.auto: update\r\n    entitymanager.packagesToScan: com.mycompany.myproduct.data\r\n\r\nmy DatabaseConfig.java looks like this:\r\n\r\n    package com.uptake.symphony.data.configs;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    import org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    public class DatabaseConfig {\r\n    \r\n      // ------------------------\r\n      // PUBLIC METHODS\r\n      // ------------------------\r\n    \r\n      /**\r\n       * DataSource definition for database connection. Settings are read from\r\n       * the application.properties file (using the env object).\r\n       */\r\n      @Bean\r\n      public DataSource dataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(env.getProperty(&quot;db.driver&quot;));\r\n        dataSource.setUrl(env.getProperty(&quot;db.url&quot;));\r\n        dataSource.setUsername(env.getProperty(&quot;db.username&quot;));\r\n        dataSource.setPassword(env.getProperty(&quot;db.password&quot;));\r\n        return dataSource;\r\n      }\r\n    \r\n      /**\r\n       * Declare the JPA entity manager factory.\r\n       */\r\n      @Bean\r\n      public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n        LocalContainerEntityManagerFactoryBean entityManagerFactory =\r\n            new LocalContainerEntityManagerFactoryBean();\r\n        \r\n        entityManagerFactory.setDataSource(dataSource);\r\n        \r\n        // Classpath scanning of @Component, @Service, etc annotated class\r\n        entityManagerFactory.setPackagesToScan(\r\n            env.getProperty(&quot;entitymanager.packagesToScan&quot;));\r\n        \r\n        // Vendor adapter\r\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        entityManagerFactory.setJpaVendorAdapter(vendorAdapter);\r\n        \r\n        // Hibernate properties\r\n        Properties additionalProperties = new Properties();\r\n        additionalProperties.put(\r\n            &quot;hibernate.dialect&quot;, \r\n            env.getProperty(&quot;hibernate.dialect&quot;));\r\n        additionalProperties.put(\r\n            &quot;hibernate.show_sql&quot;, \r\n            env.getProperty(&quot;hibernate.show_sql&quot;));\r\n        additionalProperties.put(\r\n            &quot;hibernate.hbm2ddl.auto&quot;, \r\n            env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n        entityManagerFactory.setJpaProperties(additionalProperties);\r\n        additionalProperties.put(&quot;hibernate.default_schema&quot;, &quot;dbo&quot;);\r\n        \r\n        return entityManagerFactory;\r\n      }\r\n    \r\n      /**\r\n       * Declare the transaction manager.\r\n       */\r\n      @Bean\r\n      public JpaTransactionManager transactionManager() {\r\n        JpaTransactionManager transactionManager = \r\n            new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(\r\n            entityManagerFactory.getObject());\r\n        return transactionManager;\r\n      }\r\n    \r\n      @Bean\r\n      public PersistenceExceptionTranslationPostProcessor exceptionTranslation() {\r\n        return new PersistenceExceptionTranslationPostProcessor();\r\n      }\r\n      \r\n      @Autowired\r\n      private Environment env;\r\n    \r\n      @Autowired\r\n      private DataSource dataSource;\r\n    \r\n      @Autowired\r\n      private LocalContainerEntityManagerFactoryBean entityManagerFactory;\r\n    }\r\n\r\nFrom the startup log, I can tell, that hibernate is, in fact, discovering my table &quot;custtable&quot;:\r\n\r\n    Hibernate Core {4.3.8.Final}\r\n    2016-09-10 15:27:15.866  INFO 69384 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n    2016-09-10 15:27:15.867  INFO 69384 --- [           main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist\r\n    2016-09-10 15:27:16.096  INFO 69384 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {4.0.5.Final}\r\n    2016-09-10 15:27:18.367  INFO 69384 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    2016-09-10 15:27:18.378  INFO 69384 --- [           main] o.h.e.jdbc.internal.LobCreatorBuilder    : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\r\n    2016-09-10 15:27:18.499  WARN 69384 --- [           main] org.hibernate.mapping.RootClass          : HHH000038: Composite-id class does not override equals(): com.myconpany.myproduct.data.CusttableCompositeKey\r\n    2016-09-10 15:27:18.499  WARN 69384 --- [           main] org.hibernate.mapping.RootClass          : HHH000039: Composite-id class does not override hashCode(): com.myconpany.myproduct.data.CusttableCompositeKey\r\n    2016-09-10 15:27:18.508  INFO 69384 --- [           main] o.h.h.i.ast.ASTQueryTranslatorFactory    : HHH000397: Using ASTQueryTranslatorFactory\r\n    2016-09-10 15:27:18.932  INFO 69384 --- [           main] org.hibernate.tool.hbm2ddl.SchemaUpdate  : HHH000228: Running hbm2ddl schema update\r\n    2016-09-10 15:27:18.933  INFO 69384 --- [           main] org.hibernate.tool.hbm2ddl.SchemaUpdate  : HHH000102: Fetching database metadata\r\n    2016-09-10 15:27:18.943  INFO 69384 --- [           main] org.hibernate.tool.hbm2ddl.SchemaUpdate  : HHH000396: Updating schema\r\n    2016-09-10 15:27:18.993  INFO 69384 --- [           main] o.hibernate.tool.hbm2ddl.TableMetadata   : HHH000261: Table found: dbo.custtable\r\n    2016-09-10 15:27:18.993  INFO 69384 --- [           main] o.hibernate.tool.hbm2ddl.TableMetadata   : HHH000037: Columns: [custexcludecollectionfee, interestcode_br, servicecodeondlvaddress_br, stateinscription_mx, insscei_br, memo, inventprofiletype_ru, rfidcasetagging, irs1099cindicator, agencylocationcode, enterprisecode, issueownentrycertificate_w, invoicepostingtype_ru, affiliated_ru, contactpersonid, creditcardaddressverification, taxgstreliefgroupheading_my, rfidpallettagging, ccmnum_br, custfinaluser_br, orderentrydeadlinegroupid, accountnum, subsegmentid, entrycertificaterequired_w, salesgroup, bankcentralbankpurposetext, suppitemgroupid, curp_mx, pdscustrebategroupid, commercialregisterinsetnumber, mandatoryvatdate_pl, usecashdisc, inventsiteid, custitemgroupid, defaultdirectdebitmandate, taxwithholdcalculate_th, mcrmergedroot, exportsales_pl, cashdisc, syncversion, federalcomments, girotypeprojinvoice, syncentityid, intercompanyautocreateorders, icmscontributor_br, finecode_br, del_modifiedtime, rfiditemtagging, companynafcode, ienum_br, dataareaid, inventlocation, consday_jp, unitedvatinvoice_lt, foreignerid_br, partition, blocked, vatnum, markupgroup, incltax, custwhtcontributiontype_br, salesdistrictid, girotypefreetextinvoice, currency, maincontactworker, taxgroup, authorityoffice_it, pdsrebatetmagroup, salespoolid, intercompanydirectdelivery, presencetype_br, paymentreference_ee, mcrmergedparent, linedisc, partycountry, commercialregister, multilinedisc, isresident_lv, numbersequencegroup, rfc_mx, paymspec, suframapiscofins_br, fednonfedindicator, invoiceaddress, ouraccountnum, shipcarrierfuelsurcharge, segmentid, defaultdimension, vendaccount, dlvmode, identificationnumber, suframa_br, fiscalcode, taxlicensenum, shipcarrieraccount, destinationcodeid, einvoice, nit_br, cnae_br, paymmode, paymsched, companychainid, girotypeinterestnote, cashdiscbasedays, freightzone, birthcountycode_it, daxintegrationid, packmaterialfeelicensenum, girotypeaccountstatement, defaultinventstatusid, pdsfreightaccrued, shipcarrierid, modifieddatetime, custtradingpartnercode, lvpaymtranscodes, birthplace_it, clearingperiod, enterprisenumber, mandatorycreditlimit, companytype_mx, salescalendarid, einvoiceeannum, websalesorderdisplay, custgroup, dlvreason, factoringaccount, orgid, commercialregistersection, creditcardaddressverificationvoid, paymidtype, dlvterm, residenceforeigncountryregionid_it, paymtermid, statisticsgroup, packagedepositexcempt_pl, forecastdmpinclude, companyidsiret, modifiedby, girotype, birthdate_it, createddatetime, party, taxwithholdgroup_th, shipcarrierblindshipment, onetimecustomer, accountstatement, del_createdtime, lineofbusinessid, taxbordernumber_fi, partystate, expressbilloflading, bankaccount, regnum_w, enddisc, commissiongroup, intercompanyallowindirectcreation, paymdayid, passportno_hu, creditrating, custclassificationid, generateincomingfiscaldocument_br, pbacustgroupid, shipcarrieraccountcode, recid, einvoiceregister_it, intbank_lv, bankcentralbankpurposecode, taxwithholdcalculate_in, usepurchrequest, fiscaldoctype_pl, girotypecollectionletter, pricegroup, invoiceaccount, creditcardaddressverificationlevel, recversion, foreignresident_ru, creditcardcvc, bankcustpaymidtable, cnpjcpfnum_br, inventprofileid_ru, taxperiodpaymentcode_pl, custexcludeinterestcharges, issuercountry_hu, creditmax, suframanumber_br]\r\n    2016-09-10 15:27:18.994  INFO 69384 --- [           main] o.hibernate.tool.hbm2ddl.TableMetadata   : HHH000108: Foreign keys: []\r\n\r\n\r\n\r\nHowever, when I run &quot;findById&quot; from my DAO:\r\n\r\n    public Custtable getById(Class&lt;Custtable&gt; class1, CusttableCompositeKey custtableCompositeKey) {\r\n    \t\tCusttable ct = entityManager.find(Custtable.class, custtableCompositeKey);\r\n    \t\tLOG.debug(&quot;customer.ct.accountNum:  &quot; + ct.getAccountnum());\r\n    \t\treturn entityManager.find(Custtable.class, custtableCompositeKey);\r\n    \t}\r\n\r\nI get this error:\r\n\r\n    Hibernate: select custtable0_.accountnum as accountn1_0_0_, custtable0_.dataareaid as dataarea2_0_0_, custtable0_.partition as partitio3_0_0_, custtable0_.accountstatement as accounts4_0_0_, custtable0_.affiliated_ru as affiliat5_0_0_, custtable0_.agencylocationcode as agencylo6_0_0_, custtable0_.authorityoffice_it as authorit7_0_0_, custtable0_.bankaccount as bankacco8_0_0_, custtable0_.bankcentralbankpurposecode as bankcent9_0_0_, custtable0_.bankcentralbankpurposetext as bankcen10_0_0_, custtable0_.bankcustpaymidtable as bankcus11_0_0_, custtable0_.birthcountycode_it as birthco12_0_0_, custtable0_.birthdate_it as birthda13_0_0_, custtable0_.birthplace_it as birthpl14_0_0_, custtable0_.blocked as blocked15_0_0_, custtable0_.cashdisc as cashdis16_0_0_, custtable0_.cashdiscbasedays as cashdis17_0_0_, custtable0_.ccmnum_br as ccmnum_18_0_0_, custtable0_.clearingperiod as clearin19_0_0_, custtable0_.cnae_br as cnae_br20_0_0_, custtable0_.cnpjcpfnum_br as cnpjcpf21_0_0_, custtable0_.commercialregister as commerc22_0_0_, custtable0_.commercialregisterinsetnumber as commerc23_0_0_, custtable0_.commercialregistersection as commerc24_0_0_, custtable0_.commissiongroup as commiss25_0_0_, custtable0_.companychainid as company26_0_0_, custtable0_.companyidsiret as company27_0_0_, custtable0_.companynafcode as company28_0_0_, custtable0_.companytype_mx as company29_0_0_, custtable0_.consday_jp as consday30_0_0_, custtable0_.contactpersonid as contact31_0_0_, custtable0_.createddatetime as created32_0_0_, custtable0_.creditcardaddressverification as creditc33_0_0_, custtable0_.creditcardaddressverificationlevel as creditc34_0_0_, custtable0_.creditcardaddressverificationvoid as creditc35_0_0_, custtable0_.creditcardcvc as creditc36_0_0_, custtable0_.creditmax as creditm37_0_0_, custtable0_.creditrating as creditr38_0_0_, custtable0_.curp_mx as curp_mx39_0_0_, custtable0_.currency as currenc40_0_0_, custtable0_.custclassificationid as custcla41_0_0_, custtable0_.custexcludecollectionfee as custexc42_0_0_, custtable0_.custexcludeinterestcharges as custexc43_0_0_, custtable0_.custfinaluser_br as custfin44_0_0_, custtable0_.custgroup as custgro45_0_0_, custtable0_.custitemgroupid as custite46_0_0_, custtable0_.custtradingpartnercode as custtra47_0_0_, custtable0_.custwhtcontributiontype_br as custwht48_0_0_, custtable0_.daxintegrationid as daxinte49_0_0_, custtable0_.defaultdimension as default50_0_0_, custtable0_.defaultdirectdebitmandate as default51_0_0_, custtable0_.defaultinventstatusid as default52_0_0_, custtable0_.del_createdtime as del_cre53_0_0_, custtable0_.del_modifiedtime as del_mod54_0_0_, custtable0_.destinationcodeid as destina55_0_0_, custtable0_.dlvmode as dlvmode56_0_0_, custtable0_.dlvreason as dlvreas57_0_0_, custtable0_.dlvterm as dlvterm58_0_0_, custtable0_.einvoice as einvoic59_0_0_, custtable0_.einvoiceeannum as einvoic60_0_0_, custtable0_.einvoiceregister_it as einvoic61_0_0_, custtable0_.enddisc as enddisc62_0_0_, custtable0_.enterprisecode as enterpr63_0_0_, custtable0_.enterprisenumber as enterpr64_0_0_, custtable0_.entrycertificaterequired_w as entryce65_0_0_, custtable0_.exportsales_pl as exports66_0_0_, custtable0_.expressbilloflading as express67_0_0_, custtable0_.factoringaccount as factori68_0_0_, custtable0_.federalcomments as federal69_0_0_, custtable0_.fednonfedindicator as fednonf70_0_0_, custtable0_.finecode_br as finecod71_0_0_, custtable0_.fiscalcode as fiscalc72_0_0_, custtable0_.fiscaldoctype_pl as fiscald73_0_0_, custtable0_.forecastdmpinclude as forecas74_0_0_, custtable0_.foreignerid_br as foreign75_0_0_, custtable0_.foreignresident_ru as foreign76_0_0_, custtable0_.freightzone as freight77_0_0_, custtable0_.generateincomingfiscaldocument_br as generat78_0_0_, custtable0_.girotype as girotyp79_0_0_, custtable0_.girotypeaccountstatement as girotyp80_0_0_, custtable0_.girotypecollectionletter as girotyp81_0_0_, custtable0_.girotypefreetextinvoice as girotyp82_0_0_, custtable0_.girotypeinterestnote as girotyp83_0_0_, custtable0_.girotypeprojinvoice as girotyp84_0_0_, custtable0_.icmscontributor_br as icmscon85_0_0_, custtable0_.identificationnumber as identif86_0_0_, custtable0_.ienum_br as ienum_b87_0_0_, custtable0_.incltax as incltax88_0_0_, custtable0_.insscei_br as insscei89_0_0_, custtable0_.intbank_lv as intbank90_0_0_, custtable0_.intercompanyallowindirectcreation as interco91_0_0_, custtable0_.intercompanyautocreateorders as interco92_0_0_, custtable0_.intercompanydirectdelivery as interco93_0_0_, custtable0_.interestcode_br as interes94_0_0_, custtable0_.inventlocation as inventl95_0_0_, custtable0_.inventprofileid_ru as inventp96_0_0_, custtable0_.inventprofiletype_ru as inventp97_0_0_, custtable0_.inventsiteid as invents98_0_0_, custtable0_.invoiceaccount as invoice99_0_0_, custtable0_.invoiceaddress as invoic100_0_0_, custtable0_.invoicepostingtype_ru as invoic101_0_0_, custtable0_.irs1099cindicator as irs102_0_0_, custtable0_.isresident_lv as isresi103_0_0_, custtable0_.issueownentrycertificate_w as issueo104_0_0_, custtable0_.issuercountry_hu as issuer105_0_0_, custtable0_.linedisc as linedi106_0_0_, custtable0_.lineofbusinessid as lineof107_0_0_, custtable0_.lvpaymtranscodes as lvpaym108_0_0_, custtable0_.maincontactworker as mainco109_0_0_, custtable0_.mandatorycreditlimit as mandat110_0_0_, custtable0_.mandatoryvatdate_pl as mandat111_0_0_, custtable0_.markupgroup as markup112_0_0_, custtable0_.mcrmergedparent as mcrmer113_0_0_, custtable0_.mcrmergedroot as mcrmer114_0_0_, custtable0_.memo as memo115_0_0_, custtable0_.modifiedby as modifi116_0_0_, custtable0_.modifieddatetime as modifi117_0_0_, custtable0_.multilinedisc as multil118_0_0_, custtable0_.nit_br as nit_br119_0_0_, custtable0_.numbersequencegroup as number120_0_0_, custtable0_.onetimecustomer as onetim121_0_0_, custtable0_.orderentrydeadlinegroupid as ordere122_0_0_, custtable0_.orgid as orgid123_0_0_, custtable0_.ouraccountnum as ouracc124_0_0_, custtable0_.packagedepositexcempt_pl as packag125_0_0_, custtable0_.packmaterialfeelicensenum as packma126_0_0_, custtable0_.party as party127_0_0_, custtable0_.partycountry as partyc128_0_0_, custtable0_.partystate as partys129_0_0_, custtable0_.passportno_hu as passpo130_0_0_, custtable0_.paymdayid as paymda131_0_0_, custtable0_.paymentreference_ee as paymen132_0_0_, custtable0_.paymidtype as paymid133_0_0_, custtable0_.paymmode as paymmo134_0_0_, custtable0_.paymsched as paymsc135_0_0_, custtable0_.paymspec as paymsp136_0_0_, custtable0_.paymtermid as paymte137_0_0_, custtable0_.pbacustgroupid as pbacus138_0_0_, custtable0_.pdscustrebategroupid as pdscus139_0_0_, custtable0_.pdsfreightaccrued as pdsfre140_0_0_, custtable0_.pdsrebatetmagroup as pdsreb141_0_0_, custtable0_.presencetype_br as presen142_0_0_, custtable0_.pricegroup as priceg143_0_0_, custtable0_.recid as recid144_0_0_, custtable0_.recversion as recver145_0_0_, custtable0_.regnum_w as regnum146_0_0_, custtable0_.residenceforeigncountryregionid_it as reside147_0_0_, custtable0_.rfc_mx as rfc_mx148_0_0_, custtable0_.rfidcasetagging as rfidca149_0_0_, custtable0_.rfiditemtagging as rfidit150_0_0_, custtable0_.rfidpallettagging as rfidpa151_0_0_, custtable0_.salescalendarid as salesc152_0_0_, custtable0_.salesdistrictid as salesd153_0_0_, custtable0_.salesgroup as salesg154_0_0_, custtable0_.salespoolid as salesp155_0_0_, custtable0_.segmentid as segmen156_0_0_, custtable0_.servicecodeondlvaddress_br as servic157_0_0_, custtable0_.shipcarrieraccount as shipca158_0_0_, custtable0_.shipcarrieraccountcode as shipca159_0_0_, custtable0_.shipcarrierblindshipment as shipca160_0_0_, custtable0_.shipcarrierfuelsurcharge as shipca161_0_0_, custtable0_.shipcarrierid as shipca162_0_0_, custtable0_.stateinscription_mx as statei163_0_0_, custtable0_.statisticsgroup as statis164_0_0_, custtable0_.subsegmentid as subseg165_0_0_, custtable0_.suframa_br as sufram166_0_0_, custtable0_.suframanumber_br as sufram167_0_0_, custtable0_.suframapiscofins_br as sufram168_0_0_, custtable0_.suppitemgroupid as suppit169_0_0_, custtable0_.syncentityid as syncen170_0_0_, custtable0_.syncversion as syncve171_0_0_, custtable0_.taxbordernumber_fi as taxbor172_0_0_, custtable0_.taxgroup as taxgro173_0_0_, custtable0_.taxgstreliefgroupheading_my as taxgst174_0_0_, custtable0_.taxlicensenum as taxlic175_0_0_, custtable0_.taxperiodpaymentcode_pl as taxper176_0_0_, custtable0_.taxwithholdcalculate_in as taxwit177_0_0_, custtable0_.taxwithholdcalculate_th as taxwit178_0_0_, custtable0_.taxwithholdgroup_th as taxwit179_0_0_, custtable0_.unitedvatinvoice_lt as united180_0_0_, custtable0_.usecashdisc as usecas181_0_0_, custtable0_.usepurchrequest as usepur182_0_0_, custtable0_.vatnum as vatnum183_0_0_, custtable0_.vendaccount as vendac184_0_0_, custtable0_.websalesorderdisplay as websal185_0_0_ from Custtable custtable0_ where custtable0_.accountnum=? and custtable0_.dataareaid=? and custtable0_.partition=?\r\n    2016-09-10 15:28:54.967  WARN 69384 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\r\n    2016-09-10 15:28:54.967 ERROR 69384 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;custtable&quot; does not exist\r\n\r\nWhat can I do to fix this?","title":"how to properly specify database schema in spring boot?","body":"<p>in my spring boot / hibernate application, I need to connect to a Postgres database \"ax2012_1\", which belong to the \"dbo\" schema.</p>\n\n<p>I have the following application.properties:</p>\n\n<pre><code># Database\ndb.driver: org.postgresql.Driver\ndb.url: jdbc:postgresql://localhost:5432/ax2012_1\ndb.username: my_user_name\ndb.password: my_password\n\nspring.datasource.url= jdbc:postgresql://localhost:5432/ax2012_1\nspring.datasource.username=my_user_name\nspring.datasource.password=my_password\nspring.datasource.schema=dbo \n\nspring.jpa.hibernate.ddl-auto=validate\n\n# Hibernate\nhibernate.dialect: org.hibernate.dialect.PostgreSQLDialect\nhibernate.show_sql: true\nhibernate.hbm2ddl.auto: update\nentitymanager.packagesToScan: com.mycompany.myproduct.data\n</code></pre>\n\n<p>my DatabaseConfig.java looks like this:</p>\n\n<pre><code>package com.uptake.symphony.data.configs;\n\nimport java.util.Properties;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.env.Environment;\nimport org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@EnableTransactionManagement\npublic class DatabaseConfig {\n\n  // ------------------------\n  // PUBLIC METHODS\n  // ------------------------\n\n  /**\n   * DataSource definition for database connection. Settings are read from\n   * the application.properties file (using the env object).\n   */\n  @Bean\n  public DataSource dataSource() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(env.getProperty(\"db.driver\"));\n    dataSource.setUrl(env.getProperty(\"db.url\"));\n    dataSource.setUsername(env.getProperty(\"db.username\"));\n    dataSource.setPassword(env.getProperty(\"db.password\"));\n    return dataSource;\n  }\n\n  /**\n   * Declare the JPA entity manager factory.\n   */\n  @Bean\n  public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n    LocalContainerEntityManagerFactoryBean entityManagerFactory =\n        new LocalContainerEntityManagerFactoryBean();\n\n    entityManagerFactory.setDataSource(dataSource);\n\n    // Classpath scanning of @Component, @Service, etc annotated class\n    entityManagerFactory.setPackagesToScan(\n        env.getProperty(\"entitymanager.packagesToScan\"));\n\n    // Vendor adapter\n    HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n    entityManagerFactory.setJpaVendorAdapter(vendorAdapter);\n\n    // Hibernate properties\n    Properties additionalProperties = new Properties();\n    additionalProperties.put(\n        \"hibernate.dialect\", \n        env.getProperty(\"hibernate.dialect\"));\n    additionalProperties.put(\n        \"hibernate.show_sql\", \n        env.getProperty(\"hibernate.show_sql\"));\n    additionalProperties.put(\n        \"hibernate.hbm2ddl.auto\", \n        env.getProperty(\"hibernate.hbm2ddl.auto\"));\n    entityManagerFactory.setJpaProperties(additionalProperties);\n    additionalProperties.put(\"hibernate.default_schema\", \"dbo\");\n\n    return entityManagerFactory;\n  }\n\n  /**\n   * Declare the transaction manager.\n   */\n  @Bean\n  public JpaTransactionManager transactionManager() {\n    JpaTransactionManager transactionManager = \n        new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory(\n        entityManagerFactory.getObject());\n    return transactionManager;\n  }\n\n  @Bean\n  public PersistenceExceptionTranslationPostProcessor exceptionTranslation() {\n    return new PersistenceExceptionTranslationPostProcessor();\n  }\n\n  @Autowired\n  private Environment env;\n\n  @Autowired\n  private DataSource dataSource;\n\n  @Autowired\n  private LocalContainerEntityManagerFactoryBean entityManagerFactory;\n}\n</code></pre>\n\n<p>From the startup log, I can tell, that hibernate is, in fact, discovering my table \"custtable\":</p>\n\n<pre><code>Hibernate Core {4.3.8.Final}\n2016-09-10 15:27:15.866  INFO 69384 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2016-09-10 15:27:15.867  INFO 69384 --- [           main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist\n2016-09-10 15:27:16.096  INFO 69384 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {4.0.5.Final}\n2016-09-10 15:27:18.367  INFO 69384 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2016-09-10 15:27:18.378  INFO 69384 --- [           main] o.h.e.jdbc.internal.LobCreatorBuilder    : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\n2016-09-10 15:27:18.499  WARN 69384 --- [           main] org.hibernate.mapping.RootClass          : HHH000038: Composite-id class does not override equals(): com.myconpany.myproduct.data.CusttableCompositeKey\n2016-09-10 15:27:18.499  WARN 69384 --- [           main] org.hibernate.mapping.RootClass          : HHH000039: Composite-id class does not override hashCode(): com.myconpany.myproduct.data.CusttableCompositeKey\n2016-09-10 15:27:18.508  INFO 69384 --- [           main] o.h.h.i.ast.ASTQueryTranslatorFactory    : HHH000397: Using ASTQueryTranslatorFactory\n2016-09-10 15:27:18.932  INFO 69384 --- [           main] org.hibernate.tool.hbm2ddl.SchemaUpdate  : HHH000228: Running hbm2ddl schema update\n2016-09-10 15:27:18.933  INFO 69384 --- [           main] org.hibernate.tool.hbm2ddl.SchemaUpdate  : HHH000102: Fetching database metadata\n2016-09-10 15:27:18.943  INFO 69384 --- [           main] org.hibernate.tool.hbm2ddl.SchemaUpdate  : HHH000396: Updating schema\n2016-09-10 15:27:18.993  INFO 69384 --- [           main] o.hibernate.tool.hbm2ddl.TableMetadata   : HHH000261: Table found: dbo.custtable\n2016-09-10 15:27:18.993  INFO 69384 --- [           main] o.hibernate.tool.hbm2ddl.TableMetadata   : HHH000037: Columns: [custexcludecollectionfee, interestcode_br, servicecodeondlvaddress_br, stateinscription_mx, insscei_br, memo, inventprofiletype_ru, rfidcasetagging, irs1099cindicator, agencylocationcode, enterprisecode, issueownentrycertificate_w, invoicepostingtype_ru, affiliated_ru, contactpersonid, creditcardaddressverification, taxgstreliefgroupheading_my, rfidpallettagging, ccmnum_br, custfinaluser_br, orderentrydeadlinegroupid, accountnum, subsegmentid, entrycertificaterequired_w, salesgroup, bankcentralbankpurposetext, suppitemgroupid, curp_mx, pdscustrebategroupid, commercialregisterinsetnumber, mandatoryvatdate_pl, usecashdisc, inventsiteid, custitemgroupid, defaultdirectdebitmandate, taxwithholdcalculate_th, mcrmergedroot, exportsales_pl, cashdisc, syncversion, federalcomments, girotypeprojinvoice, syncentityid, intercompanyautocreateorders, icmscontributor_br, finecode_br, del_modifiedtime, rfiditemtagging, companynafcode, ienum_br, dataareaid, inventlocation, consday_jp, unitedvatinvoice_lt, foreignerid_br, partition, blocked, vatnum, markupgroup, incltax, custwhtcontributiontype_br, salesdistrictid, girotypefreetextinvoice, currency, maincontactworker, taxgroup, authorityoffice_it, pdsrebatetmagroup, salespoolid, intercompanydirectdelivery, presencetype_br, paymentreference_ee, mcrmergedparent, linedisc, partycountry, commercialregister, multilinedisc, isresident_lv, numbersequencegroup, rfc_mx, paymspec, suframapiscofins_br, fednonfedindicator, invoiceaddress, ouraccountnum, shipcarrierfuelsurcharge, segmentid, defaultdimension, vendaccount, dlvmode, identificationnumber, suframa_br, fiscalcode, taxlicensenum, shipcarrieraccount, destinationcodeid, einvoice, nit_br, cnae_br, paymmode, paymsched, companychainid, girotypeinterestnote, cashdiscbasedays, freightzone, birthcountycode_it, daxintegrationid, packmaterialfeelicensenum, girotypeaccountstatement, defaultinventstatusid, pdsfreightaccrued, shipcarrierid, modifieddatetime, custtradingpartnercode, lvpaymtranscodes, birthplace_it, clearingperiod, enterprisenumber, mandatorycreditlimit, companytype_mx, salescalendarid, einvoiceeannum, websalesorderdisplay, custgroup, dlvreason, factoringaccount, orgid, commercialregistersection, creditcardaddressverificationvoid, paymidtype, dlvterm, residenceforeigncountryregionid_it, paymtermid, statisticsgroup, packagedepositexcempt_pl, forecastdmpinclude, companyidsiret, modifiedby, girotype, birthdate_it, createddatetime, party, taxwithholdgroup_th, shipcarrierblindshipment, onetimecustomer, accountstatement, del_createdtime, lineofbusinessid, taxbordernumber_fi, partystate, expressbilloflading, bankaccount, regnum_w, enddisc, commissiongroup, intercompanyallowindirectcreation, paymdayid, passportno_hu, creditrating, custclassificationid, generateincomingfiscaldocument_br, pbacustgroupid, shipcarrieraccountcode, recid, einvoiceregister_it, intbank_lv, bankcentralbankpurposecode, taxwithholdcalculate_in, usepurchrequest, fiscaldoctype_pl, girotypecollectionletter, pricegroup, invoiceaccount, creditcardaddressverificationlevel, recversion, foreignresident_ru, creditcardcvc, bankcustpaymidtable, cnpjcpfnum_br, inventprofileid_ru, taxperiodpaymentcode_pl, custexcludeinterestcharges, issuercountry_hu, creditmax, suframanumber_br]\n2016-09-10 15:27:18.994  INFO 69384 --- [           main] o.hibernate.tool.hbm2ddl.TableMetadata   : HHH000108: Foreign keys: []\n</code></pre>\n\n<p>However, when I run \"findById\" from my DAO:</p>\n\n<pre><code>public Custtable getById(Class&lt;Custtable&gt; class1, CusttableCompositeKey custtableCompositeKey) {\n        Custtable ct = entityManager.find(Custtable.class, custtableCompositeKey);\n        LOG.debug(\"customer.ct.accountNum:  \" + ct.getAccountnum());\n        return entityManager.find(Custtable.class, custtableCompositeKey);\n    }\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>Hibernate: select custtable0_.accountnum as accountn1_0_0_, custtable0_.dataareaid as dataarea2_0_0_, custtable0_.partition as partitio3_0_0_, custtable0_.accountstatement as accounts4_0_0_, custtable0_.affiliated_ru as affiliat5_0_0_, custtable0_.agencylocationcode as agencylo6_0_0_, custtable0_.authorityoffice_it as authorit7_0_0_, custtable0_.bankaccount as bankacco8_0_0_, custtable0_.bankcentralbankpurposecode as bankcent9_0_0_, custtable0_.bankcentralbankpurposetext as bankcen10_0_0_, custtable0_.bankcustpaymidtable as bankcus11_0_0_, custtable0_.birthcountycode_it as birthco12_0_0_, custtable0_.birthdate_it as birthda13_0_0_, custtable0_.birthplace_it as birthpl14_0_0_, custtable0_.blocked as blocked15_0_0_, custtable0_.cashdisc as cashdis16_0_0_, custtable0_.cashdiscbasedays as cashdis17_0_0_, custtable0_.ccmnum_br as ccmnum_18_0_0_, custtable0_.clearingperiod as clearin19_0_0_, custtable0_.cnae_br as cnae_br20_0_0_, custtable0_.cnpjcpfnum_br as cnpjcpf21_0_0_, custtable0_.commercialregister as commerc22_0_0_, custtable0_.commercialregisterinsetnumber as commerc23_0_0_, custtable0_.commercialregistersection as commerc24_0_0_, custtable0_.commissiongroup as commiss25_0_0_, custtable0_.companychainid as company26_0_0_, custtable0_.companyidsiret as company27_0_0_, custtable0_.companynafcode as company28_0_0_, custtable0_.companytype_mx as company29_0_0_, custtable0_.consday_jp as consday30_0_0_, custtable0_.contactpersonid as contact31_0_0_, custtable0_.createddatetime as created32_0_0_, custtable0_.creditcardaddressverification as creditc33_0_0_, custtable0_.creditcardaddressverificationlevel as creditc34_0_0_, custtable0_.creditcardaddressverificationvoid as creditc35_0_0_, custtable0_.creditcardcvc as creditc36_0_0_, custtable0_.creditmax as creditm37_0_0_, custtable0_.creditrating as creditr38_0_0_, custtable0_.curp_mx as curp_mx39_0_0_, custtable0_.currency as currenc40_0_0_, custtable0_.custclassificationid as custcla41_0_0_, custtable0_.custexcludecollectionfee as custexc42_0_0_, custtable0_.custexcludeinterestcharges as custexc43_0_0_, custtable0_.custfinaluser_br as custfin44_0_0_, custtable0_.custgroup as custgro45_0_0_, custtable0_.custitemgroupid as custite46_0_0_, custtable0_.custtradingpartnercode as custtra47_0_0_, custtable0_.custwhtcontributiontype_br as custwht48_0_0_, custtable0_.daxintegrationid as daxinte49_0_0_, custtable0_.defaultdimension as default50_0_0_, custtable0_.defaultdirectdebitmandate as default51_0_0_, custtable0_.defaultinventstatusid as default52_0_0_, custtable0_.del_createdtime as del_cre53_0_0_, custtable0_.del_modifiedtime as del_mod54_0_0_, custtable0_.destinationcodeid as destina55_0_0_, custtable0_.dlvmode as dlvmode56_0_0_, custtable0_.dlvreason as dlvreas57_0_0_, custtable0_.dlvterm as dlvterm58_0_0_, custtable0_.einvoice as einvoic59_0_0_, custtable0_.einvoiceeannum as einvoic60_0_0_, custtable0_.einvoiceregister_it as einvoic61_0_0_, custtable0_.enddisc as enddisc62_0_0_, custtable0_.enterprisecode as enterpr63_0_0_, custtable0_.enterprisenumber as enterpr64_0_0_, custtable0_.entrycertificaterequired_w as entryce65_0_0_, custtable0_.exportsales_pl as exports66_0_0_, custtable0_.expressbilloflading as express67_0_0_, custtable0_.factoringaccount as factori68_0_0_, custtable0_.federalcomments as federal69_0_0_, custtable0_.fednonfedindicator as fednonf70_0_0_, custtable0_.finecode_br as finecod71_0_0_, custtable0_.fiscalcode as fiscalc72_0_0_, custtable0_.fiscaldoctype_pl as fiscald73_0_0_, custtable0_.forecastdmpinclude as forecas74_0_0_, custtable0_.foreignerid_br as foreign75_0_0_, custtable0_.foreignresident_ru as foreign76_0_0_, custtable0_.freightzone as freight77_0_0_, custtable0_.generateincomingfiscaldocument_br as generat78_0_0_, custtable0_.girotype as girotyp79_0_0_, custtable0_.girotypeaccountstatement as girotyp80_0_0_, custtable0_.girotypecollectionletter as girotyp81_0_0_, custtable0_.girotypefreetextinvoice as girotyp82_0_0_, custtable0_.girotypeinterestnote as girotyp83_0_0_, custtable0_.girotypeprojinvoice as girotyp84_0_0_, custtable0_.icmscontributor_br as icmscon85_0_0_, custtable0_.identificationnumber as identif86_0_0_, custtable0_.ienum_br as ienum_b87_0_0_, custtable0_.incltax as incltax88_0_0_, custtable0_.insscei_br as insscei89_0_0_, custtable0_.intbank_lv as intbank90_0_0_, custtable0_.intercompanyallowindirectcreation as interco91_0_0_, custtable0_.intercompanyautocreateorders as interco92_0_0_, custtable0_.intercompanydirectdelivery as interco93_0_0_, custtable0_.interestcode_br as interes94_0_0_, custtable0_.inventlocation as inventl95_0_0_, custtable0_.inventprofileid_ru as inventp96_0_0_, custtable0_.inventprofiletype_ru as inventp97_0_0_, custtable0_.inventsiteid as invents98_0_0_, custtable0_.invoiceaccount as invoice99_0_0_, custtable0_.invoiceaddress as invoic100_0_0_, custtable0_.invoicepostingtype_ru as invoic101_0_0_, custtable0_.irs1099cindicator as irs102_0_0_, custtable0_.isresident_lv as isresi103_0_0_, custtable0_.issueownentrycertificate_w as issueo104_0_0_, custtable0_.issuercountry_hu as issuer105_0_0_, custtable0_.linedisc as linedi106_0_0_, custtable0_.lineofbusinessid as lineof107_0_0_, custtable0_.lvpaymtranscodes as lvpaym108_0_0_, custtable0_.maincontactworker as mainco109_0_0_, custtable0_.mandatorycreditlimit as mandat110_0_0_, custtable0_.mandatoryvatdate_pl as mandat111_0_0_, custtable0_.markupgroup as markup112_0_0_, custtable0_.mcrmergedparent as mcrmer113_0_0_, custtable0_.mcrmergedroot as mcrmer114_0_0_, custtable0_.memo as memo115_0_0_, custtable0_.modifiedby as modifi116_0_0_, custtable0_.modifieddatetime as modifi117_0_0_, custtable0_.multilinedisc as multil118_0_0_, custtable0_.nit_br as nit_br119_0_0_, custtable0_.numbersequencegroup as number120_0_0_, custtable0_.onetimecustomer as onetim121_0_0_, custtable0_.orderentrydeadlinegroupid as ordere122_0_0_, custtable0_.orgid as orgid123_0_0_, custtable0_.ouraccountnum as ouracc124_0_0_, custtable0_.packagedepositexcempt_pl as packag125_0_0_, custtable0_.packmaterialfeelicensenum as packma126_0_0_, custtable0_.party as party127_0_0_, custtable0_.partycountry as partyc128_0_0_, custtable0_.partystate as partys129_0_0_, custtable0_.passportno_hu as passpo130_0_0_, custtable0_.paymdayid as paymda131_0_0_, custtable0_.paymentreference_ee as paymen132_0_0_, custtable0_.paymidtype as paymid133_0_0_, custtable0_.paymmode as paymmo134_0_0_, custtable0_.paymsched as paymsc135_0_0_, custtable0_.paymspec as paymsp136_0_0_, custtable0_.paymtermid as paymte137_0_0_, custtable0_.pbacustgroupid as pbacus138_0_0_, custtable0_.pdscustrebategroupid as pdscus139_0_0_, custtable0_.pdsfreightaccrued as pdsfre140_0_0_, custtable0_.pdsrebatetmagroup as pdsreb141_0_0_, custtable0_.presencetype_br as presen142_0_0_, custtable0_.pricegroup as priceg143_0_0_, custtable0_.recid as recid144_0_0_, custtable0_.recversion as recver145_0_0_, custtable0_.regnum_w as regnum146_0_0_, custtable0_.residenceforeigncountryregionid_it as reside147_0_0_, custtable0_.rfc_mx as rfc_mx148_0_0_, custtable0_.rfidcasetagging as rfidca149_0_0_, custtable0_.rfiditemtagging as rfidit150_0_0_, custtable0_.rfidpallettagging as rfidpa151_0_0_, custtable0_.salescalendarid as salesc152_0_0_, custtable0_.salesdistrictid as salesd153_0_0_, custtable0_.salesgroup as salesg154_0_0_, custtable0_.salespoolid as salesp155_0_0_, custtable0_.segmentid as segmen156_0_0_, custtable0_.servicecodeondlvaddress_br as servic157_0_0_, custtable0_.shipcarrieraccount as shipca158_0_0_, custtable0_.shipcarrieraccountcode as shipca159_0_0_, custtable0_.shipcarrierblindshipment as shipca160_0_0_, custtable0_.shipcarrierfuelsurcharge as shipca161_0_0_, custtable0_.shipcarrierid as shipca162_0_0_, custtable0_.stateinscription_mx as statei163_0_0_, custtable0_.statisticsgroup as statis164_0_0_, custtable0_.subsegmentid as subseg165_0_0_, custtable0_.suframa_br as sufram166_0_0_, custtable0_.suframanumber_br as sufram167_0_0_, custtable0_.suframapiscofins_br as sufram168_0_0_, custtable0_.suppitemgroupid as suppit169_0_0_, custtable0_.syncentityid as syncen170_0_0_, custtable0_.syncversion as syncve171_0_0_, custtable0_.taxbordernumber_fi as taxbor172_0_0_, custtable0_.taxgroup as taxgro173_0_0_, custtable0_.taxgstreliefgroupheading_my as taxgst174_0_0_, custtable0_.taxlicensenum as taxlic175_0_0_, custtable0_.taxperiodpaymentcode_pl as taxper176_0_0_, custtable0_.taxwithholdcalculate_in as taxwit177_0_0_, custtable0_.taxwithholdcalculate_th as taxwit178_0_0_, custtable0_.taxwithholdgroup_th as taxwit179_0_0_, custtable0_.unitedvatinvoice_lt as united180_0_0_, custtable0_.usecashdisc as usecas181_0_0_, custtable0_.usepurchrequest as usepur182_0_0_, custtable0_.vatnum as vatnum183_0_0_, custtable0_.vendaccount as vendac184_0_0_, custtable0_.websalesorderdisplay as websal185_0_0_ from Custtable custtable0_ where custtable0_.accountnum=? and custtable0_.dataareaid=? and custtable0_.partition=?\n2016-09-10 15:28:54.967  WARN 69384 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\n2016-09-10 15:28:54.967 ERROR 69384 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation \"custtable\" does not exist\n</code></pre>\n\n<p>What can I do to fix this?</p>\n"},{"tags":["java","keystore"],"comments":[{"owner":{"account_id":2765078,"reputation":4245,"user_id":2381006,"accept_rate":42,"display_name":"dev2d"},"score":1,"creation_date":1370242033,"post_id":16891182,"comment_id":24372508,"body_markdown":"are you giving correct password? and running the command from proper directory?","body":"are you giving correct password? and running the command from proper directory?"},{"owner":{"account_id":191991,"reputation":3900,"user_id":432886,"accept_rate":56,"display_name":"C4CodeE4Exe"},"score":1,"creation_date":1370242211,"post_id":16891182,"comment_id":24372579,"body_markdown":"As I am creating it, so I am entering a new password.From which directory should I run it?","body":"As I am creating it, so I am entering a new password.From which directory should I run it?"},{"owner":{"account_id":2765078,"reputation":4245,"user_id":2381006,"accept_rate":42,"display_name":"dev2d"},"score":0,"creation_date":1370243531,"post_id":16891182,"comment_id":24373078,"body_markdown":"keytool -genkeypair -alias tomcat -keyalg RSA -keystore D:\\keystore.jks try this for generating keystore and then export cer like\n\nkeytool -export -alias mycert -keystore D:\\keystore.jks -file vorburger.cer","body":"keytool -genkeypair -alias tomcat -keyalg RSA -keystore D:\\keystore.jks try this for generating keystore and then export cer like  keytool -export -alias mycert -keystore D:\\keystore.jks -file vorburger.cer"},{"owner":{"account_id":191991,"reputation":3900,"user_id":432886,"accept_rate":56,"display_name":"C4CodeE4Exe"},"score":0,"creation_date":1370244445,"post_id":16891182,"comment_id":24373460,"body_markdown":"Can you please clarify, does it will have the same effect as was with &quot;keytool -genkey -alias tomcat -keyalg RSA&quot;.","body":"Can you please clarify, does it will have the same effect as was with &quot;keytool -genkey -alias tomcat -keyalg RSA&quot;."},{"owner":{"account_id":2765078,"reputation":4245,"user_id":2381006,"accept_rate":42,"display_name":"dev2d"},"score":0,"creation_date":1370244781,"post_id":16891182,"comment_id":24373644,"body_markdown":"can you tell me the purpose of generating this cer?","body":"can you tell me the purpose of generating this cer?"},{"owner":{"account_id":191991,"reputation":3900,"user_id":432886,"accept_rate":56,"display_name":"C4CodeE4Exe"},"score":0,"creation_date":1370247708,"post_id":16891182,"comment_id":24374786,"body_markdown":"I am using it inside server.xml of Tomcat7.0 for SSL.","body":"I am using it inside server.xml of Tomcat7.0 for SSL."},{"owner":{"account_id":123769,"reputation":9348,"user_id":1348522,"accept_rate":57,"display_name":"Zumry Mohamed"},"score":0,"creation_date":1478600381,"post_id":16891182,"comment_id":68212405,"body_markdown":"For mac users http://stackoverflow.com/a/33603411/1348522","body":"For mac users <a href=\"http://stackoverflow.com/a/33603411/1348522\">stackoverflow.com/a/33603411/1348522</a>"}],"answers":[{"tags":[],"owner":{"account_id":2851165,"reputation":3623,"user_id":2448356,"accept_rate":56,"display_name":"Kalher"},"down_vote_count":2,"up_vote_count":109,"is_accepted":true,"score":107,"last_activity_date":1603193402,"creation_date":1370617396,"answer_id":16987252,"question_id":16891182,"body_markdown":"From your description I assume you are on windows machine and your home is abc\r\n\r\n**So Now : Cause**\r\n\r\nWhen you run this command \r\n\r\n`keytool -genkey -alias tomcat -keyalg RSA` \r\n\r\nbecause you are not specifying an explicit keystore it will try to generate (and in your case as you are getting exception so to update) keystore `C:\\users\\abc&gt;.keystore` and of course you need to provide old password for .keystore while I believe you are providing  your version (a new one).\r\n\r\n**Solution**\r\n\r\n1. Either delete `.keystore` from `C:\\users\\abc&gt;` location and try the command\r\n\r\n2. or try following command which will create a new xyzkeystore:\r\n\r\n    `keytool -genkey -keystore xyzkeystore -alias tomcat -keyalg RSA`\r\n\r\n**Note:** `-genkey` is old now rather use `-genkeypair` althought both work equally.","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>From your description I assume you are on windows machine and your home is abc</p>\n<p><strong>So Now : Cause</strong></p>\n<p>When you run this command</p>\n<p><code>keytool -genkey -alias tomcat -keyalg RSA</code></p>\n<p>because you are not specifying an explicit keystore it will try to generate (and in your case as you are getting exception so to update) keystore <code>C:\\users\\abc&gt;.keystore</code> and of course you need to provide old password for .keystore while I believe you are providing  your version (a new one).</p>\n<p><strong>Solution</strong></p>\n<ol>\n<li><p>Either delete <code>.keystore</code> from <code>C:\\users\\abc&gt;</code> location and try the command</p>\n</li>\n<li><p>or try following command which will create a new xyzkeystore:</p>\n<p><code>keytool -genkey -keystore xyzkeystore -alias tomcat -keyalg RSA</code></p>\n</li>\n</ol>\n<p><strong>Note:</strong> <code>-genkey</code> is old now rather use <code>-genkeypair</code> althought both work equally.</p>\n"},{"tags":[],"owner":{"account_id":4259776,"reputation":4235,"user_id":3484439,"display_name":"sarrdou"},"down_vote_count":3,"up_vote_count":424,"is_accepted":false,"score":421,"last_activity_date":1396346224,"creation_date":1396345204,"answer_id":22782035,"question_id":16891182,"body_markdown":"I solved it by using the default password for cacerts keystore : `&#39;changeit&#39;`","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>I solved it by using the default password for cacerts keystore : <code>'changeit'</code></p>\n"},{"tags":[],"owner":{"account_id":1821511,"reputation":6530,"user_id":1655478,"accept_rate":33,"display_name":"dessalines"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1428709020,"creation_date":1428709020,"answer_id":29572245,"question_id":16891182,"body_markdown":"Using changeit for the password is important too. \r\n\r\nThis command finally worked for me(with jetty):\r\n\r\n     keytool -genkey -keyalg RSA -alias selfsigned -keystore keystore.jks -storepass changeit -validity 360 -keysize 2048","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>Using changeit for the password is important too. </p>\n\n<p>This command finally worked for me(with jetty):</p>\n\n<pre><code> keytool -genkey -keyalg RSA -alias selfsigned -keystore keystore.jks -storepass changeit -validity 360 -keysize 2048\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1481635,"reputation":4422,"user_id":1390874,"accept_rate":67,"display_name":"goRGon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443056058,"creation_date":1443056058,"answer_id":32751728,"question_id":16891182,"body_markdown":"Summarizing the advices from this page, I finished up with the following:\r\n\r\n    keytool -genkeypair -keystore ~/.android/release.keystore -alias &lt;my_alias&gt; -storepass &lt;my_cert_pass&gt; -keyalg RSA\r\n\r\nThen I got a set of questions regarding name, organization, location and password for my alias.","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>Summarizing the advices from this page, I finished up with the following:</p>\n\n<pre><code>keytool -genkeypair -keystore ~/.android/release.keystore -alias &lt;my_alias&gt; -storepass &lt;my_cert_pass&gt; -keyalg RSA\n</code></pre>\n\n<p>Then I got a set of questions regarding name, organization, location and password for my alias.</p>\n"},{"tags":[],"owner":{"account_id":123769,"reputation":9348,"user_id":1348522,"accept_rate":57,"display_name":"Zumry Mohamed"},"down_vote_count":2,"up_vote_count":235,"is_accepted":false,"score":233,"last_activity_date":1501666680,"creation_date":1447049575,"answer_id":33603411,"question_id":16891182,"body_markdown":"# This answer will be helpful for new Mac User (Works for Linux, Window 7 64 bit too).\n\nEmpty Password worked in my mac . (paste the below line in terminal)\n\n    keytool -list -v -keystore ~/.android/debug.keystore\n\nwhen it prompt for \n\n    Enter keystore password:  \n\njust press enter button (Dont type anything).It should work .\n\nPlease make sure its for default `debug.keystore`  file , not for your project based keystore file (Password might change for this).\n\nWorks well for MacOS Sierra 10.10+ too.\n\nI heard, it works for linux environment as well. i haven&#39;t tested that in linux yet.","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<h1>This answer will be helpful for new Mac User (Works for Linux, Window 7 64 bit too).</h1>\n<p>Empty Password worked in my mac . (paste the below line in terminal)</p>\n<pre><code>keytool -list -v -keystore ~/.android/debug.keystore\n</code></pre>\n<p>when it prompt for</p>\n<pre><code>Enter keystore password:  \n</code></pre>\n<p>just press enter button (Dont type anything).It should work .</p>\n<p>Please make sure its for default <code>debug.keystore</code>  file , not for your project based keystore file (Password might change for this).</p>\n<p>Works well for MacOS Sierra 10.10+ too.</p>\n<p>I heard, it works for linux environment as well. i haven't tested that in linux yet.</p>\n"},{"tags":[],"owner":{"account_id":2197040,"reputation":17094,"user_id":1942413,"accept_rate":73,"display_name":"CLIFFORD P Y"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505072026,"creation_date":1449814099,"answer_id":34217140,"question_id":16891182,"body_markdown":"&gt; keytool error: java.io.IOException: Keystore was tampered with, or password was incorrect\r\n\r\nI solved my problem when I changed keystore path **C:\\MyWorks\\mykeystore** to **C:\\MyWorks\\mykeystore.keystore**.\r\n","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<blockquote>\n  <p>keytool error: java.io.IOException: Keystore was tampered with, or password was incorrect</p>\n</blockquote>\n\n<p>I solved my problem when I changed keystore path <strong>C:\\MyWorks\\mykeystore</strong> to <strong>C:\\MyWorks\\mykeystore.keystore</strong>.</p>\n"},{"tags":[],"owner":{"account_id":3033761,"reputation":1641,"user_id":2572293,"display_name":"gopeca"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1492600246,"creation_date":1492600246,"answer_id":43494076,"question_id":16891182,"body_markdown":"In tomcat 8.5 pay attention to write the correct name of attributes. This is my code on server.xml:\r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n               maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot;&gt;\r\n        &lt;SSLHostConfig&gt;\r\n            &lt;Certificate certificateKeystoreFile=&quot;conf/keystore&quot; certificateKeystorePassword=&quot;mypassword&quot; type=&quot;RSA&quot;/&gt;\r\n        &lt;/SSLHostConfig&gt;\r\n    &lt;/Connector&gt;\r\n\r\n\r\nYou can visit [https://tomcat.apache.org/tomcat-8.5-doc/config/http.html][1] to see all attributes\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.5-doc/config/http.html","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>In tomcat 8.5 pay attention to write the correct name of attributes. This is my code on server.xml:</p>\n\n<pre><code>&lt;Connector port=\"8443\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\"\n           maxThreads=\"150\" SSLEnabled=\"true\"&gt;\n    &lt;SSLHostConfig&gt;\n        &lt;Certificate certificateKeystoreFile=\"conf/keystore\" certificateKeystorePassword=\"mypassword\" type=\"RSA\"/&gt;\n    &lt;/SSLHostConfig&gt;\n&lt;/Connector&gt;\n</code></pre>\n\n<p>You can visit <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/config/http.html\" rel=\"noreferrer\">https://tomcat.apache.org/tomcat-8.5-doc/config/http.html</a> to see all attributes</p>\n"},{"tags":[],"owner":{"account_id":6593293,"reputation":1640,"user_id":5097161,"display_name":"Ankit Sinha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1513177046,"creation_date":1513177046,"answer_id":47796061,"question_id":16891182,"body_markdown":"Check your home folder `~/.gradle/gradle.properties`. Sometimes if you have `gradle.properties` in home directory it takes details from the there. Either you can change that or delete the files. Then it will take required details from your local folder.","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>Check your home folder <code>~/.gradle/gradle.properties</code>. Sometimes if you have <code>gradle.properties</code> in home directory it takes details from the there. Either you can change that or delete the files. Then it will take required details from your local folder.</p>\n"},{"tags":[],"owner":{"account_id":8114895,"reputation":385,"user_id":6113725,"display_name":"Avinash Shinde"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1527320352,"creation_date":1527320352,"answer_id":50540491,"question_id":16891182,"body_markdown":"Works on Windows\r\n\r\nopen command prompt (press Windows Key + R then type &quot;cmd&quot; without quotations in the appearing dialogue box and then press Enter Key).\r\n\r\nthen type the code sniff below :\r\n\r\n1. cd C:\\Program Files\\Java\\jdk1.7.0_25\\bin\r\n\r\nthen type following command\r\n\r\n2. keytool -list -keystore &quot;C:/Documents and Settings/Your Name/.android/debug.keystore&quot;\r\n\r\nThen it will ask for Keystore password now. The default password is\r\n&quot;android&quot; type and enter  or just hit enter &quot;DONT TYPE ANY PASSWORD&quot;.","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>Works on Windows</p>\n\n<p>open command prompt (press Windows Key + R then type \"cmd\" without quotations in the appearing dialogue box and then press Enter Key).</p>\n\n<p>then type the code sniff below :</p>\n\n<ol>\n<li>cd C:\\Program Files\\Java\\jdk1.7.0_25\\bin</li>\n</ol>\n\n<p>then type following command</p>\n\n<ol start=\"2\">\n<li>keytool -list -keystore \"C:/Documents and Settings/Your Name/.android/debug.keystore\"</li>\n</ol>\n\n<p>Then it will ask for Keystore password now. The default password is\n\"android\" type and enter  or just hit enter \"DONT TYPE ANY PASSWORD\".</p>\n"},{"tags":[],"owner":{"account_id":444705,"reputation":1877,"user_id":836701,"accept_rate":65,"display_name":"Alex Po"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530029979,"creation_date":1530029979,"answer_id":51047449,"question_id":16891182,"body_markdown":"In my case I was needed to have `root` access.","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>In my case I was needed to have <code>root</code> access.</p>\n"},{"tags":[],"owner":{"account_id":6674171,"reputation":130,"user_id":5149424,"display_name":"gimp3695"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533935439,"creation_date":1533935439,"answer_id":51794083,"question_id":16891182,"body_markdown":"I fixed this issue by deleting the output file and running the command again. It turns out it does NOT overwrite the previous file. I had this issue when renewing a let&#39;s encrypt cert with tomcat","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>I fixed this issue by deleting the output file and running the command again. It turns out it does NOT overwrite the previous file. I had this issue when renewing a let's encrypt cert with tomcat</p>\n"},{"tags":[],"owner":{"account_id":13243617,"reputation":167,"user_id":9563385,"display_name":"Ravi Tyagi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539236172,"creation_date":1539236172,"answer_id":52752916,"question_id":16891182,"body_markdown":"     [root@localhost Certificate]# openssl pkcs12 -export -in \r\n     /opt/Certificate/115c99f4c5aa98f5.crt -inkey /opt/Certificate/ravi.in.key -certfile \r\n    /opt/Certificate/gd_bundle-g2-g1.crt -out RaviNew.p12\r\n\r\n    Enter Export Password: &lt;Password&gt;\r\n    Verifying - Enter Export Password: &lt;Password&gt;\r\n\r\n\r\n**Note :-** Above Export Pasworrd write down anywhere because it is must to create JKS file ( It is depend on your choice what password you want to make )\r\n\r\n      keytool -importkeystore -srckeystore DigiEduNew.p12 -srcstoretype pkcs12 -destkeystore finaldigiEdu.jks -deststoretype JKS\r\n      Importing keystore DigiEduNew.p12 to finaldigiEdu.jks...\r\n      Enter destination keystore password: &lt;Any Password &gt;\r\n      Re-enter new password: &lt;Any Password &gt;\r\n      Enter source keystore password: &lt;.P12 Password &gt;\r\n      Entry for alias 1 successfully imported.\r\n      Import command completed:  1 entries successfully imported, 0 entries failed or \r\n      cancelled\r\n\r\n\r\n\r\n     Warning:\r\n     The JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 \r\n     which is an industry standard format using &quot;keytool -importkeystore -srckeystore \r\n     finaldigiEdu.jks -destkeystore finaldigiEdu.jks -deststoretype pkcs12&quot;.\r\n","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<pre><code> [root@localhost Certificate]# openssl pkcs12 -export -in \n /opt/Certificate/115c99f4c5aa98f5.crt -inkey /opt/Certificate/ravi.in.key -certfile \n/opt/Certificate/gd_bundle-g2-g1.crt -out RaviNew.p12\n\nEnter Export Password: &lt;Password&gt;\nVerifying - Enter Export Password: &lt;Password&gt;\n</code></pre>\n\n<p><strong>Note :-</strong> Above Export Pasworrd write down anywhere because it is must to create JKS file ( It is depend on your choice what password you want to make )</p>\n\n<pre><code>  keytool -importkeystore -srckeystore DigiEduNew.p12 -srcstoretype pkcs12 -destkeystore finaldigiEdu.jks -deststoretype JKS\n  Importing keystore DigiEduNew.p12 to finaldigiEdu.jks...\n  Enter destination keystore password: &lt;Any Password &gt;\n  Re-enter new password: &lt;Any Password &gt;\n  Enter source keystore password: &lt;.P12 Password &gt;\n  Entry for alias 1 successfully imported.\n  Import command completed:  1 entries successfully imported, 0 entries failed or \n  cancelled\n\n\n\n Warning:\n The JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 \n which is an industry standard format using \"keytool -importkeystore -srckeystore \n finaldigiEdu.jks -destkeystore finaldigiEdu.jks -deststoretype pkcs12\".\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8805769,"reputation":692,"user_id":6580519,"display_name":"Mohammed Salim Al-Othman"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1563667463,"creation_date":1563667463,"answer_id":57129467,"question_id":16891182,"body_markdown":"For me I solved it by changing passwords from Arabic letter to English letter, but first I went to the folder and deleted the generated key then it works.","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>For me I solved it by changing passwords from Arabic letter to English letter, but first I went to the folder and deleted the generated key then it works.</p>\n"},{"tags":[],"owner":{"account_id":12238770,"reputation":815,"user_id":8932412,"display_name":"tapas talukder"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1566629318,"creation_date":1566629318,"answer_id":57635758,"question_id":16891182,"body_markdown":"I have solve this issue by using default password &quot;**changeit**&quot;.","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>I have solve this issue by using default password \"<strong>changeit</strong>\".</p>\n"},{"tags":[],"owner":{"account_id":13671308,"reputation":1299,"user_id":9863904,"display_name":"Hasan El-Hefnawy"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1670865984,"creation_date":1567453609,"answer_id":57762006,"question_id":16891182,"body_markdown":"[According to the documentation][1]:\r\n\r\n&gt;The default password for the debug keystore is `android`.\r\n\r\n  [1]: https://developers.google.com/android/guides/client-auth\r\n","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p><a href=\"https://developers.google.com/android/guides/client-auth\" rel=\"noreferrer\">According to the documentation</a>:</p>\n<blockquote>\n<p>The default password for the debug keystore is <code>android</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13786099,"reputation":1725,"user_id":9949983,"display_name":"Abel Tilahun"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1596022720,"creation_date":1589551863,"answer_id":61821301,"question_id":16891182,"body_markdown":"If you are working on signing your Flutter App by following this guide [Build and release an Android app][1] and run in to this error. I hope this answer helps you.\r\n\r\nIn my case I changed the path to store my key.jks. This happened to me because I there was an existing file in that path. \r\n\r\n    keytool -genkey -v -keystore ~/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key\r\n\r\nThis command stores the key.jks file in your home directory. To store it elsewhere, change the argument you pass to the -keystore parameter.\r\n\r\nIn my case,\r\n \r\n    keytool -genkey -v -keystore /Users/Y/Desktop/X/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias keyYour\r\n\r\ni.e **Y** - Username and **X** - folder name\r\n\r\nThen you will be prompted to **Enter keystore password:**  and **Re-enter new password:**. Here you can use whatever password you want.\r\n\r\n**However, keep the keystore file private; don’t check it into public source control!**\r\n\r\n\r\n  [1]: https://flutter.dev/docs/deployment/android#create-a-keystore","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>If you are working on signing your Flutter App by following this guide <a href=\"https://flutter.dev/docs/deployment/android#create-a-keystore\" rel=\"noreferrer\">Build and release an Android app</a> and run in to this error. I hope this answer helps you.</p>\n<p>In my case I changed the path to store my key.jks. This happened to me because I there was an existing file in that path.</p>\n<pre><code>keytool -genkey -v -keystore ~/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key\n</code></pre>\n<p>This command stores the key.jks file in your home directory. To store it elsewhere, change the argument you pass to the -keystore parameter.</p>\n<p>In my case,</p>\n<pre><code>keytool -genkey -v -keystore /Users/Y/Desktop/X/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias keyYour\n</code></pre>\n<p>i.e <strong>Y</strong> - Username and <strong>X</strong> - folder name</p>\n<p>Then you will be prompted to <strong>Enter keystore password:</strong>  and <strong>Re-enter new password:</strong>. Here you can use whatever password you want.</p>\n<p><strong>However, keep the keystore file private; don’t check it into public source control!</strong></p>\n"},{"tags":[],"owner":{"account_id":98236,"reputation":524,"user_id":266050,"accept_rate":60,"display_name":"Mehmet AVŞAR"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1593344291,"creation_date":1593344291,"answer_id":62621993,"question_id":16891182,"body_markdown":"In my case with Xamarin Forms 4.7 and Visual Studio 2019 16.7.0 Preview 3.1, the problem was version mismatch of lately updated Android Build tools (apksigner) and JDK. Updated JDK to latest and pointed the new JDK path on Tools-&gt;Options-&gt;Xamarin-&gt;Android Settings, and it works.","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>In my case with Xamarin Forms 4.7 and Visual Studio 2019 16.7.0 Preview 3.1, the problem was version mismatch of lately updated Android Build tools (apksigner) and JDK. Updated JDK to latest and pointed the new JDK path on Tools-&gt;Options-&gt;Xamarin-&gt;Android Settings, and it works.</p>\n"},{"tags":[],"owner":{"account_id":11577430,"reputation":2755,"user_id":12902996,"display_name":"Abir Ahsan"},"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1612948211,"creation_date":1612948211,"answer_id":66133877,"question_id":16891182,"body_markdown":"Empty password worked for me on my Mac\r\n\r\n    keytool -list -v -keystore ~/.android/debug.keystore \r\nhit Enter then It&#39;s show you\r\n\r\n    Enter keystore password:  \r\nhere just hit Enter for empty password","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>Empty password worked for me on my Mac</p>\n<pre><code>keytool -list -v -keystore ~/.android/debug.keystore \n</code></pre>\n<p>hit Enter then It's show you</p>\n<pre><code>Enter keystore password:  \n</code></pre>\n<p>here just hit Enter for empty password</p>\n"},{"tags":[],"owner":{"account_id":346833,"reputation":6288,"user_id":680583,"accept_rate":50,"display_name":"rmirabelle"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1625689016,"creation_date":1625689016,"answer_id":68292545,"question_id":16891182,"body_markdown":"Just upgraded to Android Studio 4.2 from 4.0.  Apparently, Android Studio silently **CHANGED** my keystore password, which has been sitting there unchanged and working perfectly without incident for well over a year.\r\n\r\nJust had to re-renter both passwords.\r\n\r\n*Sigh*","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>Just upgraded to Android Studio 4.2 from 4.0.  Apparently, Android Studio silently <strong>CHANGED</strong> my keystore password, which has been sitting there unchanged and working perfectly without incident for well over a year.</p>\n<p>Just had to re-renter both passwords.</p>\n<p><em>Sigh</em></p>\n"},{"tags":[],"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637376786,"creation_date":1637376786,"answer_id":70042881,"question_id":16891182,"body_markdown":"If you already have a `.store` file, you have to use the same password as you did to generate it. So in my case the solution was:\r\n\r\n```\r\nrm *.store\r\nrm *.cer\r\n```\r\n\r\nThat may sound odd to you but I&#39;m just trying to learn about `keytool` and am source controlling my tutorial files and rerunning them later!","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>If you already have a <code>.store</code> file, you have to use the same password as you did to generate it. So in my case the solution was:</p>\n<pre><code>rm *.store\nrm *.cer\n</code></pre>\n<p>That may sound odd to you but I'm just trying to learn about <code>keytool</code> and am source controlling my tutorial files and rerunning them later!</p>\n"},{"tags":[],"owner":{"account_id":14487083,"reputation":149,"user_id":10464617,"display_name":"Salah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643044748,"creation_date":1643041844,"answer_id":70837193,"question_id":16891182,"body_markdown":"**you have two options:**\r\n\r\ncmd doesn&#39;t show the password on the screen while typing  \r\nso just type the correct passwd -and be careful- then press enter. \r\n\r\n**Or**\r\n just use: \r\n\r\n    keytool -list -keystore &#39;keystoreName&#39; -storepass &#39;type your keystore passwd&#39;\r\n\r\n**and** for Keys&#39; full info, add `-v`:  \r\n    \r\n    keytool -v -list -keystore &#39;keystoreName&#39; -storepass &#39;type your keystore passwd&#39;\r\n","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p><strong>you have two options:</strong></p>\n<p>cmd doesn't show the password on the screen while typing<br />\nso just type the correct passwd -and be careful- then press enter.</p>\n<p><strong>Or</strong>\njust use:</p>\n<pre><code>keytool -list -keystore 'keystoreName' -storepass 'type your keystore passwd'\n</code></pre>\n<p><strong>and</strong> for Keys' full info, add <code>-v</code>:</p>\n<pre><code>keytool -v -list -keystore 'keystoreName' -storepass 'type your keystore passwd'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16329350,"reputation":1755,"user_id":11793117,"display_name":"Alex Rintt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656678624,"creation_date":1656678624,"answer_id":72829306,"question_id":16891182,"body_markdown":"This answer is helpful for those who manage multiple keystores across different projects.\r\n\r\nI had the same error and I noticed I was using a file `keystore.jks` with the password of another `keystore.jks` which throws this exception since the password doesn&#39;t match.\r\n","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>This answer is helpful for those who manage multiple keystores across different projects.</p>\n<p>I had the same error and I noticed I was using a file <code>keystore.jks</code> with the password of another <code>keystore.jks</code> which throws this exception since the password doesn't match.</p>\n"},{"tags":[],"owner":{"account_id":2635164,"reputation":1119,"user_id":2280067,"display_name":"SJX"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675429590,"creation_date":1675429590,"answer_id":75336172,"question_id":16891182,"body_markdown":"With openjdk I had the same problem.&lt;br&gt;\r\nAfter I updated openjdk to &quot;11.0.17&quot; the problem was gone.","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>With openjdk I had the same problem.<br>\nAfter I updated openjdk to &quot;11.0.17&quot; the problem was gone.</p>\n"},{"tags":[],"owner":{"account_id":25754270,"reputation":66,"user_id":19506258,"display_name":"H&#252;seyin Sezen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692021226,"creation_date":1692021226,"answer_id":76899557,"question_id":16891182,"body_markdown":"For my case, there was another `upload-keystore.jks` file at the location where I was running the code. It was fixed when I deleted it and ran the code again.","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>For my case, there was another <code>upload-keystore.jks</code> file at the location where I was running the code. It was fixed when I deleted it and ran the code again.</p>\n"}],"owner":{"account_id":191991,"reputation":3900,"user_id":432886,"accept_rate":56,"display_name":"C4CodeE4Exe"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":678940,"favorite_count":0,"down_vote_count":1,"up_vote_count":283,"accepted_answer_id":16987252,"answer_count":24,"score":282,"last_activity_date":1692021226,"creation_date":1370241391,"question_id":16891182,"body_markdown":"I am getting following error while generating certificates on my local machine.\r\n\r\n\r\n    C:\\Users\\abc&gt;keytool -genkey -alias tomcat -keyalg RSA\r\n    Enter keystore password:\r\n    keytool error: java.io.IOException: Keystore was tampered with, or password was incorrect\r\n\r\nI think there is some problems in jdk version.I ran the same command on my collegues machine and it is working fine.\r\n\r\nPlease share your inputs.","title":"keytool error Keystore was tampered with, or password was incorrect","body":"<p>I am getting following error while generating certificates on my local machine.</p>\n\n<pre><code>C:\\Users\\abc&gt;keytool -genkey -alias tomcat -keyalg RSA\nEnter keystore password:\nkeytool error: java.io.IOException: Keystore was tampered with, or password was incorrect\n</code></pre>\n\n<p>I think there is some problems in jdk version.I ran the same command on my collegues machine and it is working fine.</p>\n\n<p>Please share your inputs.</p>\n"},{"tags":["java","selenium-webdriver","cucumber","pageobjects","page-factory"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692020119,"creation_date":1692020119,"answer_id":76899408,"question_id":76899139,"body_markdown":"The replacement for `findElements()` in _Page Factory_ can be either of the following:\r\n\r\n- Using _`FindBy`_:\r\n\r\n\t  @FindBy(xpath = &quot;xpathValue&quot;) \r\n      private List&lt;WebElement&gt; notificationIcon;\r\n\t  \r\n- Using _`how`_:\t  \r\n\t  \r\n\t  @FindBy(how = How.XPATH, using = &quot;xpathValue&quot;) \r\n      private List&lt;WebElement&gt; notificationIcon;","title":"How to have a reusable method that find all the webelements using WebElement type parameter in page factory model","body":"<p>The replacement for <code>findElements()</code> in <em>Page Factory</em> can be either of the following:</p>\n<ul>\n<li><p>Using <em><code>FindBy</code></em>:</p>\n<pre><code>@FindBy(xpath = &quot;xpathValue&quot;) \nprivate List&lt;WebElement&gt; notificationIcon;\n</code></pre>\n</li>\n<li><p>Using <em><code>how</code></em>:</p>\n<pre><code>@FindBy(how = How.XPATH, using = &quot;xpathValue&quot;) \nprivate List&lt;WebElement&gt; notificationIcon;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692020863,"creation_date":1692017923,"question_id":76899139,"body_markdown":"I have an automation framework that is driven using page object model using page factory \r\n\r\n    @FindBy(xpath = &quot;xpathValue&quot;)\r\n    private WebElement notificationIcon;\r\n\r\nI want to have an reusable utility to find all the Webelements. For that I traditionally use findElements methods which takes By parameter. How can I achieve the same using page factory?\r\n\r\nI know that I can use the below approach, but I do not want to write for all webelements like this.\r\n\r\n    @FindBy(xpath = &quot;xpathValue&quot;)\r\n    private List&lt;WebElement&gt; notificationIcon;\r\n\r\nHence, please find me a solution for this to find all the WebElements using a WebElement type parameter?","title":"How to have a reusable method that find all the webelements using WebElement type parameter in page factory model","body":"<p>I have an automation framework that is driven using page object model using page factory</p>\n<pre><code>@FindBy(xpath = &quot;xpathValue&quot;)\nprivate WebElement notificationIcon;\n</code></pre>\n<p>I want to have an reusable utility to find all the Webelements. For that I traditionally use findElements methods which takes By parameter. How can I achieve the same using page factory?</p>\n<p>I know that I can use the below approach, but I do not want to write for all webelements like this.</p>\n<pre><code>@FindBy(xpath = &quot;xpathValue&quot;)\nprivate List&lt;WebElement&gt; notificationIcon;\n</code></pre>\n<p>Hence, please find me a solution for this to find all the WebElements using a WebElement type parameter?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1692021058,"post_id":76887044,"comment_id":135565526,"body_markdown":"All the information you need is there: https://www.baeldung.com/transaction-configuration-with-jpa-and-spring","body":"All the information you need is there: <a href=\"https://www.baeldung.com/transaction-configuration-with-jpa-and-spring\" rel=\"nofollow noreferrer\">baeldung.com/transaction-configuration-with-jpa-and-spring</a>"}],"answers":[{"tags":[],"owner":{"account_id":24430255,"reputation":88,"user_id":18355295,"display_name":"Stefan Billmaier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692020609,"creation_date":1692020609,"answer_id":76899464,"question_id":76887044,"body_markdown":"Basically it takes no more effort than to add a configuration class to enable transaction management by annotating a class with `@Configuration @EnableTransactionManagement`.\r\nThat&#39;s it, non-private methods annotated with `@Transactional` (the Spring framework one, but you may use `jakarta.transaction.Transactional` as an alternative) will be in transactional scope.\r\n\r\nBut as mentioned in Spring framework documentation you may take a look closer here to get a grasp of the concepts behind: https://docs.spring.io/spring-framework/reference/data-access/transaction/declarative/tx-decl-explained.html","title":"How do I enable @Transactional annotation processing in a Spring (not boot) app?","body":"<p>Basically it takes no more effort than to add a configuration class to enable transaction management by annotating a class with <code>@Configuration @EnableTransactionManagement</code>.\nThat's it, non-private methods annotated with <code>@Transactional</code> (the Spring framework one, but you may use <code>jakarta.transaction.Transactional</code> as an alternative) will be in transactional scope.</p>\n<p>But as mentioned in Spring framework documentation you may take a look closer here to get a grasp of the concepts behind: <a href=\"https://docs.spring.io/spring-framework/reference/data-access/transaction/declarative/tx-decl-explained.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/data-access/transaction/declarative/tx-decl-explained.html</a></p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692020609,"creation_date":1691794272,"question_id":76887044,"body_markdown":"I have a legacy application that is using Spring with Struts.  I want to make use of the `@Transactional` annotation such that I don&#39;t have to do something like\r\n\r\n```java\r\npublic void transactionalOp(Req request, Resp responseObserver) {\r\n\r\n  // Wrap function call in transaction to prevent\r\n  //  &quot;javax.persistence.TransactionRequiredException:\r\n  final var transactionTemplate = new TransactionTemplate(platformTransactionManager);\r\n  transactionTemplate.executeWithoutResult(transactionStatus -&gt;\r\n    internalTransactionalOp(request, responseObserver)\r\n  );\r\n}\r\n```\r\n\r\nAnd instead simply do\r\n\r\n```java\r\n@Transactional\r\npublic void transactionalOp(Req request, Resp responseObserver) {\r\n\r\n  // code for internalTransactionalOp(request, responseObserver)\r\n\r\n}\r\n```\r\n\r\nI have `PlatformTransactionManager` available already.\r\n\r\nI&#39;d like `@Transactional` since it avoids a bit of boilerplate","title":"How do I enable @Transactional annotation processing in a Spring (not boot) app?","body":"<p>I have a legacy application that is using Spring with Struts.  I want to make use of the <code>@Transactional</code> annotation such that I don't have to do something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void transactionalOp(Req request, Resp responseObserver) {\n\n  // Wrap function call in transaction to prevent\n  //  &quot;javax.persistence.TransactionRequiredException:\n  final var transactionTemplate = new TransactionTemplate(platformTransactionManager);\n  transactionTemplate.executeWithoutResult(transactionStatus -&gt;\n    internalTransactionalOp(request, responseObserver)\n  );\n}\n</code></pre>\n<p>And instead simply do</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic void transactionalOp(Req request, Resp responseObserver) {\n\n  // code for internalTransactionalOp(request, responseObserver)\n\n}\n</code></pre>\n<p>I have <code>PlatformTransactionManager</code> available already.</p>\n<p>I'd like <code>@Transactional</code> since it avoids a bit of boilerplate</p>\n"},{"tags":["java","xml","xslt"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1692017199,"post_id":76898992,"comment_id":135564641,"body_markdown":"[Section 3.1 of the XML specification](https://www.w3.org/TR/xml/#sec-starttags) says every element tag must contain a [Name](https://www.w3.org/TR/xml/#d0e804) character sequence, which does not allow `@` characters.  If you force a tag to contain `@` in its name, you no longer have a valid XML document.  So the error is correct:  `@type` is not a valid QName.  Perhaps you can use a different character, like `_` or a non-ASCII symbol?","body":"<a href=\"https://www.w3.org/TR/xml/#sec-starttags\" rel=\"nofollow noreferrer\">Section 3.1 of the XML specification</a> says every element tag must contain a <a href=\"https://www.w3.org/TR/xml/#d0e804\" rel=\"nofollow noreferrer\">Name</a> character sequence, which does not allow <code>@</code> characters.  If you force a tag to contain <code>@</code> in its name, you no longer have a valid XML document.  So the error is correct:  <code>@type</code> is not a valid QName.  Perhaps you can use a different character, like <code>_</code> or a non-ASCII symbol?"},{"owner":{"account_id":146954,"reputation":725,"user_id":357739,"accept_rate":47,"display_name":"technocrat"},"score":0,"creation_date":1692017980,"post_id":76898992,"comment_id":135564790,"body_markdown":"@VGR Thanks, I&#39;m bound to use it. In such case how can I force it to be added to XML. Is there any escape sequence or special tag to  have it considered in xml document","body":"@VGR Thanks, I&#39;m bound to use it. In such case how can I force it to be added to XML. Is there any escape sequence or special tag to  have it considered in xml document"},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1692018098,"post_id":76898992,"comment_id":135564812,"body_markdown":"In theory at least, you could use `xsl:text` with `disable-output-escaping` to produce your own non-XML markup. In practice, it is not recommended and your processing chain may not support it. It might be easier to use another special char and replace it after the transformation. To stress the point again: the final result will not be XML.","body":"In theory at least, you could use <code>xsl:text</code> with <code>disable-output-escaping</code> to produce your own non-XML markup. In practice, it is not recommended and your processing chain may not support it. It might be easier to use another special char and replace it after the transformation. To stress the point again: the final result will not be XML."},{"owner":{"account_id":146954,"reputation":725,"user_id":357739,"accept_rate":47,"display_name":"technocrat"},"score":0,"creation_date":1692019152,"post_id":76898992,"comment_id":135565059,"body_markdown":"I truly agree with you on this, but the need is for me to create such xml although it may not be well formed. Can you show me how xsl:text be used. does it generate element names ? Thanks","body":"I truly agree with you on this, but the need is for me to create such xml although it may not be well formed. Can you show me how xsl:text be used. does it generate element names ? Thanks"},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1692020396,"post_id":76898992,"comment_id":135565360,"body_markdown":"You need to provide a [mcve] for this.","body":"You need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for this."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1692023404,"post_id":76898992,"comment_id":135566097,"body_markdown":"Your question would make sense if you said you wanted to create non-XML. Generally, XSLT is designed to produce XML and works very hard to prevent you creating non-XML. However, there are tricks you can play with disable-output-escaping to get around this, as Martin explains. In general, though, if you don&#39;t want XML then I would avoid using XML tools. I would certainly avoid calling it XML, because you leave everyone confused.","body":"Your question would make sense if you said you wanted to create non-XML. Generally, XSLT is designed to produce XML and works very hard to prevent you creating non-XML. However, there are tricks you can play with disable-output-escaping to get around this, as Martin explains. In general, though, if you don&#39;t want XML then I would avoid using XML tools. I would certainly avoid calling it XML, because you leave everyone confused."},{"owner":{"account_id":146954,"reputation":725,"user_id":357739,"accept_rate":47,"display_name":"technocrat"},"score":0,"creation_date":1692035583,"post_id":76898992,"comment_id":135568544,"body_markdown":"Yes @MichaelKay , I would rather consider it as plain text having xml structure. I would like to know how can I output this character. I tried using the answer below but it prints &amp;lt; instead of &lt; also it throws error on the line below it. Not sure if I&#39;m missing anything --Martin Honnen","body":"Yes @MichaelKay , I would rather consider it as plain text having xml structure. I would like to know how can I output this character. I tried using the answer below but it prints &amp;lt; instead of &lt; also it throws error on the line below it. Not sure if I&#39;m missing anything --Martin Honnen"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1692088187,"post_id":76898992,"comment_id":135574072,"body_markdown":"It&#39;s a format that has superficial similarities to XML, and sometimes you can bend XML tools to work with such formats. But you confuse everyone if you call it XML. My preferred solution would be to use XSLT to generate something similar but well-formed, for example `&lt;_at_type&gt;`, and then use a text tool such as awk to convert this to `&lt;@type&gt;`. (Well, actually, my preferred solution would be to wring the neck of whoever came up with this requirement.)","body":"It&#39;s a format that has superficial similarities to XML, and sometimes you can bend XML tools to work with such formats. But you confuse everyone if you call it XML. My preferred solution would be to use XSLT to generate something similar but well-formed, for example <code>&lt;_at_type&gt;</code>, and then use a text tool such as awk to convert this to <code>&lt;@type&gt;</code>. (Well, actually, my preferred solution would be to wring the neck of whoever came up with this requirement.)"}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692020132,"creation_date":1692020132,"answer_id":76899409,"question_id":76898992,"body_markdown":"Given e.g.\r\n\r\n    &lt;foo type=&quot;@type&quot;/&gt;\r\n\r\nthe XSLT code, if the XSLT processor serializes/is in charge of serialization and supports disable-output-escaping, the code\r\n\r\n      &lt;xsl:output method=&quot;text&quot;/&gt;\r\n    \r\n      &lt;xsl:template match=&quot;foo&quot;&gt;\r\n        &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&amp;lt;&lt;/xsl:text&gt;\r\n        &lt;xsl:value-of select=&quot;@type&quot;/&gt;\r\n        &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&gt;&lt;/xsl:text&gt;\r\n       &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&amp;lt;/&lt;/xsl:text&gt;\r\n        &lt;xsl:value-of select=&quot;@type&quot;/&gt;\r\n        &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&gt;&lt;/xsl:text&gt;\r\n      &lt;/xsl:template&gt;\r\n\r\noutputs e.g.\r\n\r\n    &lt;@type&gt;&lt;/@type&gt;\r\n\r\n\r\n","title":"How to add special characters to xml element name using xslt","body":"<p>Given e.g.</p>\n<pre><code>&lt;foo type=&quot;@type&quot;/&gt;\n</code></pre>\n<p>the XSLT code, if the XSLT processor serializes/is in charge of serialization and supports disable-output-escaping, the code</p>\n<pre><code>  &lt;xsl:output method=&quot;text&quot;/&gt;\n\n  &lt;xsl:template match=&quot;foo&quot;&gt;\n    &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&amp;lt;&lt;/xsl:text&gt;\n    &lt;xsl:value-of select=&quot;@type&quot;/&gt;\n    &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&gt;&lt;/xsl:text&gt;\n   &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&amp;lt;/&lt;/xsl:text&gt;\n    &lt;xsl:value-of select=&quot;@type&quot;/&gt;\n    &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&gt;&lt;/xsl:text&gt;\n  &lt;/xsl:template&gt;\n</code></pre>\n<p>outputs e.g.</p>\n<pre><code>&lt;@type&gt;&lt;/@type&gt;\n</code></pre>\n"}],"owner":{"account_id":146954,"reputation":725,"user_id":357739,"accept_rate":47,"display_name":"technocrat"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692020132,"creation_date":1692016693,"question_id":76898992,"body_markdown":"I am creating an xml using xsl transformation and require to have an element with special char &#39;@&#39;. It may not be recommended to use it with element name but I need to. \r\n\r\nWhen I use \t\r\n\r\n    &lt;xsl:element name=&quot;@type&quot;&gt;\r\n    \t\t\t\t&lt;xsl:value-of select=&quot;$type&quot; /&gt;\r\n    \t\t\t&lt;/xsl:element&gt;\r\n\r\nGetting error Element name {@type} is not a valid QName. Is there any escape sequence or any way so the @ is set in the element name as \r\n\r\n    &lt;@type&gt;\r\n    myType\r\n    &lt;/@type&gt;","title":"How to add special characters to xml element name using xslt","body":"<p>I am creating an xml using xsl transformation and require to have an element with special char '@'. It may not be recommended to use it with element name but I need to.</p>\n<p>When I use</p>\n<pre><code>&lt;xsl:element name=&quot;@type&quot;&gt;\n                &lt;xsl:value-of select=&quot;$type&quot; /&gt;\n            &lt;/xsl:element&gt;\n</code></pre>\n<p>Getting error Element name {@type} is not a valid QName. Is there any escape sequence or any way so the @ is set in the element name as</p>\n<pre><code>&lt;@type&gt;\nmyType\n&lt;/@type&gt;\n</code></pre>\n"},{"tags":["java","xslt","apache-fop","xalan","xxe"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1690990151,"post_id":76820291,"comment_id":135430673,"body_markdown":"I don&#39;t understand. First you tell us that you switched from the Apache processor to the JDK8 processor, then you tell us that you didn&#39;t change anything. I think you need to forget the history and focus on debugging the new error message from first principles. You haven&#39;t given us any information that we can use to help you do this.","body":"I don&#39;t understand. First you tell us that you switched from the Apache processor to the JDK8 processor, then you tell us that you didn&#39;t change anything. I think you need to forget the history and focus on debugging the new error message from first principles. You haven&#39;t given us any information that we can use to help you do this."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1690990557,"post_id":76820291,"comment_id":135430769,"body_markdown":"But there is an alternative: stick with Apache, and instead of using the ACCESS_EXTERNAL_DTD property, write your own EntityResolver to prevent external access. This will be perfectly safe, the only problem might be that the security inspection tools aren&#39;t smart enough to recognise it as safe.","body":"But there is an alternative: stick with Apache, and instead of using the ACCESS_EXTERNAL_DTD property, write your own EntityResolver to prevent external access. This will be perfectly safe, the only problem might be that the security inspection tools aren&#39;t smart enough to recognise it as safe."},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1690994691,"post_id":76820291,"comment_id":135431662,"body_markdown":"What I meant to say is that I didn&#39;t change the structure of the input and the processing  of the xslt.","body":"What I meant to say is that I didn&#39;t change the structure of the input and the processing  of the xslt."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1691013007,"post_id":76820291,"comment_id":135434981,"body_markdown":"Try to get a line number where the error occurs. Also, does the XML input use a DTD so that the input changes if you set that property XMLConstants.ACCESS_EXTERNAL_DTD?","body":"Try to get a line number where the error occurs. Also, does the XML input use a DTD so that the input changes if you set that property XMLConstants.ACCESS_EXTERNAL_DTD?"},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1691052277,"post_id":76820291,"comment_id":135440112,"body_markdown":"I&#39;ve put an exception breakpoint on TypeCheckError and I found expression `union(funcall(count, [ParentLocationPath(step(&quot;child&quot;, 40), step(&quot;child&quot;, 1))]), funcall(count, [ParentLocationPath(step(&quot;child&quot;, 81), step(&quot;child&quot;, 1))]))` which makes me think it is this one `&lt;xsl:variable name=&quot;numcolumns&quot; select=&quot;count(./html:tr/*)|count(./html:TR/*)&quot;/&gt;`... OR operator on count doesn&#39;t seem to make sense, right?","body":"I&#39;ve put an exception breakpoint on TypeCheckError and I found expression <code>union(funcall(count, [ParentLocationPath(step(&quot;child&quot;, 40), step(&quot;child&quot;, 1))]), funcall(count, [ParentLocationPath(step(&quot;child&quot;, 81), step(&quot;child&quot;, 1))]))</code> which makes me think it is this one <code>&lt;xsl:variable name=&quot;numcolumns&quot; select=&quot;count(.&#47;html:tr&#47;*)|count(.&#47;html:TR&#47;*)&quot;&#47;&gt;</code>... OR operator on count doesn&#39;t seem to make sense, right?"},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1691053185,"post_id":76820291,"comment_id":135440324,"body_markdown":"also this seems invalid &lt;xsl:if test=&quot;ancestor::html:table[1]/@rules = &#39;cols&#39;|ancestor::html:TABLE[1]/@rules = &#39;cols&#39;&quot;&gt;","body":"also this seems invalid &lt;xsl:if test=&quot;ancestor::html:table[1]/@rules = &#39;cols&#39;|ancestor::html:TABLE[1]/@rules = &#39;cols&#39;&quot;&gt;"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1691058701,"post_id":76820291,"comment_id":135441566,"body_markdown":"I agree that `count(./html:tr/*)|count(./html:TR/*)` looks wrong, a union `|` works for node-sets, not for numbers. However, I don&#39;t find that code in the stylesheet you linked to.","body":"I agree that <code>count(.&#47;html:tr&#47;*)|count(.&#47;html:TR&#47;*)</code> looks wrong, a union <code>|</code> works for node-sets, not for numbers. However, I don&#39;t find that code in the stylesheet you linked to."},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1691059628,"post_id":76820291,"comment_id":135441737,"body_markdown":"Indeed I shared a public version, I didn&#39;t realize they modified it at our end","body":"Indeed I shared a public version, I didn&#39;t realize they modified it at our end"},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1691078017,"post_id":76820291,"comment_id":135445930,"body_markdown":"correct syntax seems to be this one `&lt;xsl:variable name=&quot;numcolumns&quot; select=&quot;count(./html:tr/*|./html:TR/*)&quot;/&gt;` and `&lt;xsl:if test=&quot;(ancestor::html:table|ancestor::html:TABLE)[1]/@rules = &#39;cols&#39;&quot;&gt;`","body":"correct syntax seems to be this one <code>&lt;xsl:variable name=&quot;numcolumns&quot; select=&quot;count(.&#47;html:tr&#47;*|.&#47;html:TR&#47;*)&quot;&#47;&gt;</code> and <code>&lt;xsl:if test=&quot;(ancestor::html:table|ancestor::html:TABLE)[1]&#47;@rules = &#39;cols&#39;&quot;&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692020114,"creation_date":1692020114,"answer_id":76899407,"question_id":76820291,"body_markdown":"The issue is a tolerance of syntax for union expressions which exists in the Apache parser but not the JDK parser.\r\n\r\nThe following union expressions :\r\n\r\n```xslt\r\n&lt;xsl:variable name=&quot;numcolumns&quot; select=&quot;count(./html:tr/*)|count(./html:TR/*)&quot;/&gt;\r\n&lt;xsl:if test=&quot;ancestor::html:table[1]/@rules = &#39;cols&#39;|ancestor::html:TABLE[1]/@rules = &#39;cols&#39;&quot;&gt;\r\n```\r\n\r\nhad to be rewritten to :\r\n\r\n```xslt\r\n&lt;xsl:variable name=&quot;numcolumns&quot; select=&quot;count(./html:tr/*|./html:TR/*)&quot;/&gt;\r\n&lt;xsl:if test=&quot;(ancestor::html:table|ancestor::html:TABLE)[1]/@rules = &#39;cols&#39;&quot;&gt;\r\n```\r\n\r\n\r\n\r\n\r\n","title":"TransformerFactory with FOP : Issue when disabling ACCESS_EXTERNAL_DTD","body":"<p>The issue is a tolerance of syntax for union expressions which exists in the Apache parser but not the JDK parser.</p>\n<p>The following union expressions :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:variable name=&quot;numcolumns&quot; select=&quot;count(./html:tr/*)|count(./html:TR/*)&quot;/&gt;\n&lt;xsl:if test=&quot;ancestor::html:table[1]/@rules = 'cols'|ancestor::html:TABLE[1]/@rules = 'cols'&quot;&gt;\n</code></pre>\n<p>had to be rewritten to :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:variable name=&quot;numcolumns&quot; select=&quot;count(./html:tr/*|./html:TR/*)&quot;/&gt;\n&lt;xsl:if test=&quot;(ancestor::html:table|ancestor::html:TABLE)[1]/@rules = 'cols'&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76899407,"answer_count":1,"score":0,"last_activity_date":1692020114,"creation_date":1690982285,"question_id":76820291,"body_markdown":"I&#39;m trying to secure a piece of code from XXE attack. \r\nThe code uses FOP library and mimeFormat is application/pdf.\r\n\r\nThe original code works well: \r\n\r\n```java\r\n\tprotected static void transformTo(Result result, Source src, String mimeFormat, String sFileNameXsl)\r\n\t\t\tthrows FOPException {\r\n\t\ttry {\r\n\t\t\tTransformerFactory factory = TransformerFactory.newInstance();\r\n\r\n\t\t\tFile myXslFile = new File(sFileNameXsl);\r\n\t\t\tStreamSource xsltSource = new StreamSource(myXslFile);\r\n\t\t\tTransformer transformer = factory.newTransformer(xsltSource);\r\n\t\t\ttransformer.setParameter(&quot;fop-output-format&quot;, mimeFormat);\r\n\t\t\ttransformer.transform(src, result);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new FOPException(e);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThe application uses the Apache implementation from xalan-2.7.2 `org.apache.xalan.processor.TransformerFactoryImpl`.\r\n\r\nAs I tried to disable external DTD and stylesheet, I was forced to switch implemenation due to error &quot;not supported property accessExternalDTD&quot;.\r\n\r\nSo I changed the code to use JDK8 implementation `com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl` :\r\n\r\n```java\r\nTransformerFactory factory = TransformerFactory.newInstance(&quot;com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl&quot;, ClassLoader.getSystemClassLoader());\r\nfactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\nfactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n```\r\n\r\nAt this point, the properties were supported, but a new message appeared:\r\n\r\n    FATAL ERROR: Cannot convert data type &#39;int&#39; in &#39;node-set&#39;.\r\n\r\nThe message is unexpected since I didn&#39;t change any structure or processing, just tried to secure the transformer with some properties.\r\n\r\nThe xslt is a modified version of this one https://www.antennahouse.com/hubfs/uploads/XSL%20Sample/xhtml2fo.xsl?hsLang=en\r\n\r\nThe error on data types is due to a misuse of | operator such as:\r\n\r\n```xslt\r\n&lt;xsl:variable name=&quot;numcolumns&quot; select=&quot;count(./html:tr/*)|count(./html:TR/*)&quot;/&gt;\r\n\r\n&lt;xsl:if test=&quot;ancestor::html:table[1]/@rules = &#39;cols&#39;|ancestor::html:TABLE[1]/@rules = &#39;cols&#39;&quot;&gt;\r\n```\r\n\r\nI managed to make things work by giving up the uppercase matchers:\r\n\r\n```xslt\r\n&lt;xsl:variable name=&quot;numcolumns&quot; select=&quot;count(./html:tr/*)&quot;/&gt;\r\n\r\n&lt;xsl:if test=&quot;ancestor::html:table[1]/@rules = &#39;cols&#39;&quot;&gt;\r\n```\r\n\r\nSo ultimately the question is, how do I match both uppercase and lowercase in these matchers ?\r\n","title":"TransformerFactory with FOP : Issue when disabling ACCESS_EXTERNAL_DTD","body":"<p>I'm trying to secure a piece of code from XXE attack.\nThe code uses FOP library and mimeFormat is application/pdf.</p>\n<p>The original code works well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    protected static void transformTo(Result result, Source src, String mimeFormat, String sFileNameXsl)\n            throws FOPException {\n        try {\n            TransformerFactory factory = TransformerFactory.newInstance();\n\n            File myXslFile = new File(sFileNameXsl);\n            StreamSource xsltSource = new StreamSource(myXslFile);\n            Transformer transformer = factory.newTransformer(xsltSource);\n            transformer.setParameter(&quot;fop-output-format&quot;, mimeFormat);\n            transformer.transform(src, result);\n        } catch (Exception e) {\n            throw new FOPException(e);\n        }\n    }\n</code></pre>\n<p>The application uses the Apache implementation from xalan-2.7.2 <code>org.apache.xalan.processor.TransformerFactoryImpl</code>.</p>\n<p>As I tried to disable external DTD and stylesheet, I was forced to switch implemenation due to error &quot;not supported property accessExternalDTD&quot;.</p>\n<p>So I changed the code to use JDK8 implementation <code>com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>TransformerFactory factory = TransformerFactory.newInstance(&quot;com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl&quot;, ClassLoader.getSystemClassLoader());\nfactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\nfactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n</code></pre>\n<p>At this point, the properties were supported, but a new message appeared:</p>\n<pre><code>FATAL ERROR: Cannot convert data type 'int' in 'node-set'.\n</code></pre>\n<p>The message is unexpected since I didn't change any structure or processing, just tried to secure the transformer with some properties.</p>\n<p>The xslt is a modified version of this one <a href=\"https://www.antennahouse.com/hubfs/uploads/XSL%20Sample/xhtml2fo.xsl?hsLang=en\" rel=\"nofollow noreferrer\">https://www.antennahouse.com/hubfs/uploads/XSL%20Sample/xhtml2fo.xsl?hsLang=en</a></p>\n<p>The error on data types is due to a misuse of | operator such as:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:variable name=&quot;numcolumns&quot; select=&quot;count(./html:tr/*)|count(./html:TR/*)&quot;/&gt;\n\n&lt;xsl:if test=&quot;ancestor::html:table[1]/@rules = 'cols'|ancestor::html:TABLE[1]/@rules = 'cols'&quot;&gt;\n</code></pre>\n<p>I managed to make things work by giving up the uppercase matchers:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:variable name=&quot;numcolumns&quot; select=&quot;count(./html:tr/*)&quot;/&gt;\n\n&lt;xsl:if test=&quot;ancestor::html:table[1]/@rules = 'cols'&quot;&gt;\n</code></pre>\n<p>So ultimately the question is, how do I match both uppercase and lowercase in these matchers ?</p>\n"},{"tags":["java","spring","exception","dependency-injection"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691995451,"post_id":76895072,"comment_id":135560628,"body_markdown":"Please format your stacktrace as code not as a quote as that makes it totally unreadable. Also add which version of Spring and the JDK you are using.","body":"Please format your stacktrace as code not as a quote as that makes it totally unreadable. Also add which version of Spring and the JDK you are using."},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1692002410,"post_id":76895072,"comment_id":135561849,"body_markdown":"Your code is fine, the compilation is fine too. The excution require opening a modul. Please tell how you start the app (i.e. what ide, what operation-system).","body":"Your code is fine, the compilation is fine too. The excution require opening a modul. Please tell how you start the app (i.e. what ide, what operation-system)."},{"owner":{"account_id":6064995,"reputation":33,"user_id":4735614,"display_name":"Kaustubh Choudhary"},"score":0,"creation_date":1692017976,"post_id":76895072,"comment_id":135564789,"body_markdown":"I have made desired changes. The same type of example in another package is working fine but not this one.","body":"I have made desired changes. The same type of example in another package is working fine but not this one."}],"answers":[{"tags":[],"owner":{"account_id":25254519,"reputation":32,"user_id":19086479,"display_name":"Mohamed amine ben hassen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692019986,"creation_date":1692019355,"answer_id":76899316,"question_id":76895072,"body_markdown":"Since Java 9 abstraction above packages changed , so basically you have to configure the permission to access classes and methods across modules.\r\n\r\nhttps://developer.ibm.com/tutorials/java-modularity-2/","title":"java.lang.reflect.InaccessibleObjectException while using @Configuration","body":"<p>Since Java 9 abstraction above packages changed , so basically you have to configure the permission to access classes and methods across modules.</p>\n<p><a href=\"https://developer.ibm.com/tutorials/java-modularity-2/\" rel=\"nofollow noreferrer\">https://developer.ibm.com/tutorials/java-modularity-2/</a></p>\n"}],"owner":{"account_id":6064995,"reputation":33,"user_id":4735614,"display_name":"Kaustubh Choudhary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692019986,"creation_date":1691958241,"question_id":76895072,"body_markdown":"I am explaining Java based configuration to my students with the following example.\r\n\r\nI am using JDK 17.0.7, Spring Version 5.3.29.\r\n\r\n**The funny thing is: If instead of @Configuration I use @Component or @Configurable its working fine**\r\n\r\n**File 1: Class 1**\r\n\r\n    package java_config;\r\n    \r\n    public class Book {\r\n    \tprivate String name;\r\n    \tprivate double price;\r\n    \r\n    \tpublic Book() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic Book(String name, double price) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic double getPrice() {\r\n    \t\treturn price;\r\n    \t}\r\n    \r\n    \tpublic void setPrice(double price) {\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Book [name=&quot; + name + &quot;, price=&quot; + price + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\n**File 2: Class 2**\r\n\r\n    package java_config;\r\n    \r\n    public class Student {\r\n    \tprivate String name;\r\n    \tprivate String subject;\r\n    \tprivate Book book;\r\n    \r\n    \tpublic Student() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic Student(String name, String subject, Book book) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.subject = subject;\r\n    \t\tthis.book = book;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getSubject() {\r\n    \t\treturn subject;\r\n    \t}\r\n    \r\n    \tpublic void setSubject(String subject) {\r\n    \t\tthis.subject = subject;\r\n    \t}\r\n    \r\n    \tpublic Book getBook() {\r\n    \t\treturn book;\r\n    \t}\r\n    \r\n    \tpublic void setBook(Book book) {\r\n    \t\tthis.book = book;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Student [name=&quot; + name + &quot;, subject=&quot; + subject + &quot;, book=&quot; + book + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\n**File 3: Class 3**\r\n\r\n    package java_config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Configuration\r\n    public class JavaConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic Book getBook() {\r\n    \t\treturn new Book(&quot;Let Us C&quot;, 200);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Student getStudent() {\r\n    \t\treturn new Student(&quot;Ashutosh&quot;, &quot;PCM&quot;, getBook());\r\n    \t}\r\n    }\r\n\r\n**File 4 : Class 4**\r\n\r\n    package java_config;\r\n    \r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    \r\n    public class JavaConfigurationDemo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n            **// The below line is showing the exception \r\n    \t\tApplicationContext ctx = \r\n    \t\t\t\tnew AnnotationConfigApplicationContext(JavaConfig.class);**\r\n    \t\t\r\n    \t\tStudent student = ctx.getBean(&quot;getStudent&quot;, Student.class);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Student&#39;s book name : &quot; + student.getBook().getName());\r\n    \t}\r\n    \r\n    }\r\n\r\nOutput: Exception in Console\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @73f792cf\r\n    \tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:600)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363)\r\n    \tat org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319)\r\n    \tat org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572)\r\n    \tat org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:137)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:447)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:268)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:147)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n    \tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\r\n    \t**at java_config.JavaConfigurationDemo.main(JavaConfigurationDemo.java:10)**\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @73f792cf\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n    \tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:552)\r\n    \t... 22 more\r\n\r\n\r\n","title":"java.lang.reflect.InaccessibleObjectException while using @Configuration","body":"<p>I am explaining Java based configuration to my students with the following example.</p>\n<p>I am using JDK 17.0.7, Spring Version 5.3.29.</p>\n<p><strong>The funny thing is: If instead of @Configuration I use @Component or @Configurable its working fine</strong></p>\n<p><strong>File 1: Class 1</strong></p>\n<pre><code>package java_config;\n\npublic class Book {\n    private String name;\n    private double price;\n\n    public Book() {\n        super();\n    }\n\n    public Book(String name, double price) {\n        super();\n        this.name = name;\n        this.price = price;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Book [name=&quot; + name + &quot;, price=&quot; + price + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>File 2: Class 2</strong></p>\n<pre><code>package java_config;\n\npublic class Student {\n    private String name;\n    private String subject;\n    private Book book;\n\n    public Student() {\n        super();\n    }\n\n    public Student(String name, String subject, Book book) {\n        super();\n        this.name = name;\n        this.subject = subject;\n        this.book = book;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getSubject() {\n        return subject;\n    }\n\n    public void setSubject(String subject) {\n        this.subject = subject;\n    }\n\n    public Book getBook() {\n        return book;\n    }\n\n    public void setBook(Book book) {\n        this.book = book;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student [name=&quot; + name + &quot;, subject=&quot; + subject + &quot;, book=&quot; + book + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>File 3: Class 3</strong></p>\n<pre><code>package java_config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.stereotype.Component;\n\n@Configuration\npublic class JavaConfig {\n\n    @Bean\n    public Book getBook() {\n        return new Book(&quot;Let Us C&quot;, 200);\n    }\n\n    @Bean\n    public Student getStudent() {\n        return new Student(&quot;Ashutosh&quot;, &quot;PCM&quot;, getBook());\n    }\n}\n</code></pre>\n<p><strong>File 4 : Class 4</strong></p>\n<pre><code>package java_config;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\npublic class JavaConfigurationDemo {\n\n    public static void main(String[] args) {\n        **// The below line is showing the exception \n        ApplicationContext ctx = \n                new AnnotationConfigApplicationContext(JavaConfig.class);**\n        \n        Student student = ctx.getBean(&quot;getStudent&quot;, Student.class);\n        \n        System.out.println(&quot;Student's book name : &quot; + student.getBook().getName());\n    }\n\n}\n</code></pre>\n<p>Output: Exception in Console</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @73f792cf\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:600)\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363)\n    at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108)\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134)\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319)\n    at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572)\n    at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:137)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:447)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:268)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:147)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\n    **at java_config.JavaConfigurationDemo.main(JavaConfigurationDemo.java:10)**\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @73f792cf\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:552)\n    ... 22 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","oauth-2.0","keycloak"],"owner":{"account_id":7942658,"reputation":57,"user_id":5996120,"display_name":"Raju Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692019809,"creation_date":1692019809,"question_id":76899369,"body_markdown":"I have implemented authorization code flow in my spring boot application. Having a keyclock as auth server. After I logged in the application and when I when click on another link I require again to initiate auth code flow with another instant of keyclock and get access token. Can someone suggest how can we configure two different auth server. Like we can configure to different data source in a spring boot application.\r\n\r\nFor example when I try to access a URL localhost:8080/index It will redirect to one of the keyclock\r\nAnd if I click another link with URL localhost:8080/product It will redirect to another keyclock. ","title":"Spring boot 3.0 + Spring security 6 + 2 different auth server for different URL access","body":"<p>I have implemented authorization code flow in my spring boot application. Having a keyclock as auth server. After I logged in the application and when I when click on another link I require again to initiate auth code flow with another instant of keyclock and get access token. Can someone suggest how can we configure two different auth server. Like we can configure to different data source in a spring boot application.</p>\n<p>For example when I try to access a URL localhost:8080/index It will redirect to one of the keyclock\nAnd if I click another link with URL localhost:8080/product It will redirect to another keyclock.</p>\n"},{"tags":["java","android","xml","gradle","android-library"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692019187,"post_id":76899285,"comment_id":135565067,"body_markdown":"Are you sure that the pom file for the library you published contains the correct dependencies?","body":"Are you sure that the pom file for the library you published contains the correct dependencies?"}],"owner":{"account_id":20045650,"reputation":49,"user_id":14695374,"display_name":"Hussein Shakir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692019109,"creation_date":1692019109,"question_id":76899285,"body_markdown":"I have created a library, shared it on GitHub, and created a release on Jitpack.io, and this library includes more than two libraries.\r\n\r\nthe issue is when I use this library in another app or project, it gives these errors below.\r\nI set the `implementation(&quot;...&quot;) { transitive true }` in my library&#39;s build.gradle file also and the same issue still showing.\r\n\r\n```gradle\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:processDebugResources&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$TaskAction\r\n   &gt; Android resource linking failed\r\n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotCount (aka smith.app.biotech:dotCount) not found.\r\n         \r\n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotNormalSize (aka smith.app.biotech:dotNormalSize) not found.\r\n         \r\n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute correctStateColor (aka smith.app.biotech:correctStateColor) not found.\r\n         \r\n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotAnimationDuration (aka smith.app.biotech:dotAnimationDuration) not found.\r\n         \r\n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute pathEndAnimationDuration (aka smith.app.biotech:pathEndAnimationDuration) not found.\r\n         \r\n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotSelectedSize (aka smith.app.biotech:dotSelectedSize) not found.\r\n         \r\n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute pathWidth (aka smith.app.biotech:pathWidth) not found.\r\n         \r\n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute aspectRatio (aka smith.app.biotech:aspectRatio) not found.\r\n         \r\n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute wrongStateColor (aka smith.app.biotech:wrongStateColor) not found.\r\n         \r\n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute aspectRatioEnabled (aka smith.app.biotech:aspectRatioEnabled) not found.\r\n         \r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:processDebugResources&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:147)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.AbstractManagedExecutor$1.run(AbstractManagedExecutor.java:47)\r\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$TaskAction\r\n\tat org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:283)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:130)\r\n\tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:321)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:304)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLock(DefaultWorkerLeaseService.java:309)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:126)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:92)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:78)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:66)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:256)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:233)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:216)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:199)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:166)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:105)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:44)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:59)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:56)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:67)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:37)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:28)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:100)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:72)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:29)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:179)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeAndStoreInCache(BuildCacheStep.java:139)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$executeWithCache$4(BuildCacheStep.java:106)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$executeWithCache$5(BuildCacheStep.java:106)\r\n\tat org.gradle.internal.Try$Success.map(Try.java:164)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithCache(BuildCacheStep.java:80)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$0(BuildCacheStep.java:69)\r\n\tat org.gradle.internal.Either$Left.fold(Either.java:115)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:68)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:46)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:91)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:55)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:37)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:65)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:77)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:94)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:49)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:71)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:45)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNonEmptySources(SkipEmptyWorkStep.java:177)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:81)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:53)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:23)\r\n\tat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:75)\r\n\tat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:41)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:32)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:293)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:21)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:47)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:34)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:64)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.AbstractManagedExecutor$1.run(AbstractManagedExecutor.java:47)\r\nCaused by: com.android.builder.internal.aapt.v2.Aapt2Exception: Android resource linking failed\r\nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotCount (aka smith.app.biotech:dotCount) not found.\r\n    \r\nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotNormalSize (aka smith.app.biotech:dotNormalSize) not found.\r\n    \r\nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute correctStateColor (aka smith.app.biotech:correctStateColor) not found.\r\n    \r\nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotAnimationDuration (aka smith.app.biotech:dotAnimationDuration) not found.\r\n    \r\nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute pathEndAnimationDuration (aka smith.app.biotech:pathEndAnimationDuration) not found.\r\n    \r\nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotSelectedSize (aka smith.app.biotech:dotSelectedSize) not found.\r\n    \r\nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute pathWidth (aka smith.app.biotech:pathWidth) not found.\r\n    \r\nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute aspectRatio (aka smith.app.biotech:aspectRatio) not found.\r\n    \r\nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute wrongStateColor (aka smith.app.biotech:wrongStateColor) not found.\r\n    \r\nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute aspectRatioEnabled (aka smith.app.biotech:aspectRatioEnabled) not found.\r\n    \r\n\tat com.android.builder.internal.aapt.v2.Aapt2Exception$Companion.create(Aapt2Exception.kt:45)\r\n\tat com.android.builder.internal.aapt.v2.Aapt2Exception$Companion.create$default(Aapt2Exception.kt:33)\r\n\tat com.android.build.gradle.internal.res.Aapt2ErrorUtils.rewriteException(Aapt2ErrorUtils.kt:260)\r\n\tat com.android.build.gradle.internal.res.Aapt2ErrorUtils.rewriteLinkException(Aapt2ErrorUtils.kt:133)\r\n\tat com.android.build.gradle.internal.res.Aapt2ProcessResourcesRunnableKt.processResources(Aapt2ProcessResourcesRunnable.kt:76)\r\n\tat com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$Companion.invokeAaptForSplit(LinkApplicationAndroidResourcesTask.kt:941)\r\n\tat com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$Companion.access$invokeAaptForSplit(LinkApplicationAndroidResourcesTask.kt:796)\r\n\tat com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$TaskAction.run(LinkApplicationAndroidResourcesTask.kt:431)\r\n\tat com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\r\n\tat org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\r\n\tat org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\r\n\tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\r\n\tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\r\n\tat org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$0(DefaultWorkerExecutor.java:170)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\r\n\tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:114)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\r\n\t... 2 more\r\n\r\n\r\nBUILD FAILED in 36s\r\n```","title":"Android Studio don&#39;t include inner libraries in my library and gives error linking resources","body":"<p>I have created a library, shared it on GitHub, and created a release on Jitpack.io, and this library includes more than two libraries.</p>\n<p>the issue is when I use this library in another app or project, it gives these errors below.\nI set the <code>implementation(&quot;...&quot;) { transitive true }</code> in my library's build.gradle file also and the same issue still showing.</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:processDebugResources'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$TaskAction\n   &gt; Android resource linking failed\n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotCount (aka smith.app.biotech:dotCount) not found.\n         \n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotNormalSize (aka smith.app.biotech:dotNormalSize) not found.\n         \n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute correctStateColor (aka smith.app.biotech:correctStateColor) not found.\n         \n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotAnimationDuration (aka smith.app.biotech:dotAnimationDuration) not found.\n         \n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute pathEndAnimationDuration (aka smith.app.biotech:pathEndAnimationDuration) not found.\n         \n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotSelectedSize (aka smith.app.biotech:dotSelectedSize) not found.\n         \n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute pathWidth (aka smith.app.biotech:pathWidth) not found.\n         \n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute aspectRatio (aka smith.app.biotech:aspectRatio) not found.\n         \n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute wrongStateColor (aka smith.app.biotech:wrongStateColor) not found.\n         \n     ERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute aspectRatioEnabled (aka smith.app.biotech:aspectRatioEnabled) not found.\n         \n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:processDebugResources'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:147)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.AbstractManagedExecutor$1.run(AbstractManagedExecutor.java:47)\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$TaskAction\n    at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:283)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:130)\n    at org.gradle.internal.Factories$1.create(Factories.java:31)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:321)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:304)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLock(DefaultWorkerLeaseService.java:309)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:126)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:92)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:78)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:66)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:256)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:233)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:216)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:199)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:166)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:105)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:44)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:59)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:56)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:67)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:37)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:28)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:100)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:72)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:40)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:29)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:179)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeAndStoreInCache(BuildCacheStep.java:139)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$executeWithCache$4(BuildCacheStep.java:106)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$executeWithCache$5(BuildCacheStep.java:106)\n    at org.gradle.internal.Try$Success.map(Try.java:164)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithCache(BuildCacheStep.java:80)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$0(BuildCacheStep.java:69)\n    at org.gradle.internal.Either$Left.fold(Either.java:115)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:68)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:46)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:91)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:55)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:37)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:65)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:36)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:77)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:38)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:94)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:49)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:71)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:45)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNonEmptySources(SkipEmptyWorkStep.java:177)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:81)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:53)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:23)\n    at org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:75)\n    at org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:41)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:32)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:293)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:21)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:47)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:34)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:64)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.AbstractManagedExecutor$1.run(AbstractManagedExecutor.java:47)\nCaused by: com.android.builder.internal.aapt.v2.Aapt2Exception: Android resource linking failed\nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotCount (aka smith.app.biotech:dotCount) not found.\n    \nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotNormalSize (aka smith.app.biotech:dotNormalSize) not found.\n    \nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute correctStateColor (aka smith.app.biotech:correctStateColor) not found.\n    \nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotAnimationDuration (aka smith.app.biotech:dotAnimationDuration) not found.\n    \nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute pathEndAnimationDuration (aka smith.app.biotech:pathEndAnimationDuration) not found.\n    \nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute dotSelectedSize (aka smith.app.biotech:dotSelectedSize) not found.\n    \nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute pathWidth (aka smith.app.biotech:pathWidth) not found.\n    \nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute aspectRatio (aka smith.app.biotech:aspectRatio) not found.\n    \nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute wrongStateColor (aka smith.app.biotech:wrongStateColor) not found.\n    \nERROR: C:\\Users\\nSr.As\\.gradle\\caches\\transforms-3\\e1567b0936bcc4a816bf72233f26a2bb\\transformed\\jetified-SDialogs-4.2\\res\\layout\\sdialog_pattern.xml:62: AAPT: error: attribute aspectRatioEnabled (aka smith.app.biotech:aspectRatioEnabled) not found.\n    \n    at com.android.builder.internal.aapt.v2.Aapt2Exception$Companion.create(Aapt2Exception.kt:45)\n    at com.android.builder.internal.aapt.v2.Aapt2Exception$Companion.create$default(Aapt2Exception.kt:33)\n    at com.android.build.gradle.internal.res.Aapt2ErrorUtils.rewriteException(Aapt2ErrorUtils.kt:260)\n    at com.android.build.gradle.internal.res.Aapt2ErrorUtils.rewriteLinkException(Aapt2ErrorUtils.kt:133)\n    at com.android.build.gradle.internal.res.Aapt2ProcessResourcesRunnableKt.processResources(Aapt2ProcessResourcesRunnable.kt:76)\n    at com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$Companion.invokeAaptForSplit(LinkApplicationAndroidResourcesTask.kt:941)\n    at com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$Companion.access$invokeAaptForSplit(LinkApplicationAndroidResourcesTask.kt:796)\n    at com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$TaskAction.run(LinkApplicationAndroidResourcesTask.kt:431)\n    at com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\n    at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\n    at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\n    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\n    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\n    at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$0(DefaultWorkerExecutor.java:170)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\n    at org.gradle.internal.Factories$1.create(Factories.java:31)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:114)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\n    ... 2 more\n\n\nBUILD FAILED in 36s\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1358733689,"post_id":14431472,"comment_id":20091125,"body_markdown":"See also [*Enums*](http://docs.oracle.com/javase/1.5.0/docs/guide/language/enums.html).","body":"See also <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/enums.html\" rel=\"nofollow noreferrer\"><i>Enums</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1358775129,"creation_date":1358733192,"answer_id":14431485,"question_id":14431472,"body_markdown":"An `enum` is a `class` and follows same regulations.\r\n\r\nHaving it on its own file is exactly like moving an inner class in a separate file, nothing more nor less. So yes you can move it inside one of the class and be able to access it from outside with `OuterClass.ScaleName` syntax.","title":"Why is an enum declared in a separate file, in Java?","body":"<p>An <code>enum</code> is a <code>class</code> and follows same regulations.</p>\n\n<p>Having it on its own file is exactly like moving an inner class in a separate file, nothing more nor less. So yes you can move it inside one of the class and be able to access it from outside with <code>OuterClass.ScaleName</code> syntax.</p>\n"},{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1358733275,"creation_date":1358733275,"answer_id":14431496,"question_id":14431472,"body_markdown":"Enums are not just bare values in Java, they are much more than that. They are classes in their own right (they inherit `Object`). And consider these:\r\n\r\n\r\n    public enum Int {\r\n        ONE(1),\r\n        TWO(2);\r\n\r\n        private final int value;\r\n\r\n        Int(final int value) { this.value = value; }\r\n\r\n        public int getValue() { return value; }\r\n\r\n        @Override\r\n        public String toString() { return &quot;I am integer &quot; + value; }\r\n    }\r\n\r\nConsider also:\r\n\r\n\r\n\r\n    public enum Operation\r\n    {\r\n        PLUS\r\n            {\r\n                @Override\r\n                public int calculate(final int i1, final int i2)\r\n                {\r\n                    return i1 + i2; \r\n                }\r\n            };\r\n    \r\n        public abstract int calculate(int i1, int i2);\r\n    }\r\n\r\n    final int ret = Operation.PLUS.calculate(2, 3);\r\n\r\nAnd you can combine them both, too. They are very powerful tools.","title":"Why is an enum declared in a separate file, in Java?","body":"<p>Enums are not just bare values in Java, they are much more than that. They are classes in their own right (they inherit <code>Object</code>). And consider these:</p>\n\n<pre><code>public enum Int {\n    ONE(1),\n    TWO(2);\n\n    private final int value;\n\n    Int(final int value) { this.value = value; }\n\n    public int getValue() { return value; }\n\n    @Override\n    public String toString() { return \"I am integer \" + value; }\n}\n</code></pre>\n\n<p>Consider also:</p>\n\n<pre><code>public enum Operation\n{\n    PLUS\n        {\n            @Override\n            public int calculate(final int i1, final int i2)\n            {\n                return i1 + i2; \n            }\n        };\n\n    public abstract int calculate(int i1, int i2);\n}\n\nfinal int ret = Operation.PLUS.calculate(2, 3);\n</code></pre>\n\n<p>And you can combine them both, too. They are very powerful tools.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":36,"is_accepted":true,"score":35,"last_activity_date":1647586974,"creation_date":1358733924,"answer_id":14431566,"question_id":14431472,"body_markdown":"&gt; Why is an enum declared in a separate file, in Java?\r\n\r\nYou don&#39;t *have to* declare an `enum` in a separate file.  You could do this:\r\n\r\n\r\n    public class Temperature {\r\n        public enum ScaleName {celsius, fahrenheit, kelvin, rankine};\r\n        \r\n        private double number;\r\n        private ScaleName scale;\r\n\r\n        public Temperature() {\r\n            number = 0.0;\r\n            scale = ScaleName.fahrenheit;\r\n        }\r\n        ...\r\n    }\r\n\r\nThe only difference between this and making the enum a top level class is that you now need to *qualify* the name of the enum when you use it in a different class.\r\n\r\nBut what is going on *in my example* is no different to what happens if the enum was any other static nested class.  (A nested enum is implicitly static, so we don&#39;t need a `static` keyword.  See [JLS 8.9][1].)\r\n\r\n--------\r\n\r\n&gt; Why is this enum declared in its own file.\r\n\r\nBecause the code author chose to do it this way&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n&gt; Is there an advantage to this? \r\n\r\nYes. It means that don&#39;t have to qualify the `enum` to use it ... in some circumstances where you would have to if the `enum` was nested as above.\r\n\r\n--------------------\r\n\r\nActually, Java does allow you to put multiple top-level classes into the same source file *provided that* all but one of the classes is &quot;package private&quot;.  However, doing that is generally thought to be bad style, and it can be problematic for some tool chains ... I have heard.\r\n\r\n--------------------\r\n\r\n&lt;sup&gt;1 - If you want to know the *real* reason why the authors of the textbook chose to do it that way, you would need to ask them!&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.9","title":"Why is an enum declared in a separate file, in Java?","body":"<blockquote>\n<p>Why is an enum declared in a separate file, in Java?</p>\n</blockquote>\n<p>You don't <em>have to</em> declare an <code>enum</code> in a separate file.  You could do this:</p>\n<pre><code>public class Temperature {\n    public enum ScaleName {celsius, fahrenheit, kelvin, rankine};\n    \n    private double number;\n    private ScaleName scale;\n\n    public Temperature() {\n        number = 0.0;\n        scale = ScaleName.fahrenheit;\n    }\n    ...\n}\n</code></pre>\n<p>The only difference between this and making the enum a top level class is that you now need to <em>qualify</em> the name of the enum when you use it in a different class.</p>\n<p>But what is going on <em>in my example</em> is no different to what happens if the enum was any other static nested class.  (A nested enum is implicitly static, so we don't need a <code>static</code> keyword.  See <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.9\" rel=\"nofollow noreferrer\">JLS 8.9</a>.)</p>\n<hr />\n<blockquote>\n<p>Why is this enum declared in its own file.</p>\n</blockquote>\n<p>Because the code author chose to do it this way<sup>1</sup>.</p>\n<blockquote>\n<p>Is there an advantage to this?</p>\n</blockquote>\n<p>Yes. It means that don't have to qualify the <code>enum</code> to use it ... in some circumstances where you would have to if the <code>enum</code> was nested as above.</p>\n<hr />\n<p>Actually, Java does allow you to put multiple top-level classes into the same source file <em>provided that</em> all but one of the classes is &quot;package private&quot;.  However, doing that is generally thought to be bad style, and it can be problematic for some tool chains ... I have heard.</p>\n<hr />\n<p><sup>1 - If you want to know the <em>real</em> reason why the authors of the textbook chose to do it that way, you would need to ask them!</sup></p>\n"},{"tags":[],"owner":{"account_id":25344974,"reputation":86,"user_id":19162802,"display_name":"Trevor Arnold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692019093,"creation_date":1692019093,"answer_id":76899282,"question_id":14431472,"body_markdown":"I would put an enum in its own file in case I needed to use that enum in multiple different locations throughout my project. You could define the enum for each file you wanted to use it in, but then if you needed to update the enum, you would have to update it in each file. If you define in once and need to update it, you only need to update it the one time. This is not only easier but also ensures you don&#39;t miss one of the enum definitions throughout your codebase. ","title":"Why is an enum declared in a separate file, in Java?","body":"<p>I would put an enum in its own file in case I needed to use that enum in multiple different locations throughout my project. You could define the enum for each file you wanted to use it in, but then if you needed to update the enum, you would have to update it in each file. If you define in once and need to update it, you only need to update it the one time. This is not only easier but also ensures you don't miss one of the enum definitions throughout your codebase.</p>\n"}],"owner":{"display_name":"user1943931"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56490,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":14431566,"answer_count":4,"score":27,"last_activity_date":1692019093,"creation_date":1358732993,"question_id":14431472,"body_markdown":"Why is this enum declared in its own file. Is there an advantage to this? Also how would I be able to put this in one of the 2 files. I really have no clue what I am doing. Please also explain this in a simple way, since this is a textbook example, and I am fairly new to Java.\r\n\r\nScaleName.java\r\n\r\n    enum ScaleName {celsius, fahrenheit, kelvin, rankine};\r\n\r\nTemperature.java \r\n\r\n    class Temperature {\r\n    \r\n        private double number;\r\n        private ScaleName scale;\r\n    \r\n        public Temperature() {\r\n            number = 0.0;\r\n            scale = ScaleName.fahrenheit;\r\n        }\r\n    \r\n        public Temperature(double number) {\r\n            this.number = number;\r\n            scale = ScaleName.fahrenheit;\r\n        }\r\n    \r\n        public Temperature(ScaleName scale) {\r\n            number = 0.0;\r\n            this.scale = scale;\r\n        }\r\n    \r\n        public Temperature(double number, ScaleName scale) {\r\n            this.number = number;\r\n            this.scale = scale;\r\n        }\r\n    \r\n        public void setNumber(double number) {\r\n            this.number = number;\r\n        }\r\n    \r\n        public double getNumber() {\r\n            return number;\r\n        }\r\n    \r\n        public void setScale(ScaleName scale) {\r\n            this.scale = scale;\r\n        }\r\n    \r\n        public ScaleName getScale() {\r\n            return scale;\r\n        }\r\n    }\r\n\r\nUseTemperature.java\r\n\r\n    class Temperature {\r\n    \r\n        private double number;\r\n        private ScaleName scale;\r\n    \r\n        public Temperature() {\r\n            number = 0.0;\r\n            scale = ScaleName.fahrenheit;\r\n        }\r\n    \r\n        public Temperature(double number) {\r\n            this.number = number;\r\n            scale = ScaleName.fahrenheit;\r\n        }\r\n    \r\n        public Temperature(ScaleName scale) {\r\n            number = 0.0;\r\n            this.scale = scale;\r\n        }\r\n    \r\n        public Temperature(double number, ScaleName scale) {\r\n            this.number = number;\r\n            this.scale = scale;\r\n        }\r\n    \r\n        public void setNumber(double number) {\r\n            this.number = number;\r\n        }\r\n    \r\n        public double getNumber() {\r\n            return number;\r\n        }\r\n    \r\n        public void setScale(ScaleName scale) {\r\n            this.scale = scale;\r\n        }\r\n    \r\n        public ScaleName getScale() {\r\n            return scale;\r\n        }\r\n    }","title":"Why is an enum declared in a separate file, in Java?","body":"<p>Why is this enum declared in its own file. Is there an advantage to this? Also how would I be able to put this in one of the 2 files. I really have no clue what I am doing. Please also explain this in a simple way, since this is a textbook example, and I am fairly new to Java.</p>\n\n<p>ScaleName.java</p>\n\n<pre><code>enum ScaleName {celsius, fahrenheit, kelvin, rankine};\n</code></pre>\n\n<p>Temperature.java </p>\n\n<pre><code>class Temperature {\n\n    private double number;\n    private ScaleName scale;\n\n    public Temperature() {\n        number = 0.0;\n        scale = ScaleName.fahrenheit;\n    }\n\n    public Temperature(double number) {\n        this.number = number;\n        scale = ScaleName.fahrenheit;\n    }\n\n    public Temperature(ScaleName scale) {\n        number = 0.0;\n        this.scale = scale;\n    }\n\n    public Temperature(double number, ScaleName scale) {\n        this.number = number;\n        this.scale = scale;\n    }\n\n    public void setNumber(double number) {\n        this.number = number;\n    }\n\n    public double getNumber() {\n        return number;\n    }\n\n    public void setScale(ScaleName scale) {\n        this.scale = scale;\n    }\n\n    public ScaleName getScale() {\n        return scale;\n    }\n}\n</code></pre>\n\n<p>UseTemperature.java</p>\n\n<pre><code>class Temperature {\n\n    private double number;\n    private ScaleName scale;\n\n    public Temperature() {\n        number = 0.0;\n        scale = ScaleName.fahrenheit;\n    }\n\n    public Temperature(double number) {\n        this.number = number;\n        scale = ScaleName.fahrenheit;\n    }\n\n    public Temperature(ScaleName scale) {\n        number = 0.0;\n        this.scale = scale;\n    }\n\n    public Temperature(double number, ScaleName scale) {\n        this.number = number;\n        this.scale = scale;\n    }\n\n    public void setNumber(double number) {\n        this.number = number;\n    }\n\n    public double getNumber() {\n        return number;\n    }\n\n    public void setScale(ScaleName scale) {\n        this.scale = scale;\n    }\n\n    public ScaleName getScale() {\n        return scale;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":15988209,"reputation":150,"user_id":11538031,"display_name":"Емилиян Йорданов"},"score":1,"creation_date":1671462184,"post_id":74850991,"comment_id":132098336,"body_markdown":"It seems that your `NewsRepository ` is not created from Spring Context as a Bean. Do you have `@EnableJpaRepositories`  on your @SpringBootApplication class?","body":"It seems that your <code>NewsRepository </code> is not created from Spring Context as a Bean. Do you have <code>@EnableJpaRepositories</code>  on your @SpringBootApplication class?"},{"owner":{"account_id":2390165,"reputation":1301,"user_id":2090153,"accept_rate":30,"display_name":"selvi"},"score":0,"creation_date":1671511146,"post_id":74850991,"comment_id":132109642,"body_markdown":"@ЕмилиянЙорданов Even I tried using EnableJpaRepositories but still I am getting same error","body":"@ЕмилиянЙорданов Even I tried using EnableJpaRepositories but still I am getting same error"},{"owner":{"account_id":15988209,"reputation":150,"user_id":11538031,"display_name":"Емилиян Йорданов"},"score":0,"creation_date":1671521632,"post_id":74850991,"comment_id":132111472,"body_markdown":"Please check does `@SprinbBootApplication` still have all the related annotations - @ComponentScan and @EnableAutoConfiguration. I think that answer will help you https://stackoverflow.com/questions/33619532/configuration-using-annotation-springbootapplication . My suggestion here is to put `@EnableJpaRepository(basePackages = &quot;com.sample.fa.repository&quot;)` or `@ComponentScan(&quot;com.sample&quot;)` . Also you can try constructor injection. I&#39;m just guessing what doesn&#39;t trigger bean creation, because I still use Spring 2.0","body":"Please check does <code>@SprinbBootApplication</code> still have all the related annotations - @ComponentScan and @EnableAutoConfiguration. I think that answer will help you <a href=\"https://stackoverflow.com/questions/33619532/configuration-using-annotation-springbootapplication\" title=\"configuration using annotation springbootapplication\">stackoverflow.com/questions/33619532/&hellip;</a> . My suggestion here is to put <code>@EnableJpaRepository(basePackages = &quot;com.sample.fa.repository&quot;)</code> or <code>@ComponentScan(&quot;com.sample&quot;)</code> . Also you can try constructor injection. I&#39;m just guessing what doesn&#39;t trigger bean creation, because I still use Spring 2.0"},{"owner":{"account_id":2390165,"reputation":1301,"user_id":2090153,"accept_rate":30,"display_name":"selvi"},"score":0,"creation_date":1671526925,"post_id":74850991,"comment_id":132112938,"body_markdown":"@ЕмилиянЙорданов Added EntityScan(basePackages = { &quot;com.sample.fa.*&quot; })\nComponentScan(basePackages = { &quot;com.sample.fa.*&quot; }) \n SpringBootApplication\nEnableCaching\nEnableJpaRepositories(basePackages = { &quot;com.sample.fa.repository.*&quot; })","body":"@ЕмилиянЙорданов Added EntityScan(basePackages = { &quot;com.sample.fa.*&quot; }) ComponentScan(basePackages = { &quot;com.sample.fa.*&quot; })   SpringBootApplication EnableCaching EnableJpaRepositories(basePackages = { &quot;com.sample.fa.repository.*&quot; })"},{"owner":{"account_id":15988209,"reputation":150,"user_id":11538031,"display_name":"Емилиян Йорданов"},"score":0,"creation_date":1671544403,"post_id":74850991,"comment_id":132118502,"body_markdown":"Does it work? Or still same problem","body":"Does it work? Or still same problem"},{"owner":{"account_id":2390165,"reputation":1301,"user_id":2090153,"accept_rate":30,"display_name":"selvi"},"score":0,"creation_date":1671770313,"post_id":74850991,"comment_id":132172887,"body_markdown":"@ЕмилиянЙорданов Yes facing still the same issue","body":"@ЕмилиянЙорданов Yes facing still the same issue"}],"answers":[{"tags":[],"owner":{"account_id":27513525,"reputation":1,"user_id":20994958,"display_name":"user20994958"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673553137,"creation_date":1673553137,"answer_id":75101615,"question_id":74850991,"body_markdown":"I have the same issue:\r\n\r\nField repository in com.lst.lexiconlookup.service.LexiconService required a bean of type &#39;com.lst.lexiconlookup.repository.LexiconRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.lst.lexiconlookup.repository.LexiconRepository&#39; in your configuration.\r\n\r\nI am using version 3.0.1 from SpringInitialzer.  When I take out @Autowired from service class, I can run but get a Null Pointer:\r\n\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nCannot invoke &quot;com.lst.lexiconlookup.repository.LexiconRepository.findAll()&quot; because &quot;this.repository&quot; is null\r\njava.lang.NullPointerException: Cannot invoke &quot;com.lst.lexiconlookup.repository.LexiconRepository.findAll()&quot; because &quot;this.repository&quot; is null \r\n\r\n\r\n\r\n    @Repository\r\n    public interface LexiconRepository extends JpaRepository&lt;Lexicon, Long&gt;\r\n    {\r\n\t\r\n    }\r\n\r\n\r\n    @Service\r\n    public class LexiconService \r\n    {\r\n\t    @Autowired\r\n\t    private LexiconRepository repository;\r\n\r\n\t\r\n\t    public List&lt;Lexicon&gt; getAllLexicon()\r\n\t    {\r\n\t\t    return repository.findAll();\r\n\t    }\r\n\r\n    }\r\n\r\n\r\n    @RestController\r\n    public class LexiconController \r\n    {\r\n\t    @Autowired\r\n\t    private LexiconService lexiconService;\r\n\t\r\n\t    @GetMapping(&quot;/hello&quot;)\r\n\t    @ResponseBody\r\n\t    public String hello()\r\n\t    {\r\n\t\t    return &quot;HELLO&quot;;\r\n\t\r\n\t    }\r\n\t\r\n\t    @GetMapping(&quot;/lexiconlookup&quot;)\r\n\t    @ResponseBody\r\n\t    public List&lt;Lexicon&gt; retrieveAllLexicon()\r\n\t    {\r\n\t\t    return lexiconService.getAllLexicon();\r\n\t    }\r\n\r\n    }\r\n","title":"No qualifying bean of type available: expected at least 1 bean which qualifies as autowire candidate","body":"<p>I have the same issue:</p>\n<p>Field repository in com.lst.lexiconlookup.service.LexiconService required a bean of type 'com.lst.lexiconlookup.repository.LexiconRepository' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.lst.lexiconlookup.repository.LexiconRepository' in your configuration.</p>\n<p>I am using version 3.0.1 from SpringInitialzer.  When I take out @Autowired from service class, I can run but get a Null Pointer:</p>\n<p>There was an unexpected error (type=Internal Server Error, status=500).\nCannot invoke &quot;com.lst.lexiconlookup.repository.LexiconRepository.findAll()&quot; because &quot;this.repository&quot; is null\njava.lang.NullPointerException: Cannot invoke &quot;com.lst.lexiconlookup.repository.LexiconRepository.findAll()&quot; because &quot;this.repository&quot; is null</p>\n<pre><code>@Repository\npublic interface LexiconRepository extends JpaRepository&lt;Lexicon, Long&gt;\n{\n\n}\n\n\n@Service\npublic class LexiconService \n{\n    @Autowired\n    private LexiconRepository repository;\n\n\n    public List&lt;Lexicon&gt; getAllLexicon()\n    {\n        return repository.findAll();\n    }\n\n}\n\n\n@RestController\npublic class LexiconController \n{\n    @Autowired\n    private LexiconService lexiconService;\n\n    @GetMapping(&quot;/hello&quot;)\n    @ResponseBody\n    public String hello()\n    {\n        return &quot;HELLO&quot;;\n\n    }\n\n    @GetMapping(&quot;/lexiconlookup&quot;)\n    @ResponseBody\n    public List&lt;Lexicon&gt; retrieveAllLexicon()\n    {\n        return lexiconService.getAllLexicon();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26734867,"reputation":1,"user_id":20336588,"display_name":"JumpThere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678966256,"creation_date":1678966256,"answer_id":75755673,"question_id":74850991,"body_markdown":"If you have the following maven depancy, please remove it and run again. The solution is work for me. I also encountered the same problem like you.\r\n\r\n    \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"No qualifying bean of type available: expected at least 1 bean which qualifies as autowire candidate","body":"<p>If you have the following maven depancy, please remove it and run again. The solution is work for me. I also encountered the same problem like you.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2390165,"reputation":1301,"user_id":2090153,"accept_rate":30,"display_name":"selvi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11800,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1692018295,"creation_date":1671455376,"question_id":74850991,"body_markdown":"Unable to start server, After updating Spring boot3. \r\n    \r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.sample.fa.repository.NewsRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \r\n    Description:\r\n    Field newsRepository in com.sample.fa.service.NewsService required a bean of type &#39;com.sample.fa.repository.NewsRepository&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n            - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\n// code\r\n\r\n    @Repository\r\n    public interface NewsRepository extends JpaRepository&lt;News, Long&gt; {\r\n    \r\n        Optional&lt;News&gt; findById(Long id);\r\n    \r\n    }\r\n\r\n\r\n","title":"No qualifying bean of type available: expected at least 1 bean which qualifies as autowire candidate","body":"<p>Unable to start server, After updating Spring boot3.</p>\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.sample.fa.repository.NewsRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n\nDescription:\nField newsRepository in com.sample.fa.service.NewsService required a bean of type 'com.sample.fa.repository.NewsRepository' that could not be found.\n\nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n</code></pre>\n<p>// code</p>\n<pre><code>@Repository\npublic interface NewsRepository extends JpaRepository&lt;News, Long&gt; {\n\n    Optional&lt;News&gt; findById(Long id);\n\n}\n</code></pre>\n"},{"tags":["java","linux","spring-boot","ubuntu","spring-security"],"answers":[{"tags":[],"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691836802,"creation_date":1691836802,"answer_id":76888888,"question_id":76888826,"body_markdown":"You can break the cycle by making the factory method of the password encoder static:\r\n\r\n    @Bean\r\n    public static BCryptPasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nThen the creation of the password encoder no longer depends on an instance of the configuration class being instantiated.","title":"Use WebSecurityConfiguration because WebSecurityConfigurerAdapter option no more supported, stuck in Circular Reference instead","body":"<p>You can break the cycle by making the factory method of the password encoder static:</p>\n<pre><code>@Bean\npublic static BCryptPasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>Then the creation of the password encoder no longer depends on an instance of the configuration class being instantiated.</p>\n"}],"owner":{"account_id":19369993,"reputation":1,"user_id":14163490,"display_name":"falah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1692096065,"answer_count":1,"score":-2,"last_activity_date":1692017989,"creation_date":1691835749,"question_id":76888826,"body_markdown":"so I create this simple login system application by using Java Spring Boot and use Spring Security for authentication.\r\n\r\nThis is spec of the application:\r\n- spring tool suite 4.18.0.RELEASE\r\n- spring security 6\r\n- using java 17\r\n- built on top linux ubuntu 22.04\r\n- thymeleaf\r\n- `application.properties` is already located in `resource` folder by default in `SBTLEmpManSys/src/main/resources`\r\n- I package this works into executable jar file by using maven build feature given by STS (spring tool suite)\r\n\r\nWhen I want to use `WebSecurityConfigurerAdapter` for my `SecurityConfiguration.java` the IDE did not offer the option. It offer `WebSecurityConfiguration` instead so I use it. Turn out it gives circular reference.\r\n\r\nThis is the diagram:\r\n```\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌─────┐\r\n|  securityConfiguration (field private org.springframework.security.config.annotation.web.builders.HttpSecurity org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.httpSecurity)\r\n↑     ↓\r\n|  org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]\r\n└─────┘\r\n```\r\n\r\nI handle this problem by setting `spring.main.allow-circular-reference=true` in `application.properties` for temporary solution to complete my work. But this problem will reappear in executable .jar file\r\n\r\nOn the other hand, I need this security configuration file to provide `BCryptPasswordEncoder` for my service implementation file `EmpServiceImpl.java`.\r\n\r\nI have tried to use `@Lazy` here and there but there is no effect. I also tried figure out solution for this problem through google &amp; this forum but still can not solve it.\r\n\r\nDoes anyone can help? This is really give me a headache.\r\n\r\nHere are my files.\r\n\r\nThis is the security configuration\r\n```\r\npackage com.kastamer.sbtl.config;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Lazy;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\nimport com.kastamer.sbtl.service.EmpService;\r\n\r\n@Configuration\r\n@PropertySource(value = &quot;classpath:application.properties&quot;)\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfiguration {\r\n\r\n//\tpublic EmpService empService;\r\n\t\r\n//\t@Lazy --&gt; NO EFFECT\r\n\t@Bean\r\n\tpublic BCryptPasswordEncoder passwordEncoder() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n//\t@Lazy --&gt; NO EFFECT\r\n\t@Bean\r\n\tpublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tAuthenticationManagerBuilder authManBuild = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n\t\t\r\n\t\thttp.authorizeHttpRequests((requests) -&gt; requests.requestMatchers(\r\n\t\t\t\t&quot;/registrasi&quot;,\r\n\t\t\t\t&quot;/js**&quot;,\r\n\t\t\t\t&quot;/css**&quot;,\r\n\t\t\t\t&quot;/img**&quot;)\r\n\t\t\t\t.permitAll().anyRequest().authenticated())\r\n\t\t.formLogin((form) -&gt; form.loginPage(&quot;/login&quot;).permitAll())\r\n\t\t.logout((logout) -&gt; logout.invalidateHttpSession(true).clearAuthentication(true).logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/login?logout&quot;).permitAll());\r\n\t\t\r\n\t\treturn http.build();\r\n\t}\r\n}\r\n```\r\n\r\nThis is the service implementation:\r\n```\r\npackage com.kastamer.sbtl.service;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Lazy;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Sort;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.kastamer.sbtl.model.EmpRole;\r\nimport com.kastamer.sbtl.model.Employee;\r\nimport com.kastamer.sbtl.repository.EmployeeRepository;\r\nimport com.kastamer.sbtl.web.dto.EmpRegistrationDTO;\r\n\r\n@Service\r\npublic class EmpServiceImpl implements EmpService {\r\n\r\n\t@Autowired\r\n\tprivate EmployeeRepository empRepDAO;\r\n\t\r\n\t@Autowired\r\n\tprivate BCryptPasswordEncoder passwordEncoder;\r\n\r\n\t//@Autowired //THIS is ADDITION to AVOID CIRCULAR REFERENCE --&gt; ANNOTATION NO EFFECT\r\n\t//public EmpServiceImpl(@Lazy EmployeeRepository empRepDAO) { //ANNOTATION &#39;@Lazy&#39; is ADDITION to AVOID CIRCULAR REFERENCE --&gt; ANNOTATION NO EFFECT\r\n\tpublic EmpServiceImpl(EmployeeRepository empRepDAO) {\r\n\t\tsuper();\r\n\t\tthis.empRepDAO = empRepDAO;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tEmployee pegawai = empRepDAO.findByEmail(username);\r\n\t\t\r\n\t\tif (pegawai == null) {\r\n\t\t\tthrow new UsernameNotFoundException(&quot;Email atau kata sandi tidak cocok!&quot;);\r\n\t\t}\r\n\t\t\r\n\t\treturn new org.springframework.security.core.userdetails.User(pegawai.getEmail(), pegawai.getPassword(), mapRolesToAuthority(pegawai.getRoles())); //return null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Employee save(EmpRegistrationDTO empRegistrationDTO) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tEmployee karyawan = new Employee(\r\n\t\t\t\tempRegistrationDTO.getFullName(),\r\n\t\t\t\tempRegistrationDTO.getEmail(),\r\n\t\t\t\tpasswordEncoder.encode(empRegistrationDTO.getPassword()),\r\n\t\t\t\tArrays.asList(new EmpRole(&quot;ROLE_USER&quot;)));\r\n\t\t\r\n\t\treturn empRepDAO.save(karyawan); //return null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void simpanPembaruanData(Employee employee) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\temployee.setPassword(passwordEncoder.encode(employee.getPassword()));\r\n\t\t\r\n\t\tthis.empRepDAO.save(employee);\r\n\t}\r\n\t\r\n\tprivate Collection&lt;? extends GrantedAuthority&gt; mapRolesToAuthority(Collection&lt;EmpRole&gt; roles) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getNamaRole())).collect(Collectors.toList());\r\n\t}\r\n\r\n\t//PART POJOK KARYAWAN\r\n\t@Override\r\n\tpublic List&lt;Employee&gt; getAllEmployees() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn empRepDAO.findAll(); //return null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Employee getEmployeeById(long id) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tOptional&lt;Employee&gt; optEmp = empRepDAO.findById(id);\r\n\t\tEmployee empl = null;\r\n\t\t\r\n\t\tif (optEmp.isPresent()) {\r\n\t\t\templ = optEmp.get();\r\n\t\t} else {\r\n\t\t\tthrow new RuntimeException(&quot;Karyawan dengan emp_id &#39;&quot; + id + &quot;&#39; tidak bisa ditemukan&quot;);\r\n\t\t}\r\n\t\t\r\n\t\treturn empl; //return null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteEmployeeById(long id) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthis.empRepDAO.deleteById(id);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Page&lt;Employee&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortAscOrDesc) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSort runut = sortAscOrDesc.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() : Sort.by(sortField).descending();\r\n\t\t\r\n\t\tPageable pageable = PageRequest.of(pageNo - 1, pageSize, runut);\r\n\t\t\r\n\t\treturn this.empRepDAO.findAll(pageable); //return null;\r\n\t}\r\n}\r\n```\r\n\r\nThis is the application.properties\r\n```\r\n# DATASOURCE (DataSourceAutoConfiguration &amp; DataSourceProperties)\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/myDB\r\nspring.datasource.username=[POSTGRES_LOGIN]\r\nspring.datasource.password=[POSTGRES_PASSWORD]\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n\r\n# The PostgreSQL dialect makes Hibernate generate better Postgresql for the chosen databse\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\n\r\n# Hibernate ddl auto (create, create-drop, validate, update, none --&gt; &#39;default&#39;)\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n# Prepare logging-time system for Spring-Boot engine &amp; will print logs in console (also work as work-level to monitor generated HQL in console)\r\nlogging.level.org.hibernate.sql=debug\r\nlogging.level.org.hibernate.type=trace\r\n#spring.jpa.show-sql=true\r\n\r\n# Default user login and password for spring security web login page (if spring security is enabled)\r\n#spring.security.user.name=spring\r\n#spring.security.user.password=spring123 \r\n#spring.security.user.roles=USER\r\n\r\nspring.main.allow-bean-definition-overriding=true\r\n#spring.main.allow-circular-references=true\r\n```","title":"Use WebSecurityConfiguration because WebSecurityConfigurerAdapter option no more supported, stuck in Circular Reference instead","body":"<p>so I create this simple login system application by using Java Spring Boot and use Spring Security for authentication.</p>\n<p>This is spec of the application:</p>\n<ul>\n<li>spring tool suite 4.18.0.RELEASE</li>\n<li>spring security 6</li>\n<li>using java 17</li>\n<li>built on top linux ubuntu 22.04</li>\n<li>thymeleaf</li>\n<li><code>application.properties</code> is already located in <code>resource</code> folder by default in <code>SBTLEmpManSys/src/main/resources</code></li>\n<li>I package this works into executable jar file by using maven build feature given by STS (spring tool suite)</li>\n</ul>\n<p>When I want to use <code>WebSecurityConfigurerAdapter</code> for my <code>SecurityConfiguration.java</code> the IDE did not offer the option. It offer <code>WebSecurityConfiguration</code> instead so I use it. Turn out it gives circular reference.</p>\n<p>This is the diagram:</p>\n<pre><code>The dependencies of some of the beans in the application context form a cycle:\n\n┌─────┐\n|  securityConfiguration (field private org.springframework.security.config.annotation.web.builders.HttpSecurity org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.httpSecurity)\n↑     ↓\n|  org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]\n└─────┘\n</code></pre>\n<p>I handle this problem by setting <code>spring.main.allow-circular-reference=true</code> in <code>application.properties</code> for temporary solution to complete my work. But this problem will reappear in executable .jar file</p>\n<p>On the other hand, I need this security configuration file to provide <code>BCryptPasswordEncoder</code> for my service implementation file <code>EmpServiceImpl.java</code>.</p>\n<p>I have tried to use <code>@Lazy</code> here and there but there is no effect. I also tried figure out solution for this problem through google &amp; this forum but still can not solve it.</p>\n<p>Does anyone can help? This is really give me a headache.</p>\n<p>Here are my files.</p>\n<p>This is the security configuration</p>\n<pre><code>package com.kastamer.sbtl.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Lazy;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport com.kastamer.sbtl.service.EmpService;\n\n@Configuration\n@PropertySource(value = &quot;classpath:application.properties&quot;)\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfiguration {\n\n//  public EmpService empService;\n    \n//  @Lazy --&gt; NO EFFECT\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        // TODO Auto-generated method stub\n        return new BCryptPasswordEncoder();\n    }\n    \n//  @Lazy --&gt; NO EFFECT\n    @Bean\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\n        // TODO Auto-generated method stub\n        AuthenticationManagerBuilder authManBuild = http.getSharedObject(AuthenticationManagerBuilder.class);\n        \n        http.authorizeHttpRequests((requests) -&gt; requests.requestMatchers(\n                &quot;/registrasi&quot;,\n                &quot;/js**&quot;,\n                &quot;/css**&quot;,\n                &quot;/img**&quot;)\n                .permitAll().anyRequest().authenticated())\n        .formLogin((form) -&gt; form.loginPage(&quot;/login&quot;).permitAll())\n        .logout((logout) -&gt; logout.invalidateHttpSession(true).clearAuthentication(true).logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/login?logout&quot;).permitAll());\n        \n        return http.build();\n    }\n}\n</code></pre>\n<p>This is the service implementation:</p>\n<pre><code>package com.kastamer.sbtl.service;\n\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.stream.Collectors;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Lazy;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport com.kastamer.sbtl.model.EmpRole;\nimport com.kastamer.sbtl.model.Employee;\nimport com.kastamer.sbtl.repository.EmployeeRepository;\nimport com.kastamer.sbtl.web.dto.EmpRegistrationDTO;\n\n@Service\npublic class EmpServiceImpl implements EmpService {\n\n    @Autowired\n    private EmployeeRepository empRepDAO;\n    \n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n\n    //@Autowired //THIS is ADDITION to AVOID CIRCULAR REFERENCE --&gt; ANNOTATION NO EFFECT\n    //public EmpServiceImpl(@Lazy EmployeeRepository empRepDAO) { //ANNOTATION '@Lazy' is ADDITION to AVOID CIRCULAR REFERENCE --&gt; ANNOTATION NO EFFECT\n    public EmpServiceImpl(EmployeeRepository empRepDAO) {\n        super();\n        this.empRepDAO = empRepDAO;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        // TODO Auto-generated method stub\n        Employee pegawai = empRepDAO.findByEmail(username);\n        \n        if (pegawai == null) {\n            throw new UsernameNotFoundException(&quot;Email atau kata sandi tidak cocok!&quot;);\n        }\n        \n        return new org.springframework.security.core.userdetails.User(pegawai.getEmail(), pegawai.getPassword(), mapRolesToAuthority(pegawai.getRoles())); //return null;\n    }\n\n    @Override\n    public Employee save(EmpRegistrationDTO empRegistrationDTO) {\n        // TODO Auto-generated method stub\n        Employee karyawan = new Employee(\n                empRegistrationDTO.getFullName(),\n                empRegistrationDTO.getEmail(),\n                passwordEncoder.encode(empRegistrationDTO.getPassword()),\n                Arrays.asList(new EmpRole(&quot;ROLE_USER&quot;)));\n        \n        return empRepDAO.save(karyawan); //return null;\n    }\n\n    @Override\n    public void simpanPembaruanData(Employee employee) {\n        // TODO Auto-generated method stub\n        employee.setPassword(passwordEncoder.encode(employee.getPassword()));\n        \n        this.empRepDAO.save(employee);\n    }\n    \n    private Collection&lt;? extends GrantedAuthority&gt; mapRolesToAuthority(Collection&lt;EmpRole&gt; roles) {\n        // TODO Auto-generated method stub\n        return roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getNamaRole())).collect(Collectors.toList());\n    }\n\n    //PART POJOK KARYAWAN\n    @Override\n    public List&lt;Employee&gt; getAllEmployees() {\n        // TODO Auto-generated method stub\n        return empRepDAO.findAll(); //return null;\n    }\n\n    @Override\n    public Employee getEmployeeById(long id) {\n        // TODO Auto-generated method stub\n        Optional&lt;Employee&gt; optEmp = empRepDAO.findById(id);\n        Employee empl = null;\n        \n        if (optEmp.isPresent()) {\n            empl = optEmp.get();\n        } else {\n            throw new RuntimeException(&quot;Karyawan dengan emp_id '&quot; + id + &quot;' tidak bisa ditemukan&quot;);\n        }\n        \n        return empl; //return null;\n    }\n\n    @Override\n    public void deleteEmployeeById(long id) {\n        // TODO Auto-generated method stub\n        this.empRepDAO.deleteById(id);\n    }\n\n    @Override\n    public Page&lt;Employee&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortAscOrDesc) {\n        // TODO Auto-generated method stub\n        Sort runut = sortAscOrDesc.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() : Sort.by(sortField).descending();\n        \n        Pageable pageable = PageRequest.of(pageNo - 1, pageSize, runut);\n        \n        return this.empRepDAO.findAll(pageable); //return null;\n    }\n}\n</code></pre>\n<p>This is the application.properties</p>\n<pre><code># DATASOURCE (DataSourceAutoConfiguration &amp; DataSourceProperties)\nspring.datasource.url=jdbc:postgresql://localhost:5432/myDB\nspring.datasource.username=[POSTGRES_LOGIN]\nspring.datasource.password=[POSTGRES_PASSWORD]\nspring.datasource.driver-class-name=org.postgresql.Driver\n\n# The PostgreSQL dialect makes Hibernate generate better Postgresql for the chosen databse\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n\n# Hibernate ddl auto (create, create-drop, validate, update, none --&gt; 'default')\nspring.jpa.hibernate.ddl-auto=update\n\n# Prepare logging-time system for Spring-Boot engine &amp; will print logs in console (also work as work-level to monitor generated HQL in console)\nlogging.level.org.hibernate.sql=debug\nlogging.level.org.hibernate.type=trace\n#spring.jpa.show-sql=true\n\n# Default user login and password for spring security web login page (if spring security is enabled)\n#spring.security.user.name=spring\n#spring.security.user.password=spring123 \n#spring.security.user.roles=USER\n\nspring.main.allow-bean-definition-overriding=true\n#spring.main.allow-circular-references=true\n</code></pre>\n"},{"tags":["java","html","css","jsp"],"answers":[{"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692017953,"creation_date":1692017953,"answer_id":76899141,"question_id":76898135,"body_markdown":"try with Versioning:\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/shop.css?version=1&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/base.css?version=1&quot;&gt;\r\n\r\nif you add new lines in your CSS then you change it to:\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/shop.css?version=2&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/base.css?version=2&quot;&gt;\r\n\r\nand the Browser will load the CSS files again.\r\n\r\nADDITIONALLY you can add this code in your JSP file in the HTML Header for no-chache (but you must do the css Versioning also):\r\n\r\n    &lt;%\r\n        response.setHeader(&quot;Cache-Control&quot;,&quot;no-cache&quot;); //Forces caches to obtain a new copy of the page from the origin server\r\n        response.setHeader(&quot;Cache-Control&quot;,&quot;no-store&quot;); //Directs caches not to store the page under any circumstance\r\n        response.setDateHeader(&quot;Expires&quot;, 0); //Causes the proxy cache to see the page as &quot;stale&quot;\r\n        response.setHeader(&quot;Pragma&quot;,&quot;no-cache&quot;); //HTTP 1.0 backward compatibility\r\n    %&gt;","title":"CSS not refreshing on JSP page even after adding more lines and clearing cache. After clearing cache on Chrome none of the CSS pages are working","body":"<p>try with Versioning:</p>\n<pre><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;./css/shop.css?version=1&quot;&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;./css/base.css?version=1&quot;&gt;\n</code></pre>\n<p>if you add new lines in your CSS then you change it to:</p>\n<pre><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;./css/shop.css?version=2&quot;&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;./css/base.css?version=2&quot;&gt;\n</code></pre>\n<p>and the Browser will load the CSS files again.</p>\n<p>ADDITIONALLY you can add this code in your JSP file in the HTML Header for no-chache (but you must do the css Versioning also):</p>\n<pre><code>&lt;%\n    response.setHeader(&quot;Cache-Control&quot;,&quot;no-cache&quot;); //Forces caches to obtain a new copy of the page from the origin server\n    response.setHeader(&quot;Cache-Control&quot;,&quot;no-store&quot;); //Directs caches not to store the page under any circumstance\n    response.setDateHeader(&quot;Expires&quot;, 0); //Causes the proxy cache to see the page as &quot;stale&quot;\n    response.setHeader(&quot;Pragma&quot;,&quot;no-cache&quot;); //HTTP 1.0 backward compatibility\n%&gt;\n</code></pre>\n"}],"owner":{"account_id":20116677,"reputation":3,"user_id":14751961,"display_name":"Filip M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76899141,"answer_count":1,"score":0,"last_activity_date":1692017953,"creation_date":1692008856,"question_id":76898135,"body_markdown":"Everything seemed to work properly after I added a couple of lines of CSS to a stylesheet that already worked, and it would not refresh and include the new lines, it would only show the ones from before.\r\n\r\nAfter trying to clear the cache on Chrome, none of the pages seem to load the CSS pages or any Google Fonts that I linked, but when I open a new project everything loads up, and I am lost, any help would be appreciated!\r\n\r\nI am using Intellij as my IDE ( JSP pages, Java, Servlet, CSS )\r\n\r\nFile Structure:\r\nwebapp -&gt; pages -&gt; html -&gt; css *( css inside html inside pages inside webapp )*\r\n\r\n\r\nMy header:\r\n```\r\n&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n\r\n    &lt;!-- Style --&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/shop.css&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/base.css&quot;&gt;\r\n\r\n    &lt;!-- Fonts Lato &amp; Montserrat --&gt;\r\n    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;\r\n    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin&gt;\r\n    &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Lato:wght@300;400;500;700;900&amp;family=Montserrat:wght@300;400;500;700;900&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;\r\n    \r\n    &lt;title&gt;Store&lt;/title&gt;\r\n&lt;/head&gt;\r\n```","title":"CSS not refreshing on JSP page even after adding more lines and clearing cache. After clearing cache on Chrome none of the CSS pages are working","body":"<p>Everything seemed to work properly after I added a couple of lines of CSS to a stylesheet that already worked, and it would not refresh and include the new lines, it would only show the ones from before.</p>\n<p>After trying to clear the cache on Chrome, none of the pages seem to load the CSS pages or any Google Fonts that I linked, but when I open a new project everything loads up, and I am lost, any help would be appreciated!</p>\n<p>I am using Intellij as my IDE ( JSP pages, Java, Servlet, CSS )</p>\n<p>File Structure:\nwebapp -&gt; pages -&gt; html -&gt; css <em>( css inside html inside pages inside webapp )</em></p>\n<p>My header:</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n\n    &lt;!-- Style --&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/shop.css&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/base.css&quot;&gt;\n\n    &lt;!-- Fonts Lato &amp; Montserrat --&gt;\n    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;\n    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin&gt;\n    &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Lato:wght@300;400;500;700;900&amp;family=Montserrat:wght@300;400;500;700;900&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;\n    \n    &lt;title&gt;Store&lt;/title&gt;\n&lt;/head&gt;\n</code></pre>\n"},{"tags":["java","ssl-certificate"],"answers":[{"tags":[],"owner":{"account_id":6628036,"reputation":21,"user_id":5117581,"display_name":"Shanaka Sandanayaka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612493626,"creation_date":1612493626,"answer_id":66056936,"question_id":66023419,"body_markdown":"According to this error, It seems like you haven&#39;t imported the [full cert chai][1]n to the trust store (root, intermediate and leaf certs).\r\n\r\n[enter image description here][2]\r\n\r\nIn Firefox, You can easily download the full certificate chain. Then please import all 3 certificates to your trust store. \r\n\r\n \r\n\r\n\r\n  [1]: https://shagihan.medium.com/what-is-certificate-chain-and-how-to-verify-them-be429a030887\r\n  [2]: https://i.stack.imgur.com/NjL5u.png","title":"How to connect a certificate for mail access gmail.com in Java","body":"<p>According to this error, It seems like you haven't imported the <a href=\"https://shagihan.medium.com/what-is-certificate-chain-and-how-to-verify-them-be429a030887\" rel=\"nofollow noreferrer\">full cert chai</a>n to the trust store (root, intermediate and leaf certs).</p>\n<p><a href=\"https://i.stack.imgur.com/NjL5u.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>In Firefox, You can easily download the full certificate chain. Then please import all 3 certificates to your trust store.</p>\n"},{"tags":[],"owner":{"account_id":29222984,"reputation":1,"user_id":22388369,"display_name":"Sandeep Dm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692017803,"creation_date":1692017803,"answer_id":76899123,"question_id":66023419,"body_markdown":"I am not sure while importing the cerficate specifying the alias matters,\r\ni tried below and its working for me.\r\n\r\n1).\r\nUse git bash command line tool(if you are in windows)\r\n$ **echo | openssl s_client -connect smtp.gmail.com:465 2&gt;&amp;1 | sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &gt; yourcert.pem**\r\n\r\n2).\r\nNow copy the certificate to JDK\\bin directory or specify the location of your certificate file and execute the below command in Administrator mode.\r\n\r\nC:\\Program Files\\Java\\jdk-11\\bin&gt;keytool -import -alias smtp.gmail.com -keystore &quot;C:\\Program Files\\Java\\jdk-11\\lib\\security\\cacerts&quot; -file yourcert.pem","title":"How to connect a certificate for mail access gmail.com in Java","body":"<p>I am not sure while importing the cerficate specifying the alias matters,\ni tried below and its working for me.</p>\n<p>1).\nUse git bash command line tool(if you are in windows)\n$ <strong>echo | openssl s_client -connect smtp.gmail.com:465 2&gt;&amp;1 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; yourcert.pem</strong></p>\n<p>2).\nNow copy the certificate to JDK\\bin directory or specify the location of your certificate file and execute the below command in Administrator mode.</p>\n<p>C:\\Program Files\\Java\\jdk-11\\bin&gt;keytool -import -alias smtp.gmail.com -keystore &quot;C:\\Program Files\\Java\\jdk-11\\lib\\security\\cacerts&quot; -file yourcert.pem</p>\n"}],"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692017803,"creation_date":1612339312,"question_id":66023419,"body_markdown":"I&#39;m reviewing a training project - working with a mail server gmail.com. An error occurred at startup:\r\n\r\n    Failed receive: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nOn this site I found instructions on how to connect the certificate: [PKIX path building failed” and “unable to find valid certification path to requested target][1]\r\nI&#39;m reviewing a training project - working with a mail server gmail.com. An error occurred at startup:\r\n\r\nFailed receive: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\nOn this site I found instructions on how to connect the certificate: PKIX path building failed” and &quot; unable to find valid certification path to requested target\r\n\r\nI did everything according to the instructions:\r\n\r\n1. In chrome, I downloaded the certificate from this site, saved it to the mg mail.cer file\r\n\r\n2. I connected it with the command\r\n\r\n    keytool -import -alias gmail -keystore c:\\Development\\Java\\jdk11\\lib\\security\\cacerts -file m gmail.com\r\n\r\n3. I overloaded the computer, but the error still remains\r\n\r\n4. I check with the command\r\n\r\n    keytool -list -trustcacerts -keystore &quot;%JAVA_HOME%\\lib\\security\\cacerts&quot; -storepass changeit\r\nthe certificate is in the list:\r\n\r\n    mgmail, 2 февр. 2021 г., trustedCertEntry,\r\n    Certificate fingerprint (SHA-256): 9A:63:32:BE:95:...\r\n\r\nWhat did I miss?\r\n\r\n  [1]: https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ","title":"How to connect a certificate for mail access gmail.com in Java","body":"<p>I'm reviewing a training project - working with a mail server gmail.com. An error occurred at startup:</p>\n<pre><code>Failed receive: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>On this site I found instructions on how to connect the certificate: <a href=\"https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ\">PKIX path building failed” and “unable to find valid certification path to requested target</a>\nI'm reviewing a training project - working with a mail server gmail.com. An error occurred at startup:</p>\n<p>Failed receive: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nOn this site I found instructions on how to connect the certificate: PKIX path building failed” and &quot; unable to find valid certification path to requested target</p>\n<p>I did everything according to the instructions:</p>\n<ol>\n<li><p>In chrome, I downloaded the certificate from this site, saved it to the mg mail.cer file</p>\n</li>\n<li><p>I connected it with the command</p>\n<p>keytool -import -alias gmail -keystore c:\\Development\\Java\\jdk11\\lib\\security\\cacerts -file m gmail.com</p>\n</li>\n<li><p>I overloaded the computer, but the error still remains</p>\n</li>\n<li><p>I check with the command</p>\n<p>keytool -list -trustcacerts -keystore &quot;%JAVA_HOME%\\lib\\security\\cacerts&quot; -storepass changeit\nthe certificate is in the list:</p>\n<p>mgmail, 2 февр. 2021 г., trustedCertEntry,\nCertificate fingerprint (SHA-256): 9A:63:32:BE:95:...</p>\n</li>\n</ol>\n<p>What did I miss?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":464804,"reputation":3156,"user_id":868533,"display_name":"supersam654"},"score":0,"creation_date":1376060837,"post_id":18149857,"comment_id":26583545,"body_markdown":"I would find a library (similar to how you converted a `jpeg` to `pdf`).","body":"I would find a library (similar to how you converted a <code>jpeg</code> to <code>pdf</code>)."},{"owner":{"account_id":1521346,"reputation":2374,"user_id":1420898,"accept_rate":56,"display_name":"Luis Sep"},"score":0,"creation_date":1376060907,"post_id":18149857,"comment_id":26583590,"body_markdown":"I think that you&#39;re using a library for this, right? Check it if has some method to convert pdf to word. Otherwise...","body":"I think that you&#39;re using a library for this, right? Check it if has some method to convert pdf to word. Otherwise..."},{"owner":{"display_name":"user2040500"},"score":0,"creation_date":1376061193,"post_id":18149857,"comment_id":26583772,"body_markdown":"yes sir for converting jpeg to pdf i&#39;m using iText5.1.0.jar library.........but don&#39;t know which library should i use for converting pdf to word","body":"yes sir for converting jpeg to pdf i&#39;m using iText5.1.0.jar library.........but don&#39;t know which library should i use for converting pdf to word"}],"answers":[{"tags":[],"owner":{"account_id":145150,"reputation":8892,"user_id":1885392,"display_name":"stefan.schwetschke"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1376296952,"creation_date":1376061731,"answer_id":18150205,"question_id":18149857,"body_markdown":"In fact, you need two libraries. Both libraries are open source. The first one is [iText][1], it is used to extract the text from a PDF file. The second one is [POI][2], it is ued to create the word document.\r\n\r\nThe code is quite simple:\r\n\r\n    //Create the word document\r\n    XWPFDocument doc = new XWPFDocument();\r\n\r\n    // Open the pdf file\r\n    String pdf = &quot;myfile.pdf&quot;;\r\n    PdfReader reader = new PdfReader(pdf);\r\n    PdfReaderContentParser parser = new PdfReaderContentParser(reader);\r\n\r\n    // Read the PDF page by page\r\n    for (int i = 1; i &lt;= reader.getNumberOfPages(); i++) {\r\n        TextExtractionStrategy strategy = parser.processContent(i, new SimpleTextExtractionStrategy());\r\n        // Extract the text\r\n        String text=strategy.getResultantText();\r\n        // Create a new paragraph in the word document, adding the extracted text\r\n        XWPFParagraph p = doc.createParagraph();\r\n        XWPFRun run = p.createRun();\r\n        run.setText(text);\r\n        // Adding a page break\r\n        run.addBreak(BreakType.PAGE);\r\n    }\r\n    // Write the word document\r\n    FileOutputStream out = new FileOutputStream(&quot;myfile.docx&quot;);\r\n    doc.write(out);\r\n    // Close all open files\r\n    out.close();\r\n    reader.close();\r\n\r\nBeware: With the used extraction strategy, you will lose all formatting. But you can fix this, by inserting your own, more complex extraction strategy. \r\n\r\n  [1]: http://itextpdf.com/\r\n  [2]: http://poi.apache.org/","title":"Converting a pdf to word document using java","body":"<p>In fact, you need two libraries. Both libraries are open source. The first one is <a href=\"http://itextpdf.com/\" rel=\"nofollow\">iText</a>, it is used to extract the text from a PDF file. The second one is <a href=\"http://poi.apache.org/\" rel=\"nofollow\">POI</a>, it is ued to create the word document.</p>\n\n<p>The code is quite simple:</p>\n\n<pre><code>//Create the word document\nXWPFDocument doc = new XWPFDocument();\n\n// Open the pdf file\nString pdf = \"myfile.pdf\";\nPdfReader reader = new PdfReader(pdf);\nPdfReaderContentParser parser = new PdfReaderContentParser(reader);\n\n// Read the PDF page by page\nfor (int i = 1; i &lt;= reader.getNumberOfPages(); i++) {\n    TextExtractionStrategy strategy = parser.processContent(i, new SimpleTextExtractionStrategy());\n    // Extract the text\n    String text=strategy.getResultantText();\n    // Create a new paragraph in the word document, adding the extracted text\n    XWPFParagraph p = doc.createParagraph();\n    XWPFRun run = p.createRun();\n    run.setText(text);\n    // Adding a page break\n    run.addBreak(BreakType.PAGE);\n}\n// Write the word document\nFileOutputStream out = new FileOutputStream(\"myfile.docx\");\ndoc.write(out);\n// Close all open files\nout.close();\nreader.close();\n</code></pre>\n\n<p>Beware: With the used extraction strategy, you will lose all formatting. But you can fix this, by inserting your own, more complex extraction strategy. </p>\n"}],"owner":{"display_name":"user2040500"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32154,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692017588,"creation_date":1376060703,"question_id":18149857,"body_markdown":"I&#39;ve successfully converted JPEG to Pdf using Java, but don&#39;t know how to convert Pdf to Word using Java, the code for converting JPEG to Pdf is given below.\r\n\r\nCan anyone tell me how to convert Pdf to Word (.doc/ .docx) using Java?\r\n\r\n    import java.io.FileOutputStream;\r\n    import com.itextpdf.text.Image;\r\n    import com.itextpdf.text.pdf.PdfWriter;\r\n    import com.itextpdf.text.Document;\r\n    \r\n    public class JpegToPDF {\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tDocument convertJpgToPdf = new Document();\r\n    \t\t\tPdfWriter.getInstance(convertJpgToPdf, new FileOutputStream(\r\n    \t\t\t\t\t&quot;c:\\\\java\\\\ConvertImagetoPDF.pdf&quot;));\r\n    \t\t\tconvertJpgToPdf.open();\r\n    \t\t\tImage convertJpg = Image.getInstance(&quot;c:\\\\java\\\\test.jpg&quot;);\r\n    \t\t\tconvertJpgToPdf.add(convertJpg);\r\n    \t\t\tconvertJpgToPdf.close();\r\n    \t\t\tSystem.out.println(&quot;Successfully Converted JPG to PDF in iText&quot;);\r\n    \t\t} catch (Exception i1) {\r\n    \t\t\ti1.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Converting a pdf to word document using java","body":"<p>I've successfully converted JPEG to Pdf using Java, but don't know how to convert Pdf to Word using Java, the code for converting JPEG to Pdf is given below.</p>\n\n<p>Can anyone tell me how to convert Pdf to Word (.doc/ .docx) using Java?</p>\n\n<pre><code>import java.io.FileOutputStream;\nimport com.itextpdf.text.Image;\nimport com.itextpdf.text.pdf.PdfWriter;\nimport com.itextpdf.text.Document;\n\npublic class JpegToPDF {\n    public static void main(String[] args) {\n        try {\n            Document convertJpgToPdf = new Document();\n            PdfWriter.getInstance(convertJpgToPdf, new FileOutputStream(\n                    \"c:\\\\java\\\\ConvertImagetoPDF.pdf\"));\n            convertJpgToPdf.open();\n            Image convertJpg = Image.getInstance(\"c:\\\\java\\\\test.jpg\");\n            convertJpgToPdf.add(convertJpg);\n            convertJpgToPdf.close();\n            System.out.println(\"Successfully Converted JPG to PDF in iText\");\n        } catch (Exception i1) {\n            i1.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql","apache-spark-2.0"],"comments":[{"owner":{"account_id":4181817,"reputation":369,"user_id":3426630,"display_name":"tauitdnmd"},"score":0,"creation_date":1535371856,"post_id":52038624,"comment_id":91028367,"body_markdown":"what&#39;s your broadcast var contains &amp; how many mem it consume?","body":"what&#39;s your broadcast var contains &amp; how many mem it consume?"},{"owner":{"account_id":13773045,"reputation":717,"user_id":9939999,"display_name":"Raj"},"score":0,"creation_date":1535372183,"post_id":52038624,"comment_id":91028567,"body_markdown":"@tauitdnmd I have added some code for reference which describes broadcast variables, basically each one of them contains value of one one column of a table, There are 3 broadcast variables.","body":"@tauitdnmd I have added some code for reference which describes broadcast variables, basically each one of them contains value of one one column of a table, There are 3 broadcast variables."},{"owner":{"account_id":3154697,"reputation":7046,"user_id":2667343,"display_name":"pasha701"},"score":0,"creation_date":1535373186,"post_id":52038624,"comment_id":91029293,"body_markdown":"which configuration values for: \nspark.driver.memory, \nspark.executor.memory?","body":"which configuration values for:  spark.driver.memory,  spark.executor.memory?"},{"owner":{"account_id":13773045,"reputation":717,"user_id":9939999,"display_name":"Raj"},"score":0,"creation_date":1535428681,"post_id":52038624,"comment_id":91050154,"body_markdown":"@pasha701 for spark.driver.memory configuration value is default i didn&#39;t set it explicitly and for --executor-memory=6G and --num-executors=22.","body":"@pasha701 for spark.driver.memory configuration value is default i didn&#39;t set it explicitly and for --executor-memory=6G and --num-executors=22."}],"answers":[{"tags":[],"owner":{"account_id":3154697,"reputation":7046,"user_id":2667343,"display_name":"pasha701"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1535458273,"creation_date":1535458273,"answer_id":52057579,"question_id":52038624,"body_markdown":"**Possible root cause:** Default value of &quot;spark.driver.memory&quot; 1 Gb only (depends on distributive), it is very small number. If you are reading significant amounts of data on driver, OutOfMemory can occurs easily, advice from exception is correct.\r\n\r\n**Solution:** Increase  &quot;spark.driver.memory&quot; and &quot;spark.executor.memory&quot; at least to 16Gb.","title":"Exception in thread &quot;broadcast-exchange-0&quot; java.lang.OutOfMemoryError: Not enough memory to build and broadcast the table to all worker nodes","body":"<p><strong>Possible root cause:</strong> Default value of \"spark.driver.memory\" 1 Gb only (depends on distributive), it is very small number. If you are reading significant amounts of data on driver, OutOfMemory can occurs easily, advice from exception is correct.</p>\n\n<p><strong>Solution:</strong> Increase  \"spark.driver.memory\" and \"spark.executor.memory\" at least to 16Gb.</p>\n"},{"tags":[],"owner":{"account_id":18866343,"reputation":172,"user_id":13761998,"display_name":"pr0mpT_07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692017475,"creation_date":1692017475,"answer_id":76899077,"question_id":52038624,"body_markdown":"  [pasha701&#39;s][1]\r\nAnswer will work when running in remote. But I was facing this for my local &amp; adding following worked for me\r\n\r\nspark.conf.set(&quot;spark.sql.autoBroadcastJoinThreshold&quot;, -1)\r\n\r\n[More info..][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2667343/pasha701\r\n  [2]: https://sparkbyexamples.com/pyspark/pyspark-broadcast-join-with-example/#:~:text=Configuring%20PySpark%20Auto%20Broadcast%20join.&amp;text=This%20can%20be%20set%20up,depends%20on%20the%20executor%27s%20memory.&amp;text=The%20threshold%20value%20for%20broadcast,up%20its%20value%20as%20%2D1.","title":"Exception in thread &quot;broadcast-exchange-0&quot; java.lang.OutOfMemoryError: Not enough memory to build and broadcast the table to all worker nodes","body":"<p><a href=\"https://stackoverflow.com/users/2667343/pasha701\">pasha701's</a>\nAnswer will work when running in remote. But I was facing this for my local &amp; adding following worked for me</p>\n<p>spark.conf.set(&quot;spark.sql.autoBroadcastJoinThreshold&quot;, -1)</p>\n<p><a href=\"https://sparkbyexamples.com/pyspark/pyspark-broadcast-join-with-example/#:%7E:text=Configuring%20PySpark%20Auto%20Broadcast%20join.&amp;text=This%20can%20be%20set%20up,depends%20on%20the%20executor%27s%20memory.&amp;text=The%20threshold%20value%20for%20broadcast,up%20its%20value%20as%20%2D1.\" rel=\"nofollow noreferrer\">More info..</a></p>\n"}],"owner":{"account_id":13773045,"reputation":717,"user_id":9939999,"display_name":"Raj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7389,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52057579,"answer_count":2,"score":2,"last_activity_date":1692017475,"creation_date":1535370371,"question_id":52038624,"body_markdown":"I am running a spark application on below configuration :\r\n\r\n**1 Master , 2 Worker nodes.**\r\n\r\n- Each worker has 88 Cores , hence total no. of cores 176\r\n    \r\n- Each worker has 502 GB memory , so total memory available is 1004 GB\r\n\r\nI am getting below exception while running the application  :\r\n\r\n    Exception in thread &quot;broadcast-exchange-0&quot; java.lang.OutOfMemoryError: Not enough memory to build and broadcast the table to all worker nodes. As a workaround, you can either disable broadcast by setting spark.sql.autoBroadcastJoinThreshold to -1 or increase the spark driver memory by setting spark.driver.memory to a higher value\r\n            at org.apache.spark.sql.execution.exchange.BroadcastExchangeExec$$anonfun$relationFuture$1$$anonfun$apply$1.apply(BroadcastExchangeExec.scala:115)\r\n            at org.apache.spark.sql.execution.exchange.BroadcastExchangeExec$$anonfun$relationFuture$1$$anonfun$apply$1.apply(BroadcastExchangeExec.scala:73)\r\n            at org.apache.spark.sql.execution.SQLExecution$.withExecutionId(SQLExecution.scala:97)\r\n            at org.apache.spark.sql.execution.exchange.BroadcastExchangeExec$$anonfun$relationFuture$1.apply(BroadcastExchangeExec.scala:72)\r\n            at org.apache.spark.sql.execution.exchange.BroadcastExchangeExec$$anonfun$relationFuture$1.apply(BroadcastExchangeExec.scala:72)\r\n            at scala.concurrent.impl.Future$PromiseCompletingRunnable.liftedTree1$1(Future.scala:24)\r\n            at scala.concurrent.impl.Future$PromiseCompletingRunnable.run(Future.scala:24)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n\r\nThere are **two** solutions mentioned in this error itself :\r\n\r\n 1. *As a workaround, you can either disable broadcast by setting\r\n    spark.sql.autoBroadcastJoinThreshold to -1.*\r\n\r\n     **OR**    \r\n\r\n 2. *Increase the spark driver memory by setting spark.driver.memory to a\r\n    higher value.*\r\n\r\nI am trying to run with setting more driver memory, however i want to understand the root cause of this issue. Can anyone please explain.\r\n\r\nI have used **Java** in my code.\r\n\r\n**EDIT 1**\r\n\r\nI am using **broadcast variables** in my code.\r\n\r\n**EDIT 2**\r\n\r\nAdding code that contains broadcast variables.\r\n\r\n\r\n    //1.\r\n    \t\tDataset&lt;Row&gt; currencySet1 = sparkSession.read().format(&quot;jdbc&quot;).option(&quot;url&quot;,connection ).option(&quot;dbtable&quot;, CI_CURRENCY_CD).load();\r\n    \t\tcurrencySetCache = currencySet1.select(CURRENCY_CD, DECIMAL_POSITIONS).persist(StorageLevel.MEMORY_ONLY());\r\n    \t\tDataset&lt;Row&gt; currencyCodes = currencySetCache.select(CURRENCY_CD);\r\n    \t\tcurrencySet = currencyCodes.as(Encoders.STRING()).collectAsList();\r\n    \r\n    \t\t//2.\r\n    \t\tDataset&lt;Row&gt;  divisionSet = sparkSession.read().format(&quot;jdbc&quot;).option(&quot;url&quot;,connection ).option(&quot;dbtable&quot;, CI_CIS_DIVISION).load();\r\n    \t\tdivisionSetCache = divisionSet.select(CIS_DIVISION).persist(StorageLevel.MEMORY_ONLY());\r\n    \t\tdivisionList = divisionSetCache.as(Encoders.STRING()).collectAsList();\r\n    \r\n    \t\t//3.\r\n    \t\tDataset&lt;Row&gt; userIdSet =  sparkSession.read().format(&quot;jdbc&quot;).option(&quot;url&quot;,connection ).option(&quot;dbtable&quot;, SC_USER).load();\r\n    \t\tuserIdSetCache = userIdSet.select(USER_ID).persist(StorageLevel.MEMORY_ONLY());\r\n    \t\tuserIdList = userIdSetCache.as(Encoders.STRING()).collectAsList();\r\n    \r\n    ClassTag&lt;List&lt;String&gt;&gt; evidenceForDivision = scala.reflect.ClassTag$.MODULE$.apply(List.class);\r\n    \t\tBroadcast&lt;List&lt;String&gt;&gt; broadcastVarForDiv = context.broadcast(divisionList, evidenceForDivision);\r\n    \r\n    \t\tClassTag&lt;List&lt;String&gt;&gt; evidenceForCurrency = scala.reflect.ClassTag$.MODULE$.apply(List.class);\r\n    \t\tBroadcast&lt;List&lt;String&gt;&gt; broadcastVarForCurrency = context.broadcast(currencySet, evidenceForCurrency);\r\n    \r\n    \t\tClassTag&lt;List&lt;String&gt;&gt; evidenceForUserID = scala.reflect.ClassTag$.MODULE$.apply(List.class);\r\n    \t\tBroadcast&lt;List&lt;String&gt;&gt; broadcastVarForUserID = context.broadcast(userIdList, evidenceForUserID);\r\n    \r\n    \r\n    \t\t//Validation -- Start\r\n    \t\tEncoder&lt;RuleParamsBean&gt; encoder = Encoders.bean(RuleParamsBean.class);\r\n    \t\tDataset&lt;RuleParamsBean&gt; ds = new Dataset&lt;RuleParamsBean&gt;(sparkSession, finalJoined.logicalPlan(), encoder);\r\n    \r\n    \r\n    \t\tDataset&lt;RuleParamsBean&gt; validateDataset = ds.map(ruleParamsBean -&gt; validateTransaction(ruleParamsBean,broadcastVarForDiv.value(),broadcastVarForCurrency.value(),\r\n    \t\t\t\tbroadcastVarForUserID.value()),encoder);\r\n    \t\tvalidateDataset.persist(StorageLevel.MEMORY_ONLY());","title":"Exception in thread &quot;broadcast-exchange-0&quot; java.lang.OutOfMemoryError: Not enough memory to build and broadcast the table to all worker nodes","body":"<p>I am running a spark application on below configuration :</p>\n\n<p><strong>1 Master , 2 Worker nodes.</strong></p>\n\n<ul>\n<li><p>Each worker has 88 Cores , hence total no. of cores 176</p></li>\n<li><p>Each worker has 502 GB memory , so total memory available is 1004 GB</p></li>\n</ul>\n\n<p>I am getting below exception while running the application  :</p>\n\n<pre><code>Exception in thread \"broadcast-exchange-0\" java.lang.OutOfMemoryError: Not enough memory to build and broadcast the table to all worker nodes. As a workaround, you can either disable broadcast by setting spark.sql.autoBroadcastJoinThreshold to -1 or increase the spark driver memory by setting spark.driver.memory to a higher value\n        at org.apache.spark.sql.execution.exchange.BroadcastExchangeExec$$anonfun$relationFuture$1$$anonfun$apply$1.apply(BroadcastExchangeExec.scala:115)\n        at org.apache.spark.sql.execution.exchange.BroadcastExchangeExec$$anonfun$relationFuture$1$$anonfun$apply$1.apply(BroadcastExchangeExec.scala:73)\n        at org.apache.spark.sql.execution.SQLExecution$.withExecutionId(SQLExecution.scala:97)\n        at org.apache.spark.sql.execution.exchange.BroadcastExchangeExec$$anonfun$relationFuture$1.apply(BroadcastExchangeExec.scala:72)\n        at org.apache.spark.sql.execution.exchange.BroadcastExchangeExec$$anonfun$relationFuture$1.apply(BroadcastExchangeExec.scala:72)\n        at scala.concurrent.impl.Future$PromiseCompletingRunnable.liftedTree1$1(Future.scala:24)\n        at scala.concurrent.impl.Future$PromiseCompletingRunnable.run(Future.scala:24)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>There are <strong>two</strong> solutions mentioned in this error itself :</p>\n\n<ol>\n<li><p><em>As a workaround, you can either disable broadcast by setting\nspark.sql.autoBroadcastJoinThreshold to -1.</em></p>\n\n<p><strong>OR</strong>    </p></li>\n<li><p><em>Increase the spark driver memory by setting spark.driver.memory to a\nhigher value.</em></p></li>\n</ol>\n\n<p>I am trying to run with setting more driver memory, however i want to understand the root cause of this issue. Can anyone please explain.</p>\n\n<p>I have used <strong>Java</strong> in my code.</p>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>I am using <strong>broadcast variables</strong> in my code.</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>Adding code that contains broadcast variables.</p>\n\n<pre><code>//1.\n        Dataset&lt;Row&gt; currencySet1 = sparkSession.read().format(\"jdbc\").option(\"url\",connection ).option(\"dbtable\", CI_CURRENCY_CD).load();\n        currencySetCache = currencySet1.select(CURRENCY_CD, DECIMAL_POSITIONS).persist(StorageLevel.MEMORY_ONLY());\n        Dataset&lt;Row&gt; currencyCodes = currencySetCache.select(CURRENCY_CD);\n        currencySet = currencyCodes.as(Encoders.STRING()).collectAsList();\n\n        //2.\n        Dataset&lt;Row&gt;  divisionSet = sparkSession.read().format(\"jdbc\").option(\"url\",connection ).option(\"dbtable\", CI_CIS_DIVISION).load();\n        divisionSetCache = divisionSet.select(CIS_DIVISION).persist(StorageLevel.MEMORY_ONLY());\n        divisionList = divisionSetCache.as(Encoders.STRING()).collectAsList();\n\n        //3.\n        Dataset&lt;Row&gt; userIdSet =  sparkSession.read().format(\"jdbc\").option(\"url\",connection ).option(\"dbtable\", SC_USER).load();\n        userIdSetCache = userIdSet.select(USER_ID).persist(StorageLevel.MEMORY_ONLY());\n        userIdList = userIdSetCache.as(Encoders.STRING()).collectAsList();\n\nClassTag&lt;List&lt;String&gt;&gt; evidenceForDivision = scala.reflect.ClassTag$.MODULE$.apply(List.class);\n        Broadcast&lt;List&lt;String&gt;&gt; broadcastVarForDiv = context.broadcast(divisionList, evidenceForDivision);\n\n        ClassTag&lt;List&lt;String&gt;&gt; evidenceForCurrency = scala.reflect.ClassTag$.MODULE$.apply(List.class);\n        Broadcast&lt;List&lt;String&gt;&gt; broadcastVarForCurrency = context.broadcast(currencySet, evidenceForCurrency);\n\n        ClassTag&lt;List&lt;String&gt;&gt; evidenceForUserID = scala.reflect.ClassTag$.MODULE$.apply(List.class);\n        Broadcast&lt;List&lt;String&gt;&gt; broadcastVarForUserID = context.broadcast(userIdList, evidenceForUserID);\n\n\n        //Validation -- Start\n        Encoder&lt;RuleParamsBean&gt; encoder = Encoders.bean(RuleParamsBean.class);\n        Dataset&lt;RuleParamsBean&gt; ds = new Dataset&lt;RuleParamsBean&gt;(sparkSession, finalJoined.logicalPlan(), encoder);\n\n\n        Dataset&lt;RuleParamsBean&gt; validateDataset = ds.map(ruleParamsBean -&gt; validateTransaction(ruleParamsBean,broadcastVarForDiv.value(),broadcastVarForCurrency.value(),\n                broadcastVarForUserID.value()),encoder);\n        validateDataset.persist(StorageLevel.MEMORY_ONLY());\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1553009466,"post_id":55244407,"comment_id":97222220,"body_markdown":"you want to deserialize to bytes or pojo?","body":"you want to deserialize to bytes or pojo?"},{"owner":{"account_id":15562403,"reputation":117,"user_id":11227198,"display_name":"Priya Tanwar"},"score":0,"creation_date":1553011308,"post_id":55244407,"comment_id":97223475,"body_markdown":"Initially, I was trying to deserialize it with POJO. But my consumer was not picking up messages. Any way is fine but apart from String it is not picking up the data","body":"Initially, I was trying to deserialize it with POJO. But my consumer was not picking up messages. Any way is fine but apart from String it is not picking up the data"},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1553011367,"post_id":55244407,"comment_id":97223512,"body_markdown":"Show that part i can help you out with that @PriyaTanwar","body":"Show that part i can help you out with that @PriyaTanwar"},{"owner":{"account_id":15562403,"reputation":117,"user_id":11227198,"display_name":"Priya Tanwar"},"score":0,"creation_date":1553011467,"post_id":55244407,"comment_id":97223570,"body_markdown":"@Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, PageViewEvent&gt; priceEventsKafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, PageViewEvent&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(priceEventConsumerFactory());\n        return factory;\n    }","body":"@Bean     public ConcurrentKafkaListenerContainerFactory&lt;String, PageViewEvent&gt; priceEventsKafkaListenerContainerFactory() {         ConcurrentKafkaListenerContainerFactory&lt;String, PageViewEvent&gt; factory =                 new ConcurrentKafkaListenerContainerFactory&lt;&gt;();         factory.setConsumerFactory(priceEventConsumerFactory());         return factory;     }"},{"owner":{"account_id":15562403,"reputation":117,"user_id":11227198,"display_name":"Priya Tanwar"},"score":0,"creation_date":1553011603,"post_id":55244407,"comment_id":97223677,"body_markdown":"This was my container factory and I was using String and Json Deserializer for key and value respectively. At the kafka listener end, I had below change : @KafkaListener(topics = &quot;test1&quot; , groupId = &quot;json&quot;, containerFactory = &quot;priceEventsKafkaListenerContainerFactory&quot;)\n    public void receive(@Payload PageViewEvent data,@Headers MessageHeaders headers) {}","body":"This was my container factory and I was using String and Json Deserializer for key and value respectively. At the kafka listener end, I had below change : @KafkaListener(topics = &quot;test1&quot; , groupId = &quot;json&quot;, containerFactory = &quot;priceEventsKafkaListenerContainerFactory&quot;)     public void receive(@Payload PageViewEvent data,@Headers MessageHeaders headers) {}"},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1553011661,"post_id":55244407,"comment_id":97223716,"body_markdown":"Please update this in the post, not in comments @PriyaTanwar","body":"Please update this in the post, not in comments @PriyaTanwar"},{"owner":{"account_id":15562403,"reputation":117,"user_id":11227198,"display_name":"Priya Tanwar"},"score":0,"creation_date":1553013636,"post_id":55244407,"comment_id":97224895,"body_markdown":"@Deadpool - updated in the post.","body":"@Deadpool - updated in the post."}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1553022894,"creation_date":1553022894,"answer_id":55248495,"question_id":55244407,"body_markdown":"You can deserialize the record from kfka into POJO, for versions &lt;2.2.x use the `MessageConverter` \r\n\r\n&gt;Starting with version 2.2, you can explicitly configure the deserializer to use the supplied target type and ignore type information in headers by using one of the overloaded constructors that have a boolean \r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String,PageViewEvent &gt; priceEventConsumerFactory() {\r\n\r\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;json&quot;);\r\n    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n    return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(PageViewEvent.class,false));\r\n\r\n    }\r\n\r\nOr by using `MessageConverter`\r\n\r\n     @Bean\r\n     public ConcurrentKafkaListenerContainerFactory&lt;String, Bytes&gt; kafkaListenerContainerFactory() {\r\n\r\n     ConcurrentKafkaListenerContainerFactory&lt;String, Bytes&gt; factory =\r\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n     factory.setConsumerFactory(consumerFactory());\r\n     factory.setMessageConverter(new StringJsonMessageConverter());\r\n     return factory;\r\n    }","title":"@KafkaListener is not consuming messages - issue with deserialization","body":"<p>You can deserialize the record from kfka into POJO, for versions &lt;2.2.x use the <code>MessageConverter</code> </p>\n\n<blockquote>\n  <p>Starting with version 2.2, you can explicitly configure the deserializer to use the supplied target type and ignore type information in headers by using one of the overloaded constructors that have a boolean </p>\n</blockquote>\n\n<pre><code>@Bean\npublic ConsumerFactory&lt;String,PageViewEvent &gt; priceEventConsumerFactory() {\n\nMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\nprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\nprops.put(ConsumerConfig.GROUP_ID_CONFIG, \"json\");\nprops.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"earliest\");\nreturn new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(PageViewEvent.class,false));\n\n}\n</code></pre>\n\n<p>Or by using <code>MessageConverter</code></p>\n\n<pre><code> @Bean\n public ConcurrentKafkaListenerContainerFactory&lt;String, Bytes&gt; kafkaListenerContainerFactory() {\n\n ConcurrentKafkaListenerContainerFactory&lt;String, Bytes&gt; factory =\n    new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n factory.setConsumerFactory(consumerFactory());\n factory.setMessageConverter(new StringJsonMessageConverter());\n return factory;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1493772,"reputation":61,"user_id":1400201,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597393601,"creation_date":1597393601,"answer_id":63409207,"question_id":55244407,"body_markdown":"Use `JsonDeserializer` of package `org.springframework.kafka.support.serializer`\r\n\r\nAlso have trust the json deserializer package `props.put(JsonDeserializer.TRUSTED_PACKAGES, &lt;package-name&gt;)`","title":"@KafkaListener is not consuming messages - issue with deserialization","body":"<p>Use <code>JsonDeserializer</code> of package <code>org.springframework.kafka.support.serializer</code></p>\n<p>Also have trust the json deserializer package <code>props.put(JsonDeserializer.TRUSTED_PACKAGES, &lt;package-name&gt;)</code></p>\n"},{"tags":[],"owner":{"account_id":7158503,"reputation":1,"user_id":5469974,"display_name":"Dmitry Illy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692017315,"creation_date":1692016662,"answer_id":76898987,"question_id":55244407,"body_markdown":"the same as to the previous answers this works, add it into application.properties:\r\n\r\n    spring.kafka.consumer.properties.spring.json.value.default.type=your.package.dto.yourDto\r\n    spring.kafka.consumer.properties.spring.json.use.type.headers=false","title":"@KafkaListener is not consuming messages - issue with deserialization","body":"<p>the same as to the previous answers this works, add it into application.properties:</p>\n<pre><code>spring.kafka.consumer.properties.spring.json.value.default.type=your.package.dto.yourDto\nspring.kafka.consumer.properties.spring.json.use.type.headers=false\n</code></pre>\n"}],"owner":{"account_id":15562403,"reputation":117,"user_id":11227198,"display_name":"Priya Tanwar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7920,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55248495,"answer_count":3,"score":3,"last_activity_date":1692017315,"creation_date":1553008749,"question_id":55244407,"body_markdown":"Message Producer using Kafka bindings of Spring cloud streams\r\n\r\n    @Component\r\n    public static class PageViewEventSource implements ApplicationRunner {\r\n\r\n\tprivate final MessageChannel pageViewsOut;\r\n\tprivate final Log log = LogFactory.getLog(getClass());\r\n\r\n\tpublic PageViewEventSource(AnalyticsBinding binding) {\r\n\t\tthis.pageViewsOut = binding.pageViewsOut();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(ApplicationArguments args) throws Exception {\r\n\t\tList&lt;String&gt; names = Arrays.asList(&quot;priya&quot;, &quot;dyser&quot;, &quot;Ray&quot;, &quot;Mark&quot;, &quot;Oman&quot;, &quot;Larry&quot;);\r\n\t\tList&lt;String&gt; pages = Arrays.asList(&quot;blog&quot;, &quot;facebook&quot;, &quot;instagram&quot;, &quot;news&quot;, &quot;youtube&quot;, &quot;about&quot;);\r\n\t\tRunnable runnable = () -&gt; {\r\n\t\t\tString rPage = pages.get(new Random().nextInt(pages.size()));\r\n\t\t\tString rName = pages.get(new Random().nextInt(names.size()));\r\n\t\t\tPageViewEvent pageViewEvent = new PageViewEvent(rName, rPage, Math.random() &gt; .5 ? 10 : 1000);\r\n\t\t\t\r\n\r\n\t\t\tSerializer&lt;PageViewEvent&gt; serializer = new JsonSerde&lt;&gt;(PageViewEvent.class).serializer();\r\n\t\t\tbyte[] m = serializer.serialize(null, pageViewEvent);\r\n\r\n\t\t\tMessage&lt;byte[]&gt; message =  MessageBuilder\r\n\t\t\t\t\t.withPayload(m).build();\r\n\t\t\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tthis.pageViewsOut.send(message);\r\n\t\t\t\tlog.info(&quot;sent &quot; + message);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlog.error(e);\r\n\t\t\t}\r\n\t\t};\r\n\t\tExecutors.newScheduledThreadPool(1).scheduleAtFixedRate(runnable, 1, 1, TimeUnit.SECONDS);\r\n\t}\r\n\r\n\r\nThis use below serialization\r\n\r\n &gt;spring.cloud.stream.kafka.streams.binder.configuration.default.key.serde=org.apache.kafka.common.serialization.Serdes$StringSerde\r\nspring.cloud.stream.kafka.streams.binder.configuration.default.value.serde=org.apache.kafka.common.serialization.Serdes$BytesSerde\r\n\r\n\r\nI am Trying to consume these messages in separate Consumer Application via Spring Kafka - KafkaListener\r\n\r\n    @Service\r\n    public class PriceEventConsumer {\r\n\r\n \r\n    private static final Logger LOG = LoggerFactory.getLogger(PriceEventConsumer.class);\r\n\r\n    @KafkaListener(topics = &quot;test1&quot; , groupId = &quot;json&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\n    public void receive(Bytes data){\r\n    //public void receive(@Payload PageViewEvent data,@Headers MessageHeaders headers) {\r\n        LOG.info(&quot;Message received&quot;);\r\n        LOG.info(&quot;received data=&#39;{}&#39;&quot;, data);\r\n\r\n        }\r\n\r\n\r\nContainer factory configuration \r\n\r\n\r\n\r\n     @Bean\r\n     public ConsumerFactory&lt;String, Bytes&gt; consumerFactory() {\r\n\r\n      Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n      props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n      props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\r\n      StringDeserializer.class);\r\n       props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, \r\n      BytesDeserializer.class);\r\n      props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;json&quot;);\r\n      props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n\r\n      return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n\r\n     }\r\n\r\n     @Bean\r\n     public ConcurrentKafkaListenerContainerFactory&lt;String, Bytes&gt; \r\n\r\n     kafkaListenerContainerFactory() {\r\n\r\n      ConcurrentKafkaListenerContainerFactory&lt;String, Bytes&gt; factory =\r\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n      factory.setConsumerFactory(consumerFactory());\r\n      return factory;\r\n     }\r\n\r\nWith this Configuration Consumer is not picking up the messages(Bytes). If I change Kafka listener to accept String then it gives me below exception :\r\n\r\n\r\n       @KafkaListener(topics = &quot;test1&quot; , groupId = &quot;json&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\n\r\n     public void receive(String data){\r\n\r\n        LOG.info(&quot;Message received&quot;);\r\n        LOG.info(&quot;received data=&#39;{}&#39;&quot;, data);\r\n\r\n        }\r\n\r\n **Caused by:**\r\n\r\n&gt;org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [org.apache.kafka.common.utils.Bytes] to [java.lang.String] for GenericMessage [payload={&quot;userId&quot;:&quot;facebook&quot;,&quot;page&quot;:&quot;about&quot;,&quot;duration&quot;:10}, headers={kafka_offset=4213, kafka_consumer=brave.kafka.clients.TracingConsumer@9a75f94, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=null, kafka_receivedPartitionId=0, kafka_receivedTopic=test1, kafka_receivedTimestamp=1553007593670}], failedMessage=GenericMessage [payload={&quot;userId&quot;:&quot;facebook&quot;,&quot;page&quot;:&quot;about&quot;,&quot;duration&quot;:10}, headers={kafka_offset=4213, kafka_consumer=brave.kafka.clients.TracingConsumer@9a75f94, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=null, kafka_receivedPartitionId=0, kafka_receivedTopic=test1, kafka_receivedTimestamp=1553007593670}]\r\n\t... 23 more\r\nCaused by: org.springframework.messaging.converter.MessageConversionException: Cannot convert from [org.apache.kafka.common.utils.Bytes] to [java.lang.String] for GenericMessage [payload={&quot;userId&quot;:&quot;facebook&quot;,&quot;page&quot;:&quot;about&quot;,&quot;duration&quot;:10}, headers={kafka_offset=4213, kafka_consumer=brave.kafka.clients.TracingConsumer@9a75f94, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=null, kafka_receivedPartitionId=0, kafka_receivedTopic=test1, kafka_receivedTimestamp=1553007593670}]\r\n\tat org.springframework.messaging.handler.annotation.support.PayloadArgumentResolver.resolveArgument(PayloadArgumentResolver.java:144) ~[spring-messaging-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:117) ~[spring-messaging-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147) ~[spring-messaging-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:116) ~[spring-messaging-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:48) ~[spring-kafka-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:283) ~[spring-kafka-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n\t... 22 more\r\n\r\nAny pointers will be very helpful.\r\n\r\n\r\nUpdating POJO Part\r\n\r\n\r\nPojo Part ——\r\n\r\n      @KafkaListener(topics = &quot;test1&quot; , groupId = &quot;json&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\n    \r\n      public void receive(@Payload PageViewEvent data,@Headers MessageHeaders headers) {\r\n        LOG.info(&quot;Message received&quot;);\r\n        LOG.info(&quot;received data=&#39;{}&#39;&quot;, data);\r\n\r\n       }\r\n\r\n\r\n\r\nContainer factory configuration \r\n\r\n     @Bean\r\n     public ConsumerFactory&lt;String,PageViewEvent &gt; priceEventConsumerFactory() {\r\n\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;json&quot;);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(PageViewEvent.class));\r\n\r\n\r\n\r\n    }\r\n\r\n        @Bean\r\n        public ConcurrentKafkaListenerContainerFactory&lt;String, PageViewEvent&gt; priceEventsKafkaListenerContainerFactory() {\r\n          ConcurrentKafkaListenerContainerFactory&lt;String, PageViewEvent&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n         factory.setConsumerFactory(priceEventConsumerFactory());\r\n         return factory;\r\n         }\r\n\r\n\r\nProducer -\r\n\r\n\r\n      @Override\r\n      public void run(ApplicationArguments args) throws Exception {\r\n\t  List&lt;String&gt; names = Arrays.asList(&quot;priya&quot;, &quot;dyser&quot;, &quot;Ray&quot;, &quot;Mark&quot;, &quot;Oman&quot;, &quot;Larry&quot;);\r\n\t   List&lt;String&gt; pages = Arrays.asList(&quot;blog&quot;, &quot;facebook&quot;, &quot;instagram&quot;, &quot;news&quot;, &quot;youtube&quot;, &quot;about&quot;);\r\n\t   Runnable runnable = () -&gt; {\r\n\t\tString rPage = pages.get(new Random().nextInt(pages.size()));\r\n\t\tString rName = pages.get(new Random().nextInt(names.size()));\r\n\t\tPageViewEvent pageViewEvent = new PageViewEvent(rName, rPage, Math.random() &gt; .5 ? 10 : 1000);\r\n\t\t\r\n\t\tMessage&lt;PageViewEvent&gt; message =  MessageBuilder\r\n\t\t\t\t.withPayload(pageViewEvent).build();\r\n\t\t\t\t\t\ttry {\r\n\t\t\tthis.pageViewsOut.send(message);\r\n\t\t\tlog.info(&quot;sent &quot; + message);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(e);\r\n\t\t}\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n","title":"@KafkaListener is not consuming messages - issue with deserialization","body":"<p>Message Producer using Kafka bindings of Spring cloud streams</p>\n\n<pre><code>@Component\npublic static class PageViewEventSource implements ApplicationRunner {\n\nprivate final MessageChannel pageViewsOut;\nprivate final Log log = LogFactory.getLog(getClass());\n\npublic PageViewEventSource(AnalyticsBinding binding) {\n    this.pageViewsOut = binding.pageViewsOut();\n}\n\n@Override\npublic void run(ApplicationArguments args) throws Exception {\n    List&lt;String&gt; names = Arrays.asList(\"priya\", \"dyser\", \"Ray\", \"Mark\", \"Oman\", \"Larry\");\n    List&lt;String&gt; pages = Arrays.asList(\"blog\", \"facebook\", \"instagram\", \"news\", \"youtube\", \"about\");\n    Runnable runnable = () -&gt; {\n        String rPage = pages.get(new Random().nextInt(pages.size()));\n        String rName = pages.get(new Random().nextInt(names.size()));\n        PageViewEvent pageViewEvent = new PageViewEvent(rName, rPage, Math.random() &gt; .5 ? 10 : 1000);\n\n\n        Serializer&lt;PageViewEvent&gt; serializer = new JsonSerde&lt;&gt;(PageViewEvent.class).serializer();\n        byte[] m = serializer.serialize(null, pageViewEvent);\n\n        Message&lt;byte[]&gt; message =  MessageBuilder\n                .withPayload(m).build();\n\n        try {\n            this.pageViewsOut.send(message);\n            log.info(\"sent \" + message);\n        } catch (Exception e) {\n            log.error(e);\n        }\n    };\n    Executors.newScheduledThreadPool(1).scheduleAtFixedRate(runnable, 1, 1, TimeUnit.SECONDS);\n}\n</code></pre>\n\n<p>This use below serialization</p>\n\n<blockquote>\n  <p>spring.cloud.stream.kafka.streams.binder.configuration.default.key.serde=org.apache.kafka.common.serialization.Serdes$StringSerde\n  spring.cloud.stream.kafka.streams.binder.configuration.default.value.serde=org.apache.kafka.common.serialization.Serdes$BytesSerde</p>\n</blockquote>\n\n<p>I am Trying to consume these messages in separate Consumer Application via Spring Kafka - KafkaListener</p>\n\n<pre><code>@Service\npublic class PriceEventConsumer {\n\n\nprivate static final Logger LOG = LoggerFactory.getLogger(PriceEventConsumer.class);\n\n@KafkaListener(topics = \"test1\" , groupId = \"json\", containerFactory = \"kafkaListenerContainerFactory\")\npublic void receive(Bytes data){\n//public void receive(@Payload PageViewEvent data,@Headers MessageHeaders headers) {\n    LOG.info(\"Message received\");\n    LOG.info(\"received data='{}'\", data);\n\n    }\n</code></pre>\n\n<p>Container factory configuration </p>\n\n<pre><code> @Bean\n public ConsumerFactory&lt;String, Bytes&gt; consumerFactory() {\n\n  Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n  props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\n  props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\n  StringDeserializer.class);\n   props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, \n  BytesDeserializer.class);\n  props.put(ConsumerConfig.GROUP_ID_CONFIG, \"json\");\n  props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"earliest\");\n\n  return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n\n }\n\n @Bean\n public ConcurrentKafkaListenerContainerFactory&lt;String, Bytes&gt; \n\n kafkaListenerContainerFactory() {\n\n  ConcurrentKafkaListenerContainerFactory&lt;String, Bytes&gt; factory =\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n  factory.setConsumerFactory(consumerFactory());\n  return factory;\n }\n</code></pre>\n\n<p>With this Configuration Consumer is not picking up the messages(Bytes). If I change Kafka listener to accept String then it gives me below exception :</p>\n\n<pre><code>   @KafkaListener(topics = \"test1\" , groupId = \"json\", containerFactory = \"kafkaListenerContainerFactory\")\n\n public void receive(String data){\n\n    LOG.info(\"Message received\");\n    LOG.info(\"received data='{}'\", data);\n\n    }\n</code></pre>\n\n<p><strong>Caused by:</strong></p>\n\n<blockquote>\n  <p>org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [org.apache.kafka.common.utils.Bytes] to [java.lang.String] for GenericMessage [payload={\"userId\":\"facebook\",\"page\":\"about\",\"duration\":10}, headers={kafka_offset=4213, kafka_consumer=brave.kafka.clients.TracingConsumer@9a75f94, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=null, kafka_receivedPartitionId=0, kafka_receivedTopic=test1, kafka_receivedTimestamp=1553007593670}], failedMessage=GenericMessage [payload={\"userId\":\"facebook\",\"page\":\"about\",\"duration\":10}, headers={kafka_offset=4213, kafka_consumer=brave.kafka.clients.TracingConsumer@9a75f94, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=null, kafka_receivedPartitionId=0, kafka_receivedTopic=test1, kafka_receivedTimestamp=1553007593670}]\n      ... 23 more\n  Caused by: org.springframework.messaging.converter.MessageConversionException: Cannot convert from [org.apache.kafka.common.utils.Bytes] to [java.lang.String] for GenericMessage [payload={\"userId\":\"facebook\",\"page\":\"about\",\"duration\":10}, headers={kafka_offset=4213, kafka_consumer=brave.kafka.clients.TracingConsumer@9a75f94, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=null, kafka_receivedPartitionId=0, kafka_receivedTopic=test1, kafka_receivedTimestamp=1553007593670}]\n      at org.springframework.messaging.handler.annotation.support.PayloadArgumentResolver.resolveArgument(PayloadArgumentResolver.java:144) ~[spring-messaging-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n      at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:117) ~[spring-messaging-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n      at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147) ~[spring-messaging-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n      at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:116) ~[spring-messaging-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n      at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:48) ~[spring-kafka-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n      at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:283) ~[spring-kafka-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n      ... 22 more</p>\n</blockquote>\n\n<p>Any pointers will be very helpful.</p>\n\n<p>Updating POJO Part</p>\n\n<p>Pojo Part ——</p>\n\n<pre><code>  @KafkaListener(topics = \"test1\" , groupId = \"json\", containerFactory = \"kafkaListenerContainerFactory\")\n\n  public void receive(@Payload PageViewEvent data,@Headers MessageHeaders headers) {\n    LOG.info(\"Message received\");\n    LOG.info(\"received data='{}'\", data);\n\n   }\n</code></pre>\n\n<p>Container factory configuration </p>\n\n<pre><code> @Bean\n public ConsumerFactory&lt;String,PageViewEvent &gt; priceEventConsumerFactory() {\n\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, \"json\");\n    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"earliest\");\n    return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(PageViewEvent.class));\n\n\n\n}\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, PageViewEvent&gt; priceEventsKafkaListenerContainerFactory() {\n      ConcurrentKafkaListenerContainerFactory&lt;String, PageViewEvent&gt; factory =\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n     factory.setConsumerFactory(priceEventConsumerFactory());\n     return factory;\n     }\n</code></pre>\n\n<p>Producer -</p>\n\n<pre><code>  @Override\n  public void run(ApplicationArguments args) throws Exception {\n  List&lt;String&gt; names = Arrays.asList(\"priya\", \"dyser\", \"Ray\", \"Mark\", \"Oman\", \"Larry\");\n   List&lt;String&gt; pages = Arrays.asList(\"blog\", \"facebook\", \"instagram\", \"news\", \"youtube\", \"about\");\n   Runnable runnable = () -&gt; {\n    String rPage = pages.get(new Random().nextInt(pages.size()));\n    String rName = pages.get(new Random().nextInt(names.size()));\n    PageViewEvent pageViewEvent = new PageViewEvent(rName, rPage, Math.random() &gt; .5 ? 10 : 1000);\n\n    Message&lt;PageViewEvent&gt; message =  MessageBuilder\n            .withPayload(pageViewEvent).build();\n                    try {\n        this.pageViewsOut.send(message);\n        log.info(\"sent \" + message);\n    } catch (Exception e) {\n        log.error(e);\n    }\n};\n</code></pre>\n"},{"tags":["java","while-loop","goto"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":3,"creation_date":1692013995,"post_id":76898675,"comment_id":135564020,"body_markdown":"Once `ab` is false there is nothing to make it true again.  The loop executes once only.","body":"Once <code>ab</code> is false there is nothing to make it true again.  The loop executes once only."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":3,"creation_date":1692014044,"post_id":76898675,"comment_id":135564033,"body_markdown":"Better variable names would make this code more readable.","body":"Better variable names would make this code more readable."}],"answers":[{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692017264,"creation_date":1692017264,"answer_id":76899051,"question_id":76898675,"body_markdown":"You forgot the curly brackets for your while loop `while(MO)`! this means that it will only execute the *first line* after the statement which is `while(MO==true) MO=false`. Here is the fixed code.\r\n```\r\nimport java.util.Objects;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tboolean MO=true;\r\n\r\n\t\twhile(MO==true) {\r\n\t\t\tMO=false;\r\n\t\tSystem.out.println(&quot;Please enter your operation&quot;);\r\n\t\tSystem.out.println(&quot;1 - Addition&quot;);\r\n\t\tSystem.out.println(&quot;2 - Subtraction&quot;);\r\n\t\tSystem.out.println(&quot;3 - Multiplication&quot;);\r\n\t\tSystem.out.println(&quot;4 - Division&quot;);\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tint op = scanner.nextInt();\r\n\t\tSystem.out.println(op);\r\n\t\tscanner.reset();\r\n\t\t// Addition\r\n\t\tif(op == 1) {\r\n\t\t\tSystem.out.println(&quot;Enter a starting value!&quot;);\r\n\t\t\tint as =   scanner.nextInt();\r\n\t\t\tscanner.reset();\r\n\r\n\t\t\tboolean ab = true;\r\n\t\t\twhile(ab) {\r\n\t\t\t\tab=false;\r\n\t\t\t\tSystem.out.println(&quot;Please enter a number to add or type &#39;End&#39; to end or &#39;Clear&#39; to reset or &#39;Restart&#39; to exit the mode&quot;);\r\n\t\t\t\tString an = scanner.next();\r\n\t\t\t\tif(Objects.equals(an, &quot;End&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;Quitting&quot;); }\r\n\t\t\t\telse if(Objects.equals(an,&quot;Clear&quot;)) {\r\n\t\t\t\t\tint  ae = 0;\r\n\t\t\t\t\tSystem.out.println(&quot;Cache clear!&quot;);\r\n\t\t\t\t\tab = true;} else if(Objects.equals(an,&quot;Restart&quot;)) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Restarting!&quot;);\r\n\t\t\t\t\t\tMO=true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tint ra = Integer.parseInt(an);\r\n\r\n\r\n\t\t\t\t\t\tint ae = as+ra;\r\n\t\t\t\t\t\tSystem.out.println(ae);\r\n\t\t\t\t\t\tas = ae;\r\n\t\t\t\t\t}}\r\n\t\t}}\r\n\t}\r\n}\r\n```\r\n","title":"How do you activate a line of code that happened before?","body":"<p>You forgot the curly brackets for your while loop <code>while(MO)</code>! this means that it will only execute the <em>first line</em> after the statement which is <code>while(MO==true) MO=false</code>. Here is the fixed code.</p>\n<pre><code>import java.util.Objects;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        boolean MO=true;\n\n        while(MO==true) {\n            MO=false;\n        System.out.println(&quot;Please enter your operation&quot;);\n        System.out.println(&quot;1 - Addition&quot;);\n        System.out.println(&quot;2 - Subtraction&quot;);\n        System.out.println(&quot;3 - Multiplication&quot;);\n        System.out.println(&quot;4 - Division&quot;);\n        Scanner scanner = new Scanner(System.in);\n        int op = scanner.nextInt();\n        System.out.println(op);\n        scanner.reset();\n        // Addition\n        if(op == 1) {\n            System.out.println(&quot;Enter a starting value!&quot;);\n            int as =   scanner.nextInt();\n            scanner.reset();\n\n            boolean ab = true;\n            while(ab) {\n                ab=false;\n                System.out.println(&quot;Please enter a number to add or type 'End' to end or 'Clear' to reset or 'Restart' to exit the mode&quot;);\n                String an = scanner.next();\n                if(Objects.equals(an, &quot;End&quot;)) {\n                    System.out.println(&quot;Quitting&quot;); }\n                else if(Objects.equals(an,&quot;Clear&quot;)) {\n                    int  ae = 0;\n                    System.out.println(&quot;Cache clear!&quot;);\n                    ab = true;} else if(Objects.equals(an,&quot;Restart&quot;)) {\n                        System.out.println(&quot;Restarting!&quot;);\n                        MO=true;\n                        break;\n                    }else {\n                        int ra = Integer.parseInt(an);\n\n\n                        int ae = as+ra;\n                        System.out.println(ae);\n                        as = ae;\n                    }}\n        }}\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29222434,"reputation":13,"user_id":22387906,"display_name":"ThunderCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76899051,"answer_count":1,"score":1,"last_activity_date":1692017264,"creation_date":1692013523,"question_id":76898675,"body_markdown":"I am new to Java coding and am practising by making a calculator. I want it so that when I type\r\nRestart it does the the operation selection part.\r\n```\r\nimport java.util.Objects;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        boolean MO=true;\r\n\r\nwhile(MO==true)\r\n    MO=false;\r\n        System.out.println(&quot;Please enter your operation&quot;);\r\n        System.out.println(&quot;1 - Addition&quot;);\r\n        System.out.println(&quot;2 - Subtraction&quot;);\r\n        System.out.println(&quot;3 - Multiplication&quot;);\r\n        System.out.println(&quot;4 - Division&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        int op = scanner.nextInt();\r\n        System.out.println(op);\r\n        scanner.reset();\r\n        // Addition\r\n        if(op == 1) {\r\n            System.out.println(&quot;Enter a starting value!&quot;);\r\n            int as =   scanner.nextInt();\r\n            scanner.reset();\r\n\r\n            boolean ab = true;\r\n            while(ab) {\r\n               ab=false;\r\n            System.out.println(&quot;Please enter a number to add or type &#39;End&#39; to end or &#39;Clear&#39; to reset or &#39;Restart&#39; to exit the mode&quot;);\r\n            String an = scanner.next();\r\n            if(Objects.equals(an, &quot;End&quot;)) {\r\n                System.out.println(&quot;Quitting&quot;); }\r\n            else if(Objects.equals(an,&quot;Clear&quot;)) {\r\n             int  ae = 0;\r\n                System.out.println(&quot;Cache clear!&quot;);\r\nab = true;} else if(Objects.equals(an,&quot;Restart&quot;)) {\r\n                System.out.println(&quot;Restarting!&quot;);\r\n                MO=true;\r\n                break;\r\n            }else {\r\n int ra = Integer.parseInt(an);\r\n\r\n\r\n               int ae = as+ra;\r\n                System.out.println(ae);\r\n                as = ae;\r\n            }}\r\n        }}\r\n```\r\n\r\n\r\nUsing a while(probably incorrectly) , expecting a success ,  but failure occurs ;(","title":"How do you activate a line of code that happened before?","body":"<p>I am new to Java coding and am practising by making a calculator. I want it so that when I type\nRestart it does the the operation selection part.</p>\n<pre><code>import java.util.Objects;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        boolean MO=true;\n\nwhile(MO==true)\n    MO=false;\n        System.out.println(&quot;Please enter your operation&quot;);\n        System.out.println(&quot;1 - Addition&quot;);\n        System.out.println(&quot;2 - Subtraction&quot;);\n        System.out.println(&quot;3 - Multiplication&quot;);\n        System.out.println(&quot;4 - Division&quot;);\n        Scanner scanner = new Scanner(System.in);\n        int op = scanner.nextInt();\n        System.out.println(op);\n        scanner.reset();\n        // Addition\n        if(op == 1) {\n            System.out.println(&quot;Enter a starting value!&quot;);\n            int as =   scanner.nextInt();\n            scanner.reset();\n\n            boolean ab = true;\n            while(ab) {\n               ab=false;\n            System.out.println(&quot;Please enter a number to add or type 'End' to end or 'Clear' to reset or 'Restart' to exit the mode&quot;);\n            String an = scanner.next();\n            if(Objects.equals(an, &quot;End&quot;)) {\n                System.out.println(&quot;Quitting&quot;); }\n            else if(Objects.equals(an,&quot;Clear&quot;)) {\n             int  ae = 0;\n                System.out.println(&quot;Cache clear!&quot;);\nab = true;} else if(Objects.equals(an,&quot;Restart&quot;)) {\n                System.out.println(&quot;Restarting!&quot;);\n                MO=true;\n                break;\n            }else {\n int ra = Integer.parseInt(an);\n\n\n               int ae = as+ra;\n                System.out.println(ae);\n                as = ae;\n            }}\n        }}\n</code></pre>\n<p>Using a while(probably incorrectly) , expecting a success ,  but failure occurs ;(</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1692013801,"creation_date":1692013801,"answer_id":76898702,"question_id":76898618,"body_markdown":"You may try to create a customer Mapper, something like:\r\n```java\r\npublic class CustomDeserializer extends JsonDeserializer&lt;BaseClass&gt; {\r\n    @Override\r\n    public BaseClass deserialize(JsonParser jp, DeserializationContext ctxt) \r\n      throws IOException, JsonProcessingException {\r\n        ObjectCodec oc = jp.getCodec();\r\n        JsonNode node = oc.readTree(jp);\r\n        String type = node.get(&quot;type&quot;).asText();\r\n        String id = node.get(&quot;id&quot;).asText();\r\n        \r\n        if (&quot;MyClass1&quot;.equals(type)) {\r\n            MyClass1 myClass1 = new MyClass1();\r\n            myClass1.id = id;\r\n            myClass1.type = type;\r\n            return myClass1;\r\n        } else if (&quot;MyClass2&quot;.equals(type)) {\r\n            MyClass2 myClass2 = new MyClass2();\r\n            myClass2.id = id;\r\n            myClass2.type = type;\r\n            return myClass2;\r\n        }\r\n        return null; // or throw an exception\r\n    }\r\n}\r\n```\r\n```java\r\npublic class SomeClass {\r\n    @JsonDeserialize(contentUsing = CustomDeserializer.class)\r\n    ArrayList&lt;BaseClass&gt; list;\r\n}\r\n```\r\n","title":"ObjectMapper create specific instance based on json value","body":"<p>You may try to create a customer Mapper, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomDeserializer extends JsonDeserializer&lt;BaseClass&gt; {\n    @Override\n    public BaseClass deserialize(JsonParser jp, DeserializationContext ctxt) \n      throws IOException, JsonProcessingException {\n        ObjectCodec oc = jp.getCodec();\n        JsonNode node = oc.readTree(jp);\n        String type = node.get(&quot;type&quot;).asText();\n        String id = node.get(&quot;id&quot;).asText();\n        \n        if (&quot;MyClass1&quot;.equals(type)) {\n            MyClass1 myClass1 = new MyClass1();\n            myClass1.id = id;\n            myClass1.type = type;\n            return myClass1;\n        } else if (&quot;MyClass2&quot;.equals(type)) {\n            MyClass2 myClass2 = new MyClass2();\n            myClass2.id = id;\n            myClass2.type = type;\n            return myClass2;\n        }\n        return null; // or throw an exception\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeClass {\n    @JsonDeserialize(contentUsing = CustomDeserializer.class)\n    ArrayList&lt;BaseClass&gt; list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692014599,"creation_date":1692014599,"answer_id":76898793,"question_id":76898618,"body_markdown":"You can make this happen simply using Jackson annotations:\r\n\r\n```\r\n@JsonTypeInfo(use = NAME, property = &quot;type&quot;)\r\n@JsonSubTypes(\r\n  @Type(MyClass1.class, name = &quot;MyClass1&quot;),\r\n  @Type(MyClass2.class, name = &quot;MyClass2&quot;)\r\n)\r\npublic class BaseClass {\r\n  String id;\r\n}\r\n```\r\n\r\nYou may also want to look into other values for [`use`](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonTypeInfo.Id.html), such as `CLASS` or `MINIMAL_CLASS`.","title":"ObjectMapper create specific instance based on json value","body":"<p>You can make this happen simply using Jackson annotations:</p>\n<pre><code>@JsonTypeInfo(use = NAME, property = &quot;type&quot;)\n@JsonSubTypes(\n  @Type(MyClass1.class, name = &quot;MyClass1&quot;),\n  @Type(MyClass2.class, name = &quot;MyClass2&quot;)\n)\npublic class BaseClass {\n  String id;\n}\n</code></pre>\n<p>You may also want to look into other values for <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonTypeInfo.Id.html\" rel=\"nofollow noreferrer\"><code>use</code></a>, such as <code>CLASS</code> or <code>MINIMAL_CLASS</code>.</p>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692016582,"creation_date":1692016582,"answer_id":76898977,"question_id":76898618,"body_markdown":"See [jackson polymorphic type handling annotations](https://www.baeldung.com/jackson-annotations#bd-jackson-polymorphic-type-handling-annotations)\r\n\r\nYou should be able to do something like\r\n\r\n```java\r\n@JsonTypeInfo(\r\n   use = JsonTypeInfo.Id.NAME, \r\n   include = As.PROPERTY, \r\n   property = &quot;type&quot;\r\n)\r\n@JsonSubTypes({\r\n   @JsonSubTypes.Type(value = MyClass1.class, name = &quot;MyClass1&quot;),\r\n   @JsonSubTypes.Type(value = MyClass2.class, name = &quot;MyClass2&quot;)\r\n})\r\npublic class BaseClass {\r\n    String id;\r\n    String type;\r\n}\r\n```","title":"ObjectMapper create specific instance based on json value","body":"<p>See <a href=\"https://www.baeldung.com/jackson-annotations#bd-jackson-polymorphic-type-handling-annotations\" rel=\"nofollow noreferrer\">jackson polymorphic type handling annotations</a></p>\n<p>You should be able to do something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(\n   use = JsonTypeInfo.Id.NAME, \n   include = As.PROPERTY, \n   property = &quot;type&quot;\n)\n@JsonSubTypes({\n   @JsonSubTypes.Type(value = MyClass1.class, name = &quot;MyClass1&quot;),\n   @JsonSubTypes.Type(value = MyClass2.class, name = &quot;MyClass2&quot;)\n})\npublic class BaseClass {\n    String id;\n    String type;\n}\n</code></pre>\n"}],"owner":{"account_id":11479182,"reputation":303,"user_id":8430810,"display_name":"Bitlejuce Do"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692023746,"accepted_answer_id":76898977,"answer_count":3,"score":0,"last_activity_date":1692016901,"creation_date":1692013066,"question_id":76898618,"body_markdown":"I&#39;m trying to use ObjectMapper to deserialize json but got some problem. Probably what I want is not possible with ObjectMapper but I will ask anyway for a good approach. Let&#39; say I have a class with the list of objects like this:\r\n\r\n    public class SomeClass {\r\n    \r\n        ArrayList&lt;BaseClass&gt; list;\r\n    }\r\n    public class BaseClass {\r\n        String id;\r\n        String type;\r\n    }\r\n    public class MyClass1 extends BaseClass{\r\n    \r\n    }\r\n    public class MyClass2 extends BaseClass{\r\n    \r\n    }\r\nAnd a json like this:\r\n\r\n    {\r\n        &quot;list&quot;: [\r\n          {\r\n            &quot;id&quot;: &quot;1&quot;,\r\n            &quot;type&quot;: &quot;MyClass1&quot;,\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;2&quot;,\r\n            &quot;type&quot;: &quot;MyClass2&quot;,\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;3&quot;,\r\n            &quot;type&quot;: &quot;MyClass1&quot;,\r\n          }\r\n        ]\r\n    }\r\n\r\nThe question is how to tell ObjectMapper to create and put to the list not a `BaseClass` objects but `MyClass1, MyClass2...` objects depends on the value of &quot;type&quot;? Is that possible?","title":"ObjectMapper create specific instance based on json value","body":"<p>I'm trying to use ObjectMapper to deserialize json but got some problem. Probably what I want is not possible with ObjectMapper but I will ask anyway for a good approach. Let' say I have a class with the list of objects like this:</p>\n<pre><code>public class SomeClass {\n\n    ArrayList&lt;BaseClass&gt; list;\n}\npublic class BaseClass {\n    String id;\n    String type;\n}\npublic class MyClass1 extends BaseClass{\n\n}\npublic class MyClass2 extends BaseClass{\n\n}\n</code></pre>\n<p>And a json like this:</p>\n<pre><code>{\n    &quot;list&quot;: [\n      {\n        &quot;id&quot;: &quot;1&quot;,\n        &quot;type&quot;: &quot;MyClass1&quot;,\n      },\n      {\n        &quot;id&quot;: &quot;2&quot;,\n        &quot;type&quot;: &quot;MyClass2&quot;,\n      },\n      {\n        &quot;id&quot;: &quot;3&quot;,\n        &quot;type&quot;: &quot;MyClass1&quot;,\n      }\n    ]\n}\n</code></pre>\n<p>The question is how to tell ObjectMapper to create and put to the list not a <code>BaseClass</code> objects but <code>MyClass1, MyClass2...</code> objects depends on the value of &quot;type&quot;? Is that possible?</p>\n"},{"tags":["java","json","spring","jackson"],"comments":[{"owner":{"account_id":2077587,"reputation":388,"user_id":1850484,"accept_rate":90,"display_name":"user1850484"},"score":0,"creation_date":1691945994,"post_id":76894305,"comment_id":135556409,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":12370469,"reputation":11,"user_id":9020906,"display_name":"Browbeat"},"score":0,"creation_date":1691946098,"post_id":76894305,"comment_id":135556431,"body_markdown":"As I wrote in my question: I am looking for code improvements to improve the performance or simpler ways of achieving what my code achieves. Formulated as a question: &quot;How can I make this code quicker or use utilities of Jackson to make it cleaner?&quot;","body":"As I wrote in my question: I am looking for code improvements to improve the performance or simpler ways of achieving what my code achieves. Formulated as a question: &quot;How can I make this code quicker or use utilities of Jackson to make it cleaner?&quot;"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1692017944,"post_id":76894305,"comment_id":135564781,"body_markdown":"What is your performance requirements? I think your code is logical and orderly and it appears you&#39;re doing the best you know how to do.","body":"What is your performance requirements? I think your code is logical and orderly and it appears you&#39;re doing the best you know how to do."},{"owner":{"account_id":12370469,"reputation":11,"user_id":9020906,"display_name":"Browbeat"},"score":0,"creation_date":1692021266,"post_id":76894305,"comment_id":135565576,"body_markdown":"I don&#39;t really like the fact though that I use mapper.treeToValue(mapper.valueToTree(object)) over and over again. I wonder if there is a better way of only decoding the top level of the JSONNode, while leaving the deeper nested tree intact as JSONNodes that I can pass on to the recursive call.\nI feel like this is just too slow considering that I want to store arbitrary JSON content this way and that this deserializer gets called, for example, everytime someone wants to read any news article and for all news articles that I decide to load at the initial page load at that.","body":"I don&#39;t really like the fact though that I use mapper.treeToValue(mapper.valueToTree(object)) over and over again. I wonder if there is a better way of only decoding the top level of the JSONNode, while leaving the deeper nested tree intact as JSONNodes that I can pass on to the recursive call. I feel like this is just too slow considering that I want to store arbitrary JSON content this way and that this deserializer gets called, for example, everytime someone wants to read any news article and for all news articles that I decide to load at the initial page load at that."}],"owner":{"account_id":12370469,"reputation":11,"user_id":9020906,"display_name":"Browbeat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692016679,"creation_date":1691944520,"question_id":76894305,"body_markdown":"I am currently writing a backend in Spring for an extensible, at least somewhat modular, small-scale custom CMS for a gaming community. This requires me to store various information, like installed modules and their configurations or module content, in the database as JSON strings. (NoSQL is unfortunetaly not an option and I was asked to do it in Java, hence my choice of Spring.)\r\n\r\nFor this to work, I need to be able to store nested Maps of the type &lt;String, Object&gt; inside the database in JSON format. The serialization also is relatively easy, the problem was the deserialization and regularly getting LinkedHashMaps as default fallback from Jackson thrown at me.\r\n\r\nSo now after I wrote the code to make it all work, I need ideas for improving the performance or, better yet, other and simpler ways of achieving the same thing, since this is a very hacky solution I came up with so far, since I am still a Jackson newb.\r\n\r\nIn short:\r\nHow can I make the following code quicker or use Jackson utilities to make it cleaner and yet still achieve the same?\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ObjectWrapper {\r\n    private String clazz;\r\n    private Object value;\r\n}\r\n```\r\n\r\n```java\r\n@Log4j2\r\npublic class CustomHashMapJsonConverter implements AttributeConverter&lt;HashMap&lt;String, Object&gt;, String&gt; {\r\n\r\n    private static ObjectMapper objectMapper = getDefaultObjectMapper();\r\n\r\n    private static ObjectMapper getDefaultObjectMapper() {\r\n        ObjectMapper defaultObjectMapper = new ObjectMapper();\r\n        defaultObjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        return defaultObjectMapper;\r\n    }\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(HashMap&lt;String, Object&gt; attributeMap) {\r\n        String jsonResult = null;\r\n        ObjectWrapper topLevelWrapper = wrapMapAndContents(attributeMap);\r\n        ObjectWriter objectWriter = objectMapper.writer();\r\n        objectWriter = objectWriter.with(SerializationFeature.INDENT_OUTPUT);\r\n        try {\r\n            jsonResult = objectWriter.writeValueAsString(objectMapper.valueToTree(topLevelWrapper));\r\n        } catch (JsonProcessingException | IllegalArgumentException e) {\r\n            log.error(&quot;Error while serializing a map: &quot;, e);\r\n        }\r\n        return jsonResult;\r\n    }\r\n\r\n    @Override\r\n    public HashMap&lt;String, Object&gt; convertToEntityAttribute(String dbJsonData) {\r\n\r\n        HashMap&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\r\n\r\n        SimpleModule module = new SimpleModule();\r\n        module.addDeserializer(ObjectWrapper.class, new CustomHashMapJsonDeserializer());\r\n        objectMapper.registerModule(module);\r\n\r\n        try {\r\n            ObjectWrapper topLevelWrapper = objectMapper.readValue(dbJsonData, ObjectWrapper.class);\r\n            resultMap = (HashMap&lt;String, Object&gt;) unwrapObjectWrapperContent(topLevelWrapper);\r\n        } catch (JsonProcessingException | ClassNotFoundException | InstantiationException | IllegalAccessException\r\n                | IllegalArgumentException | InvocationTargetException | NoSuchMethodException | SecurityException e) {\r\n            log.error(&quot;Error while deserializing a retrieved JSON from the DB: &quot;, e);\r\n        }\r\n\r\n        return resultMap;\r\n    }\r\n\r\n    public ObjectWrapper wrapMapAndContents(Map&lt;String, Object&gt; map) {\r\n        HashMap&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\r\n        for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n            if (entry.getValue() instanceof Map) {\r\n                resultMap.put(entry.getKey(), wrapMapAndContents((Map&lt;String, Object&gt;) entry.getValue()));\r\n            } else if (entry.getValue() instanceof List) {\r\n                resultMap.put(entry.getKey(), wrapListAndContents((List&lt;Object&gt;) entry.getValue()));\r\n            } else {\r\n                resultMap.put(entry.getKey(), wrapObject(entry.getValue()));\r\n            }\r\n        }\r\n        return wrapObject(resultMap);\r\n    }\r\n\r\n    public ObjectWrapper wrapListAndContents(List&lt;Object&gt; list) {\r\n        ArrayList&lt;Object&gt; resultList = new ArrayList&lt;&gt;();\r\n        for (Object listObject : list) {\r\n            if (listObject instanceof Map) {\r\n                resultList.add(wrapMapAndContents((Map&lt;String, Object&gt;) listObject));\r\n            } else if (listObject instanceof List) {\r\n                resultList.add(wrapListAndContents((List&lt;Object&gt;) listObject));\r\n            } else {\r\n                resultList.add(wrapObject(listObject));\r\n            }\r\n        }\r\n        return wrapObject(resultList);\r\n    }\r\n\r\n    public ObjectWrapper wrapObject(Object object) {\r\n        return new ObjectWrapper(object.getClass().toString().split(&quot; &quot;)[1], object);\r\n    }\r\n\r\n    public Object unwrapObjectWrapperContent(ObjectWrapper topLevelWrapper)\r\n            throws ClassNotFoundException, InstantiationException, IllegalAccessException, IllegalArgumentException,\r\n            InvocationTargetException, NoSuchMethodException, SecurityException {\r\n        Object topLevelObject = Class.forName(topLevelWrapper.getClazz()).cast(topLevelWrapper.getValue());\r\n        if (topLevelObject instanceof Map) {\r\n            Map&lt;String, ObjectWrapper&gt; topLevelMap = (Map&lt;String, ObjectWrapper&gt;) topLevelObject;\r\n            Map&lt;String, Object&gt; newMap = (Map&lt;String, Object&gt;) Class.forName(topLevelWrapper.getClazz())\r\n                    .getDeclaredConstructor().newInstance();\r\n            for (Map.Entry&lt;String, ObjectWrapper&gt; entry : topLevelMap.entrySet()) {\r\n                newMap.put(entry.getKey(), unwrapObjectWrapperContent(entry.getValue()));\r\n            }\r\n            topLevelObject = newMap;\r\n        } else if (topLevelObject instanceof List) {\r\n            List&lt;ObjectWrapper&gt; listOfObjectWrappers = (List&lt;ObjectWrapper&gt;) topLevelObject;\r\n            List&lt;Object&gt; newList = (List&lt;Object&gt;) Class.forName(topLevelWrapper.getClazz())\r\n                    .getDeclaredConstructor().newInstance();\r\n            for (ObjectWrapper objectWrapper : listOfObjectWrappers) {\r\n                newList.add(unwrapObjectWrapperContent(objectWrapper));\r\n            }\r\n            topLevelObject = newList;\r\n        }\r\n        return topLevelObject;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Log4j2\r\npublic class CustomHashMapJsonDeserializer extends JsonDeserializer&lt;ObjectWrapper&gt; {\r\n\r\n    private final ObjectMapper objectMapper = getDefaultObjectMapper();\r\n\r\n    private static ObjectMapper getDefaultObjectMapper() {\r\n        ObjectMapper defaultObjectMapper = new ObjectMapper();\r\n        defaultObjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        return defaultObjectMapper;\r\n    }\r\n\r\n    @Override\r\n    public ObjectWrapper deserialize(JsonParser p, DeserializationContext ctxt)\r\n            throws IOException, JacksonException {\r\n        JsonNode node = p.getCodec().readTree(p);\r\n        return convertNode(node);\r\n    }\r\n\r\n    private ObjectWrapper convertNode(JsonNode node)\r\n            throws IOException, IllegalArgumentException {\r\n        ObjectWrapper topLevelWrapper = objectMapper.readValue(objectMapper.treeAsTokens(node), ObjectWrapper.class);\r\n        try {\r\n            // TODO: Ugly workaround with mapper.treeToValue(mapper.valueToTree(object)) to\r\n            // get back the JsonNode in order to properly deserialize the objects into their\r\n            // respective types\r\n            topLevelWrapper.setValue(objectMapper.treeToValue(objectMapper.valueToTree(topLevelWrapper.getValue()),\r\n                    Class.forName(topLevelWrapper.getClazz())));\r\n            if (topLevelWrapper.getValue() instanceof Map) {\r\n                Map&lt;String, Object&gt; mapObject = (Map&lt;String, Object&gt;) topLevelWrapper.getValue();\r\n                for (Map.Entry&lt;String, Object&gt; entry : mapObject.entrySet()) {\r\n                    // TODO: Ugly workaround with mapper.valueToTree(object) to get back the\r\n                    // JsonNode in order to properly deserialize the objects into their respective\r\n                    // types\r\n                    mapObject.put(entry.getKey(), convertNode(objectMapper.valueToTree(entry.getValue())));\r\n                }\r\n                topLevelWrapper.setValue(mapObject);\r\n            } else if (topLevelWrapper.getValue() instanceof List) {\r\n                List&lt;Object&gt; listObject = (List&lt;Object&gt;) topLevelWrapper.getValue();\r\n                List&lt;Object&gt; listObjectCopy = (List&lt;Object&gt;) Class.forName(topLevelWrapper.getClazz())\r\n                        .getDeclaredConstructor().newInstance();\r\n                for (Object objectInList : listObject) {\r\n                    // TODO: Ugly workaround with mapper.valueToTree(object) to get back the\r\n                    // JsonNode in order to properly deserialize the objects into their respective\r\n                    // types\r\n                    listObjectCopy.add(convertNode(objectMapper.valueToTree(objectInList)));\r\n                }\r\n                topLevelWrapper.setValue(listObjectCopy);\r\n                listObject = null;\r\n            }\r\n            // TODO: Too many damn exceptions... Isn&#39;t there a way how I can do all this\r\n            // without so many possible Exceptions being thrown?\r\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | InvocationTargetException\r\n                | NoSuchMethodException | SecurityException e) {\r\n            log.error(&quot;Error while deserializing JSON: &quot;, e);\r\n        }\r\n        return topLevelWrapper;\r\n    }\r\n}\r\n```\r\n","title":"Looking for code improvements for Jackson serialization and deserialization of complex nested structures","body":"<p>I am currently writing a backend in Spring for an extensible, at least somewhat modular, small-scale custom CMS for a gaming community. This requires me to store various information, like installed modules and their configurations or module content, in the database as JSON strings. (NoSQL is unfortunetaly not an option and I was asked to do it in Java, hence my choice of Spring.)</p>\n<p>For this to work, I need to be able to store nested Maps of the type &lt;String, Object&gt; inside the database in JSON format. The serialization also is relatively easy, the problem was the deserialization and regularly getting LinkedHashMaps as default fallback from Jackson thrown at me.</p>\n<p>So now after I wrote the code to make it all work, I need ideas for improving the performance or, better yet, other and simpler ways of achieving the same thing, since this is a very hacky solution I came up with so far, since I am still a Jackson newb.</p>\n<p>In short:\nHow can I make the following code quicker or use Jackson utilities to make it cleaner and yet still achieve the same?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ObjectWrapper {\n    private String clazz;\n    private Object value;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Log4j2\npublic class CustomHashMapJsonConverter implements AttributeConverter&lt;HashMap&lt;String, Object&gt;, String&gt; {\n\n    private static ObjectMapper objectMapper = getDefaultObjectMapper();\n\n    private static ObjectMapper getDefaultObjectMapper() {\n        ObjectMapper defaultObjectMapper = new ObjectMapper();\n        defaultObjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        return defaultObjectMapper;\n    }\n\n    @Override\n    public String convertToDatabaseColumn(HashMap&lt;String, Object&gt; attributeMap) {\n        String jsonResult = null;\n        ObjectWrapper topLevelWrapper = wrapMapAndContents(attributeMap);\n        ObjectWriter objectWriter = objectMapper.writer();\n        objectWriter = objectWriter.with(SerializationFeature.INDENT_OUTPUT);\n        try {\n            jsonResult = objectWriter.writeValueAsString(objectMapper.valueToTree(topLevelWrapper));\n        } catch (JsonProcessingException | IllegalArgumentException e) {\n            log.error(&quot;Error while serializing a map: &quot;, e);\n        }\n        return jsonResult;\n    }\n\n    @Override\n    public HashMap&lt;String, Object&gt; convertToEntityAttribute(String dbJsonData) {\n\n        HashMap&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\n\n        SimpleModule module = new SimpleModule();\n        module.addDeserializer(ObjectWrapper.class, new CustomHashMapJsonDeserializer());\n        objectMapper.registerModule(module);\n\n        try {\n            ObjectWrapper topLevelWrapper = objectMapper.readValue(dbJsonData, ObjectWrapper.class);\n            resultMap = (HashMap&lt;String, Object&gt;) unwrapObjectWrapperContent(topLevelWrapper);\n        } catch (JsonProcessingException | ClassNotFoundException | InstantiationException | IllegalAccessException\n                | IllegalArgumentException | InvocationTargetException | NoSuchMethodException | SecurityException e) {\n            log.error(&quot;Error while deserializing a retrieved JSON from the DB: &quot;, e);\n        }\n\n        return resultMap;\n    }\n\n    public ObjectWrapper wrapMapAndContents(Map&lt;String, Object&gt; map) {\n        HashMap&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\n        for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n            if (entry.getValue() instanceof Map) {\n                resultMap.put(entry.getKey(), wrapMapAndContents((Map&lt;String, Object&gt;) entry.getValue()));\n            } else if (entry.getValue() instanceof List) {\n                resultMap.put(entry.getKey(), wrapListAndContents((List&lt;Object&gt;) entry.getValue()));\n            } else {\n                resultMap.put(entry.getKey(), wrapObject(entry.getValue()));\n            }\n        }\n        return wrapObject(resultMap);\n    }\n\n    public ObjectWrapper wrapListAndContents(List&lt;Object&gt; list) {\n        ArrayList&lt;Object&gt; resultList = new ArrayList&lt;&gt;();\n        for (Object listObject : list) {\n            if (listObject instanceof Map) {\n                resultList.add(wrapMapAndContents((Map&lt;String, Object&gt;) listObject));\n            } else if (listObject instanceof List) {\n                resultList.add(wrapListAndContents((List&lt;Object&gt;) listObject));\n            } else {\n                resultList.add(wrapObject(listObject));\n            }\n        }\n        return wrapObject(resultList);\n    }\n\n    public ObjectWrapper wrapObject(Object object) {\n        return new ObjectWrapper(object.getClass().toString().split(&quot; &quot;)[1], object);\n    }\n\n    public Object unwrapObjectWrapperContent(ObjectWrapper topLevelWrapper)\n            throws ClassNotFoundException, InstantiationException, IllegalAccessException, IllegalArgumentException,\n            InvocationTargetException, NoSuchMethodException, SecurityException {\n        Object topLevelObject = Class.forName(topLevelWrapper.getClazz()).cast(topLevelWrapper.getValue());\n        if (topLevelObject instanceof Map) {\n            Map&lt;String, ObjectWrapper&gt; topLevelMap = (Map&lt;String, ObjectWrapper&gt;) topLevelObject;\n            Map&lt;String, Object&gt; newMap = (Map&lt;String, Object&gt;) Class.forName(topLevelWrapper.getClazz())\n                    .getDeclaredConstructor().newInstance();\n            for (Map.Entry&lt;String, ObjectWrapper&gt; entry : topLevelMap.entrySet()) {\n                newMap.put(entry.getKey(), unwrapObjectWrapperContent(entry.getValue()));\n            }\n            topLevelObject = newMap;\n        } else if (topLevelObject instanceof List) {\n            List&lt;ObjectWrapper&gt; listOfObjectWrappers = (List&lt;ObjectWrapper&gt;) topLevelObject;\n            List&lt;Object&gt; newList = (List&lt;Object&gt;) Class.forName(topLevelWrapper.getClazz())\n                    .getDeclaredConstructor().newInstance();\n            for (ObjectWrapper objectWrapper : listOfObjectWrappers) {\n                newList.add(unwrapObjectWrapperContent(objectWrapper));\n            }\n            topLevelObject = newList;\n        }\n        return topLevelObject;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Log4j2\npublic class CustomHashMapJsonDeserializer extends JsonDeserializer&lt;ObjectWrapper&gt; {\n\n    private final ObjectMapper objectMapper = getDefaultObjectMapper();\n\n    private static ObjectMapper getDefaultObjectMapper() {\n        ObjectMapper defaultObjectMapper = new ObjectMapper();\n        defaultObjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        return defaultObjectMapper;\n    }\n\n    @Override\n    public ObjectWrapper deserialize(JsonParser p, DeserializationContext ctxt)\n            throws IOException, JacksonException {\n        JsonNode node = p.getCodec().readTree(p);\n        return convertNode(node);\n    }\n\n    private ObjectWrapper convertNode(JsonNode node)\n            throws IOException, IllegalArgumentException {\n        ObjectWrapper topLevelWrapper = objectMapper.readValue(objectMapper.treeAsTokens(node), ObjectWrapper.class);\n        try {\n            // TODO: Ugly workaround with mapper.treeToValue(mapper.valueToTree(object)) to\n            // get back the JsonNode in order to properly deserialize the objects into their\n            // respective types\n            topLevelWrapper.setValue(objectMapper.treeToValue(objectMapper.valueToTree(topLevelWrapper.getValue()),\n                    Class.forName(topLevelWrapper.getClazz())));\n            if (topLevelWrapper.getValue() instanceof Map) {\n                Map&lt;String, Object&gt; mapObject = (Map&lt;String, Object&gt;) topLevelWrapper.getValue();\n                for (Map.Entry&lt;String, Object&gt; entry : mapObject.entrySet()) {\n                    // TODO: Ugly workaround with mapper.valueToTree(object) to get back the\n                    // JsonNode in order to properly deserialize the objects into their respective\n                    // types\n                    mapObject.put(entry.getKey(), convertNode(objectMapper.valueToTree(entry.getValue())));\n                }\n                topLevelWrapper.setValue(mapObject);\n            } else if (topLevelWrapper.getValue() instanceof List) {\n                List&lt;Object&gt; listObject = (List&lt;Object&gt;) topLevelWrapper.getValue();\n                List&lt;Object&gt; listObjectCopy = (List&lt;Object&gt;) Class.forName(topLevelWrapper.getClazz())\n                        .getDeclaredConstructor().newInstance();\n                for (Object objectInList : listObject) {\n                    // TODO: Ugly workaround with mapper.valueToTree(object) to get back the\n                    // JsonNode in order to properly deserialize the objects into their respective\n                    // types\n                    listObjectCopy.add(convertNode(objectMapper.valueToTree(objectInList)));\n                }\n                topLevelWrapper.setValue(listObjectCopy);\n                listObject = null;\n            }\n            // TODO: Too many damn exceptions... Isn't there a way how I can do all this\n            // without so many possible Exceptions being thrown?\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | InvocationTargetException\n                | NoSuchMethodException | SecurityException e) {\n            log.error(&quot;Error while deserializing JSON: &quot;, e);\n        }\n        return topLevelWrapper;\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","cpu-usage"],"answers":[{"tags":[],"owner":{"account_id":31944,"reputation":482,"user_id":88086,"display_name":"Gadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239885545,"creation_date":1239885545,"answer_id":755936,"question_id":755899,"body_markdown":"Though this is platform dependent, I believe what you&#39;re looking for is the ThreadMXBean: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/management/ThreadMXBean.html . You can use the getThreadUserTime method, for example, to get what you need. To check if your platform supports CPU measurement, you can call isThreadCpuTimeSupported() .","title":"`Monitor cpu usage per thread in java?","body":"<p>Though this is platform dependent, I believe what you're looking for is the ThreadMXBean: <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/management/ThreadMXBean.html\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/lang/management/ThreadMXBean.html</a> . You can use the getThreadUserTime method, for example, to get what you need. To check if your platform supports CPU measurement, you can call isThreadCpuTimeSupported() .</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1496133251,"creation_date":1239885613,"answer_id":755940,"question_id":755899,"body_markdown":"I believe the [JConsole][1] ([archived link][4]) does provide this kind of information through a plugin\r\n\r\n![JConsole Thread CPU usage, after blogs.oracle.com/lmalventosa/resource/thread_cpu_usage.jpg][2]\r\n\r\nIt uses [ThreadMXBean][3] getThreadCpuTime() function.\r\n\r\nSomething along the line of:\r\n\r\n            long upTime = runtimeProxy.getUptime();\r\n            List&lt;Long&gt; threadCpuTime = new ArrayList&lt;Long&gt;();\r\n            for (int i = 0; i &lt; threadIds.size(); i++) {\r\n                long threadId = threadIds.get(i);\r\n                if (threadId != -1) {\r\n                    threadCpuTime.add(threadProxy.getThreadCpuTime(threadId));\r\n                } else {\r\n                    threadCpuTime.add(0L);\r\n                }\r\n            }\r\n            int nCPUs = osProxy.getAvailableProcessors();\r\n            List&lt;Float&gt; cpuUsageList = new ArrayList&lt;Float&gt;();\r\n            if (prevUpTime &gt; 0L &amp;&amp; upTime &gt; prevUpTime) {\r\n                // elapsedTime is in ms\r\n                long elapsedTime = upTime - prevUpTime;\r\n                for (int i = 0; i &lt; threadIds.size(); i++) {\r\n                    // elapsedCpu is in ns\r\n                    long elapsedCpu = threadCpuTime.get(i) - prevThreadCpuTime.get(i);\r\n                    // cpuUsage could go higher than 100% because elapsedTime\r\n                    // and elapsedCpu are not fetched simultaneously. Limit to\r\n                    // 99% to avoid Chart showing a scale from 0% to 200%.\r\n                    float cpuUsage = Math.min(99F, elapsedCpu / (elapsedTime * 1000000F * nCPUs));\r\n                    cpuUsageList.add(cpuUsage);\r\n                }\r\n            }\r\n\r\n\r\n  [1]: http://blogs.oracle.com/lmalventosa/entry/per_thread_cpu_usage_jconsole\r\n  [2]: http://i.stack.imgur.com/IUvk6.jpg\r\n  [3]: http://kickjava.com/src/java/lang/management/ThreadMXBean.java.htm\r\n  [4]: https://web.archive.org/web/20131215001011/https://blogs.oracle.com/lmalventosa/entry/per_thread_cpu_usage_jconsole","title":"`Monitor cpu usage per thread in java?","body":"<p>I believe the <a href=\"http://blogs.oracle.com/lmalventosa/entry/per_thread_cpu_usage_jconsole\" rel=\"noreferrer\">JConsole</a> (<a href=\"https://web.archive.org/web/20131215001011/https://blogs.oracle.com/lmalventosa/entry/per_thread_cpu_usage_jconsole\" rel=\"noreferrer\">archived link</a>) does provide this kind of information through a plugin</p>\n\n<p><img src=\"https://i.stack.imgur.com/IUvk6.jpg\" alt=\"JConsole Thread CPU usage, after blogs.oracle.com/lmalventosa/resource/thread_cpu_usage.jpg\"></p>\n\n<p>It uses <a href=\"http://kickjava.com/src/java/lang/management/ThreadMXBean.java.htm\" rel=\"noreferrer\">ThreadMXBean</a> getThreadCpuTime() function.</p>\n\n<p>Something along the line of:</p>\n\n<pre><code>        long upTime = runtimeProxy.getUptime();\n        List&lt;Long&gt; threadCpuTime = new ArrayList&lt;Long&gt;();\n        for (int i = 0; i &lt; threadIds.size(); i++) {\n            long threadId = threadIds.get(i);\n            if (threadId != -1) {\n                threadCpuTime.add(threadProxy.getThreadCpuTime(threadId));\n            } else {\n                threadCpuTime.add(0L);\n            }\n        }\n        int nCPUs = osProxy.getAvailableProcessors();\n        List&lt;Float&gt; cpuUsageList = new ArrayList&lt;Float&gt;();\n        if (prevUpTime &gt; 0L &amp;&amp; upTime &gt; prevUpTime) {\n            // elapsedTime is in ms\n            long elapsedTime = upTime - prevUpTime;\n            for (int i = 0; i &lt; threadIds.size(); i++) {\n                // elapsedCpu is in ns\n                long elapsedCpu = threadCpuTime.get(i) - prevThreadCpuTime.get(i);\n                // cpuUsage could go higher than 100% because elapsedTime\n                // and elapsedCpu are not fetched simultaneously. Limit to\n                // 99% to avoid Chart showing a scale from 0% to 200%.\n                float cpuUsage = Math.min(99F, elapsedCpu / (elapsedTime * 1000000F * nCPUs));\n                cpuUsageList.add(cpuUsage);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1239885665,"creation_date":1239885665,"answer_id":755942,"question_id":755899,"body_markdown":"by using  [java.lang.management.ThreadMXBean][1]. How to obtain a ThreadMXBean:\r\n\r\n     ThreadMXBean tmxb = ManagementFactory.getThreadMXBean();\r\n\r\nthen you can query how much a specific thread is consuming by using:\r\n\r\n     long cpuTime = tmxb.getThreadCpuTime(aThreadID);\r\n\r\nHope it helps.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/management/ThreadMXBean.html","title":"`Monitor cpu usage per thread in java?","body":"<p>by using  <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/management/ThreadMXBean.html\" rel=\"noreferrer\">java.lang.management.ThreadMXBean</a>. How to obtain a ThreadMXBean:</p>\n\n<pre><code> ThreadMXBean tmxb = ManagementFactory.getThreadMXBean();\n</code></pre>\n\n<p>then you can query how much a specific thread is consuming by using:</p>\n\n<pre><code> long cpuTime = tmxb.getThreadCpuTime(aThreadID);\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":9631,"reputation":7981,"user_id":17876,"accept_rate":70,"display_name":"idrosid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239886153,"creation_date":1239886153,"answer_id":755978,"question_id":755899,"body_markdown":"Indeed the object ThreadMXBean provides the functionality you need (however it might not be implemented on all virtual machines).\r\n\r\nIn JDK 1.5 there was a demo program doing exactly what you need. It was in the folder demo/management and it was called JTop.java\r\n\r\nUnfortnately, it&#39;s not there in Java6. Maybe you can find at with google or download JDK5.","title":"`Monitor cpu usage per thread in java?","body":"<p>Indeed the object ThreadMXBean provides the functionality you need (however it might not be implemented on all virtual machines).</p>\n\n<p>In JDK 1.5 there was a demo program doing exactly what you need. It was in the folder demo/management and it was called JTop.java</p>\n\n<p>Unfortnately, it's not there in Java6. Maybe you can find at with google or download JDK5.</p>\n"},{"tags":[],"owner":{"account_id":699777,"reputation":21,"user_id":589743,"display_name":"peter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295990909,"creation_date":1295990909,"answer_id":4799051,"question_id":755899,"body_markdown":"Try the &quot;TopThreads&quot; JConsole plugin. See http://lsd.luminis.nl/top-threads-plugin-for-jconsole/","title":"`Monitor cpu usage per thread in java?","body":"<p>Try the \"TopThreads\" JConsole plugin. See <a href=\"http://lsd.luminis.nl/top-threads-plugin-for-jconsole/\" rel=\"nofollow\">http://lsd.luminis.nl/top-threads-plugin-for-jconsole/</a></p>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1423514887,"creation_date":1423482222,"answer_id":28408974,"question_id":755899,"body_markdown":"&gt; Option_1: Code level\r\n\r\nIn your business logic code; in the beginning call start() API and in the finally block call stop(). So that you will get CPU time for executing your logic by the current running thread. Then log it. [Reference][1].\r\n\r\n    class CPUTimer \r\n    {\r\n        private long _startTime = 0l;\r\n    \r\n        public void start ()\r\n        {\r\n            _startTime = getCpuTimeInMillis();\r\n        }\r\n    \r\n    \r\n        public long stop ()\r\n        {\r\n            long result = (getCpuTimeInMillis() - _startTime);\r\n            _startTime = 0l;\r\n            return result;\r\n        }\r\n    \r\n        public boolean isRunning ()\r\n        {\r\n            return _startTime != 0l;\r\n        }\r\n    \r\n        /** thread CPU time in milliseconds. */\r\n        private long getCpuTimeInMillis ()\r\n        {\r\n            ThreadMXBean bean = ManagementFactory.getThreadMXBean();\r\n            return bean.isCurrentThreadCpuTimeSupported() ? bean.getCurrentThreadCpuTime()/1000000: 0L;\r\n        }\r\n    }\r\n\r\n&gt; Option_2: Monitor level using plugins (AIX IBM box which don&#39;t have jvisualvm support)\r\n\r\nIf you think it is delay in adding code now, then you can prefer JConsole with plugins support. I followed [this][2] article. Download the topthreads jar from that article and run `./jconsole -pluginpath topthreads-1.1.jar`\r\n\r\n&gt; Option_3: Monitor level using TOP (shift H) + JSTACK (Unix machine which has &#39;Shif+H&#39; support)\r\n\r\nFollow [this][3] tutorial, where top command will give option to find top CPU thread (nid). Take that check that nid in jstack output file.\r\n\r\n\r\n  [1]: http://nadeausoftware.com/articles/2008/03/java_tip_how_get_cpu_and_user_time_benchmarking\r\n  [2]: http://arnhem.luminis.eu/top-threads-plugin-for-jconsole/\r\n  [3]: http://code.nomad-labs.com/2010/11/18/identifying-which-java-thread-is-consuming-most-cpu/","title":"`Monitor cpu usage per thread in java?","body":"<blockquote>\n  <p>Option_1: Code level</p>\n</blockquote>\n\n<p>In your business logic code; in the beginning call start() API and in the finally block call stop(). So that you will get CPU time for executing your logic by the current running thread. Then log it. <a href=\"http://nadeausoftware.com/articles/2008/03/java_tip_how_get_cpu_and_user_time_benchmarking\" rel=\"noreferrer\">Reference</a>.</p>\n\n<pre><code>class CPUTimer \n{\n    private long _startTime = 0l;\n\n    public void start ()\n    {\n        _startTime = getCpuTimeInMillis();\n    }\n\n\n    public long stop ()\n    {\n        long result = (getCpuTimeInMillis() - _startTime);\n        _startTime = 0l;\n        return result;\n    }\n\n    public boolean isRunning ()\n    {\n        return _startTime != 0l;\n    }\n\n    /** thread CPU time in milliseconds. */\n    private long getCpuTimeInMillis ()\n    {\n        ThreadMXBean bean = ManagementFactory.getThreadMXBean();\n        return bean.isCurrentThreadCpuTimeSupported() ? bean.getCurrentThreadCpuTime()/1000000: 0L;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Option_2: Monitor level using plugins (AIX IBM box which don't have jvisualvm support)</p>\n</blockquote>\n\n<p>If you think it is delay in adding code now, then you can prefer JConsole with plugins support. I followed <a href=\"http://arnhem.luminis.eu/top-threads-plugin-for-jconsole/\" rel=\"noreferrer\">this</a> article. Download the topthreads jar from that article and run <code>./jconsole -pluginpath topthreads-1.1.jar</code></p>\n\n<blockquote>\n  <p>Option_3: Monitor level using TOP (shift H) + JSTACK (Unix machine which has 'Shif+H' support)</p>\n</blockquote>\n\n<p>Follow <a href=\"http://code.nomad-labs.com/2010/11/18/identifying-which-java-thread-is-consuming-most-cpu/\" rel=\"noreferrer\">this</a> tutorial, where top command will give option to find top CPU thread (nid). Take that check that nid in jstack output file.</p>\n"},{"tags":[],"owner":{"account_id":57405,"reputation":3587,"user_id":171956,"accept_rate":19,"display_name":"99Sono"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692015039,"creation_date":1691937854,"answer_id":76893852,"question_id":755899,"body_markdown":"My answer to this goes in a different direction.\r\n\r\nA a very powerful and transparent way, and also super for production of collection thread CPU statistics is not by having your java program collect it internally, but by having an programing language agnostic approach to do it.\r\n\r\nIn linux for example, you have the TOP command that has options to collect CPU statistics focused a single java process.\r\n\r\n    top -bcH -n 1 -p ${theProcesIdYouWantToMonitor} \r\n\r\nSee: https://man7.org/linux/man-pages/man1/top.1.html\r\n\r\n&gt; -H, --threads-show\r\n&gt;           Instructs top to display individual threads.  Without this\r\n&gt;           command-line option a summation of all threads in each process\r\n&gt;           is shown.  Later this can be changed with the `H&#39; interactive\r\n&gt;           command.\r\n\r\nDoes not get any simpler than that.\r\n\r\nIf you then use jstack in parallel with a process that monitors CPU utilization per thread then you have the best of both worlds:\r\n(a) You know at a given point in time what your code was doing via jstack thread dumps.\r\nBut this only one part of the picture.\r\nThis does not tell you who is actually burning your cpu, just what is happening.\r\nIf for example your CPU is being burned by garbage colleciton threads you will never know that out of the thread dump.\r\n\r\n(b) You pair the jstack time stamp with that of a tool like linux TOP, as shown above.\r\n\r\nYou need to convert the linux thread id into a an HEX decimal.\r\nAnd the hex decimal appears in our stack trace.\r\nAnd there you have it.\r\n\r\nNow you know at any point in time that you have sampled, who was burning your cpu and what it was doing. Finally, your strange CPU spiles are explained.\r\n\r\n\r\nFor windows, I have just discovered recently how to do the same.\r\nHere is the reference:\r\nhttps://xkln.net/blog/analyzing-thread-cpu-utilization-with-processexplorer-powershell-and-wmi/\r\n\r\n\r\nSo here is some code that could be useful to you:\r\n\r\n    # use the command:\r\n    #     Set-ExecutionPolicy -ExecutionPolicy Bypass -Scope Process\r\n    # in order to be allowed to run the powerhsell script\r\n    \r\n    # SEE Original script: https://xkln.net/blog/analyzing-thread-cpu-utilization-with-processexplorer-powershell-and-wmi/\r\n    \r\n    # (a) Discover the process we want to be monitoring\r\n    $process = ( (Get-WmiObject win32_process -Filter &quot;name like &#39;%java%&#39;&quot;) | Where-object  {$_.CommandLine -like &quot;*power*&quot;} )\r\n    $processId = $process.processId\r\n    \r\n    # (b) define the folder where we want to write out our staticis \r\n    $baseFolterForSamples=&quot;C:\\dev\\apps_standalone\\powersheell_threadCpuUtilization\\threadCpuSamples&quot;\r\n    \r\n    # (c) Definition of a function that loops forever collecting the thread id of a \r\n    \r\n        process\r\n        function Get-ThreadProcessorUtilization() {\r\n        \r\n            Param(\r\n                [Parameter(Mandatory=$true)]\r\n                [int]$ProcId,\r\n                [int]$DurationMs = 2000\r\n            )\r\n        \r\n            $StatsPrev=$null;\r\n            $ThreadAge = @{L=&quot;ThreadAge&quot;;E={[Timespan]::FromMilliseconds($_.ElapsedTime).ToString(&quot;hh\\:mm\\:ss&quot;)}}\r\n            $ProcUtilization = @{L=&quot;ProcUtilization&quot;;E={(([Math]::Round(($_.UserModeTime - ($StatsPrev | ? Handle -eq $_.Handle).UserModeTime)/($_.ElapsedTime - ($StatsPrev | ? Handle -eq $_.Handle).ElapsedTime)*100,2)).ToString() + &quot;%&quot;)}}\r\n            \r\n            # Define dome helper loop variables\r\n            $currentItrationNumber = 0\r\n            $previousIterationDateTime = $null\r\n            \r\n            while ($true) {\r\n                $Stopwatch =  [System.Diagnostics.Stopwatch]::StartNew(); \r\n                $Stats = Get-CimInstance Win32_Thread -filter &quot;ProcessHandle = $ProcId&quot; | Select ProcessHandle, Handle, UserModeTime, ElapsedTime | Sort-Object -Property UserModeTime -Descending; \r\n                \r\n                # create some loop variables that we will use to define the file name into which we want to \r\n                $currentTirationDateTime = $(get-date -f yyyy-MM-dd&#39;T&#39;hh:mm:ss.fff)\r\n                $currentItrationNumberLpadZeros = &#39;{0:d6}&#39; -f $currentItrationNumber\r\n                $currentOutputFileName = &quot;$baseFolterForSamples\\ThreadCpuTime_PID_${ProcId}_ItrationNr_$currentItrationNumber.txt&quot;\r\n                \r\n                \r\n                if ($StatsPrev -ne $null) {\r\n                    # This is the slow statement that is collecting the stats\r\n                    $CurrStats = $Stats | Select-Object ProcessHandle, Handle, $ThreadAge, $ProcUtilization\r\n                    Clear-Host\r\n                    \r\n                    # Write the current statistics into an output file\r\n                    $fileHeaderStart = &quot;START Current Itration:  $currentItrationNumber Time Interval Sampled: [$previousIterationDateTime until $currentTirationDateTime]: &quot;\r\n                    $fileHeaderEnd = &quot;END Current Itration:  $currentItrationNumber Time Interval Sampled: [$previousIterationDateTime until $currentTirationDateTime]: &quot;\r\n                    Write-Output $fileHeaderStart | Out-File -Filepath $currentOutputFileName\r\n                    Write-Output $CurrStats | Format-Table -AutoSize | Out-File -Filepath $currentOutputFileName -Append \r\n                    Write-Output $fileHeaderEnd | Out-File -Filepath $currentOutputFileName -Append\r\n                    \r\n                    # REM Explain what we have just done here:\r\n                    echo &quot;Generated sample output file: $currentOutputFileName with stats for CPU thread utilization for time period: [$previousIterationDateTime until $currentTirationDateTime]&quot;\r\n                }\r\n                $statsPrev=$stats\r\n                $Stopwatch.Stop()\r\n        \r\n                # This value could be coming negative          \r\n                # $sleepDuration = $DurationMs-($Stopwatch.ElapsedMilliseconds)\r\n                $sleepDuration = $DurationMs-($Stopwatch.ElapsedMilliseconds)\r\n                $sleepDuration = [Math]::Max($sleepDuration,0)\r\n                [System.Threading.Thread]::Sleep( $sleepDuration )\r\n                \r\n                # update the counter of curernt iteration\r\n                $currentItrationNumber =  $currentItrationNumber + 1\r\n                $previousIterationDateTime = $currentTirationDateTime\r\n            }\r\n        }\r\n        \r\n        Get-ThreadProcessorUtilization -ProcId $processId\r\n\r\nYou will see appearing in the folder:\r\nC:\\dev\\pps_standalone\\powersheell_threadCpuUtilization\\threadCpuSamples\r\n\r\nThe code you see thre is not exactly the same as the one in the reference:\r\nhttps://xkln.net/blog/analyzing-thread-cpu-utilization-with-processexplorer-powershell-and-wmi/\r\n\r\nBut it is close enough that you just need to read the reference to understand it.\r\n\r\nAnd this, in my opinion, I was better approach because you apply it to any java project that you have ecounter along the way and manifests CPU spikes performance problems.\r\nYou do not a massive infrastructure to do a super high quality analysis. Jstack + Thread Per Cpu is all you need.\r\n\r\nIf you wish, of course, you can integrate into your big data server elastic server / or whatever  by reading the produced files of jstacks together with thread statistics and pumping them to your big data storage. \r\n\r\nWell, the sky is the limit really.\r\n\r\nUnfortunately, the graphical user interfaces like the task manager, they are nice to show you here is a spike ... something is somehow not going well. But you will not derive much more than that.\r\nYou then need to come down to worth and point your finger:\r\n-&gt; in that interval of time it was that thread that was gobling 50% cpu.\r\n\r\nFor linux the solution is way similar, you can just google how to get CPU per thread of a process with top command, and there you have the keys to to the ferrari.\r\n\r\nSo now you know how to do it properly.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"`Monitor cpu usage per thread in java?","body":"<p>My answer to this goes in a different direction.</p>\n<p>A a very powerful and transparent way, and also super for production of collection thread CPU statistics is not by having your java program collect it internally, but by having an programing language agnostic approach to do it.</p>\n<p>In linux for example, you have the TOP command that has options to collect CPU statistics focused a single java process.</p>\n<pre><code>top -bcH -n 1 -p ${theProcesIdYouWantToMonitor} \n</code></pre>\n<p>See: <a href=\"https://man7.org/linux/man-pages/man1/top.1.html\" rel=\"nofollow noreferrer\">https://man7.org/linux/man-pages/man1/top.1.html</a></p>\n<blockquote>\n<p>-H, --threads-show\nInstructs top to display individual threads.  Without this\ncommand-line option a summation of all threads in each process\nis shown.  Later this can be changed with the `H' interactive\ncommand.</p>\n</blockquote>\n<p>Does not get any simpler than that.</p>\n<p>If you then use jstack in parallel with a process that monitors CPU utilization per thread then you have the best of both worlds:\n(a) You know at a given point in time what your code was doing via jstack thread dumps.\nBut this only one part of the picture.\nThis does not tell you who is actually burning your cpu, just what is happening.\nIf for example your CPU is being burned by garbage colleciton threads you will never know that out of the thread dump.</p>\n<p>(b) You pair the jstack time stamp with that of a tool like linux TOP, as shown above.</p>\n<p>You need to convert the linux thread id into a an HEX decimal.\nAnd the hex decimal appears in our stack trace.\nAnd there you have it.</p>\n<p>Now you know at any point in time that you have sampled, who was burning your cpu and what it was doing. Finally, your strange CPU spiles are explained.</p>\n<p>For windows, I have just discovered recently how to do the same.\nHere is the reference:\n<a href=\"https://xkln.net/blog/analyzing-thread-cpu-utilization-with-processexplorer-powershell-and-wmi/\" rel=\"nofollow noreferrer\">https://xkln.net/blog/analyzing-thread-cpu-utilization-with-processexplorer-powershell-and-wmi/</a></p>\n<p>So here is some code that could be useful to you:</p>\n<pre><code># use the command:\n#     Set-ExecutionPolicy -ExecutionPolicy Bypass -Scope Process\n# in order to be allowed to run the powerhsell script\n\n# SEE Original script: https://xkln.net/blog/analyzing-thread-cpu-utilization-with-processexplorer-powershell-and-wmi/\n\n# (a) Discover the process we want to be monitoring\n$process = ( (Get-WmiObject win32_process -Filter &quot;name like '%java%'&quot;) | Where-object  {$_.CommandLine -like &quot;*power*&quot;} )\n$processId = $process.processId\n\n# (b) define the folder where we want to write out our staticis \n$baseFolterForSamples=&quot;C:\\dev\\apps_standalone\\powersheell_threadCpuUtilization\\threadCpuSamples&quot;\n\n# (c) Definition of a function that loops forever collecting the thread id of a \n\n    process\n    function Get-ThreadProcessorUtilization() {\n    \n        Param(\n            [Parameter(Mandatory=$true)]\n            [int]$ProcId,\n            [int]$DurationMs = 2000\n        )\n    \n        $StatsPrev=$null;\n        $ThreadAge = @{L=&quot;ThreadAge&quot;;E={[Timespan]::FromMilliseconds($_.ElapsedTime).ToString(&quot;hh\\:mm\\:ss&quot;)}}\n        $ProcUtilization = @{L=&quot;ProcUtilization&quot;;E={(([Math]::Round(($_.UserModeTime - ($StatsPrev | ? Handle -eq $_.Handle).UserModeTime)/($_.ElapsedTime - ($StatsPrev | ? Handle -eq $_.Handle).ElapsedTime)*100,2)).ToString() + &quot;%&quot;)}}\n        \n        # Define dome helper loop variables\n        $currentItrationNumber = 0\n        $previousIterationDateTime = $null\n        \n        while ($true) {\n            $Stopwatch =  [System.Diagnostics.Stopwatch]::StartNew(); \n            $Stats = Get-CimInstance Win32_Thread -filter &quot;ProcessHandle = $ProcId&quot; | Select ProcessHandle, Handle, UserModeTime, ElapsedTime | Sort-Object -Property UserModeTime -Descending; \n            \n            # create some loop variables that we will use to define the file name into which we want to \n            $currentTirationDateTime = $(get-date -f yyyy-MM-dd'T'hh:mm:ss.fff)\n            $currentItrationNumberLpadZeros = '{0:d6}' -f $currentItrationNumber\n            $currentOutputFileName = &quot;$baseFolterForSamples\\ThreadCpuTime_PID_${ProcId}_ItrationNr_$currentItrationNumber.txt&quot;\n            \n            \n            if ($StatsPrev -ne $null) {\n                # This is the slow statement that is collecting the stats\n                $CurrStats = $Stats | Select-Object ProcessHandle, Handle, $ThreadAge, $ProcUtilization\n                Clear-Host\n                \n                # Write the current statistics into an output file\n                $fileHeaderStart = &quot;START Current Itration:  $currentItrationNumber Time Interval Sampled: [$previousIterationDateTime until $currentTirationDateTime]: &quot;\n                $fileHeaderEnd = &quot;END Current Itration:  $currentItrationNumber Time Interval Sampled: [$previousIterationDateTime until $currentTirationDateTime]: &quot;\n                Write-Output $fileHeaderStart | Out-File -Filepath $currentOutputFileName\n                Write-Output $CurrStats | Format-Table -AutoSize | Out-File -Filepath $currentOutputFileName -Append \n                Write-Output $fileHeaderEnd | Out-File -Filepath $currentOutputFileName -Append\n                \n                # REM Explain what we have just done here:\n                echo &quot;Generated sample output file: $currentOutputFileName with stats for CPU thread utilization for time period: [$previousIterationDateTime until $currentTirationDateTime]&quot;\n            }\n            $statsPrev=$stats\n            $Stopwatch.Stop()\n    \n            # This value could be coming negative          \n            # $sleepDuration = $DurationMs-($Stopwatch.ElapsedMilliseconds)\n            $sleepDuration = $DurationMs-($Stopwatch.ElapsedMilliseconds)\n            $sleepDuration = [Math]::Max($sleepDuration,0)\n            [System.Threading.Thread]::Sleep( $sleepDuration )\n            \n            # update the counter of curernt iteration\n            $currentItrationNumber =  $currentItrationNumber + 1\n            $previousIterationDateTime = $currentTirationDateTime\n        }\n    }\n    \n    Get-ThreadProcessorUtilization -ProcId $processId\n</code></pre>\n<p>You will see appearing in the folder:\nC:\\dev\\pps_standalone\\powersheell_threadCpuUtilization\\threadCpuSamples</p>\n<p>The code you see thre is not exactly the same as the one in the reference:\n<a href=\"https://xkln.net/blog/analyzing-thread-cpu-utilization-with-processexplorer-powershell-and-wmi/\" rel=\"nofollow noreferrer\">https://xkln.net/blog/analyzing-thread-cpu-utilization-with-processexplorer-powershell-and-wmi/</a></p>\n<p>But it is close enough that you just need to read the reference to understand it.</p>\n<p>And this, in my opinion, I was better approach because you apply it to any java project that you have ecounter along the way and manifests CPU spikes performance problems.\nYou do not a massive infrastructure to do a super high quality analysis. Jstack + Thread Per Cpu is all you need.</p>\n<p>If you wish, of course, you can integrate into your big data server elastic server / or whatever  by reading the produced files of jstacks together with thread statistics and pumping them to your big data storage.</p>\n<p>Well, the sky is the limit really.</p>\n<p>Unfortunately, the graphical user interfaces like the task manager, they are nice to show you here is a spike ... something is somehow not going well. But you will not derive much more than that.\nYou then need to come down to worth and point your finger:\n-&gt; in that interval of time it was that thread that was gobling 50% cpu.</p>\n<p>For linux the solution is way similar, you can just google how to get CPU per thread of a process with top command, and there you have the keys to to the ferrari.</p>\n<p>So now you know how to do it properly.</p>\n"}],"owner":{"account_id":32893,"reputation":526,"user_id":91596,"display_name":"awk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41047,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"answer_count":7,"score":36,"last_activity_date":1692015039,"creation_date":1239884860,"question_id":755899,"body_markdown":"I would like to ask whether there is some simple way to determine `cpu usage` per thread in `java`. Thanks","title":"`Monitor cpu usage per thread in java?","body":"<p>I would like to ask whether there is some simple way to determine <code>cpu usage</code> per thread in <code>java</code>. Thanks</p>\n"},{"tags":["java","multithreading","atomicinteger"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1687133953,"post_id":76501911,"comment_id":134890011,"body_markdown":"Your code as pasted cannot possibly work; it would NPE because you never initialize the `countUriInAction` field. Clearly then you&#39;ve pasted parts of your code and not all of it. One explanation is that you keep re-initializing this field. It is important to paste the _actual_ code that fails, not your guess at the &#39;relevant parts&#39; - after all, you&#39;re asking questions, it&#39;s likely you don&#39;t really know how everything interacts.","body":"Your code as pasted cannot possibly work; it would NPE because you never initialize the <code>countUriInAction</code> field. Clearly then you&#39;ve pasted parts of your code and not all of it. One explanation is that you keep re-initializing this field. It is important to paste the <i>actual</i> code that fails, not your guess at the &#39;relevant parts&#39; - after all, you&#39;re asking questions, it&#39;s likely you don&#39;t really know how everything interacts."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1687134136,"post_id":76501911,"comment_id":134890022,"body_markdown":"There are a number of glaring issues with the few things you have pasted: [1] Making a final reference `volatile` is completely useless - `countUrlInAction` shouldn&#39;t be volatile (or, if you&#39;re re-assigning it, don&#39;t re-assign it). [2] You are writing to other fields with abandon. That&#39;s not how thread safety works. You can&#39;t share fields between threads __at all__ without things going wonky unless you establish Happens-Before/Happens-After, which you aren&#39;t. [3] Your operations aren&#39;t atomic. Most likely, AtomicInteger isn&#39;t part of the solution.","body":"There are a number of glaring issues with the few things you have pasted: [1] Making a final reference <code>volatile</code> is completely useless - <code>countUrlInAction</code> shouldn&#39;t be volatile (or, if you&#39;re re-assigning it, don&#39;t re-assign it). [2] You are writing to other fields with abandon. That&#39;s not how thread safety works. You can&#39;t share fields between threads <b>at all</b> without things going wonky unless you establish Happens-Before/Happens-After, which you aren&#39;t. [3] Your operations aren&#39;t atomic. Most likely, AtomicInteger isn&#39;t part of the solution."}],"answers":[{"tags":[],"owner":{"account_id":7522842,"reputation":3473,"user_id":8082162,"accept_rate":71,"display_name":"aschoerk"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1687120710,"creation_date":1687120710,"answer_id":76502452,"question_id":76501911,"body_markdown":"You should use decreaseUrlInActionAndVerifyStatus(); always in a finally block.\r\nOtherwise RuntimeExceptions occurring during processing will lead to omitting the decrementing. Why these Exceptions occur is another question, but I suppose more Threads will lead to other problems, perhaps the changing functions on entity are not properly synchronized.","title":"Java Thread Atomic Integer checking not working?","body":"<p>You should use decreaseUrlInActionAndVerifyStatus(); always in a finally block.\nOtherwise RuntimeExceptions occurring during processing will lead to omitting the decrementing. Why these Exceptions occur is another question, but I suppose more Threads will lead to other problems, perhaps the changing functions on entity are not properly synchronized.</p>\n"},{"tags":[],"owner":{"account_id":14574364,"reputation":11,"user_id":11558849,"display_name":"Myphre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692014184,"creation_date":1692014184,"answer_id":76898739,"question_id":76501911,"body_markdown":"Just to answer the question, i dont know if was some cache from linux or from the Intelij Idea, but after I closed it and rebooted the system everything works fine. [ normally i keep my computer on so enven after a day the error keeped happening ]\r\n\r\nAbout some exception in the thread, i could not find anything. For precautions, i put the finally block too. \r\n\r\nThx for the help.  And sorry for the delay in the return. ","title":"Java Thread Atomic Integer checking not working?","body":"<p>Just to answer the question, i dont know if was some cache from linux or from the Intelij Idea, but after I closed it and rebooted the system everything works fine. [ normally i keep my computer on so enven after a day the error keeped happening ]</p>\n<p>About some exception in the thread, i could not find anything. For precautions, i put the finally block too.</p>\n<p>Thx for the help.  And sorry for the delay in the return.</p>\n"}],"owner":{"account_id":14574364,"reputation":11,"user_id":11558849,"display_name":"Myphre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692014184,"creation_date":1687111311,"question_id":76501911,"body_markdown":"im newbie with multi-threads and im trying to make a program that use it. Technically, it has a class with executor and a worker class. The worker class takes the info to work on, process it, if there are more infos to processes the worker calls the executor again and the program keeps going until the text is finished, after that the workers decrease the AtomicInteger check variable and and if equals zero change the status attribute to DONE and saves it. The executor class receive the attributes needed to the worker class, check if the text/site  was proceeded before, if not increments an atomic integer attribute and  put the new text/site reference into a Vector for further checks again. \r\n\r\n\r\nThe Executor class:\r\n\r\n ```\r\n  public class DoScrapper implements IDoScrapper {\r\n    private static Logger log = LoggerFactory.getLogger(DoScrapper.class);\r\n\r\n    private final ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(30);\r\n\r\n\r\n\r\n    void doScrapper(final ScrapperWorker scrapperWorker) {\r\n        executor.execute(scrapperWorker);\r\n    }\r\n\r\n    @Override\r\n    public void sendToProccess(\r\n            ScrapperEntity entity,\r\n            String urlToProccess,\r\n            String rootUrl,\r\n            Vector&lt;String&gt; urlVisited,\r\n            IRequestService requestService,\r\n            IDoScrapper doScrapper,\r\n            Database database) {\r\n\r\n        urlVisited.add(urlToProccess);\r\n        int qtd = entity.addUrlInAction();;\r\n        log.info(&quot;sending to procces url {} for keyword {} , with {} sites opened to visited&quot;,\r\n                urlToProccess, entity.getKeyword(), qtd);\r\n        ScrapperWorker newWorker = new ScrapperWorker(\r\n                entity, urlToProccess, rootUrl,\r\n                urlVisited, requestService,\r\n                doScrapper, database\r\n        );\r\n        doScrapper(newWorker);\r\n    }\r\n\r\n}\r\n``` \r\n\r\nThe worker class:\r\n```\r\n    public class ScrapperWorker implements Runnable{\r\n        private static final Logger log = LoggerFactory.getLogger(ScrapperWorker.class);\r\n    \r\n    \r\n        final ScrapperEntity entity;\r\n        final String url;\r\n        final String rootUrl;\r\n        final Vector&lt;String&gt; urlVisited;\r\n        private final IDoScrapper doScrapper;\r\n        private final Database database;\r\n    \r\n    \r\n    \r\n        public ScrapperWorker(ScrapperEntity entity,\r\n                              String url,\r\n                              String rootUrl,\r\n                              Vector&lt;String&gt; urlVisited,\r\n                              IRequestService requestService,\r\n                              IDoScrapper doScrapper,\r\n                              Database database) {\r\n            this.entity = entity;\r\n            this.url = url;\r\n            this.rootUrl = rootUrl;\r\n            this.urlVisited = urlVisited;\r\n            this.requestService = requestService;\r\n            this.doScrapper = doScrapper;\r\n            this.database = database;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            log.info(&quot;thred doing scrapper for url {} keyword {} &quot;,\r\n                    url, entity.getKeyword());\r\n            .... \r\n            do actions and can or cannot call based on the check() method doScrapper();\r\n            ...\r\n\r\n\r\n            decreaseUrlInActionAndVerifyStatus();\r\n        }\r\n    \r\n       \r\n    \r\n        private void decreaseUrlInActionAndVerifyStatus() {\r\n            int sitesToCheck = entity.decreaseUrlInAction();\r\n            log.info(&quot;decreasing visitedSites on entity {}, sites to check {}, sites visited {}  &quot;,\r\n                    entity.getId(), sitesToCheck,  urlVisited.size());\r\n    \r\n    \r\n            if(sitesToCheck == 0 ){\r\n                log.info(&quot;last url, setting STATUS as done ... sitess visited: {} &quot;, urlVisited.size());\r\n                entity.setStatus(StatusScrapper.DONE);\r\n                database.updateData(entity);\r\n            }\r\n    \r\n        }    \r\n    \r\n    private boolean check( String urlComplete, Vector&lt;String&gt; urlVisited) {\r\n        return urlComplete != null\r\n                &amp;&amp; isNotVisitedUrl(urlComplete, urlVisited);\r\n    }\r\n    private boolean isNotVisitedUrl(String url, Vector&lt;String&gt; vector) {\r\n\r\n        return ! vector.contains(url);\r\n\r\n    }\r\n    \r\n\r\n\r\n    }\r\n\r\n\r\n``` \r\n\r\n\r\nThe methods on entity class to decrease and increase:\r\n``` \r\n    private volatile AtomicInteger countUrlInAction;\r\n\r\n    public int addUrlInAction(){\r\n        return countUrlInAction.addAndGet(1);\r\n    }\r\n\r\n    public int decreaseUrlInAction() {\r\n        return countUrlInAction.decrementAndGet();\r\n    }\r\n``` \r\n\r\n\r\nThe problem im having its that sometimes, principally when I put more Threads on the thread pool of the executor or more parallel processing [ more entities to be processed in parallel ] the AtomicInteger become random, sometimes stopping in 1, others in 7 and so on, and the status never change to DONE. \r\nIsn&#39;t for AtomicInteger to increase and decrease correctly in this case or Im missing something? If I cant use AtomicInteger for this, which way is better to do this check?\r\n\r\nThere aren&#39;t any error in the console log, so all threads must be processing all the texts and decreasing the AtomicInteger variable\r\n","title":"Java Thread Atomic Integer checking not working?","body":"<p>im newbie with multi-threads and im trying to make a program that use it. Technically, it has a class with executor and a worker class. The worker class takes the info to work on, process it, if there are more infos to processes the worker calls the executor again and the program keeps going until the text is finished, after that the workers decrease the AtomicInteger check variable and and if equals zero change the status attribute to DONE and saves it. The executor class receive the attributes needed to the worker class, check if the text/site  was proceeded before, if not increments an atomic integer attribute and  put the new text/site reference into a Vector for further checks again.</p>\n<p>The Executor class:</p>\n<pre><code> public class DoScrapper implements IDoScrapper {\n   private static Logger log = LoggerFactory.getLogger(DoScrapper.class);\n\n   private final ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(30);\n\n\n\n   void doScrapper(final ScrapperWorker scrapperWorker) {\n       executor.execute(scrapperWorker);\n   }\n\n   @Override\n   public void sendToProccess(\n           ScrapperEntity entity,\n           String urlToProccess,\n           String rootUrl,\n           Vector&lt;String&gt; urlVisited,\n           IRequestService requestService,\n           IDoScrapper doScrapper,\n           Database database) {\n\n       urlVisited.add(urlToProccess);\n       int qtd = entity.addUrlInAction();;\n       log.info(&quot;sending to procces url {} for keyword {} , with {} sites opened to visited&quot;,\n               urlToProccess, entity.getKeyword(), qtd);\n       ScrapperWorker newWorker = new ScrapperWorker(\n               entity, urlToProccess, rootUrl,\n               urlVisited, requestService,\n               doScrapper, database\n       );\n       doScrapper(newWorker);\n   }\n\n}\n</code></pre>\n<p>The worker class:</p>\n<pre><code>    public class ScrapperWorker implements Runnable{\n        private static final Logger log = LoggerFactory.getLogger(ScrapperWorker.class);\n    \n    \n        final ScrapperEntity entity;\n        final String url;\n        final String rootUrl;\n        final Vector&lt;String&gt; urlVisited;\n        private final IDoScrapper doScrapper;\n        private final Database database;\n    \n    \n    \n        public ScrapperWorker(ScrapperEntity entity,\n                              String url,\n                              String rootUrl,\n                              Vector&lt;String&gt; urlVisited,\n                              IRequestService requestService,\n                              IDoScrapper doScrapper,\n                              Database database) {\n            this.entity = entity;\n            this.url = url;\n            this.rootUrl = rootUrl;\n            this.urlVisited = urlVisited;\n            this.requestService = requestService;\n            this.doScrapper = doScrapper;\n            this.database = database;\n        }\n    \n        @Override\n        public void run() {\n            log.info(&quot;thred doing scrapper for url {} keyword {} &quot;,\n                    url, entity.getKeyword());\n            .... \n            do actions and can or cannot call based on the check() method doScrapper();\n            ...\n\n\n            decreaseUrlInActionAndVerifyStatus();\n        }\n    \n       \n    \n        private void decreaseUrlInActionAndVerifyStatus() {\n            int sitesToCheck = entity.decreaseUrlInAction();\n            log.info(&quot;decreasing visitedSites on entity {}, sites to check {}, sites visited {}  &quot;,\n                    entity.getId(), sitesToCheck,  urlVisited.size());\n    \n    \n            if(sitesToCheck == 0 ){\n                log.info(&quot;last url, setting STATUS as done ... sitess visited: {} &quot;, urlVisited.size());\n                entity.setStatus(StatusScrapper.DONE);\n                database.updateData(entity);\n            }\n    \n        }    \n    \n    private boolean check( String urlComplete, Vector&lt;String&gt; urlVisited) {\n        return urlComplete != null\n                &amp;&amp; isNotVisitedUrl(urlComplete, urlVisited);\n    }\n    private boolean isNotVisitedUrl(String url, Vector&lt;String&gt; vector) {\n\n        return ! vector.contains(url);\n\n    }\n    \n\n\n    }\n\n\n</code></pre>\n<p>The methods on entity class to decrease and increase:</p>\n<pre><code>    private volatile AtomicInteger countUrlInAction;\n\n    public int addUrlInAction(){\n        return countUrlInAction.addAndGet(1);\n    }\n\n    public int decreaseUrlInAction() {\n        return countUrlInAction.decrementAndGet();\n    }\n</code></pre>\n<p>The problem im having its that sometimes, principally when I put more Threads on the thread pool of the executor or more parallel processing [ more entities to be processed in parallel ] the AtomicInteger become random, sometimes stopping in 1, others in 7 and so on, and the status never change to DONE.\nIsn't for AtomicInteger to increase and decrease correctly in this case or Im missing something? If I cant use AtomicInteger for this, which way is better to do this check?</p>\n<p>There aren't any error in the console log, so all threads must be processing all the texts and decreasing the AtomicInteger variable</p>\n"},{"tags":["java","html","spring","url","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692013997,"creation_date":1692013997,"answer_id":76898721,"question_id":76898342,"body_markdown":"Param object returns an array of strings for each parameter, even if there&#39;s only one value for that parameter, that&#39;s why you are seeing the object reference `[Ljava.lang.String;@767a8ed5`. You may access the first element of that array by using an index instead, like:\r\n```html\r\n&lt;p th:text=&quot;${param.message[0]}&quot;&gt;&lt;/p&gt;\r\n```","title":"Thymeleaf failed query param resolution","body":"<p>Param object returns an array of strings for each parameter, even if there's only one value for that parameter, that's why you are seeing the object reference <code>[Ljava.lang.String;@767a8ed5</code>. You may access the first element of that array by using an index instead, like:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p th:text=&quot;${param.message[0]}&quot;&gt;&lt;/p&gt;\n</code></pre>\n"}],"owner":{"account_id":10535224,"reputation":423,"user_id":9116264,"accept_rate":0,"display_name":"Akhmad Zaki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692013997,"creation_date":1692010661,"question_id":76898342,"body_markdown":"I am using Thymeleaf version 2.1.4, When sending query param to an URL, I wanted to print the string. Instead of proper string, it prints string object like this `[Ljava.lang.String;@767a8ed5`. I try to print it in HTML like this:\r\n\r\n```\r\n&lt;p th:text=&quot;${param.message}&quot;&gt;&lt;/p&gt;\r\n```\r\n\r\nThe url is like this:\r\n```\r\nhttp://localhost:8000/about?message=This%20is%20about%20page.\r\n```\r\n\r\nAny help will be appreciated with mistakes in my code.","title":"Thymeleaf failed query param resolution","body":"<p>I am using Thymeleaf version 2.1.4, When sending query param to an URL, I wanted to print the string. Instead of proper string, it prints string object like this <code>[Ljava.lang.String;@767a8ed5</code>. I try to print it in HTML like this:</p>\n<pre><code>&lt;p th:text=&quot;${param.message}&quot;&gt;&lt;/p&gt;\n</code></pre>\n<p>The url is like this:</p>\n<pre><code>http://localhost:8000/about?message=This%20is%20about%20page.\n</code></pre>\n<p>Any help will be appreciated with mistakes in my code.</p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1692013573,"post_id":76898500,"comment_id":135563939,"body_markdown":"wait, can you clarify? Are you trying to pass it to the docker container as an environment variable? It sounds quite confusing the way you describe it in the question, please provide more details","body":"wait, can you clarify? Are you trying to pass it to the docker container as an environment variable? It sounds quite confusing the way you describe it in the question, please provide more details"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1692013718,"post_id":76898500,"comment_id":135563972,"body_markdown":"if you want to pass it as a environment variable to a docker container, you could use the -e option, `-e SERVER_CONFIG_IPS=10.10.10.10,10.10.10.11` or if in docker compose pass it using the environment attribute similarly `SERVER_CONFIG_IPS=10.10.10.10,10.10.10.11`","body":"if you want to pass it as a environment variable to a docker container, you could use the -e option, <code>-e SERVER_CONFIG_IPS=10.10.10.10,10.10.10.11</code> or if in docker compose pass it using the environment attribute similarly <code>SERVER_CONFIG_IPS=10.10.10.10,10.10.10.11</code>"},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1692014080,"post_id":76898500,"comment_id":135564043,"body_markdown":"Are you using [tag:docker-compose]? Or [tag:kubernetes]? Or manually like `docker run ...`?","body":"Are you using <a href=\"https://stackoverflow.com/questions/tagged/docker-compose\">docker-compose</a>? Or <a href=\"https://stackoverflow.com/questions/tagged/kubernetes\">kubernetes</a>? Or manually like <code>docker run ...</code>?"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1692015424,"post_id":76898500,"comment_id":135564303,"body_markdown":"The Spring Boot documentation chapter on [Externalized Configuration](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config) covers most of the possible options.  Bind-mounting a configuration file into the container is an option.  If you want to use environment variables, experimenting with it outside a container might be easier, and then porting your results into Docker syntax.","body":"The Spring Boot documentation chapter on <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">Externalized Configuration</a> covers most of the possible options.  Bind-mounting a configuration file into the container is an option.  If you want to use environment variables, experimenting with it outside a container might be easier, and then porting your results into Docker syntax."}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692013561,"creation_date":1692013145,"answer_id":76898623,"question_id":76898500,"body_markdown":"\r\n```yaml\r\nserver:\r\n  config:\r\n    ips:\r\n      - 10.10.10.10\r\n      - 10.10.10.11\r\n      - 10.10.10.12\r\n      - 10.10.10.13\r\n```\r\n\r\nIs equivalent to \r\n\r\n```yaml\r\nserver:\r\n  config:\r\n    ips: [&quot;10.10.10.10&quot;, &quot;10.10.10.11&quot;, &quot;10.10.10.12&quot;, &quot;10.10.10.13&quot;]\r\n```\r\n\r\nIt seems you are using spring... so perhaps you could do\r\n\r\n```yaml\r\nserver:\r\n  config:\r\n    ips: [${SERVER_IPS}]\r\n```\r\n\r\nThen set an environment variable\r\n```\r\nSERVER_IPS=&quot;10.10.10.10&quot;,&quot;10.10.10.11&quot;,&quot;10.10.10.12&quot;,&quot;10.10.10.13&quot;\r\n```\r\n\r\nIn this instance I don&#39;t think you need the quotes (each value contains at least one non-numeric character, values don&#39;t contain commas) so you can likely do\r\n```\r\nSERVER_IPS=10.10.10.10,10.10.10.11,10.10.10.12,10.10.10.13\r\n```","title":"How to pass dynamic array from ENV to a docker container","body":"<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  config:\n    ips:\n      - 10.10.10.10\n      - 10.10.10.11\n      - 10.10.10.12\n      - 10.10.10.13\n</code></pre>\n<p>Is equivalent to</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  config:\n    ips: [&quot;10.10.10.10&quot;, &quot;10.10.10.11&quot;, &quot;10.10.10.12&quot;, &quot;10.10.10.13&quot;]\n</code></pre>\n<p>It seems you are using spring... so perhaps you could do</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  config:\n    ips: [${SERVER_IPS}]\n</code></pre>\n<p>Then set an environment variable</p>\n<pre><code>SERVER_IPS=&quot;10.10.10.10&quot;,&quot;10.10.10.11&quot;,&quot;10.10.10.12&quot;,&quot;10.10.10.13&quot;\n</code></pre>\n<p>In this instance I don't think you need the quotes (each value contains at least one non-numeric character, values don't contain commas) so you can likely do</p>\n<pre><code>SERVER_IPS=10.10.10.10,10.10.10.11,10.10.10.12,10.10.10.13\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8636871,"reputation":21,"user_id":6466767,"display_name":"Michal Kov&#225;čik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692013520,"creation_date":1692013520,"answer_id":76898672,"question_id":76898500,"body_markdown":"I&#39;d use a colon (or separator char of your preference) separated value list to send it in a single env variable and then just split it by separator on the receiver end.\r\n\r\n    env:\r\n      name: IP_LIST\r\n      value: &quot;10.10.10.10;10.10.10.11;10.10.10.12;10.10.10.13&quot;","title":"How to pass dynamic array from ENV to a docker container","body":"<p>I'd use a colon (or separator char of your preference) separated value list to send it in a single env variable and then just split it by separator on the receiver end.</p>\n<pre><code>env:\n  name: IP_LIST\n  value: &quot;10.10.10.10;10.10.10.11;10.10.10.12;10.10.10.13&quot;\n</code></pre>\n"}],"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76898623,"answer_count":2,"score":-1,"last_activity_date":1692013561,"creation_date":1692012034,"question_id":76898500,"body_markdown":"We currently load ips from src/main/resources/application.properties as a Map&lt;String, List&lt;String&gt;&gt;\r\n\r\n\r\n&gt;     server:\r\n&gt;       config:\r\n&gt;         ips:\r\n&gt;           - 10.10.10.10\r\n&gt;           - 10.10.10.11\r\n&gt;           - 10.10.10.12\r\n&gt;           - 10.10.10.13\r\n\r\nIf I have to pass this from the ENV for a docker container, how should I do it","title":"How to pass dynamic array from ENV to a docker container","body":"<p>We currently load ips from src/main/resources/application.properties as a Map&lt;String, List&gt;</p>\n<blockquote>\n<pre><code>server:\n  config:\n    ips:\n      - 10.10.10.10\n      - 10.10.10.11\n      - 10.10.10.12\n      - 10.10.10.13\n</code></pre>\n</blockquote>\n<p>If I have to pass this from the ENV for a docker container, how should I do it</p>\n"},{"tags":["java","heap-dump","oql","eclipse-mat"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1689700239,"post_id":76715072,"comment_id":135249786,"body_markdown":"Does this answer your question? [How can I parse/format dates with LocalDateTime? (Java 8)](https://stackoverflow.com/questions/22463062/how-can-i-parse-format-dates-with-localdatetime-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22463062/how-can-i-parse-format-dates-with-localdatetime-java-8\">How can I parse/format dates with LocalDateTime? (Java 8)</a>"},{"owner":{"account_id":3552273,"reputation":894,"user_id":3340829,"accept_rate":62,"display_name":"Leprechaun"},"score":0,"creation_date":1689701591,"post_id":76715072,"comment_id":135250049,"body_markdown":"@ChristopherSchneider No, I need to format it in OQL","body":"@ChristopherSchneider No, I need to format it in OQL"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690247925,"post_id":76715072,"comment_id":135323600,"body_markdown":"Perhaps just `SELECT mci.firstName, mci.importantDateTime …`?","body":"Perhaps just <code>SELECT mci.firstName, mci.importantDateTime …</code>?"},{"owner":{"account_id":3552273,"reputation":894,"user_id":3340829,"accept_rate":62,"display_name":"Leprechaun"},"score":0,"creation_date":1690320542,"post_id":76715072,"comment_id":135336531,"body_markdown":"@BasilBourque Unfortunately, no, it&#39;s not that easy. It just prints the same address in a slightly different format: `java.time.LocalDateTime [id=0x83be8420]`","body":"@BasilBourque Unfortunately, no, it&#39;s not that easy. It just prints the same address in a slightly different format: <code>java.time.LocalDateTime [id=0x83be8420]</code>"}],"answers":[{"tags":[],"owner":{"account_id":18866500,"reputation":431,"user_id":13762112,"display_name":"user13762112"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692013481,"creation_date":1692013481,"answer_id":76898667,"question_id":76715072,"body_markdown":"Something like this could help:\r\n\r\n    SELECT ((((((((((((toString(l.date.year) + &quot;-&quot;) + l.date.month) + &quot;-&quot;) + l.date.day) + &quot;T&quot;) + l.time.hour) + &quot;:&quot;) + l.time.minute) + &quot;:&quot;) + l.time.second) + &quot;.&quot;) + l.time.nano) AS &quot;Local date time&quot; FROM java.time.LocalDateTime l \r\n\r\nModify this replacing `l` with `mci.importantDateTime`.\r\n\r\nAlternatively, you could write an extension for MAT with a class specific name resolver [org_eclipse_mat_api_nameResolver][1] for `java.time.LocalDateTime`, `java.time.LocalDate` and `java.time.LocalTime`.\r\n\r\n  [1]: https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.mat.ui.help%2Fdoc%2Forg_eclipse_mat_api_nameResolver.html","title":"How to convert LocalDateTime to human readable string in OQL","body":"<p>Something like this could help:</p>\n<pre><code>SELECT ((((((((((((toString(l.date.year) + &quot;-&quot;) + l.date.month) + &quot;-&quot;) + l.date.day) + &quot;T&quot;) + l.time.hour) + &quot;:&quot;) + l.time.minute) + &quot;:&quot;) + l.time.second) + &quot;.&quot;) + l.time.nano) AS &quot;Local date time&quot; FROM java.time.LocalDateTime l \n</code></pre>\n<p>Modify this replacing <code>l</code> with <code>mci.importantDateTime</code>.</p>\n<p>Alternatively, you could write an extension for MAT with a class specific name resolver <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.mat.ui.help%2Fdoc%2Forg_eclipse_mat_api_nameResolver.html\" rel=\"nofollow noreferrer\">org_eclipse_mat_api_nameResolver</a> for <code>java.time.LocalDateTime</code>, <code>java.time.LocalDate</code> and <code>java.time.LocalTime</code>.</p>\n"}],"owner":{"account_id":3552273,"reputation":894,"user_id":3340829,"accept_rate":62,"display_name":"Leprechaun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692013481,"creation_date":1689699630,"question_id":76715072,"body_markdown":"I am trying to create an **OQL query** in Eclipse MAT to select a bunch of objects from a Java heapdump with `LocalDateTime` fields. Simply calling the `.toString()` function of the object just returns the object address, e.g. this:\r\n\r\n```oql\r\nSELECT mci.firstName.toString(), mci.importantDateTime.toString() AS mydatetime FROM com.example.MyClass$Inner mci WHERE (mci.firstName.toString() = &quot;John&quot;)\r\n```\r\nreturns `John | java.time.LocalDateTime @ 0x83be8420`\r\n\r\nHow do I convert the object to a human-readable datetime string?\r\n\r\n\r\nOnce again to make it crystal clear: I don&#39;t want to parse a date time in Java. I need an Object Query Language (**OQL**) statement that produces a human readable string out of a `LocalDateTime` field.","title":"How to convert LocalDateTime to human readable string in OQL","body":"<p>I am trying to create an <strong>OQL query</strong> in Eclipse MAT to select a bunch of objects from a Java heapdump with <code>LocalDateTime</code> fields. Simply calling the <code>.toString()</code> function of the object just returns the object address, e.g. this:</p>\n<pre><code>SELECT mci.firstName.toString(), mci.importantDateTime.toString() AS mydatetime FROM com.example.MyClass$Inner mci WHERE (mci.firstName.toString() = &quot;John&quot;)\n</code></pre>\n<p>returns <code>John | java.time.LocalDateTime @ 0x83be8420</code></p>\n<p>How do I convert the object to a human-readable datetime string?</p>\n<p>Once again to make it crystal clear: I don't want to parse a date time in Java. I need an Object Query Language (<strong>OQL</strong>) statement that produces a human readable string out of a <code>LocalDateTime</code> field.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"score":2,"creation_date":1483725521,"post_id":41511511,"comment_id":70228955,"body_markdown":"Where is the implementation class of  `ClientRepository`?","body":"Where is the implementation class of  <code>ClientRepository</code>?"},{"owner":{"account_id":7774276,"reputation":1301,"user_id":6480625,"accept_rate":33,"display_name":"kopylov"},"score":0,"creation_date":1483732568,"post_id":41511511,"comment_id":70232696,"body_markdown":"@Arpit I create an instance of ClientRepository only in ClientServiceImpl.\nIt&#39;s my first experience this Spring Data JPA and i don&#39;t know how do correctly. So I followed example","body":"@Arpit I create an instance of ClientRepository only in ClientServiceImpl. It&#39;s my first experience this Spring Data JPA and i don&#39;t know how do correctly. So I followed example"},{"owner":{"account_id":7774276,"reputation":1301,"user_id":6480625,"accept_rate":33,"display_name":"kopylov"},"score":0,"creation_date":1483738977,"post_id":41511511,"comment_id":70235715,"body_markdown":"@Arpit Please look at my project on github (i add link)","body":"@Arpit Please look at my project on github (i add link)"}],"answers":[{"tags":[],"owner":{"account_id":3507861,"reputation":408,"user_id":2932980,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483725831,"creation_date":1483725831,"answer_id":41511609,"question_id":41511511,"body_markdown":"Add @Repository annotation to the Spring Data JPA repo","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>Add @Repository annotation to the Spring Data JPA repo</p>\n"},{"tags":[],"owner":{"account_id":2962536,"reputation":2218,"user_id":7330729,"display_name":"Dmitry Gorkovets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483725834,"creation_date":1483725834,"answer_id":41511610,"question_id":41511511,"body_markdown":"According to [documentation][1] you should set XML configuration:\r\n\r\n    &lt;jpa:repositories base-package=&quot;com.kopylov.repository&quot; /&gt;\r\n\r\n\r\n  [1]: https://spring.io/blog/2011/02/10/getting-started-with-spring-data-jpa/","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>According to <a href=\"https://spring.io/blog/2011/02/10/getting-started-with-spring-data-jpa/\" rel=\"nofollow noreferrer\">documentation</a> you should set XML configuration:</p>\n\n<pre><code>&lt;jpa:repositories base-package=\"com.kopylov.repository\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4862517,"reputation":1544,"user_id":3921725,"display_name":"Alex Roig"},"down_vote_count":1,"up_vote_count":57,"is_accepted":true,"score":56,"last_activity_date":1483947509,"creation_date":1483725845,"answer_id":41511612,"question_id":41511511,"body_markdown":"The ClientRepository should be annotated with `@Repository` tag. \r\nWith your current configuration Spring will not scan the class and have knowledge about it. At the moment of booting and wiring will not find the ClientRepository class. \r\n\r\n**EDIT**\r\nIf adding the `@Repository` tag doesn&#39;t help, then I think that the problem might be now with the `ClientService` and `ClientServiceImpl`.\r\n\r\nTry to annotate the `ClientService` (interface) with `@Service`. As you should only have a single implementation for your service, you don&#39;t need to specify a name with the optional parameter `@Service(&quot;clientService&quot;)`. Spring will autogenerate it based on the interface&#39; name.\r\n\r\nAlso, as Bruno mentioned, the `@Qualifier` is not needed in the `ClientController` as you only have a single implementation for the service. \r\n\r\n**ClientService.java**\r\n\r\n    @Service\r\n    public interface ClientService {\r\n    \r\n        void addClient(Client client);\r\n    }\r\n\r\n\r\n**ClientServiceImpl.java** (option 1)\r\n\r\n    @Service\r\n    public class ClientServiceImpl implements ClientService{\r\n\r\n        private ClientRepository clientRepository;\r\n\r\n        @Autowired\r\n        public void setClientRepository(ClientRepository clientRepository){\r\n            this.clientRepository=clientRepository;\r\n        }\r\n\r\n        @Transactional\r\n        public void addClient(Client client){\r\n            clientRepository.saveAndFlush(client);\r\n        }\r\n    }\r\n\r\n\r\n**ClientServiceImpl.java** (option 2/preferred)\r\n\r\n    @Service\r\n    public class ClientServiceImpl implements ClientService{\r\n\r\n        @Autowired\r\n        private ClientRepository clientRepository;\r\n\r\n        @Transactional\r\n        public void addClient(Client client){\r\n            clientRepository.saveAndFlush(client);\r\n        }\r\n    }\r\n\r\n**ClientController.java**\r\n\r\n    @Controller\r\n    public class ClientController {\r\n        private ClientService clientService;\r\n\r\n        @Autowired\r\n        //@Qualifier(&quot;clientService&quot;)\r\n        public void setClientService(ClientService clientService){\r\n            this.clientService=clientService;\r\n        }\r\n\r\n        @RequestMapping(value = &quot;registration&quot;, method = RequestMethod.GET)\r\n        public String reg(Model model){\r\n            model.addAttribute(&quot;client&quot;, new Client());\r\n            return &quot;registration&quot;;\r\n        }\r\n\r\n        @RequestMapping(value = &quot;registration/add&quot;, method = RequestMethod.POST)\r\n        public String addUser(@ModelAttribute Client client){\r\n            this.clientService.addClient(client);\r\n        return &quot;home&quot;;\r\n        }\r\n    }","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>The ClientRepository should be annotated with <code>@Repository</code> tag. \nWith your current configuration Spring will not scan the class and have knowledge about it. At the moment of booting and wiring will not find the ClientRepository class. </p>\n\n<p><strong>EDIT</strong>\nIf adding the <code>@Repository</code> tag doesn't help, then I think that the problem might be now with the <code>ClientService</code> and <code>ClientServiceImpl</code>.</p>\n\n<p>Try to annotate the <code>ClientService</code> (interface) with <code>@Service</code>. As you should only have a single implementation for your service, you don't need to specify a name with the optional parameter <code>@Service(\"clientService\")</code>. Spring will autogenerate it based on the interface' name.</p>\n\n<p>Also, as Bruno mentioned, the <code>@Qualifier</code> is not needed in the <code>ClientController</code> as you only have a single implementation for the service. </p>\n\n<p><strong>ClientService.java</strong></p>\n\n<pre><code>@Service\npublic interface ClientService {\n\n    void addClient(Client client);\n}\n</code></pre>\n\n<p><strong>ClientServiceImpl.java</strong> (option 1)</p>\n\n<pre><code>@Service\npublic class ClientServiceImpl implements ClientService{\n\n    private ClientRepository clientRepository;\n\n    @Autowired\n    public void setClientRepository(ClientRepository clientRepository){\n        this.clientRepository=clientRepository;\n    }\n\n    @Transactional\n    public void addClient(Client client){\n        clientRepository.saveAndFlush(client);\n    }\n}\n</code></pre>\n\n<p><strong>ClientServiceImpl.java</strong> (option 2/preferred)</p>\n\n<pre><code>@Service\npublic class ClientServiceImpl implements ClientService{\n\n    @Autowired\n    private ClientRepository clientRepository;\n\n    @Transactional\n    public void addClient(Client client){\n        clientRepository.saveAndFlush(client);\n    }\n}\n</code></pre>\n\n<p><strong>ClientController.java</strong></p>\n\n<pre><code>@Controller\npublic class ClientController {\n    private ClientService clientService;\n\n    @Autowired\n    //@Qualifier(\"clientService\")\n    public void setClientService(ClientService clientService){\n        this.clientService=clientService;\n    }\n\n    @RequestMapping(value = \"registration\", method = RequestMethod.GET)\n    public String reg(Model model){\n        model.addAttribute(\"client\", new Client());\n        return \"registration\";\n    }\n\n    @RequestMapping(value = \"registration/add\", method = RequestMethod.POST)\n    public String addUser(@ModelAttribute Client client){\n        this.clientService.addClient(client);\n    return \"home\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9568737,"reputation":308,"user_id":7107113,"display_name":"Bruno Delor"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483725980,"creation_date":1483725980,"answer_id":41511651,"question_id":41511511,"body_markdown":"Considering that your package scanning is correctly set either through XML configuration or annotation based configuration.\r\n\r\nYou will need a `@Repository` on your `ClientRepository` implementation as well to allow Spring to use it in an `@Autowired`. Since it&#39;s not here we can only suppose that&#39;s what&#39;s missing.\r\n\r\nAs a side note, it would be cleaner to put your `@Autowired`/`@Qualifier` directly on your member if the setter method is only used for the `@Autowired`.\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;clientRepository&quot;)\r\n    private ClientRepository clientRepository;\r\n\r\nLastly, you don&#39;t need the `@Qualifier` is there is only one class implementing the bean definition so unless you have several implementation of `ClientService ` and `ClientRepository ` you can remove the `@Qualifier`","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>Considering that your package scanning is correctly set either through XML configuration or annotation based configuration.</p>\n\n<p>You will need a <code>@Repository</code> on your <code>ClientRepository</code> implementation as well to allow Spring to use it in an <code>@Autowired</code>. Since it's not here we can only suppose that's what's missing.</p>\n\n<p>As a side note, it would be cleaner to put your <code>@Autowired</code>/<code>@Qualifier</code> directly on your member if the setter method is only used for the <code>@Autowired</code>.</p>\n\n<pre><code>@Autowired\n@Qualifier(\"clientRepository\")\nprivate ClientRepository clientRepository;\n</code></pre>\n\n<p>Lastly, you don't need the <code>@Qualifier</code> is there is only one class implementing the bean definition so unless you have several implementation of <code>ClientService</code> and <code>ClientRepository</code> you can remove the <code>@Qualifier</code></p>\n"},{"tags":[],"owner":{"account_id":12546935,"reputation":1675,"user_id":9129885,"display_name":"Shubham Chopra"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1520929649,"creation_date":1520929649,"answer_id":49251441,"question_id":41511511,"body_markdown":"Try adding @EntityScan(basePackages = &quot;insert package name here&quot;) on top of your main class.","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>Try adding @EntityScan(basePackages = \"insert package name here\") on top of your main class.</p>\n"},{"tags":[],"owner":{"account_id":12158049,"reputation":51,"user_id":8876452,"display_name":"Ricuzzo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522743683,"creation_date":1522743683,"answer_id":49625394,"question_id":41511511,"body_markdown":"That might happen because the pojos you are using lack of the precise constructor the service needs. That is, try to generate  all the constructors for the pojo or objects (model object) that your serviceClient uses, so that the client can be instanced correctly. In your case,regenerate the constructors (with arguments)for your client object (taht is your model object).","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>That might happen because the pojos you are using lack of the precise constructor the service needs. That is, try to generate  all the constructors for the pojo or objects (model object) that your serviceClient uses, so that the client can be instanced correctly. In your case,regenerate the constructors (with arguments)for your client object (taht is your model object).</p>\n"},{"tags":[],"owner":{"account_id":13413002,"reputation":31,"user_id":9678664,"display_name":"oceangs"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1524319586,"creation_date":1524314763,"answer_id":49955921,"question_id":41511511,"body_markdown":"The application needs to be placed in the same directory as the scanned package:\r\n\r\n![enter image description here][1]\r\n\r\n  [1]: https://i.stack.imgur.com/gFQLN.png","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>The application needs to be placed in the same directory as the scanned package:</p>\n\n<p><img src=\"https://i.stack.imgur.com/gFQLN.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1170705,"reputation":3957,"user_id":1147963,"display_name":"Krist&#243;f Dombi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525439325,"creation_date":1525439325,"answer_id":50175757,"question_id":41511511,"body_markdown":"I had the exactly same issue, with a very very long stack trace.\r\nAt the end of the trace I saw this:\r\n\r\n&gt; InvalidQueryException: Keyspace &#39;mykeyspace&#39; does not exist\r\n\r\nI created the keyspace in cassandra, and solved the problem.\r\n\r\n    CREATE KEYSPACE mykeyspace\r\n      WITH REPLICATION = { \r\n       &#39;class&#39; : &#39;SimpleStrategy&#39;, \r\n       &#39;replication_factor&#39; : 1 \r\n      };","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>I had the exactly same issue, with a very very long stack trace.\nAt the end of the trace I saw this:</p>\n\n<blockquote>\n  <p>InvalidQueryException: Keyspace 'mykeyspace' does not exist</p>\n</blockquote>\n\n<p>I created the keyspace in cassandra, and solved the problem.</p>\n\n<pre><code>CREATE KEYSPACE mykeyspace\n  WITH REPLICATION = { \n   'class' : 'SimpleStrategy', \n   'replication_factor' : 1 \n  };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3233674,"reputation":41,"user_id":2728345,"display_name":"Nitish Sharma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526763077,"creation_date":1526763077,"answer_id":50429384,"question_id":41511511,"body_markdown":"I was facing the same issue, and it was, as i missed marking my DAO class with Entity annotations. I tried below and error got resolved.\r\n\r\n    /**\r\n    *`enter code here`\r\n    */\r\n    @Entity &lt;-- was missing earlier\r\n        public class Topic {\r\n        \t@Id  \r\n        \tString id;\r\n        \tString name;\r\n        \tString desc;\r\n        \r\n        .\r\n        .\r\n        .\r\n        }","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>I was facing the same issue, and it was, as i missed marking my DAO class with Entity annotations. I tried below and error got resolved.</p>\n\n<pre><code>/**\n*`enter code here`\n*/\n@Entity &lt;-- was missing earlier\n    public class Topic {\n        @Id  \n        String id;\n        String name;\n        String desc;\n\n    .\n    .\n    .\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9428710,"reputation":11,"user_id":7012916,"display_name":"Siddaraju Siddappa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536605925,"creation_date":1536605925,"answer_id":52263897,"question_id":41511511,"body_markdown":"Check out the table structure of Client table, if there is a mismatch between table structure in db and the entity, you would get this error..\r\n\r\n\r\nI had this error which was coming due to datatype mismatch of primary key between db table and the entity ...  \r\n\r\n","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>Check out the table structure of Client table, if there is a mismatch between table structure in db and the entity, you would get this error..</p>\n\n<p>I had this error which was coming due to datatype mismatch of primary key between db table and the entity ...  </p>\n"},{"tags":[],"owner":{"account_id":14513422,"reputation":41,"user_id":10483192,"display_name":"Nesryna"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1539163401,"creation_date":1539162411,"answer_id":52736540,"question_id":41511511,"body_markdown":"I just added the `@Repository` annotation to Repository interface and `@EnableJpaRepositories` (&quot;domain.repositroy-package&quot;) to the main class. It worked just fine.","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>I just added the <code>@Repository</code> annotation to Repository interface and <code>@EnableJpaRepositories</code> (\"domain.repositroy-package\") to the main class. It worked just fine.</p>\n"},{"tags":[],"owner":{"account_id":3732221,"reputation":566,"user_id":4361933,"accept_rate":0,"display_name":"&#214;MER TAŞCI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540420557,"creation_date":1540420557,"answer_id":52978845,"question_id":41511511,"body_markdown":"If you describe a field as criteria in method definition (&quot;findBy&quot;), You must pass that parameter to the method, otherwise you will get &quot;Unsatisfied dependency expressed through method  parameter&quot; exception.\r\n\r\n\r\n    public interface ClientRepository extends JpaRepository&lt;Client, Integer&gt; {\r\n           Client findByClientId();                ////WRONG !!!!\r\n           Client findByClientId(int clientId);    /// CORRECT \r\n    }\r\n*I assume that your Client entity has clientId attribute.","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>If you describe a field as criteria in method definition (\"findBy\"), You must pass that parameter to the method, otherwise you will get \"Unsatisfied dependency expressed through method  parameter\" exception.</p>\n\n<pre><code>public interface ClientRepository extends JpaRepository&lt;Client, Integer&gt; {\n       Client findByClientId();                ////WRONG !!!!\n       Client findByClientId(int clientId);    /// CORRECT \n}\n</code></pre>\n\n<p>*I assume that your Client entity has clientId attribute.</p>\n"},{"tags":[],"owner":{"account_id":8788967,"reputation":131,"user_id":9528389,"display_name":"ben fadhel Ichraf"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1544816922,"creation_date":1544812737,"answer_id":53785214,"question_id":41511511,"body_markdown":"I know it seems too late, but it may help others in future.\r\n\r\nI face the same error and the problem was that spring boot did not read my services package so add:\r\n\r\n`@ComponentScan(basePackages = {&quot;com.example.demo.Services&quot;})` (you have to specify your own path to the services package) and in the class  `demoApplication` (class that have main function) and for service interface must be annotated  `@Service` and the class that implement the service interface must be annotated with `@Component`, then autowired the service interface.\r\n\r\n\r\n","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>I know it seems too late, but it may help others in future.</p>\n\n<p>I face the same error and the problem was that spring boot did not read my services package so add:</p>\n\n<p><code>@ComponentScan(basePackages = {\"com.example.demo.Services\"})</code> (you have to specify your own path to the services package) and in the class  <code>demoApplication</code> (class that have main function) and for service interface must be annotated  <code>@Service</code> and the class that implement the service interface must be annotated with <code>@Component</code>, then autowired the service interface.</p>\n"},{"tags":[],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1550604422,"creation_date":1550604422,"answer_id":54773593,"question_id":41511511,"body_markdown":"If you are using Spring Boot, your main app should be like this (just to make and understand things in simple way)  - \r\n\r\n    package aaa.bbb.ccc;\r\n    @SpringBootApplication\r\n    @ComponentScan({ &quot;aaa.bbb.ccc.*&quot; })\r\n    public class Application {\r\n    .....\r\n\r\nMake sure you have @Repository and @Service appropriately annotated.\r\n\r\nMake sure all your packages fall under - aaa.bbb.ccc.*\r\n\r\nIn most cases this setup resolves these kind of trivial issues. [Here][1] is a full blown example. Hope it helps.\r\n\r\n\r\n  [1]: https://github.com/ajkr195/springbootrocks","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>If you are using Spring Boot, your main app should be like this (just to make and understand things in simple way)  - </p>\n\n<pre><code>package aaa.bbb.ccc;\n@SpringBootApplication\n@ComponentScan({ \"aaa.bbb.ccc.*\" })\npublic class Application {\n.....\n</code></pre>\n\n<p>Make sure you have @Repository and @Service appropriately annotated.</p>\n\n<p>Make sure all your packages fall under - aaa.bbb.ccc.*</p>\n\n<p>In most cases this setup resolves these kind of trivial issues. <a href=\"https://github.com/ajkr195/springbootrocks\" rel=\"noreferrer\">Here</a> is a full blown example. Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":14293268,"reputation":105,"user_id":10324643,"display_name":"Himanshu Shukla"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1609551280,"creation_date":1553136397,"answer_id":55273041,"question_id":41511511,"body_markdown":"See if your \t`&lt;context:component-scan base-package=&quot;your package &quot;/&gt;` is missing in either config or context xml file","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>See if your     <code>&lt;context:component-scan base-package=&quot;your package &quot;/&gt;</code> is missing in either config or context xml file</p>\n"},{"tags":[],"owner":{"account_id":1303659,"reputation":2036,"user_id":1253088,"display_name":"Vaibs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556597888,"creation_date":1556597888,"answer_id":55913916,"question_id":41511511,"body_markdown":"That was the version incompatibility where their was the inclusion of lettuce. When i excluded , it worked for me.\r\n\r\n    &lt;!--Spring-Boot 2.0.0 --&gt;\r\n        &lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t        &lt;exclusion&gt;\r\n        \t\t            &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\r\n        \t\t            &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\r\n        \t\t        &lt;/exclusion&gt;\r\n        \t\t    &lt;/exclusions&gt;    \r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n        \t\t    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>That was the version incompatibility where their was the inclusion of lettuce. When i excluded , it worked for me.</p>\n\n<pre><code>&lt;!--Spring-Boot 2.0.0 --&gt;\n    &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\n                        &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;    \n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n                &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1839842,"reputation":674,"user_id":1669478,"display_name":"erdikanik"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1564343317,"creation_date":1564343317,"answer_id":57244428,"question_id":41511511,"body_markdown":"Just add @Service annotation to top of the service class","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>Just add @Service annotation to top of the service class</p>\n"},{"tags":[],"owner":{"account_id":7659881,"reputation":354,"user_id":5805507,"display_name":"sashiksu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570088453,"creation_date":1570047781,"answer_id":58208879,"question_id":41511511,"body_markdown":"There is **another** instance still same error will shown after you doing everything above mentioned. When you change your codes accordingly mentioned solutions make sure to keep originals. So you can easily go back. So go and again **check dispatcher-servelet** configuration file&#39;s base package location. Is it *scanning all relevant packages* when you running application.\r\n\r\n    &lt;context:component-scan base-package=&quot;your.pakage.path.here&quot;/&gt;","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>There is <strong>another</strong> instance still same error will shown after you doing everything above mentioned. When you change your codes accordingly mentioned solutions make sure to keep originals. So you can easily go back. So go and again <strong>check dispatcher-servelet</strong> configuration file's base package location. Is it <em>scanning all relevant packages</em> when you running application.</p>\n\n<pre><code>&lt;context:component-scan base-package=\"your.pakage.path.here\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8279939,"reputation":272,"user_id":6224955,"display_name":"Rajeev Ranjan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1597141129,"creation_date":1597141129,"answer_id":63356130,"question_id":41511511,"body_markdown":"Add @Component annotation just above the component definition","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>Add @Component annotation just above the component definition</p>\n"},{"tags":[],"owner":{"account_id":13069368,"reputation":386,"user_id":9443465,"display_name":"Sachithra Dilshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609548675,"creation_date":1609537096,"answer_id":65533924,"question_id":41511511,"body_markdown":"This error can occur if there are syntax errors with Derived Query Methods. For example, if there are some mismatches with entity class fields and the Derived methods&#39; names.","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>This error can occur if there are syntax errors with Derived Query Methods. For example, if there are some mismatches with entity class fields and the Derived methods' names.</p>\n"},{"tags":[],"owner":{"account_id":5977736,"reputation":47,"user_id":4697987,"display_name":"Aamir Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632290139,"creation_date":1632290139,"answer_id":69278893,"question_id":41511511,"body_markdown":"I was facing this issue because of duplicate column name **staffId** and **staff_id** in same entity class.\r\n\r\n        private Integer staffId;\r\n        @ManyToOne(cascade = CascadeType.ALL, optional = false)\r\n        @JoinColumn(name = &quot;staff_id&quot;)\r\n        private User user;","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>I was facing this issue because of duplicate column name <strong>staffId</strong> and <strong>staff_id</strong> in same entity class.</p>\n<pre><code>    private Integer staffId;\n    @ManyToOne(cascade = CascadeType.ALL, optional = false)\n    @JoinColumn(name = &quot;staff_id&quot;)\n    private User user;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11968464,"reputation":61,"user_id":8757504,"display_name":"Bilal Sheikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647871226,"creation_date":1647871226,"answer_id":71558885,"question_id":41511511,"body_markdown":"My issue got resolved by adding &quot;value&quot; &amp; &quot;nativeQuery&quot; tags in @Query annotation like this:\r\n\r\n    @Query(value = &quot;select * from employee e where e.email_address = ?1&quot;, nativeQuery = true)","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>My issue got resolved by adding &quot;value&quot; &amp; &quot;nativeQuery&quot; tags in @Query annotation like this:</p>\n<pre><code>@Query(value = &quot;select * from employee e where e.email_address = ?1&quot;, nativeQuery = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650878808,"creation_date":1650878808,"answer_id":71997284,"question_id":41511511,"body_markdown":"In my case, I was using dependency of `spring boot 3` in `spring boot 4.`\r\nmake sure you use latest dependency version.\r\n\r\nyou can find that here https://mvnrepository.com/","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>In my case, I was using dependency of <code>spring boot 3</code> in <code>spring boot 4.</code>\nmake sure you use latest dependency version.</p>\n<p>you can find that here <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a></p>\n"},{"tags":[],"owner":{"account_id":19320165,"reputation":99,"user_id":14124017,"display_name":"Om Prakash N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672891517,"creation_date":1672891517,"answer_id":75013745,"question_id":41511511,"body_markdown":"I was facing the same issue. In my **Product Entity Class** I had imported @Id from `org.springframework.data.annotation.Id` and this was causing the error.\r\n\r\nIt was fixed after I change it to `import jakarta.persistence.Id;`","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>I was facing the same issue. In my <strong>Product Entity Class</strong> I had imported @Id from <code>org.springframework.data.annotation.Id</code> and this was causing the error.</p>\n<p>It was fixed after I change it to <code>import jakarta.persistence.Id;</code></p>\n"},{"tags":[],"owner":{"account_id":20283456,"reputation":31,"user_id":14876640,"display_name":"kumar_kal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677950051,"creation_date":1677950051,"answer_id":75637299,"question_id":41511511,"body_markdown":"Below one may be one of the reason, I was able to solve my error by doing that.\r\n\r\n**Just make sure that the methods you have written in Dao are correct or not, means the method is unique or not.**","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>Below one may be one of the reason, I was able to solve my error by doing that.</p>\n<p><strong>Just make sure that the methods you have written in Dao are correct or not, means the method is unique or not.</strong></p>\n"},{"tags":[],"owner":{"account_id":8426224,"reputation":338,"user_id":10379995,"display_name":"Gouranga Satapathy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692013329,"creation_date":1692013329,"answer_id":76898645,"question_id":41511511,"body_markdown":"add the below code in your main class, springboot might not able to scan the jpa lavel pakage.\r\n\r\n    @SpringBootApplication(scanBasePackages={&quot;com.*&quot;})\r\n    @EntityScan( basePackages = {&quot;com.*&quot;} )\r\n    @EnableJpaRepositories( basePackages = {&quot;com.*&quot;} )\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dgzSY.png","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>add the below code in your main class, springboot might not able to scan the jpa lavel pakage.</p>\n<pre><code>@SpringBootApplication(scanBasePackages={&quot;com.*&quot;})\n@EntityScan( basePackages = {&quot;com.*&quot;} )\n@EnableJpaRepositories( basePackages = {&quot;com.*&quot;} )\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dgzSY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dgzSY.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7774276,"reputation":1301,"user_id":6480625,"accept_rate":33,"display_name":"kopylov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":918141,"favorite_count":0,"down_vote_count":0,"up_vote_count":108,"accepted_answer_id":41511612,"answer_count":26,"score":108,"last_activity_date":1692013329,"creation_date":1483725446,"question_id":41511511,"body_markdown":"For several days I have been trying to create a Spring CRUD application. I&#39;m confused.\r\nI can&#39;t solve these errors.\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;clientController&#39;: Unsatisfied dependency expressed through method &#39;setClientService&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;clientService&#39;: Unsatisfied dependency expressed through field &#39;clientRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.kopylov.repository.ClientRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\nAnd this:\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;clientService&#39;: Unsatisfied dependency expressed through field &#39;clientRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.kopylov.repository.ClientRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\n**ClientController**\r\n\r\n    @Controller\r\n    public class ClientController {\r\n        private ClientService clientService;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;clientService&quot;)\r\n        public void setClientService(ClientService clientService) {\r\n            this.clientService = clientService;\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;registration/add&quot;, method = RequestMethod.POST)\r\n        public String addUser(@ModelAttribute Client client) {\r\n            this.clientService.addClient(client);\r\n            return &quot;home&quot;;\r\n        }\r\n    }\r\n\r\n**ClientServiceImpl**\r\n\r\n    @Service(&quot;clientService&quot;)\r\n    public class ClientServiceImpl implements ClientService {\r\n    \r\n        private ClientRepository clientRepository;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;clientRepository&quot;)\r\n        public void setClientRepository(ClientRepository clientRepository) {\r\n            this.clientRepository = clientRepository;\r\n        }\r\n    \r\n        @Transactional\r\n        public void addClient(Client client) {\r\n            clientRepository.saveAndFlush(client);\r\n        }\r\n    }\r\n\r\n**ClientRepository**\r\n\r\n    public interface ClientRepository extends JpaRepository&lt;Client, Integer&gt; {\r\n\r\n    }\r\n\r\nI looked through a lot of similar questions, but not one answer to them helps me.\r\n","title":"UnsatisfiedDependencyException: Error creating bean with name","body":"<p>For several days I have been trying to create a Spring CRUD application. I'm confused.\nI can't solve these errors.</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'clientController': Unsatisfied dependency expressed through method 'setClientService' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'clientService': Unsatisfied dependency expressed through field 'clientRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.kopylov.repository.ClientRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</p>\n</blockquote>\n<p>And this:</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'clientService': Unsatisfied dependency expressed through field 'clientRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.kopylov.repository.ClientRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</p>\n</blockquote>\n<p><strong>ClientController</strong></p>\n<pre><code>@Controller\npublic class ClientController {\n    private ClientService clientService;\n\n    @Autowired\n    @Qualifier(&quot;clientService&quot;)\n    public void setClientService(ClientService clientService) {\n        this.clientService = clientService;\n    }\n\n    @RequestMapping(value = &quot;registration/add&quot;, method = RequestMethod.POST)\n    public String addUser(@ModelAttribute Client client) {\n        this.clientService.addClient(client);\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n<p><strong>ClientServiceImpl</strong></p>\n<pre><code>@Service(&quot;clientService&quot;)\npublic class ClientServiceImpl implements ClientService {\n\n    private ClientRepository clientRepository;\n\n    @Autowired\n    @Qualifier(&quot;clientRepository&quot;)\n    public void setClientRepository(ClientRepository clientRepository) {\n        this.clientRepository = clientRepository;\n    }\n\n    @Transactional\n    public void addClient(Client client) {\n        clientRepository.saveAndFlush(client);\n    }\n}\n</code></pre>\n<p><strong>ClientRepository</strong></p>\n<pre><code>public interface ClientRepository extends JpaRepository&lt;Client, Integer&gt; {\n\n}\n</code></pre>\n<p>I looked through a lot of similar questions, but not one answer to them helps me.</p>\n"},{"tags":["java","logging","aws-lambda","micronaut"],"answers":[{"tags":[],"owner":{"account_id":29144271,"reputation":1,"user_id":22326559,"display_name":"Parag Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692012962,"creation_date":1691752948,"answer_id":76883107,"question_id":58490168,"body_markdown":"The default Micronaut application when deployed on AWS lambda needs to send logs to CloudWatch. I notice you had only listed STDOUT appenders, which could be the reason for logs not showing up on CloudWatch.\r\n\r\nAdd a CloudWatch appender; something like this:\r\n\r\n        &lt;appender name=&quot;CLOUDWATCH&quot; class=&quot;io.micronaut.aws.cloudwatch.logging.CloudWatchLoggingAppender&quot;&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n                &lt;jsonFormatter class=&quot;io.micronaut.aws.cloudwatch.logging.CloudWatchJsonFormatter&quot;/&gt;\r\n                &lt;!-- Define the custom fields using %X --&gt;\r\n                &lt;pattern&gt;\r\n                    {\r\n                    &quot;timestamp&quot;: &quot;%date{yyyy-MM-dd HH:mm:ss.SSS}&quot;,\r\n                    &quot;level&quot;: &quot;%level&quot;,\r\n                    &quot;message&quot;: &quot;%msg&quot;,\r\n                    &quot;AWSRequestId&quot;: &quot;%X{AWSRequestId}&quot;,\r\n                    &quot;AWSFunctionName&quot;: &quot;%X{AWSFunctionName}&quot;,\r\n                    &quot;AWSFunctionVersion&quot;: &quot;%X{AWSFunctionVersion}&quot;,\r\n                    &quot;AWSXRayTraceId&quot;: &quot;%X{AWS-XRAY-TRACE-ID}&quot;\r\n                    }\r\n                &lt;/pattern&gt;\r\n                &lt;logEntrySeparator&gt;&lt;/logEntrySeparator&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\nFeel free to remove the pattern and any other bells and whistles. \r\n\r\nAlso as a side note, I noticed you have turned Jansi on, so make sure to include the required library in your Maven or Gradle dependencies. \r\n\r\nRegarding SAM CLI, by which I assume you mean:\r\n```\r\n&gt; sam local\r\n```\r\nYou could do something like this to print logs in a log file:\r\n\r\n    sam local start-api --template sam-template-local.yaml --log-file sam-local.log \r\n\r\nAlso, you don&#39;t need any specific logger dependency in case you are using Micronaut logging dependency, just the slf4j wrapper to go with it, like (in build.gradle)\r\n\r\n    implementation(&quot;io.micronaut.aws:micronaut-aws-cloudwatch-logging&quot;)\r\n    implementation(&quot;org.slf4j:slf4j-api&quot;)","title":"Micronaut AWS Lambda logs are not showing in cloudfront","body":"<p>The default Micronaut application when deployed on AWS lambda needs to send logs to CloudWatch. I notice you had only listed STDOUT appenders, which could be the reason for logs not showing up on CloudWatch.</p>\n<p>Add a CloudWatch appender; something like this:</p>\n<pre><code>    &lt;appender name=&quot;CLOUDWATCH&quot; class=&quot;io.micronaut.aws.cloudwatch.logging.CloudWatchLoggingAppender&quot;&gt;\n    &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n            &lt;jsonFormatter class=&quot;io.micronaut.aws.cloudwatch.logging.CloudWatchJsonFormatter&quot;/&gt;\n            &lt;!-- Define the custom fields using %X --&gt;\n            &lt;pattern&gt;\n                {\n                &quot;timestamp&quot;: &quot;%date{yyyy-MM-dd HH:mm:ss.SSS}&quot;,\n                &quot;level&quot;: &quot;%level&quot;,\n                &quot;message&quot;: &quot;%msg&quot;,\n                &quot;AWSRequestId&quot;: &quot;%X{AWSRequestId}&quot;,\n                &quot;AWSFunctionName&quot;: &quot;%X{AWSFunctionName}&quot;,\n                &quot;AWSFunctionVersion&quot;: &quot;%X{AWSFunctionVersion}&quot;,\n                &quot;AWSXRayTraceId&quot;: &quot;%X{AWS-XRAY-TRACE-ID}&quot;\n                }\n            &lt;/pattern&gt;\n            &lt;logEntrySeparator&gt;&lt;/logEntrySeparator&gt;\n        &lt;/layout&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>Feel free to remove the pattern and any other bells and whistles.</p>\n<p>Also as a side note, I noticed you have turned Jansi on, so make sure to include the required library in your Maven or Gradle dependencies.</p>\n<p>Regarding SAM CLI, by which I assume you mean:</p>\n<pre><code>&gt; sam local\n</code></pre>\n<p>You could do something like this to print logs in a log file:</p>\n<pre><code>sam local start-api --template sam-template-local.yaml --log-file sam-local.log \n</code></pre>\n<p>Also, you don't need any specific logger dependency in case you are using Micronaut logging dependency, just the slf4j wrapper to go with it, like (in build.gradle)</p>\n<pre><code>implementation(&quot;io.micronaut.aws:micronaut-aws-cloudwatch-logging&quot;)\nimplementation(&quot;org.slf4j:slf4j-api&quot;)\n</code></pre>\n"}],"owner":{"account_id":2554082,"reputation":1268,"user_id":5638943,"display_name":"Kristi Jorgji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692012962,"creation_date":1571674087,"question_id":58490168,"body_markdown":"I setup a micronaut java aws lambda project like explained here:\r\nhttps://guides.micronaut.io/micronaut-function-aws-lambda/guide/index.html\r\n\r\nIn the main function of the Function class I have an example:\r\n```\r\nSystem.out.println(&quot;LOG TEST LOG LOG&quot;);\r\n\r\n```\r\n\r\nRunning locally as described in the documentation via \r\n```\r\necho &#39;{&quot;param1&quot;: &quot;23&quot;}&#39; | java -jar build/lib/myjar-full.jar\r\n```\r\nShows correctly the console output.\r\n\r\nRunning the same function online in AWS lambda, does not log that message in cloudwatch logs.\r\n\r\nThe same problem happens also running locally via SAM CLI as explained in Micronaut docs.\r\n\r\nAlso using slf4j logger, still I am not getting the output. \r\nI am providing below all the relevant code of my micronaut lambda function\r\n```\r\npackage lambda.test;\r\n\r\nimport io.micronaut.function.executor.FunctionInitializer;\r\nimport io.micronaut.function.FunctionBean;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.io.IOException;\r\nimport java.lang.invoke.MethodHandles;\r\nimport java.util.function.Function;\r\n\r\n@FunctionBean(&quot;example-lambda&quot;)\r\npublic class LambdaFunction extends FunctionInitializer implements Function&lt;Request, Response&gt; {\r\n    private static final Logger logger = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass().getSimpleName());\r\n\r\n \r\n    /**\r\n     * This main method allows running the function as a CLI application using: echo &#39;{}&#39; | java -jar function.jar\r\n     * where the argument to echo is the JSON to be parsed.\r\n     */\r\n    public static void main(String... args) throws IOException {\r\n        System.out.println(&quot;LOG TEST LOG LOG&quot;);\r\n        logger.info(String.format(&quot;Received the following payload: %s&quot;, String.join(&quot;;&quot;, args)));\r\n        LambdaFunction function = new LambdaFunction();\r\n        function.run(args, (context) -&gt; function.apply(context.get(Request.class)));\r\n    }\r\n```\r\n\r\nI also created ```log4j2.xml``` config file in the resources, with the following content\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;INFO&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nThe default ```logback.xml``` config that comes with micronaut has these content:\r\n```\r\n&lt;configuration&gt;\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;withJansi&gt;true&lt;/withJansi&gt;\r\n        &lt;!-- encoders are assigned the type\r\n             ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%cyan(%d{HH:mm:ss.SSS}) %gray([%thread]) %highlight(%-5level) %magenta(%logger{36}) - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;error&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nBoth ways of trying to log are not working online or with SAM CLI.\r\nI am still researching on how to do this, but so far I cannot find any information on their documentation or elsewhere.","title":"Micronaut AWS Lambda logs are not showing in cloudfront","body":"<p>I setup a micronaut java aws lambda project like explained here:\n<a href=\"https://guides.micronaut.io/micronaut-function-aws-lambda/guide/index.html\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/micronaut-function-aws-lambda/guide/index.html</a></p>\n\n<p>In the main function of the Function class I have an example:</p>\n\n<pre><code>System.out.println(\"LOG TEST LOG LOG\");\n\n</code></pre>\n\n<p>Running locally as described in the documentation via </p>\n\n<pre><code>echo '{\"param1\": \"23\"}' | java -jar build/lib/myjar-full.jar\n</code></pre>\n\n<p>Shows correctly the console output.</p>\n\n<p>Running the same function online in AWS lambda, does not log that message in cloudwatch logs.</p>\n\n<p>The same problem happens also running locally via SAM CLI as explained in Micronaut docs.</p>\n\n<p>Also using slf4j logger, still I am not getting the output. \nI am providing below all the relevant code of my micronaut lambda function</p>\n\n<pre><code>package lambda.test;\n\nimport io.micronaut.function.executor.FunctionInitializer;\nimport io.micronaut.function.FunctionBean;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.IOException;\nimport java.lang.invoke.MethodHandles;\nimport java.util.function.Function;\n\n@FunctionBean(\"example-lambda\")\npublic class LambdaFunction extends FunctionInitializer implements Function&lt;Request, Response&gt; {\n    private static final Logger logger = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass().getSimpleName());\n\n\n    /**\n     * This main method allows running the function as a CLI application using: echo '{}' | java -jar function.jar\n     * where the argument to echo is the JSON to be parsed.\n     */\n    public static void main(String... args) throws IOException {\n        System.out.println(\"LOG TEST LOG LOG\");\n        logger.info(String.format(\"Received the following payload: %s\", String.join(\";\", args)));\n        LambdaFunction function = new LambdaFunction();\n        function.run(args, (context) -&gt; function.apply(context.get(Request.class)));\n    }\n</code></pre>\n\n<p>I also created <code>log4j2.xml</code> config file in the resources, with the following content</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"INFO\"&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"Console\" target=\"SYSTEM_OUT\"&gt;\n            &lt;PatternLayout pattern=\"%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\"/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=\"INFO\"&gt;\n            &lt;AppenderRef ref=\"Console\"/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>The default <code>logback.xml</code> config that comes with micronaut has these content:</p>\n\n<pre><code>&lt;configuration&gt;\n\n    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;withJansi&gt;true&lt;/withJansi&gt;\n        &lt;!-- encoders are assigned the type\n             ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%cyan(%d{HH:mm:ss.SSS}) %gray([%thread]) %highlight(%-5level) %magenta(%logger{36}) - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=\"error\"&gt;\n        &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Both ways of trying to log are not working online or with SAM CLI.\nI am still researching on how to do this, but so far I cannot find any information on their documentation or elsewhere.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":1,"creation_date":1538262746,"post_id":9127644,"comment_id":92082830,"body_markdown":"Since 2008, there is an uppercase version: `ẞ` (U+1E9E), but the standard `toUpperCase` algorithm still maps `&#223;` to `SS` in 2018.","body":"Since 2008, there is an uppercase version: <code>ẞ</code> (U+1E9E), but the standard <code>toUpperCase</code> algorithm still maps <code>&#223;</code> to <code>SS</code> in 2018."}],"answers":[{"tags":[],"owner":{"display_name":"user647772"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328267300,"creation_date":1328267300,"answer_id":9127689,"question_id":9127644,"body_markdown":"Try [`java.lang.String.toUpperCase(java.util.Locale)`][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#toUpperCase%28java.util.Locale%29","title":"converting &#223;.cfg to upper case using toUpperCase() in java","body":"<p>Try <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#toUpperCase%28java.util.Locale%29\" rel=\"nofollow\"><code>java.lang.String.toUpperCase(java.util.Locale)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":209343,"reputation":4288,"user_id":460306,"accept_rate":79,"display_name":"greuze"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1328269085,"creation_date":1328267347,"answer_id":9127697,"question_id":9127644,"body_markdown":"&quot;&#223;&quot; character is equivalent to &quot;ss&quot; (used in German, for example), and this is defined so in your Locale (the Locale you are using in your app).\r\n\r\nYou can try to do some experiment with a different Locale using method:\r\n\r\n    toUpperCase(Locale locale) \r\n\r\nEdit: As the user said, this method is not valid, a possible workaroud (not very elegant) is:\r\n\r\n        String s1 = new String (&quot;au&#223;.cfg&quot;).replace(&#39;&#223;&#39;, &#39;\\u9999&#39;);\r\n        System.out.println (s1.toUpperCase(Locale.UK).replace(&#39;\\u9999&#39;, &#39;&#223;&#39;));","title":"converting &#223;.cfg to upper case using toUpperCase() in java","body":"<p>\"ß\" character is equivalent to \"ss\" (used in German, for example), and this is defined so in your Locale (the Locale you are using in your app).</p>\n\n<p>You can try to do some experiment with a different Locale using method:</p>\n\n<pre><code>toUpperCase(Locale locale) \n</code></pre>\n\n<p>Edit: As the user said, this method is not valid, a possible workaroud (not very elegant) is:</p>\n\n<pre><code>    String s1 = new String (\"auß.cfg\").replace('ß', '\\u9999');\n    System.out.println (s1.toUpperCase(Locale.UK).replace('\\u9999', 'ß'));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1328267564,"creation_date":1328267564,"answer_id":9127750,"question_id":9127644,"body_markdown":"The documentation for [`toUpperCase( Locale )`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#toUpperCase%28java.util.Locale%29) explicitly states that this is what will happen:\n\n&gt; Since case mappings are not always 1:1 char mappings, the resulting String may be a different length than the original String. \n&gt;\n&gt; small letter sharp s -&gt; two letters: SS","title":"converting &#223;.cfg to upper case using toUpperCase() in java","body":"<p>The documentation for <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#toUpperCase%28java.util.Locale%29\" rel=\"noreferrer\"><code>toUpperCase( Locale )</code></a> explicitly states that this is what will happen:</p>\n<blockquote>\n<p>Since case mappings are not always 1:1 char mappings, the resulting String may be a different length than the original String.</p>\n<p>small letter sharp s -&gt; two letters: SS</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328267807,"creation_date":1328267807,"answer_id":9127793,"question_id":9127644,"body_markdown":"It looks like `Characeter.toUpperCase()` ignores these rules, so that you can use it to implement the desired conversion:\r\n\r\n&gt; String case mapping methods have several benefits over Character case mapping methods. String case mapping methods can perform locale-sensitive mappings, context-sensitive mappings, and 1:M character mappings, whereas the Character case mapping methods cannot. \r\n\r\n","title":"converting &#223;.cfg to upper case using toUpperCase() in java","body":"<p>It looks like <code>Characeter.toUpperCase()</code> ignores these rules, so that you can use it to implement the desired conversion:</p>\n\n<blockquote>\n  <p>String case mapping methods have several benefits over Character case mapping methods. String case mapping methods can perform locale-sensitive mappings, context-sensitive mappings, and 1:M character mappings, whereas the Character case mapping methods cannot. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1328269294,"creation_date":1328268714,"answer_id":9127989,"question_id":9127644,"body_markdown":"The Java implementation is simply following what the Unicode specification says.  And Unicode says this:\r\n\r\n    # ================================================================================\r\n    # Unconditional mappings\r\n    # ================================================================================\r\n\r\n    # The German es-zed is special--the normal mapping is to SS.\r\n    # Note: the titlecase should never occur in practice. It is equal to titlecase(uppercase(&lt;es-zed&gt;))\r\n\r\n    00DF; 00DF; 0053 0073; 0053 0053; # LATIN SMALL LETTER SHARP S\r\n\r\nReference: http://unicode.org/Public/UNIDATA/SpecialCasing.txt\r\n\r\nIf you want to implement a form of uppercase conversion that is different to Unicode, you&#39;ll need to specify and implement it yourself. \r\n\r\n----------\r\n\r\n&lt;sub&gt;(If you want to see a bunch of people getting hot under the collar about &quot;uppercase &#223;&quot;, read this email thread - http://unicode.org/mail-arch/unicode-ml/y2007-m05/0007.html )&lt;/sub&gt;","title":"converting &#223;.cfg to upper case using toUpperCase() in java","body":"<p>The Java implementation is simply following what the Unicode specification says.  And Unicode says this:</p>\n\n<pre><code># ================================================================================\n# Unconditional mappings\n# ================================================================================\n\n# The German es-zed is special--the normal mapping is to SS.\n# Note: the titlecase should never occur in practice. It is equal to titlecase(uppercase(&lt;es-zed&gt;))\n\n00DF; 00DF; 0053 0073; 0053 0053; # LATIN SMALL LETTER SHARP S\n</code></pre>\n\n<p>Reference: <a href=\"http://unicode.org/Public/UNIDATA/SpecialCasing.txt\" rel=\"nofollow\">http://unicode.org/Public/UNIDATA/SpecialCasing.txt</a></p>\n\n<p>If you want to implement a form of uppercase conversion that is different to Unicode, you'll need to specify and implement it yourself. </p>\n\n<hr>\n\n<p><sub>(If you want to see a bunch of people getting hot under the collar about \"uppercase ß\", read this email thread - <a href=\"http://unicode.org/mail-arch/unicode-ml/y2007-m05/0007.html\" rel=\"nofollow\">http://unicode.org/mail-arch/unicode-ml/y2007-m05/0007.html</a> )</sub></p>\n"},{"tags":[],"owner":{"account_id":18929931,"reputation":1,"user_id":13812237,"display_name":"רואד מנסור"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674038938,"creation_date":1674038851,"answer_id":75158044,"question_id":9127644,"body_markdown":"&gt; this will solve the case\r\n\r\n    char[] chars = &quot;&#223;denr&#228;&quot;.toCharArray();\r\n    for (int i = 0; i &lt; chars.length; i++) {\r\n    chars[i] = Character.toUpperCase(chars[i]);\r\n    }\r\n    String output = new String(chars);\r\n    System.out.println(output);\r\n\r\n\r\n&gt; result: &#223;DENR&#196;","title":"converting &#223;.cfg to upper case using toUpperCase() in java","body":"<blockquote>\n<p>this will solve the case</p>\n</blockquote>\n<pre><code>char[] chars = &quot;ßdenrä&quot;.toCharArray();\nfor (int i = 0; i &lt; chars.length; i++) {\nchars[i] = Character.toUpperCase(chars[i]);\n}\nString output = new String(chars);\nSystem.out.println(output);\n</code></pre>\n<blockquote>\n<p>result: ßDENRÄ</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5728675,"reputation":21,"user_id":4524905,"display_name":"Rasto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692012790,"creation_date":1692012790,"answer_id":76898580,"question_id":9127644,"body_markdown":"If you have mixed occurence of &quot;&#223;&quot; and &quot;SS&quot; in the origin word, then such simple method would help:\r\n\r\n        private String toUppercaseWithSharpS(String originString) {\r\n        Pattern sharpSPattern = Pattern.compile(&quot;&#223;&quot;);\r\n        Matcher shaprSMatcher = sharpSPattern.matcher(originString);\r\n        String placeholder = &quot;SHARP-S&quot;;\r\n        String upperCasedString = shaprSMatcher.replaceAll(placeholder);\r\n        upperCasedString = upperCasedString.toUpperCase(); //replaces &#223; with SS, see https://bugs.openjdk.org/browse/JDK-8186073);\r\n        upperCasedString = upperCasedString.replaceAll(placeholder, &quot;&#223;&quot;);\r\n\r\n        return upperCasedString;\r\n    }","title":"converting &#223;.cfg to upper case using toUpperCase() in java","body":"<p>If you have mixed occurence of &quot;ß&quot; and &quot;SS&quot; in the origin word, then such simple method would help:</p>\n<pre><code>    private String toUppercaseWithSharpS(String originString) {\n    Pattern sharpSPattern = Pattern.compile(&quot;ß&quot;);\n    Matcher shaprSMatcher = sharpSPattern.matcher(originString);\n    String placeholder = &quot;SHARP-S&quot;;\n    String upperCasedString = shaprSMatcher.replaceAll(placeholder);\n    upperCasedString = upperCasedString.toUpperCase(); //replaces ß with SS, see https://bugs.openjdk.org/browse/JDK-8186073);\n    upperCasedString = upperCasedString.replaceAll(placeholder, &quot;ß&quot;);\n\n    return upperCasedString;\n}\n</code></pre>\n"}],"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7292,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":9127750,"answer_count":7,"score":7,"last_activity_date":1692012790,"creation_date":1328267135,"question_id":9127644,"body_markdown":"I am trying following code \r\n\r\n    String s1 = &quot;&#223;.cfg&quot;;\r\n    System.out.println (s.toUpperCase());\r\n\r\noutput I am getting is `SS.CFG` since Unicode didn&#39;t define an uppercase version of &#223; while I want the output as `&#223;.CFG`.\r\n\r\nIs there any way I can achieve that?","title":"converting &#223;.cfg to upper case using toUpperCase() in java","body":"<p>I am trying following code </p>\n\n<pre><code>String s1 = \"ß.cfg\";\nSystem.out.println (s.toUpperCase());\n</code></pre>\n\n<p>output I am getting is <code>SS.CFG</code> since Unicode didn't define an uppercase version of ß while I want the output as <code>ß.CFG</code>.</p>\n\n<p>Is there any way I can achieve that?</p>\n"},{"tags":["java","swing","jtree"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1691708947,"post_id":76879780,"comment_id":135532013,"body_markdown":"Use the `UIManager` to change icons; see also [_How to remove folder symbol which comes in front of each node from JTree in java_](https://stackoverflow.com/q/5260223/230513) and [_JTree: Set custom open/closed icons for individual groups_](https://stackoverflow.com/a/14097270/230513).","body":"Use the <code>UIManager</code> to change icons; see also <a href=\"https://stackoverflow.com/q/5260223/230513\"><i>How to remove folder symbol which comes in front of each node from JTree in java</i></a> and <a href=\"https://stackoverflow.com/a/14097270/230513\"><i>JTree: Set custom open/closed icons for individual groups</i></a>."},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1691709925,"post_id":76879780,"comment_id":135532087,"body_markdown":"In above examples the default arrows are still there in solution as well, which I don&#39;t need that.","body":"In above examples the default arrows are still there in solution as well, which I don&#39;t need that."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1691710209,"post_id":76879780,"comment_id":135532118,"body_markdown":"Why can&#39;t you replace them with `empty` from the first example?","body":"Why can&#39;t you replace them with <code>empty</code> from the first example?"},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1691710993,"post_id":76879780,"comment_id":135532201,"body_markdown":"check out the updated one, by applying empty it works! Now how can I make clickable closed arrow to expand &amp; How I can set a different icon for root only?","body":"check out the updated one, by applying empty it works! Now how can I make clickable closed arrow to expand &amp; How I can set a different icon for root only?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1691712700,"post_id":76879780,"comment_id":135532360,"body_markdown":"Note, a renderer should NOT do I/O. The Icons should be preloaded and ready to use so the renderer is efficient.","body":"Note, a renderer should NOT do I/O. The Icons should be preloaded and ready to use so the renderer is efficient."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1691713876,"post_id":76879780,"comment_id":135532478,"body_markdown":"*Now how can I make clickable closed arrow to expand* - never played with JTree before but based on the first link above, it seems to me like you should use your custom Icons for the collapsed/expanded icon UIManager properties. Then use the EmptyIcon for the closed/open icon properties.","body":"<i>Now how can I make clickable closed arrow to expand</i> - never played with JTree before but based on the first link above, it seems to me like you should use your custom Icons for the collapsed/expanded icon UIManager properties. Then use the EmptyIcon for the closed/open icon properties."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1691723371,"post_id":76879780,"comment_id":135533204,"body_markdown":"Have c loser look at the [JavaDocs for `DefaultTreeCellRenderer`](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/tree/DefaultTreeCellRenderer.html), it actually lists the look and feel properties for the expand/collapse icons, but you can also configure them individually via the classes `setOpen/Close/LeafIcon` methods","body":"Have c loser look at the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/tree/DefaultTreeCellRenderer.html\" rel=\"nofollow noreferrer\">JavaDocs for <code>DefaultTreeCellRenderer</code></a>, it actually lists the look and feel properties for the expand/collapse icons, but you can also configure them individually via the classes <code>setOpen&#47;Close&#47;LeafIcon</code> methods"},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1691983046,"post_id":76879780,"comment_id":135559477,"body_markdown":"@MadProgrammer well, in that case how can I make it actionable. I added `mouse listener action` but this works with whole row. I need to click only icons not the whole row?","body":"@MadProgrammer well, in that case how can I make it actionable. I added <code>mouse listener action</code> but this works with whole row. I need to click only icons not the whole row?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691985714,"post_id":76879780,"comment_id":135559679,"body_markdown":"@Alpha The `JTree` will do it automatically - when you click on the expand/collapse handle, the tree will perform the require action itself - [for example](https://stackoverflow.com/questions/14096725/jtree-set-custom-open-closed-icons-for-individual-groups/14098574#14098574)","body":"@Alpha The <code>JTree</code> will do it automatically - when you click on the expand/collapse handle, the tree will perform the require action itself - <a href=\"https://stackoverflow.com/questions/14096725/jtree-set-custom-open-closed-icons-for-individual-groups/14098574#14098574\">for example</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692012720,"creation_date":1692012720,"answer_id":76898575,"question_id":76879780,"body_markdown":"I apologies, you mean you want to replace the expand/collapse handles, not customise the expand/closed icons of the cell ... because `JTree` isn&#39;t confusing &#128580;\r\n\r\nIn order to do this, you either need to supply your own look and feel implementation OR customise the existing UI properties.\r\n\r\nThanks to TrashGod, the second method is relatively easy, just remember, this will effect ALL `JTree`s in your application.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTree;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.tree.DefaultMutableTreeNode;\r\n    import javax.swing.tree.DefaultTreeCellRenderer;\r\n    import javax.swing.tree.DefaultTreeModel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.put(&quot;Tree.expandedIcon&quot;, new ImageIcon(ImageIO.read(getClass().getResource(&quot;/images/icons8-expand-arrow-24.png&quot;))));\r\n                        UIManager.put(&quot;Tree.collapsedIcon&quot;, new ImageIcon(ImageIO.read(getClass().getResource(&quot;/images/icons8-collapse-arrow-24.png&quot;))));\r\n\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() throws IOException {\r\n                setLayout(new BorderLayout());\r\n                JTree tree = new JTree();\r\n                tree.setShowsRootHandles(true);\r\n\r\n                List&lt;Item&gt; items = new ArrayList&lt;&gt;(8);\r\n                items.add(new Item(&quot;Bowle&quot;,\r\n                        new Item[]{\r\n                            new Item(&quot;Apple&quot;),\r\n                            new Item(&quot;Pear&quot;),\r\n                            new Item(&quot;Orangle&quot;)\r\n                        }));\r\n                items.add(new Item(&quot;Freezer&quot;,\r\n                        new Item[]{\r\n                            new Item(&quot;Top draw&quot;, new Item[]{\r\n                                new Item(&quot;Chicken&quot;),\r\n                                new Item(&quot;Steak&quot;),\r\n                                new Item(&quot;Fish&quot;)}),\r\n                            new Item(&quot;Bottom draw&quot;, new Item[]{\r\n                                new Item(&quot;Pears&quot;),\r\n                                new Item(&quot;Chips&quot;),\r\n                                new Item(&quot;Ice cream&quot;)})\r\n                        }));\r\n\r\n                DefaultMutableTreeNode rootNode = new DefaultMutableTreeNode(&quot;My stuff&quot;);\r\n                for (Item item : items) {\r\n                    populate(rootNode, item);\r\n                }\r\n                DefaultTreeModel model = new DefaultTreeModel(rootNode);\r\n                tree.setModel(model);\r\n                tree.setCellRenderer(new ItemTreeCellRenderer());\r\n\r\n                add(new JScrollPane(tree));\r\n            }\r\n\r\n            protected void populate(DefaultMutableTreeNode parent, Item item) {\r\n                DefaultMutableTreeNode node = new DefaultMutableTreeNode(item);\r\n                parent.add(node);\r\n\r\n                for (Item child : item.getContents()) {\r\n                    populate(node, child);\r\n                }\r\n            }\r\n        }\r\n\r\n        class ItemTreeCellRenderer extends DefaultTreeCellRenderer {\r\n            @Override\r\n            public Component getTreeCellRendererComponent(JTree tree, Object value, boolean sel, boolean expanded, boolean leaf, int row, boolean hasFocus) {\r\n                if (value instanceof DefaultMutableTreeNode) {\r\n                    DefaultMutableTreeNode node = (DefaultMutableTreeNode) value;\r\n                    Object userValue = node.getUserObject();\r\n                    if (userValue instanceof Item) {\r\n                        Item item = (Item) userValue;\r\n                        value = item.getName();\r\n                    }\r\n                }\r\n                return super.getTreeCellRendererComponent(tree, value, sel, expanded, leaf, row, hasFocus);\r\n            }\r\n        }\r\n\r\n        public class Item {\r\n            private String name;\r\n            private List&lt;Item&gt; contents;\r\n\r\n            public Item(String name) {\r\n                this.name = name;\r\n                this.contents = new ArrayList&lt;&gt;(8);\r\n            }\r\n\r\n            public Item(String name, Item[] children) {\r\n                this.name = name;\r\n                this.contents = new ArrayList&lt;&gt;(Arrays.asList(children));\r\n            }\r\n\r\n            public String getName() {\r\n                return name;\r\n            }\r\n\r\n            public List&lt;Item&gt; getContents() {\r\n                return contents;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gXtAn.png","title":"JTree Default icons not removed with Root Icon","body":"<p>I apologies, you mean you want to replace the expand/collapse handles, not customise the expand/closed icons of the cell ... because <code>JTree</code> isn't confusing 🙄</p>\n<p>In order to do this, you either need to supply your own look and feel implementation OR customise the existing UI properties.</p>\n<p>Thanks to TrashGod, the second method is relatively easy, just remember, this will effect ALL <code>JTree</code>s in your application.</p>\n<p><a href=\"https://i.stack.imgur.com/gXtAn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gXtAn.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.EventQueue;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTree;\nimport javax.swing.UIManager;\nimport javax.swing.tree.DefaultMutableTreeNode;\nimport javax.swing.tree.DefaultTreeCellRenderer;\nimport javax.swing.tree.DefaultTreeModel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.put(&quot;Tree.expandedIcon&quot;, new ImageIcon(ImageIO.read(getClass().getResource(&quot;/images/icons8-expand-arrow-24.png&quot;))));\n                    UIManager.put(&quot;Tree.collapsedIcon&quot;, new ImageIcon(ImageIO.read(getClass().getResource(&quot;/images/icons8-collapse-arrow-24.png&quot;))));\n\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() throws IOException {\n            setLayout(new BorderLayout());\n            JTree tree = new JTree();\n            tree.setShowsRootHandles(true);\n\n            List&lt;Item&gt; items = new ArrayList&lt;&gt;(8);\n            items.add(new Item(&quot;Bowle&quot;,\n                    new Item[]{\n                        new Item(&quot;Apple&quot;),\n                        new Item(&quot;Pear&quot;),\n                        new Item(&quot;Orangle&quot;)\n                    }));\n            items.add(new Item(&quot;Freezer&quot;,\n                    new Item[]{\n                        new Item(&quot;Top draw&quot;, new Item[]{\n                            new Item(&quot;Chicken&quot;),\n                            new Item(&quot;Steak&quot;),\n                            new Item(&quot;Fish&quot;)}),\n                        new Item(&quot;Bottom draw&quot;, new Item[]{\n                            new Item(&quot;Pears&quot;),\n                            new Item(&quot;Chips&quot;),\n                            new Item(&quot;Ice cream&quot;)})\n                    }));\n\n            DefaultMutableTreeNode rootNode = new DefaultMutableTreeNode(&quot;My stuff&quot;);\n            for (Item item : items) {\n                populate(rootNode, item);\n            }\n            DefaultTreeModel model = new DefaultTreeModel(rootNode);\n            tree.setModel(model);\n            tree.setCellRenderer(new ItemTreeCellRenderer());\n\n            add(new JScrollPane(tree));\n        }\n\n        protected void populate(DefaultMutableTreeNode parent, Item item) {\n            DefaultMutableTreeNode node = new DefaultMutableTreeNode(item);\n            parent.add(node);\n\n            for (Item child : item.getContents()) {\n                populate(node, child);\n            }\n        }\n    }\n\n    class ItemTreeCellRenderer extends DefaultTreeCellRenderer {\n        @Override\n        public Component getTreeCellRendererComponent(JTree tree, Object value, boolean sel, boolean expanded, boolean leaf, int row, boolean hasFocus) {\n            if (value instanceof DefaultMutableTreeNode) {\n                DefaultMutableTreeNode node = (DefaultMutableTreeNode) value;\n                Object userValue = node.getUserObject();\n                if (userValue instanceof Item) {\n                    Item item = (Item) userValue;\n                    value = item.getName();\n                }\n            }\n            return super.getTreeCellRendererComponent(tree, value, sel, expanded, leaf, row, hasFocus);\n        }\n    }\n\n    public class Item {\n        private String name;\n        private List&lt;Item&gt; contents;\n\n        public Item(String name) {\n            this.name = name;\n            this.contents = new ArrayList&lt;&gt;(8);\n        }\n\n        public Item(String name, Item[] children) {\n            this.name = name;\n            this.contents = new ArrayList&lt;&gt;(Arrays.asList(children));\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public List&lt;Item&gt; getContents() {\n            return contents;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692012720,"creation_date":1691708329,"question_id":76879780,"body_markdown":"I am aware that there are relevant materials exists on google about JTree icons change, but still I am unable to sort out my simple requirements.\r\n\r\nI need to change the icon of `Root` element of JTree different than it&#39;s `node` &amp; `leaf`.\r\nI manage to change the node &amp; leaf icons, but the default arrow icons (red highlighted in picture) are still there &amp; I have to click on it to drill down the tree whereas I want to click on custom image icons to drill down the tree.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n        /** CHANGE JTREE DEFAULT ICONS  **/\r\n        \tprivate class userRendererForTree extends DefaultTreeCellRenderer {\r\n        \t\tprivate static final long serialVersionUID = 1L;\r\n        \r\n        \t\tpublic Component getTreeCellRendererComponent(JTree tree, Object value, boolean sel, boolean expanded,\r\n        \t\t\t\tboolean leaf, int row, boolean hasFocus) {\r\n        \r\n        \t\t\tsuper.getTreeCellRendererComponent(tree, value, sel, expanded, leaf, row, hasFocus);\r\n        \t\t\tif (leaf) {\r\n        \t\t\t\tsetIcon(setImageIcon(AppConstants.BOM_ROUTE_NODE_LEAF));\r\n        \t\t\t} else {\r\n        \t\t\t\tsetIcon(setImageIcon(AppConstants.BOM_ROUTE_NODE_RIGHT));\r\n        \t\t\t}\r\n        \t\t\tif (expanded) {\r\n        \t\t\t\tsetIcon(setImageIcon(AppConstants.BOM_ROUTE_NODE_BOTTOM));\r\n        \t\t\t}\r\n        \t\t\treturn this;\r\n        \t\t}\r\n        \t}\r\n    \r\n    /**  LOAD IMAGE ICON FROM RESOURCES  **/\r\n    \tprivate ImageIcon setImageIcon(String path){\r\n    \t\tImage image = null;\r\n    \t\tImageIcon icon = null;\r\n    \t\ttry {\r\n    \t\t\timage = LoadResource.getImageFromResourceAsURL(path);\r\n    \t\t\timage = image.getScaledInstance(10, 10, Image.SCALE_SMOOTH);\r\n    \t\t\ticon = new ImageIcon(image);\r\n    \t\t\treturn icon;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn icon;\r\n    \t}\r\n\r\nCalling of Renderer: -\r\n\r\n    JTree BomTree = new JTree(createTreeModel());\r\n    scrollPane.setColumnHeaderView(BomTree);\r\n    BomTree.setCellRenderer(new userRendererForTree());\r\n\r\n\r\nUPDATED -\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NOfFl.png\r\n  [2]: https://i.stack.imgur.com/ALZTD.png","title":"JTree Default icons not removed with Root Icon","body":"<p>I am aware that there are relevant materials exists on google about JTree icons change, but still I am unable to sort out my simple requirements.</p>\n<p>I need to change the icon of <code>Root</code> element of JTree different than it's <code>node</code> &amp; <code>leaf</code>.\nI manage to change the node &amp; leaf icons, but the default arrow icons (red highlighted in picture) are still there &amp; I have to click on it to drill down the tree whereas I want to click on custom image icons to drill down the tree.</p>\n<p><a href=\"https://i.stack.imgur.com/NOfFl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NOfFl.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    /** CHANGE JTREE DEFAULT ICONS  **/\n        private class userRendererForTree extends DefaultTreeCellRenderer {\n            private static final long serialVersionUID = 1L;\n    \n            public Component getTreeCellRendererComponent(JTree tree, Object value, boolean sel, boolean expanded,\n                    boolean leaf, int row, boolean hasFocus) {\n    \n                super.getTreeCellRendererComponent(tree, value, sel, expanded, leaf, row, hasFocus);\n                if (leaf) {\n                    setIcon(setImageIcon(AppConstants.BOM_ROUTE_NODE_LEAF));\n                } else {\n                    setIcon(setImageIcon(AppConstants.BOM_ROUTE_NODE_RIGHT));\n                }\n                if (expanded) {\n                    setIcon(setImageIcon(AppConstants.BOM_ROUTE_NODE_BOTTOM));\n                }\n                return this;\n            }\n        }\n\n/**  LOAD IMAGE ICON FROM RESOURCES  **/\n    private ImageIcon setImageIcon(String path){\n        Image image = null;\n        ImageIcon icon = null;\n        try {\n            image = LoadResource.getImageFromResourceAsURL(path);\n            image = image.getScaledInstance(10, 10, Image.SCALE_SMOOTH);\n            icon = new ImageIcon(image);\n            return icon;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return icon;\n    }\n</code></pre>\n<p>Calling of Renderer: -</p>\n<pre><code>JTree BomTree = new JTree(createTreeModel());\nscrollPane.setColumnHeaderView(BomTree);\nBomTree.setCellRenderer(new userRendererForTree());\n</code></pre>\n<p>UPDATED -\n<a href=\"https://i.stack.imgur.com/ALZTD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ALZTD.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":8172423,"reputation":17307,"user_id":6152400,"display_name":"P.Salmon"},"score":0,"creation_date":1692009792,"post_id":76898190,"comment_id":135563239,"body_markdown":"&#39;Referencing column &#39;fk_xxxx_id&#39; and referenced column &#39;xxxx_id&#39; in foreign key constraint &#39;fk_yyyy_xxxx&#39; are incompatible.&#39; - is clear..what are the respective datatypes?","body":"&#39;Referencing column &#39;fk_xxxx_id&#39; and referenced column &#39;xxxx_id&#39; in foreign key constraint &#39;fk_yyyy_xxxx&#39; are incompatible.&#39; - is clear..what are the respective datatypes?"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1692044903,"post_id":76898190,"comment_id":135569955,"body_markdown":"Could it be because of the type in here? `private List&lt;yyyyntity&gt; yyyys;` It should be `private List&lt;yyyyEntity&gt; yyyys;` I don&#39;t think your code will even compile","body":"Could it be because of the type in here? <code>private List&lt;yyyyntity&gt; yyyys;</code> It should be <code>private List&lt;yyyyEntity&gt; yyyys;</code> I don&#39;t think your code will even compile"}],"owner":{"account_id":29221947,"reputation":1,"user_id":22387513,"display_name":"nylaysu meike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692012387,"creation_date":1692009275,"question_id":76898190,"body_markdown":"So, i&#39;ve been looking for a fix to this problem for a bit:\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table ____ modify column xxxx_id  bigint not null auto_increment&quot; via JDBC [Referencing column &#39;fk_xxxx_id&#39; and referenced column &#39;xxxx_id&#39; in foreign key constraint &#39;fk_yyyy_xxxx&#39; are incompatible.]\r\n```\r\nMy application.propierties is:\r\n\r\n```\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\nAnd the two classes involved (just the part where i think i have the problem):\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;xxxxs&quot;)\r\npublic class yyyyEntity {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long xxxx_id;\r\n\r\n\tprivate String name;\r\n\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\t@Column(name = &quot;registration_date&quot;)\r\n\tprivate Date registrationDate;\r\n\r\n\t@Column(name = &quot;success_rate&quot;)\r\n\tprivate Double successRate;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;xxxx&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    private List&lt;yyyyntity&gt; yyyys;\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;yyyys&quot;)\r\npublic class yyyyEntity {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long yyyy_id;\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;fk_xxxx_id&quot;, referencedColumnName = &quot;xxxx_id&quot;)\r\n\tprivate xxxxEntity xxxx;\r\n```\r\n\r\n\r\nI&#39;ve checked multiple times the names on the tables and on the Enities as well as the other tags\r\n\r\nI&#39;ve tried to change the names on both sides (DB and code), restart the database, and change the parameters of the foreign key to not have anything when before i had it marked as not null as it is necessary for it to be not null in how its supposed to work.\r\n\r\nSo far nothing has worked and the only thing that changes on the error message are the names of the columns","title":"How to fix &quot;Error executing DDL alter table _____ modify column ___ bigint not null auto_increment &quot;","body":"<p>So, i've been looking for a fix to this problem for a bit:</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table ____ modify column xxxx_id  bigint not null auto_increment&quot; via JDBC [Referencing column 'fk_xxxx_id' and referenced column 'xxxx_id' in foreign key constraint 'fk_yyyy_xxxx' are incompatible.]\n</code></pre>\n<p>My application.propierties is:</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>And the two classes involved (just the part where i think i have the problem):</p>\n<pre><code>@Entity\n@Table(name = &quot;xxxxs&quot;)\npublic class yyyyEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long xxxx_id;\n\n    private String name;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;registration_date&quot;)\n    private Date registrationDate;\n\n    @Column(name = &quot;success_rate&quot;)\n    private Double successRate;\n    \n    @OneToMany(mappedBy = &quot;xxxx&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    private List&lt;yyyyntity&gt; yyyys;\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;yyyys&quot;)\npublic class yyyyEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long yyyy_id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;fk_xxxx_id&quot;, referencedColumnName = &quot;xxxx_id&quot;)\n    private xxxxEntity xxxx;\n</code></pre>\n<p>I've checked multiple times the names on the tables and on the Enities as well as the other tags</p>\n<p>I've tried to change the names on both sides (DB and code), restart the database, and change the parameters of the foreign key to not have anything when before i had it marked as not null as it is necessary for it to be not null in how its supposed to work.</p>\n<p>So far nothing has worked and the only thing that changes on the error message are the names of the columns</p>\n"},{"tags":["java","pdfbox","digital-signature","trusted-timestamp"],"comments":[{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1692012052,"post_id":76898496,"comment_id":135563648,"body_markdown":"@mkl any comments?","body":"@mkl any comments?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1692018775,"post_id":76898496,"comment_id":135564966,"body_markdown":"*&quot;As per my requirements, the signature time should be consistent for a PDF in unsigned attribute, PDSignature.signDate and in appearance of signature field.&quot;* - That&#39;s unfortunate because - as you noticed yourself - the signature appearance is part of the signed content and, therefore, is created before signing and in particular before creation of the signature time stamp. If your signing and time stamping processes are fairly quick, you can try to time the calls accordingly which is may be likely to work as intended quite often.","body":"<i>&quot;As per my requirements, the signature time should be consistent for a PDF in unsigned attribute, PDSignature.signDate and in appearance of signature field.&quot;</i> - That&#39;s unfortunate because - as you noticed yourself - the signature appearance is part of the signed content and, therefore, is created before signing and in particular before creation of the signature time stamp. If your signing and time stamping processes are fairly quick, you can try to time the calls accordingly which is may be likely to work as intended quite often."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1692019122,"post_id":76898496,"comment_id":135565050,"body_markdown":"Another option would be to update the signature appearance in an incremental update. But that only works for a certification level with allowed annotation changes. Furthermore, validators will likely report changes after signing. Many years ago I played around with that option with iText, see [this old answer](https://stackoverflow.com/a/37070234/1729265) for a first impression.","body":"Another option would be to update the signature appearance in an incremental update. But that only works for a certification level with allowed annotation changes. Furthermore, validators will likely report changes after signing. Many years ago I played around with that option with iText, see <a href=\"https://stackoverflow.com/a/37070234/1729265\">this old answer</a> for a first impression."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1692019451,"post_id":76898496,"comment_id":135565141,"body_markdown":"Also consider _not_ including the signing time in the signature appearance. Users should look for reliable information about the signature in the signature panel and signature properties anyways, not in the document. The signature appearance is only there to look nice.","body":"Also consider <i>not</i> including the signing time in the signature appearance. Users should look for reliable information about the signature in the signature panel and signature properties anyways, not in the document. The signature appearance is only there to look nice."},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1692043703,"post_id":76898496,"comment_id":135569766,"body_markdown":"Thanks @mkl. It&#39;s not just about signature appearance, If I change the my local server time, Two different times are visible on the same signature panel, one is signing time which is local signing server time and other is trusted embedded timestamp token. But I think there is no option to make it consistent. User will need to understand that only trusted embedded timestamp should be considered reliable. User should not rely on other timestamp for validity of the document as it can be changed by changing local server&#39;s time.","body":"Thanks @mkl. It&#39;s not just about signature appearance, If I change the my local server time, Two different times are visible on the same signature panel, one is signing time which is local signing server time and other is trusted embedded timestamp token. But I think there is no option to make it consistent. User will need to understand that only trusted embedded timestamp should be considered reliable. User should not rely on other timestamp for validity of the document as it can be changed by changing local server&#39;s time."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1692074818,"post_id":76898496,"comment_id":135572404,"body_markdown":"You can try to make them very similar by requesting 2 time stamps - one at the start of which you only use the date time value to initialize `PDSignature` with, and one later for embedding. This should make the times differ only slightly.","body":"You can try to make them very similar by requesting 2 time stamps - one at the start of which you only use the date time value to initialize <code>PDSignature</code> with, and one later for embedding. This should make the times differ only slightly."},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1692168106,"post_id":76898496,"comment_id":135585460,"body_markdown":"Yes @mkl, that is one of the way but I heard timestamp requests are bit costly. And I would prefer to use local timestamp rather than making an unnecessary requests. Acrobat also works same way.","body":"Yes @mkl, that is one of the way but I heard timestamp requests are bit costly. And I would prefer to use local timestamp rather than making an unnecessary requests. Acrobat also works same way."}],"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692012018,"creation_date":1692012018,"question_id":76898496,"body_markdown":"I am working on adding signature timestamp support using external TSAs while digitally signing the PDF. I am using `PDFBox` for my signature implementation. My steps are:\r\n\r\n1. Creating `PDDocument` and `PDSignature` instance.\r\n2. Adding appearance to the signature field as per my requirements.\r\n3. Configuring `PDSignature` with values like `sub-filter` and `signDate`.\r\n4. Adding `PDSignature` to the `PDDocument`. \r\n5. Generating Hash of the PDF and getting it signed.\r\n6. Using this signed digest for getting timestamp token and adding it as unsigned attribute.\r\n7. Generating the output PDF.\r\n\r\nI need to set date in signature appearance(in step 2) and also I need to set `PDSignature.signDate` in step 3. But I am getting timestamp token in step 6. As per my knowledge, I cannot modify `PDSignature.signDate` and date in signature appearance after step 6. As per my requirements, the signature time should be consistent for a PDF in unsigned attribute, `PDSignature.signDate` and in appearance of signature field.\r\n\r\nIs there a way to make the signature time consistent in the entire signed PDF? ","title":"Inconsistent Signature Time using PDFBox","body":"<p>I am working on adding signature timestamp support using external TSAs while digitally signing the PDF. I am using <code>PDFBox</code> for my signature implementation. My steps are:</p>\n<ol>\n<li>Creating <code>PDDocument</code> and <code>PDSignature</code> instance.</li>\n<li>Adding appearance to the signature field as per my requirements.</li>\n<li>Configuring <code>PDSignature</code> with values like <code>sub-filter</code> and <code>signDate</code>.</li>\n<li>Adding <code>PDSignature</code> to the <code>PDDocument</code>.</li>\n<li>Generating Hash of the PDF and getting it signed.</li>\n<li>Using this signed digest for getting timestamp token and adding it as unsigned attribute.</li>\n<li>Generating the output PDF.</li>\n</ol>\n<p>I need to set date in signature appearance(in step 2) and also I need to set <code>PDSignature.signDate</code> in step 3. But I am getting timestamp token in step 6. As per my knowledge, I cannot modify <code>PDSignature.signDate</code> and date in signature appearance after step 6. As per my requirements, the signature time should be consistent for a PDF in unsigned attribute, <code>PDSignature.signDate</code> and in appearance of signature field.</p>\n<p>Is there a way to make the signature time consistent in the entire signed PDF?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7484981,"reputation":166,"user_id":5688552,"display_name":"Loginus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692011623,"creation_date":1692010232,"answer_id":76898286,"question_id":76898163,"body_markdown":"You want to test behavior of Spring using spring beans (Controller, Advice) but your test is not starting the spring context. So basically your test does not know that DelIntakeExceptionHandler is supposed to handle the exception.\r\nIn your case you can or just test exception thrown\r\n```\r\n@Test(expected=DelIntakeGlobalException.class)\r\npublic getTest(){\r\n\r\ncontroller.get(&quot;123po&quot;);\r\nassertFail();\r\n}\r\n```\r\nOr start spring context within test annotating test with  @SpringBootTest and to have even better simulation of the controller using [MockMVC][1]. \r\nso sth like\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class TestClass{\r\n\r\n@Test\r\npublic getTest(){\r\nthis.mockMvc.perform(get(&quot;/getId/123po&quot;)))\r\n.andExpect(MockMvcResultMatchers.status().is(HttpStatus.BAD_REQUEST.value()));\r\n}\r\n}\r\n```\r\n\r\n  [1]: https://spring.io/guides/gs/testing-web/","title":"Junit for spring boot global exception","body":"<p>You want to test behavior of Spring using spring beans (Controller, Advice) but your test is not starting the spring context. So basically your test does not know that DelIntakeExceptionHandler is supposed to handle the exception.\nIn your case you can or just test exception thrown</p>\n<pre><code>@Test(expected=DelIntakeGlobalException.class)\npublic getTest(){\n\ncontroller.get(&quot;123po&quot;);\nassertFail();\n}\n</code></pre>\n<p>Or start spring context within test annotating test with  @SpringBootTest and to have even better simulation of the controller using <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">MockMVC</a>.\nso sth like</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic class TestClass{\n\n@Test\npublic getTest(){\nthis.mockMvc.perform(get(&quot;/getId/123po&quot;)))\n.andExpect(MockMvcResultMatchers.status().is(HttpStatus.BAD_REQUEST.value()));\n}\n}\n</code></pre>\n"}],"owner":{"account_id":29104131,"reputation":25,"user_id":22295330,"display_name":"Iswarya Elango"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692011623,"creation_date":1692009017,"question_id":76898163,"body_markdown":"I want to cover the exception code in the get method of the DelController class, but it is not calling the DelIntakeGlobalException.\r\n\r\n\r\n\r\n```\r\n@RestController\r\npublic class DelController{\r\n@GetMapping(&quot;/getId&quot;)\r\npublic ResponseEntity&lt;?&gt; get(@PathVariable String intakeNumber){\r\n\r\ntry{\r\nInteger.parseInt(intakeNumber);\r\nreturn new ResponseEntity&lt;&gt;(&quot;success&quot;,HttpStatus.OK);\r\n\r\n}catch(NumberFormatException e){\r\n\r\nthrow new DelIntakeGlobalException(&quot;intakeNumber is invalid&quot;);\r\n}\r\n}\r\n}\r\n\r\n\r\n@ControllerAdvice\r\npublic class DelIntakeExceptionHandler{\r\n@ExceptionHandler(DelIntakeGlobalException.class)\r\npublic ResponseEntity handleException(DelIntakeGlobalException exp, ServletWebRequest req){\r\n\r\nreturn new ResponseEntity&lt;&gt;(exp.getMessage(),HttpStatus.BAD_REQUEST);\r\n\r\n}\r\n}\r\n\r\n@Runwith(MockitoJunitRunner.class)\r\npublic class controllerTest{\r\n\r\n@InjectMocks\r\nDelController controller;\r\n\r\n@Test\r\npublic getTest(){\r\n\r\nassertEquals(HttpStatus.BAD_REQUEST,controller.get(&quot;123po&quot;).getStatusCode());\r\n}\r\n\r\n}\r\n```\r\n\r\nI could not find a solution for this. Could you please help on how to handle this scenario? Thanks","title":"Junit for spring boot global exception","body":"<p>I want to cover the exception code in the get method of the DelController class, but it is not calling the DelIntakeGlobalException.</p>\n<pre><code>@RestController\npublic class DelController{\n@GetMapping(&quot;/getId&quot;)\npublic ResponseEntity&lt;?&gt; get(@PathVariable String intakeNumber){\n\ntry{\nInteger.parseInt(intakeNumber);\nreturn new ResponseEntity&lt;&gt;(&quot;success&quot;,HttpStatus.OK);\n\n}catch(NumberFormatException e){\n\nthrow new DelIntakeGlobalException(&quot;intakeNumber is invalid&quot;);\n}\n}\n}\n\n\n@ControllerAdvice\npublic class DelIntakeExceptionHandler{\n@ExceptionHandler(DelIntakeGlobalException.class)\npublic ResponseEntity handleException(DelIntakeGlobalException exp, ServletWebRequest req){\n\nreturn new ResponseEntity&lt;&gt;(exp.getMessage(),HttpStatus.BAD_REQUEST);\n\n}\n}\n\n@Runwith(MockitoJunitRunner.class)\npublic class controllerTest{\n\n@InjectMocks\nDelController controller;\n\n@Test\npublic getTest(){\n\nassertEquals(HttpStatus.BAD_REQUEST,controller.get(&quot;123po&quot;).getStatusCode());\n}\n\n}\n</code></pre>\n<p>I could not find a solution for this. Could you please help on how to handle this scenario? Thanks</p>\n"},{"tags":["java","algorithm","formula"],"comments":[{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1691990290,"post_id":76896283,"comment_id":135560049,"body_markdown":"Always copy paste the problem statement instead of images.","body":"Always copy paste the problem statement instead of images."}],"answers":[{"tags":[],"owner":{"account_id":24290111,"reputation":23,"user_id":18235293,"display_name":"mudders"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691988403,"creation_date":1691988403,"answer_id":76896332,"question_id":76896283,"body_markdown":"Essentially, what the formula says in words is: &lt;br&gt;\r\nIf the difference of the initial positions is a multiple of the difference of the velocities, then they will meet. \r\n\r\nThe `%` operator returns the remainder when the first number is divided by the second. So to check if `a%b==0` means to check if b divides a. Another common use is to check for odd numbers by checking if `a%2==1`. \r\n\r\nIn your problem, they are checking if the distance, say `d`, is divisible by the difference of the velocities. You can imagine fixing `x1` at a place, which would be equivalent to subtracting the velocity `v1` from `x2`. So if they meet, the difference in position should be a multiple of the new velocity `v2-v1`.   \r\n\r\n\r\n\r\n","title":"Number Line Jumps Hacker Rank Question Algorithms","body":"<p>Essentially, what the formula says in words is: <br>\nIf the difference of the initial positions is a multiple of the difference of the velocities, then they will meet.</p>\n<p>The <code>%</code> operator returns the remainder when the first number is divided by the second. So to check if <code>a%b==0</code> means to check if b divides a. Another common use is to check for odd numbers by checking if <code>a%2==1</code>.</p>\n<p>In your problem, they are checking if the distance, say <code>d</code>, is divisible by the difference of the velocities. You can imagine fixing <code>x1</code> at a place, which would be equivalent to subtracting the velocity <code>v1</code> from <code>x2</code>. So if they meet, the difference in position should be a multiple of the new velocity <code>v2-v1</code>.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692009741,"creation_date":1691992017,"answer_id":76896515,"question_id":76896283,"body_markdown":"The formula can be derived using basic algebra:\r\n\r\nYou can write an expression for the position of each kangaroo after some number of jumps, `j`:\r\n\r\n```\r\np1 = x1 + j * v1\r\np2 = x2 + j * v2\r\n```\r\n\r\nClearly if they are at the same position, `p1 = p2`, so:\r\n\r\n```\r\nx1 + j * v1 = x2 + j * v2\r\n```\r\n\r\nRearranging for `j`:\r\n\r\n```\r\nj = (x2 - x1) / (v1 - v2)\r\n```\r\n\r\nNow, the particular value of `j` doesn&#39;t matter from the perspective of the question: you simply want it to be a whole number. For that to happen, the denominator has to divide the numerator.\r\n\r\nIn other words,\r\n\r\n```\r\n(x2 - x1) % (v1 - v2) == 0\r\n```\r\n\r\nThere are (at least) a couple of edge cases to watch out for:\r\n\r\n* You also probably want `(x2 - x1) / (v1 - v2) &gt;= 0`, otherwise the kangaroos would only be at the same place in the past.\r\n* You should handle the case where `v1 = v2` before applying the modulo operation - otherwise you&#39;d get an `ArithmeticException`. There is a possibly valid solution in such a case, namely that `x1 = x2`.","title":"Number Line Jumps Hacker Rank Question Algorithms","body":"<p>The formula can be derived using basic algebra:</p>\n<p>You can write an expression for the position of each kangaroo after some number of jumps, <code>j</code>:</p>\n<pre><code>p1 = x1 + j * v1\np2 = x2 + j * v2\n</code></pre>\n<p>Clearly if they are at the same position, <code>p1 = p2</code>, so:</p>\n<pre><code>x1 + j * v1 = x2 + j * v2\n</code></pre>\n<p>Rearranging for <code>j</code>:</p>\n<pre><code>j = (x2 - x1) / (v1 - v2)\n</code></pre>\n<p>Now, the particular value of <code>j</code> doesn't matter from the perspective of the question: you simply want it to be a whole number. For that to happen, the denominator has to divide the numerator.</p>\n<p>In other words,</p>\n<pre><code>(x2 - x1) % (v1 - v2) == 0\n</code></pre>\n<p>There are (at least) a couple of edge cases to watch out for:</p>\n<ul>\n<li>You also probably want <code>(x2 - x1) / (v1 - v2) &gt;= 0</code>, otherwise the kangaroos would only be at the same place in the past.</li>\n<li>You should handle the case where <code>v1 = v2</code> before applying the modulo operation - otherwise you'd get an <code>ArithmeticException</code>. There is a possibly valid solution in such a case, namely that <code>x1 = x2</code>.</li>\n</ul>\n"}],"owner":{"account_id":28071151,"reputation":3,"user_id":21443713,"display_name":"Đ&#244;ng Nguyễn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76896515,"answer_count":2,"score":-1,"last_activity_date":1692009741,"creation_date":1691987493,"question_id":76896283,"body_markdown":"I passed the exercise which has the description below: \r\n![enter image description here][1]\r\n\r\nThis is my code: \r\n\r\n```\r\nprivate static boolean findPosition(int x1, int v1, int x2, int v2) {\r\n         int n = Math.abs(x1 - x2);\r\n         for(int i = n; i &gt;= 0; i--) {\r\n             if(x1 == x2) {\r\n                 return true;\r\n             } else {\r\n                 x1 += v1;\r\n                 x2 += v2;\r\n             }\r\n         }\r\n         return false;\r\n     }\r\n     \r\n\r\n    public static String kangaroo(int x1, int v1, int x2, int v2) {\r\n    // Write your code here\r\n        if( (x1 &lt; x2 &amp;&amp; v1 &lt;= v2) || (x2 &lt; x1 &amp;&amp; v2 &lt;= v1) ) {\r\n            return &quot;NO&quot;;\r\n        } else {\r\n            if(findPosition(x1,v1,x2,v2)) {\r\n                return &quot;YES&quot;;\r\n            }\r\n        }\r\n        return &quot;NO&quot;;\r\n    }\r\n```\r\nBut when I refer to another post, which also successfully passed the test case,\r\nI met a formula : `(x2-x1)%(v1-v2)==0`\r\n\r\n\r\n\r\n\r\nI&#39;ve been trying to understand how the formula works failed :(\r\n\r\nCan anyone help me understand this formula works \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4svT5.png","title":"Number Line Jumps Hacker Rank Question Algorithms","body":"<p>I passed the exercise which has the description below:\n<img src=\"https://i.stack.imgur.com/4svT5.png\" alt=\"enter image description here\" /></p>\n<p>This is my code:</p>\n<pre><code>private static boolean findPosition(int x1, int v1, int x2, int v2) {\n         int n = Math.abs(x1 - x2);\n         for(int i = n; i &gt;= 0; i--) {\n             if(x1 == x2) {\n                 return true;\n             } else {\n                 x1 += v1;\n                 x2 += v2;\n             }\n         }\n         return false;\n     }\n     \n\n    public static String kangaroo(int x1, int v1, int x2, int v2) {\n    // Write your code here\n        if( (x1 &lt; x2 &amp;&amp; v1 &lt;= v2) || (x2 &lt; x1 &amp;&amp; v2 &lt;= v1) ) {\n            return &quot;NO&quot;;\n        } else {\n            if(findPosition(x1,v1,x2,v2)) {\n                return &quot;YES&quot;;\n            }\n        }\n        return &quot;NO&quot;;\n    }\n</code></pre>\n<p>But when I refer to another post, which also successfully passed the test case,\nI met a formula : <code>(x2-x1)%(v1-v2)==0</code></p>\n<p>I've been trying to understand how the formula works failed :(</p>\n<p>Can anyone help me understand this formula works</p>\n"},{"tags":["java","spring","spring-boot","maven","lombok"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1642613273,"post_id":70775068,"comment_id":125119799,"body_markdown":"Does `UserCredentialsEntity` have any lombok annotations?","body":"Does <code>UserCredentialsEntity</code> have any lombok annotations?"},{"owner":{"account_id":18883827,"reputation":186,"user_id":13775698,"display_name":"Sh&#238;vam Yadav"},"score":0,"creation_date":1642613511,"post_id":70775068,"comment_id":125119889,"body_markdown":"Yes, I have used ```@Getter```, ```@Setter```, and ```@ToString``` annotations.","body":"Yes, I have used <code>@Getter</code>, <code>@Setter</code>, and <code>@ToString</code> annotations."},{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1642613527,"post_id":70775068,"comment_id":125119896,"body_markdown":"sometimes the ide is not able to recognize the lombok statements, have you ensured that lombok plugin is detected by intellij ? \nhttps://stackoverflow.com/questions/41161076/adding-lombok-plugin-to-intellij-project","body":"sometimes the ide is not able to recognize the lombok statements, have you ensured that lombok plugin is detected by intellij ?  <a href=\"https://stackoverflow.com/questions/41161076/adding-lombok-plugin-to-intellij-project\" title=\"adding lombok plugin to intellij project\">stackoverflow.com/questions/41161076/&hellip;</a>"},{"owner":{"account_id":18883827,"reputation":186,"user_id":13775698,"display_name":"Sh&#238;vam Yadav"},"score":0,"creation_date":1642614333,"post_id":70775068,"comment_id":125120269,"body_markdown":"Already done this. Yet not working.","body":"Already done this. Yet not working."}],"answers":[{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642616141,"creation_date":1642613761,"answer_id":70775248,"question_id":70775068,"body_markdown":"For IntelliJ Idea, when using Lombok you have to enable annotation processing.\r\n\r\n\r\n- Preferences (&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;S&lt;/kbd&gt;)\r\n   - Build, Execution, Deployment\r\n      - Compiler\r\n         - Annotation Processors\r\n             - Enable annotation processing\r\n\r\n---\r\nIf the problem still persist:\r\n\r\nAdd version 1.18.16.\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;version&gt;1.18.16&lt;/version&gt; \r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Cannot find symbol (all the constructors, getters and setters) in spring boot","body":"<p>For IntelliJ Idea, when using Lombok you have to enable annotation processing.</p>\n<ul>\n<li>Preferences (<kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>S</kbd>)\n<ul>\n<li>Build, Execution, Deployment\n<ul>\n<li>Compiler\n<ul>\n<li>Annotation Processors\n<ul>\n<li>Enable annotation processing</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p>If the problem still persist:</p>\n<p>Add version 1.18.16.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n&lt;artifactId&gt;lombok&lt;/artifactId&gt;\n&lt;version&gt;1.18.16&lt;/version&gt; \n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8420805,"reputation":760,"user_id":6319675,"display_name":"JPG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683048835,"creation_date":1683048835,"answer_id":76157466,"question_id":70775068,"body_markdown":"if you are using Apache maven with JDK9+ with module-info.java\r\n\r\nyou will need to add to the compiler plugin the **path** \r\n\r\nfor example \r\n\r\n    \t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.18.26&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nref: https://projectlombok.org/setup/maven","title":"Cannot find symbol (all the constructors, getters and setters) in spring boot","body":"<p>if you are using Apache maven with JDK9+ with module-info.java</p>\n<p>you will need to add to the compiler plugin the <strong>path</strong></p>\n<p>for example</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;1.18.26&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>ref: <a href=\"https://projectlombok.org/setup/maven\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/maven</a></p>\n"},{"tags":[],"owner":{"account_id":16666560,"reputation":31,"user_id":12045047,"display_name":"Yury Fomichev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692009431,"creation_date":1692009431,"answer_id":76898209,"question_id":70775068,"body_markdown":"If you&#39;re using Gradle do not forget to add \r\n\r\nannotationProcessor &#39;org.projectlombok:lombok:1.18.8&#39;","title":"Cannot find symbol (all the constructors, getters and setters) in spring boot","body":"<p>If you're using Gradle do not forget to add</p>\n<p>annotationProcessor 'org.projectlombok:lombok:1.18.8'</p>\n"}],"owner":{"account_id":18883827,"reputation":186,"user_id":13775698,"display_name":"Sh&#238;vam Yadav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4199,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":70775248,"answer_count":3,"score":2,"last_activity_date":1692009431,"creation_date":1642612996,"question_id":70775068,"body_markdown":"My project was working fine earlier, but when I open this in STS and then opened it in IntelliJ, it started giving me this error. I was searching for a solution but didn&#39;t got any. Anyone, please help me. \r\n\r\nAlso, **I have already installed the Lombok plugin in my IntelliJ**.\r\n\r\n**Error picture**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OECTA.png\r\n\r\n\r\nMy **pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;training-management-server&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;training-management-server&lt;/name&gt;\r\n\t&lt;description&gt;Backend for Training management&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.0.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.206&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.auth0/java-jwt --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.18.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**UserController**\r\n\r\n```\r\npackage com.trainingmanagementserver.api;\r\n\r\nimport com.auth0.jwt.JWT;\r\nimport com.auth0.jwt.JWTVerifier;\r\nimport com.auth0.jwt.algorithms.Algorithm;\r\nimport com.auth0.jwt.interfaces.DecodedJWT;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.trainingmanagementserver.entity.*;\r\nimport com.trainingmanagementserver.exception.ApiRequestException;\r\nimport com.trainingmanagementserver.message.ResponseFile;\r\nimport com.trainingmanagementserver.message.ResponseMessage;\r\nimport com.trainingmanagementserver.repository.TraineesTrainerRepository;\r\nimport com.trainingmanagementserver.repository.UserCredentialsRepository;\r\nimport com.trainingmanagementserver.service.AssignmentDetailsService;\r\nimport com.trainingmanagementserver.service.FileDBService;\r\nimport com.trainingmanagementserver.service.UserCredentialsService;\r\nimport com.trainingmanagementserver.service.UserDetailService;\r\nimport com.trainingmanagementserver.utility.Utility;\r\nimport lombok.Data;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.validation.Valid;\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\nimport static org.springframework.http.HttpHeaders.AUTHORIZATION;\r\nimport static org.springframework.http.HttpStatus.FORBIDDEN;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\n@RequiredArgsConstructor\r\n@Slf4j\r\n//@Validated\r\n@CrossOrigin(&quot;http://localhost:8080&quot;)\r\npublic class UserController {\r\n    private final UserCredentialsService userCredentialsService;\r\n    private final UserDetailService userDetailService;\r\n    private final UserCredentialsRepository userCredentialsRepository;\r\n    private final TraineesTrainerRepository traineesTrainerRepository;\r\n    private final AssignmentDetailsService assignmentDetailsService;\r\n    private final FileDBService fileDBService;\r\n\r\n    @PostMapping(&quot;/auth/signup&quot;)\r\n    public ResponseEntity&lt;UserCredentialsEntity&gt; saveUser(@RequestBody UserCredentialsEntity userCredentialsEntity) throws ApiRequestException{\r\n        URI uri = URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/api/auth/signup&quot;).toUriString());\r\n        var username = userCredentialsRepository.findByUsername(userCredentialsEntity.getUsername());\r\n        var email = userCredentialsRepository.findByEmail(userCredentialsEntity.getEmail());\r\n        if(username == null  &amp;&amp; email == null) {\r\n            return ResponseEntity.created(uri).body(userCredentialsService.userCredentialsSave(userCredentialsEntity));\r\n        } else if(username != null &amp;&amp; email != null) {\r\n            throw new ApiRequestException(&quot;Username and Email already exist&quot;);\r\n        }\r\n        else if(username != null){\r\n            throw new ApiRequestException(&quot;Username already exist&quot;);\r\n        }\r\n        throw new ApiRequestException(&quot;Email already exist&quot;);\r\n    }\r\n\r\n    @PostMapping(&quot;/trainee/addBulk&quot;)\r\n    public ResponseEntity&lt;List&lt;UserCredentialsEntity&gt;&gt; addBulkTrainees(@RequestBody List&lt;UserCredentialsEntity&gt; bulkUserCredentialsEntity, HttpServletRequest request) throws ApiRequestException{\r\n        URI uri = URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/api/role&quot;).toUriString());\r\n        String username = (new Utility()).getUsernameFromToken(request);\r\n        int trainerId = userCredentialsRepository.findByUsername(username).getId();\r\n        bulkUserCredentialsEntity.forEach(trainee -&gt; {\r\n            var checkUsername = userCredentialsRepository.findByUsername(trainee.getUsername());\r\n            var checkEmail = userCredentialsRepository.findByEmail(trainee.getEmail());\r\n            if(checkUsername != null || checkEmail != null) {\r\n                throw new ApiRequestException(&quot;Invalid Entry&quot;);\r\n            }\r\n        });\r\n        var savedTrainees = userCredentialsService.addBulkTrainees(bulkUserCredentialsEntity);\r\n        savedTrainees.forEach(trainees -&gt; {\r\n            int traineeId = trainees.getId();\r\n            TraineesTrainer traineesTrainer = new TraineesTrainer();\r\n            traineesTrainer.setTraineeId(traineeId);\r\n            traineesTrainer.setTrainerId(trainerId);\r\n            traineesTrainerRepository.save(traineesTrainer);\r\n            userCredentialsService.addRoleToUser(&quot;ROLE_TRAINEE&quot;, trainees.getUsername());\r\n        });\r\n        return ResponseEntity.created(uri).body(savedTrainees);\r\n    }\r\n\r\n    @GetMapping(&quot;/trainee/all&quot;)\r\n    public ResponseEntity&lt;List&lt;UserMerged&gt;&gt; getAllTrainees(HttpServletRequest request) {\r\n        String username = (new Utility().getUsernameFromToken(request));\r\n        if(username.isEmpty()) throw new ApiRequestException(&quot;Username not present&quot;);\r\n        var trainerId = userCredentialsRepository.findByUsername(username).getId();\r\n        return ResponseEntity.ok().body(userCredentialsService.showTraineesEnrolled(trainerId));\r\n    }\r\n\r\n    @PostMapping(&quot;/role&quot;)\r\n    public ResponseEntity&lt;Role&gt; saveRole(@RequestBody Role role) {\r\n        URI uri = URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/api/role&quot;).toUriString());\r\n        return ResponseEntity.created(uri).body(userCredentialsService.roleSave(role));\r\n    }\r\n\r\n    @GetMapping(&quot;/register/check&quot;)\r\n    public ResponseEntity&lt;?&gt; checkRegister(HttpServletRequest request) throws ApiRequestException{\r\n        try {\r\n            String username = (new Utility()).getUsernameFromToken(request);\r\n            int userId = userCredentialsRepository.findByUsername(username).getId();\r\n            Map&lt;String, Boolean&gt; response = new HashMap&lt;&gt;();\r\n            if (userDetailService.fetchUserDetails(userId).isPresent()) {\r\n                response.put(&quot;isPresent&quot;, true);\r\n            } else {\r\n                response.put(&quot;isPresent&quot;, false);\r\n            }\r\n            return ResponseEntity.ok().body(response);\r\n        } catch (ApiRequestException exception) {\r\n            throw new ApiRequestException(&quot;Token is mismatch&quot;);\r\n        }\r\n    }\r\n\r\n    @PostMapping(&quot;/role/addToUser&quot;)\r\n    public ResponseEntity&lt;?&gt; addRoleToUser(@RequestBody RoleToUserForm roleForm) throws ApiRequestException {\r\n        try {\r\n            userCredentialsService.addRoleToUser(roleForm.getRoleName(), roleForm.getUsername());\r\n            return ResponseEntity.ok().build();\r\n        } catch (Exception e) {\r\n            throw new ApiRequestException(&quot;Not able to add role to the user&quot;);\r\n        }\r\n    }\r\n\r\n    @PostMapping(&quot;/me&quot;)\r\n    public ResponseEntity&lt;?&gt; saveUser(@Valid @RequestBody UserDetailsEntity userDetailsEntity, HttpServletRequest request) {\r\n//        System.out.println(&quot;Printing result &quot;+result);\r\n//        if(result.hasErrors()) {\r\n//            Map&lt;String, BindingResult&gt; errors = new HashMap&lt;&gt;();\r\n//            errors.put(&quot;error&quot;, result);\r\n//            return ResponseEntity.badRequest().body(errors);\r\n//        }\r\n        URI uri = URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/api/user/detail&quot;).toUriString());\r\n        String username = (new Utility()).getUsernameFromToken(request);\r\n        int userId = userCredentialsRepository.findByUsername(username).getId();\r\n        userDetailsEntity.setId(userId);\r\n        return ResponseEntity.created(uri).body(userDetailService.save(userDetailsEntity));\r\n    }\r\n\r\n    @GetMapping(&quot;/me&quot;)\r\n    public ResponseEntity&lt;UserMerged&gt; fetchUserDetails(HttpServletRequest request) throws ApiRequestException {\r\n        try {\r\n            String username = (new Utility()).getUsernameFromToken(request);\r\n            int userId = userCredentialsRepository.findByUsername(username).getId();\r\n            if (userDetailService.fetchUserDetails(userId).isPresent()) {\r\n                UserDetailsEntity userDetailsEntity = userDetailService.fetchUserDetails(userId).get();\r\n                UserCredentialsEntity userCredentialsEntity = userCredentialsRepository.findByUsername(username);\r\n                UserMerged userMerged = new UserMerged();\r\n                userMerged.setUser_detail(userDetailsEntity);\r\n                userMerged.setUser_credential(userCredentialsEntity);\r\n                return ResponseEntity.ok().body(userMerged);\r\n            }\r\n        } catch (ApiRequestException exception) {\r\n            throw new ApiRequestException(&quot;Token mismatch&quot;);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_ACCEPTABLE);\r\n    }\r\n\r\n    @GetMapping(&quot;/token/refresh&quot;)\r\n    public void refreshToken(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        String authorizationHeader = request.getHeader(AUTHORIZATION);\r\n        log.info(authorizationHeader);\r\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n            try {\r\n                String refresh_token = authorizationHeader.substring(&quot;Bearer &quot;.length());\r\n                log.info(refresh_token);\r\n                Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\r\n                JWTVerifier verifier = JWT.require(algorithm).build();\r\n                DecodedJWT decodedJWT = verifier.verify(refresh_token);\r\n                String username = decodedJWT.getSubject();\r\n                UserCredentialsEntity userCredentialsEntity = userCredentialsService.getUser(username);\r\n                String access_token = JWT.create()\r\n                        .withSubject(userCredentialsEntity.getUsername())\r\n                        .withExpiresAt(new Date(System.currentTimeMillis() + 10 * 60 * 1000))\r\n                        .withIssuer(request.getRequestURL().toString())\r\n                        .withClaim(&quot;roles&quot;, userCredentialsEntity.getRoles().stream().map(Role::getName).collect(Collectors.toList()))\r\n                        .sign(algorithm);\r\n                Map&lt;String, String&gt; tokens = new HashMap&lt;&gt;();\r\n                tokens.put(&quot;access_token&quot;, access_token);\r\n                tokens.put(&quot;refresh_token&quot;, refresh_token);\r\n                response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n                new ObjectMapper().writeValue(response.getOutputStream(), tokens);\r\n            } catch (Exception exception) {\r\n                response.setHeader(&quot;error&quot;, exception.getMessage());\r\n                response.setStatus(FORBIDDEN.value());\r\n                Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\r\n                error.put(&quot;error&quot;, exception.getMessage());\r\n                response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n                new ObjectMapper().writeValue(response.getOutputStream(), error);\r\n            }\r\n        } else {\r\n            throw new RuntimeException(&quot;Refresh token required!&quot;);\r\n        }\r\n    }\r\n\r\n    @GetMapping(&quot;/user/all&quot;)\r\n    public List&lt;UserCredentialsEntity&gt; fetchUsers() {\r\n        return userCredentialsService.fetchUsersCredentials();\r\n    }\r\n\r\n    @DeleteMapping(&quot;/user/{id}&quot;)\r\n    public ResponseEntity&lt;String&gt; deleteUser(@PathVariable(&quot;id&quot;) int userId) {\r\n        userCredentialsService.deleteUser(userId);\r\n        return ResponseEntity.ok(&quot;User is deleted Successfully!!&quot;);\r\n    }\r\n\r\n    @PostMapping(&quot;/assignment/upload&quot;)\r\n    public ResponseEntity&lt;ResponseMessage&gt; uploadFile(@RequestParam(value = &quot;file&quot;, required = false) MultipartFile file,@RequestParam(&quot;title&quot;) String title, @RequestParam(&quot;description&quot;) String description, @RequestParam(&quot;total_credit&quot;) int total_credit, @RequestParam(&quot;due_date&quot;) String due_date, HttpServletRequest request) {\r\n        String senderUsername = (new Utility()).getUsernameFromToken(request);\r\n        int trainerId = userCredentialsRepository.findByUsername(senderUsername).getId();\r\n        var savedAssignment = assignmentDetailsService.save(new AssignmentDetail(trainerId, title, description, total_credit, due_date, true));\r\n        String message = &quot;Assignment Uploaded Successfully&quot;;\r\n        if(file != null) {\r\n            try {\r\n                fileDBService.store(file, savedAssignment.getId());\r\n            } catch(IOException exception) {\r\n                message = &quot;Could not upload the file &quot; + file.getOriginalFilename();\r\n                return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(message));\r\n            }\r\n        }\r\n        return ResponseEntity.ok(new ResponseMessage(message));\r\n    }\r\n\r\n    @GetMapping(&quot;/files/{id}&quot;)\r\n    public ResponseEntity&lt;ResponseFile&gt; getFile(@PathVariable(&quot;id&quot;) int id) {\r\n        var file = fileDBService.getFileByFileId(id);\r\n        String fileDownloadUri = ServletUriComponentsBuilder\r\n                .fromCurrentContextPath()\r\n                .path(&quot;/files/&quot;)\r\n                .path(Integer.toString(file.getId()))\r\n                .toUriString();\r\n\r\n        ResponseFile responseFile = new ResponseFile(file.getName(),fileDownloadUri, file.getType(), file.getData().length);\r\n        return ResponseEntity.ok().body(responseFile);\r\n    }\r\n\r\n}\r\n\r\n@Data\r\nclass RoleToUserForm {\r\n    private String username;\r\n    private String roleName;\r\n}\r\n\r\n```\r\n\r\nThank You.","title":"Cannot find symbol (all the constructors, getters and setters) in spring boot","body":"<p>My project was working fine earlier, but when I open this in STS and then opened it in IntelliJ, it started giving me this error. I was searching for a solution but didn't got any. Anyone, please help me.</p>\n<p>Also, <strong>I have already installed the Lombok plugin in my IntelliJ</strong>.</p>\n<p><strong>Error picture</strong></p>\n<p><a href=\"https://i.stack.imgur.com/OECTA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OECTA.png\" alt=\"enter image description here\" /></a></p>\n<p>My <strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com&lt;/groupId&gt;\n    &lt;artifactId&gt;training-management-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;training-management-server&lt;/name&gt;\n    &lt;description&gt;Backend for Training management&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;7.0.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.0.206&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.auth0/java-jwt --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;3.18.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>UserController</strong></p>\n<pre><code>package com.trainingmanagementserver.api;\n\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.JWTVerifier;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport com.auth0.jwt.interfaces.DecodedJWT;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.trainingmanagementserver.entity.*;\nimport com.trainingmanagementserver.exception.ApiRequestException;\nimport com.trainingmanagementserver.message.ResponseFile;\nimport com.trainingmanagementserver.message.ResponseMessage;\nimport com.trainingmanagementserver.repository.TraineesTrainerRepository;\nimport com.trainingmanagementserver.repository.UserCredentialsRepository;\nimport com.trainingmanagementserver.service.AssignmentDetailsService;\nimport com.trainingmanagementserver.service.FileDBService;\nimport com.trainingmanagementserver.service.UserCredentialsService;\nimport com.trainingmanagementserver.service.UserDetailService;\nimport com.trainingmanagementserver.utility.Utility;\nimport lombok.Data;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.validation.Valid;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.util.*;\nimport java.util.stream.Collectors;\nimport static org.springframework.http.HttpHeaders.AUTHORIZATION;\nimport static org.springframework.http.HttpStatus.FORBIDDEN;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\n@RequiredArgsConstructor\n@Slf4j\n//@Validated\n@CrossOrigin(&quot;http://localhost:8080&quot;)\npublic class UserController {\n    private final UserCredentialsService userCredentialsService;\n    private final UserDetailService userDetailService;\n    private final UserCredentialsRepository userCredentialsRepository;\n    private final TraineesTrainerRepository traineesTrainerRepository;\n    private final AssignmentDetailsService assignmentDetailsService;\n    private final FileDBService fileDBService;\n\n    @PostMapping(&quot;/auth/signup&quot;)\n    public ResponseEntity&lt;UserCredentialsEntity&gt; saveUser(@RequestBody UserCredentialsEntity userCredentialsEntity) throws ApiRequestException{\n        URI uri = URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/api/auth/signup&quot;).toUriString());\n        var username = userCredentialsRepository.findByUsername(userCredentialsEntity.getUsername());\n        var email = userCredentialsRepository.findByEmail(userCredentialsEntity.getEmail());\n        if(username == null  &amp;&amp; email == null) {\n            return ResponseEntity.created(uri).body(userCredentialsService.userCredentialsSave(userCredentialsEntity));\n        } else if(username != null &amp;&amp; email != null) {\n            throw new ApiRequestException(&quot;Username and Email already exist&quot;);\n        }\n        else if(username != null){\n            throw new ApiRequestException(&quot;Username already exist&quot;);\n        }\n        throw new ApiRequestException(&quot;Email already exist&quot;);\n    }\n\n    @PostMapping(&quot;/trainee/addBulk&quot;)\n    public ResponseEntity&lt;List&lt;UserCredentialsEntity&gt;&gt; addBulkTrainees(@RequestBody List&lt;UserCredentialsEntity&gt; bulkUserCredentialsEntity, HttpServletRequest request) throws ApiRequestException{\n        URI uri = URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/api/role&quot;).toUriString());\n        String username = (new Utility()).getUsernameFromToken(request);\n        int trainerId = userCredentialsRepository.findByUsername(username).getId();\n        bulkUserCredentialsEntity.forEach(trainee -&gt; {\n            var checkUsername = userCredentialsRepository.findByUsername(trainee.getUsername());\n            var checkEmail = userCredentialsRepository.findByEmail(trainee.getEmail());\n            if(checkUsername != null || checkEmail != null) {\n                throw new ApiRequestException(&quot;Invalid Entry&quot;);\n            }\n        });\n        var savedTrainees = userCredentialsService.addBulkTrainees(bulkUserCredentialsEntity);\n        savedTrainees.forEach(trainees -&gt; {\n            int traineeId = trainees.getId();\n            TraineesTrainer traineesTrainer = new TraineesTrainer();\n            traineesTrainer.setTraineeId(traineeId);\n            traineesTrainer.setTrainerId(trainerId);\n            traineesTrainerRepository.save(traineesTrainer);\n            userCredentialsService.addRoleToUser(&quot;ROLE_TRAINEE&quot;, trainees.getUsername());\n        });\n        return ResponseEntity.created(uri).body(savedTrainees);\n    }\n\n    @GetMapping(&quot;/trainee/all&quot;)\n    public ResponseEntity&lt;List&lt;UserMerged&gt;&gt; getAllTrainees(HttpServletRequest request) {\n        String username = (new Utility().getUsernameFromToken(request));\n        if(username.isEmpty()) throw new ApiRequestException(&quot;Username not present&quot;);\n        var trainerId = userCredentialsRepository.findByUsername(username).getId();\n        return ResponseEntity.ok().body(userCredentialsService.showTraineesEnrolled(trainerId));\n    }\n\n    @PostMapping(&quot;/role&quot;)\n    public ResponseEntity&lt;Role&gt; saveRole(@RequestBody Role role) {\n        URI uri = URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/api/role&quot;).toUriString());\n        return ResponseEntity.created(uri).body(userCredentialsService.roleSave(role));\n    }\n\n    @GetMapping(&quot;/register/check&quot;)\n    public ResponseEntity&lt;?&gt; checkRegister(HttpServletRequest request) throws ApiRequestException{\n        try {\n            String username = (new Utility()).getUsernameFromToken(request);\n            int userId = userCredentialsRepository.findByUsername(username).getId();\n            Map&lt;String, Boolean&gt; response = new HashMap&lt;&gt;();\n            if (userDetailService.fetchUserDetails(userId).isPresent()) {\n                response.put(&quot;isPresent&quot;, true);\n            } else {\n                response.put(&quot;isPresent&quot;, false);\n            }\n            return ResponseEntity.ok().body(response);\n        } catch (ApiRequestException exception) {\n            throw new ApiRequestException(&quot;Token is mismatch&quot;);\n        }\n    }\n\n    @PostMapping(&quot;/role/addToUser&quot;)\n    public ResponseEntity&lt;?&gt; addRoleToUser(@RequestBody RoleToUserForm roleForm) throws ApiRequestException {\n        try {\n            userCredentialsService.addRoleToUser(roleForm.getRoleName(), roleForm.getUsername());\n            return ResponseEntity.ok().build();\n        } catch (Exception e) {\n            throw new ApiRequestException(&quot;Not able to add role to the user&quot;);\n        }\n    }\n\n    @PostMapping(&quot;/me&quot;)\n    public ResponseEntity&lt;?&gt; saveUser(@Valid @RequestBody UserDetailsEntity userDetailsEntity, HttpServletRequest request) {\n//        System.out.println(&quot;Printing result &quot;+result);\n//        if(result.hasErrors()) {\n//            Map&lt;String, BindingResult&gt; errors = new HashMap&lt;&gt;();\n//            errors.put(&quot;error&quot;, result);\n//            return ResponseEntity.badRequest().body(errors);\n//        }\n        URI uri = URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/api/user/detail&quot;).toUriString());\n        String username = (new Utility()).getUsernameFromToken(request);\n        int userId = userCredentialsRepository.findByUsername(username).getId();\n        userDetailsEntity.setId(userId);\n        return ResponseEntity.created(uri).body(userDetailService.save(userDetailsEntity));\n    }\n\n    @GetMapping(&quot;/me&quot;)\n    public ResponseEntity&lt;UserMerged&gt; fetchUserDetails(HttpServletRequest request) throws ApiRequestException {\n        try {\n            String username = (new Utility()).getUsernameFromToken(request);\n            int userId = userCredentialsRepository.findByUsername(username).getId();\n            if (userDetailService.fetchUserDetails(userId).isPresent()) {\n                UserDetailsEntity userDetailsEntity = userDetailService.fetchUserDetails(userId).get();\n                UserCredentialsEntity userCredentialsEntity = userCredentialsRepository.findByUsername(username);\n                UserMerged userMerged = new UserMerged();\n                userMerged.setUser_detail(userDetailsEntity);\n                userMerged.setUser_credential(userCredentialsEntity);\n                return ResponseEntity.ok().body(userMerged);\n            }\n        } catch (ApiRequestException exception) {\n            throw new ApiRequestException(&quot;Token mismatch&quot;);\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_ACCEPTABLE);\n    }\n\n    @GetMapping(&quot;/token/refresh&quot;)\n    public void refreshToken(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        String authorizationHeader = request.getHeader(AUTHORIZATION);\n        log.info(authorizationHeader);\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n            try {\n                String refresh_token = authorizationHeader.substring(&quot;Bearer &quot;.length());\n                log.info(refresh_token);\n                Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\n                JWTVerifier verifier = JWT.require(algorithm).build();\n                DecodedJWT decodedJWT = verifier.verify(refresh_token);\n                String username = decodedJWT.getSubject();\n                UserCredentialsEntity userCredentialsEntity = userCredentialsService.getUser(username);\n                String access_token = JWT.create()\n                        .withSubject(userCredentialsEntity.getUsername())\n                        .withExpiresAt(new Date(System.currentTimeMillis() + 10 * 60 * 1000))\n                        .withIssuer(request.getRequestURL().toString())\n                        .withClaim(&quot;roles&quot;, userCredentialsEntity.getRoles().stream().map(Role::getName).collect(Collectors.toList()))\n                        .sign(algorithm);\n                Map&lt;String, String&gt; tokens = new HashMap&lt;&gt;();\n                tokens.put(&quot;access_token&quot;, access_token);\n                tokens.put(&quot;refresh_token&quot;, refresh_token);\n                response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n                new ObjectMapper().writeValue(response.getOutputStream(), tokens);\n            } catch (Exception exception) {\n                response.setHeader(&quot;error&quot;, exception.getMessage());\n                response.setStatus(FORBIDDEN.value());\n                Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\n                error.put(&quot;error&quot;, exception.getMessage());\n                response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n                new ObjectMapper().writeValue(response.getOutputStream(), error);\n            }\n        } else {\n            throw new RuntimeException(&quot;Refresh token required!&quot;);\n        }\n    }\n\n    @GetMapping(&quot;/user/all&quot;)\n    public List&lt;UserCredentialsEntity&gt; fetchUsers() {\n        return userCredentialsService.fetchUsersCredentials();\n    }\n\n    @DeleteMapping(&quot;/user/{id}&quot;)\n    public ResponseEntity&lt;String&gt; deleteUser(@PathVariable(&quot;id&quot;) int userId) {\n        userCredentialsService.deleteUser(userId);\n        return ResponseEntity.ok(&quot;User is deleted Successfully!!&quot;);\n    }\n\n    @PostMapping(&quot;/assignment/upload&quot;)\n    public ResponseEntity&lt;ResponseMessage&gt; uploadFile(@RequestParam(value = &quot;file&quot;, required = false) MultipartFile file,@RequestParam(&quot;title&quot;) String title, @RequestParam(&quot;description&quot;) String description, @RequestParam(&quot;total_credit&quot;) int total_credit, @RequestParam(&quot;due_date&quot;) String due_date, HttpServletRequest request) {\n        String senderUsername = (new Utility()).getUsernameFromToken(request);\n        int trainerId = userCredentialsRepository.findByUsername(senderUsername).getId();\n        var savedAssignment = assignmentDetailsService.save(new AssignmentDetail(trainerId, title, description, total_credit, due_date, true));\n        String message = &quot;Assignment Uploaded Successfully&quot;;\n        if(file != null) {\n            try {\n                fileDBService.store(file, savedAssignment.getId());\n            } catch(IOException exception) {\n                message = &quot;Could not upload the file &quot; + file.getOriginalFilename();\n                return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(message));\n            }\n        }\n        return ResponseEntity.ok(new ResponseMessage(message));\n    }\n\n    @GetMapping(&quot;/files/{id}&quot;)\n    public ResponseEntity&lt;ResponseFile&gt; getFile(@PathVariable(&quot;id&quot;) int id) {\n        var file = fileDBService.getFileByFileId(id);\n        String fileDownloadUri = ServletUriComponentsBuilder\n                .fromCurrentContextPath()\n                .path(&quot;/files/&quot;)\n                .path(Integer.toString(file.getId()))\n                .toUriString();\n\n        ResponseFile responseFile = new ResponseFile(file.getName(),fileDownloadUri, file.getType(), file.getData().length);\n        return ResponseEntity.ok().body(responseFile);\n    }\n\n}\n\n@Data\nclass RoleToUserForm {\n    private String username;\n    private String roleName;\n}\n\n</code></pre>\n<p>Thank You.</p>\n"},{"tags":["java","spotify"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692009829,"post_id":76880247,"comment_id":135563245,"body_markdown":"*&quot;I apologize if I get any terminology wrong.&quot;*  ... Ermm headers are not in the body.   You are not talking about headers.  You are talking about attributes of some JSON sent as the response body.  If you learn and use the correct terminology, it is easier to understand you ... and you are more likely to be able to find the solution for yourself. In this case, the solution is to use a JSON parser library to parse the JSON in the body.  That will give you an in-memory object and you can call a method on that object to &quot;get&quot; the value of the attribute.","body":"<i>&quot;I apologize if I get any terminology wrong.&quot;</i>  ... Ermm headers are not in the body.   You are not talking about headers.  You are talking about attributes of some JSON sent as the response body.  If you learn and use the correct terminology, it is easier to understand you ... and you are more likely to be able to find the solution for yourself. In this case, the solution is to use a JSON parser library to parse the JSON in the body.  That will give you an in-memory object and you can call a method on that object to &quot;get&quot; the value of the attribute."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692010124,"post_id":76880247,"comment_id":135563301,"body_markdown":"In short: learn the terminology *first* by reading about the technology that you are trying to use.  It will save you time.   (P.S. I am teaching ... not criticizing.)","body":"In short: learn the terminology <i>first</i> by reading about the technology that you are trying to use.  It will save you time.   (P.S. I am teaching ... not criticizing.)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691718945,"creation_date":1691718945,"answer_id":76880264,"question_id":76880247,"body_markdown":"That response __is not a header__. Headers are something else. Here, the spotify API server is no doubt responding with headers like `Content-Type` (and its value would be `application/json; charset=UTF-8`).\r\n\r\nWhat you&#39;re looking at __is__ the body. It would be kinda silly if calling `.body()` returns the thing that is the opposite of the body.\r\n\r\nThat body is in a format called JSON. You need a JSON parser to parse it. I suggest [Jackson JSON](https://www.baeldung.com/jackson).\r\n","title":"Is there a way to access individual header parameters from the body of a response in Java?","body":"<p>That response <strong>is not a header</strong>. Headers are something else. Here, the spotify API server is no doubt responding with headers like <code>Content-Type</code> (and its value would be <code>application/json; charset=UTF-8</code>).</p>\n<p>What you're looking at <strong>is</strong> the body. It would be kinda silly if calling <code>.body()</code> returns the thing that is the opposite of the body.</p>\n<p>That body is in a format called JSON. You need a JSON parser to parse it. I suggest <a href=\"https://www.baeldung.com/jackson\" rel=\"nofollow noreferrer\">Jackson JSON</a>.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692009256,"creation_date":1692009256,"answer_id":76898188,"question_id":76880247,"body_markdown":"You have the JSON string you need, now you can use JSON the get the information you want. The runnable demo console application below utilizes the **[json-20210307.jar](https://repo1.maven.org/maven2/org/json/json/20210307/)** library which you will need to apply.\r\n\r\nBe sure to read the extensive comments in code so to see what is going on. You can remove the comments later if you like.\r\n\r\nImportant methods within the demo code below are the `getJsonKeys()` method and the `getJsonKeyValue()` method:\r\n\r\n```\r\n/*\r\n    Dependencies (libraries): json-20210307.jar\r\n        You can download this JAR file from here:\r\n            https://repo1.maven.org/maven2/org/json/json/20210307/\r\n        or download directly from here:\r\n            https://repo1.maven.org/maven2/org/json/json/20210307/json-20210307.jar\r\n\r\n        Add this library to your project.\r\n */\r\npackage getobjectfromjsonstringdemo;\r\n\r\npublic class GetObjectFromJsonStringDemo {\r\n    \r\n    // Class Member Variables:\r\n    public final String LS = System.lineSeparator();\r\n    \r\n    /* Open a Keyboard Input Stream. &#39;Don&#39;t close&#39; this Stream! \r\n       If you do, you will have restart the application in order \r\n       to utilize it again. The JVM will automatically close this \r\n       resource when the application ends. Never close it unless\r\n       you are absolutely sure you will not need it again for the \r\n       current run life of your app.              */\r\n    public final java.util.Scanner userInput = new java.util.Scanner(System.in);\r\n    \r\n    \r\n    // Application entry point:\r\n    public static void main(String[] args) {\r\n        /* App started this way to avoid the need for statics \r\n           (unless we want them):        */\r\n        new GetObjectFromJsonStringDemo().startApp(args);\r\n    }\r\n    \r\n    /** \r\n     * Alternate application entry point - called from the &#39;main()&#39; method: \r\n     * \r\n     * @param args (Optional - String VarArgs) If there are going to be \r\n     * command-line arguments, they would be supplied from the &#39;main()&#39;\r\n     * method. Doing the method parameter this way allows us to call this \r\n     * method without any arguments at all. This is done for the sake of \r\n     * this demo so that another &#39;while&#39; loop didn&#39;t need to be used to \r\n     * continuously redisplay the menu after the &quot;Press Enter to Continue&quot; \r\n     * prompt. \r\n     */   \r\n    private void startApp(String... args) {\r\n        // The JSON String:  {&quot;access_token&quot;:&quot;[ACCESS_TOKEN]&quot;,&quot;token_type&quot;:&quot;Bearer&quot;,&quot;expires_in&quot;:3600}\r\n        String json = &quot;{\\&quot;access_token\\&quot;:\\&quot;[ACCESS_TOKEN]\\&quot;,\\&quot;token_type\\&quot;:\\&quot;Bearer\\&quot;,\\&quot;expires_in\\&quot;:3600}&quot;;\r\n        System.out.println(&quot;The Supplied JSON String:&quot; + LS + &quot;------------------------&quot;);\r\n        System.out.println(json + LS);\r\n        \r\n        // Get the Keys from the JSON String:\r\n        String[] keys = getJsonKeys(json);\r\n        \r\n        // Build The Menu To select any one of the acquired Keys so to get its value:\r\n        // ==========================================================================\r\n        // User Prompt menu input varaible initialized to empty (null string):\r\n        String choice = &quot;&quot;;\r\n        int finalI = keys.length + 1; // Will hold the last item number in Menu for &#39;Quit&#39;:\r\n        \r\n        // Keep looping while &#39;choice&#39; is empty:\r\n        while (choice.isEmpty()) {\r\n            // Prompt string:\r\n            System.out.println(&quot;Select the Key Name you would like the Value for:&quot;);\r\n            \r\n            // Loop through the &#39;keys[]&#39; array and build into menu:            \r\n            for (int i = 0; i &lt; keys.length; i++) {\r\n                System.out.println(&quot;  &quot; + (i + 1) + &quot;) &quot; + keys[i]);\r\n            }\r\n            // Menu separator so to apply the &#39;Quit&#39; menu item beneath it:\r\n            System.out.println(&quot;  -------------------------&quot;);\r\n            System.out.println(&quot;  &quot; + finalI + &quot;) Quit This Application!&quot;);\r\n            System.out.print(&quot;Your Choice? -&gt; &quot;);\r\n            \r\n            /* Get User Input and trim it so to remove any possible\r\n               leading or trailing whitespaces:      */\r\n            choice = userInput.nextLine().trim();\r\n            \r\n            // Entry Validation:\r\n            /* Make sure the entry is an integer numerical value. If it\r\n               is then make sure the numercal value entered is within \r\n               the range of the number of menu item (however number of \r\n               menu items there actually are):            */\r\n            if (!choice.matches(&quot;\\\\d+&quot;) || Integer.parseInt(choice) &lt; 1 || \r\n                                           Integer.parseInt(choice) &gt; finalI) {\r\n                // If input validation fails then inform User and repropmt:\r\n                System.out.println(&quot;Invalid Menu Choice! (&quot; + choice + &quot;) Try Again...&quot; + LS);\r\n                choice = &quot;&quot;; // Empty &#39;choice&#39; to ensure reprompt:\r\n            }\r\n        }\r\n        \r\n        /* If we make it to this point then validation was successful \r\n           so convert the menu item number to an int type variable. \r\n           This value will be used as an index number (minus 1) to get \r\n           the related Key Name from the &#39;keys[]&#39; string array:   */\r\n        int choiceVal = Integer.parseInt(choice);\r\n        \r\n        // Has QUIT been selected (the last menu item)?\r\n        if (choiceVal == finalI) {\r\n            System.out.println(LS + &quot;Quitting - Bye Bye&quot; + LS);\r\n            // Effectively exit this method which will ultimately end the application:\r\n            return; \r\n        }\r\n        \r\n        /* No...Quit hasn&#39;t been selected so let&#39;s get and \r\n           display the selected Key Value:        */\r\n        Object keyValue = getJsonKeyValue(json, keys[choiceVal - 1]);\r\n        System.out.println(LS + &quot;Value for the Key: \\&quot;&quot; + keys[choiceVal - 1] \r\n                           + &quot;\\&quot; is: -&gt; &quot; + keyValue.toString() + LS);\r\n        pressEnterToContinue();\r\n    }\r\n    \r\n    /* A prompt to allow User to continue and disply the menu again.\r\n       (a million and a half ways to do this sort of thing)    */\r\n    private void pressEnterToContinue() {\r\n        // Prompt...\r\n        String entry = &quot;&quot;;\r\n        while (entry.isEmpty()) {\r\n            System.out.println(&quot;&lt;&lt; Press ENTER To Continue &gt;&gt;&quot;);\r\n            System.out.println(&quot;&lt;&lt;     Enter q to Quit     &gt;&gt;&quot;);\r\n            entry = userInput.nextLine().trim();\r\n            // Validate...\r\n            /* If the entry isn&#39;t empty (which an ENTER Key Hit \r\n               will do) and the entry wasn&#39;t a &#39;Q&#39; in any letter \r\n               case then the entry is Invalid to continue the demo \r\n               so, ask again.            */\r\n            if (!entry.isEmpty() &amp;&amp; !entry.equalsIgnoreCase(&quot;q&quot;)) {\r\n                System.out.println(&quot;Invalid Entry! (&quot; + entry + &quot;) - Try Again...&quot; + LS);\r\n                entry = &quot;&quot;; // Empty so to ensure re-loop.\r\n                continue;\r\n            }\r\n            \r\n            // If we make it to this point then, validation is successful:\r\n            if (!entry.equalsIgnoreCase(&quot;q&quot;)) {\r\n                // Make &#39;entry&#39; contain something relative so not to re-loop:\r\n                entry = &quot;continueON&quot;;\r\n            }\r\n            // Otherwise....QUIT.\r\n            else {\r\n                System.out.println(&quot;Quitting - Bye Bye&quot; + LS);\r\n                System.exit(0);\r\n            }\r\n           \r\n        }\r\n        \r\n        /* Call the startApp() method again but with no arguments\r\n           so to display the menu again:        */\r\n        startApp();\r\n    }\r\n\r\n    /**\r\n     * This method retrieves the Key Names within a JSON String and returns them\r\n     * within a String[] array.&lt;br&gt;\r\n     *\r\n     * @param jsonString (String) The JSON String to work on.&lt;br&gt;\r\n     * \r\n     * @param parentNodeName (Optional - String VarArg) A lot of times Keys and \r\n     * their respective values are nested within sever specific parent nodes. \r\n     * This parameter allows you to specify the parent node from where to acquire \r\n     * the desired Key names.\r\n     * &lt;p&gt;\r\n     * If there are parent nodes within the JSON string and you supply nothing \r\n     * to this parameter then, the outer most Parent Key names will be returned.\r\n     *&lt;p&gt;\r\n     * @return (String[] Array) A String array of Key names contained within the\r\n     *         supplied JSON String.\r\n     */\r\n    public String[] getJsonKeys(String jsonString, String... parentNodeName) {\r\n        String parentNode = &quot;&quot;;\r\n        if (parentNodeName.length &gt; 0 &amp;&amp; !parentNodeName[0].trim().isEmpty()) {\r\n               parentNode = parentNodeName[0];\r\n        }\r\n        \r\n        org.json.JSONObject obj = new org.json.JSONObject(jsonString);\r\n        if (!parentNode.isEmpty()) {\r\n            org.json.JSONObject parentObj = obj.getJSONObject(parentNode);\r\n            java.util.Set&lt;String&gt; keyNames = parentObj.keySet();\r\n            return keyNames.toArray(new String[0]);\r\n        }\r\n        else {\r\n            java.util.Set&lt;String&gt; keyNames = obj.keySet();\r\n            return keyNames.toArray(new String[0]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method retrieves the Key Value for the supplied Key Name contained\r\n     * within the supplied JSON String.\r\n     * \r\n     * @param jsonString (String) The JSON String to work on.&lt;br&gt;\r\n     * \r\n     * @param keyName (String) The Key Name to get the related Value for.&lt;br&gt;\r\n     * \r\n     * @return (Object) The Value related to the supplied Key Name. You will \r\n     * need to cast the returned object to the desired data type the key value \r\n     * is meant to be or use the &#39;toString()&#39; method.\r\n     */\r\n    public Object getJsonKeyValue(String jsonString, String keyName) {\r\n        org.json.JSONObject obj = new org.json.JSONObject(jsonString);\r\n        Object keyValue = obj.get(keyName);\r\n        return keyValue;\r\n    }\r\n    // DONE.\r\n}\r\n```","title":"Is there a way to access individual header parameters from the body of a response in Java?","body":"<p>You have the JSON string you need, now you can use JSON the get the information you want. The runnable demo console application below utilizes the <strong><a href=\"https://repo1.maven.org/maven2/org/json/json/20210307/\" rel=\"nofollow noreferrer\">json-20210307.jar</a></strong> library which you will need to apply.</p>\n<p>Be sure to read the extensive comments in code so to see what is going on. You can remove the comments later if you like.</p>\n<p>Important methods within the demo code below are the <code>getJsonKeys()</code> method and the <code>getJsonKeyValue()</code> method:</p>\n<pre><code>/*\n    Dependencies (libraries): json-20210307.jar\n        You can download this JAR file from here:\n            https://repo1.maven.org/maven2/org/json/json/20210307/\n        or download directly from here:\n            https://repo1.maven.org/maven2/org/json/json/20210307/json-20210307.jar\n\n        Add this library to your project.\n */\npackage getobjectfromjsonstringdemo;\n\npublic class GetObjectFromJsonStringDemo {\n    \n    // Class Member Variables:\n    public final String LS = System.lineSeparator();\n    \n    /* Open a Keyboard Input Stream. 'Don't close' this Stream! \n       If you do, you will have restart the application in order \n       to utilize it again. The JVM will automatically close this \n       resource when the application ends. Never close it unless\n       you are absolutely sure you will not need it again for the \n       current run life of your app.              */\n    public final java.util.Scanner userInput = new java.util.Scanner(System.in);\n    \n    \n    // Application entry point:\n    public static void main(String[] args) {\n        /* App started this way to avoid the need for statics \n           (unless we want them):        */\n        new GetObjectFromJsonStringDemo().startApp(args);\n    }\n    \n    /** \n     * Alternate application entry point - called from the 'main()' method: \n     * \n     * @param args (Optional - String VarArgs) If there are going to be \n     * command-line arguments, they would be supplied from the 'main()'\n     * method. Doing the method parameter this way allows us to call this \n     * method without any arguments at all. This is done for the sake of \n     * this demo so that another 'while' loop didn't need to be used to \n     * continuously redisplay the menu after the &quot;Press Enter to Continue&quot; \n     * prompt. \n     */   \n    private void startApp(String... args) {\n        // The JSON String:  {&quot;access_token&quot;:&quot;[ACCESS_TOKEN]&quot;,&quot;token_type&quot;:&quot;Bearer&quot;,&quot;expires_in&quot;:3600}\n        String json = &quot;{\\&quot;access_token\\&quot;:\\&quot;[ACCESS_TOKEN]\\&quot;,\\&quot;token_type\\&quot;:\\&quot;Bearer\\&quot;,\\&quot;expires_in\\&quot;:3600}&quot;;\n        System.out.println(&quot;The Supplied JSON String:&quot; + LS + &quot;------------------------&quot;);\n        System.out.println(json + LS);\n        \n        // Get the Keys from the JSON String:\n        String[] keys = getJsonKeys(json);\n        \n        // Build The Menu To select any one of the acquired Keys so to get its value:\n        // ==========================================================================\n        // User Prompt menu input varaible initialized to empty (null string):\n        String choice = &quot;&quot;;\n        int finalI = keys.length + 1; // Will hold the last item number in Menu for 'Quit':\n        \n        // Keep looping while 'choice' is empty:\n        while (choice.isEmpty()) {\n            // Prompt string:\n            System.out.println(&quot;Select the Key Name you would like the Value for:&quot;);\n            \n            // Loop through the 'keys[]' array and build into menu:            \n            for (int i = 0; i &lt; keys.length; i++) {\n                System.out.println(&quot;  &quot; + (i + 1) + &quot;) &quot; + keys[i]);\n            }\n            // Menu separator so to apply the 'Quit' menu item beneath it:\n            System.out.println(&quot;  -------------------------&quot;);\n            System.out.println(&quot;  &quot; + finalI + &quot;) Quit This Application!&quot;);\n            System.out.print(&quot;Your Choice? -&gt; &quot;);\n            \n            /* Get User Input and trim it so to remove any possible\n               leading or trailing whitespaces:      */\n            choice = userInput.nextLine().trim();\n            \n            // Entry Validation:\n            /* Make sure the entry is an integer numerical value. If it\n               is then make sure the numercal value entered is within \n               the range of the number of menu item (however number of \n               menu items there actually are):            */\n            if (!choice.matches(&quot;\\\\d+&quot;) || Integer.parseInt(choice) &lt; 1 || \n                                           Integer.parseInt(choice) &gt; finalI) {\n                // If input validation fails then inform User and repropmt:\n                System.out.println(&quot;Invalid Menu Choice! (&quot; + choice + &quot;) Try Again...&quot; + LS);\n                choice = &quot;&quot;; // Empty 'choice' to ensure reprompt:\n            }\n        }\n        \n        /* If we make it to this point then validation was successful \n           so convert the menu item number to an int type variable. \n           This value will be used as an index number (minus 1) to get \n           the related Key Name from the 'keys[]' string array:   */\n        int choiceVal = Integer.parseInt(choice);\n        \n        // Has QUIT been selected (the last menu item)?\n        if (choiceVal == finalI) {\n            System.out.println(LS + &quot;Quitting - Bye Bye&quot; + LS);\n            // Effectively exit this method which will ultimately end the application:\n            return; \n        }\n        \n        /* No...Quit hasn't been selected so let's get and \n           display the selected Key Value:        */\n        Object keyValue = getJsonKeyValue(json, keys[choiceVal - 1]);\n        System.out.println(LS + &quot;Value for the Key: \\&quot;&quot; + keys[choiceVal - 1] \n                           + &quot;\\&quot; is: -&gt; &quot; + keyValue.toString() + LS);\n        pressEnterToContinue();\n    }\n    \n    /* A prompt to allow User to continue and disply the menu again.\n       (a million and a half ways to do this sort of thing)    */\n    private void pressEnterToContinue() {\n        // Prompt...\n        String entry = &quot;&quot;;\n        while (entry.isEmpty()) {\n            System.out.println(&quot;&lt;&lt; Press ENTER To Continue &gt;&gt;&quot;);\n            System.out.println(&quot;&lt;&lt;     Enter q to Quit     &gt;&gt;&quot;);\n            entry = userInput.nextLine().trim();\n            // Validate...\n            /* If the entry isn't empty (which an ENTER Key Hit \n               will do) and the entry wasn't a 'Q' in any letter \n               case then the entry is Invalid to continue the demo \n               so, ask again.            */\n            if (!entry.isEmpty() &amp;&amp; !entry.equalsIgnoreCase(&quot;q&quot;)) {\n                System.out.println(&quot;Invalid Entry! (&quot; + entry + &quot;) - Try Again...&quot; + LS);\n                entry = &quot;&quot;; // Empty so to ensure re-loop.\n                continue;\n            }\n            \n            // If we make it to this point then, validation is successful:\n            if (!entry.equalsIgnoreCase(&quot;q&quot;)) {\n                // Make 'entry' contain something relative so not to re-loop:\n                entry = &quot;continueON&quot;;\n            }\n            // Otherwise....QUIT.\n            else {\n                System.out.println(&quot;Quitting - Bye Bye&quot; + LS);\n                System.exit(0);\n            }\n           \n        }\n        \n        /* Call the startApp() method again but with no arguments\n           so to display the menu again:        */\n        startApp();\n    }\n\n    /**\n     * This method retrieves the Key Names within a JSON String and returns them\n     * within a String[] array.&lt;br&gt;\n     *\n     * @param jsonString (String) The JSON String to work on.&lt;br&gt;\n     * \n     * @param parentNodeName (Optional - String VarArg) A lot of times Keys and \n     * their respective values are nested within sever specific parent nodes. \n     * This parameter allows you to specify the parent node from where to acquire \n     * the desired Key names.\n     * &lt;p&gt;\n     * If there are parent nodes within the JSON string and you supply nothing \n     * to this parameter then, the outer most Parent Key names will be returned.\n     *&lt;p&gt;\n     * @return (String[] Array) A String array of Key names contained within the\n     *         supplied JSON String.\n     */\n    public String[] getJsonKeys(String jsonString, String... parentNodeName) {\n        String parentNode = &quot;&quot;;\n        if (parentNodeName.length &gt; 0 &amp;&amp; !parentNodeName[0].trim().isEmpty()) {\n               parentNode = parentNodeName[0];\n        }\n        \n        org.json.JSONObject obj = new org.json.JSONObject(jsonString);\n        if (!parentNode.isEmpty()) {\n            org.json.JSONObject parentObj = obj.getJSONObject(parentNode);\n            java.util.Set&lt;String&gt; keyNames = parentObj.keySet();\n            return keyNames.toArray(new String[0]);\n        }\n        else {\n            java.util.Set&lt;String&gt; keyNames = obj.keySet();\n            return keyNames.toArray(new String[0]);\n        }\n    }\n\n    /**\n     * This method retrieves the Key Value for the supplied Key Name contained\n     * within the supplied JSON String.\n     * \n     * @param jsonString (String) The JSON String to work on.&lt;br&gt;\n     * \n     * @param keyName (String) The Key Name to get the related Value for.&lt;br&gt;\n     * \n     * @return (Object) The Value related to the supplied Key Name. You will \n     * need to cast the returned object to the desired data type the key value \n     * is meant to be or use the 'toString()' method.\n     */\n    public Object getJsonKeyValue(String jsonString, String keyName) {\n        org.json.JSONObject obj = new org.json.JSONObject(jsonString);\n        Object keyValue = obj.get(keyName);\n        return keyValue;\n    }\n    // DONE.\n}\n</code></pre>\n"}],"owner":{"account_id":23582187,"reputation":1,"user_id":22372495,"display_name":"ant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692009256,"creation_date":1691718620,"question_id":76880247,"body_markdown":"I am new to coding with APIs and am not very experienced otherwise so I apologize if I get any terminology wrong.\r\n\r\nI was wondering if there is a way to access only the value for a header without having to parse through the whole response as a string? Is there a method where I can pass the header and receive the value associated to it if there is a header with that title already in the java.net package?\r\n\r\nThe goal would be to save the access token in a string variable so that it could be used for other API calls that require it. \r\n\r\nHere&#39;s my code;\r\n\r\n```\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\n\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n    HttpRequest request = HttpRequest.newBuilder()\r\n        .uri(URI.create(&quot;https://accounts.spotify.com/api/token&quot;))\r\n        .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n        .method(&quot;POST&quot;, HttpRequest.BodyPublishers.ofString(&quot;grant_type=client_credentials&amp;client_id=[MY_ID]&amp;client_secret=[MY_SECRET]&quot;))\r\n        .build();\r\n    HttpResponse&lt;String&gt; response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\r\n    System.out.println(response.body());\r\n}\r\n```\r\n\r\nAnd I get this;\r\n\r\n```\r\n{&quot;access_token&quot;:&quot;[ACCESS_TOKEN]&quot;,&quot;token_type&quot;:&quot;Bearer&quot;,&quot;expires_in&quot;:3600}\r\n```\r\n\r\nI just want to save \\[ACCESS_TOKEN\\] into a string variable. Thanks!","title":"Is there a way to access individual header parameters from the body of a response in Java?","body":"<p>I am new to coding with APIs and am not very experienced otherwise so I apologize if I get any terminology wrong.</p>\n<p>I was wondering if there is a way to access only the value for a header without having to parse through the whole response as a string? Is there a method where I can pass the header and receive the value associated to it if there is a header with that title already in the java.net package?</p>\n<p>The goal would be to save the access token in a string variable so that it could be used for other API calls that require it.</p>\n<p>Here's my code;</p>\n<pre><code>import java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\n\npublic class App {\n    public static void main(String[] args) throws Exception {\n    HttpRequest request = HttpRequest.newBuilder()\n        .uri(URI.create(&quot;https://accounts.spotify.com/api/token&quot;))\n        .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n        .method(&quot;POST&quot;, HttpRequest.BodyPublishers.ofString(&quot;grant_type=client_credentials&amp;client_id=[MY_ID]&amp;client_secret=[MY_SECRET]&quot;))\n        .build();\n    HttpResponse&lt;String&gt; response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\n    System.out.println(response.body());\n}\n</code></pre>\n<p>And I get this;</p>\n<pre><code>{&quot;access_token&quot;:&quot;[ACCESS_TOKEN]&quot;,&quot;token_type&quot;:&quot;Bearer&quot;,&quot;expires_in&quot;:3600}\n</code></pre>\n<p>I just want to save [ACCESS_TOKEN] into a string variable. Thanks!</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692008588,"creation_date":1692008588,"answer_id":76898107,"question_id":76898061,"body_markdown":"To mock all calls of `originalMethod` regardless the passed integer, you can use `anyInt()`. To call the `differentMethod` you can extract the passed integer with `invocation.getArgument(..)`. In summary it could look like this:\r\n\r\n```java\r\nwhen(mock.originalMethod(anyInt())).thenAnswer(invocation -&gt; {\r\n    int theInt = invocation.getArgument(0, int.class);\r\n    return mock.differentMethod(theInt);\r\n});\r\n```","title":"Using the parameters of the original method in the overriding method","body":"<p>To mock all calls of <code>originalMethod</code> regardless the passed integer, you can use <code>anyInt()</code>. To call the <code>differentMethod</code> you can extract the passed integer with <code>invocation.getArgument(..)</code>. In summary it could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(mock.originalMethod(anyInt())).thenAnswer(invocation -&gt; {\n    int theInt = invocation.getArgument(0, int.class);\n    return mock.differentMethod(theInt);\n});\n</code></pre>\n"}],"owner":{"account_id":21774282,"reputation":15,"user_id":16076953,"display_name":"user16076953"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76898107,"answer_count":1,"score":0,"last_activity_date":1692009197,"creation_date":1692008131,"question_id":76898061,"body_markdown":"Using Mockito, I want to override the original method with a different method, using one of the parameters of the original method. So it should look something like that:\r\n\r\n    Mockito.when(mock.originalMethod(someInteger)).thenAnswer(differentMethod(someInteger));\r\n\r\nIt should work no matter what integer is passed to the original method. It&#39;s important that the same integer passed to the original method will be used in the newMethod. \r\n\r\nHow can I do that?\r\n","title":"Using the parameters of the original method in the overriding method","body":"<p>Using Mockito, I want to override the original method with a different method, using one of the parameters of the original method. So it should look something like that:</p>\n<pre><code>Mockito.when(mock.originalMethod(someInteger)).thenAnswer(differentMethod(someInteger));\n</code></pre>\n<p>It should work no matter what integer is passed to the original method. It's important that the same integer passed to the original method will be used in the newMethod.</p>\n<p>How can I do that?</p>\n"},{"tags":["java","spring-boot","security","h2"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692009077,"post_id":76897442,"comment_id":135563111,"body_markdown":"Well ... if some hacker could get into your network or machine by some route that could evade your firewall. Or another employee who happens to be a bad actor.  And yes ... there could be hidden pitfalls (e.g. undisclosed vulnerabilities) in H2 or in other software that you have installed that mean that your assumption that nobody can access port 8000 is ill-founded.","body":"Well ... if some hacker could get into your network or machine by some route that could evade your firewall. Or another employee who happens to be a bad actor.  And yes ... there could be hidden pitfalls (e.g. undisclosed vulnerabilities) in H2 or in other software that you have installed that mean that your assumption that nobody can access port 8000 is ill-founded."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1692009297,"post_id":76897442,"comment_id":135563162,"body_markdown":"*&quot;Thanks for any hint.&quot;* - My advice would be to look for ways to patch the CVE rather than looking for ways to put it off.","body":"<i>&quot;Thanks for any hint.&quot;</i> - My advice would be to look for ways to patch the CVE rather than looking for ways to put it off."}],"answers":[{"tags":[],"owner":{"account_id":29026638,"reputation":16,"user_id":22234634,"display_name":"cedar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692008644,"creation_date":1692008644,"answer_id":76898111,"question_id":76897442,"body_markdown":"H2 Console is like any other web other application which can be hosted on a said port.\r\n\r\nAs you mentioned the default port upon which the h2 console is serving the requests (8000) is not exposed by firewall. I do not see any visible issues right now.\r\n\r\nBeing said that CVE can occur from any source of (code, network, dependency) external exposure. it is best to limit the exposure of h2 from your production application in that case.\r\n\r\nHope this helps.\r\n\r\n","title":"Are there ways to inadvertently expose the H2 Console?","body":"<p>H2 Console is like any other web other application which can be hosted on a said port.</p>\n<p>As you mentioned the default port upon which the h2 console is serving the requests (8000) is not exposed by firewall. I do not see any visible issues right now.</p>\n<p>Being said that CVE can occur from any source of (code, network, dependency) external exposure. it is best to limit the exposure of h2 from your production application in that case.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":283091,"reputation":609,"user_id":580406,"accept_rate":50,"display_name":"kaidentity"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692008644,"creation_date":1692002220,"question_id":76897442,"body_markdown":"I have a question about CVE-2022-23221 (https://github.com/advisories/GHSA-45hx-wfhj-473x, \r\nhttps://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-23221).\r\nI have a Spring Boot application which uses the applicable library &quot;h2database&quot;. I cannot update the impacted lib immediately and I am looking for workaround solutions. My questions are:\r\n\r\nAccording to my research, the H2 console can by default be accessed on http port 8000. My firewall config only allows access to 80 and 443. That configuration would mean that the application is only vulnerable through yet another vuln, such as an SSRF vulnerability, for instance. My question is whether there is a possiblity that I accidentally make the console accessible by any other way that I am may not be aware of because there is no obvious connection to the console.\r\n\r\nSomething similar to the situation with JMX: Even if you avoid insecure JMX to your Java application by omitting the corresponding system properties when starting the JVM, your application is still vulnerable if someone starts the JMX-listeners programmatically in the code.\r\n\r\nSo essentially, my question is whether there exist any hidden pitfalls in the H2 DB area which would inadvertently make my app vulnerable even though the H2 console is not accessible from the outside world.\r\n\r\nThanks for any hint.\r\n\r\n\r\n","title":"Are there ways to inadvertently expose the H2 Console?","body":"<p>I have a question about CVE-2022-23221 (<a href=\"https://github.com/advisories/GHSA-45hx-wfhj-473x\" rel=\"nofollow noreferrer\">https://github.com/advisories/GHSA-45hx-wfhj-473x</a>,\n<a href=\"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-23221\" rel=\"nofollow noreferrer\">https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-23221</a>).\nI have a Spring Boot application which uses the applicable library &quot;h2database&quot;. I cannot update the impacted lib immediately and I am looking for workaround solutions. My questions are:</p>\n<p>According to my research, the H2 console can by default be accessed on http port 8000. My firewall config only allows access to 80 and 443. That configuration would mean that the application is only vulnerable through yet another vuln, such as an SSRF vulnerability, for instance. My question is whether there is a possiblity that I accidentally make the console accessible by any other way that I am may not be aware of because there is no obvious connection to the console.</p>\n<p>Something similar to the situation with JMX: Even if you avoid insecure JMX to your Java application by omitting the corresponding system properties when starting the JVM, your application is still vulnerable if someone starts the JMX-listeners programmatically in the code.</p>\n<p>So essentially, my question is whether there exist any hidden pitfalls in the H2 DB area which would inadvertently make my app vulnerable even though the H2 console is not accessible from the outside world.</p>\n<p>Thanks for any hint.</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":0,"creation_date":1600783534,"post_id":64010696,"comment_id":113192833,"body_markdown":"I don&#39;t think this is possible just using simple configuration, although it&#39;s a feature people keep asking for. The usual suggestion is to add a connection callback (https://docs.confluent.io/current/clients/librdkafka/rdkafka_8h.html#a53dd1b77019324170d0168617fdaf040) and then call `setsockopt()` on the connection socket. Although this ought to work in principle, I confess I haven&#39;t tried it.","body":"I don&#39;t think this is possible just using simple configuration, although it&#39;s a feature people keep asking for. The usual suggestion is to add a connection callback (<a href=\"https://docs.confluent.io/current/clients/librdkafka/rdkafka_8h.html#a53dd1b77019324170d0168617fdaf040\" rel=\"nofollow noreferrer\">docs.confluent.io/current/clients/librdkafka/&hellip;</a>) and then call <code>setsockopt()</code> on the connection socket. Although this ought to work in principle, I confess I haven&#39;t tried it."},{"owner":{"account_id":2790946,"reputation":444,"user_id":2401191,"display_name":"Ahmad Alhilal"},"score":0,"creation_date":1601281380,"post_id":64010696,"comment_id":113347422,"body_markdown":"Is there any way I can track the source port of Kafka producer? I need to track the bandwidth of kafka producers and consumers.","body":"Is there any way I can track the source port of Kafka producer? I need to track the bandwidth of kafka producers and consumers."},{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":0,"creation_date":1601281432,"post_id":64010696,"comment_id":113347454,"body_markdown":"Use `netstat` ?","body":"Use <code>netstat</code> ?"},{"owner":{"account_id":2790946,"reputation":444,"user_id":2401191,"display_name":"Ahmad Alhilal"},"score":0,"creation_date":1601282208,"post_id":64010696,"comment_id":113347792,"body_markdown":"I mean, if I have dozens of producers running, can I track which producer is using a specific port, and its bandwidth?\n\nI used iftop, which shows the producers&#39; connections are consuming very heterogenous bandwith, with difference, e.g.,  from 2Mbps to 1Kbps.","body":"I mean, if I have dozens of producers running, can I track which producer is using a specific port, and its bandwidth?  I used iftop, which shows the producers&#39; connections are consuming very heterogenous bandwith, with difference, e.g.,  from 2Mbps to 1Kbps."},{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":0,"creation_date":1601287197,"post_id":64010696,"comment_id":113350092,"body_markdown":"I&#39;m sorry, I don&#39;t know how to handle that situation. At the network level, all the producers are going to look the same.","body":"I&#39;m sorry, I don&#39;t know how to handle that situation. At the network level, all the producers are going to look the same."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600795216,"creation_date":1600795216,"answer_id":64014718,"question_id":64010696,"body_markdown":"Producers don&#39;t open inbound sockets, so there is no binding of a &quot;source port&quot;. \r\n\r\nThe only network information you must provide is `bootstrap.servers`","title":"Can we assign a source port for Kafka Producer?","body":"<p>Producers don't open inbound sockets, so there is no binding of a &quot;source port&quot;.</p>\n<p>The only network information you must provide is <code>bootstrap.servers</code></p>\n"},{"tags":[],"owner":{"account_id":27575180,"reputation":1,"user_id":21045562,"display_name":"Robin dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692007588,"creation_date":1692007099,"answer_id":76897960,"question_id":64010696,"body_markdown":"To achieve this you can use something called a socket_cb() in librdKafka library\r\n(I was using 2.0.2 version).\r\nTo achieve this u need to set\r\n\r\nRdkadka::Conf* globalConf = Rdkafka::Conf::create(Rdkafka::Conf::CONF_GLOBAL)\r\n\r\nglobalConf-&gt;set(&quot;socket_cb&quot;, static_cast&lt;RdKafka::EventCb*&gt;(this), errstr);\r\n\r\nAnd now rewrite the socket_cb() function\r\n1. getaddrinfo() //gives list of address structure\r\n2. socket() to get the the FD\r\n3. bind to the selected FD\r\n\r\nthis should solve the above issue.","title":"Can we assign a source port for Kafka Producer?","body":"<p>To achieve this you can use something called a socket_cb() in librdKafka library\n(I was using 2.0.2 version).\nTo achieve this u need to set</p>\n<p>Rdkadka::Conf* globalConf = Rdkafka::Conf::create(Rdkafka::Conf::CONF_GLOBAL)</p>\n<p>globalConf-&gt;set(&quot;socket_cb&quot;, static_castRdKafka::EventCb*(this), errstr);</p>\n<p>And now rewrite the socket_cb() function</p>\n<ol>\n<li>getaddrinfo() //gives list of address structure</li>\n<li>socket() to get the the FD</li>\n<li>bind to the selected FD</li>\n</ol>\n<p>this should solve the above issue.</p>\n"}],"owner":{"account_id":2790946,"reputation":444,"user_id":2401191,"display_name":"Ahmad Alhilal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692007588,"creation_date":1600780965,"question_id":64010696,"body_markdown":"I noticed that Kafka Producer uses tcp protocol.\r\n\r\nIs there any way to fix the source ports of the multiple Kafka producers in advance?\r\nOr at least, Is there any way I can track the source port of Kafka producer?\r\nI need to track the bandwidth of kafka producers and consumers.\r\nAnd need to set up traffic control (tc) rules according to these ports. \r\n\r\n ","title":"Can we assign a source port for Kafka Producer?","body":"<p>I noticed that Kafka Producer uses tcp protocol.</p>\n<p>Is there any way to fix the source ports of the multiple Kafka producers in advance?\nOr at least, Is there any way I can track the source port of Kafka producer?\nI need to track the bandwidth of kafka producers and consumers.\nAnd need to set up traffic control (tc) rules according to these ports.</p>\n"},{"tags":["java","kubernetes","mac-address"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":6,"creation_date":1691996607,"post_id":76896828,"comment_id":135560796,"body_markdown":"You can&#39;t. MAC addresses only exist in a local network. You cannot query MAC addresses from outside your local network.","body":"You can&#39;t. MAC addresses only exist in a local network. You cannot query MAC addresses from outside your local network."},{"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"score":1,"creation_date":1691996721,"post_id":76896828,"comment_id":135560806,"body_markdown":"Why do you need the MAC address of the requestor? You may want to reconsider your use case. Almost always you won&#39;t be able to see the mac address of the device where the request originated.","body":"Why do you need the MAC address of the requestor? You may want to reconsider your use case. Almost always you won&#39;t be able to see the mac address of the device where the request originated."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1691999569,"post_id":76896828,"comment_id":135561294,"body_markdown":"Do you need the MAC address of the client that sent the request or of the server interface that received it?","body":"Do you need the MAC address of the client that sent the request or of the server interface that received it?"},{"owner":{"account_id":16961433,"reputation":5,"user_id":12268488,"display_name":"yameng chen"},"score":0,"creation_date":1692000234,"post_id":76896828,"comment_id":135561423,"body_markdown":"@cyberbrain  i just need the mac address of request. do you have any idea?","body":"@cyberbrain  i just need the mac address of request. do you have any idea?"},{"owner":{"account_id":16961433,"reputation":5,"user_id":12268488,"display_name":"yameng chen"},"score":0,"creation_date":1692000320,"post_id":76896828,"comment_id":135561437,"body_markdown":"@knittl okkk, thanks for your reply","body":"@knittl okkk, thanks for your reply"},{"owner":{"account_id":16961433,"reputation":5,"user_id":12268488,"display_name":"yameng chen"},"score":0,"creation_date":1692000359,"post_id":76896828,"comment_id":135561442,"body_markdown":"@ashish.g ok, thanks for your time.","body":"@ashish.g ok, thanks for your time."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1692000512,"post_id":76896828,"comment_id":135561467,"body_markdown":"The real question is: _why_ do you need this information? What are you going to do with the MAC address?","body":"The real question is: <i>why</i> do you need this information? What are you going to do with the MAC address?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692002917,"post_id":76896828,"comment_id":135561957,"body_markdown":"Are you aware that (1) MAC addresses are only unique within the subnet? (2) MAC address can usually be changed by the user? so therefore (3) MAC address is not a reliable unique identifier for anything other than the purpose for which it was devised?","body":"Are you aware that (1) MAC addresses are only unique within the subnet? (2) MAC address can usually be changed by the user? so therefore (3) MAC address is not a reliable unique identifier for anything other than the purpose for which it was devised?"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692007354,"creation_date":1692007354,"answer_id":76897985,"question_id":76896828,"body_markdown":"As you want to read the MAC address of &quot;the user&quot; on the login, I suppose you mean the MAC address of the network interface that is used in the client machine to establish the network connection to the server.\r\n\r\nUnfortunately this is not possible, because the networking stack that the internet protocol (IP) uses, keeps this information only for the local network. This doesn&#39;t even mean for the whole LAN, but only for the network segement a machine is directly connected to, so you can find the MAC address only for IP addresses that can be reached without using the configured &quot;gateway&quot;.\r\n\r\nOnly for those IP addresses you could use the mentioned `arp` tool (ARP = address resolution protocol).\r\n\r\nFor all other addresses this information is not kept in the network packages.\r\n\r\nBut on the other hand it&#39;s good for you: The MAC address can easily be faked (this means that you can set any MAC address for any of your network interfaces if you know what to do, sometimes even the device drivers in Windows provide a nice UI for that...), so it is a very bad idea to rely on such information for a login.\r\n\r\nMaybe a better solution would be to rely on a properly set up network infrastructure and limit the range of the allowed incoming IP addresses. While it&#39;s also not hard to fake the senders IP address in a network package, it is not useful for a login procedure because that usually needs an answer, and with a faked sender address, the answer will never reach the original sender.","title":"How to get the Mac address in k8s?","body":"<p>As you want to read the MAC address of &quot;the user&quot; on the login, I suppose you mean the MAC address of the network interface that is used in the client machine to establish the network connection to the server.</p>\n<p>Unfortunately this is not possible, because the networking stack that the internet protocol (IP) uses, keeps this information only for the local network. This doesn't even mean for the whole LAN, but only for the network segement a machine is directly connected to, so you can find the MAC address only for IP addresses that can be reached without using the configured &quot;gateway&quot;.</p>\n<p>Only for those IP addresses you could use the mentioned <code>arp</code> tool (ARP = address resolution protocol).</p>\n<p>For all other addresses this information is not kept in the network packages.</p>\n<p>But on the other hand it's good for you: The MAC address can easily be faked (this means that you can set any MAC address for any of your network interfaces if you know what to do, sometimes even the device drivers in Windows provide a nice UI for that...), so it is a very bad idea to rely on such information for a login.</p>\n<p>Maybe a better solution would be to rely on a properly set up network infrastructure and limit the range of the allowed incoming IP addresses. While it's also not hard to fake the senders IP address in a network package, it is not useful for a login procedure because that usually needs an answer, and with a faked sender address, the answer will never reach the original sender.</p>\n"}],"owner":{"account_id":16961433,"reputation":5,"user_id":12268488,"display_name":"yameng chen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":1,"score":-4,"last_activity_date":1692007354,"creation_date":1691995656,"question_id":76896828,"body_markdown":"I need to restrict the user&#39;s login based on their mac address,and I have deployed the project inside k8s, but there is a problem that I cannot get the mac address of the client. \r\n\r\nI&#39;ve tried these:\r\n1. ```Enumeration&lt;NetworkInterface&gt; networkInterfaces = NetworkInterface.getNetworkInterfaces();``` However, this method can only obtain the mac address of the server, not the mac address of the client.\r\n2. use &#39;arp -a ipaddress&#39;, because the project is deployed in k8s, you also cannot get the client&#39;s mac address\r\n\r\nSo, how can I get the mac address of the client?\r\nthanks a lot.","title":"How to get the Mac address in k8s?","body":"<p>I need to restrict the user's login based on their mac address,and I have deployed the project inside k8s, but there is a problem that I cannot get the mac address of the client.</p>\n<p>I've tried these:</p>\n<ol>\n<li><code>Enumeration&lt;NetworkInterface&gt; networkInterfaces = NetworkInterface.getNetworkInterfaces();</code> However, this method can only obtain the mac address of the server, not the mac address of the client.</li>\n<li>use 'arp -a ipaddress', because the project is deployed in k8s, you also cannot get the client's mac address</li>\n</ol>\n<p>So, how can I get the mac address of the client?\nthanks a lot.</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1452677954,"post_id":34763034,"comment_id":57271239,"body_markdown":"What values do you receive after serialization?","body":"What values do you receive after serialization?"},{"owner":{"account_id":7593326,"reputation":348,"user_id":5760254,"display_name":"botem"},"score":0,"creation_date":1452678054,"post_id":34763034,"comment_id":57271316,"body_markdown":"long, int, short, byte, float, double ... normal values.","body":"long, int, short, byte, float, double ... normal values."},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1452678213,"post_id":34763034,"comment_id":57271430,"body_markdown":"No, question is about which exactly bytes do you receive output?","body":"No, question is about which exactly bytes do you receive output?"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1452678412,"post_id":34763034,"comment_id":57271588,"body_markdown":"How do you serialize it now? And what does that produce instead of the expected output?","body":"How do you serialize it now? And what does that produce instead of the expected output?"},{"owner":{"account_id":7593326,"reputation":348,"user_id":5760254,"display_name":"botem"},"score":0,"creation_date":1452678455,"post_id":34763034,"comment_id":57271620,"body_markdown":"my server receive bytes data. but I don&#39;t have sample. I just want to know how to make the object compact byte array","body":"my server receive bytes data. but I don&#39;t have sample. I just want to know how to make the object compact byte array"},{"owner":{"account_id":7593326,"reputation":348,"user_id":5760254,"display_name":"botem"},"score":0,"creation_date":1452678559,"post_id":34763034,"comment_id":57271711,"body_markdown":"I check each byte and split bytes are enough","body":"I check each byte and split bytes are enough"}],"answers":[{"tags":[],"owner":{"account_id":1293274,"reputation":2686,"user_id":1244949,"display_name":"WalterM"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1452678556,"creation_date":1452678556,"answer_id":34763308,"question_id":34763034,"body_markdown":"If you want a byte array you can do this. However if you are using something like DataOutputStream it&#39;s best to just call writeInt, writeShort, ...\r\n\r\n    A a = new A();\r\n    a.a = 3;\r\n    a.b = 0x02;\r\n    a.c = 15;\r\n\r\n    ByteBuffer bb = ByteBuffer.allocate(7).order(ByteOrder.BIG_ENDIAN);\r\n    bb.putShort(a.a).put(a.b).putInt(a.c).flip();\r\n    byte[] buffer = bb.array();\r\n    for (byte b : buffer)\r\n        System.out.printf(&quot;%02X &quot;, b);","title":"How to Serialize object to byte array with compact bytes in java","body":"<p>If you want a byte array you can do this. However if you are using something like DataOutputStream it's best to just call writeInt, writeShort, ...</p>\n\n<pre><code>A a = new A();\na.a = 3;\na.b = 0x02;\na.c = 15;\n\nByteBuffer bb = ByteBuffer.allocate(7).order(ByteOrder.BIG_ENDIAN);\nbb.putShort(a.a).put(a.b).putInt(a.c).flip();\nbyte[] buffer = bb.array();\nfor (byte b : buffer)\n    System.out.printf(\"%02X \", b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1683634,"reputation":7046,"user_id":1547337,"display_name":"dejvuth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452686947,"creation_date":1452686947,"answer_id":34766342,"question_id":34763034,"body_markdown":"You can use reflection to get all [`fields`](https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Field.html) in the class, and loop them to convert to an array of bytes.\r\n\r\nIf all your fields are [`Number`](https://docs.oracle.com/javase/8/docs/api/java/lang/Number.html) (i.e. not references nor `boolean`), you can convert and collect them to a `List` of `Byte` as follows:\r\n\r\n    List&lt;Byte&gt; list = new ArrayList&lt;&gt;();\r\n    for (Field field : A.class.getDeclaredFields()) {\r\n        // Do something else if field is not a Number\r\n        // ...\r\n\r\n        // Otherwise, convert and collect into list\r\n\t\tNumber n = (Number) field.get(a);\r\n\t\tint size = n.getClass().getDeclaredField(&quot;BYTES&quot;).getInt(null);\r\n\t\tIntStream.range(0, size)\r\n\t\t\t.mapToObj(i -&gt; (byte) (n.longValue() &gt;&gt; 8*(size-i-1)))\r\n\t\t\t.forEach(b -&gt; list.add(b));\r\n    }","title":"How to Serialize object to byte array with compact bytes in java","body":"<p>You can use reflection to get all <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Field.html\" rel=\"nofollow\"><code>fields</code></a> in the class, and loop them to convert to an array of bytes.</p>\n\n<p>If all your fields are <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Number.html\" rel=\"nofollow\"><code>Number</code></a> (i.e. not references nor <code>boolean</code>), you can convert and collect them to a <code>List</code> of <code>Byte</code> as follows:</p>\n\n<pre><code>List&lt;Byte&gt; list = new ArrayList&lt;&gt;();\nfor (Field field : A.class.getDeclaredFields()) {\n    // Do something else if field is not a Number\n    // ...\n\n    // Otherwise, convert and collect into list\n    Number n = (Number) field.get(a);\n    int size = n.getClass().getDeclaredField(\"BYTES\").getInt(null);\n    IntStream.range(0, size)\n        .mapToObj(i -&gt; (byte) (n.longValue() &gt;&gt; 8*(size-i-1)))\n        .forEach(b -&gt; list.add(b));\n}\n</code></pre>\n"}],"owner":{"account_id":7593326,"reputation":348,"user_id":5760254,"display_name":"botem"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":775,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34763308,"answer_count":2,"score":0,"last_activity_date":1692007122,"creation_date":1452677848,"question_id":34763034,"body_markdown":"For example, I have a class that has short, byte, int type member variable.\r\n    \r\n    class A{\r\n        short a;\r\n        byte b;\r\n        int c;\r\n    }\r\n\r\nIf I serialize or convert to byte array, the Array is unexpected value.\r\n\r\nif values like,\r\n\r\n    A a = new A();\r\n    a.a = 3;\r\n    a.b = 0x02;\r\n    a.c = 15;\r\n\r\nthen, I expect its bytes as,\r\n \r\n    00 03 02 00 00 00 0F\r\n\r\nSo... How to Serialize Object like that?\r\n\r\nIt needs my socket server... other language ","title":"How to Serialize object to byte array with compact bytes in java","body":"<p>For example, I have a class that has short, byte, int type member variable.</p>\n\n<pre><code>class A{\n    short a;\n    byte b;\n    int c;\n}\n</code></pre>\n\n<p>If I serialize or convert to byte array, the Array is unexpected value.</p>\n\n<p>if values like,</p>\n\n<pre><code>A a = new A();\na.a = 3;\na.b = 0x02;\na.c = 15;\n</code></pre>\n\n<p>then, I expect its bytes as,</p>\n\n<pre><code>00 03 02 00 00 00 0F\n</code></pre>\n\n<p>So... How to Serialize Object like that?</p>\n\n<p>It needs my socket server... other language </p>\n"},{"tags":["java","arraylist","java-stream","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692007118,"creation_date":1692007118,"answer_id":76897963,"question_id":76897615,"body_markdown":"Unlike some NoSQL databases, relational databases are usually not reactive. You can call `Flux.fromIterable`, but that still gives you a list as intermediate. You could try letting the method return `Stream&lt;EmployeeDO&gt;` instead of `List&lt;EmployeeDO&gt;` and call `Flux.fromStream`, but depending on the database implementation this may not give any performance improvements (it may collect to a list internally).\r\n\r\nThere are some wrappers that let you return `Mono&lt;EmployeeDO&gt;` and `Flux&lt;EmployeeDO&gt;` directly from the repository, but as long as the database itself is not reactive this will still not be fully reactive.\r\n\r\n\r\nAs for the multiple stream operations, you should consider a custom collector that collects all information in one go. `IntSummaryStatistics` is an example where the JDK itself has built-in support, but it&#39;s not that hard to create a class + collector like that yourself.","title":"Java-17 Spring Webflux - Java Streaming elements inside arraylist","body":"<p>Unlike some NoSQL databases, relational databases are usually not reactive. You can call <code>Flux.fromIterable</code>, but that still gives you a list as intermediate. You could try letting the method return <code>Stream&lt;EmployeeDO&gt;</code> instead of <code>List&lt;EmployeeDO&gt;</code> and call <code>Flux.fromStream</code>, but depending on the database implementation this may not give any performance improvements (it may collect to a list internally).</p>\n<p>There are some wrappers that let you return <code>Mono&lt;EmployeeDO&gt;</code> and <code>Flux&lt;EmployeeDO&gt;</code> directly from the repository, but as long as the database itself is not reactive this will still not be fully reactive.</p>\n<p>As for the multiple stream operations, you should consider a custom collector that collects all information in one go. <code>IntSummaryStatistics</code> is an example where the JDK itself has built-in support, but it's not that hard to create a class + collector like that yourself.</p>\n"}],"owner":{"account_id":1703086,"reputation":9,"user_id":1562707,"display_name":"Senthilkumar P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692007118,"creation_date":1692003828,"question_id":76897615,"body_markdown":"Currently am working on Java-17 Spring Webflux and Spring Data JPA\r\n    \r\nbasically am retrieving data from DB through repository class and doing summing, averaging calculations inn serviceImpl class. So, the flow goes like below,\r\n    \r\n**Entity Class**\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;Employee&quot;)\r\n    public class EmployeeDO implements Serializable {\r\n    \r\n        @Serial\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @Column(name = &quot;EMPLOYEE_ID&quot;)\r\n        private int employeeId;\r\n    \r\n        @Column(name = &quot;DATE&quot;)\r\n        private LocalDate date;\r\n    \r\n        @Column(name = &quot;DEPT_ID&quot;)\r\n        private int deptId;\r\n    \r\n        @Column(name = &quot;NUMBER_OF_DAYS&quot;)\r\n        private String numberOfDays;\r\n    \r\n        @Column(name = &quot;TOTAL_HOURS&quot;)\r\n        private String totalHours;\r\n    \r\n        @Column(name = &quot;TOTAL_MANPOWER&quot;)\r\n        private String totalManpower;\r\n    \r\n        @Column(name = &quot;TOTAL_WAGES&quot;)\r\n        private String totalWages;\r\n    \r\n        @Column(name = &quot;NUMBER_OF_ITEMS&quot;)\r\n        private String numberOfItems;\r\n\r\n** Repository Class ** \r\n    \r\n    @Query(&quot;FROM EmployeeDO e WHERE e.deptId =:deptId and e.date =:date ORDER BY e.date ASC&quot;)\r\n    List&lt;EmployeeDO&gt; getEmployeeRec(@Param(&quot;deptId&quot;) int deptId,\r\n    @Param(&quot;date&quot;) int date);\r\n\r\n** Service Impl class **\r\n\r\n    var empList = employeeDao.getEmployeeRec(100, &#39;2023-08-14&#39;);\r\n    var avgNumberOdDays = empList.stream().mapToDouble(empList::getNumberOfDays)\r\n    .sum();\r\n    var avgTotalHours = empList.stream().mapToDouble(empList::getTotalHours)\r\n    .average();\r\n    var avgTotalManpower = empList.stream().mapToDouble(empList::getTotalManpower)\r\n    .sum();\r\n    var avgTotakwages = empList.stream().mapToDouble(empList::getTotalWages)\r\n    .average();\r\n    \t\t\t \r\n   \r\nNeed to avoid Streaming to each element and Streaming should be more efficient way. Any best approach&#39;s from Java or Webflux to Stream whole ArrayList one time and doing the calculation. Thanks.\r\n\r\n","title":"Java-17 Spring Webflux - Java Streaming elements inside arraylist","body":"<p>Currently am working on Java-17 Spring Webflux and Spring Data JPA</p>\n<p>basically am retrieving data from DB through repository class and doing summing, averaging calculations inn serviceImpl class. So, the flow goes like below,</p>\n<p><strong>Entity Class</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@Builder\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;Employee&quot;)\npublic class EmployeeDO implements Serializable {\n\n    @Serial\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = &quot;EMPLOYEE_ID&quot;)\n    private int employeeId;\n\n    @Column(name = &quot;DATE&quot;)\n    private LocalDate date;\n\n    @Column(name = &quot;DEPT_ID&quot;)\n    private int deptId;\n\n    @Column(name = &quot;NUMBER_OF_DAYS&quot;)\n    private String numberOfDays;\n\n    @Column(name = &quot;TOTAL_HOURS&quot;)\n    private String totalHours;\n\n    @Column(name = &quot;TOTAL_MANPOWER&quot;)\n    private String totalManpower;\n\n    @Column(name = &quot;TOTAL_WAGES&quot;)\n    private String totalWages;\n\n    @Column(name = &quot;NUMBER_OF_ITEMS&quot;)\n    private String numberOfItems;\n</code></pre>\n<p>** Repository Class **</p>\n<pre><code>@Query(&quot;FROM EmployeeDO e WHERE e.deptId =:deptId and e.date =:date ORDER BY e.date ASC&quot;)\nList&lt;EmployeeDO&gt; getEmployeeRec(@Param(&quot;deptId&quot;) int deptId,\n@Param(&quot;date&quot;) int date);\n</code></pre>\n<p>** Service Impl class **</p>\n<pre><code>var empList = employeeDao.getEmployeeRec(100, '2023-08-14');\nvar avgNumberOdDays = empList.stream().mapToDouble(empList::getNumberOfDays)\n.sum();\nvar avgTotalHours = empList.stream().mapToDouble(empList::getTotalHours)\n.average();\nvar avgTotalManpower = empList.stream().mapToDouble(empList::getTotalManpower)\n.sum();\nvar avgTotakwages = empList.stream().mapToDouble(empList::getTotalWages)\n.average();\n             \n</code></pre>\n<p>Need to avoid Streaming to each element and Streaming should be more efficient way. Any best approach's from Java or Webflux to Stream whole ArrayList one time and doing the calculation. Thanks.</p>\n"},{"tags":["java","web-services","cxf"],"owner":{"account_id":24745023,"reputation":81,"user_id":18631324,"display_name":"SereneAtk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1692006810,"creation_date":1692006810,"question_id":76897929,"body_markdown":"I have simple cxf client and trying to write simple unit test. For now I am not intereseted in integration test thats why I mock my service.\r\n\r\nIn service implementation I need to get its current url:\r\n\r\n    (String) ((BindingProvider) myService).getRequestContext().get(BindingProvider.ENDPOINT_ADDRESS_PROPERTY)\r\n\r\n\r\nAnd this line causes classcast: : \r\n\r\n&gt;  java.lang.ClassCastException: class\r\n&gt; xxx.MyService$MockitoMock$9v45s0v6 cannot be cast to class\r\n&gt; javax.xml.ws.BindingProvider (xxx.MyService$MockitoMock$9v45s0v6)\r\n\r\n \r\n\r\nBecause in unit test I am using:\r\n   \r\n    @Mock\r\n        private MyService myService ;\r\n \r\n And MyService class is CXF generated client. How to create a simplest mock of it that would also be a BindingProvicer instance? In runtime everything works fine, when application is deployed, myService is always BindingProvider instance - the CXF library creates it but I don&#39;t know how.","title":"Cxf client JUnit: java.lang.ClassCastException: class MyService$MockitoMock$9v45s0v6 cannot be cast to class javax.xml.ws.BindingProvider","body":"<p>I have simple cxf client and trying to write simple unit test. For now I am not intereseted in integration test thats why I mock my service.</p>\n<p>In service implementation I need to get its current url:</p>\n<pre><code>(String) ((BindingProvider) myService).getRequestContext().get(BindingProvider.ENDPOINT_ADDRESS_PROPERTY)\n</code></pre>\n<p>And this line causes classcast: :</p>\n<blockquote>\n<p>java.lang.ClassCastException: class\nxxx.MyService$MockitoMock$9v45s0v6 cannot be cast to class\njavax.xml.ws.BindingProvider (xxx.MyService$MockitoMock$9v45s0v6)</p>\n</blockquote>\n<p>Because in unit test I am using:</p>\n<pre><code>@Mock\n    private MyService myService ;\n</code></pre>\n<p>And MyService class is CXF generated client. How to create a simplest mock of it that would also be a BindingProvicer instance? In runtime everything works fine, when application is deployed, myService is always BindingProvider instance - the CXF library creates it but I don't know how.</p>\n"},{"tags":["java","spring-boot","graphql","spring-graphql"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690876079,"post_id":76809497,"comment_id":135410434,"body_markdown":"Don&#39;t you need to annotate that controller method with something like `@PostMapping(&quot;graphql&quot;)`?","body":"Don&#39;t you need to annotate that controller method with something like <code>@PostMapping(&quot;graphql&quot;)</code>?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690876175,"post_id":76809497,"comment_id":135410444,"body_markdown":"And are you sure that Postman is set to use HTTP POST?","body":"And are you sure that Postman is set to use HTTP POST?"},{"owner":{"account_id":13383913,"reputation":19,"user_id":9658381,"display_name":"Abhishek"},"score":0,"creation_date":1690888292,"post_id":76809497,"comment_id":135412945,"body_markdown":"Jorn, Yes I am using POST request and I don&#39;t think i need @postmapping. since it should be autoconfigured from spring-boot-starter-graphql dependency","body":"Jorn, Yes I am using POST request and I don&#39;t think i need @postmapping. since it should be autoconfigured from spring-boot-starter-graphql dependency"}],"answers":[{"tags":[],"owner":{"account_id":18641618,"reputation":1,"user_id":13587235,"display_name":"Rohan Pandya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691207615,"creation_date":1690876628,"answer_id":76809569,"question_id":76809497,"body_markdown":"By default, GraphQL queries should be sent as a POST request, not a GET request. When you try to access the `/graphql` endpoint using a GET request, it&#39;s likely to return a 405 error since the endpoint is configured to handle only POST requests.\r\n\r\nIn Postman, set HTTP method to POST. In the request body, provide your GraphQL query in JSON format for example:\r\n\r\n\r\n    {\r\n      &quot;query&quot;: &quot;{ phoneNumber(phoneNumber: \\&quot;yourPhoneNumber\\&quot;) { /* fields you want to retrieve */ } }&quot;\r\n    }\r\n\r\n","title":"GraphQL error : Method not allowed error for GraphQL requests with Spring 3.1.1","body":"<p>By default, GraphQL queries should be sent as a POST request, not a GET request. When you try to access the <code>/graphql</code> endpoint using a GET request, it's likely to return a 405 error since the endpoint is configured to handle only POST requests.</p>\n<p>In Postman, set HTTP method to POST. In the request body, provide your GraphQL query in JSON format for example:</p>\n<pre><code>{\n  &quot;query&quot;: &quot;{ phoneNumber(phoneNumber: \\&quot;yourPhoneNumber\\&quot;) { /* fields you want to retrieve */ } }&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13383913,"reputation":19,"user_id":9658381,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692006657,"creation_date":1692006657,"answer_id":76897908,"question_id":76809497,"body_markdown":"After going through all documentation and other resources. I was able to find the bug in latest spring upgrade for graphql.\r\n1. graphql schemas needs to be in src/main/resources/graphql/\r\n2. If there is an any API existing with GET method where it take single variable as path variable then default graphql request will be sent to that api and api throw 405 as response. This is some kind of bug we found after upgrading to spring-boot 3x.\r\nOnly way to solve this issue is provide unique URI for graphql and providing that path in application.yml. in my case default /graphql endpoint changed to /query/graphql after updatin yml file as spring.graphql.path : /query/graphql","title":"GraphQL error : Method not allowed error for GraphQL requests with Spring 3.1.1","body":"<p>After going through all documentation and other resources. I was able to find the bug in latest spring upgrade for graphql.</p>\n<ol>\n<li>graphql schemas needs to be in src/main/resources/graphql/</li>\n<li>If there is an any API existing with GET method where it take single variable as path variable then default graphql request will be sent to that api and api throw 405 as response. This is some kind of bug we found after upgrading to spring-boot 3x.\nOnly way to solve this issue is provide unique URI for graphql and providing that path in application.yml. in my case default /graphql endpoint changed to /query/graphql after updatin yml file as spring.graphql.path : /query/graphql</li>\n</ol>\n"}],"owner":{"account_id":13383913,"reputation":19,"user_id":9658381,"display_name":"Abhishek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76897908,"answer_count":2,"score":0,"last_activity_date":1692006657,"creation_date":1690876007,"question_id":76809497,"body_markdown":"I have upgraded spring boot to 3.1.1 and I am getting 405 method not allowed for graphql call. I tried all the known options.\r\npom.xml\r\n```&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nclass\r\n```\r\n@Controller\r\n\r\npublic class DemoGraphQLResolver {\r\n\r\n\r\n\r\n  @QueryMapping(name = &quot;phoneNumber&quot;)\r\n  public List&lt;Party&gt; phoneNumber(@Argument String phoneNumber) {\r\n    return phoneNumber;\r\n  }\r\n}\r\n```\r\n\r\nI have .graphqls file under src/main/resources/graphql.\r\n\r\n [INFO] [, ] [main] org.springframework.graphql.execution.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.\r\n [INFO] [, ] [main] org.springframework.boot.autoconfigure.graphql.servlet.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql\r\n\r\nabove logs shows it loaded schema file and exposed endpoint but while requesting through postman i am getting 405 method not allowed\r\n\r\npostman\r\n```\r\nPOST http://localhost:8802/graphql\r\n```\r\n\r\nI am fairly new to graphql and any help on this is appreciated. Thanks","title":"GraphQL error : Method not allowed error for GraphQL requests with Spring 3.1.1","body":"<p>I have upgraded spring boot to 3.1.1 and I am getting 405 method not allowed for graphql call. I tried all the known options.\npom.xml</p>\n<pre><code>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>class</p>\n<pre><code>@Controller\n\npublic class DemoGraphQLResolver {\n\n\n\n  @QueryMapping(name = &quot;phoneNumber&quot;)\n  public List&lt;Party&gt; phoneNumber(@Argument String phoneNumber) {\n    return phoneNumber;\n  }\n}\n</code></pre>\n<p>I have .graphqls file under src/main/resources/graphql.</p>\n<p>[INFO] [, ] [main] org.springframework.graphql.execution.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.\n[INFO] [, ] [main] org.springframework.boot.autoconfigure.graphql.servlet.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql</p>\n<p>above logs shows it loaded schema file and exposed endpoint but while requesting through postman i am getting 405 method not allowed</p>\n<p>postman</p>\n<pre><code>POST http://localhost:8802/graphql\n</code></pre>\n<p>I am fairly new to graphql and any help on this is appreciated. Thanks</p>\n"},{"tags":["java","azure"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1692006414,"post_id":76897822,"comment_id":135562600,"body_markdown":"Move the `BufferedWriter` into the resource section of the try-with-resources (just like the `FileWriter` already is), and remove the `escribe.flush()` and `escribo.close()` statements. That likely won&#39;t fix the problem, but it will result in better code. In any case, with the information given, we can&#39;t help you. Likely you missed some kind of exception somewhere.","body":"Move the <code>BufferedWriter</code> into the resource section of the try-with-resources (just like the <code>FileWriter</code> already is), and remove the <code>escribe.flush()</code> and <code>escribo.close()</code> statements. That likely won&#39;t fix the problem, but it will result in better code. In any case, with the information given, we can&#39;t help you. Likely you missed some kind of exception somewhere."}],"owner":{"account_id":29221581,"reputation":1,"user_id":22387218,"display_name":"Eduardo Sanchez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692006348,"creation_date":1692005899,"question_id":76897822,"body_markdown":"I have a JAR file that generates an XML file. When I run it in my machine, it works fine, but when I upload the JAR file to the AVD (fslogic) and try to create the file, it is generated empty (0kb)\r\n\r\n```hava\r\ntry (FileWriter archEscritura = new FileWriter(arch)) {\r\n    BufferedWriter escribo = new BufferedWriter(archEscritura);\r\n\r\n    escribo.write(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\r\\n&quot;);\r\n    escribo.write(&quot;&lt;envio comunicacion=\\&quot;2010/052\\&quot; institucion=\\&quot;&quot;+bic.trim()+ &quot;\\&quot;&gt;\\r\\n&quot;);\r\n    escribo.flush()\r\n    escribo.close()\r\n}\r\n```","title":"Write file in Azure Virtual Desktop","body":"<p>I have a JAR file that generates an XML file. When I run it in my machine, it works fine, but when I upload the JAR file to the AVD (fslogic) and try to create the file, it is generated empty (0kb)</p>\n<pre><code>try (FileWriter archEscritura = new FileWriter(arch)) {\n    BufferedWriter escribo = new BufferedWriter(archEscritura);\n\n    escribo.write(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\r\\n&quot;);\n    escribo.write(&quot;&lt;envio comunicacion=\\&quot;2010/052\\&quot; institucion=\\&quot;&quot;+bic.trim()+ &quot;\\&quot;&gt;\\r\\n&quot;);\n    escribo.flush()\n    escribo.close()\n}\n</code></pre>\n"},{"tags":["java","arrays","loops","for-loop"],"comments":[{"owner":{"account_id":2611382,"reputation":6389,"user_id":2261424,"accept_rate":100,"display_name":"AntonH"},"score":4,"creation_date":1487083282,"post_id":42228948,"comment_id":71617336,"body_markdown":"You may have a problem, but you haven&#39;t asked a question.","body":"You may have a problem, but you haven&#39;t asked a question."},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":11,"creation_date":1487083324,"post_id":42228948,"comment_id":71617360,"body_markdown":"Lookup the `break` keyword","body":"Lookup the <code>break</code> keyword"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":2,"creation_date":1487083395,"post_id":42228948,"comment_id":71617420,"body_markdown":"Welcome to Stack Overflow! Please take the [tour](http://stackoverflow.com/tour), have a look around, and read through the [help center](http://stackoverflow.com/help), in particular [How do I ask a good question?](http://stackoverflow.com/help/how-to-ask) and [What topics can I ask about here?](http://stackoverflow.com/help/on-topic).","body":"Welcome to Stack Overflow! Please take the <a href=\"http://stackoverflow.com/tour\">tour</a>, have a look around, and read through the <a href=\"http://stackoverflow.com/help\">help center</a>, in particular <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1487083424,"post_id":42228948,"comment_id":71617435,"body_markdown":"What happens when the array is &quot;full&quot;?","body":"What happens when the array is &quot;full&quot;?"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1487083489,"post_id":42228948,"comment_id":71617477,"body_markdown":"If the method that contains your loop does not have any code after the loop a `return` is preffered over the `break` statement.","body":"If the method that contains your loop does not have any code after the loop a <code>return</code> is preffered over the <code>break</code> statement."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1487083538,"post_id":42228948,"comment_id":71617512,"body_markdown":"@TimothyTruckle Preferred by who? Why?","body":"@TimothyTruckle Preferred by who? Why?"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1487083597,"post_id":42228948,"comment_id":71617555,"body_markdown":"@TimothyTruckle agree with [Micheal](https://stackoverflow.com/questions/42228948/java-iterating-through-a-array-until-it-hits-an-null-value#comment71617512_42228948) - a well placed `break` can make certain algorithms make much more sense. I would say generally you&#39;re right, but as with most things there are no absolute rules. Apart from never use `GOTO` - but that&#39;s (thankfully) not relevant for Java.","body":"@TimothyTruckle agree with <a href=\"https://stackoverflow.com/questions/42228948/java-iterating-through-a-array-until-it-hits-an-null-value#comment71617512_42228948\">Micheal</a> - a well placed <code>break</code> can make certain algorithms make much more sense. I would say generally you&#39;re right, but as with most things there are no absolute rules. Apart from never use <code>GOTO</code> - but that&#39;s (thankfully) not relevant for Java."},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1487083775,"post_id":42228948,"comment_id":71617677,"body_markdown":"*&quot;Preferred by who?&quot;* by any skilled programmer. *&quot;Why?&quot;* because `break` (outside of `switch ... case`) is merily a `goto` and is a sign of a flawed design.","body":"<i>&quot;Preferred by who?&quot;</i> by any skilled programmer. <i>&quot;Why?&quot;</i> because <code>break</code> (outside of <code>switch ... case</code>) is merily a <code>goto</code> and is a sign of a flawed design."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1487083901,"post_id":42228948,"comment_id":71617767,"body_markdown":"@TimothyTruckle [citation needed]","body":"@TimothyTruckle [citation needed]"},{"owner":{"account_id":10248433,"reputation":171,"user_id":7563498,"accept_rate":0,"display_name":"Yusof Bandar"},"score":0,"creation_date":1487084086,"post_id":42228948,"comment_id":71617901,"body_markdown":"I was just wondering is it better to use a break or a Boolean flag","body":"I was just wondering is it better to use a break or a Boolean flag"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1487084143,"post_id":42228948,"comment_id":71617948,"body_markdown":"@TimothyTruckle there is a lot of information and discussion [here](http://stackoverflow.com/questions/4805258/is-it-bad-style-to-use-return-to-break-a-for-loop-in-java). There is no absolute answer.","body":"@TimothyTruckle there is a lot of information and discussion <a href=\"http://stackoverflow.com/questions/4805258/is-it-bad-style-to-use-return-to-break-a-for-loop-in-java\">here</a>. There is no absolute answer."},{"owner":{"account_id":10248433,"reputation":171,"user_id":7563498,"accept_rate":0,"display_name":"Yusof Bandar"},"score":0,"creation_date":1487084200,"post_id":42228948,"comment_id":71617994,"body_markdown":"@AntonH the question is implied. No need to explicitly say the question.","body":"@AntonH the question is implied. No need to explicitly say the question."},{"owner":{"account_id":10248433,"reputation":171,"user_id":7563498,"accept_rate":0,"display_name":"Yusof Bandar"},"score":0,"creation_date":1487084228,"post_id":42228948,"comment_id":71618021,"body_markdown":"@Boris the Spider when the array is full no more objects can be added","body":"@Boris the Spider when the array is full no more objects can be added"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487083825,"creation_date":1487083610,"answer_id":42229096,"question_id":42228948,"body_markdown":"There are two ways to approach this: You can use `break` to exit your loop, or you can use a Boolean flag\r\n\r\nExample 1 (break)\r\n\r\n    for(int i=0;i&lt;testArray.length;i++)\r\n    {\r\n      if(testArray[i] == null)\r\n      {\r\n       testArray[i] = new object();\r\n       break;\r\n      }\r\n     }\r\n\r\nExample 2: Boolean flag\r\n    \r\n    boolean found = false;\r\n    for(int i=0;i&lt;testArray.length &amp;&amp; !found;i++)\r\n    {\r\n      if(testArray[i] == null)\r\n      {\r\n       testArray[i] = new object();\r\n       found = true;\r\n      }\r\n     }","title":"(Java) Iterating through a Array until it hits an null value","body":"<p>There are two ways to approach this: You can use <code>break</code> to exit your loop, or you can use a Boolean flag</p>\n\n<p>Example 1 (break)</p>\n\n<pre><code>for(int i=0;i&lt;testArray.length;i++)\n{\n  if(testArray[i] == null)\n  {\n   testArray[i] = new object();\n   break;\n  }\n }\n</code></pre>\n\n<p>Example 2: Boolean flag</p>\n\n<pre><code>boolean found = false;\nfor(int i=0;i&lt;testArray.length &amp;&amp; !found;i++)\n{\n  if(testArray[i] == null)\n  {\n   testArray[i] = new object();\n   found = true;\n  }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8235378,"reputation":755,"user_id":6194785,"accept_rate":86,"display_name":"jseashell"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1487083745,"creation_date":1487083745,"answer_id":42229139,"question_id":42228948,"body_markdown":"If your `testArray[]` is an array of `Object`, then you need to use `.equals()` to check for `null`, instead of `==`. Then, you can add `break;` to get out of the `for-loop`.\r\n\r\n    for(int i=0;i&lt;testArray.length;i++)\r\n    {\r\n        if(testArray[i].equals(null))\r\n        {\r\n            testArray[i] = new Object();\r\n            break;\r\n        }\r\n    }\r\n\r\nAlternatively, you could use an flag to indicate that it is time to get out of the loop\r\n\r\n    private boolean keepLooping = true;\r\n    private int i = 0;\r\n\r\n    while(keepLooping)\r\n    {\r\n        if(testArray[i].equals(null))\r\n        {\r\n            testArray[i] = new object();\r\n            keepLooping = false;\r\n        }\r\n\r\n        i++;\r\n    }\r\n    ","title":"(Java) Iterating through a Array until it hits an null value","body":"<p>If your <code>testArray[]</code> is an array of <code>Object</code>, then you need to use <code>.equals()</code> to check for <code>null</code>, instead of <code>==</code>. Then, you can add <code>break;</code> to get out of the <code>for-loop</code>.</p>\n\n<pre><code>for(int i=0;i&lt;testArray.length;i++)\n{\n    if(testArray[i].equals(null))\n    {\n        testArray[i] = new Object();\n        break;\n    }\n}\n</code></pre>\n\n<p>Alternatively, you could use an flag to indicate that it is time to get out of the loop</p>\n\n<pre><code>private boolean keepLooping = true;\nprivate int i = 0;\n\nwhile(keepLooping)\n{\n    if(testArray[i].equals(null))\n    {\n        testArray[i] = new object();\n        keepLooping = false;\n    }\n\n    i++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8219023,"reputation":79,"user_id":6184271,"display_name":"Vasilut Lucian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487083893,"creation_date":1487083746,"answer_id":42229140,"question_id":42228948,"body_markdown":"You can make something like this:\r\n    \r\n    int i = 0;\r\n    for(int i = 0; i&lt;testArray.length &amp;&amp; testArray[i] != null; i++);\r\n    \r\n    if(i &lt; testArray.length)\r\n    {\r\n    //now i will represent a position with a null element\r\n    testArray[i] = new object();\r\n    }","title":"(Java) Iterating through a Array until it hits an null value","body":"<p>You can make something like this:</p>\n\n<pre><code>int i = 0;\nfor(int i = 0; i&lt;testArray.length &amp;&amp; testArray[i] != null; i++);\n\nif(i &lt; testArray.length)\n{\n//now i will represent a position with a null element\ntestArray[i] = new object();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487083911,"creation_date":1487083753,"answer_id":42229144,"question_id":42228948,"body_markdown":"[break][1] the loop as soon as you find the element....\r\n\r\nthat is what you are missing:\r\n\r\n    for(int i = 0; i&lt;testArray.length; i++) {\r\n       if(testArray[i] == null) {\r\n          testArray[i] = new object();\r\n          break;\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html","title":"(Java) Iterating through a Array until it hits an null value","body":"<p><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"nofollow noreferrer\">break</a> the loop as soon as you find the element....</p>\n\n<p>that is what you are missing:</p>\n\n<pre><code>for(int i = 0; i&lt;testArray.length; i++) {\n   if(testArray[i] == null) {\n      testArray[i] = new object();\n      break;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6557305"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487083949,"creation_date":1487083949,"answer_id":42229219,"question_id":42228948,"body_markdown":"Maybe [KeyListener](https://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html) could help? You would just need to listen for the key you are trying to listen     for and check if it&#39;s null with \r\n\r\n    for(int i = 0; i &lt; record.length; i++)\r\n            if(record[i] == null) {\r\n                System.out.println(i+1 + &quot; position is null&quot;);\r\n            }\r\nFeel free to customize this.\r\nAlso ControlAltDel&#39;s break solution works great.","title":"(Java) Iterating through a Array until it hits an null value","body":"<p>Maybe <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html\" rel=\"nofollow noreferrer\">KeyListener</a> could help? You would just need to listen for the key you are trying to listen     for and check if it's null with </p>\n\n<pre><code>for(int i = 0; i &lt; record.length; i++)\n        if(record[i] == null) {\n            System.out.println(i+1 + \" position is null\");\n        }\n</code></pre>\n\n<p>Feel free to customize this.\nAlso ControlAltDel's break solution works great.</p>\n"},{"tags":[],"owner":{"account_id":14112653,"reputation":33,"user_id":10195099,"display_name":"Shaheaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692005875,"creation_date":1691731885,"answer_id":76880902,"question_id":42228948,"body_markdown":"```java\r\n Object [] allitems = {&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,null,null,null};\r\n\r\n int index= Arrays.asList(allitems).indexOf(null);\r\n System.out.println(&quot;INFO:: The index is:: &quot;+index);\r\n allitems[index]= new Object();\r\n```","title":"(Java) Iterating through a Array until it hits an null value","body":"<pre class=\"lang-java prettyprint-override\"><code> Object [] allitems = {&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,null,null,null};\n\n int index= Arrays.asList(allitems).indexOf(null);\n System.out.println(&quot;INFO:: The index is:: &quot;+index);\n allitems[index]= new Object();\n</code></pre>\n"}],"owner":{"account_id":10248433,"reputation":171,"user_id":7563498,"accept_rate":0,"display_name":"Yusof Bandar"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8157,"favorite_count":0,"down_vote_count":4,"up_vote_count":4,"answer_count":6,"score":0,"last_activity_date":1692005875,"creation_date":1487083240,"question_id":42228948,"body_markdown":"My problem is that I want a `for loop` to iterate through an array until it hits a `null` value, add an object to the array and then stop iterating through the array.\r\n\r\nSo for example when I press a key it will add an object to the array but only one object each time I press a key.\r\n\r\nHere is my code:\r\n\r\n    for(int i = 0; i&lt;testArray.length; i++)\r\n    {\r\n       if(testArray[i] == null)\r\n       {\r\n          testArray[i] = new object();\r\n       }\r\n    }\r\n\r\nMany thanks","title":"(Java) Iterating through a Array until it hits an null value","body":"<p>My problem is that I want a <code>for loop</code> to iterate through an array until it hits a <code>null</code> value, add an object to the array and then stop iterating through the array.</p>\n\n<p>So for example when I press a key it will add an object to the array but only one object each time I press a key.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>for(int i = 0; i&lt;testArray.length; i++)\n{\n   if(testArray[i] == null)\n   {\n      testArray[i] = new object();\n   }\n}\n</code></pre>\n\n<p>Many thanks</p>\n"},{"tags":["java","kotlin","pytorch","torchscript","djl"],"answers":[{"tags":[],"owner":{"account_id":24418405,"reputation":11,"user_id":18345001,"display_name":"Romeo RKPK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692005451,"creation_date":1692005451,"answer_id":76897779,"question_id":76895864,"body_markdown":"**Summary** &lt;br&gt;\r\nImage preprocessing incorrect\r\n&lt;hr&gt;\r\nlook at this kotlin code, it is part of code from question\r\n\r\n    val translator = ImageClassificationTranslator.builder()\r\n    .setPipeline(Pipeline().apply {\r\n        add(Resize(128))\r\n        add(ToTensor())\r\n    })\r\n    .optSynsetArtifactName(&quot;synset.txt&quot;)\r\n    .build()\r\n\r\nand python code from question\r\n\r\n    tensor_transform = T.Compose([T.PILToTensor()])\r\n\r\nUnfortunately, that are does not same. Python code wich do preprocessing should be\r\n\r\n    preprocess = transforms.Compose([transforms.Resize(128), transforms.ToTensor()])\r\n\r\nI fix this problem...\r\n\r\n1. fix my python code, about image preprocessing part\r\n2. train my model again\r\n3. export to torchscript\r\n4. load torchscript model by kotlin code\r\n5. It works well :)","title":"forwarded value different between python and DJL","body":"<p><strong>Summary</strong> <br>\nImage preprocessing incorrect</p>\n<hr>\nlook at this kotlin code, it is part of code from question\n<pre><code>val translator = ImageClassificationTranslator.builder()\n.setPipeline(Pipeline().apply {\n    add(Resize(128))\n    add(ToTensor())\n})\n.optSynsetArtifactName(&quot;synset.txt&quot;)\n.build()\n</code></pre>\n<p>and python code from question</p>\n<pre><code>tensor_transform = T.Compose([T.PILToTensor()])\n</code></pre>\n<p>Unfortunately, that are does not same. Python code wich do preprocessing should be</p>\n<pre><code>preprocess = transforms.Compose([transforms.Resize(128), transforms.ToTensor()])\n</code></pre>\n<p>I fix this problem...</p>\n<ol>\n<li>fix my python code, about image preprocessing part</li>\n<li>train my model again</li>\n<li>export to torchscript</li>\n<li>load torchscript model by kotlin code</li>\n<li>It works well :)</li>\n</ol>\n"}],"owner":{"account_id":24418405,"reputation":11,"user_id":18345001,"display_name":"Romeo RKPK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692005451,"creation_date":1691977404,"question_id":76895864,"body_markdown":"I see example https://docs.djl.ai/jupyter/load_pytorch_model.html\r\nI made my own `torchscript` witch named `qooModel.pt` file and `synset.txt`\r\n\r\nI tried to imitate the example. Here is my code.\r\n\r\n```kotlin\r\nval translator = ImageClassificationTranslator.builder()\r\n    .setPipeline(Pipeline().apply {\r\n        add(Resize(128))\r\n        add(ToTensor())\r\n    })\r\n    .optSynsetArtifactName(&quot;synset.txt&quot;)\r\n    .build()\r\n\r\n\r\nval criteria = Criteria.builder()\r\n    .setTypes(Image::class.java, Classifications::class.java)\r\n    .optApplication(Application.CV.IMAGE_CLASSIFICATION)\r\n    .optModelPath(Paths.get(&quot;models/qooModel.pt&quot;))\r\n    .optTranslator(translator)\r\n    .build()\r\n\r\nval imgFactory = ImageFactory.getInstance()\r\nval imgPath    = Paths.get(args.getOrElse(0){&quot;./images/qoo_learning.png&quot;})\r\nval image      = imgFactory.fromFile(imgPath)\r\n\r\nval model = ModelZoo.loadModel(criteria)\r\n\r\n\r\nval predict = model.newPredictor()\r\n\r\nval result = predict.predict(image)\r\nprint(result)\r\n\r\nmodel.close()\r\n```\r\n\r\nMy code does not makes error, but forwarded value in `result` looks strange.\r\nI expect\r\n\r\n```json\r\n[\r\n\t{&quot;class&quot;: &quot;qoo&quot;, &quot;probability&quot;: 0.9597}\r\n]\r\n```\r\n\r\nbut\r\n\r\n```json\r\n[\r\n\t{&quot;class&quot;: &quot;qoo&quot;, &quot;probability&quot;: 0.00463}\r\n]\r\n```\r\n\r\nprinted.\r\n\r\nI exepect `0.9597` because when I running under Python code in Google Colab\r\n\r\n```python\r\nimport torch\r\nfrom PIL import Image\r\nimport torchvision.transforms as T\r\n\r\ntensor_transform = T.Compose([T.PILToTensor()])\r\n\r\nimage = Image.open(&quot;qoo_learning.png&quot;).convert(&quot;RGB&quot;).resize((128, 128))\r\nimg_tensor = tensor_transform(image).type(torch.FloatTensor)\r\nimg_tensor = torch.unsqueeze(img_tensor, 0)\r\nmodel(img_tensor)\r\n```\r\n\r\nthe result of code show me `tensor([[0.9597]], grad_fn=&lt;SigmoidBackward0&gt;)`\r\n\r\n**Questions.**\r\n\r\nQ1. Why I cannot get correct result (likes 0.9597) in my Kotlin code?\r\n\r\nQ2. What should I do for get correct result?\r\n\r\n**My guess**\r\n\r\nG1. there some issue between pytorch version between 2.0.1(I write torchscript) and 1.13.1(Kotlin use)\r\n\r\nG2. I should use pytorch 2.0.1 in my kotlin code\r\n....unfortunately I tried to use torch 2.0.1 but I couldn&#39;t understand document\r\n\r\n```\r\nExplicitly specify pytorch-native-xxx package version to override the version in the BOM.\r\n```\r\n\r\nand I could not find example about that\r\n\r\nor\r\n\r\nG1. My code wrong. It load model but it does not load pre-trained weights.\r\n\r\nG2. I should fix my code\r\n\r\n....example https://docs.djl.ai/jupyter/load_pytorch_model.html looks like using pre-trained model\r\n\r\nbut I think my code is almost same.\r\n\r\n**My Develop Environment.**\r\n\r\nI make my torchscript file(`qooModel.pt`) in Window 11, pytorch 2.0.1\r\n\r\nI run my Kotlin code in macOS, I did not install torch by pip\r\n\r\n... and it looks like running pytorch 1.13.1, look under debug log\r\n\r\n```\r\n[main] DEBUG ai.djl.pytorch.jni.LibUtils - Using cache dir: /Users/romeo/.djl.ai/pytorch/1.13.1-cpu-osx-aarch64\r\n[main] DEBUG ai.djl.pytorch.jni.LibUtils - Loading native library: /Users/romeo/.djl.ai/pytorch/1.13.1-cpu-osx-aarch64/libc10.dylib\r\n[main] DEBUG ai.djl.pytorch.jni.LibUtils - Loading native library: /Users/romeo/.djl.ai/pytorch/1.13.1-cpu-osx-aarch64/libtorch_cpu.dylib\r\n[main] DEBUG ai.djl.pytorch.jni.LibUtils - Loading native library: /Users/romeo/.djl.ai/pytorch/1.13.1-cpu-osx-aarch64/libtorch.dylib\r\n[main] DEBUG ai.djl.pytorch.jni.LibUtils - Loading native library: /Users/romeo/.djl.ai/pytorch/1.13.1-cpu-osx-aarch64/0.23.0-libdjl_torch.dylib\r\n```\r\n\r\nsorry about my poor english.","title":"forwarded value different between python and DJL","body":"<p>I see example <a href=\"https://docs.djl.ai/jupyter/load_pytorch_model.html\" rel=\"nofollow noreferrer\">https://docs.djl.ai/jupyter/load_pytorch_model.html</a>\nI made my own <code>torchscript</code> witch named <code>qooModel.pt</code> file and <code>synset.txt</code></p>\n<p>I tried to imitate the example. Here is my code.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val translator = ImageClassificationTranslator.builder()\n    .setPipeline(Pipeline().apply {\n        add(Resize(128))\n        add(ToTensor())\n    })\n    .optSynsetArtifactName(&quot;synset.txt&quot;)\n    .build()\n\n\nval criteria = Criteria.builder()\n    .setTypes(Image::class.java, Classifications::class.java)\n    .optApplication(Application.CV.IMAGE_CLASSIFICATION)\n    .optModelPath(Paths.get(&quot;models/qooModel.pt&quot;))\n    .optTranslator(translator)\n    .build()\n\nval imgFactory = ImageFactory.getInstance()\nval imgPath    = Paths.get(args.getOrElse(0){&quot;./images/qoo_learning.png&quot;})\nval image      = imgFactory.fromFile(imgPath)\n\nval model = ModelZoo.loadModel(criteria)\n\n\nval predict = model.newPredictor()\n\nval result = predict.predict(image)\nprint(result)\n\nmodel.close()\n</code></pre>\n<p>My code does not makes error, but forwarded value in <code>result</code> looks strange.\nI expect</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {&quot;class&quot;: &quot;qoo&quot;, &quot;probability&quot;: 0.9597}\n]\n</code></pre>\n<p>but</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {&quot;class&quot;: &quot;qoo&quot;, &quot;probability&quot;: 0.00463}\n]\n</code></pre>\n<p>printed.</p>\n<p>I exepect <code>0.9597</code> because when I running under Python code in Google Colab</p>\n<pre class=\"lang-py prettyprint-override\"><code>import torch\nfrom PIL import Image\nimport torchvision.transforms as T\n\ntensor_transform = T.Compose([T.PILToTensor()])\n\nimage = Image.open(&quot;qoo_learning.png&quot;).convert(&quot;RGB&quot;).resize((128, 128))\nimg_tensor = tensor_transform(image).type(torch.FloatTensor)\nimg_tensor = torch.unsqueeze(img_tensor, 0)\nmodel(img_tensor)\n</code></pre>\n<p>the result of code show me <code>tensor([[0.9597]], grad_fn=&lt;SigmoidBackward0&gt;)</code></p>\n<p><strong>Questions.</strong></p>\n<p>Q1. Why I cannot get correct result (likes 0.9597) in my Kotlin code?</p>\n<p>Q2. What should I do for get correct result?</p>\n<p><strong>My guess</strong></p>\n<p>G1. there some issue between pytorch version between 2.0.1(I write torchscript) and 1.13.1(Kotlin use)</p>\n<p>G2. I should use pytorch 2.0.1 in my kotlin code\n....unfortunately I tried to use torch 2.0.1 but I couldn't understand document</p>\n<pre><code>Explicitly specify pytorch-native-xxx package version to override the version in the BOM.\n</code></pre>\n<p>and I could not find example about that</p>\n<p>or</p>\n<p>G1. My code wrong. It load model but it does not load pre-trained weights.</p>\n<p>G2. I should fix my code</p>\n<p>....example <a href=\"https://docs.djl.ai/jupyter/load_pytorch_model.html\" rel=\"nofollow noreferrer\">https://docs.djl.ai/jupyter/load_pytorch_model.html</a> looks like using pre-trained model</p>\n<p>but I think my code is almost same.</p>\n<p><strong>My Develop Environment.</strong></p>\n<p>I make my torchscript file(<code>qooModel.pt</code>) in Window 11, pytorch 2.0.1</p>\n<p>I run my Kotlin code in macOS, I did not install torch by pip</p>\n<p>... and it looks like running pytorch 1.13.1, look under debug log</p>\n<pre><code>[main] DEBUG ai.djl.pytorch.jni.LibUtils - Using cache dir: /Users/romeo/.djl.ai/pytorch/1.13.1-cpu-osx-aarch64\n[main] DEBUG ai.djl.pytorch.jni.LibUtils - Loading native library: /Users/romeo/.djl.ai/pytorch/1.13.1-cpu-osx-aarch64/libc10.dylib\n[main] DEBUG ai.djl.pytorch.jni.LibUtils - Loading native library: /Users/romeo/.djl.ai/pytorch/1.13.1-cpu-osx-aarch64/libtorch_cpu.dylib\n[main] DEBUG ai.djl.pytorch.jni.LibUtils - Loading native library: /Users/romeo/.djl.ai/pytorch/1.13.1-cpu-osx-aarch64/libtorch.dylib\n[main] DEBUG ai.djl.pytorch.jni.LibUtils - Loading native library: /Users/romeo/.djl.ai/pytorch/1.13.1-cpu-osx-aarch64/0.23.0-libdjl_torch.dylib\n</code></pre>\n<p>sorry about my poor english.</p>\n"},{"tags":["java","google-drive-api"],"answers":[{"tags":[],"owner":{"account_id":7052079,"reputation":2257,"user_id":5400793,"display_name":"Tobias Geiselmann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503062517,"creation_date":1503062517,"answer_id":45757757,"question_id":45757635,"body_markdown":"You can search for a specific folder with these parameters:\r\n\r\n    name = &#39;your-folder-name&#39;\r\n    mimeType = &#39;application/vnd.google-apps.folder&#39;\r\n\r\nThe mime type makes sure, that you are only searching for folders. For more information, take a look at the documentation of the search parameters [here](https://developers.google.com/drive/v3/web/search-parameters).","title":"Google DRIVE API V3 - Get a folder id with name","body":"<p>You can search for a specific folder with these parameters:</p>\n\n<pre><code>name = 'your-folder-name'\nmimeType = 'application/vnd.google-apps.folder'\n</code></pre>\n\n<p>The mime type makes sure, that you are only searching for folders. For more information, take a look at the documentation of the search parameters <a href=\"https://developers.google.com/drive/v3/web/search-parameters\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":15392851,"reputation":668,"user_id":11104937,"display_name":"Selva Mary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621152501,"creation_date":1621152501,"answer_id":67554376,"question_id":45757635,"body_markdown":"Use the following to find the folder id with folder name. if such folder is not found it will result folderId as 0.\r\n      \r\n    let folderName = &quot;myFolder&quot;;\r\n    let result = await drive.files.list({\r\n        q: &quot;mimeType=&#39;application/vnd.google-apps.folder&#39; and trashed=false&quot;,\r\n        fields: &#39;nextPageToken, files(id, name)&#39;,\r\n        spaces: &#39;drive&#39;,\r\n    }).catch(e =&gt; console.log(&quot;eeee&quot;, e));\r\n    let folder = result.data.files.filter(x =&gt; x.name === folderName);\r\n    var folderId = folder.length?folder[0].id:0;\r\n    console.log(folder.id)\r\n\r\n","title":"Google DRIVE API V3 - Get a folder id with name","body":"<p>Use the following to find the folder id with folder name. if such folder is not found it will result folderId as 0.</p>\n<pre><code>let folderName = &quot;myFolder&quot;;\nlet result = await drive.files.list({\n    q: &quot;mimeType='application/vnd.google-apps.folder' and trashed=false&quot;,\n    fields: 'nextPageToken, files(id, name)',\n    spaces: 'drive',\n}).catch(e =&gt; console.log(&quot;eeee&quot;, e));\nlet folder = result.data.files.filter(x =&gt; x.name === folderName);\nvar folderId = folder.length?folder[0].id:0;\nconsole.log(folder.id)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7798349,"reputation":73,"user_id":5898690,"display_name":"fahad sulaiman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692004567,"creation_date":1692004567,"answer_id":76897693,"question_id":45757635,"body_markdown":"// $client will be get auth detail\r\n\r\n$server = new Google_Service_Drive ( $client );\r\n\r\n\t\t\t\t$metaDataArray= array(\r\n\t\t\t\t\tq=&gt;&quot;mimeType=&#39;application/vnd.google-apps.folder&#39; and name=&#39;folder_name&#39; and trashed=false&quot;,\r\n\t\t\t\t   spaces =&gt;&#39;drive&#39;,\r\n\t\t\t\t   fields =&gt;&#39;nextPageToken, files(id, name)&#39;,\r\n\t\t\t   );\r\n\r\n\t\t\t   $fl = $server-&gt;files-&gt;listFiles( $metaDataArray);\r\n\r\nThis is in php . you can just convert to java","title":"Google DRIVE API V3 - Get a folder id with name","body":"<p>// $client will be get auth detail</p>\n<p>$server = new Google_Service_Drive ( $client );</p>\n<pre><code>            $metaDataArray= array(\n                q=&gt;&quot;mimeType='application/vnd.google-apps.folder' and name='folder_name' and trashed=false&quot;,\n               spaces =&gt;'drive',\n               fields =&gt;'nextPageToken, files(id, name)',\n           );\n\n           $fl = $server-&gt;files-&gt;listFiles( $metaDataArray);\n</code></pre>\n<p>This is in php . you can just convert to java</p>\n"}],"owner":{"display_name":"user1510154"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14223,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1692004567,"creation_date":1503062160,"question_id":45757635,"body_markdown":"I could find only ways to get the root folder id from google drive api -[REFERENCE]: https://stackoverflow.com/questions/41483808/google-drive-api-v3-getting-root-folder-id-in-java . I have to get the folder id by giving a name. Is there anyway i could get Folder id of a directory in Drive by passing its name.","title":"Google DRIVE API V3 - Get a folder id with name","body":"<p>I could find only ways to get the root folder id from google drive api -[REFERENCE]: <a href=\"https://stackoverflow.com/questions/41483808/google-drive-api-v3-getting-root-folder-id-in-java\">Google Drive API v3 getting root folder Id in java</a> . I have to get the folder id by giving a name. Is there anyway i could get Folder id of a directory in Drive by passing its name.</p>\n"},{"tags":["java","javascript","websocket","vert.x"],"answers":[{"tags":[],"owner":{"account_id":207868,"reputation":179,"user_id":458008,"accept_rate":100,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401867066,"creation_date":1401867066,"answer_id":24031519,"question_id":24031357,"body_markdown":"Yes, Websocket can do cross-domain, but you will need to have a handshake in order to get this going. You might want to take a look at: http://en.wikipedia.org/wiki/WebSockets for an example of a handshake.\r\n\r\nAlso related and maybe duplicate: https://stackoverflow.com/questions/4042691/web-sockets-make-ajax-cors-obsolete","title":"Websocket and cross-domain","body":"<p>Yes, Websocket can do cross-domain, but you will need to have a handshake in order to get this going. You might want to take a look at: <a href=\"http://en.wikipedia.org/wiki/WebSockets\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/WebSockets</a> for an example of a handshake.</p>\n\n<p>Also related and maybe duplicate: <a href=\"https://stackoverflow.com/questions/4042691/web-sockets-make-ajax-cors-obsolete\">Web sockets make ajax/CORS obsolete?</a></p>\n"}],"owner":{"display_name":"user3699849"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17269,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692003780,"creation_date":1401866356,"question_id":24031357,"body_markdown":"Currently, I am developing two webapps : \r\n\r\n- the core, developed in Java with Vert.x, receives data from a lot of other apps and sends it to client) \r\n- the client, developed in PHP/JS, display data from the core.\r\n\r\nThe client isn&#39;t on the same domain as my core for the production phase.\r\n\r\nSince my development period, the two webapps are hosted in the same computer. I used &quot;ws:\\\\\\\\localhost:9090&quot; to connect my client to my core and I had no problem to transfer data.\r\n\r\nBut, today, I try to replace localhost with my IP Address and, it didn&#39;t work :s\r\n\r\nI think that it&#39;s because the client isn&#39;t in the same domain as the core. But I don&#39;t know how I can correct this problem ?\r\n\r\nDo you have any idea ?\r\n\r\nThanks !\r\n\r\nCode example (based on my code but not my code ;) ):\r\n\r\n- For the core : http://pastebin.com/h2ZnBvQJ\r\n- For the client : http://pastebin.com/DR5BeABf ","title":"Websocket and cross-domain","body":"<p>Currently, I am developing two webapps : </p>\n\n<ul>\n<li>the core, developed in Java with Vert.x, receives data from a lot of other apps and sends it to client) </li>\n<li>the client, developed in PHP/JS, display data from the core.</li>\n</ul>\n\n<p>The client isn't on the same domain as my core for the production phase.</p>\n\n<p>Since my development period, the two webapps are hosted in the same computer. I used \"ws:\\\\localhost:9090\" to connect my client to my core and I had no problem to transfer data.</p>\n\n<p>But, today, I try to replace localhost with my IP Address and, it didn't work :s</p>\n\n<p>I think that it's because the client isn't in the same domain as the core. But I don't know how I can correct this problem ?</p>\n\n<p>Do you have any idea ?</p>\n\n<p>Thanks !</p>\n\n<p>Code example (based on my code but not my code ;) ):</p>\n\n<ul>\n<li>For the core : <a href=\"http://pastebin.com/h2ZnBvQJ\" rel=\"nofollow\">http://pastebin.com/h2ZnBvQJ</a></li>\n<li>For the client : <a href=\"http://pastebin.com/DR5BeABf\" rel=\"nofollow\">http://pastebin.com/DR5BeABf</a> </li>\n</ul>\n"},{"tags":["java","rest","spring-boot","gson"],"answers":[{"tags":[],"owner":{"account_id":7233173,"reputation":626,"user_id":5519285,"display_name":"E. Makarovas"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1524696930,"creation_date":1524696930,"answer_id":50032452,"question_id":50031381,"body_markdown":"I would write this as a comment, but I still haven&#39;t got enough rep.\r\n\r\nThe problem must be with your dependencies. What happens here is that SpringBoot loads the [GsonAutoConfiguration][1] `@Configuration` class, which tries to call `GsonBuilder`&#39;s `setLenient()` method. SpringBoot already has the correct gson jar set as a dependency which should automatically be included in your build; however, explicitly specifying a dependency to gson would override the dependency brought by SpringBoot. Apparently, `setLenient()` still did not exist in the version of gson that you are using. \r\n\r\nThe best you can do is either remove the explicit dependency to gson from your pom.xml (or build.gradle, or whatever else you use), or update it to match the one which is expected by the SpringBoot version you are using.\r\n\r\nThis is the most recent version of gson, in case you are using a recent version of SpringBoot:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nEDIT: it could also happen that even if you don&#39;t declare gson explicitly in your build, another one of your dependencies is using an older version of it, and it overrides the version which SpringBoot expects. In that case, instead of trying to brute-force through the problem, I would suggest to go through all your dependencies and make sure that the versions line up. Going through the dependencies and their versions listed in [Maven Central][2] might be a good idea.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/gson/GsonAutoConfiguration.html\r\n  [2]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-autoconfigure/2.0.1.RELEASE","title":"Why do I get Gson builder error when starting a Spring Boot application?","body":"<p>I would write this as a comment, but I still haven't got enough rep.</p>\n\n<p>The problem must be with your dependencies. What happens here is that SpringBoot loads the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/gson/GsonAutoConfiguration.html\" rel=\"noreferrer\">GsonAutoConfiguration</a> <code>@Configuration</code> class, which tries to call <code>GsonBuilder</code>'s <code>setLenient()</code> method. SpringBoot already has the correct gson jar set as a dependency which should automatically be included in your build; however, explicitly specifying a dependency to gson would override the dependency brought by SpringBoot. Apparently, <code>setLenient()</code> still did not exist in the version of gson that you are using. </p>\n\n<p>The best you can do is either remove the explicit dependency to gson from your pom.xml (or build.gradle, or whatever else you use), or update it to match the one which is expected by the SpringBoot version you are using.</p>\n\n<p>This is the most recent version of gson, in case you are using a recent version of SpringBoot:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>EDIT: it could also happen that even if you don't declare gson explicitly in your build, another one of your dependencies is using an older version of it, and it overrides the version which SpringBoot expects. In that case, instead of trying to brute-force through the problem, I would suggest to go through all your dependencies and make sure that the versions line up. Going through the dependencies and their versions listed in <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-autoconfigure/2.0.1.RELEASE\" rel=\"noreferrer\">Maven Central</a> might be a good idea.</p>\n"},{"tags":[],"owner":{"account_id":3211731,"reputation":3690,"user_id":2711596,"display_name":"Debasis"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1528239667,"creation_date":1528239667,"answer_id":50710072,"question_id":50031381,"body_markdown":"I faced the same problem and had to waste a lot of time trying to fix this.\r\n\r\nThe problem arises due to the version mismatch of the Gson library from existing dependencies already included in your project with that of Spring Boot&#39;s default one.\r\n\r\nThe easiest fix of this problem (that worked for me) is to replace each occurrence of the\r\n\r\n    @EnableAutoConfiguration\r\n\r\ntag with\r\n\r\n    @EnableAutoConfiguration(exclude = {org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration.class})\r\n\r\nwhich basically tells the Spring boot application to skip auto configuration for Gson.\r\n\r\nThis solution also applies to any other class that might create the same problem. You just need to add the name of each such conflicting class to the **exclude** attribute of **EnableAutoConfiguration**. ","title":"Why do I get Gson builder error when starting a Spring Boot application?","body":"<p>I faced the same problem and had to waste a lot of time trying to fix this.</p>\n\n<p>The problem arises due to the version mismatch of the Gson library from existing dependencies already included in your project with that of Spring Boot's default one.</p>\n\n<p>The easiest fix of this problem (that worked for me) is to replace each occurrence of the</p>\n\n<pre><code>@EnableAutoConfiguration\n</code></pre>\n\n<p>tag with</p>\n\n<pre><code>@EnableAutoConfiguration(exclude = {org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration.class})\n</code></pre>\n\n<p>which basically tells the Spring boot application to skip auto configuration for Gson.</p>\n\n<p>This solution also applies to any other class that might create the same problem. You just need to add the name of each such conflicting class to the <strong>exclude</strong> attribute of <strong>EnableAutoConfiguration</strong>. </p>\n"},{"tags":[],"owner":{"account_id":1701147,"reputation":129,"user_id":1561183,"display_name":"Geraldo Ferraz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1539691141,"creation_date":1539691141,"answer_id":52834955,"question_id":50031381,"body_markdown":"I think the problem is related to how Spring triggers the &quot;AutoConfiguration&quot;. In this case the &quot;GsonAutoConfiguration&quot; is triggered on the presence of com.google.gson.Gson.class, even if you are not using it, as it has the @ConditionalOnClass(value=Gson.class) annotation.\r\n\r\nSo the solution may be either removing the dependency that has Gson class or removing the specific &quot;AutoConfiguration&quot;:\r\n\r\n@EnableAutoConfiguration(exclude = {org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration.class})\r\n\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/gson/GsonAutoConfiguration.html","title":"Why do I get Gson builder error when starting a Spring Boot application?","body":"<p>I think the problem is related to how Spring triggers the \"AutoConfiguration\". In this case the \"GsonAutoConfiguration\" is triggered on the presence of com.google.gson.Gson.class, even if you are not using it, as it has the @ConditionalOnClass(value=Gson.class) annotation.</p>\n\n<p>So the solution may be either removing the dependency that has Gson class or removing the specific \"AutoConfiguration\":</p>\n\n<p>@EnableAutoConfiguration(exclude = {org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration.class})</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/gson/GsonAutoConfiguration.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/gson/GsonAutoConfiguration.html</a></p>\n"},{"tags":[],"owner":{"account_id":13507264,"reputation":283,"user_id":9744855,"display_name":"Nisarg Bhagavantanavar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562516301,"creation_date":1562516301,"answer_id":56923959,"question_id":50031381,"body_markdown":"Ok, same problem i have faced , issue is due to version mismatch between spring boot and gson....solution is remove version\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- Gson dependency --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n[refer my pom.xml snip png][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HPNQ3.png","title":"Why do I get Gson builder error when starting a Spring Boot application?","body":"<p>Ok, same problem i have faced , issue is due to version mismatch between spring boot and gson....solution is remove version</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- Gson dependency --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/HPNQ3.png\" rel=\"nofollow noreferrer\">refer my pom.xml snip png</a> </p>\n"},{"tags":[],"owner":{"account_id":6499111,"reputation":906,"user_id":5030597,"display_name":"Kyrylo Semenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585219136,"creation_date":1585219136,"answer_id":60865354,"question_id":50031381,"body_markdown":"You can exclude GsonAutoConfiguration\r\n    \r\n    @SpringBootApplication(exclude = {org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration.class})","title":"Why do I get Gson builder error when starting a Spring Boot application?","body":"<p>You can exclude GsonAutoConfiguration</p>\n\n<pre><code>@SpringBootApplication(exclude = {org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration.class})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17923040,"reputation":59,"user_id":13022329,"display_name":"CHARITRA JAIN"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1612771033,"creation_date":1612769966,"answer_id":66097530,"question_id":50031381,"body_markdown":"Just remove the version number the Maven dependency.\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Why do I get Gson builder error when starting a Spring Boot application?","body":"<p>Just remove the version number the Maven dependency.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15832854,"reputation":707,"user_id":11423630,"display_name":"Shubham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692003666,"creation_date":1692003666,"answer_id":76897597,"question_id":50031381,"body_markdown":"Just update the Gson version then it will match with the latest version of spring boot.\r\n\r\n         // https://mvnrepository.com/artifact/com.google.code.gson/gson\r\n    \timplementation group: &#39;com.google.code.gson&#39;, name: &#39;gson&#39;, version: &#39;2.8.1&#39;","title":"Why do I get Gson builder error when starting a Spring Boot application?","body":"<p>Just update the Gson version then it will match with the latest version of spring boot.</p>\n<pre><code>     // https://mvnrepository.com/artifact/com.google.code.gson/gson\n    implementation group: 'com.google.code.gson', name: 'gson', version: '2.8.1'\n</code></pre>\n"}],"owner":{"account_id":1306591,"reputation":1077,"user_id":1255480,"accept_rate":45,"display_name":"A j"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46411,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":50032452,"answer_count":7,"score":33,"last_activity_date":1692003666,"creation_date":1524690533,"question_id":50031381,"body_markdown":"I have downloaded eclipse and installed the spring suit into it.\r\nI have written a JPA based Rest application by following one of the spring.io guides. When I try to run it as spring boot application.\r\nI get the following error.\r\n\r\n    java.lang.NoSuchMethodError: com.google.gson.GsonBuilder.setLenient()Lcom/google/gson/GsonBuilder;\r\n\r\nWhy am I getting this error? How do I fix this error?\r\n\r\nHere is the full output from the console.\r\n\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.0.1.RELEASE)\r\n    \r\n    2018-04-25 21:58:28.303  INFO 3574 --- [           main] .m.e.UserProfileEntityServiceApplication : Starting UserProfileEntityServiceApplication on Ajays-MBP.lan with PID 3574 (/Users/ajayamrite/workspaces/meghdoot_spring/UserProfileEntityService/target/classes started by ajayamrite in /Users/ajayamrite/workspaces/meghdoot_spring/UserProfileEntityService)\r\n    2018-04-25 21:58:28.306  INFO 3574 --- [           main] .m.e.UserProfileEntityServiceApplication : No active profile set, falling back to default profiles: default\r\n    2018-04-25 21:58:28.359  INFO 3574 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3bd40a57: startup date [Wed Apr 25 21:58:28 BST 2018]; root of context hierarchy\r\n    2018-04-25 21:58:29.557  INFO 3574 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;httpRequestHandlerAdapter&#39; with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]]\r\n    2018-04-25 21:58:30.142  INFO 3574 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39; of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8d2d15cf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2018-04-25 21:58:30.553  INFO 3574 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2018-04-25 21:58:30.612  INFO 3574 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2018-04-25 21:58:30.612  INFO 3574 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.29\r\n    2018-04-25 21:58:30.617  INFO 3574 --- [ost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/ajayamrite/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]\r\n    2018-04-25 21:58:30.716  INFO 3574 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2018-04-25 21:58:30.716  INFO 3574 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2360 ms\r\n    2018-04-25 21:58:30.826  INFO 3574 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]\r\n    2018-04-25 21:58:30.830  INFO 3574 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n    2018-04-25 21:58:30.831  INFO 3574 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n    2018-04-25 21:58:30.831  INFO 3574 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]\r\n    2018-04-25 21:58:30.831  INFO 3574 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;requestContextFilter&#39; to: [/*]\r\n    2018-04-25 21:58:31.049  INFO 3574 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    Wed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    2018-04-25 21:58:31.311  INFO 3574 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2018-04-25 21:58:31.373  INFO 3574 --- [           main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit &#39;default&#39;\r\n    Wed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Wed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    2018-04-25 21:58:31.443  INFO 3574 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\r\n    \tname: default\r\n    \t...]\r\n    Wed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Wed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Wed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Wed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Wed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Wed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Wed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    2018-04-25 21:58:31.674  INFO 3574 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.16.Final}\r\n    2018-04-25 21:58:31.675  INFO 3574 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n    2018-04-25 21:58:31.717  INFO 3574 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n    2018-04-25 21:58:31.854  INFO 3574 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\r\n    2018-04-25 21:58:32.718  INFO 3574 --- [           main] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script &#39;org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@294aba23&#39;\r\n    2018-04-25 21:58:32.722  INFO 3574 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2018-04-25 21:58:33.709  INFO 3574 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n    2018-04-25 21:58:33.881  INFO 3574 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3bd40a57: startup date [Wed Apr 25 21:58:28 BST 2018]; root of context hierarchy\r\n    2018-04-25 21:58:33.917  WARN 3574 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2018-04-25 21:58:33.947  INFO 3574 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/error]}&quot; onto public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)\r\n    2018-04-25 21:58:33.947  INFO 3574 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/error],produces=[text/html]}&quot; onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)\r\n    2018-04-25 21:58:33.967  INFO 3574 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n    2018-04-25 21:58:33.967  INFO 3574 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n    2018-04-25 21:58:33.977  INFO 3574 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in repositoryRestExceptionHandler\r\n    2018-04-25 21:58:34.103  WARN 3574 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;gsonBuilder&#39; defined in class path resource [org/springframework/boot/autoconfigure/gson/GsonAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.gson.GsonBuilder]: Factory method &#39;gsonBuilder&#39; threw exception; nested exception is java.lang.BootstrapMethodError: java.lang.NoSuchMethodError: com.google.gson.GsonBuilder.setLenient()Lcom/google/gson/GsonBuilder;\r\n    2018-04-25 21:58:34.103  INFO 3574 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\r\n    2018-04-25 21:58:34.105  INFO 3574 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2018-04-25 21:58:34.106  INFO 3574 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2018-04-25 21:58:34.109  INFO 3574 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    2018-04-25 21:58:34.110  INFO 3574 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2018-04-25 21:58:34.120  INFO 3574 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2018-04-25 21:58:34.128 ERROR 3574 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;gsonBuilder&#39; defined in class path resource [org/springframework/boot/autoconfigure/gson/GsonAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.gson.GsonBuilder]: Factory method &#39;gsonBuilder&#39; threw exception; nested exception is java.lang.BootstrapMethodError: java.lang.NoSuchMethodError: com.google.gson.GsonBuilder.setLenient()Lcom/google/gson/GsonBuilder;\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1250) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat co.uk.meghdoot.entity.UserProfileEntityServiceApplication.main(UserProfileEntityServiceApplication.java:12) [classes/:na]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.gson.GsonBuilder]: Factory method &#39;gsonBuilder&#39; threw exception; nested exception is java.lang.BootstrapMethodError: java.lang.NoSuchMethodError: com.google.gson.GsonBuilder.setLenient()Lcom/google/gson/GsonBuilder;\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:579) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \t... 18 common frames omitted\r\n    Caused by: java.lang.BootstrapMethodError: java.lang.NoSuchMethodError: com.google.gson.GsonBuilder.setLenient()Lcom/google/gson/GsonBuilder;\r\n    \tat org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration$StandardGsonBuilderCustomizer.customize(GsonAutoConfiguration.java:96) ~[spring-boot-autoconfigure-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration.lambda$gsonBuilder$0(GsonAutoConfiguration.java:49) ~[spring-boot-autoconfigure-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat java.util.ArrayList.forEach(ArrayList.java:1249) ~[na:1.8.0_144]\r\n    \tat org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration.gsonBuilder(GsonAutoConfiguration.java:49) ~[spring-boot-autoconfigure-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration$$EnhancerBySpringCGLIB$$cbe82959.CGLIB$gsonBuilder$1(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration$$EnhancerBySpringCGLIB$$cbe82959$$FastClassBySpringCGLIB$$6d1b6b91.invoke(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration$$EnhancerBySpringCGLIB$$cbe82959.gsonBuilder(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \t... 19 common frames omitted\r\n    Caused by: java.lang.NoSuchMethodError: com.google.gson.GsonBuilder.setLenient()Lcom/google/gson/GsonBuilder;\r\n    \tat java.lang.invoke.MethodHandleNatives.resolve(Native Method) ~[na:1.8.0_144]\r\n    \tat java.lang.invoke.MemberName$Factory.resolve(MemberName.java:975) ~[na:1.8.0_144]\r\n    \tat java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:1000) ~[na:1.8.0_144]\r\n    \tat java.lang.invoke.MethodHandles$Lookup.resolveOrFail(MethodHandles.java:1394) ~[na:1.8.0_144]\r\n    \tat java.lang.invoke.MethodHandles$Lookup.linkMethodHandleConstant(MethodHandles.java:1750) ~[na:1.8.0_144]\r\n    \tat java.lang.invoke.MethodHandleNatives.linkMethodHandleConstant(MethodHandleNatives.java:477) ~[na:1.8.0_144]\r\n    \t... 33 common frames omitted\r\n\r\n","title":"Why do I get Gson builder error when starting a Spring Boot application?","body":"<p>I have downloaded eclipse and installed the spring suit into it.\nI have written a JPA based Rest application by following one of the spring.io guides. When I try to run it as spring boot application.\nI get the following error.</p>\n\n<pre><code>java.lang.NoSuchMethodError: com.google.gson.GsonBuilder.setLenient()Lcom/google/gson/GsonBuilder;\n</code></pre>\n\n<p>Why am I getting this error? How do I fix this error?</p>\n\n<p>Here is the full output from the console.</p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.0.1.RELEASE)\n\n2018-04-25 21:58:28.303  INFO 3574 --- [           main] .m.e.UserProfileEntityServiceApplication : Starting UserProfileEntityServiceApplication on Ajays-MBP.lan with PID 3574 (/Users/ajayamrite/workspaces/meghdoot_spring/UserProfileEntityService/target/classes started by ajayamrite in /Users/ajayamrite/workspaces/meghdoot_spring/UserProfileEntityService)\n2018-04-25 21:58:28.306  INFO 3574 --- [           main] .m.e.UserProfileEntityServiceApplication : No active profile set, falling back to default profiles: default\n2018-04-25 21:58:28.359  INFO 3574 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3bd40a57: startup date [Wed Apr 25 21:58:28 BST 2018]; root of context hierarchy\n2018-04-25 21:58:29.557  INFO 3574 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpRequestHandlerAdapter' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]]\n2018-04-25 21:58:30.142  INFO 3574 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8d2d15cf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2018-04-25 21:58:30.553  INFO 3574 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2018-04-25 21:58:30.612  INFO 3574 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2018-04-25 21:58:30.612  INFO 3574 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.29\n2018-04-25 21:58:30.617  INFO 3574 --- [ost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/ajayamrite/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]\n2018-04-25 21:58:30.716  INFO 3574 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2018-04-25 21:58:30.716  INFO 3574 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2360 ms\n2018-04-25 21:58:30.826  INFO 3574 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]\n2018-04-25 21:58:30.830  INFO 3574 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]\n2018-04-25 21:58:30.831  INFO 3574 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2018-04-25 21:58:30.831  INFO 3574 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]\n2018-04-25 21:58:30.831  INFO 3574 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]\n2018-04-25 21:58:31.049  INFO 3574 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\nWed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\n2018-04-25 21:58:31.311  INFO 3574 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2018-04-25 21:58:31.373  INFO 3574 --- [           main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'\nWed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nWed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\n2018-04-25 21:58:31.443  INFO 3574 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\n    name: default\n    ...]\nWed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nWed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nWed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nWed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nWed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nWed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nWed Apr 25 21:58:31 BST 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\n2018-04-25 21:58:31.674  INFO 3574 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.16.Final}\n2018-04-25 21:58:31.675  INFO 3574 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2018-04-25 21:58:31.717  INFO 3574 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\n2018-04-25 21:58:31.854  INFO 3574 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\n2018-04-25 21:58:32.718  INFO 3574 --- [           main] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@294aba23'\n2018-04-25 21:58:32.722  INFO 3574 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2018-04-25 21:58:33.709  INFO 3574 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2018-04-25 21:58:33.881  INFO 3574 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3bd40a57: startup date [Wed Apr 25 21:58:28 BST 2018]; root of context hierarchy\n2018-04-25 21:58:33.917  WARN 3574 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2018-04-25 21:58:33.947  INFO 3574 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error]}\" onto public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)\n2018-04-25 21:58:33.947  INFO 3574 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error],produces=[text/html]}\" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)\n2018-04-25 21:58:33.967  INFO 3574 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2018-04-25 21:58:33.967  INFO 3574 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2018-04-25 21:58:33.977  INFO 3574 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in repositoryRestExceptionHandler\n2018-04-25 21:58:34.103  WARN 3574 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'gsonBuilder' defined in class path resource [org/springframework/boot/autoconfigure/gson/GsonAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.gson.GsonBuilder]: Factory method 'gsonBuilder' threw exception; nested exception is java.lang.BootstrapMethodError: java.lang.NoSuchMethodError: com.google.gson.GsonBuilder.setLenient()Lcom/google/gson/GsonBuilder;\n2018-04-25 21:58:34.103  INFO 3574 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\n2018-04-25 21:58:34.105  INFO 3574 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2018-04-25 21:58:34.106  INFO 3574 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2018-04-25 21:58:34.109  INFO 3574 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2018-04-25 21:58:34.110  INFO 3574 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2018-04-25 21:58:34.120  INFO 3574 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2018-04-25 21:58:34.128 ERROR 3574 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'gsonBuilder' defined in class path resource [org/springframework/boot/autoconfigure/gson/GsonAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.gson.GsonBuilder]: Factory method 'gsonBuilder' threw exception; nested exception is java.lang.BootstrapMethodError: java.lang.NoSuchMethodError: com.google.gson.GsonBuilder.setLenient()Lcom/google/gson/GsonBuilder;\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1250) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at co.uk.meghdoot.entity.UserProfileEntityServiceApplication.main(UserProfileEntityServiceApplication.java:12) [classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.gson.GsonBuilder]: Factory method 'gsonBuilder' threw exception; nested exception is java.lang.BootstrapMethodError: java.lang.NoSuchMethodError: com.google.gson.GsonBuilder.setLenient()Lcom/google/gson/GsonBuilder;\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:579) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    ... 18 common frames omitted\nCaused by: java.lang.BootstrapMethodError: java.lang.NoSuchMethodError: com.google.gson.GsonBuilder.setLenient()Lcom/google/gson/GsonBuilder;\n    at org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration$StandardGsonBuilderCustomizer.customize(GsonAutoConfiguration.java:96) ~[spring-boot-autoconfigure-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration.lambda$gsonBuilder$0(GsonAutoConfiguration.java:49) ~[spring-boot-autoconfigure-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at java.util.ArrayList.forEach(ArrayList.java:1249) ~[na:1.8.0_144]\n    at org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration.gsonBuilder(GsonAutoConfiguration.java:49) ~[spring-boot-autoconfigure-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration$$EnhancerBySpringCGLIB$$cbe82959.CGLIB$gsonBuilder$1(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration$$EnhancerBySpringCGLIB$$cbe82959$$FastClassBySpringCGLIB$$6d1b6b91.invoke(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration$$EnhancerBySpringCGLIB$$cbe82959.gsonBuilder(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    ... 19 common frames omitted\nCaused by: java.lang.NoSuchMethodError: com.google.gson.GsonBuilder.setLenient()Lcom/google/gson/GsonBuilder;\n    at java.lang.invoke.MethodHandleNatives.resolve(Native Method) ~[na:1.8.0_144]\n    at java.lang.invoke.MemberName$Factory.resolve(MemberName.java:975) ~[na:1.8.0_144]\n    at java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:1000) ~[na:1.8.0_144]\n    at java.lang.invoke.MethodHandles$Lookup.resolveOrFail(MethodHandles.java:1394) ~[na:1.8.0_144]\n    at java.lang.invoke.MethodHandles$Lookup.linkMethodHandleConstant(MethodHandles.java:1750) ~[na:1.8.0_144]\n    at java.lang.invoke.MethodHandleNatives.linkMethodHandleConstant(MethodHandleNatives.java:477) ~[na:1.8.0_144]\n    ... 33 common frames omitted\n</code></pre>\n"},{"tags":["java","maven","jetty","wiremock"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1491838332,"creation_date":1491838332,"answer_id":43327317,"question_id":43327076,"body_markdown":"Check your servlet-api version, you likely are using an old version.\r\n\r\nBoth of those methods were added in Servlet 3.0\r\n\r\n * [`HttpServletResponse.getHeader(String name)`][1]\r\n * [`HttpServletRequest.isAsyncStarted()`][2]\r\n\r\nYou probably have the Servlet 2.5 (or Servlet 2.4) jar in your classpath.\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletResponse.html#getHeader-java.lang.String-\r\n  [2]: http://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequest.html#isAsyncStarted--","title":"WireMock fails with NoSuchMethodError HttpServletResponse.getHeader","body":"<p>Check your servlet-api version, you likely are using an old version.</p>\n\n<p>Both of those methods were added in Servlet 3.0</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletResponse.html#getHeader-java.lang.String-\" rel=\"noreferrer\"><code>HttpServletResponse.getHeader(String name)</code></a></li>\n<li><a href=\"http://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequest.html#isAsyncStarted--\" rel=\"noreferrer\"><code>HttpServletRequest.isAsyncStarted()</code></a></li>\n</ul>\n\n<p>You probably have the Servlet 2.5 (or Servlet 2.4) jar in your classpath.</p>\n"},{"tags":[],"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1494062775,"creation_date":1491894785,"answer_id":43339109,"question_id":43327076,"body_markdown":"As mentioned, in the question, one of the libraries I was using had a dependency on Cobertura, which in turn introducde a dependency on Servlet API 2.5 (both as a transitive dependency via an older verison of Jetty and a direct dependency).\r\n\r\n[![Cobertura dependency][1]][1]\r\n\r\nExcluding the artifact from the original dependency (the one dependent on cobertura) allowed me to run my test successfully.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.cognifide.slice&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slice-core-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${slice.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;servlet-api-2.5&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\n\r\n  [1]: https://i.stack.imgur.com/Us0Gm.png","title":"WireMock fails with NoSuchMethodError HttpServletResponse.getHeader","body":"<p>As mentioned, in the question, one of the libraries I was using had a dependency on Cobertura, which in turn introducde a dependency on Servlet API 2.5 (both as a transitive dependency via an older verison of Jetty and a direct dependency).</p>\n\n<p><a href=\"https://i.stack.imgur.com/Us0Gm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Us0Gm.png\" alt=\"Cobertura dependency\"></a></p>\n\n<p>Excluding the artifact from the original dependency (the one dependent on cobertura) allowed me to run my test successfully.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.cognifide.slice&lt;/groupId&gt;\n    &lt;artifactId&gt;slice-core-api&lt;/artifactId&gt;\n    &lt;version&gt;${slice.version}&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api-2.5&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":539660,"reputation":15051,"user_id":907576,"accept_rate":62,"display_name":"radistao"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1692003640,"creation_date":1692003640,"answer_id":76897593,"question_id":43327076,"body_markdown":"For those who lend to this ticket while using `wiremock-jre8` (with transitive Jetty 9) when upgrading to Java 17/Spring Boot 3/Spring 6 having `NoSuchMethodError: NetworkTrafficServerConnector.addNetworkTrafficListener`:\r\nMigrate to [`wiremock-standalone`][1]\r\n\r\nSee more: https://github.com/wiremock/wiremock/issues/1760#issuecomment-1234404609\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.github.tomakehurst/wiremock-standalone","title":"WireMock fails with NoSuchMethodError HttpServletResponse.getHeader","body":"<p>For those who lend to this ticket while using <code>wiremock-jre8</code> (with transitive Jetty 9) when upgrading to Java 17/Spring Boot 3/Spring 6 having <code>NoSuchMethodError: NetworkTrafficServerConnector.addNetworkTrafficListener</code>:\nMigrate to <a href=\"https://mvnrepository.com/artifact/com.github.tomakehurst/wiremock-standalone\" rel=\"nofollow noreferrer\"><code>wiremock-standalone</code></a></p>\n<p>See more: <a href=\"https://github.com/wiremock/wiremock/issues/1760#issuecomment-1234404609\" rel=\"nofollow noreferrer\">https://github.com/wiremock/wiremock/issues/1760#issuecomment-1234404609</a></p>\n"}],"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8885,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":43339109,"answer_count":3,"score":6,"last_activity_date":1692003640,"creation_date":1491837649,"question_id":43327076,"body_markdown":"I&#39;m trying to use WireMock in my JUnit tests to mock calls to an external API. \r\n\r\n    public class ExampleWiremockTest {\r\n\r\n        @Rule\r\n        public WireMockRule wireMockRule = new WireMockRule(9999);\r\n\r\n        @Before\r\n        public void setUp() {\r\n            stubFor(get(urlEqualTo(&quot;/bin/sillyServlet&quot;))\r\n                .willReturn(aResponse()\r\n                    .withStatus(200)\r\n                    .withBody(&quot;Hello WireMock!&quot;)\r\n                )\r\n            );\r\n\r\n        }\r\n\r\n        @Test\r\n        public void testNothing() throws URISyntaxException, IOException {\r\n            URI uri = new URIBuilder().setScheme(&quot;http&quot;)\r\n                .setHost(&quot;localhost&quot;)\r\n                .setPort(9999)\r\n                .setPath(&quot;/bin/sillyServlet&quot;)\r\n                .build();\r\n            HttpGet httpGet = new HttpGet(uri);\r\n            CloseableHttpClient httpClient = HttpClients.createDefault();\r\n            CloseableHttpResponse response = httpClient.execute(httpGet);\r\n            HttpEntity entity = response.getEntity();\r\n            String body = EntityUtils.toString(entity);\r\n            assertThat(body, is(&quot;Hello WireMock!&quot;));\r\n        }\r\n\r\n    }\r\n\r\nThe code compiles but when I run my test, WireMock throws an HTTP 500 that seems to be caused by an inconsistency in the underlying Servlet API version.\r\n\r\n    Running com.example.core.ExampleWiremockTest\r\n    [main] INFO wiremock.org.eclipse.jetty.util.log - Logging initialized @1030ms\r\n    [main] INFO wiremock.org.eclipse.jetty.server.Server - jetty-9.2.z-SNAPSHOT\r\n    [main] INFO wiremock.org.eclipse.jetty.server.handler.ContextHandler - Started w.o.e.j.s.ServletContextHandler@ef9296d{/__admin,null,AVAILABLE}\r\n    [main] INFO wiremock.org.eclipse.jetty.server.handler.ContextHandler - Started w.o.e.j.s.ServletContextHandler@659a969b{/,null,AVAILABLE}\r\n    [main] INFO wiremock.org.eclipse.jetty.server.NetworkTrafficServerConnector - Started NetworkTrafficServerConnector@723d73e1{HTTP/1.1}{0.0.0.0:9999}\r\n    [main] INFO wiremock.org.eclipse.jetty.server.Server - Started @1168ms\r\n    [qtp436546048-16] INFO /__admin - RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.AdminRequestHandler. Normalized mapped under returned &#39;null&#39;\r\n    [qtp436546048-20] INFO / - RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned &#39;null&#39;\r\n    [qtp436546048-20] WARN wiremock.org.eclipse.jetty.servlet.ServletHandler - Error for /bin/sillyServlet\r\n    java.lang.NoSuchMethodError: javax.servlet.http.HttpServletResponse.getHeader(Ljava/lang/String;)Ljava/lang/String;\r\n            at wiremock.org.eclipse.jetty.servlets.GzipFilter.doFilter(GzipFilter.java:322)\r\n            at wiremock.org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)\r\n            at wiremock.org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)\r\n            at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)\r\n            at wiremock.org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)\r\n            at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)\r\n            at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n            at wiremock.org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)\r\n            at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)\r\n            at wiremock.org.eclipse.jetty.server.Server.handle(Server.java:499)\r\n            at wiremock.org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)\r\n            at wiremock.org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)\r\n            at wiremock.org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)\r\n            at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)\r\n            at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    [qtp436546048-20] WARN wiremock.org.eclipse.jetty.server.HttpChannel - /bin/sillyServlet\r\n    java.lang.NoSuchMethodError: javax.servlet.http.HttpServletRequest.isAsyncStarted()Z\r\n            at wiremock.org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:684)\r\n            at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)\r\n            at wiremock.org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)\r\n            at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)\r\n            at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n            at wiremock.org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)\r\n            at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)\r\n            at wiremock.org.eclipse.jetty.server.Server.handle(Server.java:499)\r\n            at wiremock.org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)\r\n            at wiremock.org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)\r\n            at wiremock.org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)\r\n            at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)\r\n            at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    [qtp436546048-20] WARN wiremock.org.eclipse.jetty.server.HttpChannel - Could not send response error 500: java.lang.NoSuchMethodError: javax.servlet.http.HttpServletRequest.isAsyncStarted()Z\r\n    [main] INFO wiremock.org.eclipse.jetty.server.NetworkTrafficServerConnector - Stopped NetworkTrafficServerConnector@723d73e1{HTTP/1.1}{0.0.0.0:9999}\r\n    [main] INFO wiremock.org.eclipse.jetty.server.handler.ContextHandler - Stopped w.o.e.j.s.ServletContextHandler@659a969b{/,null,UNAVAILABLE}\r\n    [main] INFO wiremock.org.eclipse.jetty.server.handler.ContextHandler - Stopped w.o.e.j.s.ServletContextHandler@ef9296d{/__admin,null,UNAVAILABLE}\r\n    Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.577 sec &lt;&lt;&lt; FAILURE! - in com.example.core.ExampleWiremockTest\r\n\r\nI do have other libraries in my classpath that rely on different versions of Jetty, which I suppose is the cause of the problem.\r\n\r\nWireMock uses Jetty 9.2.13, I also have a transitive dependency on Cobertura, which relies on 6.1.14\r\n\r\nI was originally trying to use the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wiremock&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI switched to the standalone Jar version, hoping it would help me avoid the conflict but the result is exactly the same.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wiremock-standalone&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"WireMock fails with NoSuchMethodError HttpServletResponse.getHeader","body":"<p>I'm trying to use WireMock in my JUnit tests to mock calls to an external API. </p>\n\n<pre><code>public class ExampleWiremockTest {\n\n    @Rule\n    public WireMockRule wireMockRule = new WireMockRule(9999);\n\n    @Before\n    public void setUp() {\n        stubFor(get(urlEqualTo(\"/bin/sillyServlet\"))\n            .willReturn(aResponse()\n                .withStatus(200)\n                .withBody(\"Hello WireMock!\")\n            )\n        );\n\n    }\n\n    @Test\n    public void testNothing() throws URISyntaxException, IOException {\n        URI uri = new URIBuilder().setScheme(\"http\")\n            .setHost(\"localhost\")\n            .setPort(9999)\n            .setPath(\"/bin/sillyServlet\")\n            .build();\n        HttpGet httpGet = new HttpGet(uri);\n        CloseableHttpClient httpClient = HttpClients.createDefault();\n        CloseableHttpResponse response = httpClient.execute(httpGet);\n        HttpEntity entity = response.getEntity();\n        String body = EntityUtils.toString(entity);\n        assertThat(body, is(\"Hello WireMock!\"));\n    }\n\n}\n</code></pre>\n\n<p>The code compiles but when I run my test, WireMock throws an HTTP 500 that seems to be caused by an inconsistency in the underlying Servlet API version.</p>\n\n<pre><code>Running com.example.core.ExampleWiremockTest\n[main] INFO wiremock.org.eclipse.jetty.util.log - Logging initialized @1030ms\n[main] INFO wiremock.org.eclipse.jetty.server.Server - jetty-9.2.z-SNAPSHOT\n[main] INFO wiremock.org.eclipse.jetty.server.handler.ContextHandler - Started w.o.e.j.s.ServletContextHandler@ef9296d{/__admin,null,AVAILABLE}\n[main] INFO wiremock.org.eclipse.jetty.server.handler.ContextHandler - Started w.o.e.j.s.ServletContextHandler@659a969b{/,null,AVAILABLE}\n[main] INFO wiremock.org.eclipse.jetty.server.NetworkTrafficServerConnector - Started NetworkTrafficServerConnector@723d73e1{HTTP/1.1}{0.0.0.0:9999}\n[main] INFO wiremock.org.eclipse.jetty.server.Server - Started @1168ms\n[qtp436546048-16] INFO /__admin - RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.AdminRequestHandler. Normalized mapped under returned 'null'\n[qtp436546048-20] INFO / - RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'\n[qtp436546048-20] WARN wiremock.org.eclipse.jetty.servlet.ServletHandler - Error for /bin/sillyServlet\njava.lang.NoSuchMethodError: javax.servlet.http.HttpServletResponse.getHeader(Ljava/lang/String;)Ljava/lang/String;\n        at wiremock.org.eclipse.jetty.servlets.GzipFilter.doFilter(GzipFilter.java:322)\n        at wiremock.org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)\n        at wiremock.org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)\n        at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)\n        at wiremock.org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)\n        at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)\n        at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n        at wiremock.org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)\n        at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)\n        at wiremock.org.eclipse.jetty.server.Server.handle(Server.java:499)\n        at wiremock.org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)\n        at wiremock.org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)\n        at wiremock.org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)\n        at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)\n        at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)\n        at java.lang.Thread.run(Thread.java:745)\n[qtp436546048-20] WARN wiremock.org.eclipse.jetty.server.HttpChannel - /bin/sillyServlet\njava.lang.NoSuchMethodError: javax.servlet.http.HttpServletRequest.isAsyncStarted()Z\n        at wiremock.org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:684)\n        at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)\n        at wiremock.org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)\n        at wiremock.org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)\n        at wiremock.org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n        at wiremock.org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)\n        at wiremock.org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)\n        at wiremock.org.eclipse.jetty.server.Server.handle(Server.java:499)\n        at wiremock.org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)\n        at wiremock.org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)\n        at wiremock.org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)\n        at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)\n        at wiremock.org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)\n        at java.lang.Thread.run(Thread.java:745)\n[qtp436546048-20] WARN wiremock.org.eclipse.jetty.server.HttpChannel - Could not send response error 500: java.lang.NoSuchMethodError: javax.servlet.http.HttpServletRequest.isAsyncStarted()Z\n[main] INFO wiremock.org.eclipse.jetty.server.NetworkTrafficServerConnector - Stopped NetworkTrafficServerConnector@723d73e1{HTTP/1.1}{0.0.0.0:9999}\n[main] INFO wiremock.org.eclipse.jetty.server.handler.ContextHandler - Stopped w.o.e.j.s.ServletContextHandler@659a969b{/,null,UNAVAILABLE}\n[main] INFO wiremock.org.eclipse.jetty.server.handler.ContextHandler - Stopped w.o.e.j.s.ServletContextHandler@ef9296d{/__admin,null,UNAVAILABLE}\nTests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.577 sec &lt;&lt;&lt; FAILURE! - in com.example.core.ExampleWiremockTest\n</code></pre>\n\n<p>I do have other libraries in my classpath that rely on different versions of Jetty, which I suppose is the cause of the problem.</p>\n\n<p>WireMock uses Jetty 9.2.13, I also have a transitive dependency on Cobertura, which relies on 6.1.14</p>\n\n<p>I was originally trying to use the following dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n    &lt;artifactId&gt;wiremock&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I switched to the standalone Jar version, hoping it would help me avoid the conflict but the result is exactly the same.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n    &lt;artifactId&gt;wiremock-standalone&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","jdbc","spring-data-jpa"],"comments":[{"owner":{"account_id":6545869,"reputation":53,"user_id":5061908,"display_name":"ariamadeus"},"score":0,"creation_date":1688574341,"post_id":76621716,"comment_id":135092850,"body_markdown":"I figured out, instead of using ManyToMany, we can use this \n`@ManyToOne(fetch = FetchType.balanced:p)  @JoinColumn(name = &quot;blackboxparam_id&quot;, nullable = false)` above the `private BlackboxParamEntity foo;` in BlackboxEntity.java and MatingEntity.java.  Just remove the ManyToMany in those Entities, either in BlackboxParamEntity.","body":"I figured out, instead of using ManyToMany, we can use this  <code>@ManyToOne(fetch = FetchType.balanced:p)  @JoinColumn(name = &quot;blackboxparam_id&quot;, nullable = false)</code> above the <code>private BlackboxParamEntity foo;</code> in BlackboxEntity.java and MatingEntity.java.  Just remove the ManyToMany in those Entities, either in BlackboxParamEntity."},{"owner":{"account_id":6545869,"reputation":53,"user_id":5061908,"display_name":"ariamadeus"},"score":0,"creation_date":1688574644,"post_id":76621716,"comment_id":135092921,"body_markdown":"Referring to this https://stackoverflow.com/questions/60772300/spring-boot-jpa-many-to-many-relation-as-its-own-class","body":"Referring to this <a href=\"https://stackoverflow.com/questions/60772300/spring-boot-jpa-many-to-many-relation-as-its-own-class\" title=\"spring boot jpa many to many relation as its own class\">stackoverflow.com/questions/60772300/&hellip;</a>"}],"owner":{"account_id":6545869,"reputation":53,"user_id":5061908,"display_name":"ariamadeus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692003167,"creation_date":1688569933,"question_id":76621716,"body_markdown":"I currently make a RestAPI and struggling in multidirections relation.\r\n\r\nUsing\r\n```\r\nJava: 20.0.1\r\nSpring Boot: 3.1.1\r\n\r\n```\r\n\r\nI made the OurUserEntity become primary for the BlackboxEntity and MatingEntity as the foreign.\r\n\r\nBut then I tried to make the BlackboxParamEntity become primary for the BlackboxEntity and MatingEntity as the foreign, and struggled in this error:`Failed to initialize JPA EntityManagerFactory: Could not determine recommended JdbcType for &#39;com.myplace.projectname.entity.BlackboxParamEntity&#39;`\r\n\r\nThis is my **application.yaml**\r\n\r\n```\r\nspring:\r\n  # autoconfigure:\r\n  #   exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n  datasource:\r\n    driver-class-name: org.postgresql.Driver\r\n    url: jdbc:postgresql://localhost:5432/belajar_spring\r\n    username: postgres\r\n    password: postgres\r\n\r\n  jpa:\r\n    show-sql: true\r\n    hibernate:\r\n      ddl-auto: update\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\n        jdbc:\r\n          time_zone: GMT+07:00\r\n    database: postgresql\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n\r\nserver:\r\n  port: 8081\r\n```\r\n\r\n\r\nI Have this 4 example of entity codes:\r\n\r\n**BlackboxEntity.java**\r\n```\r\npackage com.myplace.projectname.entity.blackbox;\r\n\r\nimport java.sql.Date;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\nimport com.myplace.projectname.entity.OurUserEntity;\r\nimport com.myplace.projectname.entity.inAppConfig.BlackboxParamEntity;\r\nimport com.myplace.projectname.entity.side.Status;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EnumType;\r\nimport jakarta.persistence.Enumerated;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.JoinTable;\r\nimport jakarta.persistence.ManyToMany;\r\nimport jakarta.persistence.OneToOne;\r\nimport jakarta.persistence.Table;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity\r\n@Table(name = &quot;blackbox&quot;)\r\n@Data\r\n@NoArgsConstructor\r\npublic class BlackboxEntity {\r\n    @Id\r\n    @Column(name = &quot;blackbox_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private BlackboxParamEntity name;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;status&quot;)\r\n    private Status status = Status.WAITING_ENTRY;\r\n\r\n    @Column(name = &quot;entrydate&quot;)\r\n    private Date entryDate = null;\r\n\r\n    @Column(name = &quot;entryBy&quot;)\r\n    private OurUserEntity entryBy;\r\n\r\n    @Column(name = &quot;revision&quot;)\r\n    private int revision = -1;\r\n\r\n    @Column(name = &quot;malescounted&quot;)\r\n    private int malesCounted = -1;\r\n\r\n    @Column(name = &quot;femalescounted&quot;)\r\n    private int femalesCounted = -1;\r\n\r\n    @Column(name = &quot;blackbox&quot;)\r\n    private int blackbox = -1;\r\n\r\n    @Column(name = &quot;flyadded&quot;)\r\n    private int flyadded = -1;\r\n\r\n    @Column(name = &quot;eggharvested&quot;)\r\n    private int eggharvested = -1;\r\n\r\n    @Column(name = &quot;liveflycount&quot;)\r\n    private int liveflycount = -1;\r\n\r\n    @Column(name = &quot;deadflycount&quot;)\r\n    private int deadflycount = -1;\r\n\r\n    @Column(name = &quot;deadflyweight&quot;)\r\n    private int deadflyweight = -1;\r\n\r\n    @Column(name = &quot;sweight&quot;)\r\n    private int sWeight = -1;\r\n\r\n    @Column(name = &quot;scount&quot;)\r\n    private int sCount = -1;\r\n\r\n    @Column(name = &quot;iweight&quot;)\r\n    private double iWeight = -1;\r\n\r\n    @Column(name = &quot;notes&quot;)\r\n    private String notes = null;\r\n\r\n    @Column(name = &quot;enable&quot;)\r\n    private boolean enable = true;\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;user_blackbox&quot;, joinColumns = @JoinColumn(name = &quot;blackbox_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    private List&lt;OurUserEntity&gt; userEntity = new ArrayList&lt;OurUserEntity&gt;();\r\n\r\n    @JsonIgnore\r\n    @ManyToMany()\r\n    @JoinTable(name = &quot;blackboxparam_blackbox&quot;, joinColumns = @JoinColumn(name = &quot;blackbox_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;blackboxparam_id&quot;))\r\n    private Set&lt;BlackboxParamEntity&gt; blackboxparamentites;\r\n\r\n    public BlackboxEntity(\r\n            BlackboxParamEntity name,\r\n            Status status,\r\n            Date entryDate,\r\n            OurUserEntity entryBy,\r\n            double iWeight,\r\n            String notes,\r\n            boolean enable) {\r\n        this.name = name;\r\n        this.status = status;\r\n        this.entryDate = entryDate;\r\n        this.entryBy = entryBy;\r\n        this.iWeight = iWeight;\r\n        this.notes = notes;\r\n        this.enable = enable;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**BlackboxParamEntity.java**\r\n\r\n```\r\npackage com.myplace.projectname.entity.inAppConfig;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\nimport com.myplace.projectname.entity.eggfly.BlackboxEntity;\r\nimport com.myplace.projectname.entity.mating.MatingEntity;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.ManyToMany;\r\nimport jakarta.persistence.Table;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity\r\n@Table(name = &quot;blackboxparam&quot;)\r\n@Data\r\n@NoArgsConstructor\r\npublic class BlackboxParamEntity {\r\n    @Id\r\n    @Column(name = &quot;blackboxparam_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @Column(name = &quot;blackbox&quot;)\r\n    private int blackbox;\r\n\r\n    @Column(name = &quot;name&quot;, unique = true)\r\n    private String name;\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(mappedBy = &quot;blackboxParamEntites&quot;, fetch = FetchType.EAGER)\r\n    private List&lt;MatingEntity&gt; matingentity = new ArrayList&lt;MatingEntity&gt;();\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(mappedBy = &quot;blackboxParamEntites&quot;, fetch = FetchType.EAGER)\r\n    private Set&lt;BlackboxEntity&gt; blackboxentity;\r\n\r\n    public BlackboxParamEntity(\r\n            int blackbox,\r\n            String name) {\r\n        this.blackbox = blackbox;\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**MatingEntity.java**\r\n\r\n```\r\npackage com.myplace.projectname.entity.mating;\r\n\r\nimport java.sql.Date;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport com.myplace.projectname.entity.OurUserEntity;\r\nimport com.myplace.projectname.entity.inAppConfig.BlackboxParamEntity;\r\nimport com.myplace.projectname.entity.side.Status;\r\nimport com.myplace.projectname.entity.side.Treatment;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EnumType;\r\nimport jakarta.persistence.Enumerated;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.JoinTable;\r\nimport jakarta.persistence.ManyToMany;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.OneToOne;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\npublic class MatingEntity {\r\n    @Id\r\n    @Column(name = &quot;mating_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private BlackboxParamEntity name;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;status&quot;)\r\n    private Status status;\r\n\r\n    @Column(name = &quot;entrydate&quot;)\r\n    private Date entryDate;\r\n\r\n    @Column(name = &quot;entryby&quot;)\r\n    private OurUserEntity entryBy;\r\n\r\n    @Column(name = &quot;revision&quot;)\r\n    private int revision;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;treatment&quot;)\r\n    private Treatment treatment;\r\n\r\n    @Column(name = &quot;blackbox&quot;)\r\n    private int blackbox;\r\n\r\n    @Column(name = &quot;notes&quot;)\r\n    private String notes;\r\n\r\n    @OneToMany(mappedBy = &quot;matingentity&quot;)\r\n    private List&lt;ObservationEntity&gt; observations;\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;user_mating&quot;, joinColumns = @JoinColumn(name = &quot;mating_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    private List&lt;OurUserEntity&gt; userEntity = new ArrayList&lt;OurUserEntity&gt;();\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;blackboxparam_mating&quot;, joinColumns = @JoinColumn(name = &quot;mating_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;blackboxparam_id&quot;))\r\n    private List&lt;BlackboxParamEntity&gt; blackboxParamEntites = new ArrayList&lt;BlackboxParamEntity&gt;();\r\n\r\n    public MatingEntity(\r\n            BlackboxParamEntity name,\r\n            Status status,\r\n            Date entryDate,\r\n            int revision,\r\n            Treatment treatment,\r\n            OurUserEntity entryBy,\r\n            int blackbox,\r\n            String notes) {\r\n\r\n        this.name = name;\r\n        this.status = status;\r\n        this.entryDate = entryDate;\r\n        this.revision = revision;\r\n        this.treatment = treatment;\r\n        this.entryBy = entryBy;\r\n        this.blackbox = blackbox;\r\n        this.notes = notes;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**OurUserEntity.java**\r\n\r\n```\r\npackage com.myplace.projectname.entity;\r\n\r\nimport java.sql.Date;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport com.myplace.projectname.entity.crawlout.CrawloutEntity;\r\nimport com.myplace.projectname.entity.eggfly.BlackboxEntity;\r\nimport com.myplace.projectname.entity.mating.MatingEntity;\r\nimport com.myplace.projectname.entity.prepupae.PrepupaeEntity;\r\nimport com.myplace.projectname.entity.side.Role;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EnumType;\r\nimport jakarta.persistence.Enumerated;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.ManyToMany;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class OurUserEntity implements UserDetails {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    private String name;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;role&quot;)\r\n    private Role role;\r\n\r\n    @Column(name = &quot;expDate&quot;)\r\n    private Date expDate;\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(mappedBy = &quot;userEntity&quot;, fetch = FetchType.EAGER)\r\n    private List&lt;MatingEntity&gt; matingentity = new ArrayList&lt;MatingEntity&gt;();\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(mappedBy = &quot;userEntity&quot;, fetch = FetchType.EAGER)\r\n    private List&lt;BlackboxEntity&gt; blackboxentity = new ArrayList&lt;BlackboxEntity&gt;();\r\n\r\n    public String setPassword(String password) {\r\n        this.password = password;\r\n        return this.password;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return this.password;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        // TODO Auto-generated method stub\r\n        return List.of(new SimpleGrantedAuthority(role.name()));\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        // TODO Auto-generated method stub\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        // TODO Auto-generated method stub\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        // TODO Auto-generated method stub\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        // TODO Auto-generated method stub\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        // TODO Auto-generated method stub\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried anything like to move the BlackboxParamEntity out from the inAppConfig or make the annotations as similar as OurUserEntity, so it can similarly like the OurUserEntity does.","title":"Multiple Entity (Tables) Many to Many relations spring boot","body":"<p>I currently make a RestAPI and struggling in multidirections relation.</p>\n<p>Using</p>\n<pre><code>Java: 20.0.1\nSpring Boot: 3.1.1\n\n</code></pre>\n<p>I made the OurUserEntity become primary for the BlackboxEntity and MatingEntity as the foreign.</p>\n<p>But then I tried to make the BlackboxParamEntity become primary for the BlackboxEntity and MatingEntity as the foreign, and struggled in this error:<code>Failed to initialize JPA EntityManagerFactory: Could not determine recommended JdbcType for 'com.myplace.projectname.entity.BlackboxParamEntity'</code></p>\n<p>This is my <strong>application.yaml</strong></p>\n<pre><code>spring:\n  # autoconfigure:\n  #   exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n  datasource:\n    driver-class-name: org.postgresql.Driver\n    url: jdbc:postgresql://localhost:5432/belajar_spring\n    username: postgres\n    password: postgres\n\n  jpa:\n    show-sql: true\n    hibernate:\n      ddl-auto: update\n    properties:\n      hibernate:\n        format_sql: true\n        jdbc:\n          time_zone: GMT+07:00\n    database: postgresql\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n\nserver:\n  port: 8081\n</code></pre>\n<p>I Have this 4 example of entity codes:</p>\n<p><strong>BlackboxEntity.java</strong></p>\n<pre><code>package com.myplace.projectname.entity.blackbox;\n\nimport java.sql.Date;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Set;\n\nimport com.myplace.projectname.entity.OurUserEntity;\nimport com.myplace.projectname.entity.inAppConfig.BlackboxParamEntity;\nimport com.myplace.projectname.entity.side.Status;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EnumType;\nimport jakarta.persistence.Enumerated;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.JoinTable;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.Table;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Table(name = &quot;blackbox&quot;)\n@Data\n@NoArgsConstructor\npublic class BlackboxEntity {\n    @Id\n    @Column(name = &quot;blackbox_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @Column(name = &quot;name&quot;)\n    private BlackboxParamEntity name;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;status&quot;)\n    private Status status = Status.WAITING_ENTRY;\n\n    @Column(name = &quot;entrydate&quot;)\n    private Date entryDate = null;\n\n    @Column(name = &quot;entryBy&quot;)\n    private OurUserEntity entryBy;\n\n    @Column(name = &quot;revision&quot;)\n    private int revision = -1;\n\n    @Column(name = &quot;malescounted&quot;)\n    private int malesCounted = -1;\n\n    @Column(name = &quot;femalescounted&quot;)\n    private int femalesCounted = -1;\n\n    @Column(name = &quot;blackbox&quot;)\n    private int blackbox = -1;\n\n    @Column(name = &quot;flyadded&quot;)\n    private int flyadded = -1;\n\n    @Column(name = &quot;eggharvested&quot;)\n    private int eggharvested = -1;\n\n    @Column(name = &quot;liveflycount&quot;)\n    private int liveflycount = -1;\n\n    @Column(name = &quot;deadflycount&quot;)\n    private int deadflycount = -1;\n\n    @Column(name = &quot;deadflyweight&quot;)\n    private int deadflyweight = -1;\n\n    @Column(name = &quot;sweight&quot;)\n    private int sWeight = -1;\n\n    @Column(name = &quot;scount&quot;)\n    private int sCount = -1;\n\n    @Column(name = &quot;iweight&quot;)\n    private double iWeight = -1;\n\n    @Column(name = &quot;notes&quot;)\n    private String notes = null;\n\n    @Column(name = &quot;enable&quot;)\n    private boolean enable = true;\n\n    @JsonIgnore\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;user_blackbox&quot;, joinColumns = @JoinColumn(name = &quot;blackbox_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\n    private List&lt;OurUserEntity&gt; userEntity = new ArrayList&lt;OurUserEntity&gt;();\n\n    @JsonIgnore\n    @ManyToMany()\n    @JoinTable(name = &quot;blackboxparam_blackbox&quot;, joinColumns = @JoinColumn(name = &quot;blackbox_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;blackboxparam_id&quot;))\n    private Set&lt;BlackboxParamEntity&gt; blackboxparamentites;\n\n    public BlackboxEntity(\n            BlackboxParamEntity name,\n            Status status,\n            Date entryDate,\n            OurUserEntity entryBy,\n            double iWeight,\n            String notes,\n            boolean enable) {\n        this.name = name;\n        this.status = status;\n        this.entryDate = entryDate;\n        this.entryBy = entryBy;\n        this.iWeight = iWeight;\n        this.notes = notes;\n        this.enable = enable;\n    }\n}\n</code></pre>\n<p><strong>BlackboxParamEntity.java</strong></p>\n<pre><code>package com.myplace.projectname.entity.inAppConfig;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Set;\n\nimport com.myplace.projectname.entity.eggfly.BlackboxEntity;\nimport com.myplace.projectname.entity.mating.MatingEntity;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.Table;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Table(name = &quot;blackboxparam&quot;)\n@Data\n@NoArgsConstructor\npublic class BlackboxParamEntity {\n    @Id\n    @Column(name = &quot;blackboxparam_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @Column(name = &quot;blackbox&quot;)\n    private int blackbox;\n\n    @Column(name = &quot;name&quot;, unique = true)\n    private String name;\n\n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;blackboxParamEntites&quot;, fetch = FetchType.EAGER)\n    private List&lt;MatingEntity&gt; matingentity = new ArrayList&lt;MatingEntity&gt;();\n\n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;blackboxParamEntites&quot;, fetch = FetchType.EAGER)\n    private Set&lt;BlackboxEntity&gt; blackboxentity;\n\n    public BlackboxParamEntity(\n            int blackbox,\n            String name) {\n        this.blackbox = blackbox;\n        this.name = name;\n    }\n}\n</code></pre>\n<p><strong>MatingEntity.java</strong></p>\n<pre><code>package com.myplace.projectname.entity.mating;\n\nimport java.sql.Date;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.myplace.projectname.entity.OurUserEntity;\nimport com.myplace.projectname.entity.inAppConfig.BlackboxParamEntity;\nimport com.myplace.projectname.entity.side.Status;\nimport com.myplace.projectname.entity.side.Treatment;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EnumType;\nimport jakarta.persistence.Enumerated;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.JoinTable;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.OneToOne;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Data\n@NoArgsConstructor\npublic class MatingEntity {\n    @Id\n    @Column(name = &quot;mating_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @Column(name = &quot;name&quot;)\n    private BlackboxParamEntity name;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;status&quot;)\n    private Status status;\n\n    @Column(name = &quot;entrydate&quot;)\n    private Date entryDate;\n\n    @Column(name = &quot;entryby&quot;)\n    private OurUserEntity entryBy;\n\n    @Column(name = &quot;revision&quot;)\n    private int revision;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;treatment&quot;)\n    private Treatment treatment;\n\n    @Column(name = &quot;blackbox&quot;)\n    private int blackbox;\n\n    @Column(name = &quot;notes&quot;)\n    private String notes;\n\n    @OneToMany(mappedBy = &quot;matingentity&quot;)\n    private List&lt;ObservationEntity&gt; observations;\n\n    @JsonIgnore\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;user_mating&quot;, joinColumns = @JoinColumn(name = &quot;mating_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\n    private List&lt;OurUserEntity&gt; userEntity = new ArrayList&lt;OurUserEntity&gt;();\n\n    @JsonIgnore\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;blackboxparam_mating&quot;, joinColumns = @JoinColumn(name = &quot;mating_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;blackboxparam_id&quot;))\n    private List&lt;BlackboxParamEntity&gt; blackboxParamEntites = new ArrayList&lt;BlackboxParamEntity&gt;();\n\n    public MatingEntity(\n            BlackboxParamEntity name,\n            Status status,\n            Date entryDate,\n            int revision,\n            Treatment treatment,\n            OurUserEntity entryBy,\n            int blackbox,\n            String notes) {\n\n        this.name = name;\n        this.status = status;\n        this.entryDate = entryDate;\n        this.revision = revision;\n        this.treatment = treatment;\n        this.entryBy = entryBy;\n        this.blackbox = blackbox;\n        this.notes = notes;\n    }\n}\n\n</code></pre>\n<p><strong>OurUserEntity.java</strong></p>\n<pre><code>package com.myplace.projectname.entity;\n\nimport java.sql.Date;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport com.myplace.projectname.entity.crawlout.CrawloutEntity;\nimport com.myplace.projectname.entity.eggfly.BlackboxEntity;\nimport com.myplace.projectname.entity.mating.MatingEntity;\nimport com.myplace.projectname.entity.prepupae.PrepupaeEntity;\nimport com.myplace.projectname.entity.side.Role;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EnumType;\nimport jakarta.persistence.Enumerated;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Table(name = &quot;users&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class OurUserEntity implements UserDetails {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    private String name;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;role&quot;)\n    private Role role;\n\n    @Column(name = &quot;expDate&quot;)\n    private Date expDate;\n\n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;userEntity&quot;, fetch = FetchType.EAGER)\n    private List&lt;MatingEntity&gt; matingentity = new ArrayList&lt;MatingEntity&gt;();\n\n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;userEntity&quot;, fetch = FetchType.EAGER)\n    private List&lt;BlackboxEntity&gt; blackboxentity = new ArrayList&lt;BlackboxEntity&gt;();\n\n    public String setPassword(String password) {\n        this.password = password;\n        return this.password;\n    }\n\n    public String getPassword() {\n        return this.password;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        // TODO Auto-generated method stub\n        return List.of(new SimpleGrantedAuthority(role.name()));\n    }\n\n    @Override\n    public String getUsername() {\n        // TODO Auto-generated method stub\n        return name;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n}\n</code></pre>\n<p>I tried anything like to move the BlackboxParamEntity out from the inAppConfig or make the annotations as similar as OurUserEntity, so it can similarly like the OurUserEntity does.</p>\n"},{"tags":["java","android","kotlin","android-mediaplayer","audio-player"],"owner":{"account_id":27032814,"reputation":11,"user_id":20588913,"display_name":"NDC00"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692003161,"creation_date":1692003161,"question_id":76897550,"body_markdown":"i want to cut or trim audio with wade form view and save it. But i haven&#39;t found a way to solve this problem yet. Thanks for helping me\r\n\r\ni try library android-audio-visualizer, and ffmpeg to trim audio. but it&#39;s not my expected","title":"Cut or trim audio with wade form view and save it","body":"<p>i want to cut or trim audio with wade form view and save it. But i haven't found a way to solve this problem yet. Thanks for helping me</p>\n<p>i try library android-audio-visualizer, and ffmpeg to trim audio. but it's not my expected</p>\n"},{"tags":["java","reactive-programming","publish-subscribe","project-reactor","reactive-streams"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1595796325,"post_id":63105300,"comment_id":111591203,"body_markdown":"Please edit your question to include a longer example. It looks like it is not just when the sum is equal or above 5, but also the value 5 is subtracted again which reduces the &quot;sum&quot; again, at which point the next sum *might* not reach the limit 5 again. Also what is the logic behind the last entry which has do emitted anyway? Also add what you are trying to do overall, maybe you can solve your problem in a different way (XY problem?).","body":"Please edit your question to include a longer example. It looks like it is not just when the sum is equal or above 5, but also the value 5 is subtracted again which reduces the &quot;sum&quot; again, at which point the next sum <i>might</i> not reach the limit 5 again. Also what is the logic behind the last entry which has do emitted anyway? Also add what you are trying to do overall, maybe you can solve your problem in a different way (XY problem?)."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1595804161,"post_id":63105300,"comment_id":111593134,"body_markdown":"@Progman Edited question.","body":"@Progman Edited question."}],"answers":[{"tags":[],"owner":{"account_id":16676851,"reputation":751,"user_id":12053054,"display_name":"Norbert Dopjera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595798994,"creation_date":1595797880,"answer_id":63105736,"question_id":63105300,"body_markdown":"This is not possible to do directly on `Flux` object, but you might achieve solution if you have access to resource from which the `Flux` object is created. Since inside stream (Flux) you are not able access previous element&#39;s you can create `Flux` over indices to you resource and access this resource (since its read only operation) from that `Flux` of indices directly. For example something like this:\r\n\r\n```\r\nList&lt;Integer&gt; list = List.of(1, 2, 3, 4, 5, 2);\r\nAtomicReference&lt;Integer&gt; atomicSum = new AtomicReference&lt;&gt;(0);\r\nreturn Flux.fromStream(IntStream.range(0, list.size() - 1).boxed())\r\n        .flatMap(i -&gt; {\r\n            int sum = atomicSum.updateAndGet((integer -&gt; integer + list.get(i)));\r\n            if (sum &gt;= 5) {\r\n                atomicSum.updateAndGet(integer -&gt; integer - 5);\r\n                return Flux.just(5);\r\n            }\r\n\r\n            return (i.equals(list.size() -1))\r\n                    ? Flux.just(list.get(i)) // emit last element even if sum was not 5\r\n                    : Flux.empty();\r\n        }); // emitted element&#39;s\r\n```\r\n\r\nNote that this is not good practice to do and i don&#39;t advice such solution. `Flux` objects processing might skip between thread&#39;s, so if you modify object outside of `Flux` you should do it in synchronized way (therefore usage of `AtomicReference`). List is used only for read-only operation&#39;s and therefore it&#39;s OK. Also i don&#39;t know if that part of the code will actually work but i wanted to show you how you might find solution if you have access to resource over which your `Flux` object is created.\r\n\r\nEdit: even such solution would not work. I have mistaken myslef, `Flux` object don&#39;t skip between threads but might be processed by multiple threads leading single atomic reference to invalid state. This cloud still be solved with some synchronizing mechanism like lock&#39;s instead of Atomic reference but is far beyond average developer experience. Are you sure you cannot use `scan()` function since you can provided your own accumulator function as argument? ","title":"How to emit cumulative sum only from a reactive stream?","body":"<p>This is not possible to do directly on <code>Flux</code> object, but you might achieve solution if you have access to resource from which the <code>Flux</code> object is created. Since inside stream (Flux) you are not able access previous element's you can create <code>Flux</code> over indices to you resource and access this resource (since its read only operation) from that <code>Flux</code> of indices directly. For example something like this:</p>\n<pre><code>List&lt;Integer&gt; list = List.of(1, 2, 3, 4, 5, 2);\nAtomicReference&lt;Integer&gt; atomicSum = new AtomicReference&lt;&gt;(0);\nreturn Flux.fromStream(IntStream.range(0, list.size() - 1).boxed())\n        .flatMap(i -&gt; {\n            int sum = atomicSum.updateAndGet((integer -&gt; integer + list.get(i)));\n            if (sum &gt;= 5) {\n                atomicSum.updateAndGet(integer -&gt; integer - 5);\n                return Flux.just(5);\n            }\n\n            return (i.equals(list.size() -1))\n                    ? Flux.just(list.get(i)) // emit last element even if sum was not 5\n                    : Flux.empty();\n        }); // emitted element's\n</code></pre>\n<p>Note that this is not good practice to do and i don't advice such solution. <code>Flux</code> objects processing might skip between thread's, so if you modify object outside of <code>Flux</code> you should do it in synchronized way (therefore usage of <code>AtomicReference</code>). List is used only for read-only operation's and therefore it's OK. Also i don't know if that part of the code will actually work but i wanted to show you how you might find solution if you have access to resource over which your <code>Flux</code> object is created.</p>\n<p>Edit: even such solution would not work. I have mistaken myslef, <code>Flux</code> object don't skip between threads but might be processed by multiple threads leading single atomic reference to invalid state. This cloud still be solved with some synchronizing mechanism like lock's instead of Atomic reference but is far beyond average developer experience. Are you sure you cannot use <code>scan()</code> function since you can provided your own accumulator function as argument?</p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1595837715,"creation_date":1595829938,"answer_id":63109504,"question_id":63105300,"body_markdown":"&gt; In reality, I&#39;m reading data from a network call, and subsequently\r\n&gt; sending them to a downstream consumer who only accepts fixed size\r\n&gt; chunks, except for the last one, of course (upstream completed).\r\n\r\nIt occurred to me that trying to split the response `Flux` myself is probably little late and quite difficult; instead, I could use something like Netty [FixedLengthFrameDecoder](https://netty.io/4.1/api/io/netty/handler/codec/FixedLengthFrameDecoder.html), which does exactly what I&#39;m looking for.\r\n\r\nThat led me to [reactor-netty](https://github.com/reactor/reactor-netty) source code, and after extensive digging, I found exactly what I needed.\r\n\r\n    fun get(url: String, maxChunkSize: Int): List&lt;ByteArray&gt; {\r\n        return HttpClient.create()\r\n            .httpResponseDecoder { it.maxChunkSize(maxChunkSize) }\r\n            .get()\r\n            .uri(url)\r\n            .responseContent()\r\n            .asByteArray()\r\n            .collectList()\r\n            .block()!!\r\n    }\r\n\r\nThe crucial part is `httpResponseDecoder { it.maxChunkSize(maxChunkSize) }`; a unit test proves this to be working:\r\n\r\n    @Test\r\n\r\n    fun testHonorsMaxChunkSize() {\r\n        val maxChunkSize = 4096\r\n        val chunks = FixedLengthResponseFrameClient.get(\r\n            &quot;http://doesnotexist.nowhere/binary&quot;, maxChunkSize\r\n        )\r\n    \r\n        assertThat(chunks.subList(0, chunks.size - 1))\r\n            .allMatch { it.size ==  maxChunkSize}\r\n        assertThat(chunks.last().size).isLessThanOrEqualTo(maxChunkSize)\r\n    }\r\n\r\n`WebClient` can be configured with a custom `HttpClient` (configured with `httpResponseDecoder`) as shown below:\r\n\r\n    WebClient\r\n      .builder()\r\n      .clientConnector(ReactorClientHttpConnector(httpClient))\r\n      .build()\r\n      .get()\r\n      .uri(&quot;uri&quot;)\r\n      .exchange()\r\n      .flatMapMany { it.body(BodyExtractors.toDataBuffers()) }\r\n      ...\r\n\r\nThe size of these buffers would be what&#39;s set in the `HttpClient.httpResponseDecoder` (8192 Kb by default).","title":"How to emit cumulative sum only from a reactive stream?","body":"<blockquote>\n<p>In reality, I'm reading data from a network call, and subsequently\nsending them to a downstream consumer who only accepts fixed size\nchunks, except for the last one, of course (upstream completed).</p>\n</blockquote>\n<p>It occurred to me that trying to split the response <code>Flux</code> myself is probably little late and quite difficult; instead, I could use something like Netty <a href=\"https://netty.io/4.1/api/io/netty/handler/codec/FixedLengthFrameDecoder.html\" rel=\"nofollow noreferrer\">FixedLengthFrameDecoder</a>, which does exactly what I'm looking for.</p>\n<p>That led me to <a href=\"https://github.com/reactor/reactor-netty\" rel=\"nofollow noreferrer\">reactor-netty</a> source code, and after extensive digging, I found exactly what I needed.</p>\n<pre><code>fun get(url: String, maxChunkSize: Int): List&lt;ByteArray&gt; {\n    return HttpClient.create()\n        .httpResponseDecoder { it.maxChunkSize(maxChunkSize) }\n        .get()\n        .uri(url)\n        .responseContent()\n        .asByteArray()\n        .collectList()\n        .block()!!\n}\n</code></pre>\n<p>The crucial part is <code>httpResponseDecoder { it.maxChunkSize(maxChunkSize) }</code>; a unit test proves this to be working:</p>\n<pre><code>@Test\n\nfun testHonorsMaxChunkSize() {\n    val maxChunkSize = 4096\n    val chunks = FixedLengthResponseFrameClient.get(\n        &quot;http://doesnotexist.nowhere/binary&quot;, maxChunkSize\n    )\n\n    assertThat(chunks.subList(0, chunks.size - 1))\n        .allMatch { it.size ==  maxChunkSize}\n    assertThat(chunks.last().size).isLessThanOrEqualTo(maxChunkSize)\n}\n</code></pre>\n<p><code>WebClient</code> can be configured with a custom <code>HttpClient</code> (configured with <code>httpResponseDecoder</code>) as shown below:</p>\n<pre><code>WebClient\n  .builder()\n  .clientConnector(ReactorClientHttpConnector(httpClient))\n  .build()\n  .get()\n  .uri(&quot;uri&quot;)\n  .exchange()\n  .flatMapMany { it.body(BodyExtractors.toDataBuffers()) }\n  ...\n</code></pre>\n<p>The size of these buffers would be what's set in the <code>HttpClient.httpResponseDecoder</code> (8192 Kb by default).</p>\n"},{"tags":[],"owner":{"account_id":3941817,"reputation":1056,"user_id":3255867,"display_name":"Chomeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692003144,"creation_date":1692003144,"answer_id":76897546,"question_id":63105300,"body_markdown":"If you need to keep a running total or otherwise maintain state from which your flux is derived, a way to go about it is to create a new flux that subscribes to the first flux, and maintains the state with the subscription, e.g    \r\n\r\n    Flux&lt;Long&gt; flux = Flux.just(1L, 2L, 3L, 4L, 5L);\r\n\r\n    Sinks.Many&lt;Long&gt; runningTotalSink = Sinks.many().unicast().onBackpressureBuffer();\r\n    Flux&lt;Long&gt; runningTotalFlux = runningTotalSink.asFlux()\r\n            .doOnSubscribe(subscription -&gt; {\r\n                AtomicLong runningTotal = new AtomicLong();\r\n                flux\r\n                        .doOnCancel(subscription::cancel)\r\n                        .doOnError(runningTotalSink::tryEmitError)\r\n                        .doOnComplete(runningTotalSink::tryEmitComplete)\r\n                        .subscribe(i -&gt; {\r\n                            runningTotalSink.tryEmitNext(runningTotal.accumulateAndGet(i, Long::sum));\r\n                        });\r\n            });\r\n\r\n    runningTotalFlux.toStream().forEach(i -&gt; {\r\n        System.out.println(i);\r\n    });","title":"How to emit cumulative sum only from a reactive stream?","body":"<p>If you need to keep a running total or otherwise maintain state from which your flux is derived, a way to go about it is to create a new flux that subscribes to the first flux, and maintains the state with the subscription, e.g</p>\n<pre><code>Flux&lt;Long&gt; flux = Flux.just(1L, 2L, 3L, 4L, 5L);\n\nSinks.Many&lt;Long&gt; runningTotalSink = Sinks.many().unicast().onBackpressureBuffer();\nFlux&lt;Long&gt; runningTotalFlux = runningTotalSink.asFlux()\n        .doOnSubscribe(subscription -&gt; {\n            AtomicLong runningTotal = new AtomicLong();\n            flux\n                    .doOnCancel(subscription::cancel)\n                    .doOnError(runningTotalSink::tryEmitError)\n                    .doOnComplete(runningTotalSink::tryEmitComplete)\n                    .subscribe(i -&gt; {\n                        runningTotalSink.tryEmitNext(runningTotal.accumulateAndGet(i, Long::sum));\n                    });\n        });\n\nrunningTotalFlux.toStream().forEach(i -&gt; {\n    System.out.println(i);\n});\n</code></pre>\n"}],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1023,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63109504,"answer_count":3,"score":0,"last_activity_date":1692003144,"creation_date":1595794849,"question_id":63105300,"body_markdown":"I&#39;ve a use case where the stream should only emit when the cumulative &quot;sum&quot; equals or exceeds a given value, n. Let&#39;s take the example of six integers with n = 5.\r\n\r\n    +---+------+---------+\r\n    | i | Emit |   Sum   |\r\n    +---+------+---------+\r\n    | 1 |    - | 1       |\r\n    | 2 |    - | 3       |\r\n    | 3 |    5 | 1       |\r\n    | 4 |    5 | 0       |\r\n    | 5 |    5 | 0       |\r\n    | 2 |    2 | 0 (end) |\r\n    +---+------+---------+\r\n\r\n\r\nAs you can see, nothing is emitted unless the sum equals or exceeds 5, except for the last element, which is emitted anyway.\r\n\r\nOnce an item is emitted, the sum gets reduced by that value (n). In reality, I&#39;m reading data from a network call, and subsequently sending them to a downstream consumer who only accepts fixed size chunks, except for the last one, of course (upstream completed).\r\n\r\nI&#39;m using project Reactor [Flux](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html) as the `Publisher`; I couldn&#39;t find any method on it that allows me do what is shown above. `scan` comes closest, but it also emits intermediate elements that need to be filtered out.","title":"How to emit cumulative sum only from a reactive stream?","body":"<p>I've a use case where the stream should only emit when the cumulative &quot;sum&quot; equals or exceeds a given value, n. Let's take the example of six integers with n = 5.</p>\n<pre><code>+---+------+---------+\n| i | Emit |   Sum   |\n+---+------+---------+\n| 1 |    - | 1       |\n| 2 |    - | 3       |\n| 3 |    5 | 1       |\n| 4 |    5 | 0       |\n| 5 |    5 | 0       |\n| 2 |    2 | 0 (end) |\n+---+------+---------+\n</code></pre>\n<p>As you can see, nothing is emitted unless the sum equals or exceeds 5, except for the last element, which is emitted anyway.</p>\n<p>Once an item is emitted, the sum gets reduced by that value (n). In reality, I'm reading data from a network call, and subsequently sending them to a downstream consumer who only accepts fixed size chunks, except for the last one, of course (upstream completed).</p>\n<p>I'm using project Reactor <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html\" rel=\"nofollow noreferrer\">Flux</a> as the <code>Publisher</code>; I couldn't find any method on it that allows me do what is shown above. <code>scan</code> comes closest, but it also emits intermediate elements that need to be filtered out.</p>\n"},{"tags":["java","oop","gradle","kotlin","kotlin-interop"],"comments":[{"owner":{"account_id":1691040,"reputation":437,"user_id":1553369,"display_name":"developer"},"score":2,"creation_date":1568620669,"post_id":47117017,"comment_id":102317292,"body_markdown":"Apply the kotlin-android plugin to your library module build.gradle (see the docs):\n\napply plugin: &#39;kotlin-android&#39;","body":"Apply the kotlin-android plugin to your library module build.gradle (see the docs):  apply plugin: &#39;kotlin-android&#39;"}],"answers":[{"tags":[],"owner":{"account_id":5119511,"reputation":954,"user_id":4103578,"display_name":"Xavier Bouclet"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1509845368,"creation_date":1509842428,"answer_id":47117088,"question_id":47117017,"body_markdown":"The demo folder should be under the src/main/kotlin and the example.kt under it.\r\n\r\nSo it should be src/main/kotlin/demo/example.kt\r\n\r\n[edit] It is not required to match directories and packages: source files can be placed arbitrarily in the file system.\r\n\r\n[edit2] I made an example worked :\r\n\r\nJava code\r\n\r\n    package test;\r\n    \r\n    import demo.HelloWorldKt;\r\n    \r\n     public class Test {\r\n        public static void main(String[] args) {\r\n           ExampleKt.bar();\r\n        }\r\n    }\r\n\r\n\r\nKotlin code :\r\n\r\n    package demo\r\n    \r\n    fun bar() {\r\n        println(&quot;yeah&quot;)\r\n    }\r\n\r\n\r\nWhere the kotlin file is helloWrold.kt directly under src/main/kotlin\r\n\r\nThe import of the kotlin file seems missing in your java file.","title":"Calling Kotlin from Java -- error: package demo does not exist","body":"<p>The demo folder should be under the src/main/kotlin and the example.kt under it.</p>\n\n<p>So it should be src/main/kotlin/demo/example.kt</p>\n\n<p>[edit] It is not required to match directories and packages: source files can be placed arbitrarily in the file system.</p>\n\n<p>[edit2] I made an example worked :</p>\n\n<p>Java code</p>\n\n<pre><code>package test;\n\nimport demo.HelloWorldKt;\n\n public class Test {\n    public static void main(String[] args) {\n       ExampleKt.bar();\n    }\n}\n</code></pre>\n\n<p>Kotlin code :</p>\n\n<pre><code>package demo\n\nfun bar() {\n    println(\"yeah\")\n}\n</code></pre>\n\n<p>Where the kotlin file is helloWrold.kt directly under src/main/kotlin</p>\n\n<p>The import of the kotlin file seems missing in your java file.</p>\n"},{"tags":[],"owner":{"account_id":10218032,"reputation":741,"user_id":7543081,"display_name":"m.sajjad.s"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1583785206,"creation_date":1583785206,"answer_id":60607802,"question_id":47117017,"body_markdown":"use this in your build.gradle (module):\r\n\r\n    apply plugin: &#39;kotlin-android&#39;","title":"Calling Kotlin from Java -- error: package demo does not exist","body":"<p>use this in your build.gradle (module):</p>\n\n<pre><code>apply plugin: 'kotlin-android'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14889423,"reputation":85,"user_id":10751598,"display_name":"Stefan Irndorfer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1611698451,"creation_date":1611698451,"answer_id":65909894,"question_id":47117017,"body_markdown":" 1. Make sure you have the Kotlin plugin installed in Android Studio\r\n 2. add Kotlin to the class path in your projects `gradle.build` file:\r\n```\r\n         dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:4.1.2&quot;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.4.21&quot;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-android-extensions:1.4.21&quot;\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n```\r\n 3. apply the kotlin-android plugin on your modlues (app) `gradle.build` like this:\r\n\r\n        plugins {\r\n            id &#39;com.android.application&#39;\r\n            id &#39;kotlin-android&#39;\r\n        }","title":"Calling Kotlin from Java -- error: package demo does not exist","body":"<ol>\n<li>Make sure you have the Kotlin plugin installed in Android Studio</li>\n<li>add Kotlin to the class path in your projects <code>gradle.build</code> file:</li>\n</ol>\n<pre><code>         dependencies {\n            classpath &quot;com.android.tools.build:gradle:4.1.2&quot;\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.4.21&quot;\n            classpath &quot;org.jetbrains.kotlin:kotlin-android-extensions:1.4.21&quot;\n            // NOTE: Do not place your application dependencies here; they belong\n            // in the individual module build.gradle files\n        }\n</code></pre>\n<ol start=\"3\">\n<li><p>apply the kotlin-android plugin on your modlues (app) <code>gradle.build</code> like this:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28219161,"reputation":1,"user_id":21570179,"display_name":"Laxmikant Mahamuni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692002933,"creation_date":1692002933,"answer_id":76897528,"question_id":47117017,"body_markdown":"//app level build.gradle\r\n````plugins {\r\n    id(&quot;com.android.application&quot;)\r\n    id(&quot;org.jetbrains.kotlin.android&quot;) //Added for kotlin\r\n}\r\n\r\n\r\n//project level build.gradle\r\nplugins {\r\n    id(&quot;com.android.application&quot;)\r\n    id(&quot;org.jetbrains.kotlin.android&quot;)\r\n}\r\n````","title":"Calling Kotlin from Java -- error: package demo does not exist","body":"<p>//app level build.gradle</p>\n<pre><code>    id(&quot;com.android.application&quot;)\n    id(&quot;org.jetbrains.kotlin.android&quot;) //Added for kotlin\n}\n\n\n//project level build.gradle\nplugins {\n    id(&quot;com.android.application&quot;)\n    id(&quot;org.jetbrains.kotlin.android&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":96769,"reputation":8248,"user_id":262852,"accept_rate":65,"display_name":"Thufir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8251,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":4,"score":7,"last_activity_date":1692002933,"creation_date":1509841649,"question_id":47117017,"body_markdown":"I don&#39;t understand the [documentation][1]:\r\n\r\n&gt; Package-Level Functions\r\n&gt; \r\n&gt; All the functions and properties declared in a file example.kt inside\r\n&gt; a package org.foo.bar, including extension functions, are compiled\r\n&gt; into static methods of a Java class named org.foo.bar.ExampleKt.\r\n\r\n    // example.kt\r\n    package demo\r\n    \r\n    class Foo\r\n    \r\n    fun bar() {\r\n    }\r\n    \r\n    // Java\r\n    new demo.Foo();\r\n    demo.ExampleKt.bar();\r\n\r\nmy code below.\r\n\r\n\r\ncompile error; build failed:\r\n\r\n    thufir@dur:~/NetBeansProjects/kotlin$ \r\n    thufir@dur:~/NetBeansProjects/kotlin$ gradle compileJava\r\n    \r\n    &gt; Task :compileJava\r\n    /home/thufir/NetBeansProjects/kotlin/src/main/java/net/bounceme/dur/kotlin/App.java:12: error: package demo does not exist\r\n            new demo.Foo();\r\n                    ^\r\n    /home/thufir/NetBeansProjects/kotlin/src/main/java/net/bounceme/dur/kotlin/App.java:13: error: package demo does not exist\r\n            demo.ExampleKt.bar();\r\n                ^\r\n    2 errors\r\n    \r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 0s\r\n    1 actionable task: 1 executed\r\n    thufir@dur:~/NetBeansProjects/kotlin$ \r\n    \r\n\r\njava source:    \r\n    \r\n    package net.bounceme.dur.kotlin;\r\n    \r\n    import java.util.logging.Logger;\r\n    \r\n    public class App {\r\n    \r\n        private static final Logger LOG = Logger.getLogger(App.class.getName());\r\n    \r\n        private void run() {\r\n            LOG.info(&quot;running&quot;);\r\n    \r\n            new demo.Foo();\r\n            demo.ExampleKt.bar();\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new App().run();\r\n        }\r\n    }\r\n    \r\n    \r\nkotlin source:\r\n    \r\n    package demo;\r\n    \r\n    class Foo\r\n    \r\n    fun bar() {\r\n    }\r\n    \r\n\r\nproject:    \r\n     \r\n    thufir@dur:~/NetBeansProjects/kotlin$ \r\n    thufir@dur:~/NetBeansProjects/kotlin$ tree\r\n    .\r\n    ├── build\r\n    │   ├── classes\r\n    │   │   └── java\r\n    │   │       └── main\r\n    │   └── tmp\r\n    │       └── compileJava\r\n    ├── build.gradle\r\n    ├── gradle\r\n    │   └── wrapper\r\n    │       ├── gradle-wrapper.jar\r\n    │       └── gradle-wrapper.properties\r\n    ├── gradlew\r\n    ├── gradlew.bat\r\n    ├── settings.gradle\r\n    └── src\r\n        ├── main\r\n        │   ├── java\r\n        │   │   └── net\r\n        │   │       └── bounceme\r\n        │   │           └── dur\r\n        │   │               └── kotlin\r\n        │   │                   └── App.java\r\n        │   └── kotlin\r\n        │       └── example.kt\r\n        └── test\r\n            └── java\r\n                └── AppTest.java\r\n    \r\n    18 directories, 9 files\r\n    thufir@dur:~/NetBeansProjects/kotlin$ \r\n\r\n\r\n\r\n[1]: https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\r\n","title":"Calling Kotlin from Java -- error: package demo does not exist","body":"<p>I don't understand the <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Package-Level Functions</p>\n  \n  <p>All the functions and properties declared in a file example.kt inside\n  a package org.foo.bar, including extension functions, are compiled\n  into static methods of a Java class named org.foo.bar.ExampleKt.</p>\n</blockquote>\n\n<pre><code>// example.kt\npackage demo\n\nclass Foo\n\nfun bar() {\n}\n\n// Java\nnew demo.Foo();\ndemo.ExampleKt.bar();\n</code></pre>\n\n<p>my code below.</p>\n\n<p>compile error; build failed:</p>\n\n<pre><code>thufir@dur:~/NetBeansProjects/kotlin$ \nthufir@dur:~/NetBeansProjects/kotlin$ gradle compileJava\n\n&gt; Task :compileJava\n/home/thufir/NetBeansProjects/kotlin/src/main/java/net/bounceme/dur/kotlin/App.java:12: error: package demo does not exist\n        new demo.Foo();\n                ^\n/home/thufir/NetBeansProjects/kotlin/src/main/java/net/bounceme/dur/kotlin/App.java:13: error: package demo does not exist\n        demo.ExampleKt.bar();\n            ^\n2 errors\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 0s\n1 actionable task: 1 executed\nthufir@dur:~/NetBeansProjects/kotlin$ \n</code></pre>\n\n<p>java source:    </p>\n\n<pre><code>package net.bounceme.dur.kotlin;\n\nimport java.util.logging.Logger;\n\npublic class App {\n\n    private static final Logger LOG = Logger.getLogger(App.class.getName());\n\n    private void run() {\n        LOG.info(\"running\");\n\n        new demo.Foo();\n        demo.ExampleKt.bar();\n\n    }\n\n    public static void main(String[] args) {\n        new App().run();\n    }\n}\n</code></pre>\n\n<p>kotlin source:</p>\n\n<pre><code>package demo;\n\nclass Foo\n\nfun bar() {\n}\n</code></pre>\n\n<p>project:    </p>\n\n<pre><code>thufir@dur:~/NetBeansProjects/kotlin$ \nthufir@dur:~/NetBeansProjects/kotlin$ tree\n.\n├── build\n│   ├── classes\n│   │   └── java\n│   │       └── main\n│   └── tmp\n│       └── compileJava\n├── build.gradle\n├── gradle\n│   └── wrapper\n│       ├── gradle-wrapper.jar\n│       └── gradle-wrapper.properties\n├── gradlew\n├── gradlew.bat\n├── settings.gradle\n└── src\n    ├── main\n    │   ├── java\n    │   │   └── net\n    │   │       └── bounceme\n    │   │           └── dur\n    │   │               └── kotlin\n    │   │                   └── App.java\n    │   └── kotlin\n    │       └── example.kt\n    └── test\n        └── java\n            └── AppTest.java\n\n18 directories, 9 files\nthufir@dur:~/NetBeansProjects/kotlin$ \n</code></pre>\n"},{"tags":["java","eclipse","console","carriage-return","linefeed"],"comments":[{"owner":{"display_name":"user2030471"},"score":11,"creation_date":1360450973,"post_id":14792478,"comment_id":20714523,"body_markdown":"Seems like an unresolved bug https://bugs.eclipse.org/bugs/show_bug.cgi?id=76936","body":"Seems like an unresolved bug <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=76936\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=76936</a>"},{"owner":{"account_id":189633,"reputation":2129,"user_id":429082,"accept_rate":64,"display_name":"Tustin2121"},"score":2,"creation_date":1360688798,"post_id":14792478,"comment_id":20791490,"body_markdown":"While I can understand the use of this, I ask why you need it to work in Eclipse. It might be inconvenient, but at some point I would imagine that you will just have to test it in a console window, presumably its final execution place anyway. Eclipse is capable of running external programs for testing - I have to do it all the time since my program runs via .bat file. (Sorry I can&#39;t be of more help.:/ )","body":"While I can understand the use of this, I ask why you need it to work in Eclipse. It might be inconvenient, but at some point I would imagine that you will just have to test it in a console window, presumably its final execution place anyway. Eclipse is capable of running external programs for testing - I have to do it all the time since my program runs via .bat file. (Sorry I can&#39;t be of more help.:/ )"}],"answers":[{"tags":[],"owner":{"account_id":536794,"reputation":21199,"user_id":905619,"accept_rate":88,"display_name":"poitroae"},"down_vote_count":2,"up_vote_count":23,"is_accepted":true,"score":21,"last_activity_date":1362781638,"creation_date":1362781638,"answer_id":15304405,"question_id":14792478,"body_markdown":"As Nishant already pointed out in the comments, **[you&#39;ve found a bug][1]** here.\r\n\r\nThis bug initially was reported in 2004 *(&gt;9 years ago!?!!)* and this bug seems **not to be fixed very soon** (or ever). I tested it on several Eclipse version, even on *Eclipse Juno SR2*, and the bug is still there.\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=76936","title":"How to get carriage return without line feed effect in Eclipse console?","body":"<p>As Nishant already pointed out in the comments, <strong><a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=76936\">you've found a bug</a></strong> here.</p>\n\n<p>This bug initially was reported in 2004 <em>(>9 years ago!?!!)</em> and this bug seems <strong>not to be fixed very soon</strong> (or ever). I tested it on several Eclipse version, even on <em>Eclipse Juno SR2</em>, and the bug is still there.</p>\n"},{"tags":[],"owner":{"account_id":2294607,"reputation":3803,"user_id":2016386,"accept_rate":46,"display_name":"das Keks"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1441744594,"creation_date":1441744594,"answer_id":32466805,"question_id":14792478,"body_markdown":"It finally seems to be fixed in Mars!\r\n\r\n    Version: Mars Release (4.5.0)\r\n    Build id: 20150621-1200\r\n    Used Java: jre1.8.0_60\r\n\r\nYour code\r\n\r\n\tpublic class Main {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSystem.out.print(&quot;something\\r&quot;);\r\n\t\t\tSystem.out.print(&quot; any\\r&quot;);\r\n\t\t}\r\n\t}\r\n\r\nOutput\r\n\r\n     anything","title":"How to get carriage return without line feed effect in Eclipse console?","body":"<p>It finally seems to be fixed in Mars!</p>\n\n<pre><code>Version: Mars Release (4.5.0)\nBuild id: 20150621-1200\nUsed Java: jre1.8.0_60\n</code></pre>\n\n<p>Your code</p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        System.out.print(\"something\\r\");\n        System.out.print(\" any\\r\");\n    }\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code> anything\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13546471,"reputation":3498,"user_id":9772691,"display_name":"John McClane"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1590869498,"creation_date":1590869498,"answer_id":62108112,"question_id":14792478,"body_markdown":"The bug is fixed by now (Eclipse 2020-03).\r\nJust go to\r\n\r\n&lt;pre&gt;Window ➺ Preferences ➺ Run/Debug ➺ Console&lt;/pre&gt;\r\n\r\nand make sure that both checkboxes\r\n\r\n&lt;pre&gt;Interpret ASCII control characters&lt;/pre&gt;\r\n\r\nand\r\n\r\n&lt;pre&gt;Interpret Carriage Return (\\r) as control character&lt;/pre&gt;\r\n\r\nare enabled.","title":"How to get carriage return without line feed effect in Eclipse console?","body":"<p>The bug is fixed by now (Eclipse 2020-03).\nJust go to</p>\n\n<pre>Window ➺ Preferences ➺ Run/Debug ➺ Console</pre>\n\n<p>and make sure that both checkboxes</p>\n\n<pre>Interpret ASCII control characters</pre>\n\n<p>and</p>\n\n<pre>Interpret Carriage Return (\\r) as control character</pre>\n\n<p>are enabled.</p>\n"},{"tags":[],"owner":{"account_id":18853986,"reputation":1,"user_id":13752426,"display_name":"Jeff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692002440,"creation_date":1692002440,"answer_id":76897465,"question_id":14792478,"body_markdown":"Move the mouse pointer into the console area,\r\nclick on the right mouse button, a popup menu opens.\r\nClick on &quot;Preferences...&quot; item.\r\nCheck &quot;Interpret Carriage Return (\\r) as control character&quot; box.\r\nClick on &quot;Apply and Close&quot; button.\r\n","title":"How to get carriage return without line feed effect in Eclipse console?","body":"<p>Move the mouse pointer into the console area,\nclick on the right mouse button, a popup menu opens.\nClick on &quot;Preferences...&quot; item.\nCheck &quot;Interpret Carriage Return (\\r) as control character&quot; box.\nClick on &quot;Apply and Close&quot; button.</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16481,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":15304405,"answer_count":4,"score":29,"last_activity_date":1692002440,"creation_date":1360449888,"question_id":14792478,"body_markdown":"If I\r\n\r\n    System.out.print(&quot;something\\r&quot;);\r\n\r\nat console, I have cursor back at the beginning of line, and finally after\r\n\r\n    System.out.print(&quot;something\\r&quot;);\r\n    System.out.print(&quot; any\\r&quot;);\r\n\r\nI have\r\n\r\n     anything\r\n\r\ntyped.\r\n\r\nBut at Eclipse console I get\r\n\r\n    something\r\n     anything\r\n\r\nas if it treated `\\r` as CR/LF.\r\n\r\nHow can I setup this?","title":"How to get carriage return without line feed effect in Eclipse console?","body":"<p>If I</p>\n\n<pre><code>System.out.print(\"something\\r\");\n</code></pre>\n\n<p>at console, I have cursor back at the beginning of line, and finally after</p>\n\n<pre><code>System.out.print(\"something\\r\");\nSystem.out.print(\" any\\r\");\n</code></pre>\n\n<p>I have</p>\n\n<pre><code> anything\n</code></pre>\n\n<p>typed.</p>\n\n<p>But at Eclipse console I get</p>\n\n<pre><code>something\n anything\n</code></pre>\n\n<p>as if it treated <code>\\r</code> as CR/LF.</p>\n\n<p>How can I setup this?</p>\n"},{"tags":["java","spring-boot","elide"],"answers":[{"tags":[],"owner":{"account_id":29026006,"reputation":56,"user_id":22234165,"display_name":"guest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689517292,"creation_date":1689517292,"answer_id":76698747,"question_id":76438697,"body_markdown":"In general a query using sparse fields and compound documents should meet your query requirements.\r\n\r\nFor instance a query to include specific fields of related tables\r\n\r\n`/book?include=authors&amp;fields[book]=title,authors&amp;fields[author]=name`\r\n\r\n","title":"Filtering, sorting multiple tables with Elide.io","body":"<p>In general a query using sparse fields and compound documents should meet your query requirements.</p>\n<p>For instance a query to include specific fields of related tables</p>\n<p><code>/book?include=authors&amp;fields[book]=title,authors&amp;fields[author]=name</code></p>\n"},{"tags":[],"owner":{"account_id":25254519,"reputation":32,"user_id":19086479,"display_name":"Mohamed amine ben hassen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692002362,"creation_date":1692002362,"answer_id":76897456,"question_id":76438697,"body_markdown":"Try implementing Swagger documentation() for Elide endpoints it helps a lot with filtring and sorting .\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.yahoo.elide&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;elide-swagger&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;6.1.4&lt;/version&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\r\nusing the swagger filds will help you avoid syntax error .\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PGleH.png","title":"Filtering, sorting multiple tables with Elide.io","body":"<p>Try implementing Swagger documentation() for Elide endpoints it helps a lot with filtring and sorting .</p>\n<pre><code>    &lt;dependency&gt;\n                &lt;groupId&gt;com.yahoo.elide&lt;/groupId&gt;\n                &lt;artifactId&gt;elide-swagger&lt;/artifactId&gt;\n                &lt;version&gt;6.1.4&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n                &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n                &lt;version&gt;1.7.0&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>using the swagger filds will help you avoid syntax error .</p>\n<p><a href=\"https://i.stack.imgur.com/PGleH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PGleH.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2778706,"reputation":2137,"user_id":2391712,"accept_rate":100,"display_name":"5th"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692002362,"creation_date":1686300739,"question_id":76438697,"body_markdown":"I am using Java (11), Spring Boot (2.7) and [Elide (6.1)][1]. I want to create a GET endpoint (`/table3data`) which combines data from three different tables - `Table1`, `Table2`, `Table3`. I need this endpoint to provide such common Elide API features as filtering, sorting, pagination.\r\n\r\nSpecifically, I need to filter by `table1Id` (one or several comma-separated `table1Id`s) and by `date` (both found in `Table3`) - that could also include filtering by two `date`s. `table1Id` is also `refId` in `Table1`.\r\n\r\nNormally, when fetching data from an endpoint which contains one table data, such as only `Table1` (`/table1`), operations such as filtering and sorting will work fine. \r\n\r\n`Table3` has many-to-one relationships with both `Table1` and `Table2`. `Table1` and `Table2` are not connected with each other.\r\n\r\n```java\r\n@Include\r\n@Entity\r\n@Table(name = &quot;table1&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@SequenceGenerator(name = &quot;seq&quot;, sequenceName = &quot;my_entity&quot;)\r\n@CreatePermission(expression = &quot;deny all&quot;)\r\n@DeletePermission(expression = &quot;deny all&quot;)\r\n@UpdatePermission(expression = &quot;deny all&quot;)\r\npublic class Table1 {\r\n\r\n  @Id\r\n  @GeneratedValue(generator = &quot;seq&quot;)\r\n  private Long id;\r\n  private String type;\r\n  private String status;\r\n  @Column(unique = true)\r\n  private String refId;\r\n\r\n  @OneToMany(mappedBy = &quot;table1&quot;, cascade = CascadeType.ALL)\r\n  private List&lt;Table3&gt; table3 = new ArrayList&lt;&gt;();\r\n}\r\n\r\n```\r\n\r\n```java\r\n@Include\r\n@Entity\r\n@Table(name = &quot;table2&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@SequenceGenerator(name = &quot;seq&quot;, sequenceName = &quot;my_entity&quot;)\r\n@CreatePermission(expression = &quot;deny all&quot;)\r\n@DeletePermission(expression = &quot;deny all&quot;)\r\n@UpdatePermission(expression = &quot;deny all&quot;)\r\npublic class Table2 {\r\n\r\n  @Id\r\n  @GeneratedValue(generator = &quot;seq&quot;)\r\n  private Long id;\r\n  private String name;\r\n  private String reference;\r\n  @Column(unique = true)\r\n  private String refId;\r\n\r\n  @OneToMany(mappedBy = &quot;table2&quot;, cascade = CascadeType.ALL)\r\n  private List&lt;Table3&gt; table3 = new ArrayList&lt;&gt;();\r\n}\r\n\r\n```\r\n\r\n```java\r\n@Include\r\n@Entity\r\n@Table(name = &quot;table3&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@SequenceGenerator(name = &quot;seq&quot;, sequenceName = &quot;my_entity&quot;)\r\n@CreatePermission(expression = &quot;deny all&quot;)\r\n@DeletePermission(expression = &quot;deny all&quot;)\r\n@UpdatePermission(expression = &quot;deny all&quot;)\r\npublic class Table3 {\r\n\r\n  @Id\r\n  @GeneratedValue(generator = &quot;seq&quot;)\r\n  private Long id;\r\n\r\n  @NotNull\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;table1_id&quot;, referencedColumnName = &quot;refId&quot;)\r\n  private Table1 table1;\r\n  private BigDecimal amount;\r\n  private Date date;\r\n\r\n  @NotNull\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;table2_id&quot;, referencedColumnName = &quot;refId&quot;)\r\n  private Table2 table2;\r\n}\r\n```\r\n\r\nI am using Repositories:\r\n```java\r\npublic interface Table1Repository\r\n    extends PagingAndSortingRepository&lt;Table1, Long&gt;, JpaSpecificationExecutor&lt;Table1&gt; {\r\n}\r\n```\r\n\r\n```java\r\npublic interface Table2Repository\r\n    extends PagingAndSortingRepository&lt;Table2, Long&gt;, JpaSpecificationExecutor&lt;Table2&gt; {\r\n}\r\n```\r\n\r\n```java\r\npublic interface Table3Repository\r\n    extends PagingAndSortingRepository&lt;Table3, Long&gt;, JpaSpecificationExecutor&lt;Table3&gt; {\r\n}\r\n```\r\n\r\nSo far I have implemented a `Table3DTO` entity which contains all of the properties from the three tables (`id`, `type`, `status`, `name`, `reference`, `amount`, `date`, `table1Id`, `table2Id`).\r\n\r\nThen I have a `Table3Service` class, which combines the data in the correct way (it has a method `getAllTable3Data()` which returns a `List&lt;Table3DTO&gt;`).\r\n\r\nThen I have a `Table3Response` which is the wrapper for `Table3ResponseData`. `Table3ResponseData` creates the inner structure of the response.\r\n\r\nLastly I have a `Table3Controller`, which has the `/table3data` implemented and returns the `Table3Response`.\r\n\r\nHowever, even though I get the necessary data, I still need to implement filtering, sorting and other operations myself. Usually these would be provided by Elide.\r\nI prefer not to use the current solution, that&#39;s why I am not including the code.\r\n\r\nIs there a better way to implement this with Elide, so that I wouldn&#39;t have to implement these operations myself, as that is not only time-consuming, but also can get error-prone?\r\n\r\n\r\n  [1]: https://elide.io/\r\n\r\n","title":"Filtering, sorting multiple tables with Elide.io","body":"<p>I am using Java (11), Spring Boot (2.7) and <a href=\"https://elide.io/\" rel=\"nofollow noreferrer\">Elide (6.1)</a>. I want to create a GET endpoint (<code>/table3data</code>) which combines data from three different tables - <code>Table1</code>, <code>Table2</code>, <code>Table3</code>. I need this endpoint to provide such common Elide API features as filtering, sorting, pagination.</p>\n<p>Specifically, I need to filter by <code>table1Id</code> (one or several comma-separated <code>table1Id</code>s) and by <code>date</code> (both found in <code>Table3</code>) - that could also include filtering by two <code>date</code>s. <code>table1Id</code> is also <code>refId</code> in <code>Table1</code>.</p>\n<p>Normally, when fetching data from an endpoint which contains one table data, such as only <code>Table1</code> (<code>/table1</code>), operations such as filtering and sorting will work fine.</p>\n<p><code>Table3</code> has many-to-one relationships with both <code>Table1</code> and <code>Table2</code>. <code>Table1</code> and <code>Table2</code> are not connected with each other.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Include\n@Entity\n@Table(name = &quot;table1&quot;)\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@SequenceGenerator(name = &quot;seq&quot;, sequenceName = &quot;my_entity&quot;)\n@CreatePermission(expression = &quot;deny all&quot;)\n@DeletePermission(expression = &quot;deny all&quot;)\n@UpdatePermission(expression = &quot;deny all&quot;)\npublic class Table1 {\n\n  @Id\n  @GeneratedValue(generator = &quot;seq&quot;)\n  private Long id;\n  private String type;\n  private String status;\n  @Column(unique = true)\n  private String refId;\n\n  @OneToMany(mappedBy = &quot;table1&quot;, cascade = CascadeType.ALL)\n  private List&lt;Table3&gt; table3 = new ArrayList&lt;&gt;();\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Include\n@Entity\n@Table(name = &quot;table2&quot;)\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@SequenceGenerator(name = &quot;seq&quot;, sequenceName = &quot;my_entity&quot;)\n@CreatePermission(expression = &quot;deny all&quot;)\n@DeletePermission(expression = &quot;deny all&quot;)\n@UpdatePermission(expression = &quot;deny all&quot;)\npublic class Table2 {\n\n  @Id\n  @GeneratedValue(generator = &quot;seq&quot;)\n  private Long id;\n  private String name;\n  private String reference;\n  @Column(unique = true)\n  private String refId;\n\n  @OneToMany(mappedBy = &quot;table2&quot;, cascade = CascadeType.ALL)\n  private List&lt;Table3&gt; table3 = new ArrayList&lt;&gt;();\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Include\n@Entity\n@Table(name = &quot;table3&quot;)\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@SequenceGenerator(name = &quot;seq&quot;, sequenceName = &quot;my_entity&quot;)\n@CreatePermission(expression = &quot;deny all&quot;)\n@DeletePermission(expression = &quot;deny all&quot;)\n@UpdatePermission(expression = &quot;deny all&quot;)\npublic class Table3 {\n\n  @Id\n  @GeneratedValue(generator = &quot;seq&quot;)\n  private Long id;\n\n  @NotNull\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;table1_id&quot;, referencedColumnName = &quot;refId&quot;)\n  private Table1 table1;\n  private BigDecimal amount;\n  private Date date;\n\n  @NotNull\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;table2_id&quot;, referencedColumnName = &quot;refId&quot;)\n  private Table2 table2;\n}\n</code></pre>\n<p>I am using Repositories:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Table1Repository\n    extends PagingAndSortingRepository&lt;Table1, Long&gt;, JpaSpecificationExecutor&lt;Table1&gt; {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Table2Repository\n    extends PagingAndSortingRepository&lt;Table2, Long&gt;, JpaSpecificationExecutor&lt;Table2&gt; {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Table3Repository\n    extends PagingAndSortingRepository&lt;Table3, Long&gt;, JpaSpecificationExecutor&lt;Table3&gt; {\n}\n</code></pre>\n<p>So far I have implemented a <code>Table3DTO</code> entity which contains all of the properties from the three tables (<code>id</code>, <code>type</code>, <code>status</code>, <code>name</code>, <code>reference</code>, <code>amount</code>, <code>date</code>, <code>table1Id</code>, <code>table2Id</code>).</p>\n<p>Then I have a <code>Table3Service</code> class, which combines the data in the correct way (it has a method <code>getAllTable3Data()</code> which returns a <code>List&lt;Table3DTO&gt;</code>).</p>\n<p>Then I have a <code>Table3Response</code> which is the wrapper for <code>Table3ResponseData</code>. <code>Table3ResponseData</code> creates the inner structure of the response.</p>\n<p>Lastly I have a <code>Table3Controller</code>, which has the <code>/table3data</code> implemented and returns the <code>Table3Response</code>.</p>\n<p>However, even though I get the necessary data, I still need to implement filtering, sorting and other operations myself. Usually these would be provided by Elide.\nI prefer not to use the current solution, that's why I am not including the code.</p>\n<p>Is there a better way to implement this with Elide, so that I wouldn't have to implement these operations myself, as that is not only time-consuming, but also can get error-prone?</p>\n"},{"tags":["java","spring","spring-boot","validation","customvalidator"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1692004427,"post_id":76897446,"comment_id":135562236,"body_markdown":"Remove `jakarta.validation-api` dependency and fix your `spring-boot-starter-validation` dependency. Your current `pom.xml` (at least what you added here) isn&#39;t even a valid one. Finally remove `@Validated` from the controller that is not needed (and was probably added in an attempt to fix it).","body":"Remove <code>jakarta.validation-api</code> dependency and fix your <code>spring-boot-starter-validation</code> dependency. Your current <code>pom.xml</code> (at least what you added here) isn&#39;t even a valid one. Finally remove <code>@Validated</code> from the controller that is not needed (and was probably added in an attempt to fix it)."},{"owner":{"account_id":29221183,"reputation":9,"user_id":22386893,"display_name":"AppleBees"},"score":0,"creation_date":1692031302,"post_id":76897446,"comment_id":135567715,"body_markdown":"@M.Deinum Thanks for your response. If I remove `jakarta.validation-api` how do I import annotations such as `@valid` and `@Constraint` ?","body":"@M.Deinum Thanks for your response. If I remove <code>jakarta.validation-api</code> how do I import annotations such as <code>@valid</code> and <code>@Constraint</code> ?"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1692045828,"post_id":76897446,"comment_id":135570073,"body_markdown":"You seem to be doing the right thing code like. Just replace `jakarta.validation-api` with `org.hibernate:hibernate-validator:6.010.Final` and I think it should work. This is what we use anyway and it does.","body":"You seem to be doing the right thing code like. Just replace <code>jakarta.validation-api</code> with <code>org.hibernate:hibernate-validator:6.010.Final</code> and I think it should work. This is what we use anyway and it does."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692080303,"post_id":76897446,"comment_id":135572885,"body_markdown":"You should have a dependency on `spring-boot-starter-validator`, which is what I also explained you need to fix.","body":"You should have a dependency on <code>spring-boot-starter-validator</code>, which is what I also explained you need to fix."},{"owner":{"account_id":29221183,"reputation":9,"user_id":22386893,"display_name":"AppleBees"},"score":0,"creation_date":1692949628,"post_id":76897446,"comment_id":135696891,"body_markdown":"Adding the dependency `spring-boot-starter-validator` resolved the problem. Thank you.","body":"Adding the dependency <code>spring-boot-starter-validator</code> resolved the problem. Thank you."}],"owner":{"account_id":29221183,"reputation":9,"user_id":22386893,"display_name":"AppleBees"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692002238,"creation_date":1692002238,"question_id":76897446,"body_markdown":"I am creating a custom validator with Spring and Java 17.0.8 to validate names in a `Person` class. However, it is not being called.\r\n\r\nAnnotation:\r\n\r\n```\r\npackage com.example.demo.validation;\r\n\r\nimport jakarta.validation.Constraint;\r\nimport jakarta.validation.Payload;\r\n\r\nimport java.lang.annotation.Documented;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\nimport static java.lang.annotation.ElementType.FIELD;\r\nimport static java.lang.annotation.ElementType.PARAMETER;\r\n\r\n@Target( { FIELD, PARAMETER })\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Constraint(validatedBy = NameValidator.class)\r\npublic @interface NameValidation {\r\npublic String message() default &quot;Invalid Name&quot;;\r\npublic Class\\&lt;?\\&gt;\\[\\] groups() default {};\r\npublic Class\\&lt;? extends Payload\\&gt;\\[\\] payload() default {};\r\n}\r\n```\r\n\r\nValidator class:\r\n\r\n```\r\npackage com.example.demo.validation;\r\n\r\nimport jakarta.validation.ConstraintValidator;\r\nimport jakarta.validation.ConstraintValidatorContext;\r\n\r\npublic class NameValidator implements ConstraintValidator&lt;NameValidation, String&gt; {\r\n    public boolean isValid(String name, ConstraintValidatorContext cxt) {\r\n        // For simplicity of this example, we only check whether the value is null\r\n        return name != null;\r\n    }\r\n}\r\n```\r\n\r\nController class:\r\n\r\n```\r\n\r\npackage com.example.demo.api;\r\n\r\nimport com.example.demo.model.Person;\r\nimport com.example.demo.service.PersonService;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.\\*;\r\nimport org.springframework.web.server.ResponseStatusException;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.UUID;\r\n\r\n@Validated\r\n@RequestMapping(&quot;api/v1/person&quot;)\r\n@RestController\r\npublic class PersonController {\r\nprivate final PersonService service;\r\n\r\n    @Autowired\r\n    public PersonController(PersonService service) {\r\n        this.service = service;\r\n    }\r\n    \r\n    \r\n    @PostMapping\r\n    public void addPerson( @Valid @RequestBody Person person) {\r\n        service.insertPerson(person);\r\n    }\r\n\r\n}\r\n```\r\n\r\nService class:\r\n\r\n```\r\n\r\npackage com.example.demo.service;\r\n\r\nimport com.example.demo.dao.PersonDAO;\r\nimport com.example.demo.model.Person;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.UUID;\r\n\r\n@Service\r\npublic class PersonService {\r\n\r\n    public int insertPerson(Person person) {\r\n        return 0;\r\n    }\r\n\r\n}\r\n```\r\n\r\nPerson class:\r\n\r\n```\r\n\r\npackage com.example.demo.model;\r\n\r\nimport com.example.demo.validation.NameValidation;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\nimport java.util.UUID;\r\n\r\npublic class Person {\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n    \r\n    private final UUID id;\r\n    \r\n    @NameValidation\r\n    private final String name;\r\n    \r\n    \r\n    public Person(@JsonProperty(&quot;id&quot;) UUID id, @JsonProperty(&quot;name&quot;) String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n    \r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n    \r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n}\r\n```\r\n\r\nPom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Spring custom validator not being called","body":"<p>I am creating a custom validator with Spring and Java 17.0.8 to validate names in a <code>Person</code> class. However, it is not being called.</p>\n<p>Annotation:</p>\n<pre><code>package com.example.demo.validation;\n\nimport jakarta.validation.Constraint;\nimport jakarta.validation.Payload;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport static java.lang.annotation.ElementType.FIELD;\nimport static java.lang.annotation.ElementType.PARAMETER;\n\n@Target( { FIELD, PARAMETER })\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Constraint(validatedBy = NameValidator.class)\npublic @interface NameValidation {\npublic String message() default &quot;Invalid Name&quot;;\npublic Class\\&lt;?\\&gt;\\[\\] groups() default {};\npublic Class\\&lt;? extends Payload\\&gt;\\[\\] payload() default {};\n}\n</code></pre>\n<p>Validator class:</p>\n<pre><code>package com.example.demo.validation;\n\nimport jakarta.validation.ConstraintValidator;\nimport jakarta.validation.ConstraintValidatorContext;\n\npublic class NameValidator implements ConstraintValidator&lt;NameValidation, String&gt; {\n    public boolean isValid(String name, ConstraintValidatorContext cxt) {\n        // For simplicity of this example, we only check whether the value is null\n        return name != null;\n    }\n}\n</code></pre>\n<p>Controller class:</p>\n<pre><code>\npackage com.example.demo.api;\n\nimport com.example.demo.model.Person;\nimport com.example.demo.service.PersonService;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.\\*;\nimport org.springframework.web.server.ResponseStatusException;\n\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.UUID;\n\n@Validated\n@RequestMapping(&quot;api/v1/person&quot;)\n@RestController\npublic class PersonController {\nprivate final PersonService service;\n\n    @Autowired\n    public PersonController(PersonService service) {\n        this.service = service;\n    }\n    \n    \n    @PostMapping\n    public void addPerson( @Valid @RequestBody Person person) {\n        service.insertPerson(person);\n    }\n\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>\npackage com.example.demo.service;\n\nimport com.example.demo.dao.PersonDAO;\nimport com.example.demo.model.Person;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.UUID;\n\n@Service\npublic class PersonService {\n\n    public int insertPerson(Person person) {\n        return 0;\n    }\n\n}\n</code></pre>\n<p>Person class:</p>\n<pre><code>\npackage com.example.demo.model;\n\nimport com.example.demo.validation.NameValidation;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\nimport java.util.UUID;\n\npublic class Person {\n\n    @Override\n    public String toString() {\n        return &quot;Person{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                '}';\n    }\n    \n    private final UUID id;\n    \n    @NameValidation\n    private final String name;\n    \n    \n    public Person(@JsonProperty(&quot;id&quot;) UUID id, @JsonProperty(&quot;name&quot;) String name) {\n        this.id = id;\n        this.name = name;\n    }\n    \n    public UUID getId() {\n        return id;\n    }\n    \n    public String getName() {\n        return name;\n    }\n\n}\n</code></pre>\n<p>Pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1621969833,"post_id":67694112,"comment_id":119653682,"body_markdown":"Spring has trouble... what does that mean? Where is the error message? And if that red line is what you mean (which is not Spring - it is a compilation error) then just hover your mouse over it and see what it says","body":"Spring has trouble... what does that mean? Where is the error message? And if that red line is what you mean (which is not Spring - it is a compilation error) then just hover your mouse over it and see what it says"},{"owner":{"account_id":14671497,"reputation":99,"user_id":10595865,"display_name":"Jan Chabik"},"score":0,"creation_date":1621973732,"post_id":67694112,"comment_id":119655186,"body_markdown":"@JAsgarov Added poms and IntelliJ error message. Please let know if I&#39;m lacking some dependencies between modules.","body":"@JAsgarov Added poms and IntelliJ error message. Please let know if I&#39;m lacking some dependencies between modules."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1621974140,"post_id":67694112,"comment_id":119655337,"body_markdown":"you need to define spring only once in `restaurant-management/pom.xml`. Child modules will automatically have access to it. Right now you have 3 different spring dependencies all with different spring container. For further reference: https://www.baeldung.com/spring-boot-multiple-modules","body":"you need to define spring only once in <code>restaurant-management&#47;pom.xml</code>. Child modules will automatically have access to it. Right now you have 3 different spring dependencies all with different spring container. For further reference: <a href=\"https://www.baeldung.com/spring-boot-multiple-modules\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-multiple-modules</a>"},{"owner":{"account_id":14671497,"reputation":99,"user_id":10595865,"display_name":"Jan Chabik"},"score":0,"creation_date":1621975824,"post_id":67694112,"comment_id":119655925,"body_markdown":"@JAsgarov thanks for the advice ! I did so but it didn&#39;t solve my issue with Beans not being available","body":"@JAsgarov thanks for the advice ! I did so but it didn&#39;t solve my issue with Beans not being available"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1622018596,"post_id":67694112,"comment_id":119666252,"body_markdown":"please show your updated `pom.xml`s","body":"please show your updated <code>pom.xml</code>s"}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621970277,"creation_date":1621970277,"answer_id":67694286,"question_id":67694112,"body_markdown":"Actually I see already what the problem is - you have defined several modules but modules dont see classes defined in another module by default. `RestaurantService` is in another module from `Controller`\r\n\r\nYou need to add module as a dependency to the other modules pom. Intellij should suggest you to help with that if you just press &quot;Alt+Enter&quot; over the red line. \r\n\r\nYou might also need to make sure to set up Spring in parent pom to make sure that it spans over all modules.","title":"Autowiring Spring Beans by Interface","body":"<p>Actually I see already what the problem is - you have defined several modules but modules dont see classes defined in another module by default. <code>RestaurantService</code> is in another module from <code>Controller</code></p>\n<p>You need to add module as a dependency to the other modules pom. Intellij should suggest you to help with that if you just press &quot;Alt+Enter&quot; over the red line.</p>\n<p>You might also need to make sure to set up Spring in parent pom to make sure that it spans over all modules.</p>\n"}],"owner":{"account_id":14671497,"reputation":99,"user_id":10595865,"display_name":"Jan Chabik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692001639,"creation_date":1621969489,"question_id":67694112,"body_markdown":"I&#39;m trying to do hexagonal architecture in my Project. \r\nThe module structure looks like this:\r\n\r\n[![My project structure][1]][1]\r\n\r\n\r\n[![IntelliJ error message][2]][2]\r\n\r\nI don&#39;t want domain(core) module to be dependant on other modules. It&#39;s logic should be exposed through api, hence I want other modules/clients, like a rest module, to be dependant on the API module only.\r\n\r\nI want to use RestaurantServiceImpl (from module core) through an interface RestaurantService (from module api). Spring has trouble autowiring a Bean for an interface RestaurantService. Here  is RestaurantServiceImpl which should register correctly as a spring bean:\r\n\r\n    @Service\r\n    public class RestaurantServiceImpl implements RestaurantService {\r\n\r\n        private final RestaurantRepository restaurantRepository;\r\n\r\n        @Autowired\r\n        public RestaurantServiceImpl(RestaurantRepository restaurantRepository) {\r\n            this.restaurantRepository = restaurantRepository;\r\n        }\r\n\r\n        @Override\r\n        public Optional&lt;Restaurant&gt; getById(RestaurantId restaurantId) {\r\n            return restaurantRepository.findById(restaurantId);\r\n        }\r\n    }\r\n\r\nrestaurant-management-api/pom.xml\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;restaurant-management&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.jc&lt;/groupId&gt;\r\n        &lt;version&gt;1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    &lt;artifactId&gt;restaurant-management-api&lt;/artifactId&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.4&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nrestaurant-management-core/pom.xml\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;restaurant-management&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.jc&lt;/groupId&gt;\r\n        &lt;version&gt;1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;restaurant-management-core&lt;/artifactId&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;!--________________________INTERNAL________________________--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;restaurant-management-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n        &lt;!--________________________SPRING________________________--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n       &lt;!--________________________DATABASE________________________--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.4&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nrestaurant-management-rest/pom.xml\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;restaurant-management&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.jc&lt;/groupId&gt;\r\n        &lt;version&gt;1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;restaurant-management-rest&lt;/artifactId&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;!--________________________SPRING________________________--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;restaurant-management-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nrestaurant-management/pom.xml\r\n\r\n    &lt;artifactId&gt;restaurant-management&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1&lt;/version&gt;\r\n    &lt;groupId&gt;com.jc&lt;/groupId&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;restaurant-management-core&lt;/module&gt;\r\n        &lt;module&gt;restaurant-management-api&lt;/module&gt;\r\n        &lt;module&gt;restaurant-management-rest&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xwSHg.png\r\n  [2]: https://i.stack.imgur.com/JC2Z2.png","title":"Autowiring Spring Beans by Interface","body":"<p>I'm trying to do hexagonal architecture in my Project.\nThe module structure looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/xwSHg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xwSHg.png\" alt=\"My project structure\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JC2Z2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JC2Z2.png\" alt=\"IntelliJ error message\" /></a></p>\n<p>I don't want domain(core) module to be dependant on other modules. It's logic should be exposed through api, hence I want other modules/clients, like a rest module, to be dependant on the API module only.</p>\n<p>I want to use RestaurantServiceImpl (from module core) through an interface RestaurantService (from module api). Spring has trouble autowiring a Bean for an interface RestaurantService. Here  is RestaurantServiceImpl which should register correctly as a spring bean:</p>\n<pre><code>@Service\npublic class RestaurantServiceImpl implements RestaurantService {\n\n    private final RestaurantRepository restaurantRepository;\n\n    @Autowired\n    public RestaurantServiceImpl(RestaurantRepository restaurantRepository) {\n        this.restaurantRepository = restaurantRepository;\n    }\n\n    @Override\n    public Optional&lt;Restaurant&gt; getById(RestaurantId restaurantId) {\n        return restaurantRepository.findById(restaurantId);\n    }\n}\n</code></pre>\n<p>restaurant-management-api/pom.xml</p>\n<pre><code>&lt;parent&gt;\n    &lt;artifactId&gt;restaurant-management&lt;/artifactId&gt;\n    &lt;groupId&gt;com.jc&lt;/groupId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n&lt;/parent&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;artifactId&gt;restaurant-management-api&lt;/artifactId&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;5.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;version&gt;5.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;5.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.4&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>restaurant-management-core/pom.xml</p>\n<pre><code>&lt;parent&gt;\n    &lt;artifactId&gt;restaurant-management&lt;/artifactId&gt;\n    &lt;groupId&gt;com.jc&lt;/groupId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n&lt;/parent&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;artifactId&gt;restaurant-management-core&lt;/artifactId&gt;\n&lt;dependencies&gt;\n    &lt;!--________________________INTERNAL________________________--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jc&lt;/groupId&gt;\n        &lt;artifactId&gt;restaurant-management-api&lt;/artifactId&gt;\n        &lt;version&gt;1&lt;/version&gt;\n   &lt;/dependency&gt;\n    &lt;!--________________________SPRING________________________--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;5.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;version&gt;5.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;5.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n   &lt;!--________________________DATABASE________________________--&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.4&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>restaurant-management-rest/pom.xml</p>\n<pre><code>&lt;parent&gt;\n    &lt;artifactId&gt;restaurant-management&lt;/artifactId&gt;\n    &lt;groupId&gt;com.jc&lt;/groupId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n&lt;/parent&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;artifactId&gt;restaurant-management-rest&lt;/artifactId&gt;\n&lt;dependencies&gt;\n    &lt;!--________________________SPRING________________________--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;5.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;version&gt;5.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;5.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;5.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jc&lt;/groupId&gt;\n        &lt;artifactId&gt;restaurant-management-api&lt;/artifactId&gt;\n        &lt;version&gt;1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>restaurant-management/pom.xml</p>\n<pre><code>&lt;artifactId&gt;restaurant-management&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;version&gt;1&lt;/version&gt;\n&lt;groupId&gt;com.jc&lt;/groupId&gt;\n&lt;modules&gt;\n    &lt;module&gt;restaurant-management-core&lt;/module&gt;\n    &lt;module&gt;restaurant-management-api&lt;/module&gt;\n    &lt;module&gt;restaurant-management-rest&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","vue.js","azure-active-directory"],"owner":{"account_id":7459405,"reputation":1115,"user_id":5671480,"accept_rate":67,"display_name":"Sanal S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692000833,"creation_date":1692000833,"question_id":76897313,"body_markdown":"TLDR: I am not familiar with Spring security that much and is finding it difficult to implement refresh token mechanism with Azure AD authentication and springboot.\r\n\r\nOur application is having AzureAD authentication with the default microsoft login page. Backend is in SpringBoot-Java and front end in in VueJS. The JSESSIONID is expiring after the default 30 minutes if there is no api request send to the backend.\r\n\r\nWhen the JSESSIONID expires and a new request is sent, a new JSESSIONID is returned back to the frontend by default. When we try to make a subsequent request, this new JSESSIONID is automatically included in the request, but it fails again. \r\n\r\n&gt; We have decided to send a heartbeat/keepalive request to the server every 10 minutes to overcome this for now.\r\n\r\nBut I would like to know if there is any way we can handle the session/token in the backend and use this token instead of this JSESSIONID which is directly provided by Azure.\r\n\r\nWe have only configured the bare minimum for AzureAD authentication. \r\n\r\nFollowing are the code snippets for any reference.\r\n\r\nSnippet of dependencies related to azure\r\n\r\n \r\n    &lt;spring.boot.version&gt;2.7.0&lt;/spring.boot.version&gt;\r\n\t&lt;spring.framework.bom&gt;5.3.20&lt;/spring.framework.bom&gt;\r\n\t&lt;spring.integration.bom&gt;5.5.12&lt;/spring.integration.bom&gt;\r\n    ...\r\n    ...\r\n    &lt;dependency&gt; \r\n        &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;  \r\n        &lt;artifactId&gt;azure-spring-boot-starter-active-directory&lt;/artifactId&gt;  \r\n        &lt;version&gt;3.9.0&lt;/version&gt; \r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt; \r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt; \r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\r\n        &lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\r\n        &lt;version&gt;5.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nproperties file\r\n\r\n    azure.activedirectory.tenant-id=...\r\n    azure.activedirectory.client-id=...\r\n    azure.activedirectory.client-secret=...\r\n    azure.activedirectory.post-logout-redirect-uri=https://localhost\r\n    azure.activedirectory.redirect-uri-template[0]=https://localhost/login/oauth2/code/\r\n    azure.activedirectory.authorization-clients.graph.scopes=https://graph.microsoft.com/User.Read\r\n\r\nsecurity class\r\n\r\n    import com.azure.spring.aad.webapp.AADWebSecurityConfigurerAdapter;\r\n    import org.springframework.context.annotation.Profile;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n\r\n    @Profile({&quot;one&quot;, &quot;two&quot;})\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class AADSecurityConfig extends AADWebSecurityConfigurerAdapter {\r\n\r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            super.configure(http);\r\n            http.authorizeRequests()\r\n                .antMatchers(&quot;/sample/check&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n            http.csrf().disable();\r\n        }\r\n    }\r\n\r\nAnd if it helps, we are able to fetch the current token using the following code.\r\n\r\n    import org.springframework.security.oauth2.core.oidc.user.OidcUser;\r\n    ...\r\n    ...\r\n    @RequestMapping(value = &quot;/token&quot;)\r\n    public ResponseEntity&lt;String&gt; getToken(@AuthenticationPrincipal OidcUser principal) {\r\n        try {\r\n            return principal.getIdToken().getTokenValue();\r\n        } catch (Exception e) {\r\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Token Not Available&quot;);\r\n        }\r\n    }\r\n\r\n","title":"The JSESSIONID of my AzureAD-SpringBoot application is expiring after the default 30 minutes. How to set up refresh token?","body":"<p>TLDR: I am not familiar with Spring security that much and is finding it difficult to implement refresh token mechanism with Azure AD authentication and springboot.</p>\n<p>Our application is having AzureAD authentication with the default microsoft login page. Backend is in SpringBoot-Java and front end in in VueJS. The JSESSIONID is expiring after the default 30 minutes if there is no api request send to the backend.</p>\n<p>When the JSESSIONID expires and a new request is sent, a new JSESSIONID is returned back to the frontend by default. When we try to make a subsequent request, this new JSESSIONID is automatically included in the request, but it fails again.</p>\n<blockquote>\n<p>We have decided to send a heartbeat/keepalive request to the server every 10 minutes to overcome this for now.</p>\n</blockquote>\n<p>But I would like to know if there is any way we can handle the session/token in the backend and use this token instead of this JSESSIONID which is directly provided by Azure.</p>\n<p>We have only configured the bare minimum for AzureAD authentication.</p>\n<p>Following are the code snippets for any reference.</p>\n<p>Snippet of dependencies related to azure</p>\n<pre><code>&lt;spring.boot.version&gt;2.7.0&lt;/spring.boot.version&gt;\n&lt;spring.framework.bom&gt;5.3.20&lt;/spring.framework.bom&gt;\n&lt;spring.integration.bom&gt;5.5.12&lt;/spring.integration.bom&gt;\n...\n...\n&lt;dependency&gt; \n    &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;  \n    &lt;artifactId&gt;azure-spring-boot-starter-active-directory&lt;/artifactId&gt;  \n    &lt;version&gt;3.9.0&lt;/version&gt; \n&lt;/dependency&gt;\n&lt;dependency&gt; \n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt; \n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\n    &lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\n    &lt;version&gt;5.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>properties file</p>\n<pre><code>azure.activedirectory.tenant-id=...\nazure.activedirectory.client-id=...\nazure.activedirectory.client-secret=...\nazure.activedirectory.post-logout-redirect-uri=https://localhost\nazure.activedirectory.redirect-uri-template[0]=https://localhost/login/oauth2/code/\nazure.activedirectory.authorization-clients.graph.scopes=https://graph.microsoft.com/User.Read\n</code></pre>\n<p>security class</p>\n<pre><code>import com.azure.spring.aad.webapp.AADWebSecurityConfigurerAdapter;\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\n\n@Profile({&quot;one&quot;, &quot;two&quot;})\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class AADSecurityConfig extends AADWebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http.authorizeRequests()\n            .antMatchers(&quot;/sample/check&quot;).permitAll()\n            .anyRequest().authenticated();\n\n        http.csrf().disable();\n    }\n}\n</code></pre>\n<p>And if it helps, we are able to fetch the current token using the following code.</p>\n<pre><code>import org.springframework.security.oauth2.core.oidc.user.OidcUser;\n...\n...\n@RequestMapping(value = &quot;/token&quot;)\npublic ResponseEntity&lt;String&gt; getToken(@AuthenticationPrincipal OidcUser principal) {\n    try {\n        return principal.getIdToken().getTokenValue();\n    } catch (Exception e) {\n        throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Token Not Available&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1692001528,"post_id":76897174,"comment_id":135561683,"body_markdown":"Better dupe target: https://stackoverflow.com/questions/1801718/why-can-outer-java-classes-access-inner-class-private-members","body":"Better dupe target: <a href=\"https://stackoverflow.com/questions/1801718/why-can-outer-java-classes-access-inner-class-private-members\" title=\"why can outer java classes access inner class private members\">stackoverflow.com/questions/1801718/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691999635,"creation_date":1691999635,"answer_id":76897197,"question_id":76897174,"body_markdown":"An instance of a class can access private fields of its own type because Java&#39;s visibility rules allow nested classes to access private members of their enclosing class. In your example, `PokedexViewHolder` is an inner static class of `PokedexAdapter`, so it can access the private fields of `PokedexAdapter`. This encapsulation enables internal components to work together effectively within the same class.","title":"Why can an instance of a class access private fields of its own inner class?","body":"<p>An instance of a class can access private fields of its own type because Java's visibility rules allow nested classes to access private members of their enclosing class. In your example, <code>PokedexViewHolder</code> is an inner static class of <code>PokedexAdapter</code>, so it can access the private fields of <code>PokedexAdapter</code>. This encapsulation enables internal components to work together effectively within the same class.</p>\n"}],"owner":{"account_id":18770327,"reputation":13,"user_id":13687288,"display_name":"Đạt Phạm Nguyễn Ngọc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692001496,"accepted_answer_id":76897197,"answer_count":1,"score":0,"last_activity_date":1692000812,"creation_date":1691999409,"question_id":76897174,"body_markdown":"An instance of a class, in Java, can access private fields of its own inner class, as the last line of code does, `holder.textView` , in the following listing:\r\n\r\n \r\n\r\n       public class PokedexAdapter extends RecyclerView.Adapter&lt;PokedexAdapter.PokedexViewHolder&gt; {\r\n           public static class PokedexViewHolder extends RecyclerView.ViewHolder {\r\n               private LinearLayout containerView;\r\n               private TextView textView;\r\n\r\n               PokedexViewHolder(View view) {      \r\n                   super(view);\r\n                   containerView = view.findViewById(R.id.pokedex_row);\r\n                   textView = view.findViewById(R.id.pokedex_row_text_view);\r\n               }\r\n           }\r\n\r\n           private List&lt;Pokemon&gt; pokemon = Arrays.asList(\r\n                   new Pokemon(&quot;Bulbasaur&quot;, 1),\r\n                   new Pokemon(&quot;Ivysaur&quot;, 2),\r\n                   new Pokemon(&quot;Venusaur&quot;, 3)\r\n           );\r\n\r\n           @Override\r\n           public void onBindViewHolder(@NonNull PokedexViewHolder holder, int position) {\r\n                Pokemon current = pokemon.get(position);\r\n                holder.textView.setText(current.getName());\r\n           }\r\n       }","title":"Why can an instance of a class access private fields of its own inner class?","body":"<p>An instance of a class, in Java, can access private fields of its own inner class, as the last line of code does, <code>holder.textView</code> , in the following listing:</p>\n<pre><code>   public class PokedexAdapter extends RecyclerView.Adapter&lt;PokedexAdapter.PokedexViewHolder&gt; {\n       public static class PokedexViewHolder extends RecyclerView.ViewHolder {\n           private LinearLayout containerView;\n           private TextView textView;\n\n           PokedexViewHolder(View view) {      \n               super(view);\n               containerView = view.findViewById(R.id.pokedex_row);\n               textView = view.findViewById(R.id.pokedex_row_text_view);\n           }\n       }\n\n       private List&lt;Pokemon&gt; pokemon = Arrays.asList(\n               new Pokemon(&quot;Bulbasaur&quot;, 1),\n               new Pokemon(&quot;Ivysaur&quot;, 2),\n               new Pokemon(&quot;Venusaur&quot;, 3)\n       );\n\n       @Override\n       public void onBindViewHolder(@NonNull PokedexViewHolder holder, int position) {\n            Pokemon current = pokemon.get(position);\n            holder.textView.setText(current.getName());\n       }\n   }\n</code></pre>\n"},{"tags":["java","spring-boot","factory-pattern"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1612813330,"creation_date":1612781940,"answer_id":66100299,"question_id":66099924,"body_markdown":"Based on my understanding your Factory needs to return based on a specific type.\r\n\r\nRough Code to give you an idea:\r\n\r\nThe ValidatorFactory is going to filter from its list of Validators, based on whether they support a given Object or not.\r\n\r\nKeep in mind if &gt;1 Validator that supports a given Type, then your filter will return 2 or more.  You will only return findFirst().\r\n\r\n\r\nOption 1:\r\n\r\n\r\n    Public class ValidatorFactory {\r\n    \r\n        validators.stream().filter(v -&gt; v.supports(object.getClass()).findFirst();\r\n    \r\n    \r\n    }\r\n\r\n    public class DocumentValidator{\r\n    \r\n      public boolean supports(Class clazz){\r\n    \r\n       return true;\r\n       }\r\n    }\r\n\r\nOption 2:\r\n\r\n    public class ValidatorFactory{\r\n      \r\n       private Map&lt;Class, Validator&gt; validatorAssociations = new HashMap&lt;&gt;();\r\n    \r\n    \r\n       public Validator getValidator(Object object){\r\n     \r\n          return validatorAssociations.get(object.class);\r\n       }\r\n      \r\n    }\r\n\r\n\r\nYou will need some sort of mapping, whether it is the responsibility of the ValidatorFactory (Which is generally the case for the FactoryPattern), or you push the responsibility down to the validator to know its own capabilities.  Up to you.","title":"Designing a sophisticated validation framework: Find correct validator from factory","body":"<p>Based on my understanding your Factory needs to return based on a specific type.</p>\n<p>Rough Code to give you an idea:</p>\n<p>The ValidatorFactory is going to filter from its list of Validators, based on whether they support a given Object or not.</p>\n<p>Keep in mind if &gt;1 Validator that supports a given Type, then your filter will return 2 or more.  You will only return findFirst().</p>\n<p>Option 1:</p>\n<pre><code>Public class ValidatorFactory {\n\n    validators.stream().filter(v -&gt; v.supports(object.getClass()).findFirst();\n\n\n}\n\npublic class DocumentValidator{\n\n  public boolean supports(Class clazz){\n\n   return true;\n   }\n}\n</code></pre>\n<p>Option 2:</p>\n<pre><code>public class ValidatorFactory{\n  \n   private Map&lt;Class, Validator&gt; validatorAssociations = new HashMap&lt;&gt;();\n\n\n   public Validator getValidator(Object object){\n \n      return validatorAssociations.get(object.class);\n   }\n  \n}\n</code></pre>\n<p>You will need some sort of mapping, whether it is the responsibility of the ValidatorFactory (Which is generally the case for the FactoryPattern), or you push the responsibility down to the validator to know its own capabilities.  Up to you.</p>\n"}],"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66100299,"answer_count":1,"score":0,"last_activity_date":1692000335,"creation_date":1612780496,"question_id":66099924,"body_markdown":"I am designing a validation framework that will handle many different types of validations based on the object that I pass to my Validator class. Below is the Factory pattern based iplementation of the same.\r\n\r\n**Validator.java**\r\n```\r\n\r\n/**\r\n * Validator interface\r\n *\r\n * @param &lt;T&gt; generic type\r\n * @param &lt;M&gt; generic type\r\n *\r\n */\r\n@FunctionalInterface\r\npublic interface Validator&lt;T, M extends Serializable&gt; {\r\n\t/**\r\n\t * Validates target object\r\n\t *\r\n\t * @param object target object\r\n\t * @return map of errors (empty if valid)\r\n\t */\r\n\tMap&lt;String, M&gt; validate(T object);\r\n\r\n\t/**\r\n\t * Validates target object and throws exception in case\r\n\t * if list of errors is not empty\r\n\t *\r\n\t * @param object target object\r\n\t * @throws ValidationException if any validation errors exist\r\n\t */\r\n\tdefault void validateAndThrow(T object) throws ValidationException {\r\n\t\tMap&lt;String, M&gt; errors = validate(object);\r\n\t\tif (!errors.isEmpty()) {\r\n\t\t\tthrow new ValidationException(errors);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Allows to configure validator if necessary\r\n\t *\r\n\t * @param visitor Validator visitor\r\n\t */\r\n\tdefault void configure(ValidatorVisitor visitor) {\r\n\t\tvisitor.visit(this);\r\n\t}\r\n\r\n\t/**\r\n\t * Validator visitor functional interface\r\n\t */\r\n\t@FunctionalInterface\r\n\tinterface ValidatorVisitor {\r\n\r\n\t\t/**\r\n\t\t * Action to be performed on a validator\r\n\t\t *\r\n\t\t * @param validator target validator\r\n\t\t */\r\n\t\tvoid visit(Validator validator);\r\n\t}\r\n}\r\n```\r\n**ValidatorFactory.java**\r\n```\r\n\r\n\r\n/**\r\n * Implementation of validation factory\r\n *\r\n * Created by Saransh Bansal on 15/05/2020\r\n */\r\n@Component\r\npublic class ValidatorFactory {\r\n\r\n\t@Autowired\r\n\tList&lt;Validator&gt; validators;\r\n\r\n\t/**\r\n\t * Returns specific validator based on object&#39;s class.\r\n\t *\r\n\t * @param object target object\r\n\t * @return instance of {@link Validator}\r\n\t */\r\n\tpublic Validator getValidatorForObject(Object object) {\r\n\t\treturn validators.stream()\r\n\t\t\t\t.filter(v -&gt; {\r\n\t\t\t\t\tSystem.out.println(&quot;.....&quot; + v.getClass());\r\n\t\t\t\t\t// return v.getClass().isAssignableFrom(object.getClass()); - ???\r\n\t\t\t\t})\r\n\t\t\t\t.findFirst()\r\n\t\t\t\t.orElseThrow(() -&gt; new GenericRuntimeException(ERROR_TYPE_VALIDATOR_NOT_FOUND.getText(\r\n\t\t\t\t\t\tobject == null ? &quot;null&quot; : object.getClass())));\r\n\t}\r\n}\r\n```\r\n\r\n**Custom validators - DocumentValidator.java**\r\n```\r\n\r\n/**\r\n * Document upload Request validator\r\n *\r\n */\r\n@Component\r\npublic class DocumentValidator implements Validator&lt;DocumentDto, Serializable&gt; {\r\n\tprivate static final long DEFAULT_MAX_FILE_SIZE = 5 * 1024L * 1024;\r\n\r\n\t@Value(&quot;${aap.apricot.document.allowedContentTypes:}#{T(java.util.Collections).emptyList()}&quot;)\r\n\tprivate List&lt;String&gt; allowedContentTypes;\r\n\r\n\t@Value(&quot;${aap.apricot.document.allowedFileNames:}#{T(java.util.Collections).emptyList()}&quot;)\r\n\tprivate List&lt;String&gt; allowedFileNames;\r\n\r\n\t@Value(&quot;${aap.apricot.document.max.size:&quot; + DEFAULT_MAX_FILE_SIZE + &quot;}&quot;)\r\n\tprivate long maxFileSize;\r\n\r\n\t@Override\r\n\tpublic Map&lt;String, Serializable&gt; validate(DocumentDto documentData) {\r\n\t\tnotNull(documentData, ERROR_MSG_DOCUMENT_MISSED.getText());\r\n\r\n\t\tMap&lt;String, Serializable&gt; errors = new HashMap&lt;&gt;();\r\n\r\n\t\tif (isNull(documentData.getFile())) {\r\n\t\t\terrors.put(FIELD_DOCUMENT_FILE.getText(), ERROR_MSG_DOCUMENT_FILE_MISSED.getText());\r\n\t\t} else {\r\n\t\t\tString contentType = documentData.getFile().getContentType();\r\n\t\t\tString fileName = documentData.getFile().getOriginalFilename();\r\n\r\n\t\t\tif (isNull(documentData.getBusinessDate())) {\r\n\t\t\t\terrors.put(FIELD_DOCUMENT_FILE.getText(), buildMessage(ERROR_MSG_DOCUMENT_BUSINESS_DATE_MISSED.getText()));\r\n\t\t\t}\r\n\t\t\tif (documentData.getFile().getSize() &gt; maxFileSize) {\r\n\t\t\t\terrors.put(FIELD_DOCUMENT_FILE.getText(), buildMessage(ERROR_MSG_DOCUMENT_FILE_SIZE_EXCEEDED.getText(), maxFileSize));\r\n\t\t\t}\r\n\t\t\tif (!isEmpty(allowedContentTypes) &amp;&amp; contentType != null &amp;&amp;\r\n\t\t\t\t\tallowedContentTypes.stream().noneMatch(contentType::equalsIgnoreCase)) {\r\n\t\t\t\terrors.put(FIELD_DOCUMENT_FILE.getText(), buildMessage(ERROR_MSG_DOCUMENT_RESTRICTED_CONTENT_TYPE.getText(), contentType));\r\n\t\t\t}\r\n\t\t\tif (!isEmpty(allowedFileNames) &amp;&amp; fileName != null &amp;&amp;\r\n\t\t\t\t\t\tallowedFileNames.stream().noneMatch(fileName::startsWith)) {\r\n\t\t\t\terrors.put(FIELD_DOCUMENT_FILE.getText(), buildMessage(ERROR_MSG_DOCUMENT_RESTRICTED_FILE_NAME.getText(), fileName));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn errors;\r\n\t}\r\n}\r\n```\r\n\r\nI cannot seem to figure out how to correctly return a validator from my Factory class. (See the code commented with `???` in ValidatorFactory.java)\r\n\r\nCan anyone help with the same.\r\n","title":"Designing a sophisticated validation framework: Find correct validator from factory","body":"<p>I am designing a validation framework that will handle many different types of validations based on the object that I pass to my Validator class. Below is the Factory pattern based iplementation of the same.</p>\n<p><strong>Validator.java</strong></p>\n<pre><code>\n/**\n * Validator interface\n *\n * @param &lt;T&gt; generic type\n * @param &lt;M&gt; generic type\n *\n */\n@FunctionalInterface\npublic interface Validator&lt;T, M extends Serializable&gt; {\n    /**\n     * Validates target object\n     *\n     * @param object target object\n     * @return map of errors (empty if valid)\n     */\n    Map&lt;String, M&gt; validate(T object);\n\n    /**\n     * Validates target object and throws exception in case\n     * if list of errors is not empty\n     *\n     * @param object target object\n     * @throws ValidationException if any validation errors exist\n     */\n    default void validateAndThrow(T object) throws ValidationException {\n        Map&lt;String, M&gt; errors = validate(object);\n        if (!errors.isEmpty()) {\n            throw new ValidationException(errors);\n        }\n    }\n\n    /**\n     * Allows to configure validator if necessary\n     *\n     * @param visitor Validator visitor\n     */\n    default void configure(ValidatorVisitor visitor) {\n        visitor.visit(this);\n    }\n\n    /**\n     * Validator visitor functional interface\n     */\n    @FunctionalInterface\n    interface ValidatorVisitor {\n\n        /**\n         * Action to be performed on a validator\n         *\n         * @param validator target validator\n         */\n        void visit(Validator validator);\n    }\n}\n</code></pre>\n<p><strong>ValidatorFactory.java</strong></p>\n<pre><code>\n\n/**\n * Implementation of validation factory\n *\n * Created by Saransh Bansal on 15/05/2020\n */\n@Component\npublic class ValidatorFactory {\n\n    @Autowired\n    List&lt;Validator&gt; validators;\n\n    /**\n     * Returns specific validator based on object's class.\n     *\n     * @param object target object\n     * @return instance of {@link Validator}\n     */\n    public Validator getValidatorForObject(Object object) {\n        return validators.stream()\n                .filter(v -&gt; {\n                    System.out.println(&quot;.....&quot; + v.getClass());\n                    // return v.getClass().isAssignableFrom(object.getClass()); - ???\n                })\n                .findFirst()\n                .orElseThrow(() -&gt; new GenericRuntimeException(ERROR_TYPE_VALIDATOR_NOT_FOUND.getText(\n                        object == null ? &quot;null&quot; : object.getClass())));\n    }\n}\n</code></pre>\n<p><strong>Custom validators - DocumentValidator.java</strong></p>\n<pre><code>\n/**\n * Document upload Request validator\n *\n */\n@Component\npublic class DocumentValidator implements Validator&lt;DocumentDto, Serializable&gt; {\n    private static final long DEFAULT_MAX_FILE_SIZE = 5 * 1024L * 1024;\n\n    @Value(&quot;${aap.apricot.document.allowedContentTypes:}#{T(java.util.Collections).emptyList()}&quot;)\n    private List&lt;String&gt; allowedContentTypes;\n\n    @Value(&quot;${aap.apricot.document.allowedFileNames:}#{T(java.util.Collections).emptyList()}&quot;)\n    private List&lt;String&gt; allowedFileNames;\n\n    @Value(&quot;${aap.apricot.document.max.size:&quot; + DEFAULT_MAX_FILE_SIZE + &quot;}&quot;)\n    private long maxFileSize;\n\n    @Override\n    public Map&lt;String, Serializable&gt; validate(DocumentDto documentData) {\n        notNull(documentData, ERROR_MSG_DOCUMENT_MISSED.getText());\n\n        Map&lt;String, Serializable&gt; errors = new HashMap&lt;&gt;();\n\n        if (isNull(documentData.getFile())) {\n            errors.put(FIELD_DOCUMENT_FILE.getText(), ERROR_MSG_DOCUMENT_FILE_MISSED.getText());\n        } else {\n            String contentType = documentData.getFile().getContentType();\n            String fileName = documentData.getFile().getOriginalFilename();\n\n            if (isNull(documentData.getBusinessDate())) {\n                errors.put(FIELD_DOCUMENT_FILE.getText(), buildMessage(ERROR_MSG_DOCUMENT_BUSINESS_DATE_MISSED.getText()));\n            }\n            if (documentData.getFile().getSize() &gt; maxFileSize) {\n                errors.put(FIELD_DOCUMENT_FILE.getText(), buildMessage(ERROR_MSG_DOCUMENT_FILE_SIZE_EXCEEDED.getText(), maxFileSize));\n            }\n            if (!isEmpty(allowedContentTypes) &amp;&amp; contentType != null &amp;&amp;\n                    allowedContentTypes.stream().noneMatch(contentType::equalsIgnoreCase)) {\n                errors.put(FIELD_DOCUMENT_FILE.getText(), buildMessage(ERROR_MSG_DOCUMENT_RESTRICTED_CONTENT_TYPE.getText(), contentType));\n            }\n            if (!isEmpty(allowedFileNames) &amp;&amp; fileName != null &amp;&amp;\n                        allowedFileNames.stream().noneMatch(fileName::startsWith)) {\n                errors.put(FIELD_DOCUMENT_FILE.getText(), buildMessage(ERROR_MSG_DOCUMENT_RESTRICTED_FILE_NAME.getText(), fileName));\n            }\n        }\n        return errors;\n    }\n}\n</code></pre>\n<p>I cannot seem to figure out how to correctly return a validator from my Factory class. (See the code commented with <code>???</code> in ValidatorFactory.java)</p>\n<p>Can anyone help with the same.</p>\n"},{"tags":["java","intellij-idea","gradle","build.gradle"],"comments":[{"owner":{"account_id":1245628,"reputation":150,"user_id":1207155,"accept_rate":100,"display_name":"RobbingDaHood"},"score":0,"creation_date":1643049474,"post_id":35478176,"comment_id":125231874,"body_markdown":"Here is an answer using maven: https://stackoverflow.com/questions/5162009/building-artifacts-for-multiple-java-architectures-using-maven-anything-better","body":"Here is an answer using maven: <a href=\"https://stackoverflow.com/questions/5162009/building-artifacts-for-multiple-java-architectures-using-maven-anything-better\" title=\"building artifacts for multiple java architectures using maven anything better\">stackoverflow.com/questions/5162009/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4164052,"reputation":1648,"user_id":3424487,"accept_rate":77,"display_name":"Michael Hobbs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455816775,"creation_date":1455816775,"answer_id":35488482,"question_id":35478176,"body_markdown":"The answer is yes but you will have to use the new Gradle software model which is very much incubating. It will be a road full of pain as you will be a trail blazer as I have learned using it for a C/Cpp project. Here is generally how your build will look like.\r\n\r\n    plugins {\r\n        id &#39;jvm-component&#39;\r\n        id &#39;java-lang&#39;\r\n    }\r\n\r\n    model {\r\n      buildTypes {\r\n        debug\r\n        release\r\n      }\r\n      flavors {\r\n        free\r\n        paid\r\n      }\r\n        components {\r\n            server(JvmLibrarySpec) {\r\n                sources {\r\n                    java {\r\n                      if (flavor == flavors.paid) {\r\n                        // do something to your sources\r\n                      }\r\n                      if (builtType == buildTypes.debug) {\r\n                        // do something for debuging\r\n                      }\r\n                        dependencies {\r\n                            library &#39;core&#39;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            core(JvmLibrarySpec) {\r\n                dependencies {\r\n                    library &#39;commons&#39;\r\n                }\r\n            }\r\n\r\n            commons(JvmLibrarySpec) {\r\n                api {\r\n                    dependencies {\r\n                        library &#39;collections&#39;\r\n                    }\r\n                }\r\n            }\r\n\r\n            collections(JvmLibrarySpec)\r\n        }\r\n    }\r\n\r\nReference: https://docs.gradle.org/current/userguide/java_software.html","title":"Build variants (product flavours) in IntelliJ Java application","body":"<p>The answer is yes but you will have to use the new Gradle software model which is very much incubating. It will be a road full of pain as you will be a trail blazer as I have learned using it for a C/Cpp project. Here is generally how your build will look like.</p>\n\n<pre><code>plugins {\n    id 'jvm-component'\n    id 'java-lang'\n}\n\nmodel {\n  buildTypes {\n    debug\n    release\n  }\n  flavors {\n    free\n    paid\n  }\n    components {\n        server(JvmLibrarySpec) {\n            sources {\n                java {\n                  if (flavor == flavors.paid) {\n                    // do something to your sources\n                  }\n                  if (builtType == buildTypes.debug) {\n                    // do something for debuging\n                  }\n                    dependencies {\n                        library 'core'\n                    }\n                }\n            }\n        }\n\n        core(JvmLibrarySpec) {\n            dependencies {\n                library 'commons'\n            }\n        }\n\n        commons(JvmLibrarySpec) {\n            api {\n                dependencies {\n                    library 'collections'\n                }\n            }\n        }\n\n        collections(JvmLibrarySpec)\n    }\n}\n</code></pre>\n\n<p>Reference: <a href=\"https://docs.gradle.org/current/userguide/java_software.html\" rel=\"nofollow\">https://docs.gradle.org/current/userguide/java_software.html</a></p>\n"},{"tags":[],"owner":{"account_id":1482563,"reputation":421,"user_id":1391572,"display_name":"tobiasH"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1455868604,"creation_date":1455868604,"answer_id":35500170,"question_id":35478176,"body_markdown":"We use Gradle multi-module projects for our variant system. There is a core project that contains the common code. Customizations are simply done in subprojects.\n\n    subprojects {\n       dependencies {\n         compile project(&#39;:core&#39;)\n       }\n    }\n\nThe variant subprojects depend on the core and each build individual .war files. Note that in this case we don&#39;t override classes from the core project. For code customizations we use Spring and in some cases SPI, but I guess any dependency injection framework can accomplish that. It just forces you to provide explicit extension points in the core which I think is a good thing.","title":"Build variants (product flavours) in IntelliJ Java application","body":"<p>We use Gradle multi-module projects for our variant system. There is a core project that contains the common code. Customizations are simply done in subprojects.</p>\n\n<pre><code>subprojects {\n   dependencies {\n     compile project(':core')\n   }\n}\n</code></pre>\n\n<p>The variant subprojects depend on the core and each build individual .war files. Note that in this case we don't override classes from the core project. For code customizations we use Spring and in some cases SPI, but I guess any dependency injection framework can accomplish that. It just forces you to provide explicit extension points in the core which I think is a good thing.</p>\n"},{"tags":[],"owner":{"account_id":13880682,"reputation":19,"user_id":10021124,"display_name":"yora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685336994,"creation_date":1685336994,"answer_id":76354806,"question_id":35478176,"body_markdown":"Maven allows you to create profiles for different configurations of your project. For example, you can specify different Java versions, dependencies, plugins, etc. for each profile. Profiles can be activated by various criteria, such as environment variables, JDK versions, or command line parameters. You can also use different pom.xml files for the same project, but this is not recommended as it can cause confusion and inconsistency. Profiles are a more flexible and maintainable way to manage your project settings. You can learn more about profiles here: https://maven.apache.org/guides/introduction/introduction-to-profiles.html","title":"Build variants (product flavours) in IntelliJ Java application","body":"<p>Maven allows you to create profiles for different configurations of your project. For example, you can specify different Java versions, dependencies, plugins, etc. for each profile. Profiles can be activated by various criteria, such as environment variables, JDK versions, or command line parameters. You can also use different pom.xml files for the same project, but this is not recommended as it can cause confusion and inconsistency. Profiles are a more flexible and maintainable way to manage your project settings. You can learn more about profiles here: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/introduction/introduction-to-profiles.html</a></p>\n"},{"tags":[],"owner":{"account_id":9510973,"reputation":1,"user_id":7068927,"display_name":"oem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692000248,"creation_date":1692000248,"answer_id":76897254,"question_id":35478176,"body_markdown":"I am using maven profiles. It is very flexible and convenient. With a profiles you can define especial properties, dependencies,  modules, builds for each profile. Profiles could be activated by environment variables or command line parameters. You could combine your profiles. IntelliJ maven view gives you a convenient way to activate profiles. See below the pom.xml example with profiles.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n      &lt;packaging&gt;pom&lt;/packaging&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n      &lt;profiles&gt;\r\n          &lt;profile&gt;\r\n              &lt;id&gt;blue&lt;/id&gt;\r\n              &lt;modules&gt;\r\n                  &lt;module&gt;module-1&lt;/module&gt;\r\n              &lt;/modules&gt;\r\n              &lt;dependencies&gt;\r\n                  &lt;dependency&gt;\r\n                      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                      &lt;version&gt;2.11.1&lt;/version&gt;\r\n                  &lt;/dependency&gt;\r\n              &lt;/dependencies&gt;\r\n          &lt;/profile&gt;\r\n          &lt;profile&gt;\r\n              &lt;id&gt;red&lt;/id&gt;\r\n              &lt;modules&gt;\r\n                  &lt;module&gt;module-2&lt;/module&gt;\r\n              &lt;/modules&gt;\r\n              &lt;dependencies&gt;\r\n                  &lt;dependency&gt;\r\n                      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                      &lt;version&gt;2.15.0&lt;/version&gt;\r\n                  &lt;/dependency&gt;\r\n              &lt;/dependencies&gt;\r\n          &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n\r\n      &lt;modules&gt;\r\n          &lt;module&gt;main&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n\r\n      &lt;properties&gt;\r\n          &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt; &lt;/project&gt;","title":"Build variants (product flavours) in IntelliJ Java application","body":"<p>I am using maven profiles. It is very flexible and convenient. With a profiles you can define especial properties, dependencies,  modules, builds for each profile. Profiles could be activated by environment variables or command line parameters. You could combine your profiles. IntelliJ maven view gives you a convenient way to activate profiles. See below the pom.xml example with profiles.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;test&lt;/artifactId&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;profiles&gt;\n      &lt;profile&gt;\n          &lt;id&gt;blue&lt;/id&gt;\n          &lt;modules&gt;\n              &lt;module&gt;module-1&lt;/module&gt;\n          &lt;/modules&gt;\n          &lt;dependencies&gt;\n              &lt;dependency&gt;\n                  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                  &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                  &lt;version&gt;2.11.1&lt;/version&gt;\n              &lt;/dependency&gt;\n          &lt;/dependencies&gt;\n      &lt;/profile&gt;\n      &lt;profile&gt;\n          &lt;id&gt;red&lt;/id&gt;\n          &lt;modules&gt;\n              &lt;module&gt;module-2&lt;/module&gt;\n          &lt;/modules&gt;\n          &lt;dependencies&gt;\n              &lt;dependency&gt;\n                  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                  &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                  &lt;version&gt;2.15.0&lt;/version&gt;\n              &lt;/dependency&gt;\n          &lt;/dependencies&gt;\n      &lt;/profile&gt;\n  &lt;/profiles&gt;\n\n  &lt;modules&gt;\n      &lt;module&gt;main&lt;/module&gt;\n  &lt;/modules&gt;\n\n  &lt;properties&gt;\n      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt; &lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":4838190,"reputation":331,"user_id":3904083,"display_name":"user3904083"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3182,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":4,"score":22,"last_activity_date":1692000248,"creation_date":1455789427,"question_id":35478176,"body_markdown":"Is it possible to have build variants based on different source sets for a traditional Java app (NOT an Android project) in IntelliJ?\r\n\r\nI&#39;d like to use a feature like productFlavors that comes with the Android gradle plugin, but for a traditional Java application.\r\n\r\nExample:\r\n\r\n    library_red -- HelloImpl.java\r\n    library_blue -- HelloImpl.java\r\n    library_common -- Hello.java\r\n    \r\n    compiled library_blue -- Hello.class, HelloImpl.class\r\n    compiled library_red -- Hello.class, HelloImpl.class\r\n","title":"Build variants (product flavours) in IntelliJ Java application","body":"<p>Is it possible to have build variants based on different source sets for a traditional Java app (NOT an Android project) in IntelliJ?</p>\n<p>I'd like to use a feature like productFlavors that comes with the Android gradle plugin, but for a traditional Java application.</p>\n<p>Example:</p>\n<pre><code>library_red -- HelloImpl.java\nlibrary_blue -- HelloImpl.java\nlibrary_common -- Hello.java\n\ncompiled library_blue -- Hello.class, HelloImpl.class\ncompiled library_red -- Hello.class, HelloImpl.class\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7021940,"reputation":2155,"user_id":5380897,"accept_rate":62,"display_name":"Uladzislau Kaminski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623833930,"creation_date":1623833930,"answer_id":67999471,"question_id":67999217,"body_markdown":"The `AddressHistoryRepository` should be in the Spring Context. To do it provide the bean definition in the configuration that will be scanned by `@ComponentScan`. If you know that Spring has this definition you can add `@ComponentScan` with the package where this definition is. The other way is to create your own definition with `@Bean` annotation.   ","title":"Spring boot autowire external dependency with further optional dependencies","body":"<p>The <code>AddressHistoryRepository</code> should be in the Spring Context. To do it provide the bean definition in the configuration that will be scanned by <code>@ComponentScan</code>. If you know that Spring has this definition you can add <code>@ComponentScan</code> with the package where this definition is. The other way is to create your own definition with <code>@Bean</code> annotation.</p>\n"}],"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692000126,"creation_date":1623832958,"question_id":67999217,"body_markdown":"I&#39;m trying to autowire an external service which has further optional dependencies.\r\n```\r\n\t@Autowired\r\n\tprivate CustomerService customerService; // external dependency\r\n\r\n\t@GetMapping(value = &quot;/test-cdl2&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;CustomerLightweightDto&gt;&gt; testCdl2()  {\r\n\t\treturn ResponseEntity.ok(customerService.searchForCustomerAddressByCin(&quot;1931454603&quot;));\r\n\t}\r\n```\r\n\r\nHere `CustomerService` is an external service. Inside `CustomerService.searchForCustomerAddressByCin` method:\r\n```\t\r\n\t@Autowired(required = false)\r\n\tprivate AddressHistoryRepository addressRepository; // optional\r\n\r\n\t@Transactional(readOnly = true)\r\n\tpublic List&lt;AddressHistoryDto&gt; retrieveAddressHistory(String cin) {\r\n\t\tnotNull(cin, ERROR_CIN_MISSED.getText());\r\n\t\tlog.debug(&quot;Retrieve list of address history by cin [{}]...&quot;, cin);\r\n\t\treturn addressRepository.findByPartyIdOrderByEndDateDesc(findPartyIdByCin(cin));\r\n\t}\r\n```\r\n\r\nWe have `addressRepository` which is defined as an optional dependency.\r\n\r\nNow when I try to run `testCdl2`, it throws NPEs. How can i tell Spring to create a bean for nested dependencies?\r\n\r\nEDIT:\r\nAlready configured the root package of external dependency in `ApplicationConfig`:\r\n```\r\n@Configuration\r\n@ComponentScan({&quot;com.my.fsap.aap.customer.data&quot;, &quot;com.my.fsap.aap.ldap.security&quot;})\r\n@EnableCaching\r\n@EnableRetry\r\npublic class ApplicationConfig {\r\n```\r\n\r\nHere `com.my.fsap.aap.customer.data` is the root where the optional dependency is present.","title":"Spring boot autowire external dependency with further optional dependencies","body":"<p>I'm trying to autowire an external service which has further optional dependencies.</p>\n<pre><code>    @Autowired\n    private CustomerService customerService; // external dependency\n\n    @GetMapping(value = &quot;/test-cdl2&quot;)\n    public ResponseEntity&lt;List&lt;CustomerLightweightDto&gt;&gt; testCdl2()  {\n        return ResponseEntity.ok(customerService.searchForCustomerAddressByCin(&quot;1931454603&quot;));\n    }\n</code></pre>\n<p>Here <code>CustomerService</code> is an external service. Inside <code>CustomerService.searchForCustomerAddressByCin</code> method:</p>\n<pre><code>    @Autowired(required = false)\n    private AddressHistoryRepository addressRepository; // optional\n\n    @Transactional(readOnly = true)\n    public List&lt;AddressHistoryDto&gt; retrieveAddressHistory(String cin) {\n        notNull(cin, ERROR_CIN_MISSED.getText());\n        log.debug(&quot;Retrieve list of address history by cin [{}]...&quot;, cin);\n        return addressRepository.findByPartyIdOrderByEndDateDesc(findPartyIdByCin(cin));\n    }\n</code></pre>\n<p>We have <code>addressRepository</code> which is defined as an optional dependency.</p>\n<p>Now when I try to run <code>testCdl2</code>, it throws NPEs. How can i tell Spring to create a bean for nested dependencies?</p>\n<p>EDIT:\nAlready configured the root package of external dependency in <code>ApplicationConfig</code>:</p>\n<pre><code>@Configuration\n@ComponentScan({&quot;com.my.fsap.aap.customer.data&quot;, &quot;com.my.fsap.aap.ldap.security&quot;})\n@EnableCaching\n@EnableRetry\npublic class ApplicationConfig {\n</code></pre>\n<p>Here <code>com.my.fsap.aap.customer.data</code> is the root where the optional dependency is present.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":1,"creation_date":1623908724,"post_id":68013544,"comment_id":120212054,"body_markdown":"What is your regex platform?","body":"What is your regex platform?"},{"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"score":1,"creation_date":1623910535,"post_id":68013544,"comment_id":120212554,"body_markdown":"@anubhava It&#39;s Java","body":"@anubhava It&#39;s Java"}],"answers":[{"tags":[],"owner":{"account_id":7750510,"reputation":131491,"user_id":5866580,"accept_rate":25,"display_name":"RavinderSingh13"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1623908774,"creation_date":1623908774,"answer_id":68013593,"question_id":68013544,"body_markdown":"With your shown samples, please try following regex.\r\n\r\n    ^Filter:(?:\\w+=[^;]*;)*$\r\n\r\n[online demo for above regex][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/q8AcU3/1\r\n\r\n\r\n\r\n***Explanation:*** Adding detailed explanation for above regex.\r\n\r\n\r\n    ^Filter:       ##Matching Filter: from starting of value.\r\n    (?:            ##Starting a non-capturing group from here.\r\n      \\w+=[^;]*;   ##Matching \\w(1 or more occurrences) followed by = till a semi colon comes, including ; in match.\r\n    )*$            ##Matching 0 or more occurrences of regex mentioned above till end of value.\r\n\r\n\r\n***NOTE:*** Change above regex to `^Filter:(?:\\w+=[^;]*;)+$` in case you want to match at least 1 match of value-key pair, only change here is from `*` to `+` in regex.","title":"Create a regex with target text having varying key-value pairs?","body":"<p>With your shown samples, please try following regex.</p>\n<pre><code>^Filter:(?:\\w+=[^;]*;)*$\n</code></pre>\n<p><a href=\"https://regex101.com/r/q8AcU3/1\" rel=\"nofollow noreferrer\">online demo for above regex</a></p>\n<p><em><strong>Explanation:</strong></em> Adding detailed explanation for above regex.</p>\n<pre><code>^Filter:       ##Matching Filter: from starting of value.\n(?:            ##Starting a non-capturing group from here.\n  \\w+=[^;]*;   ##Matching \\w(1 or more occurrences) followed by = till a semi colon comes, including ; in match.\n)*$            ##Matching 0 or more occurrences of regex mentioned above till end of value.\n</code></pre>\n<p><em><strong>NOTE:</strong></em> Change above regex to <code>^Filter:(?:\\w+=[^;]*;)+$</code> in case you want to match at least 1 match of value-key pair, only change here is from <code>*</code> to <code>+</code> in regex.</p>\n"}],"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68013593,"answer_count":1,"score":1,"last_activity_date":1692000084,"creation_date":1623908476,"question_id":68013544,"body_markdown":"I&#39;m writing some regex to do some config file validation automation which I intend to include in to a CICD pipeline, but I&#39;m facing some issues getting the regex to work properly on certain strings.\r\n\r\nI have strings like the following:\r\n\r\n```\r\nFilter:Class=ABC_Root_Base;\r\nFilter:Class=Logfile_Base;\r\nFilter:Class=Logfile_Sendmail;\r\nFilter:Class=Daemon_Notice;\r\nFilter:Class=Logfile_Syslogd;msg=re:&#39;syslogd: restart&#39;;\r\nFilter:Class=Logfile_Cron;msg=re:&#39;CMD&#39;;\r\nFilter:Class=Logfile_Cron;msg=re:&#39;STARTUP&#39;;\r\nFilter:Class=AppLog;sub_source=MTResourceMonitor;msg=re:&#39;support&#39;;\r\n```\r\n\r\nRules are:\r\n1) Filter lines must start with &quot;Filter:&quot;\r\n2) Filter lines must end with a semi-colon\r\n3) Each key-value pair within a filter line, must terminate with a semi-colon (and multiple key-value pairs are allowed within a single filter line)\r\n\r\nI need to validate them using some regex, but I&#39;m having some challenge getting it to match strings properly when they have multiple key-value pairs in them. It works fine with just a single key-value pair though.\r\n\r\nFor example, the following string would match fine:\r\n```\r\nFilter:Class=Logfile_Base;\r\n```\r\n\r\nHowever, the following doesn&#39;t correctly match:\r\n```\r\nFilter:ClassAppLog;sub_sourceMTRMonmsg=re:&#39;su;dnsdjs;\r\n```\r\n\r\nThe start and end of that string above is fine, but there are no semi-colon separators between key-value pairs and so it&#39;s actually invalid. It breaks rule number 3.\r\n\r\nHere is the regex I created thus far, which works sometimes as above:\r\n```\r\n^Filter:.*=.*;$\r\n```\r\n","title":"Create a regex with target text having varying key-value pairs?","body":"<p>I'm writing some regex to do some config file validation automation which I intend to include in to a CICD pipeline, but I'm facing some issues getting the regex to work properly on certain strings.</p>\n<p>I have strings like the following:</p>\n<pre><code>Filter:Class=ABC_Root_Base;\nFilter:Class=Logfile_Base;\nFilter:Class=Logfile_Sendmail;\nFilter:Class=Daemon_Notice;\nFilter:Class=Logfile_Syslogd;msg=re:'syslogd: restart';\nFilter:Class=Logfile_Cron;msg=re:'CMD';\nFilter:Class=Logfile_Cron;msg=re:'STARTUP';\nFilter:Class=AppLog;sub_source=MTResourceMonitor;msg=re:'support';\n</code></pre>\n<p>Rules are:</p>\n<ol>\n<li>Filter lines must start with &quot;Filter:&quot;</li>\n<li>Filter lines must end with a semi-colon</li>\n<li>Each key-value pair within a filter line, must terminate with a semi-colon (and multiple key-value pairs are allowed within a single filter line)</li>\n</ol>\n<p>I need to validate them using some regex, but I'm having some challenge getting it to match strings properly when they have multiple key-value pairs in them. It works fine with just a single key-value pair though.</p>\n<p>For example, the following string would match fine:</p>\n<pre><code>Filter:Class=Logfile_Base;\n</code></pre>\n<p>However, the following doesn't correctly match:</p>\n<pre><code>Filter:ClassAppLog;sub_sourceMTRMonmsg=re:'su;dnsdjs;\n</code></pre>\n<p>The start and end of that string above is fine, but there are no semi-colon separators between key-value pairs and so it's actually invalid. It breaks rule number 3.</p>\n<p>Here is the regex I created thus far, which works sometimes as above:</p>\n<pre><code>^Filter:.*=.*;$\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":7310906,"reputation":438,"user_id":5570150,"display_name":"Benjamin Bau"},"score":1,"creation_date":1448458332,"post_id":33917442,"comment_id":55596675,"body_markdown":"This may be too heavy-weight for what you are trying to do, but you can also check out the hibernate search project (http://hibernate.org/search/documentation/getting-started/). Hibernate Search indexes fields that you want to do text search on. Then a query takes the form:  qb.keyword().onFields(&lt;list of fields&gt;).matching(&lt;search term&gt;).createQuery();","body":"This may be too heavy-weight for what you are trying to do, but you can also check out the hibernate search project (<a href=\"http://hibernate.org/search/documentation/getting-started/\" rel=\"nofollow noreferrer\">hibernate.org/search/documentation/getting-started</a>). Hibernate Search indexes fields that you want to do text search on. Then a query takes the form:  qb.keyword().onFields(&lt;list of fields&gt;).matching(&lt;search term&gt;).createQuery();"},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":2,"creation_date":1448460292,"post_id":33917442,"comment_id":55598108,"body_markdown":"clearly that JPQL you quote is not valid JPQL either. There is no || operator, use CONCAT.","body":"clearly that JPQL you quote is not valid JPQL either. There is no || operator, use CONCAT."}],"answers":[{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448458141,"creation_date":1448458141,"answer_id":33917747,"question_id":33917442,"body_markdown":"Well, for the most cases, **option 1** is not a really an alternative. If your application grow up of registers the memory and performance problems will hit you after some time. I guarantee you.\r\n\r\nI cannot see a problem in the **option 2**. Is not performant but it&#39;s simple to understand.\r\n\r\nIf performance on database is a problem, you can create a native query to call the native function of your database to do a full text search. Will not be a JPQL query, but for this kind of query you are trying to do this solution can be used.","title":"How to implement simple full text search in JPA (Spring Data JPA)?","body":"<p>Well, for the most cases, <strong>option 1</strong> is not a really an alternative. If your application grow up of registers the memory and performance problems will hit you after some time. I guarantee you.</p>\n\n<p>I cannot see a problem in the <strong>option 2</strong>. Is not performant but it's simple to understand.</p>\n\n<p>If performance on database is a problem, you can create a native query to call the native function of your database to do a full text search. Will not be a JPQL query, but for this kind of query you are trying to do this solution can be used.</p>\n"},{"tags":[],"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1692000008,"creation_date":1469189100,"answer_id":38526001,"question_id":33917442,"body_markdown":"Solved this by saving the search string on every persist and update to the DB.\r\nFirst created a column for the searchString:\r\n\r\n       @Column(name = &quot;SEARCH_STRING&quot;, length = 1000)\r\n       private String searchString;\r\n\r\nStorage is cheap, overhead on DB is not that big.\r\n\r\nThen the saving on update and persist:\r\n\r\n       @PreUpdate\r\n       @PrePersist\r\n       void updateSearchString() {\r\n          final String fullSearchString = String.join(&quot; &quot;, List.of(\r\n                  login,\r\n                  firstName,\r\n                  lastName,\r\n                  email,\r\n                  Boolean.TRUE.equals(active) ? &quot;tak&quot; : &quot;nie&quot;,\r\n                  profile.getDescription()));\r\n          this.searchString = StringUtils.substring(fullSearchString, 0, 999);\r\n       }\r\n\r\nThen i can have a normal JPQL query with `LIKE`: \r\n\r\n    SELECT u FROM User u WHERE u.searchString LIKE &#39;%&#39; || :text || &#39;%&#39;\r\n\r\nOr using [Query By Example][1]:\r\n\r\n      ExampleMatcher matcher = ExampleMatcher.matching().\r\n              withMatcher(&quot;searchString&quot;, ExampleMatcher.GenericPropertyMatcher.of(ExampleMatcher.StringMatcher.CONTAINING).ignoreCase());\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example","title":"How to implement simple full text search in JPA (Spring Data JPA)?","body":"<p>Solved this by saving the search string on every persist and update to the DB.\nFirst created a column for the searchString:</p>\n<pre><code>   @Column(name = &quot;SEARCH_STRING&quot;, length = 1000)\n   private String searchString;\n</code></pre>\n<p>Storage is cheap, overhead on DB is not that big.</p>\n<p>Then the saving on update and persist:</p>\n<pre><code>   @PreUpdate\n   @PrePersist\n   void updateSearchString() {\n      final String fullSearchString = String.join(&quot; &quot;, List.of(\n              login,\n              firstName,\n              lastName,\n              email,\n              Boolean.TRUE.equals(active) ? &quot;tak&quot; : &quot;nie&quot;,\n              profile.getDescription()));\n      this.searchString = StringUtils.substring(fullSearchString, 0, 999);\n   }\n</code></pre>\n<p>Then i can have a normal JPQL query with <code>LIKE</code>:</p>\n<pre><code>SELECT u FROM User u WHERE u.searchString LIKE '%' || :text || '%'\n</code></pre>\n<p>Or using <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example\" rel=\"nofollow noreferrer\">Query By Example</a>:</p>\n<pre><code>  ExampleMatcher matcher = ExampleMatcher.matching().\n          withMatcher(&quot;searchString&quot;, ExampleMatcher.GenericPropertyMatcher.of(ExampleMatcher.StringMatcher.CONTAINING).ignoreCase());\n</code></pre>\n"}],"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15661,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":38526001,"answer_count":2,"score":11,"last_activity_date":1692000008,"creation_date":1448457194,"question_id":33917442,"body_markdown":"i&#39;m using JPA 2.1 (Hibernate 4 as impl) and Spring Data JPA 1.9.0. How do i implement full text search? \r\n\r\nMy scenario is as follows. I have a `User` entity and on the UI a have a table which display&#39;s most of users properties and i want the user to give text box enter there a search term and search in all properties. \r\n\r\nI see 2 options to do this:\r\n\r\n 1. Load all users users from DB and filter them in Java \r\n 2. Write a JPQL query with many `ORs` and `LIKE % :searchString %`\r\n\r\n**Option 1** is not good for performance but quite nice to write.\r\n\r\n**Option 2** is performant beacuse executed on DB side but cumbersome to write. \r\n\r\nRight now im suing option 1 because i need to translate boolean to `&quot;yes&quot;/&quot;no&quot;` and also have a profile enum where i want to search by it&#39;s field description and not by actual enum value. \r\n\r\nIn the User entity i have a method which returns all fields i want to be searched seperated by spaces:\r\n\r\n       public String getSearchString(){\r\n          return StringUtils.join(\r\n                  Arrays.asList(\r\n                          login, \r\n                          firstName, \r\n                          lastName, \r\n                          email, \r\n                          active ? &quot;yes&quot; : &quot;no&quot;, \r\n                          profile.getDescription())\r\n                  , &quot; &quot;);\r\n       }\r\n\r\nThe in a service i load all users from DB and filter by this search string:\r\n\r\n       @Override\r\n       public List&lt;User&gt; getUsers(final String searchText) {\r\n          final List&lt;User&gt; users = getUsers();\r\n          if(StringUtils.isBlank(searchText)){\r\n             return users;\r\n          }\r\n          CollectionUtils.filter(users, new Predicate&lt;User&gt;() {\r\n             @Override\r\n             public boolean evaluate(User object) {\r\n                return StringUtils.containsIgnoreCase(object.getSearchString(), searchText);\r\n             }\r\n          });\r\n          return users;\r\n       }\r\n\r\n On the other side in JPQL i end up with queries like this, which i dont think is the nice&#39;est and easiest way to implement this functionality. Also there is a problem with translatin boolean to &quot;yes&quot; and &quot;no&quot;.\r\n\r\n    @Query(&quot;SELECT r FROM User r WHERE &quot;\r\n            + &quot;r.firstname LIKE &#39;%&#39; || :searchString || &#39;%&#39; &quot;\r\n            + &quot;OR r.lastname LIKE &#39;%&#39; || :searchString || &#39;%&#39; &quot;\r\n            + &quot;OR r.login LIKE &#39;%&#39; || :searchString || &#39;%&#39; &quot;\r\n            + &quot;OR r.profile.description LIKE &#39;%&#39; || :searchString || &#39;%&#39; &quot;\r\n            + &quot;OR r.active LIKE &#39;%&#39; || :searchString || &#39;%&#39; &quot;\r\n            + &quot;OR r.email LIKE &#39;%&#39; || :searchString || &#39;%&#39;&quot;)\r\n    List&lt;User&gt; selectUsers(@Param(&quot;searchString&quot;)String searchString, Pageable page);\r\n\r\n\r\n**Is there a better solution to this problem?**","title":"How to implement simple full text search in JPA (Spring Data JPA)?","body":"<p>i'm using JPA 2.1 (Hibernate 4 as impl) and Spring Data JPA 1.9.0. How do i implement full text search? </p>\n\n<p>My scenario is as follows. I have a <code>User</code> entity and on the UI a have a table which display's most of users properties and i want the user to give text box enter there a search term and search in all properties. </p>\n\n<p>I see 2 options to do this:</p>\n\n<ol>\n<li>Load all users users from DB and filter them in Java </li>\n<li>Write a JPQL query with many <code>ORs</code> and <code>LIKE % :searchString %</code></li>\n</ol>\n\n<p><strong>Option 1</strong> is not good for performance but quite nice to write.</p>\n\n<p><strong>Option 2</strong> is performant beacuse executed on DB side but cumbersome to write. </p>\n\n<p>Right now im suing option 1 because i need to translate boolean to <code>\"yes\"/\"no\"</code> and also have a profile enum where i want to search by it's field description and not by actual enum value. </p>\n\n<p>In the User entity i have a method which returns all fields i want to be searched seperated by spaces:</p>\n\n<pre><code>   public String getSearchString(){\n      return StringUtils.join(\n              Arrays.asList(\n                      login, \n                      firstName, \n                      lastName, \n                      email, \n                      active ? \"yes\" : \"no\", \n                      profile.getDescription())\n              , \" \");\n   }\n</code></pre>\n\n<p>The in a service i load all users from DB and filter by this search string:</p>\n\n<pre><code>   @Override\n   public List&lt;User&gt; getUsers(final String searchText) {\n      final List&lt;User&gt; users = getUsers();\n      if(StringUtils.isBlank(searchText)){\n         return users;\n      }\n      CollectionUtils.filter(users, new Predicate&lt;User&gt;() {\n         @Override\n         public boolean evaluate(User object) {\n            return StringUtils.containsIgnoreCase(object.getSearchString(), searchText);\n         }\n      });\n      return users;\n   }\n</code></pre>\n\n<p>On the other side in JPQL i end up with queries like this, which i dont think is the nice'est and easiest way to implement this functionality. Also there is a problem with translatin boolean to \"yes\" and \"no\".</p>\n\n<pre><code>@Query(\"SELECT r FROM User r WHERE \"\n        + \"r.firstname LIKE '%' || :searchString || '%' \"\n        + \"OR r.lastname LIKE '%' || :searchString || '%' \"\n        + \"OR r.login LIKE '%' || :searchString || '%' \"\n        + \"OR r.profile.description LIKE '%' || :searchString || '%' \"\n        + \"OR r.active LIKE '%' || :searchString || '%' \"\n        + \"OR r.email LIKE '%' || :searchString || '%'\")\nList&lt;User&gt; selectUsers(@Param(\"searchString\")String searchString, Pageable page);\n</code></pre>\n\n<p><strong>Is there a better solution to this problem?</strong></p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591622198,"creation_date":1591622198,"answer_id":62262967,"question_id":38135017,"body_markdown":"Normally, I&#39;d do the following: \r\n\r\nin your module settings on the Sources-Tab, in the right pane you click on the directory and then on &quot;Excluded&quot;. The directory will then appear in the left pane as an &quot;Excluded Folder&quot;\r\n\r\nI was satisfied by that, but it wasn&#39;t exactly what you wanted to achieve. \r\n\r\nWould it be better to configure a custom scope? Try [this.][1]\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/206336559-exclude-directory-from-search","title":"In IntelliJ, how to exclude \\target\\*.html files in search (everywhere) result?","body":"<p>Normally, I'd do the following: </p>\n\n<p>in your module settings on the Sources-Tab, in the right pane you click on the directory and then on \"Excluded\". The directory will then appear in the left pane as an \"Excluded Folder\"</p>\n\n<p>I was satisfied by that, but it wasn't exactly what you wanted to achieve. </p>\n\n<p>Would it be better to configure a custom scope? Try <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206336559-exclude-directory-from-search\" rel=\"nofollow noreferrer\">this.</a></p>\n"},{"tags":[],"owner":{"account_id":59771,"reputation":140,"user_id":178749,"display_name":"Duarte Cunha Le&#227;o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606150460,"creation_date":1606150460,"answer_id":64972744,"question_id":38135017,"body_markdown":"In my case, I had the target folder marked as excluded but also, partially, marked as source. This caused the problem for me.","title":"In IntelliJ, how to exclude \\target\\*.html files in search (everywhere) result?","body":"<p>In my case, I had the target folder marked as excluded but also, partially, marked as source. This caused the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":29221029,"reputation":1,"user_id":22386753,"display_name":"WalterP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691999882,"creation_date":1691999882,"answer_id":76897219,"question_id":38135017,"body_markdown":"With current Intellij versions, excluding the target folder (right click on folder -&gt; Mark directory as -&gt; Excluded) and then searching with selected tab &quot;In Project&quot; definitely does the trick. No more java.html in the search results.","title":"In IntelliJ, how to exclude \\target\\*.html files in search (everywhere) result?","body":"<p>With current Intellij versions, excluding the target folder (right click on folder -&gt; Mark directory as -&gt; Excluded) and then searching with selected tab &quot;In Project&quot; definitely does the trick. No more java.html in the search results.</p>\n"}],"owner":{"account_id":4558291,"reputation":3780,"user_id":3701346,"accept_rate":75,"display_name":"modeller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1691999882,"creation_date":1467330869,"question_id":38135017,"body_markdown":"I have a IntelliJ java project, there are some HTML file templates under my source folder. This project is built and output to \\target\\ folder. The HTML file templates are copied over to the target folder as well.\r\n\r\nI have been trying to exclude the HTML files in target folder from &quot;search everywhere&quot; result. \r\n\r\n**I have already set the \\target folder as &#39;Excluded&#39; in &#39;Project Structure settings&#39;**. \r\n\r\nBut this is not working: although target\\*.java and target\\*.js are excluded in this way, the target\\*.html files are not. I think IntelliJ&#39;s &#39;Excluded&#39; folder only exclude these files it considered as source files, but html is not.\r\n\r\nIs there any workaround for this? I am using IntelliJ Idea 2016.1.3","title":"In IntelliJ, how to exclude \\target\\*.html files in search (everywhere) result?","body":"<p>I have a IntelliJ java project, there are some HTML file templates under my source folder. This project is built and output to \\target\\ folder. The HTML file templates are copied over to the target folder as well.</p>\n\n<p>I have been trying to exclude the HTML files in target folder from \"search everywhere\" result. </p>\n\n<p><strong>I have already set the \\target folder as 'Excluded' in 'Project Structure settings'</strong>. </p>\n\n<p>But this is not working: although target*.java and target*.js are excluded in this way, the target*.html files are not. I think IntelliJ's 'Excluded' folder only exclude these files it considered as source files, but html is not.</p>\n\n<p>Is there any workaround for this? I am using IntelliJ Idea 2016.1.3</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1691999918,"post_id":76897163,"comment_id":135561350,"body_markdown":"The problem isn&#39;t the JDBC driver.  (Changing won&#39;t help.) The problem is that the SSL/TLS version and/or cipher suites provided/required by your server JVM are incompatible with what the MSSQL server provides/requires.  It could simply be that either your JVM or your database server are too out of date.","body":"The problem isn&#39;t the JDBC driver.  (Changing won&#39;t help.) The problem is that the SSL/TLS version and/or cipher suites provided/required by your server JVM are incompatible with what the MSSQL server provides/requires.  It could simply be that either your JVM or your database server are too out of date."},{"owner":{"account_id":27109277,"reputation":11,"user_id":20654661,"display_name":"Rushikesh"},"score":0,"creation_date":1692000024,"post_id":76897163,"comment_id":135561374,"body_markdown":"Yes my mssql sever is i think of version of 2013 so is there any solution to get this code connected to database.","body":"Yes my mssql sever is i think of version of 2013 so is there any solution to get this code connected to database."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692002590,"post_id":76897163,"comment_id":135561890,"body_markdown":"Have you applied this patch?  https://learn.microsoft.com/en-US/troubleshoot/sql/database-engine/connect/tls-1-2-support-microsoft-sql-server","body":"Have you applied this patch?  <a href=\"https://learn.microsoft.com/en-US/troubleshoot/sql/database-engine/connect/tls-1-2-support-microsoft-sql-server\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-US/troubleshoot/sql/database-engine/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692003030,"post_id":76897163,"comment_id":135561981,"body_markdown":"It could also be that your server couldn&#39;t find its private key.","body":"It could also be that your server couldn&#39;t find its private key."},{"owner":{"account_id":27109277,"reputation":11,"user_id":20654661,"display_name":"Rushikesh"},"score":0,"creation_date":1692006390,"post_id":76897163,"comment_id":135562594,"body_markdown":"Hi @Stephen C I am using microsoft server version 2016 (SP3) so according to you patch there is no need to update .","body":"Hi @Stephen C I am using microsoft server version 2016 (SP3) so according to you patch there is no need to update ."},{"owner":{"account_id":27109277,"reputation":11,"user_id":20654661,"display_name":"Rushikesh"},"score":0,"creation_date":1692006437,"post_id":76897163,"comment_id":135562607,"body_markdown":"Hello user207421 can you please explain in details i am new in java and sql server","body":"Hello user207421 can you please explain in details i am new in java and sql server"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692006710,"post_id":76897163,"comment_id":135562663,"body_markdown":"What version of Java are you using on the client side?","body":"What version of Java are you using on the client side?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692006834,"post_id":76897163,"comment_id":135562689,"body_markdown":"If you can&#39;t gain any traction on the MSSQL side, you need to diagnose the SSL connection from the Java side; see https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/ReadDebug.html.  That should tell you what the TLS versions and cipher suites are at both ends.  (I don&#39;t thing this is a private key or cert problem.  That shouldn&#39;t result in an &quot;no appropriate protocol&quot; error.)","body":"If you can&#39;t gain any traction on the MSSQL side, you need to diagnose the SSL connection from the Java side; see <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/ReadDebug.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/security/jsse&zwnj;&#8203;/&hellip;</a>.  That should tell you what the TLS versions and cipher suites are at both ends.  (I don&#39;t thing this is a private key or cert problem.  That shouldn&#39;t result in an &quot;no appropriate protocol&quot; error.)"},{"owner":{"account_id":27109277,"reputation":11,"user_id":20654661,"display_name":"Rushikesh"},"score":0,"creation_date":1692007128,"post_id":76897163,"comment_id":135562741,"body_markdown":"I ma using java version &quot;1.8.0_351&quot; in client side.","body":"I ma using java version &quot;1.8.0_351&quot; in client side."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1692011960,"post_id":76897163,"comment_id":135563627,"body_markdown":"@StephenC+ &quot;no appropriate protocol&quot; happens in the local stack _before_ the handshake starts, so javax.net.debug won&#39;t give any useful info, nor will looking on the server. This is an incompatibility between the client code+config (i.e. the driver) and the local JVM, so driver version may indeed be relevant, but configuring it (I don&#39;t know enough about mssql-jdbc, or even mssql, to say) or relaxing jdk.tls.disabledAlgorithms in java.security (which we have existing Qs on; I&#39;ve answered some relating to old javax.mail vs recent more-secure JVMs) may be needed.","body":"@StephenC+ &quot;no appropriate protocol&quot; happens in the local stack <i>before</i> the handshake starts, so javax.net.debug won&#39;t give any useful info, nor will looking on the server. This is an incompatibility between the client code+config (i.e. the driver) and the local JVM, so driver version may indeed be relevant, but configuring it (I don&#39;t know enough about mssql-jdbc, or even mssql, to say) or relaxing jdk.tls.disabledAlgorithms in java.security (which we have existing Qs on; I&#39;ve answered some relating to old javax.mail vs recent more-secure JVMs) may be needed."},{"owner":{"account_id":27109277,"reputation":11,"user_id":20654661,"display_name":"Rushikesh"},"score":0,"creation_date":1692606781,"post_id":76897163,"comment_id":135641196,"body_markdown":"Hello Guys error has been solved there is compatibility issue as my database has compatible with TLS version 1 and my code is of 1.8 version which support TLS version 1.2 by default so solution for this i changes my library to 1.7 JAVA SE and reduce tomcat to 8.5 (ealier using tomcat 9 version). Thank you all to help me out.","body":"Hello Guys error has been solved there is compatibility issue as my database has compatible with TLS version 1 and my code is of 1.8 version which support TLS version 1.2 by default so solution for this i changes my library to 1.7 JAVA SE and reduce tomcat to 8.5 (ealier using tomcat 9 version). Thank you all to help me out."}],"owner":{"account_id":27109277,"reputation":11,"user_id":20654661,"display_name":"Rushikesh"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691999428,"creation_date":1691999267,"question_id":76897163,"body_markdown":"I am using spring mvc concept in java when i am trying to login in my application its gets login successfully but after login its giving me error as below.\r\n\r\n![This is the my connection string i am using in code ][1]  \r\n\r\n```\r\nSEVERE: Servlet.service() for servlet [SpringDispatcher] in context with path [/PasswordReset] threw exception [Request processing failed; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;.] with root cause\r\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n```\r\nThis error i am facinf my code i already using diffrent version of sql driver like latest one and older one but still issue persist.\r\n\r\n  [1]: https://i.stack.imgur.com/QcLok.png","title":"I am facing error of javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)","body":"<p>I am using spring mvc concept in java when i am trying to login in my application its gets login successfully but after login its giving me error as below.</p>\n<p><img src=\"https://i.stack.imgur.com/QcLok.png\" alt=\"This is the my connection string i am using in code \" /></p>\n<pre><code>SEVERE: Servlet.service() for servlet [SpringDispatcher] in context with path [/PasswordReset] threw exception [Request processing failed; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;.] with root cause\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n</code></pre>\n<p>This error i am facinf my code i already using diffrent version of sql driver like latest one and older one but still issue persist.</p>\n"},{"tags":["java","android","kotlin","kapt"],"comments":[{"owner":{"account_id":6023206,"reputation":7991,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1647600034,"post_id":71525731,"comment_id":126416755,"body_markdown":"Does this answer your question? [Kapt is not working properly with OpenJDK 16](https://stackoverflow.com/questions/67509099/kapt-is-not-working-properly-with-openjdk-16)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67509099/kapt-is-not-working-properly-with-openjdk-16\">Kapt is not working properly with OpenJDK 16</a>"},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1647600115,"post_id":71525731,"comment_id":126416782,"body_markdown":"No, unfortunately the answers didn&#39;t work for me. @a_local_nobody","body":"No, unfortunately the answers didn&#39;t work for me. @a_local_nobody"},{"owner":{"account_id":6023206,"reputation":7991,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1647600841,"post_id":71525731,"comment_id":126417064,"body_markdown":"ahh, i assume you did try these before asking here, these do seem relevant but i can&#39;t say i&#39;ve ever seen this error before, hope you get an answer","body":"ahh, i assume you did try these before asking here, these do seem relevant but i can&#39;t say i&#39;ve ever seen this error before, hope you get an answer"},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1647600973,"post_id":71525731,"comment_id":126417108,"body_markdown":"Yes I tried almost all the answers on google :D thank you, I hope @a_local_nobody","body":"Yes I tried almost all the answers on google :D thank you, I hope @a_local_nobody"},{"owner":{"account_id":3289988,"reputation":1268,"user_id":2768515,"accept_rate":50,"display_name":"Chetan Gaikwad"},"score":2,"creation_date":1652268776,"post_id":71525731,"comment_id":127564181,"body_markdown":"For me I was using Mac M1 the following answer helped https://stackoverflow.com/a/71319188/2768515","body":"For me I was using Mac M1 the following answer helped <a href=\"https://stackoverflow.com/a/71319188/2768515\">stackoverflow.com/a/71319188/2768515</a>"},{"owner":{"account_id":1201634,"reputation":3471,"user_id":1172181,"accept_rate":100,"display_name":"Luis"},"score":0,"creation_date":1679518572,"post_id":71525731,"comment_id":133738585,"body_markdown":"Bumping the kotlin version to 1.6.0 fixed it for me (on m1 macos)","body":"Bumping the kotlin version to 1.6.0 fixed it for me (on m1 macos)"}],"answers":[{"tags":[],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647609130,"creation_date":1647609130,"answer_id":71527580,"question_id":71525731,"body_markdown":"I found a solution and fixed this damn problem :D\r\n\r\n I recommend using, adding it to the root build.gradle. This will force using the given dependency in the whole project:\r\n\r\n\r\nbuild.gradle (Project)\r\n\r\n    allprojects {\r\n        configurations.all {\r\n            resolutionStrategy {\r\n                force &#39;org.xerial:sqlite-jdbc:3.34.0&#39;\r\n            }\r\n        }\r\n    }","title":"java.lang.IllegalAccessError: class org.jetbrains.kotlin.kapt3.base.KaptContext Android","body":"<p>I found a solution and fixed this damn problem :D</p>\n<p>I recommend using, adding it to the root build.gradle. This will force using the given dependency in the whole project:</p>\n<p>build.gradle (Project)</p>\n<pre><code>allprojects {\n    configurations.all {\n        resolutionStrategy {\n            force 'org.xerial:sqlite-jdbc:3.34.0'\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25315289,"reputation":111,"user_id":19137488,"display_name":"IToncek"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1652799540,"creation_date":1652799540,"answer_id":72276309,"question_id":71525731,"body_markdown":"You can solve this by switching Java version to **Java 15**. Also if you are working with gradle on Intellij IDEA, change java also in **File&gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle**. ","title":"java.lang.IllegalAccessError: class org.jetbrains.kotlin.kapt3.base.KaptContext Android","body":"<p>You can solve this by switching Java version to <strong>Java 15</strong>. Also if you are working with gradle on Intellij IDEA, change java also in <strong>File&gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle</strong>.</p>\n"},{"tags":[],"owner":{"account_id":20836429,"reputation":131,"user_id":15304208,"display_name":"Simsim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658216035,"creation_date":1658216035,"answer_id":73032840,"question_id":71525731,"body_markdown":"After switching JAVA_HOME to java 1.8 and restarting Android Studio, problem \r\nis solved.","title":"java.lang.IllegalAccessError: class org.jetbrains.kotlin.kapt3.base.KaptContext Android","body":"<p>After switching JAVA_HOME to java 1.8 and restarting Android Studio, problem\nis solved.</p>\n"},{"tags":[],"owner":{"account_id":9207894,"reputation":702,"user_id":6842407,"display_name":"NeeK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675316952,"creation_date":1675316952,"answer_id":75319139,"question_id":71525731,"body_markdown":"I was able to solve this problem by adding following workaround :\r\n\r\n    org.gradle.jvmargs=-Xmx1536m --illegal-access=permit\r\n\r\nto gradle.properties file. ","title":"java.lang.IllegalAccessError: class org.jetbrains.kotlin.kapt3.base.KaptContext Android","body":"<p>I was able to solve this problem by adding following workaround :</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536m --illegal-access=permit\n</code></pre>\n<p>to gradle.properties file.</p>\n"},{"tags":[],"owner":{"account_id":10470352,"reputation":679,"user_id":7738516,"display_name":"Vishnu Satheesh"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1681475029,"creation_date":1681475029,"answer_id":76015058,"question_id":71525731,"body_markdown":"Upgrade Kotlin Gradle Plugin Version to ***1.6.0+***. Kapt works seamlessly with JDK 16+ when Kotlin is 1.6.0 or higher.\r\n\r\n```\r\nclasspath &#39;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.21&#39;\r\n```\r\n\r\n[Kotlin plugins for Gradle][1]\r\n\r\n\r\n  [1]: https://plugins.gradle.org/plugin/org.jetbrains.kotlin.android","title":"java.lang.IllegalAccessError: class org.jetbrains.kotlin.kapt3.base.KaptContext Android","body":"<p>Upgrade Kotlin Gradle Plugin Version to <em><strong>1.6.0+</strong></em>. Kapt works seamlessly with JDK 16+ when Kotlin is 1.6.0 or higher.</p>\n<pre><code>classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.21'\n</code></pre>\n<p><a href=\"https://plugins.gradle.org/plugin/org.jetbrains.kotlin.android\" rel=\"noreferrer\">Kotlin plugins for Gradle</a></p>\n"},{"tags":[],"owner":{"account_id":13249741,"reputation":191,"user_id":9567585,"display_name":"neelkanth_vyas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682425001,"creation_date":1682425001,"answer_id":76101076,"question_id":71525731,"body_markdown":"Add \r\n\r\n    org.gradle.jvmargs=-Dfile.encoding=UTF-8 \\\r\n                       --add-opens jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED \\\r\n                       --add-opens jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED \\\r\n                       --add-opens jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED \\\r\n                       --add-opens jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED  \\\r\n                       --add-opens jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED \\\r\n                       --add-opens jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED \\\r\n                       --add-opens jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\r\n\r\nto the gradle.properties file using JDK-11 in gradle-jdk.","title":"java.lang.IllegalAccessError: class org.jetbrains.kotlin.kapt3.base.KaptContext Android","body":"<p>Add</p>\n<pre><code>org.gradle.jvmargs=-Dfile.encoding=UTF-8 \\\n                   --add-opens jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED \\\n                   --add-opens jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED \\\n                   --add-opens jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED \\\n                   --add-opens jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED  \\\n                   --add-opens jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED \\\n                   --add-opens jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED \\\n                   --add-opens jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\n</code></pre>\n<p>to the gradle.properties file using JDK-11 in gradle-jdk.</p>\n"},{"tags":[],"owner":{"account_id":24997503,"reputation":448,"user_id":18858169,"display_name":"Bhavin Solanki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691999224,"creation_date":1691999224,"answer_id":76897157,"question_id":71525731,"body_markdown":"This is work for me and pretty sure work for most of people.\r\n\r\nChange Gradle Version to `JDK17 to JDK11 or visa versa`\r\n\r\nStill Facing Problem Go for `Invalid cache &amp; Restart`.","title":"java.lang.IllegalAccessError: class org.jetbrains.kotlin.kapt3.base.KaptContext Android","body":"<p>This is work for me and pretty sure work for most of people.</p>\n<p>Change Gradle Version to <code>JDK17 to JDK11 or visa versa</code></p>\n<p>Still Facing Problem Go for <code>Invalid cache &amp; Restart</code>.</p>\n"}],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31509,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":71527580,"answer_count":7,"score":45,"last_activity_date":1691999224,"creation_date":1647599888,"question_id":71525731,"body_markdown":"I&#39;ve been getting an error like this for days, but I couldn&#39;t find a solution. Can you please help me?\r\n\r\nWhat could the problem be caused by?\r\n\r\nError :\r\n\r\n    java.lang.IllegalAccessError: class org.jetbrains.kotlin.kapt3.base.KaptContext (in unnamed module @0x6acdb135) cannot access class com.sun.tools.javac.util.Context (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.util to unnamed module @0x6acdb135\r\n    \tat org.jetbrains.kotlin.kapt3.base.KaptContext.&lt;init&gt;(KaptContext.kt:28)\r\n    \tat org.jetbrains.kotlin.kapt3.KaptContextForStubGeneration.&lt;init&gt;(KaptContextForStubGeneration.kt:40)\r\n    \tat org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.contextForStubGeneration(Kapt3Extension.kt:287)\r\n    \tat org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:171)\r\n    \tat org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:102)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$invokeExtensionsOnAnalysisComplete(TopDownAnalyzerFacadeForJVM.kt:112)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:122)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:86)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:252)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:243)\r\n    \tat org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:113)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:243)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:90)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli$default(KotlinToJVMBytecodeCompiler.kt:56)\r\n    \tat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:169)\r\n    \tat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:52)\r\n    \tat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:92)\r\n    \tat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:44)\r\n    \tat org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:98)\r\n    \tat org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:412)\r\n    \tat org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:112)\r\n    \tat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:358)\r\n    \tat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally$default(IncrementalCompilerRunner.kt:300)\r\n    \tat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileImpl$rebuild(IncrementalCompilerRunner.kt:119)\r\n    \tat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileImpl(IncrementalCompilerRunner.kt:170)\r\n    \tat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:81)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImplBase.execIncrementalCompiler(CompileServiceImpl.kt:607)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImplBase.access$execIncrementalCompiler(CompileServiceImpl.kt:96)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:1658)\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor103.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n    \tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    \r\n    \r\n    Execution failed for task &#39;:app:kaptGenerateStubsMacellanDebugKotlin&#39;.\r\n    &gt; Internal compiler error. See log for more details","title":"java.lang.IllegalAccessError: class org.jetbrains.kotlin.kapt3.base.KaptContext Android","body":"<p>I've been getting an error like this for days, but I couldn't find a solution. Can you please help me?</p>\n<p>What could the problem be caused by?</p>\n<p>Error :</p>\n<pre><code>java.lang.IllegalAccessError: class org.jetbrains.kotlin.kapt3.base.KaptContext (in unnamed module @0x6acdb135) cannot access class com.sun.tools.javac.util.Context (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.util to unnamed module @0x6acdb135\n    at org.jetbrains.kotlin.kapt3.base.KaptContext.&lt;init&gt;(KaptContext.kt:28)\n    at org.jetbrains.kotlin.kapt3.KaptContextForStubGeneration.&lt;init&gt;(KaptContextForStubGeneration.kt:40)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.contextForStubGeneration(Kapt3Extension.kt:287)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:171)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:102)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$invokeExtensionsOnAnalysisComplete(TopDownAnalyzerFacadeForJVM.kt:112)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:122)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:86)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:252)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:243)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:113)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:243)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:90)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli$default(KotlinToJVMBytecodeCompiler.kt:56)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:169)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:52)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:92)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:44)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:98)\n    at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:412)\n    at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:112)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:358)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally$default(IncrementalCompilerRunner.kt:300)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileImpl$rebuild(IncrementalCompilerRunner.kt:119)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileImpl(IncrementalCompilerRunner.kt:170)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:81)\n    at org.jetbrains.kotlin.daemon.CompileServiceImplBase.execIncrementalCompiler(CompileServiceImpl.kt:607)\n    at org.jetbrains.kotlin.daemon.CompileServiceImplBase.access$execIncrementalCompiler(CompileServiceImpl.kt:96)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:1658)\n    at jdk.internal.reflect.GeneratedMethodAccessor103.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n    at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n\nExecution failed for task ':app:kaptGenerateStubsMacellanDebugKotlin'.\n&gt; Internal compiler error. See log for more details\n</code></pre>\n"},{"tags":["java","lambda","functional-programming","stream"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1691999519,"post_id":76897123,"comment_id":135561286,"body_markdown":"you could also use method references instead of typing out the whole lambda fyi. ie `mapToInt(Integer::valueOf)`","body":"you could also use method references instead of typing out the whole lambda fyi. ie <code>mapToInt(Integer::valueOf)</code>"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1691999153,"creation_date":1691999153,"answer_id":76897147,"question_id":76897123,"body_markdown":"You could use a single stream containing a ternary expression in the `filter()` step which chooses which comparison against `pos` to use:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    average = inputs.stream()\r\n                    .mapToInt(s -&gt; Integer.valueOf(s))\r\n                    .filter(pos -&gt; &quot;n&quot;.equals(answer) ? pos &lt; 0 : pos &gt; 0)\r\n                    .average()\r\n                    .getAsDouble();","title":"How to use an if statement in a Java stream to avoid a duplicate stream process","body":"<p>You could use a single stream containing a ternary expression in the <code>filter()</code> step which chooses which comparison against <code>pos</code> to use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>average = inputs.stream()\n                .mapToInt(s -&gt; Integer.valueOf(s))\n                .filter(pos -&gt; &quot;n&quot;.equals(answer) ? pos &lt; 0 : pos &gt; 0)\n                .average()\n                .getAsDouble();\n</code></pre>\n"}],"owner":{"account_id":28754292,"reputation":3,"user_id":22021631,"display_name":"Bekz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76897147,"answer_count":1,"score":0,"last_activity_date":1691999153,"creation_date":1691998915,"question_id":76897123,"body_markdown":"Here is my code from the Java MOOC.fi course where I am learning about streams. The code below works but the way I wrote it is quite amateur. I was thinking of somehow integrating an if statement in the stream with the condition of the answer given in an earlier input to predicate the process by changing one line (the filter method). Any ideas?\r\n\r\n```\r\nSystem.out.println(&quot;Print the average of the negative numbers or the positive numbers? (n/p)&quot;);\r\n        String answer = scanner.nextLine();\r\n        double average;\r\n        \r\n        if (answer.equals(&quot;n&quot;)) {\r\n            average = inputs.stream()\r\n                    .mapToInt(s -&gt; Integer.valueOf(s))\r\n                    .filter(pos -&gt; pos &lt; 0)\r\n                    .average()\r\n                    .getAsDouble();\r\n        } else {\r\n            average = inputs.stream()\r\n                    .mapToInt(s -&gt; Integer.valueOf(s))\r\n                    .filter(pos -&gt; pos &gt; 0)\r\n                    .average()\r\n                    .getAsDouble();\r\n        }\r\n```\r\n\r\n\r\nI tried forEach but I did not understand how to use it. The collection I am giving to stream is an ArrayList.\r\n\r\nI am on Java v11.0.18 and running the program on NetBeans v1.5.0.","title":"How to use an if statement in a Java stream to avoid a duplicate stream process","body":"<p>Here is my code from the Java MOOC.fi course where I am learning about streams. The code below works but the way I wrote it is quite amateur. I was thinking of somehow integrating an if statement in the stream with the condition of the answer given in an earlier input to predicate the process by changing one line (the filter method). Any ideas?</p>\n<pre><code>System.out.println(&quot;Print the average of the negative numbers or the positive numbers? (n/p)&quot;);\n        String answer = scanner.nextLine();\n        double average;\n        \n        if (answer.equals(&quot;n&quot;)) {\n            average = inputs.stream()\n                    .mapToInt(s -&gt; Integer.valueOf(s))\n                    .filter(pos -&gt; pos &lt; 0)\n                    .average()\n                    .getAsDouble();\n        } else {\n            average = inputs.stream()\n                    .mapToInt(s -&gt; Integer.valueOf(s))\n                    .filter(pos -&gt; pos &gt; 0)\n                    .average()\n                    .getAsDouble();\n        }\n</code></pre>\n<p>I tried forEach but I did not understand how to use it. The collection I am giving to stream is an ArrayList.</p>\n<p>I am on Java v11.0.18 and running the program on NetBeans v1.5.0.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9744,"page":248,"page_size":100}
