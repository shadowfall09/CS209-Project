{"items":[{"tags":["java","list"],"comments":[{"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"score":1,"creation_date":1415635108,"post_id":26847696,"comment_id":42258229,"body_markdown":"Are external libraries such as Guava an option for you?","body":"Are external libraries such as Guava an option for you?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1415635204,"post_id":26847696,"comment_id":42258284,"body_markdown":"While it&#39;s pretty easy to do in one line, why is that even a requirement? It also depends on what you actually need to do with the resulting list, as the obvious solution won&#39;t be modifiable.","body":"While it&#39;s pretty easy to do in one line, why is that even a requirement? It also depends on what you actually need to do with the resulting list, as the obvious solution won&#39;t be modifiable."},{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":0,"creation_date":1415635226,"post_id":26847696,"comment_id":42258297,"body_markdown":"You could create a method that takes an object as parameter and creates a new arraylist adding the object and returning the new arraylist.","body":"You could create a method that takes an object as parameter and creates a new arraylist adding the object and returning the new arraylist."},{"owner":{"account_id":4400297,"reputation":498,"user_id":3586195,"accept_rate":67,"display_name":"user3586195"},"score":0,"creation_date":1415639308,"post_id":26847696,"comment_id":42260843,"body_markdown":"I have an interface that returns a list of objects on a method. Some of the implementor just return one element. I don&#39;t want to code three lines just to return one element and also curious to see how it could have been done. In my prior life, I was a C developer :)","body":"I have an interface that returns a list of objects on a method. Some of the implementor just return one element. I don&#39;t want to code three lines just to return one element and also curious to see how it could have been done. In my prior life, I was a C developer :)"}],"answers":[{"tags":[],"owner":{"account_id":1886487,"reputation":396537,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1415636255,"creation_date":1415635053,"answer_id":26847735,"question_id":26847696,"body_markdown":"Fixed-size solution\r\n---\r\n\r\nTry:\r\n\r\n    return Arrays.asList(email);\r\n\r\nNote that the returned list will be fixed size. Quoting from the [javadoc][1]:\r\n\r\n&gt; Returns a fixed-size list backed by the specified array. This method acts as bridge between array-based and collection-based APIs, in combination with [`Collection.toArray()`][2]. The returned list is serializable and implements [`RandomAccess`][3].\r\n\r\n\r\nSo you can change elements in the returned `List`, but you cannot perform operations which change its size.\r\n\r\nSee this example:\r\n\r\n    String email = &quot;as@as.com&quot;;\r\n    List&lt;String&gt; list = Arrays.asList(email);\r\n\r\n    list.set(0, &quot;bs@bs.com&quot;); // OK\r\n    list.clear();             // throws UnsupportedOperationException\r\n    list.add(&quot;cc@cc.com&quot;);    // throws UnsupportedOperationException\r\n\r\nGeneral solution\r\n---\r\n\r\nIf you need to make the returned list completely modifiable, you can still do it in one line:\r\n\r\n    return new ArrayList&lt;&gt;(Arrays.asList(email));\r\n\r\nSo basically just create a new [`ArrayList`][4] initialized with the fixed-size list created by `Arrays.asList()`. Although this isn&#39;t really idiomatic to how a `List` with one element should be created, it solves your question.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#toArray--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/RandomAccess.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html","title":"create a list, add an element and return it to the caller in one statement","body":"<h2>Fixed-size solution</h2>\n\n<p>Try:</p>\n\n<pre><code>return Arrays.asList(email);\n</code></pre>\n\n<p>Note that the returned list will be fixed size. Quoting from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-\" rel=\"noreferrer\">javadoc</a>:</p>\n\n<blockquote>\n  <p>Returns a fixed-size list backed by the specified array. This method acts as bridge between array-based and collection-based APIs, in combination with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#toArray--\" rel=\"noreferrer\"><code>Collection.toArray()</code></a>. The returned list is serializable and implements <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/RandomAccess.html\" rel=\"noreferrer\"><code>RandomAccess</code></a>.</p>\n</blockquote>\n\n<p>So you can change elements in the returned <code>List</code>, but you cannot perform operations which change its size.</p>\n\n<p>See this example:</p>\n\n<pre><code>String email = \"as@as.com\";\nList&lt;String&gt; list = Arrays.asList(email);\n\nlist.set(0, \"bs@bs.com\"); // OK\nlist.clear();             // throws UnsupportedOperationException\nlist.add(\"cc@cc.com\");    // throws UnsupportedOperationException\n</code></pre>\n\n<h2>General solution</h2>\n\n<p>If you need to make the returned list completely modifiable, you can still do it in one line:</p>\n\n<pre><code>return new ArrayList&lt;&gt;(Arrays.asList(email));\n</code></pre>\n\n<p>So basically just create a new <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\"><code>ArrayList</code></a> initialized with the fixed-size list created by <code>Arrays.asList()</code>. Although this isn't really idiomatic to how a <code>List</code> with one element should be created, it solves your question.</p>\n"},{"tags":[],"owner":{"account_id":29560881,"reputation":1,"user_id":22655427,"display_name":"Marcus Altman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695967772,"creation_date":1695967772,"answer_id":77199766,"question_id":26847696,"body_markdown":"This returns an immutable list containing the elements provided as arguments:\r\n\r\n    return List.of(elements);\r\n","title":"create a list, add an element and return it to the caller in one statement","body":"<p>This returns an immutable list containing the elements provided as arguments:</p>\n<pre><code>return List.of(elements);\n</code></pre>\n"}],"owner":{"account_id":4400297,"reputation":498,"user_id":3586195,"accept_rate":67,"display_name":"user3586195"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6354,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":26847735,"answer_count":2,"score":5,"last_activity_date":1695967772,"creation_date":1415634958,"question_id":26847696,"body_markdown":"Is there a way to create a list and add an element and return the resulting list in one statement ?\r\n\r\n    return new ArrayList&lt;Email&gt;().add(email); \r\n\r\nAbove does not work for obvious reasons. Thanks. ","title":"create a list, add an element and return it to the caller in one statement","body":"<p>Is there a way to create a list and add an element and return the resulting list in one statement ?</p>\n\n<pre><code>return new ArrayList&lt;Email&gt;().add(email); \n</code></pre>\n\n<p>Above does not work for obvious reasons. Thanks. </p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2409035,"reputation":1992,"user_id":2104638,"accept_rate":47,"display_name":"Pasupathi Rajamanickam"},"score":1,"creation_date":1438153128,"post_id":31693258,"comment_id":51327274,"body_markdown":"Windows 64 bit you&#39;re using right? &#39;cause 32 bit will only take 2+GB of RAM even you have 8GB RAM.","body":"Windows 64 bit you&#39;re using right? &#39;cause 32 bit will only take 2+GB of RAM even you have 8GB RAM."},{"owner":{"account_id":1470610,"reputation":484,"user_id":1382283,"display_name":"nutfox"},"score":1,"creation_date":1438153192,"post_id":31693258,"comment_id":51327310,"body_markdown":"There could be an endless list of reasons for this. You should also provide additional information like: eclipse version, any new plugins that you installed before it got slower etc. We used to see problems with javascript validation and the maven builder slowing down our IDE (that was in version 3.4).","body":"There could be an endless list of reasons for this. You should also provide additional information like: eclipse version, any new plugins that you installed before it got slower etc. We used to see problems with javascript validation and the maven builder slowing down our IDE (that was in version 3.4)."},{"owner":{"account_id":881926,"reputation":1184,"user_id":2725666,"accept_rate":50,"display_name":"Ouney"},"score":0,"creation_date":1438153193,"post_id":31693258,"comment_id":51327313,"body_markdown":"Try launching eclipse from command prompt with memory arguments. eclipse -Xms 4048M -Xmx 4048M and look for any log on command prompt.","body":"Try launching eclipse from command prompt with memory arguments. eclipse -Xms 4048M -Xmx 4048M and look for any log on command prompt."},{"owner":{"account_id":5475185,"reputation":1004,"user_id":4353360,"accept_rate":60,"display_name":"Jan"},"score":0,"creation_date":1438153206,"post_id":31693258,"comment_id":51327327,"body_markdown":"Did you try using a clean workspace? You could try running eclipse in clean mode: [link](http://stackoverflow.com/questions/2030064/how-to-run-eclipse-in-clean-mode-and-what-happens-if-we-do-so)","body":"Did you try using a clean workspace? You could try running eclipse in clean mode: <a href=\"http://stackoverflow.com/questions/2030064/how-to-run-eclipse-in-clean-mode-and-what-happens-if-we-do-so\">link</a>"},{"owner":{"account_id":2409035,"reputation":1992,"user_id":2104638,"accept_rate":47,"display_name":"Pasupathi Rajamanickam"},"score":0,"creation_date":1438153341,"post_id":31693258,"comment_id":51327401,"body_markdown":"One more thing I used to do, I&#39;ll close Dynamic Web project as much as possible. &#39;cause building workspace will validate JARs inside web application which will take much time. So closing un-used project would help a little.","body":"One more thing I used to do, I&#39;ll close Dynamic Web project as much as possible. &#39;cause building workspace will validate JARs inside web application which will take much time. So closing un-used project would help a little."},{"owner":{"account_id":4496958,"reputation":52167,"user_id":4296747,"display_name":"Frederic Henri"},"score":0,"creation_date":1438153633,"post_id":31693258,"comment_id":51327552,"body_markdown":"as other mentioned, could be because of plugin, try to disable recent plugins you have installed and restart until it goes to normal","body":"as other mentioned, could be because of plugin, try to disable recent plugins you have installed and restart until it goes to normal"},{"owner":{"account_id":4218968,"reputation":4362,"user_id":3454208,"accept_rate":48,"display_name":"Varun"},"score":0,"creation_date":1438153814,"post_id":31693258,"comment_id":51327648,"body_markdown":"@link I do it now and then, but it does not effet","body":"@link I do it now and then, but it does not effet"},{"owner":{"account_id":4218968,"reputation":4362,"user_id":3454208,"accept_rate":48,"display_name":"Varun"},"score":0,"creation_date":1438153880,"post_id":31693258,"comment_id":51327678,"body_markdown":"@ Pasupathi I have only one Dynamic project","body":"@ Pasupathi I have only one Dynamic project"},{"owner":{"account_id":4792902,"reputation":5097,"user_id":3871551,"accept_rate":50,"display_name":"Leo"},"score":0,"creation_date":1438154243,"post_id":31693258,"comment_id":51327893,"body_markdown":"The following link can be helpful:\r\n\r\nhttp://stackoverflow.com/questions/316265/how-can-you-speed-up-eclipse","body":"The following link can be helpful:    <a href=\"http://stackoverflow.com/questions/316265/how-can-you-speed-up-eclipse\" title=\"how can you speed up eclipse\">stackoverflow.com/questions/316265/how-can-you-speed-up-ecli&zwnj;&#8203;pse</a>"}],"answers":[{"tags":[],"owner":{"account_id":6636414,"reputation":25,"user_id":5123479,"display_name":"sailakshmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438153615,"creation_date":1438153615,"answer_id":31693493,"question_id":31693258,"body_markdown":"Add -Xverify:none to your eclipse.ini file.\r\n\r\nIt will cut down your Eclipse startup time considerably.This will tell the VM not to validate all the .class files it is loading","title":"Why my eclipse is running so slow","body":"<p>Add -Xverify:none to your eclipse.ini file.</p>\n\n<p>It will cut down your Eclipse startup time considerably.This will tell the VM not to validate all the .class files it is loading</p>\n"},{"tags":[],"owner":{"account_id":1306536,"reputation":2406,"user_id":1255433,"accept_rate":63,"display_name":"pappu_kutty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438154711,"creation_date":1438154711,"answer_id":31693850,"question_id":31693258,"body_markdown":"try removing unwanted plugins from the eclipse.. since these plugins cause unnecessary memory consumption  you will definitely see some improvement. I have faced this issue, after removing some plugins,my eclipse got real faster..","title":"Why my eclipse is running so slow","body":"<p>try removing unwanted plugins from the eclipse.. since these plugins cause unnecessary memory consumption  you will definitely see some improvement. I have faced this issue, after removing some plugins,my eclipse got real faster..</p>\n"},{"tags":[],"owner":{"account_id":5078620,"reputation":188,"user_id":4075373,"display_name":"Medhi Redjem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448145752,"creation_date":1448145752,"answer_id":33849465,"question_id":31693258,"body_markdown":"You can try the Eclipse plug-in &#39;Optimizer for Eclipse&#39;. It really helped me to boost my Eclipse start-up. \r\n\r\nIt can update your settings by itself (change heap size, suggest the latest eclipse/jdk version, and more).\r\n\r\nLink : https://zeroturnaround.com/free/optimizer-for-eclipse/","title":"Why my eclipse is running so slow","body":"<p>You can try the Eclipse plug-in 'Optimizer for Eclipse'. It really helped me to boost my Eclipse start-up. </p>\n\n<p>It can update your settings by itself (change heap size, suggest the latest eclipse/jdk version, and more).</p>\n\n<p>Link : <a href=\"https://zeroturnaround.com/free/optimizer-for-eclipse/\" rel=\"nofollow\">https://zeroturnaround.com/free/optimizer-for-eclipse/</a></p>\n"},{"tags":[],"owner":{"account_id":15874445,"reputation":628,"user_id":11714440,"display_name":"Siva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666892299,"creation_date":1666892299,"answer_id":74226161,"question_id":31693258,"body_markdown":"Disable unwanted plugins during startup.\r\n\r\n[![Eclipse Startup Shutdown Settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wz03g.png","title":"Why my eclipse is running so slow","body":"<p>Disable unwanted plugins during startup.</p>\n<p><a href=\"https://i.stack.imgur.com/wz03g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wz03g.png\" alt=\"Eclipse Startup Shutdown Settings\" /></a></p>\n"}],"owner":{"account_id":4218968,"reputation":4362,"user_id":3454208,"accept_rate":48,"display_name":"Varun"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8513,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1695968325,"answer_count":4,"score":2,"last_activity_date":1695967265,"creation_date":1438152851,"question_id":31693258,"body_markdown":"I don&#39;t know whats wrong with my eclipse. its running so slow.\r\nit takes at least 10 minutes to open. when Start server it is also taking long time.I tried multiple way. \r\n\r\nI am on Windows 7, \r\n\r\neclipse LUNA (4.4.0)\r\n\r\nI am using maven and spring framework and running jboss server.\r\n\r\nI have 8 GB of RAM. \r\n\r\nmy eclipse.ini look like that\r\n\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.3.0.v20140415-2008.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.200.v20140603-1326\r\n    -product\r\n    org.eclipse.epp.package.jee.product\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.XXMaxPermSize\r\n    1024M\r\n    -showsplash\r\n    org.eclipse.platform\r\n    --launcher.XXMaxPermSize\r\n    1024m\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.appendVmargs\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=1.6\r\n    -Xms1024m\r\n    -Xmx1024m\r\n\r\nI have changed Xms and Xmx value from \r\n\r\n  -Xms128m\r\n\r\n  -Xmx128m\r\n\r\nto this\r\n\r\n-Xms1024m\r\n\r\n-Xmx1024m\r\n\r\nBut I am having the same issue,\r\nIt was working fine but after few days it become slower and slower.\r\nPlease help.\r\n\r\n","title":"Why my eclipse is running so slow","body":"<p>I don't know whats wrong with my eclipse. its running so slow.\nit takes at least 10 minutes to open. when Start server it is also taking long time.I tried multiple way. </p>\n\n<p>I am on Windows 7, </p>\n\n<p>eclipse LUNA (4.4.0)</p>\n\n<p>I am using maven and spring framework and running jboss server.</p>\n\n<p>I have 8 GB of RAM. </p>\n\n<p>my eclipse.ini look like that</p>\n\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.3.0.v20140415-2008.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.200.v20140603-1326\n-product\norg.eclipse.epp.package.jee.product\n--launcher.defaultAction\nopenFile\n--launcher.XXMaxPermSize\n1024M\n-showsplash\norg.eclipse.platform\n--launcher.XXMaxPermSize\n1024m\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vmargs\n-Dosgi.requiredJavaVersion=1.6\n-Xms1024m\n-Xmx1024m\n</code></pre>\n\n<p>I have changed Xms and Xmx value from </p>\n\n<p>-Xms128m</p>\n\n<p>-Xmx128m</p>\n\n<p>to this</p>\n\n<p>-Xms1024m</p>\n\n<p>-Xmx1024m</p>\n\n<p>But I am having the same issue,\nIt was working fine but after few days it become slower and slower.\nPlease help.</p>\n"},{"tags":["java","junit","terminal"],"comments":[{"owner":{"account_id":1187323,"reputation":3226,"user_id":1161025,"display_name":"maciek"},"score":0,"creation_date":1457391425,"post_id":26416697,"comment_id":59377114,"body_markdown":"Possible duplicate of http://stackoverflow.com/q/2235276/1161025.","body":"Possible duplicate of <a href=\"http://stackoverflow.com/q/2235276/1161025\">stackoverflow.com/q/2235276/1161025</a>."},{"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"score":0,"creation_date":1675088939,"post_id":26416697,"comment_id":132847478,"body_markdown":"Does this answer your question? [How to run JUnit test cases from the command line](https://stackoverflow.com/questions/2235276/how-to-run-junit-test-cases-from-the-command-line)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2235276/how-to-run-junit-test-cases-from-the-command-line\">How to run JUnit test cases from the command line</a>"},{"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"score":0,"creation_date":1675089112,"post_id":26416697,"comment_id":132847541,"body_markdown":"In case it doesn&#39;t answer your question, please post the full error you get.","body":"In case it doesn&#39;t answer your question, please post the full error you get."}],"answers":[{"tags":[],"owner":{"account_id":429398,"reputation":3457,"user_id":812272,"accept_rate":85,"display_name":"user3001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413511446,"creation_date":1413511446,"answer_id":26416788,"question_id":26416697,"body_markdown":"In the `JavaProject` folder, execute the following command:\r\n\r\n    java -cp .:./junit.jar org.junit.runner.JUnitCore QueueTests\r\n\r\nTo adapt your script, that would be\r\n   \r\n    #!/bin/sh\r\n    javac Queue.java QueueTests.java\r\n    CLASSPATH=&quot;.:junit.jar:&quot;\r\n    java -cp $CLASSPATH org.junit.runner.JUnitCore QueueTests   \r\n\r\nSee also the following question: https://stackoverflow.com/questions/2235276/how-to-run-junit-test-cases-from-the-command-line","title":"Running JUnit tests in terminal","body":"<p>In the <code>JavaProject</code> folder, execute the following command:</p>\n\n<pre><code>java -cp .:./junit.jar org.junit.runner.JUnitCore QueueTests\n</code></pre>\n\n<p>To adapt your script, that would be</p>\n\n<pre><code>#!/bin/sh\njavac Queue.java QueueTests.java\nCLASSPATH=\".:junit.jar:\"\njava -cp $CLASSPATH org.junit.runner.JUnitCore QueueTests   \n</code></pre>\n\n<p>See also the following question: <a href=\"https://stackoverflow.com/questions/2235276/how-to-run-junit-test-cases-from-the-command-line\">How to run JUnit test cases from the command line</a></p>\n"},{"tags":[],"owner":{"account_id":4803880,"reputation":2185,"user_id":4589003,"accept_rate":57,"display_name":"Sudip Bhandari"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1527058946,"creation_date":1527058946,"answer_id":50481837,"question_id":26416697,"body_markdown":"If you are trying to learn and experiment new things like this in java without having to load up a full/heavy IDE and meanwhile without having to run lengthy terminal commands I would recommend you to use a lightweight java IDE like [Dr Java][1].\r\n\r\nPS: I am assuming that you are running from terminal just to avoid the hassle of IDE to execute and run smaller tasks like this faster.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://www.drjava.org/\r\n  [2]: https://i.stack.imgur.com/XUcIt.gif","title":"Running JUnit tests in terminal","body":"<p>If you are trying to learn and experiment new things like this in java without having to load up a full/heavy IDE and meanwhile without having to run lengthy terminal commands I would recommend you to use a lightweight java IDE like <a href=\"http://www.drjava.org/\" rel=\"nofollow noreferrer\">Dr Java</a>.</p>\n\n<p>PS: I am assuming that you are running from terminal just to avoid the hassle of IDE to execute and run smaller tasks like this faster.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XUcIt.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XUcIt.gif\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":4535716,"reputation":269,"user_id":3684980,"accept_rate":30,"display_name":"user3684980"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8391,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1695967265,"creation_date":1413510679,"question_id":26416697,"body_markdown":"I&#39;m new to running java from the terminal and am currently trying to run a JUnit test class in terminal. The basic structure of my java classes is\r\n\r\n    JavaProject\r\n        Queue.java\r\n        QueueTests.java\r\n        junit.jar\r\n        RunTests\r\n    \r\nRunTests is a script with the following code. \r\n\r\n     #!/bin/sh\r\n     javac Queue.java\r\n     CLASSPATH=&quot;.:junit.jar:&quot;; export CLASSPATH\r\n     javac QueueTests.java\r\n     java org.junit.runner.JUnitCore QueueTests\r\n \r\nHowever, when I run this, I always get a &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError&quot; error from the final line. If i comment out the final line, there are no errors. As such, it seems like it is unable to find QueueTests.class. However, looking at the folder, it is clear after I run the script that both Queue.class and QueueTests.class are there. I am not sure what I am doing wrong. Any help would really be appreciated. \r\n\r\n\r\n","title":"Running JUnit tests in terminal","body":"<p>I'm new to running java from the terminal and am currently trying to run a JUnit test class in terminal. The basic structure of my java classes is</p>\n\n<pre><code>JavaProject\n    Queue.java\n    QueueTests.java\n    junit.jar\n    RunTests\n</code></pre>\n\n<p>RunTests is a script with the following code. </p>\n\n<pre><code> #!/bin/sh\n javac Queue.java\n CLASSPATH=\".:junit.jar:\"; export CLASSPATH\n javac QueueTests.java\n java org.junit.runner.JUnitCore QueueTests\n</code></pre>\n\n<p>However, when I run this, I always get a \"Exception in thread \"main\" java.lang.NoClassDefFoundError\" error from the final line. If i comment out the final line, there are no errors. As such, it seems like it is unable to find QueueTests.class. However, looking at the folder, it is clear after I run the script that both Queue.class and QueueTests.class are there. I am not sure what I am doing wrong. Any help would really be appreciated. </p>\n"},{"tags":["java","openid-connect","java-11","tomcat8","pac4j"],"answers":[{"tags":[],"owner":{"account_id":3755777,"reputation":499,"user_id":3122175,"accept_rate":92,"display_name":"D.T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695962058,"creation_date":1695962058,"answer_id":77199470,"question_id":77199430,"body_markdown":"1. Check the `-classpath` variable when the app starts, make sure `pac4j-core` jar file is there\r\n2. Search init log for `ExceptionInInitializerError`, it might lead to `NoClassDefFoundError`","title":"OIDC Library issue during the server startup","body":"<ol>\n<li>Check the <code>-classpath</code> variable when the app starts, make sure <code>pac4j-core</code> jar file is there</li>\n<li>Search init log for <code>ExceptionInInitializerError</code>, it might lead to <code>NoClassDefFoundError</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695967166,"creation_date":1695967166,"answer_id":77199721,"question_id":77199430,"body_markdown":"It&#39;s a matter of consistency between the versions of the pac4j libraries and the version of the jee-pac4j implementation.\r\n\r\nAs you can see on the README: https://github.com/pac4j/jee-pac4j, you should use the version 6.0.0 of jee-pac4j with pac4j v5.x.\r\n\r\nSee the demo as well: https://github.com/pac4j/jee-pac4j-demo/blob/6.0.x/pom.xml#L23","title":"OIDC Library issue during the server startup","body":"<p>It's a matter of consistency between the versions of the pac4j libraries and the version of the jee-pac4j implementation.</p>\n<p>As you can see on the README: <a href=\"https://github.com/pac4j/jee-pac4j\" rel=\"nofollow noreferrer\">https://github.com/pac4j/jee-pac4j</a>, you should use the version 6.0.0 of jee-pac4j with pac4j v5.x.</p>\n<p>See the demo as well: <a href=\"https://github.com/pac4j/jee-pac4j-demo/blob/6.0.x/pom.xml#L23\" rel=\"nofollow noreferrer\">https://github.com/pac4j/jee-pac4j-demo/blob/6.0.x/pom.xml#L23</a></p>\n"}],"owner":{"account_id":28955839,"reputation":1,"user_id":22179419,"display_name":"vivek204"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695967166,"creation_date":1695961031,"question_id":77199430,"body_markdown":"               &lt;pac4j.version&gt;5.6.0&lt;/pac4j.version&gt;\r\n                    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.pac4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pac4j-oidc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${pac4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.pac4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jee-pac4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.pac4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pac4j-javaee&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${pac4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.pac4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pac4j-http&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${pac4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.pac4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pac4j-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${pac4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.pac4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pac4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${pac4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\nApplication startup failed.java.lang.NoClassDefFoundError org/pac4j/context/JEEContext this error should not thrown as i have already added core libray.","title":"OIDC Library issue during the server startup","body":"<pre><code>           &lt;pac4j.version&gt;5.6.0&lt;/pac4j.version&gt;\n                &lt;dependency&gt;\n        &lt;groupId&gt;org.pac4j&lt;/groupId&gt;\n        &lt;artifactId&gt;pac4j-oidc&lt;/artifactId&gt;\n        &lt;version&gt;${pac4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.pac4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jee-pac4j&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.pac4j&lt;/groupId&gt;\n        &lt;artifactId&gt;pac4j-javaee&lt;/artifactId&gt;\n        &lt;version&gt;${pac4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.pac4j&lt;/groupId&gt;\n        &lt;artifactId&gt;pac4j-http&lt;/artifactId&gt;\n        &lt;version&gt;${pac4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.pac4j&lt;/groupId&gt;\n        &lt;artifactId&gt;pac4j-jwt&lt;/artifactId&gt;\n        &lt;version&gt;${pac4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.pac4j&lt;/groupId&gt;\n        &lt;artifactId&gt;pac4j-core&lt;/artifactId&gt;\n        &lt;version&gt;${pac4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Application startup failed.java.lang.NoClassDefFoundError org/pac4j/context/JEEContext this error should not thrown as i have already added core libray.</p>\n"},{"tags":["java","jts"],"answers":[{"tags":[],"owner":{"account_id":2004203,"reputation":7360,"user_id":1794538,"accept_rate":75,"display_name":"eh9"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353394367,"creation_date":1353394367,"answer_id":13467988,"question_id":8807279,"body_markdown":"You can just verify that the distance from the point is less than the radius. No need to draw the circle to know which points are inside it. For faster run times, compare the square of the distance with the square of the radius; this saves unnecessary square root operations.\r\n\r\nFor ellipses, the problem is only slightly harder, involving a quadratic form `x^2 + k y^2`.","title":"Point in Circle with JTS","body":"<p>You can just verify that the distance from the point is less than the radius. No need to draw the circle to know which points are inside it. For faster run times, compare the square of the distance with the square of the radius; this saves unnecessary square root operations.</p>\n\n<p>For ellipses, the problem is only slightly harder, involving a quadratic form <code>x^2 + k y^2</code>.</p>\n"},{"tags":[],"owner":{"account_id":3758327,"reputation":1105,"user_id":3124150,"accept_rate":92,"display_name":"EmmanuelMess"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1441071471,"creation_date":1441071471,"answer_id":32322289,"question_id":8807279,"body_markdown":"If I understood correctly you have the radius and the center, so you can draw a circle with JTS like this:\r\n\r\n    public static Geometry createCircle(double x, double y, final double RADIUS) {\r\n\t\tGeometricShapeFactory shapeFactory = new GeometricShapeFactory();\r\n\t\tshapeFactory.setNumPoints(32);\r\n\t\tshapeFactory.setCentre(new Coordinate(x, y));\r\n\t\tshapeFactory.setSize(RADIUS * 2);\r\n\t\treturn shapeFactory.createCircle();\r\n\t}\r\n","title":"Point in Circle with JTS","body":"<p>If I understood correctly you have the radius and the center, so you can draw a circle with JTS like this:</p>\n\n<pre><code>public static Geometry createCircle(double x, double y, final double RADIUS) {\n    GeometricShapeFactory shapeFactory = new GeometricShapeFactory();\n    shapeFactory.setNumPoints(32);\n    shapeFactory.setCentre(new Coordinate(x, y));\n    shapeFactory.setSize(RADIUS * 2);\n    return shapeFactory.createCircle();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5332823,"reputation":579,"user_id":4252929,"display_name":"Brian Pfretzschner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541954621,"creation_date":1541954621,"answer_id":53250917,"question_id":8807279,"body_markdown":"You can simply `buffer` the circle center with a positive value like so:\r\n\r\n    Point centerPoint = ...;\r\n    Polygon circle = (Polygon) centerPoint.buffer(0.1);","title":"Point in Circle with JTS","body":"<p>You can simply <code>buffer</code> the circle center with a positive value like so:</p>\n\n<pre><code>Point centerPoint = ...;\nPolygon circle = (Polygon) centerPoint.buffer(0.1);\n</code></pre>\n"}],"owner":{"account_id":1151350,"reputation":71,"user_id":1132984,"display_name":"user1132984"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5010,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1695966878,"creation_date":1326214948,"question_id":8807279,"body_markdown":"I have a huge set of points already loaded within a plane I need to draw a circle/ellipse starting from a given point and a radius distance in meters then check which points are inside the circle.\r\n\r\nI&#39;ve already done this with a polygon with the within() method, but I can&#39;t find a way to draw a circle/ellipse without having to specify every point around the polygon.\r\n\r\nIs there a way to do this on JTS or do I need another java library?","title":"Point in Circle with JTS","body":"<p>I have a huge set of points already loaded within a plane I need to draw a circle/ellipse starting from a given point and a radius distance in meters then check which points are inside the circle.</p>\n\n<p>I've already done this with a polygon with the within() method, but I can't find a way to draw a circle/ellipse without having to specify every point around the polygon.</p>\n\n<p>Is there a way to do this on JTS or do I need another java library?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695373332,"post_id":77153038,"comment_id":136018578,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":29503525,"reputation":1,"user_id":22610018,"display_name":"adiinfo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695966434,"creation_date":1695966434,"answer_id":77199666,"question_id":77153038,"body_markdown":"having a look at the source in hibernate-core, the method getColumnComment in AbstractHANADialect.java misses a leading space.\r\n\r\nAs can be seen when comparing i.e against the code in MySQLDialect.java.\r\n\r\nI have opened a pull request at hibernate.\r\n\r\n    MySQLDialect.java:\r\n    @Override\r\n    public String getColumnComment(String comment)\r\n    {\r\n        return &quot; comment &#39;&quot; + comment + &quot;&#39;&quot;;\r\n    }\r\n    \r\n    AbstractHANADialect.java\r\n    @Override\r\n    public String getColumnComment(String comment)\r\n    {\r\n        return &quot;comment &#39;&quot; + comment + &quot;&#39;&quot;;\r\n    }","title":"hibernate generates wrong create table DDL command for SAP HANA","body":"<p>having a look at the source in hibernate-core, the method getColumnComment in AbstractHANADialect.java misses a leading space.</p>\n<p>As can be seen when comparing i.e against the code in MySQLDialect.java.</p>\n<p>I have opened a pull request at hibernate.</p>\n<pre><code>MySQLDialect.java:\n@Override\npublic String getColumnComment(String comment)\n{\n    return &quot; comment '&quot; + comment + &quot;'&quot;;\n}\n\nAbstractHANADialect.java\n@Override\npublic String getColumnComment(String comment)\n{\n    return &quot;comment '&quot; + comment + &quot;'&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":29503525,"reputation":1,"user_id":22610018,"display_name":"adiinfo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695966434,"creation_date":1695323552,"question_id":77153038,"body_markdown":"Hibernate creates a table create statement without space before the keyword &quot;comment&quot; in all column definitions. As shown below.\r\n\r\nThis is with Hibernate 6.3.1-Final and the newest SAP HANA JDBC driver 2.17.12.\r\n\r\nHibernate: create column table KBDATA.IARTBZ (ARTMB decimal(34,0)comment &#39;Technisches Merkblatt&#39;, SPRCD decimal(34,0) not nullcomment &#39;Sprachcode&#39;, ARTB1 char(50)comment &#39;Bezeichnung 1&#39;, ARTB2 char(50)comment &#39;Bezeichnung 2&#39;, ARTBZ char(50)comment &#39;Bezeichnung&#39;, ARTES char(30)comment &#39;Eigenschaft&#39;, ARTET char(30)comment &#39;Effekt&#39;, ARTFT char(20)comment &#39;Farbton&#39;, ARTIA char(20)comment &#39;InnenAussen&#39;, ARTKN char(20)comment &#39;K&#246;rnung&#39;, ARTNA char(30)comment &#39;Artikel-Name&#39;, ARTNR char(5) not nullcomment &#39;Art.Nr.&#39;, ARTST char(30)comment &#39;Struktur&#39;, ARTZN char(30)comment &#39;Zusatzname&#39;, GLGRD char(15)comment &#39;Glanzgrad&#39;, primary key (SPRCD, ARTNR))\r\n\r\n\r\nWe tried also older versions of hibernate and the SAP HANA driver. To no avail.\r\nWhen running the same Entity definition against MariaDB, the create table statement is created correctly (with a space before the &quot;comment&quot; keyword).","title":"hibernate generates wrong create table DDL command for SAP HANA","body":"<p>Hibernate creates a table create statement without space before the keyword &quot;comment&quot; in all column definitions. As shown below.</p>\n<p>This is with Hibernate 6.3.1-Final and the newest SAP HANA JDBC driver 2.17.12.</p>\n<p>Hibernate: create column table KBDATA.IARTBZ (ARTMB decimal(34,0)comment 'Technisches Merkblatt', SPRCD decimal(34,0) not nullcomment 'Sprachcode', ARTB1 char(50)comment 'Bezeichnung 1', ARTB2 char(50)comment 'Bezeichnung 2', ARTBZ char(50)comment 'Bezeichnung', ARTES char(30)comment 'Eigenschaft', ARTET char(30)comment 'Effekt', ARTFT char(20)comment 'Farbton', ARTIA char(20)comment 'InnenAussen', ARTKN char(20)comment 'Körnung', ARTNA char(30)comment 'Artikel-Name', ARTNR char(5) not nullcomment 'Art.Nr.', ARTST char(30)comment 'Struktur', ARTZN char(30)comment 'Zusatzname', GLGRD char(15)comment 'Glanzgrad', primary key (SPRCD, ARTNR))</p>\n<p>We tried also older versions of hibernate and the SAP HANA driver. To no avail.\nWhen running the same Entity definition against MariaDB, the create table statement is created correctly (with a space before the &quot;comment&quot; keyword).</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695950633,"creation_date":1695950633,"answer_id":77199029,"question_id":77199019,"body_markdown":"House constructor requires 2 arguments but you are using no arguments when executing new House(). Add house name and age inside the parentheses.","title":"Creating Multiple Different objects in Driver.class","body":"<p>House constructor requires 2 arguments but you are using no arguments when executing new House(). Add house name and age inside the parentheses.</p>\n"},{"tags":[],"owner":{"account_id":29026225,"reputation":11,"user_id":22234315,"display_name":"Kavindu Gamage"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695953567,"creation_date":1695953567,"answer_id":77199138,"question_id":77199019,"body_markdown":"When you create a constructor with parameters in Java, the compiler won&#39;t automatically generate a no-argument constructor.That&#39;s why you won&#39;t be able to create an object like this. To create instances of the class without passing constructor arguments, you must explicitly define a no-argument constructor.\r\n\r\n    public House() {\r\n    \r\n      }\r\n\r\nApart from that, the argument constructor method&#39;s variable assignments should be done using this like this:\r\n\r\n    public House(String nameIn, int ageIn) {\r\n      this.houseName = nameIn;\r\n      this.houseAge = ageIn;\r\n    }\r\n\r\nThe use of `this` in the constructor is used to distinguish between the instance variables and the constructor parameters when they have the same names.","title":"Creating Multiple Different objects in Driver.class","body":"<p>When you create a constructor with parameters in Java, the compiler won't automatically generate a no-argument constructor.That's why you won't be able to create an object like this. To create instances of the class without passing constructor arguments, you must explicitly define a no-argument constructor.</p>\n<pre><code>public House() {\n\n  }\n</code></pre>\n<p>Apart from that, the argument constructor method's variable assignments should be done using this like this:</p>\n<pre><code>public House(String nameIn, int ageIn) {\n  this.houseName = nameIn;\n  this.houseAge = ageIn;\n}\n</code></pre>\n<p>The use of <code>this</code> in the constructor is used to distinguish between the instance variables and the constructor parameters when they have the same names.</p>\n"},{"tags":[],"owner":{"account_id":29559739,"reputation":1,"user_id":22654555,"display_name":"Rashminda"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695966323,"creation_date":1695954216,"answer_id":77199162,"question_id":77199019,"body_markdown":"            import java.util.Scanner; //added\r\n                    \r\n            public class HouseDriver {\r\n                \r\n                public static void main(String[] args) {\r\n                    \r\n                    //to input values use Scanner \r\n                    Scanner input =new Scanner(System.in); //added\r\n                    \r\n                    System.out.println(&quot;Enter House Name: &quot;); //added\r\n                    String housename=input.next();\r\n                    \r\n                    System.out.println(&quot;Enter House Age: &quot;); //added\r\n                    int houseage=input.nextInt();\r\n                    \r\n                    House house1 = new House(housename,houseage); \r\n        //fixed area needs to enter parameters\r\n        /* your code \r\n        \r\n          House house1 = new House();  \r\n        in this case there is no parameters added , why you need to add parameters because you called public House using parameters, it considerd as a parameterized constructor when creating an object, there for you need to provide values when calling from main function to fill the parameters. \r\n          \r\n    House class above mentioned constructor\r\n    public House (String houseName, int houseAge) {\r\n                    houseNAME = houseName; \r\n                    houseAGE = houseAge; \r\n                  }\r\n        \r\n        */\r\n                    \r\n                    System.out.println(&quot;House Name is : &quot;+house1.getName());\r\n                    System.out.println(&quot;House Age is : &quot;+house1.getAge());\r\n                    \r\n                    System.out.println(&quot;To change house name enter: 1 or else 0. &quot;);// additional \r\n                    int num=input.nextInt();\r\n                    \r\n                    if(num==1){\r\n                        System.out.println(&quot;Enter new House Name: &quot;);\r\n                        String newhousename=input.next();\r\n                        \r\n                        house1.setName(newhousename);\r\n                        System.out.println(&quot;New House Name is : &quot;+house1.getName());\r\n                    }\r\n                    else if(num == 0 ){\r\n                        return;\r\n                    }\r\n                    else{\r\n                        System.out.println(&quot;Invalid Value. &quot;);\r\n                    }\r\n                }         \r\n            }\r\n            \r\n            \r\n            \r\n                class House {\r\n                  private String houseNAME; //\r\n                  private int houseAGE; //\r\n                \r\n                  public House (String houseName, int houseAge) {\r\n                    houseNAME = houseName; //fixed area\r\n                    houseAGE = houseAge; //fixed area\r\n                  }\r\n        \r\n        /* your code\r\n         public House (String houseName, int houseAge) {\r\n            houseName = nameIn;\r\n            houseAge = ageIn;\r\n          }\r\n        \r\n        \r\n        and in here above code there is no available variable or parameter  named nameIn and ageIn that can be equal to houseName,houseAge\r\n        */\r\n        \r\n        \r\n        \r\n                  public String getName() {\r\n                  return houseNAME;} //fixed area\r\n                \r\n                  public int getAge() {\r\n                  return houseAGE;} //fixed area\r\n        \r\n        /* your code\r\n        public int getAge() {\r\n          return ageIn;\r\n          }\r\n        in the above code you have returned ageIn but there is no variable available there for compiler can&#39;t return a value. \r\n        in your code you have created variables \r\n        \r\n        private String houseName;\r\n        private int houseAge;\r\n        \r\n        you can return values that are stored in the variables.\r\n        \r\n        for get or return the name \r\n        public String getName() {\r\n              return houseNAME;} here houseName is varible name.\r\n         \r\n        \r\n        for return age\r\n        public int getAge() {\r\n              return houseAGE;} here houseAge is varible name.\r\n        \r\n        */\r\n        \r\n        \r\n                  public void setName (String houseName) {\r\n                  houseNAME = houseName; //fixed area\r\n                  }\r\n        /* so in the above code you can equal the parameter value to the variable name since you are updating or setting a new name */\r\n        \r\n                }\r\n\r\n\r\n","title":"Creating Multiple Different objects in Driver.class","body":"<pre><code>        import java.util.Scanner; //added\n                \n        public class HouseDriver {\n            \n            public static void main(String[] args) {\n                \n                //to input values use Scanner \n                Scanner input =new Scanner(System.in); //added\n                \n                System.out.println(&quot;Enter House Name: &quot;); //added\n                String housename=input.next();\n                \n                System.out.println(&quot;Enter House Age: &quot;); //added\n                int houseage=input.nextInt();\n                \n                House house1 = new House(housename,houseage); \n    //fixed area needs to enter parameters\n    /* your code \n    \n      House house1 = new House();  \n    in this case there is no parameters added , why you need to add parameters because you called public House using parameters, it considerd as a parameterized constructor when creating an object, there for you need to provide values when calling from main function to fill the parameters. \n      \nHouse class above mentioned constructor\npublic House (String houseName, int houseAge) {\n                houseNAME = houseName; \n                houseAGE = houseAge; \n              }\n    \n    */\n                \n                System.out.println(&quot;House Name is : &quot;+house1.getName());\n                System.out.println(&quot;House Age is : &quot;+house1.getAge());\n                \n                System.out.println(&quot;To change house name enter: 1 or else 0. &quot;);// additional \n                int num=input.nextInt();\n                \n                if(num==1){\n                    System.out.println(&quot;Enter new House Name: &quot;);\n                    String newhousename=input.next();\n                    \n                    house1.setName(newhousename);\n                    System.out.println(&quot;New House Name is : &quot;+house1.getName());\n                }\n                else if(num == 0 ){\n                    return;\n                }\n                else{\n                    System.out.println(&quot;Invalid Value. &quot;);\n                }\n            }         \n        }\n        \n        \n        \n            class House {\n              private String houseNAME; //\n              private int houseAGE; //\n            \n              public House (String houseName, int houseAge) {\n                houseNAME = houseName; //fixed area\n                houseAGE = houseAge; //fixed area\n              }\n    \n    /* your code\n     public House (String houseName, int houseAge) {\n        houseName = nameIn;\n        houseAge = ageIn;\n      }\n    \n    \n    and in here above code there is no available variable or parameter  named nameIn and ageIn that can be equal to houseName,houseAge\n    */\n    \n    \n    \n              public String getName() {\n              return houseNAME;} //fixed area\n            \n              public int getAge() {\n              return houseAGE;} //fixed area\n    \n    /* your code\n    public int getAge() {\n      return ageIn;\n      }\n    in the above code you have returned ageIn but there is no variable available there for compiler can't return a value. \n    in your code you have created variables \n    \n    private String houseName;\n    private int houseAge;\n    \n    you can return values that are stored in the variables.\n    \n    for get or return the name \n    public String getName() {\n          return houseNAME;} here houseName is varible name.\n     \n    \n    for return age\n    public int getAge() {\n          return houseAGE;} here houseAge is varible name.\n    \n    */\n    \n    \n              public void setName (String houseName) {\n              houseNAME = houseName; //fixed area\n              }\n    /* so in the above code you can equal the parameter value to the variable name since you are updating or setting a new name */\n    \n            }\n</code></pre>\n"}],"owner":{"account_id":29505955,"reputation":1,"user_id":22611922,"display_name":"John Elsi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695966323,"creation_date":1695950329,"question_id":77199019,"body_markdown":"I&#39;m trying to create 3 different house objects with different parameters in java (houseName, houseAge) in my driver.class, but can&#39;t seem to figure out how. I just started learning to code, and I&#39;ve been banging my head against the wall for hours on this one. I&#39;m sure it&#39;s something simple, but I can&#39;t seem to get it. Thanks in advance!\r\n\r\nDriver.class: \r\n\r\n    public class HouseDriver {\r\n      public static void main (String[] args) {\r\n      House house1 = new House();\r\n      }\r\n    }\r\n\r\nHouse.class:\r\n\r\n    public class House {\r\n      private String houseName;\r\n      private int houseAge;\r\n       \r\n      public House (String houseName, int houseAge) {\r\n        houseName = nameIn;\r\n        houseAge = ageIn;\r\n      }\r\n      public String getName() {\r\n      return houseName;\r\n      }\r\n      public int getAge() {\r\n      return ageIn;\r\n      }\r\n      public void setName (String houseName) {\r\n      houseName = nameIn;\r\n      }\r\n    }  \r\n\r\n\r\nError: HouseDriver.java:3: error: constructor House in class House cannot be applied to given types;\r\n        House house1 = new House();\r\n                         ^\r\n  required: String,int\r\n  found: no arguments\r\n  reason: actual and formal argument lists differ in length\r\n1 error","title":"Creating Multiple Different objects in Driver.class","body":"<p>I'm trying to create 3 different house objects with different parameters in java (houseName, houseAge) in my driver.class, but can't seem to figure out how. I just started learning to code, and I've been banging my head against the wall for hours on this one. I'm sure it's something simple, but I can't seem to get it. Thanks in advance!</p>\n<p>Driver.class:</p>\n<pre><code>public class HouseDriver {\n  public static void main (String[] args) {\n  House house1 = new House();\n  }\n}\n</code></pre>\n<p>House.class:</p>\n<pre><code>public class House {\n  private String houseName;\n  private int houseAge;\n   \n  public House (String houseName, int houseAge) {\n    houseName = nameIn;\n    houseAge = ageIn;\n  }\n  public String getName() {\n  return houseName;\n  }\n  public int getAge() {\n  return ageIn;\n  }\n  public void setName (String houseName) {\n  houseName = nameIn;\n  }\n}  \n</code></pre>\n<p>Error: HouseDriver.java:3: error: constructor House in class House cannot be applied to given types;\nHouse house1 = new House();\n^\nrequired: String,int\nfound: no arguments\nreason: actual and formal argument lists differ in length\n1 error</p>\n"},{"tags":["java","gradle","annotations","javac","annotation-processing"],"owner":{"account_id":10838008,"reputation":115,"user_id":7970317,"display_name":"Fouyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695966118,"creation_date":1695966118,"question_id":77199647,"body_markdown":"I extended the AbstractProcessor to create an annotation processor to generate a class in Java and it works fine.\r\n\r\nThe first issue is: the class only is generated for the **second time I run** `./gradlew build`. The first time I run it, the build folder is generated, but the annotations generated code not.\r\n\r\nThe second issue (that my be related to the first one) **Gradle won&#39;t compile if I have some code that is dependent of the generated class. It throws:**\r\n\r\n```\r\n&gt; Task :compileJava FAILED\r\n/src/main/java/me/fouyer/Main.java:6: error: cannot find symbol\r\n```\r\n\r\nMy `build.gradle`\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;me.fouyer&#39;\r\nversion = &#39;1.0.0&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.google.auto.service:auto-service:1.1.1&#39;\r\n    annotationProcessor(&#39;me.fouyer:annotation:1.0.0&#39;)\r\n}\r\n```\r\n\r\nI created a repository with a minimal, reproducible example where I have the annotation, the annotation processor and a Person class that uses the annotation. [GitHub](https://github.com/joaofouyer/annotation-mre)\r\n\r\n \r\n\r\nI already tried:\r\n\r\n- Using Google&#39;s Auto Service.\r\n- Removing Google&#39;s Auto Service and creating `src/resources/META-INF/services/javax.annotation.processing.Processor` manually.\r\n- Running on terminal or by IntelliJ&#39;s interface\r\n- [Gradle can not compile the code with the generated sources by annotationProcessor](https://stackoverflow.com/questions/65025140/gradle-can-not-compile-the-code-with-the-generated-sources-by-annotationprocesso) He had the same issue, but in his case the error was on generating the file. But I tried to copy his `build.gradle` but the task `preProcessAnnotation` is a little bit confusing for me on what it does and how could I change it for my scenario.\r\n- [Adding the path to the generated sources using SourceSets](https://stackoverflow.com/a/5028796)","title":"Compile code with generated source by annotation processor on Gradle","body":"<p>I extended the AbstractProcessor to create an annotation processor to generate a class in Java and it works fine.</p>\n<p>The first issue is: the class only is generated for the <strong>second time I run</strong> <code>./gradlew build</code>. The first time I run it, the build folder is generated, but the annotations generated code not.</p>\n<p>The second issue (that my be related to the first one) <strong>Gradle won't compile if I have some code that is dependent of the generated class. It throws:</strong></p>\n<pre><code>&gt; Task :compileJava FAILED\n/src/main/java/me/fouyer/Main.java:6: error: cannot find symbol\n</code></pre>\n<p>My <code>build.gradle</code></p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup = 'me.fouyer'\nversion = '1.0.0'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.google.auto.service:auto-service:1.1.1'\n    annotationProcessor('me.fouyer:annotation:1.0.0')\n}\n</code></pre>\n<p>I created a repository with a minimal, reproducible example where I have the annotation, the annotation processor and a Person class that uses the annotation. <a href=\"https://github.com/joaofouyer/annotation-mre\" rel=\"nofollow noreferrer\">GitHub</a></p>\n<p>I already tried:</p>\n<ul>\n<li>Using Google's Auto Service.</li>\n<li>Removing Google's Auto Service and creating <code>src/resources/META-INF/services/javax.annotation.processing.Processor</code> manually.</li>\n<li>Running on terminal or by IntelliJ's interface</li>\n<li><a href=\"https://stackoverflow.com/questions/65025140/gradle-can-not-compile-the-code-with-the-generated-sources-by-annotationprocesso\">Gradle can not compile the code with the generated sources by annotationProcessor</a> He had the same issue, but in his case the error was on generating the file. But I tried to copy his <code>build.gradle</code> but the task <code>preProcessAnnotation</code> is a little bit confusing for me on what it does and how could I change it for my scenario.</li>\n<li><a href=\"https://stackoverflow.com/a/5028796\">Adding the path to the generated sources using SourceSets</a></li>\n</ul>\n"},{"tags":["javascript","java","node.js","cryptojs"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1579418034,"post_id":59788079,"comment_id":105755456,"body_markdown":"(1) The NodeJS code lacks the concatenation of IV and plain text (`encrypt`-method) and the separation of (encrypted) IV and ciphertext (`decrypt`-method). Note: For encryption the concatenation of IV and _ciphertext_ would be sufficient. The IV isn&#39;t a secret and therefore doesn&#39;t need to be encrypted. (2) In the Java code a zero-vector is used for the IV, a pseudo-random IV would be more useful. (3) In both codes different keys are used (in the Java code a 24 bytes key and thus AES-192, in the NodeJS code a 32 bytes key and thus AES-256).","body":"(1) The NodeJS code lacks the concatenation of IV and plain text (<code>encrypt</code>-method) and the separation of (encrypted) IV and ciphertext (<code>decrypt</code>-method). Note: For encryption the concatenation of IV and <i>ciphertext</i> would be sufficient. The IV isn&#39;t a secret and therefore doesn&#39;t need to be encrypted. (2) In the Java code a zero-vector is used for the IV, a pseudo-random IV would be more useful. (3) In both codes different keys are used (in the Java code a 24 bytes key and thus AES-192, in the NodeJS code a 32 bytes key and thus AES-256)."}],"answers":[{"tags":[],"owner":{"account_id":14952182,"reputation":1163,"user_id":10794806,"display_name":"Gaurav Dhiman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1579269843,"creation_date":1579269843,"answer_id":59788932,"question_id":59788079,"body_markdown":"Initialization vector length of `AES` in `CBC` mode is 16 Bytes, code in JAVA takes first 16 bytes of `IV` however for node.js code it uses all 24 bytes of IV, hence an error. try this code\r\n\r\n```\r\nvar crypto = require(&#39;crypto&#39;);\r\n\r\nfunction getAlgorithm(keyBase64) {\r\n\r\n    var key = Buffer.from(keyBase64, &#39;base64&#39;);\r\n    switch (key.length) {\r\n        case 16:\r\n            return &#39;aes-128-cbc&#39;;\r\n        case 32:\r\n            return &#39;aes-256-cbc&#39;;\r\n\r\n    }\r\n\r\n    throw new Error(&#39;Invalid key length: &#39; + key.length);\r\n}\r\n\r\n\r\nfunction encrypt(plainText, keyBase64, ivBase64) {\r\n\r\n    const key = Buffer.from(keyBase64, &#39;base64&#39;);\r\n    const iv  = Buffer.from(ivBase64, &#39;base64&#39;);\r\n\r\n    const cipher  = crypto.createCipheriv(getAlgorithm(keyBase64), key, iv.slice(0, 16));\r\n    let encrypted = cipher.update(plainText, &#39;utf8&#39;, &#39;base64&#39;);\r\n    encrypted += cipher.final(&#39;base64&#39;);\r\n    return encrypted;\r\n}\r\n\r\nfunction decrypt(messagebase64, keyBase64, ivBase64) {\r\n\r\n    const key = Buffer.from(keyBase64, &#39;base64&#39;);\r\n    const iv  = Buffer.from(ivBase64, &#39;base64&#39;);\r\n\r\n    const decipher = crypto.createDecipheriv(getAlgorithm(keyBase64), key, iv.slice(0, 16));\r\n    let decrypted  = decipher.update(messagebase64, &#39;base64&#39;);\r\n    decrypted += decipher.final();\r\n    return decrypted;\r\n}\r\n\r\n\r\nvar keyBase64 = &quot;DWIzFkO22qfVMgx2fIsxOXnwz10pRuZfFJBvf4RS3eY=&quot;;\r\nvar ivBase64  = &#39;e3a74e3c7599f3ab4601d587bd2cc768&#39;;\r\nvar plainText = &#39;&lt;Request xmlns=&quot;http://www.kotak.com/schemas/CorpCCPaymentsOTP/CorpCCPaymentsOTP.xsd&quot;&gt;&lt;username&gt;ENKASH&lt;/username&gt;&lt;password&gt;Corp@123&lt;/password&gt;&lt;SrcAppCd&gt;ENKA SH&lt;/SrcAppCd&gt;&lt;RefNo&gt;Ref1111111111&lt;/RefNo&gt;&lt;CardNo&gt;4280933990002698&lt;/CardNo &gt;&lt;OTP&gt;12345&lt;/OTP&gt;&lt;/Request&gt;&#39;;\r\n\r\nvar cipherText          = encrypt(plainText, keyBase64, ivBase64);\r\nvar decryptedCipherText = decrypt(cipherText, keyBase64, ivBase64);\r\n\r\nconsole.log(&#39;Algorithm: &#39; + getAlgorithm(keyBase64));\r\nconsole.log(&#39;Plaintext: &#39; + plainText);\r\nconsole.log(&#39;Ciphertext: &#39; + cipherText);\r\nconsole.log(&#39;Decoded Ciphertext: &#39; + decryptedCipherText);\r\n\r\n```","title":"AES/CBC/PKCS5Padding in NodeJs","body":"<p>Initialization vector length of <code>AES</code> in <code>CBC</code> mode is 16 Bytes, code in JAVA takes first 16 bytes of <code>IV</code> however for node.js code it uses all 24 bytes of IV, hence an error. try this code</p>\n\n<pre><code>var crypto = require('crypto');\n\nfunction getAlgorithm(keyBase64) {\n\n    var key = Buffer.from(keyBase64, 'base64');\n    switch (key.length) {\n        case 16:\n            return 'aes-128-cbc';\n        case 32:\n            return 'aes-256-cbc';\n\n    }\n\n    throw new Error('Invalid key length: ' + key.length);\n}\n\n\nfunction encrypt(plainText, keyBase64, ivBase64) {\n\n    const key = Buffer.from(keyBase64, 'base64');\n    const iv  = Buffer.from(ivBase64, 'base64');\n\n    const cipher  = crypto.createCipheriv(getAlgorithm(keyBase64), key, iv.slice(0, 16));\n    let encrypted = cipher.update(plainText, 'utf8', 'base64');\n    encrypted += cipher.final('base64');\n    return encrypted;\n}\n\nfunction decrypt(messagebase64, keyBase64, ivBase64) {\n\n    const key = Buffer.from(keyBase64, 'base64');\n    const iv  = Buffer.from(ivBase64, 'base64');\n\n    const decipher = crypto.createDecipheriv(getAlgorithm(keyBase64), key, iv.slice(0, 16));\n    let decrypted  = decipher.update(messagebase64, 'base64');\n    decrypted += decipher.final();\n    return decrypted;\n}\n\n\nvar keyBase64 = \"DWIzFkO22qfVMgx2fIsxOXnwz10pRuZfFJBvf4RS3eY=\";\nvar ivBase64  = 'e3a74e3c7599f3ab4601d587bd2cc768';\nvar plainText = '&lt;Request xmlns=\"http://www.kotak.com/schemas/CorpCCPaymentsOTP/CorpCCPaymentsOTP.xsd\"&gt;&lt;username&gt;ENKASH&lt;/username&gt;&lt;password&gt;Corp@123&lt;/password&gt;&lt;SrcAppCd&gt;ENKA SH&lt;/SrcAppCd&gt;&lt;RefNo&gt;Ref1111111111&lt;/RefNo&gt;&lt;CardNo&gt;4280933990002698&lt;/CardNo &gt;&lt;OTP&gt;12345&lt;/OTP&gt;&lt;/Request&gt;';\n\nvar cipherText          = encrypt(plainText, keyBase64, ivBase64);\nvar decryptedCipherText = decrypt(cipherText, keyBase64, ivBase64);\n\nconsole.log('Algorithm: ' + getAlgorithm(keyBase64));\nconsole.log('Plaintext: ' + plainText);\nconsole.log('Ciphertext: ' + cipherText);\nconsole.log('Decoded Ciphertext: ' + decryptedCipherText);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1805759,"reputation":53,"user_id":1642877,"display_name":"Ranjeet Jha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618898656,"creation_date":1618898656,"answer_id":67173309,"question_id":59788079,"body_markdown":"in java key converted in 16 byte so &#39;AES/CBC/PKCS5Padding&#39; algo applied while in nodejs this is convered into 24 byte so we need to apply &#39;aes-192-cbc&#39;.\r\n\r\n\r\n    var crypto = require(&#39;crypto&#39;);\r\n    \r\n    const encrypt = (plainText, keyBase64) =&gt;{\r\n    \r\n        const textBuffer = Buffer.from(plainText);\r\n        const key = Buffer.from(keyBase64, &#39;base64&#39;);\r\n        var iv = Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);\r\n        var encoded = Buffer.concat([iv,textBuffer]);\r\n        const cipher = crypto.createCipheriv(&#39;aes-192-cbc&#39;, key, iv);\r\n        let encrypted = cipher.update(encoded, &#39;binary&#39;, &#39;base64&#39;)\r\n        encrypted += cipher.final(&#39;base64&#39;);\r\n        return encrypted;\r\n    };\r\n    \r\n    const decrypt =  (messagebase64, keyBase64) =&gt;{\r\n    \r\n        const key = Buffer.from(keyBase64, &#39;base64&#39;);\r\n        const encoded = Buffer.from(messagebase64, &#39;base64&#39;);\r\n        var iv = encoded.slice(0, 16);\r\n        var decoded = encoded.slice(16,encoded.length);\r\n        const decipher = crypto.createDecipheriv(&#39;aes-192-cbc&#39;, key, iv);\r\n        let decrypted = decipher.update(decoded, &#39;binary&#39;,&#39;utf-8&#39;);\r\n        decrypted += decipher.final();\r\n        return decrypted;\r\n    }\r\n    \r\n    \r\n    \r\n     String str = &quot;&lt;Request xmlns=\\&quot;http://www.kotak.com/schemas/CorpCCPaymentsOTP/CorpCCPaymentsOTP.xsd\\&quot; &gt;&lt;username&gt;ENKASH&lt;/username&gt;&lt;password&gt;Corp@123&lt;/password&gt;&lt;SrcAppCd&gt;ENKA SH&lt;/SrcAppCd&gt;&lt;RefNo&gt;Ref1111111111&lt;/RefNo&gt;&lt;CardNo&gt;4280933990002698&lt;/CardNo &gt;&lt;OTP&gt;12345&lt;/OTP&gt;&lt;/Request&gt;&quot;;\r\n    \r\n    String key = &quot;e3a74e3c7599f3ab4601d587bd2cc768&quot;;\r\n    \r\n    console.log(&quot;input:   &quot;+str);\r\n    const hash = encrypt(str,key);\r\n    console.log(&quot;encrypted:::   &quot; + hash);\r\n    const text = decrypt(hash,key);\r\n    console.log(&quot;output:   &quot;+text); ","title":"AES/CBC/PKCS5Padding in NodeJs","body":"<p>in java key converted in 16 byte so 'AES/CBC/PKCS5Padding' algo applied while in nodejs this is convered into 24 byte so we need to apply 'aes-192-cbc'.</p>\n<pre><code>var crypto = require('crypto');\n\nconst encrypt = (plainText, keyBase64) =&gt;{\n\n    const textBuffer = Buffer.from(plainText);\n    const key = Buffer.from(keyBase64, 'base64');\n    var iv = Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);\n    var encoded = Buffer.concat([iv,textBuffer]);\n    const cipher = crypto.createCipheriv('aes-192-cbc', key, iv);\n    let encrypted = cipher.update(encoded, 'binary', 'base64')\n    encrypted += cipher.final('base64');\n    return encrypted;\n};\n\nconst decrypt =  (messagebase64, keyBase64) =&gt;{\n\n    const key = Buffer.from(keyBase64, 'base64');\n    const encoded = Buffer.from(messagebase64, 'base64');\n    var iv = encoded.slice(0, 16);\n    var decoded = encoded.slice(16,encoded.length);\n    const decipher = crypto.createDecipheriv('aes-192-cbc', key, iv);\n    let decrypted = decipher.update(decoded, 'binary','utf-8');\n    decrypted += decipher.final();\n    return decrypted;\n}\n\n\n\n String str = &quot;&lt;Request xmlns=\\&quot;http://www.kotak.com/schemas/CorpCCPaymentsOTP/CorpCCPaymentsOTP.xsd\\&quot; &gt;&lt;username&gt;ENKASH&lt;/username&gt;&lt;password&gt;Corp@123&lt;/password&gt;&lt;SrcAppCd&gt;ENKA SH&lt;/SrcAppCd&gt;&lt;RefNo&gt;Ref1111111111&lt;/RefNo&gt;&lt;CardNo&gt;4280933990002698&lt;/CardNo &gt;&lt;OTP&gt;12345&lt;/OTP&gt;&lt;/Request&gt;&quot;;\n\nString key = &quot;e3a74e3c7599f3ab4601d587bd2cc768&quot;;\n\nconsole.log(&quot;input:   &quot;+str);\nconst hash = encrypt(str,key);\nconsole.log(&quot;encrypted:::   &quot; + hash);\nconst text = decrypt(hash,key);\nconsole.log(&quot;output:   &quot;+text); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26999604,"reputation":1,"user_id":20561098,"display_name":"Arjun V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669021713,"creation_date":1669021713,"answer_id":74516496,"question_id":59788079,"body_markdown":"This is the solution for the above issue. I was getting the decryption error whenever I encrypt using the above code. I made a small update in the code by adding 16 characters at the start of plain text while encrypting. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n\r\n    var crypto = require(&#39;crypto&#39;);\r\n    function getAlgorithm(keyBase64) {\r\n\r\n        var key = Buffer.from(keyBase64, &#39;base64&#39;);\r\n\r\n        switch (key.length) {\r\n            case 16:\r\n                return &#39;aes-128-cbc&#39;;\r\n            case 32:\r\n                return &#39;aes-256-cbc&#39;;\r\n\r\n        }\r\n        throw new Error(&#39;Invalid key length: &#39; + key.length);\r\n    }\r\n\r\n\r\n    function encrypt(plainText, keyBase64, ivBase64) {\r\n\r\n        const key = Buffer.from(keyBase64, &#39;base64&#39;);\r\n        const iv = Buffer.from(ivBase64, &#39;base64&#39;);\r\n\r\n        const cipher = crypto.createCipheriv(getAlgorithm(keyBase64), key, iv);\r\n        let encrypted = cipher.update(iv.subarray(0, 16) + plainText, &#39;utf8&#39;, &#39;base64&#39;)\r\n        encrypted += cipher.final(&#39;base64&#39;);\r\n        return encrypted;\r\n    };\r\n\r\n    function decrypt(messagebase64, keyBase64, ivBase64) {\r\n\r\n        const key = Buffer.from(keyBase64, &#39;base64&#39;);\r\n        const iv = Buffer.from(ivBase64, &#39;base64&#39;);\r\n        const decipher = crypto.createDecipheriv(getAlgorithm(keyBase64), key, iv);\r\n        let decrypted = decipher.update(messagebase64, &#39;base64&#39;);\r\n        decrypted += decipher.final();\r\n        return decrypted;\r\n    }\r\n\r\n    var keyBase64 = &quot;DWIzFkO22qfVMgx2fIsxOXnwz10pRuZfFJBvf4RS3eY=&quot;;\r\n    var ivBase64 = Buffer.from([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]).toString(&#39;base64&#39;);;\r\n    var plainText = &#39;&lt;Request xmlns=&quot;http://www.kotak.com/schemas/CorpCCPaymentsOTP/CorpCCPaymentsOTP.xsd&quot;&gt;&lt;username&gt;ENKASH&lt;/username&gt;&lt;password&gt;Corp@123&lt;/password&gt;&lt;SrcAppCd&gt;ENKA SH&lt;/SrcAppCd&gt;&lt;RefNo&gt;Ref1111111111&lt;/RefNo&gt;&lt;CardNo&gt;4280933990002698&lt;/CardNo &gt;&lt;OTP&gt;12345&lt;/OTP&gt;&lt;/Request&gt;&#39;;\r\n\r\n\r\n\r\n    var cipherText = encrypt(plainText, keyBase64, ivBase64);\r\n    var decryptedCipherText = decrypt(cipherText, keyBase64, ivBase64);\r\n\r\n    console.log(&#39;Algorithm: &#39; + getAlgorithm(keyBase64));\r\n    console.log(&#39;Plaintext: &#39; + plainText);\r\n    console.log(&#39;Ciphertext: &#39; + cipherText);\r\n    console.log(&#39;Decoded Ciphertext: &#39; + decryptedCipherText);\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"AES/CBC/PKCS5Padding in NodeJs","body":"<p>This is the solution for the above issue. I was getting the decryption error whenever I encrypt using the above code. I made a small update in the code by adding 16 characters at the start of plain text while encrypting.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var crypto = require('crypto');\nfunction getAlgorithm(keyBase64) {\n\n    var key = Buffer.from(keyBase64, 'base64');\n\n    switch (key.length) {\n        case 16:\n            return 'aes-128-cbc';\n        case 32:\n            return 'aes-256-cbc';\n\n    }\n    throw new Error('Invalid key length: ' + key.length);\n}\n\n\nfunction encrypt(plainText, keyBase64, ivBase64) {\n\n    const key = Buffer.from(keyBase64, 'base64');\n    const iv = Buffer.from(ivBase64, 'base64');\n\n    const cipher = crypto.createCipheriv(getAlgorithm(keyBase64), key, iv);\n    let encrypted = cipher.update(iv.subarray(0, 16) + plainText, 'utf8', 'base64')\n    encrypted += cipher.final('base64');\n    return encrypted;\n};\n\nfunction decrypt(messagebase64, keyBase64, ivBase64) {\n\n    const key = Buffer.from(keyBase64, 'base64');\n    const iv = Buffer.from(ivBase64, 'base64');\n    const decipher = crypto.createDecipheriv(getAlgorithm(keyBase64), key, iv);\n    let decrypted = decipher.update(messagebase64, 'base64');\n    decrypted += decipher.final();\n    return decrypted;\n}\n\nvar keyBase64 = \"DWIzFkO22qfVMgx2fIsxOXnwz10pRuZfFJBvf4RS3eY=\";\nvar ivBase64 = Buffer.from([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]).toString('base64');;\nvar plainText = '&lt;Request xmlns=\"http://www.kotak.com/schemas/CorpCCPaymentsOTP/CorpCCPaymentsOTP.xsd\"&gt;&lt;username&gt;ENKASH&lt;/username&gt;&lt;password&gt;Corp@123&lt;/password&gt;&lt;SrcAppCd&gt;ENKA SH&lt;/SrcAppCd&gt;&lt;RefNo&gt;Ref1111111111&lt;/RefNo&gt;&lt;CardNo&gt;4280933990002698&lt;/CardNo &gt;&lt;OTP&gt;12345&lt;/OTP&gt;&lt;/Request&gt;';\n\n\n\nvar cipherText = encrypt(plainText, keyBase64, ivBase64);\nvar decryptedCipherText = decrypt(cipherText, keyBase64, ivBase64);\n\nconsole.log('Algorithm: ' + getAlgorithm(keyBase64));\nconsole.log('Plaintext: ' + plainText);\nconsole.log('Ciphertext: ' + cipherText);\nconsole.log('Decoded Ciphertext: ' + decryptedCipherText);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":1072254,"reputation":6111,"user_id":1071246,"accept_rate":71,"display_name":"Suresh Pattu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12904,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1695965431,"creation_date":1579266847,"question_id":59788079,"body_markdown":"I am trying to convert my java code to NodeJs code.&lt;br/&gt;\r\nFacing some issues on the encryptions.&lt;br/&gt;\r\nHere is my java code: [compiled code][1]&lt;br/&gt;\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.security.GeneralSecurityException;\r\n    import java.util.Base64;\r\n    \r\n    public class AESCBCPKCS5Encryption {\r\n        private static final String ALGORITHM = &quot;AES/CBC/PKCS5Padding&quot;;\r\n    \r\n        public static String encrypt(String message, String key) throws GeneralSecurityException, UnsupportedEncodingException {\r\n            if (message == null || key == null) {\r\n                throw new IllegalArgumentException(&quot;text to be encrypted and key should not be null&quot;);\r\n            }\r\n            Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n            byte[] messageArr = message.getBytes();\r\n            SecretKeySpec keySpec = new SecretKeySpec(Base64.getDecoder().decode(key), &quot;AES&quot;);\r\n            byte[] ivParams = new byte[16];\r\n            byte[] encoded = new byte[messageArr.length + 16];\r\n            System.arraycopy(ivParams, 0, encoded, 0, 16);\r\n            System.arraycopy(messageArr, 0, encoded, 16, messageArr.length);\r\n            cipher.init(Cipher.ENCRYPT_MODE, keySpec, new IvParameterSpec(ivParams));\r\n            byte[] encryptedBytes = cipher.doFinal(encoded);\r\n            encryptedBytes = Base64.getEncoder().encode(encryptedBytes);\r\n            return new String(encryptedBytes);\r\n        }\r\n    \r\n        public static String decrypt(String encryptedStr, String key) throws GeneralSecurityException, UnsupportedEncodingException {\r\n            if (encryptedStr == null || key == null) {\r\n                throw new IllegalArgumentException(&quot;text to be decrypted and key should not be null&quot;);\r\n            }\r\n            Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n            SecretKeySpec keySpec = new\r\n                    SecretKeySpec(Base64.getDecoder().decode(key), &quot;AES&quot;);\r\n            byte[] encoded = encryptedStr.getBytes();\r\n            encoded = Base64.getDecoder().decode(encoded);\r\n            byte[] decodedEncrypted = new byte[encoded.length - 16];\r\n            System.arraycopy(encoded, 16, decodedEncrypted, 0, encoded.length - 16);\r\n            byte[] ivParams = new byte[16];\r\n            System.arraycopy(encoded, 0, ivParams, 0, ivParams.length);\r\n            cipher.init(Cipher.DECRYPT_MODE, keySpec, new IvParameterSpec(ivParams));\r\n            byte[] decryptedBytes = cipher.doFinal(decodedEncrypted);\r\n            return new String(decryptedBytes);\r\n        }\r\n    \r\n        public static void main(String[] args) throws GeneralSecurityException, UnsupportedEncodingException {\r\n            String str = &quot;&lt;Request xmlns=\\&quot;http://www.kotak.com/schemas/CorpCCPaymentsOTP/CorpCCPaymentsOTP.xsd\\&quot; &gt;&lt;username&gt;ENKASH&lt;/username&gt;&lt;password&gt;Corp@123&lt;/password&gt;&lt;SrcAppCd&gt;ENKA SH&lt;/SrcAppCd&gt;&lt;RefNo&gt;Ref1111111111&lt;/RefNo&gt;&lt;CardNo&gt;4280933990002698&lt;/CardNo &gt;&lt;OTP&gt;12345&lt;/OTP&gt;&lt;/Request&gt;&quot;;\r\n            String key = &quot;e3a74e3c7599f3ab4601d587bd2cc768&quot;;\r\n            String enc = encrypt(str, key);\r\n            System.out.println(enc);\r\n            String dec = decrypt(enc, key);\r\n            System.out.println(dec);\r\n        }\r\n    }\r\n\r\n\r\nHere is my javascript code:&lt;br/&gt;\r\n\r\n    var crypto = require(&#39;crypto&#39;);\r\n    \r\n    function getAlgorithm(keyBase64) {\r\n    \r\n        var key = Buffer.from(keyBase64, &#39;base64&#39;);\r\n        switch (key.length) {\r\n            case 16:\r\n                return &#39;aes-128-cbc&#39;;\r\n            case 32:\r\n                return &#39;aes-256-cbc&#39;;\r\n    \r\n        }\r\n    \r\n        throw new Error(&#39;Invalid key length: &#39; + key.length);\r\n    }\r\n    \r\n    \r\n    function encrypt(plainText, keyBase64, ivBase64) {\r\n    \r\n        const key = Buffer.from(keyBase64, &#39;base64&#39;);\r\n        const iv  = Buffer.from(ivBase64, &#39;base64&#39;);\r\n    \r\n        const cipher  = crypto.createCipheriv(getAlgorithm(keyBase64), key, iv);\r\n        let encrypted = cipher.update(plainText, &#39;utf8&#39;, &#39;base64&#39;);\r\n        encrypted += cipher.final(&#39;base64&#39;);\r\n        return encrypted;\r\n    }\r\n    \r\n    function decrypt(messagebase64, keyBase64, ivBase64) {\r\n    \r\n        const key = Buffer.from(keyBase64, &#39;base64&#39;);\r\n        const iv  = Buffer.from(ivBase64, &#39;base64&#39;);\r\n    \r\n        const decipher = crypto.createDecipheriv(getAlgorithm(keyBase64), key, iv);\r\n        let decrypted  = decipher.update(messagebase64, &#39;base64&#39;);\r\n        decrypted += decipher.final();\r\n        return decrypted;\r\n    }\r\n    \r\n    \r\n    var keyBase64 = &quot;DWIzFkO22qfVMgx2fIsxOXnwz10pRuZfFJBvf4RS3eY=&quot;;\r\n    var ivBase64  = &#39;e3a74e3c7599f3ab4601d587bd2cc768&#39;;\r\n    var plainText = &#39;&lt;Request xmlns=&quot;http://www.kotak.com/schemas/CorpCCPaymentsOTP/CorpCCPaymentsOTP.xsd&quot;&gt;&lt;username&gt;ENKASH&lt;/username&gt;&lt;password&gt;Corp@123&lt;/password&gt;&lt;SrcAppCd&gt;ENKA SH&lt;/SrcAppCd&gt;&lt;RefNo&gt;Ref1111111111&lt;/RefNo&gt;&lt;CardNo&gt;4280933990002698&lt;/CardNo &gt;&lt;OTP&gt;12345&lt;/OTP&gt;&lt;/Request&gt;&#39;;\r\n    \r\n    var cipherText          = encrypt(plainText, keyBase64, ivBase64);\r\n    var decryptedCipherText = decrypt(cipherText, keyBase64, ivBase64);\r\n    \r\n    console.log(&#39;Algorithm: &#39; + getAlgorithm(keyBase64));\r\n    console.log(&#39;Plaintext: &#39; + plainText);\r\n    console.log(&#39;Ciphertext: &#39; + cipherText);\r\n    console.log(&#39;Decoded Ciphertext: &#39; + decryptedCipherText);\r\n\r\nEncryptions throwing errors,&lt;br/&gt;\r\nWhat I am doing wrong here?\r\n\r\n\r\n  [1]: http://tpcg.io/ycqHxQ4y","title":"AES/CBC/PKCS5Padding in NodeJs","body":"<p>I am trying to convert my java code to NodeJs code.<br/>\nFacing some issues on the encryptions.<br/>\nHere is my java code: <a href=\"http://tpcg.io/ycqHxQ4y\" rel=\"nofollow noreferrer\">compiled code</a><br/></p>\n\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.io.UnsupportedEncodingException;\nimport java.security.GeneralSecurityException;\nimport java.util.Base64;\n\npublic class AESCBCPKCS5Encryption {\n    private static final String ALGORITHM = \"AES/CBC/PKCS5Padding\";\n\n    public static String encrypt(String message, String key) throws GeneralSecurityException, UnsupportedEncodingException {\n        if (message == null || key == null) {\n            throw new IllegalArgumentException(\"text to be encrypted and key should not be null\");\n        }\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\n        byte[] messageArr = message.getBytes();\n        SecretKeySpec keySpec = new SecretKeySpec(Base64.getDecoder().decode(key), \"AES\");\n        byte[] ivParams = new byte[16];\n        byte[] encoded = new byte[messageArr.length + 16];\n        System.arraycopy(ivParams, 0, encoded, 0, 16);\n        System.arraycopy(messageArr, 0, encoded, 16, messageArr.length);\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec, new IvParameterSpec(ivParams));\n        byte[] encryptedBytes = cipher.doFinal(encoded);\n        encryptedBytes = Base64.getEncoder().encode(encryptedBytes);\n        return new String(encryptedBytes);\n    }\n\n    public static String decrypt(String encryptedStr, String key) throws GeneralSecurityException, UnsupportedEncodingException {\n        if (encryptedStr == null || key == null) {\n            throw new IllegalArgumentException(\"text to be decrypted and key should not be null\");\n        }\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\n        SecretKeySpec keySpec = new\n                SecretKeySpec(Base64.getDecoder().decode(key), \"AES\");\n        byte[] encoded = encryptedStr.getBytes();\n        encoded = Base64.getDecoder().decode(encoded);\n        byte[] decodedEncrypted = new byte[encoded.length - 16];\n        System.arraycopy(encoded, 16, decodedEncrypted, 0, encoded.length - 16);\n        byte[] ivParams = new byte[16];\n        System.arraycopy(encoded, 0, ivParams, 0, ivParams.length);\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, new IvParameterSpec(ivParams));\n        byte[] decryptedBytes = cipher.doFinal(decodedEncrypted);\n        return new String(decryptedBytes);\n    }\n\n    public static void main(String[] args) throws GeneralSecurityException, UnsupportedEncodingException {\n        String str = \"&lt;Request xmlns=\\\"http://www.kotak.com/schemas/CorpCCPaymentsOTP/CorpCCPaymentsOTP.xsd\\\" &gt;&lt;username&gt;ENKASH&lt;/username&gt;&lt;password&gt;Corp@123&lt;/password&gt;&lt;SrcAppCd&gt;ENKA SH&lt;/SrcAppCd&gt;&lt;RefNo&gt;Ref1111111111&lt;/RefNo&gt;&lt;CardNo&gt;4280933990002698&lt;/CardNo &gt;&lt;OTP&gt;12345&lt;/OTP&gt;&lt;/Request&gt;\";\n        String key = \"e3a74e3c7599f3ab4601d587bd2cc768\";\n        String enc = encrypt(str, key);\n        System.out.println(enc);\n        String dec = decrypt(enc, key);\n        System.out.println(dec);\n    }\n}\n</code></pre>\n\n<p>Here is my javascript code:<br/></p>\n\n<pre><code>var crypto = require('crypto');\n\nfunction getAlgorithm(keyBase64) {\n\n    var key = Buffer.from(keyBase64, 'base64');\n    switch (key.length) {\n        case 16:\n            return 'aes-128-cbc';\n        case 32:\n            return 'aes-256-cbc';\n\n    }\n\n    throw new Error('Invalid key length: ' + key.length);\n}\n\n\nfunction encrypt(plainText, keyBase64, ivBase64) {\n\n    const key = Buffer.from(keyBase64, 'base64');\n    const iv  = Buffer.from(ivBase64, 'base64');\n\n    const cipher  = crypto.createCipheriv(getAlgorithm(keyBase64), key, iv);\n    let encrypted = cipher.update(plainText, 'utf8', 'base64');\n    encrypted += cipher.final('base64');\n    return encrypted;\n}\n\nfunction decrypt(messagebase64, keyBase64, ivBase64) {\n\n    const key = Buffer.from(keyBase64, 'base64');\n    const iv  = Buffer.from(ivBase64, 'base64');\n\n    const decipher = crypto.createDecipheriv(getAlgorithm(keyBase64), key, iv);\n    let decrypted  = decipher.update(messagebase64, 'base64');\n    decrypted += decipher.final();\n    return decrypted;\n}\n\n\nvar keyBase64 = \"DWIzFkO22qfVMgx2fIsxOXnwz10pRuZfFJBvf4RS3eY=\";\nvar ivBase64  = 'e3a74e3c7599f3ab4601d587bd2cc768';\nvar plainText = '&lt;Request xmlns=\"http://www.kotak.com/schemas/CorpCCPaymentsOTP/CorpCCPaymentsOTP.xsd\"&gt;&lt;username&gt;ENKASH&lt;/username&gt;&lt;password&gt;Corp@123&lt;/password&gt;&lt;SrcAppCd&gt;ENKA SH&lt;/SrcAppCd&gt;&lt;RefNo&gt;Ref1111111111&lt;/RefNo&gt;&lt;CardNo&gt;4280933990002698&lt;/CardNo &gt;&lt;OTP&gt;12345&lt;/OTP&gt;&lt;/Request&gt;';\n\nvar cipherText          = encrypt(plainText, keyBase64, ivBase64);\nvar decryptedCipherText = decrypt(cipherText, keyBase64, ivBase64);\n\nconsole.log('Algorithm: ' + getAlgorithm(keyBase64));\nconsole.log('Plaintext: ' + plainText);\nconsole.log('Ciphertext: ' + cipherText);\nconsole.log('Decoded Ciphertext: ' + decryptedCipherText);\n</code></pre>\n\n<p>Encryptions throwing errors,<br/>\nWhat I am doing wrong here?</p>\n"},{"tags":["java","shell","command-prompt","git-bash","java-home"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":3,"creation_date":1534096294,"post_id":51811383,"comment_id":90577797,"body_markdown":"This has nothing to do with git, only bash. Learn shell syntax.","body":"This has nothing to do with git, only bash. Learn shell syntax."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1534096683,"post_id":51811383,"comment_id":90577897,"body_markdown":"You&#39;re correct, and believe me, I will. It was just something I couldn&#39;t see as a beginner, but now I know to really watch out for the syntax.","body":"You&#39;re correct, and believe me, I will. It was just something I couldn&#39;t see as a beginner, but now I know to really watch out for the syntax."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1534097269,"post_id":51811383,"comment_id":90578025,"body_markdown":"The shell used by git is a version of the ***Linux*** shell and is supported under Cygwin, which provides a Linux-style command line.  This is a completely different environment and expects Linux style environment variables.","body":"The shell used by git is a version of the <b><i>Linux</i></b> shell and is supported under Cygwin, which provides a Linux-style command line.  This is a completely different environment and expects Linux style environment variables."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1534104803,"post_id":51811383,"comment_id":90579864,"body_markdown":"Thanks Jim. I&#39;d heard talk about git and cygwin being compatible, but I didn&#39;t know that git was originally a Linux shell. I guess I should make it a point to look into the history of software before trying to work with it. Would you recommend that I work with Cygwin instead?","body":"Thanks Jim. I&#39;d heard talk about git and cygwin being compatible, but I didn&#39;t know that git was originally a Linux shell. I guess I should make it a point to look into the history of software before trying to work with it. Would you recommend that I work with Cygwin instead?"}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1695965024,"creation_date":1534096069,"answer_id":51811384,"question_id":51811383,"body_markdown":"Turns out, (git) ***BASH TERMINAL*** uses a completely different syntax to do echo than ***COMMMANDLINE TERMINAL***.\r\n\r\nI had been doing `echo %JAVA_HOME%` when I should have been doing `echo $JAVA_HOME`.\r\n\r\nI couldn&#39;t see that I was supposed to be using $ and not % sign because the symbols looked so similar in my font. I only found out after copy/pasting an answer out of frustration into bash and having it magically work when it hadn&#39;t worked prior.\r\n\r\nBut yes, the answer is to use `$` and not `%` because they mean completely different things. Git bash uses $, command prompt uses %. You&#39;d think they&#39;d just use the same symbol to get the job done.","title":"echo %JAVA_HOME% works in cmd, but not in git bash","body":"<p>Turns out, (git) <em><strong>BASH TERMINAL</strong></em> uses a completely different syntax to do echo than <em><strong>COMMMANDLINE TERMINAL</strong></em>.</p>\n<p>I had been doing <code>echo %JAVA_HOME%</code> when I should have been doing <code>echo $JAVA_HOME</code>.</p>\n<p>I couldn't see that I was supposed to be using $ and not % sign because the symbols looked so similar in my font. I only found out after copy/pasting an answer out of frustration into bash and having it magically work when it hadn't worked prior.</p>\n<p>But yes, the answer is to use <code>$</code> and not <code>%</code> because they mean completely different things. Git bash uses $, command prompt uses %. You'd think they'd just use the same symbol to get the job done.</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9512,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":51811384,"answer_count":1,"score":5,"last_activity_date":1695965024,"creation_date":1534096069,"question_id":51811383,"body_markdown":"Windows 10 user. I recently installed git for the first time, but ran into a peculiar issue. I was told that I needed to set the `JAVA_HOME` environment variable if I wanted to use java within git.\r\n\r\nI was able to get `JAVA_HOME` properly changed for command prompt, but I couldn&#39;t get the same change to show up in git bash. Typing in `echo %JAVA_HOME%` would return a proper path in command prompt, but it would return `%JAVA_HOME%` in git bash.\r\n\r\nI went into system settings and changed the system variable so that `JAVA_HOME` was pointing to my jdk. I updated the `PATH` variable in both system and environment variables to point to the bin and the jdk. I closed and reopened both git bash and command prompt. I restarted my machine, and even reinstalled both git and my jdk. I took my jdk from Java 10.0.2 down to the latest java 8 (171).\r\n\r\nNone of it has worked. I&#39;ve gone through countless SO posts. What am I doing wrong?","title":"echo %JAVA_HOME% works in cmd, but not in git bash","body":"<p>Windows 10 user. I recently installed git for the first time, but ran into a peculiar issue. I was told that I needed to set the <code>JAVA_HOME</code> environment variable if I wanted to use java within git.</p>\n\n<p>I was able to get <code>JAVA_HOME</code> properly changed for command prompt, but I couldn't get the same change to show up in git bash. Typing in <code>echo %JAVA_HOME%</code> would return a proper path in command prompt, but it would return <code>%JAVA_HOME%</code> in git bash.</p>\n\n<p>I went into system settings and changed the system variable so that <code>JAVA_HOME</code> was pointing to my jdk. I updated the <code>PATH</code> variable in both system and environment variables to point to the bin and the jdk. I closed and reopened both git bash and command prompt. I restarted my machine, and even reinstalled both git and my jdk. I took my jdk from Java 10.0.2 down to the latest java 8 (171).</p>\n\n<p>None of it has worked. I've gone through countless SO posts. What am I doing wrong?</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1695971072,"post_id":77199527,"comment_id":136096828,"body_markdown":"Have you tried to do it manually? Iterate entries and in new map put key -&gt; value.clone() (or however you have implemented cloning the complex value type).","body":"Have you tried to do it manually? Iterate entries and in new map put key -&gt; value.clone() (or however you have implemented cloning the complex value type)."},{"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"score":0,"creation_date":1696069098,"post_id":77199527,"comment_id":136108840,"body_markdown":"our value object structure is complex, it would be like Enrichment-&gt;childNode where child node itself an Enrichment type and it goes on n-depth if an enrichment has child enrichment node. So cloning value enrichment object does not clone child node right?","body":"our value object structure is complex, it would be like Enrichment-&gt;childNode where child node itself an Enrichment type and it goes on n-depth if an enrichment has child enrichment node. So cloning value enrichment object does not clone child node right?"}],"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695972839,"answer_count":0,"score":0,"last_activity_date":1695964859,"creation_date":1695963576,"question_id":77199527,"body_markdown":"We were using gson to create a copy of map and do some updates in copy\r\nmap which would not reflect in original map. But gson is holding\r\nthread it seems we find lot of its entries in heapdump and memory keeps increasing. due to this, we see requests getting rejected. So we were\r\nbeing asked alternative for deep copy of map.\r\n \r\nBecause we see deep copy is not happening in value object of map if we\r\ndo orgMap.clone()/copy constructor(new\r\nHashMap&lt;&gt;(orgMap)/copymap.putall(orgMap). In this way, if we do changes in value object in copy map , it reflects in both original map and copy map.\r\n\r\n    &gt; Processing Thread 13running , holding [ at\r\n    &gt; com.google.gson.stream.JsonReader.doPeek(JsonReader.java:593) at\r\n    &gt; com.google.gson.stream.JsonReader.peek(JsonReader.java:433) at\r\n    &gt; com.google.gson.internal.bind.TypeAdapters$7.read(TypeAdapters.java:244)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.TypeAdapters$7.read(TypeAdapters.java:241)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.readIntoField(ReflectiveTypeAdapterFactory.java:212)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$FieldReflectionAdapter.readField(ReflectiveTypeAdapterFactory.java:433)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:393)\r\n    &gt; at com.google.gson.Gson$FutureTypeAdapter.read(Gson.java:1367) at\r\n    &gt; com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:82)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.readIntoField(ReflectiveTypeAdapterFactory.java:212)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$FieldReflectionAdapter.readField(ReflectiveTypeAdapterFactory.java:433)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:393)\r\n    &gt; at com.google.gson.Gson$FutureTypeAdapter.read(Gson.java:1367) at\r\n    &gt; com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:82)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.readIntoField(ReflectiveTypeAdapterFactory.java:212)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$FieldReflectionAdapter.readField(ReflectiveTypeAdapterFactory.java:433)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:393)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:186)\r\n    &gt; at\r\n    &gt; com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:144)\r\n    &gt; at com.google.gson.Gson.fromJson(Gson.java:1227) at\r\n    &gt; com.google.gson.Gson.fromJson(Gson.java:1137) at\r\n    &gt; com.google.gson.Gson.fromJson(Gson.java:1047) at\r\n    &gt; com.google.gson.Gson.fromJson(Gson.java:1014) at\r\n    &gt; com.util.getDeepCopyOfMap(Utils.java:2398) at\r\n    &gt; com.util.ParameterPopulation.applyFiltering(ParameterPopulation.java:800)\r\n    &gt; at\r\n    &gt; com.util.ParameterPopulation.populateSchemaParameters(ParameterPopulation.java:506)\r\n    &gt; at\r\n    &gt; com.util.ParameterPopulation.formAvroRequestBasedOnSession(ParameterPopulation.java:440)\r\n    &gt; at\r\n    &gt; com.util.ParameterPopulation.populateLocationRelatedParameters(ParameterPopulation.java:1343)\r\n    &gt; at\r\n    &gt; com.util.ParameterPopulation.localProcess(ParameterPopulation.java:294)\r\n    &gt; at\r\n    &gt; com.util.AbstractProcessingActivity.process(AbstractProcessingActivity.java:30)\r\n    &gt; at com.util.TransactionImpl.run(TransactionImpl.java:415) at\r\n    &gt; com.util.TransactionHandlerImpl$FaultTolerantTransaction.run(TransactionHandlerImpl.java:466)\r\n    &gt; at\r\n    &gt; java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.20/ThreadPoolExecutor.java:1128)\r\n    &gt; at\r\n    &gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.20/ThreadPoolExecutor.java:628)\r\n    &gt; at java.lang.Thread.run(java.base@11.0.20/Thread.java:829)\r\n\r\n","title":"Need help to create deep copy of map which has value as complex object type","body":"<p>We were using gson to create a copy of map and do some updates in copy\nmap which would not reflect in original map. But gson is holding\nthread it seems we find lot of its entries in heapdump and memory keeps increasing. due to this, we see requests getting rejected. So we were\nbeing asked alternative for deep copy of map.</p>\n<p>Because we see deep copy is not happening in value object of map if we\ndo orgMap.clone()/copy constructor(new\nHashMap&lt;&gt;(orgMap)/copymap.putall(orgMap). In this way, if we do changes in value object in copy map , it reflects in both original map and copy map.</p>\n<pre><code>&gt; Processing Thread 13running , holding [ at\n&gt; com.google.gson.stream.JsonReader.doPeek(JsonReader.java:593) at\n&gt; com.google.gson.stream.JsonReader.peek(JsonReader.java:433) at\n&gt; com.google.gson.internal.bind.TypeAdapters$7.read(TypeAdapters.java:244)\n&gt; at\n&gt; com.google.gson.internal.bind.TypeAdapters$7.read(TypeAdapters.java:241)\n&gt; at\n&gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.readIntoField(ReflectiveTypeAdapterFactory.java:212)\n&gt; at\n&gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$FieldReflectionAdapter.readField(ReflectiveTypeAdapterFactory.java:433)\n&gt; at\n&gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:393)\n&gt; at com.google.gson.Gson$FutureTypeAdapter.read(Gson.java:1367) at\n&gt; com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40)\n&gt; at\n&gt; com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:82)\n&gt; at\n&gt; com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\n&gt; at\n&gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.readIntoField(ReflectiveTypeAdapterFactory.java:212)\n&gt; at\n&gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$FieldReflectionAdapter.readField(ReflectiveTypeAdapterFactory.java:433)\n&gt; at\n&gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:393)\n&gt; at com.google.gson.Gson$FutureTypeAdapter.read(Gson.java:1367) at\n&gt; com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40)\n&gt; at\n&gt; com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:82)\n&gt; at\n&gt; com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\n&gt; at\n&gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.readIntoField(ReflectiveTypeAdapterFactory.java:212)\n&gt; at\n&gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$FieldReflectionAdapter.readField(ReflectiveTypeAdapterFactory.java:433)\n&gt; at\n&gt; com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:393)\n&gt; at\n&gt; com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40)\n&gt; at\n&gt; com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:186)\n&gt; at\n&gt; com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:144)\n&gt; at com.google.gson.Gson.fromJson(Gson.java:1227) at\n&gt; com.google.gson.Gson.fromJson(Gson.java:1137) at\n&gt; com.google.gson.Gson.fromJson(Gson.java:1047) at\n&gt; com.google.gson.Gson.fromJson(Gson.java:1014) at\n&gt; com.util.getDeepCopyOfMap(Utils.java:2398) at\n&gt; com.util.ParameterPopulation.applyFiltering(ParameterPopulation.java:800)\n&gt; at\n&gt; com.util.ParameterPopulation.populateSchemaParameters(ParameterPopulation.java:506)\n&gt; at\n&gt; com.util.ParameterPopulation.formAvroRequestBasedOnSession(ParameterPopulation.java:440)\n&gt; at\n&gt; com.util.ParameterPopulation.populateLocationRelatedParameters(ParameterPopulation.java:1343)\n&gt; at\n&gt; com.util.ParameterPopulation.localProcess(ParameterPopulation.java:294)\n&gt; at\n&gt; com.util.AbstractProcessingActivity.process(AbstractProcessingActivity.java:30)\n&gt; at com.util.TransactionImpl.run(TransactionImpl.java:415) at\n&gt; com.util.TransactionHandlerImpl$FaultTolerantTransaction.run(TransactionHandlerImpl.java:466)\n&gt; at\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.20/ThreadPoolExecutor.java:1128)\n&gt; at\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.20/ThreadPoolExecutor.java:628)\n&gt; at java.lang.Thread.run(java.base@11.0.20/Thread.java:829)\n</code></pre>\n"},{"tags":["java","string","methods","stringbuilder"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1695958538,"post_id":77199301,"comment_id":136095646,"body_markdown":"Please post code as text and not as an image or a link to an image","body":"Please post code as text and not as an image or a link to an image"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1695977532,"post_id":77199301,"comment_id":136097858,"body_markdown":"You probably _don&#39;t_ have an extra line at the end. Your text editor shows a blank line at the end of the file because the last line of your output ends with a newline character. That is normal and correct.","body":"You probably <i>don&#39;t</i> have an extra line at the end. Your text editor shows a blank line at the end of the file because the last line of your output ends with a newline character. That is normal and correct."}],"answers":[{"tags":[],"owner":{"account_id":18685435,"reputation":11,"user_id":19418173,"display_name":"Algeps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695964576,"creation_date":1695964576,"answer_id":77199571,"question_id":77199301,"body_markdown":"At the end of the loop, `builder.append(&quot;\\n&quot;)` is called. One way or another, after each iteration, a new line is added to you. If at the last iteration you no longer need a string, then you can return `builder` without the last character (&quot;\\n&quot;).\r\n\r\n`return builder.substring(0, builder.length() - 1);`","title":"Empty line at the end of code needs removing","body":"<p>At the end of the loop, <code>builder.append(&quot;\\n&quot;)</code> is called. One way or another, after each iteration, a new line is added to you. If at the last iteration you no longer need a string, then you can return <code>builder</code> without the last character (&quot;\\n&quot;).</p>\n<p><code>return builder.substring(0, builder.length() - 1);</code></p>\n"}],"owner":{"account_id":29560210,"reputation":1,"user_id":22654909,"display_name":"George"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1696551664,"answer_count":1,"score":-2,"last_activity_date":1695964576,"creation_date":1695958347,"question_id":77199301,"body_markdown":"I have this method that returns a string where a triangle appears on the left size of the diagram, followed by horizontal lines. I used a stringBuilder for this method. The problem is that there is an extra line at the end. I have absolutely no idea where I should put a conditional to prevent it from doing so. Help would be much appreciated.\r\n[enter image description here](https://i.stac[enter image description here](https://i.stack.imgur.com/YujAv.png)k.imgur.com/WujPw.png)\r\n \r\n\r\nI have no idea how to fix this. All I want is for that empty line on the end gone.","title":"Empty line at the end of code needs removing","body":"<p>I have this method that returns a string where a triangle appears on the left size of the diagram, followed by horizontal lines. I used a stringBuilder for this method. The problem is that there is an extra line at the end. I have absolutely no idea where I should put a conditional to prevent it from doing so. Help would be much appreciated.\n[enter image description here](https://i.stac<a href=\"https://i.stack.imgur.com/YujAv.png\" rel=\"nofollow noreferrer\">enter image description here</a>k.imgur.com/WujPw.png)</p>\n<p>I have no idea how to fix this. All I want is for that empty line on the end gone.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8654774,"reputation":111,"user_id":6479389,"accept_rate":71,"display_name":"furry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695964135,"creation_date":1695927025,"answer_id":77197532,"question_id":77195026,"body_markdown":"The reason for this is most likely that your class containing the `main` method is declared with the wrong modifiers. Check this and most likely the problem will be resolved. \r\nHere&#39;s an example of a properly designed class with a main method:\r\n\r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            // Write your code here\r\n        }\r\n    }\r\n\r\n","title":"Class org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader can not access a member of class with modifiers &quot;public static&quot;","body":"<p>The reason for this is most likely that your class containing the <code>main</code> method is declared with the wrong modifiers. Check this and most likely the problem will be resolved.\nHere's an example of a properly designed class with a main method:</p>\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        // Write your code here\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77197532,"answer_count":1,"score":-1,"last_activity_date":1695964135,"creation_date":1695904747,"question_id":77195026,"body_markdown":"When I run jar from the command line, I get this exception. How to find the error? Eclipse doesn&#39;t show any errors in the code. \r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalAccessException: Class org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader can not access a member of class main.FirefoxServer with modifiers &quot;public static&quot;\r\n            at sun.reflect.Reflection.ensureMemberAccess(Unknown Source)\r\n            at java.lang.reflect.AccessibleObject.slowCheckMemberAccess(Unknown Source)\r\n            at java.lang.reflect.AccessibleObject.checkAccess(Unknown Source)\r\n            at java.lang.reflect.Method.invoke(Unknown Source)\r\n            at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:58)","title":"Class org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader can not access a member of class with modifiers &quot;public static&quot;","body":"<p>When I run jar from the command line, I get this exception. How to find the error? Eclipse doesn't show any errors in the code.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessException: Class org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader can not access a member of class main.FirefoxServer with modifiers &quot;public static&quot;\n        at sun.reflect.Reflection.ensureMemberAccess(Unknown Source)\n        at java.lang.reflect.AccessibleObject.slowCheckMemberAccess(Unknown Source)\n        at java.lang.reflect.AccessibleObject.checkAccess(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:58)\n</code></pre>\n"},{"tags":["java","maven","jenkins"],"answers":[{"tags":[],"owner":{"account_id":9853383,"reputation":91,"user_id":7298719,"display_name":"Rachel M. Carmena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492192104,"creation_date":1492192104,"answer_id":43416596,"question_id":43388397,"body_markdown":"I think your approach is good! But on &quot;pre steps&quot;:\r\n\r\n * Remove &quot;mvn&quot; from **Goals**\r\n\r\n * Use **Advanced** configuration in order to specify the path of your pom.xml","title":"Jenkins job with multiple maven goals","body":"<p>I think your approach is good! But on \"pre steps\":</p>\n\n<ul>\n<li><p>Remove \"mvn\" from <strong>Goals</strong></p></li>\n<li><p>Use <strong>Advanced</strong> configuration in order to specify the path of your pom.xml</p></li>\n</ul>\n"}],"owner":{"account_id":9184169,"reputation":19,"user_id":6827041,"display_name":"jascadev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14829,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695963780,"creation_date":1492075498,"question_id":43388397,"body_markdown":"I was assigned to maintain issues in a system created before time.\r\nThe system uses Jenkins as system integration tool and unfortunately I do not have previous experience with it.\r\n\r\nThe problem is following:\r\nWhen following the steps for local build (via console) the archive files (.jars, .ear) are created correctly.\r\nWhen using Jenkins job for this, one of the .jar files (call it module-one.jar) included in .ear does not contain a folder with .xsb and .class fiels.\r\nSo .ear application becomes incorrect and `ClassNotFoundException` is thrown.\r\n\r\nSteps for building application locally: &lt;BR&gt;\r\n\r\n    cd my_project_path\r\n    cd ModuleOne\r\n    mvn xmlbeans:xmlbeans\r\n    mvn install\r\n    cd ..\r\n    mvn clean install\r\n\r\nThe Maven section in Jenkins contains only this goal `clean install` (the screenshot below section &quot;Build&quot;):\r\n\r\n---------------\r\n\r\nSo what I wonder is how to add the following maven tasks in Jenkins job to be executed on ModuleOne:\r\n\r\n    mvn xmlbeans:xmlbeans\r\n    mvn install\r\n\r\n--------------\r\nMy idea is to go to &quot;Pre Steps&quot; section and add following maven goal:\r\n\r\n    mvn xmlbeans:xmlbeans install\r\n\r\nMy questions are: &lt;BR&gt;\r\n1. If I am on the right way how to define the goal &quot;mvn xmlbeans:xmlbeans install&quot; to be executed exactly on ModuleOne? &lt;BR&gt;\r\n2. If I am not on the right way are there at all any solutions to do this with Jenkins? &lt;BR&gt;\r\n\r\nHere is screenshot with my suggestion for &quot;Pre Steps&quot;. In the current configuration (that skips to add proper dirctory with .xsb and .class fiels to ModuleOne) this section is missing, but the section &quot;Build&quot; is as it is used now.\r\n\r\n[![Maven build settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CluEH.png","title":"Jenkins job with multiple maven goals","body":"<p>I was assigned to maintain issues in a system created before time.\nThe system uses Jenkins as system integration tool and unfortunately I do not have previous experience with it.</p>\n\n<p>The problem is following:\nWhen following the steps for local build (via console) the archive files (.jars, .ear) are created correctly.\nWhen using Jenkins job for this, one of the .jar files (call it module-one.jar) included in .ear does not contain a folder with .xsb and .class fiels.\nSo .ear application becomes incorrect and <code>ClassNotFoundException</code> is thrown.</p>\n\n<p>Steps for building application locally: <BR></p>\n\n<pre><code>cd my_project_path\ncd ModuleOne\nmvn xmlbeans:xmlbeans\nmvn install\ncd ..\nmvn clean install\n</code></pre>\n\n<p>The Maven section in Jenkins contains only this goal <code>clean install</code> (the screenshot below section \"Build\"):</p>\n\n<hr>\n\n<p>So what I wonder is how to add the following maven tasks in Jenkins job to be executed on ModuleOne:</p>\n\n<pre><code>mvn xmlbeans:xmlbeans\nmvn install\n</code></pre>\n\n<hr>\n\n<p>My idea is to go to \"Pre Steps\" section and add following maven goal:</p>\n\n<pre><code>mvn xmlbeans:xmlbeans install\n</code></pre>\n\n<p>My questions are: <BR>\n1. If I am on the right way how to define the goal \"mvn xmlbeans:xmlbeans install\" to be executed exactly on ModuleOne? <BR>\n2. If I am not on the right way are there at all any solutions to do this with Jenkins? <BR></p>\n\n<p>Here is screenshot with my suggestion for \"Pre Steps\". In the current configuration (that skips to add proper dirctory with .xsb and .class fiels to ModuleOne) this section is missing, but the section \"Build\" is as it is used now.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CluEH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CluEH.png\" alt=\"Maven build settings\"></a></p>\n"},{"tags":["java","infinite-loop"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1695927910,"post_id":77197584,"comment_id":136092595,"body_markdown":"Please [edit] your question and include your code as (well-formatted) text, not as a picture. By the way, by itself, that code shouldn&#39;t result in an infinite loop.","body":"Please <a href=\"https://stackoverflow.com/posts/77197584/edit\">edit</a> your question and include your code as (well-formatted) text, not as a picture. By the way, by itself, that code shouldn&#39;t result in an infinite loop."},{"owner":{"account_id":18608321,"reputation":2964,"user_id":13561410,"display_name":"Oskar Grosser"},"score":0,"creation_date":1695928662,"post_id":77197584,"comment_id":136092721,"body_markdown":"Is only the method `evenSumMax()` tested, or your whole program? Maybe some other part of your program (e.g. the caller of `evenSumMax()`) causes the issue? How is the test implemented; i.e. in what case does it log &quot;*** TIMEOUT (infinite loop?)&quot;?","body":"Is only the method <code>evenSumMax()</code> tested, or your whole program? Maybe some other part of your program (e.g. the caller of <code>evenSumMax()</code>) causes the issue? How is the test implemented; i.e. in what case does it log &quot;*** TIMEOUT (infinite loop?)&quot;?"},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":2,"creation_date":1695947430,"post_id":77197584,"comment_id":136094928,"body_markdown":"The timeout error is not coming from Java. You either have placed this method into an existing program or are running it on an obscure website that we can&#39;t help you with. Contact your teacher for help.","body":"The timeout error is not coming from Java. You either have placed this method into an existing program or are running it on an obscure website that we can&#39;t help you with. Contact your teacher for help."},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1695962712,"post_id":77197584,"comment_id":136095888,"body_markdown":"There is no infinite loop in your code.","body":"There is no infinite loop in your code."},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1695963023,"post_id":77197584,"comment_id":136095913,"body_markdown":"Do you need to handle non-numeric input? What happens if the test enters &quot;boom&quot; for the first question (&quot;how many integers?&quot;)?","body":"Do you need to handle non-numeric input? What happens if the test enters &quot;boom&quot; for the first question (&quot;how many integers?&quot;)?"},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1695963102,"post_id":77197584,"comment_id":136095922,"body_markdown":"Note that the &quot;TIMEOUT&quot; is printed before your actual program output. Where is `evenSumMax` called? What is the `static void main(String[] args)` method in your program?","body":"Note that the &quot;TIMEOUT&quot; is printed before your actual program output. Where is <code>evenSumMax</code> called? What is the <code>static void main(String[] args)</code> method in your program?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696068010,"post_id":77197584,"comment_id":136108726,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695963057,"creation_date":1695963057,"answer_id":77199503,"question_id":77197584,"body_markdown":"Nothing in your code prints &quot;TIMEOUT (infinite loop?)&quot;. Nevertheless, there is room for optimization.\r\n\r\nYou are only ever using the last value from your array, immediately after setting its value. This means that for large inputs, your program first needs to allocate one _huge_ array. Depending on the runtime environment, this can crash or take a long time.\r\n\r\nGet rid of the array and simply store the &quot;next integer&quot; in a single `int` variable. Use that single variable to calculate the sum and the max. You should not need more than 4 variables: `size`, `nextInteger`, `sum`, `max`.\r\n\r\nIf that doesn&#39;t work, talk to your instructor.","title":"How to not get TIMEOUT (Infinite loop) error","body":"<p>Nothing in your code prints &quot;TIMEOUT (infinite loop?)&quot;. Nevertheless, there is room for optimization.</p>\n<p>You are only ever using the last value from your array, immediately after setting its value. This means that for large inputs, your program first needs to allocate one <em>huge</em> array. Depending on the runtime environment, this can crash or take a long time.</p>\n<p>Get rid of the array and simply store the &quot;next integer&quot; in a single <code>int</code> variable. Use that single variable to calculate the sum and the max. You should not need more than 4 variables: <code>size</code>, <code>nextInteger</code>, <code>sum</code>, <code>max</code>.</p>\n<p>If that doesn't work, talk to your instructor.</p>\n"}],"owner":{"account_id":29558236,"reputation":1,"user_id":22653393,"display_name":"Anthony"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695963057,"creation_date":1695927469,"question_id":77197584,"body_markdown":"The user inputs integers and the program determines the even max and even sum.   \r\n\r\nThe program output is correct but I get an error at the end that says &quot;TIMEOUT (Infinite loop?)&quot;. Is there a way that I&#39;m supposed to end the loop?\r\n\r\n```java\r\nstatic void evenSumMax() {\r\n\tScanner sc = new Scanner(System.in);\r\n\tSystem.out.print(&quot;how many integers? &quot;);\r\n\r\n\tint size = sc.nextInt();\r\n\tint integer[] = new int[size];\r\n\tint sum = 0;\r\n\tint max = 0;\r\n\r\n\tfor (int i = 0; i &lt; size; i++) {\r\n\r\n\t\tSystem.out.print(&quot;next integer? &quot;);\r\n\t\tinteger[i] = sc.nextInt();\r\n\t\tif (integer[i] &gt; 0 &amp;&amp; integer[i] % 2 == 0) {\r\n\t\t\tsum += integer[i];\r\n\t\t\tif (integer[i] &gt; max) {\r\n\t\t\t\tmax = integer[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tSystem.out.println(&quot;even sum = &quot; + sum);\r\n\tSystem.out.println(&quot;even max = &quot; + max);\r\n}\r\n```\r\n[Output](https://i.stack.imgur.com/89nQi.png)\r\n\r\n```lang-none\r\n❌ You passed 0 of 3 tests. Try again.\r\n\r\ntest #1: 4 (2, 9, 18, 4)\r\n\r\nexpected output:\r\nhow many integers? 4\r\nnext integer? 2\r\nnext integer? 9\r\nnext integer? 18\r\nnext integer? 4\r\neven sum = 24\r\neven max = 18\r\n\r\nyour output:\r\n*** TIMEOUT (infinite loop?)\r\nhow many integers? 4\r\nnext integer? 2\r\nnext integer? 9\r\nnext integer? 18\r\nnext integer? 4\r\neven sum = 24\r\neven max = 18\r\n\r\ndifferences:\r\n0a1\r\n&gt; *** TIMEOUT (infinite loop?)\r\n\r\nresult:\r\n❌ fail\r\n\r\ndetails:\r\nexceeded maximum allowed run time\r\n```\r\n\r\nI tried different compilers online and they are not giving me this issue. ","title":"How to not get TIMEOUT (Infinite loop) error","body":"<p>The user inputs integers and the program determines the even max and even sum.</p>\n<p>The program output is correct but I get an error at the end that says &quot;TIMEOUT (Infinite loop?)&quot;. Is there a way that I'm supposed to end the loop?</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void evenSumMax() {\n    Scanner sc = new Scanner(System.in);\n    System.out.print(&quot;how many integers? &quot;);\n\n    int size = sc.nextInt();\n    int integer[] = new int[size];\n    int sum = 0;\n    int max = 0;\n\n    for (int i = 0; i &lt; size; i++) {\n\n        System.out.print(&quot;next integer? &quot;);\n        integer[i] = sc.nextInt();\n        if (integer[i] &gt; 0 &amp;&amp; integer[i] % 2 == 0) {\n            sum += integer[i];\n            if (integer[i] &gt; max) {\n                max = integer[i];\n            }\n        }\n    }\n    System.out.println(&quot;even sum = &quot; + sum);\n    System.out.println(&quot;even max = &quot; + max);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/89nQi.png\" rel=\"nofollow noreferrer\">Output</a></p>\n<pre class=\"lang-none prettyprint-override\"><code>❌ You passed 0 of 3 tests. Try again.\n\ntest #1: 4 (2, 9, 18, 4)\n\nexpected output:\nhow many integers? 4\nnext integer? 2\nnext integer? 9\nnext integer? 18\nnext integer? 4\neven sum = 24\neven max = 18\n\nyour output:\n*** TIMEOUT (infinite loop?)\nhow many integers? 4\nnext integer? 2\nnext integer? 9\nnext integer? 18\nnext integer? 4\neven sum = 24\neven max = 18\n\ndifferences:\n0a1\n&gt; *** TIMEOUT (infinite loop?)\n\nresult:\n❌ fail\n\ndetails:\nexceeded maximum allowed run time\n</code></pre>\n<p>I tried different compilers online and they are not giving me this issue.</p>\n"},{"tags":["java","karate","jsonparser"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695962447,"creation_date":1695961816,"answer_id":77199456,"question_id":77197288,"body_markdown":"If you have a Java class that is a [valid Java Bean](https://stackoverflow.com/a/3295517/143475) you can use [`karate.toBean()`](https://github.com/karatelabs/karate#karate-tobean) to convert from JSON to a Java instance.\r\n\r\nYou can look at this [example](https://github.com/karatelabs/karate/tree/7211131d20bdf1ec44bc7730ceb0d459c5c843d4/karate-demo/src/test/java/demo/unit):\r\n\r\n    * def catType = &#39;com.intuit.karate.demo.domain.Cat&#39;\r\n    * def Cat = Java.type(catType)\r\n    * def toCat = function(x){ return karate.toBean(x, catType) }\r\n    # second argument (true) is to strip keys with null values\r\n    * def toJson = function(x){ return karate.toJson(x, true) }\r\n\r\nThe JSON is expected to be the same &quot;shape&quot; as the Java bean.","title":"How to handle JSON conversion from Karate feature file to Java class?","body":"<p>If you have a Java class that is a <a href=\"https://stackoverflow.com/a/3295517/143475\">valid Java Bean</a> you can use <a href=\"https://github.com/karatelabs/karate#karate-tobean\" rel=\"nofollow noreferrer\"><code>karate.toBean()</code></a> to convert from JSON to a Java instance.</p>\n<p>You can look at this <a href=\"https://github.com/karatelabs/karate/tree/7211131d20bdf1ec44bc7730ceb0d459c5c843d4/karate-demo/src/test/java/demo/unit\" rel=\"nofollow noreferrer\">example</a>:</p>\n<pre><code>* def catType = 'com.intuit.karate.demo.domain.Cat'\n* def Cat = Java.type(catType)\n* def toCat = function(x){ return karate.toBean(x, catType) }\n# second argument (true) is to strip keys with null values\n* def toJson = function(x){ return karate.toJson(x, true) }\n</code></pre>\n<p>The JSON is expected to be the same &quot;shape&quot; as the Java bean.</p>\n"}],"owner":{"account_id":8611883,"reputation":43,"user_id":22504890,"display_name":"user22504890"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695962447,"creation_date":1695924382,"question_id":77197288,"body_markdown":"I have a karate test and lines like this :\r\n\r\n \r\n\r\n    * def schema = read(&#39;schema.json&#39;)\r\n    * def response = read(&#39;response.json&#39;)\r\n    And def jsonValidator = Java.type(&#39;feature.JsonValidator&#39;).isValid(parseSchema, response)\r\n\r\nBut when I send that schema which is json file instead of \r\n\r\n    {\r\n      &quot;properties&quot;: {\r\n        &quot;debtor&quot;: {\r\n          &quot;example&quot;: 1,\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        },\r\n        &quot;creditor&quot;: {\r\n          &quot;example&quot;: 2,\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        },\r\n        &quot;currency&quot;: {\r\n          &quot;example&quot;: 3,\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        }\r\n      },\r\n      &quot;type&quot;: &quot;object&quot;\r\n    }\r\n\r\nIn Java code I am getting it like \r\n\r\n    {properties={debtor={example=1, type=integer}, creditor={example=2, type=integer}, currency={example=3, type=integer}}, type=object} \r\n\r\nI read that Karate for some reason converts JSON file to Map or List in Java. But how then to have proper JSON in Java class?","title":"How to handle JSON conversion from Karate feature file to Java class?","body":"<p>I have a karate test and lines like this :</p>\n<pre><code>* def schema = read('schema.json')\n* def response = read('response.json')\nAnd def jsonValidator = Java.type('feature.JsonValidator').isValid(parseSchema, response)\n</code></pre>\n<p>But when I send that schema which is json file instead of</p>\n<pre><code>{\n  &quot;properties&quot;: {\n    &quot;debtor&quot;: {\n      &quot;example&quot;: 1,\n      &quot;type&quot;: &quot;integer&quot;\n    },\n    &quot;creditor&quot;: {\n      &quot;example&quot;: 2,\n      &quot;type&quot;: &quot;integer&quot;\n    },\n    &quot;currency&quot;: {\n      &quot;example&quot;: 3,\n      &quot;type&quot;: &quot;integer&quot;\n    }\n  },\n  &quot;type&quot;: &quot;object&quot;\n}\n</code></pre>\n<p>In Java code I am getting it like</p>\n<pre><code>{properties={debtor={example=1, type=integer}, creditor={example=2, type=integer}, currency={example=3, type=integer}}, type=object} \n</code></pre>\n<p>I read that Karate for some reason converts JSON file to Map or List in Java. But how then to have proper JSON in Java class?</p>\n"},{"tags":["java","hibernate","maven","jpa"],"answers":[{"tags":[],"owner":{"account_id":382603,"reputation":9058,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483584106,"creation_date":1483584106,"answer_id":41476548,"question_id":36658459,"body_markdown":"When the entities are residing in a different jar, you have to include it in persistence.xml.  `&lt;jar-file&gt;entities-packaged.jar&lt;/jar-file&gt;`.  Different options are explained [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4433341/what-is-the-right-path-to-refer-a-jar-file-in-jpa-persistence-xml-in-a-web-app","title":"Hibernate error &quot;unable to locate persister&quot;","body":"<p>When the entities are residing in a different jar, you have to include it in persistence.xml.  <code>&lt;jar-file&gt;entities-packaged.jar&lt;/jar-file&gt;</code>.  Different options are explained <a href=\"https://stackoverflow.com/questions/4433341/what-is-the-right-path-to-refer-a-jar-file-in-jpa-persistence-xml-in-a-web-app\">here</a></p>\n"},{"tags":[],"owner":{"account_id":12601738,"reputation":19,"user_id":9164226,"display_name":"Lovish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514908800,"creation_date":1514906575,"answer_id":48063505,"question_id":36658459,"body_markdown":"When we use Hibernate 5 jars, then we get \r\n&gt;org.hibernate.UnknownEntityTypeException: Unable to locate persister&quot;. \r\n\r\nI just changed the hibernate jar versions from 5 to 4 and then everything was fine.\r\nHibernate 5 does not locate the entity classes even after mapping.","title":"Hibernate error &quot;unable to locate persister&quot;","body":"<p>When we use Hibernate 5 jars, then we get </p>\n\n<blockquote>\n  <p>org.hibernate.UnknownEntityTypeException: Unable to locate persister\". </p>\n</blockquote>\n\n<p>I just changed the hibernate jar versions from 5 to 4 and then everything was fine.\nHibernate 5 does not locate the entity classes even after mapping.</p>\n"},{"tags":[],"owner":{"account_id":6609714,"reputation":4086,"user_id":5105305,"accept_rate":58,"display_name":"Kasun Siyambalapitiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636460780,"creation_date":1636460780,"answer_id":69898126,"question_id":36658459,"body_markdown":"I too got the same exception and it was due to missing the entity annotation `@Entity` for the class. Please check if the `@Entity` annotation is available in your class","title":"Hibernate error &quot;unable to locate persister&quot;","body":"<p>I too got the same exception and it was due to missing the entity annotation <code>@Entity</code> for the class. Please check if the <code>@Entity</code> annotation is available in your class</p>\n"},{"tags":[],"owner":{"account_id":25367692,"reputation":41,"user_id":19182036,"display_name":"yoeltecleab"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657248108,"creation_date":1657248108,"answer_id":72906118,"question_id":36658459,"body_markdown":"Try changing the imports from &quot;javax&quot; to &quot;jakarta&quot;. I had the same issue and mine worked when I made the change.","title":"Hibernate error &quot;unable to locate persister&quot;","body":"<p>Try changing the imports from &quot;javax&quot; to &quot;jakarta&quot;. I had the same issue and mine worked when I made the change.</p>\n"},{"tags":[],"owner":{"account_id":1034502,"reputation":1373,"user_id":1042151,"accept_rate":25,"display_name":"tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695961991,"creation_date":1695961991,"answer_id":77199469,"question_id":36658459,"body_markdown":"In my case I was using Java 17 and a newer version of hibernate-core and trying to `import javax.persistence.*`. I started with [this example][1] and tried to upgrade hibernate-core to a newer version (6.2.7.Final) and got the error `Unable to locate persister`.\r\n\r\nOriginal pom.xml:\r\n\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.7.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.214&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nOriginal imports:\r\n```java\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n```\r\n\r\nThe `hibernate-core` dependency pulls in persistence implicitly so explicitly pulling it in like that (and an older version) was my mistake. I just needed to change my pom dependencies to this:\r\n\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.7.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.214&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nAnd change my imports to this:\r\n\r\n```java\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\n```\r\n\r\n... and it all worked fine after that.\r\n\r\n  [1]: https://www.geeksforgeeks.org/hibernate-example-using-jpa-and-mysql/","title":"Hibernate error &quot;unable to locate persister&quot;","body":"<p>In my case I was using Java 17 and a newer version of hibernate-core and trying to <code>import javax.persistence.*</code>. I started with <a href=\"https://www.geeksforgeeks.org/hibernate-example-using-jpa-and-mysql/\" rel=\"nofollow noreferrer\">this example</a> and tried to upgrade hibernate-core to a newer version (6.2.7.Final) and got the error <code>Unable to locate persister</code>.</p>\n<p>Original pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.1.214&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Original imports:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n</code></pre>\n<p>The <code>hibernate-core</code> dependency pulls in persistence implicitly so explicitly pulling it in like that (and an older version) was my mistake. I just needed to change my pom dependencies to this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.1.214&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>And change my imports to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n</code></pre>\n<p>... and it all worked fine after that.</p>\n"}],"owner":{"account_id":304878,"reputation":4011,"user_id":614660,"accept_rate":61,"display_name":"maxenglander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14472,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1695961991,"creation_date":1460763576,"question_id":36658459,"body_markdown":"I am trying to execute some Java with the Maven exec plugin, and am getting an error `Caused by: org.hibernate.UnknownEntityTypeException: Unable to locate persister: my.biz.CoolEntity`. I tried a number of failed solutions, before ultimately finding a hacky fix. Based on the hacky fix, I believe the issue to be a runtime classpath error.\r\n\r\nI am looking for an answer that will tell me how to address the problem without resorting to copying the needed files into place, as I do in the hacky fix.\r\n\r\n__Background__\r\n\r\nI have a Maven project &quot;Project A&quot; which has dependencies upon Hibernate 5.0.1.Final as well as another project &quot;Project B&quot;. Project B contains my JPA entity classes, including `my.biz.CoolEntity`.\r\n\r\nNormally, I build everything into a shaded JAR and run/deploy that, without any issues. \r\n\r\n__Hibernate issue__\r\n\r\nRecently, I began using Maven&#39;s `exec:java` goal, but am running into what on the surface is a Hibernate issue. when I run `mvn exec:java -DmainClass=my.biz.CoolEntity`, I get this error:\r\n\r\n    Caused by: org.hibernate.UnknownEntityTypeException: Unable to locate persister: my.biz.CoolEntity\r\n            at org.hibernate.internal.SessionFactoryImpl.locateEntityPersister(SessionFactoryImpl.java:792) ~[hibernate-core-5.0.1.Fi\r\n    nal.jar:5.0.1.Final]\r\n            at org.hibernate.internal.SessionImpl.locateEntityPersister(SessionImpl.java:2641) ~[hibernate-core-5.0.1.Final.jar:5.0.1\r\n    .Final]\r\n            at org.hibernate.internal.SessionImpl.access$2500(SessionImpl.java:164) ~[hibernate-core-5.0.1.Final.jar:5.0.1.Final]\r\n            at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2579) ~[hibernate-core-5.0.1.Final\r\n    .jar:5.0.1.Final]\r\n            at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2566) ~[hibernate-core-5.0.1.Final\r\n    .jar:5.0.1.Final]\r\n            at org.hibernate.internal.SessionImpl.byId(SessionImpl.java:1044) ~[hibernate-core-5.0.1.Final.jar:5.0.1.Final]\r\n            at org.hibernate.internal.SessionImpl.get(SessionImpl.java:955) ~[hibernate-core-5.0.1.Final.jar:5.0.1.Final]\r\n            at org.hibernate.jpa.spi.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:1075) ~[hibernate-entitymanager-5.\r\n    0.1.Final.jar:5.0.1.Final] \r\n\r\n__Failed attempts__\r\n\r\nI tried making use of the exec plugin&#39;s [`&lt;additionalClasspathElements&gt;`](https://stackoverflow.com/a/19199709/614660) and [`&lt;includePluginDependencies&gt;`](https://stackoverflow.com/a/11711997/614660). The first solution didn&#39;t result in any different, and the second resulted in a compile-time error.\r\n\r\n__Hacky fix__\r\n\r\nWhat ended up working for me was copying the compiled classes from Project B into Project A.","title":"Hibernate error &quot;unable to locate persister&quot;","body":"<p>I am trying to execute some Java with the Maven exec plugin, and am getting an error <code>Caused by: org.hibernate.UnknownEntityTypeException: Unable to locate persister: my.biz.CoolEntity</code>. I tried a number of failed solutions, before ultimately finding a hacky fix. Based on the hacky fix, I believe the issue to be a runtime classpath error.</p>\n\n<p>I am looking for an answer that will tell me how to address the problem without resorting to copying the needed files into place, as I do in the hacky fix.</p>\n\n<p><strong>Background</strong></p>\n\n<p>I have a Maven project \"Project A\" which has dependencies upon Hibernate 5.0.1.Final as well as another project \"Project B\". Project B contains my JPA entity classes, including <code>my.biz.CoolEntity</code>.</p>\n\n<p>Normally, I build everything into a shaded JAR and run/deploy that, without any issues. </p>\n\n<p><strong>Hibernate issue</strong></p>\n\n<p>Recently, I began using Maven's <code>exec:java</code> goal, but am running into what on the surface is a Hibernate issue. when I run <code>mvn exec:java -DmainClass=my.biz.CoolEntity</code>, I get this error:</p>\n\n<pre><code>Caused by: org.hibernate.UnknownEntityTypeException: Unable to locate persister: my.biz.CoolEntity\n        at org.hibernate.internal.SessionFactoryImpl.locateEntityPersister(SessionFactoryImpl.java:792) ~[hibernate-core-5.0.1.Fi\nnal.jar:5.0.1.Final]\n        at org.hibernate.internal.SessionImpl.locateEntityPersister(SessionImpl.java:2641) ~[hibernate-core-5.0.1.Final.jar:5.0.1\n.Final]\n        at org.hibernate.internal.SessionImpl.access$2500(SessionImpl.java:164) ~[hibernate-core-5.0.1.Final.jar:5.0.1.Final]\n        at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2579) ~[hibernate-core-5.0.1.Final\n.jar:5.0.1.Final]\n        at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2566) ~[hibernate-core-5.0.1.Final\n.jar:5.0.1.Final]\n        at org.hibernate.internal.SessionImpl.byId(SessionImpl.java:1044) ~[hibernate-core-5.0.1.Final.jar:5.0.1.Final]\n        at org.hibernate.internal.SessionImpl.get(SessionImpl.java:955) ~[hibernate-core-5.0.1.Final.jar:5.0.1.Final]\n        at org.hibernate.jpa.spi.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:1075) ~[hibernate-entitymanager-5.\n0.1.Final.jar:5.0.1.Final] \n</code></pre>\n\n<p><strong>Failed attempts</strong></p>\n\n<p>I tried making use of the exec plugin's <a href=\"https://stackoverflow.com/a/19199709/614660\"><code>&lt;additionalClasspathElements&gt;</code></a> and <a href=\"https://stackoverflow.com/a/11711997/614660\"><code>&lt;includePluginDependencies&gt;</code></a>. The first solution didn't result in any different, and the second resulted in a compile-time error.</p>\n\n<p><strong>Hacky fix</strong></p>\n\n<p>What ended up working for me was copying the compiled classes from Project B into Project A.</p>\n"},{"tags":["java","mysql","sql"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646213164,"post_id":71299168,"comment_id":126065397,"body_markdown":"Does this answer your question? [java.sql.SQLException: Unknown system variable &#39;query\\_cache\\_size&#39;](https://stackoverflow.com/questions/49984267/java-sql-sqlexception-unknown-system-variable-query-cache-size)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49984267/java-sql-sqlexception-unknown-system-variable-query-cache-size\">java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;</a>"},{"owner":{"account_id":20993144,"reputation":51,"user_id":18336439,"display_name":"user18336439"},"score":0,"creation_date":1646692013,"post_id":71299168,"comment_id":126182562,"body_markdown":"actually no, you need to &quot;lie&quot; the proxy and set it in the mysqlcnf.yaml that &quot;mysql_server_version=8.0.27&quot; or above 5","body":"actually no, you need to &quot;lie&quot; the proxy and set it in the mysqlcnf.yaml that &quot;mysql_server_version=8.0.27&quot; or above 5"}],"answers":[{"tags":[],"owner":{"account_id":3185556,"reputation":1,"user_id":2691259,"display_name":"lamgak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695961989,"creation_date":1695961948,"answer_id":77199466,"question_id":71299168,"body_markdown":"It&#39;s too late, but I want to help someone face with this issue later.\r\nApply below setting into your ProxySQL.\r\n\r\n    update global_variables set variable_value=&quot;8.0.4 (ProxySQL)&quot; where variable_name=&#39;mysql-server_version&#39;; \r\n    load mysql variables to run;save mysql variables to disk;\r\n\r\nThanks MarcoTusa for the explanation.\r\nhttp://www.tusacentral.net/joomla/index.php/mysql-blogs/198-proxysql-server-version-impersonation.html","title":"Spring application fails through ProxySQL","body":"<p>It's too late, but I want to help someone face with this issue later.\nApply below setting into your ProxySQL.</p>\n<pre><code>update global_variables set variable_value=&quot;8.0.4 (ProxySQL)&quot; where variable_name='mysql-server_version'; \nload mysql variables to run;save mysql variables to disk;\n</code></pre>\n<p>Thanks MarcoTusa for the explanation.\n<a href=\"http://www.tusacentral.net/joomla/index.php/mysql-blogs/198-proxysql-server-version-impersonation.html\" rel=\"nofollow noreferrer\">http://www.tusacentral.net/joomla/index.php/mysql-blogs/198-proxysql-server-version-impersonation.html</a></p>\n"}],"owner":{"account_id":20993144,"reputation":51,"user_id":18336439,"display_name":"user18336439"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695961989,"creation_date":1646071286,"question_id":71299168,"body_markdown":"I am having some troubles to connect my multimodule maven project to proxysql.\r\nWhen i connect to two different environments - one with **mysql 8** and other with **mysql 5**, the app is connecting fine and working fine.\r\nWhen I connect to the proxy with mysql-connector via **cj** driver is throwing:\r\n\r\n    java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;\r\n\r\nTried to change to **mariadb** and it throws:\r\n\r\n     java.sql.SQLException: Unknown system variable &#39;tx_isolation&#39;\r\n\r\n***This happens with the latest versions of mysql-connector and mariadb client.***\r\n\r\nWhen i created a simple maven module(non-spring) via ConnectionFactory is connecting! (mariadb client 2.7.0 or lower)\r\nWhen i created a simple Spring app and tried to connect - same errors.\r\nDoes anyone could help here :(\r\nI am using mybatis as ORM.\r\nMaybe it&#39;s the jdbc version inside of the spring or the mybatis one.","title":"Spring application fails through ProxySQL","body":"<p>I am having some troubles to connect my multimodule maven project to proxysql.\nWhen i connect to two different environments - one with <strong>mysql 8</strong> and other with <strong>mysql 5</strong>, the app is connecting fine and working fine.\nWhen I connect to the proxy with mysql-connector via <strong>cj</strong> driver is throwing:</p>\n<pre><code>java.sql.SQLException: Unknown system variable 'query_cache_size'\n</code></pre>\n<p>Tried to change to <strong>mariadb</strong> and it throws:</p>\n<pre><code> java.sql.SQLException: Unknown system variable 'tx_isolation'\n</code></pre>\n<p><em><strong>This happens with the latest versions of mysql-connector and mariadb client.</strong></em></p>\n<p>When i created a simple maven module(non-spring) via ConnectionFactory is connecting! (mariadb client 2.7.0 or lower)\nWhen i created a simple Spring app and tried to connect - same errors.\nDoes anyone could help here :(\nI am using mybatis as ORM.\nMaybe it's the jdbc version inside of the spring or the mybatis one.</p>\n"},{"tags":["java","android","kotlin","build.gradle"],"comments":[{"owner":{"account_id":11448833,"reputation":431,"user_id":8391757,"accept_rate":25,"display_name":"Michael"},"score":0,"creation_date":1663361202,"post_id":72416676,"comment_id":130229973,"body_markdown":"have you found a solution for that? I&#39;m facing the same problem and I&#39;m desperately looking for an answer","body":"have you found a solution for that? I&#39;m facing the same problem and I&#39;m desperately looking for an answer"}],"answers":[{"tags":[],"owner":{"account_id":9194945,"reputation":21,"user_id":14504940,"display_name":"driver4567"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666080282,"creation_date":1666080282,"answer_id":74107657,"question_id":72416676,"body_markdown":"In Android studio, under the project source files, under android&gt;app&gt;src, right click on build.gradle, and click Run &#39;android&#39;\r\n\r\nThis will than compile, you can than run the project.","title":"Android Studios unable to find gradle tasks to build a program","body":"<p>In Android studio, under the project source files, under android&gt;app&gt;src, right click on build.gradle, and click Run 'android'</p>\n<p>This will than compile, you can than run the project.</p>\n"},{"tags":[],"owner":{"account_id":1083758,"reputation":16795,"user_id":1079990,"display_name":"hannes ach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695961566,"creation_date":1674813293,"answer_id":75256472,"question_id":72416676,"body_markdown":"As I tried to build an old Android project \r\n\r\n    classpath &#39;com.android.tools.build:gradle:2.3.1&#39;\r\n\r\nI solved it by adding a\r\n\r\n    settings.gradle\r\n\r\nwith content\r\n\r\n    include &quot;:app&quot;","title":"Android Studios unable to find gradle tasks to build a program","body":"<p>As I tried to build an old Android project</p>\n<pre><code>classpath 'com.android.tools.build:gradle:2.3.1'\n</code></pre>\n<p>I solved it by adding a</p>\n<pre><code>settings.gradle\n</code></pre>\n<p>with content</p>\n<pre><code>include &quot;:app&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7073752,"reputation":1085,"user_id":5414535,"accept_rate":0,"display_name":"Josef Vancura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689578484,"creation_date":1689578484,"answer_id":76702251,"question_id":72416676,"body_markdown":"As workaround you can run UnitTest from terminal, see https://developer.android.com/studio/test/command-line#RunTestsGradle","title":"Android Studios unable to find gradle tasks to build a program","body":"<p>As workaround you can run UnitTest from terminal, see <a href=\"https://developer.android.com/studio/test/command-line#RunTestsGradle\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/test/command-line#RunTestsGradle</a></p>\n"}],"owner":{"account_id":25413476,"reputation":81,"user_id":19220867,"display_name":"Mike-Ethio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8134,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1695961566,"creation_date":1653749730,"question_id":72416676,"body_markdown":"When I try to build a kotlin program on android studio, it displays the notification:\r\n\r\n\t*Unable to find Gradle tasks to build: [:]. \r\n\tBuild mode: COMPILE_JAVA. \r\n\tTests: All.*\r\n\r\nThis happens when I try to debug or run a code like \r\n\r\n    fun main(){\r\n        println &quot;hello world \\n I am Michael Girum.&quot;\r\n    }","title":"Android Studios unable to find gradle tasks to build a program","body":"<p>When I try to build a kotlin program on android studio, it displays the notification:</p>\n<pre><code>*Unable to find Gradle tasks to build: [:]. \nBuild mode: COMPILE_JAVA. \nTests: All.*\n</code></pre>\n<p>This happens when I try to debug or run a code like</p>\n<pre><code>fun main(){\n    println &quot;hello world \\n I am Michael Girum.&quot;\n}\n</code></pre>\n"},{"tags":["java","spring","transactional","isolation","propagation"],"answers":[{"tags":[],"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"down_vote_count":1,"up_vote_count":542,"is_accepted":true,"score":541,"last_activity_date":1690007611,"creation_date":1323786860,"answer_id":8490932,"question_id":8490852,"body_markdown":"Good question, although not a trivial one to answer. \r\n\r\n\r\n### [Propagation][1]\r\n\r\nDefines how transactions relate to each other. Common options:\r\n\r\n* `REQUIRED`: Code will always run in a transaction. Creates a new transaction or reuses one if available.\r\n* `REQUIRES_NEW`: Code will always run in a new transaction. Suspends the current transaction if one exists. \r\n\r\nThe default value for `@Transactional` is `REQUIRED`, and this is often what you want.\r\n\r\n### [Isolation][2]\r\n\r\nDefines the data contract between transactions. \r\n\r\n* `ISOLATION_READ_UNCOMMITTED`: Allows dirty reads.\r\n* `ISOLATION_READ_COMMITTED`: Does not allow dirty reads.\r\n* `ISOLATION_REPEATABLE_READ`: If a row is read twice in the same transaction, the result will always be the same.\r\n* `ISOLATION_SERIALIZABLE`: Performs all transactions in a sequence.\r\n\r\nThe different levels have different performance characteristics in a multi-threaded application. I think if you understand the *dirty reads* concept you will be able to select a good option. \r\n\r\nDefaults may vary between difference databases. As an example, for [MariaDB](https://mariadb.com/kb/en/mariadb-transactions-and-isolation-levels-for-sql-server-users/) it is `REPEATABLE READ`.\r\n\r\n\r\n---\r\nExample of when a dirty read can occur:\r\n\r\n      thread 1   thread 2      \r\n          |         |\r\n        write(x)    |\r\n          |         |\r\n          |        read(x)\r\n          |         |\r\n        rollback    |\r\n          v         v \r\n               value (x) is now dirty (incorrect)\r\n\r\nSo a sane default (if such can be claimed) could be `ISOLATION_READ_COMMITTED`, which only lets you read values which have already been committed by other running transactions, in combination with a propagation level of `REQUIRED`. Then you can work from there if your application has other needs. \r\n\r\n---\r\nA practical example of where a new transaction will always be created when entering the `provideService` routine and completed when leaving:\r\n\r\n\r\n    public class FooService {\r\n        private Repository repo1;\r\n        private Repository repo2;\r\n\r\n        @Transactional(propagation=Propagation.REQUIRES_NEW)\r\n        public void provideService() {\r\n            repo1.retrieveFoo();\r\n            repo2.retrieveFoo();\r\n        }\r\n    }\r\n\r\nHad we instead used `REQUIRED`, the transaction [would remain open][4] if the transaction was already open when entering the routine. \r\nNote also that the result of a `rollback` could be different as several executions could take part in the same transaction. \r\n\r\n---\r\nWe can easily verify the behaviour with a test and see how results differ with propagation levels:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations=&quot;classpath:/fooService.xml&quot;)\r\n    public class FooServiceTests {\r\n\r\n        private @Autowired TransactionManager transactionManager;\r\n        private @Autowired FooService fooService;\r\n\r\n        @Test\r\n        public void testProvideService() {\r\n            TransactionStatus status = transactionManager.getTransaction(new DefaultTransactionDefinition());\r\n            fooService.provideService();\r\n            transactionManager.rollback(status);\r\n            // assert repository values are unchanged ... \r\n\t}\r\n\r\nWith a propagation level of\r\n\r\n* `REQUIRES_NEW`: we would expect `fooService.provideService()` was *NOT* rolled back since it created its own sub-transaction. \r\n\r\n* `REQUIRED`: we would expect everything was rolled back and the backing store was unchanged. \r\n\r\n[1]: http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/transaction/annotation/Propagation.html\r\n[2]: http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/transaction/TransactionDefinition.html\r\n[4]: https://stackoverflow.com/questions/2754160/question-about-spring-transaction-propagation","title":"Spring @Transactional - isolation, propagation","body":"<p>Good question, although not a trivial one to answer.</p>\n<h3><a href=\"http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/transaction/annotation/Propagation.html\" rel=\"noreferrer\">Propagation</a></h3>\n<p>Defines how transactions relate to each other. Common options:</p>\n<ul>\n<li><code>REQUIRED</code>: Code will always run in a transaction. Creates a new transaction or reuses one if available.</li>\n<li><code>REQUIRES_NEW</code>: Code will always run in a new transaction. Suspends the current transaction if one exists.</li>\n</ul>\n<p>The default value for <code>@Transactional</code> is <code>REQUIRED</code>, and this is often what you want.</p>\n<h3><a href=\"http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/transaction/TransactionDefinition.html\" rel=\"noreferrer\">Isolation</a></h3>\n<p>Defines the data contract between transactions.</p>\n<ul>\n<li><code>ISOLATION_READ_UNCOMMITTED</code>: Allows dirty reads.</li>\n<li><code>ISOLATION_READ_COMMITTED</code>: Does not allow dirty reads.</li>\n<li><code>ISOLATION_REPEATABLE_READ</code>: If a row is read twice in the same transaction, the result will always be the same.</li>\n<li><code>ISOLATION_SERIALIZABLE</code>: Performs all transactions in a sequence.</li>\n</ul>\n<p>The different levels have different performance characteristics in a multi-threaded application. I think if you understand the <em>dirty reads</em> concept you will be able to select a good option.</p>\n<p>Defaults may vary between difference databases. As an example, for <a href=\"https://mariadb.com/kb/en/mariadb-transactions-and-isolation-levels-for-sql-server-users/\" rel=\"noreferrer\">MariaDB</a> it is <code>REPEATABLE READ</code>.</p>\n<hr />\n<p>Example of when a dirty read can occur:</p>\n<pre><code>  thread 1   thread 2      \n      |         |\n    write(x)    |\n      |         |\n      |        read(x)\n      |         |\n    rollback    |\n      v         v \n           value (x) is now dirty (incorrect)\n</code></pre>\n<p>So a sane default (if such can be claimed) could be <code>ISOLATION_READ_COMMITTED</code>, which only lets you read values which have already been committed by other running transactions, in combination with a propagation level of <code>REQUIRED</code>. Then you can work from there if your application has other needs.</p>\n<hr />\n<p>A practical example of where a new transaction will always be created when entering the <code>provideService</code> routine and completed when leaving:</p>\n<pre><code>public class FooService {\n    private Repository repo1;\n    private Repository repo2;\n\n    @Transactional(propagation=Propagation.REQUIRES_NEW)\n    public void provideService() {\n        repo1.retrieveFoo();\n        repo2.retrieveFoo();\n    }\n}\n</code></pre>\n<p>Had we instead used <code>REQUIRED</code>, the transaction <a href=\"https://stackoverflow.com/questions/2754160/question-about-spring-transaction-propagation\">would remain open</a> if the transaction was already open when entering the routine.\nNote also that the result of a <code>rollback</code> could be different as several executions could take part in the same transaction.</p>\n<hr />\n<p>We can easily verify the behaviour with a test and see how results differ with propagation levels:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations=&quot;classpath:/fooService.xml&quot;)\npublic class FooServiceTests {\n\n    private @Autowired TransactionManager transactionManager;\n    private @Autowired FooService fooService;\n\n    @Test\n    public void testProvideService() {\n        TransactionStatus status = transactionManager.getTransaction(new DefaultTransactionDefinition());\n        fooService.provideService();\n        transactionManager.rollback(status);\n        // assert repository values are unchanged ... \n}\n</code></pre>\n<p>With a propagation level of</p>\n<ul>\n<li><p><code>REQUIRES_NEW</code>: we would expect <code>fooService.provideService()</code> was <em>NOT</em> rolled back since it created its own sub-transaction.</p>\n</li>\n<li><p><code>REQUIRED</code>: we would expect everything was rolled back and the backing store was unchanged.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":39617,"reputation":6179,"user_id":114340,"display_name":"AngerClown"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1323789194,"creation_date":1323789194,"answer_id":8491503,"question_id":8490852,"body_markdown":"You almost never want to use `Read Uncommited` since it&#39;s not really `ACID` compliant. `Read Commmited` is a good default starting place. `Repeatable Read` is probably only needed in reporting, rollup or aggregation scenarios. Note that many DBs, postgres included don&#39;t actually support Repeatable Read, you have to use `Serializable` instead. `Serializable` is useful for things that you know have to happen completely independently of anything else; think of it like `synchronized` in Java. Serializable goes hand in hand with `REQUIRES_NEW` propagation.\r\n\r\nI use `REQUIRES` for all functions that run UPDATE or DELETE queries as well as &quot;service&quot; level functions. For DAO level functions that only run SELECTs, I use `SUPPORTS` which will participate in a TX if one is already started (i.e. being called from a service function).","title":"Spring @Transactional - isolation, propagation","body":"<p>You almost never want to use <code>Read Uncommited</code> since it's not really <code>ACID</code> compliant. <code>Read Commmited</code> is a good default starting place. <code>Repeatable Read</code> is probably only needed in reporting, rollup or aggregation scenarios. Note that many DBs, postgres included don't actually support Repeatable Read, you have to use <code>Serializable</code> instead. <code>Serializable</code> is useful for things that you know have to happen completely independently of anything else; think of it like <code>synchronized</code> in Java. Serializable goes hand in hand with <code>REQUIRES_NEW</code> propagation.</p>\n\n<p>I use <code>REQUIRES</code> for all functions that run UPDATE or DELETE queries as well as \"service\" level functions. For DAO level functions that only run SELECTs, I use <code>SUPPORTS</code> which will participate in a TX if one is already started (i.e. being called from a service function).</p>\n"},{"tags":[],"owner":{"account_id":1705684,"reputation":7431,"user_id":1564766,"accept_rate":15,"display_name":"abishkar bhattarai"},"down_vote_count":0,"up_vote_count":391,"is_accepted":false,"score":391,"last_activity_date":1593751100,"creation_date":1366647032,"answer_id":16151690,"question_id":8490852,"body_markdown":"**PROPAGATION_REQUIRED = 0**; If  DataSourceTransactionObject T1 is already started for Method M1. If for another Method M2 Transaction object is required, no new Transaction object is created. Same object T1 is used for M2.\r\n\r\n**PROPAGATION_MANDATORY = 2**; method must run within a transaction. If no \r\nexisting transaction is in progress, an exception will be thrown.\r\n\r\n**PROPAGATION_REQUIRES_NEW = 3**; If DataSourceTransactionObject T1 is already started for Method M1 and it is in progress (executing  method M1). If another method M2 start executing then T1 is suspended for the duration of method M2 with new DataSourceTransactionObject T2 for M2. M2 run within its own transaction context.\r\n\r\n**PROPAGATION_NOT_SUPPORTED = 4**; If DataSourceTransactionObject T1 is already started for Method M1. If another method M2 is run concurrently. Then M2 should not run within transaction context. T1 is suspended till M2 is finished.\r\n\r\n**PROPAGATION_NEVER = 5**; None of the methods  run in transaction context.\r\n\r\n----------\r\n\r\n**An isolation level:**\r\nIt is about how much a transaction may be impacted by the activities of other concurrent transactions. It a supports consistency leaving the data across many tables in a consistent state. It involves locking rows and/or tables in a database.\r\n\r\n**The problem with multiple transaction**\r\n\r\n**Scenario 1**. If T1 transaction reads data from table A1 that was written by another concurrent transaction T2. If on the way T2 is rollback, the data obtained by T1 is invalid one. E.g. a=2 is original data. If T1 read a=1 that was written by T2. If T2 rollback then a=1 will be rollback to a=2 in DB. But, now, T1 has a=1 but in DB table it is changed to a=2.\r\n\r\n**Scenario2**. If T1 transaction reads data from table A1. If another concurrent transaction (T2) update data on table A1. Then the data that T1 has read is \r\ndifferent from table A1. Because T2 has updated the data on table A1. E.g. if T1 read a=1 and T2 updated a=2. Then a!=b.\r\n\r\n**Scenario 3**. If T1 transaction reads data from table A1 with certain number of rows. If another concurrent transaction (T2) inserts more rows on table A1. The \r\nnumber of rows read by T1 is different from rows on table A1.\r\n\r\nScenario 1 is called **Dirty reads.**\r\n\r\nScenario 2 is called **Non-repeatable reads.** \r\n\r\nScenario 3 is called **Phantom reads.**\r\n\r\nSo, isolation level is the extend to which **Scenario 1, Scenario 2, Scenario 3** can be prevented.\r\nYou can obtain complete isolation level by implementing locking. That is preventing concurrent reads and writes to the same data from occurring. But it affects performance. The level of isolation  depends upon application to application how much isolation is required.\r\n\r\n**ISOLATION_READ_UNCOMMITTED**: Allows to read changes that haven’t yet been committed. It suffer from Scenario 1, Scenario 2, Scenario 3.\r\n\r\n**ISOLATION_READ_COMMITTED**: Allows reads from concurrent transactions that have been committed. It may suffer from Scenario 2 and Scenario 3. Because other transactions may be updating the data.\r\n\r\n**ISOLATION_REPEATABLE_READ**: Multiple reads of the same field will yield the same results untill it is changed by itself. It may suffer from Scenario 3. Because other transactions may be inserting the data.\r\n\r\n**ISOLATION_SERIALIZABLE**: Scenario 1, Scenario 2, Scenario 3 never happen. It is complete isolation. It involves full locking. It affects performace because of locking.\r\n\r\nYou can test using:\r\n\r\n    public class TransactionBehaviour {\r\n       // set is either using xml Or annotation\r\n        DataSourceTransactionManager manager=new DataSourceTransactionManager();\r\n        SimpleTransactionStatus status=new SimpleTransactionStatus();\r\n       ;\r\n      \r\n        \r\n        public void beginTransaction()\r\n        {\r\n            DefaultTransactionDefinition Def = new DefaultTransactionDefinition();\r\n            // overwrite default PROPAGATION_REQUIRED and ISOLATION_DEFAULT\r\n            // set is either using xml Or annotation\r\n            manager.setPropagationBehavior(XX);\r\n            manager.setIsolationLevelName(XX);\r\n           \r\n            status = manager.getTransaction(Def);\r\n        \r\n        }\r\n    \r\n        public void commitTransaction()\r\n        {\r\n           \r\n          \r\n                if(status.isCompleted()){\r\n                    manager.commit(status);\r\n            } \r\n        }\r\n    \r\n        public void rollbackTransaction()\r\n        {\r\n           \r\n                if(!status.isCompleted()){\r\n                    manager.rollback(status);\r\n            }\r\n        }\r\n        Main method{\r\n            beginTransaction()\r\n            M1();\r\n            If error(){\r\n                rollbackTransaction()\r\n            }\r\n             commitTransaction();\r\n        }\r\n       \r\n    }\r\nYou can debug and see the result with different values for isolation and propagation.\r\n","title":"Spring @Transactional - isolation, propagation","body":"<p><strong>PROPAGATION_REQUIRED = 0</strong>; If  DataSourceTransactionObject T1 is already started for Method M1. If for another Method M2 Transaction object is required, no new Transaction object is created. Same object T1 is used for M2.</p>\n<p><strong>PROPAGATION_MANDATORY = 2</strong>; method must run within a transaction. If no\nexisting transaction is in progress, an exception will be thrown.</p>\n<p><strong>PROPAGATION_REQUIRES_NEW = 3</strong>; If DataSourceTransactionObject T1 is already started for Method M1 and it is in progress (executing  method M1). If another method M2 start executing then T1 is suspended for the duration of method M2 with new DataSourceTransactionObject T2 for M2. M2 run within its own transaction context.</p>\n<p><strong>PROPAGATION_NOT_SUPPORTED = 4</strong>; If DataSourceTransactionObject T1 is already started for Method M1. If another method M2 is run concurrently. Then M2 should not run within transaction context. T1 is suspended till M2 is finished.</p>\n<p><strong>PROPAGATION_NEVER = 5</strong>; None of the methods  run in transaction context.</p>\n<hr />\n<p><strong>An isolation level:</strong>\nIt is about how much a transaction may be impacted by the activities of other concurrent transactions. It a supports consistency leaving the data across many tables in a consistent state. It involves locking rows and/or tables in a database.</p>\n<p><strong>The problem with multiple transaction</strong></p>\n<p><strong>Scenario 1</strong>. If T1 transaction reads data from table A1 that was written by another concurrent transaction T2. If on the way T2 is rollback, the data obtained by T1 is invalid one. E.g. a=2 is original data. If T1 read a=1 that was written by T2. If T2 rollback then a=1 will be rollback to a=2 in DB. But, now, T1 has a=1 but in DB table it is changed to a=2.</p>\n<p><strong>Scenario2</strong>. If T1 transaction reads data from table A1. If another concurrent transaction (T2) update data on table A1. Then the data that T1 has read is\ndifferent from table A1. Because T2 has updated the data on table A1. E.g. if T1 read a=1 and T2 updated a=2. Then a!=b.</p>\n<p><strong>Scenario 3</strong>. If T1 transaction reads data from table A1 with certain number of rows. If another concurrent transaction (T2) inserts more rows on table A1. The\nnumber of rows read by T1 is different from rows on table A1.</p>\n<p>Scenario 1 is called <strong>Dirty reads.</strong></p>\n<p>Scenario 2 is called <strong>Non-repeatable reads.</strong></p>\n<p>Scenario 3 is called <strong>Phantom reads.</strong></p>\n<p>So, isolation level is the extend to which <strong>Scenario 1, Scenario 2, Scenario 3</strong> can be prevented.\nYou can obtain complete isolation level by implementing locking. That is preventing concurrent reads and writes to the same data from occurring. But it affects performance. The level of isolation  depends upon application to application how much isolation is required.</p>\n<p><strong>ISOLATION_READ_UNCOMMITTED</strong>: Allows to read changes that haven’t yet been committed. It suffer from Scenario 1, Scenario 2, Scenario 3.</p>\n<p><strong>ISOLATION_READ_COMMITTED</strong>: Allows reads from concurrent transactions that have been committed. It may suffer from Scenario 2 and Scenario 3. Because other transactions may be updating the data.</p>\n<p><strong>ISOLATION_REPEATABLE_READ</strong>: Multiple reads of the same field will yield the same results untill it is changed by itself. It may suffer from Scenario 3. Because other transactions may be inserting the data.</p>\n<p><strong>ISOLATION_SERIALIZABLE</strong>: Scenario 1, Scenario 2, Scenario 3 never happen. It is complete isolation. It involves full locking. It affects performace because of locking.</p>\n<p>You can test using:</p>\n<pre><code>public class TransactionBehaviour {\n   // set is either using xml Or annotation\n    DataSourceTransactionManager manager=new DataSourceTransactionManager();\n    SimpleTransactionStatus status=new SimpleTransactionStatus();\n   ;\n  \n    \n    public void beginTransaction()\n    {\n        DefaultTransactionDefinition Def = new DefaultTransactionDefinition();\n        // overwrite default PROPAGATION_REQUIRED and ISOLATION_DEFAULT\n        // set is either using xml Or annotation\n        manager.setPropagationBehavior(XX);\n        manager.setIsolationLevelName(XX);\n       \n        status = manager.getTransaction(Def);\n    \n    }\n\n    public void commitTransaction()\n    {\n       \n      \n            if(status.isCompleted()){\n                manager.commit(status);\n        } \n    }\n\n    public void rollbackTransaction()\n    {\n       \n            if(!status.isCompleted()){\n                manager.rollback(status);\n        }\n    }\n    Main method{\n        beginTransaction()\n        M1();\n        If error(){\n            rollbackTransaction()\n        }\n         commitTransaction();\n    }\n   \n}\n</code></pre>\n<p>You can debug and see the result with different values for isolation and propagation.</p>\n"},{"tags":[],"owner":{"account_id":2126212,"reputation":1959,"user_id":1888304,"accept_rate":100,"display_name":"ye9ane"},"down_vote_count":0,"up_vote_count":136,"is_accepted":false,"score":136,"last_activity_date":1630448009,"creation_date":1366711563,"answer_id":16166576,"question_id":8490852,"body_markdown":"Enough explanation about each parameter is given by other answers; However, you asked for a real-world example, here is the one that clarifies the purpose of different **propagation** options:&lt;/P&gt;\r\nSuppose you&#39;re in charge of implementing a *signup service* in which a confirmation e-mail is sent to the user. You come up with two service objects, one for *enrolling* the user and one for *sending* e-mails, which the latter is called inside the first one. For example something like this:\r\n\r\n    /* Sign Up service */\r\n    @Service\r\n    @Transactional(Propagation=REQUIRED)\r\n    class SignUpService{\r\n     ...\r\n     void SignUp(User user){\r\n        ...\r\n        emailService.sendMail(User);\r\n     }\r\n    }\r\n  \r\n    /* E-Mail Service */\r\n    @Service\r\n    @Transactional(Propagation=REQUIRES_NEW)\r\n    class EmailService{\r\n     ...\r\n     void sendMail(User user){\r\n      try{\r\n         ... // Trying to send the e-mail\r\n      }catch( Exception)\r\n     }\r\n    }\r\n\r\nYou may have noticed that the second service is of propagation type **REQUIRES_NEW** and moreover, chances are it throws an exception (SMTP server down , invalid e-mail, or other reasons). You probably don&#39;t want the whole process to roll back, like removing the user information from a database or other things; therefore you call the second service in a separate transaction.&lt;/p&gt; Back to our example, this time you are concerned about the database security, so you define your DAO classes this way:\r\n\r\n    /* User DAO */\r\n    @Transactional(Propagation=MANDATORY)\r\n    class UserDAO{\r\n     // some CRUD methods\r\n    }\r\nMeaning that whenever a DAO object, and hence a potential access to DB, is created, we need to reassure that the call was made from inside one of our services, implying that a live transaction should exist; otherwise, an exception occurs. Therefore the propagation is of type **MANDATORY**.","title":"Spring @Transactional - isolation, propagation","body":"<p>Enough explanation about each parameter is given by other answers; However, you asked for a real-world example, here is the one that clarifies the purpose of different <strong>propagation</strong> options:</P>\nSuppose you're in charge of implementing a <em>signup service</em> in which a confirmation e-mail is sent to the user. You come up with two service objects, one for <em>enrolling</em> the user and one for <em>sending</em> e-mails, which the latter is called inside the first one. For example something like this:</p>\n<pre><code>/* Sign Up service */\n@Service\n@Transactional(Propagation=REQUIRED)\nclass SignUpService{\n ...\n void SignUp(User user){\n    ...\n    emailService.sendMail(User);\n }\n}\n\n/* E-Mail Service */\n@Service\n@Transactional(Propagation=REQUIRES_NEW)\nclass EmailService{\n ...\n void sendMail(User user){\n  try{\n     ... // Trying to send the e-mail\n  }catch( Exception)\n }\n}\n</code></pre>\n<p>You may have noticed that the second service is of propagation type <strong>REQUIRES_NEW</strong> and moreover, chances are it throws an exception (SMTP server down , invalid e-mail, or other reasons). You probably don't want the whole process to roll back, like removing the user information from a database or other things; therefore you call the second service in a separate transaction.</p> Back to our example, this time you are concerned about the database security, so you define your DAO classes this way:</p>\n<pre><code>/* User DAO */\n@Transactional(Propagation=MANDATORY)\nclass UserDAO{\n // some CRUD methods\n}\n</code></pre>\n<p>Meaning that whenever a DAO object, and hence a potential access to DB, is created, we need to reassure that the call was made from inside one of our services, implying that a live transaction should exist; otherwise, an exception occurs. Therefore the propagation is of type <strong>MANDATORY</strong>.</p>\n"},{"tags":[],"owner":{"account_id":91722,"reputation":3529,"user_id":251708,"display_name":"Gladwin Burboz"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1367006954,"creation_date":1366999912,"answer_id":16242700,"question_id":8490852,"body_markdown":"Transaction Isolation and Transaction Propagation although related but are clearly two  very different concepts. In both cases defaults are customized at client boundary component either by using [Declarative transaction management][1] or [Programmatic transaction management][2]. Details of each isolation levels and propagation attributes can be found in reference links below.\r\n\r\n[**Transaction Isolation**][5]\r\n\r\nFor given two or more running transactions/connections to a database, how and when are changes made by queries in one transaction impact/visible to the queries in a different transaction. It also related to what kind of database record locking will be used to isolate changes in this transaction from other transactions and vice versa. This is typically implemented by database/resource that is participating in transaction.\r\n\r\n.\r\n\r\n[**Transaction Propagation**][6]\r\n\r\nIn an enterprise application for any given request/processing there are many components that are involved to get the job done. Some of this components mark the boundaries (start/end) of a transaction that will be used in respective component and it&#39;s sub components. For this transactional boundary of components, Transaction Propogation specifies if respective component will or will not participate in transaction and what happens if calling component already has or does not have a transaction already created/started. This is same as Java EE Transaction Attributes. This is typically implemented by the client transaction/connection manager.\r\n\r\n\r\n\r\n**Reference:**\r\n\r\n - [Spring Transaction Management][3]\r\n\r\n - [Wiki Transaction Isolation (database systems)][4]\r\n\r\n - [Oracle on Transaction Isolation Levels][5]\r\n\r\n - [Java EE Transaction Attributes (propagation)][6] \r\n\r\n - [Spring Framework Transaction propagation][7]\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/transaction.html#transaction-declarative\r\n  [2]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/transaction.html#transaction-programmatic\r\n  [3]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/transaction.html\r\n  [4]: http://en.wikipedia.org/wiki/Isolation_%28database_systems%29\r\n  [5]: http://www.oracle.com/technetwork/issue-archive/2005/05-nov/o65asktom-082389.html\r\n  [6]: http://docs.oracle.com/javaee/5/tutorial/doc/bncij.html\r\n  [7]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/transaction.html#tx-propagation","title":"Spring @Transactional - isolation, propagation","body":"<p>Transaction Isolation and Transaction Propagation although related but are clearly two  very different concepts. In both cases defaults are customized at client boundary component either by using <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/transaction.html#transaction-declarative\">Declarative transaction management</a> or <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/transaction.html#transaction-programmatic\">Programmatic transaction management</a>. Details of each isolation levels and propagation attributes can be found in reference links below.</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/issue-archive/2005/05-nov/o65asktom-082389.html\"><strong>Transaction Isolation</strong></a></p>\n\n<p>For given two or more running transactions/connections to a database, how and when are changes made by queries in one transaction impact/visible to the queries in a different transaction. It also related to what kind of database record locking will be used to isolate changes in this transaction from other transactions and vice versa. This is typically implemented by database/resource that is participating in transaction.</p>\n\n<p>.</p>\n\n<p><a href=\"http://docs.oracle.com/javaee/5/tutorial/doc/bncij.html\"><strong>Transaction Propagation</strong></a></p>\n\n<p>In an enterprise application for any given request/processing there are many components that are involved to get the job done. Some of this components mark the boundaries (start/end) of a transaction that will be used in respective component and it's sub components. For this transactional boundary of components, Transaction Propogation specifies if respective component will or will not participate in transaction and what happens if calling component already has or does not have a transaction already created/started. This is same as Java EE Transaction Attributes. This is typically implemented by the client transaction/connection manager.</p>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><p><a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/transaction.html\">Spring Transaction Management</a></p></li>\n<li><p><a href=\"http://en.wikipedia.org/wiki/Isolation_%28database_systems%29\">Wiki Transaction Isolation (database systems)</a></p></li>\n<li><p><a href=\"http://www.oracle.com/technetwork/issue-archive/2005/05-nov/o65asktom-082389.html\">Oracle on Transaction Isolation Levels</a></p></li>\n<li><p><a href=\"http://docs.oracle.com/javaee/5/tutorial/doc/bncij.html\">Java EE Transaction Attributes (propagation)</a> </p></li>\n<li><p><a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/transaction.html#tx-propagation\">Spring Framework Transaction propagation</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1356587,"reputation":6293,"user_id":1294870,"accept_rate":36,"display_name":"NIrav Modi"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1623995535,"creation_date":1440583459,"answer_id":32223597,"question_id":8490852,"body_markdown":"I have run `outerMethod`, `method_1` and `method_2` with different propagation modes.\r\n\r\nBelow is the output for different propagation modes.\r\n\r\n#### Outer Method\r\n\r\n        @Transactional\r\n    \t@Override\r\n    \tpublic void outerMethod() {\r\n    \t\tcustomerProfileDAO.method_1();\r\n    \t\tiWorkflowDetailDao.method_2();\r\n    \t}\r\n\r\n#### Method_1\r\n\r\n        @Transactional(propagation=Propagation.MANDATORY)\r\n    \tpublic void method_1() {\r\n    \t\tSession session = null;\r\n    \t\ttry {\r\n    \t\t\tsession = getSession();\r\n    \t\t\tTemp entity = new Temp(0l, &quot;XXX&quot;);\r\n    \t\t\tsession.save(entity);\r\n    \t\t\tSystem.out.println(&quot;Method - 1 Id &quot;+entity.getId());\r\n    \t\t} finally {\r\n    \t\t\tif (session != null &amp;&amp; session.isOpen()) {\r\n\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\n#### Method_2\r\n\r\n        @Transactional()\r\n    \t@Override\r\n    \tpublic void method_2() {\r\n    \t\tSession session = null;\r\n    \t\ttry {\r\n    \t\t\tsession = getSession();\r\n    \t\t\tTemp entity = new Temp(0l, &quot;CCC&quot;);\r\n    \t\t\tsession.save(entity);\r\n    \t\t\tint i = 1/0;\r\n    \t\t\tSystem.out.println(&quot;Method - 2 Id &quot;+entity.getId());\r\n    \t\t} finally {\r\n    \t\t\tif (session != null &amp;&amp; session.isOpen()) {\r\n\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n1.\t- OuterMethod - Without transaction\r\n\t- Method_1 - Propagation.MANDATORY) - \r\n\t- Method_2 - Transaction annotation only\r\n\t- Output: method_1 will throw exception that no existing transaction\r\n---\r\n2.\t- OuterMethod - Without transaction\r\n\t- Method_1 - Transaction annotation only \r\n\t- Method_2 - Propagation.MANDATORY) \r\n\t- Output: method_2 will throw exception that no existing transaction\r\n\t- Output: method_1 will persist record in database.\r\n---\r\n3. \t- OuterMethod - With transaction\r\n \t- Method_1 - Transaction annotation only \r\n\t- Method_2 - Propagation.MANDATORY) \r\n\t- Output: method_2 will persist record in database.\r\n\t- Output: method_1 will persist record in database.\r\n\t-- Here Main Outer existing transaction used for both method 1 and 2\r\n---\r\n4.\t- OuterMethod - With transaction\r\n\t- Method_1 - Propagation.MANDATORY)\r\n\t- Method_2 - Transaction annotation only and throws exception\r\n\t- Output: no record persist in database means rollback done.\r\n---\r\n5.\t- OuterMethod - With transaction\r\n\t- Method_1 - Propagation.REQUIRES_NEW) \r\n\t- Method_2 - Propagation.REQUIRES_NEW) and throws 1/0 exception\r\n\t- Output: method_2 will throws exception so method_2 record not persisted.\r\n\t- Output: method_1 will persist record in database.\r\n\t- Output: There is no rollback for method_1","title":"Spring @Transactional - isolation, propagation","body":"<p>I have run <code>outerMethod</code>, <code>method_1</code> and <code>method_2</code> with different propagation modes.</p>\n<p>Below is the output for different propagation modes.</p>\n<h4>Outer Method</h4>\n<pre><code>    @Transactional\n    @Override\n    public void outerMethod() {\n        customerProfileDAO.method_1();\n        iWorkflowDetailDao.method_2();\n    }\n</code></pre>\n<h4>Method_1</h4>\n<pre><code>    @Transactional(propagation=Propagation.MANDATORY)\n    public void method_1() {\n        Session session = null;\n        try {\n            session = getSession();\n            Temp entity = new Temp(0l, &quot;XXX&quot;);\n            session.save(entity);\n            System.out.println(&quot;Method - 1 Id &quot;+entity.getId());\n        } finally {\n            if (session != null &amp;&amp; session.isOpen()) {\n\n            }\n        }\n    }\n</code></pre>\n<h4>Method_2</h4>\n<pre><code>    @Transactional()\n    @Override\n    public void method_2() {\n        Session session = null;\n        try {\n            session = getSession();\n            Temp entity = new Temp(0l, &quot;CCC&quot;);\n            session.save(entity);\n            int i = 1/0;\n            System.out.println(&quot;Method - 2 Id &quot;+entity.getId());\n        } finally {\n            if (session != null &amp;&amp; session.isOpen()) {\n\n            }\n        }\n    }\n</code></pre>\n<ol>\n<li>\n<ul>\n<li>OuterMethod - Without transaction</li>\n<li>Method_1 - Propagation.MANDATORY) -</li>\n<li>Method_2 - Transaction annotation only</li>\n<li>Output: method_1 will throw exception that no existing transaction</li>\n</ul>\n</li>\n</ol>\n<hr />\n<ol start=\"2\">\n<li>\n<ul>\n<li>OuterMethod - Without transaction</li>\n<li>Method_1 - Transaction annotation only</li>\n<li>Method_2 - Propagation.MANDATORY)</li>\n<li>Output: method_2 will throw exception that no existing transaction</li>\n<li>Output: method_1 will persist record in database.</li>\n</ul>\n</li>\n</ol>\n<hr />\n<ol start=\"3\">\n<li>\n<ul>\n<li>OuterMethod - With transaction</li>\n<li>Method_1 - Transaction annotation only</li>\n<li>Method_2 - Propagation.MANDATORY)</li>\n<li>Output: method_2 will persist record in database.</li>\n<li>Output: method_1 will persist record in database.\n-- Here Main Outer existing transaction used for both method 1 and 2</li>\n</ul>\n</li>\n</ol>\n<hr />\n<ol start=\"4\">\n<li>\n<ul>\n<li>OuterMethod - With transaction</li>\n<li>Method_1 - Propagation.MANDATORY)</li>\n<li>Method_2 - Transaction annotation only and throws exception</li>\n<li>Output: no record persist in database means rollback done.</li>\n</ul>\n</li>\n</ol>\n<hr />\n<ol start=\"5\">\n<li>\n<ul>\n<li>OuterMethod - With transaction</li>\n<li>Method_1 - Propagation.REQUIRES_NEW)</li>\n<li>Method_2 - Propagation.REQUIRES_NEW) and throws 1/0 exception</li>\n<li>Output: method_2 will throws exception so method_2 record not persisted.</li>\n<li>Output: method_1 will persist record in database.</li>\n<li>Output: There is no rollback for method_1</li>\n</ul>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6063640,"reputation":8874,"user_id":4734725,"accept_rate":50,"display_name":"reos"},"down_vote_count":1,"up_vote_count":68,"is_accepted":false,"score":67,"last_activity_date":1449201213,"creation_date":1449201213,"answer_id":34080650,"question_id":8490852,"body_markdown":"**Isolation level** defines how the changes made to some data repository by one transaction affect other simultaneous concurrent transactions, and also how and when that changed data becomes available to other transactions. When we define a transaction using the Spring framework we are also able to configure in which isolation level that same transaction will be executed.\r\n\r\n    @Transactional(isolation=Isolation.READ_COMMITTED)\r\n    public void someTransactionalMethod(Object obj) {\r\n    \r\n    }\r\n\r\nREAD_UNCOMMITTED isolation level states that a transaction may read data that is still uncommitted by other transactions. \r\n\r\nREAD_COMMITTED isolation level states that a transaction can&#39;t read data that is not yet committed by other transactions.\r\n\r\nREPEATABLE_READ isolation level states that if a transaction reads one record from the database multiple times the result of all those reading operations must always be the same.\r\n\r\nSERIALIZABLE isolation level is the most restrictive of all isolation levels. Transactions are executed with locking at all levels (read, range and write locking) so they appear as if they were executed in a serialized way. \r\n\r\n**Propagation** is the ability to decide how the business methods should be encapsulated in both logical or physical transactions.\r\n\r\nSpring REQUIRED behavior means that the same transaction will be used if there is an already opened transaction in the current bean method execution context.\r\n\r\nREQUIRES_NEW behavior means that a new physical transaction will always be created by the container.\r\n\r\nThe NESTED behavior makes nested Spring transactions to use the same physical transaction but sets savepoints between nested invocations so inner transactions may also rollback independently of outer transactions.\r\n\r\nThe MANDATORY behavior states that an existing opened transaction must already exist. If not an exception will be thrown by the container.\r\n\r\nThe NEVER behavior states that an existing opened transaction must not already exist. If a transaction exists an exception will be thrown by the container.\r\n\r\nThe NOT_SUPPORTED behavior will execute outside of the scope of any transaction. If an opened transaction already exists it will be paused.\r\n\r\nThe SUPPORTS behavior will execute in the scope of a transaction if an opened transaction already exists. If there isn&#39;t an already opened transaction the method will execute anyway but in a non-transactional way.","title":"Spring @Transactional - isolation, propagation","body":"<p><strong>Isolation level</strong> defines how the changes made to some data repository by one transaction affect other simultaneous concurrent transactions, and also how and when that changed data becomes available to other transactions. When we define a transaction using the Spring framework we are also able to configure in which isolation level that same transaction will be executed.</p>\n\n<pre><code>@Transactional(isolation=Isolation.READ_COMMITTED)\npublic void someTransactionalMethod(Object obj) {\n\n}\n</code></pre>\n\n<p>READ_UNCOMMITTED isolation level states that a transaction may read data that is still uncommitted by other transactions. </p>\n\n<p>READ_COMMITTED isolation level states that a transaction can't read data that is not yet committed by other transactions.</p>\n\n<p>REPEATABLE_READ isolation level states that if a transaction reads one record from the database multiple times the result of all those reading operations must always be the same.</p>\n\n<p>SERIALIZABLE isolation level is the most restrictive of all isolation levels. Transactions are executed with locking at all levels (read, range and write locking) so they appear as if they were executed in a serialized way. </p>\n\n<p><strong>Propagation</strong> is the ability to decide how the business methods should be encapsulated in both logical or physical transactions.</p>\n\n<p>Spring REQUIRED behavior means that the same transaction will be used if there is an already opened transaction in the current bean method execution context.</p>\n\n<p>REQUIRES_NEW behavior means that a new physical transaction will always be created by the container.</p>\n\n<p>The NESTED behavior makes nested Spring transactions to use the same physical transaction but sets savepoints between nested invocations so inner transactions may also rollback independently of outer transactions.</p>\n\n<p>The MANDATORY behavior states that an existing opened transaction must already exist. If not an exception will be thrown by the container.</p>\n\n<p>The NEVER behavior states that an existing opened transaction must not already exist. If a transaction exists an exception will be thrown by the container.</p>\n\n<p>The NOT_SUPPORTED behavior will execute outside of the scope of any transaction. If an opened transaction already exists it will be paused.</p>\n\n<p>The SUPPORTS behavior will execute in the scope of a transaction if an opened transaction already exists. If there isn't an already opened transaction the method will execute anyway but in a non-transactional way.</p>\n"},{"tags":[],"owner":{"account_id":6132216,"reputation":603,"user_id":4782065,"accept_rate":0,"display_name":"Ankit"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1449410296,"creation_date":1449206706,"answer_id":34081452,"question_id":8490852,"body_markdown":"You can use like this:\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public EventMessage&lt;ModificaOperativitaRapporto&gt; activate(EventMessage&lt;ModificaOperativitaRapporto&gt; eventMessage) {\r\n    //here some transaction related code\r\n    }\r\n\r\n\r\nYou can use this thing also:\r\n\r\n\r\n    public interface TransactionStatus extends SavepointManager {\r\n        boolean isNewTransaction();\r\n        boolean hasSavepoint();\r\n        void setRollbackOnly();\r\n        boolean isRollbackOnly();\r\n        void flush();\r\n        boolean isCompleted();\r\n    }","title":"Spring @Transactional - isolation, propagation","body":"<p>You can use like this:</p>\n\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic EventMessage&lt;ModificaOperativitaRapporto&gt; activate(EventMessage&lt;ModificaOperativitaRapporto&gt; eventMessage) {\n//here some transaction related code\n}\n</code></pre>\n\n<p>You can use this thing also:</p>\n\n<pre><code>public interface TransactionStatus extends SavepointManager {\n    boolean isNewTransaction();\n    boolean hasSavepoint();\n    void setRollbackOnly();\n    boolean isRollbackOnly();\n    void flush();\n    boolean isCompleted();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6132216,"reputation":603,"user_id":4782065,"accept_rate":0,"display_name":"Ankit"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1449410770,"creation_date":1449206957,"answer_id":34081504,"question_id":8490852,"body_markdown":"We can add for this:\r\n\r\n    @Transactional(readOnly = true)\r\n    public class Banking_CustomerService implements CustomerService {\r\n    \r\n        public Customer getDetail(String customername) {\r\n            // do something\r\n        }\r\n    \r\n        // these settings have precedence for this method\r\n        @Transactional(readOnly = false, propagation = Propagation.REQUIRES_NEW)\r\n        public void updateCustomer(Customer customer) {\r\n            // do something\r\n        }\r\n    }","title":"Spring @Transactional - isolation, propagation","body":"<p>We can add for this:</p>\n\n<pre><code>@Transactional(readOnly = true)\npublic class Banking_CustomerService implements CustomerService {\n\n    public Customer getDetail(String customername) {\n        // do something\n    }\n\n    // these settings have precedence for this method\n    @Transactional(readOnly = false, propagation = Propagation.REQUIRES_NEW)\n    public void updateCustomer(Customer customer) {\n        // do something\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71901,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1695961177,"creation_date":1522984340,"answer_id":49684694,"question_id":8490852,"body_markdown":"A *Transaction* represents a unit of work with a database.\r\n\r\n**Transaction propagation**: Spring allows you to specify how transactions should propagate across method calls and nested transactions. \r\n\r\n**Transaction isolation**: Spring allows you to specify the isolation level of your transactions, so you can ensure that they are isolated from other concurrent transactions.\r\n\r\n\r\nIn spring `TransactionDefinition` interface that defines Spring-compliant transaction properties. `@Transactional` annotation describes transaction attributes on a method or class.\r\n\r\n    @Autowired\r\n    private TestDAO testDAO;\r\n    \r\n    @Transactional(propagation=TransactionDefinition.PROPAGATION_REQUIRED,isolation=TransactionDefinition.ISOLATION_READ_UNCOMMITTED)\r\n    public void someTransactionalMethod(User user) {\r\n    \r\n      // Interact with testDAO\r\n    \r\n    }\r\n\r\n----- \r\n\r\n\r\n&gt;**Propagation (Reproduction) :** is uses for inter transaction relation. (analogous to java inter thread communication)  \r\n\r\n    +-------+---------------------------+------------------------------------------------------------------------------------------------------+\r\n    | value |        Propagation        |                                             Description                                              |\r\n    +-------+---------------------------+------------------------------------------------------------------------------------------------------+\r\n    |    -1 | TIMEOUT_DEFAULT           | Use the default timeout of the underlying transaction system, or none if timeouts are not supported. |\r\n    |     0 | PROPAGATION_REQUIRED      | Support a current transaction; create a new one if none exists.                                      |\r\n    |     1 | PROPAGATION_SUPPORTS      | Support a current transaction; execute non-transactionally if none exists.                           |\r\n    |     2 | PROPAGATION_MANDATORY     | Support a current transaction; throw an exception if no current transaction exists.                  |\r\n    |     3 | PROPAGATION_REQUIRES_NEW  | Create a new transaction, suspending the current transaction if one exists.                          |\r\n    |     4 | PROPAGATION_NOT_SUPPORTED | Do not support a current transaction; rather always execute non-transactionally.                     |\r\n    |     5 | PROPAGATION_NEVER         | Do not support a current transaction; throw an exception if a current transaction exists.            |\r\n    |     6 | PROPAGATION_NESTED        | Execute within a nested transaction if a current transaction exists.                                 |\r\n    +-------+---------------------------+------------------------------------------------------------------------------------------------------+\r\n\r\n------\r\n\r\n&gt;**Isolation :** Isolation is one of the ACID (Atomicity, Consistency, Isolation, Durability) properties of database transactions. Isolation determines how transaction integrity is visible to other users and systems. It uses for resource locking i.e. concurrency control, make sure that only one transaction can access the resource at a given point. \r\n\r\n   \r\n\r\n**Locking perception:** isolation level determines the duration that locks are held.  \r\n\r\n    +---------------------------+-------------------+-------------+-------------+------------------------+\r\n    | Isolation Level Mode      |  Read             |   Insert    |   Update    |       Lock Scope       |\r\n    +---------------------------+-------------------+-------------+-------------+------------------------+\r\n    | READ_UNCOMMITTED (Low)    |  uncommitted data | Allowed     | Allowed     | No Lock                |\r\n    | READ_COMMITTED (Default)  |   committed data  | Allowed     | Allowed     | Lock on Committed data |\r\n    | REPEATABLE_READ           |   committed data  | Allowed     | Not Allowed | Lock on block of table |\r\n    | SERIALIZABLE (High)       |   committed data  | Not Allowed | Not Allowed | Lock on full table     |\r\n    +---------------------------+-------------------+-------------+-------------+------------------------+\r\n\r\n \r\n\r\n**Read perception:** the following 3 kinds of major problems occurs:\r\n\r\n- *Dirty reads* : reads uncommitted data from another tx(transaction).\r\n- *Non-repeatable reads* : reads committed `UPDATES` from another tx.\r\n- *Phantom reads* : reads committed `INSERTS` and/or `DELETES` from another tx\r\n\r\n\r\nBelow is a chart which shows which transaction isolation level solves which problems of concurrency:   \r\n\r\n\r\n    +---------------------------+--------------+----------------------+----------------+\r\n    | Isolation Level Mode      |  Dirty reads | Non-repeatable reads | Phantoms reads |\r\n    +---------------------------+--------------+----------------------+----------------+\r\n    | READ_UNCOMMITTED          | X            | X                    | X           |\r\n    | READ_COMMITTED (Default)  | solves       | X                    | X           |\r\n    | REPEATABLE_READ           | solves       | solves               | X           |\r\n    | SERIALIZABLE              | solves       | solves               | solves      |\r\n    +---------------------------+--------------+----------------------+----------------+\r\n\r\n[for examples][1]\r\n\r\n\r\n  [1]: https://www.javainuse.com/spring/boot-transaction-isolation","title":"Spring @Transactional - isolation, propagation","body":"<p>A <em>Transaction</em> represents a unit of work with a database.</p>\n<p><strong>Transaction propagation</strong>: Spring allows you to specify how transactions should propagate across method calls and nested transactions.</p>\n<p><strong>Transaction isolation</strong>: Spring allows you to specify the isolation level of your transactions, so you can ensure that they are isolated from other concurrent transactions.</p>\n<p>In spring <code>TransactionDefinition</code> interface that defines Spring-compliant transaction properties. <code>@Transactional</code> annotation describes transaction attributes on a method or class.</p>\n<pre><code>@Autowired\nprivate TestDAO testDAO;\n\n@Transactional(propagation=TransactionDefinition.PROPAGATION_REQUIRED,isolation=TransactionDefinition.ISOLATION_READ_UNCOMMITTED)\npublic void someTransactionalMethod(User user) {\n\n  // Interact with testDAO\n\n}\n</code></pre>\n<hr />\n<blockquote>\n<p><strong>Propagation (Reproduction) :</strong> is uses for inter transaction relation. (analogous to java inter thread communication)</p>\n</blockquote>\n<pre><code>+-------+---------------------------+------------------------------------------------------------------------------------------------------+\n| value |        Propagation        |                                             Description                                              |\n+-------+---------------------------+------------------------------------------------------------------------------------------------------+\n|    -1 | TIMEOUT_DEFAULT           | Use the default timeout of the underlying transaction system, or none if timeouts are not supported. |\n|     0 | PROPAGATION_REQUIRED      | Support a current transaction; create a new one if none exists.                                      |\n|     1 | PROPAGATION_SUPPORTS      | Support a current transaction; execute non-transactionally if none exists.                           |\n|     2 | PROPAGATION_MANDATORY     | Support a current transaction; throw an exception if no current transaction exists.                  |\n|     3 | PROPAGATION_REQUIRES_NEW  | Create a new transaction, suspending the current transaction if one exists.                          |\n|     4 | PROPAGATION_NOT_SUPPORTED | Do not support a current transaction; rather always execute non-transactionally.                     |\n|     5 | PROPAGATION_NEVER         | Do not support a current transaction; throw an exception if a current transaction exists.            |\n|     6 | PROPAGATION_NESTED        | Execute within a nested transaction if a current transaction exists.                                 |\n+-------+---------------------------+------------------------------------------------------------------------------------------------------+\n</code></pre>\n<hr />\n<blockquote>\n<p><strong>Isolation :</strong> Isolation is one of the ACID (Atomicity, Consistency, Isolation, Durability) properties of database transactions. Isolation determines how transaction integrity is visible to other users and systems. It uses for resource locking i.e. concurrency control, make sure that only one transaction can access the resource at a given point.</p>\n</blockquote>\n<p><strong>Locking perception:</strong> isolation level determines the duration that locks are held.</p>\n<pre><code>+---------------------------+-------------------+-------------+-------------+------------------------+\n| Isolation Level Mode      |  Read             |   Insert    |   Update    |       Lock Scope       |\n+---------------------------+-------------------+-------------+-------------+------------------------+\n| READ_UNCOMMITTED (Low)    |  uncommitted data | Allowed     | Allowed     | No Lock                |\n| READ_COMMITTED (Default)  |   committed data  | Allowed     | Allowed     | Lock on Committed data |\n| REPEATABLE_READ           |   committed data  | Allowed     | Not Allowed | Lock on block of table |\n| SERIALIZABLE (High)       |   committed data  | Not Allowed | Not Allowed | Lock on full table     |\n+---------------------------+-------------------+-------------+-------------+------------------------+\n</code></pre>\n<p><strong>Read perception:</strong> the following 3 kinds of major problems occurs:</p>\n<ul>\n<li><em>Dirty reads</em> : reads uncommitted data from another tx(transaction).</li>\n<li><em>Non-repeatable reads</em> : reads committed <code>UPDATES</code> from another tx.</li>\n<li><em>Phantom reads</em> : reads committed <code>INSERTS</code> and/or <code>DELETES</code> from another tx</li>\n</ul>\n<p>Below is a chart which shows which transaction isolation level solves which problems of concurrency:</p>\n<pre><code>+---------------------------+--------------+----------------------+----------------+\n| Isolation Level Mode      |  Dirty reads | Non-repeatable reads | Phantoms reads |\n+---------------------------+--------------+----------------------+----------------+\n| READ_UNCOMMITTED          | X            | X                    | X           |\n| READ_COMMITTED (Default)  | solves       | X                    | X           |\n| REPEATABLE_READ           | solves       | solves               | X           |\n| SERIALIZABLE              | solves       | solves               | solves      |\n+---------------------------+--------------+----------------------+----------------+\n</code></pre>\n<p><a href=\"https://www.javainuse.com/spring/boot-transaction-isolation\" rel=\"nofollow noreferrer\">for examples</a></p>\n"}],"owner":{"account_id":212390,"reputation":26536,"user_id":465179,"accept_rate":99,"display_name":"MatBanik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397735,"favorite_count":0,"down_vote_count":2,"up_vote_count":551,"accepted_answer_id":8490932,"answer_count":10,"score":549,"last_activity_date":1695961177,"creation_date":1323786527,"question_id":8490852,"body_markdown":"Can someone explain what **isolation** &amp; **propagation** parameters are for in the `@Transactional` annotation via real-world example? \r\n\r\nBasically when and why I should choose to change their default values. ","title":"Spring @Transactional - isolation, propagation","body":"<p>Can someone explain what <strong>isolation</strong> &amp; <strong>propagation</strong> parameters are for in the <code>@Transactional</code> annotation via real-world example? </p>\n\n<p>Basically when and why I should choose to change their default values. </p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1653300,"reputation":968,"user_id":1523450,"display_name":"cdr89"},"score":0,"creation_date":1658666636,"post_id":73098429,"comment_id":129102845,"body_markdown":"Have you tried to use FetchType.EAGER on Employee user in CommentMention? Try to convert the other &quot;LAZY&quot; fetch mode in EAGER and retry","body":"Have you tried to use FetchType.EAGER on Employee user in CommentMention? Try to convert the other &quot;LAZY&quot; fetch mode in EAGER and retry"},{"owner":{"account_id":20528099,"reputation":37,"user_id":15066067,"display_name":"RYX"},"score":0,"creation_date":1658677363,"post_id":73098429,"comment_id":129105108,"body_markdown":"@cdr89 it working find . but please exaplin a bit ? why am getting this error ..","body":"@cdr89 it working find . but please exaplin a bit ? why am getting this error .."}],"answers":[{"tags":[],"owner":{"account_id":15837773,"reputation":17,"user_id":11427162,"display_name":"Jatin Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658760544,"creation_date":1658670207,"answer_id":73098929,"question_id":73098429,"body_markdown":"Try below code\r\n\r\n    @JsonBackReference\r\n    @OneToMany(mappedBy = &quot;comment&quot;, fetch = FetchType.EAGER ,cascade = CascadeType.ALL)\r\n    @JsonIgnoreProperties(&quot;comment&quot;)\r\n    protected List&lt;CommentMention&gt; mentions = new ArrayList&lt;&gt;();","title":"http.converter.HttpMessageConversionException: Type definition error: [simple type class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer","body":"<p>Try below code</p>\n<pre><code>@JsonBackReference\n@OneToMany(mappedBy = &quot;comment&quot;, fetch = FetchType.EAGER ,cascade = CascadeType.ALL)\n@JsonIgnoreProperties(&quot;comment&quot;)\nprotected List&lt;CommentMention&gt; mentions = new ArrayList&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653300,"reputation":968,"user_id":1523450,"display_name":"cdr89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658678398,"creation_date":1658678398,"answer_id":73099952,"question_id":73098429,"body_markdown":"As mentioned in my comment, FetchType.EAGER on Employee user in CommentMention should do the trick because when you are serializing the response, the user is lazily initialized, so you would need to fetch it before serializing.\r\n\r\nCheck these links for more information:\r\n\r\nhttps://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api\r\n\r\nhttps://www.baeldung.com/hibernate-lazy-eager-loading","title":"http.converter.HttpMessageConversionException: Type definition error: [simple type class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer","body":"<p>As mentioned in my comment, FetchType.EAGER on Employee user in CommentMention should do the trick because when you are serializing the response, the user is lazily initialized, so you would need to fetch it before serializing.</p>\n<p>Check these links for more information:</p>\n<p><a href=\"https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api\">Difference between FetchType LAZY and EAGER in Java Persistence API?</a></p>\n<p><a href=\"https://www.baeldung.com/hibernate-lazy-eager-loading\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-lazy-eager-loading</a></p>\n"}],"owner":{"account_id":20528099,"reputation":37,"user_id":15066067,"display_name":"RYX"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695960355,"creation_date":1658665961,"question_id":73098429,"body_markdown":"\r\nI checked all my models and all the attributes have getters and setters. \r\n\r\nI can fix that by adding spring.jackson.serialization.fail-on-empty-beans=false but i think this is just a work around to hide the exception.So what&#39;s is  the issue here?\r\n\r\n\r\n   Exception in :org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]-&gt;com.auzmor.platform.models.results.notes.NoteResult[&quot;mentions&quot;]-&gt;java.util.ArrayList[0]-&gt;com.auzmor.platform.models.entities.Employee_$$_jvst80f_13[&quot;handler&quot;])\r\n\r\n\r\n    Error request : ServletWebRequest: uri=/api/v1/notes;client=0:0:0:0:0:0:0:1;user=com.auzmor.platform.configurations.auth.CustomPrincipal@3d7c4c43\r\n    Error Message : Type definition error: [simple type, class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]-&gt;com.auzmor.platform.models.results.notes.NoteResult[&quot;mentions&quot;]-&gt;java.util.ArrayList[0]-&gt;com.auzmor.platform.models.entities.Employee_$$_jvst80f_13[&quot;handler&quot;])\r\n    Error Cause : com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]-&gt;com.auzmor.platform.models.results.notes.NoteResult[&quot;mentions&quot;]-&gt;java.util.ArrayList[0]-&gt;com.auzmor.platform.models.entities.Employee_$$_jvst80f_13[&quot;handler&quot;])\r\n      \r\n    \r\n    3.CandidateComment-------------------------------------------------------------------\r\n    \r\n        @Data\r\n        @Getter\r\n        @Setter\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @Table(name = &quot;candidate_comments&quot;)\r\n        @DynamicInsert\r\n        @javax.persistence.Entity\r\n        @DynamicUpdate\r\n        @ToString\r\n        public class CandidateComment extends Entity implements Serializable {\r\n        \r\n            @ApiModelProperty(notes=&quot;Text of the note&quot;)\r\n            @Size(min = MIN_SIZE, message=&quot;text should have at least 1 characters&quot;)\r\n            @Size(max = MAX_TEXT_SIZE, message=&quot;text should not exceed 2048 characters&quot;)\r\n            private String text;\r\n        \r\n            private boolean isExternalAgency;\r\n        \r\n            @JsonBackReference\r\n            @OneToMany(mappedBy = &quot;comment&quot;, fetch = FetchType.EAGER ,cascade = CascadeType.ALL)\r\n            @JsonIgnoreProperties(&quot;comment&quot;)\r\n            protected List&lt;CommentMention&gt; mentions;\r\n        \r\n        \r\n            @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n            @JoinColumn(name = &quot;author_id&quot;, insertable = false, updatable = false)\r\n            @JsonIgnoreProperties({&quot;fullName&quot;,&quot;mobile&quot;})\r\n            protected Employee author;\r\n        \r\n            @JsonIgnore\r\n            @Column(name = &quot;author_id&quot;)\r\n            protected Long authorPK;\r\n        \r\n        \r\n            @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n            @JoinColumn(name = &quot;candidate_id&quot;, insertable = false, updatable = false)\r\n            protected Candidate candidate;\r\n        \r\n            @JsonIgnore\r\n            @Column(name = &quot;candidate_id&quot;)\r\n            protected Long candidatePK;\r\n        \r\n        }\r\n        \r\n        4.CommentMention -----------------------------------------------------------\r\n    \r\n        \r\n        @Getter\r\n        @Setter\r\n        @AllArgsConstructor\r\n        @Table(name = &quot;comment_mentions&quot;)\r\n        @DynamicInsert\r\n        @javax.persistence.Entity\r\n        @DynamicUpdate\r\n        @NoArgsConstructor\r\n        public class CommentMention extends BaseEntity implements Serializable {\r\n        \r\n            @JsonBackReference\r\n            @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n            @JoinColumn(name = &quot;comment_id&quot;, insertable = false, updatable = false)\r\n            @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n            protected CandidateComment comment;\r\n        \r\n            @JsonIgnore\r\n            @Column(name = &quot;comment_id&quot;)\r\n            protected Long commentPK;\r\n        \r\n            @JsonIgnore\r\n            @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n            @JoinColumn(name = &quot;user_id&quot;, insertable = false, updatable = false)\r\n            @JsonIgnoreProperties({&quot;fullName&quot;,&quot;mobile&quot;})\r\n            protected Employee user;\r\n        \r\n            @JsonIgnore\r\n            @Column(name = &quot;user_id&quot;)\r\n            protected Long userPK;\r\n        \r\n        }\r\n    \r\n   \r\n\r\n\r\n\r\n","title":"http.converter.HttpMessageConversionException: Type definition error: [simple type class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer","body":"<p>I checked all my models and all the attributes have getters and setters.</p>\n<p>I can fix that by adding spring.jackson.serialization.fail-on-empty-beans=false but i think this is just a work around to hide the exception.So what's is  the issue here?</p>\n<p>Exception in :org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]-&gt;com.auzmor.platform.models.results.notes.NoteResult[&quot;mentions&quot;]-&gt;java.util.ArrayList[0]-&gt;com.auzmor.platform.models.entities.Employee_$$_jvst80f_13[&quot;handler&quot;])</p>\n<pre><code>Error request : ServletWebRequest: uri=/api/v1/notes;client=0:0:0:0:0:0:0:1;user=com.auzmor.platform.configurations.auth.CustomPrincipal@3d7c4c43\nError Message : Type definition error: [simple type, class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]-&gt;com.auzmor.platform.models.results.notes.NoteResult[&quot;mentions&quot;]-&gt;java.util.ArrayList[0]-&gt;com.auzmor.platform.models.entities.Employee_$$_jvst80f_13[&quot;handler&quot;])\nError Cause : com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]-&gt;com.auzmor.platform.models.results.notes.NoteResult[&quot;mentions&quot;]-&gt;java.util.ArrayList[0]-&gt;com.auzmor.platform.models.entities.Employee_$$_jvst80f_13[&quot;handler&quot;])\n  \n\n3.CandidateComment-------------------------------------------------------------------\n\n    @Data\n    @Getter\n    @Setter\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Table(name = &quot;candidate_comments&quot;)\n    @DynamicInsert\n    @javax.persistence.Entity\n    @DynamicUpdate\n    @ToString\n    public class CandidateComment extends Entity implements Serializable {\n    \n        @ApiModelProperty(notes=&quot;Text of the note&quot;)\n        @Size(min = MIN_SIZE, message=&quot;text should have at least 1 characters&quot;)\n        @Size(max = MAX_TEXT_SIZE, message=&quot;text should not exceed 2048 characters&quot;)\n        private String text;\n    \n        private boolean isExternalAgency;\n    \n        @JsonBackReference\n        @OneToMany(mappedBy = &quot;comment&quot;, fetch = FetchType.EAGER ,cascade = CascadeType.ALL)\n        @JsonIgnoreProperties(&quot;comment&quot;)\n        protected List&lt;CommentMention&gt; mentions;\n    \n    \n        @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n        @JoinColumn(name = &quot;author_id&quot;, insertable = false, updatable = false)\n        @JsonIgnoreProperties({&quot;fullName&quot;,&quot;mobile&quot;})\n        protected Employee author;\n    \n        @JsonIgnore\n        @Column(name = &quot;author_id&quot;)\n        protected Long authorPK;\n    \n    \n        @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n        @JoinColumn(name = &quot;candidate_id&quot;, insertable = false, updatable = false)\n        protected Candidate candidate;\n    \n        @JsonIgnore\n        @Column(name = &quot;candidate_id&quot;)\n        protected Long candidatePK;\n    \n    }\n    \n    4.CommentMention -----------------------------------------------------------\n\n    \n    @Getter\n    @Setter\n    @AllArgsConstructor\n    @Table(name = &quot;comment_mentions&quot;)\n    @DynamicInsert\n    @javax.persistence.Entity\n    @DynamicUpdate\n    @NoArgsConstructor\n    public class CommentMention extends BaseEntity implements Serializable {\n    \n        @JsonBackReference\n        @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n        @JoinColumn(name = &quot;comment_id&quot;, insertable = false, updatable = false)\n        @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n        protected CandidateComment comment;\n    \n        @JsonIgnore\n        @Column(name = &quot;comment_id&quot;)\n        protected Long commentPK;\n    \n        @JsonIgnore\n        @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n        @JoinColumn(name = &quot;user_id&quot;, insertable = false, updatable = false)\n        @JsonIgnoreProperties({&quot;fullName&quot;,&quot;mobile&quot;})\n        protected Employee user;\n    \n        @JsonIgnore\n        @Column(name = &quot;user_id&quot;)\n        protected Long userPK;\n    \n    }\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":5201572,"reputation":1143,"user_id":4719725,"display_name":"parlad"},"score":0,"creation_date":1494250448,"post_id":43848721,"comment_id":74734104,"body_markdown":"May be the entry for class Visitor in persistence.xml file was missing or this may help, http://stackoverflow.com/questions/31257027/org-hibernate-wrongclassexception-on-saving-an-entity-via-hibernate","body":"May be the entry for class Visitor in persistence.xml file was missing or this may help, <a href=\"http://stackoverflow.com/questions/31257027/org-hibernate-wrongclassexception-on-saving-an-entity-via-hibernate\" title=\"org hibernate wrongclassexception on saving an entity via hibernate\">stackoverflow.com/questions/31257027/&hellip;</a>"},{"owner":{"account_id":1660988,"reputation":1239,"user_id":1529297,"accept_rate":47,"display_name":"Greg Zuber"},"score":0,"creation_date":1494254465,"post_id":43848721,"comment_id":74736856,"body_markdown":"Do I need to define a Visitor class in persistence.xml? I&#39;m using an annotation configuration here, not an xml one.","body":"Do I need to define a Visitor class in persistence.xml? I&#39;m using an annotation configuration here, not an xml one."},{"owner":{"account_id":5516558,"reputation":951,"user_id":4381110,"accept_rate":73,"display_name":"tomwassing"},"score":0,"creation_date":1566199604,"post_id":43848721,"comment_id":101566519,"body_markdown":"I am having the exact same issue, have you been able to resolve it?","body":"I am having the exact same issue, have you been able to resolve it?"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1566205108,"post_id":43848721,"comment_id":101568994,"body_markdown":"What is the `class` property in your payload populated with? Also, `@JsonSubtypes` is missing","body":"What is the <code>class</code> property in your payload populated with? Also, <code>@JsonSubtypes</code> is missing"},{"owner":{"account_id":462668,"reputation":6135,"user_id":865107,"display_name":"Selaron"},"score":3,"creation_date":1566284841,"post_id":43848721,"comment_id":101597369,"body_markdown":"@tomwassing you&#39;d have better chances by asking your own question and providing a [mcve].","body":"@tomwassing you&#39;d have better chances by asking your own question and providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"score":0,"creation_date":1566305398,"post_id":43848721,"comment_id":101608357,"body_markdown":"@tomwassing Could you provide your code which leads to the issue? On Github or [Pastebin](https://pastebin.com)...","body":"@tomwassing Could you provide your code which leads to the issue? On Github or <a href=\"https://pastebin.com\" rel=\"nofollow noreferrer\">Pastebin</a>..."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1566469308,"post_id":43848721,"comment_id":101669818,"body_markdown":"why @ManyToOne  don&#39;t have join column?\nhttps://en.wikibooks.org/wiki/Java_Persistence/ManyToOne","body":"why @ManyToOne  don&#39;t have join column? <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/ManyToOne\" rel=\"nofollow noreferrer\">en.wikibooks.org/wiki/Java_Persistence/ManyToOne</a>"}],"answers":[{"tags":[],"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566631810,"creation_date":1566631810,"answer_id":57635967,"question_id":43848721,"body_markdown":"You&#39;re probably not initializing `visitRequest` reference in `ContactPerson`. Please take a look at the following configuration, it works with Spring Boot JPA. I have used [lombok][1] to generate `Getter` and `Setters`.\r\n\r\nHere&#39;s a working example implemented in Spring Boot https://github.com/ConsciousObserver/SpringBootJpaInheritance\r\n\r\n\r\n    @Data\r\n    @Entity(name = &quot;request&quot;)\r\n    class VisitRequest {\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate Long id;\r\n    \r\n    \t@OneToMany(mappedBy = &quot;visitRequest&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    \t@JsonManagedReference\r\n    \tprivate List&lt;Visitor&gt; visitors = new ArrayList&lt;&gt;();\r\n    }\r\n    \r\n    @NoArgsConstructor\r\n    @Data\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = &quot;class&quot;)\r\n    class Visitor {\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate Long id;\r\n    \r\n    \t@ManyToOne\r\n    \t@JsonBackReference\r\n    \tprivate VisitRequest visitRequest;\r\n    \r\n    \tpublic Visitor(VisitRequest visitRequest) {\r\n    \t\tthis.visitRequest = visitRequest;\r\n    \t}\r\n    }\r\n    \r\n    @NoArgsConstructor\r\n    @Data\r\n    @ToString(callSuper = true)\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @Entity\r\n    class ContactPerson extends Visitor {\r\n    \tprivate String phoneNumber;\r\n    \r\n    \tpublic ContactPerson(VisitRequest visitRequest, String phoneNumber) {\r\n    \t\tsuper(visitRequest);\r\n    \t\tthis.phoneNumber = phoneNumber;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://projectlombok.org/","title":"WrongClassException: Object [id=null] was not of the specified subclass","body":"<p>You're probably not initializing <code>visitRequest</code> reference in <code>ContactPerson</code>. Please take a look at the following configuration, it works with Spring Boot JPA. I have used <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">lombok</a> to generate <code>Getter</code> and <code>Setters</code>.</p>\n\n<p>Here's a working example implemented in Spring Boot <a href=\"https://github.com/ConsciousObserver/SpringBootJpaInheritance\" rel=\"nofollow noreferrer\">https://github.com/ConsciousObserver/SpringBootJpaInheritance</a></p>\n\n<pre><code>@Data\n@Entity(name = \"request\")\nclass VisitRequest {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @OneToMany(mappedBy = \"visitRequest\", cascade = CascadeType.ALL, orphanRemoval = true)\n    @JsonManagedReference\n    private List&lt;Visitor&gt; visitors = new ArrayList&lt;&gt;();\n}\n\n@NoArgsConstructor\n@Data\n@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\n@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = \"class\")\nclass Visitor {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @ManyToOne\n    @JsonBackReference\n    private VisitRequest visitRequest;\n\n    public Visitor(VisitRequest visitRequest) {\n        this.visitRequest = visitRequest;\n    }\n}\n\n@NoArgsConstructor\n@Data\n@ToString(callSuper = true)\n@EqualsAndHashCode(callSuper = true)\n@Entity\nclass ContactPerson extends Visitor {\n    private String phoneNumber;\n\n    public ContactPerson(VisitRequest visitRequest, String phoneNumber) {\n        super(visitRequest);\n        this.phoneNumber = phoneNumber;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8816764,"reputation":391,"user_id":6587893,"display_name":"YoManTaMero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566651027,"creation_date":1566651027,"answer_id":57638123,"question_id":43848721,"body_markdown":"I suspect the reason you are having this issue is your annotations `@Id and @GeneratedValue` are not inherited. If you define property id in ContactPerson you will have a generated Id and will not be a problem anymore.\r\n\r\nTry changing ContactPerson class to:\r\n\r\n    @Entity\r\n    public class ContactPerson extends Visitor {\r\n    \r\n      @Id\r\n      @GeneratedValue\r\n      private Long id;\r\n\r\n      private PhoneNumber phoneNumber;    \r\n      //default constructor, getters and setters\r\n    \r\n    }","title":"WrongClassException: Object [id=null] was not of the specified subclass","body":"<p>I suspect the reason you are having this issue is your annotations <code>@Id and @GeneratedValue</code> are not inherited. If you define property id in ContactPerson you will have a generated Id and will not be a problem anymore.</p>\n\n<p>Try changing ContactPerson class to:</p>\n\n<pre><code>@Entity\npublic class ContactPerson extends Visitor {\n\n  @Id\n  @GeneratedValue\n  private Long id;\n\n  private PhoneNumber phoneNumber;    \n  //default constructor, getters and setters\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16577739,"reputation":140,"user_id":11979120,"display_name":"Yevhen Kalashnykov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567081834,"creation_date":1567079871,"answer_id":57709719,"question_id":43848721,"body_markdown":"    @Entity(name = &quot;request&quot;)\r\n    public class VisitRequest {\r\n      @Id\r\n      @GeneratedValue\r\n      private Long id;\r\n    \r\n      @OneToMany(mappedBy = &quot;visitRequest&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n      @JsonManagedReference\r\n      private List&lt;Visitor&gt; visitors;\r\n    \r\n      //default constructor, getters and setters\r\n    }\r\n    \r\n    @Entity(name = &quot;visitor&quot;)\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    @DiscriminatorColumn(name = &quot;visitor_type&quot;, discriminatorType = DiscriminatorType.STRING, length = 16)\r\n    @DiscriminatorValue(value = &quot;visitor&quot;)\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = &quot;class&quot;)\r\n    public class Visitor {\r\n      @Id\r\n      @GeneratedValue\r\n      private Long id;\r\n    \r\n      @ManyToOne\r\n      @JsonBackReference\r\n      private VisitRequest visitRequest;\r\n    \r\n      //default constructor, getters and setters\r\n    \r\n    }\r\n    \r\n    @Entity(name = &quot;contact_person&quot;)\r\n    @Table(name = &quot;contact_person&quot;)\r\n    @DiscriminatorValue(value = &quot;contact_person&quot;)\r\n    public class ContactPerson extends Visitor {\r\n    \r\n      private PhoneNumber phoneNumber;\r\n    \r\n      //default constructor, getters and setters\r\n    \r\n    }\r\n\r\nAnd you able to persist ContactPerson like contactPersonDao.save(contactPerson),\r\nyou can`t persist field with visitor link.\r\nI am not expert but it work for me.\r\nAnd you can persist visitor as visitor if he not contactPerson","title":"WrongClassException: Object [id=null] was not of the specified subclass","body":"<pre><code>@Entity(name = \"request\")\npublic class VisitRequest {\n  @Id\n  @GeneratedValue\n  private Long id;\n\n  @OneToMany(mappedBy = \"visitRequest\", cascade = CascadeType.ALL, orphanRemoval = true)\n  @JsonManagedReference\n  private List&lt;Visitor&gt; visitors;\n\n  //default constructor, getters and setters\n}\n\n@Entity(name = \"visitor\")\n@Inheritance(strategy = InheritanceType.JOINED)\n@DiscriminatorColumn(name = \"visitor_type\", discriminatorType = DiscriminatorType.STRING, length = 16)\n@DiscriminatorValue(value = \"visitor\")\n@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = \"class\")\npublic class Visitor {\n  @Id\n  @GeneratedValue\n  private Long id;\n\n  @ManyToOne\n  @JsonBackReference\n  private VisitRequest visitRequest;\n\n  //default constructor, getters and setters\n\n}\n\n@Entity(name = \"contact_person\")\n@Table(name = \"contact_person\")\n@DiscriminatorValue(value = \"contact_person\")\npublic class ContactPerson extends Visitor {\n\n  private PhoneNumber phoneNumber;\n\n  //default constructor, getters and setters\n\n}\n</code></pre>\n\n<p>And you able to persist ContactPerson like contactPersonDao.save(contactPerson),\nyou can`t persist field with visitor link.\nI am not expert but it work for me.\nAnd you can persist visitor as visitor if he not contactPerson</p>\n"},{"tags":[],"owner":{"account_id":16455344,"reputation":538,"user_id":11887658,"display_name":"Mouad Chaouki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629655946,"creation_date":1629655946,"answer_id":68883973,"question_id":43848721,"body_markdown":"It seems the id&#39;s between different tables has same value, so when hibernate is trying to load an entity with a specific id and if another entity with same id is already present in memory then hibernate is complaining about this issue.","title":"WrongClassException: Object [id=null] was not of the specified subclass","body":"<p>It seems the id's between different tables has same value, so when hibernate is trying to load an entity with a specific id and if another entity with same id is already present in memory then hibernate is complaining about this issue.</p>\n"}],"owner":{"account_id":1660988,"reputation":1239,"user_id":1529297,"accept_rate":47,"display_name":"Greg Zuber"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8262,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1695960355,"creation_date":1494249404,"question_id":43848721,"body_markdown":"I have a model like this one below:\r\n\r\n    @Entity(name = &quot;request&quot;)\r\n    public class VisitRequest {\r\n      @Id\r\n      @GeneratedValue\r\n      private Long id;\r\n\r\n      @OneToMany(mappedBy = &quot;visitRequest&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n      @JsonManagedReference\r\n      private List&lt;Visitor&gt; visitors;\r\n\r\n      //default constructor, getters and setters\r\n    }\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = &quot;class&quot;)\r\n    public class Visitor {\r\n      @Id\r\n      @GeneratedValue\r\n      private Long id;\r\n\r\n      @ManyToOne\r\n      @JsonBackReference\r\n      private VisitRequest visitRequest;\r\n\r\n      //default constructor, getters and setters\r\n\r\n    }\r\n\r\n    @Entity\r\n    public class ContactPerson extends Visitor {\r\n\r\n      private PhoneNumber phoneNumber;\r\n\r\n      //default constructor, getters and setters\r\n\r\n    }\r\n\r\n\r\nBut when I try to update a visitRequest by exchanging one of the visitors with a contact person, and try to execute the method on a CRUD repository visitRequestRepository.save(visitRequest); I&#39;m getting this exception:\r\n\r\n\r\n    \r\n\r\n&gt; Servlet.service() for servlet [dispatcherServlet] in context with path\r\n&gt; [] threw exception [Request processing failed; nested exception is\r\n&gt; org.springframework.orm.ObjectRetrievalFailureException: Object\r\n&gt; [id=null] was not of the specified subclass\r\n&gt; [cern.ais.visits.core.domain.visitor.Visitor] : class of the given\r\n&gt; object did not match class of persistent copy; nested exception is\r\n&gt; org.hibernate.WrongClassException: Object [id=null] was not of the\r\n&gt; specified subclass [cern.ais.visits.core.domain.visitor.Visitor] :\r\n&gt; class of the given object did not match class of persistent copy] with\r\n&gt; root cause\r\n\r\nMaybe the problem is that in the database there is the same id used in the contact_person and visitor tables?\r\n\r\nHow can I solve the problem? I&#39;ve searched for the solutions but none worked for me.","title":"WrongClassException: Object [id=null] was not of the specified subclass","body":"<p>I have a model like this one below:</p>\n\n<pre><code>@Entity(name = \"request\")\npublic class VisitRequest {\n  @Id\n  @GeneratedValue\n  private Long id;\n\n  @OneToMany(mappedBy = \"visitRequest\", cascade = CascadeType.ALL, orphanRemoval = true)\n  @JsonManagedReference\n  private List&lt;Visitor&gt; visitors;\n\n  //default constructor, getters and setters\n}\n\n@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\n@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = \"class\")\npublic class Visitor {\n  @Id\n  @GeneratedValue\n  private Long id;\n\n  @ManyToOne\n  @JsonBackReference\n  private VisitRequest visitRequest;\n\n  //default constructor, getters and setters\n\n}\n\n@Entity\npublic class ContactPerson extends Visitor {\n\n  private PhoneNumber phoneNumber;\n\n  //default constructor, getters and setters\n\n}\n</code></pre>\n\n<p>But when I try to update a visitRequest by exchanging one of the visitors with a contact person, and try to execute the method on a CRUD repository visitRequestRepository.save(visitRequest); I'm getting this exception:</p>\n\n<blockquote>\n  <p>Servlet.service() for servlet [dispatcherServlet] in context with path\n  [] threw exception [Request processing failed; nested exception is\n  org.springframework.orm.ObjectRetrievalFailureException: Object\n  [id=null] was not of the specified subclass\n  [cern.ais.visits.core.domain.visitor.Visitor] : class of the given\n  object did not match class of persistent copy; nested exception is\n  org.hibernate.WrongClassException: Object [id=null] was not of the\n  specified subclass [cern.ais.visits.core.domain.visitor.Visitor] :\n  class of the given object did not match class of persistent copy] with\n  root cause</p>\n</blockquote>\n\n<p>Maybe the problem is that in the database there is the same id used in the contact_person and visitor tables?</p>\n\n<p>How can I solve the problem? I've searched for the solutions but none worked for me.</p>\n"},{"tags":["java","quartz-scheduler","junit4"],"answers":[{"tags":[],"owner":{"account_id":2545685,"reputation":949,"user_id":2210548,"accept_rate":80,"display_name":"Kraiss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407942866,"creation_date":1407942866,"answer_id":25289907,"question_id":16262587,"body_markdown":"To see the problem by yourself, i advise to run this two different piece of code in debug mode in a IDE like Eclipse.\r\n\r\nWhen you run this two lines in a `main`, the Quartz Scheduler you create continue running even if the `main` terminates.\r\n\r\nWhen you run this two lines in JUnit, the JUnit framework kill all the remaining threads when all the unit test are terminated.\r\n\r\nTo let the time to Quartz to trigger your Job, you should change your JUnit test with the follwing \r\n\r\n \r\n\r\n    public class Test1 {\r\n        @Test\r\n        public void run() throws Exception {\r\n            CronTriggerExample example = new CronTriggerExample();\r\n            example.run();\r\n\r\n            Thread.sleep(240000); // Sleep 4 minutes (4*60*1.000 = 240.000)\r\n        }\r\n     }","title":"why quartz example code can&#39;t be tested in Junit?","body":"<p>To see the problem by yourself, i advise to run this two different piece of code in debug mode in a IDE like Eclipse.</p>\n\n<p>When you run this two lines in a <code>main</code>, the Quartz Scheduler you create continue running even if the <code>main</code> terminates.</p>\n\n<p>When you run this two lines in JUnit, the JUnit framework kill all the remaining threads when all the unit test are terminated.</p>\n\n<p>To let the time to Quartz to trigger your Job, you should change your JUnit test with the follwing </p>\n\n<pre><code>public class Test1 {\n    @Test\n    public void run() throws Exception {\n        CronTriggerExample example = new CronTriggerExample();\n        example.run();\n\n        Thread.sleep(240000); // Sleep 4 minutes (4*60*1.000 = 240.000)\n    }\n }\n</code></pre>\n"}],"owner":{"account_id":1785335,"reputation":3954,"user_id":1626906,"accept_rate":78,"display_name":"hiway"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13702,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1695960355,"creation_date":1367150139,"question_id":16262587,"body_markdown":"I am running this `quartz-2.1.0\\examples\\src\\main\\java\\org\\quartz\\examples\\example3` sample code, it runs very well, but if I move the `main` code in `CronTriggerExample.java` to a junit test class, the job doesn&#39;t run.\r\nthe following are quartz example code(I truncate them for simplification, you can get full code from quartz website).\r\n\r\n**SimpleJob.java:**\r\n\r\n    public class SimpleJob implements Job {\r\n      private static Logger _log = LoggerFactory.getLogger(SimpleJob.class);\r\n\r\n      public void execute(JobExecutionContext context) throws JobExecutionException {\r\n        JobKey jobKey = context.getJobDetail().getKey();\r\n        _log.info(&quot;SimpleJob says: &quot; + jobKey + &quot; executing at &quot; + new Date());\r\n      }\r\n    }\r\n\r\n**CronTriggerExample.java:**\r\n\r\n    public class CronTriggerExample {\r\n        public void run() throws Exception {\r\n            Logger log = LoggerFactory.getLogger(CronTriggerExample.class);\r\n            SchedulerFactory sf = new StdSchedulerFactory();\r\n            Scheduler sched = sf.getScheduler();\r\n            JobDetail job = newJob(SimpleJob.class)\r\n                .withIdentity(&quot;job1&quot;, &quot;group1&quot;)\r\n                .build();\r\n            CronTrigger trigger = newTrigger()\r\n                .withIdentity(&quot;trigger1&quot;, &quot;group1&quot;)\r\n                .withSchedule(cronSchedule(&quot;0/3 * * * * ?&quot;))\r\n                .build();\r\n\r\n            Date ft = sched.scheduleJob(job, trigger);\r\n            log.info(job.getKey() + &quot; has been scheduled to run at: &quot; + ft\r\n                + &quot; and repeat based on expression: &quot;\r\n                + trigger.getCronExpression());\r\n\r\n            sched.start();\r\n        }\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            CronTriggerExample example = new CronTriggerExample();\r\n            example.run();\r\n        }\r\n    }\r\n\r\nthe code above runs well, if I move the two lines code in `main` method to a junit test class(junit4), like this:\r\n\r\n    public class Test1 {\r\n        @Test\r\n        public void run() throws Exception {\r\n            CronTriggerExample example = new CronTriggerExample();\r\n            example.run();\r\n        }\r\n    }\r\n\r\nthe job doesn&#39;t run.\r\n\r\nI am very confused why the same code can&#39;t run in junit?\r\n","title":"why quartz example code can&#39;t be tested in Junit?","body":"<p>I am running this <code>quartz-2.1.0\\examples\\src\\main\\java\\org\\quartz\\examples\\example3</code> sample code, it runs very well, but if I move the <code>main</code> code in <code>CronTriggerExample.java</code> to a junit test class, the job doesn't run.\nthe following are quartz example code(I truncate them for simplification, you can get full code from quartz website).</p>\n\n<p><strong>SimpleJob.java:</strong></p>\n\n<pre><code>public class SimpleJob implements Job {\n  private static Logger _log = LoggerFactory.getLogger(SimpleJob.class);\n\n  public void execute(JobExecutionContext context) throws JobExecutionException {\n    JobKey jobKey = context.getJobDetail().getKey();\n    _log.info(\"SimpleJob says: \" + jobKey + \" executing at \" + new Date());\n  }\n}\n</code></pre>\n\n<p><strong>CronTriggerExample.java:</strong></p>\n\n<pre><code>public class CronTriggerExample {\n    public void run() throws Exception {\n        Logger log = LoggerFactory.getLogger(CronTriggerExample.class);\n        SchedulerFactory sf = new StdSchedulerFactory();\n        Scheduler sched = sf.getScheduler();\n        JobDetail job = newJob(SimpleJob.class)\n            .withIdentity(\"job1\", \"group1\")\n            .build();\n        CronTrigger trigger = newTrigger()\n            .withIdentity(\"trigger1\", \"group1\")\n            .withSchedule(cronSchedule(\"0/3 * * * * ?\"))\n            .build();\n\n        Date ft = sched.scheduleJob(job, trigger);\n        log.info(job.getKey() + \" has been scheduled to run at: \" + ft\n            + \" and repeat based on expression: \"\n            + trigger.getCronExpression());\n\n        sched.start();\n    }\n\n    public static void main(String[] args) throws Exception {\n        CronTriggerExample example = new CronTriggerExample();\n        example.run();\n    }\n}\n</code></pre>\n\n<p>the code above runs well, if I move the two lines code in <code>main</code> method to a junit test class(junit4), like this:</p>\n\n<pre><code>public class Test1 {\n    @Test\n    public void run() throws Exception {\n        CronTriggerExample example = new CronTriggerExample();\n        example.run();\n    }\n}\n</code></pre>\n\n<p>the job doesn't run.</p>\n\n<p>I am very confused why the same code can't run in junit?</p>\n"},{"tags":["java","swing","user-interface","swingx","jxtree"],"owner":{"account_id":10909349,"reputation":1,"user_id":8019228,"display_name":"riniwtz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695960160,"creation_date":1695959426,"question_id":77199358,"body_markdown":"I am having a hard time using FileSystemModel, or the SimpleFileSystemModel in JXTree. I know I could set a root for it, and it works just fine, but I wanted to have more functionality on using it. These functionalities that are missing that I would like to look forward to is:\r\n\r\n- Changing the directory names of files Ex: (/Users/&lt;user&gt;/Documents/test.zip -&gt; test.zip)\r\n- I would also want to get all the files even in subfolders, so I can get the count of all files iterated.\r\n- Drag and drop nodes (files)\r\n\r\nI am also thinking if I should just understand the implementation of FileSystemModel and extend it? \r\n\r\nThe main problem here is these two in the list and not the drag and drop, but if someone knows how to implement drag and drop, it would much appreciated!.\r\n\r\n[This image contains the problem from list no. 1](https://i.stack.imgur.com/jjqV0.png)\r\n\r\nThank you!\r\n\r\nI tried Googling for this problem but I don&#39;t found any. I&#39;ve also seen documentations for SwingX, and in wayback machine, but I couldn&#39;t really figure it out. Maybe I should just take my time to implement ways on my own?","title":"Java SwingX 2023 - How to get all the files to array using FileSystemModel on JXTree?","body":"<p>I am having a hard time using FileSystemModel, or the SimpleFileSystemModel in JXTree. I know I could set a root for it, and it works just fine, but I wanted to have more functionality on using it. These functionalities that are missing that I would like to look forward to is:</p>\n<ul>\n<li>Changing the directory names of files Ex: (/Users//Documents/test.zip -&gt; test.zip)</li>\n<li>I would also want to get all the files even in subfolders, so I can get the count of all files iterated.</li>\n<li>Drag and drop nodes (files)</li>\n</ul>\n<p>I am also thinking if I should just understand the implementation of FileSystemModel and extend it?</p>\n<p>The main problem here is these two in the list and not the drag and drop, but if someone knows how to implement drag and drop, it would much appreciated!.</p>\n<p><a href=\"https://i.stack.imgur.com/jjqV0.png\" rel=\"nofollow noreferrer\">This image contains the problem from list no. 1</a></p>\n<p>Thank you!</p>\n<p>I tried Googling for this problem but I don't found any. I've also seen documentations for SwingX, and in wayback machine, but I couldn't really figure it out. Maybe I should just take my time to implement ways on my own?</p>\n"},{"tags":["java","wsdl","wsimport"],"comments":[{"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"score":0,"creation_date":1536072191,"post_id":52168512,"comment_id":91287941,"body_markdown":"Have you tried your URL without &quot;?wsdl&quot; ? And maybe you can provide your credentials in a different [way](https://stackoverflow.com/questions/7071366/java-web-service-client-basic-authentication).","body":"Have you tried your URL without &quot;?wsdl&quot; ? And maybe you can provide your credentials in a different <a href=\"https://stackoverflow.com/questions/7071366/java-web-service-client-basic-authentication\">way</a>."},{"owner":{"account_id":5684580,"reputation":31,"user_id":4494546,"display_name":"reiga"},"score":0,"creation_date":1537299663,"post_id":52168512,"comment_id":91732265,"body_markdown":"ok, thanks i used this solution and it works. not the nicest solution and it seems nobody has a better solution, but it runs.","body":"ok, thanks i used this solution and it works. not the nicest solution and it seems nobody has a better solution, but it runs."}],"owner":{"account_id":5684580,"reputation":31,"user_id":4494546,"display_name":"reiga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695959700,"creation_date":1536071142,"question_id":52168512,"body_markdown":"I genrated with wsimport java classes. the wsdl I imported request a authentication.     \r\n\r\nI used this example:\r\n\r\n    wsimport -Xauthfile C:\\auth.txt -keep http://example.com/test?wsdl -s c:\\path\\to\\source\\\r\n\r\nIn the auth.txt was the following code:\r\n\r\n    http://user:password@http://example.com/test?wsdl\r\n\r\nIt has successfully created the java classes.\r\n\r\nMy java code:\r\n\r\n        OrderService service = new OrderService();\r\n        Order port = service.getOrderPort();\r\n        BindingProvider bp = (BindingProvider) port;\r\n        bp.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, &quot;endpoint&quot;);\r\n        bp.getRequestContext().put(BindingProvider.USERNAME_PROPERTY, &quot;user&quot;);\r\n        bp.getRequestContext().put(BindingProvider.PASSWORD_PROPERTY, &quot;password&quot;);\r\n    \r\nThe first line caused the following exception:\r\n\r\n    Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: No access to WSDL at: http://example.com/test?wsdl. Access unsuccessful with: \r\n\tServer returned HTTP response code: 401 for URL: http://example.com/test?wsdl.\r\n\tat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.tryWithMex(RuntimeWSDLParser.java:250)\r\n\tat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:231)\r\n\tat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:194)\r\n\tat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:163)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.parseWSDL(WSServiceDelegate.java:348)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:306)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:215)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:196)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:192)\r\n\tat com.sun.xml.internal.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:104)\r\n\tat javax.xml.ws.Service.&lt;init&gt;(Service.java:77)\r\n\tat com.innovabee.member.OrderService.&lt;init&gt;(OrderService.java:42)\r\n\tat webserviceefa.Webservice.main(Webservice.java:42)\r\n\r\n    Caused by: java.io.IOException: Server returned HTTP response code: 401 for URL: http://example.com/test?wsdl\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1894)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\r\n\tat java.net.URL.openStream(URL.java:1045)\r\n\tat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.createReader(RuntimeWSDLParser.java:984)\r\n\tat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.resolveWSDL(RuntimeWSDLParser.java:385)\r\n\tat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:216)\r\n\t... 11 more\r\n\r\nthe example is from: http://www.titorec.net/wordpress/2015/10/01/importando-webservice-wsdl-com-autenticacao-java-wsimport/","title":"wsimport generated java classes - 401 error","body":"<p>I genrated with wsimport java classes. the wsdl I imported request a authentication.     </p>\n\n<p>I used this example:</p>\n\n<pre><code>wsimport -Xauthfile C:\\auth.txt -keep http://example.com/test?wsdl -s c:\\path\\to\\source\\\n</code></pre>\n\n<p>In the auth.txt was the following code:</p>\n\n<pre><code>http://user:password@http://example.com/test?wsdl\n</code></pre>\n\n<p>It has successfully created the java classes.</p>\n\n<p>My java code:</p>\n\n<pre><code>    OrderService service = new OrderService();\n    Order port = service.getOrderPort();\n    BindingProvider bp = (BindingProvider) port;\n    bp.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, \"endpoint\");\n    bp.getRequestContext().put(BindingProvider.USERNAME_PROPERTY, \"user\");\n    bp.getRequestContext().put(BindingProvider.PASSWORD_PROPERTY, \"password\");\n</code></pre>\n\n<p>The first line caused the following exception:</p>\n\n<pre><code>Exception in thread \"main\" javax.xml.ws.WebServiceException: No access to WSDL at: http://example.com/test?wsdl. Access unsuccessful with: \nServer returned HTTP response code: 401 for URL: http://example.com/test?wsdl.\nat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.tryWithMex(RuntimeWSDLParser.java:250)\nat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:231)\nat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:194)\nat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:163)\nat com.sun.xml.internal.ws.client.WSServiceDelegate.parseWSDL(WSServiceDelegate.java:348)\nat com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:306)\nat com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:215)\nat com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:196)\nat com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:192)\nat com.sun.xml.internal.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:104)\nat javax.xml.ws.Service.&lt;init&gt;(Service.java:77)\nat com.innovabee.member.OrderService.&lt;init&gt;(OrderService.java:42)\nat webserviceefa.Webservice.main(Webservice.java:42)\n\nCaused by: java.io.IOException: Server returned HTTP response code: 401 for URL: http://example.com/test?wsdl\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1894)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\nat java.net.URL.openStream(URL.java:1045)\nat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.createReader(RuntimeWSDLParser.java:984)\nat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.resolveWSDL(RuntimeWSDLParser.java:385)\nat com.sun.xml.internal.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:216)\n... 11 more\n</code></pre>\n\n<p>the example is from: <a href=\"http://www.titorec.net/wordpress/2015/10/01/importando-webservice-wsdl-com-autenticacao-java-wsimport/\" rel=\"nofollow noreferrer\">http://www.titorec.net/wordpress/2015/10/01/importando-webservice-wsdl-com-autenticacao-java-wsimport/</a></p>\n"},{"tags":["java","android","google-app-engine","google-cloud-storage","google-cloud-platform"],"comments":[{"owner":{"account_id":1432965,"reputation":6821,"user_id":1354939,"display_name":"BrettJ"},"score":0,"creation_date":1488700634,"post_id":42601917,"comment_id":72341602,"body_markdown":"What is your use case? The correct access method depends on what you&#39;re trying to do.","body":"What is your use case? The correct access method depends on what you&#39;re trying to do."},{"owner":{"account_id":4856186,"reputation":3015,"user_id":3917064,"accept_rate":22,"display_name":"Orbit"},"score":0,"creation_date":1488701973,"post_id":42601917,"comment_id":72341905,"body_markdown":"At this point I&#39;d settle for any type of connection to my Cloud Storage. As shown in the code snippet, I was simply trying to list bucket names. My &quot;end&quot; use-case will be to upload/download videos.","body":"At this point I&#39;d settle for any type of connection to my Cloud Storage. As shown in the code snippet, I was simply trying to list bucket names. My &quot;end&quot; use-case will be to upload/download videos."}],"answers":[{"tags":[],"owner":{"account_id":59582,"reputation":7726,"user_id":178236,"accept_rate":57,"display_name":"Justin Beckwith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488674192,"creation_date":1488674192,"answer_id":42603073,"question_id":42601917,"body_markdown":"I am guessing, but I *think* the Firebase Storage API is the way you&#39;re supposed to be doing this:\r\nhttps://firebase.google.com/docs/storage/","title":"Accessing Cloud Storage from Android","body":"<p>I am guessing, but I <em>think</em> the Firebase Storage API is the way you're supposed to be doing this:\n<a href=\"https://firebase.google.com/docs/storage/\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/storage/</a></p>\n"},{"tags":[],"owner":{"account_id":1432965,"reputation":6821,"user_id":1354939,"display_name":"BrettJ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488732241,"creation_date":1488732241,"answer_id":42611062,"question_id":42601917,"body_markdown":"You shouldn&#39;t write directly to Cloud Storage from client applications that can&#39;t be trusted with your security tokens. It sounds like you are not planning on authenticating directly as the user, but rather generally with your own project.\r\n\r\nIf you are not planning on doing a user-based OAuth2 flow (user must have their own Cloud Console project already with Storage enabled), then you&#39;re looking instead at proxying the requests through your own backend such as App Engine.\r\n\r\nThis approach keeps your storage credentials stored safely on the server side rather than in the client app&#39;s APK, which could be torn down, extracted, and then malicious actors could use those credentials to write to your buckets in whatever manner they chose. Oh and buckets and storage are a billable resource so exposing those credentials could cost you.\r\n\r\nThis is a common pattern for many cloud services from mobile that you&#39;re going to want to instead route requests through your own backend or API.","title":"Accessing Cloud Storage from Android","body":"<p>You shouldn't write directly to Cloud Storage from client applications that can't be trusted with your security tokens. It sounds like you are not planning on authenticating directly as the user, but rather generally with your own project.</p>\n\n<p>If you are not planning on doing a user-based OAuth2 flow (user must have their own Cloud Console project already with Storage enabled), then you're looking instead at proxying the requests through your own backend such as App Engine.</p>\n\n<p>This approach keeps your storage credentials stored safely on the server side rather than in the client app's APK, which could be torn down, extracted, and then malicious actors could use those credentials to write to your buckets in whatever manner they chose. Oh and buckets and storage are a billable resource so exposing those credentials could cost you.</p>\n\n<p>This is a common pattern for many cloud services from mobile that you're going to want to instead route requests through your own backend or API.</p>\n"},{"tags":[],"owner":{"account_id":4078822,"reputation":668,"user_id":3349737,"accept_rate":67,"display_name":"Parthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628836853,"creation_date":1628836853,"answer_id":68767851,"question_id":42601917,"body_markdown":"This may be a late answer. But I think, it will be useful to someone.\r\n\r\nFirstly, You should get the below information by registering your application in the GCP console.\r\n\r\n    private final String pkcsFile = &quot;xxx.json&quot;;//private key file\r\n    private final String bucketName = &quot;your_gcp_bucket_name&quot;;\r\n    private final String projectId = &quot;your_gcp_project_id&quot;;\r\n\r\nOnce you get the credentials, you should put the private key (.p12 or .json) in your assets folder. I&#39;m using JSON format private key file. Also, you should update the image location to upload. \r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n        public void uploadImageFile(String srcFileName, String newName) {\r\n                Storage storage = getStorage();\r\n    \r\n            File file = new File(srcFileName);//Your image loaction\r\n            byte[] fileContent;\r\n            try {\r\n                fileContent = Files.readAllBytes(file.toPath());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return;\r\n            }\r\n            if (fileContent == null || fileContent.length == 0)\r\n                return;\r\n            BlobInfo.Builder newBuilder = Blob.newBuilder(BucketInfo.of(bucketName), newName);\r\n            BlobInfo blobInfo = newBuilder.setContentType(&quot;image/png&quot;).build();\r\n            Blob blob = storage.create(blobInfo, fileContent);\r\n            String bucket = blob.getBucket();\r\n            String contentType = blob.getContentType();\r\n            Log.e(&quot;TAG&quot;, &quot;Upload File: &quot; + contentType);\r\n            Log.e(&quot;File &quot;, srcFileName + &quot; uploaded to bucket &quot; + bucket + &quot; as &quot; + newName);\r\n        }\r\n\r\n    private Storage getStorage() {\r\n            InputStream credentialsStream;\r\n            Credentials credentials;\r\n    \r\n            try {\r\n                credentialsStream = mContext.getAssets().open(pkcsFile);\r\n                credentials = GoogleCredentials.fromStream(credentialsStream);\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n            return StorageOptions.newBuilder()\r\n                    .setProjectId(projectId).setCredentials(credentials)\r\n                    .build().getService();\r\n        }\r\n\r\n","title":"Accessing Cloud Storage from Android","body":"<p>This may be a late answer. But I think, it will be useful to someone.</p>\n<p>Firstly, You should get the below information by registering your application in the GCP console.</p>\n<pre><code>private final String pkcsFile = &quot;xxx.json&quot;;//private key file\nprivate final String bucketName = &quot;your_gcp_bucket_name&quot;;\nprivate final String projectId = &quot;your_gcp_project_id&quot;;\n</code></pre>\n<p>Once you get the credentials, you should put the private key (.p12 or .json) in your assets folder. I'm using JSON format private key file. Also, you should update the image location to upload.</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.O)\n    public void uploadImageFile(String srcFileName, String newName) {\n            Storage storage = getStorage();\n\n        File file = new File(srcFileName);//Your image loaction\n        byte[] fileContent;\n        try {\n            fileContent = Files.readAllBytes(file.toPath());\n        } catch (IOException e) {\n            e.printStackTrace();\n            return;\n        }\n        if (fileContent == null || fileContent.length == 0)\n            return;\n        BlobInfo.Builder newBuilder = Blob.newBuilder(BucketInfo.of(bucketName), newName);\n        BlobInfo blobInfo = newBuilder.setContentType(&quot;image/png&quot;).build();\n        Blob blob = storage.create(blobInfo, fileContent);\n        String bucket = blob.getBucket();\n        String contentType = blob.getContentType();\n        Log.e(&quot;TAG&quot;, &quot;Upload File: &quot; + contentType);\n        Log.e(&quot;File &quot;, srcFileName + &quot; uploaded to bucket &quot; + bucket + &quot; as &quot; + newName);\n    }\n\nprivate Storage getStorage() {\n        InputStream credentialsStream;\n        Credentials credentials;\n\n        try {\n            credentialsStream = mContext.getAssets().open(pkcsFile);\n            credentials = GoogleCredentials.fromStream(credentialsStream);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n            return null;\n        }\n        return StorageOptions.newBuilder()\n                .setProjectId(projectId).setCredentials(credentials)\n                .build().getService();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":977764,"reputation":136,"user_id":998303,"display_name":"user998303"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695959641,"creation_date":1695959641,"answer_id":77199367,"question_id":42601917,"body_markdown":"For those who (as I did) came here looking for a simple and easy way to use anonymous transfers (i.e. without Firebase and everything that goes with that) to access an API, here&#39;s what I discovered after a full day&#39;s work...\r\n\r\n 1. Pull in the Google Cloud Storage library by adding these lines to the indicated sections of build.gradle. NB that the version is important. **Versions from 2.24.0 to the current latest 2.27.1 do not run.**\r\n\r\n\r\n         packaging {\r\n             resources {\r\n                 excludes += &quot;META-INF/INDEX.LIST&quot;\r\n             }\r\n         }\r\n    \r\n        dependencies {\r\n             implementation(&quot;com.google.cloud:google-cloud-storage:2.23.0&quot;)\r\n        }\r\n\r\n 2. In MainActivity (or wherever), add these lines, obviously changing bucketName and publicObjectName values to your values. \r\n\r\nNB: filesDir is a property of MainActivity that specifies what directory your files will be written to.\r\n\r\nNB: Thread is needed because in later versions of Android it is not allowed to access the network from the UI thread.\r\n\r\n    val publicObjectName = &quot;something.json&quot;\r\n    \r\n    Thread {\r\n    \r\n        val bucketName = &quot;a long  -stri-ng  -of  -hexadecimal &quot;\r\n    \r\n        val storage = StorageOptions.getUnauthenticatedInstance().service\r\n    \r\n        val blobId = BlobId.of(bucketName, publicObjectName)\r\n    \r\n        val blob = storage[blobId]\r\n    \r\n        blob.downloadTo(File(&quot;${filesDir}/${publicObjectName}&quot;).toPath())\r\n    \r\n    }.start()\r\n\r\n\r\n\r\n\r\n\r\n","title":"Accessing Cloud Storage from Android","body":"<p>For those who (as I did) came here looking for a simple and easy way to use anonymous transfers (i.e. without Firebase and everything that goes with that) to access an API, here's what I discovered after a full day's work...</p>\n<ol>\n<li><p>Pull in the Google Cloud Storage library by adding these lines to the indicated sections of build.gradle. NB that the version is important. <strong>Versions from 2.24.0 to the current latest 2.27.1 do not run.</strong></p>\n<pre><code> packaging {\n     resources {\n         excludes += &quot;META-INF/INDEX.LIST&quot;\n     }\n }\n\ndependencies {\n     implementation(&quot;com.google.cloud:google-cloud-storage:2.23.0&quot;)\n}\n</code></pre>\n</li>\n<li><p>In MainActivity (or wherever), add these lines, obviously changing bucketName and publicObjectName values to your values.</p>\n</li>\n</ol>\n<p>NB: filesDir is a property of MainActivity that specifies what directory your files will be written to.</p>\n<p>NB: Thread is needed because in later versions of Android it is not allowed to access the network from the UI thread.</p>\n<pre><code>val publicObjectName = &quot;something.json&quot;\n\nThread {\n\n    val bucketName = &quot;a long  -stri-ng  -of  -hexadecimal &quot;\n\n    val storage = StorageOptions.getUnauthenticatedInstance().service\n\n    val blobId = BlobId.of(bucketName, publicObjectName)\n\n    val blob = storage[blobId]\n\n    blob.downloadTo(File(&quot;${filesDir}/${publicObjectName}&quot;).toPath())\n\n}.start()\n</code></pre>\n"}],"owner":{"account_id":4856186,"reputation":3015,"user_id":3917064,"accept_rate":22,"display_name":"Orbit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2350,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1695959641,"creation_date":1488664908,"question_id":42601917,"body_markdown":"I&#39;ve been unable to find any concrete documentation on how to use Cloud Storage from an Android application.\r\n\r\nI did come across [this client library][1] from the Google Cloud SDK, however have run into many, many issues and have yet to get it working. \r\n\r\nI added the following code as recommended in the above link:\r\n\r\n***build.gradle***:\r\n\r\n    compile group: &#39;com.google.cloud&#39;, name: &#39;google-cloud-storage&#39;, version: &#39;0.9.3-beta&#39;\r\n\r\nI then added some simple code, though this isn&#39;t really relevant to this question as I have yet been able to run my application with the above dependency added:\r\n\r\n***In an Activity:***\r\n\r\n    Storage storage = StorageOptions.getDefaultInstance().getService();\r\n    Page&lt;Bucket&gt; buckets = storage.list();\r\n    Iterator&lt;Bucket&gt; bucketIterator = buckets.iterateAll();\r\n    while (bucketIterator.hasNext()) {\r\n        Bucket bucket = bucketIterator.next();\r\n        Log.d(TAG, &quot;Bucket name: &quot; + bucket.getName());\r\n    }\r\n\r\nAfter solving a myriad of dependency issues (Conflicts with Joda, Netty, `DuplicateFileException`&#39;s from gradle, etc.) I was able to build the project, albeit with the below errors:\r\n\r\n`Warning:WARNING: Dependency org.apache.httpcomponents:httpclient:4.0.1 is ignored for debug as it may be conflicting with the internal version provided by Android.`\r\n`Warning:WARNING: Dependency org.json:json:20151123 is ignored for debug as it may be conflicting with the internal version provided by Android.`\r\n\r\nI can then try running, which will fail with a few hundred errors, most of which look something like the following:\r\n\r\n    Error:warning: Ignoring InnerClasses attribute for an anonymous inner class\r\n    Error:(com.google.inject.internal.cglib.reflect.$FastClassEmitter$3) that doesn&#39;t come with an\r\n    Error:associated EnclosingMethod attribute. This class was probably produced by a\r\n    Error:compiler that did not target the modern .class file format. The recommended\r\n    Error:solution is to recompile the class from source, using an up-to-date compiler\r\n    Error:and without specifying any &quot;-target&quot; type options. The consequence of ignoring\r\n    Error:this warning is that reflective operations on this class will incorrectly\r\n    Error:indicate that it is *not* an inner class.\r\n\r\nAfter quite a few of those, with varying classnames, the end of the error contains this:\r\n\r\n&gt; trouble processing &quot;javax/transaction/HeuristicCommitException.class&quot;:\r\n&gt; \r\n&gt; Ill-advised or mistaken usage of a core class (java.* or javax.*) when\r\n&gt; not building a core library.\r\n&gt; \r\n&gt; This is often due to inadvertently including a core library file in\r\n&gt; your application&#39;s project, when using an IDE (such as Eclipse). If\r\n&gt; you are sure you&#39;re not intentionally defining a core class, then this\r\n&gt; is the most likely explanation of what&#39;s going on.\r\n&gt; \r\n&gt; However, you might actually be trying to define a class in a core\r\n&gt; namespace, the source of which you may have taken, for example, from a\r\n&gt; non-Android virtual machine project. This will most assuredly not\r\n&gt; work. At a minimum, it jeopardizes the compatibility of your app with\r\n&gt; future versions of the platform. It is also often of questionable\r\n&gt; legality.\r\n&gt; \r\n&gt; If you really intend to build a core library -- which is only\r\n&gt; appropriate as part of creating a full virtual machine distribution,\r\n&gt; as opposed to compiling an application -- then use the\r\n&gt; &quot;--core-library&quot; option to suppress this error message.\r\n&gt; \r\n&gt; If you go ahead and use &quot;--core-library&quot; but are in fact building an\r\n&gt; application, then be forewarned that your application will still fail\r\n&gt; to build or run, at some point. Please be prepared for angry customers\r\n&gt; who find, for example, that your application ceases to function once\r\n&gt; they upgrade their operating system. You will be to blame for this\r\n&gt; problem.\r\n&gt; \r\n&gt; If you are legitimately using some code that happens to be in a core\r\n&gt; package, then the easiest safe alternative you have is to repackage\r\n&gt; that code. That is, move the classes in question into your own package\r\n&gt; namespace. This means that they will never be in conflict with core\r\n&gt; system classes. JarJar is a tool that may help you in this endeavor.\r\n&gt; If you find that you cannot do this, then that is an indication that\r\n&gt; the path you are on will ultimately lead to pain, suffering, grief,\r\n&gt; and lamentation.\r\n\r\nA few questions:\r\n\r\n 1. Is this client library the correct way to access my Google Cloud Storage from my Android application?\r\n 2. Is there a reason I shouldn&#39;t try to access Cloud Storage from the mobile application? For example, would a better architecture be to make a REST API call to my App Engine application (using Cloud Enpoints) and pass it media objects, then have the App Engine app access and store the media in Cloud Storage, before finally returning the result to the mobile app?\r\n 3. If I am accessing Cloud Storage correctly, using the mentioned client library, what do these errors mean, and what it the fix?\r\n\r\n  [1]: https://cloud.google.com/storage/docs/reference/libraries","title":"Accessing Cloud Storage from Android","body":"<p>I've been unable to find any concrete documentation on how to use Cloud Storage from an Android application.</p>\n\n<p>I did come across <a href=\"https://cloud.google.com/storage/docs/reference/libraries\" rel=\"nofollow noreferrer\">this client library</a> from the Google Cloud SDK, however have run into many, many issues and have yet to get it working. </p>\n\n<p>I added the following code as recommended in the above link:</p>\n\n<p><strong><em>build.gradle</em></strong>:</p>\n\n<pre><code>compile group: 'com.google.cloud', name: 'google-cloud-storage', version: '0.9.3-beta'\n</code></pre>\n\n<p>I then added some simple code, though this isn't really relevant to this question as I have yet been able to run my application with the above dependency added:</p>\n\n<p><strong><em>In an Activity:</em></strong></p>\n\n<pre><code>Storage storage = StorageOptions.getDefaultInstance().getService();\nPage&lt;Bucket&gt; buckets = storage.list();\nIterator&lt;Bucket&gt; bucketIterator = buckets.iterateAll();\nwhile (bucketIterator.hasNext()) {\n    Bucket bucket = bucketIterator.next();\n    Log.d(TAG, \"Bucket name: \" + bucket.getName());\n}\n</code></pre>\n\n<p>After solving a myriad of dependency issues (Conflicts with Joda, Netty, <code>DuplicateFileException</code>'s from gradle, etc.) I was able to build the project, albeit with the below errors:</p>\n\n<p><code>Warning:WARNING: Dependency org.apache.httpcomponents:httpclient:4.0.1 is ignored for debug as it may be conflicting with the internal version provided by Android.</code>\n<code>Warning:WARNING: Dependency org.json:json:20151123 is ignored for debug as it may be conflicting with the internal version provided by Android.</code></p>\n\n<p>I can then try running, which will fail with a few hundred errors, most of which look something like the following:</p>\n\n<pre><code>Error:warning: Ignoring InnerClasses attribute for an anonymous inner class\nError:(com.google.inject.internal.cglib.reflect.$FastClassEmitter$3) that doesn't come with an\nError:associated EnclosingMethod attribute. This class was probably produced by a\nError:compiler that did not target the modern .class file format. The recommended\nError:solution is to recompile the class from source, using an up-to-date compiler\nError:and without specifying any \"-target\" type options. The consequence of ignoring\nError:this warning is that reflective operations on this class will incorrectly\nError:indicate that it is *not* an inner class.\n</code></pre>\n\n<p>After quite a few of those, with varying classnames, the end of the error contains this:</p>\n\n<blockquote>\n  <p>trouble processing \"javax/transaction/HeuristicCommitException.class\":</p>\n  \n  <p>Ill-advised or mistaken usage of a core class (java.* or javax.*) when\n  not building a core library.</p>\n  \n  <p>This is often due to inadvertently including a core library file in\n  your application's project, when using an IDE (such as Eclipse). If\n  you are sure you're not intentionally defining a core class, then this\n  is the most likely explanation of what's going on.</p>\n  \n  <p>However, you might actually be trying to define a class in a core\n  namespace, the source of which you may have taken, for example, from a\n  non-Android virtual machine project. This will most assuredly not\n  work. At a minimum, it jeopardizes the compatibility of your app with\n  future versions of the platform. It is also often of questionable\n  legality.</p>\n  \n  <p>If you really intend to build a core library -- which is only\n  appropriate as part of creating a full virtual machine distribution,\n  as opposed to compiling an application -- then use the\n  \"--core-library\" option to suppress this error message.</p>\n  \n  <p>If you go ahead and use \"--core-library\" but are in fact building an\n  application, then be forewarned that your application will still fail\n  to build or run, at some point. Please be prepared for angry customers\n  who find, for example, that your application ceases to function once\n  they upgrade their operating system. You will be to blame for this\n  problem.</p>\n  \n  <p>If you are legitimately using some code that happens to be in a core\n  package, then the easiest safe alternative you have is to repackage\n  that code. That is, move the classes in question into your own package\n  namespace. This means that they will never be in conflict with core\n  system classes. JarJar is a tool that may help you in this endeavor.\n  If you find that you cannot do this, then that is an indication that\n  the path you are on will ultimately lead to pain, suffering, grief,\n  and lamentation.</p>\n</blockquote>\n\n<p>A few questions:</p>\n\n<ol>\n<li>Is this client library the correct way to access my Google Cloud Storage from my Android application?</li>\n<li>Is there a reason I shouldn't try to access Cloud Storage from the mobile application? For example, would a better architecture be to make a REST API call to my App Engine application (using Cloud Enpoints) and pass it media objects, then have the App Engine app access and store the media in Cloud Storage, before finally returning the result to the mobile app?</li>\n<li>If I am accessing Cloud Storage correctly, using the mentioned client library, what do these errors mean, and what it the fix?</li>\n</ol>\n"},{"tags":["java","azure","gradle","http-status-code-404"],"comments":[{"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1695901090,"post_id":77194521,"comment_id":136087170,"body_markdown":"How are you deploying your application(any IDE/CLI)?","body":"How are you deploying your application(any IDE/CLI)?"},{"owner":{"account_id":29555047,"reputation":3,"user_id":22650867,"display_name":"Coriver"},"score":1,"creation_date":1695902289,"post_id":77194521,"comment_id":136087411,"body_markdown":"I am using InteliJJ, but in order to deploy i use command \n&#39;&#39;&#39;&#39;\ngradle azureWebAppDeploy\n&#39;&#39;&#39;&#39;","body":"I am using InteliJJ, but in order to deploy i use command  &#39;&#39;&#39;&#39; gradle azureWebAppDeploy &#39;&#39;&#39;&#39;"},{"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1695902429,"post_id":77194521,"comment_id":136087442,"body_markdown":"Can you provide your application link, if it is available in GitHub(if it doesn&#39;t have any sensitive information).","body":"Can you provide your application link, if it is available in GitHub(if it doesn&#39;t have any sensitive information)."},{"owner":{"account_id":29555047,"reputation":3,"user_id":22650867,"display_name":"Coriver"},"score":1,"creation_date":1695903309,"post_id":77194521,"comment_id":136087626,"body_markdown":"Well my app is in a private repository but I had the same issue, well I created a new spring project with an older spring version to check it without database \nhttps://github.com/Coriv/Azure\nthere is just 1 controller class which return string and some settings in build.gradle file.\n\nits deployed here \nhttps://team-management.azurewebsites.net\n\nwith deployment status success, but when i am trying to reach \n\nhttps://team-management.azurewebsites.net/any there is 404","body":"Well my app is in a private repository but I had the same issue, well I created a new spring project with an older spring version to check it without database  <a href=\"https://github.com/Coriv/Azure\" rel=\"nofollow noreferrer\">github.com/Coriv/Azure</a> there is just 1 controller class which return string and some settings in build.gradle file.  its deployed here  <a href=\"https://team-management.azurewebsites.net\" rel=\"nofollow noreferrer\">team-management.azurewebsites.net</a>  with deployment status success, but when i am trying to reach   <a href=\"https://team-management.azurewebsites.net/any\" rel=\"nofollow noreferrer\">team-management.azurewebsites.net/any</a> there is 404"},{"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1695903374,"post_id":77194521,"comment_id":136087638,"body_markdown":"I will check and update.","body":"I will check and update."},{"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1695938171,"post_id":77194521,"comment_id":136094087,"body_markdown":"I tried deploying via intellij and it worked. @Coriver","body":"I tried deploying via intellij and it worked. @Coriver"}],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695958727,"creation_date":1695958727,"answer_id":77199320,"question_id":77194521,"body_markdown":"&gt;I tried to reach any endpoint I got 404\r\n\r\nThis could be because the application is not deployed properly. Check if all the files of your application is available in the Azure App Service.\r\n\r\nI have deployed your application using IntelliJ IDE and could see the expected results after running the deployed application.\r\n\r\n**Steps to follow:**\r\n\r\n- `Right click on the project=&gt; Select Azure=&gt; Choose Deploy to Azure Web Apps`:\r\n\r\n![enter image description here](https://i.imgur.com/u17giqr.png)\r\n\r\n- Select your `web app` to deploy spring boot app as shown below and fill the remaining details accordingly:\r\n\r\n![enter image description here](https://i.imgur.com/qfcs2n5.png)\r\n\r\n**Deployed Successfully:**\r\n\r\n![enter image description here](https://i.imgur.com/pFNmxPW.png)\r\n\r\n- Make sure ***your application is deployed properly*** and you can see all the ***project files*** in ***KUDU*** site(`https://&lt;web_app_name&gt;.scm.azurewebsites.net/newui`).\r\n- `Azure App Service=&gt;Advanced Tools=&gt;Go=&gt;`KUDU site will be opened. \r\n- Go to `File Manager=&gt;site/wwwroot/`, check if all the project files are deployed.\r\n\r\n![enter image description here](https://i.imgur.com/3tUGfkN.png)\r\n![enter image description here](https://i.imgur.com/BGAfMv8.png)\r\n\r\n**Response:**\r\nBrowse the application site `https://&lt;web_app_name&gt;.azurewebsites.net/any`:\r\n\r\n![enter image description here](https://i.imgur.com/1PzNpuT.png)\r\n","title":"Azure spring app deployment, controller 404 not found","body":"<blockquote>\n<p>I tried to reach any endpoint I got 404</p>\n</blockquote>\n<p>This could be because the application is not deployed properly. Check if all the files of your application is available in the Azure App Service.</p>\n<p>I have deployed your application using IntelliJ IDE and could see the expected results after running the deployed application.</p>\n<p><strong>Steps to follow:</strong></p>\n<ul>\n<li><code>Right click on the project=&gt; Select Azure=&gt; Choose Deploy to Azure Web Apps</code>:</li>\n</ul>\n<p><img src=\"https://i.imgur.com/u17giqr.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>Select your <code>web app</code> to deploy spring boot app as shown below and fill the remaining details accordingly:</li>\n</ul>\n<p><img src=\"https://i.imgur.com/qfcs2n5.png\" alt=\"enter image description here\" /></p>\n<p><strong>Deployed Successfully:</strong></p>\n<p><img src=\"https://i.imgur.com/pFNmxPW.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>Make sure <em><strong>your application is deployed properly</strong></em> and you can see all the <em><strong>project files</strong></em> in <em><strong>KUDU</strong></em> site(<code>https://&lt;web_app_name&gt;.scm.azurewebsites.net/newui</code>).</li>\n<li><code>Azure App Service=&gt;Advanced Tools=&gt;Go=&gt;</code>KUDU site will be opened.</li>\n<li>Go to <code>File Manager=&gt;site/wwwroot/</code>, check if all the project files are deployed.</li>\n</ul>\n<p><img src=\"https://i.imgur.com/3tUGfkN.png\" alt=\"enter image description here\" />\n<img src=\"https://i.imgur.com/BGAfMv8.png\" alt=\"enter image description here\" /></p>\n<p><strong>Response:</strong>\nBrowse the application site <code>https://&lt;web_app_name&gt;.azurewebsites.net/any</code>:</p>\n<p><img src=\"https://i.imgur.com/1PzNpuT.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":29555047,"reputation":3,"user_id":22650867,"display_name":"Coriver"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77199320,"answer_count":1,"score":0,"last_activity_date":1695958727,"creation_date":1695900420,"question_id":77194521,"body_markdown":"I am trying to deploy spring app on Azure App Service. I added to build.gradle instructions with plugin like below: \r\n\r\n\r\n```\r\nazurewebapp {\r\n    subscription = &#39;xxx&#39;\r\n    resourceGroup = &#39;xxx&#39;\r\n    appName = &#39;xxx&#39;\r\n    region = &#39;westus&#39;\r\n    runtime {\r\n        os = &#39;Linux&#39;\r\n        webContainer = &#39;Tomcat 10.0&#39;\r\n        javaVersion = &#39;Java 17&#39;\r\n    }\r\n    appSettings {\r\n        DatabaseConnectionString = &quot;xxx&quot;\r\n        DatabaseUsername = &quot;xxxx&quot;\r\n        DatabasePassword = &quot;xxxx&quot;\r\n    }\r\n    auth {\r\n    } \r\n```\r\n\r\n\r\n\r\n\r\nThen after command gradle azureWebAppDeply I got information about success, but when I tried to reach any endpoint I got 404, even when the app is just 1 controller with a String return type like  below\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;any&quot;)\r\n@CrossOrigin(&quot;*&quot;)\r\npublic class Example {\r\n\r\n    @GetMapping\r\n    public String re() {\r\n        return &quot;Hello world&quot;;\r\n    }\r\n}\r\n```\r\n\r\nCan anyone help me with what to do, to be able to reach endpoints? ","title":"Azure spring app deployment, controller 404 not found","body":"<p>I am trying to deploy spring app on Azure App Service. I added to build.gradle instructions with plugin like below:</p>\n<pre><code>azurewebapp {\n    subscription = 'xxx'\n    resourceGroup = 'xxx'\n    appName = 'xxx'\n    region = 'westus'\n    runtime {\n        os = 'Linux'\n        webContainer = 'Tomcat 10.0'\n        javaVersion = 'Java 17'\n    }\n    appSettings {\n        DatabaseConnectionString = &quot;xxx&quot;\n        DatabaseUsername = &quot;xxxx&quot;\n        DatabasePassword = &quot;xxxx&quot;\n    }\n    auth {\n    } \n</code></pre>\n<p>Then after command gradle azureWebAppDeply I got information about success, but when I tried to reach any endpoint I got 404, even when the app is just 1 controller with a String return type like  below</p>\n<pre><code>@RestController\n@RequestMapping(&quot;any&quot;)\n@CrossOrigin(&quot;*&quot;)\npublic class Example {\n\n    @GetMapping\n    public String re() {\n        return &quot;Hello world&quot;;\n    }\n}\n</code></pre>\n<p>Can anyone help me with what to do, to be able to reach endpoints?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2412607,"reputation":1091,"user_id":2107374,"accept_rate":78,"display_name":"acutesoftware"},"score":0,"creation_date":1403650722,"post_id":24397494,"comment_id":37738095,"body_markdown":"Hi, can you give some information about what happened before that error message occurred?","body":"Hi, can you give some information about what happened before that error message occurred?"},{"owner":{"account_id":4126430,"reputation":11,"user_id":3385461,"display_name":"docaUS"},"score":0,"creation_date":1403654573,"post_id":24397494,"comment_id":37739130,"body_markdown":"first time I run mvn clean install (created .m2) then I got error below: [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.\n3.2:compile (default-compile) on project aopencommon: Compilation failure: Compilation failure:\n[ERROR]\\Users\\dsozer\\Desktop\\MYWORKSPACES\\aRtC611\\common-jar\\src\n\\main\\java\\com\\a\\id\\a_bu\\_1\\ABu.java:[46,8] cannot find symbol\n[ERROR] symbol  : constructor Service(java.net.URL,javax.xml.namespace.QName,jav\nax.xml.ws.WebServiceFeature[])\n[ERROR] location: class javax.xml.ws.Service   errors continue..","body":"first time I run mvn clean install (created .m2) then I got error below: [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2. 3.2:compile (default-compile) on project aopencommon: Compilation failure: Compilation failure: [ERROR]\\Users\\dsozer\\Desktop\\MYWORKSPACES\\aRtC611\\common-jar&zwnj;&#8203;\\src \\main\\java\\com\\a\\id\\a_bu_1\\ABu.java:[46,8] cannot find symbol [ERROR] symbol  : constructor Service(java.net.URL,javax.xml.namespace.QName,jav ax.xml.ws.WebServiceFeature[]) [ERROR] location: class javax.xml.ws.Service   errors continue.."},{"owner":{"account_id":4126430,"reputation":11,"user_id":3385461,"display_name":"docaUS"},"score":0,"creation_date":1403654868,"post_id":24397494,"comment_id":37739196,"body_markdown":"my settings are  echo %JAVA_HOME% C:\\Program Files\\Java\\jdk1.6.0_45 and maven version apache-maven-3.0.5","body":"my settings are  echo %JAVA_HOME% C:\\Program Files\\Java\\jdk1.6.0_45 and maven version apache-maven-3.0.5"},{"owner":{"account_id":4126430,"reputation":11,"user_id":3385461,"display_name":"docaUS"},"score":0,"creation_date":1403655148,"post_id":24397494,"comment_id":37739256,"body_markdown":"i did some research and tried to added &lt;plugins&gt;\n\t\t\t&lt;plugin&gt;\n\t\t\t\t&lt;artifactId&gt;maven-compiler-   plugin&lt;/artifactId&gt;\n\t\t\t\t&lt;configuration&gt;\n\t\t\t\t\t&lt;source&gt;1.6&lt;/source&gt;\n\t\t\t\t\t&lt;target&gt;1.6&lt;/target&gt;\n\t\t\t\t&lt;/configuration&gt;\n\t\t\t&lt;/plugin&gt;\n\t\t&lt;/plugins&gt; it did not worked then i download the maven-compiler-plugin-2.3.2.jar and tried to install it installed successfully ,then i run mvn clean install and got the error in my first post. not sure whats is going on .","body":"i did some research and tried to added &lt;plugins&gt; \t\t\t&lt;plugin&gt; \t\t\t\t&lt;artifactId&gt;maven-compiler-   plugin&lt;/artifactId&gt; \t\t\t\t&lt;configuration&gt; \t\t\t\t\t&lt;source&gt;1.6&lt;/source&gt; \t\t\t\t\t&lt;target&gt;1.6&lt;/target&gt; \t\t\t\t&lt;/configuration&gt; \t\t\t&lt;/plugin&gt; \t\t&lt;/plugins&gt; it did not worked then i download the maven-compiler-plugin-2.3.2.jar and tried to install it installed successfully ,then i run mvn clean install and got the error in my first post. not sure whats is going on ."},{"owner":{"account_id":4126430,"reputation":11,"user_id":3385461,"display_name":"docaUS"},"score":0,"creation_date":1403655311,"post_id":24397494,"comment_id":37739288,"body_markdown":"I also installed 3.1 version of that jar and tried clean install again but did not work either. any help will be appreciated.","body":"I also installed 3.1 version of that jar and tried clean install again but did not work either. any help will be appreciated."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1403658853,"post_id":24397494,"comment_id":37740091,"body_markdown":"try deleting everything from the `.m2/repository/org/apache/maven` dir. Then rebuild your project","body":"try deleting everything from the <code>.m2&#47;repository&#47;org&#47;apache&#47;maven</code> dir. Then rebuild your project"},{"owner":{"account_id":4126430,"reputation":11,"user_id":3385461,"display_name":"docaUS"},"score":0,"creation_date":1403660436,"post_id":24397494,"comment_id":37740419,"body_markdown":"i deleted and got this [ERROR] Failed to execute goal on project amexopencommon: Could not resolve depe\nndencies for project com.acxiom.amex:amexopencommon:jar:0.0.1-SNAPSHOT: Failed t\no collect dependencies for [org.apache.maven.plugins:maven-compiler-plugin:jar:3\n.1 (compile), javax.xml:jaxrpc-api:jar:1.1 (provided), org.jboss.jbossws:jbossws\n-native-core:jar:3.1.1.GA (provided), com.sun.xml.ws:jaxws-rt:jar:2.2 (provided)\n,","body":"i deleted and got this [ERROR] Failed to execute goal on project amexopencommon: Could not resolve depe ndencies for project com.acxiom.amex:amexopencommon:jar:0.0.1-SNAPSHOT: Failed t o collect dependencies for [org.apache.maven.plugins:maven-compiler-plugin:jar:3 .1 (compile), javax.xml:jaxrpc-api:jar:1.1 (provided), org.jboss.jbossws:jbossws -native-core:jar:3.1.1.GA (provided), com.sun.xml.ws:jaxws-rt:jar:2.2 (provided) ,"},{"owner":{"account_id":4126430,"reputation":11,"user_id":3385461,"display_name":"docaUS"},"score":0,"creation_date":1403660458,"post_id":24397494,"comment_id":37740426,"body_markdown":"javax.persistence:persistence-api:jar:1.0 (provided), org.hibernate:hibernate-\ncore:jar:3.6.0.Final (provided), junit:junit:jar:3.8.1 (test), log4j:log4j:jar:1\n.2.16 (provided)]: Failed to read artifact descriptor for org.apache.maven:maven\n-core:jar:2.2.1: Could not transfer artifact org.apache.maven:maven-core:pom:2.2\n.1 from/to central","body":"javax.persistence:persistence-api:jar:1.0 (provided), org.hibernate:hibernate- core:jar:3.6.0.Final (provided), junit:junit:jar:3.8.1 (test), log4j:log4j:jar:1 .2.16 (provided)]: Failed to read artifact descriptor for org.apache.maven:maven -core:jar:2.2.1: Could not transfer artifact org.apache.maven:maven-core:pom:2.2 .1 from/to central"},{"owner":{"account_id":4126430,"reputation":11,"user_id":3385461,"display_name":"docaUS"},"score":0,"creation_date":1403660505,"post_id":24397494,"comment_id":37740439,"body_markdown":"(http://repo.maven.apache.org/maven2): Connection to http://r\nepo.maven.apache.org refused: Connection timed out: connect -&gt; [Help 1]\n[ERROR]","body":"(<a href=\"http://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2</a>): Connection to http://r epo.maven.apache.org refused: Connection timed out: connect -&gt; [Help 1] [ERROR]"}],"answers":[{"tags":[],"owner":{"account_id":3061143,"reputation":1338,"user_id":2593751,"display_name":"Mohannd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404424926,"creation_date":1403657523,"answer_id":24398589,"question_id":24397494,"body_markdown":"try to compile with java 7 or use maven-compiler-plugin-2.1.1 instead \r\n&lt;p&gt;\r\nEdit:\r\nadd to your pom file to override the default compilation \r\n\r\n    &lt;defaultOptions&gt;\r\n    &lt;extraargs&gt;\r\n        &lt;extraarg&gt;-frontend&lt;/extraarg&gt;\r\n        &lt;extraarg&gt;jaxws21&lt;/extraarg&gt;\r\n    &lt;/extraargs&gt;\r\n&lt;/defaultOptions&gt;\r\n\r\n[https://stackoverflow.com/a/17651644/2593751][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17651644/2593751","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2. 3.2:compile (default-compile) on project aopencommon","body":"<p>try to compile with java 7 or use maven-compiler-plugin-2.1.1 instead \n<p>\nEdit:\nadd to your pom file to override the default compilation </p>\n\n<pre><code>&lt;defaultOptions&gt;\n&lt;extraargs&gt;\n    &lt;extraarg&gt;-frontend&lt;/extraarg&gt;\n    &lt;extraarg&gt;jaxws21&lt;/extraarg&gt;\n&lt;/extraargs&gt;\n</code></pre>\n\n<p></p>\n\n<p><a href=\"https://stackoverflow.com/a/17651644/2593751\">https://stackoverflow.com/a/17651644/2593751</a></p>\n"},{"tags":[],"owner":{"account_id":4136851,"reputation":1,"user_id":3393325,"display_name":"user3393325"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427993530,"creation_date":1427989969,"answer_id":29417232,"question_id":24397494,"body_markdown":"See if you have installed the jdk for that go to: `-&gt; Java Build Path -&gt; Libraries`\r\nIf not, download and install it and add it on `Add Library -&gt; JRE System Library -&gt; Alternate JRE: installed JREs -&gt; Add -&gt; Standard VM -&gt; next -&gt; Directory`\r\nIn my case the path is: /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.75-2.5.4.2.fc20.x86_64","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2. 3.2:compile (default-compile) on project aopencommon","body":"<p>See if you have installed the jdk for that go to: <code>-&gt; Java Build Path -&gt; Libraries</code>\nIf not, download and install it and add it on <code>Add Library -&gt; JRE System Library -&gt; Alternate JRE: installed JREs -&gt; Add -&gt; Standard VM -&gt; next -&gt; Directory</code>\nIn my case the path is: /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.75-2.5.4.2.fc20.x86_64</p>\n"},{"tags":[],"owner":{"account_id":9022797,"reputation":2681,"user_id":6723250,"accept_rate":62,"display_name":"xeruf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495884335,"creation_date":1495884335,"answer_id":44216269,"question_id":24397494,"body_markdown":"For anyone coming here today: For me the issue was that the environment variable `JAVA_HOME` was not set. You have to set it to your sdk installation\r\n\r\nHow to do that (assuming you have a jdk installed):\r\n\r\n 1. Win + Pausekey\r\n 2. Click on &quot;Advanced&quot; on the left\r\n 3. Click the &quot;Environment Variables&quot; button\r\n 4. set or create a variable with the name `JAVA_HOME` and set it&#39;s value accordingly - usually something like `C:\\Program Files\\Java\\jdk1.8.0_131`","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2. 3.2:compile (default-compile) on project aopencommon","body":"<p>For anyone coming here today: For me the issue was that the environment variable <code>JAVA_HOME</code> was not set. You have to set it to your sdk installation</p>\n\n<p>How to do that (assuming you have a jdk installed):</p>\n\n<ol>\n<li>Win + Pausekey</li>\n<li>Click on \"Advanced\" on the left</li>\n<li>Click the \"Environment Variables\" button</li>\n<li>set or create a variable with the name <code>JAVA_HOME</code> and set it's value accordingly - usually something like <code>C:\\Program Files\\Java\\jdk1.8.0_131</code></li>\n</ol>\n"}],"owner":{"account_id":4126430,"reputation":11,"user_id":3385461,"display_name":"docaUS"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8429,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1695956760,"creation_date":1403649549,"question_id":24397494,"body_markdown":"    [INFO]  .................................................. SUCCESS [1.166s]\r\n    [INFO] aopencommon .................................... FAILURE [3.797s]\r\n   [INFO] abbuclt ............................ SKIPPED\r\n   .......................... etc all others skipped\r\n   and error below appears\r\n   [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.\r\n3.2:compile (default-compile) on project aopencommon: Compilation failure: Co\r\n    mpilation failure:\r\n    [ERROR] \\Users\\ds\\Desktop\\MYWORKSPACES2\\atime\\common-jar\\src\\main\\jav\r\n    a\\com\\ax\\id\\atec_business\\_1\\ABunes.java:[46,8] cannot find sy\r\n    mbol\r\n    [ERROR] symbol  : constructor Service(java.net.URL,javax.xml.namespace.QName,jav\r\n    ax.xml.ws.WebServiceFeature[])\r\n    [ERROR] location: class javax.xml.ws.Service\r\n    ............................................................ etc..\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.acm.ax&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;aopenall&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\t&lt;name /&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;description /&gt;\r\n\t\r\n\r\n\t&lt;modules&gt;\r\n\t  &lt;module&gt;abusjb-jar&lt;/module&gt;\r\n\t  &lt;module&gt;abusear&lt;/module&gt;\r\n\t  &lt;module&gt;aconejb-jar&lt;/module&gt;\r\n\t  &lt;module&gt;aconear&lt;/module&gt;\r\n\t\t&lt;module&gt;common-jar&lt;/module&gt;\r\n\t\t&lt;module&gt;rerouteservlet-war&lt;/module&gt;\r\n\t\t&lt;module&gt;homevalejb-jar&lt;/module&gt;\r\n\t\t&lt;module&gt;homevalear&lt;/module&gt;\r\n\t\t&lt;module&gt;smallbusejb-jar&lt;/module&gt;\r\n\t\t&lt;module&gt;smallbusear&lt;/module&gt;\r\n\t\t&lt;module&gt;canbusejb-jar&lt;/module&gt;\r\n\t\t&lt;module&gt;canbusear&lt;/module&gt;\r\n\t\t&lt;module&gt;canconejb-jar&lt;/module&gt;\r\n\t\t&lt;module&gt;canconear&lt;/module&gt;\r\n\t\t&lt;module&gt;iscrejb-jar&lt;/module&gt;\r\n\t\t&lt;module&gt;iscrear&lt;/module&gt;\r\n\t\t&lt;module&gt;informaticaclientejb-jar&lt;/module&gt;\r\n\t\t&lt;module&gt;informaticaclientear&lt;/module&gt;\r\n\t\t&lt;module&gt;instantauditejb-jar&lt;/module&gt;\r\n\t\t&lt;module&gt;instantauditear&lt;/module&gt;\r\n\t\t&lt;module&gt;batchlookupservlets-war&lt;/module&gt;\r\n\t\t&lt;module&gt;batchlookupejb-jar&lt;/module&gt;\r\n\t\t&lt;module&gt;batchlookupear&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n\t\r\n\t\r\n\t\r\n&lt;/project&gt;\r\n\r\nbelow is from comman-jar project pom.xml\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;artifactId&gt;aopenall&lt;/artifactId&gt;\r\n\t\t&lt;groupId&gt;com.acm.ax&lt;/groupId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.acm.ax&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;aopencommon&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;aopencommon&lt;/name&gt;\r\n\t\r\n\t\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxrpc-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jboss.jbossws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jbossws-native-core&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.1.GA&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\t  &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.sun.istack&lt;/groupId&gt;        \r\n    \t\t&lt;artifactId&gt;istack-commons-runtime&lt;/artifactId&gt;      \r\n    \t\t&lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\t  \r\n\t  &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.0.Final&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.16&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t\r\n\t\r\n  \r\n&lt;/project&gt;\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2. 3.2:compile (default-compile) on project aopencommon","body":"<pre><code>[INFO]  .................................................. SUCCESS [1.166s]\n[INFO] aopencommon .................................... FAILURE [3.797s]\n</code></pre>\n\n<p>[INFO] abbuclt ............................ SKIPPED\n   .......................... etc all others skipped\n   and error below appears\n   [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.\n3.2:compile (default-compile) on project aopencommon: Compilation failure: Co\n    mpilation failure:\n    [ERROR] \\Users\\ds\\Desktop\\MYWORKSPACES2\\atime\\common-jar\\src\\main\\jav\n    a\\com\\ax\\id\\atec_business_1\\ABunes.java:[46,8] cannot find sy\n    mbol\n    [ERROR] symbol  : constructor Service(java.net.URL,javax.xml.namespace.QName,jav\n    ax.xml.ws.WebServiceFeature[])\n    [ERROR] location: class javax.xml.ws.Service\n    ............................................................ etc..</p>\n\n<p>\nhttp://maven.apache.org/maven-v4_0_0.xsd\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n    4.0.0\n    com.acm.ax\n    aopenall\n    pom\n    \n    0.0.1-SNAPSHOT\n    </p>\n\n<pre><code>&lt;modules&gt;\n  &lt;module&gt;abusjb-jar&lt;/module&gt;\n  &lt;module&gt;abusear&lt;/module&gt;\n  &lt;module&gt;aconejb-jar&lt;/module&gt;\n  &lt;module&gt;aconear&lt;/module&gt;\n    &lt;module&gt;common-jar&lt;/module&gt;\n    &lt;module&gt;rerouteservlet-war&lt;/module&gt;\n    &lt;module&gt;homevalejb-jar&lt;/module&gt;\n    &lt;module&gt;homevalear&lt;/module&gt;\n    &lt;module&gt;smallbusejb-jar&lt;/module&gt;\n    &lt;module&gt;smallbusear&lt;/module&gt;\n    &lt;module&gt;canbusejb-jar&lt;/module&gt;\n    &lt;module&gt;canbusear&lt;/module&gt;\n    &lt;module&gt;canconejb-jar&lt;/module&gt;\n    &lt;module&gt;canconear&lt;/module&gt;\n    &lt;module&gt;iscrejb-jar&lt;/module&gt;\n    &lt;module&gt;iscrear&lt;/module&gt;\n    &lt;module&gt;informaticaclientejb-jar&lt;/module&gt;\n    &lt;module&gt;informaticaclientear&lt;/module&gt;\n    &lt;module&gt;instantauditejb-jar&lt;/module&gt;\n    &lt;module&gt;instantauditear&lt;/module&gt;\n    &lt;module&gt;batchlookupservlets-war&lt;/module&gt;\n    &lt;module&gt;batchlookupejb-jar&lt;/module&gt;\n    &lt;module&gt;batchlookupear&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n\n<p></p>\n\n<p>below is from comman-jar project pom.xml</p>\n\n<p>http://maven.apache.org/maven-v4_0_0.xsd\">\n    \n        aopenall\n        com.acm.ax\n        0.0.1-SNAPSHOT\n    \n    4.0.0\n    com.acm.ax\n    aopencommon\n    jar\n    0.0.1-SNAPSHOT\n    aopencommon</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxrpc-api&lt;/artifactId&gt;\n  &lt;version&gt;1.1&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.jboss.jbossws&lt;/groupId&gt;\n  &lt;artifactId&gt;jbossws-native-core&lt;/artifactId&gt;\n  &lt;version&gt;3.1.1.GA&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n  &lt;dependency&gt;\n  &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n  &lt;version&gt;2.2&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.sun.istack&lt;/groupId&gt;        \n        &lt;artifactId&gt;istack-commons-runtime&lt;/artifactId&gt;      \n        &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n  &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0.Final&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.16&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":769702,"reputation":5530,"user_id":1061193,"accept_rate":83,"display_name":"drum"},"score":0,"creation_date":1695955752,"post_id":77199193,"comment_id":136095494,"body_markdown":"Which line is the error happening?","body":"Which line is the error happening?"},{"owner":{"account_id":25711180,"reputation":1,"user_id":19469668,"display_name":"My God"},"score":0,"creation_date":1695955875,"post_id":77199193,"comment_id":136095504,"body_markdown":"stringTravel = snapshot3.getValue(StringTravel.class);","body":"stringTravel = snapshot3.getValue(StringTravel.class);"},{"owner":{"account_id":769702,"reputation":5530,"user_id":1061193,"accept_rate":83,"display_name":"drum"},"score":0,"creation_date":1695956694,"post_id":77199193,"comment_id":136095539,"body_markdown":"I recommend you use a debugger and step through the code to see what are the actual values","body":"I recommend you use a debugger and step through the code to see what are the actual values"},{"owner":{"account_id":25711180,"reputation":1,"user_id":19469668,"display_name":"My God"},"score":0,"creation_date":1695956782,"post_id":77199193,"comment_id":136095546,"body_markdown":"My minute I did everything and the values are displayed as the one I sent. As if the problem is because it&#39;s a class and doesn&#39;t change and I don&#39;t understand what it has","body":"My minute I did everything and the values are displayed as the one I sent. As if the problem is because it&#39;s a class and doesn&#39;t change and I don&#39;t understand what it has"},{"owner":{"account_id":25711180,"reputation":1,"user_id":19469668,"display_name":"My God"},"score":0,"creation_date":1695957955,"post_id":77199193,"comment_id":136095607,"body_markdown":"I checked again and it always crashes in the first variable of the class no matter which variable","body":"I checked again and it always crashes in the first variable of the class no matter which variable"},{"owner":{"account_id":25711180,"reputation":1,"user_id":19469668,"display_name":"My God"},"score":0,"creation_date":1695966938,"post_id":77199193,"comment_id":136096263,"body_markdown":"hear?\nI tried to enter one by one with each one&#39;s setter and now it doesn&#39;t crash. Something is wrong and I don&#39;t understand what","body":"hear? I tried to enter one by one with each one&#39;s setter and now it doesn&#39;t crash. Something is wrong and I don&#39;t understand what"}],"owner":{"account_id":25711180,"reputation":1,"user_id":19469668,"display_name":"My God"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695956338,"creation_date":1695955008,"question_id":77199193,"body_markdown":"I have a class of variables, I send the class to a database and cannot restore back.\r\n\r\nMyClass:\r\n```\r\n\r\n@IgnoreExtraProperties\r\npublic class StringTravel implements Serializable {\r\n\r\n    @PropertyName(&quot;d_citylocation_p1&quot;)\r\n    public double getD_citylocation_p1() {\r\n        return d_citylocation_p1;\r\n    }\r\n    @PropertyName(&quot;d_citylocation_p1&quot;)\r\n    public void setD_citylocation_p1(double d_citylocation_p1) {\r\n        this.d_citylocation_p1 = d_citylocation_p1;\r\n    }\r\n\r\n    @PropertyName(&quot;d_citylocation_p2&quot;)\r\n    public double getD_citylocation_p2() {\r\n        return d_citylocation_p2;\r\n    }\r\n\r\n    @PropertyName(&quot;d_citylocation_p2&quot;)\r\n    public void setD_citylocation_p2(double d_citylocation_p2) {\r\n        this.d_citylocation_p2 = d_citylocation_p2;\r\n    }\r\n\r\n    @PropertyName(&quot;str_status_sortD&quot;)\r\n    public String getStr_status_sortD() {\r\n        return str_status_sortD;\r\n    }\r\n\r\n    @PropertyName(&quot;str_status_sortD&quot;)\r\n    public void setStr_status_sortD(String str_status_sortD) {\r\n        this.str_status_sortD = str_status_sortD;\r\n    }\r\n\r\n    public double d_citylocation_p1;\r\n    public double d_citylocation_p2;\r\n    public String str_status_sortD;\r\n\r\n    @PropertyName(&quot;phone_driver&quot;)\r\n    public String getPhone_driver() {\r\n        return phone_driver;\r\n    }\r\n\r\n    @PropertyName(&quot;phone_driver&quot;)\r\n    public void setPhone_driver(String phone_driver) {\r\n        this.phone_driver = phone_driver;\r\n    }\r\n\r\n    public String phone_driver;\r\n\r\n\r\n    @PropertyName(&quot;str_name_t&quot;)\r\n    public String getStr_name_t() {\r\n        return str_name_t;\r\n    }\r\n\r\n    @PropertyName(&quot;str_name_t&quot;)\r\n    public void setStr_name_t(String str_name_t) {\r\n        this.str_name_t = str_name_t;\r\n    }\r\n\r\n    public String str_name_t;\r\n}\r\n```\r\n\r\nget data to class:\r\n```\r\n DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Drivers&quot;).child(phone);\r\n        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()){\r\n                    for (DataSnapshot snapshot1 : snapshot.getChildren()){\r\n                        for (DataSnapshot snapshot2 : snapshot1.child(&quot;orders&quot;).getChildren()){\r\n                            for (DataSnapshot snapshot3 : snapshot2.getChildren()){\r\n                                if (snapshot3.exists()) {\r\n                                    assert stringTravel != null;\r\n                                    stringTravel = snapshot3.getValue(StringTravel.class);\r\n\r\n//                                    if (stringTravel!=null)\r\n//                                        Toast.makeText(getContext(), stringTravel.getStr_name_t(), Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n```\r\nThe error that returns me is: &quot;Cauldnt convert type to &quot;MyClass\r\nthis exeption:\r\n```\r\n     com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.ranasd.wears.bottombarClick.ClassStringTravel.StringTravel\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\r\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:202)\r\n        at com.ran.nework.driver.bottombarClick.OrderDriver$1.onDataChange(OrderDriver.java:139)\r\n        at com.google.firebase.database.Query$1.onDataChange(Query.java:191)\r\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:246)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8633)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n```\r\nI checked the class and the database carefully and I saw that they match and are arranged in order and still returns an error.\r\n\r\n\r\n```\r\n\r\norders{\r\njrDe288VQFgiuCTd85Tmk1WUn{\r\nd_citylocation_p1:\r\n20.5545\r\nd_citylocation_p2:\r\n45.5488\r\nstr_city1\r\n:\r\n&quot;yesoo&quot;\r\nstr_city2\r\n:\r\n&quot;govi&quot;\r\nstr_name_t\r\n:\r\n&quot;vior&quot;\r\nphone_driver\r\n:\r\n&quot;51384555757&quot;\r\nstr_rand\r\n:\r\n&quot;jrDe288VQFgiuCTd85Tmk1WUn&quot;\r\nstr_status_sortD\r\n:\r\n&quot;car&quot;\r\n}\r\n}\r\n```","title":"Java android studio error get firebase database to MyClass","body":"<p>I have a class of variables, I send the class to a database and cannot restore back.</p>\n<p>MyClass:</p>\n<pre><code>\n@IgnoreExtraProperties\npublic class StringTravel implements Serializable {\n\n    @PropertyName(&quot;d_citylocation_p1&quot;)\n    public double getD_citylocation_p1() {\n        return d_citylocation_p1;\n    }\n    @PropertyName(&quot;d_citylocation_p1&quot;)\n    public void setD_citylocation_p1(double d_citylocation_p1) {\n        this.d_citylocation_p1 = d_citylocation_p1;\n    }\n\n    @PropertyName(&quot;d_citylocation_p2&quot;)\n    public double getD_citylocation_p2() {\n        return d_citylocation_p2;\n    }\n\n    @PropertyName(&quot;d_citylocation_p2&quot;)\n    public void setD_citylocation_p2(double d_citylocation_p2) {\n        this.d_citylocation_p2 = d_citylocation_p2;\n    }\n\n    @PropertyName(&quot;str_status_sortD&quot;)\n    public String getStr_status_sortD() {\n        return str_status_sortD;\n    }\n\n    @PropertyName(&quot;str_status_sortD&quot;)\n    public void setStr_status_sortD(String str_status_sortD) {\n        this.str_status_sortD = str_status_sortD;\n    }\n\n    public double d_citylocation_p1;\n    public double d_citylocation_p2;\n    public String str_status_sortD;\n\n    @PropertyName(&quot;phone_driver&quot;)\n    public String getPhone_driver() {\n        return phone_driver;\n    }\n\n    @PropertyName(&quot;phone_driver&quot;)\n    public void setPhone_driver(String phone_driver) {\n        this.phone_driver = phone_driver;\n    }\n\n    public String phone_driver;\n\n\n    @PropertyName(&quot;str_name_t&quot;)\n    public String getStr_name_t() {\n        return str_name_t;\n    }\n\n    @PropertyName(&quot;str_name_t&quot;)\n    public void setStr_name_t(String str_name_t) {\n        this.str_name_t = str_name_t;\n    }\n\n    public String str_name_t;\n}\n</code></pre>\n<p>get data to class:</p>\n<pre><code> DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Drivers&quot;).child(phone);\n        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()){\n                    for (DataSnapshot snapshot1 : snapshot.getChildren()){\n                        for (DataSnapshot snapshot2 : snapshot1.child(&quot;orders&quot;).getChildren()){\n                            for (DataSnapshot snapshot3 : snapshot2.getChildren()){\n                                if (snapshot3.exists()) {\n                                    assert stringTravel != null;\n                                    stringTravel = snapshot3.getValue(StringTravel.class);\n\n//                                    if (stringTravel!=null)\n//                                        Toast.makeText(getContext(), stringTravel.getStr_name_t(), Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n</code></pre>\n<p>The error that returns me is: &quot;Cauldnt convert type to &quot;MyClass\nthis exeption:</p>\n<pre><code>     com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.ranasd.wears.bottombarClick.ClassStringTravel.StringTravel\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:202)\n        at com.ran.nework.driver.bottombarClick.OrderDriver$1.onDataChange(OrderDriver.java:139)\n        at com.google.firebase.database.Query$1.onDataChange(Query.java:191)\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:246)\n        at android.app.ActivityThread.main(ActivityThread.java:8633)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n</code></pre>\n<p>I checked the class and the database carefully and I saw that they match and are arranged in order and still returns an error.</p>\n<pre><code>\norders{\njrDe288VQFgiuCTd85Tmk1WUn{\nd_citylocation_p1:\n20.5545\nd_citylocation_p2:\n45.5488\nstr_city1\n:\n&quot;yesoo&quot;\nstr_city2\n:\n&quot;govi&quot;\nstr_name_t\n:\n&quot;vior&quot;\nphone_driver\n:\n&quot;51384555757&quot;\nstr_rand\n:\n&quot;jrDe288VQFgiuCTd85Tmk1WUn&quot;\nstr_status_sortD\n:\n&quot;car&quot;\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-bean"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1695956693,"post_id":77199183,"comment_id":136095538,"body_markdown":"Read the documentation for `@ComponentScan`. Can you think of why using it the way you have would stop your `BankAccount` component from being found?","body":"Read the documentation for <code>@ComponentScan</code>. Can you think of why using it the way you have would stop your <code>BankAccount</code> component from being found?"},{"owner":{"account_id":23791184,"reputation":1,"user_id":17802598,"display_name":"Shawaal Saif"},"score":0,"creation_date":1695957856,"post_id":77199183,"comment_id":136095604,"body_markdown":"I guess its because I&#39;m creating a constructor for BankAccount so spring is getting confused which one I want @tgdavies","body":"I guess its because I&#39;m creating a constructor for BankAccount so spring is getting confused which one I want @tgdavies"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1695958431,"post_id":77199183,"comment_id":136095638,"body_markdown":"&quot;Either basePackageClasses() or basePackages() (or its alias value()) may be specified to define specific packages to scan.&quot; https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html Do you think that `@ComponentScan({&quot;java.math.BigDecimal&quot;})` will scan `com.assessment.bankSimulation.entity`?","body":"&quot;Either basePackageClasses() or basePackages() (or its alias value()) may be specified to define specific packages to scan.&quot; <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a> Do you think that <code>@ComponentScan({&quot;java.math.BigDecimal&quot;})</code> will scan <code>com.assessment.bankSimulation.entity</code>?"},{"owner":{"account_id":23791184,"reputation":1,"user_id":17802598,"display_name":"Shawaal Saif"},"score":0,"creation_date":1695989670,"post_id":77199183,"comment_id":136099950,"body_markdown":"Hi I guess you missed the part where I said **It gave an error to define a bean for &quot;java.math.Bigdecimal&quot;** @tgdavies","body":"Hi I guess you missed the part where I said <b>It gave an error to define a bean for &quot;java.math.Bigdecimal&quot;</b> @tgdavies"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1696029345,"post_id":77199183,"comment_id":136106450,"body_markdown":"No, I didn&#39;t miss that. You want to define several beans, in different packages (defining a bean for `BigDecimal` doesn&#39;t really make sense, but that&#39;s another question)","body":"No, I didn&#39;t miss that. You want to define several beans, in different packages (defining a bean for <code>BigDecimal</code> doesn&#39;t really make sense, but that&#39;s another question)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1696029401,"post_id":77199183,"comment_id":136106456,"body_markdown":"If the point of the exercise if learning about multithreading I wouldn&#39;t use Spring at all.","body":"If the point of the exercise if learning about multithreading I wouldn&#39;t use Spring at all."}],"owner":{"account_id":23791184,"reputation":1,"user_id":17802598,"display_name":"Shawaal Saif"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695955123,"creation_date":1695954731,"question_id":77199183,"body_markdown":"So I&#39;m Trying to make a demo banking app using multithreading. I have 2 classes BankAccount and Customer. I have annotated them both with @Component \r\nHere is the exception im facing.\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.assessment.b`enter code here`ankSimulation.entity.BankAccount&#39; available\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1178)\r\n    \tat com.assessment.bankSimulation.BankSimulationApplication.main(BankSimulationApplication.java:17)\r\n\r\nI have annotated them both with @Component but spring is saying *No qualifying bean for this type available*. I have tried @ComponentScan Annotation as well till of no Use. \r\n\r\n **BankAccount**\r\n\r\n```\r\n@Component\r\npublic class BankAccount {\r\n    private BigDecimal balance;\r\n    private final Lock lock = new ReentrantLock();\r\n\r\n    public BankAccount(BigDecimal initialAmount) {\r\n        this.balance = initialAmount;\r\n    }\r\n\r\n    public BigDecimal getBalance() {\r\n        return balance;\r\n    }\r\n\r\n    public void deposit(BigDecimal amount) {\r\n        lock.lock();\r\n        try {\r\n            balance = balance.add(amount);\r\n            System.out.println(Thread.currentThread().getThreadGroup() + &quot;deposited &quot; + amount + &quot;at &quot; + System.currentTimeMillis());\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\n    public void withDraw(BigDecimal amount) {\r\n        lock.lock();\r\n        try {\r\n            if (balance.compareTo(amount) &gt;= 0) {\r\n                balance = balance.subtract(amount);\r\n                System.out.println(Thread.currentThread().getName() + &quot;withdrew &quot; + amount + &quot;at &quot; + System.currentTimeMillis());\r\n            } else {\r\n                throw new InsufficientBalanceException(Thread.currentThread().getName() + &quot;cant withdraw &quot; + amount + &quot;due to insufficient balance&quot;);\r\n            }\r\n        } finally {\r\n            lock.unlock();\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nIt gave an error to define a bean for &quot;java.math.Bigdecimal&quot; as well by using @ComponentScan I was able to resolve that issue.\r\n\r\n**Main**\r\n```\r\n@ComponentScan({&quot;java.math.BigDecimal&quot;})\r\n@SpringBootApplication\r\npublic class BankSimulationApplication {\r\n\r\n    public static void main(String[] args) {\r\n        ConfigurableApplicationContext context = SpringApplication.run(BankSimulationApplication.class, args);\r\n\r\n        BankAccount bankAccount = context.getBean(BankAccount.class);\r\n        Customer firstCustomer = context.getBean(Customer.class);\r\n        Customer secondCustomer = context.getBean(Customer.class);\r\n        Thread firstThread = new Thread(firstCustomer);\r\n        Thread secondThread = new Thread(secondCustomer);\r\n        firstThread.start();\r\n        secondThread.start();\r\n        try {\r\n            firstThread.join();\r\n            secondThread.join();\r\n        } catch (InterruptedException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\n        System.out.println(&quot;Total Balance = &quot; + bankAccount.getBalance());\r\n    }\r\n\r\n}\r\n```\r\nI have tried @EnableComponentScan annotation as well but I&#39;m still unable to get my head around this.\r\n","title":"No qualifying bean of type &#39;com.assessment.bankSimulation.entity.BankAccount&#39; available","body":"<p>So I'm Trying to make a demo banking app using multithreading. I have 2 classes BankAccount and Customer. I have annotated them both with @Component\nHere is the exception im facing.</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.assessment.b`enter code here`ankSimulation.entity.BankAccount' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1178)\n    at com.assessment.bankSimulation.BankSimulationApplication.main(BankSimulationApplication.java:17)\n</code></pre>\n<p>I have annotated them both with @Component but spring is saying <em>No qualifying bean for this type available</em>. I have tried @ComponentScan Annotation as well till of no Use.</p>\n<p><strong>BankAccount</strong></p>\n<pre><code>@Component\npublic class BankAccount {\n    private BigDecimal balance;\n    private final Lock lock = new ReentrantLock();\n\n    public BankAccount(BigDecimal initialAmount) {\n        this.balance = initialAmount;\n    }\n\n    public BigDecimal getBalance() {\n        return balance;\n    }\n\n    public void deposit(BigDecimal amount) {\n        lock.lock();\n        try {\n            balance = balance.add(amount);\n            System.out.println(Thread.currentThread().getThreadGroup() + &quot;deposited &quot; + amount + &quot;at &quot; + System.currentTimeMillis());\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void withDraw(BigDecimal amount) {\n        lock.lock();\n        try {\n            if (balance.compareTo(amount) &gt;= 0) {\n                balance = balance.subtract(amount);\n                System.out.println(Thread.currentThread().getName() + &quot;withdrew &quot; + amount + &quot;at &quot; + System.currentTimeMillis());\n            } else {\n                throw new InsufficientBalanceException(Thread.currentThread().getName() + &quot;cant withdraw &quot; + amount + &quot;due to insufficient balance&quot;);\n            }\n        } finally {\n            lock.unlock();\n\n        }\n    }\n}\n</code></pre>\n<p>It gave an error to define a bean for &quot;java.math.Bigdecimal&quot; as well by using @ComponentScan I was able to resolve that issue.</p>\n<p><strong>Main</strong></p>\n<pre><code>@ComponentScan({&quot;java.math.BigDecimal&quot;})\n@SpringBootApplication\npublic class BankSimulationApplication {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext context = SpringApplication.run(BankSimulationApplication.class, args);\n\n        BankAccount bankAccount = context.getBean(BankAccount.class);\n        Customer firstCustomer = context.getBean(Customer.class);\n        Customer secondCustomer = context.getBean(Customer.class);\n        Thread firstThread = new Thread(firstCustomer);\n        Thread secondThread = new Thread(secondCustomer);\n        firstThread.start();\n        secondThread.start();\n        try {\n            firstThread.join();\n            secondThread.join();\n        } catch (InterruptedException e) {\n            System.out.println(e.getMessage());\n        }\n\n        System.out.println(&quot;Total Balance = &quot; + bankAccount.getBalance());\n    }\n\n}\n</code></pre>\n<p>I have tried @EnableComponentScan annotation as well but I'm still unable to get my head around this.</p>\n"},{"tags":["java","javassist"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695954813,"post_id":77199178,"comment_id":136095441,"body_markdown":"Try removing `.src.` - it&#39;s unlikely that you `.class` files reside in `src`","body":"Try removing <code>.src.</code> - it&#39;s unlikely that you <code>.class</code> files reside in <code>src</code>"}],"owner":{"account_id":29538651,"reputation":1,"user_id":22637795,"display_name":"coconut123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695954591,"creation_date":1695954591,"question_id":77199178,"body_markdown":"I&#39;ve been trying to learn javassist to be used in a personal project. I am on JDK 11. However, when I attempt to read a class using &lt;code&gt;ctClass.getMethod()&lt;/code&gt;, I get a &lt;code&gt;RuntimeException&lt;/code&gt; that says it cannot find the file, yet I have no toruble doing &lt;code&gt;ClassPool.getDefault()&lt;/code&gt;. This is my code for right now:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n  String base = [absolute path to my project];\r\n        \r\n  ClassPool pool = ClassPool.getDefault();\r\n\r\n  pool.insertClassPath(base);\r\n        \r\n  CtClass ctClass = pool.get(&quot;.src.main.java.Fibonacci&quot;);\r\n\r\n  CtMethod[] ctMethods = ctClass.getMethods();\r\n\r\n}\r\n```\r\n\r\nThis is what Fibonacci looks like.\r\n\r\n\r\n```\r\npublic class Fibonacci {\r\n\r\n    public int Fib(int i) {\r\n        if (i &lt;= 1) return 1;\r\n        return Fib(i - 1) + Fib(i - 2);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis is the current exception that happens at &lt;code&gt;CtMethod[] ctMethods = ctClass.getMethods();&lt;/code&gt;\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: cannot find .src.main.java.Fibonacci: Fibonacci found in /src/main/java/Fibonacci.class\r\n\tat javassist.CtClassType.getClassFile3(CtClassType.java:208)\r\n\tat javassist.CtClassType.getClassFile2(CtClassType.java:173)\r\n\tat javassist.CtClassType.getInterfaces(CtClassType.java:763)\r\n\tat javassist.CtClassType.getMethods0(CtClassType.java:1161)\r\n\tat javassist.CtClassType.getMethods(CtClassType.java:1155)\r\n\tat Test_1.main(Test_1.java:18)\r\n```\r\nWhat am I doing wrong or what else do I have to include?\r\nThank you.\r\n\r\n\r\nI&#39;ve made sure the Fibonacci.java has been compiled, I also tried other methods from &lt;code&gt;ctClass&lt;/code&gt; such as &lt;code&gt;ctClass.getDeclaredMethod(&quot;Fib&quot;);&lt;/code&gt; which gives the same issue.","title":"javassist: issue with getMethods()","body":"<p>I've been trying to learn javassist to be used in a personal project. I am on JDK 11. However, when I attempt to read a class using <code>ctClass.getMethod()</code>, I get a <code>RuntimeException</code> that says it cannot find the file, yet I have no toruble doing <code>ClassPool.getDefault()</code>. This is my code for right now:</p>\n<pre><code>public static void main(String[] args) {\n\n  String base = [absolute path to my project];\n        \n  ClassPool pool = ClassPool.getDefault();\n\n  pool.insertClassPath(base);\n        \n  CtClass ctClass = pool.get(&quot;.src.main.java.Fibonacci&quot;);\n\n  CtMethod[] ctMethods = ctClass.getMethods();\n\n}\n</code></pre>\n<p>This is what Fibonacci looks like.</p>\n<pre><code>public class Fibonacci {\n\n    public int Fib(int i) {\n        if (i &lt;= 1) return 1;\n        return Fib(i - 1) + Fib(i - 2);\n    }\n}\n</code></pre>\n<p>This is the current exception that happens at <code>CtMethod[] ctMethods = ctClass.getMethods();</code></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: cannot find .src.main.java.Fibonacci: Fibonacci found in /src/main/java/Fibonacci.class\n    at javassist.CtClassType.getClassFile3(CtClassType.java:208)\n    at javassist.CtClassType.getClassFile2(CtClassType.java:173)\n    at javassist.CtClassType.getInterfaces(CtClassType.java:763)\n    at javassist.CtClassType.getMethods0(CtClassType.java:1161)\n    at javassist.CtClassType.getMethods(CtClassType.java:1155)\n    at Test_1.main(Test_1.java:18)\n</code></pre>\n<p>What am I doing wrong or what else do I have to include?\nThank you.</p>\n<p>I've made sure the Fibonacci.java has been compiled, I also tried other methods from <code>ctClass</code> such as <code>ctClass.getDeclaredMethod(&quot;Fib&quot;);</code> which gives the same issue.</p>\n"},{"tags":["java","spring","jsp"],"comments":[{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1695959879,"post_id":77199143,"comment_id":136095735,"body_markdown":"inc10 or imc10?","body":"inc10 or imc10?"},{"owner":{"account_id":8362494,"reputation":41,"user_id":6280296,"display_name":"SYED WASEEM AHMED"},"score":0,"creation_date":1695964565,"post_id":77199143,"comment_id":136096041,"body_markdown":"sorry for mistake imc10","body":"sorry for mistake imc10"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1696432838,"post_id":77199143,"comment_id":136152849,"body_markdown":"Please check the screenshot, imc10 is set to the root path. You said its not. Vice-versa you said in the text that the JSESSIONID is set to the root-path but the screenshot is different. I think your question contradicts your question.","body":"Please check the screenshot, imc10 is set to the root path. You said its not. Vice-versa you said in the text that the JSESSIONID is set to the root-path but the screenshot is different. I think your question contradicts your question."}],"owner":{"account_id":8362494,"reputation":41,"user_id":6280296,"display_name":"SYED WASEEM AHMED"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695954498,"creation_date":1695953716,"question_id":77199143,"body_markdown":" In spring MVC application the cookie attribute- path is set to root(/) and should be configured with the cookie attribute path to a specific domain path.\r\n\r\nIn web.xml file made the below changes. But still issue is not resolved. jsessionid is set to the root path, but another cookie with name inc10 is not set to root path. Kindly help. \r\n\r\n    &lt;session-config&gt;\r\n       &lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n       &lt;cookie-config&gt;\r\n          &lt;path&gt;/MyApp&lt;/path&gt;\r\n          &lt;http-only&gt;true&lt;/http-only&gt;\r\n         &lt;secure&gt;false&lt;/secure&gt;\r\n       &lt;/cookie-config&gt;\r\n       &lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\r\n    &lt;/session-config&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UgYOE.png","title":"Inadequate cookie attributes in spring application","body":"<p>In spring MVC application the cookie attribute- path is set to root(/) and should be configured with the cookie attribute path to a specific domain path.</p>\n<p>In web.xml file made the below changes. But still issue is not resolved. jsessionid is set to the root path, but another cookie with name inc10 is not set to root path. Kindly help.</p>\n<pre><code>&lt;session-config&gt;\n   &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n   &lt;cookie-config&gt;\n      &lt;path&gt;/MyApp&lt;/path&gt;\n      &lt;http-only&gt;true&lt;/http-only&gt;\n     &lt;secure&gt;false&lt;/secure&gt;\n   &lt;/cookie-config&gt;\n   &lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\n&lt;/session-config&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UgYOE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UgYOE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","pythagorean","triangle"],"answers":[{"tags":[],"owner":{"account_id":28879583,"reputation":38,"user_id":22119330,"display_name":"Ahmad Abdallah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695951847,"creation_date":1695951847,"answer_id":77199074,"question_id":77199034,"body_markdown":"It never prints &quot;Lines cannot form a triangle&quot; because the condition you provided, \r\n\r\n    b + c &gt; a || a + c &gt; b || b + a &gt; c\r\n\r\nis always True, so the else statement will never be called. \r\n\r\nThe Triangle Inequality Theorem states: The sum of the lengths of any two sides of a triangle must be greater than the length of the third side.\r\n\r\nSo to correctly check for this we need the three conditions you listed above to be satisfied at once, meaning we use AND (&amp;&amp;) instead of OR (||)\r\n\r\n    b + c &gt; a &amp;&amp; a + c &gt; b &amp;&amp; b + a &gt; c\r\n\r\nAlso, a single equal sign (=) assigns your expression to the variable on the left, you want to check equality which is done with the double equal sign, so as you said, replace the = signs in your if statement with ==\r\n\r\n\r\n    a1 == c1 + b1 || b1 == a1 + c1 || c1 == a1 + b1","title":"I am trying to compile this code in order to determine if a triangle can be formed using pythagorean theorem","body":"<p>It never prints &quot;Lines cannot form a triangle&quot; because the condition you provided,</p>\n<pre><code>b + c &gt; a || a + c &gt; b || b + a &gt; c\n</code></pre>\n<p>is always True, so the else statement will never be called.</p>\n<p>The Triangle Inequality Theorem states: The sum of the lengths of any two sides of a triangle must be greater than the length of the third side.</p>\n<p>So to correctly check for this we need the three conditions you listed above to be satisfied at once, meaning we use AND (&amp;&amp;) instead of OR (||)</p>\n<pre><code>b + c &gt; a &amp;&amp; a + c &gt; b &amp;&amp; b + a &gt; c\n</code></pre>\n<p>Also, a single equal sign (=) assigns your expression to the variable on the left, you want to check equality which is done with the double equal sign, so as you said, replace the = signs in your if statement with ==</p>\n<pre><code>a1 == c1 + b1 || b1 == a1 + c1 || c1 == a1 + b1\n</code></pre>\n"}],"owner":{"account_id":29559260,"reputation":1,"user_id":22654187,"display_name":"Raleigh Brecht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695954061,"creation_date":1695950803,"question_id":77199034,"body_markdown":"\r\n    /*This program determines whether a triangle can be formed and whether it is a right triangle or not*/\r\n    import java.util.Scanner;\r\n\r\n    public class TriangleFormation {\r\n        //Function to calculate for validity\r\n        public static void main(String[] args) {\r\n            java.util.Scanner input = new java.util.Scanner(System.in);\r\n\r\n            System.out.println(&quot;Enter length of line 1: &quot;);\r\n            double a = input.nextDouble();\r\n\r\n            System.out.println(&quot;Enter length of line 2: &quot;);\r\n            double b = input.nextDouble();\r\n\r\n            System.out.println(&quot;Enter length of line 3: &quot;);\r\n            double c = input.nextDouble();\r\n\r\n            double a1 = a * a;\r\n            double b1 = b * b;\r\n            double c1 = c * c;\r\n\r\n            if (b + c &gt; a || a + c &gt; b || b + a &gt; c) {\r\n                System.out.println(&quot;Lines can form a triangle&quot;);\r\n                if (a1 = c1 + b1 || b1 = a1 + c1 || c1 = a1 + b1) {\r\n                    System.out.println(&quot;It is a right triangle&quot;);\r\n                } else {\r\n                    System.out.println(&quot;It is not a right triangle&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Lines cannot form a triangle&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\nConverting = to == makes the code work except entering any integers just results in this:\r\nEnter length of line 1: Int1\r\nEnter length of line 2: Int2\r\nEnter length of line 3: Int3\r\nLines can form a triangle\r\nIt is not a right triangle\r\n\r\nNot once does entering any three numbers print the line &quot;Lines cannot form a triangle&quot;.\r\nI want my code to produce what&#39;s shown in the image. Much help would be appreciated. Please and thank you.","title":"I am trying to compile this code in order to determine if a triangle can be formed using pythagorean theorem","body":"<pre><code>/*This program determines whether a triangle can be formed and whether it is a right triangle or not*/\nimport java.util.Scanner;\n\npublic class TriangleFormation {\n    //Function to calculate for validity\n    public static void main(String[] args) {\n        java.util.Scanner input = new java.util.Scanner(System.in);\n\n        System.out.println(&quot;Enter length of line 1: &quot;);\n        double a = input.nextDouble();\n\n        System.out.println(&quot;Enter length of line 2: &quot;);\n        double b = input.nextDouble();\n\n        System.out.println(&quot;Enter length of line 3: &quot;);\n        double c = input.nextDouble();\n\n        double a1 = a * a;\n        double b1 = b * b;\n        double c1 = c * c;\n\n        if (b + c &gt; a || a + c &gt; b || b + a &gt; c) {\n            System.out.println(&quot;Lines can form a triangle&quot;);\n            if (a1 = c1 + b1 || b1 = a1 + c1 || c1 = a1 + b1) {\n                System.out.println(&quot;It is a right triangle&quot;);\n            } else {\n                System.out.println(&quot;It is not a right triangle&quot;);\n            }\n        } else {\n            System.out.println(&quot;Lines cannot form a triangle&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Converting = to == makes the code work except entering any integers just results in this:\nEnter length of line 1: Int1\nEnter length of line 2: Int2\nEnter length of line 3: Int3\nLines can form a triangle\nIt is not a right triangle</p>\n<p>Not once does entering any three numbers print the line &quot;Lines cannot form a triangle&quot;.\nI want my code to produce what's shown in the image. Much help would be appreciated. Please and thank you.</p>\n"},{"tags":["java","swing","mouselistener"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1402454344,"post_id":24153800,"comment_id":37275369,"body_markdown":"You never add your mouse listener to anything...","body":"You never add your mouse listener to anything..."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1402454717,"post_id":24153800,"comment_id":37275440,"body_markdown":"Welcome to Stack Overflow! Consider providing an actual [runnable example that demonstrates your problem](https://stackoverflow.com/help/mcve) would involve less guess work and better responses","body":"Welcome to Stack Overflow! Consider providing an actual <a href=\"https://stackoverflow.com/help/mcve\">runnable example that demonstrates your problem</a> would involve less guess work and better responses"},{"owner":{"account_id":4596385,"reputation":1,"user_id":3728303,"display_name":"Hunter"},"score":0,"creation_date":1402454850,"post_id":24153800,"comment_id":37275478,"body_markdown":"addMouseListener, right? Would I add it inside the class or outside?","body":"addMouseListener, right? Would I add it inside the class or outside?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1402455132,"post_id":24153800,"comment_id":37275539,"body_markdown":"Without any more context, it&#39;s difficult to know where or when it should be added","body":"Without any more context, it&#39;s difficult to know where or when it should be added"}],"answers":[{"tags":[],"owner":{"account_id":2500239,"reputation":3969,"user_id":2175572,"accept_rate":93,"display_name":"t3dodson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402456302,"creation_date":1402455048,"answer_id":24153901,"question_id":24153800,"body_markdown":"Here&#39;s a relevant question from Stack Overflow https://stackoverflow.com/questions/8439086/mouse-moved-event-within-jpanel\r\n\r\nI&#39;d recommend once you ensure that triggers are being correctly listened to (try printing &quot;Hello World&quot;) From there you need to get the communication of the color state within the mouse event. If everything is within the same instance you can just access the variables needed within the event listener.\r\n\r\nHere are the docs on MouseEvent http://docs.oracle.com/javase/7/docs/api/java/awt/event/MouseEvent.html\r\n\r\nMake sure you added the mouse listener try the following\r\n\r\n    panel.addMouseListener(new RedMouseListener());\r\n\r\nstart simple making the following work\r\n\r\n\r\n    public void mouseEntered(MouseEvent event) \r\n    { \r\n        System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n\r\n\r\nif you need to access the color of the panel within the event listener try the following snippet\r\n\r\n    panel.getBackground();\r\n\r\nThis returns a Color object.\r\n\r\n\r\nIts worth mentioning the extra class declaration can be avoided by using an anonymous inner class. see https://stackoverflow.com/questions/355167/how-are-anonymous-inner-classes-used-in-java These overridden methods are essentially a sub class of MouseListener but we don&#39;t need to call it by name.\r\n\r\n   \r\n    panel.addMouseListener(new MouseListener(){\t\r\n\t\t@Override\r\n\t\tpublic void mouseReleased(MouseEvent e) {}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void mousePressed(MouseEvent e) {}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void mouseExited(MouseEvent e) {}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void mouseEntered(MouseEvent e) {}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void mouseClicked(MouseEvent e) {}\r\n\t});","title":"mouseEntered and mouseExited method questions","body":"<p>Here's a relevant question from Stack Overflow <a href=\"https://stackoverflow.com/questions/8439086/mouse-moved-event-within-jpanel\">Mouse moved event within JPanel</a></p>\n\n<p>I'd recommend once you ensure that triggers are being correctly listened to (try printing \"Hello World\") From there you need to get the communication of the color state within the mouse event. If everything is within the same instance you can just access the variables needed within the event listener.</p>\n\n<p>Here are the docs on MouseEvent <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/event/MouseEvent.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/awt/event/MouseEvent.html</a></p>\n\n<p>Make sure you added the mouse listener try the following</p>\n\n<pre><code>panel.addMouseListener(new RedMouseListener());\n</code></pre>\n\n<p>start simple making the following work</p>\n\n<pre><code>public void mouseEntered(MouseEvent event) \n{ \n    System.out.println(\"Hello World!\");\n}\n</code></pre>\n\n<p>if you need to access the color of the panel within the event listener try the following snippet</p>\n\n<pre><code>panel.getBackground();\n</code></pre>\n\n<p>This returns a Color object.</p>\n\n<p>Its worth mentioning the extra class declaration can be avoided by using an anonymous inner class. see <a href=\"https://stackoverflow.com/questions/355167/how-are-anonymous-inner-classes-used-in-java\">How are Anonymous (inner) classes used in Java?</a> These overridden methods are essentially a sub class of MouseListener but we don't need to call it by name.</p>\n\n<pre><code>panel.addMouseListener(new MouseListener(){ \n    @Override\n    public void mouseReleased(MouseEvent e) {}\n\n    @Override\n    public void mousePressed(MouseEvent e) {}\n\n    @Override\n    public void mouseExited(MouseEvent e) {}\n\n    @Override\n    public void mouseEntered(MouseEvent e) {}\n\n    @Override\n    public void mouseClicked(MouseEvent e) {}\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641149774,"creation_date":1641149774,"answer_id":70558860,"question_id":24153800,"body_markdown":"# Introduction\r\n\r\nSince this is such an old question, I thought I&#39;d put together a simple Swing GUI to illustrate how a `MouseListener` works.\r\n\r\nHere&#39;s the GUI before I do anything.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe main panel in the center will take on the selector color when the mouse is moved into the selection area.  The main panel will return to it&#39;s original color when the mouse is moved out of the selection area.\r\n\r\nHere&#39;s the GUI when my mouse is in the blue selection area.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n# Explanation\r\n\r\nIf you&#39;re not familiar with Java Swing, Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) sections.\r\n\r\nWhen I create a Swing GUI, I use the [model/view/controller][3] (MVC) pattern.  This pattern allows me to separate my concerns and focus on one part of the application at a time.\r\n\r\nThe MVC pattern implies that you create the model first, then the view, then the controller.  This is more of an iterative process than a waterfall.\r\n\r\nIn Java Swing, the MVC pattern means:\r\n\r\n1.  The view reads information from the model.\r\n2.  The view may not update the model.\r\n3.  The controller updates the model and repaints / revalidates the view.\r\n\r\nThe model consists of one or more plain Java getter/setter classes.\r\n\r\nThe view consists of a `JFrame` and however many `JPanels` it takes to create the GUI.\r\n\r\nThere&#39;s usually not one controller &quot;to rule them all&quot;.  Each listener acts as an independent controller to manage its part of the model and view.\r\n\r\nThis is a simple application, so it consists of two model classes, one view class, and one controller class.  The model is not updated at all in this example.\r\n\r\nI did not code this entire application at one time.  I wrote a few lines of code and ran tests.  I made lots of changes to the code before I was satisfied with how it worked.\r\n\r\n## Model\r\n\r\nThe `ColorSelection` class is a plain Java getter/setter class that holds the color name, background color, and foreground color.\r\n\r\nThe `MouseMovementModel` class is a plain Java getter/setter class that holds the `ColorSelection` instances.  The GUI builds the selection `JPanel` based on this information.  If you want to add another selection color, you would add it here.\r\n\r\n## View\r\n\r\nThe view consists of a `JFrame`, a selection `JPanel`, and the main `JPanel`.\r\n\r\nThe `JFrame` has a default `BorderLayout`.  The selection `JPanel` goes into the NORTH section and the main `JPanel` goes into the CENTER section.  Only one component can be placed in a section.  That component is usually a `JPanel`.\r\n\r\nThe selection `JPanel` uses a `FlowLayout` to hold the color selection `JPanels`.  The color selection `JPanels` are created based on the number of `ColorSelection` instances in the application model.\r\n\r\nA color selection `JPanel` is a simple `JPanel` created to use the information from a `ColorSelection` instance.\r\n\r\nThe main `JPanel` is a simple `JPanel` that will show a background color.  The controller will be responsible for changing the background color.\r\n\r\n## Controller\r\n\r\nThe `ColorListener` class extends a `MouseAdapter`.  The `MouseAdapter` class implements the `MouseListener`, `MouseMotionListener`, and `MouseWheelListener` interfaces. Using the `MouseAdapter` class allows me to implement just the mouse listener methods I&#39;m writing code for. \r\n\r\nThe `mouseEntered` method sets the main `JPanel` to the `ColorSelection` color.  The code is really simple.  It updates the view with the `ColorSelection` background color.\r\n\r\nThe `mouseExited` method sets the main `JPanel` back to its original color.\r\n\r\n# Code\r\n\r\nHere&#39;s the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Font;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class MouseMovementExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new MouseMovementExample());\r\n    \t}\r\n    \t\r\n    \tprivate final JPanel mainPanel;\r\n    \tprivate final JPanel[] colorPanel;\r\n    \t\r\n    \tprivate final MouseMovementModel model;\r\n    \t\r\n    \tpublic MouseMovementExample() {\r\n    \t\tthis.model = new MouseMovementModel();\r\n    \t\tthis.mainPanel = createMainPanel();\r\n    \t\tthis.colorPanel = new JPanel[model.getSelections().length];\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Mouse Movement Example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createSelectionPanel(), BorderLayout.NORTH);\r\n    \t\tframe.add(mainPanel, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createSelectionPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\r\n    \t\tColorSelection[] selections = model.getSelections();\r\n    \t\t\r\n    \t\tfor (int index = 0; index &lt; selections.length; index++) {\r\n    \t\t\tColorSelection selection = selections[index];\r\n    \t\t\tColorListener listener = new ColorListener(this, selection);\r\n    \t\t\tcolorPanel[index] = createColorPanel(selection, listener);\r\n    \t\t\tpanel.add(colorPanel[index]);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createColorPanel(ColorSelection selection, ColorListener listener) {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\tpanel.setBackground(selection.getBackgroundColor());\r\n    \t\tpanel.addMouseListener(listener);\r\n    \t\tpanel.setPreferredSize(new Dimension(200, 100));\r\n    \t\t\r\n    \t\tJLabel label = new JLabel(selection.getColorName());\r\n    \t\tlabel.setFont(panel.getFont().deriveFont(Font.BOLD, 36f));\r\n    \t\tlabel.setForeground(selection.getForegroundColor());\r\n    \t\tlabel.setHorizontalAlignment(JLabel.CENTER);\r\n    \t\tpanel.add(label, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.setPreferredSize(new Dimension(200, 200));\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tpublic Color getMainPanelBackground() {\r\n    \t\treturn this.mainPanel.getBackground();\r\n    \t}\r\n    \t\r\n    \tpublic void setMainPanelBackground(Color color) {\r\n    \t\tthis.mainPanel.setBackground(color);\r\n    \t}\r\n    \t\r\n    \tpublic class ColorListener extends MouseAdapter {\r\n    \t\t\r\n    \t\tprivate final Color originalBackgroundColor;\r\n    \t\t\r\n    \t\tprivate final ColorSelection selection;\r\n    \t\t\r\n    \t\tprivate final MouseMovementExample view;\r\n    \r\n    \t\tpublic ColorListener(MouseMovementExample view, ColorSelection selection) {\r\n    \t\t\tthis.view = view;\r\n    \t\t\tthis.selection = selection;\r\n    \t\t\tthis.originalBackgroundColor = view.getMainPanelBackground();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void mouseEntered(MouseEvent e) {\r\n    \t\t\tview.setMainPanelBackground(selection.getBackgroundColor());\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void mouseExited(MouseEvent e) {\r\n    \t\t\tview.setMainPanelBackground(originalBackgroundColor);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class MouseMovementModel {\r\n    \t\t\r\n    \t\tprivate final ColorSelection[] selections;\r\n    \t\t\r\n    \t\tpublic MouseMovementModel() {\r\n    \t\t\tthis.selections = new ColorSelection[3];\r\n    \t\t\t\r\n    \t\t\tthis.selections[0] = new ColorSelection(&quot;Red&quot;, Color.RED, Color.WHITE);\r\n    \t\t\tthis.selections[1] = new ColorSelection(&quot;Green&quot;, Color.GREEN, Color.BLACK);\r\n    \t\t\tthis.selections[2] = new ColorSelection(&quot;Blue&quot;, Color.BLUE, Color.WHITE);\r\n    \t\t}\r\n    \r\n    \t\tpublic ColorSelection[] getSelections() {\r\n    \t\t\treturn selections;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class ColorSelection {\r\n    \t\t\r\n    \t\tprivate final Color backgroundColor, foregroundColor;\r\n    \t\t\r\n    \t\tprivate final String colorName;\r\n    \r\n    \t\tpublic ColorSelection(String colorName, Color backgroundColor, Color foregroundColor) {\r\n    \t\t\tthis.colorName = colorName;\r\n    \t\t\tthis.backgroundColor = backgroundColor;\r\n    \t\t\tthis.foregroundColor = foregroundColor;\r\n    \t\t}\r\n    \r\n    \t\tpublic Color getBackgroundColor() {\r\n    \t\t\treturn backgroundColor;\r\n    \t\t}\r\n    \r\n    \t\tpublic Color getForegroundColor() {\r\n    \t\t\treturn foregroundColor;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getColorName() {\r\n    \t\t\treturn colorName;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n \r\n  [1]: https://i.stack.imgur.com/Izvf8.png\r\n  [2]: https://i.stack.imgur.com/nkC9J.png\r\n  [3]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n","title":"mouseEntered and mouseExited method questions","body":"<h1>Introduction</h1>\n<p>Since this is such an old question, I thought I'd put together a simple Swing GUI to illustrate how a <code>MouseListener</code> works.</p>\n<p>Here's the GUI before I do anything.</p>\n<p><a href=\"https://i.stack.imgur.com/Izvf8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Izvf8.png\" alt=\"enter image description here\" /></a></p>\n<p>The main panel in the center will take on the selector color when the mouse is moved into the selection area.  The main panel will return to it's original color when the mouse is moved out of the selection area.</p>\n<p>Here's the GUI when my mouse is in the blue selection area.</p>\n<p><a href=\"https://i.stack.imgur.com/nkC9J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nkC9J.png\" alt=\"enter image description here\" /></a></p>\n<h1>Explanation</h1>\n<p>If you're not familiar with Java Swing, Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> sections.</p>\n<p>When I create a Swing GUI, I use the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model/view/controller</a> (MVC) pattern.  This pattern allows me to separate my concerns and focus on one part of the application at a time.</p>\n<p>The MVC pattern implies that you create the model first, then the view, then the controller.  This is more of an iterative process than a waterfall.</p>\n<p>In Java Swing, the MVC pattern means:</p>\n<ol>\n<li>The view reads information from the model.</li>\n<li>The view may not update the model.</li>\n<li>The controller updates the model and repaints / revalidates the view.</li>\n</ol>\n<p>The model consists of one or more plain Java getter/setter classes.</p>\n<p>The view consists of a <code>JFrame</code> and however many <code>JPanels</code> it takes to create the GUI.</p>\n<p>There's usually not one controller &quot;to rule them all&quot;.  Each listener acts as an independent controller to manage its part of the model and view.</p>\n<p>This is a simple application, so it consists of two model classes, one view class, and one controller class.  The model is not updated at all in this example.</p>\n<p>I did not code this entire application at one time.  I wrote a few lines of code and ran tests.  I made lots of changes to the code before I was satisfied with how it worked.</p>\n<h2>Model</h2>\n<p>The <code>ColorSelection</code> class is a plain Java getter/setter class that holds the color name, background color, and foreground color.</p>\n<p>The <code>MouseMovementModel</code> class is a plain Java getter/setter class that holds the <code>ColorSelection</code> instances.  The GUI builds the selection <code>JPanel</code> based on this information.  If you want to add another selection color, you would add it here.</p>\n<h2>View</h2>\n<p>The view consists of a <code>JFrame</code>, a selection <code>JPanel</code>, and the main <code>JPanel</code>.</p>\n<p>The <code>JFrame</code> has a default <code>BorderLayout</code>.  The selection <code>JPanel</code> goes into the NORTH section and the main <code>JPanel</code> goes into the CENTER section.  Only one component can be placed in a section.  That component is usually a <code>JPanel</code>.</p>\n<p>The selection <code>JPanel</code> uses a <code>FlowLayout</code> to hold the color selection <code>JPanels</code>.  The color selection <code>JPanels</code> are created based on the number of <code>ColorSelection</code> instances in the application model.</p>\n<p>A color selection <code>JPanel</code> is a simple <code>JPanel</code> created to use the information from a <code>ColorSelection</code> instance.</p>\n<p>The main <code>JPanel</code> is a simple <code>JPanel</code> that will show a background color.  The controller will be responsible for changing the background color.</p>\n<h2>Controller</h2>\n<p>The <code>ColorListener</code> class extends a <code>MouseAdapter</code>.  The <code>MouseAdapter</code> class implements the <code>MouseListener</code>, <code>MouseMotionListener</code>, and <code>MouseWheelListener</code> interfaces. Using the <code>MouseAdapter</code> class allows me to implement just the mouse listener methods I'm writing code for.</p>\n<p>The <code>mouseEntered</code> method sets the main <code>JPanel</code> to the <code>ColorSelection</code> color.  The code is really simple.  It updates the view with the <code>ColorSelection</code> background color.</p>\n<p>The <code>mouseExited</code> method sets the main <code>JPanel</code> back to its original color.</p>\n<h1>Code</h1>\n<p>Here's the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class MouseMovementExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new MouseMovementExample());\n    }\n    \n    private final JPanel mainPanel;\n    private final JPanel[] colorPanel;\n    \n    private final MouseMovementModel model;\n    \n    public MouseMovementExample() {\n        this.model = new MouseMovementModel();\n        this.mainPanel = createMainPanel();\n        this.colorPanel = new JPanel[model.getSelections().length];\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Mouse Movement Example&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createSelectionPanel(), BorderLayout.NORTH);\n        frame.add(mainPanel, BorderLayout.CENTER);\n        \n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    private JPanel createSelectionPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        \n        ColorSelection[] selections = model.getSelections();\n        \n        for (int index = 0; index &lt; selections.length; index++) {\n            ColorSelection selection = selections[index];\n            ColorListener listener = new ColorListener(this, selection);\n            colorPanel[index] = createColorPanel(selection, listener);\n            panel.add(colorPanel[index]);\n        }\n        \n        return panel;\n    }\n    \n    private JPanel createColorPanel(ColorSelection selection, ColorListener listener) {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBackground(selection.getBackgroundColor());\n        panel.addMouseListener(listener);\n        panel.setPreferredSize(new Dimension(200, 100));\n        \n        JLabel label = new JLabel(selection.getColorName());\n        label.setFont(panel.getFont().deriveFont(Font.BOLD, 36f));\n        label.setForeground(selection.getForegroundColor());\n        label.setHorizontalAlignment(JLabel.CENTER);\n        panel.add(label, BorderLayout.CENTER);\n        \n        return panel;\n    }\n    \n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel();\n        panel.setPreferredSize(new Dimension(200, 200));\n        \n        return panel;\n    }\n    \n    public Color getMainPanelBackground() {\n        return this.mainPanel.getBackground();\n    }\n    \n    public void setMainPanelBackground(Color color) {\n        this.mainPanel.setBackground(color);\n    }\n    \n    public class ColorListener extends MouseAdapter {\n        \n        private final Color originalBackgroundColor;\n        \n        private final ColorSelection selection;\n        \n        private final MouseMovementExample view;\n\n        public ColorListener(MouseMovementExample view, ColorSelection selection) {\n            this.view = view;\n            this.selection = selection;\n            this.originalBackgroundColor = view.getMainPanelBackground();\n        }\n\n        @Override\n        public void mouseEntered(MouseEvent e) {\n            view.setMainPanelBackground(selection.getBackgroundColor());\n        }\n\n        @Override\n        public void mouseExited(MouseEvent e) {\n            view.setMainPanelBackground(originalBackgroundColor);\n        }\n        \n    }\n    \n    public class MouseMovementModel {\n        \n        private final ColorSelection[] selections;\n        \n        public MouseMovementModel() {\n            this.selections = new ColorSelection[3];\n            \n            this.selections[0] = new ColorSelection(&quot;Red&quot;, Color.RED, Color.WHITE);\n            this.selections[1] = new ColorSelection(&quot;Green&quot;, Color.GREEN, Color.BLACK);\n            this.selections[2] = new ColorSelection(&quot;Blue&quot;, Color.BLUE, Color.WHITE);\n        }\n\n        public ColorSelection[] getSelections() {\n            return selections;\n        }\n        \n    }\n    \n    public class ColorSelection {\n        \n        private final Color backgroundColor, foregroundColor;\n        \n        private final String colorName;\n\n        public ColorSelection(String colorName, Color backgroundColor, Color foregroundColor) {\n            this.colorName = colorName;\n            this.backgroundColor = backgroundColor;\n            this.foregroundColor = foregroundColor;\n        }\n\n        public Color getBackgroundColor() {\n            return backgroundColor;\n        }\n\n        public Color getForegroundColor() {\n            return foregroundColor;\n        }\n\n        public String getColorName() {\n            return colorName;\n        }\n        \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4596385,"reputation":1,"user_id":3728303,"display_name":"Hunter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12770,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695952895,"creation_date":1402454259,"question_id":24153800,"body_markdown":"Working on a homework assignment and I&#39;m having issues with figuring out how to print a line of text when a mouse cursor enters and exits a certain colored area (a JPanel called panel in this case) while using the MouseListener interface.\r\n\r\nI choose a color from the bottom panel (either Red, blue, or yellow) and then when I move to the upper panel it should be able to print which color the mouse has entered in while the mouse is in the panel and which color I exited from when my mouse finds itself outside of said panel...\r\n\r\nHopefully that makes sense. Here&#39;s a code snippet of what I have so far. This is for the color RED:\r\n            \r\n\r\n\r\n\r\n    class RedButtonListener implements ActionListener\r\n        {\r\n            public void actionPerformed(ActionEvent event)\r\n            {\r\n                panel.setBackground(Color.RED); \r\n                class RedMouseListener implements MouseListener\r\n                {\r\n\r\n                    public void mouseEntered(MouseEvent event) \r\n                    { \r\n                        \r\n                    }\r\n\r\n                    public void mouseExited(MouseEvent event) \r\n                    { \r\n\r\n                    }\r\n\r\n                    public void mousePressed(MouseEvent event) { }\r\n\r\n                    public void mouseReleased(MouseEvent event) { }\r\n\r\n                    public void mouseClicked(MouseEvent event) { }\r\n                }\r\n            }\r\n        }\r\n        ActionListener redListener = new RedButtonListener();\r\n        bRed.addActionListener(redListener);","title":"mouseEntered and mouseExited method questions","body":"<p>Working on a homework assignment and I'm having issues with figuring out how to print a line of text when a mouse cursor enters and exits a certain colored area (a JPanel called panel in this case) while using the MouseListener interface.</p>\n\n<p>I choose a color from the bottom panel (either Red, blue, or yellow) and then when I move to the upper panel it should be able to print which color the mouse has entered in while the mouse is in the panel and which color I exited from when my mouse finds itself outside of said panel...</p>\n\n<p>Hopefully that makes sense. Here's a code snippet of what I have so far. This is for the color RED:</p>\n\n<pre><code>class RedButtonListener implements ActionListener\n    {\n        public void actionPerformed(ActionEvent event)\n        {\n            panel.setBackground(Color.RED); \n            class RedMouseListener implements MouseListener\n            {\n\n                public void mouseEntered(MouseEvent event) \n                { \n\n                }\n\n                public void mouseExited(MouseEvent event) \n                { \n\n                }\n\n                public void mousePressed(MouseEvent event) { }\n\n                public void mouseReleased(MouseEvent event) { }\n\n                public void mouseClicked(MouseEvent event) { }\n            }\n        }\n    }\n    ActionListener redListener = new RedButtonListener();\n    bRed.addActionListener(redListener);\n</code></pre>\n"},{"tags":["java","jboss","ejb"],"answers":[{"tags":[],"owner":{"account_id":167376,"reputation":3383,"user_id":392130,"display_name":"Brian Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368388393,"creation_date":1351021623,"answer_id":13038063,"question_id":13037890,"body_markdown":"Looks like your EAR requires some JNDI bindings to be configured in JBoss, likely DataSources for use by JPA.  Java EE applications can have dependencies on services provided by the container and those are usually looked up using the naming service (JNDI).  \r\n\r\nCheck the deploy/install instructions that come with the EAR you&#39;re trying to deploy, or refer back to whoever provides the application.  Unfortunately it&#39;s not possible to provide much more help without much more info.","title":"JBoss 7 missing jboss.naming.context.java - can&#39;t run EAR","body":"<p>Looks like your EAR requires some JNDI bindings to be configured in JBoss, likely DataSources for use by JPA.  Java EE applications can have dependencies on services provided by the container and those are usually looked up using the naming service (JNDI).  </p>\n\n<p>Check the deploy/install instructions that come with the EAR you're trying to deploy, or refer back to whoever provides the application.  Unfortunately it's not possible to provide much more help without much more info.</p>\n"}],"owner":{"account_id":1970198,"reputation":332,"user_id":1769374,"accept_rate":17,"display_name":"Sean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12710,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695952895,"creation_date":1351020978,"question_id":13037890,"body_markdown":"I&#39;m trying to run an ear on jboss 7 and everytime I run the ear I get this error:\r\n\r\n&gt; &quot;Services with missing/unavailable dependencies&quot; =&gt;\r\n&gt; [&quot;jboss.persistenceunit.\\&quot;PROJECTNAME.jar#PROJECTNAMEPU\\&quot; missing [\r\n&gt; jboss.naming.context.java.PROJECTNAME ]&quot;]\r\n\r\nAlso before this error I get this feedback for every session/entity bean;\r\n\r\n&gt; INFO\r\n&gt; [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor]\r\n&gt; (MSC service thread 1-8) JNDI bindings for session bean named\r\n&gt; SESSIONBEAN in deployment unit subdeployment &quot;PROJECTNAME.war&quot; of\r\n&gt; deployment &quot;PROJECTNAME.ear&quot; are as follows:\r\n\r\nI tried looking it up and idk what I&#39;m missing, any suggestions or help?? \r\n\r\n**UPDATE:**\r\nIn my standalone.xml for jboss\r\n\r\n    &lt;datasource jndi-name=&quot;java:jboss/datasources/PROJECTNAME&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;PROJECTNAME&quot; use-ccm=&quot;false&quot;&gt;\r\n    \t&lt;connection-url&gt;jdbc:oracle:thin:@SERVER:PORT:support&lt;/connection-url&gt;\r\n    \t&lt;driver&gt;ojdbc14.jar&lt;/driver&gt;\r\n    \t&lt;pool&gt;\r\n    \t\t&lt;min-pool-size&gt;10&lt;/min-pool-size&gt;\r\n    \t\t&lt;max-pool-size&gt;20&lt;/max-pool-size&gt;\r\n    \t\t&lt;prefill&gt;true&lt;/prefill&gt;\r\n    \t&lt;/pool&gt;\r\n    \t&lt;security&gt;\r\n    \t\t&lt;user-name&gt;USERNAME&lt;/user-name&gt;\r\n    \t\t&lt;password&gt;PASS&lt;/password&gt;\r\n    \t&lt;/security&gt;\r\n    &lt;/datasource&gt;\r\n    &lt;xa-datasource jndi-name=&quot;java:jboss/datasources/PROJECTNAME&quot; pool-name=&quot;PROJECTNAME&quot;&gt;\r\n       &lt;driver&gt;ojdbc14.jar&lt;/driver&gt;\r\n       &lt;xa-datasource-property name=&quot;URL&quot;&gt;jdbc:oracle:thin:@SERVER&lt;/xa-datasource-property&gt;\r\n       &lt;xa-pool&gt;\r\n    \t\t&lt;min-pool-size&gt;10&lt;/min-pool-size&gt;\r\n    \t\t&lt;max-pool-size&gt;20&lt;/max-pool-size&gt;\r\n    \t\t&lt;prefill&gt;true&lt;/prefill&gt;\r\n       &lt;/xa-pool&gt;\r\n       &lt;security&gt;\r\n    \t\t&lt;user-name&gt;USERNAME&lt;/user-name&gt;\r\n    \t\t&lt;password&gt;PASS&lt;/password&gt;\r\n       &lt;/security&gt;\r\n    &lt;/xa-datasource&gt;\r\n    &lt;drivers&gt;\r\n    \t&lt;driver name=&quot;oracle&quot; module=&quot;com.oracle.ojdbc14&quot;&gt;\r\n    \t\t&lt;driver-class&gt;oracle.jdbc.driver.OracleDriver&lt;/driver-class&gt;\r\n    \t\t&lt;xa-datasource-class&gt;oracle.jdbc.xa.client.OracleXADataSource&lt;/xa-datasource-class&gt;\r\n    \t&lt;/driver&gt;\r\n    &lt;/drivers&gt;\r\n\r\nMy persitence.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n      &lt;persistence-unit name=&quot;PROJECTNAMEPU&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;jta-data-source&gt;java:jboss/datasources/PROJECTNAME&lt;/jta-data-source&gt;\r\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n        &lt;properties/&gt;\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;","title":"JBoss 7 missing jboss.naming.context.java - can&#39;t run EAR","body":"<p>I'm trying to run an ear on jboss 7 and everytime I run the ear I get this error:</p>\n\n<blockquote>\n  <p>\"Services with missing/unavailable dependencies\" =>\n  [\"jboss.persistenceunit.\\\"PROJECTNAME.jar#PROJECTNAMEPU\\\" missing [\n  jboss.naming.context.java.PROJECTNAME ]\"]</p>\n</blockquote>\n\n<p>Also before this error I get this feedback for every session/entity bean;</p>\n\n<blockquote>\n  <p>INFO\n  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor]\n  (MSC service thread 1-8) JNDI bindings for session bean named\n  SESSIONBEAN in deployment unit subdeployment \"PROJECTNAME.war\" of\n  deployment \"PROJECTNAME.ear\" are as follows:</p>\n</blockquote>\n\n<p>I tried looking it up and idk what I'm missing, any suggestions or help?? </p>\n\n<p><strong>UPDATE:</strong>\nIn my standalone.xml for jboss</p>\n\n<pre><code>&lt;datasource jndi-name=\"java:jboss/datasources/PROJECTNAME\" enabled=\"true\" use-java-context=\"true\" pool-name=\"PROJECTNAME\" use-ccm=\"false\"&gt;\n    &lt;connection-url&gt;jdbc:oracle:thin:@SERVER:PORT:support&lt;/connection-url&gt;\n    &lt;driver&gt;ojdbc14.jar&lt;/driver&gt;\n    &lt;pool&gt;\n        &lt;min-pool-size&gt;10&lt;/min-pool-size&gt;\n        &lt;max-pool-size&gt;20&lt;/max-pool-size&gt;\n        &lt;prefill&gt;true&lt;/prefill&gt;\n    &lt;/pool&gt;\n    &lt;security&gt;\n        &lt;user-name&gt;USERNAME&lt;/user-name&gt;\n        &lt;password&gt;PASS&lt;/password&gt;\n    &lt;/security&gt;\n&lt;/datasource&gt;\n&lt;xa-datasource jndi-name=\"java:jboss/datasources/PROJECTNAME\" pool-name=\"PROJECTNAME\"&gt;\n   &lt;driver&gt;ojdbc14.jar&lt;/driver&gt;\n   &lt;xa-datasource-property name=\"URL\"&gt;jdbc:oracle:thin:@SERVER&lt;/xa-datasource-property&gt;\n   &lt;xa-pool&gt;\n        &lt;min-pool-size&gt;10&lt;/min-pool-size&gt;\n        &lt;max-pool-size&gt;20&lt;/max-pool-size&gt;\n        &lt;prefill&gt;true&lt;/prefill&gt;\n   &lt;/xa-pool&gt;\n   &lt;security&gt;\n        &lt;user-name&gt;USERNAME&lt;/user-name&gt;\n        &lt;password&gt;PASS&lt;/password&gt;\n   &lt;/security&gt;\n&lt;/xa-datasource&gt;\n&lt;drivers&gt;\n    &lt;driver name=\"oracle\" module=\"com.oracle.ojdbc14\"&gt;\n        &lt;driver-class&gt;oracle.jdbc.driver.OracleDriver&lt;/driver-class&gt;\n        &lt;xa-datasource-class&gt;oracle.jdbc.xa.client.OracleXADataSource&lt;/xa-datasource-class&gt;\n    &lt;/driver&gt;\n&lt;/drivers&gt;\n</code></pre>\n\n<p>My persitence.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.0\" xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n  &lt;persistence-unit name=\"PROJECTNAMEPU\" transaction-type=\"JTA\"&gt;\n    &lt;jta-data-source&gt;java:jboss/datasources/PROJECTNAME&lt;/jta-data-source&gt;\n    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n    &lt;properties/&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n"},{"tags":["java","groovy","jmeter"],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695951245,"creation_date":1695951245,"answer_id":77199046,"question_id":77183076,"body_markdown":"Looks like Personal Certs or Local Certs aren&#39;t possible until later versions of Java.\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-6782021\r\n\r\nEither JDK 17 or 19+.","title":"How to retrieve certificates from the Local Computer\\Personal\\Certificates path in Groovy Jmeter","body":"<p>Looks like Personal Certs or Local Certs aren't possible until later versions of Java.</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-6782021\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-6782021</a></p>\n<p>Either JDK 17 or 19+.</p>\n"}],"owner":{"account_id":29286312,"reputation":11,"user_id":22437785,"display_name":"Ki To Kiroto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695951245,"creation_date":1695758528,"question_id":77183076,"body_markdown":"I&#39;m trying to retrieve certificates stored in the &quot;Local Computer\\Personal\\Certificates&quot; path on my Windows machine using Groovy in JSR223 Sampler in Jmeter. I&#39;m testing my code with the following snippet:\r\n\r\n\r\n```\r\nimport java.security.KeyStore;\r\nimport java.security.cert.X509Certificate;\r\nimport java.security.cert.Certificate;\r\nimport java.security.cert.CertificateEncodingException;\r\nimport java.security.MessageDigest;\r\nimport java.io.IOException;\r\n\r\ntry {\r\n    KeyStore keystore = KeyStore.getInstance(&quot;Windows-MY&quot;);\r\n    keystore.load(null, null);\r\n    \r\n    String keystoreProvider = keystore.getProvider().getName(); \r\n\r\n    Enumeration&lt;String&gt; aliases = keystore.aliases();\r\n    while (aliases.hasMoreElements()) {\r\n        String alias = aliases.nextElement();\r\n        Certificate cert = keystore.getCertificate(alias);\r\n\r\n        if (cert instanceof X509Certificate) {\r\n            X509Certificate x509Cert = (X509Certificate) cert;\r\n\r\n            log.info(&quot;Location: &quot; + keystoreProvider);\r\n            log.info(&quot;Alias: &quot; + alias);\r\n            log.info(&quot;Subject: &quot; + x509Cert.getSubjectDN());\r\n            log.info(&quot;Issuer: &quot; + x509Cert.getIssuerDN());\r\n            log.info(&quot;Serial Number: &quot; + x509Cert.getSerialNumber());\r\n            log.info(&quot;Valid From: &quot; + x509Cert.getNotBefore());\r\n            log.info(&quot;Valid To: &quot; + x509Cert.getNotAfter());\r\n            log.info(&quot;------------------------------------------------&quot;);\r\n        }\r\n    }\r\n} catch (Exception e) {\r\n    log.error(&quot;Error: &quot; + e.getMessage());\r\n}\r\n```\r\n\r\nHowever, this code retrieves various certificates, but it doesn&#39;t seem to retrieve the ones located in &#39;Personal\\Certificates.&#39; Could this be due to an issue with the KeyStore instance? What could be causing this discrepancy?","title":"How to retrieve certificates from the Local Computer\\Personal\\Certificates path in Groovy Jmeter","body":"<p>I'm trying to retrieve certificates stored in the &quot;Local Computer\\Personal\\Certificates&quot; path on my Windows machine using Groovy in JSR223 Sampler in Jmeter. I'm testing my code with the following snippet:</p>\n<pre><code>import java.security.KeyStore;\nimport java.security.cert.X509Certificate;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateEncodingException;\nimport java.security.MessageDigest;\nimport java.io.IOException;\n\ntry {\n    KeyStore keystore = KeyStore.getInstance(&quot;Windows-MY&quot;);\n    keystore.load(null, null);\n    \n    String keystoreProvider = keystore.getProvider().getName(); \n\n    Enumeration&lt;String&gt; aliases = keystore.aliases();\n    while (aliases.hasMoreElements()) {\n        String alias = aliases.nextElement();\n        Certificate cert = keystore.getCertificate(alias);\n\n        if (cert instanceof X509Certificate) {\n            X509Certificate x509Cert = (X509Certificate) cert;\n\n            log.info(&quot;Location: &quot; + keystoreProvider);\n            log.info(&quot;Alias: &quot; + alias);\n            log.info(&quot;Subject: &quot; + x509Cert.getSubjectDN());\n            log.info(&quot;Issuer: &quot; + x509Cert.getIssuerDN());\n            log.info(&quot;Serial Number: &quot; + x509Cert.getSerialNumber());\n            log.info(&quot;Valid From: &quot; + x509Cert.getNotBefore());\n            log.info(&quot;Valid To: &quot; + x509Cert.getNotAfter());\n            log.info(&quot;------------------------------------------------&quot;);\n        }\n    }\n} catch (Exception e) {\n    log.error(&quot;Error: &quot; + e.getMessage());\n}\n</code></pre>\n<p>However, this code retrieves various certificates, but it doesn't seem to retrieve the ones located in 'Personal\\Certificates.' Could this be due to an issue with the KeyStore instance? What could be causing this discrepancy?</p>\n"},{"tags":["java","linux","jvm"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1568212021,"post_id":57885907,"comment_id":102204074,"body_markdown":"What JVM logs are you talking about? Actually, it does not log anything unless you&#39;ve asked it to. `hs_err_pid*.log` crash dump is generated only when JVM terminates abnormally. If an applications exits e.g. by calling `System.exit`, there will be no crash dump. See the comments to [this question](https://stackoverflow.com/questions/57651010/cant-get-fatal-error-log-for-my-java-application)","body":"What JVM logs are you talking about? Actually, it does not log anything unless you&#39;ve asked it to. <code>hs_err_pid*.log</code> crash dump is generated only when JVM terminates abnormally. If an applications exits e.g. by calling <code>System.exit</code>, there will be no crash dump. See the comments to <a href=\"https://stackoverflow.com/questions/57651010/cant-get-fatal-error-log-for-my-java-application\">this question</a>"}],"answers":[{"tags":[],"owner":{"account_id":10375474,"reputation":381,"user_id":7651755,"display_name":"Shivam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568194345,"creation_date":1568194345,"answer_id":57886123,"question_id":57885907,"body_markdown":"The default location (directory) of the trace and log files is:\r\n \r\n`&lt;user.home&gt;/.java/deployment/log` on UNIX, Linux &lt;br&gt;\r\n`~/Library/Application Support/Oracle/Java/Deployment/log` on Mac OS X &lt;br&gt;\r\n`&lt;User Application Data Folder&gt;\\Sun\\Java\\Deployment\\log` on Windows","title":"Where to find java virtual machine logs on linux","body":"<p>The default location (directory) of the trace and log files is:</p>\n\n<p><code>&lt;user.home&gt;/.java/deployment/log</code> on UNIX, Linux <br>\n<code>~/Library/Application Support/Oracle/Java/Deployment/log</code> on Mac OS X <br>\n<code>&lt;User Application Data Folder&gt;\\Sun\\Java\\Deployment\\log</code> on Windows</p>\n"}],"owner":{"account_id":5293801,"reputation":69,"user_id":4225485,"display_name":"Steve Clever"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14130,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1695949465,"creation_date":1568193511,"question_id":57885907,"body_markdown":"I have a tomcat server running with Spring on linux. Unfortunaly it is shutting down automatically.\r\n\r\nNow I check already a lot. In my spring logs there is nothing.\r\n\r\nNow I want to check the jvm logs. Maybe I can find something there.\r\n\r\nI already found the pure java command. It is located under path:\r\n\r\n/usr/lib/jvm/jdk1.8.0_201/bin\r\n\r\nBut where are the logs ?  Sometimes I read it should be under /var/log/java \r\n\r\nBut under /var/log  there is no java folder in my case.\r\n\r\nThanks for your help.","title":"Where to find java virtual machine logs on linux","body":"<p>I have a tomcat server running with Spring on linux. Unfortunaly it is shutting down automatically.</p>\n\n<p>Now I check already a lot. In my spring logs there is nothing.</p>\n\n<p>Now I want to check the jvm logs. Maybe I can find something there.</p>\n\n<p>I already found the pure java command. It is located under path:</p>\n\n<p>/usr/lib/jvm/jdk1.8.0_201/bin</p>\n\n<p>But where are the logs ?  Sometimes I read it should be under /var/log/java </p>\n\n<p>But under /var/log  there is no java folder in my case.</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","console","jconsole"],"comments":[{"owner":{"account_id":446125,"reputation":8787,"user_id":838976,"display_name":"Martin Dinov"},"score":0,"creation_date":1403721315,"post_id":24416018,"comment_id":37772466,"body_markdown":"Are you asking how to change the text&#39;s color?","body":"Are you asking how to change the text&#39;s color?"},{"owner":{"account_id":409182,"reputation":405,"user_id":780288,"accept_rate":59,"display_name":"Sam"},"score":0,"creation_date":1403721412,"post_id":24416018,"comment_id":37772517,"body_markdown":"Sorry, must have worded it wrong. That&#39;s just a side issue that I would like, what I ultimately want to know is how to make a separate window that would display everything I&#39;m printing to the console. This way the people using my program will see everything I&#39;m printing when they are running it outside of the ide.","body":"Sorry, must have worded it wrong. That&#39;s just a side issue that I would like, what I ultimately want to know is how to make a separate window that would display everything I&#39;m printing to the console. This way the people using my program will see everything I&#39;m printing when they are running it outside of the ide."},{"owner":{"account_id":446125,"reputation":8787,"user_id":838976,"display_name":"Martin Dinov"},"score":0,"creation_date":1403721579,"post_id":24416018,"comment_id":37772606,"body_markdown":"Ok, see my answer below.","body":"Ok, see my answer below."},{"owner":{"account_id":212518,"reputation":43399,"user_id":465378,"accept_rate":85,"display_name":"Alexis King"},"score":0,"creation_date":1403721605,"post_id":24416018,"comment_id":37772626,"body_markdown":"What specifically is your problem? Are you asking how to create a window? Are you asking how to add a text area to a window? Or are you specifically asking about how to do the stdout/stderr redirection?","body":"What specifically is your problem? Are you asking how to create a window? Are you asking how to add a text area to a window? Or are you specifically asking about how to do the stdout/stderr redirection?"}],"answers":[{"tags":[],"owner":{"account_id":446125,"reputation":8787,"user_id":838976,"display_name":"Martin Dinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403721564,"creation_date":1403721564,"answer_id":24416145,"question_id":24416018,"body_markdown":"A simple way would be to write a function that takes a `String` as an argument and then 1) prints to console using `System.out.print*()`, followed by printing or copying over text to that window&#39;s `JTextField`, or a constructor, or whatever method you are using to print text in that window, i.e.:\r\n\r\n    public method printAndCopyText(String text) {\r\n       System.out.println(text);\r\n       otherWindowObject.getTextFieldObject().setText(text);\r\n    }","title":"Java: Create text window to display console text","body":"<p>A simple way would be to write a function that takes a <code>String</code> as an argument and then 1) prints to console using <code>System.out.print*()</code>, followed by printing or copying over text to that window's <code>JTextField</code>, or a constructor, or whatever method you are using to print text in that window, i.e.:</p>\n\n<pre><code>public method printAndCopyText(String text) {\n   System.out.println(text);\n   otherWindowObject.getTextFieldObject().setText(text);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4662688,"reputation":43,"user_id":3776585,"display_name":"peterpeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403722581,"creation_date":1403722581,"answer_id":24416418,"question_id":24416018,"body_markdown":"Here is a sample\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.io.IOException;\r\n    import java.io.PipedInputStream;\r\n    import java.io.PipedOutputStream;\r\n    import java.io.PrintStream;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTextPane;\r\n    import javax.swing.SwingWorker;\r\n    \r\n    public class JConsole {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tJFrame frame = new JFrame(&quot;JConsole&quot;);\r\n    \t\tJTextPane jta = new JTextPane();\r\n    \t\tJButton button = new JButton(&quot;Run&quot;);\r\n    \t\tframe.setLayout(new BorderLayout());\r\n    \t\tframe.add(button,BorderLayout.NORTH);\r\n    \t\tframe.add(jta,BorderLayout.CENTER);\r\n    \t\tbutton.addActionListener(new ActionListener(){\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tnew SwingWorker&lt;Void, Object&gt;(){\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tprotected Void doInBackground() throws Exception {\r\n    \t\t\t\t\t\toutputTest(&quot;inner&quot;);\r\n    \t\t\t\t\t\treturn null;\r\n    \t\t\t\t\t}}.execute();\r\n    \t\t\t}});\r\n    \t\t\r\n    \t\tframe.setSize(400, 300);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setVisible(true);\r\n    \t\tconsole(jta);\r\n    \t}\r\n    \t\r\n    \tpublic static void outputTest(String msg){\r\n    \t\tfor(int i=0;i&lt;10;i++){\r\n    \t\t\tSystem.out.println(i+&quot; &quot;+msg);\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(500);\r\n    \t\t\t} catch (InterruptedException ex) {\r\n    \t\t\t\tex.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void console(final JTextPane area) throws IOException {\r\n    \t\tarea.setContentType(&quot;text/html&quot;);\r\n    \t\tfinal PipedInputStream outPipe = new PipedInputStream();\r\n    \t\tSystem.setOut(new PrintStream(new PipedOutputStream(outPipe), true));\t\t\r\n    \t\tnew SwingWorker&lt;Void, String&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tprotected Void doInBackground() throws Exception {\r\n    \t\t\t\tScanner s = new Scanner(outPipe);\r\n    \t\t\t\twhile (s.hasNextLine()){\r\n    \t\t\t\t\tString line = s.nextLine();\r\n    \t\t\t\t\tpublish(line + &quot;\\n&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tprotected void process(List&lt;String&gt; chunks) {\r\n    \t\t\t\tfor (String line : chunks){\r\n    \t\t\t\t\tarea.setText(&quot;&lt;font size=\\&quot;3\\&quot; color=\\&quot;red\\&quot;&gt;&quot;+line+&quot;&lt;/font&gt;&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}.execute();\r\n    \t}\r\n    \r\n    }","title":"Java: Create text window to display console text","body":"<p>Here is a sample</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.IOException;\nimport java.io.PipedInputStream;\nimport java.io.PipedOutputStream;\nimport java.io.PrintStream;\nimport java.util.List;\nimport java.util.Scanner;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JTextPane;\nimport javax.swing.SwingWorker;\n\npublic class JConsole {\n\n    public static void main(String[] args) throws IOException {\n        JFrame frame = new JFrame(\"JConsole\");\n        JTextPane jta = new JTextPane();\n        JButton button = new JButton(\"Run\");\n        frame.setLayout(new BorderLayout());\n        frame.add(button,BorderLayout.NORTH);\n        frame.add(jta,BorderLayout.CENTER);\n        button.addActionListener(new ActionListener(){\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                new SwingWorker&lt;Void, Object&gt;(){\n                    @Override\n                    protected Void doInBackground() throws Exception {\n                        outputTest(\"inner\");\n                        return null;\n                    }}.execute();\n            }});\n\n        frame.setSize(400, 300);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        console(jta);\n    }\n\n    public static void outputTest(String msg){\n        for(int i=0;i&lt;10;i++){\n            System.out.println(i+\" \"+msg);\n            try {\n                Thread.sleep(500);\n            } catch (InterruptedException ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n\n    public static void console(final JTextPane area) throws IOException {\n        area.setContentType(\"text/html\");\n        final PipedInputStream outPipe = new PipedInputStream();\n        System.setOut(new PrintStream(new PipedOutputStream(outPipe), true));       \n        new SwingWorker&lt;Void, String&gt;() {\n            @Override\n            protected Void doInBackground() throws Exception {\n                Scanner s = new Scanner(outPipe);\n                while (s.hasNextLine()){\n                    String line = s.nextLine();\n                    publish(line + \"\\n\");\n                }\n                return null;\n            }\n\n            @Override\n            protected void process(List&lt;String&gt; chunks) {\n                for (String line : chunks){\n                    area.setText(\"&lt;font size=\\\"3\\\" color=\\\"red\\\"&gt;\"+line+\"&lt;/font&gt;\");\n                }\n            }\n        }.execute();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":409182,"reputation":405,"user_id":780288,"accept_rate":59,"display_name":"Sam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11789,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1695949465,"creation_date":1403721144,"question_id":24416018,"body_markdown":"I&#39;m looking to create a seperate window in my java program to basically display the things that I print using println(). It would be nice to have some way of making certain text read and/or bold if it starts with &quot;error:&quot;. Is there an easy or straight forward way to doing this?","title":"Java: Create text window to display console text","body":"<p>I'm looking to create a seperate window in my java program to basically display the things that I print using println(). It would be nice to have some way of making certain text read and/or bold if it starts with \"error:\". Is there an easy or straight forward way to doing this?</p>\n"},{"tags":["java","spring-boot","google-cloud-pubsub"],"owner":{"account_id":29559574,"reputation":1,"user_id":22654428,"display_name":"Pras P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695949265,"creation_date":1695947685,"question_id":77198915,"body_markdown":"Team,\r\n\r\nWe are streaming messages from subscription using spring-cloud-gcp-starter-pubsub library:\r\n\r\nSample Code:\r\n\r\n```\r\n@Bean\r\npublic MessageChannel inputMessageChannel() {\r\n  return new PublishSubscribeChannel();\r\n}\r\n\r\n@Bean\r\npublic PubSubInboundChannelAdapter inboundChannelAdapter(\r\n    @Qualifier(&quot;inputMessageChannel&quot;) MessageChannel messageChannel,\r\n    PubSubTemplate pubSubTemplate) {\r\n  PubSubInboundChannelAdapter adapter =\r\n      new PubSubInboundChannelAdapter(pubSubTemplate, &quot;project/projectid/subscription&quot;);\r\n  adapter.setOutputChannel(messageChannel);\r\n  adapter.setAckMode(AckMode.MANUAL);\r\n  adapter.setPayloadType(String.class);\r\n  return adapter;\r\n}\r\n\r\n\r\n@ServiceActivator(inputChannel = &quot;inputMessageChannel&quot;)\r\npublic void messageReceiver(\r\n    String payload,\r\n    @Header(GcpPubSubHeaders.ORIGINAL_MESSAGE) BasicAcknowledgeablePubsubMessage message) {\r\n//process and store to db table\r\n  message.ack();\r\n}\r\n```\r\n\r\nThe above approach streams one message at a time and the process is taking time. I am planning to implement the below approach:\r\n\r\n\r\n```\r\n@ServiceActivator(inputChannel = &quot;inputMessageChannel&quot;)\r\npublic void messageReceiver(\r\n    String payload,\r\n    @Header(GcpPubSubHeaders.ORIGINAL_MESSAGE) BasicAcknowledgeablePubsubMessage message) {\r\n//Get input as list of messages\r\n//assign the messages to Executor threadpool and process asynchronously\r\n  message.ack();\r\n}\r\n```\r\n\r\nI searched through the article but not getting details on how to consume list of messages. \r\n\r\n```\r\n@Bean\r\n@InboundChannelAdapter(channel = &quot;pubsubInputChannel&quot;, poller = @Poller(fixedDelay = &quot;10&quot;))\r\npublic MessageSource&lt;Object&gt; pubsubAdapter(PubSubTemplate pubSubTemplate) {\r\n\tPubSubMessageSource messageSource = new PubSubMessageSource(pubSubTemplate,  &quot;project/projectid/subscription&quot;);\r\n\tmessageSource.setAckMode(AckMode.MANUAL);\r\n\tmessageSource.setPayloadType(String.class);\r\n\tmessageSource.setBlockOnPull(false);\r\n\tmessageSource.setMaxFetchSize(10);\r\n\treturn messageSource;\r\n}\r\n```\r\n\r\nBut not sure how to use it in message receiver. Could you please help me on this.\r\n","title":"Consume list of messages from subscription using Spring boot gcp","body":"<p>Team,</p>\n<p>We are streaming messages from subscription using spring-cloud-gcp-starter-pubsub library:</p>\n<p>Sample Code:</p>\n<pre><code>@Bean\npublic MessageChannel inputMessageChannel() {\n  return new PublishSubscribeChannel();\n}\n\n@Bean\npublic PubSubInboundChannelAdapter inboundChannelAdapter(\n    @Qualifier(&quot;inputMessageChannel&quot;) MessageChannel messageChannel,\n    PubSubTemplate pubSubTemplate) {\n  PubSubInboundChannelAdapter adapter =\n      new PubSubInboundChannelAdapter(pubSubTemplate, &quot;project/projectid/subscription&quot;);\n  adapter.setOutputChannel(messageChannel);\n  adapter.setAckMode(AckMode.MANUAL);\n  adapter.setPayloadType(String.class);\n  return adapter;\n}\n\n\n@ServiceActivator(inputChannel = &quot;inputMessageChannel&quot;)\npublic void messageReceiver(\n    String payload,\n    @Header(GcpPubSubHeaders.ORIGINAL_MESSAGE) BasicAcknowledgeablePubsubMessage message) {\n//process and store to db table\n  message.ack();\n}\n</code></pre>\n<p>The above approach streams one message at a time and the process is taking time. I am planning to implement the below approach:</p>\n<pre><code>@ServiceActivator(inputChannel = &quot;inputMessageChannel&quot;)\npublic void messageReceiver(\n    String payload,\n    @Header(GcpPubSubHeaders.ORIGINAL_MESSAGE) BasicAcknowledgeablePubsubMessage message) {\n//Get input as list of messages\n//assign the messages to Executor threadpool and process asynchronously\n  message.ack();\n}\n</code></pre>\n<p>I searched through the article but not getting details on how to consume list of messages.</p>\n<pre><code>@Bean\n@InboundChannelAdapter(channel = &quot;pubsubInputChannel&quot;, poller = @Poller(fixedDelay = &quot;10&quot;))\npublic MessageSource&lt;Object&gt; pubsubAdapter(PubSubTemplate pubSubTemplate) {\n    PubSubMessageSource messageSource = new PubSubMessageSource(pubSubTemplate,  &quot;project/projectid/subscription&quot;);\n    messageSource.setAckMode(AckMode.MANUAL);\n    messageSource.setPayloadType(String.class);\n    messageSource.setBlockOnPull(false);\n    messageSource.setMaxFetchSize(10);\n    return messageSource;\n}\n</code></pre>\n<p>But not sure how to use it in message receiver. Could you please help me on this.</p>\n"},{"tags":["java","google-forms-api"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695929276,"post_id":77192961,"comment_id":136092803,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695947604,"creation_date":1695886156,"question_id":77192961,"body_markdown":"I am creating a Google Form using the Google Forms API. Is there a way to set an expiration for the form or disable the responses after a certain period of time?\r\n\r\nI am using Java.\r\n\r\nI tried to find if there is something that is given in the documentation but found nothing.","title":"Google Form API","body":"<p>I am creating a Google Form using the Google Forms API. Is there a way to set an expiration for the form or disable the responses after a certain period of time?</p>\n<p>I am using Java.</p>\n<p>I tried to find if there is something that is given in the documentation but found nothing.</p>\n"},{"tags":["java","spring","aop","spring-aop"],"comments":[{"owner":{"account_id":3755777,"reputation":499,"user_id":3122175,"accept_rate":92,"display_name":"D.T"},"score":0,"creation_date":1695789140,"post_id":77184633,"comment_id":136069593,"body_markdown":"What is your issue? You want to debug in `before` or your code in `before` does not execute? Does the logic inside `before` execute? Try to print log inside to check.","body":"What is your issue? You want to debug in <code>before</code> or your code in <code>before</code> does not execute? Does the logic inside <code>before</code> execute? Try to print log inside to check."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1695790891,"post_id":77184633,"comment_id":136069767,"body_markdown":"Seems overpowered. Why you not simply calling a method in your controller or service?","body":"Seems overpowered. Why you not simply calling a method in your controller or service?"},{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1695794883,"post_id":77184633,"comment_id":136070185,"body_markdown":"@D.T I put debug points on the before method, and inside the before method. None of the break points were reached.","body":"@D.T I put debug points on the before method, and inside the before method. None of the break points were reached."},{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1695797996,"post_id":77184633,"comment_id":136070624,"body_markdown":"@akop I looked into your suggestion, and using the reflectUtil in the suggested answer seemed much more verbose. I am considering if I should make a modification to the code base to autowire the SecurityContextHolder/Authentication although it may not follow the existing practices from my team as it would be way more convenient.","body":"@akop I looked into your suggestion, and using the reflectUtil in the suggested answer seemed much more verbose. I am considering if I should make a modification to the code base to autowire the SecurityContextHolder/Authentication although it may not follow the existing practices from my team as it would be way more convenient."},{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1695798072,"post_id":77184633,"comment_id":136070641,"body_markdown":"but based on the two links I mentioned, I did manage to get it working using an @Around annotation and changing the code accordingly","body":"but based on the two links I mentioned, I did manage to get it working using an @Around annotation and changing the code accordingly"}],"answers":[{"tags":[],"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695793962,"creation_date":1695792834,"answer_id":77184874,"question_id":77184633,"body_markdown":"Please read through the documentation : [Supported Pointcut Designators][1]\r\n\r\n&gt; @args: Limits matching to join points (the execution of methods when\r\n&gt; using Spring AOP) where the runtime type of the actual arguments\r\n&gt; passed have annotations of the given types.\r\n\r\nThe PCD to be used is `@args`\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/core/aop/ataspectj/pointcuts.html#aop-pointcuts-designators","title":"How to create a custom annotation like @PathVariable that modifies/provides the value of a method parameter","body":"<p>Please read through the documentation : <a href=\"https://docs.spring.io/spring-framework/reference/core/aop/ataspectj/pointcuts.html#aop-pointcuts-designators\" rel=\"nofollow noreferrer\">Supported Pointcut Designators</a></p>\n<blockquote>\n<p>@args: Limits matching to join points (the execution of methods when\nusing Spring AOP) where the runtime type of the actual arguments\npassed have annotations of the given types.</p>\n</blockquote>\n<p>The PCD to be used is <code>@args</code></p>\n"}],"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695946031,"creation_date":1695787717,"question_id":77184633,"body_markdown":"I want to make a custom annotation that like @PathVariable, will be used on a parameter to provide values to a method like so:\r\n\r\n    public String subscribe(@PathVariable String date, @PathVariable String text, @PermittedMarkets String[] marketCodes) { //do processing and return something here }\r\n\r\nI have defined the annotation:\r\n\r\n    @Target(ElementType.PARAMETER)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface PermittedMarkets {\r\n    \r\n    }\r\n\r\nand:\r\n\r\n    @Aspect\r\n    @Component\r\n    public class MarketsAspect {\r\n        @Value(&quot;#{${config.market.permitted.marketmapping:{:}}}&quot;) //if value is provided, use it or default to empty map\r\n        private Map&lt;String,String&gt; roleToMarketCodeMap;\r\n    \r\n        @Before(&quot;@annotation(com.org.app.service.security.annotation.PermittedMarkets)&quot;)\r\n        public String[] before(JoinPoint joinPoint) {\r\n            final var grantedAuthorities =\r\n                    Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication())\r\n                            .map(Authentication::getAuthorities)\r\n                            .orElseThrow(() -&gt; new AccessDeniedException(&quot;No authorities found&quot;));\r\n    \r\n            return grantedAuthorities.stream()\r\n                    .map(GrantedAuthority::getAuthority)\r\n                    .filter(entitlement -&gt; entitlement.contains(&quot;app_user&quot;))\r\n                    .map(A_entitlement -&gt; roleToMarketCodeMap.get(A_entitlement))\r\n                    .toArray(String[]::new);\r\n        }\r\n    }\r\n\r\nHowever, when I step through using a debugger, this is what is shown on the subscribe method:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe debugger does not enter the before() method at all, even with a breakpoint on it.\r\n\r\n  [1]: https://i.stack.imgur.com/ULqie.png","title":"How to create a custom annotation like @PathVariable that modifies/provides the value of a method parameter","body":"<p>I want to make a custom annotation that like @PathVariable, will be used on a parameter to provide values to a method like so:</p>\n<pre><code>public String subscribe(@PathVariable String date, @PathVariable String text, @PermittedMarkets String[] marketCodes) { //do processing and return something here }\n</code></pre>\n<p>I have defined the annotation:</p>\n<pre><code>@Target(ElementType.PARAMETER)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PermittedMarkets {\n\n}\n</code></pre>\n<p>and:</p>\n<pre><code>@Aspect\n@Component\npublic class MarketsAspect {\n    @Value(&quot;#{${config.market.permitted.marketmapping:{:}}}&quot;) //if value is provided, use it or default to empty map\n    private Map&lt;String,String&gt; roleToMarketCodeMap;\n\n    @Before(&quot;@annotation(com.org.app.service.security.annotation.PermittedMarkets)&quot;)\n    public String[] before(JoinPoint joinPoint) {\n        final var grantedAuthorities =\n                Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication())\n                        .map(Authentication::getAuthorities)\n                        .orElseThrow(() -&gt; new AccessDeniedException(&quot;No authorities found&quot;));\n\n        return grantedAuthorities.stream()\n                .map(GrantedAuthority::getAuthority)\n                .filter(entitlement -&gt; entitlement.contains(&quot;app_user&quot;))\n                .map(A_entitlement -&gt; roleToMarketCodeMap.get(A_entitlement))\n                .toArray(String[]::new);\n    }\n}\n</code></pre>\n<p>However, when I step through using a debugger, this is what is shown on the subscribe method:</p>\n<p><a href=\"https://i.stack.imgur.com/ULqie.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ULqie.png\" alt=\"enter image description here\" /></a></p>\n<p>The debugger does not enter the before() method at all, even with a breakpoint on it.</p>\n"},{"tags":["java","maven","swagger"],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695944358,"creation_date":1695944358,"question_id":77198795,"body_markdown":"I support a platform used by a hundred or so SpringBoot services, along with a common build architecture.\r\n\r\nI was working on a problem with our definition of the swagger-maven-plugin in our parent pom, but I discovered that I simply couldn&#39;t get a &quot;simple&quot; swagger plugin usage to work.  The plugin is complaining about a missing &quot;locations&quot; list, but as far as I can tell, I&#39;m specifying that list exactly where it&#39;s supposed to be.\r\n\r\nThis is my current plugin def, with some minor renaming:\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;com.github.kongchen&lt;/groupId&gt;\r\n          &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.8&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;apiSources&gt;\r\n              &lt;apiSource&gt;\r\n                &lt;locations&gt;\r\n                    &lt;location&gt;com.company.platformpilot.resource&lt;/location&gt;\r\n                &lt;/locations&gt;\r\n                &lt;basePath&gt;/msapi/example/v1&lt;/basePath&gt;\r\n                &lt;info&gt;\r\n                  &lt;title&gt;Example Service&lt;/title&gt;\r\n                  &lt;version&gt;1.1.0-SNAPSHOT&lt;/version&gt;\r\n                &lt;/info&gt;\r\n                &lt;swaggerDirectory&gt;${project.build.directory}/classes/META-INF/resources/example/swagger&lt;/swaggerDirectory&gt;\r\n                &lt;outputPath&gt;${project.build.directory}/classes/META-INF/resources/example/swagger&lt;/outputPath&gt;\r\n              &lt;/apiSource&gt;\r\n            &lt;/apiSources&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;compile&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\r\nWhen I run this, it fails with the following:\r\n\r\n    16:34:40 [ERROR] Failed to execute goal com.github.kongchen:swagger-maven-plugin:3.1.8:generate (default) on project ExampleMs: &lt;locations&gt; is required by this plugin. -&gt; [Help 1]\r\n\r\n\r\n","title":"Why is swagger-maven-plugin complaining about a missing &quot;locations&quot; list&quot;","body":"<p>I support a platform used by a hundred or so SpringBoot services, along with a common build architecture.</p>\n<p>I was working on a problem with our definition of the swagger-maven-plugin in our parent pom, but I discovered that I simply couldn't get a &quot;simple&quot; swagger plugin usage to work.  The plugin is complaining about a missing &quot;locations&quot; list, but as far as I can tell, I'm specifying that list exactly where it's supposed to be.</p>\n<p>This is my current plugin def, with some minor renaming:</p>\n<pre><code>    &lt;plugin&gt;\n      &lt;groupId&gt;com.github.kongchen&lt;/groupId&gt;\n      &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.1.8&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;apiSources&gt;\n          &lt;apiSource&gt;\n            &lt;locations&gt;\n                &lt;location&gt;com.company.platformpilot.resource&lt;/location&gt;\n            &lt;/locations&gt;\n            &lt;basePath&gt;/msapi/example/v1&lt;/basePath&gt;\n            &lt;info&gt;\n              &lt;title&gt;Example Service&lt;/title&gt;\n              &lt;version&gt;1.1.0-SNAPSHOT&lt;/version&gt;\n            &lt;/info&gt;\n            &lt;swaggerDirectory&gt;${project.build.directory}/classes/META-INF/resources/example/swagger&lt;/swaggerDirectory&gt;\n            &lt;outputPath&gt;${project.build.directory}/classes/META-INF/resources/example/swagger&lt;/outputPath&gt;\n          &lt;/apiSource&gt;\n        &lt;/apiSources&gt;\n      &lt;/configuration&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;phase&gt;compile&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;generate&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>When I run this, it fails with the following:</p>\n<pre><code>16:34:40 [ERROR] Failed to execute goal com.github.kongchen:swagger-maven-plugin:3.1.8:generate (default) on project ExampleMs: &lt;locations&gt; is required by this plugin. -&gt; [Help 1]\n</code></pre>\n"},{"tags":["java","class","search","arraylist"],"comments":[{"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":3,"creation_date":1695936547,"post_id":77198356,"comment_id":136093916,"body_markdown":"You haven&#39;t provided your `person` class, which needs to override `equals` for `ArrayList.contains` (`people.contains`) to work.","body":"You haven&#39;t provided your <code>person</code> class, which needs to override <code>equals</code> for <code>ArrayList.contains</code> (<code>people.contains</code>) to work."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1695938307,"post_id":77198356,"comment_id":136094108,"body_markdown":"Make sure you’re interpreting the assignment correctly. Your first sentence says to create an array, but the code uses an `ArrayList`, which is different than an array. The instructor might not want you to be using the collection API and the `contains` method if it hasn’t been taught in the course at this point. It might help if you include the exact assignment text in the question.","body":"Make sure you’re interpreting the assignment correctly. Your first sentence says to create an array, but the code uses an <code>ArrayList</code>, which is different than an array. The instructor might not want you to be using the collection API and the <code>contains</code> method if it hasn’t been taught in the course at this point. It might help if you include the exact assignment text in the question."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695941720,"creation_date":1695938349,"answer_id":77198495,"question_id":77198356,"body_markdown":"As was stated in the comments, override equals. Or just iterate over the list as shown. Remember that case matters when comparing strings.  There is also an `equalsIgnoreCase` method.\r\n\r\nThe following assumes that `name` is a String field of the `Person` class.\r\n\r\n```\r\nString searchedName = &lt;some persons name&gt;\r\nboolean found = false;\r\nfor (Person p : people) {\r\n   if (p.name.equals(searchedName)) {\r\n        found = true;\r\n        break;\r\n   }\r\n}\r\nif (found){\r\n     System.out.println(searchedName + &quot; IS in the system&quot;);\r\n}else{\r\n     System.out.println(searchedName + &quot; is NOT in the system&quot;);\r\n}       \r\n","title":"How do I search an arraylist for a string in a new class?","body":"<p>As was stated in the comments, override equals. Or just iterate over the list as shown. Remember that case matters when comparing strings.  There is also an <code>equalsIgnoreCase</code> method.</p>\n<p>The following assumes that <code>name</code> is a String field of the <code>Person</code> class.</p>\n<pre><code>String searchedName = &lt;some persons name&gt;\nboolean found = false;\nfor (Person p : people) {\n   if (p.name.equals(searchedName)) {\n        found = true;\n        break;\n   }\n}\nif (found){\n     System.out.println(searchedName + &quot; IS in the system&quot;);\n}else{\n     System.out.println(searchedName + &quot; is NOT in the system&quot;);\n}       \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695943484,"creation_date":1695943484,"answer_id":77198759,"question_id":77198356,"body_markdown":"One issue is your code recreates a new collection every pass through the loop:\r\n\r\n    while (true){\r\n    ArrayList&lt;person&gt; people = new ArrayList&lt;&gt;();\r\n\r\nSo assuming you first choose &quot;1&quot; to add people to the list, the next iteration `people` is reinitialized (empty) and then any search &quot;2&quot; would not find any results.\r\n\r\nSo just move the initialization outside the loop:\r\n\r\n    ArrayList&lt;person&gt; people = new ArrayList&lt;&gt;();\r\n    while (true){\r\n\r\nYou should also move the scanner creation outside as well - just need one instance for the program.","title":"How do I search an arraylist for a string in a new class?","body":"<p>One issue is your code recreates a new collection every pass through the loop:</p>\n<pre><code>while (true){\nArrayList&lt;person&gt; people = new ArrayList&lt;&gt;();\n</code></pre>\n<p>So assuming you first choose &quot;1&quot; to add people to the list, the next iteration <code>people</code> is reinitialized (empty) and then any search &quot;2&quot; would not find any results.</p>\n<p>So just move the initialization outside the loop:</p>\n<pre><code>ArrayList&lt;person&gt; people = new ArrayList&lt;&gt;();\nwhile (true){\n</code></pre>\n<p>You should also move the scanner creation outside as well - just need one instance for the program.</p>\n"}],"owner":{"account_id":29558737,"reputation":1,"user_id":22653787,"display_name":"scout900"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77198495,"answer_count":2,"score":-1,"last_activity_date":1695943484,"creation_date":1695936234,"question_id":77198356,"body_markdown":"I&#39;m working on an assignment for a Java class to write a program that makes an empty array of a new class person that contains a string for their name, then lets you add new people and search for them. The problem is that the search function I wrote always says that the searched names aren&#39;t in the array even if they should be.\r\n\r\n    import java.util.*;\r\n    public class ArrayOfPeople {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello&quot;);\r\n        boolean running = true;\r\n        while (true){\r\n        ArrayList&lt;person&gt; people = new ArrayList&lt;&gt;();\r\n        System.out.println(&quot;press 1 to add people&quot;);\r\n        System.out.println(&quot;press 2 to search people&quot;);\r\n        System.out.println(&quot;press 3 to exit program&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        int input = scanner.nextInt();\r\n        \r\n            \r\n        switch (input) {\r\n            \r\n            //add people\r\n            case 1:\r\n                System.out.println(&quot; how many people would you like to add?&quot;);\r\n                int quantityOfNames = (scanner.nextInt());\r\n                for(int i=0; i&lt;quantityOfNames; i++){\r\n                    System.out.println(&quot; what is the new person&#39;s first name?&quot;);\r\n                    person newPerson = new person();\r\n                    newPerson.fName = scanner.next();\r\n                    people.add(newPerson);\r\n                }\r\n                break;\r\n                \r\n            //search people\r\n            case 2:\r\n                System.out.println(&quot;what is the persons first name?&quot;);\r\n                String searchedName = scanner.next();\r\n                person searchedPerson = new person();\r\n                searchedPerson.fName = searchedName;\r\n                \r\n                boolean found = people.contains(searchedPerson);\r\n                if (found){\r\n                    System.out.println(searchedName + &quot; IS in the system&quot;);\r\n                }else{\r\n                    System.out.println(searchedName + &quot; is NOT in the system&quot;);\r\n                }       \r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;ve tried comparing the two strings with an if statement inside a for loop, but that only ever gave me successful search messages, then I tried the .contains method for Arraylist, and that&#39;s what&#39;s only giving me unsuccessful messages now. But I need it to tell me yes if the name is in the array and no if it isn&#39;t. \r\n\r\nAny help would be very much appreciated, thank you.\r\n\r\nAlso this is my first post here so please let me know if there&#39;s etiquette I&#39;m missing or something.","title":"How do I search an arraylist for a string in a new class?","body":"<p>I'm working on an assignment for a Java class to write a program that makes an empty array of a new class person that contains a string for their name, then lets you add new people and search for them. The problem is that the search function I wrote always says that the searched names aren't in the array even if they should be.</p>\n<pre><code>import java.util.*;\npublic class ArrayOfPeople {\n\npublic static void main(String[] args) {\n    System.out.println(&quot;Hello&quot;);\n    boolean running = true;\n    while (true){\n    ArrayList&lt;person&gt; people = new ArrayList&lt;&gt;();\n    System.out.println(&quot;press 1 to add people&quot;);\n    System.out.println(&quot;press 2 to search people&quot;);\n    System.out.println(&quot;press 3 to exit program&quot;);\n    Scanner scanner = new Scanner(System.in);\n    int input = scanner.nextInt();\n    \n        \n    switch (input) {\n        \n        //add people\n        case 1:\n            System.out.println(&quot; how many people would you like to add?&quot;);\n            int quantityOfNames = (scanner.nextInt());\n            for(int i=0; i&lt;quantityOfNames; i++){\n                System.out.println(&quot; what is the new person's first name?&quot;);\n                person newPerson = new person();\n                newPerson.fName = scanner.next();\n                people.add(newPerson);\n            }\n            break;\n            \n        //search people\n        case 2:\n            System.out.println(&quot;what is the persons first name?&quot;);\n            String searchedName = scanner.next();\n            person searchedPerson = new person();\n            searchedPerson.fName = searchedName;\n            \n            boolean found = people.contains(searchedPerson);\n            if (found){\n                System.out.println(searchedName + &quot; IS in the system&quot;);\n            }else{\n                System.out.println(searchedName + &quot; is NOT in the system&quot;);\n            }       \n            break;\n        }\n    }\n}\n</code></pre>\n<p>I've tried comparing the two strings with an if statement inside a for loop, but that only ever gave me successful search messages, then I tried the .contains method for Arraylist, and that's what's only giving me unsuccessful messages now. But I need it to tell me yes if the name is in the array and no if it isn't.</p>\n<p>Any help would be very much appreciated, thank you.</p>\n<p>Also this is my first post here so please let me know if there's etiquette I'm missing or something.</p>\n"},{"tags":["java","gradle","jenkins"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695943148,"post_id":77198389,"comment_id":136094588,"body_markdown":"What&#39;s the code? What upgrades did you perform?","body":"What&#39;s the code? What upgrades did you perform?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695943418,"creation_date":1695943418,"answer_id":77198757,"question_id":77198389,"body_markdown":"Package `org.omg.PortableInterceptor` was part of the `java.corba` module which was removed in JDK 11 because of https://openjdk.org/jeps/320. It seems that you upgraded the JDK version probably from JDK 8 or earlier to JDK 11 or later. You should search for alternative implementations of CORBA for Java if you need it. \r\n\r\nNote that the previous error about JVM argument `-CMSClassUnloadingEnabled` is unrelated to this issue.","title":"compileTestJava failing after gradle upgrade","body":"<p>Package <code>org.omg.PortableInterceptor</code> was part of the <code>java.corba</code> module which was removed in JDK 11 because of <a href=\"https://openjdk.org/jeps/320\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/320</a>. It seems that you upgraded the JDK version probably from JDK 8 or earlier to JDK 11 or later. You should search for alternative implementations of CORBA for Java if you need it.</p>\n<p>Note that the previous error about JVM argument <code>-CMSClassUnloadingEnabled</code> is unrelated to this issue.</p>\n"}],"owner":{"account_id":8706192,"reputation":577,"user_id":7543388,"accept_rate":48,"display_name":"daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695943418,"creation_date":1695936641,"question_id":77198389,"body_markdown":"The history of the issue is that everything used to work fine before upgrading to gradle 8 and then it started to fail with:\r\n\r\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\r\n    Unrecognized VM option &#39;CMSClassUnloadingEnabled&#39;\r\n    Error: Could not create the java virtual Machine\r\n    Error: A fatal exception has occured\r\n\r\nI removed that variable and then my test cases fail with the following type of issue:\r\n\r\n    /workersfsPODB45/workspace/kenkins-build45/-1021654004/44/src/test/java/com/wellsfargo/ccbs/bizmanagers/PricingManagerTest.java:109: error: cannot find symbol private RequestInfo requestInfo;  \r\n\r\n`RequestInfo` comes from the JDK:\r\n\r\n    org.omg.PortableInterceptor\r\n\r\nWhat could the issue be?","title":"compileTestJava failing after gradle upgrade","body":"<p>The history of the issue is that everything used to work fine before upgrading to gradle 8 and then it started to fail with:</p>\n<pre><code>Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\nUnrecognized VM option 'CMSClassUnloadingEnabled'\nError: Could not create the java virtual Machine\nError: A fatal exception has occured\n</code></pre>\n<p>I removed that variable and then my test cases fail with the following type of issue:</p>\n<pre><code>/workersfsPODB45/workspace/kenkins-build45/-1021654004/44/src/test/java/com/wellsfargo/ccbs/bizmanagers/PricingManagerTest.java:109: error: cannot find symbol private RequestInfo requestInfo;  \n</code></pre>\n<p><code>RequestInfo</code> comes from the JDK:</p>\n<pre><code>org.omg.PortableInterceptor\n</code></pre>\n<p>What could the issue be?</p>\n"},{"tags":["java","unit-testing","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":7091575,"reputation":58,"user_id":5426589,"display_name":"Imre T&#246;m&#246;sv&#225;ri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676839950,"creation_date":1676839950,"answer_id":75503374,"question_id":75501366,"body_markdown":"As far as I know, this is not possible using the Mockito API. \r\n\r\nYou can try a design change where a new `MockedFactory` class is responsible for creating `Mocked` objects. You can create a `MockMockedFactory` for your tests and inject it into Target to use. You will be able to verify the methods called on this factory by the class under test. Not the nicest, adds boilerplate code, but works.\r\n\r\nAlso, I guess the newly created object is not returned as testing would not be a problem then. It is worth considering if the method you are testing isn&#39;t too big doing too many things at once. Maybe some other refactors could help make it more testable.\r\n\r\nOr maybe this one: https://groups.google.com/g/mockito/c/WqPlcNrvbOw?pli=1 ","title":"Mockito: verify arguments passed to constructor","body":"<p>As far as I know, this is not possible using the Mockito API.</p>\n<p>You can try a design change where a new <code>MockedFactory</code> class is responsible for creating <code>Mocked</code> objects. You can create a <code>MockMockedFactory</code> for your tests and inject it into Target to use. You will be able to verify the methods called on this factory by the class under test. Not the nicest, adds boilerplate code, but works.</p>\n<p>Also, I guess the newly created object is not returned as testing would not be a problem then. It is worth considering if the method you are testing isn't too big doing too many things at once. Maybe some other refactors could help make it more testable.</p>\n<p>Or maybe this one: <a href=\"https://groups.google.com/g/mockito/c/WqPlcNrvbOw?pli=1\" rel=\"nofollow noreferrer\">https://groups.google.com/g/mockito/c/WqPlcNrvbOw?pli=1</a></p>\n"},{"tags":[],"owner":{"account_id":28110571,"reputation":11,"user_id":21478404,"display_name":"user21478404"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695943060,"creation_date":1695943060,"answer_id":77198747,"question_id":75501366,"body_markdown":"You can run assertions using Junit or your testing library of choice on the `context` argument passed into the mockedConstructor, which will have a list of the arguments passed into the constructor. (Note that they will all be stored as `Object`, so you will need to cast them) e.g.\r\n\r\n    try (MockedConstruction&lt;Mocked&gt; mockedConstructor = mockConstruction(Mocked.class, (mock, context) -&gt; {\r\n                 assertEquals(&quot;Hello&quot;, (String) context.arguments().get(0));\r\n                 assertEquals(&quot;World&quot;, (String) context.arguments().get(1));\r\n                 assertEquals(99, (int) context.arguments().get(2));\r\n        }))\r\n    {\r\n        new Target().testMe();\r\n    }\r\n\r\n","title":"Mockito: verify arguments passed to constructor","body":"<p>You can run assertions using Junit or your testing library of choice on the <code>context</code> argument passed into the mockedConstructor, which will have a list of the arguments passed into the constructor. (Note that they will all be stored as <code>Object</code>, so you will need to cast them) e.g.</p>\n<pre><code>try (MockedConstruction&lt;Mocked&gt; mockedConstructor = mockConstruction(Mocked.class, (mock, context) -&gt; {\n             assertEquals(&quot;Hello&quot;, (String) context.arguments().get(0));\n             assertEquals(&quot;World&quot;, (String) context.arguments().get(1));\n             assertEquals(99, (int) context.arguments().get(2));\n    }))\n{\n    new Target().testMe();\n}\n</code></pre>\n"}],"owner":{"account_id":1077512,"reputation":2115,"user_id":1075330,"accept_rate":82,"display_name":"Stormcloud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75503374,"answer_count":2,"score":0,"last_activity_date":1695943060,"creation_date":1676821919,"question_id":75501366,"body_markdown":"I&#39;m trying to work out how to verify the parameters passed to a mocked constructor in Mockito. A simplified version of my code is:\r\n\r\n    class Mocked {\r\n        Mocked(String first, String second, int value) {\r\n        }\r\n    }\r\n\r\n    class Target {\r\n        void testMe() {\r\n            new Mocked(&quot;Hello&quot;, &quot;World&quot;, 99);\r\n        }\r\n    }\r\n\r\n\r\n    @Test\r\n    public void test_Target() {\r\n        try (\r\n            MockedConstruction&lt;Mocked&gt; mockedNew = mockConstruction(Mocked.class);\r\n        ) {\r\n            new Target().testMe();\r\n\r\n            Mocked mocked = mockedNew.constructed().get(0);\r\n            // TODO: verify all arguments passed to mocked\r\n        }\r\n    }\r\n\r\n* The class I&#39;m trying to test is &quot;Target&quot;\r\n* Target uses an instance of the &quot;Mocked&quot; class. In real code code I&#39;ll want to use an actual instance of Mocked, but for the purposes of testing I want to mock it out so I can test &quot;Target&quot; in isolation of &quot;Mocked&quot;. I&#39;ve used the mockConstruction construct to do this.\r\n\r\nIn my final version of my code the arguments passed to the Mocked constructor are not hardcoded. Instead there will be some business logic to derive them, so and I want to verify they have been derived out correctly. But how?\r\n\r\nNone of the examples I&#39;ve Googled show show me how to do this, and `org.mockito.Mockito.verify()` doesn&#39;t appear to have a way to test a constructor. \r\n\r\nThe only solution I can see is to add mock initialiser function that copies the argument into local variables. But this involves making those variables effectively final (so final one element array) and ugly casts. Surely there has to be something better than that!\r\n\r\nWhat have I missed?\r\n\r\n","title":"Mockito: verify arguments passed to constructor","body":"<p>I'm trying to work out how to verify the parameters passed to a mocked constructor in Mockito. A simplified version of my code is:</p>\n<pre><code>class Mocked {\n    Mocked(String first, String second, int value) {\n    }\n}\n\nclass Target {\n    void testMe() {\n        new Mocked(&quot;Hello&quot;, &quot;World&quot;, 99);\n    }\n}\n\n\n@Test\npublic void test_Target() {\n    try (\n        MockedConstruction&lt;Mocked&gt; mockedNew = mockConstruction(Mocked.class);\n    ) {\n        new Target().testMe();\n\n        Mocked mocked = mockedNew.constructed().get(0);\n        // TODO: verify all arguments passed to mocked\n    }\n}\n</code></pre>\n<ul>\n<li>The class I'm trying to test is &quot;Target&quot;</li>\n<li>Target uses an instance of the &quot;Mocked&quot; class. In real code code I'll want to use an actual instance of Mocked, but for the purposes of testing I want to mock it out so I can test &quot;Target&quot; in isolation of &quot;Mocked&quot;. I've used the mockConstruction construct to do this.</li>\n</ul>\n<p>In my final version of my code the arguments passed to the Mocked constructor are not hardcoded. Instead there will be some business logic to derive them, so and I want to verify they have been derived out correctly. But how?</p>\n<p>None of the examples I've Googled show show me how to do this, and <code>org.mockito.Mockito.verify()</code> doesn't appear to have a way to test a constructor.</p>\n<p>The only solution I can see is to add mock initialiser function that copies the argument into local variables. But this involves making those variables effectively final (so final one element array) and ugly casts. Surely there has to be something better than that!</p>\n<p>What have I missed?</p>\n"},{"tags":["java","android"],"owner":{"account_id":22934173,"reputation":1,"user_id":17067885,"display_name":"Islahul Bilad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695942617,"answer_count":0,"score":0,"last_activity_date":1695942636,"creation_date":1695941981,"question_id":77198685,"body_markdown":"I want to build an android application for exam purposes, when the user click &quot;START EXAM&quot; there are some conditions that should be happen on the app:\r\n1. Can not use clipboard (copy,cut,paste)\r\n2. Can not switch to the another app\r\n3. Disable navigation button (back, home, and etc.)\r\n\r\n\r\n\r\nwhich are java methods / xml configuration for those requirements?","title":"Unclosable activity for exams( Android )","body":"<p>I want to build an android application for exam purposes, when the user click &quot;START EXAM&quot; there are some conditions that should be happen on the app:</p>\n<ol>\n<li>Can not use clipboard (copy,cut,paste)</li>\n<li>Can not switch to the another app</li>\n<li>Disable navigation button (back, home, and etc.)</li>\n</ol>\n<p>which are java methods / xml configuration for those requirements?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":431053,"reputation":8829,"user_id":814849,"accept_rate":83,"display_name":"mmtauqir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312927522,"creation_date":1312927522,"answer_id":7003598,"question_id":7003552,"body_markdown":"The first one is used usually to initialize static variable and should be used only for that purpose.\r\n\r\nIn this case, you should use the second method.\r\n\r\nPlease correct me if I am wrong.","title":"Initializing on declaration vs initializing in constructors","body":"<p>The first one is used usually to initialize static variable and should be used only for that purpose.</p>\n\n<p>In this case, you should use the second method.</p>\n\n<p>Please correct me if I am wrong.</p>\n"},{"tags":[],"owner":{"account_id":353661,"reputation":705,"user_id":691501,"accept_rate":86,"display_name":"CalMlynarczyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312927711,"creation_date":1312927711,"answer_id":7003623,"question_id":7003552,"body_markdown":"It is best to declare variables inside the constructor for the sake of consistency. A variable may require something like a loop or an if-else statement to initialize it, which can not be done in the declaration without placing the operation inside of a method.\r\n\r\nThe exception to this rule is static variables, which should be declared outside of the constructor.","title":"Initializing on declaration vs initializing in constructors","body":"<p>It is best to declare variables inside the constructor for the sake of consistency. A variable may require something like a loop or an if-else statement to initialize it, which can not be done in the declaration without placing the operation inside of a method.</p>\n\n<p>The exception to this rule is static variables, which should be declared outside of the constructor.</p>\n"},{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312928412,"creation_date":1312927952,"answer_id":7003663,"question_id":7003552,"body_markdown":"Single-line declarations cannot contain complex initialization logic.\r\n\r\nIf you initialize a variable as:\r\n\r\n    class AnotherClass\r\n    {\r\n        MyClass anObject = new MyClass(); //MyClass() throws a checked exception.\r\n    }\r\n\r\nthen you&#39;ll find that you cannot provide the initial value in the single line. You&#39;ll need to place such code in a block, that quite obviously goes inside a constructor (or in a non-static initialization block):\r\n\r\nUsing a constructor:\r\n\r\n    class AnotherClass\r\n    {\r\n        MyClass anObject;\r\n\r\n        AnotherClass()\r\n        {\r\n            try{this.anObject = new MyClass();}catch(SomeException e){/*handle exception.*/}\r\n        }\r\n    }\r\n\r\nUsing a initialization block:\r\n\r\n    class AnotherClass\r\n    {\r\n        MyClass anObject;\r\n\r\n        {\r\n            try{this.anObject = new MyClass();}catch(SomeException e){/*handle exception.*/}\r\n        }\r\n    }\r\n\r\nI find that the latter makes for less understandable code, as the declaration and initialization are separated from each other, and the initialization does not occur in a constructor coded by the developer (although there is no difference at runtime).\r\n\r\nThe same goes for other complex routines involved in initialization of fields. For example, if you intend to initialize an `Array` or a `Collection` and set the contents of the array/collection to some default value, then you should do so inside a constructor:\r\n\r\n    class AnotherClass\r\n    {\r\n        Integer[] integers;\r\n\r\n        AnotherClass()\r\n        {\r\n            this.integers = new Integer[10];\r\n            for(Integer integer: integers)\r\n            {\r\n                integer = Integer.MIN_VALUE;\r\n            }\r\n        }\r\n    }\r\n","title":"Initializing on declaration vs initializing in constructors","body":"<p>Single-line declarations cannot contain complex initialization logic.</p>\n\n<p>If you initialize a variable as:</p>\n\n<pre><code>class AnotherClass\n{\n    MyClass anObject = new MyClass(); //MyClass() throws a checked exception.\n}\n</code></pre>\n\n<p>then you'll find that you cannot provide the initial value in the single line. You'll need to place such code in a block, that quite obviously goes inside a constructor (or in a non-static initialization block):</p>\n\n<p>Using a constructor:</p>\n\n<pre><code>class AnotherClass\n{\n    MyClass anObject;\n\n    AnotherClass()\n    {\n        try{this.anObject = new MyClass();}catch(SomeException e){/*handle exception.*/}\n    }\n}\n</code></pre>\n\n<p>Using a initialization block:</p>\n\n<pre><code>class AnotherClass\n{\n    MyClass anObject;\n\n    {\n        try{this.anObject = new MyClass();}catch(SomeException e){/*handle exception.*/}\n    }\n}\n</code></pre>\n\n<p>I find that the latter makes for less understandable code, as the declaration and initialization are separated from each other, and the initialization does not occur in a constructor coded by the developer (although there is no difference at runtime).</p>\n\n<p>The same goes for other complex routines involved in initialization of fields. For example, if you intend to initialize an <code>Array</code> or a <code>Collection</code> and set the contents of the array/collection to some default value, then you should do so inside a constructor:</p>\n\n<pre><code>class AnotherClass\n{\n    Integer[] integers;\n\n    AnotherClass()\n    {\n        this.integers = new Integer[10];\n        for(Integer integer: integers)\n        {\n            integer = Integer.MIN_VALUE;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1382199677,"creation_date":1312928375,"answer_id":7003734,"question_id":7003552,"body_markdown":"If the member can *only* be set via an accessor (a &quot;setter&quot; method), I prefer the first style. It provides a hint that the initialized value is the default upon construction.\r\n\r\nIf the member can be specified during construction, I generally pass the default value to an appropriate constructor from constructor with fewer parameters. For example,\r\n\r\n    final class Dude {\r\n\r\n      private final String name;\r\n\r\n      Dude() {\r\n        this(&quot;El Duderino&quot;);\r\n      }\r\n\r\n      Dude(String name) {\r\n        this.name = name;\r\n      }\r\n\r\n    }\r\n","title":"Initializing on declaration vs initializing in constructors","body":"<p>If the member can <em>only</em> be set via an accessor (a \"setter\" method), I prefer the first style. It provides a hint that the initialized value is the default upon construction.</p>\n\n<p>If the member can be specified during construction, I generally pass the default value to an appropriate constructor from constructor with fewer parameters. For example,</p>\n\n<pre><code>final class Dude {\n\n  private final String name;\n\n  Dude() {\n    this(\"El Duderino\");\n  }\n\n  Dude(String name) {\n    this.name = name;\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":56787,"reputation":2305,"user_id":170120,"display_name":"amrhassan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14731,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"closed_date":1695938463,"accepted_answer_id":7003734,"answer_count":4,"score":8,"last_activity_date":1695941846,"creation_date":1312927298,"question_id":7003552,"body_markdown":"I was wondering, which is a better practice and why. Should I initialize class fields upon declaration, or should I do it in the constructor? Given that it&#39;s a simple one-line initialization.\r\n\r\n    class Dude\r\n    {\r\n        String name = &quot;El duderino&quot;;\r\n        \r\n        Dude() {\r\n            // irrelevant code\r\n        }\r\n    }\r\n\r\nvs.\r\n\r\n    class Dude\r\n    {\r\n        String name;\r\n        \r\n        Dude() {\r\n            name = &quot;El duderino&quot;;\r\n            \r\n            // irrelevant code\r\n        }\r\n    }\r\n\r\n**Edit:** I am aware of the situations where one of the styles would be preferred over the other like in the case of executing initializer code that might throw an exception. What I&#39;m talking about here are cases when both styles are absolutely equivalent. Both ways would accomplish the same task. Which should I use then?","title":"Initializing on declaration vs initializing in constructors","body":"<p>I was wondering, which is a better practice and why. Should I initialize class fields upon declaration, or should I do it in the constructor? Given that it's a simple one-line initialization.</p>\n<pre><code>class Dude\n{\n    String name = &quot;El duderino&quot;;\n    \n    Dude() {\n        // irrelevant code\n    }\n}\n</code></pre>\n<p>vs.</p>\n<pre><code>class Dude\n{\n    String name;\n    \n    Dude() {\n        name = &quot;El duderino&quot;;\n        \n        // irrelevant code\n    }\n}\n</code></pre>\n<p><strong>Edit:</strong> I am aware of the situations where one of the styles would be preferred over the other like in the case of executing initializer code that might throw an exception. What I'm talking about here are cases when both styles are absolutely equivalent. Both ways would accomplish the same task. Which should I use then?</p>\n"},{"tags":["java","spring-boot","docker","memory-leaks","grpc"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1695940946,"post_id":77198595,"comment_id":136094382,"body_markdown":"This is a great question, but please follow StackOverflow practice and paste your code directly, not as images.  (The graphs can stay.)","body":"This is a great question, but please follow StackOverflow practice and paste your code directly, not as images.  (The graphs can stay.)"},{"owner":{"account_id":14450736,"reputation":21,"user_id":10438348,"display_name":"Jonathan Shifman"},"score":0,"creation_date":1695941638,"post_id":77198595,"comment_id":136094440,"body_markdown":"Edited, thanks!","body":"Edited, thanks!"},{"owner":{"account_id":3683940,"reputation":329,"user_id":3068162,"display_name":"Easwar Swaminathan"},"score":0,"creation_date":1696439848,"post_id":77198595,"comment_id":136154330,"body_markdown":"What version of gRPC-Java are you using?\n\nAlso, if you can narrow it down to a specific place in gRPC-Java where you think the memory is getting leaked, you could post of their Github repo for better response times.","body":"What version of gRPC-Java are you using?  Also, if you can narrow it down to a specific place in gRPC-Java where you think the memory is getting leaked, you could post of their Github repo for better response times."},{"owner":{"account_id":14450736,"reputation":21,"user_id":10438348,"display_name":"Jonathan Shifman"},"score":0,"creation_date":1696442688,"post_id":77198595,"comment_id":136154889,"body_markdown":"We are currently using version 4.7.0. As far as narrowing it down, I can see that memory start growing without bound once I start sending large requests to the server using a ByteString field in my requests. How would you advise to narrow it down further?","body":"We are currently using version 4.7.0. As far as narrowing it down, I can see that memory start growing without bound once I start sending large requests to the server using a ByteString field in my requests. How would you advise to narrow it down further?"},{"owner":{"account_id":14450736,"reputation":21,"user_id":10438348,"display_name":"Jonathan Shifman"},"score":0,"creation_date":1696442875,"post_id":77198595,"comment_id":136154925,"body_markdown":"To clarify, the version 4.7.0 is of io.github.lognet:grpc-spring-boot-starter.","body":"To clarify, the version 4.7.0 is of io.github.lognet:grpc-spring-boot-starter."},{"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"score":0,"creation_date":1696624069,"post_id":77198595,"comment_id":136182104,"body_markdown":"What version of gRPC Java would that be? Also I posted a response to the same query in grpc-java github repo https://github.com/grpc/grpc-java/issues/10589","body":"What version of gRPC Java would that be? Also I posted a response to the same query in grpc-java github repo <a href=\"https://github.com/grpc/grpc-java/issues/10589\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-java/issues/10589</a>"},{"owner":{"account_id":14450736,"reputation":21,"user_id":10438348,"display_name":"Jonathan Shifman"},"score":0,"creation_date":1697378395,"post_id":77198595,"comment_id":136269798,"body_markdown":"@SanP Thanks for the response, and sorry again for the delay! I have responded to the github issue.","body":"@SanP Thanks for the response, and sorry again for the delay! I have responded to the github issue."}],"owner":{"account_id":14450736,"reputation":21,"user_id":10438348,"display_name":"Jonathan Shifman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695941597,"creation_date":1695940313,"question_id":77198595,"body_markdown":"We have a gRPC server written in Java. The application is using SpringBoot version 2.5.7.\r\n\r\nIn an attempt to isolate the issue, I stripped the project down to contain only one unary gRPC endpoint that handles file uploads. The maximum size of an inbound message was increased to 400MB, and the files are being sent as a `ByteString` as part of the gRPC request:\r\n\r\n    // Upload an object with a unique ObjectIdentifier and corresponding object.\r\n    rpc UploadObject (UploadObjectRequest) returns (google.protobuf.Empty);\r\n\t\r\n    message UploadObjectRequest {\r\n        ObjectIdentifier object_identifier = 1;\r\n        bytes object = 2; // A byte array representing single object data.\r\n    }\r\n\r\nUpon receiving the request, the server immediately returns a successful response to the client through the `responseObserver` object. The `ByteString` is discarded and is not written anywhere - We just send a response and return:\r\n\r\n    @Slf4j\r\n    @GRpcService\r\n    public class MyEndpoint extends MyServiceImplBase {\r\n        @Override\r\n        public void uploadObject(UploadObjectRequest request, StreamObserver&lt;Empty&gt; responseObserver) {\r\n            responseObserver.onNext(Empty.getDefaultInstance());\r\n            responseObserver.onCompleted();\r\n        }\r\n    }\r\n\r\nThe application is deployed on Kubernetes (on 1 pod). We were using **openjdk:17.0.2-jdk** as a Docker image, until it got deprecated, then migrated to **amazoncorretto:17.0.7-al2023**.\r\n\r\nSince migrating to the Amazon image, we are observing a memory leak, specifically in the direct buffer (non-heap) memory. To recreate and isolate the issue, I wrote a method that repeatedly invokes the endpoint with a large file (200MB):\r\n\r\n    @SneakyThrows\r\n    @Test\r\n    public void test() {\r\n    \twhile (true) {\r\n    \tChannel channel = grpcClientChannelFactory.createGrpcChannel(host, port);\r\n\t    MyServiceBlockingStub blockingStub = newBlockingStub(channel);\r\n\r\n\t\t    final int numOfBytes = 200_000_000;\r\n\t\t    byte[] bytes = new byte[numOfBytes];\r\n\t\t    new Random().nextBytes(bytes);\r\n\t\t    UploadObjectRequest uploadObjectRequest = UploadObjectRequest.newBuilder()\r\n\t\t\t\t    .setObjectIdentifier(\r\n\t\t\t\t\t\t    ObjectIdentifier.newBuilder()\r\n\t\t\t\t\t\t\t\t    .setNamespace(&quot;namespace&quot;)\r\n\t\t\t\t\t\t\t\t    .setKey(&quot;testFile&quot;)\r\n\t\t\t\t    )\r\n\t\t\t\t    .setObject(ByteString.copyFrom(bytes))\r\n\t\t\t\t    .build();\r\n\r\n\t\t    blockingStub\r\n\t\t\t\t    .withCallCredentials(new JwtCallCredential(JWT))\r\n\t\t\t\t    .uploadObject(uploadObjectRequest);\r\n\t\t    Thread.sleep(5000);\r\n\t    }\r\n    }\r\n\r\nBelow is a comparison of memory-related metrics between the two images. Other than the Docker image, the source is identical in both cases.\r\n\r\nI should mention that we tried numerous other images that are recommended as alternatives to openjdk:17.0.2-jdk, like amazoncorretto:21.0.0-al2023, eclipse-temurin:latest, ibmjava:latest, ibm-semeru-runtimes:open-17.0.8.1_1-jdk. The memory leak was reproduces in the same fashion in all of then. OpenJDK is the only image where we do not observe this issue.\r\n\r\n**Using openjdk:17.0.2-jdk:**\r\n\r\ncontainer_memory_usage_bytes\r\n[![enter image description here][5]][5]\r\n\r\njvm_buffer_memory_used_bytes (direct memory bytes)\r\n[![enter image description here][6]][6]\r\n\r\njvm_buffer_count_buffers (direct memory num of buffers)\r\n[![enter image description here][7]][7]\r\n\r\njvm_memory_used_bytes (heap memory bytes)\r\n[![enter image description here][8]][8]\r\n\r\n\r\n**Using openjdk:amazoncorretto:17.0.7-al2023:**\r\n\r\ncontainer_memory_usage_bytes\r\n[![enter image description here][9]][9]\r\n\r\njvm_buffer_memory_used_bytes (direct memory bytes)\r\n[![enter image description here][10]][10]\r\n\r\njvm_buffer_count_buffers (direct memory num of buffers)\r\n[![enter image description here][11]][11]\r\n\r\njvm_memory_used_bytes (heap memory bytes)\r\n[![enter image description here][12]][12]\r\n\r\nAny insight into what might be causing this is appreciated, as well as suggestions for how I might further isolate the issue and find out what is the root cause.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AljT4.png\r\n  [2]: https://i.stack.imgur.com/PtGTm.png\r\n  [3]: https://i.stack.imgur.com/VrEe9.png\r\n  [4]: https://i.stack.imgur.com/0A3b0.png\r\n  [5]: https://i.stack.imgur.com/UWnNY.png\r\n  [6]: https://i.stack.imgur.com/ry8Kn.png\r\n  [7]: https://i.stack.imgur.com/AJjkh.png\r\n  [8]: https://i.stack.imgur.com/x6MMz.png\r\n  [9]: https://i.stack.imgur.com/f0rxf.png\r\n  [10]: https://i.stack.imgur.com/djnm9.png\r\n  [11]: https://i.stack.imgur.com/yYqLr.png\r\n  [12]: https://i.stack.imgur.com/npzoQ.png","title":"gRPC Java server leaks memory on large requests since updating JDK Docker image","body":"<p>We have a gRPC server written in Java. The application is using SpringBoot version 2.5.7.</p>\n<p>In an attempt to isolate the issue, I stripped the project down to contain only one unary gRPC endpoint that handles file uploads. The maximum size of an inbound message was increased to 400MB, and the files are being sent as a <code>ByteString</code> as part of the gRPC request:</p>\n<pre><code>// Upload an object with a unique ObjectIdentifier and corresponding object.\nrpc UploadObject (UploadObjectRequest) returns (google.protobuf.Empty);\n\nmessage UploadObjectRequest {\n    ObjectIdentifier object_identifier = 1;\n    bytes object = 2; // A byte array representing single object data.\n}\n</code></pre>\n<p>Upon receiving the request, the server immediately returns a successful response to the client through the <code>responseObserver</code> object. The <code>ByteString</code> is discarded and is not written anywhere - We just send a response and return:</p>\n<pre><code>@Slf4j\n@GRpcService\npublic class MyEndpoint extends MyServiceImplBase {\n    @Override\n    public void uploadObject(UploadObjectRequest request, StreamObserver&lt;Empty&gt; responseObserver) {\n        responseObserver.onNext(Empty.getDefaultInstance());\n        responseObserver.onCompleted();\n    }\n}\n</code></pre>\n<p>The application is deployed on Kubernetes (on 1 pod). We were using <strong>openjdk:17.0.2-jdk</strong> as a Docker image, until it got deprecated, then migrated to <strong>amazoncorretto:17.0.7-al2023</strong>.</p>\n<p>Since migrating to the Amazon image, we are observing a memory leak, specifically in the direct buffer (non-heap) memory. To recreate and isolate the issue, I wrote a method that repeatedly invokes the endpoint with a large file (200MB):</p>\n<pre><code>@SneakyThrows\n@Test\npublic void test() {\n    while (true) {\n    Channel channel = grpcClientChannelFactory.createGrpcChannel(host, port);\n    MyServiceBlockingStub blockingStub = newBlockingStub(channel);\n\n        final int numOfBytes = 200_000_000;\n        byte[] bytes = new byte[numOfBytes];\n        new Random().nextBytes(bytes);\n        UploadObjectRequest uploadObjectRequest = UploadObjectRequest.newBuilder()\n                .setObjectIdentifier(\n                        ObjectIdentifier.newBuilder()\n                                .setNamespace(&quot;namespace&quot;)\n                                .setKey(&quot;testFile&quot;)\n                )\n                .setObject(ByteString.copyFrom(bytes))\n                .build();\n\n        blockingStub\n                .withCallCredentials(new JwtCallCredential(JWT))\n                .uploadObject(uploadObjectRequest);\n        Thread.sleep(5000);\n    }\n}\n</code></pre>\n<p>Below is a comparison of memory-related metrics between the two images. Other than the Docker image, the source is identical in both cases.</p>\n<p>I should mention that we tried numerous other images that are recommended as alternatives to openjdk:17.0.2-jdk, like amazoncorretto:21.0.0-al2023, eclipse-temurin:latest, ibmjava:latest, ibm-semeru-runtimes:open-17.0.8.1_1-jdk. The memory leak was reproduces in the same fashion in all of then. OpenJDK is the only image where we do not observe this issue.</p>\n<p><strong>Using openjdk:17.0.2-jdk:</strong></p>\n<p>container_memory_usage_bytes\n<a href=\"https://i.stack.imgur.com/UWnNY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UWnNY.png\" alt=\"enter image description here\" /></a></p>\n<p>jvm_buffer_memory_used_bytes (direct memory bytes)\n<a href=\"https://i.stack.imgur.com/ry8Kn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ry8Kn.png\" alt=\"enter image description here\" /></a></p>\n<p>jvm_buffer_count_buffers (direct memory num of buffers)\n<a href=\"https://i.stack.imgur.com/AJjkh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AJjkh.png\" alt=\"enter image description here\" /></a></p>\n<p>jvm_memory_used_bytes (heap memory bytes)\n<a href=\"https://i.stack.imgur.com/x6MMz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x6MMz.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Using openjdk:amazoncorretto:17.0.7-al2023:</strong></p>\n<p>container_memory_usage_bytes\n<a href=\"https://i.stack.imgur.com/f0rxf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f0rxf.png\" alt=\"enter image description here\" /></a></p>\n<p>jvm_buffer_memory_used_bytes (direct memory bytes)\n<a href=\"https://i.stack.imgur.com/djnm9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/djnm9.png\" alt=\"enter image description here\" /></a></p>\n<p>jvm_buffer_count_buffers (direct memory num of buffers)\n<a href=\"https://i.stack.imgur.com/yYqLr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yYqLr.png\" alt=\"enter image description here\" /></a></p>\n<p>jvm_memory_used_bytes (heap memory bytes)\n<a href=\"https://i.stack.imgur.com/npzoQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/npzoQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Any insight into what might be causing this is appreciated, as well as suggestions for how I might further isolate the issue and find out what is the root cause.</p>\n"},{"tags":["java","string","type-conversion"],"comments":[{"owner":{"account_id":111674,"reputation":20653,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":51,"creation_date":1400604614,"post_id":4105331,"comment_id":36543628,"body_markdown":"The **&quot;silly, easy&quot;** way is string = &quot;&quot; + integer;","body":"The <b>&quot;silly, easy&quot;</b> way is string = &quot;&quot; + integer;"},{"owner":{"account_id":2762423,"reputation":1724,"user_id":2379046,"accept_rate":100,"display_name":"Narayan Yerrabachu"},"score":1,"creation_date":1411644798,"post_id":4105331,"comment_id":40785911,"body_markdown":"nice document: [http://javarevisited.blogspot.de/2011/08/convert-string-to-integer-to-string.html] example","body":"nice document: [<a href=\"http://javarevisited.blogspot.de/2011/08/convert-string-to-integer-to-string.html]\" rel=\"nofollow noreferrer\">javarevisited.blogspot.de/2011/08/&hellip;</a> example"},{"owner":{"account_id":6230972,"reputation":1361,"user_id":4847772,"accept_rate":67,"display_name":"PJTraill"},"score":0,"creation_date":1454512062,"post_id":4105331,"comment_id":58078117,"body_markdown":"@JoeBlow: what do you mean by “the **&quot;silly easy&quot;** way”?","body":"@JoeBlow: what do you mean by “the <b>&quot;silly easy&quot;</b> way”?"},{"owner":{"account_id":111674,"reputation":20653,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":2,"creation_date":1454512197,"post_id":4105331,"comment_id":58078212,"body_markdown":"I just meant, it&#39;s a &quot;quick, simple&quot; way to do it.  it&#39;s a bit silly but it works!","body":"I just meant, it&#39;s a &quot;quick, simple&quot; way to do it.  it&#39;s a bit silly but it works!"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1484499117,"post_id":4105331,"comment_id":70525506,"body_markdown":"A colleague of mine did `Integer.valueOf(i).toString()`. He must have been fond of objects. While it very clearly states his intention, it’s a bit long for my taste.","body":"A colleague of mine did <code>Integer.valueOf(i).toString()</code>. He must have been fond of objects. While it very clearly states his intention, it’s a bit long for my taste."},{"owner":{"account_id":341547,"reputation":6708,"user_id":672226,"accept_rate":68,"display_name":"Ska"},"score":6,"creation_date":1494942009,"post_id":4105331,"comment_id":75034606,"body_markdown":"You only need 45 lines of code, and implementing 7 interfaces to do it.","body":"You only need 45 lines of code, and implementing 7 interfaces to do it."}],"answers":[{"tags":[],"owner":{"account_id":227533,"reputation":46580,"user_id":489261,"display_name":"darioo"},"down_vote_count":2,"up_vote_count":117,"is_accepted":false,"score":115,"last_activity_date":1288955623,"creation_date":1288955623,"answer_id":4105344,"question_id":4105331,"body_markdown":"It&#39;s not a good way.\r\n\r\nWhen doing conversion from int to string, this should be used:\r\n\r\n    int i = 5;\r\n    String strI = String.valueOf(i);","title":"How do I convert from int to String?","body":"<p>It's not a good way.</p>\n\n<p>When doing conversion from int to string, this should be used:</p>\n\n<pre><code>int i = 5;\nString strI = String.valueOf(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91491,"reputation":135854,"user_id":251153,"accept_rate":86,"display_name":"zneak"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1288955663,"creation_date":1288955663,"answer_id":4105352,"question_id":4105331,"body_markdown":"The other way I am aware of is from the `Integer` class:\r\n\r\n    Integer.toString(int n);\r\n    Integer.toString(int n, int radix);\r\n\r\nA concrete example (though I wouldn&#39;t think you need any):\r\n\r\n    String five = Integer.toString(5); // returns &quot;5&quot;\r\n\r\nIt also works for other primitive types, for instance `Double.toString`.\r\n\r\n[See here for more details.][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html","title":"How do I convert from int to String?","body":"<p>The other way I am aware of is from the <code>Integer</code> class:</p>\n\n<pre><code>Integer.toString(int n);\nInteger.toString(int n, int radix);\n</code></pre>\n\n<p>A concrete example (though I wouldn't think you need any):</p>\n\n<pre><code>String five = Integer.toString(5); // returns \"5\"\n</code></pre>\n\n<p>It also works for other primitive types, for instance <code>Double.toString</code>.</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html\" rel=\"noreferrer\">See here for more details.</a></p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":258,"is_accepted":false,"score":258,"last_activity_date":1288955672,"creation_date":1288955672,"answer_id":4105353,"question_id":4105331,"body_markdown":"It&#39;s acceptable, but I&#39;ve never written anything like that.  I&#39;d prefer this: \r\n\r\n    String strI = Integer.toString(i);\r\n\r\n","title":"How do I convert from int to String?","body":"<p>It's acceptable, but I've never written anything like that.  I'd prefer this: </p>\n\n<pre><code>String strI = Integer.toString(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73525,"reputation":21116,"user_id":211674,"display_name":"SimonJ"},"down_vote_count":2,"up_vote_count":983,"is_accepted":true,"score":981,"last_activity_date":1467520575,"creation_date":1288956139,"answer_id":4105406,"question_id":4105331,"body_markdown":"Normal ways would be `Integer.toString(i)` or `String.valueOf(i)`.\r\n\r\nThe concatenation will work, but it is unconventional and could be a bad smell as it suggests the author doesn&#39;t know about the two methods above (what else might they not know?).\r\n\r\nJava has special support for the + operator when used with strings (see [the documentation][1]) which translates the code you posted into:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    sb.append(&quot;&quot;);\r\n    sb.append(i);\r\n    String strI = sb.toString();\r\n\r\nat compile-time. It&#39;s slightly less efficient (`sb.append()` ends up calling `Integer.getChars()`, which is what `Integer.toString()` would&#39;ve done anyway), but it works.\r\n\r\nTo answer Grodriguez&#39;s comment: ** No, the compiler *doesn&#39;t* optimise out the empty string in this case - look:\r\n\r\n    simon@lucifer:~$ cat TestClass.java\r\n    public class TestClass {\r\n      public static void main(String[] args) {\r\n        int i = 5;\r\n        String strI = &quot;&quot; + i;\r\n      }\r\n    }\r\n    simon@lucifer:~$ javac TestClass.java &amp;&amp; javap -c TestClass\r\n    Compiled from &quot;TestClass.java&quot;\r\n    public class TestClass extends java.lang.Object{\r\n    public TestClass();\r\n      Code:\r\n       0:    aload_0\r\n       1:    invokespecial    #1; //Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4:    return\r\n\r\n    public static void main(java.lang.String[]);\r\n      Code:\r\n       0:    iconst_5\r\n       1:    istore_1\r\n\r\nInitialise the StringBuilder:\r\n\r\n       2:    new    #2; //class java/lang/StringBuilder\r\n       5:    dup\r\n       6:    invokespecial    #3; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n\r\nAppend the empty string:\r\n\r\n       9:    ldc    #4; //String\r\n       11:    invokevirtual    #5; //Method java/lang/StringBuilder.append:\r\n    (Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n\r\nAppend the integer:\r\n\r\n       14:    iload_1\r\n       15:    invokevirtual    #6; //Method java/lang/StringBuilder.append:\r\n    (I)Ljava/lang/StringBuilder;\r\n\r\nExtract the final string:\r\n\r\n       18:    invokevirtual    #7; //Method java/lang/StringBuilder.toString:\r\n    ()Ljava/lang/String;\r\n       21:    astore_2\r\n       22:    return\r\n    }\r\n\r\nThere&#39;s [a proposal][2] and ongoing work to change this behaviour, targetted for JDK&amp;nbsp;9.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8085796\r\n","title":"How do I convert from int to String?","body":"<p>Normal ways would be <code>Integer.toString(i)</code> or <code>String.valueOf(i)</code>.</p>\n\n<p>The concatenation will work, but it is unconventional and could be a bad smell as it suggests the author doesn't know about the two methods above (what else might they not know?).</p>\n\n<p>Java has special support for the + operator when used with strings (see <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html\" rel=\"noreferrer\">the documentation</a>) which translates the code you posted into:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nsb.append(\"\");\nsb.append(i);\nString strI = sb.toString();\n</code></pre>\n\n<p>at compile-time. It's slightly less efficient (<code>sb.append()</code> ends up calling <code>Integer.getChars()</code>, which is what <code>Integer.toString()</code> would've done anyway), but it works.</p>\n\n<p>To answer Grodriguez's comment: ** No, the compiler <em>doesn't</em> optimise out the empty string in this case - look:</p>\n\n<pre><code>simon@lucifer:~$ cat TestClass.java\npublic class TestClass {\n  public static void main(String[] args) {\n    int i = 5;\n    String strI = \"\" + i;\n  }\n}\nsimon@lucifer:~$ javac TestClass.java &amp;&amp; javap -c TestClass\nCompiled from \"TestClass.java\"\npublic class TestClass extends java.lang.Object{\npublic TestClass();\n  Code:\n   0:    aload_0\n   1:    invokespecial    #1; //Method java/lang/Object.\"&lt;init&gt;\":()V\n   4:    return\n\npublic static void main(java.lang.String[]);\n  Code:\n   0:    iconst_5\n   1:    istore_1\n</code></pre>\n\n<p>Initialise the StringBuilder:</p>\n\n<pre><code>   2:    new    #2; //class java/lang/StringBuilder\n   5:    dup\n   6:    invokespecial    #3; //Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n</code></pre>\n\n<p>Append the empty string:</p>\n\n<pre><code>   9:    ldc    #4; //String\n   11:    invokevirtual    #5; //Method java/lang/StringBuilder.append:\n(Ljava/lang/String;)Ljava/lang/StringBuilder;\n</code></pre>\n\n<p>Append the integer:</p>\n\n<pre><code>   14:    iload_1\n   15:    invokevirtual    #6; //Method java/lang/StringBuilder.append:\n(I)Ljava/lang/StringBuilder;\n</code></pre>\n\n<p>Extract the final string:</p>\n\n<pre><code>   18:    invokevirtual    #7; //Method java/lang/StringBuilder.toString:\n()Ljava/lang/String;\n   21:    astore_2\n   22:    return\n}\n</code></pre>\n\n<p>There's <a href=\"https://bugs.openjdk.java.net/browse/JDK-8085796\" rel=\"noreferrer\">a proposal</a> and ongoing work to change this behaviour, targetted for JDK&nbsp;9.</p>\n"},{"tags":[],"owner":{"account_id":232272,"reputation":471,"user_id":497005,"display_name":"ksu"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1531453823,"creation_date":1288956915,"answer_id":4105480,"question_id":4105331,"body_markdown":"Personally, I don&#39;t see anything bad in this code.\r\n\r\nIt&#39;s pretty useful when you want to log an int value, and the logger just accepts a string. I would say such a conversion is convenient when you need to call a method accepting a String, but you have an int value.\r\n\r\nAs for the choice between `Integer.toString` or `String.valueOf`, it&#39;s all a matter of taste.  \r\n...And internally, the `String.valueOf` calls the `Integer.toString` method by the way. :)","title":"How do I convert from int to String?","body":"<p>Personally, I don't see anything bad in this code.</p>\n\n<p>It's pretty useful when you want to log an int value, and the logger just accepts a string. I would say such a conversion is convenient when you need to call a method accepting a String, but you have an int value.</p>\n\n<p>As for the choice between <code>Integer.toString</code> or <code>String.valueOf</code>, it's all a matter of taste.<br>\n...And internally, the <code>String.valueOf</code> calls the <code>Integer.toString</code> method by the way. :)</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1288964208,"creation_date":1288957126,"answer_id":4105505,"question_id":4105331,"body_markdown":"The expression \r\n\r\n    &quot;&quot; + i\r\n\r\nleads to *string conversion* of `i` at runtime. The overall type of the expression is `String`. `i` is first converted to an `Integer` object (`new Integer(i)`), then `String.valueOf(Object obj)` is called. So it is equivalent to\r\n\r\n    &quot;&quot; + String.valueOf(new Integer(i));\r\n\r\nObviously, this is slightly less performant than just calling `String.valueOf(new Integer(i))` which will produce the very same result.\r\n\r\nThe advantage of `&quot;&quot;+i` is that typing is easier/faster and some people might think, that it&#39;s easier to read. It is not a [code smell][1] as it does not indicate any deeper problem.\r\n\r\n(Reference: [JLS 15.8.1][2])\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Code_smell\r\n  [2]: http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#39990","title":"How do I convert from int to String?","body":"<p>The expression </p>\n\n<pre><code>\"\" + i\n</code></pre>\n\n<p>leads to <em>string conversion</em> of <code>i</code> at runtime. The overall type of the expression is <code>String</code>. <code>i</code> is first converted to an <code>Integer</code> object (<code>new Integer(i)</code>), then <code>String.valueOf(Object obj)</code> is called. So it is equivalent to</p>\n\n<pre><code>\"\" + String.valueOf(new Integer(i));\n</code></pre>\n\n<p>Obviously, this is slightly less performant than just calling <code>String.valueOf(new Integer(i))</code> which will produce the very same result.</p>\n\n<p>The advantage of <code>\"\"+i</code> is that typing is easier/faster and some people might think, that it's easier to read. It is not a <a href=\"http://en.wikipedia.org/wiki/Code_smell\" rel=\"noreferrer\">code smell</a> as it does not indicate any deeper problem.</p>\n\n<p>(Reference: <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#39990\" rel=\"noreferrer\">JLS 15.8.1</a>)</p>\n"},{"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1288963362,"creation_date":1288963362,"answer_id":4106192,"question_id":4105331,"body_markdown":"Mostly ditto on SimonJ. I really dislike the &quot;&quot;+i idiom. If you say String.valueOf(i), Java converts the integer to a string and returns the result. If you say &quot;&quot;+i, Java creates a StringBuilder object, appends an empty string to it, converts the integer to a string, appends this to the StringBuilder, then converts the StringBuilder to a String. That&#39;s a lot of extra steps. I suppose if you do it once in a big program, it&#39;s no big deal. But if you&#39;re doing this all the time, you&#39;re making the computer do a bunch of extra work and creating all these extra objects that then have to be cleaned up. I don&#39;t want to get fanatic about micro-optimization, but I don&#39;t want to be pointlessly wasteful either. ","title":"How do I convert from int to String?","body":"<p>Mostly ditto on SimonJ. I really dislike the \"\"+i idiom. If you say String.valueOf(i), Java converts the integer to a string and returns the result. If you say \"\"+i, Java creates a StringBuilder object, appends an empty string to it, converts the integer to a string, appends this to the StringBuilder, then converts the StringBuilder to a String. That's a lot of extra steps. I suppose if you do it once in a big program, it's no big deal. But if you're doing this all the time, you're making the computer do a bunch of extra work and creating all these extra objects that then have to be cleaned up. I don't want to get fanatic about micro-optimization, but I don't want to be pointlessly wasteful either. </p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1528983750,"creation_date":1288964632,"answer_id":4106366,"question_id":4105331,"body_markdown":"It&#39;s not only the optimization&lt;sup&gt;1&lt;/sup&gt;. I don&#39;t like\r\n\r\n    &quot;&quot; + i\r\n\r\nbecause it does not express what I really want to do &lt;sup&gt;2&lt;/sup&gt;.\r\n\r\nI don&#39;t want to append an integer to an (empty) string. I want to convert an integer to string:\r\n\r\n    Integer.toString(i)\r\n\r\nOr, not my prefered, but still better than concatenation, get a string representation of an object (integer):\r\n\r\n    String.valueOf(i)\r\n\r\n\r\n&lt;sup&gt;1. *For code that is called very often, like in loops, optimization sure is also a point for not using concatenation*.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;2. *this is not valid for use of* real *concatenation like in* `System.out.println(&quot;Index: &quot; + i);` *or* `String id = &quot;ID&quot; + i;`\r\n&lt;/sup&gt;","title":"How do I convert from int to String?","body":"<p>It's not only the optimization<sup>1</sup>. I don't like</p>\n\n<pre><code>\"\" + i\n</code></pre>\n\n<p>because it does not express what I really want to do <sup>2</sup>.</p>\n\n<p>I don't want to append an integer to an (empty) string. I want to convert an integer to string:</p>\n\n<pre><code>Integer.toString(i)\n</code></pre>\n\n<p>Or, not my prefered, but still better than concatenation, get a string representation of an object (integer):</p>\n\n<pre><code>String.valueOf(i)\n</code></pre>\n\n<p><sup>1. <em>For code that is called very often, like in loops, optimization sure is also a point for not using concatenation</em>.</sup></p>\n\n<p><sup>2. <em>this is not valid for use of</em> real <em>concatenation like in</em> <code>System.out.println(\"Index: \" + i);</code> <em>or</em> <code>String id = \"ID\" + i;</code>\n</sup></p>\n"},{"tags":[],"owner":{"account_id":67313,"reputation":18312,"user_id":197011,"accept_rate":100,"display_name":"GreenMatt"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1467520984,"creation_date":1288965582,"answer_id":4106525,"question_id":4105331,"body_markdown":"This technique was taught in an undergraduate level introduction-to-Java class I took over a decade ago. However, I should note that, IIRC, we hadn&#39;t yet gotten to the String and Integer class methods.\r\n\r\nThe technique is simple and quick to type. If all I&#39;m doing is printing something, I&#39;ll use it (for example, `System.out.println(&quot;&quot; + i);`. However, I think it&#39;s not the best way to do a conversion, as it takes a second of thought to realize what&#39;s going on when it&#39;s being used this way. Also, if performance is a concern, it seems slower (more below, as well as in other answers).\r\n\r\nPersonally, I prefer Integer.toString(), as it is obvious what&#39;s happening. String.valueOf() would be my second choice, as it seems to be confusing (witness the comments after darioo&#39;s answer).\r\n\r\nJust for grins :) I wrote up classes to test the three techniques:  &quot;&quot; + i,  Integer.toString, and String.ValueOf. Each test just converted the ints from 1 to 10000 to Strings. I then ran each through the Linux [time][1] command five times. Integer.toString() was slightly faster than String.valueOf() once, they tied three times, and String.valueOf() was faster once; however, the difference was never more than a couple of milliseconds.\r\n\r\nThe &quot;&quot; + i technique was slower than both on every test except one, when it was 1 millisecond faster than Integer.toString() and 1 millisecond slower than String.valueOf() (obviously on the same test where String.valueOf() was faster than Integer.toString()). While it was usually only a couple milliseconds slower, there was one test where it was about 50 milliseconds slower. [YMMV][2].\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Time_%28Unix%29\r\n  [2]: https://en.wiktionary.org/wiki/YMMV\r\n","title":"How do I convert from int to String?","body":"<p>This technique was taught in an undergraduate level introduction-to-Java class I took over a decade ago. However, I should note that, IIRC, we hadn't yet gotten to the String and Integer class methods.</p>\n\n<p>The technique is simple and quick to type. If all I'm doing is printing something, I'll use it (for example, <code>System.out.println(\"\" + i);</code>. However, I think it's not the best way to do a conversion, as it takes a second of thought to realize what's going on when it's being used this way. Also, if performance is a concern, it seems slower (more below, as well as in other answers).</p>\n\n<p>Personally, I prefer Integer.toString(), as it is obvious what's happening. String.valueOf() would be my second choice, as it seems to be confusing (witness the comments after darioo's answer).</p>\n\n<p>Just for grins :) I wrote up classes to test the three techniques:  \"\" + i,  Integer.toString, and String.ValueOf. Each test just converted the ints from 1 to 10000 to Strings. I then ran each through the Linux <a href=\"https://en.wikipedia.org/wiki/Time_%28Unix%29\" rel=\"nofollow\">time</a> command five times. Integer.toString() was slightly faster than String.valueOf() once, they tied three times, and String.valueOf() was faster once; however, the difference was never more than a couple of milliseconds.</p>\n\n<p>The \"\" + i technique was slower than both on every test except one, when it was 1 millisecond faster than Integer.toString() and 1 millisecond slower than String.valueOf() (obviously on the same test where String.valueOf() was faster than Integer.toString()). While it was usually only a couple milliseconds slower, there was one test where it was about 50 milliseconds slower. <a href=\"https://en.wiktionary.org/wiki/YMMV\" rel=\"nofollow\">YMMV</a>.</p>\n"},{"tags":[],"owner":{"account_id":1475,"reputation":533744,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1288966136,"creation_date":1288966136,"answer_id":4106623,"question_id":4105331,"body_markdown":"A lot of introductory University courses seem to teach this style, for two reasons (in my experience):\r\n\r\n* It doesn’t require understanding of classes or methods. Usually, this is taught way before the word “class” is ever mentioned – nor even method calls. So using something like `String.valueOf(…)` would confuse students.\r\n\r\n* It is an illustration of “operator overloading” – in fact, this was sold to us as *the* idiomatic overloaded operator (small wonder here, since Java doesn’t allow custom operator overloading).\r\n\r\nSo it may either be born out of didactic necessity (although I’d argue that this is just bad teaching) or be used to illustrate a principle that’s otherwise quite hard to demonstrate in Java.","title":"How do I convert from int to String?","body":"<p>A lot of introductory University courses seem to teach this style, for two reasons (in my experience):</p>\n\n<ul>\n<li><p>It doesn’t require understanding of classes or methods. Usually, this is taught way before the word “class” is ever mentioned – nor even method calls. So using something like <code>String.valueOf(…)</code> would confuse students.</p></li>\n<li><p>It is an illustration of “operator overloading” – in fact, this was sold to us as <em>the</em> idiomatic overloaded operator (small wonder here, since Java doesn’t allow custom operator overloading).</p></li>\n</ul>\n\n<p>So it may either be born out of didactic necessity (although I’d argue that this is just bad teaching) or be used to illustrate a principle that’s otherwise quite hard to demonstrate in Java.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1289076338,"creation_date":1289076338,"answer_id":4115081,"question_id":4105331,"body_markdown":"Using &quot;&quot; + i is the shortest and simplest way to convert a number to a string.  It is not the most efficient, but it is the clearest IMHO and that is usually more important.  The simpler the code, the less likely you are to make a mistake.","title":"How do I convert from int to String?","body":"<p>Using \"\" + i is the shortest and simplest way to convert a number to a string.  It is not the most efficient, but it is the clearest IMHO and that is usually more important.  The simpler the code, the less likely you are to make a mistake.</p>\n"},{"tags":[],"owner":{"account_id":2663096,"reputation":21,"user_id":2302304,"display_name":"David"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366470495,"creation_date":1366467101,"answer_id":16121265,"question_id":4105331,"body_markdown":"Personally I think that &quot;&quot; + i does look as the original question poster states &quot;smelly&quot;. I have used a lot of OO languages besides Java. If that syntax was intended to be appropriate then Java would just interpret the i alone without needing the &quot;&quot; as desired to be converted to a string and do it since the destination type is unambiguous and only a single value would be being supplied on the right. The other seems like a &#39;trick&quot; to fool the compiler, bad mojo when different versions of Javac made by other manufacturers or from other platforms are considered if the code ever needs to be ported. Heck for my money it should like many other OOL&#39;s just take a Typecast: (String) i. *winks*\r\n\r\nGiven my way of learning and for ease of understanding such a construct when reading others code quickly I vote for the Integer.toString(i) method. Forgetting a ns or two in how Java implements things in the background vs. String.valueOf(i) this method feels right to me and says exactly what is happening: I have and Integer and I wish it converted to a String.\r\n\r\nA good point made a couple times is perhaps just using StringBuilder up front is a good answer to building Strings mixed of text and ints or other objects since thats what will be used in the background anyways right?\r\n\r\nJust my two cents thrown into the already well paid kitty of the answers to the Mans question... *smiles*\r\n\r\n**EDIT TO MY OWN ANSWER AFTER SOME REFLECTION:**\r\n\r\nOk, Ok, I was thinking on this some more and String.valueOf(i) is also perfectly good as well it says: I want a String that represents the value of an Integer. lol, English is by far more difficult to parse then Java! But, I leave the rest of my answer/comment... I was always taught to use the lowest level of a method/function chain if possible and still maintains readablity so if String.valueOf calls Integer.toString then Why use a whole orange if your just gonna peel it anyways, Hmmm?\r\n\r\nTo clarify my comment about StringBuilder, I build a lot of strings with combos of mostly literal text and int&#39;s and they wind up being long and ugly with calls to the above mentioned routines imbedded between the +&#39;s, so seems to me if those become SB objects anyways and the append method has overloads it might be cleaner to just go ahead and use it... So I guess I am up to 5 cents on this one now, eh? lol...","title":"How do I convert from int to String?","body":"<p>Personally I think that \"\" + i does look as the original question poster states \"smelly\". I have used a lot of OO languages besides Java. If that syntax was intended to be appropriate then Java would just interpret the i alone without needing the \"\" as desired to be converted to a string and do it since the destination type is unambiguous and only a single value would be being supplied on the right. The other seems like a 'trick\" to fool the compiler, bad mojo when different versions of Javac made by other manufacturers or from other platforms are considered if the code ever needs to be ported. Heck for my money it should like many other OOL's just take a Typecast: (String) i. <em>winks</em></p>\n\n<p>Given my way of learning and for ease of understanding such a construct when reading others code quickly I vote for the Integer.toString(i) method. Forgetting a ns or two in how Java implements things in the background vs. String.valueOf(i) this method feels right to me and says exactly what is happening: I have and Integer and I wish it converted to a String.</p>\n\n<p>A good point made a couple times is perhaps just using StringBuilder up front is a good answer to building Strings mixed of text and ints or other objects since thats what will be used in the background anyways right?</p>\n\n<p>Just my two cents thrown into the already well paid kitty of the answers to the Mans question... <em>smiles</em></p>\n\n<p><strong>EDIT TO MY OWN ANSWER AFTER SOME REFLECTION:</strong></p>\n\n<p>Ok, Ok, I was thinking on this some more and String.valueOf(i) is also perfectly good as well it says: I want a String that represents the value of an Integer. lol, English is by far more difficult to parse then Java! But, I leave the rest of my answer/comment... I was always taught to use the lowest level of a method/function chain if possible and still maintains readablity so if String.valueOf calls Integer.toString then Why use a whole orange if your just gonna peel it anyways, Hmmm?</p>\n\n<p>To clarify my comment about StringBuilder, I build a lot of strings with combos of mostly literal text and int's and they wind up being long and ugly with calls to the above mentioned routines imbedded between the +'s, so seems to me if those become SB objects anyways and the append method has overloads it might be cleaner to just go ahead and use it... So I guess I am up to 5 cents on this one now, eh? lol...</p>\n"},{"tags":[],"owner":{"account_id":1240942,"reputation":12883,"user_id":1203565,"accept_rate":56,"display_name":"Vihaan Verma"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1542878347,"creation_date":1369333694,"answer_id":16721321,"question_id":4105331,"body_markdown":"There are three ways of converting to Strings\r\n\r\n1. `String string = &quot;&quot; + i;`\r\n2. `String string = String.valueOf(i);`\r\n3. `String string = Integer.toString(i);`\r\n","title":"How do I convert from int to String?","body":"<p>There are three ways of converting to Strings</p>\n\n<ol>\n<li><code>String string = \"\" + i;</code></li>\n<li><code>String string = String.valueOf(i);</code></li>\n<li><code>String string = Integer.toString(i);</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3018954,"reputation":77,"user_id":2560425,"display_name":"Niyuhire Justine"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1455685762,"creation_date":1373388290,"answer_id":17553740,"question_id":4105331,"body_markdown":"It depends on how you want to use your String. This can help:\r\n\r\n    String total =  Integer.toString(123) + Double.toString(456.789);\r\n\r\n\r\n","title":"How do I convert from int to String?","body":"<p>It depends on how you want to use your String. This can help:</p>\n\n<pre><code>String total =  Integer.toString(123) + Double.toString(456.789);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2004790,"reputation":81,"user_id":1794989,"display_name":"Bilal Haider"},"down_vote_count":8,"up_vote_count":1,"is_accepted":false,"score":-7,"last_activity_date":1455682226,"creation_date":1397715046,"answer_id":23125806,"question_id":4105331,"body_markdown":"Try simple typecasting\r\n\r\n    char c = (char) i;","title":"How do I convert from int to String?","body":"<p>Try simple typecasting</p>\n\n<pre><code>char c = (char) i;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6630179,"reputation":145,"user_id":5119121,"display_name":"Shailej Shimpi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1439551750,"creation_date":1439551750,"answer_id":32008990,"question_id":4105331,"body_markdown":"There are various ways of converting to Strings:\r\n\r\n    StringBuilder string = string.append(i).toString();\r\n    String string = String.valueOf(i);\r\n    String string = Integer.toString(i);","title":"How do I convert from int to String?","body":"<p>There are various ways of converting to Strings:</p>\n\n<pre><code>StringBuilder string = string.append(i).toString();\nString string = String.valueOf(i);\nString string = Integer.toString(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6630179,"reputation":145,"user_id":5119121,"display_name":"Shailej Shimpi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1495149968,"creation_date":1460528686,"answer_id":36590232,"question_id":4105331,"body_markdown":"    String strI = String.valueOf(i);\r\n    \r\n    String string = Integer.toString(i);\r\n\r\nBoth of the ways are correct.","title":"How do I convert from int to String?","body":"<pre><code>String strI = String.valueOf(i);\n\nString string = Integer.toString(i);\n</code></pre>\n\n<p>Both of the ways are correct.</p>\n"},{"tags":[],"owner":{"account_id":5410302,"reputation":10870,"user_id":4307338,"accept_rate":67,"display_name":"Hoque MD Zahidul"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1495745425,"creation_date":1491717397,"answer_id":43303559,"question_id":4105331,"body_markdown":"There are many way to convert an integer to a string:\r\n\r\n1)\r\n\r\n    Integer.toString(10);\r\n\r\n2)\r\n\r\n     String hundred = String.valueOf(100); // You can pass an int constant\r\n     int ten = 10;\r\n     String ten = String.valueOf(ten)\r\n\r\n3)\r\n\r\n    String thousand = &quot;&quot; + 1000; // String concatenation\r\n\r\n4)\r\n\r\n    String million = String.format(&quot;%d&quot;, 1000000)\r\n","title":"How do I convert from int to String?","body":"<p>There are many way to convert an integer to a string:</p>\n\n<p>1)</p>\n\n<pre><code>Integer.toString(10);\n</code></pre>\n\n<p>2)</p>\n\n<pre><code> String hundred = String.valueOf(100); // You can pass an int constant\n int ten = 10;\n String ten = String.valueOf(ten)\n</code></pre>\n\n<p>3)</p>\n\n<pre><code>String thousand = \"\" + 1000; // String concatenation\n</code></pre>\n\n<p>4)</p>\n\n<pre><code>String million = String.format(\"%d\", 1000000)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10660216,"reputation":518,"user_id":7848404,"display_name":"Karan Chunara"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1525325278,"creation_date":1525325278,"answer_id":50147556,"question_id":4105331,"body_markdown":"use `Integer.toString(tmpInt).trim();`","title":"How do I convert from int to String?","body":"<p>use <code>Integer.toString(tmpInt).trim();</code></p>\n"},{"tags":[],"owner":{"account_id":2294607,"reputation":3803,"user_id":2016386,"accept_rate":46,"display_name":"das Keks"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594911596,"creation_date":1594911596,"answer_id":62937587,"question_id":4105331,"body_markdown":"As already pointed out `Integer.toString()` or `String.valueOf()` are the way to go. I was curious and did a quick benchmark:\r\n\r\n`Integer.toString(i)` and `String.valueOf(i)` are basically identical in performance, with `Integer.toString(i)` being a tiny bit faster. However `i + &quot;&quot;` is 1.7 times slower.\r\n\r\n\timport java.util.Random;\r\n\t\r\n\tpublic class Test {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tlong concat = 0;\r\n\t\t\tlong valueOf = 0;\r\n\t\t\tlong toString = 0;\r\n\t\t\t\r\n\t\t\tint iterations = 10000;\r\n\t\t\tint runs = 1000;\r\n\t\t\tfor(int i = 0; i &lt; runs; i++) {\r\n\t\t\t\tconcat += concat(iterations);\r\n\t\t\t\tvalueOf += valueOf(iterations);\r\n\t\t\t\ttoString += to_String(iterations);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;concat: &quot; + concat/runs);\r\n\t\t\tSystem.out.println(&quot;valueOf: &quot; + valueOf/runs);\r\n\t\t\tSystem.out.println(&quot;toString: &quot; + toString/runs);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static long concat(int iterations) {\r\n\t\t\tRandom r = new Random(0);\r\n\t\t\tlong start = System.nanoTime();\r\n\t\t\tfor(int i = 0; i &lt; iterations; i++) {\r\n\t\t\t\tString s = r.nextInt() + &quot;&quot;;\r\n\t\t\t}\r\n\t\t\treturn System.nanoTime() - start;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static long valueOf(int iterations) {\r\n\t\t\tRandom r = new Random(0);\r\n\t\t\tlong start = System.nanoTime();\r\n\t\t\tfor(int i = 0; i &lt; iterations; i++) {\r\n\t\t\t\tString s = String.valueOf(r.nextInt());\r\n\t\t\t}\r\n\t\t\treturn System.nanoTime() - start;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static long to_String(int iterations) {\r\n\t\t\tRandom r = new Random(0);\r\n\t\t\tlong start = System.nanoTime();\r\n\t\t\tfor(int i = 0; i &lt; iterations; i++) {\r\n\t\t\t\tString s = Integer.toString(r.nextInt());\r\n\t\t\t}\r\n\t\t\treturn System.nanoTime() - start;\r\n\t\t}\r\n\t}\r\n\r\nOutput:\r\n\r\n\tconcat: 1004109\r\n\tvalueOf: 590978\r\n\ttoString: 587236\r\n","title":"How do I convert from int to String?","body":"<p>As already pointed out <code>Integer.toString()</code> or <code>String.valueOf()</code> are the way to go. I was curious and did a quick benchmark:</p>\n<p><code>Integer.toString(i)</code> and <code>String.valueOf(i)</code> are basically identical in performance, with <code>Integer.toString(i)</code> being a tiny bit faster. However <code>i + &quot;&quot;</code> is 1.7 times slower.</p>\n<pre><code>import java.util.Random;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        long concat = 0;\n        long valueOf = 0;\n        long toString = 0;\n        \n        int iterations = 10000;\n        int runs = 1000;\n        for(int i = 0; i &lt; runs; i++) {\n            concat += concat(iterations);\n            valueOf += valueOf(iterations);\n            toString += to_String(iterations);\n        }\n        \n        System.out.println(&quot;concat: &quot; + concat/runs);\n        System.out.println(&quot;valueOf: &quot; + valueOf/runs);\n        System.out.println(&quot;toString: &quot; + toString/runs);\n    }\n    \n    public static long concat(int iterations) {\n        Random r = new Random(0);\n        long start = System.nanoTime();\n        for(int i = 0; i &lt; iterations; i++) {\n            String s = r.nextInt() + &quot;&quot;;\n        }\n        return System.nanoTime() - start;\n    }\n    \n    public static long valueOf(int iterations) {\n        Random r = new Random(0);\n        long start = System.nanoTime();\n        for(int i = 0; i &lt; iterations; i++) {\n            String s = String.valueOf(r.nextInt());\n        }\n        return System.nanoTime() - start;\n    }\n    \n    public static long to_String(int iterations) {\n        Random r = new Random(0);\n        long start = System.nanoTime();\n        for(int i = 0; i &lt; iterations; i++) {\n            String s = Integer.toString(r.nextInt());\n        }\n        return System.nanoTime() - start;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>concat: 1004109\nvalueOf: 590978\ntoString: 587236\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1449074,"reputation":1584,"user_id":1366594,"accept_rate":83,"display_name":"Sir Intellegence-BrainStormexe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695941548,"creation_date":1695941548,"answer_id":77198659,"question_id":4105331,"body_markdown":"My apologies for the thread necomancy, but it appears that Java doesn&#39;t use `StringBuilder`s for concatenating strings anymore since Java 9. I ran [@das Keks][1] test with a JDK 19 instance in REPL mode and got wildly different results after doing a couple of warm-up runs.\r\n\r\n    concat: 281774\r\n    valueOf: 288519\r\n    toString: 288369\r\n    \r\nAfter decompiling a class with `primitive` + &quot;&quot; conversion, I found\r\n\r\n    invokedynamic #274,  0            // InvokeDynamic #1:makeConcatWithConstants:(C)Ljava/lang/String;\r\nSo it looks like that case is now being optimized.\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62937587/1366594","title":"How do I convert from int to String?","body":"<p>My apologies for the thread necomancy, but it appears that Java doesn't use <code>StringBuilder</code>s for concatenating strings anymore since Java 9. I ran <a href=\"https://stackoverflow.com/a/62937587/1366594\">@das Keks</a> test with a JDK 19 instance in REPL mode and got wildly different results after doing a couple of warm-up runs.</p>\n<pre><code>concat: 281774\nvalueOf: 288519\ntoString: 288369\n</code></pre>\n<p>After decompiling a class with <code>primitive</code> + &quot;&quot; conversion, I found</p>\n<pre><code>invokedynamic #274,  0            // InvokeDynamic #1:makeConcatWithConstants:(C)Ljava/lang/String;\n</code></pre>\n<p>So it looks like that case is now being optimized.</p>\n"}],"owner":{"account_id":85406,"reputation":18277,"user_id":238123,"accept_rate":76,"display_name":"Denis Palnitsky"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2300122,"favorite_count":0,"down_vote_count":1,"up_vote_count":781,"accepted_answer_id":4105406,"answer_count":21,"score":780,"last_activity_date":1695941548,"creation_date":1288955481,"question_id":4105331,"body_markdown":"I&#39;m working on a project where all conversions from `int` to `String` are done like this:\r\n\r\n    int i = 5;\r\n    String strI = &quot;&quot; + i;\r\n\r\nI&#39;m not familiar with Java. \r\n\r\nIs this usual practice or is something wrong, as I suppose?","title":"How do I convert from int to String?","body":"<p>I'm working on a project where all conversions from <code>int</code> to <code>String</code> are done like this:</p>\n\n<pre><code>int i = 5;\nString strI = \"\" + i;\n</code></pre>\n\n<p>I'm not familiar with Java. </p>\n\n<p>Is this usual practice or is something wrong, as I suppose?</p>\n"},{"tags":["java","jakarta-ee","jsr352","jberet"],"answers":[{"tags":[],"owner":{"account_id":898267,"reputation":1088,"user_id":935066,"display_name":"cheng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695941196,"creation_date":1695852064,"answer_id":77191132,"question_id":77187746,"body_markdown":"I think what you are seeing may have to do with the item-count = 1 in your job xml file. Since every single item has its own chunk, so a new chunk is started after skipping, hence calling the beforeChunk listener method.\r\n\r\nAlso because in the first chunk, the skippable exception caused the item to be skipped. As a result, there is nothing left to be committed, and active transaction continues onto the next iteration.\r\n\r\nSee Jakarta Batch spec [skippable exception section][1].\r\n\r\n[This batch spec issue][2] may be somewhat related.\r\n\r\n\r\n  [1]: https://github.com/eclipse-ee4j/batch-api/blob/master/spec/src/main/asciidoc/job_specification_language.adoc#skipping-exceptions\r\n  [2]: https://github.com/eclipse-ee4j/batch-api/issues/70","title":"JBeret skippable exception thrown in ItemWriter triggers new chunk within the old transaction","body":"<p>I think what you are seeing may have to do with the item-count = 1 in your job xml file. Since every single item has its own chunk, so a new chunk is started after skipping, hence calling the beforeChunk listener method.</p>\n<p>Also because in the first chunk, the skippable exception caused the item to be skipped. As a result, there is nothing left to be committed, and active transaction continues onto the next iteration.</p>\n<p>See Jakarta Batch spec <a href=\"https://github.com/eclipse-ee4j/batch-api/blob/master/spec/src/main/asciidoc/job_specification_language.adoc#skipping-exceptions\" rel=\"nofollow noreferrer\">skippable exception section</a>.</p>\n<p><a href=\"https://github.com/eclipse-ee4j/batch-api/issues/70\" rel=\"nofollow noreferrer\">This batch spec issue</a> may be somewhat related.</p>\n"}],"owner":{"account_id":11714753,"reputation":65,"user_id":14661226,"display_name":"Андрей Андреев"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695941196,"creation_date":1695819544,"question_id":77187746,"body_markdown":"Using JBeret I execute a simple job with single chunk based step which reads entries from the database, processes them and updates it. The step also defines a `ChunkListener` which interacts with the database as well and a list of skippable exception classes. \r\n\r\nAn example of such a job is: \r\n\r\n  \r\n\r\n  \r\n```xml\r\n&lt;job id=&quot;testJob&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; version=&quot;1.0&quot;&gt;\r\n  &lt;step id=&quot;test&quot;&gt;\r\n    &lt;listeners&gt;\r\n      &lt;listener ref=&quot;someChunkListener&quot;/&gt;\r\n    &lt;/listeners&gt;\r\n    &lt;chunk item-count=&quot;1&quot; &gt;\r\n      &lt;reader ref=&quot;testReader&quot; /&gt;\r\n      &lt;processor ref=&quot;testProcessor&quot;/&gt;\r\n      &lt;writer ref=&quot;testWriter&quot;/&gt;\r\n      &lt;skippable-exception-classes&gt;\r\n        &lt;include class=&quot;java.lang.IllegalStateException&quot;/&gt;\r\n      &lt;/skippable-exception-classes&gt;\r\n    &lt;/chunk&gt;\r\n  &lt;/step&gt;\r\n&lt;/job&gt;\r\n```\r\n\r\nI have observed the following flow:\r\n\r\n 1. Transaction has been started for the chunk\r\n 2. The `someChunkListener` `beforeChunk` is triggered\r\n 3. The `ItemReader` is triggered\r\n 4. The `ItemProcessor` is triggered\r\n 5. *The `ItemWriter` is triggered causing an `IllegalStateException`\r\n 6. *The `someChunkListener` `beforeChunk` is triggered\r\n 7. The `ItemReader` is triggered on new chunk\r\n 8. ...\r\n\r\nWhat I found strange is that between step 5) and step 6) no new transaction is started, but \r\na new chunk has started/the chunk has restarted.\r\n\r\nI tried looking into the `JSR-352` specification, but I could not find such behavior described. I looked at the pseudo codes provided there, but I could not find a single pseudo code which suggests that a new chunk may be started (`beforeChunk` on the chunk listener may be called) but the old transaction is used. I also looked at the JBeret implementation of `ChunkRunner` and it seems that the prevention of starting of a new transaction is intentional.\r\n\r\nTo me it seems natural that in this situation either no `beforeChunk` callback would be called (we continue in the same chunk) or a new transaction would exist for our chunk.\r\n\r\nI&#39;m worried that I cannot find a well specified transaction boundaries on chunk based jobs. How should I handle possible dirty transactions based on partially written items or updates from the chunk listeners or even sending a `JMS messages` via `XA Transaction`?\r\n\r\nIs this behavior JBeret behavior described somewhere along with other similar behavior? Is it a bug, or something JSR-352 specific I didn&#39;t look at?","title":"JBeret skippable exception thrown in ItemWriter triggers new chunk within the old transaction","body":"<p>Using JBeret I execute a simple job with single chunk based step which reads entries from the database, processes them and updates it. The step also defines a <code>ChunkListener</code> which interacts with the database as well and a list of skippable exception classes.</p>\n<p>An example of such a job is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;job id=&quot;testJob&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; version=&quot;1.0&quot;&gt;\n  &lt;step id=&quot;test&quot;&gt;\n    &lt;listeners&gt;\n      &lt;listener ref=&quot;someChunkListener&quot;/&gt;\n    &lt;/listeners&gt;\n    &lt;chunk item-count=&quot;1&quot; &gt;\n      &lt;reader ref=&quot;testReader&quot; /&gt;\n      &lt;processor ref=&quot;testProcessor&quot;/&gt;\n      &lt;writer ref=&quot;testWriter&quot;/&gt;\n      &lt;skippable-exception-classes&gt;\n        &lt;include class=&quot;java.lang.IllegalStateException&quot;/&gt;\n      &lt;/skippable-exception-classes&gt;\n    &lt;/chunk&gt;\n  &lt;/step&gt;\n&lt;/job&gt;\n</code></pre>\n<p>I have observed the following flow:</p>\n<ol>\n<li>Transaction has been started for the chunk</li>\n<li>The <code>someChunkListener</code> <code>beforeChunk</code> is triggered</li>\n<li>The <code>ItemReader</code> is triggered</li>\n<li>The <code>ItemProcessor</code> is triggered</li>\n<li>*The <code>ItemWriter</code> is triggered causing an <code>IllegalStateException</code></li>\n<li>*The <code>someChunkListener</code> <code>beforeChunk</code> is triggered</li>\n<li>The <code>ItemReader</code> is triggered on new chunk</li>\n<li>...</li>\n</ol>\n<p>What I found strange is that between step 5) and step 6) no new transaction is started, but\na new chunk has started/the chunk has restarted.</p>\n<p>I tried looking into the <code>JSR-352</code> specification, but I could not find such behavior described. I looked at the pseudo codes provided there, but I could not find a single pseudo code which suggests that a new chunk may be started (<code>beforeChunk</code> on the chunk listener may be called) but the old transaction is used. I also looked at the JBeret implementation of <code>ChunkRunner</code> and it seems that the prevention of starting of a new transaction is intentional.</p>\n<p>To me it seems natural that in this situation either no <code>beforeChunk</code> callback would be called (we continue in the same chunk) or a new transaction would exist for our chunk.</p>\n<p>I'm worried that I cannot find a well specified transaction boundaries on chunk based jobs. How should I handle possible dirty transactions based on partially written items or updates from the chunk listeners or even sending a <code>JMS messages</code> via <code>XA Transaction</code>?</p>\n<p>Is this behavior JBeret behavior described somewhere along with other similar behavior? Is it a bug, or something JSR-352 specific I didn't look at?</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1695960340,"post_id":77198625,"comment_id":136095753,"body_markdown":"You can find your persistence-unit name in your `persistence.xml`, usually located in `src\\main\\resources\\META-INF`. Should match the name of your database.","body":"You can find your persistence-unit name in your <code>persistence.xml</code>, usually located in <code>src\\main\\resources\\META-INF</code>. Should match the name of your database."},{"owner":{"account_id":2822833,"reputation":1347,"user_id":3624489,"accept_rate":0,"display_name":"Flarosa"},"score":0,"creation_date":1695994576,"post_id":77198625,"comment_id":136100880,"body_markdown":"I ended up making a new function in the JpaRepository and annotating that function with @Transactional, this was an easy solution.","body":"I ended up making a new function in the JpaRepository and annotating that function with @Transactional, this was an easy solution."}],"owner":{"account_id":2822833,"reputation":1347,"user_id":3624489,"accept_rate":0,"display_name":"Flarosa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695940904,"creation_date":1695940904,"question_id":77198625,"body_markdown":"I have some code in a class in my Java server project (Spring/JPA based). This code is not associated with any kind of a managed entity like a RestController or a Service. It also does not run on the main thread (it is started by a Quartz job).\r\n\r\nWithin this code I need to update a JPA entity. If I try to do this without a transaction, I get a TransactionRequiredException.\r\n\r\nOf course, I cannot create a transaction using the @Transactional annotation which is what the rest of the code in this project uses.\r\n\r\nI see some examples of using an EntityManager to get a transaction, with the EntityManager itself gotten from an EntityManagerFactory which in turn comes from Persistence.createEntityManagerFactory(). But there is a problem: this function requires a parameter called &quot;persistenceUnitName&quot;. I do not know what the persistence unit name is.\r\n\r\nI did not create this project. The developers who did are long gone, so it&#39;s up to me to figure it out.\r\n\r\nI&#39;m reading that the unit name is supposed to be set in a file called persistence.xml, but there is no such file in my project.\r\n\r\nI believe that the original developers of this project used annotations as much as possible and avoided config files. I looked around for some annotation that looks like it might be defining a unit name, but I can&#39;t find it.\r\n\r\nWhere should I look for this name? Is it possible that it isn&#39;t being set? Is there a default value? Is this even the right way to go about getting the transaction?\r\n\r\nThanks.","title":"How do I start a JPA transaction?","body":"<p>I have some code in a class in my Java server project (Spring/JPA based). This code is not associated with any kind of a managed entity like a RestController or a Service. It also does not run on the main thread (it is started by a Quartz job).</p>\n<p>Within this code I need to update a JPA entity. If I try to do this without a transaction, I get a TransactionRequiredException.</p>\n<p>Of course, I cannot create a transaction using the @Transactional annotation which is what the rest of the code in this project uses.</p>\n<p>I see some examples of using an EntityManager to get a transaction, with the EntityManager itself gotten from an EntityManagerFactory which in turn comes from Persistence.createEntityManagerFactory(). But there is a problem: this function requires a parameter called &quot;persistenceUnitName&quot;. I do not know what the persistence unit name is.</p>\n<p>I did not create this project. The developers who did are long gone, so it's up to me to figure it out.</p>\n<p>I'm reading that the unit name is supposed to be set in a file called persistence.xml, but there is no such file in my project.</p>\n<p>I believe that the original developers of this project used annotations as much as possible and avoided config files. I looked around for some annotation that looks like it might be defining a unit name, but I can't find it.</p>\n<p>Where should I look for this name? Is it possible that it isn't being set? Is there a default value? Is this even the right way to go about getting the transaction?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","trace","open-telemetry","mdc"],"owner":{"account_id":16648098,"reputation":1,"user_id":12031859,"display_name":"F&#225;bio Lamartine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695940323,"creation_date":1695940323,"question_id":77198599,"body_markdown":"I have two services:\r\n\r\nService A: SNS Sender (Using SDK v2 AWS), Spring Boot 2, Java 17, Agent Version 1.30.0\r\nService B: SQS Listener, Spring Boot 3, Java 17, Agent Version 1.30.0\r\n\r\nDocker-compose:\r\n\r\n- Localstack (free version) (image: localstack/localstack)\r\n- Jaeger (image: jaegertracing/all-in-one:latest)\r\n- Service A\r\n- Service B\r\n\r\nThe structure:\r\n\r\nService A -\\&gt; SNS -\\&gt; SQS -\\&gt; Service B\r\n\r\nDockerfile Service A:\r\n\r\n```\r\n\r\nFROM amazoncorretto:17-alpine-jdk\r\nWORKDIR /home/app\r\nRUN apk add --no-cache wget\r\nARG JAR_FILE=build/libs/scheduler-0.0.1-SNAPSHOT.jar\r\nCOPY ${JAR_FILE} app.jar\r\nCOPY opentelemetry-javaagent.jar opentelemetry-javaagent.jar\r\nENTRYPOINT \\[&quot;java&quot;, \\\\ \\\r\n&quot;-javaagent:/home/app/opentelemetry-javaagent.jar&quot;, \\\r\n&quot;-Dotel.resource.attributes=service.name=scheduler&quot;, \\\r\n&quot;-Dotel.traces.exporter=jaeger&quot;, \\\r\n&quot;-Dotel.exporter.jaeger.endpoint=http://jaeger:14250&quot;, \\\r\n&quot;-Dotel.metrics.exporter=none&quot;, \\\r\n&quot;-Dotel.instrumentation.aws-sdk.experimental-span-attributes=true&quot;, \\\r\n&quot;-Dotel.instrumentation.aws-sdk.experimental-use-propagator-for-messaging=true&quot;, \\\r\n&quot;-Dotel.traces.sampler=always_on&quot;, \\\r\n&quot;-jar&quot;, &quot;/home/app/app.jar&quot;\\]\r\nEXPOSE 8080\r\n```\r\n\r\nService B:\r\n\r\n```\r\n\r\nFROM amazoncorretto:17-alpine-jdk\r\nWORKDIR /home/app\r\nARG JAR_FILE=build/libs/demo-0.0.1-SNAPSHOT.jar\r\nCOPY ${JAR_FILE} app.jar\r\nCOPY opentelemetry-javaagent.jar opentelemetry-javaagent.jar\r\nENTRYPOINT \\[&quot;java&quot;, \\\r\n&quot;-javaagent:/home/app/opentelemetry-javaagent.jar&quot;, \\\r\n&quot;-Dotel.resource.attributes=service.name=demo&quot;, \\\r\n&quot;-Dotel.traces.exporter=jaeger&quot;, \\\r\n&quot;-Dotel.exporter.jaeger.endpoint=http://jaeger:14250&quot;, \\\r\n&quot;-Dotel.metrics.exporter=none&quot;, \\\r\n&quot;-Dotel.instrumentation.aws-sdk.experimental-span-attributes=true&quot;, \\\r\n&quot;-Dotel.instrumentation.aws-sdk.experimental-use-propagator-for-messaging=true&quot;, \\\r\n&quot;-Dotel.traces.sampler=always_on&quot;, \\\r\n&quot;-Dotel.javaagent.debug=true&quot;, \\\r\n&quot;-jar&quot;, &quot;/home/app/app.jar&quot;\\]\r\nEXPOSE 8081\r\n```\r\n\r\nI tested 3 endpoints:\r\n\r\n1) Rest (Working)\r\n2) GRPC (Working)\r\n3) SNS/SQS (Tracing Between Services appears in Jaeger, however, the MDC Log (trace_id and span_id) is empty in Service B (using @SqsConsumer), So I cannot log the trace, which is pretty important)\r\n\r\nI tried to implement Manual Instrumentation, importing the libs into the Service B (Micrometer and Open Telemetry), but it does not work, too. (It works with Rest and GRPC, but with SQS does not)\r\n\r\nIt seems to be something related with Asynchronous communication.\r\n\r\nIs there an issue? Or I am doing something wrong? I would appreciate a help.\r\n\r\nLibs that I am using in Service B:\r\n\r\n```\r\n\r\nplugins {\r\nid &#39;java&#39;\r\nid &#39;org.springframework.boot&#39; version &#39;3.1.4&#39;\r\nid &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\n}\r\n\r\ndependencies {\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\r\nimplementation &#39;io.awspring.cloud:spring-cloud-aws-dependencies:3.0.2&#39;\r\nimplementation &#39;io.awspring.cloud:spring-cloud-aws-starter:3.0.2&#39;\r\nimplementation &#39;io.awspring.cloud:spring-cloud-aws-starter-sqs:3.0.2&#39;\r\n\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-log4j2&#39;\r\n}\r\n\r\nconfigurations {\r\nall {\r\nexclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n}\r\n}\r\n```\r\n\r\nClass SqsConsumer in Service B:\r\n\r\n```\r\n\r\nimport io.awspring.cloud.sqs.annotation.SqsListener;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class SqsConsumer {\r\n\r\nLogger logger = LoggerFactory.getLogger(SqsConsumer.class);\r\n\r\n@SqsListener(value = &quot;${aws.sqs.queue.name}&quot;)\r\npublic void receiveMessage(String payload) {\r\nlogger.info(&quot;teste sqs: &quot; + payload);\r\n}\r\n}\r\n```\r\n\r\nlog4j2.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} [trace_id=&#39;%mdc{trace_id}&#39;] [span_id=&#39;%mdc{span_id}&#39;] - %msg %n&quot; /&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nIt should show the trace_id and the span_id on the log\r\n\r\nActual behavior:\r\n\r\nLog in Service B is shown this way:\r\n\r\n```\r\n19:39:03.503 \\[io.awspring.cloud.sqs.sqsListenerEndpointContainer#0-1\\] INFO  com.example.demo.sqs.SqsConsumer \\[trace_id=&#39;&#39;\\] \\[span_id=&#39;&#39;\\] - teste sqs: {&quot;Type&quot;: &quot;Notification&quot;, &quot;MessageId&quot;: &quot;392b92b0-3ac9-4deb-9dca-10cba7187181&quot;, &quot;TopicArn&quot;: &quot;arn:aws:sns:sa-east-1:000000000000:scheduler_connection_refresh-tf&quot;, &quot;Message&quot;: &quot;{ \\\\&quot;connectionId\\\\&quot;: \\\\&quot;63f15eff-7ea0-4401-932c-13e556bde0b4\\\\&quot; }&quot;, &quot;Timestamp&quot;: &quot;2023-09-28T19:39:03.287Z&quot;, &quot;SignatureVersion&quot;: &quot;1&quot;, &quot;Signature&quot;: &quot;EXAMPLEpH+..&quot;, &quot;SigningCertURL&quot;: &quot;https://sns.sa-east-1.amazonaws.com/SimpleNotificationService-0000000000000000000000.pem&quot;, &quot;UnsubscribeURL&quot;: &quot;http://localhost:4566/?Action=Unsubscribe&amp;SubscriptionArn=arn:aws:sns:sa-east-1:000000000000:scheduler_connection_refresh-tf:623845af-7a67-4e72-ae99-b6a709617dcf&quot;, &quot;MessageAttributes&quot;: {&quot;traceparent&quot;: {&quot;Type&quot;: &quot;String&quot;, &quot;Value&quot;: &quot;00-841d970aef4c98faca6c7223133e3df2-04d4c8cd4a07af6f-01&quot;}}  \r\n```","title":"No MDC Log Information in @SqsListener in Java Agent Auto Instrumentation (Open Telemetry)","body":"<p>I have two services:</p>\n<p>Service A: SNS Sender (Using SDK v2 AWS), Spring Boot 2, Java 17, Agent Version 1.30.0\nService B: SQS Listener, Spring Boot 3, Java 17, Agent Version 1.30.0</p>\n<p>Docker-compose:</p>\n<ul>\n<li>Localstack (free version) (image: localstack/localstack)</li>\n<li>Jaeger (image: jaegertracing/all-in-one:latest)</li>\n<li>Service A</li>\n<li>Service B</li>\n</ul>\n<p>The structure:</p>\n<p>Service A -&gt; SNS -&gt; SQS -&gt; Service B</p>\n<p>Dockerfile Service A:</p>\n<pre><code>\nFROM amazoncorretto:17-alpine-jdk\nWORKDIR /home/app\nRUN apk add --no-cache wget\nARG JAR_FILE=build/libs/scheduler-0.0.1-SNAPSHOT.jar\nCOPY ${JAR_FILE} app.jar\nCOPY opentelemetry-javaagent.jar opentelemetry-javaagent.jar\nENTRYPOINT \\[&quot;java&quot;, \\\\ \\\n&quot;-javaagent:/home/app/opentelemetry-javaagent.jar&quot;, \\\n&quot;-Dotel.resource.attributes=service.name=scheduler&quot;, \\\n&quot;-Dotel.traces.exporter=jaeger&quot;, \\\n&quot;-Dotel.exporter.jaeger.endpoint=http://jaeger:14250&quot;, \\\n&quot;-Dotel.metrics.exporter=none&quot;, \\\n&quot;-Dotel.instrumentation.aws-sdk.experimental-span-attributes=true&quot;, \\\n&quot;-Dotel.instrumentation.aws-sdk.experimental-use-propagator-for-messaging=true&quot;, \\\n&quot;-Dotel.traces.sampler=always_on&quot;, \\\n&quot;-jar&quot;, &quot;/home/app/app.jar&quot;\\]\nEXPOSE 8080\n</code></pre>\n<p>Service B:</p>\n<pre><code>\nFROM amazoncorretto:17-alpine-jdk\nWORKDIR /home/app\nARG JAR_FILE=build/libs/demo-0.0.1-SNAPSHOT.jar\nCOPY ${JAR_FILE} app.jar\nCOPY opentelemetry-javaagent.jar opentelemetry-javaagent.jar\nENTRYPOINT \\[&quot;java&quot;, \\\n&quot;-javaagent:/home/app/opentelemetry-javaagent.jar&quot;, \\\n&quot;-Dotel.resource.attributes=service.name=demo&quot;, \\\n&quot;-Dotel.traces.exporter=jaeger&quot;, \\\n&quot;-Dotel.exporter.jaeger.endpoint=http://jaeger:14250&quot;, \\\n&quot;-Dotel.metrics.exporter=none&quot;, \\\n&quot;-Dotel.instrumentation.aws-sdk.experimental-span-attributes=true&quot;, \\\n&quot;-Dotel.instrumentation.aws-sdk.experimental-use-propagator-for-messaging=true&quot;, \\\n&quot;-Dotel.traces.sampler=always_on&quot;, \\\n&quot;-Dotel.javaagent.debug=true&quot;, \\\n&quot;-jar&quot;, &quot;/home/app/app.jar&quot;\\]\nEXPOSE 8081\n</code></pre>\n<p>I tested 3 endpoints:</p>\n<ol>\n<li>Rest (Working)</li>\n<li>GRPC (Working)</li>\n<li>SNS/SQS (Tracing Between Services appears in Jaeger, however, the MDC Log (trace_id and span_id) is empty in Service B (using @SqsConsumer), So I cannot log the trace, which is pretty important)</li>\n</ol>\n<p>I tried to implement Manual Instrumentation, importing the libs into the Service B (Micrometer and Open Telemetry), but it does not work, too. (It works with Rest and GRPC, but with SQS does not)</p>\n<p>It seems to be something related with Asynchronous communication.</p>\n<p>Is there an issue? Or I am doing something wrong? I would appreciate a help.</p>\n<p>Libs that I am using in Service B:</p>\n<pre><code>\nplugins {\nid 'java'\nid 'org.springframework.boot' version '3.1.4'\nid 'io.spring.dependency-management' version '1.1.3'\n}\n\ndependencies {\nimplementation 'org.springframework.boot:spring-boot-starter-web'\n\nimplementation 'io.awspring.cloud:spring-cloud-aws-dependencies:3.0.2'\nimplementation 'io.awspring.cloud:spring-cloud-aws-starter:3.0.2'\nimplementation 'io.awspring.cloud:spring-cloud-aws-starter-sqs:3.0.2'\n\nimplementation 'org.springframework.boot:spring-boot-starter-log4j2'\n}\n\nconfigurations {\nall {\nexclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n}\n}\n</code></pre>\n<p>Class SqsConsumer in Service B:</p>\n<pre><code>\nimport io.awspring.cloud.sqs.annotation.SqsListener;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class SqsConsumer {\n\nLogger logger = LoggerFactory.getLogger(SqsConsumer.class);\n\n@SqsListener(value = &quot;${aws.sqs.queue.name}&quot;)\npublic void receiveMessage(String payload) {\nlogger.info(&quot;teste sqs: &quot; + payload);\n}\n}\n</code></pre>\n<p>log4j2.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} [trace_id='%mdc{trace_id}'] [span_id='%mdc{span_id}'] - %msg %n&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>It should show the trace_id and the span_id on the log</p>\n<p>Actual behavior:</p>\n<p>Log in Service B is shown this way:</p>\n<pre><code>19:39:03.503 \\[io.awspring.cloud.sqs.sqsListenerEndpointContainer#0-1\\] INFO  com.example.demo.sqs.SqsConsumer \\[trace_id=''\\] \\[span_id=''\\] - teste sqs: {&quot;Type&quot;: &quot;Notification&quot;, &quot;MessageId&quot;: &quot;392b92b0-3ac9-4deb-9dca-10cba7187181&quot;, &quot;TopicArn&quot;: &quot;arn:aws:sns:sa-east-1:000000000000:scheduler_connection_refresh-tf&quot;, &quot;Message&quot;: &quot;{ \\\\&quot;connectionId\\\\&quot;: \\\\&quot;63f15eff-7ea0-4401-932c-13e556bde0b4\\\\&quot; }&quot;, &quot;Timestamp&quot;: &quot;2023-09-28T19:39:03.287Z&quot;, &quot;SignatureVersion&quot;: &quot;1&quot;, &quot;Signature&quot;: &quot;EXAMPLEpH+..&quot;, &quot;SigningCertURL&quot;: &quot;https://sns.sa-east-1.amazonaws.com/SimpleNotificationService-0000000000000000000000.pem&quot;, &quot;UnsubscribeURL&quot;: &quot;http://localhost:4566/?Action=Unsubscribe&amp;SubscriptionArn=arn:aws:sns:sa-east-1:000000000000:scheduler_connection_refresh-tf:623845af-7a67-4e72-ae99-b6a709617dcf&quot;, &quot;MessageAttributes&quot;: {&quot;traceparent&quot;: {&quot;Type&quot;: &quot;String&quot;, &quot;Value&quot;: &quot;00-841d970aef4c98faca6c7223133e3df2-04d4c8cd4a07af6f-01&quot;}}  \n</code></pre>\n"},{"tags":["java","wait","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627009702,"creation_date":1627009702,"answer_id":68493574,"question_id":68492708,"body_markdown":"**Awaitility** lib is what you want, it waits based on condition (similar to Explicit wait in selenium).\r\n\r\nUser guide here: https://github.com/awaitility/awaitility/wiki/Usage","title":"How to wait between 2 API calls in RestAssured framework","body":"<p><strong>Awaitility</strong> lib is what you want, it waits based on condition (similar to Explicit wait in selenium).</p>\n<p>User guide here: <a href=\"https://github.com/awaitility/awaitility/wiki/Usage\" rel=\"nofollow noreferrer\">https://github.com/awaitility/awaitility/wiki/Usage</a></p>\n"},{"tags":[],"owner":{"account_id":16557745,"reputation":527,"user_id":11964458,"display_name":"Villa_7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627051457,"creation_date":1627051457,"answer_id":68501035,"question_id":68492708,"body_markdown":"You can use **ScheduledExecutorService** class:\r\n\r\n    ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\r\n    \r\n    executorService.schedule(Classname::someTask, delayInSeconds, TimeUnit.SECONDS);\r\n\r\nOr **TimeUnit.sleep()** which is quite similar to the Thread.sleep() you&#39;re already using:\r\n\r\n    try {\r\n        TimeUnit.SECONDS.sleep(secondsToSleep);\r\n    } catch (InterruptedException ie) {\r\n        Thread.currentThread().interrupt();\r\n    }","title":"How to wait between 2 API calls in RestAssured framework","body":"<p>You can use <strong>ScheduledExecutorService</strong> class:</p>\n<pre><code>ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\n\nexecutorService.schedule(Classname::someTask, delayInSeconds, TimeUnit.SECONDS);\n</code></pre>\n<p>Or <strong>TimeUnit.sleep()</strong> which is quite similar to the Thread.sleep() you're already using:</p>\n<pre><code>try {\n    TimeUnit.SECONDS.sleep(secondsToSleep);\n} catch (InterruptedException ie) {\n    Thread.currentThread().interrupt();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695937773,"creation_date":1695937773,"answer_id":77198452,"question_id":68492708,"body_markdown":"Use:\r\n\r\nhttp://www.awaitility.org/\r\n\r\n    Awaitility.await().pollDelay(Duration.ofMillis(retryIntervalMillis)).until(() -&gt; true);\r\n\r\nOR\r\n\r\nGuava (note possible SonarQube issue):  https://guava.dev/releases/19.0/api/docs/com/google/common/util/concurrent/Uninterruptibles.html","title":"How to wait between 2 API calls in RestAssured framework","body":"<p>Use:</p>\n<p><a href=\"http://www.awaitility.org/\" rel=\"nofollow noreferrer\">http://www.awaitility.org/</a></p>\n<pre><code>Awaitility.await().pollDelay(Duration.ofMillis(retryIntervalMillis)).until(() -&gt; true);\n</code></pre>\n<p>OR</p>\n<p>Guava (note possible SonarQube issue):  <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/util/concurrent/Uninterruptibles.html\" rel=\"nofollow noreferrer\">https://guava.dev/releases/19.0/api/docs/com/google/common/util/concurrent/Uninterruptibles.html</a></p>\n"}],"owner":{"account_id":22277759,"reputation":11,"user_id":16506601,"display_name":"Koushal Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1695939465,"creation_date":1626999134,"question_id":68492708,"body_markdown":"Scenario: I need to wait for 10 secs in between calling 2 APIs. Because BE takes time to update and if we call the second API immediately, it does not give the expected output.\r\n\r\nI used `Thread.sleep` for the wait and it is working fine, but wanted to check if there is any other way to achieve it.","title":"How to wait between 2 API calls in RestAssured framework","body":"<p>Scenario: I need to wait for 10 secs in between calling 2 APIs. Because BE takes time to update and if we call the second API immediately, it does not give the expected output.</p>\n<p>I used <code>Thread.sleep</code> for the wait and it is working fine, but wanted to check if there is any other way to achieve it.</p>\n"},{"tags":["java","spring-boot","swagger","netflix-eureka","api-gateway"],"comments":[{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1695939052,"post_id":77198517,"comment_id":136094195,"body_markdown":"Welcome to stackoverflow please [edit] your question and add some more details. as your question stands, there is not enough information to provide an answer.","body":"Welcome to stackoverflow please <a href=\"https://stackoverflow.com/posts/77198517/edit\">edit</a> your question and add some more details. as your question stands, there is not enough information to provide an answer."}],"owner":{"account_id":29559119,"reputation":1,"user_id":22654087,"display_name":"Andrea G&#243;mez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695938887,"creation_date":1695938887,"question_id":77198517,"body_markdown":"I have a api gateway on springboot 3.1.4 version. And I have diferents microservices registered on it and they have its own swagger documentation. I need that when I access the api gateway I can see the swagger of the registered microservices on it.\r\n\r\nI have tried to registed the swagger route on the api gateway but it doesn&#39;t work","title":"How to add Swagger to Api Gateway","body":"<p>I have a api gateway on springboot 3.1.4 version. And I have diferents microservices registered on it and they have its own swagger documentation. I need that when I access the api gateway I can see the swagger of the registered microservices on it.</p>\n<p>I have tried to registed the swagger route on the api gateway but it doesn't work</p>\n"},{"tags":["java","cucumber","bdd"],"comments":[{"owner":{"account_id":150415,"reputation":17357,"user_id":363592,"accept_rate":100,"display_name":"Lunivore"},"score":0,"creation_date":1696188892,"post_id":77198353,"comment_id":136118508,"body_markdown":"Your test looks fine. You probably want a method in your Calculator class to do the calculation, which takes the dates as arguments; rather than hard-coding them in your class the way you have. So your call in your `I want to calculate...` step will be something like `calculator.calculateDoB(start, end)`. I would also pick up the whole date from the steps if you can, and use a date parser to turn it into something meaningful.","body":"Your test looks fine. You probably want a method in your Calculator class to do the calculation, which takes the dates as arguments; rather than hard-coding them in your class the way you have. So your call in your <code>I want to calculate...</code> step will be something like <code>calculator.calculateDoB(start, end)</code>. I would also pick up the whole date from the steps if you can, and use a date parser to turn it into something meaningful."}],"owner":{"account_id":28544743,"reputation":21,"user_id":21850330,"display_name":"SPGA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695937999,"creation_date":1695936182,"question_id":77198353,"body_markdown":"I need to make test with Cucumber based on the following conditions:\r\n\r\n1. I need to calculate number of days from inputed date to today;\r\n2. I need to put restriction that introduced date are not after today (for example 2023-11-01)\r\n3. I need to check if Scenarios in from feature file are satisfied;\r\n\r\nBellow you could find scenarios and code:\r\n\r\n\r\ndays_calculator.feature:&lt;br&gt;\r\nFeature: determine how many days are from birthday in according to entered date.\r\n```none\r\n  Scenario: entered date is before today\r\n    Given I enter the date &lt;2023-01-01&gt;\r\n    When I want to calculate based on today\r\n    Then the result should be 270\r\n\r\n  Scenario: entered date is after today\r\n    Given I enter the date &lt;2024-01-01&gt;\r\n    When I want to calculate based on today\r\n    Then the result should be 0\r\n```\r\nStepdefinitions.java:\r\n```\r\npackage agecalculator_example;\r\n\r\nimport io.cucumber.java.en.When;\r\nimport io.cucumber.java.en.Then;\r\nimport io.cucumber.java.en.Given;\r\nimport java.util.Date;\r\n\r\npublic class StepDefinition {\r\n    int actual;\r\n    @Given(&quot;I enter the date &lt;{int}{int}{int}&gt;&quot;)\r\n    public void iEnterTheDate(int arg0, int arg1, int arg2) {\r\n\r\n    }\r\n\r\n    @When(&quot;I want to calculate based on today&quot;)\r\n    public void i_want_to_calculate_based_on_today() {\r\n        actual = calculator.\r\n    }\r\n\r\n    @Then(&quot;the result should be {int}&quot;)\r\n    public void the_result_should_be(Integer expected) {\r\n        if (actual != expected) {\r\n            throw new AssertionError(&quot;Assertion is not equal with expected.&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nFuctionality calculator.java:\r\n```\r\npackage agecalculator_example;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.temporal.ChronoUnit;\r\n\r\npublic class calculator {\r\n    LocalDate start = LocalDate.parse(&quot;2023-01-01&quot;);\r\n    LocalDate end = LocalDate.parse(&quot;2023-09-28&quot;);\r\n    long DiffinDays;\r\n\r\n    {\r\n        DiffinDays = ChronoUnit.DAYS.between(start, end);\r\n        System.out.println(DiffinDays);\r\n    }\r\n}\r\n```\r\n\r\nPlease help to finalize this test. I&#39;m beginner in Java and Cucumber testing","title":"Testing in according to BDD","body":"<p>I need to make test with Cucumber based on the following conditions:</p>\n<ol>\n<li>I need to calculate number of days from inputed date to today;</li>\n<li>I need to put restriction that introduced date are not after today (for example 2023-11-01)</li>\n<li>I need to check if Scenarios in from feature file are satisfied;</li>\n</ol>\n<p>Bellow you could find scenarios and code:</p>\n<p>days_calculator.feature:<br>\nFeature: determine how many days are from birthday in according to entered date.</p>\n<pre class=\"lang-none prettyprint-override\"><code>  Scenario: entered date is before today\n    Given I enter the date &lt;2023-01-01&gt;\n    When I want to calculate based on today\n    Then the result should be 270\n\n  Scenario: entered date is after today\n    Given I enter the date &lt;2024-01-01&gt;\n    When I want to calculate based on today\n    Then the result should be 0\n</code></pre>\n<p>Stepdefinitions.java:</p>\n<pre><code>package agecalculator_example;\n\nimport io.cucumber.java.en.When;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.Given;\nimport java.util.Date;\n\npublic class StepDefinition {\n    int actual;\n    @Given(&quot;I enter the date &lt;{int}{int}{int}&gt;&quot;)\n    public void iEnterTheDate(int arg0, int arg1, int arg2) {\n\n    }\n\n    @When(&quot;I want to calculate based on today&quot;)\n    public void i_want_to_calculate_based_on_today() {\n        actual = calculator.\n    }\n\n    @Then(&quot;the result should be {int}&quot;)\n    public void the_result_should_be(Integer expected) {\n        if (actual != expected) {\n            throw new AssertionError(&quot;Assertion is not equal with expected.&quot;);\n        }\n\n    }\n}\n</code></pre>\n<p>Fuctionality calculator.java:</p>\n<pre><code>package agecalculator_example;\n\nimport java.time.LocalDate;\nimport java.time.temporal.ChronoUnit;\n\npublic class calculator {\n    LocalDate start = LocalDate.parse(&quot;2023-01-01&quot;);\n    LocalDate end = LocalDate.parse(&quot;2023-09-28&quot;);\n    long DiffinDays;\n\n    {\n        DiffinDays = ChronoUnit.DAYS.between(start, end);\n        System.out.println(DiffinDays);\n    }\n}\n</code></pre>\n<p>Please help to finalize this test. I'm beginner in Java and Cucumber testing</p>\n"},{"tags":["java","jms","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1693233947,"post_id":76993716,"comment_id":135729876,"body_markdown":"What is the MAXDEPTH of the queue you are putting to?","body":"What is the MAXDEPTH of the queue you are putting to?"},{"owner":{"account_id":7141158,"reputation":67,"user_id":5458742,"display_name":"Vipul Kumar"},"score":0,"creation_date":1693234917,"post_id":76993716,"comment_id":135730136,"body_markdown":"MAXDEPTH is 5000. That is why it was difficult to understand why MQRC_Q_FULL was encountered.","body":"MAXDEPTH is 5000. That is why it was difficult to understand why MQRC_Q_FULL was encountered."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1693235425,"post_id":76993716,"comment_id":135730287,"body_markdown":"Only 2 producers?","body":"Only 2 producers?"},{"owner":{"account_id":7141158,"reputation":67,"user_id":5458742,"display_name":"Vipul Kumar"},"score":0,"creation_date":1693235526,"post_id":76993716,"comment_id":135730307,"body_markdown":"@JoshMc Yes exactly","body":"@JoshMc Yes exactly"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1693236980,"post_id":76993716,"comment_id":135730667,"body_markdown":"You say &quot;Default persistence of QM&quot;, do you mean the queue you are putting to has DEFPSIST(YES)?  Are you setting persistence in your program?","body":"You say &quot;Default persistence of QM&quot;, do you mean the queue you are putting to has DEFPSIST(YES)?  Are you setting persistence in your program?"},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1693278979,"post_id":76993716,"comment_id":135736290,"body_markdown":"Was the queue empty before you started?","body":"Was the queue empty before you started?"},{"owner":{"account_id":7141158,"reputation":67,"user_id":5458742,"display_name":"Vipul Kumar"},"score":0,"creation_date":1693295804,"post_id":76993716,"comment_id":135738263,"body_markdown":"@JoshMc Yes DEFPSIST(YES) configuration exists in the server for that particular queue.","body":"@JoshMc Yes DEFPSIST(YES) configuration exists in the server for that particular queue."},{"owner":{"account_id":7141158,"reputation":67,"user_id":5458742,"display_name":"Vipul Kumar"},"score":0,"creation_date":1693295862,"post_id":76993716,"comment_id":135738275,"body_markdown":"@MoragHughson Yes, queue is empty before start of the execution. We have a script for cleanup process.","body":"@MoragHughson Yes, queue is empty before start of the execution. We have a script for cleanup process."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1693349414,"post_id":76993716,"comment_id":135748447,"body_markdown":"What did the depth show when you get 2053.  Can you please show your code.","body":"What did the depth show when you get 2053.  Can you please show your code."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1693386556,"post_id":76993716,"comment_id":135752549,"body_markdown":"If you are certain the queue is empty before you start and this is repeatable, I would be looking at the 5000 messages on the queue after the 1st run and looking at what the extra 3000 messages are; what application put them; what their content is etc.","body":"If you are certain the queue is empty before you start and this is repeatable, I would be looking at the 5000 messages on the queue after the 1st run and looking at what the extra 3000 messages are; what application put them; what their content is etc."},{"owner":{"account_id":7141158,"reputation":67,"user_id":5458742,"display_name":"Vipul Kumar"},"score":0,"creation_date":1693984799,"post_id":76993716,"comment_id":135829951,"body_markdown":"@JoshMc Sorry, but unfortunately the code implementation I would not be able to show due to compliance issues. But one additional point is that I noticed when Queue is persistent, it stores the messages in some logs. Is it due to the size exhaustion of the log file?","body":"@JoshMc Sorry, but unfortunately the code implementation I would not be able to show due to compliance issues. But one additional point is that I noticed when Queue is persistent, it stores the messages in some logs. Is it due to the size exhaustion of the log file?"}],"answers":[{"tags":[],"owner":{"account_id":5230400,"reputation":1818,"user_id":4180950,"display_name":"Attila Repasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695937292,"creation_date":1695937292,"answer_id":77198422,"question_id":76993716,"body_markdown":"I think the most likely reason for this behaviour is, that you don&#39;t specify MQPMO_SYNCPOINT in the put message options in your code, but rather rely on the implicit syncpoint option to put messages transactionally:\r\n\r\nhttps://www.ibm.com/docs/en/ibm-mq/9.3?topic=multiplatforms-implicit-syncpoint\r\n\r\nBut we can&#39;t be sure without seeing your code.\r\n\r\nI think this is a good description of the differences between persistent and non-persistent messages:\r\n\r\nhttps://www.ibm.com/support/pages/message-persistence-faqs\r\n\r\nBut I think the most important difference is that persistent messages survive a QM restart, while non-persistent messages are deleted on restart.","title":"What is the underlying difference between IBM MQ persistent and non persistent transactions?","body":"<p>I think the most likely reason for this behaviour is, that you don't specify MQPMO_SYNCPOINT in the put message options in your code, but rather rely on the implicit syncpoint option to put messages transactionally:</p>\n<p><a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=multiplatforms-implicit-syncpoint\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/ibm-mq/9.3?topic=multiplatforms-implicit-syncpoint</a></p>\n<p>But we can't be sure without seeing your code.</p>\n<p>I think this is a good description of the differences between persistent and non-persistent messages:</p>\n<p><a href=\"https://www.ibm.com/support/pages/message-persistence-faqs\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/pages/message-persistence-faqs</a></p>\n<p>But I think the most important difference is that persistent messages survive a QM restart, while non-persistent messages are deleted on restart.</p>\n"}],"owner":{"account_id":7141158,"reputation":67,"user_id":5458742,"display_name":"Vipul Kumar"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695937292,"creation_date":1693233007,"question_id":76993716,"body_markdown":"While testing my application which uses IBM Websphere MQ, I encountered an issue while committing messages in MQ. \r\n\r\nBasically there is one single batch which reads from oracle DB and processes the information and writes to queue. \r\n\r\nMultiple instances of the same batch application can run concurrently with some parameters, so the DB records never overlap and will always be different, but they both write messages to the same queue. \r\n\r\nBoth instances commit messages after 1000 messages are generated and put in queue.\r\n\r\nThe max uncommitted size of the queue manager is 1000.\r\n\r\n**1st run:**\r\nDefault persistence of QM: Persistent\r\nMax uncommitted messages: 1000\r\n\r\nFaced error when both instances were run simultaneously. \r\n\r\n    Caused by: com.ibm.mq.MQException: JMSCMQ0001: WebSphere MQ call failed with compcode &#39;2&#39; (&#39;MQCC_FAILED&#39;) reason &#39;2053&#39; (&#39;MQRC_Q_FULL&#39;).\r\n\tat com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:203)\r\n\r\n**2nd run:**\r\nDefault persistence of QM: Non-Persistent\r\nMax uncommitted messages: 1000\r\n\r\nBoth batches run successfully. \r\n\r\n**3rd run:**\r\nDefault persistence of QM: Persistent\r\nMax uncommitted messages: 10000\r\n\r\nBoth batches run successfully. \r\n\r\nI want to know the reason why 2nd run was successful even when max uncommitted messages was 1000. \r\n\r\nHow does IBM MQ transactions work internally? Is it due to the caching mechanism used by MQ for persistent messages? Or due to the fast speed of non persistent messages that the error was never encountered? ","title":"What is the underlying difference between IBM MQ persistent and non persistent transactions?","body":"<p>While testing my application which uses IBM Websphere MQ, I encountered an issue while committing messages in MQ.</p>\n<p>Basically there is one single batch which reads from oracle DB and processes the information and writes to queue.</p>\n<p>Multiple instances of the same batch application can run concurrently with some parameters, so the DB records never overlap and will always be different, but they both write messages to the same queue.</p>\n<p>Both instances commit messages after 1000 messages are generated and put in queue.</p>\n<p>The max uncommitted size of the queue manager is 1000.</p>\n<p><strong>1st run:</strong>\nDefault persistence of QM: Persistent\nMax uncommitted messages: 1000</p>\n<p>Faced error when both instances were run simultaneously.</p>\n<pre><code>Caused by: com.ibm.mq.MQException: JMSCMQ0001: WebSphere MQ call failed with compcode '2' ('MQCC_FAILED') reason '2053' ('MQRC_Q_FULL').\nat com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:203)\n</code></pre>\n<p><strong>2nd run:</strong>\nDefault persistence of QM: Non-Persistent\nMax uncommitted messages: 1000</p>\n<p>Both batches run successfully.</p>\n<p><strong>3rd run:</strong>\nDefault persistence of QM: Persistent\nMax uncommitted messages: 10000</p>\n<p>Both batches run successfully.</p>\n<p>I want to know the reason why 2nd run was successful even when max uncommitted messages was 1000.</p>\n<p>How does IBM MQ transactions work internally? Is it due to the caching mechanism used by MQ for persistent messages? Or due to the fast speed of non persistent messages that the error was never encountered?</p>\n"},{"tags":["java","jakarta-ee","cdi","java-ee-8"],"answers":[{"tags":[],"owner":{"account_id":22232,"reputation":2344,"user_id":54645,"accept_rate":100,"display_name":"Benjamin Confino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695910697,"creation_date":1695910697,"answer_id":77195834,"question_id":77195060,"body_markdown":"The idiomatic way to do it would be to use qualifiers, but to use them inside getStorageEngine().\r\n\r\n    @Produces\r\n    public StorageEngine getStorageEngine() {\r\n\r\n        if (engineType.equals(&quot;type one&quot;)) {\r\n            //TypeOne.class is a qualifier\r\n            storageEngineInstance.select(TypeOne.class);\r\n        } else if //repeat for all engine types\r\n    }\r\n\r\nIf you really do not want to use qualifiers, Instance is also iterable \r\n\r\n    @Produces\r\n    public StorageEngine getStorageEngine() {\r\n\r\n        if (StorageEngine storageEngine : storageEngineInstance) {\r\n           if (storageEngine.someValue().equals(engineType.someValue())) {\r\n               return storageEngine;\r\n           }\r\n        } \r\n    }","title":"CDI factory design pattern with properties file","body":"<p>The idiomatic way to do it would be to use qualifiers, but to use them inside getStorageEngine().</p>\n<pre><code>@Produces\npublic StorageEngine getStorageEngine() {\n\n    if (engineType.equals(&quot;type one&quot;)) {\n        //TypeOne.class is a qualifier\n        storageEngineInstance.select(TypeOne.class);\n    } else if //repeat for all engine types\n}\n</code></pre>\n<p>If you really do not want to use qualifiers, Instance is also iterable</p>\n<pre><code>@Produces\npublic StorageEngine getStorageEngine() {\n\n    if (StorageEngine storageEngine : storageEngineInstance) {\n       if (storageEngine.someValue().equals(engineType.someValue())) {\n           return storageEngine;\n       }\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695911542,"creation_date":1695911542,"answer_id":77195937,"question_id":77195060,"body_markdown":"I finally found a good solution .    \r\nActually we still need `@Qualifier` annotation .    \r\n\r\nfirst create a annotation like this :    \r\n```\r\n@Qualifier\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface StorageType {\r\n    String value();\r\n}\r\n``` \r\n\r\nnow create annotation literal for that :    \r\n```\r\npublic class StorageTypeLiteral extends AnnotationLiteral&lt;StorageType&gt; implements StorageType {\r\n\r\n    private final String value;\r\n\r\n    public StorageTypeLiteral(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    @Override\r\n    public String value() {\r\n        return value;\r\n    }\r\n}\r\n``` \r\n\r\nChange implementations :     \r\n```\r\n@StorageType(&quot;local-filesystem&quot;)\r\npublic class LocalFileSystemEngine implements StorageEngine {\r\n   // Implement methods ...\r\n}\r\n\r\n@StorageType(&quot;Dropbox&quot;)\r\npublic class DropboxEngine implements StorageEngine {\r\n   // Implement methods ...\r\n}\r\n\r\n@StorageType(&quot;GoogleDrive&quot;)\r\npublic class GoogleDriveEngine implements StorageEngine {\r\n   // Implement methods ...\r\n}\r\n```\r\nnow update producer class like this :    \r\n```\r\n@ApplicationScoped\r\npublic class StorageProducer {\r\n    private static final Logger logger = LoggerFactory.getLogger(StorageProducer.class);\r\n\r\n    @Inject\r\n    @ConfigProperty(name = &quot;storage.engine-type&quot;,defaultValue = &quot;local-filesystem&quot;)\r\n    private String engineType;\r\n\r\n    @Inject\r\n    @Any\r\n    private Instance&lt;StorageEngine&gt; storageEngineInstance;\r\n\r\n    @Produces\r\n    public StorageEngine getStorageEngine() {\r\n        Instance&lt;StorageEngine&gt; instance = storageEngineInstance.select(new StorageTypeLiteral(engineType));\r\n        if (!instance.isResolvable())\r\n            throw new IllegalArgumentException(&quot;Storage %s not implemented yet&quot;.formatted(engineType));\r\n        return instance.get();\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s work .    \r\nThank you .\r\n\r\n","title":"CDI factory design pattern with properties file","body":"<p>I finally found a good solution .<br />\nActually we still need <code>@Qualifier</code> annotation .</p>\n<p>first create a annotation like this :</p>\n<pre><code>@Qualifier\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface StorageType {\n    String value();\n}\n</code></pre>\n<p>now create annotation literal for that :</p>\n<pre><code>public class StorageTypeLiteral extends AnnotationLiteral&lt;StorageType&gt; implements StorageType {\n\n    private final String value;\n\n    public StorageTypeLiteral(String value) {\n        this.value = value;\n    }\n\n    @Override\n    public String value() {\n        return value;\n    }\n}\n</code></pre>\n<p>Change implementations :</p>\n<pre><code>@StorageType(&quot;local-filesystem&quot;)\npublic class LocalFileSystemEngine implements StorageEngine {\n   // Implement methods ...\n}\n\n@StorageType(&quot;Dropbox&quot;)\npublic class DropboxEngine implements StorageEngine {\n   // Implement methods ...\n}\n\n@StorageType(&quot;GoogleDrive&quot;)\npublic class GoogleDriveEngine implements StorageEngine {\n   // Implement methods ...\n}\n</code></pre>\n<p>now update producer class like this :</p>\n<pre><code>@ApplicationScoped\npublic class StorageProducer {\n    private static final Logger logger = LoggerFactory.getLogger(StorageProducer.class);\n\n    @Inject\n    @ConfigProperty(name = &quot;storage.engine-type&quot;,defaultValue = &quot;local-filesystem&quot;)\n    private String engineType;\n\n    @Inject\n    @Any\n    private Instance&lt;StorageEngine&gt; storageEngineInstance;\n\n    @Produces\n    public StorageEngine getStorageEngine() {\n        Instance&lt;StorageEngine&gt; instance = storageEngineInstance.select(new StorageTypeLiteral(engineType));\n        if (!instance.isResolvable())\n            throw new IllegalArgumentException(&quot;Storage %s not implemented yet&quot;.formatted(engineType));\n        return instance.get();\n    }\n}\n</code></pre>\n<p>It's work .<br />\nThank you .</p>\n"},{"tags":[],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695937107,"creation_date":1695937107,"answer_id":77198410,"question_id":77195060,"body_markdown":"All of the solutions are too complicated. Qualifiers are not needed.\r\n\r\nRestrict the bean types of the concrete implementations and then have your producer method pick the right one:\r\n\r\n```\r\n@Typed(LocalFileSystemEngine.class) // &lt;-- NOTE\r\npublic class LocalFileSystemEngine implements StorageEngine {\r\n   // Implement methods ...\r\n}\r\n\r\n@Typed(DropboxEngine.class) // &lt;-- NOTE\r\npublic class DropboxEngine implements StorageEngine {\r\n   // Implement methods ...\r\n}\r\n\r\n@Typed(GoogleDriveEngine.class) // &lt;-- NOTE\r\npublic class GoogleDriveEngine implements StorageEngine {\r\n   // Implement methods ...\r\n}\r\n\r\n@Produces\r\npublic StorageEngine getStorageEngine(@ConfigProperty(name = &quot;storage.engine-type&quot;,\r\n                                                      defaultValue = &quot;local-filesystem&quot;)\r\n                                      String type,\r\n                                      LocalFilesystemEngine lfe,\r\n                                      DropboxEngine de,\r\n                                      GoogleDriveEngine gde) {\r\n  return switch (type) {\r\n    case &quot;local-filesystem&quot; -&gt; lfe;\r\n    case &quot;google-drive&quot; -&gt; gde;\r\n    case &quot;dropbox&quot; -&gt; de;\r\n    default -&gt; throw new CreationException();\r\n  };\r\n}\r\n```","title":"CDI factory design pattern with properties file","body":"<p>All of the solutions are too complicated. Qualifiers are not needed.</p>\n<p>Restrict the bean types of the concrete implementations and then have your producer method pick the right one:</p>\n<pre><code>@Typed(LocalFileSystemEngine.class) // &lt;-- NOTE\npublic class LocalFileSystemEngine implements StorageEngine {\n   // Implement methods ...\n}\n\n@Typed(DropboxEngine.class) // &lt;-- NOTE\npublic class DropboxEngine implements StorageEngine {\n   // Implement methods ...\n}\n\n@Typed(GoogleDriveEngine.class) // &lt;-- NOTE\npublic class GoogleDriveEngine implements StorageEngine {\n   // Implement methods ...\n}\n\n@Produces\npublic StorageEngine getStorageEngine(@ConfigProperty(name = &quot;storage.engine-type&quot;,\n                                                      defaultValue = &quot;local-filesystem&quot;)\n                                      String type,\n                                      LocalFilesystemEngine lfe,\n                                      DropboxEngine de,\n                                      GoogleDriveEngine gde) {\n  return switch (type) {\n    case &quot;local-filesystem&quot; -&gt; lfe;\n    case &quot;google-drive&quot; -&gt; gde;\n    case &quot;dropbox&quot; -&gt; de;\n    default -&gt; throw new CreationException();\n  };\n}\n</code></pre>\n"}],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77198410,"answer_count":3,"score":0,"last_activity_date":1695937107,"creation_date":1695905059,"question_id":77195060,"body_markdown":"I have a interface like this : \r\n```\r\n@Singleton\r\npublic interface StorageEngine {\r\n    String upload(InputStream inputStream);\r\n\r\n    InputStream download(String fileName);\r\n\r\n    int size(String fileName);\r\n\r\n    boolean delete(String fileName);\r\n}\r\n``` \r\nand multiple implementation : \r\n```\r\npublic class LocalFileSystemEngine implements StorageEngine {\r\n   // Implement methods ...\r\n}\r\n\r\npublic class DropboxEngine implements StorageEngine {\r\n   // Implement methods ...\r\n}\r\n\r\npublic class GoogleDriveEngine implements StorageEngine {\r\n   // Implement methods ...\r\n}\r\n```      \r\n\r\nand this Producer class :  \r\n```\r\nimport jakarta.enterprise.context.ApplicationScoped;\r\nimport jakarta.enterprise.inject.Any;\r\nimport jakarta.enterprise.inject.Instance;\r\nimport jakarta.enterprise.inject.Produces;\r\nimport jakarta.inject.Inject;\r\nimport org.eclipse.microprofile.config.inject.ConfigProperty;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\n@ApplicationScoped\r\npublic class StorageProducer {\r\n    private static final Logger logger = LoggerFactory.getLogger(StorageProducer.class);\r\n\r\n    @Inject\r\n    @ConfigProperty(name = &quot;storage.engine-type&quot;,defaultValue = &quot;local-filesystem&quot;)\r\n    private String engineType;\r\n\r\n    @Inject\r\n    @Any\r\n    private Instance&lt;StorageEngine&gt; storageEngineInstance;\r\n\r\n    @Produces\r\n    public StorageEngine getStorageEngine() {\r\n        // How to implement ???\r\n    }\r\n}\r\n```  \r\n\r\nmy goal is :    \r\nread engine type from microprofile properties file and produce storage engine .     \r\nIs there any way to inject `StorageEngine` without qualifier annotation ?   \r\n\r\nI need to have only this on injection point class:        \r\n```\r\n@MultipartConfig\r\n@WebServlet(urlPatterns = &quot;/file&quot;)\r\npublic class FileServlet extends HttpServlet {\r\n     @Inject\r\n    private StorageEngine storageEngine;    \r\n    \r\n\r\n    // Implement service method \r\n} \r\n```\r\nanyone can help me ?    ","title":"CDI factory design pattern with properties file","body":"<p>I have a interface like this :</p>\n<pre><code>@Singleton\npublic interface StorageEngine {\n    String upload(InputStream inputStream);\n\n    InputStream download(String fileName);\n\n    int size(String fileName);\n\n    boolean delete(String fileName);\n}\n</code></pre>\n<p>and multiple implementation :</p>\n<pre><code>public class LocalFileSystemEngine implements StorageEngine {\n   // Implement methods ...\n}\n\npublic class DropboxEngine implements StorageEngine {\n   // Implement methods ...\n}\n\npublic class GoogleDriveEngine implements StorageEngine {\n   // Implement methods ...\n}\n</code></pre>\n<p>and this Producer class :</p>\n<pre><code>import jakarta.enterprise.context.ApplicationScoped;\nimport jakarta.enterprise.inject.Any;\nimport jakarta.enterprise.inject.Instance;\nimport jakarta.enterprise.inject.Produces;\nimport jakarta.inject.Inject;\nimport org.eclipse.microprofile.config.inject.ConfigProperty;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@ApplicationScoped\npublic class StorageProducer {\n    private static final Logger logger = LoggerFactory.getLogger(StorageProducer.class);\n\n    @Inject\n    @ConfigProperty(name = &quot;storage.engine-type&quot;,defaultValue = &quot;local-filesystem&quot;)\n    private String engineType;\n\n    @Inject\n    @Any\n    private Instance&lt;StorageEngine&gt; storageEngineInstance;\n\n    @Produces\n    public StorageEngine getStorageEngine() {\n        // How to implement ???\n    }\n}\n</code></pre>\n<p>my goal is :<br />\nread engine type from microprofile properties file and produce storage engine .<br />\nIs there any way to inject <code>StorageEngine</code> without qualifier annotation ?</p>\n<p>I need to have only this on injection point class:</p>\n<pre><code>@MultipartConfig\n@WebServlet(urlPatterns = &quot;/file&quot;)\npublic class FileServlet extends HttpServlet {\n     @Inject\n    private StorageEngine storageEngine;    \n    \n\n    // Implement service method \n} \n</code></pre>\n<p>anyone can help me ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1695937007,"post_id":77198384,"comment_id":136093974,"body_markdown":"You don&#39;t keep a reference to the newly constructed list, so it is detached from the object you asked it from.","body":"You don&#39;t keep a reference to the newly constructed list, so it is detached from the object you asked it from."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695937062,"creation_date":1695937062,"answer_id":77198408,"question_id":77198384,"body_markdown":"If `employeeList` (the instance variable) is `null`, then you make a new `ArrayList` each time `getEmployeeList` is called. You have two options. First, you could actually assign the `employeeList` in the `null` case.\r\n\r\n    public List&lt;Employee&gt; getEmployeeList() {\r\n      if (employeeList == null){\r\n        employeeList = new ArrayList&lt;&gt;();\r\n      }\r\n      return employeeList;\r\n    }\r\n\r\nSecond, and much preferred, simply initialize the `employeeList` properly in your constructor.\r\n\r\n```\r\nEmployeeSearchResponse() {\r\n  employeeList = new ArrayList&lt;&gt;();\r\n  ...\r\n}\r\n```\r\n\r\nIf `null` is not an actual valid value for this variable, then don&#39;t let it ever become `null` in the first place.","title":"Java List.get.addAll not working as expected","body":"<p>If <code>employeeList</code> (the instance variable) is <code>null</code>, then you make a new <code>ArrayList</code> each time <code>getEmployeeList</code> is called. You have two options. First, you could actually assign the <code>employeeList</code> in the <code>null</code> case.</p>\n<pre><code>public List&lt;Employee&gt; getEmployeeList() {\n  if (employeeList == null){\n    employeeList = new ArrayList&lt;&gt;();\n  }\n  return employeeList;\n}\n</code></pre>\n<p>Second, and much preferred, simply initialize the <code>employeeList</code> properly in your constructor.</p>\n<pre><code>EmployeeSearchResponse() {\n  employeeList = new ArrayList&lt;&gt;();\n  ...\n}\n</code></pre>\n<p>If <code>null</code> is not an actual valid value for this variable, then don't let it ever become <code>null</code> in the first place.</p>\n"}],"owner":{"account_id":6973249,"reputation":411,"user_id":5348803,"accept_rate":33,"display_name":"developer2015"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77198408,"answer_count":1,"score":0,"last_activity_date":1695937062,"creation_date":1695936596,"question_id":77198384,"body_markdown":"I would like to know as why when I do list.get.addAll it does not works but works with list.set\r\nHere is my code \r\n```\r\n@Data\r\nclass EmployeeSearchRespoonse{\r\n\t\r\n\tprivate List&lt;Emplyoee&gt; employeeList;\r\n\r\n\tprivate List&lt;Error&gt; statusList;\r\n\r\n\r\n\t  public List&lt;Error&gt; getErrors(){\r\n        if(errors==null){\r\n            return new ArrayList&lt;&gt;();\r\n        }\r\n        return errors;\r\n\r\n    }\r\n\r\n    public List&lt;Employee&gt; getEmployeeList(){\r\n    if(employeeList==null){\r\n     return new ArrayList&lt;&gt;();\r\n    }\r\n    return employeeList;\r\n    }\r\n\r\n}\r\n```\r\n\r\nMethod where I am using this \r\n\r\n```\r\n    public EmployeeSearchRespoonse retrieveEmployeeList(String providerID) {\r\n        EmployeeSearchRespoonse employeeSearchResponse = new EmployeeSearchRespoonse();\r\n        try {\r\n            \r\n            ResponseEntity&lt;Employee&gt; responseEntity = restUtil.getEmployee(&quot;someurl&quot;, providerID);\r\n       \r\n            if(responseEntity.getStatusCode()!= HttpStatus.OK || responseEntity.getBody()==null){\r\n                employeeSearchResponse.getErrors().add(new Error(&quot;500&quot;, &quot;service not available&quot;));\r\n            }\r\n            List&lt;Employee&gt; employeeListResponse = mappperMethod(Objects.requireNonNull(responseEntity.getBody()));\r\n            employeeSearchResponse.getEmployeeList().addAll(employeeListResponse);\r\n//            employeeSearchResponse.setEmployeeList(employeeListResponse);\r\n            LOGGER.info(&quot;{}&quot;, employeeSearchResponse);\r\n            return  employeeSearchResponse;\r\n        } catch (Exception ex) {\r\n            LOGGER.error(&quot;Error Occured retrieving  employee with providerID {} , exception is {}&quot;, providerID, ex);\r\n            employeeSearchResponse.getErrors().add(new Error(&quot;500&quot;, &quot;service not available&quot;));\r\n            return employeeSearchResponse;\r\n        }\r\n\r\n    }\r\n\r\n\r\n```\r\n\r\nif i use the getLis.addAll the object returned is with empty list only when I use set the object returns with list and its values ","title":"Java List.get.addAll not working as expected","body":"<p>I would like to know as why when I do list.get.addAll it does not works but works with list.set\nHere is my code</p>\n<pre><code>@Data\nclass EmployeeSearchRespoonse{\n    \n    private List&lt;Emplyoee&gt; employeeList;\n\n    private List&lt;Error&gt; statusList;\n\n\n      public List&lt;Error&gt; getErrors(){\n        if(errors==null){\n            return new ArrayList&lt;&gt;();\n        }\n        return errors;\n\n    }\n\n    public List&lt;Employee&gt; getEmployeeList(){\n    if(employeeList==null){\n     return new ArrayList&lt;&gt;();\n    }\n    return employeeList;\n    }\n\n}\n</code></pre>\n<p>Method where I am using this</p>\n<pre><code>    public EmployeeSearchRespoonse retrieveEmployeeList(String providerID) {\n        EmployeeSearchRespoonse employeeSearchResponse = new EmployeeSearchRespoonse();\n        try {\n            \n            ResponseEntity&lt;Employee&gt; responseEntity = restUtil.getEmployee(&quot;someurl&quot;, providerID);\n       \n            if(responseEntity.getStatusCode()!= HttpStatus.OK || responseEntity.getBody()==null){\n                employeeSearchResponse.getErrors().add(new Error(&quot;500&quot;, &quot;service not available&quot;));\n            }\n            List&lt;Employee&gt; employeeListResponse = mappperMethod(Objects.requireNonNull(responseEntity.getBody()));\n            employeeSearchResponse.getEmployeeList().addAll(employeeListResponse);\n//            employeeSearchResponse.setEmployeeList(employeeListResponse);\n            LOGGER.info(&quot;{}&quot;, employeeSearchResponse);\n            return  employeeSearchResponse;\n        } catch (Exception ex) {\n            LOGGER.error(&quot;Error Occured retrieving  employee with providerID {} , exception is {}&quot;, providerID, ex);\n            employeeSearchResponse.getErrors().add(new Error(&quot;500&quot;, &quot;service not available&quot;));\n            return employeeSearchResponse;\n        }\n\n    }\n\n\n</code></pre>\n<p>if i use the getLis.addAll the object returned is with empty list only when I use set the object returns with list and its values</p>\n"},{"tags":["java","fft"],"answers":[{"tags":[],"owner":{"account_id":158052,"reputation":41457,"user_id":376409,"accept_rate":78,"display_name":"Kieren Johnstone"},"down_vote_count":1,"up_vote_count":33,"is_accepted":true,"score":32,"last_activity_date":1279607429,"creation_date":1279607429,"answer_id":3287544,"question_id":3287518,"body_markdown":"FFTW is the &#39;fastest fourier transform in the west&#39;, and has some Java wrappers:\r\n\r\n&gt;http://www.fftw.org/download.html\r\n\r\nHope that helps!","title":"Reliable and fast FFT in Java","body":"<p>FFTW is the 'fastest fourier transform in the west', and has some Java wrappers:</p>\n\n<blockquote>\n  <p><a href=\"http://www.fftw.org/download.html\" rel=\"noreferrer\">http://www.fftw.org/download.html</a></p>\n</blockquote>\n\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":3517,"reputation":31981,"user_id":5074,"accept_rate":78,"display_name":"Jay R."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454007542,"creation_date":1286561919,"answer_id":3893214,"question_id":3287518,"body_markdown":"I&#39;m looking into using [SSTJ][1] for FFTs in Java.  It can redirect via JNI to [FFTW][2] if the library is available or will use a pure Java implementation if not.\r\n\r\n\r\n  [1]: http://carsomyr.github.io/shared/\r\n  [2]: http://www.fftw.org","title":"Reliable and fast FFT in Java","body":"<p>I'm looking into using <a href=\"http://carsomyr.github.io/shared/\" rel=\"nofollow\">SSTJ</a> for FFTs in Java.  It can redirect via JNI to <a href=\"http://www.fftw.org\" rel=\"nofollow\">FFTW</a> if the library is available or will use a pure Java implementation if not.</p>\n"},{"tags":[],"owner":{"account_id":232,"reputation":29734,"user_id":287,"accept_rate":91,"display_name":"basszero"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1296733344,"creation_date":1296733344,"answer_id":4885674,"question_id":3287518,"body_markdown":"Late to the party - here as a pure java solution for those when JNI is not an option.[JTransforms][1]\r\n\r\n\r\n  [1]: http://sites.google.com/site/piotrwendykier/software/jtransforms","title":"Reliable and fast FFT in Java","body":"<p>Late to the party - here as a pure java solution for those when JNI is not an option.<a href=\"http://sites.google.com/site/piotrwendykier/software/jtransforms\" rel=\"noreferrer\">JTransforms</a></p>\n"},{"tags":[],"owner":{"account_id":239756,"reputation":638,"user_id":509577,"display_name":"alcor"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1695936483,"creation_date":1317992192,"answer_id":7687568,"question_id":3287518,"body_markdown":"I wrote a function for the FFT in Java.\r\n\r\nI&#39;ve released it in the Public Domain so you can use those functions everywhere (for personal or business projects too). Just cite me in the credits and send me a link to your work, and you&#39;re okay.\r\n\r\nIt is completely reliable. I&#39;ve checked its output against Mathematica&#39;s FFT and they were always correct until the 15th decimal digit. I think it&#39;s an excellent FFT implementation for Java. I wrote it on the J2SE 1.6 version and tested it on the J2SE 1.5-1.6 version.\r\n\r\nIf you count the number of instructions (it&#39;s a lot much simpler than a perfect computational complexity function estimation) you can clearly see that this version is great even if it&#39;s not optimized at all. I&#39;m planning to publish the optimized version if there are enough requests.\r\n\r\nLet me know if it was helpful, and tell me any comments you like.\r\n\r\nI share the same code right here:\r\n\r\n    /**\r\n    * @author Orlando Selenu\r\n    * Originally written in the Summer of 2008\r\n    * Based on the algorithms originally published by E. Oran Brigham &quot;The Fast Fourier Transform&quot; 1973, in ALGOL60 and FORTRAN\r\n    */\r\n    public class FFTbase {\r\n    /**\r\n     * The Fast Fourier Transform (generic version, with NO optimizations).\r\n     *\r\n     * @param inputReal\r\n     *            an array of length n, the real part\r\n     * @param inputImag\r\n     *            an array of length n, the imaginary part\r\n     * @param DIRECT\r\n     *            TRUE = direct transform, FALSE = inverse transform\r\n     * @return a new array of length 2n\r\n     */\r\n    public static double[] fft(final double[] inputReal, double[] inputImag,\r\n                               boolean DIRECT) {\r\n        // - n is the dimension of the problem\r\n        // - nu is its logarithm in base e\r\n        int n = inputReal.length;\r\n\r\n        // If n is a power of 2, then ld is an integer (_without_ decimals)\r\n        double ld = Math.log(n) / Math.log(2.0);\r\n\r\n        // Here I check if n is a power of 2. If exist decimals in ld, I quit\r\n        // from the function returning null.\r\n        if (((int) ld) - ld != 0) {\r\n            System.out.println(&quot;The number of elements is not a power of 2.&quot;);\r\n            return null;\r\n        }\r\n\r\n        // Declaration and initialization of the variables\r\n        // ld should be an integer, actually, so I don&#39;t lose any information in\r\n        // the cast\r\n        int nu = (int) ld;\r\n        int n2 = n / 2;\r\n        int nu1 = nu - 1;\r\n        double[] xReal = new double[n];\r\n        double[] xImag = new double[n];\r\n        double tReal, tImag, p, arg, c, s;\r\n\r\n        // Here I check if I&#39;m going to do the direct transform or the inverse\r\n        // transform.\r\n        double constant;\r\n        if (DIRECT)\r\n            constant = -2 * Math.PI;\r\n        else\r\n            constant = 2 * Math.PI;\r\n\r\n        // I don&#39;t want to overwrite the input arrays, so here I copy them. This\r\n        // choice adds \\Theta(2n) to the complexity.\r\n        for (int i = 0; i &lt; n; i++) {\r\n            xReal[i] = inputReal[i];\r\n            xImag[i] = inputImag[i];\r\n        }\r\n\r\n        // First phase - calculation\r\n        int k = 0;\r\n        for (int l = 1; l &lt;= nu; l++) {\r\n            while (k &lt; n) {\r\n                for (int i = 1; i &lt;= n2; i++) {\r\n                    p = bitreverseReference(k &gt;&gt; nu1, nu);\r\n                    // direct FFT or inverse FFT\r\n                    arg = constant * p / n;\r\n                    c = Math.cos(arg);\r\n                    s = Math.sin(arg);\r\n                    tReal = xReal[k + n2] * c + xImag[k + n2] * s;\r\n                    tImag = xImag[k + n2] * c - xReal[k + n2] * s;\r\n                    xReal[k + n2] = xReal[k] - tReal;\r\n                    xImag[k + n2] = xImag[k] - tImag;\r\n                    xReal[k] += tReal;\r\n                    xImag[k] += tImag;\r\n                    k++;\r\n                }\r\n                k += n2;\r\n            }\r\n            k = 0;\r\n            nu1--;\r\n            n2 /= 2;\r\n        }\r\n\r\n        // Second phase - recombination\r\n        k = 0;\r\n        int r;\r\n        while (k &lt; n) {\r\n            r = bitreverseReference(k, nu);\r\n            if (r &gt; k) {\r\n                tReal = xReal[k];\r\n                tImag = xImag[k];\r\n                xReal[k] = xReal[r];\r\n                xImag[k] = xImag[r];\r\n                xReal[r] = tReal;\r\n                xImag[r] = tImag;\r\n            }\r\n            k++;\r\n        }\r\n\r\n        // Here I have to mix xReal and xImag to have an array (yes, it should\r\n        // be possible to do this stuff in the earlier parts of the code, but\r\n        // it&#39;s here to readability).\r\n        double[] newArray = new double[xReal.length * 2];\r\n        double radice = 1 / Math.sqrt(n);\r\n        for (int i = 0; i &lt; newArray.length; i += 2) {\r\n            int i2 = i / 2;\r\n            // I used Stephen Wolfram&#39;s Mathematica as a reference so I&#39;m going\r\n            // to normalize the output while I&#39;m copying the elements.\r\n            newArray[i] = xReal[i2] * radice;\r\n            newArray[i + 1] = xImag[i2] * radice;\r\n        }\r\n        return newArray;\r\n    }\r\n\r\n    /**\r\n     * The reference bit reverse function.\r\n     */\r\n    private static int bitreverseReference(int j, int nu) {\r\n        int j2;\r\n        int j1 = j;\r\n        int k = 0;\r\n        for (int i = 1; i &lt;= nu; i++) {\r\n            j2 = j1 / 2;\r\n            k = 2 * k + j1 - 2 * j2;\r\n            j1 = j2;\r\n        }\r\n        return k;\r\n      }\r\n    }\r\n\r\n\r\n\r\nEDIT: 5th of May, 2022. Well... after more than 10 years I&#39;m publishing the code on GitHub to avoid losing it: [https://github.com/hedoluna/fft][1]\r\nFeel free to contribute and send me your opinions :) Thanks! \r\n\r\n\r\n  [1]: https://github.com/hedoluna/fft","title":"Reliable and fast FFT in Java","body":"<p>I wrote a function for the FFT in Java.</p>\n<p>I've released it in the Public Domain so you can use those functions everywhere (for personal or business projects too). Just cite me in the credits and send me a link to your work, and you're okay.</p>\n<p>It is completely reliable. I've checked its output against Mathematica's FFT and they were always correct until the 15th decimal digit. I think it's an excellent FFT implementation for Java. I wrote it on the J2SE 1.6 version and tested it on the J2SE 1.5-1.6 version.</p>\n<p>If you count the number of instructions (it's a lot much simpler than a perfect computational complexity function estimation) you can clearly see that this version is great even if it's not optimized at all. I'm planning to publish the optimized version if there are enough requests.</p>\n<p>Let me know if it was helpful, and tell me any comments you like.</p>\n<p>I share the same code right here:</p>\n<pre><code>/**\n* @author Orlando Selenu\n* Originally written in the Summer of 2008\n* Based on the algorithms originally published by E. Oran Brigham &quot;The Fast Fourier Transform&quot; 1973, in ALGOL60 and FORTRAN\n*/\npublic class FFTbase {\n/**\n * The Fast Fourier Transform (generic version, with NO optimizations).\n *\n * @param inputReal\n *            an array of length n, the real part\n * @param inputImag\n *            an array of length n, the imaginary part\n * @param DIRECT\n *            TRUE = direct transform, FALSE = inverse transform\n * @return a new array of length 2n\n */\npublic static double[] fft(final double[] inputReal, double[] inputImag,\n                           boolean DIRECT) {\n    // - n is the dimension of the problem\n    // - nu is its logarithm in base e\n    int n = inputReal.length;\n\n    // If n is a power of 2, then ld is an integer (_without_ decimals)\n    double ld = Math.log(n) / Math.log(2.0);\n\n    // Here I check if n is a power of 2. If exist decimals in ld, I quit\n    // from the function returning null.\n    if (((int) ld) - ld != 0) {\n        System.out.println(&quot;The number of elements is not a power of 2.&quot;);\n        return null;\n    }\n\n    // Declaration and initialization of the variables\n    // ld should be an integer, actually, so I don't lose any information in\n    // the cast\n    int nu = (int) ld;\n    int n2 = n / 2;\n    int nu1 = nu - 1;\n    double[] xReal = new double[n];\n    double[] xImag = new double[n];\n    double tReal, tImag, p, arg, c, s;\n\n    // Here I check if I'm going to do the direct transform or the inverse\n    // transform.\n    double constant;\n    if (DIRECT)\n        constant = -2 * Math.PI;\n    else\n        constant = 2 * Math.PI;\n\n    // I don't want to overwrite the input arrays, so here I copy them. This\n    // choice adds \\Theta(2n) to the complexity.\n    for (int i = 0; i &lt; n; i++) {\n        xReal[i] = inputReal[i];\n        xImag[i] = inputImag[i];\n    }\n\n    // First phase - calculation\n    int k = 0;\n    for (int l = 1; l &lt;= nu; l++) {\n        while (k &lt; n) {\n            for (int i = 1; i &lt;= n2; i++) {\n                p = bitreverseReference(k &gt;&gt; nu1, nu);\n                // direct FFT or inverse FFT\n                arg = constant * p / n;\n                c = Math.cos(arg);\n                s = Math.sin(arg);\n                tReal = xReal[k + n2] * c + xImag[k + n2] * s;\n                tImag = xImag[k + n2] * c - xReal[k + n2] * s;\n                xReal[k + n2] = xReal[k] - tReal;\n                xImag[k + n2] = xImag[k] - tImag;\n                xReal[k] += tReal;\n                xImag[k] += tImag;\n                k++;\n            }\n            k += n2;\n        }\n        k = 0;\n        nu1--;\n        n2 /= 2;\n    }\n\n    // Second phase - recombination\n    k = 0;\n    int r;\n    while (k &lt; n) {\n        r = bitreverseReference(k, nu);\n        if (r &gt; k) {\n            tReal = xReal[k];\n            tImag = xImag[k];\n            xReal[k] = xReal[r];\n            xImag[k] = xImag[r];\n            xReal[r] = tReal;\n            xImag[r] = tImag;\n        }\n        k++;\n    }\n\n    // Here I have to mix xReal and xImag to have an array (yes, it should\n    // be possible to do this stuff in the earlier parts of the code, but\n    // it's here to readability).\n    double[] newArray = new double[xReal.length * 2];\n    double radice = 1 / Math.sqrt(n);\n    for (int i = 0; i &lt; newArray.length; i += 2) {\n        int i2 = i / 2;\n        // I used Stephen Wolfram's Mathematica as a reference so I'm going\n        // to normalize the output while I'm copying the elements.\n        newArray[i] = xReal[i2] * radice;\n        newArray[i + 1] = xImag[i2] * radice;\n    }\n    return newArray;\n}\n\n/**\n * The reference bit reverse function.\n */\nprivate static int bitreverseReference(int j, int nu) {\n    int j2;\n    int j1 = j;\n    int k = 0;\n    for (int i = 1; i &lt;= nu; i++) {\n        j2 = j1 / 2;\n        k = 2 * k + j1 - 2 * j2;\n        j1 = j2;\n    }\n    return k;\n  }\n}\n</code></pre>\n<p>EDIT: 5th of May, 2022. Well... after more than 10 years I'm publishing the code on GitHub to avoid losing it: <a href=\"https://github.com/hedoluna/fft\" rel=\"nofollow noreferrer\">https://github.com/hedoluna/fft</a>\nFeel free to contribute and send me your opinions :) Thanks!</p>\n"},{"tags":[],"owner":{"account_id":370706,"reputation":2319,"user_id":718822,"accept_rate":100,"display_name":"digiphd"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1332754382,"creation_date":1332754382,"answer_id":9869713,"question_id":3287518,"body_markdown":"I guess it depends on what you are processing. If you are calculating the FFT over a large duration you might find that it does take a while depending on how many frequency points you are wanting. However, in most cases for audio it is considered non-stationary (that is the signals mean and variance changes to much over time), so taking one large FFT ([Periodogram PSD][1] estimate) is not an accurate representation. Alternatively you could use Short-time Fourier transform, whereby you break the signal up into smaller frames and calculate the FFT. The frame size varies depending on how quickly the statistics change, for speech it is usually 20-40ms, for music I assume it is slightly higher.\r\n\r\nThis method is good if you are sampling from the microphone, because it allows you to buffer each frame at a time, calculate the fft and give what the user feels is &quot;real time&quot; interaction. Because 20ms is quick, because we can&#39;t really perceive a time difference that small.\r\n\r\nI developed a small bench mark to test the difference between FFTW and KissFFT c-libraries on a speech signal. Yes FFTW is highly optimised, but when you are taking only short-frames, updating the data for the user, and using only a small fft size, they are both very similar. Here is an example on how to implement the [KissFFT libraries in Android][2] using LibGdx by badlogic games. I implemented this library using overlapping frames in an Android App I developed a few months ago called [Speech Enhancement for Android][3].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Periodogram\r\n  [2]: http://www.digiphd.com/android-java-simple-fft-libgdx/\r\n  [3]: https://play.google.com/store/apps/details?id=com.enhancement","title":"Reliable and fast FFT in Java","body":"<p>I guess it depends on what you are processing. If you are calculating the FFT over a large duration you might find that it does take a while depending on how many frequency points you are wanting. However, in most cases for audio it is considered non-stationary (that is the signals mean and variance changes to much over time), so taking one large FFT (<a href=\"http://en.wikipedia.org/wiki/Periodogram\" rel=\"noreferrer\">Periodogram PSD</a> estimate) is not an accurate representation. Alternatively you could use Short-time Fourier transform, whereby you break the signal up into smaller frames and calculate the FFT. The frame size varies depending on how quickly the statistics change, for speech it is usually 20-40ms, for music I assume it is slightly higher.</p>\n\n<p>This method is good if you are sampling from the microphone, because it allows you to buffer each frame at a time, calculate the fft and give what the user feels is \"real time\" interaction. Because 20ms is quick, because we can't really perceive a time difference that small.</p>\n\n<p>I developed a small bench mark to test the difference between FFTW and KissFFT c-libraries on a speech signal. Yes FFTW is highly optimised, but when you are taking only short-frames, updating the data for the user, and using only a small fft size, they are both very similar. Here is an example on how to implement the <a href=\"http://www.digiphd.com/android-java-simple-fft-libgdx/\" rel=\"noreferrer\">KissFFT libraries in Android</a> using LibGdx by badlogic games. I implemented this library using overlapping frames in an Android App I developed a few months ago called <a href=\"https://play.google.com/store/apps/details?id=com.enhancement\" rel=\"noreferrer\">Speech Enhancement for Android</a>.</p>\n"}],"owner":{"account_id":133437,"reputation":3626,"user_id":334807,"accept_rate":91,"display_name":"InsertNickHere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115258,"favorite_count":0,"down_vote_count":1,"up_vote_count":57,"closed_date":1386306064,"accepted_answer_id":3287544,"answer_count":5,"score":56,"last_activity_date":1695936483,"creation_date":1279607101,"question_id":3287518,"body_markdown":"since I don&#39;t want to do it on my own, I am searching for a good FFT implementation for java. First I used this one here [FFT Princeton][1] but it uses objects and my profiler told me, that its not really fast due to this fact. So I googled again and found this one: [FFT Columbia][2] which is faster. Maybe one of you guys know another FFT implementation? I&#39;d like to have the &quot;best&quot; one because my app has to process a huge amount of sound data, and users don&#39;t like waiting... ;-)\r\n\r\nRegards.\r\n\r\n\r\n  [1]: http://www.cs.princeton.edu/introcs/97data/FFT.java.html\r\n  [2]: http://www.ee.columbia.edu/~ronw/code/MEAPsoft/doc/html/FFT_8java-source.html","title":"Reliable and fast FFT in Java","body":"<p>since I don't want to do it on my own, I am searching for a good FFT implementation for java. First I used this one here <a href=\"http://www.cs.princeton.edu/introcs/97data/FFT.java.html\" rel=\"noreferrer\">FFT Princeton</a> but it uses objects and my profiler told me, that its not really fast due to this fact. So I googled again and found this one: <a href=\"http://www.ee.columbia.edu/~ronw/code/MEAPsoft/doc/html/FFT_8java-source.html\" rel=\"noreferrer\">FFT Columbia</a> which is faster. Maybe one of you guys know another FFT implementation? I'd like to have the \"best\" one because my app has to process a huge amount of sound data, and users don't like waiting... ;-)</p>\n\n<p>Regards.</p>\n"},{"tags":["java","android","android-studio","ide"],"comments":[{"owner":{"account_id":1001223,"reputation":13904,"user_id":1016033,"display_name":"Alexey Ten"},"score":2,"creation_date":1398146806,"post_id":23211589,"comment_id":35507409,"body_markdown":"I&#39;m quite sure that is BOM (byte order mark). Save your file as &quot;UTF-8 without BOM&quot;","body":"I&#39;m quite sure that is BOM (byte order mark). Save your file as &quot;UTF-8 without BOM&quot;"},{"owner":{"account_id":3172102,"reputation":1665,"user_id":2680776,"accept_rate":50,"display_name":"Bruce"},"score":0,"creation_date":1398147017,"post_id":23211589,"comment_id":35507498,"body_markdown":"seems there is no option &quot;without BOM&quot;","body":"seems there is no option &quot;without BOM&quot;"},{"owner":{"account_id":1001223,"reputation":13904,"user_id":1016033,"display_name":"Alexey Ten"},"score":3,"creation_date":1398147607,"post_id":23211589,"comment_id":35507821,"body_markdown":"Find an editor that could save file without BOM. If your file doesn&#39;t contains characters beyond ASCII you could save it with notepad as ANSI","body":"Find an editor that could save file without BOM. If your file doesn&#39;t contains characters beyond ASCII you could save it with notepad as ANSI"},{"owner":{"account_id":1001223,"reputation":13904,"user_id":1016033,"display_name":"Alexey Ten"},"score":0,"creation_date":1398147632,"post_id":23211589,"comment_id":35507833,"body_markdown":"Looks like a bug of Android Studio http://stackoverflow.com/questions/17151830/android-studio-writing-boms-to-utf-8-file","body":"Looks like a bug of Android Studio <a href=\"http://stackoverflow.com/questions/17151830/android-studio-writing-boms-to-utf-8-file\" title=\"android studio writing boms to utf 8 file\">stackoverflow.com/questions/17151830/&hellip;</a>"},{"owner":{"account_id":3172102,"reputation":1665,"user_id":2680776,"accept_rate":50,"display_name":"Bruce"},"score":2,"creation_date":1398148618,"post_id":23211589,"comment_id":35508323,"body_markdown":"@alexeyten I fix it with Notepad++,appreciate for your advice","body":"@alexeyten I fix it with Notepad++,appreciate for your advice"},{"owner":{"account_id":1798704,"reputation":258,"user_id":1637525,"accept_rate":0,"display_name":"Marka A"},"score":0,"creation_date":1453258949,"post_id":23211589,"comment_id":57519774,"body_markdown":"@Bruce did mine (opening and Saving with encoding then saving with UTF &quot;without&quot; BOM)...  I used Sublime to do it... Thanks....","body":"@Bruce did mine (opening and Saving with encoding then saving with UTF &quot;without&quot; BOM)...  I used Sublime to do it... Thanks...."}],"answers":[{"tags":[],"owner":{"account_id":3944137,"reputation":598,"user_id":3257464,"display_name":"Diamond"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1477746212,"creation_date":1424644288,"answer_id":28664104,"question_id":23211589,"body_markdown":"That&#39;s a problem related to BOM (Byte Order Mark) character. [Byte Order Mark][1]\nBOM is a Unicode character used for defining a text file byte order and comes in the start of the file. Eclipse doesn&#39;t allow this character at the start of your file, so you must delete it. For this purpose, use a rich text editor, such as Notepad++, and save the file with encoding &quot;UTF-8 without BOM.&quot; That should remove the problem.\n\n  [1]: http://en.wikipedia.org/wiki/Byte_order_mark &quot;Byte Order Mark&quot;","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p>That's a problem related to BOM (Byte Order Mark) character. <a href=\"http://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"noreferrer\" title=\"Byte Order Mark\">Byte Order Mark</a>\nBOM is a Unicode character used for defining a text file byte order and comes in the start of the file. Eclipse doesn't allow this character at the start of your file, so you must delete it. For this purpose, use a rich text editor, such as Notepad++, and save the file with encoding &quot;UTF-8 without BOM.&quot; That should remove the problem.</p>\n"},{"tags":[],"owner":{"account_id":1372927,"reputation":1662,"user_id":1307507,"display_name":"Marcelo Amorim"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1431458936,"creation_date":1431458936,"answer_id":30199828,"question_id":23211589,"body_markdown":"![Android studio file encoding][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/8fQlR.png\r\n\r\nOn lower-right corner, you can set the file encoding. Select another option than UTF-8\r\n\r\nIf a popup appear, choose the option `Convert`.","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p><img src=\"https://i.stack.imgur.com/8fQlR.png\" alt=\"Android studio file encoding\"></p>\n\n<p>On lower-right corner, you can set the file encoding. Select another option than UTF-8</p>\n\n<p>If a popup appear, choose the option <code>Convert</code>.</p>\n"},{"tags":[],"owner":{"account_id":4076951,"reputation":1572,"user_id":3348373,"accept_rate":78,"display_name":"Darshn"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1447221930,"creation_date":1447221006,"answer_id":33644948,"question_id":23211589,"body_markdown":"As Marcelo told, I changed file Encoding option to UTF-16. Ran it, But didn&#39;t work. Again changed to UTF-8 and Converted it. It ran successfully. If above solution doesn&#39;t work, try this.","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p>As Marcelo told, I changed file Encoding option to UTF-16. Ran it, But didn't work. Again changed to UTF-8 and Converted it. It ran successfully. If above solution doesn't work, try this.</p>\n"},{"tags":[],"owner":{"account_id":5399896,"reputation":131,"user_id":4300059,"display_name":"Sahil Verma"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1467878668,"creation_date":1467878668,"answer_id":38240423,"question_id":23211589,"body_markdown":"**I was facing this error in intelliJ-2016.1.2.**\r\n\r\nThank you @Darsh for your help, \r\nI did same thing, first changed to UTF-16 (i.e convert into UTF-16) and compiled the code. it didn&#39;t work, then again changed back to the UTF-8, this time it worked fine.\r\n\r\nThank you.","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p><strong>I was facing this error in intelliJ-2016.1.2.</strong></p>\n\n<p>Thank you @Darsh for your help, \nI did same thing, first changed to UTF-16 (i.e convert into UTF-16) and compiled the code. it didn't work, then again changed back to the UTF-8, this time it worked fine.</p>\n\n<p>Thank you.</p>\n"},{"tags":[],"owner":{"account_id":6374619,"reputation":3321,"user_id":4946013,"display_name":"Kai Wang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477683230,"creation_date":1477683230,"answer_id":40312066,"question_id":23211589,"body_markdown":"Above are great solutions. However, if none of them works, try this one:\r\n\r\nOpen the file in Notepad++;\r\nCopy everything;\r\nCreate a new file with the same name;\r\nPaste everything;\r\nSave it.\r\n\r\nNow it is gone.","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p>Above are great solutions. However, if none of them works, try this one:</p>\n\n<p>Open the file in Notepad++;\nCopy everything;\nCreate a new file with the same name;\nPaste everything;\nSave it.</p>\n\n<p>Now it is gone.</p>\n"},{"tags":[],"owner":{"account_id":8921106,"reputation":387,"user_id":6657630,"display_name":"mmmartinnn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481735752,"creation_date":1481734971,"answer_id":41148203,"question_id":23211589,"body_markdown":"I tried several of the other answers here with no joy. \r\n\r\nIn the end I simply deleted the offending line and rewrote it directly into `Android Studio`. The error disappeared.\r\n\r\nWas this caused by me copying and pasting the line of code from youtube (or whatever random blog I was looking at at the time)?","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p>I tried several of the other answers here with no joy. </p>\n\n<p>In the end I simply deleted the offending line and rewrote it directly into <code>Android Studio</code>. The error disappeared.</p>\n\n<p>Was this caused by me copying and pasting the line of code from youtube (or whatever random blog I was looking at at the time)?</p>\n"},{"tags":[],"owner":{"account_id":8031490,"reputation":6658,"user_id":6056282,"display_name":"Muhammad Laraib Khan"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1487156562,"creation_date":1487156562,"answer_id":42247524,"question_id":23211589,"body_markdown":"[![enter image description here][1]][1]At bottom right of the project change file encoding UTF-8 to UTF-16.\r\n\r\n1. A new dialog will get open. Select convert it and run it.\r\n2. It will give you some errors then again change UTF-16 to UTF-8.\r\n3. Convert it and run the project. This time your project will run successfully. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hptEQ.png","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p><a href=\"https://i.stack.imgur.com/hptEQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hptEQ.png\" alt=\"enter image description here\"></a>At bottom right of the project change file encoding UTF-8 to UTF-16.</p>\n\n<ol>\n<li>A new dialog will get open. Select convert it and run it.</li>\n<li>It will give you some errors then again change UTF-16 to UTF-8.</li>\n<li>Convert it and run the project. This time your project will run successfully. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9913700,"reputation":1331,"user_id":7339411,"accept_rate":70,"display_name":"Curio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517259545,"creation_date":1496865642,"answer_id":44421778,"question_id":23211589,"body_markdown":"Close android studio and reopen it. It works for me. Furthermore this could happen if you are copying a comment from youtube for example and pasting it into your project","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p>Close android studio and reopen it. It works for me. Furthermore this could happen if you are copying a comment from youtube for example and pasting it into your project</p>\n"},{"tags":[],"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509277918,"creation_date":1507793194,"answer_id":46703815,"question_id":23211589,"body_markdown":"You can try to this method:\r\n  \r\n\r\n&gt;  1. Rename the class like class1.java\r\n&gt;  2. Create a new class some renamed class like class.java\r\n&gt;  3. Select all contain renamed file and copy into the new class.\r\n\r\nThis method work for me.\r\n\r\n\r\n  ","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p>You can try to this method:</p>\n\n<blockquote>\n  <ol>\n  <li>Rename the class like class1.java</li>\n  <li>Create a new class some renamed class like class.java</li>\n  <li>Select all contain renamed file and copy into the new class.</li>\n  </ol>\n</blockquote>\n\n<p>This method work for me.</p>\n"},{"tags":[],"owner":{"account_id":13309323,"reputation":31,"user_id":9608126,"display_name":"Bonnie Milian"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1523026175,"creation_date":1523026175,"answer_id":49695459,"question_id":23211589,"body_markdown":"I try using sublime, open the file then &quot;Save with Encoding&quot; there choose UTF-8 (without BOM), and it works :)","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p>I try using sublime, open the file then \"Save with Encoding\" there choose UTF-8 (without BOM), and it works :)</p>\n"},{"tags":[],"owner":{"account_id":10843018,"reputation":491,"user_id":7973606,"display_name":"Ali Yazdanifar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658231911,"creation_date":1536652963,"answer_id":52271355,"question_id":23211589,"body_markdown":"i solved this problem with this method : \r\n\r\n 1. ctrl + A in my activity and copy all codes\r\n 2. delete YourClass.java\r\n 3. create YourClass.java\r\n 4. paste all code in new java class\r\n\r\nThis method worked for me. tnx","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p>i solved this problem with this method :</p>\n<ol>\n<li>ctrl + A in my activity and copy all codes</li>\n<li>delete YourClass.java</li>\n<li>create YourClass.java</li>\n<li>paste all code in new java class</li>\n</ol>\n<p>This method worked for me. tnx</p>\n"},{"tags":[],"owner":{"display_name":"user10022915"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551683928,"creation_date":1551683928,"answer_id":54978330,"question_id":23211589,"body_markdown":"Simply go in notepad plus plus and open your file and in encoding option at the top bar just select utf8","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p>Simply go in notepad plus plus and open your file and in encoding option at the top bar just select utf8</p>\n"},{"tags":[],"owner":{"account_id":8294461,"reputation":1,"user_id":6235091,"display_name":"Stefano Mader"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567700324,"creation_date":1567700324,"answer_id":57809483,"question_id":23211589,"body_markdown":"Just delete the first line of the xml-file and retype it by hand (copy paste would reinsert the hidden BOM). ","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p>Just delete the first line of the xml-file and retype it by hand (copy paste would reinsert the hidden BOM). </p>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587102653,"creation_date":1569395529,"answer_id":58092951,"question_id":23211589,"body_markdown":"**OPEN LOOPView.java File First**\r\n\r\n**Convert Your UTF8 To  ISO 8859-1  TO Solve your problem In andorid Studio** \r\n\r\n\r\n**If UTf-8 not show in android studio bottom bar then ctl+shift+n open LoopView Class then so Bottom Bar** \r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kSMr1.png\r\n  [2]: https://i.stack.imgur.com/alLhw.png\r\n\r\n\r\n**Note** ISO-8859-1 Use this\r\n\r\n**If** your error not resolved then Invalidate cache and Restart again and \r\n\r\ngradlew clean\r\nnpm start -- --reset-cache\r\nreact-native run-android\r\nreact-native run-ios\r\n\r\n\r\nSolve Your issue permenantly\r\n\r\n\r\n**One Other Thing if issue still persist then com.wheel file copy into notepad++ and again copy and paste in your project**\r\n\r\n\r\n     android {  \r\n       compileOptions.encoding = &#39;ISO-8859-1&#39;\r\n     }\r\n\r\n**In React-native change in index.js / android/index.js** \r\n\r\n\r\nimport PropTypes from &#39;prop-types&#39;;","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p><strong>OPEN LOOPView.java File First</strong></p>\n\n<p><strong>Convert Your UTF8 To  ISO 8859-1  TO Solve your problem In andorid Studio</strong> </p>\n\n<p><strong>If UTf-8 not show in android studio bottom bar then ctl+shift+n open LoopView Class then so Bottom Bar</strong> </p>\n\n<p><a href=\"https://i.stack.imgur.com/kSMr1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kSMr1.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/alLhw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/alLhw.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Note</strong> ISO-8859-1 Use this</p>\n\n<p><strong>If</strong> your error not resolved then Invalidate cache and Restart again and </p>\n\n<p>gradlew clean\nnpm start -- --reset-cache\nreact-native run-android\nreact-native run-ios</p>\n\n<p>Solve Your issue permenantly</p>\n\n<p><strong>One Other Thing if issue still persist then com.wheel file copy into notepad++ and again copy and paste in your project</strong></p>\n\n<pre><code> android {  \n   compileOptions.encoding = 'ISO-8859-1'\n }\n</code></pre>\n\n<p><strong>In React-native change in index.js / android/index.js</strong> </p>\n\n<p>import PropTypes from 'prop-types';</p>\n"},{"tags":[],"owner":{"account_id":15484130,"reputation":11,"user_id":11170604,"display_name":"Sol Sadek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583639677,"creation_date":1583639677,"answer_id":60584328,"question_id":23211589,"body_markdown":"The ideas in here certainly helped me but the outcome was a little different.\r\n\r\nI did convert my file encoding from UTF-8 to UTF-16. I was then presented with a different error. When i converted it back to UTF-8, I noted that there was a string of unrecognizable characters before my code line. I removed them and recompiled and it worked well.\r\n\r\nMy conclusion is somehow an unrecognizable character snuck into my code. Could be programmer error, or a blind copy/paste from the web that placed a nasty hidden character. Carrying the process above as outlined by our peers here somehow allowed me to see it.\r\n\r\nIf you&#39;ll follow this idea above, please make sure to clean/rebuild between each conversion.","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p>The ideas in here certainly helped me but the outcome was a little different.</p>\n\n<p>I did convert my file encoding from UTF-8 to UTF-16. I was then presented with a different error. When i converted it back to UTF-8, I noted that there was a string of unrecognizable characters before my code line. I removed them and recompiled and it worked well.</p>\n\n<p>My conclusion is somehow an unrecognizable character snuck into my code. Could be programmer error, or a blind copy/paste from the web that placed a nasty hidden character. Carrying the process above as outlined by our peers here somehow allowed me to see it.</p>\n\n<p>If you'll follow this idea above, please make sure to clean/rebuild between each conversion.</p>\n"},{"tags":[],"owner":{"account_id":7204525,"reputation":89,"user_id":5500615,"display_name":"DotCFile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695936480,"creation_date":1695936480,"answer_id":77198374,"question_id":23211589,"body_markdown":"2 CLICK SOLUTION\r\n----------------\r\n\r\nIn the bottom right corner of Android Studio:\r\n\r\n1 Click on UTF-8\r\n\r\n2 Click on Remove BOM\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI guess that this is a new option in Android Studio because none of the other answers mentioned it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jSNCD.jpg","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<h2>2 CLICK SOLUTION</h2>\n<p>In the bottom right corner of Android Studio:</p>\n<p>1 Click on UTF-8</p>\n<p>2 Click on Remove BOM</p>\n<p><a href=\"https://i.stack.imgur.com/jSNCD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jSNCD.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I guess that this is a new option in Android Studio because none of the other answers mentioned it.</p>\n"}],"owner":{"account_id":3172102,"reputation":1665,"user_id":2680776,"accept_rate":50,"display_name":"Bruce"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65224,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":16,"score":43,"last_activity_date":1695936480,"creation_date":1398146625,"question_id":23211589,"body_markdown":"I got an Eclipse project source code(I was told that on Android Studio, maybe they just confused), and I start to migrating the code to android studio refers to \r\n&gt; http://developer.android.com/sdk/installing/migrate.html \r\n\r\nBut it doesn&#39;t work.\r\nso I import the project from path directly and it transfers to the android-studio project automatically, but still, something wrong when I am compiling.\r\n\r\n&gt; Error:(1, 1) error: illegalcharacter: &#39;\\ufeff&#39;\r\n\r\nthe error position refers to \r\n\r\n&gt; package com.bla.blabla;\r\n\r\nPlease help me, thanks","title":"Error(1,1)illegalcharacter &#39;\\ufeff&#39; when compiling on android studio","body":"<p>I got an Eclipse project source code(I was told that on Android Studio, maybe they just confused), and I start to migrating the code to android studio refers to </p>\n\n<blockquote>\n  <p><a href=\"http://developer.android.com/sdk/installing/migrate.html\" rel=\"noreferrer\">http://developer.android.com/sdk/installing/migrate.html</a> </p>\n</blockquote>\n\n<p>But it doesn't work.\nso I import the project from path directly and it transfers to the android-studio project automatically, but still, something wrong when I am compiling.</p>\n\n<blockquote>\n  <p>Error:(1, 1) error: illegalcharacter: '\\ufeff'</p>\n</blockquote>\n\n<p>the error position refers to </p>\n\n<blockquote>\n  <p>package com.bla.blabla;</p>\n</blockquote>\n\n<p>Please help me, thanks</p>\n"},{"tags":["java","algorithm","time-complexity"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1695855646,"post_id":77191262,"comment_id":136081360,"body_markdown":"Note that if you wrote working code (that you came up with, not just copy-pasted), and you want help improving performance, this is [not the right place to ask](/help/on-topic). Instead, that&#39;s what the [codereview.se] site is for (but remember to, of course, read _their_ rules on what&#39;s on topic and how to ask for help before posting too)","body":"Note that if you wrote working code (that you came up with, not just copy-pasted), and you want help improving performance, this is <a href=\"/help/on-topic\">not the right place to ask</a>. Instead, that&#39;s what the <a href=\"https://codereview.stackexchange.com\">Code Review</a> site is for (but remember to, of course, read <i>their</i> rules on what&#39;s on topic and how to ask for help before posting too)"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1695857275,"post_id":77191262,"comment_id":136081505,"body_markdown":"As long as they follow the code review rules, and explain what they already tried to improve performance, it&#39;s a perfectly fine code review question. Naturally, if it&#39;s phrased as &quot;do my work for me&quot; then that&#39;s off topic on any stackexchange site.","body":"As long as they follow the code review rules, and explain what they already tried to improve performance, it&#39;s a perfectly fine code review question. Naturally, if it&#39;s phrased as &quot;do my work for me&quot; then that&#39;s off topic on any stackexchange site."},{"owner":{"account_id":17476274,"reputation":25007,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1695901035,"post_id":77191262,"comment_id":136087154,"body_markdown":"Is this online for testing somewhere?","body":"Is this online for testing somewhere?"},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1695903794,"post_id":77191262,"comment_id":136087712,"body_markdown":"@KellyBundy, Its not available","body":"@KellyBundy, Its not available"},{"owner":{"account_id":17476274,"reputation":25007,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1695932214,"post_id":77191262,"comment_id":136093261,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans Where does that page say that this is not the right place?","body":"@Mike&#39;Pomax&#39;Kamermans Where does that page say that this is not the right place?"},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1695936455,"post_id":77191262,"comment_id":136093894,"body_markdown":"@KellyBundy, @ k314159,  I have updated the title and index positions now","body":"@KellyBundy, @ k314159,  I have updated the title and index positions now"}],"answers":[{"tags":[],"owner":{"account_id":17476274,"reputation":25007,"user_id":12671057,"display_name":"Kelly Bundy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695932053,"creation_date":1695930159,"answer_id":77197827,"question_id":77191262,"body_markdown":"O(n) solution: Proceed just once from left to right. Remember the index of each value. If you come across a duplicate, immediately &quot;delete&quot; it at the first index (actually just mark it for deletion at the end) and halve the current value. The halving might make it a duplicate of another value, so do this in a while-loop.\r\n\r\nPython code since I don&#39;t like Java:\r\n\r\n```python\r\ndef solve(arr):\r\n    index = {}\r\n    for i in range(len(arr)):\r\n        while arr[i] in index:\r\n            if arr[i] == 0:\r\n                return [a for a in arr if a is not None]\r\n            arr[index.pop(arr[i])] = None\r\n            arr[i] //= 2\r\n        index[arr[i]] = i\r\n    return [a for a in arr if a is not None]\r\n\r\nprint(solve([2,1,5,10,10,1]))\r\n```\r\n\r\n[Attempt This Online!](https://ato.pxeger.com/run?1=jVJLTsMwEJVY5hSzTKTQBlaokq_Ail0UVSaZUKuOHTkOLUKchE03cCiWnAR_k5SyYDd-783ved4_-xe9k-J0-hh1e333dfXNul4qDYqKRnZJ0mALg-TPuB24PKRUqWyTABx2jCM8qBHtC4CJBo9A4PXNPVupgOVADQ4oxg4V1Tglu4TWsy4xgg4WUgOdEQCFelQCTPYEmrhkFazXBG4nsEHuCVuypFU1MY8K6T42DqwZljkI-YCx3aLVvPli7r_WtFsYt54w5SicNpun9z6FcS_XjU54nhAozrnFTCV17ZxpRh8MHJxd91JgdZY4-bDqZZ_6-pnd2Uovlb-tDCY5anbq35Mklt_OxtwUzhIrJuGyVvVOshqHNCqKIsthT1xgtHjssdZGfn585aayrMJh5BO7IHrFhE4jTUKZHOzX-DjL_KmHi4-X_wM) with testing.","title":"Array reduction while duplicates are present","body":"<p>O(n) solution: Proceed just once from left to right. Remember the index of each value. If you come across a duplicate, immediately &quot;delete&quot; it at the first index (actually just mark it for deletion at the end) and halve the current value. The halving might make it a duplicate of another value, so do this in a while-loop.</p>\n<p>Python code since I don't like Java:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def solve(arr):\n    index = {}\n    for i in range(len(arr)):\n        while arr[i] in index:\n            if arr[i] == 0:\n                return [a for a in arr if a is not None]\n            arr[index.pop(arr[i])] = None\n            arr[i] //= 2\n        index[arr[i]] = i\n    return [a for a in arr if a is not None]\n\nprint(solve([2,1,5,10,10,1]))\n</code></pre>\n<p><a href=\"https://ato.pxeger.com/run?1=jVJLTsMwEJVY5hSzTKTQBlaokq_Ail0UVSaZUKuOHTkOLUKchE03cCiWnAR_k5SyYDd-783ved4_-xe9k-J0-hh1e333dfXNul4qDYqKRnZJ0mALg-TPuB24PKRUqWyTABx2jCM8qBHtC4CJBo9A4PXNPVupgOVADQ4oxg4V1Tglu4TWsy4xgg4WUgOdEQCFelQCTPYEmrhkFazXBG4nsEHuCVuypFU1MY8K6T42DqwZljkI-YCx3aLVvPli7r_WtFsYt54w5SicNpun9z6FcS_XjU54nhAozrnFTCV17ZxpRh8MHJxd91JgdZY4-bDqZZ_6-pnd2Uovlb-tDCY5anbq35Mklt_OxtwUzhIrJuGyVvVOshqHNCqKIsthT1xgtHjssdZGfn585aayrMJh5BO7IHrFhE4jTUKZHOzX-DjL_KmHi4-X_wM\" rel=\"nofollow noreferrer\">Attempt This Online!</a> with testing.</p>\n"}],"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77197827,"answer_count":1,"score":0,"last_activity_date":1695936387,"creation_date":1695854420,"question_id":77191262,"body_markdown":"I have an array of numbers:\r\n\r\n    [2,1,5,10,10,1]\r\n\r\na) Find elements that are repeated at least 2 times\r\n\r\nHere we have index 3 and 4 with values 10 (if more than 2 occurrences are there then we need to select the positions that occur first)\r\n\r\nb) remove the first item, that is remove 10 at index 3. \r\n\r\nNext, divide the next item by 2 and update the array. so the item at index 4 with value 10 becomes 10/2 = 5\r\n\r\nSo array becomes `[2,1,5,5,1]`\r\n\r\nc) Repeat the above steps. Break the steps if the repeated item has the value 0 or if there is no repeated element in the array.\r\n\r\nSo in the next step array becomes:\r\n [2,1,2,1] -&gt; Because we have 5,5, remove 1st 5, and update the second 5 by dividing by 2 and taking the floor value\r\n [1,1,1] -&gt; because we have 2,2 in the above step\r\n [0,1] -&gt; because we have 1,1 in the above step\r\n\r\nFinally, the answer is [0,1]\r\n\r\nconstraints:\r\nsize of the array is 1 to 10^5\r\nitems in the array are 1 to 10^9\r\n\r\nHere is my code:-\r\n\r\n    public static void main(String[] args) {\r\n    \t\tSystem.out.println(solve(Arrays.asList(2,1,5,10,10,1)));//[0,1]\r\n    \t}\r\n\r\n\t\r\n    public static List&lt;Integer&gt; solve(List&lt;Integer&gt; arr) {\r\n    \tList&lt;Integer&gt; result = new ArrayList&lt;&gt;(arr);\r\n    \twhile(true) {\r\n    \t\tMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n    \t\tMap&lt;Integer, List&lt;Integer&gt;&gt; m1 = new HashMap&lt;&gt;();\r\n    \r\n    \t\tint repeated = 0, idx1 = -1, idx2 = -1;\r\n    \t\tfor(int i=0; i&lt;result.size(); i++) {\r\n    \t\t\tint e = result.get(i);\r\n    \t\t\tint count = map.getOrDefault(e, 0)+1;\r\n    \t\t\tmap.put(e, count);\r\n    \t\t\tList&lt;Integer&gt; list = m1.getOrDefault(e, new ArrayList&lt;&gt;());\r\n    \t\t\tlist.add(i);\r\n    \t\t\tm1.put(e, list);\r\n    \t\t\tif(count &gt;1 ) {\r\n    \t\t\t\tif(e &gt; repeated) {\r\n    \t\t\t\t\trepeated = e;\r\n    \t\t\t\t\tList&lt;Integer&gt; inn = m1.get(e);\r\n    \t\t\t\t\tidx1 = inn.get(0);\r\n    \t\t\t\t\tidx2 = inn.get(1);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif(repeated == 0) {\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\tresult.set(idx2, repeated/2);\r\n    \t\tresult.remove(idx1);\r\n    \t}\t\r\n    \treturn result;\r\n    }\r\n\r\nThis code fails with time-out errors whenever the input array size is 10^5. AS the time complexity of my code is O(n^2), how to solve this in less time complexity","title":"Array reduction while duplicates are present","body":"<p>I have an array of numbers:</p>\n<pre><code>[2,1,5,10,10,1]\n</code></pre>\n<p>a) Find elements that are repeated at least 2 times</p>\n<p>Here we have index 3 and 4 with values 10 (if more than 2 occurrences are there then we need to select the positions that occur first)</p>\n<p>b) remove the first item, that is remove 10 at index 3.</p>\n<p>Next, divide the next item by 2 and update the array. so the item at index 4 with value 10 becomes 10/2 = 5</p>\n<p>So array becomes <code>[2,1,5,5,1]</code></p>\n<p>c) Repeat the above steps. Break the steps if the repeated item has the value 0 or if there is no repeated element in the array.</p>\n<p>So in the next step array becomes:\n[2,1,2,1] -&gt; Because we have 5,5, remove 1st 5, and update the second 5 by dividing by 2 and taking the floor value\n[1,1,1] -&gt; because we have 2,2 in the above step\n[0,1] -&gt; because we have 1,1 in the above step</p>\n<p>Finally, the answer is [0,1]</p>\n<p>constraints:\nsize of the array is 1 to 10^5\nitems in the array are 1 to 10^9</p>\n<p>Here is my code:-</p>\n<pre><code>public static void main(String[] args) {\n        System.out.println(solve(Arrays.asList(2,1,5,10,10,1)));//[0,1]\n    }\n\n\npublic static List&lt;Integer&gt; solve(List&lt;Integer&gt; arr) {\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;(arr);\n    while(true) {\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n        Map&lt;Integer, List&lt;Integer&gt;&gt; m1 = new HashMap&lt;&gt;();\n\n        int repeated = 0, idx1 = -1, idx2 = -1;\n        for(int i=0; i&lt;result.size(); i++) {\n            int e = result.get(i);\n            int count = map.getOrDefault(e, 0)+1;\n            map.put(e, count);\n            List&lt;Integer&gt; list = m1.getOrDefault(e, new ArrayList&lt;&gt;());\n            list.add(i);\n            m1.put(e, list);\n            if(count &gt;1 ) {\n                if(e &gt; repeated) {\n                    repeated = e;\n                    List&lt;Integer&gt; inn = m1.get(e);\n                    idx1 = inn.get(0);\n                    idx2 = inn.get(1);\n                    break;\n                }\n            }\n        }\n        if(repeated == 0) {\n            break;\n        }\n        result.set(idx2, repeated/2);\n        result.remove(idx1);\n    }   \n    return result;\n}\n</code></pre>\n<p>This code fails with time-out errors whenever the input array size is 10^5. AS the time complexity of my code is O(n^2), how to solve this in less time complexity</p>\n"},{"tags":["python","java","shell","git-bash","python-os"],"comments":[{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1695935691,"post_id":77198302,"comment_id":136093785,"body_markdown":"BTW, `bash -c ./bash_script` is needlessly starting _two separate_ copies of bash. It&#39;d be much more sensible to just run `./bash_script`","body":"BTW, <code>bash -c .&#47;bash_script</code> is needlessly starting <i>two separate</i> copies of bash. It&#39;d be much more sensible to just run <code>.&#47;bash_script</code>"},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1695935779,"post_id":77198302,"comment_id":136093798,"body_markdown":"And `$*` is buggy. **Always** use `&quot;$@&quot;` _with the quotes_ to pass your argument list through to a child process; otherwise entries in that list get split on spaces and glob-expanded.","body":"And <code>$*</code> is buggy. <b>Always</b> use <code>&quot;$@&quot;</code> <i>with the quotes</i> to pass your argument list through to a child process; otherwise entries in that list get split on spaces and glob-expanded."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1695935852,"post_id":77198302,"comment_id":136093808,"body_markdown":"Also, think about taking out the `if [ ! -e &quot;bin&quot; ]` and just using `mkdir -p bin || exit` unconditionally -- that way you _always_ try to create a `bin` directory if it doesn&#39;t exist, and if you fail abort the script.","body":"Also, think about taking out the <code>if [ ! -e &quot;bin&quot; ]</code> and just using <code>mkdir -p bin || exit</code> unconditionally -- that way you <i>always</i> try to create a <code>bin</code> directory if it doesn&#39;t exist, and if you fail abort the script."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1695935875,"post_id":77198302,"comment_id":136093812,"body_markdown":"And `PATH` should contain the **directory** that `java.exe` is in, not the path of the java.exe file itself.","body":"And <code>PATH</code> should contain the <b>directory</b> that <code>java.exe</code> is in, not the path of the java.exe file itself."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1695935956,"post_id":77198302,"comment_id":136093820,"body_markdown":"Beyond that -- I&#39;d suggest having your run script check whether `edu/dar/algo/Experiment.class` exists and abort with an explicit error message otherwise.","body":"Beyond that -- I&#39;d suggest having your run script check whether <code>edu&#47;dar&#47;algo&#47;Experiment.class</code> exists and abort with an explicit error message otherwise."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1695935985,"post_id":77198302,"comment_id":136093826,"body_markdown":"Oh, one last thing -- as https://shellcheck.net/ advises, **always** make `cd` operations exit on failure; if you use `cd src || exit`, then you don&#39;t risk running later commands in the wrong directory if `cd` fails.","body":"Oh, one last thing -- as <a href=\"https://shellcheck.net/\" rel=\"nofollow noreferrer\">shellcheck.net</a> advises, <b>always</b> make <code>cd</code> operations exit on failure; if you use <code>cd src || exit</code>, then you don&#39;t risk running later commands in the wrong directory if <code>cd</code> fails."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1695936019,"post_id":77198302,"comment_id":136093829,"body_markdown":"And there&#39;s no reason to `cd ..` at the end of a script: the current working directory is local to the script interpreter and lost when it exits; this isn&#39;t Windows command shell where scripts are run by the interactive interpreter that called them (and thus where `cd` operations can be propagated up) unless you explicitly use `source` or the dot operator to force that behavior.","body":"And there&#39;s no reason to <code>cd ..</code> at the end of a script: the current working directory is local to the script interpreter and lost when it exits; this isn&#39;t Windows command shell where scripts are run by the interactive interpreter that called them (and thus where <code>cd</code> operations can be propagated up) unless you explicitly use <code>source</code> or the dot operator to force that behavior."},{"owner":{"account_id":17565547,"reputation":11,"user_id":12742487,"display_name":"Gaurav"},"score":0,"creation_date":1695936210,"post_id":77198302,"comment_id":136093859,"body_markdown":"Hey Charles, I&#39;m using a Windows system, windows command prompt is the default shell, thus I need to explicitly state the type of shell.","body":"Hey Charles, I&#39;m using a Windows system, windows command prompt is the default shell, thus I need to explicitly state the type of shell."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1695944025,"post_id":77198302,"comment_id":136094662,"body_markdown":"It would just be `[&quot;bash&quot;, &quot;yourscript&quot;]` without the `&quot;-c&quot;` if you&#39;re trying to state which shell you want to use to run the script -- and that way you&#39;d only be running _one_ shell, not two. (It&#39;s bad practice, but... as you say, doing awful things can be hard to avoid on Windows). The `-c` is better if you want the shebang to be honored so Python can be wrong about which interpreter is the correct one to run your script with, but you&#39;re paying a significant startup-time penalty for that indirection.","body":"It would just be <code>[&quot;bash&quot;, &quot;yourscript&quot;]</code> without the <code>&quot;-c&quot;</code> if you&#39;re trying to state which shell you want to use to run the script -- and that way you&#39;d only be running <i>one</i> shell, not two. (It&#39;s bad practice, but... as you say, doing awful things can be hard to avoid on Windows). The <code>-c</code> is better if you want the shebang to be honored so Python can be wrong about which interpreter is the correct one to run your script with, but you&#39;re paying a significant startup-time penalty for that indirection."},{"owner":{"account_id":1486097,"reputation":11154,"user_id":1394353,"accept_rate":71,"display_name":"JL Peyret"},"score":0,"creation_date":1695966888,"post_id":77198302,"comment_id":136096258,"body_markdown":"iirc java is notoriously dependent on env variables.  Starting w javahome. the combination of python - bash - java looks like an experiment in fragility.  Python - java, or bash - java seems more reasonable.  Or else aggressive dumps of perceived envs at each stage, possibly w dummy Java test prog.  PATH settings in this post do not inspire confidence.","body":"iirc java is notoriously dependent on env variables.  Starting w javahome. the combination of python - bash - java looks like an experiment in fragility.  Python - java, or bash - java seems more reasonable.  Or else aggressive dumps of perceived envs at each stage, possibly w dummy Java test prog.  PATH settings in this post do not inspire confidence."},{"owner":{"account_id":17565547,"reputation":11,"user_id":12742487,"display_name":"Gaurav"},"score":0,"creation_date":1696014526,"post_id":77198302,"comment_id":136104702,"body_markdown":"Thanks @CharlesDuffy ! Your suggestions on improving the shell code helped a lot! The actual reason was the presence of semi-colons as separator in the **run** file instead of the colon.","body":"Thanks @CharlesDuffy ! Your suggestions on improving the shell code helped a lot! The actual reason was the presence of semi-colons as separator in the <b>run</b> file instead of the colon."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1696014699,"post_id":77198302,"comment_id":136104728,"body_markdown":"Heh -- I had a comment about that, but deleted it as it looked to me like you were using colons when you detected yourself as on a Linuxy OS.","body":"Heh -- I had a comment about that, but deleted it as it looked to me like you were using colons when you detected yourself as on a Linuxy OS."}],"owner":{"account_id":17565547,"reputation":11,"user_id":12742487,"display_name":"Gaurav"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695935638,"creation_date":1695935389,"question_id":77198302,"body_markdown":"I have java code corresponding to a policy mining algorithm in a repository and have to execute this using commands on the git bash terminal (Using a Windows PC). I have generated test data and stored it in a file (named **temp_check**), local to the above mentioned repository. I need help in writing a python program that executes the mining algorithm using the generated input on the git bash terminal on Windows. **While the commands mentioned in the bash_script.sh run successfully when entered manually, they throw an error when called through the python program**.\\\r\n\\\r\nPS:- The java code is publicly available and an implementation of a paper. I just need to use this code as a black box in order to get the corresponding output\r\n\r\nI have pasted below the contents of the files I have written till now and the corresponding error messages I got.\\\r\n\\\r\nPython Script\r\n\r\n```\r\nimport os\r\nimport subprocess\r\n\r\nos.environ[&#39;PATH&#39;] = &#39;C:/Program Files/Java/jdk-15.0.1/bin/java.exe&#39; + os.environ[&#39;PATH&#39;]\r\n\r\nbash_command = &quot;./bash_script.sh&quot;\r\nsubprocess.run([&quot;bash&quot;, &quot;-c&quot;, bash_command])\r\n```\r\n\r\nbash_script.sh\r\n\r\n```\r\n#!/bin/bash\r\n\r\n# Compile\r\n./compile.sh\r\n\r\n# Run using the input file\r\n./run -m ../case-studies/temp_check.abac -verbose &gt;&gt; temp_output.txt\r\n```\r\n\r\ncompile.sh (Already present in the repo)\r\n\r\n```\r\n#!/bin/bash\r\nif [ ! -e &quot;bin&quot; ];\r\nthen\r\n    mkdir bin\r\nfi\r\n\r\ncd src/\r\n\r\nif [ &quot;${OS}&quot; = &quot;Windows_NT&quot; ]; then\r\n# on Microsoft Windows, use semicolon as a separator in classpath.\r\njavac -cp &quot;../lib/commons-math-2.2.jar;../lib/commons-math3-3.3.jar;.&quot; -d ../bin edu/dar/util/*.java\r\njavac -cp &quot;../lib/commons-math-2.2.jar;../lib/commons-math3-3.3.jar;.&quot; -d ../bin edu/dar/algo/*.java\r\nelse\r\n# on other OSs, use colon as a separator in classpath.\r\njavac -cp &quot;../lib/commons-math-2.2.jar:../lib/commons-math3-3.3.jar:.&quot; -d ../bin edu/dar/util/*.java\r\njavac -cp &quot;../lib/commons-math-2.2.jar:../lib/commons-math3-3.3.jar:.&quot; -d ../bin edu/dar/algo/*.java\r\nfi;\r\n```\r\n\r\nrun (Already present in the repo)\r\n\r\n```\r\n#!/bin/bash\r\n\r\ncd bin\r\n\r\njava -cp &quot;../lib/commons-math-2.2.jar;../lib/commons-math3-3.3.jar;.&quot; edu.dar.algo.Experiment $* \r\n\r\ncd ..\r\n```\r\n\r\nThe folder structure is as follows:\r\n\r\n```\r\ncase-studies/\r\n   -- temp_check.abac\r\nlib/\r\n   -- commons-math-2.2.jar\r\n   -- commons-math3-3.3.jar\r\nsrc/\r\nbin/\r\ncompile.sh\r\nrun\r\npython_script.py\r\nbash_script.sh\r\ntemp_output.txt\r\n```\r\n\r\nWhen the python script is run, I get the following error:\r\nError: Could not find or load main class edu.dar.algo.Experiment\r\nCaused by: java.lang.ClassNotFoundException: edu.dar.algo.Experiment\r\n\r\nBut there is no error thrown when commands are entered manually on the gitbash terminal. Thanks in advance.","title":"Running a bash script that includes java commands from a python program","body":"<p>I have java code corresponding to a policy mining algorithm in a repository and have to execute this using commands on the git bash terminal (Using a Windows PC). I have generated test data and stored it in a file (named <strong>temp_check</strong>), local to the above mentioned repository. I need help in writing a python program that executes the mining algorithm using the generated input on the git bash terminal on Windows. <strong>While the commands mentioned in the bash_script.sh run successfully when entered manually, they throw an error when called through the python program</strong>.<br />\n<br />\nPS:- The java code is publicly available and an implementation of a paper. I just need to use this code as a black box in order to get the corresponding output</p>\n<p>I have pasted below the contents of the files I have written till now and the corresponding error messages I got.<br />\n<br />\nPython Script</p>\n<pre><code>import os\nimport subprocess\n\nos.environ['PATH'] = 'C:/Program Files/Java/jdk-15.0.1/bin/java.exe' + os.environ['PATH']\n\nbash_command = &quot;./bash_script.sh&quot;\nsubprocess.run([&quot;bash&quot;, &quot;-c&quot;, bash_command])\n</code></pre>\n<p>bash_script.sh</p>\n<pre><code>#!/bin/bash\n\n# Compile\n./compile.sh\n\n# Run using the input file\n./run -m ../case-studies/temp_check.abac -verbose &gt;&gt; temp_output.txt\n</code></pre>\n<p>compile.sh (Already present in the repo)</p>\n<pre><code>#!/bin/bash\nif [ ! -e &quot;bin&quot; ];\nthen\n    mkdir bin\nfi\n\ncd src/\n\nif [ &quot;${OS}&quot; = &quot;Windows_NT&quot; ]; then\n# on Microsoft Windows, use semicolon as a separator in classpath.\njavac -cp &quot;../lib/commons-math-2.2.jar;../lib/commons-math3-3.3.jar;.&quot; -d ../bin edu/dar/util/*.java\njavac -cp &quot;../lib/commons-math-2.2.jar;../lib/commons-math3-3.3.jar;.&quot; -d ../bin edu/dar/algo/*.java\nelse\n# on other OSs, use colon as a separator in classpath.\njavac -cp &quot;../lib/commons-math-2.2.jar:../lib/commons-math3-3.3.jar:.&quot; -d ../bin edu/dar/util/*.java\njavac -cp &quot;../lib/commons-math-2.2.jar:../lib/commons-math3-3.3.jar:.&quot; -d ../bin edu/dar/algo/*.java\nfi;\n</code></pre>\n<p>run (Already present in the repo)</p>\n<pre><code>#!/bin/bash\n\ncd bin\n\njava -cp &quot;../lib/commons-math-2.2.jar;../lib/commons-math3-3.3.jar;.&quot; edu.dar.algo.Experiment $* \n\ncd ..\n</code></pre>\n<p>The folder structure is as follows:</p>\n<pre><code>case-studies/\n   -- temp_check.abac\nlib/\n   -- commons-math-2.2.jar\n   -- commons-math3-3.3.jar\nsrc/\nbin/\ncompile.sh\nrun\npython_script.py\nbash_script.sh\ntemp_output.txt\n</code></pre>\n<p>When the python script is run, I get the following error:\nError: Could not find or load main class edu.dar.algo.Experiment\nCaused by: java.lang.ClassNotFoundException: edu.dar.algo.Experiment</p>\n<p>But there is no error thrown when commands are entered manually on the gitbash terminal. Thanks in advance.</p>\n"},{"tags":["java","json","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1695905270,"post_id":77194945,"comment_id":136087990,"body_markdown":"_This below is the output I&#39;m getting from my code..._ Please update the question with the code that generates the unexpected output.","body":"<i>This below is the output I&#39;m getting from my code...</i> Please update the question with the code that generates the unexpected output."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1695905445,"post_id":77194945,"comment_id":136088035,"body_markdown":"It looks like `Response.datapoints` should be a `Map&lt;String, Double&gt;` (not a `String`).","body":"It looks like <code>Response.datapoints</code> should be a <code>Map&lt;String, Double&gt;</code> (not a <code>String</code>)."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1695906672,"post_id":77194945,"comment_id":136088330,"body_markdown":"What is the _actual_ JSON you are receiving? Where is the data coming from? What does the Java service/controller code look like? Is this coming from a database?","body":"What is the <i>actual</i> JSON you are receiving? Where is the data coming from? What does the Java service/controller code look like? Is this coming from a database?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1695908312,"post_id":77194945,"comment_id":136088722,"body_markdown":"This is bad `JSON` structure based on the output you want. I haven&#39;t tried this but you best bet is to first parse the datapoints as a String because that&#39;s how it&#39;s structured in the `JSON`. From there, you can use `String` methods to process the individual points. Or use `JSON` to process the String output to the output you are trying to get.","body":"This is bad <code>JSON</code> structure based on the output you want. I haven&#39;t tried this but you best bet is to first parse the datapoints as a String because that&#39;s how it&#39;s structured in the <code>JSON</code>. From there, you can use <code>String</code> methods to process the individual points. Or use <code>JSON</code> to process the String output to the output you are trying to get."}],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695925243,"creation_date":1695904397,"answer_id":77194983,"question_id":77194945,"body_markdown":"&gt; I tried a lot but couldn&#39;t figure out proper solution to remove backslash.\r\n\r\nI think you can remove the backslash in the datapoints field using the `String.replaceAll()` method:\r\n\r\n```\r\npublic class Response {\r\n\r\n    private String id;\r\n    private Arg arg;\r\n    private String datapoints;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Arg getArg() {\r\n        return arg;\r\n    }\r\n\r\n    public void setArg(Arg arg) {\r\n        this.arg = arg;\r\n    }\r\n\r\n    public String getDatapoints() {\r\n        return datapoints;\r\n    }\r\n\r\n    public void setDatapoints(String datapoints) {\r\n        this.datapoints = datapoints.replaceAll(&quot;\\\\\\\\&quot;, &quot;&quot;);\r\n    }\r\n}\r\n```","title":"Getting backslash on JSON","body":"<blockquote>\n<p>I tried a lot but couldn't figure out proper solution to remove backslash.</p>\n</blockquote>\n<p>I think you can remove the backslash in the datapoints field using the <code>String.replaceAll()</code> method:</p>\n<pre><code>public class Response {\n\n    private String id;\n    private Arg arg;\n    private String datapoints;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public Arg getArg() {\n        return arg;\n    }\n\n    public void setArg(Arg arg) {\n        this.arg = arg;\n    }\n\n    public String getDatapoints() {\n        return datapoints;\n    }\n\n    public void setDatapoints(String datapoints) {\n        this.datapoints = datapoints.replaceAll(&quot;\\\\\\\\&quot;, &quot;&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695908079,"creation_date":1695908079,"answer_id":77195438,"question_id":77194945,"body_markdown":"You should have the following structure. I used Jackson to handle deserialization/serialization, and Lombok to handle getters/setters/toString for the POJO fields.\r\n\r\nAs others have mentioned, the type for `datapoints` should be a `Map` of `String` to `Double`.\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Map;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport lombok.Data;\r\n\r\npublic class ParseJson {\r\n    private static final String SAMPLE_JSON_DATA = &quot;[{\\&quot;id\\&quot;:\\&quot;346id71\\&quot;,\\&quot;arg\\&quot;:{\\&quot;test1\\&quot;:\\&quot;pass\\&quot;,\\&quot;task\\&quot;:\\&quot;true\\&quot;,\\&quot;direction\\&quot;:\\&quot;right\\&quot;},\\&quot;datapoints\\&quot;:{\\&quot;1680012000\\&quot;:0.10124447461480172,\\&quot;1680048000\\&quot;:8.398348387776654,\\&quot;1680084000\\&quot;:8.338508371876594,\\&quot;1680120000\\&quot;:8.357523374646366}},{\\&quot;id\\&quot;:\\&quot;346id72\\&quot;,\\&quot;arg\\&quot;:{\\&quot;test1\\&quot;:\\&quot;pass\\&quot;,\\&quot;task\\&quot;:\\&quot;true\\&quot;,\\&quot;direction\\&quot;:\\&quot;left\\&quot;},\\&quot;datapoints\\&quot;:{\\&quot;1680012000\\&quot;:0.123233,\\&quot;1680048000\\&quot;:3.567384,\\&quot;1680084000\\&quot;:4.47653,\\&quot;1680120000\\&quot;:0,\\&quot;1680156000\\&quot;:0}}]&quot;;\r\n\r\n    private static ObjectMapper mapper = new ObjectMapper();\r\n\r\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n        Response[] response = mapper.readValue(SAMPLE_JSON_DATA, Response[].class);\r\n        System.out.println(&quot;\\nOUTPUT :- Object::toString&quot;);\r\n        System.out.println(Arrays.toString(response));\r\n        System.out.println(&quot;\\nOUTPUT :- ObjectMapper::writeValueAsString&quot;);\r\n        System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(response));\r\n    }\r\n\r\n    @Data\r\n    private static class Arg {\r\n        String test1, task, direction;\r\n    }\r\n\r\n    @Data\r\n    private static class Response {\r\n        private String id;\r\n        private Arg arg;\r\n        private Map&lt;String, Double&gt; datapoints;\r\n    }\r\n}\r\n```\r\n\r\n### Output\r\n\r\nHere is the `.toString()` call:\r\n\r\n```java\r\n[\r\n  ParseJson.Response(\r\n    id=346id71,\r\n    arg=ParseJson.Arg(test1=pass, task=true, direction=right),\r\n    datapoints={\r\n      1680012000=0.10124447461480172,\r\n      1680048000=8.398348387776654,\r\n      1680084000=8.338508371876594,\r\n      1680120000=8.357523374646366}\r\n  ),\r\n  ParseJson.Response(\r\n    id=346id72,\r\n    arg=ParseJson.Arg(test1=pass, task=true, direction=left),\r\n    datapoints={\r\n      1680012000=0.123233,\r\n      1680048000=3.567384,\r\n      1680084000=4.47653,\r\n      1680120000=0.0,\r\n      1680156000=0.0}\r\n  )\r\n]\r\n```\r\n\r\nAnd the `.writerWithDefaultPrettyPrinter().writeValueAsString()` call:\r\n\r\n```json\r\n[ {\r\n  &quot;id&quot; : &quot;346id71&quot;,\r\n  &quot;arg&quot; : {\r\n    &quot;test1&quot; : &quot;pass&quot;,\r\n    &quot;task&quot; : &quot;true&quot;,\r\n    &quot;direction&quot; : &quot;right&quot;\r\n  },\r\n  &quot;datapoints&quot; : {\r\n    &quot;1680012000&quot; : 0.10124447461480172,\r\n    &quot;1680048000&quot; : 8.398348387776654,\r\n    &quot;1680084000&quot; : 8.338508371876594,\r\n    &quot;1680120000&quot; : 8.357523374646366\r\n  }\r\n}, {\r\n  &quot;id&quot; : &quot;346id72&quot;,\r\n  &quot;arg&quot; : {\r\n    &quot;test1&quot; : &quot;pass&quot;,\r\n    &quot;task&quot; : &quot;true&quot;,\r\n    &quot;direction&quot; : &quot;left&quot;\r\n  },\r\n  &quot;datapoints&quot; : {\r\n    &quot;1680012000&quot; : 0.123233,\r\n    &quot;1680048000&quot; : 3.567384,\r\n    &quot;1680084000&quot; : 4.47653,\r\n    &quot;1680120000&quot; : 0.0,\r\n    &quot;1680156000&quot; : 0.0\r\n  }\r\n} ]\r\n```","title":"Getting backslash on JSON","body":"<p>You should have the following structure. I used Jackson to handle deserialization/serialization, and Lombok to handle getters/setters/toString for the POJO fields.</p>\n<p>As others have mentioned, the type for <code>datapoints</code> should be a <code>Map</code> of <code>String</code> to <code>Double</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Map;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.Data;\n\npublic class ParseJson {\n    private static final String SAMPLE_JSON_DATA = &quot;[{\\&quot;id\\&quot;:\\&quot;346id71\\&quot;,\\&quot;arg\\&quot;:{\\&quot;test1\\&quot;:\\&quot;pass\\&quot;,\\&quot;task\\&quot;:\\&quot;true\\&quot;,\\&quot;direction\\&quot;:\\&quot;right\\&quot;},\\&quot;datapoints\\&quot;:{\\&quot;1680012000\\&quot;:0.10124447461480172,\\&quot;1680048000\\&quot;:8.398348387776654,\\&quot;1680084000\\&quot;:8.338508371876594,\\&quot;1680120000\\&quot;:8.357523374646366}},{\\&quot;id\\&quot;:\\&quot;346id72\\&quot;,\\&quot;arg\\&quot;:{\\&quot;test1\\&quot;:\\&quot;pass\\&quot;,\\&quot;task\\&quot;:\\&quot;true\\&quot;,\\&quot;direction\\&quot;:\\&quot;left\\&quot;},\\&quot;datapoints\\&quot;:{\\&quot;1680012000\\&quot;:0.123233,\\&quot;1680048000\\&quot;:3.567384,\\&quot;1680084000\\&quot;:4.47653,\\&quot;1680120000\\&quot;:0,\\&quot;1680156000\\&quot;:0}}]&quot;;\n\n    private static ObjectMapper mapper = new ObjectMapper();\n\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n        Response[] response = mapper.readValue(SAMPLE_JSON_DATA, Response[].class);\n        System.out.println(&quot;\\nOUTPUT :- Object::toString&quot;);\n        System.out.println(Arrays.toString(response));\n        System.out.println(&quot;\\nOUTPUT :- ObjectMapper::writeValueAsString&quot;);\n        System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(response));\n    }\n\n    @Data\n    private static class Arg {\n        String test1, task, direction;\n    }\n\n    @Data\n    private static class Response {\n        private String id;\n        private Arg arg;\n        private Map&lt;String, Double&gt; datapoints;\n    }\n}\n</code></pre>\n<h3>Output</h3>\n<p>Here is the <code>.toString()</code> call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>[\n  ParseJson.Response(\n    id=346id71,\n    arg=ParseJson.Arg(test1=pass, task=true, direction=right),\n    datapoints={\n      1680012000=0.10124447461480172,\n      1680048000=8.398348387776654,\n      1680084000=8.338508371876594,\n      1680120000=8.357523374646366}\n  ),\n  ParseJson.Response(\n    id=346id72,\n    arg=ParseJson.Arg(test1=pass, task=true, direction=left),\n    datapoints={\n      1680012000=0.123233,\n      1680048000=3.567384,\n      1680084000=4.47653,\n      1680120000=0.0,\n      1680156000=0.0}\n  )\n]\n</code></pre>\n<p>And the <code>.writerWithDefaultPrettyPrinter().writeValueAsString()</code> call:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[ {\n  &quot;id&quot; : &quot;346id71&quot;,\n  &quot;arg&quot; : {\n    &quot;test1&quot; : &quot;pass&quot;,\n    &quot;task&quot; : &quot;true&quot;,\n    &quot;direction&quot; : &quot;right&quot;\n  },\n  &quot;datapoints&quot; : {\n    &quot;1680012000&quot; : 0.10124447461480172,\n    &quot;1680048000&quot; : 8.398348387776654,\n    &quot;1680084000&quot; : 8.338508371876594,\n    &quot;1680120000&quot; : 8.357523374646366\n  }\n}, {\n  &quot;id&quot; : &quot;346id72&quot;,\n  &quot;arg&quot; : {\n    &quot;test1&quot; : &quot;pass&quot;,\n    &quot;task&quot; : &quot;true&quot;,\n    &quot;direction&quot; : &quot;left&quot;\n  },\n  &quot;datapoints&quot; : {\n    &quot;1680012000&quot; : 0.123233,\n    &quot;1680048000&quot; : 3.567384,\n    &quot;1680084000&quot; : 4.47653,\n    &quot;1680120000&quot; : 0.0,\n    &quot;1680156000&quot; : 0.0\n  }\n} ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695928880,"creation_date":1695928880,"answer_id":77197714,"question_id":77194945,"body_markdown":"I think you need to reach out to whoever creates the JSON and ask them to restructure it. That being said, here is a way to parse your current `JSON` using `GSON`. The first I noticed is that `\\&quot;` all need to be `&#39;`. From there, use a `TypeAdapter` to read the `JSON`. The `POJO` for `DataPoints` should be `Map` in my opinion. Comments in the code!\r\n\r\n## Main ##\r\n```\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\nimport java.util.List;\r\nimport java.util.regex.MatchResult;\r\nimport java.util.regex.Pattern;\r\nimport java.util.stream.Collectors;\r\n\r\n\r\n/**\r\n *\r\n * @author blj0011 (sedj601)\r\n */\r\npublic class JavaTestArea {\r\n    public static void main(String[] args) {    \r\n        String jsonArrayString = \r\n                &quot;&quot;&quot;\r\n                [\r\n                    {\r\n                        &quot;id&quot;: &quot;346id71&quot;,\r\n                        &quot;arg&quot;: {\r\n                            &quot;test1&quot;: &quot;pass&quot;,\r\n                            &quot;task&quot;: &quot;true&quot;,\r\n                            &quot;direction&quot;: &quot;right&quot;\r\n                        },\r\n                        &quot;datapoints&quot;: &quot;{\\&quot;1694473620\\&quot;:0.0008208249347420499,\\&quot;1694509620\\&quot;:0.0008401434897869077,\\&quot;1694545620\\&quot;:0.0008438824499876583,\\&quot;1694581620\\&quot;:0.0008171293069653031,\\&quot;1694617620\\&quot;:0.0008596749524634415,\\&quot;1694653620\\&quot;:0.0008368097665295172}&quot;\r\n                    },\r\n                    {\r\n                        &quot;id&quot;: &quot;346id72&quot;,\r\n                        &quot;arg&quot;: {\r\n                            &quot;test1&quot;: &quot;pass&quot;,\r\n                            &quot;task&quot;: &quot;true&quot;,\r\n                            &quot;direction&quot;: &quot;left&quot;\r\n                        },\r\n                        &quot;datapoints&quot;: &quot;{\\&quot;1694473620\\&quot;:0.0008208249347420499,\\&quot;1694509620\\&quot;:0.0008401434897869077,\\&quot;1694545620\\&quot;:0.0008438824499876583,\\&quot;1694581620\\&quot;:0.0008171293069653031,\\&quot;1694617620\\&quot;:0.0008596749524634415,\\&quot;1694653620\\&quot;:0.0008368097665295172}&quot;\r\n                    }\r\n                ]\r\n                &quot;&quot;&quot;; \r\n        \r\n        //This code finds &quot; in datapoints and replaces it with &#39;\r\n        //EX: \r\n        //This -&gt;    &quot;datapoints&quot;: &quot;{\\&quot;1694473620\\&quot;:0.0008208249347420499,\\&quot;1694509620\\&quot;:0.0008401434897869077,\\&quot;1694545620\\&quot;:0.0008438824499876583,\\&quot;1694581620\\&quot;:0.0008171293069653031,\\&quot;1694617620\\&quot;:0.0008596749524634415,\\&quot;1694653620\\&quot;:0.0008368097665295172}&quot;\r\n        //Becomes -&gt; &quot;datapoints&quot;: &quot;{&#39;1694473620&#39;:0.0008208249347420499,&#39;1694509620&#39;:0.0008401434897869077,&#39;1694545620&#39;:0.0008438824499876583,&#39;1694581620&#39;:0.0008171293069653031,&#39;1694617620&#39;:0.0008596749524634415,&#39;1694653620&#39;:0.0008368097665295172}&quot;                   \r\n        List&lt;Integer&gt; beginDataPoints = Pattern.compile(Pattern.quote(&quot;\\&quot;{\\&quot;&quot;)) // sanitize input and create pattern\r\n            .matcher(jsonArrayString) // create matcher\r\n            .results()     // get the MatchResults, Java 9 method\r\n            .map(MatchResult::start) // get the first index\r\n            .collect(Collectors.toList()); // collect found indices into a list\r\n        \r\n        List&lt;Integer&gt; endDataPoints = Pattern.compile(Pattern.quote(&quot;}\\&quot;&quot;)) // sanitize input and create pattern\r\n            .matcher(jsonArrayString) // create matcher\r\n            .results()     // get the MatchResults, Java 9 method\r\n            .map(MatchResult::start) // get the first index\r\n            .collect(Collectors.toList());\r\n//        \r\n        for( int i = 0; i &lt; beginDataPoints.size(); i++){\r\n            jsonArrayString = jsonArrayString.replace(jsonArrayString.substring(beginDataPoints.get(i) + 2, endDataPoints.get(i) - 1), jsonArrayString.substring(beginDataPoints.get(i) + 2, endDataPoints.get(i) - 1).replace(&quot;\\&quot;&quot;, &quot;&#39;&quot;));\r\n        }        \r\n        \r\n        //This code set up GSON and parse the JSON      \r\n        GsonBuilder gsonBuilder = new GsonBuilder();\r\n        gsonBuilder.registerTypeAdapter(Response.class, new ResponseTypeAdapter());\r\n        gsonBuilder.setPrettyPrinting();\r\n        Gson gson = gsonBuilder.create();        \r\n       Response[] responseArray = gson.fromJson(jsonArrayString, Response[].class);\r\n        \r\n       //This code prints the Response array objects!\r\n        for(int i = 0; i &lt; responseArray.length; i++){\r\n            System.out.println(responseArray[i].toString());\r\n        }        \r\n    }    \r\n}\r\n```\r\n\r\n## ResponseTypeAdapter ##\r\n```\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.TypeAdapter;\r\nimport com.google.gson.stream.JsonReader;\r\nimport com.google.gson.stream.JsonWriter;\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\n/**\r\n *\r\n * @author blj0011 (sedj601)\r\n */\r\npublic class ResponseTypeAdapter extends TypeAdapter&lt;Response&gt; {\r\n\r\n    @Override\r\n    public void write(JsonWriter out, Response value) throws IOException {\r\n        //You do this if needed!\r\n//        out.beginObject();\r\n//        out.name(&quot;id&quot;).value(value.getId());\r\n//        out.beginObject();\r\n//        out.name(&quot;arg&quot;).value(value.getArg().getTest1());\r\n//        out.name(&quot;dataPoints&quot;).value(&quot;Todo - datapoints here!&quot;);\r\n//        out.endObject();\r\n    }\r\n\r\n    @Override\r\n    public Response read(JsonReader in) throws IOException {\r\n        Response response = new Response();\r\n        in.beginObject();\r\n        while (in.hasNext()) {\r\n            // should really handle nulls for the strings...\r\n            switch(in.nextName()) {\r\n                case &quot;id&quot; -&gt; response.setId(in.nextString());\r\n                case &quot;arg&quot; -&gt; {\r\n                    Arg arg = new Arg();\r\n                    in.beginObject();\r\n                    while(in.hasNext()){\r\n                        switch (in.nextName()) {\r\n                            case &quot;test1&quot; -&gt; {\r\n                                arg.setTest1(in.nextString());\r\n                            }\r\n                            case &quot;task&quot; -&gt; {\r\n                                arg.setTask(in.nextString());\r\n                            }\r\n                            case &quot;direction&quot; -&gt; {\r\n                                arg.setDirection(in.nextString());\r\n                            }\r\n                        }\r\n                    }\r\n                    response.setArg(arg);\r\n                    in.endObject();\r\n                }\r\n                case &quot;datapoints&quot; -&gt; {\r\n                    String datapoints = in.nextString();\r\n                    //System.out.println(datapoints);\r\n                    Gson gson = new Gson();\r\n                    Map map = gson.fromJson(datapoints, Map.class);\r\n                    DataPoints dataPointsObject = new DataPoints(map);\r\n                    response.setDataPoints(dataPointsObject);\r\n                }                \r\n            }        \r\n        }\r\n        \r\n        in.endObject();\r\n        return response ;\r\n    }    \r\n}\r\n```\r\n\r\n## Response ##\r\n```\r\n/**\r\n *\r\n * @author blj0011 (sedj601)\r\n */\r\npublic class Response {\r\n    private String id;\r\n    private Arg arg;\r\n    private DataPoints dataPoints;\r\n\r\n    public Response(){}\r\n    \r\n    public Response(String id, Arg arg, DataPoints dataPoints) {\r\n        this.id = id;\r\n        this.arg = arg;\r\n        this.dataPoints = dataPoints;\r\n    }\r\n\r\n    public DataPoints getDataPoints() {\r\n        return dataPoints;\r\n    }    \r\n    \r\n    public void setDataPoints(DataPoints dataPoints) {\r\n        this.dataPoints = dataPoints;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Arg getArg() {\r\n        return arg;\r\n    }\r\n\r\n    public void setArg(Arg arg) {\r\n        this.arg = arg;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;Response{&quot;);\r\n        sb.append(&quot;id=&quot;).append(id);\r\n        sb.append(&quot;, arg=&quot;).append(arg);\r\n        sb.append(&quot;, dataPoints=&quot;).append(dataPoints);\r\n        sb.append(&#39;}&#39;);\r\n        return sb.toString();\r\n    }   \r\n}\r\n```\r\n\r\n## DataPoints ##\r\n```\r\nimport java.util.Map;\r\n\r\n/**\r\n *\r\n * @author blj0011 (sedj601)\r\n */\r\npublic class DataPoints {\r\n    private Map&lt;String, Double&gt; points;\r\n\r\n    public DataPoints(Map&lt;String, Double&gt; points) {\r\n        this.points = points;\r\n    }\r\n\r\n    public Map&lt;String, Double&gt; getPoints() {\r\n        return points;\r\n    }\r\n\r\n    public void setPoints(Map&lt;String, Double&gt; points) {\r\n        this.points = points;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;DataPoints{&quot;);\r\n        sb.append(&quot;points=&quot;).append(points);\r\n        sb.append(&#39;}&#39;);\r\n        return sb.toString();\r\n    }    \r\n}\r\n```\r\n\r\n## Arg ##\r\n```\r\n/**\r\n *\r\n * @author blj0011(sedj601)\r\n */\r\npublic class Arg {\r\n    private String test1;\r\n    private String task;\r\n    private String direction;\r\n\r\n    public Arg(){}\r\n    \r\n    public Arg(String test1, String task, String direction) {\r\n        this.test1 = test1;\r\n        this.task = task;\r\n        this.direction = direction;\r\n    }\r\n\r\n    public String getDirection() {\r\n        return direction;\r\n    }\r\n\r\n    public void setDirection(String direction) {\r\n        this.direction = direction;\r\n    }\r\n\r\n    public String getTest1() {\r\n        return test1;\r\n    }\r\n\r\n    public void setTest1(String test1) {\r\n        this.test1 = test1;\r\n    }\r\n\r\n    public String isTask() {\r\n        return task;\r\n    }\r\n\r\n    public void setTask(String task) {\r\n        this.task = task;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;Arg{&quot;);\r\n        sb.append(&quot;test1=&quot;).append(test1);\r\n        sb.append(&quot;, task=&quot;).append(task);\r\n        sb.append(&quot;, direction=&quot;).append(direction);\r\n        sb.append(&#39;}&#39;);\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\n\r\n## Output ##\r\n```\r\nResponse{id=346id71, arg=Arg{test1=pass, task=true, direction=right}, dataPoints=DataPoints{points={1694473620=8.208249347420499E-4, 1694509620=8.401434897869077E-4, 1694545620=8.438824499876583E-4, 1694581620=8.171293069653031E-4, 1694617620=8.596749524634415E-4, 1694653620=8.368097665295172E-4}}}\r\nResponse{id=346id72, arg=Arg{test1=pass, task=true, direction=left}, dataPoints=DataPoints{points={1694473620=8.208249347420499E-4, 1694509620=8.401434897869077E-4, 1694545620=8.438824499876583E-4, 1694581620=8.171293069653031E-4, 1694617620=8.596749524634415E-4, 1694653620=8.368097665295172E-4}}}\r\n------------------------------------------------------------------------\r\nBUILD SUCCESS\r\n------------------------------------------------------------------------\r\nTotal time:  1.351 s\r\nFinished at: 2023-09-28T14:13:13-05:00\r\n```\r\n","title":"Getting backslash on JSON","body":"<p>I think you need to reach out to whoever creates the JSON and ask them to restructure it. That being said, here is a way to parse your current <code>JSON</code> using <code>GSON</code>. The first I noticed is that <code>\\&quot;</code> all need to be <code>'</code>. From there, use a <code>TypeAdapter</code> to read the <code>JSON</code>. The <code>POJO</code> for <code>DataPoints</code> should be <code>Map</code> in my opinion. Comments in the code!</p>\n<h2>Main</h2>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport java.util.List;\nimport java.util.regex.MatchResult;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\n\n\n/**\n *\n * @author blj0011 (sedj601)\n */\npublic class JavaTestArea {\n    public static void main(String[] args) {    \n        String jsonArrayString = \n                &quot;&quot;&quot;\n                [\n                    {\n                        &quot;id&quot;: &quot;346id71&quot;,\n                        &quot;arg&quot;: {\n                            &quot;test1&quot;: &quot;pass&quot;,\n                            &quot;task&quot;: &quot;true&quot;,\n                            &quot;direction&quot;: &quot;right&quot;\n                        },\n                        &quot;datapoints&quot;: &quot;{\\&quot;1694473620\\&quot;:0.0008208249347420499,\\&quot;1694509620\\&quot;:0.0008401434897869077,\\&quot;1694545620\\&quot;:0.0008438824499876583,\\&quot;1694581620\\&quot;:0.0008171293069653031,\\&quot;1694617620\\&quot;:0.0008596749524634415,\\&quot;1694653620\\&quot;:0.0008368097665295172}&quot;\n                    },\n                    {\n                        &quot;id&quot;: &quot;346id72&quot;,\n                        &quot;arg&quot;: {\n                            &quot;test1&quot;: &quot;pass&quot;,\n                            &quot;task&quot;: &quot;true&quot;,\n                            &quot;direction&quot;: &quot;left&quot;\n                        },\n                        &quot;datapoints&quot;: &quot;{\\&quot;1694473620\\&quot;:0.0008208249347420499,\\&quot;1694509620\\&quot;:0.0008401434897869077,\\&quot;1694545620\\&quot;:0.0008438824499876583,\\&quot;1694581620\\&quot;:0.0008171293069653031,\\&quot;1694617620\\&quot;:0.0008596749524634415,\\&quot;1694653620\\&quot;:0.0008368097665295172}&quot;\n                    }\n                ]\n                &quot;&quot;&quot;; \n        \n        //This code finds &quot; in datapoints and replaces it with '\n        //EX: \n        //This -&gt;    &quot;datapoints&quot;: &quot;{\\&quot;1694473620\\&quot;:0.0008208249347420499,\\&quot;1694509620\\&quot;:0.0008401434897869077,\\&quot;1694545620\\&quot;:0.0008438824499876583,\\&quot;1694581620\\&quot;:0.0008171293069653031,\\&quot;1694617620\\&quot;:0.0008596749524634415,\\&quot;1694653620\\&quot;:0.0008368097665295172}&quot;\n        //Becomes -&gt; &quot;datapoints&quot;: &quot;{'1694473620':0.0008208249347420499,'1694509620':0.0008401434897869077,'1694545620':0.0008438824499876583,'1694581620':0.0008171293069653031,'1694617620':0.0008596749524634415,'1694653620':0.0008368097665295172}&quot;                   \n        List&lt;Integer&gt; beginDataPoints = Pattern.compile(Pattern.quote(&quot;\\&quot;{\\&quot;&quot;)) // sanitize input and create pattern\n            .matcher(jsonArrayString) // create matcher\n            .results()     // get the MatchResults, Java 9 method\n            .map(MatchResult::start) // get the first index\n            .collect(Collectors.toList()); // collect found indices into a list\n        \n        List&lt;Integer&gt; endDataPoints = Pattern.compile(Pattern.quote(&quot;}\\&quot;&quot;)) // sanitize input and create pattern\n            .matcher(jsonArrayString) // create matcher\n            .results()     // get the MatchResults, Java 9 method\n            .map(MatchResult::start) // get the first index\n            .collect(Collectors.toList());\n//        \n        for( int i = 0; i &lt; beginDataPoints.size(); i++){\n            jsonArrayString = jsonArrayString.replace(jsonArrayString.substring(beginDataPoints.get(i) + 2, endDataPoints.get(i) - 1), jsonArrayString.substring(beginDataPoints.get(i) + 2, endDataPoints.get(i) - 1).replace(&quot;\\&quot;&quot;, &quot;'&quot;));\n        }        \n        \n        //This code set up GSON and parse the JSON      \n        GsonBuilder gsonBuilder = new GsonBuilder();\n        gsonBuilder.registerTypeAdapter(Response.class, new ResponseTypeAdapter());\n        gsonBuilder.setPrettyPrinting();\n        Gson gson = gsonBuilder.create();        \n       Response[] responseArray = gson.fromJson(jsonArrayString, Response[].class);\n        \n       //This code prints the Response array objects!\n        for(int i = 0; i &lt; responseArray.length; i++){\n            System.out.println(responseArray[i].toString());\n        }        \n    }    \n}\n</code></pre>\n<h2>ResponseTypeAdapter</h2>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.TypeAdapter;\nimport com.google.gson.stream.JsonReader;\nimport com.google.gson.stream.JsonWriter;\nimport java.io.IOException;\nimport java.util.Map;\n\n/**\n *\n * @author blj0011 (sedj601)\n */\npublic class ResponseTypeAdapter extends TypeAdapter&lt;Response&gt; {\n\n    @Override\n    public void write(JsonWriter out, Response value) throws IOException {\n        //You do this if needed!\n//        out.beginObject();\n//        out.name(&quot;id&quot;).value(value.getId());\n//        out.beginObject();\n//        out.name(&quot;arg&quot;).value(value.getArg().getTest1());\n//        out.name(&quot;dataPoints&quot;).value(&quot;Todo - datapoints here!&quot;);\n//        out.endObject();\n    }\n\n    @Override\n    public Response read(JsonReader in) throws IOException {\n        Response response = new Response();\n        in.beginObject();\n        while (in.hasNext()) {\n            // should really handle nulls for the strings...\n            switch(in.nextName()) {\n                case &quot;id&quot; -&gt; response.setId(in.nextString());\n                case &quot;arg&quot; -&gt; {\n                    Arg arg = new Arg();\n                    in.beginObject();\n                    while(in.hasNext()){\n                        switch (in.nextName()) {\n                            case &quot;test1&quot; -&gt; {\n                                arg.setTest1(in.nextString());\n                            }\n                            case &quot;task&quot; -&gt; {\n                                arg.setTask(in.nextString());\n                            }\n                            case &quot;direction&quot; -&gt; {\n                                arg.setDirection(in.nextString());\n                            }\n                        }\n                    }\n                    response.setArg(arg);\n                    in.endObject();\n                }\n                case &quot;datapoints&quot; -&gt; {\n                    String datapoints = in.nextString();\n                    //System.out.println(datapoints);\n                    Gson gson = new Gson();\n                    Map map = gson.fromJson(datapoints, Map.class);\n                    DataPoints dataPointsObject = new DataPoints(map);\n                    response.setDataPoints(dataPointsObject);\n                }                \n            }        \n        }\n        \n        in.endObject();\n        return response ;\n    }    \n}\n</code></pre>\n<h2>Response</h2>\n<pre><code>/**\n *\n * @author blj0011 (sedj601)\n */\npublic class Response {\n    private String id;\n    private Arg arg;\n    private DataPoints dataPoints;\n\n    public Response(){}\n    \n    public Response(String id, Arg arg, DataPoints dataPoints) {\n        this.id = id;\n        this.arg = arg;\n        this.dataPoints = dataPoints;\n    }\n\n    public DataPoints getDataPoints() {\n        return dataPoints;\n    }    \n    \n    public void setDataPoints(DataPoints dataPoints) {\n        this.dataPoints = dataPoints;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public Arg getArg() {\n        return arg;\n    }\n\n    public void setArg(Arg arg) {\n        this.arg = arg;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;Response{&quot;);\n        sb.append(&quot;id=&quot;).append(id);\n        sb.append(&quot;, arg=&quot;).append(arg);\n        sb.append(&quot;, dataPoints=&quot;).append(dataPoints);\n        sb.append('}');\n        return sb.toString();\n    }   \n}\n</code></pre>\n<h2>DataPoints</h2>\n<pre><code>import java.util.Map;\n\n/**\n *\n * @author blj0011 (sedj601)\n */\npublic class DataPoints {\n    private Map&lt;String, Double&gt; points;\n\n    public DataPoints(Map&lt;String, Double&gt; points) {\n        this.points = points;\n    }\n\n    public Map&lt;String, Double&gt; getPoints() {\n        return points;\n    }\n\n    public void setPoints(Map&lt;String, Double&gt; points) {\n        this.points = points;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;DataPoints{&quot;);\n        sb.append(&quot;points=&quot;).append(points);\n        sb.append('}');\n        return sb.toString();\n    }    \n}\n</code></pre>\n<h2>Arg</h2>\n<pre><code>/**\n *\n * @author blj0011(sedj601)\n */\npublic class Arg {\n    private String test1;\n    private String task;\n    private String direction;\n\n    public Arg(){}\n    \n    public Arg(String test1, String task, String direction) {\n        this.test1 = test1;\n        this.task = task;\n        this.direction = direction;\n    }\n\n    public String getDirection() {\n        return direction;\n    }\n\n    public void setDirection(String direction) {\n        this.direction = direction;\n    }\n\n    public String getTest1() {\n        return test1;\n    }\n\n    public void setTest1(String test1) {\n        this.test1 = test1;\n    }\n\n    public String isTask() {\n        return task;\n    }\n\n    public void setTask(String task) {\n        this.task = task;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;Arg{&quot;);\n        sb.append(&quot;test1=&quot;).append(test1);\n        sb.append(&quot;, task=&quot;).append(task);\n        sb.append(&quot;, direction=&quot;).append(direction);\n        sb.append('}');\n        return sb.toString();\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<pre><code>Response{id=346id71, arg=Arg{test1=pass, task=true, direction=right}, dataPoints=DataPoints{points={1694473620=8.208249347420499E-4, 1694509620=8.401434897869077E-4, 1694545620=8.438824499876583E-4, 1694581620=8.171293069653031E-4, 1694617620=8.596749524634415E-4, 1694653620=8.368097665295172E-4}}}\nResponse{id=346id72, arg=Arg{test1=pass, task=true, direction=left}, dataPoints=DataPoints{points={1694473620=8.208249347420499E-4, 1694509620=8.401434897869077E-4, 1694545620=8.438824499876583E-4, 1694581620=8.171293069653031E-4, 1694617620=8.596749524634415E-4, 1694653620=8.368097665295172E-4}}}\n------------------------------------------------------------------------\nBUILD SUCCESS\n------------------------------------------------------------------------\nTotal time:  1.351 s\nFinished at: 2023-09-28T14:13:13-05:00\n</code></pre>\n"}],"owner":{"account_id":13919183,"reputation":83,"user_id":10050092,"display_name":"Nitish K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77195438,"answer_count":3,"score":2,"last_activity_date":1695935519,"creation_date":1695904032,"question_id":77194945,"body_markdown":"What would be the Java POJO class for below &quot;datapoints&quot;?\r\ndatapoints are not constants their values and quantity and counts can increase or decrease.\r\n\r\nThis below is the output I&#39;m getting from my code where I get backslash.\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: &quot;346id71&quot;,\r\n        &quot;arg&quot;: {\r\n            &quot;test1&quot;: &quot;pass&quot;,\r\n            &quot;task&quot;: &quot;true&quot;,\r\n            &quot;direction&quot;: &quot;right&quot;\r\n        },\r\n        &quot;datapoints&quot;: &quot;{\\&quot;1694473620\\&quot;:0.0008208249347420499,\\&quot;1694509620\\&quot;:0.0008401434897869077,\\&quot;1694545620\\&quot;:0.0008438824499876583,\\&quot;1694581620\\&quot;:0.0008171293069653031,\\&quot;1694617620\\&quot;:0.0008596749524634415,\\&quot;1694653620\\&quot;:0.0008368097665295172}&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;346id72&quot;,\r\n        &quot;arg&quot;: {\r\n            &quot;test1&quot;: &quot;pass&quot;,\r\n            &quot;task&quot;: &quot;true&quot;,\r\n            &quot;direction&quot;: &quot;left&quot;\r\n        },\r\n        &quot;datapoints&quot;: &quot;{\\&quot;1694473620\\&quot;:0.0008208249347420499,\\&quot;1694509620\\&quot;:0.0008401434897869077,\\&quot;1694545620\\&quot;:0.0008438824499876583,\\&quot;1694581620\\&quot;:0.0008171293069653031,\\&quot;1694617620\\&quot;:0.0008596749524634415,\\&quot;1694653620\\&quot;:0.0008368097665295172}&quot;\r\n    }\r\n]\r\n```\r\n\r\n\r\nThis below is the output needed and  but I&#39;m getting backslash in &quot;datapoints&quot; as above\r\n\r\n```\r\n[\r\n    {\r\n\t\t&quot;id&quot;: &quot;346id71&quot;,\r\n        &quot;arg&quot;: {\r\n            &quot;test1&quot;: &quot;pass&quot;,\r\n            &quot;task&quot;: &quot;true&quot;,\r\n            &quot;direction&quot;: &quot;right&quot;\r\n        },\r\n        &quot;datapoints&quot;: {\r\n            &quot;1680012000&quot;: 0.10124447461480172,\r\n            &quot;1680048000&quot;: 8.39834838777665454,\r\n            &quot;1680084000&quot;: 8.33850837187659432,\r\n            &quot;1680120000&quot;: 8.35752337464636549\r\n\t\t\t}\r\n    },\r\n    {\r\n\t\t&quot;id&quot;: &quot;346id72&quot;,\r\n        &quot;arg&quot;: {\r\n            &quot;test1&quot;: &quot;pass&quot;,\r\n            &quot;task&quot;: &quot;true&quot;,\r\n            &quot;direction&quot;: &quot;left&quot;\r\n        },\r\n        &quot;datapoints&quot;: {\r\n            &quot;1680012000&quot;: 0.123233,\r\n            &quot;1680048000&quot;: 3.567384,\r\n            &quot;1680084000&quot;: 4.476530,\r\n            &quot;1680120000&quot;: 0.0,\r\n            &quot;1680156000&quot;: 0.0\r\n\t\t  }\r\n    }\r\n]\r\n```\r\n\r\nI tried a lot but couldn&#39;t figure out proper solution to remove backslash.\r\n\r\nthis is my model class\r\n\r\n```\r\n\r\npublic class Response {\r\n\r\n\tprivate String id;\r\n\tprivate Arg arg;\r\n\tprivate String datapoints;\r\n\t\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic Arg getArg() {\r\n\t\treturn arg;\r\n\t}\r\n\tpublic void setArg(Arg arg) {\r\n\t\tthis.arg = arg;\r\n\t}\r\n\tpublic String getDatapoints() {\r\n\t\treturn datapoints;\r\n\t}\r\n\tpublic void setDatapoints(String datapoints) {\r\n\t\tthis.datapoints = datapoints;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\ninput String for datapoints is like this \r\n```\r\n{&quot;1694473620&quot;:0.0008232249347420499,&quot;1694509620&quot;:0.0008405554897869077,&quot;1694545620&quot;:0.0008438824476576583,&quot;1694581620&quot;:0.0008171293069653031,&quot;1694617620&quot;:0.0008596749524634415,&quot;1694653620&quot;:0.0008368097665295172}\r\n```\r\n","title":"Getting backslash on JSON","body":"<p>What would be the Java POJO class for below &quot;datapoints&quot;?\ndatapoints are not constants their values and quantity and counts can increase or decrease.</p>\n<p>This below is the output I'm getting from my code where I get backslash.</p>\n<pre><code>[\n    {\n        &quot;id&quot;: &quot;346id71&quot;,\n        &quot;arg&quot;: {\n            &quot;test1&quot;: &quot;pass&quot;,\n            &quot;task&quot;: &quot;true&quot;,\n            &quot;direction&quot;: &quot;right&quot;\n        },\n        &quot;datapoints&quot;: &quot;{\\&quot;1694473620\\&quot;:0.0008208249347420499,\\&quot;1694509620\\&quot;:0.0008401434897869077,\\&quot;1694545620\\&quot;:0.0008438824499876583,\\&quot;1694581620\\&quot;:0.0008171293069653031,\\&quot;1694617620\\&quot;:0.0008596749524634415,\\&quot;1694653620\\&quot;:0.0008368097665295172}&quot;\n    },\n    {\n        &quot;id&quot;: &quot;346id72&quot;,\n        &quot;arg&quot;: {\n            &quot;test1&quot;: &quot;pass&quot;,\n            &quot;task&quot;: &quot;true&quot;,\n            &quot;direction&quot;: &quot;left&quot;\n        },\n        &quot;datapoints&quot;: &quot;{\\&quot;1694473620\\&quot;:0.0008208249347420499,\\&quot;1694509620\\&quot;:0.0008401434897869077,\\&quot;1694545620\\&quot;:0.0008438824499876583,\\&quot;1694581620\\&quot;:0.0008171293069653031,\\&quot;1694617620\\&quot;:0.0008596749524634415,\\&quot;1694653620\\&quot;:0.0008368097665295172}&quot;\n    }\n]\n</code></pre>\n<p>This below is the output needed and  but I'm getting backslash in &quot;datapoints&quot; as above</p>\n<pre><code>[\n    {\n        &quot;id&quot;: &quot;346id71&quot;,\n        &quot;arg&quot;: {\n            &quot;test1&quot;: &quot;pass&quot;,\n            &quot;task&quot;: &quot;true&quot;,\n            &quot;direction&quot;: &quot;right&quot;\n        },\n        &quot;datapoints&quot;: {\n            &quot;1680012000&quot;: 0.10124447461480172,\n            &quot;1680048000&quot;: 8.39834838777665454,\n            &quot;1680084000&quot;: 8.33850837187659432,\n            &quot;1680120000&quot;: 8.35752337464636549\n            }\n    },\n    {\n        &quot;id&quot;: &quot;346id72&quot;,\n        &quot;arg&quot;: {\n            &quot;test1&quot;: &quot;pass&quot;,\n            &quot;task&quot;: &quot;true&quot;,\n            &quot;direction&quot;: &quot;left&quot;\n        },\n        &quot;datapoints&quot;: {\n            &quot;1680012000&quot;: 0.123233,\n            &quot;1680048000&quot;: 3.567384,\n            &quot;1680084000&quot;: 4.476530,\n            &quot;1680120000&quot;: 0.0,\n            &quot;1680156000&quot;: 0.0\n          }\n    }\n]\n</code></pre>\n<p>I tried a lot but couldn't figure out proper solution to remove backslash.</p>\n<p>this is my model class</p>\n<pre><code>\npublic class Response {\n\n    private String id;\n    private Arg arg;\n    private String datapoints;\n    \n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n    public Arg getArg() {\n        return arg;\n    }\n    public void setArg(Arg arg) {\n        this.arg = arg;\n    }\n    public String getDatapoints() {\n        return datapoints;\n    }\n    public void setDatapoints(String datapoints) {\n        this.datapoints = datapoints;\n    }\n    \n    \n}\n</code></pre>\n<p>input String for datapoints is like this</p>\n<pre><code>{&quot;1694473620&quot;:0.0008232249347420499,&quot;1694509620&quot;:0.0008405554897869077,&quot;1694545620&quot;:0.0008438824476576583,&quot;1694581620&quot;:0.0008171293069653031,&quot;1694617620&quot;:0.0008596749524634415,&quot;1694653620&quot;:0.0008368097665295172}\n</code></pre>\n"},{"tags":["java","sonarqube","maven-3","code-coverage","jacoco"],"comments":[{"owner":{"account_id":949780,"reputation":26565,"user_id":976155,"display_name":"Fabrice - SonarSource Team"},"score":0,"creation_date":1466155598,"post_id":37875399,"comment_id":63210895,"body_markdown":"What command to you run to execute the analysis? For instance, take a look at my sample project which works, and most specifically at the &quot;runAnalysis.sh&quot; file =&gt; https://github.com/bellingard/fake-project-for-tests","body":"What command to you run to execute the analysis? For instance, take a look at my sample project which works, and most specifically at the &quot;runAnalysis.sh&quot; file =&gt; <a href=\"https://github.com/bellingard/fake-project-for-tests\" rel=\"nofollow noreferrer\">github.com/bellingard/fake-project-for-tests</a>"},{"owner":{"account_id":2028038,"reputation":356,"user_id":1812516,"accept_rate":40,"display_name":"DecafCoder"},"score":0,"creation_date":1466221444,"post_id":37875399,"comment_id":63240235,"body_markdown":"I&#39;m running `mvn clean package` and `mvn sonar:sonar`.  The prepare-agent goal is being executed pre test as seen by the following log.\n\n    `[INFO] --- jacoco-maven-plugin:0.7.7.201606060606:prepare-agent (default) @ event-service ---\n    [INFO] argLine set to -javaagent:.../.m2/repository/org/jacoco/org.jacoco.agent/0.7.7.201606060606/org.jacoco.agent-0.7.7.201606060606-runtime.jar=destfile=.../target/jacoco.exec`","body":"I&#39;m running <code>mvn clean package</code> and <code>mvn sonar:sonar</code>.  The prepare-agent goal is being executed pre test as seen by the following log.      <code>[INFO] --- jacoco-maven-plugin:0.7.7.201606060606:prepare-agent (default) @ event-service ---     [INFO] argLine set to -javaagent:...&#47;.m2&#47;repository&#47;org&#47;jacoco&#47;org.jacoco.agent&#47;0.&zwnj;&#8203;7.7.201606060606&#47;org&zwnj;&#8203;.jacoco.agent-0.7.7.&zwnj;&#8203;201606060606-runtime&zwnj;&#8203;.jar=destfile=...&#47;ta&zwnj;&#8203;rget&#47;jacoco.exec</code>"},{"owner":{"account_id":949780,"reputation":26565,"user_id":976155,"display_name":"Fabrice - SonarSource Team"},"score":0,"creation_date":1466404332,"post_id":37875399,"comment_id":63282870,"body_markdown":"Can you try to remove the JaCoCo configuration from your POM and run the same command as what you see in &quot;runAnalysis.sh&quot; file in my repo?","body":"Can you try to remove the JaCoCo configuration from your POM and run the same command as what you see in &quot;runAnalysis.sh&quot; file in my repo?"},{"owner":{"account_id":2028038,"reputation":356,"user_id":1812516,"accept_rate":40,"display_name":"DecafCoder"},"score":0,"creation_date":1467154697,"post_id":37875399,"comment_id":63611503,"body_markdown":"Sorry for the slow reply.  I tried your recommendation but I get the same warning messages `[WARNING] Coverage information was not collected. Perhaps you forget to include debug information into compiled classes?\n`","body":"Sorry for the slow reply.  I tried your recommendation but I get the same warning messages <code>[WARNING] Coverage information was not collected. Perhaps you forget to include debug information into compiled classes? </code>"}],"answers":[{"tags":[],"owner":{"account_id":4655615,"reputation":1894,"user_id":3771299,"accept_rate":56,"display_name":"Hasson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492022448,"creation_date":1492022448,"answer_id":43377251,"question_id":37875399,"body_markdown":"I have followed the article [here][1] and it just work for me, I have only updated the code to reflect the latest JaCoCo plugin version\r\n\r\n    \t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.7.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand adding JaCoCo agent to my POM plugins:\r\n\r\n    \t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n       \t\t\t\t &lt;executable&gt;true&lt;/executable&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- JaCoCo configuration --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.7.9&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-report&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n \r\nand running the following maven command (in Jenkins):\r\n\r\n    clean deploy $SONAR_MAVEN_GOAL -Dsonar.host.url=$SONAR_HOST_URL\r\n\r\nI have SonarQube 6.3.0.19869, Jenkins 2.46.1,  Maven Integration Plugin in Jenkins 2.15.1 (the older one caused JVM issues in my stack). \r\n\r\n  [1]: http://dev.macero.es/2016/02/06/test-coverage-analysis-for-your-spring-boot-app/","title":"Jacoco SonarQube Integration","body":"<p>I have followed the article <a href=\"http://dev.macero.es/2016/02/06/test-coverage-analysis-for-your-spring-boot-app/\" rel=\"nofollow noreferrer\">here</a> and it just work for me, I have only updated the code to reflect the latest JaCoCo plugin version</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.7.9&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>and adding JaCoCo agent to my POM plugins:</p>\n\n<pre><code>    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                 &lt;executable&gt;true&lt;/executable&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;!-- JaCoCo configuration --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.7.9&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-report&lt;/id&gt;\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>and running the following maven command (in Jenkins):</p>\n\n<pre><code>clean deploy $SONAR_MAVEN_GOAL -Dsonar.host.url=$SONAR_HOST_URL\n</code></pre>\n\n<p>I have SonarQube 6.3.0.19869, Jenkins 2.46.1,  Maven Integration Plugin in Jenkins 2.15.1 (the older one caused JVM issues in my stack). </p>\n"}],"owner":{"account_id":2028038,"reputation":356,"user_id":1812516,"accept_rate":40,"display_name":"DecafCoder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8136,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1695935265,"creation_date":1466147931,"question_id":37875399,"body_markdown":"I&#39;ve spent a good couple of days trying to get SonarQube to display unit test code coverage from the Maven Jacoco plugin.\r\n\r\nThe error message I am stuck on is \r\n\r\n    [INFO] Analysing .../target/jacoco.exec\r\n    [WARNING] Coverage information was not collected. Perhaps you forget to include debug information into compiled classes?\r\n\r\n\r\nThe report under target/site/jacoco/index.html generates as expected and contains line highlighting and line numbers.  I have read that if no debug information is included in the compiled classes then the highlighting and line numbers will not show in this report.\r\n\r\nI have read Maven includes debug information by default, however, just in case I included the following configuration in my projects maven-compiler-plugin setup\r\n\r\n    &lt;configuration&gt;\r\n        &lt;debug&gt;true&lt;/debug&gt;\r\n        &lt;debuglevel&gt;lines,vars,source&lt;/debuglevel&gt;\r\n    &lt;/configuration&gt;\r\n\r\nI have the following properties in my settings.xml (host and login left out on purpose)\r\n    \r\n    &lt;properties&gt;\r\n        &lt;sonar.host.url&gt;&lt;/sonar.host.url&gt;\r\n        &lt;sonar.login&gt;&lt;/sonar.login&gt;\r\n        &lt;sonar.ws.timeout&gt;300&lt;/sonar.ws.timeout&gt;\r\n    &lt;/properties&gt;\r\n\r\nI have the following configuration of my Jacoco plugin. \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.7.7.201606060606&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;report&lt;/id&gt;\r\n                &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                 &lt;goals&gt;\r\n                     &lt;goal&gt;report&lt;/goal&gt;\r\n                 &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nMy jacoco.exec is in the default location of target/jacoco.exec and is found correctly by SonarQube.\r\n\r\nRelevant versions\r\n\r\nMaven 3.2.2\r\n\r\nMaven Compiler 3.5.1\r\n\r\nMaven Surefire 2.19.1\r\n\r\nJava 1.8.0_11\r\n\r\nSonarQube Server 5.6\r\n\r\nJacoco Maven Plugin 0.7.7.201606060606\r\n \r\nMac OS X 10.10.5\r\n\r\nThanks in advance for the help!\r\n\r\n---- EDIT ----\r\n\r\nI am running the following maven commands\r\n\r\n`mvn clean package`\r\n\r\n`mvn sonar:sonar`","title":"Jacoco SonarQube Integration","body":"<p>I've spent a good couple of days trying to get SonarQube to display unit test code coverage from the Maven Jacoco plugin.</p>\n\n<p>The error message I am stuck on is </p>\n\n<pre><code>[INFO] Analysing .../target/jacoco.exec\n[WARNING] Coverage information was not collected. Perhaps you forget to include debug information into compiled classes?\n</code></pre>\n\n<p>The report under target/site/jacoco/index.html generates as expected and contains line highlighting and line numbers.  I have read that if no debug information is included in the compiled classes then the highlighting and line numbers will not show in this report.</p>\n\n<p>I have read Maven includes debug information by default, however, just in case I included the following configuration in my projects maven-compiler-plugin setup</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;debug&gt;true&lt;/debug&gt;\n    &lt;debuglevel&gt;lines,vars,source&lt;/debuglevel&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>I have the following properties in my settings.xml (host and login left out on purpose)</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;sonar.host.url&gt;&lt;/sonar.host.url&gt;\n    &lt;sonar.login&gt;&lt;/sonar.login&gt;\n    &lt;sonar.ws.timeout&gt;300&lt;/sonar.ws.timeout&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>I have the following configuration of my Jacoco plugin. </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.7.7.201606060606&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n             &lt;goals&gt;\n                 &lt;goal&gt;report&lt;/goal&gt;\n             &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>My jacoco.exec is in the default location of target/jacoco.exec and is found correctly by SonarQube.</p>\n\n<p>Relevant versions</p>\n\n<p>Maven 3.2.2</p>\n\n<p>Maven Compiler 3.5.1</p>\n\n<p>Maven Surefire 2.19.1</p>\n\n<p>Java 1.8.0_11</p>\n\n<p>SonarQube Server 5.6</p>\n\n<p>Jacoco Maven Plugin 0.7.7.201606060606</p>\n\n<p>Mac OS X 10.10.5</p>\n\n<p>Thanks in advance for the help!</p>\n\n<p>---- EDIT ----</p>\n\n<p>I am running the following maven commands</p>\n\n<p><code>mvn clean package</code></p>\n\n<p><code>mvn sonar:sonar</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695934864,"post_id":77198049,"comment_id":136093659,"body_markdown":"I tried to fix your code formatting. Either intent all your lines by four spaces *or* surround with a pair of triple back-tick characters.","body":"I tried to fix your code formatting. Either intent all your lines by four spaces <i>or</i> surround with a pair of triple back-tick characters."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1695934955,"post_id":77198049,"comment_id":136093671,"body_markdown":"By the way, instead of regex,  you might consider simply using [`LocalTime.parse`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalTime.html#parse(java.lang.CharSequence))","body":"By the way, instead of regex,  you might consider simply using <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalTime.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>LocalTime.parse</code></a>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1695935860,"post_id":77198049,"comment_id":136093810,"body_markdown":"Remove the slashes.","body":"Remove the slashes."}],"answers":[{"tags":[],"owner":{"account_id":14557599,"reputation":518,"user_id":10514682,"display_name":"Aymen Azoui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695932900,"creation_date":1695932900,"answer_id":77198066,"question_id":77198049,"body_markdown":"try this:\r\n```java\r\n\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\n\r\npublic static boolean isHour(String hora) {\r\n    boolean isHour = false;\r\n\r\n    try {\r\n        Pattern pattern = Pattern.compile(&quot;^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$&quot;);\r\n        Matcher matcher = pattern.matcher(hora);\r\n        \r\n        if (matcher.matches()) {\r\n            isHour = true;\r\n        }\r\n        \r\n    } catch (Exception e) {\r\n        // log the error using your logging mechanism, e.g., Logger\r\n        logger.error(&quot;error isHour boolean&quot;, e);\r\n    }\r\n    return isHour;\r\n}\r\n```","title":"Regular expression for matching HH:MM time format in Java","body":"<p>try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n\npublic static boolean isHour(String hora) {\n    boolean isHour = false;\n\n    try {\n        Pattern pattern = Pattern.compile(&quot;^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$&quot;);\n        Matcher matcher = pattern.matcher(hora);\n        \n        if (matcher.matches()) {\n            isHour = true;\n        }\n        \n    } catch (Exception e) {\n        // log the error using your logging mechanism, e.g., Logger\n        logger.error(&quot;error isHour boolean&quot;, e);\n    }\n    return isHour;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695933227,"creation_date":1695933227,"answer_id":77198095,"question_id":77198049,"body_markdown":"&gt; _&quot;... I want a regular expression to match time in HH:MM format. ...&quot;_\r\n\r\nIn _Java_, the leading and trailing `/` characters are not used.\r\n\r\nTry the following pattern.\r\n\r\n```none\r\n(?:[01]\\d|2[0-3]):[0-5]\\d\r\n```\r\n\r\nHere is an example, where _s_ is the _String_ value.\r\n\r\n```java\r\nboolean b = s.matches(&quot;(?:[01]\\\\d|2[0-3]):[0-5]\\\\d&quot;);\r\n```","title":"Regular expression for matching HH:MM time format in Java","body":"<blockquote>\n<p><em>&quot;... I want a regular expression to match time in HH:MM format. ...&quot;</em></p>\n</blockquote>\n<p>In <em>Java</em>, the leading and trailing <code>/</code> characters are not used.</p>\n<p>Try the following pattern.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?:[01]\\d|2[0-3]):[0-5]\\d\n</code></pre>\n<p>Here is an example, where <em>s</em> is the <em>String</em> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean b = s.matches(&quot;(?:[01]\\\\d|2[0-3]):[0-5]\\\\d&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695935091,"creation_date":1695934760,"answer_id":77198249,"question_id":77198049,"body_markdown":"Using `java.time`\r\n\r\n    private static boolean isHour(String hora) {\r\n        try {\r\n            LocalTime.parse(hora);\r\n            return true;\r\n        } catch (DateTimeParseException dtpe) {\r\n            return false;\r\n        }\r\n    }","title":"Regular expression for matching HH:MM time format in Java","body":"<p>Using <code>java.time</code></p>\n<pre><code>private static boolean isHour(String hora) {\n    try {\n        LocalTime.parse(hora);\n        return true;\n    } catch (DateTimeParseException dtpe) {\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29416703,"reputation":1,"user_id":22539381,"display_name":"Yeyo9210"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695935091,"creation_date":1695932649,"question_id":77198049,"body_markdown":"I want a regular expression to match time in HH:MM format. This is what I have and it doesn&#39;t work:\r\n\r\n\r\n\t     \tPattern pattern = Pattern.compile(&quot;/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/&quot;);\r\n\t\t\tMatcher matcher = pattern.matcher(hora);\r\n\t\t\t\r\n\t\t\tif(matcher.matches()) {\r\n\t\t\t\tisHour = true;\r\n\t\t\t}\r\n\r\nI tried this but it keeps giving me false\r\n\r\n\tpublic static boolean isHour(String hora) {\r\n\t\tboolean isHour = false;\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tPattern pattern = Pattern.compile(&quot;/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/&quot;);\r\n\t\t\tMatcher matcher = pattern.matcher(hora);\r\n\t\t\t\r\n\t\t\tif(matcher.matches()) {\r\n\t\t\t\tisHour = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}catch(Exception e) {\r\n\t\t\t\r\n\t\t\tlogger.error(&quot;error isDate boolean&quot;, e);\r\n\r\n\t\t}\r\n\t\treturn isHour;\r\n\t}\r\n\r\nAny solution or if I have generated my regex incorrectly? thank you","title":"Regular expression for matching HH:MM time format in Java","body":"<p>I want a regular expression to match time in HH:MM format. This is what I have and it doesn't work:</p>\n<pre><code>        Pattern pattern = Pattern.compile(&quot;/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/&quot;);\n        Matcher matcher = pattern.matcher(hora);\n        \n        if(matcher.matches()) {\n            isHour = true;\n        }\n</code></pre>\n<p>I tried this but it keeps giving me false</p>\n<pre><code>public static boolean isHour(String hora) {\n    boolean isHour = false;\n    \n    try {\n        \n        Pattern pattern = Pattern.compile(&quot;/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/&quot;);\n        Matcher matcher = pattern.matcher(hora);\n        \n        if(matcher.matches()) {\n            isHour = true;\n        }\n        \n    }catch(Exception e) {\n        \n        logger.error(&quot;error isDate boolean&quot;, e);\n\n    }\n    return isHour;\n}\n</code></pre>\n<p>Any solution or if I have generated my regex incorrectly? thank you</p>\n"},{"tags":["java","maven","command-line-interface","gitlab-ci"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1695412836,"post_id":77160289,"comment_id":136026135,"body_markdown":"simple answer to that. No there is no way. Just use most recent version onf your CI ... instead of relying on the `.sdkmanrc` ...","body":"simple answer to that. No there is no way. Just use most recent version onf your CI ... instead of relying on the <code>.sdkmanrc</code> ..."},{"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"score":0,"creation_date":1695414448,"post_id":77160289,"comment_id":136026375,"body_markdown":"@khmarbaise I don&#39;t have control over the runner configuration, which is a shell executor type (so simply using an image with a recent maven version also is not an option).","body":"@khmarbaise I don&#39;t have control over the runner configuration, which is a shell executor type (so simply using an image with a recent maven version also is not an option)."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1695630386,"post_id":77160289,"comment_id":136044918,"body_markdown":"If this is a shell executor, couldn&#39;t you simply check the return value of the Maven command and run a different one if the first one fails?","body":"If this is a shell executor, couldn&#39;t you simply check the return value of the Maven command and run a different one if the first one fails?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695917234,"post_id":77160289,"comment_id":136090787,"body_markdown":"You CI uses and old Maven version which the error message indicated `.....--no-transfer-progress`...","body":"You CI uses and old Maven version which the error message indicated <code>.....--no-transfer-progress</code>..."},{"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"score":0,"creation_date":1695933869,"post_id":77160289,"comment_id":136093506,"body_markdown":"@khmarbaise as i stated in my post i&#39;m perfectly aware of that. `-ntp` was introduced in Maven 3.6.1 as per the [release notes](https://maven.apache.org/docs/3.6.1/release-notes.html). My post asks how to have maven simply ignore unknown command line options (just as it does for user properties) so a generic set of preferred options can be used w/o knowing the maven version they will be run against beforehand.","body":"@khmarbaise as i stated in my post i&#39;m perfectly aware of that. <code>-ntp</code> was introduced in Maven 3.6.1 as per the <a href=\"https://maven.apache.org/docs/3.6.1/release-notes.html\" rel=\"nofollow noreferrer\">release notes</a>. My post asks how to have maven simply ignore unknown command line options (just as it does for user properties) so a generic set of preferred options can be used w/o knowing the maven version they will be run against beforehand."},{"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"score":0,"creation_date":1695933985,"post_id":77160289,"comment_id":136093521,"body_markdown":"@JFabianMeier That&#39;s a helpful idea. However, instead of failing and &quot;degressively&quot; removing options by chance i decided for a more deterministic approach that *progressively* enhances the CLI options string, which i&#39;ve now documented in [my answer below](https://stackoverflow.com/a/77197309/1246547).","body":"@JFabianMeier That&#39;s a helpful idea. However, instead of failing and &quot;degressively&quot; removing options by chance i decided for a more deterministic approach that <i>progressively</i> enhances the CLI options string, which i&#39;ve now documented in <a href=\"https://stackoverflow.com/a/77197309/1246547\">my answer below</a>."}],"answers":[{"tags":[],"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695934145,"creation_date":1695924695,"answer_id":77197309,"question_id":77160289,"body_markdown":"As all the feedback so far indicated that this is not possible, i integrated a bash script into the CI pipeline that progressively enhances the CLI options depending on the currently available maven version:\r\n\r\n```bash\r\nINSTALLED_MAVEN=$(mvn -version | grep -o &quot;Apache Maven [\\.0-9]*&quot; | cut -d&quot; &quot; -f 3)\r\n\r\n# --no-transfer-progress was introduced in Version 3.6.1\r\nif [ $(printf &quot;${INSTALLED_MAVEN}\\n3.6.1&quot; | sort -V | head -1) = &quot;3.6.1&quot; ]; then\r\n  MAVEN_CLI_OPTS=&quot;$MAVEN_CLI_OPTS --no-transfer-progress&quot;\r\nfi\r\n\r\n# --color was introduced in version 3.8.2\r\nif [ $(printf &quot;${INSTALLED_MAVEN}\\n3.8.2&quot; | sort -V | head -1) = &quot;3.8.2&quot; ]; then\r\n  MAVEN_CLI_OPTS=&quot;$MAVEN_CLI_OPTS --color=always&quot;\r\nfi\r\n```\r\n\r\nClearly has room for improvement i.e. by making the version comparison algorithm [DRY](https://www.youtube.com/watch?v=7EmboKQH8lM&amp;t=5825s), but so far this works like a charm for us.\r\n\r\nNevertheless always keen to learn if there&#39;s a smarter way to achieve this.","title":"Make maven ignore / continue after &quot;Unable to parse command line options&quot;","body":"<p>As all the feedback so far indicated that this is not possible, i integrated a bash script into the CI pipeline that progressively enhances the CLI options depending on the currently available maven version:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>INSTALLED_MAVEN=$(mvn -version | grep -o &quot;Apache Maven [\\.0-9]*&quot; | cut -d&quot; &quot; -f 3)\n\n# --no-transfer-progress was introduced in Version 3.6.1\nif [ $(printf &quot;${INSTALLED_MAVEN}\\n3.6.1&quot; | sort -V | head -1) = &quot;3.6.1&quot; ]; then\n  MAVEN_CLI_OPTS=&quot;$MAVEN_CLI_OPTS --no-transfer-progress&quot;\nfi\n\n# --color was introduced in version 3.8.2\nif [ $(printf &quot;${INSTALLED_MAVEN}\\n3.8.2&quot; | sort -V | head -1) = &quot;3.8.2&quot; ]; then\n  MAVEN_CLI_OPTS=&quot;$MAVEN_CLI_OPTS --color=always&quot;\nfi\n</code></pre>\n<p>Clearly has room for improvement i.e. by making the version comparison algorithm <a href=\"https://www.youtube.com/watch?v=7EmboKQH8lM&amp;t=5825s\" rel=\"nofollow noreferrer\">DRY</a>, but so far this works like a charm for us.</p>\n<p>Nevertheless always keen to learn if there's a smarter way to achieve this.</p>\n"}],"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77197309,"answer_count":1,"score":0,"last_activity_date":1695934145,"creation_date":1695411749,"question_id":77160289,"body_markdown":"While reworking a CI pipeline script, i stumbled into \r\n\r\n```bash\r\n$ mvn $MAVEN_CLI_OPTS clean compile\r\nUnable to parse command line options: Unrecognized option: --no-transfer-progress\r\n```\r\n\r\nwhen trying to add `--no-transfer-progress` to the default setup. This happens in a shell executor runner, of course due to an outdated Maven version. Although i have already found a workaround via SDKMAN! to get recent maven versions onto such runners, i would like my CI script to be as generalized as possible, i.e. not failing for project pipelines that are missing an `.sdkmanrc` file and simply want to rely on the default maven version on that runner (which i don&#39;t have control over).\r\n\r\nSo, is there a way to make maven ignore unrecognized options and continue execution nevertheless?","title":"Make maven ignore / continue after &quot;Unable to parse command line options&quot;","body":"<p>While reworking a CI pipeline script, i stumbled into</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ mvn $MAVEN_CLI_OPTS clean compile\nUnable to parse command line options: Unrecognized option: --no-transfer-progress\n</code></pre>\n<p>when trying to add <code>--no-transfer-progress</code> to the default setup. This happens in a shell executor runner, of course due to an outdated Maven version. Although i have already found a workaround via SDKMAN! to get recent maven versions onto such runners, i would like my CI script to be as generalized as possible, i.e. not failing for project pipelines that are missing an <code>.sdkmanrc</code> file and simply want to rely on the default maven version on that runner (which i don't have control over).</p>\n<p>So, is there a way to make maven ignore unrecognized options and continue execution nevertheless?</p>\n"},{"tags":["java","intellij-idea","drools","intellij-plugin"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1695911326,"post_id":77195794,"comment_id":136089443,"body_markdown":"Please report at https://youtrack.jetbrains.com/newIssue?project=IDEA with a sample to reproduce and the logs (Help | Collect Logs and Diagnostic Data).","body":"Please report at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a> with a sample to reproduce and the logs (Help | Collect Logs and Diagnostic Data)."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1695933234,"post_id":77195794,"comment_id":136093407,"body_markdown":"I always thought that the fact that `global` wasn&#39;t supported by their parser was because globals are generally frowned upon in modern drools.","body":"I always thought that the fact that <code>global</code> wasn&#39;t supported by their parser was because globals are generally frowned upon in modern drools."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1695933266,"post_id":77195794,"comment_id":136093412,"body_markdown":"But yes, their drl parser is poorly supported and has numerous gaps in its syntax parsing. Just wait until you try foreach, collect, accumulate, etc., constructs. It&#39;s a bug, file a ticket with JetBrains.","body":"But yes, their drl parser is poorly supported and has numerous gaps in its syntax parsing. Just wait until you try foreach, collect, accumulate, etc., constructs. It&#39;s a bug, file a ticket with JetBrains."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696231378,"post_id":77195794,"comment_id":136121807,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695933470,"creation_date":1695933470,"answer_id":77198117,"question_id":77195794,"body_markdown":"The Drools plugin has numerous gaps in its DRL parsing. You&#39;ve found some of them.\r\n\r\nThere&#39;s no &quot;workarounds&quot;. You can [file a bug](https://youtrack.jetbrains.com/newIssue?project=IDEA) if you&#39;d like. The DRL is valid and will execute properly even if IntelliJ isn&#39;t rendering it prettily.","title":"Intellij not correctly supporting Drools drl files","body":"<p>The Drools plugin has numerous gaps in its DRL parsing. You've found some of them.</p>\n<p>There's no &quot;workarounds&quot;. You can <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">file a bug</a> if you'd like. The DRL is valid and will execute properly even if IntelliJ isn't rendering it prettily.</p>\n"}],"owner":{"account_id":29556312,"reputation":3,"user_id":22651916,"display_name":"Maruko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77198117,"answer_count":1,"score":-2,"last_activity_date":1695933470,"creation_date":1695910431,"question_id":77195794,"body_markdown":"I&#39;m having quite a hard time trying to let Intellij IDEA Ultimate recognize drl files syntax. I have the Drools plugin installed and highlighting works well, but it seems that the editor can&#39;t figure out the variables correctly.\r\n\r\n[Global keyword error](https://i.stack.imgur.com/uQzHh.png)\r\n\r\n[Variables not recognized](https://i.stack.imgur.com/BRSPA.png)\r\n\r\nI tried to search a solution online but I couldn&#39;t find any other than &quot;Install Drools Plugin&quot;, which I already have.\r\n\r\nAnyone knows how to solve?\r\n\r\nThanks","title":"Intellij not correctly supporting Drools drl files","body":"<p>I'm having quite a hard time trying to let Intellij IDEA Ultimate recognize drl files syntax. I have the Drools plugin installed and highlighting works well, but it seems that the editor can't figure out the variables correctly.</p>\n<p><a href=\"https://i.stack.imgur.com/uQzHh.png\" rel=\"nofollow noreferrer\">Global keyword error</a></p>\n<p><a href=\"https://i.stack.imgur.com/BRSPA.png\" rel=\"nofollow noreferrer\">Variables not recognized</a></p>\n<p>I tried to search a solution online but I couldn't find any other than &quot;Install Drools Plugin&quot;, which I already have.</p>\n<p>Anyone knows how to solve?</p>\n<p>Thanks</p>\n"},{"tags":["java","soap","integration","netsuite","wsdl2java"],"answers":[{"tags":[],"owner":{"account_id":2871726,"reputation":123,"user_id":2464921,"display_name":"devSouth555"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695933338,"creation_date":1695933338,"answer_id":77198105,"question_id":77093344,"body_markdown":"   I had to update the endpoint url to get everything to work. Initially I thought when I defined the web service url to be account specific, that this also sets the endpoint to be account specific. But no, if you don&#39;t specify the account url, it defaults to use the generic data center  url, which is no longer acceptable in versions 2019.1 and later. I included the code I used to update my endpoint url to be account specific. \r\n\r\n     BindingProvider bindingprovider = (BindingProvider) _port;\r\n        String endpoint_adr = bindingprovider.getRequestContext().get(BindingProvider.ENDPOINT_ADDRESS_PROPERTY).toString();\r\n                \r\n        endpoint_adr = endpoint_adr.replace(&quot;https://webservices.netsuite.com&quot;, auth.getAccountDomain());\r\n    \r\n    bindingprovider.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, endpoint_adr);\r\n\r\n","title":"NetSuite Webservices returning The server sent HTTP status code 410 when updating wsdl to 2019.1 and higher","body":"<p>I had to update the endpoint url to get everything to work. Initially I thought when I defined the web service url to be account specific, that this also sets the endpoint to be account specific. But no, if you don't specify the account url, it defaults to use the generic data center  url, which is no longer acceptable in versions 2019.1 and later. I included the code I used to update my endpoint url to be account specific.</p>\n<pre><code> BindingProvider bindingprovider = (BindingProvider) _port;\n    String endpoint_adr = bindingprovider.getRequestContext().get(BindingProvider.ENDPOINT_ADDRESS_PROPERTY).toString();\n            \n    endpoint_adr = endpoint_adr.replace(&quot;https://webservices.netsuite.com&quot;, auth.getAccountDomain());\n\nbindingprovider.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, endpoint_adr);\n</code></pre>\n"}],"owner":{"account_id":2871726,"reputation":123,"user_id":2464921,"display_name":"devSouth555"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77198105,"answer_count":1,"score":0,"last_activity_date":1695933338,"creation_date":1694563913,"question_id":77093344,"body_markdown":"I&#39;m using the org.apache.cxf wsdl2java maven tool for netsuite wsdl 2023.1. I&#39;m updating from 2018.1. When I try to use the client to perform any action (search, add, get, etc.) the 410 error is returned. In my stack trace, as soon as I try to send a soap request the following is returned:\r\n\r\n&gt; The server sent HTTP status code 410: Gone, The server sent HTTP status code 410: Gone\r\n&gt; com.sun.xml.ws.transport.http.client.HttpTransportPipe.checkStatusCode(HttpTransportPipe.java:318)\r\n&gt; com.sun.xml.ws.transport.http.client.HttpTransportPipe.createResponsePacket(HttpTransportPipe.java:260)\r\n&gt; com.sun.xml.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:218)\r\n&gt; com.sun.xml.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:131)\r\n&gt; com.sun.xml.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:82)\r\n&gt; com.sun.xml.ws.api.pipe.Fiber.\\__doRun(Fiber.java:1106)\r\n&gt; com.sun.xml.ws.api.pipe.Fiber.\\_doRun(Fiber.java:1020)\r\n&gt; com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:989)\r\n&gt; com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:847)\r\n&gt; com.sun.xml.ws.client.Stub.process(Stub.java:431)\r\n&gt; com.sun.xml.ws.client.sei.SEIStub.doProcess(SEIStub.java:160)\r\n&gt; com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:78)\r\n&gt; com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:62)\r\n&gt; com.sun.xml.ws.client.sei.SEIStub.invoke(SEIStub.java:132)\r\n&gt; jdk.proxy2/jdk.proxy2.$Proxy66.search(Unknown Source)\r\n\r\n\r\n```\r\nnsService = new NetSuiteService(auth.getWebServicesUrl());\r\n\r\n_port = nsService.getNetSuitePort();\r\n\t\t\t\r\n\r\n// login header-=&gt; equivalent to confProile\r\nBinding bind = ((BindingProvider) _port).getBinding();\r\n\r\n@SuppressWarnings(&quot;rawtypes&quot;)\r\nList&lt;Handler&gt; handlersList = new ArrayList&lt;Handler&gt;();\r\n\r\nhandlersList.add(new SOAPHandler&lt;SOAPMessageContext&gt;() {\r\n\r\n@Override\r\npublic boolean handleMessage(SOAPMessageContext context) {\r\n\ttry {\r\n    \tBoolean outboundProperty =       \r\n            (Boolean)context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\r\n\tif (outboundProperty != null &amp;&amp; outboundProperty) {\r\n\t\tMarshaller marshaller = JAXBContext.newInstance(Preferences.class, TokenPassport.class).createMarshaller();\r\n\r\n\t\tSOAPEnvelope env = context.getMessage().getSOAPPart().getEnvelope();\r\n\t\tif (CUtls.objIsNotNull(env.getHeader())) {\r\n\t\t\t\tenv.getHeader().detachNode();\r\n\t\t\t}\r\n\t\t\tSOAPHeader header = env.addHeader();\r\n\r\n\t\tJAXBElement&lt;TokenPassport&gt; tokentPassportElement =\r\n                     objectFactory.createTokenPassport(auth.getTokenPassport());\r\n\t\tJAXBElement&lt;Preferences&gt; preferenceElement = \r\n                     objectFactory.createPreferences(auth.getPreferences());\r\n\r\n\tmarshaller.marshal(preferenceElement, header);\r\n\t\t\t\t\t\t\t     \r\n        marshaller.marshal(tokentPassportElement, header);\r\n\r\n\t}\r\n\r\n\t} catch (final SOAPException e) {\r\n\t\tLogger.error(&quot;SOAPException in handler: {} +&gt; {}&quot;, e, CEx.stackTrace(e));\r\n\t} catch (JAXBException e) {\r\n\t\tLogger.error(&quot;JAXBException in handler: {} +&gt; {}&quot;, e, CEx.stackTrace(e));\r\n\t} catch (UnsupportedEncodingException e) {\r\n\t\tLogger.error(&quot;UnsupportedEncodingException in handler: {} +&gt; {}&quot;, e, CEx.stackTrace(e));\r\n\t}\r\n\r\n\t\treturn true;\r\n\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic boolean handleFault(SOAPMessageContext context) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void close(MessageContext context) {\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Set&lt;QName&gt; getHeaders() {\r\n\t\t\t\treturn new TreeSet&lt;QName&gt;();\r\n\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\tbind.setHandlerChain(handlersList);\r\n\tBindingProvider bindingprovider = (BindingProvider) _port;\r\n\tString endpoint_adr = bindingprovider.getRequestContext().get(BindingProvider.ENDPOINT_ADDRESS_PROPERTY).toString();\r\n\t\t\t\r\n\tendpoint_adr = endpoint_adr.replace(&quot;https://webservices.netsuite.com&quot;, auth.getAccountDomain());\r\n\r\nbindingprovider.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, endpoint_adr);\r\n\r\n\r\n```\r\n\r\n\r\n\r\n**SOLVED**: \r\n\r\nI had to update the endpoint address to be account specific also. I updated the code to reflect the change made to fix the issue.","title":"NetSuite Webservices returning The server sent HTTP status code 410 when updating wsdl to 2019.1 and higher","body":"<p>I'm using the org.apache.cxf wsdl2java maven tool for netsuite wsdl 2023.1. I'm updating from 2018.1. When I try to use the client to perform any action (search, add, get, etc.) the 410 error is returned. In my stack trace, as soon as I try to send a soap request the following is returned:</p>\n<blockquote>\n<p>The server sent HTTP status code 410: Gone, The server sent HTTP status code 410: Gone\ncom.sun.xml.ws.transport.http.client.HttpTransportPipe.checkStatusCode(HttpTransportPipe.java:318)\ncom.sun.xml.ws.transport.http.client.HttpTransportPipe.createResponsePacket(HttpTransportPipe.java:260)\ncom.sun.xml.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:218)\ncom.sun.xml.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:131)\ncom.sun.xml.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:82)\ncom.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1106)\ncom.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1020)\ncom.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:989)\ncom.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:847)\ncom.sun.xml.ws.client.Stub.process(Stub.java:431)\ncom.sun.xml.ws.client.sei.SEIStub.doProcess(SEIStub.java:160)\ncom.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:78)\ncom.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:62)\ncom.sun.xml.ws.client.sei.SEIStub.invoke(SEIStub.java:132)\njdk.proxy2/jdk.proxy2.$Proxy66.search(Unknown Source)</p>\n</blockquote>\n<pre><code>nsService = new NetSuiteService(auth.getWebServicesUrl());\n\n_port = nsService.getNetSuitePort();\n            \n\n// login header-=&gt; equivalent to confProile\nBinding bind = ((BindingProvider) _port).getBinding();\n\n@SuppressWarnings(&quot;rawtypes&quot;)\nList&lt;Handler&gt; handlersList = new ArrayList&lt;Handler&gt;();\n\nhandlersList.add(new SOAPHandler&lt;SOAPMessageContext&gt;() {\n\n@Override\npublic boolean handleMessage(SOAPMessageContext context) {\n    try {\n        Boolean outboundProperty =       \n            (Boolean)context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\n    if (outboundProperty != null &amp;&amp; outboundProperty) {\n        Marshaller marshaller = JAXBContext.newInstance(Preferences.class, TokenPassport.class).createMarshaller();\n\n        SOAPEnvelope env = context.getMessage().getSOAPPart().getEnvelope();\n        if (CUtls.objIsNotNull(env.getHeader())) {\n                env.getHeader().detachNode();\n            }\n            SOAPHeader header = env.addHeader();\n\n        JAXBElement&lt;TokenPassport&gt; tokentPassportElement =\n                     objectFactory.createTokenPassport(auth.getTokenPassport());\n        JAXBElement&lt;Preferences&gt; preferenceElement = \n                     objectFactory.createPreferences(auth.getPreferences());\n\n    marshaller.marshal(preferenceElement, header);\n                                 \n        marshaller.marshal(tokentPassportElement, header);\n\n    }\n\n    } catch (final SOAPException e) {\n        Logger.error(&quot;SOAPException in handler: {} +&gt; {}&quot;, e, CEx.stackTrace(e));\n    } catch (JAXBException e) {\n        Logger.error(&quot;JAXBException in handler: {} +&gt; {}&quot;, e, CEx.stackTrace(e));\n    } catch (UnsupportedEncodingException e) {\n        Logger.error(&quot;UnsupportedEncodingException in handler: {} +&gt; {}&quot;, e, CEx.stackTrace(e));\n    }\n\n        return true;\n        }\n\n            @Override\n            public boolean handleFault(SOAPMessageContext context) {\n                return false;\n            }\n\n            @Override\n            public void close(MessageContext context) {\n            }\n\n            @Override\n            public Set&lt;QName&gt; getHeaders() {\n                return new TreeSet&lt;QName&gt;();\n            }\n\n            });\n\n    bind.setHandlerChain(handlersList);\n    BindingProvider bindingprovider = (BindingProvider) _port;\n    String endpoint_adr = bindingprovider.getRequestContext().get(BindingProvider.ENDPOINT_ADDRESS_PROPERTY).toString();\n            \n    endpoint_adr = endpoint_adr.replace(&quot;https://webservices.netsuite.com&quot;, auth.getAccountDomain());\n\nbindingprovider.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, endpoint_adr);\n\n\n</code></pre>\n<p><strong>SOLVED</strong>:</p>\n<p>I had to update the endpoint address to be account specific also. I updated the code to reflect the change made to fix the issue.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686125102,"creation_date":1686124654,"answer_id":76421077,"question_id":76415934,"body_markdown":"The thing is that `subscriberContext()` methods were deprecated and removed in 3.5.0\r\n\r\nYou should use `contextWrite()` and `deferContextual()` instead.\r\n\r\nDeclare a filter bean like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n    @Component\r\n    public class ReactiveRequestContextFilter implements WebFilter {\r\n    \r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n            return Mono.deferContextual(contextView -&gt; {\r\n                ServerHttpRequest request = exchange.getRequest();\r\n                return chain.filter(exchange)\r\n                        .contextWrite(context -&gt; context.put(ReactiveRequestContextHolder.CONTEXT_KEY, request));\r\n            });\r\n        }\r\n    }\r\n\r\nYour ReactiveRequestContextHolder:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class ReactiveRequestContextHolder {\r\n    \r\n        public static final Class&lt;ServerHttpRequest&gt; CONTEXT_KEY = ServerHttpRequest.class;\r\n    \r\n        public static Mono&lt;ServerHttpRequest&gt; getRequest() {\r\n            return Mono.deferContextual(contextView -&gt; Mono.just(contextView.get(CONTEXT_KEY)));\r\n        }\r\n    }\r\n\r\nAnd your controller, for example:\r\n\r\n&lt;!-- language: java --&gt;\r\n    @GetMapping\r\n    public Mono&lt;String&gt; test() {\r\n       return ReactiveRequestContextHolder.getRequest()\r\n               .map(ServerHttpRequest::getId);\r\n    }\r\n","title":"Spring boot 3 Get Request Object anywhere in Spring WebFlux","body":"<p>The thing is that <code>subscriberContext()</code> methods were deprecated and removed in 3.5.0</p>\n<p>You should use <code>contextWrite()</code> and <code>deferContextual()</code> instead.</p>\n<p>Declare a filter bean like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ReactiveRequestContextFilter implements WebFilter {\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        return Mono.deferContextual(contextView -&gt; {\n            ServerHttpRequest request = exchange.getRequest();\n            return chain.filter(exchange)\n                    .contextWrite(context -&gt; context.put(ReactiveRequestContextHolder.CONTEXT_KEY, request));\n        });\n    }\n}\n</code></pre>\n<p>Your ReactiveRequestContextHolder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ReactiveRequestContextHolder {\n\n    public static final Class&lt;ServerHttpRequest&gt; CONTEXT_KEY = ServerHttpRequest.class;\n\n    public static Mono&lt;ServerHttpRequest&gt; getRequest() {\n        return Mono.deferContextual(contextView -&gt; Mono.just(contextView.get(CONTEXT_KEY)));\n    }\n}\n</code></pre>\n<p>And your controller, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\npublic Mono&lt;String&gt; test() {\n   return ReactiveRequestContextHolder.getRequest()\n           .map(ServerHttpRequest::getId);\n}\n</code></pre>\n"}],"owner":{"account_id":23500831,"reputation":21,"user_id":17550731,"display_name":"Fran&#231;ois Poirier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695932785,"creation_date":1686063441,"question_id":76415934,"body_markdown":"How can I do something similar to Spring boot 2, in Spring boot 3 and the new Spring Webflux / reactor\r\n\r\n```\r\n@Configuration\r\n@ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.REACTIVE)\r\npublic class ReactiveRequestContextFilter implements WebFilter {\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n        ServerHttpRequest request = exchange.getRequest();\r\n        return chain.filter(exchange)\r\n                .subscriberContext(ctx -&gt; ctx.put(ReactiveRequestContextHolder.CONTEXT_KEY, request));\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class ReactiveRequestContextHolder {\r\n    public static final Class&lt;ServerHttpRequest&gt; CONTEXT_KEY = ServerHttpRequest.class;\r\n\r\n    public static Mono&lt;ServerHttpRequest&gt; getRequest() {\r\n        return Mono.subscriberContext()\r\n                .map(ctx -&gt; ctx.get(CONTEXT_KEY));\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n@RestController\r\npublic class GetRequestController {\r\n\r\n    @RequestMapping(&quot;/request&quot;)\r\n    public Mono&lt;String&gt; getRequest() {\r\n        return ReactiveRequestContextHolder.getRequest()\r\n                .map(request -&gt; request.getHeaders().getFirst(&quot;user&quot;));\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nHow can I do something similar to Spring boot 2, in Spring boot 3 and the new Spring Webflux / reactor. A shared reactive context.","title":"Spring boot 3 Get Request Object anywhere in Spring WebFlux","body":"<p>How can I do something similar to Spring boot 2, in Spring boot 3 and the new Spring Webflux / reactor</p>\n<pre><code>@Configuration\n@ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.REACTIVE)\npublic class ReactiveRequestContextFilter implements WebFilter {\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        ServerHttpRequest request = exchange.getRequest();\n        return chain.filter(exchange)\n                .subscriberContext(ctx -&gt; ctx.put(ReactiveRequestContextHolder.CONTEXT_KEY, request));\n    }\n}\n</code></pre>\n<pre><code>public class ReactiveRequestContextHolder {\n    public static final Class&lt;ServerHttpRequest&gt; CONTEXT_KEY = ServerHttpRequest.class;\n\n    public static Mono&lt;ServerHttpRequest&gt; getRequest() {\n        return Mono.subscriberContext()\n                .map(ctx -&gt; ctx.get(CONTEXT_KEY));\n    }\n}\n\n</code></pre>\n<pre><code>@RestController\npublic class GetRequestController {\n\n    @RequestMapping(&quot;/request&quot;)\n    public Mono&lt;String&gt; getRequest() {\n        return ReactiveRequestContextHolder.getRequest()\n                .map(request -&gt; request.getHeaders().getFirst(&quot;user&quot;));\n    }\n}\n</code></pre>\n<p>How can I do something similar to Spring boot 2, in Spring boot 3 and the new Spring Webflux / reactor. A shared reactive context.</p>\n"},{"tags":["java","inputstream"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":4,"creation_date":1453491666,"post_id":34954630,"comment_id":57640830,"body_markdown":"Use a `BufferedReader` and its `readLine` method. Dupe of: http://www.stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java","body":"Use a <code>BufferedReader</code> and its <code>readLine</code> method. Dupe of: <a href=\"http://www.stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java\" title=\"how to read a large text file line by line using java\">stackoverflow.com/questions/5868369/&hellip;</a>"},{"owner":{"account_id":272754,"reputation":4027,"user_id":564005,"accept_rate":55,"display_name":"Nicolas Labrot"},"score":0,"creation_date":1696148227,"post_id":34954630,"comment_id":136114423,"body_markdown":"I disagree that it is a duplicate question. The questions [1] and [2] are about reading from a  file, answers are using API specific to file. Question [3] has been asked *after* that one (10 months after) and has far less votes and tractions, it would have been question [3] to be marked as a duplicated. [1] https://stackoverflow.com/questions/5868369/how-can-i-read-a-large-text-file-line-by-line-using-java [2] https://stackoverflow.com/questions/14825374/reading-a-textfile-using-inputstream [3] https://stackoverflow.com/questions/40250814/read-a-line-of-a-file-using-an-inputstream","body":"I disagree that it is a duplicate question. The questions [1] and [2] are about reading from a  file, answers are using API specific to file. Question [3] has been asked <i>after</i> that one (10 months after) and has far less votes and tractions, it would have been question [3] to be marked as a duplicated. [1] <a href=\"https://stackoverflow.com/questions/5868369/how-can-i-read-a-large-text-file-line-by-line-using-java\" title=\"how can i read a large text file line by line using java\">stackoverflow.com/questions/5868369/&hellip;</a> [2] <a href=\"https://stackoverflow.com/questions/14825374/reading-a-textfile-using-inputstream\" title=\"reading a textfile using inputstream\">stackoverflow.com/questions/14825374/&hellip;</a> [3] <a href=\"https://stackoverflow.com/questions/40250814/read-a-line-of-a-file-using-an-inputstream\" title=\"read a line of a file using an inputstream\">stackoverflow.com/questions/40250814/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5451192,"reputation":1705,"user_id":4335909,"accept_rate":89,"display_name":"Rana"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1453492187,"creation_date":1453492187,"answer_id":34954770,"question_id":34954630,"body_markdown":"For files, the following will let you read each line:\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.util.Scanner;\r\n    import java.io.File;\r\n\r\n    public static void readText throws FileNotFoundException(){\r\n\r\n         Scanner scan = new Scanner(new File(&quot;filename.txt&quot;));\r\n\r\n         while(scan.hasNextLine()){\r\n             String line = scan.nextLine();\r\n        \r\n         }\r\n    }","title":"Read line from an InputStream","body":"<p>For files, the following will let you read each line:</p>\n\n<pre><code>import java.io.FileNotFoundException;\nimport java.util.Scanner;\nimport java.io.File;\n\npublic static void readText throws FileNotFoundException(){\n\n     Scanner scan = new Scanner(new File(\"filename.txt\"));\n\n     while(scan.hasNextLine()){\n         String line = scan.nextLine();\n\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5239073,"reputation":1539,"user_id":4186749,"display_name":"Tommaso Pasini"},"down_vote_count":3,"up_vote_count":107,"is_accepted":true,"score":104,"last_activity_date":1539974741,"creation_date":1453496204,"answer_id":34955813,"question_id":34954630,"body_markdown":"You should use `BufferedReader` with `FileInputStreamReader` if your read from a file\r\n   \r\n\r\n    BufferedReader reader = new BufferedReader(new FileInputStreamReader(pathToFile));\r\n\r\nor with `InputStreamReader` if you read from any other `InputStream`\r\n\r\n   \r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n\r\nThen use its readLine() method in a loop \r\n\r\n   \r\n\r\n    while(reader.ready()) {\r\n         String line = reader.readLine();\r\n    }\r\n\r\nBut if you really love InputStream then you can use a loop like this \r\n\r\n  \r\n\r\n    InputStream stream; \r\n    char c; \r\n    String s = &quot;&quot;; \r\n    do {\r\n       c = stream.read(); \r\n       if (c == &#39;\\n&#39;)\r\n          break; \r\n       s += c + &quot;&quot;;\r\n    } while (c != -1);","title":"Read line from an InputStream","body":"<p>You should use <code>BufferedReader</code> with <code>FileInputStreamReader</code> if your read from a file</p>\n\n<pre><code>BufferedReader reader = new BufferedReader(new FileInputStreamReader(pathToFile));\n</code></pre>\n\n<p>or with <code>InputStreamReader</code> if you read from any other <code>InputStream</code></p>\n\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n</code></pre>\n\n<p>Then use its readLine() method in a loop </p>\n\n<pre><code>while(reader.ready()) {\n     String line = reader.readLine();\n}\n</code></pre>\n\n<p>But if you really love InputStream then you can use a loop like this </p>\n\n<pre><code>InputStream stream; \nchar c; \nString s = \"\"; \ndo {\n   c = stream.read(); \n   if (c == '\\n')\n      break; \n   s += c + \"\";\n} while (c != -1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2576623,"reputation":3906,"user_id":2234161,"accept_rate":0,"display_name":"Memin"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1695932671,"creation_date":1553871263,"answer_id":55420102,"question_id":34954630,"body_markdown":"## TL;DR ##\r\n**Use `BufferedReader` within the `try-with` block, which will close the resource after finishing with it.**\r\n----------\r\n\r\n\r\n----------\r\n\r\n\r\nIt is possible to read the input stream with BufferedReader and with Scanner. If you don&#39;t have a good reason, it is better to use BufferedRead (for broad discussion BufferedReader vs Scanner [see][1]).\r\n\r\nI would also suggest using the Buffered Reader with try-with-resources to make sure the resource are auto-closed. [see][2]\r\n\r\nSee the following code\r\n\r\n\r\n    try (BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream))) {\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            System.out.println(line);\r\n        }\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2231369/scanner-vs-bufferedreader\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Read line from an InputStream","body":"<h2>TL;DR</h2>\n<h2><strong>Use <code>BufferedReader</code> within the <code>try-with</code> block, which will close the resource after finishing with it.</strong></h2>\n<hr />\n<p>It is possible to read the input stream with BufferedReader and with Scanner. If you don't have a good reason, it is better to use BufferedRead (for broad discussion BufferedReader vs Scanner <a href=\"https://stackoverflow.com/questions/2231369/scanner-vs-bufferedreader\">see</a>).</p>\n<p>I would also suggest using the Buffered Reader with try-with-resources to make sure the resource are auto-closed. <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">see</a></p>\n<p>See the following code</p>\n<pre><code>try (BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream))) {\n    String line;\n    while ((line = reader.readLine()) != null) {\n        System.out.println(line);\n    }\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":6553957,"reputation":635,"user_id":5067338,"accept_rate":60,"display_name":"Ahmad Naoum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143369,"favorite_count":0,"down_vote_count":3,"up_vote_count":43,"closed_date":1565348378,"accepted_answer_id":34955813,"answer_count":3,"score":40,"last_activity_date":1695932671,"creation_date":1453491640,"question_id":34954630,"body_markdown":"I&#39;m using an `InputStream` to read some data and I want to read characters until new line or &#39;\\n&#39;. \r\n\r\nThe `InputStream` is a generic input stream of bytes not tight to any specific implementation or any source (like a file).  ","title":"Read line from an InputStream","body":"<p>I'm using an <code>InputStream</code> to read some data and I want to read characters until new line or '\\n'.</p>\n<p>The <code>InputStream</code> is a generic input stream of bytes not tight to any specific implementation or any source (like a file).</p>\n"},{"tags":["java","spring","spring-boot","properties"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1485651169,"post_id":41916042,"comment_id":71014415,"body_markdown":"I don&#39;t *think* this is valid per se--but if you&#39;re setting those values in a constructor, you could get an exception thrown there (either explicitly in the constructor or implicitly if Spring checks for presence).","body":"I don&#39;t <i>think</i> this is valid per se--but if you&#39;re setting those values in a constructor, you could get an exception thrown there (either explicitly in the constructor or implicitly if Spring checks for presence)."},{"owner":{"account_id":2414424,"reputation":426,"user_id":2108807,"accept_rate":100,"display_name":"Strumbles"},"score":0,"creation_date":1485728849,"post_id":41916042,"comment_id":71033904,"body_markdown":"That&#39;s a good idea. If constructor gets run on an autoconfigure class before any beans are instantiated, maybe i could somehow prevent beans from being created? Unfortunately i can&#39;t throw exceptions cause forgetting the props shouldn&#39;t be fatal.","body":"That&#39;s a good idea. If constructor gets run on an autoconfigure class before any beans are instantiated, maybe i could somehow prevent beans from being created? Unfortunately i can&#39;t throw exceptions cause forgetting the props shouldn&#39;t be fatal."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1485750005,"post_id":41916042,"comment_id":71038395,"body_markdown":"Why not? You have a half-configured bean.","body":"Why not? You have a half-configured bean."},{"owner":{"account_id":2414424,"reputation":426,"user_id":2108807,"accept_rate":100,"display_name":"Strumbles"},"score":0,"creation_date":1485757944,"post_id":41916042,"comment_id":71040567,"body_markdown":"Ya, if the bean&#39;s half configured at construction, then constructor won&#39;t work. `@Autoconfiguration` and `@Conditionals` prevent the beans from ever being created. The idea is the user depends on a jar with the autoconfigurations, but it shouldn&#39;t prevent their app from loading by throwing fatals.","body":"Ya, if the bean&#39;s half configured at construction, then constructor won&#39;t work. <code>@Autoconfiguration</code> and <code>@Conditionals</code> prevent the beans from ever being created. The idea is the user depends on a jar with the autoconfigurations, but it shouldn&#39;t prevent their app from loading by throwing fatals."}],"answers":[{"tags":[],"owner":{"account_id":2414424,"reputation":426,"user_id":2108807,"accept_rate":100,"display_name":"Strumbles"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1485823388,"creation_date":1485823388,"answer_id":41947940,"question_id":41916042,"body_markdown":"This is the custom `Condition` I created. It needs some polishing to be more generic (ie not hardcoding strings), but worked great for me.\r\n\r\nTo use, I annotated my Configuration class with `@Conditional(RequiredRepeatablePropertiesCondition.class)`\r\n\r\n    public class RequiredRepeatablePropertiesCondition extends SpringBootCondition {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(RequiredRepeatablePropertiesCondition.class.getName());\r\n    \r\n        public static final String[] REQUIRED_KEYS = {\r\n                &quot;my.services[i].version&quot;,\r\n                &quot;my.services[i].name&quot;\r\n        };\r\n    \r\n        @Override\r\n        public ConditionOutcome getMatchOutcome(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n            List&lt;String&gt; missingProperties = new ArrayList&lt;&gt;();\r\n            RelaxedPropertyResolver resolver = new RelaxedPropertyResolver(context.getEnvironment());\r\n            Map&lt;String, Object&gt; services = resolver.getSubProperties(&quot;my.services&quot;);\r\n            if (services.size() == 0) {\r\n                missingProperties.addAll(Arrays.asList(REQUIRED_KEYS));\r\n                return getConditionOutcome(missingProperties);\r\n            }\r\n            //gather indexes to check: [0], [1], [3], etc\r\n            Pattern p = Pattern.compile(&quot;\\\\[(\\\\d+)\\\\]&quot;);\r\n            Set&lt;String&gt; uniqueIndexes = new HashSet&lt;String&gt;();\r\n            for (String key : services.keySet()) {\r\n                Matcher m = p.matcher(key);\r\n                if (m.find()) {\r\n                    uniqueIndexes.add(m.group(1));\r\n                }\r\n            }\r\n            //loop each index and check required props\r\n            uniqueIndexes.forEach(index -&gt; {\r\n                for (String genericKey : REQUIRED_KEYS) {\r\n                    String multiServiceKey = genericKey.replace(&quot;[i]&quot;, &quot;[&quot; + index + &quot;]&quot;);\r\n                    if (!resolver.containsProperty(multiServiceKey)) {\r\n                        missingProperties.add(multiServiceKey);\r\n                    }\r\n                }\r\n            });\r\n            return getConditionOutcome(missingProperties);\r\n        }\r\n    \r\n        private ConditionOutcome getConditionOutcome(List&lt;String&gt; missingProperties) {\r\n            if (missingProperties.isEmpty()) {\r\n                return ConditionOutcome.match(ConditionMessage.forCondition(RequiredRepeatablePropertiesCondition.class.getCanonicalName())\r\n                        .found(&quot;property&quot;, &quot;properties&quot;)\r\n                        .items(Arrays.asList(REQUIRED_KEYS)));\r\n            }\r\n            return ConditionOutcome.noMatch(\r\n                    ConditionMessage.forCondition(RequiredRepeatablePropertiesCondition.class.getCanonicalName())\r\n                .didNotFind(&quot;property&quot;, &quot;properties&quot;)\r\n                .items(missingProperties)\r\n            );\r\n        }\r\n    }","title":"@ConditionalOnProperty for lists or arrays?","body":"<p>This is the custom <code>Condition</code> I created. It needs some polishing to be more generic (ie not hardcoding strings), but worked great for me.</p>\n\n<p>To use, I annotated my Configuration class with <code>@Conditional(RequiredRepeatablePropertiesCondition.class)</code></p>\n\n<pre><code>public class RequiredRepeatablePropertiesCondition extends SpringBootCondition {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(RequiredRepeatablePropertiesCondition.class.getName());\n\n    public static final String[] REQUIRED_KEYS = {\n            \"my.services[i].version\",\n            \"my.services[i].name\"\n    };\n\n    @Override\n    public ConditionOutcome getMatchOutcome(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        List&lt;String&gt; missingProperties = new ArrayList&lt;&gt;();\n        RelaxedPropertyResolver resolver = new RelaxedPropertyResolver(context.getEnvironment());\n        Map&lt;String, Object&gt; services = resolver.getSubProperties(\"my.services\");\n        if (services.size() == 0) {\n            missingProperties.addAll(Arrays.asList(REQUIRED_KEYS));\n            return getConditionOutcome(missingProperties);\n        }\n        //gather indexes to check: [0], [1], [3], etc\n        Pattern p = Pattern.compile(\"\\\\[(\\\\d+)\\\\]\");\n        Set&lt;String&gt; uniqueIndexes = new HashSet&lt;String&gt;();\n        for (String key : services.keySet()) {\n            Matcher m = p.matcher(key);\n            if (m.find()) {\n                uniqueIndexes.add(m.group(1));\n            }\n        }\n        //loop each index and check required props\n        uniqueIndexes.forEach(index -&gt; {\n            for (String genericKey : REQUIRED_KEYS) {\n                String multiServiceKey = genericKey.replace(\"[i]\", \"[\" + index + \"]\");\n                if (!resolver.containsProperty(multiServiceKey)) {\n                    missingProperties.add(multiServiceKey);\n                }\n            }\n        });\n        return getConditionOutcome(missingProperties);\n    }\n\n    private ConditionOutcome getConditionOutcome(List&lt;String&gt; missingProperties) {\n        if (missingProperties.isEmpty()) {\n            return ConditionOutcome.match(ConditionMessage.forCondition(RequiredRepeatablePropertiesCondition.class.getCanonicalName())\n                    .found(\"property\", \"properties\")\n                    .items(Arrays.asList(REQUIRED_KEYS)));\n        }\n        return ConditionOutcome.noMatch(\n                ConditionMessage.forCondition(RequiredRepeatablePropertiesCondition.class.getCanonicalName())\n            .didNotFind(\"property\", \"properties\")\n            .items(missingProperties)\n        );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1546785,"reputation":944,"user_id":1440162,"display_name":"zegee29"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573134771,"creation_date":1573134771,"answer_id":58750228,"question_id":41916042,"body_markdown":"Old question, but I hope my answer will help for Spring2.x:\r\nThanks to @Brian, I checked migration guide, where I was inspired by example code. This code works for me:\r\n\r\n    final List&lt;String&gt; services = Binder.get(context.getEnvironment()).bind(&quot;my.services&quot;, List.class).orElse(null);\r\n\r\nI did try to get List of POJO (as AutoConfigureService) but my class differs from AutoConfigureServices. For that purpose, I used:\r\n\r\n    final Services services = Binder.get(context.getEnvironment()).bind(&quot;my.services&quot;, Services.class).orElse(null);\r\n\r\nWell, keep playing :-D","title":"@ConditionalOnProperty for lists or arrays?","body":"<p>Old question, but I hope my answer will help for Spring2.x:\nThanks to @Brian, I checked migration guide, where I was inspired by example code. This code works for me:</p>\n\n<pre><code>final List&lt;String&gt; services = Binder.get(context.getEnvironment()).bind(\"my.services\", List.class).orElse(null);\n</code></pre>\n\n<p>I did try to get List of POJO (as AutoConfigureService) but my class differs from AutoConfigureServices. For that purpose, I used:</p>\n\n<pre><code>final Services services = Binder.get(context.getEnvironment()).bind(\"my.services\", Services.class).orElse(null);\n</code></pre>\n\n<p>Well, keep playing :-D</p>\n"},{"tags":[],"owner":{"account_id":5058317,"reputation":71,"user_id":4060808,"display_name":"Tomasz Krug"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607952656,"creation_date":1607949788,"answer_id":65289200,"question_id":41916042,"body_markdown":"Here&#39;s my take on this issue with the use of custom conditions in Spring autoconfiguration. Somewhat similar to what @Strumbels proposed but more reusable.\r\n\r\n`@Conditional` annotations are executed very early in during the application startup. Properties sources are already loaded but ConfgurationProperties beans are not yet created. However we can work around that issue by binding properties to Java POJO ourselves.\r\n\r\nFirst I introduce a functional interface which will enable us to define any custom logic checking if properties are in fact present or not. In your case this method will take care of checking if the property List is empty/null and if all items within are valid.\r\n\r\n```java\r\npublic interface OptionalProperties {\r\n  boolean isPresent();\r\n}\r\n```\r\n\r\nNow let&#39;s create an annotation which will be metannotated with Spring `@Conditional` and allow us to define custom parameters. `prefix` represents the property namespace and `targetClass` represents the configuration properties model class to which properties should be mapped.\r\n\r\n```java\r\n@Target({ElementType.TYPE, ElementType.METHOD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Conditional(OnConfigurationPropertiesCondition.class)\r\npublic @interface ConditionalOnConfigurationProperties {\r\n\r\n  String prefix();\r\n\r\n  Class&lt;? extends OptionalProperties&gt; targetClass();\r\n\r\n}\r\n```\r\n\r\nAnd now the main part. The custom condition implementation.\r\n\r\n```java\r\npublic class OnConfigurationPropertiesCondition extends SpringBootCondition {\r\n\r\n  @Override\r\n  public ConditionOutcome getMatchOutcome(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n    MergedAnnotation&lt;ConditionalOnConfigurationProperties&gt; mergedAnnotation = metadata.getAnnotations().get(ConditionalOnConfigurationProperties.class);\r\n    String prefix = mergedAnnotation.getString(&quot;prefix&quot;);\r\n    Class&lt;?&gt; targetClass = mergedAnnotation.getClass(&quot;targetClass&quot;);\r\n    // type precondition\r\n    if (!OptionalProperties.class.isAssignableFrom(targetClass)) {\r\n      return ConditionOutcome.noMatch(&quot;Target type does not implement the OptionalProperties interface.&quot;);\r\n    }\r\n    // the crux of this solution, binding properties to Java POJO\r\n    Object bean = Binder.get(context.getEnvironment()).bind(prefix, targetClass).orElse(null);\r\n    // if properties are not present at all return no match\r\n    if (bean == null) {\r\n      return ConditionOutcome.noMatch(&quot;Binding properties to target type resulted in null value.&quot;);\r\n    }\r\n    OptionalProperties props = (OptionalProperties) bean;\r\n\r\n    // execute method from OptionalProperties interface \r\n    // to check if condition should be matched or not\r\n    // can include any custom logic using property values in a type safe manner\r\n    if (props.isPresent()) {\r\n      return ConditionOutcome.match();\r\n    } else {\r\n      return ConditionOutcome.noMatch(&quot;Properties are not present.&quot;);\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n\r\nNow you should create your own configuration properties class implementing `OptionalProperties` interface.\r\n\r\n```java\r\n@ConfigurationProperties(&quot;your.property.prefix&quot;)\r\n@ConstructorBinding\r\npublic class YourConfigurationProperties implements OptionalProperties {\r\n\r\n  // Service is your POJO representing the name and version subproperties\r\n  private final List&lt;Service&gt; services;\r\n\r\n  @Override\r\n  public boolean isPresent() {\r\n    return services != null &amp;&amp; services.stream().all(Service::isValid);\r\n  }\r\n\r\n}\r\n```\r\n\r\nAnd then in Spring `@Configuration` class.\r\n\r\n```java\r\n@Configuration\r\n@ConditionalOnConfigurationProperties(prefix = &quot;&quot;, targetClass = YourConfigurationProperties.class)\r\nclass AutoConfigureServices {\r\n....\r\n} \r\n```\r\n\r\nThere are two downsides to this solution:\r\n* Property prefix must be specified in two locations: on `@ConfigurationProperties` annotation and on `@ConditionalOnConfigurationProperties` annotation. This can partially be alleviated by defining a `public static final String PREFIX = &quot;namespace&quot;` in your configuration properties POJO.\r\n* Property binding process is executed separately for each use of our custom conditional annotation and then once again to create the configuration properties bean itself. It happens only during app startup so it shouldn&#39;t be an issue but it still is an inefficiency.","title":"@ConditionalOnProperty for lists or arrays?","body":"<p>Here's my take on this issue with the use of custom conditions in Spring autoconfiguration. Somewhat similar to what @Strumbels proposed but more reusable.</p>\n<p><code>@Conditional</code> annotations are executed very early in during the application startup. Properties sources are already loaded but ConfgurationProperties beans are not yet created. However we can work around that issue by binding properties to Java POJO ourselves.</p>\n<p>First I introduce a functional interface which will enable us to define any custom logic checking if properties are in fact present or not. In your case this method will take care of checking if the property List is empty/null and if all items within are valid.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface OptionalProperties {\n  boolean isPresent();\n}\n</code></pre>\n<p>Now let's create an annotation which will be metannotated with Spring <code>@Conditional</code> and allow us to define custom parameters. <code>prefix</code> represents the property namespace and <code>targetClass</code> represents the configuration properties model class to which properties should be mapped.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.TYPE, ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Conditional(OnConfigurationPropertiesCondition.class)\npublic @interface ConditionalOnConfigurationProperties {\n\n  String prefix();\n\n  Class&lt;? extends OptionalProperties&gt; targetClass();\n\n}\n</code></pre>\n<p>And now the main part. The custom condition implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OnConfigurationPropertiesCondition extends SpringBootCondition {\n\n  @Override\n  public ConditionOutcome getMatchOutcome(ConditionContext context, AnnotatedTypeMetadata metadata) {\n    MergedAnnotation&lt;ConditionalOnConfigurationProperties&gt; mergedAnnotation = metadata.getAnnotations().get(ConditionalOnConfigurationProperties.class);\n    String prefix = mergedAnnotation.getString(&quot;prefix&quot;);\n    Class&lt;?&gt; targetClass = mergedAnnotation.getClass(&quot;targetClass&quot;);\n    // type precondition\n    if (!OptionalProperties.class.isAssignableFrom(targetClass)) {\n      return ConditionOutcome.noMatch(&quot;Target type does not implement the OptionalProperties interface.&quot;);\n    }\n    // the crux of this solution, binding properties to Java POJO\n    Object bean = Binder.get(context.getEnvironment()).bind(prefix, targetClass).orElse(null);\n    // if properties are not present at all return no match\n    if (bean == null) {\n      return ConditionOutcome.noMatch(&quot;Binding properties to target type resulted in null value.&quot;);\n    }\n    OptionalProperties props = (OptionalProperties) bean;\n\n    // execute method from OptionalProperties interface \n    // to check if condition should be matched or not\n    // can include any custom logic using property values in a type safe manner\n    if (props.isPresent()) {\n      return ConditionOutcome.match();\n    } else {\n      return ConditionOutcome.noMatch(&quot;Properties are not present.&quot;);\n    }\n  }\n\n}\n</code></pre>\n<p>Now you should create your own configuration properties class implementing <code>OptionalProperties</code> interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(&quot;your.property.prefix&quot;)\n@ConstructorBinding\npublic class YourConfigurationProperties implements OptionalProperties {\n\n  // Service is your POJO representing the name and version subproperties\n  private final List&lt;Service&gt; services;\n\n  @Override\n  public boolean isPresent() {\n    return services != null &amp;&amp; services.stream().all(Service::isValid);\n  }\n\n}\n</code></pre>\n<p>And then in Spring <code>@Configuration</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ConditionalOnConfigurationProperties(prefix = &quot;&quot;, targetClass = YourConfigurationProperties.class)\nclass AutoConfigureServices {\n....\n} \n</code></pre>\n<p>There are two downsides to this solution:</p>\n<ul>\n<li>Property prefix must be specified in two locations: on <code>@ConfigurationProperties</code> annotation and on <code>@ConditionalOnConfigurationProperties</code> annotation. This can partially be alleviated by defining a <code>public static final String PREFIX = &quot;namespace&quot;</code> in your configuration properties POJO.</li>\n<li>Property binding process is executed separately for each use of our custom conditional annotation and then once again to create the configuration properties bean itself. It happens only during app startup so it shouldn't be an issue but it still is an inefficiency.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7164076,"reputation":9426,"user_id":5473824,"display_name":"Adrian Baker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637723364,"creation_date":1637723364,"answer_id":70090292,"question_id":41916042,"body_markdown":"You can leverage the `org.springframework.boot.autoconfigure.condition.OnPropertyListCondition` class. For example, given you want to check for the `service` property having at least one value:\r\n\r\n    class MyListCondition extends OnPropertyListCondition {\r\n        MyListCondition() {\r\n            super(&quot;service&quot;, () -&gt; ConditionMessage.forCondition(&quot;service&quot;));\r\n        }\r\n    }\r\n---\r\n    @Configuration\r\n    @Condition(MyListCondition.class)\r\n    class AutoConfigureServices {\r\n\r\n    }\r\n\r\nSee the [org.springframework.boot.autoconfigure.webservices.OnWsdlLocationsCondition][1] used on [org.springframework.boot.autoconfigure.webservices.WebServicesAutoConfiguration#wsdlDefinitionBeanFactoryPostProcessor][2] for an example within Spring itself.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/v2.5.7/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/webservices/OnWsdlLocationsCondition.java\r\n  [2]: https://github.com/spring-projects/spring-boot/blob/v2.5.7/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/webservices/WebServicesAutoConfiguration.java#L85","title":"@ConditionalOnProperty for lists or arrays?","body":"<p>You can leverage the <code>org.springframework.boot.autoconfigure.condition.OnPropertyListCondition</code> class. For example, given you want to check for the <code>service</code> property having at least one value:</p>\n<pre><code>class MyListCondition extends OnPropertyListCondition {\n    MyListCondition() {\n        super(&quot;service&quot;, () -&gt; ConditionMessage.forCondition(&quot;service&quot;));\n    }\n}\n</code></pre>\n<hr />\n<pre><code>@Configuration\n@Condition(MyListCondition.class)\nclass AutoConfigureServices {\n\n}\n</code></pre>\n<p>See the <a href=\"https://github.com/spring-projects/spring-boot/blob/v2.5.7/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/webservices/OnWsdlLocationsCondition.java\" rel=\"nofollow noreferrer\">org.springframework.boot.autoconfigure.webservices.OnWsdlLocationsCondition</a> used on <a href=\"https://github.com/spring-projects/spring-boot/blob/v2.5.7/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/webservices/WebServicesAutoConfiguration.java#L85\" rel=\"nofollow noreferrer\">org.springframework.boot.autoconfigure.webservices.WebServicesAutoConfiguration#wsdlDefinitionBeanFactoryPostProcessor</a> for an example within Spring itself.</p>\n"},{"tags":[],"owner":{"account_id":3612161,"reputation":3430,"user_id":3012916,"display_name":"nekperu15739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695931986,"creation_date":1695931986,"answer_id":77197988,"question_id":41916042,"body_markdown":"As i understand, your problem its how to validate mandatory fields, for it my suggestion will be use a @ConfigurationProperties(&quot;root&quot;) annotation, and then add all fields as @NotNull like this:\r\n\r\n    @Getter\r\n    @Validated\r\n    @RequiredArgsConstructor\r\n    @ConfigurationProperties(&quot;root&quot;)\r\n    public class YourProperties {\r\n    \r\n      private final Set&lt;Item&gt; service;\r\n    \r\n      @Getter\r\n      @Validated\r\n      @RequiredArgsConstructor\r\n      public static class Item {\r\n    \r\n        @NotNull\r\n        private final String name;\r\n    \r\n        @NotNull\r\n        private final String version;\r\n      }\r\n    }\r\n\r\n\r\nIn case you prefer continue with conditional approach you could use ConditionalOnExpression, however, should be aware that number of items its unlimited:\r\n\r\n    @ConditionalOnExpression(&quot;#{T(org.springframework.util.StringUtils).hasText(&#39;${service[0].name}&#39;)}&quot;)\r\n\r\n","title":"@ConditionalOnProperty for lists or arrays?","body":"<p>As i understand, your problem its how to validate mandatory fields, for it my suggestion will be use a @ConfigurationProperties(&quot;root&quot;) annotation, and then add all fields as @NotNull like this:</p>\n<pre><code>@Getter\n@Validated\n@RequiredArgsConstructor\n@ConfigurationProperties(&quot;root&quot;)\npublic class YourProperties {\n\n  private final Set&lt;Item&gt; service;\n\n  @Getter\n  @Validated\n  @RequiredArgsConstructor\n  public static class Item {\n\n    @NotNull\n    private final String name;\n\n    @NotNull\n    private final String version;\n  }\n}\n</code></pre>\n<p>In case you prefer continue with conditional approach you could use ConditionalOnExpression, however, should be aware that number of items its unlimited:</p>\n<pre><code>@ConditionalOnExpression(&quot;#{T(org.springframework.util.StringUtils).hasText('${service[0].name}')}&quot;)\n</code></pre>\n"}],"owner":{"account_id":2414424,"reputation":426,"user_id":2108807,"accept_rate":100,"display_name":"Strumbles"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6682,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":41947940,"answer_count":5,"score":8,"last_activity_date":1695931986,"creation_date":1485646101,"question_id":41916042,"body_markdown":"I&#39;m using Spring Boot 1.4.3 `@AutoConfiguration` where I create beans automatically based on properties user specifies.  User can specify an array of services, where **name** and **version** are required fields:\r\n\r\n    service[0].name=myServiceA\r\n    service[0].version=1.0\r\n\r\n    service[1].name=myServiceB\r\n    service[1].version=1.2\r\n\r\n    ...\r\n\r\nIf the user forgets to specify a required field on even just one service, I want to back-off and not create any beans.  Can I accomplish this with `@ConditionalOnProperty`? I want something like:\r\n\r\n    @Configuration\r\n    @ConditionalOnProperty({&quot;service[i].name&quot;, &quot;service[i].version&quot;})\r\n    class AutoConfigureServices {\r\n    ....\r\n    } \r\n\r\n","title":"@ConditionalOnProperty for lists or arrays?","body":"<p>I'm using Spring Boot 1.4.3 <code>@AutoConfiguration</code> where I create beans automatically based on properties user specifies.  User can specify an array of services, where <strong>name</strong> and <strong>version</strong> are required fields:</p>\n\n<pre><code>service[0].name=myServiceA\nservice[0].version=1.0\n\nservice[1].name=myServiceB\nservice[1].version=1.2\n\n...\n</code></pre>\n\n<p>If the user forgets to specify a required field on even just one service, I want to back-off and not create any beans.  Can I accomplish this with <code>@ConditionalOnProperty</code>? I want something like:</p>\n\n<pre><code>@Configuration\n@ConditionalOnProperty({\"service[i].name\", \"service[i].version\"})\nclass AutoConfigureServices {\n....\n} \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1695914800,"post_id":77196284,"comment_id":136090274,"body_markdown":"What&#39;s `headOpt`? Also, is there some `nextInt()`, `next()` or similare before the loop?","body":"What&#39;s <code>headOpt</code>? Also, is there some <code>nextInt()</code>, <code>next()</code> or similare before the loop?"}],"answers":[{"tags":[],"owner":{"account_id":11280063,"reputation":23,"user_id":8272854,"display_name":"Kyle Dumouchelle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695915471,"creation_date":1695915471,"answer_id":77196385,"question_id":77196284,"body_markdown":"If you&#39;re trying to use each option once, why are you using an equals check instead of just checking the value of i? If your array headOpt[] has equal values, it&#39;ll enter the if statement on that value. \r\n\r\nThis should probably be better. Intuitively I want to remove the items that are supposed to only execute once and put them in a sequential code, but it&#39;s hard to do so without knowing your code while still respecting headers.length. You can also write it as a switch statement for clarity.\r\n\r\n    for(i=0;i&lt;headers.length;i++) {\r\n                if(headers[i] == true) {\r\n                    if(i == 0) {\r\n                        System.out.println(&quot;\\nType a valid date in the format M/DD/YYYY&quot;);\r\n                        date = scan.nextLine();\r\n                    }\r\n                    else if(i == 1) {\r\n                        System.out.println(&quot;\\nType a valid state. Please print out the full name&quot;);\r\n                        state = scan.nextLine();\r\n                    }\r\n                    else if(i == 2) {\r\n                        System.out.println(&quot;\\nPlease select a race &quot;);\r\n                        race = scan.nextLine();\r\n                    }\r\n                    else if(i == 3) {\r\n                        System.out.println(&quot;\\nType an average income&quot;);\r\n                        medIncome = scan.nextLine();\r\n                    }\r\n                    else if(i == 4) {\r\n                        System.out.println(&quot;\\nType the % Bachelor&#39;s Degree or Higher&quot;);\r\n                        bachDegree = scan.nextLine();\r\n                        \r\n                    }\r\n                    else if(i == 5) {\r\n                        System.out.println(&quot;\\nType the Clinton margin of improvement&quot;);\r\n                        clintImprov = scan.nextLine();\r\n                    }\r\n                    else {\r\n                        System.out.println(&quot;\\nType  the dem margin of improvement&quot;);\r\n                        marginImprov = scan.nextLine();\r\n                    }\r\n                }\r\n            }","title":"The console double prints a line im not sure why","body":"<p>If you're trying to use each option once, why are you using an equals check instead of just checking the value of i? If your array headOpt[] has equal values, it'll enter the if statement on that value.</p>\n<p>This should probably be better. Intuitively I want to remove the items that are supposed to only execute once and put them in a sequential code, but it's hard to do so without knowing your code while still respecting headers.length. You can also write it as a switch statement for clarity.</p>\n<pre><code>for(i=0;i&lt;headers.length;i++) {\n            if(headers[i] == true) {\n                if(i == 0) {\n                    System.out.println(&quot;\\nType a valid date in the format M/DD/YYYY&quot;);\n                    date = scan.nextLine();\n                }\n                else if(i == 1) {\n                    System.out.println(&quot;\\nType a valid state. Please print out the full name&quot;);\n                    state = scan.nextLine();\n                }\n                else if(i == 2) {\n                    System.out.println(&quot;\\nPlease select a race &quot;);\n                    race = scan.nextLine();\n                }\n                else if(i == 3) {\n                    System.out.println(&quot;\\nType an average income&quot;);\n                    medIncome = scan.nextLine();\n                }\n                else if(i == 4) {\n                    System.out.println(&quot;\\nType the % Bachelor's Degree or Higher&quot;);\n                    bachDegree = scan.nextLine();\n                    \n                }\n                else if(i == 5) {\n                    System.out.println(&quot;\\nType the Clinton margin of improvement&quot;);\n                    clintImprov = scan.nextLine();\n                }\n                else {\n                    System.out.println(&quot;\\nType  the dem margin of improvement&quot;);\n                    marginImprov = scan.nextLine();\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695916276,"creation_date":1695916276,"answer_id":77196483,"question_id":77196284,"body_markdown":"You are looping `headers` and according to your problem statement more than one message is being displayed. Which strongly suggests that `headers[i]` is not properly set to `false` once its corresponding value has successfully loaded. You will also need to check for the value of `i` rather than comparing it to other stuff:\r\n\r\n```\r\nfor (i = 0; i &lt; headers.length; i++) {\r\n    if (headers[i]) { //assuming it&#39;s boolean\r\n        switch (i) {\r\n            case 0 {\r\n                /* Some logic here */\r\n            } break;\r\n            case 1 {\r\n                /* Some logic here */\r\n            } break;\r\n            case 2 {\r\n                /* Some logic here */\r\n            } break;\r\n            headers[i] = false; // Making sure that we are not asking later for the same thing again\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI do not open the next `headers` element here by setting it to true because you might be setting it to true somewhere else. If this is not enough for a solution for you, then you might want to provide us more information.","title":"The console double prints a line im not sure why","body":"<p>You are looping <code>headers</code> and according to your problem statement more than one message is being displayed. Which strongly suggests that <code>headers[i]</code> is not properly set to <code>false</code> once its corresponding value has successfully loaded. You will also need to check for the value of <code>i</code> rather than comparing it to other stuff:</p>\n<pre><code>for (i = 0; i &lt; headers.length; i++) {\n    if (headers[i]) { //assuming it's boolean\n        switch (i) {\n            case 0 {\n                /* Some logic here */\n            } break;\n            case 1 {\n                /* Some logic here */\n            } break;\n            case 2 {\n                /* Some logic here */\n            } break;\n            headers[i] = false; // Making sure that we are not asking later for the same thing again\n        }\n    }\n}\n</code></pre>\n<p>I do not open the next <code>headers</code> element here by setting it to true because you might be setting it to true somewhere else. If this is not enough for a solution for you, then you might want to provide us more information.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695931840,"creation_date":1695931259,"answer_id":77197938,"question_id":77196284,"body_markdown":"Here is a recommendation.\r\n\r\nReduce the _if-else_ code by using a _method_.\r\n\r\n```java\r\nstatic String in(String s) {\r\n    System.out.println(s);\r\n    return scan.nextLine();\r\n}\r\n```\r\n\r\nAnd, re-name _headOpt_.\r\n\r\n```java\r\nif(h[i] == h[0]) date = in(&quot;\\nType a valid date in the format M/DD/YYYY&quot;);\r\nelse if(h[i] == h[1]) state = in(&quot;\\nType a valid state. Please print out the full name&quot;);\r\nelse if(h[i] == h[2]) race = in(&quot;\\nPlease select a race &quot;);\r\nelse if(h[i] == h[3]) medIncome = in(&quot;\\nType an average income&quot;);\r\nelse if(h[i] == h[4]) bachDegree = in(&quot;\\nType the % Bachelor&#39;s Degree or Higher&quot;);\r\nelse if(h[i] == h[5]) clintImprov = in(&quot;\\nType the Clinton margin of improvement&quot;);\r\nelse marginImprov = in(&quot;\\nType  the dem margin of improvement&quot;);\r\n```\r\n\r\nOr, utilize a _[Map](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html)_.\r\n\r\n```java\r\nMap&lt;String, String&gt; m = new HashMap&lt;&gt;() {{\r\n    put(&quot;date&quot;, &quot;\\nType a valid date in the format M/DD/YYYY&quot;);\r\n    put(&quot;state&quot;, &quot;\\nType a valid state. Please print out the full name&quot;);\r\n    put(&quot;race&quot;, &quot;\\nPlease select a race &quot;);\r\n    put(&quot;medIncome&quot;, &quot;\\nType an average income&quot;);\r\n    put(&quot;bachDegree&quot;, &quot;\\nType the % Bachelor&#39;s Degree or Higher&quot;);\r\n    put(&quot;clintImprov&quot;, &quot;\\nType the Clinton margin of improvement&quot;);\r\n    put(&quot;marginImprov&quot;, &quot;\\nType  the dem margin of improvement&quot;);\r\n}};\r\n```\r\n\r\n```java\r\nString s = in(m.get(&quot;date&quot;));\r\n```","title":"The console double prints a line im not sure why","body":"<p>Here is a recommendation.</p>\n<p>Reduce the <em>if-else</em> code by using a <em>method</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String in(String s) {\n    System.out.println(s);\n    return scan.nextLine();\n}\n</code></pre>\n<p>And, re-name <em>headOpt</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(h[i] == h[0]) date = in(&quot;\\nType a valid date in the format M/DD/YYYY&quot;);\nelse if(h[i] == h[1]) state = in(&quot;\\nType a valid state. Please print out the full name&quot;);\nelse if(h[i] == h[2]) race = in(&quot;\\nPlease select a race &quot;);\nelse if(h[i] == h[3]) medIncome = in(&quot;\\nType an average income&quot;);\nelse if(h[i] == h[4]) bachDegree = in(&quot;\\nType the % Bachelor's Degree or Higher&quot;);\nelse if(h[i] == h[5]) clintImprov = in(&quot;\\nType the Clinton margin of improvement&quot;);\nelse marginImprov = in(&quot;\\nType  the dem margin of improvement&quot;);\n</code></pre>\n<p>Or, utilize a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; m = new HashMap&lt;&gt;() {{\n    put(&quot;date&quot;, &quot;\\nType a valid date in the format M/DD/YYYY&quot;);\n    put(&quot;state&quot;, &quot;\\nType a valid state. Please print out the full name&quot;);\n    put(&quot;race&quot;, &quot;\\nPlease select a race &quot;);\n    put(&quot;medIncome&quot;, &quot;\\nType an average income&quot;);\n    put(&quot;bachDegree&quot;, &quot;\\nType the % Bachelor's Degree or Higher&quot;);\n    put(&quot;clintImprov&quot;, &quot;\\nType the Clinton margin of improvement&quot;);\n    put(&quot;marginImprov&quot;, &quot;\\nType  the dem margin of improvement&quot;);\n}};\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String s = in(m.get(&quot;date&quot;));\n</code></pre>\n"}],"owner":{"account_id":29556845,"reputation":1,"user_id":22652339,"display_name":"africancoder101"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695931840,"creation_date":1695914568,"question_id":77196284,"body_markdown":"i have a for loop with if statements and it always prints the first and then the second one right after\r\n```\r\nfor(i=0;i&lt;headers.length;i++) {\r\n\t\t\t\tif(headers[i] == true) {\r\n\t\t\t\t\tif(headOpt[i] == headOpt[0]) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\nType a valid date in the format M/DD/YYYY&quot;);\r\n\t\t\t\t\t\tdate = scan.nextLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(headOpt[i] == headOpt[1]) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\nType a valid state. Please print out the full name&quot;);\r\n\t\t\t\t\t\tstate = scan.nextLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(headOpt[i] == headOpt[2]) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\nPlease select a race &quot;);\r\n\t\t\t\t\t\trace = scan.nextLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(headOpt[i] == headOpt[3]) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\nType an average income&quot;);\r\n\t\t\t\t\t\tmedIncome = scan.nextLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(headOpt[i] == headOpt[4]) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\nType the % Bachelor&#39;s Degree or Higher&quot;);\r\n\t\t\t\t\t\tbachDegree = scan.nextLine();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(headOpt[i] == headOpt[5]) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\nType the Clinton margin of improvement&quot;);\r\n\t\t\t\t\t\tclintImprov = scan.nextLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\nType  the dem margin of improvement&quot;);\r\n\t\t\t\t\t\tmarginImprov = scan.nextLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n```\r\n\r\n\r\ni need it to print one at a time. for example i ask a question and it waits for an input","title":"The console double prints a line im not sure why","body":"<p>i have a for loop with if statements and it always prints the first and then the second one right after</p>\n<pre><code>for(i=0;i&lt;headers.length;i++) {\n                if(headers[i] == true) {\n                    if(headOpt[i] == headOpt[0]) {\n                        System.out.println(&quot;\\nType a valid date in the format M/DD/YYYY&quot;);\n                        date = scan.nextLine();\n                    }\n                    else if(headOpt[i] == headOpt[1]) {\n                        System.out.println(&quot;\\nType a valid state. Please print out the full name&quot;);\n                        state = scan.nextLine();\n                    }\n                    else if(headOpt[i] == headOpt[2]) {\n                        System.out.println(&quot;\\nPlease select a race &quot;);\n                        race = scan.nextLine();\n                    }\n                    else if(headOpt[i] == headOpt[3]) {\n                        System.out.println(&quot;\\nType an average income&quot;);\n                        medIncome = scan.nextLine();\n                    }\n                    else if(headOpt[i] == headOpt[4]) {\n                        System.out.println(&quot;\\nType the % Bachelor's Degree or Higher&quot;);\n                        bachDegree = scan.nextLine();\n                        \n                    }\n                    else if(headOpt[i] == headOpt[5]) {\n                        System.out.println(&quot;\\nType the Clinton margin of improvement&quot;);\n                        clintImprov = scan.nextLine();\n                    }\n                    else {\n                        System.out.println(&quot;\\nType  the dem margin of improvement&quot;);\n                        marginImprov = scan.nextLine();\n                    }\n                }\n            }\n</code></pre>\n<p>i need it to print one at a time. for example i ask a question and it waits for an input</p>\n"},{"tags":["java","android","mysql","jdbc"],"comments":[{"owner":{"account_id":8279406,"reputation":337,"user_id":6224571,"display_name":"Stefano"},"score":0,"creation_date":1494967821,"post_id":43986985,"comment_id":75050864,"body_markdown":"i don&#39;t think so","body":"i don&#39;t think so"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1695945034,"post_id":43986985,"comment_id":136094732,"body_markdown":"Code that depends on the success of prior code inside a `try` block should be inside that same `try` block. You are getting some prior failure, ignoring it, and then proceeding with a null `Connection` object. Don&#39;t write code like this. And certainly it is an exact duplicate.","body":"Code that depends on the success of prior code inside a <code>try</code> block should be inside that same <code>try</code> block. You are getting some prior failure, ignoring it, and then proceeding with a null <code>Connection</code> object. Don&#39;t write code like this. And certainly it is an exact duplicate."}],"answers":[{"tags":[],"owner":{"account_id":7441167,"reputation":1764,"user_id":5658915,"display_name":"Jonathan Aste"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1494875526,"creation_date":1494875526,"answer_id":43987131,"question_id":43986985,"body_markdown":"Wrap the code inside the same try catch clausule, it looks like you are not beign able to create the Connection.\r\n\r\nTry this:\r\n\r\n    private class Inserisci extends AsyncTask&lt;Void, Void, ResultSet&gt; {\r\n\r\n    @Override\r\n    protected ResultSet doInBackground(Void... params) {\r\n\r\n        String comando = &quot;SELECT nome FROM prodotti&quot;;\r\n        Connection c = null;\r\n        try {\r\n            c = DriverManager.getConnection(&quot;jdbc:mysql://192.168.137.1:3306/eshop&quot;, &quot;root&quot;, &quot;&quot;);\r\n            Statement s = null;\r\n            s = c.createStatement();\r\n            comando = &quot;SELECT nome FROM prodotti&quot;;\r\n            return s.executeQuery(comando); \r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(ResultSet resultSet) {\r\n        try {\r\n            showMessage(resultSet.getString(1));\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    }","title":"NullPointerException: Connection.createStatement() on a null object reference","body":"<p>Wrap the code inside the same try catch clausule, it looks like you are not beign able to create the Connection.</p>\n\n<p>Try this:</p>\n\n<pre><code>private class Inserisci extends AsyncTask&lt;Void, Void, ResultSet&gt; {\n\n@Override\nprotected ResultSet doInBackground(Void... params) {\n\n    String comando = \"SELECT nome FROM prodotti\";\n    Connection c = null;\n    try {\n        c = DriverManager.getConnection(\"jdbc:mysql://192.168.137.1:3306/eshop\", \"root\", \"\");\n        Statement s = null;\n        s = c.createStatement();\n        comando = \"SELECT nome FROM prodotti\";\n        return s.executeQuery(comando); \n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\n@Override\nprotected void onPostExecute(ResultSet resultSet) {\n    try {\n        showMessage(resultSet.getString(1));\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":8279406,"reputation":337,"user_id":6224571,"display_name":"Stefano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695944979,"answer_count":1,"score":0,"last_activity_date":1695931500,"creation_date":1494875006,"question_id":43986985,"body_markdown":"I&#39;m using JDBC for a school project in Android (**I know it&#39;s not a good thing**) and I can&#39;t understand why the createStatement return me null. I&#39;m executing the jdbc code in an AsyncTask:\r\n\r\n    private class Inserisci extends AsyncTask&lt;Void, Void, ResultSet&gt; {\r\n\r\n        @Override\r\n        protected ResultSet doInBackground(Void... params) {\r\n\r\n            String comando = &quot;SELECT nome FROM prodotti&quot;;\r\n            Connection c = null;\r\n            try {\r\n                c = DriverManager.getConnection(&quot;jdbc:mysql://192.168.137.1:3306/eshop&quot;, &quot;root&quot;, &quot;&quot;);\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            Statement s = null;\r\n            try {\r\n                s = c.createStatement();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            comando = &quot;SELECT nome FROM prodotti&quot;;\r\n            try {\r\n                return s.executeQuery(comando);\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(ResultSet resultSet) {\r\n            try {\r\n                showMessage(resultSet.getString(1));\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n192.168.137.1 is the IP of my computer running Xampp (Apache and MySQL turned on), the port is 3306 and username and password are the default ones. I&#39;m running a simple query to print the first result but I can&#39;t get it. There is internet permission in the manifest. ShowMessage method is just a toast message. Any help? Thank you\r\n\r\nHere&#39;s the full error log\r\n\r\n    05-15 21:01:55.925 11105-11185/com.quintabi.facchini.foobarmanager E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\r\n                                                                                         Process: com.quintabi.facchini.foobarmanager, PID: 11105\r\n                                                                                         java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n                                                                                             at android.os.AsyncTask$3.done(AsyncTask.java:318)\r\n                                                                                             at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:354)\r\n                                                                                             at java.util.concurrent.FutureTask.setException(FutureTask.java:223)\r\n                                                                                             at java.util.concurrent.FutureTask.run(FutureTask.java:242)\r\n                                                                                             at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:243)\r\n                                                                                             at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\r\n                                                                                             at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\r\n                                                                                             at java.lang.Thread.run(Thread.java:761)\r\n                                                                                          Caused by: java.lang.NullPointerException: Attempt to invoke interface method &#39;java.sql.Statement java.sql.Connection.createStatement()&#39; on a null object reference\r\n                                                                                             at com.quintabi.facchini.foobarmanager.MainActivity$Inserisci.doInBackground(MainActivity.java:128)\r\n                                                                                             at com.quintabi.facchini.foobarmanager.MainActivity$Inserisci.doInBackground(MainActivity.java:114)\r\n                                                                                             at android.os.AsyncTask$2.call(AsyncTask.java:304)\r\n                                                                                             at java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n                                                                                             at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:243)&#160;\r\n                                                                                             at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)&#160;\r\n                                                                                             at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)&#160;\r\n                                                                                             at java.lang.Thread.run(Thread.java:761)&#160;","title":"NullPointerException: Connection.createStatement() on a null object reference","body":"<p>I'm using JDBC for a school project in Android (<strong>I know it's not a good thing</strong>) and I can't understand why the createStatement return me null. I'm executing the jdbc code in an AsyncTask:</p>\n\n<pre><code>private class Inserisci extends AsyncTask&lt;Void, Void, ResultSet&gt; {\n\n    @Override\n    protected ResultSet doInBackground(Void... params) {\n\n        String comando = \"SELECT nome FROM prodotti\";\n        Connection c = null;\n        try {\n            c = DriverManager.getConnection(\"jdbc:mysql://192.168.137.1:3306/eshop\", \"root\", \"\");\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        Statement s = null;\n        try {\n            s = c.createStatement();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        comando = \"SELECT nome FROM prodotti\";\n        try {\n            return s.executeQuery(comando);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute(ResultSet resultSet) {\n        try {\n            showMessage(resultSet.getString(1));\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>192.168.137.1 is the IP of my computer running Xampp (Apache and MySQL turned on), the port is 3306 and username and password are the default ones. I'm running a simple query to print the first result but I can't get it. There is internet permission in the manifest. ShowMessage method is just a toast message. Any help? Thank you</p>\n\n<p>Here's the full error log</p>\n\n<pre><code>05-15 21:01:55.925 11105-11185/com.quintabi.facchini.foobarmanager E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\n                                                                                     Process: com.quintabi.facchini.foobarmanager, PID: 11105\n                                                                                     java.lang.RuntimeException: An error occurred while executing doInBackground()\n                                                                                         at android.os.AsyncTask$3.done(AsyncTask.java:318)\n                                                                                         at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:354)\n                                                                                         at java.util.concurrent.FutureTask.setException(FutureTask.java:223)\n                                                                                         at java.util.concurrent.FutureTask.run(FutureTask.java:242)\n                                                                                         at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:243)\n                                                                                         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\n                                                                                         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\n                                                                                         at java.lang.Thread.run(Thread.java:761)\n                                                                                      Caused by: java.lang.NullPointerException: Attempt to invoke interface method 'java.sql.Statement java.sql.Connection.createStatement()' on a null object reference\n                                                                                         at com.quintabi.facchini.foobarmanager.MainActivity$Inserisci.doInBackground(MainActivity.java:128)\n                                                                                         at com.quintabi.facchini.foobarmanager.MainActivity$Inserisci.doInBackground(MainActivity.java:114)\n                                                                                         at android.os.AsyncTask$2.call(AsyncTask.java:304)\n                                                                                         at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n                                                                                         at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:243) \n                                                                                         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133) \n                                                                                         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607) \n                                                                                         at java.lang.Thread.run(Thread.java:761) \n</code></pre>\n"},{"tags":["java","hibernate","jpa","inheritance","orm"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695909456,"creation_date":1695909456,"answer_id":77195632,"question_id":77194998,"body_markdown":"Use &quot;TREAT&quot; instead of type. The JPA (2.1) specification section 4.4.9 states: \r\n\r\n    If during query execution the first argument to the TREAT operator is not a subtype (proper or improper) of the target type, the path is considered to have no value, and does not participate in the determination of the result. That is, in the case of a join, the referenced object does not participate in the result, and in the case of a restriction, the associated predicate is false. Use of the TREAT operator therefore also has the effect of filtering on the specified type (and its subtypes) as well as performing the downcast.\r\n\r\nYou should be able to use:\r\n  \r\n\r\n    &quot;SELECT t from Thing t JOIN TREAT(t.parent AS ChildA) p&quot;\r\n\r\nto return only Things with ChildA parents.","title":"Java Inheritance + Hibernate6 + JPA - How to prevent selecting all child tables when joining on parent?","body":"<p>Use &quot;TREAT&quot; instead of type. The JPA (2.1) specification section 4.4.9 states:</p>\n<pre><code>If during query execution the first argument to the TREAT operator is not a subtype (proper or improper) of the target type, the path is considered to have no value, and does not participate in the determination of the result. That is, in the case of a join, the referenced object does not participate in the result, and in the case of a restriction, the associated predicate is false. Use of the TREAT operator therefore also has the effect of filtering on the specified type (and its subtypes) as well as performing the downcast.\n</code></pre>\n<p>You should be able to use:</p>\n<pre><code>&quot;SELECT t from Thing t JOIN TREAT(t.parent AS ChildA) p&quot;\n</code></pre>\n<p>to return only Things with ChildA parents.</p>\n"},{"tags":[],"owner":{"account_id":17246415,"reputation":3,"user_id":20178419,"display_name":"frobot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695931298,"creation_date":1695931298,"answer_id":77197940,"question_id":77194998,"body_markdown":"Chris&#39;s answer helped a lot, there were a few other pieces I needed though.\r\n\r\nI needed to set LazyLoading in my &#39;Thing&#39; class, like so:\r\n\r\n```\r\nclass Thing {\r\n\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n    Parent parent;\r\n\r\n}\r\n```\r\n\r\nI also had to select the child class, ie:\r\n```\r\nSELECT t, ca\r\nFROM Thing t\r\nJOIN TREAT (t.parent as ChildA) ca\r\n```\r\notherwise I was not getting back all the data from ChildA.\r\n\r\nAnd although it wasn&#39;t part of my original question, I had decendants hanging off of ChildA, like\r\n```\r\nclass ChildA {\r\n  List&lt;GrandChild&gt; grandChildren\r\n}\r\n\r\nclass GrandChild {\r\n  ChildA childA\r\n}\r\n```\r\n\r\nIn order to include all decedents in my query, I had to JOIN FETCH them.\r\n```\r\nSELECT t, ca\r\nFROM Thing t\r\nJOIN TREAT (t.parent as ChildA) ca\r\nJOIN FETCH ca.grandChildren gc\r\n```\r\n\r\nNote this wouldn&#39;t work if I:\r\n - did `JOIN TREAT FETCH (t.parent as ChildA) ca`, in that case it created a query that wouldn&#39;t execute. \r\n - didn&#39;t include `ca` in the select statement","title":"Java Inheritance + Hibernate6 + JPA - How to prevent selecting all child tables when joining on parent?","body":"<p>Chris's answer helped a lot, there were a few other pieces I needed though.</p>\n<p>I needed to set LazyLoading in my 'Thing' class, like so:</p>\n<pre><code>class Thing {\n\n    @OneToMany(fetch = FetchType.LAZY)\n    Parent parent;\n\n}\n</code></pre>\n<p>I also had to select the child class, ie:</p>\n<pre><code>SELECT t, ca\nFROM Thing t\nJOIN TREAT (t.parent as ChildA) ca\n</code></pre>\n<p>otherwise I was not getting back all the data from ChildA.</p>\n<p>And although it wasn't part of my original question, I had decendants hanging off of ChildA, like</p>\n<pre><code>class ChildA {\n  List&lt;GrandChild&gt; grandChildren\n}\n\nclass GrandChild {\n  ChildA childA\n}\n</code></pre>\n<p>In order to include all decedents in my query, I had to JOIN FETCH them.</p>\n<pre><code>SELECT t, ca\nFROM Thing t\nJOIN TREAT (t.parent as ChildA) ca\nJOIN FETCH ca.grandChildren gc\n</code></pre>\n<p>Note this wouldn't work if I:</p>\n<ul>\n<li>did <code>JOIN TREAT FETCH (t.parent as ChildA) ca</code>, in that case it created a query that wouldn't execute.</li>\n<li>didn't include <code>ca</code> in the select statement</li>\n</ul>\n"}],"owner":{"account_id":17246415,"reputation":3,"user_id":20178419,"display_name":"frobot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77195632,"answer_count":2,"score":0,"last_activity_date":1695931298,"creation_date":1695904524,"question_id":77194998,"body_markdown":"I&#39;m working on a Java application that uses Hibernate6 + JPA.\r\n\r\nI have classes like \r\n\r\n```\r\nclass Thing {\r\n    \r\n    Parent parent\r\n\r\n}\r\n```\r\n\r\n```\r\nclass Parent {\r\n   \r\n}\r\n```\r\n```\r\nclass ChildA extends Parent {\r\n    \r\n}\r\n```\r\n```\r\nclass ChildB extends Parent {\r\n\r\n}\r\n```\r\n\r\nI want to be able to write a query like `SELECT * FROM Thing JOIN Parent JOIN ChildA` but NOT select any data from ChildB.  \r\n\r\nI&#39;ve tried making the parent table use TABLE_PER_CLASS and JOINED inheritance strategies, and write a HQL query like:\r\n\r\n```\r\nSELECT t FROM Thing t\r\nJOIN t.parent p\r\nWHERE\r\n    TYPE(p) = ChildA\r\n```\r\n\r\nbut this still selects all the child data from ChildA and ChildB, ie:  `SELECT * FROM Thing Join Parent Join ChildA Join ChildB`...\r\n\r\nI could implement a Java Model that uses composition instead, but my situation highly favors inheritance, as it requires many less cascading changes in the code base.\r\n\r\nIs there a model and combination of annotations to get Hibernate + JPA to produce the desired query?\r\n\r\nI&#39;ve tried the above model and HQL query, expecting to the ORM to return `Thing` with a `ChildA` using an efficient query.  I get the data I requested, but it creates an inefficient query that asks for more data than I want.","title":"Java Inheritance + Hibernate6 + JPA - How to prevent selecting all child tables when joining on parent?","body":"<p>I'm working on a Java application that uses Hibernate6 + JPA.</p>\n<p>I have classes like</p>\n<pre><code>class Thing {\n    \n    Parent parent\n\n}\n</code></pre>\n<pre><code>class Parent {\n   \n}\n</code></pre>\n<pre><code>class ChildA extends Parent {\n    \n}\n</code></pre>\n<pre><code>class ChildB extends Parent {\n\n}\n</code></pre>\n<p>I want to be able to write a query like <code>SELECT * FROM Thing JOIN Parent JOIN ChildA</code> but NOT select any data from ChildB.</p>\n<p>I've tried making the parent table use TABLE_PER_CLASS and JOINED inheritance strategies, and write a HQL query like:</p>\n<pre><code>SELECT t FROM Thing t\nJOIN t.parent p\nWHERE\n    TYPE(p) = ChildA\n</code></pre>\n<p>but this still selects all the child data from ChildA and ChildB, ie:  <code>SELECT * FROM Thing Join Parent Join ChildA Join ChildB</code>...</p>\n<p>I could implement a Java Model that uses composition instead, but my situation highly favors inheritance, as it requires many less cascading changes in the code base.</p>\n<p>Is there a model and combination of annotations to get Hibernate + JPA to produce the desired query?</p>\n<p>I've tried the above model and HQL query, expecting to the ORM to return <code>Thing</code> with a <code>ChildA</code> using an efficient query.  I get the data I requested, but it creates an inefficient query that asks for more data than I want.</p>\n"},{"tags":["java","xml","xjc"],"answers":[{"tags":[],"owner":{"account_id":141726,"reputation":10745,"user_id":348975,"accept_rate":86,"display_name":"emory"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1333519092,"creation_date":1333519092,"answer_id":10005672,"question_id":10005632,"body_markdown":"\r\nI got it when I installed java.  It is probably on your system right now.  Look in the directory where java, javac, etc are located.","title":"How do I get xjc?","body":"<p>I got it when I installed java.  It is probably on your system right now.  Look in the directory where java, javac, etc are located.</p>\n"},{"tags":[],"owner":{"account_id":1335648,"reputation":4408,"user_id":1278476,"accept_rate":75,"display_name":"barsju"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1333519139,"creation_date":1333519139,"answer_id":10005682,"question_id":10005632,"body_markdown":"Its part of the JDK. Check your Java bin folder. ","title":"How do I get xjc?","body":"<p>Its part of the JDK. Check your Java bin folder. </p>\n"},{"tags":[],"owner":{"account_id":312086,"reputation":12243,"user_id":625983,"accept_rate":58,"display_name":"apesa"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1333519554,"creation_date":1333519554,"answer_id":10005736,"question_id":10005632,"body_markdown":"xjc is a tool in JAXB which is in Java SE, Java EE and Java Web Services and i&#39;m sure many more. Read up on [JAXB][1] Here\r\n\r\n\r\n  [1]: http://www.java2s.com/Tutorial/Java/0440__XML/0100__JAXB.htm","title":"How do I get xjc?","body":"<p>xjc is a tool in JAXB which is in Java SE, Java EE and Java Web Services and i'm sure many more. Read up on <a href=\"http://www.java2s.com/Tutorial/Java/0440__XML/0100__JAXB.htm\" rel=\"nofollow\">JAXB</a> Here</p>\n"},{"tags":[],"owner":{"account_id":2283646,"reputation":11117,"user_id":2008247,"accept_rate":77,"display_name":"Jan Bodnar"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1695931242,"creation_date":1544460584,"answer_id":53710110,"question_id":10005632,"body_markdown":"Note that since Java 11, the JAXB was removed from the JDK. It has to be separately installed. There is a `bin` directory in the ZIP file where we can find the `xjc` and `schemagen` tools.\r\n\r\n\r\nDownload link:\r\nhttps://eclipse-ee4j.github.io/jaxb-ri/","title":"How do I get xjc?","body":"<p>Note that since Java 11, the JAXB was removed from the JDK. It has to be separately installed. There is a <code>bin</code> directory in the ZIP file where we can find the <code>xjc</code> and <code>schemagen</code> tools.</p>\n<p>Download link:\n<a href=\"https://eclipse-ee4j.github.io/jaxb-ri/\" rel=\"nofollow noreferrer\">https://eclipse-ee4j.github.io/jaxb-ri/</a></p>\n"},{"tags":[],"owner":{"account_id":294991,"reputation":1348,"user_id":599164,"accept_rate":91,"display_name":"Frankie Drake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611075803,"creation_date":1611075803,"answer_id":65796132,"question_id":10005632,"body_markdown":"I had some problems while installing `xjc` manually downloaded, as suggested in one of the answers and I succeed with a `sudo apt-get install jaxb` as suggested by my Linux terminal :)","title":"How do I get xjc?","body":"<p>I had some problems while installing <code>xjc</code> manually downloaded, as suggested in one of the answers and I succeed with a <code>sudo apt-get install jaxb</code> as suggested by my Linux terminal :)</p>\n"},{"tags":[],"owner":{"account_id":21281163,"reputation":11,"user_id":15659568,"display_name":"Yaennu Kaelungha"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1619508653,"creation_date":1619495742,"answer_id":67276778,"question_id":10005632,"body_markdown":"If you are using ubuntu and java version is less than 9, then this may help \r\n\r\n```\r\n$ sudo update-alternatives --install /usr/bin/xjc xjc /your_java_home_path/bin/xjc 100\r\n```","title":"How do I get xjc?","body":"<p>If you are using ubuntu and java version is less than 9, then this may help</p>\n<pre><code>$ sudo update-alternatives --install /usr/bin/xjc xjc /your_java_home_path/bin/xjc 100\n</code></pre>\n"},{"tags":[],"owner":{"account_id":996011,"reputation":3477,"user_id":1011926,"accept_rate":78,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655653719,"creation_date":1655653719,"answer_id":72678299,"question_id":10005632,"body_markdown":"If you&#39;re just looking to parse XML as a one off, and you don&#39;t want to deal with downloading random binaries, or messing about with your PATH, you can easily get access to `xjc` by installing any JDK 1.8 version. \r\n\r\nTo do this nice and easily, use [SDKMAN][1] \r\n\r\nOnce it&#39;s installed, run `sdk install java 8.0.332-zulu` to install Java 8, you probably don&#39;t want to set it as your default, so once the install is done run `sdk use java 8.0.332-zulu` and you&#39;re good to. \r\n\r\n\r\n  [1]: https://sdkman.io/","title":"How do I get xjc?","body":"<p>If you're just looking to parse XML as a one off, and you don't want to deal with downloading random binaries, or messing about with your PATH, you can easily get access to <code>xjc</code> by installing any JDK 1.8 version.</p>\n<p>To do this nice and easily, use <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN</a></p>\n<p>Once it's installed, run <code>sdk install java 8.0.332-zulu</code> to install Java 8, you probably don't want to set it as your default, so once the install is done run <code>sdk use java 8.0.332-zulu</code> and you're good to.</p>\n"},{"tags":[],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656503896,"creation_date":1656503896,"answer_id":72801049,"question_id":10005632,"body_markdown":"It&#39;s available here: https://eclipse-ee4j.github.io/jaxb-ri/ on the Download section","title":"How do I get xjc?","body":"<p>It's available here: <a href=\"https://eclipse-ee4j.github.io/jaxb-ri/\" rel=\"nofollow noreferrer\">https://eclipse-ee4j.github.io/jaxb-ri/</a> on the Download section</p>\n"}],"owner":{"account_id":1002003,"reputation":912,"user_id":1016661,"accept_rate":100,"display_name":"Ross Aiken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32143,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":10005672,"answer_count":8,"score":19,"last_activity_date":1695931242,"creation_date":1333518787,"question_id":10005632,"body_markdown":"So I&#39;ve been looking at interfacing with xml files for a project I&#39;ve been working on, and one of the things I want to do is generate java classes from a .dtd file.  After some searching, I found out that xjc should be able to do what I want, but I cannot for the life of me find out where to get the program itself.\r\n\r\nI feel like the answer is sitting right in front of me, but my google-fu is really failing me hardcore right now...","title":"How do I get xjc?","body":"<p>So I've been looking at interfacing with xml files for a project I've been working on, and one of the things I want to do is generate java classes from a .dtd file.  After some searching, I found out that xjc should be able to do what I want, but I cannot for the life of me find out where to get the program itself.</p>\n\n<p>I feel like the answer is sitting right in front of me, but my google-fu is really failing me hardcore right now...</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","swagger-2.0"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1695930879,"post_id":77197872,"comment_id":136093061,"body_markdown":"can you share your project pom file? You are probably missing a dependency or a configuration since the underlying exceptions says `Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null`","body":"can you share your project pom file? You are probably missing a dependency or a configuration since the underlying exceptions says <code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsReque&zwnj;&#8203;stCondition.getPatte&zwnj;&#8203;rns()&quot; because &quot;this.condition&quot; is null</code>"},{"owner":{"account_id":1057532,"reputation":4565,"user_id":1059915,"accept_rate":67,"display_name":"alpert"},"score":0,"creation_date":1695931945,"post_id":77197872,"comment_id":136093219,"body_markdown":"take a look at: https://stackoverflow.com/questions/72235752/cannot-invoke-org-springframework-web-servlet-mvc-condition-patternsrequestcond","body":"take a look at: <a href=\"https://stackoverflow.com/questions/72235752/cannot-invoke-org-springframework-web-servlet-mvc-condition-patternsrequestcond\" title=\"cannot invoke org springframework web servlet mvc condition patternsrequestcond\">stackoverflow.com/questions/72235752/&hellip;</a>"},{"owner":{"account_id":29558388,"reputation":1,"user_id":22653513,"display_name":"Clipper"},"score":0,"creation_date":1696229735,"post_id":77197872,"comment_id":136121603,"body_markdown":"It&#39;s done, I should add `spring.mvc.pathmatch.matching-strategy=ant_path_matcher` to the application.properties. Thank you!","body":"It&#39;s done, I should add <code>spring.mvc.pathmatch.matching-strategy=ant_path_matcher</code> to the application.properties. Thank you!"}],"owner":{"account_id":29558388,"reputation":1,"user_id":22653513,"display_name":"Clipper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695930730,"creation_date":1695930605,"question_id":77197872,"body_markdown":"I am beginner in Spring and I need help with that issue. That problem it&#39;s when I use `@EnableSwagger2` adnotation.\r\n\r\n```package com.example.spring_learn_with_yt_1.config;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@EnableSwagger2\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class Config {\r\n    \r\n    private final ObjectMapper objectMapper;\r\n\r\n    void customizeObjectMapper() {\r\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n    }\r\n}\r\n```\r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-09-28T21:12:11.549+02:00 ERROR 25124 --- \\[           main\\] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;\r\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182) \\~\\[spring-context-6.0.12.jar:6.0.12\\]\r\nat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357) \\~\\[spring-context-6.0.12.jar:6.0.12\\]\r\nat java.base/java.lang.Iterable.forEach(Iterable.java:75) \\~\\[na:na\\]\r\nat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156) \\~\\[spring-context-6.0.12.jar:6.0.12\\]\r\nat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124) \\~\\[spring-context-6.0.12.jar:6.0.12\\]\r\nat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:958) \\~\\[spring-context-6.0.12.jar:6.0.12\\]\r\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:611) \\~\\[spring-context-6.0.12.jar:6.0.12\\]\r\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) \\~\\[spring-boot-3.1.4.jar:3.1.4\\]\r\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) \\~\\[spring-boot-3.1.4.jar:3.1.4\\]\r\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) \\~\\[spring-boot-3.1.4.jar:3.1.4\\]\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) \\~\\[spring-boot-3.1.4.jar:3.1.4\\]\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) \\~\\[spring-boot-3.1.4.jar:3.1.4\\]\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) \\~\\[spring-boot-3.1.4.jar:3.1.4\\]\r\nat com.example.spring_learn_with_yt_1.SpringLearnWithYt1Application.main(SpringLearnWithYt1Application.java:10) \\~\\[classes/:na\\]\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\r\nat springfox.documentation.spring.web.WebMvcPatternsRequestConditionWrapper.getPatterns(WebMvcPatternsRequestConditionWrapper.java:56) \\~\\[springfox-spring-webmvc-3.0.0.jar:3.0.0\\]\r\nat springfox.documentation.RequestHandler.sortedPaths(RequestHandler.java:113) \\~\\[springfox-core-3.0.0.jar:3.0.0\\]\r\nat springfox.documentation.spi.service.contexts.Orderings.lambda$byPatternsCondition$3(Orderings.java:89) \\~\\[springfox-spi-3.0.0.jar:3.0.0\\]\r\n```","title":"Spring-boot, Swagger2, Java ERROR 25124 --- [main] o.s.boot.SpringApplication : Application run failed","body":"<p>I am beginner in Spring and I need help with that issue. That problem it's when I use <code>@EnableSwagger2</code> adnotation.</p>\n<pre><code>\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@EnableSwagger2\n@Configuration\n@RequiredArgsConstructor\npublic class Config {\n    \n    private final ObjectMapper objectMapper;\n\n    void customizeObjectMapper() {\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n    }\n}\n</code></pre>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-09-28T21:12:11.549+02:00 ERROR 25124 --- \\[           main\\] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182) \\~\\[spring-context-6.0.12.jar:6.0.12\\]\nat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357) \\~\\[spring-context-6.0.12.jar:6.0.12\\]\nat java.base/java.lang.Iterable.forEach(Iterable.java:75) \\~\\[na:na\\]\nat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156) \\~\\[spring-context-6.0.12.jar:6.0.12\\]\nat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124) \\~\\[spring-context-6.0.12.jar:6.0.12\\]\nat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:958) \\~\\[spring-context-6.0.12.jar:6.0.12\\]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:611) \\~\\[spring-context-6.0.12.jar:6.0.12\\]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) \\~\\[spring-boot-3.1.4.jar:3.1.4\\]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) \\~\\[spring-boot-3.1.4.jar:3.1.4\\]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) \\~\\[spring-boot-3.1.4.jar:3.1.4\\]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) \\~\\[spring-boot-3.1.4.jar:3.1.4\\]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) \\~\\[spring-boot-3.1.4.jar:3.1.4\\]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) \\~\\[spring-boot-3.1.4.jar:3.1.4\\]\nat com.example.spring_learn_with_yt_1.SpringLearnWithYt1Application.main(SpringLearnWithYt1Application.java:10) \\~\\[classes/:na\\]\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\nat springfox.documentation.spring.web.WebMvcPatternsRequestConditionWrapper.getPatterns(WebMvcPatternsRequestConditionWrapper.java:56) \\~\\[springfox-spring-webmvc-3.0.0.jar:3.0.0\\]\nat springfox.documentation.RequestHandler.sortedPaths(RequestHandler.java:113) \\~\\[springfox-core-3.0.0.jar:3.0.0\\]\nat springfox.documentation.spi.service.contexts.Orderings.lambda$byPatternsCondition$3(Orderings.java:89) \\~\\[springfox-spi-3.0.0.jar:3.0.0\\]\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1439799854,"post_id":32045517,"comment_id":51991274,"body_markdown":"Won&#39;t [Sheet.removeMergedRegion](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#removeMergedRegion%28int%29) do you?","body":"Won&#39;t <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#removeMergedRegion%28int%29\" rel=\"nofollow noreferrer\">Sheet.removeMergedRegion</a> do you?"},{"owner":{"account_id":4914965,"reputation":53,"user_id":3959121,"display_name":"Nipun Saini"},"score":0,"creation_date":1439803086,"post_id":32045517,"comment_id":51993151,"body_markdown":"Thanks for your response but I am not able to unmerge using sheet.removeMergedRegion.!!","body":"Thanks for your response but I am not able to unmerge using sheet.removeMergedRegion.!!"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1439804388,"post_id":32045517,"comment_id":51994079,"body_markdown":"Why not? What error do you get? What goes wrong? What isn&#39;t working?","body":"Why not? What error do you get? What goes wrong? What isn&#39;t working?"},{"owner":{"account_id":4914965,"reputation":53,"user_id":3959121,"display_name":"Nipun Saini"},"score":0,"creation_date":1439814174,"post_id":32045517,"comment_id":51999913,"body_markdown":"Its working now! There is some formatting problem with my excel sheet. Thank you very much.!!","body":"Its working now! There is some formatting problem with my excel sheet. Thank you very much.!!"}],"answers":[{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1439817285,"creation_date":1439817285,"answer_id":32051404,"question_id":32045517,"body_markdown":"Promoting a comment to an answer...\r\n\r\nThe method you want is [Sheet.removeMergedRegion(int)](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#removeMergedRegion%28int%29)\r\n\r\nThat takes the index of the region, which you got when you added it. Otherwise, you can use [getNumMergedRegions()](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#getNumMergedRegions%28%29) and [getMergedRegion(int)](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#getMergedRegion%28int%29) to iterate over the regions to find the index of the one you want to remove","title":"How to unmerge cells in a spreadsheet using apache POI java library","body":"<p>Promoting a comment to an answer...</p>\n\n<p>The method you want is <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#removeMergedRegion%28int%29\" rel=\"noreferrer\">Sheet.removeMergedRegion(int)</a></p>\n\n<p>That takes the index of the region, which you got when you added it. Otherwise, you can use <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#getNumMergedRegions%28%29\" rel=\"noreferrer\">getNumMergedRegions()</a> and <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#getMergedRegion%28int%29\" rel=\"noreferrer\">getMergedRegion(int)</a> to iterate over the regions to find the index of the one you want to remove</p>\n"},{"tags":[],"owner":{"account_id":7074024,"reputation":11,"user_id":5414720,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444144960,"creation_date":1444144960,"answer_id":32973718,"question_id":32045517,"body_markdown":"I just figured out that internally the number of existing regions is checked after every region method. E.g. after removing Region 1 everything is new calculated like size is previousSize-1 and sheet.getNumMergedRegions() is also one less. So for me I added all regions to a list and deleted them from the sheet. I took always id 0 as the id is recalculated everytime.\r\n\r\n    for(int i = 0; i&lt;numOfRegion;i++)\r\n            {\r\n                regions.add(sheet.getMergedRegion(0));\r\n                sheet.removeMergedRegion(0);\r\n            }\r\n\r\n","title":"How to unmerge cells in a spreadsheet using apache POI java library","body":"<p>I just figured out that internally the number of existing regions is checked after every region method. E.g. after removing Region 1 everything is new calculated like size is previousSize-1 and sheet.getNumMergedRegions() is also one less. So for me I added all regions to a list and deleted them from the sheet. I took always id 0 as the id is recalculated everytime.</p>\n\n<pre><code>for(int i = 0; i&lt;numOfRegion;i++)\n        {\n            regions.add(sheet.getMergedRegion(0));\n            sheet.removeMergedRegion(0);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1805026,"reputation":159,"user_id":1642333,"display_name":"Hari Samala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510971196,"creation_date":1510971196,"answer_id":47361793,"question_id":32045517,"body_markdown":"For some reason the following code did not remove all the merged regions at once:\r\n\r\n    logger.info(&quot;Number of merged regions = &quot; + sheet.getNumMergedRegions());\r\n    for (int i = 0; i &lt; sheet.getNumMergedRegions(); i++) {\r\n\t\tlogger.info(&quot;Removing merged region &quot; + (i + 1));\r\n\t\tsheet.removeMergedRegion(i);\r\n\t}\r\n    logger.info(&quot;\\nNumber of merged regions = &quot; + sheet.getNumMergedRegions());\r\n\r\nIn the console I see this:\r\n\r\n    Number of merged regions = 7\r\n    Removing merged region 1\r\n    Removing merged region 2\r\n    Removing merged region 3\r\n    Removing merged region 4\r\n\r\n    Number of merged regions = 3\r\n\r\n**Fix:**\r\n\r\n    while (sheet.getNumMergedRegions() &gt; 0) {\r\n\t    logger.info(&quot;Number of merged regions = &quot; + sheet.getNumMergedRegions());\r\n\t    for (int i = 0; i &lt; sheet.getNumMergedRegions(); i++) {\r\n\t\t    logger.info(&quot;Removing merged region &quot; + (i + 1));\r\n\t\t    sheet.removeMergedRegion(i);\r\n\t    }\r\n    }","title":"How to unmerge cells in a spreadsheet using apache POI java library","body":"<p>For some reason the following code did not remove all the merged regions at once:</p>\n\n<pre><code>logger.info(\"Number of merged regions = \" + sheet.getNumMergedRegions());\nfor (int i = 0; i &lt; sheet.getNumMergedRegions(); i++) {\n    logger.info(\"Removing merged region \" + (i + 1));\n    sheet.removeMergedRegion(i);\n}\nlogger.info(\"\\nNumber of merged regions = \" + sheet.getNumMergedRegions());\n</code></pre>\n\n<p>In the console I see this:</p>\n\n<pre><code>Number of merged regions = 7\nRemoving merged region 1\nRemoving merged region 2\nRemoving merged region 3\nRemoving merged region 4\n\nNumber of merged regions = 3\n</code></pre>\n\n<p><strong>Fix:</strong></p>\n\n<pre><code>while (sheet.getNumMergedRegions() &gt; 0) {\n    logger.info(\"Number of merged regions = \" + sheet.getNumMergedRegions());\n    for (int i = 0; i &lt; sheet.getNumMergedRegions(); i++) {\n        logger.info(\"Removing merged region \" + (i + 1));\n        sheet.removeMergedRegion(i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29558481,"reputation":1,"user_id":22653582,"display_name":"Ruslan Grand Dego Grand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695930470,"creation_date":1695930470,"answer_id":77197862,"question_id":32045517,"body_markdown":"My problem was that i had a document with some cells merged already. \r\nSo when i needed to merge some region, i had to unmerge any merged cells inside that range. The guy who said that the index recalculates saved me.\r\n\r\n    private CellRangeAddress mergeRange(Range range, XSSFSheet sheet) {\r\n        for (int i = 0; i &lt; sheet.getMergedRegions().size(); i++) {\r\n            CellRangeAddress r = sheet.getMergedRegion(i);\r\n            int fRow = r.getFirstRow();\r\n            int lRow = r.getLastRow();\r\n            int fCol = r.getFirstColumn();\r\n            int lCol = r.getLastColumn();\r\n\r\n            if (fRow &gt;= range.getFirstRow() &amp;&amp; fRow &lt;= range.getLastRow() &amp;&amp;\r\n                lRow &gt;= range.getFirstRow() &amp;&amp; lRow &lt;= range.getLastRow() &amp;&amp;\r\n                fCol &gt;= range.getFirstCol() &amp;&amp; fCol &lt;= range.getLastCol() &amp;&amp;\r\n                lCol &gt;= range.getFirstCol() &amp;&amp; lCol &lt;= range.getLastCol()) {\r\n                sheet.removeMergedRegion(i);\r\n                i--;\r\n            }\r\n        }\r\n\r\n        return sheet.getMergedRegion(sheet.addMergedRegion(new CellRangeAddress(range.getFirstRow(), range.getLastRow(), range.getFirstCol(), range.getLastCol())));\r\n    }","title":"How to unmerge cells in a spreadsheet using apache POI java library","body":"<p>My problem was that i had a document with some cells merged already.\nSo when i needed to merge some region, i had to unmerge any merged cells inside that range. The guy who said that the index recalculates saved me.</p>\n<pre><code>private CellRangeAddress mergeRange(Range range, XSSFSheet sheet) {\n    for (int i = 0; i &lt; sheet.getMergedRegions().size(); i++) {\n        CellRangeAddress r = sheet.getMergedRegion(i);\n        int fRow = r.getFirstRow();\n        int lRow = r.getLastRow();\n        int fCol = r.getFirstColumn();\n        int lCol = r.getLastColumn();\n\n        if (fRow &gt;= range.getFirstRow() &amp;&amp; fRow &lt;= range.getLastRow() &amp;&amp;\n            lRow &gt;= range.getFirstRow() &amp;&amp; lRow &lt;= range.getLastRow() &amp;&amp;\n            fCol &gt;= range.getFirstCol() &amp;&amp; fCol &lt;= range.getLastCol() &amp;&amp;\n            lCol &gt;= range.getFirstCol() &amp;&amp; lCol &lt;= range.getLastCol()) {\n            sheet.removeMergedRegion(i);\n            i--;\n        }\n    }\n\n    return sheet.getMergedRegion(sheet.addMergedRegion(new CellRangeAddress(range.getFirstRow(), range.getLastRow(), range.getFirstCol(), range.getLastCol())));\n}\n</code></pre>\n"}],"owner":{"account_id":4914965,"reputation":53,"user_id":3959121,"display_name":"Nipun Saini"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6068,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":32051404,"answer_count":4,"score":5,"last_activity_date":1695930470,"creation_date":1439799003,"question_id":32045517,"body_markdown":"We can use `sheet.addMergedRegion(rowFrom,rowTo,colFrom,colTo);` for adding merged cells in the sheet But I already have a sheet with merged cells in it and I want to unmerge these cells. \r\n\r\nIs there any way to unmerge cells of a sheet without creating new sheet using Apache POI ?","title":"How to unmerge cells in a spreadsheet using apache POI java library","body":"<p>We can use <code>sheet.addMergedRegion(rowFrom,rowTo,colFrom,colTo);</code> for adding merged cells in the sheet But I already have a sheet with merged cells in it and I want to unmerge these cells. </p>\n\n<p>Is there any way to unmerge cells of a sheet without creating new sheet using Apache POI ?</p>\n"},{"tags":["java","hashset"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1397951559,"post_id":23171289,"comment_id":35446076,"body_markdown":"Why? What good does it do to know it?","body":"Why? What good does it do to know it?"}],"answers":[{"tags":[],"owner":{"account_id":1081514,"reputation":3747,"user_id":1078390,"accept_rate":100,"display_name":"Martin Serrano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397919534,"creation_date":1397918280,"answer_id":23171362,"question_id":23171289,"body_markdown":"`HashSet` does not expose that information.  You can set the initial capacity yourself if you want (e.g., `HashSet h = new HashSet(22);`).  The [javadoc][1] indicates that the default capacity is `16`.\r\n\r\nInternally, the `HashSet` is just wrapping a `HashMap` via the `HashSet.map` field.  I suppose you could use reflection to grab the `map` field and then interrogate it for the initial capacity.  I can&#39;t see why you would want to do this though.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html","title":"How do we get the initial capacity of a HashSet?","body":"<p><code>HashSet</code> does not expose that information.  You can set the initial capacity yourself if you want (e.g., <code>HashSet h = new HashSet(22);</code>).  The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html\" rel=\"nofollow\">javadoc</a> indicates that the default capacity is <code>16</code>.</p>\n\n<p>Internally, the <code>HashSet</code> is just wrapping a <code>HashMap</code> via the <code>HashSet.map</code> field.  I suppose you could use reflection to grab the <code>map</code> field and then interrogate it for the initial capacity.  I can't see why you would want to do this though.</p>\n"},{"tags":[],"owner":{"account_id":29285958,"reputation":11,"user_id":22437533,"display_name":"sanket Chaudhary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695926535,"creation_date":1695926535,"answer_id":77197488,"question_id":23171289,"body_markdown":"We cannot **directly retrieve** the initial capacity of a HashSet object after it has been created, as the initial capacity is not exposed as a public method or attribute. The HashSet class does not provide a **method to query** the initial capacity once it has been set during initialization.\r\n\r\n","title":"How do we get the initial capacity of a HashSet?","body":"<p>We cannot <strong>directly retrieve</strong> the initial capacity of a HashSet object after it has been created, as the initial capacity is not exposed as a public method or attribute. The HashSet class does not provide a <strong>method to query</strong> the initial capacity once it has been set during initialization.</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695929822,"creation_date":1695929822,"answer_id":77197796,"question_id":23171289,"body_markdown":"Similar to what the code in the question is already doing for `ArrayList`; with the additional step to retrieve the `Map` stored in the `map` variable:\r\n\r\n````\r\n    public static int getCapacity(HashSet&lt;?&gt; s) throws Exception {\r\n        var mapField = HashSet.class.getDeclaredField(&quot;map&quot;);\r\n        mapField.setAccessible(true);\r\n\t    var map = mapField.get(s);\r\n\r\n        var capMet = HashMap.class.getDeclaredMethod(&quot;capacity&quot;);\r\n        capMet.setAccessible(true);\r\n        var cap = capMet.invoke(map);\r\n\r\n        return (Integer) cap;\r\n   }\r\n````\r\n\r\nMust eventually be called with the `--add-opens=java.base/java.util=ALL-UNNAMED` option (see [InaccessibleObjectException: module java.base does not &quot;opens java.util&quot; to unnamed module @61443d8f](https://stackoverflow.com/q/72880838/85421)\r\n\r\nUsing reflection for this can easily break - it highly depends on implementation (e.g. the `map` variable can be renamed or have its type replaced) - code based on OpenJDK 21.","title":"How do we get the initial capacity of a HashSet?","body":"<p>Similar to what the code in the question is already doing for <code>ArrayList</code>; with the additional step to retrieve the <code>Map</code> stored in the <code>map</code> variable:</p>\n<pre><code>    public static int getCapacity(HashSet&lt;?&gt; s) throws Exception {\n        var mapField = HashSet.class.getDeclaredField(&quot;map&quot;);\n        mapField.setAccessible(true);\n        var map = mapField.get(s);\n\n        var capMet = HashMap.class.getDeclaredMethod(&quot;capacity&quot;);\n        capMet.setAccessible(true);\n        var cap = capMet.invoke(map);\n\n        return (Integer) cap;\n   }\n</code></pre>\n<p>Must eventually be called with the <code>--add-opens=java.base/java.util=ALL-UNNAMED</code> option (see <a href=\"https://stackoverflow.com/q/72880838/85421\">InaccessibleObjectException: module java.base does not &quot;opens java.util&quot; to unnamed module @61443d8f</a></p>\n<p>Using reflection for this can easily break - it highly depends on implementation (e.g. the <code>map</code> variable can be renamed or have its type replaced) - code based on OpenJDK 21.</p>\n"}],"owner":{"account_id":4205793,"reputation":19,"user_id":3444725,"display_name":"user3444725"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2343,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1695929822,"creation_date":1397917880,"question_id":23171289,"body_markdown":"How does `HashSet` get initial capacity?\r\n\r\n    import java.util.*;\r\n    import java.lang.reflect.Field;\r\n    public class Demo\r\n    {\r\n       static int getCapacity(ArrayList&lt;?&gt; l) throws Exception\r\n       {\r\n          Field dataField = ArrayList.class.getDeclaredField(&quot;elementData&quot;);\r\n          dataField.setAccessible(true);\r\n          return ((Object[]) dataField.get(l)).length;\r\n       }\r\n       public static void main(String args[])\r\n       {\r\n          ArrayList a = new ArrayList();\r\n          System.out.println(getCapacity(a));\r\n          HashSet h = new HashSet(); //in case HashSet what we do\r\n          System.out.println(h.capacity());\r\n       }\r\n    }\r\n\r\nActually we do not have capacity method in `HashSet` class.  Then how do we get capacity of `HashSet`?  How can we get initial capacity of `HashSet` object?","title":"How do we get the initial capacity of a HashSet?","body":"<p>How does <code>HashSet</code> get initial capacity?</p>\n\n<pre><code>import java.util.*;\nimport java.lang.reflect.Field;\npublic class Demo\n{\n   static int getCapacity(ArrayList&lt;?&gt; l) throws Exception\n   {\n      Field dataField = ArrayList.class.getDeclaredField(\"elementData\");\n      dataField.setAccessible(true);\n      return ((Object[]) dataField.get(l)).length;\n   }\n   public static void main(String args[])\n   {\n      ArrayList a = new ArrayList();\n      System.out.println(getCapacity(a));\n      HashSet h = new HashSet(); //in case HashSet what we do\n      System.out.println(h.capacity());\n   }\n}\n</code></pre>\n\n<p>Actually we do not have capacity method in <code>HashSet</code> class.  Then how do we get capacity of <code>HashSet</code>?  How can we get initial capacity of <code>HashSet</code> object?</p>\n"},{"tags":["java","excel","apache-poi","xls"],"comments":[{"owner":{"account_id":1266294,"reputation":8027,"user_id":1223532,"accept_rate":67,"display_name":"MrSimpleMind"},"score":0,"creation_date":1364739123,"post_id":15730146,"comment_id":22347822,"body_markdown":"did you look at the Font.setColor in the poi guide? http://poi.apache.org/spreadsheet/quick-guide.html","body":"did you look at the Font.setColor in the poi guide? <a href=\"http://poi.apache.org/spreadsheet/quick-guide.html\" rel=\"nofollow noreferrer\">poi.apache.org/spreadsheet/quick-guide.html</a>"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1364750144,"post_id":15730146,"comment_id":22351018,"body_markdown":"Why are you creating cell 0 twice? And do you realise you&#39;re not assigning the cell style to cell 1?","body":"Why are you creating cell 0 twice? And do you realise you&#39;re not assigning the cell style to cell 1?"},{"owner":{"account_id":2348840,"reputation":1502,"user_id":2058260,"accept_rate":84,"display_name":"H4SN"},"score":1,"creation_date":1364795769,"post_id":15730146,"comment_id":22362225,"body_markdown":"@Gagravarr yes thats the question how to assign cellstyle to a particular cell i didn&#39;t found it in the tutorial","body":"@Gagravarr yes thats the question how to assign cellstyle to a particular cell i didn&#39;t found it in the tutorial"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1615550575,"post_id":15730146,"comment_id":117731782,"body_markdown":"I responded a similar question here:\nhttps://stackoverflow.com/a/66599504/13860286","body":"I responded a similar question here: <a href=\"https://stackoverflow.com/a/66599504/13860286\">stackoverflow.com/a/66599504/13860286</a>"}],"answers":[{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":72,"is_accepted":true,"score":72,"last_activity_date":1526025210,"creation_date":1364796114,"answer_id":15738424,"question_id":15730146,"body_markdown":"You&#39;re currently creating some of your cells twice, which is why it&#39;s all going wrong\r\n\r\nFirstly, I&#39;d suggest you move the cell style creation to nearer the top of your code. Remember - cell styles are scoped to a workbook, so don&#39;t create one per cell!\r\n\r\n            CellStyle style = wb.createCellStyle();\r\n            Font font = wb.createFont();\r\n            font.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\r\n            style.setFont(font);\r\n            // Set more colours on the style as needed\r\n            // Set formatting rules on the style as needed\r\n\r\nNow, depending on your preference, either do your cell creation like this:\r\n\r\n            Cell cell;\r\n\r\n            cell = rowxl.createCell(0);\r\n            cell.setCellValue(&quot;ABC&quot;);\r\n            cell.setCellStyle(style);\r\n\r\n            cell = rowxl.createCell(1);\r\n            cell.setCellValue(&quot;aaa&quot;);\r\n            cell.setCellStyle(style);\r\n\r\nOr like this:\r\n\r\n        rowxl.createCell(1).setCellValue(&quot;ABC&quot;);\r\n        rowxl.createCell(2).setCellValue(&quot;aaa&quot;);\r\n        rowx1.getCell(1).setCellStyle(style);\r\n        rowx1.getCell(2).setCellStyle(style);\r\n\r\nJust don&#39;t do that weird hybrid you&#39;ve got at the moment, as you end up creating cells twice and missing out styling!","title":"How to change font color of particular cell apache poi 3.9","body":"<p>You're currently creating some of your cells twice, which is why it's all going wrong</p>\n\n<p>Firstly, I'd suggest you move the cell style creation to nearer the top of your code. Remember - cell styles are scoped to a workbook, so don't create one per cell!</p>\n\n<pre><code>        CellStyle style = wb.createCellStyle();\n        Font font = wb.createFont();\n        font.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\n        style.setFont(font);\n        // Set more colours on the style as needed\n        // Set formatting rules on the style as needed\n</code></pre>\n\n<p>Now, depending on your preference, either do your cell creation like this:</p>\n\n<pre><code>        Cell cell;\n\n        cell = rowxl.createCell(0);\n        cell.setCellValue(\"ABC\");\n        cell.setCellStyle(style);\n\n        cell = rowxl.createCell(1);\n        cell.setCellValue(\"aaa\");\n        cell.setCellStyle(style);\n</code></pre>\n\n<p>Or like this:</p>\n\n<pre><code>    rowxl.createCell(1).setCellValue(\"ABC\");\n    rowxl.createCell(2).setCellValue(\"aaa\");\n    rowx1.getCell(1).setCellStyle(style);\n    rowx1.getCell(2).setCellStyle(style);\n</code></pre>\n\n<p>Just don't do that weird hybrid you've got at the moment, as you end up creating cells twice and missing out styling!</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695929389,"creation_date":1695929389,"answer_id":77197761,"question_id":15730146,"body_markdown":"For change color of existed cell is is needed to create new `Font` and new `CellStyle` with all the cell attribute. I&#39;ve wrote method:\r\n\r\n    public static CellStyle createCellStyle(Sheet sheet, CellAddress cellAddr, short color) {\r\n        Workbook workbook = sheet.getWorkbook();\r\n        CellStyle cellStyle = sheet.getRow(cellAddr.getRow()).getCell(cellAddr.getColumn()).getCellStyle();\r\n        Font font = workbook.getFontAt(cellStyle.getFontIndex());\r\n        Font newFont = workbook.createFont();\r\n        newFont.setFontHeight(font.getFontHeight());\r\n        newFont.setBold(font.getBold());\r\n        newFont.setItalic(font.getItalic());\r\n        newFont.setUnderline(font.getUnderline());\r\n        newFont.setStrikeout(font.getStrikeout());\r\n        newFont.setColor(color);\r\n        CellStyle newCellStyle = workbook.createCellStyle();\r\n        newCellStyle.cloneStyleFrom(cellStyle);\r\n        newCellStyle.setFont(newFont);\r\n        return newCellStyle;\r\n    }\r\n\r\nReuse this style for all target cells (e.g from `Map`, filled before first usage):\r\n\r\n    enum CellType {\r\n        USER_ENABLED,\r\n        USER_DISABLED,\r\n        ...\r\n    }\r\n\r\n    private final EnumMap&lt;CellType, CellStyle&gt; cellStyles = new EnumMap&lt;&gt;(CellType.class);\r\n\r\n    cellStyles.computeIfAbsent(USER_ENABLED, cellType -&gt; ExcelPoiConverter.createCellStyle(sheet, cellAddr, IndexedColors.GREEN.getIndex()));\r\n    cellStyles.computeIfAbsent(USER_DISABLED, cellType -&gt; ExcelPoiConverter.createCellStyle(sheet, cellAddr, IndexedColors.RED.getIndex()));\r\n    cell.setCellStyle(cellStyles.get(user.isEnabled() ? USER_ENABLED : USER_DISABLED));\r\n","title":"How to change font color of particular cell apache poi 3.9","body":"<p>For change color of existed cell is is needed to create new <code>Font</code> and new <code>CellStyle</code> with all the cell attribute. I've wrote method:</p>\n<pre><code>public static CellStyle createCellStyle(Sheet sheet, CellAddress cellAddr, short color) {\n    Workbook workbook = sheet.getWorkbook();\n    CellStyle cellStyle = sheet.getRow(cellAddr.getRow()).getCell(cellAddr.getColumn()).getCellStyle();\n    Font font = workbook.getFontAt(cellStyle.getFontIndex());\n    Font newFont = workbook.createFont();\n    newFont.setFontHeight(font.getFontHeight());\n    newFont.setBold(font.getBold());\n    newFont.setItalic(font.getItalic());\n    newFont.setUnderline(font.getUnderline());\n    newFont.setStrikeout(font.getStrikeout());\n    newFont.setColor(color);\n    CellStyle newCellStyle = workbook.createCellStyle();\n    newCellStyle.cloneStyleFrom(cellStyle);\n    newCellStyle.setFont(newFont);\n    return newCellStyle;\n}\n</code></pre>\n<p>Reuse this style for all target cells (e.g from <code>Map</code>, filled before first usage):</p>\n<pre><code>enum CellType {\n    USER_ENABLED,\n    USER_DISABLED,\n    ...\n}\n\nprivate final EnumMap&lt;CellType, CellStyle&gt; cellStyles = new EnumMap&lt;&gt;(CellType.class);\n\ncellStyles.computeIfAbsent(USER_ENABLED, cellType -&gt; ExcelPoiConverter.createCellStyle(sheet, cellAddr, IndexedColors.GREEN.getIndex()));\ncellStyles.computeIfAbsent(USER_DISABLED, cellType -&gt; ExcelPoiConverter.createCellStyle(sheet, cellAddr, IndexedColors.RED.getIndex()));\ncell.setCellStyle(cellStyles.get(user.isEnabled() ? USER_ENABLED : USER_DISABLED));\n</code></pre>\n"}],"owner":{"account_id":2348840,"reputation":1502,"user_id":2058260,"accept_rate":84,"display_name":"H4SN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97413,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":15738424,"answer_count":2,"score":32,"last_activity_date":1695929389,"creation_date":1364738303,"question_id":15730146,"body_markdown":"I can change foreground color with the following code in apache POI. Now I want to change font color of a single cell.\r\n\r\n```java\r\nCellStyle style = wb.createCellStyle();\r\nstyle.setFillForegroundColor(IndexedColors.GREEN.getIndex());\r\nstyle.setFillPattern(CellStyle.SOLID_FOREGROUND);\r\ncell = rowxl.createCell((short) 7);\r\ncell.setCellValue(&quot; &lt;&lt;&lt;&lt;ONTRACK&gt;&gt;&gt;&gt;&quot;);\r\ncell.setCellStyle(style);\r\n\r\n\r\nrowxl.createCell(0).setCellValue(TEAM);\r\n```\r\n\r\n\r\nI have tried this but it does not change the color of first two columns\r\n\r\n\r\ncode:\r\n\r\n```java\r\npublic class fclr {\r\n\t public static void main(String[] args)  throws Exception {\r\n\t       \r\n\t\t InputStream inp = new FileInputStream(&quot;c:/workbook1.xls&quot;);\r\n\t\t    Workbook wb = WorkbookFactory.create(inp);\r\n\t\t    CreationHelper createHelper = wb.getCreationHelper();\r\n\t\t    Sheet sheet = wb.getSheetAt(0);\r\n\t\t    Row rowxl = sheet.createRow((short)0);\r\n\t\t    \r\n\t\t\r\n\t\t    Cell cell = rowxl.createCell(0);\r\n\r\n\t\t    //apply some colors from the standard palette,\r\n\t\t    // as in the previous examples.\r\n\t\t    //we&#39;ll use red text on a lime background\r\n\r\n\t\t    CellStyle style = wb.createCellStyle();\r\n\t\t    \r\n\t\t   \r\n\t\t  rowxl.createCell(1).setCellValue(&quot;ABC&quot;);\r\n\t    rowxl.createCell(2).setCellValue(&quot;aaa&quot;);\r\n\t\t    Font font = wb.createFont();\r\n\t\t    font.setColor(HSSFColor.BLACK.index);\r\n\t\t    style.setFont(font);\r\n\t\t   \r\n\t\t    \r\n\t\t    cell.setCellStyle(style);\r\n\t\t    \r\n\t\t    FileOutputStream fileOut = new FileOutputStream(&quot;c:/workbook1.xls&quot;);\r\n    \t    wb.write(fileOut);\r\n    \t    fileOut.close();\r\n\t }\r\n}\r\n```","title":"How to change font color of particular cell apache poi 3.9","body":"<p>I can change foreground color with the following code in apache POI. Now I want to change font color of a single cell.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CellStyle style = wb.createCellStyle();\nstyle.setFillForegroundColor(IndexedColors.GREEN.getIndex());\nstyle.setFillPattern(CellStyle.SOLID_FOREGROUND);\ncell = rowxl.createCell((short) 7);\ncell.setCellValue(&quot; &lt;&lt;&lt;&lt;ONTRACK&gt;&gt;&gt;&gt;&quot;);\ncell.setCellStyle(style);\n\n\nrowxl.createCell(0).setCellValue(TEAM);\n</code></pre>\n<p>I have tried this but it does not change the color of first two columns</p>\n<p>code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class fclr {\n     public static void main(String[] args)  throws Exception {\n           \n         InputStream inp = new FileInputStream(&quot;c:/workbook1.xls&quot;);\n            Workbook wb = WorkbookFactory.create(inp);\n            CreationHelper createHelper = wb.getCreationHelper();\n            Sheet sheet = wb.getSheetAt(0);\n            Row rowxl = sheet.createRow((short)0);\n            \n        \n            Cell cell = rowxl.createCell(0);\n\n            //apply some colors from the standard palette,\n            // as in the previous examples.\n            //we'll use red text on a lime background\n\n            CellStyle style = wb.createCellStyle();\n            \n           \n          rowxl.createCell(1).setCellValue(&quot;ABC&quot;);\n        rowxl.createCell(2).setCellValue(&quot;aaa&quot;);\n            Font font = wb.createFont();\n            font.setColor(HSSFColor.BLACK.index);\n            style.setFont(font);\n           \n            \n            cell.setCellStyle(style);\n            \n            FileOutputStream fileOut = new FileOutputStream(&quot;c:/workbook1.xls&quot;);\n            wb.write(fileOut);\n            fileOut.close();\n     }\n}\n</code></pre>\n"},{"tags":["java","linked-list","palindrome"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695921808,"post_id":77196970,"comment_id":136091677,"body_markdown":"Can you include the code for `Node`? In particular, what type is `Data`?","body":"Can you include the code for <code>Node</code>? In particular, what type is <code>Data</code>?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695922426,"post_id":77196970,"comment_id":136091780,"body_markdown":"Have you tried running the code in a debugger? You can set breakpoints, and then execute the code one-line-at-a-time while monitoring variables.","body":"Have you tried running the code in a debugger? You can set breakpoints, and then execute the code one-line-at-a-time while monitoring variables."}],"answers":[{"tags":[],"owner":{"account_id":13177851,"reputation":557,"user_id":9518232,"display_name":"Euklios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695922207,"creation_date":1695921904,"answer_id":77197082,"question_id":77196970,"body_markdown":"It seems like you implemented your own linked list, making this question hard to answer.\r\n\r\nBut, assuming your code is similar to java.util.LinkedList:\r\n\r\n`==` in java checks references, not the Object given. You should use `.equals` to compare the Node data.\r\nEven better would be `Objects.equals(start.data, end.data)` as it also handles `null`.\r\n\r\nA great example for this behavior are Strings.\r\nJava collects the strings that you hard-coded in your program, so it works sometimes, but most of the time it doesn&#39;t.\r\n\r\n```java\r\n&quot;abc&quot; == &quot;abc&quot; // true\r\n&quot;abc&quot;.equals(&quot;abc&quot;) // true\r\n&quot;abc&quot; == new String(&quot;abc&quot;) // false\r\n&quot;abc&quot;.equals(new String(&quot;abc&quot;)) // true\r\n&quot;abc&quot; == getUserPassword() // false\r\n&quot;abc&quot;.equals(getUserPassword()) // true if user enters abc\r\n```\r\n\r\nI would recommend you to implement a double linked list, as it will improve performance and in this case make your life a lot easier.\r\nIt&#39;s basically adding a reference to the previous node as well.\r\nTherefore, you would not need to loop through all elements, but could get the previous node using `end.previous`.","title":"Checking if linked list is a palindrome","body":"<p>It seems like you implemented your own linked list, making this question hard to answer.</p>\n<p>But, assuming your code is similar to java.util.LinkedList:</p>\n<p><code>==</code> in java checks references, not the Object given. You should use <code>.equals</code> to compare the Node data.\nEven better would be <code>Objects.equals(start.data, end.data)</code> as it also handles <code>null</code>.</p>\n<p>A great example for this behavior are Strings.\nJava collects the strings that you hard-coded in your program, so it works sometimes, but most of the time it doesn't.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;abc&quot; == &quot;abc&quot; // true\n&quot;abc&quot;.equals(&quot;abc&quot;) // true\n&quot;abc&quot; == new String(&quot;abc&quot;) // false\n&quot;abc&quot;.equals(new String(&quot;abc&quot;)) // true\n&quot;abc&quot; == getUserPassword() // false\n&quot;abc&quot;.equals(getUserPassword()) // true if user enters abc\n</code></pre>\n<p>I would recommend you to implement a double linked list, as it will improve performance and in this case make your life a lot easier.\nIt's basically adding a reference to the previous node as well.\nTherefore, you would not need to loop through all elements, but could get the previous node using <code>end.previous</code>.</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695923197,"creation_date":1695923197,"answer_id":77197188,"question_id":77196970,"body_markdown":"The problem is in this line of code:\r\n\r\n            for (int i = 0; i &lt;= k; i++) {\r\n\r\nThis loop makes one iteration to many. Change to:\r\n\r\n            for (int i = 0; i &lt; k; i++) {\r\n\r\nThis will solve the wrong outputs you get for even the most simple test cases.\r\n\r\nBut now you will hit another problem: this code is too slow. The repeated looping you have to do to determine the node that *precedes* `end` is too costly, and gives your implementation a O(&#119899;&#178;) time complexity. You&#39;ll need to come up with a better idea.\r\n\r\nThis problem has been solved multitudes of times before, and also on this site you&#39;ll find explanations of what the more efficient way is to get it done.\r\n ","title":"Checking if linked list is a palindrome","body":"<p>The problem is in this line of code:</p>\n<pre><code>        for (int i = 0; i &lt;= k; i++) {\n</code></pre>\n<p>This loop makes one iteration to many. Change to:</p>\n<pre><code>        for (int i = 0; i &lt; k; i++) {\n</code></pre>\n<p>This will solve the wrong outputs you get for even the most simple test cases.</p>\n<p>But now you will hit another problem: this code is too slow. The repeated looping you have to do to determine the node that <em>precedes</em> <code>end</code> is too costly, and gives your implementation a O(𝑛²) time complexity. You'll need to come up with a better idea.</p>\n<p>This problem has been solved multitudes of times before, and also on this site you'll find explanations of what the more efficient way is to get it done.</p>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695928380,"creation_date":1695928380,"answer_id":77197664,"question_id":77196970,"body_markdown":"Side note:\r\n\r\n&gt; You should STORE the &quot;size&quot; variable as part of your linked list\r\n&gt; implementation, instead of calculating it with a loop. You know when\r\n&gt; anything is added to your linked list; add 1 to size. You know when\r\n&gt; something is deleted from your linked list; subtract 1 from size.\r\n\r\nMain Response:\r\n\r\nWithout using an external structure such as a Stack, or converting your linked list to a doubly-linked list, you&#39;re going to have to repeatedly use loops to figure out the node at the &quot;end&quot; position.\r\n\r\nYou can REDUCE the number of iterations, though, by beginning at the &quot;start&quot; position and jumping forward the requisite number of times.\r\n\r\nAt the very first comparison, the &quot;end&quot; position will be `size - 1` jumps away from &quot;start&quot;. After that, the number of jumps goes down by 2, every single time, since &quot;start&quot; has moved forward by one and &quot;end&quot; has moved backwards by one.\r\n\r\nWith that in mind, you can simply keep comparing as long as `(required number of jumps to get from &quot;start&quot; to &quot;end&quot; &gt;= 1`.\r\n\r\nThat&#39;d look something like this:\r\n\r\n      public boolean palindromLinkedList() {\r\n        // find size\r\n        Node temp = head;\r\n        int size = 0;\r\n        while(temp != null){\r\n            size++;\r\n            temp = temp.next;\r\n        }\r\n    \r\n        // check corresponding pairs\r\n        Node end;\r\n        Node start = head;\r\n        int jumps = size - 1;\r\n        \r\n        while (jumps &gt;= 1) {\r\n          end = start;\r\n          for(int i=1; i&lt;=jumps; i++) {\r\n            end = end.next;  \r\n          }\r\n    \r\n          // ... do your comparison using one of the below ...\r\n          \r\n          // assuming a REFERENCE type of &quot;data&quot; that has an equals() method\r\n          if (!start.data.equals(end.data)) {\r\n            return false;\r\n          }\r\n    \r\n          // assuming a PRIMITIVE type of &quot;data&quot; (like int, double, etc)\r\n          if (start.data != end.data) {\r\n            return false;\r\n          }\r\n          \r\n          jumps = jumps - 2;\r\n          start = start.next;\r\n        }\r\n        \r\n        return true; // no counter-example found\r\n      }\r\n\r\n","title":"Checking if linked list is a palindrome","body":"<p>Side note:</p>\n<blockquote>\n<p>You should STORE the &quot;size&quot; variable as part of your linked list\nimplementation, instead of calculating it with a loop. You know when\nanything is added to your linked list; add 1 to size. You know when\nsomething is deleted from your linked list; subtract 1 from size.</p>\n</blockquote>\n<p>Main Response:</p>\n<p>Without using an external structure such as a Stack, or converting your linked list to a doubly-linked list, you're going to have to repeatedly use loops to figure out the node at the &quot;end&quot; position.</p>\n<p>You can REDUCE the number of iterations, though, by beginning at the &quot;start&quot; position and jumping forward the requisite number of times.</p>\n<p>At the very first comparison, the &quot;end&quot; position will be <code>size - 1</code> jumps away from &quot;start&quot;. After that, the number of jumps goes down by 2, every single time, since &quot;start&quot; has moved forward by one and &quot;end&quot; has moved backwards by one.</p>\n<p>With that in mind, you can simply keep comparing as long as <code>(required number of jumps to get from &quot;start&quot; to &quot;end&quot; &gt;= 1</code>.</p>\n<p>That'd look something like this:</p>\n<pre><code>  public boolean palindromLinkedList() {\n    // find size\n    Node temp = head;\n    int size = 0;\n    while(temp != null){\n        size++;\n        temp = temp.next;\n    }\n\n    // check corresponding pairs\n    Node end;\n    Node start = head;\n    int jumps = size - 1;\n    \n    while (jumps &gt;= 1) {\n      end = start;\n      for(int i=1; i&lt;=jumps; i++) {\n        end = end.next;  \n      }\n\n      // ... do your comparison using one of the below ...\n      \n      // assuming a REFERENCE type of &quot;data&quot; that has an equals() method\n      if (!start.data.equals(end.data)) {\n        return false;\n      }\n\n      // assuming a PRIMITIVE type of &quot;data&quot; (like int, double, etc)\n      if (start.data != end.data) {\n        return false;\n      }\n      \n      jumps = jumps - 2;\n      start = start.next;\n    }\n    \n    return true; // no counter-example found\n  }\n</code></pre>\n"}],"owner":{"account_id":29513933,"reputation":11,"user_id":22618319,"display_name":"Rishiksai Santhosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1695928380,"creation_date":1695920436,"question_id":77196970,"body_markdown":"    public boolean palindromLinkedList() {\r\n        //find size\r\n        Node temp = head;\r\n        int size=0;\r\n        while(temp != null){\r\n            size++;\r\n            temp=temp.next;\r\n        }\r\n        //find while loop iteration\r\n        int c;\r\n        if(size%2 ==0){\r\n            c = size/2;\r\n        }else{\r\n            c = (size+1)/2;\r\n        }\r\n        //intialise start and end pointer\r\n        Node start = head;\r\n        Node end = tail;\r\n        //index pointer\r\n        int k =size-1;\r\n        //loop for the palindrome condition\r\n        while(c &gt; 0)`\r\n            if(start.data != end.data){\r\n                return false;\r\n            }\r\n            start = start.next;\r\n            Node find = head;\r\n            k--;\r\n            for(int i=0;i&lt;=k;i++){\r\n                find = find.next;\r\n            }\r\n            end = find;\r\n            c--;\r\n        }\r\n        return true;\r\n    }\r\n\r\nI tried to check if the linkedlist was a palindrome or not using an approach similar to two pointer.   \r\nI initialized two variables: `start = head` and `end = tail`.  \r\n  \r\nStart checks the node from start and end starts from tail, after checking if data of start and end value are equal I made the changed made start point the next node and used a for loop to find the previous node of end, and this process continued until the pointer reach the middle node.  \r\n\r\nIf the linkedlist is a palindrome it returns true or else false. I think my approach was correct, but there seems to be something that I missed.","title":"Checking if linked list is a palindrome","body":"<pre><code>public boolean palindromLinkedList() {\n    //find size\n    Node temp = head;\n    int size=0;\n    while(temp != null){\n        size++;\n        temp=temp.next;\n    }\n    //find while loop iteration\n    int c;\n    if(size%2 ==0){\n        c = size/2;\n    }else{\n        c = (size+1)/2;\n    }\n    //intialise start and end pointer\n    Node start = head;\n    Node end = tail;\n    //index pointer\n    int k =size-1;\n    //loop for the palindrome condition\n    while(c &gt; 0)`\n        if(start.data != end.data){\n            return false;\n        }\n        start = start.next;\n        Node find = head;\n        k--;\n        for(int i=0;i&lt;=k;i++){\n            find = find.next;\n        }\n        end = find;\n        c--;\n    }\n    return true;\n}\n</code></pre>\n<p>I tried to check if the linkedlist was a palindrome or not using an approach similar to two pointer.<br />\nI initialized two variables: <code>start = head</code> and <code>end = tail</code>.</p>\n<p>Start checks the node from start and end starts from tail, after checking if data of start and end value are equal I made the changed made start point the next node and used a for loop to find the previous node of end, and this process continued until the pointer reach the middle node.</p>\n<p>If the linkedlist is a palindrome it returns true or else false. I think my approach was correct, but there seems to be something that I missed.</p>\n"},{"tags":["java","android","android-webview"],"comments":[{"owner":{"account_id":6554205,"reputation":8514,"user_id":5067493,"accept_rate":81,"display_name":"Shree Krishna"},"score":2,"creation_date":1455445661,"post_id":35390590,"comment_id":58485374,"body_markdown":"are you using webview?","body":"are you using webview?"},{"owner":{"account_id":6908419,"reputation":343,"user_id":5305285,"accept_rate":67,"display_name":"nahum"},"score":0,"creation_date":1455453470,"post_id":35390590,"comment_id":58487460,"body_markdown":"Yes, I am using a webView","body":"Yes, I am using a webView"}],"answers":[{"tags":[],"owner":{"account_id":6554205,"reputation":8514,"user_id":5067493,"accept_rate":81,"display_name":"Shree Krishna"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1455553442,"creation_date":1455509043,"answer_id":35401325,"question_id":35390590,"body_markdown":"First of all I can suggest you to have a look at [`CookieManager`][1] class which manages the cookies used by WebView. There was a method `removeAllCookie()` for clearing the cookies but It was deprecated in API level 21, So instead of this you can use [`removeAllCookeis(callback)`][2] method. You can pass `null` as the callback if you don&#39;t need to know when the operation completes or whether any cookie were removed, and in this case it is safe to call the method from a thread without a Looper.\r\n\r\nTo clear cookies in lollipop or more you can use \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    CookieManager.getInstance().removeAllCookies(null);\r\n    CookieManager.getInstance().flush();\r\n\r\nand in rest \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    CookieSyncManager cookieSyncMngr=CookieSyncManager.createInstance(context);\r\n    cookieSyncMngr.startSync();\r\n    CookieManager cookieManager=CookieManager.getInstance();\r\n    cookieManager.removeAllCookie();\r\n    cookieManager.removeSessionCookie();\r\n    cookieSyncMngr.stopSync();\r\n    cookieSyncMngr.sync();\r\n\r\n  [1]: http://developer.android.com/intl/ru/reference/android/webkit/CookieManager.html\r\n  [2]: http://developer.android.com/intl/ru/reference/android/webkit/CookieManager.html#removeAllCookies(android.webkit.ValueCallback%3Cjava.lang.Boolean%3E)","title":"Remove all cookies from specific domain in web view","body":"<p>First of all I can suggest you to have a look at <a href=\"http://developer.android.com/intl/ru/reference/android/webkit/CookieManager.html\" rel=\"nofollow noreferrer\"><code>CookieManager</code></a> class which manages the cookies used by WebView. There was a method <code>removeAllCookie()</code> for clearing the cookies but It was deprecated in API level 21, So instead of this you can use <a href=\"http://developer.android.com/intl/ru/reference/android/webkit/CookieManager.html#removeAllCookies(android.webkit.ValueCallback%3Cjava.lang.Boolean%3E)\" rel=\"nofollow noreferrer\"><code>removeAllCookeis(callback)</code></a> method. You can pass <code>null</code> as the callback if you don't need to know when the operation completes or whether any cookie were removed, and in this case it is safe to call the method from a thread without a Looper.</p>\n\n<p>To clear cookies in lollipop or more you can use </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>CookieManager.getInstance().removeAllCookies(null);\nCookieManager.getInstance().flush();\n</code></pre>\n\n<p>and in rest </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>CookieSyncManager cookieSyncMngr=CookieSyncManager.createInstance(context);\ncookieSyncMngr.startSync();\nCookieManager cookieManager=CookieManager.getInstance();\ncookieManager.removeAllCookie();\ncookieManager.removeSessionCookie();\ncookieSyncMngr.stopSync();\ncookieSyncMngr.sync();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7530597,"reputation":3323,"user_id":5718968,"display_name":"Let&#39;sRefactor"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1695928282,"creation_date":1455514248,"answer_id":35402092,"question_id":35390590,"body_markdown":"As per [documentation][1], we don&#39;t have a method for removing individual cookies.\r\nBut we could use an interesting work around with `setCookie()` to clear a site&#39;s cookies. as, \r\n\r\n&gt; public abstract void setCookie (String url, String value)\r\n&gt; ========\r\n\r\n&gt;Sets a cookie for the given URL. Any existing cookie with the same host, **path and name will be replaced with the new cookie**. The cookie being set will be ignored if it is expired.\r\n\r\nSo, the solution is, As mentioned in [this][2] answer, we need to manually clean up each cookie for each host key. eg:- *facebook*\r\n\r\n    android.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;locale=;Max-Age=0&quot;);\r\n    android.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;datr=;Max-Age=0&quot;);\r\n    android.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;s=;Max-Age=0&quot;);\r\n    android.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;csm=;Max-Age=0&quot;);\r\n    android.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;fr=;Max-Age=0&quot;);\r\n    android.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;lu=;Max-Age=0&quot;);\r\n    android.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;c_user=;Max-Age=0&quot;);\r\n    android.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;xs=;Max-Age=0&quot;);\r\n\r\n\r\n  [1]: http://developer.android.com/intl/ru/reference/android/webkit/CookieManager.html\r\n  [2]: https://stackoverflow.com/a/23521188/5718968","title":"Remove all cookies from specific domain in web view","body":"<p>As per <a href=\"http://developer.android.com/intl/ru/reference/android/webkit/CookieManager.html\" rel=\"nofollow noreferrer\">documentation</a>, we don't have a method for removing individual cookies.\nBut we could use an interesting work around with <code>setCookie()</code> to clear a site's cookies. as,</p>\n<blockquote>\n<h1>public abstract void setCookie (String url, String value)</h1>\n</blockquote>\n<blockquote>\n<p>Sets a cookie for the given URL. Any existing cookie with the same host, <strong>path and name will be replaced with the new cookie</strong>. The cookie being set will be ignored if it is expired.</p>\n</blockquote>\n<p>So, the solution is, As mentioned in <a href=\"https://stackoverflow.com/a/23521188/5718968\">this</a> answer, we need to manually clean up each cookie for each host key. eg:- <em>facebook</em></p>\n<pre><code>android.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;locale=;Max-Age=0&quot;);\nandroid.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;datr=;Max-Age=0&quot;);\nandroid.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;s=;Max-Age=0&quot;);\nandroid.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;csm=;Max-Age=0&quot;);\nandroid.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;fr=;Max-Age=0&quot;);\nandroid.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;lu=;Max-Age=0&quot;);\nandroid.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;c_user=;Max-Age=0&quot;);\nandroid.webkit.CookieManager.getInstance().setCookie(&quot;.facebook.com&quot;, &quot;xs=;Max-Age=0&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5138970,"reputation":811,"user_id":4116924,"display_name":"AnT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534230042,"creation_date":1534230042,"answer_id":51835495,"question_id":35390590,"body_markdown":"@Let&#39;sRefactor&#39;s answer has the right direction but not actually works because as the [document][1] states, we have to use the &#39;Set-Cookie&#39; HTTP response header format:\r\n\r\n&gt; **value** - **String**: the cookie as a string, using the format of the &#39;Set-Cookie&#39; HTTP response header\r\n\r\nI have write the following code to remove cookies from any specific domain:\r\n\r\n    public static void deleteCookies(String url) {\r\n        CookieManager cookieManager = CookieManager.getInstance();\r\n        try {\r\n            String domainName = Utils.getDomainName(url);\r\n            String cookiesString = cookieManager.getCookie(url);\r\n            String[] cookies = cookiesString.split(&quot;; &quot;);\r\n            for (String cookie : cookies) {\r\n                if (Strings.isNullOrEmpty(cookie))\r\n                    continue;\r\n                int equalCharIndex = cookie.indexOf(&#39;=&#39;);\r\n                if (equalCharIndex == -1)\r\n                    continue;\r\n                String cookieString = cookie.substring(0, equalCharIndex) + &#39;=&#39;\r\n                        + &quot;; Domain=&quot; + domainName;\r\n                cookieManager.setCookie(url, cookieString);\r\n            }\r\n        } catch (URISyntaxException e) {\r\n            Log.e(&quot;TAG&quot;, &quot;Message&quot;, e);\r\n        }\r\n    }\r\n\r\nAnd the following code to get domain without subdomain:\r\n\r\n    public static String getDomainName(@NotNull String url) throws URISyntaxException {\r\n        URI uri = new URI(url);\r\n        String domain = uri.getHost();\r\n        domain = domain.startsWith(&quot;www.&quot;) ? domain.substring(4) : domain;\r\n        try {\r\n            //Try to get the domain without subdomain. Ex: mobile.twitter.com would returns twitter.com\r\n            //Note: InternetDomainName is from Guava library\r\n            return InternetDomainName.from(domain).topPrivateDomain().toString();\r\n        } catch (IllegalStateException e) {\r\n            Log.e(&quot;getDomainName()&quot;, &quot;Illegal url&quot;);\r\n        }\r\n        return domain;\r\n    }\r\n\r\n  [1]: https://developer.android.com/reference/android/webkit/CookieManager.html?hl=ru#setCookie(java.lang.String,%20java.lang.String,%20android.webkit.ValueCallback%3Cjava.lang.Boolean%3E)\r\n","title":"Remove all cookies from specific domain in web view","body":"<p>@Let'sRefactor's answer has the right direction but not actually works because as the <a href=\"https://developer.android.com/reference/android/webkit/CookieManager.html?hl=ru#setCookie(java.lang.String,%20java.lang.String,%20android.webkit.ValueCallback%3Cjava.lang.Boolean%3E)\" rel=\"nofollow noreferrer\">document</a> states, we have to use the 'Set-Cookie' HTTP response header format:</p>\n\n<blockquote>\n  <p><strong>value</strong> - <strong>String</strong>: the cookie as a string, using the format of the 'Set-Cookie' HTTP response header</p>\n</blockquote>\n\n<p>I have write the following code to remove cookies from any specific domain:</p>\n\n<pre><code>public static void deleteCookies(String url) {\n    CookieManager cookieManager = CookieManager.getInstance();\n    try {\n        String domainName = Utils.getDomainName(url);\n        String cookiesString = cookieManager.getCookie(url);\n        String[] cookies = cookiesString.split(\"; \");\n        for (String cookie : cookies) {\n            if (Strings.isNullOrEmpty(cookie))\n                continue;\n            int equalCharIndex = cookie.indexOf('=');\n            if (equalCharIndex == -1)\n                continue;\n            String cookieString = cookie.substring(0, equalCharIndex) + '='\n                    + \"; Domain=\" + domainName;\n            cookieManager.setCookie(url, cookieString);\n        }\n    } catch (URISyntaxException e) {\n        Log.e(\"TAG\", \"Message\", e);\n    }\n}\n</code></pre>\n\n<p>And the following code to get domain without subdomain:</p>\n\n<pre><code>public static String getDomainName(@NotNull String url) throws URISyntaxException {\n    URI uri = new URI(url);\n    String domain = uri.getHost();\n    domain = domain.startsWith(\"www.\") ? domain.substring(4) : domain;\n    try {\n        //Try to get the domain without subdomain. Ex: mobile.twitter.com would returns twitter.com\n        //Note: InternetDomainName is from Guava library\n        return InternetDomainName.from(domain).topPrivateDomain().toString();\n    } catch (IllegalStateException e) {\n        Log.e(\"getDomainName()\", \"Illegal url\");\n    }\n    return domain;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3614787,"reputation":573,"user_id":3014958,"display_name":"Dariusz Wiechecki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1537973170,"creation_date":1537973170,"answer_id":52520486,"question_id":35390590,"body_markdown":"`Let&#39;sRefactor` and `AnT` answers were helpful to find final solution for me. So basically we need to clean every cookie, one by one. But for me just setting `&quot;value=&quot;` or `&quot;value=; Domain=my.domain.com&quot;` was not working. I guess it is a problem of the page I was loading, on which I had no control (it was printing crash stack trace on reading the cookies). So for me final solution was to remove cookies, not empty them. Of course we don&#39;t have any API for deleting particular cookie, but we can use parameter of  `&#39;Set-Cookie&#39;` HTTP response header format for Max-Age. My final code looks like this (Kotlin, in production code I have strings in constants of course ;) ):\r\n\r\n    val domain = myPageUri.host\r\n    CookieManager.getInstance().apply {\r\n       getCookie(domain)\r\n          .split(&quot;; &quot;)\r\n          .filter { it.isNotNullOrBlank() }\r\n          .forEach {\r\n             val newCookieValue = it.substringBefore(&quot;=&quot;) + &quot;=; Max-Age=-1&quot;\r\n             setCookie(domain, newCookieValue)\r\n          }\r\n    }\r\n\r\n`substringBefore(character: String)` is just our extension function on `String` to return substring from start to first occurrence of `character`.","title":"Remove all cookies from specific domain in web view","body":"<p><code>Let'sRefactor</code> and <code>AnT</code> answers were helpful to find final solution for me. So basically we need to clean every cookie, one by one. But for me just setting <code>\"value=\"</code> or <code>\"value=; Domain=my.domain.com\"</code> was not working. I guess it is a problem of the page I was loading, on which I had no control (it was printing crash stack trace on reading the cookies). So for me final solution was to remove cookies, not empty them. Of course we don't have any API for deleting particular cookie, but we can use parameter of  <code>'Set-Cookie'</code> HTTP response header format for Max-Age. My final code looks like this (Kotlin, in production code I have strings in constants of course ;) ):</p>\n\n<pre><code>val domain = myPageUri.host\nCookieManager.getInstance().apply {\n   getCookie(domain)\n      .split(\"; \")\n      .filter { it.isNotNullOrBlank() }\n      .forEach {\n         val newCookieValue = it.substringBefore(\"=\") + \"=; Max-Age=-1\"\n         setCookie(domain, newCookieValue)\n      }\n}\n</code></pre>\n\n<p><code>substringBefore(character: String)</code> is just our extension function on <code>String</code> to return substring from start to first occurrence of <code>character</code>.</p>\n"},{"tags":[],"owner":{"account_id":2162613,"reputation":9277,"user_id":1916449,"accept_rate":100,"display_name":"arekolek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680608282,"creation_date":1680608282,"answer_id":75928902,"question_id":35390590,"body_markdown":"Other answers didn&#39;t work for me, because they didn&#39;t set the correct path for the cookie.\r\n\r\nWhat seems to work for me:\r\n\r\n```kotlin\r\nimport android.webkit.CookieManager\r\nimport okhttp3.HttpUrl.Companion.toHttpUrl\r\n\r\nfun CookieManager.removeCookies(url: String) {\r\n    val cookies = getCookie(url) ?: return\r\n\r\n    // Android SDK will not tell us what path was used to set the cookie, so we remove the cookie for all possible paths\r\n    val paths = url.toHttpUrl().encodedPathSegments.scan(&quot;/&quot;) { prefix, segment -&gt; &quot;$prefix$segment/&quot; }\r\n\r\n    val keys = cookies.split(&quot;;&quot;)\r\n            .map { it.substringBefore(&quot;=&quot;, missingDelimiterValue = &quot;&quot;).trim() }\r\n            .filter { it.isNotEmpty() }\r\n            .distinct()\r\n\r\n    keys.forEach { key -&gt;\r\n        paths.forEach {\r\n            // Max-Age effectively removes the cookie\r\n            setCookie(url, &quot;$key=; Path=$it; Max-Age=-1&quot;)\r\n        }\r\n    }\r\n}\r\n```","title":"Remove all cookies from specific domain in web view","body":"<p>Other answers didn't work for me, because they didn't set the correct path for the cookie.</p>\n<p>What seems to work for me:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import android.webkit.CookieManager\nimport okhttp3.HttpUrl.Companion.toHttpUrl\n\nfun CookieManager.removeCookies(url: String) {\n    val cookies = getCookie(url) ?: return\n\n    // Android SDK will not tell us what path was used to set the cookie, so we remove the cookie for all possible paths\n    val paths = url.toHttpUrl().encodedPathSegments.scan(&quot;/&quot;) { prefix, segment -&gt; &quot;$prefix$segment/&quot; }\n\n    val keys = cookies.split(&quot;;&quot;)\n            .map { it.substringBefore(&quot;=&quot;, missingDelimiterValue = &quot;&quot;).trim() }\n            .filter { it.isNotEmpty() }\n            .distinct()\n\n    keys.forEach { key -&gt;\n        paths.forEach {\n            // Max-Age effectively removes the cookie\n            setCookie(url, &quot;$key=; Path=$it; Max-Age=-1&quot;)\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6908419,"reputation":343,"user_id":5305285,"accept_rate":67,"display_name":"nahum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11137,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":35402092,"answer_count":5,"score":8,"last_activity_date":1695928282,"creation_date":1455444700,"question_id":35390590,"body_markdown":"I am trying to remove all the cookies from some domain, is there a way to do this?\r\n\r\nThe only method i saw is removeAllCookies.\r\n\r\nThank you. ","title":"Remove all cookies from specific domain in web view","body":"<p>I am trying to remove all the cookies from some domain, is there a way to do this?</p>\n\n<p>The only method i saw is removeAllCookies.</p>\n\n<p>Thank you. </p>\n"},{"tags":["java","pattern-matching","java-21"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695840041,"post_id":77189424,"comment_id":136079090,"body_markdown":"[The example in the JEP](https://openjdk.org/jeps/441#Case-refinement) shows the null case being handled, as lealceldeiro mentions in his answer.","body":"<a href=\"https://openjdk.org/jeps/441#Case-refinement\" rel=\"nofollow noreferrer\">The example in the JEP</a> shows the null case being handled, as lealceldeiro mentions in his answer."},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1695842519,"post_id":77189424,"comment_id":136079496,"body_markdown":"@user85421, according to the specs, it should be `case null, default -&gt; {}`, but, for the matter, even `default -&gt; {}` alone &quot;solves&quot; it.","body":"@user85421, according to the specs, it should be <code>case null, default -&gt; {}</code>, but, for the matter, even <code>default -&gt; {}</code> alone &quot;solves&quot; it."},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1695842855,"post_id":77189424,"comment_id":136079550,"body_markdown":"@user85421, I know... I was just replying to your previous comment... the OP is asking about exhaustiveness related to guarded, unguarded pattern... the `default` case just happens to be mentioned in the specs I linked.","body":"@user85421, I know... I was just replying to your previous comment... the OP is asking about exhaustiveness related to guarded, unguarded pattern... the <code>default</code> case just happens to be mentioned in the specs I linked."},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1695843687,"post_id":77189424,"comment_id":136079677,"body_markdown":"hey @user85421, I&#39;m sorry if I created some confusion. With my last comment I was trying to clarify what was meant by `case null, default`. I posted it to reply to (part) of your comment *&quot;... not sure if that is what lealceldeiro mentions in his answer...&quot;*. As you correctly clarified `case null -&gt; { }` **does not** solve the problem. And then I mentioned that this `case null, default` is what is officially stated in the JLS. Again, I agree with you: just adding a `default` to this code defeats the purpose of the question.","body":"hey @user85421, I&#39;m sorry if I created some confusion. With my last comment I was trying to clarify what was meant by <code>case null, default</code>. I posted it to reply to (part) of your comment <i>&quot;... not sure if that is what lealceldeiro mentions in his answer...&quot;</i>. As you correctly clarified <code>case null -&gt; { }</code> <b>does not</b> solve the problem. And then I mentioned that this <code>case null, default</code> is what is officially stated in the JLS. Again, I agree with you: just adding a <code>default</code> to this code defeats the purpose of the question."},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1695843784,"post_id":77189424,"comment_id":136079692,"body_markdown":"in short, and as I see it for this case, there must be an unguarded case.","body":"in short, and as I see it for this case, there must be an unguarded case."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1695889555,"post_id":77189424,"comment_id":136084913,"body_markdown":"Letting the exhaustiveness issue aside, I’d rather use `case RecordB(var b) when b -&gt; …` and `case RecordB(var b) when !b -&gt; …`","body":"Letting the exhaustiveness issue aside, I’d rather use <code>case RecordB(var b) when b -&gt; …</code> and <code>case RecordB(var b) when !b -&gt; …</code>"},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":6,"creation_date":1695901347,"post_id":77189424,"comment_id":136087215,"body_markdown":"No, it is not the case that &quot;any guarded pattern makes the switch non-exhaustive&quot;, but guarded patterns are not considered for purposes of computing exhaustiveness (which is probably what you meant.)","body":"No, it is not the case that &quot;any guarded pattern makes the switch non-exhaustive&quot;, but guarded patterns are not considered for purposes of computing exhaustiveness (which is probably what you meant.)"},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":6,"creation_date":1695901524,"post_id":77189424,"comment_id":136087258,"body_markdown":"I think what you&#39;d like to ask is whether it would be possible for the compiler to analyze the `when` predicates and figure out that things like `x&gt;0` and `x&lt;=0` together are exhaustive.  While this would be nice, this is impossible in the general case (see, e.g. Rice&#39;s theorem), and the boundary between what an arbitrarily smart algorithm can figure out or not would be complicated and surprising to users.  So we instead opted to draw a simple, bright line, rather than navigating a fractal boundary (likely iteratively).","body":"I think what you&#39;d like to ask is whether it would be possible for the compiler to analyze the <code>when</code> predicates and figure out that things like <code>x&gt;0</code> and <code>x&lt;=0</code> together are exhaustive.  While this would be nice, this is impossible in the general case (see, e.g. Rice&#39;s theorem), and the boundary between what an arbitrarily smart algorithm can figure out or not would be complicated and surprising to users.  So we instead opted to draw a simple, bright line, rather than navigating a fractal boundary (likely iteratively)."}],"answers":[{"tags":[],"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1695928225,"creation_date":1695836916,"answer_id":77189790,"question_id":77189424,"body_markdown":"&gt; does any guarded pattern always make the switch expression non-exhaustive for the compiler or I am missing something here?\r\n\r\nNo, it&#39;s not that &quot;*any* guarded pattern makes the switch statement non-exhaustive&quot;, but there must be *at least* one unguarded pattern covering the type. If there is not *any* such unguarded pattern, it makes it non-exhaustive.\r\n\r\nMore formally (see [JLS 14.11.1.1. Exhaustive Switch Blocks][1]),\r\n\r\n&gt; The switch block of a `switch` expression or `switch` statement is exhaustive for a selector expression `e` if one of the following cases applies:\r\n&gt;\r\n&gt; \r\n&gt; - There is a `default` label associated with the switch block.\r\n&gt; \r\n&gt; - There is a `case null, default` label associated with the switch block.\r\n&gt; \r\n&gt; - The **set containing all the** `case` constants and **`case` patterns appearing**\r\n&gt; **in an unguarded `case` label** (collectively known as `case` elements)\r\n&gt; associated with the switch block **is non-empty** and covers the type of\r\n&gt; the selector expression `e`.\r\n\r\nThe key point here is **non-empty**.\r\n\r\nIn your case the *set containing the case patterns appearing in an unguarded case label is **empty***.\r\n\r\n\r\n----------\r\n\r\n\r\nSide note:\r\n\r\nAfter [JEP 455 Primitive types in Patterns, instanceof, and switch][2] is implemented, the switch statement could be exhaustive if a nested pattern is used to access `bool` value directly (see comments below from davidalayachew).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se21/html/jls-14.html#jls-14.11.1.1\r\n  [2]: https://openjdk.org/jeps/455","title":"Java 21 guarded pattern exhaustiveness","body":"<blockquote>\n<p>does any guarded pattern always make the switch expression non-exhaustive for the compiler or I am missing something here?</p>\n</blockquote>\n<p>No, it's not that &quot;<em>any</em> guarded pattern makes the switch statement non-exhaustive&quot;, but there must be <em>at least</em> one unguarded pattern covering the type. If there is not <em>any</em> such unguarded pattern, it makes it non-exhaustive.</p>\n<p>More formally (see <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-14.html#jls-14.11.1.1\" rel=\"noreferrer\">JLS 14.11.1.1. Exhaustive Switch Blocks</a>),</p>\n<blockquote>\n<p>The switch block of a <code>switch</code> expression or <code>switch</code> statement is exhaustive for a selector expression <code>e</code> if one of the following cases applies:</p>\n<ul>\n<li><p>There is a <code>default</code> label associated with the switch block.</p>\n</li>\n<li><p>There is a <code>case null, default</code> label associated with the switch block.</p>\n</li>\n<li><p>The <strong>set containing all the</strong> <code>case</code> constants and <strong><code>case</code> patterns appearing</strong>\n<strong>in an unguarded <code>case</code> label</strong> (collectively known as <code>case</code> elements)\nassociated with the switch block <strong>is non-empty</strong> and covers the type of\nthe selector expression <code>e</code>.</p>\n</li>\n</ul>\n</blockquote>\n<p>The key point here is <strong>non-empty</strong>.</p>\n<p>In your case the <em>set containing the case patterns appearing in an unguarded case label is <strong>empty</strong></em>.</p>\n<hr />\n<p>Side note:</p>\n<p>After <a href=\"https://openjdk.org/jeps/455\" rel=\"noreferrer\">JEP 455 Primitive types in Patterns, instanceof, and switch</a> is implemented, the switch statement could be exhaustive if a nested pattern is used to access <code>bool</code> value directly (see comments below from davidalayachew).</p>\n"}],"owner":{"account_id":10775855,"reputation":331,"user_id":7927921,"display_name":"Martin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":77189790,"answer_count":1,"score":10,"last_activity_date":1695928225,"creation_date":1695833217,"question_id":77189424,"body_markdown":"I started to play with the new [Java 21][1] feature - [pattern matching][2]. \r\n\r\n```java\r\npublic class Main {\r\n\r\n  public static void main(String[] args) {\r\n\r\n    RecordB recordB = new RecordB(true);\r\n\r\n    switch(recordB) {\r\n      case RecordB b when b.bool() -&gt; System.out.println(&quot;It&#39;s true&quot;);\r\n      case RecordB b when !b.bool() -&gt; System.out.println(&quot;It&#39;s false&quot;);\r\n    }\r\n\r\n  }\r\n\r\n  record RecordB(boolean bool) { }\r\n}\r\n```\r\n\r\nWhen compiling the code above, the compiler yields information that ```the switch statement does not cover all possible input values```\r\n\r\nThis is not necessarily true from my perspective. So here is my question: does any guarded pattern always make the switch expression non-exhaustive for the compiler or I am missing something here?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_21\r\n  [2]: https://openjdk.org/jeps/441","title":"Java 21 guarded pattern exhaustiveness","body":"<p>I started to play with the new <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_21\" rel=\"noreferrer\">Java 21</a> feature - <a href=\"https://openjdk.org/jeps/441\" rel=\"noreferrer\">pattern matching</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n  public static void main(String[] args) {\n\n    RecordB recordB = new RecordB(true);\n\n    switch(recordB) {\n      case RecordB b when b.bool() -&gt; System.out.println(&quot;It's true&quot;);\n      case RecordB b when !b.bool() -&gt; System.out.println(&quot;It's false&quot;);\n    }\n\n  }\n\n  record RecordB(boolean bool) { }\n}\n</code></pre>\n<p>When compiling the code above, the compiler yields information that <code>the switch statement does not cover all possible input values</code></p>\n<p>This is not necessarily true from my perspective. So here is my question: does any guarded pattern always make the switch expression non-exhaustive for the compiler or I am missing something here?</p>\n"},{"tags":["java","maven","jar","pom.xml","external"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1629816862,"post_id":68905006,"comment_id":121783410,"body_markdown":"Where is the given dependency `typeadapters` coming from? If it&#39;s coming from google you have to use the correct repository which is obviously not the case.","body":"Where is the given dependency <code>typeadapters</code> coming from? If it&#39;s coming from google you have to use the correct repository which is obviously not the case."}],"answers":[{"tags":[],"owner":{"account_id":2538516,"reputation":540,"user_id":5662508,"display_name":"Nagaraju Chitimilla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629797510,"creation_date":1629797510,"answer_id":68905104,"question_id":68905006,"body_markdown":"Use below dependency to include the jar available in the local machine to maven.\r\n\r\n    &lt;dependency&gt;    \r\n      &lt;groupId&gt;groupid&lt;/groupId&gt;    \r\n      &lt;artifactId&gt;artifactid&lt;/artifactId&gt;   \r\n      &lt;version&gt;1.0&lt;/version&gt;    \r\n      &lt;scope&gt;system&lt;/scope&gt; \r\n      &lt;systemPath&gt;${basedir}\\lib\\JAR_NAME.jar&lt;/systemPath&gt;  \r\n    &lt;/dependency&gt;","title":"Maven add external jar","body":"<p>Use below dependency to include the jar available in the local machine to maven.</p>\n<pre><code>&lt;dependency&gt;    \n  &lt;groupId&gt;groupid&lt;/groupId&gt;    \n  &lt;artifactId&gt;artifactid&lt;/artifactId&gt;   \n  &lt;version&gt;1.0&lt;/version&gt;    \n  &lt;scope&gt;system&lt;/scope&gt; \n  &lt;systemPath&gt;${basedir}\\lib\\JAR_NAME.jar&lt;/systemPath&gt;  \n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3154859,"reputation":19,"user_id":2667470,"display_name":"AnaGutiFontan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10772,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695927905,"creation_date":1629797121,"question_id":68905006,"body_markdown":"I would like to add the following jar \r\n\r\ngson-extras-1.0-SNAPSHOT.jar\r\n\r\nthe jar structure is the following\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nlooking at the manifest the version is \r\n\r\nManifest-Version: 1.0\r\n\r\n\r\nthe pom is the following\r\n\r\n    &lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;grupoicarep&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;file:///C:/stix/stix_ica/stix2/lib/&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;typeadapters&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\r\nbut it shows the following error:\r\n\r\nFailed to execute goal on project stix2: Could not resolve dependencies for project es.grupoica:stix2:jar:0.0.1-SNAPSHOT: Failure to find com.google.gson:typeadapters:jar:0.1 in file:///C:/stix/stix_ica/stix2/lib/ was cached in the local repository, resolution will not be reattempted until the update interval of grupoicarep has elapsed or updates are forced -&gt; [Help 1]\r\n[ERROR] \r\n\r\nI have tried many combinations but I am just guessing and not getting the right result\r\n\r\nI don&#180;t know what I am doing wrong\r\n\r\nmany thanks in advance \r\n\r\nAna\r\n\r\n  [1]: https://i.stack.imgur.com/jR3CG.png\r\n\r\n","title":"Maven add external jar","body":"<p>I would like to add the following jar</p>\n<p>gson-extras-1.0-SNAPSHOT.jar</p>\n<p>the jar structure is the following</p>\n<p><a href=\"https://i.stack.imgur.com/jR3CG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jR3CG.png\" alt=\"enter image description here\" /></a></p>\n<p>looking at the manifest the version is</p>\n<p>Manifest-Version: 1.0</p>\n<p>the pom is the following</p>\n<pre><code>&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;grupoicarep&lt;/id&gt;\n            &lt;url&gt;file:///C:/stix/stix_ica/stix2/lib/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;typeadapters&lt;/artifactId&gt;\n            &lt;version&gt;0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n</code></pre>\n<p>but it shows the following error:</p>\n<p>Failed to execute goal on project stix2: Could not resolve dependencies for project es.grupoica:stix2:jar:0.0.1-SNAPSHOT: Failure to find com.google.gson:typeadapters:jar:0.1 in file:///C:/stix/stix_ica/stix2/lib/ was cached in the local repository, resolution will not be reattempted until the update interval of grupoicarep has elapsed or updates are forced -&gt; [Help 1]\n[ERROR]</p>\n<p>I have tried many combinations but I am just guessing and not getting the right result</p>\n<p>I don´t know what I am doing wrong</p>\n<p>many thanks in advance</p>\n<p>Ana</p>\n"},{"tags":["java","android","barcode-scanner","google-mlkit","datamatrix"],"owner":{"account_id":29557152,"reputation":1,"user_id":22652581,"display_name":"Miguel M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695927863,"creation_date":1695917992,"question_id":77196681,"body_markdown":"I have made an app in which I have included the Google scanner(CodeScanner) with autozoom and everything necessary to be able to implement the reading of datamatrix codes. On Android Gradle I use the following line:   \r\n\r\n```groovy\r\nimplementation &#39;com.google.android.gms:play-services-code-scanner:16.1.0&#39;\r\n```\r\n\r\nThe code of my button is the following and I send the value of the scanned datamatrix to a textview:\r\n\r\n```java\r\npublic void onScanButtonClicked(View view) {\r\n    GmsBarcodeScannerOptions.Builder optionsBuilder = new GmsBarcodeScannerOptions.Builder();\r\n    if (allowManualInput) {\r\n      optionsBuilder.allowManualInput();\r\n    }\r\n    if (enableAutoZoom) {\r\n      optionsBuilder.enableAutoZoom();\r\n    }\r\n    GmsBarcodeScanner gmsBarcodeScanner =\r\n        GmsBarcodeScanning.getClient(this, optionsBuilder.build());\r\n    gmsBarcodeScanner\r\n        .startScan()\r\n        .addOnSuccessListener(barcode -&gt; barcodeResultView.setText(getSuccessfulMessage(barcode)))\r\n        .addOnFailureListener(\r\n            e -&gt; barcodeResultView.setText(getErrorMessage(e)))\r\n        .addOnCanceledListener(\r\n            () -&gt; barcodeResultView.setText(getString(R.string.error_scanner_cancelled)));\r\n  }\r\n```\r\n\r\nEverything works fine but after a week of testing the Google scanner has been deactivated and it no longer works on the phones that had the application installed. The error it gives me is the following:\r\n\r\n&gt; com.google.mlkit.common.mlkitexception failed to scan code\r\n\r\n\r\nHowever, if I install the application on another new phone it works. \r\n\r\nWhat could be the problem?","title":"google-mlkit codescanner not works after 1 week","body":"<p>I have made an app in which I have included the Google scanner(CodeScanner) with autozoom and everything necessary to be able to implement the reading of datamatrix codes. On Android Gradle I use the following line:</p>\n<pre><code>implementation 'com.google.android.gms:play-services-code-scanner:16.1.0'\n</code></pre>\n<p>The code of my button is the following and I send the value of the scanned datamatrix to a textview:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onScanButtonClicked(View view) {\n    GmsBarcodeScannerOptions.Builder optionsBuilder = new GmsBarcodeScannerOptions.Builder();\n    if (allowManualInput) {\n      optionsBuilder.allowManualInput();\n    }\n    if (enableAutoZoom) {\n      optionsBuilder.enableAutoZoom();\n    }\n    GmsBarcodeScanner gmsBarcodeScanner =\n        GmsBarcodeScanning.getClient(this, optionsBuilder.build());\n    gmsBarcodeScanner\n        .startScan()\n        .addOnSuccessListener(barcode -&gt; barcodeResultView.setText(getSuccessfulMessage(barcode)))\n        .addOnFailureListener(\n            e -&gt; barcodeResultView.setText(getErrorMessage(e)))\n        .addOnCanceledListener(\n            () -&gt; barcodeResultView.setText(getString(R.string.error_scanner_cancelled)));\n  }\n</code></pre>\n<p>Everything works fine but after a week of testing the Google scanner has been deactivated and it no longer works on the phones that had the application installed. The error it gives me is the following:</p>\n<blockquote>\n<p>com.google.mlkit.common.mlkitexception failed to scan code</p>\n</blockquote>\n<p>However, if I install the application on another new phone it works.</p>\n<p>What could be the problem?</p>\n"},{"tags":["java","logging","log4j2"],"comments":[{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1695711893,"post_id":77177592,"comment_id":136057198,"body_markdown":"See https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout, (search for `maxLen`).","body":"See <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayo&zwnj;&#8203;ut</a>, (search for <code>maxLen</code>)."},{"owner":{"account_id":14739319,"reputation":93,"user_id":10644343,"display_name":"Yigit Yasar"},"score":1,"creation_date":1695712277,"post_id":77177592,"comment_id":136057286,"body_markdown":"It is possible to implement the behavior you mentioned. Log4J supports creating custom &quot;Layout&quot;. For this, you can implement your own &quot;TruncatingLayout&quot; class, which derives from the Layout&lt;String&gt; class. However, I have concerns about doing this. Since such an application will affect all logs, it will probably cause other problems later. Isn&#39;t it possible to silence the relevant log at its source? Or adding a custom Appender rather than using Layout might be a solution. With a custom appender, you can control the behavior of each log event before it gets written out.","body":"It is possible to implement the behavior you mentioned. Log4J supports creating custom &quot;Layout&quot;. For this, you can implement your own &quot;TruncatingLayout&quot; class, which derives from the Layout&lt;String&gt; class. However, I have concerns about doing this. Since such an application will affect all logs, it will probably cause other problems later. Isn&#39;t it possible to silence the relevant log at its source? Or adding a custom Appender rather than using Layout might be a solution. With a custom appender, you can control the behavior of each log event before it gets written out."}],"owner":{"account_id":4676113,"reputation":1,"user_id":3786401,"accept_rate":0,"display_name":"Ajitesh Mandal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695926999,"creation_date":1695711145,"question_id":77177592,"body_markdown":"In my project there are few logs appearing which are very large. I want to specify the threshold size of log, so that whenever  there is any large log message appearing  which is above the threshold size, log4J will truncate the message and truncation should be at the end of the message.","title":"log4j truncates log message when the log size is above threshold size","body":"<p>In my project there are few logs appearing which are very large. I want to specify the threshold size of log, so that whenever  there is any large log message appearing  which is above the threshold size, log4J will truncate the message and truncation should be at the end of the message.</p>\n"},{"tags":["java","jenkins","java-11"],"comments":[{"owner":{"account_id":4312932,"reputation":23962,"user_id":3523579,"accept_rate":90,"display_name":"Mikhail Kholodkov"},"score":0,"creation_date":1553008366,"post_id":55243120,"comment_id":97221516,"body_markdown":"Which version of Jenkins are you using?","body":"Which version of Jenkins are you using?"},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1553008499,"post_id":55243120,"comment_id":97221597,"body_markdown":"@MikhailKholodkov Just checked, 2.164, but I can update immediately to 2.168","body":"@MikhailKholodkov Just checked, 2.164, but I can update immediately to 2.168"},{"owner":{"account_id":4312932,"reputation":23962,"user_id":3523579,"accept_rate":90,"display_name":"Mikhail Kholodkov"},"score":0,"creation_date":1553009221,"post_id":55243120,"comment_id":97222070,"body_markdown":"2.164 should support Java 11, update won&#39;t hurt anyway. Please refer here: https://jenkins.io/doc/administration/requirements/jenkins-on-java-11/","body":"2.164 should support Java 11, update won&#39;t hurt anyway. Please refer here: <a href=\"https://jenkins.io/doc/administration/requirements/jenkins-on-java-11/\" rel=\"nofollow noreferrer\">jenkins.io/doc/administration/requirements/jenkins-on-java-1&zwnj;&#8203;1</a>"},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1553009409,"post_id":55243120,"comment_id":97222189,"body_markdown":"@MikhailKholodkov but that&#39;s for running Jenkins itself with Java 11. I need to compile an application with it.","body":"@MikhailKholodkov but that&#39;s for running Jenkins itself with Java 11. I need to compile an application with it."}],"answers":[{"tags":[],"owner":{"account_id":9527426,"reputation":786,"user_id":11226837,"display_name":"kasul"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1586306274,"creation_date":1553009602,"answer_id":55244659,"question_id":55243120,"body_markdown":"I guess you are using the [JDK Tool Plugin](https://wiki.jenkins.io/display/JENKINS/JDK+Tool+Plugin).\r\n\r\nClick &quot;Manage Jenkins&quot; &gt; &quot;Global Tool Configuration&quot; &gt; &quot;Add JDK&quot; (near JDK installations)\r\n\r\nDelete the java.sun.com installer.\r\nJust click &quot;Add Installer&quot; below and choose &quot;Extract *.zip/*.tar.gz&quot;\r\n\r\nEnter following:\r\n\r\nLabel: openjdk-11\r\n\r\nDownload URL: https://download.java.net/java/GA/jdk11/13/GPL/openjdk-11.0.1_linux-x64_bin.tar.gz\r\n\r\nSubdirectory of extracted archive: jdk-11.0.1 (Optional subdirectory of the downloaded and unpacked archive to use as the tool&#39;s home directory.)\r\n\r\nAnd &quot;Save&quot; the configuration\r\n\r\n\r\n=&gt; Use JDK label (openjdk-11) in your build job.\r\n\r\n---\r\n\r\nThe download-link given above appears to be from a time when java 11 hadn&#39;t entered LTS; \r\n\r\nInstead go to [Java Platform, Standard Edition 11 Reference Implementations](https://jdk.java.net/java-se-ri/11) which will provide you the download-link to the most recent release of the...\r\n\r\n&gt; [...] official Reference Implementation for Java SE 11 (JSR 384) [...] based solely upon open-source code available from the JDK 11 Project in the OpenJDK Community. This Reference Implementation applies to both the Final Release of JSR 384 (Sep 2018) and Maintenance Release 1 (Mar 2019).\r\n\r\n... which as of this writing is: https://download.java.net/openjdk/jdk11/ri/openjdk-11+28_linux-x64_bin.tar.gz","title":"Jenkins - add JDK 11 to JDK list","body":"<p>I guess you are using the <a href=\"https://wiki.jenkins.io/display/JENKINS/JDK+Tool+Plugin\" rel=\"noreferrer\">JDK Tool Plugin</a>.</p>\n\n<p>Click \"Manage Jenkins\" > \"Global Tool Configuration\" > \"Add JDK\" (near JDK installations)</p>\n\n<p>Delete the java.sun.com installer.\nJust click \"Add Installer\" below and choose \"Extract <em>.zip/</em>.tar.gz\"</p>\n\n<p>Enter following:</p>\n\n<p>Label: openjdk-11</p>\n\n<p>Download URL: <a href=\"https://download.java.net/java/GA/jdk11/13/GPL/openjdk-11.0.1_linux-x64_bin.tar.gz\" rel=\"noreferrer\">https://download.java.net/java/GA/jdk11/13/GPL/openjdk-11.0.1_linux-x64_bin.tar.gz</a></p>\n\n<p>Subdirectory of extracted archive: jdk-11.0.1 (Optional subdirectory of the downloaded and unpacked archive to use as the tool's home directory.)</p>\n\n<p>And \"Save\" the configuration</p>\n\n<p>=> Use JDK label (openjdk-11) in your build job.</p>\n\n<hr>\n\n<p>The download-link given above appears to be from a time when java 11 hadn't entered LTS; </p>\n\n<p>Instead go to <a href=\"https://jdk.java.net/java-se-ri/11\" rel=\"noreferrer\">Java Platform, Standard Edition 11 Reference Implementations</a> which will provide you the download-link to the most recent release of the...</p>\n\n<blockquote>\n  <p>[...] official Reference Implementation for Java SE 11 (JSR 384) [...] based solely upon open-source code available from the JDK 11 Project in the OpenJDK Community. This Reference Implementation applies to both the Final Release of JSR 384 (Sep 2018) and Maintenance Release 1 (Mar 2019).</p>\n</blockquote>\n\n<p>... which as of this writing is: <a href=\"https://download.java.net/openjdk/jdk11/ri/openjdk-11+28_linux-x64_bin.tar.gz\" rel=\"noreferrer\">https://download.java.net/openjdk/jdk11/ri/openjdk-11+28_linux-x64_bin.tar.gz</a></p>\n"},{"tags":[],"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1611035139,"creation_date":1603195833,"answer_id":64444878,"question_id":55243120,"body_markdown":"JDKs can be managed with JDK Tool Plugin which usually comes pre-installed.\r\n\r\n - Go to &quot;Manage Jenkins&quot; &gt; &quot;Global Tool Configuration&quot;\r\n   \r\n - Under JDK installations\tclick &#39;Add JDK&#39;\r\n   \r\n - Delete the default installer and add an installer of type &quot;Extract\r\n   .zip/.tar.gz&quot;\r\n   \r\n - Find a URL to a JDK archive in tar.gz or zip format.\r\n\r\nOpenJDK 11 binary can be found in [jdk.java.net/java-se-ri/11][1]\r\n\r\n\r\n**This is the setting I have for openjdk-11+28**\r\n```\r\nJDK name: OpenJDK-11\r\nLabel: (Keep this blank)\r\nDownload URL for binary archive: https://download.java.net/openjdk/jdk11/ri/openjdk-11+28_linux-x64_bin.tar.gz\r\n\r\nSubdirectory of extracted archive: jdk-11\r\n```\r\nHere in my case openjdk-11+28_linux-x64_bin.tar.gz, did contain a **subdirectory** named `jdk-11`\r\n\r\nIf it&#39;s incorrectly set up you might see the error:\r\n\r\n    Error: JAVA_HOME is not defined correctly.\r\n      We cannot execute /var/jenkins_home/tools/hudson.model.JDK/JDK-11/bin/java\r\n\r\n\r\n  [1]: https://jdk.java.net/java-se-ri/11","title":"Jenkins - add JDK 11 to JDK list","body":"<p>JDKs can be managed with JDK Tool Plugin which usually comes pre-installed.</p>\n<ul>\n<li><p>Go to &quot;Manage Jenkins&quot; &gt; &quot;Global Tool Configuration&quot;</p>\n</li>\n<li><p>Under JDK installations  click 'Add JDK'</p>\n</li>\n<li><p>Delete the default installer and add an installer of type &quot;Extract\n.zip/.tar.gz&quot;</p>\n</li>\n<li><p>Find a URL to a JDK archive in tar.gz or zip format.</p>\n</li>\n</ul>\n<p>OpenJDK 11 binary can be found in <a href=\"https://jdk.java.net/java-se-ri/11\" rel=\"noreferrer\">jdk.java.net/java-se-ri/11</a></p>\n<p><strong>This is the setting I have for openjdk-11+28</strong></p>\n<pre><code>JDK name: OpenJDK-11\nLabel: (Keep this blank)\nDownload URL for binary archive: https://download.java.net/openjdk/jdk11/ri/openjdk-11+28_linux-x64_bin.tar.gz\n\nSubdirectory of extracted archive: jdk-11\n</code></pre>\n<p>Here in my case openjdk-11+28_linux-x64_bin.tar.gz, did contain a <strong>subdirectory</strong> named <code>jdk-11</code></p>\n<p>If it's incorrectly set up you might see the error:</p>\n<pre><code>Error: JAVA_HOME is not defined correctly.\n  We cannot execute /var/jenkins_home/tools/hudson.model.JDK/JDK-11/bin/java\n</code></pre>\n"}],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53857,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":55244659,"answer_count":2,"score":34,"last_activity_date":1695926701,"creation_date":1553005077,"question_id":55243120,"body_markdown":"I need to build my application using Java 11.&lt;br&gt;\r\nHowever the dropdown menu stops at Java 9.\r\n\r\nWhat do I do? OpenJDK is acceptable too.&lt;br&gt;\r\nI&#39;m on the latest version of Jenkins.\r\n\r\nEdit: as of now I&#39;ve downloaded the binaries using `wget`, extracted them on the machine, and added a JDK `JDK_HOME` entry via Global Configurations.","title":"Jenkins - add JDK 11 to JDK list","body":"<p>I need to build my application using Java 11.<br>\nHowever the dropdown menu stops at Java 9.</p>\n\n<p>What do I do? OpenJDK is acceptable too.<br>\nI'm on the latest version of Jenkins.</p>\n\n<p>Edit: as of now I've downloaded the binaries using <code>wget</code>, extracted them on the machine, and added a JDK <code>JDK_HOME</code> entry via Global Configurations.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","google-cloud-sql","google-cloud-pubsub"],"owner":{"account_id":62617,"reputation":3167,"user_id":185907,"accept_rate":89,"display_name":"skjagini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695926463,"creation_date":1695925500,"question_id":77197384,"body_markdown":"Have a typical Springboot web application (simplying the names) with HelloController, HelloService, and HelloRepository. The HelloRepository is using JPA to fetch data from CloudSQL (Postgres). And this application is deployed to CloudRun and its working as expected. \r\n\r\n    @Repository\r\n    public interface HelloRepository extends JpaRepository&lt;Hello, UUID&gt; {\r\n    \r\n    }\r\n\r\nTrying to consume messages from Pub/Sub Topic using pull subscription, and process it in the same application. \r\n\r\nHave the following Utility to help creation of subscription, \r\n\r\n    @Scope(&quot;prototype&quot;)\r\n    public class PubSubSubscriber implements IPubSubScriber, DisposableBean {\r\n        private Subscriber subscriber;\r\n    \r\n        private IPubSubMessageSubscriber pubSubMessageSubscriber;\r\n    \r\n        final MessageReceiver receiver =\r\n                (PubsubMessage message, AckReplyConsumer consumer) -&gt; {\r\n                    if (StringUtils.isBlank(message.getData().toStringUtf8())) {\r\n                        logger.severe(&quot;Empty message cannot be processed &quot;);\r\n                        consumer.ack();\r\n                        return;\r\n                    }\r\n    \r\n                    // logger.info(&quot;Received message, message Id: &quot; + message.getMessageId());\r\n                    logger.info(&quot;Received message, messageId:&quot; + message.getMessageId() + &quot; ,message: &quot; + message.getData().toStringUtf8());\r\n    \r\n                    try {\r\n                        pubSubMessageSubscriber.onPubSubMessage(message.getMessageId(), message.getData().toStringUtf8());\r\n                        consumer.ack();\r\n                        logger.info(&quot;Processed message, messageId:&quot; + message.getMessageId());\r\n                    } catch (Exception e) {\r\n                       throw new RuntimeException(e);\r\n                    }\r\n                };\r\n    \r\n        @Override\r\n        public void runAsyncSubscriberService(final String projectId, final String subscriptionId, IPubSubMessageSubscriber pubSubMessageSubscriber) {\r\n            try {\r\n                this.pubSubMessageSubscriber = pubSubMessageSubscriber;\r\n                final ProjectSubscriptionName subscriptionName = ProjectSubscriptionName.of(projectId, subscriptionId);\r\n                subscriber =\r\n                        Subscriber.newBuilder(subscriptionName, receiver)\r\n                                //.setMaxAckExtensionPeriod(Duration.ofSeconds(600))\r\n    //                            .setMinDurationPerAckExtension(Duration.ofSeconds(10))\r\n                                //.setParallelPullCount(1)\r\n                                .setFlowControlSettings(\r\n                                        FlowControlSettings.newBuilder()\r\n                                                .setMaxOutstandingElementCount(1L)\r\n                                                .build())\r\n                                .build();\r\n                subscriber.startAsync().awaitRunning();\r\n                logger.info(&quot;Listening for pub/sub messages on subscription: &quot; + subscriptionName);\r\n                // subscriber.awaitTerminated();\r\n                // logger.info(&quot;logger - stopped consumer&quot;);\r\n            } catch (final Exception exception) {\r\n                logger.severe(&quot;Exception occurred while processing message --&gt; &quot; + exception.getMessage() +\r\n                        &quot; cause --&gt; &quot; + exception.getCause());\r\n                subscriber.stopAsync();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n            logger.info(&quot;PubSub Consumer Stopped&quot;);\r\n            if (!Objects.isNull(subscriber)) {\r\n                subscriber.stopAsync();\r\n                logger.info(&quot;Stopped PubSubConsumer subscriber&quot;);\r\n            } else {\r\n                logger.info(&quot;Stop command is ignored - PubSubConsumer&#39;s subscriber is not running&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    public interface IPubSubMessageSubscriber {\r\n        void onPubSubMessage(String messageId, final String pubSubMessage) throws Exception;\r\n    }\r\n  \r\n      \r\n    public interface IPubSubConsumer {\r\n        void runAsyncSubscriberService(String projectId, String subscriptionId, IPubSubMessageSubscriber pubSubMessageSubscriber);\r\n    }\r\n\r\n\r\nHelloTopicSubscriber, a service to consume the messages, \r\n\r\n    @Service\r\n    public class HelloTopicSubscriber implements IPubSubMessageSubscriber {\r\n        private final IPubSubScriber pubSubScriber;\r\n\r\n        public HelloTopicSubscriber(\r\n                IPubSubScriber pubSubScriber)  {\r\n            this.pubSubScriber = pubSubScriber;\r\n            ...\r\n    \r\n            start();\r\n        }\r\n    \r\n        public void startStructures()  {\r\n\r\n            pubSubConsumer.runAsyncSubscriberService(\r\n                    gcpServiceOptions.getDefaultProjectId(), &quot;HelloSub1&quot;, this);\r\n    \r\n        }\r\n\r\n        @Override\r\n        public void onPubSubMessage(String messageId, String message)  {\r\n            // Process the message, get data from database etc.\r\n        }  \r\n\r\nWith the above setup, I am able to read incoming messages and ack them properly.  \r\n\r\nAs I need to fetch messages from Hello table, If I inject HelloService to HelloTopicSubscriber, the application becomes unstable and getting jdbc connection issues of various types, wondering if its because of any thread violations due to the subscribers async nature, i.e. \r\n\r\n     public HelloTopicSubscriber(\r\n                    IPubSubScriber pubSubScriber, \r\n                     HelloService helloService **// &lt;-- will this cause any issue?**)  {\r\n                this.pubSubScriber= pubSubScriber;\r\n    \r\n            @Override\r\n            public void onPubSubMessage(String messageId, String message)  {\r\n                // Process the message, get data from database etc.\r\n                helloService.get(..)\r\n            }  \r\n\r\n\r\nIn the iterim, I am using WebClient to call the HelloController to help with the processing. \r\n\r\nAlso I am using @scope to help create multiple subscriber to fetch data from different topics, do you guys see any issue with this approach? \r\n\r\nSome of the JDBC exceptions are, Unable to acquire JDBC Connection error, Failed to update metadata for Cloud SQL Instance and certificate error, SQL Exception with Error 0, java.net.SocketException: Broken pipe at.\r\n\r\n\r\n\r\n","title":"GCP Pub/Sub Pull Subscription consumer with Jpa backed repos resulting in connection issues","body":"<p>Have a typical Springboot web application (simplying the names) with HelloController, HelloService, and HelloRepository. The HelloRepository is using JPA to fetch data from CloudSQL (Postgres). And this application is deployed to CloudRun and its working as expected.</p>\n<pre><code>@Repository\npublic interface HelloRepository extends JpaRepository&lt;Hello, UUID&gt; {\n\n}\n</code></pre>\n<p>Trying to consume messages from Pub/Sub Topic using pull subscription, and process it in the same application.</p>\n<p>Have the following Utility to help creation of subscription,</p>\n<pre><code>@Scope(&quot;prototype&quot;)\npublic class PubSubSubscriber implements IPubSubScriber, DisposableBean {\n    private Subscriber subscriber;\n\n    private IPubSubMessageSubscriber pubSubMessageSubscriber;\n\n    final MessageReceiver receiver =\n            (PubsubMessage message, AckReplyConsumer consumer) -&gt; {\n                if (StringUtils.isBlank(message.getData().toStringUtf8())) {\n                    logger.severe(&quot;Empty message cannot be processed &quot;);\n                    consumer.ack();\n                    return;\n                }\n\n                // logger.info(&quot;Received message, message Id: &quot; + message.getMessageId());\n                logger.info(&quot;Received message, messageId:&quot; + message.getMessageId() + &quot; ,message: &quot; + message.getData().toStringUtf8());\n\n                try {\n                    pubSubMessageSubscriber.onPubSubMessage(message.getMessageId(), message.getData().toStringUtf8());\n                    consumer.ack();\n                    logger.info(&quot;Processed message, messageId:&quot; + message.getMessageId());\n                } catch (Exception e) {\n                   throw new RuntimeException(e);\n                }\n            };\n\n    @Override\n    public void runAsyncSubscriberService(final String projectId, final String subscriptionId, IPubSubMessageSubscriber pubSubMessageSubscriber) {\n        try {\n            this.pubSubMessageSubscriber = pubSubMessageSubscriber;\n            final ProjectSubscriptionName subscriptionName = ProjectSubscriptionName.of(projectId, subscriptionId);\n            subscriber =\n                    Subscriber.newBuilder(subscriptionName, receiver)\n                            //.setMaxAckExtensionPeriod(Duration.ofSeconds(600))\n//                            .setMinDurationPerAckExtension(Duration.ofSeconds(10))\n                            //.setParallelPullCount(1)\n                            .setFlowControlSettings(\n                                    FlowControlSettings.newBuilder()\n                                            .setMaxOutstandingElementCount(1L)\n                                            .build())\n                            .build();\n            subscriber.startAsync().awaitRunning();\n            logger.info(&quot;Listening for pub/sub messages on subscription: &quot; + subscriptionName);\n            // subscriber.awaitTerminated();\n            // logger.info(&quot;logger - stopped consumer&quot;);\n        } catch (final Exception exception) {\n            logger.severe(&quot;Exception occurred while processing message --&gt; &quot; + exception.getMessage() +\n                    &quot; cause --&gt; &quot; + exception.getCause());\n            subscriber.stopAsync();\n        }\n    }\n\n    @Override\n    public void destroy() {\n        logger.info(&quot;PubSub Consumer Stopped&quot;);\n        if (!Objects.isNull(subscriber)) {\n            subscriber.stopAsync();\n            logger.info(&quot;Stopped PubSubConsumer subscriber&quot;);\n        } else {\n            logger.info(&quot;Stop command is ignored - PubSubConsumer's subscriber is not running&quot;);\n        }\n    }\n}\n\npublic interface IPubSubMessageSubscriber {\n    void onPubSubMessage(String messageId, final String pubSubMessage) throws Exception;\n}\n\n  \npublic interface IPubSubConsumer {\n    void runAsyncSubscriberService(String projectId, String subscriptionId, IPubSubMessageSubscriber pubSubMessageSubscriber);\n}\n</code></pre>\n<p>HelloTopicSubscriber, a service to consume the messages,</p>\n<pre><code>@Service\npublic class HelloTopicSubscriber implements IPubSubMessageSubscriber {\n    private final IPubSubScriber pubSubScriber;\n\n    public HelloTopicSubscriber(\n            IPubSubScriber pubSubScriber)  {\n        this.pubSubScriber = pubSubScriber;\n        ...\n\n        start();\n    }\n\n    public void startStructures()  {\n\n        pubSubConsumer.runAsyncSubscriberService(\n                gcpServiceOptions.getDefaultProjectId(), &quot;HelloSub1&quot;, this);\n\n    }\n\n    @Override\n    public void onPubSubMessage(String messageId, String message)  {\n        // Process the message, get data from database etc.\n    }  \n</code></pre>\n<p>With the above setup, I am able to read incoming messages and ack them properly.</p>\n<p>As I need to fetch messages from Hello table, If I inject HelloService to HelloTopicSubscriber, the application becomes unstable and getting jdbc connection issues of various types, wondering if its because of any thread violations due to the subscribers async nature, i.e.</p>\n<pre><code> public HelloTopicSubscriber(\n                IPubSubScriber pubSubScriber, \n                 HelloService helloService **// &lt;-- will this cause any issue?**)  {\n            this.pubSubScriber= pubSubScriber;\n\n        @Override\n        public void onPubSubMessage(String messageId, String message)  {\n            // Process the message, get data from database etc.\n            helloService.get(..)\n        }  \n</code></pre>\n<p>In the iterim, I am using WebClient to call the HelloController to help with the processing.</p>\n<p>Also I am using @scope to help create multiple subscriber to fetch data from different topics, do you guys see any issue with this approach?</p>\n<p>Some of the JDBC exceptions are, Unable to acquire JDBC Connection error, Failed to update metadata for Cloud SQL Instance and certificate error, SQL Exception with Error 0, java.net.SocketException: Broken pipe at.</p>\n"},{"tags":["java","jdbi"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1539853414,"post_id":52870413,"comment_id":92654637,"body_markdown":"I don&#39;t know your API at all, but generally speaking most prepared statement APIs _don&#39;t_ allow the entire `WHERE` clause to be changeable.  Only placeholders for specific values inside the `WHERE` clause are allowed.  You might want to include why you think you need this.","body":"I don&#39;t know your API at all, but generally speaking most prepared statement APIs <i>don&#39;t</i> allow the entire <code>WHERE</code> clause to be changeable.  Only placeholders for specific values inside the <code>WHERE</code> clause are allowed.  You might want to include why you think you need this."},{"owner":{"account_id":1573514,"reputation":1365,"user_id":1460643,"accept_rate":56,"display_name":"Aliaksei"},"score":0,"creation_date":1539858737,"post_id":52870413,"comment_id":92657574,"body_markdown":"For example simple grid filters. User choose column1 column2 etc. So &quot;select * from table where column1=:column1 and...:&quot;","body":"For example simple grid filters. User choose column1 column2 etc. So &quot;select * from table where column1=:column1 and...:&quot;"}],"answers":[{"tags":[],"owner":{"account_id":7600,"reputation":6724,"user_id":13253,"accept_rate":100,"display_name":"qualidafial"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1540398003,"creation_date":1540398003,"answer_id":52973764,"question_id":52870413,"body_markdown":"There are two main approaches to achieving dynamic filtering in queries:\r\n\r\n- Use a static `WHERE` clause, and make a `NULL` parameter mean &quot;no filtering on this parameter.&quot; I recommend you always try this approach first.\r\n- Use a template engine. This takes time to set up and validate, and makes queries harder to reason about due to the intermixing of SQL and template languages. Use this when the static `WHERE` clause does not work for your use case, or you want to eliminate duplication between multiple queries.\r\n\r\n# Static `WHERE` clause approach:\r\n\r\n    SELECT * FROM things\r\n    WHERE (:foo IS NULL OR foo_column = :foo)\r\n    AND (:bar IS NULL or bar_column = :bar)\r\n\r\n* If `:foo` is null, then `things` rows will not be filtered on `foo_column`. Otherwise, only rows with the specified `:foo` value will be returned.\r\n* Likewise, if `:bar` is null, then `things` rows will not be filtered on `bar_column`. Otherwise, only rows with the specified `:bar` value will be returned.\r\n* If both parameters are null, _all_ rows will be returned.\r\n\r\n# Template engine approach\r\n\r\nOut of the box, Jdbi 3 only provides simple templating that replaces e.g. `&lt;where&gt;` with your `@Define(&quot;where&quot;)` parameter.\r\n\r\nThis default template engine can be overridden with whatever you like. Jdbi provides additional template engines for StringTemplate 4, and for Freemarker.\r\n\r\nStringTemplate 4 is no longer actively maintained, so I&#39;ll just show you the example for Freemarker.\r\n\r\n### FreeMarker\r\n\r\nAdd a dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jdbi&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jdbi3-freemarker&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe `@UseFreemarkerEngine` annotation can be used on a SQL object, which causes the query to first be rendered as a Freemarker template.\r\n\r\nThe `@UseFreemarkerSqlLocator` is like `@UseFreemarkerEngine`, but with the added bonus of loading SQL from files on the classpath. This permits refactoring commonly used SQL patterns into reusable files, which can be referenced through an `#include` directive.\r\n\r\n    &lt;#include &quot;/org/jdbi/v3/freemarker/util.ftl&quot;&gt;\r\n    &lt;#include &quot;util2.ftl&quot;&gt;\r\n    select name from something\r\n    where id in (&lt;#list somethings as something&gt;${something.id}&lt;#sep&gt;, &lt;/#list&gt;)\r\n    &lt;@groupBy field=&quot;name&quot; /&gt;\r\n    &lt;@orderBy field=&quot;name&quot; /&gt;\r\n\r\nutil.ftl:\r\n\r\n    &lt;#macro orderBy field order=&quot;ASC&quot;&gt;\r\n      ORDER BY ${field} ${order}\r\n    &lt;/#macro&gt;\r\n\r\nutil2.ftl:\r\n\r\n    &lt;#macro groupBy field&gt;\r\n      GROUP BY ${field}\r\n    &lt;/#macro&gt;\r\n","title":"JDBI3 dynamically create a WHERE clause","body":"<p>There are two main approaches to achieving dynamic filtering in queries:</p>\n\n<ul>\n<li>Use a static <code>WHERE</code> clause, and make a <code>NULL</code> parameter mean \"no filtering on this parameter.\" I recommend you always try this approach first.</li>\n<li>Use a template engine. This takes time to set up and validate, and makes queries harder to reason about due to the intermixing of SQL and template languages. Use this when the static <code>WHERE</code> clause does not work for your use case, or you want to eliminate duplication between multiple queries.</li>\n</ul>\n\n<h1>Static <code>WHERE</code> clause approach:</h1>\n\n<pre><code>SELECT * FROM things\nWHERE (:foo IS NULL OR foo_column = :foo)\nAND (:bar IS NULL or bar_column = :bar)\n</code></pre>\n\n<ul>\n<li>If <code>:foo</code> is null, then <code>things</code> rows will not be filtered on <code>foo_column</code>. Otherwise, only rows with the specified <code>:foo</code> value will be returned.</li>\n<li>Likewise, if <code>:bar</code> is null, then <code>things</code> rows will not be filtered on <code>bar_column</code>. Otherwise, only rows with the specified <code>:bar</code> value will be returned.</li>\n<li>If both parameters are null, <em>all</em> rows will be returned.</li>\n</ul>\n\n<h1>Template engine approach</h1>\n\n<p>Out of the box, Jdbi 3 only provides simple templating that replaces e.g. <code>&lt;where&gt;</code> with your <code>@Define(\"where\")</code> parameter.</p>\n\n<p>This default template engine can be overridden with whatever you like. Jdbi provides additional template engines for StringTemplate 4, and for Freemarker.</p>\n\n<p>StringTemplate 4 is no longer actively maintained, so I'll just show you the example for Freemarker.</p>\n\n<h3>FreeMarker</h3>\n\n<p>Add a dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.jdbi&lt;/groupId&gt;\n  &lt;artifactId&gt;jdbi3-freemarker&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The <code>@UseFreemarkerEngine</code> annotation can be used on a SQL object, which causes the query to first be rendered as a Freemarker template.</p>\n\n<p>The <code>@UseFreemarkerSqlLocator</code> is like <code>@UseFreemarkerEngine</code>, but with the added bonus of loading SQL from files on the classpath. This permits refactoring commonly used SQL patterns into reusable files, which can be referenced through an <code>#include</code> directive.</p>\n\n<pre><code>&lt;#include \"/org/jdbi/v3/freemarker/util.ftl\"&gt;\n&lt;#include \"util2.ftl\"&gt;\nselect name from something\nwhere id in (&lt;#list somethings as something&gt;${something.id}&lt;#sep&gt;, &lt;/#list&gt;)\n&lt;@groupBy field=\"name\" /&gt;\n&lt;@orderBy field=\"name\" /&gt;\n</code></pre>\n\n<p>util.ftl:</p>\n\n<pre><code>&lt;#macro orderBy field order=\"ASC\"&gt;\n  ORDER BY ${field} ${order}\n&lt;/#macro&gt;\n</code></pre>\n\n<p>util2.ftl:</p>\n\n<pre><code>&lt;#macro groupBy field&gt;\n  GROUP BY ${field}\n&lt;/#macro&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2276989,"reputation":1283,"user_id":2002995,"accept_rate":38,"display_name":"Manoj Sehrawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695926134,"creation_date":1695926134,"answer_id":77197446,"question_id":52870413,"body_markdown":"A little different but related use-case, I find it a bit weird with `IN` clause and imo one of the clean way to achieve this is using `UseStringTemplateEngine` with something like this: \r\n\r\n```java\r\npublic interface ThingDAO {\r\n   @SqlQuery(&quot;SELECT * FROM things WHERE 1 = 1 &quot;\r\n             + &quot;&lt;if(someField)&gt; AND field1 IN (&lt;someField&gt;) &lt;endif&gt; &quot;\r\n             + &quot;&lt;if(someIds)&gt; AND some_id IN (&lt;someIds&gt;) &lt;endif&gt; &quot;)\r\n   @UseStringTemplateEngine\r\n   List&lt;Thing&gt; findThingsWhere(\r\n       @BindList(value = &quot;someField&quot;, onEmpty = NULL_VALUE) List&lt;String&gt; values,\r\n       @BindList(value = &quot;someIds&quot;, onEmpty = NULL_VALUE) List&lt;UUID&gt; someIds);\r\n}\r\n```\r\n","title":"JDBI3 dynamically create a WHERE clause","body":"<p>A little different but related use-case, I find it a bit weird with <code>IN</code> clause and imo one of the clean way to achieve this is using <code>UseStringTemplateEngine</code> with something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ThingDAO {\n   @SqlQuery(&quot;SELECT * FROM things WHERE 1 = 1 &quot;\n             + &quot;&lt;if(someField)&gt; AND field1 IN (&lt;someField&gt;) &lt;endif&gt; &quot;\n             + &quot;&lt;if(someIds)&gt; AND some_id IN (&lt;someIds&gt;) &lt;endif&gt; &quot;)\n   @UseStringTemplateEngine\n   List&lt;Thing&gt; findThingsWhere(\n       @BindList(value = &quot;someField&quot;, onEmpty = NULL_VALUE) List&lt;String&gt; values,\n       @BindList(value = &quot;someIds&quot;, onEmpty = NULL_VALUE) List&lt;UUID&gt; someIds);\n}\n</code></pre>\n"}],"owner":{"account_id":1573514,"reputation":1365,"user_id":1460643,"accept_rate":56,"display_name":"Aliaksei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2918,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":52973764,"answer_count":2,"score":9,"last_activity_date":1695926134,"creation_date":1539852909,"question_id":52870413,"body_markdown":"How I can create dynamic where\r\n\r\n    public interface ThingDAO {\r\n       @SqlQuery(&quot;SELECT * FROM things &lt;where&gt;)\r\n       List&lt;Thing&gt; findThingsWhere(@Define(&quot;where&quot;) String where);\r\n    }\r\n\r\nhttps://stackoverflow.com/questions/36359708/jdbi-how-can-i-dynamically-create-a-where-clause-while-preventing-sql-injection\r\n\r\nBut it&#39;s not actually for JDBI3","title":"JDBI3 dynamically create a WHERE clause","body":"<p>How I can create dynamic where</p>\n\n<pre><code>public interface ThingDAO {\n   @SqlQuery(\"SELECT * FROM things &lt;where&gt;)\n   List&lt;Thing&gt; findThingsWhere(@Define(\"where\") String where);\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/36359708/jdbi-how-can-i-dynamically-create-a-where-clause-while-preventing-sql-injection\">JDBI How can I dynamically create a WHERE clause while preventing SQL Injection?</a></p>\n\n<p>But it's not actually for JDBI3</p>\n"},{"tags":["java","spring-boot","soap"],"comments":[{"owner":{"account_id":3310905,"reputation":84,"user_id":2784451,"display_name":"Yoav Naaman"},"score":0,"creation_date":1695919346,"post_id":77196811,"comment_id":136091243,"body_markdown":"Can you better explain the problem ?","body":"Can you better explain the problem ?"},{"owner":{"account_id":29557244,"reputation":1,"user_id":22652650,"display_name":"AleMik"},"score":0,"creation_date":1695924246,"post_id":77196811,"comment_id":136092069,"body_markdown":"I have corrected the question","body":"I have corrected the question"}],"owner":{"account_id":29557244,"reputation":1,"user_id":22652650,"display_name":"AleMik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695925667,"creation_date":1695919008,"question_id":77196811,"body_markdown":"I created SOAP service on Spring Boot and Apache Cfx. I need to get a namespace of 7 characters, but it is cut off to 4\r\n\r\nFor example, I write the following code\r\n\r\n    @WebService(targetNamespace = &quot;http://example.com/testNs&quot;, name = &quot;SoapService&quot;)\r\n    @Features(features = &quot;org.apache.cxf.ext.logging.LoggingFeature&quot;)\r\n    @BindingType(SOAPBinding.SOAP12HTTP_MTOM_BINDING)\r\n    public interface SoapService {\r\n        @WebResult(name = &quot;ResultMsg&quot;)\r\n        @RequestWrapper(localName = &quot;Wrapper&quot;)\r\n        ResultMsg soapReq(@WebParam(name = &quot;requestId&quot;, targetNamespace = &quot;http://example.com/testNs&quot;) String requestId,\r\n                          @WebParam(name = &quot;smsFlag&quot;, targetNamespace = &quot;http://example.com/testNs&quot;) String status);\r\n    }\r\n\r\nBased on this code, a wsdl is generated:\r\n\r\n    &lt;wsdl:definitions xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:tns=&quot;http://example.com/testNs&quot; xmlns:soap12=&quot;http://schemas.xmlsoap.org/wsdl/soap12/&quot; xmlns:ns1=&quot;http://schemas.xmlsoap.org/soap/http&quot; name=&quot;SoapService&quot; targetNamespace=&quot;http://example.com/testNs&quot;&gt;\r\n    &lt;wsdl:types&gt;\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns=&quot;http://example.com/testNs&quot; elementFormDefault=&quot;unqualified&quot; targetNamespace=&quot;http://example.com/testNs&quot; version=&quot;1.0&quot;&gt;\r\n    &lt;xs:element name=&quot;Wrapper&quot; type=&quot;tns:Wrapper&quot;/&gt;\r\n    &lt;xs:element name=&quot;ConnectorOutput&quot; type=&quot;tns:ConnectorOutput&quot;/&gt;\r\n    &lt;xs:complexType name=&quot;Wrapper&quot;&gt;\r\n    &lt;xs:sequence&gt;\r\n    &lt;xs:element form=&quot;qualified&quot; minOccurs=&quot;0&quot; name=&quot;requestId&quot; type=&quot;xs:string&quot;/&gt;\r\n    &lt;xs:element form=&quot;qualified&quot; minOccurs=&quot;0&quot; name=&quot;status&quot; type=&quot;xs:string&quot;/&gt;\r\n    &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n    &lt;xs:complexType name=&quot;ConnectorOutput&quot;&gt;\r\n    &lt;xs:sequence&gt;\r\n    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;ResultMsg&quot; type=&quot;tns:resultMsg&quot;/&gt;\r\n    &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n    &lt;xs:complexType name=&quot;resultMsg&quot;&gt;\r\n    &lt;xs:sequence&gt;\r\n    &lt;xs:element name=&quot;resultCode&quot; type=&quot;xs:int&quot;/&gt;\r\n    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;resultMessage&quot; type=&quot;xs:string&quot;/&gt;\r\n    &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n    &lt;/xs:schema&gt;\r\n    &lt;/wsdl:types&gt;\r\n    &lt;wsdl:message name=&quot;soapReqResponse&quot;&gt;\r\n    &lt;wsdl:part element=&quot;tns:ConnectorOutput&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\r\n    &lt;/wsdl:message&gt;\r\n    &lt;wsdl:message name=&quot;soapReq&quot;&gt;\r\n    &lt;wsdl:part element=&quot;tns:Wrapper&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\r\n    &lt;/wsdl:message&gt;\r\n    &lt;wsdl:portType name=&quot;SoapService&quot;&gt;\r\n    &lt;wsdl:operation name=&quot;soapReq&quot;&gt;\r\n    &lt;wsdl:input message=&quot;tns:soapReq&quot; name=&quot;soapReq&quot;&gt; &lt;/wsdl:input&gt;\r\n    &lt;wsdl:output message=&quot;tns:soapReqResponse&quot; name=&quot;soapReqResponse&quot;&gt; &lt;/wsdl:output&gt;\r\n    &lt;/wsdl:operation&gt;\r\n    &lt;/wsdl:portType&gt;\r\n    &lt;wsdl:binding name=&quot;SoapServiceSoapBinding&quot; type=&quot;tns:SoapService&quot;&gt;\r\n    &lt;soap12:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n    &lt;wsdl:operation name=&quot;soapReq&quot;&gt;\r\n    &lt;soap12:operation soapAction=&quot;urn:soapRequest&quot; style=&quot;document&quot;/&gt;\r\n    &lt;wsdl:input name=&quot;soapReq&quot;&gt;\r\n    &lt;soap12:body use=&quot;literal&quot;/&gt;\r\n    &lt;/wsdl:input&gt;\r\n    &lt;wsdl:output name=&quot;soapReqResponse&quot;&gt;\r\n    &lt;soap12:body use=&quot;literal&quot;/&gt;\r\n    &lt;/wsdl:output&gt;\r\n    &lt;/wsdl:operation&gt;\r\n    &lt;/wsdl:binding&gt;\r\n    &lt;wsdl:service name=&quot;SoapService&quot;&gt;\r\n    &lt;wsdl:port binding=&quot;tns:SoapServiceSoapBinding&quot; name=&quot;SoapPort&quot;&gt;\r\n    &lt;soap12:address location=&quot;http://localhost:8080/soap/soapRequest&quot;/&gt;\r\n    &lt;/wsdl:port&gt;\r\n    &lt;/wsdl:service&gt;\r\n    &lt;/wsdl:definitions&gt;\r\n\r\nCorrect xml generated based on this wsdl that the server will accept\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:test=&quot;http://example.com/testNs&quot;&gt;\r\n        &lt;soapenv:Header/&gt;\r\n        &lt;soapenv:Body&gt;\r\n            &lt;test:Wrapper&gt;\r\n                &lt;test:requestId&gt;0000228610&lt;/test:requestId&gt;\r\n                &lt;test:status&gt;1&lt;/test:status&gt;\r\n            &lt;/test:Wrapper&gt;\r\n        &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nI need xml:\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:testNs=&quot;http://example.com/testNs&quot;&gt;\r\n        &lt;soapenv:Header/&gt;\r\n        &lt;soapenv:Body&gt;\r\n            &lt;testNs:Wrapper&gt;\r\n                &lt;testNs:requestId&gt;0000228610&lt;/testNs:requestId&gt;\r\n                &lt;testNs:status&gt;1&lt;/testNs:status&gt;\r\n            &lt;/testNs:Wrapper&gt;\r\n        &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nPlease tell me how to make the namespace be more than 4 characters?\r\n","title":"java apache cfx soap namespace trimmed to 4 characters","body":"<p>I created SOAP service on Spring Boot and Apache Cfx. I need to get a namespace of 7 characters, but it is cut off to 4</p>\n<p>For example, I write the following code</p>\n<pre><code>@WebService(targetNamespace = &quot;http://example.com/testNs&quot;, name = &quot;SoapService&quot;)\n@Features(features = &quot;org.apache.cxf.ext.logging.LoggingFeature&quot;)\n@BindingType(SOAPBinding.SOAP12HTTP_MTOM_BINDING)\npublic interface SoapService {\n    @WebResult(name = &quot;ResultMsg&quot;)\n    @RequestWrapper(localName = &quot;Wrapper&quot;)\n    ResultMsg soapReq(@WebParam(name = &quot;requestId&quot;, targetNamespace = &quot;http://example.com/testNs&quot;) String requestId,\n                      @WebParam(name = &quot;smsFlag&quot;, targetNamespace = &quot;http://example.com/testNs&quot;) String status);\n}\n</code></pre>\n<p>Based on this code, a wsdl is generated:</p>\n<pre><code>&lt;wsdl:definitions xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:tns=&quot;http://example.com/testNs&quot; xmlns:soap12=&quot;http://schemas.xmlsoap.org/wsdl/soap12/&quot; xmlns:ns1=&quot;http://schemas.xmlsoap.org/soap/http&quot; name=&quot;SoapService&quot; targetNamespace=&quot;http://example.com/testNs&quot;&gt;\n&lt;wsdl:types&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns=&quot;http://example.com/testNs&quot; elementFormDefault=&quot;unqualified&quot; targetNamespace=&quot;http://example.com/testNs&quot; version=&quot;1.0&quot;&gt;\n&lt;xs:element name=&quot;Wrapper&quot; type=&quot;tns:Wrapper&quot;/&gt;\n&lt;xs:element name=&quot;ConnectorOutput&quot; type=&quot;tns:ConnectorOutput&quot;/&gt;\n&lt;xs:complexType name=&quot;Wrapper&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element form=&quot;qualified&quot; minOccurs=&quot;0&quot; name=&quot;requestId&quot; type=&quot;xs:string&quot;/&gt;\n&lt;xs:element form=&quot;qualified&quot; minOccurs=&quot;0&quot; name=&quot;status&quot; type=&quot;xs:string&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:complexType name=&quot;ConnectorOutput&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;ResultMsg&quot; type=&quot;tns:resultMsg&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:complexType name=&quot;resultMsg&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element name=&quot;resultCode&quot; type=&quot;xs:int&quot;/&gt;\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;resultMessage&quot; type=&quot;xs:string&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n&lt;/wsdl:types&gt;\n&lt;wsdl:message name=&quot;soapReqResponse&quot;&gt;\n&lt;wsdl:part element=&quot;tns:ConnectorOutput&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:message name=&quot;soapReq&quot;&gt;\n&lt;wsdl:part element=&quot;tns:Wrapper&quot; name=&quot;parameters&quot;&gt; &lt;/wsdl:part&gt;\n&lt;/wsdl:message&gt;\n&lt;wsdl:portType name=&quot;SoapService&quot;&gt;\n&lt;wsdl:operation name=&quot;soapReq&quot;&gt;\n&lt;wsdl:input message=&quot;tns:soapReq&quot; name=&quot;soapReq&quot;&gt; &lt;/wsdl:input&gt;\n&lt;wsdl:output message=&quot;tns:soapReqResponse&quot; name=&quot;soapReqResponse&quot;&gt; &lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;/wsdl:portType&gt;\n&lt;wsdl:binding name=&quot;SoapServiceSoapBinding&quot; type=&quot;tns:SoapService&quot;&gt;\n&lt;soap12:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\n&lt;wsdl:operation name=&quot;soapReq&quot;&gt;\n&lt;soap12:operation soapAction=&quot;urn:soapRequest&quot; style=&quot;document&quot;/&gt;\n&lt;wsdl:input name=&quot;soapReq&quot;&gt;\n&lt;soap12:body use=&quot;literal&quot;/&gt;\n&lt;/wsdl:input&gt;\n&lt;wsdl:output name=&quot;soapReqResponse&quot;&gt;\n&lt;soap12:body use=&quot;literal&quot;/&gt;\n&lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n&lt;/wsdl:binding&gt;\n&lt;wsdl:service name=&quot;SoapService&quot;&gt;\n&lt;wsdl:port binding=&quot;tns:SoapServiceSoapBinding&quot; name=&quot;SoapPort&quot;&gt;\n&lt;soap12:address location=&quot;http://localhost:8080/soap/soapRequest&quot;/&gt;\n&lt;/wsdl:port&gt;\n&lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>\n<p>Correct xml generated based on this wsdl that the server will accept</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:test=&quot;http://example.com/testNs&quot;&gt;\n    &lt;soapenv:Header/&gt;\n    &lt;soapenv:Body&gt;\n        &lt;test:Wrapper&gt;\n            &lt;test:requestId&gt;0000228610&lt;/test:requestId&gt;\n            &lt;test:status&gt;1&lt;/test:status&gt;\n        &lt;/test:Wrapper&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>I need xml:</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:testNs=&quot;http://example.com/testNs&quot;&gt;\n    &lt;soapenv:Header/&gt;\n    &lt;soapenv:Body&gt;\n        &lt;testNs:Wrapper&gt;\n            &lt;testNs:requestId&gt;0000228610&lt;/testNs:requestId&gt;\n            &lt;testNs:status&gt;1&lt;/testNs:status&gt;\n        &lt;/testNs:Wrapper&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>Please tell me how to make the namespace be more than 4 characters?</p>\n"},{"tags":["java","eclipse","user-interface","icons"],"comments":[{"owner":{"account_id":28585246,"reputation":36,"user_id":21885617,"display_name":"krishna.nitheesh"},"score":1,"creation_date":1695917550,"post_id":77196561,"comment_id":136090862,"body_markdown":"here is a reference to some of the icons in eclipse. https://stackoverflow.com/questions/3957321/what-do-the-icons-for-methods-in-eclipse-mean","body":"here is a reference to some of the icons in eclipse. <a href=\"https://stackoverflow.com/questions/3957321/what-do-the-icons-for-methods-in-eclipse-mean\" title=\"what do the icons for methods in eclipse mean\">stackoverflow.com/questions/3957321/&hellip;</a>"},{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1695920040,"post_id":77196561,"comment_id":136091387,"body_markdown":"Blue Triangle is usually the &quot;default method&quot; icon, but that wouldn&#39;t be shown on a file. Not sure what else it might be. Any plug-in you have installed can contribute icons to the view. Generally icons are built-in to the plug-in and are not easily changed.","body":"Blue Triangle is usually the &quot;default method&quot; icon, but that wouldn&#39;t be shown on a file. Not sure what else it might be. Any plug-in you have installed can contribute icons to the view. Generally icons are built-in to the plug-in and are not easily changed."}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695925157,"creation_date":1695925157,"answer_id":77197357,"question_id":77196561,"body_markdown":"In this case it means a default/package-protected *class*, much like how @greg-449 recognized its use with default/package-protected members.","title":"What is the meaning of blue triangle icon in Eclipse Package Explorer view?","body":"<p>In this case it means a default/package-protected <em>class</em>, much like how @greg-449 recognized its use with default/package-protected members.</p>\n"}],"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77197357,"answer_count":1,"score":-1,"last_activity_date":1695925157,"creation_date":1695917081,"question_id":77196561,"body_markdown":"Can someone please point me to where one can get more understanding on the meaning of the blue triangle icons in Eclipse and its derivatives (STS, etc.) and possibly modifying them:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThank you.\r\n\r\n  [1]: https://i.stack.imgur.com/hzWVm.png","title":"What is the meaning of blue triangle icon in Eclipse Package Explorer view?","body":"<p>Can someone please point me to where one can get more understanding on the meaning of the blue triangle icons in Eclipse and its derivatives (STS, etc.) and possibly modifying them:</p>\n<p><a href=\"https://i.stack.imgur.com/hzWVm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hzWVm.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you.</p>\n"},{"tags":["java","token","pkcs#11","sunpkcs11"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1695838928,"post_id":77189626,"comment_id":136078904,"body_markdown":"Are you sure your token was designed to be used in this way?  Not all tokens are created equal.","body":"Are you sure your token was designed to be used in this way?  Not all tokens are created equal."},{"owner":{"account_id":16697639,"reputation":1,"user_id":12068352,"display_name":"Farshid"},"score":0,"creation_date":1695840396,"post_id":77189626,"comment_id":136079159,"body_markdown":"@TimRoberts Hello, Yes I&#39;m sure. Actually I searched for tokens like the one mentioned and found out I should use a library (in my case DLL) to communicate with them and this .dll library can retrieve private key when it&#39;s used along with custom packages and libraries form other programming languages (like java) but, it still doesn&#39;t let user to see what the private key is. I recently found out that when I install .exe program inside this USB Flash Token, it copies 2 .dll files and 1 .sig file in &quot;C:\\Windows\\System32&quot; folder and that&#39;s as far as I went.","body":"@TimRoberts Hello, Yes I&#39;m sure. Actually I searched for tokens like the one mentioned and found out I should use a library (in my case DLL) to communicate with them and this .dll library can retrieve private key when it&#39;s used along with custom packages and libraries form other programming languages (like java) but, it still doesn&#39;t let user to see what the private key is. I recently found out that when I install .exe program inside this USB Flash Token, it copies 2 .dll files and 1 .sig file in &quot;C:\\Windows\\System32&quot; folder and that&#39;s as far as I went."}],"owner":{"account_id":16697639,"reputation":1,"user_id":12068352,"display_name":"Farshid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695924760,"creation_date":1695835351,"question_id":77189626,"body_markdown":"I am writing a java program that needs to read a USB Token Flash Private Key to do something, but I got stuck in the first phase of this program and it throws Error like this:\r\n\r\n```\r\nException in thread &quot;main&quot; java.security.ProviderException: Initialization failed\r\n\tat sun.security.pkcs11.SunPKCS11.&lt;init&gt;(SunPKCS11.java:377)\r\n\tat sun.security.pkcs11.SunPKCS11.&lt;init&gt;(SunPKCS11.java:108)\r\nCaused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_TOKEN_NOT_PRESENT\r\n\tat sun.security.pkcs11.wrapper.PKCS11.C_GetTokenInfo(Native Method)\r\n\tat sun.security.pkcs11.Token.&lt;init&gt;(Token.java:135)\r\n\tat sun.security.pkcs11.SunPKCS11.initToken(SunPKCS11.java:969)\r\n\tat sun.security.pkcs11.SunPKCS11.&lt;init&gt;(SunPKCS11.java:368)\r\n\t... 2 more\r\n```\r\n\r\nHere&#39;s the peice of code that represents the error above:\r\n&lt;pre&gt;&lt;code class=&quot;language-java&quot;&gt;\r\n    String pkcs11Config = &quot;name=eToken\\nlibrary=C:\\\\Windows\\\\System32\\\\ShuttleCsp11_3003.dll&quot;;\r\n    System.out.println(&quot;step 1&quot;);\r\n    java.io.ByteArrayInputStream pkcs11ConfigStream = new java.io.ByteArrayInputStream(pkcs11Config.getBytes());\r\n    Provider providerPKCS11 = new sun.security.pkcs11.SunPKCS11(pkcs11ConfigStream);\r\n    java.security.Security.addProvider(providerPKCS11);\r\n    System.out.println(&quot;step 2&quot;);\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nI tried to reinstall the program which is inside this USB flash and I could successfully login and export public key and certificate.\r\nI even restarted the pc, but none of them worked and I still got those errors.\r\nDo you think my USB Token is corrupted or damaged? Cause if it is damaged it shouldn&#39;t login successfully...\r\n\r\nI expect to pass this line of code:\r\n&lt;pre&gt;&lt;code class=&quot;language-java&quot;&gt;Provider providerPKCS11 = new sun.security.pkcs11.SunPKCS11(pkcs11ConfigStream);&lt;/code&gt;&lt;/pre&gt;\r\nCan someone please help me with this code?","title":"java.security.ProviderException: Initialization failed","body":"<p>I am writing a java program that needs to read a USB Token Flash Private Key to do something, but I got stuck in the first phase of this program and it throws Error like this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.security.ProviderException: Initialization failed\n    at sun.security.pkcs11.SunPKCS11.&lt;init&gt;(SunPKCS11.java:377)\n    at sun.security.pkcs11.SunPKCS11.&lt;init&gt;(SunPKCS11.java:108)\nCaused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_TOKEN_NOT_PRESENT\n    at sun.security.pkcs11.wrapper.PKCS11.C_GetTokenInfo(Native Method)\n    at sun.security.pkcs11.Token.&lt;init&gt;(Token.java:135)\n    at sun.security.pkcs11.SunPKCS11.initToken(SunPKCS11.java:969)\n    at sun.security.pkcs11.SunPKCS11.&lt;init&gt;(SunPKCS11.java:368)\n    ... 2 more\n</code></pre>\n<p>Here's the peice of code that represents the error above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    String pkcs11Config = \"name=eToken\\nlibrary=C:\\\\Windows\\\\System32\\\\ShuttleCsp11_3003.dll\";\n    System.out.println(\"step 1\");\n    java.io.ByteArrayInputStream pkcs11ConfigStream = new java.io.ByteArrayInputStream(pkcs11Config.getBytes());\n    Provider providerPKCS11 = new sun.security.pkcs11.SunPKCS11(pkcs11ConfigStream);\n    java.security.Security.addProvider(providerPKCS11);\n    System.out.println(\"step 2\");\n</code></pre>\n<p>I tried to reinstall the program which is inside this USB flash and I could successfully login and export public key and certificate.\nI even restarted the pc, but none of them worked and I still got those errors.\nDo you think my USB Token is corrupted or damaged? Cause if it is damaged it shouldn't login successfully...</p>\n<p>I expect to pass this line of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Provider providerPKCS11 = new sun.security.pkcs11.SunPKCS11(pkcs11ConfigStream);</code></pre>\n<p>Can someone please help me with this code?</p>\n"},{"tags":["java","selenium-webdriver","xpath","appium","winappdriver"],"owner":{"account_id":29556108,"reputation":1,"user_id":22651749,"display_name":"joshua-sm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695924297,"creation_date":1695924082,"question_id":77197256,"body_markdown":"Short Version: How do I get my XPath search to ignore certain nodes, and not waste time checking them or their children?\r\n\r\nFull Version: I&#39;m automating a Windows Desktop Application using Appium and WinAppDriver, and I need my XPath search to skip over certain child nodes which are slowing things down.\r\n\r\nThe Application Under Test (AUT) is 30 years of bad practices built on terrible foundation, and it&#39;s got some hiccups. Here are the things that (I&#39;m pretty sure) are non-negotiable:\r\n\r\n1) The Windows Driver has to point to Root, because nearly every action performed on the AUT will open a new window as a child of Root, not of the original application window. I suppose I could spin up a new driver every time the AUT creates a new window, but that&#39;s been inconsistent so far, and just feels like an inefficient solution. Switching windows also doesn&#39;t work, because the Window Handle changes every time the application launches.\r\n\r\n2) The driver has to find most elements by Dynamic XPath, because no one thought to give anything a unique ID or Class Name, and many elements don&#39;t even have a Name. So accessing those elements often requires some extra spicy navigation. (Example: `//Window[@Name=&#39;Signature Validation&#39;]//Pane[contains(@Name, &#39;EXAM&#39;)]//List/child::*[contains(@Name, &#39;date&#39;)]`)\r\n\r\n---\r\n\r\nMy Xpath searches had been inconsistently timing out or failing, and I finally tracked it down to open applications which have a ton of child elements (Outlook, Microsoft Teams, any web browser, etc). If I close everything other than my IDE and the AUT before running tests, they run just fine. But when it has to scan through every child element of my Outlook Inbox it will throw NoSuchElementException about 80% of the time.\r\n\r\nI&#39;ve been trying to write an XPath query which will automatically skip the Outlook window and all of its children. I tried a couple variations on this sort of thing:\r\n\r\n```\r\n//Window[not(self::Window[@Name=&#39;Foo&#39;]) and [@Name=&#39;Bar&#39;]]\r\n//Window[not(self::Window[@Name=&#39;Foo&#39;] or ancestor::Window[@Name=&#39;Foo&#39;]) and [@Name=&#39;Bar&#39;]]\r\n/*[not(self::*[contains(@Name, &#39;Foo&#39;)]) and self::Window[contains(@Name, &#39;Bar&#39;)]]\r\n```\r\n\r\nBut it seems like it&#39;s still scanning Outlook and its children, because I&#39;m still seeing\r\n\r\n```\r\nException: Encountered element sharing the same runtimeId\r\n...\r\nIgnoring new object and keeping existing one\r\n```\r\n\r\ntens of times before it throws NoSuchElementException on a query that runs successfully when Outlook is closed. That suggests to me that it&#39;s still combing through Outlook on its way down the DOM.\r\n\r\nSince my driver has to have access to Root and all of its child elements, is there a way to mark Outlook and certain other child nodes as strictly *verboten*, and get my XPath search to skip over them entirely?\r\n\r\n---\r\n\r\nRight now this is a one-person team, so it&#39;s not a hassle to close out applications that I know are going to cause issues prior to execution. But eventually we&#39;re going to expand the team and I want things to be smooth and intuitive (as much as possible given the circumstances) when they get here.\r\n\r\nNote: I&#39;ve looked through similar questions and I don&#39;t think any of them are asking the same thing that I am. I know how to exclude nodes from the **results** of an XPath search, but I&#39;m trying to remove those nodes from the search entirely. Thank you so much if you&#39;re able to offer any suggestions!","title":"Appium with WinAppDriver: How to Skip Over Certain Nodes During XPath Search","body":"<p>Short Version: How do I get my XPath search to ignore certain nodes, and not waste time checking them or their children?</p>\n<p>Full Version: I'm automating a Windows Desktop Application using Appium and WinAppDriver, and I need my XPath search to skip over certain child nodes which are slowing things down.</p>\n<p>The Application Under Test (AUT) is 30 years of bad practices built on terrible foundation, and it's got some hiccups. Here are the things that (I'm pretty sure) are non-negotiable:</p>\n<ol>\n<li><p>The Windows Driver has to point to Root, because nearly every action performed on the AUT will open a new window as a child of Root, not of the original application window. I suppose I could spin up a new driver every time the AUT creates a new window, but that's been inconsistent so far, and just feels like an inefficient solution. Switching windows also doesn't work, because the Window Handle changes every time the application launches.</p>\n</li>\n<li><p>The driver has to find most elements by Dynamic XPath, because no one thought to give anything a unique ID or Class Name, and many elements don't even have a Name. So accessing those elements often requires some extra spicy navigation. (Example: <code>//Window[@Name='Signature Validation']//Pane[contains(@Name, 'EXAM')]//List/child::*[contains(@Name, 'date')]</code>)</p>\n</li>\n</ol>\n<hr />\n<p>My Xpath searches had been inconsistently timing out or failing, and I finally tracked it down to open applications which have a ton of child elements (Outlook, Microsoft Teams, any web browser, etc). If I close everything other than my IDE and the AUT before running tests, they run just fine. But when it has to scan through every child element of my Outlook Inbox it will throw NoSuchElementException about 80% of the time.</p>\n<p>I've been trying to write an XPath query which will automatically skip the Outlook window and all of its children. I tried a couple variations on this sort of thing:</p>\n<pre><code>//Window[not(self::Window[@Name='Foo']) and [@Name='Bar']]\n//Window[not(self::Window[@Name='Foo'] or ancestor::Window[@Name='Foo']) and [@Name='Bar']]\n/*[not(self::*[contains(@Name, 'Foo')]) and self::Window[contains(@Name, 'Bar')]]\n</code></pre>\n<p>But it seems like it's still scanning Outlook and its children, because I'm still seeing</p>\n<pre><code>Exception: Encountered element sharing the same runtimeId\n...\nIgnoring new object and keeping existing one\n</code></pre>\n<p>tens of times before it throws NoSuchElementException on a query that runs successfully when Outlook is closed. That suggests to me that it's still combing through Outlook on its way down the DOM.</p>\n<p>Since my driver has to have access to Root and all of its child elements, is there a way to mark Outlook and certain other child nodes as strictly <em>verboten</em>, and get my XPath search to skip over them entirely?</p>\n<hr />\n<p>Right now this is a one-person team, so it's not a hassle to close out applications that I know are going to cause issues prior to execution. But eventually we're going to expand the team and I want things to be smooth and intuitive (as much as possible given the circumstances) when they get here.</p>\n<p>Note: I've looked through similar questions and I don't think any of them are asking the same thing that I am. I know how to exclude nodes from the <strong>results</strong> of an XPath search, but I'm trying to remove those nodes from the search entirely. Thank you so much if you're able to offer any suggestions!</p>\n"},{"tags":["java","selenium","xpath","webdriver","element"],"comments":[{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":0,"creation_date":1397474968,"post_id":23058789,"comment_id":35234983,"body_markdown":"You&#39;ve got a typo - there&#39;s an extra trailing `]` after `text()` that shouldn&#39;t be there.  Does it work if you remove that?","body":"You&#39;ve got a typo - there&#39;s an extra trailing <code>]</code> after <code>text()</code> that shouldn&#39;t be there.  Does it work if you remove that?"},{"owner":{"account_id":1203541,"reputation":24718,"user_id":1173729,"accept_rate":75,"display_name":"Arran"},"score":0,"creation_date":1397475383,"post_id":23058789,"comment_id":35235208,"body_markdown":"This isn&#39;t going to work. `text()` isn&#39;t going to return a DOM element that Selenium can use.","body":"This isn&#39;t going to work. <code>text()</code> isn&#39;t going to return a DOM element that Selenium can use."},{"owner":{"account_id":3485239,"reputation":59,"user_id":2916364,"accept_rate":60,"display_name":"edward.eas"},"score":1,"creation_date":1397478188,"post_id":23058789,"comment_id":35236888,"body_markdown":"Yea, sorry for the typo, already removed that, it returns 11:19\nGMT.","body":"Yea, sorry for the typo, already removed that, it returns 11:19 GMT."}],"answers":[{"tags":[],"owner":{"account_id":2675917,"reputation":1765,"user_id":2312352,"display_name":"ievche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397551424,"creation_date":1397482623,"answer_id":23061610,"question_id":23058789,"body_markdown":"The xpath you&#39;re searching for is:\r\n\r\n    //strong[@class=&#39;EnvMain&#39;]/text()\r\n\r\nThis xpath returns text, not a web element.\r\n\r\nIf you want to get text using selenium + java you can try the following:\r\n\r\n    driver.findElement(By.xpath(&quot;//strong[@class=&#39;EnvMain&#39;]&quot;)).getText();\r\n\r\nSeems like getText Function will not return only `GMT`. But we can parse a string like this after getting the text:\r\n\r\n        String s = driver.findElement(By.xpath(&quot;//strong[@class=&#39;EnvMain&#39;]/strong[id=&#39;currentClock&#39;]/..&quot;)).getText();\r\n        s = s.substring(s.lastIndexOf(&#39; &#39;) + 1);","title":"How to get the text only from the child element - Webdriver - Java","body":"<p>The xpath you're searching for is:</p>\n\n<pre><code>//strong[@class='EnvMain']/text()\n</code></pre>\n\n<p>This xpath returns text, not a web element.</p>\n\n<p>If you want to get text using selenium + java you can try the following:</p>\n\n<pre><code>driver.findElement(By.xpath(\"//strong[@class='EnvMain']\")).getText();\n</code></pre>\n\n<p>Seems like getText Function will not return only <code>GMT</code>. But we can parse a string like this after getting the text:</p>\n\n<pre><code>    String s = driver.findElement(By.xpath(\"//strong[@class='EnvMain']/strong[id='currentClock']/..\")).getText();\n    s = s.substring(s.lastIndexOf(' ') + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1708399,"reputation":8104,"user_id":1566990,"accept_rate":67,"display_name":"James Dunn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397571273,"creation_date":1397486148,"answer_id":23062939,"question_id":23058789,"body_markdown":"Use the following xpath to find the element:\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    //strong[@class=&#39;EnvMain&#39;]/strong[@id=&#39;currentClock&#39;]/..\r\n\r\nWhat this xpath does is it finds the `&lt;strong&gt;` element with class EnvMain that has a child `&lt;strong&gt;` with an id of currentClock.  (The `..` at the end walks back up the dom to the parent element).\r\n\r\nThen extract the text with the `getText()` method:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n       String gmt = driver\r\n            .getElement(By.xpath(&quot;//strong[@class=&#39;EnvMain&#39;]/strong[id=&#39;currentClock&#39;]/..&quot;))\r\n            .getText();\r\n\r\nThen, if you want to ignore the text in the inner `&lt;strong&gt;` element and only get the timezone (&quot;GMT&quot;)... there&#39;s not a good way to do this with xpath.  You&#39;ll have to use a regular expression in Java to remove the part you don&#39;t want:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    gmt = gmt.replaceAll(&quot;[\\\\d][\\\\d]?:[\\\\d][\\\\d]\\\\s*&quot;, &quot;&quot;);","title":"How to get the text only from the child element - Webdriver - Java","body":"<p>Use the following xpath to find the element:\n</p>\n\n<pre><code>//strong[@class='EnvMain']/strong[@id='currentClock']/..\n</code></pre>\n\n<p>What this xpath does is it finds the <code>&lt;strong&gt;</code> element with class EnvMain that has a child <code>&lt;strong&gt;</code> with an id of currentClock.  (The <code>..</code> at the end walks back up the dom to the parent element).</p>\n\n<p>Then extract the text with the <code>getText()</code> method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>   String gmt = driver\n        .getElement(By.xpath(\"//strong[@class='EnvMain']/strong[id='currentClock']/..\"))\n        .getText();\n</code></pre>\n\n<p>Then, if you want to ignore the text in the inner <code>&lt;strong&gt;</code> element and only get the timezone (\"GMT\")... there's not a good way to do this with xpath.  You'll have to use a regular expression in Java to remove the part you don't want:\n</p>\n\n<pre><code>gmt = gmt.replaceAll(\"[\\\\d][\\\\d]?:[\\\\d][\\\\d]\\\\s*\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4116317,"reputation":11,"user_id":3377766,"display_name":"Balu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460547606,"creation_date":1460547606,"answer_id":36597254,"question_id":23058789,"body_markdown":"getText() returns null in your case, because in list item there is anchor tag and then text for anchor tag.So use getAttribute(&quot;innerHTML&quot;). But  you will not be able to select the item in list.\r\n\r\n\tWebElement e1 = driver.findElement(By.xpath(&quot;//ul[@class=&#39;EnvContainer&#39;]&quot;));\r\n\r\n\tList&lt;WebElement&gt; list = e1.findElements(By.tagName(&quot;li&quot;));\r\n\tfor(WebElement item: list)\r\n     {\r\n\t\tString s = item.getAttribute(&quot;innerHTML&quot;);\r\n\t\tSystem.out.println(item.getAttribute(&quot;innerHTML&quot;));\r\n\t\t}\r\n","title":"How to get the text only from the child element - Webdriver - Java","body":"<p>getText() returns null in your case, because in list item there is anchor tag and then text for anchor tag.So use getAttribute(\"innerHTML\"). But  you will not be able to select the item in list.</p>\n\n<pre><code>WebElement e1 = driver.findElement(By.xpath(\"//ul[@class='EnvContainer']\"));\n\nList&lt;WebElement&gt; list = e1.findElements(By.tagName(\"li\"));\nfor(WebElement item: list)\n {\n    String s = item.getAttribute(\"innerHTML\");\n    System.out.println(item.getAttribute(\"innerHTML\"));\n    }\n</code></pre>\n"}],"owner":{"account_id":3485239,"reputation":59,"user_id":2916364,"accept_rate":60,"display_name":"edward.eas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10477,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1695924050,"creation_date":1397474595,"question_id":23058789,"body_markdown":"I am trying to get the text only from a child element. See below:\r\n\r\n    &lt;strong class=&quot;EnvMain&quot;&gt;\r\n      &lt;strong id=&quot;currentClock&quot;&gt;11:19&lt;/strong&gt;\r\n      GMT\r\n    &lt;/strong&gt;\r\n\r\nI would like to get only the GMT text.\r\n\r\nI tried writing the xpath like: `.//*[@id=&#39;userEnvironmentInfo&#39;]/div[2]/a/strong/text()]` but this way the element is not found.\r\n\r\nThanks in advance.\r\n\r\nUpdate of HTML:\r\n\r\n    &lt;div class=&quot;DateTime&quot;&gt;\r\n     &lt;a class=&quot;EnvPicker&quot; title=&quot;Change your timezone&quot; href=&quot;javascript:void(0);&quot;&gt;\r\n      &lt;span class=&quot;EnvDD&quot;&gt;▾&lt;/span&gt;\r\n      &lt;span class=&quot;EnvIcon DateTimeIcon&quot;&gt;The time is:&lt;/span&gt;\r\n      &lt;strong class=&quot;EnvMain&quot;&gt;\r\n        &lt;strong id=&quot;currentClock&quot;&gt;17:34&lt;/strong&gt;\r\n        GMT\r\n        &lt;/strong&gt;\r\n      &lt;span id=&quot;currentDay&quot; class=&quot;EnvMore&quot;&gt;Monday&lt;/span&gt;\r\n      &lt;span id=&quot;currentDate&quot; class=&quot;EnvMore&quot;&gt;14.04.2014&lt;/span&gt;\r\n     &lt;/a&gt;\r\n     &lt;div class=&quot;EnvContainer&quot;&gt;\r\n       &lt;ol id=&quot;timeZoneOptions&quot; class=&quot;EnvList&quot;&gt;\r\n          &lt;li class=&quot;EnvItem&quot;&gt;\r\n             &lt;a class=&quot;EnvOption&quot; title=&quot;Set the timezone to GMT-12&quot; onclick=&quot;return false;&quot; rel=&quot;-12&quot; href=&quot;javascript:void(0);&quot;&gt;\r\n                 &lt;strong class=&quot;EnvMain&quot;&gt;GMT-12&lt;/strong&gt;\r\n                 &lt;span class=&quot;EnvMore&quot;&gt;Current time:01:25&lt;/span&gt;\r\n             &lt;/a&gt;\r\n          &lt;/li&gt;\r\n          &lt;li class=&quot;EnvItem&quot;&gt;\r\n             &lt;a class=&quot;EnvOption&quot; title=&quot;Set the timezone to GMT-11&quot; onclick=&quot;return false;&quot; rel=&quot;-11&quot; href=&quot;javascript:void(0);&quot;&gt;\r\n\r\nand here the elements will continue until GMT +12.","title":"How to get the text only from the child element - Webdriver - Java","body":"<p>I am trying to get the text only from a child element. See below:</p>\n\n<pre><code>&lt;strong class=\"EnvMain\"&gt;\n  &lt;strong id=\"currentClock\"&gt;11:19&lt;/strong&gt;\n  GMT\n&lt;/strong&gt;\n</code></pre>\n\n<p>I would like to get only the GMT text.</p>\n\n<p>I tried writing the xpath like: <code>.//*[@id='userEnvironmentInfo']/div[2]/a/strong/text()]</code> but this way the element is not found.</p>\n\n<p>Thanks in advance.</p>\n\n<p>Update of HTML:</p>\n\n<pre><code>&lt;div class=\"DateTime\"&gt;\n &lt;a class=\"EnvPicker\" title=\"Change your timezone\" href=\"javascript:void(0);\"&gt;\n  &lt;span class=\"EnvDD\"&gt;▾&lt;/span&gt;\n  &lt;span class=\"EnvIcon DateTimeIcon\"&gt;The time is:&lt;/span&gt;\n  &lt;strong class=\"EnvMain\"&gt;\n    &lt;strong id=\"currentClock\"&gt;17:34&lt;/strong&gt;\n    GMT\n    &lt;/strong&gt;\n  &lt;span id=\"currentDay\" class=\"EnvMore\"&gt;Monday&lt;/span&gt;\n  &lt;span id=\"currentDate\" class=\"EnvMore\"&gt;14.04.2014&lt;/span&gt;\n &lt;/a&gt;\n &lt;div class=\"EnvContainer\"&gt;\n   &lt;ol id=\"timeZoneOptions\" class=\"EnvList\"&gt;\n      &lt;li class=\"EnvItem\"&gt;\n         &lt;a class=\"EnvOption\" title=\"Set the timezone to GMT-12\" onclick=\"return false;\" rel=\"-12\" href=\"javascript:void(0);\"&gt;\n             &lt;strong class=\"EnvMain\"&gt;GMT-12&lt;/strong&gt;\n             &lt;span class=\"EnvMore\"&gt;Current time:01:25&lt;/span&gt;\n         &lt;/a&gt;\n      &lt;/li&gt;\n      &lt;li class=\"EnvItem\"&gt;\n         &lt;a class=\"EnvOption\" title=\"Set the timezone to GMT-11\" onclick=\"return false;\" rel=\"-11\" href=\"javascript:void(0);\"&gt;\n</code></pre>\n\n<p>and here the elements will continue until GMT +12.</p>\n"},{"tags":["java","ftp","file-transfer","jsch","apache-commons-vfs"],"answers":[{"tags":[],"owner":{"account_id":1245537,"reputation":2911,"user_id":1207086,"accept_rate":95,"display_name":"SRy"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1417612429,"creation_date":1361471196,"answer_id":15009623,"question_id":14932439,"body_markdown":"List of files can be displayed by using [FileObject#getChildren()][1] method.\r\n\r\n    FileSystemOptions opts = new FileSystemOptions();\r\n    fsManager = VFS.getManager();\r\n\r\n    // List all the files in that directory.Try to give the directory path  \r\n    FileObject localFileObject=fsManager.resolveFile(&quot;ftp://&quot;+userStr+&quot;:&quot;+passStr+&quot;@&quot;+host+&quot;/home&quot;);\r\n    FileObject[] children = localFileObject.getChildren();\r\n    for ( int i = 0; i &lt; children.length; i++ ){\r\n        System.out.println( children[ i ].getName().getBaseName() );\r\n    }\r\n    // End of List Files.\r\n\r\n    FileObject file = fsManager.resolveFile(&quot;ftp://&quot;+userStr+&quot;:&quot;+passStr+&quot;@&quot;+host+&quot;/home/&quot;, opts);\r\n\r\nMy suggestion would be to Use [JSCH][2] framework which is best for SFTP operations. As this `Apache Common VFS` inherently used this framework.The complexcity will be greatly reduced by `JSCH`.\r\n\r\n\r\n  [1]: http://commons.apache.org/vfs/apidocs/index.html\r\n  [2]: http://www.jcraft.com/jsch/","title":"How to list files directory/files using Apache Common VFS","body":"<p>List of files can be displayed by using <a href=\"http://commons.apache.org/vfs/apidocs/index.html\" rel=\"noreferrer\">FileObject#getChildren()</a> method.</p>\n\n<pre><code>FileSystemOptions opts = new FileSystemOptions();\nfsManager = VFS.getManager();\n\n// List all the files in that directory.Try to give the directory path  \nFileObject localFileObject=fsManager.resolveFile(\"ftp://\"+userStr+\":\"+passStr+\"@\"+host+\"/home\");\nFileObject[] children = localFileObject.getChildren();\nfor ( int i = 0; i &lt; children.length; i++ ){\n    System.out.println( children[ i ].getName().getBaseName() );\n}\n// End of List Files.\n\nFileObject file = fsManager.resolveFile(\"ftp://\"+userStr+\":\"+passStr+\"@\"+host+\"/home/\", opts);\n</code></pre>\n\n<p>My suggestion would be to Use <a href=\"http://www.jcraft.com/jsch/\" rel=\"noreferrer\">JSCH</a> framework which is best for SFTP operations. As this <code>Apache Common VFS</code> inherently used this framework.The complexcity will be greatly reduced by <code>JSCH</code>.</p>\n"}],"owner":{"account_id":2176550,"reputation":1686,"user_id":1956906,"accept_rate":40,"display_name":"fanjavaid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18359,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":15009623,"answer_count":1,"score":10,"last_activity_date":1695923517,"creation_date":1361177471,"question_id":14932439,"body_markdown":"I am using Apache Common VFS and successfully connected to the server.  \r\nI already read docs but I&#39;m stuck in this code.  How i can list directory/files?\r\n\r\n```java\r\nSession session = null;\r\nFileSystemManager fsManager = null;\r\nFileSystem fs = null;\r\ntry {\r\n    String host = &quot;host_here&quot;;\r\n    int port = 22;\r\n\r\n    String userStr = &quot;user_here&quot;;\r\n    char [] username = userStr.toCharArray();\r\n\r\n    String passStr = &quot;password_here&quot;;\r\n    char [] password = passStr.toCharArray();\r\n\r\n    session = SftpClientFactory.createConnection(host, port, username, password, null);\r\n    //session.connect();\r\n\r\n    System.out.println(&quot;Connected to the server&quot;);\r\n\r\n    FileSystemOptions opts = new FileSystemOptions();\r\n    fsManager = VFS.getManager();\r\n    FileObject file = fsManager.resolveFile(&quot;ftp://&quot;+userStr+&quot;:&quot;+passStr+&quot;@&quot;+host+&quot;/home/&quot;, opts);    \r\n\r\n    // .... whats next i do here? .....\r\n\r\n} catch (Exception e) {\r\n    session.disconnect();\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nPlease help me,  \r\nThank you before :)","title":"How to list files directory/files using Apache Common VFS","body":"<p>I am using Apache Common VFS and successfully connected to the server.<br />\nI already read docs but I'm stuck in this code.  How i can list directory/files?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Session session = null;\nFileSystemManager fsManager = null;\nFileSystem fs = null;\ntry {\n    String host = &quot;host_here&quot;;\n    int port = 22;\n\n    String userStr = &quot;user_here&quot;;\n    char [] username = userStr.toCharArray();\n\n    String passStr = &quot;password_here&quot;;\n    char [] password = passStr.toCharArray();\n\n    session = SftpClientFactory.createConnection(host, port, username, password, null);\n    //session.connect();\n\n    System.out.println(&quot;Connected to the server&quot;);\n\n    FileSystemOptions opts = new FileSystemOptions();\n    fsManager = VFS.getManager();\n    FileObject file = fsManager.resolveFile(&quot;ftp://&quot;+userStr+&quot;:&quot;+passStr+&quot;@&quot;+host+&quot;/home/&quot;, opts);    \n\n    // .... whats next i do here? .....\n\n} catch (Exception e) {\n    session.disconnect();\n    e.printStackTrace();\n}\n</code></pre>\n<p>Please help me,<br />\nThank you before :)</p>\n"},{"tags":["java","object","methods"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1695923659,"post_id":77197212,"comment_id":136091982,"body_markdown":"`u = new PlanePoint(3.2, 74);` and `w = u;` only change `u` and `w` inside the method, not the objects passed to the method. See the linked duplicate for an explanation.","body":"<code>u = new PlanePoint(3.2, 74);</code> and <code>w = u;</code> only change <code>u</code> and <code>w</code> inside the method, not the objects passed to the method. See the linked duplicate for an explanation."}],"owner":{"account_id":27112727,"reputation":1,"user_id":20657620,"display_name":"CJ Acosta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695923599,"answer_count":0,"score":0,"last_activity_date":1695923516,"creation_date":1695923516,"question_id":77197212,"body_markdown":"The change method of the PlaneTester class is not working properly. The only line of the method that works as intended is the `v.setX(8.4);` line. ` u = new PlanePoint(3.2, 74);` and `w = u;` are having zero effect on the output. \r\n\r\n\r\n```\r\npublic class PlanePoint\r\n{\r\n     private double x;\r\n     private double y;\r\n\r\n    public PlanePoint(double first, double second)\r\n   {\r\n        x = first;\r\n        y = second;\r\n    }\r\n\r\n    public void setX(double n)\r\n   {\r\n        x = n;\r\n    }\r\n\r\n    public void setY(double n)\r\n    {\r\n         y = n;\r\n     }\r\n\r\n     public double getX( )\r\n    {\r\n         return x;\r\n    }\r\n\r\n    public double getY( )\r\n    {\r\n         return y;\r\n     }\r\n\r\n     public String toString( )\r\n    {\r\n         return &quot;(&quot; + x + &quot;,&quot; + y + &quot;)&quot;; \r\n     }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n```\r\npublic class PlaneTester\r\n{\r\n     public static void main(String[ ] args)\r\n    {\r\n         PlanePoint a = new PlanePoint(6.2, 1.9);\r\n         PlanePoint b = new PlanePoint(2.8, 5.6);\r\n         PlanePoint c = new PlanePoint(4.9, 6.4);\r\n         System.out.println(a+&quot; &quot;+b+&quot; &quot;+c);\r\n         change(a, b, c);\r\n         System.out.println(a+&quot; &quot;+b+&quot; &quot;+c);\r\n         change(b, c, a);\r\n         System.out.println(a+&quot; &quot;+b+&quot; &quot;+c);\r\n     }\r\n\r\n     public static void change(PlanePoint  u, PlanePoint  v, PlanePoint  w)\r\n    {\r\n           u = new PlanePoint(3.2, 74);\r\n           v.setX(8.4);\r\n           w = u;\r\n    }\r\n}\r\n\r\n```\r\n\r\nOUTPUT:\r\n(6.2,1.9) (2.8,5.6) (4.9,6.4)\r\n(6.2,1.9) (8.4,5.6) (4.9,6.4)\r\n(6.2,1.9) (8.4,5.6) (8.4,6.4)\r\n\r\nEXPECTED OUTPUT:\r\n(6.2,1.9) (2.8,5.6) (4.9,6.4)\r\n(3.2,74) (8.4,5.6) (3.2,74)\r\n(3.2,74) (3.2,74) (8.4,6.4)\r\n","title":"Am I missing something within the change method?","body":"<p>The change method of the PlaneTester class is not working properly. The only line of the method that works as intended is the <code>v.setX(8.4);</code> line. <code> u = new PlanePoint(3.2, 74);</code> and <code>w = u;</code> are having zero effect on the output.</p>\n<pre><code>public class PlanePoint\n{\n     private double x;\n     private double y;\n\n    public PlanePoint(double first, double second)\n   {\n        x = first;\n        y = second;\n    }\n\n    public void setX(double n)\n   {\n        x = n;\n    }\n\n    public void setY(double n)\n    {\n         y = n;\n     }\n\n     public double getX( )\n    {\n         return x;\n    }\n\n    public double getY( )\n    {\n         return y;\n     }\n\n     public String toString( )\n    {\n         return &quot;(&quot; + x + &quot;,&quot; + y + &quot;)&quot;; \n     }\n}\n\n\n</code></pre>\n<pre><code>public class PlaneTester\n{\n     public static void main(String[ ] args)\n    {\n         PlanePoint a = new PlanePoint(6.2, 1.9);\n         PlanePoint b = new PlanePoint(2.8, 5.6);\n         PlanePoint c = new PlanePoint(4.9, 6.4);\n         System.out.println(a+&quot; &quot;+b+&quot; &quot;+c);\n         change(a, b, c);\n         System.out.println(a+&quot; &quot;+b+&quot; &quot;+c);\n         change(b, c, a);\n         System.out.println(a+&quot; &quot;+b+&quot; &quot;+c);\n     }\n\n     public static void change(PlanePoint  u, PlanePoint  v, PlanePoint  w)\n    {\n           u = new PlanePoint(3.2, 74);\n           v.setX(8.4);\n           w = u;\n    }\n}\n\n</code></pre>\n<p>OUTPUT:\n(6.2,1.9) (2.8,5.6) (4.9,6.4)\n(6.2,1.9) (8.4,5.6) (4.9,6.4)\n(6.2,1.9) (8.4,5.6) (8.4,6.4)</p>\n<p>EXPECTED OUTPUT:\n(6.2,1.9) (2.8,5.6) (4.9,6.4)\n(3.2,74) (8.4,5.6) (3.2,74)\n(3.2,74) (3.2,74) (8.4,6.4)</p>\n"},{"tags":["java","ssl","certificate","window","ibm-mq"],"answers":[{"tags":[],"owner":{"account_id":7955892,"reputation":352,"user_id":6005228,"display_name":"root"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695449842,"creation_date":1695448925,"answer_id":77161845,"question_id":77160961,"body_markdown":"This *could* be a potential case of https://www.ibm.com/support/pages/apar/IT15806 given the version reported in the logs above is MQ 9.0.3 CD. It should be noted that 9.0.3 has been out of support for a very long time, and you are strongly advised to either upgrade to a current CD release, or move to a current LTS release if the CD release cycle is too fast for your organisation to keep up with.\r\n\r\nTo check whether or not a certificate is expired is fairly simple, load the JKS file that&#39;s used in the java client application into IBM Key Management, or use runmqckm / keytool to access the keystore. From there, print out the certificate details and verify the expiry date. \r\n\r\nNote that to do the above, you&#39;ll need the password to the JKS file, otherwise you won&#39;t be able to access it. \r\n\r\nIf you use a CLI, the specific command you&#39;ll need is this: `runmqckm -cert -list -db [JKS file name] -pw [password]`\r\n\r\nThat should print out all the certificates currently in the keystore. From there you can then do `runmqckm -cert -details -db [JKS file] -pw [password] -label [cert_label]` which will show the details of the specific certificate you want. Those details will contain the issue date and the expiry date.","title":"Connecting to MQ from Java using SSL fails with error MQJE001: Completion Code &#39;2&#39;, Reason &#39;2397&#39;","body":"<p>This <em>could</em> be a potential case of <a href=\"https://www.ibm.com/support/pages/apar/IT15806\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/pages/apar/IT15806</a> given the version reported in the logs above is MQ 9.0.3 CD. It should be noted that 9.0.3 has been out of support for a very long time, and you are strongly advised to either upgrade to a current CD release, or move to a current LTS release if the CD release cycle is too fast for your organisation to keep up with.</p>\n<p>To check whether or not a certificate is expired is fairly simple, load the JKS file that's used in the java client application into IBM Key Management, or use runmqckm / keytool to access the keystore. From there, print out the certificate details and verify the expiry date.</p>\n<p>Note that to do the above, you'll need the password to the JKS file, otherwise you won't be able to access it.</p>\n<p>If you use a CLI, the specific command you'll need is this: <code>runmqckm -cert -list -db [JKS file name] -pw [password]</code></p>\n<p>That should print out all the certificates currently in the keystore. From there you can then do <code>runmqckm -cert -details -db [JKS file] -pw [password] -label [cert_label]</code> which will show the details of the specific certificate you want. Those details will contain the issue date and the expiry date.</p>\n"},{"tags":[],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695922697,"creation_date":1695922214,"answer_id":77197106,"question_id":77160961,"body_markdown":"In addition to the answer provided by @root, I wanted to provide this complete guide to check if the certificate is expired, create a new one, and deploy it to the client and the MQ server.\r\n\r\nThe scenario here is that the Java program is running on a client machine, and the MQ server is installed on another Windows server machine.\r\n\r\nThe steps:\r\n\r\n - Sart on the client machine and use the Java (JRE/JDK) keytool command. Open the command line.\r\n\r\n- Make sure the relevant Java JDK/JRE version is on the environment PATH variable\r\n```\r\n&gt; SET PATH=%PATH%;C:\\Program Files (x86)\\java\\jre1.8.0_xxx\\bin\r\n```\r\n  \r\n - Check if a certificate is expired, run the following Java keytool command line and check the output:   \r\n```\r\n&gt; keytool -list -v -keystore path-to-file\\keystore-file-name.jks\r\nEnter keystore password: &lt;keystore-password&gt;\r\n```\r\nCheck the output to find out if the certificate is expired.\r\n\r\n- Create a new jks key file:\r\n```\r\n&gt;keytool -genkey -keyalg RSA -alias ibmwebspheremqmytestssl -keystore key-store-file-name.jks -storepass &lt;key-store-password&gt; -validity 400 -keysize 2048\r\nWhat is your first and last name?\r\n  [Unknown]:  MQ-server-name\r\nWhat is the name of your organizational unit?\r\n  [Unknown]:  Org Unit Name\r\nWhat is the name of your organization?\r\n  [Unknown]:  Org Name\r\nWhat is the name of your City or Locality?\r\n  [Unknown]:  City Name\r\nWhat is the name of your State or Province?\r\n  [Unknown]:  Province Name\r\nWhat is the two-letter country code for this unit?\r\n  [Unknown]:  Country\r\nIs CN=xxx, OU=xxx, O=xxx, L=xxx, ST=xxx, C=xxx correct?\r\n  [no]:  yes\r\n\r\nEnter key password for &lt;ibmwebspheremqmytestssl&gt;\r\n        (RETURN if same as keystore password): &lt;press ENTER to accept the password specified above&gt;\r\n\r\nWarning:\r\nThe JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using &quot;keytool -importkeystore -srckeystore mykeystore.jks -destkeystore keystore-file-name.jks -deststoretype pkcs12&quot;.\r\n```\r\n\r\n- Verify the new keystore file:\r\n\r\n```\r\n&gt; keytool -list -v -keystore path-to-file\\keystore-file-name.jks\r\nEnter keystore password: &lt;key-store-password&gt;\r\n```\r\n\r\n- RDP to the machine where MQ is installed \r\n- Start CMD and go to the folder where SSL certificate repository files are placed for the MQ Manager in question:\r\n\r\n```\r\nC:&gt;cd C:\\ProgramData\\IBM\\MQ\\qmgrs\\mq-manager-name\\ssl\r\nC:\\ProgramData\\IBM\\MQ\\qmgrs\\mq-manager-name\\ssl&gt;\r\n```\r\n\r\n- Open MQ Explorer, and get the configured keystore for the Queue Manager. Right-click on the Queue Manager, and select properties/SSL. Check `SSL Key repository` and `Certificate label`.  \r\n\r\n- Backup and delete the old files related to the SSL configured for the Queue Manager. For example, if the value of `SSL Key repository` is `C:\\ProgramData\\IBM\\MQ\\qmgrs\\mq-manager-name\\ssl\\mykeystore`, then back up and delete the following files:\r\n```\r\nmykeystore.jks\r\nmykeystore.kdb\r\nmykeystore.rdb\r\nmykeystore.sth   (the password stash file)\r\n```\r\n\r\n- Copy the keystore file created above from the client machine to the above-mentioned folder on MQ Server.\r\n\r\n- Create the new .kdb and .rdb files using the runmqckm.exe command from IBM MQ (usually found in `C:\\Program Files\\IBM\\MQ\\bin`):\r\n```\r\nC:\\ProgramData\\IBM\\MQ\\qmgrs\\mq-manager-name\\ssl&gt; runmqckm -keydb -convert -db mykeystore.jks -new_format kdb\r\n5724-H72 (C) Copyright IBM Corp. 1994, 2017.\r\nA password is required to access the source key database.\r\nPlease enter a password: &lt;keystore-password&gt;\r\n```\r\n\r\n- Create the new stash .sth password file\r\n\r\n```\r\nC:\\ProgramData\\IBM\\MQ\\qmgrs\\mq-manager-name\\ssl&gt; runmqckm -keydb -stashpw -db mykeystore.kdb\r\n5724-H72 (C) Copyright IBM Corp. 1994, 2017.\r\nA password is required to access the source key database.\r\nPlease enter a password: &lt;keystore-password&gt;\r\n```\r\n\r\n- From MQ Explorer, right-click on the Queue Manager, and select Properties/SSL. Verify the keystore configuration and the label name. Click Accept/OK.\r\n\r\n- Right-click again on the Queue Manager, and select Security/Refresh SSL.\r\n\r\n- Now it should be ready, and you can test the Java program from the client machine to connect to MQ using SSL.\r\n\r\n- If you encounter errors, check the logs from the following folder on the MQ Server for the Queue Manager in question for example in `C:\\ProgramData\\IBM\\MQ\\qmgrs\\queue-manager-name\\errors`.\r\n\r\n","title":"Connecting to MQ from Java using SSL fails with error MQJE001: Completion Code &#39;2&#39;, Reason &#39;2397&#39;","body":"<p>In addition to the answer provided by @root, I wanted to provide this complete guide to check if the certificate is expired, create a new one, and deploy it to the client and the MQ server.</p>\n<p>The scenario here is that the Java program is running on a client machine, and the MQ server is installed on another Windows server machine.</p>\n<p>The steps:</p>\n<ul>\n<li><p>Sart on the client machine and use the Java (JRE/JDK) keytool command. Open the command line.</p>\n</li>\n<li><p>Make sure the relevant Java JDK/JRE version is on the environment PATH variable</p>\n</li>\n</ul>\n<pre><code>&gt; SET PATH=%PATH%;C:\\Program Files (x86)\\java\\jre1.8.0_xxx\\bin\n</code></pre>\n<ul>\n<li>Check if a certificate is expired, run the following Java keytool command line and check the output:</li>\n</ul>\n<pre><code>&gt; keytool -list -v -keystore path-to-file\\keystore-file-name.jks\nEnter keystore password: &lt;keystore-password&gt;\n</code></pre>\n<p>Check the output to find out if the certificate is expired.</p>\n<ul>\n<li>Create a new jks key file:</li>\n</ul>\n<pre><code>&gt;keytool -genkey -keyalg RSA -alias ibmwebspheremqmytestssl -keystore key-store-file-name.jks -storepass &lt;key-store-password&gt; -validity 400 -keysize 2048\nWhat is your first and last name?\n  [Unknown]:  MQ-server-name\nWhat is the name of your organizational unit?\n  [Unknown]:  Org Unit Name\nWhat is the name of your organization?\n  [Unknown]:  Org Name\nWhat is the name of your City or Locality?\n  [Unknown]:  City Name\nWhat is the name of your State or Province?\n  [Unknown]:  Province Name\nWhat is the two-letter country code for this unit?\n  [Unknown]:  Country\nIs CN=xxx, OU=xxx, O=xxx, L=xxx, ST=xxx, C=xxx correct?\n  [no]:  yes\n\nEnter key password for &lt;ibmwebspheremqmytestssl&gt;\n        (RETURN if same as keystore password): &lt;press ENTER to accept the password specified above&gt;\n\nWarning:\nThe JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using &quot;keytool -importkeystore -srckeystore mykeystore.jks -destkeystore keystore-file-name.jks -deststoretype pkcs12&quot;.\n</code></pre>\n<ul>\n<li>Verify the new keystore file:</li>\n</ul>\n<pre><code>&gt; keytool -list -v -keystore path-to-file\\keystore-file-name.jks\nEnter keystore password: &lt;key-store-password&gt;\n</code></pre>\n<ul>\n<li>RDP to the machine where MQ is installed</li>\n<li>Start CMD and go to the folder where SSL certificate repository files are placed for the MQ Manager in question:</li>\n</ul>\n<pre><code>C:&gt;cd C:\\ProgramData\\IBM\\MQ\\qmgrs\\mq-manager-name\\ssl\nC:\\ProgramData\\IBM\\MQ\\qmgrs\\mq-manager-name\\ssl&gt;\n</code></pre>\n<ul>\n<li><p>Open MQ Explorer, and get the configured keystore for the Queue Manager. Right-click on the Queue Manager, and select properties/SSL. Check <code>SSL Key repository</code> and <code>Certificate label</code>.</p>\n</li>\n<li><p>Backup and delete the old files related to the SSL configured for the Queue Manager. For example, if the value of <code>SSL Key repository</code> is <code>C:\\ProgramData\\IBM\\MQ\\qmgrs\\mq-manager-name\\ssl\\mykeystore</code>, then back up and delete the following files:</p>\n</li>\n</ul>\n<pre><code>mykeystore.jks\nmykeystore.kdb\nmykeystore.rdb\nmykeystore.sth   (the password stash file)\n</code></pre>\n<ul>\n<li><p>Copy the keystore file created above from the client machine to the above-mentioned folder on MQ Server.</p>\n</li>\n<li><p>Create the new .kdb and .rdb files using the runmqckm.exe command from IBM MQ (usually found in <code>C:\\Program Files\\IBM\\MQ\\bin</code>):</p>\n</li>\n</ul>\n<pre><code>C:\\ProgramData\\IBM\\MQ\\qmgrs\\mq-manager-name\\ssl&gt; runmqckm -keydb -convert -db mykeystore.jks -new_format kdb\n5724-H72 (C) Copyright IBM Corp. 1994, 2017.\nA password is required to access the source key database.\nPlease enter a password: &lt;keystore-password&gt;\n</code></pre>\n<ul>\n<li>Create the new stash .sth password file</li>\n</ul>\n<pre><code>C:\\ProgramData\\IBM\\MQ\\qmgrs\\mq-manager-name\\ssl&gt; runmqckm -keydb -stashpw -db mykeystore.kdb\n5724-H72 (C) Copyright IBM Corp. 1994, 2017.\nA password is required to access the source key database.\nPlease enter a password: &lt;keystore-password&gt;\n</code></pre>\n<ul>\n<li><p>From MQ Explorer, right-click on the Queue Manager, and select Properties/SSL. Verify the keystore configuration and the label name. Click Accept/OK.</p>\n</li>\n<li><p>Right-click again on the Queue Manager, and select Security/Refresh SSL.</p>\n</li>\n<li><p>Now it should be ready, and you can test the Java program from the client machine to connect to MQ using SSL.</p>\n</li>\n<li><p>If you encounter errors, check the logs from the following folder on the MQ Server for the Queue Manager in question for example in <code>C:\\ProgramData\\IBM\\MQ\\qmgrs\\queue-manager-name\\errors</code>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77161845,"answer_count":2,"score":0,"last_activity_date":1695922697,"creation_date":1695421924,"question_id":77160961,"body_markdown":"A Java program connects to the MQ Server using SSL and puts a message to MQ. It was working last week, and now it is not working. Following is the error stack trace on the client side:\r\n\r\n```\r\ncom.ibm.mq.MQException: MQJE001: Completion Code &#39;2&#39;, Reason &#39;2397&#39;.\r\n        at com.ibm.mq.MQManagedConnectionJ11.&lt;init&gt;(MQManagedConnectionJ11.java:251)\r\n        at com.ibm.mq.MQClientManagedConnectionFactoryJ11._createManagedConnection(MQClientManagedConnectionFactoryJ11.java:449)\r\n        at com.ibm.mq.MQClientManagedConnectionFactoryJ11.createManagedConnection(MQClientManagedConnectionFactoryJ11.java:486)\r\n        at com.ibm.mq.StoredManagedConnection.&lt;init&gt;(StoredManagedConnection.java:97)\r\n        at com.ibm.mq.MQSimpleConnectionManager.allocateConnection(MQSimpleConnectionManager.java:194)\r\n        at com.ibm.mq.MQQueueManagerFactory.obtainBaseMQQueueManager(MQQueueManagerFactory.java:870)\r\n        at com.ibm.mq.MQQueueManagerFactory.procure(MQQueueManagerFactory.java:818)\r\n        at com.ibm.mq.MQQueueManagerFactory.constructQueueManager(MQQueueManagerFactory.java:760)\r\n        at com.ibm.mq.MQQueueManagerFactory.createQueueManager(MQQueueManagerFactory.java:200)\r\n        at com.ibm.mq.MQQueueManager.&lt;init&gt;(MQQueueManager.java:893)\r\n        at MQUtility.main(MQUtility.java:405)\r\nCaused by: com.ibm.mq.jmqi.JmqiException: CC=2;RC=2397;AMQ9204: Connection to host &#39;server.ip.address.number(1919)&#39; rejected. [1=com.ibm.mq.jmqi.JmqiException[CC=2;RC=2397;AMQ9771: SSL handshake failed. [1=javax.net.ssl.SSLHandshakeException[Remote host terminated the handshake],3=MQServer_Name/server.ip.address.number:1919 (MQServer_Name),4=SSLSocket.startHandshake,5=default]],3=server.ip.address.number(1919),4=,5=RemoteTCPConnection.protocolConnect]\r\n        at com.ibm.mq.jmqi.remote.api.RemoteFAP$Connector.jmqiConnect(RemoteFAP.java:13635)\r\n        at com.ibm.mq.jmqi.remote.api.RemoteFAP$Connector.access$100(RemoteFAP.java:13175)\r\n        at com.ibm.mq.jmqi.remote.api.RemoteFAP.jmqiConnect(RemoteFAP.java:1449)\r\n        at com.ibm.mq.jmqi.remote.api.RemoteFAP.jmqiConnect(RemoteFAP.java:1390)\r\n        at com.ibm.mq.ese.jmqi.InterceptedJmqiImpl.jmqiConnect(InterceptedJmqiImpl.java:377)\r\n        at com.ibm.mq.ese.jmqi.ESEJMQI.jmqiConnect(ESEJMQI.java:562)\r\n        at com.ibm.mq.MQSESSION.MQCONNX_j(MQSESSION.java:916)\r\n        at com.ibm.mq.MQManagedConnectionJ11.&lt;init&gt;(MQManagedConnectionJ11.java:236)\r\n        ... 10 more\r\nCaused by: com.ibm.mq.jmqi.JmqiException: CC=2;RC=2397;AMQ9771: SSL handshake failed. [1=javax.net.ssl.SSLHandshakeException[Remote host terminated the handshake],3=MQServer_Name/server.ip.address.number:1919 (MQServer_Name),4=SSLSocket.startHandshake,5=default]\r\n        at com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection.protocolConnect(RemoteTCPConnection.java:1493)\r\n        at com.ibm.mq.jmqi.remote.impl.RemoteConnection.connect(RemoteConnection.java:1011)\r\n        at com.ibm.mq.jmqi.remote.impl.RemoteConnectionSpecification.getNewConnection(RemoteConnectionSpecification.java:688)\r\n        at com.ibm.mq.jmqi.remote.impl.RemoteConnectionSpecification.getSessionFromNewConnection(RemoteConnectionSpecification.java:282)\r\n        at com.ibm.mq.jmqi.remote.impl.RemoteConnectionSpecification.getSession(RemoteConnectionSpecification.java:181)\r\n        at com.ibm.mq.jmqi.remote.impl.RemoteConnectionPool.getSession(RemoteConnectionPool.java:127)\r\n        at com.ibm.mq.jmqi.remote.api.RemoteFAP$Connector.jmqiConnect(RemoteFAP.java:13375)\r\n        ... 17 more\r\nCaused by: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\r\n        at sun.security.ssl.SSLSocketImpl.handleEOF(Unknown Source)\r\n        at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)\r\n        at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n        at com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection$6.run(RemoteTCPConnection.java:1460)\r\n        at com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection$6.run(RemoteTCPConnection.java:1452)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection.protocolConnect(RemoteTCPConnection.java:1452)\r\n        ... 23 more\r\nCaused by: java.io.EOFException: SSL peer shut down incorrectly\r\n        at sun.security.ssl.SSLSocketInputRecord.read(Unknown Source)\r\n        at sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source)\r\n        at sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source)\r\n        at sun.security.ssl.SSLTransport.decode(Unknown Source)\r\n        ... 31 more\r\n```\r\n\r\nFollowing is the error log extracted from this path `C:\\ProgramData\\IBM\\MQ\\qmgrs\\&lt;mq-manager-name&gt;\\errors`:\r\n\r\n```\r\n----- amqrmrsa.c : 938 --------------------------------------------------------\r\n9/22/2023 16:56:09 - Process(1532.229) User(SYSTEM) Program(amqrmppa.exe)\r\n                      Host(MQSERVER_NAME) Installation(Installation1)\r\n                      VRMF(9.0.3.0) QMgr(MQManager_Name)\r\n                      Time(2023-09-22T21:56:09.933Z)\r\n                     \r\nAMQ9620: Internal error on call to SSL function on channel &#39;????&#39; to host\r\n&#39;client_host_name (server.ip.number)&#39;.\r\n\r\nEXPLANATION:\r\nAn error indicating a software problem was returned from a function which is\r\nused to provide SSL or TLS support. The error code returned was &#39;14&#39;. The\r\nfunction call was &#39;gsk_secure_soc_init&#39;. \r\n\r\nThe channel is &#39;????&#39;; in some cases its name cannot be determined and so is\r\nshown as &#39;????&#39;. The channel did not start. \r\n\r\nThe remote host name is &#39;client_host_name (server.ip.number)&#39;.\r\nACTION:\r\nCollect the items listed in the &#39;Problem determination&#39; section of the System\r\nAdministration manual and use either the MQ Support site:\r\nhttp://www.ibm.com/software/integration/wmq/support/, or IBM Support Assistant\r\n(ISA): http://www.ibm.com/software/support/isa/, to see whether a solution is\r\nalready available.  If you are unable to find a match, contact your IBM support\r\ncenter. \r\n----- amqccisa.c : 7846 -------------------------------------------------------\r\n9/22/2023 16:56:09 - Process(1532.229) User(SYSTEM) Program(amqrmppa.exe)\r\n                      Host(MQSERVER_NAME) Installation(Installation1)\r\n                      VRMF(9.0.3.0) QMgr(MQManager_Name)\r\n                      Time(2023-09-22T21:56:09.933Z)\r\n                     \r\nAMQ9999: Channel &#39;????&#39; to host &#39;client_host_name (server.ip.number)&#39; ended abnormally.\r\n\r\nEXPLANATION:\r\nThe channel program running under process ID 1532(1188) for channel &#39;????&#39;\r\nended abnormally. The host name is &#39;client_host_name (server.ip.number)&#39;; in some cases\r\nthe host name cannot be determined and so is shown as &#39;????&#39;.\r\nACTION:\r\nLook at previous error messages for the channel program in the error logs to\r\ndetermine the cause of the failure. Note that this message can be excluded\r\ncompletely or suppressed by tuning the &quot;ExcludeMessage&quot; or &quot;SuppressMessage&quot;\r\nattributes under the &quot;QMErrorLog&quot; stanza in qm.ini. Further information can be\r\nfound in the System Administration Guide. \r\n----- amqrmrsa.c : 938 --------------------------------------------------------\r\n```\r\n\r\nPlease help me troubleshoot this error. If the certificate is expired, then how I can verify this? I have a key file used on the client which is loaded by the Java program. I am not familiar with the MQ Server setting on the server, but I have access, and if you tell me what to check, I can give it a try.","title":"Connecting to MQ from Java using SSL fails with error MQJE001: Completion Code &#39;2&#39;, Reason &#39;2397&#39;","body":"<p>A Java program connects to the MQ Server using SSL and puts a message to MQ. It was working last week, and now it is not working. Following is the error stack trace on the client side:</p>\n<pre><code>com.ibm.mq.MQException: MQJE001: Completion Code '2', Reason '2397'.\n        at com.ibm.mq.MQManagedConnectionJ11.&lt;init&gt;(MQManagedConnectionJ11.java:251)\n        at com.ibm.mq.MQClientManagedConnectionFactoryJ11._createManagedConnection(MQClientManagedConnectionFactoryJ11.java:449)\n        at com.ibm.mq.MQClientManagedConnectionFactoryJ11.createManagedConnection(MQClientManagedConnectionFactoryJ11.java:486)\n        at com.ibm.mq.StoredManagedConnection.&lt;init&gt;(StoredManagedConnection.java:97)\n        at com.ibm.mq.MQSimpleConnectionManager.allocateConnection(MQSimpleConnectionManager.java:194)\n        at com.ibm.mq.MQQueueManagerFactory.obtainBaseMQQueueManager(MQQueueManagerFactory.java:870)\n        at com.ibm.mq.MQQueueManagerFactory.procure(MQQueueManagerFactory.java:818)\n        at com.ibm.mq.MQQueueManagerFactory.constructQueueManager(MQQueueManagerFactory.java:760)\n        at com.ibm.mq.MQQueueManagerFactory.createQueueManager(MQQueueManagerFactory.java:200)\n        at com.ibm.mq.MQQueueManager.&lt;init&gt;(MQQueueManager.java:893)\n        at MQUtility.main(MQUtility.java:405)\nCaused by: com.ibm.mq.jmqi.JmqiException: CC=2;RC=2397;AMQ9204: Connection to host 'server.ip.address.number(1919)' rejected. [1=com.ibm.mq.jmqi.JmqiException[CC=2;RC=2397;AMQ9771: SSL handshake failed. [1=javax.net.ssl.SSLHandshakeException[Remote host terminated the handshake],3=MQServer_Name/server.ip.address.number:1919 (MQServer_Name),4=SSLSocket.startHandshake,5=default]],3=server.ip.address.number(1919),4=,5=RemoteTCPConnection.protocolConnect]\n        at com.ibm.mq.jmqi.remote.api.RemoteFAP$Connector.jmqiConnect(RemoteFAP.java:13635)\n        at com.ibm.mq.jmqi.remote.api.RemoteFAP$Connector.access$100(RemoteFAP.java:13175)\n        at com.ibm.mq.jmqi.remote.api.RemoteFAP.jmqiConnect(RemoteFAP.java:1449)\n        at com.ibm.mq.jmqi.remote.api.RemoteFAP.jmqiConnect(RemoteFAP.java:1390)\n        at com.ibm.mq.ese.jmqi.InterceptedJmqiImpl.jmqiConnect(InterceptedJmqiImpl.java:377)\n        at com.ibm.mq.ese.jmqi.ESEJMQI.jmqiConnect(ESEJMQI.java:562)\n        at com.ibm.mq.MQSESSION.MQCONNX_j(MQSESSION.java:916)\n        at com.ibm.mq.MQManagedConnectionJ11.&lt;init&gt;(MQManagedConnectionJ11.java:236)\n        ... 10 more\nCaused by: com.ibm.mq.jmqi.JmqiException: CC=2;RC=2397;AMQ9771: SSL handshake failed. [1=javax.net.ssl.SSLHandshakeException[Remote host terminated the handshake],3=MQServer_Name/server.ip.address.number:1919 (MQServer_Name),4=SSLSocket.startHandshake,5=default]\n        at com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection.protocolConnect(RemoteTCPConnection.java:1493)\n        at com.ibm.mq.jmqi.remote.impl.RemoteConnection.connect(RemoteConnection.java:1011)\n        at com.ibm.mq.jmqi.remote.impl.RemoteConnectionSpecification.getNewConnection(RemoteConnectionSpecification.java:688)\n        at com.ibm.mq.jmqi.remote.impl.RemoteConnectionSpecification.getSessionFromNewConnection(RemoteConnectionSpecification.java:282)\n        at com.ibm.mq.jmqi.remote.impl.RemoteConnectionSpecification.getSession(RemoteConnectionSpecification.java:181)\n        at com.ibm.mq.jmqi.remote.impl.RemoteConnectionPool.getSession(RemoteConnectionPool.java:127)\n        at com.ibm.mq.jmqi.remote.api.RemoteFAP$Connector.jmqiConnect(RemoteFAP.java:13375)\n        ... 17 more\nCaused by: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\n        at sun.security.ssl.SSLSocketImpl.handleEOF(Unknown Source)\n        at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)\n        at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n        at com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection$6.run(RemoteTCPConnection.java:1460)\n        at com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection$6.run(RemoteTCPConnection.java:1452)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at com.ibm.mq.jmqi.remote.impl.RemoteTCPConnection.protocolConnect(RemoteTCPConnection.java:1452)\n        ... 23 more\nCaused by: java.io.EOFException: SSL peer shut down incorrectly\n        at sun.security.ssl.SSLSocketInputRecord.read(Unknown Source)\n        at sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source)\n        at sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source)\n        at sun.security.ssl.SSLTransport.decode(Unknown Source)\n        ... 31 more\n</code></pre>\n<p>Following is the error log extracted from this path <code>C:\\ProgramData\\IBM\\MQ\\qmgrs\\&lt;mq-manager-name&gt;\\errors</code>:</p>\n<pre><code>----- amqrmrsa.c : 938 --------------------------------------------------------\n9/22/2023 16:56:09 - Process(1532.229) User(SYSTEM) Program(amqrmppa.exe)\n                      Host(MQSERVER_NAME) Installation(Installation1)\n                      VRMF(9.0.3.0) QMgr(MQManager_Name)\n                      Time(2023-09-22T21:56:09.933Z)\n                     \nAMQ9620: Internal error on call to SSL function on channel '????' to host\n'client_host_name (server.ip.number)'.\n\nEXPLANATION:\nAn error indicating a software problem was returned from a function which is\nused to provide SSL or TLS support. The error code returned was '14'. The\nfunction call was 'gsk_secure_soc_init'. \n\nThe channel is '????'; in some cases its name cannot be determined and so is\nshown as '????'. The channel did not start. \n\nThe remote host name is 'client_host_name (server.ip.number)'.\nACTION:\nCollect the items listed in the 'Problem determination' section of the System\nAdministration manual and use either the MQ Support site:\nhttp://www.ibm.com/software/integration/wmq/support/, or IBM Support Assistant\n(ISA): http://www.ibm.com/software/support/isa/, to see whether a solution is\nalready available.  If you are unable to find a match, contact your IBM support\ncenter. \n----- amqccisa.c : 7846 -------------------------------------------------------\n9/22/2023 16:56:09 - Process(1532.229) User(SYSTEM) Program(amqrmppa.exe)\n                      Host(MQSERVER_NAME) Installation(Installation1)\n                      VRMF(9.0.3.0) QMgr(MQManager_Name)\n                      Time(2023-09-22T21:56:09.933Z)\n                     \nAMQ9999: Channel '????' to host 'client_host_name (server.ip.number)' ended abnormally.\n\nEXPLANATION:\nThe channel program running under process ID 1532(1188) for channel '????'\nended abnormally. The host name is 'client_host_name (server.ip.number)'; in some cases\nthe host name cannot be determined and so is shown as '????'.\nACTION:\nLook at previous error messages for the channel program in the error logs to\ndetermine the cause of the failure. Note that this message can be excluded\ncompletely or suppressed by tuning the &quot;ExcludeMessage&quot; or &quot;SuppressMessage&quot;\nattributes under the &quot;QMErrorLog&quot; stanza in qm.ini. Further information can be\nfound in the System Administration Guide. \n----- amqrmrsa.c : 938 --------------------------------------------------------\n</code></pre>\n<p>Please help me troubleshoot this error. If the certificate is expired, then how I can verify this? I have a key file used on the client which is loaded by the Java program. I am not familiar with the MQ Server setting on the server, but I have access, and if you tell me what to check, I can give it a try.</p>\n"},{"tags":["java","spring-boot","azure","azure-functions","azure-eventgrid"],"comments":[{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1695858279,"post_id":77187661,"comment_id":136081601,"body_markdown":"What&#39;s your Azure Java SDK version?","body":"What&#39;s your Azure Java SDK version?"},{"owner":{"account_id":16015944,"reputation":93,"user_id":11558695,"display_name":"Nandishwar Garg"},"score":0,"creation_date":1695875212,"post_id":77187661,"comment_id":136082854,"body_markdown":"@CausingUnderflowsEverywhere these are the related dependencies and their versions defined in pom.xml of my azure function app. \n\n                &lt;dependency&gt;\n    \t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\n    \t\t&lt;artifactId&gt;azure-messaging-eventgrid&lt;/artifactId&gt;\n    \t\t&lt;version&gt;4.18.0&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n  \t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\n  \t\t\t&lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.7.3&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;azure-eventgrid&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.1.0&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"@CausingUnderflowsEverywhere these are the related dependencies and their versions defined in pom.xml of my azure function app.                   &lt;dependency&gt;     \t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;     \t\t&lt;artifactId&gt;azure-messaging-eventgrid&lt;/artifactId&gt;     \t\t&lt;version&gt;4.18.0&lt;/version&gt; \t\t&lt;/dependency&gt; \t\t&lt;dependency&gt;   \t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;   \t\t\t&lt;artifactId&gt;azure-identity&lt;/artifactId&gt; \t\t\t&lt;version&gt;1.7.3&lt;/version&gt; \t\t&lt;/dependency&gt; \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;azure-eventgrid&lt;/artifactId&gt; \t\t\t&lt;version&gt;1.1.0&lt;/version&gt; \t\t&lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":16015944,"reputation":93,"user_id":11558695,"display_name":"Nandishwar Garg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695922637,"creation_date":1695893151,"answer_id":77193746,"question_id":77187661,"body_markdown":"I was able to resolve this issue after using *azure-core* with *1.42.0* version.I added the following dependency in pom.xml file of my function app. \r\n\r\n    \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;azure-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.42.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI previously had *azure-core 1.35.0* which doesn&#39;t contain the TracerProvider class.","title":"Unable to send Event Grid Event from Azure function App using User Managed Identity Credentials","body":"<p>I was able to resolve this issue after using <em>azure-core</em> with <em>1.42.0</em> version.I added the following dependency in pom.xml file of my function app.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\n    &lt;version&gt;1.42.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I previously had <em>azure-core 1.35.0</em> which doesn't contain the TracerProvider class.</p>\n"}],"owner":{"account_id":16015944,"reputation":93,"user_id":11558695,"display_name":"Nandishwar Garg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695922637,"creation_date":1695818820,"question_id":77187661,"body_markdown":"While trying to send data to Azure EventGrid using UserManagedIdentity Credential, it is throwing `ClassNotFoundException: com.azure.core.util.tracing.TracerProvider` . \r\n\r\n```java\r\nimport com.azure.identity.ManagedIdentityCredentialBuilder;\r\nimport com.azure.messaging.eventgrid.EventGridEvent;\r\nimport com.azure.messaging.eventgrid.EventGridPublisherClient;\r\nimport com.azure.messaging.eventgrid.EventGridPublisherClientBuilder;\r\nimport com.azure.core.credential.TokenCredential;\r\n\r\nTokenCredential managedIdentityCredentialUserAssigned = new ManagedIdentityCredentialBuilder().clientId(System.getenv(&quot;MANAGED_IDENTITY_CLIENT_ID&quot;)).build();\r\nEventGridPublisherClient&lt;EventGridEvent&gt; eventGridEventClient = new EventGridPublisherClientBuilder()\r\n     .endpoint(System.getenv(&quot;EVENTGRID_SYNC_TOPIC_ENDPOINT&quot;)).credential(managedIdentityCredentialUserAssigned).buildEventGridEventPublisherClient();\r\n```\r\n\r\n```java\r\nException: ClassNotFoundException: com.azure.core.util.tracing.TracerProvider\r\nCaused by: java.lang.NoClassDefFoundError: com/azure/core/util/tracing/TracerProvider\r\n\tat com.azure.messaging.eventgrid.EventGridPublisherClientBuilder.buildAsyncClient(EventGridPublisherClientBuilder.java:204)\r\n\tat com.azure.messaging.eventgrid.EventGridPublisherClientBuilder.buildClient(EventGridPublisherClientBuilder.java:232)\r\n\tat com.azure.messaging.eventgrid.EventGridPublisherClientBuilder.buildEventGridEventPublisherClient(EventGridPublisherClientBuilder.java:393)\r\n\tat com.cie.poc.managed.identity.function.service.ManagedIdentityEventGridService.sendEvent(ManagedIdentityEventGridService.java:39)\r\n\tat com.cie.poc.managed.identity.function.SaveDataToBlob.apply(SaveDataToBlob.java:56)\r\n\tat com.cie.poc.managed.identity.function.SaveDataToBlob.apply(SaveDataToBlob.java:22)\r\n\tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeFunctionAndEnrichResultIfNecessary(SimpleFunctionRegistry.java:897)\r\n\tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeFunction(SimpleFunctionRegistry.java:853)\r\n\tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.doApply(SimpleFunctionRegistry.java:708)\r\n\tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.apply(SimpleFunctionRegistry.java:551)\r\n\tat org.springframework.cloud.function.adapter.azure.FunctionInvoker.handleRequest(FunctionInvoker.java:129)\r\n\tat com.cie.poc.managed.identity.function.SaveDataToBlobHandler.run(SaveDataToBlobHandler.java:32)\r\n\t... 18 more\r\nCaused by: java.lang.ClassNotFoundException: com.azure.core.util.tracing.TracerProvider\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 30 more\r\n```\r\n\r\nhese are the related dependencies and their versions defined in `pom.xml` of my azure function app. \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-messaging-eventgrid&lt;/artifactId&gt;\r\n    &lt;version&gt;4.18.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n    &lt;version&gt;1.7.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-eventgrid&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.35.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSpring Boot Version: 2.7.8, Java version: 11\r\n\r\nKindly help if you know how to resolve this issue. Thanks in advance!\r\n","title":"Unable to send Event Grid Event from Azure function App using User Managed Identity Credentials","body":"<p>While trying to send data to Azure EventGrid using UserManagedIdentity Credential, it is throwing <code>ClassNotFoundException: com.azure.core.util.tracing.TracerProvider</code> .</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.azure.identity.ManagedIdentityCredentialBuilder;\nimport com.azure.messaging.eventgrid.EventGridEvent;\nimport com.azure.messaging.eventgrid.EventGridPublisherClient;\nimport com.azure.messaging.eventgrid.EventGridPublisherClientBuilder;\nimport com.azure.core.credential.TokenCredential;\n\nTokenCredential managedIdentityCredentialUserAssigned = new ManagedIdentityCredentialBuilder().clientId(System.getenv(&quot;MANAGED_IDENTITY_CLIENT_ID&quot;)).build();\nEventGridPublisherClient&lt;EventGridEvent&gt; eventGridEventClient = new EventGridPublisherClientBuilder()\n     .endpoint(System.getenv(&quot;EVENTGRID_SYNC_TOPIC_ENDPOINT&quot;)).credential(managedIdentityCredentialUserAssigned).buildEventGridEventPublisherClient();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Exception: ClassNotFoundException: com.azure.core.util.tracing.TracerProvider\nCaused by: java.lang.NoClassDefFoundError: com/azure/core/util/tracing/TracerProvider\n    at com.azure.messaging.eventgrid.EventGridPublisherClientBuilder.buildAsyncClient(EventGridPublisherClientBuilder.java:204)\n    at com.azure.messaging.eventgrid.EventGridPublisherClientBuilder.buildClient(EventGridPublisherClientBuilder.java:232)\n    at com.azure.messaging.eventgrid.EventGridPublisherClientBuilder.buildEventGridEventPublisherClient(EventGridPublisherClientBuilder.java:393)\n    at com.cie.poc.managed.identity.function.service.ManagedIdentityEventGridService.sendEvent(ManagedIdentityEventGridService.java:39)\n    at com.cie.poc.managed.identity.function.SaveDataToBlob.apply(SaveDataToBlob.java:56)\n    at com.cie.poc.managed.identity.function.SaveDataToBlob.apply(SaveDataToBlob.java:22)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeFunctionAndEnrichResultIfNecessary(SimpleFunctionRegistry.java:897)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeFunction(SimpleFunctionRegistry.java:853)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.doApply(SimpleFunctionRegistry.java:708)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.apply(SimpleFunctionRegistry.java:551)\n    at org.springframework.cloud.function.adapter.azure.FunctionInvoker.handleRequest(FunctionInvoker.java:129)\n    at com.cie.poc.managed.identity.function.SaveDataToBlobHandler.run(SaveDataToBlobHandler.java:32)\n    ... 18 more\nCaused by: java.lang.ClassNotFoundException: com.azure.core.util.tracing.TracerProvider\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 30 more\n</code></pre>\n<p>hese are the related dependencies and their versions defined in <code>pom.xml</code> of my azure function app.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-messaging-eventgrid&lt;/artifactId&gt;\n    &lt;version&gt;4.18.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n    &lt;version&gt;1.7.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-eventgrid&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\n    &lt;version&gt;1.35.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Spring Boot Version: 2.7.8, Java version: 11</p>\n<p>Kindly help if you know how to resolve this issue. Thanks in advance!</p>\n"},{"tags":["java","spring","kotlin","spring-kafka","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695921705,"creation_date":1695921705,"answer_id":77197068,"question_id":77196935,"body_markdown":"You need to show your transaction manager configuration. However, you can&#39;t continue to use a transactional producer after an error occurs. If you are sending all records to the same topic, this error should occur on the first send; you probably need to thrown an exception to abort the transaction, and put retry logic in the calling code.","title":"Prevent KafkaManager put transaction in error state","body":"<p>You need to show your transaction manager configuration. However, you can't continue to use a transactional producer after an error occurs. If you are sending all records to the same topic, this error should occur on the first send; you probably need to thrown an exception to abort the transaction, and put retry logic in the calling code.</p>\n"}],"owner":{"account_id":5421106,"reputation":43,"user_id":4314694,"display_name":"user_1234567_java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77197068,"answer_count":1,"score":0,"last_activity_date":1695921705,"creation_date":1695920176,"question_id":77196935,"body_markdown":"\r\nI have `select for update` within thransaction where I select from DB list of Items by limit(10 items by one select) and then have to send all of them to kafka and delete all of them from DB within same transaction.\r\n\r\n**Condition**:\r\n\r\nIf operation send to Kafka failed with TopicAuthorizationException I need to keep sending next Item and delete next Item from DB within same transaction\r\n\r\n**Code example**\r\n\r\nKafka config\r\n\r\n     @Bean\r\n        fun kafkaTemplate(producerFactory: ProducerFactory&lt;String, String&gt;): KafkaTemplate&lt;String, String&gt; {\r\n            val kafkaTemplate = KafkaTemplate(producerFactory)\r\n            kafkaTemplate.setProducerListener(object : ProducerListener&lt;String, String&gt; {\r\n                override fun onError(\r\n                    producerRecord: ProducerRecord&lt;String, String&gt;,\r\n                    recordMetadata: RecordMetadata?,\r\n                    exception: Exception\r\n                ) {\r\n                    if (exception is TopicAuthorizationException) {\r\n                        logger.error(&quot;TopicAuthorizationException exception occured [${exception.message}]&quot;)\r\n                    }\r\n                }\r\n            })\r\n            return kafkaTemplate\r\n    }\r\n\r\n\r\n\r\n  Business logic\r\n\r\n\r\n    @Service\r\n    class ItemService(\r\n        private val kafkaMessageSender: KafkaMessageSender,\r\n        private val itemRepository: ItemRepository\r\n    ) {\r\n    \r\n     \r\n        @Transactional(\r\n            transactionManager = &quot;transactionManager&quot;,\r\n            isolation = Isolation.REPEATABLE_READ,\r\n            propagation = Propagation.REQUIRED\r\n        )\r\n        fun findItemsToProcess() {\r\n    \r\n            val items = itemRepository.findItemsWithSelectForUpdateAndLimit(limit = 10)\r\n    \r\n            items.forEach { item -&gt;\r\n                val producerRecord = ProducerRecord&lt;String, String&gt;(\r\n                    item.topic,\r\n                    item.payload)\r\n    \r\n                try {\r\n                    kafkaMessageSender.send(producerRecord)\r\n                    itemRepository.delete(item)\r\n                } catch (ex: Exception) {\r\n                    logger.error(&quot;Item error occurred [${ex.message}]&quot;)\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**Problem**\r\nIf I try to send to topic which is not exist and get TopicAuthorizationException exception then KafkaTransactionManager put transaction in error state and on any operations I get `Cannot execute transactional method because we are in an error state`. This problem suppose to solved by my `setProducerListener` but it did not solve the problem.\r\n\r\n**Question:**\r\nHow can I configure kafkaTemplate to prevent KafkaTransactionManager to put transaction in error state if TopicAuthorizationException occurred? ","title":"Prevent KafkaManager put transaction in error state","body":"<p>I have <code>select for update</code> within thransaction where I select from DB list of Items by limit(10 items by one select) and then have to send all of them to kafka and delete all of them from DB within same transaction.</p>\n<p><strong>Condition</strong>:</p>\n<p>If operation send to Kafka failed with TopicAuthorizationException I need to keep sending next Item and delete next Item from DB within same transaction</p>\n<p><strong>Code example</strong></p>\n<p>Kafka config</p>\n<pre><code> @Bean\n    fun kafkaTemplate(producerFactory: ProducerFactory&lt;String, String&gt;): KafkaTemplate&lt;String, String&gt; {\n        val kafkaTemplate = KafkaTemplate(producerFactory)\n        kafkaTemplate.setProducerListener(object : ProducerListener&lt;String, String&gt; {\n            override fun onError(\n                producerRecord: ProducerRecord&lt;String, String&gt;,\n                recordMetadata: RecordMetadata?,\n                exception: Exception\n            ) {\n                if (exception is TopicAuthorizationException) {\n                    logger.error(&quot;TopicAuthorizationException exception occured [${exception.message}]&quot;)\n                }\n            }\n        })\n        return kafkaTemplate\n}\n</code></pre>\n<p>Business logic</p>\n<pre><code>@Service\nclass ItemService(\n    private val kafkaMessageSender: KafkaMessageSender,\n    private val itemRepository: ItemRepository\n) {\n\n \n    @Transactional(\n        transactionManager = &quot;transactionManager&quot;,\n        isolation = Isolation.REPEATABLE_READ,\n        propagation = Propagation.REQUIRED\n    )\n    fun findItemsToProcess() {\n\n        val items = itemRepository.findItemsWithSelectForUpdateAndLimit(limit = 10)\n\n        items.forEach { item -&gt;\n            val producerRecord = ProducerRecord&lt;String, String&gt;(\n                item.topic,\n                item.payload)\n\n            try {\n                kafkaMessageSender.send(producerRecord)\n                itemRepository.delete(item)\n            } catch (ex: Exception) {\n                logger.error(&quot;Item error occurred [${ex.message}]&quot;)\n            }\n        }\n    }\n\n}\n</code></pre>\n<p><strong>Problem</strong>\nIf I try to send to topic which is not exist and get TopicAuthorizationException exception then KafkaTransactionManager put transaction in error state and on any operations I get <code>Cannot execute transactional method because we are in an error state</code>. This problem suppose to solved by my <code>setProducerListener</code> but it did not solve the problem.</p>\n<p><strong>Question:</strong>\nHow can I configure kafkaTemplate to prevent KafkaTransactionManager to put transaction in error state if TopicAuthorizationException occurred?</p>\n"},{"tags":["java","windows","netbeans"],"answers":[{"tags":[],"owner":{"account_id":215055,"reputation":9713,"user_id":469414,"accept_rate":75,"display_name":"kdabir"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1312514252,"creation_date":1312514252,"answer_id":6951018,"question_id":6950960,"body_markdown":"It does not exactly answer your question, but to get around the problem, \r\n\r\n1. you can either create a .cmd file with following content:\r\n\r\n    `start netbeans --jdkhome c:\\path\\to\\jdk`\r\n\r\n2. or in the shortcut of Netbeans set the above option.\r\n","title":"How can I set the JDK NetBeans runs on?","body":"<p>It does not exactly answer your question, but to get around the problem, </p>\n\n<ol>\n<li><p>you can either create a .cmd file with following content:</p>\n\n<p><code>start netbeans --jdkhome c:\\path\\to\\jdk</code></p></li>\n<li><p>or in the shortcut of Netbeans set the above option.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":165347,"reputation":2745,"user_id":388714,"display_name":"Kasun Gajasinghe"},"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1633345507,"creation_date":1312514890,"answer_id":6951067,"question_id":6950960,"body_markdown":"Go to Tools* &amp;rarr; *Java Platforms*. There, click on *Add Platform* and point it to `C:\\Program Files (x86)\\Java\\jdk1.6.0_25`. You can either set the another JDK version or remove existing versions.\r\n\r\nAnother solution [suggested][1] on the Oracle ([Sun][2]) site is,\r\n\r\n    netbeans.exe --jdkhome &quot;C:\\Program Files\\jdk1.6.0_20&quot;\r\n\r\nI tried this on 6.9.1. You may change the JDK per project as well. You need to set the available JDKs via the *Java Platforms* dialog. Then, go to *Run* &amp;rarr; *Set Project Configuration* &amp;rarr; *Customize*.\r\nAfter that, in the opened dialog box, go to menu *Build* &amp;rarr; *Compile*. Set the version.\r\n\r\n  [1]: http://wiki.netbeans.org/FaqJdkHome\r\n  [2]: https://en.wikipedia.org/wiki/Sun_Microsystems\r\n\r\n\r\n\r\n","title":"How can I set the JDK NetBeans runs on?","body":"<p>Go to Tools* → <em>Java Platforms</em>. There, click on <em>Add Platform</em> and point it to <code>C:\\Program Files (x86)\\Java\\jdk1.6.0_25</code>. You can either set the another JDK version or remove existing versions.</p>\n<p>Another solution <a href=\"http://wiki.netbeans.org/FaqJdkHome\" rel=\"nofollow noreferrer\">suggested</a> on the Oracle (<a href=\"https://en.wikipedia.org/wiki/Sun_Microsystems\" rel=\"nofollow noreferrer\">Sun</a>) site is,</p>\n<pre><code>netbeans.exe --jdkhome &quot;C:\\Program Files\\jdk1.6.0_20&quot;\n</code></pre>\n<p>I tried this on 6.9.1. You may change the JDK per project as well. You need to set the available JDKs via the <em>Java Platforms</em> dialog. Then, go to <em>Run</em> → <em>Set Project Configuration</em> → <em>Customize</em>.\nAfter that, in the opened dialog box, go to menu <em>Build</em> → <em>Compile</em>. Set the version.</p>\n"},{"tags":[],"owner":{"account_id":15510,"reputation":30708,"user_id":32834,"accept_rate":79,"display_name":"Frank"},"down_vote_count":1,"up_vote_count":400,"is_accepted":true,"score":399,"last_activity_date":1633345552,"creation_date":1312556250,"answer_id":6958342,"question_id":6950960,"body_markdown":"Thanks to [Kasun Gajasinghe&#39;s tip][1], I found the solution in the &quot;suggested&quot; link. Update the following file (replace **7.x** with your NetBeans version):\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    C:\\Program Files\\NetBeans 7.x\\etc\\netbeans.conf\r\n\r\nChange the following line to point it where your Java installation is:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk1.7xxxxx&quot;\r\n\r\nYou may need administrator privileges to edit `netbeans.conf`.\r\n\r\n  [1]: https://stackoverflow.com/questions/6950960/how-can-i-set-the-jdk-netbeans-runs-on/6951067#6951067\r\n\r\n\r\n","title":"How can I set the JDK NetBeans runs on?","body":"<p>Thanks to <a href=\"https://stackoverflow.com/questions/6950960/how-can-i-set-the-jdk-netbeans-runs-on/6951067#6951067\">Kasun Gajasinghe's tip</a>, I found the solution in the &quot;suggested&quot; link. Update the following file (replace <strong>7.x</strong> with your NetBeans version):</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Program Files\\NetBeans 7.x\\etc\\netbeans.conf\n</code></pre>\n<p>Change the following line to point it where your Java installation is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk1.7xxxxx&quot;\n</code></pre>\n<p>You may need administrator privileges to edit <code>netbeans.conf</code>.</p>\n"},{"tags":[],"owner":{"account_id":3854291,"reputation":663,"user_id":3193645,"accept_rate":25,"display_name":"grome55"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1633345007,"creation_date":1414142165,"answer_id":26544970,"question_id":6950960,"body_markdown":"I had this message too because today I decided to relocate my different JDK in the same directory. I have decided to uninstall all through the program manager of Windows. After that, of course I had the message below.\r\n\r\n&gt; &quot;Cannot locate java installation in specified jdkhome C:\\Program Files (x86)\\Java\\jdk1.7.0_60. Do you want to try to use the default version?&quot;\r\n\r\nA new install of the JDK does not resolve the problem. OK, you can configure that in menu *Tools* &amp;rarr; *Java platforms*, but in my case I had to fix my *netbeans.conf* file.\r\n\r\nI had the line below:\r\n\r\n    netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk1.7.0_60&quot;\r\n\r\nAnd I replaced it by:\r\n\r\n    netbeans_jdkhome=&quot;C:\\devtools\\Java\\jdk1.8.0_25&quot;\r\n\r\n\r\n\r\n","title":"How can I set the JDK NetBeans runs on?","body":"<p>I had this message too because today I decided to relocate my different JDK in the same directory. I have decided to uninstall all through the program manager of Windows. After that, of course I had the message below.</p>\n<blockquote>\n<p>&quot;Cannot locate java installation in specified jdkhome C:\\Program Files (x86)\\Java\\jdk1.7.0_60. Do you want to try to use the default version?&quot;</p>\n</blockquote>\n<p>A new install of the JDK does not resolve the problem. OK, you can configure that in menu <em>Tools</em> → <em>Java platforms</em>, but in my case I had to fix my <em>netbeans.conf</em> file.</p>\n<p>I had the line below:</p>\n<pre><code>netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk1.7.0_60&quot;\n</code></pre>\n<p>And I replaced it by:</p>\n<pre><code>netbeans_jdkhome=&quot;C:\\devtools\\Java\\jdk1.8.0_25&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633346209,"creation_date":1414689776,"answer_id":26659454,"question_id":6950960,"body_markdown":"As a further useful solution for those of you on Windows 7 and above - if you use\r\n\r\n```lang-none\r\ncd &quot;C:\\Program Files\\Java&quot;\r\nmklink /D jdk8 jdk1.8.0_25\r\n```\r\n\r\nyou get a *[symbolic link][1]* folder that can be adjusted whenever a new JDK comes out.\r\n\r\nAll you need to do then is set your\r\n\r\n```lang-none\r\nnetbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk8&quot;\r\n```\r\n\r\n(in both locations for NetBeans 8) and you never have to edit the configuration again. Just tweak the symlink each time your JDK is updated.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Symbolic_link\r\n\r\n","title":"How can I set the JDK NetBeans runs on?","body":"<p>As a further useful solution for those of you on Windows 7 and above - if you use</p>\n<pre class=\"lang-none prettyprint-override\"><code>cd &quot;C:\\Program Files\\Java&quot;\nmklink /D jdk8 jdk1.8.0_25\n</code></pre>\n<p>you get a <em><a href=\"https://en.wikipedia.org/wiki/Symbolic_link\" rel=\"nofollow noreferrer\">symbolic link</a></em> folder that can be adjusted whenever a new JDK comes out.</p>\n<p>All you need to do then is set your</p>\n<pre class=\"lang-none prettyprint-override\"><code>netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk8&quot;\n</code></pre>\n<p>(in both locations for NetBeans 8) and you never have to edit the configuration again. Just tweak the symlink each time your JDK is updated.</p>\n"},{"tags":[],"owner":{"account_id":2229034,"reputation":718,"user_id":1967130,"accept_rate":75,"display_name":"Walt Corey"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1633346275,"creation_date":1423687772,"answer_id":28464220,"question_id":6950960,"body_markdown":"For those not using Windows, the file to change is `netbeans-8.0/etc/netbeans.conf`.\r\n\r\nAnd the line(s) to change is:\r\n\r\n```lang-none\r\nnetbeans_jdkhome=&quot;/usr/lib/jvm/java-8-oracle&quot;\r\n```\r\n\r\nComment out the old value and insert the new value.\r\n\r\n","title":"How can I set the JDK NetBeans runs on?","body":"<p>For those not using Windows, the file to change is <code>netbeans-8.0/etc/netbeans.conf</code>.</p>\n<p>And the line(s) to change is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>netbeans_jdkhome=&quot;/usr/lib/jvm/java-8-oracle&quot;\n</code></pre>\n<p>Comment out the old value and insert the new value.</p>\n"},{"tags":[],"owner":{"account_id":6700089,"reputation":507,"user_id":5166889,"display_name":"Duncan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633346039,"creation_date":1458658247,"answer_id":36157658,"question_id":6950960,"body_markdown":"All the other answers have described how to explicitly specify the location of the Java platform, which is fine if you really want to use a specific version of Java.  However, if you just want to use the most up-to-date version of the JDK, and you have that installed in a &quot;normal&quot; place for your operating system, then the best solution is to *not* specify a JDK location.  Instead, let the NetBeans launcher search for the JDK every time you start it up.\r\n\r\nTo do this, do not specify jdkhome on the command line, and comment out the line setting netbeans_jdkhome variable in any *netbeans.conf* files.  (See other answers for where to look for these files.)\r\n\r\nIf you do this, when you install a new version of Java, your NetBeans installation will automagically use it.  In most cases, that&#39;s probably exactly what you want.\r\n\r\n\r\n\r\n\r\n","title":"How can I set the JDK NetBeans runs on?","body":"<p>All the other answers have described how to explicitly specify the location of the Java platform, which is fine if you really want to use a specific version of Java.  However, if you just want to use the most up-to-date version of the JDK, and you have that installed in a &quot;normal&quot; place for your operating system, then the best solution is to <em>not</em> specify a JDK location.  Instead, let the NetBeans launcher search for the JDK every time you start it up.</p>\n<p>To do this, do not specify jdkhome on the command line, and comment out the line setting netbeans_jdkhome variable in any <em>netbeans.conf</em> files.  (See other answers for where to look for these files.)</p>\n<p>If you do this, when you install a new version of Java, your NetBeans installation will automagically use it.  In most cases, that's probably exactly what you want.</p>\n"},{"tags":[],"owner":{"account_id":3086574,"reputation":949,"user_id":2613580,"display_name":"Dilraj Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657460058,"creation_date":1516013442,"answer_id":48261471,"question_id":6950960,"body_markdown":"In Windows, open `cmd`.\r\n\r\nGo to the directory where your NetBeans file downloaded.\r\n\r\nThen run the below command. The JDK path may be different from the path I mentioned.\r\n\r\n```lang-none\r\nnetbeans-8.2-windows.exe --javahome &quot;C:\\Program Files\\Java\\jdk-9.0.1&quot;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I set the JDK NetBeans runs on?","body":"<p>In Windows, open <code>cmd</code>.</p>\n<p>Go to the directory where your NetBeans file downloaded.</p>\n<p>Then run the below command. The JDK path may be different from the path I mentioned.</p>\n<pre class=\"lang-none prettyprint-override\"><code>netbeans-8.2-windows.exe --javahome &quot;C:\\Program Files\\Java\\jdk-9.0.1&quot;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1328876"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633346347,"creation_date":1534603429,"answer_id":51909784,"question_id":6950960,"body_markdown":"Where you already have a project in NetBeans and you wish to change the compiler (e.g. from  1.7 to 1.) then you would need to also change the Java source compiler for that project. \r\n\r\nRight-click on the project and choose *Properties* as outlined below:\r\n\r\n[![Java Project Properties][1]][1]\r\n\r\nThen check that the project has the necessary source circled below:\r\n\r\n[![Project Source Compiler][2]][2]\r\n\r\nThen check that the Java compiler is correct for the project:\r\n\r\n[![Enter image description here][3]][3]\r\n\r\n  [1]: https://i.stack.imgur.com/iFjDw.png\r\n  [2]: https://i.stack.imgur.com/jmR2o.png\r\n  [3]: https://i.stack.imgur.com/QQ5ov.png\r\n\r\n\r\n\r\n\r\n","title":"How can I set the JDK NetBeans runs on?","body":"<p>Where you already have a project in NetBeans and you wish to change the compiler (e.g. from  1.7 to 1.) then you would need to also change the Java source compiler for that project.</p>\n<p>Right-click on the project and choose <em>Properties</em> as outlined below:</p>\n<p><a href=\"https://i.stack.imgur.com/iFjDw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iFjDw.png\" alt=\"Java Project Properties\" /></a></p>\n<p>Then check that the project has the necessary source circled below:</p>\n<p><a href=\"https://i.stack.imgur.com/jmR2o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jmR2o.png\" alt=\"Project Source Compiler\" /></a></p>\n<p>Then check that the Java compiler is correct for the project:</p>\n<p><a href=\"https://i.stack.imgur.com/QQ5ov.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QQ5ov.png\" alt=\"Enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5530214,"reputation":2694,"user_id":4722577,"accept_rate":0,"display_name":"CAMD_3441"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695921558,"creation_date":1695921558,"answer_id":77197056,"question_id":6950960,"body_markdown":"For Apache Netbeans IDE 17 go to `Tools -&gt; Java Platforms`:\r\n[![enter image description here][1]][1]\r\n\r\nThen in the `Java Platform Manager` click on `Add Platform...`:\r\n[![enter image description here][2]][2]\r\n\r\nThen go through the next menu options and select the jdk version you downloaded that you want to add to netbeans, then click on `Finish`, now you&#39;ll see a new platform listed with the jdk you just added:\r\n[![enter image description here][3]][3]\r\n\r\nNow go to `Tools -&gt; Options` then go to the `Java -&gt; Maven` tab and for the `Default JDK` option you can now select the new jdk you added above:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nNow when you compile your application on Netbeans you can see the Java version it is using:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J1WTb.png\r\n  [2]: https://i.stack.imgur.com/fr7M6.png\r\n  [3]: https://i.stack.imgur.com/RNehb.png\r\n  [4]: https://i.stack.imgur.com/TPJOP.png\r\n  [5]: https://i.stack.imgur.com/bNSuR.png","title":"How can I set the JDK NetBeans runs on?","body":"<p>For Apache Netbeans IDE 17 go to <code>Tools -&gt; Java Platforms</code>:\n<a href=\"https://i.stack.imgur.com/J1WTb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J1WTb.png\" alt=\"enter image description here\" /></a></p>\n<p>Then in the <code>Java Platform Manager</code> click on <code>Add Platform...</code>:\n<a href=\"https://i.stack.imgur.com/fr7M6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fr7M6.png\" alt=\"enter image description here\" /></a></p>\n<p>Then go through the next menu options and select the jdk version you downloaded that you want to add to netbeans, then click on <code>Finish</code>, now you'll see a new platform listed with the jdk you just added:\n<a href=\"https://i.stack.imgur.com/RNehb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RNehb.png\" alt=\"enter image description here\" /></a></p>\n<p>Now go to <code>Tools -&gt; Options</code> then go to the <code>Java -&gt; Maven</code> tab and for the <code>Default JDK</code> option you can now select the new jdk you added above:</p>\n<p><a href=\"https://i.stack.imgur.com/TPJOP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TPJOP.png\" alt=\"enter image description here\" /></a></p>\n<p>Now when you compile your application on Netbeans you can see the Java version it is using:</p>\n<p><a href=\"https://i.stack.imgur.com/bNSuR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bNSuR.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15510,"reputation":30708,"user_id":32834,"accept_rate":79,"display_name":"Frank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327642,"favorite_count":0,"down_vote_count":0,"up_vote_count":228,"accepted_answer_id":6958342,"answer_count":10,"score":228,"last_activity_date":1695921558,"creation_date":1312513587,"question_id":6950960,"body_markdown":"I have the older NetBeans 6.7, NetBeans 6.9, and NetBeans 7.0, which used to run on jdk1.6.0_21 and jdk1.6.0_25. Now I&#39;ve removed those JDKs and only have jdk1.6.0_26 and jdk1.7.0 left, but I still want to keep the older versions of NetBeans, but now when I run them, I get this message:\r\n\r\n&gt; &quot;Cannot locate java installation in specified jdkhome C:\\Program Files (x86)\\Java\\jdk1.6.0_25 \\\r\n&gt; Do you want to try to use default version?&quot;\r\n\r\nI tried to find where it&#39;s looking for the &quot;jdk1.6.0_25&quot;, and updated a few configuration files in &quot;C:\\Program Files (x86)\\NetBeans 6.7&quot; and &quot;C:\\Users\\USER\\.nbi\\registry.xml&quot;, and yet the message keeps coming. Where and what do I need to change to point it to `C:\\Program Files (x86)\\Java\\jdk1.6.0_26`?\r\n\r\n\r\n","title":"How can I set the JDK NetBeans runs on?","body":"<p>I have the older NetBeans 6.7, NetBeans 6.9, and NetBeans 7.0, which used to run on jdk1.6.0_21 and jdk1.6.0_25. Now I've removed those JDKs and only have jdk1.6.0_26 and jdk1.7.0 left, but I still want to keep the older versions of NetBeans, but now when I run them, I get this message:</p>\n<blockquote>\n<p>&quot;Cannot locate java installation in specified jdkhome C:\\Program Files (x86)\\Java\\jdk1.6.0_25 <br />\nDo you want to try to use default version?&quot;</p>\n</blockquote>\n<p>I tried to find where it's looking for the &quot;jdk1.6.0_25&quot;, and updated a few configuration files in &quot;C:\\Program Files (x86)\\NetBeans 6.7&quot; and &quot;C:\\Users\\USER.nbi\\registry.xml&quot;, and yet the message keeps coming. Where and what do I need to change to point it to <code>C:\\Program Files (x86)\\Java\\jdk1.6.0_26</code>?</p>\n"},{"tags":["java","spring","entity"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":2,"creation_date":1695921692,"post_id":77196976,"comment_id":136091657,"body_markdown":"If you are using Spring data as an ORM, and you have defined all the expected columns as properties, I don&#39;t see how this is a problem? Once you get the result set back from the database, map only the fields you need to transfer to the client. This is refered to as mapping a DAO (database access object) to a DTO (data transfer object). I would only define a database model aka DAO once.","body":"If you are using Spring data as an ORM, and you have defined all the expected columns as properties, I don&#39;t see how this is a problem? Once you get the result set back from the database, map only the fields you need to transfer to the client. This is refered to as mapping a DAO (database access object) to a DTO (data transfer object). I would only define a database model aka DAO once."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1695931504,"post_id":77196976,"comment_id":136093150,"body_markdown":"Why are you writing SQL? Why not use Spring Data JPA, define a `UserRepository` for your `UserEntity`, and then just call `userRepository.findById(long id)`?","body":"Why are you writing SQL? Why not use Spring Data JPA, define a <code>UserRepository</code> for your <code>UserEntity</code>, and then just call <code>userRepository.findById(long id)</code>?"},{"owner":{"account_id":29557373,"reputation":1,"user_id":22652747,"display_name":"Bogdan Barsan"},"score":0,"creation_date":1696183952,"post_id":77196976,"comment_id":136117901,"body_markdown":"Guys, stay with question. That &quot;simple and trivial&quot; sql is in fact several joins and multiple conditions; pretty hard to use entity joins and so; it is needed to use a sql but the results set is a two column set : name + id.\nOf course I can use different objects but I would like to avoid that.","body":"Guys, stay with question. That &quot;simple and trivial&quot; sql is in fact several joins and multiple conditions; pretty hard to use entity joins and so; it is needed to use a sql but the results set is a two column set : name + id. Of course I can use different objects but I would like to avoid that."}],"owner":{"account_id":29557373,"reputation":1,"user_id":22652747,"display_name":"Bogdan Barsan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695921301,"creation_date":1695920509,"question_id":77196976,"body_markdown":"Java spring mapped object contains a property not returned by result set\r\n\r\nI have an entity `User` with properties:\r\n\r\n```java\r\n@id long id\r\nString name\r\nString email\r\nint age\r\n```\r\n\r\nSometimes, I need as result only `id` and `name`. The SQL looks like:\r\n\r\n```sql\r\nselect user.name, user.id \r\n  from user \r\n  where &quot;some condition&quot;;\r\n```\r\n\r\nThe result set is mapped to user class.\r\n\r\nIn this case, I get an error like:\r\n\r\n```\r\n2023-09-28T19:29:00.596+03:00 trace_id= span_id= trace_flags=  WARN 9304 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: S0022\r\n2023-09-28T19:29:00.596+03:00 trace_id= span_id= trace_flags= ERROR 9304 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column &#39;email&#39; not found.\r\n2023-09-28T19:29:00.629+03:00 trace_id= span_id= trace_flags=  INFO 9304 --- [nio-8080-exec-2] .s.a.AnnotationAsyncExecutionInterceptor : More than one TaskExecutor bean found within the context, and none is named &#39;taskExecutor&#39;. Mark one of them as primary or name it &#39;taskExecutor&#39; (possibly as an alias) in order to use it for async processing: [deleteUserExecutor, exportDataExecutor]\r\n2023-09-28T19:29:00.632+03:00 trace_id= span_id= trace_flags= ERROR 9304 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: Unable to find column position by name: email [Column &#39;email&#39; not found.] [n/a]; SQL [n/a]] with root cause\r\njava.sql.SQLException: Column &#39;email&#39; not found.\r\n```\r\n\r\nSo basically I need to change SQL to look like:\r\n\r\n```sql\r\nselect user.name, user.id, null email, null age\r\n  from user \r\n  where &quot;some condition&quot;;\r\n```\r\n\r\n...in order to avoid the error. The other option is to define another entity to match result set (object with `@id long id`, `string name`)...\r\n\r\nIs there any other way to avoid this?","title":"Java spring mapped object contains a property not returned by result set","body":"<p>Java spring mapped object contains a property not returned by result set</p>\n<p>I have an entity <code>User</code> with properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@id long id\nString name\nString email\nint age\n</code></pre>\n<p>Sometimes, I need as result only <code>id</code> and <code>name</code>. The SQL looks like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select user.name, user.id \n  from user \n  where &quot;some condition&quot;;\n</code></pre>\n<p>The result set is mapped to user class.</p>\n<p>In this case, I get an error like:</p>\n<pre><code>2023-09-28T19:29:00.596+03:00 trace_id= span_id= trace_flags=  WARN 9304 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: S0022\n2023-09-28T19:29:00.596+03:00 trace_id= span_id= trace_flags= ERROR 9304 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'email' not found.\n2023-09-28T19:29:00.629+03:00 trace_id= span_id= trace_flags=  INFO 9304 --- [nio-8080-exec-2] .s.a.AnnotationAsyncExecutionInterceptor : More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [deleteUserExecutor, exportDataExecutor]\n2023-09-28T19:29:00.632+03:00 trace_id= span_id= trace_flags= ERROR 9304 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: Unable to find column position by name: email [Column 'email' not found.] [n/a]; SQL [n/a]] with root cause\njava.sql.SQLException: Column 'email' not found.\n</code></pre>\n<p>So basically I need to change SQL to look like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select user.name, user.id, null email, null age\n  from user \n  where &quot;some condition&quot;;\n</code></pre>\n<p>...in order to avoid the error. The other option is to define another entity to match result set (object with <code>@id long id</code>, <code>string name</code>)...</p>\n<p>Is there any other way to avoid this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9851,"page":154,"page_size":100}
