{"items":[{"tags":["java","eclipse-rcp"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1693998035,"post_id":77050339,"comment_id":135832556,"body_markdown":"IMHO that should be a [pull request here](https://github.com/eclipse-pde/eclipse.pde) rather than a question on Stack Overflow.","body":"IMHO that should be a <a href=\"https://github.com/eclipse-pde/eclipse.pde\" rel=\"nofollow noreferrer\">pull request here</a> rather than a question on Stack Overflow."}],"answers":[{"tags":[],"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694153890,"creation_date":1694079189,"answer_id":77058349,"question_id":77050339,"body_markdown":"See the issue I opened on Github: [https://github.com/eclipse-pde/eclipse.pde/issues/735](https://github.com/eclipse-pde/eclipse.pde/issues/735).\r\n\r\n\r\nIt seems that it&#39;s valid to define the arguments like this:\r\n\r\n```\r\n--add-opens=java.base/java.util=ALL-UNNAMED\r\n--add-opens=java.base/java.text=ALL-UNNAMED\r\n--add-opens=java.desktop/java.awt.font=ALL-UNNAMED\r\n```\r\n\r\nThe launcher now starts the app correctly.","title":"Product definition does not export the VM parameters correctly when launching an Eclipse Application","body":"<p>See the issue I opened on Github: <a href=\"https://github.com/eclipse-pde/eclipse.pde/issues/735\" rel=\"nofollow noreferrer\">https://github.com/eclipse-pde/eclipse.pde/issues/735</a>.</p>\n<p>It seems that it's valid to define the arguments like this:</p>\n<pre><code>--add-opens=java.base/java.util=ALL-UNNAMED\n--add-opens=java.base/java.text=ALL-UNNAMED\n--add-opens=java.desktop/java.awt.font=ALL-UNNAMED\n</code></pre>\n<p>The launcher now starts the app correctly.</p>\n"}],"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694153890,"creation_date":1693989942,"question_id":77050339,"body_markdown":"I defined these VM parameters on the Launching tab of the product definition:\r\n\r\n```\r\n--add-opens java.base/java.util=ALL-UNNAMED\r\n--add-opens java.base/java.text=ALL-UNNAMED \r\n--add-opens java.desktop/java.awt.font=ALL-UNNAMED\r\n```\r\n\r\nWhen I launch the app (from the Overview tab) the launch fails. \r\n\r\n```\r\nFehler: Hauptklasse java.base.java.text=ALL-UNNAMED konnte nicht gefunden oder geladen werden\r\nUrsache: java.lang.ClassNotFoundException: java.base.java.text=ALL-UNNAMED\r\n```\r\n\r\n\r\nThe Run Configuration contains the following VM Arguments:\r\n\r\n```\r\n--add-opens java.base/java.util=ALL-UNNAMED java.base/java.text=ALL-UNNAMED java.desktop/java.awt.font=ALL-UNNAMED\r\n```\r\n\r\nThe `--add-opens` appears just once. I have tried defining the options all on one line but the result is the same.\r\n\r\nAdding `--add-opens` to the last two items fixes the problem and the app starts.\r\n\r\nIs this a bug or should I be declaring these options in a different way?\r\n\r\n(Using Eclipse 4.28, fully updated)","title":"Product definition does not export the VM parameters correctly when launching an Eclipse Application","body":"<p>I defined these VM parameters on the Launching tab of the product definition:</p>\n<pre><code>--add-opens java.base/java.util=ALL-UNNAMED\n--add-opens java.base/java.text=ALL-UNNAMED \n--add-opens java.desktop/java.awt.font=ALL-UNNAMED\n</code></pre>\n<p>When I launch the app (from the Overview tab) the launch fails.</p>\n<pre><code>Fehler: Hauptklasse java.base.java.text=ALL-UNNAMED konnte nicht gefunden oder geladen werden\nUrsache: java.lang.ClassNotFoundException: java.base.java.text=ALL-UNNAMED\n</code></pre>\n<p>The Run Configuration contains the following VM Arguments:</p>\n<pre><code>--add-opens java.base/java.util=ALL-UNNAMED java.base/java.text=ALL-UNNAMED java.desktop/java.awt.font=ALL-UNNAMED\n</code></pre>\n<p>The <code>--add-opens</code> appears just once. I have tried defining the options all on one line but the result is the same.</p>\n<p>Adding <code>--add-opens</code> to the last two items fixes the problem and the app starts.</p>\n<p>Is this a bug or should I be declaring these options in a different way?</p>\n<p>(Using Eclipse 4.28, fully updated)</p>\n"},{"tags":["java","hibernate","lucene","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694153095,"creation_date":1694153095,"answer_id":77064490,"question_id":77058794,"body_markdown":"This error means two separate instances of Lucene / Hibernate Search are trying to open the same index simultaneously, which is not possible.\r\n\r\nMost likely you&#39;re starting multiple EntityManagerFactory at the same time for the same model. You should not.","title":"does lucene update stop working in hibernate 5","body":"<p>This error means two separate instances of Lucene / Hibernate Search are trying to open the same index simultaneously, which is not possible.</p>\n<p>Most likely you're starting multiple EntityManagerFactory at the same time for the same model. You should not.</p>\n"}],"owner":{"account_id":29326700,"reputation":1,"user_id":22469018,"display_name":"mon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694153095,"creation_date":1694082913,"question_id":77058794,"body_markdown":"During the startup of the server the indexing works fine(the indexes are created and search works fine). But when we try to update some indexes we got the lock exception and indexes not work and search don&#39;t give correct result.\r\n\r\nBelow if the error log. The same is happening in the linux server.\r\n```\r\n2023-09-07T11:39:50,437 [ERROR] [Hibernate Search sync consumer thread for index com.demoBO] [org.hibernate.search.exception.impl.LogErrorHandler] - HSEARCH000058: Exception occurred org.apache.lucene.store.LockObtainFailedException: Lock held by this virtual machine: D:\\test\\com.demoBO\\write.lock\r\nPrimary Failure:\r\n\tEntity com.demoBO  Id 532  Work Type  org.hibernate.search.backend.UpdateLuceneWork\r\n\r\norg.apache.lucene.store.LockObtainFailedException: Lock held by this virtual machine: D:\\test\\com.demoBO\\write.lock\r\n\tat org.apache.lucene.store.NativeFSLockFactory.obtainFSLock(NativeFSLockFactory.java:127) ~[lucene-core-5.5.5.jar:5.5.5 b3441673c21c83762035dc21d3827ad16aa17b68 - sarowe - 2017-10-20 08:57:09]\r\n\tat org.apache.lucene.store.FSLockFactory.obtainLock(FSLockFactory.java:41) ~[lucene-core-5.5.5.jar:5.5.5 b3441673c21c83762035dc21d3827ad16aa17b68 - sarowe - 2017-10-20 08:57:09]\r\n\tat org.apache.lucene.store.BaseDirectory.obtainLock(BaseDirectory.java:45) ~[lucene-core-5.5.5.jar:5.5.5 b3441673c21c83762035dc21d3827ad16aa17b68 - sarowe - 2017-10-20 08:57:09]\r\n\tat org.apache.lucene.index.IndexWriter.&lt;init&gt;(IndexWriter.java:776) ~[lucene-core-5.5.5.jar:5.5.5 b3441673c21c83762035dc21d3827ad16aa17b68 - sarowe - 2017-10-20 08:57:09]\r\n\tat org.hibernate.search.backend.impl.lucene.IndexWriterHolder.createNewIndexWriter(IndexWriterHolder.java:127) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\r\n\tat org.hibernate.search.backend.impl.lucene.IndexWriterHolder.getIndexWriter(IndexWriterHolder.java:93) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\r\n\tat org.hibernate.search.backend.impl.lucene.AbstractWorkspaceImpl.getIndexWriter(AbstractWorkspaceImpl.java:118) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\r\n\tat org.hibernate.search.backend.impl.lucene.AbstractWorkspaceImpl.getIndexWriterDelegate(AbstractWorkspaceImpl.java:204) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\r\n\tat org.hibernate.search.backend.impl.lucene.LuceneBackendQueueTask.applyUpdates(LuceneBackendQueueTask.java:82) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\r\n\tat org.hibernate.search.backend.impl.lucene.LuceneBackendQueueTask.run(LuceneBackendQueueTask.java:47) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\r\n\tat org.hibernate.search.backend.impl.lucene.SyncWorkProcessor$Consumer.applyChangesets(SyncWorkProcessor.java:167) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\r\n\tat org.hibernate.search.backend.impl.lucene.SyncWorkProcessor$Consumer.run(SyncWorkProcessor.java:153) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_302]\r\n2023-09-07T11:39:50,453 [ERROR] [Hibernate Search sync consumer thread for index com.demoBO] [org.hibernate.search.backend.impl.lucene.LuceneBackendQueueTask] - HSEARCH000072: Couldn&#39;t open the IndexWriter because of previous error: operation skipped, index ouf of sync!\r\n\r\n```\r\nMy demoBO looks like:-\r\n\r\n\r\n    @Entity\r\n    @Indexed\r\n    @Table(name = &quot;DEMO_TB&quot;)\r\n    public class demoBO extends AbstractBO implements Serializable,\r\n    \t\tComparable&lt;demoBO&gt; {\r\n    \r\n    \t@Column(name = &quot;active&quot;)\r\n    \t@Field(analyze=Analyze.NO, store = Store.YES)\r\n    \tprivate Boolean status;\r\n    \t\r\n    \t@Column(name = &quot;deletion&quot;)\r\n    \t@Field(analyze=Analyze.NO, store = Store.YES)\r\n    \tprivate Boolean deletion;\r\n    \r\n    \t@Column(name = &quot;keyValue&quot;, length = 256)\r\n    \t@Field(analyze=Analyze.YES, store = Store.YES)\r\n    \tprivate String keyValue;\r\n    \r\n    \r\n    \t@Transient\r\n    \tprivate int status = 0;\r\n\r\n\r\nDuring the startup of server the code use to create indexes(after this a write.lock file is generated): -\r\n\r\n    entityManager = (EntityManager) applicationContext.getBean(entityManager);\r\n    \tFullTextEntityManager fullTextEntityManager = Search.getFullTextEntityManager(entityManager);\r\n    \ttry {\r\n    \t\tfullTextEntityManager.createIndexer(DemoBO.class).startAndWait();\r\n    \t} catch (InterruptedException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n\r\n","title":"does lucene update stop working in hibernate 5","body":"<p>During the startup of the server the indexing works fine(the indexes are created and search works fine). But when we try to update some indexes we got the lock exception and indexes not work and search don't give correct result.</p>\n<p>Below if the error log. The same is happening in the linux server.</p>\n<pre><code>2023-09-07T11:39:50,437 [ERROR] [Hibernate Search sync consumer thread for index com.demoBO] [org.hibernate.search.exception.impl.LogErrorHandler] - HSEARCH000058: Exception occurred org.apache.lucene.store.LockObtainFailedException: Lock held by this virtual machine: D:\\test\\com.demoBO\\write.lock\nPrimary Failure:\n    Entity com.demoBO  Id 532  Work Type  org.hibernate.search.backend.UpdateLuceneWork\n\norg.apache.lucene.store.LockObtainFailedException: Lock held by this virtual machine: D:\\test\\com.demoBO\\write.lock\n    at org.apache.lucene.store.NativeFSLockFactory.obtainFSLock(NativeFSLockFactory.java:127) ~[lucene-core-5.5.5.jar:5.5.5 b3441673c21c83762035dc21d3827ad16aa17b68 - sarowe - 2017-10-20 08:57:09]\n    at org.apache.lucene.store.FSLockFactory.obtainLock(FSLockFactory.java:41) ~[lucene-core-5.5.5.jar:5.5.5 b3441673c21c83762035dc21d3827ad16aa17b68 - sarowe - 2017-10-20 08:57:09]\n    at org.apache.lucene.store.BaseDirectory.obtainLock(BaseDirectory.java:45) ~[lucene-core-5.5.5.jar:5.5.5 b3441673c21c83762035dc21d3827ad16aa17b68 - sarowe - 2017-10-20 08:57:09]\n    at org.apache.lucene.index.IndexWriter.&lt;init&gt;(IndexWriter.java:776) ~[lucene-core-5.5.5.jar:5.5.5 b3441673c21c83762035dc21d3827ad16aa17b68 - sarowe - 2017-10-20 08:57:09]\n    at org.hibernate.search.backend.impl.lucene.IndexWriterHolder.createNewIndexWriter(IndexWriterHolder.java:127) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\n    at org.hibernate.search.backend.impl.lucene.IndexWriterHolder.getIndexWriter(IndexWriterHolder.java:93) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\n    at org.hibernate.search.backend.impl.lucene.AbstractWorkspaceImpl.getIndexWriter(AbstractWorkspaceImpl.java:118) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\n    at org.hibernate.search.backend.impl.lucene.AbstractWorkspaceImpl.getIndexWriterDelegate(AbstractWorkspaceImpl.java:204) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\n    at org.hibernate.search.backend.impl.lucene.LuceneBackendQueueTask.applyUpdates(LuceneBackendQueueTask.java:82) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\n    at org.hibernate.search.backend.impl.lucene.LuceneBackendQueueTask.run(LuceneBackendQueueTask.java:47) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\n    at org.hibernate.search.backend.impl.lucene.SyncWorkProcessor$Consumer.applyChangesets(SyncWorkProcessor.java:167) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\n    at org.hibernate.search.backend.impl.lucene.SyncWorkProcessor$Consumer.run(SyncWorkProcessor.java:153) [hibernate-search-engine-5.11.6.Final.jar:5.11.6.Final]\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_302]\n2023-09-07T11:39:50,453 [ERROR] [Hibernate Search sync consumer thread for index com.demoBO] [org.hibernate.search.backend.impl.lucene.LuceneBackendQueueTask] - HSEARCH000072: Couldn't open the IndexWriter because of previous error: operation skipped, index ouf of sync!\n\n</code></pre>\n<p>My demoBO looks like:-</p>\n<pre><code>@Entity\n@Indexed\n@Table(name = &quot;DEMO_TB&quot;)\npublic class demoBO extends AbstractBO implements Serializable,\n        Comparable&lt;demoBO&gt; {\n\n    @Column(name = &quot;active&quot;)\n    @Field(analyze=Analyze.NO, store = Store.YES)\n    private Boolean status;\n    \n    @Column(name = &quot;deletion&quot;)\n    @Field(analyze=Analyze.NO, store = Store.YES)\n    private Boolean deletion;\n\n    @Column(name = &quot;keyValue&quot;, length = 256)\n    @Field(analyze=Analyze.YES, store = Store.YES)\n    private String keyValue;\n\n\n    @Transient\n    private int status = 0;\n</code></pre>\n<p>During the startup of server the code use to create indexes(after this a write.lock file is generated): -</p>\n<pre><code>entityManager = (EntityManager) applicationContext.getBean(entityManager);\n    FullTextEntityManager fullTextEntityManager = Search.getFullTextEntityManager(entityManager);\n    try {\n        fullTextEntityManager.createIndexer(DemoBO.class).startAndWait();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","c#","unity-game-engine","gradle","apk"],"comments":[{"owner":{"account_id":11091905,"reputation":85,"user_id":8143461,"display_name":"Mohit.B"},"score":0,"creation_date":1655748018,"post_id":72544504,"comment_id":128400364,"body_markdown":"Hi Samprit , Did you tried to build an android build with custom Keystore. As it worked for me I was facing same issue.","body":"Hi Samprit , Did you tried to build an android build with custom Keystore. As it worked for me I was facing same issue."}],"answers":[{"tags":[],"owner":{"account_id":205987,"reputation":1126,"user_id":455026,"display_name":"Alexis Pautrot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656542007,"creation_date":1656542007,"answer_id":72808545,"question_id":72544504,"body_markdown":"Man, Java developer&#39;s are so deceptively verbose...\r\nIn this (pile of garbage) log, what&#39;s really important is\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:launcher:packageRelease&#39;.\r\n    &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n       &gt; com.android.ide.common.signing.KeytoolException: Failed to read key AndroidDebugKey from store &quot;C:\\Users\\Samprit Hazra\\.android\\debug.keystore&quot;: Invalid keystore format\r\n\r\n*Failed to read key AndroidDebugKey from store &quot;C:\\Users\\Samprit Hazra\\.android\\debug.keystore&quot;: Invalid keystore format*\r\n\r\nYou might want to take a look to your file using http://keystore-explorer.org/ and see if something is wrong with it.","title":"Unity 2021.3.4f1 Gradle Build failed","body":"<p>Man, Java developer's are so deceptively verbose...\nIn this (pile of garbage) log, what's really important is</p>\n<pre><code>* What went wrong:\nExecution failed for task ':launcher:packageRelease'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n   &gt; com.android.ide.common.signing.KeytoolException: Failed to read key AndroidDebugKey from store &quot;C:\\Users\\Samprit Hazra\\.android\\debug.keystore&quot;: Invalid keystore format\n</code></pre>\n<p><em>Failed to read key AndroidDebugKey from store &quot;C:\\Users\\Samprit Hazra.android\\debug.keystore&quot;: Invalid keystore format</em></p>\n<p>You might want to take a look to your file using <a href=\"http://keystore-explorer.org/\" rel=\"nofollow noreferrer\">http://keystore-explorer.org/</a> and see if something is wrong with it.</p>\n"},{"tags":[],"owner":{"account_id":25852163,"reputation":31,"user_id":19585993,"display_name":"Alessandro Crimaldi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658322765,"creation_date":1658310929,"answer_id":73049509,"question_id":72544504,"body_markdown":"I needed to create a custom Keystore.","title":"Unity 2021.3.4f1 Gradle Build failed","body":"<p>I needed to create a custom Keystore.</p>\n"},{"tags":[],"owner":{"account_id":186443,"reputation":93,"user_id":423835,"display_name":"st4rdog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680899546,"creation_date":1680899546,"answer_id":75961750,"question_id":72544504,"body_markdown":"You have to make it generate a new keystore that isn&#39;t busted.\r\n\r\n- Close Unity\r\n- Browse to C:\\Users\\Username\\.android\r\n- Move or delete the debug.keystore/lock\r\n- Build will be successful","title":"Unity 2021.3.4f1 Gradle Build failed","body":"<p>You have to make it generate a new keystore that isn't busted.</p>\n<ul>\n<li>Close Unity</li>\n<li>Browse to C:\\Users\\Username.android</li>\n<li>Move or delete the debug.keystore/lock</li>\n<li>Build will be successful</li>\n</ul>\n"}],"owner":{"account_id":23147900,"reputation":41,"user_id":17250406,"display_name":"Samprit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10029,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1694152651,"creation_date":1654685821,"question_id":72544504,"body_markdown":"Unity 2021.3.4f1 is giving me these errors while building an apk\r\n\r\n    &gt; Starting a Gradle Daemon, 1\r\n    &gt; incompatible Daemon could not be\r\n    &gt; reused, use --status for details\r\n    &gt; \r\n    &gt; &gt; Configure project :launcher WARNING: The option setting\r\n    &gt; &#39;android.enableR8=false&#39; is\r\n    &gt; deprecated. It will be removed in\r\n    &gt; version 5.0 of the Android Gradle\r\n    &gt; plugin. You will no longer be able to\r\n    &gt; disable R8 Exception while marshalling\r\n    &gt; C:\\Program\r\n    &gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\build-tools\\30.0.2\\package.xml.\r\n    &gt; Probably the SDK is read-only\r\n    &gt; Exception while marshalling C:\\Program\r\n    &gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platform-tools\\package.xml.\r\n    &gt; Probably the SDK is read-only\r\n    &gt; Exception while marshalling C:\\Program\r\n    &gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-29\\package.xml.\r\n    &gt; Probably the SDK is read-only\r\n    &gt; Exception while marshalling C:\\Program\r\n    &gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-30\\package.xml.\r\n    &gt; Probably the SDK is read-only\r\n    &gt; Exception while marshalling C:\\Program\r\n    &gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\tools\\package.xml.\r\n    &gt; Probably the SDK is read-only\r\n    &gt; Exception while marshalling C:\\Program\r\n    &gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\build-tools\\30.0.2\\package.xml.\r\n    &gt; Probably the SDK is read-only\r\n    &gt; Exception while marshalling C:\\Program\r\n    &gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platform-tools\\package.xml.\r\n    &gt; Probably the SDK is read-only\r\n    &gt; Exception while marshalling C:\\Program\r\n    &gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-29\\package.xml.\r\n    &gt; Probably the SDK is read-only\r\n    &gt; Exception while marshalling C:\\Program\r\n    &gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-30\\package.xml.\r\n    &gt; Probably the SDK is read-only\r\n    &gt; Exception while marshalling C:\\Program\r\n    &gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\tools\\package.xml.\r\n    &gt; Probably the SDK is read-only\r\n    &gt; \r\n    &gt; &gt; Task :unityLibrary:preBuild UP-TO-DATE\r\n    &gt; &gt; Task :launcher:preBuild UP-TO-DATE\r\n    &gt; &gt; Task :launcher:preReleaseBuild UP-TO-DATE\r\n    &gt; &gt; Task :unityLibrary:preReleaseBuild UP-TO-DATE\r\n    &gt; &gt; Task :unityLibrary:compileReleaseAidl\r\n    &gt; NO-SOURCE\r\n    &gt; &gt; Task :unityLibrary:packageReleaseRenderscript\r\n    &gt; NO-SOURCE\r\n    &gt; &gt; Task :unityLibrary:compileReleaseRenderscript\r\n    &gt; NO-SOURCE\r\n    &gt; &gt; Task :unityLibrary:generateReleaseResValues\r\n    &gt; &gt; Task :unityLibrary:generateReleaseResources\r\n    &gt; &gt; Task :launcher:generateReleaseBuildConfig\r\n    &gt; &gt; Task :launcher:compileReleaseAidl NO-SOURCE\r\n    &gt; &gt; Task :launcher:compileReleaseRenderscript\r\n    &gt; NO-SOURCE\r\n    &gt; &gt; Task :launcher:generateReleaseResValues\r\n    &gt; &gt; Task :launcher:generateReleaseResources\r\n    &gt; &gt; Task :launcher:createReleaseCompatibleScreenManifests\r\n    &gt; &gt; Task :launcher:extractDeepLinksRelease\r\n    &gt; &gt; Task :launcher:prepareLintJar\r\n    &gt; &gt; Task :launcher:checkReleaseDuplicateClasses\r\n    &gt; &gt; Task :unityLibrary:packageReleaseResources\r\n    &gt; &gt; Task :unityLibrary:extractDeepLinksRelease\r\n    &gt; &gt; Task :unityLibrary:processReleaseManifest\r\n    &gt; &gt; Task :launcher:javaPreCompileRelease\r\n    &gt; &gt; Task :launcher:processReleaseManifest\r\n    &gt; &gt; Task :launcher:mergeReleaseShaders\r\n    &gt; &gt; Task :launcher:compileReleaseShaders NO-SOURCE\r\n    &gt; &gt; Task :launcher:generateReleaseAssets UP-TO-DATE\r\n    &gt; &gt; Task :launcher:processReleaseJavaRes NO-SOURCE\r\n    &gt; &gt; Task :launcher:collectReleaseDependencies\r\n    &gt; &gt; Task :launcher:sdkReleaseDependencyData\r\n    &gt; &gt; Task :launcher:mergeReleaseJniLibFolders\r\n    &gt; &gt; Task :launcher:validateSigningRelease\r\n    &gt; &gt; Task :launcher:desugarReleaseFileDependencies\r\n    &gt; &gt; Task :launcher:mergeReleaseResources\r\n    &gt; &gt; Task :launcher:mergeExtDexRelease\r\n    &gt; &gt; Task :unityLibrary:generateReleaseBuildConfig\r\n    &gt; &gt; Task :unityLibrary:compileReleaseLibraryResources\r\n    &gt; &gt; Task :unityLibrary:mergeReleaseShaders\r\n    &gt; &gt; Task :unityLibrary:compileReleaseShaders\r\n    &gt; NO-SOURCE\r\n    &gt; &gt; Task :unityLibrary:generateReleaseAssets\r\n    &gt; UP-TO-DATE\r\n    &gt; &gt; Task :unityLibrary:packageReleaseAssets\r\n    &gt; &gt; Task :unityLibrary:prepareLintJarForPublish\r\n    &gt; &gt; Task :unityLibrary:processReleaseJavaRes\r\n    &gt; NO-SOURCE\r\n    &gt; &gt; Task :unityLibrary:bundleLibResRelease\r\n    &gt; NO-SOURCE\r\n    &gt; &gt; Task :launcher:mergeReleaseAssets\r\n    &gt; &gt; Task :unityLibrary:mergeReleaseJniLibFolders\r\n    &gt; &gt; Task :unityLibrary:parseReleaseLocalResources\r\n    &gt; &gt; Task :launcher:mergeReleaseJavaResource\r\n    &gt; &gt; Task :unityLibrary:javaPreCompileRelease\r\n    &gt; &gt; Task :unityLibrary:mergeReleaseNativeLibs\r\n    &gt; &gt; Task :unityLibrary:stripReleaseDebugSymbols\r\n    &gt; &gt; Task :unityLibrary:copyReleaseJniLibsProjectOnly\r\n    &gt; &gt; Task :unityLibrary:generateReleaseRFile\r\n    &gt; &gt; Task :launcher:processReleaseResources\r\n    &gt; &gt; Task :launcher:mergeReleaseNativeLibs\r\n    &gt; &gt; Task :launcher:stripReleaseDebugSymbols\r\n    &gt; \r\n    &gt; &gt; Task :unityLibrary:compileReleaseJavaWithJavac\r\n    &gt; \r\n    &gt; &gt; Task :unityLibrary:bundleLibRuntimeToJarRelease\r\n    &gt; &gt; Task :unityLibrary:bundleLibCompileToJarRelease\r\n    &gt; &gt; Task :launcher:compileReleaseJavaWithJavac\r\n    &gt; &gt; Task :launcher:compileReleaseSources\r\n    &gt; &gt; Task :launcher:lintVitalRelease\r\n    &gt; &gt; Task :launcher:dexBuilderRelease\r\n    &gt; &gt; Task :launcher:mergeDexRelease\r\n    &gt; &gt; Task :launcher:packageRelease FAILED 45 actionable tasks: 45 executed\r\n    &gt; \r\n    &gt; UnityEditor.GenericMenu:CatchMenu\r\n    &gt; (object,string[],int)\r\n\r\n\r\nThe second error is \r\n\r\n    Note: D:\\Unity Development\\EndMan 1\\EndMan1\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\src\\main\\java\\com\\unity3d\\player\\UnityPlayerActivity.java uses or overrides a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    Note: D:\\Unity Development\\EndMan 1\\EndMan1\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\src\\main\\java\\com\\unity\\androidnotifications\\UnityNotificationManager.java uses unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:launcher:packageRelease&#39;.\r\n    &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n       &gt; com.android.ide.common.signing.KeytoolException: Failed to read key AndroidDebugKey from store &quot;C:\\Users\\Samprit Hazra\\.android\\debug.keystore&quot;: Invalid keystore format\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 2m 25s\r\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\r\n    \r\n    UnityEditor.GenericMenu:CatchMenu (object,string[],int)\r\n\r\nThe third error:\r\n\r\n    CommandInvokationFailure: Gradle build failed. \r\n    C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-6.1.1.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleRelease&quot;\r\n    \r\n    stderr[\r\n    Note: D:\\Unity Development\\EndMan 1\\EndMan1\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\src\\main\\java\\com\\unity3d\\player\\UnityPlayerActivity.java uses or overrides a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    Note: D:\\Unity Development\\EndMan 1\\EndMan1\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\src\\main\\java\\com\\unity\\androidnotifications\\UnityNotificationManager.java uses unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:launcher:packageRelease&#39;.\r\n    &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n       &gt; com.android.ide.common.signing.KeytoolException: Failed to read key AndroidDebugKey from store &quot;C:\\Users\\Samprit Hazra\\.android\\debug.keystore&quot;: Invalid keystore format\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 2m 25s\r\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\r\n    ]\r\n    stdout[\r\n    Starting a Gradle Daemon, 1 incompatible Daemon could not be reused, use --status for details\r\n    \r\n    &gt; Configure project :launcher\r\n    WARNING: The option setting &#39;android.enableR8=false&#39; is deprecated.\r\n    It will be removed in version 5.0 of the Android Gradle plugin.\r\n    You will no longer be able to disable R8\r\n    Exception while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\build-tools\\30.0.2\\package.xml. Probably the SDK is read-only\r\n    Exception while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platform-tools\\package.xml. Probably the SDK is read-only\r\n    Exception while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-29\\package.xml. Probably the SDK is read-only\r\n    Exception while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-30\\package.xml. Probably the SDK is read-only\r\n    Exception while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\tools\\package.xml. Probably the SDK is read-only\r\n    Exception while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\build-tools\\30.0.2\\package.xml. Probably the SDK is read-only\r\n    Exception while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platform-tools\\package.xml. Probably the SDK is read-only\r\n    Exception while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-29\\package.xml. Probably the SDK is read-only\r\n    Exception while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-30\\package.xml. Probably the SDK is read-only\r\n    Exception while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\tools\\package.xml. Probably the SDK is read-only\r\n    \r\n    &gt; Task :unityLibrary:preBuild UP-TO-DATE\r\n    &gt; Task :launcher:preBuild UP-TO-DATE\r\n    &gt; Task :launcher:preReleaseBuild UP-TO-DATE\r\n    &gt; Task :unityLibrary:preReleaseBuild UP-TO-DATE\r\n    &gt; Task :unityLibrary:compileReleaseAidl NO-SOURCE\r\n    &gt; Task :unityLibrary:packageReleaseRenderscript NO-SOURCE\r\n    &gt; Task :unityLibrary:compileReleaseRenderscript NO-SOURCE\r\n    &gt; Task :unityLibrary:generateReleaseResValues\r\n    &gt; Task :unityLibrary:generateReleaseResources\r\n    &gt; Task :launcher:generateReleaseBuildConfig\r\n    &gt; Task :launcher:compileReleaseAidl NO-SOURCE\r\n    &gt; Task :launcher:compileReleaseRenderscript NO-SOURCE\r\n    &gt; Task :launcher:generateReleaseResValues\r\n    &gt; Task :launcher:generateReleaseResources\r\n    &gt; Task :launcher:createReleaseCompatibleScreenManifests\r\n    &gt; Task :launcher:extractDeepLinksRelease\r\n    &gt; Task :launcher:prepareLintJar\r\n    &gt; Task :launcher:checkReleaseDuplicateClasses\r\n    &gt; Task :unityLibrary:packageReleaseResources\r\n    &gt; Task :unityLibrary:extractDeepLinksRelease\r\n    &gt; Task :unityLibrary:processReleaseManifest\r\n    &gt; Task :launcher:javaPreCompileRelease\r\n    &gt; Task :launcher:processReleaseManifest\r\n    &gt; Task :launcher:mergeReleaseShaders\r\n    &gt; Task :launcher:compileReleaseShaders NO-SOURCE\r\n    &gt; Task :launcher:generateReleaseAssets UP-TO-DATE\r\n    &gt; Task :launcher:processReleaseJavaRes NO-SOURCE\r\n    &gt; Task :launcher:collectReleaseDependencies\r\n    &gt; Task :launcher:sdkReleaseDependencyData\r\n    &gt; Task :launcher:mergeReleaseJniLibFolders\r\n    &gt; Task :launcher:validateSigningRelease\r\n    &gt; Task :launcher:desugarReleaseFileDependencies\r\n    &gt; Task :launcher:mergeReleaseResources\r\n    &gt; Task :launcher:mergeExtDexRelease\r\n    &gt; Task :unityLibrary:generateReleaseBuildConfig\r\n    &gt; Task :unityLibrary:compileReleaseLibraryResources\r\n    &gt; Task :unityLibrary:mergeReleaseShaders\r\n    &gt; Task :unityLibrary:compileReleaseShaders NO-SOURCE\r\n    &gt; Task :unityLibrary:generateReleaseAssets UP-TO-DATE\r\n    &gt; Task :unityLibrary:packageReleaseAssets\r\n    &gt; Task :unityLibrary:prepareLintJarForPublish\r\n    &gt; Task :unityLibrary:processReleaseJavaRes NO-SOURCE\r\n    &gt; Task :unityLibrary:bundleLibResRelease NO-SOURCE\r\n    &gt; Task :launcher:mergeReleaseAssets\r\n    &gt; Task :unityLibrary:mergeReleaseJniLibFolders\r\n    &gt; Task :unityLibrary:parseReleaseLocalResources\r\n    &gt; Task :launcher:mergeReleaseJavaResource\r\n    &gt; Task :unityLibrary:javaPreCompileRelease\r\n    &gt; Task :unityLibrary:mergeReleaseNativeLibs\r\n    &gt; Task :unityLibrary:stripReleaseDebugSymbols\r\n    &gt; Task :unityLibrary:copyReleaseJniLibsProjectOnly\r\n    &gt; Task :unityLibrary:generateReleaseRFile\r\n    &gt; Task :launcher:processReleaseResources\r\n    &gt; Task :launcher:mergeReleaseNativeLibs\r\n    &gt; Task :launcher:stripReleaseDebugSymbols\r\n    \r\n    &gt; Task :unityLibrary:compileReleaseJavaWithJavac\r\n    \r\n    &gt; Task :unityLibrary:bundleLibRuntimeToJarRelease\r\n    &gt; Task :unityLibrary:bundleLibCompileToJarRelease\r\n    &gt; Task :launcher:compileReleaseJavaWithJavac\r\n    &gt; Task :launcher:compileReleaseSources\r\n    &gt; Task :launcher:lintVitalRelease\r\n    &gt; Task :launcher:dexBuilderRelease\r\n    &gt; Task :launcher:mergeDexRelease\r\n    &gt; Task :launcher:packageRelease FAILED\r\n    45 actionable tasks: 45 executed\r\n    ]\r\n    exit code: 1\r\n    UnityEditor.Android.Command.WaitForProgramToRun (UnityEditor.Utils.Program p, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\r\n    UnityEditor.Android.Command.Run (System.Diagnostics.ProcessStartInfo psi, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\r\n    UnityEditor.Android.Command.Run (System.String command, System.String args, System.String workingdir, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\r\n    UnityEditor.Android.AndroidJavaTools.RunJava (System.String args, System.String workingdir, System.Action`1[T] progress, System.String error) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\r\n    UnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, Unity.Android.Gradle.AndroidGradle androidGradle, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\r\n    Rethrow as GradleInvokationException: Gradle build failed\r\n    UnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, Unity.Android.Gradle.AndroidGradle androidGradle, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\r\n    UnityEditor.Android.PostProcessor.Tasks.BuildGradleProject.Execute (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\r\n    UnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\r\n    Rethrow as BuildFailedException: Exception of type &#39;UnityEditor.Build.BuildFailedException&#39; was thrown.\r\n    UnityEditor.Android.PostProcessor.CancelPostProcess.AbortBuild (System.String title, System.String message, System.Exception ex) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\r\n    UnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\r\n    UnityEditor.Android.PostProcessAndroidPlayer.PostProcess (UnityEditor.Modules.BuildPostProcessArgs args, AndroidPlayerBuildProgram.Data.AndroidPlayerBuildProgramOutput buildProgramOutput) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\r\n    UnityEditor.Android.AndroidBuildPostprocessor.PostProcess (UnityEditor.Modules.BuildPostProcessArgs args, UnityEditor.BuildProperties&amp; outProperties) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\r\n    UnityEditor.PostprocessBuildPlayer.Postprocess (UnityEditor.BuildTargetGroup targetGroup, UnityEditor.BuildTarget target, System.Int32 subtarget, System.String installPath,\r\n\r\n\r\nMy JDK Version is JDK-18 and the unity version is 2021.3.4f1 64bit i have been working in a project since many days and everything worked fine but when i tried to build the apk unity threw at error at me which is related to gradle only\r\nFast reply appreciated","title":"Unity 2021.3.4f1 Gradle Build failed","body":"<p>Unity 2021.3.4f1 is giving me these errors while building an apk</p>\n<pre><code>&gt; Starting a Gradle Daemon, 1\n&gt; incompatible Daemon could not be\n&gt; reused, use --status for details\n&gt; \n&gt; &gt; Configure project :launcher WARNING: The option setting\n&gt; 'android.enableR8=false' is\n&gt; deprecated. It will be removed in\n&gt; version 5.0 of the Android Gradle\n&gt; plugin. You will no longer be able to\n&gt; disable R8 Exception while marshalling\n&gt; C:\\Program\n&gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\build-tools\\30.0.2\\package.xml.\n&gt; Probably the SDK is read-only\n&gt; Exception while marshalling C:\\Program\n&gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platform-tools\\package.xml.\n&gt; Probably the SDK is read-only\n&gt; Exception while marshalling C:\\Program\n&gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-29\\package.xml.\n&gt; Probably the SDK is read-only\n&gt; Exception while marshalling C:\\Program\n&gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-30\\package.xml.\n&gt; Probably the SDK is read-only\n&gt; Exception while marshalling C:\\Program\n&gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\tools\\package.xml.\n&gt; Probably the SDK is read-only\n&gt; Exception while marshalling C:\\Program\n&gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\build-tools\\30.0.2\\package.xml.\n&gt; Probably the SDK is read-only\n&gt; Exception while marshalling C:\\Program\n&gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platform-tools\\package.xml.\n&gt; Probably the SDK is read-only\n&gt; Exception while marshalling C:\\Program\n&gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-29\\package.xml.\n&gt; Probably the SDK is read-only\n&gt; Exception while marshalling C:\\Program\n&gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-30\\package.xml.\n&gt; Probably the SDK is read-only\n&gt; Exception while marshalling C:\\Program\n&gt; Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\tools\\package.xml.\n&gt; Probably the SDK is read-only\n&gt; \n&gt; &gt; Task :unityLibrary:preBuild UP-TO-DATE\n&gt; &gt; Task :launcher:preBuild UP-TO-DATE\n&gt; &gt; Task :launcher:preReleaseBuild UP-TO-DATE\n&gt; &gt; Task :unityLibrary:preReleaseBuild UP-TO-DATE\n&gt; &gt; Task :unityLibrary:compileReleaseAidl\n&gt; NO-SOURCE\n&gt; &gt; Task :unityLibrary:packageReleaseRenderscript\n&gt; NO-SOURCE\n&gt; &gt; Task :unityLibrary:compileReleaseRenderscript\n&gt; NO-SOURCE\n&gt; &gt; Task :unityLibrary:generateReleaseResValues\n&gt; &gt; Task :unityLibrary:generateReleaseResources\n&gt; &gt; Task :launcher:generateReleaseBuildConfig\n&gt; &gt; Task :launcher:compileReleaseAidl NO-SOURCE\n&gt; &gt; Task :launcher:compileReleaseRenderscript\n&gt; NO-SOURCE\n&gt; &gt; Task :launcher:generateReleaseResValues\n&gt; &gt; Task :launcher:generateReleaseResources\n&gt; &gt; Task :launcher:createReleaseCompatibleScreenManifests\n&gt; &gt; Task :launcher:extractDeepLinksRelease\n&gt; &gt; Task :launcher:prepareLintJar\n&gt; &gt; Task :launcher:checkReleaseDuplicateClasses\n&gt; &gt; Task :unityLibrary:packageReleaseResources\n&gt; &gt; Task :unityLibrary:extractDeepLinksRelease\n&gt; &gt; Task :unityLibrary:processReleaseManifest\n&gt; &gt; Task :launcher:javaPreCompileRelease\n&gt; &gt; Task :launcher:processReleaseManifest\n&gt; &gt; Task :launcher:mergeReleaseShaders\n&gt; &gt; Task :launcher:compileReleaseShaders NO-SOURCE\n&gt; &gt; Task :launcher:generateReleaseAssets UP-TO-DATE\n&gt; &gt; Task :launcher:processReleaseJavaRes NO-SOURCE\n&gt; &gt; Task :launcher:collectReleaseDependencies\n&gt; &gt; Task :launcher:sdkReleaseDependencyData\n&gt; &gt; Task :launcher:mergeReleaseJniLibFolders\n&gt; &gt; Task :launcher:validateSigningRelease\n&gt; &gt; Task :launcher:desugarReleaseFileDependencies\n&gt; &gt; Task :launcher:mergeReleaseResources\n&gt; &gt; Task :launcher:mergeExtDexRelease\n&gt; &gt; Task :unityLibrary:generateReleaseBuildConfig\n&gt; &gt; Task :unityLibrary:compileReleaseLibraryResources\n&gt; &gt; Task :unityLibrary:mergeReleaseShaders\n&gt; &gt; Task :unityLibrary:compileReleaseShaders\n&gt; NO-SOURCE\n&gt; &gt; Task :unityLibrary:generateReleaseAssets\n&gt; UP-TO-DATE\n&gt; &gt; Task :unityLibrary:packageReleaseAssets\n&gt; &gt; Task :unityLibrary:prepareLintJarForPublish\n&gt; &gt; Task :unityLibrary:processReleaseJavaRes\n&gt; NO-SOURCE\n&gt; &gt; Task :unityLibrary:bundleLibResRelease\n&gt; NO-SOURCE\n&gt; &gt; Task :launcher:mergeReleaseAssets\n&gt; &gt; Task :unityLibrary:mergeReleaseJniLibFolders\n&gt; &gt; Task :unityLibrary:parseReleaseLocalResources\n&gt; &gt; Task :launcher:mergeReleaseJavaResource\n&gt; &gt; Task :unityLibrary:javaPreCompileRelease\n&gt; &gt; Task :unityLibrary:mergeReleaseNativeLibs\n&gt; &gt; Task :unityLibrary:stripReleaseDebugSymbols\n&gt; &gt; Task :unityLibrary:copyReleaseJniLibsProjectOnly\n&gt; &gt; Task :unityLibrary:generateReleaseRFile\n&gt; &gt; Task :launcher:processReleaseResources\n&gt; &gt; Task :launcher:mergeReleaseNativeLibs\n&gt; &gt; Task :launcher:stripReleaseDebugSymbols\n&gt; \n&gt; &gt; Task :unityLibrary:compileReleaseJavaWithJavac\n&gt; \n&gt; &gt; Task :unityLibrary:bundleLibRuntimeToJarRelease\n&gt; &gt; Task :unityLibrary:bundleLibCompileToJarRelease\n&gt; &gt; Task :launcher:compileReleaseJavaWithJavac\n&gt; &gt; Task :launcher:compileReleaseSources\n&gt; &gt; Task :launcher:lintVitalRelease\n&gt; &gt; Task :launcher:dexBuilderRelease\n&gt; &gt; Task :launcher:mergeDexRelease\n&gt; &gt; Task :launcher:packageRelease FAILED 45 actionable tasks: 45 executed\n&gt; \n&gt; UnityEditor.GenericMenu:CatchMenu\n&gt; (object,string[],int)\n</code></pre>\n<p>The second error is</p>\n<pre><code>Note: D:\\Unity Development\\EndMan 1\\EndMan1\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\src\\main\\java\\com\\unity3d\\player\\UnityPlayerActivity.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: D:\\Unity Development\\EndMan 1\\EndMan1\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\src\\main\\java\\com\\unity\\androidnotifications\\UnityNotificationManager.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':launcher:packageRelease'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n   &gt; com.android.ide.common.signing.KeytoolException: Failed to read key AndroidDebugKey from store &quot;C:\\Users\\Samprit Hazra\\.android\\debug.keystore&quot;: Invalid keystore format\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2m 25s\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\n\nUnityEditor.GenericMenu:CatchMenu (object,string[],int)\n</code></pre>\n<p>The third error:</p>\n<pre><code>CommandInvokationFailure: Gradle build failed. \nC:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-6.1.1.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleRelease&quot;\n\nstderr[\nNote: D:\\Unity Development\\EndMan 1\\EndMan1\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\src\\main\\java\\com\\unity3d\\player\\UnityPlayerActivity.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: D:\\Unity Development\\EndMan 1\\EndMan1\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\src\\main\\java\\com\\unity\\androidnotifications\\UnityNotificationManager.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':launcher:packageRelease'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n   &gt; com.android.ide.common.signing.KeytoolException: Failed to read key AndroidDebugKey from store &quot;C:\\Users\\Samprit Hazra\\.android\\debug.keystore&quot;: Invalid keystore format\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2m 25s\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\n]\nstdout[\nStarting a Gradle Daemon, 1 incompatible Daemon could not be reused, use --status for details\n\n&gt; Configure project :launcher\nWARNING: The option setting 'android.enableR8=false' is deprecated.\nIt will be removed in version 5.0 of the Android Gradle plugin.\nYou will no longer be able to disable R8\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\build-tools\\30.0.2\\package.xml. Probably the SDK is read-only\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platform-tools\\package.xml. Probably the SDK is read-only\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-29\\package.xml. Probably the SDK is read-only\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-30\\package.xml. Probably the SDK is read-only\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\tools\\package.xml. Probably the SDK is read-only\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\build-tools\\30.0.2\\package.xml. Probably the SDK is read-only\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platform-tools\\package.xml. Probably the SDK is read-only\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-29\\package.xml. Probably the SDK is read-only\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\platforms\\android-30\\package.xml. Probably the SDK is read-only\nException while marshalling C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.4f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK\\tools\\package.xml. Probably the SDK is read-only\n\n&gt; Task :unityLibrary:preBuild UP-TO-DATE\n&gt; Task :launcher:preBuild UP-TO-DATE\n&gt; Task :launcher:preReleaseBuild UP-TO-DATE\n&gt; Task :unityLibrary:preReleaseBuild UP-TO-DATE\n&gt; Task :unityLibrary:compileReleaseAidl NO-SOURCE\n&gt; Task :unityLibrary:packageReleaseRenderscript NO-SOURCE\n&gt; Task :unityLibrary:compileReleaseRenderscript NO-SOURCE\n&gt; Task :unityLibrary:generateReleaseResValues\n&gt; Task :unityLibrary:generateReleaseResources\n&gt; Task :launcher:generateReleaseBuildConfig\n&gt; Task :launcher:compileReleaseAidl NO-SOURCE\n&gt; Task :launcher:compileReleaseRenderscript NO-SOURCE\n&gt; Task :launcher:generateReleaseResValues\n&gt; Task :launcher:generateReleaseResources\n&gt; Task :launcher:createReleaseCompatibleScreenManifests\n&gt; Task :launcher:extractDeepLinksRelease\n&gt; Task :launcher:prepareLintJar\n&gt; Task :launcher:checkReleaseDuplicateClasses\n&gt; Task :unityLibrary:packageReleaseResources\n&gt; Task :unityLibrary:extractDeepLinksRelease\n&gt; Task :unityLibrary:processReleaseManifest\n&gt; Task :launcher:javaPreCompileRelease\n&gt; Task :launcher:processReleaseManifest\n&gt; Task :launcher:mergeReleaseShaders\n&gt; Task :launcher:compileReleaseShaders NO-SOURCE\n&gt; Task :launcher:generateReleaseAssets UP-TO-DATE\n&gt; Task :launcher:processReleaseJavaRes NO-SOURCE\n&gt; Task :launcher:collectReleaseDependencies\n&gt; Task :launcher:sdkReleaseDependencyData\n&gt; Task :launcher:mergeReleaseJniLibFolders\n&gt; Task :launcher:validateSigningRelease\n&gt; Task :launcher:desugarReleaseFileDependencies\n&gt; Task :launcher:mergeReleaseResources\n&gt; Task :launcher:mergeExtDexRelease\n&gt; Task :unityLibrary:generateReleaseBuildConfig\n&gt; Task :unityLibrary:compileReleaseLibraryResources\n&gt; Task :unityLibrary:mergeReleaseShaders\n&gt; Task :unityLibrary:compileReleaseShaders NO-SOURCE\n&gt; Task :unityLibrary:generateReleaseAssets UP-TO-DATE\n&gt; Task :unityLibrary:packageReleaseAssets\n&gt; Task :unityLibrary:prepareLintJarForPublish\n&gt; Task :unityLibrary:processReleaseJavaRes NO-SOURCE\n&gt; Task :unityLibrary:bundleLibResRelease NO-SOURCE\n&gt; Task :launcher:mergeReleaseAssets\n&gt; Task :unityLibrary:mergeReleaseJniLibFolders\n&gt; Task :unityLibrary:parseReleaseLocalResources\n&gt; Task :launcher:mergeReleaseJavaResource\n&gt; Task :unityLibrary:javaPreCompileRelease\n&gt; Task :unityLibrary:mergeReleaseNativeLibs\n&gt; Task :unityLibrary:stripReleaseDebugSymbols\n&gt; Task :unityLibrary:copyReleaseJniLibsProjectOnly\n&gt; Task :unityLibrary:generateReleaseRFile\n&gt; Task :launcher:processReleaseResources\n&gt; Task :launcher:mergeReleaseNativeLibs\n&gt; Task :launcher:stripReleaseDebugSymbols\n\n&gt; Task :unityLibrary:compileReleaseJavaWithJavac\n\n&gt; Task :unityLibrary:bundleLibRuntimeToJarRelease\n&gt; Task :unityLibrary:bundleLibCompileToJarRelease\n&gt; Task :launcher:compileReleaseJavaWithJavac\n&gt; Task :launcher:compileReleaseSources\n&gt; Task :launcher:lintVitalRelease\n&gt; Task :launcher:dexBuilderRelease\n&gt; Task :launcher:mergeDexRelease\n&gt; Task :launcher:packageRelease FAILED\n45 actionable tasks: 45 executed\n]\nexit code: 1\nUnityEditor.Android.Command.WaitForProgramToRun (UnityEditor.Utils.Program p, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\nUnityEditor.Android.Command.Run (System.Diagnostics.ProcessStartInfo psi, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\nUnityEditor.Android.Command.Run (System.String command, System.String args, System.String workingdir, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\nUnityEditor.Android.AndroidJavaTools.RunJava (System.String args, System.String workingdir, System.Action`1[T] progress, System.String error) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\nUnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, Unity.Android.Gradle.AndroidGradle androidGradle, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\nRethrow as GradleInvokationException: Gradle build failed\nUnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, Unity.Android.Gradle.AndroidGradle androidGradle, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\nUnityEditor.Android.PostProcessor.Tasks.BuildGradleProject.Execute (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\nUnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\nRethrow as BuildFailedException: Exception of type 'UnityEditor.Build.BuildFailedException' was thrown.\nUnityEditor.Android.PostProcessor.CancelPostProcess.AbortBuild (System.String title, System.String message, System.Exception ex) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\nUnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\nUnityEditor.Android.PostProcessAndroidPlayer.PostProcess (UnityEditor.Modules.BuildPostProcessArgs args, AndroidPlayerBuildProgram.Data.AndroidPlayerBuildProgramOutput buildProgramOutput) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\nUnityEditor.Android.AndroidBuildPostprocessor.PostProcess (UnityEditor.Modules.BuildPostProcessArgs args, UnityEditor.BuildProperties&amp; outProperties) (at &lt;c3a2c42a45424b88b29dfadf7f497cbb&gt;:0)\nUnityEditor.PostprocessBuildPlayer.Postprocess (UnityEditor.BuildTargetGroup targetGroup, UnityEditor.BuildTarget target, System.Int32 subtarget, System.String installPath,\n</code></pre>\n<p>My JDK Version is JDK-18 and the unity version is 2021.3.4f1 64bit i have been working in a project since many days and everything worked fine but when i tried to build the apk unity threw at error at me which is related to gradle only\nFast reply appreciated</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3597514,"reputation":117145,"user_id":3001761,"display_name":"jonrsharpe"},"score":9,"creation_date":1513353756,"post_id":47835901,"comment_id":82635301,"body_markdown":"What kind of project? For example, if you&#39;re using Maven with the appropriate plugin `mvn spring-boot:run` will work. Did you read [the docs](https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-running-your-application.html)?","body":"What kind of project? For example, if you&#39;re using Maven with the appropriate plugin <code>mvn spring-boot:run</code> will work. Did you read <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-running-your-application.html\" rel=\"nofollow noreferrer\">the docs</a>?"}],"answers":[{"tags":[],"owner":{"account_id":8988970,"reputation":1274,"user_id":6701594,"display_name":"Srikanth Anusuri"},"down_vote_count":1,"up_vote_count":78,"is_accepted":true,"score":77,"last_activity_date":1513354551,"creation_date":1513354551,"answer_id":47836135,"question_id":47835901,"body_markdown":"You will need to build the jar file first. Here is the syntax to run the main class from a jar file.\r\n\r\n    java -jar path/to/your/jarfile.jar fully.qualified.package.Application \r\n\r\n","title":"How to start up spring-boot application via command line?","body":"<p>You will need to build the jar file first. Here is the syntax to run the main class from a jar file.</p>\n\n<pre><code>java -jar path/to/your/jarfile.jar fully.qualified.package.Application \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11061465,"reputation":3057,"user_id":8149916,"display_name":"Adindu Stevens"},"down_vote_count":2,"up_vote_count":232,"is_accepted":false,"score":230,"last_activity_date":1560497623,"creation_date":1552762291,"answer_id":55200392,"question_id":47835901,"body_markdown":"I presume you are trying to compile the application and run it without using an IDE.\r\nI also presume you have maven installed and correctly added maven to your environment variable.\r\n\r\nTo install and add maven to environment variable visit [Install maven][1] if you are under a proxy check out [add proxy to maven][2]\r\n\r\nNavigate to the root of the project via command line and execute the command\r\n\r\n    mvn spring-boot:run\r\n\r\n The CLI will run your application on the configured port and you can access it just like you would if you start the app in an IDE.\r\n\r\nNote: This will work only if you have maven added to your pom.xml\r\n\r\n\r\n  [1]: https://www.mkyong.com/maven/how-to-install-maven-in-windows/\r\n  [2]: https://stackoverflow.com/a/47175285/8149916","title":"How to start up spring-boot application via command line?","body":"<p>I presume you are trying to compile the application and run it without using an IDE.\nI also presume you have maven installed and correctly added maven to your environment variable.</p>\n\n<p>To install and add maven to environment variable visit <a href=\"https://www.mkyong.com/maven/how-to-install-maven-in-windows/\" rel=\"noreferrer\">Install maven</a> if you are under a proxy check out <a href=\"https://stackoverflow.com/a/47175285/8149916\">add proxy to maven</a></p>\n\n<p>Navigate to the root of the project via command line and execute the command</p>\n\n<pre><code>mvn spring-boot:run\n</code></pre>\n\n<p>The CLI will run your application on the configured port and you can access it just like you would if you start the app in an IDE.</p>\n\n<p>Note: This will work only if you have maven added to your pom.xml</p>\n"},{"tags":[],"owner":{"account_id":7671820,"reputation":479,"user_id":5813801,"display_name":"soyphea"},"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1552792128,"creation_date":1552792128,"answer_id":55203496,"question_id":47835901,"body_markdown":"Spring Boot provide the plugin with maven.\r\n\r\nSo you can go to your project directory and run\r\n\r\n    mvn spring-boot:run\r\n\r\n\r\nThis command line run will be easily when you&#39;re using spring-boot-devs-tool with auto reload/restart when you have changed you application.","title":"How to start up spring-boot application via command line?","body":"<p>Spring Boot provide the plugin with maven.</p>\n\n<p>So you can go to your project directory and run</p>\n\n<pre><code>mvn spring-boot:run\n</code></pre>\n\n<p>This command line run will be easily when you're using spring-boot-devs-tool with auto reload/restart when you have changed you application.</p>\n"},{"tags":[],"owner":{"account_id":7025825,"reputation":1450,"user_id":5383238,"accept_rate":60,"display_name":"Abdur Rahman"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1680178859,"creation_date":1560665414,"answer_id":56616547,"question_id":47835901,"body_markdown":"To run the spring-boot application, need to follow some step.\r\n\r\n1. Maven setup (ignore if already setup):\r\n\r\n   a. Install maven from https://maven.apache.org/download.cgi\r\n   \r\n   b. Unzip maven and keep in C drive (you can keep any location. Path location will be changed accordingly).\r\n\r\n   c. Set MAVEN_HOME in system variable. \r\n [![enter image description here][1]][1]\r\n\r\n\r\n   d. Set path for maven\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/ibo5A.png\r\n  [2]: https://i.stack.imgur.com/wl0eU.png\r\n\r\n\r\n2. Add Maven Plugin to POM.XML\r\n           \r\n```xml\r\n    &lt;build&gt;\r\n       &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n           &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n```\r\n3. Build Spring Boot Project with Maven\r\n\r\n           mvn package\r\n   or       \r\n          \r\n             mvn install / mvn clean install\r\n\r\n4. Run Spring Boot app using Maven: \r\n               \r\n            mvn spring-boot:run\r\n\r\n5. **[optional]** Run Spring Boot app with java -jar command\r\n\r\n             java -jar target/mywebserviceapp-0.0.1-SNAPSHOT.jar\r\n  ","title":"How to start up spring-boot application via command line?","body":"<p>To run the spring-boot application, need to follow some step.</p>\n<ol>\n<li><p>Maven setup (ignore if already setup):</p>\n<p>a. Install maven from <a href=\"https://maven.apache.org/download.cgi\" rel=\"noreferrer\">https://maven.apache.org/download.cgi</a></p>\n<p>b. Unzip maven and keep in C drive (you can keep any location. Path location will be changed accordingly).</p>\n<p>c. Set MAVEN_HOME in system variable.\n<a href=\"https://i.stack.imgur.com/ibo5A.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ibo5A.png\" alt=\"enter image description here\" /></a></p>\n<p>d. Set path for maven</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/wl0eU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wl0eU.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Add Maven Plugin to POM.XML</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;build&gt;\n       &lt;plugins&gt;\n         &lt;plugin&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n</code></pre>\n<ol start=\"3\">\n<li><p>Build Spring Boot Project with Maven</p>\n<pre><code>    mvn package\n</code></pre>\n<p>or</p>\n<pre><code>      mvn install / mvn clean install\n</code></pre>\n</li>\n<li><p>Run Spring Boot app using Maven:</p>\n<pre><code>     mvn spring-boot:run\n</code></pre>\n</li>\n<li><p><strong>[optional]</strong> Run Spring Boot app with java -jar command</p>\n<pre><code>      java -jar target/mywebserviceapp-0.0.1-SNAPSHOT.jar\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9058130,"reputation":1392,"user_id":6745604,"display_name":"Paula T"},"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1566065783,"creation_date":1566065783,"answer_id":57538815,"question_id":47835901,"body_markdown":"If you&#39;re using gradle, you can use: \r\n\r\n    ./gradlew bootRun","title":"How to start up spring-boot application via command line?","body":"<p>If you're using gradle, you can use: </p>\n\n<pre><code>./gradlew bootRun\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13717415,"reputation":1385,"user_id":9898251,"display_name":"Badri Paudel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583672795,"creation_date":1583672795,"answer_id":60587744,"question_id":47835901,"body_markdown":"One of the ways that you can run your spring-boot application from command line is as follows : \r\n\r\n1) First **go to your project directory** in command line [where is your project located ?]\r\n\r\n2) Then in the next step **you have to create jar file** for that, this can be done as\r\n   \r\n `mvnw package` [**for WINDOWS OS** ] or `./mvnw package` [**for MAC OS**] , **this will \r\n  create jar file**  for our application.\r\n\r\n3) jar file is created in the **target** sub-directory \r\n\r\n4)Now **go to target sub directory** as jar was created inside of it , i.e `cd target`\r\n\r\n5) Now run the jar file in there. \r\n   Use command `java -jar name.jar` [ name is the name of your created jar file.]\r\n   \r\n   and there you go , you are done . Now you can run project in browser, \r\n\r\n     http://localhost:port_number","title":"How to start up spring-boot application via command line?","body":"<p>One of the ways that you can run your spring-boot application from command line is as follows : </p>\n\n<p>1) First <strong>go to your project directory</strong> in command line [where is your project located ?]</p>\n\n<p>2) Then in the next step <strong>you have to create jar file</strong> for that, this can be done as</p>\n\n<p><code>mvnw package</code> [<strong>for WINDOWS OS</strong> ] or <code>./mvnw package</code> [<strong>for MAC OS</strong>] , <strong>this will \n  create jar file</strong>  for our application.</p>\n\n<p>3) jar file is created in the <strong>target</strong> sub-directory </p>\n\n<p>4)Now <strong>go to target sub directory</strong> as jar was created inside of it , i.e <code>cd target</code></p>\n\n<p>5) Now run the jar file in there. \n   Use command <code>java -jar name.jar</code> [ name is the name of your created jar file.]</p>\n\n<p>and there you go , you are done . Now you can run project in browser, </p>\n\n<pre><code> http://localhost:port_number\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17829585,"reputation":103,"user_id":12949941,"display_name":"Hariharan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1583729637,"creation_date":1583729637,"answer_id":60594896,"question_id":47835901,"body_markdown":"A Spring Boot project configured through Maven can be run using the following command from the project source folder\r\n```\r\nmvn spring-boot:run","title":"How to start up spring-boot application via command line?","body":"<p>A Spring Boot project configured through Maven can be run using the following command from the project source folder</p>\n\n<pre><code>mvn spring-boot:run\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1587493543,"creation_date":1584516230,"answer_id":60735042,"question_id":47835901,"body_markdown":"**1.Run Spring Boot app with java -jar command**\r\n\r\nTo run your Spring Boot app from a command line in a Terminal window you can use java -jar command. \r\nThis is provided your Spring Boot app was packaged as an executable jar file.\r\n\r\n    java -jar target/app-0.0.1-SNAPSHOT.jar\r\n\r\n\r\n**2.Run Spring Boot app using Maven**\r\n\r\nYou can also use Maven plugin to run your Spring Boot app. Use the below command to run your Spring Boot app with Maven plugin:\r\n\r\n    mvn spring-boot:run\r\n\r\n**3.Run Spring Boot App with Gradle**\r\n\r\nAnd if you use Gradle you can run the Spring Boot app with the following command:\r\n\r\n    gradle bootRun","title":"How to start up spring-boot application via command line?","body":"<p><strong>1.Run Spring Boot app with java -jar command</strong></p>\n\n<p>To run your Spring Boot app from a command line in a Terminal window you can use java -jar command. \nThis is provided your Spring Boot app was packaged as an executable jar file.</p>\n\n<pre><code>java -jar target/app-0.0.1-SNAPSHOT.jar\n</code></pre>\n\n<p><strong>2.Run Spring Boot app using Maven</strong></p>\n\n<p>You can also use Maven plugin to run your Spring Boot app. Use the below command to run your Spring Boot app with Maven plugin:</p>\n\n<pre><code>mvn spring-boot:run\n</code></pre>\n\n<p><strong>3.Run Spring Boot App with Gradle</strong></p>\n\n<p>And if you use Gradle you can run the Spring Boot app with the following command:</p>\n\n<pre><code>gradle bootRun\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16463114,"reputation":1221,"user_id":11893765,"display_name":"Abi Chhetri"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1600494750,"creation_date":1600494750,"answer_id":63965679,"question_id":47835901,"body_markdown":"Run Spring Boot app using Maven\r\n\r\nYou can also use Maven plugin to run your Spring Boot app. Use the below example to run your Spring Boot app with Maven plugin:\r\n\r\n    mvn spring-boot:run\r\n\r\nRun Spring Boot App with Gradle\r\n\r\nAnd if you use Gradle you can run the Spring Boot app with the following command:\r\n\r\n    gradle bootRun","title":"How to start up spring-boot application via command line?","body":"<p>Run Spring Boot app using Maven</p>\n<p>You can also use Maven plugin to run your Spring Boot app. Use the below example to run your Spring Boot app with Maven plugin:</p>\n<pre><code>mvn spring-boot:run\n</code></pre>\n<p>Run Spring Boot App with Gradle</p>\n<p>And if you use Gradle you can run the Spring Boot app with the following command:</p>\n<pre><code>gradle bootRun\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12324708,"reputation":81,"user_id":8993013,"display_name":"Vivek Lambhi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1621255579,"creation_date":1621255579,"answer_id":67569958,"question_id":47835901,"body_markdown":"For macOS user\r\nIf you configured your application using `maven` \r\nFirst, go to your project directory in the terminal\r\nthen simply run \r\n\r\n    ./mvnw spring-boot:run\r\nYou are done. Now you can hit localhost with port number.\r\n\r\nThis command mentioned in the [spring official guide][1].\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/spring-boot/","title":"How to start up spring-boot application via command line?","body":"<p>For macOS user\nIf you configured your application using <code>maven</code>\nFirst, go to your project directory in the terminal\nthen simply run</p>\n<pre><code>./mvnw spring-boot:run\n</code></pre>\n<p>You are done. Now you can hit localhost with port number.</p>\n<p>This command mentioned in the <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"noreferrer\">spring official guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":23046057,"reputation":1,"user_id":17203873,"display_name":"ives murillo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638089847,"creation_date":1638056776,"answer_id":70139594,"question_id":47835901,"body_markdown":"I was having the same problem, I fixed it by modifying the dependency in the pom. I added `web` at the end.\r\n       \r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-**starter**&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;  \r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;","title":"How to start up spring-boot application via command line?","body":"<p>I was having the same problem, I fixed it by modifying the dependency in the pom. I added <code>web</code> at the end.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-**starter**&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;  \n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15006936,"reputation":2131,"user_id":10832700,"display_name":"ahmnouira"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1664159126,"creation_date":1664159126,"answer_id":73849121,"question_id":47835901,"body_markdown":"For **Maven** based projects use this command to run the spring boot application: \r\n\r\n```bash\r\nmvn spring-boot:run\r\n```","title":"How to start up spring-boot application via command line?","body":"<p>For <strong>Maven</strong> based projects use this command to run the spring boot application:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn spring-boot:run\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26206668,"reputation":148,"user_id":19886178,"display_name":"Vishal Bramhankar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1665844619,"creation_date":1665844619,"answer_id":74080382,"question_id":47835901,"body_markdown":"open cmd from your project path the then at cmd run following cmmands-\r\n1st way to build and run-&gt; \r\n\r\n    mvn clean install\r\n\r\nfor run only -&gt; \r\n\r\n    mvn spring-boot:run\r\n\r\n1st way to build and run after jar file generated in target folder -&gt;\r\n\r\n    java -jar target/accounts-0.0.1-SNAPSHOT.jar\r\n\r\n","title":"How to start up spring-boot application via command line?","body":"<p>open cmd from your project path the then at cmd run following cmmands-\n1st way to build and run-&gt;</p>\n<pre><code>mvn clean install\n</code></pre>\n<p>for run only -&gt;</p>\n<pre><code>mvn spring-boot:run\n</code></pre>\n<p>1st way to build and run after jar file generated in target folder -&gt;</p>\n<pre><code>java -jar target/accounts-0.0.1-SNAPSHOT.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694150855,"creation_date":1694149588,"answer_id":77064265,"question_id":47835901,"body_markdown":"If you use the gradle and want to send pass arguments\r\n\r\n    gradlew bootRun --args=&#39;--spring.application.instance_id=ahmad,--server.port=1234&#39;\r\n\r\n","title":"How to start up spring-boot application via command line?","body":"<p>If you use the gradle and want to send pass arguments</p>\n<pre><code>gradlew bootRun --args='--spring.application.instance_id=ahmad,--server.port=1234'\n</code></pre>\n"}],"owner":{"account_id":4355646,"reputation":1785,"user_id":4900074,"accept_rate":83,"display_name":"user4900074"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496675,"favorite_count":0,"down_vote_count":2,"up_vote_count":158,"accepted_answer_id":47836135,"answer_count":14,"score":156,"last_activity_date":1694150855,"creation_date":1513353687,"question_id":47835901,"body_markdown":"I have a spring-boot application which I need to start up by going to the folder directory and start up my web application via command line. I have a class called Application.java and the code inside it is as followed.\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.ubs.tas.topcat.dashboard&quot;})\r\n    public class Application extends SpringBootServletInitializer {\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(Application.class.getName());\r\n        private static final Class&lt;Application&gt; applicationClass = Application.class;\r\n    \r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(applicationClass);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            LOGGER.info(&quot;Starting...&quot;);\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nI set up classpath then tried to run the command &quot;`java ApplicationUtility`&quot; but I&#39;m getting this error message &quot;`Could not find the main class: ApplicationUtility. Program will exist.`&quot;\r\n\r\n\r\n\r\n\r\n","title":"How to start up spring-boot application via command line?","body":"<p>I have a spring-boot application which I need to start up by going to the folder directory and start up my web application via command line. I have a class called Application.java and the code inside it is as followed.</p>\n\n<pre><code>@SpringBootApplication(scanBasePackages = {\"com.ubs.tas.topcat.dashboard\"})\npublic class Application extends SpringBootServletInitializer {\n    private static final Logger LOGGER = LoggerFactory.getLogger(Application.class.getName());\n    private static final Class&lt;Application&gt; applicationClass = Application.class;\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(applicationClass);\n    }\n\n    public static void main(String[] args) {\n        LOGGER.info(\"Starting...\");\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>I set up classpath then tried to run the command \"<code>java ApplicationUtility</code>\" but I'm getting this error message \"<code>Could not find the main class: ApplicationUtility. Program will exist.</code>\"</p>\n"},{"tags":["java","exit","sigterm","shutdown-hook"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694151271,"post_id":77064315,"comment_id":135856133,"body_markdown":"Well, it&#39;s not supposed to finish on a SIGTERM without running the shutdown hooks. Maybe there&#39;s something in the hooks that cause issues? Dunno if some native debugger might be useful to get further information, or look at OS logs to see if there&#39;s something about it.","body":"Well, it&#39;s not supposed to finish on a SIGTERM without running the shutdown hooks. Maybe there&#39;s something in the hooks that cause issues? Dunno if some native debugger might be useful to get further information, or look at OS logs to see if there&#39;s something about it."},{"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"score":0,"creation_date":1694151550,"post_id":77064315,"comment_id":135856175,"body_markdown":"@Kayaman  Agreed.  The SIGTERM tells the process to start the shutdown procedure.  Unfortunately, something kills the process instead of letting the shutdown procedure begin.  It&#39;s been a long time since I used a native debugger.  That seems daunting since I figure I would need to build a JVM.  I am not sure what Windows or Linux log file to look at.","body":"@Kayaman  Agreed.  The SIGTERM tells the process to start the shutdown procedure.  Unfortunately, something kills the process instead of letting the shutdown procedure begin.  It&#39;s been a long time since I used a native debugger.  That seems daunting since I figure I would need to build a JVM.  I am not sure what Windows or Linux log file to look at."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1694152340,"post_id":77064315,"comment_id":135856274,"body_markdown":"What&#39;s the exit code of the complex server when stopped with SIGTERM?","body":"What&#39;s the exit code of the complex server when stopped with SIGTERM?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1694152593,"post_id":77064315,"comment_id":135856300,"body_markdown":"You can run the complex server under the debugger and put a breakpoint in `Runtime.halt`, just in case something is calling that.","body":"You can run the complex server under the debugger and put a breakpoint in <code>Runtime.halt</code>, just in case something is calling that."},{"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"score":0,"creation_date":1694442394,"post_id":77064315,"comment_id":135887902,"body_markdown":"@tgdavies The exit code is 143. I put a breakpoint on Runtime.halt() and java.lang.Shutdown.halt(). Neither of them are hit.  I left the breakpoint there and ran another program.  Both breakpoints are hit.","body":"@tgdavies The exit code is 143. I put a breakpoint on Runtime.halt() and java.lang.Shutdown.halt(). Neither of them are hit.  I left the breakpoint there and ran another program.  Both breakpoints are hit."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1694470238,"post_id":77064315,"comment_id":135892557,"body_markdown":"I think you need to make sure that you are running them both in *exactly* the same way, and start to make one more like the other until you find out what&#39;s happening.","body":"I think you need to make sure that you are running them both in <i>exactly</i> the same way, and start to make one more like the other until you find out what&#39;s happening."}],"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694150552,"creation_date":1694150552,"question_id":77064315,"body_markdown":"A simple Java program catches `kill -SIGTERM` and starts the JVM shutdown hooks (i.e., `Runtime.addShutdownHook()`).  When the hooks complete, the JVM shuts down cleanly.\r\n\r\nA simple Helidon server has a JVM shutdown hook to ensure the `CDI` shuts down cleanly.  Netty stops listening.  I have `@BeforeDestroyed`, `@Destroyed`, and JVM shutdown hooks that simply log a message.  The hooks log and complete.  The server and JVM shut down cleanly.\r\n\r\nI have a much more complex Helidon server.  I have code that monitors for a special delete file.  When I create the delete file, the code detects the file and initiates the shutdown.  I see log messages from Netty, `@BeforeDestroyed`, `@Destroyed`, and the JVM shutdown hooks.  The server and JVM shut down cleanly.  The shutdown takes 1.011 seconds.\r\n\r\nWhen I send `kill -SIGTERM` to the complex Helidon server, the server stops abruptly.  Netty does not shut down.  The hooks are not called.  The server exits within milliseconds.\r\n\r\nHow do I debug why the server exits abruptly?  What could cause the server to exit abruptly upon receiving a `SIGTERM`?\r\n\r\nI can reproduce this problem on Windows (with Cygwin&#39;s kill) and Linux.","title":"How to Debug a SIGTERM that Causes Abrupt Helidon Server Shutdown","body":"<p>A simple Java program catches <code>kill -SIGTERM</code> and starts the JVM shutdown hooks (i.e., <code>Runtime.addShutdownHook()</code>).  When the hooks complete, the JVM shuts down cleanly.</p>\n<p>A simple Helidon server has a JVM shutdown hook to ensure the <code>CDI</code> shuts down cleanly.  Netty stops listening.  I have <code>@BeforeDestroyed</code>, <code>@Destroyed</code>, and JVM shutdown hooks that simply log a message.  The hooks log and complete.  The server and JVM shut down cleanly.</p>\n<p>I have a much more complex Helidon server.  I have code that monitors for a special delete file.  When I create the delete file, the code detects the file and initiates the shutdown.  I see log messages from Netty, <code>@BeforeDestroyed</code>, <code>@Destroyed</code>, and the JVM shutdown hooks.  The server and JVM shut down cleanly.  The shutdown takes 1.011 seconds.</p>\n<p>When I send <code>kill -SIGTERM</code> to the complex Helidon server, the server stops abruptly.  Netty does not shut down.  The hooks are not called.  The server exits within milliseconds.</p>\n<p>How do I debug why the server exits abruptly?  What could cause the server to exit abruptly upon receiving a <code>SIGTERM</code>?</p>\n<p>I can reproduce this problem on Windows (with Cygwin's kill) and Linux.</p>\n"},{"tags":["java","mariadb","testcontainers"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694000689,"post_id":77051534,"comment_id":135833025,"body_markdown":"Localhost might be bound to the loopback address (in IP4 127.0.0.1) which is not meant to be routeable, i.e. only valid on the box on which it&#39;s running. You should bind it to the LAN IP address if you want to communicate between boxes on the same LAN","body":"Localhost might be bound to the loopback address (in IP4 127.0.0.1) which is not meant to be routeable, i.e. only valid on the box on which it&#39;s running. You should bind it to the LAN IP address if you want to communicate between boxes on the same LAN"},{"owner":{"account_id":18215536,"reputation":15,"user_id":13257273,"display_name":"sally"},"score":0,"creation_date":1694001011,"post_id":77051534,"comment_id":135833087,"body_markdown":"@g00se how do you bind a test container to a LAN IP address?","body":"@g00se how do you bind a test container to a LAN IP address?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694001410,"post_id":77051534,"comment_id":135833157,"body_markdown":"No idea - I don&#39;t use that software, but it looks like you&#39;re doing host configuration, in which case you need to change the way you do it","body":"No idea - I don&#39;t use that software, but it looks like you&#39;re doing host configuration, in which case you need to change the way you do it"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694001862,"post_id":77051534,"comment_id":135833238,"body_markdown":"I would take the precaution of making sure my &#39;theory&#39; is correct first, using, e.g. `netstat`","body":"I would take the precaution of making sure my &#39;theory&#39; is correct first, using, e.g. <code>netstat</code>"},{"owner":{"account_id":18215536,"reputation":15,"user_id":13257273,"display_name":"sally"},"score":0,"creation_date":1694002969,"post_id":77051534,"comment_id":135833511,"body_markdown":"i donot do host configuration, i  have 2 test containers which cannot see eachother on localhost eventhough they are in same network ...","body":"i donot do host configuration, i  have 2 test containers which cannot see eachother on localhost eventhough they are in same network ..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694003108,"post_id":77051534,"comment_id":135833547,"body_markdown":"So what&#39;s this then? *.withHostConfig(new HostConfig()...*","body":"So what&#39;s this then? <i>.withHostConfig(new HostConfig()...</i>"},{"owner":{"account_id":18215536,"reputation":15,"user_id":13257273,"display_name":"sally"},"score":0,"creation_date":1694007133,"post_id":77051534,"comment_id":135834565,"body_markdown":"hmm. good question :D i modified it and removed the hostconfig but I still have the same issue.","body":"hmm. good question :D i modified it and removed the hostconfig but I still have the same issue."}],"answers":[{"tags":[],"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694150507,"creation_date":1694150507,"answer_id":77064311,"question_id":77051534,"body_markdown":"The MariaDB container port `3306` will be mapped to a random free port on your host, also see [this section](https://java.testcontainers.org/features/networking/#exposing-container-ports-to-the-host) in the official Testcontainers docs regarding networking between host and container.\r\n\r\nTo access the port after the container has started, use the following methods:\r\n``` Java\r\n// access port\r\nmariadb.getFirstMappedPort();\r\n\r\n// get full JDBC URL\r\nmariadb.getJDBCUrl();\r\n```\r\n\r\nSince you are using the `MariaDBContainer` module, you don&#39;t need to use \r\n`withExpostedPorts()`, it is already auto-configured.\r\n\r\nFurthermore, I am unsure what you are trying to achieve here, you should remove this code:\r\n```\r\nmariadb.setPortBindings(Collections.singletonList(mariadb.getMappedPort(3306) +&quot;:3306&quot;));\r\n```\r\n\r\nFor networking between containers, please check [this part](https://java.testcontainers.org/features/networking/#advanced-networking) of the docs.","title":"mariadb testcontainer not exposed to localhost","body":"<p>The MariaDB container port <code>3306</code> will be mapped to a random free port on your host, also see <a href=\"https://java.testcontainers.org/features/networking/#exposing-container-ports-to-the-host\" rel=\"nofollow noreferrer\">this section</a> in the official Testcontainers docs regarding networking between host and container.</p>\n<p>To access the port after the container has started, use the following methods:</p>\n<pre><code>// access port\nmariadb.getFirstMappedPort();\n\n// get full JDBC URL\nmariadb.getJDBCUrl();\n</code></pre>\n<p>Since you are using the <code>MariaDBContainer</code> module, you don't need to use\n<code>withExpostedPorts()</code>, it is already auto-configured.</p>\n<p>Furthermore, I am unsure what you are trying to achieve here, you should remove this code:</p>\n<pre><code>mariadb.setPortBindings(Collections.singletonList(mariadb.getMappedPort(3306) +&quot;:3306&quot;));\n</code></pre>\n<p>For networking between containers, please check <a href=\"https://java.testcontainers.org/features/networking/#advanced-networking\" rel=\"nofollow noreferrer\">this part</a> of the docs.</p>\n"}],"owner":{"account_id":18215536,"reputation":15,"user_id":13257273,"display_name":"sally"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77064311,"answer_count":1,"score":0,"last_activity_date":1694150507,"creation_date":1694000318,"question_id":77051534,"body_markdown":"I have created the following mariadb testcontainer \r\n\r\n    @Container\r\n    private static final @NotNull MariaDBContainer&lt;?&gt; mariadb = getMariaDBTestContainer(network);\r\n\r\n    private static MariaDBContainer&lt;?&gt; getMariaDBTestContainer(Network network) {\r\n\r\n        MariaDBContainer mariadb = new MariaDBContainer&lt;&gt;(DockerImageName.parse(&quot;mariadb&quot;).withTag(&quot;10.5.8&quot;))\r\n                .withDatabaseName(&quot;db&quot;)\r\n                .withUsername(&quot;user&quot;)\r\n                .withPassword(&quot;pw&quot;)\r\n                .withInitScript(&quot;database.sql&quot;)\r\n                .withNetwork(network)\r\n                .withNetworkAliases(&quot;mariadb&quot;)\r\n                .withExposedPorts(3306)\r\n        \r\n        ;\r\n        mariadb.start();\r\n        mariadb.setPortBindings(Collections.singletonList(mariadb.getMappedPort(3306) +&quot;:3306&quot;));\r\n        return mariadb;\r\n    }\r\n\r\n\r\n\r\nI verified that \r\n\r\nmariadb.gethost() == &quot;localhost&quot;\r\nand \r\nmariadb.getMappedPort(3306) == 3306\r\n\r\n\r\nafter loading the test container however, I can reach the mariadb shell from anothe container in the same network by using mariadb container id but not via localhost. This commmand gives me mariadb shell \r\n\r\n `mariadb --host &lt;MARIADBCONTAINER_NAME&gt; --port 3306 --user user --password`\r\n\r\nbut this command \r\n`mariadb --host localhost --port 3306 --user user --password`\r\nsays \r\n`ERROR 2002 (HY000): Can&#39;t connect to server on &#39;localhost&#39; (99)`\r\n\r\n\r\ni wonder why localhost cannot connect to the mariadbshell\r\n","title":"mariadb testcontainer not exposed to localhost","body":"<p>I have created the following mariadb testcontainer</p>\n<pre><code>@Container\nprivate static final @NotNull MariaDBContainer&lt;?&gt; mariadb = getMariaDBTestContainer(network);\n\nprivate static MariaDBContainer&lt;?&gt; getMariaDBTestContainer(Network network) {\n\n    MariaDBContainer mariadb = new MariaDBContainer&lt;&gt;(DockerImageName.parse(&quot;mariadb&quot;).withTag(&quot;10.5.8&quot;))\n            .withDatabaseName(&quot;db&quot;)\n            .withUsername(&quot;user&quot;)\n            .withPassword(&quot;pw&quot;)\n            .withInitScript(&quot;database.sql&quot;)\n            .withNetwork(network)\n            .withNetworkAliases(&quot;mariadb&quot;)\n            .withExposedPorts(3306)\n    \n    ;\n    mariadb.start();\n    mariadb.setPortBindings(Collections.singletonList(mariadb.getMappedPort(3306) +&quot;:3306&quot;));\n    return mariadb;\n}\n</code></pre>\n<p>I verified that</p>\n<p>mariadb.gethost() == &quot;localhost&quot;\nand\nmariadb.getMappedPort(3306) == 3306</p>\n<p>after loading the test container however, I can reach the mariadb shell from anothe container in the same network by using mariadb container id but not via localhost. This commmand gives me mariadb shell</p>\n<p><code>mariadb --host &lt;MARIADBCONTAINER_NAME&gt; --port 3306 --user user --password</code></p>\n<p>but this command\n<code>mariadb --host localhost --port 3306 --user user --password</code>\nsays\n<code>ERROR 2002 (HY000): Can't connect to server on 'localhost' (99)</code></p>\n<p>i wonder why localhost cannot connect to the mariadbshell</p>\n"},{"tags":["java","excel","charts","apache-poi","pie-chart"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1694150144,"creation_date":1551202527,"answer_id":54891166,"question_id":54885970,"body_markdown":"Derived from the chart examples in https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/usermodel/ here is a `PieChart` example using the `XDDF` stuff:\r\n\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.xddf.usermodel.chart.LegendPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFPieChartData;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFClientAnchor;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    \r\n    public class PieChart {\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n          XSSFSheet sheet = wb.createSheet(&quot;piechart&quot;);\r\n          final int NUM_OF_ROWS = 2;\r\n          final int NUM_OF_COLUMNS = 10;\r\n    \r\n          // Create a row and put some cells in it. Rows are 0 based.\r\n          Row row;\r\n          Cell cell;\r\n          for (int rowIndex = 0; rowIndex &lt; NUM_OF_ROWS; rowIndex++) {\r\n            row = sheet.createRow((short) rowIndex);\r\n            for (int colIndex = 0; colIndex &lt; NUM_OF_COLUMNS; colIndex++) {\r\n              cell = row.createCell((short) colIndex);\r\n              if (rowIndex == 0) cell.setCellValue(&quot;Cat &quot; + (colIndex + 1));\r\n              else cell.setCellValue((colIndex + 1) * (rowIndex + 1));\r\n            }\r\n          }\r\n    \r\n          XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n          XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 4, 10, 25);\r\n    \r\n          XSSFChart chart = drawing.createChart(anchor);\r\n          chart.setTitleText(&quot;Pie Chart&quot;);\r\n          chart.setTitleOverlay(false);\r\n          XDDFChartLegend legend = chart.getOrAddLegend();\r\n          legend.setPosition(LegendPosition.TOP_RIGHT);\r\n    \r\n          XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(sheet,\r\n              new CellRangeAddress(0, 0, 0, NUM_OF_COLUMNS - 1));\r\n          XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\r\n              new CellRangeAddress(1, 1, 0, NUM_OF_COLUMNS - 1));\r\n    \r\n          XDDFChartData data = new XDDFPieChartData(chart.getCTChart().getPlotArea().addNewPieChart());\r\n          data.setVaryColors(true);\r\n          data.addSeries(cat, val);\r\n          chart.plot(data);\r\n     \r\n          // Write the output to a file\r\n          try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-pie-chart.xlsx&quot;)) {\r\n            wb.write(fileOut);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n___________________________________________\r\n\r\nThe above is the minimal example using only the `XDDF` stuff. Here is a more extended version which sets data labels and makes the chart visible in `LibreOffice/OpenOffice Calc`. But this needs using the low level `org.openxmlformats.schemas.drawingml.x2006.chart.*` stuff.\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.xddf.usermodel.chart.LegendPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFPieChartData;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFClientAnchor;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\r\n    \r\n    public class PieChart {\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n          XSSFSheet sheet = wb.createSheet(&quot;piechart&quot;);\r\n          final int NUM_OF_ROWS = 2;\r\n          final int NUM_OF_COLUMNS = 10;\r\n    \r\n          // Create a row and put some cells in it. Rows are 0 based.\r\n          Row row;\r\n          Cell cell;\r\n          for (int rowIndex = 0; rowIndex &lt; NUM_OF_ROWS; rowIndex++) {\r\n            row = sheet.createRow((short) rowIndex);\r\n            for (int colIndex = 0; colIndex &lt; NUM_OF_COLUMNS; colIndex++) {\r\n              cell = row.createCell((short) colIndex);\r\n              if (rowIndex == 0) cell.setCellValue(&quot;Cat &quot; + (colIndex + 1));\r\n              else cell.setCellValue((colIndex + 1) * (rowIndex + 1));\r\n            }\r\n          }\r\n    \r\n          XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n          XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 4, 10, 25);\r\n    \r\n          XSSFChart chart = drawing.createChart(anchor);\r\n          chart.setTitleText(&quot;Pie Chart&quot;);\r\n          chart.setTitleOverlay(false);\r\n          XDDFChartLegend legend = chart.getOrAddLegend();\r\n          legend.setPosition(LegendPosition.TOP_RIGHT);\r\n    \r\n          XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(sheet,\r\n              new CellRangeAddress(0, 0, 0, NUM_OF_COLUMNS - 1));\r\n          XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\r\n              new CellRangeAddress(1, 1, 0, NUM_OF_COLUMNS - 1));\r\n    \r\n          XDDFChartData data = new XDDFPieChartData(chart.getCTChart().getPlotArea().addNewPieChart());\r\n          data.setVaryColors(true);\r\n          XDDFChartData.Series series = data.addSeries(cat, val);\r\n          chart.plot(data);\r\n    \r\n          // Add data labels\r\n          if (!chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).isSetDLbls()) \r\n            chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).addNewDLbls();\r\n          chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDLbls()\r\n            .addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.OUT_END);\r\n          chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDLbls()\r\n            .addNewShowLegendKey().setVal(true);\r\n          chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDLbls()\r\n            .addNewShowPercent().setVal(true);\r\n    \r\n          // Do not auto delete the title; is necessary for showing title in Calc\r\n          if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\r\n          chart.getCTChart().getAutoTitleDeleted().setVal(false);\r\n    \r\n          // Data point colors; is necessary for showing data points in Calc\r\n          int pointCount = series.getCategoryData().getPointCount(); \r\n          for (int p = 0; p &lt; pointCount; p++) {\r\n            chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n            chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDPtArray(p)\r\n              .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\r\n          }\r\n     \r\n          // Write the output to a file\r\n          try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-pie-chart.xlsx&quot;)) {\r\n            wb.write(fileOut);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nThis code needs the full jar of all of the schemas `ooxml-schemas-1.4.jar` as mentioned in [FAQ-N10025](https://poi.apache.org/help/faq.html#faq-N10025).\r\n_________________________\r\nSince version `apache poi 4.1.1` creation of the `XDDFChartData data` must be changed like:\r\n\r\n    ...\r\n    import org.apache.poi.xddf.usermodel.chart.ChartTypes;\r\n    ...\r\n    //XDDFChartData data = new XDDFPieChartData(chart.getCTChart().getPlotArea().addNewPieChart());\r\n    XDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\r\n    ...\r\n\r\n____________________________________________________\r\n\r\nSince version `apache poi 5.0.0` the full jar of all of the schemas is `poi-ooxml-full.jar` as mentioned in [FAQ-N10025](https://poi.apache.org/help/faq.html#faq-N10025).\r\n\r\n________________________________________\r\n\r\n\r\nHow to use the the low level `org.openxmlformats.schemas.drawingml.x2006.chart.*` classes?\r\n\r\nUnfortunately there is no API documentation online available. But we need this. So we need downloading the sources of used `ooxml-schemas-*.jar` (up to Apache PPOI 4) or `poi-ooxml-full jar` (since Apache POI 5). Then we can create a API documentation using `javadoc`.\r\n\r\nAll Office Open XML files, so also `*.xlsx`, are simply ZIP archives. So one can unzip a `*.xlsx` file using a ZIP application (7-Zip can do that for example). Then we can have a look into the internals.\r\n\r\nTo find out what to do for charts in `*.xlsx` when high level classes of Apache POI lack support for something, do the folowing:\r\n\r\nCreate a `*.xlsx` having a chart using what Apache POI provides. Then unzip that `*.xlsx` and show the content of `xl/chart/chart*.xml`. Then open that `*.xlsx`  in Excel GUI and do what you want to do additionally. Then save. Then unzip that `*.xlsx` and show the content of `xl/chart/chart*.xml`. Now compare what has changed in XML. Now the need is to recreate those changes using code. \r\n\r\nAt first try to understand what `org.openxmlformats.schemas.drawingml.x2006.chart.*` classes needed. In XML the elements most are *C*omplex*T*ypes. So if you find an element `chart` in XML the correspondig class is `CTChart`. An XML elemernt `plotArea` is `CTPlotArea`. XML `pieChart` is `CTPieChart` and so on.\r\n\r\nKnowing this and having created the API documentation using javadoc, one should be able to figure out which methods of which classes to use to create what is required.\r\n","title":"how to generate piechart using apache poi 4.0 XDDFChartData, XDDFPieChartData; in excel sheet using java, i dont want to use jfree","body":"<p>Derived from the chart examples in <a href=\"https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/usermodel/\" rel=\"nofollow noreferrer\">https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/usermodel/</a> here is a <code>PieChart</code> example using the <code>XDDF</code> stuff:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFPieChartData;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\n\npublic class PieChart {\n\n  public static void main(String[] args) throws IOException {\n    try (XSSFWorkbook wb = new XSSFWorkbook()) {\n      XSSFSheet sheet = wb.createSheet(&quot;piechart&quot;);\n      final int NUM_OF_ROWS = 2;\n      final int NUM_OF_COLUMNS = 10;\n\n      // Create a row and put some cells in it. Rows are 0 based.\n      Row row;\n      Cell cell;\n      for (int rowIndex = 0; rowIndex &lt; NUM_OF_ROWS; rowIndex++) {\n        row = sheet.createRow((short) rowIndex);\n        for (int colIndex = 0; colIndex &lt; NUM_OF_COLUMNS; colIndex++) {\n          cell = row.createCell((short) colIndex);\n          if (rowIndex == 0) cell.setCellValue(&quot;Cat &quot; + (colIndex + 1));\n          else cell.setCellValue((colIndex + 1) * (rowIndex + 1));\n        }\n      }\n\n      XSSFDrawing drawing = sheet.createDrawingPatriarch();\n      XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 4, 10, 25);\n\n      XSSFChart chart = drawing.createChart(anchor);\n      chart.setTitleText(&quot;Pie Chart&quot;);\n      chart.setTitleOverlay(false);\n      XDDFChartLegend legend = chart.getOrAddLegend();\n      legend.setPosition(LegendPosition.TOP_RIGHT);\n\n      XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(sheet,\n          new CellRangeAddress(0, 0, 0, NUM_OF_COLUMNS - 1));\n      XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\n          new CellRangeAddress(1, 1, 0, NUM_OF_COLUMNS - 1));\n\n      XDDFChartData data = new XDDFPieChartData(chart.getCTChart().getPlotArea().addNewPieChart());\n      data.setVaryColors(true);\n      data.addSeries(cat, val);\n      chart.plot(data);\n \n      // Write the output to a file\n      try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-pie-chart.xlsx&quot;)) {\n        wb.write(fileOut);\n      }\n    }\n  }\n}\n</code></pre>\n<hr />\n<p>The above is the minimal example using only the <code>XDDF</code> stuff. Here is a more extended version which sets data labels and makes the chart visible in <code>LibreOffice/OpenOffice Calc</code>. But this needs using the low level <code>org.openxmlformats.schemas.drawingml.x2006.chart.*</code> stuff.</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFPieChartData;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\n\npublic class PieChart {\n\n  public static void main(String[] args) throws IOException {\n    try (XSSFWorkbook wb = new XSSFWorkbook()) {\n      XSSFSheet sheet = wb.createSheet(&quot;piechart&quot;);\n      final int NUM_OF_ROWS = 2;\n      final int NUM_OF_COLUMNS = 10;\n\n      // Create a row and put some cells in it. Rows are 0 based.\n      Row row;\n      Cell cell;\n      for (int rowIndex = 0; rowIndex &lt; NUM_OF_ROWS; rowIndex++) {\n        row = sheet.createRow((short) rowIndex);\n        for (int colIndex = 0; colIndex &lt; NUM_OF_COLUMNS; colIndex++) {\n          cell = row.createCell((short) colIndex);\n          if (rowIndex == 0) cell.setCellValue(&quot;Cat &quot; + (colIndex + 1));\n          else cell.setCellValue((colIndex + 1) * (rowIndex + 1));\n        }\n      }\n\n      XSSFDrawing drawing = sheet.createDrawingPatriarch();\n      XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 4, 10, 25);\n\n      XSSFChart chart = drawing.createChart(anchor);\n      chart.setTitleText(&quot;Pie Chart&quot;);\n      chart.setTitleOverlay(false);\n      XDDFChartLegend legend = chart.getOrAddLegend();\n      legend.setPosition(LegendPosition.TOP_RIGHT);\n\n      XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(sheet,\n          new CellRangeAddress(0, 0, 0, NUM_OF_COLUMNS - 1));\n      XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\n          new CellRangeAddress(1, 1, 0, NUM_OF_COLUMNS - 1));\n\n      XDDFChartData data = new XDDFPieChartData(chart.getCTChart().getPlotArea().addNewPieChart());\n      data.setVaryColors(true);\n      XDDFChartData.Series series = data.addSeries(cat, val);\n      chart.plot(data);\n\n      // Add data labels\n      if (!chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).isSetDLbls()) \n        chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).addNewDLbls();\n      chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDLbls()\n        .addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.OUT_END);\n      chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDLbls()\n        .addNewShowLegendKey().setVal(true);\n      chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDLbls()\n        .addNewShowPercent().setVal(true);\n\n      // Do not auto delete the title; is necessary for showing title in Calc\n      if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\n      chart.getCTChart().getAutoTitleDeleted().setVal(false);\n\n      // Data point colors; is necessary for showing data points in Calc\n      int pointCount = series.getCategoryData().getPointCount(); \n      for (int p = 0; p &lt; pointCount; p++) {\n        chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n        chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDPtArray(p)\n          .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\n      }\n \n      // Write the output to a file\n      try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-pie-chart.xlsx&quot;)) {\n        wb.write(fileOut);\n      }\n    }\n  }\n}\n</code></pre>\n<p>This code needs the full jar of all of the schemas <code>ooxml-schemas-1.4.jar</code> as mentioned in <a href=\"https://poi.apache.org/help/faq.html#faq-N10025\" rel=\"nofollow noreferrer\">FAQ-N10025</a>.</p>\n<hr />\n<p>Since version <code>apache poi 4.1.1</code> creation of the <code>XDDFChartData data</code> must be changed like:</p>\n<pre><code>...\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\n...\n//XDDFChartData data = new XDDFPieChartData(chart.getCTChart().getPlotArea().addNewPieChart());\nXDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\n...\n</code></pre>\n<hr />\n<p>Since version <code>apache poi 5.0.0</code> the full jar of all of the schemas is <code>poi-ooxml-full.jar</code> as mentioned in <a href=\"https://poi.apache.org/help/faq.html#faq-N10025\" rel=\"nofollow noreferrer\">FAQ-N10025</a>.</p>\n<hr />\n<p>How to use the the low level <code>org.openxmlformats.schemas.drawingml.x2006.chart.*</code> classes?</p>\n<p>Unfortunately there is no API documentation online available. But we need this. So we need downloading the sources of used <code>ooxml-schemas-*.jar</code> (up to Apache PPOI 4) or <code>poi-ooxml-full jar</code> (since Apache POI 5). Then we can create a API documentation using <code>javadoc</code>.</p>\n<p>All Office Open XML files, so also <code>*.xlsx</code>, are simply ZIP archives. So one can unzip a <code>*.xlsx</code> file using a ZIP application (7-Zip can do that for example). Then we can have a look into the internals.</p>\n<p>To find out what to do for charts in <code>*.xlsx</code> when high level classes of Apache POI lack support for something, do the folowing:</p>\n<p>Create a <code>*.xlsx</code> having a chart using what Apache POI provides. Then unzip that <code>*.xlsx</code> and show the content of <code>xl/chart/chart*.xml</code>. Then open that <code>*.xlsx</code>  in Excel GUI and do what you want to do additionally. Then save. Then unzip that <code>*.xlsx</code> and show the content of <code>xl/chart/chart*.xml</code>. Now compare what has changed in XML. Now the need is to recreate those changes using code.</p>\n<p>At first try to understand what <code>org.openxmlformats.schemas.drawingml.x2006.chart.*</code> classes needed. In XML the elements most are <em>C</em>omplex<em>T</em>ypes. So if you find an element <code>chart</code> in XML the correspondig class is <code>CTChart</code>. An XML elemernt <code>plotArea</code> is <code>CTPlotArea</code>. XML <code>pieChart</code> is <code>CTPieChart</code> and so on.</p>\n<p>Knowing this and having created the API documentation using javadoc, one should be able to figure out which methods of which classes to use to create what is required.</p>\n"},{"tags":[],"owner":{"account_id":384882,"reputation":382,"user_id":741689,"display_name":"Gardella Juan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578599982,"creation_date":1578599982,"answer_id":59671290,"question_id":54885970,"body_markdown":"Also, as this answer is what shows google, I would like to add that the options mentioned at `org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.OUT_END` maps to the options available at &quot;Format Data Labels&quot; in excel (or see https://www.youtube.com/watch?v=y85DOG5FOVc). To open that, right click on the chart to show that menu option. That is useful if you want to hide some data. By default show almost everything. For example, to show only the value data:\r\n\r\n              dLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.BEST_FIT);\r\n              dLbls.addNewShowLegendKey().setVal(false);\r\n              dLbls.addNewShowPercent().setVal(false);\r\n              dLbls.addNewShowCatName().setVal(false);\r\n              dLbls.addNewShowSerName().setVal(false);\r\n              dLbls.addNewShowVal().setVal(true);\r\n              dLbls.addNewShowLeaderLines().setVal(false); \r\n\r\n","title":"how to generate piechart using apache poi 4.0 XDDFChartData, XDDFPieChartData; in excel sheet using java, i dont want to use jfree","body":"<p>Also, as this answer is what shows google, I would like to add that the options mentioned at <code>org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.OUT_END</code> maps to the options available at \"Format Data Labels\" in excel (or see <a href=\"https://www.youtube.com/watch?v=y85DOG5FOVc\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=y85DOG5FOVc</a>). To open that, right click on the chart to show that menu option. That is useful if you want to hide some data. By default show almost everything. For example, to show only the value data:</p>\n\n<pre><code>          dLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.BEST_FIT);\n          dLbls.addNewShowLegendKey().setVal(false);\n          dLbls.addNewShowPercent().setVal(false);\n          dLbls.addNewShowCatName().setVal(false);\n          dLbls.addNewShowSerName().setVal(false);\n          dLbls.addNewShowVal().setVal(true);\n          dLbls.addNewShowLeaderLines().setVal(false); \n</code></pre>\n"}],"owner":{"account_id":15413038,"reputation":85,"user_id":11119280,"display_name":"Rajesh Bhardwaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6364,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54891166,"answer_count":2,"score":4,"last_activity_date":1694150144,"creation_date":1551185436,"question_id":54885970,"body_markdown":"I need a sample code in Java, currently I am able to draw line charts after reading values from sheet, and I also want to generate pie chart.\r\n\r\nExample code I have tried which is for ``.ppt`` format.\r\n\r\nI want the same in excel for pie chart in java.\r\n\r\n    String[] categories = listCategories.toArray(new String[listCategories.size()]);\r\n    Double[] values = listValues.toArray(new Double[listValues.size()]);\r\n\r\n    final int numOfPoints = categories.length;\r\n    final String categoryDataRange = chart.formatRange(new CellRangeAddress(1, numOfPoints, 0, 0));\r\n    final String valuesDataRange = chart.formatRange(new CellRangeAddress(1, numOfPoints, 1, 1));\r\n    final XDDFDataSource&lt;?&gt; categoriesData = XDDFDataSourcesFactory.fromArray(categories, categoryDataRange);\r\n    final XDDFNumericalDataSource&lt;? extends Number&gt; valuesData = XDDFDataSourcesFactory.fromArray(values, valuesDataRange);\r\n\r\n    XDDFPieChartData.Series firstSeries = (XDDFPieChartData.Series) pie.getSeries().get(0);\r\n    firstSeries.replaceData(categoriesData, valuesData);\r\n    firstSeries.setTitle(chartTitle, chart.setSheetTitle(chartTitle, 0));\r\n    firstSeries.setExplosion(25);\r\n    chart.plot(pie);","title":"how to generate piechart using apache poi 4.0 XDDFChartData, XDDFPieChartData; in excel sheet using java, i dont want to use jfree","body":"<p>I need a sample code in Java, currently I am able to draw line charts after reading values from sheet, and I also want to generate pie chart.</p>\n\n<p>Example code I have tried which is for <code>.ppt</code> format.</p>\n\n<p>I want the same in excel for pie chart in java.</p>\n\n<pre><code>String[] categories = listCategories.toArray(new String[listCategories.size()]);\nDouble[] values = listValues.toArray(new Double[listValues.size()]);\n\nfinal int numOfPoints = categories.length;\nfinal String categoryDataRange = chart.formatRange(new CellRangeAddress(1, numOfPoints, 0, 0));\nfinal String valuesDataRange = chart.formatRange(new CellRangeAddress(1, numOfPoints, 1, 1));\nfinal XDDFDataSource&lt;?&gt; categoriesData = XDDFDataSourcesFactory.fromArray(categories, categoryDataRange);\nfinal XDDFNumericalDataSource&lt;? extends Number&gt; valuesData = XDDFDataSourcesFactory.fromArray(values, valuesDataRange);\n\nXDDFPieChartData.Series firstSeries = (XDDFPieChartData.Series) pie.getSeries().get(0);\nfirstSeries.replaceData(categoriesData, valuesData);\nfirstSeries.setTitle(chartTitle, chart.setSheetTitle(chartTitle, 0));\nfirstSeries.setExplosion(25);\nchart.plot(pie);\n</code></pre>\n"},{"tags":["java","null","tostring"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":6,"creation_date":1579038282,"post_id":59742211,"comment_id":105632774,"body_markdown":"You could just... use the string itself without any util? What are you trying to achieve?","body":"You could just... use the string itself without any util? What are you trying to achieve?"},{"owner":{"account_id":107315,"reputation":10683,"user_id":285417,"accept_rate":88,"display_name":"Wonko the Sane"},"score":0,"creation_date":1579038329,"post_id":59742211,"comment_id":105632793,"body_markdown":"Any problem with `myString == null`?","body":"Any problem with <code>myString == null</code>?"},{"owner":{"account_id":1658694,"reputation":1592,"user_id":1527469,"display_name":"awgtek"},"score":0,"creation_date":1579038393,"post_id":59742211,"comment_id":105632822,"body_markdown":"Sure, but doing a ternary is a lot of code bloat. I thought there would be something in commons akin to `object == null? null : object.toString()` guess I was wrong?","body":"Sure, but doing a ternary is a lot of code bloat. I thought there would be something in commons akin to <code>object == null? null : object.toString()</code> guess I was wrong?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1579038397,"post_id":59742211,"comment_id":105632823,"body_markdown":"@Compass That ternary is a slower way to write `return string;`","body":"@Compass That ternary is a slower way to write <code>return string;</code>"},{"owner":{"account_id":1658694,"reputation":1592,"user_id":1527469,"display_name":"awgtek"},"score":1,"creation_date":1579038474,"post_id":59742211,"comment_id":105632851,"body_markdown":"guess I wasn&#39;t clear, it&#39;s not necessarily a string, it&#39;s any object...","body":"guess I wasn&#39;t clear, it&#39;s not necessarily a string, it&#39;s any object..."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1579038545,"post_id":59742211,"comment_id":105632877,"body_markdown":"You should change the title, which says &quot;... if a **String** is null...&quot;","body":"You should change the title, which says &quot;... if a <b>String</b> is null...&quot;"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1579038551,"post_id":59742211,"comment_id":105632879,"body_markdown":"Objects.toString(s, null)","body":"Objects.toString(s, null)"},{"owner":{"account_id":2182639,"reputation":812,"user_id":1931774,"display_name":"SkateScout"},"score":0,"creation_date":1579038563,"post_id":59742211,"comment_id":105632889,"body_markdown":"The question is neither clear nor is there any use for others. As the comments show it is more than trivial.","body":"The question is neither clear nor is there any use for others. As the comments show it is more than trivial."},{"owner":{"account_id":1658694,"reputation":1592,"user_id":1527469,"display_name":"awgtek"},"score":0,"creation_date":1579038795,"post_id":59742211,"comment_id":105632994,"body_markdown":"I agree, but I was surprised something so common wasn&#39;t placed in, well, Commons...","body":"I agree, but I was surprised something so common wasn&#39;t placed in, well, Commons..."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1579038894,"post_id":59742211,"comment_id":105633021,"body_markdown":"Well, it is. `Objects` is an utility class for pretty much the most common stuff regarding arbitrary objects. And, as shown, it has the utility you want. If that is not enough, you can always create your own helper method.","body":"Well, it is. <code>Objects</code> is an utility class for pretty much the most common stuff regarding arbitrary objects. And, as shown, it has the utility you want. If that is not enough, you can always create your own helper method."}],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1579038709,"creation_date":1579038522,"answer_id":59742259,"question_id":59742211,"body_markdown":"If I understand your problem, you can use that ([`java.util.Objects`][1] is here since JDK7):\r\n\r\n    Objects.toString(s, null); // return null if s is null, s.toString() otherwise\r\n\r\nIn fact, it works for every object.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html","title":"toString but only if not null","body":"<p>If I understand your problem, you can use that (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html\" rel=\"noreferrer\"><code>java.util.Objects</code></a> is here since JDK7):</p>\n\n<pre><code>Objects.toString(s, null); // return null if s is null, s.toString() otherwise\n</code></pre>\n\n<p>In fact, it works for every object.</p>\n"}],"owner":{"account_id":1658694,"reputation":1592,"user_id":1527469,"display_name":"awgtek"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9902,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"accepted_answer_id":59742259,"answer_count":1,"score":8,"last_activity_date":1694149655,"creation_date":1579038215,"question_id":59742211,"body_markdown":"Is there any utility available to easily get the string representation of an arbitrary object if it exists and keep it `null` if it was `null`?\r\n\r\nFor example\r\n\r\n    String result = null;\r\n    if (object != null) {\r\n        result = object.toString();\r\n    }\r\n\r\nbut less verbose.\r\n\r\nI have looked into `ObjectUtils` and `String.valueOf` but neither returns just `null` itself. Both return default strings, i.e. the empty string or the string `&quot;null&quot;` instead of just `null`.","title":"toString but only if not null","body":"<p>Is there any utility available to easily get the string representation of an arbitrary object if it exists and keep it <code>null</code> if it was <code>null</code>?</p>\n\n<p>For example</p>\n\n<pre><code>String result = null;\nif (object != null) {\n    result = object.toString();\n}\n</code></pre>\n\n<p>but less verbose.</p>\n\n<p>I have looked into <code>ObjectUtils</code> and <code>String.valueOf</code> but neither returns just <code>null</code> itself. Both return default strings, i.e. the empty string or the string <code>\"null\"</code> instead of just <code>null</code>.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1472500561,"post_id":39213900,"comment_id":65767067,"body_markdown":"Generally you can only add &quot;unattached&quot; items, or have brand new ones created, not sure that an attempt to add a paragraph from a completely different document is going to go very well as there&#39;d be all sorts of references that would break...","body":"Generally you can only add &quot;unattached&quot; items, or have brand new ones created, not sure that an attempt to add a paragraph from a completely different document is going to go very well as there&#39;d be all sorts of references that would break..."}],"answers":[{"tags":[],"owner":{"account_id":4829637,"reputation":6153,"user_id":3898122,"accept_rate":40,"display_name":"Renat Gatin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472515803,"creation_date":1472515803,"answer_id":39216999,"question_id":39213900,"body_markdown":"Found a solution,\r\n\r\n1. I can insert it not after but before current paragraph;\r\n2. Need to copy all runs explicitly\r\n\r\n\r\n\r\n    \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/CPb5G.png","title":"How to insert existing XWPFParagraph into specific location in between other XWPFParagraphs of org.apache.poi.xwpf.usermodel.XWPFDocument?","body":"<p>Found a solution,</p>\n\n<ol>\n<li>I can insert it not after but before current paragraph;</li>\n<li>Need to copy all runs explicitly</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/CPb5G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CPb5G.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":4829637,"reputation":6153,"user_id":3898122,"accept_rate":40,"display_name":"Renat Gatin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1522,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694146328,"creation_date":1472499523,"question_id":39213900,"body_markdown":"Initially I have one DOCX template document. So I get \r\norg.apache.poi.xwpf.usermodel.XWPFDocument out of it and let&#39;s say it has 5 XWPFParagraphs like:\r\n\r\n    &lt;w:document&gt;\r\n      &lt;w:body&gt;\r\n        &lt;w:p&gt; ... &lt;/w:p&gt;\r\n        &lt;w:p&gt; ... &lt;/w:p&gt;\r\n        &lt;w:p&gt; ... &lt;/w:p&gt;\r\n        &lt;w:p&gt; ... &lt;/w:p&gt;\r\n        &lt;w:p&gt; ... &lt;/w:p&gt;\r\n      &lt;/w:body&gt;\r\n    &lt;/w:document&gt;\r\n\r\nThen I grab one XWPFParagraph from another DOCX file and I need to insert it in between 2nd and 3rd XWPFParagraphs of initial document. Like this:\r\n\r\n    &lt;w:document&gt;\r\n      &lt;w:body&gt;\r\n        &lt;w:p&gt; ... &lt;/w:p&gt;\r\n        &lt;w:p&gt; ... &lt;/w:p&gt;\r\n        &lt;w:p&gt; inserted Paragraph  &lt;/w:p&gt;\r\n        &lt;w:p&gt; ... &lt;/w:p&gt;\r\n        &lt;w:p&gt; ... &lt;/w:p&gt;\r\n        &lt;w:p&gt; ... &lt;/w:p&gt;\r\n      &lt;/w:body&gt;\r\n    &lt;/w:document&gt;\r\n\r\nHow can I do it? \r\n\r\nI can say what I tried:\r\n- I tried to use [insertNewParagraph()][1] method, but it seams like it is creating new Paragraph, but I need to insert existing Paragraph that I grab from the other document.\r\n\r\n\tprivate void insertParagraphAfter(XWPFParagraph p1, XWPFParagraph p2) {\r\n\t\tXWPFDocument doc = p1.getDocument();\r\n\t\tXmlCursor cursor = p1.getCTP().newCursor();\r\n\t\tXWPFParagraph newP = doc.insertNewParagraph(cursor);\r\n\t\tnewP = p2;\r\n\t}\r\n\r\nBut it does not seams to be working.\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/org/apache/poi/xwpf/usermodel/XWPFDocument.html#insertNewParagraph(org.apache.xmlbeans.XmlCursor)","title":"How to insert existing XWPFParagraph into specific location in between other XWPFParagraphs of org.apache.poi.xwpf.usermodel.XWPFDocument?","body":"<p>Initially I have one DOCX template document. So I get \norg.apache.poi.xwpf.usermodel.XWPFDocument out of it and let's say it has 5 XWPFParagraphs like:</p>\n\n<pre><code>&lt;w:document&gt;\n  &lt;w:body&gt;\n    &lt;w:p&gt; ... &lt;/w:p&gt;\n    &lt;w:p&gt; ... &lt;/w:p&gt;\n    &lt;w:p&gt; ... &lt;/w:p&gt;\n    &lt;w:p&gt; ... &lt;/w:p&gt;\n    &lt;w:p&gt; ... &lt;/w:p&gt;\n  &lt;/w:body&gt;\n&lt;/w:document&gt;\n</code></pre>\n\n<p>Then I grab one XWPFParagraph from another DOCX file and I need to insert it in between 2nd and 3rd XWPFParagraphs of initial document. Like this:</p>\n\n<pre><code>&lt;w:document&gt;\n  &lt;w:body&gt;\n    &lt;w:p&gt; ... &lt;/w:p&gt;\n    &lt;w:p&gt; ... &lt;/w:p&gt;\n    &lt;w:p&gt; inserted Paragraph  &lt;/w:p&gt;\n    &lt;w:p&gt; ... &lt;/w:p&gt;\n    &lt;w:p&gt; ... &lt;/w:p&gt;\n    &lt;w:p&gt; ... &lt;/w:p&gt;\n  &lt;/w:body&gt;\n&lt;/w:document&gt;\n</code></pre>\n\n<p>How can I do it? </p>\n\n<p>I can say what I tried:\n- I tried to use <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xwpf/usermodel/XWPFDocument.html#insertNewParagraph(org.apache.xmlbeans.XmlCursor)\" rel=\"nofollow\">insertNewParagraph()</a> method, but it seams like it is creating new Paragraph, but I need to insert existing Paragraph that I grab from the other document.</p>\n\n<pre><code>private void insertParagraphAfter(XWPFParagraph p1, XWPFParagraph p2) {\n    XWPFDocument doc = p1.getDocument();\n    XmlCursor cursor = p1.getCTP().newCursor();\n    XWPFParagraph newP = doc.insertNewParagraph(cursor);\n    newP = p2;\n}\n</code></pre>\n\n<p>But it does not seams to be working.</p>\n"},{"tags":["java","java-stream","fork-join"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":4,"creation_date":1694109144,"post_id":77061733,"comment_id":135851482,"body_markdown":"As far as I am aware, there is no `toMap` method in class `Collectors` that has no parameters. Perhaps you are looking for this [toMap](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-) method? `Collectors.toMap(emp -&gt; emp, emp -&gt; empDepartmentResolver.resolve(emp))`","body":"As far as I am aware, there is no <code>toMap</code> method in class <code>Collectors</code> that has no parameters. Perhaps you are looking for this <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\" rel=\"nofollow noreferrer\">toMap</a> method? <code>Collectors.toMap(emp -&gt; emp, emp -&gt; empDepartmentResolver.resolve(emp))</code>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1694110129,"post_id":77061733,"comment_id":135851674,"body_markdown":"What do you mean, &quot;got stuck in applying the parallelism&quot;?  That looks like it should do it as well as anything can, assuming you resolve @Abra&#39;s comment.","body":"What do you mean, &quot;got stuck in applying the parallelism&quot;?  That looks like it should do it as well as anything can, assuming you resolve @Abra&#39;s comment."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1694161402,"post_id":77061733,"comment_id":135857737,"body_markdown":"Takeaway for the future: the [`map` method of the `Stream` interface](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)) has nothing to do with the [`Map` interface](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html).","body":"Takeaway for the future: the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>map</code> method of the <code>Stream</code> interface</a> has nothing to do with the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code> interface</a>."}],"answers":[{"tags":[],"owner":{"account_id":9790557,"reputation":85,"user_id":10217464,"display_name":"Plus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694145273,"creation_date":1694145273,"answer_id":77064044,"question_id":77061733,"body_markdown":"As @Abra mentioned, you need to pass parameters to define how the Map should be created. You could try this code below:\r\n\r\n```\r\nMap&lt;Employee, EmployeeDeptMap&gt; map = empList\r\n        .parallelStream()\r\n        .collect(Collectors.toMap(Function.identity(), empDepartmentResolver::resolve));\r\n```","title":"java usage of parallelStream resulting into map","body":"<p>As @Abra mentioned, you need to pass parameters to define how the Map should be created. You could try this code below:</p>\n<pre><code>Map&lt;Employee, EmployeeDeptMap&gt; map = empList\n        .parallelStream()\n        .collect(Collectors.toMap(Function.identity(), empDepartmentResolver::resolve));\n</code></pre>\n"}],"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694146310,"creation_date":1694108069,"question_id":77061733,"body_markdown":"I have a single threaded code as follows :\r\n\r\n    private Map&lt;Employee, EmployeeDeptMap&gt; empToEmpDept(List&lt;Employee&gt; empList) {\r\n        Map&lt;Employee, EmployeeDeptMap&gt; map = new HashMap&lt;&gt;();\r\n        for (Employee emp : empList) {\r\n            map.put(emp, empDepartmentResolver.resolve(emp));\r\n        }\r\n        return map;\r\n    }\r\n\r\nHere the code is sequentially traversing over the employee list and mapping department for each employee on basis of some rules which are abstract defined.\r\n\r\nThe requirement here is I want to run it in parallel so that multiple department resolution can happen in parallel and save time. \r\n\r\nThe list is quite big in size. \r\n\r\nI tried with following piece of code but got stuck in applying the parallelism there \r\n\r\n    empList.parallelStream()\r\n           .map(emp-&gt; empDepartmentResolver.resolve(emp))\r\n           .collect(Collectors.toMap())\r\n\r\nAny suggestions what will be best way here to resolve them in parallel.\r\n","title":"java usage of parallelStream resulting into map","body":"<p>I have a single threaded code as follows :</p>\n<pre><code>private Map&lt;Employee, EmployeeDeptMap&gt; empToEmpDept(List&lt;Employee&gt; empList) {\n    Map&lt;Employee, EmployeeDeptMap&gt; map = new HashMap&lt;&gt;();\n    for (Employee emp : empList) {\n        map.put(emp, empDepartmentResolver.resolve(emp));\n    }\n    return map;\n}\n</code></pre>\n<p>Here the code is sequentially traversing over the employee list and mapping department for each employee on basis of some rules which are abstract defined.</p>\n<p>The requirement here is I want to run it in parallel so that multiple department resolution can happen in parallel and save time.</p>\n<p>The list is quite big in size.</p>\n<p>I tried with following piece of code but got stuck in applying the parallelism there</p>\n<pre><code>empList.parallelStream()\n       .map(emp-&gt; empDepartmentResolver.resolve(emp))\n       .collect(Collectors.toMap())\n</code></pre>\n<p>Any suggestions what will be best way here to resolve them in parallel.</p>\n"},{"tags":["java","spring","fortify"],"comments":[{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":0,"creation_date":1539348172,"post_id":52775798,"comment_id":92481098,"body_markdown":"Have your peers review your code and if they agree then flag the warning as a false positive. Static scanners can be useful but too often they just spew so many false positives that real issues get missed.","body":"Have your peers review your code and if they agree then flag the warning as a false positive. Static scanners can be useful but too often they just spew so many false positives that real issues get missed."}],"answers":[{"tags":[],"owner":{"account_id":5094001,"reputation":592,"user_id":4086042,"display_name":"SPoint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539855805,"creation_date":1539855805,"answer_id":52871282,"question_id":52775798,"body_markdown":"this is FalsePositive from your SAST Scanner","title":"How to fix &quot;Server-Side Request Forgery&quot; issue in spring restTemplate","body":"<p>this is FalsePositive from your SAST Scanner</p>\n"},{"tags":[],"owner":{"account_id":4727308,"reputation":6439,"user_id":3823831,"display_name":"TheGreatContini"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1539896104,"creation_date":1539896104,"answer_id":52882433,"question_id":52775798,"body_markdown":"[SSRF](https://www.hackerone.com/blog-How-To-Server-Side-Request-Forgery-SSRF) is exploited by an attacker controlling an outgoing request that the server is making.  If `uri` is indeed hard-coded, then the attacker has no ability to influence where the request is going, so it would indeed look to be a false positive.  However, although Fortify is known for false positives, I have not seen it make that type of mistake (i.e. claimed SSRF despite a hard-coded URI), so I am a bit surprised to hear it.  Have you checked the whole source-to-sink trace that Fortify provides?  If it is reporting only that one line as the source and sink, then yes it is a false positive.  If there is more, then it would be helpful if you provided the full trace. ","title":"How to fix &quot;Server-Side Request Forgery&quot; issue in spring restTemplate","body":"<p><a href=\"https://www.hackerone.com/blog-How-To-Server-Side-Request-Forgery-SSRF\" rel=\"nofollow noreferrer\">SSRF</a> is exploited by an attacker controlling an outgoing request that the server is making.  If <code>uri</code> is indeed hard-coded, then the attacker has no ability to influence where the request is going, so it would indeed look to be a false positive.  However, although Fortify is known for false positives, I have not seen it make that type of mistake (i.e. claimed SSRF despite a hard-coded URI), so I am a bit surprised to hear it.  Have you checked the whole source-to-sink trace that Fortify provides?  If it is reporting only that one line as the source and sink, then yes it is a false positive.  If there is more, then it would be helpful if you provided the full trace. </p>\n"},{"tags":[],"owner":{"account_id":12358760,"reputation":687,"user_id":9013717,"display_name":"Sankar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632317508,"creation_date":1632317508,"answer_id":69285279,"question_id":52775798,"body_markdown":"As TheGreatContini said, uri should not be hard-coded. And also we can use UriComponents to build the URI before do the call.\r\n\r\n    UriComponents uriComponents = UriComponentsBuilder.newInstance()\r\n      .scheme(&quot;http&quot;).host(&quot;www.yourdomain.com&quot;).path(&quot;/yourPath&quot;).build();\r\n\r\nThis will the build the URL for you and fix the Server-Side Request Forgery.","title":"How to fix &quot;Server-Side Request Forgery&quot; issue in spring restTemplate","body":"<p>As TheGreatContini said, uri should not be hard-coded. And also we can use UriComponents to build the URI before do the call.</p>\n<pre><code>UriComponents uriComponents = UriComponentsBuilder.newInstance()\n  .scheme(&quot;http&quot;).host(&quot;www.yourdomain.com&quot;).path(&quot;/yourPath&quot;).build();\n</code></pre>\n<p>This will the build the URL for you and fix the Server-Side Request Forgery.</p>\n"},{"tags":[],"owner":{"account_id":16036243,"reputation":154,"user_id":11573887,"display_name":"Henry Xiloj Herrera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694145953,"creation_date":1694145953,"answer_id":77064076,"question_id":52775798,"body_markdown":"In my case, I get this Server-side request forgery alert in GitHub Code scanning.\r\n\r\nPrevious code I used restTemplate like this:\r\n\r\n    String uri = &quot;https://my_url/{parm1}/product/{parm2}&quot;;\r\n    String finalUri = UriComponentsBuilder.fromHttpUrl(uri)\r\n    \t\t\t\t.queryParam(&quot;name&quot;, &quot;example&quot;)\r\n    \t\t\t\t.buildAndExpand(&quot;paramValue1&quot;, &quot;paramValue2&quot;)\r\n                    .toUriString();\r\n    restTemplate.exchange(finalUri, HttpMethod.GET, entity,\tString.class);\r\n\r\nHowever always get Server-side request forgery from GitHub Code scanning.\r\n\r\nThen I resolved like this:\r\n\r\n    String uri = &quot;https://my_url/{parm1}/product/{parm2}?name={name}&quot;;\r\n    restTemplate.exchange(uri, HttpMethod.GET, entity,\tString.class, &quot;paramValue1&quot;, &quot;paramValue2&quot;, &quot;example&quot;);\r\n\t\r\nThen actual request URL will be:\r\n\r\n    https://my_url/paramValue1/product/paramValue2?name=example\r\n\r\n","title":"How to fix &quot;Server-Side Request Forgery&quot; issue in spring restTemplate","body":"<p>In my case, I get this Server-side request forgery alert in GitHub Code scanning.</p>\n<p>Previous code I used restTemplate like this:</p>\n<pre><code>String uri = &quot;https://my_url/{parm1}/product/{parm2}&quot;;\nString finalUri = UriComponentsBuilder.fromHttpUrl(uri)\n                .queryParam(&quot;name&quot;, &quot;example&quot;)\n                .buildAndExpand(&quot;paramValue1&quot;, &quot;paramValue2&quot;)\n                .toUriString();\nrestTemplate.exchange(finalUri, HttpMethod.GET, entity, String.class);\n</code></pre>\n<p>However always get Server-side request forgery from GitHub Code scanning.</p>\n<p>Then I resolved like this:</p>\n<pre><code>String uri = &quot;https://my_url/{parm1}/product/{parm2}?name={name}&quot;;\nrestTemplate.exchange(uri, HttpMethod.GET, entity,  String.class, &quot;paramValue1&quot;, &quot;paramValue2&quot;, &quot;example&quot;);\n</code></pre>\n<p>Then actual request URL will be:</p>\n<pre><code>https://my_url/paramValue1/product/paramValue2?name=example\n</code></pre>\n"}],"owner":{"account_id":1360484,"reputation":1310,"user_id":1607510,"accept_rate":60,"display_name":"Sandeep Bhardwaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20575,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52882433,"answer_count":4,"score":2,"last_activity_date":1694145953,"creation_date":1539334410,"question_id":52775798,"body_markdown":"Getting &quot;Server-Side Request Forgery&quot; issue in Fortify report while using spring restTemplate.\r\n\r\nI am making a call using restTemplate to some other REST service and passing this url from my controller class.\r\nThe url is hardcoded in my controller and not user-controlled data.\r\n\r\n    HttpEntity&lt;R&gt; response = restTemplate.exchange(uri, HttpMethod.POST, entity,\r\n    parameterizedTypeReference);\r\n\r\nNot sure how to fix this issue.","title":"How to fix &quot;Server-Side Request Forgery&quot; issue in spring restTemplate","body":"<p>Getting \"Server-Side Request Forgery\" issue in Fortify report while using spring restTemplate.</p>\n\n<p>I am making a call using restTemplate to some other REST service and passing this url from my controller class.\nThe url is hardcoded in my controller and not user-controlled data.</p>\n\n<pre><code>HttpEntity&lt;R&gt; response = restTemplate.exchange(uri, HttpMethod.POST, entity,\nparameterizedTypeReference);\n</code></pre>\n\n<p>Not sure how to fix this issue.</p>\n"},{"tags":["java","opengl","lwjgl"],"comments":[{"owner":{"account_id":15352842,"reputation":294,"user_id":11076030,"display_name":"Matt"},"score":0,"creation_date":1695689089,"post_id":77062706,"comment_id":136054968,"body_markdown":"Your drawQuads method doesnt work likely because glBegin and glEnd are depreciated. You need to use buffers now to store vertex information. GL_QUADS primitive is also depreciated, youll need to use GL_TRIANGLE or GL_TRIANGLE_STRIPS to draw quads","body":"Your drawQuads method doesnt work likely because glBegin and glEnd are depreciated. You need to use buffers now to store vertex information. GL_QUADS primitive is also depreciated, youll need to use GL_TRIANGLE or GL_TRIANGLE_STRIPS to draw quads"}],"owner":{"account_id":29390454,"reputation":15,"user_id":22518954,"display_name":"JewishBanana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694145676,"creation_date":1694118966,"question_id":77062706,"body_markdown":"I am trying to switch from using JFrame from a 2D game to using lwjgl for performance reasons. I added lwjgl and I am brand new to using it and the rendering just seems completely broken. I initialize everything properly but when I try to draw a simple rectangle on the screen I use a drawQuads method I found on google and it seems just broken like none of the values do what they are supposed to, I can&#39;t put the x and y coordinates in since the screen seems to render very small values like -0.8 to 0.8 and since I used JFrame I just used the pixel coordinates like 200,400. How do I fix this, what am I doing wrong? This is the main class that renders and ticks everything and right now it just renders a broken rectangle in the render method.\r\n\r\n```\r\nprivate void lwjglInit() {\r\n\t\tGLFWErrorCallback.createPrint(System.err).set();\r\n\t\tif (!glfwInit())\r\n\t\t\tthrow new IllegalStateException(&quot;Unable to initialize GLFW&quot;);\r\n\t\t// Configure GLFW\r\n\t\tglfwDefaultWindowHints(); // optional, the current window hints are already the default\r\n\t\tglfwWindowHint(GLFW_VISIBLE, GLFW_FALSE); // the window will stay hidden after creation\r\n\t\tglfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE); // the window will be resizable\r\n\r\n\t\twindow = glfwCreateWindow(WIDTH, HEIGHT, title, NULL, NULL);\r\n\t\tif ( window == NULL )\r\n\t\t\tthrow new RuntimeException(&quot;Failed to create the GLFW window&quot;);\r\n\r\n\t\t// Setup a key callback. It will be called every time a key is pressed, repeated or released.\r\n\t\tglfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\r\n\t\t\tif ( key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_RELEASE )\r\n\t\t\t\tglfwSetWindowShouldClose(window, true); // We will detect this in the rendering loop\r\n\t\t});\r\n\r\n\t\ttry ( MemoryStack stack = stackPush() ) {\r\n\t\t\tIntBuffer pWidth = stack.mallocInt(1);\r\n\t\t\tIntBuffer pHeight = stack.mallocInt(1);\r\n\r\n\t\t\t// Get the window size passed to glfwCreateWindow\r\n\t\t\tglfwGetWindowSize(window, pWidth, pHeight);\r\n\r\n\t\t\t// Get the resolution of the primary monitor\r\n\t\t\tGLFWVidMode vidmode = glfwGetVideoMode(glfwGetPrimaryMonitor());\r\n\r\n\t\t\t// Center the window\r\n\t\t\tglfwSetWindowPos(\r\n\t\t\t\twindow,\r\n\t\t\t\t(vidmode.width() - pWidth.get(0)) / 2,\r\n\t\t\t\t(vidmode.height() - pHeight.get(0)) / 2\r\n\t\t\t);\r\n\t\t}\r\n\t\tglfwMakeContextCurrent(window);\r\n\t\t// Enable v-sync\r\n\t\tglfwSwapInterval(1);\r\n\t\t// Make the window visible\r\n\t\tglfwShowWindow(window);\r\n\t\t\r\n\t\tGL.createCapabilities();\r\n\t\t\r\n\t\t// Set the clear color\r\n\t\tglClearColor(0.0f, 0.0f, 0.0f, 0.0f);\r\n\t}\r\n\tprivate void init() {\r\n\t\thandler = new Handler();\r\n\t\tinput = new KeyInput();\r\n\t\tnew Camera(0, 0);\r\n\t\tlevel = new Level(this, handler);\r\n\t\thandler.setLevel(level);\r\n\t\tminput = new MouseInput(this);\r\n//\t\tthis.addKeyListener(input);\r\n//\t\tthis.addMouseListener(minput);\r\n//\t\tthis.addMouseMotionListener(minput);\r\n\t\tscreen = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_ARGB);\r\n\t}\r\n\tprivate synchronized void start() {\r\n\t\tif (isRunning)\r\n\t\t\treturn;\r\n\t\tthread = new Thread(this);\r\n\t\tthread.start();\r\n\t\tisRunning = true;\r\n\t}\r\n\tprivate synchronized void stop() {\r\n\t\tif (!(isRunning))\r\n\t\t\treturn;\r\n\t\ttry {\r\n\t\t\tthread.join();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tisRunning = false;\r\n\t\t// Free the window callbacks and destroy the window\r\n\t\tglfwFreeCallbacks(window);\r\n\t\tglfwDestroyWindow(window);\r\n\r\n\t\t// Terminate GLFW and free the error callback\r\n\t\tglfwTerminate();\r\n\t\tglfwSetErrorCallback(null).free();\r\n\t}\r\n\tpublic void run() {\r\n\t\tlwjglInit();\r\n\t\tinit();\r\n\t\t\r\n\t\tlevel.load(&quot;res/levels/default/level1.png&quot;);\r\n\t\t\r\n\t\tlong lastTime = System.nanoTime();\r\n\t\tdouble amountOfTicks = 60.0;\r\n\t\tdouble ns = 1000000000 / amountOfTicks;\r\n\t\tdouble delta = 0;\r\n\t\tlong timer = System.currentTimeMillis();\r\n\t\tint updates = 0;\r\n\t\tint frames = 0;\r\n\t\twhile(isRunning) {\r\n\t\t\tlong now = System.nanoTime();\r\n\t\t\tdelta += (now - lastTime) / ns;\r\n\t\t\tlastTime = now;\r\n\t\t\twhile(delta &gt;= 1) {\r\n\t\t\t\ttick();\r\n\t\t\t\tupdates++;\r\n\t\t\t\tdelta--;\r\n\t\t\t}\r\n\t\t\trender();\r\n\t\t\tframes++;\r\n\t\t\t\t\t\r\n\t\t\tif(System.currentTimeMillis() - timer &gt; 1000) {\r\n\t\t\t\ttimer += 1000;\r\n\t\t\t\tSystem.out.println(&quot;FPS: &quot; + frames + &quot; TICKS: &quot; + updates);\r\n\t\t\t\tframes = 0;\r\n\t\t\t\tupdates = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tstop();\r\n\t}\r\n\tprivate void tick() {\r\n\t\tif (glfwWindowShouldClose(window)) {\r\n\t\t\tisRunning = false;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tglfwPollEvents();\r\n\t\thandler.tick();\r\n\t\tCamera.tick();\r\n\t}\r\n\tprivate void render() {\r\n\t\tglClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\r\n\t\t\r\n\t\tRenderer.drawQuad(-0.7, 0, 0.3, 0.3, 255, 0, 0);\r\n\t\t\r\n\t\tglfwSwapBuffers(window);\r\n        }\r\n```\r\nAnd this is the render method for the drawQuads:\r\n\r\n```\r\n\tpublic static void drawQuad(double x, double y, double width, double height, int red, int green, int blue) {\r\n\t\tGL11.glColor3f(red, green, blue);\r\n\r\n\t\tglBegin(GL_QUADS);\r\n\r\n\t\tglVertex2f((float)-x, (float)y);\r\n\t\tglVertex2f((float)width, (float)y);\r\n\t\tglVertex2f((float)width, (float)-height);\r\n\t\tglVertex2f((float)-x, (float)-height);\r\n\r\n\t\tglEnd();\r\n\t}\r\n```\r\n\r\n\r\n\r\nI try putting different values for x or y and it seems to just stretch the rectangle, if I try to change the width and height it just moves it or stretches it.","title":"Can&#39;t figure out how to render 2D in lwjgl","body":"<p>I am trying to switch from using JFrame from a 2D game to using lwjgl for performance reasons. I added lwjgl and I am brand new to using it and the rendering just seems completely broken. I initialize everything properly but when I try to draw a simple rectangle on the screen I use a drawQuads method I found on google and it seems just broken like none of the values do what they are supposed to, I can't put the x and y coordinates in since the screen seems to render very small values like -0.8 to 0.8 and since I used JFrame I just used the pixel coordinates like 200,400. How do I fix this, what am I doing wrong? This is the main class that renders and ticks everything and right now it just renders a broken rectangle in the render method.</p>\n<pre><code>private void lwjglInit() {\n        GLFWErrorCallback.createPrint(System.err).set();\n        if (!glfwInit())\n            throw new IllegalStateException(&quot;Unable to initialize GLFW&quot;);\n        // Configure GLFW\n        glfwDefaultWindowHints(); // optional, the current window hints are already the default\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE); // the window will stay hidden after creation\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE); // the window will be resizable\n\n        window = glfwCreateWindow(WIDTH, HEIGHT, title, NULL, NULL);\n        if ( window == NULL )\n            throw new RuntimeException(&quot;Failed to create the GLFW window&quot;);\n\n        // Setup a key callback. It will be called every time a key is pressed, repeated or released.\n        glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\n            if ( key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_RELEASE )\n                glfwSetWindowShouldClose(window, true); // We will detect this in the rendering loop\n        });\n\n        try ( MemoryStack stack = stackPush() ) {\n            IntBuffer pWidth = stack.mallocInt(1);\n            IntBuffer pHeight = stack.mallocInt(1);\n\n            // Get the window size passed to glfwCreateWindow\n            glfwGetWindowSize(window, pWidth, pHeight);\n\n            // Get the resolution of the primary monitor\n            GLFWVidMode vidmode = glfwGetVideoMode(glfwGetPrimaryMonitor());\n\n            // Center the window\n            glfwSetWindowPos(\n                window,\n                (vidmode.width() - pWidth.get(0)) / 2,\n                (vidmode.height() - pHeight.get(0)) / 2\n            );\n        }\n        glfwMakeContextCurrent(window);\n        // Enable v-sync\n        glfwSwapInterval(1);\n        // Make the window visible\n        glfwShowWindow(window);\n        \n        GL.createCapabilities();\n        \n        // Set the clear color\n        glClearColor(0.0f, 0.0f, 0.0f, 0.0f);\n    }\n    private void init() {\n        handler = new Handler();\n        input = new KeyInput();\n        new Camera(0, 0);\n        level = new Level(this, handler);\n        handler.setLevel(level);\n        minput = new MouseInput(this);\n//      this.addKeyListener(input);\n//      this.addMouseListener(minput);\n//      this.addMouseMotionListener(minput);\n        screen = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_ARGB);\n    }\n    private synchronized void start() {\n        if (isRunning)\n            return;\n        thread = new Thread(this);\n        thread.start();\n        isRunning = true;\n    }\n    private synchronized void stop() {\n        if (!(isRunning))\n            return;\n        try {\n            thread.join();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        isRunning = false;\n        // Free the window callbacks and destroy the window\n        glfwFreeCallbacks(window);\n        glfwDestroyWindow(window);\n\n        // Terminate GLFW and free the error callback\n        glfwTerminate();\n        glfwSetErrorCallback(null).free();\n    }\n    public void run() {\n        lwjglInit();\n        init();\n        \n        level.load(&quot;res/levels/default/level1.png&quot;);\n        \n        long lastTime = System.nanoTime();\n        double amountOfTicks = 60.0;\n        double ns = 1000000000 / amountOfTicks;\n        double delta = 0;\n        long timer = System.currentTimeMillis();\n        int updates = 0;\n        int frames = 0;\n        while(isRunning) {\n            long now = System.nanoTime();\n            delta += (now - lastTime) / ns;\n            lastTime = now;\n            while(delta &gt;= 1) {\n                tick();\n                updates++;\n                delta--;\n            }\n            render();\n            frames++;\n                    \n            if(System.currentTimeMillis() - timer &gt; 1000) {\n                timer += 1000;\n                System.out.println(&quot;FPS: &quot; + frames + &quot; TICKS: &quot; + updates);\n                frames = 0;\n                updates = 0;\n            }\n        }\n        stop();\n    }\n    private void tick() {\n        if (glfwWindowShouldClose(window)) {\n            isRunning = false;\n            return;\n        }\n        glfwPollEvents();\n        handler.tick();\n        Camera.tick();\n    }\n    private void render() {\n        glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n        \n        Renderer.drawQuad(-0.7, 0, 0.3, 0.3, 255, 0, 0);\n        \n        glfwSwapBuffers(window);\n        }\n</code></pre>\n<p>And this is the render method for the drawQuads:</p>\n<pre><code>    public static void drawQuad(double x, double y, double width, double height, int red, int green, int blue) {\n        GL11.glColor3f(red, green, blue);\n\n        glBegin(GL_QUADS);\n\n        glVertex2f((float)-x, (float)y);\n        glVertex2f((float)width, (float)y);\n        glVertex2f((float)width, (float)-height);\n        glVertex2f((float)-x, (float)-height);\n\n        glEnd();\n    }\n</code></pre>\n<p>I try putting different values for x or y and it seems to just stretch the rectangle, if I try to change the width and height it just moves it or stretches it.</p>\n"},{"tags":["java","recursion","lambda","java-8"],"answers":[{"tags":[],"owner":{"account_id":3169515,"reputation":797,"user_id":2678835,"display_name":"user2678835"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1382020711,"creation_date":1382020711,"answer_id":19429767,"question_id":19429667,"body_markdown":"One solution is to define this function as an INSTANCE attribute.\r\n\r\n    import java.util.function.*;\r\n    public class Test{\r\n\r\n        IntToDoubleFunction fact = x -&gt; { return  ( x == 0)?1:x* fact.applyAsDouble(x-1);};\r\n\r\n        public static void main(String[] args) {\r\n          Test test = new Test();\r\n          test.doIt();\r\n        }\r\n\r\n        public void doIt(){\r\n           System.out.println(&quot;fact(3)=&quot; + fact.applyAsDouble(3));\r\n        }\r\n    }\r\n\r\n","title":"Implement recursive lambda function using Java 8","body":"<p>One solution is to define this function as an INSTANCE attribute.</p>\n\n<pre><code>import java.util.function.*;\npublic class Test{\n\n    IntToDoubleFunction fact = x -&gt; { return  ( x == 0)?1:x* fact.applyAsDouble(x-1);};\n\n    public static void main(String[] args) {\n      Test test = new Test();\n      test.doIt();\n    }\n\n    public void doIt(){\n       System.out.println(\"fact(3)=\" + fact.applyAsDouble(3));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3169515,"reputation":797,"user_id":2678835,"display_name":"user2678835"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382021929,"creation_date":1382021929,"answer_id":19430234,"question_id":19429667,"body_markdown":"Another version using accumulator so that recursion can be optimised.\r\nMoved to Generic interface definition.\r\n\r\n    Function&lt;Integer,Double&gt; facts = x -&gt; { return  ( x == 0)?1:x* facts.apply(x-1);};\r\n    BiFunction&lt;Integer,Double,Double&gt; factAcc= (x,acc) -&gt; { return (x == 0)?acc:factAcc.apply(x- 1,acc*x);};\r\n    Function&lt;Integer,Double&gt; fact = x -&gt; factAcc.apply(x,1.0) ;\r\n\r\n    public static void main(String[] args) {\r\n       Test test = new Test();\r\n       test.doIt();\r\n    }\r\n\r\n     public void doIt(){\r\n\tint val=70;\r\n\tSystem.out.println(&quot;fact(&quot; + val + &quot;)=&quot; + fact.apply(val));\r\n    }\r\n    }","title":"Implement recursive lambda function using Java 8","body":"<p>Another version using accumulator so that recursion can be optimised.\nMoved to Generic interface definition.</p>\n\n<pre><code>Function&lt;Integer,Double&gt; facts = x -&gt; { return  ( x == 0)?1:x* facts.apply(x-1);};\nBiFunction&lt;Integer,Double,Double&gt; factAcc= (x,acc) -&gt; { return (x == 0)?acc:factAcc.apply(x- 1,acc*x);};\nFunction&lt;Integer,Double&gt; fact = x -&gt; factAcc.apply(x,1.0) ;\n\npublic static void main(String[] args) {\n   Test test = new Test();\n   test.doIt();\n}\n\n public void doIt(){\nint val=70;\nSystem.out.println(\"fact(\" + val + \")=\" + fact.apply(val));\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1382087906,"creation_date":1382087906,"answer_id":19445955,"question_id":19429667,"body_markdown":"Local and anonymous classes, as well as lambdas, capture local variables *by value* when they are created. Therefore, it is impossible for them to refer to themselves by capturing a local variable, because the value for pointing to themself does not exist yet at the time they are being created.\r\n\r\nCode in local and anonymous classes can still refer to themselves using `this`. However, `this` in a lambda does not refer to the lambda; it refers to the `this` from the outside scope.\r\n\r\nYou could capture a mutable data structure, like an array, instead:\r\n\r\n    IntToDoubleFunction[] foo = { null };\r\n    foo[0] = x -&gt; { return  ( x == 0)?1:x* foo[0].applyAsDouble(x-1);};\r\n\r\nthough hardly an elegant solution.\r\n","title":"Implement recursive lambda function using Java 8","body":"<p>Local and anonymous classes, as well as lambdas, capture local variables <em>by value</em> when they are created. Therefore, it is impossible for them to refer to themselves by capturing a local variable, because the value for pointing to themself does not exist yet at the time they are being created.</p>\n\n<p>Code in local and anonymous classes can still refer to themselves using <code>this</code>. However, <code>this</code> in a lambda does not refer to the lambda; it refers to the <code>this</code> from the outside scope.</p>\n\n<p>You could capture a mutable data structure, like an array, instead:</p>\n\n<pre><code>IntToDoubleFunction[] foo = { null };\nfoo[0] = x -&gt; { return  ( x == 0)?1:x* foo[0].applyAsDouble(x-1);};\n</code></pre>\n\n<p>though hardly an elegant solution.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1391863277,"creation_date":1391863277,"answer_id":21646085,"question_id":19429667,"body_markdown":"You can define a recursive lambda as an instance or class variable:\r\n\r\n    static DoubleUnaryOperator factorial = x -&gt; x == 0 ? 1\r\n                                              : x * factorial.applyAsDouble(x - 1);\r\n\r\nfor example:\r\n\r\n    class Test {\r\n        static DoubleUnaryOperator factorial = x -&gt; x == 0 ? 1\r\n                                                 : x * factorial.applyAsDouble(x - 1));\r\n        public static void main(String[] args) {\r\n            System.out.println(factorial.applyAsDouble(5));\r\n        }\r\n    }\r\n\r\nprints `120.0`.","title":"Implement recursive lambda function using Java 8","body":"<p>You can define a recursive lambda as an instance or class variable:</p>\n\n<pre><code>static DoubleUnaryOperator factorial = x -&gt; x == 0 ? 1\n                                          : x * factorial.applyAsDouble(x - 1);\n</code></pre>\n\n<p>for example:</p>\n\n<pre><code>class Test {\n    static DoubleUnaryOperator factorial = x -&gt; x == 0 ? 1\n                                             : x * factorial.applyAsDouble(x - 1));\n    public static void main(String[] args) {\n        System.out.println(factorial.applyAsDouble(5));\n    }\n}\n</code></pre>\n\n<p>prints <code>120.0</code>.</p>\n"},{"tags":[],"owner":{"account_id":1810883,"reputation":1413,"user_id":1646982,"display_name":"Danil Gaponov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396559352,"creation_date":1396559352,"answer_id":22849053,"question_id":19429667,"body_markdown":"    public class Main {\r\n        static class Wrapper {\r\n            Function&lt;Integer, Integer&gt; f;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            final Wrapper w = new Wrapper();\r\n            w.f = x -&gt; x == 0 ? 1 : x * w.f.apply(x - 1);\r\n            System.out.println(w.f.apply(10));\r\n        }\r\n    }","title":"Implement recursive lambda function using Java 8","body":"<pre><code>public class Main {\n    static class Wrapper {\n        Function&lt;Integer, Integer&gt; f;\n    }\n\n    public static void main(String[] args) {\n        final Wrapper w = new Wrapper();\n        w.f = x -&gt; x == 0 ? 1 : x * w.f.apply(x - 1);\n        System.out.println(w.f.apply(10));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1334360,"reputation":385,"user_id":1277472,"display_name":"rationalis"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1397020285,"creation_date":1397020285,"answer_id":22953285,"question_id":19429667,"body_markdown":"One way is to write a secondary function, `helper`, which takes a function and a number as arguments, and then write the function you actually want, `fact = helper(helper,x)`.\r\n\r\nLike so:\r\n\r\n    BiFunction&lt;BiFunction, Double, Double&gt; factHelper =\r\n            (f, x) -&gt; (x == 0) ? 1.0 : x*(double)f.apply(f,x-1);\r\n    Function&lt;Double, Double&gt; fact =\r\n            x -&gt; factHelper.apply(factHelper, x);\r\n\r\nThis seems to me to be slightly more elegant than relying on corner case semantics like a closure that captures a reference to a mutable structure, or allowing self-reference with a warning of the possibility of &quot;might not be initialized.&quot;\r\n\r\nStill, it&#39;s not a perfect solution because of Java&#39;s type system -- the generics cannot guarantee that `f`, the argument to `factHelper`, is of the same type as `factHelper` (i.e. same input types and output types), since that would be an infinitely nested generic.\r\n\r\nThus, instead, a safer solution might be:\r\n\r\n    Function&lt;Double, Double&gt; fact = x -&gt; {\r\n        BiFunction&lt;BiFunction, Double, Double&gt; factHelper =\r\n            (f, d) -&gt; (d == 0) ? 1.0 : d*(double)f.apply(f,d-1);\r\n        return factHelper.apply(factHelper, x);\r\n    };\r\n\r\nThe code smell incurred from `factHelper`&#39;s less-than-perfect generic type is now contained (or, dare I say, encapsulated) within the lambda, ensuring that `factHelper` will never be called unknowingly.","title":"Implement recursive lambda function using Java 8","body":"<p>One way is to write a secondary function, <code>helper</code>, which takes a function and a number as arguments, and then write the function you actually want, <code>fact = helper(helper,x)</code>.</p>\n\n<p>Like so:</p>\n\n<pre><code>BiFunction&lt;BiFunction, Double, Double&gt; factHelper =\n        (f, x) -&gt; (x == 0) ? 1.0 : x*(double)f.apply(f,x-1);\nFunction&lt;Double, Double&gt; fact =\n        x -&gt; factHelper.apply(factHelper, x);\n</code></pre>\n\n<p>This seems to me to be slightly more elegant than relying on corner case semantics like a closure that captures a reference to a mutable structure, or allowing self-reference with a warning of the possibility of \"might not be initialized.\"</p>\n\n<p>Still, it's not a perfect solution because of Java's type system -- the generics cannot guarantee that <code>f</code>, the argument to <code>factHelper</code>, is of the same type as <code>factHelper</code> (i.e. same input types and output types), since that would be an infinitely nested generic.</p>\n\n<p>Thus, instead, a safer solution might be:</p>\n\n<pre><code>Function&lt;Double, Double&gt; fact = x -&gt; {\n    BiFunction&lt;BiFunction, Double, Double&gt; factHelper =\n        (f, d) -&gt; (d == 0) ? 1.0 : d*(double)f.apply(f,d-1);\n    return factHelper.apply(factHelper, x);\n};\n</code></pre>\n\n<p>The code smell incurred from <code>factHelper</code>'s less-than-perfect generic type is now contained (or, dare I say, encapsulated) within the lambda, ensuring that <code>factHelper</code> will never be called unknowingly.</p>\n"},{"tags":[],"owner":{"account_id":98263,"reputation":7066,"user_id":266103,"accept_rate":87,"display_name":"shrini1000"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1457037602,"creation_date":1397573538,"answer_id":23087294,"question_id":19429667,"body_markdown":"I don&#39;t have a Java8 compiler handy, so can&#39;t test my answer. But will it work if you define the &#39;fact&#39; variable to be final?\r\n\r\n&lt;pre&gt;&lt;code&gt;&lt;b&gt;final&lt;/b&gt; IntToDoubleFunction fact = x -&gt; {\r\n    return  ( x == 0)?1:x* fact.applyAsDouble(x-1);\r\n};&lt;/code&gt;&lt;/pre&gt;","title":"Implement recursive lambda function using Java 8","body":"<p>I don't have a Java8 compiler handy, so can't test my answer. But will it work if you define the 'fact' variable to be final?</p>\n\n<pre><code><b>final</b> IntToDoubleFunction fact = x -> {\n    return  ( x == 0)?1:x* fact.applyAsDouble(x-1);\n};</code></pre>\n"},{"tags":[],"owner":{"account_id":1463671,"reputation":67,"user_id":1377228,"accept_rate":0,"display_name":"Jerrolds"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628647693,"creation_date":1398178061,"answer_id":23222899,"question_id":19429667,"body_markdown":"The following works but it does seem arcane. \r\n````lang-java\r\nimport java.util.function.Function;\r\n\r\nclass Recursion{\r\n\r\n    Function&lt;Integer,Integer&gt;  factorial_lambda; // The positions of the lambda declaration and initialization must be as is.\r\n\r\n    public static void main(String[] args) {new Recursion();}\r\n\r\n    public Recursion() {\r\n        factorial_lambda=(i)-&gt;{\r\n            if(i==1)\r\n                return 1;\r\n            else\r\n                return i*(factorial_lambda.apply(i-1));\r\n        };\r\n        System.out.println(factorial_lambda.apply(5));\r\n     }\r\n}\r\n\r\n// Output 120\r\n````","title":"Implement recursive lambda function using Java 8","body":"<p>The following works but it does seem arcane.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.Function;\n\nclass Recursion{\n\n    Function&lt;Integer,Integer&gt;  factorial_lambda; // The positions of the lambda declaration and initialization must be as is.\n\n    public static void main(String[] args) {new Recursion();}\n\n    public Recursion() {\n        factorial_lambda=(i)-&gt;{\n            if(i==1)\n                return 1;\n            else\n                return i*(factorial_lambda.apply(i-1));\n        };\n        System.out.println(factorial_lambda.apply(5));\n     }\n}\n\n// Output 120\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4482354,"reputation":21,"user_id":3646097,"display_name":"beck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400319608,"creation_date":1400271588,"answer_id":23703922,"question_id":19429667,"body_markdown":"I heard at the JAX this year, that &quot;lambads do not support recursion&quot;. What is meant with this statement is that the &quot;this&quot; inside the lambda always refer to the surrounding class.\r\n\r\nBut I managed to define - at least how I understand the term &quot;recursion&quot; - a recursive lambda and it goes like that:\r\n\r\n    interface FacInterface {\r\n      int fac(int i);\r\n    }\r\n    public class Recursion {\r\n      static FacInterface f;\r\n      public static void main(String[] args)\r\n      {\r\n        int j = (args.length == 1) ? new Integer(args[0]) : 10;\r\n        f = (i) -&gt; { if ( i == 1) return 1;\r\n          else return i*f.fac( i-1 ); };\r\n        System.out.println( j+ &quot;! = &quot; + f.fac(j));\r\n      }\r\n    }\r\n\r\nSave this inside a file &quot;Recursion.java&quot; and with the two commands &quot;javac Recursion.java&quot; and &quot;java Recursion&quot; it worked for me.\r\n\r\nThe clou is to keep the interface that the lambda has to implement as a field variable in the surrounding class. The lambda can refer to that field and the field will not be implicitly final.","title":"Implement recursive lambda function using Java 8","body":"<p>I heard at the JAX this year, that \"lambads do not support recursion\". What is meant with this statement is that the \"this\" inside the lambda always refer to the surrounding class.</p>\n\n<p>But I managed to define - at least how I understand the term \"recursion\" - a recursive lambda and it goes like that:</p>\n\n<pre><code>interface FacInterface {\n  int fac(int i);\n}\npublic class Recursion {\n  static FacInterface f;\n  public static void main(String[] args)\n  {\n    int j = (args.length == 1) ? new Integer(args[0]) : 10;\n    f = (i) -&gt; { if ( i == 1) return 1;\n      else return i*f.fac( i-1 ); };\n    System.out.println( j+ \"! = \" + f.fac(j));\n  }\n}\n</code></pre>\n\n<p>Save this inside a file \"Recursion.java\" and with the two commands \"javac Recursion.java\" and \"java Recursion\" it worked for me.</p>\n\n<p>The clou is to keep the interface that the lambda has to implement as a field variable in the surrounding class. The lambda can refer to that field and the field will not be implicitly final.</p>\n"},{"tags":[],"owner":{"account_id":4144107,"reputation":46,"user_id":3398399,"display_name":"Rene.v.P."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401627273,"creation_date":1401627273,"answer_id":23980102,"question_id":19429667,"body_markdown":"A bit like the very first reply ... \r\n\r\n    public static Function&lt;Integer,Double&gt; factorial;\r\n\r\n    static {\r\n        factorial = n -&gt; {\r\n            assert n &gt;= 0;\r\n            return (n == 0) ? 1.0 : n * factorial.apply(n - 1);\r\n        };\r\n    }\r\n","title":"Implement recursive lambda function using Java 8","body":"<p>A bit like the very first reply ... </p>\n\n<pre><code>public static Function&lt;Integer,Double&gt; factorial;\n\nstatic {\n    factorial = n -&gt; {\n        assert n &gt;= 0;\n        return (n == 0) ? 1.0 : n * factorial.apply(n - 1);\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406642884,"creation_date":1406642884,"answer_id":25017416,"question_id":19429667,"body_markdown":"You can also define it as a local variable by creating a final array of size one (of say Function&lt;Double, Double&gt;[]) and then assign the function to element 0. Let me know if you need the exact syntax","title":"Implement recursive lambda function using Java 8","body":"<p>You can also define it as a local variable by creating a final array of size one (of say Function[]) and then assign the function to element 0. Let me know if you need the exact syntax</p>\n"},{"tags":[],"owner":{"account_id":223905,"reputation":7839,"user_id":483408,"accept_rate":94,"display_name":"Andrey Morozov"},"down_vote_count":1,"up_vote_count":54,"is_accepted":false,"score":53,"last_activity_date":1408898110,"creation_date":1408898110,"answer_id":25473855,"question_id":19429667,"body_markdown":"I usually use (once-for-all-functional-interfaces defined) generic helper class which wraps the variable of the functional interface type.\r\nThis approach solves the problem with the local variable initialization and allows the code to look more clearly.\r\n\r\nIn case of this question the code will look as follows:\r\n\r\n    // Recursive.java\r\n    // @param &lt;I&gt; - Functional Interface Type\r\n    public class Recursive&lt;I&gt; {\r\n        public I func;\r\n    }\r\n    \r\n    // Test.java\r\n    public double factorial(int n) {\r\n    \r\n        Recursive&lt;IntToDoubleFunction&gt; recursive = new Recursive&lt;&gt;();\r\n        recursive.func = x -&gt; (x == 0) ? 1 : x * recursive.func.applyAsDouble(x - 1);\r\n    \r\n        return recursive.func.applyAsDouble(n);\r\n    }","title":"Implement recursive lambda function using Java 8","body":"<p>I usually use (once-for-all-functional-interfaces defined) generic helper class which wraps the variable of the functional interface type.\nThis approach solves the problem with the local variable initialization and allows the code to look more clearly.</p>\n\n<p>In case of this question the code will look as follows:</p>\n\n<pre><code>// Recursive.java\n// @param &lt;I&gt; - Functional Interface Type\npublic class Recursive&lt;I&gt; {\n    public I func;\n}\n\n// Test.java\npublic double factorial(int n) {\n\n    Recursive&lt;IntToDoubleFunction&gt; recursive = new Recursive&lt;&gt;();\n    recursive.func = x -&gt; (x == 0) ? 1 : x * recursive.func.applyAsDouble(x - 1);\n\n    return recursive.func.applyAsDouble(n);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1955570,"reputation":1570,"user_id":1758634,"accept_rate":71,"display_name":"tomaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441706079,"creation_date":1441706079,"answer_id":32454658,"question_id":19429667,"body_markdown":"The problem, is that lambda-functions want to operate on `final` variables, while we need a mutable `Function`-reference that can be replaced with our lambda.\r\n\r\nThe easiest trick, appears to be to, to define the variable as a member variable, and the compiler won&#39;t complain.\r\n\r\nI changed my example to use `IntUnaryOperator` instead of `IntToDoubleFunction`, since we&#39;re just operating on `Integers` anyway here.\r\n\r\n    import org.junit.Test;\r\n    import java.util.function.IntUnaryOperator;\r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    public class RecursiveTest {\r\n        private IntUnaryOperator operator;\r\n    \r\n        @Test\r\n        public void factorialOfFive(){\r\n            IntUnaryOperator factorial = factorial();\r\n            assertEquals(factorial.applyAsInt(5), 120); // passes\r\n        }\r\n    \r\n        public IntUnaryOperator factorial() {\r\n            return operator = x -&gt; (x == 0) ? 1 : x * operator.applyAsInt(x - 1);\r\n        }\r\n    }","title":"Implement recursive lambda function using Java 8","body":"<p>The problem, is that lambda-functions want to operate on <code>final</code> variables, while we need a mutable <code>Function</code>-reference that can be replaced with our lambda.</p>\n\n<p>The easiest trick, appears to be to, to define the variable as a member variable, and the compiler won't complain.</p>\n\n<p>I changed my example to use <code>IntUnaryOperator</code> instead of <code>IntToDoubleFunction</code>, since we're just operating on <code>Integers</code> anyway here.</p>\n\n<pre><code>import org.junit.Test;\nimport java.util.function.IntUnaryOperator;\nimport static org.junit.Assert.assertEquals;\n\npublic class RecursiveTest {\n    private IntUnaryOperator operator;\n\n    @Test\n    public void factorialOfFive(){\n        IntUnaryOperator factorial = factorial();\n        assertEquals(factorial.applyAsInt(5), 120); // passes\n    }\n\n    public IntUnaryOperator factorial() {\n        return operator = x -&gt; (x == 0) ? 1 : x * operator.applyAsInt(x - 1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5778025,"reputation":197,"user_id":4559558,"display_name":"JbGi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450028656,"creation_date":1450028656,"answer_id":34254218,"question_id":19429667,"body_markdown":"Here is a solution that does not rely on a side effect. To make the purpose interesting, let&#39;s say that you want to abstract over the recursion (otherwise the instance field solution is perfectly valid).\r\nThe trick is to use an anonymous class to get the &#39;this&#39; reference:\r\n\r\n    public static IntToLongFunction reduce(int zeroCase, LongBinaryOperator reduce) {\r\n      return new Object() {\r\n        IntToLongFunction f = x -&gt; x == 0\r\n                                   ? zeroCase\r\n                                   : reduce.applyAsLong(x, this.f.applyAsLong(x - 1));\r\n      }.f;\r\n    }\r\n  \r\n    public static void main(String[] args) {\r\n      IntToLongFunction fact = reduce(1, (a, b) -&gt; a * b);\r\n      IntToLongFunction sum = reduce(0, (a, b) -&gt; a + b);\r\n      System.out.println(fact.applyAsLong(5)); // 120\r\n      System.out.println(sum.applyAsLong(5)); // 15\r\n    }","title":"Implement recursive lambda function using Java 8","body":"<p>Here is a solution that does not rely on a side effect. To make the purpose interesting, let's say that you want to abstract over the recursion (otherwise the instance field solution is perfectly valid).\nThe trick is to use an anonymous class to get the 'this' reference:</p>\n\n<pre><code>public static IntToLongFunction reduce(int zeroCase, LongBinaryOperator reduce) {\n  return new Object() {\n    IntToLongFunction f = x -&gt; x == 0\n                               ? zeroCase\n                               : reduce.applyAsLong(x, this.f.applyAsLong(x - 1));\n  }.f;\n}\n\npublic static void main(String[] args) {\n  IntToLongFunction fact = reduce(1, (a, b) -&gt; a * b);\n  IntToLongFunction sum = reduce(0, (a, b) -&gt; a + b);\n  System.out.println(fact.applyAsLong(5)); // 120\n  System.out.println(sum.applyAsLong(5)); // 15\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7645539,"reputation":11,"user_id":5796343,"display_name":"Rebel Geek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452886510,"creation_date":1452886510,"answer_id":34818512,"question_id":19429667,"body_markdown":"Given the fact that &quot;this&quot; in the lambda refers to the containing class, the following compiles with no errors (with added dependencies, of course):\r\n\r\n    public class MyClass {\r\n        Function&lt;Map, CustomStruct&gt; sourceToStruct = source -&gt; {\r\n            CustomStruct result;\r\n            Object value;\r\n\r\n            for (String key : source.keySet()) {\r\n                value = source.get(key);\r\n\r\n                if (value instanceof Map) {\r\n                    value = this.sourceToStruct.apply((Map) value);\r\n                }\r\n\r\n                result.setValue(key, value);\r\n            }\r\n\r\n            return result;\r\n        };\r\n    }\r\n\r\n","title":"Implement recursive lambda function using Java 8","body":"<p>Given the fact that \"this\" in the lambda refers to the containing class, the following compiles with no errors (with added dependencies, of course):</p>\n\n<pre><code>public class MyClass {\n    Function&lt;Map, CustomStruct&gt; sourceToStruct = source -&gt; {\n        CustomStruct result;\n        Object value;\n\n        for (String key : source.keySet()) {\n            value = source.get(key);\n\n            if (value instanceof Map) {\n                value = this.sourceToStruct.apply((Map) value);\n            }\n\n            result.setValue(key, value);\n        }\n\n        return result;\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":132773,"reputation":1320,"user_id":333675,"display_name":"Ian Robertson"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1457986477,"creation_date":1457986477,"answer_id":35997193,"question_id":19429667,"body_markdown":"If you find yourself needing to do this sort of thing often, another option is to create a helper interface and method:\r\n\r\n    public static interface Recursable&lt;T, U&gt; {\r\n        U apply(T t, Recursable&lt;T, U&gt; r);\r\n    }\r\n\r\n    public static &lt;T, U&gt; Function&lt;T, U&gt; recurse(Recursable&lt;T, U&gt; f) {\r\n        return t -&gt; f.apply(t, f);\r\n    }\r\n\r\nAnd then write:\r\n\r\n    Function&lt;Integer, Double&gt; fact = recurse(\r\n        (i, f) -&gt; 0 == i ? 1 : i * f.apply(i - 1, f));\r\n\r\n(While I did this generically with reference types, you can also make primitive-specific versions).\r\n\r\nThis borrows from an old trick in The Little Lisper for making unnamed functions.\r\n\r\nI&#39;m not sure I&#39;d ever do this in production code, but it is interesting...","title":"Implement recursive lambda function using Java 8","body":"<p>If you find yourself needing to do this sort of thing often, another option is to create a helper interface and method:</p>\n\n<pre><code>public static interface Recursable&lt;T, U&gt; {\n    U apply(T t, Recursable&lt;T, U&gt; r);\n}\n\npublic static &lt;T, U&gt; Function&lt;T, U&gt; recurse(Recursable&lt;T, U&gt; f) {\n    return t -&gt; f.apply(t, f);\n}\n</code></pre>\n\n<p>And then write:</p>\n\n<pre><code>Function&lt;Integer, Double&gt; fact = recurse(\n    (i, f) -&gt; 0 == i ? 1 : i * f.apply(i - 1, f));\n</code></pre>\n\n<p>(While I did this generically with reference types, you can also make primitive-specific versions).</p>\n\n<p>This borrows from an old trick in The Little Lisper for making unnamed functions.</p>\n\n<p>I'm not sure I'd ever do this in production code, but it is interesting...</p>\n"},{"tags":[],"owner":{"account_id":7148533,"reputation":31,"user_id":6449244,"display_name":"leonel dossantos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1465551084,"creation_date":1465549322,"answer_id":37744133,"question_id":19429667,"body_markdown":"    public class LambdaExperiments {\r\n    \r\n      @FunctionalInterface\r\n      public interface RFunction&lt;T, R&gt; extends Function&lt;T, R&gt; {\r\n        R recursiveCall(Function&lt;? super T, ? extends R&gt; func, T in);\r\n    \r\n        default R apply(T in) {\r\n          return recursiveCall(this, in);\r\n        }\r\n      }\r\n    \r\n      @FunctionalInterface\r\n      public interface RConsumer&lt;T&gt; extends Consumer&lt;T&gt; {\r\n        void recursiveCall(Consumer&lt;? super T&gt; func, T in);\r\n    \r\n        default void accept(T in) {\r\n          recursiveCall(this, in);\r\n        }\r\n      }\r\n    \r\n      @FunctionalInterface\r\n      public interface RBiConsumer&lt;T, U&gt; extends BiConsumer&lt;T, U&gt; {\r\n        void recursiveCall(BiConsumer&lt;T, U&gt; func, T t, U u);\r\n    \r\n        default void accept(T t, U u) {\r\n          recursiveCall(this, t, u);\r\n        }\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        RFunction&lt;Integer, Integer&gt; fibo = (f, x) -&gt; x &gt; 1 ? f.apply(x - 1) + f.apply(x - 2) : x;\r\n    \r\n        RConsumer&lt;Integer&gt; decreasingPrint = (f, x) -&gt; {\r\n          System.out.println(x);\r\n          if (x &gt; 0) f.accept(x - 1);\r\n        };\r\n    \r\n        System.out.println(&quot;Fibonnaci(15):&quot; + fibo.apply(15));\r\n    \r\n        decreasingPrint.accept(5);\r\n      }\r\n    }\r\n\r\nDuring my tests, this is the best that i could achieve for local recursive lambdas.\r\nThey can be used in streams as well but we loose the easyness of the target typing.","title":"Implement recursive lambda function using Java 8","body":"<pre><code>public class LambdaExperiments {\n\n  @FunctionalInterface\n  public interface RFunction&lt;T, R&gt; extends Function&lt;T, R&gt; {\n    R recursiveCall(Function&lt;? super T, ? extends R&gt; func, T in);\n\n    default R apply(T in) {\n      return recursiveCall(this, in);\n    }\n  }\n\n  @FunctionalInterface\n  public interface RConsumer&lt;T&gt; extends Consumer&lt;T&gt; {\n    void recursiveCall(Consumer&lt;? super T&gt; func, T in);\n\n    default void accept(T in) {\n      recursiveCall(this, in);\n    }\n  }\n\n  @FunctionalInterface\n  public interface RBiConsumer&lt;T, U&gt; extends BiConsumer&lt;T, U&gt; {\n    void recursiveCall(BiConsumer&lt;T, U&gt; func, T t, U u);\n\n    default void accept(T t, U u) {\n      recursiveCall(this, t, u);\n    }\n  }\n\n  public static void main(String[] args) {\n    RFunction&lt;Integer, Integer&gt; fibo = (f, x) -&gt; x &gt; 1 ? f.apply(x - 1) + f.apply(x - 2) : x;\n\n    RConsumer&lt;Integer&gt; decreasingPrint = (f, x) -&gt; {\n      System.out.println(x);\n      if (x &gt; 0) f.accept(x - 1);\n    };\n\n    System.out.println(\"Fibonnaci(15):\" + fibo.apply(15));\n\n    decreasingPrint.accept(5);\n  }\n}\n</code></pre>\n\n<p>During my tests, this is the best that i could achieve for local recursive lambdas.\nThey can be used in streams as well but we loose the easyness of the target typing.</p>\n"},{"tags":[],"owner":{"account_id":8245409,"reputation":3834,"user_id":6201659,"display_name":"Jose Da Silva Gomes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501696187,"creation_date":1501696187,"answer_id":45467761,"question_id":19429667,"body_markdown":"You can create a recursive function using this class:\r\n\r\n&lt;!-- Java --&gt;\r\n\r\n    public class Recursive&lt;I&gt; {\r\n\t    private Recursive() {\r\n\r\n\t    }\r\n\t    private I i;\r\n\t    public static &lt;I&gt; I of(Function&lt;RecursiveSupplier&lt;I&gt;, I&gt; f) {\r\n\t    \tRecursive&lt;I&gt; rec = new Recursive&lt;&gt;();\r\n\t\t    RecursiveSupplier&lt;I&gt; sup = new RecursiveSupplier&lt;&gt;();\r\n\t\t    rec.i = f.apply(sup);\r\n\t\t    sup.i = rec.i;\r\n\t\t    return rec.i;\r\n\t    }\r\n\t    public static class RecursiveSupplier&lt;I&gt; {\r\n\t    \tprivate I i;\r\n\t    \tpublic I call() {\r\n\t\t    \treturn i;\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nAnd then you can use any functional interface in just 1 line using a lambda and the definition of your functional interface like the following:\r\n\r\n&lt;!-- Java --&gt;\r\n\r\n    Function&lt;Integer, Integer&gt; factorial = Recursive.of(recursive -&gt;\r\n\t\t    x -&gt; x == 0 ? 1 : x * recursive.call().apply(x - 1));\r\n    System.out.println(factorial.apply(5));\r\n\r\nI found it very intuitive and easy to use.","title":"Implement recursive lambda function using Java 8","body":"<p>You can create a recursive function using this class:</p>\n\n\n\n<pre><code>public class Recursive&lt;I&gt; {\n    private Recursive() {\n\n    }\n    private I i;\n    public static &lt;I&gt; I of(Function&lt;RecursiveSupplier&lt;I&gt;, I&gt; f) {\n        Recursive&lt;I&gt; rec = new Recursive&lt;&gt;();\n        RecursiveSupplier&lt;I&gt; sup = new RecursiveSupplier&lt;&gt;();\n        rec.i = f.apply(sup);\n        sup.i = rec.i;\n        return rec.i;\n    }\n    public static class RecursiveSupplier&lt;I&gt; {\n        private I i;\n        public I call() {\n            return i;\n        }\n    }\n}\n</code></pre>\n\n<p>And then you can use any functional interface in just 1 line using a lambda and the definition of your functional interface like the following:</p>\n\n\n\n<pre><code>Function&lt;Integer, Integer&gt; factorial = Recursive.of(recursive -&gt;\n        x -&gt; x == 0 ? 1 : x * recursive.call().apply(x - 1));\nSystem.out.println(factorial.apply(5));\n</code></pre>\n\n<p>I found it very intuitive and easy to use.</p>\n"},{"tags":[],"owner":{"account_id":11602798,"reputation":11,"user_id":8499421,"display_name":"Dmytro Chopenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503395366,"creation_date":1503394493,"answer_id":45813956,"question_id":19429667,"body_markdown":"Another recursive factorial with Java 8\r\n\r\n    public static int factorial(int i) {\r\n        final UnaryOperator&lt;Integer&gt; func = x -&gt; x == 0 ? 1 : x * factorial(x - 1);\r\n        return func.apply(i);\r\n    }","title":"Implement recursive lambda function using Java 8","body":"<p>Another recursive factorial with Java 8</p>\n\n<pre><code>public static int factorial(int i) {\n    final UnaryOperator&lt;Integer&gt; func = x -&gt; x == 0 ? 1 : x * factorial(x - 1);\n    return func.apply(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5587701,"reputation":1457,"user_id":4427841,"accept_rate":58,"display_name":"000000000000000000000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508325438,"creation_date":1508325438,"answer_id":46808937,"question_id":19429667,"body_markdown":"Came accross this question during a lecture on Lambdas that used Fibonacci as a possible use case.\r\n\r\nYou can make a recursive lambda like this:\r\n\r\n    import java.util.function.Function;\r\n\r\n    public class Fib {\r\n\r\n       static Function&lt;Integer, Integer&gt; fib;\r\n    \r\n       public static void main(String[] args) {\r\n           fib = (n) -&gt; { return n &gt; 1 ? fib.apply(n-1) + fib.apply(n-2) : n; };\r\n        \r\n           for(int i = 0; i &lt; 10; i++){\r\n               System.out.println(&quot;fib(&quot; + i + &quot;) = &quot; + fib.apply(i));\r\n           }\r\n       }\r\n    }\r\n\r\nWhat do you have to keep in mind?\r\n\r\n - Lambdas are evaluated on execution -&gt; they may be recursive\r\n   \r\n - Using a lambda-variable inside of another lambda requires the\r\n   variable to be initialized -&gt; before defining a recursive lambda you\r\n   must define it with a foo-value\r\n   \r\n - using a local lambda-variable inside a lambda requires the variable\r\n   to be final, thus it cannot be redefined -&gt; **use a class/ object\r\n   variable for the lambda** as it is initialized with a default value\r\n\r\n","title":"Implement recursive lambda function using Java 8","body":"<p>Came accross this question during a lecture on Lambdas that used Fibonacci as a possible use case.</p>\n\n<p>You can make a recursive lambda like this:</p>\n\n<pre><code>import java.util.function.Function;\n\npublic class Fib {\n\n   static Function&lt;Integer, Integer&gt; fib;\n\n   public static void main(String[] args) {\n       fib = (n) -&gt; { return n &gt; 1 ? fib.apply(n-1) + fib.apply(n-2) : n; };\n\n       for(int i = 0; i &lt; 10; i++){\n           System.out.println(\"fib(\" + i + \") = \" + fib.apply(i));\n       }\n   }\n}\n</code></pre>\n\n<p>What do you have to keep in mind?</p>\n\n<ul>\n<li><p>Lambdas are evaluated on execution -> they may be recursive</p></li>\n<li><p>Using a lambda-variable inside of another lambda requires the\nvariable to be initialized -> before defining a recursive lambda you\nmust define it with a foo-value</p></li>\n<li><p>using a local lambda-variable inside a lambda requires the variable\nto be final, thus it cannot be redefined -> <strong>use a class/ object\nvariable for the lambda</strong> as it is initialized with a default value</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5136427,"reputation":106,"user_id":4115052,"display_name":"Larry Cable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553546638,"creation_date":1553546638,"answer_id":55346133,"question_id":19429667,"body_markdown":"@IanRobertson Nicely done, in fact you can move the static &#39;factory&#39; into the body of the interface itself thus encapsulating it entirely:\r\n\r\n    public static interface Recursable&lt;T, U&gt; {\r\n    \t    U apply(T t, Recursable&lt;T, U&gt; r);\r\n    \t    \r\n    \t    public static &lt;T, U&gt; Function&lt;T, U&gt; recurseable(Recursable&lt;T, U&gt; f) {\r\n    \t\t    return t -&gt; f.apply(t, f);\r\n    \t\t}\r\n    }\r\n\r\nThis is the cleanest solution/answer I have seen so far ... especially since the invocation of &quot;fact&quot; is written &quot;naturally&quot;: fac.apply(n) which is what you would expect to see for a unary function like fac() ","title":"Implement recursive lambda function using Java 8","body":"<p>@IanRobertson Nicely done, in fact you can move the static 'factory' into the body of the interface itself thus encapsulating it entirely:</p>\n\n<pre><code>public static interface Recursable&lt;T, U&gt; {\n        U apply(T t, Recursable&lt;T, U&gt; r);\n\n        public static &lt;T, U&gt; Function&lt;T, U&gt; recurseable(Recursable&lt;T, U&gt; f) {\n            return t -&gt; f.apply(t, f);\n        }\n}\n</code></pre>\n\n<p>This is the cleanest solution/answer I have seen so far ... especially since the invocation of \"fact\" is written \"naturally\": fac.apply(n) which is what you would expect to see for a unary function like fac() </p>\n"},{"tags":[],"owner":{"account_id":2176810,"reputation":1464,"user_id":1927303,"display_name":"Arundev"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1560760857,"creation_date":1553591150,"answer_id":55353292,"question_id":19429667,"body_markdown":"Answer is : You have to use a **this** before name variable calling applyAsDouble function :- \r\n      \r\n    IntToDoubleFunction fact = x -&gt; x == 0 ? 1 : x * this.fact.applyAsDouble(x-1);\r\n\r\nif you make the fact final also it will work \r\n     \r\n    final IntToDoubleFunction fact = x -&gt; x == 0 ? 1 : x * this.fact.applyAsDouble(x-1);\r\n\r\nWe can use functional interface **UnaryOperator** here. A unary operator that always returns its input argument. \r\n\r\n1)  Just add **this**. before the name of the function, as in:\r\n    \r\n    UnaryOperator&lt;Long&gt; fact = x -&gt; x == 0 ? 1  : x * this.fact.apply(x - 1 );\r\n\r\nThis will hep to avoid **“Cannot reference a field before it is defined”**.\r\n\r\n2) If you prefer a **static** field, just replace &#39; **this** &#39; with name of the class:\r\n\r\n    static final UnaryOperator&lt;Long&gt; fact = x -&gt; x== 0? 1: x * MyFactorial.fact.apply(x - 1 );","title":"Implement recursive lambda function using Java 8","body":"<p>Answer is : You have to use a <strong>this</strong> before name variable calling applyAsDouble function :- </p>\n\n<pre><code>IntToDoubleFunction fact = x -&gt; x == 0 ? 1 : x * this.fact.applyAsDouble(x-1);\n</code></pre>\n\n<p>if you make the fact final also it will work </p>\n\n<pre><code>final IntToDoubleFunction fact = x -&gt; x == 0 ? 1 : x * this.fact.applyAsDouble(x-1);\n</code></pre>\n\n<p>We can use functional interface <strong>UnaryOperator</strong> here. A unary operator that always returns its input argument. </p>\n\n<p>1)  Just add <strong>this</strong>. before the name of the function, as in:</p>\n\n<pre><code>UnaryOperator&lt;Long&gt; fact = x -&gt; x == 0 ? 1  : x * this.fact.apply(x - 1 );\n</code></pre>\n\n<p>This will hep to avoid <strong>“Cannot reference a field before it is defined”</strong>.</p>\n\n<p>2) If you prefer a <strong>static</strong> field, just replace ' <strong>this</strong> ' with name of the class:</p>\n\n<pre><code>static final UnaryOperator&lt;Long&gt; fact = x -&gt; x== 0? 1: x * MyFactorial.fact.apply(x - 1 );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3414062,"reputation":1,"user_id":2863421,"display_name":"A Paul Anthony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561245564,"creation_date":1561236845,"answer_id":56719114,"question_id":19429667,"body_markdown":"Picking up on the common theme of answers here is that lambdas CAN be recursive, providing they have a fixed reference point (hence the class/interface based answers such as [@assylias][2], [@Andrey Morozov][3], [@Ian Robertson][4], etc).\r\n\r\nI really liked the answer from [@000000000000000000000][1] with the member variable workaround but I have concerns if the intended lambda function wanted to reference other variables from the containing function&#39;s scope. Surely it&#39;ll be evaluating those local references at assignment and putting the resulting function into a member variable where it could be accessed by other methods in the class. That doesn&#39;t sound ... *right* (and could get quite interesting if the containing method itself is called recursively). \r\n\r\nThe following is a variation of the class-based solutions expressed in a form that&#39;s close to the OP&#39;s original one-line lambda but Eclipse doesn&#39;t complain about.\r\n\r\n    IntToDoubleFunction fact = new IntToDoubleFunction() {\r\n        @Override\r\n        public double applyAsDouble(int x) {\r\n            return x == 0 ? 1 : x * this.applyAsDouble(x-1);\r\n    \t}\r\n    };\r\n\r\n\r\nThe { } of course creates an anonymous class and thus a new scope with reference points for the lambda&#39;s evaluation with the added benefits of still being within containing function&#39;s own scope and thus &quot;sibling&quot; variables.\r\n\r\n  [1]: https://stackoverflow.com/a/46808937\r\n  [2]: https://stackoverflow.com/a/21646085\r\n  [3]: https://stackoverflow.com/a/25473855\r\n  [4]: https://stackoverflow.com/a/35997193","title":"Implement recursive lambda function using Java 8","body":"<p>Picking up on the common theme of answers here is that lambdas CAN be recursive, providing they have a fixed reference point (hence the class/interface based answers such as <a href=\"https://stackoverflow.com/a/21646085\">@assylias</a>, <a href=\"https://stackoverflow.com/a/25473855\">@Andrey Morozov</a>, <a href=\"https://stackoverflow.com/a/35997193\">@Ian Robertson</a>, etc).</p>\n\n<p>I really liked the answer from <a href=\"https://stackoverflow.com/a/46808937\">@000000000000000000000</a> with the member variable workaround but I have concerns if the intended lambda function wanted to reference other variables from the containing function's scope. Surely it'll be evaluating those local references at assignment and putting the resulting function into a member variable where it could be accessed by other methods in the class. That doesn't sound ... <em>right</em> (and could get quite interesting if the containing method itself is called recursively). </p>\n\n<p>The following is a variation of the class-based solutions expressed in a form that's close to the OP's original one-line lambda but Eclipse doesn't complain about.</p>\n\n<pre><code>IntToDoubleFunction fact = new IntToDoubleFunction() {\n    @Override\n    public double applyAsDouble(int x) {\n        return x == 0 ? 1 : x * this.applyAsDouble(x-1);\n    }\n};\n</code></pre>\n\n<p>The { } of course creates an anonymous class and thus a new scope with reference points for the lambda's evaluation with the added benefits of still being within containing function's own scope and thus \"sibling\" variables.</p>\n"},{"tags":[],"owner":{"account_id":8061838,"reputation":13,"user_id":6077152,"display_name":"Jakub Rogacz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578775402,"creation_date":1578775402,"answer_id":59698484,"question_id":19429667,"body_markdown":"You could also define interface yourself wher you would just pass it itself as argument during call. E.g \r\n\r\n    interface MyOwnFunction&lt;T,R&gt;{\r\n        R apply(MyOwnFunction&lt;T,R&gt; self,T arg);\r\n    }","title":"Implement recursive lambda function using Java 8","body":"<p>You could also define interface yourself wher you would just pass it itself as argument during call. E.g </p>\n\n<pre><code>interface MyOwnFunction&lt;T,R&gt;{\n    R apply(MyOwnFunction&lt;T,R&gt; self,T arg);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613771775,"creation_date":1596500821,"answer_id":63238653,"question_id":19429667,"body_markdown":"You can define generic [Fixed-point combinator](https://en.wikipedia.org/wiki/Fixed-point_combinator) like this.\r\n\r\n    public static &lt;T, R&gt; Function&lt;T, R&gt; fixedPointCombinator(Function&lt;Function&lt;T, R&gt;, Function&lt;T, R&gt;&gt; f) {\r\n        return new Function&lt;T, R&gt;() {\r\n            @Override\r\n            public R apply(T n) {\r\n                return f.apply(this).apply(n);\r\n            }\r\n        };\r\n    }\r\n\r\nAnd\r\n\r\n    Function&lt;Function&lt;Integer, Double&gt;, Function&lt;Integer, Double&gt;&gt; fact =\r\n        self -&gt; n -&gt; n == 0 ? 1 : n * self.apply(n - 1);\r\n\r\n    System.out.println(fixedPointCombinator(fact).apply(10));\r\n    \r\noutput:\r\n    \r\n    3628800.0\r\n","title":"Implement recursive lambda function using Java 8","body":"<p>You can define generic <a href=\"https://en.wikipedia.org/wiki/Fixed-point_combinator\" rel=\"nofollow noreferrer\">Fixed-point combinator</a> like this.</p>\n<pre><code>public static &lt;T, R&gt; Function&lt;T, R&gt; fixedPointCombinator(Function&lt;Function&lt;T, R&gt;, Function&lt;T, R&gt;&gt; f) {\n    return new Function&lt;T, R&gt;() {\n        @Override\n        public R apply(T n) {\n            return f.apply(this).apply(n);\n        }\n    };\n}\n</code></pre>\n<p>And</p>\n<pre><code>Function&lt;Function&lt;Integer, Double&gt;, Function&lt;Integer, Double&gt;&gt; fact =\n    self -&gt; n -&gt; n == 0 ? 1 : n * self.apply(n - 1);\n\nSystem.out.println(fixedPointCombinator(fact).apply(10));\n</code></pre>\n<p>output:</p>\n<pre><code>3628800.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29392170,"reputation":1,"user_id":22520256,"display_name":"user22520256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694144751,"creation_date":1694144751,"answer_id":77064018,"question_id":19429667,"body_markdown":"A fixpoint operator Fix : ((S-&gt;T)-&gt;S-&gt;T)-&gt;S-&gt;T is an operator s.t. Fix(f) = f(Fix(f)).  Here is a Java version using typecast from f : (S-&gt;T)-&gt;S-T into Fix(f) :S-&gt;T by a default method trick. \r\n\r\n    @FunctionalInterface\r\n    public static interface Fix&lt;S, T&gt; extends Function&lt;S, T&gt; {\r\n        @Override\r\n        public default T apply(S val) {\r\n            return impl(this).apply(val);\r\n        }\r\n\r\n        public Function&lt;S,T&gt; impl(Function&lt;S, T&gt; rec);\r\n    }\r\n\r\n    public static void test() {\r\n        Fix&lt;Integer, Integer&gt; fac = rec -&gt; val -&gt; val == 0 ? 1 : val * rec.apply(val - 1);\r\n        System.out.println(fac.apply(10));\r\n    }","title":"Implement recursive lambda function using Java 8","body":"<p>A fixpoint operator Fix : ((S-&gt;T)-&gt;S-&gt;T)-&gt;S-&gt;T is an operator s.t. Fix(f) = f(Fix(f)).  Here is a Java version using typecast from f : (S-&gt;T)-&gt;S-T into Fix(f) :S-&gt;T by a default method trick.</p>\n<pre><code>@FunctionalInterface\npublic static interface Fix&lt;S, T&gt; extends Function&lt;S, T&gt; {\n    @Override\n    public default T apply(S val) {\n        return impl(this).apply(val);\n    }\n\n    public Function&lt;S,T&gt; impl(Function&lt;S, T&gt; rec);\n}\n\npublic static void test() {\n    Fix&lt;Integer, Integer&gt; fac = rec -&gt; val -&gt; val == 0 ? 1 : val * rec.apply(val - 1);\n    System.out.println(fac.apply(10));\n}\n</code></pre>\n"}],"owner":{"account_id":3169515,"reputation":797,"user_id":2678835,"display_name":"user2678835"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43159,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"answer_count":26,"score":71,"last_activity_date":1694144751,"creation_date":1382020482,"question_id":19429667,"body_markdown":"Java 8 introduced lambda functions and I want to implement something like factorial:\r\n   \r\n\r\n     IntToDoubleFunction fact = x -&gt; x == 0 ? 1 : x * fact.applyAsDouble(x-1);\r\n\r\nCompilation returns\r\n  \r\n\r\n      error: variable fact might not have been initialized\r\n\r\n\r\nHow can I reference function itself. Class is anonymous but instance exists: It is called `fact`.","title":"Implement recursive lambda function using Java 8","body":"<p>Java 8 introduced lambda functions and I want to implement something like factorial:</p>\n\n<pre><code> IntToDoubleFunction fact = x -&gt; x == 0 ? 1 : x * fact.applyAsDouble(x-1);\n</code></pre>\n\n<p>Compilation returns</p>\n\n<pre><code>  error: variable fact might not have been initialized\n</code></pre>\n\n<p>How can I reference function itself. Class is anonymous but instance exists: It is called <code>fact</code>.</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":28376383,"reputation":23,"user_id":22519622,"display_name":"Samuel Han"},"score":0,"creation_date":1694134627,"post_id":77063561,"comment_id":135854895,"body_markdown":"@GillesQu&#233;not I added Java, but I won&#39;t do that next time, thank you.","body":"@GillesQu&#233;not I added Java, but I won&#39;t do that next time, thank you."},{"owner":{"account_id":1891393,"reputation":9467,"user_id":1709364,"display_name":"jasonharper"},"score":2,"creation_date":1694134731,"post_id":77063561,"comment_id":135854904,"body_markdown":"If the loop body contained a `continue`, that would skip an increment that&#39;s at the bottom of the loop (possibly resulting in an infinite loop), but wouldn&#39;t skip an increment that&#39;s in the third `for` clause.","body":"If the loop body contained a <code>continue</code>, that would skip an increment that&#39;s at the bottom of the loop (possibly resulting in an infinite loop), but wouldn&#39;t skip an increment that&#39;s in the third <code>for</code> clause."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694138254,"post_id":77063561,"comment_id":135855200,"body_markdown":"By the way, *statement 2*, if present, must be resolvable to a single `boolean`.  Java allows *statement 1* and / or *statement 3* to be coma separated lists of statements.","body":"By the way, <i>statement 2</i>, if present, must be resolvable to a single <code>boolean</code>.  Java allows <i>statement 1</i> and / or <i>statement 3</i> to be coma separated lists of statements."}],"answers":[{"tags":[],"owner":{"account_id":465323,"reputation":14809,"user_id":869330,"accept_rate":82,"display_name":"Naetmul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694135132,"creation_date":1694135132,"answer_id":77063589,"question_id":77063561,"body_markdown":"Just comparing the order of statement 1, statement 3, and body_last_statement...\r\n\r\n```\r\nfor (statement 1; statement 2; statement 3) {\r\n    &lt;body&gt;\r\n    body_last_statement;\r\n}\r\n```\r\nperforms\r\n`statement 1 → body_last_statement → statement 3 → body_last_statement → ... → body_last_statement → statement 3`\r\n\r\n```\r\nfor (statement 1; statement 2; body_last_statement) {\r\n    &lt;body&gt;\r\n    statement 3;\r\n}\r\n```\r\nperforms\r\n`statement 1 → statement 3 → body_last_statement → ... → statement 3 → body_last_statement`\r\n\r\nSo in the code like yours\r\n```\r\nfor (int i = 0; i &lt; 4; ++i) {\r\n    System.out.println(i);\r\n}\r\n````\r\nprints **0** first.\r\n\r\n```\r\nfor (int i = 0; i &lt; 4; System.out.println(&quot;abc&#39;s&quot;)) {\r\n    ++i;\r\n}\r\n```\r\nprints **1** first.\r\n\r\nAlso, if `&lt;body&gt;` has some `if (...) continue;` then, it can fall into an infinite loop like\r\n```\r\n// Print only even numbers\r\nfor (i=1; i&lt;=10; System.out.println(i)) {\r\n    // Skip printing odd numbers\r\n    if (i % 2 == 1)\r\n        continue;\r\n    i++;\r\n}\r\n```\r\nwhich prints\r\n```\r\n2\r\n2\r\n2\r\n2\r\n2\r\n2\r\n2\r\n(forever)\r\n```","title":"Difference between a statement as third statement in for loop vs. in body","body":"<p>Just comparing the order of statement 1, statement 3, and body_last_statement...</p>\n<pre><code>for (statement 1; statement 2; statement 3) {\n    &lt;body&gt;\n    body_last_statement;\n}\n</code></pre>\n<p>performs\n<code>statement 1 → body_last_statement → statement 3 → body_last_statement → ... → body_last_statement → statement 3</code></p>\n<pre><code>for (statement 1; statement 2; body_last_statement) {\n    &lt;body&gt;\n    statement 3;\n}\n</code></pre>\n<p>performs\n<code>statement 1 → statement 3 → body_last_statement → ... → statement 3 → body_last_statement</code></p>\n<p>So in the code like yours</p>\n<pre><code>for (int i = 0; i &lt; 4; ++i) {\n    System.out.println(i);\n}\n</code></pre>\n<p>prints <strong>0</strong> first.</p>\n<pre><code>for (int i = 0; i &lt; 4; System.out.println(&quot;abc's&quot;)) {\n    ++i;\n}\n</code></pre>\n<p>prints <strong>1</strong> first.</p>\n<p>Also, if <code>&lt;body&gt;</code> has some <code>if (...) continue;</code> then, it can fall into an infinite loop like</p>\n<pre><code>// Print only even numbers\nfor (i=1; i&lt;=10; System.out.println(i)) {\n    // Skip printing odd numbers\n    if (i % 2 == 1)\n        continue;\n    i++;\n}\n</code></pre>\n<p>which prints</p>\n<pre><code>2\n2\n2\n2\n2\n2\n2\n(forever)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694144114,"creation_date":1694143645,"answer_id":77063965,"question_id":77063561,"body_markdown":"&gt; _&quot;Difference between a statement as third statement in for loop vs. in body ..._\r\n&gt;\r\n&gt; _... What&#39;s the difference between exchanging `statement 3` for the last statement in the body, or with any statement such that order can be permuted? (The last part is a bit of a tautology, but I don&#39;t mean it in that way.) ...&quot;_\r\n\r\nThere is not much of a restriction, it&#39;s just a way to organize the code.  \r\nHere is the _Java_ tutorial.\r\n\r\n_[The for Statement (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)_.\r\n\r\n&gt; ```java\r\n&gt; for (initialization; termination; increment) {\r\n&gt;     statement(s)\r\n&gt; }\r\n&gt; ```\r\n&gt;\r\n&gt; - The _initialization_ expression initializes the loop; it&#39;s executed once, as the loop begins.\r\n&gt; - When the _termination_ expression evaluates to false, the loop terminates.\r\n&gt; - The _increment_ expression is invoked after each iteration through the loop; it is perfectly acceptable for this expression to increment or decrement a value.\r\n\r\nAnd, here is an excerpt from _Wikipedia_.\r\n\r\n_[Wikipedia &amp;ndash; For loop &amp;ndash; FOR](https://en.wikipedia.org/wiki/For_loop#FOR_)_.\r\n\r\n&gt; _Another form ... requires 3 parts: the [initialization](https://en.wikipedia.org/wiki/Declaration_(computer_programming)) ([loop variant](https://en.wikipedia.org/wiki/Loop_variant)), the [condition](https://en.wikipedia.org/wiki/Boolean_algebra), and the advancement to the next iteration. All these three parts are optional.&lt;sup&gt;[[1]](https://en.wikipedia.org/wiki/For_loop#cite_note-1)&lt;/sup&gt; This type of &quot;semicolon loops&quot; came from [B programming language](https://en.wikipedia.org/wiki/B_(programming_language)) ..._\r\n\r\nThe _for-loop_ was created because of how often a loop required an accompanying value.\r\n\r\nThus, there is essentially no difference between the following two loops.\r\n\r\n```java\r\nfor (int i = 0; i &lt; 100; i++) {\r\n        \r\n}\r\n```\r\n\r\n```java\r\nint i = 0;\r\nwhile (i &lt; 100) {\r\n    i++;\r\n}\r\n```\r\n\r\nYou can even add the _i_ statement, from your example.\r\n\r\n```java\r\nfor (int i = 0; i &lt; 4; ++i, System.out.println(&quot;abc&#39;s&quot;)) {\r\n\r\n}\r\n```\r\n\r\n&gt; _&quot;... I imagine readability would be the biggest factor, but is there an actual difference in how the machine runs? I&#39;m new to coding. This is Java, but I don&#39;t mind generalized answers to any language. ...&quot;_\r\n\r\nWith most coding languages, readability is a major role, _Java_ is one of them, _[Objective-C](https://en.wikipedia.org/wiki/Objective-C)_ is another.  \r\nYou&#39;ll find most of the syntax is based off of readability; _Java_ expects their code to read similar to a sentence.\r\n\r\nThere shouldn&#39;t be much of a difference in how the code performs, the compiler will have ultimately converted any _for-loop_ and _while-loop_ code into similar _machine-code_.\r\n\r\nIf you&#39;re interested in this aspect of _Java_, I recommend reviewing _[Java: The Complete Reference, 12th Edition](https://www.oreilly.com/library/view/java-the-complete/9781260463422/)_.  \r\nThis series was published by _Oracle_ for several years; I imagine they endorse it.\r\n\r\n&gt; _&quot;... can I think of the third statement in the for loop as the &quot;last&quot; statement in the body, or is there a more inherent difference?&quot;_\r\n\r\nIt would need to be the last statement, as to not disrupt any mutual access.","title":"Difference between a statement as third statement in for loop vs. in body","body":"<blockquote>\n<p><em>&quot;Difference between a statement as third statement in for loop vs. in body ...</em></p>\n<p><em>... What's the difference between exchanging <code>statement 3</code> for the last statement in the body, or with any statement such that order can be permuted? (The last part is a bit of a tautology, but I don't mean it in that way.) ...&quot;</em></p>\n</blockquote>\n<p>There is not much of a restriction, it's just a way to organize the code.<br />\nHere is the <em>Java</em> tutorial.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">The for Statement (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em>.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>for (initialization; termination; increment) {\n    statement(s)\n}\n</code></pre>\n<ul>\n<li>The <em>initialization</em> expression initializes the loop; it's executed once, as the loop begins.</li>\n<li>When the <em>termination</em> expression evaluates to false, the loop terminates.</li>\n<li>The <em>increment</em> expression is invoked after each iteration through the loop; it is perfectly acceptable for this expression to increment or decrement a value.</li>\n</ul>\n</blockquote>\n<p>And, here is an excerpt from <em>Wikipedia</em>.</p>\n<p><em><a href=\"https://en.wikipedia.org/wiki/For_loop#FOR_\" rel=\"nofollow noreferrer\">Wikipedia – For loop – FOR</a></em>.</p>\n<blockquote>\n<p><em>Another form ... requires 3 parts: the <a href=\"https://en.wikipedia.org/wiki/Declaration_(computer_programming)\" rel=\"nofollow noreferrer\">initialization</a> (<a href=\"https://en.wikipedia.org/wiki/Loop_variant\" rel=\"nofollow noreferrer\">loop variant</a>), the <a href=\"https://en.wikipedia.org/wiki/Boolean_algebra\" rel=\"nofollow noreferrer\">condition</a>, and the advancement to the next iteration. All these three parts are optional.<sup><a href=\"https://en.wikipedia.org/wiki/For_loop#cite_note-1\" rel=\"nofollow noreferrer\">[1]</a></sup> This type of &quot;semicolon loops&quot; came from <a href=\"https://en.wikipedia.org/wiki/B_(programming_language)\" rel=\"nofollow noreferrer\">B programming language</a> ...</em></p>\n</blockquote>\n<p>The <em>for-loop</em> was created because of how often a loop required an accompanying value.</p>\n<p>Thus, there is essentially no difference between the following two loops.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; 100; i++) {\n        \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 0;\nwhile (i &lt; 100) {\n    i++;\n}\n</code></pre>\n<p>You can even add the <em>i</em> statement, from your example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; 4; ++i, System.out.println(&quot;abc's&quot;)) {\n\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... I imagine readability would be the biggest factor, but is there an actual difference in how the machine runs? I'm new to coding. This is Java, but I don't mind generalized answers to any language. ...&quot;</em></p>\n</blockquote>\n<p>With most coding languages, readability is a major role, <em>Java</em> is one of them, <em><a href=\"https://en.wikipedia.org/wiki/Objective-C\" rel=\"nofollow noreferrer\">Objective-C</a></em> is another.<br />\nYou'll find most of the syntax is based off of readability; <em>Java</em> expects their code to read similar to a sentence.</p>\n<p>There shouldn't be much of a difference in how the code performs, the compiler will have ultimately converted any <em>for-loop</em> and <em>while-loop</em> code into similar <em>machine-code</em>.</p>\n<p>If you're interested in this aspect of <em>Java</em>, I recommend reviewing <em><a href=\"https://www.oreilly.com/library/view/java-the-complete/9781260463422/\" rel=\"nofollow noreferrer\">Java: The Complete Reference, 12th Edition</a></em>.<br />\nThis series was published by <em>Oracle</em> for several years; I imagine they endorse it.</p>\n<blockquote>\n<p><em>&quot;... can I think of the third statement in the for loop as the &quot;last&quot; statement in the body, or is there a more inherent difference?&quot;</em></p>\n</blockquote>\n<p>It would need to be the last statement, as to not disrupt any mutual access.</p>\n"}],"owner":{"account_id":28376383,"reputation":23,"user_id":22519622,"display_name":"Samuel Han"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77063965,"answer_count":2,"score":1,"last_activity_date":1694144114,"creation_date":1694134405,"question_id":77063561,"body_markdown":"For the for loop, I learned that it&#39;s of the form\r\n```\r\n\tfor (statement 1; statement 2; statement 3) {\r\n\t\t&lt;body&gt;\r\n\t}\r\n```\r\nWhat&#39;s the difference between exchanging `statement 3` for the last statement in the body, or with any statement such that order can be permuted? (The last part is a bit of a tautology, but I don&#39;t mean it in that way.) I imagine readability would be the biggest factor, but is there an actual difference in how the machine runs? I&#39;m new to coding. This is Java, but I don&#39;t mind generalized answers to any language.\r\n\r\nI tried\r\n```\r\n\tfor (int i = 0; i &lt; 4; ++i) {\r\n\t\tSystem.out.println(&quot;abc&#39;s&quot;);\r\n\t}\r\n```\r\nand\r\n```\r\n\tfor (int i = 0; i &lt; 4; System.out.println(&quot;abc&#39;s&quot;)) {\r\n\t\t++i;\r\n\t}\r\n```\r\nand both codes printed out 4 lines of &quot;`abc&#39;s`&quot;. I imagine that if some lines in the body did something to the value of `i`, then I wouldn&#39;t be able to switch the `++i` line with those lines, but can I think of the third statement in the for loop as the &quot;last&quot; statement in the body, or is there a more inherent difference?","title":"Difference between a statement as third statement in for loop vs. in body","body":"<p>For the for loop, I learned that it's of the form</p>\n<pre><code>    for (statement 1; statement 2; statement 3) {\n        &lt;body&gt;\n    }\n</code></pre>\n<p>What's the difference between exchanging <code>statement 3</code> for the last statement in the body, or with any statement such that order can be permuted? (The last part is a bit of a tautology, but I don't mean it in that way.) I imagine readability would be the biggest factor, but is there an actual difference in how the machine runs? I'm new to coding. This is Java, but I don't mind generalized answers to any language.</p>\n<p>I tried</p>\n<pre><code>    for (int i = 0; i &lt; 4; ++i) {\n        System.out.println(&quot;abc's&quot;);\n    }\n</code></pre>\n<p>and</p>\n<pre><code>    for (int i = 0; i &lt; 4; System.out.println(&quot;abc's&quot;)) {\n        ++i;\n    }\n</code></pre>\n<p>and both codes printed out 4 lines of &quot;<code>abc's</code>&quot;. I imagine that if some lines in the body did something to the value of <code>i</code>, then I wouldn't be able to switch the <code>++i</code> line with those lines, but can I think of the third statement in the for loop as the &quot;last&quot; statement in the body, or is there a more inherent difference?</p>\n"},{"tags":["java","jms","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694096425,"post_id":77059760,"comment_id":135848844,"body_markdown":"You&#39;ve got two independent questions here - 1) How to get up-to-date message-count data and 2) How to consume messages from the middle or end of the queue. Please narrow down your question to a _single_ issue or it may be closed. Feel free to open another question.","body":"You&#39;ve got two independent questions here - 1) How to get up-to-date message-count data and 2) How to consume messages from the middle or end of the queue. Please narrow down your question to a <i>single</i> issue or it may be closed. Feel free to open another question."},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1694122970,"post_id":77059760,"comment_id":135853745,"body_markdown":"Thanks for the hints. I have updated my question","body":"Thanks for the hints. I have updated my question"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694129623,"post_id":77059760,"comment_id":135854455,"body_markdown":"You changed the title of the question but not the _body_ of the question. You&#39;re still asking 2 independent questions.","body":"You changed the title of the question but not the <i>body</i> of the question. You&#39;re still asking 2 independent questions."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694142553,"post_id":77059760,"comment_id":135855481,"body_markdown":"I updated your question to reflect the change you made to the title.","body":"I updated your question to reflect the change you made to the title."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694178149,"post_id":77059760,"comment_id":135860936,"body_markdown":"Did you get this sorted?","body":"Did you get this sorted?"},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1694365481,"post_id":77059760,"comment_id":135878568,"body_markdown":"Yes thank you. Helped a lot","body":"Yes thank you. Helped a lot"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694144071,"creation_date":1694143513,"answer_id":77063957,"question_id":77059760,"body_markdown":"The fundamental semantics of a JMS queue is first-in-first-out (i.e. FIFO). In other words, the broker must dispatch messages to consumers in the order in which they were added to the queue. However, there are two basic ways to get around this.\r\n\r\n 1. Message Priority\r\n 2. Message Selector\r\n\r\nA JMS message can have a **priority** from 0 to 9. The priority is set by the producer who sent the message. Messages with a higher priority may be dispatched by the broker to consumers before messages with a lower priority.\r\n\r\nA JMS consumer can specify a message **selector**. Only messages that match the selector will be dispatched to the consumer. These messages will be dispatched in FIFO order relative to each other, but they may jump ahead of other messages that would otherwise be dispatched before them. Selectors only work on the headers or properties of the message so the consumer must know something about the message(s) it wants to consume. \r\n\r\nFor example, if a producer sends 100 messages and each message has a property `myProperty` whose value is 1 to 100 in order and the consumer wants to consume the *last* message on the queue then it would use the selector `myProperty = 100`.\r\n\r\nSelector syntax is based on a subset of the SQL92 conditional expression syntax. You can find more information about selectors and how they work in the [API docs][1].\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/messaging/3.0/apidocs/jakarta/jms/message","title":"How to consume JMS messages from the middle or end of the queue?","body":"<p>The fundamental semantics of a JMS queue is first-in-first-out (i.e. FIFO). In other words, the broker must dispatch messages to consumers in the order in which they were added to the queue. However, there are two basic ways to get around this.</p>\n<ol>\n<li>Message Priority</li>\n<li>Message Selector</li>\n</ol>\n<p>A JMS message can have a <strong>priority</strong> from 0 to 9. The priority is set by the producer who sent the message. Messages with a higher priority may be dispatched by the broker to consumers before messages with a lower priority.</p>\n<p>A JMS consumer can specify a message <strong>selector</strong>. Only messages that match the selector will be dispatched to the consumer. These messages will be dispatched in FIFO order relative to each other, but they may jump ahead of other messages that would otherwise be dispatched before them. Selectors only work on the headers or properties of the message so the consumer must know something about the message(s) it wants to consume.</p>\n<p>For example, if a producer sends 100 messages and each message has a property <code>myProperty</code> whose value is 1 to 100 in order and the consumer wants to consume the <em>last</em> message on the queue then it would use the selector <code>myProperty = 100</code>.</p>\n<p>Selector syntax is based on a subset of the SQL92 conditional expression syntax. You can find more information about selectors and how they work in the <a href=\"https://jakarta.ee/specifications/messaging/3.0/apidocs/jakarta/jms/message\" rel=\"nofollow noreferrer\">API docs</a>.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77063957,"answer_count":1,"score":0,"last_activity_date":1694144114,"creation_date":1694090957,"question_id":77059760,"body_markdown":"I have a code that hangs a reader on a queue and receives a message when the method completes. I want to receive messages not from the beginning of the queue but from the end or from the middle\r\n\r\n```java\r\nprivate void getMessage() throws JMSException, NamingException {\r\n    Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + &quot;TestQueue&quot;);\r\n    if (messageConsumer == null){\r\n        messageConsumer = queueSession.createConsumer(queue);\r\n    }\r\n    TextMessage message = (TextMessage) messageConsumer.receive();\r\n    String msgBody = ((TextMessage) message).getText();\r\n    System.out.println(msgBody);        \r\n}\r\n```","title":"How to consume JMS messages from the middle or end of the queue?","body":"<p>I have a code that hangs a reader on a queue and receives a message when the method completes. I want to receive messages not from the beginning of the queue but from the end or from the middle</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void getMessage() throws JMSException, NamingException {\n    Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + &quot;TestQueue&quot;);\n    if (messageConsumer == null){\n        messageConsumer = queueSession.createConsumer(queue);\n    }\n    TextMessage message = (TextMessage) messageConsumer.receive();\n    String msgBody = ((TextMessage) message).getText();\n    System.out.println(msgBody);        \n}\n</code></pre>\n"},{"tags":["java","zip"],"answers":[{"tags":[],"owner":{"account_id":37250,"reputation":12091,"user_id":106463,"display_name":"Mihai Toader"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1294931613,"creation_date":1294931311,"answer_id":4681540,"question_id":4681459,"body_markdown":"You should track if you added stuff the zip stream and close it only when things were added:\r\n\r\n    ZipOutputStream zos = null; \r\n    OutputStream file = new FileOutputStream(&quot;...&quot;)\r\n    int itemsAdded=0;\r\n    try\r\n    {\r\n        zos = new ZipOutputStream(file);\r\n        //\r\n        //..\r\n        // itemsAdded++; \r\n    }\r\n    finally\r\n    {\r\n        if ( itemsAdded &gt; 0 ) {\r\n             zos.close();\r\n        } else {\r\n             file.close();\r\n        }\r\n    }\r\n\r\nof if you don&#39;t need the count just use a `boolean` flag.","title":"Closing ZipOutputStream","body":"<p>You should track if you added stuff the zip stream and close it only when things were added:</p>\n\n<pre><code>ZipOutputStream zos = null; \nOutputStream file = new FileOutputStream(\"...\")\nint itemsAdded=0;\ntry\n{\n    zos = new ZipOutputStream(file);\n    //\n    //..\n    // itemsAdded++; \n}\nfinally\n{\n    if ( itemsAdded &gt; 0 ) {\n         zos.close();\n    } else {\n         file.close();\n    }\n}\n</code></pre>\n\n<p>of if you don't need the count just use a <code>boolean</code> flag.</p>\n"},{"tags":[],"owner":{"account_id":661761,"reputation":2664,"user_id":474786,"display_name":"Anon"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1294932119,"creation_date":1294931669,"answer_id":4681595,"question_id":4681459,"body_markdown":"You should close the `FileOutputStream`, not the `ZipOutputStream`, because the former is what actually consumes system resources.\r\n\r\n    File zipFile = new File(&quot;/tmp/example.zip&quot;);\r\n    FileOutputStream fos = null;\r\n    try\r\n    {\r\n       fos = new FileOutputStream(zipFile);\r\n       ZipOutputStream zos = new ZipOutputStream(fos);\r\n    \r\n       // ...\r\n    \r\n       zos.close();\r\n    }\r\n    catch (IOException ex)\r\n    {\r\n       // log/report exception, then delete the invalid file\r\n       IOUtils.closeQuietly(fos);\r\n       zipFile.delete();\r\n    }\r\n    finally\r\n    {\r\n       IOUtils.closeQuietly(fos);\r\n    }\r\n\r\n \r\nThe `IOUtils` class is found in [Jakarta Commons IO][1]. Using it means that you don&#39;t have to deal with the possible-but-rarely-useful `IOException` that can be thrown by `close()`.\r\n\r\n\r\n  [1]: http://commons.apache.org/io/","title":"Closing ZipOutputStream","body":"<p>You should close the <code>FileOutputStream</code>, not the <code>ZipOutputStream</code>, because the former is what actually consumes system resources.</p>\n\n<pre><code>File zipFile = new File(\"/tmp/example.zip\");\nFileOutputStream fos = null;\ntry\n{\n   fos = new FileOutputStream(zipFile);\n   ZipOutputStream zos = new ZipOutputStream(fos);\n\n   // ...\n\n   zos.close();\n}\ncatch (IOException ex)\n{\n   // log/report exception, then delete the invalid file\n   IOUtils.closeQuietly(fos);\n   zipFile.delete();\n}\nfinally\n{\n   IOUtils.closeQuietly(fos);\n}\n</code></pre>\n\n<p>The <code>IOUtils</code> class is found in <a href=\"http://commons.apache.org/io/\" rel=\"noreferrer\">Jakarta Commons IO</a>. Using it means that you don't have to deal with the possible-but-rarely-useful <code>IOException</code> that can be thrown by <code>close()</code>.</p>\n"},{"tags":[],"owner":{"account_id":478763,"reputation":1187,"user_id":891055,"accept_rate":77,"display_name":"vincentlcy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1337271505,"creation_date":1337224423,"answer_id":10629360,"question_id":4681459,"body_markdown":"Instead of closing the stream only when things are added, what I did is a condition check to see if there was anything to zip, before running the zip code. This helped me to simplify the process and I think can be used in general to handle the &quot;ZIP file must have at least one entry&quot; problem. True that closing `zos` may throw other exceptions, but that is rare.\r\n\r\nI think it is problem with Java, that doesn&#39;t handle the case when there are no files to zip.\r\n\r\ni.e:\r\n\r\n\tint itemsToAdd=0;\r\n\t//....\r\n\t\r\n\tif ( itemsToAdd &gt; 0 ) {\r\n\t\r\n\t\tZipOutputStream zos = new ZipOutputStream(file);\r\n\t\ttry {\r\n\t\t\t//add files to zip\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tzos.close();\r\n\t\t}\r\n\t}","title":"Closing ZipOutputStream","body":"<p>Instead of closing the stream only when things are added, what I did is a condition check to see if there was anything to zip, before running the zip code. This helped me to simplify the process and I think can be used in general to handle the \"ZIP file must have at least one entry\" problem. True that closing <code>zos</code> may throw other exceptions, but that is rare.</p>\n\n<p>I think it is problem with Java, that doesn't handle the case when there are no files to zip.</p>\n\n<p>i.e:</p>\n\n<pre><code>int itemsToAdd=0;\n//....\n\nif ( itemsToAdd &gt; 0 ) {\n\n    ZipOutputStream zos = new ZipOutputStream(file);\n    try {\n        //add files to zip\n    }\n    finally {\n        zos.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16838507,"reputation":1504,"user_id":12174440,"display_name":"turong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591085112,"creation_date":1591085112,"answer_id":62147494,"question_id":4681459,"body_markdown":"If you use Java 7 or above, you can use try-with-resources for better readability\r\n\r\nFor example:\r\n\r\n    try (ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(&quot;...&quot;))) {\r\n        // do something with zos\r\n    }","title":"Closing ZipOutputStream","body":"<p>If you use Java 7 or above, you can use try-with-resources for better readability</p>\n\n<p>For example:</p>\n\n<pre><code>try (ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(\"...\"))) {\n    // do something with zos\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10289113,"reputation":31,"user_id":7591344,"display_name":"Felicity Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694144070,"creation_date":1694144070,"answer_id":77063986,"question_id":4681459,"body_markdown":"Using Java 7 or above, **just try-with-resource would be enough to close ZipOutputStream**, and there is no need to call close() or closeEntry() methods to flush the buffer data and close the stream.\r\n\r\n\r\nChecked the code of ZipOutputStream::close(), it would call finish(), and inside the finish method, there is a check as following, which means that the closeEntry would be called automatically when the stream closed.\r\n\r\n    public void finish() throws IOException {\r\n    ensureOpen();\r\n    if (finished) {\r\n        return;\r\n    }\r\n    if (current != null) {\r\n        closeEntry();\r\n    }\r\n    // write central directory\r\n    long off = written;\r\n    for (XEntry xentry : xentries)\r\n        writeCEN(xentry);\r\n    writeEND(off, written - off);\r\n    finished = true;\r\n}","title":"Closing ZipOutputStream","body":"<p>Using Java 7 or above, <strong>just try-with-resource would be enough to close ZipOutputStream</strong>, and there is no need to call close() or closeEntry() methods to flush the buffer data and close the stream.</p>\n<p>Checked the code of ZipOutputStream::close(), it would call finish(), and inside the finish method, there is a check as following, which means that the closeEntry would be called automatically when the stream closed.</p>\n<pre><code>public void finish() throws IOException {\nensureOpen();\nif (finished) {\n    return;\n}\nif (current != null) {\n    closeEntry();\n}\n// write central directory\nlong off = written;\nfor (XEntry xentry : xentries)\n    writeCEN(xentry);\nwriteEND(off, written - off);\nfinished = true;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":246295,"reputation":11636,"user_id":520359,"accept_rate":87,"display_name":"Lachezar Balev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22675,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":4681595,"answer_count":5,"score":11,"last_activity_date":1694144070,"creation_date":1294930893,"question_id":4681459,"body_markdown":"I&#39;m a bit confused. I know that an empty zip is not legal. But what about this sample snippet:\r\n\r\n    ZipOutputStream zos = null; \r\n    try\r\n    {\r\n        zos = new ZipOutputStream(new FileOutputStream(&quot;...&quot;));\r\n        //\r\n        //..\r\n        //\r\n    }\r\n    finally\r\n    {\r\n        zos.close();\r\n    }\r\n\r\nIf no zip entries had been added for some reason (possibly exceptional situation) then the following exception will be thrown on close attempt:\r\n\r\n    Exception in thread &quot;main&quot; java.util.zip.ZipException: ZIP file must have at least one entry\r\n    \tat java.util.zip.ZipOutputStream.finish(ZipOutputStream.java:304)\r\n    \tat java.util.zip.DeflaterOutputStream.close(DeflaterOutputStream.java:146)\r\n    \tat java.util.zip.ZipOutputStream.close(ZipOutputStream.java:321)\r\n\r\nIn this situation what would be the cleanest way to close the stream?\r\n\r\nThanks...\r\n\r\n","title":"Closing ZipOutputStream","body":"<p>I'm a bit confused. I know that an empty zip is not legal. But what about this sample snippet:</p>\n\n<pre><code>ZipOutputStream zos = null; \ntry\n{\n    zos = new ZipOutputStream(new FileOutputStream(\"...\"));\n    //\n    //..\n    //\n}\nfinally\n{\n    zos.close();\n}\n</code></pre>\n\n<p>If no zip entries had been added for some reason (possibly exceptional situation) then the following exception will be thrown on close attempt:</p>\n\n<pre><code>Exception in thread \"main\" java.util.zip.ZipException: ZIP file must have at least one entry\n    at java.util.zip.ZipOutputStream.finish(ZipOutputStream.java:304)\n    at java.util.zip.DeflaterOutputStream.close(DeflaterOutputStream.java:146)\n    at java.util.zip.ZipOutputStream.close(ZipOutputStream.java:321)\n</code></pre>\n\n<p>In this situation what would be the cleanest way to close the stream?</p>\n\n<p>Thanks...</p>\n"},{"tags":["java","swing","jscrollpane"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1693971125,"post_id":77048835,"comment_id":135828499,"body_markdown":"[How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1693971426,"post_id":77048835,"comment_id":135828519,"body_markdown":"[How to Decorate Components with the JLayer Class](https://docs.oracle.com/javase/tutorial/uiswing/misc/jlayer.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/jlayer.html\" rel=\"nofollow noreferrer\">How to Decorate Components with the JLayer Class</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1693971591,"post_id":77048835,"comment_id":135828536,"body_markdown":"It&#39;s somewhat complicated, as the button would need to be managed independently of its &quot;normal&quot; operations - maybe making use of compounding layouts - [for example](https://stackoverflow.com/questions/75368027/java-swing-trying-to-add-a-stationary-jbutton-over-a-jscrollpane/75378703#75378703)","body":"It&#39;s somewhat complicated, as the button would need to be managed independently of its &quot;normal&quot; operations - maybe making use of compounding layouts - <a href=\"https://stackoverflow.com/questions/75368027/java-swing-trying-to-add-a-stationary-jbutton-over-a-jscrollpane/75378703#75378703\">for example</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1693978292,"post_id":77048835,"comment_id":135829055,"body_markdown":"@MadProgrammer you wrote (in your [comment](https://stackoverflow.com/questions/77048835/adding-a-non-scrolling-component-to-a-jscrollpane#comment135828536_77048835)): _the button would need to be managed_ What &quot;button&quot;? I see absolutely no mention of a &quot;button&quot; in the question. Am I missing something?","body":"@MadProgrammer you wrote (in your <a href=\"https://stackoverflow.com/questions/77048835/adding-a-non-scrolling-component-to-a-jscrollpane#comment135828536_77048835\">comment</a>): <i>the button would need to be managed</i> What &quot;button&quot;? I see absolutely no mention of a &quot;button&quot; in the question. Am I missing something?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693979810,"post_id":77048835,"comment_id":135829222,"body_markdown":"@Abra Sorry - &quot;component&quot; - I just assumed they&#39;ed want to have a floating button like Android does - conceptually, it wouldn&#39;t matter, you could use any component in the same way","body":"@Abra Sorry - &quot;component&quot; - I just assumed they&#39;ed want to have a floating button like Android does - conceptually, it wouldn&#39;t matter, you could use any component in the same way"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1694009124,"post_id":77048835,"comment_id":135835057,"body_markdown":"Another idea could be a JLayeredPane. The scrollpane and the nonscrolling component are on different layers then. https://docs.oracle.com/javase/tutorial/uiswing/components/layeredpane.html","body":"Another idea could be a JLayeredPane. The scrollpane and the nonscrolling component are on different layers then. <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/layeredpane.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693973009,"creation_date":1693973009,"answer_id":77048955,"question_id":77048835,"body_markdown":"I suggest using the &quot;column header&quot; (of the [JScrollPane][1]). In the below code, the &quot;column header&quot; is a `JPanel` with [BoxLayout][2].\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\n\r\nimport javax.swing.Box;\r\nimport javax.swing.BoxLayout;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\n\r\npublic class Main implements Runnable {\r\n\r\n    @Override\r\n    public void run() {\r\n        JFrame frame = new JFrame(&quot;Pinned&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        JTextArea txtAr = new JTextArea(&quot;&quot;&quot;\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                &quot;&quot;&quot;);\r\n        txtAr.setColumns(40);\r\n        JScrollPane scrollPane = new JScrollPane(txtAr);\r\n        JPanel hdr = new JPanel();\r\n        hdr.setBackground(txtAr.getBackground());\r\n        BoxLayout layout = new BoxLayout(hdr, BoxLayout.LINE_AXIS);\r\n        hdr.setLayout(layout);\r\n        JLabel first = new JLabel(&quot;d&quot;);\r\n        first.setFont(txtAr.getFont());\r\n        hdr.add(first);\r\n        hdr.add(Box.createHorizontalGlue());\r\n        JLabel last = new JLabel(&quot;this shouldn&#39;t scroll&quot;);\r\n        last.setFont(txtAr.getFont());\r\n        hdr.add(last);\r\n        scrollPane.setColumnHeaderView(hdr);\r\n        frame.add(scrollPane, BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        EventQueue.invokeLater(new GUI());\r\n    }\r\n}\r\n```\r\nHere is a screen capture:\r\n\r\n[![screen capture][3]][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/layout/box.html\r\n  [3]: https://i.stack.imgur.com/Suwj5.png","title":"adding a non-scrolling component to a JScrollPane","body":"<p>I suggest using the &quot;column header&quot; (of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">JScrollPane</a>). In the below code, the &quot;column header&quot; is a <code>JPanel</code> with <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/box.html\" rel=\"nofollow noreferrer\">BoxLayout</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\n\nimport javax.swing.Box;\nimport javax.swing.BoxLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\n\npublic class Main implements Runnable {\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Pinned&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        JTextArea txtAr = new JTextArea(&quot;&quot;&quot;\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                &quot;&quot;&quot;);\n        txtAr.setColumns(40);\n        JScrollPane scrollPane = new JScrollPane(txtAr);\n        JPanel hdr = new JPanel();\n        hdr.setBackground(txtAr.getBackground());\n        BoxLayout layout = new BoxLayout(hdr, BoxLayout.LINE_AXIS);\n        hdr.setLayout(layout);\n        JLabel first = new JLabel(&quot;d&quot;);\n        first.setFont(txtAr.getFont());\n        hdr.add(first);\n        hdr.add(Box.createHorizontalGlue());\n        JLabel last = new JLabel(&quot;this shouldn't scroll&quot;);\n        last.setFont(txtAr.getFont());\n        hdr.add(last);\n        scrollPane.setColumnHeaderView(hdr);\n        frame.add(scrollPane, BorderLayout.CENTER);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) throws Exception {\n        EventQueue.invokeLater(new GUI());\n    }\n}\n</code></pre>\n<p>Here is a screen capture:</p>\n<p><a href=\"https://i.stack.imgur.com/Suwj5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Suwj5.png\" alt=\"screen capture\" /></a></p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693981507,"creation_date":1693981507,"answer_id":77049440,"question_id":77048835,"body_markdown":"As a personal preference, I&#39;d probably use a compound layout, simular to [this example](https://stackoverflow.com/questions/75368027/java-swing-trying-to-add-a-stationary-jbutton-over-a-jscrollpane/75378703#75378703) as it gives you more control over the the component been rendered (ie much easier to deal with live components like buttons) and it&#39;s position.\r\n\r\nYou &quot;could&quot; make use of the `JLayer` API, for example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLayer;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollBar;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.plaf.LayerUI;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() throws IOException {\r\n                FixedTextLayerUI layerUI = new FixedTextLayerUI();\r\n                layerUI.setText(&quot;this shouldn&#39;t scroll!&quot;);\r\n\r\n                JTextArea ta = new JTextArea(20, 40);\r\n                StringBuilder sb = new StringBuilder(1024);\r\n                // Bring your own content ;)\r\n                try (BufferedReader br = new BufferedReader(new InputStreamReader(getClass().getResourceAsStream(&quot;/resources/StarWarsNewHope.txt&quot;)))) {\r\n                    String text = null;\r\n                    while ((text = br.readLine()) != null) {\r\n                        sb.append(text);\r\n                        sb.append(System.lineSeparator());\r\n                    }\r\n                    ta.setText(sb.toString());\r\n                }\r\n                JLayer&lt;JComponent&gt; layer = new JLayer&lt;JComponent&gt;(new JScrollPane(ta), layerUI);\r\n                setLayout(new BorderLayout());\r\n                add(layer);\r\n            }\r\n\r\n        }\r\n\r\n        public class FixedTextLayerUI extends LayerUI&lt;JComponent&gt; {\r\n\r\n            private String text;\r\n\r\n            public void setText(String text) {\r\n                this.text = text;\r\n            }\r\n\r\n            public String getText() {\r\n                return text;\r\n            }\r\n\r\n            @Override\r\n            public void paint(Graphics g, JComponent c) {\r\n                super.paint(g, c);\r\n\r\n                Graphics2D g2 = (Graphics2D) g.create();\r\n\r\n                FontMetrics fm = g2.getFontMetrics();\r\n                int stringWidth = fm.stringWidth(getText());\r\n                int x = c.getWidth() - stringWidth - 8;\r\n                int y = fm.getHeight() + fm.getAscent() + 8;\r\n\r\n                if (c instanceof JLayer) {\r\n                    JLayer layer = (JLayer) c;\r\n                    if (layer.getView() instanceof JScrollPane) {\r\n                        JScrollPane scrollPane = (JScrollPane) layer.getView();\r\n                        JScrollBar scrollBar = scrollPane.getVerticalScrollBar();\r\n                        if (scrollBar.isVisible()) {\r\n                            x -= scrollBar.getWidth();\r\n                        }\r\n                    }\r\n                }\r\n\r\n                g2.drawString(text, x, y);\r\n\r\n                g2.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/A0Iv3.png\r\n\r\nSee [How to Decorate Components with the JLayer Class](https://docs.oracle.com/javase/tutorial/uiswing/misc/jlayer.html) for more details.\r\n","title":"adding a non-scrolling component to a JScrollPane","body":"<p>As a personal preference, I'd probably use a compound layout, simular to <a href=\"https://stackoverflow.com/questions/75368027/java-swing-trying-to-add-a-stationary-jbutton-over-a-jscrollpane/75378703#75378703\">this example</a> as it gives you more control over the the component been rendered (ie much easier to deal with live components like buttons) and it's position.</p>\n<p>You &quot;could&quot; make use of the <code>JLayer</code> API, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/A0Iv3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A0Iv3.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JLayer;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollBar;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.plaf.LayerUI;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() throws IOException {\n            FixedTextLayerUI layerUI = new FixedTextLayerUI();\n            layerUI.setText(&quot;this shouldn't scroll!&quot;);\n\n            JTextArea ta = new JTextArea(20, 40);\n            StringBuilder sb = new StringBuilder(1024);\n            // Bring your own content ;)\n            try (BufferedReader br = new BufferedReader(new InputStreamReader(getClass().getResourceAsStream(&quot;/resources/StarWarsNewHope.txt&quot;)))) {\n                String text = null;\n                while ((text = br.readLine()) != null) {\n                    sb.append(text);\n                    sb.append(System.lineSeparator());\n                }\n                ta.setText(sb.toString());\n            }\n            JLayer&lt;JComponent&gt; layer = new JLayer&lt;JComponent&gt;(new JScrollPane(ta), layerUI);\n            setLayout(new BorderLayout());\n            add(layer);\n        }\n\n    }\n\n    public class FixedTextLayerUI extends LayerUI&lt;JComponent&gt; {\n\n        private String text;\n\n        public void setText(String text) {\n            this.text = text;\n        }\n\n        public String getText() {\n            return text;\n        }\n\n        @Override\n        public void paint(Graphics g, JComponent c) {\n            super.paint(g, c);\n\n            Graphics2D g2 = (Graphics2D) g.create();\n\n            FontMetrics fm = g2.getFontMetrics();\n            int stringWidth = fm.stringWidth(getText());\n            int x = c.getWidth() - stringWidth - 8;\n            int y = fm.getHeight() + fm.getAscent() + 8;\n\n            if (c instanceof JLayer) {\n                JLayer layer = (JLayer) c;\n                if (layer.getView() instanceof JScrollPane) {\n                    JScrollPane scrollPane = (JScrollPane) layer.getView();\n                    JScrollBar scrollBar = scrollPane.getVerticalScrollBar();\n                    if (scrollBar.isVisible()) {\n                        x -= scrollBar.getWidth();\n                    }\n                }\n            }\n\n            g2.drawString(text, x, y);\n\n            g2.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/jlayer.html\" rel=\"nofollow noreferrer\">How to Decorate Components with the JLayer Class</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694142853,"creation_date":1694141185,"answer_id":77063847,"question_id":77048835,"body_markdown":"Java provides an OverlayLayout layout manager, which should be able to handle this requirement but which I find almost impossible to use.\r\n\r\nInstead you could use the custom OverlayPanel class which will allow you to overlay two components.\r\n\r\nThere are two keys to the code:\r\n\r\n1. you must specify the proper ZOrder of each component to make sure the background component is painted before the foreground component\r\n2. you need to override the `isOptimizedDrawaingEnabled()` to force both components to be repainted all the time. \r\n\r\nThe foreground component can be positioned in one of the 9 anchor locations supported by the GridBagLayout &quot;anchor&quot; constraint.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    \r\n    public class OverlayPanel extends JPanel\r\n    {\r\n    \tprivate GridBagLayout layout;\r\n    \tprivate GridBagConstraints gbc;\r\n    \tprivate Component background;\r\n    \tprivate Component foreground;\r\n    \r\n    \tpublic OverlayPanel(Component background, Component foreground)\r\n    \t{\r\n    \t\tthis(background, foreground, GridBagConstraints.CENTER);\r\n    \t}\r\n    \r\n    \tpublic OverlayPanel(Component background, Component foreground, int foregroundAnchor)\r\n    \t{\r\n    \t\tlayout = new GridBagLayout();\r\n    \t\tsetLayout( layout );\r\n    \r\n    \t\tgbc = new GridBagConstraints();\r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy = 0;\r\n    \r\n    \t\tsetForegroundComponent(foreground, foregroundAnchor );\r\n    \t\tsetBackgroundComponent( background );\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isOptimizedDrawingEnabled()\r\n    \t{\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tpublic void setBackgroundComponent(Component background)\r\n    \t{\r\n    \t\tthis.background = background;\r\n    \r\n    \t\tgbc.weightx = 1.0f;\r\n    \t\tgbc.weighty = 1.0f;\r\n    \t\tgbc.fill = GridBagConstraints.BOTH;\r\n    \t\tgbc.anchor = GridBagConstraints.CENTER;\r\n    \r\n    \t\tsuper.add(background, gbc);\r\n    \t\tsetComponentZOrder(background, 1);\r\n    \t}\r\n    \r\n    \tpublic void setForegroundComponent(Component foreground, int foregroundAnchor)\r\n    \t{\r\n    \t\tthis.foreground = foreground;\r\n    \r\n    \t\tgbc.weightx = 0.0f;\r\n    \t\tgbc.weighty = 0.0f;\r\n    \t\tgbc.fill = GridBagConstraints.NONE;\r\n    \t\tgbc.anchor = foregroundAnchor;\r\n    \r\n    \t\tsuper.add(foreground, gbc);\r\n    \t\tsetComponentZOrder(foreground, 0);\r\n    \t}\r\n    \r\n    \tpublic void setForegroundPadding(int padX, int padY)\r\n    \t{\r\n    \t\tGridBagConstraints gbc = layout.getConstraints( foreground );\r\n    \r\n    \t\tgbc.ipadx = padX;\r\n    \t\tgbc.ipady = padY;\r\n    \r\n    \t\tlayout.setConstraints(foreground, gbc);\r\n    \t\trevalidate();\r\n    \t\trepaint();\r\n    \t}\r\n    \r\n    \tprivate static void createAndShowGUI()\r\n    \t{\r\n    \t\tJTextArea textArea = new JTextArea(10, 20);\r\n    \t\tJScrollPane scrollPane = new JScrollPane( textArea );\r\n    \r\n    \t\tJLabel label  = new JLabel(&quot;Testing&quot;);\r\n    \r\n    \t\tOverlayPanel overlay = new OverlayPanel(scrollPane, label, GridBagConstraints.FIRST_LINE_END);\r\n    //\t\tOverlayPanel overlay = new OverlayPanel(scrollPane, label);\r\n    \t\toverlay.setForegroundPadding(8 + UIManager.getInt(&quot;ScrollBar.width&quot;), 8);\r\n    \r\n    \t\tJFrame frame = new JFrame(&quot;OverlayPanel&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add(overlay);\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.setVisible( true );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tjava.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\r\n    \t}\r\n    }\r\n\r\n","title":"adding a non-scrolling component to a JScrollPane","body":"<p>Java provides an OverlayLayout layout manager, which should be able to handle this requirement but which I find almost impossible to use.</p>\n<p>Instead you could use the custom OverlayPanel class which will allow you to overlay two components.</p>\n<p>There are two keys to the code:</p>\n<ol>\n<li>you must specify the proper ZOrder of each component to make sure the background component is painted before the foreground component</li>\n<li>you need to override the <code>isOptimizedDrawaingEnabled()</code> to force both components to be repainted all the time.</li>\n</ol>\n<p>The foreground component can be positioned in one of the 9 anchor locations supported by the GridBagLayout &quot;anchor&quot; constraint.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\n\npublic class OverlayPanel extends JPanel\n{\n    private GridBagLayout layout;\n    private GridBagConstraints gbc;\n    private Component background;\n    private Component foreground;\n\n    public OverlayPanel(Component background, Component foreground)\n    {\n        this(background, foreground, GridBagConstraints.CENTER);\n    }\n\n    public OverlayPanel(Component background, Component foreground, int foregroundAnchor)\n    {\n        layout = new GridBagLayout();\n        setLayout( layout );\n\n        gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n\n        setForegroundComponent(foreground, foregroundAnchor );\n        setBackgroundComponent( background );\n    }\n\n    @Override\n    public boolean isOptimizedDrawingEnabled()\n    {\n        return false;\n    }\n\n    public void setBackgroundComponent(Component background)\n    {\n        this.background = background;\n\n        gbc.weightx = 1.0f;\n        gbc.weighty = 1.0f;\n        gbc.fill = GridBagConstraints.BOTH;\n        gbc.anchor = GridBagConstraints.CENTER;\n\n        super.add(background, gbc);\n        setComponentZOrder(background, 1);\n    }\n\n    public void setForegroundComponent(Component foreground, int foregroundAnchor)\n    {\n        this.foreground = foreground;\n\n        gbc.weightx = 0.0f;\n        gbc.weighty = 0.0f;\n        gbc.fill = GridBagConstraints.NONE;\n        gbc.anchor = foregroundAnchor;\n\n        super.add(foreground, gbc);\n        setComponentZOrder(foreground, 0);\n    }\n\n    public void setForegroundPadding(int padX, int padY)\n    {\n        GridBagConstraints gbc = layout.getConstraints( foreground );\n\n        gbc.ipadx = padX;\n        gbc.ipady = padY;\n\n        layout.setConstraints(foreground, gbc);\n        revalidate();\n        repaint();\n    }\n\n    private static void createAndShowGUI()\n    {\n        JTextArea textArea = new JTextArea(10, 20);\n        JScrollPane scrollPane = new JScrollPane( textArea );\n\n        JLabel label  = new JLabel(&quot;Testing&quot;);\n\n        OverlayPanel overlay = new OverlayPanel(scrollPane, label, GridBagConstraints.FIRST_LINE_END);\n//      OverlayPanel overlay = new OverlayPanel(scrollPane, label);\n        overlay.setForegroundPadding(8 + UIManager.getInt(&quot;ScrollBar.width&quot;), 8);\n\n        JFrame frame = new JFrame(&quot;OverlayPanel&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(overlay);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args)\n    {\n        java.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18870627,"reputation":49,"user_id":13765314,"display_name":"ix0rai"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77049440,"answer_count":3,"score":1,"last_activity_date":1694142853,"creation_date":1693970391,"question_id":77048835,"body_markdown":"I&#39;d like to add a non-scrolling element, always visible element (a &quot;pinned&quot; element) in a JScrollPane of a Swing GUI. Taking this example code:\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        JEditorPane editorPane = new JEditorPane();\r\n        editorPane.setText(&quot;&quot;&quot;\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                d\r\n                &quot;&quot;&quot;);\r\n        JScrollPane scroll = new JScrollPane(editorPane);\r\n        editorPane.setLayout(new FlowLayout(FlowLayout.RIGHT));\r\n        editorPane.add(new JLabel(&quot;this shouldn&#39;t scroll!&quot;));\r\n\r\n        frame.getContentPane().add(scroll);\r\n        frame.setSize(600, 400);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n\r\n```\r\nWhich produces this GUI:  \r\n[![the swing panel created by the code](https://i.stack.imgur.com/wAafh.png)](https://i.stack.imgur.com/wAafh.png)\r\n\r\n\r\nI need a way to:   \r\n1. Make sure that the &quot;this shouldn&#39;t scroll!&quot; JLabel doesn&#39;t move when the scroll pane scrolls.\r\n2. Pin the &quot;this shouldn&#39;t scroll!&quot; JLabel to the right side of the panel (currently, it becomes hidden with a resize of the panel. I&#39;d like it to move left when the right side of the panel is pushed smaller, to make sure it&#39;s always on screen).\r\n\r\n\r\nI&#39;ve been able to make an awful implementation of this using swing&#39;s glass pane, but it means a lot more manual updating for me, and position always being the same, no matter how the swing panel is resized.\r\n\r\nThank you for any help!","title":"adding a non-scrolling component to a JScrollPane","body":"<p>I'd like to add a non-scrolling element, always visible element (a &quot;pinned&quot; element) in a JScrollPane of a Swing GUI. Taking this example code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        JEditorPane editorPane = new JEditorPane();\n        editorPane.setText(&quot;&quot;&quot;\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                d\n                &quot;&quot;&quot;);\n        JScrollPane scroll = new JScrollPane(editorPane);\n        editorPane.setLayout(new FlowLayout(FlowLayout.RIGHT));\n        editorPane.add(new JLabel(&quot;this shouldn't scroll!&quot;));\n\n        frame.getContentPane().add(scroll);\n        frame.setSize(600, 400);\n        frame.setVisible(true);\n    }\n}\n\n</code></pre>\n<p>Which produces this GUI:<br />\n<a href=\"https://i.stack.imgur.com/wAafh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wAafh.png\" alt=\"the swing panel created by the code\" /></a></p>\n<p>I need a way to:</p>\n<ol>\n<li>Make sure that the &quot;this shouldn't scroll!&quot; JLabel doesn't move when the scroll pane scrolls.</li>\n<li>Pin the &quot;this shouldn't scroll!&quot; JLabel to the right side of the panel (currently, it becomes hidden with a resize of the panel. I'd like it to move left when the right side of the panel is pushed smaller, to make sure it's always on screen).</li>\n</ol>\n<p>I've been able to make an awful implementation of this using swing's glass pane, but it means a lot more manual updating for me, and position always being the same, no matter how the swing panel is resized.</p>\n<p>Thank you for any help!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1683688411,"post_id":76214604,"comment_id":134403418,"body_markdown":"Not sure if this [issue](https://github.com/netty/netty/issues/12119) could be related. Both are having a crash using netty and redisson. Just gave a quick look at the log and seems to me that many threads were started and are also blocked. If that is happening, it could be a thread starvation, but not sure if that is causing the crash. If you have monitoring tools, you could see how the resources are being consumed. There is also a core dump file that is hosted in the server, have you checked it?","body":"Not sure if this <a href=\"https://github.com/netty/netty/issues/12119\" rel=\"nofollow noreferrer\">issue</a> could be related. Both are having a crash using netty and redisson. Just gave a quick look at the log and seems to me that many threads were started and are also blocked. If that is happening, it could be a thread starvation, but not sure if that is causing the crash. If you have monitoring tools, you could see how the resources are being consumed. There is also a core dump file that is hosted in the server, have you checked it?"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1683688721,"post_id":76214604,"comment_id":134403449,"body_markdown":"What server are you using? A cloud provider? Bare metals? Operative system? Virtual machine? Docker? Please add more details about the context. If you have a dashboard of resources consumed, it could help to see what is happening. I mean not only cpu, memory and network. Also jvm resources","body":"What server are you using? A cloud provider? Bare metals? Operative system? Virtual machine? Docker? Please add more details about the context. If you have a dashboard of resources consumed, it could help to see what is happening. I mean not only cpu, memory and network. Also jvm resources"},{"owner":{"account_id":28563575,"reputation":1,"user_id":21866769,"display_name":"kernelsky"},"score":0,"creation_date":1683696100,"post_id":76214604,"comment_id":134404099,"body_markdown":"system：Kylin  Linux 4.19.90-23.8.v2101.ky10.aarch64   ARMv8 CPU ，\nThe core file has been analyzed, but what is the problem is not found out，When there is a problem, the cpu and memory will rise in a straight line, but the cpu is only 100% of the single core, and there is still room for system memory","body":"system：Kylin  Linux 4.19.90-23.8.v2101.ky10.aarch64   ARMv8 CPU ， The core file has been analyzed, but what is the problem is not found out，When there is a problem, the cpu and memory will rise in a straight line, but the cpu is only 100% of the single core, and there is still room for system memory"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1683728637,"post_id":76214604,"comment_id":134411589,"body_markdown":"what about the jvm metrics? memory, cpu, threads, garbage collector, method calls, etc.","body":"what about the jvm metrics? memory, cpu, threads, garbage collector, method calls, etc."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1683736704,"post_id":76214604,"comment_id":134413733,"body_markdown":"Please don&#39;t add comments to clarify, [edit] your question instead. A segmentation fault happens when you access memory that isn&#39;t yours, like a null pointer in C (not a `NullPointerException` in Java). This looks like a problem in the JVM to me. Can you upgrade?","body":"Please don&#39;t add comments to clarify, <a href=\"https://stackoverflow.com/posts/76214604/edit\">edit</a> your question instead. A segmentation fault happens when you access memory that isn&#39;t yours, like a null pointer in C (not a <code>NullPointerException</code> in Java). This looks like a problem in the JVM to me. Can you upgrade?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683770859,"post_id":76214604,"comment_id":134418749,"body_markdown":"It is more likely to be a problem with non-OpenJDK native code libraries ... or something using `Unsafe` uncorrectly.  If you look at the netty issue tracker you will see examples of this kind of thing.  Unfortunately, there is little that we can do to help you.  You can try upgrading your Java to a more recent version of Java 8, but that may not help.","body":"It is more likely to be a problem with non-OpenJDK native code libraries ... or something using <code>Unsafe</code> uncorrectly.  If you look at the netty issue tracker you will see examples of this kind of thing.  Unfortunately, there is little that we can do to help you.  You can try upgrading your Java to a more recent version of Java 8, but that may not help."}],"owner":{"account_id":28563575,"reputation":1,"user_id":21866769,"display_name":"kernelsky"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694142851,"creation_date":1683687465,"question_id":76214604,"body_markdown":"Our server hung because of a SIGSEGV fault..\r\n\r\nMy program script is killed by the system once a week. There is no problem with the system resources and it is relatively sufficient. The following is the error log. I hope you can help analyze the cause of the problem, thank you\r\nA fatal error has been detected by the Java Runtime Environment:\r\n```\r\n#\r\n#  SIGSEGV (0xb) at pc=0x0000fffeef35c9a4, pid=2369121, tid=0x0000fffc969ff1c0\r\n#\r\n# JRE version: OpenJDK Runtime Environment (8.0_242-b08) (build 1.8.0_242-b08)\r\n# Java VM: OpenJDK 64-Bit Server VM (25.242-b08 mixed mode linux-aarch64 compressed oops)\r\n# Problematic frame:\r\n# j  io.netty.buffer.PooledUnsafeDirectByteBuf.newInstance(I)Lio/netty/buffer/PooledUnsafeDirectByteBuf;+6\r\n#\r\n# Core dump written. Default location: /home/hd/hd-bpm-cloud-server/core or core.2369121\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   http://bugreport.java.com/bugreport/crash.jsp\r\n#\r\n\r\n---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x0000fffe60003000):  JavaThread &quot;redisson-netty-17-11&quot; [_thread_in_Java, id=2369414, stack(0x0000fffc96800000,0x0000fffc96a00000)]\r\n\r\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x00000008bbea5f6b\r\n\r\n\r\n```\r\nfull log file：https://github.com/kernelsky/kubernetes/blob/master/hs_err_pid2369121.log\r\nThis file contains jvm indicators, status before being killed, thread information, etc.\r\nThe same problem still exists in the upgraded version of openjdk\r\n\r\nI am curious to know what could be the root cause of this?\r\n\r\nAny help is highly appreciated..Thanks.","title":"openjdk JVM Crash to SIGSEGV","body":"<p>Our server hung because of a SIGSEGV fault..</p>\n<p>My program script is killed by the system once a week. There is no problem with the system resources and it is relatively sufficient. The following is the error log. I hope you can help analyze the cause of the problem, thank you\nA fatal error has been detected by the Java Runtime Environment:</p>\n<pre><code>#\n#  SIGSEGV (0xb) at pc=0x0000fffeef35c9a4, pid=2369121, tid=0x0000fffc969ff1c0\n#\n# JRE version: OpenJDK Runtime Environment (8.0_242-b08) (build 1.8.0_242-b08)\n# Java VM: OpenJDK 64-Bit Server VM (25.242-b08 mixed mode linux-aarch64 compressed oops)\n# Problematic frame:\n# j  io.netty.buffer.PooledUnsafeDirectByteBuf.newInstance(I)Lio/netty/buffer/PooledUnsafeDirectByteBuf;+6\n#\n# Core dump written. Default location: /home/hd/hd-bpm-cloud-server/core or core.2369121\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n#\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x0000fffe60003000):  JavaThread &quot;redisson-netty-17-11&quot; [_thread_in_Java, id=2369414, stack(0x0000fffc96800000,0x0000fffc96a00000)]\n\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x00000008bbea5f6b\n\n\n</code></pre>\n<p>full log file：https://github.com/kernelsky/kubernetes/blob/master/hs_err_pid2369121.log\nThis file contains jvm indicators, status before being killed, thread information, etc.\nThe same problem still exists in the upgraded version of openjdk</p>\n<p>I am curious to know what could be the root cause of this?</p>\n<p>Any help is highly appreciated..Thanks.</p>\n"},{"tags":["java","spring","oracle","hibernate","jpa"],"comments":[{"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"score":1,"creation_date":1694026099,"post_id":77054399,"comment_id":135838602,"body_markdown":"Check the basics. Make sure you are connecting to the database you think you are.  Are you seeing any exceptions in the logs?  Create a test for this piece of code an isolate it from the rest of the env and try it there.","body":"Check the basics. Make sure you are connecting to the database you think you are.  Are you seeing any exceptions in the logs?  Create a test for this piece of code an isolate it from the rest of the env and try it there."},{"owner":{"account_id":23547029,"reputation":103,"user_id":17590305,"display_name":"Ignacio Thomson"},"score":0,"creation_date":1694026436,"post_id":77054399,"comment_id":135838672,"body_markdown":"@Deadron I checked everything, database, table, attribute names, data types, absolutely everything and somehow I managed to &#39;fix&#39; it? I can&#39;t really call it like that but the problem was for one singular record in the database that I was not able to update (no idea why, I&#39;ll have to ask the DB Admin), as soon as I tried a different entry, everything was updated without an issue, so that&#39;s strange.","body":"@Deadron I checked everything, database, table, attribute names, data types, absolutely everything and somehow I managed to &#39;fix&#39; it? I can&#39;t really call it like that but the problem was for one singular record in the database that I was not able to update (no idea why, I&#39;ll have to ask the DB Admin), as soon as I tried a different entry, everything was updated without an issue, so that&#39;s strange."}],"answers":[{"tags":[],"owner":{"account_id":29391779,"reputation":1,"user_id":22519945,"display_name":"Kaushal Kadel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694142609,"creation_date":1694142539,"answer_id":77063904,"question_id":77054399,"body_markdown":"Save the updated data by using .save(). Add before catch block.\r\ngrlMaeItemDetRepository.save(grlMaeItemDetUpdate);","title":"JPA Update changes not reflecting in the Database","body":"<p>Save the updated data by using .save(). Add before catch block.\ngrlMaeItemDetRepository.save(grlMaeItemDetUpdate);</p>\n"}],"owner":{"account_id":23547029,"reputation":103,"user_id":17590305,"display_name":"Ignacio Thomson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694142609,"creation_date":1694024536,"question_id":77054399,"body_markdown":"I&#39;m trying to update a record in an Oracle database, using this code:\r\n\r\n    @Transactional\r\n    public void updateLedgerAccountDetails(LedgerAccount ledgerAccount) {\r\n\r\n        try {\r\n            GrlMaeItemDet grlMaeItemDetUpdate = grlMaeItemDetRepository.findByPk(ledgerAccount.getGrlItemSistCcosto().getCodSistem(),\r\n                    ledgerAccount.getGrlItemSistCcosto().getGrlCodItem(),\r\n                    ledgerAccount.getGrlItemSistCcosto().getCodEmpres(),\r\n                    ledgerAccount.getGrlItemSistCcosto().getNumPeriodo());\r\n            grlMaeItemDetUpdate.setCodImpsto(ledgerAccount.getGrlMaeItemDet().getCodImpsto());\r\n\r\n        } catch (Exception e){\r\n            log.error(&quot;An error has occured: &quot;, e);\r\n        }\r\n    }\r\n\r\nAnd with this repository\r\n\r\n    @Repository\r\n    public class LedgerAccountRepository {\r\n\r\n    public interface GrlMaeItemDetRepository extends JpaRepository&lt;GrlMaeItemDet, PkGrlMaeItemDet&gt; {\r\n        @Query(value = AppConfiguration.MAE_ITEM_DET_QUERY, nativeQuery = true)\r\n        GrlMaeItemDet findByPk(@Param(&quot;codSistem&quot;) String codSistem,\r\n                               @Param(&quot;grlCodItem&quot;) String grlCodItem,\r\n                               @Param(&quot;codEmpres&quot;) String codEmpres,\r\n                               @Param(&quot;numPeriodo&quot;) BigInteger numPeriodo);\r\n\r\n      }\r\n\r\n    }\r\n\r\nBut it doesn&#39;t seem to be working correctly, even when I&#39;m already validating that the entry exists in the Database performing a findBy... that I&#39;ve created, and even though Hibernate logs this: \r\n\r\n    Hibernate: update grl_mae_item_det set vige=?,fec_transc=?,hra_transc=?, cod_impsto=? where cod_empres=? and cod_sistem=? and grl_cod_item=? and num_periodo=?\r\n\r\nThe problem is as follows: I can&#39;t see the corresponding data being updated in the table (Using DBeaver), it basically stays the same, and when I run the program again and constantly fetch the entity, I can see it with the updated data in the terminal but not on the table, so it&#39;s like I&#39;m seeing the same entry with two different sets of data, one on the code-side and another on the database-side (already confirmed that it&#39;s the same record).\r\n\r\nI also tried running a manual script directly on the table and it seemed to work just fine, and not to mention that I have two other tables with the same exact code implementation as this one, and they update without an issue.\r\n\r\nEdit: problem seemed to be related to the record I was using for testing as it seemed it wasn&#39;t updatable but I still wasn&#39;t getting errors, exceptions or warnings. As soon as I tried to update another record it worked. Leaving post up for future reference in case someone ever crosses the same scenario. Cheers.\r\n","title":"JPA Update changes not reflecting in the Database","body":"<p>I'm trying to update a record in an Oracle database, using this code:</p>\n<pre><code>@Transactional\npublic void updateLedgerAccountDetails(LedgerAccount ledgerAccount) {\n\n    try {\n        GrlMaeItemDet grlMaeItemDetUpdate = grlMaeItemDetRepository.findByPk(ledgerAccount.getGrlItemSistCcosto().getCodSistem(),\n                ledgerAccount.getGrlItemSistCcosto().getGrlCodItem(),\n                ledgerAccount.getGrlItemSistCcosto().getCodEmpres(),\n                ledgerAccount.getGrlItemSistCcosto().getNumPeriodo());\n        grlMaeItemDetUpdate.setCodImpsto(ledgerAccount.getGrlMaeItemDet().getCodImpsto());\n\n    } catch (Exception e){\n        log.error(&quot;An error has occured: &quot;, e);\n    }\n}\n</code></pre>\n<p>And with this repository</p>\n<pre><code>@Repository\npublic class LedgerAccountRepository {\n\npublic interface GrlMaeItemDetRepository extends JpaRepository&lt;GrlMaeItemDet, PkGrlMaeItemDet&gt; {\n    @Query(value = AppConfiguration.MAE_ITEM_DET_QUERY, nativeQuery = true)\n    GrlMaeItemDet findByPk(@Param(&quot;codSistem&quot;) String codSistem,\n                           @Param(&quot;grlCodItem&quot;) String grlCodItem,\n                           @Param(&quot;codEmpres&quot;) String codEmpres,\n                           @Param(&quot;numPeriodo&quot;) BigInteger numPeriodo);\n\n  }\n\n}\n</code></pre>\n<p>But it doesn't seem to be working correctly, even when I'm already validating that the entry exists in the Database performing a findBy... that I've created, and even though Hibernate logs this:</p>\n<pre><code>Hibernate: update grl_mae_item_det set vige=?,fec_transc=?,hra_transc=?, cod_impsto=? where cod_empres=? and cod_sistem=? and grl_cod_item=? and num_periodo=?\n</code></pre>\n<p>The problem is as follows: I can't see the corresponding data being updated in the table (Using DBeaver), it basically stays the same, and when I run the program again and constantly fetch the entity, I can see it with the updated data in the terminal but not on the table, so it's like I'm seeing the same entry with two different sets of data, one on the code-side and another on the database-side (already confirmed that it's the same record).</p>\n<p>I also tried running a manual script directly on the table and it seemed to work just fine, and not to mention that I have two other tables with the same exact code implementation as this one, and they update without an issue.</p>\n<p>Edit: problem seemed to be related to the record I was using for testing as it seemed it wasn't updatable but I still wasn't getting errors, exceptions or warnings. As soon as I tried to update another record it worked. Leaving post up for future reference in case someone ever crosses the same scenario. Cheers.</p>\n"},{"tags":["javascript","java","html","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":21625975,"reputation":52,"user_id":15950321,"display_name":"jadekim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694142506,"creation_date":1694142506,"answer_id":77063903,"question_id":77061605,"body_markdown":"It was resolved by modifying it as follows.\r\n\r\n1. Change record dto to class dto and add getter, setter\r\n2. Modified th:field, th:name, th:value to name, value","title":"cannot bind a list of object using thymeleaf","body":"<p>It was resolved by modifying it as follows.</p>\n<ol>\n<li>Change record dto to class dto and add getter, setter</li>\n<li>Modified th:field, th:name, th:value to name, value</li>\n</ol>\n"}],"owner":{"account_id":21625975,"reputation":52,"user_id":15950321,"display_name":"jadekim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77063903,"answer_count":1,"score":0,"last_activity_date":1694142506,"creation_date":1694106542,"question_id":77061605,"body_markdown":"*Even if it&#39;s not related to the question, you can tell me if there&#39;s anything wrong with the code.*\r\n\r\nFirst, i applied the approach of adding table rows and adding input tags by modal. It was implemented by referring to https://stackoverflow.com/questions/36500731/how-to-bind-an-object-list-with-thymeleaf.\r\nBut it fails to bind and `optionRequests` becomes null.\r\n\r\nWhat did I miss? I don&#39;t know what the problem is.\r\n\r\n### html &amp; javascript\r\n\r\n```html\r\n&lt;form id=&quot;example-form&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n  &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;title&quot; name=&quot;title&quot; required&gt;\r\n  &lt;input type=&quot;file&quot; accept=&quot;image/*&quot; class=&quot;form-control&quot; id=&quot;imgFile&quot; name=&quot;imgFile&quot;&gt;\r\n    \r\n  &lt;input type=&quot;button&quot; value=&quot;Add Option&quot; class=&quot;btn btn-primary btn-sm&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#optionModal&quot;&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=&quot;modal fade&quot; id=&quot;optionModal&quot; tabindex=&quot;-1&quot; aria-labelledby=&quot;optionModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\r\n    &lt;div class=&quot;modal-dialog&quot;&gt;\r\n      &lt;div class=&quot;modal-content&quot;&gt;\r\n        &lt;div class=&quot;modal-header&quot;&gt;\r\n          &lt;h1 class=&quot;modal-title fs-5&quot; id=&quot;optionModalLabel&quot;&gt;option&lt;/h1&gt;\r\n          &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;/button&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;modal-body&quot;&gt;\r\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;optionName&quot;&gt;\r\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;addValue&quot;&gt;\r\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;method&quot;&gt;\r\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;material&quot;&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;modal-footer&quot;&gt;\r\n          &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-bs-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\r\n          &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;addOptionRow()&quot;&gt;Add&lt;/button&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;table class=&quot;table table-bordered&quot; id=&quot;optionTable&quot;&gt;\r\n     &lt;thead&gt;\r\n      &lt;tr&gt;\r\n        &lt;th&gt;Name&lt;/th&gt;\r\n        &lt;th&gt;AddValue&lt;/th&gt;\r\n        &lt;th&gt;Method&lt;/th&gt;\r\n        &lt;th&gt;Material&lt;/th&gt;\r\n        &lt;th&gt;&lt;/th&gt;\r\n      &lt;/tr&gt;\r\n      &lt;/thead&gt;\r\n      &lt;tbody&gt;\r\n\r\n      &lt;/tbody&gt;\r\n  &lt;/table&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\n```javascript\r\n&lt;script&gt;\r\n  function addOptionRow() {\r\n      const table = document.getElementById(&#39;optionTable&#39;);\r\n      const newRow = table.insertRow();\r\n      const optionName = newRow.insertCell(0);\r\n      const addValue = newRow.insertCell(1);\r\n      const method = newRow.insertCell(2);\r\n      const material = newRow.insertCell(3);\r\n      const removeButton = newRow.insertCell(4);\r\n      var idx = $(&#39;#optionTable tr&#39;).length - 2;\r\n\r\n      optionNameText = $(&#39;#optionName&#39;).val();\r\n      addValueText = $(&#39;#addValue&#39;).val();\r\n      methodText = $(&#39;#method&#39;).val();\r\n      materialText = $(&#39;#material&#39;).val();\r\n\r\n      optionName.innerText = optionNameText;\r\n      addValue.innerText = addValueText;\r\n      method.innerText = methodText;\r\n      material.innerText = materialText;\r\n      removeButton.innerHTML = &quot;&lt;button class=&#39;btn btn-danger btn-sm&#39; onclick=&#39;removeRow(this)&#39;&gt;X&lt;/button&gt;&quot;\r\n\r\n      $(&quot;#example-form&quot;).append($(&quot;&lt;input type=&#39;hidden&#39; th:field=&#39;${example.optionRequests[&quot; + idx + &quot;].optionName}&#39; th:name=&#39;${example.optionRequests[&quot; + idx + &quot;]}&#39; th:value=&#39;&quot; + optionNameText + &quot;&#39;&gt;&quot;));\r\n      $(&quot;#example-form&quot;).append($(&quot;&lt;input type=&#39;hidden&#39; th:field=&#39;${example.optionRequests[&quot; + idx + &quot;].addValue}&#39; th:name=&#39;${example.optionRequests[&quot; + idx + &quot;]}&#39; th:value=&#39;&quot; + addValueText + &quot;&#39;&gt;&quot;));\r\n      $(&quot;#example-form&quot;).append($(&quot;&lt;input type=&#39;hidden&#39; th:field=&#39;${example.optionRequests[&quot; + idx + &quot;].method}&#39; th:name=&#39;${example.optionRequests[&quot; + idx + &quot;]}&#39; th:value=&#39;&quot; + methodText + &quot;&#39;&gt;&quot;));\r\n      $(&quot;#example-form&quot;).append($(&quot;&lt;input type=&#39;hidden&#39; th:field=&#39;${example.optionRequests[&quot; + idx + &quot;].material}&#39; th:name=&#39;${example.optionRequests[&quot; + idx + &quot;]}&#39; th:value=&#39;&quot; + materialText + &quot;&#39;&gt;&quot;));\r\n\r\n      $(&#39;#optionName&#39;).val(&quot;&quot;);\r\n      $(&#39;#addValue&#39;).val(&quot;&quot;);\r\n      $(&#39;#method&#39;).val(&quot;&quot;);\r\n      $(&#39;#material&#39;).val(&quot;&quot;);\r\n      $(&#39;#optionModal&#39;).modal(&#39;hide&#39;);\r\n    }\r\n&lt;/script&gt;\r\n```\r\n\r\n---\r\nThe DTO is defined as follows.\r\n\r\n### FormRequest\r\n```java\r\npublic record FormRequest(\r\n        String title,\r\n        List&lt;OptionRequest&gt; optionRequests,\r\n        MultipartFile imgFile\r\n) {}\r\n```\r\n### OptionRequest\r\n```java\r\npublic record OptionRequest(\r\n        String optionName,\r\n        Integer addValue,\r\n        String method,\r\n        String material\r\n) {\r\n}\r\n```\r\n---\r\nThe controller is implemented as follows.\r\n\r\n### Controller\r\n```java\r\n    @GetMapping(&quot;/example&quot;)\r\n    public String exampleGet(Model model) {\r\n        model.addAttribute(&quot;example&quot;, new FormResponse(null, List.of(), null)); //Same field as in FormRequest\r\n       \r\n        return &quot;form&quot;;\r\n    }\r\n    @PostMapping(&quot;/example&quot;)\r\n    public String examplePost(\r\n            @ModelAttribute(&quot;example&quot;) FormRequest formRequest,\r\n            Model model\r\n    ) {}\r\n```\r\n\r\n---\r\n\r\nThymeleaf is implemented as follows by applying the decoupled logic.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;thlogic&gt;\r\n    ...\r\n    &lt;attr sel=&quot;#example-form&quot; th:object=&quot;${example}&quot; th:action=&quot;/example&quot; th:method=&quot;post&quot;&gt;\r\n        &lt;attr sel=&quot;#title&quot; th:value=&quot;*{title} ?: _&quot;/&gt;\r\n    ...\r\n&lt;/thlogic&gt;\r\n```","title":"cannot bind a list of object using thymeleaf","body":"<p><em>Even if it's not related to the question, you can tell me if there's anything wrong with the code.</em></p>\n<p>First, i applied the approach of adding table rows and adding input tags by modal. It was implemented by referring to <a href=\"https://stackoverflow.com/questions/36500731/how-to-bind-an-object-list-with-thymeleaf\">How to bind an object list with thymeleaf?</a>.\nBut it fails to bind and <code>optionRequests</code> becomes null.</p>\n<p>What did I miss? I don't know what the problem is.</p>\n<h3>html &amp; javascript</h3>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form id=&quot;example-form&quot; enctype=&quot;multipart/form-data&quot;&gt;\n  &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;title&quot; name=&quot;title&quot; required&gt;\n  &lt;input type=&quot;file&quot; accept=&quot;image/*&quot; class=&quot;form-control&quot; id=&quot;imgFile&quot; name=&quot;imgFile&quot;&gt;\n    \n  &lt;input type=&quot;button&quot; value=&quot;Add Option&quot; class=&quot;btn btn-primary btn-sm&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#optionModal&quot;&gt;\n  &lt;/div&gt;\n  &lt;div class=&quot;modal fade&quot; id=&quot;optionModal&quot; tabindex=&quot;-1&quot; aria-labelledby=&quot;optionModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\n    &lt;div class=&quot;modal-dialog&quot;&gt;\n      &lt;div class=&quot;modal-content&quot;&gt;\n        &lt;div class=&quot;modal-header&quot;&gt;\n          &lt;h1 class=&quot;modal-title fs-5&quot; id=&quot;optionModalLabel&quot;&gt;option&lt;/h1&gt;\n          &lt;button type=&quot;button&quot; class=&quot;btn-close&quot; data-bs-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;modal-body&quot;&gt;\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;optionName&quot;&gt;\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;addValue&quot;&gt;\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;method&quot;&gt;\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;material&quot;&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;modal-footer&quot;&gt;\n          &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-bs-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\n          &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;addOptionRow()&quot;&gt;Add&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;table class=&quot;table table-bordered&quot; id=&quot;optionTable&quot;&gt;\n     &lt;thead&gt;\n      &lt;tr&gt;\n        &lt;th&gt;Name&lt;/th&gt;\n        &lt;th&gt;AddValue&lt;/th&gt;\n        &lt;th&gt;Method&lt;/th&gt;\n        &lt;th&gt;Material&lt;/th&gt;\n        &lt;th&gt;&lt;/th&gt;\n      &lt;/tr&gt;\n      &lt;/thead&gt;\n      &lt;tbody&gt;\n\n      &lt;/tbody&gt;\n  &lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>&lt;script&gt;\n  function addOptionRow() {\n      const table = document.getElementById('optionTable');\n      const newRow = table.insertRow();\n      const optionName = newRow.insertCell(0);\n      const addValue = newRow.insertCell(1);\n      const method = newRow.insertCell(2);\n      const material = newRow.insertCell(3);\n      const removeButton = newRow.insertCell(4);\n      var idx = $('#optionTable tr').length - 2;\n\n      optionNameText = $('#optionName').val();\n      addValueText = $('#addValue').val();\n      methodText = $('#method').val();\n      materialText = $('#material').val();\n\n      optionName.innerText = optionNameText;\n      addValue.innerText = addValueText;\n      method.innerText = methodText;\n      material.innerText = materialText;\n      removeButton.innerHTML = &quot;&lt;button class='btn btn-danger btn-sm' onclick='removeRow(this)'&gt;X&lt;/button&gt;&quot;\n\n      $(&quot;#example-form&quot;).append($(&quot;&lt;input type='hidden' th:field='${example.optionRequests[&quot; + idx + &quot;].optionName}' th:name='${example.optionRequests[&quot; + idx + &quot;]}' th:value='&quot; + optionNameText + &quot;'&gt;&quot;));\n      $(&quot;#example-form&quot;).append($(&quot;&lt;input type='hidden' th:field='${example.optionRequests[&quot; + idx + &quot;].addValue}' th:name='${example.optionRequests[&quot; + idx + &quot;]}' th:value='&quot; + addValueText + &quot;'&gt;&quot;));\n      $(&quot;#example-form&quot;).append($(&quot;&lt;input type='hidden' th:field='${example.optionRequests[&quot; + idx + &quot;].method}' th:name='${example.optionRequests[&quot; + idx + &quot;]}' th:value='&quot; + methodText + &quot;'&gt;&quot;));\n      $(&quot;#example-form&quot;).append($(&quot;&lt;input type='hidden' th:field='${example.optionRequests[&quot; + idx + &quot;].material}' th:name='${example.optionRequests[&quot; + idx + &quot;]}' th:value='&quot; + materialText + &quot;'&gt;&quot;));\n\n      $('#optionName').val(&quot;&quot;);\n      $('#addValue').val(&quot;&quot;);\n      $('#method').val(&quot;&quot;);\n      $('#material').val(&quot;&quot;);\n      $('#optionModal').modal('hide');\n    }\n&lt;/script&gt;\n</code></pre>\n<hr />\n<p>The DTO is defined as follows.</p>\n<h3>FormRequest</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public record FormRequest(\n        String title,\n        List&lt;OptionRequest&gt; optionRequests,\n        MultipartFile imgFile\n) {}\n</code></pre>\n<h3>OptionRequest</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public record OptionRequest(\n        String optionName,\n        Integer addValue,\n        String method,\n        String material\n) {\n}\n</code></pre>\n<hr />\n<p>The controller is implemented as follows.</p>\n<h3>Controller</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(&quot;/example&quot;)\n    public String exampleGet(Model model) {\n        model.addAttribute(&quot;example&quot;, new FormResponse(null, List.of(), null)); //Same field as in FormRequest\n       \n        return &quot;form&quot;;\n    }\n    @PostMapping(&quot;/example&quot;)\n    public String examplePost(\n            @ModelAttribute(&quot;example&quot;) FormRequest formRequest,\n            Model model\n    ) {}\n</code></pre>\n<hr />\n<p>Thymeleaf is implemented as follows by applying the decoupled logic.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;thlogic&gt;\n    ...\n    &lt;attr sel=&quot;#example-form&quot; th:object=&quot;${example}&quot; th:action=&quot;/example&quot; th:method=&quot;post&quot;&gt;\n        &lt;attr sel=&quot;#title&quot; th:value=&quot;*{title} ?: _&quot;/&gt;\n    ...\n&lt;/thlogic&gt;\n</code></pre>\n"},{"tags":["java","web-services","exception","wsdl"],"comments":[{"owner":{"account_id":1311512,"reputation":375,"user_id":1259426,"display_name":"Ali HAMDI"},"score":1,"creation_date":1389084655,"post_id":20967299,"comment_id":31498002,"body_markdown":"Did you check if the requested URL is available or not ? connection timeout is caused by either an unavailable URI or a slow connection. Could you check if you could connect to the requested URI directly (i.e with web browser).","body":"Did you check if the requested URL is available or not ? connection timeout is caused by either an unavailable URI or a slow connection. Could you check if you could connect to the requested URI directly (i.e with web browser)."},{"owner":{"account_id":1262326,"reputation":1438,"user_id":1220291,"accept_rate":60,"display_name":"Nagarajan S R"},"score":0,"creation_date":1389084742,"post_id":20967299,"comment_id":31498043,"body_markdown":"Hi Ali HAMDI, I am getting the same error when I tried with SoapUI tool as well.\n\nAnd internet issue can be completely ruled out","body":"Hi Ali HAMDI, I am getting the same error when I tried with SoapUI tool as well.  And internet issue can be completely ruled out"},{"owner":{"account_id":1311512,"reputation":375,"user_id":1259426,"display_name":"Ali HAMDI"},"score":0,"creation_date":1389084914,"post_id":20967299,"comment_id":31498129,"body_markdown":"Then you have to check the status of the web service , it may be unavailable or down.","body":"Then you have to check the status of the web service , it may be unavailable or down."},{"owner":{"account_id":1311512,"reputation":375,"user_id":1259426,"display_name":"Ali HAMDI"},"score":0,"creation_date":1389085609,"post_id":20967299,"comment_id":31498503,"body_markdown":"Your request is then taking taking too much time. You should consider increase timeout.","body":"Your request is then taking taking too much time. You should consider increase timeout."},{"owner":{"account_id":1262326,"reputation":1438,"user_id":1220291,"accept_rate":60,"display_name":"Nagarajan S R"},"score":0,"creation_date":1389087126,"post_id":20967299,"comment_id":31499444,"body_markdown":"Hi Ali HAMDI, I tried to load the WSDL file in the SoapUI. Surprisingly it gave me &quot;java.lang.Exception: Failed to load url;&quot;","body":"Hi Ali HAMDI, I tried to load the WSDL file in the SoapUI. Surprisingly it gave me &quot;java.lang.Exception: Failed to load url;&quot;"},{"owner":{"account_id":1311512,"reputation":375,"user_id":1259426,"display_name":"Ali HAMDI"},"score":0,"creation_date":1389092028,"post_id":20967299,"comment_id":31502494,"body_markdown":"It may be corrupted , could you check the validity of your WSDL ?","body":"It may be corrupted , could you check the validity of your WSDL ?"},{"owner":{"account_id":1262326,"reputation":1438,"user_id":1220291,"accept_rate":60,"display_name":"Nagarajan S R"},"score":0,"creation_date":1389094777,"post_id":20967299,"comment_id":31504068,"body_markdown":"Yes I will resume debugging this tomo 8 IST. will be gone till then Thanks Ali","body":"Yes I will resume debugging this tomo 8 IST. will be gone till then Thanks Ali"}],"answers":[{"tags":[],"owner":{"account_id":2790227,"reputation":91,"user_id":2400598,"display_name":"kartavya soni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389085489,"creation_date":1389085489,"answer_id":20967574,"question_id":20967299,"body_markdown":"If you are using jersey.api\r\n\r\n    import com.sun.jersey.api.client.Client;\r\n    import com.sun.jersey.api.client.ClientResponse;\r\n    import com.sun.jersey.api.client.WebResource;\r\n    import com.sun.jersey.api.client.config.ClientConfig;\r\n    import com.sun.jersey.api.client.config.DefaultClientConfig;\r\n    import com.sun.jersey.api.representation.Form;\r\n    \r\n    \r\n    ClientResponse response = null;\r\n    ClientConfig config = new DefaultClientConfig();\r\n    Client client = Client.create(config);\r\n    /*client.setReadTimeout(30);*/\r\n    /*client.setConnectTimeout(interval)*/\r\n    WebResource service = client.resource(getBaseURI());\r\n\r\n\r\nIn Client class There is method client.setConnectTimeout(interval) if u not set this method then it will try to make connection infinite time. ","title":"Getting a connection timed out exception in webservices","body":"<p>If you are using jersey.api</p>\n\n<pre><code>import com.sun.jersey.api.client.Client;\nimport com.sun.jersey.api.client.ClientResponse;\nimport com.sun.jersey.api.client.WebResource;\nimport com.sun.jersey.api.client.config.ClientConfig;\nimport com.sun.jersey.api.client.config.DefaultClientConfig;\nimport com.sun.jersey.api.representation.Form;\n\n\nClientResponse response = null;\nClientConfig config = new DefaultClientConfig();\nClient client = Client.create(config);\n/*client.setReadTimeout(30);*/\n/*client.setConnectTimeout(interval)*/\nWebResource service = client.resource(getBaseURI());\n</code></pre>\n\n<p>In Client class There is method client.setConnectTimeout(interval) if u not set this method then it will try to make connection infinite time. </p>\n"},{"tags":[],"owner":{"account_id":3713281,"reputation":1755,"user_id":3090039,"display_name":"kingAm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396349709,"creation_date":1389098642,"answer_id":20971978,"question_id":20967299,"body_markdown":"I tried to load the `WSDL` file in the `SoapUI`. \r\n\r\nSurprisingly it gave me &quot;`java.lang.Exception: Failed to load url;`&quot; \r\n\r\nI think you are using `https wsdl url` to load this `webservice`.&lt;br&gt; \r\n\r\nIt would be password protected.Save your `wsdl` file locally on your machine and try to load `wsdl` file instead of url in soap ui.\r\n\r\nAnd while sending request at h`ttps endpoint` , you need to provide username and password. &lt;br&gt;\r\nIn `soapui` you can fill username and password in request property at bottom left corner.","title":"Getting a connection timed out exception in webservices","body":"<p>I tried to load the <code>WSDL</code> file in the <code>SoapUI</code>. </p>\n\n<p>Surprisingly it gave me \"<code>java.lang.Exception: Failed to load url;</code>\" </p>\n\n<p>I think you are using <code>https wsdl url</code> to load this <code>webservice</code>.<br> </p>\n\n<p>It would be password protected.Save your <code>wsdl</code> file locally on your machine and try to load <code>wsdl</code> file instead of url in soap ui.</p>\n\n<p>And while sending request at h<code>ttps endpoint</code> , you need to provide username and password. <br>\nIn <code>soapui</code> you can fill username and password in request property at bottom left corner.</p>\n"}],"owner":{"account_id":1262326,"reputation":1438,"user_id":1220291,"accept_rate":60,"display_name":"Nagarajan S R"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10799,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694142475,"creation_date":1389084460,"question_id":20967299,"body_markdown":"I am getting the following exception when I try to submit a request through webservice.\r\n\r\nThe stack trace is as below:\r\n\r\n    Exception in thread &quot;main&quot; com.sun.xml.internal.ws.client.ClientTransportException: HTTP transport error: java.net.ConnectException: Connection timed out: connect\r\n    \tat com.sun.xml.internal.ws.transport.http.client.HttpClientTransport.getOutput(HttpClientTransport.java:117)\r\n    \tat com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:194)\r\n    \tat com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:122)\r\n    \tat com.sun.xml.internal.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:95)\r\n    \tat com.sun.xml.internal.ws.api.pipe.Fiber.__doRun(Fiber.java:626)\r\n    \tat com.sun.xml.internal.ws.api.pipe.Fiber._doRun(Fiber.java:585)\r\n    \tat com.sun.xml.internal.ws.api.pipe.Fiber.doRun(Fiber.java:570)\r\n    \tat com.sun.xml.internal.ws.api.pipe.Fiber.runSync(Fiber.java:467)\r\n    \tat com.sun.xml.internal.ws.client.Stub.process(Stub.java:308)\r\n    \tat com.sun.xml.internal.ws.client.sei.SEIStub.doProcess(SEIStub.java:146)\r\n    \tat com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:98)\r\n    \tat com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:78)\r\n    \tat com.sun.xml.internal.ws.client.sei.SEIStub.invoke(SEIStub.java:129)\r\n    \tat $Proxy40.externalSearchPerson(Unknown Source)\r\n    \tat com.igniteibroker.Main.personSearch(Main.java:52)\r\n    \tat com.igniteibroker.Main.main(Main.java:64)\r\n    Caused by: java.net.ConnectException: Connection timed out: connect\r\n    \tat java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:69)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:157)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:391)\r\n    \tat java.net.Socket.connect(Socket.java:579)\r\n    \tat sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:618)\r\n    \tat sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:160)\r\n    \tat sun.net.NetworkClient.doConnect(NetworkClient.java:180)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:378)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:473)\r\n    \tat sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:270)\r\n    \tat sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:327)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:191)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:974)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:177)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1090)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\r\n    \tat com.sun.xml.internal.ws.transport.http.client.HttpClientTransport.getOutput(HttpClientTransport.java:105)\r\n    \t... 15 more\r\n\r\nplease help me resolve this if you have identified the issue. Thanks in advance\r\n","title":"Getting a connection timed out exception in webservices","body":"<p>I am getting the following exception when I try to submit a request through webservice.</p>\n\n<p>The stack trace is as below:</p>\n\n<pre><code>Exception in thread \"main\" com.sun.xml.internal.ws.client.ClientTransportException: HTTP transport error: java.net.ConnectException: Connection timed out: connect\n    at com.sun.xml.internal.ws.transport.http.client.HttpClientTransport.getOutput(HttpClientTransport.java:117)\n    at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:194)\n    at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:122)\n    at com.sun.xml.internal.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:95)\n    at com.sun.xml.internal.ws.api.pipe.Fiber.__doRun(Fiber.java:626)\n    at com.sun.xml.internal.ws.api.pipe.Fiber._doRun(Fiber.java:585)\n    at com.sun.xml.internal.ws.api.pipe.Fiber.doRun(Fiber.java:570)\n    at com.sun.xml.internal.ws.api.pipe.Fiber.runSync(Fiber.java:467)\n    at com.sun.xml.internal.ws.client.Stub.process(Stub.java:308)\n    at com.sun.xml.internal.ws.client.sei.SEIStub.doProcess(SEIStub.java:146)\n    at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:98)\n    at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:78)\n    at com.sun.xml.internal.ws.client.sei.SEIStub.invoke(SEIStub.java:129)\n    at $Proxy40.externalSearchPerson(Unknown Source)\n    at com.igniteibroker.Main.personSearch(Main.java:52)\n    at com.igniteibroker.Main.main(Main.java:64)\nCaused by: java.net.ConnectException: Connection timed out: connect\n    at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n    at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:69)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:157)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:391)\n    at java.net.Socket.connect(Socket.java:579)\n    at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:618)\n    at sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:160)\n    at sun.net.NetworkClient.doConnect(NetworkClient.java:180)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:378)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:473)\n    at sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:270)\n    at sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:327)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:191)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:974)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:177)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1090)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\n    at com.sun.xml.internal.ws.transport.http.client.HttpClientTransport.getOutput(HttpClientTransport.java:105)\n    ... 15 more\n</code></pre>\n\n<p>please help me resolve this if you have identified the issue. Thanks in advance</p>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":2,"creation_date":1672001778,"post_id":74915640,"comment_id":132206662,"body_markdown":"Welcome to StackOverflow. While showing code is important, also showing what errors you are getting is also important. Error message should be found in the logcat. See: [Unfortunately MyApp has stopped. How can I solve this?](https://stackoverflow.com/q/23353173/295004) and [What is a stack trace, and how can I use it to debug my application errors?](https://stackoverflow.com/q/3988788/295004) on using a stack trace for debugging.","body":"Welcome to StackOverflow. While showing code is important, also showing what errors you are getting is also important. Error message should be found in the logcat. See: <a href=\"https://stackoverflow.com/q/23353173/295004\">Unfortunately MyApp has stopped. How can I solve this?</a> and <a href=\"https://stackoverflow.com/q/3988788/295004\">What is a stack trace, and how can I use it to debug my application errors?</a> on using a stack trace for debugging."}],"answers":[{"tags":[],"owner":{"account_id":8746330,"reputation":420,"user_id":6541482,"display_name":"Mohamad Rostami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672004697,"creation_date":1672004697,"answer_id":74916029,"question_id":74915640,"body_markdown":"you have defined your Edit texts in the first activity with id&#39;s named\r\n\r\n    edtPhone\r\n    edtMessage\r\n\r\nbut there was no `edtPhone` or `edtMessage` in your xml.\r\nthis issue also repeats in your second activity\r\nyou have defined `txtPhone` and `txtMessage`\r\nbut again there are no such ids in your second activity XML.\r\nkeep in mind that these might not be the whole problem as you didn&#39;t post any log for the errors. but if there were anything else, ask and we&#39;ll help you\r\n","title":"Android app keeps stopping while building using android studio","body":"<p>you have defined your Edit texts in the first activity with id's named</p>\n<pre><code>edtPhone\nedtMessage\n</code></pre>\n<p>but there was no <code>edtPhone</code> or <code>edtMessage</code> in your xml.\nthis issue also repeats in your second activity\nyou have defined <code>txtPhone</code> and <code>txtMessage</code>\nbut again there are no such ids in your second activity XML.\nkeep in mind that these might not be the whole problem as you didn't post any log for the errors. but if there were anything else, ask and we'll help you</p>\n"}],"owner":{"account_id":27346260,"reputation":11,"user_id":20856123,"display_name":"ahmed magdy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694141084,"creation_date":1671998826,"question_id":74915640,"body_markdown":"When I&#39;m trying to transfer data between activities, I can&#39;t get my message and the app keeps crashing, \r\nIt show me &#39;app keeps stopping&#39;\r\n\r\nCode in MainActivity.java \r\n\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Intent outIntent;\r\n    EditText edtPhone;\r\n    EditText edtMessage;\r\n    Button btnNext;\r\n    String tempText=&quot;&quot;;\r\n\r\n   public static final String PHONE = &quot;PHONE&quot;;\r\n   public static final  String MESSAGE = &quot;MESSAGE&quot;;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btnNext = (Button) findViewById(R.id.btnNext);\r\n        btnNext.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View V) {\r\n                outIntent = new Intent(MainActivity.this, ActivityTwo.class);\r\n                edtPhone = (EditText) findViewById(R.id.edtPhone);\r\n                edtMessage = (EditText) findViewById(R.id.edtMessage);\r\n                tempText = edtPhone.getText().toString();\r\n                outIntent.putExtra(PHONE,tempText);\r\n                tempText = edtMessage.getText().toString();\r\n                outIntent.putExtra(MESSAGE,tempText);\r\n\r\n                startActivity(outIntent);\r\n            }\r\n\r\n    });\r\n}\r\n    public void closeMethod(View view) {\r\n        finish();\r\n    }\r\n}\r\n```\r\n\r\nActivityTwo.java\r\n\r\n```\r\npackage com.example.fir;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.widget.TextView;\r\n\r\npublic class ActivityTwo extends AppCompatActivity {\r\n\r\n        Intent incomingIntent;\r\n        TextView txtPhone;\r\n        TextView txtMessage;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_two);\r\n        incomingIntent = getIntent();\r\n        txtPhone = (TextView) findViewById(R.id.txtPhone);\r\n        txtMessage = (TextView) findViewById(R.id.txtMessage);\r\n        txtPhone.setText(incomingIntent.getStringExtra(MainActivity.PHONE));\r\n        txtMessage.setText(incomingIntent.getStringExtra(MainActivity.MESSAGE));\r\n\r\n    }\r\n}\r\n```\r\n\r\nActivitymain.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot; &gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginTop=&quot;32dp&quot;\r\n        android:text=&quot;Phone&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextPhone&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginStart=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;60dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Phone&quot;\r\n        android:inputType=&quot;phone&quot;\r\n        android:minHeight=&quot;48dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginTop=&quot;124dp&quot;\r\n        android:text=&quot;Message&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextTextPersonName&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginStart=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;156dp&quot;\r\n        android:layout_marginEnd=&quot;3dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Message&quot;\r\n        android:inputType=&quot;&quot;\r\n        android:minHeight=&quot;48dp&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginTop=&quot;224dp&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnNext&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;Next&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/button2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:onClick=&quot;closeMethod&quot;\r\n            android:text=&quot;CLose&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n```\r\nActivitytwo.xml\r\n////\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot; &gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginTop=&quot;32dp&quot;\r\n        android:text=&quot;Phone&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextPhone&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginStart=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;60dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Phone&quot;\r\n        android:inputType=&quot;phone&quot;\r\n        android:minHeight=&quot;48dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginTop=&quot;124dp&quot;\r\n        android:text=&quot;Message&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextTextPersonName&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginStart=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;156dp&quot;\r\n        android:layout_marginEnd=&quot;3dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Message&quot;\r\n        android:inputType=&quot;&quot;\r\n        android:minHeight=&quot;48dp&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginTop=&quot;224dp&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnNext&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;Next&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/button2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:onClick=&quot;closeMethod&quot;\r\n            android:text=&quot;CLose&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nThe issue is when I don&#39;t put any value into the `firstEditText` or `secondEditText` or both of them and click on any button then the app crashes and a pop up shows &quot;myapp keeps stopping&quot;. \r\nI cannot get the text and am unsure of why the app keeps crashing.","title":"Android app keeps stopping while building using android studio","body":"<p>When I'm trying to transfer data between activities, I can't get my message and the app keeps crashing,\nIt show me 'app keeps stopping'</p>\n<p>Code in MainActivity.java</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    Intent outIntent;\n    EditText edtPhone;\n    EditText edtMessage;\n    Button btnNext;\n    String tempText=&quot;&quot;;\n\n   public static final String PHONE = &quot;PHONE&quot;;\n   public static final  String MESSAGE = &quot;MESSAGE&quot;;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btnNext = (Button) findViewById(R.id.btnNext);\n        btnNext.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View V) {\n                outIntent = new Intent(MainActivity.this, ActivityTwo.class);\n                edtPhone = (EditText) findViewById(R.id.edtPhone);\n                edtMessage = (EditText) findViewById(R.id.edtMessage);\n                tempText = edtPhone.getText().toString();\n                outIntent.putExtra(PHONE,tempText);\n                tempText = edtMessage.getText().toString();\n                outIntent.putExtra(MESSAGE,tempText);\n\n                startActivity(outIntent);\n            }\n\n    });\n}\n    public void closeMethod(View view) {\n        finish();\n    }\n}\n</code></pre>\n<p>ActivityTwo.java</p>\n<pre><code>package com.example.fir;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.widget.TextView;\n\npublic class ActivityTwo extends AppCompatActivity {\n\n        Intent incomingIntent;\n        TextView txtPhone;\n        TextView txtMessage;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_two);\n        incomingIntent = getIntent();\n        txtPhone = (TextView) findViewById(R.id.txtPhone);\n        txtMessage = (TextView) findViewById(R.id.txtMessage);\n        txtPhone.setText(incomingIntent.getStringExtra(MainActivity.PHONE));\n        txtMessage.setText(incomingIntent.getStringExtra(MainActivity.MESSAGE));\n\n    }\n}\n</code></pre>\n<p>Activitymain.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot; &gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginTop=&quot;32dp&quot;\n        android:text=&quot;Phone&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextPhone&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginStart=&quot;0dp&quot;\n        android:layout_marginTop=&quot;60dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Phone&quot;\n        android:inputType=&quot;phone&quot;\n        android:minHeight=&quot;48dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginTop=&quot;124dp&quot;\n        android:text=&quot;Message&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextTextPersonName&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginStart=&quot;0dp&quot;\n        android:layout_marginTop=&quot;156dp&quot;\n        android:layout_marginEnd=&quot;3dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Message&quot;\n        android:inputType=&quot;&quot;\n        android:minHeight=&quot;48dp&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginTop=&quot;224dp&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnNext&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;Next&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/button2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:onClick=&quot;closeMethod&quot;\n            android:text=&quot;CLose&quot; /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<pre><code>Activitytwo.xml\n////\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot; &gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginTop=&quot;32dp&quot;\n        android:text=&quot;Phone&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextPhone&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginStart=&quot;0dp&quot;\n        android:layout_marginTop=&quot;60dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Phone&quot;\n        android:inputType=&quot;phone&quot;\n        android:minHeight=&quot;48dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginTop=&quot;124dp&quot;\n        android:text=&quot;Message&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextTextPersonName&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginStart=&quot;0dp&quot;\n        android:layout_marginTop=&quot;156dp&quot;\n        android:layout_marginEnd=&quot;3dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Message&quot;\n        android:inputType=&quot;&quot;\n        android:minHeight=&quot;48dp&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginTop=&quot;224dp&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnNext&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;Next&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/button2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:onClick=&quot;closeMethod&quot;\n            android:text=&quot;CLose&quot; /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>The issue is when I don't put any value into the <code>firstEditText</code> or <code>secondEditText</code> or both of them and click on any button then the app crashes and a pop up shows &quot;myapp keeps stopping&quot;.\nI cannot get the text and am unsure of why the app keeps crashing.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":4,"creation_date":1694107541,"post_id":77061671,"comment_id":135851223,"body_markdown":"Ah, varargs lambdas, we meet again. In this case the answer is **no**, it is not possible. The method invocation per resolution of `Function&lt;T, R&gt;` is strictly necessary, as those type parameters must be resolved at the call-site of the function. If you want your solution to work, you could make numerous hand-coded overloads for each number of functions possible (up to some sane limit, say 10 or 26), and keep them in some utility file. But at that point I&#39;m not seeing an advantage over your other proposed solutions. Keep in mind you can make your own chainable method like `Optional` did.","body":"Ah, varargs lambdas, we meet again. In this case the answer is <b>no</b>, it is not possible. The method invocation per resolution of <code>Function&lt;T, R&gt;</code> is strictly necessary, as those type parameters must be resolved at the call-site of the function. If you want your solution to work, you could make numerous hand-coded overloads for each number of functions possible (up to some sane limit, say 10 or 26), and keep them in some utility file. But at that point I&#39;m not seeing an advantage over your other proposed solutions. Keep in mind you can make your own chainable method like <code>Optional</code> did."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1694107829,"post_id":77061671,"comment_id":135851266,"body_markdown":"I will say, that your first example would actually be possible with using just the same type on all lambdas. I&#39;ll write a small answer for that.","body":"I will say, that your first example would actually be possible with using just the same type on all lambdas. I&#39;ll write a small answer for that."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1694107960,"post_id":77061671,"comment_id":135851284,"body_markdown":"Only if every input and output have the same types, I don&#39;t want to be locked into just one specific input and one output type.","body":"Only if every input and output have the same types, I don&#39;t want to be locked into just one specific input and one output type."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1694108044,"post_id":77061671,"comment_id":135851299,"body_markdown":"@Rogue Thanks, I am aware I can make my own chain able method, that&#39;s what a monad is in that sentence&#39;s context.","body":"@Rogue Thanks, I am aware I can make my own chain able method, that&#39;s what a monad is in that sentence&#39;s context."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1694113992,"post_id":77061671,"comment_id":135852312,"body_markdown":"Note things like `n -&gt; n.equals(&quot;0hi1&quot;)` wouldn&#39;t work, but you could `chain(...).equals(&quot;0hi1&quot;);` to get that `boolean`.","body":"Note things like <code>n -&gt; n.equals(&quot;0hi1&quot;)</code> wouldn&#39;t work, but you could <code>chain(...).equals(&quot;0hi1&quot;);</code> to get that <code>boolean</code>."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1694116474,"post_id":77061671,"comment_id":135852680,"body_markdown":"What is your use case for this?  What problem are you trying to solve where you need this capability?  It sounds like an  [XY Problem](http://xyproblem.info)","body":"What is your use case for this?  What problem are you trying to solve where you need this capability?  It sounds like an  <a href=\"http://xyproblem.info\" rel=\"nofollow noreferrer\">XY Problem</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1694123417,"post_id":77061671,"comment_id":135853807,"body_markdown":"Rogue&#39;s first comment answered the question correctly: the answer is no, this is not possible.","body":"Rogue&#39;s first comment answered the question correctly: the answer is no, this is not possible."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1694138809,"post_id":77061671,"comment_id":135855230,"body_markdown":"&quot;Something like this:&quot; - did you **try it**? What happened when you tried it?","body":"&quot;Something like this:&quot; - did you <b>try it</b>? What happened when you tried it?"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1694140277,"post_id":77061671,"comment_id":135855315,"body_markdown":"@WJS The question is purely academic, it&#39;s not in a context of a problem because the problem is whether it&#39;s possible to achieve that syntax.","body":"@WJS The question is purely academic, it&#39;s not in a context of a problem because the problem is whether it&#39;s possible to achieve that syntax."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1694140355,"post_id":77061671,"comment_id":135855321,"body_markdown":"@KarlKnechtel It complains that wildcard cannot be assigned to Object","body":"@KarlKnechtel It complains that wildcard cannot be assigned to Object"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1694140771,"post_id":77061671,"comment_id":135855349,"body_markdown":"Right; the problem is that the recursion cannot work because it does not know what type will be returned, and therefore it cannot verify that the next step in the recursion makes any sense. For this kind of function composition to work, you need an `InputType` result at each step except possibly the last, and then special-casing the last step is not feasible.","body":"Right; the problem is that the recursion cannot work because it does not know what type will be returned, and therefore it cannot verify that the next step in the recursion makes any sense. For this kind of function composition to work, you need an <code>InputType</code> result at each step except possibly the last, and then special-casing the last step is not feasible."}],"answers":[{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1694113978,"creation_date":1694108795,"answer_id":77061817,"question_id":77061671,"body_markdown":"With the assumption that _all_ functions in the call are of the same type, then it can be done with a simple generic type on the method:\r\n\r\n    public static &lt;T&gt; T chain(\r\n            T val,\r\n            Function&lt;T, T&gt;... functions\r\n    ) {\r\n        if (functions.length == 0) return val;\r\n        var nextInput = functions[0].apply(val);\r\n        if (functions.length == 1) return nextInput;\r\n        var tail = Arrays.copyOfRange(functions, 1, functions.length);\r\n        return chain(nextInput, tail);\r\n    }\r\n\r\nThere are other improvements that could be made (e.g. just using an index counter for the recursion to avoid array copies, or not being recursive). Be extra careful of boundary conditions, e.g. passing an empty call.\r\n\r\nUsing this, you may use any type for the input, and the functions will require operating on the same input and output types.","title":"Is it possible to recursively chain generic functions?","body":"<p>With the assumption that <em>all</em> functions in the call are of the same type, then it can be done with a simple generic type on the method:</p>\n<pre><code>public static &lt;T&gt; T chain(\n        T val,\n        Function&lt;T, T&gt;... functions\n) {\n    if (functions.length == 0) return val;\n    var nextInput = functions[0].apply(val);\n    if (functions.length == 1) return nextInput;\n    var tail = Arrays.copyOfRange(functions, 1, functions.length);\n    return chain(nextInput, tail);\n}\n</code></pre>\n<p>There are other improvements that could be made (e.g. just using an index counter for the recursion to avoid array copies, or not being recursive). Be extra careful of boundary conditions, e.g. passing an empty call.</p>\n<p>Using this, you may use any type for the input, and the functions will require operating on the same input and output types.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694140171,"creation_date":1694127663,"answer_id":77063287,"question_id":77061671,"body_markdown":"&gt; _&quot;Is it possible to recursively chain generic functions? ..._\r\n&gt;\r\n&gt; _... How can I make the method accept an arbitrary amount of functions? ...&quot;_\r\n\r\nYour example will suffice, just utilize a _raw generic_; un-parameterized.\r\n\r\nThere&#39;s no reason to define a parameter if you&#39;re intending to use a _wildcard generic_ with _A_, _B_, _C_, and _D_.\r\n\r\n_[Raw Types (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Generics (Updated))](https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html)_.\r\n\r\nThis will discourage a plausible overhead to the _functions_ array, and will provide fully restricted access to _val_ within _chain_.  \r\n\r\n```java\r\n@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\r\npublic Object chain(Object val, Function ... functions) {\r\n    Object nextInput = functions[0].apply(val);\r\n    if (functions.length == 1) return nextInput;\r\n    Function[] tail = Arrays.copyOfRange(functions, 1, functions.length);\r\n    return chain(nextInput, tail);\r\n}\r\n```\r\n\r\nHere is a usage.  \r\nI had to _cast_ the third function here, _n_&#39;s type is otherwise ambiguous. \r\n\r\n```java\r\nvar output = chain(\r\n    0,\r\n    n -&gt;n +&quot;hi&quot;,\r\n    n -&gt;n,\r\n    (Function&lt;String, ?&gt;) n -&gt;n +1,\r\n    n -&gt;n.equals(&quot;0hi1&quot;)\r\n);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\ntrue\r\n```\r\n\r\n&gt; _&quot;... Is there some recursive function I could write, something that accepts varargs maybe? ...&quot;_\r\n\r\nConsidering you are passing a modified _array_ for each recursive _chain_ call, I&#39;d recommend creating a class.  \r\nHere you can provide a dynamic list of values, to a set of recursive _chain_ calls.\r\n\r\n```java\r\n@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\r\npublic Object chain(Object val, Function ... functions) {\r\n    @SuppressWarnings(&quot;rawtypes, unchecked&quot;)\r\n    class Chain {\r\n        Object x;\r\n        List&lt;Function&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        Chain(Object x, Function ... functions) {\r\n            this.x = x;\r\n            list.addAll(List.of(functions));\r\n            chain();\r\n        }\r\n\r\n        void chain() {\r\n            x = list.get(0).apply(x);\r\n            if (list.size() == 1) return;\r\n            list.remove(0);\r\n            chain();\r\n        }\r\n\r\n        Object get() {\r\n            return x;\r\n        }\r\n    }\r\n    return new Chain(val, functions).get();\r\n}\r\n```","title":"Is it possible to recursively chain generic functions?","body":"<blockquote>\n<p><em>&quot;Is it possible to recursively chain generic functions? ...</em></p>\n<p><em>... How can I make the method accept an arbitrary amount of functions? ...&quot;</em></p>\n</blockquote>\n<p>Your example will suffice, just utilize a <em>raw generic</em>; un-parameterized.</p>\n<p>There's no reason to define a parameter if you're intending to use a <em>wildcard generic</em> with <em>A</em>, <em>B</em>, <em>C</em>, and <em>D</em>.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"nofollow noreferrer\">Raw Types (The Java™ Tutorials &gt; Learning the Java Language &gt; Generics (Updated))</a></em>.</p>\n<p>This will discourage a plausible overhead to the <em>functions</em> array, and will provide fully restricted access to <em>val</em> within <em>chain</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\npublic Object chain(Object val, Function ... functions) {\n    Object nextInput = functions[0].apply(val);\n    if (functions.length == 1) return nextInput;\n    Function[] tail = Arrays.copyOfRange(functions, 1, functions.length);\n    return chain(nextInput, tail);\n}\n</code></pre>\n<p>Here is a usage.<br />\nI had to <em>cast</em> the third function here, <em>n</em>'s type is otherwise ambiguous.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var output = chain(\n    0,\n    n -&gt;n +&quot;hi&quot;,\n    n -&gt;n,\n    (Function&lt;String, ?&gt;) n -&gt;n +1,\n    n -&gt;n.equals(&quot;0hi1&quot;)\n);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>true\n</code></pre>\n<blockquote>\n<p><em>&quot;... Is there some recursive function I could write, something that accepts varargs maybe? ...&quot;</em></p>\n</blockquote>\n<p>Considering you are passing a modified <em>array</em> for each recursive <em>chain</em> call, I'd recommend creating a class.<br />\nHere you can provide a dynamic list of values, to a set of recursive <em>chain</em> calls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\npublic Object chain(Object val, Function ... functions) {\n    @SuppressWarnings(&quot;rawtypes, unchecked&quot;)\n    class Chain {\n        Object x;\n        List&lt;Function&gt; list = new ArrayList&lt;&gt;();\n\n        Chain(Object x, Function ... functions) {\n            this.x = x;\n            list.addAll(List.of(functions));\n            chain();\n        }\n\n        void chain() {\n            x = list.get(0).apply(x);\n            if (list.size() == 1) return;\n            list.remove(0);\n            chain();\n        }\n\n        Object get() {\n            return x;\n        }\n    }\n    return new Chain(val, functions).get();\n}\n</code></pre>\n"}],"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694140171,"creation_date":1694107364,"question_id":77061671,"body_markdown":"Given I have the following code:\r\n```java\r\nvar output = chain(\r\n        0,\r\n        n -&gt; n + &quot;hi&quot;,\r\n        n -&gt; n,\r\n        n -&gt; n + 1,\r\n        n -&gt; n.equals(&quot;0hi1&quot;)\r\n);\r\n```\r\n\r\nHow can I make the method accept an arbitrary amount of functions?\r\n\r\nI know I can do this:\r\n```java\r\npublic static &lt;A, B, C, D, E&gt; E chain(\r\n        A val,\r\n        Function&lt;? super A, ? extends B&gt; f1,\r\n        Function&lt;? super B, ? extends C&gt; f2,\r\n        Function&lt;? super C, ? extends D&gt; f3,\r\n        Function&lt;? super D, ? extends E&gt; f4\r\n) {\r\n    return f4.apply(f3.apply(f2.apply(f1.apply(val))));\r\n}\r\n```\r\n\r\nBut that severely limits the amount of inputs.\r\n\r\nIs there some recursive function I could write, something that accepts varargs maybe? \r\n\r\nSomething like this:\r\n```java\r\npublic static OutputType chain(\r\n        InputType val,\r\n        Function&lt;?, ?&gt;... functions\r\n) {\r\n    var nextInput = functions[0].apply(val);\r\n    if (functions.length == 1) return nextInput;\r\n    var tail = Arrays.copyOfRange(functions, 1, functions.length);\r\n    return chain(nextInput, tail);\r\n}\r\n```\r\n\r\nI am aware that I can create a monad, or use streams, or use optional to chain transformations as such:\r\n```java\r\nvar output = Optional\r\n        .of(0)\r\n        .map(n -&gt; n + &quot;hi&quot;)\r\n        .map(n -&gt; n)\r\n        .map(n -&gt; n + 1)\r\n        .map(n -&gt; n.equals(&quot;0hi1&quot;))\r\n        .get();\r\n```\r\nBut I specifically DO NOT WANT TO do that. I want to achieve the style visible in that 1st code block.","title":"Is it possible to recursively chain generic functions?","body":"<p>Given I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var output = chain(\n        0,\n        n -&gt; n + &quot;hi&quot;,\n        n -&gt; n,\n        n -&gt; n + 1,\n        n -&gt; n.equals(&quot;0hi1&quot;)\n);\n</code></pre>\n<p>How can I make the method accept an arbitrary amount of functions?</p>\n<p>I know I can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;A, B, C, D, E&gt; E chain(\n        A val,\n        Function&lt;? super A, ? extends B&gt; f1,\n        Function&lt;? super B, ? extends C&gt; f2,\n        Function&lt;? super C, ? extends D&gt; f3,\n        Function&lt;? super D, ? extends E&gt; f4\n) {\n    return f4.apply(f3.apply(f2.apply(f1.apply(val))));\n}\n</code></pre>\n<p>But that severely limits the amount of inputs.</p>\n<p>Is there some recursive function I could write, something that accepts varargs maybe?</p>\n<p>Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static OutputType chain(\n        InputType val,\n        Function&lt;?, ?&gt;... functions\n) {\n    var nextInput = functions[0].apply(val);\n    if (functions.length == 1) return nextInput;\n    var tail = Arrays.copyOfRange(functions, 1, functions.length);\n    return chain(nextInput, tail);\n}\n</code></pre>\n<p>I am aware that I can create a monad, or use streams, or use optional to chain transformations as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var output = Optional\n        .of(0)\n        .map(n -&gt; n + &quot;hi&quot;)\n        .map(n -&gt; n)\n        .map(n -&gt; n + 1)\n        .map(n -&gt; n.equals(&quot;0hi1&quot;))\n        .get();\n</code></pre>\n<p>But I specifically DO NOT WANT TO do that. I want to achieve the style visible in that 1st code block.</p>\n"},{"tags":["java","spring","spring-security","jwt","bearer-token"],"answers":[{"tags":[],"owner":{"account_id":3120239,"reputation":11,"user_id":2640162,"display_name":"fooshy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694139678,"creation_date":1694139678,"answer_id":77063786,"question_id":77063745,"body_markdown":"As far as I can see your JWT has defined scope, not role - the authorization process is expecting a scope check (as authority), not a role check? \r\n\r\n    .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n\r\nTry changing this line to:\r\n\r\n    .requestMatchers(&quot;/admin/**&quot;).hasAuthority(&quot;SCOPE_ADMIN&quot;)\r\n\r\n\r\n\r\n","title":"Spring security Jwt bearer token encoding/decoding error","body":"<p>As far as I can see your JWT has defined scope, not role - the authorization process is expecting a scope check (as authority), not a role check?</p>\n<pre><code>.requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n</code></pre>\n<p>Try changing this line to:</p>\n<pre><code>.requestMatchers(&quot;/admin/**&quot;).hasAuthority(&quot;SCOPE_ADMIN&quot;)\n</code></pre>\n"}],"owner":{"account_id":24548424,"reputation":1,"user_id":18457886,"display_name":"abdulai bah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694139678,"creation_date":1694138833,"question_id":77063745,"body_markdown":"When trying to validate a jwt bearer token from a user I&#39;am getting a 403 error and the headers are telling me that my token has insufficent scope.I&#39;am wondering where I went wrong in the process of encoding the scope,or if the way im decoding tokens is incorrect.\r\n\r\n**Security Configuration**\r\n```\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n    private final RSAKeyConfig keys;\r\n    public SecurityConfiguration(RSAKeyConfig keys) {\r\n        this.keys = keys;\r\n    }\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    @Bean\r\n    public AuthenticationManager authManager(UserDetailsService detailsService) {\r\n        DaoAuthenticationProvider daoProvider = new DaoAuthenticationProvider();\r\n        daoProvider.setUserDetailsService(detailsService);\r\n        daoProvider.setPasswordEncoder(passwordEncoder());\r\n        return new ProviderManager(daoProvider);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(&quot;/auth/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                        .requestMatchers(&quot;/user/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;USER&quot;)\r\n                        .anyRequest().authenticated());\r\n\r\n\r\n\r\n        http\r\n                .oauth2ResourceServer(oauth2 -&gt; oauth2\r\n                        .jwt(jwt -&gt; jwt.jwtAuthenticationConverter(jwtConverter())));\r\n\r\n\r\n        http\r\n                .sessionManagement(session -&gt; session\r\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n\r\n\r\n\r\n        return http.build();\r\n\r\n\r\n    }\r\n\r\n    @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        System.out.print(&quot;decoder&quot;);\r\n        return NimbusJwtDecoder.withPublicKey(keys.getPublicKey()).build();\r\n    }\r\n\r\n    @Bean\r\n    public JwtEncoder jwtEncoder() {\r\n        JWK jwk = new RSAKey.Builder(keys.getPublicKey())\r\n                .privateKey(keys.getPrivateKey()).build();\r\n        JWKSource&lt;SecurityContext&gt; jwks = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\r\n\r\n        return new NimbusJwtEncoder(jwks);\r\n\r\n    }\r\n\r\n    @Bean\r\n    public JwtAuthenticationConverter jwtConverter() {\r\n        System.out.println(&quot;jwt converter&quot;);\r\n        JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\r\n        jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;);\r\n        jwtGrantedAuthoritiesConverter.setAuthorityPrefix(&quot;Roles_&quot;);\r\n        JwtAuthenticationConverter jwtconverter = new JwtAuthenticationConverter();\r\n        jwtconverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter);\r\n\r\n        return jwtconverter;\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n**Token Service**\r\n```\r\n@Service\r\npublic class TokenService {\r\n\r\n    @Autowired\r\n    private JwtEncoder jwtEncoder;\r\n\r\n    @Autowired\r\n    private JwtDecoder jwtDecoder;\r\n\r\n    public String generateJwt(Authentication auth) {\r\n\r\n        Instant now = Instant.now();\r\n\r\n        String scope = auth.getAuthorities().stream()\r\n                .map(GrantedAuthority::getAuthority)\r\n                .collect(Collectors.joining(&quot; &quot;));\r\n\r\n        JwtClaimsSet claims = JwtClaimsSet.builder()\r\n                .issuer(&quot;self&quot;)\r\n                .issuedAt(now)\r\n                .subject(auth.getName())\r\n                .claim(&quot;roles&quot;, scope)\r\n                .build();\r\n\r\n        System.out.print(claims);\r\n\r\n        return jwtEncoder.encode(JwtEncoderParameters.from(claims))\r\n.getTokenValue();\r\n\r\n    }\r\n}\r\n```\r\n**Key configuration**\r\n```\r\n@Component\r\n@Data\r\npublic class RSAKeyConfig {\r\n\r\n    private RSAPublicKey publicKey;\r\n\r\n    private RSAPrivateKey privateKey;\r\n\r\n    public RSAKeyConfig(){\r\n        KeyPair pair = KeyGenerator.generateRsaKey();\r\n        this.publicKey = (RSAPublicKey) pair.getPublic();\r\n        this.privateKey = (RSAPrivateKey) pair.getPrivate();\r\n    }\r\n}\r\n```\r\n**Key Generator**\r\n```\r\npublic class KeyGenerator {\r\n\r\n    public static KeyPair generateRsaKey(){\r\n\r\n\r\n        KeyPair keyPair;\r\n\r\n        try{\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n            keyPairGenerator.initialize(2048);\r\n            keyPair = keyPairGenerator.generateKeyPair();\r\n        }catch(Exception e){\r\n            throw new IllegalStateException();\r\n        }\r\n\r\n        return keyPair;\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve tried tinkering with the security filter chain but that seems to be futile.\r\n**relevent dependencies im using**\r\n[1](https://i.stack.imgur.com/Aeshq.png)\r\n[2](https://i.stack.imgur.com/su3Ku.png)\r\n","title":"Spring security Jwt bearer token encoding/decoding error","body":"<p>When trying to validate a jwt bearer token from a user I'am getting a 403 error and the headers are telling me that my token has insufficent scope.I'am wondering where I went wrong in the process of encoding the scope,or if the way im decoding tokens is incorrect.</p>\n<p><strong>Security Configuration</strong></p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n    private final RSAKeyConfig keys;\n    public SecurityConfiguration(RSAKeyConfig keys) {\n        this.keys = keys;\n    }\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    @Bean\n    public AuthenticationManager authManager(UserDetailsService detailsService) {\n        DaoAuthenticationProvider daoProvider = new DaoAuthenticationProvider();\n        daoProvider.setUserDetailsService(detailsService);\n        daoProvider.setPasswordEncoder(passwordEncoder());\n        return new ProviderManager(daoProvider);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/auth/**&quot;).permitAll()\n                        .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                        .requestMatchers(&quot;/user/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;USER&quot;)\n                        .anyRequest().authenticated());\n\n\n\n        http\n                .oauth2ResourceServer(oauth2 -&gt; oauth2\n                        .jwt(jwt -&gt; jwt.jwtAuthenticationConverter(jwtConverter())));\n\n\n        http\n                .sessionManagement(session -&gt; session\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n\n\n\n        return http.build();\n\n\n    }\n\n    @Bean\n    public JwtDecoder jwtDecoder() {\n        System.out.print(&quot;decoder&quot;);\n        return NimbusJwtDecoder.withPublicKey(keys.getPublicKey()).build();\n    }\n\n    @Bean\n    public JwtEncoder jwtEncoder() {\n        JWK jwk = new RSAKey.Builder(keys.getPublicKey())\n                .privateKey(keys.getPrivateKey()).build();\n        JWKSource&lt;SecurityContext&gt; jwks = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\n\n        return new NimbusJwtEncoder(jwks);\n\n    }\n\n    @Bean\n    public JwtAuthenticationConverter jwtConverter() {\n        System.out.println(&quot;jwt converter&quot;);\n        JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\n        jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;);\n        jwtGrantedAuthoritiesConverter.setAuthorityPrefix(&quot;Roles_&quot;);\n        JwtAuthenticationConverter jwtconverter = new JwtAuthenticationConverter();\n        jwtconverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter);\n\n        return jwtconverter;\n\n    }\n\n\n}\n</code></pre>\n<p><strong>Token Service</strong></p>\n<pre><code>@Service\npublic class TokenService {\n\n    @Autowired\n    private JwtEncoder jwtEncoder;\n\n    @Autowired\n    private JwtDecoder jwtDecoder;\n\n    public String generateJwt(Authentication auth) {\n\n        Instant now = Instant.now();\n\n        String scope = auth.getAuthorities().stream()\n                .map(GrantedAuthority::getAuthority)\n                .collect(Collectors.joining(&quot; &quot;));\n\n        JwtClaimsSet claims = JwtClaimsSet.builder()\n                .issuer(&quot;self&quot;)\n                .issuedAt(now)\n                .subject(auth.getName())\n                .claim(&quot;roles&quot;, scope)\n                .build();\n\n        System.out.print(claims);\n\n        return jwtEncoder.encode(JwtEncoderParameters.from(claims))\n.getTokenValue();\n\n    }\n}\n</code></pre>\n<p><strong>Key configuration</strong></p>\n<pre><code>@Component\n@Data\npublic class RSAKeyConfig {\n\n    private RSAPublicKey publicKey;\n\n    private RSAPrivateKey privateKey;\n\n    public RSAKeyConfig(){\n        KeyPair pair = KeyGenerator.generateRsaKey();\n        this.publicKey = (RSAPublicKey) pair.getPublic();\n        this.privateKey = (RSAPrivateKey) pair.getPrivate();\n    }\n}\n</code></pre>\n<p><strong>Key Generator</strong></p>\n<pre><code>public class KeyGenerator {\n\n    public static KeyPair generateRsaKey(){\n\n\n        KeyPair keyPair;\n\n        try{\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n            keyPairGenerator.initialize(2048);\n            keyPair = keyPairGenerator.generateKeyPair();\n        }catch(Exception e){\n            throw new IllegalStateException();\n        }\n\n        return keyPair;\n\n    }\n}\n</code></pre>\n<p>I've tried tinkering with the security filter chain but that seems to be futile.\n<strong>relevent dependencies im using</strong>\n<a href=\"https://i.stack.imgur.com/Aeshq.png\" rel=\"nofollow noreferrer\">1</a>\n<a href=\"https://i.stack.imgur.com/su3Ku.png\" rel=\"nofollow noreferrer\">2</a></p>\n"},{"tags":["java","spring","spring-security","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":8681662,"reputation":11,"user_id":6497316,"display_name":"SamP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694138906,"creation_date":1694138906,"answer_id":77063748,"question_id":76483442,"body_markdown":"I had a similar issue and the challenge was that I did not have direct access to register redirect URIs in our provider (Azure). This limited my tests so please consider the following only as a reference.\r\n\r\nI ended up requesting to add three redirect URIs and only one solved my issue. It seems that Spring is a little strict in the redirect URI formats. I ended up using redirect URI that matches the default which is:\r\n\r\n    {baseUrl}/login/oauth2/code/{registrationId}\r\n\r\nSpring also has an option to customize this redirect URI (haven&#39;t tested but I would assume the format also matters):\r\n\r\nhttps://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-redirection-endpoint","title":"OAuth2 with Spring security causing redirect loop","body":"<p>I had a similar issue and the challenge was that I did not have direct access to register redirect URIs in our provider (Azure). This limited my tests so please consider the following only as a reference.</p>\n<p>I ended up requesting to add three redirect URIs and only one solved my issue. It seems that Spring is a little strict in the redirect URI formats. I ended up using redirect URI that matches the default which is:</p>\n<pre><code>{baseUrl}/login/oauth2/code/{registrationId}\n</code></pre>\n<p>Spring also has an option to customize this redirect URI (haven't tested but I would assume the format also matters):</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-redirection-endpoint\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-redirection-endpoint</a></p>\n"}],"owner":{"account_id":28828216,"reputation":1,"user_id":22079272,"display_name":"you_know_who"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694138906,"creation_date":1686844325,"question_id":76483442,"body_markdown":"I have a Java Spring application. I tried to configure OAuth2. So, far I have got the redirect to the SS) page correctly. Afterwards, if I enter the correct username and pwd, it acknowledges my login and then I get a redirect loop.\r\n\r\napplication.yml\r\n\r\n```\r\nauthorization-grant-type: authorization_code\r\nredirect-uri: http://localhost:1234/oauth2/callback\r\n```\r\n\r\nI have set the authorization uri and token uri correctly.\r\n\r\nThis is my OAuthSecurityConfiguration.java code\r\n\r\n```\r\n@Configuration\r\npublic class OAuthSecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.anonymous().disable();\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/my-gui/**&quot;).authenticated()\r\n                .anyRequest().permitAll()\r\n                .and()\r\n                .oauth2Login();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    WebClient webClient(ClientRegistrationRepository clientRegistrationRepository, OAuth2AuthorizedClientRepository authorizedClientRepository) {\r\n        ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2 = new ServletOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrationRepository, authorizedClientRepository);\r\n        oauth2.setDefaultOAuth2AuthorizedClient(true);\r\n        return WebClient.builder()\r\n                .apply(oauth2.oauth2Configuration())\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nThis is my OAuthController code\r\n\r\n```\r\n@Controller\r\npublic class OAuthController {\r\n\r\n    @Autowired\r\n    private OAuth2AuthorizedClientService authorizedClientService;\r\n\r\n    @GetMapping(&quot;/oauth2/callback&quot;)\r\n    public String handleCallback(HttpServletRequest request, Model model) {\r\n        // Get the OAuth2AuthenticationToken from the request\r\n        OAuth2AuthenticationToken authentication = (OAuth2AuthenticationToken) SecurityContextHolder.getContext().getAuthentication();\r\n        // Get the authorized client from the authentication\r\n        OAuth2AuthorizedClient authorizedClient = authorizedClientService.loadAuthorizedClient(authentication.getAuthorizedClientRegistrationId(), authentication.getName());\r\n\r\n        // Redirect to the protected page with the access token included as a query parameter\r\n        return &quot;redirect:/my-gui/index.html?access_token=&quot; + authorizedClient.getAccessToken().getTokenValue();\r\n    }\r\n}\r\n```\r\n\r\nSo, I try to open localhost:1234/my-gui/index.html. This redirects me to an SSO page which is th eexpected behaviour. Here, when I enter the correct username and pwd, I expect it to open localhost:1234/my-gui/index.html which is why I redirect in OAuthController as well. But it just throws me a redirect loop.\r\n\r\nI think it is due to the redirect going to a page that needs authentication and causes the loop. Basically, what I want to achieve is have OAuth authentication on localhost:1234/my-gui/index.html and when someone enters the correct pwd, they should see the page.","title":"OAuth2 with Spring security causing redirect loop","body":"<p>I have a Java Spring application. I tried to configure OAuth2. So, far I have got the redirect to the SS) page correctly. Afterwards, if I enter the correct username and pwd, it acknowledges my login and then I get a redirect loop.</p>\n<p>application.yml</p>\n<pre><code>authorization-grant-type: authorization_code\nredirect-uri: http://localhost:1234/oauth2/callback\n</code></pre>\n<p>I have set the authorization uri and token uri correctly.</p>\n<p>This is my OAuthSecurityConfiguration.java code</p>\n<pre><code>@Configuration\npublic class OAuthSecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.anonymous().disable();\n        http.authorizeRequests()\n                .antMatchers(&quot;/my-gui/**&quot;).authenticated()\n                .anyRequest().permitAll()\n                .and()\n                .oauth2Login();\n        return http.build();\n    }\n\n    @Bean\n    WebClient webClient(ClientRegistrationRepository clientRegistrationRepository, OAuth2AuthorizedClientRepository authorizedClientRepository) {\n        ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2 = new ServletOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrationRepository, authorizedClientRepository);\n        oauth2.setDefaultOAuth2AuthorizedClient(true);\n        return WebClient.builder()\n                .apply(oauth2.oauth2Configuration())\n                .build();\n    }\n}\n</code></pre>\n<p>This is my OAuthController code</p>\n<pre><code>@Controller\npublic class OAuthController {\n\n    @Autowired\n    private OAuth2AuthorizedClientService authorizedClientService;\n\n    @GetMapping(&quot;/oauth2/callback&quot;)\n    public String handleCallback(HttpServletRequest request, Model model) {\n        // Get the OAuth2AuthenticationToken from the request\n        OAuth2AuthenticationToken authentication = (OAuth2AuthenticationToken) SecurityContextHolder.getContext().getAuthentication();\n        // Get the authorized client from the authentication\n        OAuth2AuthorizedClient authorizedClient = authorizedClientService.loadAuthorizedClient(authentication.getAuthorizedClientRegistrationId(), authentication.getName());\n\n        // Redirect to the protected page with the access token included as a query parameter\n        return &quot;redirect:/my-gui/index.html?access_token=&quot; + authorizedClient.getAccessToken().getTokenValue();\n    }\n}\n</code></pre>\n<p>So, I try to open localhost:1234/my-gui/index.html. This redirects me to an SSO page which is th eexpected behaviour. Here, when I enter the correct username and pwd, I expect it to open localhost:1234/my-gui/index.html which is why I redirect in OAuthController as well. But it just throws me a redirect loop.</p>\n<p>I think it is due to the redirect going to a page that needs authentication and causes the loop. Basically, what I want to achieve is have OAuth authentication on localhost:1234/my-gui/index.html and when someone enters the correct pwd, they should see the page.</p>\n"},{"tags":["java","sql","hibernate","java-annotations"],"comments":[{"owner":{"account_id":1751963,"reputation":531,"user_id":1600844,"accept_rate":33,"display_name":"Gustavo"},"score":1,"creation_date":1387169425,"post_id":20603638,"comment_id":30830024,"body_markdown":"http://docs.oracle.com/javaee/5/api/javax/persistence/GenerationType.html","body":"<a href=\"http://docs.oracle.com/javaee/5/api/javax/persistence/GenerationType.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/5/api/javax/persistence/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1387169517,"creation_date":1387169517,"answer_id":20603687,"question_id":20603638,"body_markdown":"In a Object Relational Mapping context, every object needs to have a unique identifier. You use the [`@Id`][1] annotation to specify the primary key of an entity.\r\n\r\n\r\nThe [`@GeneratedValue`][2] annotation is used to specify how the primary key should be generated. In your example you are using an [`Identity`][3] strategy which\r\n\r\n&gt; Indicates that the persistence provider must assign primary keys for\r\n&gt; the entity using a database identity column.\r\n\r\nThere are other strategies, you can see more [here][4].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/persistence/Id.html\r\n  [2]: http://docs.oracle.com/javaee/7/api/javax/persistence/GeneratedValue.html\r\n  [3]: http://docs.oracle.com/javaee/7/api/javax/persistence/GenerationType.html#IDENTITY\r\n  [4]: https://stackoverflow.com/questions/10041938/how-to-choose-the-id-generation-strategy-when-using-hibernate","title":"what is the use of annotations @Id and @GeneratedValue(strategy = GenerationType.IDENTITY)? Why the generationtype is identity?","body":"<p>In a Object Relational Mapping context, every object needs to have a unique identifier. You use the <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/Id.html\" rel=\"noreferrer\"><code>@Id</code></a> annotation to specify the primary key of an entity.</p>\n\n<p>The <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/GeneratedValue.html\" rel=\"noreferrer\"><code>@GeneratedValue</code></a> annotation is used to specify how the primary key should be generated. In your example you are using an <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/GenerationType.html#IDENTITY\" rel=\"noreferrer\"><code>Identity</code></a> strategy which</p>\n\n<blockquote>\n  <p>Indicates that the persistence provider must assign primary keys for\n  the entity using a database identity column.</p>\n</blockquote>\n\n<p>There are other strategies, you can see more <a href=\"https://stackoverflow.com/questions/10041938/how-to-choose-the-id-generation-strategy-when-using-hibernate\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1289950,"reputation":2661,"user_id":1242236,"display_name":"Rugal"},"down_vote_count":0,"up_vote_count":179,"is_accepted":true,"score":179,"last_activity_date":1689837918,"creation_date":1387178408,"answer_id":20605392,"question_id":20603638,"body_markdown":"First of all, using annotations as our configure method is just a convenient method instead of coping the endless XML configuration file.  \r\n\r\nThe `@Id`annotation is inherited from `javax.persistence.Id`, indicating the member field below is the primary key of current entity. Hence your Hibernate and spring framework as well as you can do some `reflect` works based on this annotation. For details, please check [javadoc for Id](http://docs.oracle.com/javaee/6/api/javax/persistence/Id.html)  \r\n\r\nThe `@GeneratedValue` annotation is to configure the way of increment of the specified column(field). For example, when using `Mysql`, you may specify `auto_increment` in the definition of table to make it self-incremental, and then use \r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\nin the Java code to denote that you also acknowledged to use this database server side strategy. Also, you may change the value in this annotation to fit different requirements. \r\n\r\n### 1. Define Sequence in database\r\n\r\nFor instance, Oracle has to use `sequence` as increment method, say we create a sequence in Oracle:  \r\n\r\n    create sequence oracle_seq;\r\n\r\n### 2. Refer the database sequence\r\n\r\nNow that we have the sequence in database, but we need to establish the relation between Java and DB, by using [`@SequenceGenerator`](http://docs.oracle.com/javaee/6/api/javax/persistence/SequenceGenerator.html):\r\n\r\n    @SequenceGenerator(name=&quot;seq&quot;,sequenceName=&quot;oracle_seq&quot;)\r\n\r\n`sequenceName` is the real name of a sequence in Oracle, `name` is what you want to call it in Java.  You need to specify `sequenceName` if it is different from `name`, otherwise just use `name`.  I usually ignore `sequenceName` to save my time.  \r\n\r\n\r\n### 3. Use sequence in Java\r\n\r\nFinally, it is time to make use this sequence in Java. Just add [`@GeneratedValue`](http://docs.oracle.com/javaee/6/api/javax/persistence/SequenceGenerator.html):  \r\n\r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;seq&quot;)\r\n\r\nThe `generator` field refers to which sequence generator you want to use. Notice it is not the real sequence name in DB, but the name you specified in `name` field of `SequenceGenerator`.  \r\n\r\n\r\n### 4. Complete\r\n\r\nSo the complete version should be like this:\r\n\r\n    public class MyTable\r\n    {\r\n        @Id\r\n        @SequenceGenerator(name=&quot;seq&quot;,sequenceName=&quot;oracle_seq&quot;)        \r\n        @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;seq&quot;)               \r\n        private Integer pid;\r\n    }\r\n\r\nNow start using these annotations to make your JavaWeb development easier.  ","title":"what is the use of annotations @Id and @GeneratedValue(strategy = GenerationType.IDENTITY)? Why the generationtype is identity?","body":"<p>First of all, using annotations as our configure method is just a convenient method instead of coping the endless XML configuration file.</p>\n<p>The <code>@Id</code>annotation is inherited from <code>javax.persistence.Id</code>, indicating the member field below is the primary key of current entity. Hence your Hibernate and spring framework as well as you can do some <code>reflect</code> works based on this annotation. For details, please check <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/Id.html\" rel=\"noreferrer\">javadoc for Id</a></p>\n<p>The <code>@GeneratedValue</code> annotation is to configure the way of increment of the specified column(field). For example, when using <code>Mysql</code>, you may specify <code>auto_increment</code> in the definition of table to make it self-incremental, and then use</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n<p>in the Java code to denote that you also acknowledged to use this database server side strategy. Also, you may change the value in this annotation to fit different requirements.</p>\n<h3>1. Define Sequence in database</h3>\n<p>For instance, Oracle has to use <code>sequence</code> as increment method, say we create a sequence in Oracle:</p>\n<pre><code>create sequence oracle_seq;\n</code></pre>\n<h3>2. Refer the database sequence</h3>\n<p>Now that we have the sequence in database, but we need to establish the relation between Java and DB, by using <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/SequenceGenerator.html\" rel=\"noreferrer\"><code>@SequenceGenerator</code></a>:</p>\n<pre><code>@SequenceGenerator(name=&quot;seq&quot;,sequenceName=&quot;oracle_seq&quot;)\n</code></pre>\n<p><code>sequenceName</code> is the real name of a sequence in Oracle, <code>name</code> is what you want to call it in Java.  You need to specify <code>sequenceName</code> if it is different from <code>name</code>, otherwise just use <code>name</code>.  I usually ignore <code>sequenceName</code> to save my time.</p>\n<h3>3. Use sequence in Java</h3>\n<p>Finally, it is time to make use this sequence in Java. Just add <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/SequenceGenerator.html\" rel=\"noreferrer\"><code>@GeneratedValue</code></a>:</p>\n<pre><code>@GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;seq&quot;)\n</code></pre>\n<p>The <code>generator</code> field refers to which sequence generator you want to use. Notice it is not the real sequence name in DB, but the name you specified in <code>name</code> field of <code>SequenceGenerator</code>.</p>\n<h3>4. Complete</h3>\n<p>So the complete version should be like this:</p>\n<pre><code>public class MyTable\n{\n    @Id\n    @SequenceGenerator(name=&quot;seq&quot;,sequenceName=&quot;oracle_seq&quot;)        \n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;seq&quot;)               \n    private Integer pid;\n}\n</code></pre>\n<p>Now start using these annotations to make your JavaWeb development easier.</p>\n"},{"tags":[],"owner":{"account_id":12929058,"reputation":505,"user_id":9348676,"display_name":"SumiSujith"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1683999299,"creation_date":1542976023,"answer_id":53446726,"question_id":20603638,"body_markdown":"Simply, @Id: This annotation specifies the primary key of the entity. \r\n\r\n@GeneratedValue: This annotation is used to specify the primary key generation strategy to use. i.e Instructs database to generate a value for this field automatically. If the strategy is not specified by default AUTO will be used. \r\n\r\nGenerationType enum defines four strategies: \r\n1. Generation Type. TABLE, \r\n2. Generation Type. SEQUENCE,\r\n3. Generation Type. IDENTITY   \r\n4. Generation Type. AUTO\r\n\r\n**GenerationType.SEQUENCE**\r\n\r\nWith this strategy, underlying persistence provider must use a database sequence to get the next unique primary key for the entities.\r\n\r\n\r\n**GenerationType.TABLE**\r\n\r\nWith this strategy, the underlying persistence provider must use a database table to generate/keep the next unique primary key for the entities. \r\n\r\n**GenerationType.IDENTITY** \r\n\r\nThis GenerationType indicates that the persistence provider must assign primary keys for the entity using a database identity column. IDENTITY column is typically used in SQL Server. This special type column is populated internally by the table itself without using a separate sequence. If underlying database doesn&#39;t support IDENTITY column or some similar variant then the persistence provider can choose an alternative appropriate strategy. In this examples we are using H2 database which doesn&#39;t support IDENTITY column.\r\n\r\n**GenerationType.AUTO** \r\n\r\nThis GenerationType indicates that the persistence provider should automatically pick an appropriate strategy for the particular database. This is the default GenerationType, i.e. if we just use @GeneratedValue annotation then this value of GenerationType will be used.\r\n\r\nReference:- https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/jpa-primary-key.html\r\n","title":"what is the use of annotations @Id and @GeneratedValue(strategy = GenerationType.IDENTITY)? Why the generationtype is identity?","body":"<p>Simply, @Id: This annotation specifies the primary key of the entity.</p>\n<p>@GeneratedValue: This annotation is used to specify the primary key generation strategy to use. i.e Instructs database to generate a value for this field automatically. If the strategy is not specified by default AUTO will be used.</p>\n<p>GenerationType enum defines four strategies:</p>\n<ol>\n<li>Generation Type. TABLE,</li>\n<li>Generation Type. SEQUENCE,</li>\n<li>Generation Type. IDENTITY</li>\n<li>Generation Type. AUTO</li>\n</ol>\n<p><strong>GenerationType.SEQUENCE</strong></p>\n<p>With this strategy, underlying persistence provider must use a database sequence to get the next unique primary key for the entities.</p>\n<p><strong>GenerationType.TABLE</strong></p>\n<p>With this strategy, the underlying persistence provider must use a database table to generate/keep the next unique primary key for the entities.</p>\n<p><strong>GenerationType.IDENTITY</strong></p>\n<p>This GenerationType indicates that the persistence provider must assign primary keys for the entity using a database identity column. IDENTITY column is typically used in SQL Server. This special type column is populated internally by the table itself without using a separate sequence. If underlying database doesn't support IDENTITY column or some similar variant then the persistence provider can choose an alternative appropriate strategy. In this examples we are using H2 database which doesn't support IDENTITY column.</p>\n<p><strong>GenerationType.AUTO</strong></p>\n<p>This GenerationType indicates that the persistence provider should automatically pick an appropriate strategy for the particular database. This is the default GenerationType, i.e. if we just use @GeneratedValue annotation then this value of GenerationType will be used.</p>\n<p>Reference:- <a href=\"https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/jpa-primary-key.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/jpa-primary-key.html</a></p>\n"},{"tags":[],"owner":{"account_id":15955770,"reputation":712,"user_id":11513972,"display_name":"Tristan Elliott"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1644700347,"creation_date":1644700347,"answer_id":71095911,"question_id":20603638,"body_markdown":"### Why are we using this annotation?\r\n- First I would like to remind everyone that the annotations, such as `@Id`, are providing metadata to the persistence layer(I will assume hibernate).This metadata will most likely be stored in the .class file(but not stored in the database) and is used to tell hibernate how to recognize, interpret and manage the entity. So, Why are you using the annotation? To provide your persistence layer with the proper information about how to manage the entity.\r\n\r\n### Why use the @Id annotation?\r\n- The `@Id` annotation is one of the two mandatory annotations needed when creating an entity with JPA. The other one being `@Entity`. `@Id` does two things for us:\r\n\r\n  **1)** signifies that this field will be the unique identifier for this class when mapped to a database table\r\n\r\n  **2)** the presence of `@Id` lets the persistence layer know that all other fields within this class are to be mapped to database rows\r\n\r\n### Why use @GeneratedValue?\r\n- By marking the `@Id` field with `@GeneratedValue` we are now enabling `id generation`. Which means that the persistence layer will generate an Id value for us and handle the auto incrementing. Our application can choose 1 of 4 generations strategies:\r\n\r\n  **1) AUTO**\r\n\r\n  **2) TABLE**\r\n\r\n  **3) SEQUENCE**\r\n\r\n  **4) IDENTITY**\r\n\r\n- If not strategy is specified then AUTO is assumed\r\n\r\n### What is strategy = GenerationType.IDENTITY actually doing?\r\n- When we specify the generation strategy as `GenerationType.IDENTITY` we are telling the persistence provider(hibernate) to let the database handle the auto incrementing of the id. If you were to use postgres as an underling database and specified the strategy as `IDENTITY`, hibernate would execute this:\r\n```\r\ncreate table users (\r\n       id  bigserial not null,\r\n        primary key (id)\r\n    )\r\n\r\n```\r\n- Notice that they type of the id is `bigserial`, what is bigserial? As per the postgres [documentation](https://www.postgresql.org/docs/9.1/datatype-numeric.html), `bigserial is a large autoincrementing integer`.\r\n\r\n### Conclusion\r\n- By specifying:\r\n```\r\n@Id \r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\nprivate Integer id;\r\n\r\n```\r\n- you have told the underlying persistence layer to use the id field as a unique identifier within the database. Also told the persistence layer to let the database handle the auto incrementing of the id with `GenerationType.IDENTITY`.\r\n\r\n\r\n","title":"what is the use of annotations @Id and @GeneratedValue(strategy = GenerationType.IDENTITY)? Why the generationtype is identity?","body":"<h3>Why are we using this annotation?</h3>\n<ul>\n<li>First I would like to remind everyone that the annotations, such as <code>@Id</code>, are providing metadata to the persistence layer(I will assume hibernate).This metadata will most likely be stored in the .class file(but not stored in the database) and is used to tell hibernate how to recognize, interpret and manage the entity. So, Why are you using the annotation? To provide your persistence layer with the proper information about how to manage the entity.</li>\n</ul>\n<h3>Why use the @Id annotation?</h3>\n<ul>\n<li><p>The <code>@Id</code> annotation is one of the two mandatory annotations needed when creating an entity with JPA. The other one being <code>@Entity</code>. <code>@Id</code> does two things for us:</p>\n<p><strong>1)</strong> signifies that this field will be the unique identifier for this class when mapped to a database table</p>\n<p><strong>2)</strong> the presence of <code>@Id</code> lets the persistence layer know that all other fields within this class are to be mapped to database rows</p>\n</li>\n</ul>\n<h3>Why use @GeneratedValue?</h3>\n<ul>\n<li><p>By marking the <code>@Id</code> field with <code>@GeneratedValue</code> we are now enabling <code>id generation</code>. Which means that the persistence layer will generate an Id value for us and handle the auto incrementing. Our application can choose 1 of 4 generations strategies:</p>\n<p><strong>1) AUTO</strong></p>\n<p><strong>2) TABLE</strong></p>\n<p><strong>3) SEQUENCE</strong></p>\n<p><strong>4) IDENTITY</strong></p>\n</li>\n<li><p>If not strategy is specified then AUTO is assumed</p>\n</li>\n</ul>\n<h3>What is strategy = GenerationType.IDENTITY actually doing?</h3>\n<ul>\n<li>When we specify the generation strategy as <code>GenerationType.IDENTITY</code> we are telling the persistence provider(hibernate) to let the database handle the auto incrementing of the id. If you were to use postgres as an underling database and specified the strategy as <code>IDENTITY</code>, hibernate would execute this:</li>\n</ul>\n<pre><code>create table users (\n       id  bigserial not null,\n        primary key (id)\n    )\n\n</code></pre>\n<ul>\n<li>Notice that they type of the id is <code>bigserial</code>, what is bigserial? As per the postgres <a href=\"https://www.postgresql.org/docs/9.1/datatype-numeric.html\" rel=\"noreferrer\">documentation</a>, <code>bigserial is a large autoincrementing integer</code>.</li>\n</ul>\n<h3>Conclusion</h3>\n<ul>\n<li>By specifying:</li>\n</ul>\n<pre><code>@Id \n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n\n</code></pre>\n<ul>\n<li>you have told the underlying persistence layer to use the id field as a unique identifier within the database. Also told the persistence layer to let the database handle the auto incrementing of the id with <code>GenerationType.IDENTITY</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20613780,"reputation":1,"user_id":15132365,"display_name":"Sagar Rawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664654434,"creation_date":1664222383,"answer_id":73859363,"question_id":20603638,"body_markdown":"In very simple words, we want to tell our Database (DB) what strategy to use to generate primary keys.\r\nNow, primary keys must be different for every different row so there must be some strategy that will tell the DB on how to differentiate one row from another.\r\n\r\n`GenerationType` lets us define that strategy.\r\n\r\nHere `@GeneratedValue(stratergy=GenerationType.IDENTITY)` is telling our DB to store primary key in the identity column which is a default column in SQL for default auto incremented primary key generation.","title":"what is the use of annotations @Id and @GeneratedValue(strategy = GenerationType.IDENTITY)? Why the generationtype is identity?","body":"<p>In very simple words, we want to tell our Database (DB) what strategy to use to generate primary keys.\nNow, primary keys must be different for every different row so there must be some strategy that will tell the DB on how to differentiate one row from another.</p>\n<p><code>GenerationType</code> lets us define that strategy.</p>\n<p>Here <code>@GeneratedValue(stratergy=GenerationType.IDENTITY)</code> is telling our DB to store primary key in the identity column which is a default column in SQL for default auto incremented primary key generation.</p>\n"}],"owner":{"account_id":3668752,"reputation":6558,"user_id":3065232,"accept_rate":25,"display_name":"Lijo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329180,"favorite_count":0,"down_vote_count":0,"up_vote_count":133,"accepted_answer_id":20605392,"answer_count":5,"score":133,"last_activity_date":1694138446,"creation_date":1387169205,"question_id":20603638,"body_markdown":"    @Id \r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\nWhy we are using this annotations?\r\ni need to know if this autoincrement my table id values.\r\n(GenerationType.IDENTITY) is there any other types whats actually happening when we use this annotation\r\n\r\n   \r\n\r\n \r\n\r\n \r\n\r\n    public class Author extends Domain\r\n    {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Basic(optional = false)\r\n    \t@Column(name = &quot;id&quot;) \r\n    \tprivate Integer id;\r\n    \t\r\n    \t@Basic(optional = false)\r\n    \t@Column(name = &quot;name&quot;) \r\n    \tprivate String name;\r\n    \t\r\n    \t@Column(name = &quot;address&quot;) \r\n    \tprivate String address; \r\n    \t\r\n    \t@OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;authorId&quot;)\r\n    \tprivate List&lt;Book&gt;\r\n    \tbookList;\r\n    \t   \r\n    \tpublic Author()\r\n    \t{ \r\n    \t\tsetServiceClassName(&quot;wawo.tutorial.service.admin.AuthorService&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n*Is it necessary to extend Domain abstract class?What is the use?","title":"what is the use of annotations @Id and @GeneratedValue(strategy = GenerationType.IDENTITY)? Why the generationtype is identity?","body":"<pre><code>@Id \n@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n\n<p>Why we are using this annotations?\ni need to know if this autoincrement my table id values.\n(GenerationType.IDENTITY) is there any other types whats actually happening when we use this annotation</p>\n\n<pre><code>public class Author extends Domain\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = \"id\") \n    private Integer id;\n\n    @Basic(optional = false)\n    @Column(name = \"name\") \n    private String name;\n\n    @Column(name = \"address\") \n    private String address; \n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = \"authorId\")\n    private List&lt;Book&gt;\n    bookList;\n\n    public Author()\n    { \n        setServiceClassName(\"wawo.tutorial.service.admin.AuthorService\");\n    }\n}\n</code></pre>\n\n<p>*Is it necessary to extend Domain abstract class?What is the use?</p>\n"},{"tags":["java","spring","spring-security","keycloak"],"comments":[{"owner":{"account_id":4666712,"reputation":1370,"user_id":3779603,"display_name":"Yuriy P"},"score":0,"creation_date":1565699052,"post_id":57477407,"comment_id":101427107,"body_markdown":"What about the configuration of &quot;myReal-api&quot;, does it have **Valid Redirect URIs** defined?","body":"What about the configuration of &quot;myReal-api&quot;, does it have <b>Valid Redirect URIs</b> defined?"},{"owner":{"account_id":10490611,"reputation":295,"user_id":10703088,"display_name":"Dan"},"score":0,"creation_date":1565699226,"post_id":57477407,"comment_id":101427195,"body_markdown":"I set the &quot;Access type&quot; to ```bearer only```. In this case you don&#39;t have to set a Valid Redirect URI so I didn&#39;t have to configure that option","body":"I set the &quot;Access type&quot; to <code>bearer only</code>. In this case you don&#39;t have to set a Valid Redirect URI so I didn&#39;t have to configure that option"},{"owner":{"account_id":4666712,"reputation":1370,"user_id":3779603,"display_name":"Yuriy P"},"score":1,"creation_date":1565700399,"post_id":57477407,"comment_id":101427812,"body_markdown":"Tooltip near Access Type says: `&quot;Bearer-only&quot; clients are web services that never initiate login`. But you actually trying to initiate login and perform SSO. SSO worked for me with Access Type: confidential and properly set redirect URIs.","body":"Tooltip near Access Type says: <code>&quot;Bearer-only&quot; clients are web services that never initiate login</code>. But you actually trying to initiate login and perform SSO. SSO worked for me with Access Type: confidential and properly set redirect URIs."},{"owner":{"account_id":10490611,"reputation":295,"user_id":10703088,"display_name":"Dan"},"score":0,"creation_date":1565701028,"post_id":57477407,"comment_id":101428127,"body_markdown":"Thanks, I had not noticed that detail. But why do I have no access to my app since I don&#39;t have to login ? And I noticed something else, I just commented the line ```bearer-only: true``` from my config, and relauching my app results in a ```Bearer-only applications are not allowed to initiate browser login``` error message. Do I have to uncomment it (considering that if I do, I get a 401 error instead) ?","body":"Thanks, I had not noticed that detail. But why do I have no access to my app since I don&#39;t have to login ? And I noticed something else, I just commented the line <code>bearer-only: true</code> from my config, and relauching my app results in a <code>Bearer-only applications are not allowed to initiate browser login</code> error message. Do I have to uncomment it (considering that if I do, I get a 401 error instead) ?"},{"owner":{"account_id":4666712,"reputation":1370,"user_id":3779603,"display_name":"Yuriy P"},"score":0,"creation_date":1565703052,"post_id":57477407,"comment_id":101429250,"body_markdown":"So you commented bearer-only in your application, but have you changed Access Type from Keycloak Admin console and set it to confidential (and added URIs)?","body":"So you commented bearer-only in your application, but have you changed Access Type from Keycloak Admin console and set it to confidential (and added URIs)?"},{"owner":{"account_id":4666712,"reputation":1370,"user_id":3779603,"display_name":"Yuriy P"},"score":0,"creation_date":1565703530,"post_id":57477407,"comment_id":101429517,"body_markdown":"Regarding &quot;why do I have no access&quot;. Let me explain my understanding of using &#39;Bearer-Only&#39;. Let&#39;s say you have Service A (some web app) that is accessed by a user from the browser. And you have Service B - some internal service that is only used by service A. In this case &#39;Bearer Only&#39; will be used by service B, because Service A will be responsible for redirecting the user to Keyclaok for login, and Service A will already have a token and pass it to service B when making requests. Which means service B will never initiate user login. And for service A you should use Access Type: confidential","body":"Regarding &quot;why do I have no access&quot;. Let me explain my understanding of using &#39;Bearer-Only&#39;. Let&#39;s say you have Service A (some web app) that is accessed by a user from the browser. And you have Service B - some internal service that is only used by service A. In this case &#39;Bearer Only&#39; will be used by service B, because Service A will be responsible for redirecting the user to Keyclaok for login, and Service A will already have a token and pass it to service B when making requests. Which means service B will never initiate user login. And for service A you should use Access Type: confidential"},{"owner":{"account_id":10490611,"reputation":295,"user_id":10703088,"display_name":"Dan"},"score":0,"creation_date":1566914851,"post_id":57477407,"comment_id":101800036,"body_markdown":"I enabled the Spring Security logs and I&#39;m getting these ```Populated SecurityContextHolder with anonymous token: &#39;org.springframework.security.authentication.AnonymousAuthenticationToken@631f7b08: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@59b2: RemoteIpAddress: 192.168.22.165; SessionId: null; Granted Authorities: ROLE_ANONYMOUS&#39;``` which triggers a ```org.springframework.security.access.AccessDeniedException: Access is denied```. I&#39;m pretty sure it also explains my problem","body":"I enabled the Spring Security logs and I&#39;m getting these <code>Populated SecurityContextHolder with anonymous token: &#39;org.springframework.security.authentication.AnonymousAuthen&zwnj;&#8203;ticationToken@631f7b&zwnj;&#8203;08: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthentic&zwnj;&#8203;ationDetails@59b2: RemoteIpAddress: 192.168.22.165; SessionId: null; Granted Authorities: ROLE_ANONYMOUS&#39;</code> which triggers a <code>org.springframework.security.access.AccessDeniedException: Access is denied</code>. I&#39;m pretty sure it also explains my problem"},{"owner":{"account_id":10490611,"reputation":295,"user_id":10703088,"display_name":"Dan"},"score":0,"creation_date":1566914905,"post_id":57477407,"comment_id":101800070,"body_markdown":"To be honest, at this point I&#39;m not sure how to fix that issue","body":"To be honest, at this point I&#39;m not sure how to fix that issue"}],"answers":[{"tags":[],"owner":{"account_id":433443,"reputation":4526,"user_id":818766,"display_name":"manyways"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1616396933,"creation_date":1616394502,"answer_id":66741236,"question_id":57477407,"body_markdown":"I received the same error, one thing to double check is that `auth-server-url` is the same for the server, and the client getting the token.\r\n\r\nI.e. if one is the dns name, and one is the IP address, it will **not authorize**. (in my case I had localhost and 127.0.0.1 so authorization failed)\r\n\r\nServer, src/main/resources/application.yml\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nPostman/client:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BqoGG.png\r\n  [2]: https://i.stack.imgur.com/oRlSZ.png","title":"Spring app with Keycloak returns 401 error","body":"<p>I received the same error, one thing to double check is that <code>auth-server-url</code> is the same for the server, and the client getting the token.</p>\n<p>I.e. if one is the dns name, and one is the IP address, it will <strong>not authorize</strong>. (in my case I had localhost and 127.0.0.1 so authorization failed)</p>\n<p>Server, src/main/resources/application.yml</p>\n<p><a href=\"https://i.stack.imgur.com/BqoGG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BqoGG.png\" alt=\"enter image description here\" /></a></p>\n<p>Postman/client:</p>\n<p><a href=\"https://i.stack.imgur.com/oRlSZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oRlSZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8379934,"reputation":137,"user_id":8953366,"display_name":"Fosol"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632937451,"creation_date":1632937451,"answer_id":69381167,"question_id":57477407,"body_markdown":"This solved my issue.  I was using within a docker container and had to match both to `host.docker.internal`","title":"Spring app with Keycloak returns 401 error","body":"<p>This solved my issue.  I was using within a docker container and had to match both to <code>host.docker.internal</code></p>\n"}],"owner":{"account_id":10490611,"reputation":295,"user_id":10703088,"display_name":"Dan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13364,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1694137650,"creation_date":1565697942,"question_id":57477407,"body_markdown":"I&#39;m trying to access a Spring App via Keycloak, but I always get a 401 Unauthorized error. Basically I have a chat module that works fine on its own, but once I add Keycloak I&#39;m unable to access the app due to that 401 error.\r\nI&#39;ve followed about 3 tutorials that showed similar things to what I&#39;ve done, and I still have no idea what I&#39;ve done wrong.\r\n\r\nHere&#39;s my app&#39;s config :\r\n```\r\nkeycloak: \r\n    enabled: true\r\n    realm: myReal\r\n    resource: myReal-api\r\n    public-client: true\r\n    bearer-only: true\r\n    auth-server-url: http://localhost:8080/auth\r\n    credentials:\r\n      secret: 82eXXXXX-3XXX-4XXX-XXX7-287aXXXXXXXX\r\n    principal-attribute: preferred_username\r\n    cors: true\r\n```\r\n\r\nFrom ```localhost:port/``` I have a first interface (with no Keycloak safety) that has a link to my service, which is ```localhost:port/index/{topicName}``` . Now when I click on that link, I&#39;m supposed to get the Keycloak authentication screen, but I get a 401 error instead. \r\n\r\nI&#39;ve checked the header of my request, adding a HttpServletRequest as a parameter to my ```displayMessage``` method, and I actually could display the access_token and the X-Auth-Token in my IDE&#39;s console. But it seems like when I follow that link, it sends the request without the token.\r\n\r\n\r\nHere are my controller methods (my Controller class is annotated with ```@Controller```:\r\n\r\n```java\r\n@GetMapping(path = &quot;/&quot;)\r\n\tpublic String index() {\r\n\t\treturn &quot;external&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(path = &quot;/index/{topicName}&quot;,\r\n\t\t\tproduces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic String displayMessages(Model model, \r\n\t\t\t@PathVariable String topicName) {\t\t\r\n\r\n\t\t\t//HttpHeaders headers = new HttpHeaders();\r\n\r\n\t\t\t//headers.set(&quot;Authorization&quot;, request.getHeader(&quot;Authorization&quot;));\r\n\t\t\t//header = request.getHeader(&quot;Authorization&quot;);\r\n\t\t\t//System.out.println(&quot; T O K E N &quot;+request.getHeader(&quot;X-Auth-Token&quot;));\r\n\t\t\t\r\n\t\t\tprojectServiceImpl.findByName(topicName);\r\n\t\t\tList&lt;Message&gt; messages = messageServiceImpl.findAllMessagesByProjectName(topicName);\r\n\t\t\tmodel.addAttribute(&quot;topic&quot;, topicName);\r\n\t\t\tmodel.addAttribute(&quot;message&quot;,messages);\r\n\r\n\t\t\treturn &quot;index&quot;;\r\n\t}\r\n```\r\n\r\n\r\nMy Keycloak config file is inspired from the tuto&#39;s I&#39;ve read, so there might be a mistake in there that I don&#39;t know about (not sure what the difference between methods ```access``` and ```hasRole``` is) :\r\n```java \r\n@Configuration\r\n@ComponentScan(\r\n        basePackageClasses = KeycloakSecurityComponents.class,\r\n        excludeFilters = @ComponentScan.Filter(\r\n        \t\ttype = FilterType.REGEX, \r\n        \t\tpattern = &quot;org.keycloak.adapters.springsecurity.management.HttpSessionManager&quot;))\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n\t\r\n\t\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(SecurityConfig.class);\r\n\r\n\t@Bean\r\n\tpublic HttpSessionIdResolver httpSessionIdResolver() { //replace HttpSessionStrategy\r\n\t    return HeaderHttpSessionIdResolver.xAuthToken();\r\n\t}\r\n\t\r\n\t//Registers the KeycloakAuthenticationProvider with the authentication manager.\r\n\t@Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSimpleAuthorityMapper grantedAuthorityMapper = new SimpleAuthorityMapper();\r\n\t\t    grantedAuthorityMapper.setPrefix(&quot;ROLE_&quot;);\r\n\t\t    grantedAuthorityMapper.setConvertToUpperCase(true);\r\n\t\t \r\n\t\t    KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\r\n\t\t    keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(grantedAuthorityMapper);\r\n\t\t\t\r\n\t\t    auth.authenticationProvider(keycloakAuthenticationProvider());\r\n\t\t    \r\n\t\t} catch(Exception ex)  {\r\n\t\t\tlogger.error(&quot;SecurityConfig.configureGlobal: &quot; + ex);\r\n\r\n\t\t}\r\n\t\t\r\n\t\t /*try {\r\n\t            KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\r\n\t            keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\r\n\t            auth.authenticationProvider(keycloakAuthenticationProvider);\r\n\t        }catch(Exception ex){\r\n\t        \tlogger.error(&quot;SecurityConfig.configureGlobal: &quot; +ex);\r\n\t        }*/\r\n    }\r\n\r\n\t//Load Keycloak properties from service config-file\r\n\t@Bean\r\n    public KeycloakSpringBootConfigResolver KeycloakConfigResolver() {\r\n        return new KeycloakSpringBootConfigResolver();\r\n    }\r\n\t\r\n\t//Defines the session authentication strategy.\r\n\t@Bean\r\n    @Override\r\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n        //Public or Confidential application keycloak/OpenID Connect client\r\n\t\treturn new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\r\n        //Bearer mode only keycloak/OpenID Connect client without keycloak session -&gt; stateless behavior\r\n\t\t//return new NullAuthenticatedSessionStrategy();\r\n    }\r\n\t\r\n\t\r\n\t@Override\r\n    protected void configure(HttpSecurity http) throws Exception\r\n    {\r\n        super.configure(http);\r\n        http.authorizeRequests()\r\n        //BEGIN\r\n        \t//USER -done to be tested\r\n\t        \r\n        \t.antMatchers(HttpMethod.GET,&quot;/index**&quot;).access(&quot;hasAuthority(&#39;ADMIN&#39;)&quot;)\r\n        \t.antMatchers(HttpMethod.GET,&quot;/&quot;).access(&quot;hasAuthority(&#39;ADMIN&#39;)&quot;)\r\n        \t.antMatchers(HttpMethod.GET,&quot;/&quot;).access(&quot;hasAnyAuthority(&#39;ADMIN&#39;,&#39;MANAGER&#39;,&#39;EXPERT&#39;,&#39;STANDARD&#39;)&quot;)\r\n        \t\r\n        \t\r\n        \t\r\n\t    \t.anyRequest().authenticated() \r\n\t    \t\r\n\t    \t.and()\r\n\t    \t.cors()\r\n\t    \t.and()\r\n\t    \t.csrf().disable()\r\n\t    \t//BEGIN Login/Logout\r\n\t    \t.formLogin()\r\n\t    \t\t.permitAll()//.successHandler(authenticationSuccessHandler) //\r\n\t    \t.and()\r\n\t    \t.logout()//.clearAuthentication(true) //Add .clearAuthentication(true) to logout()\r\n\t    \t\t//.logoutUrl(&quot;/custom-logout&quot;)\r\n\t    \t\t.addLogoutHandler(keycloakLogoutHandler())\r\n\t    \t\t//.addLogoutHandler(new LogoutHandlerImpl())\r\n\t    \t\t.clearAuthentication(true)\r\n\t    \t\t.invalidateHttpSession(true)\r\n            \t.permitAll();\r\n        \t//END Login/Logout\r\n        \r\n        //BEGIN Session\r\n        http\r\n        .sessionManagement()\r\n        \t//.sessionCreationPolicy(SessionCreationPolicy.ALWAYS) //BY default IF_REQUIRED\r\n            .maximumSessions(1)\r\n                .maxSessionsPreventsLogin(false) // if true generate an error when user login after reaching maximumSession (SessionAuthenticationStrategy rejected the authentication object / SessionAuthenticationException: Maximum sessions of 1 for this principal exceeded)\r\n                //.expiredUrl(&quot;/auth/login&quot;)\r\n                .sessionRegistry(sessionRegistry());   \r\n        \r\n        \r\n        \t\r\n    }\r\n\t\r\n\t @Bean\r\n     @Scope(scopeName = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n     public AccessToken accessToken() {\r\n         HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\r\n         return ((KeycloakSecurityContext) ((KeycloakAuthenticationToken) request.getUserPrincipal()).getCredentials()).getToken();\r\n     }\r\n\t \r\n\t///BEGIN session\t \r\n\t @Bean\r\n\t public SessionRegistry sessionRegistry() {\r\n        SessionRegistry sessionRegistry = new SessionRegistryImpl();\r\n        return sessionRegistry;\r\n\t }\r\n\t \r\n\t \r\n    @Bean\r\n    public RegisterSessionAuthenticationStrategy registerSessionAuthStr( ) {\r\n        return new RegisterSessionAuthenticationStrategy( sessionRegistry( ) );\r\n    }\r\n\r\n    // Register HttpSessionEventPublisher\r\n    @Bean\r\n    public static ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt; httpSessionEventPublisher() {\r\n        return new ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt;(new HttpSessionEventPublisher());\r\n    }\r\n```\r\n\r\nI don&#39;t really know what else I should change to make it work, but I believe there has to be something wrong in there. But I think if I can have the Keycloak authentication screen when trying to access my service, this would be alright.","title":"Spring app with Keycloak returns 401 error","body":"<p>I'm trying to access a Spring App via Keycloak, but I always get a 401 Unauthorized error. Basically I have a chat module that works fine on its own, but once I add Keycloak I'm unable to access the app due to that 401 error.\nI've followed about 3 tutorials that showed similar things to what I've done, and I still have no idea what I've done wrong.</p>\n\n<p>Here's my app's config :</p>\n\n<pre><code>keycloak: \n    enabled: true\n    realm: myReal\n    resource: myReal-api\n    public-client: true\n    bearer-only: true\n    auth-server-url: http://localhost:8080/auth\n    credentials:\n      secret: 82eXXXXX-3XXX-4XXX-XXX7-287aXXXXXXXX\n    principal-attribute: preferred_username\n    cors: true\n</code></pre>\n\n<p>From <code>localhost:port/</code> I have a first interface (with no Keycloak safety) that has a link to my service, which is <code>localhost:port/index/{topicName}</code> . Now when I click on that link, I'm supposed to get the Keycloak authentication screen, but I get a 401 error instead. </p>\n\n<p>I've checked the header of my request, adding a HttpServletRequest as a parameter to my <code>displayMessage</code> method, and I actually could display the access_token and the X-Auth-Token in my IDE's console. But it seems like when I follow that link, it sends the request without the token.</p>\n\n<p>Here are my controller methods (my Controller class is annotated with <code>@Controller</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path = \"/\")\n    public String index() {\n        return \"external\";\n    }\n\n    @GetMapping(path = \"/index/{topicName}\",\n            produces = MediaType.APPLICATION_JSON_VALUE)\n    public String displayMessages(Model model, \n            @PathVariable String topicName) {       \n\n            //HttpHeaders headers = new HttpHeaders();\n\n            //headers.set(\"Authorization\", request.getHeader(\"Authorization\"));\n            //header = request.getHeader(\"Authorization\");\n            //System.out.println(\" T O K E N \"+request.getHeader(\"X-Auth-Token\"));\n\n            projectServiceImpl.findByName(topicName);\n            List&lt;Message&gt; messages = messageServiceImpl.findAllMessagesByProjectName(topicName);\n            model.addAttribute(\"topic\", topicName);\n            model.addAttribute(\"message\",messages);\n\n            return \"index\";\n    }\n</code></pre>\n\n<p>My Keycloak config file is inspired from the tuto's I've read, so there might be a mistake in there that I don't know about (not sure what the difference between methods <code>access</code> and <code>hasRole</code> is) :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ComponentScan(\n        basePackageClasses = KeycloakSecurityComponents.class,\n        excludeFilters = @ComponentScan.Filter(\n                type = FilterType.REGEX, \n                pattern = \"org.keycloak.adapters.springsecurity.management.HttpSessionManager\"))\n@EnableWebSecurity\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n\n\n    private static final Logger logger = LoggerFactory.getLogger(SecurityConfig.class);\n\n    @Bean\n    public HttpSessionIdResolver httpSessionIdResolver() { //replace HttpSessionStrategy\n        return HeaderHttpSessionIdResolver.xAuthToken();\n    }\n\n    //Registers the KeycloakAuthenticationProvider with the authentication manager.\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n\n        try {\n            SimpleAuthorityMapper grantedAuthorityMapper = new SimpleAuthorityMapper();\n            grantedAuthorityMapper.setPrefix(\"ROLE_\");\n            grantedAuthorityMapper.setConvertToUpperCase(true);\n\n            KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\n            keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(grantedAuthorityMapper);\n\n            auth.authenticationProvider(keycloakAuthenticationProvider());\n\n        } catch(Exception ex)  {\n            logger.error(\"SecurityConfig.configureGlobal: \" + ex);\n\n        }\n\n         /*try {\n                KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\n                keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\n                auth.authenticationProvider(keycloakAuthenticationProvider);\n            }catch(Exception ex){\n                logger.error(\"SecurityConfig.configureGlobal: \" +ex);\n            }*/\n    }\n\n    //Load Keycloak properties from service config-file\n    @Bean\n    public KeycloakSpringBootConfigResolver KeycloakConfigResolver() {\n        return new KeycloakSpringBootConfigResolver();\n    }\n\n    //Defines the session authentication strategy.\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        //Public or Confidential application keycloak/OpenID Connect client\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\n        //Bearer mode only keycloak/OpenID Connect client without keycloak session -&gt; stateless behavior\n        //return new NullAuthenticatedSessionStrategy();\n    }\n\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {\n        super.configure(http);\n        http.authorizeRequests()\n        //BEGIN\n            //USER -done to be tested\n\n            .antMatchers(HttpMethod.GET,\"/index**\").access(\"hasAuthority('ADMIN')\")\n            .antMatchers(HttpMethod.GET,\"/\").access(\"hasAuthority('ADMIN')\")\n            .antMatchers(HttpMethod.GET,\"/\").access(\"hasAnyAuthority('ADMIN','MANAGER','EXPERT','STANDARD')\")\n\n\n\n            .anyRequest().authenticated() \n\n            .and()\n            .cors()\n            .and()\n            .csrf().disable()\n            //BEGIN Login/Logout\n            .formLogin()\n                .permitAll()//.successHandler(authenticationSuccessHandler) //\n            .and()\n            .logout()//.clearAuthentication(true) //Add .clearAuthentication(true) to logout()\n                //.logoutUrl(\"/custom-logout\")\n                .addLogoutHandler(keycloakLogoutHandler())\n                //.addLogoutHandler(new LogoutHandlerImpl())\n                .clearAuthentication(true)\n                .invalidateHttpSession(true)\n                .permitAll();\n            //END Login/Logout\n\n        //BEGIN Session\n        http\n        .sessionManagement()\n            //.sessionCreationPolicy(SessionCreationPolicy.ALWAYS) //BY default IF_REQUIRED\n            .maximumSessions(1)\n                .maxSessionsPreventsLogin(false) // if true generate an error when user login after reaching maximumSession (SessionAuthenticationStrategy rejected the authentication object / SessionAuthenticationException: Maximum sessions of 1 for this principal exceeded)\n                //.expiredUrl(\"/auth/login\")\n                .sessionRegistry(sessionRegistry());   \n\n\n\n    }\n\n     @Bean\n     @Scope(scopeName = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\n     public AccessToken accessToken() {\n         HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\n         return ((KeycloakSecurityContext) ((KeycloakAuthenticationToken) request.getUserPrincipal()).getCredentials()).getToken();\n     }\n\n    ///BEGIN session     \n     @Bean\n     public SessionRegistry sessionRegistry() {\n        SessionRegistry sessionRegistry = new SessionRegistryImpl();\n        return sessionRegistry;\n     }\n\n\n    @Bean\n    public RegisterSessionAuthenticationStrategy registerSessionAuthStr( ) {\n        return new RegisterSessionAuthenticationStrategy( sessionRegistry( ) );\n    }\n\n    // Register HttpSessionEventPublisher\n    @Bean\n    public static ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt; httpSessionEventPublisher() {\n        return new ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt;(new HttpSessionEventPublisher());\n    }\n</code></pre>\n\n<p>I don't really know what else I should change to make it work, but I believe there has to be something wrong in there. But I think if I can have the Keycloak authentication screen when trying to access my service, this would be alright.</p>\n"},{"tags":["java","foreach"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1365200618,"post_id":15844443,"comment_id":22546462,"body_markdown":"@KacyRaye by the way, this is a similar behavior when using the enhanced `for` loop on object references classes (and the solution proposed here is the same).","body":"@KacyRaye by the way, this is a similar behavior when using the enhanced <code>for</code> loop on object references classes (and the solution proposed here is the same)."}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1365199863,"creation_date":1365199863,"answer_id":15844466,"question_id":15844443,"body_markdown":"You variable `c` gets changed, but not the array contents.  To change the array, don&#39;t use `c`, manipulate the array directly.\r\n\r\n    for(int i = 0; i &lt; array.length; i++)\r\n    {\r\n     char c = array[i];\r\n     if (c== &#39;o&#39;)\r\n         array[i] = &#39;a&#39;;\r\n    }","title":"Why doesn&#39;t assigning to the iteration variable in a foreach loop change the underlying data?","body":"<p>You variable <code>c</code> gets changed, but not the array contents.  To change the array, don't use <code>c</code>, manipulate the array directly.</p>\n\n<pre><code>for(int i = 0; i &lt; array.length; i++)\n{\n char c = array[i];\n if (c== 'o')\n     array[i] = 'a';\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":83,"is_accepted":true,"score":82,"last_activity_date":1365199869,"creation_date":1365199869,"answer_id":15844468,"question_id":15844443,"body_markdown":"You&#39;re changing the iteration variable `c`. That doesn&#39;t change the contents of the array. The iteration variable is just a *copy* of the array element. If you want to modify the array, you need to do so explicitly:\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        if (array[i] == &#39;o&#39;) {\r\n            array[i] = &#39;a&#39;;\r\n        }\r\n    }\r\n\r\nYour original code is equivalent (as per [section 14.14.2 of the JLS][1]) to:\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        char c = array[i];\r\n        if (c == &#39;o&#39;) {\r\n            c = &#39;a&#39;; \r\n        }\r\n    }\r\n\r\nChanging the value of a local variable will never change anything else - it *just* changes the local variable. The assignment:\r\n\r\n    char c = array[i];\r\n\r\n*copies* the value in the array into a local variable. It doesn&#39;t associate the local variable with the array element perpetually.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2","title":"Why doesn&#39;t assigning to the iteration variable in a foreach loop change the underlying data?","body":"<p>You're changing the iteration variable <code>c</code>. That doesn't change the contents of the array. The iteration variable is just a <em>copy</em> of the array element. If you want to modify the array, you need to do so explicitly:</p>\n\n<pre><code>for (int i = 0; i &lt; array.length; i++) {\n    if (array[i] == 'o') {\n        array[i] = 'a';\n    }\n}\n</code></pre>\n\n<p>Your original code is equivalent (as per <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\">section 14.14.2 of the JLS</a>) to:</p>\n\n<pre><code>for (int i = 0; i &lt; array.length; i++) {\n    char c = array[i];\n    if (c == 'o') {\n        c = 'a'; \n    }\n}\n</code></pre>\n\n<p>Changing the value of a local variable will never change anything else - it <em>just</em> changes the local variable. The assignment:</p>\n\n<pre><code>char c = array[i];\n</code></pre>\n\n<p><em>copies</em> the value in the array into a local variable. It doesn't associate the local variable with the array element perpetually.</p>\n"},{"tags":[],"owner":{"account_id":2248460,"reputation":12996,"user_id":1981279,"display_name":"Vishal K"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1365200357,"creation_date":1365199874,"answer_id":15844471,"question_id":15844443,"body_markdown":"This is because `c = &#39;a&#39;` is assigning `a` to the local variable `c` which is not referencing the actual value present at that index of the `array` itself. It is just containing a copy of the value present at the specified index of `array`. So the change is actually made in the local variable not in the actual location where `array[i]` is referencing..\r\nIf you want to change value you should use the following indeed:\r\n\r\n    int i = 0;\r\n    for(char c : array)\r\n    {\r\n     if (c== &#39;o&#39;)\r\n         array[i] = &#39;a&#39;; \r\n      i++;\r\n    }","title":"Why doesn&#39;t assigning to the iteration variable in a foreach loop change the underlying data?","body":"<p>This is because <code>c = 'a'</code> is assigning <code>a</code> to the local variable <code>c</code> which is not referencing the actual value present at that index of the <code>array</code> itself. It is just containing a copy of the value present at the specified index of <code>array</code>. So the change is actually made in the local variable not in the actual location where <code>array[i]</code> is referencing..\nIf you want to change value you should use the following indeed:</p>\n\n<pre><code>int i = 0;\nfor(char c : array)\n{\n if (c== 'o')\n     array[i] = 'a'; \n  i++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063886,"reputation":992,"user_id":1839841,"accept_rate":89,"display_name":"dan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1365199939,"creation_date":1365199939,"answer_id":15844490,"question_id":15844443,"body_markdown":"c&#39;s value is a copy of the value in array. Access array directly to change the value in question.","title":"Why doesn&#39;t assigning to the iteration variable in a foreach loop change the underlying data?","body":"<p>c's value is a copy of the value in array. Access array directly to change the value in question.</p>\n"},{"tags":[],"owner":{"account_id":2079221,"reputation":2459,"user_id":1949808,"accept_rate":38,"display_name":"Michał Tabor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365199942,"creation_date":1365199942,"answer_id":15844491,"question_id":15844443,"body_markdown":"Changes applied in &#39;for each&#39; loop are made just inside her body (that&#39;s because values are copied, not referentions). To work on referentions use &#39;for&#39; loop.","title":"Why doesn&#39;t assigning to the iteration variable in a foreach loop change the underlying data?","body":"<p>Changes applied in 'for each' loop are made just inside her body (that's because values are copied, not referentions). To work on referentions use 'for' loop.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1365199968,"creation_date":1365199968,"answer_id":15844499,"question_id":15844443,"body_markdown":"You&#39;re assigning &#39;a&#39; to the local variable c, but not to the array element. To make it print bass, you&#39;d need\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        if (array[i] == &#39;o&#39;) {\r\n            array[i] = &#39;a&#39;;\r\n        }\r\n    }","title":"Why doesn&#39;t assigning to the iteration variable in a foreach loop change the underlying data?","body":"<p>You're assigning 'a' to the local variable c, but not to the array element. To make it print bass, you'd need</p>\n\n<pre><code>for (int i = 0; i &lt; array.length; i++) {\n    if (array[i] == 'o') {\n        array[i] = 'a';\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2211353,"reputation":1312,"user_id":1953105,"accept_rate":91,"display_name":"Kacy Raye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58680,"favorite_count":0,"down_vote_count":5,"up_vote_count":69,"accepted_answer_id":15844468,"answer_count":6,"score":64,"last_activity_date":1694137612,"creation_date":1365199773,"question_id":15844443,"body_markdown":"How come the following prints boss and not bass? \r\n\r\n    String boss = &quot;boss&quot;;\r\n    char[] array = boss.toCharArray();\r\n \r\n    for(char c : array)\r\n    {\r\n     if (c== &#39;o&#39;)\r\n         c = &#39;a&#39;; \r\n    }\r\n    System.out.println(new String(array)); //How come this does NOT print out bass?It prints boss.","title":"Why doesn&#39;t assigning to the iteration variable in a foreach loop change the underlying data?","body":"<p>How come the following prints boss and not bass? </p>\n\n<pre><code>String boss = \"boss\";\nchar[] array = boss.toCharArray();\n\nfor(char c : array)\n{\n if (c== 'o')\n     c = 'a'; \n}\nSystem.out.println(new String(array)); //How come this does NOT print out bass?It prints boss.\n</code></pre>\n"},{"tags":["javascript","java","android","node.js","nodejs-server"],"owner":{"account_id":15473783,"reputation":21,"user_id":11322287,"display_name":"joao paulo "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694135246,"creation_date":1694135246,"question_id":77063597,"body_markdown":"I&#39;m trying to run my emulator through vscode every time I give npx command react-native run-android I get this error info Starting JS server...\r\nThe system cannot find the path specified.\r\ninfo Launching emulator...\r\nerror Failed to launch emulator. Reason: No emulators found as an output of `emulator -list-avds`.\r\nwarn Please launch an emulator manually or connect a device. Otherwise app may fail to launch.\r\n\r\ninfo &#128161; Tip: Make sure that you have set up your development environment correctly, by running react-native doctor. To read more about doctor command visit: https://github.com/react-native-community/cli/blob/main/packages/cli-doctor/README.md#doctor\r\n\r\n\r\nerror Failed to install the app.\r\n\r\nI updated node configured, path, json and nothing resolved, i am used windows 11 android studio giraffe my vitualization is atived.","title":"Problem run android studio emulator in vscode","body":"<p>I'm trying to run my emulator through vscode every time I give npx command react-native run-android I get this error info Starting JS server...\nThe system cannot find the path specified.\ninfo Launching emulator...\nerror Failed to launch emulator. Reason: No emulators found as an output of <code>emulator -list-avds</code>.\nwarn Please launch an emulator manually or connect a device. Otherwise app may fail to launch.</p>\n<p>info 💡 Tip: Make sure that you have set up your development environment correctly, by running react-native doctor. To read more about doctor command visit: <a href=\"https://github.com/react-native-community/cli/blob/main/packages/cli-doctor/README.md#doctor\" rel=\"nofollow noreferrer\">https://github.com/react-native-community/cli/blob/main/packages/cli-doctor/README.md#doctor</a></p>\n<p>error Failed to install the app.</p>\n<p>I updated node configured, path, json and nothing resolved, i am used windows 11 android studio giraffe my vitualization is atived.</p>\n"},{"tags":["java","spring","spring-boot","validation","request"],"answers":[{"tags":[],"owner":{"account_id":29391132,"reputation":1,"user_id":22519470,"display_name":"ayoub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694133881,"creation_date":1694133881,"answer_id":77063540,"question_id":77062625,"body_markdown":"Using regex alone is not sufficient to block Html elements, so for this reason there are libraries as OWASP java html sanitizer you can use to remove potentially dangerous content.\r\n\r\n 1. add dependency :\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.googlecode.owasp-java-html-sanitizer/owasp-java-html-sanitizer --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.owasp-java-html-sanitizer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;owasp-java-html-sanitizer&lt;/artifactId&gt;\r\n            &lt;version&gt;20220608.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n 2. Create the anotation to use for validation\r\n\r\n        @Documented \r\n        @Constraint(validatedBy = HtmlSanitizerValidator.class) \r\n        @Target({ElementType.FIELD, ElementType.PARAMETER}) \r\n        @Retention(RetentionPolicy.RUNTIME) \r\n        public @interface SanitizeHtml { \r\n            String message() default &quot;not allowed!!&quot;; \r\n            Class&lt;?&gt;[] groups() default {}; \r\n            Class&lt;? extends Payload&gt;[] payload() default {}; \r\n        }\r\n\r\n 3. Create a validator for the annotation\r\n\r\n        public class HtmlSanitizerValidator implements ConstraintValidator&lt;SanitizeHtml, String&gt; { \r\n            @Override \r\n            public boolean isValid(String untrustedHTML, ConstraintValidatorContext context) {\r\n                if (untrustedHTML == null) { return true; }\r\n\r\n                PolicyFactory policy = Sanitizers.FORMATTING.and(Sanitizers.LINKS);\r\n                String safeHTML = policy.sanitize(untrustedHTML);\r\n\r\n                return untrustedHTML.equals(safeHTML); //if true, this means there is no HTML content, but false means there have been an attack!! \r\n            } \r\n        }\r\n\r\n 4. use the anotation for your fields :\r\n\r\n        public class yourDto { \r\n            @SanitizeHtml \r\n            private String name; \r\n    \r\n            @SanitizeHtml \r\n            private String value; \r\n        }\r\n\r\nI hope this can help you!\r\n\r\nNB :\r\nJust make sure that if you want to allow Html tags in your safeHTML, but ensure that it is displayed as plain text without executing any harmful code, you can use this (attention to the dependency) :\r\n\r\n    String safeHTML = Encode.forHtml(untrustedHTML)\r\n\r\ninstead of :\r\n\r\n    PolicyFactory policy = Sanitizers.FORMATTING.and(Sanitizers.LINKS);\r\n    String safeHTML = policy.sanitize(untrustedHTML); \r\n\r\nThis is the Github repo for more : https://github.com/OWASP/java-html-sanitizer","title":"Springboot ReqeustBody input Validation for HTML elements","body":"<p>Using regex alone is not sufficient to block Html elements, so for this reason there are libraries as OWASP java html sanitizer you can use to remove potentially dangerous content.</p>\n<ol>\n<li><p>add dependency :</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.googlecode.owasp-java-html-sanitizer/owasp-java-html-sanitizer --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.owasp-java-html-sanitizer&lt;/groupId&gt;\n    &lt;artifactId&gt;owasp-java-html-sanitizer&lt;/artifactId&gt;\n    &lt;version&gt;20220608.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Create the anotation to use for validation</p>\n<pre><code>@Documented \n@Constraint(validatedBy = HtmlSanitizerValidator.class) \n@Target({ElementType.FIELD, ElementType.PARAMETER}) \n@Retention(RetentionPolicy.RUNTIME) \npublic @interface SanitizeHtml { \n    String message() default &quot;not allowed!!&quot;; \n    Class&lt;?&gt;[] groups() default {}; \n    Class&lt;? extends Payload&gt;[] payload() default {}; \n}\n</code></pre>\n</li>\n<li><p>Create a validator for the annotation</p>\n<pre><code>public class HtmlSanitizerValidator implements ConstraintValidator&lt;SanitizeHtml, String&gt; { \n    @Override \n    public boolean isValid(String untrustedHTML, ConstraintValidatorContext context) {\n        if (untrustedHTML == null) { return true; }\n\n        PolicyFactory policy = Sanitizers.FORMATTING.and(Sanitizers.LINKS);\n        String safeHTML = policy.sanitize(untrustedHTML);\n\n        return untrustedHTML.equals(safeHTML); //if true, this means there is no HTML content, but false means there have been an attack!! \n    } \n}\n</code></pre>\n</li>\n<li><p>use the anotation for your fields :</p>\n<pre><code>public class yourDto { \n    @SanitizeHtml \n    private String name; \n\n    @SanitizeHtml \n    private String value; \n}\n</code></pre>\n</li>\n</ol>\n<p>I hope this can help you!</p>\n<p>NB :\nJust make sure that if you want to allow Html tags in your safeHTML, but ensure that it is displayed as plain text without executing any harmful code, you can use this (attention to the dependency) :</p>\n<pre><code>String safeHTML = Encode.forHtml(untrustedHTML)\n</code></pre>\n<p>instead of :</p>\n<pre><code>PolicyFactory policy = Sanitizers.FORMATTING.and(Sanitizers.LINKS);\nString safeHTML = policy.sanitize(untrustedHTML); \n</code></pre>\n<p>This is the Github repo for more : <a href=\"https://github.com/OWASP/java-html-sanitizer\" rel=\"nofollow noreferrer\">https://github.com/OWASP/java-html-sanitizer</a></p>\n"}],"owner":{"account_id":6844535,"reputation":798,"user_id":5263755,"accept_rate":50,"display_name":"remya thekkuvettil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694133881,"creation_date":1694117906,"question_id":77062625,"body_markdown":"I am looking for a way to validate Request body fields for HTML content in my Springboot application as below\r\n```\r\n{\r\n    &quot;name&quot;: &quot;&lt;img src=x onerror=alert(1)&gt;&quot;,\r\n    &quot;value&quot;: &quot;&lt;img src=x onerror=alert(1)&gt;&quot;\r\n}\r\n\r\n```\r\nI am aware that I can make use of @Pattern(regexp = &quot;[a-zA-Z]*&quot;, message = &quot;Name can only have letters&quot;) from javax.validation. (There are different use cases where I may need to add different complex regex to satisfy many request body fields).\r\nIs there any other way to block HTML elements in Springboot?","title":"Springboot ReqeustBody input Validation for HTML elements","body":"<p>I am looking for a way to validate Request body fields for HTML content in my Springboot application as below</p>\n<pre><code>{\n    &quot;name&quot;: &quot;&lt;img src=x onerror=alert(1)&gt;&quot;,\n    &quot;value&quot;: &quot;&lt;img src=x onerror=alert(1)&gt;&quot;\n}\n\n</code></pre>\n<p>I am aware that I can make use of @Pattern(regexp = &quot;[a-zA-Z]*&quot;, message = &quot;Name can only have letters&quot;) from javax.validation. (There are different use cases where I may need to add different complex regex to satisfy many request body fields).\nIs there any other way to block HTML elements in Springboot?</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":16390325,"reputation":127,"user_id":11839229,"display_name":"Isuri Subasinghe"},"score":0,"creation_date":1565672374,"post_id":57407264,"comment_id":101415059,"body_markdown":"Try what is mentioned in this answer:\n[https://stackoverflow.com/a/32921592/11839229](https://stackoverflow.com/a/32921592/11839229)","body":"Try what is mentioned in this answer: <a href=\"https://stackoverflow.com/a/32921592/11839229\">https://stackoverflow.com/a/32921592/11839229</a>"}],"answers":[{"tags":[],"owner":{"account_id":5339785,"reputation":720,"user_id":4694434,"display_name":"Manoj Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565250392,"creation_date":1565250392,"answer_id":57407651,"question_id":57407264,"body_markdown":"    try using a closebale httpclient \r\n       CloseableHttpClient httpClient = HttpClients.custom()\r\n                .setSSLHostnameVerifier(new NoopHostnameVerifier())\r\n                .build();\r\n        HttpComponentsClientHttpRequestFactory requestFactory\r\n                = new HttpComponentsClientHttpRequestFactory();\r\n        requestFactory.setHttpClient(httpClient);\r\n\r\n        ResponseEntity&lt;String&gt; response\r\n                = new RestTemplate(requestFactory).exchange(\r\n                url, HttpMethod.GET, httpEntity, String.class);","title":"Getting Exception with message &quot;http protocol is not supported&quot; when using RestTemplate","body":"<pre><code>try using a closebale httpclient \n   CloseableHttpClient httpClient = HttpClients.custom()\n            .setSSLHostnameVerifier(new NoopHostnameVerifier())\n            .build();\n    HttpComponentsClientHttpRequestFactory requestFactory\n            = new HttpComponentsClientHttpRequestFactory();\n    requestFactory.setHttpClient(httpClient);\n\n    ResponseEntity&lt;String&gt; response\n            = new RestTemplate(requestFactory).exchange(\n            url, HttpMethod.GET, httpEntity, String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":328715,"reputation":4400,"user_id":651827,"accept_rate":38,"display_name":"codebrane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565262327,"creation_date":1565262327,"answer_id":57411143,"question_id":57407264,"body_markdown":"This is how I use `RestTemplate`:\r\n\r\n    String payload = &quot;something&quot;;\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n    headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.postForObject(url, new HttpEntity&lt;&gt;(payload, headers), String.class);","title":"Getting Exception with message &quot;http protocol is not supported&quot; when using RestTemplate","body":"<p>This is how I use <code>RestTemplate</code>:</p>\n\n<pre><code>String payload = \"something\";\nHttpHeaders headers = new HttpHeaders();\nheaders.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\nRestTemplate restTemplate = new RestTemplate();\nrestTemplate.postForObject(url, new HttpEntity&lt;&gt;(payload, headers), String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3312546,"reputation":642,"user_id":7620262,"display_name":"Adel Helal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694133328,"creation_date":1694060772,"answer_id":77056616,"question_id":57407264,"body_markdown":"Try using `HttpClientBuilder`.\r\n\r\nThat way you can set `enableHttp` by calling `setEnableHttp(true)` like so:\r\n```\r\nHttpClientBuilder httpClientBuilder = HttpClientBuilder.create();\r\nhttpClientBuilder.setConnectionTimeout(30);\r\nhttpClientBuilder.setSocketTimeout(30);\r\nhttpClientBuilder.setMaxConnTotal(20);\r\nhttpClientBuilder.setMaxConnPerRoute(2);\r\nhttpClientBuilder.setEnableHttp(true); // &lt;- this will fix it\r\n\r\nRestTemplate restTemplate = new RestTemplate(\r\n    httpClientBuilder.newHttpComponentsClientHttpRequestFactory()\r\n);\r\n\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setContentType(MediaType.APPLICATION_XML);\r\n\r\nString response = restTemplate.getForEntity(\r\n    &quot;http://ip:port/h2h.php?channelid=acrs&amp;posid=1&quot;,\r\n    String.class,\r\n    new HttpEntity&lt;&gt;(headers))\r\n.getBody();\r\n```","title":"Getting Exception with message &quot;http protocol is not supported&quot; when using RestTemplate","body":"<p>Try using <code>HttpClientBuilder</code>.</p>\n<p>That way you can set <code>enableHttp</code> by calling <code>setEnableHttp(true)</code> like so:</p>\n<pre><code>HttpClientBuilder httpClientBuilder = HttpClientBuilder.create();\nhttpClientBuilder.setConnectionTimeout(30);\nhttpClientBuilder.setSocketTimeout(30);\nhttpClientBuilder.setMaxConnTotal(20);\nhttpClientBuilder.setMaxConnPerRoute(2);\nhttpClientBuilder.setEnableHttp(true); // &lt;- this will fix it\n\nRestTemplate restTemplate = new RestTemplate(\n    httpClientBuilder.newHttpComponentsClientHttpRequestFactory()\n);\n\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_XML);\n\nString response = restTemplate.getForEntity(\n    &quot;http://ip:port/h2h.php?channelid=acrs&amp;posid=1&quot;,\n    String.class,\n    new HttpEntity&lt;&gt;(headers))\n.getBody();\n</code></pre>\n"}],"owner":{"account_id":10617434,"reputation":51,"user_id":7819448,"display_name":"Pratyush Choudhary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7807,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1694133328,"creation_date":1565249048,"question_id":57407264,"body_markdown":"I&#39;m trying to hit a URL using GET request using RestTemplate. It is giving an exception stating http protocol is not supported.\r\n\r\nI&#39;m able to get the expected response using plain old HttpURLConnection method to hit the endpoint. But I&#39;m unable to do so using the rest template.\r\nI&#39;m not using any kind of VPN or proxy while trying this out.\r\n\r\nFollowing is the code I&#39;m using. I&#39;ll be replacing the actual ip and port used with ip:port.\r\n```\r\nfinal String url = &quot;http://ip:port/h2h.php?channelid=acrs&amp;posid=1&quot;;\r\nfinal HttpHeaders httpHeaders = new HttpHeaders();\r\nhttpHeaders.setContentType(MediaType.APPLICATION_XML);\r\nhttpHeaders.set(HttpHeaders.ACCEPT, MediaType.APPLICATION_XML_VALUE);\r\nfinal HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(&quot;&quot;, httpHeaders)\r\nrestTemplate.exchange(url, HttpMethod.GET, httpEntity, String.class);\r\n```\r\n\r\nException Trace\r\n\r\n```\r\norg.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://ip:port/h2h.php&quot;: http protocol is not supported; nested exception is org.apache.http.conn.UnsupportedSchemeException: http protocol is not supported\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:673) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:620) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:538) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.web.client.RestTemplate$$FastClassBySpringCGLIB$$aa4e9ed0.invoke(&lt;generated&gt;) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.cloud.netflix.metrics.RestTemplateUrlTemplateCapturingAspect.captureUrlTemplate(RestTemplateUrlTemplateCapturingAspect.java:33) ~[spring-cloud-netflix-core-1.4.3.RELEASE.jar:1.4.3.RELEASE]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_191]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_191]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_191]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_191]\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:629) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:618) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.web.client.RestTemplate$$EnhancerBySpringCGLIB$$8fab6610.exchange(&lt;generated&gt;) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat com.gdn.x.pulsa.service.impl.TransactionServiceImpl.getTransactionResult(MobileTransactionServiceImpl.java:118) ~[classes/:na]\r\n```\r\n\r\nAny help will be appreciated.\r\n\r\nThank you.\r\n\r\nEDIT: Code with HttpUrlConnection\r\n```\r\ntry {\r\n      URL obj = new URL(url);\r\n      HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n      con.setRequestMethod(&quot;GET&quot;);\r\n      con.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n      int responseCode = con.getResponseCode();\r\n      System.out.println(&quot;\\nSending &#39;GET&#39; request to URL : &quot; + url);\r\n      System.out.println(&quot;Response Code : &quot; + responseCode);\r\n      BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n      String inputLine;\r\n      StringBuffer response = new StringBuffer();\r\n      while ((inputLine = in.readLine()) != null) {\r\n        response.append(inputLine);\r\n      }\r\n      in.close();\r\n      System.out.println(response.toString());\r\n    } catch (Exception e) {\r\n\r\n    }\r\n```","title":"Getting Exception with message &quot;http protocol is not supported&quot; when using RestTemplate","body":"<p>I'm trying to hit a URL using GET request using RestTemplate. It is giving an exception stating http protocol is not supported.</p>\n\n<p>I'm able to get the expected response using plain old HttpURLConnection method to hit the endpoint. But I'm unable to do so using the rest template.\nI'm not using any kind of VPN or proxy while trying this out.</p>\n\n<p>Following is the code I'm using. I'll be replacing the actual ip and port used with ip:port.</p>\n\n<pre><code>final String url = \"http://ip:port/h2h.php?channelid=acrs&amp;posid=1\";\nfinal HttpHeaders httpHeaders = new HttpHeaders();\nhttpHeaders.setContentType(MediaType.APPLICATION_XML);\nhttpHeaders.set(HttpHeaders.ACCEPT, MediaType.APPLICATION_XML_VALUE);\nfinal HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(\"\", httpHeaders)\nrestTemplate.exchange(url, HttpMethod.GET, httpEntity, String.class);\n</code></pre>\n\n<p>Exception Trace</p>\n\n<pre><code>org.springframework.web.client.ResourceAccessException: I/O error on GET request for \"http://ip:port/h2h.php\": http protocol is not supported; nested exception is org.apache.http.conn.UnsupportedSchemeException: http protocol is not supported\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:673) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:620) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:538) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.web.client.RestTemplate$$FastClassBySpringCGLIB$$aa4e9ed0.invoke(&lt;generated&gt;) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.cloud.netflix.metrics.RestTemplateUrlTemplateCapturingAspect.captureUrlTemplate(RestTemplateUrlTemplateCapturingAspect.java:33) ~[spring-cloud-netflix-core-1.4.3.RELEASE.jar:1.4.3.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_191]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_191]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_191]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_191]\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:629) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:618) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.web.client.RestTemplate$$EnhancerBySpringCGLIB$$8fab6610.exchange(&lt;generated&gt;) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at com.gdn.x.pulsa.service.impl.TransactionServiceImpl.getTransactionResult(MobileTransactionServiceImpl.java:118) ~[classes/:na]\n</code></pre>\n\n<p>Any help will be appreciated.</p>\n\n<p>Thank you.</p>\n\n<p>EDIT: Code with HttpUrlConnection</p>\n\n<pre><code>try {\n      URL obj = new URL(url);\n      HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n      con.setRequestMethod(\"GET\");\n      con.setRequestProperty(\"User-Agent\", \"Mozilla/5.0\");\n      int responseCode = con.getResponseCode();\n      System.out.println(\"\\nSending 'GET' request to URL : \" + url);\n      System.out.println(\"Response Code : \" + responseCode);\n      BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n      String inputLine;\n      StringBuffer response = new StringBuffer();\n      while ((inputLine = in.readLine()) != null) {\n        response.append(inputLine);\n      }\n      in.close();\n      System.out.println(response.toString());\n    } catch (Exception e) {\n\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1694112247,"post_id":77061815,"comment_id":135852052,"body_markdown":"You seem to be using Lombok - you might need to make sure all your classes except the abstract ones have default constructors JPA can access. Otherwise, this might be a bug in hibernate as what you&#39;ve shown is correct from a JPA mapping perspective. I would guess that Hibernate has issues with lazy associations of abstract classes as it builds &#39;delegates&#39;. Maybe show the exception stack trace, and see if it works when Condition isn&#39;t abstract - it shouldn&#39;t change anything functionally as long as you don&#39;t create Condition instances in the application.","body":"You seem to be using Lombok - you might need to make sure all your classes except the abstract ones have default constructors JPA can access. Otherwise, this might be a bug in hibernate as what you&#39;ve shown is correct from a JPA mapping perspective. I would guess that Hibernate has issues with lazy associations of abstract classes as it builds &#39;delegates&#39;. Maybe show the exception stack trace, and see if it works when Condition isn&#39;t abstract - it shouldn&#39;t change anything functionally as long as you don&#39;t create Condition instances in the application."}],"answers":[{"tags":[],"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694110281,"creation_date":1694110281,"answer_id":77061958,"question_id":77061815,"body_markdown":"I believe you shouldn&#39;t be declaring Condition as an `abstract` class. Removing that will likely resolve your problem.\r\n\r\nSince the default behavior of Hibernate Inheritance is keeping all values in the **same table**, the parent class needs to be able to instantiated as well in order for the table to be made (this is probably my best guess as to why it has to be instantiated; for initial data table creation).\r\n\r\nYou may also want to look at setting your Inheritance `strategy` which is of type InheritanceType as well.\r\n\r\nCheck out [this example here][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-inheritance","title":"OneToMany targeting a list of abstract class","body":"<p>I believe you shouldn't be declaring Condition as an <code>abstract</code> class. Removing that will likely resolve your problem.</p>\n<p>Since the default behavior of Hibernate Inheritance is keeping all values in the <strong>same table</strong>, the parent class needs to be able to instantiated as well in order for the table to be made (this is probably my best guess as to why it has to be instantiated; for initial data table creation).</p>\n<p>You may also want to look at setting your Inheritance <code>strategy</code> which is of type InheritanceType as well.</p>\n<p>Check out <a href=\"https://www.baeldung.com/hibernate-inheritance\" rel=\"nofollow noreferrer\">this example here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10510817,"reputation":624,"user_id":7746591,"display_name":"Andres Bores"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694133315,"creation_date":1694133315,"answer_id":77063515,"question_id":77061815,"body_markdown":"Your are annotating your `Condition` class with `Entity`, that&#39;s why Hibernate tries to persist it. If you don&#39;t want to persist objects of `Condition` you must annotate it with `MappedSuperclass` and remove the `Entity` annotation.","title":"OneToMany targeting a list of abstract class","body":"<p>Your are annotating your <code>Condition</code> class with <code>Entity</code>, that's why Hibernate tries to persist it. If you don't want to persist objects of <code>Condition</code> you must annotate it with <code>MappedSuperclass</code> and remove the <code>Entity</code> annotation.</p>\n"}],"owner":{"account_id":4609695,"reputation":30864,"user_id":3738171,"display_name":"Guerric P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694133315,"creation_date":1694108780,"question_id":77061815,"body_markdown":"I have this mapping:\r\n\r\nOwner class\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class Criteria {\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate UUID id;\r\n    \t\r\n    \t@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;criteria&quot;)\r\n    \tprivate List&lt;Condition&gt; conditions;\r\n    }\r\n\r\nChild (abstract) class\r\n    \r\n    @Entity\r\n    @Inheritance\r\n    @DiscriminatorColumn(name = &quot;type&quot;)\r\n    public abstract class Condition {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate UUID id;\r\n    \t\r\n    \t@ManyToOne\r\n    \tprivate Criteria criteria;\r\n    }\r\n\r\nInheriting classes\r\n    \r\n    @Getter\r\n    @Setter\r\n    @DiscriminatorValue(&quot;A&quot;)\r\n    public class ConditionA extends Condition {\r\n        // ...\r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    @DiscriminatorValue(&quot;B&quot;)\r\n    public class ConditionB extends Condition {\r\n        // ...\r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    @DiscriminatorValue(&quot;C&quot;)\r\n    public class ConditionC extends Condition {\r\n        // ...\r\n    }\r\n\r\nWhen I build a `List&lt;Condition&gt;`, set it to a `Criteria` and try to persist it, I get this error:\r\n\r\n&gt; org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : my.company.model.jpa.Condition\r\n\r\nI have tried to type it as `List&lt;? extends Condition&gt;` but Hibernate simply won&#39;t start with this configuration, throwing another error.\r\n\r\nHow do I make this work?\r\n","title":"OneToMany targeting a list of abstract class","body":"<p>I have this mapping:</p>\n<p>Owner class</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Criteria {\n    @Id\n    @GeneratedValue\n    private UUID id;\n    \n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;criteria&quot;)\n    private List&lt;Condition&gt; conditions;\n}\n</code></pre>\n<p>Child (abstract) class</p>\n<pre><code>@Entity\n@Inheritance\n@DiscriminatorColumn(name = &quot;type&quot;)\npublic abstract class Condition {\n\n    @Id\n    @GeneratedValue\n    private UUID id;\n    \n    @ManyToOne\n    private Criteria criteria;\n}\n</code></pre>\n<p>Inheriting classes</p>\n<pre><code>@Getter\n@Setter\n@DiscriminatorValue(&quot;A&quot;)\npublic class ConditionA extends Condition {\n    // ...\n}\n\n@Getter\n@Setter\n@DiscriminatorValue(&quot;B&quot;)\npublic class ConditionB extends Condition {\n    // ...\n}\n\n@Getter\n@Setter\n@DiscriminatorValue(&quot;C&quot;)\npublic class ConditionC extends Condition {\n    // ...\n}\n</code></pre>\n<p>When I build a <code>List&lt;Condition&gt;</code>, set it to a <code>Criteria</code> and try to persist it, I get this error:</p>\n<blockquote>\n<p>org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : my.company.model.jpa.Condition</p>\n</blockquote>\n<p>I have tried to type it as <code>List&lt;? extends Condition&gt;</code> but Hibernate simply won't start with this configuration, throwing another error.</p>\n<p>How do I make this work?</p>\n"},{"tags":["java","gradle","kotlin","version"],"comments":[{"owner":{"account_id":13217527,"reputation":1301,"user_id":9545537,"display_name":"pixix4"},"score":0,"creation_date":1525184015,"post_id":50117966,"comment_id":87253359,"body_markdown":"Do you use `gradle run` or execute the resulting jar?","body":"Do you use <code>gradle run</code> or execute the resulting jar?"},{"owner":{"account_id":2765300,"reputation":3426,"user_id":2381172,"display_name":"xuesheng"},"score":0,"creation_date":1525265694,"post_id":50117966,"comment_id":87288266,"body_markdown":"Why don&#39;t you simply write the version straight to the source code via gradle using `filter(ReplaceTokens...)`?","body":"Why don&#39;t you simply write the version straight to the source code via gradle using <code>filter(ReplaceTokens...)</code>?"},{"owner":{"account_id":44593,"reputation":4230,"user_id":130993,"accept_rate":90,"display_name":"Jean-Fran&#231;ois C&#244;t&#233;"},"score":0,"creation_date":1525354775,"post_id":50117966,"comment_id":87330716,"body_markdown":"@xuesheng Never heard of this method. Feel free to add a possible answer below.","body":"@xuesheng Never heard of this method. Feel free to add a possible answer below."}],"answers":[{"tags":[],"owner":{"account_id":88481,"reputation":8120,"user_id":244702,"accept_rate":75,"display_name":"Kevin Robatel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525184606,"creation_date":1525184606,"answer_id":50118234,"question_id":50117966,"body_markdown":"Gradle is present only at the compilation, not at Runtime.\r\n\r\nFor doing this, you have to generate a class at the compilation time.  \r\nWith `Android` project, the file `BuildConfig.java` is generated but I don&#39;t know if it&#39;s Gradle or Android.\r\n\r\nFor generating Kotlin code, you can check [KotlinPoet][1].\r\n\r\n\r\n  [1]: https://github.com/square/kotlinpoet","title":"Get Version in Kotlin/Java code in Gradle project","body":"<p>Gradle is present only at the compilation, not at Runtime.</p>\n\n<p>For doing this, you have to generate a class at the compilation time.<br>\nWith <code>Android</code> project, the file <code>BuildConfig.java</code> is generated but I don't know if it's Gradle or Android.</p>\n\n<p>For generating Kotlin code, you can check <a href=\"https://github.com/square/kotlinpoet\" rel=\"nofollow noreferrer\">KotlinPoet</a>.</p>\n"},{"tags":[],"owner":{"account_id":1791340,"reputation":2885,"user_id":1631664,"display_name":"JK Ly"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1525198917,"creation_date":1525188474,"answer_id":50119235,"question_id":50117966,"body_markdown":"One approach to this is to output a version file as part of your Gradle build to a location in your classpath that is accessible as a resource within your application.\r\n\r\nFor example:\r\n\r\nYou can add this to your build.gradle file which will generate a properties file containing the project version number and add it to your applications source set so that it is available in the classpath.\r\n\r\n    def generatedVersionDir = &quot;${buildDir}/generated-version&quot;\r\n    \r\n    sourceSets {\r\n        main {\r\n            output.dir(generatedVersionDir, builtBy: &#39;generateVersionProperties&#39;)\r\n        }\r\n    }\r\n    \r\n    task generateVersionProperties {\r\n        doLast {\r\n            def propertiesFile = file &quot;$generatedVersionDir/version.properties&quot;\r\n            propertiesFile.parentFile.mkdirs()\r\n            def properties = new Properties()\r\n            properties.setProperty(&quot;version&quot;, rootProject.version.toString())\r\n            propertiesFile.withWriter { properties.store(it, null) }\r\n        }\r\n    }\r\n    processResources.dependsOn generateVersionProperties\r\n\r\nThen in your code you will be able to access it by reading in the properties file:\r\n\r\n    class StatusService : IStatusService {\r\n        private val versionProperties = Properties()\r\n        \r\n        init {\r\n            versionProperties.load(this.javaClass.getResourceAsStream(&quot;/version.properties&quot;))\r\n        }\r\n        \r\n        override fun getVersion() : String = versionProperties.getProperty(&quot;version&quot;) ?: &quot;no version&quot;\r\n    }\r\n\r\nOf course you might find it simpler and more appropriate to just output a String to the version file, and then read in the entire file as a String in your code instead of using a properties file.","title":"Get Version in Kotlin/Java code in Gradle project","body":"<p>One approach to this is to output a version file as part of your Gradle build to a location in your classpath that is accessible as a resource within your application.</p>\n\n<p>For example:</p>\n\n<p>You can add this to your build.gradle file which will generate a properties file containing the project version number and add it to your applications source set so that it is available in the classpath.</p>\n\n<pre><code>def generatedVersionDir = \"${buildDir}/generated-version\"\n\nsourceSets {\n    main {\n        output.dir(generatedVersionDir, builtBy: 'generateVersionProperties')\n    }\n}\n\ntask generateVersionProperties {\n    doLast {\n        def propertiesFile = file \"$generatedVersionDir/version.properties\"\n        propertiesFile.parentFile.mkdirs()\n        def properties = new Properties()\n        properties.setProperty(\"version\", rootProject.version.toString())\n        propertiesFile.withWriter { properties.store(it, null) }\n    }\n}\nprocessResources.dependsOn generateVersionProperties\n</code></pre>\n\n<p>Then in your code you will be able to access it by reading in the properties file:</p>\n\n<pre><code>class StatusService : IStatusService {\n    private val versionProperties = Properties()\n\n    init {\n        versionProperties.load(this.javaClass.getResourceAsStream(\"/version.properties\"))\n    }\n\n    override fun getVersion() : String = versionProperties.getProperty(\"version\") ?: \"no version\"\n}\n</code></pre>\n\n<p>Of course you might find it simpler and more appropriate to just output a String to the version file, and then read in the entire file as a String in your code instead of using a properties file.</p>\n"},{"tags":[],"owner":{"account_id":2765300,"reputation":3426,"user_id":2381172,"display_name":"xuesheng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525362343,"creation_date":1525362343,"answer_id":50159100,"question_id":50117966,"body_markdown":"Consider simple *Kotlin* Spring Boot example:\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    class DemoApplication {\r\n        @Value(&quot;\\${version}&quot;)\r\n        private lateinit var version: String\r\n\r\n       @GetMapping(&quot;/version&quot;)\r\n       fun version() = version\r\n    }\r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n        runApplication&lt;DemoApplication&gt;(*args)\r\n    }\r\nSince the property could be taken from *application.properties* we need to generate that file with required version. To do so we could create a template properties file with following content:\r\n\r\n    version=###appVersion\r\nNow lets tell Gradle to copy that template to the `resource` folder and put the version instead of placeholder\r\n\r\n    import org.apache.tools.ant.filters.ReplaceTokens\r\n    \r\n    task preprocessProperties(type: Copy) {\r\n\t    from &#39;src/main/resources/templates&#39;\r\n\t    into &#39;src/main/resources&#39;\r\n        include &#39;template.properties&#39;\r\n        rename &#39;template.properties&#39;, &#39;application.properties&#39;\r\n        filter(ReplaceTokens, beginToken: &#39;###&#39;, endToken: &#39;&#39;, tokens: [appVersion: &#39;1.0.0&#39;])\r\n    }\r\n    \r\n    compileKotlin.dependsOn preprocessProperties\r\nAnd, voil&#224;, every time you compile *Kotlin* sources you will get a property file with the version you need.\r\n\r\n","title":"Get Version in Kotlin/Java code in Gradle project","body":"<p>Consider simple <em>Kotlin</em> Spring Boot example:</p>\n\n<pre><code>@SpringBootApplication\n@RestController\nclass DemoApplication {\n    @Value(\"\\${version}\")\n    private lateinit var version: String\n\n   @GetMapping(\"/version\")\n   fun version() = version\n}\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;DemoApplication&gt;(*args)\n}\n</code></pre>\n\n<p>Since the property could be taken from <em>application.properties</em> we need to generate that file with required version. To do so we could create a template properties file with following content:</p>\n\n<pre><code>version=###appVersion\n</code></pre>\n\n<p>Now lets tell Gradle to copy that template to the <code>resource</code> folder and put the version instead of placeholder</p>\n\n<pre><code>import org.apache.tools.ant.filters.ReplaceTokens\n\ntask preprocessProperties(type: Copy) {\n    from 'src/main/resources/templates'\n    into 'src/main/resources'\n    include 'template.properties'\n    rename 'template.properties', 'application.properties'\n    filter(ReplaceTokens, beginToken: '###', endToken: '', tokens: [appVersion: '1.0.0'])\n}\n\ncompileKotlin.dependsOn preprocessProperties\n</code></pre>\n\n<p>And, voilà, every time you compile <em>Kotlin</em> sources you will get a property file with the version you need.</p>\n"},{"tags":[],"owner":{"account_id":1050484,"reputation":1988,"user_id":1054563,"accept_rate":70,"display_name":"superdave"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637703070,"creation_date":1637703070,"answer_id":70088083,"question_id":50117966,"body_markdown":"It took some time to figure out how translate the accepted answer to `build.gradle.kts`, but this works:\r\n\r\n```\r\nimport java.io.FileOutputStream\r\nimport java.util.Properties\r\n\r\nversion = &quot;your-version&quot;\r\n\r\nval generatedVersionDir = &quot;$buildDir/generated-version&quot;\r\n\r\nsourceSets {\r\n  main {\r\n    kotlin {\r\n      output.dir(generatedVersionDir)\r\n    }\r\n  }\r\n}\r\n\r\ntasks.register(&quot;generateVersionProperties&quot;) {\r\n  doLast {\r\n    val propertiesFile = file(&quot;$generatedVersionDir/version.properties&quot;)\r\n    propertiesFile.parentFile.mkdirs()\r\n    val properties = Properties()\r\n    properties.setProperty(&quot;version&quot;, &quot;$version&quot;)\r\n    val out = FileOutputStream(propertiesFile)\r\n    properties.store(out, null)\r\n  }\r\n}\r\n\r\ntasks.named(&quot;processResources&quot;) {\r\n  dependsOn(&quot;generateVersionProperties&quot;)\r\n}","title":"Get Version in Kotlin/Java code in Gradle project","body":"<p>It took some time to figure out how translate the accepted answer to <code>build.gradle.kts</code>, but this works:</p>\n<pre><code>import java.io.FileOutputStream\nimport java.util.Properties\n\nversion = &quot;your-version&quot;\n\nval generatedVersionDir = &quot;$buildDir/generated-version&quot;\n\nsourceSets {\n  main {\n    kotlin {\n      output.dir(generatedVersionDir)\n    }\n  }\n}\n\ntasks.register(&quot;generateVersionProperties&quot;) {\n  doLast {\n    val propertiesFile = file(&quot;$generatedVersionDir/version.properties&quot;)\n    propertiesFile.parentFile.mkdirs()\n    val properties = Properties()\n    properties.setProperty(&quot;version&quot;, &quot;$version&quot;)\n    val out = FileOutputStream(propertiesFile)\n    properties.store(out, null)\n  }\n}\n\ntasks.named(&quot;processResources&quot;) {\n  dependsOn(&quot;generateVersionProperties&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61613,"reputation":791,"user_id":183530,"display_name":"sergeych"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694131465,"creation_date":1694131465,"answer_id":77063446,"question_id":50117966,"body_markdown":"In modern build.gradle.kts it is rather simpler. In the build file all you need is to add a task:\r\n~~~kotlin\r\ntasks.withType&lt;ProcessResources&gt;() {\r\n    doLast {\r\n        val propertiesFile = file(&quot;$buildDir/resources/main/version.properties&quot;)\r\n        propertiesFile.parentFile.mkdirs()\r\n        val properties = Properties()\r\n        properties.setProperty(&quot;version&quot;, rootProject.version.toString())\r\n        propertiesFile.writer().use { properties.store(it, null) }\r\n    }\r\n}\r\n~~~\r\nNow you have it packed and can use it the way you want, I prefer a helper like:\r\n~~~kotlin\r\nobject Config : LogTag(&quot;CONF&quot;) {\r\n\r\n    private val versionProps by lazy {\r\n        Properties().also {\r\n            it.load(this.javaClass.getResourceAsStream(&quot;/version.properties&quot;))\r\n        }\r\n    }\r\n\r\n    val version by lazy {\r\n        versionProps.getProperty(&quot;version&quot;) ?: &quot;no version&quot;\r\n    }\r\n}\r\n~~~","title":"Get Version in Kotlin/Java code in Gradle project","body":"<p>In modern build.gradle.kts it is rather simpler. In the build file all you need is to add a task:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.withType&lt;ProcessResources&gt;() {\n    doLast {\n        val propertiesFile = file(&quot;$buildDir/resources/main/version.properties&quot;)\n        propertiesFile.parentFile.mkdirs()\n        val properties = Properties()\n        properties.setProperty(&quot;version&quot;, rootProject.version.toString())\n        propertiesFile.writer().use { properties.store(it, null) }\n    }\n}\n</code></pre>\n<p>Now you have it packed and can use it the way you want, I prefer a helper like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object Config : LogTag(&quot;CONF&quot;) {\n\n    private val versionProps by lazy {\n        Properties().also {\n            it.load(this.javaClass.getResourceAsStream(&quot;/version.properties&quot;))\n        }\n    }\n\n    val version by lazy {\n        versionProps.getProperty(&quot;version&quot;) ?: &quot;no version&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":44593,"reputation":4230,"user_id":130993,"accept_rate":90,"display_name":"Jean-Fran&#231;ois C&#244;t&#233;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11068,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":50119235,"answer_count":5,"score":11,"last_activity_date":1694131465,"creation_date":1525183551,"question_id":50117966,"body_markdown":"I have a webservice coded in kotlin and managed by gradle for the build/dependencies etc...\r\n\r\nI want to do a simple thing: When someone call the `version` REST endpoint of my webservice, it returns the version.\r\n\r\nSince gradle already handle the version with the `version` properties in `build.gradle`, I thought it would be easy to get this value but it seems it is not... I&#39;ve been searching google for hours and everything seems so complicated.\r\n\r\nAny idea how to handle the version the good way?\r\n\r\nHere is what I have right now:\r\n\r\n**build.gradle**\r\n\r\n    version = &quot;1.0.0&quot;\r\n    ...\r\n\r\n**StatusService.kt**\r\n\r\n    class StatusService : IStatusService {\r\n    \r\n        //TODO: Here I would like to get the version from the gradle \r\n        //file instead of maintaining 2 places for the version\r\n        //Something like Gradle.getProperties(&quot;version&quot;) for example\r\n        override fun getVersion() : String = &quot;1.0.0&quot;\r\n    \r\n    }\r\n\r\nI may be completely wrong about this so if you have another equivalent solution, I will accept it too! Thanks","title":"Get Version in Kotlin/Java code in Gradle project","body":"<p>I have a webservice coded in kotlin and managed by gradle for the build/dependencies etc...</p>\n\n<p>I want to do a simple thing: When someone call the <code>version</code> REST endpoint of my webservice, it returns the version.</p>\n\n<p>Since gradle already handle the version with the <code>version</code> properties in <code>build.gradle</code>, I thought it would be easy to get this value but it seems it is not... I've been searching google for hours and everything seems so complicated.</p>\n\n<p>Any idea how to handle the version the good way?</p>\n\n<p>Here is what I have right now:</p>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>version = \"1.0.0\"\n...\n</code></pre>\n\n<p><strong>StatusService.kt</strong></p>\n\n<pre><code>class StatusService : IStatusService {\n\n    //TODO: Here I would like to get the version from the gradle \n    //file instead of maintaining 2 places for the version\n    //Something like Gradle.getProperties(\"version\") for example\n    override fun getVersion() : String = \"1.0.0\"\n\n}\n</code></pre>\n\n<p>I may be completely wrong about this so if you have another equivalent solution, I will accept it too! Thanks</p>\n"},{"tags":["java","web-services","rest","soap"],"comments":[{"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"score":2,"creation_date":1398862679,"post_id":5890438,"comment_id":35830793,"body_markdown":"***Contract First VS Code First..***","body":"<b><i>Contract First VS Code First..</i></b>"}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1497879253,"creation_date":1304547168,"answer_id":5890477,"question_id":5890438,"body_markdown":"Top-down means you start with a WSDL and then create all the necessary scaffolding in Java all the way down.\r\n\r\nBottom-up means you start with a Java method, and generate the WSDL from it.\r\n\r\nSOAP means that the URL is the same for all invocations, and only the parameters to the Java method differs.  REST means that the URL plus the HTTP method invoked on it reflects the operation to be done.","title":"What is the difference between a top-down web service and a bottom-up web service?","body":"<p>Top-down means you start with a WSDL and then create all the necessary scaffolding in Java all the way down.</p>\n\n<p>Bottom-up means you start with a Java method, and generate the WSDL from it.</p>\n\n<p>SOAP means that the URL is the same for all invocations, and only the parameters to the Java method differs.  REST means that the URL plus the HTTP method invoked on it reflects the operation to be done.</p>\n"},{"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1390364186,"creation_date":1304547286,"answer_id":5890497,"question_id":5890438,"body_markdown":"@mad_programmer - You mean building Web Services with a Bottom Up or Top Down Approach.\r\nIn the first, you start programming the classes and business logic as java code and then generate the web service contract (i.e. WSDL) from it. The latter approach means the opposite (generating class stubs from the WSDL). ","title":"What is the difference between a top-down web service and a bottom-up web service?","body":"<p>@mad_programmer - You mean building Web Services with a Bottom Up or Top Down Approach.\nIn the first, you start programming the classes and business logic as java code and then generate the web service contract (i.e. WSDL) from it. The latter approach means the opposite (generating class stubs from the WSDL). </p>\n"},{"tags":[],"owner":{"account_id":2511374,"reputation":401,"user_id":2183788,"accept_rate":62,"display_name":"raja777m"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1376100228,"creation_date":1376100228,"answer_id":18157999,"question_id":5890438,"body_markdown":"Supporting the answer of andersen, i would like to add a point.\r\nBasically people tend to use Bottom-up approach, because in most of the cases, we would have already started the process of writing the beans, business logic etc, then in the persistence layer, we create the web-services, wsdl&#39;s etc.\r\nwhere as in a new project, where you are building something from scratch, we can use top-down approach, where we just write the wsdl and building the skeleton would give you the beans, implementations, interfaces etc. Still, remember computer cannot generate the logic you want. So, still you need to go through the whole project and fill in the gaps.","title":"What is the difference between a top-down web service and a bottom-up web service?","body":"<p>Supporting the answer of andersen, i would like to add a point.\nBasically people tend to use Bottom-up approach, because in most of the cases, we would have already started the process of writing the beans, business logic etc, then in the persistence layer, we create the web-services, wsdl's etc.\nwhere as in a new project, where you are building something from scratch, we can use top-down approach, where we just write the wsdl and building the skeleton would give you the beans, implementations, interfaces etc. Still, remember computer cannot generate the logic you want. So, still you need to go through the whole project and fill in the gaps.</p>\n"},{"tags":[],"owner":{"account_id":3172419,"reputation":583,"user_id":2681023,"display_name":"Varun"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1385456558,"creation_date":1385456558,"answer_id":20212437,"question_id":5890438,"body_markdown":"Adding to the answer when a project is started from scratch usual approach is to create a very basic interface and then create a WSDl from it. This will save you from writing complex WSDl. Then we can add project specific operations in WSDl directly and once WSDl is finalized we can go ahead with top-down approach.","title":"What is the difference between a top-down web service and a bottom-up web service?","body":"<p>Adding to the answer when a project is started from scratch usual approach is to create a very basic interface and then create a WSDl from it. This will save you from writing complex WSDl. Then we can add project specific operations in WSDl directly and once WSDl is finalized we can go ahead with top-down approach.</p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1694131364,"creation_date":1404223126,"answer_id":24512150,"question_id":5890438,"body_markdown":"&gt;[**Contract-first versus Contract-last**][1]\r\n\r\n**Bottom-Up :** approach takes a high level definition of the problem and subdivides it into subproblems. i.e. **Contract-last**. \r\n\r\n - **Advantages** \r\n  \r\n   - Code first   \r\n   - Initial stage very easy to develop.  \r\n \r\n- **Disadvantages:**  \r\n     \r\n   - Maintenance is very very hard.\r\n   - Tightly coupled\r\n\r\n***\r\n**Top-Down :**  Think of the basic functionality and the parts going to need. i.e. **contract-first**.  \r\n\r\nThere are the following reasons for preferring a Top-Down development style.\r\n\r\n**1. Fragility**\r\nThe contract-last development style results in your web service contract (WSDL and your XSD) being generated from your Java contract (usually an interface). If you are using this approach, you will have no guarantee that the contract stays constant over time. Each time you change your Java code and redeploy it, there might be subsequent changes to the web service contract.\r\nAditionally, not all SOAP stacks generate the same web service contract from a Java contract. This means changing your current SOAP stack for a different one (for whatever reason), might also change your web service contract.\r\nWhen a web service contract changes, users of the contract will have to be instructed to obtain the new contract and potentially change their code to accommodate for any changes in the contract.\r\nIn order for a contract to be useful, it must remain constant for as long as possible. If a contract changes, you will have to contact all of the users of your service, and instruct them to get the new version of the contract.\r\n\r\n**2. Performance**\r\nWhen Java is automatically transformed into XML, there is no way to be sure as to what is sent across the wire. An object might reference another object, which refers to another, etc. In the end, half of the objects on the heap in your virtual machine might be converted into XML, which will result in slow response times.\r\nWhen using contract-first, you explicitly describe what XML is sent where, thus making sure that it is exactly what you want.\r\n\r\n**3. Reusability**\r\nDefining your schema in a separate file allows you to reuse that file in different scenarios.\r\n \r\n**4. Versioning**\r\nEven though a contract must remain constant for as long as possible, they do need to be changed sometimes. In Java, this typically results in a new Java interface, such as AirlineService2, and a (new) implementation of that interface. Of course, the old service must be kept around, because there might be clients who have not migrated yet.\r\nIf using contract-first, we can have a looser coupling between contract and implementation. Such a looser coupling allows us to implement both versions of the contract in one class.   \r\n\r\n\r\n**Key Differences:**\r\n\r\n- **Order of Development:** The primary difference is the order in which design and implementation occur. Top-down starts with design, while bottom-up starts with implementation.\r\n- **Contract Approach:** Top-down has a contract-first approach, where the contract is designed before implementation. Bottom-up derives the contract from the implemented code.\r\n- **Use Cases:** Top-down is useful when you want to define a clear interface first or when multiple teams need to agree on the contract upfront. Bottom-up is useful for rapid development or when you have existing code to expose as a service.\r\n\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-ws/site/reference/html/why-contract-first.html\r\n  [2]: https://i.stack.imgur.com/3go2F.png\r\n  [3]: https://i.stack.imgur.com/kto7W.png\r\n  [4]: https://i.stack.imgur.com/wzizW.jpg","title":"What is the difference between a top-down web service and a bottom-up web service?","body":"<blockquote>\n<p><a href=\"http://docs.spring.io/spring-ws/site/reference/html/why-contract-first.html\" rel=\"nofollow noreferrer\"><strong>Contract-first versus Contract-last</strong></a></p>\n</blockquote>\n<p><strong>Bottom-Up :</strong> approach takes a high level definition of the problem and subdivides it into subproblems. i.e. <strong>Contract-last</strong>.</p>\n<ul>\n<li><p><strong>Advantages</strong></p>\n<ul>\n<li>Code first</li>\n<li>Initial stage very easy to develop.</li>\n</ul>\n</li>\n<li><p><strong>Disadvantages:</strong></p>\n<ul>\n<li>Maintenance is very very hard.</li>\n<li>Tightly coupled</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>Top-Down :</strong>  Think of the basic functionality and the parts going to need. i.e. <strong>contract-first</strong>.</p>\n<p>There are the following reasons for preferring a Top-Down development style.</p>\n<p><strong>1. Fragility</strong>\nThe contract-last development style results in your web service contract (WSDL and your XSD) being generated from your Java contract (usually an interface). If you are using this approach, you will have no guarantee that the contract stays constant over time. Each time you change your Java code and redeploy it, there might be subsequent changes to the web service contract.\nAditionally, not all SOAP stacks generate the same web service contract from a Java contract. This means changing your current SOAP stack for a different one (for whatever reason), might also change your web service contract.\nWhen a web service contract changes, users of the contract will have to be instructed to obtain the new contract and potentially change their code to accommodate for any changes in the contract.\nIn order for a contract to be useful, it must remain constant for as long as possible. If a contract changes, you will have to contact all of the users of your service, and instruct them to get the new version of the contract.</p>\n<p><strong>2. Performance</strong>\nWhen Java is automatically transformed into XML, there is no way to be sure as to what is sent across the wire. An object might reference another object, which refers to another, etc. In the end, half of the objects on the heap in your virtual machine might be converted into XML, which will result in slow response times.\nWhen using contract-first, you explicitly describe what XML is sent where, thus making sure that it is exactly what you want.</p>\n<p><strong>3. Reusability</strong>\nDefining your schema in a separate file allows you to reuse that file in different scenarios.</p>\n<p><strong>4. Versioning</strong>\nEven though a contract must remain constant for as long as possible, they do need to be changed sometimes. In Java, this typically results in a new Java interface, such as AirlineService2, and a (new) implementation of that interface. Of course, the old service must be kept around, because there might be clients who have not migrated yet.\nIf using contract-first, we can have a looser coupling between contract and implementation. Such a looser coupling allows us to implement both versions of the contract in one class.</p>\n<p><strong>Key Differences:</strong></p>\n<ul>\n<li><strong>Order of Development:</strong> The primary difference is the order in which design and implementation occur. Top-down starts with design, while bottom-up starts with implementation.</li>\n<li><strong>Contract Approach:</strong> Top-down has a contract-first approach, where the contract is designed before implementation. Bottom-up derives the contract from the implemented code.</li>\n<li><strong>Use Cases:</strong> Top-down is useful when you want to define a clear interface first or when multiple teams need to agree on the contract upfront. Bottom-up is useful for rapid development or when you have existing code to expose as a service.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/wzizW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wzizW.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3698221,"reputation":179,"user_id":6784380,"display_name":"Vishnu Dahatonde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501767137,"creation_date":1501767137,"answer_id":45485768,"question_id":5890438,"body_markdown":"In top down you define what you are going to do first. i.e. your wsdl.\r\nAnd then you proceed with actual development.\r\nThough it seems difficult to create wsdl first, its recommended [ (Refer Eclipse) ][1] as in long term it simplifies your development.\r\n\r\nExactly opposite happens in bottom up. \r\nWe start with the code part and then using built in tools we create wsdl. \r\nThis might seems easy at start but it creates lot of confusion when you go big with the complexity of your code. \r\n\r\n  [1]: http://help.eclipse.org/kepler/index.jsp?topic=%2Forg.eclipse.jst.ws.doc.user%2Fconcepts%2Fcwsbtmup.html","title":"What is the difference between a top-down web service and a bottom-up web service?","body":"<p>In top down you define what you are going to do first. i.e. your wsdl.\nAnd then you proceed with actual development.\nThough it seems difficult to create wsdl first, its recommended <a href=\"http://help.eclipse.org/kepler/index.jsp?topic=%2Forg.eclipse.jst.ws.doc.user%2Fconcepts%2Fcwsbtmup.html\" rel=\"nofollow noreferrer\"> (Refer Eclipse) </a> as in long term it simplifies your development.</p>\n\n<p>Exactly opposite happens in bottom up. \nWe start with the code part and then using built in tools we create wsdl. \nThis might seems easy at start but it creates lot of confusion when you go big with the complexity of your code. </p>\n"}],"owner":{"account_id":96799,"reputation":2730,"user_id":262914,"accept_rate":72,"display_name":"Maverick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86435,"favorite_count":0,"down_vote_count":1,"up_vote_count":50,"accepted_answer_id":5890477,"answer_count":6,"score":49,"last_activity_date":1694131364,"creation_date":1304546845,"question_id":5890438,"body_markdown":"In Java, what is the difference between a top-down web service and a bottom-up web service? Also, what is the difference between a SOAP and a REST-ful web service?","title":"What is the difference between a top-down web service and a bottom-up web service?","body":"<p>In Java, what is the difference between a top-down web service and a bottom-up web service? Also, what is the difference between a SOAP and a REST-ful web service?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1384484306,"post_id":19992675,"comment_id":29766023,"body_markdown":"Post the full stacktrace, we can&#39;t tell if there&#39;s a `ClassNotFoundException`.","body":"Post the full stacktrace, we can&#39;t tell if there&#39;s a <code>ClassNotFoundException</code>."},{"owner":{"account_id":126486,"reputation":4659,"user_id":323015,"accept_rate":43,"display_name":"subhashis"},"score":0,"creation_date":1384484620,"post_id":19992675,"comment_id":29766090,"body_markdown":"I have edited it, please find the stacktrace","body":"I have edited it, please find the stacktrace"},{"owner":{"account_id":3106191,"reputation":1678,"user_id":2628911,"display_name":"Sandhu Santhakumar"},"score":0,"creation_date":1384484939,"post_id":19992675,"comment_id":29766154,"body_markdown":"Are you using hibernate.cfg.xml  or annoations for mapping model classes?","body":"Are you using hibernate.cfg.xml  or annoations for mapping model classes?"},{"owner":{"account_id":126486,"reputation":4659,"user_id":323015,"accept_rate":43,"display_name":"subhashis"},"score":0,"creation_date":1384485067,"post_id":19992675,"comment_id":29766180,"body_markdown":"annotations for mapping model classes.","body":"annotations for mapping model classes."},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1384485106,"post_id":19992675,"comment_id":29766189,"body_markdown":"There has to be something else in the stack trace. The `MappingException` wraps another `Exception` .","body":"There has to be something else in the stack trace. The <code>MappingException</code> wraps another <code>Exception</code> ."},{"owner":{"account_id":3106191,"reputation":1678,"user_id":2628911,"display_name":"Sandhu Santhakumar"},"score":0,"creation_date":1384485172,"post_id":19992675,"comment_id":29766207,"body_markdown":"Can u try using &lt;bean id=&quot;sessionFactory&quot;\n        class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;","body":"Can u try using &lt;bean id=&quot;sessionFactory&quot;         class=&quot;org.springframework.orm.hibernate3.annotation.Annotat&zwnj;&#8203;ionSessionFactoryBea&zwnj;&#8203;n&quot;&gt;"},{"owner":{"account_id":1423067,"reputation":30040,"user_id":1347281,"accept_rate":86,"display_name":"Vidya"},"score":0,"creation_date":1384485259,"post_id":19992675,"comment_id":29766226,"body_markdown":"Something is up with the Hibernate entity `com.myapp.contact.form.Contact`. Can you post your Hibernate configuration?","body":"Something is up with the Hibernate entity <code>com.myapp.contact.form.Contact</code>. Can you post your Hibernate configuration?"},{"owner":{"account_id":126486,"reputation":4659,"user_id":323015,"accept_rate":43,"display_name":"subhashis"},"score":0,"creation_date":1384485561,"post_id":19992675,"comment_id":29766290,"body_markdown":"Hi sandhu I have edited it and got another error message please see the stacktrace: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;contactController&#39;: Injection of autowired dependencies failed; nested exception is","body":"Hi sandhu I have edited it and got another error message please see the stacktrace: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;contactController&#39;: Injection of autowired dependencies failed; nested exception is"},{"owner":{"account_id":126486,"reputation":4659,"user_id":323015,"accept_rate":43,"display_name":"subhashis"},"score":0,"creation_date":1384485579,"post_id":19992675,"comment_id":29766295,"body_markdown":"org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.myapp.contact.service.ContactService com.myapp.contact.controller.ContactController.contactService; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBea??n] for bean with name &#39;sessionFactory&#39; defined in ServletContext resource [/WEB-INF/spring-servlet.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.orm.hibernate3.annotation.AnnotationSessionFact","body":"org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.myapp.contact.service.ContactService com.myapp.contact.controller.ContactController.contactServic&zwnj;&#8203;e; nested exception is org.springframework.beans.factory.CannotLoadBeanClassExcepti&zwnj;&#8203;on: Cannot find class [org.springframework.orm.hibernate3.annotation.AnnotationSes&zwnj;&#8203;sionFactoryBea??n] for bean with name &#39;sessionFactory&#39; defined in ServletContext resource [/WEB-INF/spring-servlet.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.orm.hibernate3.annotation.AnnotationSess&zwnj;&#8203;ionFact"},{"owner":{"account_id":126486,"reputation":4659,"user_id":323015,"accept_rate":43,"display_name":"subhashis"},"score":0,"creation_date":1384485626,"post_id":19992675,"comment_id":29766305,"body_markdown":"Hi vidya here is my hibernate.cfg.xml file: &lt;hibernate-configuration&gt;\n\t&lt;session-factory&gt;\n\t\t&lt;mapping class=&quot;com.myapp.contact.form.Contact&quot; /&gt;\n\t&lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;","body":"Hi vidya here is my hibernate.cfg.xml file: &lt;hibernate-configuration&gt; \t&lt;session-factory&gt; \t\t&lt;mapping class=&quot;com.myapp.contact.form.Contact&quot; /&gt; \t&lt;/session-factory&gt; &lt;/hibernate-configuration&gt;"},{"owner":{"account_id":126486,"reputation":4659,"user_id":323015,"accept_rate":43,"display_name":"subhashis"},"score":0,"creation_date":1384486801,"post_id":19992675,"comment_id":29766613,"body_markdown":"I have changed LocalSessionFactoryBean to AnnotationSessionFactoryBean  and I got the following exception java.lang.ClassNotFoundException: org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBea??n","body":"I have changed LocalSessionFactoryBean to AnnotationSessionFactoryBean  and I got the following exception java.lang.ClassNotFoundException: org.springframework.orm.hibernate3.annotation.AnnotationSess&zwnj;&#8203;ionFactoryBea??n"}],"answers":[{"tags":[],"owner":{"account_id":3106191,"reputation":1678,"user_id":2628911,"display_name":"Sandhu Santhakumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384486366,"creation_date":1384485649,"answer_id":19992910,"question_id":19992675,"body_markdown":"Seems package named `com.myapp.contact.form` according to your Hibernate config, `&lt;mapping class=&quot;com.myapp.contact.form.Contact&quot;/&gt;` but the source is in different package.\r\n\r\nIf you are using annotations then no need to use hibernate.cfg.xml\r\n\r\njust change the sessionFactory bean in spring.xml as:\r\n\r\n    &lt;bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;\r\n    \t\tp:dataSource-ref=&quot;dataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot;&gt;\r\n    \t\t\t&lt;array&gt;\r\n    \t\t\t\t&lt;value&gt;&lt;-- YOUR PAKAGE NAME HERE --&gt;&lt;/value&gt;\r\n    \t\t\t&lt;/array&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in ServletContext resource","body":"<p>Seems package named <code>com.myapp.contact.form</code> according to your Hibernate config, <code>&lt;mapping class=\"com.myapp.contact.form.Contact\"/&gt;</code> but the source is in different package.</p>\n\n<p>If you are using annotations then no need to use hibernate.cfg.xml</p>\n\n<p>just change the sessionFactory bean in spring.xml as:</p>\n\n<pre><code>&lt;bean id=\"sessionFactory\"\n        class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"\n        p:dataSource-ref=\"dataSource\"&gt;\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n        &lt;property name=\"packagesToScan\"&gt;\n            &lt;array&gt;\n                &lt;value&gt;&lt;-- YOUR PAKAGE NAME HERE --&gt;&lt;/value&gt;\n            &lt;/array&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":126486,"reputation":4659,"user_id":323015,"accept_rate":43,"display_name":"subhashis"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694131260,"creation_date":1384484096,"question_id":19992675,"body_markdown":"I am getting the exception:\r\n\r\n`Error creating bean with name &#39;sessionFactory&#39; defined in ServletContext resource`  \r\n\r\nIs it happening because of jar mismatch? If you need any further details please let me know. \r\n\r\n**log**\r\n\r\n    ERROR: org.springframework.web.servlet.DispatcherServlet - Context initialization failed\r\n\r\n**Stack-Trace :**\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in ServletContext resource [/WEB-INF/spring-servlet.xml]: Invocation of init method failed; nested exception is org.hibernate.MappingException: Unable to load class declared as &lt;mapping class=&quot;com.myapp.contact.form.Contact&quot;/&gt; in the configuration:\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1420)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:563)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:442)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:458)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:339)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:306)\r\n    \tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:127)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n    \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1266)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1185)\r\n    \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1080)\r\n    \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5027)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5314)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n    Caused by: org.hibernate.MappingException: Unable to load class declared as &lt;mapping class=&quot;com.myapp.contact.form.Contact&quot;/&gt; in the configuration:\r\n    \tat org.hibernate.cfg.AnnotationConfiguration.parseMappingElement(AnnotationConfiguration.java:638)\r\n    \tat org.hibernate.cfg.Configuration.parseSessionFactory(Configuration.java:1561)\r\n    \tat org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1540)\r\n    \tat org.hibernate.cfg.AnnotationConfiguration.doConfigure(AnnotationConfiguration.java:1002)\r\n    \tat org.hibernate.cfg.AnnotationConfiguration.doConfigure(AnnotationConfiguration.java:69)\r\n    \tat org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1514)\r\n    \tat org.hibernate.cfg.AnnotationConfiguration.doConfigure(AnnotationConfiguration.java:990)\r\n    \tat org.hibernate.cfg.AnnotationConfiguration.doConfigure(AnnotationConfiguration.java:69)\r\n    \tat org.hibernate.cfg.Configuration.configure(Configuration.java:1449)\r\n    \tat org.hibernate.cfg.AnnotationConfiguration.configure(AnnotationConfiguration.java:978)\r\n    \tat org.hibernate.cfg.AnnotationConfiguration.configure(AnnotationConfiguration.java:69)\r\n    \tat org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:642)\r\n    \tat org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:211)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\r\n    \t... 28 more\r\n\r\n\r\n**spring-servlet.xml :**\r\n\r\n&lt;context:annotation-config /&gt;\r\n\t&lt;context:component-scan base-package=&quot;com.myapp.contact&quot; /&gt;\r\n\r\n\t&lt;bean id=&quot;jspViewResolver&quot;\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;viewClass&quot;\r\n\t\t\tvalue=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsps/&quot; /&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;messageSource&quot;\tclass=&quot;org.springframework.context.support.ReloadableResourceBundleMessageSource&quot;&gt;\r\n\t\t&lt;property name=&quot;basename&quot; value=&quot;classpath:messages&quot; /&gt;\r\n\t\t&lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;propertyConfigurer&quot;\tclass=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;\r\n\t\tp:location=&quot;classpath:/jdbc.properties&quot; /&gt;\r\n\r\n\t&lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\r\n\t\tdestroy-method=&quot;close&quot; p:driverClassName=&quot;${jdbc.driverClassName}&quot;\r\n\t\tp:url=&quot;${jdbc.databaseurl}&quot; p:username=&quot;${jdbc.username}&quot; p:password=&quot;${jdbc.password}&quot; /&gt;\r\n\r\n\r\n\t&lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;configLocation&quot;&gt;\r\n\t\t\t&lt;value&gt;classpath:/hibernate.cfg.xml&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;configurationClass&quot;&gt;\r\n\t\t\t&lt;value&gt;org.hibernate.cfg.AnnotationConfiguration&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;${jdbc.dialect}&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t\t&lt;!-- &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt; --&gt;\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;tx:annotation-driven /&gt;\r\n\t&lt;bean id=&quot;transactionManager&quot;\tclass=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\n**pom.xml:**\r\n\r\n        &lt;properties&gt;\r\n\t\t&lt;org.springframework.version&gt;3.0.5.RELEASE&lt;/org.springframework.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- Core utilities used by other modules. Define this if you use Spring \r\n\t\t\tUtility APIs (org.springframework.core.*/org.springframework.util.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Expression Language (depends on spring-core) Define this if you use \r\n\t\t\tSpring Expression APIs (org.springframework.expression.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Bean Factory and JavaBeans utilities (depends on spring-core) Define \r\n\t\t\tthis if you use Spring Bean APIs (org.springframework.beans.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Aspect Oriented Programming (AOP) Framework (depends on spring-core, \r\n\t\t\tspring-beans) Define this if you use Spring AOP APIs (org.springframework.aop.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Application Context (depends on spring-core, spring-expression, spring-aop, \r\n\t\t\tspring-beans) This is the central artifact for Spring&#39;s Dependency Injection \r\n\t\t\tContainer and is generally always defined --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Various Application Context utilities, including EhCache, JavaMail, \r\n\t\t\tQuartz, and Freemarker integration Define this if you need any of these integrations --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Transaction Management Abstraction (depends on spring-core, spring-beans, \r\n\t\t\tspring-aop, spring-context) Define this if you use Spring Transactions or \r\n\t\t\tDAO Exception Hierarchy (org.springframework.transaction.*/org.springframework.dao.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JDBC Data Access Library (depends on spring-core, spring-beans, spring-context, \r\n\t\t\tspring-tx) Define this if you use Spring&#39;s JdbcTemplate API (org.springframework.jdbc.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Object-to-Relation-Mapping (ORM) integration with Hibernate, JPA, \r\n\t\t\tand iBatis. (depends on spring-core, spring-beans, spring-context, spring-tx) \r\n\t\t\tDefine this if you need ORM (org.springframework.orm.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Object-to-XML Mapping (OXM) abstraction and integration with JAXB, \r\n\t\t\tJiBX, Castor, XStream, and XML Beans. (depends on spring-core, spring-beans, \r\n\t\t\tspring-context) Define this if you need OXM (org.springframework.oxm.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Web application development utilities applicable to both Servlet and \r\n\t\t\tPortlet Environments (depends on spring-core, spring-beans, spring-context) \r\n\t\t\tDefine this if you use Spring MVC, or wish to use Struts, JSF, or another \r\n\t\t\tweb framework with Spring (org.springframework.web.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring MVC for Servlet Environments (depends on spring-core, spring-beans, \r\n\t\t\tspring-context, spring-web) Define this if you use Spring MVC with a Servlet \r\n\t\t\tContainer such as Apache Tomcat (org.springframework.web.servlet.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring MVC for Portlet Environments (depends on spring-core, spring-beans, \r\n\t\t\tspring-context, spring-web) Define this if you use Spring MVC with a Portlet \r\n\t\t\tContainer (org.springframework.web.portlet.*) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc-portlet&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Support for testing Spring applications with tools such as JUnit and \r\n\t\t\tTestNG This artifact is generally always defined with a &#39;test&#39; scope for \r\n\t\t\tthe integration testing framework and unit testing stubs --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Spring security --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- Hibernate resources --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.7.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.1.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.2.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- EhCache --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ehcache-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;antlr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;antlr&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Taglibs --&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;taglibs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;standard&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20030825.184428&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-pool&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20030825.183949&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Log4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.14&lt;/version&gt;\r\n\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;10.2.0.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\nAfter digging a lot I found that it is happening because of ClassNotFound exception for AnnotationSessionFactoryBean but I have added the dependencies and it is in my class path so why I am getting this kind of exception. screen shots attached \r\n![enter image description here][1]\r\n![enter image description here][2]\r\nThanks.....\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/tu3i2.png\r\n  [2]: http://i.stack.imgur.com/bU9Eo.png","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in ServletContext resource","body":"<p>I am getting the exception:</p>\n\n<p><code>Error creating bean with name 'sessionFactory' defined in ServletContext resource</code>  </p>\n\n<p>Is it happening because of jar mismatch? If you need any further details please let me know. </p>\n\n<p><strong>log</strong></p>\n\n<pre><code>ERROR: org.springframework.web.servlet.DispatcherServlet - Context initialization failed\n</code></pre>\n\n<p><strong>Stack-Trace :</strong></p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in ServletContext resource [/WEB-INF/spring-servlet.xml]: Invocation of init method failed; nested exception is org.hibernate.MappingException: Unable to load class declared as &lt;mapping class=\"com.myapp.contact.form.Contact\"/&gt; in the configuration:\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1420)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:563)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:442)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:458)\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:339)\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:306)\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:127)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:160)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1266)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1185)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1080)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5027)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5314)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\nCaused by: org.hibernate.MappingException: Unable to load class declared as &lt;mapping class=\"com.myapp.contact.form.Contact\"/&gt; in the configuration:\n    at org.hibernate.cfg.AnnotationConfiguration.parseMappingElement(AnnotationConfiguration.java:638)\n    at org.hibernate.cfg.Configuration.parseSessionFactory(Configuration.java:1561)\n    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1540)\n    at org.hibernate.cfg.AnnotationConfiguration.doConfigure(AnnotationConfiguration.java:1002)\n    at org.hibernate.cfg.AnnotationConfiguration.doConfigure(AnnotationConfiguration.java:69)\n    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1514)\n    at org.hibernate.cfg.AnnotationConfiguration.doConfigure(AnnotationConfiguration.java:990)\n    at org.hibernate.cfg.AnnotationConfiguration.doConfigure(AnnotationConfiguration.java:69)\n    at org.hibernate.cfg.Configuration.configure(Configuration.java:1449)\n    at org.hibernate.cfg.AnnotationConfiguration.configure(AnnotationConfiguration.java:978)\n    at org.hibernate.cfg.AnnotationConfiguration.configure(AnnotationConfiguration.java:69)\n    at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:642)\n    at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:211)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\n    ... 28 more\n</code></pre>\n\n<p><strong>spring-servlet.xml :</strong></p>\n\n<p>\n    </p>\n\n<pre><code>&lt;bean id=\"jspViewResolver\"  class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"viewClass\"\n        value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n    &lt;property name=\"prefix\" value=\"/WEB-INF/jsps/\" /&gt;\n    &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"messageSource\"    class=\"org.springframework.context.support.ReloadableResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basename\" value=\"classpath:messages\" /&gt;\n    &lt;property name=\"defaultEncoding\" value=\"UTF-8\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"propertyConfigurer\"   class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"\n    p:location=\"classpath:/jdbc.properties\" /&gt;\n\n&lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"\n    destroy-method=\"close\" p:driverClassName=\"${jdbc.driverClassName}\"\n    p:url=\"${jdbc.databaseurl}\" p:username=\"${jdbc.username}\" p:password=\"${jdbc.password}\" /&gt;\n\n\n&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate3.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"configLocation\"&gt;\n        &lt;value&gt;classpath:/hibernate.cfg.xml&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property name=\"configurationClass\"&gt;\n        &lt;value&gt;org.hibernate.cfg.AnnotationConfiguration&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;${jdbc.dialect}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;!-- &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/prop&gt; --&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;tx:annotation-driven /&gt;\n&lt;bean id=\"transactionManager\"   class=\"org.springframework.orm.hibernate3.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p><strong>pom.xml:</strong></p>\n\n<pre><code>    &lt;properties&gt;\n    &lt;org.springframework.version&gt;3.0.5.RELEASE&lt;/org.springframework.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- Core utilities used by other modules. Define this if you use Spring \n        Utility APIs (org.springframework.core.*/org.springframework.util.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Expression Language (depends on spring-core) Define this if you use \n        Spring Expression APIs (org.springframework.expression.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Bean Factory and JavaBeans utilities (depends on spring-core) Define \n        this if you use Spring Bean APIs (org.springframework.beans.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Aspect Oriented Programming (AOP) Framework (depends on spring-core, \n        spring-beans) Define this if you use Spring AOP APIs (org.springframework.aop.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Application Context (depends on spring-core, spring-expression, spring-aop, \n        spring-beans) This is the central artifact for Spring's Dependency Injection \n        Container and is generally always defined --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Various Application Context utilities, including EhCache, JavaMail, \n        Quartz, and Freemarker integration Define this if you need any of these integrations --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Transaction Management Abstraction (depends on spring-core, spring-beans, \n        spring-aop, spring-context) Define this if you use Spring Transactions or \n        DAO Exception Hierarchy (org.springframework.transaction.*/org.springframework.dao.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JDBC Data Access Library (depends on spring-core, spring-beans, spring-context, \n        spring-tx) Define this if you use Spring's JdbcTemplate API (org.springframework.jdbc.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Object-to-Relation-Mapping (ORM) integration with Hibernate, JPA, \n        and iBatis. (depends on spring-core, spring-beans, spring-context, spring-tx) \n        Define this if you need ORM (org.springframework.orm.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Object-to-XML Mapping (OXM) abstraction and integration with JAXB, \n        JiBX, Castor, XStream, and XML Beans. (depends on spring-core, spring-beans, \n        spring-context) Define this if you need OXM (org.springframework.oxm.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Web application development utilities applicable to both Servlet and \n        Portlet Environments (depends on spring-core, spring-beans, spring-context) \n        Define this if you use Spring MVC, or wish to use Struts, JSF, or another \n        web framework with Spring (org.springframework.web.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring MVC for Servlet Environments (depends on spring-core, spring-beans, \n        spring-context, spring-web) Define this if you use Spring MVC with a Servlet \n        Container such as Apache Tomcat (org.springframework.web.servlet.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring MVC for Portlet Environments (depends on spring-core, spring-beans, \n        spring-context, spring-web) Define this if you use Spring MVC with a Portlet \n        Container (org.springframework.web.portlet.*) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc-portlet&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Support for testing Spring applications with tools such as JUnit and \n        TestNG This artifact is generally always defined with a 'test' scope for \n        the integration testing framework and unit testing stubs --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Spring security --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Hibernate resources --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;3.6.7.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;3.3.2.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- EhCache --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n        &lt;artifactId&gt;ehcache-core&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;antlr&lt;/groupId&gt;\n        &lt;artifactId&gt;antlr&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Taglibs --&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;taglibs&lt;/groupId&gt;\n        &lt;artifactId&gt;standard&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;version&gt;20030825.184428&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-pool&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\n        &lt;version&gt;20030825.183949&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Log4j --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.14&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n                &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\n        &lt;version&gt;10.2.0.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>After digging a lot I found that it is happening because of ClassNotFound exception for AnnotationSessionFactoryBean but I have added the dependencies and it is in my class path so why I am getting this kind of exception. screen shots attached \n<img src=\"https://i.stack.imgur.com/tu3i2.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/bU9Eo.png\" alt=\"enter image description here\">\nThanks.....</p>\n"},{"tags":["java","jms","activemq-artemis"],"comments":[{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1694088573,"post_id":77058154,"comment_id":135846935,"body_markdown":"I heard that JMS reads in chunks, not messages","body":"I heard that JMS reads in chunks, not messages"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694129754,"creation_date":1694094569,"answer_id":77060211,"question_id":77058154,"body_markdown":"When a core JMS consumer starts receiving messages the broker dispatches more than just one message to it. This is a performance optimization so that the client doesn&#39;t have to make repeated network round-trips to the broker to receive additional messages. This behavior can be tuned using the `consumerWindowSize` URL parameter. See [the documentation][1] for more details on that.\r\n\r\nIn your case, even though the client has only processed a single message, all the other 6 messages in the queue have been dispatched to it. Messages in this dispatched-but-not-yet-acknowledged state are referred to as &quot;in delivery&quot; and can be tracked via the &quot;Delivering Count&quot; metric on the queue. Messages which are &quot;in delivery&quot; are still technically in the queue but they are not available to other consumers or queue browsers. Therefore, they do not show up on the web console although you can still list them via the `listDeliveringMessages` or `listDeliveringMessagesAsJSON` JMX operations on the QueueControl MBean. Once a message is acknowledged it is completely and permanently removed from the queue. If the consumer is closed before it acknowledges all of its &quot;in delivery&quot; messages then those messages will be put back onto the queue and made available to other consumers and queue browsers again.\r\n\r\nIf you want to disable this behavior so that the consumer only gets **one** message per network round-trip then you can set `consumerWindowSize=0` on your client&#39;s connection URL. This will allow all the other messages in the queue to remain available to other consumers and queue browsers. However, keep in mind that this will have an adverse impact on the consumer&#39;s performance.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/latest/flow-control.html#consumer-flow-control","title":"Error reading message from ActiveMQ Artemis queue","body":"<p>When a core JMS consumer starts receiving messages the broker dispatches more than just one message to it. This is a performance optimization so that the client doesn't have to make repeated network round-trips to the broker to receive additional messages. This behavior can be tuned using the <code>consumerWindowSize</code> URL parameter. See <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/flow-control.html#consumer-flow-control\" rel=\"nofollow noreferrer\">the documentation</a> for more details on that.</p>\n<p>In your case, even though the client has only processed a single message, all the other 6 messages in the queue have been dispatched to it. Messages in this dispatched-but-not-yet-acknowledged state are referred to as &quot;in delivery&quot; and can be tracked via the &quot;Delivering Count&quot; metric on the queue. Messages which are &quot;in delivery&quot; are still technically in the queue but they are not available to other consumers or queue browsers. Therefore, they do not show up on the web console although you can still list them via the <code>listDeliveringMessages</code> or <code>listDeliveringMessagesAsJSON</code> JMX operations on the QueueControl MBean. Once a message is acknowledged it is completely and permanently removed from the queue. If the consumer is closed before it acknowledges all of its &quot;in delivery&quot; messages then those messages will be put back onto the queue and made available to other consumers and queue browsers again.</p>\n<p>If you want to disable this behavior so that the consumer only gets <strong>one</strong> message per network round-trip then you can set <code>consumerWindowSize=0</code> on your client's connection URL. This will allow all the other messages in the queue to remain available to other consumers and queue browsers. However, keep in mind that this will have an adverse impact on the consumer's performance.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77060211,"answer_count":1,"score":0,"last_activity_date":1694129754,"creation_date":1694077793,"question_id":77058154,"body_markdown":"I want to subtract the last message from an ActiveMQ Artemis queue. I have a lot of messages in the queue and when I read one message, the rest just disappear, but the message counter in the broker console shows 1 less. How can I make it show one less message when refreshing the page (this works, but when I break the consumer session)[![enter image description here](https://i.stack.imgur.com/nCZA8.png)](https://i.stack.imgur.com/nCZA8.png)\r\n\r\nThis is what happens after reading one message:\r\n[![enter image description here](https://i.stack.imgur.com/wF4J1.png)](https://i.stack.imgur.com/wF4J1.png)\r\n\r\n\r\n```\r\nprivate void getMessage() throws JMSException, NamingException {\r\n        Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + &quot;TestQueue&quot;);\r\n        if (messageConsumer == null){\r\n            messageConsumer = queueSession.createConsumer(queue);\r\n        }\r\n        TextMessage message = (TextMessage) messageConsumer.receive();\r\n        String msgBody = ((TextMessage) message).getText();\r\n        System.out.println(msgBody);\r\n    }\r\n```\r\n","title":"Error reading message from ActiveMQ Artemis queue","body":"<p>I want to subtract the last message from an ActiveMQ Artemis queue. I have a lot of messages in the queue and when I read one message, the rest just disappear, but the message counter in the broker console shows 1 less. How can I make it show one less message when refreshing the page (this works, but when I break the consumer session)<a href=\"https://i.stack.imgur.com/nCZA8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nCZA8.png\" alt=\"enter image description here\" /></a></p>\n<p>This is what happens after reading one message:\n<a href=\"https://i.stack.imgur.com/wF4J1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wF4J1.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>private void getMessage() throws JMSException, NamingException {\n        Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + &quot;TestQueue&quot;);\n        if (messageConsumer == null){\n            messageConsumer = queueSession.createConsumer(queue);\n        }\n        TextMessage message = (TextMessage) messageConsumer.receive();\n        String msgBody = ((TextMessage) message).getText();\n        System.out.println(msgBody);\n    }\n</code></pre>\n"},{"tags":["java","timer","synchronous"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1694121683,"post_id":77062408,"comment_id":135853551,"body_markdown":"This is a bad use of threading.  To execute methods in a given order, use a single thread: `first(); second();` just like that where you have the `first()` method call.  Can you give more information on exactly what you are trying to do?  I think your example is a bit too simple for us to understand what the real issue might be.","body":"This is a bad use of threading.  To execute methods in a given order, use a single thread: <code>first(); second();</code> just like that where you have the <code>first()</code> method call.  Can you give more information on exactly what you are trying to do?  I think your example is a bit too simple for us to understand what the real issue might be."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1694121799,"post_id":77062408,"comment_id":135853579,"body_markdown":"And if you want `first()` called first, then I don&#39;t understand that `print()` cancels the thread.  What is the real use of this method?","body":"And if you want <code>first()</code> called first, then I don&#39;t understand that <code>print()</code> cancels the thread.  What is the real use of this method?"},{"owner":{"account_id":29389877,"reputation":1,"user_id":22518517,"display_name":"Tarik"},"score":0,"creation_date":1694122939,"post_id":77062408,"comment_id":135853741,"body_markdown":"All method names are taken arbitrarily, as a simpler example. The point is to ensure that Timer.cancel() is executed synchronously so that run() is not called after.","body":"All method names are taken arbitrarily, as a simpler example. The point is to ensure that Timer.cancel() is executed synchronously so that run() is not called after."},{"owner":{"account_id":29389877,"reputation":1,"user_id":22518517,"display_name":"Tarik"},"score":0,"creation_date":1694124151,"post_id":77062408,"comment_id":135853890,"body_markdown":"Simply put, I need a guarantee that after calling cancel () there will be no more  run () calls. (I&#39;m sorry if this is a bad example. My first post)","body":"Simply put, I need a guarantee that after calling cancel () there will be no more  run () calls. (I&#39;m sorry if this is a bad example. My first post)"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1694124922,"post_id":77062408,"comment_id":135853986,"body_markdown":"Don&#39;t apologize. Instead, [edit] and clarify your question, adding all pertinent information in the question and not just in comments down here.","body":"Don&#39;t apologize. Instead, <a href=\"https://stackoverflow.com/posts/77062408/edit\">edit</a> and clarify your question, adding all pertinent information in the question and not just in comments down here."},{"owner":{"account_id":29389877,"reputation":1,"user_id":22518517,"display_name":"Tarik"},"score":0,"creation_date":1694125237,"post_id":77062408,"comment_id":135854015,"body_markdown":"Actually there is nothing to clarify. I laid it out as simply as I could.","body":"Actually there is nothing to clarify. I laid it out as simply as I could."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1694126522,"post_id":77062408,"comment_id":135854159,"body_markdown":"Why would the synchronized block accomplish anything? Who else is synchronizing on `this` that it&#39;s waiting for?","body":"Why would the synchronized block accomplish anything? Who else is synchronizing on <code>this</code> that it&#39;s waiting for?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1694126693,"post_id":77062408,"comment_id":135854171,"body_markdown":"Even if you put the whole `run()` is a synchronized block, there&#39;s no guarantee your empty block gets hit second.","body":"Even if you put the whole <code>run()</code> is a synchronized block, there&#39;s no guarantee your empty block gets hit second."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694128209,"creation_date":1694127839,"answer_id":77063296,"question_id":77062408,"body_markdown":"The `Timer` and `TimerTask` classes were supplanted by the Executors framework added to Java 5. This fact is noted in the Javadoc for those classes.\r\n\r\nAn [`ExecutorService`][1] object will process one or more tasks in one or more background threads. \r\n\r\nYou seem to have two goals in mind. \r\n\r\n - Run a series of tasks in order.\r\n - Halt the processing of further tasks upon some flag.\r\n\r\nBoth can be accomplished with an executor service. \r\n\r\nFor the first, use a single-threaded executor service. With only a single thread at its disposable, the executor service schedules each task to run one after another, in the order in which they were submitted.\r\n\r\nFor the second, I would signal a flag via an `AtomicBoolean` object, with your tasks written to look for them. With a single instance of `AtomicBoolean`, initialized before you set up your executor service, then reading and writing to the contained boolean value is [thread-safe][2].\r\n\r\nLet&#39;s take an example task that loops a few times, pretending each time to do some work which we simulate by sleeping the thread.\r\n\r\n```java\r\npackage work.basil.example.vthreads;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\nimport java.util.concurrent.atomic.AtomicBoolean;\r\n\r\npublic class SeriesOfTasks\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        SeriesOfTasks app = new SeriesOfTasks ( );\r\n        app.demo ( );\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        System.out.println ( &quot;INFO - Demo starting. &quot; + Instant.now ( ) );\r\n        final AtomicBoolean keepGoingFlag = new AtomicBoolean ( true );\r\n        try (\r\n                ExecutorService executorService = Executors.newSingleThreadScheduledExecutor ( ) ;\r\n        )\r\n        {\r\n            executorService.submit ( new TellTime ( &quot;A&quot; , keepGoingFlag ) );\r\n            executorService.submit ( new TellTime ( &quot;B&quot; , keepGoingFlag ) );\r\n            executorService.submit ( new TellTime ( &quot;C&quot; , keepGoingFlag ) );\r\n            try { Thread.sleep ( Duration.ofSeconds ( 20 ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\r\n            keepGoingFlag.set ( false );\r\n            executorService.submit ( new TellTime ( &quot;D&quot; , keepGoingFlag ) );\r\n        }\r\n        System.out.println ( &quot;INFO - Demo ending. &quot; + Instant.now ( ) );\r\n    }\r\n}\r\n\r\nclass TellTime implements Runnable\r\n{\r\n    private final String id;\r\n    private final AtomicBoolean continueFlag;\r\n\r\n    public TellTime ( final String id , final AtomicBoolean continueFlag )\r\n    {\r\n        this.id = id;\r\n        this.continueFlag = continueFlag;\r\n    }\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        for ( int ordinal = 1 ; ordinal &lt;= 3 ; ordinal++ )\r\n        {\r\n            if ( this.continueFlag.get ( ) )\r\n            {\r\n                int seconds = ThreadLocalRandom.current ( ).nextInt ( 1 , 3 );\r\n                try { Thread.sleep ( Duration.ofSeconds ( seconds ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\r\n                System.out.println ( &quot;Task &quot; + this.id + &quot; ordinal &quot; + ordinal + &quot; in thread id &quot; + Thread.currentThread ( ).threadId ( ) + &quot; says the time is &quot; + Instant.now ( ) );\r\n            } else\r\n            {\r\n                System.out.println ( &quot;Task &quot; + this.id + &quot; ordinal &quot; + ordinal + &quot; in thread id &quot; + Thread.currentThread ( ).threadId ( ) + &quot; found the flag set to FALSE at &quot; + Instant.now ( ) );\r\n                break;   // Else exit this loop.\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nINFO - Demo starting. 2023-09-07T23:01:10.086790Z\r\nTask A ordinal 1 in thread id 21 says the time is 2023-09-07T23:01:11.167055Z\r\nTask A ordinal 2 in thread id 21 says the time is 2023-09-07T23:01:13.229073Z\r\nTask A ordinal 3 in thread id 21 says the time is 2023-09-07T23:01:15.303675Z\r\nTask B ordinal 1 in thread id 21 says the time is 2023-09-07T23:01:16.579288Z\r\nTask B ordinal 2 in thread id 21 says the time is 2023-09-07T23:01:17.640376Z\r\nTask B ordinal 3 in thread id 21 says the time is 2023-09-07T23:01:19.712922Z\r\nTask C ordinal 1 in thread id 21 says the time is 2023-09-07T23:01:21.741175Z\r\nTask C ordinal 2 in thread id 21 says the time is 2023-09-07T23:01:23.813196Z\r\nTask C ordinal 3 in thread id 21 says the time is 2023-09-07T23:01:24.818768Z\r\nTask D ordinal 1 in thread id 21 found the flag set to FALSE at 2023-09-07T23:01:30.169407Z\r\nINFO - Demo ending. 2023-09-07T23:01:30.176363Z\r\n```\r\n\r\nIn that code we use try-with-resources syntax to automatically shutdown the executor service after all submitted tasks are done. If you want to stop the executor service from accepting more tasks, call `shutdown`. If you want to halt submitted tasks, call `shutdownNow` and write your task classes to be aware of possible interruption. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [2]: https://en.wikipedia.org/wiki/Thread_safety","title":"Timer cancel() synchronization","body":"<p>The <code>Timer</code> and <code>TimerTask</code> classes were supplanted by the Executors framework added to Java 5. This fact is noted in the Javadoc for those classes.</p>\n<p>An <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a> object will process one or more tasks in one or more background threads.</p>\n<p>You seem to have two goals in mind.</p>\n<ul>\n<li>Run a series of tasks in order.</li>\n<li>Halt the processing of further tasks upon some flag.</li>\n</ul>\n<p>Both can be accomplished with an executor service.</p>\n<p>For the first, use a single-threaded executor service. With only a single thread at its disposable, the executor service schedules each task to run one after another, in the order in which they were submitted.</p>\n<p>For the second, I would signal a flag via an <code>AtomicBoolean</code> object, with your tasks written to look for them. With a single instance of <code>AtomicBoolean</code>, initialized before you set up your executor service, then reading and writing to the contained boolean value is <a href=\"https://en.wikipedia.org/wiki/Thread_safety\" rel=\"nofollow noreferrer\">thread-safe</a>.</p>\n<p>Let's take an example task that loops a few times, pretending each time to do some work which we simulate by sleeping the thread.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.vthreads;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ThreadLocalRandom;\nimport java.util.concurrent.atomic.AtomicBoolean;\n\npublic class SeriesOfTasks\n{\n    public static void main ( String[] args )\n    {\n        SeriesOfTasks app = new SeriesOfTasks ( );\n        app.demo ( );\n    }\n\n    private void demo ( )\n    {\n        System.out.println ( &quot;INFO - Demo starting. &quot; + Instant.now ( ) );\n        final AtomicBoolean keepGoingFlag = new AtomicBoolean ( true );\n        try (\n                ExecutorService executorService = Executors.newSingleThreadScheduledExecutor ( ) ;\n        )\n        {\n            executorService.submit ( new TellTime ( &quot;A&quot; , keepGoingFlag ) );\n            executorService.submit ( new TellTime ( &quot;B&quot; , keepGoingFlag ) );\n            executorService.submit ( new TellTime ( &quot;C&quot; , keepGoingFlag ) );\n            try { Thread.sleep ( Duration.ofSeconds ( 20 ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\n            keepGoingFlag.set ( false );\n            executorService.submit ( new TellTime ( &quot;D&quot; , keepGoingFlag ) );\n        }\n        System.out.println ( &quot;INFO - Demo ending. &quot; + Instant.now ( ) );\n    }\n}\n\nclass TellTime implements Runnable\n{\n    private final String id;\n    private final AtomicBoolean continueFlag;\n\n    public TellTime ( final String id , final AtomicBoolean continueFlag )\n    {\n        this.id = id;\n        this.continueFlag = continueFlag;\n    }\n\n    @Override\n    public void run ( )\n    {\n        for ( int ordinal = 1 ; ordinal &lt;= 3 ; ordinal++ )\n        {\n            if ( this.continueFlag.get ( ) )\n            {\n                int seconds = ThreadLocalRandom.current ( ).nextInt ( 1 , 3 );\n                try { Thread.sleep ( Duration.ofSeconds ( seconds ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\n                System.out.println ( &quot;Task &quot; + this.id + &quot; ordinal &quot; + ordinal + &quot; in thread id &quot; + Thread.currentThread ( ).threadId ( ) + &quot; says the time is &quot; + Instant.now ( ) );\n            } else\n            {\n                System.out.println ( &quot;Task &quot; + this.id + &quot; ordinal &quot; + ordinal + &quot; in thread id &quot; + Thread.currentThread ( ).threadId ( ) + &quot; found the flag set to FALSE at &quot; + Instant.now ( ) );\n                break;   // Else exit this loop.\n            }\n        }\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - Demo starting. 2023-09-07T23:01:10.086790Z\nTask A ordinal 1 in thread id 21 says the time is 2023-09-07T23:01:11.167055Z\nTask A ordinal 2 in thread id 21 says the time is 2023-09-07T23:01:13.229073Z\nTask A ordinal 3 in thread id 21 says the time is 2023-09-07T23:01:15.303675Z\nTask B ordinal 1 in thread id 21 says the time is 2023-09-07T23:01:16.579288Z\nTask B ordinal 2 in thread id 21 says the time is 2023-09-07T23:01:17.640376Z\nTask B ordinal 3 in thread id 21 says the time is 2023-09-07T23:01:19.712922Z\nTask C ordinal 1 in thread id 21 says the time is 2023-09-07T23:01:21.741175Z\nTask C ordinal 2 in thread id 21 says the time is 2023-09-07T23:01:23.813196Z\nTask C ordinal 3 in thread id 21 says the time is 2023-09-07T23:01:24.818768Z\nTask D ordinal 1 in thread id 21 found the flag set to FALSE at 2023-09-07T23:01:30.169407Z\nINFO - Demo ending. 2023-09-07T23:01:30.176363Z\n</code></pre>\n<p>In that code we use try-with-resources syntax to automatically shutdown the executor service after all submitted tasks are done. If you want to stop the executor service from accepting more tasks, call <code>shutdown</code>. If you want to halt submitted tasks, call <code>shutdownNow</code> and write your task classes to be aware of possible interruption.</p>\n"}],"owner":{"account_id":29389877,"reputation":1,"user_id":22518517,"display_name":"Tarik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1694126442,"answer_count":1,"score":-2,"last_activity_date":1694128209,"creation_date":1694115645,"question_id":77062408,"body_markdown":"I&#39;m looking for a way to synchronize the cancel() method.\r\nThe expected result is the first() method is guaranteed to be called first.\r\n\r\n```\r\n timer = new Timer();\r\n timer.schedule(new TimerTask() {\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            //Simulation of a long task.\r\n            Thread.sleep(3000);\r\n        } catch(Exception e){\r\n        }\r\n            first();\r\n    }\r\n }, delayNoMatter, veryShortInterval);\r\n}\r\n\r\nvoid first() {\r\n    System.out.println(&quot;first&quot;);\r\n}\r\n\r\nvoid second() {\r\n//This method must be called last.\r\n    System.out.println(&quot;second&quot;);\r\n}\r\n\r\nvoid print() {\r\n    timer.cancel();\r\n    second();\r\n}\r\n```\r\n```\r\nExpected result:\r\n...\r\nfirst \r\nsecond\r\n```\r\nI tried to use an empty synchronization block, but there is an opinion that it is not desirable to use empty blocks.\r\n\r\n    timer = new Timer();\r\n     timer.schedule(new TimerTask() {\r\n        @Override\r\n        public void run() {\r\n        synchronized(o){\r\n            try {\r\n                //Simulation of a long task.\r\n                Thread.sleep(3000);\r\n            } catch(Exception e){\r\n            }\r\n                first();\r\n        }}\r\n     }, delayNoMatter, veryShortInterval);\r\n    }\r\n    \r\n    void first() {\r\n        System.out.println(&quot;first&quot;);\r\n    }\r\n    \r\n    void second() {\r\n    //This method must be called last.\r\n        System.out.println(&quot;second&quot;);\r\n    }\r\n    \r\n    void print() {\r\n        timer.cancel();\r\n        //I&#39;m not sure how correct this solution is. There is an opinion that using \r\n        //empty blocks is a bad way.\r\n        synchronyzed(o)\r\n        second();\r\n    }\r\n\r\n","title":"Timer cancel() synchronization","body":"<p>I'm looking for a way to synchronize the cancel() method.\nThe expected result is the first() method is guaranteed to be called first.</p>\n<pre><code> timer = new Timer();\n timer.schedule(new TimerTask() {\n    @Override\n    public void run() {\n        try {\n            //Simulation of a long task.\n            Thread.sleep(3000);\n        } catch(Exception e){\n        }\n            first();\n    }\n }, delayNoMatter, veryShortInterval);\n}\n\nvoid first() {\n    System.out.println(&quot;first&quot;);\n}\n\nvoid second() {\n//This method must be called last.\n    System.out.println(&quot;second&quot;);\n}\n\nvoid print() {\n    timer.cancel();\n    second();\n}\n</code></pre>\n<pre><code>Expected result:\n...\nfirst \nsecond\n</code></pre>\n<p>I tried to use an empty synchronization block, but there is an opinion that it is not desirable to use empty blocks.</p>\n<pre><code>timer = new Timer();\n timer.schedule(new TimerTask() {\n    @Override\n    public void run() {\n    synchronized(o){\n        try {\n            //Simulation of a long task.\n            Thread.sleep(3000);\n        } catch(Exception e){\n        }\n            first();\n    }}\n }, delayNoMatter, veryShortInterval);\n}\n\nvoid first() {\n    System.out.println(&quot;first&quot;);\n}\n\nvoid second() {\n//This method must be called last.\n    System.out.println(&quot;second&quot;);\n}\n\nvoid print() {\n    timer.cancel();\n    //I'm not sure how correct this solution is. There is an opinion that using \n    //empty blocks is a bad way.\n    synchronyzed(o)\n    second();\n}\n</code></pre>\n"},{"tags":["java","eclipse","java-17"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1693941065,"post_id":77047147,"comment_id":135825222,"body_markdown":"Why should it not compile? Please share all the details.","body":"Why should it not compile? Please share all the details."},{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1693941604,"post_id":77047147,"comment_id":135825318,"body_markdown":"i&#39;m reading a book that says, it must be a subType only, when i test that on an IDE it does compile, i&#39;m asking to make sure that&#39;s a book error","body":"i&#39;m reading a book that says, it must be a subType only, when i test that on an IDE it does compile, i&#39;m asking to make sure that&#39;s a book error"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1693941885,"post_id":77047147,"comment_id":135825377,"body_markdown":"&quot;i&#39;m using eclipse&quot; from what I remember Eclipse uses its own compiler. What you see is probably another difference between it and &quot;official compiler&quot;.","body":"&quot;i&#39;m using eclipse&quot; from what I remember Eclipse uses its own compiler. What you see is probably another difference between it and &quot;official compiler&quot;."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1693942006,"post_id":77047147,"comment_id":135825396,"body_markdown":"Anyway based on https://stackoverflow.com/a/74978688 it looks like compilation error was expected, which suggests bug in Eclipse compiler.","body":"Anyway based on <a href=\"https://stackoverflow.com/a/74978688\">stackoverflow.com/a/74978688</a> it looks like compilation error was expected, which suggests bug in Eclipse compiler."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693942717,"post_id":77047147,"comment_id":135825507,"body_markdown":"Interesting. This does not compile for me either, using javac (not Eclipse).  But I cannot find anything in the Java Language Specification that says specifying the same type in an instanceof pattern should be an error.","body":"Interesting. This does not compile for me either, using javac (not Eclipse).  But I cannot find anything in the Java Language Specification that says specifying the same type in an instanceof pattern should be an error."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1693943564,"post_id":77047147,"comment_id":135825646,"body_markdown":"@VGR Hello. Regarding &quot;*But I cannot find anything in the Java Language Specification that says specifying the same type in an instanceof pattern should be an error*&quot; how about fragment &quot;If the type of the `RelationalExpression` is a subtype of the type of the `Pattern`, then a compile-time error occurs.&quot; from https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.20.2? IMO this can be applied here if we consider each reference type as subtype of itself (in other words Double can be considered as subtype of Double).","body":"@VGR Hello. Regarding &quot;<i>But I cannot find anything in the Java Language Specification that says specifying the same type in an instanceof pattern should be an error</i>&quot; how about fragment &quot;If the type of the <code>RelationalExpression</code> is a subtype of the type of the <code>Pattern</code>, then a compile-time error occurs.&quot; from <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.20.2\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se19/html/&hellip;</a>? IMO this can be applied here if we consider each reference type as subtype of itself (in other words Double can be considered as subtype of Double)."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693943919,"post_id":77047147,"comment_id":135825705,"body_markdown":"@Pshemo I did see that, but I have doubts about whether that was the intended meaning of “subtype.”","body":"@Pshemo I did see that, but I have doubts about whether that was the intended meaning of “subtype.”"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1693993073,"post_id":77047147,"comment_id":135831565,"body_markdown":"It&#39;s a bug in the eclipse compiler for java.","body":"It&#39;s a bug in the eclipse compiler for java."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1694006047,"post_id":77047147,"comment_id":135834312,"body_markdown":"@VGR it seems, it was truly meant that way but JDK&#160;21 is about to get rid of that rule.","body":"@VGR it seems, it was truly meant that way but JDK 21 is about to get rid of that rule."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1694127716,"creation_date":1693942424,"answer_id":77047289,"question_id":77047147,"body_markdown":"That syntax is part of a relatively new feature (JDK 16) in Java which they call *pattern matching* and is detailed in [JEP 394](https://openjdk.org/jeps/394).\r\n\r\nThe example is trivial if the runtime type of the variable equals its declared type. So let&#39;s pretend we instead had a\r\n\r\n    Object value;\r\n\r\nwhose runtime type happened to be `Double`.\r\n\r\n```\r\nif (value instanceof Double) {\r\n  ...\r\n}\r\n```\r\n\r\nThe inside of this `if` statement will run if `value` is a `Double` at runtime. However, the *compile-time* type of that variable is still `Object`, which led to a very common (and redundant) paradigm.\r\n\r\n```\r\nif (value instanceof Double) {\r\n  Double data = (Double)value; // This cast ALWAYS succeeds\r\n  ...\r\n}\r\n```\r\n\r\nSince, after checking the type, we probably want to use the variable as that type.\r\n\r\nSo with JEP 394, we can write\r\n\r\n```\r\nif (value instanceof Double data) {\r\n  ...\r\n}\r\n```\r\n\r\nwhich does the typecheck *and* the cast in one go. On top of that, the variable is bound *immediately*, and is available in later conjunctive clauses.\r\n\r\n```\r\nif ((value instanceof Double data) &amp;&amp; (data.doubleValue() &gt; 0.0)) {\r\n  ...\r\n}\r\n```\r\n\r\nThis works since `data` is a `Double`, not an `Object`. As opposed to the more verbose pre-pattern-matching syntax\r\n\r\n\r\n```\r\nif ((value instanceof Double) &amp;&amp; (((Double)value).doubleValue() &gt; 0.0)) {\r\n  ...\r\n}\r\n```\r\n\r\nor\r\n\r\n\r\n```\r\nif (value instanceof Double) {\r\n  Double data = (Double)value;\r\n  if (data.doubleValue() &gt; 0.0) {\r\n    ...\r\n  }\r\n}\r\n```\r\n\r\nIn your particular case, since both the declared and runtime type are `Double`, the extra variable doesn&#39;t do you any favors. It&#39;s a degenerate case where the pattern matching syntax isn&#39;t useful. But it&#39;s still allowed. Depending on compiler, you might get a warning about this.","title":"JAVA 17 : Pattern matching subtype","body":"<p>That syntax is part of a relatively new feature (JDK 16) in Java which they call <em>pattern matching</em> and is detailed in <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">JEP 394</a>.</p>\n<p>The example is trivial if the runtime type of the variable equals its declared type. So let's pretend we instead had a</p>\n<pre><code>Object value;\n</code></pre>\n<p>whose runtime type happened to be <code>Double</code>.</p>\n<pre><code>if (value instanceof Double) {\n  ...\n}\n</code></pre>\n<p>The inside of this <code>if</code> statement will run if <code>value</code> is a <code>Double</code> at runtime. However, the <em>compile-time</em> type of that variable is still <code>Object</code>, which led to a very common (and redundant) paradigm.</p>\n<pre><code>if (value instanceof Double) {\n  Double data = (Double)value; // This cast ALWAYS succeeds\n  ...\n}\n</code></pre>\n<p>Since, after checking the type, we probably want to use the variable as that type.</p>\n<p>So with JEP 394, we can write</p>\n<pre><code>if (value instanceof Double data) {\n  ...\n}\n</code></pre>\n<p>which does the typecheck <em>and</em> the cast in one go. On top of that, the variable is bound <em>immediately</em>, and is available in later conjunctive clauses.</p>\n<pre><code>if ((value instanceof Double data) &amp;&amp; (data.doubleValue() &gt; 0.0)) {\n  ...\n}\n</code></pre>\n<p>This works since <code>data</code> is a <code>Double</code>, not an <code>Object</code>. As opposed to the more verbose pre-pattern-matching syntax</p>\n<pre><code>if ((value instanceof Double) &amp;&amp; (((Double)value).doubleValue() &gt; 0.0)) {\n  ...\n}\n</code></pre>\n<p>or</p>\n<pre><code>if (value instanceof Double) {\n  Double data = (Double)value;\n  if (data.doubleValue() &gt; 0.0) {\n    ...\n  }\n}\n</code></pre>\n<p>In your particular case, since both the declared and runtime type are <code>Double</code>, the extra variable doesn't do you any favors. It's a degenerate case where the pattern matching syntax isn't useful. But it's still allowed. Depending on compiler, you might get a warning about this.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1694020845,"creation_date":1693951216,"answer_id":77047977,"question_id":77047147,"body_markdown":"[JLS-15.20.2](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.20.2) explicitly says that this is not allowed:\r\n\r\n&gt; If the type of the RelationalExpression is a subtype of the type of the Pattern, then a compile-time error occurs\r\n\r\nRegarding the meaning of &quot;subtype&quot;, [JLS-4.10](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.10) states:\r\n\r\n&gt; The _supertypes_ of a type are obtained by reflexive and transitive closure over the direct supertype relation, written `S &gt;1 T`, which is defined by rules given later in this section. We write `S :&gt; T` to indicate that the supertype relation holds between S and T.\r\n&gt; \r\n&gt; S is a _proper supertype_ of T, written `S &gt; T`, if `S :&gt; T` and `S ≠ T`.\r\n&gt;\r\n&gt; The _subtypes_ of a type T are all types U such that T is a supertype of U, and the null type. We write `T &lt;: S` to indicate that that the subtype relation holds between types T and S.\r\n&gt;\r\n&gt; T is a _proper subtype_ of S, written `T &lt; S`, if `T &lt;: S` and `S ≠ T`.\r\n\r\nFrom the wording it is clear that a type `T` must be a subtype (and supertype) of itself. If `T` cannot be a subtype (supertype) of itself it would be unnecessary to define the terms &quot;proper subtype&quot; and &quot;proper supertype&quot;\r\n\r\n-----\r\nThe reason for this decision is documented in [JEP-394](https://openjdk.org/jeps/394):\r\n\r\n&gt; Make it a compile-time error for a pattern instanceof expression to compare an expression of type S against a pattern of type T, where S is a subtype of T. (This instanceof expression will always succeed and is then pointless. The opposite case, where a pattern match will always fail, is already a compile-time error.)\r\n\r\n----\r\nNote that (as Holger has pointed out) the upcoming version Java 21 will drop the requirement that RelationalExpression must not be a subtype of the type of the Pattern. That means that with Java 21 your code will compile.","title":"JAVA 17 : Pattern matching subtype","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.20.2\" rel=\"nofollow noreferrer\">JLS-15.20.2</a> explicitly says that this is not allowed:</p>\n<blockquote>\n<p>If the type of the RelationalExpression is a subtype of the type of the Pattern, then a compile-time error occurs</p>\n</blockquote>\n<p>Regarding the meaning of &quot;subtype&quot;, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.10\" rel=\"nofollow noreferrer\">JLS-4.10</a> states:</p>\n<blockquote>\n<p>The <em>supertypes</em> of a type are obtained by reflexive and transitive closure over the direct supertype relation, written <code>S &gt;1 T</code>, which is defined by rules given later in this section. We write <code>S :&gt; T</code> to indicate that the supertype relation holds between S and T.</p>\n<p>S is a <em>proper supertype</em> of T, written <code>S &gt; T</code>, if <code>S :&gt; T</code> and <code>S ≠ T</code>.</p>\n<p>The <em>subtypes</em> of a type T are all types U such that T is a supertype of U, and the null type. We write <code>T &lt;: S</code> to indicate that that the subtype relation holds between types T and S.</p>\n<p>T is a <em>proper subtype</em> of S, written <code>T &lt; S</code>, if <code>T &lt;: S</code> and <code>S ≠ T</code>.</p>\n</blockquote>\n<p>From the wording it is clear that a type <code>T</code> must be a subtype (and supertype) of itself. If <code>T</code> cannot be a subtype (supertype) of itself it would be unnecessary to define the terms &quot;proper subtype&quot; and &quot;proper supertype&quot;</p>\n<hr />\n<p>The reason for this decision is documented in <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">JEP-394</a>:</p>\n<blockquote>\n<p>Make it a compile-time error for a pattern instanceof expression to compare an expression of type S against a pattern of type T, where S is a subtype of T. (This instanceof expression will always succeed and is then pointless. The opposite case, where a pattern match will always fail, is already a compile-time error.)</p>\n</blockquote>\n<hr />\n<p>Note that (as Holger has pointed out) the upcoming version Java 21 will drop the requirement that RelationalExpression must not be a subtype of the type of the Pattern. That means that with Java 21 your code will compile.</p>\n"}],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1694127716,"creation_date":1693940803,"question_id":77047147,"body_markdown":"I&#39;m using Java 17, the last line shouldnt compile, but when i&#39;m using eclipse it does compile, now i&#39;m confused should the value be a subtype or it can be anything?\r\n\r\n    Double value = 123.3;\r\n    if(value instanceof Double ) {}\r\n    if(value instanceof Double data) {} // DOES NOT COMPILE","title":"JAVA 17 : Pattern matching subtype","body":"<p>I'm using Java 17, the last line shouldnt compile, but when i'm using eclipse it does compile, now i'm confused should the value be a subtype or it can be anything?</p>\n<pre><code>Double value = 123.3;\nif(value instanceof Double ) {}\nif(value instanceof Double data) {} // DOES NOT COMPILE\n</code></pre>\n"},{"tags":["java","android","ios","flutter","gradle"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693580351,"post_id":77021914,"comment_id":135784220,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":29343753,"reputation":1,"user_id":22482607,"display_name":"İrfan Jan"},"score":0,"creation_date":1694006695,"post_id":77021914,"comment_id":135834461,"body_markdown":"i solved thank you","body":"i solved thank you"}],"owner":{"account_id":29343753,"reputation":1,"user_id":22482607,"display_name":"İrfan Jan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694125872,"creation_date":1693559902,"question_id":77021914,"body_markdown":"FAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;C:\\Users\\Arif\\apps\\flutter-training\\flutter_application_1\\android\\app\\build.gradle&#39; line: 4\r\n\r\n* What went wrong:\r\nAn exception occurred applying plugin request [id: &#39;dev.flutter.flutter-gradle-plugin&#39;, version: &#39;1.0.0&#39;]\r\n&gt; No implementation class specified for plugin &#39;dev.flutter.flutter-gradle-plugin&#39; in jar:file:/C:/Users/Arif/.gradle/caches/jars-9/f6488a8a75cc22a1f16673e4c5ef9abb/gradle-1.0.0.jar!/META-INF/gradle-plugins/dev.flutter.flutter-gradle-plugin.properties.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\n\r\nwhat is the error here? I&#39;m new on the Flutter and trying to setup\r\n\r\nand here a message like that\r\n\r\n[enter image description here](https://i.stack.imgur.com/cDvNy.png)","title":"Flutter : gradle issue","body":"<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>Where:\nBuild file 'C:\\Users\\Arif\\apps\\flutter-training\\flutter_application_1\\android\\app\\build.gradle' line: 4</p>\n</li>\n<li><p>What went wrong:\nAn exception occurred applying plugin request [id: 'dev.flutter.flutter-gradle-plugin', version: '1.0.0']</p>\n</li>\n</ul>\n<blockquote>\n<p>No implementation class specified for plugin 'dev.flutter.flutter-gradle-plugin' in jar:file:/C:/Users/Arif/.gradle/caches/jars-9/f6488a8a75cc22a1f16673e4c5ef9abb/gradle-1.0.0.jar!/META-INF/gradle-plugins/dev.flutter.flutter-gradle-plugin.properties.</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 5s\nException: Gradle task assembleDebug failed with exit code 1</p>\n<p>what is the error here? I'm new on the Flutter and trying to setup</p>\n<p>and here a message like that</p>\n<p><a href=\"https://i.stack.imgur.com/cDvNy.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jsp"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1694087916,"post_id":77059161,"comment_id":135846778,"body_markdown":"JSP with embedded containers are severely limited, so I would not use them but use soemthing like thymeleaf instead. JSP will only work when you are using a war deployment and trying to make this work from an executable jar will not even work (an executable war should work).","body":"JSP with embedded containers are severely limited, so I would not use them but use soemthing like thymeleaf instead. JSP will only work when you are using a war deployment and trying to make this work from an executable jar will not even work (an executable war should work)."},{"owner":{"account_id":14573074,"reputation":15,"user_id":10525801,"display_name":"Lia"},"score":0,"creation_date":1694091632,"post_id":77059161,"comment_id":135847572,"body_markdown":"But for now I am bounded to use JSP because I am doing a migration, so I need a jsp approach.","body":"But for now I am bounded to use JSP because I am doing a migration, so I need a jsp approach."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694091666,"post_id":77059161,"comment_id":135847580,"body_markdown":"As stated it is limited and will only work with WAR packaging.","body":"As stated it is limited and will only work with WAR packaging."},{"owner":{"account_id":14573074,"reputation":15,"user_id":10525801,"display_name":"Lia"},"score":0,"creation_date":1694091812,"post_id":77059161,"comment_id":135847621,"body_markdown":"My project is packaged as war","body":"My project is packaged as war"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694091875,"post_id":77059161,"comment_id":135847635,"body_markdown":"You have to run the packaged war **not** the main method from your IDE as that won&#39;t work.","body":"You have to run the packaged war <b>not</b> the main method from your IDE as that won&#39;t work."},{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694120134,"post_id":77059161,"comment_id":135853336,"body_markdown":"Here is my project which uses JSP with Spring Boot: https://github.com/scrhartley/jsp-streaming-poc/blob/master/pom.xml . I did find that for `tomcat-embed-jasper` and `jstl` it was difficult to decide whether to mark them as them provided or not. I think that if you&#39;re running the output war/jar by itself, it can&#39;t be provided (even the war that spring boot produces is also runnable as a jar by default), but if you are deploying it to a separate Tomcat, then it already has these JARs and you could potentially get conflicts if you include your own.","body":"Here is my project which uses JSP with Spring Boot: <a href=\"https://github.com/scrhartley/jsp-streaming-poc/blob/master/pom.xml\" rel=\"nofollow noreferrer\">github.com/scrhartley/jsp-streaming-poc/blob/master/pom.xml</a> . I did find that for <code>tomcat-embed-jasper</code> and <code>jstl</code> it was difficult to decide whether to mark them as them provided or not. I think that if you&#39;re running the output war/jar by itself, it can&#39;t be provided (even the war that spring boot produces is also runnable as a jar by default), but if you are deploying it to a separate Tomcat, then it already has these JARs and you could potentially get conflicts if you include your own."}],"answers":[{"tags":[],"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694122705,"creation_date":1694122705,"answer_id":77062998,"question_id":77059161,"body_markdown":"I&#39;ve noticed you said your config has\r\n```\r\nspring.mvc.view.prefix=/WEB-INF/jsp/\r\n```\r\nand:\r\n&gt; test.jsp is located under src/main/webapp/WEB_INF/jsp\r\n\r\nI&#39;ve noticed the hyphen in the config and the underscore in the folder. That will probably cause such an issue.","title":"JSP is not rendering on Spring Boot version 2.7.15","body":"<p>I've noticed you said your config has</p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/jsp/\n</code></pre>\n<p>and:</p>\n<blockquote>\n<p>test.jsp is located under src/main/webapp/WEB_INF/jsp</p>\n</blockquote>\n<p>I've noticed the hyphen in the config and the underscore in the folder. That will probably cause such an issue.</p>\n"}],"owner":{"account_id":14573074,"reputation":15,"user_id":10525801,"display_name":"Lia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694122705,"creation_date":1694085803,"question_id":77059161,"body_markdown":"I have a Spring Boot application running on Java 17 with packaging type war, but it does not render the jsp pages.\r\nHere is my pom.xml file regarding spring dependencies:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.15&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n            &lt;version&gt;9.0.44&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nMySpringApplication.java\r\n\r\n``` java\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\n@SpringBootApplication\r\npublic class MySpringApplication extends SpringBootServletInitializer{\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n        return builder.sources(MySpringApplication.class);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MySpringApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\nTomcatConfig.java\r\n\r\n```java\r\n\r\nimport org.apache.catalina.Context;\r\nimport org.apache.tomcat.util.scan.StandardJarScanner;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class TomcatConfig {\r\n\r\n    @Bean\r\n    public TomcatServletWebServerFactory tomcatFactory() {\r\n        return new TomcatServletWebServerFactory() {\r\n            @Override\r\n            protected void postProcessContext(Context context) {\r\n                ((StandardJarScanner) context.getJarScanner()).setScanManifest(false);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nDefaultController.java\r\n\r\n```java\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.ModelMap;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class DefaultController {\r\n\r\n    @GetMapping(value=&quot;/&quot;)\r\n    public String renderJSP(ModelMap model){\r\n        System.out.println(&quot;in default controller&quot;);\r\n        return &quot;test&quot;;\r\n    }\r\n}\r\n```\r\n\r\nappplication.properties\r\n\r\n```\r\nserver.port=8081\r\n\r\n#jsp\r\nspring.mvc.view.prefix=/WEB-INF/jsp/\r\nspring.mvc.view.suffix=.jsp\r\nserver.servlet.register-default-servlet=true\r\n```\r\n\r\ntest.jsp\r\n\r\n```\r\n&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;This is a sample test&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;This is a cool test&lt;/h1&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nThe file structure is the following:\r\n&gt; appplication.properties file is located under src/main/java/resources            \r\n&gt; test.jsp is located under src/main/webapp/WEB_INF.jsp\r\n\r\nWhen running the app I get this log in the console\r\n```\r\n2023-09-07 12:10:54.087  INFO 6080 --- [           main] o.s.b.w.e.t.TomcatWebServer              : Tomcat started on port(s): 8081 (http) with context path &#39;&#39;\r\n2023-09-07 12:10:54.098  INFO 6080 --- [           main] c.b.w.MySpringApplication           : Started MySpringApplication in 5.014 seconds (JVM running for 6.023)\r\nSep 07, 2023 12:11:34 PM org.apache.catalina.core.ApplicationContext log\r\nINFO: Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-09-07 12:11:34.463  INFO 6080 --- [nio-8081-exec-1] o.s.w.s.DispatcherServlet                : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-09-07 12:11:34.464  INFO 6080 --- [nio-8081-exec-1] o.s.w.s.DispatcherServlet                : Completed initialization in 1 ms\r\nin default controller\r\n\r\n```\r\nAnd I see this on localhost\r\n```\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nThu Sep 07 12:59:15 EEST 2023\r\nThere was an unexpected error (type=Not Found, status=404).\r\n```\r\nI saw that there are a lot of threads about this problem, but all the solutions provided there does not seem to fix my issues, any ideas or help on how to copre with this problem would be of great importance","title":"JSP is not rendering on Spring Boot version 2.7.15","body":"<p>I have a Spring Boot application running on Java 17 with packaging type war, but it does not render the jsp pages.\nHere is my pom.xml file regarding spring dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.7.15&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.7.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;version&gt;9.0.44&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;version&gt;2.7.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>MySpringApplication.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class MySpringApplication extends SpringBootServletInitializer{\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(MySpringApplication.class);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(MySpringApplication.class, args);\n    }\n}\n</code></pre>\n<p>TomcatConfig.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport org.apache.catalina.Context;\nimport org.apache.tomcat.util.scan.StandardJarScanner;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class TomcatConfig {\n\n    @Bean\n    public TomcatServletWebServerFactory tomcatFactory() {\n        return new TomcatServletWebServerFactory() {\n            @Override\n            protected void postProcessContext(Context context) {\n                ((StandardJarScanner) context.getJarScanner()).setScanManifest(false);\n            }\n        };\n    }\n}\n</code></pre>\n<p>DefaultController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class DefaultController {\n\n    @GetMapping(value=&quot;/&quot;)\n    public String renderJSP(ModelMap model){\n        System.out.println(&quot;in default controller&quot;);\n        return &quot;test&quot;;\n    }\n}\n</code></pre>\n<p>appplication.properties</p>\n<pre><code>server.port=8081\n\n#jsp\nspring.mvc.view.prefix=/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\nserver.servlet.register-default-servlet=true\n</code></pre>\n<p>test.jsp</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;This is a sample test&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;This is a cool test&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The file structure is the following:</p>\n<blockquote>\n<p>appplication.properties file is located under src/main/java/resources<br />\ntest.jsp is located under src/main/webapp/WEB_INF.jsp</p>\n</blockquote>\n<p>When running the app I get this log in the console</p>\n<pre><code>2023-09-07 12:10:54.087  INFO 6080 --- [           main] o.s.b.w.e.t.TomcatWebServer              : Tomcat started on port(s): 8081 (http) with context path ''\n2023-09-07 12:10:54.098  INFO 6080 --- [           main] c.b.w.MySpringApplication           : Started MySpringApplication in 5.014 seconds (JVM running for 6.023)\nSep 07, 2023 12:11:34 PM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-09-07 12:11:34.463  INFO 6080 --- [nio-8081-exec-1] o.s.w.s.DispatcherServlet                : Initializing Servlet 'dispatcherServlet'\n2023-09-07 12:11:34.464  INFO 6080 --- [nio-8081-exec-1] o.s.w.s.DispatcherServlet                : Completed initialization in 1 ms\nin default controller\n\n</code></pre>\n<p>And I see this on localhost</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nThu Sep 07 12:59:15 EEST 2023\nThere was an unexpected error (type=Not Found, status=404).\n</code></pre>\n<p>I saw that there are a lot of threads about this problem, but all the solutions provided there does not seem to fix my issues, any ideas or help on how to copre with this problem would be of great importance</p>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1659344359,"post_id":73189420,"comment_id":129264029,"body_markdown":"please show us the [nRF Connect](https://play.google.com/store/apps/details?id=no.nordicsemi.android.mcp&amp;hl=de&amp;gl=US) [Device Information](https://www.xda-developers.com/check-bluetooth-5-all-features-supported/)","body":"please show us the <a href=\"https://play.google.com/store/apps/details?id=no.nordicsemi.android.mcp&amp;hl=de&amp;gl=US\" rel=\"nofollow noreferrer\">nRF Connect</a> <a href=\"https://www.xda-developers.com/check-bluetooth-5-all-features-supported/\" rel=\"nofollow noreferrer\">Device Information</a>"},{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1659346142,"post_id":73189420,"comment_id":129264710,"body_markdown":"I can see that you edited your post, but I can&#39;t see anything like [this](https://www.xda-developers.com/files/2019/03/Screenshot_20190325-233228_nRF-Connect-1-498x1024.jpg)","body":"I can see that you edited your post, but I can&#39;t see anything like <a href=\"https://www.xda-developers.com/files/2019/03/Screenshot_20190325-233228_nRF-Connect-1-498x1024.jpg\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":25852059,"reputation":41,"user_id":19585906,"display_name":"JayLin1119"},"score":0,"creation_date":1659347719,"post_id":73189420,"comment_id":129265259,"body_markdown":"@Risto I know that you post a link on my previous post I click on Bluetooth product test then I have no clue what should I do next","body":"@Risto I know that you post a link on my previous post I click on Bluetooth product test then I have no clue what should I do next"},{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1659348038,"post_id":73189420,"comment_id":129265389,"body_markdown":"please install nRF Connect app on your Xperia mobile and show us the *Device Information* screen","body":"please install nRF Connect app on your Xperia mobile and show us the <i>Device Information</i> screen"},{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1659357627,"post_id":73189420,"comment_id":129268417,"body_markdown":"You should check if you can see the extended advertising with the nRF Connect app. However, in my limited experience with *Zephyr* I can see that you define a bigger BT_DATA_MANUFACTURER_DATA chunk, but according to your source code it is never used","body":"You should check if you can see the extended advertising with the nRF Connect app. However, in my limited experience with <i>Zephyr</i> I can see that you define a bigger BT_DATA_MANUFACTURER_DATA chunk, but according to your source code it is never used"},{"owner":{"account_id":25852059,"reputation":41,"user_id":19585906,"display_name":"JayLin1119"},"score":0,"creation_date":1659358132,"post_id":73189420,"comment_id":129268600,"body_markdown":"@Risto I think my device did use the mfg_data cause I have another nordic device which is receiving the data and it can read what&#39;s inside mfg_data","body":"@Risto I think my device did use the mfg_data cause I have another nordic device which is receiving the data and it can read what&#39;s inside mfg_data"},{"owner":{"account_id":25852059,"reputation":41,"user_id":19585906,"display_name":"JayLin1119"},"score":0,"creation_date":1659513638,"post_id":73189420,"comment_id":129310027,"body_markdown":"@Risto Sorry bro I found out that I forget to call bt_le_per_set_data() function to add the mfg_data[] in to advertising my bad I should have check my code first, I have add the function in to my code, but my app still can&#39;t get the extended advertising, is there something I did wrong?","body":"@Risto Sorry bro I found out that I forget to call bt_le_per_set_data() function to add the mfg_data[] in to advertising my bad I should have check my code first, I have add the function in to my code, but my app still can&#39;t get the extended advertising, is there something I did wrong?"}],"owner":{"account_id":25852059,"reputation":41,"user_id":19585906,"display_name":"JayLin1119"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694122249,"creation_date":1659334129,"question_id":73189420,"body_markdown":"So I can find my device but I want to read the extended advertising data which my nrf52840 is advertising I try to print out the ScanResult but it only print out my device name, then I tried to print out the ManufacturerSpecificData it return my {}. My phone is Sony Xperia 1 with bluetooth 5.0 android version 10 \r\n\r\n    package com.example.tryble_scanner;\r\n\r\n    import androidx.activity.result.ActivityResultLauncher;\r\n    import androidx.activity.result.contract.ActivityResultContracts;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.Manifest;\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothDevice;\r\n    import android.bluetooth.BluetoothManager;\r\n    import android.bluetooth.le.BluetoothLeScanner;\r\n    import android.bluetooth.le.ScanCallback;\r\n    import android.bluetooth.le.ScanFilter;\r\n    import android.bluetooth.le.ScanResult;\r\n    import android.bluetooth.le.ScanSettings;\r\n    import android.content.Intent;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.util.Log;\r\n    import android.util.SparseArray;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.Toast;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.ByteOrder;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.UUID;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private BluetoothAdapter mBluetoothAdapter  = null;\r\n    private BluetoothLeScanner mBluetoothLeScanner = null;\r\n    public static final int REQUEST_BT_PERMISSIONS = 0;\r\n    public static final int REQUEST_BT_ENABLE = 1;\r\n    private boolean mScanning = false;\r\n    private Handler mHandler = null;\r\n\r\n    private ScanCallback mLeScanCallBack1 = new ScanCallback() {\r\n                @Override\r\n                public void onScanResult(int callbackType, final ScanResult result) {\r\n                    //super.onScanResult(callbackType, result);\r\n                    String data=ConverttoString(result.getScanRecord().getManufacturerSpecificData());\r\n                    BluetoothDevice btdevice = result.getDevice();\r\n                    byte[] scanRecord =result.getScanRecord().getBytes();\r\n                    String s=new String(scanRecord,StandardCharsets.UTF_8);\r\n                    Log.d(&quot;BLE&quot;, btdevice.getAddress());\r\n                    Log.d(&quot;BLE&quot;,s);\r\n\r\n                }\r\n                @Override\r\n                public void onScanFailed(int errorCode) {\r\n                    super.onScanFailed(errorCode);\r\n                    Log.d(&quot;BLE&quot;, &quot;error&quot;);\r\n                }\r\n    };\r\n\r\n    private  ScanCallback mLeScanCallBack2=new ScanCallback() {\r\n        @Override\r\n        public void onScanResult(int callbackType, ScanResult result) {\r\n            Log.d(&quot;BLE&quot;,&quot;scan stop&quot;);\r\n        }\r\n        @Override\r\n        public void onScanFailed(int errorCode) {\r\n            Log.d(&quot;BLE&quot;,&quot;stop scan failed&quot;);\r\n        }\r\n    };\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Button btnScan = (Button) findViewById(R.id.btnScan);\r\n        BluetoothManager bluetoothManager = getSystemService(BluetoothManager.class);\r\n        mBluetoothAdapter = bluetoothManager.getAdapter();\r\n        mBluetoothLeScanner = mBluetoothAdapter.getBluetoothLeScanner();\r\n        this.mHandler = new Handler();\r\n    }\r\n\r\n    public void stop_scan(View view) {\r\n        Log.d(&quot;Ble&quot;,&quot;scan stop pressed&quot;);\r\n    //        mBluetoothLeScanner.stopScan(mLeScanCallback2);\r\n        mBluetoothAdapter.getBluetoothLeScanner().stopScan(mLeScanCallBack2);\r\n    }\r\n\r\n    public void onBtnScan(View view) {\r\n        Log.i(&quot;Btn&quot;,&quot;get click&quot;);\r\n        checkBTPermission();\r\n        String[] names=new String[]{&quot;Auden test&quot;};\r\n        List&lt;ScanFilter&gt; filters=null;\r\n        if(names != null){\r\n            filters=new ArrayList&lt;&gt;();\r\n            for(String name:names){\r\n                ScanFilter filter=new ScanFilter.Builder().setDeviceName(name).build();\r\n                filters.add(filter);\r\n            }\r\n        }\r\n        ScanSettings scanSettings = new ScanSettings.Builder()\r\n                //.setScanMode(ScanSettings.SCAN_MODE_LOW_LATENCY)\r\n                //.setCallbackType(ScanSettings.CALLBACK_TYPE_ALL_MATCHES)\r\n                //.setMatchMode(ScanSettings.MATCH_MODE_AGGRESSIVE)\r\n                //.setNumOfMatches(ScanSettings.MATCH_NUM_ONE_ADVERTISEMENT)\r\n                //.setReportDelay(0L)\r\n                  .setLegacy(false)\r\n                  .build();\r\n        if(mBluetoothLeScanner==null){\r\n            Log.i(&quot;BLE&quot;,&quot;could not get scanner&quot;);\r\n        }else{\r\n            mBluetoothLeScanner.startScan(filters,scanSettings,mLeScanCallBack1);  //filters,scanSettings,mLeScanCallback\r\n        }\r\n    }\r\n\r\n    private void checkBTPermission(){\r\n        if(Build.VERSION.SDK_INT&gt;Build.VERSION_CODES.LOLLIPOP){\r\n            int pc=this.checkSelfPermission(&quot;Manifest.permission.ACCESS_FINE_LOCATION&quot;);\r\n            pc+=this.checkSelfPermission(&quot;Manifest.permission.ACCESS_COARSE_LOCATION&quot;);\r\n            if(pc!=0){\r\n                this.requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.ACCESS_COARSE_LOCATION},1001);\r\n            }else {\r\n                Log.d(&quot;BLE&quot;,&quot;checkBT permission&quot;);\r\n            }\r\n        }\r\n    }\r\n    public static String ConverttoString (SparseArray&lt;byte[]&gt; array) {\r\n        if (array == null) {\r\n            return &quot;null&quot;;\r\n        }\r\n        if (array.size() == 0) {\r\n            return &quot;{}&quot;;\r\n        }\r\n        StringBuilder buffer = new StringBuilder();\r\n        buffer.append(&#39;{&#39;);\r\n        for (int i = 0; i &lt; array.size(); ++i) {\r\n            buffer.append(array.keyAt(i)).append(&quot;=&quot;).append(Arrays.toString(array.valueAt(i)));\r\n        }\r\n        buffer.append(&#39;}&#39;);\r\n        Log.d(&quot;convert&quot;,buffer.toString());\r\n        return buffer.toString();\r\n    }\r\n    }\r\n\r\n\r\nnrf52840\r\n\r\n     /*\r\n     * Copyright (c) 2020 Nordic Semiconductor ASA\r\n     *\r\n     * SPDX-License-Identifier: Apache-2.0\r\n     */\r\n\r\n    #include &lt;bluetooth/bluetooth.h&gt;\r\n\r\n    static uint8_t mfg_data[] = { 0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x10,\r\n\t\t\t\t\t\t\t  0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x10,\r\n\t\t\t\t\t\t\t  0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x10,\r\n\t\t\t\t\t\t\t  0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x10};\r\n\r\n    static const struct bt_data ad[] = {\r\n\t    BT_DATA(BT_DATA_MANUFACTURER_DATA, mfg_data, 40),\r\n    };\r\n\r\n    void main(void)\r\n    {\r\n\tstruct bt_le_ext_adv *adv;\r\n\tint err;\r\n\r\n\tprintk(&quot;Starting Periodic Advertising Demo\\n&quot;);\r\n\r\n\t/* Initialize the Bluetooth Subsystem */\r\n\terr = bt_enable(NULL);\r\n\tif (err) {\r\n\t\tprintk(&quot;Bluetooth init failed (err %d)\\n&quot;, err);\r\n\t\treturn;\r\n\t}\r\n\r\n\t/* Create a non-connectable non-scannable advertising set */\r\n\terr = bt_le_ext_adv_create(BT_LE_EXT_ADV_NCONN_NAME, NULL, &amp;adv); //  BT_LE_EXT_ADV_NCONN_NAME  BT_LE_EXT_ADV_SCAN_NAME\r\n\tif (err) {\r\n\t\tprintk(&quot;Failed to create advertising set (err %d)\\n&quot;, err);\r\n\t\treturn;\r\n\t}\r\n\r\n\t/* Set periodic advertising parameters */\r\n\terr = bt_le_per_adv_set_param(adv, BT_LE_PER_ADV_DEFAULT);\r\n\tif (err) {\r\n\t\tprintk(&quot;Failed to set periodic advertising parameters&quot;\r\n\t\t       &quot; (err %d)\\n&quot;, err);\r\n\t\treturn;\r\n\t}\r\n\r\n\t/* Enable Periodic Advertising */\r\n\terr = bt_le_per_adv_start(adv);\r\n\tif (err) {\r\n\t\tprintk(&quot;Failed to enable periodic advertising (err %d)\\n&quot;, err);\r\n\t\treturn;\r\n\t}\r\n\r\n\twhile (true) {\r\n\t\tprintk(&quot;Start Extended Advertising...&quot;);\r\n\t\terr = bt_le_ext_adv_start(adv, BT_LE_EXT_ADV_START_DEFAULT);\r\n\t\tif (err) {\r\n\t\t\tprintk(&quot;Failed to start extended advertising &quot;\r\n\t\t\t       &quot;(err %d)\\n&quot;, err);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tprintk(&quot;done.\\n&quot;);\r\n\r\n\t\terr=bt_le_per_adv_set_data(adv,ad,ARRAY_SIZE(ad));\r\n\t\tif(err){\r\n\t\t\tprintk(&quot;Failed (err %d)\\n&quot;,err);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\r\n\t\tk_sleep(K_SECONDS(3000));\r\n\r\n\t\tprintk(&quot;Stop Extended Advertising...&quot;);\r\n\t\terr = bt_le_ext_adv_stop(adv);\r\n\t\tif (err) {\r\n\t\t\tprintk(&quot;Failed to stop extended advertising &quot;\r\n\t\t\t       &quot;(err %d)\\n&quot;, err);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tprintk(&quot;done.\\n&quot;);\r\n\r\n\t\tk_sleep(K_SECONDS(1));\r\n\t}\r\n    }\r\n\r\n[![print getManufacturerSpecificData ][1]][1]\r\n\r\n\r\n[![print ScanRecord][2]][2]\r\n[![device information][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WXDq1.png\r\n  [2]: https://i.stack.imgur.com/cBJRT.png\r\n  [3]: https://i.stack.imgur.com/tN2ZM.png","title":"Android app read extended advertising from Nordic nrf52840 nrf connect v2.0.0 periodic_adv","body":"<p>So I can find my device but I want to read the extended advertising data which my nrf52840 is advertising I try to print out the ScanResult but it only print out my device name, then I tried to print out the ManufacturerSpecificData it return my {}. My phone is Sony Xperia 1 with bluetooth 5.0 android version 10</p>\n<pre><code>package com.example.tryble_scanner;\n\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.Manifest;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothManager;\nimport android.bluetooth.le.BluetoothLeScanner;\nimport android.bluetooth.le.ScanCallback;\nimport android.bluetooth.le.ScanFilter;\nimport android.bluetooth.le.ScanResult;\nimport android.bluetooth.le.ScanSettings;\nimport android.content.Intent;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.util.Log;\nimport android.util.SparseArray;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\nimport java.io.UnsupportedEncodingException;\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.nio.charset.StandardCharsets;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.UUID;\n\npublic class MainActivity extends AppCompatActivity {\n\nprivate BluetoothAdapter mBluetoothAdapter  = null;\nprivate BluetoothLeScanner mBluetoothLeScanner = null;\npublic static final int REQUEST_BT_PERMISSIONS = 0;\npublic static final int REQUEST_BT_ENABLE = 1;\nprivate boolean mScanning = false;\nprivate Handler mHandler = null;\n\nprivate ScanCallback mLeScanCallBack1 = new ScanCallback() {\n            @Override\n            public void onScanResult(int callbackType, final ScanResult result) {\n                //super.onScanResult(callbackType, result);\n                String data=ConverttoString(result.getScanRecord().getManufacturerSpecificData());\n                BluetoothDevice btdevice = result.getDevice();\n                byte[] scanRecord =result.getScanRecord().getBytes();\n                String s=new String(scanRecord,StandardCharsets.UTF_8);\n                Log.d(&quot;BLE&quot;, btdevice.getAddress());\n                Log.d(&quot;BLE&quot;,s);\n\n            }\n            @Override\n            public void onScanFailed(int errorCode) {\n                super.onScanFailed(errorCode);\n                Log.d(&quot;BLE&quot;, &quot;error&quot;);\n            }\n};\n\nprivate  ScanCallback mLeScanCallBack2=new ScanCallback() {\n    @Override\n    public void onScanResult(int callbackType, ScanResult result) {\n        Log.d(&quot;BLE&quot;,&quot;scan stop&quot;);\n    }\n    @Override\n    public void onScanFailed(int errorCode) {\n        Log.d(&quot;BLE&quot;,&quot;stop scan failed&quot;);\n    }\n};\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Button btnScan = (Button) findViewById(R.id.btnScan);\n    BluetoothManager bluetoothManager = getSystemService(BluetoothManager.class);\n    mBluetoothAdapter = bluetoothManager.getAdapter();\n    mBluetoothLeScanner = mBluetoothAdapter.getBluetoothLeScanner();\n    this.mHandler = new Handler();\n}\n\npublic void stop_scan(View view) {\n    Log.d(&quot;Ble&quot;,&quot;scan stop pressed&quot;);\n//        mBluetoothLeScanner.stopScan(mLeScanCallback2);\n    mBluetoothAdapter.getBluetoothLeScanner().stopScan(mLeScanCallBack2);\n}\n\npublic void onBtnScan(View view) {\n    Log.i(&quot;Btn&quot;,&quot;get click&quot;);\n    checkBTPermission();\n    String[] names=new String[]{&quot;Auden test&quot;};\n    List&lt;ScanFilter&gt; filters=null;\n    if(names != null){\n        filters=new ArrayList&lt;&gt;();\n        for(String name:names){\n            ScanFilter filter=new ScanFilter.Builder().setDeviceName(name).build();\n            filters.add(filter);\n        }\n    }\n    ScanSettings scanSettings = new ScanSettings.Builder()\n            //.setScanMode(ScanSettings.SCAN_MODE_LOW_LATENCY)\n            //.setCallbackType(ScanSettings.CALLBACK_TYPE_ALL_MATCHES)\n            //.setMatchMode(ScanSettings.MATCH_MODE_AGGRESSIVE)\n            //.setNumOfMatches(ScanSettings.MATCH_NUM_ONE_ADVERTISEMENT)\n            //.setReportDelay(0L)\n              .setLegacy(false)\n              .build();\n    if(mBluetoothLeScanner==null){\n        Log.i(&quot;BLE&quot;,&quot;could not get scanner&quot;);\n    }else{\n        mBluetoothLeScanner.startScan(filters,scanSettings,mLeScanCallBack1);  //filters,scanSettings,mLeScanCallback\n    }\n}\n\nprivate void checkBTPermission(){\n    if(Build.VERSION.SDK_INT&gt;Build.VERSION_CODES.LOLLIPOP){\n        int pc=this.checkSelfPermission(&quot;Manifest.permission.ACCESS_FINE_LOCATION&quot;);\n        pc+=this.checkSelfPermission(&quot;Manifest.permission.ACCESS_COARSE_LOCATION&quot;);\n        if(pc!=0){\n            this.requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.ACCESS_COARSE_LOCATION},1001);\n        }else {\n            Log.d(&quot;BLE&quot;,&quot;checkBT permission&quot;);\n        }\n    }\n}\npublic static String ConverttoString (SparseArray&lt;byte[]&gt; array) {\n    if (array == null) {\n        return &quot;null&quot;;\n    }\n    if (array.size() == 0) {\n        return &quot;{}&quot;;\n    }\n    StringBuilder buffer = new StringBuilder();\n    buffer.append('{');\n    for (int i = 0; i &lt; array.size(); ++i) {\n        buffer.append(array.keyAt(i)).append(&quot;=&quot;).append(Arrays.toString(array.valueAt(i)));\n    }\n    buffer.append('}');\n    Log.d(&quot;convert&quot;,buffer.toString());\n    return buffer.toString();\n}\n}\n</code></pre>\n<p>nrf52840</p>\n<pre><code> /*\n * Copyright (c) 2020 Nordic Semiconductor ASA\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n#include &lt;bluetooth/bluetooth.h&gt;\n\nstatic uint8_t mfg_data[] = { 0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x10,\n                          0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x10,\n                          0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x10,\n                          0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x10};\n\nstatic const struct bt_data ad[] = {\n    BT_DATA(BT_DATA_MANUFACTURER_DATA, mfg_data, 40),\n};\n\nvoid main(void)\n{\nstruct bt_le_ext_adv *adv;\nint err;\n\nprintk(&quot;Starting Periodic Advertising Demo\\n&quot;);\n\n/* Initialize the Bluetooth Subsystem */\nerr = bt_enable(NULL);\nif (err) {\n    printk(&quot;Bluetooth init failed (err %d)\\n&quot;, err);\n    return;\n}\n\n/* Create a non-connectable non-scannable advertising set */\nerr = bt_le_ext_adv_create(BT_LE_EXT_ADV_NCONN_NAME, NULL, &amp;adv); //  BT_LE_EXT_ADV_NCONN_NAME  BT_LE_EXT_ADV_SCAN_NAME\nif (err) {\n    printk(&quot;Failed to create advertising set (err %d)\\n&quot;, err);\n    return;\n}\n\n/* Set periodic advertising parameters */\nerr = bt_le_per_adv_set_param(adv, BT_LE_PER_ADV_DEFAULT);\nif (err) {\n    printk(&quot;Failed to set periodic advertising parameters&quot;\n           &quot; (err %d)\\n&quot;, err);\n    return;\n}\n\n/* Enable Periodic Advertising */\nerr = bt_le_per_adv_start(adv);\nif (err) {\n    printk(&quot;Failed to enable periodic advertising (err %d)\\n&quot;, err);\n    return;\n}\n\nwhile (true) {\n    printk(&quot;Start Extended Advertising...&quot;);\n    err = bt_le_ext_adv_start(adv, BT_LE_EXT_ADV_START_DEFAULT);\n    if (err) {\n        printk(&quot;Failed to start extended advertising &quot;\n               &quot;(err %d)\\n&quot;, err);\n        return;\n    }\n    printk(&quot;done.\\n&quot;);\n\n    err=bt_le_per_adv_set_data(adv,ad,ARRAY_SIZE(ad));\n    if(err){\n        printk(&quot;Failed (err %d)\\n&quot;,err);\n        return;\n    }\n\n\n    k_sleep(K_SECONDS(3000));\n\n    printk(&quot;Stop Extended Advertising...&quot;);\n    err = bt_le_ext_adv_stop(adv);\n    if (err) {\n        printk(&quot;Failed to stop extended advertising &quot;\n               &quot;(err %d)\\n&quot;, err);\n        return;\n    }\n    printk(&quot;done.\\n&quot;);\n\n    k_sleep(K_SECONDS(1));\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WXDq1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WXDq1.png\" alt=\"print getManufacturerSpecificData \" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cBJRT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cBJRT.png\" alt=\"print ScanRecord\" /></a>\n<a href=\"https://i.stack.imgur.com/tN2ZM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tN2ZM.png\" alt=\"device information\" /></a></p>\n"},{"tags":["java","modelmapper"],"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":1,"creation_date":1411475518,"post_id":25995205,"comment_id":40708395,"body_markdown":"Please paste the appropriate part of error/minimal example here.","body":"Please paste the appropriate part of error/minimal example here."},{"owner":{"account_id":166516,"reputation":1608,"user_id":390689,"accept_rate":58,"display_name":"dmz73"},"score":0,"creation_date":1411475827,"post_id":25995205,"comment_id":40708590,"body_markdown":"The test in the gist link is already minimal. Thanks.","body":"The test in the gist link is already minimal. Thanks."},{"owner":{"account_id":2653232,"reputation":4799,"user_id":2294428,"display_name":"StephaneM"},"score":0,"creation_date":1411475936,"post_id":25995205,"comment_id":40708664,"body_markdown":"The request was to copy/paste the content of the 2 files here.","body":"The request was to copy/paste the content of the 2 files here."}],"answers":[{"tags":[],"owner":{"account_id":394499,"reputation":1752,"user_id":756968,"accept_rate":73,"display_name":"bigGuy"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1411722369,"creation_date":1411721081,"answer_id":26055509,"question_id":25995205,"body_markdown":"It is mapped automatically. You **do not** need to configure any mapping. This will work:\r\n\r\n    @Test\r\n    public void shouldMapHashMapToFoo() {\r\n        HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;a&quot;, &quot;aaaa&quot;);\r\n        map.put(&quot;b&quot;, &quot;bbbb&quot;);\r\n\r\n        Foo foo = modelMapper.map(map, Foo.class);\r\n\r\n        Assert.assertEquals(foo.getA(), map.get(&quot;a&quot;));\r\n        Assert.assertEquals(foo.getB(), map.get(&quot;b&quot;));\r\n\r\n    }\r\n\r\n**EDIT:**\r\nIf you need to map HashMap to more complicated structure, you can always use &quot;intermediate&quot; class.\r\n\r\n      public static class Bar\r\n      {\r\n    \tprivate String Z;\r\n    \tprivate String W;\r\n    \r\n    \tpublic String getZ()\r\n    \t{\r\n    \t  return Z;\r\n    \t}\r\n    \r\n    \tpublic void setZ(String z)\r\n    \t{\r\n    \t  Z = z;\r\n    \t}\r\n    \r\n    \tpublic String getW()\r\n    \t{\r\n    \t  return W;\r\n    \t}\r\n    \r\n    \tpublic void setW(String w)\r\n    \t{\r\n    \t  W = w;\r\n    \t}\r\n      }\r\n    \r\n      @Test\r\n      public void shouldMapHashMapToFoo()\r\n      {\r\n    \tHashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    \tmap.put(&quot;z&quot;, &quot;aaaa&quot;);\r\n    \tmap.put(&quot;w&quot;, &quot;bbbb&quot;);\r\n    \r\n    \tBar bar = modelMapper.map(map, Bar.class);\r\n    \r\n    \tPropertyMap&lt;Bar, Foo&gt; barToFooMap = new PropertyMap&lt;Bar, Foo&gt;()\r\n    \t{\r\n    \t  @Override\r\n    \t  protected void configure()\r\n    \t  {\r\n    \t\tmap().setA(source.getZ());\r\n    \t\tmap().setB(source.getW());\r\n    \t  }\r\n    \r\n    \t};\r\n    \tmodelMapper.addMappings(barToFooMap);\r\n    \r\n    \tFoo foo = modelMapper.map(bar, Foo.class);\r\n    \r\n    \tAssert.assertEquals(foo.getA(), map.get(&quot;z&quot;));\r\n    \tAssert.assertEquals(foo.getB(), map.get(&quot;w&quot;));\r\n      }","title":"ModelMapper: how to map java.util.Map to POJO?","body":"<p>It is mapped automatically. You <strong>do not</strong> need to configure any mapping. This will work:</p>\n\n<pre><code>@Test\npublic void shouldMapHashMapToFoo() {\n    HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(\"a\", \"aaaa\");\n    map.put(\"b\", \"bbbb\");\n\n    Foo foo = modelMapper.map(map, Foo.class);\n\n    Assert.assertEquals(foo.getA(), map.get(\"a\"));\n    Assert.assertEquals(foo.getB(), map.get(\"b\"));\n\n}\n</code></pre>\n\n<p><strong>EDIT:</strong>\nIf you need to map HashMap to more complicated structure, you can always use \"intermediate\" class.</p>\n\n<pre><code>  public static class Bar\n  {\n    private String Z;\n    private String W;\n\n    public String getZ()\n    {\n      return Z;\n    }\n\n    public void setZ(String z)\n    {\n      Z = z;\n    }\n\n    public String getW()\n    {\n      return W;\n    }\n\n    public void setW(String w)\n    {\n      W = w;\n    }\n  }\n\n  @Test\n  public void shouldMapHashMapToFoo()\n  {\n    HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(\"z\", \"aaaa\");\n    map.put(\"w\", \"bbbb\");\n\n    Bar bar = modelMapper.map(map, Bar.class);\n\n    PropertyMap&lt;Bar, Foo&gt; barToFooMap = new PropertyMap&lt;Bar, Foo&gt;()\n    {\n      @Override\n      protected void configure()\n      {\n        map().setA(source.getZ());\n        map().setB(source.getW());\n      }\n\n    };\n    modelMapper.addMappings(barToFooMap);\n\n    Foo foo = modelMapper.map(bar, Foo.class);\n\n    Assert.assertEquals(foo.getA(), map.get(\"z\"));\n    Assert.assertEquals(foo.getB(), map.get(\"w\"));\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11793534,"reputation":982,"user_id":8628851,"display_name":"Georgi Peev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694120977,"creation_date":1553617557,"answer_id":55361934,"question_id":25995205,"body_markdown":"To note that when mapping from map to object, the case of the words is ignored, ex:\r\n\r\n```java\r\n// both of these work\r\nmap.put(&quot;test&quot;, &quot;0&quot;);\r\nmap.put(&quot;teSt&quot;, &quot;0&quot;);\r\n```","title":"ModelMapper: how to map java.util.Map to POJO?","body":"<p>To note that when mapping from map to object, the case of the words is ignored, ex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// both of these work\nmap.put(&quot;test&quot;, &quot;0&quot;);\nmap.put(&quot;teSt&quot;, &quot;0&quot;);\n</code></pre>\n"}],"owner":{"account_id":166516,"reputation":1608,"user_id":390689,"accept_rate":58,"display_name":"dmz73"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15477,"favorite_count":0,"down_vote_count":11,"up_vote_count":13,"accepted_answer_id":26055509,"answer_count":2,"score":2,"last_activity_date":1694120977,"creation_date":1411475478,"question_id":25995205,"body_markdown":"How can I map a java.util.Map to a POJO?\r\n\r\nThe following test gives me a configuration error.\r\n\r\nIt seems a similar issue was opened but it was not resolved https://github.com/jhalterman/modelmapper/issues/116.\r\n\r\nTest:\r\n\r\n   \r\n    package org.me.modelmapper;\r\n    \r\n    import java.util.HashMap;\r\n    import org.modelmapper.ModelMapper;\r\n    import org.modelmapper.PropertyMap;\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class MapperTest {\r\n    \r\n      \r\n        private ModelMapper modelMapper;\r\n    \r\n    \r\n        public MapperTest() {\r\n        }\r\n    \r\n    \r\n        public static class Foo {\r\n    \r\n            public String a;\r\n            public String b;\r\n    \r\n            public String getA() {\r\n                return a;\r\n            }\r\n    \r\n            public void setA(String a) {\r\n                this.a = a;\r\n            }\r\n    \r\n            public String getB() {\r\n                return b;\r\n            }\r\n    \r\n            public void setB(String b) {\r\n                this.b = b;\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        @BeforeMethod\r\n        public void setUpMethod() throws Exception {\r\n            modelMapper = new ModelMapper();\r\n            modelMapper.getConfiguration()\r\n                    .setFieldMatchingEnabled(true);\r\n        }\r\n    \r\n        @Test\r\n        public void shouldMapHashMapToFoo() {\r\n            HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;a&quot;, &quot;aaaa&quot;);\r\n            map.put(&quot;b&quot;, &quot;bbbb&quot;);\r\n    \r\n            PropertyMap&lt;HashMap&lt;String, String&gt;, Foo&gt; fooMap = new PropertyMap&lt;HashMap&lt;String, String&gt;, MapperTest.Foo&gt;() {\r\n    \r\n                @Override\r\n                protected void configure() {\r\n                    map(source.get(&quot;a&quot;), destination.a);\r\n                    map(source.get(&quot;b&quot;), destination.b);\r\n                }\r\n    \r\n            };\r\n    \r\n            modelMapper.addMappings(fooMap);\r\n    \r\n            Foo foo = modelMapper.map(map, Foo.class);\r\n    \r\n            Assert.assertEquals(foo.getA(), map.get(&quot;a&quot;));\r\n            Assert.assertEquals(foo.getB(), map.get(&quot;b&quot;));\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nError:\r\n\r\n    Configuring TestNG with: org.apache.maven.surefire.testng.conf.TestNG652Configurator@60acc399\r\n    Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 2.326 sec &lt;&lt;&lt; FAILURE!\r\n    shouldMapHashMapToFoo(org.me.modelmapper.MapperTest)  Time elapsed: 0.186 sec  &lt;&lt;&lt; FAILURE!\r\n    org.modelmapper.ConfigurationException: ModelMapper configuration errors:\r\n    \r\n    1) Invalid source method java.util.HashMap.get(). Ensure that method has zero parameters and does not return void.\r\n    \r\n    2) Invalid source method java.util.HashMap.get(). Ensure that method has zero parameters and does not return void.\r\n    \r\n    2 errors\r\n    \tat org.modelmapper.internal.Errors.throwConfigurationExceptionIfErrorsExist(Errors.java:241)\r\n    \tat org.modelmapper.internal.ExplicitMappingBuilder.visitPropertyMap(ExplicitMappingBuilder.java:228)\r\n    \tat org.modelmapper.PropertyMap.configure(PropertyMap.java:380)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.modelmapper.internal.ExplicitMappingBuilder.build(ExplicitMappingBuilder.java:194)\r\n    \tat org.modelmapper.internal.TypeMapImpl.addMappings(TypeMapImpl.java:72)\r\n    \tat org.modelmapper.internal.TypeMapStore.getOrCreate(TypeMapStore.java:101)\r\n    \tat org.modelmapper.ModelMapper.addMappings(ModelMapper.java:93)\r\n    \tat org.me.modelmapper.MapperTest.shouldMapHashMapToFoo(MapperTest.java:354)\r\n    \r\n    \r\n    Results :\r\n    \r\n    Failed tests:   shouldMapHashMapToFoo(org.me.modelmapper.MapperTest): ModelMapper configuration errors:\r\n    (..)\r\n    \r\n    Tests run: 1, Failures: 1, Errors: 0, Skipped: 0\r\n\r\n\r\n\r\n","title":"ModelMapper: how to map java.util.Map to POJO?","body":"<p>How can I map a java.util.Map to a POJO?</p>\n\n<p>The following test gives me a configuration error.</p>\n\n<p>It seems a similar issue was opened but it was not resolved <a href=\"https://github.com/jhalterman/modelmapper/issues/116\" rel=\"nofollow\">https://github.com/jhalterman/modelmapper/issues/116</a>.</p>\n\n<p>Test:</p>\n\n<pre><code>package org.me.modelmapper;\n\nimport java.util.HashMap;\nimport org.modelmapper.ModelMapper;\nimport org.modelmapper.PropertyMap;\nimport org.testng.Assert;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.Test;\n\npublic class MapperTest {\n\n\n    private ModelMapper modelMapper;\n\n\n    public MapperTest() {\n    }\n\n\n    public static class Foo {\n\n        public String a;\n        public String b;\n\n        public String getA() {\n            return a;\n        }\n\n        public void setA(String a) {\n            this.a = a;\n        }\n\n        public String getB() {\n            return b;\n        }\n\n        public void setB(String b) {\n            this.b = b;\n        }\n\n    }\n\n\n    @BeforeMethod\n    public void setUpMethod() throws Exception {\n        modelMapper = new ModelMapper();\n        modelMapper.getConfiguration()\n                .setFieldMatchingEnabled(true);\n    }\n\n    @Test\n    public void shouldMapHashMapToFoo() {\n        HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.put(\"a\", \"aaaa\");\n        map.put(\"b\", \"bbbb\");\n\n        PropertyMap&lt;HashMap&lt;String, String&gt;, Foo&gt; fooMap = new PropertyMap&lt;HashMap&lt;String, String&gt;, MapperTest.Foo&gt;() {\n\n            @Override\n            protected void configure() {\n                map(source.get(\"a\"), destination.a);\n                map(source.get(\"b\"), destination.b);\n            }\n\n        };\n\n        modelMapper.addMappings(fooMap);\n\n        Foo foo = modelMapper.map(map, Foo.class);\n\n        Assert.assertEquals(foo.getA(), map.get(\"a\"));\n        Assert.assertEquals(foo.getB(), map.get(\"b\"));\n\n    }\n\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Configuring TestNG with: org.apache.maven.surefire.testng.conf.TestNG652Configurator@60acc399\nTests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 2.326 sec &lt;&lt;&lt; FAILURE!\nshouldMapHashMapToFoo(org.me.modelmapper.MapperTest)  Time elapsed: 0.186 sec  &lt;&lt;&lt; FAILURE!\norg.modelmapper.ConfigurationException: ModelMapper configuration errors:\n\n1) Invalid source method java.util.HashMap.get(). Ensure that method has zero parameters and does not return void.\n\n2) Invalid source method java.util.HashMap.get(). Ensure that method has zero parameters and does not return void.\n\n2 errors\n    at org.modelmapper.internal.Errors.throwConfigurationExceptionIfErrorsExist(Errors.java:241)\n    at org.modelmapper.internal.ExplicitMappingBuilder.visitPropertyMap(ExplicitMappingBuilder.java:228)\n    at org.modelmapper.PropertyMap.configure(PropertyMap.java:380)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.modelmapper.internal.ExplicitMappingBuilder.build(ExplicitMappingBuilder.java:194)\n    at org.modelmapper.internal.TypeMapImpl.addMappings(TypeMapImpl.java:72)\n    at org.modelmapper.internal.TypeMapStore.getOrCreate(TypeMapStore.java:101)\n    at org.modelmapper.ModelMapper.addMappings(ModelMapper.java:93)\n    at org.me.modelmapper.MapperTest.shouldMapHashMapToFoo(MapperTest.java:354)\n\n\nResults :\n\nFailed tests:   shouldMapHashMapToFoo(org.me.modelmapper.MapperTest): ModelMapper configuration errors:\n(..)\n\nTests run: 1, Failures: 1, Errors: 0, Skipped: 0\n</code></pre>\n"},{"tags":["java","spring-boot","serialization","gson","thread-safety"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1694129723,"post_id":77062752,"comment_id":135854461,"body_markdown":"Your adapter code looks thread-safe to me; could you please share your `ThreadLocalContextUtil` code as well? But note that &quot;0.0&quot; is apparently also a valid return value for `toPlainString()`, for example: `new BigDecimal(&quot;0.0&quot;).toPlainString()` (tested with JDK 17)","body":"Your adapter code looks thread-safe to me; could you please share your <code>ThreadLocalContextUtil</code> code as well? But note that &quot;0.0&quot; is apparently also a valid return value for <code>toPlainString()</code>, for example: <code>new BigDecimal(&quot;0.0&quot;).toPlainString()</code> (tested with JDK 17)"},{"owner":{"account_id":13771751,"reputation":49,"user_id":9939009,"display_name":"Ch&#226;nh&#233;ng Seang"},"score":0,"creation_date":1694455582,"post_id":77062752,"comment_id":135890456,"body_markdown":"Thanks, I found the issue. I have to clear the value of ThreadLocalContextUtil and the end of request so it will always has default value as null.","body":"Thanks, I found the issue. I have to clear the value of ThreadLocalContextUtil and the end of request so it will always has default value as null."}],"owner":{"account_id":13771751,"reputation":49,"user_id":9939009,"display_name":"Ch&#226;nh&#233;ng Seang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694119535,"creation_date":1694119535,"question_id":77062752,"body_markdown":"Here is my BigDecimal adapter (to serialize the amount based on configuration):\r\n```java\r\npublic class BigDecimalAdapter extends TypeAdapter&lt;BigDecimal&gt; {\r\n    @Override\r\n    public void write(final JsonWriter out, final BigDecimal value) throws IOException {\r\n        if (value == null) {\r\n            out.nullValue();\r\n            return;\r\n        }\r\n        final var scale = ThreadLocalContextUtil.getFractionalDigits();\r\n        if (scale != null) {\r\n            final var newVal = value.setScale(scale, RoundingMode.FLOOR);\r\n            out.value(newVal);\r\n        } else {\r\n            out.jsonValue(value.toPlainString());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public BigDecimal read(final JsonReader in) throws IOException {\r\n        if (in.peek() == JsonToken.NULL) {\r\n            in.nextNull();\r\n            return null;\r\n        }\r\n        final var s = in.nextString();\r\n        try {\r\n            return new BigDecimal(s);\r\n        } catch (final NumberFormatException e) {\r\n            throw new JsonSyntaxException(&quot;Failed parsing &#39;&quot; + s + &quot;&#39; as BigDecimal; at path &quot; + in.getPreviousPath(), e);\r\n        }\r\n    }\r\n}\r\n```\r\nIn here, `final var scale = ThreadLocalContextUtil.getFractionalDigits();` is picking the value from ThreadLocal.\r\n\r\nThe issue is when I run test with multithread, it seems the other API that has scale=null also serialized as 0.0, This is not expected.\r\n\r\nThe API that has no scale value (scale = null) should keep the original way. ","title":"Gson Type Adapter is not thread safe?","body":"<p>Here is my BigDecimal adapter (to serialize the amount based on configuration):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BigDecimalAdapter extends TypeAdapter&lt;BigDecimal&gt; {\n    @Override\n    public void write(final JsonWriter out, final BigDecimal value) throws IOException {\n        if (value == null) {\n            out.nullValue();\n            return;\n        }\n        final var scale = ThreadLocalContextUtil.getFractionalDigits();\n        if (scale != null) {\n            final var newVal = value.setScale(scale, RoundingMode.FLOOR);\n            out.value(newVal);\n        } else {\n            out.jsonValue(value.toPlainString());\n        }\n    }\n\n    @Override\n    public BigDecimal read(final JsonReader in) throws IOException {\n        if (in.peek() == JsonToken.NULL) {\n            in.nextNull();\n            return null;\n        }\n        final var s = in.nextString();\n        try {\n            return new BigDecimal(s);\n        } catch (final NumberFormatException e) {\n            throw new JsonSyntaxException(&quot;Failed parsing '&quot; + s + &quot;' as BigDecimal; at path &quot; + in.getPreviousPath(), e);\n        }\n    }\n}\n</code></pre>\n<p>In here, <code>final var scale = ThreadLocalContextUtil.getFractionalDigits();</code> is picking the value from ThreadLocal.</p>\n<p>The issue is when I run test with multithread, it seems the other API that has scale=null also serialized as 0.0, This is not expected.</p>\n<p>The API that has no scale value (scale = null) should keep the original way.</p>\n"},{"tags":["java","android","android-studio","android-permissions","android-bluetooth"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1693757977,"post_id":77032704,"comment_id":135799676,"body_markdown":"Have you added appropriate permissions? Also, check logcat for relevant error logs.","body":"Have you added appropriate permissions? Also, check logcat for relevant error logs."},{"owner":{"account_id":28762514,"reputation":9,"user_id":22028097,"display_name":"SemirAdam"},"score":0,"creation_date":1693769956,"post_id":77032704,"comment_id":135801156,"body_markdown":"I added the BLUETOOTH permissions in the AndroidManifest.xml","body":"I added the BLUETOOTH permissions in the AndroidManifest.xml"},{"owner":{"account_id":28762514,"reputation":9,"user_id":22028097,"display_name":"SemirAdam"},"score":0,"creation_date":1693770299,"post_id":77032704,"comment_id":135801201,"body_markdown":"I am getting this error when I click on OFF button  &quot;Need android.permission.BLUETOOTH_CONNECT permission for AttributionSource { uid = 10183, packageName = com.project.btseat, attributionTag = null, token = android.os.BinderProxy@786c51d, next = null }: disable&quot;. However, I have already added it.","body":"I am getting this error when I click on OFF button  &quot;Need android.permission.BLUETOOTH_CONNECT permission for AttributionSource { uid = 10183, packageName = com.project.btseat, attributionTag = null, token = android.os.BinderProxy@786c51d, next = null }: disable&quot;. However, I have already added it."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":1,"creation_date":1693770401,"post_id":77032704,"comment_id":135801211,"body_markdown":"Besides declaring permissions in manifest, you need to also ask user: https://developer.android.com/training/permissions/requesting","body":"Besides declaring permissions in manifest, you need to also ask user: <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">developer.android.com/training/permissions/requesting</a>"},{"owner":{"account_id":28762514,"reputation":9,"user_id":22028097,"display_name":"SemirAdam"},"score":0,"creation_date":1693853246,"post_id":77032704,"comment_id":135811894,"body_markdown":"Am I not doing that using the &quot;ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult( ...&quot; an example code base on my current one would be helpful.","body":"Am I not doing that using the &quot;ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult( ...&quot; an example code base on my current one would be helpful."}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694119077,"creation_date":1693862262,"answer_id":77040655,"question_id":77032704,"body_markdown":"You can read here: https://developer.android.com/guide/topics/connectivity/bluetooth/permissions :\r\n\r\n&gt; The BLUETOOTH_ADVERTISE, BLUETOOTH_CONNECT, and BLUETOOTH_SCAN\r\n&gt; permissions are runtime permissions. Therefore, you must explicitly\r\n&gt; request user approval in your app before you can look for Bluetooth\r\n&gt; devices, make a device discoverable to other devices, or communicate\r\n&gt; with already-paired Bluetooth devices.\r\n\r\nTo ask for permissions, add in your onCreate of activity below code. Before asking you actually should also explain why you need those permissions.\r\n\r\n        // Check if any is not granted\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH) != PackageManager.PERMISSION_GRANTED ||\r\n            ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_ADMIN) != PackageManager.PERMISSION_GRANTED ||\r\n            ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            // Ask for them\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{\r\n                            Manifest.permission.BLUETOOTH,\r\n                            Manifest.permission.BLUETOOTH_ADMIN,\r\n                            Manifest.permission.BLUETOOTH_CONNECT\r\n                    },\r\n                    REQUEST_ID);\r\n        }\r\n        else {\r\n        \t// You can use BT code here \r\n        }\r\n\r\n\r\nthen override onRequestPermissionsResult, it will be called with the result whether user aproved your request:\r\n\r\n       @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    \r\n            if (requestCode == REQUEST_ID) {\r\n                for (int grantResult : grantResults) {\r\n                    if (grantResult != PackageManager.PERMISSION_GRANTED) {\r\n                        // User rejected, you might explain to user more why you need this permission, and maybe add button to ask for it again.\r\n                        return;\r\n                    }\r\n                    else {\r\n                        // Ok, from now on you can use BT code\r\n                    }\r\n                }\r\n            }\r\n\r\nREQUEST_ID is some int constant\r\n\r\n\r\n[edit]\r\nIn you new code your function:\r\n\r\n    private boolean hasPermissions(String[] permissions) {\r\n        if (permissions != null){\r\n            for (String permission : permissions) {\r\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                    Log.d(&quot;PERMISSIONS&quot;, &quot;Permission is not granted: &quot; + permission);\r\n                }\r\n                return true;\r\n            }\r\n        return false;\r\n        }\r\n        return false;\r\n    }\r\n\r\nis wrong - it always returns true, you should return false when any of the permission is not granted. Something like this:\r\n\r\n    for (String permission : permissions) {\r\n        if (ActivityCompat.checkSelfPermission(MainActivity.this, permission) != PackageManager.PERMISSION_GRANTED) {\r\n            Log.d(&quot;PERMISSIONS&quot;, &quot;Permission is not granted: &quot; + permission);\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n\r\n[edit2]\r\n\r\nI spent some time on writing a sample appliation doing simple thing of turning BT on and off. It appears that a lot of code are the permissions handling. You can find full repository on github: https://github.com/luskan/btturnonoffapp","title":"APP in Java not responding when enabling Bluetooth in a device in Android Studio","body":"<p>You can read here: <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/permissions\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/connectivity/bluetooth/permissions</a> :</p>\n<blockquote>\n<p>The BLUETOOTH_ADVERTISE, BLUETOOTH_CONNECT, and BLUETOOTH_SCAN\npermissions are runtime permissions. Therefore, you must explicitly\nrequest user approval in your app before you can look for Bluetooth\ndevices, make a device discoverable to other devices, or communicate\nwith already-paired Bluetooth devices.</p>\n</blockquote>\n<p>To ask for permissions, add in your onCreate of activity below code. Before asking you actually should also explain why you need those permissions.</p>\n<pre><code>    // Check if any is not granted\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH) != PackageManager.PERMISSION_GRANTED ||\n        ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_ADMIN) != PackageManager.PERMISSION_GRANTED ||\n        ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n\n        // Ask for them\n        ActivityCompat.requestPermissions(this,\n                new String[]{\n                        Manifest.permission.BLUETOOTH,\n                        Manifest.permission.BLUETOOTH_ADMIN,\n                        Manifest.permission.BLUETOOTH_CONNECT\n                },\n                REQUEST_ID);\n    }\n    else {\n        // You can use BT code here \n    }\n</code></pre>\n<p>then override onRequestPermissionsResult, it will be called with the result whether user aproved your request:</p>\n<pre><code>   @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == REQUEST_ID) {\n            for (int grantResult : grantResults) {\n                if (grantResult != PackageManager.PERMISSION_GRANTED) {\n                    // User rejected, you might explain to user more why you need this permission, and maybe add button to ask for it again.\n                    return;\n                }\n                else {\n                    // Ok, from now on you can use BT code\n                }\n            }\n        }\n</code></pre>\n<p>REQUEST_ID is some int constant</p>\n<p>[edit]\nIn you new code your function:</p>\n<pre><code>private boolean hasPermissions(String[] permissions) {\n    if (permissions != null){\n        for (String permission : permissions) {\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, permission) != PackageManager.PERMISSION_GRANTED) {\n                Log.d(&quot;PERMISSIONS&quot;, &quot;Permission is not granted: &quot; + permission);\n            }\n            return true;\n        }\n    return false;\n    }\n    return false;\n}\n</code></pre>\n<p>is wrong - it always returns true, you should return false when any of the permission is not granted. Something like this:</p>\n<pre><code>for (String permission : permissions) {\n    if (ActivityCompat.checkSelfPermission(MainActivity.this, permission) != PackageManager.PERMISSION_GRANTED) {\n        Log.d(&quot;PERMISSIONS&quot;, &quot;Permission is not granted: &quot; + permission);\n        return false;\n    }\n}\nreturn true;\n</code></pre>\n<p>[edit2]</p>\n<p>I spent some time on writing a sample appliation doing simple thing of turning BT on and off. It appears that a lot of code are the permissions handling. You can find full repository on github: <a href=\"https://github.com/luskan/btturnonoffapp\" rel=\"nofollow noreferrer\">https://github.com/luskan/btturnonoffapp</a></p>\n"}],"owner":{"account_id":28762514,"reputation":9,"user_id":22028097,"display_name":"SemirAdam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694119077,"creation_date":1693750713,"question_id":77032704,"body_markdown":"I&#39;m trying to design a simple Application in Java in Android Studio to enable Bluetooth on the phone.\r\n\r\nBasically, I have two buttons (to enable and disable the Bluetooth).\r\n\r\nI&#39;ve tried to use the new way of implementing `startActivityForResult` as this method is being deprecated.\r\n\r\nI&#39;m quite new at Java and not sure how I may debug the code properly in Android Studio. However, the app is not responding to the `ON` button and it&#39;s close when click on `OFF` button.\r\n\r\nMost probably is there an error on the code but cannot see where.\r\n\r\nMainActivity.java\r\n```\r\npackage com.project.btseat;\r\nimport android.Manifest;\r\n\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Activity;\r\nimport android.bluetooth.BluetoothAdapter;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button ON;\r\n    Button OFF;\r\n    BluetoothAdapter myBluetoothAdapter;\r\n\r\n    Intent btEnablingIntent;\r\n\r\n    int requestCodeForEnable;\r\n\r\n    Log log = null;\r\n\r\n    private ActivityResultContracts.RequestMultiplePermissions multiplePermissionsContract;\r\n    private ActivityResultLauncher&lt;String[]&gt; multiplePermissionLauncher;\r\n\r\n    final String[] PERMISSIONS = {\r\n            Manifest.permission.BLUETOOTH,\r\n            Manifest.permission.BLUETOOTH_CONNECT,\r\n            Manifest.permission.BLUETOOTH_ADMIN,\r\n            Manifest.permission.BLUETOOTH_SCAN,\r\n            Manifest.permission.BLUETOOTH_ADVERTISE\r\n    };\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ON = (Button) findViewById(R.id.btON);\r\n        OFF = (Button) findViewById(R.id.btOFF);\r\n        myBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n        btEnablingIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n        requestCodeForEnable = 100;\r\n\r\n        multiplePermissionsContract = new ActivityResultContracts.RequestMultiplePermissions();\r\n        multiplePermissionLauncher = registerForActivityResult(multiplePermissionsContract, isGranted -&gt; {\r\n            Log.d(&quot;PERMISSIONS&quot;, &quot;Launcher result: &quot; + isGranted.toString());\r\n            if (isGranted.containsValue(false)) {\r\n                Log.d(&quot;PERMISSIONS&quot;, &quot;At least one of the permissions was not granted, launching again...&quot;);\r\n                multiplePermissionLauncher.launch(PERMISSIONS);\r\n            }\r\n        });\r\n\r\n        askPermissions(multiplePermissionLauncher);\r\n        bluetoothONMethod();\r\n        bluetoothOFFMethod();\r\n\r\n\r\n    }\r\n\r\n    private void askPermissions(ActivityResultLauncher&lt;String[]&gt; multiplePermissionLauncher){\r\n        if (!hasPermissions(PERMISSIONS)) {\r\n            log.d(&quot;PERMISSIONS&quot;, &quot;Launching multiple contract permission launcher for ALL required permissions&quot;);\r\n            multiplePermissionLauncher.launch(PERMISSIONS);\r\n        } else {\r\n            Log.d(&quot;PERMISSIONS&quot;, &quot;All permissions are already granted&quot;);\r\n        }\r\n    }\r\n    private boolean hasPermissions(String[] permissions) {\r\n        if (permissions != null){\r\n            for (String permission : permissions) {\r\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                    Log.d(&quot;PERMISSIONS&quot;, &quot;Permission is not granted: &quot; + permission);\r\n                }\r\n                return false;\r\n            }\r\n        return true;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            result -&gt; {\r\n                if (result.getResultCode() == Activity.RESULT_OK) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Bluetooth is Enabled&quot;, Toast.LENGTH_LONG).show();\r\n                } else if (result.getResultCode() == Activity.RESULT_CANCELED) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Bluetooth Enabling Cancelled&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            });\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private void bluetoothOFFMethod() {\r\n        OFF.setOnClickListener(v -&gt; {\r\n            if (myBluetoothAdapter.isEnabled()) {\r\n                myBluetoothAdapter.disable();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void bluetoothONMethod(){\r\n        ON.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (myBluetoothAdapter==null){\r\n                    Toast.makeText(getApplicationContext(),&quot;Bluetooth Adapter does not support on this device&quot;,Toast.LENGTH_LONG).show();\r\n                }else{\r\n                    if(!myBluetoothAdapter.isEnabled()){\r\n                      someActivityResultLauncher.launch(btEnablingIntent);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nAndroidManifest.xml (relevant permissions)\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_BLUETOOTH_SCAN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;true&quot;/&gt;\r\n\r\n\r\n...\r\n```\r\n\r\nlogcat logs:\r\n\r\n```\r\n2023-09-07 14:55:27.962  7824-8060  cr_CronetU...estContext com....android.googlequicksearchbox  E  Exception in upload method\r\n                                                                                                    com.google.android.apps.gsa.shared.r.d: Error code: 262182\r\n                                                                                                    \tat com.google.android.apps.gsa.shared.ab.bk.d(PG:5)\r\n                                                                                                    \tat com.google.android.libraries.gsa.c.a.ar.d(PG:1)\r\n                                                                                                    \tat com.google.android.libraries.gsa.c.a.bo.b(PG:5)\r\n                                                                                                    \tat com.google.android.libraries.gsa.c.a.e.a(PG:2)\r\n                                                                                                    \tat com.google.android.libraries.gsa.c.a.a.run(PG:2)\r\n                                                                                                    \tat com.google.common.util.concurrent.bf.execute(PG:1)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.i(PG:1)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.l(PG:12)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.cancel(PG:8)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.m(PG:2)\r\n                                                                                                    \tat com.google.common.util.concurrent.j.a(PG:1)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.l(PG:3)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.cancel(PG:8)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.m(PG:2)\r\n                                                                                                    \tat com.google.common.util.concurrent.j.a(PG:1)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.l(PG:3)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.cancel(PG:8)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.m(PG:2)\r\n                                                                                                    \tat com.google.common.util.concurrent.j.a(PG:1)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.l(PG:3)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.cancel(PG:8)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.m(PG:2)\r\n                                                                                                    \tat com.google.common.util.concurrent.j.a(PG:1)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.l(PG:3)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.cancel(PG:8)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.m(PG:2)\r\n                                                                                                    \tat com.google.common.util.concurrent.c.a(PG:1)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.l(PG:3)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.cancel(PG:8)\r\n                                                                                                    \tat com.google.common.util.concurrent.bu.cancel(PG:1)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.cancel(PG:17)\r\n                                                                                                    \tat com.google.android.apps.gsa.staticplugins.bk.b.h.run(PG:2)\r\n                                                                                                    \tat com.google.common.util.concurrent.bf.execute(PG:1)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.i(PG:1)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.l(PG:12)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.cancel(PG:8)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.m(PG:2)\r\n                                                                                                    \tat com.google.common.util.concurrent.j.a(PG:1)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.l(PG:3)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.cancel(PG:8)\r\n                                                                                                    \tat com.google.android.apps.gsa.shared.util.c.aj.a(PG:2)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.l(PG:3)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.cancel(PG:8)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.m(PG:2)\r\n                                                                                                    \tat com.google.common.util.concurrent.c.a(PG:1)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.l(PG:3)\r\n                                                                                                    \tat com.google.common.util.concurrent.d.cancel(PG:8)\r\n                                                                                                    \tat com.google.android.apps.gsa.s3.o.c(PG:2)\r\n                                                                                                    \tat com.google.android.apps.gsa.s3.r.a(PG:1)\r\n                                                                                                    \tat com.google.android.apps.gsa.staticplugins.dc.a.c.e(PG:2)\r\n                                                                                                    \tat com.google.android.apps.gsa.staticplugins.dc.a.c.c(PG:3)\r\n                                                                                                    \tat com.google.android.apps.gsa.staticplugins.dc.a.e.a(PG:5)\r\n                                                                                                    \tat com.google.android.apps.gsa.s3.n.hh(PG:1)\r\n                                                                                                    \tat com.google.cd.g.a.f.e(PG:2)\r\n                                                                                                    \tat com.google.android.apps.gsa.speech.k.a.g.d(PG:22)\r\n                                                                                                    \tat com.google.android.apps.gsa.speech.k.a.g.ks(PG:6)\r\n                                                                                                    \tat com.google.android.apps.gsa.s3.o.e(PG:14)\r\n                                                                                                    \tat com.google.android.apps.gsa.s3.p.run(PG:1)\r\n                                                                                                    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:487)\r\n                                                                                                    \tat java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n                                                                                                    \tat com.google.android.apps.gsa.shared.util.c.a.e.run(PG:2)\r\n                                                                                                    \tat com.google.android.apps.gsa.shared.util.c.a.bi.run(PG:1)\r\n                                                                                                    \tat com.google.android.apps.gsa.shared.util.c.a.bi.run(PG:1)\r\n                                                                                                    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n                                                                                                    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:644)\r\n                                                                                                    \tat java.lang.Thread.run(Thread.java:1012)\r\n                                                                                                    \tat com.google.android.apps.gsa.shared.util.c.a.l.run(PG:5)\r\n2023-09-07 14:58:40.243   621-8752  GnssPsdsDownloader      system_server                        E  No Long-Term PSDS servers were specified in the GnssConfiguration\r\n2023-09-07 15:00:00.106  8754-8754  ndroid.settings         pid-8754                             E  Not starting debugger since process cannot load the jdwp agent.\r\n2023-09-07 15:00:00.602   621-672   system_server           system_server                        E  Cannot read thread CPU times for PID 621\r\n2023-09-07 15:00:24.191  8419-8439  SingleInst...teListener com.android.systemui                 E  Failed remote call on null listener\r\n2023-09-07 15:00:24.994  8419-8453  OpenGLRenderer          com.android.systemui                 E  Unable to match the desired swap behavior.\r\n2023-09-07 15:00:26.026  8490-8526  OpenGLRenderer          com...le.android.apps.nexuslauncher  E  Unable to match the desired swap behavior.\r\n2023-09-07 15:00:27.888  7824-8845  OpenGLRenderer          com....android.googlequicksearchbox  E  Unable to match the desired swap behavior.\r\n2023-09-07 15:00:28.357  8822-8849  OpenGLRenderer          com.project.bt                   E  Unable to match the desired swap behavior.\r\n2023-09-07 15:00:28.388   621-4563  TaskPersister           system_server                        E  File error accessing recents directory (directory doesn&#39;t exist?).\r\n2023-09-07 15:00:28.830  8419-8453  OpenGLRenderer          com.android.systemui                 E  Unable to match the desired swap behavior.\r\n2023-09-07 15:00:28.956  8490-8526  FrameEvents             com...le.android.apps.nexuslauncher  E  updateAcquireFence: Did not find frame.\r\n2023-09-07 15:00:30.005  8868-8868  .apps.wallpaper         pid-8868                             E  Not starting debugger since process cannot load the jdwp agent.\r\n2023-09-07 15:00:30.733  8490-8526  FrameEvents             com...le.android.apps.nexuslauncher  E  updateAcquireFence: Did not find frame.\r\n2023-09-07 15:00:37.365  8822-8976  .project.bt         com.project.bt                   E  Attempt to load writable dex file: /data/local/tmp/perfd/sqlite-inspection.jar\r\n2023-09-07 15:00:37.366  8822-8977  .project.bt         com.project.bt                   E  Attempt to load writable dex file: /data/local/tmp/perfd/backgroundtask-inspection.jar\r\n2023-09-07 15:00:37.370  8822-8978  .project.bt         com.project.bt                   E  Attempt to load writable dex file: /data/local/tmp/perfd/network-inspector.jar\r\n\r\n```\r\n","title":"APP in Java not responding when enabling Bluetooth in a device in Android Studio","body":"<p>I'm trying to design a simple Application in Java in Android Studio to enable Bluetooth on the phone.</p>\n<p>Basically, I have two buttons (to enable and disable the Bluetooth).</p>\n<p>I've tried to use the new way of implementing <code>startActivityForResult</code> as this method is being deprecated.</p>\n<p>I'm quite new at Java and not sure how I may debug the code properly in Android Studio. However, the app is not responding to the <code>ON</code> button and it's close when click on <code>OFF</code> button.</p>\n<p>Most probably is there an error on the code but cannot see where.</p>\n<p>MainActivity.java</p>\n<pre><code>package com.project.btseat;\nimport android.Manifest;\n\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.core.app.ActivityCompat;\n\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.bluetooth.BluetoothAdapter;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button ON;\n    Button OFF;\n    BluetoothAdapter myBluetoothAdapter;\n\n    Intent btEnablingIntent;\n\n    int requestCodeForEnable;\n\n    Log log = null;\n\n    private ActivityResultContracts.RequestMultiplePermissions multiplePermissionsContract;\n    private ActivityResultLauncher&lt;String[]&gt; multiplePermissionLauncher;\n\n    final String[] PERMISSIONS = {\n            Manifest.permission.BLUETOOTH,\n            Manifest.permission.BLUETOOTH_CONNECT,\n            Manifest.permission.BLUETOOTH_ADMIN,\n            Manifest.permission.BLUETOOTH_SCAN,\n            Manifest.permission.BLUETOOTH_ADVERTISE\n    };\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ON = (Button) findViewById(R.id.btON);\n        OFF = (Button) findViewById(R.id.btOFF);\n        myBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n        btEnablingIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n        requestCodeForEnable = 100;\n\n        multiplePermissionsContract = new ActivityResultContracts.RequestMultiplePermissions();\n        multiplePermissionLauncher = registerForActivityResult(multiplePermissionsContract, isGranted -&gt; {\n            Log.d(&quot;PERMISSIONS&quot;, &quot;Launcher result: &quot; + isGranted.toString());\n            if (isGranted.containsValue(false)) {\n                Log.d(&quot;PERMISSIONS&quot;, &quot;At least one of the permissions was not granted, launching again...&quot;);\n                multiplePermissionLauncher.launch(PERMISSIONS);\n            }\n        });\n\n        askPermissions(multiplePermissionLauncher);\n        bluetoothONMethod();\n        bluetoothOFFMethod();\n\n\n    }\n\n    private void askPermissions(ActivityResultLauncher&lt;String[]&gt; multiplePermissionLauncher){\n        if (!hasPermissions(PERMISSIONS)) {\n            log.d(&quot;PERMISSIONS&quot;, &quot;Launching multiple contract permission launcher for ALL required permissions&quot;);\n            multiplePermissionLauncher.launch(PERMISSIONS);\n        } else {\n            Log.d(&quot;PERMISSIONS&quot;, &quot;All permissions are already granted&quot;);\n        }\n    }\n    private boolean hasPermissions(String[] permissions) {\n        if (permissions != null){\n            for (String permission : permissions) {\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, permission) != PackageManager.PERMISSION_GRANTED) {\n                    Log.d(&quot;PERMISSIONS&quot;, &quot;Permission is not granted: &quot; + permission);\n                }\n                return false;\n            }\n        return true;\n        }\n        return true;\n    }\n\n    private ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            result -&gt; {\n                if (result.getResultCode() == Activity.RESULT_OK) {\n                    Toast.makeText(getApplicationContext(), &quot;Bluetooth is Enabled&quot;, Toast.LENGTH_LONG).show();\n                } else if (result.getResultCode() == Activity.RESULT_CANCELED) {\n                    Toast.makeText(getApplicationContext(), &quot;Bluetooth Enabling Cancelled&quot;, Toast.LENGTH_LONG).show();\n                }\n            });\n    @SuppressLint(&quot;MissingPermission&quot;)\n    private void bluetoothOFFMethod() {\n        OFF.setOnClickListener(v -&gt; {\n            if (myBluetoothAdapter.isEnabled()) {\n                myBluetoothAdapter.disable();\n            }\n        });\n    }\n\n    private void bluetoothONMethod(){\n        ON.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (myBluetoothAdapter==null){\n                    Toast.makeText(getApplicationContext(),&quot;Bluetooth Adapter does not support on this device&quot;,Toast.LENGTH_LONG).show();\n                }else{\n                    if(!myBluetoothAdapter.isEnabled()){\n                      someActivityResultLauncher.launch(btEnablingIntent);\n                    }\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>AndroidManifest.xml (relevant permissions)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n     &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_BLUETOOTH_SCAN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;true&quot;/&gt;\n\n\n...\n</code></pre>\n<p>logcat logs:</p>\n<pre><code>2023-09-07 14:55:27.962  7824-8060  cr_CronetU...estContext com....android.googlequicksearchbox  E  Exception in upload method\n                                                                                                    com.google.android.apps.gsa.shared.r.d: Error code: 262182\n                                                                                                        at com.google.android.apps.gsa.shared.ab.bk.d(PG:5)\n                                                                                                        at com.google.android.libraries.gsa.c.a.ar.d(PG:1)\n                                                                                                        at com.google.android.libraries.gsa.c.a.bo.b(PG:5)\n                                                                                                        at com.google.android.libraries.gsa.c.a.e.a(PG:2)\n                                                                                                        at com.google.android.libraries.gsa.c.a.a.run(PG:2)\n                                                                                                        at com.google.common.util.concurrent.bf.execute(PG:1)\n                                                                                                        at com.google.common.util.concurrent.d.i(PG:1)\n                                                                                                        at com.google.common.util.concurrent.d.l(PG:12)\n                                                                                                        at com.google.common.util.concurrent.d.cancel(PG:8)\n                                                                                                        at com.google.common.util.concurrent.d.m(PG:2)\n                                                                                                        at com.google.common.util.concurrent.j.a(PG:1)\n                                                                                                        at com.google.common.util.concurrent.d.l(PG:3)\n                                                                                                        at com.google.common.util.concurrent.d.cancel(PG:8)\n                                                                                                        at com.google.common.util.concurrent.d.m(PG:2)\n                                                                                                        at com.google.common.util.concurrent.j.a(PG:1)\n                                                                                                        at com.google.common.util.concurrent.d.l(PG:3)\n                                                                                                        at com.google.common.util.concurrent.d.cancel(PG:8)\n                                                                                                        at com.google.common.util.concurrent.d.m(PG:2)\n                                                                                                        at com.google.common.util.concurrent.j.a(PG:1)\n                                                                                                        at com.google.common.util.concurrent.d.l(PG:3)\n                                                                                                        at com.google.common.util.concurrent.d.cancel(PG:8)\n                                                                                                        at com.google.common.util.concurrent.d.m(PG:2)\n                                                                                                        at com.google.common.util.concurrent.j.a(PG:1)\n                                                                                                        at com.google.common.util.concurrent.d.l(PG:3)\n                                                                                                        at com.google.common.util.concurrent.d.cancel(PG:8)\n                                                                                                        at com.google.common.util.concurrent.d.m(PG:2)\n                                                                                                        at com.google.common.util.concurrent.c.a(PG:1)\n                                                                                                        at com.google.common.util.concurrent.d.l(PG:3)\n                                                                                                        at com.google.common.util.concurrent.d.cancel(PG:8)\n                                                                                                        at com.google.common.util.concurrent.bu.cancel(PG:1)\n                                                                                                        at com.google.common.util.concurrent.d.cancel(PG:17)\n                                                                                                        at com.google.android.apps.gsa.staticplugins.bk.b.h.run(PG:2)\n                                                                                                        at com.google.common.util.concurrent.bf.execute(PG:1)\n                                                                                                        at com.google.common.util.concurrent.d.i(PG:1)\n                                                                                                        at com.google.common.util.concurrent.d.l(PG:12)\n                                                                                                        at com.google.common.util.concurrent.d.cancel(PG:8)\n                                                                                                        at com.google.common.util.concurrent.d.m(PG:2)\n                                                                                                        at com.google.common.util.concurrent.j.a(PG:1)\n                                                                                                        at com.google.common.util.concurrent.d.l(PG:3)\n                                                                                                        at com.google.common.util.concurrent.d.cancel(PG:8)\n                                                                                                        at com.google.android.apps.gsa.shared.util.c.aj.a(PG:2)\n                                                                                                        at com.google.common.util.concurrent.d.l(PG:3)\n                                                                                                        at com.google.common.util.concurrent.d.cancel(PG:8)\n                                                                                                        at com.google.common.util.concurrent.d.m(PG:2)\n                                                                                                        at com.google.common.util.concurrent.c.a(PG:1)\n                                                                                                        at com.google.common.util.concurrent.d.l(PG:3)\n                                                                                                        at com.google.common.util.concurrent.d.cancel(PG:8)\n                                                                                                        at com.google.android.apps.gsa.s3.o.c(PG:2)\n                                                                                                        at com.google.android.apps.gsa.s3.r.a(PG:1)\n                                                                                                        at com.google.android.apps.gsa.staticplugins.dc.a.c.e(PG:2)\n                                                                                                        at com.google.android.apps.gsa.staticplugins.dc.a.c.c(PG:3)\n                                                                                                        at com.google.android.apps.gsa.staticplugins.dc.a.e.a(PG:5)\n                                                                                                        at com.google.android.apps.gsa.s3.n.hh(PG:1)\n                                                                                                        at com.google.cd.g.a.f.e(PG:2)\n                                                                                                        at com.google.android.apps.gsa.speech.k.a.g.d(PG:22)\n                                                                                                        at com.google.android.apps.gsa.speech.k.a.g.ks(PG:6)\n                                                                                                        at com.google.android.apps.gsa.s3.o.e(PG:14)\n                                                                                                        at com.google.android.apps.gsa.s3.p.run(PG:1)\n                                                                                                        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:487)\n                                                                                                        at java.util.concurrent.FutureTask.run(FutureTask.java:264)\n                                                                                                        at com.google.android.apps.gsa.shared.util.c.a.e.run(PG:2)\n                                                                                                        at com.google.android.apps.gsa.shared.util.c.a.bi.run(PG:1)\n                                                                                                        at com.google.android.apps.gsa.shared.util.c.a.bi.run(PG:1)\n                                                                                                        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n                                                                                                        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:644)\n                                                                                                        at java.lang.Thread.run(Thread.java:1012)\n                                                                                                        at com.google.android.apps.gsa.shared.util.c.a.l.run(PG:5)\n2023-09-07 14:58:40.243   621-8752  GnssPsdsDownloader      system_server                        E  No Long-Term PSDS servers were specified in the GnssConfiguration\n2023-09-07 15:00:00.106  8754-8754  ndroid.settings         pid-8754                             E  Not starting debugger since process cannot load the jdwp agent.\n2023-09-07 15:00:00.602   621-672   system_server           system_server                        E  Cannot read thread CPU times for PID 621\n2023-09-07 15:00:24.191  8419-8439  SingleInst...teListener com.android.systemui                 E  Failed remote call on null listener\n2023-09-07 15:00:24.994  8419-8453  OpenGLRenderer          com.android.systemui                 E  Unable to match the desired swap behavior.\n2023-09-07 15:00:26.026  8490-8526  OpenGLRenderer          com...le.android.apps.nexuslauncher  E  Unable to match the desired swap behavior.\n2023-09-07 15:00:27.888  7824-8845  OpenGLRenderer          com....android.googlequicksearchbox  E  Unable to match the desired swap behavior.\n2023-09-07 15:00:28.357  8822-8849  OpenGLRenderer          com.project.bt                   E  Unable to match the desired swap behavior.\n2023-09-07 15:00:28.388   621-4563  TaskPersister           system_server                        E  File error accessing recents directory (directory doesn't exist?).\n2023-09-07 15:00:28.830  8419-8453  OpenGLRenderer          com.android.systemui                 E  Unable to match the desired swap behavior.\n2023-09-07 15:00:28.956  8490-8526  FrameEvents             com...le.android.apps.nexuslauncher  E  updateAcquireFence: Did not find frame.\n2023-09-07 15:00:30.005  8868-8868  .apps.wallpaper         pid-8868                             E  Not starting debugger since process cannot load the jdwp agent.\n2023-09-07 15:00:30.733  8490-8526  FrameEvents             com...le.android.apps.nexuslauncher  E  updateAcquireFence: Did not find frame.\n2023-09-07 15:00:37.365  8822-8976  .project.bt         com.project.bt                   E  Attempt to load writable dex file: /data/local/tmp/perfd/sqlite-inspection.jar\n2023-09-07 15:00:37.366  8822-8977  .project.bt         com.project.bt                   E  Attempt to load writable dex file: /data/local/tmp/perfd/backgroundtask-inspection.jar\n2023-09-07 15:00:37.370  8822-8978  .project.bt         com.project.bt                   E  Attempt to load writable dex file: /data/local/tmp/perfd/network-inspector.jar\n\n</code></pre>\n"},{"tags":["java","apache-kafka","quarkus"],"comments":[{"owner":{"account_id":13996510,"reputation":400,"user_id":10109156,"display_name":"tornadoradon"},"score":1,"creation_date":1682527374,"post_id":76113041,"comment_id":134231616,"body_markdown":"so, what&#39;s the problem?","body":"so, what&#39;s the problem?"},{"owner":{"account_id":22140032,"reputation":23,"user_id":16390219,"display_name":"Andrew Samoilov"},"score":0,"creation_date":1682576832,"post_id":76113041,"comment_id":134238356,"body_markdown":"is it possible to transfer values ​​from the config in quarkus, as in spring?","body":"is it possible to transfer values ​​from the config in quarkus, as in spring?"},{"owner":{"account_id":13996510,"reputation":400,"user_id":10109156,"display_name":"tornadoradon"},"score":0,"creation_date":1682579942,"post_id":76113041,"comment_id":134238985,"body_markdown":"No I meant that have you tried it, why it didn’t work?","body":"No I meant that have you tried it, why it didn’t work?"}],"answers":[{"tags":[],"owner":{"account_id":2012150,"reputation":339,"user_id":1800344,"display_name":"gna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682582776,"creation_date":1682582776,"answer_id":76118136,"question_id":76113041,"body_markdown":"You have to provide the &#39;channel name&#39; instead of the &#39;topic name&#39; in your @Incoming annotation.\r\n\r\nYour java code would look like this:\r\n\r\n    @ApplicationScoped\r\n    public class Consumer {\r\n    \r\n       @Incoming(&quot;your-custom-channel-name&quot;)\r\n       public void consume(String s) {\r\n          Log.info(s);\r\n       }\r\n    }\r\n\r\nTo be honest, I&#39;ve never used the yml format, just the application.properties file. Here you would define the channel with each of its properties (like the topic):\r\n\r\n    mp.messaging.incoming.your-custom-channel-name.topic=your-topic-name\r\n    mp.messaging.incoming.your-custom-channel-name.auto.offset.reset=earliest\r\n    mp.messaging.incoming.your-custom-channel-name.group.id=${quarkus.kafka-streams.application-id}-my-private-group-id\r\n\r\nI assume that if you would try to reformat this into your yml file, it would look like this (not tested):\r\n\r\n    mp:\r\n      messaging:\r\n        incoming: \r\n          your-custom-channel-name:\r\n            topic: your-topic-name\r\n            auto:\r\n              offset:\r\n                reset: earliest\r\n            group:\r\n              id: ${quarkus.kafka-streams.application-id}-my-private-group-id\r\n\r\n\r\nFollowing this guide on the Quarkus website would give you a step-by-step approach on how to do this: [Reactive messaging with Kafka][1]\r\n\r\n\r\n  [1]: https://quarkus.io/guides/kafka-reactive-getting-started","title":"Quarkus kafka set topic name from config file","body":"<p>You have to provide the 'channel name' instead of the 'topic name' in your @Incoming annotation.</p>\n<p>Your java code would look like this:</p>\n<pre><code>@ApplicationScoped\npublic class Consumer {\n\n   @Incoming(&quot;your-custom-channel-name&quot;)\n   public void consume(String s) {\n      Log.info(s);\n   }\n}\n</code></pre>\n<p>To be honest, I've never used the yml format, just the application.properties file. Here you would define the channel with each of its properties (like the topic):</p>\n<pre><code>mp.messaging.incoming.your-custom-channel-name.topic=your-topic-name\nmp.messaging.incoming.your-custom-channel-name.auto.offset.reset=earliest\nmp.messaging.incoming.your-custom-channel-name.group.id=${quarkus.kafka-streams.application-id}-my-private-group-id\n</code></pre>\n<p>I assume that if you would try to reformat this into your yml file, it would look like this (not tested):</p>\n<pre><code>mp:\n  messaging:\n    incoming: \n      your-custom-channel-name:\n        topic: your-topic-name\n        auto:\n          offset:\n            reset: earliest\n        group:\n          id: ${quarkus.kafka-streams.application-id}-my-private-group-id\n</code></pre>\n<p>Following this guide on the Quarkus website would give you a step-by-step approach on how to do this: <a href=\"https://quarkus.io/guides/kafka-reactive-getting-started\" rel=\"nofollow noreferrer\">Reactive messaging with Kafka</a></p>\n"}],"owner":{"account_id":22140032,"reputation":23,"user_id":16390219,"display_name":"Andrew Samoilov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76118136,"answer_count":1,"score":2,"last_activity_date":1694118994,"creation_date":1682526254,"question_id":76113041,"body_markdown":"When I want to configure the customer and specify the name of the topic, it is not possible to specify this name from the config, as, for example, it was done using spring\r\n\r\nQuarkus:\r\n\r\n```\r\n@ApplicationScoped\r\npublic class Consumer {\r\n    \r\n    @Incoming(&quot;topic-name&quot;)  //is it possible to pass the value from the config here?\r\n    public void consume(String s) {\r\n        Log.info(s);\r\n    }\r\n}\r\n```\r\n\r\nin spring it would look like this\r\n\r\n\r\n    @Incoming(&quot;${topic.name}&quot;)  \r\n\r\n\r\n\r\n\r\napplication.yml\r\n\r\n\r\n```\r\ntopic:\r\n   name: topic-name\r\n\r\n```\r\n\r\nIs it possible to transfer the value from the config to the `@Incoming(&quot;value&quot;)` annotation in Quarkus?","title":"Quarkus kafka set topic name from config file","body":"<p>When I want to configure the customer and specify the name of the topic, it is not possible to specify this name from the config, as, for example, it was done using spring</p>\n<p>Quarkus:</p>\n<pre><code>@ApplicationScoped\npublic class Consumer {\n    \n    @Incoming(&quot;topic-name&quot;)  //is it possible to pass the value from the config here?\n    public void consume(String s) {\n        Log.info(s);\n    }\n}\n</code></pre>\n<p>in spring it would look like this</p>\n<pre><code>@Incoming(&quot;${topic.name}&quot;)  \n</code></pre>\n<p>application.yml</p>\n<pre><code>topic:\n   name: topic-name\n\n</code></pre>\n<p>Is it possible to transfer the value from the config to the <code>@Incoming(&quot;value&quot;)</code> annotation in Quarkus?</p>\n"},{"tags":["java","cryptography","bouncycastle","fips"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1660222239,"post_id":73277399,"comment_id":129485101,"body_markdown":"Note that you may get better info from the dev mailing list of Bouncy Castle, or of course by acquiring support. Don&#39;t forget to self answer if you get any information that way.","body":"Note that you may get better info from the dev mailing list of Bouncy Castle, or of course by acquiring support. Don&#39;t forget to self answer if you get any information that way."}],"answers":[{"tags":[],"owner":{"account_id":6254221,"reputation":829,"user_id":4863347,"display_name":"Charlie Reitzel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694118611,"creation_date":1694116799,"answer_id":77062524,"question_id":73277399,"body_markdown":"I&#39;m experiencing errors in `BouncyCastleProvider` constructor when a 3rd party library (mockserver in unit tests) tries to add the provider. \r\n\r\nFwiw, I do see some external dependencies in `bc-fips`, specifically on `org.bouncycastle.jce.interfaces.PKCS12BagAttributeCarrier`. I had to add `bcprov-jdk18on` as a dependency. Perhaps there is a work-alike interface in `bc-fips` I can use instead?\r\n\r\nPKCS#12 is not supported by `bc-fips`:\r\nhttps://stackoverflow.com/questions/65224438/pkcs12-bouncy-castle-fips-mode","title":"Potential issues of using the FIPS and non-FIPS versions of the BouncyCastle library in the same project","body":"<p>I'm experiencing errors in <code>BouncyCastleProvider</code> constructor when a 3rd party library (mockserver in unit tests) tries to add the provider.</p>\n<p>Fwiw, I do see some external dependencies in <code>bc-fips</code>, specifically on <code>org.bouncycastle.jce.interfaces.PKCS12BagAttributeCarrier</code>. I had to add <code>bcprov-jdk18on</code> as a dependency. Perhaps there is a work-alike interface in <code>bc-fips</code> I can use instead?</p>\n<p>PKCS#12 is not supported by <code>bc-fips</code>:\n<a href=\"https://stackoverflow.com/questions/65224438/pkcs12-bouncy-castle-fips-mode\">PKCS12 - Bouncy Castle FIPS Mode</a></p>\n"}],"owner":{"account_id":236285,"reputation":171,"user_id":503660,"display_name":"FahimH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1694118611,"creation_date":1659959275,"question_id":73277399,"body_markdown":"I&#39;m working on a project where the BouncyCastle Crypto package (non-FIPS) is a dependency of some other 3rd party library. My task is to integrate the BouncyCastle FIPS library to use in our own code. However, the documentation (BC FIPS in 100 mini-book) at https://www.bouncycastle.org/fips-java/BCFipsIn100.pdf, page 11 says:\r\n\r\n&gt; The provider jar itself has no external dependencies, but it cannot be\r\n&gt; used in the same JVM as the regular Bouncy Castle provider. The\r\n&gt; classes in the two jar files do not get along.\r\n\r\nI searched for more info on this but didn&#39;t really find anything useful.\r\n\r\nI&#39;ve also checked https://github.com/bcgit/bc-java/issues/714, and SpongyCastle is not suitable for our use-case.\r\n\r\nMy project seems to be working so far with both the FIPS (bc-fips-1.0.2.3.jar) and non-FIPS (bcprov-jdk15on-1.64.jar) jars being present.\r\n\r\nSo my question is, what exactly should I expect to go wrong if both the FIPS and non-FIPS jars are present in the project?\r\n\r\nNote that my project doesn&#39;t need to be FIPS compliant per se, just has to provide the user an option to use FIPS compliant cryptography.","title":"Potential issues of using the FIPS and non-FIPS versions of the BouncyCastle library in the same project","body":"<p>I'm working on a project where the BouncyCastle Crypto package (non-FIPS) is a dependency of some other 3rd party library. My task is to integrate the BouncyCastle FIPS library to use in our own code. However, the documentation (BC FIPS in 100 mini-book) at <a href=\"https://www.bouncycastle.org/fips-java/BCFipsIn100.pdf\" rel=\"nofollow noreferrer\">https://www.bouncycastle.org/fips-java/BCFipsIn100.pdf</a>, page 11 says:</p>\n<blockquote>\n<p>The provider jar itself has no external dependencies, but it cannot be\nused in the same JVM as the regular Bouncy Castle provider. The\nclasses in the two jar files do not get along.</p>\n</blockquote>\n<p>I searched for more info on this but didn't really find anything useful.</p>\n<p>I've also checked <a href=\"https://github.com/bcgit/bc-java/issues/714\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-java/issues/714</a>, and SpongyCastle is not suitable for our use-case.</p>\n<p>My project seems to be working so far with both the FIPS (bc-fips-1.0.2.3.jar) and non-FIPS (bcprov-jdk15on-1.64.jar) jars being present.</p>\n<p>So my question is, what exactly should I expect to go wrong if both the FIPS and non-FIPS jars are present in the project?</p>\n<p>Note that my project doesn't need to be FIPS compliant per se, just has to provide the user an option to use FIPS compliant cryptography.</p>\n"},{"tags":["java","rest","arraylist","jax-rs","response"],"answers":[{"tags":[],"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1567153426,"creation_date":1567085595,"answer_id":57711361,"question_id":57710789,"body_markdown":"Make sure your resource method (or the entire resource class) is annotated either with:\r\n\r\n- `@Produces(&quot;applicaton/json&quot;)` or;\r\n- `@Produces(MediaType.APPLICATION_JSON)`.\r\n\r\nThen ensure you have a JSON provider, such as Jackson, in the classpath:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n  &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n&lt;/dependency&gt; \r\n```\r\n\r\nDepending on how the JAX-RS implementation is configured, adding the [`jackson-jaxrs-json-provider`][1] artifact to your classpath is enough to use Jackson as a JSON provider. Otherwise you need to register [`JacksonJsonProvider`][2].\r\n\r\n  [1]: https://github.com/FasterXML/jackson-jaxrs-providers\r\n  [2]: http://fasterxml.github.io/jackson-jaxrs-providers/javadoc/2.9/com/fasterxml/jackson/jaxrs/json/JacksonJsonProvider.html","title":"javax.ws.rs.core.Response with a collection as entity","body":"<p>Make sure your resource method (or the entire resource class) is annotated either with:</p>\n\n<ul>\n<li><code>@Produces(\"applicaton/json\")</code> or;</li>\n<li><code>@Produces(MediaType.APPLICATION_JSON)</code>.</li>\n</ul>\n\n<p>Then ensure you have a JSON provider, such as Jackson, in the classpath:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n  &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n\n<p>Depending on how the JAX-RS implementation is configured, adding the <a href=\"https://github.com/FasterXML/jackson-jaxrs-providers\" rel=\"nofollow noreferrer\"><code>jackson-jaxrs-json-provider</code></a> artifact to your classpath is enough to use Jackson as a JSON provider. Otherwise you need to register <a href=\"http://fasterxml.github.io/jackson-jaxrs-providers/javadoc/2.9/com/fasterxml/jackson/jaxrs/json/JacksonJsonProvider.html\" rel=\"nofollow noreferrer\"><code>JacksonJsonProvider</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":2843994,"reputation":81,"user_id":2442912,"display_name":"Hemang Rami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694118510,"creation_date":1694118510,"answer_id":77062674,"question_id":57710789,"body_markdown":"    // it is part of jerssy Glassfish\r\n    // when we have retuen type List&lt;object&gt;\r\n    // what is repsosne we return.\r\n    import jakarta.ws.rs.core.Response;\r\n    \r\n    public List&lt;EmpDTO&gt;  smaple test()\r\n    {\r\n    \t\tResponse getempresposne = null;\r\n    List&lt;EmpDTO&gt; getemplist = new ArrayList&lt;&gt;();\r\n             getemplist = getempresposne.readEntity(new GenericType&lt;List&lt;EmpDTO&gt;&gt;() {});\r\n    \r\n    }","title":"javax.ws.rs.core.Response with a collection as entity","body":"<pre><code>// it is part of jerssy Glassfish\n// when we have retuen type List&lt;object&gt;\n// what is repsosne we return.\nimport jakarta.ws.rs.core.Response;\n\npublic List&lt;EmpDTO&gt;  smaple test()\n{\n        Response getempresposne = null;\nList&lt;EmpDTO&gt; getemplist = new ArrayList&lt;&gt;();\n         getemplist = getempresposne.readEntity(new GenericType&lt;List&lt;EmpDTO&gt;&gt;() {});\n\n}\n</code></pre>\n"}],"owner":{"account_id":2796827,"reputation":2767,"user_id":2405914,"accept_rate":94,"display_name":"Leonardo Alves Machado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1676,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57711361,"answer_count":2,"score":0,"last_activity_date":1694118510,"creation_date":1567083633,"question_id":57710789,"body_markdown":"I have the following code:\r\n\r\n```java\r\n\t@GET\r\n\t@Path(&quot;v1/entity&quot;)\r\n\t@ApiOperation(\r\n\t\t\tvalue = &quot;List&quot;,\r\n\t\t\tnotes = &quot;Enables you to List.&quot;,\r\n\t\t\ttags = { &quot;List&quot; })\r\n\t@ApiImplicitParams(\r\n\t\t\t{\r\n\t\t\t\t@ApiImplicitParam(name = &quot;pageSize&quot;,\r\n\t\t\t\t\tvalue = &quot;Page Size&quot;,\r\n\t\t\t\t\tdataType = &quot;int&quot;,\r\n\t\t\t\t\tparamType = &quot;formData&quot;,\r\n\t\t\t\t\texample = &quot;50&quot;),\r\n\t\t\t\t@ApiImplicitParam(name = &quot;sortAscending&quot;,\r\n\t\t\t\t\tvalue = &quot;Sort Ascending&quot;,\r\n\t\t\t\t\tdataType = &quot;boolean&quot;,\r\n\t\t\t\t\tparamType = &quot;formData&quot;,\r\n\t\t\t\t\texample = &quot;false&quot;)\r\n\t\t\t})\r\n\tpublic Response list(@ApiParam(hidden = true) Integer pageSize,\r\n\t\t\t@ApiParam(hidden = true) Boolean sortAscending) {\r\n\t\tCollection&lt;EntityData&gt; dataCollection;\r\n\t\tif (pageSize == null || sortAscending == null || pageSize &lt;= 0) {\r\n\t\t\tdataCollection = storeController.list();\r\n\t\t} else {\r\n\t\t\tSortDirection sortDirection = sortAscending ? SortDirection.ASC : SortDirection.DESC;\r\n\t\t\tdataCollection= storeController.list(pageSize, sortDirection);\r\n\t\t}\r\n\t\tlogger.info(&quot;List contains {} elements&quot;, dataCollection.size());\r\n\t\tGenericEntity&lt;Collection&lt;EntityData&gt;&gt; response = new GenericEntity&lt;Collection&lt;EntityData&gt;&gt;(dataCollection){};\r\n\t\treturn Response.ok(response).build();\r\n\t\t//return ResponseEntity.ok(dataCollection);\r\n\t}\r\n```\r\n\r\nBoth methods from `storeController` object only return an `ArrayList` of EntityData, whose structure is below:\r\n\r\n```java\r\npublic class EntityData implements Serializable {\r\n\r\n\tprivate String document;\r\n\r\n\tprivate String validTo;\r\n\r\n\tprivate String validFrom;\r\n\r\n\tprivate String entityAlias;\r\n\r\n\tpublic String getDocument() {\r\n\t\treturn document;\r\n\t}\r\n\r\n\tpublic void setDocument(String document) {\r\n\t\tthis.document= document;\r\n\t}\r\n\r\n\tpublic String getValidTo() {\r\n\t\treturn validTo;\r\n\t}\r\n\r\n\tpublic void setValidTo(String validTo) {\r\n\t\tthis.validTo = validTo;\r\n\t}\r\n\r\n\tpublic String getValidFrom() {\r\n\t\treturn validFrom;\r\n\t}\r\n\r\n\tpublic void setValidFrom(String validFrom) {\r\n\t\tthis.validFrom = validFrom;\r\n\t}\r\n\r\n\tpublic String getEntityAlias() {\r\n\t\treturn entityAlias;\r\n\t}\r\n\r\n\tpublic void setEntityAlias(String entityAlias) {\r\n\t\tthis.entityAlias = entityAlias;\r\n\t}\r\n}\r\n```\r\n\r\nWhen I call the API, I get this error:\r\n\r\n    No message body writer has been found for class java.util.ArrayList, ContentType: */*\r\n\r\nI used [this as a reference](http://www.adam-bien.com/roller/abien/entry/jax_rs_returning_a_list), but it didn&#39;t work. I&#39;ve also tried to, instead of using `Response` to retrieve the contents, using `ResponseEntity&lt;Collection&lt;EntityData&gt;&gt;`, but the error persists. Just as using directly the &quot;`ArrayList`&quot; in the `Response` (without wrapping on `GenericEntity`).\r\n\r\nIf I change the last line to `return Response.ok().build();` it works, but I need the `Collection` to be retrieved... The `logger` indicates that the Collection has 9 elements when I run.\r\n\r\nI know I am missing something here, but I can&#39;t see it. Can you help me?","title":"javax.ws.rs.core.Response with a collection as entity","body":"<p>I have the following code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @GET\n    @Path(\"v1/entity\")\n    @ApiOperation(\n            value = \"List\",\n            notes = \"Enables you to List.\",\n            tags = { \"List\" })\n    @ApiImplicitParams(\n            {\n                @ApiImplicitParam(name = \"pageSize\",\n                    value = \"Page Size\",\n                    dataType = \"int\",\n                    paramType = \"formData\",\n                    example = \"50\"),\n                @ApiImplicitParam(name = \"sortAscending\",\n                    value = \"Sort Ascending\",\n                    dataType = \"boolean\",\n                    paramType = \"formData\",\n                    example = \"false\")\n            })\n    public Response list(@ApiParam(hidden = true) Integer pageSize,\n            @ApiParam(hidden = true) Boolean sortAscending) {\n        Collection&lt;EntityData&gt; dataCollection;\n        if (pageSize == null || sortAscending == null || pageSize &lt;= 0) {\n            dataCollection = storeController.list();\n        } else {\n            SortDirection sortDirection = sortAscending ? SortDirection.ASC : SortDirection.DESC;\n            dataCollection= storeController.list(pageSize, sortDirection);\n        }\n        logger.info(\"List contains {} elements\", dataCollection.size());\n        GenericEntity&lt;Collection&lt;EntityData&gt;&gt; response = new GenericEntity&lt;Collection&lt;EntityData&gt;&gt;(dataCollection){};\n        return Response.ok(response).build();\n        //return ResponseEntity.ok(dataCollection);\n    }\n</code></pre>\n\n<p>Both methods from <code>storeController</code> object only return an <code>ArrayList</code> of EntityData, whose structure is below:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class EntityData implements Serializable {\n\n    private String document;\n\n    private String validTo;\n\n    private String validFrom;\n\n    private String entityAlias;\n\n    public String getDocument() {\n        return document;\n    }\n\n    public void setDocument(String document) {\n        this.document= document;\n    }\n\n    public String getValidTo() {\n        return validTo;\n    }\n\n    public void setValidTo(String validTo) {\n        this.validTo = validTo;\n    }\n\n    public String getValidFrom() {\n        return validFrom;\n    }\n\n    public void setValidFrom(String validFrom) {\n        this.validFrom = validFrom;\n    }\n\n    public String getEntityAlias() {\n        return entityAlias;\n    }\n\n    public void setEntityAlias(String entityAlias) {\n        this.entityAlias = entityAlias;\n    }\n}\n</code></pre>\n\n<p>When I call the API, I get this error:</p>\n\n<pre><code>No message body writer has been found for class java.util.ArrayList, ContentType: */*\n</code></pre>\n\n<p>I used <a href=\"http://www.adam-bien.com/roller/abien/entry/jax_rs_returning_a_list\" rel=\"nofollow noreferrer\">this as a reference</a>, but it didn't work. I've also tried to, instead of using <code>Response</code> to retrieve the contents, using <code>ResponseEntity&lt;Collection&lt;EntityData&gt;&gt;</code>, but the error persists. Just as using directly the \"<code>ArrayList</code>\" in the <code>Response</code> (without wrapping on <code>GenericEntity</code>).</p>\n\n<p>If I change the last line to <code>return Response.ok().build();</code> it works, but I need the <code>Collection</code> to be retrieved... The <code>logger</code> indicates that the Collection has 9 elements when I run.</p>\n\n<p>I know I am missing something here, but I can't see it. Can you help me?</p>\n"},{"tags":["java","spring","google-api","google-oauth"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1508888739,"post_id":46921518,"comment_id":80790734,"body_markdown":"A JSON file isn&#39;t a properties file. You seem to be mixing up various configuration systems. Show more code, specifically how you&#39;re instantiating whatever&#39;s throwing that exception, and we may be able to guide you on how to inject the value.","body":"A JSON file isn&#39;t a properties file. You seem to be mixing up various configuration systems. Show more code, specifically how you&#39;re instantiating whatever&#39;s throwing that exception, and we may be able to guide you on how to inject the value."},{"owner":{"account_id":6064888,"reputation":1355,"user_id":4735549,"accept_rate":69,"display_name":"DanielD"},"score":0,"creation_date":1508889595,"post_id":46921518,"comment_id":80790941,"body_markdown":"ok, thanks for the comment. I think the google doc on how to use these properties says to set the environment variable to point to the json file though: https://developers.google.com/identity/protocols/application-default-credentials","body":"ok, thanks for the comment. I think the google doc on how to use these properties says to set the environment variable to point to the json file though: <a href=\"https://developers.google.com/identity/protocols/application-default-credentials\" rel=\"nofollow noreferrer\">developers.google.com/identity/protocols/&hellip;</a>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1508891084,"post_id":46921518,"comment_id":80791286,"body_markdown":"Okay, that&#39;s different from setting something in `application.properties`. Spring Boot has a really useful system that lets you compile configuration properties from several sources (files, command line, environment variables), but a non-Spring component that says it needs an environment variable needs a real environment variable (unless there&#39;s a constructor that takes the file argument, which it *should* have, but not all library authors are so wise).","body":"Okay, that&#39;s different from setting something in <code>application.properties</code>. Spring Boot has a really useful system that lets you compile configuration properties from several sources (files, command line, environment variables), but a non-Spring component that says it needs an environment variable needs a real environment variable (unless there&#39;s a constructor that takes the file argument, which it <i>should</i> have, but not all library authors are so wise)."}],"answers":[{"tags":[],"owner":{"account_id":3648149,"reputation":2060,"user_id":3040886,"accept_rate":20,"display_name":"Ronny Shibley"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1533381934,"creation_date":1533381934,"answer_id":51685116,"question_id":46921518,"body_markdown":"You need to set the shell variable. Run this command before mvn run. \r\n\r\n    export GOOGLE_APPLICATION_CREDENTIALS=&quot;/Users/ronnyshibley/Dev/eddress-service-key.json&quot;","title":"How to set GOOGLE_APPLICATION_CREDENTIALS in spring boot app","body":"<p>You need to set the shell variable. Run this command before mvn run. </p>\n\n<pre><code>export GOOGLE_APPLICATION_CREDENTIALS=\"/Users/ronnyshibley/Dev/eddress-service-key.json\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1655959,"reputation":566,"user_id":1525529,"accept_rate":50,"display_name":"Neill"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1632629475,"creation_date":1590752012,"answer_id":62085016,"question_id":46921518,"body_markdown":"I was able to configure this property using Spring Cloud GCP spring-cloud-gcp-starter-data-datastore, creating a service account project owner, copy the JSON private key to the main resources directory, and setting the following properties in the application.properties \r\n\r\n    spring.cloud.gcp.project-id=&lt;project-id&gt;\r\n    spring.cloud.gcp.credentials.location=classpath:&lt;credentials-private-key&gt;.json\r\n\r\nfrom the [documentation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-gcp/docs/1.1.0.M1/reference/html/spring-cloud-gcp-core.html\r\n\r\nYou can find the project id by visiting this page https://support.google.com/googleapi/answer/7014113?hl=en\r\nGo to the API Console.\r\n\r\nFrom the projects list, select Manage all projects. The names and IDs for all the projects you&#39;re a member of are displayed.\r\nYou can also select the project go the settings and see the project ID\r\n\r\n\r\n","title":"How to set GOOGLE_APPLICATION_CREDENTIALS in spring boot app","body":"<p>I was able to configure this property using Spring Cloud GCP spring-cloud-gcp-starter-data-datastore, creating a service account project owner, copy the JSON private key to the main resources directory, and setting the following properties in the application.properties</p>\n<pre><code>spring.cloud.gcp.project-id=&lt;project-id&gt;\nspring.cloud.gcp.credentials.location=classpath:&lt;credentials-private-key&gt;.json\n</code></pre>\n<p>from the <a href=\"https://docs.spring.io/spring-cloud-gcp/docs/1.1.0.M1/reference/html/spring-cloud-gcp-core.html\" rel=\"noreferrer\">documentation</a></p>\n<p>You can find the project id by visiting this page <a href=\"https://support.google.com/googleapi/answer/7014113?hl=en\" rel=\"noreferrer\">https://support.google.com/googleapi/answer/7014113?hl=en</a>\nGo to the API Console.</p>\n<p>From the projects list, select Manage all projects. The names and IDs for all the projects you're a member of are displayed.\nYou can also select the project go the settings and see the project ID</p>\n"},{"tags":[],"owner":{"account_id":11077346,"reputation":460,"user_id":8133649,"display_name":"Peter F"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619077240,"creation_date":1619077240,"answer_id":67208870,"question_id":46921518,"body_markdown":"You can use application properties, but you need to use a different StorageOptions builder.\r\n\r\nYou are probably using \r\n```\r\nprivate static Storage storage = StorageOptions.getDefaultInstance().getService(); \r\n```\r\n\r\nBut if you want to skip the environment variable you need to use:\r\n```\r\nCredentials credentials = GoogleCredentials\r\n  .fromStream(new FileInputStream(&quot;path/to/file&quot;));\r\nStorage storage = StorageOptions.newBuilder().setCredentials(credentials)\r\n  .setProjectId(&quot;my-project-id&quot;).build().getService();\r\n```\r\n\r\nNote that the default builder (using environment variables) is better if you are going to deploy your applications to cloud, because then this is automatically filled for you.","title":"How to set GOOGLE_APPLICATION_CREDENTIALS in spring boot app","body":"<p>You can use application properties, but you need to use a different StorageOptions builder.</p>\n<p>You are probably using</p>\n<pre><code>private static Storage storage = StorageOptions.getDefaultInstance().getService(); \n</code></pre>\n<p>But if you want to skip the environment variable you need to use:</p>\n<pre><code>Credentials credentials = GoogleCredentials\n  .fromStream(new FileInputStream(&quot;path/to/file&quot;));\nStorage storage = StorageOptions.newBuilder().setCredentials(credentials)\n  .setProjectId(&quot;my-project-id&quot;).build().getService();\n</code></pre>\n<p>Note that the default builder (using environment variables) is better if you are going to deploy your applications to cloud, because then this is automatically filled for you.</p>\n"},{"tags":[],"owner":{"account_id":8542165,"reputation":4447,"user_id":7663322,"display_name":"Akhilesh Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622015090,"creation_date":1622015090,"answer_id":67700605,"question_id":46921518,"body_markdown":"For authentication using the service account key, you can set the Environment Variable in your shell.\r\n\r\n    export GOOGLE_APPLICATION_CREDENTIALS=&quot;/Users/username/directory/service-key-file-name.json&quot;\r\n\r\nThen you need to start your IDE from the same session. I was stuck after exporting and setting up the environment variable and was still unable to use it.\r\n\r\nI tried quitting the current IDE window and restarted the IDE again from the same session.\r\nIn my case it was Intellij, so in the terminal itself, \r\n\r\n    cd project directory\r\n    idea .\r\n\r\nOr you can also add the environment variable in your bash profile and then source it.","title":"How to set GOOGLE_APPLICATION_CREDENTIALS in spring boot app","body":"<p>For authentication using the service account key, you can set the Environment Variable in your shell.</p>\n<pre><code>export GOOGLE_APPLICATION_CREDENTIALS=&quot;/Users/username/directory/service-key-file-name.json&quot;\n</code></pre>\n<p>Then you need to start your IDE from the same session. I was stuck after exporting and setting up the environment variable and was still unable to use it.</p>\n<p>I tried quitting the current IDE window and restarted the IDE again from the same session.\nIn my case it was Intellij, so in the terminal itself,</p>\n<pre><code>cd project directory\nidea .\n</code></pre>\n<p>Or you can also add the environment variable in your bash profile and then source it.</p>\n"},{"tags":[],"owner":{"account_id":369180,"reputation":1875,"user_id":716404,"display_name":"maruf571"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673044588,"creation_date":1673044588,"answer_id":75036720,"question_id":46921518,"body_markdown":"I have tried several ways to do this, and none of them worked. Maven plugin \r\n environmentVariables is the last thing that worked without any problem. \r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;fork&gt;true&lt;/fork&gt;\r\n                    &lt;executable&gt;true&lt;/executable&gt;\r\n                    &lt;environmentVariables&gt;\r\n                        &lt;GOOGLE_APPLICATION_CREDENTIALS&gt;/path/to/the/service-account.json&lt;/GOOGLE_APPLICATION_CREDENTIALS&gt;\r\n                    &lt;/environmentVariables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n","title":"How to set GOOGLE_APPLICATION_CREDENTIALS in spring boot app","body":"<p>I have tried several ways to do this, and none of them worked. Maven plugin\nenvironmentVariables is the last thing that worked without any problem.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;fork&gt;true&lt;/fork&gt;\n                &lt;executable&gt;true&lt;/executable&gt;\n                &lt;environmentVariables&gt;\n                    &lt;GOOGLE_APPLICATION_CREDENTIALS&gt;/path/to/the/service-account.json&lt;/GOOGLE_APPLICATION_CREDENTIALS&gt;\n                &lt;/environmentVariables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3295825,"reputation":2301,"user_id":2773112,"accept_rate":50,"display_name":"nkalra0123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676088768,"creation_date":1676088768,"answer_id":75418055,"question_id":46921518,"body_markdown":"You need to add env variable \r\n\r\n    GOOGLE_APPLICATION_CREDENTIALS=&lt;path to google project json file &gt;\r\n\r\nIf you are using IntelliJ idea, Edit the Project configuration and add the Environment variable \r\n\r\nFor images check this \r\n\r\n    \r\n\r\n&gt; https://www.twilio.com/blog/set-up-env-variables-intellij-idea-java","title":"How to set GOOGLE_APPLICATION_CREDENTIALS in spring boot app","body":"<p>You need to add env variable</p>\n<pre><code>GOOGLE_APPLICATION_CREDENTIALS=&lt;path to google project json file &gt;\n</code></pre>\n<p>If you are using IntelliJ idea, Edit the Project configuration and add the Environment variable</p>\n<p>For images check this</p>\n<blockquote>\n<p><a href=\"https://www.twilio.com/blog/set-up-env-variables-intellij-idea-java\" rel=\"nofollow noreferrer\">https://www.twilio.com/blog/set-up-env-variables-intellij-idea-java</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3006965,"reputation":4976,"user_id":2551287,"accept_rate":89,"display_name":"young-ceo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694118214,"creation_date":1694118214,"answer_id":77062653,"question_id":46921518,"body_markdown":"You can load your JSON key file like this:\r\n\r\n```java\r\n// Load the JSON key and create a TranslationServiceClient:\r\npublic TranslationServiceClient getTranslationClient() throws IOException {\r\n    InputStream credentialsStream = getClass().getResourceAsStream(&quot;/key.json&quot;);\r\n    Credentials credentials = GoogleCredentials.fromStream(credentialsStream);\r\n\r\n    TranslationServiceSettings settings = TranslationServiceSettings.newBuilder()\r\n            .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\r\n            .build();\r\n\r\n    return TranslationServiceClient.create(settings);\r\n}\r\n```\r\n\r\nAnd this is the usage:\r\n```java\r\n// Replace [YOUR_PROJECT_ID] with your Google Cloud Project ID\r\npublic void translateText() {\r\n    try (TranslationServiceClient client = getTranslationClient()) {\r\n        LocationName parent = LocationName.of(&quot;[YOUR_PROJECT_ID]&quot;, &quot;global&quot;);\r\n\r\n        TranslateTextRequest request = TranslateTextRequest.newBuilder()\r\n                .setParent(parent.toString())\r\n                .setMimeType(&quot;text/plain&quot;)\r\n                .setSourceLanguageCode(&quot;en-US&quot;)\r\n                .setTargetLanguageCode(&quot;es&quot;)\r\n                .addContents(&quot;Hello, World!&quot;)\r\n                .build();\r\n\r\n        TranslateTextResponse response = client.translateText(request);\r\n        String translatedText = response.getTranslationsList().get(0).getTranslatedText();\r\n        System.out.println(translatedText);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nRemember to be cautious with the key.json file. Ensure it isn&#39;t publicly accessible, as misuse can result in unexpected charges on your Google Cloud account.","title":"How to set GOOGLE_APPLICATION_CREDENTIALS in spring boot app","body":"<p>You can load your JSON key file like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Load the JSON key and create a TranslationServiceClient:\npublic TranslationServiceClient getTranslationClient() throws IOException {\n    InputStream credentialsStream = getClass().getResourceAsStream(&quot;/key.json&quot;);\n    Credentials credentials = GoogleCredentials.fromStream(credentialsStream);\n\n    TranslationServiceSettings settings = TranslationServiceSettings.newBuilder()\n            .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\n            .build();\n\n    return TranslationServiceClient.create(settings);\n}\n</code></pre>\n<p>And this is the usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Replace [YOUR_PROJECT_ID] with your Google Cloud Project ID\npublic void translateText() {\n    try (TranslationServiceClient client = getTranslationClient()) {\n        LocationName parent = LocationName.of(&quot;[YOUR_PROJECT_ID]&quot;, &quot;global&quot;);\n\n        TranslateTextRequest request = TranslateTextRequest.newBuilder()\n                .setParent(parent.toString())\n                .setMimeType(&quot;text/plain&quot;)\n                .setSourceLanguageCode(&quot;en-US&quot;)\n                .setTargetLanguageCode(&quot;es&quot;)\n                .addContents(&quot;Hello, World!&quot;)\n                .build();\n\n        TranslateTextResponse response = client.translateText(request);\n        String translatedText = response.getTranslationsList().get(0).getTranslatedText();\n        System.out.println(translatedText);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Remember to be cautious with the key.json file. Ensure it isn't publicly accessible, as misuse can result in unexpected charges on your Google Cloud account.</p>\n"}],"owner":{"account_id":6064888,"reputation":1355,"user_id":4735549,"accept_rate":69,"display_name":"DanielD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19101,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":7,"score":12,"last_activity_date":1694118214,"creation_date":1508887688,"question_id":46921518,"body_markdown":"I am attempting to use the google vision library in java. The steps specify that I need to setup my auth credentials in order to start using the [this][1] library . I was able to generate my json property file from API Console Credentials page and I placed it in my spring boot app in the resources folder.\r\n\r\nI think updated my application.properties file to include the value like so:\r\n\r\n    GOOGLE_APPLICATION_CREDENTIALS=datg-avatar-generator-9dc9155cd5bd.json\r\n\r\nI&#39;m also setting my property source in my controller like so:\r\n\r\n    @PropertySource(&quot;${GOOGLE_APPLICATION_CREDENTIALS}&quot;)\r\n\r\n\r\nHowever, after doing that I&#39;m still getting an error saying:\r\n\r\n    java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n\r\n\r\n  [1]: https://developers.google.com/identity/protocols/application-default-credentials","title":"How to set GOOGLE_APPLICATION_CREDENTIALS in spring boot app","body":"<p>I am attempting to use the google vision library in java. The steps specify that I need to setup my auth credentials in order to start using the <a href=\"https://developers.google.com/identity/protocols/application-default-credentials\" rel=\"noreferrer\">this</a> library . I was able to generate my json property file from API Console Credentials page and I placed it in my spring boot app in the resources folder.</p>\n\n<p>I think updated my application.properties file to include the value like so:</p>\n\n<pre><code>GOOGLE_APPLICATION_CREDENTIALS=datg-avatar-generator-9dc9155cd5bd.json\n</code></pre>\n\n<p>I'm also setting my property source in my controller like so:</p>\n\n<pre><code>@PropertySource(\"${GOOGLE_APPLICATION_CREDENTIALS}\")\n</code></pre>\n\n<p>However, after doing that I'm still getting an error saying:</p>\n\n<pre><code>java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\n</code></pre>\n"},{"tags":["java","spring-boot","google-cloud-storage"],"answers":[{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694094216,"creation_date":1694094216,"answer_id":77060161,"question_id":77059124,"body_markdown":"You can use byte streams to both read and write the file data in-memory instead of the file system:\r\n\r\n```\r\nByteArrayOutputStream stream = new ByteArrayOutputStream();\r\nOutputStreamWriter streamWriter = new OutputStreamWriter(stream);\r\nCSVWriter writer = new CSVWriter(streamWriter);\r\n\r\n// add data to writer and close\r\n\r\nBlobId blobId = BlobId.of(bucketName, someDerivedFilePath);\r\nBlobInfo blobInfo = BlobInfo.newBuilder(blobId).build();\r\nstorage.createFrom(blobInfo, new ByteArrayInputStream(stream.toByteArray()));\r\n```\r\nFYI, I haven&#39;t tested this but it looks like it should work.","title":"Convert java object to csv and upload to google cloud storage","body":"<p>You can use byte streams to both read and write the file data in-memory instead of the file system:</p>\n<pre><code>ByteArrayOutputStream stream = new ByteArrayOutputStream();\nOutputStreamWriter streamWriter = new OutputStreamWriter(stream);\nCSVWriter writer = new CSVWriter(streamWriter);\n\n// add data to writer and close\n\nBlobId blobId = BlobId.of(bucketName, someDerivedFilePath);\nBlobInfo blobInfo = BlobInfo.newBuilder(blobId).build();\nstorage.createFrom(blobInfo, new ByteArrayInputStream(stream.toByteArray()));\n</code></pre>\n<p>FYI, I haven't tested this but it looks like it should work.</p>\n"}],"owner":{"account_id":17168363,"reputation":334,"user_id":12426044,"display_name":"Akash Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694182694,"accepted_answer_id":77060161,"answer_count":1,"score":0,"last_activity_date":1694117896,"creation_date":1694085487,"question_id":77059124,"body_markdown":"I have a rest endpoint which takes an object (requestbody) as input. I need to read that object, convert it to csv and upload the csv on google cloud storage.\r\n\r\nI am sharing below, what I have been able to achieve so far:\r\n\r\n    @GetMapping(&quot;/upload&quot;)\r\n    public void getTranscriptsByDate(@RequestBody SearchRequest searchRequest) throws Exception{\r\n        log.info(&quot;Search Request {}&quot;, searchRequest);\r\n\r\n        createFileWithSerachCriteria(searchRequest);\r\n        uploadFileToGoogleCloudStorage(searchRequest);\r\n\r\n    }\r\n\r\n    private void createFileWithSerachCriteria(SearchRequest searchRequest) throws IOException {\r\n        String filename =  &quot;myFile&quot; + searchRequest.getConversationDate() + &quot;.csv&quot;;\r\n        String filePath = &quot;C://Users//abc//&quot; + filename;\r\n\r\n        CSVWriter writer = new CSVWriter(new FileWriter(filePath));\r\n        String[] header = { &quot;ID&quot;, &quot;NAME&quot; };\r\n        writer.writeNext(header);\r\n\r\n        String[] data = new String[2];\r\n        data[0] = searchRequest.getId();\r\n        data[1] = searchRequest.getName();\r\n        writer.writeNext(data);\r\n\r\n        writer.close();\r\n    }\r\n\r\n    private void uploadFileToGoogleCloudStorage(SearchRequest searchRequest) throws Exception{\r\n        tring filename =  &quot;myFile&quot; + searchRequest.getConversationDate() + &quot;.csv&quot;;\r\n        String filePath = &quot;C://Users//abc//&quot; + filename;\r\n        myService.uploadFile(filePath);\r\n    }\r\n\r\nBelow is the code from MyService.java\r\n\r\n    public void uploadFile(String localFilePath) throws Exception{\r\n        BlobId blobId = BlobId.of(bucketName, localFilePath);\r\n        BlobInfo blobInfo = BlobInfo.newBuilder(blobId).build();\r\n\t\tstorage.createFrom(blobInfo, Paths.get(localFilePath));\r\n\t}\r\n\r\nThis code works fine.\r\n\r\nI do not want to write a file on local and then read it back to upload to cloud. I want to directly convert my request object to csv and upload it on cloud without the 2 step (read/write) process. On official GCP documentation I found a small example of streaming, but I am unable to understand it.\r\n\r\nIs it possible to achieve what I am thinking to do i.e. avoiding the read/write and doing it in one go. Please help.","title":"Convert java object to csv and upload to google cloud storage","body":"<p>I have a rest endpoint which takes an object (requestbody) as input. I need to read that object, convert it to csv and upload the csv on google cloud storage.</p>\n<p>I am sharing below, what I have been able to achieve so far:</p>\n<pre><code>@GetMapping(&quot;/upload&quot;)\npublic void getTranscriptsByDate(@RequestBody SearchRequest searchRequest) throws Exception{\n    log.info(&quot;Search Request {}&quot;, searchRequest);\n\n    createFileWithSerachCriteria(searchRequest);\n    uploadFileToGoogleCloudStorage(searchRequest);\n\n}\n\nprivate void createFileWithSerachCriteria(SearchRequest searchRequest) throws IOException {\n    String filename =  &quot;myFile&quot; + searchRequest.getConversationDate() + &quot;.csv&quot;;\n    String filePath = &quot;C://Users//abc//&quot; + filename;\n\n    CSVWriter writer = new CSVWriter(new FileWriter(filePath));\n    String[] header = { &quot;ID&quot;, &quot;NAME&quot; };\n    writer.writeNext(header);\n\n    String[] data = new String[2];\n    data[0] = searchRequest.getId();\n    data[1] = searchRequest.getName();\n    writer.writeNext(data);\n\n    writer.close();\n}\n\nprivate void uploadFileToGoogleCloudStorage(SearchRequest searchRequest) throws Exception{\n    tring filename =  &quot;myFile&quot; + searchRequest.getConversationDate() + &quot;.csv&quot;;\n    String filePath = &quot;C://Users//abc//&quot; + filename;\n    myService.uploadFile(filePath);\n}\n</code></pre>\n<p>Below is the code from MyService.java</p>\n<pre><code>public void uploadFile(String localFilePath) throws Exception{\n    BlobId blobId = BlobId.of(bucketName, localFilePath);\n    BlobInfo blobInfo = BlobInfo.newBuilder(blobId).build();\n    storage.createFrom(blobInfo, Paths.get(localFilePath));\n}\n</code></pre>\n<p>This code works fine.</p>\n<p>I do not want to write a file on local and then read it back to upload to cloud. I want to directly convert my request object to csv and upload it on cloud without the 2 step (read/write) process. On official GCP documentation I found a small example of streaming, but I am unable to understand it.</p>\n<p>Is it possible to achieve what I am thinking to do i.e. avoiding the read/write and doing it in one go. Please help.</p>\n"},{"tags":["java","jar","bazel","bazel-rules","bazel-java"],"answers":[{"tags":[],"owner":{"account_id":15806,"reputation":19577,"user_id":33795,"display_name":"Benjamin Peterson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694117247,"creation_date":1694117247,"answer_id":77062569,"question_id":77061051,"body_markdown":"The Java rules do not support tree artifacts (what&#39;s returned from `ctx.actions.declare_directory`), and unfortunately, the rules fail on tree artifacts by silently doing nothing as you&#39;ve discovered.\r\n\r\nThe Java rules do support &quot;source jars&quot;, though. A source jar is simply a ZIP archive with a `.srcjar` extension. The Java rules will compile the `.java` files within it. So, add a final step to your generator to zip up its outputs.","title":"How to create Java library in Bazel from generated Java files","body":"<p>The Java rules do not support tree artifacts (what's returned from <code>ctx.actions.declare_directory</code>), and unfortunately, the rules fail on tree artifacts by silently doing nothing as you've discovered.</p>\n<p>The Java rules do support &quot;source jars&quot;, though. A source jar is simply a ZIP archive with a <code>.srcjar</code> extension. The Java rules will compile the <code>.java</code> files within it. So, add a final step to your generator to zip up its outputs.</p>\n"}],"owner":{"account_id":2469469,"reputation":751,"user_id":2151732,"accept_rate":80,"display_name":"plamkata__"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77062569,"answer_count":1,"score":1,"last_activity_date":1694117247,"creation_date":1694101410,"question_id":77061051,"body_markdown":"I have a custom Bazel rule which generates a bunch of Java files. The rule is something like this:\r\n\r\n```\r\ndef _generator_java_impl(ctx):\r\n   tree = ctx.actions.declare_directory(ctx.attr.name + &quot;_srcs&quot;)\r\n\r\n   # Actual generation of the Java files\r\n   ctx.actions.run(\r\n       ...\r\n       outputs = [tree],\r\n       ...\r\n   )\r\n\r\n   return [DefaultInfo(files = depset([tree]))]\r\n\r\n\r\ngenerator_java = rule(\r\n   implementation = _generator_java_impl,\r\n   ...\r\n)\r\n```\r\n\r\nIn my `BUILD` file I am using that rule to generate the Java sources and to create a Java library from these sources:\r\n\r\n```\r\ngenerator_java(\r\n   name = &quot;generated_java&quot;,\r\n   ...\r\n)\r\n\r\njava_library(\r\n   name = &quot;mylib&quot;,\r\n   srcs = [&quot;:generated_java&quot;]\r\n```\r\n\r\nIt builds fine using `bazel build //:mylib` but my JAR file is empty (only MANIFEST is there and misses the Java classes)\r\n\r\nI can test that `bazel build //:generated_java` really generates my Java files and the output folder is not empty. \r\n\r\nAny ideas why my Java library is empty?","title":"How to create Java library in Bazel from generated Java files","body":"<p>I have a custom Bazel rule which generates a bunch of Java files. The rule is something like this:</p>\n<pre><code>def _generator_java_impl(ctx):\n   tree = ctx.actions.declare_directory(ctx.attr.name + &quot;_srcs&quot;)\n\n   # Actual generation of the Java files\n   ctx.actions.run(\n       ...\n       outputs = [tree],\n       ...\n   )\n\n   return [DefaultInfo(files = depset([tree]))]\n\n\ngenerator_java = rule(\n   implementation = _generator_java_impl,\n   ...\n)\n</code></pre>\n<p>In my <code>BUILD</code> file I am using that rule to generate the Java sources and to create a Java library from these sources:</p>\n<pre><code>generator_java(\n   name = &quot;generated_java&quot;,\n   ...\n)\n\njava_library(\n   name = &quot;mylib&quot;,\n   srcs = [&quot;:generated_java&quot;]\n</code></pre>\n<p>It builds fine using <code>bazel build //:mylib</code> but my JAR file is empty (only MANIFEST is there and misses the Java classes)</p>\n<p>I can test that <code>bazel build //:generated_java</code> really generates my Java files and the output folder is not empty.</p>\n<p>Any ideas why my Java library is empty?</p>\n"},{"tags":["java","spring","spring-mvc","jackson","open-liberty"],"owner":{"account_id":975553,"reputation":3366,"user_id":996908,"accept_rate":60,"display_name":"Mr Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694117083,"creation_date":1694117083,"question_id":77062548,"body_markdown":"Having a strange issue.  I&#39;m trying to run a java app on Websphere Liberty that had been running on WAS 8.5.  The site starts but I get the error below when the UI is calling the backend.  The app is running with the same code &amp; libraries on both WAS &amp; OL, except maybe I assume the servlet API is different  ? \r\n\r\nI see the servlet API in the stack trace.  Could that be doing this?  The error happens when the Spring controller tries to serialize the results.  The error seems to indicate that Jackson is trying to serialize the exampleItem object to an Integer.  But I don&#39;t get this error with WAS.\r\n\r\n\r\n    Caused by: com.fasterxml.jackson.databind.JsonMappingException: com.example.exampleItem cannot be cast to java.lang.Integer \r\n    (through reference chain: com.example.Response[&quot;data&quot;]-&gt;com.example.SearchResults[&quot;searchData&quot;]-&gt;com.example.Information[&quot;dataGroup&quot;]-\r\n    &gt;java.util.ArrayList[0])\r\n\r\n\tat org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.writeInternal(MappingJackson2HttpMessageConverter.java:207)\r\n\tat org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:180)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:143)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:89)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:189)\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:69)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:122)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:685)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:919)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:851)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:844)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1258)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:746)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:193)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:98)\r\n\tat com.penske.apps.rentalinspection.filters.SessionValidationFilter.doFilter(SessionValidationFilter.java:56)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.penske.apps.rentalinspection.filters.Log4JFilter.doFilter(Log4JFilter.java:62)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:1002)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1140)\r\n\tat com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:5049)\r\n\tat com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.handleRequest(DynamicVirtualHost.java:314)\r\n\tat com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:1007)\r\n\tat com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:279)\r\n\tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:1159)\r\n\tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:428)\r\n\tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:387)\r\n\tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:566)\r\n\tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:500)\r\n\tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:360)\r\n\tat com.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:70)\r\n\tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:504)\r\n\tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:574)\r\n\tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:958)\r\n\tat com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1047)\r\n\tat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)","title":"Jackson JsonMappingException: cannot be cast to java.lang.Integer","body":"<p>Having a strange issue.  I'm trying to run a java app on Websphere Liberty that had been running on WAS 8.5.  The site starts but I get the error below when the UI is calling the backend.  The app is running with the same code &amp; libraries on both WAS &amp; OL, except maybe I assume the servlet API is different  ?</p>\n<p>I see the servlet API in the stack trace.  Could that be doing this?  The error happens when the Spring controller tries to serialize the results.  The error seems to indicate that Jackson is trying to serialize the exampleItem object to an Integer.  But I don't get this error with WAS.</p>\n<pre><code>Caused by: com.fasterxml.jackson.databind.JsonMappingException: com.example.exampleItem cannot be cast to java.lang.Integer \n(through reference chain: com.example.Response[&quot;data&quot;]-&gt;com.example.SearchResults[&quot;searchData&quot;]-&gt;com.example.Information[&quot;dataGroup&quot;]-\n&gt;java.util.ArrayList[0])\n\nat org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.writeInternal(MappingJackson2HttpMessageConverter.java:207)\nat org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:180)\nat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:143)\nat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:89)\nat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:189)\nat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:69)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:122)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:685)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:919)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:851)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:844)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1258)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:746)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:193)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:98)\nat com.penske.apps.rentalinspection.filters.SessionValidationFilter.doFilter(SessionValidationFilter.java:56)\nat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\nat com.penske.apps.rentalinspection.filters.Log4JFilter.doFilter(Log4JFilter.java:62)\nat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\nat com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:1002)\nat com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1140)\nat com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:5049)\nat com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.handleRequest(DynamicVirtualHost.java:314)\nat com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:1007)\nat com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:279)\nat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:1159)\nat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:428)\nat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:387)\nat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:566)\nat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:500)\nat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:360)\nat com.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:70)\nat com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:504)\nat com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:574)\nat com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:958)\nat com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1047)\nat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","pyspark","apache-spark-sql"],"owner":{"account_id":4652019,"reputation":1332,"user_id":3828443,"accept_rate":86,"display_name":"Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694116770,"creation_date":1694116770,"question_id":77062521,"body_markdown":"These errors have come up a few times on here, however, none of the remedies seemed to work for me. \r\n\r\nI need PySpark to run on my MacBook Pro M1. After I import ```from pyspark.sql import SparkSession``` followed by ```spark = SparkSession.builder.getOrCreate()``` I get hit with\r\n\r\n\r\n    Error occurred during initialization of VM\r\n    Corrupted ZIP library: /opt/anaconda3/lib/libzip.dylib\r\n    /Users/rcd/spark/bin/spark-class: line 97: CMD: bad array subscript\r\n    head: illegal line count -- -1. \r\n\r\nDozens of references follow this initial error message, each mentioning  ```SparkSession.builder.getOrCreate()```.\r\n\r\nThe final error message is as follows: `RuntimeError: Java gateway process exited before sending its port number.` \r\n\r\nI&#39;ve tried adding several lines to both my bash and zsh profiles, as recommended by users here. I&#39;ve also tried updating my Java installation and adding other Java (JDK) updates. At one point I received a message saying a specific library was corrupt, so I went to conda and re-downloaded the library, but this had no effect. \r\n\r\nDoes anyone have any suggestions on how to fix this and get PySpark running?","title":"Pyspark Corrupted ZIP library and RuntimeError: Java gateway process exited errors","body":"<p>These errors have come up a few times on here, however, none of the remedies seemed to work for me.</p>\n<p>I need PySpark to run on my MacBook Pro M1. After I import <code>from pyspark.sql import SparkSession</code> followed by <code>spark = SparkSession.builder.getOrCreate()</code> I get hit with</p>\n<pre><code>Error occurred during initialization of VM\nCorrupted ZIP library: /opt/anaconda3/lib/libzip.dylib\n/Users/rcd/spark/bin/spark-class: line 97: CMD: bad array subscript\nhead: illegal line count -- -1. \n</code></pre>\n<p>Dozens of references follow this initial error message, each mentioning  <code>SparkSession.builder.getOrCreate()</code>.</p>\n<p>The final error message is as follows: <code>RuntimeError: Java gateway process exited before sending its port number.</code></p>\n<p>I've tried adding several lines to both my bash and zsh profiles, as recommended by users here. I've also tried updating my Java installation and adding other Java (JDK) updates. At one point I received a message saying a specific library was corrupt, so I went to conda and re-downloaded the library, but this had no effect.</p>\n<p>Does anyone have any suggestions on how to fix this and get PySpark running?</p>\n"},{"tags":["java","mysql","hibernate","spring-boot"],"comments":[{"owner":{"account_id":7712408,"reputation":2531,"user_id":5841297,"accept_rate":50,"display_name":"Phenomenal One"},"score":0,"creation_date":1545991979,"post_id":53540056,"comment_id":94751415,"body_markdown":"Try `existsByMainProductAndCollection()` in case you dont need the data","body":"Try <code>existsByMainProductAndCollection()</code> in case you dont need the data"},{"owner":{"account_id":6104453,"reputation":506,"user_id":4762500,"display_name":"Md."},"score":1,"creation_date":1580938203,"post_id":53540056,"comment_id":106266813,"body_markdown":"Did you face this issue as well along with the mentioned one? &quot; java.lang.OutOfMemoryError: GC overhead limit exceeded&quot;","body":"Did you face this issue as well along with the mentioned one? &quot; java.lang.OutOfMemoryError: GC overhead limit exceeded&quot;"}],"answers":[{"tags":[],"owner":{"account_id":4418122,"reputation":924,"user_id":3599051,"accept_rate":25,"display_name":"Vikram Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545993950,"creation_date":1545993950,"answer_id":53957256,"question_id":53540056,"body_markdown":"It seems like you are loading huge amount of data in your application.\r\n\r\nThe method \r\n\r\n    FBT findByMainProductAndCollection(SProduct mainProduct,Date collection);\r\n\r\nwill load all the matching data. But you only need count try the query that exactly return count of data instead of all the data.\r\n\r\nOne way to do is using the query you mentioned and other way is\r\n\r\n    Long countByMainProductAndCollection(SProduct mainProduct, Date collection);\r\n\r\nOr \r\n\r\n    Boolean existsByMainProductAndCollection(SProduct mainProduct, Date collection)\r\n\r\n","title":"What causes Spring Boot Fail-safe cleanup (collections) to occur","body":"<p>It seems like you are loading huge amount of data in your application.</p>\n\n<p>The method </p>\n\n<pre><code>FBT findByMainProductAndCollection(SProduct mainProduct,Date collection);\n</code></pre>\n\n<p>will load all the matching data. But you only need count try the query that exactly return count of data instead of all the data.</p>\n\n<p>One way to do is using the query you mentioned and other way is</p>\n\n<pre><code>Long countByMainProductAndCollection(SProduct mainProduct, Date collection);\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>Boolean existsByMainProductAndCollection(SProduct mainProduct, Date collection)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13026103,"reputation":89,"user_id":9414067,"display_name":"apoorvakash"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1546519790,"creation_date":1546518916,"answer_id":54022410,"question_id":53540056,"body_markdown":"Firstly, it is a Hibernate Error handled by `org.hibernate.engine` and has nothing to do with Spring Boot.\r\n\r\nIt can occur if you&#39;re fetching large amounts of data, like tens of thousands of entities with your HQL queries. \r\n\r\nThis can also be the case if you have mapped a one-to-many association which has many of child entities and due to bi-directional mapping the result-set is replicating infinitely.\r\n\r\nRefer to link below for high performance JPA Tips.\r\n\r\nhttps://vladmihalcea.com/14-high-performance-java-persistence-tips/","title":"What causes Spring Boot Fail-safe cleanup (collections) to occur","body":"<p>Firstly, it is a Hibernate Error handled by <code>org.hibernate.engine</code> and has nothing to do with Spring Boot.</p>\n\n<p>It can occur if you're fetching large amounts of data, like tens of thousands of entities with your HQL queries. </p>\n\n<p>This can also be the case if you have mapped a one-to-many association which has many of child entities and due to bi-directional mapping the result-set is replicating infinitely.</p>\n\n<p>Refer to link below for high performance JPA Tips.</p>\n\n<p><a href=\"https://vladmihalcea.com/14-high-performance-java-persistence-tips/\" rel=\"noreferrer\">https://vladmihalcea.com/14-high-performance-java-persistence-tips/</a></p>\n"},{"tags":[],"owner":{"account_id":8756040,"reputation":317,"user_id":6547603,"display_name":"fhery021"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1546546235,"creation_date":1546546235,"answer_id":54029108,"question_id":53540056,"body_markdown":"Can you try with `@Fetch(value = SELECT)`?\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;mainProduct&quot;, cascade = CascadeType.ALL)\r\n    @Fetch(value=FetchMode.SELECT)\r\n    private Set&lt;FBT&gt; fbts;\r\n","title":"What causes Spring Boot Fail-safe cleanup (collections) to occur","body":"<p>Can you try with <code>@Fetch(value = SELECT)</code>?</p>\n\n<pre><code>@OneToMany(fetch = FetchType.EAGER, mappedBy = \"mainProduct\", cascade = CascadeType.ALL)\n@Fetch(value=FetchMode.SELECT)\nprivate Set&lt;FBT&gt; fbts;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9888134,"reputation":487,"user_id":7322039,"display_name":"Vahan Yeghyan"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1563533710,"creation_date":1563533710,"answer_id":57111004,"question_id":53540056,"body_markdown":"In my case it was because of entities calling each other&#39;s hashcode recursively, if you use lombock remove it and make it yourself.Put breakpoint of debugger on the methods of two hashcodes.\r\nYou&#39;ll sea that they are calling each other.\r\nRemove for example from the first entity&#39;s hashcode method second entity&#39;s link.   ","title":"What causes Spring Boot Fail-safe cleanup (collections) to occur","body":"<p>In my case it was because of entities calling each other's hashcode recursively, if you use lombock remove it and make it yourself.Put breakpoint of debugger on the methods of two hashcodes.\nYou'll sea that they are calling each other.\nRemove for example from the first entity's hashcode method second entity's link.   </p>\n"},{"tags":[],"owner":{"account_id":11609801,"reputation":161,"user_id":8504346,"display_name":"hadi soleimani"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1605131593,"creation_date":1605131284,"answer_id":64794636,"question_id":53540056,"body_markdown":"I Had This Problem When use Set, but When I do Change to List it&#39;s Solved\r\nYou Should use \r\n\r\n  \r\n\r\n      private List&lt;FBT&gt; fbts;\r\n\r\n","title":"What causes Spring Boot Fail-safe cleanup (collections) to occur","body":"<p>I Had This Problem When use Set, but When I do Change to List it's Solved\nYou Should use</p>\n<pre><code>  private List&lt;FBT&gt; fbts;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6709597,"reputation":577,"user_id":5173839,"accept_rate":67,"display_name":"Anton3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614107685,"creation_date":1614107685,"answer_id":66339613,"question_id":53540056,"body_markdown":"In my case, I used an auto-generated `Repository` method that returned `List&lt;MyData&gt;`. Turns out, 2000 entities is too much for Hibernate. I fixed the issue by replacing it with a method returning `Stream&lt;MyData&gt;`, then mapping the entities to a handcrafted struct `MyDataDetached`.","title":"What causes Spring Boot Fail-safe cleanup (collections) to occur","body":"<p>In my case, I used an auto-generated <code>Repository</code> method that returned <code>List&lt;MyData&gt;</code>. Turns out, 2000 entities is too much for Hibernate. I fixed the issue by replacing it with a method returning <code>Stream&lt;MyData&gt;</code>, then mapping the entities to a handcrafted struct <code>MyDataDetached</code>.</p>\n"},{"tags":[],"owner":{"account_id":15763432,"reputation":163,"user_id":11374561,"display_name":"Vikcen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1628077991,"creation_date":1628077991,"answer_id":68650788,"question_id":53540056,"body_markdown":"In my case i was getting **&quot;java.lang.StackOverflowError: null&quot;** (previusly also multiple **&quot;Fail-safe cleanup (collections)&quot;** log messages) when running a JPA *save* method on a specific entity with bidirectional relations *@ManyToOne* and *@OneToMany*. Curiously it only was failing on Oracle and PostgreSQL, but working fine in MySQL, MariaDB and SQLServer.\r\n\r\nSo the problem was that ***lombok*** with the ***HashCode*** in the *@OneToMany* entities.\r\n\r\nI solved it setting this annotation in that entities at level class:\r\n\r\n***@EqualsAndHashCode(exclude = &quot;nameAttributeInThisClassWithOneToMany&quot;)***","title":"What causes Spring Boot Fail-safe cleanup (collections) to occur","body":"<p>In my case i was getting <strong>&quot;java.lang.StackOverflowError: null&quot;</strong> (previusly also multiple <strong>&quot;Fail-safe cleanup (collections)&quot;</strong> log messages) when running a JPA <em>save</em> method on a specific entity with bidirectional relations <em>@ManyToOne</em> and <em>@OneToMany</em>. Curiously it only was failing on Oracle and PostgreSQL, but working fine in MySQL, MariaDB and SQLServer.</p>\n<p>So the problem was that <em><strong>lombok</strong></em> with the <em><strong>HashCode</strong></em> in the <em>@OneToMany</em> entities.</p>\n<p>I solved it setting this annotation in that entities at level class:</p>\n<p><em><strong>@EqualsAndHashCode(exclude = &quot;nameAttributeInThisClassWithOneToMany&quot;)</strong></em></p>\n"},{"tags":[],"owner":{"account_id":27467013,"reputation":1,"user_id":20956548,"display_name":"Deidine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694116311,"creation_date":1694109413,"answer_id":77061862,"question_id":53540056,"body_markdown":"I had the same problem and I solved it by adding above the OneToMany and ManyToOne.\r\n\r\nIf you want to generate the JSON with the parent but not with the children, you can annotate product with `@JsonBackReference` and ftb with `@JsonManagedReference` or add `@JsonIgnore` to both entities.","title":"What causes Spring Boot Fail-safe cleanup (collections) to occur","body":"<p>I had the same problem and I solved it by adding above the OneToMany and ManyToOne.</p>\n<p>If you want to generate the JSON with the parent but not with the children, you can annotate product with <code>@JsonBackReference</code> and ftb with <code>@JsonManagedReference</code> or add <code>@JsonIgnore</code> to both entities.</p>\n"}],"owner":{"account_id":971494,"reputation":1544,"user_id":993990,"accept_rate":96,"display_name":"conteh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36485,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":54029108,"answer_count":8,"score":17,"last_activity_date":1694116311,"creation_date":1543497813,"question_id":53540056,"body_markdown":"I have a Java Spring Boot application with the following entities related to the below exception\r\n\r\n**SProduct**\r\n\r\n    @Entity\r\n    @Table(\r\n            name = &quot;product&quot;,\r\n            indexes = @Index(\r\n                    name = &quot;idx_asin&quot;,\r\n                    columnList = &quot;asin&quot;,\r\n                    unique = true\r\n            )\r\n    )\r\n    public class SProduct implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private long id;\r\n        @Column(name = &quot;asin&quot;, unique = false, nullable = false, length = 10)\r\n        private String asin;\r\n        @Column(name = &quot;rootcategory&quot;)\r\n        private Long rootcategory;\r\n        @Column(name = &quot;imageCSV&quot;, unique = false, nullable = true, length = 350)\r\n        private String imagesCSV;\r\n        @Column(name = &quot;title&quot;, unique = false, nullable = true, length = 350)\r\n        private String title;\r\n        private Date created;\r\n        @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;mainProduct&quot;, cascade = CascadeType.ALL)\r\n        private Set&lt;FBT&gt; fbts;\r\n        @OneToOne(fetch = FetchType.EAGER, mappedBy = &quot;downloadProductId&quot;, cascade = CascadeType.ALL)\r\n        private Download download;\r\n\r\n**FBT**\r\n\r\n    @Entity\r\n    @Table(\r\n        name = &quot;fbt&quot;,\r\n        uniqueConstraints={@UniqueConstraint(columnNames = {&quot;main_product_id&quot; , &quot;collection&quot;})},\r\n        indexes = {@Index(\r\n            name = &quot;idx_main_product_id&quot;,\r\n            columnList = &quot;main_product_id&quot;,\r\n            unique = false),\r\n            @Index(\r\n            name = &quot;idx_product_fbt1id&quot;,\r\n            columnList = &quot;product_fbt1_id&quot;,\r\n            unique = false),\r\n            @Index(\r\n            name = &quot;idx_product_fbt2id&quot;,\r\n            columnList = &quot;product_fbt2_id&quot;,\r\n            unique = false)\r\n            }\r\n    )\r\n    public class FBT implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private long id;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;main_product_id&quot;)\r\n        private SProduct mainProduct;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;product_fbt1_id&quot;)\r\n        private SProduct sproductFbt1;\r\n        @ManyToOne\r\n       \r\n        @JoinColumn(name = &quot;product_fbt2_id&quot;)\r\n        private SProduct sproductFbt2;\r\n        @Column(name = &quot;bsr&quot;, nullable = false)\r\n        private int bsr;\r\n        private Date collection;\r\n\r\nI had the following query in my fbt repository \r\n\r\n      FBT findByMainProductAndCollection(SProduct mainProduct,Date collection);\r\n\r\nwhich caused the following messages to be output exception when the data exists in the database for the mainProduct and collection but returns null otherwise. \r\n\r\n      &lt;message&gt;HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@69b7fcfc&amp;lt;rs=HikariProxyResultSet@325408381 wrapping com.mysql.jdbc.JDBC42ResultSet@108693fa&amp;gt;&lt;/message&gt;\r\n      &lt;message&gt;HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries&lt;/message&gt;\r\n      &lt;message&gt;HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@47c40535&amp;lt;rs=HikariProxyResultSet@2005129089 wrapping com.mysql.jdbc.JDBC42ResultSet@9894f70&amp;gt;&lt;/message&gt;\r\n      &lt;message&gt;HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries&lt;/message&gt;\r\n      &lt;message&gt;HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@5b0cd175&amp;lt;rs=HikariProxyResultSet@1598144514 wrapping com.mysql.jdbc.JDBC42ResultSet@6a7ff475&amp;gt;&lt;/message&gt;\r\n      &lt;message&gt;HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries&lt;/message&gt;\r\n      &lt;message&gt;HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@f67e2cc&amp;lt;rs=HikariProxyResultSet@319200129 wrapping com.mysql.jdbc.JDBC42ResultSet@215b8a6&amp;gt;&lt;/message&gt;\r\n      &lt;message&gt;HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries&lt;/message&gt;\r\n      &lt;message&gt;HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@5961afc0&amp;lt;rs=HikariProxyResultSet@1772496904 wrapping com.mysql.jdbc.JDBC42ResultSet@5956a59b&amp;gt;&lt;/message&gt;\r\n      &lt;message&gt;HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries&lt;/message&gt;\r\n      &lt;message&gt;HHH000100: Fail-safe cleanup (collections) : \r\n\r\nI decided to abandon the above and write a @query to count as I only need to determine if the data exists or not and this has prevented the issue which is making me think I should change all my code to use @query.\r\n\r\n     @Query(&quot;select count(*) as count from FBT where main_product_id = :id and collection= :collection&quot;)\r\n        int countByMainProductIdAndCollection(@Param(&quot;id&quot;) long id, @Param(&quot;collection&quot;) Date collection);\r\n\r\n\r\n\r\nAlthough this similarly also occurs seemingly randomly on updates into the database of one SProduct when the product exists in the database already. \r\n\r\n    SProductRepo.saveAndFlush(s);\r\n\r\nI say randomly as 11 applications running the same code exit at random intervals with the above messages. There are no exceptions generated by the code and 10000&#39;s of successful database updates occur with the same code that leads to the failure. The code stops when trying to update the database where it has worked previously. \r\n\r\n    &quot;&quot;2018-12-28 00:56:06 [KeepaAPI-RetryScheduler] WARN  org.hibernate.engine.loading.internal.LoadContexts - HHH000100: Fail-safe cleanup (collections) : org.hibernate.eng\r\n    ine.loading.internal.CollectionLoadContext@5c414639&lt;rs=HikariProxyResultSet@1241510017 wrapping Result set representing update count of 13&gt;\r\n    &quot;&quot;2018-12-28 00:56:06 [KeepaAPI-RetryScheduler] WARN  org.hibernate.engine.loading.internal.CollectionLoadContext - HHH000160: On CollectionLoadContext#cleanup, localLoa\r\n    dingCollectionKeys contained [1] entries\r\n    &quot;&quot;2018-12-28 00:56:06 [KeepaAPI-RetryScheduler] WARN  org.hibernate.engine.loading.internal.LoadContexts - HHH000100: Fail-safe cleanup (collections) : org.hibernate.eng\r\n    ine.loading.internal.CollectionLoadContext@5595c065&lt;rs=HikariProxyResultSet@2140082434 wrapping Result set representing update count of 14&gt;\r\n    &quot;&quot;2018-12-28 00:56:06 [KeepaAPI-RetryScheduler] WARN  org.hibernate.engine.loading.internal.CollectionLoadContext - HHH000160: On CollectionLoadContext#cleanup, localLoa\r\n    dingCollectionKeys contained [1] entries\r\n    &quot;&quot;2018-12-28 00:56:06 [KeepaAPI-RetryScheduler] WARN  org.hibernate.engine.loading.internal.LoadContexts - HHH000100: Fail-safe cleanup (collections) : org.hibernate.eng\r\n    ine.loading.internal.CollectionLoadContext@2956fe24&lt;rs=HikariProxyResultSe\r\n\r\nAdditionally the SProduct findByAsin(String asin) query cause the same problem however the query in the database works perfectly and this used to work in spring boot.\r\n\r\n    mysql&gt; select * from product where asin=&quot;B004FXJOQO&quot;;\r\n    | id | asin       | created    | imagecsv                                                                        | rootcategory | title                                                                                                        |  9 | B004FXJOQO | 2018-08-04 | 41T0ZwTvSSL.jpg,61V90AZKbGL.jpg,51AdEGCTZqL.jpg,51LDnCYfR0L.jpg,71bbIw43PjL.jpg |       228013 | Dual Voltage Tester, Non Contact Tester for High and Low Voltage with 3-m Drop Protection Klein Tools NCVT-2 |\r\n    1 row in set (0.00 sec)\r\n\r\n\r\nWhat I would like to know is what are the general reasons this kind of messages get generated?\r\n\r\nWhy do they stop my application despite try catch statements around my insertion statements that are the last executed statements in my code?\r\n\r\nAre there log debugging settings useful to determine the exact reason for why the messages are generated?\r\n\r\nIs there a way to turn off or control this functionality?\r\n\r\n\r\n**Pom**\r\n\r\n      &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;maven-dependency-plugin.version&gt;2.10&lt;/maven-dependency-plugin.version&gt;\r\n            &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\r\n        &lt;/properties&gt;\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;Keepa&lt;/id&gt;\r\n                &lt;name&gt;Keepa Repository&lt;/name&gt;\r\n                &lt;url&gt;https://keepa.com/maven/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n            &lt;/dependency&gt; \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-integration&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n                &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n                &lt;version&gt;1.22.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n                &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n                &lt;version&gt;1.22.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n                &lt;artifactId&gt;google-api-services-oauth2&lt;/artifactId&gt;\r\n                &lt;version&gt;v1-rev120-1.22.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n                &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\r\n                &lt;version&gt;1.22.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n                &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\r\n                &lt;version&gt;1.22.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n                &lt;artifactId&gt;google-api-services-gmail&lt;/artifactId&gt;\r\n                &lt;version&gt;v1-rev48-1.22.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.0&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n                &lt;version&gt;0.1.54&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.myjeeva.digitalocean&lt;/groupId&gt;\r\n                &lt;artifactId&gt;digitalocean-api-client&lt;/artifactId&gt;\r\n                &lt;version&gt;2.16&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.keepa.api&lt;/groupId&gt;\r\n                &lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n                &lt;version&gt;LATEST&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jdeferred&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jdeferred-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;22.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build\r\n\r\nI increased the memory from 1gb to 2gb however the memory is only 30% of what is available.\r\n\r\nAny thoughts as to what the issue is?\r\n\r\n","title":"What causes Spring Boot Fail-safe cleanup (collections) to occur","body":"<p>I have a Java Spring Boot application with the following entities related to the below exception</p>\n<p><strong>SProduct</strong></p>\n<pre><code>@Entity\n@Table(\n        name = &quot;product&quot;,\n        indexes = @Index(\n                name = &quot;idx_asin&quot;,\n                columnList = &quot;asin&quot;,\n                unique = true\n        )\n)\npublic class SProduct implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    @Column(name = &quot;asin&quot;, unique = false, nullable = false, length = 10)\n    private String asin;\n    @Column(name = &quot;rootcategory&quot;)\n    private Long rootcategory;\n    @Column(name = &quot;imageCSV&quot;, unique = false, nullable = true, length = 350)\n    private String imagesCSV;\n    @Column(name = &quot;title&quot;, unique = false, nullable = true, length = 350)\n    private String title;\n    private Date created;\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;mainProduct&quot;, cascade = CascadeType.ALL)\n    private Set&lt;FBT&gt; fbts;\n    @OneToOne(fetch = FetchType.EAGER, mappedBy = &quot;downloadProductId&quot;, cascade = CascadeType.ALL)\n    private Download download;\n</code></pre>\n<p><strong>FBT</strong></p>\n<pre><code>@Entity\n@Table(\n    name = &quot;fbt&quot;,\n    uniqueConstraints={@UniqueConstraint(columnNames = {&quot;main_product_id&quot; , &quot;collection&quot;})},\n    indexes = {@Index(\n        name = &quot;idx_main_product_id&quot;,\n        columnList = &quot;main_product_id&quot;,\n        unique = false),\n        @Index(\n        name = &quot;idx_product_fbt1id&quot;,\n        columnList = &quot;product_fbt1_id&quot;,\n        unique = false),\n        @Index(\n        name = &quot;idx_product_fbt2id&quot;,\n        columnList = &quot;product_fbt2_id&quot;,\n        unique = false)\n        }\n)\npublic class FBT implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    @ManyToOne\n    @JoinColumn(name = &quot;main_product_id&quot;)\n    private SProduct mainProduct;\n    @ManyToOne\n    @JoinColumn(name = &quot;product_fbt1_id&quot;)\n    private SProduct sproductFbt1;\n    @ManyToOne\n   \n    @JoinColumn(name = &quot;product_fbt2_id&quot;)\n    private SProduct sproductFbt2;\n    @Column(name = &quot;bsr&quot;, nullable = false)\n    private int bsr;\n    private Date collection;\n</code></pre>\n<p>I had the following query in my fbt repository</p>\n<pre><code>  FBT findByMainProductAndCollection(SProduct mainProduct,Date collection);\n</code></pre>\n<p>which caused the following messages to be output exception when the data exists in the database for the mainProduct and collection but returns null otherwise.</p>\n<pre><code>  &lt;message&gt;HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@69b7fcfc&amp;lt;rs=HikariProxyResultSet@325408381 wrapping com.mysql.jdbc.JDBC42ResultSet@108693fa&amp;gt;&lt;/message&gt;\n  &lt;message&gt;HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries&lt;/message&gt;\n  &lt;message&gt;HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@47c40535&amp;lt;rs=HikariProxyResultSet@2005129089 wrapping com.mysql.jdbc.JDBC42ResultSet@9894f70&amp;gt;&lt;/message&gt;\n  &lt;message&gt;HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries&lt;/message&gt;\n  &lt;message&gt;HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@5b0cd175&amp;lt;rs=HikariProxyResultSet@1598144514 wrapping com.mysql.jdbc.JDBC42ResultSet@6a7ff475&amp;gt;&lt;/message&gt;\n  &lt;message&gt;HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries&lt;/message&gt;\n  &lt;message&gt;HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@f67e2cc&amp;lt;rs=HikariProxyResultSet@319200129 wrapping com.mysql.jdbc.JDBC42ResultSet@215b8a6&amp;gt;&lt;/message&gt;\n  &lt;message&gt;HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries&lt;/message&gt;\n  &lt;message&gt;HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@5961afc0&amp;lt;rs=HikariProxyResultSet@1772496904 wrapping com.mysql.jdbc.JDBC42ResultSet@5956a59b&amp;gt;&lt;/message&gt;\n  &lt;message&gt;HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries&lt;/message&gt;\n  &lt;message&gt;HHH000100: Fail-safe cleanup (collections) : \n</code></pre>\n<p>I decided to abandon the above and write a @query to count as I only need to determine if the data exists or not and this has prevented the issue which is making me think I should change all my code to use @query.</p>\n<pre><code> @Query(&quot;select count(*) as count from FBT where main_product_id = :id and collection= :collection&quot;)\n    int countByMainProductIdAndCollection(@Param(&quot;id&quot;) long id, @Param(&quot;collection&quot;) Date collection);\n</code></pre>\n<p>Although this similarly also occurs seemingly randomly on updates into the database of one SProduct when the product exists in the database already.</p>\n<pre><code>SProductRepo.saveAndFlush(s);\n</code></pre>\n<p>I say randomly as 11 applications running the same code exit at random intervals with the above messages. There are no exceptions generated by the code and 10000's of successful database updates occur with the same code that leads to the failure. The code stops when trying to update the database where it has worked previously.</p>\n<pre><code>&quot;&quot;2018-12-28 00:56:06 [KeepaAPI-RetryScheduler] WARN  org.hibernate.engine.loading.internal.LoadContexts - HHH000100: Fail-safe cleanup (collections) : org.hibernate.eng\nine.loading.internal.CollectionLoadContext@5c414639&lt;rs=HikariProxyResultSet@1241510017 wrapping Result set representing update count of 13&gt;\n&quot;&quot;2018-12-28 00:56:06 [KeepaAPI-RetryScheduler] WARN  org.hibernate.engine.loading.internal.CollectionLoadContext - HHH000160: On CollectionLoadContext#cleanup, localLoa\ndingCollectionKeys contained [1] entries\n&quot;&quot;2018-12-28 00:56:06 [KeepaAPI-RetryScheduler] WARN  org.hibernate.engine.loading.internal.LoadContexts - HHH000100: Fail-safe cleanup (collections) : org.hibernate.eng\nine.loading.internal.CollectionLoadContext@5595c065&lt;rs=HikariProxyResultSet@2140082434 wrapping Result set representing update count of 14&gt;\n&quot;&quot;2018-12-28 00:56:06 [KeepaAPI-RetryScheduler] WARN  org.hibernate.engine.loading.internal.CollectionLoadContext - HHH000160: On CollectionLoadContext#cleanup, localLoa\ndingCollectionKeys contained [1] entries\n&quot;&quot;2018-12-28 00:56:06 [KeepaAPI-RetryScheduler] WARN  org.hibernate.engine.loading.internal.LoadContexts - HHH000100: Fail-safe cleanup (collections) : org.hibernate.eng\nine.loading.internal.CollectionLoadContext@2956fe24&lt;rs=HikariProxyResultSe\n</code></pre>\n<p>Additionally the SProduct findByAsin(String asin) query cause the same problem however the query in the database works perfectly and this used to work in spring boot.</p>\n<pre><code>mysql&gt; select * from product where asin=&quot;B004FXJOQO&quot;;\n| id | asin       | created    | imagecsv                                                                        | rootcategory | title                                                                                                        |  9 | B004FXJOQO | 2018-08-04 | 41T0ZwTvSSL.jpg,61V90AZKbGL.jpg,51AdEGCTZqL.jpg,51LDnCYfR0L.jpg,71bbIw43PjL.jpg |       228013 | Dual Voltage Tester, Non Contact Tester for High and Low Voltage with 3-m Drop Protection Klein Tools NCVT-2 |\n1 row in set (0.00 sec)\n</code></pre>\n<p>What I would like to know is what are the general reasons this kind of messages get generated?</p>\n<p>Why do they stop my application despite try catch statements around my insertion statements that are the last executed statements in my code?</p>\n<p>Are there log debugging settings useful to determine the exact reason for why the messages are generated?</p>\n<p>Is there a way to turn off or control this functionality?</p>\n<p><strong>Pom</strong></p>\n<pre><code>  &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-dependency-plugin.version&gt;2.10&lt;/maven-dependency-plugin.version&gt;\n        &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n    &lt;/properties&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Keepa&lt;/id&gt;\n            &lt;name&gt;Keepa Repository&lt;/name&gt;\n            &lt;url&gt;https://keepa.com/maven/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-integration&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\n            &lt;version&gt;1.18&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n            &lt;version&gt;1.22.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n            &lt;version&gt;1.22.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-oauth2&lt;/artifactId&gt;\n            &lt;version&gt;v1-rev120-1.22.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.22.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\n            &lt;version&gt;1.22.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-gmail&lt;/artifactId&gt;\n            &lt;version&gt;v1-rev48-1.22.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n            &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n            &lt;version&gt;0.1.54&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.myjeeva.digitalocean&lt;/groupId&gt;\n            &lt;artifactId&gt;digitalocean-api-client&lt;/artifactId&gt;\n            &lt;version&gt;2.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.keepa.api&lt;/groupId&gt;\n            &lt;artifactId&gt;backend&lt;/artifactId&gt;\n            &lt;version&gt;LATEST&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jdeferred&lt;/groupId&gt;\n            &lt;artifactId&gt;jdeferred-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;22.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build\n</code></pre>\n<p>I increased the memory from 1gb to 2gb however the memory is only 30% of what is available.</p>\n<p>Any thoughts as to what the issue is?</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":2000279,"reputation":1429,"user_id":1791497,"accept_rate":76,"display_name":"hayonj"},"score":1,"creation_date":1375183510,"post_id":17945683,"comment_id":26224361,"body_markdown":"It is a good practice to always close your ressources onces you are done with them or the compiler will complain and mumble errors about memory leaks.","body":"It is a good practice to always close your ressources onces you are done with them or the compiler will complain and mumble errors about memory leaks."}],"answers":[{"tags":[],"owner":{"account_id":1566273,"reputation":16719,"user_id":1455016,"accept_rate":43,"display_name":"tbodt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375183923,"creation_date":1375183382,"answer_id":17945703,"question_id":17945683,"body_markdown":"I don&#39;t think so, but it&#39;s best to close it anyway in case you change your code to use a stream. It&#39;s also a good habit, one that you really want to get into.","title":"Is it necessary to close Scanner when there is no stream underlying?","body":"<p>I don't think so, but it's best to close it anyway in case you change your code to use a stream. It's also a good habit, one that you really want to get into.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1375183452,"creation_date":1375183452,"answer_id":17945723,"question_id":17945683,"body_markdown":"&gt; First we make our habits; then our habits make us.\r\n\r\nI&#39;d say close the stream, because ingraining a habit like closing resources in `finally` blocks make sense.","title":"Is it necessary to close Scanner when there is no stream underlying?","body":"<blockquote>\n  <p>First we make our habits; then our habits make us.</p>\n</blockquote>\n\n<p>I'd say close the stream, because ingraining a habit like closing resources in <code>finally</code> blocks make sense.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375183741,"creation_date":1375183741,"answer_id":17945827,"question_id":17945683,"body_markdown":"There will be no resource leak if we dont close `Scanner` of String. Internally `new Scanner(String)` creates a `StringReader` as underlying source, when we close `Scanner` it closes `StringReader` which makes no effect.\r\n","title":"Is it necessary to close Scanner when there is no stream underlying?","body":"<p>There will be no resource leak if we dont close <code>Scanner</code> of String. Internally <code>new Scanner(String)</code> creates a <code>StringReader</code> as underlying source, when we close <code>Scanner</code> it closes <code>StringReader</code> which makes no effect.</p>\n"},{"tags":[],"owner":{"account_id":3020750,"reputation":977,"user_id":2561865,"accept_rate":100,"display_name":"John Snow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375183746,"creation_date":1375183746,"answer_id":17945830,"question_id":17945683,"body_markdown":"If you want the **Scanner** to be marked as closed (so that all subsequent operations on the object will fail immediately), then you must call **Scanner.close()**.\r\n","title":"Is it necessary to close Scanner when there is no stream underlying?","body":"<p>If you want the <strong>Scanner</strong> to be marked as closed (so that all subsequent operations on the object will fail immediately), then you must call <strong>Scanner.close()</strong>.</p>\n"},{"tags":[],"owner":{"account_id":11685451,"reputation":11,"user_id":8555528,"display_name":"Abdullah Ahmad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694115963,"creation_date":1506273773,"answer_id":46392828,"question_id":17945683,"body_markdown":"I believe it is a good idea of using `scanner.close()`;\r\nI say this because it will prevent resource leaks and if you make this into a habit then it will be very beneficial to you.","title":"Is it necessary to close Scanner when there is no stream underlying?","body":"<p>I believe it is a good idea of using <code>scanner.close()</code>;\nI say this because it will prevent resource leaks and if you make this into a habit then it will be very beneficial to you.</p>\n"},{"tags":[],"owner":{"account_id":7018960,"reputation":81,"user_id":5379202,"display_name":"saral"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1583918123,"creation_date":1583918123,"answer_id":60632632,"question_id":17945683,"body_markdown":"Even though a scanner is not a stream, you need to **close** it to indicate that you&#39;re done with its underlying stream[ \\[1\\]][1]. IDEs like Eclipse will often issue a warning that you have a &quot;Resource leak: &#39;scanner&#39; is never closed&quot;.\r\n\r\n**Note:** **don&#39;t close** a Scanner that&#39;s tied to **System.in**! Since the System.in object is opened by the JVM, you should leave it to the JVM to close it[ \\[2\\]][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/io/scanning.html\r\n  [2]: https://coderanch.com/wiki/678613/Don-close-Scanner-tied-System","title":"Is it necessary to close Scanner when there is no stream underlying?","body":"<p>Even though a scanner is not a stream, you need to <strong>close</strong> it to indicate that you're done with its underlying stream<a href=\"https://docs.oracle.com/javase/tutorial/essential/io/scanning.html\" rel=\"noreferrer\"> [1]</a>. IDEs like Eclipse will often issue a warning that you have a \"Resource leak: 'scanner' is never closed\".</p>\n\n<p><strong>Note:</strong> <strong>don't close</strong> a Scanner that's tied to <strong>System.in</strong>! Since the System.in object is opened by the JVM, you should leave it to the JVM to close it<a href=\"https://coderanch.com/wiki/678613/Don-close-Scanner-tied-System\" rel=\"noreferrer\"> [2]</a>.</p>\n"}],"owner":{"account_id":2296572,"reputation":12728,"user_id":2017866,"accept_rate":76,"display_name":"Rollerball"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7253,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":6,"score":10,"last_activity_date":1694115963,"creation_date":1375183331,"question_id":17945683,"body_markdown":"Directly from this Scanner [API][1]:\r\n\r\n    String input = &quot;1 fish 2 fish red fish blue fish&quot;;\r\n         Scanner s = new Scanner(input).useDelimiter(&quot;\\\\s*fish\\\\s*&quot;);\r\n         System.out.println(s.nextInt());\r\n         System.out.println(s.nextInt());\r\n         System.out.println(s.next());\r\n         System.out.println(s.next());\r\n         s.close(); \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#hasNext%28%29","title":"Is it necessary to close Scanner when there is no stream underlying?","body":"<p>Directly from this Scanner <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#hasNext%28%29\" rel=\"noreferrer\">API</a>:</p>\n\n<pre><code>String input = \"1 fish 2 fish red fish blue fish\";\n     Scanner s = new Scanner(input).useDelimiter(\"\\\\s*fish\\\\s*\");\n     System.out.println(s.nextInt());\n     System.out.println(s.nextInt());\n     System.out.println(s.next());\n     System.out.println(s.next());\n     s.close(); \n</code></pre>\n"},{"tags":["java","date"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411117892,"creation_date":1354137674,"answer_id":13614658,"question_id":13614629,"body_markdown":"&gt; When I call time.toString(), the following is produced\r\n\r\nYes, it would be - because you&#39;re calling `Date.toString`. A `Date` value has no concept of format.\r\n\r\n&gt; Is there any way I can extract just the 8:00 from it?\r\n\r\nWhenever you want to convert to a string, you should use a `DateFormat`. So use the same format that you parsed in.\r\n\r\nAlternatively, use [Joda-Time][1], which has a [`LocalTime`][2] type specifically for &quot;time of day&quot;, and has a handy `parse` method. You should *still* use a [formatter][3] every time you want to convert to a string, but at least the value will be easier to work with and more descriptive before then.\r\n\r\n    LocalTime localTime = LocalTime.parse(&quot;8:00&quot;);\r\n\r\nTo format this, you can use something like [`ISODateTimeFormat.hourMinute()`][4] or if you might have more precision, perhaps `ISODateTimeFormat.hourMinuteSecond()` - see the docs for all of the many options available.\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [2]: http://www.joda.org/joda-time/apidocs/org/joda/time/LocalTime.html\r\n  [3]: http://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormatter.html\r\n  [4]: http://www.joda.org/joda-time/apidocs/org/joda/time/format/ISODateTimeFormat.html#hourMinute()","title":"How to modify my code to only get the time portion of a date?","body":"<blockquote>\n  <p>When I call time.toString(), the following is produced</p>\n</blockquote>\n\n<p>Yes, it would be - because you're calling <code>Date.toString</code>. A <code>Date</code> value has no concept of format.</p>\n\n<blockquote>\n  <p>Is there any way I can extract just the 8:00 from it?</p>\n</blockquote>\n\n<p>Whenever you want to convert to a string, you should use a <code>DateFormat</code>. So use the same format that you parsed in.</p>\n\n<p>Alternatively, use <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow\">Joda-Time</a>, which has a <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/LocalTime.html\" rel=\"nofollow\"><code>LocalTime</code></a> type specifically for \"time of day\", and has a handy <code>parse</code> method. You should <em>still</em> use a <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormatter.html\" rel=\"nofollow\">formatter</a> every time you want to convert to a string, but at least the value will be easier to work with and more descriptive before then.</p>\n\n<pre><code>LocalTime localTime = LocalTime.parse(\"8:00\");\n</code></pre>\n\n<p>To format this, you can use something like <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/format/ISODateTimeFormat.html#hourMinute()\" rel=\"nofollow\"><code>ISODateTimeFormat.hourMinute()</code></a> or if you might have more precision, perhaps <code>ISODateTimeFormat.hourMinuteSecond()</code> - see the docs for all of the many options available.</p>\n"},{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354138119,"creation_date":1354137753,"answer_id":13614672,"question_id":13614629,"body_markdown":"[java.util.Date][1] class represents a specific instant in time, with millisecond precision.\r\n\r\n**API says [java.util.Date.toString()][2]**\r\n\r\n&gt; Converts this Date object to a String of the form:  \r\n&gt;dow mon dd hh:mm:ss zzz yyyy\r\n\r\nIn order to format date&#39;s use [SimpleDateFormat][3] class\r\n\r\n\t\tSystem.out.println(new SimpleDateFormat(&quot;HH:mm&quot;).format(time));\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Date.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Date.html#toString%28%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"How to modify my code to only get the time portion of a date?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"nofollow\">java.util.Date</a> class represents a specific instant in time, with millisecond precision.</p>\n\n<p><strong>API says <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Date.html#toString%28%29\" rel=\"nofollow\">java.util.Date.toString()</a></strong></p>\n\n<blockquote>\n  <p>Converts this Date object to a String of the form:<br>\n  dow mon dd hh:mm:ss zzz yyyy</p>\n</blockquote>\n\n<p>In order to format date's use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">SimpleDateFormat</a> class</p>\n\n<pre><code>    System.out.println(new SimpleDateFormat(\"HH:mm\").format(time));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1138604,"reputation":30992,"user_id":1123123,"accept_rate":75,"display_name":"Sam I am says Reinstate Monica"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1354138495,"creation_date":1354137819,"answer_id":13614686,"question_id":13614629,"body_markdown":"recycle your original `SimpleDateFormat` Object\r\n\r\n\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;HH:mm&quot;)\r\n    Date time = format.parse(&quot;8:00&quot;);\r\n    String outString = format.format(time);\r\n\r\nin case you were wondering, [Here&#39;s some more information on DateTime Masks][1]\r\n\r\n\r\n  [1]: http://publib.boulder.ibm.com/infocenter/eglce/v1r0/index.jsp?topic=/com.ibm.eglce.lr.doc/topics/regl_core_date_format.html","title":"How to modify my code to only get the time portion of a date?","body":"<p>recycle your original <code>SimpleDateFormat</code> Object</p>\n\n<pre><code>SimpleDateFormat format = new SimpleDateFormat(\"HH:mm\")\nDate time = format.parse(\"8:00\");\nString outString = format.format(time);\n</code></pre>\n\n<p>in case you were wondering, <a href=\"http://publib.boulder.ibm.com/infocenter/eglce/v1r0/index.jsp?topic=/com.ibm.eglce.lr.doc/topics/regl_core_date_format.html\" rel=\"nofollow\">Here's some more information on DateTime Masks</a></p>\n"},{"tags":[],"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg Šelajev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354137853,"creation_date":1354137853,"answer_id":13614693,"question_id":13614629,"body_markdown":"Use the same SimpleDateFormat instance to format date into string.\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n    Date time = sdf.parse(&quot;8:00&quot;);\r\n    System.out.println(sdf.format(time));\r\n    \r\nThis will print:\r\n\r\n    08:00\r\n","title":"How to modify my code to only get the time portion of a date?","body":"<p>Use the same SimpleDateFormat instance to format date into string.</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"HH:mm\");\nDate time = sdf.parse(\"8:00\");\nSystem.out.println(sdf.format(time));\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>08:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694115756,"creation_date":1694115756,"answer_id":77062420,"question_id":13614629,"body_markdown":"java.time\r\n--\r\n\r\nExisting answers are correct but use the legacy date-time API, which was the right thing to do in 2012. \r\n\r\nIn March 2014, the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) supplanted the legacy date-time API. Since then, it has been strongly recommended to switch to `java.time`, the modern date-time API.\r\n\r\nThe `java.time` API has [`LocalTime`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html) to represent just time.\r\n\r\n    String strTime = &quot;8:00&quot;;\r\n    DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;H:mm&quot;, Locale.ENGLISH);\r\n    LocalTime time = LocalTime.parse(strTime, parser);\r\n    System.out.println(time);\r\n\r\n    // An example of formatting time to a custom format\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;, Locale.ENGLISH);\r\n    String formatted = time.format(formatter);\r\n    System.out.println(formatted);\r\n\r\n**Output:**\r\n\r\n    08:00\r\n    08:00:00\r\n\r\n[Online Demo](https://ideone.com/5r3fMx)\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**","title":"How to modify my code to only get the time portion of a date?","body":"<h2>java.time</h2>\n<p>Existing answers are correct but use the legacy date-time API, which was the right thing to do in 2012.</p>\n<p>In March 2014, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> supplanted the legacy date-time API. Since then, it has been strongly recommended to switch to <code>java.time</code>, the modern date-time API.</p>\n<p>The <code>java.time</code> API has <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"nofollow noreferrer\"><code>LocalTime</code></a> to represent just time.</p>\n<pre><code>String strTime = &quot;8:00&quot;;\nDateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;H:mm&quot;, Locale.ENGLISH);\nLocalTime time = LocalTime.parse(strTime, parser);\nSystem.out.println(time);\n\n// An example of formatting time to a custom format\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;, Locale.ENGLISH);\nString formatted = time.format(formatter);\nSystem.out.println(formatted);\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>08:00\n08:00:00\n</code></pre>\n<p><a href=\"https://ideone.com/5r3fMx\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong></p>\n"}],"owner":{"account_id":457054,"reputation":4881,"user_id":856132,"accept_rate":99,"display_name":"Dot NET"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13614686,"answer_count":5,"score":1,"last_activity_date":1694115756,"creation_date":1354137579,"question_id":13614629,"body_markdown":"I&#39;ve got the following code:\r\n\r\n    Date time = new SimpleDateFormat(&quot;HH:mm&quot;).parse(&quot;8:00&quot;);\r\n\r\nWhen I call `time.toString()`, the following is produced:\r\n\r\n`Thu Jan 01 08:00:00 CET 1970`\r\n\r\nIs there any way I can extract just the `8:00` from it? I have searched far and wide and have not found any way to do it using the standard SimpleDateFormat.","title":"How to modify my code to only get the time portion of a date?","body":"<p>I've got the following code:</p>\n\n<pre><code>Date time = new SimpleDateFormat(\"HH:mm\").parse(\"8:00\");\n</code></pre>\n\n<p>When I call <code>time.toString()</code>, the following is produced:</p>\n\n<p><code>Thu Jan 01 08:00:00 CET 1970</code></p>\n\n<p>Is there any way I can extract just the <code>8:00</code> from it? I have searched far and wide and have not found any way to do it using the standard SimpleDateFormat.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":479498,"reputation":2088,"user_id":892200,"display_name":"Sid Malani"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1477992412,"creation_date":1477992412,"answer_id":40357236,"question_id":40357006,"body_markdown":"Use synchronized - but if your user clicks quick enough then you will still have issues in that one command will execute immediately after another. \r\n\r\nSynchronized will make sure only one thread executes the block in \r\n\r\n    synchronized(this) { ... } \r\n\r\nat a time.\r\n\r\nYou may also want to introduce delays and reject commands in quick succession.\r\n\r\n   \r\n\r\n    try {\r\n        synchronized(this) {\r\n            String pinName = interruttore.getPinName();                     \r\n                if (!interruttore.isStato()) { // switch is off\r\n                GpioPinDigitalOutput relePin = interruttore.getGpio()\r\n                    .provisionDigitalOutputPin(RaspiPin.getPinByName(pinName));\r\n                interruttoreService.toggleSwitchNew(relePin, interruttore, lit); // turn it on\r\n                interruttore.getGpio().unprovisionPin(relePin);\r\n           }\r\n       }\r\n    } catch (GpioPinExistsException ge) {\r\n        logger.error(&quot;Gpio gi&#224; esistente&quot;);\r\n    }\r\n\r\n","title":"Spring Boot - how to avoid concurrent access to controller","body":"<p>Use synchronized - but if your user clicks quick enough then you will still have issues in that one command will execute immediately after another. </p>\n\n<p>Synchronized will make sure only one thread executes the block in </p>\n\n<pre><code>synchronized(this) { ... } \n</code></pre>\n\n<p>at a time.</p>\n\n<p>You may also want to introduce delays and reject commands in quick succession.</p>\n\n<pre><code>try {\n    synchronized(this) {\n        String pinName = interruttore.getPinName();                     \n            if (!interruttore.isStato()) { // switch is off\n            GpioPinDigitalOutput relePin = interruttore.getGpio()\n                .provisionDigitalOutputPin(RaspiPin.getPinByName(pinName));\n            interruttoreService.toggleSwitchNew(relePin, interruttore, lit); // turn it on\n            interruttore.getGpio().unprovisionPin(relePin);\n       }\n   }\n} catch (GpioPinExistsException ge) {\n    logger.error(\"Gpio già esistente\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1694115528,"creation_date":1477996731,"answer_id":40358410,"question_id":40357006,"body_markdown":"This is a classical locking problem. You can either use [pessimistic locking](http://www.martinfowler.com/eaaCatalog/pessimisticOfflineLock.html): by allowing only one client at the time to operate on the data (mutual exclusion) or by [optimistic locking](http://www.martinfowler.com/eaaCatalog/optimisticOfflineLock.html): by allowing multiple concurrent clients to operate on the data but allowing only the first committer to succeed.\r\n\r\nThere are many different ways to do that depending on the technology you are using. For example, an alternative way to solve it would be by using the right [database isolation level](https://www.postgresql.org/docs/9.1/static/transaction-iso.html). In your case it seems you need at least &quot;repeatable read&quot; isolation level.\r\n\r\nRepeatable read will ensure that if two concurrent transactions read and change the same record more or less concurrently, only one of them will succeed.\r\n\r\nIn your case you could mark your Spring transaction with the right [isolation level](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/annotation/Isolation.html).\r\n\r\n    @Transactional(isolation=REPEATABLE_READ)\r\n    public void toggleSwitch() {\r\n        String status = readSwithStatus();\r\n        if(status.equals(&quot;on&quot;) {\r\n             updateStatus(&quot;off&quot;);\r\n        } else {\r\n             updateStatus(&quot;on&quot;);\r\n        }\r\n    }\r\n\r\nIf two concurrent clients try to update the switch status, the first to commit will win, and the second one will always fail. You just have to be prepared to tell the second client its transaction did not succeed due to concurrent failure. This second transaction is automatically rolled back. You or your client may decide to retry it or not.\r\n\r\n\r\n    @Autowire\r\n    LightService lightService;\r\n    \r\n    @GET\r\n    public ResponseEntity&lt;String&gt; toggleLight(){\r\n       try {\r\n           lightService.toggleSwitch();\r\n           //send a 200 OK\r\n       }catch(OptimisticLockingFailureException e) {\r\n          //send a Http status 409 Conflict!\r\n       }\r\n    }\r\n\r\nBut as I was saying, depending on what you&#39;re using (e.g. JPA, Hibernate, plain JDBC), there are multiple ways to do this with either pessimistic or optimistic locking strategies. \r\n\r\n**Why Not Just Thread Synchronization?**\r\n\r\nOther answers suggested so far are about pessimistic locking by using Java&#39;s mutual exclusion at the thread level using synchronized blocks which might work if you have a *single JVM* running your code. This strategy might prove to be ineffective if you have more than one JVM running your code or if you eventually scale horizontally and add more JVM nodes behind a load balancer, in whose case thread locking would not solve your problem anymore.\r\n\r\nBut you could still implement pessimistic locking at the database level, by forcing the process to lock the database record before changing it and by this creating a mutual exclusion zone at the database level (e.g. `select for update`).\r\n\r\nSo, what matters here is understanding the locking principles and then finding a strategy that works for your particular scenario and tech stack. Most likely, in your case, it will involve some form of locking at the database level at some point.","title":"Spring Boot - how to avoid concurrent access to controller","body":"<p>This is a classical locking problem. You can either use <a href=\"http://www.martinfowler.com/eaaCatalog/pessimisticOfflineLock.html\" rel=\"nofollow noreferrer\">pessimistic locking</a>: by allowing only one client at the time to operate on the data (mutual exclusion) or by <a href=\"http://www.martinfowler.com/eaaCatalog/optimisticOfflineLock.html\" rel=\"nofollow noreferrer\">optimistic locking</a>: by allowing multiple concurrent clients to operate on the data but allowing only the first committer to succeed.</p>\n<p>There are many different ways to do that depending on the technology you are using. For example, an alternative way to solve it would be by using the right <a href=\"https://www.postgresql.org/docs/9.1/static/transaction-iso.html\" rel=\"nofollow noreferrer\">database isolation level</a>. In your case it seems you need at least &quot;repeatable read&quot; isolation level.</p>\n<p>Repeatable read will ensure that if two concurrent transactions read and change the same record more or less concurrently, only one of them will succeed.</p>\n<p>In your case you could mark your Spring transaction with the right <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/annotation/Isolation.html\" rel=\"nofollow noreferrer\">isolation level</a>.</p>\n<pre><code>@Transactional(isolation=REPEATABLE_READ)\npublic void toggleSwitch() {\n    String status = readSwithStatus();\n    if(status.equals(&quot;on&quot;) {\n         updateStatus(&quot;off&quot;);\n    } else {\n         updateStatus(&quot;on&quot;);\n    }\n}\n</code></pre>\n<p>If two concurrent clients try to update the switch status, the first to commit will win, and the second one will always fail. You just have to be prepared to tell the second client its transaction did not succeed due to concurrent failure. This second transaction is automatically rolled back. You or your client may decide to retry it or not.</p>\n<pre><code>@Autowire\nLightService lightService;\n\n@GET\npublic ResponseEntity&lt;String&gt; toggleLight(){\n   try {\n       lightService.toggleSwitch();\n       //send a 200 OK\n   }catch(OptimisticLockingFailureException e) {\n      //send a Http status 409 Conflict!\n   }\n}\n</code></pre>\n<p>But as I was saying, depending on what you're using (e.g. JPA, Hibernate, plain JDBC), there are multiple ways to do this with either pessimistic or optimistic locking strategies.</p>\n<p><strong>Why Not Just Thread Synchronization?</strong></p>\n<p>Other answers suggested so far are about pessimistic locking by using Java's mutual exclusion at the thread level using synchronized blocks which might work if you have a <em>single JVM</em> running your code. This strategy might prove to be ineffective if you have more than one JVM running your code or if you eventually scale horizontally and add more JVM nodes behind a load balancer, in whose case thread locking would not solve your problem anymore.</p>\n<p>But you could still implement pessimistic locking at the database level, by forcing the process to lock the database record before changing it and by this creating a mutual exclusion zone at the database level (e.g. <code>select for update</code>).</p>\n<p>So, what matters here is understanding the locking principles and then finding a strategy that works for your particular scenario and tech stack. Most likely, in your case, it will involve some form of locking at the database level at some point.</p>\n"},{"tags":[],"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477998203,"creation_date":1477998203,"answer_id":40358780,"question_id":40357006,"body_markdown":"Other people&#39;s answers seem overly complex to me... Keep it simple.\r\n\r\nInstead of toggling make the request have the new value. Inside controller put a `synchronized` block. Perform action inside the synchronized block only if the new value differs current value.\r\n\r\n    Object lock = new Object();\r\n    Boolean currentValue = Boolean.FALSE;\r\n    void ligthsChange(Boolean newValue) {\r\n      synchronized(lock) {\r\n        if (!currentValue.equals(newValue)) {\r\n          doTheSwitch();\r\n          currentValue = newValue;\r\n        }\r\n      }\r\n    }","title":"Spring Boot - how to avoid concurrent access to controller","body":"<p>Other people's answers seem overly complex to me... Keep it simple.</p>\n\n<p>Instead of toggling make the request have the new value. Inside controller put a <code>synchronized</code> block. Perform action inside the synchronized block only if the new value differs current value.</p>\n\n<pre><code>Object lock = new Object();\nBoolean currentValue = Boolean.FALSE;\nvoid ligthsChange(Boolean newValue) {\n  synchronized(lock) {\n    if (!currentValue.equals(newValue)) {\n      doTheSwitch();\n      currentValue = newValue;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13506638,"reputation":1925,"user_id":9744452,"display_name":"Vikki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549415870,"creation_date":1549415870,"answer_id":54545409,"question_id":40357006,"body_markdown":"Can also use ReentrantLock, or use synchronized\r\n\r\n    public class TestClass {\r\n\r\n    private static Lock lock = new ReentrantLock();\r\n\r\n     public void testMethod() {\r\n            lock.lock();\r\n            try {         \r\n                //your codes here...\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }\r\n    }\r\n","title":"Spring Boot - how to avoid concurrent access to controller","body":"<p>Can also use ReentrantLock, or use synchronized</p>\n\n<pre><code>public class TestClass {\n\nprivate static Lock lock = new ReentrantLock();\n\n public void testMethod() {\n        lock.lock();\n        try {         \n            //your codes here...\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2337240,"reputation":397,"user_id":2049279,"accept_rate":45,"display_name":"ufdeveloper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594475289,"creation_date":1594475289,"answer_id":62849984,"question_id":40357006,"body_markdown":"I feel this API violates the rule that a PUT API should be idempotent. It would be better to have separate turnOn and turnOff APIs which would avoid this problem. ","title":"Spring Boot - how to avoid concurrent access to controller","body":"<p>I feel this API violates the rule that a PUT API should be idempotent. It would be better to have separate turnOn and turnOff APIs which would avoid this problem.</p>\n"},{"tags":[],"owner":{"account_id":11869184,"reputation":51,"user_id":8685903,"display_name":"arnav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666511246,"creation_date":1666511246,"answer_id":74169451,"question_id":40357006,"body_markdown":"You can use cache-based locking as well. Heres an example using redis cache.\r\nYou can even allow idempotency keys, in case you need concurrent but limited access too.\r\n\r\n \r\n\r\n    @Autowired\r\n    CacheManager cacheManager;\r\n    \r\n    @PostMapping(path = &quot;/upload&quot;, consumes=MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public void uploadFile(@RequestPart String idempotencyKey,\r\n                           HttpServletResponse response) {\r\n\r\n        Cache cache = cacheManager.getCache(CacheConfig.GIFT_REDEEM_IDEMPOTENCY);\r\n        if (cache.get(idempotencyKey) != null) {\r\n            throw new ForbiddenException(&quot;request being processed with the idempotencyKey = &quot; + idempotencyKey);\r\n        }\r\n        cache.put(idempotencyKey, &quot;&quot;);\r\n        try {...\r\n            }\r\n    }","title":"Spring Boot - how to avoid concurrent access to controller","body":"<p>You can use cache-based locking as well. Heres an example using redis cache.\nYou can even allow idempotency keys, in case you need concurrent but limited access too.</p>\n<pre><code>@Autowired\nCacheManager cacheManager;\n\n@PostMapping(path = &quot;/upload&quot;, consumes=MediaType.MULTIPART_FORM_DATA_VALUE)\npublic void uploadFile(@RequestPart String idempotencyKey,\n                       HttpServletResponse response) {\n\n    Cache cache = cacheManager.getCache(CacheConfig.GIFT_REDEEM_IDEMPOTENCY);\n    if (cache.get(idempotencyKey) != null) {\n        throw new ForbiddenException(&quot;request being processed with the idempotencyKey = &quot; + idempotencyKey);\n    }\n    cache.put(idempotencyKey, &quot;&quot;);\n    try {...\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":7281098,"reputation":3024,"user_id":5550833,"accept_rate":56,"display_name":"MarioC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33019,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":40358410,"answer_count":6,"score":16,"last_activity_date":1694115528,"creation_date":1477991489,"question_id":40357006,"body_markdown":"We have a Spring Boot application which is linked to various client on the field.\r\nThis application has a controller which is called from the clients and interact with the DB and with a physical switch, to turn off or on a light.\r\n\r\nThe problem comes when two or more clients access an API on the server, because the method checks if the light is on or off (on the DB) to change its status. It occurs that if the light is OFF, and 2 clients call the service at the same time, the first turns on the light and change the status on the db but the second access the light too, the status is OFF on the DB but the first client has already tuned on the light, so the seconds eventually shuts it down thinking to turn it on... Maybe my explanation is a little unclear, the problem is: can I tell spring to access a controller one request at the time?\r\n\r\n\r\nThanks to the answer below, we introduced pessimistic lock on the method that toggles the switch, but we continue to have a 200 status from our clients...\r\n\r\nWe are using spring boot + hibernate\r\n\r\nnow the controller has the exception for pessimistic lock\t\t\t\t\r\n\r\n  \r\n\r\n      try {\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\tString pinName = interruttore.getPinName();\r\n    \t\t\t\t\t\t\t\t// logger.debug(&quot;Sono nel nuovo ciclo di\r\n    \t\t\t\t\t\t\t\t// gestione interruttore&quot;);\r\n    \t\t\t\t\t\t\t\tif (!interruttore.isStato()) { // solo se\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// l&#39;interruttore\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// &#232;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// spento\r\n    \r\n    \t\t\t\t\t\t\t\t\tGpioPinDigitalOutput relePin = interruttore.getGpio()\r\n    \t\t\t\t\t\t\t\t\t\t\t.provisionDigitalOutputPin(RaspiPin.getPinByName(pinName));\r\n    \t\t\t\t\t\t\t\t\tinterruttoreService.toggleSwitchNew(relePin, interruttore, lit);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// accendo\r\n    \t\t\t\t\t\t\t\t\tinterruttore.getGpio().unprovisionPin(relePin);\r\n    \t\t\t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\t\t\r\n    \r\n    \t\t\t\t\t\t} catch (GpioPinExistsException ge) {\r\n    \t\t\t\t\t\t\tlogger.error(&quot;Gpio gi&#224; esistente&quot;);\r\n    \t\t\t\t\t\t} catch (PessimisticLockingFailureException pe){\r\n    \t\t\t\t\t\t\tlogger.error(&quot;Pessimistic Lock conflict&quot;, pe);\r\n    \t\t\t\t\t\t\treturn new ResponseEntity&lt;Sensoristica&gt;(sensoristica, HttpStatus.CONFLICT);\r\n    \t\t\t\t\t\t}\r\n\r\n`toggleSwitchNew` is as follows\r\n \r\n\r\n   \r\n\r\n    @Override\r\n    @Transactional(isolation=Isolation.REPEATABLE_READ)\r\n    public void toggleSwitchNew(GpioPinDigitalOutput relePin, Interruttore interruttore, boolean on) {\r\n    \tDate date = new Date();\r\n    \tinterruttore.setDateTime(new Timestamp(date.getTime()));\r\n    \tinterruttore.setStato(on);\r\n    \t\r\n    \tString log = getLogStatus(on) + interruttore.getNomeInterruttore();\r\n    \tlogger.debug(log);\r\n    \trelePin.high();\r\n    \ttry {\r\n    \t\tThread.sleep(200);\r\n    \t} catch (InterruptedException e) {\r\n    \t\tlogger.error(&quot;Errore sleep &quot;, e);\r\n    \t}\r\n    \trelePin.low();\r\n    \tupdateInterruttore(interruttore);\r\n    \tilluminazioneService.createIlluminazione(interruttore, on);\r\n    \t\r\n    \r\n    }\r\n\r\nThen we log the request status code in our clients and they alway get 200 even if they are concurrent\r\n\r\n\r\n","title":"Spring Boot - how to avoid concurrent access to controller","body":"<p>We have a Spring Boot application which is linked to various client on the field.\nThis application has a controller which is called from the clients and interact with the DB and with a physical switch, to turn off or on a light.</p>\n\n<p>The problem comes when two or more clients access an API on the server, because the method checks if the light is on or off (on the DB) to change its status. It occurs that if the light is OFF, and 2 clients call the service at the same time, the first turns on the light and change the status on the db but the second access the light too, the status is OFF on the DB but the first client has already tuned on the light, so the seconds eventually shuts it down thinking to turn it on... Maybe my explanation is a little unclear, the problem is: can I tell spring to access a controller one request at the time?</p>\n\n<p>Thanks to the answer below, we introduced pessimistic lock on the method that toggles the switch, but we continue to have a 200 status from our clients...</p>\n\n<p>We are using spring boot + hibernate</p>\n\n<p>now the controller has the exception for pessimistic lock               </p>\n\n<pre><code>  try {\n\n                                String pinName = interruttore.getPinName();\n                                // logger.debug(\"Sono nel nuovo ciclo di\n                                // gestione interruttore\");\n                                if (!interruttore.isStato()) { // solo se\n                                                                // l'interruttore\n                                                                // è\n                                                                // spento\n\n                                    GpioPinDigitalOutput relePin = interruttore.getGpio()\n                                            .provisionDigitalOutputPin(RaspiPin.getPinByName(pinName));\n                                    interruttoreService.toggleSwitchNew(relePin, interruttore, lit);                                                            // accendo\n                                    interruttore.getGpio().unprovisionPin(relePin);\n                                }\n\n\n\n                        } catch (GpioPinExistsException ge) {\n                            logger.error(\"Gpio già esistente\");\n                        } catch (PessimisticLockingFailureException pe){\n                            logger.error(\"Pessimistic Lock conflict\", pe);\n                            return new ResponseEntity&lt;Sensoristica&gt;(sensoristica, HttpStatus.CONFLICT);\n                        }\n</code></pre>\n\n<p><code>toggleSwitchNew</code> is as follows</p>\n\n<pre><code>@Override\n@Transactional(isolation=Isolation.REPEATABLE_READ)\npublic void toggleSwitchNew(GpioPinDigitalOutput relePin, Interruttore interruttore, boolean on) {\n    Date date = new Date();\n    interruttore.setDateTime(new Timestamp(date.getTime()));\n    interruttore.setStato(on);\n\n    String log = getLogStatus(on) + interruttore.getNomeInterruttore();\n    logger.debug(log);\n    relePin.high();\n    try {\n        Thread.sleep(200);\n    } catch (InterruptedException e) {\n        logger.error(\"Errore sleep \", e);\n    }\n    relePin.low();\n    updateInterruttore(interruttore);\n    illuminazioneService.createIlluminazione(interruttore, on);\n\n\n}\n</code></pre>\n\n<p>Then we log the request status code in our clients and they alway get 200 even if they are concurrent</p>\n"},{"tags":["java","amazon-web-services","amazon-kinesis-analytics"],"owner":{"account_id":17443924,"reputation":1,"user_id":12645323,"display_name":"user12645323"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694115255,"creation_date":1692874482,"question_id":76968587,"body_markdown":"I am using AWS Kinesis Streaming Application to process streaming data.\r\n\r\nThe application is running but I found nothing was sank to my Redis. Related code:\r\n\r\n\r\n```\r\npublic class SpyProcessor {\r\n    private static final Logger log = LogManager.getLogger(SpyProcessor.class);\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n        // Process logic\r\n         ......\r\n        \r\n\r\n        //Redis sink\r\n        FlinkJedisPoolConfig conf = new FlinkJedisPoolConfig.Builder().setHost(&quot;my-redis-host&quot;).setPort(6379).build();\r\n\r\n        aggStream.addSink(new RedisSink&lt;&gt;(conf, new RedisSinkExample()));\r\n        log.info(&quot;Redis sink added&quot;);\r\n        env.execute(&quot;Kinesis Data Analytics Flink Application with  Session Window and Aggregate Function&quot;);\r\n\r\n\r\n\r\npublic class RedisSinkExample implements RedisMapper&lt;SpyViewCount&gt; {\r\n    private static final Logger log = LogManager.getLogger(RedisSinkExample.class);\r\n\r\n//    private Jedis jedis;\r\n\r\n    @Override\r\n    public RedisCommandDescription getCommandDescription() {\r\n        return new RedisCommandDescription(RedisCommand.SET, null);\r\n    }\r\n\r\n    @Override\r\n    public String getKeyFromData(SpyViewCount spyViewCount) {\r\n        log.info(&quot;sinking key: &quot; + spyViewCount.getUserId() + &quot;_&quot; + spyViewCount.getElement());\r\n        return spyViewCount.getUserId() + &quot;_&quot; + spyViewCount.getElement();\r\n    }\r\n\r\n    @Override\r\n    public String getValueFromData(SpyViewCount spyViewCount) {\r\n        log.info(&quot;sinking value: &quot; + spyViewCount.getCount());\r\n        return spyViewCount.getCount().toString();\r\n    }\r\n}\r\n\r\n\r\n@Data\r\n@AllArgsConstructor\r\npublic class SpyViewCount {\r\n    private String userId;\r\n    private Long element;\r\n    private Long count;\r\n    private Long windowEnd;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nMy Pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;1.11&lt;/java.version&gt;\r\n        &lt;kda.version&gt;2.0.0&lt;/kda.version&gt;\r\n        &lt;kda.runtime.version&gt;1.2.0&lt;/kda.runtime.version&gt;\r\n        &lt;flink.version&gt;1.15.2&lt;/flink.version&gt;\r\n        &lt;seel-common-version&gt;1.1.54&lt;/seel-common-version&gt;\r\n        &lt;kinesis.analytics.flink.version&gt;2.0.0&lt;/kinesis.analytics.flink.version&gt;\r\n        &lt;kinesis.analytics.runtime.version&gt;1.2.0&lt;/kinesis.analytics.runtime.version&gt;\r\n        &lt;maven.build.timestamp.format&gt;yyyy_MM_dd_HH_mm_ss&lt;/maven.build.timestamp.format&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;1.11.903&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-connector-redis_2.10&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-connector-kinesis&lt;/artifactId&gt;\r\n            &lt;version&gt;1.15.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;flink-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;flink-shaded-guava&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-kinesisanalytics-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;${kinesis.analytics.runtime.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-kinesisanalytics-flink&lt;/artifactId&gt;\r\n            &lt;version&gt;${kinesis.analytics.flink.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-logs&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.seel&lt;/groupId&gt;\r\n            &lt;artifactId&gt;merchant-service-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.80&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.seel&lt;/groupId&gt;\r\n            &lt;artifactId&gt;seel-common&lt;/artifactId&gt;\r\n            &lt;version&gt;${seel-common-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-kinesisanalytics-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;${kda.runtime.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-kinesisanalytics-flink&lt;/artifactId&gt;\r\n            &lt;version&gt;${kda.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;instant-variable&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n\r\n        &lt;plugins&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.scala-tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-scala-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.15.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.19&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;artifactSet&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;org.apache.flink:force-shading&lt;/exclude&gt;\r\n                                    &lt;exclude&gt;com.google.code.findbugs:jsr305&lt;/exclude&gt;\r\n                                    &lt;exclude&gt;org.slf4j:*&lt;/exclude&gt;\r\n                                    &lt;exclude&gt;log4j:*&lt;/exclude&gt;\r\n                                &lt;/excludes&gt;\r\n                            &lt;/artifactSet&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer\r\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;\r\n                                        com.seel.quasi.spy.SpyProcessor\r\n                                    &lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n\r\n\r\n        &lt;finalName&gt;spy_${maven.build.timestamp}&lt;/finalName&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI can see in Cloudwatch Logs that the application is processing streaming data. However, no a single data sank to my redis server. \r\n\r\nHope someone can help..\r\n\r\n\r\n\r\n\r\nData successfully sink to redis server","title":"AWS Kinesis streaming application failed to sink data to Redis","body":"<p>I am using AWS Kinesis Streaming Application to process streaming data.</p>\n<p>The application is running but I found nothing was sank to my Redis. Related code:</p>\n<pre><code>public class SpyProcessor {\n    private static final Logger log = LogManager.getLogger(SpyProcessor.class);\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        // Process logic\n         ......\n        \n\n        //Redis sink\n        FlinkJedisPoolConfig conf = new FlinkJedisPoolConfig.Builder().setHost(&quot;my-redis-host&quot;).setPort(6379).build();\n\n        aggStream.addSink(new RedisSink&lt;&gt;(conf, new RedisSinkExample()));\n        log.info(&quot;Redis sink added&quot;);\n        env.execute(&quot;Kinesis Data Analytics Flink Application with  Session Window and Aggregate Function&quot;);\n\n\n\npublic class RedisSinkExample implements RedisMapper&lt;SpyViewCount&gt; {\n    private static final Logger log = LogManager.getLogger(RedisSinkExample.class);\n\n//    private Jedis jedis;\n\n    @Override\n    public RedisCommandDescription getCommandDescription() {\n        return new RedisCommandDescription(RedisCommand.SET, null);\n    }\n\n    @Override\n    public String getKeyFromData(SpyViewCount spyViewCount) {\n        log.info(&quot;sinking key: &quot; + spyViewCount.getUserId() + &quot;_&quot; + spyViewCount.getElement());\n        return spyViewCount.getUserId() + &quot;_&quot; + spyViewCount.getElement();\n    }\n\n    @Override\n    public String getValueFromData(SpyViewCount spyViewCount) {\n        log.info(&quot;sinking value: &quot; + spyViewCount.getCount());\n        return spyViewCount.getCount().toString();\n    }\n}\n\n\n@Data\n@AllArgsConstructor\npublic class SpyViewCount {\n    private String userId;\n    private Long element;\n    private Long count;\n    private Long windowEnd;\n}\n\n</code></pre>\n<p>My Pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;1.11&lt;/java.version&gt;\n        &lt;kda.version&gt;2.0.0&lt;/kda.version&gt;\n        &lt;kda.runtime.version&gt;1.2.0&lt;/kda.runtime.version&gt;\n        &lt;flink.version&gt;1.15.2&lt;/flink.version&gt;\n        &lt;seel-common-version&gt;1.1.54&lt;/seel-common-version&gt;\n        &lt;kinesis.analytics.flink.version&gt;2.0.0&lt;/kinesis.analytics.flink.version&gt;\n        &lt;kinesis.analytics.runtime.version&gt;1.2.0&lt;/kinesis.analytics.runtime.version&gt;\n        &lt;maven.build.timestamp.format&gt;yyyy_MM_dd_HH_mm_ss&lt;/maven.build.timestamp.format&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n                &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\n                &lt;version&gt;1.11.903&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.6.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-connector-redis_2.10&lt;/artifactId&gt;\n            &lt;version&gt;1.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-connector-kinesis&lt;/artifactId&gt;\n            &lt;version&gt;1.15.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n                    &lt;artifactId&gt;flink-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n                    &lt;artifactId&gt;flink-shaded-guava&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-kinesisanalytics-runtime&lt;/artifactId&gt;\n            &lt;version&gt;${kinesis.analytics.runtime.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-kinesisanalytics-flink&lt;/artifactId&gt;\n            &lt;version&gt;${kinesis.analytics.flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-logs&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.seel&lt;/groupId&gt;\n            &lt;artifactId&gt;merchant-service-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2.80&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.seel&lt;/groupId&gt;\n            &lt;artifactId&gt;seel-common&lt;/artifactId&gt;\n            &lt;version&gt;${seel-common-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-kinesisanalytics-runtime&lt;/artifactId&gt;\n            &lt;version&gt;${kda.runtime.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-kinesisanalytics-flink&lt;/artifactId&gt;\n            &lt;version&gt;${kda.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.example&lt;/groupId&gt;\n            &lt;artifactId&gt;instant-variable&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.scala-tools&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-scala-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.15.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactSet&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;org.apache.flink:force-shading&lt;/exclude&gt;\n                                    &lt;exclude&gt;com.google.code.findbugs:jsr305&lt;/exclude&gt;\n                                    &lt;exclude&gt;org.slf4j:*&lt;/exclude&gt;\n                                    &lt;exclude&gt;log4j:*&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/artifactSet&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;\n                                        com.seel.quasi.spy.SpyProcessor\n                                    &lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n\n\n        &lt;finalName&gt;spy_${maven.build.timestamp}&lt;/finalName&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I can see in Cloudwatch Logs that the application is processing streaming data. However, no a single data sank to my redis server.</p>\n<p>Hope someone can help..</p>\n<p>Data successfully sink to redis server</p>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":10,"creation_date":1314255783,"post_id":7186204,"comment_id":8628944,"body_markdown":"In general, valueOf is preferred (because it can avoid making new objects by reusing &quot;popular&quot; instances), but in the case of BigDecimals and double, unfortunately, the two methods produce different results, so you have to choose which one you need.","body":"In general, valueOf is preferred (because it can avoid making new objects by reusing &quot;popular&quot; instances), but in the case of BigDecimals and double, unfortunately, the two methods produce different results, so you have to choose which one you need."}],"answers":[{"tags":[],"owner":{"account_id":212639,"reputation":583,"user_id":465583,"accept_rate":67,"display_name":"DXTR66"},"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1314255459,"creation_date":1314255459,"answer_id":7186240,"question_id":7186204,"body_markdown":"Basically valueOf(double val) just does this:\r\n\r\n`return new BigDecimal(Double.toString(val));`\r\n\r\n\r\nTherefore -&gt; yep, a new object will be created :).\r\n\r\nIn general I think it depends upon your coding style. I would not mixure valueOf and &quot;new&quot;, if both are the same outcome.","title":"BigDecimal - to use new or valueOf","body":"<p>Basically valueOf(double val) just does this:</p>\n\n<p><code>return new BigDecimal(Double.toString(val));</code></p>\n\n<p>Therefore -> yep, a new object will be created :).</p>\n\n<p>In general I think it depends upon your coding style. I would not mixure valueOf and \"new\", if both are the same outcome.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":208,"is_accepted":true,"score":208,"last_activity_date":1314258816,"creation_date":1314255728,"answer_id":7186298,"question_id":7186204,"body_markdown":"Those are two separate questions: &quot;What should I use for `BigDecimal`?&quot; and &quot;What do I do in general?&quot;\r\n\r\nFor `BigDecimal`: this is a bit tricky, because they **don&#39;t do the same thing**. [`BigDecimal.valueOf(double)`][1] will use the [*canonical `String` representation*][2] of the `double` value passed in to instantiate the `BigDecimal` object. In other words: The value of the `BigDecimal` object will be what you see when you do `System.out.println(d)`.\r\n\r\nIf you use [`new BigDecimal(d)`][3] however, then the `BigDecimal` will try to represent the `double` value *as accurately as possible*. This will *usually* result in a lot more digits being stored than you want. Strictly speaking, it&#39;s more correct than `valueOf()`, but it&#39;s a lot less intuitive.\r\n\r\nThere&#39;s a nice explanation of this in the JavaDoc:\r\n\r\n&gt; The results of this constructor can be somewhat unpredictable. One might assume that writing `new BigDecimal(0.1)` in Java creates a `BigDecimal` which is exactly equal to 0.1 (an unscaled value of 1, with a scale of 1), but it is actually equal to 0.1000000000000000055511151231257827021181583404541015625. This is because 0.1 cannot be represented exactly as a `double` (or, for that matter, as a binary fraction of any finite length). Thus, the value that is being passed in to the constructor is not exactly equal to 0.1, appearances notwithstanding.\r\n\r\nIn general, *if the result is the same* (i.e. not in the case of `BigDecimal`, but in most other cases), then `valueOf()` should be preferred: it can do caching of common values (as seen on [`Integer.valueOf()`][4]) and it can even change the caching behaviour without the caller having to be changed. `new` will *always* instantiate a new value, even if not necessary (best example: `new Boolean(true)` vs. `Boolean.valueOf(true)`).\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#valueOf%28double%29\r\n  [2]: http://download.oracle.com/javase/7/docs/api/java/lang/Double.html#toString%28double%29\r\n  [3]: http://download.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#BigDecimal%28double%29\r\n  [4]: http://download.oracle.com/javase/7/docs/api/java/lang/Integer.html#valueOf%28int%29","title":"BigDecimal - to use new or valueOf","body":"<p>Those are two separate questions: \"What should I use for <code>BigDecimal</code>?\" and \"What do I do in general?\"</p>\n\n<p>For <code>BigDecimal</code>: this is a bit tricky, because they <strong>don't do the same thing</strong>. <a href=\"http://download.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#valueOf%28double%29\" rel=\"noreferrer\"><code>BigDecimal.valueOf(double)</code></a> will use the <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/Double.html#toString%28double%29\" rel=\"noreferrer\"><em>canonical <code>String</code> representation</em></a> of the <code>double</code> value passed in to instantiate the <code>BigDecimal</code> object. In other words: The value of the <code>BigDecimal</code> object will be what you see when you do <code>System.out.println(d)</code>.</p>\n\n<p>If you use <a href=\"http://download.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#BigDecimal%28double%29\" rel=\"noreferrer\"><code>new BigDecimal(d)</code></a> however, then the <code>BigDecimal</code> will try to represent the <code>double</code> value <em>as accurately as possible</em>. This will <em>usually</em> result in a lot more digits being stored than you want. Strictly speaking, it's more correct than <code>valueOf()</code>, but it's a lot less intuitive.</p>\n\n<p>There's a nice explanation of this in the JavaDoc:</p>\n\n<blockquote>\n  <p>The results of this constructor can be somewhat unpredictable. One might assume that writing <code>new BigDecimal(0.1)</code> in Java creates a <code>BigDecimal</code> which is exactly equal to 0.1 (an unscaled value of 1, with a scale of 1), but it is actually equal to 0.1000000000000000055511151231257827021181583404541015625. This is because 0.1 cannot be represented exactly as a <code>double</code> (or, for that matter, as a binary fraction of any finite length). Thus, the value that is being passed in to the constructor is not exactly equal to 0.1, appearances notwithstanding.</p>\n</blockquote>\n\n<p>In general, <em>if the result is the same</em> (i.e. not in the case of <code>BigDecimal</code>, but in most other cases), then <code>valueOf()</code> should be preferred: it can do caching of common values (as seen on <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/Integer.html#valueOf%28int%29\" rel=\"noreferrer\"><code>Integer.valueOf()</code></a>) and it can even change the caching behaviour without the caller having to be changed. <code>new</code> will <em>always</em> instantiate a new value, even if not necessary (best example: <code>new Boolean(true)</code> vs. <code>Boolean.valueOf(true)</code>).</p>\n"},{"tags":[],"owner":{"account_id":1014607,"reputation":4573,"user_id":1026453,"accept_rate":83,"display_name":"DuncanKinnear"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1331782063,"creation_date":1331782063,"answer_id":9713581,"question_id":7186204,"body_markdown":"If you are using your `BigDecimal` objects to store currency values, then I strongly recommend that you do **NOT** involve any double values anywhere in their calculations.\r\n\r\nAs stated in another answer, there are known accuracy issues with double values and these will come back to haunt you big time.\r\n\r\nOnce you get past that, the answer to your question is simple. Always use the constructor method with the String value as the argument to the constructor, as there is no `valueOf` method for `String`.\r\n\r\nIf you want proof, try the following:\r\n\r\n    BigDecimal bd1 = new BigDecimal(0.01);\r\n    BigDecimal bd2 = new BigDecimal(&quot;0.01&quot;);\r\n    System.out.println(&quot;bd1 = &quot; + bd1);\r\n    System.out.println(&quot;bd2 = &quot; + bd2);\r\n\r\nYou&#39;ll get the following output:\r\n\r\n    bd1 = 0.01000000000000000020816681711721685132943093776702880859375\r\n    bd2 = 0.01\r\n\r\nSee also this [related question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8400032/can-we-use-double-to-store-monetary-fields-and-use-bigdecimal-for-arithmetic/8497607#8497607","title":"BigDecimal - to use new or valueOf","body":"<p>If you are using your <code>BigDecimal</code> objects to store currency values, then I strongly recommend that you do <strong>NOT</strong> involve any double values anywhere in their calculations.</p>\n\n<p>As stated in another answer, there are known accuracy issues with double values and these will come back to haunt you big time.</p>\n\n<p>Once you get past that, the answer to your question is simple. Always use the constructor method with the String value as the argument to the constructor, as there is no <code>valueOf</code> method for <code>String</code>.</p>\n\n<p>If you want proof, try the following:</p>\n\n<pre><code>BigDecimal bd1 = new BigDecimal(0.01);\nBigDecimal bd2 = new BigDecimal(\"0.01\");\nSystem.out.println(\"bd1 = \" + bd1);\nSystem.out.println(\"bd2 = \" + bd2);\n</code></pre>\n\n<p>You'll get the following output:</p>\n\n<pre><code>bd1 = 0.01000000000000000020816681711721685132943093776702880859375\nbd2 = 0.01\n</code></pre>\n\n<p>See also this <a href=\"https://stackoverflow.com/questions/8400032/can-we-use-double-to-store-monetary-fields-and-use-bigdecimal-for-arithmetic/8497607#8497607\">related question</a></p>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660192977,"creation_date":1660111221,"answer_id":73301312,"question_id":7186204,"body_markdown":"### Foreword\r\nWhy are we having these discussions about floating-point type, numbers &amp; arithmetic? Simple. We count in base 10, but the machine count in base 2.\r\n\r\n### BigDecimal - Need for an exact representation (not approximation)\r\nIf you are using `BigDecimal`, this means that you want an exact representation of `0.1` and other negative powers of ten (usually you would be dealing with money or arithmetic involving decimals).\r\n\r\n### Double means trouble (where BigDecimal is concerned)\r\nThen, if you are finding yourself having to manipulate `double`(or float) values using `BigDecimal`, then you are in double trouble, because it is impossible to represent `0.1` as a double in base 2. The machine &quot;stores&quot; doubles([IEEE-754 standard for floating-point arithmetic](https://standards.ieee.org/ieee/754/6210/)) as base 2. [Here](https://docs.python.org/3/tutorial/floatingpoint.html) is a good write-up of what&#39;s really happening if you are interested.). [Duncan&#39;s answer](https://stackoverflow.com/a/9713581/4982691) illustrates what i am trying to say, of what to do and not do.\r\n\r\nAny programming language that you think can store 0.1 accurately is actually not. It is just an approximation. \r\n\r\n    System.out.println(0.1d);\r\n    //Prints 0.1 or so you think ;-)\r\n    \r\n    //If you are not convinced, try this:\r\n    double x = 1.1; double y = 1.0;\r\n    if (x-y == 0.1) {// print true } else {// print false}\r\n\r\n    //or perhaps this:\r\n    double amount1 = 2.15;\r\n    double amount2 = 1.10;\r\n    System.out.println(&quot;Difference: &quot; + (amount1 - amount2));\r\n\r\n### Examples\r\n      double smallD = 0.0001;\r\n      double smallDNoScientificNotation = 0.001; //&gt;= 10E-3\r\n      double normalD = 10.345678;\r\n      double bigDNoScientificNotation = 1234567.123456789; //&lt;=10E7 \r\n      double bigD = 56_789_123_456_789.123456789;\r\n\r\n      //double\r\n      System.out.println(smallD); //1.0E-4, computerized scientific notation, this is how Double toString works\r\n      System.out.println(smallDNoScientificNotation); //0.001, OK\r\n      System.out.println(normalD); //10.345678, OK\r\n      System.out.println(bigDNoScientificNotation); //1234567.123456789, OK\r\n      System.out.println(bigD); //5.6789123456789125E13, computerized scientific notation, this is how Double toString works\r\n      \r\n      //new BigDecimal(double): not OK, don&#39;t use! Attempting to representing the base-2 representation as accurately as possible\r\n      System.out.println(new BigDecimal(smallD)); //0.000100000000000000004792173602385929598312941379845142364501953125\r\n      System.out.println(new BigDecimal(smallDNoScientificNotation)); //0.001000000000000000020816681711721685132943093776702880859375\r\n      System.out.println(new BigDecimal(normalD)); //10.34567799999999948568074614740908145904541015625\r\n      System.out.println(new BigDecimal(bigDNoScientificNotation)); //1234567.12345678894780576229095458984375\r\n      System.out.println(new BigDecimal(bigD)); //56789123456789.125\r\n      \r\n      //BigDecimal.valueOf (Dont use if the range is &gt;= 10E-3, &gt;= 10E7), under the hood it&#39;s using Double.toString\r\n      System.out.println(BigDecimal.valueOf(smallD)); //0.00010 - notice the extra 0, stemming from 1.0E-4\r\n      System.out.println(BigDecimal.valueOf(smallDNoScientificNotation)); //0.001\r\n      System.out.println(BigDecimal.valueOf(normalD)); //10.345678\r\n      System.out.println(BigDecimal.valueOf(bigDNoScientificNotation)); //1234567.123456789\r\n      System.out.println(BigDecimal.valueOf(bigD)); //56789123456789.125 //loss of accuracy\t\r\n\r\n**Computerized scientific notation** - more [here](https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#toString%28double%29).\r\n\r\n### BONUS 1 - Pitfalls\r\n[Here](https://blogs.oracle.com/javamagazine/post/four-common-pitfalls-of-the-bigdecimal-class-and-how-to-avoid-them)\r\n\r\n### BONUS 2 - Effective Java 3rd edition (Joshua Bloch)\r\n\r\n**Item 60: Avoid float or double if exact answers are required**\r\n\r\nThe float and double types are particularly ill-suited for monetary calculations because it is impossible to represent 0.1 (or any other negative power of ten) as a float or double exactly.&lt;br&gt;\r\n:&lt;br&gt;\r\nThere are, however, two disadvantages to using BigDecimal: it&#39;s a lot less convenient than using a primitive arithmetic type, and it&#39;s a lot slower. The latter disadvantage is irrelevant if you&#39;re solving a single short problem, but the former may annoy you.&lt;br&gt;\r\n:&lt;br&gt;\r\nAn alternative to using BigDecimal is to use int or long, depending on the amounts involved, and to keep track of the decimal point yourself. In this example, the obvious approach is to do all computation in cents.\r\n\r\n### Extra reading for the mathematically inclined ;-)\r\n[What Every Computer Scientist Should Know About Floating-Point Arithmetic](https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)","title":"BigDecimal - to use new or valueOf","body":"<h3>Foreword</h3>\n<p>Why are we having these discussions about floating-point type, numbers &amp; arithmetic? Simple. We count in base 10, but the machine count in base 2.</p>\n<h3>BigDecimal - Need for an exact representation (not approximation)</h3>\n<p>If you are using <code>BigDecimal</code>, this means that you want an exact representation of <code>0.1</code> and other negative powers of ten (usually you would be dealing with money or arithmetic involving decimals).</p>\n<h3>Double means trouble (where BigDecimal is concerned)</h3>\n<p>Then, if you are finding yourself having to manipulate <code>double</code>(or float) values using <code>BigDecimal</code>, then you are in double trouble, because it is impossible to represent <code>0.1</code> as a double in base 2. The machine &quot;stores&quot; doubles(<a href=\"https://standards.ieee.org/ieee/754/6210/\" rel=\"nofollow noreferrer\">IEEE-754 standard for floating-point arithmetic</a>) as base 2. <a href=\"https://docs.python.org/3/tutorial/floatingpoint.html\" rel=\"nofollow noreferrer\">Here</a> is a good write-up of what's really happening if you are interested.). <a href=\"https://stackoverflow.com/a/9713581/4982691\">Duncan's answer</a> illustrates what i am trying to say, of what to do and not do.</p>\n<p>Any programming language that you think can store 0.1 accurately is actually not. It is just an approximation.</p>\n<pre><code>System.out.println(0.1d);\n//Prints 0.1 or so you think ;-)\n\n//If you are not convinced, try this:\ndouble x = 1.1; double y = 1.0;\nif (x-y == 0.1) {// print true } else {// print false}\n\n//or perhaps this:\ndouble amount1 = 2.15;\ndouble amount2 = 1.10;\nSystem.out.println(&quot;Difference: &quot; + (amount1 - amount2));\n</code></pre>\n<h3>Examples</h3>\n<pre><code>  double smallD = 0.0001;\n  double smallDNoScientificNotation = 0.001; //&gt;= 10E-3\n  double normalD = 10.345678;\n  double bigDNoScientificNotation = 1234567.123456789; //&lt;=10E7 \n  double bigD = 56_789_123_456_789.123456789;\n\n  //double\n  System.out.println(smallD); //1.0E-4, computerized scientific notation, this is how Double toString works\n  System.out.println(smallDNoScientificNotation); //0.001, OK\n  System.out.println(normalD); //10.345678, OK\n  System.out.println(bigDNoScientificNotation); //1234567.123456789, OK\n  System.out.println(bigD); //5.6789123456789125E13, computerized scientific notation, this is how Double toString works\n  \n  //new BigDecimal(double): not OK, don't use! Attempting to representing the base-2 representation as accurately as possible\n  System.out.println(new BigDecimal(smallD)); //0.000100000000000000004792173602385929598312941379845142364501953125\n  System.out.println(new BigDecimal(smallDNoScientificNotation)); //0.001000000000000000020816681711721685132943093776702880859375\n  System.out.println(new BigDecimal(normalD)); //10.34567799999999948568074614740908145904541015625\n  System.out.println(new BigDecimal(bigDNoScientificNotation)); //1234567.12345678894780576229095458984375\n  System.out.println(new BigDecimal(bigD)); //56789123456789.125\n  \n  //BigDecimal.valueOf (Dont use if the range is &gt;= 10E-3, &gt;= 10E7), under the hood it's using Double.toString\n  System.out.println(BigDecimal.valueOf(smallD)); //0.00010 - notice the extra 0, stemming from 1.0E-4\n  System.out.println(BigDecimal.valueOf(smallDNoScientificNotation)); //0.001\n  System.out.println(BigDecimal.valueOf(normalD)); //10.345678\n  System.out.println(BigDecimal.valueOf(bigDNoScientificNotation)); //1234567.123456789\n  System.out.println(BigDecimal.valueOf(bigD)); //56789123456789.125 //loss of accuracy \n</code></pre>\n<p><strong>Computerized scientific notation</strong> - more <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#toString%28double%29\" rel=\"nofollow noreferrer\">here</a>.</p>\n<h3>BONUS 1 - Pitfalls</h3>\n<p><a href=\"https://blogs.oracle.com/javamagazine/post/four-common-pitfalls-of-the-bigdecimal-class-and-how-to-avoid-them\" rel=\"nofollow noreferrer\">Here</a></p>\n<h3>BONUS 2 - Effective Java 3rd edition (Joshua Bloch)</h3>\n<p><strong>Item 60: Avoid float or double if exact answers are required</strong></p>\n<p>The float and double types are particularly ill-suited for monetary calculations because it is impossible to represent 0.1 (or any other negative power of ten) as a float or double exactly.<br>\n:<br>\nThere are, however, two disadvantages to using BigDecimal: it's a lot less convenient than using a primitive arithmetic type, and it's a lot slower. The latter disadvantage is irrelevant if you're solving a single short problem, but the former may annoy you.<br>\n:<br>\nAn alternative to using BigDecimal is to use int or long, depending on the amounts involved, and to keep track of the decimal point yourself. In this example, the obvious approach is to do all computation in cents.</p>\n<h3>Extra reading for the mathematically inclined ;-)</h3>\n<p><a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a></p>\n"},{"tags":[],"owner":{"account_id":10865916,"reputation":21,"user_id":7989291,"display_name":"shushillya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694114862,"creation_date":1694056530,"answer_id":77056396,"question_id":7186204,"body_markdown":"Please use:\r\n\r\n```java\r\nnew BigDecimal(String val) or BigDecimal.valueOf(double val);\r\n```\r\n\r\nDon&#39;t use:\r\n\r\n```java\r\nnew BigDecimal(double val);\r\n```","title":"BigDecimal - to use new or valueOf","body":"<p>Please use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new BigDecimal(String val) or BigDecimal.valueOf(double val);\n</code></pre>\n<p>Don't use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new BigDecimal(double val);\n</code></pre>\n"}],"owner":{"account_id":122546,"reputation":7175,"user_id":316419,"accept_rate":72,"display_name":"Manish Mulani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149221,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":7186298,"answer_count":5,"score":138,"last_activity_date":1694114862,"creation_date":1314255258,"question_id":7186204,"body_markdown":"I came across two ways of getting BigDecimal object out of a double d.\r\n\r\n 1. `new BigDecimal(d)`\r\n 2. `BigDecimal.valueOf(d)`\r\n\r\nWhich would be a better approach? Would `valueOf` create a new object?\r\n\r\nIn general (not just BigDecimal), what is recommended - new or valueOf?\r\n","title":"BigDecimal - to use new or valueOf","body":"<p>I came across two ways of getting BigDecimal object out of a double d.</p>\n<ol>\n<li><code>new BigDecimal(d)</code></li>\n<li><code>BigDecimal.valueOf(d)</code></li>\n</ol>\n<p>Which would be a better approach? Would <code>valueOf</code> create a new object?</p>\n<p>In general (not just BigDecimal), what is recommended - new or valueOf?</p>\n"},{"tags":["java","mysql","database","oracle","mybatis"],"comments":[{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1488910141,"post_id":42652062,"comment_id":72436216,"body_markdown":"pls check [this](http://stackoverflow.com/questions/18507508/mybatis-how-to-get-the-auto-generated-key-of-an-insert-mysql) for how to get back autogenerated key in MyBatis","body":"pls check <a href=\"http://stackoverflow.com/questions/18507508/mybatis-how-to-get-the-auto-generated-key-of-an-insert-mysql\">this</a> for how to get back autogenerated key in MyBatis"},{"owner":{"account_id":9991973,"reputation":1,"user_id":7390935,"display_name":"Mintu reddy"},"score":0,"creation_date":1488915457,"post_id":42652062,"comment_id":72439478,"body_markdown":"Thanks this helps to get the auto generated keys but if I want to insert it back into the different table having different mapper how do we do that.","body":"Thanks this helps to get the auto generated keys but if I want to insert it back into the different table having different mapper how do we do that."},{"owner":{"account_id":9521240,"reputation":2034,"user_id":7076047,"display_name":"blackwizard"},"score":0,"creation_date":1488991193,"post_id":42652062,"comment_id":72478488,"body_markdown":"You generate key before insert, this is same scenario as [here](http://stackoverflow.com/a/30027349/7076047) with sequence. The generated key is written back in the _keyProperty_ of the parameter then you can reuse it for further statement. And by the way, your Home class would better have an Address type property then accessed `#{address.address_id}`","body":"You generate key before insert, this is same scenario as <a href=\"http://stackoverflow.com/a/30027349/7076047\">here</a> with sequence. The generated key is written back in the <i>keyProperty</i> of the parameter then you can reuse it for further statement. And by the way, your Home class would better have an Address type property then accessed <code>#{address.address_id}</code>"}],"answers":[{"tags":[],"owner":{"account_id":28017858,"reputation":1,"user_id":21399275,"display_name":"MoEssam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694114718,"creation_date":1694075259,"answer_id":77057860,"question_id":42652062,"body_markdown":"I am using Postman to send data. What I have found is that the name you are typing in postman as json data has to follow up the name you are providing in the `@Insert` Statement not the database.\r\n``` \r\n@Insert(&quot;insert into article_model(article_content,article_PublicationDate,article_title,author_id)&quot; +\r\n           &quot;values(#{articleContent},#{articlePublicationDate},#{article_title},#{author_id})&quot;)\r\n    Integer newArticle(ArticleModel newArticleModel);\r\n```\r\nhere is the postMapping:\r\n```\r\n@PostMapping(&quot;/articles&quot;)\r\nvoid newArticle(@RequestBody ArticleModel newArticle){\r\n    articleMapper.newArticle(newArticle);\r\n}        \r\n```\r\n\r\nand here is the json data:\r\n\r\n    {\r\n        &quot;articleContent&quot;: &quot;Hello my friend&quot;,\r\n        &quot;articlePublicationDate&quot;: &quot;1999-09-05&quot;,\r\n        &quot;article_title&quot;:&quot;the Begining&quot;,\r\n        &quot;author_id&quot;:1\r\n    }","title":"Inserting data into table with foreign key using mybatis","body":"<p>I am using Postman to send data. What I have found is that the name you are typing in postman as json data has to follow up the name you are providing in the <code>@Insert</code> Statement not the database.</p>\n<pre><code>@Insert(&quot;insert into article_model(article_content,article_PublicationDate,article_title,author_id)&quot; +\n           &quot;values(#{articleContent},#{articlePublicationDate},#{article_title},#{author_id})&quot;)\n    Integer newArticle(ArticleModel newArticleModel);\n</code></pre>\n<p>here is the postMapping:</p>\n<pre><code>@PostMapping(&quot;/articles&quot;)\nvoid newArticle(@RequestBody ArticleModel newArticle){\n    articleMapper.newArticle(newArticle);\n}        \n</code></pre>\n<p>and here is the json data:</p>\n<pre><code>{\n    &quot;articleContent&quot;: &quot;Hello my friend&quot;,\n    &quot;articlePublicationDate&quot;: &quot;1999-09-05&quot;,\n    &quot;article_title&quot;:&quot;the Begining&quot;,\n    &quot;author_id&quot;:1\n}\n</code></pre>\n"}],"owner":{"account_id":9991973,"reputation":1,"user_id":7390935,"display_name":"Mintu reddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694114718,"creation_date":1488900261,"question_id":42652062,"body_markdown":"I have 2 tables, Table 1 has a ID column which is auto generated. I have this Id as a foreign key with table 2, I am using mybatis to insert data into tables. I am stuck at point where I need to send the foreign key to insert command dynamically.\r\n\r\nTable 1\r\n\r\n    CLM_ID (PK) AUTO GENERATED\r\n    CLM_VALUE NN UNIQUE\r\n\r\nTABLE 2\r\n\r\n    CLM_ID (FK) \r\n    CML_VALUE1 (NN)\r\n    CML_VALUE2 (NN)\r\n    CML_VALUE3 (NN)\r\n\r\nUpon request I am storing the data into table 1 where ID is generated automatically. when I am trying to store the data in table 2 how do I get the {ID}\r\n\r\nIf I know the value of the corresponding column I can get the ID associated with that column. But how do I pass the column name dynamically.\r\n \r\nSample Mapper example I have.\r\n\r\n    public class Address {\r\n\r\n\t    private Integer address_ID; //PK auto generated\r\n\t    private String name;\r\n        // getters and setters\r\n    }\r\n    public class Home {\r\n\r\n\t    private Integer addressID; //FK\r\n\t    private String Name;\r\n    }\r\n\r\n    public interface HomeMapper {\r\n\t\r\n\t    String INSERT_ADDRESS = &quot;INSERT INTO HOMES(ADDRESS_ID, NAME) VALUES ( {addressID}, #{name})&quot;;\r\n\t\r\n\t    @Insert(INSERT_ADDRESS)\r\n\t    @SelectKey(**statement=&quot;SELECT ADDRESS_ID FROM ADDRESSES WHERE NAME=&#39;Mintu&#39;**&quot;, keyProperty = &quot;addressID&quot;, before=true, resultType=int.class)\r\n\t    public void insertRecord(Home homeName);\r\n\r\n    }\r\n\r\nHow do I send the values dynamically to statement?\r\n\r\nCan someone help me to handle this situation? I am new to mybatis and not sure if this is the way to achieve this.","title":"Inserting data into table with foreign key using mybatis","body":"<p>I have 2 tables, Table 1 has a ID column which is auto generated. I have this Id as a foreign key with table 2, I am using mybatis to insert data into tables. I am stuck at point where I need to send the foreign key to insert command dynamically.</p>\n\n<p>Table 1</p>\n\n<pre><code>CLM_ID (PK) AUTO GENERATED\nCLM_VALUE NN UNIQUE\n</code></pre>\n\n<p>TABLE 2</p>\n\n<pre><code>CLM_ID (FK) \nCML_VALUE1 (NN)\nCML_VALUE2 (NN)\nCML_VALUE3 (NN)\n</code></pre>\n\n<p>Upon request I am storing the data into table 1 where ID is generated automatically. when I am trying to store the data in table 2 how do I get the {ID}</p>\n\n<p>If I know the value of the corresponding column I can get the ID associated with that column. But how do I pass the column name dynamically.</p>\n\n<p>Sample Mapper example I have.</p>\n\n<pre><code>public class Address {\n\n    private Integer address_ID; //PK auto generated\n    private String name;\n    // getters and setters\n}\npublic class Home {\n\n    private Integer addressID; //FK\n    private String Name;\n}\n\npublic interface HomeMapper {\n\n    String INSERT_ADDRESS = \"INSERT INTO HOMES(ADDRESS_ID, NAME) VALUES ( {addressID}, #{name})\";\n\n    @Insert(INSERT_ADDRESS)\n    @SelectKey(**statement=\"SELECT ADDRESS_ID FROM ADDRESSES WHERE NAME='Mintu'**\", keyProperty = \"addressID\", before=true, resultType=int.class)\n    public void insertRecord(Home homeName);\n\n}\n</code></pre>\n\n<p>How do I send the values dynamically to statement?</p>\n\n<p>Can someone help me to handle this situation? I am new to mybatis and not sure if this is the way to achieve this.</p>\n"},{"tags":["java","mysql","spring-boot","caching","memcached"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1694115013,"post_id":77062256,"comment_id":135852463,"body_markdown":"You say &quot;big&quot; but gigabytes of memory are commonplace these days. Are you sure this dataset won&#39;t just fit into memory? 9 million stat records, and how big is each record?","body":"You say &quot;big&quot; but gigabytes of memory are commonplace these days. Are you sure this dataset won&#39;t just fit into memory? 9 million stat records, and how big is each record?"},{"owner":{"account_id":179070,"reputation":3412,"user_id":411459,"accept_rate":82,"display_name":"Duncan Krebs"},"score":0,"creation_date":1694115720,"post_id":77062256,"comment_id":135852582,"body_markdown":"Great Question! - For now it likely will, over the long-run it will break. I&#39;m thinking 32 GIG of JVM might do the trick, get good at building a Stream predicate search that is one option, the problem is I have all the SQL query logic built but this might work and if its too big for 1 micro service could spin up another instance or do something but getting hacky might be wacky.","body":"Great Question! - For now it likely will, over the long-run it will break. I&#39;m thinking 32 GIG of JVM might do the trick, get good at building a Stream predicate search that is one option, the problem is I have all the SQL query logic built but this might work and if its too big for 1 micro service could spin up another instance or do something but getting hacky might be wacky."},{"owner":{"account_id":179070,"reputation":3412,"user_id":411459,"accept_rate":82,"display_name":"Duncan Krebs"},"score":0,"creation_date":1694115826,"post_id":77062256,"comment_id":135852595,"body_markdown":"what I need to do is figure out how many bytes a record is in memory, then do the math, i like your point.","body":"what I need to do is figure out how many bytes a record is in memory, then do the math, i like your point."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1694118020,"post_id":77062256,"comment_id":135852925,"body_markdown":"Maybe Elasticsearch might be an option. Store the stats as documents and you should be able to query it by id and date range.","body":"Maybe Elasticsearch might be an option. Store the stats as documents and you should be able to query it by id and date range."}],"owner":{"account_id":179070,"reputation":3412,"user_id":411459,"accept_rate":82,"display_name":"Duncan Krebs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1694175275,"answer_count":0,"score":1,"last_activity_date":1694113992,"creation_date":1694113823,"question_id":77062256,"body_markdown":"I am computing data for several thousand equities and every market day I build a set of statistics on my computed variables for each entity variable to build a realtime query of a current variable value to the highest value in the last 30 days for example.\r\n\r\nI have many different stat types and my records generated every market day are large, 8,000 stocks * (50 variables * 5 stat types) = big. I started in Mongo Database, it literally took 15 minutes to load the data which in part was due to large document sizes. I&#39;m now onto a new model in MySql and its pretty good but not good enough, would it be possible to save myself the work and at runtime have a second MySQL database instance that is configured to be in-mem only and duplicate the data into that instance and use that as a cache, or setup a replicated cluster and have 1 be in-mem or would I be better off caching this on my own. When the market session starts I get flooded with thousands of stat requests to fulfill these query types I have built and can&#39;t think of a way around the issue. \r\n\r\nI am using Kafka to route the stat requests and using a Future to queue a request but the bottle neck is every market day I have close to 9 million stat records and don&#39;t want to rewrite the model, i need a good cache solution and ideally, one where I can use the same SQL queries I am using now but have that all be in memory. If I used something like MemCache could that allow me to preserve the SQL queries, don&#39;t think so its key/value. If I load into my own cache its also another lookup strategy than SQL, trying to make life easy. \r\n\r\nHow do we move on to profitable? \r\n\r\n    \t\treturn &quot;CREATE TABLE&quot; +  &quot;`&quot; + streamIdentifier + &quot;_entity_stats_session` (\\n&quot;\r\n\t\t\t\t+ &quot;  `id` int NOT NULL AUTO_INCREMENT,\\n&quot;\r\n\t\t\t\t+ &quot;  `date` datetime NOT NULL,\\n&quot;\r\n\t\t\t\t+ &quot;  `ent` int NOT NULL,\\n&quot;\r\n\t\t\t\t+ &quot;  `element` int NOT NULL,\\n&quot;\r\n\t\t\t\t+ &quot;  `stat` int NOT NULL,\\n&quot;\r\n\t\t\t\t+ &quot;  `value` decimal(10,2) NOT NULL,\\n&quot;\r\n\t\t\t\t+ &quot;  `time` datetime DEFAULT NULL,\\n&quot;\r\n\t\t\t\t+ &quot;  PRIMARY KEY (`id`),\\n&quot;\r\n\t\t\t\t+ &quot;  INDEX (`date`, `ent`, `stat`)\\n&quot;\r\n\t\t\t\t+ &quot;) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci; \\n&quot;\r\n\t\t\t\t+ &quot;&quot;;\r\nTo get the highest value of a variable for a query for the last 30 sessions, i need to write a query like SELECT * FROM_TABLE_ABOVE where date &gt; startDateRange AND date &lt; stopDateRange AND entity = mystockid AND stat=HighStatValueForVar AND element = myvarname... get the result set back and find the one with the highest value and return the pucker. pucker up is this a bad design? \r\n\r\nCan&#39;t we cure it with cash like everything else? I need the cure. ","title":"Best Way To Cache Large MySql Table In Java For Trading App","body":"<p>I am computing data for several thousand equities and every market day I build a set of statistics on my computed variables for each entity variable to build a realtime query of a current variable value to the highest value in the last 30 days for example.</p>\n<p>I have many different stat types and my records generated every market day are large, 8,000 stocks * (50 variables * 5 stat types) = big. I started in Mongo Database, it literally took 15 minutes to load the data which in part was due to large document sizes. I'm now onto a new model in MySql and its pretty good but not good enough, would it be possible to save myself the work and at runtime have a second MySQL database instance that is configured to be in-mem only and duplicate the data into that instance and use that as a cache, or setup a replicated cluster and have 1 be in-mem or would I be better off caching this on my own. When the market session starts I get flooded with thousands of stat requests to fulfill these query types I have built and can't think of a way around the issue.</p>\n<p>I am using Kafka to route the stat requests and using a Future to queue a request but the bottle neck is every market day I have close to 9 million stat records and don't want to rewrite the model, i need a good cache solution and ideally, one where I can use the same SQL queries I am using now but have that all be in memory. If I used something like MemCache could that allow me to preserve the SQL queries, don't think so its key/value. If I load into my own cache its also another lookup strategy than SQL, trying to make life easy.</p>\n<p>How do we move on to profitable?</p>\n<pre><code>        return &quot;CREATE TABLE&quot; +  &quot;`&quot; + streamIdentifier + &quot;_entity_stats_session` (\\n&quot;\n            + &quot;  `id` int NOT NULL AUTO_INCREMENT,\\n&quot;\n            + &quot;  `date` datetime NOT NULL,\\n&quot;\n            + &quot;  `ent` int NOT NULL,\\n&quot;\n            + &quot;  `element` int NOT NULL,\\n&quot;\n            + &quot;  `stat` int NOT NULL,\\n&quot;\n            + &quot;  `value` decimal(10,2) NOT NULL,\\n&quot;\n            + &quot;  `time` datetime DEFAULT NULL,\\n&quot;\n            + &quot;  PRIMARY KEY (`id`),\\n&quot;\n            + &quot;  INDEX (`date`, `ent`, `stat`)\\n&quot;\n            + &quot;) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci; \\n&quot;\n            + &quot;&quot;;\n</code></pre>\n<p>To get the highest value of a variable for a query for the last 30 sessions, i need to write a query like SELECT * FROM_TABLE_ABOVE where date &gt; startDateRange AND date &lt; stopDateRange AND entity = mystockid AND stat=HighStatValueForVar AND element = myvarname... get the result set back and find the one with the highest value and return the pucker. pucker up is this a bad design?</p>\n<p>Can't we cure it with cash like everything else? I need the cure.</p>\n"},{"tags":["java","kotlin","authentication","build.gradle"],"answers":[{"tags":[],"owner":{"display_name":"user22475952"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694113529,"creation_date":1694113529,"answer_id":77062230,"question_id":77061709,"body_markdown":"First, Kindly add following things into the app level build.gradle file if you haven&#39;t mentioned it yet.\r\n\r\n    android {\r\n    ...\r\n        buildFeatures {\r\n            viewBinding = true\r\n        }\r\n    }\r\n\r\nAnd second thing is like that you have to follow pattern as per the name of the xml file:\r\nEx. if xml file name is like activity_main. So in your case the binding will be like:\r\n\r\n    binding = ActivityMainBinding.inflate(layoutInflater)\r\n\r\nif you still face any error then kindly read the bellow doc to learn further. [ViewBinding Documentation][1]\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/view-binding","title":"inflate and binding issue, inflate option is not available and only option for binding:InputBinding","body":"<p>First, Kindly add following things into the app level build.gradle file if you haven't mentioned it yet.</p>\n<pre><code>android {\n...\n    buildFeatures {\n        viewBinding = true\n    }\n}\n</code></pre>\n<p>And second thing is like that you have to follow pattern as per the name of the xml file:\nEx. if xml file name is like activity_main. So in your case the binding will be like:</p>\n<pre><code>binding = ActivityMainBinding.inflate(layoutInflater)\n</code></pre>\n<p>if you still face any error then kindly read the bellow doc to learn further. <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">ViewBinding Documentation</a></p>\n"}],"owner":{"account_id":27497432,"reputation":1,"user_id":20981747,"display_name":"VIKAS RAVIDAS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694113529,"creation_date":1694107848,"question_id":77061709,"body_markdown":"[enter image description here][1]\r\nI have tried to solve this by using different patterns but I don&#39;t know exactly what to do.\r\nIn buildgradle.kt also there is no andriod{\r\n}   function given .in place of binding:ActivityLoginBinding  there is option of binding:InputBinding and LoginActivityBingding\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7WjDm.png\r\n  [2]: https://i.stack.imgur.com/KBjTO.png","title":"inflate and binding issue, inflate option is not available and only option for binding:InputBinding","body":"<p><a href=\"https://i.stack.imgur.com/7WjDm.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI have tried to solve this by using different patterns but I don't know exactly what to do.\nIn buildgradle.kt also there is no andriod{\n}   function given .in place of binding:ActivityLoginBinding  there is option of binding:InputBinding and LoginActivityBingding\n<a href=\"https://i.stack.imgur.com/KBjTO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-boot","exception","javabeans"],"comments":[{"owner":{"account_id":465605,"reputation":5013,"user_id":869793,"accept_rate":42,"display_name":"tzortzik"},"score":0,"creation_date":1612765538,"post_id":66096290,"comment_id":116858620,"body_markdown":"Are you doing what the exception says? Are you requesting a bean in a `destroy()` method?","body":"Are you doing what the exception says? Are you requesting a bean in a <code>destroy()</code> method?"}],"answers":[{"tags":[],"owner":{"account_id":4272276,"reputation":3564,"user_id":3493829,"display_name":"SSK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612765789,"creation_date":1612765789,"answer_id":66096839,"question_id":66096290,"body_markdown":"You need to add `@Service` on your `UserSecurityService` as shown below.\r\n\r\n```\r\n@Service\r\npublic class UserSecurityService implements UserDetailsService {\r\n    \r\n        @Autowired\r\n        private UserRepository userRepository;\r\n            \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            User user=userRepository.findByUsername(username);\r\n            \r\n            if(null == user) {\r\n                throw new UsernameNotFoundException(&quot;Username Not Found&quot;);\r\n            }\r\n            return user;\r\n        }\r\n    \r\n    }\r\n```","title":"How to Solve org.springframework.beans.factory.BeanCreationNotAllowedException?","body":"<p>You need to add <code>@Service</code> on your <code>UserSecurityService</code> as shown below.</p>\n<pre><code>@Service\npublic class UserSecurityService implements UserDetailsService {\n    \n        @Autowired\n        private UserRepository userRepository;\n            \n        @Override\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n            User user=userRepository.findByUsername(username);\n            \n            if(null == user) {\n                throw new UsernameNotFoundException(&quot;Username Not Found&quot;);\n            }\n            return user;\n        }\n    \n    }\n</code></pre>\n"}],"owner":{"account_id":20657721,"reputation":11,"user_id":15166362,"display_name":"Danny TechDK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8963,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694113360,"creation_date":1612761889,"question_id":66096290,"body_markdown":"&gt; I am working on the project from a youtube tutorial and get stuck at this Exception.How to Solve org.springframework.beans.factory.BeanCreationNotAllowedException?\r\n\r\nI am working on the project from a youtube tutorial and get stuck at this Exception. I have seen similar problems here on Stack Overflow but there is an incorrect import problem. I have Checked my Import and there is no problem. I tried to move this file to root and again I caught the same error. I have Tried finding solutions on youtube and On the web also But I didn&#39;t get it Anyware. Please help me find out the solution.\r\n    \r\nSource : https://github.com/DnyaneshwarKolhe/Bookstore.git\r\n```\r\nException in thread &quot;task-2&quot; org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name &#39;delegatingApplicationListener&#39;: Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)\r\n        \tat org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:245)\r\n        \tat org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:197)\r\n        \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:134)\r\n        \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)\r\n        \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)\r\n        \tat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:99)\r\n        \tat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.access$100(DataSourceInitializedPublisher.java:50)\r\n        \tat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceSchemaCreatedPublisher.lambda$postProcessEntityManagerFactory$0(DataSourceInitializedPublisher.java:200)\r\n        \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n        \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n        \tat java.base/java.lang.Thread.run(Thread.java:832)\r\n        2021-02-08 09:47:56.074  INFO 10824 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n        2021-02-08 09:47:56.075  INFO 10824 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n        2021-02-08 09:47:56.094  INFO 10824 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n        2021-02-08 09:47:56.098  INFO 10824 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n        2021-02-08 09:47:56.112  INFO 10824 --- [           main] ConditionEvaluationReportLoggingListener : \r\n        \r\n        Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n        2021-02-08 09:47:56.250 ERROR 10824 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n        \r\n        ***************************\r\n        APPLICATION FAILED TO START\r\n        ***************************\r\n\r\n        Description:\r\n        \r\n        Field userSecurityService in com.bookstore.config.SecurityConfig required a bean of type &#39;com.bookstore.service.impl.UserSecurityService&#39; that could not be found.\r\n        \r\n        The injection point has the following annotations:\r\n        \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n        Action:\r\n        \r\n        Consider defining a bean of type &#39;com.bookstore.service.impl.UserSecurityService&#39; in your configuration.\r\n```\r\n**UserSecurityService.java**\r\n```\r\npackage com.bookstore.service.impl;\r\n        \r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n        \r\nimport com.bookstore.domain.User;\r\nimport com.bookstore.repository.UserRepository;\r\n        \r\n        \r\npublic class UserSecurityService implements UserDetailsService {\r\n        \r\n    @Autowired\r\n    private UserRepository userRepository;\r\n        \t\t\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n     \t\tUser user=userRepository.findByUsername(username);\r\n        \t\t\r\n        \t\tif(null == user) {\r\n        \t\t\tthrow new UsernameNotFoundException(&quot;Username Not Found&quot;);\r\n        \t\t}\r\n        \t\treturn user;\r\n       }\r\n        \r\n }\r\n```\r\n\r\n**SecurityConfig.java**\r\n```\r\npackage com.bookstore.config;\r\n        \r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\nimport com.bookstore.service.impl.UserSecurityService;\r\nimport com.bookstore.utility.SecurityUtility;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@ComponentScan(&quot;com.bookstore.service.impl.UserSecurityService&quot;) \r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter{\r\n        \r\n    @Autowired\r\n    private Environment env;\r\n    \r\n    @Autowired\r\n    private UserSecurityService userSecurityService;\r\n    \r\n    private BCryptPasswordEncoder passwordEncoder() {\r\n        \t\treturn SecurityUtility.passwordEncoder();\r\n    }\r\n        \t\r\n     private static final String[] PUBLIC_MATCHERS = {\r\n        \t\t&quot;/css/**&quot;,\r\n        \t\t&quot;/js/**&quot;,\r\n        \t\t&quot;/image/**&quot;,\r\n        \t\t&quot;/&quot;,\r\n        \t\t&quot;/myAccount&quot;\r\n    };\r\n        \t\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception{\r\n        \t\thttp\r\n        \t\t\t\t.authorizeRequests().\r\n        \t\t\t\t/*antMatchers(&quot;/**&quot;).*/\r\n        \t\t\t\tantMatchers(PUBLIC_MATCHERS).\r\n        \t\t\t\tpermitAll().anyRequest().authenticated();\r\n        \t\t\r\n        \t\thttp\r\n        \t\t\t\t.csrf().disable().cors().disable()\r\n        \t\t\t\t.formLogin().failureUrl(&quot;/login?error&quot;).defaultSuccessUrl(&quot;/&quot;)\r\n        \t\t\t\t.loginPage(&quot;/login&quot;).permitAll()\r\n        \t\t\t\t.and()\r\n        \t\t\t\t.logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n        \t\t\t\t.logoutSuccessUrl(&quot;/?logout&quot;).deleteCookies(&quot;remember-me&quot;).permitAll()\r\n        \t\t\t\t.and()\r\n        \t\t\t\t.rememberMe();\r\n        \t\t\t\t\r\n    }\r\n        \t\r\n    @Autowired \r\n\tpublic void configureGlobal(AuthenticationManagerBuilder auth)\r\n        \t  throws Exception{\r\n        \t  auth.userDetailsService(userSecurityService).passwordEncoder(passwordEncoder());\r\n\t\t\t}\r\n        \t \r\n}\r\n```\r\n","title":"How to Solve org.springframework.beans.factory.BeanCreationNotAllowedException?","body":"<blockquote>\n<p>I am working on the project from a youtube tutorial and get stuck at this Exception.How to Solve org.springframework.beans.factory.BeanCreationNotAllowedException?</p>\n</blockquote>\n<p>I am working on the project from a youtube tutorial and get stuck at this Exception. I have seen similar problems here on Stack Overflow but there is an incorrect import problem. I have Checked my Import and there is no problem. I tried to move this file to root and again I caught the same error. I have Tried finding solutions on youtube and On the web also But I didn't get it Anyware. Please help me find out the solution.</p>\n<p>Source : <a href=\"https://github.com/DnyaneshwarKolhe/Bookstore.git\" rel=\"nofollow noreferrer\">https://github.com/DnyaneshwarKolhe/Bookstore.git</a></p>\n<pre><code>Exception in thread &quot;task-2&quot; org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'delegatingApplicationListener': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)\n            at org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:245)\n            at org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:197)\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:134)\n            at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)\n            at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)\n            at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:99)\n            at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.access$100(DataSourceInitializedPublisher.java:50)\n            at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceSchemaCreatedPublisher.lambda$postProcessEntityManagerFactory$0(DataSourceInitializedPublisher.java:200)\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n            at java.base/java.lang.Thread.run(Thread.java:832)\n        2021-02-08 09:47:56.074  INFO 10824 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n        2021-02-08 09:47:56.075  INFO 10824 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n        2021-02-08 09:47:56.094  INFO 10824 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n        2021-02-08 09:47:56.098  INFO 10824 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n        2021-02-08 09:47:56.112  INFO 10824 --- [           main] ConditionEvaluationReportLoggingListener : \n        \n        Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n        2021-02-08 09:47:56.250 ERROR 10824 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n        \n        ***************************\n        APPLICATION FAILED TO START\n        ***************************\n\n        Description:\n        \n        Field userSecurityService in com.bookstore.config.SecurityConfig required a bean of type 'com.bookstore.service.impl.UserSecurityService' that could not be found.\n        \n        The injection point has the following annotations:\n            - @org.springframework.beans.factory.annotation.Autowired(required=true)\n    \n    \n        Action:\n        \n        Consider defining a bean of type 'com.bookstore.service.impl.UserSecurityService' in your configuration.\n</code></pre>\n<p><strong>UserSecurityService.java</strong></p>\n<pre><code>package com.bookstore.service.impl;\n        \nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\n        \nimport com.bookstore.domain.User;\nimport com.bookstore.repository.UserRepository;\n        \n        \npublic class UserSecurityService implements UserDetailsService {\n        \n    @Autowired\n    private UserRepository userRepository;\n                \n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n            User user=userRepository.findByUsername(username);\n                \n                if(null == user) {\n                    throw new UsernameNotFoundException(&quot;Username Not Found&quot;);\n                }\n                return user;\n       }\n        \n }\n</code></pre>\n<p><strong>SecurityConfig.java</strong></p>\n<pre><code>package com.bookstore.config;\n        \nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.env.Environment;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport com.bookstore.service.impl.UserSecurityService;\nimport com.bookstore.utility.SecurityUtility;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@ComponentScan(&quot;com.bookstore.service.impl.UserSecurityService&quot;) \npublic class SecurityConfig extends WebSecurityConfigurerAdapter{\n        \n    @Autowired\n    private Environment env;\n    \n    @Autowired\n    private UserSecurityService userSecurityService;\n    \n    private BCryptPasswordEncoder passwordEncoder() {\n                return SecurityUtility.passwordEncoder();\n    }\n            \n     private static final String[] PUBLIC_MATCHERS = {\n                &quot;/css/**&quot;,\n                &quot;/js/**&quot;,\n                &quot;/image/**&quot;,\n                &quot;/&quot;,\n                &quot;/myAccount&quot;\n    };\n            \n    @Override\n    protected void configure(HttpSecurity http) throws Exception{\n                http\n                        .authorizeRequests().\n                        /*antMatchers(&quot;/**&quot;).*/\n                        antMatchers(PUBLIC_MATCHERS).\n                        permitAll().anyRequest().authenticated();\n                \n                http\n                        .csrf().disable().cors().disable()\n                        .formLogin().failureUrl(&quot;/login?error&quot;).defaultSuccessUrl(&quot;/&quot;)\n                        .loginPage(&quot;/login&quot;).permitAll()\n                        .and()\n                        .logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                        .logoutSuccessUrl(&quot;/?logout&quot;).deleteCookies(&quot;remember-me&quot;).permitAll()\n                        .and()\n                        .rememberMe();\n                        \n    }\n            \n    @Autowired \n    public void configureGlobal(AuthenticationManagerBuilder auth)\n              throws Exception{\n              auth.userDetailsService(userSecurityService).passwordEncoder(passwordEncoder());\n            }\n             \n}\n</code></pre>\n"},{"tags":["java","loops","arraylist","integer"],"answers":[{"tags":[],"owner":{"account_id":18129889,"reputation":39,"user_id":13185084,"display_name":"Samuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586091448,"creation_date":1586091448,"answer_id":61042959,"question_id":61042907,"body_markdown":"Try this\r\n\r\n    final Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Enter a sequence of integer values to be sent to the server&quot;);\r\n    final List&lt;Integer&gt; numberList = new ArrayList&lt;Integer&gt;();\r\n    int scanned;\r\n    do {\r\n        final int scanned = scanner.nextInt();\r\n        numberList.add(scanned);\r\n    } while (scanner.hasNextInt() &amp;&amp; scanned != yourChar);\r\n    os.write(String.valueOf(numberList));\r\n    scanner.close();`\r\n\r\n\r\n\r\nI hope I understood your problem correctly.","title":"How to determine when last integer has been entered? Java","body":"<p>Try this</p>\n\n<pre><code>final Scanner scanner = new Scanner(System.in);\nSystem.out.println(\"Enter a sequence of integer values to be sent to the server\");\nfinal List&lt;Integer&gt; numberList = new ArrayList&lt;Integer&gt;();\nint scanned;\ndo {\n    final int scanned = scanner.nextInt();\n    numberList.add(scanned);\n} while (scanner.hasNextInt() &amp;&amp; scanned != yourChar);\nos.write(String.valueOf(numberList));\nscanner.close();`\n</code></pre>\n\n<p>I hope I understood your problem correctly.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694112525,"creation_date":1586092042,"answer_id":61043083,"question_id":61042907,"body_markdown":"Do it as follows:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    public class Program {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter a sequence of integer values to be sent to the server (x to terminate)&quot;);\r\n    \t\tList&lt;Integer&gt; numberList = new ArrayList&lt;Integer&gt;();\r\n    \t\tString[] data = scanner.nextLine().split(&quot; &quot;);\r\n    \t\tint i = 0;\r\n    \t\twhile (i &lt; data.length &amp;&amp; data[i].matches(&quot;\\\\d+&quot;)) {// The regex \\d+ matches only integers\r\n    \t\t\tnumberList.add(Integer.parseInt(data[i]));\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\tSystem.out.println(numberList);\r\n    \t}\r\n    }\r\n\r\n**A sample run:**\r\n\r\n    Enter a sequence of integer values to be sent to the server (x to terminate)\r\n    10 20 30 X\r\n    [10, 20, 30]\r\n\r\nAlso, do not close `Scanner` for `System.in` as it also closes `System.in` as well. \r\n","title":"How to determine when last integer has been entered? Java","body":"<p>Do it as follows:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Program {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter a sequence of integer values to be sent to the server (x to terminate)&quot;);\n        List&lt;Integer&gt; numberList = new ArrayList&lt;Integer&gt;();\n        String[] data = scanner.nextLine().split(&quot; &quot;);\n        int i = 0;\n        while (i &lt; data.length &amp;&amp; data[i].matches(&quot;\\\\d+&quot;)) {// The regex \\d+ matches only integers\n            numberList.add(Integer.parseInt(data[i]));\n            i++;\n        }\n        System.out.println(numberList);\n    }\n}\n</code></pre>\n<p><strong>A sample run:</strong></p>\n<pre><code>Enter a sequence of integer values to be sent to the server (x to terminate)\n10 20 30 X\n[10, 20, 30]\n</code></pre>\n<p>Also, do not close <code>Scanner</code> for <code>System.in</code> as it also closes <code>System.in</code> as well.</p>\n"}],"owner":{"account_id":17946302,"reputation":13,"user_id":13040508,"display_name":"Rosa Doherty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61043083,"answer_count":2,"score":1,"last_activity_date":1694112525,"creation_date":1586091176,"question_id":61042907,"body_markdown":"I currently have to enter a letter to stop the while loop and print out the number list. \r\nIs there a better way to determine when the last int has been entered?\r\n\r\n    ` Scanner scanner = new Scanner(System.in);\r\n                System.out.println(&quot;Enter a sequence of integer values&quot; +\r\n                        &quot; to be sent to the server&quot;);\r\n                List&lt;Integer&gt; numberList = new ArrayList&lt;Integer&gt;();\r\n                while(scanner.hasNextInt()) {\r\n                    numberList.add(scanner.nextInt());\r\n                }\r\n                System.out.println(numberList);\r\n                os.write(String.valueOf(numberList));\r\n                scanner.close();`","title":"How to determine when last integer has been entered? Java","body":"<p>I currently have to enter a letter to stop the while loop and print out the number list. \nIs there a better way to determine when the last int has been entered?</p>\n\n<pre><code>` Scanner scanner = new Scanner(System.in);\n            System.out.println(\"Enter a sequence of integer values\" +\n                    \" to be sent to the server\");\n            List&lt;Integer&gt; numberList = new ArrayList&lt;Integer&gt;();\n            while(scanner.hasNextInt()) {\n                numberList.add(scanner.nextInt());\n            }\n            System.out.println(numberList);\n            os.write(String.valueOf(numberList));\n            scanner.close();`\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-bottomsheetdialog","android-fragment-manager"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1694123057,"post_id":77062126,"comment_id":135853753,"body_markdown":"If you are adding the Fragment to the same FragmentManager, then the same FragmentManager is going to be getting results.","body":"If you are adding the Fragment to the same FragmentManager, then the same FragmentManager is going to be getting results."},{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":0,"creation_date":1694630153,"post_id":77062126,"comment_id":135917883,"body_markdown":"@ianhanniballake: what do you mean by &quot;adding the Fragment to the same FragmentManager&quot;? I am using Navigation components and I don&#39;t remember if I&#39;ve added any FragmentManager.","body":"@ianhanniballake: what do you mean by &quot;adding the Fragment to the same FragmentManager&quot;? I am using Navigation components and I don&#39;t remember if I&#39;ve added any FragmentManager."},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1694650152,"post_id":77062126,"comment_id":135920644,"body_markdown":"If you are using the Navigation component, is there a reason you aren&#39;t using a `&lt;dialog&gt;` destination for your custom bottom sheets? It supports any kind of `DialogFragment`, including any `BottomSheetDialogFragment`.","body":"If you are using the Navigation component, is there a reason you aren&#39;t using a <code>&lt;dialog&gt;</code> destination for your custom bottom sheets? It supports any kind of <code>DialogFragment</code>, including any <code>BottomSheetDialogFragment</code>."},{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":0,"creation_date":1694758444,"post_id":77062126,"comment_id":135935833,"body_markdown":"@ianhanniballake: I don&#39;t remember but I have an issue with fragments in Navigation component that before navigating to new destination, the destination fragment file name appear in toolbar for a very short time (in low memory phones it is common) then it shows the fragment &quot;label&quot;. So I thought that it could be better to not use dialog in Navigation component as possible as.","body":"@ianhanniballake: I don&#39;t remember but I have an issue with fragments in Navigation component that before navigating to new destination, the destination fragment file name appear in toolbar for a very short time (in low memory phones it is common) then it shows the fragment &quot;label&quot;. So I thought that it could be better to not use dialog in Navigation component as possible as."},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1694789652,"post_id":77062126,"comment_id":135941695,"body_markdown":"Dialog destination labels don&#39;t appear in the Toolbar if you are using [Navigation 2.6.0-alpha02](https://developer.android.com/jetpack/androidx/releases/navigation#2.6.0-alpha02) or higher, since that&#39;s when that big was fixed.","body":"Dialog destination labels don&#39;t appear in the Toolbar if you are using <a href=\"https://developer.android.com/jetpack/androidx/releases/navigation#2.6.0-alpha02\" rel=\"nofollow noreferrer\">Navigation 2.6.0-alpha02</a> or higher, since that&#39;s when that big was fixed."},{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":0,"creation_date":1694837627,"post_id":77062126,"comment_id":135947156,"body_markdown":"@ianhanniballake: You are right. My previous Navigation component version was `2.3.0-beta01`. Now it is `2.7.0` and it is working fine. Thanks for this big suggestion. But without using Navigation component, my question still valid.","body":"@ianhanniballake: You are right. My previous Navigation component version was <code>2.3.0-beta01</code>. Now it is <code>2.7.0</code> and it is working fine. Thanks for this big suggestion. But without using Navigation component, my question still valid."}],"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694112255,"creation_date":1694112255,"question_id":77062126,"body_markdown":"I accept that I am not master in fragment manager. But I expect that two similar BottomSheets behave similarly.\r\n\r\nI have a `CustomBottomSheet` (extend of `BottomSheetDialogFragment`). I have created a new instance of that in fragment A and another new instance of that inside of the MyUtility class:\r\n\r\n```````````````\r\n\r\nFragmentA\r\n\r\nMyUtility mu = new MyUtility(FragmentA.this);\r\n\r\nCustomBottomSheet.NewInstance().show(getChildFragmentManager(), null);\r\n\r\n```````````````\r\n\r\nAnd in `MyUtility.java`\r\n\r\n``````````````\r\n\r\nCustomBottomSheet.NewInstance().show(fragment.getChildFragmentManager(), null);\r\n\r\n``````````````\r\n\r\nfor getting the results of these bottom Sheets first one needs `getParentFragmentManager().setFragmentResultListener ...` and second one needs `getChildFragmentManager().setFragmentResultListener ...`.\r\n\r\nWhy do they behave differently?\r\n\r\n","title":"Two similar bottom sheets but one needs childFragmentManager and other one parentFragmentManager! Why?","body":"<p>I accept that I am not master in fragment manager. But I expect that two similar BottomSheets behave similarly.</p>\n<p>I have a <code>CustomBottomSheet</code> (extend of <code>BottomSheetDialogFragment</code>). I have created a new instance of that in fragment A and another new instance of that inside of the MyUtility class:</p>\n<pre><code>\nFragmentA\n\nMyUtility mu = new MyUtility(FragmentA.this);\n\nCustomBottomSheet.NewInstance().show(getChildFragmentManager(), null);\n\n</code></pre>\n<p>And in <code>MyUtility.java</code></p>\n<pre><code>\nCustomBottomSheet.NewInstance().show(fragment.getChildFragmentManager(), null);\n\n</code></pre>\n<p>for getting the results of these bottom Sheets first one needs <code>getParentFragmentManager().setFragmentResultListener ...</code> and second one needs <code>getChildFragmentManager().setFragmentResultListener ...</code>.</p>\n<p>Why do they behave differently?</p>\n"},{"tags":["java","maven","executable-jar","execution"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1406046285,"post_id":24892637,"comment_id":38668386,"body_markdown":"I&#39;d probably just wrap up something like http://stackoverflow.com/questions/1776496/a-simple-command-line-to-download-a-remote-maven2-artifact-to-the-local-reposito with a shell script that then executes the downloaded artifact. Or write a simple program that talks Maven repo and can fetch an artifact and skip Maven altogether.","body":"I&#39;d probably just wrap up something like <a href=\"http://stackoverflow.com/questions/1776496/a-simple-command-line-to-download-a-remote-maven2-artifact-to-the-local-reposito\" title=\"a simple command line to download a remote maven2 artifact to the local reposito\">stackoverflow.com/questions/1776496/&hellip;</a> with a shell script that then executes the downloaded artifact. Or write a simple program that talks Maven repo and can fetch an artifact and skip Maven altogether."},{"owner":{"account_id":238552,"reputation":84579,"user_id":507519,"accept_rate":86,"display_name":"thkala"},"score":0,"creation_date":1406047264,"post_id":24892637,"comment_id":38668975,"body_markdown":"@DaveNewton: Getting the JAR file is not the only issue. `exec:java`, for example, will set up the JVM classpath so that dependencies are available. *That* is what I am after...","body":"@DaveNewton: Getting the JAR file is not the only issue. <code>exec:java</code>, for example, will set up the JVM classpath so that dependencies are available. <i>That</i> is what I am after..."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1406047652,"post_id":24892637,"comment_id":38669166,"body_markdown":"You can get the jar&#39;s dependencies programmatically and do the same thing, though. In any case, if you have Maven installed, then creating an ad-hoc project with your top-level dependency is a pretty small POM file. Why can&#39;t you just create the project on-the-fly? What&#39;s the issue?","body":"You can get the jar&#39;s dependencies programmatically and do the same thing, though. In any case, if you have Maven installed, then creating an ad-hoc project with your top-level dependency is a pretty small POM file. Why can&#39;t you just create the project on-the-fly? What&#39;s the issue?"},{"owner":{"account_id":238552,"reputation":84579,"user_id":507519,"accept_rate":86,"display_name":"thkala"},"score":0,"creation_date":1406048141,"post_id":24892637,"comment_id":38669443,"body_markdown":"@DaveNewton: I suppose the main issue is that I am not fond of reinventing the wheel, if a solution already exists. Also, doing it *right* with a script is not quite that simple (or that portable, for that matter)...","body":"@DaveNewton: I suppose the main issue is that I am not fond of reinventing the wheel, if a solution already exists. Also, doing it <i>right</i> with a script is not quite that simple (or that portable, for that matter)..."}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1406051971,"creation_date":1406051971,"answer_id":24894511,"question_id":24892637,"body_markdown":"No, Maven will not do what you are asking for. It is a build tool, intended to build a Java project based on it&#39;s pom.xml file which describes the project.\r\n\r\nSo, you can&#39;t run a maven build without a pom.xml file.\r\nAnd if you have a pom.xml, then by definition, you have &#39;set up a Maven project&#39;.\r\n\r\nAs @DaveNewton says, you should be able to set up a very small pom.xml with the dependency for the jar file in question, and the exec-maven plugin. I&#39;m afraid that it&#39;s just not going to get any simpler than that.","title":"Executing a JAR file straight from a Maven repository","body":"<p>No, Maven will not do what you are asking for. It is a build tool, intended to build a Java project based on it's pom.xml file which describes the project.</p>\n\n<p>So, you can't run a maven build without a pom.xml file.\nAnd if you have a pom.xml, then by definition, you have 'set up a Maven project'.</p>\n\n<p>As @DaveNewton says, you should be able to set up a very small pom.xml with the dependency for the jar file in question, and the exec-maven plugin. I'm afraid that it's just not going to get any simpler than that.</p>\n"},{"tags":[],"owner":{"account_id":3713839,"reputation":2046,"user_id":3090506,"display_name":"Moritz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594278782,"creation_date":1594278782,"answer_id":62809369,"question_id":24892637,"body_markdown":"A hacky solution working with Maven 3 would be to use the Maven Dependency Plugin in combination with the Maven Help Plugin to resolve the local repository path:\r\n\r\n```\r\n# Download JAR from Maven repo\r\nmvn dependency:get -DremoteRepositories=http://repo1.maven.org/maven2/ \\\r\n                   -DgroupId=some.group.id \\\r\n                   -DartifactId=some-artifact-cli \\\r\n                   -Dversion=1.0.0 \\\r\n                   -Dtransitive=false\r\n\r\n# Resolve local repository path\r\nMVN_REPO=$(mvn help:evaluate -Dexpression=settings.localRepository -q -DforceStdout)\r\n\r\n# Execute JAR from the local repository\r\njava -jar $MVN_REPO/some/group/id/some-artifact-cli/1.0.0/some-artifact-cli-1.0.0.jar\r\n```","title":"Executing a JAR file straight from a Maven repository","body":"<p>A hacky solution working with Maven 3 would be to use the Maven Dependency Plugin in combination with the Maven Help Plugin to resolve the local repository path:</p>\n<pre><code># Download JAR from Maven repo\nmvn dependency:get -DremoteRepositories=http://repo1.maven.org/maven2/ \\\n                   -DgroupId=some.group.id \\\n                   -DartifactId=some-artifact-cli \\\n                   -Dversion=1.0.0 \\\n                   -Dtransitive=false\n\n# Resolve local repository path\nMVN_REPO=$(mvn help:evaluate -Dexpression=settings.localRepository -q -DforceStdout)\n\n# Execute JAR from the local repository\njava -jar $MVN_REPO/some/group/id/some-artifact-cli/1.0.0/some-artifact-cli-1.0.0.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43784,"reputation":365,"user_id":128151,"accept_rate":33,"display_name":"jruillier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694110674,"creation_date":1694110674,"answer_id":77061990,"question_id":24892637,"body_markdown":"You can now use `ktx` to execute a jar file from it&#39;s maven coordinates.\r\n\r\nFor example:\r\n\r\n    ktx run com.github.ricksbrown:cowsay:1.1.0 hello\r\n\r\nUsage is explained on project&#39;s repo :\r\nhttps://github.com/mpetuska/ktx","title":"Executing a JAR file straight from a Maven repository","body":"<p>You can now use <code>ktx</code> to execute a jar file from it's maven coordinates.</p>\n<p>For example:</p>\n<pre><code>ktx run com.github.ricksbrown:cowsay:1.1.0 hello\n</code></pre>\n<p>Usage is explained on project's repo :\n<a href=\"https://github.com/mpetuska/ktx\" rel=\"nofollow noreferrer\">https://github.com/mpetuska/ktx</a></p>\n"}],"owner":{"account_id":238552,"reputation":84579,"user_id":507519,"accept_rate":86,"display_name":"thkala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2149,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":24894511,"answer_count":3,"score":10,"last_activity_date":1694110674,"creation_date":1406045938,"question_id":24892637,"body_markdown":"Suppose that we have a Java *application*, rather than a library, which is available through Maven central. For example, one such project is [jol](http://openjdk.java.net/projects/code-tools/jol/), which has its corresponding CLI interface [in Maven central](http://mvnrepository.com/artifact/org.openjdk.jol/jol-cli).\r\n\r\nAs far as I can tell, the main difference from a library is that the corresponding JAR file contains a class with an appropriate `main()` method and, optionally, a related `Main-Class:` header in the JAR manifest. If such an artifact is used as a dependency on a project, Maven will happily download the JAR file to the local repository along with its dependencies, as it does for any other artifact.\r\n\r\n*Is it possible to use Maven to execute such an application directly, without setting up a Maven project?*\r\n\r\nThe [`exec:java` plugin](http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html) works nicely for local projects by setting up the JVM classpath so that dependencies are available. The user does not have to worry about JAR or `.class` file locations and such. Unfortunately, from what I can tell, it also requires an enclosing Maven project, so it cannot be used from an arbitrary command line prompt.","title":"Executing a JAR file straight from a Maven repository","body":"<p>Suppose that we have a Java <em>application</em>, rather than a library, which is available through Maven central. For example, one such project is <a href=\"http://openjdk.java.net/projects/code-tools/jol/\" rel=\"noreferrer\">jol</a>, which has its corresponding CLI interface <a href=\"http://mvnrepository.com/artifact/org.openjdk.jol/jol-cli\" rel=\"noreferrer\">in Maven central</a>.</p>\n\n<p>As far as I can tell, the main difference from a library is that the corresponding JAR file contains a class with an appropriate <code>main()</code> method and, optionally, a related <code>Main-Class:</code> header in the JAR manifest. If such an artifact is used as a dependency on a project, Maven will happily download the JAR file to the local repository along with its dependencies, as it does for any other artifact.</p>\n\n<p><em>Is it possible to use Maven to execute such an application directly, without setting up a Maven project?</em></p>\n\n<p>The <a href=\"http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html\" rel=\"noreferrer\"><code>exec:java</code> plugin</a> works nicely for local projects by setting up the JVM classpath so that dependencies are available. The user does not have to worry about JAR or <code>.class</code> file locations and such. Unfortunately, from what I can tell, it also requires an enclosing Maven project, so it cannot be used from an arbitrary command line prompt.</p>\n"},{"tags":["java","android","httpurlconnection","okhttp"],"comments":[{"owner":{"account_id":268428,"reputation":50179,"user_id":557179,"accept_rate":100,"display_name":"Nikola Despotoski"},"score":0,"creation_date":1459961438,"post_id":36455656,"comment_id":60527221,"body_markdown":"Give your client a larger read time out value. Seems that time out is happening when the stream is read from the socket.","body":"Give your client a larger read time out value. Seems that time out is happening when the stream is read from the socket."},{"owner":{"account_id":224326,"reputation":4200,"user_id":484073,"accept_rate":73,"display_name":"Vivek"},"score":1,"creation_date":1460005111,"post_id":36455656,"comment_id":60545209,"body_markdown":"@NikolaDespotoski I already set Socket timeout to 15 minutes still I am facing this issue","body":"@NikolaDespotoski I already set Socket timeout to 15 minutes still I am facing this issue"}],"answers":[{"tags":[],"owner":{"account_id":1212394,"reputation":3870,"user_id":1180691,"accept_rate":43,"display_name":"Krish"},"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1459960205,"creation_date":1459960205,"answer_id":36457019,"question_id":36455656,"body_markdown":"For OkHttp 3 the default value for OkHttp is 10 seconds. You can increase the timeout to 30 seconds. \r\n\r\n    OkHttpClient client = new OkHttpClient();\r\n    client.setConnectTimeout(30, TimeUnit.SECONDS); // connect timeout\r\n    client.setReadTimeout(30, TimeUnit.SECONDS);    // socket timeout","title":"java.net.SocketTimeoutException: timeout","body":"<p>For OkHttp 3 the default value for OkHttp is 10 seconds. You can increase the timeout to 30 seconds. </p>\n\n<pre><code>OkHttpClient client = new OkHttpClient();\nclient.setConnectTimeout(30, TimeUnit.SECONDS); // connect timeout\nclient.setReadTimeout(30, TimeUnit.SECONDS);    // socket timeout\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2710929,"reputation":10584,"user_id":2339405,"accept_rate":98,"display_name":"Rainmaker"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1543510288,"creation_date":1476185779,"answer_id":39976378,"question_id":36455656,"body_markdown":"I solved that problem increasing `writeTimeout()`.\r\n\r\nTry:\r\n\r\n    OkHttpClient.Builder builder = new OkHttpClient.Builder();\r\n    builder.connectTimeout(5, TimeUnit.MINUTES) // connect timeout\r\n    .writeTimeout(5, TimeUnit.MINUTES) // write timeout\r\n    .readTimeout(5, TimeUnit.MINUTES); // read timeout\r\n\r\n    okHttpClient = builder.build();\r\n\r\n","title":"java.net.SocketTimeoutException: timeout","body":"<p>I solved that problem increasing <code>writeTimeout()</code>.</p>\n\n<p>Try:</p>\n\n<pre><code>OkHttpClient.Builder builder = new OkHttpClient.Builder();\nbuilder.connectTimeout(5, TimeUnit.MINUTES) // connect timeout\n.writeTimeout(5, TimeUnit.MINUTES) // write timeout\n.readTimeout(5, TimeUnit.MINUTES); // read timeout\n\nokHttpClient = builder.build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10198183,"reputation":319,"user_id":7529372,"display_name":"ronin_99"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1562163114,"creation_date":1562163114,"answer_id":56872045,"question_id":36455656,"body_markdown":"this resolved my problem:\r\n\r\n    OkHttpClient innerClient = new OkHttpClient.Builder()\r\n                .connectTimeout(5, TimeUnit.MINUTES) // connect timeout\r\n                .writeTimeout(5, TimeUnit.MINUTES) // write timeout\r\n                .readTimeout(5, TimeUnit.MINUTES) // read timeout\r\n                .build();\r\n\r\n","title":"java.net.SocketTimeoutException: timeout","body":"<p>this resolved my problem:</p>\n\n<pre><code>OkHttpClient innerClient = new OkHttpClient.Builder()\n            .connectTimeout(5, TimeUnit.MINUTES) // connect timeout\n            .writeTimeout(5, TimeUnit.MINUTES) // write timeout\n            .readTimeout(5, TimeUnit.MINUTES) // read timeout\n            .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8846949,"reputation":890,"user_id":6607435,"display_name":"Pawan Soni"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1562934679,"creation_date":1562934679,"answer_id":57007100,"question_id":36455656,"body_markdown":"Use this for Kotlin\r\n\r\n     val client1 = OkHttpClient.Builder()\r\n                    .connectTimeout(2, TimeUnit.MINUTES)\r\n                    .writeTimeout(2, TimeUnit.MINUTES) // write timeout\r\n                    .readTimeout(2, TimeUnit.MINUTES) // read timeout\r\n                    .addInterceptor(\r\n                        BasicAuthInterceptor(\r\n                            AmvaccAppConstants.AUTHENTICATE_USER_NAME, AmvaccAppConstants.AUTHENTICATE_USER_PASSWORD\r\n                        )\r\n                    )\r\n                    .addInterceptor(interceptor)\r\n                    .build()","title":"java.net.SocketTimeoutException: timeout","body":"<p>Use this for Kotlin</p>\n\n<pre><code> val client1 = OkHttpClient.Builder()\n                .connectTimeout(2, TimeUnit.MINUTES)\n                .writeTimeout(2, TimeUnit.MINUTES) // write timeout\n                .readTimeout(2, TimeUnit.MINUTES) // read timeout\n                .addInterceptor(\n                    BasicAuthInterceptor(\n                        AmvaccAppConstants.AUTHENTICATE_USER_NAME, AmvaccAppConstants.AUTHENTICATE_USER_PASSWORD\n                    )\n                )\n                .addInterceptor(interceptor)\n                .build()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1591631803,"creation_date":1591631803,"answer_id":62266187,"question_id":36455656,"body_markdown":"You need to understand that only adding this won&#39;t solve your problem:\r\n\r\n    \r\n    OkHttpClient.Builder()\r\n                .connectTimeout(10, TimeUnit.SECONDS)\r\n                .readTimeout(10, TimeUnit.SECONDS)\r\n                .writeTimeout(10, TimeUnit.SECONDS)\r\n\r\n\r\nIf you are using **Kotlin + Retrofit + Coroutines** then just use `try` and `catch` for network operations like,\r\n\r\n    viewModelScope.launch(Dispatchers.IO) {\r\n            try {\r\n                val userListResponseModel = apiEndPointsInterface.usersList()\r\n                returnusersList(userListResponseModel)\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n            }\r\n        }\r\n\r\nWhere, Exception is type of `kotlin` and not of `java.lang`\r\n\r\nThis will handle every exception like,\r\n\r\n1. HttpException\r\n2. SocketTimeoutException\r\n3. FATAL EXCEPTION: DefaultDispatcher etc\r\n\r\n\r\nHere is my `usersList()` function\r\n\r\n    @GET(AppConstants.APIEndPoints.HOME_CONTENT)\r\n    suspend fun usersList(): UserListResponseModel","title":"java.net.SocketTimeoutException: timeout","body":"<p>You need to understand that only adding this won't solve your problem:</p>\n\n<pre><code>OkHttpClient.Builder()\n            .connectTimeout(10, TimeUnit.SECONDS)\n            .readTimeout(10, TimeUnit.SECONDS)\n            .writeTimeout(10, TimeUnit.SECONDS)\n</code></pre>\n\n<p>If you are using <strong>Kotlin + Retrofit + Coroutines</strong> then just use <code>try</code> and <code>catch</code> for network operations like,</p>\n\n<pre><code>viewModelScope.launch(Dispatchers.IO) {\n        try {\n            val userListResponseModel = apiEndPointsInterface.usersList()\n            returnusersList(userListResponseModel)\n        } catch (e: Exception) {\n            e.printStackTrace()\n        }\n    }\n</code></pre>\n\n<p>Where, Exception is type of <code>kotlin</code> and not of <code>java.lang</code></p>\n\n<p>This will handle every exception like,</p>\n\n<ol>\n<li>HttpException</li>\n<li>SocketTimeoutException</li>\n<li>FATAL EXCEPTION: DefaultDispatcher etc</li>\n</ol>\n\n<p>Here is my <code>usersList()</code> function</p>\n\n<pre><code>@GET(AppConstants.APIEndPoints.HOME_CONTENT)\nsuspend fun usersList(): UserListResponseModel\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10937555,"reputation":140,"user_id":8048468,"display_name":"Syed Hasnain"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1601900363,"creation_date":1601900363,"answer_id":64208502,"question_id":36455656,"body_markdown":"    If you are using Retrofit and Kotlin then use following code:\r\n        var BASE_URL:String=&quot;Your URL&quot;\r\n        val clientSetup = OkHttpClient.Builder()\r\n            .connectTimeout(1, TimeUnit.MINUTES)\r\n            .writeTimeout(1, TimeUnit.MINUTES) // write timeout\r\n            .readTimeout(1, TimeUnit.MINUTES) // read timeout\r\n            .build()\r\n    \r\n        val getClientApi: ApiInterface\r\n            get() {\r\n                var retrofit: Retrofit =  Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(ScalarsConverterFactory.create())\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .client(clientSetup)\r\n                    .build()\r\n            }","title":"java.net.SocketTimeoutException: timeout","body":"<pre><code>If you are using Retrofit and Kotlin then use following code:\n    var BASE_URL:String=&quot;Your URL&quot;\n    val clientSetup = OkHttpClient.Builder()\n        .connectTimeout(1, TimeUnit.MINUTES)\n        .writeTimeout(1, TimeUnit.MINUTES) // write timeout\n        .readTimeout(1, TimeUnit.MINUTES) // read timeout\n        .build()\n\n    val getClientApi: ApiInterface\n        get() {\n            var retrofit: Retrofit =  Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(ScalarsConverterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(clientSetup)\n                .build()\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2026679,"reputation":5,"user_id":1811461,"display_name":"kham Ham"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1618048701,"creation_date":1618048701,"answer_id":67033021,"question_id":36455656,"body_markdown":"Check if your url is correct. This error can be because of wrong url line","title":"java.net.SocketTimeoutException: timeout","body":"<p>Check if your url is correct. This error can be because of wrong url line</p>\n"},{"tags":[],"owner":{"account_id":12655492,"reputation":376,"user_id":9198161,"display_name":"DavidUps"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634293303,"creation_date":1634293303,"answer_id":69583273,"question_id":36455656,"body_markdown":"Run into a Run Catching\r\n\r\n    runCatching {\r\n           service\r\n    }\r\n     .map {\r\n           if (it.isSuccessful &amp;&amp; it.body() != null) {\r\n               Success(Unit)\r\n           } else {\r\n               Error(Failure.AuthError.error(it.errorBody()))\r\n           }\r\n    }\r\n     .getOrElse {\r\n           Error(Failure.Throwable(it))\r\n    }","title":"java.net.SocketTimeoutException: timeout","body":"<p>Run into a Run Catching</p>\n<pre><code>runCatching {\n       service\n}\n .map {\n       if (it.isSuccessful &amp;&amp; it.body() != null) {\n           Success(Unit)\n       } else {\n           Error(Failure.AuthError.error(it.errorBody()))\n       }\n}\n .getOrElse {\n       Error(Failure.Throwable(it))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1908399,"reputation":7240,"user_id":1722808,"accept_rate":71,"display_name":"lukjar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641906174,"creation_date":1641906174,"answer_id":70667290,"question_id":36455656,"body_markdown":"In my case adding **ping interval** to OkHttp helps a lot in reducing number of **SocketTimeoutExceptions** in the app.\r\n\r\n    OkHttpClient.Builder()\r\n            .pingInterval(3, SECONDS)\r\n            .build()\r\n\r\nbut i am not sure if these timeouts were related to request size. \r\nI mentioned it also in [this issue on github][1] reported to OkHttp library\r\n\r\n\r\n  [1]: https://github.com/square/okhttp/issues/3974","title":"java.net.SocketTimeoutException: timeout","body":"<p>In my case adding <strong>ping interval</strong> to OkHttp helps a lot in reducing number of <strong>SocketTimeoutExceptions</strong> in the app.</p>\n<pre><code>OkHttpClient.Builder()\n        .pingInterval(3, SECONDS)\n        .build()\n</code></pre>\n<p>but i am not sure if these timeouts were related to request size.\nI mentioned it also in <a href=\"https://github.com/square/okhttp/issues/3974\" rel=\"nofollow noreferrer\">this issue on github</a> reported to OkHttp library</p>\n"},{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694110458,"creation_date":1694110458,"answer_id":77061973,"question_id":36455656,"body_markdown":"Incrementing the timeout is like putting a bandage on it, it will not solve the problem, there is a reason why this is happening, if you are happening to use OkHTTP you will find that this line \r\n\r\n     override fun intercept(chain: Interceptor.Chain): Response {\r\n           var request = chain.request()\r\n           ...\r\n    }\r\n\r\nExcecutes an internal proceed method inside the okHttp library, this proceed method throws an `IOException`\r\n\r\n    interface Chain {\r\n        fun request(): Request\r\n    \r\n        @Throws(IOException::class)\r\n        fun proceed(request: Request): Response\r\n    \r\n        /**\r\n         * Returns the connection the request will be executed on. This is only available in the chains\r\n         * of network interceptors; for application interceptors this is always null.\r\n         */\r\n        fun connection(): Connection?\r\n    \r\n        fun call(): Call\r\n    \r\n     ...\r\n\r\nTo solve this issue, you must run this on a try catch function and return a mocked response error code with the message, so the team working behind of it can access its error and debug easily, instead of crashing the user app.\r\n\r\n    override fun intercept(chain: Interceptor.Chain): Response {\r\n            return try {\r\n                \r\n             var request = chain.request()\r\n\r\n            } catch(e: IOException) {\r\n              \r\n                Response.Builder()\r\n                .code(500)\r\n                .message(&quot;Request failed with: $e.message&quot;)\r\n                .build()\r\n    }\r\n\r\nDoing so you can catch any IOException, `SocketTiemoutException` is one of them, but it could be any in the future.","title":"java.net.SocketTimeoutException: timeout","body":"<p>Incrementing the timeout is like putting a bandage on it, it will not solve the problem, there is a reason why this is happening, if you are happening to use OkHTTP you will find that this line</p>\n<pre><code> override fun intercept(chain: Interceptor.Chain): Response {\n       var request = chain.request()\n       ...\n}\n</code></pre>\n<p>Excecutes an internal proceed method inside the okHttp library, this proceed method throws an <code>IOException</code></p>\n<pre><code>interface Chain {\n    fun request(): Request\n\n    @Throws(IOException::class)\n    fun proceed(request: Request): Response\n\n    /**\n     * Returns the connection the request will be executed on. This is only available in the chains\n     * of network interceptors; for application interceptors this is always null.\n     */\n    fun connection(): Connection?\n\n    fun call(): Call\n\n ...\n</code></pre>\n<p>To solve this issue, you must run this on a try catch function and return a mocked response error code with the message, so the team working behind of it can access its error and debug easily, instead of crashing the user app.</p>\n<pre><code>override fun intercept(chain: Interceptor.Chain): Response {\n        return try {\n            \n         var request = chain.request()\n\n        } catch(e: IOException) {\n          \n            Response.Builder()\n            .code(500)\n            .message(&quot;Request failed with: $e.message&quot;)\n            .build()\n}\n</code></pre>\n<p>Doing so you can catch any IOException, <code>SocketTiemoutException</code> is one of them, but it could be any in the future.</p>\n"}],"owner":{"account_id":224326,"reputation":4200,"user_id":484073,"accept_rate":73,"display_name":"Vivek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135524,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"answer_count":10,"score":73,"last_activity_date":1694110458,"creation_date":1459956565,"question_id":36455656,"body_markdown":"With `OkHttp` library, application is facing following `SocketTimeoutException` issue. If request size is less, then it is working fine(Less than 1MB). I am getting this exception within 10 seconds, even my socket timeout(`readTimeout`) value is much higher. It is consistently failing for a request(Size is 1.8MB). When I executed a request with `HttpUrlConnection` it is working fine. What could be a possible reason of failure?\r\n\r\n       03-29 12:16:38.997 32066-4018/com.mobile W/System.err: java.net.SocketTimeoutException: timeout\r\n        03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okio.Okio$3.newTimeoutException(Okio.java:207)\r\n        03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okio.AsyncTimeout.exit(AsyncTimeout.java:261)\r\n        03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okio.AsyncTimeout$1.write(AsyncTimeout.java:158)\r\n        03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okio.RealBufferedSink.emitCompleteSegments(RealBufferedSink.java:176)\r\n        03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okio.RealBufferedSink.write(RealBufferedSink.java:46)\r\n        03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okhttp3.internal.http.Http1xStream$FixedLengthSink.write(Http1xStream.java:286)\r\n        03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okio.RealBufferedSink.emitCompleteSegments(RealBufferedSink.java:176)\r\n        03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okio.RealBufferedSink.write(RealBufferedSink.java:96)\r\n        03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okhttp3.RequestBody$2.writeTo(RequestBody.java:96)\r\n        03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okhttp3.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:704)\r\n        03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okhttp3.internal.http.HttpEngine.readResponse(HttpEngine.java:563)\r\n        03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okhttp3.RealCall.getResponse(RealCall.java:241)\r\n        03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:198)\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:160)\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at okhttp3.RealCall.execute(RealCall.java:57)\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at com.mobizio.api.BaseApi.sendOkHttpRequest(BaseApi.java:81)\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at com.mobizio.api.BaseApi.doInBackground(BaseApi.java:45)\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at com.mobizio.api.BaseApi.doInBackground(BaseApi.java:30)\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at android.os.AsyncTask$2.call(AsyncTask.java:292)\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at java.lang.Thread.run(Thread.java:818)\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err: Caused by: java.net.SocketException: socket is closed\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at com.android.org.conscrypt.OpenSSLSocketImpl$SSLOutputStream.write(OpenSSLSocketImpl.java:759)\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at okio.Okio$1.write(Okio.java:80)\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at okio.AsyncTimeout$1.write(AsyncTimeout.java:155)\r\n        03-29 12:16:38.998 32066-4018/com.mobile W/System.err: \t... 20 more","title":"java.net.SocketTimeoutException: timeout","body":"<p>With <code>OkHttp</code> library, application is facing following <code>SocketTimeoutException</code> issue. If request size is less, then it is working fine(Less than 1MB). I am getting this exception within 10 seconds, even my socket timeout(<code>readTimeout</code>) value is much higher. It is consistently failing for a request(Size is 1.8MB). When I executed a request with <code>HttpUrlConnection</code> it is working fine. What could be a possible reason of failure?</p>\n\n<pre><code>   03-29 12:16:38.997 32066-4018/com.mobile W/System.err: java.net.SocketTimeoutException: timeout\n    03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okio.Okio$3.newTimeoutException(Okio.java:207)\n    03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okio.AsyncTimeout.exit(AsyncTimeout.java:261)\n    03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okio.AsyncTimeout$1.write(AsyncTimeout.java:158)\n    03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okio.RealBufferedSink.emitCompleteSegments(RealBufferedSink.java:176)\n    03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okio.RealBufferedSink.write(RealBufferedSink.java:46)\n    03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okhttp3.internal.http.Http1xStream$FixedLengthSink.write(Http1xStream.java:286)\n    03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okio.RealBufferedSink.emitCompleteSegments(RealBufferedSink.java:176)\n    03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okio.RealBufferedSink.write(RealBufferedSink.java:96)\n    03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okhttp3.RequestBody$2.writeTo(RequestBody.java:96)\n    03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okhttp3.internal.http.HttpEngine$NetworkInterceptorChain.proceed(HttpEngine.java:704)\n    03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okhttp3.internal.http.HttpEngine.readResponse(HttpEngine.java:563)\n    03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okhttp3.RealCall.getResponse(RealCall.java:241)\n    03-29 12:16:38.997 32066-4018/com.mobile W/System.err:     at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:198)\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:160)\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at okhttp3.RealCall.execute(RealCall.java:57)\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at com.mobizio.api.BaseApi.sendOkHttpRequest(BaseApi.java:81)\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at com.mobizio.api.BaseApi.doInBackground(BaseApi.java:45)\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at com.mobizio.api.BaseApi.doInBackground(BaseApi.java:30)\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at android.os.AsyncTask$2.call(AsyncTask.java:292)\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at java.lang.Thread.run(Thread.java:818)\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err: Caused by: java.net.SocketException: socket is closed\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at com.android.org.conscrypt.OpenSSLSocketImpl$SSLOutputStream.write(OpenSSLSocketImpl.java:759)\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at okio.Okio$1.write(Okio.java:80)\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err:     at okio.AsyncTimeout$1.write(AsyncTimeout.java:155)\n    03-29 12:16:38.998 32066-4018/com.mobile W/System.err:  ... 20 more\n</code></pre>\n"},{"tags":["java","android","jar","manifest"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1265275863,"creation_date":1265275863,"answer_id":2198542,"question_id":2198525,"body_markdown":"Open the file with [`JarFile`][1] and then call `getManifest()` to get the [`Manifest`][2]. After that you can access the attributes appropriately.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/jar/JarFile.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/jar/Manifest.html","title":"Can values defined in MANIFEST.MF be accessed programmatically?","body":"<p>Open the file with <a href=\"http://java.sun.com/javase/6/docs/api/java/util/jar/JarFile.html\" rel=\"noreferrer\"><code>JarFile</code></a> and then call <code>getManifest()</code> to get the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/jar/Manifest.html\" rel=\"noreferrer\"><code>Manifest</code></a>. After that you can access the attributes appropriately.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1265276281,"creation_date":1265276281,"answer_id":2198575,"question_id":2198525,"body_markdown":"Many of the values in the MANIFEST.MF can be accessed programmatically without having to find and/or open the jar file itself.\r\n\r\nThe class [`java.lang.Package`][1] provides access to the [`ImplementationTitle`][2], [`ImplementationVendor`][3], [`ImplementationVersion`][4], [`SpecificationTitle`][5], [`SpecificationVendor`][6] and the [`SpecificationVersion`][7].\r\n\r\nInformation about signed classes can be found using the [`CodeSource`][8] class, which can be retrieved via `Class`[`.getProtectionDomain()`][9][`.getCodeSource()`][10]\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Package.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Package.html#getImplementationTitle()\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/lang/Package.html#getImplementationVendor()\r\n  [4]: http://java.sun.com/javase/6/docs/api/java/lang/Package.html#getImplementationVersion()\r\n  [5]: http://java.sun.com/javase/6/docs/api/java/lang/Package.html#getSpecificationTitle()\r\n  [6]: http://java.sun.com/javase/6/docs/api/java/lang/Package.html#getSpecificationVendor()\r\n  [7]: http://java.sun.com/javase/6/docs/api/java/lang/Package.html#getSpecificationVersion()\r\n  [8]: http://java.sun.com/javase/6/docs/api/java/security/CodeSource.html\r\n  [9]: http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getProtectionDomain()\r\n  [10]: http://java.sun.com/javase/6/docs/api/java/security/ProtectionDomain.html#getCodeSource()","title":"Can values defined in MANIFEST.MF be accessed programmatically?","body":"<p>Many of the values in the MANIFEST.MF can be accessed programmatically without having to find and/or open the jar file itself.</p>\n\n<p>The class <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Package.html\" rel=\"noreferrer\"><code>java.lang.Package</code></a> provides access to the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Package.html#getImplementationTitle()\" rel=\"noreferrer\"><code>ImplementationTitle</code></a>, <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Package.html#getImplementationVendor()\" rel=\"noreferrer\"><code>ImplementationVendor</code></a>, <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Package.html#getImplementationVersion()\" rel=\"noreferrer\"><code>ImplementationVersion</code></a>, <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Package.html#getSpecificationTitle()\" rel=\"noreferrer\"><code>SpecificationTitle</code></a>, <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Package.html#getSpecificationVendor()\" rel=\"noreferrer\"><code>SpecificationVendor</code></a> and the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Package.html#getSpecificationVersion()\" rel=\"noreferrer\"><code>SpecificationVersion</code></a>.</p>\n\n<p>Information about signed classes can be found using the <a href=\"http://java.sun.com/javase/6/docs/api/java/security/CodeSource.html\" rel=\"noreferrer\"><code>CodeSource</code></a> class, which can be retrieved via <code>Class</code><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getProtectionDomain()\" rel=\"noreferrer\"><code>.getProtectionDomain()</code></a><a href=\"http://java.sun.com/javase/6/docs/api/java/security/ProtectionDomain.html#getCodeSource()\" rel=\"noreferrer\"><code>.getCodeSource()</code></a></p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1694109287,"creation_date":1265305408,"answer_id":2201870,"question_id":2198525,"body_markdown":"Here&#39;s a simple [example][1] of reading the main attributes from a JAR&#39;s manifest *in situ*. It&#39;s handy for checking up on what&#39;s actually there. In outline,\r\n\r\n    var jar = new JarFile(name);\r\n    var manifest = jar.getManifest();\r\n    var map = manifest.getMainAttributes();\r\n    map.entrySet().forEach(e -&gt; {\r\n        System.out.println(e.getKey()\r\n            + &quot;: &quot; + e.getValue());\r\n    });\r\n\r\n \r\n[1]:http://sites.google.com/site/drjohnbmatthews/manifesto\r\n","title":"Can values defined in MANIFEST.MF be accessed programmatically?","body":"<p>Here's a simple <a href=\"http://sites.google.com/site/drjohnbmatthews/manifesto\" rel=\"nofollow noreferrer\">example</a> of reading the main attributes from a JAR's manifest <em>in situ</em>. It's handy for checking up on what's actually there. In outline,</p>\n<pre><code>var jar = new JarFile(name);\nvar manifest = jar.getManifest();\nvar map = manifest.getMainAttributes();\nmap.entrySet().forEach(e -&gt; {\n    System.out.println(e.getKey()\n        + &quot;: &quot; + e.getValue());\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404655552,"creation_date":1356857290,"answer_id":14089471,"question_id":2198525,"body_markdown":"Try [`com.jcabi.manifests.Manifests`](http://manifests.jcabi.com/apidocs-0.7.5/com/jcabi/manifests/Manifests.html) utility class from [jcabi-manifests](http://manifests.jcabi.com/index.html). Using this class you can read all available MANIFEST.MF files with one liner:\r\n\r\n    String name = Manifests.read(&quot;Foo-Name&quot;);\r\n\r\nAlso, see this article: http://www.yegor256.com/2014/07/03/how-to-read-manifest-mf.html","title":"Can values defined in MANIFEST.MF be accessed programmatically?","body":"<p>Try <a href=\"http://manifests.jcabi.com/apidocs-0.7.5/com/jcabi/manifests/Manifests.html\" rel=\"nofollow\"><code>com.jcabi.manifests.Manifests</code></a> utility class from <a href=\"http://manifests.jcabi.com/index.html\" rel=\"nofollow\">jcabi-manifests</a>. Using this class you can read all available MANIFEST.MF files with one liner:</p>\n\n<pre><code>String name = Manifests.read(\"Foo-Name\");\n</code></pre>\n\n<p>Also, see this article: <a href=\"http://www.yegor256.com/2014/07/03/how-to-read-manifest-mf.html\" rel=\"nofollow\">http://www.yegor256.com/2014/07/03/how-to-read-manifest-mf.html</a></p>\n"},{"tags":[],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1380029990,"creation_date":1362658107,"answer_id":15270861,"question_id":2198525,"body_markdown":"Use following way to detect External Jar/SDK MANIFEST.MF Info. We could use this info for detecting Jar version etc. Use http://docs.oracle.com/javase/6/docs/api/java/util/jar/Manifest.html\r\n\t\r\n      public void getSDKInfo() {\r\n\t\tPackage pkg = Manifest.class.getPackage();\r\n\t\tString specTitle = pkg.getSpecificationTitle();\r\n\t\tString vendor = pkg.getSpecificationVendor();\r\n\t\tString version = pkg.getSpecificationVersion();\r\n       }","title":"Can values defined in MANIFEST.MF be accessed programmatically?","body":"<p>Use following way to detect External Jar/SDK MANIFEST.MF Info. We could use this info for detecting Jar version etc. Use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/jar/Manifest.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/jar/Manifest.html</a></p>\n\n<pre><code>  public void getSDKInfo() {\n    Package pkg = Manifest.class.getPackage();\n    String specTitle = pkg.getSpecificationTitle();\n    String vendor = pkg.getSpecificationVendor();\n    String version = pkg.getSpecificationVersion();\n   }\n</code></pre>\n"}],"owner":{"account_id":69447,"reputation":4731,"user_id":202020,"accept_rate":84,"display_name":"er4z0r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10036,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":2198542,"answer_count":5,"score":13,"last_activity_date":1694109287,"creation_date":1265275767,"question_id":2198525,"body_markdown":"Can I access the values defined in a java manifest from code?","title":"Can values defined in MANIFEST.MF be accessed programmatically?","body":"<p>Can I access the values defined in a java manifest from code?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1694103098,"post_id":77061136,"comment_id":135850407,"body_markdown":"Have you tried a different site to ensure things are running correctly?","body":"Have you tried a different site to ensure things are running correctly?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1694103271,"post_id":77061136,"comment_id":135850425,"body_markdown":"I remember having issues with `Selenium` in `Java`. I had to use `io.github.bonigarcia` and then do `WebDriverManager.firefoxdriver().setup(); WebDriver driver = new FirefoxDriver();`","body":"I remember having issues with <code>Selenium</code> in <code>Java</code>. I had to use <code>io.github.bonigarcia</code> and then do <code>WebDriverManager.firefoxdriver().setup(); WebDriver driver = new FirefoxDriver();</code>"}],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694109065,"creation_date":1694109065,"answer_id":77061834,"question_id":77061136,"body_markdown":"You forgot to disable one of the flags that can identify your browser for resources that you using automation.\r\n\r\n```java\r\noptions.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\r\n```\r\n\r\nso, full list of flags would be\r\n\r\n```java\r\noptions.addArguments(&quot;--no-sandbox&quot;);\r\noptions.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\noptions.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;});\r\noptions.addArguments(&quot;--disable-infobars&quot;); // disabling infobars\r\noptions.addArguments(&quot;--disable-gpu&quot;); // applicable to windows os only\r\noptions.addArguments(&quot;--disable-dev-shm-usage&quot;); // overcome limited resource problems\r\noptions.addArguments(&quot;--disable-popup-blocking&quot;);\r\noptions.setAcceptInsecureCerts(true);\r\noptions.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\r\n```\r\n\r\n[Reference][1]\r\n\r\n\r\n  [1]: https://www.zenrows.com/blog/selenium-avoid-bot-detection#top-measures-to-avoid-bot-detection-with-selenium","title":"java selenium can not open page","body":"<p>You forgot to disable one of the flags that can identify your browser for resources that you using automation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>options.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\n</code></pre>\n<p>so, full list of flags would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>options.addArguments(&quot;--no-sandbox&quot;);\noptions.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\noptions.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;});\noptions.addArguments(&quot;--disable-infobars&quot;); // disabling infobars\noptions.addArguments(&quot;--disable-gpu&quot;); // applicable to windows os only\noptions.addArguments(&quot;--disable-dev-shm-usage&quot;); // overcome limited resource problems\noptions.addArguments(&quot;--disable-popup-blocking&quot;);\noptions.setAcceptInsecureCerts(true);\noptions.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\n</code></pre>\n<p><a href=\"https://www.zenrows.com/blog/selenium-avoid-bot-detection#top-measures-to-avoid-bot-detection-with-selenium\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}],"owner":{"account_id":1295638,"reputation":387,"user_id":1246780,"accept_rate":33,"display_name":"afterbit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77061834,"answer_count":1,"score":0,"last_activity_date":1694109065,"creation_date":1694102015,"question_id":77061136,"body_markdown":"java (11) selenium with chrome driver version 116.0.5845.96\r\n\r\ni want to open this page : https://elines.coscoshipping.com/ebusiness/sailingSchedule/searchByCity\r\n\r\nand this is the code to init the driver\r\n\r\n    private void initBrowserSeleniumChrome() {\r\n    \r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, CHROMEDRIVER);\r\n    System.setProperty(&quot;webdriver.chrome.logfile&quot;, CHROMEDRIVER_LOG_PATH);\r\n   \r\n    ChromeOptions options = new ChromeOptions();\r\n\r\n    options.addArguments(&quot;--no-sandbox&quot;); \r\n    options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n    options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;});\r\n    options.addArguments(&quot;--disable-infobars&quot;); // disabling infobars\r\n    options.addArguments(&quot;--disable-gpu&quot;); // applicable to windows os only\r\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;); // overcome limited resource problems\r\n    options.addArguments(&quot;--disable-popup-blocking&quot;);\r\n    options.setAcceptInsecureCerts(true);\r\n\r\n    driver_chrome = new ChromeDriver(options);\r\n    driver_chrome.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\r\n    driver_chrome.manage().timeouts().pageLoadTimeout(20, TimeUnit.SECONDS);\r\n    Dimension dmn = new Dimension(1280, 1024);\r\n    driver_chrome.manage().window().setSize(dmn);\r\n\r\n  }\r\n\r\n`driver_chrome` is the WebDriver : `public static WebDriver driver_chrome;` \r\n\r\n`CHROMEDRIVER` is the path to the chrome driver\r\n\r\nthen i open the page with :\r\n\r\n    driver_chrome.get(&quot;https://elines.coscoshipping.com/ebusiness/sailingSchedule/searchByCity&quot;);\r\n\r\nbut i get this :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI tried changing several ChromeOptions ... without success...\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ms9nZ.png","title":"java selenium can not open page","body":"<p>java (11) selenium with chrome driver version 116.0.5845.96</p>\n<p>i want to open this page : <a href=\"https://elines.coscoshipping.com/ebusiness/sailingSchedule/searchByCity\" rel=\"nofollow noreferrer\">https://elines.coscoshipping.com/ebusiness/sailingSchedule/searchByCity</a></p>\n<p>and this is the code to init the driver</p>\n<pre><code>private void initBrowserSeleniumChrome() {\n\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, CHROMEDRIVER);\nSystem.setProperty(&quot;webdriver.chrome.logfile&quot;, CHROMEDRIVER_LOG_PATH);\n\nChromeOptions options = new ChromeOptions();\n\noptions.addArguments(&quot;--no-sandbox&quot;); \noptions.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\noptions.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;});\noptions.addArguments(&quot;--disable-infobars&quot;); // disabling infobars\noptions.addArguments(&quot;--disable-gpu&quot;); // applicable to windows os only\noptions.addArguments(&quot;--disable-dev-shm-usage&quot;); // overcome limited resource problems\noptions.addArguments(&quot;--disable-popup-blocking&quot;);\noptions.setAcceptInsecureCerts(true);\n\ndriver_chrome = new ChromeDriver(options);\ndriver_chrome.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\ndriver_chrome.manage().timeouts().pageLoadTimeout(20, TimeUnit.SECONDS);\nDimension dmn = new Dimension(1280, 1024);\ndriver_chrome.manage().window().setSize(dmn);\n</code></pre>\n<p>}</p>\n<p><code>driver_chrome</code> is the WebDriver : <code>public static WebDriver driver_chrome;</code></p>\n<p><code>CHROMEDRIVER</code> is the path to the chrome driver</p>\n<p>then i open the page with :</p>\n<pre><code>driver_chrome.get(&quot;https://elines.coscoshipping.com/ebusiness/sailingSchedule/searchByCity&quot;);\n</code></pre>\n<p>but i get this :</p>\n<p><a href=\"https://i.stack.imgur.com/Ms9nZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ms9nZ.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried changing several ChromeOptions ... without success...</p>\n"},{"tags":["java","hbase"],"answers":[{"tags":[],"owner":{"account_id":3946141,"reputation":1685,"user_id":3894977,"accept_rate":75,"display_name":"mrek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1567579137,"creation_date":1567579137,"answer_id":57782787,"question_id":51855848,"body_markdown":"_TLDR:_ It depends on the number of rows (both read and wanted), number of filters, and how closely the data you are searching are.\r\n\r\n&gt; But what other benefits one has over the other?\r\n\r\nGenerally, it serves different purpose. If you want to read vast majority of the data and omit a few of them, use Scan with filter. If you rather want to take only couple of rows in a large table, use Multiget.\r\n\r\nWhen I was searching for an answer I found a discussion about [_Hbase multiget vs scan with RowFilter_](https://grokbase.com/t/hbase/user/1524j8c0re/hbase-multiget-vs-scan-with-rowfilter).\r\nThese are the main points:\r\n\r\n- _Scan_ will always scan **all rows** (or all rows between the start row and stop row you specified). **_Filter_ can filter rows out, but they will all be read anyway**. \r\n- _MultiGet_ does a seek (in a sense) for each Get.\r\n\r\nIf the number of Gets in the MultiGet is very small compared to the total number of rows, it&#39;s better to use MultiGet. However, if you are able to specify start and stop rows in the Scan operation, scan is faster (because you limit the amount of rows that will be read): \r\n\r\n    new Scan().withStartRow(startRow).withStopRow(stopRow)\r\n\r\n---\r\n\r\n&gt; Also, when HBase finds out that all the filters in the filterList are RowFilters, would it perform some kind of optimization and perform multiget rather than doing a full table scan?\r\n\r\nNo I don&#39;t think it does any optimizations. I think, that too many filters will even slow down the scan, because it has to go through all the filters for every row. See [FilterList documentation](http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/filter/FilterList.html):\r\n&gt; FilterList.Operator.MUST_PASS_ONE evaluates non-lazily: **all filters are always evaluated**.","title":"Difference between FilterList with RowFilter vs MultiGet on HBase","body":"<p><em>TLDR:</em> It depends on the number of rows (both read and wanted), number of filters, and how closely the data you are searching are.</p>\n\n<blockquote>\n  <p>But what other benefits one has over the other?</p>\n</blockquote>\n\n<p>Generally, it serves different purpose. If you want to read vast majority of the data and omit a few of them, use Scan with filter. If you rather want to take only couple of rows in a large table, use Multiget.</p>\n\n<p>When I was searching for an answer I found a discussion about <a href=\"https://grokbase.com/t/hbase/user/1524j8c0re/hbase-multiget-vs-scan-with-rowfilter\" rel=\"nofollow noreferrer\"><em>Hbase multiget vs scan with RowFilter</em></a>.\nThese are the main points:</p>\n\n<ul>\n<li><em>Scan</em> will always scan <strong>all rows</strong> (or all rows between the start row and stop row you specified). <strong><em>Filter</em> can filter rows out, but they will all be read anyway</strong>. </li>\n<li><em>MultiGet</em> does a seek (in a sense) for each Get.</li>\n</ul>\n\n<p>If the number of Gets in the MultiGet is very small compared to the total number of rows, it's better to use MultiGet. However, if you are able to specify start and stop rows in the Scan operation, scan is faster (because you limit the amount of rows that will be read): </p>\n\n<pre><code>new Scan().withStartRow(startRow).withStopRow(stopRow)\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Also, when HBase finds out that all the filters in the filterList are RowFilters, would it perform some kind of optimization and perform multiget rather than doing a full table scan?</p>\n</blockquote>\n\n<p>No I don't think it does any optimizations. I think, that too many filters will even slow down the scan, because it has to go through all the filters for every row. See <a href=\"http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/filter/FilterList.html\" rel=\"nofollow noreferrer\">FilterList documentation</a>:</p>\n\n<blockquote>\n  <p>FilterList.Operator.MUST_PASS_ONE evaluates non-lazily: <strong>all filters are always evaluated</strong>.</p>\n</blockquote>\n"}],"owner":{"account_id":2922120,"reputation":1791,"user_id":2504138,"accept_rate":55,"display_name":"Biplob Biswas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57782787,"answer_count":1,"score":1,"last_activity_date":1694108852,"creation_date":1534323872,"question_id":51855848,"body_markdown":"During our implementation for fetching multiple records from a HBase table, we came across a discussion regarding the best way to get records out.\r\n\r\nThe first implementation is something like: \r\n\r\n          FilterList filterList = new FilterList(Operator.MUST_PASS_ONE);\r\n          for (String rowKey : rowKeys) {\r\n            filterList.addFilter(new RowFilter(CompareOp.EQUAL,new BinaryComparator(Bytes.toBytes(rowKey))));\r\n          }\r\n\t\t  \r\n\t\t  Scan scan = new Scan();\r\n\t\t  scan.setFilter(filterList);\r\n\t\t  ResultScanner resultScanner = table.getScanner(scan);\r\n\r\nand the second implementation is something like this:\r\n\r\n\t\t  List&lt;Get&gt; listGet = rowKeys.stream()\r\n              .map(entry -&gt; {\r\n                Get get = new Get(Bytes.toBytes(entry));\r\n                return get;\r\n              })\r\n              .collect(Collectors.toList());\r\n\t\t  Result[] results = table.get(listGet)\r\n\r\nThe only difference I see directly is that filterList would do a full table scan whereas multiget wouldn&#39;t do anything as such. \r\n\r\nBut what other benefits one has over the other? Also, when HBase finds out that all the filters in the filterList are RowFilters, would it perform some kind of optimization and perform multiget rather than doing a full table scan? ","title":"Difference between FilterList with RowFilter vs MultiGet on HBase","body":"<p>During our implementation for fetching multiple records from a HBase table, we came across a discussion regarding the best way to get records out.</p>\n\n<p>The first implementation is something like: </p>\n\n<pre><code>      FilterList filterList = new FilterList(Operator.MUST_PASS_ONE);\n      for (String rowKey : rowKeys) {\n        filterList.addFilter(new RowFilter(CompareOp.EQUAL,new BinaryComparator(Bytes.toBytes(rowKey))));\n      }\n\n      Scan scan = new Scan();\n      scan.setFilter(filterList);\n      ResultScanner resultScanner = table.getScanner(scan);\n</code></pre>\n\n<p>and the second implementation is something like this:</p>\n\n<pre><code>      List&lt;Get&gt; listGet = rowKeys.stream()\n          .map(entry -&gt; {\n            Get get = new Get(Bytes.toBytes(entry));\n            return get;\n          })\n          .collect(Collectors.toList());\n      Result[] results = table.get(listGet)\n</code></pre>\n\n<p>The only difference I see directly is that filterList would do a full table scan whereas multiget wouldn't do anything as such. </p>\n\n<p>But what other benefits one has over the other? Also, when HBase finds out that all the filters in the filterList are RowFilters, would it perform some kind of optimization and perform multiget rather than doing a full table scan? </p>\n"},{"tags":["java","simplejson"],"comments":[{"owner":{"account_id":13515994,"reputation":388,"user_id":9750548,"display_name":"lukman nudin"},"score":1,"creation_date":1694107343,"post_id":77061623,"comment_id":135851185,"body_markdown":"If I take a look your code, `String imagePath = (String) image2Json.get(Integer.parseInt(&quot;image&quot;));` is because you want  to get image value but the I assume the image value is &quot;Resources/RawImages/Media/InputImage/Media.jpg&quot;, so it will broken because it not integer","body":"If I take a look your code, <code>String imagePath = (String) image2Json.get(Integer.parseInt(&quot;image&quot;));</code> is because you want  to get image value but the I assume the image value is &quot;Resources/RawImages/Media/InputImage/Media.jpg&quot;, so it will broken because it not integer"},{"owner":{"account_id":11430922,"reputation":325,"user_id":8379653,"accept_rate":100,"display_name":"gomathi subramanian"},"score":0,"creation_date":1694107484,"post_id":77061623,"comment_id":135851212,"body_markdown":"Yeah that is correct I need the String value of the image path. Even if I give this way `JSONObject jsonObj = (JSONObject) image2Json.get(1)`. It is throwing this error `Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 1`","body":"Yeah that is correct I need the String value of the image path. Even if I give this way <code>JSONObject jsonObj = (JSONObject) image2Json.get(1)</code>. It is throwing this error <code>Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 1</code>"}],"answers":[{"tags":[],"owner":{"account_id":17380095,"reputation":697,"user_id":12592517,"display_name":"Swapnil Padaya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694108622,"creation_date":1694108280,"answer_id":77061762,"question_id":77061623,"body_markdown":"The reason why you are getting indexOutOfBound is because of \r\n```\r\nJSONObject imgFilePath = (JSONObject) image2Json.get(1);\r\n```\r\nYou are trying to access index `1` whereas the size of the image2Json is only `1` so use `0` as the indexing of the arrays starts with 0.\r\n\r\n\r\nThe issue is that you are trying to just fetch JSONArray with an incorrect index with the code you have written till now.\r\n\r\n```\r\nJSONArray image2Json = (JSONArray) readJSON.parse(new FileReader(&quot;/Resources/RawImages/&quot;\r\n                + &quot;Media/InputJson/Media.json&quot;) );\r\n```\r\n\r\nThis line will just load all JSONArray but when you call\r\n\r\n```\r\nString imagePath = (String) image2Json.get(Integer.parseInt(&quot;image&quot;));\r\n```\r\n\r\nThis will cause error because it can&#39;t find `image` key from the jsonArray.\r\n\r\nEvery JsonArray is made of JsonObject and so you must first refer to that jsonObject by doing something like.\r\n\r\n```\r\nJSONArray image2Json = (JSONArray) readJSON.parse(new FileReader(&quot;/Resources/RawImages/&quot;\r\n                + &quot;Media/InputJson/Media.json&quot;) );\r\nfor(int index = 0; index &lt; image2Json.length(); index++) {\r\n  JSONObject object = image2Json.getJSONObject(i);  jsonObject.\r\n}\r\n```\r\n\r\nthe object now consists of the below JSON\r\n\r\n```\r\n{\r\n      &quot;input&quot;:{\r\n         &quot;contentData&quot;:{\r\n            &quot;image&quot;:&quot;Resources/RawImages/Media/InputImage/Media.jpg&quot;,\r\n            &quot;imageMetaData&quot;:{\r\n               &quot;DMLR&quot;:&quot;&quot;,\r\n               &quot;imageCaptions&quot;:[\r\n                  &quot;cool&quot;\r\n               ]\r\n            }\r\n         },\r\n         &quot;requestMetaData&quot;:{\r\n            &quot;requestId&quot;:&quot;12345678&quot;,\r\n            &quot;locale&quot;:&quot;en_US&quot;\r\n         }\r\n      },\r\n      &quot;output&quot;:{\r\n         &quot;isTrue&quot;:true,\r\n         &quot;mMD&quot;:{\r\n            &quot;mcT&quot;:0\r\n         },\r\n         &quot;result&quot;:{\r\n            &quot;CR&quot;:0.9039373397827148,\r\n            &quot;category&quot;:[\r\n               {\r\n                  &quot;Name&quot;:&quot;Car&quot;,\r\n                  &quot;score&quot;:0.9039373397827148\r\n               }\r\n            ]\r\n         }\r\n      }\r\n   }\r\n```\r\n\r\nAnd now we need to Refer to input json so for that we do.\r\n\r\n\r\n```\r\nJSONArray image2Json = (JSONArray) readJSON.parse(new FileReader(&quot;/Resources/RawImages/&quot;\r\n                + &quot;Media/InputJson/Media.json&quot;) );\r\nfor(int index = 0; index &lt; image2Json.length(); index++) {\r\n  JSONObject object = image2Json.getJSONObject(i);\r\n  JSONObject input = object.getJSONObject(&quot;input&quot;);\r\n}\r\n```\r\n\r\nNow input has following json:\r\n\r\n```\r\n&quot;contentData&quot;:{\r\n            &quot;image&quot;:&quot;Resources/RawImages/Media/InputImage/Media.jpg&quot;,\r\n            &quot;imageMetaData&quot;:{\r\n               &quot;DMLR&quot;:&quot;&quot;,\r\n               &quot;imageCaptions&quot;:[\r\n                  &quot;cool&quot;\r\n               ]\r\n            }\r\n```\r\nBut still we need to dig deep and then we need contentData jsonObject.\r\n\r\n```\r\nJSONArray image2Json = (JSONArray) readJSON.parse(new FileReader(&quot;/Resources/RawImages/&quot;\r\n                + &quot;Media/InputJson/Media.json&quot;) );\r\nfor(int index = 0; index &lt; image2Json.length(); index++) {\r\n  JSONObject object = image2Json.getJSONObject(i);\r\n  JSONObject input = object.getJSONObject(&quot;input&quot;);\r\n  JSONObject contentData = object.getJSONObject(&quot;contentData&quot;);\r\n}\r\n```\r\nNow contentData has the following Json:\r\n\r\n```\r\n&quot;image&quot;:&quot;Resources/RawImages/Media/InputImage/Media.jpg&quot;,\r\n            &quot;imageMetaData&quot;:{\r\n               &quot;DMLR&quot;:&quot;&quot;,\r\n               &quot;imageCaptions&quot;:[\r\n                  &quot;cool&quot;\r\n               ]\r\n```\r\n\r\nand now we can access the image key by doing.\r\n\r\n```\r\nJSONArray image2Json = (JSONArray) readJSON.parse(new FileReader(&quot;/Resources/RawImages/&quot;\r\n                + &quot;Media/InputJson/Media.json&quot;) );\r\nfor(int index = 0; index &lt; image2Json.length(); index++) {\r\n  JSONObject object = image2Json.getJSONObject(i);\r\n  JSONObject input = object.getJSONObject(&quot;input&quot;);\r\n  JSONObject contentData = input.getJSONObject(&quot;contentData&quot;);\r\n  String image = contentData.getString(&quot;image&quot;);\r\n}\r\n```\r\n\r\n`String image = contentData.getString(&quot;image&quot;);` this image will have the value of image from your json.\r\n\r\nto learn more on this I would recommend you to learn about JSON parsing and read more on JSON object, JSON array and key value pairing in json.","title":"How to get values from JSONArray using Java [Simple-JSON]","body":"<p>The reason why you are getting indexOutOfBound is because of</p>\n<pre><code>JSONObject imgFilePath = (JSONObject) image2Json.get(1);\n</code></pre>\n<p>You are trying to access index <code>1</code> whereas the size of the image2Json is only <code>1</code> so use <code>0</code> as the indexing of the arrays starts with 0.</p>\n<p>The issue is that you are trying to just fetch JSONArray with an incorrect index with the code you have written till now.</p>\n<pre><code>JSONArray image2Json = (JSONArray) readJSON.parse(new FileReader(&quot;/Resources/RawImages/&quot;\n                + &quot;Media/InputJson/Media.json&quot;) );\n</code></pre>\n<p>This line will just load all JSONArray but when you call</p>\n<pre><code>String imagePath = (String) image2Json.get(Integer.parseInt(&quot;image&quot;));\n</code></pre>\n<p>This will cause error because it can't find <code>image</code> key from the jsonArray.</p>\n<p>Every JsonArray is made of JsonObject and so you must first refer to that jsonObject by doing something like.</p>\n<pre><code>JSONArray image2Json = (JSONArray) readJSON.parse(new FileReader(&quot;/Resources/RawImages/&quot;\n                + &quot;Media/InputJson/Media.json&quot;) );\nfor(int index = 0; index &lt; image2Json.length(); index++) {\n  JSONObject object = image2Json.getJSONObject(i);  jsonObject.\n}\n</code></pre>\n<p>the object now consists of the below JSON</p>\n<pre><code>{\n      &quot;input&quot;:{\n         &quot;contentData&quot;:{\n            &quot;image&quot;:&quot;Resources/RawImages/Media/InputImage/Media.jpg&quot;,\n            &quot;imageMetaData&quot;:{\n               &quot;DMLR&quot;:&quot;&quot;,\n               &quot;imageCaptions&quot;:[\n                  &quot;cool&quot;\n               ]\n            }\n         },\n         &quot;requestMetaData&quot;:{\n            &quot;requestId&quot;:&quot;12345678&quot;,\n            &quot;locale&quot;:&quot;en_US&quot;\n         }\n      },\n      &quot;output&quot;:{\n         &quot;isTrue&quot;:true,\n         &quot;mMD&quot;:{\n            &quot;mcT&quot;:0\n         },\n         &quot;result&quot;:{\n            &quot;CR&quot;:0.9039373397827148,\n            &quot;category&quot;:[\n               {\n                  &quot;Name&quot;:&quot;Car&quot;,\n                  &quot;score&quot;:0.9039373397827148\n               }\n            ]\n         }\n      }\n   }\n</code></pre>\n<p>And now we need to Refer to input json so for that we do.</p>\n<pre><code>JSONArray image2Json = (JSONArray) readJSON.parse(new FileReader(&quot;/Resources/RawImages/&quot;\n                + &quot;Media/InputJson/Media.json&quot;) );\nfor(int index = 0; index &lt; image2Json.length(); index++) {\n  JSONObject object = image2Json.getJSONObject(i);\n  JSONObject input = object.getJSONObject(&quot;input&quot;);\n}\n</code></pre>\n<p>Now input has following json:</p>\n<pre><code>&quot;contentData&quot;:{\n            &quot;image&quot;:&quot;Resources/RawImages/Media/InputImage/Media.jpg&quot;,\n            &quot;imageMetaData&quot;:{\n               &quot;DMLR&quot;:&quot;&quot;,\n               &quot;imageCaptions&quot;:[\n                  &quot;cool&quot;\n               ]\n            }\n</code></pre>\n<p>But still we need to dig deep and then we need contentData jsonObject.</p>\n<pre><code>JSONArray image2Json = (JSONArray) readJSON.parse(new FileReader(&quot;/Resources/RawImages/&quot;\n                + &quot;Media/InputJson/Media.json&quot;) );\nfor(int index = 0; index &lt; image2Json.length(); index++) {\n  JSONObject object = image2Json.getJSONObject(i);\n  JSONObject input = object.getJSONObject(&quot;input&quot;);\n  JSONObject contentData = object.getJSONObject(&quot;contentData&quot;);\n}\n</code></pre>\n<p>Now contentData has the following Json:</p>\n<pre><code>&quot;image&quot;:&quot;Resources/RawImages/Media/InputImage/Media.jpg&quot;,\n            &quot;imageMetaData&quot;:{\n               &quot;DMLR&quot;:&quot;&quot;,\n               &quot;imageCaptions&quot;:[\n                  &quot;cool&quot;\n               ]\n</code></pre>\n<p>and now we can access the image key by doing.</p>\n<pre><code>JSONArray image2Json = (JSONArray) readJSON.parse(new FileReader(&quot;/Resources/RawImages/&quot;\n                + &quot;Media/InputJson/Media.json&quot;) );\nfor(int index = 0; index &lt; image2Json.length(); index++) {\n  JSONObject object = image2Json.getJSONObject(i);\n  JSONObject input = object.getJSONObject(&quot;input&quot;);\n  JSONObject contentData = input.getJSONObject(&quot;contentData&quot;);\n  String image = contentData.getString(&quot;image&quot;);\n}\n</code></pre>\n<p><code>String image = contentData.getString(&quot;image&quot;);</code> this image will have the value of image from your json.</p>\n<p>to learn more on this I would recommend you to learn about JSON parsing and read more on JSON object, JSON array and key value pairing in json.</p>\n"},{"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694108502,"creation_date":1694108502,"answer_id":77061787,"question_id":77061623,"body_markdown":"The problem is that you are trying to get the item at position 1 out of the array and your array only contains 1 item. Arrays are zero based so to get the first item you need to get the item at position 0. Instead of:\r\n\r\n    JSONObject imgFilePath = (JSONObject) image2Json.get(1);\r\n\r\nuse:\r\n\r\n    JSONObject imgFilePath = (JSONObject) image2Json.get(0);\r\n\r\nThe exception you are seeing tells you this here:\r\n\r\n&gt;  IndexOutOfBoundsException: Index 1 out of bounds for length 1","title":"How to get values from JSONArray using Java [Simple-JSON]","body":"<p>The problem is that you are trying to get the item at position 1 out of the array and your array only contains 1 item. Arrays are zero based so to get the first item you need to get the item at position 0. Instead of:</p>\n<pre><code>JSONObject imgFilePath = (JSONObject) image2Json.get(1);\n</code></pre>\n<p>use:</p>\n<pre><code>JSONObject imgFilePath = (JSONObject) image2Json.get(0);\n</code></pre>\n<p>The exception you are seeing tells you this here:</p>\n<blockquote>\n<p>IndexOutOfBoundsException: Index 1 out of bounds for length 1</p>\n</blockquote>\n"}],"owner":{"account_id":11430922,"reputation":325,"user_id":8379653,"accept_rate":100,"display_name":"gomathi subramanian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77061787,"answer_count":2,"score":-2,"last_activity_date":1694108622,"creation_date":1694106697,"question_id":77061623,"body_markdown":"\r\nI&#39;m trying to get the value of `&quot;image&quot;` from the below shown JSON using JAVA: \r\n\r\n**Media.json:**\r\n```\r\n[\r\n    {\r\n      &quot;input&quot;: {\r\n        &quot;contentData&quot;: {\r\n          &quot;image&quot;:&quot;Resources/RawImages/Media/InputImage/Media.jpg&quot;,\r\n          &quot;imageMetaData&quot;: {\r\n            &quot;DMLR&quot;:&quot;&quot;,\r\n            &quot;imageCaptions&quot;:[&quot;cool&quot;]\r\n          }\r\n        },\r\n        &quot;requestMetaData&quot;: {\r\n          &quot;requestId&quot;: &quot;12345678&quot;,\r\n          &quot;locale&quot;: &quot;en_US&quot;\r\n        }\r\n\r\n      },\r\n      &quot;output&quot;: {\r\n        &quot;isTrue&quot;: true,\r\n        &quot;mMD&quot;: {\r\n          &quot;mcT&quot;: 0\r\n        },\r\n        &quot;result&quot;: {\r\n          &quot;CR&quot;: 0.9039373397827148,\r\n          &quot;category&quot;: [\r\n            {\r\n              &quot;Name&quot;: &quot;Car&quot;,\r\n              &quot;score&quot;: 0.9039373397827148\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n  ]\r\n\r\n```\r\n\r\n**Function:**\r\n\r\n```\r\npublic static String getImageFilePath() throws IOException, ParseException {\r\n        JSONParser readJSON = new JSONParser();\r\n        JSONArray image2Json = (JSONArray) readJSON.parse(new FileReader(&quot;/Resources/RawImages/&quot;\r\n                + &quot;Media/InputJson/Media.json&quot;) );\r\n\r\n        JSONObject imgFilePath = (JSONObject) image2Json.get(1);\r\n\r\n\r\n        return imgFilePath.toString();\r\n```\r\n\r\n**Error Message:**\r\n```\r\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\r\n\tat java.base/java.util.Objects.checkIndex(Objects.java:361)\r\n\tat java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n\tat com.example.mediaservice.TestUtils.CommonTestUtils.getImageFilePath(CommonTestUtils.java:92)\r\n\tat com.example.mediaservice.TestUtils.CommonTestUtils.imageEncoder(CommonTestUtils.java:63)\r\n\tat com.example.mediaservice.TestUtils.CommonTestUtils.main(CommonTestUtils.java:37)\r\n\r\nProcess finished with exit code 1\r\n```","title":"How to get values from JSONArray using Java [Simple-JSON]","body":"<p>I'm trying to get the value of <code>&quot;image&quot;</code> from the below shown JSON using JAVA:</p>\n<p><strong>Media.json:</strong></p>\n<pre><code>[\n    {\n      &quot;input&quot;: {\n        &quot;contentData&quot;: {\n          &quot;image&quot;:&quot;Resources/RawImages/Media/InputImage/Media.jpg&quot;,\n          &quot;imageMetaData&quot;: {\n            &quot;DMLR&quot;:&quot;&quot;,\n            &quot;imageCaptions&quot;:[&quot;cool&quot;]\n          }\n        },\n        &quot;requestMetaData&quot;: {\n          &quot;requestId&quot;: &quot;12345678&quot;,\n          &quot;locale&quot;: &quot;en_US&quot;\n        }\n\n      },\n      &quot;output&quot;: {\n        &quot;isTrue&quot;: true,\n        &quot;mMD&quot;: {\n          &quot;mcT&quot;: 0\n        },\n        &quot;result&quot;: {\n          &quot;CR&quot;: 0.9039373397827148,\n          &quot;category&quot;: [\n            {\n              &quot;Name&quot;: &quot;Car&quot;,\n              &quot;score&quot;: 0.9039373397827148\n            }\n          ]\n        }\n      }\n    }\n  ]\n\n</code></pre>\n<p><strong>Function:</strong></p>\n<pre><code>public static String getImageFilePath() throws IOException, ParseException {\n        JSONParser readJSON = new JSONParser();\n        JSONArray image2Json = (JSONArray) readJSON.parse(new FileReader(&quot;/Resources/RawImages/&quot;\n                + &quot;Media/InputJson/Media.json&quot;) );\n\n        JSONObject imgFilePath = (JSONObject) image2Json.get(1);\n\n\n        return imgFilePath.toString();\n</code></pre>\n<p><strong>Error Message:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 1\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\n    at java.base/java.util.Objects.checkIndex(Objects.java:361)\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\n    at com.example.mediaservice.TestUtils.CommonTestUtils.getImageFilePath(CommonTestUtils.java:92)\n    at com.example.mediaservice.TestUtils.CommonTestUtils.imageEncoder(CommonTestUtils.java:63)\n    at com.example.mediaservice.TestUtils.CommonTestUtils.main(CommonTestUtils.java:37)\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","swing","deprecated"],"answers":[{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1236809058,"creation_date":1236808736,"answer_id":636556,"question_id":636550,"body_markdown":"Most likely because they don&#39;t conform to the standard get/set naming scheme ([they][1] [say][2], &quot;As of JDK version 1.1, replaced by [`setVisible(boolean)`][3]&quot;).\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/awt/Component.html#hide()\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/awt/Component.html#show()\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/awt/Component.html#setVisible(boolean)","title":"Java Component.show() / hide() are deprecated ... why?","body":"<p>Most likely because they don't conform to the standard get/set naming scheme (<a href=\"http://java.sun.com/javase/6/docs/api/java/awt/Component.html#hide()\" rel=\"noreferrer\">they</a> <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/Component.html#show()\" rel=\"noreferrer\">say</a>, \"As of JDK version 1.1, replaced by <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/Component.html#setVisible(boolean)\" rel=\"noreferrer\"><code>setVisible(boolean)</code></a>\").</p>\n"},{"tags":[],"owner":{"account_id":24916,"reputation":14629,"user_id":63679,"accept_rate":100,"display_name":"n00ki3"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1236853270,"creation_date":1236808789,"answer_id":636557,"question_id":636550,"body_markdown":"As of JDK version 1.1, replaced by Component.setVisible(boolean). ","title":"Java Component.show() / hide() are deprecated ... why?","body":"<p>As of JDK version 1.1, replaced by Component.setVisible(boolean). </p>\n"},{"tags":[],"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1236808801,"creation_date":1236808801,"answer_id":636558,"question_id":636550,"body_markdown":"The hide and show methods of java.awt.Component have been deprecated for a\r\nwhile.\r\n\r\nThe proper way to set the visibility\r\nof a component is setVisible(boolean b)","title":"Java Component.show() / hide() are deprecated ... why?","body":"<p>The hide and show methods of java.awt.Component have been deprecated for a\nwhile.</p>\n\n<p>The proper way to set the visibility\nof a component is setVisible(boolean b)</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1236817462,"creation_date":1236817462,"answer_id":636919,"question_id":636550,"body_markdown":"JDK 1.1 introduced Java Beans.  Java Beans rely in reflection and introspection to determine what the properties of a Bean are (a Bean is a &quot;component&quot;).  Properties are then displayed in a Property Sheet.  \r\n\r\nBy default beans use the following foormat:\r\n\r\n    boolean isXXX()\r\n    &lt;type&gt; getXXX()\r\n    void setXXX(&lt;type&gt;)\r\n\r\n(going from memory on these next two... they are for indexed properties)\r\n\r\n    &lt;type&gt; getXXX(int)\r\n    void setXXX(&lt;type&gt;, int)\r\n\r\nYou can override the defaults, but rather than do that most things just rely on the naming pattern.\r\n\r\nSo show/hide didn&#39;t conform to the naming pattern and were replaced with setVisible(boolean) which did.\r\n","title":"Java Component.show() / hide() are deprecated ... why?","body":"<p>JDK 1.1 introduced Java Beans.  Java Beans rely in reflection and introspection to determine what the properties of a Bean are (a Bean is a \"component\").  Properties are then displayed in a Property Sheet.  </p>\n\n<p>By default beans use the following foormat:</p>\n\n<pre><code>boolean isXXX()\n&lt;type&gt; getXXX()\nvoid setXXX(&lt;type&gt;)\n</code></pre>\n\n<p>(going from memory on these next two... they are for indexed properties)</p>\n\n<pre><code>&lt;type&gt; getXXX(int)\nvoid setXXX(&lt;type&gt;, int)\n</code></pre>\n\n<p>You can override the defaults, but rather than do that most things just rely on the naming pattern.</p>\n\n<p>So show/hide didn't conform to the naming pattern and were replaced with setVisible(boolean) which did.</p>\n"},{"tags":[],"owner":{"account_id":423096,"reputation":3476,"user_id":802268,"accept_rate":53,"display_name":"xiaolong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322702340,"creation_date":1322701922,"answer_id":8335379,"question_id":636550,"body_markdown":"You can use alternative: `someUseFrame.setVisible(true);`","title":"Java Component.show() / hide() are deprecated ... why?","body":"<p>You can use alternative: <code>someUseFrame.setVisible(true);</code></p>\n"},{"tags":[],"owner":{"account_id":29389137,"reputation":1,"user_id":22517960,"display_name":"Umang S Paneri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694108360,"creation_date":1694108360,"answer_id":77061771,"question_id":636550,"body_markdown":"The method show() / hide() is deprecated means it&#39;s no longer supported and not usable. it is not good for future. we must replace .show() to setVisible(true). if we can&#39;t change now that was effect in future. so change that. i hope my answer is useful for all you guys..... Thank You From Umang Paneri.","title":"Java Component.show() / hide() are deprecated ... why?","body":"<p>The method show() / hide() is deprecated means it's no longer supported and not usable. it is not good for future. we must replace .show() to setVisible(true). if we can't change now that was effect in future. so change that. i hope my answer is useful for all you guys..... Thank You From Umang Paneri.</p>\n"}],"owner":{"account_id":18869,"reputation":1466,"user_id":43685,"accept_rate":50,"display_name":"user43685"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28664,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":6,"score":21,"last_activity_date":1694108360,"creation_date":1236808640,"question_id":636550,"body_markdown":"Does anyone know the reason why these Java swing methods are deprecated :\r\n\r\n    Component.show(); \r\n    Component.hide();\r\n\r\n","title":"Java Component.show() / hide() are deprecated ... why?","body":"<p>Does anyone know the reason why these Java swing methods are deprecated :</p>\n\n<pre><code>Component.show(); \nComponent.hide();\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","copy"],"owner":{"account_id":22019647,"reputation":1,"user_id":16288655,"display_name":"Ram Chaudhari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694108325,"creation_date":1693998075,"question_id":77051288,"body_markdown":"I am trying to copy from AWS S3 using `CopyObjectRequest copyObjectRequest()` method with source and destination having a space character, but I get a copy object error.\r\n\r\nBelow is the code snippet. \r\n\r\n```\r\nsourceKey = &quot;/Test Folder/test.png&quot;;\r\ndestinationKey = &quot;Test Folder/test.png&quot;;\r\n final CopyObjectRequest copyObjectRequest =\r\n                new CopyObjectRequest(\r\n                        bucketName, sourceKey,\r\n                        bucketName, destinationKey);\r\n        copyObjectRequest.setCannedAccessControlList(CannedAccessControlList.PublicReadWrite);\r\n```\r\nI tried to replace `%20` (URL encoded) in source and destination with `+` and ` `(Space), but both didn&#39;t work. ","title":"How to use copyObjectRequest() when source and destination have a space character in them?","body":"<p>I am trying to copy from AWS S3 using <code>CopyObjectRequest copyObjectRequest()</code> method with source and destination having a space character, but I get a copy object error.</p>\n<p>Below is the code snippet.</p>\n<pre><code>sourceKey = &quot;/Test Folder/test.png&quot;;\ndestinationKey = &quot;Test Folder/test.png&quot;;\n final CopyObjectRequest copyObjectRequest =\n                new CopyObjectRequest(\n                        bucketName, sourceKey,\n                        bucketName, destinationKey);\n        copyObjectRequest.setCannedAccessControlList(CannedAccessControlList.PublicReadWrite);\n</code></pre>\n<p>I tried to replace <code>%20</code> (URL encoded) in source and destination with <code>+</code> and <code> </code>(Space), but both didn't work.</p>\n"},{"tags":["java","android","camera","usb","usb-camera"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1694112740,"post_id":77061752,"comment_id":135852121,"body_markdown":"Android does not require USB Camera support, [Android Compatibility Definition Document: 7.5.3. External Camera - MAY include support for an external camera that is not necessarily always connected.](https://source.android.com/docs/compatibility/13/android-13-cdd#753_external_camera) Any Play Store apps which do connect to USB Camera are probably using a third-party libraries like https://github.com/saki4510t/UVCCamera or https://github.com/jiangdongguo/AndroidUSBCamera","body":"Android does not require USB Camera support, <a href=\"https://source.android.com/docs/compatibility/13/android-13-cdd#753_external_camera\" rel=\"nofollow noreferrer\">Android Compatibility Definition Document: 7.5.3. External Camera - MAY include support for an external camera that is not necessarily always connected.</a> Any Play Store apps which do connect to USB Camera are probably using a third-party libraries like <a href=\"https://github.com/saki4510t/UVCCamera\" rel=\"nofollow noreferrer\">github.com/saki4510t/UVCCamera</a> or <a href=\"https://github.com/jiangdongguo/AndroidUSBCamera\" rel=\"nofollow noreferrer\">github.com/jiangdongguo/AndroidUSBCamera</a>"}],"owner":{"account_id":4675670,"reputation":1,"user_id":3786111,"display_name":"Philip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694108214,"creation_date":1694108214,"question_id":77061752,"body_markdown":"I bought a little usb camera for mlkit but the android see her as usb device and not as usb camera. The strange things is that the apps in Play Store for USB Camera works all. Before to start to learn the UVC I ask help everyone. I have read much posts before ask this.\r\n\r\n\r\n\r\n\r\nThis code works good, he ask the permission\r\n```\r\nUsbManager usbManager = (UsbManager) CONTEXT.getSystemService(Context.USB_SERVICE);\r\n                        HashMap&lt;String, UsbDevice&gt; deviceList = usbManager.getDeviceList();\r\n                        if (!deviceList.isEmpty()) {\r\n                            for (UsbDevice usbDevice : deviceList.values()) {\r\n                                if (usbDevice.getVendorId() == 7119 &amp;&amp; usbDevice.getProductId() == 49153) {\r\n                                    String ACTION_USB_PERMISSION = &quot;com.android.example.USB_PERMISSION&quot;;\r\n                                    PendingIntent permissionIntent = PendingIntent.getBroadcast(CONTEXT, 0, new Intent(ACTION_USB_PERMISSION), PendingIntent.FLAG_MUTABLE);\r\n                                    usbManager.requestPermission(usbDevice, permissionIntent);\r\n                                }\r\n                            }\r\n                        }\r\n```\r\nthis script works good, reports a single device\r\n```\r\nUsbManager usbManager = (UsbManager) CONTEXT.getSystemService(Context.USB_SERVICE);\r\n        HashMap&lt;String, UsbDevice&gt; deviceList = usbManager.getDeviceList();\r\n        if (!deviceList.isEmpty()) {\r\n            for (UsbDevice usbDevice : deviceList.values()) {\r\n                properties(usbDevice);\r\n            }\r\n        }\r\n```\r\ngetDeviceName: /dev/bus/usb/001/049, getVendorId: 7119, getProductName: USB Camera, getProductId: 49153\r\n\r\n\r\nbut this script dont show the LENS_FACING_EXTERNAL. He find only 2 FRONT camera and 1 BACK (that are the integrated cameras)\r\n\r\n```\r\nCameraManager cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n        String[] CameraIdList = cameraManager.getCameraIdList();\r\n        int mCameraNum = CameraIdList.length;\r\n\r\n        for (String cameraId : CameraIdList) {\r\n            CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\r\n\r\n            Integer facing = characteristics.get(CameraCharacteristics.LENS_FACING);\r\n            String lenFacinngType = &quot;&quot;;\r\n            switch (facing) {\r\n                case (CameraCharacteristics.LENS_FACING_EXTERNAL):\r\n                    lenFacinngType = &quot;EXTERNAL&quot;;\r\n                    break;\r\n                case (CameraCharacteristics.LENS_FACING_BACK):\r\n                    lenFacinngType = &quot;BACK&quot;;\r\n                    break;\r\n                case (CameraCharacteristics.LENS_FACING_FRONT):\r\n                    lenFacinngType = &quot;FRONT&quot;;\r\n                    break;\r\n                default:\r\n                    lenFacinngType = &quot;UNK&quot;;\r\n                    break;\r\n            }\r\n}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Problems with USB camera in android that dont work","body":"<p>I bought a little usb camera for mlkit but the android see her as usb device and not as usb camera. The strange things is that the apps in Play Store for USB Camera works all. Before to start to learn the UVC I ask help everyone. I have read much posts before ask this.</p>\n<p>This code works good, he ask the permission</p>\n<pre><code>UsbManager usbManager = (UsbManager) CONTEXT.getSystemService(Context.USB_SERVICE);\n                        HashMap&lt;String, UsbDevice&gt; deviceList = usbManager.getDeviceList();\n                        if (!deviceList.isEmpty()) {\n                            for (UsbDevice usbDevice : deviceList.values()) {\n                                if (usbDevice.getVendorId() == 7119 &amp;&amp; usbDevice.getProductId() == 49153) {\n                                    String ACTION_USB_PERMISSION = &quot;com.android.example.USB_PERMISSION&quot;;\n                                    PendingIntent permissionIntent = PendingIntent.getBroadcast(CONTEXT, 0, new Intent(ACTION_USB_PERMISSION), PendingIntent.FLAG_MUTABLE);\n                                    usbManager.requestPermission(usbDevice, permissionIntent);\n                                }\n                            }\n                        }\n</code></pre>\n<p>this script works good, reports a single device</p>\n<pre><code>UsbManager usbManager = (UsbManager) CONTEXT.getSystemService(Context.USB_SERVICE);\n        HashMap&lt;String, UsbDevice&gt; deviceList = usbManager.getDeviceList();\n        if (!deviceList.isEmpty()) {\n            for (UsbDevice usbDevice : deviceList.values()) {\n                properties(usbDevice);\n            }\n        }\n</code></pre>\n<p>getDeviceName: /dev/bus/usb/001/049, getVendorId: 7119, getProductName: USB Camera, getProductId: 49153</p>\n<p>but this script dont show the LENS_FACING_EXTERNAL. He find only 2 FRONT camera and 1 BACK (that are the integrated cameras)</p>\n<pre><code>CameraManager cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n        String[] CameraIdList = cameraManager.getCameraIdList();\n        int mCameraNum = CameraIdList.length;\n\n        for (String cameraId : CameraIdList) {\n            CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\n\n            Integer facing = characteristics.get(CameraCharacteristics.LENS_FACING);\n            String lenFacinngType = &quot;&quot;;\n            switch (facing) {\n                case (CameraCharacteristics.LENS_FACING_EXTERNAL):\n                    lenFacinngType = &quot;EXTERNAL&quot;;\n                    break;\n                case (CameraCharacteristics.LENS_FACING_BACK):\n                    lenFacinngType = &quot;BACK&quot;;\n                    break;\n                case (CameraCharacteristics.LENS_FACING_FRONT):\n                    lenFacinngType = &quot;FRONT&quot;;\n                    break;\n                default:\n                    lenFacinngType = &quot;UNK&quot;;\n                    break;\n            }\n}\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1519793838,"post_id":49022204,"comment_id":85049525,"body_markdown":"Delete the `.m2` directory and run `clean install`","body":"Delete the <code>.m2</code> directory and run <code>clean install</code>"},{"owner":{"account_id":4232820,"reputation":824,"user_id":3464792,"accept_rate":33,"display_name":"Hana"},"score":0,"creation_date":1519801065,"post_id":49022204,"comment_id":85051975,"body_markdown":"Thanks Malik, but it doesn&#39;t work.","body":"Thanks Malik, but it doesn&#39;t work."},{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":0,"creation_date":1519805081,"post_id":49022204,"comment_id":85053881,"body_markdown":"Manually copy `mchange-commons-java-0.2.11.jar` from its location to C:\\Users\\ABC\\.m2\\repository\\com\\mchange\\c3p0\\0.9.5.2\\ and try. Yes, I know this is dirty way but it will help us whether the problem is because of missing jar in the above location.","body":"Manually copy <code>mchange-commons-java-0.2.11.jar</code> from its location to C:\\Users\\ABC\\.m2\\repository\\com\\mchange\\c3p0\\0.9.5.2\\ and try. Yes, I know this is dirty way but it will help us whether the problem is because of missing jar in the above location."},{"owner":{"account_id":4232820,"reputation":824,"user_id":3464792,"accept_rate":33,"display_name":"Hana"},"score":0,"creation_date":1519805518,"post_id":49022204,"comment_id":85054129,"body_markdown":"Yes, I tried this way. It worked as you said. But we need to discover where is the root cause and a general way to fix it.","body":"Yes, I tried this way. It worked as you said. But we need to discover where is the root cause and a general way to fix it."}],"answers":[{"tags":[],"owner":{"account_id":1503113,"reputation":578,"user_id":1407114,"accept_rate":96,"display_name":"ashishgupta_mca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519801765,"creation_date":1519801765,"answer_id":49023827,"question_id":49022204,"body_markdown":"Somehow your spring boot transitive dependency is referring the wrong \r\nmchange-commons-java. From your error, it&#39;s searching for path  .m2\\repository\\com\\mchange\\c3p0\\0.9.5.2\\mchange-commons-java-0.2.11.jar. See highlighted c3p0.\r\nIdeally the path has to be com\\mchange\\mchange-commons-java\\0.2.11\\mchange-commons-java-0.2.11.jar.\r\n\r\nIt seems that mchange-commons-java dependency is conflicted.\r\n\r\nWhen you open pom.xml in eclipse or in any editor, you see dependency hierarchy where it lists all the transitive dependencies. See if there is any mchange-commons-java of c3p0 and if it is there, exclude that dependency. Then your explicit declaration of dependency of mchange-commons-java dependency may work.","title":"System can&#39;t find: mchange-commons-java-0.2.11","body":"<p>Somehow your spring boot transitive dependency is referring the wrong \nmchange-commons-java. From your error, it's searching for path  .m2\\repository\\com\\mchange\\c3p0\\0.9.5.2\\mchange-commons-java-0.2.11.jar. See highlighted c3p0.\nIdeally the path has to be com\\mchange\\mchange-commons-java\\0.2.11\\mchange-commons-java-0.2.11.jar.</p>\n\n<p>It seems that mchange-commons-java dependency is conflicted.</p>\n\n<p>When you open pom.xml in eclipse or in any editor, you see dependency hierarchy where it lists all the transitive dependencies. See if there is any mchange-commons-java of c3p0 and if it is there, exclude that dependency. Then your explicit declaration of dependency of mchange-commons-java dependency may work.</p>\n"},{"tags":[],"owner":{"account_id":13059825,"reputation":101,"user_id":9437409,"display_name":"T. Hem"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1520764986,"creation_date":1520764986,"answer_id":49219098,"question_id":49022204,"body_markdown":"From the **StandardJarScanner** javadoc:\n\n&gt; The default JarScanner implementation **scans the WEB-INF/lib** directory\n&gt; followed by the provided classloader and then works up the classloader\n&gt; hierarchy. This implementation is sufficient to **meet the requirements\n&gt; of the Servlet 3.0 specification** as well as to provide a number of\n&gt; Tomcat specific extensions. The extensions are: \n&gt;\n&gt;  - Scanning the classloader hierarchy (enabled by default) Testing all files to see if they are JARs (disabled by default) \n&gt;\n&gt;  - Testing all directories to see if they are exploded JARs (disabled by default) \n&gt;\n&gt;  - All of the extensions **may be controlled via configuration**.\n\nTo disable that particular jar from being scanned at startup you can add this spring boot specific property:\n\n    server.tomcat.additional-tld-skip-patterns=*mchange-commons-java*.jar","title":"System can&#39;t find: mchange-commons-java-0.2.11","body":"<p>From the <strong>StandardJarScanner</strong> javadoc:</p>\n<blockquote>\n<p>The default JarScanner implementation <strong>scans the WEB-INF/lib</strong> directory\nfollowed by the provided classloader and then works up the classloader\nhierarchy. This implementation is sufficient to <strong>meet the requirements\nof the Servlet 3.0 specification</strong> as well as to provide a number of\nTomcat specific extensions. The extensions are:</p>\n<ul>\n<li><p>Scanning the classloader hierarchy (enabled by default) Testing all files to see if they are JARs (disabled by default)</p>\n</li>\n<li><p>Testing all directories to see if they are exploded JARs (disabled by default)</p>\n</li>\n<li><p>All of the extensions <strong>may be controlled via configuration</strong>.</p>\n</li>\n</ul>\n</blockquote>\n<p>To disable that particular jar from being scanned at startup you can add this spring boot specific property:</p>\n<pre><code>server.tomcat.additional-tld-skip-patterns=*mchange-commons-java*.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":481992,"reputation":71,"user_id":896108,"display_name":"xiaoqian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531973163,"creation_date":1531967067,"answer_id":51413454,"question_id":49022204,"body_markdown":"The problem is the c3p0 .jar file with the wrong Class-Path:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bpzcO.png\r\n\r\n\r\n\r\n","title":"System can&#39;t find: mchange-commons-java-0.2.11","body":"<p>The problem is the c3p0 .jar file with the wrong Class-Path:</p>\n\n<p><img src=\"https://i.stack.imgur.com/bpzcO.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1144755,"reputation":1415,"user_id":1127772,"display_name":"Carlos Saltos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677276395,"creation_date":1677276395,"answer_id":75561782,"question_id":49022204,"body_markdown":"For me the quartz library was also creating the conflict via the c3po dependency but I&#39;ve just added this property value to the JVM running arguments for Tomcat skip scanning the jar files not needed:\r\n\r\n`-Dtomcat.util.scan.StandardJarScanFilter.jarsToSkip=*.jar`\r\n\r\n(if you add this to your catalina.properties files, just remove the `-D` prefix)\r\n\r\n&gt; If you need the jar scanning, you may exclude only the offending jars instead of `*.jar`\r\n","title":"System can&#39;t find: mchange-commons-java-0.2.11","body":"<p>For me the quartz library was also creating the conflict via the c3po dependency but I've just added this property value to the JVM running arguments for Tomcat skip scanning the jar files not needed:</p>\n<p><code>-Dtomcat.util.scan.StandardJarScanFilter.jarsToSkip=*.jar</code></p>\n<p>(if you add this to your catalina.properties files, just remove the <code>-D</code> prefix)</p>\n<blockquote>\n<p>If you need the jar scanning, you may exclude only the offending jars instead of <code>*.jar</code></p>\n</blockquote>\n"}],"owner":{"account_id":4232820,"reputation":824,"user_id":3464792,"accept_rate":33,"display_name":"Hana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5836,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1694107956,"creation_date":1519793623,"question_id":49022204,"body_markdown":"I have a Spring boot project that using connection pool. It work properly in my computer but when my colleague pull the code from git then try to run. It thrown an error as below:\r\n\r\n    2018-02-28 14:49:24.527  WARN 11856 --- [ost-startStop-1] o.a.tomcat.util.scan.StandardJarScanner  : Failed to scan [file:/C:/Users/ABC/.m2/repository/com/mchange/c3p0/0.9.5.2/mchange-commons-java-0.2.11.jar] from classloader hierarchy\r\n\r\n    java.io.FileNotFoundException: C:\\Users\\ABC\\.m2\\repository\\com\\mchange\\c3p0\\0.9.5.2\\mchange-commons-java-0.2.11.jar (The system cannot find the file specified)\r\n\tat java.util.zip.ZipFile.open(Native Method) ~[na:1.8.0_60]\r\n\tat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:219) ~[na:1.8.0_60]\r\n\tat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:149) ~[na:1.8.0_60]\r\n\tat java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166) ~[na:1.8.0_60]\r\n\tat java.util.jar.JarFile.&lt;init&gt;(JarFile.java:130) ~[na:1.8.0_60]\r\n\tat org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:60) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:338) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:288) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.jasper.servlet.TldScanner.scanJars(TldScanner.java:262) [tomcat-embed-jasper-8.5.23.jar:8.5.23]\r\n\tat org.apache.jasper.servlet.TldScanner.scan(TldScanner.java:104) [tomcat-embed-jasper-8.5.23.jar:8.5.23]\r\n\tat org.apache.jasper.servlet.JasperInitializer.onStartup(JasperInitializer.java:101) [tomcat-embed-jasper-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5196) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_60]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_60]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_60]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_60]\r\n\r\nI also tried to add dependency for **mchange-commons-java-0.2.11**, but it still doesn&#39;t work:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mchange-commons-java&lt;/artifactId&gt;\r\n        &lt;version&gt;0.2.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you faced or had experiences about it, please leave me a comment/idea.\r\n\r\nYour advice or suggestions will be much appreciated and welcomed!\r\n","title":"System can&#39;t find: mchange-commons-java-0.2.11","body":"<p>I have a Spring boot project that using connection pool. It work properly in my computer but when my colleague pull the code from git then try to run. It thrown an error as below:</p>\n\n<pre><code>2018-02-28 14:49:24.527  WARN 11856 --- [ost-startStop-1] o.a.tomcat.util.scan.StandardJarScanner  : Failed to scan [file:/C:/Users/ABC/.m2/repository/com/mchange/c3p0/0.9.5.2/mchange-commons-java-0.2.11.jar] from classloader hierarchy\n\njava.io.FileNotFoundException: C:\\Users\\ABC\\.m2\\repository\\com\\mchange\\c3p0\\0.9.5.2\\mchange-commons-java-0.2.11.jar (The system cannot find the file specified)\nat java.util.zip.ZipFile.open(Native Method) ~[na:1.8.0_60]\nat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:219) ~[na:1.8.0_60]\nat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:149) ~[na:1.8.0_60]\nat java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166) ~[na:1.8.0_60]\nat java.util.jar.JarFile.&lt;init&gt;(JarFile.java:130) ~[na:1.8.0_60]\nat org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:60) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\nat org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\nat org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:338) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\nat org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:288) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\nat org.apache.jasper.servlet.TldScanner.scanJars(TldScanner.java:262) [tomcat-embed-jasper-8.5.23.jar:8.5.23]\nat org.apache.jasper.servlet.TldScanner.scan(TldScanner.java:104) [tomcat-embed-jasper-8.5.23.jar:8.5.23]\nat org.apache.jasper.servlet.JasperInitializer.onStartup(JasperInitializer.java:101) [tomcat-embed-jasper-8.5.23.jar:8.5.23]\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5196) [tomcat-embed-core-8.5.23.jar:8.5.23]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.23.jar:8.5.23]\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419) [tomcat-embed-core-8.5.23.jar:8.5.23]\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409) [tomcat-embed-core-8.5.23.jar:8.5.23]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_60]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_60]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_60]\nat java.lang.Thread.run(Thread.java:745) [na:1.8.0_60]\n</code></pre>\n\n<p>I also tried to add dependency for <strong>mchange-commons-java-0.2.11</strong>, but it still doesn't work:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n    &lt;artifactId&gt;mchange-commons-java&lt;/artifactId&gt;\n    &lt;version&gt;0.2.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If you faced or had experiences about it, please leave me a comment/idea.</p>\n\n<p>Your advice or suggestions will be much appreciated and welcomed!</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694107620,"creation_date":1694107620,"answer_id":77061692,"question_id":77055710,"body_markdown":"A couple of things factor into this:\r\n\r\n(1) The effective parallelism of Flink&#39;s KafkaSource is limited by the number of Kafka partitions.\r\n\r\n(2) Flink defaults to using operator chaining wherever possible -- meaning that in all 100 instances the map and filter are running in the same thread as the source. This avoids the overhead of serializing and deserializing the events, and sending them over the network. However, only 5 of those source instances are consuming any data, so only 5 chains are doing any work.\r\n\r\nBy far the best way to put the other 95 task managers to work would be to increase the number of Kafka partitions to 100. Failing that, you could explicitly set the parallelism of the Kafka source operator to 5, and the parallelism of the map and filter to 100. That will force a round-robin rebalancing between the source and the map/filter operations. Given the overhead involved, that may or may not perform any better.\r\n","title":"Why isn&#39;t Flink distributing my work evenly and how do I fix it?","body":"<p>A couple of things factor into this:</p>\n<p>(1) The effective parallelism of Flink's KafkaSource is limited by the number of Kafka partitions.</p>\n<p>(2) Flink defaults to using operator chaining wherever possible -- meaning that in all 100 instances the map and filter are running in the same thread as the source. This avoids the overhead of serializing and deserializing the events, and sending them over the network. However, only 5 of those source instances are consuming any data, so only 5 chains are doing any work.</p>\n<p>By far the best way to put the other 95 task managers to work would be to increase the number of Kafka partitions to 100. Failing that, you could explicitly set the parallelism of the Kafka source operator to 5, and the parallelism of the map and filter to 100. That will force a round-robin rebalancing between the source and the map/filter operations. Given the overhead involved, that may or may not perform any better.</p>\n"}],"owner":{"account_id":15966961,"reputation":123,"user_id":11522265,"display_name":"Scott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694107620,"creation_date":1694041577,"question_id":77055710,"body_markdown":"I have a flink job that reads from a data source that has 5 partitions. I have my parallelism in the config file set to 100 for each task manager.\r\n\r\nIn my input operation, it only uses 5/100 task managers to read the 5 partitions. But after that, in my map and filter operations, I want Flink to take the data it read in previously and distribute it to each of the 100 task managers. But it isn&#39;t doing that. It only sends the data to 5/100 task managers in the map and filter operations. The remaining 95/100 are not used at all.\r\n\r\nHow do I force flink to use all the task managers?","title":"Why isn&#39;t Flink distributing my work evenly and how do I fix it?","body":"<p>I have a flink job that reads from a data source that has 5 partitions. I have my parallelism in the config file set to 100 for each task manager.</p>\n<p>In my input operation, it only uses 5/100 task managers to read the 5 partitions. But after that, in my map and filter operations, I want Flink to take the data it read in previously and distribute it to each of the 100 task managers. But it isn't doing that. It only sends the data to 5/100 task managers in the map and filter operations. The remaining 95/100 are not used at all.</p>\n<p>How do I force flink to use all the task managers?</p>\n"},{"tags":["java","deprecated"],"comments":[{"owner":{"account_id":406517,"reputation":48699,"user_id":776084,"accept_rate":79,"display_name":"RanRag"},"score":0,"creation_date":1329621733,"post_id":9346372,"comment_id":11798223,"body_markdown":"You can always do `javac -Xlint Myprogram.java` but follow Ernest response.","body":"You can always do <code>javac -Xlint Myprogram.java</code> but follow Ernest response."}],"answers":[{"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1329621481,"creation_date":1329621481,"answer_id":9346404,"question_id":9346372,"body_markdown":"The method `show()` is, indeed, deprecated. *Deprecated* means that you&#39;re not supposed to use it anymore, as it&#39;s been replaced by something better and may be removed in the future. In this case, you&#39;re supposed to use `setVisible(true)` instead.\r\n\r\nIf you go and look at the Javadoc for a deprecated method, it will generally tell you what the intended replacement is.","title":"Error: &quot;The method show() from the type Window is deprecated&quot; ","body":"<p>The method <code>show()</code> is, indeed, deprecated. <em>Deprecated</em> means that you're not supposed to use it anymore, as it's been replaced by something better and may be removed in the future. In this case, you're supposed to use <code>setVisible(true)</code> instead.</p>\n\n<p>If you go and look at the Javadoc for a deprecated method, it will generally tell you what the intended replacement is.</p>\n"},{"tags":[],"owner":{"account_id":1173545,"reputation":396,"user_id":1150111,"display_name":"Kenneth Funk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585626576,"creation_date":1329621595,"answer_id":9346414,"question_id":9346372,"body_markdown":"You now have to use setVisible(true) instead.","title":"Error: &quot;The method show() from the type Window is deprecated&quot; ","body":"<p>You now have to use setVisible(true) instead.</p>\n"},{"tags":[],"owner":{"account_id":29389137,"reputation":1,"user_id":22517960,"display_name":"Umang S Paneri"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694106726,"creation_date":1694106726,"answer_id":77061626,"question_id":9346372,"body_markdown":"The method show() is deprecated means it&#39;s no longer supported and not usable.\r\nit is not good for future. we must replace .show() to setVisible(true).\r\nif we can&#39;t change now that was effect in future.\r\nso change that.\r\ni hope my answer is useful for all you guys.....\r\nThank You From Umang Paneri.","title":"Error: &quot;The method show() from the type Window is deprecated&quot; ","body":"<p>The method show() is deprecated means it's no longer supported and not usable.\nit is not good for future. we must replace .show() to setVisible(true).\nif we can't change now that was effect in future.\nso change that.\ni hope my answer is useful for all you guys.....\nThank You From Umang Paneri.</p>\n"}],"owner":{"account_id":1172596,"reputation":187,"user_id":1149422,"accept_rate":46,"display_name":"Izzy Nakash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29378,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":9346404,"answer_count":3,"score":10,"last_activity_date":1694106726,"creation_date":1329621203,"question_id":9346372,"body_markdown":"this is a simple program to just open an AWT. Im using eclipse and i get the error shown above for frame.show(); Eclipse is crossing &quot;show&quot; with a line. All i want this program to do is just display a 300px by 300px frame window. Heres the full code:\r\n\r\n        Frame frame = new Frame(&quot;Hello World&quot;);\r\n        // ...        \r\n        frame.show(); \r\n        \r\n        \r\n\r\n","title":"Error: &quot;The method show() from the type Window is deprecated&quot; ","body":"<p>this is a simple program to just open an AWT. Im using eclipse and i get the error shown above for frame.show(); Eclipse is crossing \"show\" with a line. All i want this program to do is just display a 300px by 300px frame window. Heres the full code:</p>\n\n<pre><code>    Frame frame = new Frame(\"Hello World\");\n    // ...        \n    frame.show(); \n</code></pre>\n"},{"tags":["java","maven","javafx","jar","jfreechart"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1694106722,"post_id":77061596,"comment_id":135851069,"body_markdown":"For maven, the `pom.xml` file is what matters. It&#39;s an XML configuration file, so sections are grouped by their parent node (e.g. `&lt;project&gt;&lt;name&gt;MyProject&lt;/name&gt;&lt;version&gt;1.0.0&lt;/version&gt;&lt;/project&gt;`). When you look up a maven dependency online, there will usually be a `&lt;dependency&gt;` xml tag you can add under `&lt;dependencies&gt;` in order to automatically download, link, and build with other libraries. No manual file management needed, but a little reading/learning of maven in general.","body":"For maven, the <code>pom.xml</code> file is what matters. It&#39;s an XML configuration file, so sections are grouped by their parent node (e.g. <code>&lt;project&gt;&lt;name&gt;MyProject&lt;&#47;name&gt;&lt;version&gt;1.0.0&lt;&#47;version&gt;&lt;&#47;pro&zwnj;&#8203;ject&gt;</code>). When you look up a maven dependency online, there will usually be a <code>&lt;dependency&gt;</code> xml tag you can add under <code>&lt;dependencies&gt;</code> in order to automatically download, link, and build with other libraries. No manual file management needed, but a little reading/learning of maven in general."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1694108138,"post_id":77061596,"comment_id":135851311,"body_markdown":"Building a runnable jar file with JavaFX is not supported. See the various links in the  &quot;Packaging&quot; section in the [tag info](https://stackoverflow.com/tags/javafx/info).","body":"Building a runnable jar file with JavaFX is not supported. See the various links in the  &quot;Packaging&quot; section in the <a href=\"https://stackoverflow.com/tags/javafx/info\">tag info</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1694110715,"post_id":77061596,"comment_id":135851787,"body_markdown":"[`jfree-fxdemos`](https://github.com/jfree/jfree-fxdemos) shows one approach; [_discussion #374_](https://github.com/jfree/jfreechart/discussions/374) mentions using [tag:jfreechart] in a _modular_ context suitable for `jlink`.","body":"<a href=\"https://github.com/jfree/jfree-fxdemos\" rel=\"nofollow noreferrer\"><code>jfree-fxdemos</code></a> shows one approach; <a href=\"https://github.com/jfree/jfreechart/discussions/374\" rel=\"nofollow noreferrer\"><i>discussion #374</i></a> mentions using <a href=\"https://stackoverflow.com/questions/tagged/jfreechart\">jfreechart</a> in a <i>modular</i> context suitable for <code>jlink</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1694126059,"post_id":77061596,"comment_id":135854115,"body_markdown":"An unsupported approach is: [Maven Shade](https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing).","body":"An unsupported approach is: <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">Maven Shade</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1694176504,"post_id":77061596,"comment_id":135860627,"body_markdown":"If you go modular, [`javafx:jlink`](https://github.com/openjfx/javafx-maven-plugin#javafxjlink-options) in the _javafx-maven-plugin_ offers a convenient way to invoke `jlink`.","body":"If you go modular, <a href=\"https://github.com/openjfx/javafx-maven-plugin#javafxjlink-options\" rel=\"nofollow noreferrer\"><code>javafx:jlink</code></a> in the <i>javafx-maven-plugin</i> offers a convenient way to invoke <code>jlink</code>."}],"owner":{"account_id":24892077,"reputation":3,"user_id":18763877,"display_name":"Tolatale"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694106426,"creation_date":1694106426,"question_id":77061596,"body_markdown":"I&#39;m trying to build a .jar of my project in order to be able to start it without using IDE/shell, and maybe permit usage on different machines and OS.\r\n\r\nI&#39;m using intellij, and the .jar i produced up until now gives me the following error:\r\n\r\n```\r\nSep 07, 2023 6:03:47 PM com.sun.javafx.application.PlatformImpl startup\r\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @228575c0&#39;\r\nGraphics Device initialization failed for :  es2, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\nat com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\nat com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\r\nat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:263)\r\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\r\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\r\nat com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\r\nat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\r\nat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\nat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\nat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\nat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n... 1 more\r\nException in thread &quot;main&quot; java.lang.RuntimeException: No toolkit found\r\nat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:275)\r\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\r\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\r\nat com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\r\nat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\r\nat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\nat java.base/java.lang.Thread.run(Thread.java:1589)\r\n```\r\n\r\nI imagine the problem is how I included the libraries in my project. I&#39;m using javafx and jfreechart, and since I&#39;m not an expert on library usage, i googled a lot to be able to use them, and I stopped as soon as sample code started working, and in the end:\r\n\r\n- I downloaded javafx on my computer, included it by using File \\&gt; Project Structure \\&gt; Libraries and using the local address\r\n\r\n- I included jfreechart building the project with maven\r\n\r\nI&#39;m not used to working with libraries, so I apologize for my complete ignorance and if I&#39;m not using the correct terminology. \r\n\r\nI don&#39;t know what I should do: try and include the libraries properly? How? Add some magic line of code to the mop that&#39;s gonna solve my problems?","title":"Trying to build a jar of my project with external (and probably badly added) libraries on intellij","body":"<p>I'm trying to build a .jar of my project in order to be able to start it without using IDE/shell, and maybe permit usage on different machines and OS.</p>\n<p>I'm using intellij, and the .jar i produced up until now gives me the following error:</p>\n<pre><code>Sep 07, 2023 6:03:47 PM com.sun.javafx.application.PlatformImpl startup\nWARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @228575c0'\nGraphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\nat com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\nat com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\nat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:263)\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\nat com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\nat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\nat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\nat java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\nat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\nat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n... 1 more\nException in thread &quot;main&quot; java.lang.RuntimeException: No toolkit found\nat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:275)\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\nat com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\nat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\nat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\nat java.base/java.lang.Thread.run(Thread.java:1589)\n</code></pre>\n<p>I imagine the problem is how I included the libraries in my project. I'm using javafx and jfreechart, and since I'm not an expert on library usage, i googled a lot to be able to use them, and I stopped as soon as sample code started working, and in the end:</p>\n<ul>\n<li><p>I downloaded javafx on my computer, included it by using File &gt; Project Structure &gt; Libraries and using the local address</p>\n</li>\n<li><p>I included jfreechart building the project with maven</p>\n</li>\n</ul>\n<p>I'm not used to working with libraries, so I apologize for my complete ignorance and if I'm not using the correct terminology.</p>\n<p>I don't know what I should do: try and include the libraries properly? How? Add some magic line of code to the mop that's gonna solve my problems?</p>\n"},{"tags":["java","arrays","for-loop","oop","character"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1694053259,"post_id":77055832,"comment_id":135841733,"body_markdown":"*`All non-alphabetical characters are unaffected.`* For `abc@,123` New String after using `remove(&quot;a3,&quot;)` what we should get after removing: `bc@,12`.  Why are you removing the `3` since it is not alphabetic.  Seems like the only thing you should remove is the `a` resulting in `bc@,123`.","body":"<i><code>All non-alphabetical characters are unaffected.</code></i> For <code>abc@,123</code> New String after using <code>remove(&quot;a3,&quot;)</code> what we should get after removing: <code>bc@,12</code>.  Why are you removing the <code>3</code> since it is not alphabetic.  Seems like the only thing you should remove is the <code>a</code> resulting in <code>bc@,123</code>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694068796,"post_id":77055832,"comment_id":135843045,"body_markdown":"Regarding your _JavaDoc_ specification, _&quot;... All non-alphabetical characters are unaffected. ...&quot;_, does this not conflict with producing _bc@,12_ over _bc@,123_?  Only the _a_ would be affected by _&#39;a3,&#39;_.","body":"Regarding your <i>JavaDoc</i> specification, <i>&quot;... All non-alphabetical characters are unaffected. ...&quot;</i>, does this not conflict with producing <i>bc@,12</i> over <i>bc@,123</i>?  Only the <i>a</i> would be affected by <i>&#39;a3,&#39;</i>."}],"answers":[{"tags":[],"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694046654,"creation_date":1694046654,"answer_id":77055931,"question_id":77055832,"body_markdown":"Can you not make `myStrArr` be the outer loop and then for the inner loop with `argArr`, use `break` to stop it (rather than using `continue`), because you&#39;ve finished dealing with the `myStrArr` letter and so can move on to the next one?","title":"Remove method to filter letters in customizable String keeps returning a multiplied string rather than result","body":"<p>Can you not make <code>myStrArr</code> be the outer loop and then for the inner loop with <code>argArr</code>, use <code>break</code> to stop it (rather than using <code>continue</code>), because you've finished dealing with the <code>myStrArr</code> letter and so can move on to the next one?</p>\n"},{"tags":[],"owner":{"account_id":9365949,"reputation":2414,"user_id":6950859,"accept_rate":92,"display_name":"cela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694048589,"creation_date":1694047344,"answer_id":77055952,"question_id":77055832,"body_markdown":"You don&#39;t need to have a nested for loop in this case. There is a simpler way and far more readable.\r\n\r\nYou can loop through the `args` character array and add each letter character to a set. Once the set is created, loop through `myString` looking for matches in the set. If the character matches a character in the set, do nothing, otherwise append it to a `StringBuilder`. We can avoid creating a bunch of temporary `String` objects too, so we use `StringBuilder` instead of concatenating strings inside the loop.\r\n\r\nNotice I added a lowercase and uppercase version of each character found in `arg`. This will make the check case-insenstive.\r\n\r\n```java\r\npublic String remove(String arg) {\r\n    if (myString == null || !isSet) {\r\n        return &quot;&quot;;\r\n    }\r\n    \r\n    // Create a set of characters to remove\r\n    Set&lt;Character&gt; toRemove = new HashSet&lt;&gt;();\r\n    for (char c : arg.toCharArray()) {\r\n        if (Character.isLetter(c)) {\r\n            toRemove.add(Character.toLowerCase(c)); // add lowercase of the character\r\n            toRemove.add(Character.toUpperCase(c)); // add uppercase of the character\r\n        }\r\n    }\r\n    \r\n    // concatenating strings inside a loop is a bad idea \r\n    StringBuilder newStr = new StringBuilder(); // use StringBuilder for better performance\r\n    for (char c : myString.toCharArray()) {\r\n        // Only remove it if it exists in the set\r\n        if (!toRemove.contains(c)) {\r\n            newStr.append(c);\r\n        }\r\n    }\r\n    \r\n    return newStr.toString();\r\n}\r\n```\r\n\r\nAdditionally, I am not sure if you have control over the instance variables or constructor, but there is really no need to track `isSet` or set `myString` to null. I would just create a constructor like below:\r\n\r\n```java\r\npublic class CustomString {\r\n\r\n    private String myString;\r\n\r\n    public CustomString(String initialString) {\r\n        this.myString = initialString;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Remove method to filter letters in customizable String keeps returning a multiplied string rather than result","body":"<p>You don't need to have a nested for loop in this case. There is a simpler way and far more readable.</p>\n<p>You can loop through the <code>args</code> character array and add each letter character to a set. Once the set is created, loop through <code>myString</code> looking for matches in the set. If the character matches a character in the set, do nothing, otherwise append it to a <code>StringBuilder</code>. We can avoid creating a bunch of temporary <code>String</code> objects too, so we use <code>StringBuilder</code> instead of concatenating strings inside the loop.</p>\n<p>Notice I added a lowercase and uppercase version of each character found in <code>arg</code>. This will make the check case-insenstive.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String remove(String arg) {\n    if (myString == null || !isSet) {\n        return &quot;&quot;;\n    }\n    \n    // Create a set of characters to remove\n    Set&lt;Character&gt; toRemove = new HashSet&lt;&gt;();\n    for (char c : arg.toCharArray()) {\n        if (Character.isLetter(c)) {\n            toRemove.add(Character.toLowerCase(c)); // add lowercase of the character\n            toRemove.add(Character.toUpperCase(c)); // add uppercase of the character\n        }\n    }\n    \n    // concatenating strings inside a loop is a bad idea \n    StringBuilder newStr = new StringBuilder(); // use StringBuilder for better performance\n    for (char c : myString.toCharArray()) {\n        // Only remove it if it exists in the set\n        if (!toRemove.contains(c)) {\n            newStr.append(c);\n        }\n    }\n    \n    return newStr.toString();\n}\n</code></pre>\n<p>Additionally, I am not sure if you have control over the instance variables or constructor, but there is really no need to track <code>isSet</code> or set <code>myString</code> to null. I would just create a constructor like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomString {\n\n    private String myString;\n\n    public CustomString(String initialString) {\n        this.myString = initialString;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694056128,"creation_date":1694050105,"answer_id":77056073,"question_id":77055832,"body_markdown":"Unfortunately you have many problems in your code (mostly due to it&#39;s incomplete). But the following will fulfill the requirements of the remove method. It is presumed that `myString` and `isSet` are visible to the method.\r\n\r\n- check special conditions\r\n- allocate a StringBuilder object.\r\n- convert argument string to lowercase\r\n- iterate thru the character.\r\n- if the index of the charsToRemove does not contain the char (i.e index == -1) then append it to StringBuilder\r\n- when the loop finishes, return the StringBuilder as a string.\r\n\r\n**Note:** it is important to preserve the original case when appending to the StringBuilder.\r\n```\r\nString myString = &quot;AbC@,123EfGh&quot;;\r\n\r\npublic String remove(String charsToRemove) {\r\n    if(myString == null || myString.isEmpty() || !isSet) {\r\n           return &quot;&quot;;\r\n    }\r\n      \r\n    charsToRemove = charsToRemove.toLowerCase();\r\n    StringBuilder sb = new StringBuilder();\r\n       \r\n    for (char ch : myString.toCharArray()) {\r\n        if (!Character.isLetter(ch) || \r\n             charsToRemove.indexOf(Character.toLowerCase(ch)) == -1) {\r\n                 sb.append(ch); \r\n        }\r\n     }\r\n     return sb.toString();\r\n}\r\n\r\nmyString = remove(&quot;a3,Eh&quot;);\r\nSystem.out.println(myString);\r\n```\r\nprints\r\n```\r\nbC@,123fG\r\n```\r\n","title":"Remove method to filter letters in customizable String keeps returning a multiplied string rather than result","body":"<p>Unfortunately you have many problems in your code (mostly due to it's incomplete). But the following will fulfill the requirements of the remove method. It is presumed that <code>myString</code> and <code>isSet</code> are visible to the method.</p>\n<ul>\n<li>check special conditions</li>\n<li>allocate a StringBuilder object.</li>\n<li>convert argument string to lowercase</li>\n<li>iterate thru the character.</li>\n<li>if the index of the charsToRemove does not contain the char (i.e index == -1) then append it to StringBuilder</li>\n<li>when the loop finishes, return the StringBuilder as a string.</li>\n</ul>\n<p><strong>Note:</strong> it is important to preserve the original case when appending to the StringBuilder.</p>\n<pre><code>String myString = &quot;AbC@,123EfGh&quot;;\n\npublic String remove(String charsToRemove) {\n    if(myString == null || myString.isEmpty() || !isSet) {\n           return &quot;&quot;;\n    }\n      \n    charsToRemove = charsToRemove.toLowerCase();\n    StringBuilder sb = new StringBuilder();\n       \n    for (char ch : myString.toCharArray()) {\n        if (!Character.isLetter(ch) || \n             charsToRemove.indexOf(Character.toLowerCase(ch)) == -1) {\n                 sb.append(ch); \n        }\n     }\n     return sb.toString();\n}\n\nmyString = remove(&quot;a3,Eh&quot;);\nSystem.out.println(myString);\n</code></pre>\n<p>prints</p>\n<pre><code>bC@,123fG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694105954,"creation_date":1694060139,"answer_id":77056585,"question_id":77055832,"body_markdown":"Your biggest problem is too much code - it&#39;s very hard to read and more complicated than it needs to be. There are built-in methods for this task. Given\r\n\r\n    String toRemove;\r\n    String str;\r\n\r\nThe code to make the replacement is just:\r\n\r\n    return str == null || str.isEmpty() ? &quot;&quot; : str.replaceAll(&quot;(?i)[&quot; + toRemove.replaceAll(&quot;[^0-9a-zA-Z]&quot;, &quot;&quot;) + &quot;]&quot;, &quot;&quot;);\r\n\r\nThe `(?i)` flag makes the match case insensitive.\r\n\r\n`toRemove.replaceAll(&quot;[^0-9a-zA-Z]&quot;, &quot;&quot;)` deletes all non-alphanumerics from the characters to remove.","title":"Remove method to filter letters in customizable String keeps returning a multiplied string rather than result","body":"<p>Your biggest problem is too much code - it's very hard to read and more complicated than it needs to be. There are built-in methods for this task. Given</p>\n<pre><code>String toRemove;\nString str;\n</code></pre>\n<p>The code to make the replacement is just:</p>\n<pre><code>return str == null || str.isEmpty() ? &quot;&quot; : str.replaceAll(&quot;(?i)[&quot; + toRemove.replaceAll(&quot;[^0-9a-zA-Z]&quot;, &quot;&quot;) + &quot;]&quot;, &quot;&quot;);\n</code></pre>\n<p>The <code>(?i)</code> flag makes the match case insensitive.</p>\n<p><code>toRemove.replaceAll(&quot;[^0-9a-zA-Z]&quot;, &quot;&quot;)</code> deletes all non-alphanumerics from the characters to remove.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694069398,"creation_date":1694060584,"answer_id":77056608,"question_id":77055832,"body_markdown":"You can use a _regex pattern_ to remove the matching characters.\r\n\r\nHere is a pattern, where _\\&lt;arg&gt;_ represents the value of _arg_.\r\n\r\n```none\r\n(?i)[\\Q&lt;arg&gt;\\E&amp;&amp;a-z]+\r\n```\r\n\r\nThis should cover the first 2 conditions,\r\n\r\n&gt;  - _The alphabetical characters to be removed are case insensitive._  \r\n&gt;  - _All non-alphabetical characters are unaffected._\r\n&gt;  - _If the current string is null, empty, or has not been set to a value, &gt; this method should return an empty string._\r\n\r\nAdditionally, you&#39;ll want to check for an empty _arg_ value, as this will invalidate the pattern.\r\n\r\nThis will match the examples given in the method&#39;s _JavaDoc_.\r\n\r\n```java\r\npublic String remove(String arg) {\r\n    if (myString == null || myString.isEmpty()) return &quot;&quot;;\r\n    if (arg.isEmpty()) return myString;\r\n    return myString.replaceAll(&quot;(?i)[&quot; + Pattern.quote(arg) + &quot;&amp;&amp;a-z]+&quot;, &quot;&quot;);\r\n}\r\n```","title":"Remove method to filter letters in customizable String keeps returning a multiplied string rather than result","body":"<p>You can use a <em>regex pattern</em> to remove the matching characters.</p>\n<p>Here is a pattern, where <em>&lt;arg&gt;</em> represents the value of <em>arg</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?i)[\\Q&lt;arg&gt;\\E&amp;&amp;a-z]+\n</code></pre>\n<p>This should cover the first 2 conditions,</p>\n<blockquote>\n<ul>\n<li><em>The alphabetical characters to be removed are case insensitive.</em></li>\n<li><em>All non-alphabetical characters are unaffected.</em></li>\n<li><em>If the current string is null, empty, or has not been set to a value, &gt; this method should return an empty string.</em></li>\n</ul>\n</blockquote>\n<p>Additionally, you'll want to check for an empty <em>arg</em> value, as this will invalidate the pattern.</p>\n<p>This will match the examples given in the method's <em>JavaDoc</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String remove(String arg) {\n    if (myString == null || myString.isEmpty()) return &quot;&quot;;\n    if (arg.isEmpty()) return myString;\n    return myString.replaceAll(&quot;(?i)[&quot; + Pattern.quote(arg) + &quot;&amp;&amp;a-z]+&quot;, &quot;&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":26636760,"reputation":29,"user_id":20296389,"display_name":"sirrene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77056585,"answer_count":5,"score":0,"last_activity_date":1694105954,"creation_date":1694044243,"question_id":77055832,"body_markdown":"I have a homework assignment in which I have to create a remove, reverse, and filterLetters method for a CustomString class. The methods are supposed to do as the name says, in the argument of the remove method, you provide a string with letters that you want removed from the actual &#39;myString&#39; you have and the method is supposed to filter through a character array of your string and argument and see if it matches with the string. \r\n\r\nIf the characters match, then the method is supposed to remove it by not adding it to a new string, while if they don&#39;t match, the character should get added into the new string being built and returned. The other two methods work the exact same and are provided with strings in the arguments to reverse capatilization or filter letters in. \r\n\r\nI keep getting the same problem in all of my methods, the nested for-loop I created for my character arrays runs through the character array for the argument string, and for each character in that array, it runs through the current string characters to see if the characters in the argument and current string match to remove, reverse, or filter. However, that also means that the current string is being run through multiple times, and being added multiple times if it doesn&#39;t match, so instead of the string I need, I get a multiplied version of that string. \r\n\r\nI have tried using the continue; operator but then I get a shortened version, what I need is that once those characters have been added, even if the for-loop runs again to check them, it doesn&#39;t add. However, I don&#39;t know how to check for that since there can be repetitive letters in the strings so you can&#39;t cross check to see if they&#39;ve already been added into the new string being built. \r\n\r\nMy code is below, I&#39;ve only added the remove method code since I have the same problem throughout and I appreciate all the help in advance! \r\n\r\n```\r\npublic CustomString() {\r\n\t\t// TODO Implement constructor\r\n\t\tthis.myString = null; \r\n\t\tthis.isSet = false; \r\n```\r\n\r\nThis javadoc should explain what the method is supposed to work like. \r\n```\r\n/**\r\n     * Returns a new string version of the current string where the alphabetical characters specified in the given arg, are removed.\r\n     *   \r\n     * The alphabetical characters to be removed are case insensitive.  \r\n     * All non-alphabetical characters are unaffected.\r\n     * If the current string is null, empty, or has not been set to a value, this method should return an empty string.\r\n     *\r\n     * Example(s):\r\n     * - For a current string &quot;my lucky numbers are 6, 8, and 19.&quot;, calling remove(&quot;ra6&quot;) would return &quot;my lucky numbes e 6, 8, nd 19.&quot;\r\n     * - For a current string &quot;my lucky numbers are 6, 8, and 19.&quot;, calling remove(&quot;6,.&quot;) would return &quot;my lucky numbers are 6, 8, and 19.&quot;\r\n     * - For a current string &quot;my lucky numbers are 6, 8, and 19.&quot;, calling remove(&quot;&quot;) would return &quot;my lucky numbers are 6, 8, and 19.&quot;\r\n     * \r\n     * Remember: This method builds and returns a new string, and does not directly modify the myString field.\r\n     * \r\n     * @param arg the string containing the alphabetical characters to be removed from the current string\r\n     * @return new string in which the alphabetical characters specified in the arg are removed\r\n     */\r\n\tpublic String remove(String arg) {\r\n\t\t// TODO Implement method\r\n\t\tString newString; \r\n\t\tchar[] myStrArr = myString.toCharArray(); \r\n\t\tchar[] argArr = arg.toCharArray(); \r\n        String newStr = &quot;&quot;;  //a,1 and za,,231\r\n        for (int i = 0; i &lt; argArr.length; i++) {\r\n            for (int x = 0; x &lt; myStrArr.length; x++) {\r\n                if(Character.isLetter(argArr[i]) &amp;&amp; Character.isLetter(myStrArr[x])) {\r\n                    if ((Character.toUpperCase(argArr[i]) == myStrArr[x]) || (Character.toLowerCase(argArr[i]) == myStrArr[x])) {\r\n                        continue; \r\n                    } else {\r\n                        String newChar = Character.toString(myStrArr[x]);\r\n                        newStr += newChar;\r\n\r\n                    }\r\n                } else if (Character.isDigit(argArr[i]) &amp;&amp; Character.isDigit(myStrArr[x])) {\r\n\t\t\t\t\tif(argArr[i] == myStrArr[x]) {\r\n\t\t\t\t\t\tcontinue; \r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tString newChar = Character.toString(myStrArr[x]);\r\n\t\t\t\t\t\tnewStr += newChar; \r\n\t\t\t\t\t}\r\n\t\t\t\t} else { \r\n\t\t\t\t\tcontinue; \r\n\t\t\t\t}\r\n            }\r\n        }\r\n\t  \treturn newStr;\r\n\t}\r\n```\r\n\r\nThis is the result: \r\n\r\nCurrent String: abc@,123\r\nNew String after using remove(&quot;a3,&quot;): bc12\r\nWhat we should get after removing: bc@,12\r\n\r\n","title":"Remove method to filter letters in customizable String keeps returning a multiplied string rather than result","body":"<p>I have a homework assignment in which I have to create a remove, reverse, and filterLetters method for a CustomString class. The methods are supposed to do as the name says, in the argument of the remove method, you provide a string with letters that you want removed from the actual 'myString' you have and the method is supposed to filter through a character array of your string and argument and see if it matches with the string.</p>\n<p>If the characters match, then the method is supposed to remove it by not adding it to a new string, while if they don't match, the character should get added into the new string being built and returned. The other two methods work the exact same and are provided with strings in the arguments to reverse capatilization or filter letters in.</p>\n<p>I keep getting the same problem in all of my methods, the nested for-loop I created for my character arrays runs through the character array for the argument string, and for each character in that array, it runs through the current string characters to see if the characters in the argument and current string match to remove, reverse, or filter. However, that also means that the current string is being run through multiple times, and being added multiple times if it doesn't match, so instead of the string I need, I get a multiplied version of that string.</p>\n<p>I have tried using the continue; operator but then I get a shortened version, what I need is that once those characters have been added, even if the for-loop runs again to check them, it doesn't add. However, I don't know how to check for that since there can be repetitive letters in the strings so you can't cross check to see if they've already been added into the new string being built.</p>\n<p>My code is below, I've only added the remove method code since I have the same problem throughout and I appreciate all the help in advance!</p>\n<pre><code>public CustomString() {\n        // TODO Implement constructor\n        this.myString = null; \n        this.isSet = false; \n</code></pre>\n<p>This javadoc should explain what the method is supposed to work like.</p>\n<pre><code>/**\n     * Returns a new string version of the current string where the alphabetical characters specified in the given arg, are removed.\n     *   \n     * The alphabetical characters to be removed are case insensitive.  \n     * All non-alphabetical characters are unaffected.\n     * If the current string is null, empty, or has not been set to a value, this method should return an empty string.\n     *\n     * Example(s):\n     * - For a current string &quot;my lucky numbers are 6, 8, and 19.&quot;, calling remove(&quot;ra6&quot;) would return &quot;my lucky numbes e 6, 8, nd 19.&quot;\n     * - For a current string &quot;my lucky numbers are 6, 8, and 19.&quot;, calling remove(&quot;6,.&quot;) would return &quot;my lucky numbers are 6, 8, and 19.&quot;\n     * - For a current string &quot;my lucky numbers are 6, 8, and 19.&quot;, calling remove(&quot;&quot;) would return &quot;my lucky numbers are 6, 8, and 19.&quot;\n     * \n     * Remember: This method builds and returns a new string, and does not directly modify the myString field.\n     * \n     * @param arg the string containing the alphabetical characters to be removed from the current string\n     * @return new string in which the alphabetical characters specified in the arg are removed\n     */\n    public String remove(String arg) {\n        // TODO Implement method\n        String newString; \n        char[] myStrArr = myString.toCharArray(); \n        char[] argArr = arg.toCharArray(); \n        String newStr = &quot;&quot;;  //a,1 and za,,231\n        for (int i = 0; i &lt; argArr.length; i++) {\n            for (int x = 0; x &lt; myStrArr.length; x++) {\n                if(Character.isLetter(argArr[i]) &amp;&amp; Character.isLetter(myStrArr[x])) {\n                    if ((Character.toUpperCase(argArr[i]) == myStrArr[x]) || (Character.toLowerCase(argArr[i]) == myStrArr[x])) {\n                        continue; \n                    } else {\n                        String newChar = Character.toString(myStrArr[x]);\n                        newStr += newChar;\n\n                    }\n                } else if (Character.isDigit(argArr[i]) &amp;&amp; Character.isDigit(myStrArr[x])) {\n                    if(argArr[i] == myStrArr[x]) {\n                        continue; \n                    } else {\n                        String newChar = Character.toString(myStrArr[x]);\n                        newStr += newChar; \n                    }\n                } else { \n                    continue; \n                }\n            }\n        }\n        return newStr;\n    }\n</code></pre>\n<p>This is the result:</p>\n<p>Current String: abc@,123\nNew String after using remove(&quot;a3,&quot;): bc12\nWhat we should get after removing: bc@,12</p>\n"},{"tags":["java","android","mysql","date"],"comments":[{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":1,"creation_date":1694077817,"post_id":77058140,"comment_id":135844815,"body_markdown":"Your question has no code at all. Please show us what you already have done so we can help from that","body":"Your question has no code at all. Please show us what you already have done so we can help from that"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1694081827,"post_id":77058140,"comment_id":135845614,"body_markdown":"Use english locale: `java.text.SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.ENGLISH);`","body":"Use english locale: <code>java.text.SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.ENGLISH);</code>"},{"owner":{"account_id":27609137,"reputation":11,"user_id":21072636,"display_name":"Haitham Fouad"},"score":0,"creation_date":1694082545,"post_id":77058140,"comment_id":135845734,"body_markdown":"i tried that but also not working","body":"i tried that but also not working"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1694085179,"post_id":77058140,"comment_id":135846207,"body_markdown":"I warn against using `Date` and `SimpleDateFormat`. Thiose classes were troublesome and therefore were supplanted by [java.time, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/index.html) a decade ago. While I am not sure about Android, on desktop Java you can use `LocalDate` in Java and store it into a column of type `date` in MySQL. I expect it to work the same on newer Android.","body":"I warn against using <code>Date</code> and <code>SimpleDateFormat</code>. Thiose classes were troublesome and therefore were supplanted by <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API,</a> a decade ago. While I am not sure about Android, on desktop Java you can use <code>LocalDate</code> in Java and store it into a column of type <code>date</code> in MySQL. I expect it to work the same on newer Android."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1694085477,"post_id":77058140,"comment_id":135846256,"body_markdown":"Does this answer your question? [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694105346,"creation_date":1694078099,"answer_id":77058204,"question_id":77058140,"body_markdown":"Avoid the terribly flawed legacy date-time classes. Do not use `Date` and `SimpleDateFormat` classes. Use only *java.time* classes. \r\n\r\n&gt; if phone language arabic or english\r\n\r\nArabic versus English should be irrelevant. \r\n\r\n\r\n&gt; get the current date \r\n\r\nGet the current date as seen in the JVM’s current default time zone. \r\n\r\n    LocalDate ld = LocalDate.now() ;\r\n\r\nSpecify time zone. \r\n\r\n    LocalDate ld = LocalDate.now( ZoneId.of( &quot;Asia/Tokyo&quot; ) ) ;\r\n\r\n\r\n\r\n&gt;and insert it in MySQL DB\r\n\r\nDefine your column to be of the `DATE` type in MySQL. For date-time values, use date-time types, not text/strings. \r\n\r\n    myPreparedStatement.setObject( … , ld ) ;\r\n\r\nRetrieval. \r\n\r\n    LocalDate ld = myResultSet.getObject ( … , LocalDate.class ) ;\r\n\r\n","title":"How i can get the current date from java android application and store it in mysql DB if phone language arabic or english","body":"<p>Avoid the terribly flawed legacy date-time classes. Do not use <code>Date</code> and <code>SimpleDateFormat</code> classes. Use only <em>java.time</em> classes.</p>\n<blockquote>\n<p>if phone language arabic or english</p>\n</blockquote>\n<p>Arabic versus English should be irrelevant.</p>\n<blockquote>\n<p>get the current date</p>\n</blockquote>\n<p>Get the current date as seen in the JVM’s current default time zone.</p>\n<pre><code>LocalDate ld = LocalDate.now() ;\n</code></pre>\n<p>Specify time zone.</p>\n<pre><code>LocalDate ld = LocalDate.now( ZoneId.of( &quot;Asia/Tokyo&quot; ) ) ;\n</code></pre>\n<blockquote>\n<p>and insert it in MySQL DB</p>\n</blockquote>\n<p>Define your column to be of the <code>DATE</code> type in MySQL. For date-time values, use date-time types, not text/strings.</p>\n<pre><code>myPreparedStatement.setObject( … , ld ) ;\n</code></pre>\n<p>Retrieval.</p>\n<pre><code>LocalDate ld = myResultSet.getObject ( … , LocalDate.class ) ;\n</code></pre>\n"}],"owner":{"account_id":27609137,"reputation":11,"user_id":21072636,"display_name":"Haitham Fouad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694105346,"creation_date":1694077672,"question_id":77058140,"body_markdown":"In my Android app I need to get the current date and insert it into MySQL DB. The issue is that when the phone language is English, everything is OK, but if it is in Arabic, the date is inserted as 0000-00-00\r\n\r\nI tried to find a way to convert the date format before inserting to DB as English but nothing happened.\r\n\r\n```java\r\n\r\npublic String getTime() {\r\n    Date dt = new Date();\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n    String CurrentTime = sdf.format(dt);\r\n    return CurrentTime;\r\n  }\r\n```\r\n\r\n","title":"How i can get the current date from java android application and store it in mysql DB if phone language arabic or english","body":"<p>In my Android app I need to get the current date and insert it into MySQL DB. The issue is that when the phone language is English, everything is OK, but if it is in Arabic, the date is inserted as 0000-00-00</p>\n<p>I tried to find a way to convert the date format before inserting to DB as English but nothing happened.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic String getTime() {\n    Date dt = new Date();\n\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n    String CurrentTime = sdf.format(dt);\n    return CurrentTime;\n  }\n</code></pre>\n"},{"tags":["java","jboss","mdc"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1694205694,"post_id":77061367,"comment_id":135865757,"body_markdown":"It&#39;s likely a bug that. There needs to be context propagation which copies MDC to the new thread. In Jakarta EE 10, JBoss EAP 8 will implement this, will have a way to do this as it was added to the concurrency API.","body":"It&#39;s likely a bug that. There needs to be context propagation which copies MDC to the new thread. In Jakarta EE 10, JBoss EAP 8 will implement this, will have a way to do this as it was added to the concurrency API."}],"owner":{"account_id":236079,"reputation":327,"user_id":503333,"display_name":"voccoeisuoi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694104161,"creation_date":1694104161,"question_id":77061367,"body_markdown":"I am trying to override the default JBoss 7.3 ManagedThreadFactory through the standalone.xml with my custom factory so to inject on each thread a specific context (shared MDC).\r\n\r\nIs this even possible?\r\n\r\nSo far I&#39;m struggling and I have found only examples where a new custom ManagedThreadFactory is registered and used directly in the application, but don&#39;t seem to be able to completely override the default behavior.","title":"JBoss ManagedThreadFactory","body":"<p>I am trying to override the default JBoss 7.3 ManagedThreadFactory through the standalone.xml with my custom factory so to inject on each thread a specific context (shared MDC).</p>\n<p>Is this even possible?</p>\n<p>So far I'm struggling and I have found only examples where a new custom ManagedThreadFactory is registered and used directly in the application, but don't seem to be able to completely override the default behavior.</p>\n"},{"tags":["java","android","react-native","gradle","apple-m1"],"answers":[{"tags":[],"owner":{"account_id":15554443,"reputation":720,"user_id":11221285,"display_name":"Olexandr Akhtyrskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694104144,"creation_date":1694103732,"answer_id":77061327,"question_id":77061326,"body_markdown":"**Solution:**\r\n\r\nWe need change java version for compatibility with Gradle and Kotlin:\r\n\r\nCheck default system java in terminal: \r\n\r\n**java -version**\r\n\r\nCheck list existing java:\r\n\r\n**/usr/libexec/java_home -V**\r\n\r\nThen try:\r\n\r\n1) change  for one terminal process(because if you close terminal and open new, java version will return to system default), run:  \r\n**export JAVA_HOME=\\`/usr/libexec/java_home -v 11.0.20\\`**\r\n\r\nAnd after that run **yarn android** in the same terminal\r\n\r\n\r\n2) set default system Java version:\r\n open profile config file zsh or bash \r\n\r\n  **open ~/.bash_profile** \r\n\r\nAnd change default Java version:\r\n\r\n  **export JAVA_HOME=\\`/usr/libexec/java_home -v 11.0.2\\`** (or any version what you need from already installed Javas list)\r\n\r\n**Build successful!**\r\n\r\nGood luck!","title":"React-native &#171;exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 64&#187; on M1 silicon","body":"<p><strong>Solution:</strong></p>\n<p>We need change java version for compatibility with Gradle and Kotlin:</p>\n<p>Check default system java in terminal: </p>\n<p><strong>java -version</strong></p>\n<p>Check list existing java:</p>\n<p><strong>/usr/libexec/java_home -V</strong></p>\n<p>Then try:</p>\n<ol>\n<li>change  for one terminal process(because if you close terminal and open new, java version will return to system default), run:<br />\n<strong>export JAVA_HOME=`/usr/libexec/java_home -v 11.0.20`</strong></li>\n</ol>\n<p>And after that run <strong>yarn android</strong> in the same terminal</p>\n<ol start=\"2\">\n<li>set default system Java version:\n open profile config file zsh or bash</li>\n</ol>\n<p>  <strong>open ~/.bash_profile</strong></p>\n<p>And change default Java version:</p>\n<p> <strong>export JAVA_HOME=`/usr/libexec/java_home -v 11.0.2`</strong> (or any version what you need from already installed Javas list)</p>\n<p><strong>Build successful!</strong></p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":15554443,"reputation":720,"user_id":11221285,"display_name":"Olexandr Akhtyrskyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694104144,"creation_date":1694103732,"question_id":77061326,"body_markdown":"Environment - Mac m1 2020, OS Ventura 13.5.1, system default jdk version 20.0.2, react-native version 71.8\r\n\r\nandroid -&gt; gradle-&gt; cradle-wrapper.properties\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-all.zip\r\n\r\nSteps to reproduce:\r\n\r\nrun  **yarn android**\r\n\r\nError:\r\n**exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 64**\r\n\r\nIf I am trying upgrade version of gradle, then get another error:\r\n\r\n**Kotlin version issues: The binary version of its metadata is 1.8.0, expected version is 1.6.0. Not working by changing the version in build.gradle**\r\n\r\nHow to run android successfully ?\r\n\r\n","title":"React-native &#171;exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 64&#187; on M1 silicon","body":"<p>Environment - Mac m1 2020, OS Ventura 13.5.1, system default jdk version 20.0.2, react-native version 71.8</p>\n<p>android -&gt; gradle-&gt; cradle-wrapper.properties\ndistributionUrl=https://services.gradle.org/distributions/gradle-7.5.1-all.zip</p>\n<p>Steps to reproduce:</p>\n<p>run  <strong>yarn android</strong></p>\n<p>Error:\n<strong>exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 64</strong></p>\n<p>If I am trying upgrade version of gradle, then get another error:</p>\n<p><strong>Kotlin version issues: The binary version of its metadata is 1.8.0, expected version is 1.6.0. Not working by changing the version in build.gradle</strong></p>\n<p>How to run android successfully ?</p>\n"},{"tags":["java","database","javafx","h2"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1617030487,"post_id":66856609,"comment_id":118180672,"body_markdown":"Does this help? https://stackoverflow.com/questions/19150811/what-is-a-fat-jar","body":"Does this help? <a href=\"https://stackoverflow.com/questions/19150811/what-is-a-fat-jar\">stackoverflow.com/questions/19150811/what-is-a-fat-jar</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1617031446,"post_id":66856609,"comment_id":118181123,"body_markdown":"In general there&#39;s no way to update the contents of the jar from which the application is run, so I don&#39;t see that you&#39;d be able to embed a (writable) database in a jar file.","body":"In general there&#39;s no way to update the contents of the jar from which the application is run, so I don&#39;t see that you&#39;d be able to embed a (writable) database in a jar file."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1617042330,"post_id":66856609,"comment_id":118185827,"body_markdown":"What I do in similar situations is check if the database exists and is in the same folder as the Jar or a subfolder. If the database does not exist. I copy the initial database that is in the jar to the folder or subfolder that contains the jar. Or you can create the whole database using SQL statements once you see that it does not exist.","body":"What I do in similar situations is check if the database exists and is in the same folder as the Jar or a subfolder. If the database does not exist. I copy the initial database that is in the jar to the folder or subfolder that contains the jar. Or you can create the whole database using SQL statements once you see that it does not exist."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694103531,"creation_date":1618383725,"answer_id":67086943,"question_id":66856609,"body_markdown":"You seem to be asking two separate questions:\r\n\r\n - How to bundle the *H2 Database Engine* product within my [JAR][1] file?\r\n - How to bundle a database with my JAR file?\r\n\r\n# Bundling the database engine library\r\n\r\nThe first is easy. Tell your dependency management and build tools such as [Maven][2] or [Gradle][3] to include H2. That is the job of such tools, to download and install a copy of such libraries.\r\n\r\nFor Maven, see the [*Cheat Sheet*](https://h2database.com/html/cheatSheet.html) page for the current Maven dependency XML fragment to include in your [POM][4].\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2.222&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWhen pasting a copy of the XML specifying a dependency, verify the [`scope`][5] element. \r\n\r\n# Bundling a database\r\n\r\nRegarding the issue of bundling a database within your JAR, study the Comments on your Question. They note that you **cannot write into your JAR** file at deployment runtime. Your database must live *outside* your JAR file. Various [OS][6]es have dedicated places in their file system for apps to write such data files.\r\n\r\nOne comment suggests that your code look for a database within your JAR. If found, copy that database to another folder outside the JAR. Then proceed using that externalized copy. \r\n\r\nThis approach could work. But I would choose *schema migration* instead.\r\n\r\n## Schema migration\r\n\r\nWith [schema migration][7], at runtime in deployment you create a new database and then run a series of SQL scripts. Those scripts execute [DDL][8] commands such as creating tables. And those scripts run [DML][9] commands to create rows as needed.\r\n\r\nYou have a choice of schema migration tools to locate, manage, and run those scripts. I prefer [*Flyway*][10], though [*Liquibase*][11] is also popular. Others may exist as well.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JAR_(file_format)\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [3]: https://en.wikipedia.org/wiki/Gradle\r\n  [4]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n  [5]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope\r\n  [6]: https://en.wikipedia.org/wiki/Operating_system\r\n  [7]: https://en.wikipedia.org/wiki/Schema_migration\r\n  [8]: https://en.wikipedia.org/wiki/Data_definition_language\r\n  [9]: https://en.wikipedia.org/wiki/Data_manipulation_language\r\n  [10]: https://en.wikipedia.org/wiki/Flyway_(software)\r\n  [11]: https://en.wikipedia.org/wiki/Liquibase","title":"Add an embedded h2 database to an executable jar","body":"<p>You seem to be asking two separate questions:</p>\n<ul>\n<li>How to bundle the <em>H2 Database Engine</em> product within my <a href=\"https://en.wikipedia.org/wiki/JAR_(file_format)\" rel=\"nofollow noreferrer\">JAR</a> file?</li>\n<li>How to bundle a database with my JAR file?</li>\n</ul>\n<h1>Bundling the database engine library</h1>\n<p>The first is easy. Tell your dependency management and build tools such as <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> or <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a> to include H2. That is the job of such tools, to download and install a copy of such libraries.</p>\n<p>For Maven, see the <a href=\"https://h2database.com/html/cheatSheet.html\" rel=\"nofollow noreferrer\"><em>Cheat Sheet</em></a> page for the current Maven dependency XML fragment to include in your <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;version&gt;2.2.222&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When pasting a copy of the XML specifying a dependency, verify the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope\" rel=\"nofollow noreferrer\"><code>scope</code></a> element.</p>\n<h1>Bundling a database</h1>\n<p>Regarding the issue of bundling a database within your JAR, study the Comments on your Question. They note that you <strong>cannot write into your JAR</strong> file at deployment runtime. Your database must live <em>outside</em> your JAR file. Various <a href=\"https://en.wikipedia.org/wiki/Operating_system\" rel=\"nofollow noreferrer\">OS</a>es have dedicated places in their file system for apps to write such data files.</p>\n<p>One comment suggests that your code look for a database within your JAR. If found, copy that database to another folder outside the JAR. Then proceed using that externalized copy.</p>\n<p>This approach could work. But I would choose <em>schema migration</em> instead.</p>\n<h2>Schema migration</h2>\n<p>With <a href=\"https://en.wikipedia.org/wiki/Schema_migration\" rel=\"nofollow noreferrer\">schema migration</a>, at runtime in deployment you create a new database and then run a series of SQL scripts. Those scripts execute <a href=\"https://en.wikipedia.org/wiki/Data_definition_language\" rel=\"nofollow noreferrer\">DDL</a> commands such as creating tables. And those scripts run <a href=\"https://en.wikipedia.org/wiki/Data_manipulation_language\" rel=\"nofollow noreferrer\">DML</a> commands to create rows as needed.</p>\n<p>You have a choice of schema migration tools to locate, manage, and run those scripts. I prefer <a href=\"https://en.wikipedia.org/wiki/Flyway_(software)\" rel=\"nofollow noreferrer\"><em>Flyway</em></a>, though <a href=\"https://en.wikipedia.org/wiki/Liquibase\" rel=\"nofollow noreferrer\"><em>Liquibase</em></a> is also popular. Others may exist as well.</p>\n"}],"owner":{"account_id":20908665,"reputation":43,"user_id":15360032,"display_name":"Shorty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1010,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67086943,"answer_count":1,"score":1,"last_activity_date":1694103531,"creation_date":1617030169,"question_id":66856609,"body_markdown":"I am writing a small Java application that reads/writes data to an embedded h2 database.\r\nFor dev purposes, I would like to add the database to the jar file generated from my application.\r\n\r\nThe use case is: A user only gets the jar file delivered and is able to read and write data to the database embedded within it.\r\n\r\nIs there a way to achieve this?\r\n\r\nNotes: I am developing the app in IntelliJ and building the project with maven","title":"Add an embedded h2 database to an executable jar","body":"<p>I am writing a small Java application that reads/writes data to an embedded h2 database.\nFor dev purposes, I would like to add the database to the jar file generated from my application.</p>\n<p>The use case is: A user only gets the jar file delivered and is able to read and write data to the database embedded within it.</p>\n<p>Is there a way to achieve this?</p>\n<p>Notes: I am developing the app in IntelliJ and building the project with maven</p>\n"},{"tags":["java","spring","postgresql","spring-boot","plsql"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1694097957,"post_id":77060521,"comment_id":135849254,"body_markdown":"Maybe you could take a look at these links? https://stackoverflow.com/a/74667627/16034206 https://stackoverflow.com/q/63619548/16034206","body":"Maybe you could take a look at these links? <a href=\"https://stackoverflow.com/a/74667627/16034206\">stackoverflow.com/a/74667627/16034206</a> <a href=\"https://stackoverflow.com/q/63619548/16034206\">stackoverflow.com/q/63619548/16034206</a>"}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694097601,"creation_date":1694097601,"answer_id":77060594,"question_id":77060521,"body_markdown":"I&#39;d guess you&#39;d need to somehow register a converter from `java.util.List` -&gt; `java.sql.Array`. The converter would do something like\r\n\r\n```java\r\nArray array = connection.createArrayOf(&quot;int&quot;, regionIds.toArray());\r\n```\r\n\r\nUnder the hood this `java.sql.Array` could then be set on the `PreparedStatement`\r\n","title":"Java List&lt;Integer&gt; cast to int[] throws PSQLException: ERROR: syntax error","body":"<p>I'd guess you'd need to somehow register a converter from <code>java.util.List</code> -&gt; <code>java.sql.Array</code>. The converter would do something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Array array = connection.createArrayOf(&quot;int&quot;, regionIds.toArray());\n</code></pre>\n<p>Under the hood this <code>java.sql.Array</code> could then be set on the <code>PreparedStatement</code></p>\n"},{"tags":[],"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694100724,"creation_date":1694100724,"answer_id":77060982,"question_id":77060521,"body_markdown":"Your error strongly implies that its binding in the List by expanding the List into its individual values.\r\n\r\ntry \r\n\r\n    get_all_events_in_regions(ARRAY[:regionIds]))","title":"Java List&lt;Integer&gt; cast to int[] throws PSQLException: ERROR: syntax error","body":"<p>Your error strongly implies that its binding in the List by expanding the List into its individual values.</p>\n<p>try</p>\n<pre><code>get_all_events_in_regions(ARRAY[:regionIds]))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18036605,"reputation":137,"user_id":13109867,"display_name":"Jure Beton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694102862,"creation_date":1694102862,"answer_id":77061219,"question_id":77060521,"body_markdown":"Thanks, I solved it.\r\n\r\nI had to convert it into a string that looks like this **{6,12,9,4,10,8,11,5,7}**.\r\n\r\nIt appears that either Spring, JPA, or JDBC somehow, somewhere under the hood casts this string into int[] - ARRAY[6,12,9,4,10,8,11,5,7], which PostgreSQL understands. \r\n\r\nSo I changed the parameter type from List&lt;Integer&gt; to String and converted it like this\r\n\r\n    private String convertListToPGString(List&lt;Integer&gt; integerList) {\r\n        return &quot;{&quot; + integerList.stream()\r\n                .map(Object::toString)\r\n                .collect(Collectors.joining(&quot;,&quot;)) + &quot;}&quot;;\r\n    }\r\n\r\n","title":"Java List&lt;Integer&gt; cast to int[] throws PSQLException: ERROR: syntax error","body":"<p>Thanks, I solved it.</p>\n<p>I had to convert it into a string that looks like this <strong>{6,12,9,4,10,8,11,5,7}</strong>.</p>\n<p>It appears that either Spring, JPA, or JDBC somehow, somewhere under the hood casts this string into int[] - ARRAY[6,12,9,4,10,8,11,5,7], which PostgreSQL understands.</p>\n<p>So I changed the parameter type from List to String and converted it like this</p>\n<pre><code>private String convertListToPGString(List&lt;Integer&gt; integerList) {\n    return &quot;{&quot; + integerList.stream()\n            .map(Object::toString)\n            .collect(Collectors.joining(&quot;,&quot;)) + &quot;}&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":18036605,"reputation":137,"user_id":13109867,"display_name":"Jure Beton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1694102862,"creation_date":1694097048,"question_id":77060521,"body_markdown":"I need help with understanding and fixing the following issue. \\\r\nI have created a postgresql function for retrieving all events in a specific regions based on regions like this:\r\n\r\n    CREATE OR REPLACE FUNCTION get_all_events_in_regions(regionIds int[])\r\n    RETURNS SETOF events AS $$\r\n    BEGIN\r\n    \tRETURN QUERY\r\n        SELECT\tDISTINCT ON (e.id)\r\n    \t\t\te.id,\r\n    \t\t\te.event_type_id,\r\n    \t\t\te.vehicle_id,\r\n    \t\t\te.event_status_id,\r\n    \t\t\te.event_title,\r\n    \t\t\t...\r\n        FROM events as e\r\n        JOIN vehicle_region vr ON e.vehicle_id = vr.vehicle_id\r\n        WHERE vr.region_id = ANY(regionIds);\r\n    END;\r\n    $$ LANGUAGE plpgsql;\r\n\r\nAnd it works great when i call it form command line:\r\n\r\n    SELECT * FROM get_all_events_in_regions(ARRAY[1, 3,  6]);\r\n\r\n\r\n \r\nThen i have a Spring Boot API that uses JPA for ORM and data persistence. \r\nInside a EnventRepository i created a native query method like this:\r\n\r\n    @Query(value = &quot;SELECT e.* FROM get_all_events_in_regions(CAST(:regionIds as int[]) e&quot;, nativeQuery = true)\r\n    List&lt;Event&gt; getAllEventsInRegions(@Param(&quot;regionIds&quot;) List&lt;Integer&gt; regionIds, Pageable pageable);\r\n\r\nBut i get **PSQLException: ERROR: syntax error at or near &quot;,&quot;**\\\r\n*regionIds* is a normal ArrayList when i log it.\r\n\r\nI also tried without CASTING into int[] but the error was:\\\r\n**PSQLException: ERROR: function get_all_events_in_regions(integer, integer, integer, integer, integer, integer, integer, integer, integer) does not exist\r\n  Hint: No function matches the given name and argument types. You might need to add explicit type casts.**\r\n\r\nAnd i don&#39;t know what is going on or how to fix it.\r\nThanks for your help in advance","title":"Java List&lt;Integer&gt; cast to int[] throws PSQLException: ERROR: syntax error","body":"<p>I need help with understanding and fixing the following issue. <br />\nI have created a postgresql function for retrieving all events in a specific regions based on regions like this:</p>\n<pre><code>CREATE OR REPLACE FUNCTION get_all_events_in_regions(regionIds int[])\nRETURNS SETOF events AS $$\nBEGIN\n    RETURN QUERY\n    SELECT  DISTINCT ON (e.id)\n            e.id,\n            e.event_type_id,\n            e.vehicle_id,\n            e.event_status_id,\n            e.event_title,\n            ...\n    FROM events as e\n    JOIN vehicle_region vr ON e.vehicle_id = vr.vehicle_id\n    WHERE vr.region_id = ANY(regionIds);\nEND;\n$$ LANGUAGE plpgsql;\n</code></pre>\n<p>And it works great when i call it form command line:</p>\n<pre><code>SELECT * FROM get_all_events_in_regions(ARRAY[1, 3,  6]);\n</code></pre>\n<p>Then i have a Spring Boot API that uses JPA for ORM and data persistence.\nInside a EnventRepository i created a native query method like this:</p>\n<pre><code>@Query(value = &quot;SELECT e.* FROM get_all_events_in_regions(CAST(:regionIds as int[]) e&quot;, nativeQuery = true)\nList&lt;Event&gt; getAllEventsInRegions(@Param(&quot;regionIds&quot;) List&lt;Integer&gt; regionIds, Pageable pageable);\n</code></pre>\n<p>But i get <strong>PSQLException: ERROR: syntax error at or near &quot;,&quot;</strong><br />\n<em>regionIds</em> is a normal ArrayList when i log it.</p>\n<p>I also tried without CASTING into int[] but the error was:<br />\n<strong>PSQLException: ERROR: function get_all_events_in_regions(integer, integer, integer, integer, integer, integer, integer, integer, integer) does not exist\nHint: No function matches the given name and argument types. You might need to add explicit type casts.</strong></p>\n<p>And i don't know what is going on or how to fix it.\nThanks for your help in advance</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3579096,"reputation":2566,"user_id":2987706,"accept_rate":90,"display_name":"Prashant"},"score":0,"creation_date":1425886784,"post_id":28936995,"comment_id":46129262,"body_markdown":"either use hidden parameter to pass the value. or encode URL.","body":"either use hidden parameter to pass the value. or encode URL."},{"owner":{"account_id":4714021,"reputation":6570,"user_id":3813733,"accept_rate":60,"display_name":"Arkantos"},"score":0,"creation_date":1425886933,"post_id":28936995,"comment_id":46129325,"body_markdown":"If you&#39;re planning to use path variables then URL should be `localhost:8080/MyApp/productId/03/editProduct.htm` ending with your extension","body":"If you&#39;re planning to use path variables then URL should be <code>localhost:8080&#47;MyApp&#47;productId&#47;03&#47;editProduct.htm</code> ending with your extension"},{"owner":{"account_id":4714021,"reputation":6570,"user_id":3813733,"accept_rate":60,"display_name":"Arkantos"},"score":0,"creation_date":1425887040,"post_id":28936995,"comment_id":46129363,"body_markdown":"Also If you actually want to hide your parameters, why don&#39;t you fire a POST request instead of a GET request ? Even with path variables, it&#39;s easy to find the `productId` values you&#39;re sending in URL and they are available in browser history as URLs, so it&#39;s not that safe :)","body":"Also If you actually want to hide your parameters, why don&#39;t you fire a POST request instead of a GET request ? Even with path variables, it&#39;s easy to find the <code>productId</code> values you&#39;re sending in URL and they are available in browser history as URLs, so it&#39;s not that safe :)"},{"owner":{"account_id":5479642,"reputation":110,"user_id":4356523,"accept_rate":43,"display_name":"msk"},"score":0,"creation_date":1425887057,"post_id":28936995,"comment_id":46129373,"body_markdown":"@Prashant , I am not using form , so how can i use hidden parameter. Is it possible ???","body":"@Prashant , I am not using form , so how can i use hidden parameter. Is it possible ???"},{"owner":{"account_id":4714021,"reputation":6570,"user_id":3813733,"accept_rate":60,"display_name":"Arkantos"},"score":0,"creation_date":1425887094,"post_id":28936995,"comment_id":46129391,"body_markdown":"So is it just a Hyper link ?","body":"So is it just a Hyper link ?"},{"owner":{"account_id":5479642,"reputation":110,"user_id":4356523,"accept_rate":43,"display_name":"msk"},"score":0,"creation_date":1425887158,"post_id":28936995,"comment_id":46129424,"body_markdown":"@Arkantos yes. Exactly .","body":"@Arkantos yes. Exactly ."},{"owner":{"account_id":4714021,"reputation":6570,"user_id":3813733,"accept_rate":60,"display_name":"Arkantos"},"score":0,"creation_date":1425887403,"post_id":28936995,"comment_id":46129519,"body_markdown":"Then your can try the URL in mentioned in previous comments. Also it&#39;s better not to use localhost because you will have problems when you deploy this in an actual server. So change your `href` of hyper link like this `/MyApp/productId/03/editProduct.htm`.. That should work :)","body":"Then your can try the URL in mentioned in previous comments. Also it&#39;s better not to use localhost because you will have problems when you deploy this in an actual server. So change your <code>href</code> of hyper link like this <code>&#47;MyApp&#47;productId&#47;03&#47;editProduct.htm</code>.. That should work :)"},{"owner":{"account_id":5479642,"reputation":110,"user_id":4356523,"accept_rate":43,"display_name":"msk"},"score":0,"creation_date":1425887607,"post_id":28936995,"comment_id":46129606,"body_markdown":"@Arkantos thanks bro.  I am  gonna try your solution.","body":"@Arkantos thanks bro.  I am  gonna try your solution."},{"owner":{"account_id":4714021,"reputation":6570,"user_id":3813733,"accept_rate":60,"display_name":"Arkantos"},"score":0,"creation_date":1425887856,"post_id":28936995,"comment_id":46129732,"body_markdown":"I&#39;ve posted my answer with corresponding Spring controller changes.. see if that helps :)","body":"I&#39;ve posted my answer with corresponding Spring controller changes.. see if that helps :)"}],"answers":[{"tags":[],"owner":{"account_id":2681102,"reputation":812,"user_id":2316486,"accept_rate":49,"display_name":"kxyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425890578,"creation_date":1425887237,"answer_id":28937222,"question_id":28936995,"body_markdown":" Change servlet default url pattern to:\r\n\r\n     &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;servlet_name&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n\r\nBut in this situation better option is to manage your @PathVariables in the middle part of URL, like:\r\n\r\n    /myapp/product/{productId}/edit.html","title":"How to hide the parameter values in url","body":"<p>Change servlet default url pattern to:</p>\n\n<pre><code> &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;servlet_name&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>But in this situation better option is to manage your @PathVariables in the middle part of URL, like:</p>\n\n<pre><code>/myapp/product/{productId}/edit.html\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4714021,"reputation":6570,"user_id":3813733,"accept_rate":60,"display_name":"Arkantos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425888962,"creation_date":1425887723,"answer_id":28937330,"question_id":28936995,"body_markdown":"If you want to make use of `@PathVariable` annoation, then URL should be\r\n\r\n`/MyApp/productId/03/editProduct.htm` - ending with your extension and your controller mapping should be like this\r\n\r\n    @RequestMapping(value=&quot;/productId/{id}/editProduct&quot;)\r\n    public String editProduct(@PathVariable String id, Model model) {\r\n    \r\n    }\r\n\r\nOne more change to note here is that I mentioned a relative URL instead of absolute URL like `localhost:8080/MyApp/productId/03/editProduct.htm` including host name and port. This won&#39;t work when you deploy your application in an actual server because `localhost` always refers to your current machine but your application is deployed on some other host. \r\n\r\nHope that makes sense :)\r\n ","title":"How to hide the parameter values in url","body":"<p>If you want to make use of <code>@PathVariable</code> annoation, then URL should be</p>\n\n<p><code>/MyApp/productId/03/editProduct.htm</code> - ending with your extension and your controller mapping should be like this</p>\n\n<pre><code>@RequestMapping(value=\"/productId/{id}/editProduct\")\npublic String editProduct(@PathVariable String id, Model model) {\n\n}\n</code></pre>\n\n<p>One more change to note here is that I mentioned a relative URL instead of absolute URL like <code>localhost:8080/MyApp/productId/03/editProduct.htm</code> including host name and port. This won't work when you deploy your application in an actual server because <code>localhost</code> always refers to your current machine but your application is deployed on some other host. </p>\n\n<p>Hope that makes sense :)</p>\n"},{"tags":[],"owner":{"account_id":10485173,"reputation":1,"user_id":7728979,"display_name":"xiaocun xu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489785939,"creation_date":1489779304,"answer_id":42865781,"question_id":28936995,"body_markdown":"I am doing an assignment in a class.\r\n\r\nI am guessing the first step is to use wildcard (*) to map your URL. In your pages, you can use whatever the URL you prefer.\r\n\r\nThen you can invoke the method `getPathInfo()` in your servlet.\r\n\r\n    String action = request.getPathInfo();\r\nOr you can call `getHeader(&quot;referer&quot;)` to get your URL then manipulate your string to get the information you need.\r\n\r\nFinally, you can put the string in your if-else or switch statement. \r\n\r\n","title":"How to hide the parameter values in url","body":"<p>I am doing an assignment in a class.</p>\n\n<p>I am guessing the first step is to use wildcard (*) to map your URL. In your pages, you can use whatever the URL you prefer.</p>\n\n<p>Then you can invoke the method <code>getPathInfo()</code> in your servlet.</p>\n\n<pre><code>String action = request.getPathInfo();\n</code></pre>\n\n<p>Or you can call <code>getHeader(\"referer\")</code> to get your URL then manipulate your string to get the information you need.</p>\n\n<p>Finally, you can put the string in your if-else or switch statement. </p>\n"},{"tags":[],"owner":{"account_id":12112272,"reputation":44,"user_id":8848440,"display_name":"muhammed aslam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519711089,"creation_date":1519711089,"answer_id":49002062,"question_id":28936995,"body_markdown":"All you have to do is create a form in your html page with method=post\r\n\r\n    &lt;form method=&quot;post&quot;&gt;\r\nThen create fields inside this form and if you don&#39;t have any fields that should be displayed used input with type hidden.\r\n\r\n    &lt;input type=&quot;hidden&quot; name=&quot;parametername&quot; id=&quot;parameterid&quot; value=&quot;parametervalue&quot;&gt;\r\nThis will do the trick, it won&#39;t show any parameter value in the URL and you can access the values as you already do.\r\n\r\nHope this helps....","title":"How to hide the parameter values in url","body":"<p>All you have to do is create a form in your html page with method=post</p>\n\n<pre><code>&lt;form method=\"post\"&gt;\n</code></pre>\n\n<p>Then create fields inside this form and if you don't have any fields that should be displayed used input with type hidden.</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"parametername\" id=\"parameterid\" value=\"parametervalue\"&gt;\n</code></pre>\n\n<p>This will do the trick, it won't show any parameter value in the URL and you can access the values as you already do.</p>\n\n<p>Hope this helps....</p>\n"}],"owner":{"account_id":5479642,"reputation":110,"user_id":4356523,"accept_rate":43,"display_name":"msk"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1694102740,"creation_date":1425886093,"question_id":28936995,"body_markdown":"I am working on a project using hibernate and Spring MVC architecture. \r\nMy problem is that I am using (*.htm) url pattern in my web application , in this case when I sent a product&#39;s id to controller for editing, the product&#39;s id is shown in url for eg. \r\n\r\n    &quot;localhost:8080/MyApp/editProduct.htm?productId=03&quot;.\r\nBut I don&#39;t want this . I just want \r\n\r\n    &quot;localhost:8080/MyApp/editProduct.htm?productId&quot; or &quot;localhost:8080/MyApp/editProduct.htm/productId/03&quot; \r\n\r\nand I am unable to use @PathVariable Annotation in my controller because of my url pattern(*.htm) and using of @PathVariable Annotation the JSP page never load properly.\r\nAny Suggestions . Thanks in Advance. \r\n\r\nController:- \r\n\r\n    @RequestMapping(value = &quot;/{sId}/deleteState.htm&quot;)\r\n    public ModelAndView deleteState(@PathVariable(&quot;sId&quot;) int sId ){\r\n        ModelAndView mav = new ModelAndView();\r\n        \r\n        try{\r\n            stateDAO.deleteById(sId);\r\n            mav.addAllObjects(prepapareModel());\r\n            mav.addObject(&quot;msg&quot;, &quot;State Deleted Succesdfully&quot;);\r\n            mav.setViewName(&quot;admin/viewState&quot;);\r\n            return mav;\r\n        }catch(Exception e){\r\n            e.printStackTrace();\r\n            mav.addAllObjects(prepapareModel());\r\n            mav.addObject(&quot;err&quot;, &quot;Failed to Delete State&quot;);\r\n            mav.setViewName(&quot;admin/viewState&quot;);\r\n            return mav;\r\n        }\r\n    }\r\n    \r\n    public Map prepapareModel(){\r\n        Map map = new HashMap();\r\n        map.put(&quot;states&quot;, stateDAO.findAll());\r\n        return map;\r\n    }\r\n    \r\n\r\nUrl after deleting the State from database:-\r\n\r\n    http://localhost:8080/PujaInBox/10/deleteState.htm\r\n\r\nI think the Id of State is creating the problem . 10 is Id of state. ","title":"How to hide the parameter values in url","body":"<p>I am working on a project using hibernate and Spring MVC architecture.\nMy problem is that I am using (*.htm) url pattern in my web application , in this case when I sent a product's id to controller for editing, the product's id is shown in url for eg.</p>\n<pre><code>&quot;localhost:8080/MyApp/editProduct.htm?productId=03&quot;.\n</code></pre>\n<p>But I don't want this . I just want</p>\n<pre><code>&quot;localhost:8080/MyApp/editProduct.htm?productId&quot; or &quot;localhost:8080/MyApp/editProduct.htm/productId/03&quot; \n</code></pre>\n<p>and I am unable to use @PathVariable Annotation in my controller because of my url pattern(*.htm) and using of @PathVariable Annotation the JSP page never load properly.\nAny Suggestions . Thanks in Advance.</p>\n<p>Controller:-</p>\n<pre><code>@RequestMapping(value = &quot;/{sId}/deleteState.htm&quot;)\npublic ModelAndView deleteState(@PathVariable(&quot;sId&quot;) int sId ){\n    ModelAndView mav = new ModelAndView();\n    \n    try{\n        stateDAO.deleteById(sId);\n        mav.addAllObjects(prepapareModel());\n        mav.addObject(&quot;msg&quot;, &quot;State Deleted Succesdfully&quot;);\n        mav.setViewName(&quot;admin/viewState&quot;);\n        return mav;\n    }catch(Exception e){\n        e.printStackTrace();\n        mav.addAllObjects(prepapareModel());\n        mav.addObject(&quot;err&quot;, &quot;Failed to Delete State&quot;);\n        mav.setViewName(&quot;admin/viewState&quot;);\n        return mav;\n    }\n}\n\npublic Map prepapareModel(){\n    Map map = new HashMap();\n    map.put(&quot;states&quot;, stateDAO.findAll());\n    return map;\n}\n</code></pre>\n<p>Url after deleting the State from database:-</p>\n<pre><code>http://localhost:8080/PujaInBox/10/deleteState.htm\n</code></pre>\n<p>I think the Id of State is creating the problem . 10 is Id of state.</p>\n"},{"tags":["java","apache-kafka","windows-subsystem-for-linux"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694104152,"post_id":77061200,"comment_id":135850560,"body_markdown":"The service is running on *the same box as on which the code is being run*?","body":"The service is running on <i>the same box as on which the code is being run</i>?"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1694111236,"post_id":77061200,"comment_id":135851891,"body_markdown":"@g00se I&#39;m not sure what you mean, but I have only one computer so it&#39;s all run on the same machine (the services and the Kafka server)","body":"@g00se I&#39;m not sure what you mean, but I have only one computer so it&#39;s all run on the same machine (the services and the Kafka server)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694112661,"post_id":77061200,"comment_id":135852109,"body_markdown":"In that case, the concern I had is not relevant","body":"In that case, the concern I had is not relevant"},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1694120299,"post_id":77061200,"comment_id":135853359,"body_markdown":"When you start the process, sometimes they get binded to listen on 127.0.0.1 vs localhost etc., can you check the PID for Kafka server process and see is it open to listen on &quot;localhost&quot; too?","body":"When you start the process, sometimes they get binded to listen on 127.0.0.1 vs localhost etc., can you check the PID for Kafka server process and see is it open to listen on &quot;localhost&quot; too?"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1694121505,"post_id":77061200,"comment_id":135853519,"body_markdown":"@kosa the PID is 1748. What should I take from it?","body":"@kosa the PID is 1748. What should I take from it?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1694125799,"post_id":77061200,"comment_id":135854094,"body_markdown":"My guess is that this has to do with WSL, which is tagged but not otherwise mentioned in the question. I don’t know anything about WSL personally, but I can see that the tag has many similar questions about networking between the subsystem and the host. I didn’t see one with an answer, however.","body":"My guess is that this has to do with WSL, which is tagged but not otherwise mentioned in the question. I don’t know anything about WSL personally, but I can see that the tag has many similar questions about networking between the subsystem and the host. I didn’t see one with an answer, however."},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1694396007,"post_id":77061200,"comment_id":135881118,"body_markdown":"@TimMoore I think your observation is very valid.","body":"@TimMoore I think your observation is very valid."}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694102691,"creation_date":1694102691,"question_id":77061200,"body_markdown":"I managed to successfully set up Zookeeper and Kafka servers, and CLI pub/sub operations work fine\r\n```\r\njorejoh@LAPTOP-CKP86E2O:/usr/local/kafka/bin$ ./kafka-console-producer.sh --broker-list localhost:9092 --topic test                                                                                                SLF4J: Class path contains multiple SLF4J bindings.                                                                                                                                                               SLF4J: Found binding in [jar:file:/usr/local/kafka/tools/build/dependant-libs-2.13.10/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/usr/local/kafka/trogdor/build/dependant-libs-2.13.10/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]                                                        \r\nSLF4J: Found binding in [jar:file:/usr/local/kafka/connect/runtime/build/dependant-libs/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]                                                        \r\nSLF4J: Found binding in [jar:file:/usr/local/kafka/connect/mirror/build/dependant-libs/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]                                                         \r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.                                                                                                                                   \r\nSLF4J: Actual binding is of type [org.slf4j.impl.Reload4jLoggerFactory]                                                                                                                                            \r\n&gt;Another message                                                                                                                                                                                                   \r\n&gt;Yet another message                                                                                                                                                                                               \r\n&gt;^C\r\njorejoh@LAPTOP-CKP86E2O:/usr/local/kafka/bin$  ./kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test --from-beginning                                                                         \r\nSLF4J: Class path contains multiple SLF4J bindings.                                                                                                                                                                \r\nSLF4J: Found binding in [jar:file:/usr/local/kafka/tools/build/dependant-libs-2.13.10/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]                                                          \r\nSLF4J: Found binding in [jar:file:/usr/local/kafka/trogdor/build/dependant-libs-2.13.10/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]                                                        \r\nSLF4J: Found binding in [jar:file:/usr/local/kafka/connect/runtime/build/dependant-libs/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]                                                        \r\nSLF4J: Found binding in [jar:file:/usr/local/kafka/connect/mirror/build/dependant-libs/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]                                                         \r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.                                                                                                                                   \r\nSLF4J: Actual binding is of type [org.slf4j.impl.Reload4jLoggerFactory]                                                                                                                                            \r\nAnother message                                                                                                                                                                                                    \r\nYet another message                                                                                                                                                                                                \r\n^CProcessed a total of 2 messages \r\n```\r\nHowever, when I try to perform similar operations from a simple Java app, it can&#39;t connect. Here&#39;s the app code:\r\n```java\r\npackage org.example.demos.kafka;\r\n\r\nimport org.apache.kafka.clients.producer.KafkaProducer;\r\nimport org.apache.kafka.clients.producer.ProducerRecord;\r\n\r\nimport java.util.Properties;\r\n\r\npublic class ProducerMicroservice {\r\n\r\n    private static final String TOPIC_NAME = &quot;my-topic&quot;;\r\n    private static final String BOOTSTRAP_SERVERS = &quot;localhost:9092&quot;;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // Configure Kafka producer\r\n        Properties props = new Properties();\r\n        props.put(&quot;bootstrap.servers&quot;, BOOTSTRAP_SERVERS);\r\n        props.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        props.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);\r\n\r\n        // Generate and send messages\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            String message = &quot;Message &quot; + i;\r\n            ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(TOPIC_NAME, message);\r\n            producer.send(record);\r\n        }\r\n\r\n        // Close the producer\r\n        producer.close();\r\n    }\r\n}\r\n```\r\n```java\r\npackage org.example.demos.kafka;\r\n\r\nimport org.apache.kafka.clients.consumer.Consumer;\r\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\r\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\r\n\r\nimport java.time.Duration;\r\nimport java.util.Collections;\r\nimport java.util.Properties;\r\n\r\npublic class ConsumerMicroservice {\r\n\r\n    private static final String TOPIC_NAME = &quot;my-topic&quot;;\r\n    private static final String BOOTSTRAP_SERVERS = &quot;localhost:9092&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        // Configure Kafka consumer\r\n        Properties props = new Properties();\r\n        props.put(&quot;bootstrap.servers&quot;, BOOTSTRAP_SERVERS);\r\n        props.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        props.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        props.put(&quot;group.id&quot;, &quot;my-group&quot;);\r\n        try (Consumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props)) {\r\n            // Subscribe to the topic and start consuming messages\r\n            consumer.subscribe(Collections.singleton(TOPIC_NAME));\r\n            while (true) {\r\n                ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));\r\n                records.forEach(record -&gt; {\r\n                    System.out.println(&quot;Received message: &quot; + record.value());\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nA snippet from a producer log:\r\n```\r\n---- 07 сент. 2023 18:39:51,168\r\nDEBUG [kafka-producer-network-thread | producer-1] : Resolved host localhost as 127.0.0.1\r\n\r\n---- 07 сент. 2023 18:39:51,168\r\nDEBUG [kafka-producer-network-thread | producer-1] : [Producer clientId=producer-1] Initiating connection to node localhost:9092 (id: -1 rack: null) using address localhost/127.0.0.1\r\n\r\n---- 07 сент. 2023 18:39:51,169\r\nDEBUG [kafka-producer-network-thread | producer-1] : [Producer clientId=producer-1] Connection with localhost/127.0.0.1 (channelId=-1) disconnected\r\n\r\n java.net.ConnectException: Connection refused: no further information\r\n\tat sun.nio.ch.Net.pollConnect(Native Method) ~[?:?]\r\n\tat sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[?:?]\r\n\tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[?:?]\r\n\tat org.apache.kafka.common.network.PlaintextTransportLayer.finishConnect(PlaintextTransportLayer.java:50) ~[kafka-clients-3.5.1.jar:?]\r\n\tat org.apache.kafka.common.network.KafkaChannel.finishConnect(KafkaChannel.java:224) ~[kafka-clients-3.5.1.jar:?]\r\n\tat org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:526) [kafka-clients-3.5.1.jar:?]\r\n\tat org.apache.kafka.common.network.Selector.poll(Selector.java:481) [kafka-clients-3.5.1.jar:?]\r\n\tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:571) [kafka-clients-3.5.1.jar:?]\r\n\tat org.apache.kafka.clients.NetworkClientUtils.isReady(NetworkClientUtils.java:42) [kafka-clients-3.5.1.jar:?]\r\n\tat org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:64) [kafka-clients-3.5.1.jar:?]\r\n\tat org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:534) [kafka-clients-3.5.1.jar:?]\r\n\tat org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:455) [kafka-clients-3.5.1.jar:?]\r\n\tat org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316) [kafka-clients-3.5.1.jar:?]\r\n\tat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243) [kafka-clients-3.5.1.jar:?]\r\n\tat java.lang.Thread.run(Thread.java:833) [?:?]\r\n---- 07 сент. 2023 18:39:51,169\r\nINFO  [kafka-producer-network-thread | producer-1] : [Producer clientId=producer-1] Node -1 disconnected.\r\n\r\n---- 07 сент. 2023 18:39:51,170\r\nWARN  [kafka-producer-network-thread | producer-1] : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n\r\n---- 07 сент. 2023 18:39:51,170\r\nWARN  [kafka-producer-network-thread | producer-1] : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n\r\n---- 07 сент. 2023 18:39:51,170\r\nDEBUG [kafka-producer-network-thread | producer-1] : [Producer clientId=producer-1] Disconnect from localhost:9092 (id: -1 rack: null) while trying to send request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1). Going to back off and retry.\r\n\r\n java.io.IOException: Connection to localhost:9092 (id: -1 rack: null) failed.\r\n\tat org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:70) ~[kafka-clients-3.5.1.jar:?]\r\n\tat org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:534) ~[kafka-clients-3.5.1.jar:?]\r\n\tat org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:455) [kafka-clients-3.5.1.jar:?]\r\n\tat org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316) [kafka-clients-3.5.1.jar:?]\r\n\tat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243) [kafka-clients-3.5.1.jar:?]\r\n\tat java.lang.Thread.run(Thread.java:833) [?:?]\r\n```\r\nI made sure that:\r\n\r\n1. Kafka versions are compatible (both are 3.5.1)\r\n2. I specified this property in the `server.properties` file (notice `advertised.listeners` is still commented out so it should take regular listeners):\r\n```\r\nlisteners=PLAINTEXT://localhost:9092\r\n#advertised.listeners=PLAINTEXT://your.host.name:9092\r\n```\r\nWhat may be the problem?","title":"Can&#39;t access Kafka from a Java app. What may be the problem?","body":"<p>I managed to successfully set up Zookeeper and Kafka servers, and CLI pub/sub operations work fine</p>\n<pre><code>jorejoh@LAPTOP-CKP86E2O:/usr/local/kafka/bin$ ./kafka-console-producer.sh --broker-list localhost:9092 --topic test                                                                                                SLF4J: Class path contains multiple SLF4J bindings.                                                                                                                                                               SLF4J: Found binding in [jar:file:/usr/local/kafka/tools/build/dependant-libs-2.13.10/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/kafka/trogdor/build/dependant-libs-2.13.10/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]                                                        \nSLF4J: Found binding in [jar:file:/usr/local/kafka/connect/runtime/build/dependant-libs/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]                                                        \nSLF4J: Found binding in [jar:file:/usr/local/kafka/connect/mirror/build/dependant-libs/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]                                                         \nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.                                                                                                                                   \nSLF4J: Actual binding is of type [org.slf4j.impl.Reload4jLoggerFactory]                                                                                                                                            \n&gt;Another message                                                                                                                                                                                                   \n&gt;Yet another message                                                                                                                                                                                               \n&gt;^C\njorejoh@LAPTOP-CKP86E2O:/usr/local/kafka/bin$  ./kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test --from-beginning                                                                         \nSLF4J: Class path contains multiple SLF4J bindings.                                                                                                                                                                \nSLF4J: Found binding in [jar:file:/usr/local/kafka/tools/build/dependant-libs-2.13.10/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]                                                          \nSLF4J: Found binding in [jar:file:/usr/local/kafka/trogdor/build/dependant-libs-2.13.10/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]                                                        \nSLF4J: Found binding in [jar:file:/usr/local/kafka/connect/runtime/build/dependant-libs/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]                                                        \nSLF4J: Found binding in [jar:file:/usr/local/kafka/connect/mirror/build/dependant-libs/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]                                                         \nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.                                                                                                                                   \nSLF4J: Actual binding is of type [org.slf4j.impl.Reload4jLoggerFactory]                                                                                                                                            \nAnother message                                                                                                                                                                                                    \nYet another message                                                                                                                                                                                                \n^CProcessed a total of 2 messages \n</code></pre>\n<p>However, when I try to perform similar operations from a simple Java app, it can't connect. Here's the app code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.demos.kafka;\n\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.ProducerRecord;\n\nimport java.util.Properties;\n\npublic class ProducerMicroservice {\n\n    private static final String TOPIC_NAME = &quot;my-topic&quot;;\n    private static final String BOOTSTRAP_SERVERS = &quot;localhost:9092&quot;;\n\n    public static void main(String[] args) {\n\n        // Configure Kafka producer\n        Properties props = new Properties();\n        props.put(&quot;bootstrap.servers&quot;, BOOTSTRAP_SERVERS);\n        props.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        props.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);\n\n        // Generate and send messages\n        for (int i = 0; i &lt; 10; i++) {\n            String message = &quot;Message &quot; + i;\n            ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(TOPIC_NAME, message);\n            producer.send(record);\n        }\n\n        // Close the producer\n        producer.close();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.demos.kafka;\n\nimport org.apache.kafka.clients.consumer.Consumer;\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\n\nimport java.time.Duration;\nimport java.util.Collections;\nimport java.util.Properties;\n\npublic class ConsumerMicroservice {\n\n    private static final String TOPIC_NAME = &quot;my-topic&quot;;\n    private static final String BOOTSTRAP_SERVERS = &quot;localhost:9092&quot;;\n\n    public static void main(String[] args) {\n        // Configure Kafka consumer\n        Properties props = new Properties();\n        props.put(&quot;bootstrap.servers&quot;, BOOTSTRAP_SERVERS);\n        props.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        props.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        props.put(&quot;group.id&quot;, &quot;my-group&quot;);\n        try (Consumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props)) {\n            // Subscribe to the topic and start consuming messages\n            consumer.subscribe(Collections.singleton(TOPIC_NAME));\n            while (true) {\n                ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));\n                records.forEach(record -&gt; {\n                    System.out.println(&quot;Received message: &quot; + record.value());\n                });\n            }\n        }\n    }\n}\n</code></pre>\n<p>A snippet from a producer log:</p>\n<pre><code>---- 07 сент. 2023 18:39:51,168\nDEBUG [kafka-producer-network-thread | producer-1] : Resolved host localhost as 127.0.0.1\n\n---- 07 сент. 2023 18:39:51,168\nDEBUG [kafka-producer-network-thread | producer-1] : [Producer clientId=producer-1] Initiating connection to node localhost:9092 (id: -1 rack: null) using address localhost/127.0.0.1\n\n---- 07 сент. 2023 18:39:51,169\nDEBUG [kafka-producer-network-thread | producer-1] : [Producer clientId=producer-1] Connection with localhost/127.0.0.1 (channelId=-1) disconnected\n\n java.net.ConnectException: Connection refused: no further information\n    at sun.nio.ch.Net.pollConnect(Native Method) ~[?:?]\n    at sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[?:?]\n    at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[?:?]\n    at org.apache.kafka.common.network.PlaintextTransportLayer.finishConnect(PlaintextTransportLayer.java:50) ~[kafka-clients-3.5.1.jar:?]\n    at org.apache.kafka.common.network.KafkaChannel.finishConnect(KafkaChannel.java:224) ~[kafka-clients-3.5.1.jar:?]\n    at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:526) [kafka-clients-3.5.1.jar:?]\n    at org.apache.kafka.common.network.Selector.poll(Selector.java:481) [kafka-clients-3.5.1.jar:?]\n    at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:571) [kafka-clients-3.5.1.jar:?]\n    at org.apache.kafka.clients.NetworkClientUtils.isReady(NetworkClientUtils.java:42) [kafka-clients-3.5.1.jar:?]\n    at org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:64) [kafka-clients-3.5.1.jar:?]\n    at org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:534) [kafka-clients-3.5.1.jar:?]\n    at org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:455) [kafka-clients-3.5.1.jar:?]\n    at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316) [kafka-clients-3.5.1.jar:?]\n    at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243) [kafka-clients-3.5.1.jar:?]\n    at java.lang.Thread.run(Thread.java:833) [?:?]\n---- 07 сент. 2023 18:39:51,169\nINFO  [kafka-producer-network-thread | producer-1] : [Producer clientId=producer-1] Node -1 disconnected.\n\n---- 07 сент. 2023 18:39:51,170\nWARN  [kafka-producer-network-thread | producer-1] : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n\n---- 07 сент. 2023 18:39:51,170\nWARN  [kafka-producer-network-thread | producer-1] : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n\n---- 07 сент. 2023 18:39:51,170\nDEBUG [kafka-producer-network-thread | producer-1] : [Producer clientId=producer-1] Disconnect from localhost:9092 (id: -1 rack: null) while trying to send request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1). Going to back off and retry.\n\n java.io.IOException: Connection to localhost:9092 (id: -1 rack: null) failed.\n    at org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:70) ~[kafka-clients-3.5.1.jar:?]\n    at org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:534) ~[kafka-clients-3.5.1.jar:?]\n    at org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:455) [kafka-clients-3.5.1.jar:?]\n    at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316) [kafka-clients-3.5.1.jar:?]\n    at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243) [kafka-clients-3.5.1.jar:?]\n    at java.lang.Thread.run(Thread.java:833) [?:?]\n</code></pre>\n<p>I made sure that:</p>\n<ol>\n<li>Kafka versions are compatible (both are 3.5.1)</li>\n<li>I specified this property in the <code>server.properties</code> file (notice <code>advertised.listeners</code> is still commented out so it should take regular listeners):</li>\n</ol>\n<pre><code>listeners=PLAINTEXT://localhost:9092\n#advertised.listeners=PLAINTEXT://your.host.name:9092\n</code></pre>\n<p>What may be the problem?</p>\n"},{"tags":["java","spring-boot","docker","maven"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1693596037,"post_id":77025031,"comment_id":135786868,"body_markdown":"What&#39;s the complete stack trace of the failure? The cause of the `java.lang.IllegalStateException` that you&#39;ve shared should provide details of the processing error.","body":"What&#39;s the complete stack trace of the failure? The cause of the <code>java.lang.IllegalStateException</code> that you&#39;ve shared should provide details of the processing error."},{"owner":{"account_id":6103503,"reputation":65,"user_id":4791947,"display_name":"Ravikiran R"},"score":0,"creation_date":1693668308,"post_id":77025031,"comment_id":135792412,"body_markdown":"I bed your pardon , i had missed it . Now i have updated in my query","body":"I bed your pardon , i had missed it . Now i have updated in my query"},{"owner":{"account_id":6103503,"reputation":65,"user_id":4791947,"display_name":"Ravikiran R"},"score":0,"creation_date":1693668467,"post_id":77025031,"comment_id":135792434,"body_markdown":"Please find docker file attached too :\n\n`*FROM tomcat:9.0.58-jdk11-openjdk\n\nEXPOSE 8080\nRUN rm -rf /usr/local/tomcat/webapps/*\nRUN mkdir -p /usr/local/tomcat/sdnc_file/in_temp\nRUN mkdir -p /usr/local/tomcat/sdnc_file/out_temp\nRUN mkdir -p /usr/local/tomcat/sdnc_file/mapping_sheet\n\n\nCOPY ./target/sample.war /usr/local/tomcat/webapps/ROOT.war\n\nCMD [&quot;catalina.sh&quot;,&quot;run&quot;]\n*`","body":"Please find docker file attached too :  <code>*FROM tomcat:9.0.58-jdk11-openjdk  EXPOSE 8080 RUN rm -rf &#47;usr&#47;local&#47;tomcat&#47;webapps&#47;* RUN mkdir -p &#47;usr&#47;local&#47;tomcat&#47;sdnc_file&#47;in_temp RUN mkdir -p &#47;usr&#47;local&#47;tomcat&#47;sdnc_file&#47;out_temp RUN mkdir -p &#47;usr&#47;local&#47;tomcat&#47;sdnc_file&#47;mapping_sheet   COPY .&#47;target&#47;sample.war &#47;usr&#47;local&#47;tomcat&#47;webapps&#47;ROOT.war  CMD [&quot;catalina.sh&quot;,&quot;run&quot;] *</code>"},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1693754621,"post_id":77025031,"comment_id":135799325,"body_markdown":"Your Dockerfile Is not readable if you post It as a comment, you should post It by editing the question.","body":"Your Dockerfile Is not readable if you post It as a comment, you should post It by editing the question."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1693812196,"post_id":77025031,"comment_id":135804692,"body_markdown":"The exception is still truncated. There&#39;s a problem with `com.bose.smart.dnc.configuration.DependencyConfiguration` but we can&#39;t see what it is as you haven&#39;t shared the cause of the second `IllegalStateException`.","body":"The exception is still truncated. There&#39;s a problem with <code>com.bose.smart.dnc.configuration.DependencyConfiguration</code> but we can&#39;t see what it is as you haven&#39;t shared the cause of the second <code>IllegalStateException</code>."},{"owner":{"account_id":6103503,"reputation":65,"user_id":4791947,"display_name":"Ravikiran R"},"score":0,"creation_date":1693890396,"post_id":77025031,"comment_id":135815174,"body_markdown":"I am sorry there is too much logs and it is exceeding limitations.  Here are the logs please:\n\n`  | Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.bose.smart.dnc.configuration.DependencyConfiguration] from ClassLoader [ParallelWebappClassLoader\n  |   context: ROOT\n  |   delegate: false\n  | ----------&gt; Parent Classloader:\n  | java.net.URLClassLoader@2ef1e4fa\n  | ]\n  | \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.26.jar:5.3.26];","body":"I am sorry there is too much logs and it is exceeding limitations.  Here are the logs please:  `  | Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.bose.smart.dnc.configuration.DependencyConfiguration] from ClassLoader [ParallelWebappClassLoader   |   context: ROOT   |   delegate: false   | ----------&gt; Parent Classloader:   | java.net.URLClassLoader@2ef1e4fa   | ]   | \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(&zwnj;&#8203;ReflectionUtils.java&zwnj;&#8203;:485) ~[spring-core-5.3.26.jar:5.3.26];"},{"owner":{"account_id":6103503,"reputation":65,"user_id":4791947,"display_name":"Ravikiran R"},"score":0,"creation_date":1693890431,"post_id":77025031,"comment_id":135815181,"body_markdown":"I have removed log content name service_container as it is clouding the log content.","body":"I have removed log content name service_container as it is clouding the log content."},{"owner":{"account_id":6103503,"reputation":65,"user_id":4791947,"display_name":"Ravikiran R"},"score":0,"creation_date":1694102427,"post_id":77025031,"comment_id":135850272,"body_markdown":"@Pino  :thankyou for notifying i have update it now","body":"@Pino  :thankyou for notifying i have update it now"},{"owner":{"account_id":6103503,"reputation":65,"user_id":4791947,"display_name":"Ravikiran R"},"score":0,"creation_date":1694773752,"post_id":77025031,"comment_id":135938533,"body_markdown":"Post rechecking i got the resolution. There were two same name  packages (in this case [com.bose.smart.dnc.excelService]) pointing to similar code from 2 different jar files. I understood this solution while debugging from Intellij. Thankyou for your support.","body":"Post rechecking i got the resolution. There were two same name  packages (in this case [com.bose.smart.dnc.excelService]) pointing to similar code from 2 different jar files. I understood this solution while debugging from Intellij. Thankyou for your support."}],"owner":{"account_id":6103503,"reputation":65,"user_id":4791947,"display_name":"Ravikiran R"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694102307,"creation_date":1693589279,"question_id":77025031,"body_markdown":"I have run springboot application in a docker container with tomcat 9.0.58 and open jdk 11. But when i start the container i am getting as exception as below:\r\n\r\n```\r\n*service_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.exception-conversion-word]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.exception-conversion-word] not found - trying original name [logging.exception-conversion-word]. javax.naming.NameNotFoundException: Name [logging.exception-conversion-word] is not bound in this Context. Unable to find [logging.exception-conversion-word].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.exception-conversion-word]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.exception-conversion-word] threw NamingException with message: Name [logging.exception-conversion-word] is not bound in this Context. Unable to find [logging.exception-conversion-word].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.exception-conversion-word]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.exception-conversion-word] not found - trying original name [logging.exception-conversion-word]. javax.naming.NameNotFoundException: Name [logging.exception-conversion-word] is not bound in this Context. Unable to find [logging.exception-conversion-word].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.exception-conversion-word]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.exception-conversion-word] threw NamingException with message: Name [logging.exception-conversion-word] is not bound in this Context. Unable to find [logging.exception-conversion-word].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.console]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.console] not found - trying original name [logging.pattern.console]. javax.naming.NameNotFoundException: Name [logging.pattern.console] is not bound in this Context. Unable to find [logging.pattern.console].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.console]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.console] threw NamingException with message: Name [logging.pattern.console] is not bound in this Context. Unable to find [logging.pattern.console].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.console]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.console] not found - trying original name [logging.pattern.console]. javax.naming.NameNotFoundException: Name [logging.pattern.console] is not bound in this Context. Unable to find [logging.pattern.console].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.console]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.console] threw NamingException with message: Name [logging.pattern.console] is not bound in this Context. Unable to find [logging.pattern.console].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.charset.console]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.charset.console] not found - trying original name [logging.charset.console]. javax.naming.NameNotFoundException: Name [logging.charset.console] is not bound in this Context. Unable to find [logging.charset.console].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.charset.console]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.charset.console] threw NamingException with message: Name [logging.charset.console] is not bound in this Context. Unable to find [logging.charset.console].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.charset.console]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.charset.console] not found - trying original name [logging.charset.console]. javax.naming.NameNotFoundException: Name [logging.charset.console] is not bound in this Context. Unable to find [logging.charset.console].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.charset.console]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.charset.console] threw NamingException with message: Name [logging.charset.console] is not bound in this Context. Unable to find [logging.charset.console].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.dateformat]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.dateformat] not found - trying original name [logging.pattern.dateformat]. javax.naming.NameNotFoundException: Name [logging.pattern.dateformat] is not bound in this Context. Unable to find [logging.pattern.dateformat].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.dateformat]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.dateformat] threw NamingException with message: Name [logging.pattern.dateformat] is not bound in this Context. Unable to find [logging.pattern.dateformat].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.dateformat]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.dateformat] not found - trying original name [logging.pattern.dateformat]. javax.naming.NameNotFoundException: Name [logging.pattern.dateformat] is not bound in this Context. Unable to find [logging.pattern.dateformat].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.dateformat]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.dateformat] threw NamingException with message: Name [logging.pattern.dateformat] is not bound in this Context. Unable to find [logging.pattern.dateformat].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.file]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.file] not found - trying original name [logging.pattern.file]. javax.naming.NameNotFoundException: Name [logging.pattern.file] is not bound in this Context. Unable to find [logging.pattern.file].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.file]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.file] threw NamingException with message: Name [logging.pattern.file] is not bound in this Context. Unable to find [logging.pattern.file].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.file]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.file] not found - trying original name [logging.pattern.file]. javax.naming.NameNotFoundException: Name [logging.pattern.file] is not bound in this Context. Unable to find [logging.pattern.file].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.file]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.file] threw NamingException with message: Name [logging.pattern.file] is not bound in this Context. Unable to find [logging.pattern.file].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.charset.file]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.charset.file] not found - trying original name [logging.charset.file]. javax.naming.NameNotFoundException: Name [logging.charset.file] is not bound in this Context. Unable to find [logging.charset.file].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.charset.file]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.charset.file] threw NamingException with message: Name [logging.charset.file] is not bound in this Context. Unable to find [logging.charset.file].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.charset.file]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.charset.file] not found - trying original name [logging.charset.file]. javax.naming.NameNotFoundException: Name [logging.charset.file] is not bound in this Context. Unable to find [logging.charset.file].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.charset.file]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.charset.file] threw NamingException with message: Name [logging.charset.file] is not bound in this Context. Unable to find [logging.charset.file].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.level]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.level] not found - trying original name [logging.pattern.level]. javax.naming.NameNotFoundException: Name [logging.pattern.level] is not bound in this Context. Unable to find [logging.pattern.level].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.level]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.level] threw NamingException with message: Name [logging.pattern.level] is not bound in this Context. Unable to find [logging.pattern.level].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.level]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.level] not found - trying original name [logging.pattern.level]. javax.naming.NameNotFoundException: Name [logging.pattern.level] is not bound in this Context. Unable to find [logging.pattern.level].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.level]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.level] threw NamingException with message: Name [logging.pattern.level] is not bound in this Context. Unable to find [logging.pattern.level].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.log4j2.config.override]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.log4j2.config.override] not found - trying original name [logging.log4j2.config.override]. javax.naming.NameNotFoundException: Name [logging.log4j2.config.override] is not bound in this Context. Unable to find [logging.log4j2.config.override].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.log4j2.config.override]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.log4j2.config.override] threw NamingException with message: Name [logging.log4j2.config.override] is not bound in this Context. Unable to find [logging.log4j2.config.override].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.log4j2.config.override]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.log4j2.config.override] not found - trying original name [logging.log4j2.config.override]. javax.naming.NameNotFoundException: Name [logging.log4j2.config.override] is not bound in this Context. Unable to find [logging.log4j2.config.override].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.log4j2.config.override]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.log4j2.config.override] threw NamingException with message: Name [logging.log4j2.config.override] is not bound in this Context. Unable to find [logging.log4j2.config.override].. Returning null.\r\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.log4j2.config.override[0]]\r\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.log4j2.config.override[0]] not found - trying original name [logging.log4j2.config.override[0]]. javax.naming.NameNotFoundException: Name [logging.log4j2.config.override[0]] is not bound in this Context. Unable to find [logging.log4j2.config.override[0]].\r\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.log4j2.config.override[0]]\r\nservice_container  | [DEBUG] JNDI lookup for name [logging.log4j2.config.override[0]] threw NamingException with message: Name [logging.log4j2.config.override[0]] is not bound in this Context. Unable to find [logging.log4j2.config.override[0]].. Returning null.\r\nservice_container  | \r\nservice_container  |   .   ____          _            __ _ _\r\nservice_container  |  /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\nservice_container  | ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\nservice_container  |  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\nservice_container  |   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\nservice_container  |  =========|_|==============|___/=/_/_/_/\r\nservice_container  |  :: Spring Boot ::               (v2.7.10)\r\nservice_container  | \r\nservice_container  | 2023-09-01 11:51:11 ||org.hibernate.validator.internal.util.Version:21-INFO = HV000001: Hibernate Validator 6.2.5.Final\r\nservice_container  | 2023-09-01 11:51:11 ||com.bose.smart.dnc.ServletInitializer:55-INFO = Starting ServletInitializer v0.0.1 using Java 11.0.14.1 on 3592fcae4721 with PID 1 (/usr/local/tomcat/webapps/ROOT/WEB-INF/classes started by root in /usr/local/tomcat)\r\nservice_container  | 2023-09-01 11:51:11 ||com.bose.smart.dnc.ServletInitializer:637-INFO = The following 1 profile is active: &quot;linux&quot;\r\nservice_container  | 2023-09-01 11:51:13 ||org.springframework.boot.SpringApplication:821-ERROR= Application run failed\r\nservice_container  | java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\r\nservice_container  | \tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193) ~[spring-context-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153) ~[spring-context-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748) ~[spring-context-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174) ~[spring-web-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\r\nservice_container  | \tat java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\nservice_container  | \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:9.0.58]\r\nservice_container  | \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118) ~[?:?]\r\nservice_container  | \tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\nservice_container  | \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:9.0.58]\r\nservice_container  | \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[?:?]\r\nservice_container  | \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.startup.Catalina.start(Catalina.java:772) ~[catalina.jar:9.0.58]\r\nservice_container  | \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\nservice_container  | \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\nservice_container  | \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\nservice_container  | \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\nservice_container  | \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345) ~[bootstrap.jar:9.0.58]\r\nservice_container  | \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476) ~[bootstrap.jar:9.0.58]\r\nservice_container  | Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.bose.smart.dnc.configuration.DependencyConfiguration] from ClassLoader [ParallelWebappClassLoader\r\nservice_container  |   context: ROOT\r\nservice_container  |   delegate: false\r\nservice_container  | ----------&gt; Parent Classloader:\r\nservice_container  | java.net.URLClassLoader@2ef1e4fa\r\nservice_container  | ]\r\nservice_container  | \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361) ~[spring-core-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418) ~[spring-core-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.26.jar:5.3.26]\r\nservice_container  | \tat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[?:?]\r\nservice_container  | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.26.jar:5.3.26]\r\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1684) ~[spring-beans-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:669) ~[spring-beans-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:661) ~[spring-beans-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1302) ~[spring-context-5.3.26.jar:5.3.26]\r\nservice_container  | \tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:864) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:852) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:839) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:779) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97) ~[spring-boot-2.7.10.jar:2.7.10]\r\nservice_container  | \tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174) ~[spring-web-5.3.26.jar:5.3.26]\r\n\r\nservice_container  | \tat java.lang.Class.getDeclaredMethods0(Native Method) ~[?:?]\r\nservice_container  | \tat java.lang.Class.privateGetDeclaredMethods(Class.java:3166) ~[?:?]\r\nservice_container  | \tat java.lang.Class.getDeclaredMethods(Class.java:2309) ~[?:?]\r\nservice_container  | \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.26.jar:5.3.26]\r\nservice_container  | \t... 62 more\r\nservice_container  | 02-Sep-2023 15:07:25.019 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/ROOT.war] has\r\n finished in [9,982] ms\r\nservice_container  | 02-Sep-2023 15:07:25.022 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\nservice_container  | 02-Sep-2023 15:07:25.034 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [10068] milliseconds\r\n\r\n*\r\n```\r\n\r\n\r\nI have already gone through numerous content such as :https://stackoverflow.com/questions/51590215/error-processing-condition-on-org-springframework-boot-autoconfigure-context-pro ,but i am unable to understand the root process as to how i can figure out which 2 dependencies in spring boot are conflicting. \r\n\r\nDockerfile :\r\n```\r\n FROM tomcat:9.0.58-jdk11-openjdk \r\n EXPOSE 8080\r\n RUN rm -rf /usr/local/tomcat/webapps/ \r\n RUN mkdir -p /usr/local/tomcat/sdnc_file/in_temp\r\n RUN mkdir -p /usr/local/tomcat/sdnc_file/out_temp \r\n RUN mkdir -p /usr/local/tomcat/sdnc_file/mapping_sheet   \r\n COPY ./target/sample.war /usr/local/tomcat/webapps/ROOT.war  \r\n CMD [&quot;catalina.sh&quot;,&quot;run&quot;]\r\n```","title":"java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration","body":"<p>I have run springboot application in a docker container with tomcat 9.0.58 and open jdk 11. But when i start the container i am getting as exception as below:</p>\n<pre><code>*service_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.exception-conversion-word]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.exception-conversion-word] not found - trying original name [logging.exception-conversion-word]. javax.naming.NameNotFoundException: Name [logging.exception-conversion-word] is not bound in this Context. Unable to find [logging.exception-conversion-word].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.exception-conversion-word]\nservice_container  | [DEBUG] JNDI lookup for name [logging.exception-conversion-word] threw NamingException with message: Name [logging.exception-conversion-word] is not bound in this Context. Unable to find [logging.exception-conversion-word].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.exception-conversion-word]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.exception-conversion-word] not found - trying original name [logging.exception-conversion-word]. javax.naming.NameNotFoundException: Name [logging.exception-conversion-word] is not bound in this Context. Unable to find [logging.exception-conversion-word].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.exception-conversion-word]\nservice_container  | [DEBUG] JNDI lookup for name [logging.exception-conversion-word] threw NamingException with message: Name [logging.exception-conversion-word] is not bound in this Context. Unable to find [logging.exception-conversion-word].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.console]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.console] not found - trying original name [logging.pattern.console]. javax.naming.NameNotFoundException: Name [logging.pattern.console] is not bound in this Context. Unable to find [logging.pattern.console].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.console]\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.console] threw NamingException with message: Name [logging.pattern.console] is not bound in this Context. Unable to find [logging.pattern.console].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.console]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.console] not found - trying original name [logging.pattern.console]. javax.naming.NameNotFoundException: Name [logging.pattern.console] is not bound in this Context. Unable to find [logging.pattern.console].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.console]\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.console] threw NamingException with message: Name [logging.pattern.console] is not bound in this Context. Unable to find [logging.pattern.console].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.charset.console]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.charset.console] not found - trying original name [logging.charset.console]. javax.naming.NameNotFoundException: Name [logging.charset.console] is not bound in this Context. Unable to find [logging.charset.console].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.charset.console]\nservice_container  | [DEBUG] JNDI lookup for name [logging.charset.console] threw NamingException with message: Name [logging.charset.console] is not bound in this Context. Unable to find [logging.charset.console].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.charset.console]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.charset.console] not found - trying original name [logging.charset.console]. javax.naming.NameNotFoundException: Name [logging.charset.console] is not bound in this Context. Unable to find [logging.charset.console].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.charset.console]\nservice_container  | [DEBUG] JNDI lookup for name [logging.charset.console] threw NamingException with message: Name [logging.charset.console] is not bound in this Context. Unable to find [logging.charset.console].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.dateformat]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.dateformat] not found - trying original name [logging.pattern.dateformat]. javax.naming.NameNotFoundException: Name [logging.pattern.dateformat] is not bound in this Context. Unable to find [logging.pattern.dateformat].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.dateformat]\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.dateformat] threw NamingException with message: Name [logging.pattern.dateformat] is not bound in this Context. Unable to find [logging.pattern.dateformat].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.dateformat]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.dateformat] not found - trying original name [logging.pattern.dateformat]. javax.naming.NameNotFoundException: Name [logging.pattern.dateformat] is not bound in this Context. Unable to find [logging.pattern.dateformat].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.dateformat]\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.dateformat] threw NamingException with message: Name [logging.pattern.dateformat] is not bound in this Context. Unable to find [logging.pattern.dateformat].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.file]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.file] not found - trying original name [logging.pattern.file]. javax.naming.NameNotFoundException: Name [logging.pattern.file] is not bound in this Context. Unable to find [logging.pattern.file].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.file]\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.file] threw NamingException with message: Name [logging.pattern.file] is not bound in this Context. Unable to find [logging.pattern.file].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.file]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.file] not found - trying original name [logging.pattern.file]. javax.naming.NameNotFoundException: Name [logging.pattern.file] is not bound in this Context. Unable to find [logging.pattern.file].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.file]\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.file] threw NamingException with message: Name [logging.pattern.file] is not bound in this Context. Unable to find [logging.pattern.file].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.charset.file]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.charset.file] not found - trying original name [logging.charset.file]. javax.naming.NameNotFoundException: Name [logging.charset.file] is not bound in this Context. Unable to find [logging.charset.file].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.charset.file]\nservice_container  | [DEBUG] JNDI lookup for name [logging.charset.file] threw NamingException with message: Name [logging.charset.file] is not bound in this Context. Unable to find [logging.charset.file].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.charset.file]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.charset.file] not found - trying original name [logging.charset.file]. javax.naming.NameNotFoundException: Name [logging.charset.file] is not bound in this Context. Unable to find [logging.charset.file].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.charset.file]\nservice_container  | [DEBUG] JNDI lookup for name [logging.charset.file] threw NamingException with message: Name [logging.charset.file] is not bound in this Context. Unable to find [logging.charset.file].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.level]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.level] not found - trying original name [logging.pattern.level]. javax.naming.NameNotFoundException: Name [logging.pattern.level] is not bound in this Context. Unable to find [logging.pattern.level].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.level]\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.level] threw NamingException with message: Name [logging.pattern.level] is not bound in this Context. Unable to find [logging.pattern.level].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.pattern.level]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.pattern.level] not found - trying original name [logging.pattern.level]. javax.naming.NameNotFoundException: Name [logging.pattern.level] is not bound in this Context. Unable to find [logging.pattern.level].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.pattern.level]\nservice_container  | [DEBUG] JNDI lookup for name [logging.pattern.level] threw NamingException with message: Name [logging.pattern.level] is not bound in this Context. Unable to find [logging.pattern.level].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.log4j2.config.override]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.log4j2.config.override] not found - trying original name [logging.log4j2.config.override]. javax.naming.NameNotFoundException: Name [logging.log4j2.config.override] is not bound in this Context. Unable to find [logging.log4j2.config.override].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.log4j2.config.override]\nservice_container  | [DEBUG] JNDI lookup for name [logging.log4j2.config.override] threw NamingException with message: Name [logging.log4j2.config.override] is not bound in this Context. Unable to find [logging.log4j2.config.override].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.log4j2.config.override]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.log4j2.config.override] not found - trying original name [logging.log4j2.config.override]. javax.naming.NameNotFoundException: Name [logging.log4j2.config.override] is not bound in this Context. Unable to find [logging.log4j2.config.override].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.log4j2.config.override]\nservice_container  | [DEBUG] JNDI lookup for name [logging.log4j2.config.override] threw NamingException with message: Name [logging.log4j2.config.override] is not bound in this Context. Unable to find [logging.log4j2.config.override].. Returning null.\nservice_container  | [DEBUG] Looking up JNDI object with name [java:comp/env/logging.log4j2.config.override[0]]\nservice_container  | [DEBUG] Converted JNDI name [java:comp/env/logging.log4j2.config.override[0]] not found - trying original name [logging.log4j2.config.override[0]]. javax.naming.NameNotFoundException: Name [logging.log4j2.config.override[0]] is not bound in this Context. Unable to find [logging.log4j2.config.override[0]].\nservice_container  | [DEBUG] Looking up JNDI object with name [logging.log4j2.config.override[0]]\nservice_container  | [DEBUG] JNDI lookup for name [logging.log4j2.config.override[0]] threw NamingException with message: Name [logging.log4j2.config.override[0]] is not bound in this Context. Unable to find [logging.log4j2.config.override[0]].. Returning null.\nservice_container  | \nservice_container  |   .   ____          _            __ _ _\nservice_container  |  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\nservice_container  | ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\nservice_container  |  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\nservice_container  |   '  |____| .__|_| |_|_| |_\\__, | / / / /\nservice_container  |  =========|_|==============|___/=/_/_/_/\nservice_container  |  :: Spring Boot ::               (v2.7.10)\nservice_container  | \nservice_container  | 2023-09-01 11:51:11 ||org.hibernate.validator.internal.util.Version:21-INFO = HV000001: Hibernate Validator 6.2.5.Final\nservice_container  | 2023-09-01 11:51:11 ||com.bose.smart.dnc.ServletInitializer:55-INFO = Starting ServletInitializer v0.0.1 using Java 11.0.14.1 on 3592fcae4721 with PID 1 (/usr/local/tomcat/webapps/ROOT/WEB-INF/classes started by root in /usr/local/tomcat)\nservice_container  | 2023-09-01 11:51:11 ||com.bose.smart.dnc.ServletInitializer:637-INFO = The following 1 profile is active: &quot;linux&quot;\nservice_container  | 2023-09-01 11:51:13 ||org.springframework.boot.SpringApplication:821-ERROR= Application run failed\nservice_container  | java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\nservice_container  |    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193) ~[spring-context-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153) ~[spring-context-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748) ~[spring-context-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174) ~[spring-web-5.3.26.jar:5.3.26]\nservice_container  |    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911) ~[catalina.jar:9.0.58]\nservice_container  |    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\nservice_container  |    at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\nservice_container  |    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:9.0.58]\nservice_container  |    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118) ~[?:?]\nservice_container  |    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[catalina.jar:9.0.58]\nservice_container  |    at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\nservice_container  |    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:9.0.58]\nservice_container  |    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[?:?]\nservice_container  |    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.58]\nservice_container  |    at org.apache.catalina.startup.Catalina.start(Catalina.java:772) ~[catalina.jar:9.0.58]\nservice_container  |    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\nservice_container  |    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\nservice_container  |    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\nservice_container  |    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\nservice_container  |    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345) ~[bootstrap.jar:9.0.58]\nservice_container  |    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476) ~[bootstrap.jar:9.0.58]\nservice_container  | Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.bose.smart.dnc.configuration.DependencyConfiguration] from ClassLoader [ParallelWebappClassLoader\nservice_container  |   context: ROOT\nservice_container  |   delegate: false\nservice_container  | ----------&gt; Parent Classloader:\nservice_container  | java.net.URLClassLoader@2ef1e4fa\nservice_container  | ]\nservice_container  |    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361) ~[spring-core-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418) ~[spring-core-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.26.jar:5.3.26]\nservice_container  |    at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[?:?]\nservice_container  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.26.jar:5.3.26]\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1684) ~[spring-beans-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:669) ~[spring-beans-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:661) ~[spring-beans-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1302) ~[spring-context-5.3.26.jar:5.3.26]\nservice_container  |    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:864) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:852) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:839) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:779) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97) ~[spring-boot-2.7.10.jar:2.7.10]\nservice_container  |    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174) ~[spring-web-5.3.26.jar:5.3.26]\n\nservice_container  |    at java.lang.Class.getDeclaredMethods0(Native Method) ~[?:?]\nservice_container  |    at java.lang.Class.privateGetDeclaredMethods(Class.java:3166) ~[?:?]\nservice_container  |    at java.lang.Class.getDeclaredMethods(Class.java:2309) ~[?:?]\nservice_container  |    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.26.jar:5.3.26]\nservice_container  |    ... 62 more\nservice_container  | 02-Sep-2023 15:07:25.019 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/ROOT.war] has\n finished in [9,982] ms\nservice_container  | 02-Sep-2023 15:07:25.022 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\nservice_container  | 02-Sep-2023 15:07:25.034 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [10068] milliseconds\n\n*\n</code></pre>\n<p>I have already gone through numerous content such as :<a href=\"https://stackoverflow.com/questions/51590215/error-processing-condition-on-org-springframework-boot-autoconfigure-context-pro\">Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration</a> ,but i am unable to understand the root process as to how i can figure out which 2 dependencies in spring boot are conflicting.</p>\n<p>Dockerfile :</p>\n<pre><code> FROM tomcat:9.0.58-jdk11-openjdk \n EXPOSE 8080\n RUN rm -rf /usr/local/tomcat/webapps/ \n RUN mkdir -p /usr/local/tomcat/sdnc_file/in_temp\n RUN mkdir -p /usr/local/tomcat/sdnc_file/out_temp \n RUN mkdir -p /usr/local/tomcat/sdnc_file/mapping_sheet   \n COPY ./target/sample.war /usr/local/tomcat/webapps/ROOT.war  \n CMD [&quot;catalina.sh&quot;,&quot;run&quot;]\n</code></pre>\n"},{"tags":["java","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":2538296,"reputation":2849,"user_id":2312605,"accept_rate":37,"display_name":"Ashish Ratan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694101963,"creation_date":1694101963,"answer_id":77061128,"question_id":48513169,"body_markdown":"**Limitations of table-valued parameters**\r\n\r\nThere are several limitations to table-valued parameters:\r\n\r\n 1. You can&#39;t pass table-valued parameters to user defined functions.\r\n 2. Table-valued parameters can only be indexed to support UNIQUE or PRIMARY KEY constraints. SQL Server doesn&#39;t maintain statistics on table-valued parameters.\r\n 3. Table-valued parameters are read-only in Transact-SQL code. You\r\n    can&#39;t update the column values in the rows of a table-valued\r\n    parameter and you can&#39;t insert or delete rows. To modify the data\r\n    that is passed to a stored procedure or parameterized statement in\r\n    table-valued parameter, you must insert the data into a temporary\r\n    table or into a table variable.\r\n\r\n   4 -You can&#39;t use ALTER TABLE statements to modify the design of\r\n    table-valued parameters.\r\n    \r\n   5- You can stream large objects in a table-valued parameter.\r\n\r\n\r\nSource: [Microsoft Website][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/connect/jdbc/using-table-valued-parameters?view=sql-server-ver16#limitations-of-table-valued-parameters","title":"declaredParameters versus addDeclaredParameter SimpleJdbcCall","body":"<p><strong>Limitations of table-valued parameters</strong></p>\n<p>There are several limitations to table-valued parameters:</p>\n<ol>\n<li>You can't pass table-valued parameters to user defined functions.</li>\n<li>Table-valued parameters can only be indexed to support UNIQUE or PRIMARY KEY constraints. SQL Server doesn't maintain statistics on table-valued parameters.</li>\n<li>Table-valued parameters are read-only in Transact-SQL code. You\ncan't update the column values in the rows of a table-valued\nparameter and you can't insert or delete rows. To modify the data\nthat is passed to a stored procedure or parameterized statement in\ntable-valued parameter, you must insert the data into a temporary\ntable or into a table variable.</li>\n</ol>\n<p>4 -You can't use ALTER TABLE statements to modify the design of\ntable-valued parameters.</p>\n<p>5- You can stream large objects in a table-valued parameter.</p>\n<p>Source: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-table-valued-parameters?view=sql-server-ver16#limitations-of-table-valued-parameters\" rel=\"nofollow noreferrer\">Microsoft Website</a></p>\n"}],"owner":{"account_id":1370422,"reputation":85,"user_id":1305786,"accept_rate":78,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694101963,"creation_date":1517280758,"question_id":48513169,"body_markdown":"So I&#39;m working with an Oracle database and a function as opposed to a stored procedure. I figured this was no big deal and carried on as I had with all my previous DAO&#39;s created for the stored procedures. This did not work. The difference is demonstrated below.\r\n\r\nHere&#39;s the function setup that works fine:\r\n\r\n    public void setDataSource(DataSource dataSource) {\r\n\t\tthis.findClassYear = new SimpleJdbcCall(dataSource)\r\n\t\t\t\t\t\t\t\t.withSchemaName(&quot;CONNMAN&quot;)\r\n\t\t\t\t\t\t\t\t.withFunctionName(&quot;F_CC_GET_STUCLASS&quot;)\r\n\t\t\t\t\t\t\t\t.declareParameters(\r\n\t\t\t\t\t\t\t\t\t\tnew SqlOutParameter(&quot;p_classout&quot;, Types.VARCHAR),\r\n\t\t\t\t\t\t\t\t\t\tnew SqlParameter(&quot;p_pidm&quot;, Types.NUMERIC)\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.withoutProcedureColumnMetaDataAccess();\r\n\t\t\r\n\t\tthis.findClassYear.setAccessCallParameterMetaData(false);\r\n\t\tthis.findClassYear.setFunction(true);\r\n\t}\r\n\r\nversus the setup—akin to that of what I would have used for a stored procedure—that doesn&#39;t work:\r\n\r\n\tpublic void setDataSource(DataSource dataSource) {\r\n\t\tthis.findClassYear = new SimpleJdbcCall(dataSource)\r\n\t\t\t\t\t\t\t\t.withSchemaName(&quot;CONNMAN&quot;)\r\n\t\t\t\t\t\t\t\t.withFunctionName(&quot;F_CC_GET_STUCLASS&quot;);\r\n\t\t\r\n\t\tthis.findClassYear.setAccessCallParameterMetaData(false);\r\n\t\tthis.findClassYear.setFunction(true);\r\n\t\t\r\n\t\t//in parameters\r\n\t\tthis.findClassYear.addDeclaredParameter(new SqlParameter(&quot;p_pidm&quot;, Types.NUMERIC));\r\n\t\t\r\n\t\t//out parameters\r\n\t\tthis.findClassYear.addDeclaredParameter(new SqlOutParameter(&quot;p_classout&quot;, Types.VARCHAR));\r\n\t}\r\n\r\nBoth would execute fine in a JUnit test but only the first produces a real result. Why can&#39;t I use dynamically declared parameters for a function and/or is that the only thing responsible for this change? What else am I missing if anything?","title":"declaredParameters versus addDeclaredParameter SimpleJdbcCall","body":"<p>So I'm working with an Oracle database and a function as opposed to a stored procedure. I figured this was no big deal and carried on as I had with all my previous DAO's created for the stored procedures. This did not work. The difference is demonstrated below.</p>\n\n<p>Here's the function setup that works fine:</p>\n\n<pre><code>public void setDataSource(DataSource dataSource) {\n    this.findClassYear = new SimpleJdbcCall(dataSource)\n                            .withSchemaName(\"CONNMAN\")\n                            .withFunctionName(\"F_CC_GET_STUCLASS\")\n                            .declareParameters(\n                                    new SqlOutParameter(\"p_classout\", Types.VARCHAR),\n                                    new SqlParameter(\"p_pidm\", Types.NUMERIC)\n                            )\n                            .withoutProcedureColumnMetaDataAccess();\n\n    this.findClassYear.setAccessCallParameterMetaData(false);\n    this.findClassYear.setFunction(true);\n}\n</code></pre>\n\n<p>versus the setup—akin to that of what I would have used for a stored procedure—that doesn't work:</p>\n\n<pre><code>public void setDataSource(DataSource dataSource) {\n    this.findClassYear = new SimpleJdbcCall(dataSource)\n                            .withSchemaName(\"CONNMAN\")\n                            .withFunctionName(\"F_CC_GET_STUCLASS\");\n\n    this.findClassYear.setAccessCallParameterMetaData(false);\n    this.findClassYear.setFunction(true);\n\n    //in parameters\n    this.findClassYear.addDeclaredParameter(new SqlParameter(\"p_pidm\", Types.NUMERIC));\n\n    //out parameters\n    this.findClassYear.addDeclaredParameter(new SqlOutParameter(\"p_classout\", Types.VARCHAR));\n}\n</code></pre>\n\n<p>Both would execute fine in a JUnit test but only the first produces a real result. Why can't I use dynamically declared parameters for a function and/or is that the only thing responsible for this change? What else am I missing if anything?</p>\n"},{"tags":["java","antlr","antlr4","text-parsing"],"comments":[{"owner":{"account_id":50123,"reputation":365443,"user_id":149392,"display_name":"sepp2k"},"score":2,"creation_date":1693959729,"post_id":77048120,"comment_id":135827538,"body_markdown":"Don&#39;t try to distinguish between types at parse time. Just parse function calls as function calls regardless of type and then let the type checker figure out the types later.","body":"Don&#39;t try to distinguish between types at parse time. Just parse function calls as function calls regardless of type and then let the type checker figure out the types later."},{"owner":{"account_id":12389623,"reputation":11,"user_id":9032051,"display_name":"Daniel Strausz"},"score":0,"creation_date":1693961899,"post_id":77048120,"comment_id":135827760,"body_markdown":"How would I handle incorrect functions like `IFNA(number, string)` then?","body":"How would I handle incorrect functions like <code>IFNA(number, string)</code> then?"},{"owner":{"account_id":50123,"reputation":365443,"user_id":149392,"display_name":"sepp2k"},"score":1,"creation_date":1693965265,"post_id":77048120,"comment_id":135828070,"body_markdown":"You parse it as a function call with a number constant and a string constant as arguments and then you reject it in the type checker.","body":"You parse it as a function call with a number constant and a string constant as arguments and then you reject it in the type checker."}],"answers":[{"tags":[],"owner":{"account_id":12389623,"reputation":11,"user_id":9032051,"display_name":"Daniel Strausz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694101757,"creation_date":1694101757,"answer_id":77061100,"question_id":77048120,"body_markdown":"I fixed this by resolving ambiguity at the lexical level by adding column tokens based on type. Then I built a custom lexer where I changed the type of the token based on the type of the reference in the `checkType()` action. \r\n\r\nWith this approach when it&#39;s time to parse the input, tokens are already typed so parser can go into the correct function.\r\n\r\n**Grammar**\r\n```\r\ngrammar ExcelLikeFunctionsGrammar;\r\n\r\n@lexer::members {\r\n    protected void checkType(String text) {}\r\n}\r\n\r\nexpression : number | string;\r\n\r\nnumber_function:\r\n    IFNA LEFT_PAREN number COMMA number RIGHT_PAREN |\r\n    ... other functions;\r\n\r\nstring_function:\r\n    IFNA LEFT_PAREN string COMMA string RIGHT_PAREN |\r\n    ... other functions;\r\n\r\n\r\nnumber : NUMBER_CONSTANT | number_function | number_column ;\r\nstring : STRING_CONSTANT | string_function | string_column ;\r\n\r\n\r\nnumber_column: NUMBER_COLUMN;\r\nstring_column: STRING_COLUMN;\r\n\r\n// lexer\r\nALPHANUMERIC : (LOWERCASE | UPPERCASE | DIGIT | UNDERSCORE) (LETTER | &#39; &#39;)* (LOWERCASE | UPPERCASE | DIGIT | UNDERSCORE) {checkType(getText());} ;\r\nNUMBER_COLUMN : ALPHANUMERIC ;\r\nSTRING_COLUMN : ALPHANUMERIC ;\r\n```\r\n**Custom Lexer**\r\n\r\n```\r\npublic class ExcelLikeFunctionsGrammarCustomLexer extends ExcelLikeFunctionsGrammarLexer {\r\n    private final ReferenceContext referenceContext;\r\n\r\n    public ExcelLikeFunctionsGrammarCustomLexer(CharStream input, ReferenceContext referenceContext) {\r\n        super(input);\r\n        this.referenceContext = referenceContext;\r\n    }\r\n\r\n    @Override\r\n    protected void checkType(String text) {\r\n        final var column = referenceContext.getCurrentSchema().getColumns().stream().filter(c -&gt; c.getName().equals(text)).toList();\r\n        if (!column.isEmpty()) {\r\n            switch (column.get(0).getType()) {\r\n                case DECIMAL, BIGINT -&gt; setType(ExcelLikeFunctionsGrammarParser.NUMBER_COLUMN);\r\n                case STRING -&gt; setType(ExcelLikeFunctionsGrammarParser.STRING_COLUMN);\r\n                case BOOLEAN -&gt; setType(ExcelLikeFunctionsGrammarParser.LOGICAL_COLUMN);\r\n                case DATETIME -&gt; setType(ExcelLikeFunctionsGrammarParser.DATE_COLUMN);\r\n                default -&gt; setType(ExcelLikeFunctionsGrammarParser.ALPHANUMERIC);\r\n            }\r\n        } else {\r\n            setType(ExcelLikeFunctionsGrammarParser.ALPHANUMERIC);\r\n        }\r\n    }\r\n}\r\n```","title":"ANTLR4 parsing overloading based on the type of parameters","body":"<p>I fixed this by resolving ambiguity at the lexical level by adding column tokens based on type. Then I built a custom lexer where I changed the type of the token based on the type of the reference in the <code>checkType()</code> action.</p>\n<p>With this approach when it's time to parse the input, tokens are already typed so parser can go into the correct function.</p>\n<p><strong>Grammar</strong></p>\n<pre><code>grammar ExcelLikeFunctionsGrammar;\n\n@lexer::members {\n    protected void checkType(String text) {}\n}\n\nexpression : number | string;\n\nnumber_function:\n    IFNA LEFT_PAREN number COMMA number RIGHT_PAREN |\n    ... other functions;\n\nstring_function:\n    IFNA LEFT_PAREN string COMMA string RIGHT_PAREN |\n    ... other functions;\n\n\nnumber : NUMBER_CONSTANT | number_function | number_column ;\nstring : STRING_CONSTANT | string_function | string_column ;\n\n\nnumber_column: NUMBER_COLUMN;\nstring_column: STRING_COLUMN;\n\n// lexer\nALPHANUMERIC : (LOWERCASE | UPPERCASE | DIGIT | UNDERSCORE) (LETTER | ' ')* (LOWERCASE | UPPERCASE | DIGIT | UNDERSCORE) {checkType(getText());} ;\nNUMBER_COLUMN : ALPHANUMERIC ;\nSTRING_COLUMN : ALPHANUMERIC ;\n</code></pre>\n<p><strong>Custom Lexer</strong></p>\n<pre><code>public class ExcelLikeFunctionsGrammarCustomLexer extends ExcelLikeFunctionsGrammarLexer {\n    private final ReferenceContext referenceContext;\n\n    public ExcelLikeFunctionsGrammarCustomLexer(CharStream input, ReferenceContext referenceContext) {\n        super(input);\n        this.referenceContext = referenceContext;\n    }\n\n    @Override\n    protected void checkType(String text) {\n        final var column = referenceContext.getCurrentSchema().getColumns().stream().filter(c -&gt; c.getName().equals(text)).toList();\n        if (!column.isEmpty()) {\n            switch (column.get(0).getType()) {\n                case DECIMAL, BIGINT -&gt; setType(ExcelLikeFunctionsGrammarParser.NUMBER_COLUMN);\n                case STRING -&gt; setType(ExcelLikeFunctionsGrammarParser.STRING_COLUMN);\n                case BOOLEAN -&gt; setType(ExcelLikeFunctionsGrammarParser.LOGICAL_COLUMN);\n                case DATETIME -&gt; setType(ExcelLikeFunctionsGrammarParser.DATE_COLUMN);\n                default -&gt; setType(ExcelLikeFunctionsGrammarParser.ALPHANUMERIC);\n            }\n        } else {\n            setType(ExcelLikeFunctionsGrammarParser.ALPHANUMERIC);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12389623,"reputation":11,"user_id":9032051,"display_name":"Daniel Strausz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694101757,"creation_date":1693953953,"question_id":77048120,"body_markdown":"I have a parser for Excel functions that should handle function overloading based on the type of the parameters. Problem is that that number and string column types are based on external context so parser needs to select adequate function based on the context of those columns, for example:\r\n\r\n```\r\ninput expression: IFNA(123, 234) -&gt; correctly parsed as number_function\r\ninput expression: IFNA(&quot;foo&quot;, &quot;bar&quot;) -&gt; correctly parsed as string_function\r\n```\r\nbut when using columns we have issues\r\n```\r\ncolumnsContext = {\r\n   column1: Type.String\r\n   column2: Type.String\r\n}\r\n\r\n\r\ninput expression: IFNA(column1, column2)\r\n```\r\n\r\nAbove should be parsed as a string function based on the column types but is recognized as number function since it was declared first in the grammar.\r\n\r\n**Grammar:**\r\n\r\n```\r\ngrammar ExcelLikeFunctionsGrammar;\r\n\r\n\r\nexpression : number | string;\r\n\r\nnumber_function:\r\n    IFNA LEFT_PAREN number COMMA number RIGHT_PAREN |\r\n    ... other functions;\r\n\r\nstring_function:\r\n    IFNA LEFT_PAREN string COMMA string RIGHT_PAREN |\r\n    ... other functions;\r\n\r\n\r\nnumber : NUMBER_CONSTANT | number_function | number_column ;\r\nstring : STRING_CONSTANT | string_function | string_column ;\r\n\r\n\r\nnumber_column: ALPHANUMERIC;\r\nstring_column: ALPHANUMERIC;\r\n```\r\n\r\n\r\nI tried to handle that with semantic predicates and adding logic in custom parser but it throws `noViableAlt` exception when it goes to `isNumber()` since parser already recognized `IFNA` as a number function but columns are of string type so predicate returns `false`\r\n\r\n**Grammar:**\r\n```\r\ngrammar ExcelLikeFunctionsGrammar;\r\n// this get override in the CustomParser\r\n    @members {\r\n        protected boolean isNumber() {\r\n            return true;\r\n        }\r\n        protected boolean isString() {\r\n            return true;\r\n        }\r\n    }\r\n\r\nexpression : number | string;\r\n\r\nnumber_function:\r\n    IFNA LEFT_PAREN number COMMA number RIGHT_PAREN |\r\n    ... other functions;\r\n\r\nstring_function:\r\n    IFNA LEFT_PAREN string COMMA string RIGHT_PAREN |\r\n    ... other functions;\r\n\r\n\r\nnumber : NUMBER_CONSTANT | number_function | {isNumber()}? number_column ;\r\nstring : STRING_CONSTANT | string_function | {isString()}? string_column ;\r\n\r\n\r\nnumber_column: ALPHANUMERIC;\r\nstring_column: ALPHANUMERIC;\r\n```\r\n\r\n**Parser:**\r\n\r\n```\r\npublic class ExcelLikeFunctionsGrammarCustomParser extends ExcelLikeFunctionsGrammarParser {\r\n    private final ReferenceContext referenceContext;\r\n\r\n    public ExcelLikeFunctionsGrammarCustomParser(TokenStream input, ReferenceContext referenceContext) {\r\n        super(input);\r\n        this.referenceContext = referenceContext;\r\n    }\r\n\r\n    @Override\r\n    protected final boolean isNumber() {\r\n        return checkColumnTokenType(TableColumnType.DECIMAL);\r\n    }\r\n\r\n    @Override\r\n    protected final boolean isString() {\r\n        return checkColumnTokenType(TableColumnType.STRING);\r\n    }\r\n\r\n    private boolean checkColumnTokenType(TableColumnType columnType) {\r\n        return checkTypeLogic(...);\r\n}\r\n\r\n```\r\n","title":"ANTLR4 parsing overloading based on the type of parameters","body":"<p>I have a parser for Excel functions that should handle function overloading based on the type of the parameters. Problem is that that number and string column types are based on external context so parser needs to select adequate function based on the context of those columns, for example:</p>\n<pre><code>input expression: IFNA(123, 234) -&gt; correctly parsed as number_function\ninput expression: IFNA(&quot;foo&quot;, &quot;bar&quot;) -&gt; correctly parsed as string_function\n</code></pre>\n<p>but when using columns we have issues</p>\n<pre><code>columnsContext = {\n   column1: Type.String\n   column2: Type.String\n}\n\n\ninput expression: IFNA(column1, column2)\n</code></pre>\n<p>Above should be parsed as a string function based on the column types but is recognized as number function since it was declared first in the grammar.</p>\n<p><strong>Grammar:</strong></p>\n<pre><code>grammar ExcelLikeFunctionsGrammar;\n\n\nexpression : number | string;\n\nnumber_function:\n    IFNA LEFT_PAREN number COMMA number RIGHT_PAREN |\n    ... other functions;\n\nstring_function:\n    IFNA LEFT_PAREN string COMMA string RIGHT_PAREN |\n    ... other functions;\n\n\nnumber : NUMBER_CONSTANT | number_function | number_column ;\nstring : STRING_CONSTANT | string_function | string_column ;\n\n\nnumber_column: ALPHANUMERIC;\nstring_column: ALPHANUMERIC;\n</code></pre>\n<p>I tried to handle that with semantic predicates and adding logic in custom parser but it throws <code>noViableAlt</code> exception when it goes to <code>isNumber()</code> since parser already recognized <code>IFNA</code> as a number function but columns are of string type so predicate returns <code>false</code></p>\n<p><strong>Grammar:</strong></p>\n<pre><code>grammar ExcelLikeFunctionsGrammar;\n// this get override in the CustomParser\n    @members {\n        protected boolean isNumber() {\n            return true;\n        }\n        protected boolean isString() {\n            return true;\n        }\n    }\n\nexpression : number | string;\n\nnumber_function:\n    IFNA LEFT_PAREN number COMMA number RIGHT_PAREN |\n    ... other functions;\n\nstring_function:\n    IFNA LEFT_PAREN string COMMA string RIGHT_PAREN |\n    ... other functions;\n\n\nnumber : NUMBER_CONSTANT | number_function | {isNumber()}? number_column ;\nstring : STRING_CONSTANT | string_function | {isString()}? string_column ;\n\n\nnumber_column: ALPHANUMERIC;\nstring_column: ALPHANUMERIC;\n</code></pre>\n<p><strong>Parser:</strong></p>\n<pre><code>public class ExcelLikeFunctionsGrammarCustomParser extends ExcelLikeFunctionsGrammarParser {\n    private final ReferenceContext referenceContext;\n\n    public ExcelLikeFunctionsGrammarCustomParser(TokenStream input, ReferenceContext referenceContext) {\n        super(input);\n        this.referenceContext = referenceContext;\n    }\n\n    @Override\n    protected final boolean isNumber() {\n        return checkColumnTokenType(TableColumnType.DECIMAL);\n    }\n\n    @Override\n    protected final boolean isString() {\n        return checkColumnTokenType(TableColumnType.STRING);\n    }\n\n    private boolean checkColumnTokenType(TableColumnType columnType) {\n        return checkTypeLogic(...);\n}\n\n</code></pre>\n"},{"tags":["java","reflection","methodhandle"],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694100528,"creation_date":1694100528,"answer_id":77060967,"question_id":77060436,"body_markdown":"`invokeExact` really means that the static type of the argument must match the type of the MethodHandle exactly. `Foo` and `FooImpl` are not the same type. See also [the doc of `invokeExact`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandle.html#invokeExact(java.lang.Object...)):\r\n\r\n&gt;  The symbolic type descriptor at the call site of invokeExact must\r\n&gt; exactly match this method handle&#39;s type. No conversions are allowed on\r\n&gt; arguments or return values.\r\n\r\nThe symbolic descriptor for `invokeExact` is derived from the static types of the arguments and return value at the call site. In your case that is `(Foo)CompletableFuture`, taking 1 argument of type `Foo` and returning `CompletableFuture` (you could also inspect the type descriptor using `javap` to disassemble the class file). See also the doc section on Signature Polymorphism: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandle.html#sigpoly\r\n\r\n`invoke` automatically applies the type conversion from `Foo` to `FooImpl`, so that works.\r\n\r\nIf you&#39;re only invoking the MethodHandle once using `invoke` is fine. If you plan on invoking it many times you could erase the type of the receiver to `Foo` to avoid the type conversion:\r\n\r\n    //filter out the only method with the name &quot;bar&quot;\r\n    Method barMethod = foo.getClass().getDeclaredMethods().…;\r\n    MethodHandle methodHandle = MethodHandles.lookup().unreflect(barMethod);\r\n    methodHandle = methodHandle.asType(methodHandle.type().changeParameterType(0, Foo.class));\r\n    CompletableFuture&lt;?&gt; result = (CompletableFuture&lt;?&gt;)methodHandle.invokeExact(foo);","title":"WrongMethodTypeException with MethodHandle.invokeExact() but no arguments and return type is same","body":"<p><code>invokeExact</code> really means that the static type of the argument must match the type of the MethodHandle exactly. <code>Foo</code> and <code>FooImpl</code> are not the same type. See also <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandle.html#invokeExact(java.lang.Object...)\" rel=\"nofollow noreferrer\">the doc of <code>invokeExact</code></a>:</p>\n<blockquote>\n<p>The symbolic type descriptor at the call site of invokeExact must\nexactly match this method handle's type. No conversions are allowed on\narguments or return values.</p>\n</blockquote>\n<p>The symbolic descriptor for <code>invokeExact</code> is derived from the static types of the arguments and return value at the call site. In your case that is <code>(Foo)CompletableFuture</code>, taking 1 argument of type <code>Foo</code> and returning <code>CompletableFuture</code> (you could also inspect the type descriptor using <code>javap</code> to disassemble the class file). See also the doc section on Signature Polymorphism: <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandle.html#sigpoly\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandle.html#sigpoly</a></p>\n<p><code>invoke</code> automatically applies the type conversion from <code>Foo</code> to <code>FooImpl</code>, so that works.</p>\n<p>If you're only invoking the MethodHandle once using <code>invoke</code> is fine. If you plan on invoking it many times you could erase the type of the receiver to <code>Foo</code> to avoid the type conversion:</p>\n<pre><code>//filter out the only method with the name &quot;bar&quot;\nMethod barMethod = foo.getClass().getDeclaredMethods().…;\nMethodHandle methodHandle = MethodHandles.lookup().unreflect(barMethod);\nmethodHandle = methodHandle.asType(methodHandle.type().changeParameterType(0, Foo.class));\nCompletableFuture&lt;?&gt; result = (CompletableFuture&lt;?&gt;)methodHandle.invokeExact(foo);\n</code></pre>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694100528,"creation_date":1694096354,"question_id":77060436,"body_markdown":"I&#39;m using Java 17 on AWS Lambda. I have an interface `Foo` with a method `bar()`, returning a `CompletableFuture&lt;Map&lt;Bar, Long&gt;&gt;`:\r\n\r\n```java\r\npublic interface Foo {\r\n  public CompletableFuture&lt;Map&lt;Bar, Long&gt;&gt; bar();\r\n}\r\n```\r\n\r\nIn the `MyProcessor` class, I have an instance reference to an implemention of `Foo` which is `FooImpl`:\r\n\r\n```java\r\nclass MyProcessor {\r\n\r\n  private final Foo foo;\r\n\r\n  MyProcessor() {\r\n    foo = goGetFooImpl();\r\n  }\r\n\r\n  void doSomething() {\r\n    …\r\n  }\r\n\r\n}\r\n```\r\n\r\nFinally in `MyProcessor.doSomething()`, I look up the `Foo.bar()` method and try to invoke it using a method handle (leaving out exception handling for clarity):\r\n\r\n```java\r\n  //filter out the only method with the name &quot;bar&quot;\r\n  Method barMethod = foo.getClass().getDeclaredMethods().…;\r\n  MethodHandle = MethodHandles.lookup().unreflect(barMethod);\r\n  CompletableFuture&lt;?&gt; result = (CompletableFuture&lt;?&gt;)methodHandle.invokeExact(foo);\r\n```\r\n\r\nThe error message is odd:\r\n\r\n&gt; `java.lang.invoke.WrongMethodTypeException: expected (FooImpl)CompletableFuture but found (Foo)CompletableFuture`\r\n\r\nI realize with `MethodHandle.invokeExact()` that the arguments and return type must be exact. In this case there are no arguments. And it is my understanding that the generic type of `CompletableFuture` is erased at runtime; thus in this case the concrete return type is the same. So what is the problem?\r\n\r\nWhat does the error message mean when it mentions `(Fooimpl)` and `(Foo)`? How does the type of the target impact the type of `CompletableFuture`?\r\n\r\nI realize that the `bar()` method is declared on `Foo`, but looked up that method on the class of an instance of `FooImpl`. But why would that be a problem? From the documentation I had understood that `MethodHandle.invokeExact()` works on virtual methods.\r\n\r\nI can call `methodHandle.invoke(foo)` here and it works fine, but not `methodHandle.invokeExact(foo)`. What is not &quot;exact&quot; about what I&#39;m doing? Does anyone know what the error message means?\r\n\r\nI found https://stackoverflow.com/q/67445901 which appears to be related, but I&#39;m still not getting it. A `CompletableFuture` is a `CompletableFuture`. Since when is there such things as `(Foo)CompletableFuture` and `(FooImpl)CompletableFuture` and why would they be different?","title":"WrongMethodTypeException with MethodHandle.invokeExact() but no arguments and return type is same","body":"<p>I'm using Java 17 on AWS Lambda. I have an interface <code>Foo</code> with a method <code>bar()</code>, returning a <code>CompletableFuture&lt;Map&lt;Bar, Long&gt;&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Foo {\n  public CompletableFuture&lt;Map&lt;Bar, Long&gt;&gt; bar();\n}\n</code></pre>\n<p>In the <code>MyProcessor</code> class, I have an instance reference to an implemention of <code>Foo</code> which is <code>FooImpl</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyProcessor {\n\n  private final Foo foo;\n\n  MyProcessor() {\n    foo = goGetFooImpl();\n  }\n\n  void doSomething() {\n    …\n  }\n\n}\n</code></pre>\n<p>Finally in <code>MyProcessor.doSomething()</code>, I look up the <code>Foo.bar()</code> method and try to invoke it using a method handle (leaving out exception handling for clarity):</p>\n<pre class=\"lang-java prettyprint-override\"><code>  //filter out the only method with the name &quot;bar&quot;\n  Method barMethod = foo.getClass().getDeclaredMethods().…;\n  MethodHandle = MethodHandles.lookup().unreflect(barMethod);\n  CompletableFuture&lt;?&gt; result = (CompletableFuture&lt;?&gt;)methodHandle.invokeExact(foo);\n</code></pre>\n<p>The error message is odd:</p>\n<blockquote>\n<p><code>java.lang.invoke.WrongMethodTypeException: expected (FooImpl)CompletableFuture but found (Foo)CompletableFuture</code></p>\n</blockquote>\n<p>I realize with <code>MethodHandle.invokeExact()</code> that the arguments and return type must be exact. In this case there are no arguments. And it is my understanding that the generic type of <code>CompletableFuture</code> is erased at runtime; thus in this case the concrete return type is the same. So what is the problem?</p>\n<p>What does the error message mean when it mentions <code>(Fooimpl)</code> and <code>(Foo)</code>? How does the type of the target impact the type of <code>CompletableFuture</code>?</p>\n<p>I realize that the <code>bar()</code> method is declared on <code>Foo</code>, but looked up that method on the class of an instance of <code>FooImpl</code>. But why would that be a problem? From the documentation I had understood that <code>MethodHandle.invokeExact()</code> works on virtual methods.</p>\n<p>I can call <code>methodHandle.invoke(foo)</code> here and it works fine, but not <code>methodHandle.invokeExact(foo)</code>. What is not &quot;exact&quot; about what I'm doing? Does anyone know what the error message means?</p>\n<p>I found <a href=\"https://stackoverflow.com/q/67445901\">MethodHandle cast return type</a> which appears to be related, but I'm still not getting it. A <code>CompletableFuture</code> is a <code>CompletableFuture</code>. Since when is there such things as <code>(Foo)CompletableFuture</code> and <code>(FooImpl)CompletableFuture</code> and why would they be different?</p>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":12633,"reputation":96253,"user_id":24995,"accept_rate":67,"display_name":"Dave Markle"},"score":1,"creation_date":1278934459,"post_id":3228075,"comment_id":3331656,"body_markdown":"How do you know for sure the data structure is 12MB?","body":"How do you know for sure the data structure is 12MB?"},{"owner":{"account_id":84769,"reputation":18303,"user_id":236743,"accept_rate":69,"display_name":"Dori"},"score":0,"creation_date":1278934585,"post_id":3228075,"comment_id":3331665,"body_markdown":"Just by writing a small test class","body":"Just by writing a small test class"}],"answers":[{"tags":[],"owner":{"account_id":113493,"reputation":1363,"user_id":298885,"accept_rate":40,"display_name":"sandris"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1278934549,"creation_date":1278934549,"answer_id":3228106,"question_id":3228075,"body_markdown":"You could use a prefix tree or trie: http://en.wikipedia.org/wiki/Trie","title":"HashSet of Strings taking up too much memory, suggestions...?","body":"<p>You could use a prefix tree or trie: <a href=\"http://en.wikipedia.org/wiki/Trie\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Trie</a></p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1278934801,"creation_date":1278934801,"answer_id":3228134,"question_id":3228075,"body_markdown":"`HashSet` is probably not the right structure for this. Use [Trie][1] instead.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Trie","title":"HashSet of Strings taking up too much memory, suggestions...?","body":"<p><code>HashSet</code> is probably not the right structure for this. Use <a href=\"http://en.wikipedia.org/wiki/Trie\" rel=\"nofollow noreferrer\">Trie</a> instead.</p>\n"},{"tags":[],"owner":{"account_id":163217,"reputation":3787,"user_id":385202,"display_name":"Erik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278934813,"creation_date":1278934813,"answer_id":3228138,"question_id":3228075,"body_markdown":"The problem is by design: Storing such a huge amount of words in a HashSet for spell-check-reasons isn&#39;t a good idea:\r\n\r\nYou can either use a spell-checker (example: http://softcorporation.com/products/spellcheck/ ), or you can buildup a &quot;auto-wordcompletion&quot; with a prefix tree ( description: http://en.wikipedia.org/wiki/Trie ).\r\n\r\nThere is no way to reduce memory-usage in this design.","title":"HashSet of Strings taking up too much memory, suggestions...?","body":"<p>The problem is by design: Storing such a huge amount of words in a HashSet for spell-check-reasons isn't a good idea:</p>\n\n<p>You can either use a spell-checker (example: <a href=\"http://softcorporation.com/products/spellcheck/\" rel=\"nofollow noreferrer\">http://softcorporation.com/products/spellcheck/</a> ), or you can buildup a \"auto-wordcompletion\" with a prefix tree ( description: <a href=\"http://en.wikipedia.org/wiki/Trie\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Trie</a> ).</p>\n\n<p>There is no way to reduce memory-usage in this design.</p>\n"},{"tags":[],"owner":{"account_id":50098,"reputation":32598,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278936407,"creation_date":1278935144,"answer_id":3228183,"question_id":3228075,"body_markdown":"One way to save memory to save memory is to use a [radix tree][1]. This is better than a [trie][2] as the prefixes are not stored redundantly.\r\n\r\nAs your dictionary is fixed another way is to build a perfect hash function for it. Your hash set does not need buckets (and the associated overhead) as there cannot be collisions. Every implementation of a hash table/hash set that uses [open addressing][3] can be used for this (like google collection&#39;s [ImmutableSet][4]).\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Radix_tree\r\n  [2]: http://en.wikipedia.org/wiki/Trie\r\n  [3]: http://en.wikipedia.org/wiki/Hash_table#Open_addressing\r\n  [4]: http://code.google.com/p/google-collections/source/browse/trunk/src/com/google/common/collect/ImmutableSet.java","title":"HashSet of Strings taking up too much memory, suggestions...?","body":"<p>One way to save memory to save memory is to use a <a href=\"http://en.wikipedia.org/wiki/Radix_tree\" rel=\"nofollow noreferrer\">radix tree</a>. This is better than a <a href=\"http://en.wikipedia.org/wiki/Trie\" rel=\"nofollow noreferrer\">trie</a> as the prefixes are not stored redundantly.</p>\n\n<p>As your dictionary is fixed another way is to build a perfect hash function for it. Your hash set does not need buckets (and the associated overhead) as there cannot be collisions. Every implementation of a hash table/hash set that uses <a href=\"http://en.wikipedia.org/wiki/Hash_table#Open_addressing\" rel=\"nofollow noreferrer\">open addressing</a> can be used for this (like google collection's <a href=\"http://code.google.com/p/google-collections/source/browse/trunk/src/com/google/common/collect/ImmutableSet.java\" rel=\"nofollow noreferrer\">ImmutableSet</a>).</p>\n"},{"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1278939087,"creation_date":1278939087,"answer_id":3228653,"question_id":3228075,"body_markdown":"Check out bloom filters or cuckoo hashing. https://stackoverflow.com/questions/867099/bloom-filter-or-cuckoo-hashing\r\n\r\nI am not sure if this is the answer for your question but worth looking into these alternatives. bloom filters are mainly used for spell checker kind of use cases.","title":"HashSet of Strings taking up too much memory, suggestions...?","body":"<p>Check out bloom filters or cuckoo hashing. <a href=\"https://stackoverflow.com/questions/867099/bloom-filter-or-cuckoo-hashing\">Bloom filter or cuckoo hashing?</a></p>\n\n<p>I am not sure if this is the answer for your question but worth looking into these alternatives. bloom filters are mainly used for spell checker kind of use cases.</p>\n"},{"tags":[],"owner":{"account_id":117125,"reputation":13617,"user_id":306855,"accept_rate":73,"display_name":"Emil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280817198,"creation_date":1280817198,"answer_id":3394084,"question_id":3228075,"body_markdown":"You can also try [Radix Tree][1]([Wiki][2],[Implementation][3]) .This some what like [trie][4] but more memory efficient.\r\n\r\n\r\n  [1]: http://bootstrapping.wordpress.com/2008/01/24/prefix-searching-with-radix-tree/\r\n  [2]: http://en.wikipedia.org/wiki/Radix_tree\r\n  [3]: http://code.google.com/p/radixtree/\r\n  [4]: http://en.wikipedia.org/wiki/Trie","title":"HashSet of Strings taking up too much memory, suggestions...?","body":"<p>You can also try <a href=\"http://bootstrapping.wordpress.com/2008/01/24/prefix-searching-with-radix-tree/\" rel=\"nofollow noreferrer\">Radix Tree</a>(<a href=\"http://en.wikipedia.org/wiki/Radix_tree\" rel=\"nofollow noreferrer\">Wiki</a>,<a href=\"http://code.google.com/p/radixtree/\" rel=\"nofollow noreferrer\">Implementation</a>) .This some what like <a href=\"http://en.wikipedia.org/wiki/Trie\" rel=\"nofollow noreferrer\">trie</a> but more memory efficient.</p>\n"},{"tags":[],"owner":{"account_id":573797,"reputation":126,"user_id":214374,"display_name":"JohnPaul Adamovsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1283539206,"creation_date":1283539206,"answer_id":3638641,"question_id":3228075,"body_markdown":"This might be a bit late but using Google you can easily find the DAWG investigation and C code that I posted a while ago.\r\n\r\n[http://www.pathcom.com/~vadco/dawg.html][1]\r\n\r\nTWL06 - 178,691 words - fits into 494,676 Bytes\r\n\r\nThe downside of a compressed-shared-node structure is that it does not work as a hash function for the words in your list.  That is to say, it will tell you if a word exists, but it will not return an index to related data for a word that does exist.\r\n\r\nIf you want the perfect and complete hash functionality, in a processor-cache sized structure, you are going to have to read, understand, and modify a data structure called the ADTDAWG.  It will be slightly larger than a traditional DAWG, but it is faster and more useful.\r\n\r\n[http://www.pathcom.com/~vadco/adtdawg.html][2]\r\n\r\n\r\nAll the very best,\r\n\r\nJohnPaul Adamovsky\r\n\r\n\r\n  [1]: http://www.pathcom.com/~vadco/dawg.html\r\n  [2]: http://www.pathcom.com/~vadco/adtdawg.html","title":"HashSet of Strings taking up too much memory, suggestions...?","body":"<p>This might be a bit late but using Google you can easily find the DAWG investigation and C code that I posted a while ago.</p>\n\n<p><a href=\"http://www.pathcom.com/~vadco/dawg.html\" rel=\"nofollow noreferrer\">http://www.pathcom.com/~vadco/dawg.html</a></p>\n\n<p>TWL06 - 178,691 words - fits into 494,676 Bytes</p>\n\n<p>The downside of a compressed-shared-node structure is that it does not work as a hash function for the words in your list.  That is to say, it will tell you if a word exists, but it will not return an index to related data for a word that does exist.</p>\n\n<p>If you want the perfect and complete hash functionality, in a processor-cache sized structure, you are going to have to read, understand, and modify a data structure called the ADTDAWG.  It will be slightly larger than a traditional DAWG, but it is faster and more useful.</p>\n\n<p><a href=\"http://www.pathcom.com/~vadco/adtdawg.html\" rel=\"nofollow noreferrer\">http://www.pathcom.com/~vadco/adtdawg.html</a></p>\n\n<p>All the very best,</p>\n\n<p>JohnPaul Adamovsky</p>\n"},{"tags":[],"owner":{"account_id":889467,"reputation":15465,"user_id":928054,"display_name":"Carl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1331544067,"creation_date":1331544067,"answer_id":9664407,"question_id":3228075,"body_markdown":"12MB to store 120,000 words is about 100 bytes per word.  Probably at least 32 bytes of that is String overhead.  If words average 10 letters and they are stored as 2-byte chars, that accounts for another 20 bytes.  Then there is the reference to each String in your HashSet, which is probably another 4 bytes.  The remaining 44 bytes is probably the HashSet entry and indexing overhead, or something I haven&#39;t considered above.\r\n\r\nThe easiest thing to go after is the overhead of the String objects themselves, which can take far more memory than is required to store the actual character data.  So your main approach would be to develop a custom representation that avoids storing a separate object for each string.  In the course of doing this, you can also get rid of the HashSet overhead, since all you really need is a simple word lookup, which can be done by a straightforward binary search on an array that will be part of your custom implementation.\r\n\r\nYou could create your custom implementation as an array of type int with one element for each word.  Each of these int elements would be broken into sub-fields that contain a length and an offset that points into a separate backing array of type char.  Put both of these into a class that manages them, and that supports public methods allowing you to retrieve and/or convert your data and individual characters given a string index and an optional character index, and to perform the simple searches on the list of words that are needed for your spell check feature.\r\n\r\nIf you have no more than 16777216 characters of underlying string data (e.g., 120,000 strings times an average length of 10 characters = 1.2 million chars), you can take the low-order 24 bits of each int and store the starting offset of each string into your backing array of char data, and take the high-order 8 bits of each int and store the size of the corresponding string there.\r\n\r\nYour char data will have your erstwhile strings crammed together without any delimiters, relying entirely upon the int array to know where each string starts and ends.\r\n\r\nTaking the above approach, your 120,000 words (at an average of 10 letters each) would require about 2,400,000 bytes of backing array data and 480,000 bytes of integer index data (120,000 x 4 bytes), for a total of 2,880,000 bytes, which is about a 75 percent savings over the present 12MB amount you have reported above.\r\n\r\nThe words in the arrays would be sorted alphabetically, and your lookup process could be a simple binary search on the int array (retrieving the corresponding words from the char array for each test), which should be very efficient.\r\n\r\nIf your words happen to be entirely ASCII data, you could save an additional 1,200,000 bytes by storing the backing data as bytes instead of as chars.\r\n\r\nThis could get more difficult if you needed to alter these strings.  Apparently, in your case (spell checker), you don&#39;t need to (unless you want to support user additions to the list, which would be infrequent anyway, and so re-writing the char data and indexes to add or delete words might be acceptable).  \r\n\r\n","title":"HashSet of Strings taking up too much memory, suggestions...?","body":"<p>12MB to store 120,000 words is about 100 bytes per word.  Probably at least 32 bytes of that is String overhead.  If words average 10 letters and they are stored as 2-byte chars, that accounts for another 20 bytes.  Then there is the reference to each String in your HashSet, which is probably another 4 bytes.  The remaining 44 bytes is probably the HashSet entry and indexing overhead, or something I haven't considered above.</p>\n\n<p>The easiest thing to go after is the overhead of the String objects themselves, which can take far more memory than is required to store the actual character data.  So your main approach would be to develop a custom representation that avoids storing a separate object for each string.  In the course of doing this, you can also get rid of the HashSet overhead, since all you really need is a simple word lookup, which can be done by a straightforward binary search on an array that will be part of your custom implementation.</p>\n\n<p>You could create your custom implementation as an array of type int with one element for each word.  Each of these int elements would be broken into sub-fields that contain a length and an offset that points into a separate backing array of type char.  Put both of these into a class that manages them, and that supports public methods allowing you to retrieve and/or convert your data and individual characters given a string index and an optional character index, and to perform the simple searches on the list of words that are needed for your spell check feature.</p>\n\n<p>If you have no more than 16777216 characters of underlying string data (e.g., 120,000 strings times an average length of 10 characters = 1.2 million chars), you can take the low-order 24 bits of each int and store the starting offset of each string into your backing array of char data, and take the high-order 8 bits of each int and store the size of the corresponding string there.</p>\n\n<p>Your char data will have your erstwhile strings crammed together without any delimiters, relying entirely upon the int array to know where each string starts and ends.</p>\n\n<p>Taking the above approach, your 120,000 words (at an average of 10 letters each) would require about 2,400,000 bytes of backing array data and 480,000 bytes of integer index data (120,000 x 4 bytes), for a total of 2,880,000 bytes, which is about a 75 percent savings over the present 12MB amount you have reported above.</p>\n\n<p>The words in the arrays would be sorted alphabetically, and your lookup process could be a simple binary search on the int array (retrieving the corresponding words from the char array for each test), which should be very efficient.</p>\n\n<p>If your words happen to be entirely ASCII data, you could save an additional 1,200,000 bytes by storing the backing data as bytes instead of as chars.</p>\n\n<p>This could get more difficult if you needed to alter these strings.  Apparently, in your case (spell checker), you don't need to (unless you want to support user additions to the list, which would be infrequent anyway, and so re-writing the char data and indexes to add or delete words might be acceptable).  </p>\n"},{"tags":[],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694100499,"creation_date":1693994287,"answer_id":77050888,"question_id":3228075,"body_markdown":"You can try FST in Lucene-core:\r\nhttps://lucene.apache.org/core/8_7_0/core/org/apache/lucene/util/fst/package-summary.html\r\n\r\nLucene FST is a data structure in front of the term dictionary of inverted index, it&#39;s fast and has low memory overhead, but inputs must be provided in sorted order.\r\nThe size of FST is decided by the pattern of the input keywords, the similar, the smaller.\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lucene-core&lt;/artifactId&gt;\r\n        &lt;version&gt;8.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nbuild a FST without output:\r\n\r\n    private static FST&lt;Object&gt; buildFst(ArrayList&lt;String&gt; keywordsList) throws IOException {\r\n    \tBuilder&lt;Object&gt; builder = new Builder&lt;&gt;(FST.INPUT_TYPE.BYTE1, NoOutputs.getSingleton());\r\n    \r\n    \tIntsRefBuilder scratchInts = new IntsRefBuilder();\r\n    \tfor (String s : keywordsList) {\r\n    \t\tBytesRef scratchBytes = new BytesRef(s);\r\n    \t\tbuilder.add(Util.toIntsRef(scratchBytes, scratchInts), NoOutputs.getSingleton().getNoOutput());\r\n    \t}\r\n    \tFST&lt;Object&gt; fst = builder.finish();\r\n    \tSystem.out.println(&quot;lucene fst took &quot; + RamUsageEstimator.sizeOfObject(fst) / 1024 / 1024 + &quot;mb&quot;);\r\n    \treturn fst;\r\n    }\r\n\r\nSearching:\r\n\r\n            \r\n        String keyword = &quot;test&quot;;\r\n\t    if (Util.get(fst, new BytesRef(keyword)) == null) {\r\n\t\t\tSystem.out.println(s + &quot; is not exist in FST.&quot;);\r\n\t\t}\r\n\r\n\r\nps. the input for building FST should be sorted by UTF8 or UTF32, here&#39;s an example of UTF8 comparator:\r\n\r\n\r\n    class UTF8Comparator implements Comparator&lt;String&gt; {\r\n\t\t@Override\r\n\t\tpublic int compare(String str1, String str2) {\r\n\t\t\tbyte[] bytes1 = str1.getBytes(java.nio.charset.StandardCharsets.UTF_8);\r\n\t\t\tbyte[] bytes2 = str2.getBytes(java.nio.charset.StandardCharsets.UTF_8);\r\n\r\n\t\t\tfor (int i = 0; i &lt; Math.min(bytes1.length, bytes2.length); i++) {\r\n\t\t\t\tif (bytes1[i] != bytes2[i]) {\r\n\t\t\t\t\treturn bytes1[i] - bytes2[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn bytes1.length - bytes2.length;\r\n\t\t}\r\n\t}\r\n\r\nAnd then you can sort the list by:\r\n\r\n    keywordsList.sort(new UTF8Comparator());","title":"HashSet of Strings taking up too much memory, suggestions...?","body":"<p>You can try FST in Lucene-core:\n<a href=\"https://lucene.apache.org/core/8_7_0/core/org/apache/lucene/util/fst/package-summary.html\" rel=\"nofollow noreferrer\">https://lucene.apache.org/core/8_7_0/core/org/apache/lucene/util/fst/package-summary.html</a></p>\n<p>Lucene FST is a data structure in front of the term dictionary of inverted index, it's fast and has low memory overhead, but inputs must be provided in sorted order.\nThe size of FST is decided by the pattern of the input keywords, the similar, the smaller.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\n    &lt;artifactId&gt;lucene-core&lt;/artifactId&gt;\n    &lt;version&gt;8.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>build a FST without output:</p>\n<pre><code>private static FST&lt;Object&gt; buildFst(ArrayList&lt;String&gt; keywordsList) throws IOException {\n    Builder&lt;Object&gt; builder = new Builder&lt;&gt;(FST.INPUT_TYPE.BYTE1, NoOutputs.getSingleton());\n\n    IntsRefBuilder scratchInts = new IntsRefBuilder();\n    for (String s : keywordsList) {\n        BytesRef scratchBytes = new BytesRef(s);\n        builder.add(Util.toIntsRef(scratchBytes, scratchInts), NoOutputs.getSingleton().getNoOutput());\n    }\n    FST&lt;Object&gt; fst = builder.finish();\n    System.out.println(&quot;lucene fst took &quot; + RamUsageEstimator.sizeOfObject(fst) / 1024 / 1024 + &quot;mb&quot;);\n    return fst;\n}\n</code></pre>\n<p>Searching:</p>\n<pre><code>    String keyword = &quot;test&quot;;\n    if (Util.get(fst, new BytesRef(keyword)) == null) {\n        System.out.println(s + &quot; is not exist in FST.&quot;);\n    }\n</code></pre>\n<p>ps. the input for building FST should be sorted by UTF8 or UTF32, here's an example of UTF8 comparator:</p>\n<pre><code>class UTF8Comparator implements Comparator&lt;String&gt; {\n    @Override\n    public int compare(String str1, String str2) {\n        byte[] bytes1 = str1.getBytes(java.nio.charset.StandardCharsets.UTF_8);\n        byte[] bytes2 = str2.getBytes(java.nio.charset.StandardCharsets.UTF_8);\n\n        for (int i = 0; i &lt; Math.min(bytes1.length, bytes2.length); i++) {\n            if (bytes1[i] != bytes2[i]) {\n                return bytes1[i] - bytes2[i];\n            }\n        }\n\n        return bytes1.length - bytes2.length;\n    }\n}\n</code></pre>\n<p>And then you can sort the list by:</p>\n<pre><code>keywordsList.sort(new UTF8Comparator());\n</code></pre>\n"}],"owner":{"account_id":84769,"reputation":18303,"user_id":236743,"accept_rate":69,"display_name":"Dori"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4471,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":3228653,"answer_count":9,"score":15,"last_activity_date":1694100499,"creation_date":1278934303,"question_id":3228075,"body_markdown":"I am currently storing a list of words (around 120,000) in a HashSet, for the purpose of using as a list to check enetered words against to see if they are spelt correctly, and just returning yes or no.\r\n\r\nI was wondering if there is a way to do this which takes up less memory. Currently 120,000 words is around 12meg, the actual file the words are read from is around 900kb.\r\n\r\nAny suggestions?\r\n\r\nThanks in advance","title":"HashSet of Strings taking up too much memory, suggestions...?","body":"<p>I am currently storing a list of words (around 120,000) in a HashSet, for the purpose of using as a list to check enetered words against to see if they are spelt correctly, and just returning yes or no.</p>\n\n<p>I was wondering if there is a way to do this which takes up less memory. Currently 120,000 words is around 12meg, the actual file the words are read from is around 900kb.</p>\n\n<p>Any suggestions?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":13072244,"reputation":2184,"user_id":10014361,"display_name":"Aven Desta"},"score":0,"creation_date":1611239107,"post_id":65829429,"comment_id":116391123,"body_markdown":"paste your id_token [here](https://www.jstoolset.com/jwt). it will tell you which algorithm to use and so on","body":"paste your id_token <a href=\"https://www.jstoolset.com/jwt\" rel=\"nofollow noreferrer\">here</a>. it will tell you which algorithm to use and so on"}],"answers":[{"tags":[],"owner":{"account_id":12832210,"reputation":151,"user_id":9283007,"display_name":"Aleksandr Erokhin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1611316167,"creation_date":1611316167,"answer_id":65844596,"question_id":65829429,"body_markdown":"Filip described the approach [here][1]. I just expanded it a bit.\r\n\r\n```\r\n  @Bean\r\n  public JwtDecoderFactory&lt;ClientRegistration&gt; jwtDecoderFactory() {\r\n\r\n    final JwtDecoder decoder = new JwtDecoder() {\r\n\r\n      @SneakyThrows\r\n      @Override\r\n      public Jwt decode(String token) throws JwtException {\r\n        JWT jwt = JWTParser.parse(token);\r\n        return createJwt(token, jwt);\r\n      }\r\n\r\n      private Jwt createJwt(String token, JWT parsedJwt) {\r\n        try {\r\n          Map&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\r\n          Map&lt;String, Object&gt; claims = parsedJwt.getJWTClaimsSet().getClaims();\r\n          return Jwt.withTokenValue(token)\r\n              .headers(h -&gt; h.putAll(headers))\r\n              .claims(c -&gt; c.putAll(claims))\r\n              .build();\r\n        } catch (Exception ex) {\r\n          if (ex.getCause() instanceof ParseException) {\r\n            throw new JwtException(String.format(DECODING_ERROR_MESSAGE_TEMPLATE, &quot;Malformed payload&quot;));\r\n          } else {\r\n            throw new JwtException(String.format(DECODING_ERROR_MESSAGE_TEMPLATE, ex.getMessage()), ex);\r\n          }\r\n        }\r\n      }\r\n    };\r\n    return context -&gt; decoder;\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/54520100/9283007","title":"JWT decoding with Spring Security","body":"<p>Filip described the approach <a href=\"https://stackoverflow.com/a/54520100/9283007\">here</a>. I just expanded it a bit.</p>\n<pre><code>  @Bean\n  public JwtDecoderFactory&lt;ClientRegistration&gt; jwtDecoderFactory() {\n\n    final JwtDecoder decoder = new JwtDecoder() {\n\n      @SneakyThrows\n      @Override\n      public Jwt decode(String token) throws JwtException {\n        JWT jwt = JWTParser.parse(token);\n        return createJwt(token, jwt);\n      }\n\n      private Jwt createJwt(String token, JWT parsedJwt) {\n        try {\n          Map&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\n          Map&lt;String, Object&gt; claims = parsedJwt.getJWTClaimsSet().getClaims();\n          return Jwt.withTokenValue(token)\n              .headers(h -&gt; h.putAll(headers))\n              .claims(c -&gt; c.putAll(claims))\n              .build();\n        } catch (Exception ex) {\n          if (ex.getCause() instanceof ParseException) {\n            throw new JwtException(String.format(DECODING_ERROR_MESSAGE_TEMPLATE, &quot;Malformed payload&quot;));\n          } else {\n            throw new JwtException(String.format(DECODING_ERROR_MESSAGE_TEMPLATE, ex.getMessage()), ex);\n          }\n        }\n      }\n    };\n    return context -&gt; decoder;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":209589,"reputation":97,"user_id":460705,"display_name":"Saber Chebka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694100266,"creation_date":1694098556,"answer_id":77060720,"question_id":65829429,"body_markdown":"Here is what I did using my ClientRegistration, I hope this can help:\r\n\r\n    import org.springframework.security.oauth2.jwt.Jwt;\r\n    import org.springframework.security.oauth2.jwt.JwtDecoder;\r\n    import org.springframework.security.oauth2.jwt.JwtDecoderFactory;\r\n    \r\n    JwtDecoderFactory&lt;ClientRegistration&gt; jwtDecoderFactory = new OidcIdTokenDecoderFactory();\r\n    JwtDecoder jwtDecoder = jwtDecoderFactory.createDecoder(clientRegistration);\r\n    Jwt token = jwtDecoder.decode(token);\r\n\r\n\r\nIf you want to remove validations:\r\n\r\n    ((NimbusJwtDecoder)jwtDecoder).setJwtValidator(new DelegatingOAuth2TokenValidator&lt;&gt;(Arrays.asList()));\r\n\r\n","title":"JWT decoding with Spring Security","body":"<p>Here is what I did using my ClientRegistration, I hope this can help:</p>\n<pre><code>import org.springframework.security.oauth2.jwt.Jwt;\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\nimport org.springframework.security.oauth2.jwt.JwtDecoderFactory;\n\nJwtDecoderFactory&lt;ClientRegistration&gt; jwtDecoderFactory = new OidcIdTokenDecoderFactory();\nJwtDecoder jwtDecoder = jwtDecoderFactory.createDecoder(clientRegistration);\nJwt token = jwtDecoder.decode(token);\n</code></pre>\n<p>If you want to remove validations:</p>\n<pre><code>((NimbusJwtDecoder)jwtDecoder).setJwtValidator(new DelegatingOAuth2TokenValidator&lt;&gt;(Arrays.asList()));\n</code></pre>\n"}],"owner":{"account_id":12832210,"reputation":151,"user_id":9283007,"display_name":"Aleksandr Erokhin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26491,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":65844596,"answer_count":2,"score":6,"last_activity_date":1694100266,"creation_date":1611238885,"question_id":65829429,"body_markdown":"I have a problem with JWT decoding. \r\nI&#39;m writing an integration for oauth2 authorization service. \r\nI send a request to get an authorized token and get a response like: \r\n```\r\n{\r\n&quot;access_token&quot;: &quot;c76fb018-27c9-43f7-a751-62646eda7e1a-1&quot;,\r\n&quot;token_type&quot;: &quot;Bearer&quot;,\r\n&quot;expires_in&quot;: 3600,\r\n&quot;refresh_token&quot;: &quot;03e0be32-e72e-47ec-b740-a00b333a8ac4-1&quot;,\r\n&quot;id_token&quot;: &quot;eyJhbGciOiJnb3N0MzQtMTAuMjAxMiJ9.eyJzdWIiOiIwZDYxNTI3NDRlNDhkMTU4Y2UwMWQ3ZDQwZTdjNzUwYmZhMTVmMWVhY2NkOTQ3YmYwYTU0NzRhNDkwMGMyZTdjIiwiaXNzIjoiaXNzLWRlZmF1bHQtdmFsdWUiLCJhdWQiOiIxMTQzIiwiZXhwIjoxNTE4NzAxMDcxLCJpYXQiOjE1MTg3MDA3NzEsImF1dGhfdGltZSI6MTUxODcwMDc1NiwiYWNyIjoibG9hLTMiLCJhbXIiOiJ7cHdkLCBtY2EsIG1mYSw\r\ngb3RwLCBzbXN9IiwiYXpwIjoiMTE0MyIsIm5vbmNlIjoiN2JlNjZhYzktZDA3Yy00OTY3LWFkZWQtY2EyNzBhMjdlOWU4In0=.EdiC77+9bO+/vRzvv71677+977+977+9eAXvv73vv73vv71E77+977+977+977+9Re+/ve+/vTNbbdm0Bu+/vRY/eO+/vRvvv70q77+977+9LO+/vU4iZO+/vSNF0oFy77+977+977+9GQnvv73vv70v77+9QO+/vXk=&quot;\r\n}\r\n```\r\n**id_token - A Base64-encoded URL is a set of client attributes required to identify the user. The attributes are separated by &quot;.&quot; characters, each must be decoded separately.**\r\n\r\nI don&#39;t know how to do it. I will be grateful for any help.\r\n\r\nApplication.yml\r\n\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          sbb:\r\n            client-id: *******\r\n            client-secret: ******\r\n            scope: openid\r\n            client-authentication-method: post\r\n            authorization-grant-type: authorization_code\r\n            redirect-uri: &#39;{baseUrl}/login/oauth2/code/{registrationId}&#39;\r\n        provider:\r\n          sbb:\r\n            authorization-uri: https://auth.site.com/ic/sso/api/v1/oauth/authorize\r\n            token-uri: https://auth.site.com/ic/sso/api/v1/oauth/token\r\n            user-info-uri: https://auth.site.com/ic/sso/api/v1/oauth/user-info\r\n            user-name-attribute: sub\r\n```\r\n```\r\n@Configuration\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.httpBasic().disable();\r\n        http.cors().disable();\r\n        http.csrf().disable();\r\n        http\r\n            .authorizeRequests().antMatchers(&quot;/login&quot;).permitAll().and()\r\n            .authorizeRequests()\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()\r\n            .oauth2Login();\r\n   }\r\n}\r\n```\r\n\r\nWhen I start my app, I get an error:\r\n`\r\norg.springframework.security.oauth2.core.OAuth2AuthenticationException: [missing_signature_verifier] Failed to find a Signature Verifier for Client Registration: &#39;sbb&#39;. Check to ensure you have configured the JwkSet URI.\r\n`\r\n\r\nMy provider does not provide a JwkSet URI.","title":"JWT decoding with Spring Security","body":"<p>I have a problem with JWT decoding.\nI'm writing an integration for oauth2 authorization service.\nI send a request to get an authorized token and get a response like:</p>\n<pre><code>{\n&quot;access_token&quot;: &quot;c76fb018-27c9-43f7-a751-62646eda7e1a-1&quot;,\n&quot;token_type&quot;: &quot;Bearer&quot;,\n&quot;expires_in&quot;: 3600,\n&quot;refresh_token&quot;: &quot;03e0be32-e72e-47ec-b740-a00b333a8ac4-1&quot;,\n&quot;id_token&quot;: &quot;eyJhbGciOiJnb3N0MzQtMTAuMjAxMiJ9.eyJzdWIiOiIwZDYxNTI3NDRlNDhkMTU4Y2UwMWQ3ZDQwZTdjNzUwYmZhMTVmMWVhY2NkOTQ3YmYwYTU0NzRhNDkwMGMyZTdjIiwiaXNzIjoiaXNzLWRlZmF1bHQtdmFsdWUiLCJhdWQiOiIxMTQzIiwiZXhwIjoxNTE4NzAxMDcxLCJpYXQiOjE1MTg3MDA3NzEsImF1dGhfdGltZSI6MTUxODcwMDc1NiwiYWNyIjoibG9hLTMiLCJhbXIiOiJ7cHdkLCBtY2EsIG1mYSw\ngb3RwLCBzbXN9IiwiYXpwIjoiMTE0MyIsIm5vbmNlIjoiN2JlNjZhYzktZDA3Yy00OTY3LWFkZWQtY2EyNzBhMjdlOWU4In0=.EdiC77+9bO+/vRzvv71677+977+977+9eAXvv73vv73vv71E77+977+977+977+9Re+/ve+/vTNbbdm0Bu+/vRY/eO+/vRvvv70q77+977+9LO+/vU4iZO+/vSNF0oFy77+977+977+9GQnvv73vv70v77+9QO+/vXk=&quot;\n}\n</code></pre>\n<p><strong>id_token - A Base64-encoded URL is a set of client attributes required to identify the user. The attributes are separated by &quot;.&quot; characters, each must be decoded separately.</strong></p>\n<p>I don't know how to do it. I will be grateful for any help.</p>\n<p>Application.yml</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          sbb:\n            client-id: *******\n            client-secret: ******\n            scope: openid\n            client-authentication-method: post\n            authorization-grant-type: authorization_code\n            redirect-uri: '{baseUrl}/login/oauth2/code/{registrationId}'\n        provider:\n          sbb:\n            authorization-uri: https://auth.site.com/ic/sso/api/v1/oauth/authorize\n            token-uri: https://auth.site.com/ic/sso/api/v1/oauth/token\n            user-info-uri: https://auth.site.com/ic/sso/api/v1/oauth/user-info\n            user-name-attribute: sub\n</code></pre>\n<pre><code>@Configuration\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.httpBasic().disable();\n        http.cors().disable();\n        http.csrf().disable();\n        http\n            .authorizeRequests().antMatchers(&quot;/login&quot;).permitAll().and()\n            .authorizeRequests()\n            .anyRequest()\n            .authenticated()\n            .and()\n            .oauth2Login();\n   }\n}\n</code></pre>\n<p>When I start my app, I get an error:\n<code>org.springframework.security.oauth2.core.OAuth2AuthenticationException: [missing_signature_verifier] Failed to find a Signature Verifier for Client Registration: 'sbb'. Check to ensure you have configured the JwkSet URI.</code></p>\n<p>My provider does not provide a JwkSet URI.</p>\n"},{"tags":["java","string","string-formatting"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1694090321,"post_id":77059618,"comment_id":135847289,"body_markdown":"What&#39;s the actual problem with your approach - incorrect result, compilation error, something else? Where does `Lists.transform` and `Functions.toStringFunction` come from?","body":"What&#39;s the actual problem with your approach - incorrect result, compilation error, something else? Where does <code>Lists.transform</code> and <code>Functions.toStringFunction</code> come from?"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1694091385,"post_id":77059618,"comment_id":135847513,"body_markdown":"`Arrays.asList(1, 2, 3, 4).stream().map(String::valueOf).collect(Collectors.joining(&quot;,&quot;)`","body":"<code>Arrays.asList(1, 2, 3, 4).stream().map(String::valueOf).collect(Collectors.joining(&zwnj;&#8203;&quot;,&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":26889682,"reputation":588,"user_id":20468660,"display_name":"Marco F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694090824,"creation_date":1694090157,"answer_id":77059675,"question_id":77059618,"body_markdown":"You could use `List.toString` function:\r\n\r\n```java\r\nList&lt;Integer&gt; numbers2 = Arrays.asList(1, 2, 3,4);\r\nString s = numbers1.toString(); //&quot;[1, 2, 3, 4]&quot;\r\ns = s.substring(1, s.length()-1); //&quot;1, 2, 3, 4&quot;  \r\nSystem.out.println(s);\r\n```\r\n\r\n&gt; 1, 2, 3, 4\r\n","title":"How to put multiple numbers into string regardless of the number for String.format","body":"<p>You could use <code>List.toString</code> function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; numbers2 = Arrays.asList(1, 2, 3,4);\nString s = numbers1.toString(); //&quot;[1, 2, 3, 4]&quot;\ns = s.substring(1, s.length()-1); //&quot;1, 2, 3, 4&quot;  \nSystem.out.println(s);\n</code></pre>\n<blockquote>\n<p>1, 2, 3, 4</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694100213,"creation_date":1694099565,"answer_id":77060854,"question_id":77059618,"body_markdown":"Using a regex you can eliminate the unwanted characters from the `toString()` output of List.\r\n- `[\\\\[\\\\]]` character class. Precede the brackets with `\\\\` since `[]` are regex special characters and must be escaped.\r\n\r\n```\r\nList&lt;Integer&gt; numbers1 = Arrays.asList(1, 2, 3);\r\nList&lt;Integer&gt; numbers2 = Arrays.asList(1, 2, 3,4);\r\n\r\nString regex = &quot;[\\\\[\\\\]]&quot;;\r\nSystem.out.printf(&quot;Your tag numbers are %s.%n&quot;, numbers1.toString().replaceAll(regex,&quot;&quot;));\r\nSystem.out.printf(&quot;Your tag numbers are %s.%n&quot;, numbers2.toString().replaceAll(regex,&quot;&quot;));\r\n```\r\nprints\r\n```\r\nYour tag numbers are 1, 2, 3. \r\nYour tag numbers are 1, 2, 3, 4.","title":"How to put multiple numbers into string regardless of the number for String.format","body":"<p>Using a regex you can eliminate the unwanted characters from the <code>toString()</code> output of List.</p>\n<ul>\n<li><code>[\\\\[\\\\]]</code> character class. Precede the brackets with <code>\\\\</code> since <code>[]</code> are regex special characters and must be escaped.</li>\n</ul>\n<pre><code>List&lt;Integer&gt; numbers1 = Arrays.asList(1, 2, 3);\nList&lt;Integer&gt; numbers2 = Arrays.asList(1, 2, 3,4);\n\nString regex = &quot;[\\\\[\\\\]]&quot;;\nSystem.out.printf(&quot;Your tag numbers are %s.%n&quot;, numbers1.toString().replaceAll(regex,&quot;&quot;));\nSystem.out.printf(&quot;Your tag numbers are %s.%n&quot;, numbers2.toString().replaceAll(regex,&quot;&quot;));\n</code></pre>\n<p>prints</p>\n<pre><code>Your tag numbers are 1, 2, 3. \nYour tag numbers are 1, 2, 3, 4.\n</code></pre>\n"}],"owner":{"account_id":20142929,"reputation":1,"user_id":14772195,"display_name":"jimi1206"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1694100213,"creation_date":1694089644,"question_id":77059618,"body_markdown":"I want to create a sentence inserting some numbers like &quot;Your tag numbers are 1, 2, 3&quot;\r\nThe number of the numbers varies depending on the input like (1,2,3) or (1,2,3,4). How can it be flexible in order to create the sentece regardless of the variable number of numbers? I thought using String.format and String.join resolves this issue, but I&#39;m hitting the wall. So I&#39;d appreciate it if you could help me.\r\n```\r\n    //input example 1\r\n    List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3);\r\n    //input example 2\r\n    List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3,4);\r\n    String.format(&quot;Your tag numbers are %s&quot;,\r\n    String.join(&quot;,&quot;, Lists.transform(numbers, Functions.toStringFunction())));\r\n```","title":"How to put multiple numbers into string regardless of the number for String.format","body":"<p>I want to create a sentence inserting some numbers like &quot;Your tag numbers are 1, 2, 3&quot;\nThe number of the numbers varies depending on the input like (1,2,3) or (1,2,3,4). How can it be flexible in order to create the sentece regardless of the variable number of numbers? I thought using String.format and String.join resolves this issue, but I'm hitting the wall. So I'd appreciate it if you could help me.</p>\n<pre><code>    //input example 1\n    List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3);\n    //input example 2\n    List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3,4);\n    String.format(&quot;Your tag numbers are %s&quot;,\n    String.join(&quot;,&quot;, Lists.transform(numbers, Functions.toStringFunction())));\n</code></pre>\n"},{"tags":["java","https","wildfly","jndi"],"answers":[{"tags":[],"owner":{"account_id":7514283,"reputation":51,"user_id":5708262,"display_name":"Psirax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694099870,"creation_date":1694099870,"answer_id":77060891,"question_id":77047291,"body_markdown":"Found that adding this to my wildfly-config.xml fixed the issue:\r\n```\r\n   &lt;endpoint xmlns=&quot;urn:jboss-remoting:5.0&quot;&gt;\r\n       &lt;connections&gt;\r\n           &lt;connection destination=&quot;remote+https://&lt;FQDN&gt;:9090&quot; read-timeout=&quot;50&quot; write-timeout=&quot;50&quot; heartbeat-interval=&quot;10000&quot;/&gt;\r\n       &lt;/connections&gt;\r\n   &lt;/endpoint&gt;\r\n```","title":"Unable to access Wildfly remoting service for JNDI after switching to HTTPS","body":"<p>Found that adding this to my wildfly-config.xml fixed the issue:</p>\n<pre><code>   &lt;endpoint xmlns=&quot;urn:jboss-remoting:5.0&quot;&gt;\n       &lt;connections&gt;\n           &lt;connection destination=&quot;remote+https://&lt;FQDN&gt;:9090&quot; read-timeout=&quot;50&quot; write-timeout=&quot;50&quot; heartbeat-interval=&quot;10000&quot;/&gt;\n       &lt;/connections&gt;\n   &lt;/endpoint&gt;\n</code></pre>\n"}],"owner":{"account_id":7514283,"reputation":51,"user_id":5708262,"display_name":"Psirax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694099870,"creation_date":1693942435,"question_id":77047291,"body_markdown":"I need help understanding what I am missing here. I have an application running on Wildfly 26.1.3. I have a java application that uses JNDI to get access to java objects running on the server. While using an insecure port (9090 in this case), it can access everything it needs to. When I try to secure the port, the JNDI lookup&#39;s no longer work.\r\n\r\nHere is example code that works with an insecure configuration:\r\n```\r\nHashtable&lt;String, String&gt; p = new Hashtable&lt;String, String&gt;();\r\np.put(Context.INITIAL_CONTEXT_FACTORY, initialContextFacName);\r\np.put(Context.PROVIDER_URL, providerURL);\r\n          \r\nContext jndiContext = new InitialContext(p);\r\n            \r\n// DEBUG - lists objects available to this jndiContext, which it is unable to get on HTTPS\r\nList&lt;NameClassPair&gt; tmp = Collections.list(jndiContext.list(&quot;&quot;));\r\n```\r\n\r\nThe java client code is being called with the ```-Djavax.net.ssl.trustStoreProvider=SunMSCAPI -Djavax.net.ssl.trustStoreType=Windows-ROOT``` passed to the Java VM starting the client.\r\n\r\nWhen I run the above client code with the server configured for HTTPS on 9090, here&#39;s the Error I get:\r\n```\r\njavax.naming.CommunicationException: WFNAM00018: Failed to connect to remote host [Root exception is java.io.IOException: Invalid response]\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNaming(RemoteNamingProvider.java:110)\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNaming(RemoteNamingProvider.java:53)\r\n\tat org.wildfly.naming.client.NamingProvider.getPeerIdentityForNamingUsingRetry(NamingProvider.java:105)\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNamingUsingRetry(RemoteNamingProvider.java:91)\r\n\tat org.wildfly.naming.client.remote.RemoteContext.lambda$listNative$6(RemoteContext.java:263)\r\n\tat org.wildfly.naming.client.NamingProvider.performExceptionAction(NamingProvider.java:222)\r\n\tat org.wildfly.naming.client.remote.RemoteContext.performWithRetry(RemoteContext.java:100)\r\n\tat org.wildfly.naming.client.remote.RemoteContext.listNative(RemoteContext.java:262)\r\n\tat org.wildfly.naming.client.AbstractFederatingContext.list(AbstractFederatingContext.java:269)\r\n\tat org.wildfly.naming.client.AbstractFederatingContext.list(AbstractFederatingContext.java:42)\r\n\tat org.wildfly.naming.client.WildFlyRootContext.list(WildFlyRootContext.java:272)\r\n\tat java.naming/javax.naming.InitialContext.list(InitialContext.java:453)\r\n\tat com.rsc.mmpl.util.JMSSubscriber.init(JMSSubscriber.java:267)\r\n\tat com.rsc.mmpl.appletutil.JMSSubscriber.init(JMSSubscriber.java:210)\r\n\tat com.rsc.mmpl.appletutil.ServerNotificationRouter.init(ServerNotificationRouter.java:246)\r\n\tat com.rsc.mmpl.application.impl.EquinoxApplication.initializeJMSBridge(EquinoxApplication.java:759)\r\n\tat com.rsc.mmpl.application.impl.EquinoxApplication.login(EquinoxApplication.java:248)\r\n\tat com.rsc.mmpl.application.osgi.EquinoxApplicationActivator.propsFileLoaded(EquinoxApplicationActivator.java:255)\r\n\tat com.rsc.mmpl.application.impl.EquinoxApplication$3$1.run(EquinoxApplication.java:569)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: java.io.IOException: Invalid response\r\n\tat org.xnio.http.HttpUpgradeParser.parseVersion(HttpUpgradeParser.java:164)\r\n\tat org.xnio.http.HttpUpgradeParser.parse(HttpUpgradeParser.java:55)\r\n\tat org.xnio.http.HttpUpgrade$HttpUpgradeState$UpgradeResultListener.handleEvent(HttpUpgrade.java:419)\r\n\tat org.xnio.http.HttpUpgrade$HttpUpgradeState.flushUpgradeChannel(HttpUpgrade.java:369)\r\n\tat org.xnio.http.HttpUpgrade$HttpUpgradeState.access$900(HttpUpgrade.java:165)\r\n\tat org.xnio.http.HttpUpgrade$HttpUpgradeState$ConnectionOpenListener.handleEvent(HttpUpgrade.java:340)\r\n\tat org.xnio.http.HttpUpgrade$HttpUpgradeState$ConnectionOpenListener.handleEvent(HttpUpgrade.java:320)\r\n\tat org.xnio.http.HttpUpgrade$HttpUpgradeState.upgradeExistingConnection(HttpUpgrade.java:315)\r\n\tat org.xnio.http.HttpUpgrade.performUpgrade(HttpUpgrade.java:144)\r\n\tat org.jboss.remoting3.remote.HttpUpgradeConnectionProvider$UpgradeListener.handleEvent(HttpUpgradeConnectionProvider.java:174)\r\n\tat org.jboss.remoting3.remote.HttpUpgradeConnectionProvider$UpgradeListener.handleEvent(HttpUpgradeConnectionProvider.java:153)\r\n\tat org.jboss.remoting3.remote.RemoteConnectionProvider$6.handleDone(RemoteConnectionProvider.java:283)\r\n\tat org.jboss.remoting3.remote.RemoteConnectionProvider$6.handleDone(RemoteConnectionProvider.java:250)\r\n\tat org.xnio.IoFuture$HandlingNotifier.notify(IoFuture.java:208)\r\n\tat org.xnio.AbstractIoFuture$NotifierRunnable.run(AbstractIoFuture.java:720)\r\n\tat org.xnio.IoUtils$2.execute(IoUtils.java:71)\r\n\tat org.xnio.AbstractIoFuture.runNotifier(AbstractIoFuture.java:693)\r\n\tat org.xnio.AbstractIoFuture$CompleteState.withNotifier(AbstractIoFuture.java:132)\r\n\tat org.xnio.AbstractIoFuture.addNotifier(AbstractIoFuture.java:570)\r\n\tat org.jboss.remoting3.remote.RemoteConnectionProvider.createSslConnection(RemoteConnectionProvider.java:250)\r\n\tat org.jboss.remoting3.remote.HttpUpgradeConnectionProvider.createSslConnection(HttpUpgradeConnectionProvider.java:135)\r\n\tat org.jboss.remoting3.remote.RemoteConnectionProvider.connect(RemoteConnectionProvider.java:206)\r\n\tat org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:648)\r\n\tat org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:565)\r\n\tat org.jboss.remoting3.ConnectionInfo$None.getConnection(ConnectionInfo.java:82)\r\n\tat org.jboss.remoting3.ConnectionInfo.getConnection(ConnectionInfo.java:55)\r\n\tat org.jboss.remoting3.EndpointImpl.doGetConnection(EndpointImpl.java:499)\r\n\tat org.jboss.remoting3.EndpointImpl.getConnectedIdentity(EndpointImpl.java:445)\r\n\tat org.jboss.remoting3.UncloseableEndpoint.getConnectedIdentity(UncloseableEndpoint.java:52)\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.getFuturePeerIdentityPrivileged(RemoteNamingProvider.java:151)\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.lambda$getFuturePeerIdentity$0(RemoteNamingProvider.java:138)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.getFuturePeerIdentity(RemoteNamingProvider.java:138)\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentity(RemoteNamingProvider.java:126)\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNaming(RemoteNamingProvider.java:106)\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNaming(RemoteNamingProvider.java:53)\r\n\tat org.wildfly.naming.client.NamingProvider.getPeerIdentityForNamingUsingRetry(NamingProvider.java:105)\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNamingUsingRetry(RemoteNamingProvider.java:91)\r\n\tat org.wildfly.naming.client.remote.RemoteContext.lambda$listNative$6(RemoteContext.java:263)\r\n\tat org.wildfly.naming.client.NamingProvider.performExceptionAction(NamingProvider.java:222)\r\n\tat org.wildfly.naming.client.remote.RemoteContext.performWithRetry(RemoteContext.java:100)\r\n\tat org.wildfly.naming.client.remote.RemoteContext.listNative(RemoteContext.java:262)\r\n\tat org.wildfly.naming.client.AbstractFederatingContext.list(AbstractFederatingContext.java:269)\r\n\tat org.wildfly.naming.client.AbstractFederatingContext.list(AbstractFederatingContext.java:42)\r\n\tat org.wildfly.naming.client.WildFlyRootContext.list(WildFlyRootContext.java:272)\r\n\tat java.naming/javax.naming.InitialContext.list(InitialContext.java:453)\r\n\tat com.rsc.mmpl.util.JMSSubscriber.init(JMSSubscriber.java:267)\r\n\tat com.rsc.mmpl.appletutil.JMSSubscriber.init(JMSSubscriber.java:210)\r\n\tat com.rsc.mmpl.appletutil.ServerNotificationRouter.init(ServerNotificationRouter.java:246)\r\n\tat com.rsc.mmpl.application.impl.EquinoxApplication.initializeJMSBridge(EquinoxApplication.java:759)\r\n\tat com.rsc.mmpl.application.impl.EquinoxApplication.login(EquinoxApplication.java:248)\r\n\tat com.rsc.mmpl.application.osgi.EquinoxApplicationActivator.propsFileLoaded(EquinoxApplicationActivator.java:255)\r\n\tat com.rsc.mmpl.application.impl.EquinoxApplication$3$1.run(EquinoxApplication.java:569)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\tat ...asynchronous invocation...(Unknown Source)\r\n\tat org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:599)\r\n\tat org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:565)\r\n\tat org.jboss.remoting3.ConnectionInfo$None.getConnection(ConnectionInfo.java:82)\r\n\tat org.jboss.remoting3.ConnectionInfo.getConnection(ConnectionInfo.java:55)\r\n\tat org.jboss.remoting3.EndpointImpl.doGetConnection(EndpointImpl.java:499)\r\n\tat org.jboss.remoting3.EndpointImpl.getConnectedIdentity(EndpointImpl.java:445)\r\n\tat org.jboss.remoting3.UncloseableEndpoint.getConnectedIdentity(UncloseableEndpoint.java:52)\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.getFuturePeerIdentityPrivileged(RemoteNamingProvider.java:151)\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.lambda$getFuturePeerIdentity$0(RemoteNamingProvider.java:138)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.getFuturePeerIdentity(RemoteNamingProvider.java:138)\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentity(RemoteNamingProvider.java:126)\r\n\tat org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNaming(RemoteNamingProvider.java:106)\r\n\t... 31 more\r\n```\r\n\r\nStandalone.xml for Wildfly server, truncated to the important parts. Note that the undertow configuration has a commented out https-listener element. I enable that one and disable the http-listener above it to change port 9090 to https:\r\n```\r\n&lt;subsystem xmlns=&quot;urn:wildfly:elytron:15.1&quot; final-providers=&quot;combined-providers&quot; disallowed-providers=&quot;OracleUcrypto&quot;&gt;\r\n            &lt;providers&gt;\r\n                &lt;aggregate-providers name=&quot;combined-providers&quot;&gt;\r\n                    &lt;providers name=&quot;elytron&quot;/&gt;\r\n                    &lt;providers name=&quot;openssl&quot;/&gt;\r\n                &lt;/aggregate-providers&gt;\r\n                &lt;provider-loader name=&quot;elytron&quot; module=&quot;org.wildfly.security.elytron&quot;/&gt;\r\n                &lt;provider-loader name=&quot;openssl&quot; module=&quot;org.wildfly.openssl&quot;/&gt;\r\n            &lt;/providers&gt;\r\n            &lt;audit-logging&gt;\r\n                &lt;file-audit-log name=&quot;local-audit&quot; path=&quot;audit.log&quot; relative-to=&quot;jboss.server.log.dir&quot; format=&quot;JSON&quot;/&gt;\r\n            &lt;/audit-logging&gt;\r\n            &lt;security-domains&gt;\r\n                &lt;security-domain name=&quot;ManagementDomain&quot; default-realm=&quot;ManagementRealm&quot; permission-mapper=&quot;default-permission-mapper&quot;&gt;\r\n                    &lt;realm name=&quot;ManagementRealm&quot; role-decoder=&quot;groups-to-roles&quot;/&gt;\r\n                    &lt;realm name=&quot;local&quot; role-mapper=&quot;super-user-mapper&quot;/&gt;\r\n                &lt;/security-domain&gt;\r\n                &lt;security-domain name=&quot;ApplicationDomain&quot; default-realm=&quot;ApplicationRealm&quot; permission-mapper=&quot;default-permission-mapper&quot;&gt;\r\n                    &lt;realm name=&quot;ApplicationRealm&quot; role-decoder=&quot;groups-to-roles&quot;/&gt;\r\n                    &lt;realm name=&quot;local&quot;/&gt;\r\n                &lt;/security-domain&gt;\r\n            &lt;/security-domains&gt;\r\n            &lt;security-realms&gt;\r\n                &lt;identity-realm name=&quot;local&quot; identity=&quot;$local&quot;/&gt;\r\n                &lt;properties-realm name=&quot;ApplicationRealm&quot;&gt;\r\n                    &lt;users-properties path=&quot;application-users.properties&quot; relative-to=&quot;jboss.server.config.dir&quot; digest-realm-name=&quot;ApplicationRealm&quot;/&gt;\r\n                    &lt;groups-properties path=&quot;application-roles.properties&quot; relative-to=&quot;jboss.server.config.dir&quot;/&gt;\r\n                &lt;/properties-realm&gt;\r\n                &lt;properties-realm name=&quot;ManagementRealm&quot;&gt;\r\n                    &lt;users-properties path=&quot;mgmt-users.properties&quot; relative-to=&quot;jboss.server.config.dir&quot; digest-realm-name=&quot;ManagementRealm&quot;/&gt;\r\n                    &lt;groups-properties path=&quot;mgmt-groups.properties&quot; relative-to=&quot;jboss.server.config.dir&quot;/&gt;\r\n                &lt;/properties-realm&gt;\r\n            &lt;/security-realms&gt;\r\n            &lt;mappers&gt;\r\n                &lt;simple-permission-mapper name=&quot;default-permission-mapper&quot; mapping-mode=&quot;first&quot;&gt;\r\n                    &lt;permission-mapping&gt;\r\n                        &lt;principal name=&quot;anonymous&quot;/&gt;\r\n                        &lt;permission-set name=&quot;default-permissions&quot;/&gt;\r\n                    &lt;/permission-mapping&gt;\r\n                    &lt;permission-mapping match-all=&quot;true&quot;&gt;\r\n                        &lt;permission-set name=&quot;login-permission&quot;/&gt;\r\n                        &lt;permission-set name=&quot;default-permissions&quot;/&gt;\r\n                    &lt;/permission-mapping&gt;\r\n                &lt;/simple-permission-mapper&gt;\r\n                &lt;constant-realm-mapper name=&quot;local&quot; realm-name=&quot;local&quot;/&gt;\r\n                &lt;simple-role-decoder name=&quot;groups-to-roles&quot; attribute=&quot;groups&quot;/&gt;\r\n                &lt;constant-role-mapper name=&quot;super-user-mapper&quot;&gt;\r\n                    &lt;role name=&quot;SuperUser&quot;/&gt;\r\n                &lt;/constant-role-mapper&gt;\r\n            &lt;/mappers&gt;\r\n            &lt;permission-sets&gt;\r\n                &lt;permission-set name=&quot;login-permission&quot;&gt;\r\n                    &lt;permission class-name=&quot;org.wildfly.security.auth.permission.LoginPermission&quot;/&gt;\r\n                &lt;/permission-set&gt;\r\n                &lt;permission-set name=&quot;default-permissions&quot;&gt;\r\n                    &lt;permission class-name=&quot;org.wildfly.extension.batch.jberet.deployment.BatchPermission&quot; module=&quot;org.wildfly.extension.batch.jberet&quot; target-name=&quot;*&quot;/&gt;\r\n                    &lt;permission class-name=&quot;org.wildfly.transaction.client.RemoteTransactionPermission&quot; module=&quot;org.wildfly.transaction.client&quot;/&gt;\r\n                    &lt;permission class-name=&quot;org.jboss.ejb.client.RemoteEJBPermission&quot; module=&quot;org.jboss.ejb-client&quot;/&gt;\r\n                &lt;/permission-set&gt;\r\n            &lt;/permission-sets&gt;\r\n            &lt;http&gt;\r\n                &lt;http-authentication-factory name=&quot;management-http-authentication&quot; security-domain=&quot;ManagementDomain&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\r\n                    &lt;mechanism-configuration&gt;\r\n                        &lt;mechanism mechanism-name=&quot;DIGEST&quot;&gt;\r\n                            &lt;mechanism-realm realm-name=&quot;ManagementRealm&quot;/&gt;\r\n                        &lt;/mechanism&gt;\r\n                    &lt;/mechanism-configuration&gt;\r\n                &lt;/http-authentication-factory&gt;\r\n                &lt;http-authentication-factory name=&quot;application-http-authentication&quot; security-domain=&quot;ApplicationDomain&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\r\n                    &lt;mechanism-configuration&gt;\r\n                        &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\r\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\r\n                        &lt;/mechanism&gt;\r\n                    &lt;/mechanism-configuration&gt;\r\n                &lt;/http-authentication-factory&gt;\r\n                &lt;provider-http-server-mechanism-factory name=&quot;global&quot;/&gt;\r\n            &lt;/http&gt;\r\n            &lt;sasl&gt;\r\n                &lt;sasl-authentication-factory name=&quot;management-sasl-authentication&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;ManagementDomain&quot;&gt;\r\n                    &lt;mechanism-configuration&gt;\r\n                        &lt;mechanism mechanism-name=&quot;JBOSS-LOCAL-USER&quot; realm-mapper=&quot;local&quot;/&gt;\r\n                        &lt;mechanism mechanism-name=&quot;DIGEST-MD5&quot;&gt;\r\n                            &lt;mechanism-realm realm-name=&quot;ManagementRealm&quot;/&gt;\r\n                        &lt;/mechanism&gt;\r\n                    &lt;/mechanism-configuration&gt;\r\n                &lt;/sasl-authentication-factory&gt;\r\n                &lt;sasl-authentication-factory name=&quot;application-sasl-authentication&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;ApplicationDomain&quot;&gt;\r\n                    &lt;mechanism-configuration&gt;\r\n                        &lt;mechanism mechanism-name=&quot;JBOSS-LOCAL-USER&quot; realm-mapper=&quot;local&quot;/&gt;\r\n                        &lt;mechanism mechanism-name=&quot;DIGEST-MD5&quot;&gt;\r\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\r\n                        &lt;/mechanism&gt;\r\n                    &lt;/mechanism-configuration&gt;\r\n                &lt;/sasl-authentication-factory&gt;\r\n                &lt;configurable-sasl-server-factory name=&quot;configured&quot; sasl-server-factory=&quot;elytron&quot;&gt;\r\n                    &lt;properties&gt;\r\n                        &lt;property name=&quot;wildfly.sasl.local-user.default-user&quot; value=&quot;$local&quot;/&gt;\r\n                        &lt;property name=&quot;wildfly.sasl.local-user.challenge-path&quot; value=&quot;${jboss.server.temp.dir}/auth&quot;/&gt;\r\n                    &lt;/properties&gt;\r\n                &lt;/configurable-sasl-server-factory&gt;\r\n                &lt;mechanism-provider-filtering-sasl-server-factory name=&quot;elytron&quot; sasl-server-factory=&quot;global&quot;&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter provider-name=&quot;WildFlyElytron&quot;/&gt;\r\n                    &lt;/filters&gt;\r\n                &lt;/mechanism-provider-filtering-sasl-server-factory&gt;\r\n                &lt;provider-sasl-server-factory name=&quot;global&quot;/&gt;\r\n            &lt;/sasl&gt;\r\n            &lt;tls&gt;\r\n                &lt;key-stores&gt;\r\n                    &lt;key-store name=&quot;applicationKS&quot;&gt;\r\n                        &lt;credential-reference clear-text=&quot;password&quot;/&gt;\r\n                        &lt;implementation type=&quot;Windows-ROOT&quot; provider-name=&quot;SunMSCAPI&quot;/&gt;\r\n                    &lt;/key-store&gt;\r\n                &lt;/key-stores&gt;\r\n                &lt;key-managers&gt;\r\n                    &lt;key-manager name=&quot;applicationKM&quot; key-store=&quot;applicationKS&quot;&gt;\r\n                        &lt;credential-reference clear-text=&quot;password&quot;/&gt;\r\n                    &lt;/key-manager&gt;\r\n                &lt;/key-managers&gt;\r\n                &lt;server-ssl-contexts&gt;\r\n                    &lt;server-ssl-context name=&quot;applicationSSC&quot; key-manager=&quot;applicationKM&quot;/&gt;\r\n                &lt;/server-ssl-contexts&gt;\r\n            &lt;/tls&gt;\r\n            &lt;credential-stores&gt;\r\n                &lt;credential-store name=&quot;MMCredStore&quot; relative-to=&quot;jboss.server.data.dir&quot; path=&quot;fapsCred.cs&quot; create=&quot;true&quot;&gt;\r\n                    &lt;credential-reference clear-text=&quot;cleartextpassword&quot;/&gt;\r\n                &lt;/credential-store&gt;\r\n            &lt;/credential-stores&gt;\r\n        &lt;/subsystem&gt;\r\n...\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:naming:2.0&quot;&gt;\r\n            &lt;remote-naming/&gt;\r\n        &lt;/subsystem&gt;\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:remoting:4.0&quot;&gt;\r\n            &lt;http-connector name=&quot;http-remoting-connector&quot; connector-ref=&quot;default&quot; /&gt;\r\n        &lt;/subsystem&gt;\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:8.0&quot;&gt;\r\n            &lt;server name=&quot;default&quot;&gt;\r\n                &lt;statistics enabled=&quot;${wildfly.messaging-activemq.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;/&gt;\r\n                &lt;security enabled=&quot;false&quot;/&gt;\r\n                &lt;address-setting name=&quot;#&quot; dead-letter-address=&quot;jms.queue.DLQ&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; max-size-bytes=&quot;10485760&quot; page-size-bytes=&quot;2097152&quot; message-counter-history-day-limit=&quot;10&quot;/&gt;\r\n                &lt;http-connector name=&quot;http-connector&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor&quot;/&gt;\r\n                &lt;http-connector name=&quot;http-connector-throughput&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor-throughput&quot;&gt;\r\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n                &lt;/http-connector&gt;\r\n                &lt;in-vm-connector name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\r\n                    &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\r\n                &lt;/in-vm-connector&gt;\r\n                &lt;http-acceptor name=&quot;http-acceptor&quot; http-listener=&quot;default&quot;/&gt;\r\n                &lt;http-acceptor name=&quot;http-acceptor-throughput&quot; http-listener=&quot;default&quot;&gt;\r\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n                    &lt;param name=&quot;direct-deliver&quot; value=&quot;false&quot;/&gt;\r\n                &lt;/http-acceptor&gt;\r\n                &lt;in-vm-acceptor name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\r\n                    &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\r\n                &lt;/in-vm-acceptor&gt;\r\n                ...\r\n                &lt;connection-factory name=&quot;InVmConnectionFactory&quot; entries=&quot;java:/ConnectionFactory java:/com.rsc.mmpl.TopicConnectionFactory java:/com.rsc.mmpl.Log4jTopicConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\r\n                &lt;connection-factory name=&quot;RemoteConnectionFactory&quot; retry-interval=&quot;1000&quot; reconnect-attempts=&quot;1000&quot; entries=&quot;java:jboss/exported/jms/RemoteConnectionFactory java:jboss/exported/com.rsc.mmpl.TopicConnectionFactory java:jboss/exported/com.rsc.mmpl.Log4jTopicConnectionFactory&quot; connectors=&quot;http-connector&quot;/&gt;\r\n                &lt;pooled-connection-factory name=&quot;activemq-ra&quot; transaction=&quot;xa&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\r\n            &lt;/server&gt;\r\n        &lt;/subsystem&gt;\r\n...\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:12.0&quot; default-server=&quot;default-server&quot; default-virtual-host=&quot;default-host&quot; default-servlet-container=&quot;default&quot; default-security-domain=&quot;other&quot; statistics-enabled=&quot;${wildfly.undertow.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;&gt;\r\n            &lt;buffer-cache name=&quot;default&quot;/&gt;\r\n            &lt;server name=&quot;default-server&quot;&gt;\r\n                &lt;http-listener name=&quot;default&quot; socket-binding=&quot;http&quot; redirect-socket=&quot;https&quot; enable-http2=&quot;true&quot;/&gt; \r\n                &lt;!-- &lt;https-listener name=&quot;default&quot; socket-binding=&quot;http&quot; ssl-context=&quot;applicationSSC&quot; enable-http2=&quot;true&quot;/&gt; --&gt;\r\n                &lt;https-listener name=&quot;https&quot; socket-binding=&quot;https&quot; ssl-context=&quot;applicationSSC&quot; enable-http2=&quot;true&quot;/&gt;\r\n                &lt;host name=&quot;default-host&quot; alias=&quot;localhost&quot;&gt;\r\n                    &lt;location name=&quot;/&quot; handler=&quot;welcome-content&quot;/&gt;\r\n                    &lt;http-invoker security-realm=&quot;ApplicationRealm&quot;/&gt;\r\n                &lt;/host&gt;\r\n            &lt;/server&gt;\r\n            &lt;servlet-container name=&quot;default&quot;&gt;\r\n                &lt;jsp-config/&gt;\r\n                &lt;websockets/&gt;\r\n            &lt;/servlet-container&gt;\r\n            &lt;handlers&gt;\r\n                &lt;file name=&quot;welcome-content&quot; path=&quot;${jboss.home.dir}/welcome-content&quot;/&gt;\r\n            &lt;/handlers&gt;\r\n            &lt;application-security-domains&gt;\r\n                &lt;application-security-domain name=&quot;other&quot; security-domain=&quot;ApplicationDomain&quot;/&gt;\r\n            &lt;/application-security-domains&gt;\r\n        &lt;/subsystem&gt;\r\n...\r\n     &lt;interfaces&gt;\r\n        &lt;interface name=&quot;management&quot;&gt;\r\n            &lt;inet-address value=&quot;${jboss.bind.address.management:127.0.0.1}&quot;/&gt;\r\n        &lt;/interface&gt;\r\n        &lt;interface name=&quot;public&quot;&gt;\r\n            &lt;inet-address value=&quot;${jboss.bind.address:127.0.0.1}&quot;/&gt;\r\n        &lt;/interface&gt;\r\n    &lt;/interfaces&gt;\r\n    &lt;socket-binding-group name=&quot;standard-sockets&quot; default-interface=&quot;public&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot;&gt;\r\n        ...\r\n        &lt;socket-binding name=&quot;http&quot; port=&quot;${jboss.http.port:9090}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;https&quot; port=&quot;${jboss.https.port:8443}&quot;/&gt;\r\n        ...\r\n    &lt;/socket-binding-group&gt;\r\n```\r\n\r\nMy client code does use jboss-client.jar, so I&#39;m rather sure I&#39;ll need to update the configuration of my wildfly-config.xml file that the client reads. Trouble is, I don&#39;t know how to configure that to use the Windows-ROOT certificate store like the server is using. Here&#39;s the wildfly-client.xml as it stands... Could anyone instruct me on what to add to this file to allow my client JNDI lookups to communicate successfully with my server?\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n \r\n&lt;configuration&gt;\r\n    &lt;jboss-ejb-client xmlns=&quot;urn:jboss:wildfly-client-ejb:3.0&quot;&gt;\r\n       &lt;connections&gt;\r\n        &lt;connection uri=&quot;remote+http://&lt;FQDNofHost&gt;:9090&quot;/&gt;\r\n       &lt;/connections&gt;\r\n    &lt;/jboss-ejb-client&gt;\r\n&lt;/configuration&gt;\r\n```\r\n","title":"Unable to access Wildfly remoting service for JNDI after switching to HTTPS","body":"<p>I need help understanding what I am missing here. I have an application running on Wildfly 26.1.3. I have a java application that uses JNDI to get access to java objects running on the server. While using an insecure port (9090 in this case), it can access everything it needs to. When I try to secure the port, the JNDI lookup's no longer work.</p>\n<p>Here is example code that works with an insecure configuration:</p>\n<pre><code>Hashtable&lt;String, String&gt; p = new Hashtable&lt;String, String&gt;();\np.put(Context.INITIAL_CONTEXT_FACTORY, initialContextFacName);\np.put(Context.PROVIDER_URL, providerURL);\n          \nContext jndiContext = new InitialContext(p);\n            \n// DEBUG - lists objects available to this jndiContext, which it is unable to get on HTTPS\nList&lt;NameClassPair&gt; tmp = Collections.list(jndiContext.list(&quot;&quot;));\n</code></pre>\n<p>The java client code is being called with the <code>-Djavax.net.ssl.trustStoreProvider=SunMSCAPI -Djavax.net.ssl.trustStoreType=Windows-ROOT</code> passed to the Java VM starting the client.</p>\n<p>When I run the above client code with the server configured for HTTPS on 9090, here's the Error I get:</p>\n<pre><code>javax.naming.CommunicationException: WFNAM00018: Failed to connect to remote host [Root exception is java.io.IOException: Invalid response]\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNaming(RemoteNamingProvider.java:110)\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNaming(RemoteNamingProvider.java:53)\n    at org.wildfly.naming.client.NamingProvider.getPeerIdentityForNamingUsingRetry(NamingProvider.java:105)\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNamingUsingRetry(RemoteNamingProvider.java:91)\n    at org.wildfly.naming.client.remote.RemoteContext.lambda$listNative$6(RemoteContext.java:263)\n    at org.wildfly.naming.client.NamingProvider.performExceptionAction(NamingProvider.java:222)\n    at org.wildfly.naming.client.remote.RemoteContext.performWithRetry(RemoteContext.java:100)\n    at org.wildfly.naming.client.remote.RemoteContext.listNative(RemoteContext.java:262)\n    at org.wildfly.naming.client.AbstractFederatingContext.list(AbstractFederatingContext.java:269)\n    at org.wildfly.naming.client.AbstractFederatingContext.list(AbstractFederatingContext.java:42)\n    at org.wildfly.naming.client.WildFlyRootContext.list(WildFlyRootContext.java:272)\n    at java.naming/javax.naming.InitialContext.list(InitialContext.java:453)\n    at com.rsc.mmpl.util.JMSSubscriber.init(JMSSubscriber.java:267)\n    at com.rsc.mmpl.appletutil.JMSSubscriber.init(JMSSubscriber.java:210)\n    at com.rsc.mmpl.appletutil.ServerNotificationRouter.init(ServerNotificationRouter.java:246)\n    at com.rsc.mmpl.application.impl.EquinoxApplication.initializeJMSBridge(EquinoxApplication.java:759)\n    at com.rsc.mmpl.application.impl.EquinoxApplication.login(EquinoxApplication.java:248)\n    at com.rsc.mmpl.application.osgi.EquinoxApplicationActivator.propsFileLoaded(EquinoxApplicationActivator.java:255)\n    at com.rsc.mmpl.application.impl.EquinoxApplication$3$1.run(EquinoxApplication.java:569)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.io.IOException: Invalid response\n    at org.xnio.http.HttpUpgradeParser.parseVersion(HttpUpgradeParser.java:164)\n    at org.xnio.http.HttpUpgradeParser.parse(HttpUpgradeParser.java:55)\n    at org.xnio.http.HttpUpgrade$HttpUpgradeState$UpgradeResultListener.handleEvent(HttpUpgrade.java:419)\n    at org.xnio.http.HttpUpgrade$HttpUpgradeState.flushUpgradeChannel(HttpUpgrade.java:369)\n    at org.xnio.http.HttpUpgrade$HttpUpgradeState.access$900(HttpUpgrade.java:165)\n    at org.xnio.http.HttpUpgrade$HttpUpgradeState$ConnectionOpenListener.handleEvent(HttpUpgrade.java:340)\n    at org.xnio.http.HttpUpgrade$HttpUpgradeState$ConnectionOpenListener.handleEvent(HttpUpgrade.java:320)\n    at org.xnio.http.HttpUpgrade$HttpUpgradeState.upgradeExistingConnection(HttpUpgrade.java:315)\n    at org.xnio.http.HttpUpgrade.performUpgrade(HttpUpgrade.java:144)\n    at org.jboss.remoting3.remote.HttpUpgradeConnectionProvider$UpgradeListener.handleEvent(HttpUpgradeConnectionProvider.java:174)\n    at org.jboss.remoting3.remote.HttpUpgradeConnectionProvider$UpgradeListener.handleEvent(HttpUpgradeConnectionProvider.java:153)\n    at org.jboss.remoting3.remote.RemoteConnectionProvider$6.handleDone(RemoteConnectionProvider.java:283)\n    at org.jboss.remoting3.remote.RemoteConnectionProvider$6.handleDone(RemoteConnectionProvider.java:250)\n    at org.xnio.IoFuture$HandlingNotifier.notify(IoFuture.java:208)\n    at org.xnio.AbstractIoFuture$NotifierRunnable.run(AbstractIoFuture.java:720)\n    at org.xnio.IoUtils$2.execute(IoUtils.java:71)\n    at org.xnio.AbstractIoFuture.runNotifier(AbstractIoFuture.java:693)\n    at org.xnio.AbstractIoFuture$CompleteState.withNotifier(AbstractIoFuture.java:132)\n    at org.xnio.AbstractIoFuture.addNotifier(AbstractIoFuture.java:570)\n    at org.jboss.remoting3.remote.RemoteConnectionProvider.createSslConnection(RemoteConnectionProvider.java:250)\n    at org.jboss.remoting3.remote.HttpUpgradeConnectionProvider.createSslConnection(HttpUpgradeConnectionProvider.java:135)\n    at org.jboss.remoting3.remote.RemoteConnectionProvider.connect(RemoteConnectionProvider.java:206)\n    at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:648)\n    at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:565)\n    at org.jboss.remoting3.ConnectionInfo$None.getConnection(ConnectionInfo.java:82)\n    at org.jboss.remoting3.ConnectionInfo.getConnection(ConnectionInfo.java:55)\n    at org.jboss.remoting3.EndpointImpl.doGetConnection(EndpointImpl.java:499)\n    at org.jboss.remoting3.EndpointImpl.getConnectedIdentity(EndpointImpl.java:445)\n    at org.jboss.remoting3.UncloseableEndpoint.getConnectedIdentity(UncloseableEndpoint.java:52)\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.getFuturePeerIdentityPrivileged(RemoteNamingProvider.java:151)\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.lambda$getFuturePeerIdentity$0(RemoteNamingProvider.java:138)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.getFuturePeerIdentity(RemoteNamingProvider.java:138)\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentity(RemoteNamingProvider.java:126)\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNaming(RemoteNamingProvider.java:106)\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNaming(RemoteNamingProvider.java:53)\n    at org.wildfly.naming.client.NamingProvider.getPeerIdentityForNamingUsingRetry(NamingProvider.java:105)\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNamingUsingRetry(RemoteNamingProvider.java:91)\n    at org.wildfly.naming.client.remote.RemoteContext.lambda$listNative$6(RemoteContext.java:263)\n    at org.wildfly.naming.client.NamingProvider.performExceptionAction(NamingProvider.java:222)\n    at org.wildfly.naming.client.remote.RemoteContext.performWithRetry(RemoteContext.java:100)\n    at org.wildfly.naming.client.remote.RemoteContext.listNative(RemoteContext.java:262)\n    at org.wildfly.naming.client.AbstractFederatingContext.list(AbstractFederatingContext.java:269)\n    at org.wildfly.naming.client.AbstractFederatingContext.list(AbstractFederatingContext.java:42)\n    at org.wildfly.naming.client.WildFlyRootContext.list(WildFlyRootContext.java:272)\n    at java.naming/javax.naming.InitialContext.list(InitialContext.java:453)\n    at com.rsc.mmpl.util.JMSSubscriber.init(JMSSubscriber.java:267)\n    at com.rsc.mmpl.appletutil.JMSSubscriber.init(JMSSubscriber.java:210)\n    at com.rsc.mmpl.appletutil.ServerNotificationRouter.init(ServerNotificationRouter.java:246)\n    at com.rsc.mmpl.application.impl.EquinoxApplication.initializeJMSBridge(EquinoxApplication.java:759)\n    at com.rsc.mmpl.application.impl.EquinoxApplication.login(EquinoxApplication.java:248)\n    at com.rsc.mmpl.application.osgi.EquinoxApplicationActivator.propsFileLoaded(EquinoxApplicationActivator.java:255)\n    at com.rsc.mmpl.application.impl.EquinoxApplication$3$1.run(EquinoxApplication.java:569)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n    at ...asynchronous invocation...(Unknown Source)\n    at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:599)\n    at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:565)\n    at org.jboss.remoting3.ConnectionInfo$None.getConnection(ConnectionInfo.java:82)\n    at org.jboss.remoting3.ConnectionInfo.getConnection(ConnectionInfo.java:55)\n    at org.jboss.remoting3.EndpointImpl.doGetConnection(EndpointImpl.java:499)\n    at org.jboss.remoting3.EndpointImpl.getConnectedIdentity(EndpointImpl.java:445)\n    at org.jboss.remoting3.UncloseableEndpoint.getConnectedIdentity(UncloseableEndpoint.java:52)\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.getFuturePeerIdentityPrivileged(RemoteNamingProvider.java:151)\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.lambda$getFuturePeerIdentity$0(RemoteNamingProvider.java:138)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.getFuturePeerIdentity(RemoteNamingProvider.java:138)\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentity(RemoteNamingProvider.java:126)\n    at org.wildfly.naming.client.remote.RemoteNamingProvider.getPeerIdentityForNaming(RemoteNamingProvider.java:106)\n    ... 31 more\n</code></pre>\n<p>Standalone.xml for Wildfly server, truncated to the important parts. Note that the undertow configuration has a commented out https-listener element. I enable that one and disable the http-listener above it to change port 9090 to https:</p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:wildfly:elytron:15.1&quot; final-providers=&quot;combined-providers&quot; disallowed-providers=&quot;OracleUcrypto&quot;&gt;\n            &lt;providers&gt;\n                &lt;aggregate-providers name=&quot;combined-providers&quot;&gt;\n                    &lt;providers name=&quot;elytron&quot;/&gt;\n                    &lt;providers name=&quot;openssl&quot;/&gt;\n                &lt;/aggregate-providers&gt;\n                &lt;provider-loader name=&quot;elytron&quot; module=&quot;org.wildfly.security.elytron&quot;/&gt;\n                &lt;provider-loader name=&quot;openssl&quot; module=&quot;org.wildfly.openssl&quot;/&gt;\n            &lt;/providers&gt;\n            &lt;audit-logging&gt;\n                &lt;file-audit-log name=&quot;local-audit&quot; path=&quot;audit.log&quot; relative-to=&quot;jboss.server.log.dir&quot; format=&quot;JSON&quot;/&gt;\n            &lt;/audit-logging&gt;\n            &lt;security-domains&gt;\n                &lt;security-domain name=&quot;ManagementDomain&quot; default-realm=&quot;ManagementRealm&quot; permission-mapper=&quot;default-permission-mapper&quot;&gt;\n                    &lt;realm name=&quot;ManagementRealm&quot; role-decoder=&quot;groups-to-roles&quot;/&gt;\n                    &lt;realm name=&quot;local&quot; role-mapper=&quot;super-user-mapper&quot;/&gt;\n                &lt;/security-domain&gt;\n                &lt;security-domain name=&quot;ApplicationDomain&quot; default-realm=&quot;ApplicationRealm&quot; permission-mapper=&quot;default-permission-mapper&quot;&gt;\n                    &lt;realm name=&quot;ApplicationRealm&quot; role-decoder=&quot;groups-to-roles&quot;/&gt;\n                    &lt;realm name=&quot;local&quot;/&gt;\n                &lt;/security-domain&gt;\n            &lt;/security-domains&gt;\n            &lt;security-realms&gt;\n                &lt;identity-realm name=&quot;local&quot; identity=&quot;$local&quot;/&gt;\n                &lt;properties-realm name=&quot;ApplicationRealm&quot;&gt;\n                    &lt;users-properties path=&quot;application-users.properties&quot; relative-to=&quot;jboss.server.config.dir&quot; digest-realm-name=&quot;ApplicationRealm&quot;/&gt;\n                    &lt;groups-properties path=&quot;application-roles.properties&quot; relative-to=&quot;jboss.server.config.dir&quot;/&gt;\n                &lt;/properties-realm&gt;\n                &lt;properties-realm name=&quot;ManagementRealm&quot;&gt;\n                    &lt;users-properties path=&quot;mgmt-users.properties&quot; relative-to=&quot;jboss.server.config.dir&quot; digest-realm-name=&quot;ManagementRealm&quot;/&gt;\n                    &lt;groups-properties path=&quot;mgmt-groups.properties&quot; relative-to=&quot;jboss.server.config.dir&quot;/&gt;\n                &lt;/properties-realm&gt;\n            &lt;/security-realms&gt;\n            &lt;mappers&gt;\n                &lt;simple-permission-mapper name=&quot;default-permission-mapper&quot; mapping-mode=&quot;first&quot;&gt;\n                    &lt;permission-mapping&gt;\n                        &lt;principal name=&quot;anonymous&quot;/&gt;\n                        &lt;permission-set name=&quot;default-permissions&quot;/&gt;\n                    &lt;/permission-mapping&gt;\n                    &lt;permission-mapping match-all=&quot;true&quot;&gt;\n                        &lt;permission-set name=&quot;login-permission&quot;/&gt;\n                        &lt;permission-set name=&quot;default-permissions&quot;/&gt;\n                    &lt;/permission-mapping&gt;\n                &lt;/simple-permission-mapper&gt;\n                &lt;constant-realm-mapper name=&quot;local&quot; realm-name=&quot;local&quot;/&gt;\n                &lt;simple-role-decoder name=&quot;groups-to-roles&quot; attribute=&quot;groups&quot;/&gt;\n                &lt;constant-role-mapper name=&quot;super-user-mapper&quot;&gt;\n                    &lt;role name=&quot;SuperUser&quot;/&gt;\n                &lt;/constant-role-mapper&gt;\n            &lt;/mappers&gt;\n            &lt;permission-sets&gt;\n                &lt;permission-set name=&quot;login-permission&quot;&gt;\n                    &lt;permission class-name=&quot;org.wildfly.security.auth.permission.LoginPermission&quot;/&gt;\n                &lt;/permission-set&gt;\n                &lt;permission-set name=&quot;default-permissions&quot;&gt;\n                    &lt;permission class-name=&quot;org.wildfly.extension.batch.jberet.deployment.BatchPermission&quot; module=&quot;org.wildfly.extension.batch.jberet&quot; target-name=&quot;*&quot;/&gt;\n                    &lt;permission class-name=&quot;org.wildfly.transaction.client.RemoteTransactionPermission&quot; module=&quot;org.wildfly.transaction.client&quot;/&gt;\n                    &lt;permission class-name=&quot;org.jboss.ejb.client.RemoteEJBPermission&quot; module=&quot;org.jboss.ejb-client&quot;/&gt;\n                &lt;/permission-set&gt;\n            &lt;/permission-sets&gt;\n            &lt;http&gt;\n                &lt;http-authentication-factory name=&quot;management-http-authentication&quot; security-domain=&quot;ManagementDomain&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\n                    &lt;mechanism-configuration&gt;\n                        &lt;mechanism mechanism-name=&quot;DIGEST&quot;&gt;\n                            &lt;mechanism-realm realm-name=&quot;ManagementRealm&quot;/&gt;\n                        &lt;/mechanism&gt;\n                    &lt;/mechanism-configuration&gt;\n                &lt;/http-authentication-factory&gt;\n                &lt;http-authentication-factory name=&quot;application-http-authentication&quot; security-domain=&quot;ApplicationDomain&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\n                    &lt;mechanism-configuration&gt;\n                        &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\n                        &lt;/mechanism&gt;\n                    &lt;/mechanism-configuration&gt;\n                &lt;/http-authentication-factory&gt;\n                &lt;provider-http-server-mechanism-factory name=&quot;global&quot;/&gt;\n            &lt;/http&gt;\n            &lt;sasl&gt;\n                &lt;sasl-authentication-factory name=&quot;management-sasl-authentication&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;ManagementDomain&quot;&gt;\n                    &lt;mechanism-configuration&gt;\n                        &lt;mechanism mechanism-name=&quot;JBOSS-LOCAL-USER&quot; realm-mapper=&quot;local&quot;/&gt;\n                        &lt;mechanism mechanism-name=&quot;DIGEST-MD5&quot;&gt;\n                            &lt;mechanism-realm realm-name=&quot;ManagementRealm&quot;/&gt;\n                        &lt;/mechanism&gt;\n                    &lt;/mechanism-configuration&gt;\n                &lt;/sasl-authentication-factory&gt;\n                &lt;sasl-authentication-factory name=&quot;application-sasl-authentication&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;ApplicationDomain&quot;&gt;\n                    &lt;mechanism-configuration&gt;\n                        &lt;mechanism mechanism-name=&quot;JBOSS-LOCAL-USER&quot; realm-mapper=&quot;local&quot;/&gt;\n                        &lt;mechanism mechanism-name=&quot;DIGEST-MD5&quot;&gt;\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\n                        &lt;/mechanism&gt;\n                    &lt;/mechanism-configuration&gt;\n                &lt;/sasl-authentication-factory&gt;\n                &lt;configurable-sasl-server-factory name=&quot;configured&quot; sasl-server-factory=&quot;elytron&quot;&gt;\n                    &lt;properties&gt;\n                        &lt;property name=&quot;wildfly.sasl.local-user.default-user&quot; value=&quot;$local&quot;/&gt;\n                        &lt;property name=&quot;wildfly.sasl.local-user.challenge-path&quot; value=&quot;${jboss.server.temp.dir}/auth&quot;/&gt;\n                    &lt;/properties&gt;\n                &lt;/configurable-sasl-server-factory&gt;\n                &lt;mechanism-provider-filtering-sasl-server-factory name=&quot;elytron&quot; sasl-server-factory=&quot;global&quot;&gt;\n                    &lt;filters&gt;\n                        &lt;filter provider-name=&quot;WildFlyElytron&quot;/&gt;\n                    &lt;/filters&gt;\n                &lt;/mechanism-provider-filtering-sasl-server-factory&gt;\n                &lt;provider-sasl-server-factory name=&quot;global&quot;/&gt;\n            &lt;/sasl&gt;\n            &lt;tls&gt;\n                &lt;key-stores&gt;\n                    &lt;key-store name=&quot;applicationKS&quot;&gt;\n                        &lt;credential-reference clear-text=&quot;password&quot;/&gt;\n                        &lt;implementation type=&quot;Windows-ROOT&quot; provider-name=&quot;SunMSCAPI&quot;/&gt;\n                    &lt;/key-store&gt;\n                &lt;/key-stores&gt;\n                &lt;key-managers&gt;\n                    &lt;key-manager name=&quot;applicationKM&quot; key-store=&quot;applicationKS&quot;&gt;\n                        &lt;credential-reference clear-text=&quot;password&quot;/&gt;\n                    &lt;/key-manager&gt;\n                &lt;/key-managers&gt;\n                &lt;server-ssl-contexts&gt;\n                    &lt;server-ssl-context name=&quot;applicationSSC&quot; key-manager=&quot;applicationKM&quot;/&gt;\n                &lt;/server-ssl-contexts&gt;\n            &lt;/tls&gt;\n            &lt;credential-stores&gt;\n                &lt;credential-store name=&quot;MMCredStore&quot; relative-to=&quot;jboss.server.data.dir&quot; path=&quot;fapsCred.cs&quot; create=&quot;true&quot;&gt;\n                    &lt;credential-reference clear-text=&quot;cleartextpassword&quot;/&gt;\n                &lt;/credential-store&gt;\n            &lt;/credential-stores&gt;\n        &lt;/subsystem&gt;\n...\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:naming:2.0&quot;&gt;\n            &lt;remote-naming/&gt;\n        &lt;/subsystem&gt;\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:remoting:4.0&quot;&gt;\n            &lt;http-connector name=&quot;http-remoting-connector&quot; connector-ref=&quot;default&quot; /&gt;\n        &lt;/subsystem&gt;\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:8.0&quot;&gt;\n            &lt;server name=&quot;default&quot;&gt;\n                &lt;statistics enabled=&quot;${wildfly.messaging-activemq.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;/&gt;\n                &lt;security enabled=&quot;false&quot;/&gt;\n                &lt;address-setting name=&quot;#&quot; dead-letter-address=&quot;jms.queue.DLQ&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; max-size-bytes=&quot;10485760&quot; page-size-bytes=&quot;2097152&quot; message-counter-history-day-limit=&quot;10&quot;/&gt;\n                &lt;http-connector name=&quot;http-connector&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor&quot;/&gt;\n                &lt;http-connector name=&quot;http-connector-throughput&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor-throughput&quot;&gt;\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\n                &lt;/http-connector&gt;\n                &lt;in-vm-connector name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\n                    &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\n                &lt;/in-vm-connector&gt;\n                &lt;http-acceptor name=&quot;http-acceptor&quot; http-listener=&quot;default&quot;/&gt;\n                &lt;http-acceptor name=&quot;http-acceptor-throughput&quot; http-listener=&quot;default&quot;&gt;\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\n                    &lt;param name=&quot;direct-deliver&quot; value=&quot;false&quot;/&gt;\n                &lt;/http-acceptor&gt;\n                &lt;in-vm-acceptor name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\n                    &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\n                &lt;/in-vm-acceptor&gt;\n                ...\n                &lt;connection-factory name=&quot;InVmConnectionFactory&quot; entries=&quot;java:/ConnectionFactory java:/com.rsc.mmpl.TopicConnectionFactory java:/com.rsc.mmpl.Log4jTopicConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\n                &lt;connection-factory name=&quot;RemoteConnectionFactory&quot; retry-interval=&quot;1000&quot; reconnect-attempts=&quot;1000&quot; entries=&quot;java:jboss/exported/jms/RemoteConnectionFactory java:jboss/exported/com.rsc.mmpl.TopicConnectionFactory java:jboss/exported/com.rsc.mmpl.Log4jTopicConnectionFactory&quot; connectors=&quot;http-connector&quot;/&gt;\n                &lt;pooled-connection-factory name=&quot;activemq-ra&quot; transaction=&quot;xa&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\n            &lt;/server&gt;\n        &lt;/subsystem&gt;\n...\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:12.0&quot; default-server=&quot;default-server&quot; default-virtual-host=&quot;default-host&quot; default-servlet-container=&quot;default&quot; default-security-domain=&quot;other&quot; statistics-enabled=&quot;${wildfly.undertow.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;&gt;\n            &lt;buffer-cache name=&quot;default&quot;/&gt;\n            &lt;server name=&quot;default-server&quot;&gt;\n                &lt;http-listener name=&quot;default&quot; socket-binding=&quot;http&quot; redirect-socket=&quot;https&quot; enable-http2=&quot;true&quot;/&gt; \n                &lt;!-- &lt;https-listener name=&quot;default&quot; socket-binding=&quot;http&quot; ssl-context=&quot;applicationSSC&quot; enable-http2=&quot;true&quot;/&gt; --&gt;\n                &lt;https-listener name=&quot;https&quot; socket-binding=&quot;https&quot; ssl-context=&quot;applicationSSC&quot; enable-http2=&quot;true&quot;/&gt;\n                &lt;host name=&quot;default-host&quot; alias=&quot;localhost&quot;&gt;\n                    &lt;location name=&quot;/&quot; handler=&quot;welcome-content&quot;/&gt;\n                    &lt;http-invoker security-realm=&quot;ApplicationRealm&quot;/&gt;\n                &lt;/host&gt;\n            &lt;/server&gt;\n            &lt;servlet-container name=&quot;default&quot;&gt;\n                &lt;jsp-config/&gt;\n                &lt;websockets/&gt;\n            &lt;/servlet-container&gt;\n            &lt;handlers&gt;\n                &lt;file name=&quot;welcome-content&quot; path=&quot;${jboss.home.dir}/welcome-content&quot;/&gt;\n            &lt;/handlers&gt;\n            &lt;application-security-domains&gt;\n                &lt;application-security-domain name=&quot;other&quot; security-domain=&quot;ApplicationDomain&quot;/&gt;\n            &lt;/application-security-domains&gt;\n        &lt;/subsystem&gt;\n...\n     &lt;interfaces&gt;\n        &lt;interface name=&quot;management&quot;&gt;\n            &lt;inet-address value=&quot;${jboss.bind.address.management:127.0.0.1}&quot;/&gt;\n        &lt;/interface&gt;\n        &lt;interface name=&quot;public&quot;&gt;\n            &lt;inet-address value=&quot;${jboss.bind.address:127.0.0.1}&quot;/&gt;\n        &lt;/interface&gt;\n    &lt;/interfaces&gt;\n    &lt;socket-binding-group name=&quot;standard-sockets&quot; default-interface=&quot;public&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot;&gt;\n        ...\n        &lt;socket-binding name=&quot;http&quot; port=&quot;${jboss.http.port:9090}&quot;/&gt;\n        &lt;socket-binding name=&quot;https&quot; port=&quot;${jboss.https.port:8443}&quot;/&gt;\n        ...\n    &lt;/socket-binding-group&gt;\n</code></pre>\n<p>My client code does use jboss-client.jar, so I'm rather sure I'll need to update the configuration of my wildfly-config.xml file that the client reads. Trouble is, I don't know how to configure that to use the Windows-ROOT certificate store like the server is using. Here's the wildfly-client.xml as it stands... Could anyone instruct me on what to add to this file to allow my client JNDI lookups to communicate successfully with my server?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n \n&lt;configuration&gt;\n    &lt;jboss-ejb-client xmlns=&quot;urn:jboss:wildfly-client-ejb:3.0&quot;&gt;\n       &lt;connections&gt;\n        &lt;connection uri=&quot;remote+http://&lt;FQDNofHost&gt;:9090&quot;/&gt;\n       &lt;/connections&gt;\n    &lt;/jboss-ejb-client&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","mule","gitlab-ci","maven-3","mule-esb"],"comments":[{"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"р&#252;ффп"},"score":0,"creation_date":1693908280,"post_id":71134866,"comment_id":135818196,"body_markdown":"Before comiting your code in gitlab, did you try to compile it locally?","body":"Before comiting your code in gitlab, did you try to compile it locally?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644973332,"creation_date":1644973332,"answer_id":71135254,"question_id":71134866,"body_markdown":"The problem is in the Java code of the project as the error messages say. Fix those and it should comoile. It has nothing to do with Mule nor Maven. They are Java programming errors.\r\n\r\nThe project is certainly a mess, that&#39;s for sure. The Java files without packages or an incorrect directory, and the basic conversion errors are a good hint. The description of the Maven says it is a Mule 4.3 application but it is a Mule 3.8 project. And the names of the files don&#39;t even follow Java convention for classes. com.mess indeed.\r\n","title":"Failed to build maven mule application","body":"<p>The problem is in the Java code of the project as the error messages say. Fix those and it should comoile. It has nothing to do with Mule nor Maven. They are Java programming errors.</p>\n<p>The project is certainly a mess, that's for sure. The Java files without packages or an incorrect directory, and the basic conversion errors are a good hint. The description of the Maven says it is a Mule 4.3 application but it is a Mule 3.8 project. And the names of the files don't even follow Java convention for classes. com.mess indeed.</p>\n"}],"owner":{"account_id":23445845,"reputation":37,"user_id":17502685,"display_name":"Vancho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1920,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694099821,"creation_date":1644969370,"question_id":71134866,"body_markdown":"When i deploy via gitlab i got this error \r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.0:compile (default-compile) on project project-1.0.0: Compilation failure: Compilation failure:\r\n    [ERROR] /builds/test2/project-1.0.0/src/main/java/not1.java:[116,3] class not1 is already defined in package unnamed package\r\n    [ERROR] /builds/test2/project-1.0.0/src/main/java/notmess.java:[100,70] package priority does not exist\r\n    [ERROR] /builds/test2/project-1.0.0/src/main/java/gen-mess.java:[13,38] incompatible types: int cannot be converted to java.lang.String\r\n    [ERROR] //builds/test2/project-1.0.0/src/main/java/updatemess55.java:[44,103] incompatible types: long cannot be converted to java.lang.String\r\n    [ERROR] /builds/test2/project-1.0.0/src/main/java/subsservice-mess12.java:[50,110] incompatible types: long cannot be converted to java.lang.String\r\n\r\n\r\nPOM.xml : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.mess&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;message-app54&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;packaging&gt;mule&lt;/packaging&gt;\r\n    \t&lt;name&gt;Mule 43 Application&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \r\n    \t\t&lt;mule.version&gt;3.8.0&lt;/mule.version&gt;\r\n        \t&lt;mule.tools.version&gt;1.2&lt;/mule.tools.version&gt;\r\n    \t&lt;munit.version&gt;1.3.1&lt;/munit.version&gt;\r\n        &lt;mule.munit.support.version&gt;3.8.2&lt;/mule.munit.support.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.mule.tools.maven&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;mule-app-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${mule.tools.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n                        &lt;copyToAppsDirectory&gt;true&lt;/copyToAppsDirectory&gt;\r\n                    &lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;add-resource&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;add-resource&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;resources&gt;\r\n    \t\t\t\t\t\t\t\t&lt;resource&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;directory&gt;src/main/app/&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n    \t\t\t\t\t\t\t\t&lt;resource&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;directory&gt;mappings/&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n    \t\t\t\t\t\t\t&lt;resource&gt;\r\n                                        &lt;directory&gt;src/main/api/&lt;/directory&gt;\r\n                                    &lt;/resource&gt;\r\n                                &lt;/resources&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n                    &lt;groupId&gt;com.mulesoft.munit.tools&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;munit-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${munit.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;test&lt;/id&gt;\r\n                            &lt;phase&gt;test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;test&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;coverage&gt;\r\n                            &lt;runCoverage&gt;true&lt;/runCoverage&gt;\r\n                            &lt;formats&gt;\r\n                                &lt;format&gt;html&lt;/format&gt;\r\n                            &lt;/formats&gt;\r\n                        &lt;/coverage&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.7&lt;/source&gt;\r\n                        &lt;target&gt;1.7&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n    \t&lt;testResources&gt;\r\n                &lt;testResource&gt;\r\n                    &lt;directory&gt;src/test/munit&lt;/directory&gt;\r\n                &lt;/testResource&gt;\r\n            &lt;testResource&gt;\r\n                    &lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n                &lt;/testResource&gt;\r\n            &lt;/testResources&gt;\r\n        &lt;/build&gt;\r\n    \r\n    \t&lt;!-- Mule Dependencies --&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- Xml configuration --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mule-module-spring-config&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${mule.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Mule Transports --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mule-transport-file&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${mule.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mule-transport-http&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${mule.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mule-transport-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${mule.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mule-transport-jms&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${mule.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mule-transport-vm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${mule.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Mule Modules --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mule-module-scripting&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${mule.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mule-module-xml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${mule.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- for testing --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mule.tests&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mule-tests-functional&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${mule.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mule-module-apikit&lt;/artifactId&gt;\r\n                &lt;version&gt;${mule.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;cglib&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.2&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mule-module-db&lt;/artifactId&gt;\r\n                &lt;version&gt;${mule.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.20&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mule-module-json&lt;/artifactId&gt;\r\n                &lt;version&gt;${mule.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mule-transport-email&lt;/artifactId&gt;\r\n                &lt;version&gt;${mule.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mule-module-http&lt;/artifactId&gt;\r\n                &lt;version&gt;${mule.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mule-module-jersey&lt;/artifactId&gt;\r\n                &lt;version&gt;${mule.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;20160810&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t    &lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;1.30.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;0.17.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;2.8.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        &lt;version&gt;17.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n      &lt;version&gt;23.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mulesoft.munit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mule-munit-support&lt;/artifactId&gt;\r\n                &lt;version&gt;${mule.munit.support.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mulesoft.munit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;munit-runner&lt;/artifactId&gt;\r\n                &lt;version&gt;${munit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mule-transport-quartz&lt;/artifactId&gt;\r\n                &lt;version&gt;${mule.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mule-transport-jetty&lt;/artifactId&gt;\r\n                &lt;version&gt;${mule.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n              &lt;repository&gt;\r\n                &lt;id&gt;Central&lt;/id&gt;\r\n                &lt;name&gt;Central&lt;/name&gt;\r\n                &lt;url&gt;http://repo1.maven.org/maven2/&lt;/url&gt;\r\n                &lt;layout&gt;default&lt;/layout&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;mulesoft-releases&lt;/id&gt;\r\n                &lt;name&gt;MuleSoft Releases Repository&lt;/name&gt;\r\n                &lt;url&gt;http://repository.mulesoft.org/releases/&lt;/url&gt;\r\n                &lt;layout&gt;default&lt;/layout&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;mulesoft-release&lt;/id&gt;\r\n                &lt;name&gt;mulesoft release repository&lt;/name&gt;\r\n                &lt;layout&gt;default&lt;/layout&gt;\r\n                &lt;url&gt;http://repository.mulesoft.org/releases/&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nI have tried to edit and edit maven-compiler-plugin version to older one but that doesn&#39;t solve the problem\r\n\r\nAlso i have run on 3.3.9-jdk8 on mule with gitlab ci/cd. This is little older project and it was manually having changes applied on the server directly, so i wanted to integrate in gitlab so it will run good with automatic ci/cd\r\n\r\nThanks\r\n","title":"Failed to build maven mule application","body":"<p>When i deploy via gitlab i got this error</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.0:compile (default-compile) on project project-1.0.0: Compilation failure: Compilation failure:\n[ERROR] /builds/test2/project-1.0.0/src/main/java/not1.java:[116,3] class not1 is already defined in package unnamed package\n[ERROR] /builds/test2/project-1.0.0/src/main/java/notmess.java:[100,70] package priority does not exist\n[ERROR] /builds/test2/project-1.0.0/src/main/java/gen-mess.java:[13,38] incompatible types: int cannot be converted to java.lang.String\n[ERROR] //builds/test2/project-1.0.0/src/main/java/updatemess55.java:[44,103] incompatible types: long cannot be converted to java.lang.String\n[ERROR] /builds/test2/project-1.0.0/src/main/java/subsservice-mess12.java:[50,110] incompatible types: long cannot be converted to java.lang.String\n</code></pre>\n<p>POM.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mess&lt;/groupId&gt;\n    &lt;artifactId&gt;message-app54&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;mule&lt;/packaging&gt;\n    &lt;name&gt;Mule 43 Application&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n        &lt;mule.version&gt;3.8.0&lt;/mule.version&gt;\n        &lt;mule.tools.version&gt;1.2&lt;/mule.tools.version&gt;\n    &lt;munit.version&gt;1.3.1&lt;/munit.version&gt;\n    &lt;mule.munit.support.version&gt;3.8.2&lt;/mule.munit.support.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.mule.tools.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;mule-app-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${mule.tools.version}&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;configuration&gt;\n                    &lt;copyToAppsDirectory&gt;true&lt;/copyToAppsDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.7&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;add-resource&lt;/id&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;add-resource&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/main/app/&lt;/directory&gt;\n                                &lt;/resource&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;mappings/&lt;/directory&gt;\n                                &lt;/resource&gt;\n                            &lt;resource&gt;\n                                    &lt;directory&gt;src/main/api/&lt;/directory&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;plugin&gt;\n                &lt;groupId&gt;com.mulesoft.munit.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;munit-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${munit.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;coverage&gt;\n                        &lt;runCoverage&gt;true&lt;/runCoverage&gt;\n                        &lt;formats&gt;\n                            &lt;format&gt;html&lt;/format&gt;\n                        &lt;/formats&gt;\n                    &lt;/coverage&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;src/test/munit&lt;/directory&gt;\n            &lt;/testResource&gt;\n        &lt;testResource&gt;\n                &lt;directory&gt;src/test/resources&lt;/directory&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n    &lt;/build&gt;\n\n    &lt;!-- Mule Dependencies --&gt;\n    &lt;dependencies&gt;\n        &lt;!-- Xml configuration --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-module-spring-config&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Mule Transports --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-transport-file&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-transport-http&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-transport-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-transport-jms&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-transport-vm&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Mule Modules --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-module-scripting&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-module-xml&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- for testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.tests&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-tests-functional&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-module-apikit&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\n            &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n            &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-module-db&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.20&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-module-json&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-transport-email&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-module-http&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.modules&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-module-jersey&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20160810&lt;/version&gt;\n        &lt;/dependency&gt;\n            &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n            &lt;version&gt;1.30.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n          &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n          &lt;version&gt;0.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n    &lt;version&gt;17.0&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;dependency&gt;\n  &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n  &lt;artifactId&gt;guava&lt;/artifactId&gt;\n  &lt;version&gt;23.0&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;com.mulesoft.munit&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-munit-support&lt;/artifactId&gt;\n            &lt;version&gt;${mule.munit.support.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;com.mulesoft.munit&lt;/groupId&gt;\n            &lt;artifactId&gt;munit-runner&lt;/artifactId&gt;\n            &lt;version&gt;${munit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-transport-quartz&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.mule.transports&lt;/groupId&gt;\n            &lt;artifactId&gt;mule-transport-jetty&lt;/artifactId&gt;\n            &lt;version&gt;${mule.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n          &lt;repository&gt;\n            &lt;id&gt;Central&lt;/id&gt;\n            &lt;name&gt;Central&lt;/name&gt;\n            &lt;url&gt;http://repo1.maven.org/maven2/&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;mulesoft-releases&lt;/id&gt;\n            &lt;name&gt;MuleSoft Releases Repository&lt;/name&gt;\n            &lt;url&gt;http://repository.mulesoft.org/releases/&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;mulesoft-release&lt;/id&gt;\n            &lt;name&gt;mulesoft release repository&lt;/name&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n            &lt;url&gt;http://repository.mulesoft.org/releases/&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I have tried to edit and edit maven-compiler-plugin version to older one but that doesn't solve the problem</p>\n<p>Also i have run on 3.3.9-jdk8 on mule with gitlab ci/cd. This is little older project and it was manually having changes applied on the server directly, so i wanted to integrate in gitlab so it will run good with automatic ci/cd</p>\n<p>Thanks</p>\n"},{"tags":["java","jackson","deserialization","json-deserialization"],"comments":[{"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1694099689,"post_id":77060729,"comment_id":135849668,"body_markdown":"You can add a wrapper layer to achieve your goal, e.g: `List&lt;Foo&gt;` =&gt; `List&lt;FooView&lt;Foo&gt;&gt;`, `Bar` =&gt; `BarView&lt;Bar&gt;` , then you can control them since it created by yourself.","body":"You can add a wrapper layer to achieve your goal, e.g: <code>List&lt;Foo&gt;</code> =&gt; <code>List&lt;FooView&lt;Foo&gt;&gt;</code>, <code>Bar</code> =&gt; <code>BarView&lt;Bar&gt;</code> , then you can control them since it created by yourself."},{"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"score":0,"creation_date":1694100060,"post_id":77060729,"comment_id":135849763,"body_markdown":"@holi-java can you expand the explanation of your solution? How would be `FooView` and `BarView`? How can deserialize map entries `Foo` as `FooView` and `Bar` as `BarView` and all other entries as default?","body":"@holi-java can you expand the explanation of your solution? How would be <code>FooView</code> and <code>BarView</code>? How can deserialize map entries <code>Foo</code> as <code>FooView</code> and <code>Bar</code> as <code>BarView</code> and all other entries as default?"},{"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1694100730,"post_id":77060729,"comment_id":135849921,"body_markdown":"`FooWiew` is just a pojo take a `Foo` instance with your custom getters. No need to write your Deserializer.","body":"<code>FooWiew</code> is just a pojo take a <code>Foo</code> instance with your custom getters. No need to write your Deserializer."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1694101947,"post_id":77060729,"comment_id":135850184,"body_markdown":"You are creating `new ObjectMapper()` and `new JsonFactory()` every time you deserialize. This is very wasteful (lots of repeated work, constantly garbage collecting)","body":"You are creating <code>new ObjectMapper()</code> and <code>new JsonFactory()</code> every time you deserialize. This is very wasteful (lots of repeated work, constantly garbage collecting)"},{"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"score":0,"creation_date":1694156987,"post_id":77060729,"comment_id":135856990,"body_markdown":"@holi-java I can&#39;t even declare `List&lt;FooView&lt;Foo&gt;&gt;` because Foo class is not in my classpath.","body":"@holi-java I can&#39;t even declare <code>List&lt;FooView&lt;Foo&gt;&gt;</code> because Foo class is not in my classpath."},{"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"score":0,"creation_date":1694157101,"post_id":77060729,"comment_id":135857011,"body_markdown":"@lance-java is just an example for the sake of brevity, in the real code I don&#39;t create them every time.","body":"@lance-java is just an example for the sake of brevity, in the real code I don&#39;t create them every time."}],"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694098990,"creation_date":1694098607,"question_id":77060729,"body_markdown":"Suppose a JSON representation of `Map&lt;String, Object&gt;`. I want to deserialize it as default except by two entries (`List&lt;Foo&gt;` and `Bar`), which I want a custom deserialization.\r\n\r\nIs it possible?\r\n\r\nFirst approach. I tried with a `BeanDeserializerModifier`. The problem is that it allows assign a custom deserialization by type, not by name of the entry. \r\n\r\nIn other words I have been able to change how a map is deserialized, but I want all other entries will be deserialized as default.\r\n\r\n    class MapTypeJsonDeserializer extends SimpleDeserializers {\r\n\t\r\n\t    @Override\r\n    \tpublic JsonDeserializer&lt;?&gt; findMapDeserializer (MapType type, DeserializationConfig config, BeanDescription beanDesc, KeyDeserializer keyDeserializer, TypeDeserializer elementTypeDeserializer, JsonDeserializer&lt;?&gt; elementDeserializer) throws JsonMappingException {\r\n\t\t    return new CustomMapDeserializer();\r\n\t    }\r\n    }\r\n\r\n    class CustomMapDeserializer extends JsonDeserializer&lt;Map&lt;String, Object&gt;&gt; {\r\n\t\r\n\t    @Override\r\n\t    public Map&lt;String, Object&gt; deserialize (JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\r\n\t\t\t// trying to remove entries which I want a custom deserialization\r\n\t\t\tJsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n\t\t\t((ObjectNode) node).remove(&quot;foo&quot;);\r\n\t\t\t((ObjectNode) node).remove(&quot;bar&quot;);\r\n\r\n\t\t\t// trying to deserialize other entries as default... \r\n\t\t\tString updatedJson = new ObjectMapper().writeValueAsString(node);\r\n\t\t\tJsonParser updatedJsonParser = new JsonFactory().createParser(updatedJson);\r\n\r\n\t\t\t// error trying to call super class (is abstract) to deserialize as default\r\n\t\t\tMap&lt;String, Object&gt; result = super.deserialize(updatedJsonParser, deserializationContext);\r\n\r\n\t\t\t// finally I would try to add custom deserialization entries to resulting map...\r\n\t    }\r\n    }\r\n\r\n    public static void main (String[] args) throws JsonProcessingException {\r\n        SimpleModule mapTypeDeserializerModule = new SimpleModule();\r\n    \tmapTypeDeserializerModule.setDeserializers(new MapTypeJsonDeserializer());\r\n    \tString jsonMap = &quot;{\\&quot;someEntry\\&quot;:\\&quot;ES\\&quot;,\\&quot;foo\\&quot;:[{...}, {...}],\\&quot;bar\\&quot;:{...}&quot;;\r\n\t    \r\n    \tMap&lt;String, String&gt; resultMap = new ObjectMapper().registerModule(mapTypeDeserializerModule).readValue(jsonMap, new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {});\r\n    }\r\n\r\nHow can I deserialize all other map entries as default?\r\n\r\nAnother idea was to create custom deserializers for `Foo` and `Bar` types, but I want to store them in map as `JsonNode` because this classes are not in my classpath and I can&#39;t build and instance of them.\r\n\r\nI don&#39;t know if is possible create a custom deserializer which for a type `Foo` returns a `JsonNode`, something like that obviously do not compile:\r\n\r\n\tclass FooDeserializer extends JsonDeserializer&lt;Foo&gt; {\r\n\t\r\n\t\t@Override\r\n\t\tpublic Foo deserialize (JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\r\n\t\t\tJsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n\t\t\treturn node;\r\n\t\t}\r\n\t}\r\n\r\nIn short, I want to deserialize a `Map&lt;String, Object&gt;` as default except by some entries which contains some types that I need to keep, but I cannot build an instance of these because its classes is not in classpath (that&#39;s why I tried to keep them as original JSON like `JsonNode`).\r\n\r\nAnother idea was use a `BeanDeserializerModifier` to assign a custom deserializer to `Foo` and `Bar`, but this lead me to create a deserializer for `Foo`/`Bar` that returns a `JsoNode` (same problem as above).\r\n\r\nAny help is appreciated.","title":"Jackson - Custom deserialization only to some map entries","body":"<p>Suppose a JSON representation of <code>Map&lt;String, Object&gt;</code>. I want to deserialize it as default except by two entries (<code>List&lt;Foo&gt;</code> and <code>Bar</code>), which I want a custom deserialization.</p>\n<p>Is it possible?</p>\n<p>First approach. I tried with a <code>BeanDeserializerModifier</code>. The problem is that it allows assign a custom deserialization by type, not by name of the entry.</p>\n<p>In other words I have been able to change how a map is deserialized, but I want all other entries will be deserialized as default.</p>\n<pre><code>class MapTypeJsonDeserializer extends SimpleDeserializers {\n\n    @Override\n    public JsonDeserializer&lt;?&gt; findMapDeserializer (MapType type, DeserializationConfig config, BeanDescription beanDesc, KeyDeserializer keyDeserializer, TypeDeserializer elementTypeDeserializer, JsonDeserializer&lt;?&gt; elementDeserializer) throws JsonMappingException {\n        return new CustomMapDeserializer();\n    }\n}\n\nclass CustomMapDeserializer extends JsonDeserializer&lt;Map&lt;String, Object&gt;&gt; {\n\n    @Override\n    public Map&lt;String, Object&gt; deserialize (JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\n        // trying to remove entries which I want a custom deserialization\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        ((ObjectNode) node).remove(&quot;foo&quot;);\n        ((ObjectNode) node).remove(&quot;bar&quot;);\n\n        // trying to deserialize other entries as default... \n        String updatedJson = new ObjectMapper().writeValueAsString(node);\n        JsonParser updatedJsonParser = new JsonFactory().createParser(updatedJson);\n\n        // error trying to call super class (is abstract) to deserialize as default\n        Map&lt;String, Object&gt; result = super.deserialize(updatedJsonParser, deserializationContext);\n\n        // finally I would try to add custom deserialization entries to resulting map...\n    }\n}\n\npublic static void main (String[] args) throws JsonProcessingException {\n    SimpleModule mapTypeDeserializerModule = new SimpleModule();\n    mapTypeDeserializerModule.setDeserializers(new MapTypeJsonDeserializer());\n    String jsonMap = &quot;{\\&quot;someEntry\\&quot;:\\&quot;ES\\&quot;,\\&quot;foo\\&quot;:[{...}, {...}],\\&quot;bar\\&quot;:{...}&quot;;\n    \n    Map&lt;String, String&gt; resultMap = new ObjectMapper().registerModule(mapTypeDeserializerModule).readValue(jsonMap, new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {});\n}\n</code></pre>\n<p>How can I deserialize all other map entries as default?</p>\n<p>Another idea was to create custom deserializers for <code>Foo</code> and <code>Bar</code> types, but I want to store them in map as <code>JsonNode</code> because this classes are not in my classpath and I can't build and instance of them.</p>\n<p>I don't know if is possible create a custom deserializer which for a type <code>Foo</code> returns a <code>JsonNode</code>, something like that obviously do not compile:</p>\n<pre><code>class FooDeserializer extends JsonDeserializer&lt;Foo&gt; {\n\n    @Override\n    public Foo deserialize (JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        return node;\n    }\n}\n</code></pre>\n<p>In short, I want to deserialize a <code>Map&lt;String, Object&gt;</code> as default except by some entries which contains some types that I need to keep, but I cannot build an instance of these because its classes is not in classpath (that's why I tried to keep them as original JSON like <code>JsonNode</code>).</p>\n<p>Another idea was use a <code>BeanDeserializerModifier</code> to assign a custom deserializer to <code>Foo</code> and <code>Bar</code>, but this lead me to create a deserializer for <code>Foo</code>/<code>Bar</code> that returns a <code>JsoNode</code> (same problem as above).</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","libraries"],"comments":[{"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"score":0,"creation_date":1589768068,"post_id":61819573,"comment_id":109415425,"body_markdown":"Why are you adding tthe jar to opendj? Is that the application that is getting the error?","body":"Why are you adding tthe jar to opendj? Is that the application that is getting the error?"},{"owner":{"account_id":15069326,"reputation":353,"user_id":10875401,"display_name":"Dean013"},"score":0,"creation_date":1589806069,"post_id":61819573,"comment_id":109430264,"body_markdown":"Yes, that is the application that is having this issue. Unlike other threads that have this issue, I am getting this issue outside of a development platform (Eclipse/maven) and do not know how to solve it.","body":"Yes, that is the application that is having this issue. Unlike other threads that have this issue, I am getting this issue outside of a development platform (Eclipse/maven) and do not know how to solve it."}],"answers":[{"tags":[],"owner":{"account_id":18469952,"reputation":371,"user_id":13455138,"display_name":"mononoke83"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1694098120,"creation_date":1593072118,"answer_id":62570635,"question_id":61819573,"body_markdown":"Firstly, you should take a look here: https://www.slf4j.org/codes.html\r\n\r\nAlso, you can try adding these SLF4J maven dependencies into your pom and let me know if this works:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.20.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.20.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n    &lt;version&gt;2.20.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n*Note: Consider that the maven dependencies versions are being updated, then maybe you prefer use the lates version of the dependencies(for example for  log4j-api is 3.0.0-alpha1)*\r\n\r\nOn the other hand, this post could help you as well:\r\nhttps://mkyong.com/java/log4j2-failed-to-load-class-org-slf4j-impl-staticloggerbinder/","title":"How do I fix &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot;","body":"<p>Firstly, you should take a look here: <a href=\"https://www.slf4j.org/codes.html\" rel=\"nofollow noreferrer\">https://www.slf4j.org/codes.html</a></p>\n<p>Also, you can try adding these SLF4J maven dependencies into your pom and let me know if this works:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><em>Note: Consider that the maven dependencies versions are being updated, then maybe you prefer use the lates version of the dependencies(for example for  log4j-api is 3.0.0-alpha1)</em></p>\n<p>On the other hand, this post could help you as well:\n<a href=\"https://mkyong.com/java/log4j2-failed-to-load-class-org-slf4j-impl-staticloggerbinder/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/log4j2-failed-to-load-class-org-slf4j-impl-staticloggerbinder/</a></p>\n"},{"tags":[],"owner":{"account_id":14404539,"reputation":71,"user_id":13898185,"display_name":"Akta Kalariya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617631809,"creation_date":1617631809,"answer_id":66954369,"question_id":61819573,"body_markdown":"In my case I was getting this error while using MavenCli lib. I had missed to add maven-compat lib in pom.xml. Below is full sample code I had used.\r\n\r\nSample code :\r\n```\r\nMavenCli mavenCli=new MavenCli();\r\nmavenCli.doMain(new String[]{&quot;clean&quot;,&quot;install&quot;}, path_of_project_dir, System.out, System.out);\r\n```\r\n\r\nDependency required :\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-embedder&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.30&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"How do I fix &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot;","body":"<p>In my case I was getting this error while using MavenCli lib. I had missed to add maven-compat lib in pom.xml. Below is full sample code I had used.</p>\n<p>Sample code :</p>\n<pre><code>MavenCli mavenCli=new MavenCli();\nmavenCli.doMain(new String[]{&quot;clean&quot;,&quot;install&quot;}, path_of_project_dir, System.out, System.out);\n</code></pre>\n<p>Dependency required :</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-embedder&lt;/artifactId&gt;\n            &lt;version&gt;3.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\n            &lt;version&gt;3.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5638871,"reputation":331,"user_id":4463466,"display_name":"Payam Soudachi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668164794,"creation_date":1668164794,"answer_id":74401581,"question_id":61819573,"body_markdown":"In my case, I was using the logback in a spring-boot app and faced this issue. It was related to incompatible versions of slf4j and logback which were coming from third party libraries. I excluded all of them and used these:\r\n\r\n        &lt;!-- logging dependencies--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;${logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n`${logback.version}` and `${slf4j.version}` are coming from `spring-boot-dependencies-2.X.X.pom` file.","title":"How do I fix &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot;","body":"<p>In my case, I was using the logback in a spring-boot app and faced this issue. It was related to incompatible versions of slf4j and logback which were coming from third party libraries. I excluded all of them and used these:</p>\n<pre><code>    &lt;!-- logging dependencies--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;${logback.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n        &lt;version&gt;${logback.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${slf4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><code>${logback.version}</code> and <code>${slf4j.version}</code> are coming from <code>spring-boot-dependencies-2.X.X.pom</code> file.</p>\n"},{"tags":[],"owner":{"account_id":26303583,"reputation":31,"user_id":19968482,"display_name":"Farhad Amirov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675639746,"creation_date":1675639746,"answer_id":75356231,"question_id":61819573,"body_markdown":"I hope it will help :)\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.5&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How do I fix &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot;","body":"<p>I hope it will help :)</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n  &lt;version&gt;2.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n  &lt;version&gt;1.4.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15069326,"reputation":353,"user_id":10875401,"display_name":"Dean013"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78604,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":4,"score":16,"last_activity_date":1694098120,"creation_date":1589546805,"question_id":61819573,"body_markdown":"I have an application that has the following error message:\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n```\r\nThis message occurs after I attempt to run any script for the application. I have found that, as it says, it does not create logs, so I have come up empty handed when something fails. \r\n\r\nI am running this in Amazon Linux 2 which is closest to CentOS and Redhat. \r\n\r\nI have found the following resources:\r\nThis issue is addressed here: http://www.slf4j.org/codes.html#StaticLoggerBinder\r\nI can get the jar I need from here: https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/1.6.2/slf4j-simple-1.6.2.jar\r\nAfter taking this jar and dropping it into my application&#39;s /lib, nothing changes. \r\n\r\nOther articles describe adding this file to the class path. In Linux, I get this:\r\n```\r\n# java -classpath /opt/opendj/lib/slf4j-simple-1.6.2.jar org.slf4j.impl.StaticLoggerBinder\r\nError: Could not find or load main class org.slf4j.impl.StaticLoggerBinder\r\n# java -jar /opt/opendj/lib/slf4j-simple-1.6.2.jar org.slf4j.impl.StaticLoggerBinder\r\nno main manifest attribute, in /opt/opendj/lib/slf4j-simple-1.6.2.jar\r\n```\r\nAm I trying to add it to the class path right?\r\n\r\nIf needed, you can reproduce this issue by doing the following:\r\nSteps to reproduce the behavior:\r\nInstall a fresh version of OpenDJ onto CentOS or Amazon Linux2 EC2 Instance. Install java 1.8.0\r\nspecifically java-1.8.0-openjdk\r\nInstall the server in any configuration, then run a status script.\r\n\r\nExpected behavior\r\nLogs should generate and no warning message can be presented.","title":"How do I fix &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot;","body":"<p>I have an application that has the following error message:</p>\n\n<pre><code>SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n\n<p>This message occurs after I attempt to run any script for the application. I have found that, as it says, it does not create logs, so I have come up empty handed when something fails. </p>\n\n<p>I am running this in Amazon Linux 2 which is closest to CentOS and Redhat. </p>\n\n<p>I have found the following resources:\nThis issue is addressed here: <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"noreferrer\">http://www.slf4j.org/codes.html#StaticLoggerBinder</a>\nI can get the jar I need from here: <a href=\"https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/1.6.2/slf4j-simple-1.6.2.jar\" rel=\"noreferrer\">https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/1.6.2/slf4j-simple-1.6.2.jar</a>\nAfter taking this jar and dropping it into my application's /lib, nothing changes. </p>\n\n<p>Other articles describe adding this file to the class path. In Linux, I get this:</p>\n\n<pre><code># java -classpath /opt/opendj/lib/slf4j-simple-1.6.2.jar org.slf4j.impl.StaticLoggerBinder\nError: Could not find or load main class org.slf4j.impl.StaticLoggerBinder\n# java -jar /opt/opendj/lib/slf4j-simple-1.6.2.jar org.slf4j.impl.StaticLoggerBinder\nno main manifest attribute, in /opt/opendj/lib/slf4j-simple-1.6.2.jar\n</code></pre>\n\n<p>Am I trying to add it to the class path right?</p>\n\n<p>If needed, you can reproduce this issue by doing the following:\nSteps to reproduce the behavior:\nInstall a fresh version of OpenDJ onto CentOS or Amazon Linux2 EC2 Instance. Install java 1.8.0\nspecifically java-1.8.0-openjdk\nInstall the server in any configuration, then run a status script.</p>\n\n<p>Expected behavior\nLogs should generate and no warning message can be presented.</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1694094852,"post_id":77059663,"comment_id":135848383,"body_markdown":"First, if you can avoid using `Date`, do avoid it. It was a poorly designed class and was supplanted by java.time, to which `ZonedDateTime` belongs, a decade ago, so loooong outdated.  If you *do* need an old-fashioned `Date`, what made you believe that you need it to have a specific time zone?","body":"First, if you can avoid using <code>Date</code>, do avoid it. It was a poorly designed class and was supplanted by java.time, to which <code>ZonedDateTime</code> belongs, a decade ago, so loooong outdated.  If you <i>do</i> need an old-fashioned <code>Date</code>, what made you believe that you need it to have a specific time zone?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1694097349,"post_id":77059663,"comment_id":135849082,"body_markdown":"`java.util.Date` doesn&#39;t *have* a timezone. If you&#39;re seeing one, it&#39;s because another part of the system has applied one (the system default)","body":"<code>java.util.Date</code> doesn&#39;t <i>have</i> a timezone. If you&#39;re seeing one, it&#39;s because another part of the system has applied one (the system default)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1694097369,"post_id":77059663,"comment_id":135849089,"body_markdown":"You are asking the impossible. A `Date` cannot have a time zone. It uses your JVM’s default time zone for generating the string to be printed. This confuses many.","body":"You are asking the impossible. A <code>Date</code> cannot have a time zone. It uses your JVM’s default time zone for generating the string to be printed. This confuses many."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1694104687,"post_id":77059663,"comment_id":135850666,"body_markdown":"**`java.util.Date#toString`  tells a lie.** That method applies the JVM’s current default time zone while generating its text. One of many reasons to **avoid this class**. Use only the *java.time* classes.","body":"<b><code>java.util.Date#toString</code>  tells a lie.</b> That method applies the JVM’s current default time zone while generating its text. One of many reasons to <b>avoid this class</b>. Use only the <i>java.time</i> classes."},{"owner":{"account_id":16909113,"reputation":26,"user_id":12228657,"display_name":"neo27"},"score":1,"creation_date":1694176437,"post_id":77059663,"comment_id":135860614,"body_markdown":"Thanks for your suggestion will try checking java.time api","body":"Thanks for your suggestion will try checking java.time api"}],"owner":{"account_id":16909113,"reputation":26,"user_id":12228657,"display_name":"neo27"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694090135,"answer_count":0,"score":0,"last_activity_date":1694097672,"creation_date":1694090060,"question_id":77059663,"body_markdown":"I wan to convert zonedatetime into date object in below format but is not getting specefic timezone related date\r\n\r\n```java\r\nZonedDateTime zonedDateTime2 = ldt.atZone(ZoneId.of(&quot;America/Los_Angeles&quot;));\r\nDate datenew = Date.from(zonedDateTime.toInstant());\r\n```\r\n\r\nI am getting data in below format but with my timezone not the timezone I passed.\r\n\r\n```none\r\nThu Sep 07 17:55:36 IST 2023\r\n```\r\n\r\nIt should give output in below format\r\n\r\n```none\r\nThu Sep 07 05:31:10 PDT 2023\r\n```\r\n","title":"How to Convert ZoneDateTime to Date Object","body":"<p>I wan to convert zonedatetime into date object in below format but is not getting specefic timezone related date</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime zonedDateTime2 = ldt.atZone(ZoneId.of(&quot;America/Los_Angeles&quot;));\nDate datenew = Date.from(zonedDateTime.toInstant());\n</code></pre>\n<p>I am getting data in below format but with my timezone not the timezone I passed.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thu Sep 07 17:55:36 IST 2023\n</code></pre>\n<p>It should give output in below format</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thu Sep 07 05:31:10 PDT 2023\n</code></pre>\n"},{"tags":["java","syntax"],"comments":[{"owner":{"account_id":74366,"reputation":4315,"user_id":213727,"accept_rate":80,"display_name":"vaughandroid"},"score":6,"creation_date":1327945331,"post_id":9068150,"comment_id":11382070,"body_markdown":"You could always create a variable, something like `boolean strIsString = str instanceof String;`...","body":"You could always create a variable, something like <code>boolean strIsString = str instanceof String;</code>..."},{"owner":{"account_id":175178,"reputation":20166,"user_id":405013,"accept_rate":100,"display_name":"caarlos0"},"score":0,"creation_date":1327953843,"post_id":9068150,"comment_id":11384657,"body_markdown":"yeah @Baqueta, is a option. But, what differences could happen in memory use in one syntax or another?","body":"yeah @Baqueta, is a option. But, what differences could happen in memory use in one syntax or another?"},{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"score":1,"creation_date":1536926756,"post_id":9068150,"comment_id":91609935,"body_markdown":"Your example is bad, because String can not have subclasses, so your example is basically an isNull check.","body":"Your example is bad, because String can not have subclasses, so your example is basically an isNull check."}],"answers":[{"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"down_vote_count":1,"up_vote_count":401,"is_accepted":true,"score":400,"last_activity_date":1327944996,"creation_date":1327944996,"answer_id":9068167,"question_id":9068150,"body_markdown":"No, there is no better way; yours is canonical.","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>No, there is no better way; yours is canonical.</p>\n"},{"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1327945748,"creation_date":1327945267,"answer_id":9068242,"question_id":9068150,"body_markdown":"You could use the [`Class.isInstance`][1] method:\r\n\r\n    if(!String.class.isInstance(str)) { /* do Something */ }\r\n\r\n... but it is still negated and pretty ugly.\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#isInstance%28java.lang.Object%29","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>You could use the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#isInstance%28java.lang.Object%29\"><code>Class.isInstance</code></a> method:</p>\n\n<pre><code>if(!String.class.isInstance(str)) { /* do Something */ }\n</code></pre>\n\n<p>... but it is still negated and pretty ugly.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1449660734,"creation_date":1327946436,"answer_id":9068463,"question_id":9068150,"body_markdown":"Usually you don&#39;t want just an `if` but an `else` clause as well.\r\n\r\n    if(!(str instanceof String)) { /* do Something */ } \r\n    else { /* do something else */ }\r\n\r\ncan be written as\r\n\r\n    if(str instanceof String) { /* do Something else */ } \r\n    else { /* do something */ }\r\n\r\nOr you can write the code so you don&#39;t need to know if its a String or not. e.g.\r\n\r\n    if(!(str instanceof String)) { str = str.toString(); } \r\n\r\ncan be written as\r\n\r\n    str = str.toString();\r\n","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>Usually you don't want just an <code>if</code> but an <code>else</code> clause as well.</p>\n\n<pre><code>if(!(str instanceof String)) { /* do Something */ } \nelse { /* do something else */ }\n</code></pre>\n\n<p>can be written as</p>\n\n<pre><code>if(str instanceof String) { /* do Something else */ } \nelse { /* do something */ }\n</code></pre>\n\n<p>Or you can write the code so you don't need to know if its a String or not. e.g.</p>\n\n<pre><code>if(!(str instanceof String)) { str = str.toString(); } \n</code></pre>\n\n<p>can be written as</p>\n\n<pre><code>str = str.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"down_vote_count":1,"up_vote_count":165,"is_accepted":false,"score":164,"last_activity_date":1467859722,"creation_date":1327948867,"answer_id":9068999,"question_id":9068150,"body_markdown":"I don&#39;t know what you imagine when you say &quot;beautiful&quot;, but what about this? I personally think it&#39;s worse than the classic form you posted, but somebody might like it...\r\n\r\n    if (str instanceof String == false) { /* ... */ }","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>I don't know what you imagine when you say \"beautiful\", but what about this? I personally think it's worse than the classic form you posted, but somebody might like it...</p>\n\n<pre><code>if (str instanceof String == false) { /* ... */ }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92865,"reputation":5039,"user_id":254307,"accept_rate":88,"display_name":"Pablo Grisafi"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1327949361,"creation_date":1327949361,"answer_id":9069105,"question_id":9068150,"body_markdown":"If you can use static imports, and your moral code allows them\r\n\r\n    public class ObjectUtils {\r\n    \tprivate final Object obj;\r\n    \tprivate ObjectUtils(Object obj) {\r\n    \t\tthis.obj = obj;\r\n    \t}\r\n    \r\n    \tpublic static ObjectUtils thisObj(Object obj){\r\n    \t\treturn new ObjectUtils(obj);\r\n    \t}\r\n    \r\n    \tpublic boolean isNotA(Class&lt;?&gt; clazz){\r\n    \t\treturn !clazz.isInstance(obj);\r\n    \t}\r\n    }\r\n\r\nAnd then...\r\n\r\n    import static notinstanceof.ObjectUtils.*;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString a = &quot;&quot;;\r\n    \t\tif (thisObj(a).isNotA(String.class)) {\r\n    \t\t\tSystem.out.println(&quot;It is not a String&quot;);\r\n    \t\t}\r\n    \t\tif (thisObj(a).isNotA(Integer.class)) {\r\n    \t\t\tSystem.out.println(&quot;It is not an Integer&quot;);\r\n    \t\t}\r\n    \t}    \r\n    }\r\n\r\nThis is just a fluent interface exercise, I&#39;d never use that in real life code!   \r\nGo for your classic way, it won&#39;t confuse anyone else reading your code!","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>If you can use static imports, and your moral code allows them</p>\n\n<pre><code>public class ObjectUtils {\n    private final Object obj;\n    private ObjectUtils(Object obj) {\n        this.obj = obj;\n    }\n\n    public static ObjectUtils thisObj(Object obj){\n        return new ObjectUtils(obj);\n    }\n\n    public boolean isNotA(Class&lt;?&gt; clazz){\n        return !clazz.isInstance(obj);\n    }\n}\n</code></pre>\n\n<p>And then...</p>\n\n<pre><code>import static notinstanceof.ObjectUtils.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        String a = \"\";\n        if (thisObj(a).isNotA(String.class)) {\n            System.out.println(\"It is not a String\");\n        }\n        if (thisObj(a).isNotA(Integer.class)) {\n            System.out.println(\"It is not an Integer\");\n        }\n    }    \n}\n</code></pre>\n\n<p>This is just a fluent interface exercise, I'd never use that in real life code!<br>\nGo for your classic way, it won't confuse anyone else reading your code!</p>\n"},{"tags":[],"owner":{"account_id":166367,"reputation":667,"user_id":390436,"accept_rate":36,"display_name":"tibi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1480422604,"creation_date":1480422207,"answer_id":40865834,"question_id":9068150,"body_markdown":"ok just my two cents, use a is string method:\r\n\r\n\tpublic static boolean isString(Object thing) {\r\n\t\treturn thing instanceof String;\r\n\t}\r\n\r\n    public void someMethod(Object thing){\r\n\t    if (!isString(thing)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n        log.debug(&quot;my thing is valid&quot;);\r\n    }","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>ok just my two cents, use a is string method:</p>\n\n<pre><code>public static boolean isString(Object thing) {\n    return thing instanceof String;\n}\n\npublic void someMethod(Object thing){\n    if (!isString(thing)) {\n        return null;\n    }\n    log.debug(\"my thing is valid\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7242133,"reputation":1472,"user_id":5525384,"accept_rate":33,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1555503453,"creation_date":1539186169,"answer_id":52744050,"question_id":9068150,"body_markdown":"If you find it more understandable, you can do something like this with Java 8 : \r\n\r\n    public static final Predicate&lt;Object&gt; isInstanceOfTheClass = \r\n        objectToTest -&gt; objectToTest instanceof TheClass;\r\n\r\n    public static final Predicate&lt;Object&gt; isNotInstanceOfTheClass = \r\n        isInstanceOfTheClass.negate(); // or objectToTest -&gt; !(objectToTest instanceof TheClass)\r\n\r\n    if (isNotInstanceOfTheClass.test(myObject)) {\r\n        // do something\r\n    }","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>If you find it more understandable, you can do something like this with Java 8 : </p>\n\n<pre><code>public static final Predicate&lt;Object&gt; isInstanceOfTheClass = \n    objectToTest -&gt; objectToTest instanceof TheClass;\n\npublic static final Predicate&lt;Object&gt; isNotInstanceOfTheClass = \n    isInstanceOfTheClass.negate(); // or objectToTest -&gt; !(objectToTest instanceof TheClass)\n\nif (isNotInstanceOfTheClass.test(myObject)) {\n    // do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1691256,"reputation":820,"user_id":1553540,"display_name":"Dharmesh Baldha"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1571378381,"creation_date":1571378381,"answer_id":58444774,"question_id":9068150,"body_markdown":"You can achieve by doing below way.. just add a condition by adding bracket `if(!(condition with instanceOf))` with the whole condition by adding `!` operator at the start just the way mentioned in below code snippets.\r\n\r\n    if(!(str instanceof String)) { /* do Something */ } // COMPILATION WORK\r\n\r\ninstead of \r\n\r\n    if(str !instanceof String) { /* do Something */ } // COMPILATION FAIL","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>You can achieve by doing below way.. just add a condition by adding bracket <code>if(!(condition with instanceOf))</code> with the whole condition by adding <code>!</code> operator at the start just the way mentioned in below code snippets.</p>\n\n<pre><code>if(!(str instanceof String)) { /* do Something */ } // COMPILATION WORK\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>if(str !instanceof String) { /* do Something */ } // COMPILATION FAIL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":197696,"reputation":1728,"user_id":441930,"display_name":"Mr5o1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583881012,"creation_date":1583881012,"answer_id":60627041,"question_id":9068150,"body_markdown":"I agree that in most cases the `if (!(x instanceof Y)) {...}` is the best approach, but in some cases creating an `isY(x)` function so you can `if (!isY(x)) {...}` is worthwhile.\r\n\r\nI&#39;m a typescript novice, and I&#39;ve bumped into this S/O question a bunch of times over the last few weeks, so for the googlers the typescript way to do this is to create a typeguard like this:\r\n\r\n*typeGuards.ts*\r\n```\r\nexport function isHTMLInputElement (value: any): value is HTMLInputElement {\r\n  return value instanceof HTMLInputElement\r\n}\r\n```\r\n\r\n*usage*\r\n```\r\nif (!isHTMLInputElement(x)) throw new RangeError()\r\n// do something with an HTMLInputElement\r\n```\r\n\r\nI guess the only reason why this might be appropriate in typescript and not regular js is that typeguards are a common convention, so if you&#39;re writing them for other interfaces, it&#39;s reasonable / understandable / natural to write them for classes too.\r\n\r\nThere&#39;s more detail about user defined type guards like this [in the docs][1]\r\n\r\n\r\n  [1]: https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>I agree that in most cases the <code>if (!(x instanceof Y)) {...}</code> is the best approach, but in some cases creating an <code>isY(x)</code> function so you can <code>if (!isY(x)) {...}</code> is worthwhile.</p>\n\n<p>I'm a typescript novice, and I've bumped into this S/O question a bunch of times over the last few weeks, so for the googlers the typescript way to do this is to create a typeguard like this:</p>\n\n<p><em>typeGuards.ts</em></p>\n\n<pre><code>export function isHTMLInputElement (value: any): value is HTMLInputElement {\n  return value instanceof HTMLInputElement\n}\n</code></pre>\n\n<p><em>usage</em></p>\n\n<pre><code>if (!isHTMLInputElement(x)) throw new RangeError()\n// do something with an HTMLInputElement\n</code></pre>\n\n<p>I guess the only reason why this might be appropriate in typescript and not regular js is that typeguards are a common convention, so if you're writing them for other interfaces, it's reasonable / understandable / natural to write them for classes too.</p>\n\n<p>There's more detail about user defined type guards like this <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">in the docs</a></p>\n"}],"owner":{"account_id":175178,"reputation":20166,"user_id":405013,"accept_rate":100,"display_name":"caarlos0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249161,"favorite_count":0,"down_vote_count":2,"up_vote_count":543,"accepted_answer_id":9068167,"answer_count":9,"score":541,"last_activity_date":1694097575,"creation_date":1327944934,"question_id":9068150,"body_markdown":"I was thinking if there exists a better/nicer way to negate an `instanceof` in Java.\r\nActually, I&#39;m doing something like:\r\n\r\n    if(!(myObject instanceof SomeClass)) { /* do Something */ }\r\n\r\nBut I think that a &quot;beautiful&quot; syntax to do this should exist.\r\n\r\n\r\nDoes anyone know if it exists, and how the syntax look like?\r\n\r\n\r\n----------\r\n\r\n\r\n**EDIT:**\r\nBy beautiful, I might say something like this:\r\n\r\n    if(myObject !instanceof SomeClass) { /* do Something */ } // compilation fails\r\n","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>I was thinking if there exists a better/nicer way to negate an <code>instanceof</code> in Java.\nActually, I'm doing something like:</p>\n<pre><code>if(!(myObject instanceof SomeClass)) { /* do Something */ }\n</code></pre>\n<p>But I think that a &quot;beautiful&quot; syntax to do this should exist.</p>\n<p>Does anyone know if it exists, and how the syntax look like?</p>\n<hr />\n<p><strong>EDIT:</strong>\nBy beautiful, I might say something like this:</p>\n<pre><code>if(myObject !instanceof SomeClass) { /* do Something */ } // compilation fails\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1673333197,"post_id":75062502,"comment_id":132469104,"body_markdown":"You are using Spring Boot 2.7 which is build with Spring 5.3. Spring 6 is for Spring Boot 3 (and is totally different). As you are using Spring Boot, use `spring-boot-starter-test` and remove the other test dependencies (junit, spring-test and mockito) those will be included in the proper compatible versions.","body":"You are using Spring Boot 2.7 which is build with Spring 5.3. Spring 6 is for Spring Boot 3 (and is totally different). As you are using Spring Boot, use <code>spring-boot-starter-test</code> and remove the other test dependencies (junit, spring-test and mockito) those will be included in the proper compatible versions."},{"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"score":0,"creation_date":1673334649,"post_id":75062502,"comment_id":132469419,"body_markdown":"thanks, M. Deiunm yes, spring framework 6 and spring boot 3 are totally different.","body":"thanks, M. Deiunm yes, spring framework 6 and spring boot 3 are totally different."}],"answers":[{"tags":[],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674764764,"creation_date":1673295669,"answer_id":75062533,"question_id":75062502,"body_markdown":"Nothing wrong with the code. I just change my **pom.xml**, remove the version from *org.springframework* then run, it worked perfectly\r\n      \r\n```\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nRemoving unwanted dependencies from the maven build resolved the issue. \r\n\r\n**Yahoo!! Great** \r\n\r\n**Note:** SNAPSHOT, M1, M2, M3, and M4 releases typically WORK IN PROGRESS. The Spring team is still working on them, Recommend NOT using them.\r\n","title":"java.lang.IllegalStateException: Could not load CacheAwareContextLoaderDelegate unit test spring [Java]","body":"<p>Nothing wrong with the code. I just change my <strong>pom.xml</strong>, remove the version from <em>org.springframework</em> then run, it worked perfectly</p>\n<pre><code>      &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Removing unwanted dependencies from the maven build resolved the issue.</p>\n<p><strong>Yahoo!! Great</strong></p>\n<p><strong>Note:</strong> SNAPSHOT, M1, M2, M3, and M4 releases typically WORK IN PROGRESS. The Spring team is still working on them, Recommend NOT using them.</p>\n"},{"tags":[],"owner":{"account_id":111890,"reputation":8651,"user_id":295339,"accept_rate":93,"display_name":"Lars Andren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675665235,"creation_date":1675665235,"answer_id":75358041,"question_id":75062502,"body_markdown":"I got this error when using `spring-test 6.0.4`. However, when I changed to using version `5.3.24` it started working.","title":"java.lang.IllegalStateException: Could not load CacheAwareContextLoaderDelegate unit test spring [Java]","body":"<p>I got this error when using <code>spring-test 6.0.4</code>. However, when I changed to using version <code>5.3.24</code> it started working.</p>\n"}],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2092,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75062533,"answer_count":2,"score":2,"last_activity_date":1694097457,"creation_date":1673295489,"question_id":75062502,"body_markdown":"**Unit Testing with Spring framework - Java**\r\n\r\n\r\nI got the below error when I run the spring unit test with a java context\r\n\r\n```\r\njava.lang.IllegalStateException: Could not load CacheAwareContextLoaderDelegate [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]\r\n```\r\n\r\nMy **pom.xml** have these dependencies but still faced this issue when i run my test case\r\n\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nMy current version of spring and java\r\n\r\n      \r\n```\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n```\r\n\r\n\r\nI just change my **pom.xml**, remove the version then run, it worked perfectly\r\n      \r\n```\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt; \r\n```","title":"java.lang.IllegalStateException: Could not load CacheAwareContextLoaderDelegate unit test spring [Java]","body":"<p><strong>Unit Testing with Spring framework - Java</strong></p>\n<p>I got the below error when I run the spring unit test with a java context</p>\n<pre><code>java.lang.IllegalStateException: Could not load CacheAwareContextLoaderDelegate [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]\n</code></pre>\n<p>My <strong>pom.xml</strong> have these dependencies but still faced this issue when i run my test case</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;4.5.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>My current version of spring and java</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>I just change my <strong>pom.xml</strong>, remove the version then run, it worked perfectly</p>\n<pre><code>      &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt; \n</code></pre>\n"},{"tags":["java","optaplanner","timefold"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694097068,"creation_date":1694097068,"answer_id":77060524,"question_id":77060131,"body_markdown":"I can not think of a way of doing that. \r\n\r\nYou could perhaps write your own [custom move][1] that would be inspired by our pillar move. But it is definitely not easy and it takes you outside of the public API, so it carries risks.\r\n\r\n\r\n  [1]: https://timefold.ai/docs/timefold-solver/latest/move-and-neighborhood-selection/move-and-neighborhood-selection.html#customMoves","title":"Is it possible to select a pillar move based on problem facts in timefold?","body":"<p>I can not think of a way of doing that.</p>\n<p>You could perhaps write your own <a href=\"https://timefold.ai/docs/timefold-solver/latest/move-and-neighborhood-selection/move-and-neighborhood-selection.html#customMoves\" rel=\"nofollow noreferrer\">custom move</a> that would be inspired by our pillar move. But it is definitely not easy and it takes you outside of the public API, so it carries risks.</p>\n"}],"owner":{"account_id":11139285,"reputation":301,"user_id":8176509,"display_name":"Jonas Erbe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77060524,"answer_count":1,"score":0,"last_activity_date":1694097068,"creation_date":1694094004,"question_id":77060131,"body_markdown":"Is it possible to select entities of a PillarMove based on other properties of the entity than PlanningVariables. For example my Entity has a PlanningVariable startTime and a type that is a ProblemFact. I want so select a pillar based on the startTime and all Entities that have the same value in their type property. Is that possible? I can&#39;t see that feature in the docs https://timefold.ai/docs/timefold-solver/latest/move-and-neighborhood-selection/move-and-neighborhood-selection.html#pillarMoveSelectors but I think its very essential.\r\nIs the only way to implement a custom move?","title":"Is it possible to select a pillar move based on problem facts in timefold?","body":"<p>Is it possible to select entities of a PillarMove based on other properties of the entity than PlanningVariables. For example my Entity has a PlanningVariable startTime and a type that is a ProblemFact. I want so select a pillar based on the startTime and all Entities that have the same value in their type property. Is that possible? I can't see that feature in the docs <a href=\"https://timefold.ai/docs/timefold-solver/latest/move-and-neighborhood-selection/move-and-neighborhood-selection.html#pillarMoveSelectors\" rel=\"nofollow noreferrer\">https://timefold.ai/docs/timefold-solver/latest/move-and-neighborhood-selection/move-and-neighborhood-selection.html#pillarMoveSelectors</a> but I think its very essential.\nIs the only way to implement a custom move?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9796,"page":196,"page_size":100}
