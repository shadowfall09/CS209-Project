{"items":[{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1226870,"reputation":2957,"user_id":1192257,"display_name":"Anuragh27crony"},"score":1,"creation_date":1390277683,"post_id":21248125,"comment_id":32011122,"body_markdown":"what API u are using for logging??? and it&#39;s always best practice to create Log file with Time stamp. If u are running daily then date would suffice else if u are running multiple times in single day then complete time stamp.","body":"what API u are using for logging??? and it&#39;s always best practice to create Log file with Time stamp. If u are running daily then date would suffice else if u are running multiple times in single day then complete time stamp."},{"owner":{"account_id":1831013,"reputation":1513,"user_id":1662411,"accept_rate":47,"display_name":"Akbar"},"score":1,"creation_date":1390288485,"post_id":21248125,"comment_id":32015205,"body_markdown":"Anuragh&#39;s suggestion is a better solution for any future references. Otherwise you can write simple code to delete the file before execution starts.","body":"Anuragh&#39;s suggestion is a better solution for any future references. Otherwise you can write simple code to delete the file before execution starts."}],"answers":[{"tags":[],"owner":{"account_id":3151797,"reputation":21,"user_id":2665093,"display_name":"Sphinx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431700496,"creation_date":1431678373,"answer_id":30254878,"question_id":21248125,"body_markdown":"I hope this could help you:\r\n\r\n[Automation Log for Selenium][1]\r\n\r\n\r\n  [1]: http://learn-automation.com/how-to-create-log-files-in-selenium/\r\n\r\nStep 1- Download log4j jar file\r\n\r\nClick on the link to download http://mirrors.ibiblio.org/pub/mirrors/maven/log4j/jars/log4j-1.2.15.jar\r\n\r\nStep 2- Add log4j to your current project\r\n\r\nSelect your project &gt; Right click &gt; Click on build path&gt; Click Configure build path&gt; Go to library section &gt; Add external jar file &gt; select the log4j &gt; click on save\r\n\r\nStep 3- Open notepad and copy the below code and save the file as log4j.properties. This file should be placed in the src directory, this should create a &quot;default package&quot;.\r\n\r\n\t// Here we have defined root logger\r\n\tlog4j.rootLogger=INFO,CONSOLE,R,HTML,TTCC\r\n \r\n\t// Here we define the appender\r\n\tlog4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender\r\n\tlog4j.appender.R=org.apache.log4j.RollingFileAppender\r\n\tlog4j.appender.TTCC=org.apache.log4j.RollingFileAppender\r\n\tlog4j.appender.HTML=org.apache.log4j.FileAppender\r\n \r\n\t// Here we define log file location\r\n\tlog4j.appender.R.File=./log/testlog.log\r\n\tlog4j.appender.TTCC.File=./log/testlog1.log\r\n\tlog4j.appender.HTML.File=./log/application.html\r\n \r\n\t// Here we define the layout and pattern\r\n\tlog4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout\r\n\tlog4j.appender.CONSOLE.layout.ConversionPattern= %5p [%t] (%F:%L)- %m%n\r\n\tlog4j.appender.R.layout=org.apache.log4j.PatternLayout\r\n\tlog4j.appender.R.layout.ConversionPattern=%d - %c -%p - %m%n\r\n\tlog4j.appender.TTCC.layout=org.apache.log4j.TTCCLayout\r\n\tlog4j.appender.TTCC.layout.DateFormat=ISO8601\r\n\tlog4j.appender.HTML.layout=org.apache.log4j.HTMLLayout\r\n\tlog4j.appender.HTML.layout.Title=Application log\r\n\tlog4j.appender.HTML.layout.LocationInfo=true\r\n\r\nStep 4- Write test case\r\n\r\n\timport java.util.concurrent.TimeUnit;\r\n\timport orgenter code here.apache.log4j.Logger;\r\n\timport org.apache.log4j.PropertyConfigurator;\r\n\timport org.openqa.selenium.By;\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.firefox.FirefoxDriver;\r\n \r\n \r\n\tpublic class Google {\r\n \t   public static void main(String[] args) {\r\n      \r\n\t    // Here we need to create logger instance so we need to pass Class name for \r\n \t    //which  we want to create log file in my case Google is classname\r\n\t         Logger logger=Logger.getLogger(&quot;Google&quot;);\r\n  \r\n \t      // configure log4j properties file\r\n\t       PropertyConfigurator.configure(&quot;Log4j.properties&quot;);\r\n\t       \t // Open browser\r\n\t        WebDriver driver = new FirefoxDriver();\r\n\t        logger.info(&quot;Browser Opened&quot;);\r\n      \r\n\t        // Set implicit wait\r\n\t        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n\t        logger.info(&quot;Implicit wait given&quot;);\r\n \r\n\t        // Load application\r\n   \t     driver.get(&quot;https://www.google.co.in/&quot;);\r\n   \t     logger.info(&quot;Url opened&quot;);\r\n      \r\n \r\n \t       // type Selenium\r\n \t       driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;Selenium&quot;);\r\n\t        logger.info(&quot;keyword type&quot;);           \r\n\t    }\r\n\t}\r\nStep 5- Execute  your test case and verify the output and log files as well. This logs will be created in the project folder with &quot;log&quot; label\r\n","title":"How to create log file history in selenium webdriver using java","body":"<p>I hope this could help you:</p>\n\n<p><a href=\"http://learn-automation.com/how-to-create-log-files-in-selenium/\" rel=\"nofollow\">Automation Log for Selenium</a></p>\n\n<p>Step 1- Download log4j jar file</p>\n\n<p>Click on the link to download <a href=\"http://mirrors.ibiblio.org/pub/mirrors/maven/log4j/jars/log4j-1.2.15.jar\" rel=\"nofollow\">http://mirrors.ibiblio.org/pub/mirrors/maven/log4j/jars/log4j-1.2.15.jar</a></p>\n\n<p>Step 2- Add log4j to your current project</p>\n\n<p>Select your project > Right click > Click on build path> Click Configure build path> Go to library section > Add external jar file > select the log4j > click on save</p>\n\n<p>Step 3- Open notepad and copy the below code and save the file as log4j.properties. This file should be placed in the src directory, this should create a \"default package\".</p>\n\n<pre><code>// Here we have defined root logger\nlog4j.rootLogger=INFO,CONSOLE,R,HTML,TTCC\n\n// Here we define the appender\nlog4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender\nlog4j.appender.R=org.apache.log4j.RollingFileAppender\nlog4j.appender.TTCC=org.apache.log4j.RollingFileAppender\nlog4j.appender.HTML=org.apache.log4j.FileAppender\n\n// Here we define log file location\nlog4j.appender.R.File=./log/testlog.log\nlog4j.appender.TTCC.File=./log/testlog1.log\nlog4j.appender.HTML.File=./log/application.html\n\n// Here we define the layout and pattern\nlog4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout\nlog4j.appender.CONSOLE.layout.ConversionPattern= %5p [%t] (%F:%L)- %m%n\nlog4j.appender.R.layout=org.apache.log4j.PatternLayout\nlog4j.appender.R.layout.ConversionPattern=%d - %c -%p - %m%n\nlog4j.appender.TTCC.layout=org.apache.log4j.TTCCLayout\nlog4j.appender.TTCC.layout.DateFormat=ISO8601\nlog4j.appender.HTML.layout=org.apache.log4j.HTMLLayout\nlog4j.appender.HTML.layout.Title=Application log\nlog4j.appender.HTML.layout.LocationInfo=true\n</code></pre>\n\n<p>Step 4- Write test case</p>\n\n<pre><code>import java.util.concurrent.TimeUnit;\nimport orgenter code here.apache.log4j.Logger;\nimport org.apache.log4j.PropertyConfigurator;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\n\npublic class Google {\n   public static void main(String[] args) {\n\n    // Here we need to create logger instance so we need to pass Class name for \n    //which  we want to create log file in my case Google is classname\n         Logger logger=Logger.getLogger(\"Google\");\n\n      // configure log4j properties file\n       PropertyConfigurator.configure(\"Log4j.properties\");\n         // Open browser\n        WebDriver driver = new FirefoxDriver();\n        logger.info(\"Browser Opened\");\n\n        // Set implicit wait\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n        logger.info(\"Implicit wait given\");\n\n        // Load application\n     driver.get(\"https://www.google.co.in/\");\n     logger.info(\"Url opened\");\n\n\n       // type Selenium\n       driver.findElement(By.name(\"q\")).sendKeys(\"Selenium\");\n        logger.info(\"keyword type\");           \n    }\n}\n</code></pre>\n\n<p>Step 5- Execute  your test case and verify the output and log files as well. This logs will be created in the project folder with \"log\" label</p>\n"},{"tags":[],"owner":{"account_id":8334235,"reputation":1964,"user_id":6261717,"accept_rate":100,"display_name":"ALUFTW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614089859,"creation_date":1614089859,"answer_id":66334903,"question_id":21248125,"body_markdown":"You can just clear the log file at the beginning of your code:\r\n\r\n    PrintWriter writer = new PrintWriter(logfile);\r\n    writer.print(&quot;&quot;);\r\n    writer.close();","title":"How to create log file history in selenium webdriver using java","body":"<p>You can just clear the log file at the beginning of your code:</p>\n<pre><code>PrintWriter writer = new PrintWriter(logfile);\nwriter.print(&quot;&quot;);\nwriter.close();\n</code></pre>\n"}],"owner":{"account_id":3181564,"reputation":1746,"user_id":2994827,"accept_rate":47,"display_name":"testing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700841950,"creation_date":1390272073,"question_id":21248125,"body_markdown":"Currently working on selenium webdriver. I have created a log file and the log information stored in logfile.log. when i start running my test case the log information is captured but the entire history is visible. i want to clear the log file or it need to be cleared before starting the execution of test cases.\r\n\r\nSample log info:\r\n\r\n    2013-10-01 09:18:06,655 INFO  [TEST] Initializing Selenium... \r\n    2013-10-01 09:18:06,686 INFO  [TEST] Selenium instance started \r\n    2013-10-01 09:18:11,905 INFO  [TEST] ______________________________________________________________ \r\n    2013-10-01 09:18:11,905 INFO  [TEST] Initializing Selenium... \r\n    2013-10-01 09:18:11,921 INFO  [TEST] Selenium instance started \r\n    2013-10-01 09:18:11,921 INFO  [TEST] Accessing Stored uid,pwd from the stored text file \r\n    2013-10-01 09:18:11,921 INFO  [TEST] Retrieved uid pwd from the text file \r\n    2013-10-01 09:18:12,858 INFO  [TEST] Sign in to the OneReports website \r\n    2013-10-01 09:18:12,874 INFO  [TEST] Enter Username \r\n    2013-10-01 09:18:13,077 INFO  [TEST] Enter Password \r\n    2013-10-01 09:18:14,155 INFO  [TEST] Submitting login details \r\n    2013-10-01 09:18:33,139 INFO  [TEST] Stopping Selenium... \r\n    2013-10-01 09:18:33,139 INFO  [TEST]  ______________________________________________________________ ","title":"How to create log file history in selenium webdriver using java","body":"<p>Currently working on selenium webdriver. I have created a log file and the log information stored in logfile.log. when i start running my test case the log information is captured but the entire history is visible. i want to clear the log file or it need to be cleared before starting the execution of test cases.</p>\n\n<p>Sample log info:</p>\n\n<pre><code>2013-10-01 09:18:06,655 INFO  [TEST] Initializing Selenium... \n2013-10-01 09:18:06,686 INFO  [TEST] Selenium instance started \n2013-10-01 09:18:11,905 INFO  [TEST] ______________________________________________________________ \n2013-10-01 09:18:11,905 INFO  [TEST] Initializing Selenium... \n2013-10-01 09:18:11,921 INFO  [TEST] Selenium instance started \n2013-10-01 09:18:11,921 INFO  [TEST] Accessing Stored uid,pwd from the stored text file \n2013-10-01 09:18:11,921 INFO  [TEST] Retrieved uid pwd from the text file \n2013-10-01 09:18:12,858 INFO  [TEST] Sign in to the OneReports website \n2013-10-01 09:18:12,874 INFO  [TEST] Enter Username \n2013-10-01 09:18:13,077 INFO  [TEST] Enter Password \n2013-10-01 09:18:14,155 INFO  [TEST] Submitting login details \n2013-10-01 09:18:33,139 INFO  [TEST] Stopping Selenium... \n2013-10-01 09:18:33,139 INFO  [TEST]  ______________________________________________________________ \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":1,"creation_date":1358410832,"post_id":14374707,"comment_id":19991104,"body_markdown":"This is known as a for-each loop, you might want to google it and until now, none of the answers has named it yet.","body":"This is known as a for-each loop, you might want to google it and until now, none of the answers has named it yet."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1406126058,"post_id":14374707,"comment_id":38707205,"body_markdown":"possible duplicate of [How does the Java for each loop work?](http://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work\">How does the Java for each loop work?</a>"},{"owner":{"account_id":5588131,"reputation":3409,"user_id":4428150,"accept_rate":40,"display_name":"Gustave"},"score":1,"creation_date":1439386409,"post_id":14374707,"comment_id":51840642,"body_markdown":"The answers to this questions seem not to be complete: What is this: import hudson.model.SCMS; (...)\nSCMS: for (SCM scm : scmTriggerItem.getSCMs()) {something();}?","body":"The answers to this questions seem not to be complete: What is this: import hudson.model.SCMS; (...) SCMS: for (SCM scm : scmTriggerItem.getSCMs()) {something();}?"}],"answers":[{"tags":[],"owner":{"account_id":1604367,"reputation":15578,"user_id":1484739,"display_name":"TheWhiteRabbit"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1358411116,"creation_date":1358410728,"answer_id":14374737,"question_id":14374707,"body_markdown":"    (String i : words)\r\nFor each item in `words` \r\n\r\n: to indicate iterator item and item as `i`\r\n\r\nso to answer - it represents for-each loop","title":"What does the colon mean in Java?","body":"<pre><code>(String i : words)\n</code></pre>\n\n<p>For each item in <code>words</code> </p>\n\n<p>: to indicate iterator item and item as <code>i</code></p>\n\n<p>so to answer - it represents for-each loop</p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358410737,"creation_date":1358410737,"answer_id":14374739,"question_id":14374707,"body_markdown":"colon in [for each loop][1] is part of syntax, colon also appears with [label][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html\r\n  [2]: https://stackoverflow.com/questions/3821827/loop-in-java-code-what-is-this-why-does-it-compile-and-generally-wtf/3821841#3821841","title":"What does the colon mean in Java?","body":"<p>colon in <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html\" rel=\"nofollow noreferrer\">for each loop</a> is part of syntax, colon also appears with <a href=\"https://stackoverflow.com/questions/3821827/loop-in-java-code-what-is-this-why-does-it-compile-and-generally-wtf/3821841#3821841\">label</a></p>\n"},{"tags":[],"owner":{"account_id":1314127,"reputation":603,"user_id":1261439,"accept_rate":72,"display_name":"Abraham"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1486224915,"creation_date":1358410840,"answer_id":14374760,"question_id":14374707,"body_markdown":"It means one thing, it is an enhanced for loop.\n\n    for (String i: words) \n\nmeans the same things as \n\n    for (int i = 0; i &lt; words.length; i++) {\n        //\n    }\n\n**Joshua Bloch**, in Item 46 of his worth reading **Effective Java**, says the following: \n\n&gt; The for-each loop, introduced in release 1.5, gets rid of the clutter and the opportunity for error by hiding the iterator or index variable completely. The resulting idiom applies equally to collections and arrays:\n&gt;\n   &gt; The preferred idiom for iterating over collections and arrays\n\n    for (Element e : elements) {\n        doSomething(e);\n    } \n\n&gt;When you see the colon (:), read it as “in.” \nThus, the loop above reads as “for each element e in elements.” Note that there is no performance penalty for using the for-each loop, even for arrays. In fact, it may offer a slight performance advantage over an ordinary for loop in some circumstances, as it computes the limit of the array index only once. While you can do this by hand (Item 45), programmers don’t always do so.","title":"What does the colon mean in Java?","body":"<p>It means one thing, it is an enhanced for loop.</p>\n<pre><code>for (String i: words) \n</code></pre>\n<p>means the same things as</p>\n<pre><code>for (int i = 0; i &lt; words.length; i++) {\n    //\n}\n</code></pre>\n<p><strong>Joshua Bloch</strong>, in Item 46 of his worth reading <strong>Effective Java</strong>, says the following:</p>\n<blockquote>\n<p>The for-each loop, introduced in release 1.5, gets rid of the clutter and the opportunity for error by hiding the iterator or index variable completely. The resulting idiom applies equally to collections and arrays:</p>\n<p>The preferred idiom for iterating over collections and arrays</p>\n</blockquote>\n<pre><code>for (Element e : elements) {\n    doSomething(e);\n} \n</code></pre>\n<blockquote>\n<p>When you see the colon (:), read it as “in.”\nThus, the loop above reads as “for each element e in elements.” Note that there is no performance penalty for using the for-each loop, even for arrays. In fact, it may offer a slight performance advantage over an ordinary for loop in some circumstances, as it computes the limit of the array index only once. While you can do this by hand (Item 45), programmers don’t always do so.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1923293,"reputation":10359,"user_id":1734279,"accept_rate":75,"display_name":"rai.skumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358415823,"creation_date":1358415823,"answer_id":14376126,"question_id":14374707,"body_markdown":"Don&#39;t think **colon(:)** means anything particularly. It&#39;s just how Java designers thought to delimit **parameter** and **expression** inside improved for loop.\r\n\r\n    for ( FormalParameter : Expression ) Statement\r\n\r\nCheck Language specification for same : http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2","title":"What does the colon mean in Java?","body":"<p>Don't think <strong>colon(:)</strong> means anything particularly. It's just how Java designers thought to delimit <strong>parameter</strong> and <strong>expression</strong> inside improved for loop.</p>\n\n<pre><code>for ( FormalParameter : Expression ) Statement\n</code></pre>\n\n<p>Check Language specification for same : <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\" rel=\"nofollow\">http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2</a></p>\n"},{"tags":[],"owner":{"account_id":1185299,"reputation":7276,"user_id":1159404,"accept_rate":75,"display_name":"Nenad Bulatović"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403072736,"creation_date":1403072736,"answer_id":24278404,"question_id":14374707,"body_markdown":"It is for-each loop. When you see the colon (:) read it as &quot;in&quot;\r\nYou can find very good explanation in Oracle docs with included examples, [here][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html","title":"What does the colon mean in Java?","body":"<p>It is for-each loop. When you see the colon (:) read it as \"in\"\nYou can find very good explanation in Oracle docs with included examples, <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html\" rel=\"nofollow\">here</a></p>\n"}],"owner":{"account_id":2122738,"reputation":141,"user_id":1885658,"display_name":"Floyd Bostan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58278,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":5,"score":12,"last_activity_date":1700841868,"creation_date":1358410636,"question_id":14374707,"body_markdown":"What does the colon mean in Java?  I have this:\r\n\r\n    public static List&lt;String&gt; findAllAnagrams(List&lt;String&gt; words) {\r\n        List&lt;String&gt; result = new LinkedList&lt;String&gt;();\r\n        for(String i : words){\r\n            for (String j : words){\r\n                if (result.contains(i)) {\r\n                    break;\r\n                }\r\n                else if (i == j) {\r\n                    \r\n                } else {\r\n                    if (areAnagrams(i,j)){\r\n                        result.add(i);\r\n                        System.out.println(result);\r\n                    }\r\n                }\r\n            }\r\n        }          \r\n        return result;\r\n    }\r\n\r\n","title":"What does the colon mean in Java?","body":"<p>What does the colon mean in Java?  I have this:</p>\n\n<pre><code>public static List&lt;String&gt; findAllAnagrams(List&lt;String&gt; words) {\n    List&lt;String&gt; result = new LinkedList&lt;String&gt;();\n    for(String i : words){\n        for (String j : words){\n            if (result.contains(i)) {\n                break;\n            }\n            else if (i == j) {\n\n            } else {\n                if (areAnagrams(i,j)){\n                    result.add(i);\n                    System.out.println(result);\n                }\n            }\n        }\n    }          \n    return result;\n}\n</code></pre>\n"},{"tags":["java","x86","cross-compiling","cpu-registers","32-bit"],"answers":[{"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540860337,"creation_date":1540860025,"answer_id":53055815,"question_id":53055682,"body_markdown":"&gt; It does seem odd that the expected number of byte registers of a non-64-bit processor is 4 times that of a 64-bit processor, though.\r\n\r\nYes, but in a way that really happens. \r\n\r\nWithout a REX prefix there are 8 byte registers, split in two groups:\r\n\r\n- the low byte registers: `AL`, `DL`, `CL`, `BL` (the low byte of `AX` etc)\r\n- the high byte registers: `AH`, `DH`, `CH`, `BH` (the high byte of `AX` etc)\r\n\r\nThe high byte registers generally have stranger properties than the low byte registers, and tracking the allocation of different parts of the same register is an annoying extra complication. To simplify the mess it may be a reasonably choice to just not ever use them, but that does mean that the byte register count is down to 4.\r\n\r\nWith a REX prefix (in 64bit mode, otherwise there is no REX), the lowest byte of all of the 16 GPRs can be used as a byte register.\r\n\r\nThe high byte registers also still exist in 64bit mode (so in a sense there are 16+4 byte registers in 64bit mode), but cannot be accessed by an instruction that has a REX prefix (even with none of the REX flags set). The high byte registers are extra painful to use in 64bit since, for example `add ah, sil` is impossible since `sil` requires a REX prefix while `ah` requires the lack of a REX prefix. Setting the count to 16 is consistent with simply never using a high byte register.\r\n\r\nI&#39;m not sure what&#39;s up with the rest though.","title":"What are byte registers in an x86 P6 context?","body":"<blockquote>\n  <p>It does seem odd that the expected number of byte registers of a non-64-bit processor is 4 times that of a 64-bit processor, though.</p>\n</blockquote>\n\n<p>Yes, but in a way that really happens. </p>\n\n<p>Without a REX prefix there are 8 byte registers, split in two groups:</p>\n\n<ul>\n<li>the low byte registers: <code>AL</code>, <code>DL</code>, <code>CL</code>, <code>BL</code> (the low byte of <code>AX</code> etc)</li>\n<li>the high byte registers: <code>AH</code>, <code>DH</code>, <code>CH</code>, <code>BH</code> (the high byte of <code>AX</code> etc)</li>\n</ul>\n\n<p>The high byte registers generally have stranger properties than the low byte registers, and tracking the allocation of different parts of the same register is an annoying extra complication. To simplify the mess it may be a reasonably choice to just not ever use them, but that does mean that the byte register count is down to 4.</p>\n\n<p>With a REX prefix (in 64bit mode, otherwise there is no REX), the lowest byte of all of the 16 GPRs can be used as a byte register.</p>\n\n<p>The high byte registers also still exist in 64bit mode (so in a sense there are 16+4 byte registers in 64bit mode), but cannot be accessed by an instruction that has a REX prefix (even with none of the REX flags set). The high byte registers are extra painful to use in 64bit since, for example <code>add ah, sil</code> is impossible since <code>sil</code> requires a REX prefix while <code>ah</code> requires the lack of a REX prefix. Setting the count to 16 is consistent with simply never using a high byte register.</p>\n\n<p>I'm not sure what's up with the rest though.</p>\n"}],"owner":{"account_id":1397601,"reputation":909,"user_id":1327079,"accept_rate":86,"display_name":"tudor -Reinstate Monica-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700841276,"creation_date":1540858762,"question_id":53055682,"body_markdown":"I&#39;m attempting to cross-compile OpenJDK to an old 32-bit VIA Geode LX processor and I keep hitting [this assert][1]:\r\n\r\n    assert(VM_Version::is_P6() || dest_reg-&gt;has_byte_register(), \r\n        &quot;must use byte registers if not P6&quot;);\r\n\r\nClearly I&#39;m failing both tests, but if I override the warning with `-XX:c1_LIRAssembler.cpp:1313` the application runs perfectly fine, so I&#39;m presuming I&#39;ve misconfigured my kernel somehow, but I don&#39;t know what about it I got wrong.  One of these has to be true for the assert to pass.\r\n\r\n**Part 1 - VM_Version::is_P6()**\r\n\r\nThe VIA Geode LX is supposed to be a 686 processor (minus one instruction), but that shouldn&#39;t affect the decision being made here which is around the number of registers it can access, not the instruction set.  OpenJDK does test for certain types of registers, though, to determine the *Processor Family*.\r\n\r\nIt defines CPUs [as listed in the comments][2]:\r\n\r\n    //       6   -  PentiumPro, Pentium II, Celeron, Xeon, Pentium III, Athlon,\r\n    //              Pentium M, Core Solo, Core Duo, Core2 Duo\r\n\r\nI have my kernel compiled for &quot;Pentium Pro&quot;, so this should succeed, [however][3]:\r\n\r\n    static int  cpu_family()        { return _cpu;}\r\n    static bool is_P6()             { return cpu_family() &gt;= 6; }\r\n\r\n`_cpu` [is assigned by][4] [`extended_cpu_family()`][5]:\r\n\r\n    static uint32_t extended_cpu_family() {\r\n        uint32_t result = _cpuid_info.std_cpuid1_eax.bits.family;\r\n        result += _cpuid_info.std_cpuid1_eax.bits.ext_family;\r\n        return result;\r\n    }\r\n\r\nAnd down the rabbit hole we go....  Suffice to say I can see why this part of the assert would fail.  The VIA Geode LX mimics the instruction set of an Intel x86, but fails in a number of cases, so I understand why it wouldn&#39;t *technically* meet the qualification of a P6 which, as defined by the [function `extended_cpu_family()`][5] means it falls back to a class 4.\r\n\r\n**Part 2 - has_byte_register()**\r\n\r\nThis is the code that [checks for a byte register][6]:\r\n\r\n     public:\r\n      enum {\r\n    #ifndef AMD64\r\n        number_of_registers      = 8,\r\n        number_of_byte_registers = 4,\r\n        max_slots_per_register   = 1\r\n    #else\r\n        number_of_registers      = 16,\r\n        number_of_byte_registers = 16,\r\n        max_slots_per_register   = 1\r\n    #endif // AMD64\r\n      };\r\n    \r\n    ...\r\n\r\n      bool  has_byte_register() const                \r\n         { return 0 &lt;= (intptr_t)this &amp;&amp; (intptr_t)this &lt; number_of_byte_registers; }\r\n\r\n    ...\r\n\r\nwhere `intptr_t` [is defined as][7]:\r\n\r\n    typedef int                     intptr_t;\r\n\r\nSo basically what it looks like is that `has_byte_registers()` is failing. I don&#39;t see how it could ever success, though, since it looks like &quot;this&quot; must resolve to a memory location, which will always be higher than 16.\r\n\r\n It does seem odd that the expected number of byte registers of a non-64-bit processor is **4 times** that of a 64-bit processor, though.\r\n\r\n**Did I configure my kernel wrong, is one of these tests wrong (so that I can submit a patch), or is it just that OpenJDK didn&#39;t consider old &quot;not-quite-compliant&quot; CPUs like this one?**\r\n\r\n\r\n  [1]: https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/c1_LIRAssembler_x86.cpp#l1313\r\n  [2]: https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.hpp#l696\r\n  [3]: https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.hpp#l710\r\n  [4]: https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.cpp#l568\r\n  [5]: https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.hpp#l469\r\n  [6]: https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/register_x86.hpp#l68\r\n  [7]: https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/share/utilities/globalDefinitions_gcc.hpp#l144","title":"What are byte registers in an x86 P6 context?","body":"<p>I'm attempting to cross-compile OpenJDK to an old 32-bit VIA Geode LX processor and I keep hitting <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/c1_LIRAssembler_x86.cpp#l1313\" rel=\"nofollow noreferrer\">this assert</a>:</p>\n\n<pre><code>assert(VM_Version::is_P6() || dest_reg-&gt;has_byte_register(), \n    \"must use byte registers if not P6\");\n</code></pre>\n\n<p>Clearly I'm failing both tests, but if I override the warning with <code>-XX:c1_LIRAssembler.cpp:1313</code> the application runs perfectly fine, so I'm presuming I've misconfigured my kernel somehow, but I don't know what about it I got wrong.  One of these has to be true for the assert to pass.</p>\n\n<p><strong>Part 1 - VM_Version::is_P6()</strong></p>\n\n<p>The VIA Geode LX is supposed to be a 686 processor (minus one instruction), but that shouldn't affect the decision being made here which is around the number of registers it can access, not the instruction set.  OpenJDK does test for certain types of registers, though, to determine the <em>Processor Family</em>.</p>\n\n<p>It defines CPUs <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.hpp#l696\" rel=\"nofollow noreferrer\">as listed in the comments</a>:</p>\n\n<pre><code>//       6   -  PentiumPro, Pentium II, Celeron, Xeon, Pentium III, Athlon,\n//              Pentium M, Core Solo, Core Duo, Core2 Duo\n</code></pre>\n\n<p>I have my kernel compiled for \"Pentium Pro\", so this should succeed, <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.hpp#l710\" rel=\"nofollow noreferrer\">however</a>:</p>\n\n<pre><code>static int  cpu_family()        { return _cpu;}\nstatic bool is_P6()             { return cpu_family() &gt;= 6; }\n</code></pre>\n\n<p><code>_cpu</code> <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.cpp#l568\" rel=\"nofollow noreferrer\">is assigned by</a> <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.hpp#l469\" rel=\"nofollow noreferrer\"><code>extended_cpu_family()</code></a>:</p>\n\n<pre><code>static uint32_t extended_cpu_family() {\n    uint32_t result = _cpuid_info.std_cpuid1_eax.bits.family;\n    result += _cpuid_info.std_cpuid1_eax.bits.ext_family;\n    return result;\n}\n</code></pre>\n\n<p>And down the rabbit hole we go....  Suffice to say I can see why this part of the assert would fail.  The VIA Geode LX mimics the instruction set of an Intel x86, but fails in a number of cases, so I understand why it wouldn't <em>technically</em> meet the qualification of a P6 which, as defined by the <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/vm_version_x86.hpp#l469\" rel=\"nofollow noreferrer\">function <code>extended_cpu_family()</code></a> means it falls back to a class 4.</p>\n\n<p><strong>Part 2 - has_byte_register()</strong></p>\n\n<p>This is the code that <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/cpu/x86/register_x86.hpp#l68\" rel=\"nofollow noreferrer\">checks for a byte register</a>:</p>\n\n<pre><code> public:\n  enum {\n#ifndef AMD64\n    number_of_registers      = 8,\n    number_of_byte_registers = 4,\n    max_slots_per_register   = 1\n#else\n    number_of_registers      = 16,\n    number_of_byte_registers = 16,\n    max_slots_per_register   = 1\n#endif // AMD64\n  };\n\n...\n\n  bool  has_byte_register() const                \n     { return 0 &lt;= (intptr_t)this &amp;&amp; (intptr_t)this &lt; number_of_byte_registers; }\n\n...\n</code></pre>\n\n<p>where <code>intptr_t</code> <a href=\"https://hg.openjdk.java.net/jdk-updates/jdk11u/file/98e7354165d3/src/hotspot/share/utilities/globalDefinitions_gcc.hpp#l144\" rel=\"nofollow noreferrer\">is defined as</a>:</p>\n\n<pre><code>typedef int                     intptr_t;\n</code></pre>\n\n<p>So basically what it looks like is that <code>has_byte_registers()</code> is failing. I don't see how it could ever success, though, since it looks like \"this\" must resolve to a memory location, which will always be higher than 16.</p>\n\n<p>It does seem odd that the expected number of byte registers of a non-64-bit processor is <strong>4 times</strong> that of a 64-bit processor, though.</p>\n\n<p><strong>Did I configure my kernel wrong, is one of these tests wrong (so that I can submit a patch), or is it just that OpenJDK didn't consider old \"not-quite-compliant\" CPUs like this one?</strong></p>\n"},{"tags":["java","function","numbers"],"comments":[{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":6,"creation_date":1700663026,"post_id":77530708,"comment_id":136682231,"body_markdown":"`pow++` is the problem, its not needed at all","body":"<code>pow++</code> is the problem, its not needed at all"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1700663734,"post_id":77530708,"comment_id":136682384,"body_markdown":"BTW `&lt;=` can better be replaced by `&lt;` (5 is a power of 5)","body":"BTW <code>&lt;=</code> can better be replaced by <code>&lt;</code> (5 is a power of 5)"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1700664000,"post_id":77530708,"comment_id":136682451,"body_markdown":"BTW no need to declare new scanner every time you read an input, 1 is more than enough.","body":"BTW no need to declare new scanner every time you read an input, 1 is more than enough."}],"answers":[{"tags":[],"owner":{"account_id":29925833,"reputation":11,"user_id":22933891,"display_name":"Nurzamat"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1700663869,"creation_date":1700663693,"answer_id":77530833,"question_id":77530708,"body_markdown":"   try this:\r\n\r\n    /* Returns true if y is a power of x */\r\n    public static boolean isPower(int x, int y)\r\n    {\r\n        // The only power of 1 is 1 itself\r\n        if (x == 1)\r\n            return (y == 1);\r\n \r\n        // Repeatedly compute power of x\r\n        int pow = 1;\r\n        while (pow &lt; y)\r\n            pow = pow * x;\r\n \r\n        // Check if power of x becomes y\r\n        return (pow == y);\r\n    }","title":"How to write a function that checks that one number is a power of another in Java?","body":"<p>try this:</p>\n<pre><code>/* Returns true if y is a power of x */\npublic static boolean isPower(int x, int y)\n{\n    // The only power of 1 is 1 itself\n    if (x == 1)\n        return (y == 1);\n\n    // Repeatedly compute power of x\n    int pow = 1;\n    while (pow &lt; y)\n        pow = pow * x;\n\n    // Check if power of x becomes y\n    return (pow == y);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700667550,"creation_date":1700666136,"answer_id":77531139,"question_id":77530708,"body_markdown":"@Shadov already answered your question, however there are some issues with your code I&#39;d like to highlight. And example code below how to solve them.\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.print(&quot;base: &quot;);\r\n        int base = scanner.nextInt();\r\n        System.out.print(&quot;result: &quot;);\r\n        int result = scanner.nextInt();\r\n        System.out.println(logarithm(base, result));\r\n    }\r\n\r\nYou don&#39;t have to create separate Scanner objects to collect multiple inputs. I removed my incorrect advice to close the Scanner. Don&#39;t do this for Scanner objects reading System.in because System.in will be permanently closed as well. In general, don&#39;t close resources you didn&#39;t create in your own code. Thanks Alexy for pointing this out in the comments.\r\n\r\n\r\nThe variable names `m` and `n` are a bit uninformative so I renamed them to `result` and `base` respectively. Also I changed the order in which they are entered.\r\n\r\n    public static Power logarithm(int base, int result) {\r\n        int exponent = 0;\r\n        int currentResult = 1;\r\n        while (currentResult &lt;= result) {\r\n            if (currentResult == result) {\r\n                return new Power(base, result, exponent);\r\n            }\r\n            currentResult = base * currentResult;\r\n            exponent++;\r\n        }\r\n        return new Power(base, result);\r\n    }\r\n\r\nThe method you called `pow` is in effect performing a logarithm function:\r\n\r\n2&lt;sup&gt;3&lt;/sup&gt; = 8 -&gt; log&lt;sub&gt;2&lt;/sub&gt; 8 = 3\r\n\r\nProvided with the base and the result, the function determines the exponent or power. \r\n\r\nYour code returns false when the result is `1` or equal to the base. This is incorrect, for example:\r\n\r\nlog&lt;sub&gt;2&lt;/sub&gt; 2 = 1\r\n\r\nlog&lt;sub&gt;2&lt;/sub&gt; 1 = 0\r\n\r\nTherefore I removed the `if (m &lt;= n)` statement and changed the starting value of your `pow` (my `currentResult`) variable to 1.\r\n\r\nPreviously you just returned `true` or `false` but it would also make sense to return the exponent in the case that it is an integer. To do this I keep track of the exponent, and start it at `0`. \r\n\r\n\r\nTo distinguish success and failure cases I introduced a record called `Power`.\r\n\r\n\r\n    public record Power(int base, int result, Integer exponent) {\r\n        public Power(int base, int result) {\r\n            this(base, result, null);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            if (exponent == null) {\r\n                return &quot;%s is not a power of %s&quot;.formatted(result, base);\r\n            } else {\r\n                return &quot;%s ^ %s = %s&quot;.formatted(base, exponent, result);\r\n            }\r\n        }\r\n    }\r\n\r\nThere are two constructors. One for the case that an exponent was found, and one for the case it wasn&#39;t. BTW this is the first time I ever used a Java record, yay!","title":"How to write a function that checks that one number is a power of another in Java?","body":"<p>@Shadov already answered your question, however there are some issues with your code I'd like to highlight. And example code below how to solve them.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(&quot;base: &quot;);\n    int base = scanner.nextInt();\n    System.out.print(&quot;result: &quot;);\n    int result = scanner.nextInt();\n    System.out.println(logarithm(base, result));\n}\n</code></pre>\n<p>You don't have to create separate Scanner objects to collect multiple inputs. I removed my incorrect advice to close the Scanner. Don't do this for Scanner objects reading System.in because System.in will be permanently closed as well. In general, don't close resources you didn't create in your own code. Thanks Alexy for pointing this out in the comments.</p>\n<p>The variable names <code>m</code> and <code>n</code> are a bit uninformative so I renamed them to <code>result</code> and <code>base</code> respectively. Also I changed the order in which they are entered.</p>\n<pre><code>public static Power logarithm(int base, int result) {\n    int exponent = 0;\n    int currentResult = 1;\n    while (currentResult &lt;= result) {\n        if (currentResult == result) {\n            return new Power(base, result, exponent);\n        }\n        currentResult = base * currentResult;\n        exponent++;\n    }\n    return new Power(base, result);\n}\n</code></pre>\n<p>The method you called <code>pow</code> is in effect performing a logarithm function:</p>\n<p>2<sup>3</sup> = 8 -&gt; log<sub>2</sub> 8 = 3</p>\n<p>Provided with the base and the result, the function determines the exponent or power.</p>\n<p>Your code returns false when the result is <code>1</code> or equal to the base. This is incorrect, for example:</p>\n<p>log<sub>2</sub> 2 = 1</p>\n<p>log<sub>2</sub> 1 = 0</p>\n<p>Therefore I removed the <code>if (m &lt;= n)</code> statement and changed the starting value of your <code>pow</code> (my <code>currentResult</code>) variable to 1.</p>\n<p>Previously you just returned <code>true</code> or <code>false</code> but it would also make sense to return the exponent in the case that it is an integer. To do this I keep track of the exponent, and start it at <code>0</code>.</p>\n<p>To distinguish success and failure cases I introduced a record called <code>Power</code>.</p>\n<pre><code>public record Power(int base, int result, Integer exponent) {\n    public Power(int base, int result) {\n        this(base, result, null);\n    }\n\n    @Override\n    public String toString() {\n        if (exponent == null) {\n            return &quot;%s is not a power of %s&quot;.formatted(result, base);\n        } else {\n            return &quot;%s ^ %s = %s&quot;.formatted(base, exponent, result);\n        }\n    }\n}\n</code></pre>\n<p>There are two constructors. One for the case that an exponent was found, and one for the case it wasn't. BTW this is the first time I ever used a Java record, yay!</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700669145,"creation_date":1700669145,"answer_id":77531479,"question_id":77530708,"body_markdown":"&gt; _&quot;... I write a boolean function to recognize integer m as the power of n or not. But my code don not run properly. ...&quot;_\r\n\r\nRemove the incrementation of, _pow_.\r\n\r\nHere is the _Wikipedia_ article, on _[exponentiation](https://en.wikipedia.org/wiki/Exponentiation)_.\r\n\r\n```java\r\nboolean power(int m, int n) {\r\n    if (m &lt;= n) {\r\n        return false;\r\n    }\r\n    int pow = n;\r\n    while (pow &lt;= m) {\r\n        pow = n * pow;\r\n        if (pow == m) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n```\r\n\r\n&gt; _&quot;... For example, 625 is the power of 5. But my code result is false.&quot;_\r\n\r\nOutput\r\n\r\n```none\r\ntrue\r\n```","title":"How to write a function that checks that one number is a power of another in Java?","body":"<blockquote>\n<p><em>&quot;... I write a boolean function to recognize integer m as the power of n or not. But my code don not run properly. ...&quot;</em></p>\n</blockquote>\n<p>Remove the incrementation of, <em>pow</em>.</p>\n<p>Here is the <em>Wikipedia</em> article, on <em><a href=\"https://en.wikipedia.org/wiki/Exponentiation\" rel=\"nofollow noreferrer\">exponentiation</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean power(int m, int n) {\n    if (m &lt;= n) {\n        return false;\n    }\n    int pow = n;\n    while (pow &lt;= m) {\n        pow = n * pow;\n        if (pow == m) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... For example, 625 is the power of 5. But my code result is false.&quot;</em></p>\n</blockquote>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700669596,"creation_date":1700669596,"answer_id":77531535,"question_id":77530708,"body_markdown":"- A mistake of your solution was pointed out in the comments.\r\n- Your code also doesn&#39;t handle the case of `m = 1` well.\r\n- For the majority of inputs the following approach works in less iterations:\r\n\r\n```java\r\n// for n, m &gt; 0\r\nstatic boolean isPower(int m, int n) {\r\n\twhile (m % n == 0) {\r\n\t\tm /= n;\r\n\t}\r\n\t\r\n\treturn (m == 1);\r\n}\r\n```\r\n\r\nHere I repeatedly divide `m` by `n` until a non-zero remainder is encountered. For an exact power of `n`, I will end up with `m = 1`.\r\n\r\n`(n - 1)/n` of all possible `m` values with this approach are rejected on the first iteration since only one number in `n` consecutive numbers has `m % n == 0`.","title":"How to write a function that checks that one number is a power of another in Java?","body":"<ul>\n<li>A mistake of your solution was pointed out in the comments.</li>\n<li>Your code also doesn't handle the case of <code>m = 1</code> well.</li>\n<li>For the majority of inputs the following approach works in less iterations:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>// for n, m &gt; 0\nstatic boolean isPower(int m, int n) {\n    while (m % n == 0) {\n        m /= n;\n    }\n    \n    return (m == 1);\n}\n</code></pre>\n<p>Here I repeatedly divide <code>m</code> by <code>n</code> until a non-zero remainder is encountered. For an exact power of <code>n</code>, I will end up with <code>m = 1</code>.</p>\n<p><code>(n - 1)/n</code> of all possible <code>m</code> values with this approach are rejected on the first iteration since only one number in <code>n</code> consecutive numbers has <code>m % n == 0</code>.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700675296,"creation_date":1700674059,"answer_id":77532038,"question_id":77530708,"body_markdown":"Other answers addressed the problem in the original code.  I thought I would show a method that doesn&#39;t use loops:\r\n\r\n````\r\n    public static boolean isPower (int base, int power) {\r\n        double exponent =  Math.log (power) / Math.log (base) ;\r\n        return (int) exponent == exponent;\r\n    }\r\n````\r\nHowever, this doesn&#39;t address the issue of lack of precision when using `double`. For example, `base = 7` and `power = 16807` could result in `exponent = 5.000000000000001`. That would result in the method returning `false` when, in fact, it should be `true`. If you are not familiar with this issue, you should look into it. I&#39;ll leave the choice of fix to you.  \r\n\r\nNote: `log (a)` returns the natural logarithm of `a`. `log (a) / log (b)` converts the result to base `b`. \r\n","title":"How to write a function that checks that one number is a power of another in Java?","body":"<p>Other answers addressed the problem in the original code.  I thought I would show a method that doesn't use loops:</p>\n<pre><code>    public static boolean isPower (int base, int power) {\n        double exponent =  Math.log (power) / Math.log (base) ;\n        return (int) exponent == exponent;\n    }\n</code></pre>\n<p>However, this doesn't address the issue of lack of precision when using <code>double</code>. For example, <code>base = 7</code> and <code>power = 16807</code> could result in <code>exponent = 5.000000000000001</code>. That would result in the method returning <code>false</code> when, in fact, it should be <code>true</code>. If you are not familiar with this issue, you should look into it. I'll leave the choice of fix to you.</p>\n<p>Note: <code>log (a)</code> returns the natural logarithm of <code>a</code>. <code>log (a) / log (b)</code> converts the result to base <code>b</code>.</p>\n"}],"owner":{"account_id":17446144,"reputation":11,"user_id":12647154,"display_name":"Zeynab Moghaddas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1700840770,"creation_date":1700662659,"question_id":77530708,"body_markdown":"I write a boolean function that checks if integer `m` is a power of `n` or not. But my code is not correct. For example, 625 is a power of 5. But my code returns false.\r\n```java\r\npublic static boolean isPower(int m, int n) {\r\n  if (m &lt;= n) {\r\n    return false;\r\n  }\r\n  int pow = n;\r\n  while (pow &lt;= m) {\r\n    pow = n * pow;\r\n    if (pow == m) {\r\n      return true;\r\n    }\r\n    pow++;\r\n  }\r\n  return false;\r\n}\r\n```","title":"How to write a function that checks that one number is a power of another in Java?","body":"<p>I write a boolean function that checks if integer <code>m</code> is a power of <code>n</code> or not. But my code is not correct. For example, 625 is a power of 5. But my code returns false.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isPower(int m, int n) {\n  if (m &lt;= n) {\n    return false;\n  }\n  int pow = n;\n  while (pow &lt;= m) {\n    pow = n * pow;\n    if (pow == m) {\n      return true;\n    }\n    pow++;\n  }\n  return false;\n}\n</code></pre>\n"},{"tags":["java","scala","java-8","concurrency","akka"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1700659126,"post_id":77528368,"comment_id":136681447,"body_markdown":"The first error says that the class is compiled for Java 11. The second one probably is because you only use scalac without adding anything to the classpath. If this is a new project, why you can&#39;t use Java 11?","body":"The first error says that the class is compiled for Java 11. The second one probably is because you only use scalac without adding anything to the classpath. If this is a new project, why you can&#39;t use Java 11?"},{"owner":{"account_id":2829539,"reputation":33,"user_id":2431392,"display_name":"Kailash"},"score":0,"creation_date":1700717450,"post_id":77528368,"comment_id":136689296,"body_markdown":"@Gast&#243;nSchabas :  Thank you for your comment. I appreciate your suggestion. Regarding the scalac, I already tried changing the directory and to the class itself. As for Java 11, unfortunately, I am not able to download JDK on my own and have to rely on the version available in the company&#39;s App Store. Thank you again for your help.","body":"@Gast&#243;nSchabas :  Thank you for your comment. I appreciate your suggestion. Regarding the scalac, I already tried changing the directory and to the class itself. As for Java 11, unfortunately, I am not able to download JDK on my own and have to rely on the version available in the company&#39;s App Store. Thank you again for your help."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1700841331,"post_id":77528368,"comment_id":136706067,"body_markdown":"If you generated the project using `sbt new akka/akka-quickstart-scala.g8` or downloaded the zip from [Akka Actors Quickstart with Scala](https://developer.lightbend.com/guides/akka-quickstart-scala/), the project comes from [akka-quickstart-scala.g8](https://github.com/akka/akka-quickstart-scala.g8). The [build.sbt](https://github.com/akka/akka-quickstart-scala.g8/blob/d59095f7e0c9d1a921ab6fef36cdf71b1d645e02/src/main/g8/build.sbt) has [default akka version 2.9](https://github.com/akka/akka-quickstart-scala.g8/blob/d59095f7e0c9d1a921ab6fef36cdf71b1d645e02/src/main/g8/default.properties#L3)","body":"If you generated the project using <code>sbt new akka&#47;akka-quickstart-scala.g8</code> or downloaded the zip from <a href=\"https://developer.lightbend.com/guides/akka-quickstart-scala/\" rel=\"nofollow noreferrer\">Akka Actors Quickstart with Scala</a>, the project comes from <a href=\"https://github.com/akka/akka-quickstart-scala.g8\" rel=\"nofollow noreferrer\">akka-quickstart-scala.g8</a>. The <a href=\"https://github.com/akka/akka-quickstart-scala.g8/blob/d59095f7e0c9d1a921ab6fef36cdf71b1d645e02/src/main/g8/build.sbt\" rel=\"nofollow noreferrer\">build.sbt</a> has <a href=\"https://github.com/akka/akka-quickstart-scala.g8/blob/d59095f7e0c9d1a921ab6fef36cdf71b1d645e02/src/main/g8/default.properties#L3\" rel=\"nofollow noreferrer\">default akka version 2.9</a>"},{"owner":{"account_id":2829539,"reputation":33,"user_id":2431392,"display_name":"Kailash"},"score":0,"creation_date":1701417567,"post_id":77528368,"comment_id":136775449,"body_markdown":"Thank you for your response, Gast&#243;n @gast&#243;n-schabas. I have checked the project&#39;s build.sbt file and found the specified Akka version is indeed 2.9.0","body":"Thank you for your response, Gast&#243;n @gast&#243;n-schabas. I have checked the project&#39;s build.sbt file and found the specified Akka version is indeed 2.9.0"}],"answers":[{"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700840707,"creation_date":1700840707,"answer_id":77544296,"question_id":77528368,"body_markdown":"[Akka 2.9 - Support for Java 8 removed](https://doc.akka.io/docs/akka/2.9/project/migration-guide-2.8.x-2.9.x.html#support-for-java-8-removed)\r\n\r\n&gt; ### Support for Java 8 removed\r\n&gt; The published artifacts are targeting Java 11, and later. Supported Java versions are 11 and 17.\r\n\r\nThe [PR to drop jdk 8 support](https://github.com/akka/akka/pull/32127) was merged\r\n\r\n[Akka 2.9 - Support for Scala 2.12 removed](https://doc.akka.io/docs/akka/2.9/project/migration-guide-2.8.x-2.9.x.html#support-for-scala-2-12-removed)\r\n\r\n&gt; ### Support for Scala 2.12 removed\r\n&gt; The published artifacts are targeting Scala 2.13 and Scala 3.3.\r\n\r\nWhich means, if you only are able to run your projects using jdk 8, the latest version of akka you can use is 2.8.x.\r\n\r\nI was able to run locally the following dummy akka hello world\r\n\r\n- `build.sbt`\r\n\r\n```scala\r\nThisBuild / scalaVersion := &quot;2.13.12&quot;\r\n\r\nlazy val root = (project in file(&quot;.&quot;))\r\n  .settings(\r\n    name := &quot;akka-dummy-hello-world&quot;,\r\n    libraryDependencies ++= Seq(\r\n      &quot;com.typesafe.akka&quot; %% &quot;akka-actor-typed&quot; % &quot;2.8.5&quot;\r\n    )\r\n  )\r\n```\r\n\r\n- `Main.scala`\r\n\r\n```scala\r\nimport akka.actor.typed.ActorSystem\r\nimport akka.actor.typed.scaladsl.Behaviors\r\n\r\nobject Main {\r\n\r\n  def main(args: Array[String]): Unit = {\r\n    val empty = Behaviors.setup[Any] { _ =&gt;\r\n      println(&quot;hello akka dummy&quot;)\r\n      Behaviors.empty\r\n    }\r\n    val actorSystem = ActorSystem(empty, &quot;akka-dummy-hello-world&quot;)\r\n    actorSystem.terminate()\r\n  }\r\n\r\n}\r\n```","title":"Scala Akka Quickstart: Java Version Mismatch and Compilation Error","body":"<p><a href=\"https://doc.akka.io/docs/akka/2.9/project/migration-guide-2.8.x-2.9.x.html#support-for-java-8-removed\" rel=\"nofollow noreferrer\">Akka 2.9 - Support for Java 8 removed</a></p>\n<blockquote>\n<h3>Support for Java 8 removed</h3>\n<p>The published artifacts are targeting Java 11, and later. Supported Java versions are 11 and 17.</p>\n</blockquote>\n<p>The <a href=\"https://github.com/akka/akka/pull/32127\" rel=\"nofollow noreferrer\">PR to drop jdk 8 support</a> was merged</p>\n<p><a href=\"https://doc.akka.io/docs/akka/2.9/project/migration-guide-2.8.x-2.9.x.html#support-for-scala-2-12-removed\" rel=\"nofollow noreferrer\">Akka 2.9 - Support for Scala 2.12 removed</a></p>\n<blockquote>\n<h3>Support for Scala 2.12 removed</h3>\n<p>The published artifacts are targeting Scala 2.13 and Scala 3.3.</p>\n</blockquote>\n<p>Which means, if you only are able to run your projects using jdk 8, the latest version of akka you can use is 2.8.x.</p>\n<p>I was able to run locally the following dummy akka hello world</p>\n<ul>\n<li><code>build.sbt</code></li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>ThisBuild / scalaVersion := &quot;2.13.12&quot;\n\nlazy val root = (project in file(&quot;.&quot;))\n  .settings(\n    name := &quot;akka-dummy-hello-world&quot;,\n    libraryDependencies ++= Seq(\n      &quot;com.typesafe.akka&quot; %% &quot;akka-actor-typed&quot; % &quot;2.8.5&quot;\n    )\n  )\n</code></pre>\n<ul>\n<li><code>Main.scala</code></li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>import akka.actor.typed.ActorSystem\nimport akka.actor.typed.scaladsl.Behaviors\n\nobject Main {\n\n  def main(args: Array[String]): Unit = {\n    val empty = Behaviors.setup[Any] { _ =&gt;\n      println(&quot;hello akka dummy&quot;)\n      Behaviors.empty\n    }\n    val actorSystem = ActorSystem(empty, &quot;akka-dummy-hello-world&quot;)\n    actorSystem.terminate()\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2829539,"reputation":33,"user_id":2431392,"display_name":"Kailash"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77544296,"answer_count":1,"score":1,"last_activity_date":1700840707,"creation_date":1700641894,"question_id":77528368,"body_markdown":"I am relatively new to Scala and Akka, transitioning from a Java, Spring, and REST API background. Currently, I am working through the Akka Actors Quickstart with Scala tutorial.\r\n\r\nUpon attempting to run the Hello World example for Scala, following the provided steps, I encountered an issue when executing `sbt reStart`. The error message is as follows:\r\n\r\n```\r\nakka-quickstart-scala[ERROR] Error: A JNI error has occurred, please check your installation and try again\r\nakka-quickstart-scala[ERROR] Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: akka/actor/typed/ActorSystem has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n```\r\n\r\nAfter researching, I found suggestions to upgrade the JRE to version 11, but due to constraints, I cannot do so at the moment. Attempting to compile the code in Java 8 using `scalac AkkaQuickstart.scala` resulted in the following error:\r\n\r\n```\r\nAkkaQuickstart.scala:5: error: not found: object akka\r\nimport http://akka.actor.typed.ActorRef\r\n```\r\n\r\nGiven that I&#39;m a novice in Akka and Scala, and unable to upgrade the Java version, I am seeking guidance on resolving this version mismatch and compilation error. Any assistance would be greatly appreciated.\r\n\r\nThanks in advance.","title":"Scala Akka Quickstart: Java Version Mismatch and Compilation Error","body":"<p>I am relatively new to Scala and Akka, transitioning from a Java, Spring, and REST API background. Currently, I am working through the Akka Actors Quickstart with Scala tutorial.</p>\n<p>Upon attempting to run the Hello World example for Scala, following the provided steps, I encountered an issue when executing <code>sbt reStart</code>. The error message is as follows:</p>\n<pre><code>akka-quickstart-scala[ERROR] Error: A JNI error has occurred, please check your installation and try again\nakka-quickstart-scala[ERROR] Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: akka/actor/typed/ActorSystem has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>After researching, I found suggestions to upgrade the JRE to version 11, but due to constraints, I cannot do so at the moment. Attempting to compile the code in Java 8 using <code>scalac AkkaQuickstart.scala</code> resulted in the following error:</p>\n<pre><code>AkkaQuickstart.scala:5: error: not found: object akka\nimport http://akka.actor.typed.ActorRef\n</code></pre>\n<p>Given that I'm a novice in Akka and Scala, and unable to upgrade the Java version, I am seeking guidance on resolving this version mismatch and compilation error. Any assistance would be greatly appreciated.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","utf-8","character-encoding"],"comments":[{"owner":{"display_name":"Scott T"},"score":0,"creation_date":1229061004,"post_id":361975,"comment_id":192351,"body_markdown":"Excellent comments guys - and things I was already thinking myself. Unfortunately there is an underlying String.getBytes() call that I have no control over. The only way I currently see to get around it is to set the default encoding programmatically.\n\nAny other suggestions?","body":"Excellent comments guys - and things I was already thinking myself. Unfortunately there is an underlying String.getBytes() call that I have no control over. The only way I currently see to get around it is to set the default encoding programmatically.  Any other suggestions?"},{"owner":{"account_id":60940,"reputation":954,"user_id":181845,"accept_rate":29,"display_name":"igor.beslic"},"score":7,"creation_date":1306700854,"post_id":361975,"comment_id":7172503,"body_markdown":"maybe irrelevant question but, is there difference when UTF8 is set with &quot;UTF8&quot;, &quot;UTF-8&quot; or &quot;utf8&quot;. Recently I found that IBM WAS 6.1 EJB and WEB containers differently treats (in way of case-sensitivity) strings used to define encoding.","body":"maybe irrelevant question but, is there difference when UTF8 is set with &quot;UTF8&quot;, &quot;UTF-8&quot; or &quot;utf8&quot;. Recently I found that IBM WAS 6.1 EJB and WEB containers differently treats (in way of case-sensitivity) strings used to define encoding."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":7,"creation_date":1332422192,"post_id":361975,"comment_id":22067403,"body_markdown":"Just a detail but:\nprefer UTF-8 to UTF8 (only the former is standard). This still applies in 2012...","body":"Just a detail but: prefer UTF-8 to UTF8 (only the former is standard). This still applies in 2012..."},{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":5,"creation_date":1332609999,"post_id":361975,"comment_id":12560357,"body_markdown":"Setting or reading the `file.encoding` property is [not supported](http://bugs.sun.com/view_bug.do?bug_id=4163515).","body":"Setting or reading the <code>file.encoding</code> property is <a href=\"http://bugs.sun.com/view_bug.do?bug_id=4163515\" rel=\"nofollow noreferrer\">not supported</a>."},{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1419137672,"post_id":361975,"comment_id":43597978,"body_markdown":"@erickson Am still not clear with the query, Is it not true that, &quot;file.encoding&quot; is relevant when character based I/O streams are used(all subclasses of `class Reader` &amp; `class Writer`)? Because `class FileInputStream` is byte based I/O stream, so why one should care about character set in byte-based I/O stream?","body":"@erickson Am still not clear with the query, Is it not true that, &quot;file.encoding&quot; is relevant when character based I/O streams are used(all subclasses of <code>class Reader</code> &amp; <code>class Writer</code>)? Because <code>class FileInputStream</code> is byte based I/O stream, so why one should care about character set in byte-based I/O stream?"},{"owner":{"account_id":6354435,"reputation":71,"user_id":4932293,"display_name":"booFar"},"score":0,"creation_date":1696324554,"post_id":361975,"comment_id":136135162,"body_markdown":"McDowell&#39;s comment should get more attention. The bug he linked to in the Oracle Java Bug Database (a working link [here](https://bugs.java.com/bugdatabase/view_bug?bug_id=4163515)) got rejected with the evaluation saying: The preferred way to change the default encoding used by the VM and the runtime system is to change the locale of the underlying platform before starting your Java program.","body":"McDowell&#39;s comment should get more attention. The bug he linked to in the Oracle Java Bug Database (a working link <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4163515\" rel=\"nofollow noreferrer\">here</a>) got rejected with the evaluation saying: The preferred way to change the default encoding used by the VM and the runtime system is to change the locale of the underlying platform before starting your Java program."}],"answers":[{"tags":[],"owner":{"account_id":13446,"reputation":44828,"user_id":27020,"accept_rate":100,"display_name":"Marc Novakowski"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1229060164,"creation_date":1229060164,"answer_id":361981,"question_id":361975,"body_markdown":"I can&#39;t answer your original question but I would like to offer you some advice -- don&#39;t depend on the JVM&#39;s default encoding.  It&#39;s always best to explicitly specify the desired encoding (i.e. &quot;UTF-8&quot;) in your code.  That way, you know it will work even across different systems and JVM configurations.","title":"Setting the default Java character encoding","body":"<p>I can't answer your original question but I would like to offer you some advice -- don't depend on the JVM's default encoding.  It's always best to explicitly specify the desired encoding (i.e. \"UTF-8\") in your code.  That way, you know it will work even across different systems and JVM configurations.</p>\n"},{"tags":[],"owner":{"account_id":13054,"reputation":2642,"user_id":26010,"display_name":"Dov Wasserman"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1490883310,"creation_date":1229060389,"answer_id":361984,"question_id":361975,"body_markdown":"I think a better approach than setting the platform&#39;s default character set, especially as you seem to have restrictions on affecting the application deployment, let alone the platform, is to call the much safer `String.getBytes(&quot;charsetName&quot;)`. That way your application is not dependent on things beyond its control.\r\n\r\nI personally feel that `String.getBytes()` should be deprecated, as it has caused serious problems in a number of cases I have seen, where the developer did not account for the default charset possibly changing.","title":"Setting the default Java character encoding","body":"<p>I think a better approach than setting the platform's default character set, especially as you seem to have restrictions on affecting the application deployment, let alone the platform, is to call the much safer <code>String.getBytes(\"charsetName\")</code>. That way your application is not dependent on things beyond its control.</p>\n\n<p>I personally feel that <code>String.getBytes()</code> should be deprecated, as it has caused serious problems in a number of cases I have seen, where the developer did not account for the default charset possibly changing.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":1,"up_vote_count":361,"is_accepted":true,"score":360,"last_activity_date":1370360709,"creation_date":1229061385,"answer_id":362006,"question_id":361975,"body_markdown":"Unfortunately, the `file.encoding` property has to be specified as the JVM starts up; by the time your main method is entered, the character encoding used by `String.getBytes()` and the default constructors of `InputStreamReader` and `OutputStreamWriter` has been permanently cached.\r\n\r\nAs [Edward Grech points out,][1] in a special case like this, the environment variable `JAVA_TOOL_OPTIONS` *can* be used to specify this property, but it&#39;s normally done like this:\r\n\r\n    java -Dfile.encoding=UTF-8 … com.x.Main\r\n\r\n`Charset.defaultCharset()` will reflect changes to the `file.encoding` property, but most of the code in the core Java libraries that need to determine the default character encoding do not use this mechanism.\r\n\r\nWhen you are encoding or decoding, you can query the `file.encoding` property or `Charset.defaultCharset()` to find the current default encoding, and use the appropriate method or constructor overload to specify it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/623036/3474","title":"Setting the default Java character encoding","body":"<p>Unfortunately, the <code>file.encoding</code> property has to be specified as the JVM starts up; by the time your main method is entered, the character encoding used by <code>String.getBytes()</code> and the default constructors of <code>InputStreamReader</code> and <code>OutputStreamWriter</code> has been permanently cached.</p>\n\n<p>As <a href=\"https://stackoverflow.com/a/623036/3474\">Edward Grech points out,</a> in a special case like this, the environment variable <code>JAVA_TOOL_OPTIONS</code> <em>can</em> be used to specify this property, but it's normally done like this:</p>\n\n<pre><code>java -Dfile.encoding=UTF-8 … com.x.Main\n</code></pre>\n\n<p><code>Charset.defaultCharset()</code> will reflect changes to the <code>file.encoding</code> property, but most of the code in the core Java libraries that need to determine the default character encoding do not use this mechanism.</p>\n\n<p>When you are encoding or decoding, you can query the <code>file.encoding</code> property or <code>Charset.defaultCharset()</code> to find the current default encoding, and use the appropriate method or constructor overload to specify it.</p>\n"},{"tags":[],"owner":{"account_id":13054,"reputation":2642,"user_id":26010,"display_name":"Dov Wasserman"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1229399972,"creation_date":1229399972,"answer_id":370421,"question_id":361975,"body_markdown":"Not clear on what you do and don&#39;t have control over at this point. If you can interpose a different OutputStream class on the destination file, you could use a subtype of OutputStream which converts Strings to bytes under a charset you define, say UTF-8 by default. If modified UTF-8 is suffcient for your needs, you can use `DataOutputStream.writeUTF(String)`:\r\n\r\n    byte inbytes[] = new byte[1024];\r\n    FileInputStream fis = new FileInputStream(&quot;response.txt&quot;);\r\n    fis.read(inbytes);\r\n    String in = new String(inbytes, &quot;UTF8&quot;);\r\n    DataOutputStream out = new DataOutputStream(new FileOutputStream(&quot;response-2.txt&quot;));\r\n    out.writeUTF(in); // no getBytes() here\r\n\r\n\r\nIf this approach is not feasible, it may help if you clarify here exactly what you can and can&#39;t control in terms of data flow and execution environment (though I know that&#39;s sometimes easier said than determined). Good luck.","title":"Setting the default Java character encoding","body":"<p>Not clear on what you do and don't have control over at this point. If you can interpose a different OutputStream class on the destination file, you could use a subtype of OutputStream which converts Strings to bytes under a charset you define, say UTF-8 by default. If modified UTF-8 is suffcient for your needs, you can use <code>DataOutputStream.writeUTF(String)</code>:</p>\n\n<pre><code>byte inbytes[] = new byte[1024];\nFileInputStream fis = new FileInputStream(\"response.txt\");\nfis.read(inbytes);\nString in = new String(inbytes, \"UTF8\");\nDataOutputStream out = new DataOutputStream(new FileOutputStream(\"response-2.txt\"));\nout.writeUTF(in); // no getBytes() here\n</code></pre>\n\n<p>If this approach is not feasible, it may help if you clarify here exactly what you can and can't control in terms of data flow and execution environment (though I know that's sometimes easier said than determined). Good luck.</p>\n"},{"tags":[],"owner":{"account_id":28220,"reputation":2240,"user_id":75183,"display_name":"dwardu"},"down_vote_count":0,"up_vote_count":191,"is_accepted":false,"score":191,"last_activity_date":1236487597,"creation_date":1236486710,"answer_id":623036,"question_id":361975,"body_markdown":"From the [JVM™ Tool Interface][1] documentation…\r\n&gt; Since the command-line cannot always be accessed or modified, for example in embedded VMs or simply VMs launched deep within scripts, a `JAVA_TOOL_OPTIONS` variable is provided so that agents may be launched in these cases.\r\n\r\nBy setting the (Windows) environment variable `JAVA_TOOL_OPTIONS` to `-Dfile.encoding=UTF8`, the (Java) `System` property will be set automatically every time a JVM is started. You will know that the parameter has been picked up because the following message will be posted to `System.err`:\r\n&gt;`Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8`\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/platform/jvmti/jvmti.html#tooloptions","title":"Setting the default Java character encoding","body":"<p>From the <a href=\"http://java.sun.com/javase/6/docs/platform/jvmti/jvmti.html#tooloptions\" rel=\"noreferrer\">JVM™ Tool Interface</a> documentation…</p>\n\n<blockquote>\n  <p>Since the command-line cannot always be accessed or modified, for example in embedded VMs or simply VMs launched deep within scripts, a <code>JAVA_TOOL_OPTIONS</code> variable is provided so that agents may be launched in these cases.</p>\n</blockquote>\n\n<p>By setting the (Windows) environment variable <code>JAVA_TOOL_OPTIONS</code> to <code>-Dfile.encoding=UTF8</code>, the (Java) <code>System</code> property will be set automatically every time a JVM is started. You will know that the parameter has been picked up because the following message will be posted to <code>System.err</code>:</p>\n\n<blockquote>\n  <p><code>Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":120090,"reputation":69,"user_id":312292,"display_name":"lizi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1327001020,"creation_date":1327001020,"answer_id":8932021,"question_id":361975,"body_markdown":"We set there two system properties together and it makes the system take everything into utf8\r\n\r\n    file.encoding=UTF8\r\n    client.encoding.override＝UTF-8\r\n","title":"Setting the default Java character encoding","body":"<p>We set there two system properties together and it makes the system take everything into utf8</p>\n\n<pre><code>file.encoding=UTF8\nclient.encoding.override＝UTF-8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1187533,"reputation":361,"user_id":1161197,"display_name":"Emmanuel.B"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1700840698,"creation_date":1327082982,"answer_id":8945913,"question_id":361975,"body_markdown":"Try this:\r\n\r\n    new OutputStreamWriter(new FileOutputStream(&quot;Your_file_fullpath&quot; ),Charset.forName(&quot;UTF8&quot;))","title":"Setting the default Java character encoding","body":"<p>Try this:</p>\n<pre><code>new OutputStreamWriter(new FileOutputStream(&quot;Your_file_fullpath&quot; ),Charset.forName(&quot;UTF8&quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1443172,"reputation":925,"user_id":2092680,"display_name":"naskoos"},"down_vote_count":3,"up_vote_count":83,"is_accepted":false,"score":80,"last_activity_date":1363947417,"creation_date":1361387344,"answer_id":14987992,"question_id":361975,"body_markdown":"I have a hacky way that definitely works!!\r\n\r\n    System.setProperty(&quot;file.encoding&quot;,&quot;UTF-8&quot;);\r\n    Field charset = Charset.class.getDeclaredField(&quot;defaultCharset&quot;);\r\n    charset.setAccessible(true);\r\n    charset.set(null,null);\r\n\r\nThis way you are going to trick JVM which would think that charset is not set and make it to set it again to UTF-8, on runtime!","title":"Setting the default Java character encoding","body":"<p>I have a hacky way that definitely works!!</p>\n\n<pre><code>System.setProperty(\"file.encoding\",\"UTF-8\");\nField charset = Charset.class.getDeclaredField(\"defaultCharset\");\ncharset.setAccessible(true);\ncharset.set(null,null);\n</code></pre>\n\n<p>This way you are going to trick JVM which would think that charset is not set and make it to set it again to UTF-8, on runtime!</p>\n"},{"tags":[],"owner":{"account_id":3829710,"reputation":71,"user_id":3175616,"display_name":"D Bright"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1562078954,"creation_date":1389228388,"answer_id":21009671,"question_id":361975,"body_markdown":"We were having the same issues.  We methodically tried several suggestions from this article (and others) to no avail.  We also tried adding the `-Dfile.encoding=UTF8` and nothing seemed to be working.  \r\n\r\nFor people that are having this issue, the following article finally helped us track down describes how the locale setting can break `unicode/UTF-8` in `Java/Tomcat`\r\n\r\nhttp://www.jvmhost.com/articles/locale-breaks-unicode-utf-8-java-tomcat\r\n\r\nSetting the locale correctly in the `~/.bashrc` file worked for us.","title":"Setting the default Java character encoding","body":"<p>We were having the same issues.  We methodically tried several suggestions from this article (and others) to no avail.  We also tried adding the <code>-Dfile.encoding=UTF8</code> and nothing seemed to be working.  </p>\n\n<p>For people that are having this issue, the following article finally helped us track down describes how the locale setting can break <code>unicode/UTF-8</code> in <code>Java/Tomcat</code></p>\n\n<p><a href=\"http://www.jvmhost.com/articles/locale-breaks-unicode-utf-8-java-tomcat\" rel=\"nofollow noreferrer\">http://www.jvmhost.com/articles/locale-breaks-unicode-utf-8-java-tomcat</a></p>\n\n<p>Setting the locale correctly in the <code>~/.bashrc</code> file worked for us.</p>\n"},{"tags":[],"owner":{"account_id":1816021,"reputation":1378,"user_id":1651085,"accept_rate":70,"display_name":"Lavixu"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1451837757,"creation_date":1404379984,"answer_id":24550034,"question_id":361975,"body_markdown":"I have tried a lot of things, but the sample code here works perfect.\r\n[Link][1]\r\n\r\nThe crux of the code is:\r\n\r\n    String s = &quot;एक गाव में एक किसान&quot;;\r\n    String out = new String(s.getBytes(&quot;UTF-8&quot;), &quot;ISO-8859-1&quot;);\r\n\r\n\r\n  [1]: http://fabioangelini.wordpress.com/2011/08/04/converting-java-string-fromto-utf-8/","title":"Setting the default Java character encoding","body":"<p>I have tried a lot of things, but the sample code here works perfect.\n<a href=\"http://fabioangelini.wordpress.com/2011/08/04/converting-java-string-fromto-utf-8/\" rel=\"noreferrer\">Link</a></p>\n\n<p>The crux of the code is:</p>\n\n<pre><code>String s = \"एक गाव में एक किसान\";\nString out = new String(s.getBytes(\"UTF-8\"), \"ISO-8859-1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507218032,"creation_date":1507218032,"answer_id":46589701,"question_id":361975,"body_markdown":"Following @Caspar comment on accepted answer, the preferred way to fix this according to Sun is :\r\n\r\n&quot;change the locale of the underlying platform before starting your Java program.&quot;\r\n\r\nhttp://bugs.java.com/view_bug.do?bug_id=4163515\r\n\r\nFor docker see:\r\n\r\nhttp://jaredmarkell.com/docker-and-locales/","title":"Setting the default Java character encoding","body":"<p>Following @Caspar comment on accepted answer, the preferred way to fix this according to Sun is :</p>\n\n<p>\"change the locale of the underlying platform before starting your Java program.\"</p>\n\n<p><a href=\"http://bugs.java.com/view_bug.do?bug_id=4163515\" rel=\"nofollow noreferrer\">http://bugs.java.com/view_bug.do?bug_id=4163515</a></p>\n\n<p>For docker see:</p>\n\n<p><a href=\"http://jaredmarkell.com/docker-and-locales/\" rel=\"nofollow noreferrer\">http://jaredmarkell.com/docker-and-locales/</a></p>\n"},{"tags":[],"owner":{"account_id":11994794,"reputation":1,"user_id":8776712,"display_name":"midmaestro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508001287,"creation_date":1508001287,"answer_id":46747257,"question_id":361975,"body_markdown":"Recently I bumped into a local company&#39;s Notes 6.5 system and found out the webmail would show unidentifiable characters on a non-Zhongwen localed Windows installation. Have dug for several weeks online, figured it out just few minutes ago:\r\n\r\nIn Java properties, add the following string to Runtime Parameters\r\n\r\n    -Dfile.encoding=MS950 -Duser.language=zh -Duser.country=TW -Dsun.jnu.encoding=MS950\r\n\r\nUTF-8 setting would not work in this case.","title":"Setting the default Java character encoding","body":"<p>Recently I bumped into a local company's Notes 6.5 system and found out the webmail would show unidentifiable characters on a non-Zhongwen localed Windows installation. Have dug for several weeks online, figured it out just few minutes ago:</p>\n\n<p>In Java properties, add the following string to Runtime Parameters</p>\n\n<pre><code>-Dfile.encoding=MS950 -Duser.language=zh -Duser.country=TW -Dsun.jnu.encoding=MS950\n</code></pre>\n\n<p>UTF-8 setting would not work in this case.</p>\n"},{"tags":[],"owner":{"account_id":962021,"reputation":11892,"user_id":986160,"accept_rate":83,"display_name":"Michail Michailidis"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1519405313,"creation_date":1519405313,"answer_id":48952844,"question_id":361975,"body_markdown":"In case you are using Spring Boot and want to pass the argument `file.encoding` in JVM you have to run it like that:\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&quot;-Dfile.encoding=UTF-8&quot;\r\n\r\nthis was needed for us since we were using `JTwig` templates and the operating system had `ANSI_X3.4-1968` that we found out through `System.out.println(System.getProperty(&quot;file.encoding&quot;));`\r\n\r\nHope this helps someone!\r\n\r\n\r\n\r\n\r\n","title":"Setting the default Java character encoding","body":"<p>In case you are using Spring Boot and want to pass the argument <code>file.encoding</code> in JVM you have to run it like that:</p>\n\n<pre><code>mvn spring-boot:run -Drun.jvmArguments=\"-Dfile.encoding=UTF-8\"\n</code></pre>\n\n<p>this was needed for us since we were using <code>JTwig</code> templates and the operating system had <code>ANSI_X3.4-1968</code> that we found out through <code>System.out.println(System.getProperty(\"file.encoding\"));</code></p>\n\n<p>Hope this helps someone!</p>\n"},{"tags":[],"owner":{"account_id":13078841,"reputation":549,"user_id":9449998,"display_name":"prabushi samarakoon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520324908,"creation_date":1520324908,"answer_id":49126338,"question_id":361975,"body_markdown":"    mvn clean install -Dfile.encoding=UTF-8 -Dmaven.repo.local=/path-to-m2\r\n\r\ncommand worked with exec-maven-plugin to resolve following error while configuring a jenkins task.\r\n\r\n    Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=512m; support was removed in 8.0\r\n    Error occurred during initialization of VM\r\n    java.nio.charset.IllegalCharsetNameException: &quot;UTF-8&quot;\r\n    \tat java.nio.charset.Charset.checkName(Charset.java:315)\r\n    \tat java.nio.charset.Charset.lookup2(Charset.java:484)\r\n    \tat java.nio.charset.Charset.lookup(Charset.java:464)\r\n    \tat java.nio.charset.Charset.defaultCharset(Charset.java:609)\r\n    \tat sun.nio.cs.StreamEncoder.forOutputStreamWriter(StreamEncoder.java:56)\r\n    \tat java.io.OutputStreamWriter.&lt;init&gt;(OutputStreamWriter.java:111)\r\n    \tat java.io.PrintStream.&lt;init&gt;(PrintStream.java:104)\r\n    \tat java.io.PrintStream.&lt;init&gt;(PrintStream.java:151)\r\n    \tat java.lang.System.newPrintStream(System.java:1148)\r\n    \tat java.lang.System.initializeSystemClass(System.java:1192)","title":"Setting the default Java character encoding","body":"<pre><code>mvn clean install -Dfile.encoding=UTF-8 -Dmaven.repo.local=/path-to-m2\n</code></pre>\n\n<p>command worked with exec-maven-plugin to resolve following error while configuring a jenkins task.</p>\n\n<pre><code>Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=512m; support was removed in 8.0\nError occurred during initialization of VM\njava.nio.charset.IllegalCharsetNameException: \"UTF-8\"\n    at java.nio.charset.Charset.checkName(Charset.java:315)\n    at java.nio.charset.Charset.lookup2(Charset.java:484)\n    at java.nio.charset.Charset.lookup(Charset.java:464)\n    at java.nio.charset.Charset.defaultCharset(Charset.java:609)\n    at sun.nio.cs.StreamEncoder.forOutputStreamWriter(StreamEncoder.java:56)\n    at java.io.OutputStreamWriter.&lt;init&gt;(OutputStreamWriter.java:111)\n    at java.io.PrintStream.&lt;init&gt;(PrintStream.java:104)\n    at java.io.PrintStream.&lt;init&gt;(PrintStream.java:151)\n    at java.lang.System.newPrintStream(System.java:1148)\n    at java.lang.System.initializeSystemClass(System.java:1192)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4696099,"reputation":33,"user_id":6624712,"display_name":"Berend Menninga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524560343,"creation_date":1524560343,"answer_id":49997441,"question_id":361975,"body_markdown":"I&#39;m using Amazon (AWS) Elastic Beanstalk and successfully changed it to UTF-8. \r\n\r\nIn Elastic Beanstalk, go to Configuration &gt; Software, &quot;Environment properties&quot;.\r\nAdd (name) JAVA_TOOL_OPTIONS with (value) -Dfile.encoding=UTF8\r\n\r\nAfter saving, the environment will restart with the UTF-8 encoding.","title":"Setting the default Java character encoding","body":"<p>I'm using Amazon (AWS) Elastic Beanstalk and successfully changed it to UTF-8. </p>\n\n<p>In Elastic Beanstalk, go to Configuration > Software, \"Environment properties\".\nAdd (name) JAVA_TOOL_OPTIONS with (value) -Dfile.encoding=UTF8</p>\n\n<p>After saving, the environment will restart with the UTF-8 encoding.</p>\n"},{"tags":[],"owner":{"account_id":9153514,"reputation":425,"user_id":6807182,"display_name":"JacobTheKnitter"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1562158694,"creation_date":1562158694,"answer_id":56870696,"question_id":361975,"body_markdown":"My team encountered the same issue in machines with Windows.. then managed to resolve it in two ways:\n\n a) Set enviroment variable (even in Windows system preferences)\n\nJAVA_TOOL_OPTIONS &lt;br&gt;\n-Dfile.encoding=UTF8 \n\n  b) Introduce following snippet to your pom.xml: \n\n   \n\n     -Dfile.encoding=UTF-8 \n\n\nWITHIN \n\n     &lt;jvmArguments&gt;\n     -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8001\n     -Dfile.encoding=UTF-8\n     &lt;/jvmArguments&gt;","title":"Setting the default Java character encoding","body":"<p>My team encountered the same issue in machines with Windows.. then managed to resolve it in two ways:</p>\n<p>a) Set enviroment variable (even in Windows system preferences)</p>\n<p>JAVA_TOOL_OPTIONS <br>\n-Dfile.encoding=UTF8</p>\n<p>b) Introduce following snippet to your pom.xml:</p>\n<pre><code> -Dfile.encoding=UTF-8 \n</code></pre>\n<p>WITHIN</p>\n<pre><code> &lt;jvmArguments&gt;\n -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8001\n -Dfile.encoding=UTF-8\n &lt;/jvmArguments&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4675431,"reputation":330,"user_id":3785939,"display_name":"Febix"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1596808330,"creation_date":1596808330,"answer_id":63303242,"question_id":361975,"body_markdown":"Solve this problem in my project. Hope it helps someone.\r\n\r\nI use LIBGDX java framework and also had this issue in my android studio project. \r\nIn Mac OS encoding is correct, but in Windows 10 special characters and symbols and \r\nalso russian characters show as questions like: ????? and other incorrect symbols.\r\n\r\n1. Change in android studio project settings:\r\n`File-&gt;Settings...-&gt;Editor-&gt; File Encodings` to UTF-8 in all three fields (Global Encoding, Project Encoding and Default below).\r\n\r\n2. In any java file set:\r\n\r\n    `System.setProperty(&quot;file.encoding&quot;,&quot;UTF-8&quot;);`\r\n\r\n3. And for test print debug log:\r\n\r\n    `System.out.println(&quot;My project encoding is : &quot;+ Charset.defaultCharset());`","title":"Setting the default Java character encoding","body":"<p>Solve this problem in my project. Hope it helps someone.</p>\n<p>I use LIBGDX java framework and also had this issue in my android studio project.\nIn Mac OS encoding is correct, but in Windows 10 special characters and symbols and\nalso russian characters show as questions like: ????? and other incorrect symbols.</p>\n<ol>\n<li><p>Change in android studio project settings:\n<code>File-&gt;Settings...-&gt;Editor-&gt; File Encodings</code> to UTF-8 in all three fields (Global Encoding, Project Encoding and Default below).</p>\n</li>\n<li><p>In any java file set:</p>\n<p><code>System.setProperty(&quot;file.encoding&quot;,&quot;UTF-8&quot;);</code></p>\n</li>\n<li><p>And for test print debug log:</p>\n<p><code>System.out.println(&quot;My project encoding is : &quot;+ Charset.defaultCharset());</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15581436,"reputation":121,"user_id":11241086,"display_name":"theseventhsense"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636094209,"creation_date":1636094209,"answer_id":69849422,"question_id":361975,"body_markdown":"Setting up jvm arguments while starting application helped me resolve this issue. `java -Dfile.encoding=UTF-8 -Dsun.jnu.encoding=UTF-8`.\r\n\r\n`file.encoding=UTF-8` - This helps to have the Unicode characters in the file.\r\n\r\n`sun.jnu.encoding=UTF-8` - This helps to have the Unicode characters as the File name in the file system.","title":"Setting the default Java character encoding","body":"<p>Setting up jvm arguments while starting application helped me resolve this issue. <code>java -Dfile.encoding=UTF-8 -Dsun.jnu.encoding=UTF-8</code>.</p>\n<p><code>file.encoding=UTF-8</code> - This helps to have the Unicode characters in the file.</p>\n<p><code>sun.jnu.encoding=UTF-8</code> - This helps to have the Unicode characters as the File name in the file system.</p>\n"}],"owner":{"display_name":"Scott T"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":828377,"favorite_count":0,"down_vote_count":0,"up_vote_count":408,"accepted_answer_id":362006,"answer_count":18,"score":408,"last_activity_date":1700840698,"creation_date":1229059881,"question_id":361975,"body_markdown":"How do I properly set the default character encoding used by the JVM (1.5.x) programmatically?\r\n\r\nI have read that `-Dfile.encoding=whatever` used to be the way to go for older JVMs. I don&#39;t have that luxury for reasons I wont get into.\r\n\r\nI have tried:\r\n\r\n    System.setProperty(&quot;file.encoding&quot;, &quot;UTF-8&quot;);\r\n\r\nAnd the property gets set, but it doesn&#39;t seem to cause the final `getBytes` call below to use UTF8:\r\n\r\n    System.setProperty(&quot;file.encoding&quot;, &quot;UTF-8&quot;);\r\n\r\n    byte inbytes[] = new byte[1024];\r\n        \r\n    FileInputStream fis = new FileInputStream(&quot;response.txt&quot;);\r\n    fis.read(inbytes);\r\n    FileOutputStream fos = new FileOutputStream(&quot;response-2.txt&quot;);\r\n    String in = new String(inbytes, &quot;UTF8&quot;);\r\n    fos.write(in.getBytes());","title":"Setting the default Java character encoding","body":"<p>How do I properly set the default character encoding used by the JVM (1.5.x) programmatically?</p>\n\n<p>I have read that <code>-Dfile.encoding=whatever</code> used to be the way to go for older JVMs. I don't have that luxury for reasons I wont get into.</p>\n\n<p>I have tried:</p>\n\n<pre><code>System.setProperty(\"file.encoding\", \"UTF-8\");\n</code></pre>\n\n<p>And the property gets set, but it doesn't seem to cause the final <code>getBytes</code> call below to use UTF8:</p>\n\n<pre><code>System.setProperty(\"file.encoding\", \"UTF-8\");\n\nbyte inbytes[] = new byte[1024];\n\nFileInputStream fis = new FileInputStream(\"response.txt\");\nfis.read(inbytes);\nFileOutputStream fos = new FileOutputStream(\"response-2.txt\");\nString in = new String(inbytes, \"UTF8\");\nfos.write(in.getBytes());\n</code></pre>\n"},{"tags":["java","linux","spring","spring-boot"],"comments":[{"owner":{"display_name":"user180100"},"score":3,"creation_date":1396728059,"post_id":22886083,"comment_id":34923002,"body_markdown":"nohup/screen (dirty method), init/systemd/upstart (proper method)","body":"nohup/screen (dirty method), init/systemd/upstart (proper method)"},{"owner":{"account_id":50800,"reputation":1946,"user_id":151608,"accept_rate":71,"display_name":"Cleber Goncalves"},"score":0,"creation_date":1396729010,"post_id":22886083,"comment_id":34923361,"body_markdown":"@RC Yep, that much I know, like I mentioned, /sbin/init with a custom script in /etc/init.d, would do the job, but is it really the idea that everyone should build his own script to manage the daemon (start, stop, restart, status)? Feels like something is missing on that solution.","body":"@RC Yep, that much I know, like I mentioned, /sbin/init with a custom script in /etc/init.d, would do the job, but is it really the idea that everyone should build his own script to manage the daemon (start, stop, restart, status)? Feels like something is missing on that solution."},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1396730667,"post_id":22886083,"comment_id":34923933,"body_markdown":"I you feel that something is missing in spring-boot (it&#39;s a really &quot;fresh&quot; project btw) just contact the team in charge and make an evolution proposal.","body":"I you feel that something is missing in spring-boot (it&#39;s a really &quot;fresh&quot; project btw) just contact the team in charge and make an evolution proposal."},{"owner":{"account_id":50800,"reputation":1946,"user_id":151608,"accept_rate":71,"display_name":"Cleber Goncalves"},"score":0,"creation_date":1396764853,"post_id":22886083,"comment_id":34931221,"body_markdown":"Well, if you generate a war archive you can use your distribution&#39;s version on Tomcat which will have a init script ready to use. On the other hand, if you use the executable jar approach, you have to come up with your own custom init script. Not sure if that is on boot&#39;s realm, but it is clearly missing, which is kind of weird, hence me asking in case I overlooked something. Will ping them.","body":"Well, if you generate a war archive you can use your distribution&#39;s version on Tomcat which will have a init script ready to use. On the other hand, if you use the executable jar approach, you have to come up with your own custom init script. Not sure if that is on boot&#39;s realm, but it is clearly missing, which is kind of weird, hence me asking in case I overlooked something. Will ping them."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":1,"creation_date":1396765735,"post_id":22886083,"comment_id":34931430,"body_markdown":"See [here for existing discussion](https://github.com/spring-projects/spring-boot/issues/519) and ideas.","body":"See <a href=\"https://github.com/spring-projects/spring-boot/issues/519\" rel=\"nofollow noreferrer\">here for existing discussion</a> and ideas."},{"owner":{"account_id":532733,"reputation":14505,"user_id":1251350,"accept_rate":93,"display_name":"Faraj Farook"},"score":0,"creation_date":1424809822,"post_id":22886083,"comment_id":45700832,"body_markdown":"I use nohup for testing purposes.","body":"I use nohup for testing purposes."},{"owner":{"account_id":878622,"reputation":1007,"user_id":65406,"accept_rate":60,"display_name":"MD6380"},"score":0,"creation_date":1428963317,"post_id":22886083,"comment_id":47377253,"body_markdown":"Is deploying it as a jar recommended for a production environment, or is it better to create a war and deploy on a regular Tomcat container?","body":"Is deploying it as a jar recommended for a production environment, or is it better to create a war and deploy on a regular Tomcat container?"},{"owner":{"account_id":4928521,"reputation":348,"user_id":3969081,"display_name":"dgofactory"},"score":0,"creation_date":1435083989,"post_id":22886083,"comment_id":50048105,"body_markdown":"Just start a service as it was noted in other question.\n\n[Java As a service Linux][1] or the java wrapper [Java Service Wrapper]:[2]\n\n[2]:http://wrapper.tanukisoftware.com/doc/english/launch-nix.html\n  [1]: http://stackoverflow.com/questions/11203483/run-a-java-application-as-a-service-on-linux","body":"Just start a service as it was noted in other question.  [Java As a service Linux][1] or the java wrapper [Java Service Wrapper]:[2]  [2]:<a href=\"http://wrapper.tanukisoftware.com/doc/english/launch-nix.html\" rel=\"nofollow noreferrer\">wrapper.tanukisoftware.com/doc/english/launch-nix.html</a>   [1]: <a href=\"http://stackoverflow.com/questions/11203483/run-a-java-application-as-a-service-on-linux\" title=\"run a java application as a service on linux\">stackoverflow.com/questions/11203483/&hellip;</a>"},{"owner":{"account_id":435063,"reputation":4304,"user_id":821436,"accept_rate":79,"display_name":"Martin Schr&#246;der"},"score":0,"creation_date":1472473457,"post_id":22886083,"comment_id":65751303,"body_markdown":"See also [Spring Boot application as a Service](http://stackoverflow.com/a/23537896)","body":"See also <a href=\"http://stackoverflow.com/a/23537896\">Spring Boot application as a Service</a>"}],"answers":[{"tags":[],"owner":{"account_id":4286894,"reputation":111,"user_id":3504341,"display_name":"Scrayos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396816896,"creation_date":1396816896,"answer_id":22899758,"question_id":22886083,"body_markdown":"I start applications that I want to run persistently or at least semi-permanently via screen -dmS NAME /path/to/script. As far as I am informed this is the most elegant solution.","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>I start applications that I want to run persistently or at least semi-permanently via screen -dmS NAME /path/to/script. As far as I am informed this is the most elegant solution.</p>\n"},{"tags":[],"owner":{"account_id":3969371,"reputation":73,"user_id":3274340,"display_name":"spstorey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1428497559,"creation_date":1428497559,"answer_id":29515190,"question_id":22886083,"body_markdown":"In a production environment you want your app to be started again on a machine restart etc, creating a /etc/init.d/ script and linking to the appropriate runlevel to start and stop it is the correct approach. Spring Boot will not extend to covering this as it is a operating system specific setup and the are tonnes of other options, do you want it running in a chroot jail, does it need to stop / start before some other software etc.","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>In a production environment you want your app to be started again on a machine restart etc, creating a /etc/init.d/ script and linking to the appropriate runlevel to start and stop it is the correct approach. Spring Boot will not extend to covering this as it is a operating system specific setup and the are tonnes of other options, do you want it running in a chroot jail, does it need to stop / start before some other software etc.</p>\n"},{"tags":[],"owner":{"account_id":2738653,"reputation":3819,"user_id":2360694,"accept_rate":67,"display_name":"Vinod Mohanan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1430250775,"creation_date":1430250775,"answer_id":29928639,"question_id":22886083,"body_markdown":"My Spring boot application has two initializers. One for development and another for production. For development, I use the main method like this:\r\n\r\n    @SpringBootApplication\r\n    public class MyAppInitializer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MyAppInitializer .class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nMy Initializer for production environment extends the **SpringBootServletInitializer** and looks like this:\r\n\r\n    @SpringBootApplication\r\n    public class MyAppInitializerServlet extends SpringBootServletInitializer{\r\n    \tprivate static final Logger log = Logger\r\n    \t\t\t.getLogger(SpringBootServletInitializer.class);\r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(\r\n    \t\t\tSpringApplicationBuilder builder) {\r\n    \t\tlog.trace(&quot;Initializing the application&quot;);\r\n    \t\treturn builder.sources(MyAppInitializerServlet .class);\r\n    \t}\r\n    \r\n    }\r\n\r\nI use gradle and my build.gradle file applies &#39;**WAR**&#39; plugin. When I run it in the development environment, I use **bootrun** task. Where as when I want to deploy it to production, I use **assemble** task to generate the WAR and deploy.\r\n\r\nI can run like a normal spring application in production without discounting the advantages provided by the inbuilt tomcat while developing. Hope this helps.","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>My Spring boot application has two initializers. One for development and another for production. For development, I use the main method like this:</p>\n\n<pre><code>@SpringBootApplication\npublic class MyAppInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyAppInitializer .class, args);\n    }\n\n}\n</code></pre>\n\n<p>My Initializer for production environment extends the <strong>SpringBootServletInitializer</strong> and looks like this:</p>\n\n<pre><code>@SpringBootApplication\npublic class MyAppInitializerServlet extends SpringBootServletInitializer{\n    private static final Logger log = Logger\n            .getLogger(SpringBootServletInitializer.class);\n    @Override\n    protected SpringApplicationBuilder configure(\n            SpringApplicationBuilder builder) {\n        log.trace(\"Initializing the application\");\n        return builder.sources(MyAppInitializerServlet .class);\n    }\n\n}\n</code></pre>\n\n<p>I use gradle and my build.gradle file applies '<strong>WAR</strong>' plugin. When I run it in the development environment, I use <strong>bootrun</strong> task. Where as when I want to deploy it to production, I use <strong>assemble</strong> task to generate the WAR and deploy.</p>\n\n<p>I can run like a normal spring application in production without discounting the advantages provided by the inbuilt tomcat while developing. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1544633,"reputation":1209,"user_id":1438464,"display_name":"corleone"},"down_vote_count":1,"up_vote_count":107,"is_accepted":false,"score":106,"last_activity_date":1700840455,"creation_date":1438004743,"answer_id":31654838,"question_id":22886083,"body_markdown":"Please note that since Spring Boot 1.3.0.M1, you are able to build fully executable jars using Maven and Gradle. \r\n\r\nFor Maven, just include the following in your `pom.xml`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;executable&gt;true&lt;/executable&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nFor Gradle add the following snippet to your `build.gradle`:\r\n\r\n    springBoot {\r\n        executable = true\r\n    }\r\n\r\n\r\nThe fully executable jar contains an extra script at the front of the file, which allows you to just symlink your Spring Boot jar to `init.d` or use a `systemd` script.\r\n\r\n`init.d` example:\r\n\r\n    $ln -s /var/yourapp/yourapp.jar /etc/init.d/yourapp\r\n\r\nThis allows you to start, stop and restart your application like:\r\n\r\n    $/etc/init.d/yourapp start|stop|restart\r\n\r\nOr use a `systemd` script:\r\n\r\n    [Unit]\r\n    Description=yourapp\r\n    After=syslog.target\r\n\r\n    [Service]\r\n    ExecStart=/var/yourapp/yourapp.jar\r\n    User=yourapp\r\n    WorkingDirectory=/var/yourapp\r\n    SuccessExitStatus=143\r\n\r\n    [Install]\r\n    WantedBy=multi-user.target\r\n\r\nMore information at the following links:\r\n\r\n- [Installation as an `init.d` service](https://docs.spring.io/spring-boot/docs/current/reference/html/deployment.html#deployment.installing.init-d)\r\n- [Installation as a `systemd` service](https://docs.spring.io/spring-boot/docs/current/reference/html/deployment.html#deployment.installing.system-d)","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>Please note that since Spring Boot 1.3.0.M1, you are able to build fully executable jars using Maven and Gradle.</p>\n<p>For Maven, just include the following in your <code>pom.xml</code>:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;executable&gt;true&lt;/executable&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>For Gradle add the following snippet to your <code>build.gradle</code>:</p>\n<pre><code>springBoot {\n    executable = true\n}\n</code></pre>\n<p>The fully executable jar contains an extra script at the front of the file, which allows you to just symlink your Spring Boot jar to <code>init.d</code> or use a <code>systemd</code> script.</p>\n<p><code>init.d</code> example:</p>\n<pre><code>$ln -s /var/yourapp/yourapp.jar /etc/init.d/yourapp\n</code></pre>\n<p>This allows you to start, stop and restart your application like:</p>\n<pre><code>$/etc/init.d/yourapp start|stop|restart\n</code></pre>\n<p>Or use a <code>systemd</code> script:</p>\n<pre><code>[Unit]\nDescription=yourapp\nAfter=syslog.target\n\n[Service]\nExecStart=/var/yourapp/yourapp.jar\nUser=yourapp\nWorkingDirectory=/var/yourapp\nSuccessExitStatus=143\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>More information at the following links:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/deployment.html#deployment.installing.init-d\" rel=\"nofollow noreferrer\">Installation as an <code>init.d</code> service</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/deployment.html#deployment.installing.system-d\" rel=\"nofollow noreferrer\">Installation as a <code>systemd</code> service</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3892113,"reputation":1123,"user_id":3222004,"accept_rate":40,"display_name":"unnik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458905645,"creation_date":1458905645,"answer_id":36219164,"question_id":22886083,"body_markdown":"You can use the application called [Supervisor][1].\r\nIn supervisor config you can define multiple services and ways to execute the same.\r\n\r\nFor Java and Spring boot applications the command would be \r\n`java -jar springbootapp.jar`.\r\n\r\nOptions can be provided to keep the application running always.So if the EC2 restart then Supervisor will restart you application\r\n\r\nI found Supervisor easy to use compared to putting startup scripts in /etc/init.d/.The startup scripts would hang or go into waiting state in case of errors .\r\n\r\n\r\n\r\n\r\n  [1]: http://supervisord.org/","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>You can use the application called <a href=\"http://supervisord.org/\" rel=\"nofollow\">Supervisor</a>.\nIn supervisor config you can define multiple services and ways to execute the same.</p>\n\n<p>For Java and Spring boot applications the command would be \n<code>java -jar springbootapp.jar</code>.</p>\n\n<p>Options can be provided to keep the application running always.So if the EC2 restart then Supervisor will restart you application</p>\n\n<p>I found Supervisor easy to use compared to putting startup scripts in /etc/init.d/.The startup scripts would hang or go into waiting state in case of errors .</p>\n"},{"tags":[],"owner":{"account_id":1684224,"reputation":1284,"user_id":1547817,"accept_rate":33,"display_name":"BeeNoisy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478620168,"creation_date":1478620168,"answer_id":40491096,"question_id":22886083,"body_markdown":"This is a simple, you can use spring boot maven plugin to finish your code deploy.\r\n\r\nthe plugin config like:\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=${debug.port}\r\n                        &lt;/jvmArguments&gt;\r\n                        &lt;profiles&gt;\r\n                            &lt;profile&gt;test&lt;/profile&gt;\r\n                        &lt;/profiles&gt;\r\n                        &lt;executable&gt;true&lt;/executable&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\nAnd, the `jvmArtuments` is add for you jvm. `profiles` will choose a profile to start your app. `executable` can make your app driectly run.\r\n\r\nand if you add `mvnw` to your project, or you have a maven enveriment. You can just call`./mvnw spring-boot:run` for mvnw or `mvn spring-boot:run` for maven.\r\n","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>This is a simple, you can use spring boot maven plugin to finish your code deploy.</p>\n\n<p>the plugin config like:</p>\n\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=${debug.port}\n                    &lt;/jvmArguments&gt;\n                    &lt;profiles&gt;\n                        &lt;profile&gt;test&lt;/profile&gt;\n                    &lt;/profiles&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p>And, the <code>jvmArtuments</code> is add for you jvm. <code>profiles</code> will choose a profile to start your app. <code>executable</code> can make your app driectly run.</p>\n\n<p>and if you add <code>mvnw</code> to your project, or you have a maven enveriment. You can just call<code>./mvnw spring-boot:run</code> for mvnw or <code>mvn spring-boot:run</code> for maven.</p>\n"},{"tags":[],"owner":{"account_id":5930613,"reputation":155,"user_id":4665194,"display_name":"isijara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482544017,"creation_date":1482544017,"answer_id":41309626,"question_id":22886083,"body_markdown":"If you are using gradle you can just add this to your build.gradle\r\n\r\n\r\n    springBoot {\r\n        executable = true\r\n    }\r\n\r\nYou can then run your application by typing ./your-app.jar\r\n\r\n\r\nAlso, you can find a complete guide here to set up your app as a service\r\n\r\n**56.1.1 Installation as an init.d service (System V)**\r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html\r\n\r\ncheers","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>If you are using gradle you can just add this to your build.gradle</p>\n\n<pre><code>springBoot {\n    executable = true\n}\n</code></pre>\n\n<p>You can then run your application by typing ./your-app.jar</p>\n\n<p>Also, you can find a complete guide here to set up your app as a service</p>\n\n<p><strong>56.1.1 Installation as an init.d service (System V)</strong></p>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html</a></p>\n\n<p>cheers</p>\n"},{"tags":[],"owner":{"account_id":94872,"reputation":17207,"user_id":258772,"display_name":"mrts"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1640720994,"creation_date":1495812910,"answer_id":44205322,"question_id":22886083,"body_markdown":"By far the most easiest and reliable way to run Spring Boot applications in production is with Docker. Use Docker Compose, Docker Swarm or Kubernetes if you need to use multiple connected services.\r\n\r\nHere&#39;s a simple `Dockerfile` from the official [Spring Boot Docker guide](https://spring.io/guides/gs/spring-boot-docker/) to get you started:\r\n\r\n```lang-sh\r\nFROM openjdk:8-jdk-alpine\r\nRUN addgroup -S spring &amp;&amp; adduser -S spring -G spring\r\nUSER spring:spring\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\nAn even better approach for building Docker images is to use [Jib](https://github.com/GoogleContainerTools/jib), an open-source Java tool maintained by Google for building Docker images of Java applications. Jib does not need a `Dockerfile`, you just invoke it with Maven (official quickstart [here](https://github.com/GoogleContainerTools/jib/tree/master/jib-maven-plugin#quickstart)) or Gradle (official quickstart [here](https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin#quickstart)).\r\n\r\nHere&#39;s a sample command line to run the container as a daemon:\r\n\r\n    docker run \\\r\n      -d --restart=always \\\r\n      -e &quot;SPRING_PROFILES_ACTIVE=prod&quot; \\\r\n      -p 8080:8080 \\\r\n      prefix/imagename","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>By far the most easiest and reliable way to run Spring Boot applications in production is with Docker. Use Docker Compose, Docker Swarm or Kubernetes if you need to use multiple connected services.</p>\n<p>Here's a simple <code>Dockerfile</code> from the official <a href=\"https://spring.io/guides/gs/spring-boot-docker/\" rel=\"nofollow noreferrer\">Spring Boot Docker guide</a> to get you started:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>FROM openjdk:8-jdk-alpine\nRUN addgroup -S spring &amp;&amp; adduser -S spring -G spring\nUSER spring:spring\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>An even better approach for building Docker images is to use <a href=\"https://github.com/GoogleContainerTools/jib\" rel=\"nofollow noreferrer\">Jib</a>, an open-source Java tool maintained by Google for building Docker images of Java applications. Jib does not need a <code>Dockerfile</code>, you just invoke it with Maven (official quickstart <a href=\"https://github.com/GoogleContainerTools/jib/tree/master/jib-maven-plugin#quickstart\" rel=\"nofollow noreferrer\">here</a>) or Gradle (official quickstart <a href=\"https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin#quickstart\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>Here's a sample command line to run the container as a daemon:</p>\n<pre><code>docker run \\\n  -d --restart=always \\\n  -e &quot;SPRING_PROFILES_ACTIVE=prod&quot; \\\n  -p 8080:8080 \\\n  prefix/imagename\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505730488,"creation_date":1505730488,"answer_id":46277047,"question_id":22886083,"body_markdown":"On Windows OS without Service. \r\n\r\n**start.bat**\r\n\r\n    @ECHO OFF\r\n    call run.bat start\r\n\r\n**stop.bat:**\r\n\r\n    @ECHO OFF\r\n    call run.bat stop\r\n\r\n**run.bat**\r\n\r\n    @ECHO OFF\r\n    IF &quot;%1&quot;==&quot;start&quot; (\r\n        ECHO start myapp\r\n    \tstart &quot;myapp&quot; java -jar -Dspring.profiles.active=staging myapp.jar\r\n    ) ELSE IF &quot;%1&quot;==&quot;stop&quot; (\r\n        ECHO stop myapp\r\n    \tTASKKILL /FI &quot;WINDOWTITLE eq myapp&quot;\r\n    ) ELSE (\r\n        ECHO please, use &quot;run.bat start&quot; or &quot;run.bat stop&quot;\r\n    )\r\n    pause","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>On Windows OS without Service. </p>\n\n<p><strong>start.bat</strong></p>\n\n<pre><code>@ECHO OFF\ncall run.bat start\n</code></pre>\n\n<p><strong>stop.bat:</strong></p>\n\n<pre><code>@ECHO OFF\ncall run.bat stop\n</code></pre>\n\n<p><strong>run.bat</strong></p>\n\n<pre><code>@ECHO OFF\nIF \"%1\"==\"start\" (\n    ECHO start myapp\n    start \"myapp\" java -jar -Dspring.profiles.active=staging myapp.jar\n) ELSE IF \"%1\"==\"stop\" (\n    ECHO stop myapp\n    TASKKILL /FI \"WINDOWTITLE eq myapp\"\n) ELSE (\n    ECHO please, use \"run.bat start\" or \"run.bat stop\"\n)\npause\n</code></pre>\n"}],"owner":{"account_id":50800,"reputation":1946,"user_id":151608,"accept_rate":71,"display_name":"Cleber Goncalves"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172141,"favorite_count":0,"down_vote_count":0,"up_vote_count":122,"answer_count":9,"score":122,"last_activity_date":1700840455,"creation_date":1396727987,"question_id":22886083,"body_markdown":"Spring boot&#39;s preferred deployment method is via a executable jar file which contains tomcat inside.\r\n\r\nIt is started with a simple `java -jar myapp.jar`.\r\n\r\nNow, I want to deploy that jar to my linux server on EC2, am I missing something or do I really need to create a init script to properly start the application as a daemon?\r\n\r\nIf I simply call `java -jar` the application dies when I log out.\r\n\r\nI could start it in screen or nohup but that is not very elegant and a restart in my server would force me to log in and start the process manually.\r\n\r\nSo, is there something already for the task in spring boot?\r\n","title":"How do I run a spring boot executable jar in a Production environment?","body":"<p>Spring boot's preferred deployment method is via a executable jar file which contains tomcat inside.</p>\n\n<p>It is started with a simple <code>java -jar myapp.jar</code>.</p>\n\n<p>Now, I want to deploy that jar to my linux server on EC2, am I missing something or do I really need to create a init script to properly start the application as a daemon?</p>\n\n<p>If I simply call <code>java -jar</code> the application dies when I log out.</p>\n\n<p>I could start it in screen or nohup but that is not very elegant and a restart in my server would force me to log in and start the process manually.</p>\n\n<p>So, is there something already for the task in spring boot?</p>\n"},{"tags":["java","spring","postgresql","docker","flyway"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1700840143,"post_id":77544235,"comment_id":136705867,"body_markdown":"Directly from the error message: &quot;Unable to obtain connection from database: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections&quot;","body":"Directly from the error message: &quot;Unable to obtain connection from database: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections&quot;"},{"owner":{"account_id":13863020,"reputation":136993,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1700877522,"post_id":77544235,"comment_id":136709651,"body_markdown":"...do you need to separately set a `SPRING_FLYWAY_URL` environment variable?","body":"...do you need to separately set a <code>SPRING_FLYWAY_URL</code> environment variable?"}],"owner":{"account_id":23484632,"reputation":1,"user_id":22600778,"display_name":"rakhovetski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700840160,"creation_date":1700839889,"question_id":77544235,"body_markdown":"When I try to run my application through the docker-compose.yml file it throws an exception\r\n```\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections\r\nspring_1  | SQL State  : 08001\r\nspring_1  | Error Code : 0\r\nspring_1  | Message    : Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\nCaused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\nspring_1  | SQL State  : 08001\r\nspring_1  | Error Code : 0\r\nspring_1  | Message    : Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n\r\n```\r\n\r\nDockerfile:\r\n\r\n```\r\n\r\nFROM openjdk:21-jdk\r\nEXPOSE 8080\r\nARG JAR_FILE=build/libs/*.jar\r\nCOPY ${JAR_FILE} app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\n```\r\n\r\ndocker-compose.yml file\r\n\r\n```\r\nservices:\r\n  spring:\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    environment:\r\n      - SPRING_R2DBC_URL=r2dbc:pool:postgres://db:5432/notifications\r\n      - SPRING_R2DBC_USER=postgres\r\n      - SPRING_R2DBC_PASSWORD=pass\r\n      - SPRING_DB_URL=jdbc:jdbc:postgresql://db:5432/notifications\r\n      - SPRING_DB_USER=postgres\r\n      - SPRING_DB_PASSWORD=pass\r\n    depends_on:\r\n      - db\r\n  db:\r\n    image: postgres:14.1-alpine\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n    environment:\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: pass\r\n      POSTGRES_DB: notifications\r\n```\r\n\r\n\r\napplication.yml file\r\n\r\n```yml\r\nspring:\r\n  r2dbc:\r\n    url: r2dbc:pool:postgres://localhost:5432/notifications\r\n    username: postgres\r\n    password: pass\r\n  flyway:\r\n    url: jdbc:postgresql://localhost:5432/notifications\r\n    locations: classpath:db/migrations\r\n    user: postgres\r\n    password: pass\r\n```\r\n\r\nbuild gradle dependencies\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-r2dbc&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    implementation &#39;org.springframework.session:spring-session-core&#39;\r\n    implementation &#39;org.springframework.kafka:spring-kafka&#39;\r\n    implementation &#39;javax.validation:validation-api:2.0.1.Final&#39;\r\n    implementation &#39;io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE&#39;\r\n    implementation &#39;org.postgresql:postgresql:42.6.0&#39;\r\n    implementation &#39;org.flywaydb:flyway-core:9.22.3&#39;\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.30&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.30&#39;\r\n    implementation &#39;org.mapstruct:mapstruct:1.4.2.Final&#39;\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.4.2.Final&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.10.1&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n    testImplementation &#39;org.testcontainers:junit-jupiter:1.19.3&#39;\r\n    testImplementation &#39;org.testcontainers:postgresql:1.19.3&#39;\r\n}\r\n```\r\n\r\n\r\nI tried to change the values ​​in url, username, password, but it didn&#39;t help","title":"Flyway cannot connect to Postgres in Spring boot application","body":"<p>When I try to run my application through the docker-compose.yml file it throws an exception</p>\n<pre><code>\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections\nspring_1  | SQL State  : 08001\nspring_1  | Error Code : 0\nspring_1  | Message    : Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\nCaused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\nspring_1  | SQL State  : 08001\nspring_1  | Error Code : 0\nspring_1  | Message    : Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\n\n</code></pre>\n<p>Dockerfile:</p>\n<pre><code>\nFROM openjdk:21-jdk\nEXPOSE 8080\nARG JAR_FILE=build/libs/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n\n</code></pre>\n<p>docker-compose.yml file</p>\n<pre><code>services:\n  spring:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8080:8080&quot;\n    environment:\n      - SPRING_R2DBC_URL=r2dbc:pool:postgres://db:5432/notifications\n      - SPRING_R2DBC_USER=postgres\n      - SPRING_R2DBC_PASSWORD=pass\n      - SPRING_DB_URL=jdbc:jdbc:postgresql://db:5432/notifications\n      - SPRING_DB_USER=postgres\n      - SPRING_DB_PASSWORD=pass\n    depends_on:\n      - db\n  db:\n    image: postgres:14.1-alpine\n    ports:\n      - &quot;5432:5432&quot;\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: pass\n      POSTGRES_DB: notifications\n</code></pre>\n<p>application.yml file</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  r2dbc:\n    url: r2dbc:pool:postgres://localhost:5432/notifications\n    username: postgres\n    password: pass\n  flyway:\n    url: jdbc:postgresql://localhost:5432/notifications\n    locations: classpath:db/migrations\n    user: postgres\n    password: pass\n</code></pre>\n<p>build gradle dependencies</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-r2dbc'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.springframework.session:spring-session-core'\n    implementation 'org.springframework.kafka:spring-kafka'\n    implementation 'javax.validation:validation-api:2.0.1.Final'\n    implementation 'io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE'\n    implementation 'org.postgresql:postgresql:42.6.0'\n    implementation 'org.flywaydb:flyway-core:9.22.3'\n    compileOnly 'org.projectlombok:lombok:1.18.30'\n    annotationProcessor 'org.projectlombok:lombok:1.18.30'\n    implementation 'org.mapstruct:mapstruct:1.4.2.Final'\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.4.2.Final'\n    implementation 'com.google.code.gson:gson:2.10.1'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n    testImplementation 'org.testcontainers:junit-jupiter:1.19.3'\n    testImplementation 'org.testcontainers:postgresql:1.19.3'\n}\n</code></pre>\n<p>I tried to change the values ​​in url, username, password, but it didn't help</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672636165,"post_id":74978472,"comment_id":132316238,"body_markdown":"My advice is not to share source files between projects like this -- learn to use maven and install your common code as a library in your local maven repository.","body":"My advice is not to share source files between projects like this -- learn to use maven and install your common code as a library in your local maven repository."},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1672642077,"post_id":74978472,"comment_id":132316934,"body_markdown":"Thanks, I am using Maven and did think about that option. What stopped me was the thought that each time I changed something in the SharedJava (which would be often, at this stage of development), I would need to rebuild a jar. Maybe that is not such a big deal? Or maybe that is not even true? So, thanks, I am very open to learning &quot;best practice&quot; at this early stage of my Java journey. :-)","body":"Thanks, I am using Maven and did think about that option. What stopped me was the thought that each time I changed something in the SharedJava (which would be often, at this stage of development), I would need to rebuild a jar. Maybe that is not such a big deal? Or maybe that is not even true? So, thanks, I am very open to learning &quot;best practice&quot; at this early stage of my Java journey. :-)"},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1672642210,"post_id":74978472,"comment_id":132316957,"body_markdown":"Also, I did watch one tutorial on that and just setting it all up was a huge amount of work. Maybe that was a bad tutorial.","body":"Also, I did watch one tutorial on that and just setting it all up was a huge amount of work. Maybe that was a bad tutorial."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672642324,"post_id":74978472,"comment_id":132316978,"body_markdown":"You would need to rebuild the jar -- `mvn install` puts the jar in your local repository. You&#39;d use a SNAPSHOT version of the jar while you&#39;re developing. Perhaps the tutorial you watched included setting up a maven repository you can deploy to -- you don&#39;t need to do that for local development (I assume you are pushing your source code to github/bitbucket or similar?)","body":"You would need to rebuild the jar -- <code>mvn install</code> puts the jar in your local repository. You&#39;d use a SNAPSHOT version of the jar while you&#39;re developing. Perhaps the tutorial you watched included setting up a maven repository you can deploy to -- you don&#39;t need to do that for local development (I assume you are pushing your source code to github/bitbucket or similar?)"},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1672643020,"post_id":74978472,"comment_id":132317101,"body_markdown":"@tgdavies: yes, the tutorial implied a remote maven repo was the only option, but that was probably my misunderstanding. Yes, using GitHub for my code. Thanks for your pointers.","body":"@tgdavies: yes, the tutorial implied a remote maven repo was the only option, but that was probably my misunderstanding. Yes, using GitHub for my code. Thanks for your pointers."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1672709557,"post_id":74978472,"comment_id":132332371,"body_markdown":"Hi Murrah, If you find the solution, Please consider answering it and accepting it as an answer to change its status to Answered. It will also help others to solve a similar issue. See [can I answer my own question..](https://stackoverflow.com/help/self-answer), Just a reminder :)","body":"Hi Murrah, If you find the solution, Please consider answering it and accepting it as an answer to change its status to Answered. It will also help others to solve a similar issue. See <a href=\"https://stackoverflow.com/help/self-answer\">can I answer my own question..</a>, Just a reminder :)"},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1672715860,"post_id":74978472,"comment_id":132333110,"body_markdown":"@JialeDu Thanks, yes, I will. I am currently learning more about Maven as suggested by @ tgdavies before I post a solution that as yet is not clear! ;-)","body":"@JialeDu Thanks, yes, I will. I am currently learning more about Maven as suggested by @ tgdavies before I post a solution that as yet is not clear! ;-)"}],"answers":[{"tags":[],"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672858407,"creation_date":1672815465,"answer_id":75001896,"question_id":74978472,"body_markdown":"Ok. Got it working.\r\n\r\nFirstly: The best explanation I found for understanding Maven (that included a good example of multi-module projects) is here:\r\n[https://books.sonatype.com/mvnex-book/reference/index.html][1]\r\n\r\nIt is quite old, and the sample code wont work because it references APIs that no longer exist. However, the explanations are really clear and the sample code files still exist as a reference.\r\n\r\nMaybe if you know of more up-to-date references that are as good, you can put a comment below.\r\n\r\nFor other Java newbies I offer the following...\r\n\r\nThe final result was done partly using VSCode functionality and partly hand customised. If I understood the VSCode java extensions better maybe I could have done it all using the extensions.\r\n\r\nThe short version is as below and the resulting files and folders etc are shown further down.\r\n1. Create a new Java Project for the `parent`. Use the Maven quick-start archetype. For this sample I just used all the defaults, apart from my groupId, etc.\r\n2. Keep the `pom.xml` file and delete the rest.\r\n3. Add `&lt;packaging&gt;pom&lt;/packaging&gt;` to the `pom.xml` file as per example below.\r\n4. Inside the `parent` project, create the `shared` project, using the same groupId as the parent. When asked, add the project to the workspace. Delete the `App.java` file if you wish.\r\n5. In the `shared` pom.xml I removed the `&lt;groupId&gt;` section. Note that Maven includes the `&lt;parent&gt;` block.\r\n6. Inside the `parent` project, create the `mainapp` project, using the same groupId as the parent. When asked, add the project to the workspace.\r\n7. In the `mainapp` pom.xml I removed the `&lt;groupId&gt;` section. Note that Maven includes the `&lt;parent&gt;` block.\r\n8. In the `mainapp` pom.xml, add a `&lt;dependency&gt;` block for the `shared` project, as per example below.\r\n\r\n9. If you go back to the `parent` project&#39;s `pom.xml`, and scroll to the end, you should see that VSCode has added a block like this:\r\n```\r\n&lt;modules&gt;\r\n  &lt;module&gt;shared&lt;/module&gt;\r\n  &lt;module&gt;mainapp&lt;/module&gt;\r\n&lt;/modules&gt;\r\n```\r\nwhich you can move to the top to make it more visible.\r\n\r\n10. Add your test class (eg PrintMessage.java) to your `shared` project in its own folder (eg messaging).\r\n11. Update your `mainapp` `App.java` file to include your shared class as per the example.\r\n12. From the parent project root run `mvn clean install`. This adds the jars to the local Maven repo (the location of the local repo is as printed in the terminal output).\r\n\r\nAt this point I find I needed to close and reopen the VSCode window so that the Java Projects section sorts itself out and the 3 projects appear there. If I didn&#39;t do that I got &quot;classpath&quot; errors.\r\n\r\nThen, I could test by opening the `App.java` file and using VSCode to `Run java`. The terminal shows:\r\n```\r\nHello World!\r\nPrintMessage.echoMessage() echoed: I was called from Main app\r\n```\r\n\r\nI notice if I edit the `PrintMessage.java` file (eg change the output message) I can run the `App.java` file without recompiling and the change shows up. Cool.\r\n\r\n==== Code samples ====\r\n\r\n(I deleted the `src/test` and `target` folders for clarity)\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe `parent` pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;name&gt;The Parent project for my test multi modules&lt;/name&gt;\r\n\r\n  &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\r\n  &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n  &lt;modules&gt;\r\n    &lt;module&gt;shared&lt;/module&gt;\r\n    &lt;module&gt;mainapp&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n\r\n  &lt;dependencies&gt;\r\n\r\n    &lt;!-- The rest of this file is as normal ... --&gt;\r\n```\r\nThe `shared` pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;!-- Refer to the parent pom.xml --&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;!--\r\n    Since we have a parent we leave this out\r\n    because it is pulled from the parent pom.xml\r\n\r\n    &lt;groupId&gt;com.flowt.shared&lt;/groupId&gt;\r\n  --&gt;\r\n  &lt;artifactId&gt;shared&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;!-- The rest of this file is as normal ... --&gt;\r\n```\r\nThe `mainapp` pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;!-- Refer to the parent pom.xml --&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;artifactId&gt;mainapp&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;\r\n      1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- Here you must include the shared project as a dependency --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\r\n      &lt;artifactId&gt;shared&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;!-- The rest of this file is as normal ... --&gt;\r\n```\r\n`PrintMessage.java`\r\n```java\r\npackage com.flowt.messaging;\r\n\r\npublic class PrintMessage {\r\n  public String echoMessage(String msg) {\r\n    return &quot;PrintMessage.echoMessage() echoed: &quot; + msg;\r\n  }\r\n}\r\n```\r\n`App.java`\r\n```java\r\n\r\npackage com.flowt.app;\r\n\r\n// This class is in the shared project: shared/src/main/java/com/flowt/messaging/PrintMessage.java\r\nimport com.flowt.messaging.PrintMessage;\r\n\r\n/**\r\n * Hello world!\r\n */\r\npublic class App {\r\n    public static void main( String[] args ) {\r\n        System.out.println( &quot;Hello World!&quot; );\r\n\r\n        // The shared class\r\n        PrintMessage printMessage= new PrintMessage();\r\n        String echo = printMessage.echoMessage(&quot;I was called from Main app&quot;);\r\n        System.out.println(echo);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI hope that helps and any expert advice on structuring an app is most welcome.\r\n\r\nGo well,\r\nMurray\r\n\r\n\r\n  [1]: https://books.sonatype.com/mvnex-book/reference/index.html\r\n  [2]: https://i.stack.imgur.com/esjzZ.png","title":"How to share .java files between projects","body":"<p>Ok. Got it working.</p>\n<p>Firstly: The best explanation I found for understanding Maven (that included a good example of multi-module projects) is here:\n<a href=\"https://books.sonatype.com/mvnex-book/reference/index.html\" rel=\"nofollow noreferrer\">https://books.sonatype.com/mvnex-book/reference/index.html</a></p>\n<p>It is quite old, and the sample code wont work because it references APIs that no longer exist. However, the explanations are really clear and the sample code files still exist as a reference.</p>\n<p>Maybe if you know of more up-to-date references that are as good, you can put a comment below.</p>\n<p>For other Java newbies I offer the following...</p>\n<p>The final result was done partly using VSCode functionality and partly hand customised. If I understood the VSCode java extensions better maybe I could have done it all using the extensions.</p>\n<p>The short version is as below and the resulting files and folders etc are shown further down.</p>\n<ol>\n<li><p>Create a new Java Project for the <code>parent</code>. Use the Maven quick-start archetype. For this sample I just used all the defaults, apart from my groupId, etc.</p>\n</li>\n<li><p>Keep the <code>pom.xml</code> file and delete the rest.</p>\n</li>\n<li><p>Add <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code> to the <code>pom.xml</code> file as per example below.</p>\n</li>\n<li><p>Inside the <code>parent</code> project, create the <code>shared</code> project, using the same groupId as the parent. When asked, add the project to the workspace. Delete the <code>App.java</code> file if you wish.</p>\n</li>\n<li><p>In the <code>shared</code> pom.xml I removed the <code>&lt;groupId&gt;</code> section. Note that Maven includes the <code>&lt;parent&gt;</code> block.</p>\n</li>\n<li><p>Inside the <code>parent</code> project, create the <code>mainapp</code> project, using the same groupId as the parent. When asked, add the project to the workspace.</p>\n</li>\n<li><p>In the <code>mainapp</code> pom.xml I removed the <code>&lt;groupId&gt;</code> section. Note that Maven includes the <code>&lt;parent&gt;</code> block.</p>\n</li>\n<li><p>In the <code>mainapp</code> pom.xml, add a <code>&lt;dependency&gt;</code> block for the <code>shared</code> project, as per example below.</p>\n</li>\n<li><p>If you go back to the <code>parent</code> project's <code>pom.xml</code>, and scroll to the end, you should see that VSCode has added a block like this:</p>\n</li>\n</ol>\n<pre><code>&lt;modules&gt;\n  &lt;module&gt;shared&lt;/module&gt;\n  &lt;module&gt;mainapp&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n<p>which you can move to the top to make it more visible.</p>\n<ol start=\"10\">\n<li>Add your test class (eg PrintMessage.java) to your <code>shared</code> project in its own folder (eg messaging).</li>\n<li>Update your <code>mainapp</code> <code>App.java</code> file to include your shared class as per the example.</li>\n<li>From the parent project root run <code>mvn clean install</code>. This adds the jars to the local Maven repo (the location of the local repo is as printed in the terminal output).</li>\n</ol>\n<p>At this point I find I needed to close and reopen the VSCode window so that the Java Projects section sorts itself out and the 3 projects appear there. If I didn't do that I got &quot;classpath&quot; errors.</p>\n<p>Then, I could test by opening the <code>App.java</code> file and using VSCode to <code>Run java</code>. The terminal shows:</p>\n<pre><code>Hello World!\nPrintMessage.echoMessage() echoed: I was called from Main app\n</code></pre>\n<p>I notice if I edit the <code>PrintMessage.java</code> file (eg change the output message) I can run the <code>App.java</code> file without recompiling and the change shows up. Cool.</p>\n<p>==== Code samples ====</p>\n<p>(I deleted the <code>src/test</code> and <code>target</code> folders for clarity)</p>\n<p><a href=\"https://i.stack.imgur.com/esjzZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/esjzZ.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>parent</code> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;name&gt;The Parent project for my test multi modules&lt;/name&gt;\n\n  &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\n  &lt;artifactId&gt;parent&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n\n  &lt;modules&gt;\n    &lt;module&gt;shared&lt;/module&gt;\n    &lt;module&gt;mainapp&lt;/module&gt;\n  &lt;/modules&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;!-- The rest of this file is as normal ... --&gt;\n</code></pre>\n<p>The <code>shared</code> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;!-- Refer to the parent pom.xml --&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;!--\n    Since we have a parent we leave this out\n    because it is pulled from the parent pom.xml\n\n    &lt;groupId&gt;com.flowt.shared&lt;/groupId&gt;\n  --&gt;\n  &lt;artifactId&gt;shared&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;!-- The rest of this file is as normal ... --&gt;\n</code></pre>\n<p>The <code>mainapp</code> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;!-- Refer to the parent pom.xml --&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;artifactId&gt;mainapp&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;\n      1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Here you must include the shared project as a dependency --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.flowt.multitest&lt;/groupId&gt;\n      &lt;artifactId&gt;shared&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;!-- The rest of this file is as normal ... --&gt;\n</code></pre>\n<p><code>PrintMessage.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.flowt.messaging;\n\npublic class PrintMessage {\n  public String echoMessage(String msg) {\n    return &quot;PrintMessage.echoMessage() echoed: &quot; + msg;\n  }\n}\n</code></pre>\n<p><code>App.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.flowt.app;\n\n// This class is in the shared project: shared/src/main/java/com/flowt/messaging/PrintMessage.java\nimport com.flowt.messaging.PrintMessage;\n\n/**\n * Hello world!\n */\npublic class App {\n    public static void main( String[] args ) {\n        System.out.println( &quot;Hello World!&quot; );\n\n        // The shared class\n        PrintMessage printMessage= new PrintMessage();\n        String echo = printMessage.echoMessage(&quot;I was called from Main app&quot;);\n        System.out.println(echo);\n    }\n}\n</code></pre>\n<p>I hope that helps and any expert advice on structuring an app is most welcome.</p>\n<p>Go well,\nMurray</p>\n"}],"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75001896,"answer_count":1,"score":0,"last_activity_date":1700839641,"creation_date":1672624083,"question_id":74978472,"body_markdown":"I am fairly new to Java, so I might be missing the obvious here.\r\n\r\nI want to pull `.java` files (not JARs) from a folder that is &quot;external&quot; to the project. I am developing the MainProject and the shared java files concurrently. Later I will want to use the shared files in another project (most likely also as `.java` files since that other project will be related to the first - i.e. more concurrent development).\r\n\r\nI can&#39;t work out how to use a `.java` file from the SharedJava folder in the MainProject. I have tried what is suggested on Stack Overflow etc. to no avail.\r\n\r\nI have set up a new project with folders like so:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have created VSCode Java Projects in both folders, although for the `SharedJava` I didn&#39;t include any build tools. Maybe that is an issue? \r\n\r\nBoth projects appear in the JAVA PROJECTS section in VSCode.\r\n\r\nExpanded, it looks like below, and as an initial test the highlighted java file is the one I would like to import into the MainProject.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe SharedClass.java file:\r\n```java\r\npackage messaging;\r\n\r\npublic class SharedClass {\r\n  public void echoMessage(String msg) {\r\n    System.out.println(&quot;SharedClass.echoMessage() said: &quot; + msg);\r\n  }\r\n}\r\n```\r\nWhat I am trying to do for my test is in this MainProject App.java file:\r\n\r\n```java\r\npackage com.flowt;\r\n\r\npublic class App {\r\n    public static void main( String[] args ) {\r\n        System.out.println( &quot;Hello World!&quot; );\r\n\r\n        // How to import SharedClass ?\r\n        SharedClass sharedClass = new SharedClass();\r\n        sharedClass.echoMessage(&quot;Hello XYZ&quot;);\r\n    }\r\n}\r\n```\r\nMy `MainProject.code-workspace` file is this:\r\n```json\r\n{\r\n\t&quot;folders&quot;: [\r\n\t\t{\r\n\t\t\t&quot;path&quot;: &quot;.&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;path&quot;: &quot;../SharedJava/flowtshared&quot;\r\n\t\t}\r\n\t],\r\n\t&quot;settings&quot;: {\r\n\t\t&quot;java.project.sourcePaths&quot;: [\r\n\t\t\t&quot;src&quot;,\r\n\t\t\t&quot;../SharedJava/flowtshared/src&quot;\r\n\t\t]\r\n\t}\r\n}\r\n```\r\n\r\nSo, what do I need to do to be able to import `SharedClass.java` into MainProject? (without creating a symlink!)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4gf5f.png\r\n  [2]: https://i.stack.imgur.com/D9elU.png","title":"How to share .java files between projects","body":"<p>I am fairly new to Java, so I might be missing the obvious here.</p>\n<p>I want to pull <code>.java</code> files (not JARs) from a folder that is &quot;external&quot; to the project. I am developing the MainProject and the shared java files concurrently. Later I will want to use the shared files in another project (most likely also as <code>.java</code> files since that other project will be related to the first - i.e. more concurrent development).</p>\n<p>I can't work out how to use a <code>.java</code> file from the SharedJava folder in the MainProject. I have tried what is suggested on Stack Overflow etc. to no avail.</p>\n<p>I have set up a new project with folders like so:</p>\n<p><a href=\"https://i.stack.imgur.com/4gf5f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4gf5f.png\" alt=\"enter image description here\" /></a></p>\n<p>I have created VSCode Java Projects in both folders, although for the <code>SharedJava</code> I didn't include any build tools. Maybe that is an issue?</p>\n<p>Both projects appear in the JAVA PROJECTS section in VSCode.</p>\n<p>Expanded, it looks like below, and as an initial test the highlighted java file is the one I would like to import into the MainProject.</p>\n<p><a href=\"https://i.stack.imgur.com/D9elU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D9elU.png\" alt=\"enter image description here\" /></a></p>\n<p>The SharedClass.java file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package messaging;\n\npublic class SharedClass {\n  public void echoMessage(String msg) {\n    System.out.println(&quot;SharedClass.echoMessage() said: &quot; + msg);\n  }\n}\n</code></pre>\n<p>What I am trying to do for my test is in this MainProject App.java file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.flowt;\n\npublic class App {\n    public static void main( String[] args ) {\n        System.out.println( &quot;Hello World!&quot; );\n\n        // How to import SharedClass ?\n        SharedClass sharedClass = new SharedClass();\n        sharedClass.echoMessage(&quot;Hello XYZ&quot;);\n    }\n}\n</code></pre>\n<p>My <code>MainProject.code-workspace</code> file is this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;folders&quot;: [\n        {\n            &quot;path&quot;: &quot;.&quot;\n        },\n        {\n            &quot;path&quot;: &quot;../SharedJava/flowtshared&quot;\n        }\n    ],\n    &quot;settings&quot;: {\n        &quot;java.project.sourcePaths&quot;: [\n            &quot;src&quot;,\n            &quot;../SharedJava/flowtshared/src&quot;\n        ]\n    }\n}\n</code></pre>\n<p>So, what do I need to do to be able to import <code>SharedClass.java</code> into MainProject? (without creating a symlink!)</p>\n"},{"tags":["java","oracle","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1699042036,"post_id":77419336,"comment_id":136486263,"body_markdown":"Did you also try putting a semicolon between the host and the database in stead of a slash like the other Q&amp;A has? So `:abcd`  in stead of `/abcd`? That&#39;s also what the answerer changed in [this Q&amp;A](https://stackoverflow.com/a/51476212/1915448).","body":"Did you also try putting a semicolon between the host and the database in stead of a slash like the other Q&amp;A has? So <code>:abcd</code>  in stead of <code>&#47;abcd</code>? That&#39;s also what the answerer changed in <a href=\"https://stackoverflow.com/a/51476212/1915448\">this Q&amp;A</a>."},{"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1699042413,"post_id":77419336,"comment_id":136486311,"body_markdown":"(I meant a colon in stead of a semicolon in my previous comment, woops, can&#39;t edit it now).","body":"(I meant a colon in stead of a semicolon in my previous comment, woops, can&#39;t edit it now)."},{"owner":{"account_id":9041643,"reputation":273,"user_id":6735683,"display_name":"Timbuck"},"score":0,"creation_date":1699277161,"post_id":77419336,"comment_id":136507360,"body_markdown":"Unfortunately the other question did not answer my issue, as noted where I linked to that post in my question.","body":"Unfortunately the other question did not answer my issue, as noted where I linked to that post in my question."},{"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1699280348,"post_id":77419336,"comment_id":136508118,"body_markdown":"Please note that I refered to a different question than the one you linked. The answer you linked only tells you to include a colon after the &quot;thin&quot;. Also, in your properties file you mentioned you tried `jdbc:oracle:thin:` and `jdbc:oracle:thin://`. But in both cases you use `/abcd` and not `:abcd`. Even the error message only includes `/abcd` and not `:abcd`. I suggest you edit your question and list all attempts you made.","body":"Please note that I refered to a different question than the one you linked. The answer you linked only tells you to include a colon after the &quot;thin&quot;. Also, in your properties file you mentioned you tried <code>jdbc:oracle:thin:</code> and <code>jdbc:oracle:thin:&#47;&#47;</code>. But in both cases you use <code>&#47;abcd</code> and not <code>:abcd</code>. Even the error message only includes <code>&#47;abcd</code> and not <code>:abcd</code>. I suggest you edit your question and list all attempts you made."},{"owner":{"account_id":9041643,"reputation":273,"user_id":6735683,"display_name":"Timbuck"},"score":0,"creation_date":1699290534,"post_id":77419336,"comment_id":136510315,"body_markdown":"Thank you for the clarification - I looked at this so much that the posts started to look the same! I&#39;ve updated the question to show the permutations I have attempted.","body":"Thank you for the clarification - I looked at this so much that the posts started to look the same! I&#39;ve updated the question to show the permutations I have attempted."},{"owner":{"account_id":9041643,"reputation":273,"user_id":6735683,"display_name":"Timbuck"},"score":1,"creation_date":1700056022,"post_id":77419336,"comment_id":136607710,"body_markdown":"I was able to get around this error by using the Docker run configuration instead of the Spring Boot run configuration. While this does not explain why the problem persists in the Spring Boot run configuration, I am hoping this comment will at least help somebody in the future if they run into the same problem.","body":"I was able to get around this error by using the Docker run configuration instead of the Spring Boot run configuration. While this does not explain why the problem persists in the Spring Boot run configuration, I am hoping this comment will at least help somebody in the future if they run into the same problem."}],"answers":[{"tags":[],"owner":{"account_id":9041643,"reputation":273,"user_id":6735683,"display_name":"Timbuck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700839244,"creation_date":1700839244,"answer_id":77544165,"question_id":77419336,"body_markdown":"I found the root cause of this error was an incorrect/missing password  value for the `Djavax.net.ssl.trustStorePassword` within the `ENTRYPOINT` of the Dockerfile. Once I corrected this and rebuilt the image, subsequent runs did not experience this behavior.","title":"Spring Boot application OracleDriver claims to not accept jdbcUrl","body":"<p>I found the root cause of this error was an incorrect/missing password  value for the <code>Djavax.net.ssl.trustStorePassword</code> within the <code>ENTRYPOINT</code> of the Dockerfile. Once I corrected this and rebuilt the image, subsequent runs did not experience this behavior.</p>\n"}],"owner":{"account_id":9041643,"reputation":273,"user_id":6735683,"display_name":"Timbuck"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700839244,"creation_date":1699040870,"question_id":77419336,"body_markdown":"When launching a Spring Boot application in IntelliJ using the Spring Boot Application run configuration, running with Java 1.8, I am receiving the following message (only one listed for brevity&#39;s sake - but the same exception for each of the attempted URLs):\r\n```\r\n Driver oracle.jdbc.OracleDriver claims to not accept jdbcUrl, &quot;jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1234/abcd&quot;\r\n```\r\nI have seen the recommendations on [this answer](https://stackoverflow.com/questions/56054353/driver-oracle-jdbc-oracledriver-claims-to-not-accept-jdbcurl) and [this answer](https://stackoverflow.com/questions/51476040/oracledriver-not-accept-jdbcurl-jdbcoraclethinlocalhost1521-orcl/51476212#51476212) but I have been unsuccessful in determining the root of the problem.\r\n\r\nMy configurations are as follows - I am using EnvFile locally to provide for values that are normally handled by Vault in our deployed environments.\r\n\r\n\r\n`application.properties`\r\n```\r\nspring.datasource.url=&quot;${DATASOURCE_URL}&quot;\r\nspring.datasource.driver-class-name=&quot;${SPRING_DATASOURCE_DRIVER-CLASS-NAME}&quot;\r\n```\r\n\r\n`environment value`\r\n```\r\nDATASOURCE_URL=jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1521/abcd\r\n\r\n# I have tried the following\r\n# jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1521/abcd\r\n# jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1521:abcd\r\n# jdbc:oracle:thin://@redacted.redacted.us-east-1.rds.amazonaws.com:1521:abcd\r\n# jdbc:oracle:thin://@redacted.redacted.us-east-1.rds.amazonaws.com:1521/abcd\r\n\r\nSPRING_DATASOURCE_DRIVER-CLASS-NAME=oracle.jdbc.OracleDriver\r\n```\r\n`pom.xml`\r\n```\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n  &lt;/properties&gt;\r\n...\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n      &lt;version&gt;19.9.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nThe URL format appears to be correct as compared to the previous answer on this issue. What else might be causing the problem here?","title":"Spring Boot application OracleDriver claims to not accept jdbcUrl","body":"<p>When launching a Spring Boot application in IntelliJ using the Spring Boot Application run configuration, running with Java 1.8, I am receiving the following message (only one listed for brevity's sake - but the same exception for each of the attempted URLs):</p>\n<pre><code> Driver oracle.jdbc.OracleDriver claims to not accept jdbcUrl, &quot;jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1234/abcd&quot;\n</code></pre>\n<p>I have seen the recommendations on <a href=\"https://stackoverflow.com/questions/56054353/driver-oracle-jdbc-oracledriver-claims-to-not-accept-jdbcurl\">this answer</a> and <a href=\"https://stackoverflow.com/questions/51476040/oracledriver-not-accept-jdbcurl-jdbcoraclethinlocalhost1521-orcl/51476212#51476212\">this answer</a> but I have been unsuccessful in determining the root of the problem.</p>\n<p>My configurations are as follows - I am using EnvFile locally to provide for values that are normally handled by Vault in our deployed environments.</p>\n<p><code>application.properties</code></p>\n<pre><code>spring.datasource.url=&quot;${DATASOURCE_URL}&quot;\nspring.datasource.driver-class-name=&quot;${SPRING_DATASOURCE_DRIVER-CLASS-NAME}&quot;\n</code></pre>\n<p><code>environment value</code></p>\n<pre><code>DATASOURCE_URL=jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1521/abcd\n\n# I have tried the following\n# jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1521/abcd\n# jdbc:oracle:thin:@redacted.redacted.us-east-1.rds.amazonaws.com:1521:abcd\n# jdbc:oracle:thin://@redacted.redacted.us-east-1.rds.amazonaws.com:1521:abcd\n# jdbc:oracle:thin://@redacted.redacted.us-east-1.rds.amazonaws.com:1521/abcd\n\nSPRING_DATASOURCE_DRIVER-CLASS-NAME=oracle.jdbc.OracleDriver\n</code></pre>\n<p><code>pom.xml</code></p>\n<pre><code>  &lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n  &lt;/properties&gt;\n...\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n      &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n      &lt;version&gt;19.9.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The URL format appears to be correct as compared to the previous answer on this issue. What else might be causing the problem here?</p>\n"},{"tags":["java","intellij-idea","code-templates"],"comments":[{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":1,"creation_date":1383256355,"post_id":19717135,"comment_id":29292145,"body_markdown":"search files under .idea directory; the template is probably in one of the xml files","body":"search files under .idea directory; the template is probably in one of the xml files"}],"answers":[{"tags":[],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1454053647,"creation_date":1383259777,"answer_id":19717934,"question_id":19717135,"body_markdown":"First, in IntelliJ, open Settings (ctrl-alt-s), under IDE Settings find `File and Code Templates` and have a look at the `Templates` tab.\r\n\r\nYou will see some templates there already, for example there is one called `Class`:\r\n\r\n    #if (${PACKAGE_NAME} &amp;&amp; ${PACKAGE_NAME} != &quot;&quot;)package ${PACKAGE_NAME};#end\r\n    #parse(&quot;File Header.java&quot;)\r\n    public class ${NAME} {\r\n    }\r\n\r\nNote that it includes `File Header`, which is found under the `Includes` tab.\r\n\r\nNow, you can easily create your own file templates here. Under the `Templates` tab, just hit the green &quot;Add&quot; button, give your new template a name (`Foo` ?),ensure the extension is  *java* and write a valid java class.\r\n\r\nSave, and your newly configured template exists here:\r\n\r\n    C:\\Users\\{USER}\\.IntelliJIdea12\\config\\fileTemplates\\Foo.java\r\n\r\nYou should be able to share this file with your team.\r\n\r\nA neat feature is that from within the *Project* pane of a java project, under a source root, hit `alt-enter`, choose a New *Java Class* and under the *Kind* drop-down - voila! You can see your `Foo` template as a valid option.\r\n","title":"How can we write our own code template file in IntelliJ IDEA","body":"<p>First, in IntelliJ, open Settings (ctrl-alt-s), under IDE Settings find <code>File and Code Templates</code> and have a look at the <code>Templates</code> tab.</p>\n\n<p>You will see some templates there already, for example there is one called <code>Class</code>:</p>\n\n<pre><code>#if (${PACKAGE_NAME} &amp;&amp; ${PACKAGE_NAME} != \"\")package ${PACKAGE_NAME};#end\n#parse(\"File Header.java\")\npublic class ${NAME} {\n}\n</code></pre>\n\n<p>Note that it includes <code>File Header</code>, which is found under the <code>Includes</code> tab.</p>\n\n<p>Now, you can easily create your own file templates here. Under the <code>Templates</code> tab, just hit the green \"Add\" button, give your new template a name (<code>Foo</code> ?),ensure the extension is  <em>java</em> and write a valid java class.</p>\n\n<p>Save, and your newly configured template exists here:</p>\n\n<pre><code>C:\\Users\\{USER}\\.IntelliJIdea12\\config\\fileTemplates\\Foo.java\n</code></pre>\n\n<p>You should be able to share this file with your team.</p>\n\n<p>A neat feature is that from within the <em>Project</em> pane of a java project, under a source root, hit <code>alt-enter</code>, choose a New <em>Java Class</em> and under the <em>Kind</em> drop-down - voila! You can see your <code>Foo</code> template as a valid option.</p>\n"},{"tags":[],"owner":{"account_id":2084596,"reputation":1166,"user_id":1855840,"display_name":"ranma2913"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588709657,"creation_date":1588709657,"answer_id":61622231,"question_id":19717135,"body_markdown":"Here&#39;s the contents of my `File Header.java`\r\n\r\n    /**\r\n     * Project: ${PROJECT_NAME}\r\n     * Package: ${PACKAGE_NAME}\r\n     * &lt;p&gt;\r\n     * User: ${USER}\r\n     * Date: ${DATE}\r\n     * Time: ${TIME}\r\n     * &lt;p&gt;\r\n     * Created with IntelliJ IDEA\r\n     * To change this template use File | Settings | File Templates.\r\n     */","title":"How can we write our own code template file in IntelliJ IDEA","body":"<p>Here's the contents of my <code>File Header.java</code></p>\n\n<pre><code>/**\n * Project: ${PROJECT_NAME}\n * Package: ${PACKAGE_NAME}\n * &lt;p&gt;\n * User: ${USER}\n * Date: ${DATE}\n * Time: ${TIME}\n * &lt;p&gt;\n * Created with IntelliJ IDEA\n * To change this template use File | Settings | File Templates.\n */\n</code></pre>\n"}],"owner":{"account_id":3150081,"reputation":303,"user_id":2663702,"display_name":"ashish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16778,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":19717934,"answer_count":2,"score":28,"last_activity_date":1700839021,"creation_date":1383255816,"question_id":19717135,"body_markdown":"I need to create a sample code template in my IntelliJ IDEA project so that everybody in the team can also kind of import it in their IDEs and use it.\r\n\r\nI am able to do it on my own machine by changing the &quot;class&quot; template myself, but i just don&#39;t have any way to make it available to my team like exporting it to a file that can be used, in Eclipse it is possible to have one sampleCodeFormatter.xml file that everybody can import in their eclipse workspace.\r\n\r\nHow does the same thing works in IntelliJ IDEA?","title":"How can we write our own code template file in IntelliJ IDEA","body":"<p>I need to create a sample code template in my IntelliJ IDEA project so that everybody in the team can also kind of import it in their IDEs and use it.</p>\n\n<p>I am able to do it on my own machine by changing the \"class\" template myself, but i just don't have any way to make it available to my team like exporting it to a file that can be used, in Eclipse it is possible to have one sampleCodeFormatter.xml file that everybody can import in their eclipse workspace.</p>\n\n<p>How does the same thing works in IntelliJ IDEA?</p>\n"},{"tags":["java","oop","generics","inheritance","design-patterns"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1700816529,"post_id":77541866,"comment_id":136701975,"body_markdown":"Those two classes don&#39;t share any behavior. Why are they both `Animal`s in the first place? You should probably have a `forAnimal` method which in `Dog` calls `forDog` and in `Cat` calls `forCat`, then `AnimalProcessing.appendTo` would only need to call `animal.forAnimal()`","body":"Those two classes don&#39;t share any behavior. Why are they both <code>Animal</code>s in the first place? You should probably have a <code>forAnimal</code> method which in <code>Dog</code> calls <code>forDog</code> and in <code>Cat</code> calls <code>forCat</code>, then <code>AnimalProcessing.appendTo</code> would only need to call <code>animal.forAnimal()</code>"},{"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"score":0,"creation_date":1700816757,"post_id":77541866,"comment_id":136702019,"body_markdown":"They do share. I just removed other methods, implementations to make things easier to read. These classes are generated by JAXB, I cannot rename methods or change these classes","body":"They do share. I just removed other methods, implementations to make things easier to read. These classes are generated by JAXB, I cannot rename methods or change these classes"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1700816892,"post_id":77541866,"comment_id":136702037,"body_markdown":"Fine, but the rest of my comment stands.","body":"Fine, but the rest of my comment stands."},{"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"score":0,"creation_date":1700817072,"post_id":77541866,"comment_id":136702064,"body_markdown":"just edited my comment","body":"just edited my comment"},{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1700817643,"post_id":77541866,"comment_id":136702167,"body_markdown":"What is &quot;best&quot; is subjective. Please [edit] to give an objective criteria instead.","body":"What is &quot;best&quot; is subjective. Please <a href=\"https://stackoverflow.com/posts/77541866/edit\">edit</a> to give an objective criteria instead."},{"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1700821126,"post_id":77541866,"comment_id":136702780,"body_markdown":"This is indeed subjective and also depends on other parts of your code that you didn&#39;t show, mainly on how you are going to create and call the implementations of interface `Processing`. If, for example, you have a collection of animals somewhere and you don&#39;t know at compile time which object is which, then you won&#39;t be able to avoid using `instanceof` - either by solution B, or in some other place where you need to decide whether to create a `CatProcessing` or `DogProcessing` object.","body":"This is indeed subjective and also depends on other parts of your code that you didn&#39;t show, mainly on how you are going to create and call the implementations of interface <code>Processing</code>. If, for example, you have a collection of animals somewhere and you don&#39;t know at compile time which object is which, then you won&#39;t be able to avoid using <code>instanceof</code> - either by solution B, or in some other place where you need to decide whether to create a <code>CatProcessing</code> or <code>DogProcessing</code> object."}],"answers":[{"tags":[],"owner":{"account_id":8406764,"reputation":392,"user_id":6310022,"display_name":"R.Abbasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700838585,"creation_date":1700838585,"answer_id":77544103,"question_id":77541866,"body_markdown":"Type checking is a code smell as it breaks the open-close principle. Therefore the second solution is not recommended. \r\n\r\nIn the first solution, why do you need the &quot;internalAppend&quot;? It should be avoided as it doesn&#39;t add anything to the design, the &quot;appendTo&quot; method is enough.\r\n\r\nI think the processing should be in the animal concrete types. According to the &quot;Information Expert&quot; principle of GRASP, it would be best if this responsibility lies in the animal concrete type instead of Processing objects.","title":"Java : generics, inheritance and best design","body":"<p>Type checking is a code smell as it breaks the open-close principle. Therefore the second solution is not recommended.</p>\n<p>In the first solution, why do you need the &quot;internalAppend&quot;? It should be avoided as it doesn't add anything to the design, the &quot;appendTo&quot; method is enough.</p>\n<p>I think the processing should be in the animal concrete types. According to the &quot;Information Expert&quot; principle of GRASP, it would be best if this responsibility lies in the animal concrete type instead of Processing objects.</p>\n"}],"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700838585,"creation_date":1700816365,"question_id":77541866,"body_markdown":"I have a basic processing interface :\r\n\r\n    public interface Processing&lt;T&gt; {\r\n        void appendTo(T t);\r\n    }\r\n\r\nAnd this inheritance tree :\r\n\r\n    public class Animal {\r\n    }\r\n    \r\n    public class Dog extends Animal {\r\n        public void forDog() {}\r\n    }\r\n    \r\n    public class Cat extends Animal {\r\n        public forCat() {}\r\n    }\r\n\r\nIt&#39;s about processing animals. I have two solutions. Which one is the best pattern ?\r\n\r\n\r\nSOLUTION A (with generics) :\r\n\r\n    public abstract class AbstractProcessing&lt;T extends Animal&gt; implements Processing&lt;T&gt; {\r\n        protected void internalAppend() {}\r\n    }\r\n    \r\n    public class CatProcssing extends AbstractProcessing&lt;Cat&gt;{\r\n    \r\n        @Override\r\n        public void appendTo(Cat cat) {\r\n            cat.forCat();\r\n            internalAppend();\r\n        }\r\n    }\r\n    \r\n    public class DogProcessing extends AbstractProcessing&lt;Dog&gt;{\r\n        \r\n        @Override\r\n        public void appendTo(Dog dog) {\r\n            dog.forDog();\r\n            internalAppend();\r\n        }\r\n    }\r\n\r\n\r\nSOLUTION B :\r\n\r\n    public class AnimalProcessing implements Processing&lt;Animal&gt;{\r\n        @Override\r\n        public void appendTo(Animal animal) {\r\n            if (animal instanceof Cat cat) {\r\n                cat.forCat();\r\n            } else if (animal instanceof Dog dog) {\r\n                dog.forDog();\r\n            } else {\r\n                throw new IllegalArgumentException();\r\n            }\r\n            internalAppend();\r\n        }\r\n    \r\n        private void internalAppend() { }\r\n    }","title":"Java : generics, inheritance and best design","body":"<p>I have a basic processing interface :</p>\n<pre><code>public interface Processing&lt;T&gt; {\n    void appendTo(T t);\n}\n</code></pre>\n<p>And this inheritance tree :</p>\n<pre><code>public class Animal {\n}\n\npublic class Dog extends Animal {\n    public void forDog() {}\n}\n\npublic class Cat extends Animal {\n    public forCat() {}\n}\n</code></pre>\n<p>It's about processing animals. I have two solutions. Which one is the best pattern ?</p>\n<p>SOLUTION A (with generics) :</p>\n<pre><code>public abstract class AbstractProcessing&lt;T extends Animal&gt; implements Processing&lt;T&gt; {\n    protected void internalAppend() {}\n}\n\npublic class CatProcssing extends AbstractProcessing&lt;Cat&gt;{\n\n    @Override\n    public void appendTo(Cat cat) {\n        cat.forCat();\n        internalAppend();\n    }\n}\n\npublic class DogProcessing extends AbstractProcessing&lt;Dog&gt;{\n    \n    @Override\n    public void appendTo(Dog dog) {\n        dog.forDog();\n        internalAppend();\n    }\n}\n</code></pre>\n<p>SOLUTION B :</p>\n<pre><code>public class AnimalProcessing implements Processing&lt;Animal&gt;{\n    @Override\n    public void appendTo(Animal animal) {\n        if (animal instanceof Cat cat) {\n            cat.forCat();\n        } else if (animal instanceof Dog dog) {\n            dog.forDog();\n        } else {\n            throw new IllegalArgumentException();\n        }\n        internalAppend();\n    }\n\n    private void internalAppend() { }\n}\n</code></pre>\n"},{"tags":["java","android","html","firebase"],"comments":[{"owner":{"account_id":81296,"reputation":1744,"user_id":229326,"accept_rate":67,"display_name":"Greg Fenton"},"score":0,"creation_date":1700863848,"post_id":77544091,"comment_id":136708724,"body_markdown":"How are you loading the Firebase SDK?  The code `firebase.initializeApp()` and `firebase.messaging()` is using the older &quot;namespaced API&quot; syntax rather than the newer &quot;modular API&quot; syntax that came out with v9 of the Client SDK.","body":"How are you loading the Firebase SDK?  The code <code>firebase.initializeApp()</code> and <code>firebase.messaging()</code> is using the older &quot;namespaced API&quot; syntax rather than the newer &quot;modular API&quot; syntax that came out with v9 of the Client SDK."}],"owner":{"account_id":24382061,"reputation":33,"user_id":19780184,"display_name":"John B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700838400,"creation_date":1700838400,"question_id":77544091,"body_markdown":"ok i got this script working in registration form using html and javascript as shown below. works fine in webbrowsers no issues. when i open the page using android webview it seems like it does not fire up no token has been retrieved at the initial load.\r\n\r\nany insights is appreciated!\r\n\r\n    &lt;script src=&quot;https://www.website/firebase-app.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://www.website/firebase-messaging.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script&gt;\r\n     const firebaseConfig = {\r\n      apiKey: &quot;YOUR_API_KEY&quot;,\r\n      authDomain: &quot;YOUR_AUTH_DOMAIN&quot;,\r\n      projectId: &quot;YOUR_PROJECT_ID&quot;,\r\n      storageBucket: &quot;YOUR_STORAGE_BUCKET&quot;,\r\n      messagingSenderId: &quot;YOUR_SENDER_ID&quot;,\r\n      appId: &quot;YOUR_APP_ID&quot;,\r\n      measurementId: &quot;YOUR_MEASUREMENT_ID&quot;\r\n    };\r\n\r\n    firebase.initializeApp(firebaseConfig);\r\n\r\n    // Retrieve FCM token and set it in the hidden field\r\n    const messaging = firebase.messaging();\r\n\r\n    // Service worker registration\r\n    if (&#39;serviceWorker&#39; in navigator) {\r\n    navigator.serviceWorker.register(&#39;firebase-messaging-sw.js&#39;)\r\n      .then((registration) =&gt; {\r\n        console.log(&#39;Service Worker registered:&#39;, registration);\r\n      })\r\n      .catch((err) =&gt; {\r\n        console.error(&#39;Service Worker registration failed:&#39;, err);\r\n      });\r\n     }\r\n\r\n     messaging.getToken().then(token =&gt; {\r\n    // Set the token value in the hidden input field\r\n    document.getElementById(&#39;fcmToken&#39;).value = token;\r\n     }).catch(error =&gt; {\r\n      // Handle token generation failure\r\n       console.error(&#39;Error getting FCM token:&#39;, error);\r\n     });\r\n    &lt;/script&gt;\r\n\r\n\r\n","title":"firebase token html , javascript how to integrate it all in andriod webview","body":"<p>ok i got this script working in registration form using html and javascript as shown below. works fine in webbrowsers no issues. when i open the page using android webview it seems like it does not fire up no token has been retrieved at the initial load.</p>\n<p>any insights is appreciated!</p>\n<pre><code>&lt;script src=&quot;https://www.website/firebase-app.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://www.website/firebase-messaging.js&quot;&gt;&lt;/script&gt;\n&lt;script&gt;\n const firebaseConfig = {\n  apiKey: &quot;YOUR_API_KEY&quot;,\n  authDomain: &quot;YOUR_AUTH_DOMAIN&quot;,\n  projectId: &quot;YOUR_PROJECT_ID&quot;,\n  storageBucket: &quot;YOUR_STORAGE_BUCKET&quot;,\n  messagingSenderId: &quot;YOUR_SENDER_ID&quot;,\n  appId: &quot;YOUR_APP_ID&quot;,\n  measurementId: &quot;YOUR_MEASUREMENT_ID&quot;\n};\n\nfirebase.initializeApp(firebaseConfig);\n\n// Retrieve FCM token and set it in the hidden field\nconst messaging = firebase.messaging();\n\n// Service worker registration\nif ('serviceWorker' in navigator) {\nnavigator.serviceWorker.register('firebase-messaging-sw.js')\n  .then((registration) =&gt; {\n    console.log('Service Worker registered:', registration);\n  })\n  .catch((err) =&gt; {\n    console.error('Service Worker registration failed:', err);\n  });\n }\n\n messaging.getToken().then(token =&gt; {\n// Set the token value in the hidden input field\ndocument.getElementById('fcmToken').value = token;\n }).catch(error =&gt; {\n  // Handle token generation failure\n   console.error('Error getting FCM token:', error);\n });\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","setup-project"],"comments":[{"owner":{"account_id":9721856,"reputation":132,"user_id":7210329,"display_name":"Satheesh K"},"score":0,"creation_date":1620759547,"post_id":55320770,"comment_id":119294930,"body_markdown":"any updates, how did you resolve it?","body":"any updates, how did you resolve it?"}],"answers":[{"tags":[],"owner":{"account_id":16201921,"reputation":1,"user_id":11698115,"display_name":"AJV"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1564473996,"creation_date":1564473996,"answer_id":57267043,"question_id":55320770,"body_markdown":"Apologies for unable to reproduce this issue in my Eclipse or STS IDE. But, I have faced this issue in my IntelliJ IDE. The updated version of the IDE resolved this issue.\r\n\r\nhttps://www.jetbrains.com/idea/download/#section=windows","title":"You are currently using tooling API version 2.2.1. You should upgrade your tooling API client to version 3.0 or later","body":"<p>Apologies for unable to reproduce this issue in my Eclipse or STS IDE. But, I have faced this issue in my IntelliJ IDE. The updated version of the IDE resolved this issue.</p>\n\n<p><a href=\"https://www.jetbrains.com/idea/download/#section=windows\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/idea/download/#section=windows</a></p>\n"},{"tags":[],"owner":{"account_id":2157141,"reputation":6635,"user_id":1912085,"accept_rate":75,"display_name":"R9J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565841783,"creation_date":1565841783,"answer_id":57504719,"question_id":55320770,"body_markdown":"[![Hope this help others][1]][1]\r\n\r\nI know its quite a late response. But, It might help others.\r\n\r\n - Download Gradle Zip from Gradle website\r\n - Open your eclipse Preferences\r\n - Select Gradle STS -&gt; choose your gradle directory\r\n\r\nThis solved mine.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/85FOS.png","title":"You are currently using tooling API version 2.2.1. You should upgrade your tooling API client to version 3.0 or later","body":"<p><a href=\"https://i.stack.imgur.com/85FOS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/85FOS.png\" alt=\"Hope this help others\"></a></p>\n\n<p>I know its quite a late response. But, It might help others.</p>\n\n<ul>\n<li>Download Gradle Zip from Gradle website</li>\n<li>Open your eclipse Preferences</li>\n<li>Select Gradle STS -> choose your gradle directory</li>\n</ul>\n\n<p>This solved mine.</p>\n"}],"owner":{"account_id":6950317,"reputation":726,"user_id":5333146,"accept_rate":89,"display_name":"Lokesh Kumar Gaurav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8510,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1700838275,"creation_date":1553402149,"question_id":55320770,"body_markdown":"I have created gradle project from [here][1] and while importing Gradle(STS) from eclipse I am getting error [![enter image description here][2]][2] and image of error log is [![enter image description here][3]][3]\r\n\r\nSo, I am not able to import my project. any suggestion? \r\n\r\n\r\n  [1]: https://start.spring.io/\r\n  [2]: https://i.stack.imgur.com/1JpvD.png\r\n  [3]: https://i.stack.imgur.com/Leuuc.png","title":"You are currently using tooling API version 2.2.1. You should upgrade your tooling API client to version 3.0 or later","body":"<p>I have created gradle project from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">here</a> and while importing Gradle(STS) from eclipse I am getting error <a href=\"https://i.stack.imgur.com/1JpvD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1JpvD.png\" alt=\"enter image description here\"></a> and image of error log is <a href=\"https://i.stack.imgur.com/Leuuc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Leuuc.png\" alt=\"enter image description here\"></a></p>\n\n<p>So, I am not able to import my project. any suggestion? </p>\n"},{"tags":["java","maven","intellij-idea","java-8"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647773032,"post_id":71545923,"comment_id":126450776,"body_markdown":"`sudo update-alternatives --get-selections java` will allow you to set the jdk you want (providing it&#39;s been installed with your package manager)","body":"<code>sudo update-alternatives --get-selections java</code> will allow you to set the jdk you want (providing it&#39;s been installed with your package manager)"},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1647776911,"post_id":71545923,"comment_id":126451558,"body_markdown":"There is a difference between Maven and IntelliJ. To get the correct version on plain command line use the correct `JAVA_HOME` setting ... furthermore I see many things out of date like your Maven version also old plugins versions etc.. I strongly recommend to upgrade to Maven 3.8.4 furthermore upgrade you maven-compiler-plugin and decide which version of Java you like to use to build and what version the target should be?","body":"There is a difference between Maven and IntelliJ. To get the correct version on plain command line use the correct <code>JAVA_HOME</code> setting ... furthermore I see many things out of date like your Maven version also old plugins versions etc.. I strongly recommend to upgrade to Maven 3.8.4 furthermore upgrade you maven-compiler-plugin and decide which version of Java you like to use to build and what version the target should be?"}],"answers":[{"tags":[],"owner":{"account_id":15088930,"reputation":26,"user_id":10889374,"display_name":"Tamir Hazut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647937199,"creation_date":1647937199,"answer_id":71568827,"question_id":71545923,"body_markdown":"Try and change in Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven -&gt; Runner -&gt; JRE to use JDK 8 or even better set the JAVA_HOME to the JDK 8","title":"JDK version mismatch between Intellij project structure and Maven version","body":"<p>Try and change in Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven -&gt; Runner -&gt; JRE to use JDK 8 or even better set the JAVA_HOME to the JDK 8</p>\n"},{"tags":[],"owner":{"account_id":28794993,"reputation":39,"user_id":22053378,"display_name":"work-in-progress"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700838268,"creation_date":1700838268,"answer_id":77544082,"question_id":71545923,"body_markdown":"regarding your personnal configurations : \r\n\r\nby buiding in the terminal : \r\nyou should get a java 8 jar, as you ask java 8 as target, with a jdk 11 (this is comaptible)\r\n\r\nby buiding in Intellij IDEA : \r\nyou should get a java 8 jar, as you ask java 8 as target, with a jdk 8 as project structure.\r\n","title":"JDK version mismatch between Intellij project structure and Maven version","body":"<p>regarding your personnal configurations :</p>\n<p>by buiding in the terminal :\nyou should get a java 8 jar, as you ask java 8 as target, with a jdk 11 (this is comaptible)</p>\n<p>by buiding in Intellij IDEA :\nyou should get a java 8 jar, as you ask java 8 as target, with a jdk 8 as project structure.</p>\n"}],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":976,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71568827,"answer_count":2,"score":0,"last_activity_date":1700838268,"creation_date":1647772117,"question_id":71545923,"body_markdown":"At project structure of Intellij, **the JDK version is selected as 1.8**\r\n\r\nAt Maven properties also, the **JDK verison had been mention as 1.8**\r\n\r\n*But still upon `mvn --install` somehow I get JDK verion as 11*\r\n\r\nUnable to understand the behaviour. And how do I make it as 1.8\r\n\r\nProject screenshot\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WhEJ1.jpg","title":"JDK version mismatch between Intellij project structure and Maven version","body":"<p>At project structure of Intellij, <strong>the JDK version is selected as 1.8</strong></p>\n<p>At Maven properties also, the <strong>JDK verison had been mention as 1.8</strong></p>\n<p><em>But still upon <code>mvn --install</code> somehow I get JDK verion as 11</em></p>\n<p>Unable to understand the behaviour. And how do I make it as 1.8</p>\n<p>Project screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/WhEJ1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WhEJ1.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1700825470,"post_id":77542785,"comment_id":136703453,"body_markdown":"If the tasks have to be ordered it doesn&#39;t make sense to use threads.","body":"If the tasks have to be ordered it doesn&#39;t make sense to use threads."},{"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"score":0,"creation_date":1700825928,"post_id":77542785,"comment_id":136703520,"body_markdown":"yes still, but i am practicing Threads. The task doesn&#39;t matter, the implementation does. That&#39;s why i need to know what&#39;s going wrong, because what i want to master is the use of wait() and notify() to coordinate between threads","body":"yes still, but i am practicing Threads. The task doesn&#39;t matter, the implementation does. That&#39;s why i need to know what&#39;s going wrong, because what i want to master is the use of wait() and notify() to coordinate between threads"},{"owner":{"account_id":1692034,"reputation":3198,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1700826609,"post_id":77542785,"comment_id":136703625,"body_markdown":"Will the program terminate at all?","body":"Will the program terminate at all?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1700827050,"post_id":77542785,"comment_id":136703690,"body_markdown":"You block the thread, theres&#39;no way to finish it. Threads are running in parallel, but you chosed to IO to a file which is synchronized themselves.","body":"You block the thread, theres&#39;no way to finish it. Threads are running in parallel, but you chosed to IO to a file which is synchronized themselves."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1700828071,"post_id":77542785,"comment_id":136703830,"body_markdown":"Are you sure that thread 1 starts its execution before thread 2? Because you don&#39;t have anything in place that prevents thread 2 from first acquiring the lock, then failing in its `populateFile` method.","body":"Are you sure that thread 1 starts its execution before thread 2? Because you don&#39;t have anything in place that prevents thread 2 from first acquiring the lock, then failing in its <code>populateFile</code> method."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1700828137,"post_id":77542785,"comment_id":136703837,"body_markdown":"_Lost notification:_ Thread 2 doesn&#39;t get to `lock.wait()` until after Thread 1 has completely finished. It misses seeing the earlier `lock.notify()` in Thread 1. It waits forever--waiting for another notification, but no other notification ever happens.","body":"<i>Lost notification:</i> Thread 2 doesn&#39;t get to <code>lock.wait()</code> until after Thread 1 has completely finished. It misses seeing the earlier <code>lock.notify()</code> in Thread 1. It waits forever--waiting for another notification, but no other notification ever happens."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1700828712,"post_id":77542785,"comment_id":136703934,"body_markdown":"P.S., If somebody saw you beating on a trumpet with drumsticks, and they told you that was not how a trumpet is meant to be played, would you say, &quot;yes still, but i am practicing?&quot;","body":"P.S., If somebody saw you beating on a trumpet with drumsticks, and they told you that was not how a trumpet is meant to be played, would you say, &quot;yes still, but i am practicing?&quot;"},{"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"score":0,"creation_date":1700829989,"post_id":77542785,"comment_id":136704165,"body_markdown":"@tquadrat the program doesn&#39;t terminate. it hangs WITHOUT finishing the process with exit code(0).","body":"@tquadrat the program doesn&#39;t terminate. it hangs WITHOUT finishing the process with exit code(0)."},{"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"score":0,"creation_date":1700830039,"post_id":77542785,"comment_id":136704180,"body_markdown":"@RomanC how in parallel? the lock.wait() on thread2 makes it sleep and wait for the notify from thread1","body":"@RomanC how in parallel? the lock.wait() on thread2 makes it sleep and wait for the notify from thread1"},{"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"score":0,"creation_date":1700830138,"post_id":77542785,"comment_id":136704194,"body_markdown":"@RobSpoor i quote &quot; It misses seeing the earlier lock.notify() in Thread 1. It waits forever--waiting for another notification, but no other notification ever happens.&quot; how does it miss the lock.notify() of thread1 while thread1 has already finished its task and created the file (the file is created after executing the code)","body":"@RobSpoor i quote &quot; It misses seeing the earlier lock.notify() in Thread 1. It waits forever--waiting for another notification, but no other notification ever happens.&quot; how does it miss the lock.notify() of thread1 while thread1 has already finished its task and created the file (the file is created after executing the code)"},{"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"score":0,"creation_date":1700830422,"post_id":77542785,"comment_id":136704248,"body_markdown":"@SolomonSlow i know it does not make any sense to use threads in this simple context but as i said, i wonder why the thread2 doesn&#39;t get executed.\n\nPS: in thread2 if i &quot;stupidly&quot; put the method populateFile() BEFORE the lock.wait() - which is against the threads mechanism -  the file gets indeed populated with the text, but again this is stupid and not thread safe.","body":"@SolomonSlow i know it does not make any sense to use threads in this simple context but as i said, i wonder why the thread2 doesn&#39;t get executed.  PS: in thread2 if i &quot;stupidly&quot; put the method populateFile() BEFORE the lock.wait() - which is against the threads mechanism -  the file gets indeed populated with the text, but again this is stupid and not thread safe."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700832197,"post_id":77542785,"comment_id":136704544,"body_markdown":"You should try to use a debugger to debug the execution and see what exactly is being executed.","body":"You should try to use a debugger to debug the execution and see what exactly is being executed."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1700836726,"post_id":77542785,"comment_id":136705343,"body_markdown":"@1heone Parallel is when both threads are running simultaneously. It is not like yours theads that blocking each other. In [this](https://stackoverflow.com/a/16873592/573032) showcade example threads are started running when you press a button.","body":"@1heone Parallel is when both threads are running simultaneously. It is not like yours theads that blocking each other. In <a href=\"https://stackoverflow.com/a/16873592/573032\">this</a> showcade example threads are started running when you press a button."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1700835676,"creation_date":1700831249,"answer_id":77543385,"question_id":77542785,"body_markdown":"I wrote in a comment,\r\n\r\n&gt; _Lost notification:_ Thread 2 doesn&#39;t get to `lock.wait()` until after Thread 1 has completely finished. It misses seeing the earlier `lock.notify()` in Thread 1. It waits forever--waiting for another notification, but no other notification ever happens.\r\n\r\nYou responded,\r\n\r\n&gt; how does it miss the `lock.notify()` of thread1 while thread1 has already finished its task\r\n\r\n`lock.notify()` will wake a thread that is already waiting for the notification, but it does _nothing at all_ if no other thread is waiting. The `lock` does not remember that it was notfied. If `thread1` starts first, then it locks the `lock`, and `thread2` gets stuck trying to enter the `synchronized(lock)` block until `thread1` has completely finished.\r\n\r\n`thread2` is still stuck trying to enter the synchronized block when thread1 calls `notify`. The `notify()` call then does absolutely nothing--has no effect whatsoever--because no other thread is waiting for it at that moment.\r\n\r\nFinally, after `thread1` is completely finished, and it releases the lock, ***then*** `thread2` is able to get in to its `synchronized(lock)` block and call `lock.wait()`. But too late! `thread1` is done and gone. No second notification will ever happen, and `thread2` waits forever. The program never ends.","title":"Java Thread manipulating a file","body":"<p>I wrote in a comment,</p>\n<blockquote>\n<p><em>Lost notification:</em> Thread 2 doesn't get to <code>lock.wait()</code> until after Thread 1 has completely finished. It misses seeing the earlier <code>lock.notify()</code> in Thread 1. It waits forever--waiting for another notification, but no other notification ever happens.</p>\n</blockquote>\n<p>You responded,</p>\n<blockquote>\n<p>how does it miss the <code>lock.notify()</code> of thread1 while thread1 has already finished its task</p>\n</blockquote>\n<p><code>lock.notify()</code> will wake a thread that is already waiting for the notification, but it does <em>nothing at all</em> if no other thread is waiting. The <code>lock</code> does not remember that it was notfied. If <code>thread1</code> starts first, then it locks the <code>lock</code>, and <code>thread2</code> gets stuck trying to enter the <code>synchronized(lock)</code> block until <code>thread1</code> has completely finished.</p>\n<p><code>thread2</code> is still stuck trying to enter the synchronized block when thread1 calls <code>notify</code>. The <code>notify()</code> call then does absolutely nothing--has no effect whatsoever--because no other thread is waiting for it at that moment.</p>\n<p>Finally, after <code>thread1</code> is completely finished, and it releases the lock, <em><strong>then</strong></em> <code>thread2</code> is able to get in to its <code>synchronized(lock)</code> block and call <code>lock.wait()</code>. But too late! <code>thread1</code> is done and gone. No second notification will ever happen, and <code>thread2</code> waits forever. The program never ends.</p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1700838258,"creation_date":1700837918,"answer_id":77544047,"question_id":77542785,"body_markdown":"As said by Solomon Slow, if thread 1 calls `notify()` before thread 2 calls `wait()`, no notification will come. This is one of the reasons why this form of locking is sometimes difficult to get right.\r\n\r\nJava 5.0 added a lot of classes to help with this in the `java.util.concurrent.*` packages. One that can be really useful here is `CountDownLatch`:\r\n```java\r\nCountDownLatch latch = new CountDownLatch(1);\r\n\r\nThread thread1 = new Thread(() -&gt; {\r\n    createFile();\r\n    System.out.println(&quot;Thread 1: File creation finished&quot;);\r\n    latch.countDown();\r\n});\r\n\r\nThread thread2 = new Thread(() -&gt; {\r\n    try {\r\n        latch.await();\r\n        populateFile();\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n});\r\n\r\n// Start both threads\r\nthread1.start();\r\nthread2.start();\r\n```\r\nYou&#39;re now telling thread 2 to wait until someone (thread 1) has given the go-ahead. It does impose more ordering, but that&#39;s exactly what you need here.","title":"Java Thread manipulating a file","body":"<p>As said by Solomon Slow, if thread 1 calls <code>notify()</code> before thread 2 calls <code>wait()</code>, no notification will come. This is one of the reasons why this form of locking is sometimes difficult to get right.</p>\n<p>Java 5.0 added a lot of classes to help with this in the <code>java.util.concurrent.*</code> packages. One that can be really useful here is <code>CountDownLatch</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CountDownLatch latch = new CountDownLatch(1);\n\nThread thread1 = new Thread(() -&gt; {\n    createFile();\n    System.out.println(&quot;Thread 1: File creation finished&quot;);\n    latch.countDown();\n});\n\nThread thread2 = new Thread(() -&gt; {\n    try {\n        latch.await();\n        populateFile();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n});\n\n// Start both threads\nthread1.start();\nthread2.start();\n</code></pre>\n<p>You're now telling thread 2 to wait until someone (thread 1) has given the go-ahead. It does impose more ordering, but that's exactly what you need here.</p>\n"}],"owner":{"account_id":2813073,"reputation":27,"user_id":2418888,"display_name":"1heone"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77544047,"answer_count":2,"score":0,"last_activity_date":1700838258,"creation_date":1700825303,"question_id":77542785,"body_markdown":"I am trying to make 2 threads manipulate the same file. The problem is that it only creates the file (Thread1 responsibility) but it doesn&#39;t populate the file (which is the Thread2 responsibility). Furthermore it sort hangs without finishing the process with exit code(). \r\n\r\n\r\n\r\n**here is the output :**\r\n\r\n\r\n    File created: example.txt\r\n    Thread 1: File creation finished\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Here is the complete code :**\r\n\r\n\r\n\r\n    import java.io.*;\r\n\r\n    public class ThreadWithFiles {\r\n        private static final String FILE_PATH = &quot;/Users/myUser/Desktop/example.txt&quot;;\r\n\r\n        public static void main(String[] args) {\r\n\r\n            Object lock = new Object();\r\n\r\n            Thread thread1 = new Thread(() -&gt; {\r\n                synchronized (lock) {\r\n                    createFile();\r\n                    System.out.println(&quot;Thread 1: File creation finished&quot;);\r\n                    lock.notify();\r\n                }\r\n            });\r\n\r\n            Thread thread2 = new Thread(() -&gt; {\r\n                synchronized (lock) {\r\n                    try {\r\n                        lock.wait();\r\n                        populateFile();\r\n                        lock.notify();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n\r\n            // Start both threads\r\n            thread1.start();\r\n            thread2.start();\r\n\r\n            try {\r\n\r\n                synchronized (lock) {\r\n                    thread2.join();\r\n                    lock.wait();\r\n                    System.out.println(&quot;Main thread: Both actions terminated successfully&quot;);\r\n                }\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        private static void createFile() {\r\n            try {\r\n                File file = new File(FILE_PATH);\r\n                if (file.createNewFile()) {\r\n                    String[] words = FILE_PATH.split(&quot;/&quot;);\r\n                    String fileName = words[words.length - 1];\r\n                    System.out.println(&quot;File created: &quot; + fileName);\r\n                } else {\r\n                    System.out.println(&quot;File already exists: &quot; + FILE_PATH);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        private static void populateFile() {\r\n            try (FileWriter writer = new FileWriter(FILE_PATH, true)) {\r\n                writer.write(&quot;Hello, this is some text to populate the file.&quot;);\r\n                System.out.println(&quot;File populated with text&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nso what&#39;s going on here?\r\n\r\n","title":"Java Thread manipulating a file","body":"<p>I am trying to make 2 threads manipulate the same file. The problem is that it only creates the file (Thread1 responsibility) but it doesn't populate the file (which is the Thread2 responsibility). Furthermore it sort hangs without finishing the process with exit code().</p>\n<p><strong>here is the output :</strong></p>\n<pre><code>File created: example.txt\nThread 1: File creation finished\n</code></pre>\n<p><strong>Here is the complete code :</strong></p>\n<pre><code>import java.io.*;\n\npublic class ThreadWithFiles {\n    private static final String FILE_PATH = &quot;/Users/myUser/Desktop/example.txt&quot;;\n\n    public static void main(String[] args) {\n\n        Object lock = new Object();\n\n        Thread thread1 = new Thread(() -&gt; {\n            synchronized (lock) {\n                createFile();\n                System.out.println(&quot;Thread 1: File creation finished&quot;);\n                lock.notify();\n            }\n        });\n\n        Thread thread2 = new Thread(() -&gt; {\n            synchronized (lock) {\n                try {\n                    lock.wait();\n                    populateFile();\n                    lock.notify();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n\n        // Start both threads\n        thread1.start();\n        thread2.start();\n\n        try {\n\n            synchronized (lock) {\n                thread2.join();\n                lock.wait();\n                System.out.println(&quot;Main thread: Both actions terminated successfully&quot;);\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void createFile() {\n        try {\n            File file = new File(FILE_PATH);\n            if (file.createNewFile()) {\n                String[] words = FILE_PATH.split(&quot;/&quot;);\n                String fileName = words[words.length - 1];\n                System.out.println(&quot;File created: &quot; + fileName);\n            } else {\n                System.out.println(&quot;File already exists: &quot; + FILE_PATH);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void populateFile() {\n        try (FileWriter writer = new FileWriter(FILE_PATH, true)) {\n            writer.write(&quot;Hello, this is some text to populate the file.&quot;);\n            System.out.println(&quot;File populated with text&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>so what's going on here?</p>\n"},{"tags":["java","wso2","wso2-micro-integrator"],"comments":[{"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1700748822,"post_id":77536293,"comment_id":136694517,"body_markdown":"Where did you install Micro Integrator? Can you add the full path of the installation location?","body":"Where did you install Micro Integrator? Can you add the full path of the installation location?"},{"owner":{"account_id":29974297,"reputation":1,"user_id":22970903,"display_name":"Vladimir"},"score":0,"creation_date":1700802603,"post_id":77536293,"comment_id":136700263,"body_markdown":"I&#39;m unzip Micro Integrator to &#39;C:\\Program Files\\wso2mi&#39; folder","body":"I&#39;m unzip Micro Integrator to &#39;C:\\Program Files\\wso2mi&#39; folder"}],"answers":[{"tags":[],"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700838200,"creation_date":1700838200,"answer_id":77544074,"question_id":77536293,"body_markdown":"Having spaces in the installation path can cause issues with WSO2 products. The directory `Program Files` has a space in-between. So try moving the server installation to a location where each directory in the path doesn&#39;t have any spaces. For example, `C:\\wso2\\wso2mi`","title":"WSO2 Micro-integrator","body":"<p>Having spaces in the installation path can cause issues with WSO2 products. The directory <code>Program Files</code> has a space in-between. So try moving the server installation to a location where each directory in the path doesn't have any spaces. For example, <code>C:\\wso2\\wso2mi</code></p>\n"}],"owner":{"account_id":29974297,"reputation":1,"user_id":22970903,"display_name":"Vladimir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700838200,"creation_date":1700736774,"question_id":77536293,"body_markdown":"Can you help me please. I downloaded WSO2 micro-integrator, set JAVA_HOME Java JDK 17 and when I want to start it I got this error:\r\n\r\n    - INFO {org.wso2.config.mapper.ConfigParser} - Overriding files in configuration directory C:\\PROGRA~1\\WSO2MI~1\\bin\\..\r\n    - FATAL {org.wso2.micro.integrator.server.Main} - Error while performing configuration changes org.wso2.config.mapper.ConfigParserException: Error while creating new directory C:\\PROGRA~1\\WSO2MI~1\\bin\\..\\backup\\conf\\axis2\\axis2.xml\r\n        at org.wso2.config.mapper.util.FileUtils.writeFile(FileUtils.java:74) ~[config-mapper-1.0.20.jar:1.0.20]\r\n        at org.wso2.config.mapper.util.FileUtils.writeDirectory(FileUtils.java:101) ~[config-mapper-1.0.20.jar:1.0.20]\r\n        at org.wso2.config.mapper.util.FileUtils.writeDirectory(FileUtils.java:138) ~[config-mapper-1.0.20.jar:1.0.20]\r\n        at org.wso2.config.mapper.ConfigParser.backupConfigurations(ConfigParser.java:178) ~[config-mapper-1.0.20.jar:1.0.20]\r\n        at org.wso2.config.mapper.ConfigParser.deployAndStoreMetadata(ConfigParser.java:190) ~[config-mapper-1.0.20.jar:1.0.20]\r\n        at org.wso2.config.mapper.ConfigParser.parse(ConfigParser.java:137) ~[config-mapper-1.0.20.jar:1.0.20]\r\n        at org.wso2.micro.integrator.server.Main.handleConfiguration(Main.java:385) ~[org.wso2.micro.integrator.server-4.2.0.jar:4.2.0]\r\n        at org.wso2.micro.integrator.server.Main.main(Main.java:118) ~[org.wso2.micro.integrator.server-4.2.0.jar:4.2.0]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n        at org.wso2.micro.integrator.bootstrap.Bootstrap.loadClass(Bootstrap.java:70) ~[org.wso2.micro.integrator.bootstrap-4.2.0.jar:4.2.0]\r\n        at org.wso2.micro.integrator.bootstrap.Bootstrap.main(Bootstrap.java:51) ~[org.wso2.micro.integrator.bootstrap-4.2.0.jar:4.2.0]\r\n\r\n\r\nWhat I do wrong?\r\nThanks in advance.","title":"WSO2 Micro-integrator","body":"<p>Can you help me please. I downloaded WSO2 micro-integrator, set JAVA_HOME Java JDK 17 and when I want to start it I got this error:</p>\n<pre><code>- INFO {org.wso2.config.mapper.ConfigParser} - Overriding files in configuration directory C:\\PROGRA~1\\WSO2MI~1\\bin\\..\n- FATAL {org.wso2.micro.integrator.server.Main} - Error while performing configuration changes org.wso2.config.mapper.ConfigParserException: Error while creating new directory C:\\PROGRA~1\\WSO2MI~1\\bin\\..\\backup\\conf\\axis2\\axis2.xml\n    at org.wso2.config.mapper.util.FileUtils.writeFile(FileUtils.java:74) ~[config-mapper-1.0.20.jar:1.0.20]\n    at org.wso2.config.mapper.util.FileUtils.writeDirectory(FileUtils.java:101) ~[config-mapper-1.0.20.jar:1.0.20]\n    at org.wso2.config.mapper.util.FileUtils.writeDirectory(FileUtils.java:138) ~[config-mapper-1.0.20.jar:1.0.20]\n    at org.wso2.config.mapper.ConfigParser.backupConfigurations(ConfigParser.java:178) ~[config-mapper-1.0.20.jar:1.0.20]\n    at org.wso2.config.mapper.ConfigParser.deployAndStoreMetadata(ConfigParser.java:190) ~[config-mapper-1.0.20.jar:1.0.20]\n    at org.wso2.config.mapper.ConfigParser.parse(ConfigParser.java:137) ~[config-mapper-1.0.20.jar:1.0.20]\n    at org.wso2.micro.integrator.server.Main.handleConfiguration(Main.java:385) ~[org.wso2.micro.integrator.server-4.2.0.jar:4.2.0]\n    at org.wso2.micro.integrator.server.Main.main(Main.java:118) ~[org.wso2.micro.integrator.server-4.2.0.jar:4.2.0]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.wso2.micro.integrator.bootstrap.Bootstrap.loadClass(Bootstrap.java:70) ~[org.wso2.micro.integrator.bootstrap-4.2.0.jar:4.2.0]\n    at org.wso2.micro.integrator.bootstrap.Bootstrap.main(Bootstrap.java:51) ~[org.wso2.micro.integrator.bootstrap-4.2.0.jar:4.2.0]\n</code></pre>\n<p>What I do wrong?\nThanks in advance.</p>\n"},{"tags":["java","redis","spring-boot"],"comments":[{"owner":{"account_id":4496958,"reputation":52167,"user_id":4296747,"display_name":"Frederic Henri"},"score":0,"creation_date":1441976808,"post_id":32524194,"comment_id":52906038,"body_markdown":"did you check https://github.com/kstyrc/embedded-redis","body":"did you check <a href=\"https://github.com/kstyrc/embedded-redis\" rel=\"nofollow noreferrer\">github.com/kstyrc/embedded-redis</a>"},{"owner":{"account_id":5421403,"reputation":943,"user_id":4314917,"accept_rate":80,"display_name":"Gurinder"},"score":1,"creation_date":1441977310,"post_id":32524194,"comment_id":52906404,"body_markdown":"Yes i checked but i am a little bit confused i mean i just want to know do i have to create @Bean RedisServer getserver(){} to inject it ?","body":"Yes i checked but i am a little bit confused i mean i just want to know do i have to create @Bean RedisServer getserver(){} to inject it ?"}],"answers":[{"tags":[],"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1452586220,"creation_date":1452585599,"answer_id":34738274,"question_id":32524194,"body_markdown":"You can use an embedded Redis like https://github.com/kstyrc/embedded-redis\r\n\r\n1. Add the dependency to your pom.xml\r\n2. Adjust the properties for your integration test to point to your embedded redis, for example : \r\n\r\n        spring:\r\n          redis:\r\n            host: localhost\r\n            port: 6379\r\n\r\n3. Instanciate the embedded redis server in a  component that is defined in your tests only : \r\n\r\n        @Component\r\n        public class EmbededRedis {\r\n        \r\n            @Value(&quot;${spring.redis.port}&quot;)\r\n            private int redisPort;\r\n        \r\n            private RedisServer redisServer;\r\n        \r\n            @PostConstruct\r\n            public void startRedis() throws IOException {\r\n                redisServer = new RedisServer(redisPort);\r\n                redisServer.start();\r\n            }\r\n        \r\n            @PreDestroy\r\n            public void stopRedis() {\r\n                redisServer.stop();\r\n            }\r\n        }\r\n","title":"Embedded Redis for Spring Boot","body":"<p>You can use an embedded Redis like <a href=\"https://github.com/kstyrc/embedded-redis\" rel=\"noreferrer\">https://github.com/kstyrc/embedded-redis</a></p>\n\n<ol>\n<li>Add the dependency to your pom.xml</li>\n<li><p>Adjust the properties for your integration test to point to your embedded redis, for example : </p>\n\n<pre><code>spring:\n  redis:\n    host: localhost\n    port: 6379\n</code></pre></li>\n<li><p>Instanciate the embedded redis server in a  component that is defined in your tests only : </p>\n\n<pre><code>@Component\npublic class EmbededRedis {\n\n    @Value(\"${spring.redis.port}\")\n    private int redisPort;\n\n    private RedisServer redisServer;\n\n    @PostConstruct\n    public void startRedis() throws IOException {\n        redisServer = new RedisServer(redisPort);\n        redisServer.start();\n    }\n\n    @PreDestroy\n    public void stopRedis() {\n        redisServer.stop();\n    }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1809091,"reputation":4321,"user_id":1645517,"accept_rate":54,"display_name":"Markus Schulte"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1700838110,"creation_date":1510156196,"answer_id":47184003,"question_id":32524194,"body_markdown":"edit : I would now strongly suggest to go the testcontainers route as explained in @magiccrafter [answer][1], I am also using it for my tests now.\r\n\r\n----\r\n\r\nYou can use [ozimov/embedded-redis][2] as a Maven(-test)-dependency (this is the successor of [kstyrc/embedded-redis][3]).\r\n\r\n1. Add the dependency to your pom.xml\r\n\r\n        &lt;dependencies&gt;\r\n          ...\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;it.ozimov&lt;/groupId&gt;\r\n            &lt;artifactId&gt;embedded-redis&lt;/artifactId&gt;\r\n            &lt;version&gt;0.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n\r\n2. Adjust your application properties for your integration test \r\n\r\n        spring.redis.host=localhost\r\n        spring.redis.port=6379\r\n\r\n3. Use the embedded redis server in a [test configuration][4]\r\n\r\n        @TestConfiguration\r\n        public static class EmbededRedisTestConfiguration {\r\n           \r\n          private final redis.embedded.RedisServer redisServer;\r\n           \r\n          public EmbededRedisTestConfiguration(@Value(&quot;${spring.redis.port}&quot;) final int redisPort) throws IOException {\r\n            this.redisServer = new redis.embedded.RedisServer(redisPort);\r\n          }\r\n          \r\n          @PostConstruct\r\n          public void startRedis() {\r\n            this.redisServer.start();\r\n          }\r\n         \r\n          @PreDestroy\r\n          public void stopRedis() {\r\n            this.redisServer.stop();\r\n          }\r\n        }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50645865/7059\r\n  [2]: https://github.com/ozimov/embedded-redis &quot;ozimov/embedded-redis&quot;\r\n  [3]: https://github.com/kstyrc/embedded-redis &quot;kstyrc/embedded-redis&quot;\r\n  [4]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-detecting-config &quot;Spring boot @TestConfiguration&quot;","title":"Embedded Redis for Spring Boot","body":"<p>edit : I would now strongly suggest to go the testcontainers route as explained in @magiccrafter <a href=\"https://stackoverflow.com/a/50645865/7059\">answer</a>, I am also using it for my tests now.</p>\n<hr />\n<p>You can use <a href=\"https://github.com/ozimov/embedded-redis\" rel=\"nofollow noreferrer\" title=\"ozimov/embedded-redis\">ozimov/embedded-redis</a> as a Maven(-test)-dependency (this is the successor of <a href=\"https://github.com/kstyrc/embedded-redis\" rel=\"nofollow noreferrer\" title=\"kstyrc/embedded-redis\">kstyrc/embedded-redis</a>).</p>\n<ol>\n<li><p>Add the dependency to your pom.xml</p>\n<pre><code> &lt;dependencies&gt;\n   ...\n   &lt;dependency&gt;\n     &lt;groupId&gt;it.ozimov&lt;/groupId&gt;\n     &lt;artifactId&gt;embedded-redis&lt;/artifactId&gt;\n     &lt;version&gt;0.7.1&lt;/version&gt;\n     &lt;scope&gt;test&lt;/scope&gt;\n   &lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Adjust your application properties for your integration test</p>\n<pre><code> spring.redis.host=localhost\n spring.redis.port=6379\n</code></pre>\n</li>\n<li><p>Use the embedded redis server in a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-detecting-config\" rel=\"nofollow noreferrer\" title=\"Spring boot @TestConfiguration\">test configuration</a></p>\n<pre><code> @TestConfiguration\n public static class EmbededRedisTestConfiguration {\n\n   private final redis.embedded.RedisServer redisServer;\n\n   public EmbededRedisTestConfiguration(@Value(&quot;${spring.redis.port}&quot;) final int redisPort) throws IOException {\n     this.redisServer = new redis.embedded.RedisServer(redisPort);\n   }\n\n   @PostConstruct\n   public void startRedis() {\n     this.redisServer.start();\n   }\n\n   @PreDestroy\n   public void stopRedis() {\n     this.redisServer.stop();\n   }\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11378905,"reputation":99,"user_id":8342293,"display_name":"Cary Yu"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1521511320,"creation_date":1520392570,"answer_id":49143525,"question_id":32524194,"body_markdown":"you can see this repository: https://github.com/caryyu/spring-embedded-redis-server , fully integrated with Spring and Spring Boot\r\n\r\n\r\n\r\nmaven dependency\r\n=======\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.caryyu&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-embedded-redis-server&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nspring boot annotation\r\n=======\r\n\r\n    @Bean\r\n    public RedisServerConfiguration redisServerConfiguration() {\r\n    return new RedisServerConfiguration();\r\n    }\r\n\r\nusage of application.yml\r\n======= \r\n\r\n    spring:\r\n        redis:\r\n            port: 6379\r\n            embedded: true\r\n\r\n","title":"Embedded Redis for Spring Boot","body":"<p>you can see this repository: <a href=\"https://github.com/caryyu/spring-embedded-redis-server\" rel=\"nofollow noreferrer\">https://github.com/caryyu/spring-embedded-redis-server</a> , fully integrated with Spring and Spring Boot</p>\n\n<h1>maven dependency</h1>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.github.caryyu&lt;/groupId&gt;\n&lt;artifactId&gt;spring-embedded-redis-server&lt;/artifactId&gt;\n&lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h1>spring boot annotation</h1>\n\n<pre><code>@Bean\npublic RedisServerConfiguration redisServerConfiguration() {\nreturn new RedisServerConfiguration();\n}\n</code></pre>\n\n<h1>usage of application.yml</h1>\n\n<pre><code>spring:\n    redis:\n        port: 6379\n        embedded: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482529,"reputation":5253,"user_id":896981,"accept_rate":100,"display_name":"magiccrafter"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1619689154,"creation_date":1527863904,"answer_id":50645865,"question_id":32524194,"body_markdown":"Another neat way is to use the [testcontainers][1] library which can run any type of application that can in a Docker container and Redis is no exception. What I like best is that it is lightly coupled with the Spring Test ecosystem.\r\n\r\nmaven&#39;s dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n        &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nsimple integration test:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT, properties = {&quot;management.port=0&quot;})\r\n    @ContextConfiguration(initializers = AbstractIntegrationTest.Initializer.class)\r\n    @DirtiesContext\r\n    public abstract class AbstractIntegrationTest {\r\n    \r\n        private static int REDIS_PORT = 6379;\r\n    \r\n        @ClassRule\r\n        public static GenericContainer redis = new GenericContainer(&quot;redis:5-alpine&quot;).withExposedPorts(REDIS_PORT);\r\n    \r\n        public static class Initializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n            @Override\r\n            public void initialize(ConfigurableApplicationContext ctx) {\r\n                // Spring Boot 1.5.x\r\n                TestPropertySourceUtils.addInlinedPropertiesToEnvironment(ctx,\r\n                    &quot;spring.redis.host=&quot; + redis.getContainerIpAddress(),\r\n                    &quot;spring.redis.port=&quot; + redis.getMappedPort(REDIS_PORT));\r\n    \r\n                // Spring Boot 2.x.\r\n                TestPropertyValues.of(\r\n                    &quot;spring.redis.host:&quot; + redis.getContainerIpAddress(),\r\n                    &quot;spring.redis.port:&quot; + redis.getMappedPort(REDIS_PORT))\r\n                    .applyTo(ctx);\r\n            }\r\n        }\r\n    }\r\n\r\nSince Spring Framework 5.2.5 (Spring Boot 2.3.x) you can use the powerful `DynamicPropertySource` annotation. \r\nHere is an example:\r\n\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\r\n    public abstract class AbstractIT {\r\n\r\n        static GenericContainer redisContainer = new GenericContainer(&quot;redis:5-alpine&quot;).withExposedPorts(6379);\r\n\r\n        @DynamicPropertySource\r\n        static void properties(DynamicPropertyRegistry r) throws IOException {\r\n            r.add(&quot;spring.redis.host&quot;, redisContainer::getContainerIpAddress);\r\n            r.add(&quot;spring.redis.port&quot;, redisContainer::getFirstMappedPort);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.testcontainers.org","title":"Embedded Redis for Spring Boot","body":"<p>Another neat way is to use the <a href=\"https://www.testcontainers.org\" rel=\"nofollow noreferrer\">testcontainers</a> library which can run any type of application that can in a Docker container and Redis is no exception. What I like best is that it is lightly coupled with the Spring Test ecosystem.</p>\n<p>maven's dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n    &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>simple integration test:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT, properties = {&quot;management.port=0&quot;})\n@ContextConfiguration(initializers = AbstractIntegrationTest.Initializer.class)\n@DirtiesContext\npublic abstract class AbstractIntegrationTest {\n\n    private static int REDIS_PORT = 6379;\n\n    @ClassRule\n    public static GenericContainer redis = new GenericContainer(&quot;redis:5-alpine&quot;).withExposedPorts(REDIS_PORT);\n\n    public static class Initializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n        @Override\n        public void initialize(ConfigurableApplicationContext ctx) {\n            // Spring Boot 1.5.x\n            TestPropertySourceUtils.addInlinedPropertiesToEnvironment(ctx,\n                &quot;spring.redis.host=&quot; + redis.getContainerIpAddress(),\n                &quot;spring.redis.port=&quot; + redis.getMappedPort(REDIS_PORT));\n\n            // Spring Boot 2.x.\n            TestPropertyValues.of(\n                &quot;spring.redis.host:&quot; + redis.getContainerIpAddress(),\n                &quot;spring.redis.port:&quot; + redis.getMappedPort(REDIS_PORT))\n                .applyTo(ctx);\n        }\n    }\n}\n</code></pre>\n<p>Since Spring Framework 5.2.5 (Spring Boot 2.3.x) you can use the powerful <code>DynamicPropertySource</code> annotation.\nHere is an example:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\npublic abstract class AbstractIT {\n\n    static GenericContainer redisContainer = new GenericContainer(&quot;redis:5-alpine&quot;).withExposedPorts(6379);\n\n    @DynamicPropertySource\n    static void properties(DynamicPropertyRegistry r) throws IOException {\n        r.add(&quot;spring.redis.host&quot;, redisContainer::getContainerIpAddress);\n        r.add(&quot;spring.redis.port&quot;, redisContainer::getFirstMappedPort);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631539461,"creation_date":1631539461,"answer_id":69163497,"question_id":32524194,"body_markdown":"If your are using spring and reactive to [access data with redis reactively](https://spring.io/guides/gs/spring-data-reactive-redis/).\r\nMeaning you&#39;re having a `ReactiveRedisConnectionFactory` (with a `RedisConnectionFactory` bean) and a `LettuceConnectionFactory` then you may want to follow this approach to set an embedded redis for multiple test classes.\r\n\r\nFirst add the [playtika embedded redis](https://github.com/Playtika/testcontainers-spring-boot/blob/develop/embedded-redis/README.adoc) to your dependencies:\r\n\r\n```groovy\r\ndependencies {\r\n    testCompile(&quot;com.playtika.testcontainers:embedded-redis:2.0.9&quot;)\r\n}\r\n```\r\n\r\nThen set the redis host and port as the `embedded.redis` one in your application.yml (that are generated by the embedded redis as env variable on creation).\r\n\r\n```yml\r\nspring:\r\n  redis:\r\n    host: \\${embedded.redis.host:localhost}\r\n    port: \\${embedded.redis.port:6739}\r\n```    \r\n\r\nIn a `bootstrap-redisnoauth.properties` file, set the env variable `embedded.redis.requirepass=false` so that it does not require password.\r\n\r\nThen in your test use the active profile:\r\n\r\n```java\r\n@ActiveProfiles(&quot;redisnoauth&quot;)\r\n```\r\n\r\nAnd make sure to have this `@TestConfiguration` in your test class as well so that will connect you to the redis spawned on a randomly generated port.\r\n\r\n```java\r\n@Category(IntegrationTest.class)\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;redisnoauth&quot;)\r\npublic class RedisCacheTest {\r\n\r\n    @TestConfiguration\r\n    static class RedisTestConfiguration {\r\n    \r\n        @Bean\r\n        public RedisConnectionFactory redisConnectionFactory(@Value(&quot;${spring.redis.host}&quot;) String host,\r\n                                                             @Value(&quot;${spring.redis.port}&quot;) int port) {\r\n            return new LettuceConnectionFactory(host, port);\r\n        }\r\n    \r\n        @Bean\r\n        public RedisOperations&lt;String, String&gt; stringKeyAndStringValueRedisOperations(RedisConnectionFactory redisConnectionFactory) {\r\n            RedisTemplate&lt;String, String&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n            redisTemplate.setConnectionFactory(redisConnectionFactory);\r\n            redisTemplate.setKeySerializer(new StringRedisSerializer(UTF_8));\r\n            redisTemplate.setValueSerializer(new StringRedisSerializer(UTF_8));\r\n            return redisTemplate;\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void myTest() {\r\n      // your test\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd it should work smoothly.\r\n","title":"Embedded Redis for Spring Boot","body":"<p>If your are using spring and reactive to <a href=\"https://spring.io/guides/gs/spring-data-reactive-redis/\" rel=\"nofollow noreferrer\">access data with redis reactively</a>.\nMeaning you're having a <code>ReactiveRedisConnectionFactory</code> (with a <code>RedisConnectionFactory</code> bean) and a <code>LettuceConnectionFactory</code> then you may want to follow this approach to set an embedded redis for multiple test classes.</p>\n<p>First add the <a href=\"https://github.com/Playtika/testcontainers-spring-boot/blob/develop/embedded-redis/README.adoc\" rel=\"nofollow noreferrer\">playtika embedded redis</a> to your dependencies:</p>\n<pre><code>dependencies {\n    testCompile(&quot;com.playtika.testcontainers:embedded-redis:2.0.9&quot;)\n}\n</code></pre>\n<p>Then set the redis host and port as the <code>embedded.redis</code> one in your application.yml (that are generated by the embedded redis as env variable on creation).</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  redis:\n    host: \\${embedded.redis.host:localhost}\n    port: \\${embedded.redis.port:6739}\n</code></pre>\n<p>In a <code>bootstrap-redisnoauth.properties</code> file, set the env variable <code>embedded.redis.requirepass=false</code> so that it does not require password.</p>\n<p>Then in your test use the active profile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ActiveProfiles(&quot;redisnoauth&quot;)\n</code></pre>\n<p>And make sure to have this <code>@TestConfiguration</code> in your test class as well so that will connect you to the redis spawned on a randomly generated port.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Category(IntegrationTest.class)\n@RunWith(SpringRunner.class)\n@SpringBootTest\n@ActiveProfiles(&quot;redisnoauth&quot;)\npublic class RedisCacheTest {\n\n    @TestConfiguration\n    static class RedisTestConfiguration {\n    \n        @Bean\n        public RedisConnectionFactory redisConnectionFactory(@Value(&quot;${spring.redis.host}&quot;) String host,\n                                                             @Value(&quot;${spring.redis.port}&quot;) int port) {\n            return new LettuceConnectionFactory(host, port);\n        }\n    \n        @Bean\n        public RedisOperations&lt;String, String&gt; stringKeyAndStringValueRedisOperations(RedisConnectionFactory redisConnectionFactory) {\n            RedisTemplate&lt;String, String&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n            redisTemplate.setConnectionFactory(redisConnectionFactory);\n            redisTemplate.setKeySerializer(new StringRedisSerializer(UTF_8));\n            redisTemplate.setValueSerializer(new StringRedisSerializer(UTF_8));\n            return redisTemplate;\n        }\n    }\n\n    @Test\n    public void myTest() {\n      // your test\n    }\n\n}\n</code></pre>\n<p>And it should work smoothly.</p>\n"}],"owner":{"account_id":5421403,"reputation":943,"user_id":4314917,"accept_rate":80,"display_name":"Gurinder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75984,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":34738274,"answer_count":5,"score":37,"last_activity_date":1700838110,"creation_date":1441976604,"question_id":32524194,"body_markdown":"I run my Integration Test cases with Spring Boot with the help of my local Redis server on my machine.\r\n\r\nBut I want an embedded Redis server which is not dependent on any server and can run on any environment, like the H2 in-memory database. How can I do it?\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    @IntegrationTest(&quot;server.port:0&quot;)\r\n    @SpringApplicationConfiguration(classes = Application.class) \r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\r\n    public class MasterIntegrationTest {\r\n\r\n    }","title":"Embedded Redis for Spring Boot","body":"<p>I run my Integration Test cases with Spring Boot with the help of my local Redis server on my machine.</p>\n\n<p>But I want an embedded Redis server which is not dependent on any server and can run on any environment, like the H2 in-memory database. How can I do it?</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@IntegrationTest(\"server.port:0\")\n@SpringApplicationConfiguration(classes = Application.class) \n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\npublic class MasterIntegrationTest {\n\n}\n</code></pre>\n"},{"tags":["java","android","android-mediasession"],"answers":[{"tags":[],"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530679821,"creation_date":1530679821,"answer_id":51165951,"question_id":51165851,"body_markdown":"You do not need to cancel notification . Just use :-\r\n\r\n    startForeground(NOTIFY_ID, notification.build());\r\n\r\nTo start And To Stop\r\n\r\n     stopForeground(true);\r\n\r\nMethod `stopForeground(boolean removeNotification);` will clear the notification if you pass true as argument. You can Read about it from [stopForeground](https://developer.android.com/reference/android/app/Service.html#stopForeground(boolean)).\r\n ","title":"IllegalStateException: finishBroadcast() called outside of a broadcast","body":"<p>You do not need to cancel notification . Just use :-</p>\n\n<pre><code>startForeground(NOTIFY_ID, notification.build());\n</code></pre>\n\n<p>To start And To Stop</p>\n\n<pre><code> stopForeground(true);\n</code></pre>\n\n<p>Method <code>stopForeground(boolean removeNotification);</code> will clear the notification if you pass true as argument. You can Read about it from <a href=\"https://developer.android.com/reference/android/app/Service.html#stopForeground(boolean)\" rel=\"nofollow noreferrer\">stopForeground</a>.</p>\n"},{"tags":[],"owner":{"account_id":13908,"reputation":7947,"user_id":28190,"accept_rate":67,"display_name":"Dan Gravell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700837630,"creation_date":1700837630,"answer_id":77544011,"question_id":51165851,"body_markdown":"This could occur if multiple broadcast sessions are started within the `MediaSessionCompat` - there&#39;s no synchronisation to prevent this happening in the class itself.\r\n\r\nSee the Javadoc for MediaSessionCompat:\r\n\r\n    MediaSessionCompat objects are not thread safe and all calls should be made from the same thread.\r\n\r\nSo check your code is calling your MediaSessionCompat object in the same thread, or has some synchronisation.","title":"IllegalStateException: finishBroadcast() called outside of a broadcast","body":"<p>This could occur if multiple broadcast sessions are started within the <code>MediaSessionCompat</code> - there's no synchronisation to prevent this happening in the class itself.</p>\n<p>See the Javadoc for MediaSessionCompat:</p>\n<pre><code>MediaSessionCompat objects are not thread safe and all calls should be made from the same thread.\n</code></pre>\n<p>So check your code is calling your MediaSessionCompat object in the same thread, or has some synchronisation.</p>\n"}],"owner":{"account_id":12645166,"reputation":21,"user_id":9191170,"display_name":"Radhika Saliya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1370,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1700837630,"creation_date":1530679137,"question_id":51165851,"body_markdown":"Does any one have a solution?\r\n\r\n    Fatal Exception: java.lang.IllegalStateException: finishBroadcast() called outside of a broadcast\r\n       at android.os.RemoteCallbackList.finishBroadcast(RemoteCallbackList.java:303)\r\n       at android.support.v4.media.session.MediaSessionCompat$MediaSessionImplApi21.setCallback(Unknown Source:28)\r\n       at android.support.v4.media.session.MediaSessionCompat.setCallback(Unknown Source:2)\r\n       at com.test.player.myService.onCurrentPlayerChanged(Unknown Source:196)\r\n       at com.test.player.myService.onCurrentPlayerChanged(Unknown Source:53)\r\n       at com.test.player.myService$$Lambda$3.accept(Unknown Source:6)\r\n       at io.reactivex.internal.operators.observable.ObservableDoOnEach$DoOnEachObserver.onNext(Unknown Source:7)\r\n       at io.reactivex.internal.operators.observable.ObservableDoOnEach$DoOnEachObserver.onNext(Unknown Source:12)\r\n       at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:23)\r\n       at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:6)\r\n       at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onNext(Unknown Source:51)\r\n       at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:23)\r\n       at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:6)\r\n       at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onNext(Unknown Source:51)\r\n       at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(Unknown Source:47)\r\n       at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(Unknown Source:8)\r\n       at io.reactivex.internal.schedulers.ScheduledRunnable.run(Unknown Source:13)\r\n       at io.reactivex.internal.schedulers.ScheduledRunnable.call(Unknown Source)\r\n       at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n       at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\r\n       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\r\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\r\n       at java.lang.Thread.run(Thread.java:764)\r\n \r\n\r\nThis stack trace is from fabric crashlytics.\r\n\r\nIn `onCurrentPlayerChanged()` simply make call to `stopForeground` service.\r\n\r\n   \r\n\r\n    public void onCurrentPlayerChanged(int currentPlayer) {\r\n        if (currentPlayer != LuxePreferences.PLAYER_ONE) {\r\n            stopForeground(true);\r\n            NotificationManagerCompat.from(this).cancel(PLAYER_NOTIFICATION_ID);\r\n        }\r\n    }\r\nhere is onCreate() and onStartCommand()\r\n\r\n     public void onCreate() {\r\n        super.onCreate();\r\n\r\n        // Create a MediaSessionCompat\r\n        mediaSession = new MediaSessionCompat(getApplicationContext(), &quot;RadioService&quot;,\r\n                new ComponentName(getApplicationContext(), RadioMediaButtonReceiver.class), null);\r\n        mediaSession.setFlags(MediaSessionCompat.FLAG_HANDLES_MEDIA_BUTTONS |\r\n                MediaSessionCompat.FLAG_HANDLES_TRANSPORT_CONTROLS);\r\n\r\n        stateBuilder = new PlaybackStateCompat.Builder()\r\n                .setState(PlaybackStateCompat.STATE_STOPPED, 0, 1)\r\n                .setActions(\r\n                        PlaybackStateCompat.ACTION_PLAY | PlaybackStateCompat.ACTION_STOP | PlaybackStateCompat.ACTION_PAUSE);\r\n        mediaSession.setPlaybackState(stateBuilder.build());\r\n        mediaSession.setCallback(mediaSessionCallback);\r\n    } \r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n        if (MediaButtonReceiver.handleIntent(mediaSession, intent) == null) {\r\n            int action = intent == null ? ACTION_NONE : intent.getIntExtra(EXTRA_ACTION, ACTION_NONE);\r\n\r\n            if (action == ACTION_NONE) {\r\n                if (preferences.isRadioOn()) {\r\n                    startRadio();\r\n                } else {\r\n                    boolean removeNotificationOnStop =\r\n                            intent != null &amp;&amp; intent.getBooleanExtra(EXTRA_REMOVE_NOTIFICATION_ON_STOP, false);\r\n                    stopRadio(removeNotificationOnStop);\r\n                }\r\n            } else if (action == ACTION_STOP) {            \r\n                stopRadio(true);\r\n                stopSelf();\r\n            }\r\n        }\r\n\r\n        return Service.START_STICKY;\r\n    }\r\n\r\non startRadio() i&#39;m set `mediaSession.setActive(true);` as well in stopRadio() `mediaSession.setActive(false)`\r\n\r\nset mediaSession playback state as follow while setup notification\r\n\r\n \r\n\r\n    if (isPlaying()) {\r\n            mediaSession.setPlaybackState(stateBuilder\r\n                    .setState(PlaybackStateCompat.STATE_PLAYING, 0, 1).build());\r\n            startForeground(PLAYER_NOTIFICATION_ID, notification);\r\n        } else {\r\n            mediaSession.setPlaybackState(stateBuilder\r\n                    .setState(PlaybackStateCompat.STATE_PAUSED, 0, 0).build());\r\n\r\n            stopForeground(false);\r\n        }\r\nand onDestroy()\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n\r\n        //other stuff to release resources\r\n \r\n        if (mediaSession != null) {\r\n            mediaSession.release();\r\n        }\r\n    }\r\n\r\nAny idea about the cause of this exception?","title":"IllegalStateException: finishBroadcast() called outside of a broadcast","body":"<p>Does any one have a solution?</p>\n\n<pre><code>Fatal Exception: java.lang.IllegalStateException: finishBroadcast() called outside of a broadcast\n   at android.os.RemoteCallbackList.finishBroadcast(RemoteCallbackList.java:303)\n   at android.support.v4.media.session.MediaSessionCompat$MediaSessionImplApi21.setCallback(Unknown Source:28)\n   at android.support.v4.media.session.MediaSessionCompat.setCallback(Unknown Source:2)\n   at com.test.player.myService.onCurrentPlayerChanged(Unknown Source:196)\n   at com.test.player.myService.onCurrentPlayerChanged(Unknown Source:53)\n   at com.test.player.myService$$Lambda$3.accept(Unknown Source:6)\n   at io.reactivex.internal.operators.observable.ObservableDoOnEach$DoOnEachObserver.onNext(Unknown Source:7)\n   at io.reactivex.internal.operators.observable.ObservableDoOnEach$DoOnEachObserver.onNext(Unknown Source:12)\n   at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:23)\n   at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:6)\n   at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onNext(Unknown Source:51)\n   at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:23)\n   at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onSubscribe(Unknown Source:6)\n   at io.reactivex.internal.operators.observable.ObservableFlatMap$MergeObserver.onNext(Unknown Source:51)\n   at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(Unknown Source:47)\n   at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(Unknown Source:8)\n   at io.reactivex.internal.schedulers.ScheduledRunnable.run(Unknown Source:13)\n   at io.reactivex.internal.schedulers.ScheduledRunnable.call(Unknown Source)\n   at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n   at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\n   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n   at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n\n<p>This stack trace is from fabric crashlytics.</p>\n\n<p>In <code>onCurrentPlayerChanged()</code> simply make call to <code>stopForeground</code> service.</p>\n\n<pre><code>public void onCurrentPlayerChanged(int currentPlayer) {\n    if (currentPlayer != LuxePreferences.PLAYER_ONE) {\n        stopForeground(true);\n        NotificationManagerCompat.from(this).cancel(PLAYER_NOTIFICATION_ID);\n    }\n}\n</code></pre>\n\n<p>here is onCreate() and onStartCommand()</p>\n\n<pre><code> public void onCreate() {\n    super.onCreate();\n\n    // Create a MediaSessionCompat\n    mediaSession = new MediaSessionCompat(getApplicationContext(), \"RadioService\",\n            new ComponentName(getApplicationContext(), RadioMediaButtonReceiver.class), null);\n    mediaSession.setFlags(MediaSessionCompat.FLAG_HANDLES_MEDIA_BUTTONS |\n            MediaSessionCompat.FLAG_HANDLES_TRANSPORT_CONTROLS);\n\n    stateBuilder = new PlaybackStateCompat.Builder()\n            .setState(PlaybackStateCompat.STATE_STOPPED, 0, 1)\n            .setActions(\n                    PlaybackStateCompat.ACTION_PLAY | PlaybackStateCompat.ACTION_STOP | PlaybackStateCompat.ACTION_PAUSE);\n    mediaSession.setPlaybackState(stateBuilder.build());\n    mediaSession.setCallback(mediaSessionCallback);\n} \n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n\n    if (MediaButtonReceiver.handleIntent(mediaSession, intent) == null) {\n        int action = intent == null ? ACTION_NONE : intent.getIntExtra(EXTRA_ACTION, ACTION_NONE);\n\n        if (action == ACTION_NONE) {\n            if (preferences.isRadioOn()) {\n                startRadio();\n            } else {\n                boolean removeNotificationOnStop =\n                        intent != null &amp;&amp; intent.getBooleanExtra(EXTRA_REMOVE_NOTIFICATION_ON_STOP, false);\n                stopRadio(removeNotificationOnStop);\n            }\n        } else if (action == ACTION_STOP) {            \n            stopRadio(true);\n            stopSelf();\n        }\n    }\n\n    return Service.START_STICKY;\n}\n</code></pre>\n\n<p>on startRadio() i'm set <code>mediaSession.setActive(true);</code> as well in stopRadio() <code>mediaSession.setActive(false)</code></p>\n\n<p>set mediaSession playback state as follow while setup notification</p>\n\n<pre><code>if (isPlaying()) {\n        mediaSession.setPlaybackState(stateBuilder\n                .setState(PlaybackStateCompat.STATE_PLAYING, 0, 1).build());\n        startForeground(PLAYER_NOTIFICATION_ID, notification);\n    } else {\n        mediaSession.setPlaybackState(stateBuilder\n                .setState(PlaybackStateCompat.STATE_PAUSED, 0, 0).build());\n\n        stopForeground(false);\n    }\n</code></pre>\n\n<p>and onDestroy()</p>\n\n<pre><code>@Override\npublic void onDestroy() {\n    super.onDestroy();\n\n    //other stuff to release resources\n\n    if (mediaSession != null) {\n        mediaSession.release();\n    }\n}\n</code></pre>\n\n<p>Any idea about the cause of this exception?</p>\n"},{"tags":["java","kotlin","android-gradle-plugin","dependencies","gradle-kotlin-dsl"],"comments":[{"owner":{"account_id":1144386,"reputation":28752,"user_id":1127485,"accept_rate":83,"display_name":"sschuberth"},"score":0,"creation_date":1632497112,"post_id":69079963,"comment_id":122516862,"body_markdown":"Note that if you don&#39;t have any Java sources (only Kotlin sources) this message actually should not appear at all, also see https://youtrack.jetbrains.com/issue/KT-48745.","body":"Note that if you don&#39;t have any Java sources (only Kotlin sources) this message actually should not appear at all, also see <a href=\"https://youtrack.jetbrains.com/issue/KT-48745\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-48745</a>."},{"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"score":0,"creation_date":1651081709,"post_id":69079963,"comment_id":127279924,"body_markdown":"I believe that the &quot;android&quot; block not resolving is because you don&#39;t have either &quot;com.android.application&quot; or &quot;com.android.library&quot; plugin applied","body":"I believe that the &quot;android&quot; block not resolving is because you don&#39;t have either &quot;com.android.application&quot; or &quot;com.android.library&quot; plugin applied"}],"answers":[{"tags":[],"owner":{"account_id":11562165,"reputation":2691,"user_id":8471555,"display_name":"Marian"},"down_vote_count":3,"up_vote_count":139,"is_accepted":false,"score":136,"last_activity_date":1660671428,"creation_date":1631003541,"answer_id":69084853,"question_id":69079963,"body_markdown":"You can set java version for java with\r\n\r\n    java {\r\n        sourceCompatibility = JavaVersion.VERSION_11\r\n        targetCompatibility = JavaVersion.VERSION_11\r\n    }\r\n\r\nor alternatively:\r\n\r\n    java {\r\n        toolchain.languageVersion.set(JavaLanguageVersion.of(11))\r\n    }\r\n\r\nand for kotlin with:\r\n\r\n    tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt;().configureEach {\r\n        kotlinOptions {\r\n            jvmTarget = &quot;11&quot;\r\n        }\r\n    }\r\n\r\nAll samples are in gradle kotlin dsl.","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>You can set java version for java with</p>\n<pre><code>java {\n    sourceCompatibility = JavaVersion.VERSION_11\n    targetCompatibility = JavaVersion.VERSION_11\n}\n</code></pre>\n<p>or alternatively:</p>\n<pre><code>java {\n    toolchain.languageVersion.set(JavaLanguageVersion.of(11))\n}\n</code></pre>\n<p>and for kotlin with:</p>\n<pre><code>tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt;().configureEach {\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n}\n</code></pre>\n<p>All samples are in gradle kotlin dsl.</p>\n"},{"tags":[],"owner":{"account_id":14011147,"reputation":1259,"user_id":13834948,"display_name":"LXJ"},"down_vote_count":2,"up_vote_count":55,"is_accepted":false,"score":53,"last_activity_date":1680226106,"creation_date":1645363074,"answer_id":71194804,"question_id":69079963,"body_markdown":"@Marian&#39;s answer didn&#39;t quite help me.\r\n\r\nI end up setting the following in the app build.gradle\r\n\r\n    android {\r\n    ...\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n    \r\n        kotlinOptions {\r\n            jvmTarget=11\r\n        }\r\n    ...\r\n    }","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>@Marian's answer didn't quite help me.</p>\n<p>I end up setting the following in the app build.gradle</p>\n<pre><code>android {\n...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n\n    kotlinOptions {\n        jvmTarget=11\n    }\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":389774,"reputation":434,"user_id":749427,"display_name":"Alejandro Moya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1655928549,"creation_date":1655928549,"answer_id":72721423,"question_id":69079963,"body_markdown":"If anyone keeps getting warnings about a java compilation task being set to java 1.8 you can add this to the gradle script:\r\n\r\n\r\n    afterEvaluate {\r\n        tasks.withType&lt;JavaCompile&gt;().configureEach {\r\n            sourceCompatibility = JavaVersion.VERSION_11.toString()\r\n            targetCompatibility = JavaVersion.VERSION_11.toString()\r\n        }\r\n    }\r\n\r\nI was getting warnings on some java compile tasks on AS and this solved it for me.\r\n","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>If anyone keeps getting warnings about a java compilation task being set to java 1.8 you can add this to the gradle script:</p>\n<pre><code>afterEvaluate {\n    tasks.withType&lt;JavaCompile&gt;().configureEach {\n        sourceCompatibility = JavaVersion.VERSION_11.toString()\n        targetCompatibility = JavaVersion.VERSION_11.toString()\n    }\n}\n</code></pre>\n<p>I was getting warnings on some java compile tasks on AS and this solved it for me.</p>\n"},{"tags":[],"owner":{"account_id":2246480,"reputation":24374,"user_id":1979703,"accept_rate":87,"display_name":"Niklas"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1656148874,"creation_date":1656148874,"answer_id":72752682,"question_id":69079963,"body_markdown":"This worked nicely for me:\r\n\r\n```\r\nkotlin {\r\n  jvmToolchain {\r\n    languageVersion.set(JavaLanguageVersion.of(&quot;11&quot;))\r\n  }\r\n}\r\n```\r\n\r\nThat way I only need to set it once.","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>This worked nicely for me:</p>\n<pre><code>kotlin {\n  jvmToolchain {\n    languageVersion.set(JavaLanguageVersion.of(&quot;11&quot;))\n  }\n}\n</code></pre>\n<p>That way I only need to set it once.</p>\n"},{"tags":[],"owner":{"account_id":3368068,"reputation":3372,"user_id":2828087,"display_name":"Rahul Raina"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659519677,"creation_date":1659519371,"answer_id":73219434,"question_id":69079963,"body_markdown":"**This solution worked for me:**\r\n\r\nJust replace the statement (or similar to this):\r\n\r\n    kotlinOptions {\r\n        jvmTarget = JavaVersion.VERSION_1_8.toString() \r\n    }\r\nwith  \r\n\r\n    kotlinOptions {\r\n        jvmTarget = &quot;1.8&quot;\r\n    }\r\n\r\nin all the module level `build.gradle` files and then sync gradle.\r\n\r\n\r\n*Hope this works. Happy Coding...!*","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p><strong>This solution worked for me:</strong></p>\n<p>Just replace the statement (or similar to this):</p>\n<pre><code>kotlinOptions {\n    jvmTarget = JavaVersion.VERSION_1_8.toString() \n}\n</code></pre>\n<p>with</p>\n<pre><code>kotlinOptions {\n    jvmTarget = &quot;1.8&quot;\n}\n</code></pre>\n<p>in all the module level <code>build.gradle</code> files and then sync gradle.</p>\n<p><em>Hope this works. Happy Coding...!</em></p>\n"},{"tags":[],"owner":{"account_id":80182,"reputation":29519,"user_id":226895,"accept_rate":86,"display_name":"expert"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1672681392,"creation_date":1672681392,"answer_id":74985503,"question_id":69079963,"body_markdown":"Surprisingly the culprit is very simple. You need to declare your `KotlinCompile` task before `JavaCompile`. Like this\r\n\r\n```\r\ntasks {\r\n\r\n    withType&lt;KotlinCompile&gt; {\r\n    \r\n        kotlinOptions {\r\n            freeCompilerArgs = listOf(\r\n                &quot;-Xextended-compiler-checks&quot;,\r\n                &quot;-Xinline-classes&quot;,\r\n                &quot;-Xjsr305=strict&quot;,\r\n                &quot;-Xjvm-default=all&quot;,\r\n                &quot;-Xskip-prerelease-check&quot;,\r\n            )\r\n            apiVersion = &quot;1.8&quot;\r\n            languageVersion = &quot;1.8&quot;\r\n            jvmTarget = &quot;11&quot;\r\n        }\r\n    }\r\n    \r\n    withType&lt;JavaCompile&gt; {\r\n        sourceCompatibility = &quot;11&quot;\r\n        targetCompatibility = &quot;11&quot;\r\n    }\r\n}\r\n```","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>Surprisingly the culprit is very simple. You need to declare your <code>KotlinCompile</code> task before <code>JavaCompile</code>. Like this</p>\n<pre><code>tasks {\n\n    withType&lt;KotlinCompile&gt; {\n    \n        kotlinOptions {\n            freeCompilerArgs = listOf(\n                &quot;-Xextended-compiler-checks&quot;,\n                &quot;-Xinline-classes&quot;,\n                &quot;-Xjsr305=strict&quot;,\n                &quot;-Xjvm-default=all&quot;,\n                &quot;-Xskip-prerelease-check&quot;,\n            )\n            apiVersion = &quot;1.8&quot;\n            languageVersion = &quot;1.8&quot;\n            jvmTarget = &quot;11&quot;\n        }\n    }\n    \n    withType&lt;JavaCompile&gt; {\n        sourceCompatibility = &quot;11&quot;\n        targetCompatibility = &quot;11&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1674778691,"creation_date":1674778691,"answer_id":75252936,"question_id":69079963,"body_markdown":"Marian&#39;s solution (see above) needs to be applied, but you may still see the same message as a warning especially if you run &quot;gradle build&quot; from a command line. I think if you &quot;synch&quot; with gradle from Android Studio, you might not see the warning message.  If you still see the message after properly applying Marian&#39;s solution, it&#39;s apparently a bogus warning message.  My understanding is that the bogus warning message goes away once you upgrade to using kotlin 1.6+.  You can disable this bogus warning by adding the following to your gradle.properties file.\r\n\r\n    kotlin.jvm.target.validation.mode = IGNORE\r\n\r\nI&#39;m not recommending the use of the above, but I it certainly solves the issue of seeing the bogus warning message. If you do use it, remember to remove it when it&#39;s no longer needed.\r\n\r\nThe problem for most of us is that we can&#39;t upgrade to kotlin 1.6.21 at this time.  In order to upgrade to kotlin 1.6.21 you need to upgrade to android gradle 7.4.  To upgrade to android gradle 7.4 you need an Android Studio version greater than Dolphin | 2021.3.1, so you would have to use one of the preview versions of Android Studio to do that at this time.\r\n\r\nfor compatibility information, see \r\nhttps://developer.android.com/studio/releases/gradle-plugin and\r\nhttps://developer.android.com/studio/releases#android_gradle_plugin_and_android_studio_compatibility","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>Marian's solution (see above) needs to be applied, but you may still see the same message as a warning especially if you run &quot;gradle build&quot; from a command line. I think if you &quot;synch&quot; with gradle from Android Studio, you might not see the warning message.  If you still see the message after properly applying Marian's solution, it's apparently a bogus warning message.  My understanding is that the bogus warning message goes away once you upgrade to using kotlin 1.6+.  You can disable this bogus warning by adding the following to your gradle.properties file.</p>\n<pre><code>kotlin.jvm.target.validation.mode = IGNORE\n</code></pre>\n<p>I'm not recommending the use of the above, but I it certainly solves the issue of seeing the bogus warning message. If you do use it, remember to remove it when it's no longer needed.</p>\n<p>The problem for most of us is that we can't upgrade to kotlin 1.6.21 at this time.  In order to upgrade to kotlin 1.6.21 you need to upgrade to android gradle 7.4.  To upgrade to android gradle 7.4 you need an Android Studio version greater than Dolphin | 2021.3.1, so you would have to use one of the preview versions of Android Studio to do that at this time.</p>\n<p>for compatibility information, see\n<a href=\"https://developer.android.com/studio/releases/gradle-plugin\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/releases/gradle-plugin</a> and\n<a href=\"https://developer.android.com/studio/releases#android_gradle_plugin_and_android_studio_compatibility\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/releases#android_gradle_plugin_and_android_studio_compatibility</a></p>\n"},{"tags":[],"owner":{"account_id":334117,"reputation":15576,"user_id":660350,"accept_rate":54,"display_name":"Pascal"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1678869644,"creation_date":1675931354,"answer_id":75395975,"question_id":69079963,"body_markdown":"In order to have the ***&#39;same version of Java&#39;*** in both ***&#39;Java and Kotlin&#39;***,&lt;br/&gt;just modify your **build.gradle** file like this (example given for Java 11):\r\n\r\n\tapply plugin: &#39;com.android.application&#39;\r\n\tapply plugin: &#39;kotlin-android&#39;\r\n\t...\r\n\tandroid {\r\n\t\t...\r\n\t\tcompileOptions {\r\n\t\t\tsourceCompatibility JavaVersion.VERSION_11\r\n\t\t\ttargetCompatibility JavaVersion.VERSION_11\r\n\t\t}\r\n\r\n\t\t// New syntax (credit goes to ʍѳђઽ૯ท in comment)\r\n        kotlin {\r\n\t\t\tjvmToolchain(11)\r\n\t\t}\r\n\t/*\r\n\t\tFYI: Old syntax:\r\n\t\tkotlin {\r\n\t\t\tjvmToolchain {\r\n\t\t\t\tlanguageVersion.set(JavaLanguageVersion.of(&quot;11&quot;))\r\n\t\t\t}\r\n\t\t}\r\n\t\tFYI: Deprecated syntax:\r\n\t\tkotlinOptions {\r\n\t\t\tjvmTarget = &quot;11&quot;\r\n\t\t}\r\n\t*/\r\n\t\t...\r\n\t}\r\n\r\n**My configuration:**&lt;BR/&gt;\r\n\r\nGradle:\r\n - Android Gradle Plugin: com.android.tools.build:gradle:7.4.1\r\n - Gradle: 7.5 (as of ./gradle/wrapper/gradle-wrapper.properties)\r\n\r\nKotlin:\r\n - Android Kotlin Plugin: 221 ( 221-1.8.0-release-for-android-studio-AS5591.52 )&lt;BR/&gt;\r\n(see https://kotlinlang.org/docs/whatsnew18.html#install-kotlin-1-8-0 )\r\n - Kotlin Gradle Plugin: org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0\r\n\r\n**About new syntax**:&lt;BR/&gt;\r\nSee [New method for JVM toolchain configuration][1]&lt;BR/&gt;\r\n\r\n**NB:**&lt;BR/&gt;\r\nMore information about Kotlin configuration regarding that matter is available here:\r\nhttps://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/whatsnew1720.html#new-method-for-jvm-toolchain-configuration","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>In order to have the <em><strong>'same version of Java'</strong></em> in both <em><strong>'Java and Kotlin'</strong></em>,<br/>just modify your <strong>build.gradle</strong> file like this (example given for Java 11):</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n...\nandroid {\n    ...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n\n    // New syntax (credit goes to ʍѳђઽ૯ท in comment)\n    kotlin {\n        jvmToolchain(11)\n    }\n/*\n    FYI: Old syntax:\n    kotlin {\n        jvmToolchain {\n            languageVersion.set(JavaLanguageVersion.of(&quot;11&quot;))\n        }\n    }\n    FYI: Deprecated syntax:\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n*/\n    ...\n}\n</code></pre>\n<p><strong>My configuration:</strong><BR/></p>\n<p>Gradle:</p>\n<ul>\n<li>Android Gradle Plugin: com.android.tools.build:gradle:7.4.1</li>\n<li>Gradle: 7.5 (as of ./gradle/wrapper/gradle-wrapper.properties)</li>\n</ul>\n<p>Kotlin:</p>\n<ul>\n<li>Android Kotlin Plugin: 221 ( 221-1.8.0-release-for-android-studio-AS5591.52 )<BR/>\n(see <a href=\"https://kotlinlang.org/docs/whatsnew18.html#install-kotlin-1-8-0\" rel=\"noreferrer\">https://kotlinlang.org/docs/whatsnew18.html#install-kotlin-1-8-0</a> )</li>\n<li>Kotlin Gradle Plugin: org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0</li>\n</ul>\n<p><strong>About new syntax</strong>:<BR/>\nSee <a href=\"https://kotlinlang.org/docs/whatsnew1720.html#new-method-for-jvm-toolchain-configuration\" rel=\"noreferrer\">New method for JVM toolchain configuration</a><BR/></p>\n<p><strong>NB:</strong><BR/>\nMore information about Kotlin configuration regarding that matter is available here:\n<a href=\"https://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/\" rel=\"noreferrer\">https://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/</a></p>\n"},{"tags":[],"owner":{"account_id":12807192,"reputation":71,"user_id":9266496,"display_name":"tejj"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1681800251,"creation_date":1681387539,"answer_id":76005200,"question_id":69079963,"body_markdown":"    allprojects {\r\n        tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt;().configureEach {\r\n            kotlinOptions {\r\n                jvmTarget = JavaVersion.VERSION_1_8.toString()\r\n            }\r\n        }\r\n    }\r\n\r\nby including this task in your build.gradle , tells the compiler to use the JavaVersion = 1.8 in your project.","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<pre><code>allprojects {\n    tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt;().configureEach {\n        kotlinOptions {\n            jvmTarget = JavaVersion.VERSION_1_8.toString()\n        }\n    }\n}\n</code></pre>\n<p>by including this task in your build.gradle , tells the compiler to use the JavaVersion = 1.8 in your project.</p>\n"},{"tags":[],"owner":{"account_id":20159165,"reputation":2445,"user_id":14784590,"display_name":"Reejesh"},"down_vote_count":1,"up_vote_count":200,"is_accepted":false,"score":199,"last_activity_date":1691410733,"creation_date":1681967966,"answer_id":76060790,"question_id":69079963,"body_markdown":"We also need to **pay attention to the version that the error is showing**. In my case it was :\r\n\r\nCaused by: org.gradle.api.GradleException: &#39;compileDebugJavaWithJavac&#39; task (**current target is 1.8**) and &#39;compileDebugKotlin&#39; task (**current target is 17**) jvm target compatibility should be set to the same Java version.\r\n\r\nWhich means,the Android Studio IDE is using 17 (You can find it in File Menu-&gt;Project Structure-&gt;SDK Location-&gt;JDK location)\r\n\r\nAnd You are using 1.8 in your gradle files.\r\n\r\nSo you need to change\r\n\r\n```kotlin\r\ncompileOptions {\r\n    sourceCompatibility JavaVersion.VERSION_1_8\r\n    targetCompatibility JavaVersion.VERSION_1_8\r\n}\r\n```\r\n\r\nand \r\n\r\n```kotlin\r\nkotlinOptions {\r\n    jvmTarget = &#39;1.8&#39;\r\n}\r\n```\r\n\r\nto\r\n\r\n```kotlin\r\ncompileOptions {\r\n    sourceCompatibility JavaVersion.VERSION_17\r\n    targetCompatibility JavaVersion.VERSION_17\r\n}\r\n```\r\n\r\nand\r\n\r\n```kotlin\r\nkotlinOptions {\r\n    jvmTarget = &#39;17&#39;\r\n}\r\n```\r\n\r\nNote that \r\n\r\n&gt; since the error showed 17, I have also switched to 17.\r\n\r\nThis happened when I upgraded gradle to 8.0.\r\n\r\n&gt; Beware of release issues. Kindly take a backup before doing the\r\n&gt; procedure. May face issues in release aab.\r\n\r\nMake sure to check the release apk after this procedure is done, because R8 expects things like [this][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72520577/14784590","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>We also need to <strong>pay attention to the version that the error is showing</strong>. In my case it was :</p>\n<p>Caused by: org.gradle.api.GradleException: 'compileDebugJavaWithJavac' task (<strong>current target is 1.8</strong>) and 'compileDebugKotlin' task (<strong>current target is 17</strong>) jvm target compatibility should be set to the same Java version.</p>\n<p>Which means,the Android Studio IDE is using 17 (You can find it in File Menu-&gt;Project Structure-&gt;SDK Location-&gt;JDK location)</p>\n<p>And You are using 1.8 in your gradle files.</p>\n<p>So you need to change</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kotlinOptions {\n    jvmTarget = '1.8'\n}\n</code></pre>\n<p>to</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_17\n    targetCompatibility JavaVersion.VERSION_17\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kotlinOptions {\n    jvmTarget = '17'\n}\n</code></pre>\n<p>Note that</p>\n<blockquote>\n<p>since the error showed 17, I have also switched to 17.</p>\n</blockquote>\n<p>This happened when I upgraded gradle to 8.0.</p>\n<blockquote>\n<p>Beware of release issues. Kindly take a backup before doing the\nprocedure. May face issues in release aab.</p>\n</blockquote>\n<p>Make sure to check the release apk after this procedure is done, because R8 expects things like <a href=\"https://stackoverflow.com/a/72520577/14784590\">this</a></p>\n"},{"tags":[],"owner":{"account_id":7079447,"reputation":512,"user_id":5418366,"display_name":"Desilio Neto"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1683849113,"creation_date":1682112548,"answer_id":76076810,"question_id":69079963,"body_markdown":"I had the same problem after update the Android Studio to Flamingo version, this is my new configs in the build.gradle \r\n\r\n     compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_17\r\n        targetCompatibility JavaVersion.VERSION_17\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;17&#39;\r\n    }","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>I had the same problem after update the Android Studio to Flamingo version, this is my new configs in the build.gradle</p>\n<pre><code> compileOptions {\n    sourceCompatibility JavaVersion.VERSION_17\n    targetCompatibility JavaVersion.VERSION_17\n}\nkotlinOptions {\n    jvmTarget = '17'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23150760,"reputation":17,"user_id":17252815,"display_name":"Faqiang"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1682429546,"creation_date":1682429546,"answer_id":76101745,"question_id":69079963,"body_markdown":"I solved this problem by updating the configuration in the gradle.properties file.\r\n\r\nchange\r\n\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-bin.zip`\r\n\r\nto \r\n\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip`","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>I solved this problem by updating the configuration in the gradle.properties file.</p>\n<p>change</p>\n<p><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-bin.zip</code></p>\n<p>to</p>\n<p><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip</code></p>\n"},{"tags":[],"owner":{"account_id":7558541,"reputation":711,"user_id":6073671,"display_name":"MD. Shafiul Alam Biplob"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1684831097,"creation_date":1683078257,"answer_id":76159929,"question_id":69079963,"body_markdown":"I tried with the following code first for all modules\r\n    \r\n    compileOptions {\r\n        sourceCompatibility = &#39;1.8&#39;\r\n        targetCompatibility = &#39;1.8&#39;\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    \r\n    \r\nAnd after adding the following line into gradle.properties solved the issue. \r\n    \r\n    \r\n    kotlin.jvm.target.validation.mode = IGNORE\r\n\r\n","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>I tried with the following code first for all modules</p>\n<pre><code>compileOptions {\n    sourceCompatibility = '1.8'\n    targetCompatibility = '1.8'\n}\nkotlinOptions {\n    jvmTarget = '1.8'\n}\n</code></pre>\n<p>And after adding the following line into gradle.properties solved the issue.</p>\n<pre><code>kotlin.jvm.target.validation.mode = IGNORE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":336340,"reputation":6304,"user_id":663941,"accept_rate":82,"display_name":"Saran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688662508,"creation_date":1688662508,"answer_id":76631026,"question_id":69079963,"body_markdown":"Pretty much all the answers are at small variations to each other, mine too.\r\n\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        kotlin {\r\n            jvmToolchain(8)\r\n        }\r\n\r\nThis worked for me. Looks like tool chain defaults to different value else where, this overrides to match compile options and resolves the issue.","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>Pretty much all the answers are at small variations to each other, mine too.</p>\n<pre><code>    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlin {\n        jvmToolchain(8)\n    }\n</code></pre>\n<p>This worked for me. Looks like tool chain defaults to different value else where, this overrides to match compile options and resolves the issue.</p>\n"},{"tags":[],"owner":{"account_id":22443933,"reputation":137,"user_id":16648081,"display_name":"The Droid Guy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688843612,"creation_date":1688843612,"answer_id":76644570,"question_id":69079963,"body_markdown":"One of the very similar error can be this.. \r\nExecution failed for task &#39;:app:kaptGenerateStubsDebugKotlin&#39;.\r\n&gt; &#39;compileDebugJavaWithJavac&#39; task (current target is 1.8) and &#39;kaptGenerateStubsDebugKotlin&#39; task (current target is 17) jvm target compatibility should be set to the same Java version.\r\n\r\nFirst, I would ask you to go to this path in Android Studio and check what Gradle JDK versions you are using...\r\nSimply Goto -&gt;File-&gt;Settings-&gt;Build,Execution,Development-&gt;Build Tools-&gt;Gradle\r\nNow, see inside Gradle SDK, what version is selected.\r\n\r\nNow to fix the error open the &#39;build.gradle&#39; file for your &#39;app module&#39;.\r\nAnd to fix it, make sure to check if you have equal java version at two blocks in your &#39;build.gradle&#39; .\r\nThe first one is inside the &#39;compileOptions&#39; , make sure the two lines have similar java versions as you have used in Gradle SDK (checked above),\r\n\r\n   \r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n\r\nThe second block to be checked is &#39;kotlinOptions&#39;, check the Java version here too,\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;11&#39;\r\n    }\r\n\r\nAnd hopefully, this will solve the error. ","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>One of the very similar error can be this..\nExecution failed for task ':app:kaptGenerateStubsDebugKotlin'.</p>\n<blockquote>\n<p>'compileDebugJavaWithJavac' task (current target is 1.8) and 'kaptGenerateStubsDebugKotlin' task (current target is 17) jvm target compatibility should be set to the same Java version.</p>\n</blockquote>\n<p>First, I would ask you to go to this path in Android Studio and check what Gradle JDK versions you are using...\nSimply Goto -&gt;File-&gt;Settings-&gt;Build,Execution,Development-&gt;Build Tools-&gt;Gradle\nNow, see inside Gradle SDK, what version is selected.</p>\n<p>Now to fix the error open the 'build.gradle' file for your 'app module'.\nAnd to fix it, make sure to check if you have equal java version at two blocks in your 'build.gradle' .\nThe first one is inside the 'compileOptions' , make sure the two lines have similar java versions as you have used in Gradle SDK (checked above),</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_11\n    targetCompatibility JavaVersion.VERSION_11\n}\n</code></pre>\n<p>The second block to be checked is 'kotlinOptions', check the Java version here too,</p>\n<pre><code>kotlinOptions {\n    jvmTarget = '11'\n}\n</code></pre>\n<p>And hopefully, this will solve the error.</p>\n"},{"tags":[],"owner":{"account_id":6597297,"reputation":751,"user_id":5096638,"display_name":"PalFS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689071904,"creation_date":1689071904,"answer_id":76661107,"question_id":69079963,"body_markdown":"I had experienced the same situation and tried different variations mentioned above. The strange behavior that I was having where the project built successfully on the first attempt, but the same error resurfaced when trying to build it again.\r\n\r\nFortunately, I found a workaround that resolved the issue. By reverting back the Gradle version from 8.0 to 7.5, the problem was resolved, and I was able to build the project without any further errors.","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>I had experienced the same situation and tried different variations mentioned above. The strange behavior that I was having where the project built successfully on the first attempt, but the same error resurfaced when trying to build it again.</p>\n<p>Fortunately, I found a workaround that resolved the issue. By reverting back the Gradle version from 8.0 to 7.5, the problem was resolved, and I was able to build the project without any further errors.</p>\n"},{"tags":[],"owner":{"account_id":29055280,"reputation":21,"user_id":22257176,"display_name":"hahahacker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689841810,"creation_date":1689841810,"answer_id":76728024,"question_id":69079963,"body_markdown":"For anyone who did everything but still struggling with this problem, try to downgrade your gradle version. In my case I changed 8.0 to 7.5 and it helped.","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>For anyone who did everything but still struggling with this problem, try to downgrade your gradle version. In my case I changed 8.0 to 7.5 and it helped.</p>\n"},{"tags":[],"owner":{"account_id":3460640,"reputation":3374,"user_id":2897869,"accept_rate":52,"display_name":"Hossein Kurd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689848644,"creation_date":1689848644,"answer_id":76728918,"question_id":69079963,"body_markdown":"1. Remove *package* from the manifest tag in AndroidManifesty.xml\r\n2. add the command below into project&#39;s *gradle.properties*:\r\n\r\n&gt; kotlin.jvm.target.validation.mode = IGNORE\r\n3. make sure the *kotlinOptions* has been set next to *compileOptions*: \r\n&gt;     compileOptions {\r\n&gt;         sourceCompatibility JavaVersion.VERSION_1_8\r\n&gt;         targetCompatibility JavaVersion.VERSION_1_8\r\n&gt;     }\r\n&gt;     kotlinOptions {\r\n&gt;         jvmTarget = &#39;1.8&#39;\r\n&gt;     }","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<ol>\n<li>Remove <em>package</em> from the manifest tag in AndroidManifesty.xml</li>\n<li>add the command below into project's <em>gradle.properties</em>:</li>\n</ol>\n<blockquote>\n<p>kotlin.jvm.target.validation.mode = IGNORE\n3. make sure the <em>kotlinOptions</em> has been set next to <em>compileOptions</em>:\ncompileOptions {\nsourceCompatibility JavaVersion.VERSION_1_8\ntargetCompatibility JavaVersion.VERSION_1_8\n}\nkotlinOptions {\njvmTarget = '1.8'\n}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15006936,"reputation":2121,"user_id":10832700,"display_name":"ahmnouira"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1691064003,"creation_date":1691064003,"answer_id":76827863,"question_id":69079963,"body_markdown":"I fixed this issue by **using the same Java Version**:\r\n\r\n```kotlin\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_17\r\n        targetCompatibility JavaVersion.VERSION_17\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;17&#39;\r\n    }\r\n```","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>I fixed this issue by <strong>using the same Java Version</strong>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n    kotlinOptions {\n        jvmTarget = '17'\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4362578,"reputation":31,"user_id":3559184,"display_name":"Asif A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693914936,"creation_date":1693900604,"answer_id":77042705,"question_id":69079963,"body_markdown":"```none\r\ncompileOptions {\r\n        sourceCompatibility = JavaVersion.VERSION_11\r\n        targetCompatibility = JavaVersion.VERSION_11\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &quot;11&quot;\r\n    }\r\n```\r\n","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<pre class=\"lang-none prettyprint-override\"><code>compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_11\n        targetCompatibility = JavaVersion.VERSION_11\n    }\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7705615,"reputation":530,"user_id":5836687,"display_name":"Ramchandra Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694674708,"creation_date":1694674708,"answer_id":77102488,"question_id":69079963,"body_markdown":"// Import this package in gradle.kts :app file.  \r\n\r\n    import org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask\r\n\r\n \r\n// Paste this in your gradle kts file after android block\r\n\r\n    tasks.withType(type = KaptGenerateStubsTask::class) {\r\n            kotlinOptions.jvmTarget = JavaVersion.VERSION_11.toString()\r\n        \r\n        }\r\nIf you&#39;re using Java version 1.8 then replace VERSION_11 with VERSION_1_8","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>// Import this package in gradle.kts :app file.</p>\n<pre><code>import org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask\n</code></pre>\n<p>// Paste this in your gradle kts file after android block</p>\n<pre><code>tasks.withType(type = KaptGenerateStubsTask::class) {\n        kotlinOptions.jvmTarget = JavaVersion.VERSION_11.toString()\n    \n    }\n</code></pre>\n<p>If you're using Java version 1.8 then replace VERSION_11 with VERSION_1_8</p>\n"},{"tags":[],"owner":{"account_id":157752,"reputation":19944,"user_id":375929,"display_name":"Ivan Bartsov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700837114,"creation_date":1696610616,"answer_id":77246169,"question_id":69079963,"body_markdown":"So, there seems to be a weird special case for `kapt` here, that&#39;s being discussed in [KT-55947](https://youtrack.jetbrains.com/issue/KT-55947/Unable-to-set-kapt-jvm-target-version):\r\n\r\nBasically, short of using the new `jvmToolkit` API (which one might have a lot of reasons not to), the usual way to enforce a certain JVM compatibility level in an android app is as follows:\r\n\r\n\r\n```kotlin\r\nandroid {\r\n    //...\r\n    compileOptions {\r\n        sourceCompatibility = JavaVersion.VERSION_11\r\n        targetCompatibility = JavaVersion.VERSION_11\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &quot;11&quot; // Or JavaVersion.VERSION_11.toString()\r\n    }\r\n}\r\n```\r\n\r\nBut if you&#39;re using `kapt` for Kotlin `1.8+` chances are it&#39;s not picking up the `jvmTarget` config, and is still &quot;misconfigured&quot; (and your build is, strictly speaking, not 100% reproducible) so you get something like this for the `kaptGenerateStubs` step:\r\n\r\n```bash\r\n&gt; Task :XXXXX:kaptGenerateStubsReleaseKotlin\r\n&#39;compileReleaseJavaWithJavac&#39; task (current target is 11) and &#39;kaptGenerateStubsReleaseKotlin&#39; task (current target is 1.8) jvm target compatibility should be set to the same Java version.\r\n```\r\n\r\nWithout using `jvmToolkit` API, one has to explicitly configure the kapt task like so (all credits go to the knowledgeable people of the KT-55947 issue above)\r\n\r\n```kotlin\r\n// app|module-level build.gradle.kts, outside the android {} block\r\n\r\ntasks.withType(type = org.jetbrains.kotlin.gradle.tasks.KaptGenerateStubs::class) {\r\n    kotlinOptions.jvmTarget = &quot;11&quot;\r\n}\r\n```","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>So, there seems to be a weird special case for <code>kapt</code> here, that's being discussed in <a href=\"https://youtrack.jetbrains.com/issue/KT-55947/Unable-to-set-kapt-jvm-target-version\" rel=\"nofollow noreferrer\">KT-55947</a>:</p>\n<p>Basically, short of using the new <code>jvmToolkit</code> API (which one might have a lot of reasons not to), the usual way to enforce a certain JVM compatibility level in an android app is as follows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>android {\n    //...\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_11\n        targetCompatibility = JavaVersion.VERSION_11\n    }\n\n    kotlinOptions {\n        jvmTarget = &quot;11&quot; // Or JavaVersion.VERSION_11.toString()\n    }\n}\n</code></pre>\n<p>But if you're using <code>kapt</code> for Kotlin <code>1.8+</code> chances are it's not picking up the <code>jvmTarget</code> config, and is still &quot;misconfigured&quot; (and your build is, strictly speaking, not 100% reproducible) so you get something like this for the <code>kaptGenerateStubs</code> step:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>&gt; Task :XXXXX:kaptGenerateStubsReleaseKotlin\n'compileReleaseJavaWithJavac' task (current target is 11) and 'kaptGenerateStubsReleaseKotlin' task (current target is 1.8) jvm target compatibility should be set to the same Java version.\n</code></pre>\n<p>Without using <code>jvmToolkit</code> API, one has to explicitly configure the kapt task like so (all credits go to the knowledgeable people of the KT-55947 issue above)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// app|module-level build.gradle.kts, outside the android {} block\n\ntasks.withType(type = org.jetbrains.kotlin.gradle.tasks.KaptGenerateStubs::class) {\n    kotlinOptions.jvmTarget = &quot;11&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3542375,"reputation":9662,"user_id":2959120,"accept_rate":64,"display_name":"Mladen Rakonjac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698444312,"creation_date":1698444312,"answer_id":77377255,"question_id":69079963,"body_markdown":"I see that in other answers, it is suggested to use Java 17. However, it is not needed, we need to use:\r\n\r\n     compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &quot;1.8&quot;\r\n    }\r\n\r\nAlso, we should have it in each module that we have in our app.\r\n \r\nIf our module is just java/kotlin one that does not use the Android plugin, then you can add the following lines at the end of the build.gradle file:\r\n\r\n    compileJava {\r\n        sourceCompatibility = JavaVersion.VERSION_1_8\r\n        targetCompatibility = JavaVersion.VERSION_1_8\r\n    }\r\n    \r\n    compileKotlin {\r\n        kotlinOptions {\r\n            jvmTarget = &quot;1.8&quot;\r\n        }\r\n    }\r\n\r\nThis will solve the issue. \r\n","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>I see that in other answers, it is suggested to use Java 17. However, it is not needed, we need to use:</p>\n<pre><code> compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n\nkotlinOptions {\n    jvmTarget = &quot;1.8&quot;\n}\n</code></pre>\n<p>Also, we should have it in each module that we have in our app.</p>\n<p>If our module is just java/kotlin one that does not use the Android plugin, then you can add the following lines at the end of the build.gradle file:</p>\n<pre><code>compileJava {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n}\n\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n}\n</code></pre>\n<p>This will solve the issue.</p>\n"}],"owner":{"account_id":12192798,"reputation":2691,"user_id":8899640,"display_name":"jitendra kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198422,"favorite_count":0,"down_vote_count":0,"up_vote_count":243,"answer_count":23,"score":243,"last_activity_date":1700837114,"creation_date":1630959916,"question_id":69079963,"body_markdown":"Build.gradle.kts \r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            gradlePluginPortal()\r\n        }\r\n        dependencies {\r\n            classpath (&quot;com.android.tools.build:gradle:7.0.2&quot;)\r\n            classpath (&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.30&quot;)\r\n            classpath(&quot;gradle.plugin.com.github.spotbugs.snom:spotbugs-gradle-plugin:${Versions.spotbugsGradlePluginVersion}&quot;)\r\n            classpath(&quot;se.bjurr.violations:violations-gradle-plugin:${Versions.violationsVersion}&quot;)\r\n    \r\n        }\r\n    }\r\n    //android {\r\n    //    compileOptions {\r\n    //        sourceCompatibility = JavaVersion.VERSION_11\r\n    //                targetCompatibility = JavaVersion.VERSION_11\r\n    //    }\r\n    //\r\n    //    kotlinOptions {\r\n    //        jvmTarget = JavaVersion.VERSION_11.toString()\r\n    //    }\r\n    //}\r\n    plugins {\r\n        `maven-publish`\r\n        `java-gradle-plugin`\r\n        `kotlin-dsl`\r\n        id (&quot;io.gitlab.arturbosch.detekt&quot;) version (&quot;1.18.1&quot;)\r\n    }\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n    \r\n    dependencies {\r\n        compileOnly(gradleApi())\r\n        testImplementation(gradleTestKit())\r\n        testImplementation(&quot;junit:junit:${Versions.jUnitVersion}&quot;)\r\n    }\r\n    val generatedSources = tasks.register&lt;GenerateVersionsFileTask&gt;(&quot;generateSources&quot;)\r\n\r\nI get the following error:\r\n\r\n&gt; ERROR :  &#39;compileJava&#39; task (current target is 11) and &#39;compileKotlin&#39; task (current target is 1.8) jvm target compatibility should be set to the same Java version.\r\n\r\nWhen I uncomment `android {}`, I get:\r\n\r\n&gt; Error :  Script compilation errors:\r\n&gt; \r\n&gt; \r\n&gt;      Line 15: android {\r\n&gt;                ^ Unresolved reference: android","title":"How to set compileJava&#39; task ( 11) and &#39;compileKotlin&#39; task (1.8) jvm target compatibility to the same Java version in build.gradle.kts?","body":"<p>Build.gradle.kts</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n    dependencies {\n        classpath (&quot;com.android.tools.build:gradle:7.0.2&quot;)\n        classpath (&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.30&quot;)\n        classpath(&quot;gradle.plugin.com.github.spotbugs.snom:spotbugs-gradle-plugin:${Versions.spotbugsGradlePluginVersion}&quot;)\n        classpath(&quot;se.bjurr.violations:violations-gradle-plugin:${Versions.violationsVersion}&quot;)\n\n    }\n}\n//android {\n//    compileOptions {\n//        sourceCompatibility = JavaVersion.VERSION_11\n//                targetCompatibility = JavaVersion.VERSION_11\n//    }\n//\n//    kotlinOptions {\n//        jvmTarget = JavaVersion.VERSION_11.toString()\n//    }\n//}\nplugins {\n    `maven-publish`\n    `java-gradle-plugin`\n    `kotlin-dsl`\n    id (&quot;io.gitlab.arturbosch.detekt&quot;) version (&quot;1.18.1&quot;)\n}\nrepositories {\n    google()\n    mavenCentral()\n    gradlePluginPortal()\n}\n\ndependencies {\n    compileOnly(gradleApi())\n    testImplementation(gradleTestKit())\n    testImplementation(&quot;junit:junit:${Versions.jUnitVersion}&quot;)\n}\nval generatedSources = tasks.register&lt;GenerateVersionsFileTask&gt;(&quot;generateSources&quot;)\n</code></pre>\n<p>I get the following error:</p>\n<blockquote>\n<p>ERROR :  'compileJava' task (current target is 11) and 'compileKotlin' task (current target is 1.8) jvm target compatibility should be set to the same Java version.</p>\n</blockquote>\n<p>When I uncomment <code>android {}</code>, I get:</p>\n<blockquote>\n<p>Error :  Script compilation errors:</p>\n<pre><code> Line 15: android {\n           ^ Unresolved reference: android\n</code></pre>\n</blockquote>\n"},{"tags":["java","sorting","primefaces"],"comments":[{"owner":{"account_id":1073348,"reputation":571,"user_id":1072089,"accept_rate":75,"display_name":"Nikola"},"score":0,"creation_date":1701198412,"post_id":77543937,"comment_id":136744891,"body_markdown":"i don&#39;t understand why field=&quot;id()&quot; why not simply field=&quot;id&quot;?","body":"i don&#39;t understand why field=&quot;id()&quot; why not simply field=&quot;id&quot;?"},{"owner":{"account_id":1073348,"reputation":571,"user_id":1072089,"accept_rate":75,"display_name":"Nikola"},"score":0,"creation_date":1701198442,"post_id":77543937,"comment_id":136744895,"body_markdown":"the rest looks fine at first glance","body":"the rest looks fine at first glance"},{"owner":{"account_id":1869843,"reputation":2680,"user_id":1692349,"accept_rate":86,"display_name":"mwiegboldt"},"score":0,"creation_date":1701212621,"post_id":77543937,"comment_id":136747092,"body_markdown":"As I said, the message object is a Java Record, which has private attributes, but provides a getter method &quot;id()&quot;. But we noticed that the default sorting doesn&#39;t work with pojos (plain old java objects), either - so that doesn&#39;t seem to be the reason.","body":"As I said, the message object is a Java Record, which has private attributes, but provides a getter method &quot;id()&quot;. But we noticed that the default sorting doesn&#39;t work with pojos (plain old java objects), either - so that doesn&#39;t seem to be the reason."},{"owner":{"account_id":1073348,"reputation":571,"user_id":1072089,"accept_rate":75,"display_name":"Nikola"},"score":0,"creation_date":1701230986,"post_id":77543937,"comment_id":136748799,"body_markdown":"sorry i was tired while reading. do you need filteredValue? could be some bug with that. if you filter messages just for display (and not for some report/further processing with checkboxes) you can omit that in Java and XHTML. If you need filteredValue maybe just ask directly at PrimeFaces github","body":"sorry i was tired while reading. do you need filteredValue? could be some bug with that. if you filter messages just for display (and not for some report/further processing with checkboxes) you can omit that in Java and XHTML. If you need filteredValue maybe just ask directly at PrimeFaces github"},{"owner":{"account_id":1869843,"reputation":2680,"user_id":1692349,"accept_rate":86,"display_name":"mwiegboldt"},"score":0,"creation_date":1701250949,"post_id":77543937,"comment_id":136751314,"body_markdown":"No worries and thanks for the suggestion! If I omit the filteredValue then neither sorting nor filtering is working.","body":"No worries and thanks for the suggestion! If I omit the filteredValue then neither sorting nor filtering is working."}],"owner":{"account_id":1869843,"reputation":2680,"user_id":1692349,"accept_rate":86,"display_name":"mwiegboldt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700836871,"creation_date":1700836871,"question_id":77543937,"body_markdown":"We&#39;re using Primefaces to show a DataTable of records, which works fine. Even with pagination, sorting and filtering. The only thing not working properly is the default sorting, as defined by a SortMeta. It does indicate the correct column with a &#39;descending&#39; icon but the ordering is wrong. When you manually click on the column, though, it is sorted correctly.\r\n\r\nHere is some of the code:\r\n```\r\n&lt;p:dataTable var=&quot;message&quot;\r\n                         value=&quot;#{messageListBean.messages}&quot;\r\n                         paginator=&quot;true&quot;\r\n                         paginatorPosition=&quot;both&quot;\r\n                         rowsPerPageTemplate=&quot;10,50,100,{ShowAll|&#39;Alle&#39;}&quot;\r\n                         widgetVar=&quot;messagesTable&quot;\r\n                         filteredValue=&quot;#{messageListBean.filteredMessages}&quot;\r\n                         sortMode=&quot;single&quot;\r\n                         sortBy=&quot;#{messageListBean.sortBy}&quot;&gt;\r\n                &lt;p:column field=&quot;id()&quot; headerText=&quot;Id&quot;/&gt;\r\n                ...\r\n&lt;/p:dataTable&gt;\r\n```\r\nNote that the field is called with `()`, because it is of a java record, and not a pojo, which works fine for all fields. Just including this for completeness, but I don&#39;t think it causes the problem.\r\n\r\nThe (hopefully) relevant parts of the Bean:\r\n```\r\n    private List&lt;SortMeta&gt; sortBy;\r\n    public List&lt;SortMeta&gt; getSortBy()\r\n    {\r\n        return sortBy;\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init()\r\n    {\r\n        filteredMessages = getMessages();\r\n        sortBy = new ArrayList&lt;&gt;();\r\n        sortBy.add(SortMeta.builder()\r\n                           .field(&quot;id()&quot;)\r\n                           .order(SortOrder.DESCENDING)\r\n                           .build());\r\n    }\r\n```\r\n\r\nWhen I try `sortBy=&quot;#{message.id()}&quot; sortOrder=&quot;descending&quot;` in the dataTable it doesn&#39;t sort at all.","title":"Primefaces default sorting with SortMeta","body":"<p>We're using Primefaces to show a DataTable of records, which works fine. Even with pagination, sorting and filtering. The only thing not working properly is the default sorting, as defined by a SortMeta. It does indicate the correct column with a 'descending' icon but the ordering is wrong. When you manually click on the column, though, it is sorted correctly.</p>\n<p>Here is some of the code:</p>\n<pre><code>&lt;p:dataTable var=&quot;message&quot;\n                         value=&quot;#{messageListBean.messages}&quot;\n                         paginator=&quot;true&quot;\n                         paginatorPosition=&quot;both&quot;\n                         rowsPerPageTemplate=&quot;10,50,100,{ShowAll|'Alle'}&quot;\n                         widgetVar=&quot;messagesTable&quot;\n                         filteredValue=&quot;#{messageListBean.filteredMessages}&quot;\n                         sortMode=&quot;single&quot;\n                         sortBy=&quot;#{messageListBean.sortBy}&quot;&gt;\n                &lt;p:column field=&quot;id()&quot; headerText=&quot;Id&quot;/&gt;\n                ...\n&lt;/p:dataTable&gt;\n</code></pre>\n<p>Note that the field is called with <code>()</code>, because it is of a java record, and not a pojo, which works fine for all fields. Just including this for completeness, but I don't think it causes the problem.</p>\n<p>The (hopefully) relevant parts of the Bean:</p>\n<pre><code>    private List&lt;SortMeta&gt; sortBy;\n    public List&lt;SortMeta&gt; getSortBy()\n    {\n        return sortBy;\n    }\n\n    @PostConstruct\n    public void init()\n    {\n        filteredMessages = getMessages();\n        sortBy = new ArrayList&lt;&gt;();\n        sortBy.add(SortMeta.builder()\n                           .field(&quot;id()&quot;)\n                           .order(SortOrder.DESCENDING)\n                           .build());\n    }\n</code></pre>\n<p>When I try <code>sortBy=&quot;#{message.id()}&quot; sortOrder=&quot;descending&quot;</code> in the dataTable it doesn't sort at all.</p>\n"},{"tags":["java","templates","intellij-idea"],"comments":[{"owner":{"account_id":1082858,"reputation":104678,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1444877427,"post_id":33138979,"comment_id":54089082,"body_markdown":"*Probably* not.  I don&#39;t think I&#39;ve seen it any different than the name of the user that was logged in.","body":"<i>Probably</i> not.  I don&#39;t think I&#39;ve seen it any different than the name of the user that was logged in."},{"owner":{"account_id":7057943,"reputation":155,"user_id":5404462,"display_name":"hermitmaster"},"score":2,"creation_date":1444877428,"post_id":33138979,"comment_id":54089083,"body_markdown":"You can hard code it in the template.","body":"You can hard code it in the template."},{"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"score":0,"creation_date":1444877512,"post_id":33138979,"comment_id":54089100,"body_markdown":"`USER` is an environment variable set by your operating system / shell (assuming you&#39;re on a POSIX system). I think you&#39;ll run into all kinds of trouble if you set it to a “wrong” value.  But if you insist, try starting the application via `env USER=&quot;whatever&quot; intellij-idea` or how that binary is called.","body":"<code>USER</code> is an environment variable set by your operating system / shell (assuming you&#39;re on a POSIX system). I think you&#39;ll run into all kinds of trouble if you set it to a “wrong” value.  But if you insist, try starting the application via <code>env USER=&quot;whatever&quot; intellij-idea</code> or how that binary is called."}],"answers":[{"tags":[],"owner":{"account_id":5048364,"reputation":27671,"user_id":4053652,"display_name":"Stanislav"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1599446150,"creation_date":1444888149,"answer_id":33140805,"question_id":33138979,"body_markdown":"You can modify the file **idea.exe.vmoptions** or **idea64.exe.vmoptions**, which should be in the bin folder of your IDE installation. For linux version, it could be **idea.vmoptions**. You need to add there a parameter:\r\n\r\n    -Duser.name=YOURNAME\r\n\r\n### How to open the file:\r\n- `Ctrl+Shift+A` &gt; type &quot;vm options&quot; &gt; select option\r\n- Help &gt; Edit custom VM options...\r\n\r\nThis would make your `${USER}` variable inside IntelliJ Idea equals to parameter value and you don&#39;t have to change the current OS user login name. I&#39;ve just tested it in the IntelliJ Idea 14.1.3 with file and code templates.","title":"How to change ${USER} variable in IntelliJ IDEA without changing OS user name?","body":"<p>You can modify the file <strong>idea.exe.vmoptions</strong> or <strong>idea64.exe.vmoptions</strong>, which should be in the bin folder of your IDE installation. For linux version, it could be <strong>idea.vmoptions</strong>. You need to add there a parameter:</p>\n<pre><code>-Duser.name=YOURNAME\n</code></pre>\n<h3>How to open the file:</h3>\n<ul>\n<li><code>Ctrl+Shift+A</code> &gt; type &quot;vm options&quot; &gt; select option</li>\n<li>Help &gt; Edit custom VM options...</li>\n</ul>\n<p>This would make your <code>${USER}</code> variable inside IntelliJ Idea equals to parameter value and you don't have to change the current OS user login name. I've just tested it in the IntelliJ Idea 14.1.3 with file and code templates.</p>\n"},{"tags":[],"owner":{"account_id":891877,"reputation":378,"user_id":7933347,"display_name":"Alex Dioso"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1495736282,"creation_date":1495736282,"answer_id":44187288,"question_id":33138979,"body_markdown":"To change the ${USER} variable for just the current user (rather than system wide) select Help-&gt;Edit Custom VM Options and add the following to the file that opens in your editor:\r\n\r\n    -Duser.name=USER\r\n\r\nThen save the file and restart your editor.\r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/articles/206544869-Configuring-JVM-options-and-platform-properties\r\n","title":"How to change ${USER} variable in IntelliJ IDEA without changing OS user name?","body":"<p>To change the ${USER} variable for just the current user (rather than system wide) select Help->Edit Custom VM Options and add the following to the file that opens in your editor:</p>\n\n<pre><code>-Duser.name=USER\n</code></pre>\n\n<p>Then save the file and restart your editor.</p>\n\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544869-Configuring-JVM-options-and-platform-properties\" rel=\"noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/articles/206544869-Configuring-JVM-options-and-platform-properties</a></p>\n"},{"tags":[],"owner":{"account_id":330384,"reputation":1345,"user_id":654471,"display_name":"cabaji99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661786417,"creation_date":1661786417,"answer_id":73531003,"question_id":33138979,"body_markdown":"For intellij 2021 the config is in this directory on linux\r\n\r\n/home/xxxx/.config/JetBrains/IntelliJIdea2021.3/\r\n\r\n\r\nFind this file \r\n\r\n\r\nidea64.vmoptions\r\n\r\nAdd the line:\r\n\r\n-Duser.name=XXX XXXX","title":"How to change ${USER} variable in IntelliJ IDEA without changing OS user name?","body":"<p>For intellij 2021 the config is in this directory on linux</p>\n<p>/home/xxxx/.config/JetBrains/IntelliJIdea2021.3/</p>\n<p>Find this file</p>\n<p>idea64.vmoptions</p>\n<p>Add the line:</p>\n<p>-Duser.name=XXX XXXX</p>\n"},{"tags":[],"owner":{"account_id":5117876,"reputation":121,"user_id":4102415,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700836699,"creation_date":1700835565,"answer_id":77543793,"question_id":33138979,"body_markdown":"It is important to mention that (at least on Windows, 10 ENTERPRISE) the file idea64.exe.vmoptions needs each option on its own line. I have spent some time unsuccessfully trying a line like:\r\n\r\n    -Xmx8192m -Duser.name=John Doe\r\n\r\nIt must be on separate lines:\r\n\r\n    -Xmx8192m\r\n    -Duser.name=John Doe\r\n\r\nThe file location on my machine was:\r\n\r\n    c:\\Users\\xxx\\AppData\\Roaming\\JetBrains\\IntelliJIdea2023.2\\idea64.exe.vmoptions ","title":"How to change ${USER} variable in IntelliJ IDEA without changing OS user name?","body":"<p>It is important to mention that (at least on Windows, 10 ENTERPRISE) the file idea64.exe.vmoptions needs each option on its own line. I have spent some time unsuccessfully trying a line like:</p>\n<pre><code>-Xmx8192m -Duser.name=John Doe\n</code></pre>\n<p>It must be on separate lines:</p>\n<pre><code>-Xmx8192m\n-Duser.name=John Doe\n</code></pre>\n<p>The file location on my machine was:</p>\n<pre><code>c:\\Users\\xxx\\AppData\\Roaming\\JetBrains\\IntelliJIdea2023.2\\idea64.exe.vmoptions \n</code></pre>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32426,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":33140805,"answer_count":4,"score":44,"last_activity_date":1700836699,"creation_date":1444877287,"question_id":33138979,"body_markdown":"By `${USER}` Intellij idea [means][1] the login name of the current user. But what if login differ from name used as developer name? Is it possible to set `USER` to other value without changing OS login name?\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/help/creating-and-editing-file-templates.html","title":"How to change ${USER} variable in IntelliJ IDEA without changing OS user name?","body":"<p>By <code>${USER}</code> Intellij idea <a href=\"https://www.jetbrains.com/idea/help/creating-and-editing-file-templates.html\" rel=\"noreferrer\">means</a> the login name of the current user. But what if login differ from name used as developer name? Is it possible to set <code>USER</code> to other value without changing OS login name?</p>\n"},{"tags":["java","android"],"owner":{"account_id":24039658,"reputation":1,"user_id":18019504,"display_name":"Aayush Gaur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700835701,"creation_date":1700835701,"question_id":77543803,"body_markdown":"I created a small app that open &quot;www.google.com&quot; when I press a button through imlicit Intent but when I click the button and Chrome Opens the AVD stops working. I tried to open Chrome manually then also same problem occurs. Even logcat doesnt show any error. When I created an APK for the app it was working fine in my device. I also changed the avd from pixel 3a to pixel 6a but it didn&#39;t problem wasn&#39;t fixed. \r\n```\r\npackage com.example.firstapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Button btn2 = findViewById(R.id.webpage);\r\n\r\n       \r\n\r\n        btn2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                goToGoogle();\r\n            }\r\n        });\r\n    }\r\n    \r\n\r\n    public void goToGoogle() {\r\n        Uri webpage = Uri.parse(&quot;https://www.google.com&quot;);\r\n\r\n        Intent intent = new Intent(Intent.ACTION_VIEW, webpage);\r\n\r\n        startActivity(intent);\r\n    }\r\n}\r\n```\r\nThis my my MainActivity.java file for the project.\r\n\r\nI was hoping that Chrome would open &quot;www.google.com&quot;.","title":"Android Studio AVD crashes after opening Google Chrome","body":"<p>I created a small app that open &quot;www.google.com&quot; when I press a button through imlicit Intent but when I click the button and Chrome Opens the AVD stops working. I tried to open Chrome manually then also same problem occurs. Even logcat doesnt show any error. When I created an APK for the app it was working fine in my device. I also changed the avd from pixel 3a to pixel 6a but it didn't problem wasn't fixed.</p>\n<pre><code>package com.example.firstapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Button btn2 = findViewById(R.id.webpage);\n\n       \n\n        btn2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                goToGoogle();\n            }\n        });\n    }\n    \n\n    public void goToGoogle() {\n        Uri webpage = Uri.parse(&quot;https://www.google.com&quot;);\n\n        Intent intent = new Intent(Intent.ACTION_VIEW, webpage);\n\n        startActivity(intent);\n    }\n}\n</code></pre>\n<p>This my my MainActivity.java file for the project.</p>\n<p>I was hoping that Chrome would open &quot;www.google.com&quot;.</p>\n"},{"tags":["java","spring","spring-security","authorization"],"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1464378810,"post_id":36028054,"comment_id":62479023,"body_markdown":"Nothing in your configuration actually mentions either `ROLE_USER` or `ROLE_ADMIN`. I&#39;m only used to using the XML config. Where are roles supposed to be defined, so that `TesController` can actually pick them up?","body":"Nothing in your configuration actually mentions either <code>ROLE_USER</code> or <code>ROLE_ADMIN</code>. I&#39;m only used to using the XML config. Where are roles supposed to be defined, so that <code>TesController</code> can actually pick them up?"},{"owner":{"account_id":6937666,"reputation":949,"user_id":5325086,"accept_rate":75,"display_name":"lenach87"},"score":0,"creation_date":1464382436,"post_id":36028054,"comment_id":62480562,"body_markdown":"If you change your `configure` method by adding `.antMatchers(&quot;/authController&quot;).access(&quot;hasRole(&#39;ADMIN&#39;)&quot;)` the situation is the same?","body":"If you change your <code>configure</code> method by adding <code>.antMatchers(&quot;&#47;authController&quot;).access(&quot;hasRole(&#39;ADMIN&#39;)&quot;)</code> the situation is the same?"}],"answers":[{"tags":[],"owner":{"account_id":8524888,"reputation":1,"user_id":6390631,"display_name":"Xemnas90"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464381152,"creation_date":1464381152,"answer_id":37491809,"question_id":36028054,"body_markdown":"You have to define at least the RoleHierarchie with something like this or whatever the configuration may look like in your case:\r\n\r\n    @Bean\r\n    public RoleHierarchy roleHierarchy() {\r\n      RoleHierarchyImpl r = new RoleHierarchyImpl();\r\n      r.setHierarchy(&quot;ROLE_ADMIN &gt; ROLE_STAFF&quot;);\r\n      r.setHierarchy(&quot;ROLE_STAFF &gt; ROLE_USER&quot;);\r\n      r.setHierarchy(&quot;ROLE_DEVELOPER &gt; ROLE_USER&quot;);\r\n      r.setHierarchy(&quot;ROLE_USER &gt; ROLE_GUEST&quot;); \r\n      return r;\r\n    }","title":"Spring Security role-based authorisation issue","body":"<p>You have to define at least the RoleHierarchie with something like this or whatever the configuration may look like in your case:</p>\n\n<pre><code>@Bean\npublic RoleHierarchy roleHierarchy() {\n  RoleHierarchyImpl r = new RoleHierarchyImpl();\n  r.setHierarchy(\"ROLE_ADMIN &gt; ROLE_STAFF\");\n  r.setHierarchy(\"ROLE_STAFF &gt; ROLE_USER\");\n  r.setHierarchy(\"ROLE_DEVELOPER &gt; ROLE_USER\");\n  r.setHierarchy(\"ROLE_USER &gt; ROLE_GUEST\"); \n  return r;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700835541,"creation_date":1700835541,"answer_id":77543789,"question_id":36028054,"body_markdown":"When you use @Secured, no need to add prefix ROLE_ just use this\r\n\r\n    @RestController \r\n    public class TesController {\r\n        @RequestMapping(value=&quot;/authController&quot;)\r\n        @Secured(&quot;ADMIN&quot;)\r\n        String test(){ return &quot;I am secure for ROLE_ADMIN&quot;}\r\n    }","title":"Spring Security role-based authorisation issue","body":"<p>When you use @Secured, no need to add prefix ROLE_ just use this</p>\n<pre><code>@RestController \npublic class TesController {\n    @RequestMapping(value=&quot;/authController&quot;)\n    @Secured(&quot;ADMIN&quot;)\n    String test(){ return &quot;I am secure for ROLE_ADMIN&quot;}\n}\n</code></pre>\n"}],"owner":{"account_id":2274124,"reputation":400,"user_id":2000845,"accept_rate":50,"display_name":"R. S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700835541,"creation_date":1458108928,"question_id":36028054,"body_markdown":"I have implemented spring security in my application.\r\nIt is stateless-token based authentication and username/password based authentication.\r\n\r\nI have configured user authentication, but the role-based authorisation is not working.\r\n\r\nA user who has `ROLE_USER` is able to access the controller method which has `ROLE_ADMIN`.\r\n\r\nHere is the configuration.\r\n       \r\n    @EnableWebSecurity \r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n    @Configuration \r\n    public class SpringSecurityConfiguration extends WebSecurityConfigurerAdapter{\r\n        \t\r\n        @Bean\r\n        AuthenticationProvider passwordBasedAuthenticationProvider() {\r\n        \treturn new PasswordBasedAuthenticationProvider();\r\n        }\r\n        \t\r\n        @Bean\r\n        AuthenticationProvider tokenBasedAuthenticationProvider(){\r\n        \treturn new TokenBasedAuthenticationProvider();\r\n        }\t\r\n        \t\r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {   \t \r\n          \t web.ignoring().antMatchers(&quot;/api/v1/public/**&quot;);\r\n        }\r\n\r\n        @Bean\r\n    \t@Override\r\n    \tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\treturn super.authenticationManagerBean();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n        \t http.\r\n             csrf().disable().\r\n             sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).\r\n             and().\r\n             authorizeRequests().\r\n             anyRequest().authenticated().\r\n             and().\r\n             anonymous().disable();   \r\n        \t http.addFilterBefore(new AuthenticationFilter(authenticationManager()), BasicAuthenticationFilter.class);\r\n        }\r\n    \t\r\n    \t@Autowired\r\n    \tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.authenticationProvider(passwordBasedAuthenticationProvider()).\r\n    \t        authenticationProvider(tokenBasedAuthenticationProvider());\r\n    \t}\r\n    }\r\n\r\n----\r\n**DOMAINS**\r\n\r\n    @Entity\r\n    public class Role implements GrantedAuthority  {\r\n        private long id;\t\r\n        private String authority;\r\n    }\r\n\r\n    public class User implements UserDetails{\r\n         private String username;\r\n         private String passwordHash;\r\n    \t private Role role;\r\n    }\r\n\r\n    @RestController \r\n    public class TesController {\r\n    \t@RequestMapping(value=&quot;/authController&quot;)\r\n    \t@Secured(&quot;ROLE_ADMIN&quot;)\r\n    \tString test(){ return &quot;I am secure for ROLE_ADMIN&quot;}\r\n    }\r\n\r\n----\r\n\r\nWhat is incorrect about this configuration?\r\n\r\n","title":"Spring Security role-based authorisation issue","body":"<p>I have implemented spring security in my application.\nIt is stateless-token based authentication and username/password based authentication.</p>\n\n<p>I have configured user authentication, but the role-based authorisation is not working.</p>\n\n<p>A user who has <code>ROLE_USER</code> is able to access the controller method which has <code>ROLE_ADMIN</code>.</p>\n\n<p>Here is the configuration.</p>\n\n<pre><code>@EnableWebSecurity \n@EnableGlobalMethodSecurity(securedEnabled = true)\n@Configuration \npublic class SpringSecurityConfiguration extends WebSecurityConfigurerAdapter{\n\n    @Bean\n    AuthenticationProvider passwordBasedAuthenticationProvider() {\n        return new PasswordBasedAuthenticationProvider();\n    }\n\n    @Bean\n    AuthenticationProvider tokenBasedAuthenticationProvider(){\n        return new TokenBasedAuthenticationProvider();\n    }   \n\n    @Override\n    public void configure(WebSecurity web) throws Exception {        \n         web.ignoring().antMatchers(\"/api/v1/public/**\");\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n         http.\n         csrf().disable().\n         sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).\n         and().\n         authorizeRequests().\n         anyRequest().authenticated().\n         and().\n         anonymous().disable();   \n         http.addFilterBefore(new AuthenticationFilter(authenticationManager()), BasicAuthenticationFilter.class);\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(passwordBasedAuthenticationProvider()).\n            authenticationProvider(tokenBasedAuthenticationProvider());\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>DOMAINS</strong></p>\n\n<pre><code>@Entity\npublic class Role implements GrantedAuthority  {\n    private long id;    \n    private String authority;\n}\n\npublic class User implements UserDetails{\n     private String username;\n     private String passwordHash;\n     private Role role;\n}\n\n@RestController \npublic class TesController {\n    @RequestMapping(value=\"/authController\")\n    @Secured(\"ROLE_ADMIN\")\n    String test(){ return \"I am secure for ROLE_ADMIN\"}\n}\n</code></pre>\n\n<hr>\n\n<p>What is incorrect about this configuration?</p>\n"},{"tags":["java","spring","spring-boot","eclipse"],"comments":[{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":0,"creation_date":1672055561,"post_id":74845574,"comment_id":132213435,"body_markdown":"Raphael, is your question answered?","body":"Raphael, is your question answered?"}],"answers":[{"tags":[],"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1671541849,"creation_date":1671541849,"answer_id":74863631,"question_id":74845574,"body_markdown":"This is a known bug and [there is a Spring Issue][1] for it. But it is not harmful and you do not need to take any action unless you just don&#39;t want warnings in your logs.\r\n\r\nFrom the issue:\r\n\r\n&quot;It looks like the core bean factory is unnecessarily retrieving constructor parameter names during the constructor autowiring algorithm, despite no constructor argument names having been specified. That&#39;s a bug we&#39;re going to fix in [Spring Framework] 6.0.3.&quot;\r\n\r\nand\r\n\r\n&quot;For the time being, you may simply disable the warn log category for org.springframework.core.LocalVariableTableParameterNameDiscoverer. There is unnecessary reading of class files in the meantime but otherwise no harm for your application.&quot;\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/29612","title":"Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection","body":"<p>This is a known bug and <a href=\"https://github.com/spring-projects/spring-framework/issues/29612\" rel=\"noreferrer\">there is a Spring Issue</a> for it. But it is not harmful and you do not need to take any action unless you just don't want warnings in your logs.</p>\n<p>From the issue:</p>\n<p>&quot;It looks like the core bean factory is unnecessarily retrieving constructor parameter names during the constructor autowiring algorithm, despite no constructor argument names having been specified. That's a bug we're going to fix in [Spring Framework] 6.0.3.&quot;</p>\n<p>and</p>\n<p>&quot;For the time being, you may simply disable the warn log category for org.springframework.core.LocalVariableTableParameterNameDiscoverer. There is unnecessary reading of class files in the meantime but otherwise no harm for your application.&quot;</p>\n"},{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1689436816,"creation_date":1689436393,"answer_id":76694586,"question_id":74845574,"body_markdown":"I&#39;m using **spring-context** version **6.0.11** and the problem still exists.\r\n\r\nSHORT ANSWER:\r\n-------------\r\n\r\nAdd this build plugin to the *pom.xml* file of your project:\r\n   \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nIf you already have this plugin in your *pom.xml* file then just add configuration part to the existing Maven compiler plugin:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-parameters&lt;/arg&gt;\r\n        &lt;/compilerArgs&gt;\r\n    &lt;/configuration&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nMORE DETAILED ANSWER:\r\n-------------\r\n[Apache Maven Compiler Plugin][1] is used to compile the sources of your Maven project.\r\n\r\nWhen you specify this plugin in your project you can add configuration to it:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            ...\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nFor example, if you want to use the Java 8 language features (`-source 1.8`) and also want the compiled classes to be compatible with JVM 1.8 (`-target 1.8`), you can either add the two following configuration:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;1.8&lt;/source&gt;\r\n        &lt;target&gt;1.8&lt;/target&gt;\r\n    &lt;/configuration&gt;\r\n\r\nAnother configuration we can specify is passing arguments to the Java compiler (**javac**):\r\n\r\n    &lt;configuration&gt;\r\n        &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-parameters&lt;/arg&gt;\r\n        &lt;/compilerArgs&gt;\r\n    &lt;/configuration&gt;\r\n\r\nWe passed `-parameters` as an additional argument to the compiler.\r\nAnd of course both preceding configurations can be used together.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin","title":"Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection","body":"<p>I'm using <strong>spring-context</strong> version <strong>6.0.11</strong> and the problem still exists.</p>\n<h2>SHORT ANSWER:</h2>\n<p>Add this build plugin to the <em>pom.xml</em> file of your project:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;-parameters&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>If you already have this plugin in your <em>pom.xml</em> file then just add configuration part to the existing Maven compiler plugin:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;compilerArgs&gt;\n        &lt;arg&gt;-parameters&lt;/arg&gt;\n    &lt;/compilerArgs&gt;\n&lt;/configuration&gt;\n</code></pre>\n<hr />\n<h2>MORE DETAILED ANSWER:</h2>\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin\" rel=\"nofollow noreferrer\">Apache Maven Compiler Plugin</a> is used to compile the sources of your Maven project.</p>\n<p>When you specify this plugin in your project you can add configuration to it:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        ...\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>For example, if you want to use the Java 8 language features (<code>-source 1.8</code>) and also want the compiled classes to be compatible with JVM 1.8 (<code>-target 1.8</code>), you can either add the two following configuration:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;source&gt;1.8&lt;/source&gt;\n    &lt;target&gt;1.8&lt;/target&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Another configuration we can specify is passing arguments to the Java compiler (<strong>javac</strong>):</p>\n<pre><code>&lt;configuration&gt;\n    &lt;compilerArgs&gt;\n        &lt;arg&gt;-parameters&lt;/arg&gt;\n    &lt;/compilerArgs&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>We passed <code>-parameters</code> as an additional argument to the compiler.\nAnd of course both preceding configurations can be used together.</p>\n"},{"tags":[],"owner":{"account_id":10342946,"reputation":70,"user_id":7628725,"display_name":"Abhi.P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700835095,"creation_date":1700835095,"answer_id":77543749,"question_id":74845574,"body_markdown":"In my particular case, I am using Springboot 3.0.12 and was getting this warning from a controller class, where we have an endpoint that looks like below.\r\n\r\n      @GetMapping(&quot;employees/{id}&quot;)\r\n        public Employee getEmployeeById(@PathVariable String id) {\r\n            //... some logic\r\n        }\r\n\r\nAfter reading the warning log a few times, I understood that spring is trying to resolve the parameter name mapping and, in that process, it is using a deprecated &quot;-debug&quot; flag which is being logged as a warning.\r\n\r\nSo, I had changed the method signature i.e. I myself explicitly provided the mapping like below which fixed the issue in my case:\r\n\r\n      \r\n\r\n      @GetMapping(&quot;employees/{id}&quot;)\r\n            public Employee getEmployeeById(@PathVariable(&quot;id&quot;) String id) {\r\n                //... some logic\r\n            }\r\n\r\nI thought this might help someone who has a similar problem so posted it.\r\n\r\nThanks.\r\n\r\n","title":"Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection","body":"<p>In my particular case, I am using Springboot 3.0.12 and was getting this warning from a controller class, where we have an endpoint that looks like below.</p>\n<pre><code>  @GetMapping(&quot;employees/{id}&quot;)\n    public Employee getEmployeeById(@PathVariable String id) {\n        //... some logic\n    }\n</code></pre>\n<p>After reading the warning log a few times, I understood that spring is trying to resolve the parameter name mapping and, in that process, it is using a deprecated &quot;-debug&quot; flag which is being logged as a warning.</p>\n<p>So, I had changed the method signature i.e. I myself explicitly provided the mapping like below which fixed the issue in my case:</p>\n<pre><code>  @GetMapping(&quot;employees/{id}&quot;)\n        public Employee getEmployeeById(@PathVariable(&quot;id&quot;) String id) {\n            //... some logic\n        }\n</code></pre>\n<p>I thought this might help someone who has a similar problem so posted it.</p>\n<p>Thanks.</p>\n"}],"owner":{"account_id":4597208,"reputation":48189,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20526,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1700835095,"creation_date":1671412983,"question_id":74845574,"body_markdown":"I am using Spring Boot 3.0.0, Eclipse IDE 2022-12, Java language level/JDK 19. \r\n\r\nFile `pom.xml`\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring_jwt&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;spring-boot-security-jwt&lt;/name&gt;\r\n    &lt;description&gt;spring_jwt&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-hibernate5-jakarta&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Jasper report start. --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-functions&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-metadata&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-chart-themes&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-annotation-processors&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-castor&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liberation-fonts&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-chart-customizers&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-custom-visualization&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Jasper report end. --&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.5.13.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n&lt;!--            &lt;optional&gt;true&lt;/optional&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;9.1.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-report&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-web&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-base&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-viewer&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-samples&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-webviewer&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-lib&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-webdesigner&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;reports&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\r\n&lt;!--            &lt;type&gt;pom&lt;/type&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n&lt;!--            &lt;plugin&gt;--&gt;\r\n&lt;!--                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;--&gt;\r\n&lt;!--                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;--&gt;\r\n&lt;!--                &lt;version&gt;9.1.3&lt;/version&gt;--&gt;\r\n&lt;!--            &lt;/plugin&gt;--&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;xpand&lt;/id&gt;\r\n            &lt;name&gt;xpand&lt;/name&gt;\r\n            &lt;url&gt;https://maven.xpand-it.com/artifactory/releases/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;maven_central&lt;/id&gt;\r\n            &lt;name&gt;maven_central&lt;/name&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI have many controllers like these: File `UnitController.java`\r\n\r\n\r\n```java\r\npackage com.example.controller;\r\n\r\nimport com.example.BLModel.Unit;\r\nimport com.example.BLModel.UnitId;\r\nimport com.example.service.UnitService;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PatchMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RestController\r\n@RequestMapping(&quot;/unit&quot;)\r\npublic class UnitController {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(UnitController.class);\r\n\r\n    @Autowired\r\n    UnitService unitService;\r\n\r\n    /**\r\n     * Get all units belong to a tenant_id .&lt;br/&gt;\r\n     * GET http://localhost:80/unit/1/all .\r\n     *\r\n     * @param tenant_id\r\n     * @return\r\n     */\r\n    @GetMapping(value = &quot;/{tenant_id}/all&quot;)\r\n    public ResponseEntity&lt;List&lt;Unit&gt;&gt; getAllUnits(@PathVariable(&quot;tenant_id&quot;) Short tenant_id) {\r\n        LOGGER.info(&quot;Call method getAllUnits() .&quot;);\r\n        return new ResponseEntity&lt;&gt;(unitService.getAll(tenant_id), HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Get a unit by its composite primary key.&lt;br/&gt;\r\n     * GET http://localhost:80/unit/1/42 .\r\n     *\r\n     * @param tenant_id\r\n     * @param id\r\n     * @return\r\n     */\r\n    @GetMapping(value = &quot;/{tenant_id}/{id}&quot;)\r\n    public ResponseEntity&lt;Unit&gt; viewDetailUnit(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\r\n                                               @PathVariable(&quot;id&quot;) Short id) {\r\n        LOGGER.info(&quot;Call method viewDetailUnit() .&quot;);\r\n        UnitId unitId = new UnitId();\r\n        unitId.setId(id);\r\n        unitId.setTenantId(tenant_id);\r\n        Optional&lt;Unit&gt; unitOptional = unitService.getById(unitId);\r\n        Unit result = null;\r\n        if (unitOptional.isPresent()) {\r\n            result = unitOptional.get();\r\n        }\r\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Add a new unit.&lt;br/&gt;\r\n     * POST http://localhost:80/unit\r\n     *\r\n     * @param input\r\n     * @return\r\n     */\r\n    @PostMapping()\r\n    public ResponseEntity&lt;Unit&gt; addUnit(@RequestBody Unit input) {\r\n        LOGGER.info(&quot;Call method addUnit() .&quot;);\r\n        Unit unit = new Unit();\r\n        unit.setUnitName(input.getUnitName());\r\n        unit.setDescription(input.getDescription());\r\n        unit.setActiveStatus(input.getActiveStatus());\r\n        Unit unitResult = unitService.add(unit);\r\n        return new ResponseEntity&lt;&gt;(unitResult, HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Edit a unit.&lt;br/&gt;\r\n     * PATCH http://localhost:80/unit/1/42 .\r\n     *\r\n     * @param tenant_id\r\n     * @param id\r\n     * @param input\r\n     * @return\r\n     */\r\n    @PatchMapping(value = &quot;/{tenant_id}/{id}&quot;)\r\n    public ResponseEntity&lt;Unit&gt; editUnit(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\r\n                                         @PathVariable(&quot;id&quot;) Short id,\r\n                                         @RequestBody Unit input) {\r\n        LOGGER.info(&quot;Call method editUnit() .&quot;);\r\n        UnitId unitId = new UnitId();\r\n        unitId.setTenantId(tenant_id);\r\n        unitId.setId(id);\r\n        Unit unit = (unitService.getById(unitId)).get();\r\n        unit.setActiveStatus(input.getActiveStatus());\r\n        unit.setDescription(input.getDescription());\r\n        unit.setUnitName(input.getUnitName());\r\n        Unit unitResult = unitService.add(unit);\r\n        return new ResponseEntity&lt;&gt;(unitResult, HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Delete a specific unit.&lt;br/&gt;\r\n     * DELETE http://localhost:80/unit/1/42 .\r\n     *\r\n     * @param tenant_id\r\n     * @param id\r\n     * @return\r\n     */\r\n    @DeleteMapping(value = &quot;/{tenant_id}/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; deleteUnit(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\r\n                                             @PathVariable(&quot;id&quot;) Short id) {\r\n        UnitId unitId = new UnitId();\r\n        unitId.setId(id);\r\n        unitId.setTenantId(tenant_id);\r\n        unitService.delete(unitId);\r\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.OK);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nFile `TimesheetSignController.java`\r\n\r\n```java\r\npackage com.example.controller;\r\n\r\nimport com.example.BLModel.TimesheetSign;\r\nimport com.example.BLModel.TimesheetSignId;\r\nimport com.example.service.TimesheetSignService;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PatchMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RestController\r\n@RequestMapping(&quot;/timesheet_sign&quot;)\r\npublic class TimesheetSignController {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(TimesheetSignController.class);\r\n\r\n    @Autowired\r\n    TimesheetSignService timesheetSignService;\r\n\r\n    /**\r\n     * Get all time_sheet_sign by its tenant_id .&lt;br/&gt;\r\n     * GET http://localhost:80/time_sheet_sign/1/all .\r\n     *\r\n     * @param tenant_id\r\n     * @return\r\n     */\r\n    @GetMapping(value = &quot;/{tenant_id}&quot;)\r\n    public ResponseEntity&lt;List&lt;TimesheetSign&gt;&gt; getAllAccounts(@PathVariable(&quot;tenant_id&quot;) Short tenant_id) {\r\n        LOGGER.info(&quot;Call method getAllAccounts() .&quot;);\r\n        return new ResponseEntity&lt;&gt;(timesheetSignService.getAll(tenant_id), HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Get a specific time_sheet_sign item by its composite primary key.\r\n     * GET http://localhost:80/1/42\r\n     *\r\n     * @param tenant_id\r\n     * @param id\r\n     * @return\r\n     */\r\n    @GetMapping(value = &quot;/{tenant_id}/{id}&quot;)\r\n    public ResponseEntity&lt;TimesheetSign&gt; viewDetailAccount(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\r\n                                                           @PathVariable(&quot;id&quot;) Short id) {\r\n        LOGGER.info(&quot;Call method viewDetailAccount() .&quot;);\r\n        TimesheetSignId timesheetSignId = new TimesheetSignId();\r\n        timesheetSignId.setId(id);\r\n        timesheetSignId.setTenantId(tenant_id);\r\n        Optional&lt;TimesheetSign&gt; timesheetSignOptional = timesheetSignService.getById(timesheetSignId);\r\n        TimesheetSign timesheetSignResult = null;\r\n        if (timesheetSignOptional.isPresent()) {\r\n            timesheetSignResult = timesheetSignOptional.get();\r\n        }\r\n        return new ResponseEntity&lt;&gt;(timesheetSignResult, HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Create a new time_sheet_sign .&lt;br/&gt;\r\n     * POST http://localhost:80/time_sheet_sign\r\n     *\r\n     * @param input\r\n     * @return\r\n     */\r\n    @PostMapping()\r\n    public ResponseEntity&lt;TimesheetSign&gt; addAccount(@RequestBody TimesheetSign input) {\r\n        LOGGER.info(&quot;Call method addAccount() .&quot;);\r\n        TimesheetSign timesheetSign = new TimesheetSign();\r\n        timesheetSign.setTimesheetSignCode(input.getTimesheetSignCode());\r\n        timesheetSign.setActiveStatus(input.getActiveStatus());\r\n        timesheetSign.setIsDefault(input.getIsDefault());\r\n        timesheetSign.setIsSystem(input.getIsSystem());\r\n        timesheetSign.setIsHalfDay(input.getIsHalfDay());\r\n        TimesheetSign timesheetSignResult = timesheetSignService.add(timesheetSign);\r\n        return new ResponseEntity&lt;&gt;(timesheetSignResult, HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Edit time_sheet_sign by its composite primary key.\r\n     * PATCH http://localhost:80/time_sheet_sign/1/42 .\r\n     *\r\n     * @param tenant_id\r\n     * @param id\r\n     * @param input\r\n     * @return\r\n     */\r\n    @PatchMapping(value = &quot;/{tenant_id}/{id}&quot;)\r\n    public ResponseEntity&lt;TimesheetSign&gt; editAccount(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\r\n                                                     @PathVariable(&quot;id&quot;) Short id,\r\n                                                     @RequestBody TimesheetSign input) {\r\n        LOGGER.info(&quot;Call method editAccount() .&quot;);\r\n        TimesheetSignId timesheetSignId = new TimesheetSignId();\r\n        timesheetSignId.setTenantId(tenant_id);\r\n        timesheetSignId.setId(id);\r\n        TimesheetSign timesheetSign = (timesheetSignService.getById(timesheetSignId)).get();\r\n        timesheetSign.setTimesheetSignName(input.getTimesheetSignName());\r\n        timesheetSign.setIsHalfDay(input.getIsHalfDay());\r\n        timesheetSign.setIsSystem(input.getIsSystem());\r\n        timesheetSign.setTimesheetSignCode(input.getTimesheetSignCode());\r\n        timesheetSign.setSalaryRate(input.getSalaryRate());\r\n        TimesheetSign timesheetSignResult = timesheetSignService.add(timesheetSign);\r\n        return new ResponseEntity&lt;&gt;(timesheetSignResult, HttpStatus.OK);\r\n    }\r\n\r\n    /**\r\n     * Delete time_sheet_sign by its composite primary key.\r\n     * DELETE http://localhost:80/time_sheet_sign/1/42 .\r\n     *\r\n     * @param tenant_id\r\n     * @param id\r\n     * @return\r\n     */\r\n    @DeleteMapping(value = &quot;/{tenant_id}/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; deleteAccount(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\r\n                                                @PathVariable(&quot;id&quot;) Short id) {\r\n        TimesheetSignId timesheetSignId = new TimesheetSignId();\r\n        timesheetSignId.setId(id);\r\n        timesheetSignId.setTenantId(tenant_id);\r\n        timesheetSignService.delete(timesheetSignId);\r\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.OK);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n[2m2022-12-19T08:18:19.517+07:00[0;39m [32m INFO[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet &#39;dispatcherServlet&#39;\r\n[2m2022-12-19T08:18:19.520+07:00[0;39m [32m INFO[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 3 ms\r\n[2m2022-12-19T08:18:21.177+07:00[0;39m [33m WARN[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-8][0;39m [36mocalVariableTableParameterNameDiscoverer[0;39m [2m:[0;39m Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection: com.example.controller.UnitController\r\n[2m2022-12-19T08:18:21.313+07:00[0;39m [33m WARN[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-8][0;39m [36mocalVariableTableParameterNameDiscoverer[0;39m [2m:[0;39m Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection: com.example.controller.TimesheetSignController\r\n[2m2022-12-19T08:18:21.331+07:00[0;39m [33m WARN[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-8][0;39m [36mocalVariableTableParameterNameDiscoverer[0;39m [2m:[0;39m Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection: com.example.controller.TaxAgentInfoController\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nFull log https://gist.github.com/donhuvy/45b15558e76164e83bdbc0117c9cf64f\r\n\r\nHow to avoid/resolve this warning?\r\nP/S: Comment about not dupplicated question. In this question and solution https://stackoverflow.com/a/74601911/3728901 , use `maven-compiler-plugin` , not `spring-boot-maven-plugin` .\r\n\r\n  [1]: https://i.stack.imgur.com/0YxVY.png","title":"Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection","body":"<p>I am using Spring Boot 3.0.0, Eclipse IDE 2022-12, Java language level/JDK 19.</p>\n<p>File <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring_jwt&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-boot-security-jwt&lt;/name&gt;\n    &lt;description&gt;spring_jwt&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-hibernate5-jakarta&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Jasper report start. --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-functions&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-metadata&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-chart-themes&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-annotation-processors&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-castor&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;liberation-fonts&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-chart-customizers&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-custom-visualization&lt;/artifactId&gt;\n            &lt;version&gt;6.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Jasper report end. --&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;1.9.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n&lt;!--            &lt;optional&gt;true&lt;/optional&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;9.1.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-report&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-web&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-base&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-viewer&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-samples&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-webviewer&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-lib&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;stimulsoft-reports-webdesigner&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.stimulsoft&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;reports&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2022.3.3&lt;/version&gt;--&gt;\n&lt;!--            &lt;type&gt;pom&lt;/type&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n&lt;!--            &lt;plugin&gt;--&gt;\n&lt;!--                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;--&gt;\n&lt;!--                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;--&gt;\n&lt;!--                &lt;version&gt;9.1.3&lt;/version&gt;--&gt;\n&lt;!--            &lt;/plugin&gt;--&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;xpand&lt;/id&gt;\n            &lt;name&gt;xpand&lt;/name&gt;\n            &lt;url&gt;https://maven.xpand-it.com/artifactory/releases/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;maven_central&lt;/id&gt;\n            &lt;name&gt;maven_central&lt;/name&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have many controllers like these: File <code>UnitController.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.controller;\n\nimport com.example.BLModel.Unit;\nimport com.example.BLModel.UnitId;\nimport com.example.service.UnitService;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PatchMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/unit&quot;)\npublic class UnitController {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(UnitController.class);\n\n    @Autowired\n    UnitService unitService;\n\n    /**\n     * Get all units belong to a tenant_id .&lt;br/&gt;\n     * GET http://localhost:80/unit/1/all .\n     *\n     * @param tenant_id\n     * @return\n     */\n    @GetMapping(value = &quot;/{tenant_id}/all&quot;)\n    public ResponseEntity&lt;List&lt;Unit&gt;&gt; getAllUnits(@PathVariable(&quot;tenant_id&quot;) Short tenant_id) {\n        LOGGER.info(&quot;Call method getAllUnits() .&quot;);\n        return new ResponseEntity&lt;&gt;(unitService.getAll(tenant_id), HttpStatus.OK);\n    }\n\n    /**\n     * Get a unit by its composite primary key.&lt;br/&gt;\n     * GET http://localhost:80/unit/1/42 .\n     *\n     * @param tenant_id\n     * @param id\n     * @return\n     */\n    @GetMapping(value = &quot;/{tenant_id}/{id}&quot;)\n    public ResponseEntity&lt;Unit&gt; viewDetailUnit(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\n                                               @PathVariable(&quot;id&quot;) Short id) {\n        LOGGER.info(&quot;Call method viewDetailUnit() .&quot;);\n        UnitId unitId = new UnitId();\n        unitId.setId(id);\n        unitId.setTenantId(tenant_id);\n        Optional&lt;Unit&gt; unitOptional = unitService.getById(unitId);\n        Unit result = null;\n        if (unitOptional.isPresent()) {\n            result = unitOptional.get();\n        }\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\n    }\n\n    /**\n     * Add a new unit.&lt;br/&gt;\n     * POST http://localhost:80/unit\n     *\n     * @param input\n     * @return\n     */\n    @PostMapping()\n    public ResponseEntity&lt;Unit&gt; addUnit(@RequestBody Unit input) {\n        LOGGER.info(&quot;Call method addUnit() .&quot;);\n        Unit unit = new Unit();\n        unit.setUnitName(input.getUnitName());\n        unit.setDescription(input.getDescription());\n        unit.setActiveStatus(input.getActiveStatus());\n        Unit unitResult = unitService.add(unit);\n        return new ResponseEntity&lt;&gt;(unitResult, HttpStatus.OK);\n    }\n\n    /**\n     * Edit a unit.&lt;br/&gt;\n     * PATCH http://localhost:80/unit/1/42 .\n     *\n     * @param tenant_id\n     * @param id\n     * @param input\n     * @return\n     */\n    @PatchMapping(value = &quot;/{tenant_id}/{id}&quot;)\n    public ResponseEntity&lt;Unit&gt; editUnit(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\n                                         @PathVariable(&quot;id&quot;) Short id,\n                                         @RequestBody Unit input) {\n        LOGGER.info(&quot;Call method editUnit() .&quot;);\n        UnitId unitId = new UnitId();\n        unitId.setTenantId(tenant_id);\n        unitId.setId(id);\n        Unit unit = (unitService.getById(unitId)).get();\n        unit.setActiveStatus(input.getActiveStatus());\n        unit.setDescription(input.getDescription());\n        unit.setUnitName(input.getUnitName());\n        Unit unitResult = unitService.add(unit);\n        return new ResponseEntity&lt;&gt;(unitResult, HttpStatus.OK);\n    }\n\n    /**\n     * Delete a specific unit.&lt;br/&gt;\n     * DELETE http://localhost:80/unit/1/42 .\n     *\n     * @param tenant_id\n     * @param id\n     * @return\n     */\n    @DeleteMapping(value = &quot;/{tenant_id}/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; deleteUnit(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\n                                             @PathVariable(&quot;id&quot;) Short id) {\n        UnitId unitId = new UnitId();\n        unitId.setId(id);\n        unitId.setTenantId(tenant_id);\n        unitService.delete(unitId);\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.OK);\n    }\n\n}\n\n</code></pre>\n<p>File <code>TimesheetSignController.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.controller;\n\nimport com.example.BLModel.TimesheetSign;\nimport com.example.BLModel.TimesheetSignId;\nimport com.example.service.TimesheetSignService;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PatchMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/timesheet_sign&quot;)\npublic class TimesheetSignController {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(TimesheetSignController.class);\n\n    @Autowired\n    TimesheetSignService timesheetSignService;\n\n    /**\n     * Get all time_sheet_sign by its tenant_id .&lt;br/&gt;\n     * GET http://localhost:80/time_sheet_sign/1/all .\n     *\n     * @param tenant_id\n     * @return\n     */\n    @GetMapping(value = &quot;/{tenant_id}&quot;)\n    public ResponseEntity&lt;List&lt;TimesheetSign&gt;&gt; getAllAccounts(@PathVariable(&quot;tenant_id&quot;) Short tenant_id) {\n        LOGGER.info(&quot;Call method getAllAccounts() .&quot;);\n        return new ResponseEntity&lt;&gt;(timesheetSignService.getAll(tenant_id), HttpStatus.OK);\n    }\n\n    /**\n     * Get a specific time_sheet_sign item by its composite primary key.\n     * GET http://localhost:80/1/42\n     *\n     * @param tenant_id\n     * @param id\n     * @return\n     */\n    @GetMapping(value = &quot;/{tenant_id}/{id}&quot;)\n    public ResponseEntity&lt;TimesheetSign&gt; viewDetailAccount(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\n                                                           @PathVariable(&quot;id&quot;) Short id) {\n        LOGGER.info(&quot;Call method viewDetailAccount() .&quot;);\n        TimesheetSignId timesheetSignId = new TimesheetSignId();\n        timesheetSignId.setId(id);\n        timesheetSignId.setTenantId(tenant_id);\n        Optional&lt;TimesheetSign&gt; timesheetSignOptional = timesheetSignService.getById(timesheetSignId);\n        TimesheetSign timesheetSignResult = null;\n        if (timesheetSignOptional.isPresent()) {\n            timesheetSignResult = timesheetSignOptional.get();\n        }\n        return new ResponseEntity&lt;&gt;(timesheetSignResult, HttpStatus.OK);\n    }\n\n    /**\n     * Create a new time_sheet_sign .&lt;br/&gt;\n     * POST http://localhost:80/time_sheet_sign\n     *\n     * @param input\n     * @return\n     */\n    @PostMapping()\n    public ResponseEntity&lt;TimesheetSign&gt; addAccount(@RequestBody TimesheetSign input) {\n        LOGGER.info(&quot;Call method addAccount() .&quot;);\n        TimesheetSign timesheetSign = new TimesheetSign();\n        timesheetSign.setTimesheetSignCode(input.getTimesheetSignCode());\n        timesheetSign.setActiveStatus(input.getActiveStatus());\n        timesheetSign.setIsDefault(input.getIsDefault());\n        timesheetSign.setIsSystem(input.getIsSystem());\n        timesheetSign.setIsHalfDay(input.getIsHalfDay());\n        TimesheetSign timesheetSignResult = timesheetSignService.add(timesheetSign);\n        return new ResponseEntity&lt;&gt;(timesheetSignResult, HttpStatus.OK);\n    }\n\n    /**\n     * Edit time_sheet_sign by its composite primary key.\n     * PATCH http://localhost:80/time_sheet_sign/1/42 .\n     *\n     * @param tenant_id\n     * @param id\n     * @param input\n     * @return\n     */\n    @PatchMapping(value = &quot;/{tenant_id}/{id}&quot;)\n    public ResponseEntity&lt;TimesheetSign&gt; editAccount(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\n                                                     @PathVariable(&quot;id&quot;) Short id,\n                                                     @RequestBody TimesheetSign input) {\n        LOGGER.info(&quot;Call method editAccount() .&quot;);\n        TimesheetSignId timesheetSignId = new TimesheetSignId();\n        timesheetSignId.setTenantId(tenant_id);\n        timesheetSignId.setId(id);\n        TimesheetSign timesheetSign = (timesheetSignService.getById(timesheetSignId)).get();\n        timesheetSign.setTimesheetSignName(input.getTimesheetSignName());\n        timesheetSign.setIsHalfDay(input.getIsHalfDay());\n        timesheetSign.setIsSystem(input.getIsSystem());\n        timesheetSign.setTimesheetSignCode(input.getTimesheetSignCode());\n        timesheetSign.setSalaryRate(input.getSalaryRate());\n        TimesheetSign timesheetSignResult = timesheetSignService.add(timesheetSign);\n        return new ResponseEntity&lt;&gt;(timesheetSignResult, HttpStatus.OK);\n    }\n\n    /**\n     * Delete time_sheet_sign by its composite primary key.\n     * DELETE http://localhost:80/time_sheet_sign/1/42 .\n     *\n     * @param tenant_id\n     * @param id\n     * @return\n     */\n    @DeleteMapping(value = &quot;/{tenant_id}/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; deleteAccount(@PathVariable(&quot;tenant_id&quot;) Short tenant_id,\n                                                @PathVariable(&quot;id&quot;) Short id) {\n        TimesheetSignId timesheetSignId = new TimesheetSignId();\n        timesheetSignId.setId(id);\n        timesheetSignId.setTenantId(tenant_id);\n        timesheetSignService.delete(timesheetSignId);\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.OK);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>[2m2022-12-19T08:18:19.517+07:00[0;39m [32m INFO[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'\n[2m2022-12-19T08:18:19.520+07:00[0;39m [32m INFO[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 3 ms\n[2m2022-12-19T08:18:21.177+07:00[0;39m [33m WARN[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-8][0;39m [36mocalVariableTableParameterNameDiscoverer[0;39m [2m:[0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.example.controller.UnitController\n[2m2022-12-19T08:18:21.313+07:00[0;39m [33m WARN[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-8][0;39m [36mocalVariableTableParameterNameDiscoverer[0;39m [2m:[0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.example.controller.TimesheetSignController\n[2m2022-12-19T08:18:21.331+07:00[0;39m [33m WARN[0;39m [35m7048[0;39m [2m---[0;39m [2m[nio-8082-exec-8][0;39m [36mocalVariableTableParameterNameDiscoverer[0;39m [2m:[0;39m Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.example.controller.TaxAgentInfoController\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0YxVY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0YxVY.png\" alt=\"enter image description here\" /></a></p>\n<p>Full log <a href=\"https://gist.github.com/donhuvy/45b15558e76164e83bdbc0117c9cf64f\" rel=\"noreferrer\">https://gist.github.com/donhuvy/45b15558e76164e83bdbc0117c9cf64f</a></p>\n<p>How to avoid/resolve this warning?\nP/S: Comment about not dupplicated question. In this question and solution <a href=\"https://stackoverflow.com/a/74601911/3728901\">https://stackoverflow.com/a/74601911/3728901</a> , use <code>maven-compiler-plugin</code> , not <code>spring-boot-maven-plugin</code> .</p>\n"},{"tags":["java","spring-boot","websphere"],"comments":[{"owner":{"account_id":4218123,"reputation":9889,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1657332397,"post_id":54350022,"comment_id":128792233,"body_markdown":"Did you find solution?","body":"Did you find solution?"},{"owner":{"account_id":1680317,"reputation":634,"user_id":1544690,"accept_rate":44,"display_name":"Mirlo"},"score":0,"creation_date":1657575957,"post_id":54350022,"comment_id":128839276,"body_markdown":"it was that my spring boot version was incompatible with WS Liberty Code (85)\nso i upgraded WS liberty core.","body":"it was that my spring boot version was incompatible with WS Liberty Code (85) so i upgraded WS liberty core."}],"answers":[{"tags":[],"owner":{"account_id":4218123,"reputation":9889,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700834607,"creation_date":1657578347,"answer_id":72945253,"question_id":54350022,"body_markdown":"In my case, my `&lt;application&gt;` section in **server.xml** was missing `context-root`","title":"Liberty Core : Spring boot Context Root Not Found","body":"<p>In my case, my <code>&lt;application&gt;</code> section in <strong>server.xml</strong> was missing <code>context-root</code></p>\n"}],"owner":{"account_id":1680317,"reputation":634,"user_id":1544690,"accept_rate":44,"display_name":"Mirlo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":872,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700834607,"creation_date":1548343509,"question_id":54350022,"body_markdown":"Running my spring boot application with Liberty Core giving me this error and  no error was logged !\r\n\r\nSo i&#39;ve created a pom file based on spring-boot-starter-web and excluded tomcat\r\nwith a starter class :\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = { &quot;com.a.b.c&quot; }, lazyInit = true)\r\n    public class SpringBootApp extends SpringBootServletInitializer {\r\n    \r\n      /**\r\n       * @param args main aguments\r\n       */\r\n      public static void main(final String[] args) {\r\n    \r\n        SpringApplication.run(SpringBootApp.class, args);\r\n      }\r\n    \r\n      /*\r\n       * (non-Javadoc)\r\n       * \r\n       * @see org.springframework.boot.web.support.SpringBootServletInitializer#configure(org.springframework.boot.builder.\r\n       * SpringApplicationBuilder)\r\n       */\r\n      @Override\r\n      protected SpringApplicationBuilder configure(final SpringApplicationBuilder builder) {\r\n    \r\n        return builder.sources(SpringBootApp.class);\r\n      }\r\n    \r\n    }\r\n\r\n\r\nMy controller : \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class CustomerResource {\r\n    \r\n    \r\n    \t/**\r\n    \t * @param customerDTO\r\n    \t * @return\r\n    \t */\r\n    \t@PostMapping(&quot;/customers&quot;)\r\n    \tpublic ResponseEntity&lt;URI&gt; addOrder(\r\n    \t\t\t@Valid @RequestBody final CustomerDTO customerDTO) {\r\n    \r\n    \t\tfinal URI location = ServletUriComponentsBuilder.fromCurrentRequest()\r\n    \t\t\t\t.path(&quot;/{id}&quot;).buildAndExpand(&quot;id&quot;).toUri();\r\n    \t\treturn ResponseEntity.created(location).build();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param customerID\r\n    \t * @return\r\n    \t */\r\n    \t@GetMapping(&quot;/customers/{customerID}&quot;)\r\n    \tpublic CustomerDTO getCustomer(@PathVariable final String customerID) {\r\n    \r\n    \t\treturn new CustomerDTO();\r\n    \t}\r\n    \r\n    }\r\n\r\nthe server xml on WS Liberty Code (85)\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;server description=&quot;sa-57487&quot;&gt;\r\n    \r\n        &lt;!-- Enable features --&gt;\r\n        &lt;featureManager&gt;\r\n            &lt;feature&gt;jsp-2.2&lt;/feature&gt;\r\n            &lt;feature&gt;ssl-1.0&lt;/feature&gt;\r\n            &lt;feature&gt;jpa-2.0&lt;/feature&gt;\r\n            &lt;feature&gt;jdbc-4.0&lt;/feature&gt;\r\n            &lt;feature&gt;jndi-1.0&lt;/feature&gt;\r\n            &lt;feature&gt;servlet-3.0&lt;/feature&gt;\r\n            &lt;feature&gt;localConnector-1.0&lt;/feature&gt;\r\n            &lt;feature&gt;restConnector-1.0&lt;/feature&gt;\r\n            &lt;feature&gt;beanValidation-1.1&lt;/feature&gt;\r\n              &lt;feature&gt;adminCenter-1.0&lt;/feature&gt;\r\n      &lt;/featureManager&gt;\r\n    \r\n       &lt;quickStartSecurity userName=&quot;wasadmin&quot; userPassword=&quot;ded&quot;/&gt;\r\n    \r\n       &lt;keyStore id=&quot;defaultKeyStore&quot; password=&quot;ded&quot;/&gt;\r\n    \r\n        &lt;!-- To access this server from a remote client add a host attribute to the following element, e.g. host=&quot;*&quot; --&gt;\r\n        &lt;httpEndpoint id=&quot;defaultHttpEndpoint&quot;\r\n                      host=&quot;*&quot;\r\n                      httpPort=&quot;${http_port}&quot;\r\n                      httpsPort=&quot;${https_port}&quot;/&gt;\r\n    \r\n     \r\n    \r\n  \r\n    \r\n    \r\n        &lt;!-- Log File Rotation and Maximun Number of Historical  --&gt;\r\n        &lt;logging\r\n            logDirectory=&quot;sa-57487_api01_mob-biz-1/logs&quot;\r\n            messageFileName=&quot;messages.log&quot;\r\n            traceFileName=&quot;trace.log&quot;\r\n            traceSpecification=&quot;*=info&quot;\r\n            maxFileSize=&quot;10&quot;\r\n            maxFiles=&quot;10&quot;\r\n            copySystemStreams=&quot;false&quot;\r\n            consoleLogLevel=&quot;INFO&quot;\r\n        /&gt;\r\n    \r\n            &lt;!-- Installation application --&gt;\r\n    \r\n            &lt;application id=&quot;api&quot; location=&quot;installedApps/sample-service-exposition-0.0.10.war&quot; name=&quot;api-0.0.1-SNAPSHOT&quot; type=&quot;war&quot; context-root=&quot;api&quot;/&gt;\r\n\r\n\r\nthe trace gives me this :\r\n\r\n    [24/01/19 16:12:30:285 CET] 00000c50 com.ibm.ws.http.internal.VirtualHostImpl                     A CWWKT0016I: Web application available (default_host): http://xxx.fr.net.intra:9081/api/\r\n    [24/01/19 16:12:30:286 CET] 00000c52 com.ibm.ws.session.WASSessionCore                            I SESN0176I: A new session context will be created for application key default_host/api\r\n    [24/01/19 16:12:30:286 CET] 00000c52 com.ibm.ws.util                                              I SESN0172I: The session manager is using the Java default SecureRandom implementation for session ID generation.\r\n    [24/01/19 16:12:30:307 CET] 00000c50 com.ibm.ws.app.manager.AppMessageHelper                      A CWWKZ0001I: Application AP12213-melchior-0.0.1-SNAPSHOT started in 2.298 seconds.\r\n    [24/01/19 16:12:30:497 CET] 00000c2d com.ibm.ws.webcontainer.osgi.mbeans.PluginGenerator          I SRVE9103I: A configuration file for a web server plugin was automatically generated for this server at /applis/logs/57487-api01/wlc/sa-57487_api01_mob-biz-1/sa-57487_api01_mob-biz-1/logs/state/plugin-cfg.xml.\r\n    [24/01/19 16:12:30:532 CET] 00000c52 com.ibm.ws.webcontainer.webapp                               I SRVE0292I: Servlet Message - [sample-service-exposition-0.0.10]:.2 Spring WebApplicationInitializers detected on classpath\r\n\r\n\r\nwhen i got on the server url : `http://xxx.fr.net.intra:9081/api/`\r\n\r\ngives me : `Context Root Not Found`\r\n\r\nAny help thanlss","title":"Liberty Core : Spring boot Context Root Not Found","body":"<p>Running my spring boot application with Liberty Core giving me this error and  no error was logged !</p>\n\n<p>So i've created a pom file based on spring-boot-starter-web and excluded tomcat\nwith a starter class :</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@SpringBootApplication\n@ComponentScan(basePackages = { \"com.a.b.c\" }, lazyInit = true)\npublic class SpringBootApp extends SpringBootServletInitializer {\n\n  /**\n   * @param args main aguments\n   */\n  public static void main(final String[] args) {\n\n    SpringApplication.run(SpringBootApp.class, args);\n  }\n\n  /*\n   * (non-Javadoc)\n   * \n   * @see org.springframework.boot.web.support.SpringBootServletInitializer#configure(org.springframework.boot.builder.\n   * SpringApplicationBuilder)\n   */\n  @Override\n  protected SpringApplicationBuilder configure(final SpringApplicationBuilder builder) {\n\n    return builder.sources(SpringBootApp.class);\n  }\n\n}\n</code></pre>\n\n<p>My controller : </p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api\")\npublic class CustomerResource {\n\n\n    /**\n     * @param customerDTO\n     * @return\n     */\n    @PostMapping(\"/customers\")\n    public ResponseEntity&lt;URI&gt; addOrder(\n            @Valid @RequestBody final CustomerDTO customerDTO) {\n\n        final URI location = ServletUriComponentsBuilder.fromCurrentRequest()\n                .path(\"/{id}\").buildAndExpand(\"id\").toUri();\n        return ResponseEntity.created(location).build();\n    }\n\n    /**\n     * @param customerID\n     * @return\n     */\n    @GetMapping(\"/customers/{customerID}\")\n    public CustomerDTO getCustomer(@PathVariable final String customerID) {\n\n        return new CustomerDTO();\n    }\n\n}\n</code></pre>\n\n<p>the server xml on WS Liberty Code (85)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;server description=\"sa-57487\"&gt;\n\n    &lt;!-- Enable features --&gt;\n    &lt;featureManager&gt;\n        &lt;feature&gt;jsp-2.2&lt;/feature&gt;\n        &lt;feature&gt;ssl-1.0&lt;/feature&gt;\n        &lt;feature&gt;jpa-2.0&lt;/feature&gt;\n        &lt;feature&gt;jdbc-4.0&lt;/feature&gt;\n        &lt;feature&gt;jndi-1.0&lt;/feature&gt;\n        &lt;feature&gt;servlet-3.0&lt;/feature&gt;\n        &lt;feature&gt;localConnector-1.0&lt;/feature&gt;\n        &lt;feature&gt;restConnector-1.0&lt;/feature&gt;\n        &lt;feature&gt;beanValidation-1.1&lt;/feature&gt;\n          &lt;feature&gt;adminCenter-1.0&lt;/feature&gt;\n  &lt;/featureManager&gt;\n\n   &lt;quickStartSecurity userName=\"wasadmin\" userPassword=\"ded\"/&gt;\n\n   &lt;keyStore id=\"defaultKeyStore\" password=\"ded\"/&gt;\n\n    &lt;!-- To access this server from a remote client add a host attribute to the following element, e.g. host=\"*\" --&gt;\n    &lt;httpEndpoint id=\"defaultHttpEndpoint\"\n                  host=\"*\"\n                  httpPort=\"${http_port}\"\n                  httpsPort=\"${https_port}\"/&gt;\n\n\n\n\n\n\n    &lt;!-- Log File Rotation and Maximun Number of Historical  --&gt;\n    &lt;logging\n        logDirectory=\"sa-57487_api01_mob-biz-1/logs\"\n        messageFileName=\"messages.log\"\n        traceFileName=\"trace.log\"\n        traceSpecification=\"*=info\"\n        maxFileSize=\"10\"\n        maxFiles=\"10\"\n        copySystemStreams=\"false\"\n        consoleLogLevel=\"INFO\"\n    /&gt;\n\n        &lt;!-- Installation application --&gt;\n\n        &lt;application id=\"api\" location=\"installedApps/sample-service-exposition-0.0.10.war\" name=\"api-0.0.1-SNAPSHOT\" type=\"war\" context-root=\"api\"/&gt;\n</code></pre>\n\n<p>the trace gives me this :</p>\n\n<pre><code>[24/01/19 16:12:30:285 CET] 00000c50 com.ibm.ws.http.internal.VirtualHostImpl                     A CWWKT0016I: Web application available (default_host): http://xxx.fr.net.intra:9081/api/\n[24/01/19 16:12:30:286 CET] 00000c52 com.ibm.ws.session.WASSessionCore                            I SESN0176I: A new session context will be created for application key default_host/api\n[24/01/19 16:12:30:286 CET] 00000c52 com.ibm.ws.util                                              I SESN0172I: The session manager is using the Java default SecureRandom implementation for session ID generation.\n[24/01/19 16:12:30:307 CET] 00000c50 com.ibm.ws.app.manager.AppMessageHelper                      A CWWKZ0001I: Application AP12213-melchior-0.0.1-SNAPSHOT started in 2.298 seconds.\n[24/01/19 16:12:30:497 CET] 00000c2d com.ibm.ws.webcontainer.osgi.mbeans.PluginGenerator          I SRVE9103I: A configuration file for a web server plugin was automatically generated for this server at /applis/logs/57487-api01/wlc/sa-57487_api01_mob-biz-1/sa-57487_api01_mob-biz-1/logs/state/plugin-cfg.xml.\n[24/01/19 16:12:30:532 CET] 00000c52 com.ibm.ws.webcontainer.webapp                               I SRVE0292I: Servlet Message - [sample-service-exposition-0.0.10]:.2 Spring WebApplicationInitializers detected on classpath\n</code></pre>\n\n<p>when i got on the server url : <code>http://xxx.fr.net.intra:9081/api/</code></p>\n\n<p>gives me : <code>Context Root Not Found</code></p>\n\n<p>Any help thanlss</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1628234234,"post_id":68675258,"comment_id":121370893,"body_markdown":"Poi relies on the Java runtime to handle fonts. This looks like a duplicate of issues like https://stackoverflow.com/questions/43096782/apachepoi-fails-with-font-error-on-openjdk-1-8-0-121-okay-on-oracle-jre","body":"Poi relies on the Java runtime to handle fonts. This looks like a duplicate of issues like <a href=\"https://stackoverflow.com/questions/43096782/apachepoi-fails-with-font-error-on-openjdk-1-8-0-121-okay-on-oracle-jre\" title=\"apachepoi fails with font error on openjdk 1 8 0 121 okay on oracle jre\">stackoverflow.com/questions/43096782/&hellip;</a>"},{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1628238695,"post_id":68675258,"comment_id":121372339,"body_markdown":"Can you add the full stacktrace of where it fails?","body":"Can you add the full stacktrace of where it fails?"},{"owner":{"account_id":19895939,"reputation":59,"user_id":14577039,"display_name":"Rakhi"},"score":0,"creation_date":1628245774,"post_id":68675258,"comment_id":121375040,"body_markdown":"in __gnu_cxx::__verbose_terminate_handler() () from /lib64/libstdc++.so.6\n    #10 0x00007fbd888b3a06 in ?? () from /lib64/libstdc++.so.6\n    #11 0x00007fbd888b3a33 in std::terminate() () from /lib64/libstdc++.so.6\n    #12 0x00007fbd888b3c53 in __cxa_throw () from /lib64/libstdc++.so.6\n    #13 0x00007fbd941de436 in PSJNI::JavaObject::CallVoidMethod(std::string const&amp;, std::string const&amp;, ...) const () from /opt/oracle/psft/pt/tools/bin/libpsjni.so\n    #14 0x00007fbd93780b5e in CPSSpreadSheet::CreateSheet(wchar_t const*This didnot confirm issue is related to font,but worked with fontconfig","body":"in __gnu_cxx::__verbose_terminate_handler() () from /lib64/libstdc++.so.6     #10 0x00007fbd888b3a06 in ?? () from /lib64/libstdc++.so.6     #11 0x00007fbd888b3a33 in std::terminate() () from /lib64/libstdc++.so.6     #12 0x00007fbd888b3c53 in __cxa_throw () from /lib64/libstdc++.so.6     #13 0x00007fbd941de436 in PSJNI::JavaObject::CallVoidMethod(std::string const&amp;, std::string const&amp;, ...) const () from /opt/oracle/psft/pt/tools/bin/libpsjni.so     #14 0x00007fbd93780b5e in CPSSpreadSheet::CreateSheet(wchar_t const*This didnot confirm issue is related to font,but worked with fontconfig"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1628327514,"post_id":68675258,"comment_id":121394334,"body_markdown":"Have a look at https://wiki.archlinux.org/title/Java_Runtime_Environment_fonts (Font Selection and See Also sections)","body":"Have a look at <a href=\"https://wiki.archlinux.org/title/Java_Runtime_Environment_fonts\" rel=\"nofollow noreferrer\">wiki.archlinux.org/title/Java_Runtime_Environment_fonts</a> (Font Selection and See Also sections)"},{"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"score":1,"creation_date":1654085747,"post_id":68675258,"comment_id":128007197,"body_markdown":"@Rakhi did you find any fix?","body":"@Rakhi did you find any fix?"}],"answers":[{"tags":[],"owner":{"account_id":6606513,"reputation":1158,"user_id":5103183,"accept_rate":50,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700834360,"creation_date":1700834360,"answer_id":77543674,"question_id":68675258,"body_markdown":"After diving a bit into the code in POI (version 5.2.3), I&#39;ve found this in `org.apache.poi.ss.util.SheetUtil`:\r\n\r\n    \r\n    /**\r\n     * A system property which can be enabled to not fail when the\r\n     * font-system is not available on the current machine\r\n     */\r\n    private static final boolean ignoreMissingFontSystem =\r\n            Boolean.parseBoolean(System.getProperty(&quot;org.apache.poi.ss.ignoreMissingFontSystem&quot;));\r\n\r\nSetting the system property `org.apache.poi.ss.ignoreMissingFontSystem` to `true` has resolved this issue for me:\r\n\r\n    // avoid exceptions on systems without MS Fonts\r\n    System.setProperty(&quot;org.apache.poi.ss.ignoreMissingFontSystem&quot;, &quot;true&quot;)","title":"Apache POI failing in createsheet due to missing fontconfig in Java 11 environments","body":"<p>After diving a bit into the code in POI (version 5.2.3), I've found this in <code>org.apache.poi.ss.util.SheetUtil</code>:</p>\n<pre><code>/**\n * A system property which can be enabled to not fail when the\n * font-system is not available on the current machine\n */\nprivate static final boolean ignoreMissingFontSystem =\n        Boolean.parseBoolean(System.getProperty(&quot;org.apache.poi.ss.ignoreMissingFontSystem&quot;));\n</code></pre>\n<p>Setting the system property <code>org.apache.poi.ss.ignoreMissingFontSystem</code> to <code>true</code> has resolved this issue for me:</p>\n<pre><code>// avoid exceptions on systems without MS Fonts\nSystem.setProperty(&quot;org.apache.poi.ss.ignoreMissingFontSystem&quot;, &quot;true&quot;)\n</code></pre>\n"}],"owner":{"account_id":19895939,"reputation":59,"user_id":14577039,"display_name":"Rakhi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1562,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":1,"score":4,"last_activity_date":1700834360,"creation_date":1628215140,"question_id":68675258,"body_markdown":"We are using Java 11 and compared to earlier versions of Java ,Java 11 have removed fonts folder from jre/lib.\r\nSo our poi calls are failing at createsheet call,due to missing fontconfig.\r\nIf we install fontconfig using yum ,it will work like charm.But management is not approving the same.\r\nIssue is not happening in Java8 as fonts are identified from jre/lib folder.\r\nTried to put the fonts in current working directory ,but that also didnot help us.\r\nCan anyone let me know ,how poi picks up the fonts,from where and what I can do to overcome this issue.Also the list of fonts/files to get over the issue.\r\n\r\nRegards,\r\nRakhi","title":"Apache POI failing in createsheet due to missing fontconfig in Java 11 environments","body":"<p>We are using Java 11 and compared to earlier versions of Java ,Java 11 have removed fonts folder from jre/lib.\nSo our poi calls are failing at createsheet call,due to missing fontconfig.\nIf we install fontconfig using yum ,it will work like charm.But management is not approving the same.\nIssue is not happening in Java8 as fonts are identified from jre/lib folder.\nTried to put the fonts in current working directory ,but that also didnot help us.\nCan anyone let me know ,how poi picks up the fonts,from where and what I can do to overcome this issue.Also the list of fonts/files to get over the issue.</p>\n<p>Regards,\nRakhi</p>\n"},{"tags":["java","synchronization"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1258969150,"creation_date":1258920146,"answer_id":1779803,"question_id":1779795,"body_markdown":"Take a look at the [Lock][1] objects introduced in the Java 5 concurrency packages.\r\n\r\ne.g. \r\n\r\n    Lock lock = new ReentrantLock()\r\n    if (lock.tryLock()) {\r\n       try {\r\n          // do stuff using the lock...\r\n       }\r\n       finally {\r\n          lock.unlock();\r\n       }\r\n    }\r\n       ...\r\n\r\nThe [ReentrantLock][2] object is essentially doing the same thing as the traditional `synchronized` mechanism, but with more functionality.\r\n\r\nEDIT: As Jon has noted, the `isLocked()` method tells you at *that instant*, and thereafter that information is out of date. The [tryLock()][3] method will give more reliable operation (note you can use this with a timeout as well)\r\n\r\nEDIT #2: Example now includes `tryLock()/unlock()` for clarity.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/essential/concurrency/newlocks.html\r\n  [2]: http://java.sun.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html\r\n  [3]: http://www.ensta.fr/~diam/java/online/jdk/150/api/java/util/concurrent/locks/ReentrantLock.html#tryLock%28%29","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>Take a look at the <a href=\"http://java.sun.com/docs/books/tutorial/essential/concurrency/newlocks.html\" rel=\"noreferrer\">Lock</a> objects introduced in the Java 5 concurrency packages.</p>\n\n<p>e.g. </p>\n\n<pre><code>Lock lock = new ReentrantLock()\nif (lock.tryLock()) {\n   try {\n      // do stuff using the lock...\n   }\n   finally {\n      lock.unlock();\n   }\n}\n   ...\n</code></pre>\n\n<p>The <a href=\"http://java.sun.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html\" rel=\"noreferrer\">ReentrantLock</a> object is essentially doing the same thing as the traditional <code>synchronized</code> mechanism, but with more functionality.</p>\n\n<p>EDIT: As Jon has noted, the <code>isLocked()</code> method tells you at <em>that instant</em>, and thereafter that information is out of date. The <a href=\"http://www.ensta.fr/~diam/java/online/jdk/150/api/java/util/concurrent/locks/ReentrantLock.html#tryLock%28%29\" rel=\"noreferrer\">tryLock()</a> method will give more reliable operation (note you can use this with a timeout as well)</p>\n\n<p>EDIT #2: Example now includes <code>tryLock()/unlock()</code> for clarity.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1453065769,"creation_date":1258920438,"answer_id":1779813,"question_id":1779795,"body_markdown":"One thing to note is that the *instant* you receive such information, it&#39;s stale. In other words, you could be told that no-one has the lock, but then when you try to acquire it, you block because another thread took out the lock between the check and you trying to acquire it.\r\n\r\nBrian is right to point at `Lock`, but I think what you really want is its [`tryLock`][1] method:\r\n\r\n    Lock lock = new ReentrantLock();\r\n    ......\r\n    if (lock.tryLock())\r\n    {\r\n        // Got the lock\r\n        try\r\n        {\r\n            // Process record\r\n        }\r\n        finally\r\n        {\r\n            // Make sure to unlock so that we don&#39;t cause a deadlock\r\n            lock.unlock();\r\n        }\r\n    }\r\n    else\r\n    {\r\n        // Someone else had the lock, abort\r\n    }\r\n\r\nYou can also call `tryLock` with an amount of time to wait - so you could try to acquire it for a tenth of a second, then abort if you can&#39;t get it (for example).\r\n\r\n(I think it&#39;s a pity that the Java API doesn&#39;t - as far as I&#39;m aware - provide the same functionality for the &quot;built-in&quot; locking, as the `Monitor` class does in .NET. Then again, there are plenty of other things I dislike in both platforms when it comes to threading - every object potentially having a monitor, for example!)\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/locks/Lock.html#tryLock()\r\n","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>One thing to note is that the <em>instant</em> you receive such information, it's stale. In other words, you could be told that no-one has the lock, but then when you try to acquire it, you block because another thread took out the lock between the check and you trying to acquire it.</p>\n\n<p>Brian is right to point at <code>Lock</code>, but I think what you really want is its <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/locks/Lock.html#tryLock()\" rel=\"noreferrer\"><code>tryLock</code></a> method:</p>\n\n<pre><code>Lock lock = new ReentrantLock();\n......\nif (lock.tryLock())\n{\n    // Got the lock\n    try\n    {\n        // Process record\n    }\n    finally\n    {\n        // Make sure to unlock so that we don't cause a deadlock\n        lock.unlock();\n    }\n}\nelse\n{\n    // Someone else had the lock, abort\n}\n</code></pre>\n\n<p>You can also call <code>tryLock</code> with an amount of time to wait - so you could try to acquire it for a tenth of a second, then abort if you can't get it (for example).</p>\n\n<p>(I think it's a pity that the Java API doesn't - as far as I'm aware - provide the same functionality for the \"built-in\" locking, as the <code>Monitor</code> class does in .NET. Then again, there are plenty of other things I dislike in both platforms when it comes to threading - every object potentially having a monitor, for example!)</p>\n"},{"tags":[],"owner":{"account_id":62950,"reputation":3354,"user_id":186663,"display_name":"PSpeed"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1401005727,"creation_date":1258932420,"answer_id":1780399,"question_id":1779795,"body_markdown":"While the Lock answers are very good, I thought I&#39;d post an alternative using a different data structure.  Essentially, your various threads want to know which records are locked and which aren&#39;t.  One way to do this is to keep track of the locked records and make sure that data structure has the right atomic operations for adding records to the locked set.\r\n\r\nI will use CopyOnWriteArrayList as an example because it&#39;s less &quot;magic&quot; for illustration.  CopyOnWriteArraySet is a more appropriate structure.  If you have lots and lots of records locked at the same time on average then there may be performance implications with these implementations.  A properly synchronized HashSet would work too and locks are brief.\r\n\r\nBasically, usage code would look like this:\r\n\r\n    CopyOnWriteArrayList&lt;Record&gt; lockedRecords = ....\r\n    ...\r\n    if (!lockedRecords.addIfAbsent(record))\r\n        return; // didn&#39;t get the lock, record is already locked\r\n\r\n    try {\r\n        // Do the record stuff\r\n    }        \r\n    finally {\r\n        lockedRecords.remove(record);\r\n    }\r\n\r\nIt keeps you from having to manage a lock per record and provides a single place should clearing all locks be necessary for some reason.  On the other hand, if you ever have more than a handful of records then a real HashSet with synchronization may do better since the add/remove look-ups will be O(1) instead of linear.\r\n\r\nJust a different way of looking at things.  Just depends on what your actual threading requirements are.  Personally, I would use a Collections.synchronizedSet( new HashSet() ) because it will be really fast... the only implication is that threads may yield when they otherwise wouldn&#39;t have.","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>While the Lock answers are very good, I thought I'd post an alternative using a different data structure.  Essentially, your various threads want to know which records are locked and which aren't.  One way to do this is to keep track of the locked records and make sure that data structure has the right atomic operations for adding records to the locked set.</p>\n\n<p>I will use CopyOnWriteArrayList as an example because it's less \"magic\" for illustration.  CopyOnWriteArraySet is a more appropriate structure.  If you have lots and lots of records locked at the same time on average then there may be performance implications with these implementations.  A properly synchronized HashSet would work too and locks are brief.</p>\n\n<p>Basically, usage code would look like this:</p>\n\n<pre><code>CopyOnWriteArrayList&lt;Record&gt; lockedRecords = ....\n...\nif (!lockedRecords.addIfAbsent(record))\n    return; // didn't get the lock, record is already locked\n\ntry {\n    // Do the record stuff\n}        \nfinally {\n    lockedRecords.remove(record);\n}\n</code></pre>\n\n<p>It keeps you from having to manage a lock per record and provides a single place should clearing all locks be necessary for some reason.  On the other hand, if you ever have more than a handful of records then a real HashSet with synchronization may do better since the add/remove look-ups will be O(1) instead of linear.</p>\n\n<p>Just a different way of looking at things.  Just depends on what your actual threading requirements are.  Personally, I would use a Collections.synchronizedSet( new HashSet() ) because it will be really fast... the only implication is that threads may yield when they otherwise wouldn't have.</p>\n"},{"tags":[],"owner":{"account_id":1342573,"reputation":157,"user_id":1283981,"display_name":"Chris Wraith"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1332348151,"creation_date":1332348151,"answer_id":9809051,"question_id":1779795,"body_markdown":"Whilst the above approach using a Lock object is the best way to do it, if you have to be able to check for locking using a monitor, it can be done. However, it does come with a health warning as the technique isn&#39;t portable to non Oracle Java VMs and it may break in future VM versions as it isn&#39;t a supported public API.\r\n\r\nHere is how to do it:\r\n\r\n    private static sun.misc.Unsafe getUnsafe() {\r\n\t\ttry {\r\n\t\t\tField field = sun.misc.Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n\t\t\tfield.setAccessible(true);\r\n\t\t\treturn (Unsafe) field.get(null);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\n    public void doSomething() {\r\n      Object record = new Object();\r\n      sun.misc.Unsafe unsafe = getUnsafe(); \r\n      if (unsafe.tryMonitorEnter(record)) {\r\n        try {\r\n          // record is locked - perform operations on it\r\n        } finally {\r\n          unsafe.monitorExit(record);\r\n        }\r\n      } else {\r\n          // could not lock record\r\n      }\r\n    }\r\n\r\nMy advice would be to use this approach only if you cannot refactor your code to use java.util.concurrent Lock objects for this and if you are running on an Oracle VM.","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>Whilst the above approach using a Lock object is the best way to do it, if you have to be able to check for locking using a monitor, it can be done. However, it does come with a health warning as the technique isn't portable to non Oracle Java VMs and it may break in future VM versions as it isn't a supported public API.</p>\n\n<p>Here is how to do it:</p>\n\n<pre><code>private static sun.misc.Unsafe getUnsafe() {\n    try {\n        Field field = sun.misc.Unsafe.class.getDeclaredField(\"theUnsafe\");\n        field.setAccessible(true);\n        return (Unsafe) field.get(null);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic void doSomething() {\n  Object record = new Object();\n  sun.misc.Unsafe unsafe = getUnsafe(); \n  if (unsafe.tryMonitorEnter(record)) {\n    try {\n      // record is locked - perform operations on it\n    } finally {\n      unsafe.monitorExit(record);\n    }\n  } else {\n      // could not lock record\n  }\n}\n</code></pre>\n\n<p>My advice would be to use this approach only if you cannot refactor your code to use java.util.concurrent Lock objects for this and if you are running on an Oracle VM.</p>\n"},{"tags":[],"owner":{"account_id":380073,"reputation":283,"user_id":733861,"accept_rate":83,"display_name":"Rahul Kulshreshtha"},"down_vote_count":4,"up_vote_count":20,"is_accepted":false,"score":16,"last_activity_date":1544356218,"creation_date":1421752433,"answer_id":28043943,"question_id":1779795,"body_markdown":"I found this, we can use [`Thread.holdsLock(Object obj)`](http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#holdsLock-java.lang.Object-) to check if an object is locked:\r\n\r\n&gt;Returns `true` if and only if the current thread holds the monitor lock on the specified object.\r\n\r\nNote that `Thread.holdsLock()` returns `false` if the lock is held by *something* and the calling thread isn&#39;t the thread that holds the lock.","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>I found this, we can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#holdsLock-java.lang.Object-\" rel=\"noreferrer\"><code>Thread.holdsLock(Object obj)</code></a> to check if an object is locked:</p>\n\n<blockquote>\n  <p>Returns <code>true</code> if and only if the current thread holds the monitor lock on the specified object.</p>\n</blockquote>\n\n<p>Note that <code>Thread.holdsLock()</code> returns <code>false</code> if the lock is held by <em>something</em> and the calling thread isn't the thread that holds the lock.</p>\n"},{"tags":[],"owner":{"account_id":363131,"reputation":2750,"user_id":706695,"accept_rate":78,"display_name":"HRgiger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464948613,"creation_date":1464948613,"answer_id":37611553,"question_id":1779795,"body_markdown":"Another workaround is (in case of you didnt have chance with the answers given here )is using timeouts. i.e. below one will return null after 1 second hanging:\r\n\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n            //create a callable for the thread\r\n            Future&lt;String&gt; futureTask = executor.submit(new Callable&lt;String&gt;() {\r\n                @Override\r\n                public String call() throws Exception {\r\n                    return myObject.getSomething();\r\n                }\r\n            });\r\n            \r\n            try {\r\n                return futureTask.get(1000, TimeUnit.MILLISECONDS);\r\n            } catch (InterruptedException | ExecutionException | TimeoutException e) {\r\n                //object is already locked check exception type\r\n                return null;\r\n            }","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>Another workaround is (in case of you didnt have chance with the answers given here )is using timeouts. i.e. below one will return null after 1 second hanging:</p>\n\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\n        //create a callable for the thread\n        Future&lt;String&gt; futureTask = executor.submit(new Callable&lt;String&gt;() {\n            @Override\n            public String call() throws Exception {\n                return myObject.getSomething();\n            }\n        });\n\n        try {\n            return futureTask.get(1000, TimeUnit.MILLISECONDS);\n        } catch (InterruptedException | ExecutionException | TimeoutException e) {\n            //object is already locked check exception type\n            return null;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1453150,"reputation":757,"user_id":1369474,"display_name":"The Schwartz"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1478007637,"creation_date":1473934624,"answer_id":39508580,"question_id":1779795,"body_markdown":"Thanks for this, it helped me out solving a race condition. I changed it a little to wear both belt and suspenders.\r\n\r\n**So here is my suggestion for AN IMPROVEMENT of the accepted answer:**\r\n\r\nYou can ensure that you get safe access to the `tryLock()` method by doing something like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n      Lock localLock = new ReentrantLock();\r\n    \r\n      private void threadSafeCall() {\r\n        boolean isUnlocked = false;\r\n        \r\n        synchronized(localLock) {\r\n          isUnlocked = localLock.tryLock();\r\n        }\r\n        \r\n        if (isUnlocked) {\r\n          try {\r\n            rawCall();\r\n          }\r\n          finally {\r\n            localLock.unlock();\r\n          }\r\n        } else {\r\n          LOGGER.log(Level.INFO, &quot;THANKS! - SAVED FROM DOUBLE CALL!&quot;);\r\n        }\r\n      }\r\n\r\nThis would avoid the situation where you might get two calling `tryLock()` at the almost same time, causing the return to be potentially doubt full. I&#39;d like to now if I&#39;m wrong, I might be over cautios here. But hey! My gig is stable now :-)..\r\n\r\nRead more on my development issues at my [Blog][1].\r\n\r\n\r\n  [1]: http://theengine.schwartzengine.com/#home","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>Thanks for this, it helped me out solving a race condition. I changed it a little to wear both belt and suspenders.</p>\n\n<p><strong>So here is my suggestion for AN IMPROVEMENT of the accepted answer:</strong></p>\n\n<p>You can ensure that you get safe access to the <code>tryLock()</code> method by doing something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  Lock localLock = new ReentrantLock();\n\n  private void threadSafeCall() {\n    boolean isUnlocked = false;\n\n    synchronized(localLock) {\n      isUnlocked = localLock.tryLock();\n    }\n\n    if (isUnlocked) {\n      try {\n        rawCall();\n      }\n      finally {\n        localLock.unlock();\n      }\n    } else {\n      LOGGER.log(Level.INFO, \"THANKS! - SAVED FROM DOUBLE CALL!\");\n    }\n  }\n</code></pre>\n\n<p>This would avoid the situation where you might get two calling <code>tryLock()</code> at the almost same time, causing the return to be potentially doubt full. I'd like to now if I'm wrong, I might be over cautios here. But hey! My gig is stable now :-)..</p>\n\n<p>Read more on my development issues at my <a href=\"http://theengine.schwartzengine.com/#home\" rel=\"nofollow noreferrer\">Blog</a>.</p>\n"},{"tags":[],"owner":{"account_id":7962844,"reputation":155,"user_id":6010052,"display_name":"jhyry-gcpud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617912630,"creation_date":1617837331,"answer_id":66995325,"question_id":1779795,"body_markdown":"I needed to also find a solution to this, so searched the Java Concurrency API and came across [StampedLock][1]. The project is using Java 8.\r\nI am working in a heavily-threaded asynchronous data service that communicates with a native library and contains long-living configuration objects, necessitating sometimes-complex concurrency logic; thankfully this turned out to be relatively simple with the StampedLock class.\r\n\r\nStampedLock has a method called [tryOptimisticRead][2] which does not wait, it just returns the status in the form of a long-time time stamp, where zero (0) indicates an exclusive lock is held. I then do delay for up to a second but you could just use the function without any sort of delay.\r\n\r\nHere&#39;s how I&#39;m detecting whether or not there&#39;s an exclusive lock, this paradigm is used in multiple locations and includes error handling:\r\n\r\n        int delayCount = 0;\r\n\r\n        //Makes sure that if there is data being written to this field at\r\n        // this moment, wait until the operation is finished writing the\r\n        // updated data.\r\n        while (data1StampedLock.tryOptimisticRead() == 0)\r\n        {\r\n            try\r\n            {\r\n                delay(WRITE_LOCK_SHORT_DELAY);\r\n                delayCount += 1;\r\n            }\r\n            catch (InterruptedException e)\r\n            {\r\n                logError(&quot;Interrupted while waiting for the write lock to be\r\n                           released!&quot;, e);\r\n                Thread.currentThread().interrupt();\r\n\r\n                //There may be an issue with the JVM if this occurs, treat\r\n                // it like we might crash and try to release the write lock.\r\n                data1StampedLock.tryUnlockWrite();\r\n                break;\r\n            }\r\n\r\n            if (delayCount * WRITE_LOCK_SHORT_DELAY &gt; TimeUnit.SECONDS.toMillis(1))\r\n            {\r\n                logWarningWithAlert(&quot;Something is holding a write lock on&quot; +\r\n                    &quot; the data for a very, very long time (&gt;1s). This may&quot; +\r\n                    &quot; indicate a problem that could cause cascading&quot; +\r\n                    &quot; problems in the near future.&quot; +\r\n                    &quot; Also, the value for the data that is about to be&quot; +\r\n                    &quot; retrieved could potentially be invalid.&quot;);\r\n                break;\r\n            }\r\n        }\r\n\r\n        long nonExclusiveLockStamp = data1StampedLock.readLock();\r\n        Data data1NonVolatile = data1;\r\n        data1StampedLock.unlockRead(nonExclusiveLockStamp);\r\n        \r\n        return data1NonVolatile;\r\n\r\nThe read locks on a StampedLock are non-exclusive and are like reading from a thread-safe Map or HashTable, where it is multi-read/single-write.\r\n\r\nHere is how I am using the exclusive lock to communicate to other threads that the instance data is being written to:\r\n\r\n        long d1LockStamp = data1StampedLock.writeLock();\r\n        this.data1 = data1;\r\n        data1StampedLock.unlockWrite(d1LockStamp);\r\n\r\nSo if you wanted to only check whether or not something is locked at any given moment, you need only something simple like the following statement to get the status:\r\n\r\n        boolean data1IsLocked = data1StampedLock.tryOptimisticRead() == 0;\r\n\r\nThen check the value of that boolean.\r\n\r\nThere are, of course, the caveats and Here Be Dragons information mentioned in other answers (namely that the information is immediately stale), but if you really need to lock something and check that lock from another thread, this seemed to me to be the most reasonable, safe, and effective way that uses the java.util.concurrency package with no external dependencies.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/StampedLock.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/StampedLock.html#tryOptimisticRead--","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>I needed to also find a solution to this, so searched the Java Concurrency API and came across <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/StampedLock.html\" rel=\"nofollow noreferrer\">StampedLock</a>. The project is using Java 8.\nI am working in a heavily-threaded asynchronous data service that communicates with a native library and contains long-living configuration objects, necessitating sometimes-complex concurrency logic; thankfully this turned out to be relatively simple with the StampedLock class.</p>\n<p>StampedLock has a method called <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/StampedLock.html#tryOptimisticRead--\" rel=\"nofollow noreferrer\">tryOptimisticRead</a> which does not wait, it just returns the status in the form of a long-time time stamp, where zero (0) indicates an exclusive lock is held. I then do delay for up to a second but you could just use the function without any sort of delay.</p>\n<p>Here's how I'm detecting whether or not there's an exclusive lock, this paradigm is used in multiple locations and includes error handling:</p>\n<pre><code>    int delayCount = 0;\n\n    //Makes sure that if there is data being written to this field at\n    // this moment, wait until the operation is finished writing the\n    // updated data.\n    while (data1StampedLock.tryOptimisticRead() == 0)\n    {\n        try\n        {\n            delay(WRITE_LOCK_SHORT_DELAY);\n            delayCount += 1;\n        }\n        catch (InterruptedException e)\n        {\n            logError(&quot;Interrupted while waiting for the write lock to be\n                       released!&quot;, e);\n            Thread.currentThread().interrupt();\n\n            //There may be an issue with the JVM if this occurs, treat\n            // it like we might crash and try to release the write lock.\n            data1StampedLock.tryUnlockWrite();\n            break;\n        }\n\n        if (delayCount * WRITE_LOCK_SHORT_DELAY &gt; TimeUnit.SECONDS.toMillis(1))\n        {\n            logWarningWithAlert(&quot;Something is holding a write lock on&quot; +\n                &quot; the data for a very, very long time (&gt;1s). This may&quot; +\n                &quot; indicate a problem that could cause cascading&quot; +\n                &quot; problems in the near future.&quot; +\n                &quot; Also, the value for the data that is about to be&quot; +\n                &quot; retrieved could potentially be invalid.&quot;);\n            break;\n        }\n    }\n\n    long nonExclusiveLockStamp = data1StampedLock.readLock();\n    Data data1NonVolatile = data1;\n    data1StampedLock.unlockRead(nonExclusiveLockStamp);\n    \n    return data1NonVolatile;\n</code></pre>\n<p>The read locks on a StampedLock are non-exclusive and are like reading from a thread-safe Map or HashTable, where it is multi-read/single-write.</p>\n<p>Here is how I am using the exclusive lock to communicate to other threads that the instance data is being written to:</p>\n<pre><code>    long d1LockStamp = data1StampedLock.writeLock();\n    this.data1 = data1;\n    data1StampedLock.unlockWrite(d1LockStamp);\n</code></pre>\n<p>So if you wanted to only check whether or not something is locked at any given moment, you need only something simple like the following statement to get the status:</p>\n<pre><code>    boolean data1IsLocked = data1StampedLock.tryOptimisticRead() == 0;\n</code></pre>\n<p>Then check the value of that boolean.</p>\n<p>There are, of course, the caveats and Here Be Dragons information mentioned in other answers (namely that the information is immediately stale), but if you really need to lock something and check that lock from another thread, this seemed to me to be the most reasonable, safe, and effective way that uses the java.util.concurrency package with no external dependencies.</p>\n"},{"tags":[],"owner":{"account_id":20459968,"reputation":11,"user_id":15012833,"display_name":"Furkan Uyanik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700834259,"creation_date":1700834259,"answer_id":77543661,"question_id":1779795,"body_markdown":"If you just want to find out whether it is locked or not, you can use the code below.\r\n\r\n    public boolean isLocked() {\r\n      try {\r\n        return lock.tryLock();\r\n      } finally {\r\n        lock.unlock();\r\n      }\r\n    }","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>If you just want to find out whether it is locked or not, you can use the code below.</p>\n<pre><code>public boolean isLocked() {\n  try {\n    return lock.tryLock();\n  } finally {\n    lock.unlock();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":561506,"reputation":1311,"user_id":161200,"accept_rate":55,"display_name":"Shaitan00"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70924,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":1779813,"answer_count":9,"score":87,"last_activity_date":1700834259,"creation_date":1258920018,"question_id":1779795,"body_markdown":"I have a process A that contains a table in memory with a set of records (recordA, recordB, etc...)\r\n\r\nNow, this process can launch many threads that affect the records, and sometimes we can have 2 threads trying to access the same record - this situation must be denied. Specifically if a record is LOCKED by one thread I want the other thread to abort (I do not want to BLOCK or WAIT).\r\n\r\nCurrently I do something like this:\r\n\r\n    synchronized(record)\r\n    {\r\n    performOperation(record);\r\n    }\r\n\r\nBut this is causing me problems ... because while Process1 is performing the operation, if Process2 comes in it blocks/waits on the synchronized statement and when Process1 is finished it performs the operation. Instead I want something like this:\r\n\r\n    if (record is locked)\r\n       return;\r\n\r\n    synchronized(record)\r\n    {\r\n    performOperation(record);\r\n    }\r\n\r\nAny clues on how this can be accomplished?\r\nAny help would be much appreciated.\r\nThanks,","title":"How do determine if an object is locked (synchronized) so not to block in Java?","body":"<p>I have a process A that contains a table in memory with a set of records (recordA, recordB, etc...)</p>\n\n<p>Now, this process can launch many threads that affect the records, and sometimes we can have 2 threads trying to access the same record - this situation must be denied. Specifically if a record is LOCKED by one thread I want the other thread to abort (I do not want to BLOCK or WAIT).</p>\n\n<p>Currently I do something like this:</p>\n\n<pre><code>synchronized(record)\n{\nperformOperation(record);\n}\n</code></pre>\n\n<p>But this is causing me problems ... because while Process1 is performing the operation, if Process2 comes in it blocks/waits on the synchronized statement and when Process1 is finished it performs the operation. Instead I want something like this:</p>\n\n<pre><code>if (record is locked)\n   return;\n\nsynchronized(record)\n{\nperformOperation(record);\n}\n</code></pre>\n\n<p>Any clues on how this can be accomplished?\nAny help would be much appreciated.\nThanks,</p>\n"},{"tags":["java","generics","enums","enum-map"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700833777,"creation_date":1700833777,"answer_id":77543617,"question_id":77543585,"body_markdown":"It&#39;s not possible to use `E.class`. You need to save the class instance somehow - since the class is generic, instance variable is good choice, and then instantiate the map using the instance variable as parameter.\r\n```\r\npublic class SomeClass&lt;E extends Enum&lt;E&gt;&gt; {\r\n\r\n  private final Class&lt;E&gt; clazz;\r\n\r\n  public SomeClass(Class&lt;E&gt; clazz) {\r\n    this.clazz = clazz;\r\n  }\r\n\r\n  public void someMethod() {\r\n    Map&lt;E, Long&gt; resultMap = new EnumMap&lt;&gt;(this.clazz);\r\n  }\r\n}\r\n```","title":"Create EnumMap from generic enum","body":"<p>It's not possible to use <code>E.class</code>. You need to save the class instance somehow - since the class is generic, instance variable is good choice, and then instantiate the map using the instance variable as parameter.</p>\n<pre><code>public class SomeClass&lt;E extends Enum&lt;E&gt;&gt; {\n\n  private final Class&lt;E&gt; clazz;\n\n  public SomeClass(Class&lt;E&gt; clazz) {\n    this.clazz = clazz;\n  }\n\n  public void someMethod() {\n    Map&lt;E, Long&gt; resultMap = new EnumMap&lt;&gt;(this.clazz);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700833839,"creation_date":1700833839,"answer_id":77543625,"question_id":77543585,"body_markdown":"You can create a constructor that take a `Class&lt;E&gt;`, and then use the param to init your map like this:\r\n\r\n    public class SomeClass&lt;E extends Enum&lt;E&gt;&gt; {\r\n    \r\n        private Class&lt;E&gt; enumClass;\r\n        \r\n        public SomeClass(Class&lt;E&gt; enumClass) {\r\n            this.enumClass = enumClass;\r\n        }\r\n        \r\n        public void someMethod() {\r\n            Map&lt;E, Long&gt; resultMap = new EnumMap&lt;&gt;(enumClass);\r\n            // .....\r\n        }\r\n    }\r\n\r\nthen you can use your class for example like this:\r\n\r\n    SomeClass&lt;SomeEnum&gt; someObject = new SomeClass&lt;&gt;(SomeEnum.class);\r\n    someObject.someMethod();\r\n","title":"Create EnumMap from generic enum","body":"<p>You can create a constructor that take a <code>Class&lt;E&gt;</code>, and then use the param to init your map like this:</p>\n<pre><code>public class SomeClass&lt;E extends Enum&lt;E&gt;&gt; {\n\n    private Class&lt;E&gt; enumClass;\n    \n    public SomeClass(Class&lt;E&gt; enumClass) {\n        this.enumClass = enumClass;\n    }\n    \n    public void someMethod() {\n        Map&lt;E, Long&gt; resultMap = new EnumMap&lt;&gt;(enumClass);\n        // .....\n    }\n}\n</code></pre>\n<p>then you can use your class for example like this:</p>\n<pre><code>SomeClass&lt;SomeEnum&gt; someObject = new SomeClass&lt;&gt;(SomeEnum.class);\nsomeObject.someMethod();\n</code></pre>\n"}],"owner":{"account_id":26752,"reputation":761,"user_id":69888,"accept_rate":50,"display_name":"manuna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77543617,"answer_count":2,"score":1,"last_activity_date":1700833839,"creation_date":1700833479,"question_id":77543585,"body_markdown":"I have a class parametrized with generic enum, like this:\r\n\r\n    public class SomeClass&lt;E extends Enum&lt;E&gt;&gt; {\r\n      public void someMethod( ) {\r\n        // I want to initiate a map like this:\r\n        Map&lt;E, Long&gt; resultMap = new EnumMap&lt;&gt;(E.class);\r\n        //.....\r\n      }\r\n    }\r\nHowever, the ``EnumMap`` constructor says the following error: &quot;Cannot access class object of a type parameter&quot;.\r\n\r\nWhat is the right way to initialize EnumMap in this case?\r\n","title":"Create EnumMap from generic enum","body":"<p>I have a class parametrized with generic enum, like this:</p>\n<pre><code>public class SomeClass&lt;E extends Enum&lt;E&gt;&gt; {\n  public void someMethod( ) {\n    // I want to initiate a map like this:\n    Map&lt;E, Long&gt; resultMap = new EnumMap&lt;&gt;(E.class);\n    //.....\n  }\n}\n</code></pre>\n<p>However, the <code>EnumMap</code> constructor says the following error: &quot;Cannot access class object of a type parameter&quot;.</p>\n<p>What is the right way to initialize EnumMap in this case?</p>\n"},{"tags":["java","xml","amazon-web-services","amazon-s3","quarkus"],"comments":[{"owner":{"account_id":16136503,"reputation":71,"user_id":11648839,"display_name":"Gilles"},"score":0,"creation_date":1700829565,"post_id":77543180,"comment_id":136704082,"body_markdown":"Without code it&#39;s pretty hard to tell. But it&#39;s possible that you&#39;re not closing properly the input stream after you processed it in your `validateFile` method ? Do you use a *try with resource* or a classic *try catch finally* ?","body":"Without code it&#39;s pretty hard to tell. But it&#39;s possible that you&#39;re not closing properly the input stream after you processed it in your <code>validateFile</code> method ? Do you use a <i>try with resource</i> or a classic <i>try catch finally</i> ?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1700829780,"post_id":77543180,"comment_id":136704117,"body_markdown":"I am closing it. I use the try catch finally.","body":"I am closing it. I use the try catch finally."},{"owner":{"account_id":16136503,"reputation":71,"user_id":11648839,"display_name":"Gilles"},"score":0,"creation_date":1700831417,"post_id":77543180,"comment_id":136704419,"body_markdown":"Maybe reseting the stream after processing it will help: https://stackoverflow.com/a/21434748/11648839","body":"Maybe reseting the stream after processing it will help: <a href=\"https://stackoverflow.com/a/21434748/11648839\">stackoverflow.com/a/21434748/11648839</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700843208,"post_id":77543180,"comment_id":136706330,"body_markdown":"You&#39;ve mentioned, _&quot;...This issue arises when we add the validateFile method. Previously it was working fine. ...&quot;_.  Can you provide the code you were using previously?","body":"You&#39;ve mentioned, <i>&quot;...This issue arises when we add the validateFile method. Previously it was working fine. ...&quot;</i>.  Can you provide the code you were using previously?"}],"answers":[{"tags":[],"owner":{"account_id":8333120,"reputation":832,"user_id":12868186,"display_name":"wpnpeiris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700833836,"creation_date":1700833336,"answer_id":77543570,"question_id":77543180,"body_markdown":"You cannot read multiple times from an `InptutStream`.\r\n\r\nAs I see, it tries to save the file reading the same InputStream that was passed to `validateFile(dto.getStream());` \r\n\r\nWithin `validateFile(...)` it uses XML schema validation, which requires to read the InputStream. So, when it returns from `validateFile(...)`, input stream is already closed.\r\n\r\nSo basically, `validateFile(...)` should return a copy of same &#39;InputStream&#39;, and use it to save in S3.\r\n\r\n\r\nSomething like the following;\r\n```\r\npublic Response save(Request dto){\r\n   InputStream validatedInputStream = validateFile(dto.getStream());\r\n   saveToS3(validatedInputStream);\r\n}\r\n```\r\nAssuming `validateFile(...)` returns a new InputStream (it could be a copy of the origninal InputStream from the `Request.stream` or a new InputStream generated as part of the validation process).","title":"Corrupting Input Stream while validating it make it 0 byte during storing in s3","body":"<p>You cannot read multiple times from an <code>InptutStream</code>.</p>\n<p>As I see, it tries to save the file reading the same InputStream that was passed to <code>validateFile(dto.getStream());</code></p>\n<p>Within <code>validateFile(...)</code> it uses XML schema validation, which requires to read the InputStream. So, when it returns from <code>validateFile(...)</code>, input stream is already closed.</p>\n<p>So basically, <code>validateFile(...)</code> should return a copy of same 'InputStream', and use it to save in S3.</p>\n<p>Something like the following;</p>\n<pre><code>public Response save(Request dto){\n   InputStream validatedInputStream = validateFile(dto.getStream());\n   saveToS3(validatedInputStream);\n}\n</code></pre>\n<p>Assuming <code>validateFile(...)</code> returns a new InputStream (it could be a copy of the origninal InputStream from the <code>Request.stream</code> or a new InputStream generated as part of the validation process).</p>\n"}],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700833836,"creation_date":1700829196,"question_id":77543180,"body_markdown":"We have a application in which we are sending file of content type: form-data then we are retrieving it, we mapped it to a custom class as Input Stream\r\n ```\r\npublic class Request{\r\n    InputStream stream;\r\n    public InputStream getStream() {\r\n        return stream;\r\n    }\r\n\r\n    public void setStream(InputStream stream) {\r\n        this.stream= stream;\r\n    }\r\n}\r\n```\r\nNow we serve this as dto. \r\nAnd in the second class we have a method in which we are putting it into s3 an inside this method we call another method to validate the content of this file.\r\n```\r\npublic Response save(Request dto){\r\n   validateFile(dto.getStream());\r\n    // save file in s3 by converting it into readingAllBytes for input stream\r\n}\r\n\r\npublic void validateFile(InputStream dto){\r\n   // For this i can&#39;t put the code.\r\n   // In here we are have a code to validate the xml file content using the DocuemtnBuilder Factory\r\n// can follow this https://docs.oracle.com/javase%2Ftutorial%2F/jaxp/dom/validating.html\r\n}\r\n```\r\n\r\nNow when i saw the file in s3 there is file created but no data inside. \r\nThis issue arises when we add the validateFile method. Previously it was working fine.\r\n\r\n","title":"Corrupting Input Stream while validating it make it 0 byte during storing in s3","body":"<p>We have a application in which we are sending file of content type: form-data then we are retrieving it, we mapped it to a custom class as Input Stream</p>\n<pre><code>public class Request{\n   InputStream stream;\n   public InputStream getStream() {\n       return stream;\n   }\n\n   public void setStream(InputStream stream) {\n       this.stream= stream;\n   }\n}\n</code></pre>\n<p>Now we serve this as dto.\nAnd in the second class we have a method in which we are putting it into s3 an inside this method we call another method to validate the content of this file.</p>\n<pre><code>public Response save(Request dto){\n   validateFile(dto.getStream());\n    // save file in s3 by converting it into readingAllBytes for input stream\n}\n\npublic void validateFile(InputStream dto){\n   // For this i can't put the code.\n   // In here we are have a code to validate the xml file content using the DocuemtnBuilder Factory\n// can follow this https://docs.oracle.com/javase%2Ftutorial%2F/jaxp/dom/validating.html\n}\n</code></pre>\n<p>Now when i saw the file in s3 there is file created but no data inside.\nThis issue arises when we add the validateFile method. Previously it was working fine.</p>\n"},{"tags":["java","kotlin","completable-future"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":1,"creation_date":1700834671,"post_id":77543604,"comment_id":136704974,"body_markdown":"Does [this](https://stackoverflow.com/questions/40593837/usage-of-completablefutures-exceptionally-method-in-kotlin) help/","body":"Does <a href=\"https://stackoverflow.com/questions/40593837/usage-of-completablefutures-exceptionally-method-in-kotlin\">this</a> help/"},{"owner":{"account_id":5418581,"reputation":347,"user_id":4313009,"display_name":"Alfredo Tost&#243;n"},"score":0,"creation_date":1700837541,"post_id":77543604,"comment_id":136705469,"body_markdown":"Wow, I could have sworn I had already tried returning `null`. Simply putting `null` in the last line inside the lambda does the job. Thanks!","body":"Wow, I could have sworn I had already tried returning <code>null</code>. Simply putting <code>null</code> in the last line inside the lambda does the job. Thanks!"}],"owner":{"account_id":5418581,"reputation":347,"user_id":4313009,"display_name":"Alfredo Tost&#243;n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700833646,"creation_date":1700833646,"question_id":77543604,"body_markdown":"I am using `CompletableFuture` from `java9.util.concurrent` package in Kotlin, and it has a method `exceptionally` that receives a function `(Throwable) -&gt; Void!` that is called when I call `completeExceptionally`.\r\n\r\nIf I try a call like this:\r\n\r\n```kotlin\r\nmyCompletableFuture.exceptionally { exception -&gt;\r\n    doSomethingWith(exception)\r\n}\r\n```\r\n\r\nThe IDE complains about that I am returning `Unit` and I should be returning `Void!`.\r\n\r\nI have tried also the following:\r\n\r\n```kotlin\r\nmyCompletableFuture.exceptionally { exception -&gt;\r\n    doSomethingWith(exception)\r\n    val returnValue: Void by Delegates.notNull()\r\n    returnValue\r\n}\r\n```\r\n\r\nBut when executed, it throws a `java.lang.IllegalStateException` with the message `Property returnValue should be initialized before get`:\r\n\r\n```\r\njava.lang.IllegalStateException: Property returnValue should be initialized before get.\r\n\tat kotlin.properties.NotNullVar.getValue(Delegates.kt:62)\r\n```\r\n\r\nShould I avoid using `CompletableFuture`s at all, or there is a workarround os some kind to deal with this problem?","title":"How to get a Void value in Kotlin for returning functions that requires it","body":"<p>I am using <code>CompletableFuture</code> from <code>java9.util.concurrent</code> package in Kotlin, and it has a method <code>exceptionally</code> that receives a function <code>(Throwable) -&gt; Void!</code> that is called when I call <code>completeExceptionally</code>.</p>\n<p>If I try a call like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>myCompletableFuture.exceptionally { exception -&gt;\n    doSomethingWith(exception)\n}\n</code></pre>\n<p>The IDE complains about that I am returning <code>Unit</code> and I should be returning <code>Void!</code>.</p>\n<p>I have tried also the following:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>myCompletableFuture.exceptionally { exception -&gt;\n    doSomethingWith(exception)\n    val returnValue: Void by Delegates.notNull()\n    returnValue\n}\n</code></pre>\n<p>But when executed, it throws a <code>java.lang.IllegalStateException</code> with the message <code>Property returnValue should be initialized before get</code>:</p>\n<pre><code>java.lang.IllegalStateException: Property returnValue should be initialized before get.\n    at kotlin.properties.NotNullVar.getValue(Delegates.kt:62)\n</code></pre>\n<p>Should I avoid using <code>CompletableFuture</code>s at all, or there is a workarround os some kind to deal with this problem?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","spring-cloud"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1701082559,"post_id":77543555,"comment_id":136726657,"body_markdown":"`I was using Spring batch (3.1.0)`: There is no version 3.1.0 of Spring Batch, the 3.x line stopped at 3.0.10. Do you mean Spring Batch 3.0.10 or is it Spring Boot 3.1.0? Please check this and also share the version that you upgraded to, to be able to tell what has changed between the two versions.","body":"<code>I was using Spring batch (3.1.0)</code>: There is no version 3.1.0 of Spring Batch, the 3.x line stopped at 3.0.10. Do you mean Spring Batch 3.0.10 or is it Spring Boot 3.1.0? Please check this and also share the version that you upgraded to, to be able to tell what has changed between the two versions."},{"owner":{"account_id":10825123,"reputation":117,"user_id":7961246,"display_name":"Safwan Muhammed"},"score":0,"creation_date":1701082811,"post_id":77543555,"comment_id":136726699,"body_markdown":"@MahmoudBenHassine Basically it is 3.x version.","body":"@MahmoudBenHassine Basically it is 3.x version."},{"owner":{"account_id":10825123,"reputation":117,"user_id":7961246,"display_name":"Safwan Muhammed"},"score":0,"creation_date":1701083195,"post_id":77543555,"comment_id":136726764,"body_markdown":"Update : GoogleStorageResource instead of Resource resolved this particular exception. Currently I am facing issue with custom writing. Using your approach https://stackoverflow.com/questions/50685891/spring-batch-file-writer-to-write-directly-to-amazon-s3-storage-without-putobjec file is being writing over and over again in bucket. I need to write the final output file in bucket rather than each chunk. @MahmoudBenHassine","body":"Update : GoogleStorageResource instead of Resource resolved this particular exception. Currently I am facing issue with custom writing. Using your approach <a href=\"https://stackoverflow.com/questions/50685891/spring-batch-file-writer-to-write-directly-to-amazon-s3-storage-without-putobjec\" title=\"spring batch file writer to write directly to amazon s3 storage without putobjec\">stackoverflow.com/questions/50685891/&hellip;</a> file is being writing over and over again in bucket. I need to write the final output file in bucket rather than each chunk. @MahmoudBenHassine"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1701088691,"post_id":77543555,"comment_id":136727674,"body_markdown":"Good to hear using `GoogleStorageResource` solved the issue. May be add an answer with that so that people in the same situation know how you resolved the issue. Regarding `Using your approach file is being writing over and over again in bucket. I need to write the final output file in bucket rather than each chunk.`: I did not try that writer, just gave it as a starting point. Have you tried to extract the output stream from the write method? I will update that answer accordingly.","body":"Good to hear using <code>GoogleStorageResource</code> solved the issue. May be add an answer with that so that people in the same situation know how you resolved the issue. Regarding <code>Using your approach file is being writing over and over again in bucket. I need to write the final output file in bucket rather than each chunk.</code>: I did not try that writer, just gave it as a starting point. Have you tried to extract the output stream from the write method? I will update that answer accordingly."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1701089096,"post_id":77543555,"comment_id":136727736,"body_markdown":"I updated the answer: https://stackoverflow.com/a/54947585/5019386. Hope it helps now.","body":"I updated the answer: <a href=\"https://stackoverflow.com/a/54947585/5019386\">stackoverflow.com/a/54947585/5019386</a>. Hope it helps now."}],"owner":{"account_id":10825123,"reputation":117,"user_id":7961246,"display_name":"Safwan Muhammed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700833198,"creation_date":1700833198,"question_id":77543555,"body_markdown":"I was using Spring batch (3.1.0) for my project. The requirement is to write the output file directly to GCP bucket. Using custom writer\r\n```\r\npublic class GSWriter implements ItemWriter&lt;String&gt; {\r\n\r\n    private ResourceLoader resourceLoader;\r\n    private WritableResource resource;\r\n\r\npublic GSWriter(ResourceLoader resourceLoader, String resource) {\r\n        this.resourceLoader = resourceLoader;\r\n        this.resource = (WritableResource) this.resourceLoader.getResource(resource);\r\n    }\r\n\r\n@Override\r\n    public void write(Chunk&lt;? extends String&gt; items) throws Exception {\r\n\r\n        try (OutputStream outputStream = resource.getOutputStream()) {\r\n            items.forEach((item) -&gt; {\r\n                try {\r\n                    outputStream.write(item.getBytes());\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\nWhen I pass the resource URL(gs://{BUCKET_NAME}/{file.csv}) getting the ClassCastException.\r\n```\r\njava.base/java.lang.Thread.run(Thread.java:833)\\r\\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.equifax.dfca.cdms.configuration.GSWriter]: Factory method \\u0027writer\\u0027 threw exception with message: class org.springframework.web.context.support.ServletContextResource cannot be cast to class org.springframework.core.io.WritableResource (org.springframework.web.context.support.ServletContextResource and org.springframework.core.io.WritableResource are in unnamed module of loader \\u0027app\\u0027)\\r\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\\r\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\\r\\n\\t... 25 common frames omitted\\r\\nCaused by: java.lang.ClassCastException: class org.springframework.web.context.support.ServletContextResource cannot be cast to class org.springframework.core.io.WritableResource (org.springframework.web.context.support.ServletContextResource and org.springframework.core.io.WritableResource are in unnamed module of loader \\u0027app\\u0027)\\r\\n\\tat \r\n```","title":"class org.springframework.web.context.support.ServletContextResource cannot be cast to class org.springframework.core.io.WritableResource","body":"<p>I was using Spring batch (3.1.0) for my project. The requirement is to write the output file directly to GCP bucket. Using custom writer</p>\n<pre><code>public class GSWriter implements ItemWriter&lt;String&gt; {\n\n    private ResourceLoader resourceLoader;\n    private WritableResource resource;\n\npublic GSWriter(ResourceLoader resourceLoader, String resource) {\n        this.resourceLoader = resourceLoader;\n        this.resource = (WritableResource) this.resourceLoader.getResource(resource);\n    }\n\n@Override\n    public void write(Chunk&lt;? extends String&gt; items) throws Exception {\n\n        try (OutputStream outputStream = resource.getOutputStream()) {\n            items.forEach((item) -&gt; {\n                try {\n                    outputStream.write(item.getBytes());\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>When I pass the resource URL(gs://{BUCKET_NAME}/{file.csv}) getting the ClassCastException.</p>\n<pre><code>java.base/java.lang.Thread.run(Thread.java:833)\\r\\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.equifax.dfca.cdms.configuration.GSWriter]: Factory method \\u0027writer\\u0027 threw exception with message: class org.springframework.web.context.support.ServletContextResource cannot be cast to class org.springframework.core.io.WritableResource (org.springframework.web.context.support.ServletContextResource and org.springframework.core.io.WritableResource are in unnamed module of loader \\u0027app\\u0027)\\r\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\\r\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\\r\\n\\t... 25 common frames omitted\\r\\nCaused by: java.lang.ClassCastException: class org.springframework.web.context.support.ServletContextResource cannot be cast to class org.springframework.core.io.WritableResource (org.springframework.web.context.support.ServletContextResource and org.springframework.core.io.WritableResource are in unnamed module of loader \\u0027app\\u0027)\\r\\n\\tat \n</code></pre>\n"},{"tags":["java","methods","static"],"comments":[{"owner":{"account_id":3597514,"reputation":117146,"user_id":3001761,"display_name":"jonrsharpe"},"score":4,"creation_date":1505161156,"post_id":46163755,"comment_id":79289869,"body_markdown":"It *explicitly* creates a new instance every time...","body":"It <i>explicitly</i> creates a new instance every time..."},{"owner":{"account_id":4673634,"reputation":1338,"user_id":3784768,"display_name":"Denys"},"score":0,"creation_date":1505161601,"post_id":46163755,"comment_id":79290098,"body_markdown":"The static is only method, i.e. everything that inside the method (content) is represented as static and is not associated with any object. But the content of the method creates new object every time and returns it to you.","body":"The static is only method, i.e. everything that inside the method (content) is represented as static and is not associated with any object. But the content of the method creates new object every time and returns it to you."},{"owner":{"account_id":277416,"reputation":681828,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1505161620,"post_id":46163755,"comment_id":79290110,"body_markdown":"This is something that you should be able to test by yourself (if you really think it needs testing). Add a System.out.println(&quot;hello&quot;) in the constructor of MyClass, call your static method 5 times, and see how many times hello is printed.","body":"This is something that you should be able to test by yourself (if you really think it needs testing). Add a System.out.println(&quot;hello&quot;) in the constructor of MyClass, call your static method 5 times, and see how many times hello is printed."},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1505161653,"post_id":46163755,"comment_id":79290123,"body_markdown":"@JBNizet or just `System.out.println(GetMyClass() == GetMyClass())`.","body":"@JBNizet or just <code>System.out.println(GetMyClass() == GetMyClass())</code>."},{"owner":{"account_id":277416,"reputation":681828,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1505161736,"post_id":46163755,"comment_id":79290166,"body_markdown":"Indeed. Plenty of ways to experiment and learn at the same time.","body":"Indeed. Plenty of ways to experiment and learn at the same time."}],"answers":[{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505161611,"creation_date":1505161611,"answer_id":46163855,"question_id":46163755,"body_markdown":"&gt; Will this static method return a new instance of `MyClass` every time it is called?\r\n\r\nYes. You explicitly create an return a new instance of `MyClass`.\r\n","title":"Are values returned by static method are static?","body":"<blockquote>\n  <p>Will this static method return a new instance of <code>MyClass</code> every time it is called?</p>\n</blockquote>\n\n<p>Yes. You explicitly create an return a new instance of <code>MyClass</code>.</p>\n"},{"tags":[],"owner":{"account_id":1774157,"reputation":857,"user_id":1618297,"accept_rate":44,"display_name":"PhiloEpisteme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505161736,"creation_date":1505161736,"answer_id":46163882,"question_id":46163755,"body_markdown":"You are creating a new object every time you call `new MyClass()` therefore you can expect that it will return a new instance. You can check this by calling this method twice and comparing the results.\r\n    ","title":"Are values returned by static method are static?","body":"<p>You are creating a new object every time you call <code>new MyClass()</code> therefore you can expect that it will return a new instance. You can check this by calling this method twice and comparing the results.</p>\n"},{"tags":[],"owner":{"account_id":3570328,"reputation":745,"user_id":2980812,"display_name":"Fernando Mart&#237;n Besteiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505161771,"creation_date":1505161771,"answer_id":46163888,"question_id":46163755,"body_markdown":"It is nor static nor dynamic. It&#39;s just an instance. It&#39;s up to the developer and the usage of the object. \r\n\r\nEvery time the static method is invoked, a new instance will be created.","title":"Are values returned by static method are static?","body":"<p>It is nor static nor dynamic. It's just an instance. It's up to the developer and the usage of the object. </p>\n\n<p>Every time the static method is invoked, a new instance will be created.</p>\n"},{"tags":[],"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700833046,"creation_date":1505162157,"answer_id":46163976,"question_id":46163755,"body_markdown":"Declaring a method `static` means it is a class method and can be called on the class without an instance (and can&#39;t access instance members because there&#39;s no object in context to use - no `this`).\r\n\r\nLook at the code below. Expected output:\r\n\r\n    [1] Different\r\n    [2] Same\r\n\r\nIf you want a variable to have the lifetime of the class and return the same object every time also declare the variable as `static` in the class:\r\n\r\n\r\n\tpublic static String getThing(){\r\n\t\tString r=new String(&quot;ABC&quot;);//Created every time the method is invoked.\r\n\t\treturn r;\r\n\t}\r\n\t\r\n\tprivate static String sr=new String(&quot;ABC&quot;);//Static member - one for the whole class.\r\n\t\r\n\tpublic static String getStaticThing(){\r\n\t\treturn sr;\r\n\t}\r\n\t\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tString thing1=getThing();\r\n\t\tString thing2=getThing();\r\n\t\tif(thing1==thing2){\r\n\t\t\tSystem.out.println(&quot;[1] Same&quot;);\r\n\t\t}else{\r\n\t\t\tSystem.out.println(&quot;[1] Different&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tString thing1s=getStaticThing();\r\n\t\tString thing2s=getStaticThing();\r\n\t\tif(thing1s==thing2s){\r\n\t\t\tSystem.out.println(&quot;[2] Same&quot;);\r\n\t\t}else{\r\n\t\t\tSystem.out.println(&quot;[2] Different&quot;);\r\n\t\t}\r\n\t}\r\n","title":"Are values returned by static method are static?","body":"<p>Declaring a method <code>static</code> means it is a class method and can be called on the class without an instance (and can't access instance members because there's no object in context to use - no <code>this</code>).</p>\n<p>Look at the code below. Expected output:</p>\n<pre><code>[1] Different\n[2] Same\n</code></pre>\n<p>If you want a variable to have the lifetime of the class and return the same object every time also declare the variable as <code>static</code> in the class:</p>\n<pre><code>public static String getThing(){\n    String r=new String(&quot;ABC&quot;);//Created every time the method is invoked.\n    return r;\n}\n\nprivate static String sr=new String(&quot;ABC&quot;);//Static member - one for the whole class.\n\npublic static String getStaticThing(){\n    return sr;\n}\n\npublic static void main (String[] args) throws java.lang.Exception\n{\n    String thing1=getThing();\n    String thing2=getThing();\n    if(thing1==thing2){\n        System.out.println(&quot;[1] Same&quot;);\n    }else{\n        System.out.println(&quot;[1] Different&quot;);\n    }\n    \n    String thing1s=getStaticThing();\n    String thing2s=getStaticThing();\n    if(thing1s==thing2s){\n        System.out.println(&quot;[2] Same&quot;);\n    }else{\n        System.out.println(&quot;[2] Different&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4328833,"reputation":65,"user_id":3534857,"display_name":"user3534857"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505162892,"creation_date":1505162892,"answer_id":46164150,"question_id":46163755,"body_markdown":"The new keyword creates a new instance everything the method is called and the instance is returned to the caller. The static keyword tells the compiler that the method is available at class level itself. The caller can use the instance returned. ","title":"Are values returned by static method are static?","body":"<p>The new keyword creates a new instance everything the method is called and the instance is returned to the caller. The static keyword tells the compiler that the method is available at class level itself. The caller can use the instance returned. </p>\n"}],"owner":{"account_id":2377264,"reputation":910,"user_id":2080257,"accept_rate":47,"display_name":"Sisyphus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5264,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":46163976,"answer_count":5,"score":-1,"last_activity_date":1700833046,"creation_date":1505161066,"question_id":46163755,"body_markdown":"Please consider this code\r\n\r\n    public class Utilities\r\n    {\r\n         public static MyClass GetMyClass()\r\n         {\r\n              MyClass cls = new MyClass();\r\n              return cls;\r\n         }\r\n    }\r\n\r\nWill this static method return a new instance of `MyClass` every time it is called? or it is going to return a reference to the same instance over and over?\r\n","title":"Are values returned by static method are static?","body":"<p>Please consider this code</p>\n\n<pre><code>public class Utilities\n{\n     public static MyClass GetMyClass()\n     {\n          MyClass cls = new MyClass();\n          return cls;\n     }\n}\n</code></pre>\n\n<p>Will this static method return a new instance of <code>MyClass</code> every time it is called? or it is going to return a reference to the same instance over and over?</p>\n"},{"tags":["java","json","firebase","google-cloud-storage"],"answers":[{"tags":[],"owner":{"account_id":30002,"reputation":37409,"user_id":81491,"accept_rate":82,"display_name":"Brandon Yarbrough"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511194660,"creation_date":1511194660,"answer_id":47396453,"question_id":47388452,"body_markdown":"Hrm, looks like you&#39;re right. There doesn&#39;t seem to be a way to set a project when creating a bucket with the Java client. I filed a bug: https://github.com/GoogleCloudPlatform/google-cloud-java/issues/2643\r\n\r\nYou can probably get around this by specifying the project when setting up the StorageOptions:\r\n\r\n    StorageOptions.newBuilder().setProjectId(&quot;my-project-id&quot;)\r\n        //continue as normal","title":"How to set project ID in google cloud storage builder?","body":"<p>Hrm, looks like you're right. There doesn't seem to be a way to set a project when creating a bucket with the Java client. I filed a bug: <a href=\"https://github.com/GoogleCloudPlatform/google-cloud-java/issues/2643\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/google-cloud-java/issues/2643</a></p>\n\n<p>You can probably get around this by specifying the project when setting up the StorageOptions:</p>\n\n<pre><code>StorageOptions.newBuilder().setProjectId(\"my-project-id\")\n    //continue as normal\n</code></pre>\n"}],"owner":{"account_id":6547813,"reputation":195,"user_id":5063221,"accept_rate":60,"display_name":"komal sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3941,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1700832843,"creation_date":1511169188,"question_id":47388452,"body_markdown":"I am trying to upload an Image to `Google Cloud storage` but while creating `StorageOptions` I am getting `project must be specified.` exception.\r\n\r\nI followed the official documentation and choose to use `Json` credentials after performing following steps:\r\n\r\n 1. Create a new `Service Account Key`\r\n 2. In `Role` I have selected `Owner` (change it later)\r\n 3. Download the `Json` key and using following sample to connect with it\r\n\r\n        public static void main(String[] args) throws IOException {\r\n        Storage storage = StorageOptions.newBuilder()\r\n                .setCredentials(ServiceAccountCredentials.fromStream(new FileInputStream(&quot;/Users/test/sample/app/project-936c0c6ef960.json&quot;)))\r\n                .build()\r\n                .getService();\r\n\r\n        String bucketName = &quot;Sample&quot;;\r\n        Bucket bucket = storage.create(BucketInfo.of(bucketName));\r\n        System.out.printf(&quot;Bucket %s created.%n&quot;, bucket.getName());\r\n        }\r\nWhat am I doing wrong here?\r\n\r\n\r\n\r\n","title":"How to set project ID in google cloud storage builder?","body":"<p>I am trying to upload an Image to <code>Google Cloud storage</code> but while creating <code>StorageOptions</code> I am getting <code>project must be specified.</code> exception.</p>\n\n<p>I followed the official documentation and choose to use <code>Json</code> credentials after performing following steps:</p>\n\n<ol>\n<li>Create a new <code>Service Account Key</code></li>\n<li>In <code>Role</code> I have selected <code>Owner</code> (change it later)</li>\n<li><p>Download the <code>Json</code> key and using following sample to connect with it</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\nStorage storage = StorageOptions.newBuilder()\n        .setCredentials(ServiceAccountCredentials.fromStream(new FileInputStream(\"/Users/test/sample/app/project-936c0c6ef960.json\")))\n        .build()\n        .getService();\n\nString bucketName = \"Sample\";\nBucket bucket = storage.create(BucketInfo.of(bucketName));\nSystem.out.printf(\"Bucket %s created.%n\", bucket.getName());\n}\n</code></pre>\n\n<p>What am I doing wrong here?</p></li>\n</ol>\n"},{"tags":["java","spring","hibernate","transactions","controller"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1437240154,"post_id":31475085,"comment_id":50950797,"body_markdown":"`@Transactional` on that method doesn&#39;t have any added value as it is an internal method call. Spring uses proxies and only calls into the object pass thorough the proxy. Also your code is flawed you shouldn&#39;t catch and swallow exceptions as that interferes with the tx support (it relies on transactions to determine to rollback or not, currently there is never an exception hence always tries to commit). Finally you are using MySQL make sure that you are using table types that actually supports transactions (MyISAM tables don&#39;t have tx support).","body":"<code>@Transactional</code> on that method doesn&#39;t have any added value as it is an internal method call. Spring uses proxies and only calls into the object pass thorough the proxy. Also your code is flawed you shouldn&#39;t catch and swallow exceptions as that interferes with the tx support (it relies on transactions to determine to rollback or not, currently there is never an exception hence always tries to commit). Finally you are using MySQL make sure that you are using table types that actually supports transactions (MyISAM tables don&#39;t have tx support)."},{"owner":{"account_id":3131759,"reputation":1989,"user_id":2649332,"accept_rate":50,"display_name":"Steve Park"},"score":1,"creation_date":1437422730,"post_id":31475085,"comment_id":51011925,"body_markdown":"I doubt that putting Transactional annotation on Controller level is even good practice. I thought it better goes for Service level. See this ( http://stackoverflow.com/questions/1079114/spring-transactional-annotation-best-practice )","body":"I doubt that putting Transactional annotation on Controller level is even good practice. I thought it better goes for Service level. See this ( <a href=\"http://stackoverflow.com/questions/1079114/spring-transactional-annotation-best-practice\" title=\"spring transactional annotation best practice\">stackoverflow.com/questions/1079114/&hellip;</a> )"},{"owner":{"account_id":3425148,"reputation":449,"user_id":2871092,"accept_rate":100,"display_name":"risoldi"},"score":0,"creation_date":1437459672,"post_id":31475085,"comment_id":51023684,"body_markdown":"@StevePark No doubt about that. However, as I said in my question, the point is that it is technically feasible, and what I am trying to understand here is why it is not working. Indeed, putting it in the service layer does not solve the problem in itself.","body":"@StevePark No doubt about that. However, as I said in my question, the point is that it is technically feasible, and what I am trying to understand here is why it is not working. Indeed, putting it in the service layer does not solve the problem in itself."},{"owner":{"account_id":3425148,"reputation":449,"user_id":2871092,"accept_rate":100,"display_name":"risoldi"},"score":0,"creation_date":1437459740,"post_id":31475085,"comment_id":51023712,"body_markdown":"@M.Deinum Thanks, that was a good pointer. I tried moving transactional up to the controller endpoint, and indeed it worked. However that was ugly :) so I ended up reorganizing things, so the transaction is not in the controller anymore. Would you convert your comment to an answer, so I can accept it?","body":"@M.Deinum Thanks, that was a good pointer. I tried moving transactional up to the controller endpoint, and indeed it worked. However that was ugly :) so I ended up reorganizing things, so the transaction is not in the controller anymore. Would you convert your comment to an answer, so I can accept it?"}],"answers":[{"tags":[],"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437135705,"creation_date":1437135705,"answer_id":31475757,"question_id":31475085,"body_markdown":"With proxy-target-class=&quot;true&quot; you&#39;re telling spring to use cglib to handle the proxying but you&#39;ve specified scoped-proxy=&quot;interfaces&quot;. \n\nSee \nhttps://stackoverflow.com/a/15568457/117839","title":"@Transactional on controller method not working","body":"<p>With proxy-target-class=\"true\" you're telling spring to use cglib to handle the proxying but you've specified scoped-proxy=\"interfaces\". </p>\n\n<p>See \n<a href=\"https://stackoverflow.com/a/15568457/117839\">https://stackoverflow.com/a/15568457/117839</a></p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1437461235,"creation_date":1437461235,"answer_id":31532100,"question_id":31475085,"body_markdown":"`@Transactional` on that method doesn&#39;t have any added value as it is an internal method call (and your class is already transactional). Spring uses proxies and only calls into the object pass thorough the proxy. \r\n\r\nAlso your code is flawed you shouldn&#39;t catch and swallow exceptions as that interferes with the tx support (it relies on transactions to determine to rollback or not, currently there is never an exception hence always tries to commit). \r\n\r\nFinally you are using MySQL make sure that you are using table types that actually supports transactions (MyISAM tables don&#39;t have tx support).\r\n\r\nI would however strongly suggest to move the transactional part (or the business logic which you are now doing in your controller) to a service. The controller (or web layer in general) should only be a thin layer converting the incoming request into something useable for the service layer and the result into something useable for the web to display.\r\n","title":"@Transactional on controller method not working","body":"<p><code>@Transactional</code> on that method doesn't have any added value as it is an internal method call (and your class is already transactional). Spring uses proxies and only calls into the object pass thorough the proxy. </p>\n\n<p>Also your code is flawed you shouldn't catch and swallow exceptions as that interferes with the tx support (it relies on transactions to determine to rollback or not, currently there is never an exception hence always tries to commit). </p>\n\n<p>Finally you are using MySQL make sure that you are using table types that actually supports transactions (MyISAM tables don't have tx support).</p>\n\n<p>I would however strongly suggest to move the transactional part (or the business logic which you are now doing in your controller) to a service. The controller (or web layer in general) should only be a thin layer converting the incoming request into something useable for the service layer and the result into something useable for the web to display.</p>\n"}],"owner":{"account_id":3425148,"reputation":449,"user_id":2871092,"accept_rate":100,"display_name":"risoldi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2743,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31532100,"answer_count":2,"score":2,"last_activity_date":1700832140,"creation_date":1437133526,"question_id":31475085,"body_markdown":"In my Spring MVC application, I have a method in a controller that needs to save a bunch of objects (built from an uploaded file) to a database. Let us leave aside for the moment the whole question about whether transactions should be done in the controller or service layer -- the point is that it should technically be feasible to do it in the controller, but I am finding problems.\r\nIf you look at the code below, what I am expecting is that if any of the three calls to saveContact fails with an Exception (any exception, since I put rollbackFor = Exception.class ), then all three should be rolled back. Still, what I see is that if for example the third one fails, the data from the first two is still present in the database. The exception thrown is a PersistenceException, so I believe this should trigger the rollback, but it doesn&#39;t (it bubbles up to the client&#39;s browser, which is what I expected since I&#39;m not catching it).\r\n\r\n    code removed for security reasons\r\n\r\nThanks","title":"@Transactional on controller method not working","body":"<p>In my Spring MVC application, I have a method in a controller that needs to save a bunch of objects (built from an uploaded file) to a database. Let us leave aside for the moment the whole question about whether transactions should be done in the controller or service layer -- the point is that it should technically be feasible to do it in the controller, but I am finding problems.\nIf you look at the code below, what I am expecting is that if any of the three calls to saveContact fails with an Exception (any exception, since I put rollbackFor = Exception.class ), then all three should be rolled back. Still, what I see is that if for example the third one fails, the data from the first two is still present in the database. The exception thrown is a PersistenceException, so I believe this should trigger the rollback, but it doesn't (it bubbles up to the client's browser, which is what I expected since I'm not catching it).</p>\n<pre><code>code removed for security reasons\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","casting","int"],"answers":[{"tags":[],"owner":{"account_id":221606,"reputation":12485,"user_id":2083327,"accept_rate":75,"display_name":"R&#252;diger Klaehn"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1406410422,"creation_date":1406408447,"answer_id":24975511,"question_id":24975469,"body_markdown":"Yes. [IEEE floats][1] and doubles are arranged in such a way that you can compare them by doing an ___unsigned___ comparison of the raw binary representation. The function to convert from float to raw integer and back are [java.lang.Float.floatToIntBits][2] and [java.lang.Float.intBitsToFloat][3]. These functions are processor intrinsics, so they have an extremely low cost.\r\n\r\nThe same is true for longs and doubles. Here the conversion functions are [java.lang.Double.doubleToLongBits][4] and [java.lang.Double.longBitsToDouble][5].\r\n\r\nNote that if you want to use the normal ___signed___ comparison for your integers, you have to do some additional transformation in addition to the conversion to integer. \r\n\r\nThe only exception to this rule is NaN, which does not permit a total ordering anyway.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/IEEE_floating_point\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#floatToIntBits(float)\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#intBitsToFloat(int)\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#doubleToLongBits(double)\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#longBitsToDouble(long)","title":"Bijection between Java float and integer keeping order","body":"<p>Yes. <a href=\"http://en.wikipedia.org/wiki/IEEE_floating_point\" rel=\"nofollow\">IEEE floats</a> and doubles are arranged in such a way that you can compare them by doing an <strong><em>unsigned</em></strong> comparison of the raw binary representation. The function to convert from float to raw integer and back are <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#floatToIntBits(float)\" rel=\"nofollow\">java.lang.Float.floatToIntBits</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#intBitsToFloat(int)\" rel=\"nofollow\">java.lang.Float.intBitsToFloat</a>. These functions are processor intrinsics, so they have an extremely low cost.</p>\n\n<p>The same is true for longs and doubles. Here the conversion functions are <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#doubleToLongBits(double)\" rel=\"nofollow\">java.lang.Double.doubleToLongBits</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#longBitsToDouble(long)\" rel=\"nofollow\">java.lang.Double.longBitsToDouble</a>.</p>\n\n<p>Note that if you want to use the normal <strong><em>signed</em></strong> comparison for your integers, you have to do some additional transformation in addition to the conversion to integer. </p>\n\n<p>The only exception to this rule is NaN, which does not permit a total ordering anyway.</p>\n"},{"tags":[],"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1406408511,"creation_date":1406408511,"answer_id":24975518,"question_id":24975469,"body_markdown":"    f1 == f2\r\n\r\nis impossible, see [this answer][1] for more info. You will need to include a delta if you actually want to APPROXIMATE your equality-check.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11825865/351861","title":"Bijection between Java float and integer keeping order","body":"<pre><code>f1 == f2\n</code></pre>\n\n<p>is impossible, see <a href=\"https://stackoverflow.com/a/11825865/351861\">this answer</a> for more info. You will need to include a delta if you actually want to APPROXIMATE your equality-check.</p>\n"},{"tags":[],"owner":{"account_id":1640113,"reputation":6034,"user_id":1512743,"accept_rate":86,"display_name":"Devarsh Desai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406409538,"creation_date":1406408542,"answer_id":24975522,"question_id":24975469,"body_markdown":"I see what you&#39;re saying. At first I had a different interpretation of your question. As everyone else has mention: yes. Use the articles described [here][1] and [here][2] to explain why we should use the methods described by @Peter Lawrey in order to compare the underlying bit pattern between ints and floats\n\n  [1]: http://www.theregister.co.uk/2006/08/12/floating_point_approximation/\n  [2]: https://stackoverflow.com/questions/1088216/whats-wrong-with-using-to-compare-floats-in-java","title":"Bijection between Java float and integer keeping order","body":"<p>I see what you're saying. At first I had a different interpretation of your question. As everyone else has mention: yes. Use the articles described <a href=\"http://www.theregister.co.uk/2006/08/12/floating_point_approximation/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stackoverflow.com/questions/1088216/whats-wrong-with-using-to-compare-floats-in-java\">here</a> to explain why we should use the methods described by @Peter Lawrey in order to compare the underlying bit pattern between ints and floats</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406408773,"creation_date":1406408773,"answer_id":24975544,"question_id":24975469,"body_markdown":"You can use\r\n\r\n    int n = Float.floatToRawIntBits(f);\r\n\r\n    float f2 = Float.intBitToFloat(n);\r\n\r\n    int n2 = Float.floatToRawIntBits(f2);\r\n    \r\n    assert n == n2; // always\r\n    assert f == f2 || Float.isNaN(f);\r\n\r\nThe raw bits as a `int` have the same sort order as the original `float` with the exception of the `NaN` values which are not comparable as a `float` value have a value as an `int`\r\n\r\nNote: there is multiple values for `NaN` which are not equal to each other as `float`","title":"Bijection between Java float and integer keeping order","body":"<p>You can use</p>\n\n<pre><code>int n = Float.floatToRawIntBits(f);\n\nfloat f2 = Float.intBitToFloat(n);\n\nint n2 = Float.floatToRawIntBits(f2);\n\nassert n == n2; // always\nassert f == f2 || Float.isNaN(f);\n</code></pre>\n\n<p>The raw bits as a <code>int</code> have the same sort order as the original <code>float</code> with the exception of the <code>NaN</code> values which are not comparable as a <code>float</code> value have a value as an <code>int</code></p>\n\n<p>Note: there is multiple values for <code>NaN</code> which are not equal to each other as <code>float</code></p>\n"},{"tags":[],"owner":{"account_id":1652167,"reputation":3610,"user_id":1522522,"accept_rate":86,"display_name":"vandale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406408794,"creation_date":1406408794,"answer_id":24975547,"question_id":24975469,"body_markdown":"No you cannot\r\n\r\nThere are 2^32 possible int values, all of which are distinct.\r\nHowever, thee are less than 2^32 floats; ie. 7FF0000000000001 to 7FF7FFFFFFFFFFFF represent NaN&#39;s,\r\n\r\nThere fore, you have more ints than floats an cannot distinctly map them to each other as `toFloat(i1)` would not be cable of producing a distinct float for every int","title":"Bijection between Java float and integer keeping order","body":"<p>No you cannot</p>\n\n<p>There are 2^32 possible int values, all of which are distinct.\nHowever, thee are less than 2^32 floats; ie. 7FF0000000000001 to 7FF7FFFFFFFFFFFF represent NaN's,</p>\n\n<p>There fore, you have more ints than floats an cannot distinctly map them to each other as <code>toFloat(i1)</code> would not be cable of producing a distinct float for every int</p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406413317,"creation_date":1406413317,"answer_id":24976059,"question_id":24975469,"body_markdown":"The answer from R&#252;diger Klaehn gives the normal case, but it lacks some details. The bijection exits only in the domain of *nice and clean* floats.\r\n\r\nNotice : representation of an IEEE float is `sign_bit(1 bit) exponent(8 bits) sinificand(23 bits)` and the value is : `(-1)&lt;sup&gt;sign&lt;/sup&gt; * 2&lt;sup&gt;exp&lt;/sup&gt; * significand` in *clean* cases. In fact, the 23 bits represent the fractional part of the actual significand, the integer part being 1.\r\n\r\nAll is fine for `0 &lt; exp &lt; 255` (which correspond to *normal* not null floats ) as an unsigned byte and in that domain you have a bijection.\r\n\r\nFor `exp == 255` you have the infinite values is `significand == 0` and all the NaN for `significand != 0` - ok, you explicitely excluded them.\r\n\r\nBut for `exp == 0` there are still weird things : when `significand == 0` you have +0 and -0. I am not sure if they are considered equal. If anybody knows, please feel free to edit the post. But as integer values, they will of course be different.\r\n\r\nAnd when `exp == 0` and `significand != 0` you find denormalized numbers ... which while not being equal will be converted to either 0 of the littlest number not being 0.\r\n\r\nSo if you want a bijection only use *normal* numbers having `0 &lt; exp &lt; 255&lt;` and avoid NaN, infinite, 0 and denormal numbers where things *are* weird.\r\n\r\nReferences : \r\n\r\n- [IEEE floating point](http://en.wikipedia.org/wiki/IEEE_floating_point)\r\n- [Single-precision floating-point format](http://en.wikipedia.org/wiki/Single_precision_floating-point_format)\r\n- [Denormal number](http://en.wikipedia.org/wiki/Denormal_numbers)","title":"Bijection between Java float and integer keeping order","body":"<p>The answer from Rüdiger Klaehn gives the normal case, but it lacks some details. The bijection exits only in the domain of <em>nice and clean</em> floats.</p>\n\n<p>Notice : representation of an IEEE float is <code>sign_bit(1 bit) exponent(8 bits) sinificand(23 bits)</code> and the value is : <code>(-1)&lt;sup&gt;sign&lt;/sup&gt; * 2&lt;sup&gt;exp&lt;/sup&gt; * significand</code> in <em>clean</em> cases. In fact, the 23 bits represent the fractional part of the actual significand, the integer part being 1.</p>\n\n<p>All is fine for <code>0 &lt; exp &lt; 255</code> (which correspond to <em>normal</em> not null floats ) as an unsigned byte and in that domain you have a bijection.</p>\n\n<p>For <code>exp == 255</code> you have the infinite values is <code>significand == 0</code> and all the NaN for <code>significand != 0</code> - ok, you explicitely excluded them.</p>\n\n<p>But for <code>exp == 0</code> there are still weird things : when <code>significand == 0</code> you have +0 and -0. I am not sure if they are considered equal. If anybody knows, please feel free to edit the post. But as integer values, they will of course be different.</p>\n\n<p>And when <code>exp == 0</code> and <code>significand != 0</code> you find denormalized numbers ... which while not being equal will be converted to either 0 of the littlest number not being 0.</p>\n\n<p>So if you want a bijection only use <em>normal</em> numbers having <code>0 &lt; exp &lt; 255&lt;</code> and avoid NaN, infinite, 0 and denormal numbers where things <em>are</em> weird.</p>\n\n<p>References : </p>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/IEEE_floating_point\" rel=\"nofollow\">IEEE floating point</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Single_precision_floating-point_format\" rel=\"nofollow\">Single-precision floating-point format</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Denormal_numbers\" rel=\"nofollow\">Denormal number</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2355674,"reputation":145,"user_id":2063518,"display_name":"Ivy Gorven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700832103,"creation_date":1700831547,"answer_id":77543412,"question_id":24975469,"body_markdown":"The previous answers contain all the information required to solve this, but not a full solution. Here is some working code you can copy:\r\n\r\n```\r\n  public static long toLong(float v) {\r\n    long bits = Integer.toUnsignedLong(Float.floatToIntBits(v));\r\n    return Math.copySign(1, v) &lt; 0 ? -bits : bits;\r\n  }\r\n```\r\nor as a one-liner:\r\n```\r\n(long) Math.copySign((double) Integer.toUnsignedLong(Float.floatToIntBits(v)), v);\r\n```\r\n\r\nIt should take less than a minute to confirm that this works by iterating every non-NaN float value:\r\n```\r\n  public static void main(String[] args) {\r\n    float current = Float.NEGATIVE_INFINITY;\r\n    while (current != Float.POSITIVE_INFINITY) {\r\n      float next = Math.nextUp(current);\r\n      long curLong = toLong(current);\r\n      long nextLong = toLong(next);\r\n      if (curLong &gt;= nextLong) {\r\n        throw new RuntimeException(curLong + &quot; is greater than &quot; + nextLong\r\n            + &quot; representations of &quot; + current + &quot; and &quot; + next);\r\n      }\r\n      current = next;\r\n    }\r\n    System.out.println(&quot;Reached &quot; + current);\r\n  }\r\n```","title":"Bijection between Java float and integer keeping order","body":"<p>The previous answers contain all the information required to solve this, but not a full solution. Here is some working code you can copy:</p>\n<pre><code>  public static long toLong(float v) {\n    long bits = Integer.toUnsignedLong(Float.floatToIntBits(v));\n    return Math.copySign(1, v) &lt; 0 ? -bits : bits;\n  }\n</code></pre>\n<p>or as a one-liner:</p>\n<pre><code>(long) Math.copySign((double) Integer.toUnsignedLong(Float.floatToIntBits(v)), v);\n</code></pre>\n<p>It should take less than a minute to confirm that this works by iterating every non-NaN float value:</p>\n<pre><code>  public static void main(String[] args) {\n    float current = Float.NEGATIVE_INFINITY;\n    while (current != Float.POSITIVE_INFINITY) {\n      float next = Math.nextUp(current);\n      long curLong = toLong(current);\n      long nextLong = toLong(next);\n      if (curLong &gt;= nextLong) {\n        throw new RuntimeException(curLong + &quot; is greater than &quot; + nextLong\n            + &quot; representations of &quot; + current + &quot; and &quot; + next);\n      }\n      current = next;\n    }\n    System.out.println(&quot;Reached &quot; + current);\n  }\n</code></pre>\n"}],"owner":{"account_id":1277868,"reputation":4185,"user_id":1232720,"accept_rate":86,"display_name":"Jos&#233; D."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24975511,"answer_count":7,"score":0,"last_activity_date":1700832103,"creation_date":1406408128,"question_id":24975469,"body_markdown":"Both `int` and `float` in Java are 32 bits size values. Is it possible to program a pair of functions\r\n\r\n    int toInt(float f);\r\n    float toFloat(int n);\r\n\r\nsuch that if `f1` and `f2` are arbitrary `float`  non-NaN values and i1 and i2 are arbitraty `int` values: \r\n\r\n - `f1 &lt; f2` if and only if `toInt(f1) &lt; toInt(f2)`\r\n - `f1 &gt; f2` if and only if `toInt(f1) &gt; toInt(f2)`\r\n - `f1 == f2` if and only if `toInt(f1) == toInt(f2)`\r\n - `toInt(toFloat(i1) == i1`\r\n - `toFloat(toInt(f1)) == f1`\r\n\r\nEdit: I have edited the question to exclude NaN values for float, thanks to the answers clarifying what happens with those.","title":"Bijection between Java float and integer keeping order","body":"<p>Both <code>int</code> and <code>float</code> in Java are 32 bits size values. Is it possible to program a pair of functions</p>\n\n<pre><code>int toInt(float f);\nfloat toFloat(int n);\n</code></pre>\n\n<p>such that if <code>f1</code> and <code>f2</code> are arbitrary <code>float</code>  non-NaN values and i1 and i2 are arbitraty <code>int</code> values: </p>\n\n<ul>\n<li><code>f1 &lt; f2</code> if and only if <code>toInt(f1) &lt; toInt(f2)</code></li>\n<li><code>f1 &gt; f2</code> if and only if <code>toInt(f1) &gt; toInt(f2)</code></li>\n<li><code>f1 == f2</code> if and only if <code>toInt(f1) == toInt(f2)</code></li>\n<li><code>toInt(toFloat(i1) == i1</code></li>\n<li><code>toFloat(toInt(f1)) == f1</code></li>\n</ul>\n\n<p>Edit: I have edited the question to exclude NaN values for float, thanks to the answers clarifying what happens with those.</p>\n"},{"tags":["java","for-loop","iframe","selenium-chromedriver","iterator"],"comments":[{"owner":{"account_id":7526728,"reputation":548,"user_id":5716626,"accept_rate":100,"display_name":"Cosmin Oprea"},"score":0,"creation_date":1700578238,"post_id":77523689,"comment_id":136670224,"body_markdown":"What is the behaviour here ? What happens when you run the code ?","body":"What is the behaviour here ? What happens when you run the code ?"},{"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"score":0,"creation_date":1700579299,"post_id":77523689,"comment_id":136670414,"body_markdown":"@CosminOprea I get a timeout (noSuchElement) on 1st wdwait under for loop. If I remove the wait test passes, but ad window doesn&#39;t get closed. Note: I tested double switch on hardcoded iframe window, so the code for switch and click including locators works 100%. If I guess number of iframe correctly, the ad closes.","body":"@CosminOprea I get a timeout (noSuchElement) on 1st wdwait under for loop. If I remove the wait test passes, but ad window doesn&#39;t get closed. Note: I tested double switch on hardcoded iframe window, so the code for switch and click including locators works 100%. If I guess number of iframe correctly, the ad closes."}],"answers":[{"tags":[],"owner":{"account_id":7526728,"reputation":548,"user_id":5716626,"accept_rate":100,"display_name":"Cosmin Oprea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700653107,"creation_date":1700653107,"answer_id":77529616,"question_id":77523689,"body_markdown":"Based on your comment I would add a try catch at that wdwait command in order to not exit the for function when there is an exception there. But the best solution here would be a check if that element really exists.\r\n\r\nCode with try catch:\r\n\r\n    @Test\r\n    public void globalSQAHoverMenuTest() {\r\n        driver.get(&quot;https://www.globalsqa.com/samplepagetest/&quot;);\r\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;menu-item-2822&quot;)));\r\n        multiactions.moveToElement(driver.findElement(By.id(&quot;menu-item-2822&quot;))).perform();\r\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;Demo Testing Site&quot;)));\r\n        multiactions.moveToElement(driver.findElement(By.linkText(&quot;Demo Testing Site&quot;))).perform();\r\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;AlertBox&quot;)));\r\n        multiactions.moveToElement(driver.findElement(By.linkText(&quot;AlertBox&quot;))).click().perform();\r\n\r\n        List&lt;WebElement&gt; iframeList = driver.findElements(By.xpath(&quot;//iframe[@allowtransparency=\\&quot;true\\&quot;]&quot;));\r\n        try {\r\n            for (WebElement webElement : iframeList) {\r\n                try {\r\n                    wdwait.until(ExpectedConditions.visibilityOfAllElements(webElement));\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    continue;\r\n                }\r\n                driver.switchTo().frame(webElement);\r\n                if (!driver.findElements(By.id(&quot;ad_iframe&quot;)).isEmpty()) {\r\n                    driver.switchTo().frame(driver.findElement(By.id(&quot;ad_iframe&quot;)));\r\n                    wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;dismiss-button&quot;)));\r\n                    driver.findElement(By.id(&quot;dismiss-button&quot;)).click();\r\n                }\r\n            }\r\n        }\r\n\r\n        catch (ElementClickInterceptedException e) {\r\n\r\n        }\r\n\r\n        catch (StaleElementReferenceException e) {\r\n\r\n        }\r\n    }","title":"Loop through list of iframes, check for element in iframe and do action with it","body":"<p>Based on your comment I would add a try catch at that wdwait command in order to not exit the for function when there is an exception there. But the best solution here would be a check if that element really exists.</p>\n<p>Code with try catch:</p>\n<pre><code>@Test\npublic void globalSQAHoverMenuTest() {\n    driver.get(&quot;https://www.globalsqa.com/samplepagetest/&quot;);\n    wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;menu-item-2822&quot;)));\n    multiactions.moveToElement(driver.findElement(By.id(&quot;menu-item-2822&quot;))).perform();\n    wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;Demo Testing Site&quot;)));\n    multiactions.moveToElement(driver.findElement(By.linkText(&quot;Demo Testing Site&quot;))).perform();\n    wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;AlertBox&quot;)));\n    multiactions.moveToElement(driver.findElement(By.linkText(&quot;AlertBox&quot;))).click().perform();\n\n    List&lt;WebElement&gt; iframeList = driver.findElements(By.xpath(&quot;//iframe[@allowtransparency=\\&quot;true\\&quot;]&quot;));\n    try {\n        for (WebElement webElement : iframeList) {\n            try {\n                wdwait.until(ExpectedConditions.visibilityOfAllElements(webElement));\n            } catch (Exception e) {\n                e.printStackTrace();\n                continue;\n            }\n            driver.switchTo().frame(webElement);\n            if (!driver.findElements(By.id(&quot;ad_iframe&quot;)).isEmpty()) {\n                driver.switchTo().frame(driver.findElement(By.id(&quot;ad_iframe&quot;)));\n                wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;dismiss-button&quot;)));\n                driver.findElement(By.id(&quot;dismiss-button&quot;)).click();\n            }\n        }\n    }\n\n    catch (ElementClickInterceptedException e) {\n\n    }\n\n    catch (StaleElementReferenceException e) {\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700832007,"creation_date":1700831430,"answer_id":77543399,"question_id":77523689,"body_markdown":"I found the solution. Basically after the if statement, I was trapped inside one of iframes, so couldn&#39;t iterate through the rest of them as they were located &quot;outside&quot; of it. When I add the following code after if statement, ad closes consistently each time:\r\n\r\n```\r\nif statement() {\r\n}\r\ndriver.switchTo().defaultContent();\r\n``` ","title":"Loop through list of iframes, check for element in iframe and do action with it","body":"<p>I found the solution. Basically after the if statement, I was trapped inside one of iframes, so couldn't iterate through the rest of them as they were located &quot;outside&quot; of it. When I add the following code after if statement, ad closes consistently each time:</p>\n<pre><code>if statement() {\n}\ndriver.switchTo().defaultContent();\n</code></pre>\n"}],"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77543399,"answer_count":2,"score":0,"last_activity_date":1700832007,"creation_date":1700577496,"question_id":77523689,"body_markdown":"Here is the situation: On https://www.globalsqa.com/samplepagetest/ I am trying to access the page &quot;Alertbox&quot; through page dropdown menu Tester&#39;s Hub/Demo Testing Site/Alertbox. Before the actual Alertbox page opens, an ad is shown which I want to close off course. An ad is located inside an iframe which in nested inside another iframe. \r\n\r\nNow here it becomes interesting...\r\n\r\nWhen page loads, there are several different iframes (7 max from what I could tell) and nested iframe with an ad appears randomly under one of these 7 iframes every time page is loaded.\r\n\r\nMy idea was to create a list of iframes and for loop, go through all iframes and check whether nested iframe is located under it. When correct iframe is identifed, switch to nested iframe and close down the ad. I also added try/catch method to ignore intercept and staleElement exceptions. \r\n\r\n**There is something wrong in the for loop code, as loop executes on the first element only. Please see edit below**\r\n\r\n**Edit**: I decided to use .println() method and go step by step to see where is the mistake in code. I printed size and iframe id&#39;s from the list and they all check out. When I run the test, only first element gets printed out which means it checks only first element for if condition and when it passes, it doesn&#39;t loop over the rest of the list. **How do I make the loop switch to next element after if condition?**\r\n\r\nMy code:\r\n\r\n```\r\n@Test\r\n    public void globalSQAHoverMenuTest() {\r\n        driver.get(&quot;https://www.globalsqa.com/samplepagetest/&quot;);\r\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;menu-item-2822&quot;)));\r\n        multiactions.moveToElement(driver.findElement(By.id(&quot;menu-item-2822&quot;))).perform();\r\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;Demo Testing Site&quot;)));\r\n        multiactions.moveToElement(driver.findElement(By.linkText(&quot;Demo Testing Site&quot;))).perform();\r\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;AlertBox&quot;)));\r\n        multiactions.moveToElement(driver.findElement(By.linkText(&quot;AlertBox&quot;))).click().perform();\r\n\r\n        List&lt;WebElement&gt; iframeList = driver.findElements(By.xpath(&quot;//iframe[@allowtransparency=\\&quot;true\\&quot;]&quot;));\r\n        try {\r\n            for (WebElement webElement : iframeList) {\r\n                System.out.println(webElement);\r\n                driver.switchTo().frame(webElement);\r\n                if (!driver.findElements(By.id(&quot;ad_iframe&quot;)).isEmpty()) {\r\n                    driver.switchTo().frame(driver.findElement(By.id(&quot;ad_iframe&quot;)));\r\n                    wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;dismiss-button&quot;)));\r\n                    driver.findElement(By.id(&quot;dismiss-button&quot;)).click();\r\n                }\r\n            }\r\n        }\r\n\r\n        catch (ElementClickInterceptedException e) {\r\n\r\n        }\r\n\r\n        catch (StaleElementReferenceException e) {\r\n\r\n        }\r\n    }\r\n```\r\n","title":"Loop through list of iframes, check for element in iframe and do action with it","body":"<p>Here is the situation: On <a href=\"https://www.globalsqa.com/samplepagetest/\" rel=\"nofollow noreferrer\">https://www.globalsqa.com/samplepagetest/</a> I am trying to access the page &quot;Alertbox&quot; through page dropdown menu Tester's Hub/Demo Testing Site/Alertbox. Before the actual Alertbox page opens, an ad is shown which I want to close off course. An ad is located inside an iframe which in nested inside another iframe.</p>\n<p>Now here it becomes interesting...</p>\n<p>When page loads, there are several different iframes (7 max from what I could tell) and nested iframe with an ad appears randomly under one of these 7 iframes every time page is loaded.</p>\n<p>My idea was to create a list of iframes and for loop, go through all iframes and check whether nested iframe is located under it. When correct iframe is identifed, switch to nested iframe and close down the ad. I also added try/catch method to ignore intercept and staleElement exceptions.</p>\n<p><strong>There is something wrong in the for loop code, as loop executes on the first element only. Please see edit below</strong></p>\n<p><strong>Edit</strong>: I decided to use .println() method and go step by step to see where is the mistake in code. I printed size and iframe id's from the list and they all check out. When I run the test, only first element gets printed out which means it checks only first element for if condition and when it passes, it doesn't loop over the rest of the list. <strong>How do I make the loop switch to next element after if condition?</strong></p>\n<p>My code:</p>\n<pre><code>@Test\n    public void globalSQAHoverMenuTest() {\n        driver.get(&quot;https://www.globalsqa.com/samplepagetest/&quot;);\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;menu-item-2822&quot;)));\n        multiactions.moveToElement(driver.findElement(By.id(&quot;menu-item-2822&quot;))).perform();\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;Demo Testing Site&quot;)));\n        multiactions.moveToElement(driver.findElement(By.linkText(&quot;Demo Testing Site&quot;))).perform();\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.linkText(&quot;AlertBox&quot;)));\n        multiactions.moveToElement(driver.findElement(By.linkText(&quot;AlertBox&quot;))).click().perform();\n\n        List&lt;WebElement&gt; iframeList = driver.findElements(By.xpath(&quot;//iframe[@allowtransparency=\\&quot;true\\&quot;]&quot;));\n        try {\n            for (WebElement webElement : iframeList) {\n                System.out.println(webElement);\n                driver.switchTo().frame(webElement);\n                if (!driver.findElements(By.id(&quot;ad_iframe&quot;)).isEmpty()) {\n                    driver.switchTo().frame(driver.findElement(By.id(&quot;ad_iframe&quot;)));\n                    wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;dismiss-button&quot;)));\n                    driver.findElement(By.id(&quot;dismiss-button&quot;)).click();\n                }\n            }\n        }\n\n        catch (ElementClickInterceptedException e) {\n\n        }\n\n        catch (StaleElementReferenceException e) {\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","maven","code-generation","annotation-processing","cannot-find-symbol"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700831917,"creation_date":1700831917,"answer_id":77543444,"question_id":77510844,"body_markdown":"The reason why it isn&#39;t working in your runner is most likely due to the use of an older maven-compiler-plugin\r\n\r\nI would suggest adding\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nAnother alternative would also be to just add the `maven-compiler-plugin` in your parent `pluginManagement`\r\n\r\n```xml\r\n&lt;pluginManagement&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/pluginManagement&gt;\r\n```\r\n\r\nIn this case you do not need to do anything in the runner and in the processor pom.xml you&#39;ll only need to do\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;default-compile&lt;/id&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Can&#39;t find class in generated sources produced by custom annotation processor when running java program","body":"<p>The reason why it isn't working in your runner is most likely due to the use of an older maven-compiler-plugin</p>\n<p>I would suggest adding</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Another alternative would also be to just add the <code>maven-compiler-plugin</code> in your parent <code>pluginManagement</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/pluginManagement&gt;\n</code></pre>\n<p>In this case you do not need to do anything in the runner and in the processor pom.xml you'll only need to do</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-compile&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":10970706,"reputation":41,"user_id":8061089,"display_name":"Mustapha Mond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700831917,"creation_date":1700398968,"question_id":77510844,"body_markdown":"I have written an annotation processor to generate classes to the generated sources directly during compilation. The class generates with valid syntax, and to the correct, matching (same as interface that is annotated) package. My IDE (IntelliJ) detects the generated class and itself does not produce compilation errors. When I also generate a spring type bean with my library (using `@Component`) My IDE also correctly detects that it is a injectable bean. \r\n\r\nWhen I try to execute a normal java program I get this error:\r\n```\r\njava: cannot find symbol\r\n  symbol:   class DuhStudentMapper\r\n```\r\n\r\nWhen I try to start a spring boot server, I get this error:\r\n```\r\nField wordMapper2 in com.oworms.word.controller.WordController required a bean of type &#39;com.oworms.WordMapper2&#39; that could not be found.\r\n```\r\n\r\n\r\nParent `pom.xml`:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\r\n    &lt;artifactId&gt;duhmapper&lt;/artifactId&gt;\r\n    &lt;name&gt;duhmapper&lt;/name&gt;\r\n    &lt;version&gt;0.5.1&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;processor&lt;/module&gt;\r\n        &lt;module&gt;runner&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\r\n        &lt;duhmap.processor.version&gt;0.6.0&lt;/duhmap.processor.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nProcessor `pom.xml`:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\r\n        &lt;artifactId&gt;duhmapper&lt;/artifactId&gt;\r\n        &lt;version&gt;0.5.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;processor&lt;/artifactId&gt;\r\n    &lt;version&gt;${duhmap.processor.version}&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-compile&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;source&gt;${java.version}&lt;/source&gt;\r\n                            &lt;target&gt;${java.version}&lt;/target&gt;\r\n                            &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-sources&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI’m not certain I need the maven-source-plugin, but when I went through other popular libraries doing annotation processor work, they had that plugin configured. \r\n\r\nRunner (purely for testing purposes) `pom.xml`:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\r\n        &lt;artifactId&gt;duhmapper&lt;/artifactId&gt;\r\n        &lt;version&gt;0.5.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;runner&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.0-final&lt;/version&gt;\r\n    &lt;description&gt;\r\n        A simple test module to practice and test the processor. Zero importance in regard to this library\r\n    &lt;/description&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\r\n            &lt;artifactId&gt;processor&lt;/artifactId&gt;\r\n            &lt;version&gt;${duhmap.processor.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThe processor writes the file to the directory like so:\r\n```java\r\nfinal Filer filer = processingEnv.getFiler();\r\nfinal FileObject fileObject;\r\n\r\ntry {\r\n    fileObject = filer.createResource(StandardLocation.SOURCE_OUTPUT, packageName, className + &quot;.java&quot;);\r\n} catch (final IOException e) {\r\n    throw new DuhMapException(\r\n            String.format(\r\n                    &quot;Error during writing of DuhMap file to source output for class: %s.%s&quot;,\r\n                    packageName,\r\n                    className\r\n            ),\r\n            e\r\n    );\r\n}\r\n\r\ntry (final Writer writer = fileObject.openWriter()) {\r\n    writer.write(content);\r\n} catch (final IOException e) {\r\n    throw new DuhMapException(\r\n            String.format(\r\n                    &quot;Error during writing of DuhMap file to source output for class: %s.%s&quot;,\r\n                    packageName,\r\n                    className\r\n            ),\r\n            e\r\n    );\r\n}\r\n```\r\n\r\nI feel as if I am missing some type of maven configuration or compiler option. I have gone through the source code of other popular libraries doing similar things to this library I’m trying to build, but I cannot seem to spot anything I might be missing. I also struggle to know what to Google in order to find articles, advice, etc. on this specific problem.\r\n\r\nAny help would be greatly appreciated","title":"Can&#39;t find class in generated sources produced by custom annotation processor when running java program","body":"<p>I have written an annotation processor to generate classes to the generated sources directly during compilation. The class generates with valid syntax, and to the correct, matching (same as interface that is annotated) package. My IDE (IntelliJ) detects the generated class and itself does not produce compilation errors. When I also generate a spring type bean with my library (using <code>@Component</code>) My IDE also correctly detects that it is a injectable bean.</p>\n<p>When I try to execute a normal java program I get this error:</p>\n<pre><code>java: cannot find symbol\n  symbol:   class DuhStudentMapper\n</code></pre>\n<p>When I try to start a spring boot server, I get this error:</p>\n<pre><code>Field wordMapper2 in com.oworms.word.controller.WordController required a bean of type 'com.oworms.WordMapper2' that could not be found.\n</code></pre>\n<p>Parent <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\n    &lt;artifactId&gt;duhmapper&lt;/artifactId&gt;\n    &lt;name&gt;duhmapper&lt;/name&gt;\n    &lt;version&gt;0.5.1&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;processor&lt;/module&gt;\n        &lt;module&gt;runner&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n\n        &lt;duhmap.processor.version&gt;0.6.0&lt;/duhmap.processor.version&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Processor <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\n        &lt;artifactId&gt;duhmapper&lt;/artifactId&gt;\n        &lt;version&gt;0.5.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;processor&lt;/artifactId&gt;\n    &lt;version&gt;${duhmap.processor.version}&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-compile&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;source&gt;${java.version}&lt;/source&gt;\n                            &lt;target&gt;${java.version}&lt;/target&gt;\n                            &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I’m not certain I need the maven-source-plugin, but when I went through other popular libraries doing annotation processor work, they had that plugin configured.</p>\n<p>Runner (purely for testing purposes) <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\n        &lt;artifactId&gt;duhmapper&lt;/artifactId&gt;\n        &lt;version&gt;0.5.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;runner&lt;/artifactId&gt;\n    &lt;version&gt;0.0.0-final&lt;/version&gt;\n    &lt;description&gt;\n        A simple test module to practice and test the processor. Zero importance in regard to this library\n    &lt;/description&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.noydb.duhmap&lt;/groupId&gt;\n            &lt;artifactId&gt;processor&lt;/artifactId&gt;\n            &lt;version&gt;${duhmap.processor.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The processor writes the file to the directory like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Filer filer = processingEnv.getFiler();\nfinal FileObject fileObject;\n\ntry {\n    fileObject = filer.createResource(StandardLocation.SOURCE_OUTPUT, packageName, className + &quot;.java&quot;);\n} catch (final IOException e) {\n    throw new DuhMapException(\n            String.format(\n                    &quot;Error during writing of DuhMap file to source output for class: %s.%s&quot;,\n                    packageName,\n                    className\n            ),\n            e\n    );\n}\n\ntry (final Writer writer = fileObject.openWriter()) {\n    writer.write(content);\n} catch (final IOException e) {\n    throw new DuhMapException(\n            String.format(\n                    &quot;Error during writing of DuhMap file to source output for class: %s.%s&quot;,\n                    packageName,\n                    className\n            ),\n            e\n    );\n}\n</code></pre>\n<p>I feel as if I am missing some type of maven configuration or compiler option. I have gone through the source code of other popular libraries doing similar things to this library I’m trying to build, but I cannot seem to spot anything I might be missing. I also struggle to know what to Google in order to find articles, advice, etc. on this specific problem.</p>\n<p>Any help would be greatly appreciated</p>\n"},{"tags":["java","selenium-webdriver","xpath"],"comments":[{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1594369314,"post_id":62830023,"comment_id":111107399,"body_markdown":"`wait.until(...)` - wait until condition is valid or time expire. If time expire, it throws `TimeoutException`. `new WebDriverWait(driver, 120);` - the timeout is 120 seconds.","body":"<code>wait.until(...)</code> - wait until condition is valid or time expire. If time expire, it throws <code>TimeoutException</code>. <code>new WebDriverWait(driver, 120);</code> - the timeout is 120 seconds."}],"answers":[{"tags":[],"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594379202,"creation_date":1594379202,"answer_id":62832984,"question_id":62830023,"body_markdown":"Seems the problem is with this code `wait.until(ExpectedConditions.and(ExpectedConditions.visibilityOfAllElementsLocatedBy(element),ExpectedConditions.elementToBeClickable(element)));`\r\n\r\nBoth condition are not getting full fill at the same time and after reaching threshold time limit it throws the Timeout Exception.\r\n\r\n**Solution:**\r\n\r\nSplit the and condition to identify which method causing issue:\r\n\r\n\twait.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(element));\r\n\twait.until(ExpectedConditions.elementToBeClickable(element));\r\n\r\n\r\nAnother thing is try to replace `visibilityOfAllElementsLocatedBy` with [visibilityOf(element)][1] or [visibilityOfElementLocated(locator)][2] in your method. \r\n\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(element));\r\n\r\n`visibilityOfAllElementsLocatedBy` waits until **all the element** on the page get visible and it might be the case that all the element you are locating are not visible on page at same time. This method used for multiple element.\r\n\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOf-org.openqa.selenium.WebElement-\r\n  [2]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOfElementLocated-org.openqa.selenium.By-","title":"org.openqa.selenium.TimeoutException: Expected condition failed: waiting for all conditions to be valid","body":"<p>Seems the problem is with this code <code>wait.until(ExpectedConditions.and(ExpectedConditions.visibilityOfAllElementsLocatedBy(element),ExpectedConditions.elementToBeClickable(element)));</code></p>\n<p>Both condition are not getting full fill at the same time and after reaching threshold time limit it throws the Timeout Exception.</p>\n<p><strong>Solution:</strong></p>\n<p>Split the and condition to identify which method causing issue:</p>\n<pre><code>wait.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(element));\nwait.until(ExpectedConditions.elementToBeClickable(element));\n</code></pre>\n<p>Another thing is try to replace <code>visibilityOfAllElementsLocatedBy</code> with <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOf-org.openqa.selenium.WebElement-\" rel=\"nofollow noreferrer\">visibilityOf(element)</a> or <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOfElementLocated-org.openqa.selenium.By-\" rel=\"nofollow noreferrer\">visibilityOfElementLocated(locator)</a> in your method.</p>\n<pre><code>wait.until(ExpectedConditions.visibilityOfElementLocated(element));\n</code></pre>\n<p><code>visibilityOfAllElementsLocatedBy</code> waits until <strong>all the element</strong> on the page get visible and it might be the case that all the element you are locating are not visible on page at same time. This method used for multiple element.</p>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594667320,"creation_date":1594667320,"answer_id":62882652,"question_id":62830023,"body_markdown":"1. Starting xpath from `/*//table` is the same as starting from `//table`\r\n2. Your xpath is incorrect. If you look at your html you will see that both tables having class `urMatrixLayout urHtmlTableReset` do not contain mentioned text\r\n3. Both conditions check is synchronized in time so at this point everything is okay\r\n4. You can test your code with this path: `//div[@id=&#39;WDED-panel&#39;]//span[contains(text(), &#39;Violations&#39;)]`","title":"org.openqa.selenium.TimeoutException: Expected condition failed: waiting for all conditions to be valid","body":"<ol>\n<li>Starting xpath from <code>/*//table</code> is the same as starting from <code>//table</code></li>\n<li>Your xpath is incorrect. If you look at your html you will see that both tables having class <code>urMatrixLayout urHtmlTableReset</code> do not contain mentioned text</li>\n<li>Both conditions check is synchronized in time so at this point everything is okay</li>\n<li>You can test your code with this path: <code>//div[@id='WDED-panel']//span[contains(text(), 'Violations')]</code></li>\n</ol>\n"}],"owner":{"account_id":6329922,"reputation":79,"user_id":4915108,"accept_rate":25,"display_name":"kush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700831427,"creation_date":1594369008,"question_id":62830023,"body_markdown":"I am new to selenium, So very limited knowledge about the selenium. Here I am facing intermittent timeout issue for internet explorer. I had tried increasing timeout still it fails sometimes. \r\n \r\n**Error stack trace:**\r\n\r\n    org.openqa.selenium.TimeoutException: Expected condition failed: waiting for all conditions to be valid: visibility of all elements located by By.xpath: /*//table[@class=&#39;urMatrixLayout urHtmlTableReset&#39;]//tr//table//tr//td//div//div/span[contains(text(),&#39;Violations&#39;)] &amp;&amp; element to be clickable: By.xpath: /*//table[@class=&#39;urMatrixLayout urHtmlTableReset&#39;]//tr//table//tr//td//div//div/span[contains(text(),&#39;Violations&#39;)] (tried for 120 second(s) with 1000 milliseconds interval)\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;WIN-2PRR06VLLDC&#39;, ip: &#39;xxx.xxx.xx.xx&#39;, os.name: &#39;Windows Server 2019&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_241&#39;\r\n    Driver info: org.openqa.selenium.ie.InternetExplorerDriver\r\n    Capabilities {browserAttachTimeout: 0, browserName: internet explorer, elementScrollBehavior: 0, enableElementCacheCleanup: true, enablePersistentHover: false, ie.browserCommandLineSwitches: , ie.enableFullPageScreenshot: true, ie.ensureCleanSession: true, ie.fileUploadDialogTimeout: 3000, ie.forceCreateProcessApi: false, ie.forceShellWindowsApi: false, ignoreProtectedModeSettings: true, ignoreZoomSetting: true, initialBrowserUrl: , javascriptEnabled: true, nativeEvents: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, requireWindowFocus: false, unexpectedAlertBehaviour: dismiss, unhandledPromptBehavior: dismiss, version: 11}\r\n\r\nI have implemented code in the following way \r\n\r\n     public static void clickOnElement(By element, String comment, WebDriver driver) {\r\n        WebDriverWait wait = new WebDriverWait(driver, 120);\r\n        wait.pollingEvery(1000, TimeUnit.MILLISECONDS);\r\n        wait.ignoring(NoSuchElementException.class);\r\n        wait.ignoring(StaleElementReferenceException.class);\r\n        wait.until(ExpectedConditions.and(ExpectedConditions.visibilityOfAllElementsLocatedBy(element),\r\n                ExpectedConditions.elementToBeClickable(element)));\r\n        WebElement context = driver.findElement(element);\r\n        wait.until(new ExpectedCondition&lt;Boolean&gt;() {\r\n        @Override\r\n            public Boolean apply(WebDriver driver) {\r\n                return ((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;);\r\n            }\r\n        });\r\n        driver.manage().timeouts().pageLoadTimeout(120,TimeUnit.SECONDS);\r\n        context.click();\r\n        log.info(&quot;Clicked on element &quot; + comment);\r\n    }\r\n\r\nAny help will be much appreciated. Thanks in advance!!\r\n \r\n**Html** tree: \r\n\r\n     `&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; id=&quot;WDCC&quot; ct=&quot;ML&quot; lsdata=&quot; \r\n      {0:&#39;WDCC&#39;,7:&#39;LINE&#39;}&quot; class=&quot;urMatrixLayout urHtmlTableReset&quot; \r\n      role=&quot;presentation&quot; border=&quot;0&quot; style=&quot;border-collapse:collapse;&quot;&gt;\r\n      &lt;tbody class=&quot;urLinStd&quot;&gt;\r\n      &lt;tr&gt;\r\n         &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDCE&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \r\n      class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \r\n      space:normal;&quot;&gt;&lt;label ct=&quot;L&quot; lsdata=&quot; \r\n      {1:&#39;WDD1&#39;,3:&#39;Business\\x20Process&#39;,4:true,11:&#39;ENDOFLINE&#39;,12:true}&quot; \r\n      id=&quot;WDCF&quot; f=&quot;WDD1&quot; class=&quot;urL&quot; style=&quot;text-align:right;line- \r\n      height:normal;display:inline-block;min-width:100%;white-space:nowrap;&quot;&gt; \r\n      &lt;span class=&quot;urLblReq&quot;&gt;*&lt;/span&gt;&amp;nbsp;Business Process:&lt;/label&gt;&lt;/td&gt;\r\n         &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDD0&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \r\n      class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \r\n      space:normal;&quot;&gt;\r\n            &lt;span id=&quot;WDD1-r&quot; class=&quot;urCoB2Whl &quot;&gt;\r\n               &lt;input id=&quot;WDD1&quot; ct=&quot;CB&quot; lsdata=&quot; \r\n      {4:true,7:&#39;WDD2&#39;,8:&#39;Basis&#39;,10:&#39;Basis&#39;}&quot; lsevents=&quot;{Select: \r\n      [{ResponseData:&#39;delta&#39;,ClientAction:&#39;submit&#39;},{}]}&quot; type=&quot;text&quot; \r\n      autocomplete=&quot;off&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; class=&quot;urEdf2TxtRadius \r\n      urEdf2TxtEnbl lsEdf3TxtHlpBtn lsEdfLeftBrdRadius urBorderBox&quot; \r\n      readonly=&quot;&quot; value=&quot;Basis&quot; role=&quot;combobox&quot; style=&quot;width:125px;&quot;&gt;\r\n               &lt;div id=&quot;WDD1-btn&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot; class=&quot;lsEdf3HlpBtnStd \r\n      urBorderBox lsEdf2HlpRadius lsEdf3HlpIcon lsEdf3HlpBtn lsEdf3HlpBtnCoB&quot; \r\n      role=&quot;button&quot; style=&quot;display:inline-block;&quot;&gt;&lt;/div&gt;\r\n            &lt;/span&gt;\r\n         &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n         &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDE1&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \r\n      class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \r\n      space:normal;&quot;&gt;&lt;label ct=&quot;L&quot; lsdata=&quot; \r\n      {1:&#39;WDE4&#39;,3:&#39;Functional\\x20Area&#39;,11:&#39;ENDOFLINE&#39;,12:true}&quot; id=&quot;WDE2&quot; \r\n      f=&quot;WDE4&quot; class=&quot;urL&quot; style=&quot;text-align:right;line- \r\n      height:normal;display:inline-block;min-width:100%;white- \r\n      space:nowrap;&quot;&gt;Functional Area:&lt;/label&gt;&lt;/td&gt;\r\n         &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDE3&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \r\n      class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \r\n      space:normal;&quot;&gt;\r\n            &lt;span id=&quot;WDE4-r&quot; class=&quot;urCoB2Whl &quot;&gt;\r\n               &lt;input id=&quot;WDE4&quot; ct=&quot;CB&quot; lsdata=&quot;{7:&#39;WDE5&#39;,10:&#39;Select&#39;}&quot; \r\n      lsevents=&quot;{Select:[{ResponseData:&#39;delta&#39;,ClientAction:&#39;submit&#39;},{}]}&quot; \r\n      type=&quot;text&quot; autocomplete=&quot;off&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \r\n      class=&quot;urEdf2TxtRadius urEdf2TxtEnbl lsEdf3TxtHlpBtn lsEdfLeftBrdRadius \r\n      urBorderBox&quot; readonly=&quot;&quot; value=&quot;Select&quot; role=&quot;combobox&quot; \r\n      style=&quot;width:125px;&quot;&gt;\r\n               &lt;div id=&quot;WDE4-btn&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot; class=&quot;lsEdf3HlpBtnStd \r\n      urBorderBox lsEdf2HlpRadius lsEdf3HlpIcon lsEdf3HlpBtn lsEdf3HlpBtnCoB&quot; \r\n      role=&quot;button&quot; style=&quot;display:inline-block;&quot;&gt;&lt;/div&gt;\r\n            &lt;/span&gt;\r\n         &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;/tbody&gt;\r\n      &lt;/table&gt;\r\n      &lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt; \r\n      &lt;/table&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt; \r\n      &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt; \r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n      &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDE8&quot; valign=&quot;bottom&quot; align=&quot;left&quot; \r\n      class=&quot;urLayoutPadless&quot; style=&quot;border- \r\n      collapse:separate;width:100%;height:5px;white-space:normal;&quot;&gt;\r\n      &lt;div id=&quot;WDEA-r&quot;&gt;\r\n         &lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; id=&quot;WDEA&quot; ct=&quot;ML&quot; lsdata=&quot; \r\n       {0:&#39;WDEA&#39;,7:&#39;LINE&#39;}&quot; class=&quot;urMatrixLayout urHtmlTableReset&quot; \r\n       role=&quot;presentation&quot; border=&quot;0&quot; style=&quot;border-collapse:collapse;&quot;&gt;\r\n            &lt;tbody class=&quot;urLinStd&quot;&gt;\r\n               &lt;tr&gt;\r\n                  &lt;td&gt;&lt;/td&gt;\r\n               &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n         &lt;/table&gt;\r\n        &lt;/div&gt;\r\n        &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n       &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDEC&quot; valign=&quot;bottom&quot; align=&quot;left&quot; \r\n        class=&quot;urLayoutPadless&quot; style=&quot;border- \r\n        collapse:separate;width:100%;white-space:normal;&quot;&gt;\r\n      &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;WDED&quot; ct=&quot;TS&quot; \r\n      lsdata=&quot;{2:&#39;100\\x25&#39;,3:&#39;Choose\\x20Tab&#39;,6:true,7:false,8:false}&quot; \r\n      lsevents=&quot;{TabSelect:[{ResponseData:&#39;delta&#39;,ClientAction:&#39;submit&#39;}, \r\n       {}],Scroll:[{ResponseData:&#39;delta&#39;,EnqueueCardinality:&#39;single&#39;}, \r\n      {}],Hotkey:[{ResponseData:&#39;delta&#39;,ClientAction:&#39;submit&#39;},{}]}&quot; class=&quot;&quot; \r\n      role=&quot;presentation&quot; style=&quot;width:100%;&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot;&gt;\r\n      &lt;tbody&gt;\r\n      &lt;tr&gt;\r\n      &lt;td valign=&quot;bottom&quot; class=&quot;lsTbsPanelCnt&quot;&gt;\r\n         &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; border=&quot;0&quot; \r\n       style=&quot;width:100%;&quot;&gt;\r\n      &lt;tbody&gt;\r\n      &lt;tr&gt;\r\n      &lt;td class=&quot;lsTbsPanelLeftBtns&quot; align=&quot;left&quot;&gt;&lt;a \r\n        class=&quot;lsTbsPgPrevLeftDisp lsTbsBtnIcon&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot; \r\n      id=&quot;WDED-prevLeft&quot; style=&quot;visibility:hidden;&quot;&gt;&lt;/a&gt;&lt;/td&gt;\r\n      &lt;td class=&quot;lsTbsPanel2&quot; width=&quot;90%&quot;&gt;\r\n         &lt;span itn=&quot;ITBB&quot; id=&quot;WDED-ITBB&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \r\n      style=&quot;position:absolute;top:-1000;height:1;&quot;&gt;&lt;/span&gt;\r\n         &lt;div id=&quot;WDED-panel&quot; class=&quot;lsTbsOvfl&quot; role=&quot;tablist&quot; aria- \r\n      controls=&quot;&quot; style=&quot;float:left;&quot;&gt;\r\n         &lt;div ct=&quot;TSITM&quot; lsdata=&quot;{0:&#39;WDEE&#39;,2:true,12:&#39;WDEF&#39;}&quot; id=&quot;WDEE&quot; \r\n      class=&quot;lsTbsEndMore2Sel&quot; style=&quot;visibility: visible;&quot;&gt;\r\n            &lt;span class=&quot;lsTbsFirst2Sel&quot;&gt;&lt;/span&gt;\r\n            &lt;span role=&quot;tab&quot; id=&quot;WDEE-focus&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \r\n      class=&quot;urNoUserSelect lsTbsLabel2Sel&quot;&gt;\r\n               User Access\r\n               &lt;div class=&quot;lsTbsTitleAlign&quot; aria-hidden=&quot;true&quot; \r\n       role=&quot;presentation&quot;&gt;User Access-&lt;/div&gt;\r\n            &lt;/span&gt;\r\n         &lt;/div&gt;\r\n         &lt;div ct=&quot;TSITM&quot; lsdata=&quot;{0:&#39;WD01B0&#39;,1:1,2:true,12:&#39;WD01B1&#39;}&quot; \r\n       id=&quot;WD01B0&quot; class=&quot;lsTbsEndMore2&quot; style=&quot;visibility: visible;&quot;&gt;\r\n         &lt;span class=&quot;lsTbsStartEnd2Sel&quot;&gt;&lt;/span&gt;\r\n         &lt;span role=&quot;tab&quot; id=&quot;WD01B0-focus&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \r\n       class=&quot;urNoUserSelect lsTbsLabel2&quot;&gt;\r\n            Violations\r\n            &lt;div class=&quot;lsTbsTitleAlign&quot; aria-hidden=&quot;true&quot; \r\n        role=&quot;presentation&quot;&gt;Violations-&lt;/div&gt;\r\n         &lt;/span&gt;`\r\n\r\n\r\n**Xpath** : \r\n\r\n    /*//table[@class=&#39;urMatrixLayout urHtmlTableReset&#39;]//tr//table//tr//td//div//div/span[contains(text(),&#39;Violations&#39;)]","title":"org.openqa.selenium.TimeoutException: Expected condition failed: waiting for all conditions to be valid","body":"<p>I am new to selenium, So very limited knowledge about the selenium. Here I am facing intermittent timeout issue for internet explorer. I had tried increasing timeout still it fails sometimes.</p>\n<p><strong>Error stack trace:</strong></p>\n<pre><code>org.openqa.selenium.TimeoutException: Expected condition failed: waiting for all conditions to be valid: visibility of all elements located by By.xpath: /*//table[@class='urMatrixLayout urHtmlTableReset']//tr//table//tr//td//div//div/span[contains(text(),'Violations')] &amp;&amp; element to be clickable: By.xpath: /*//table[@class='urMatrixLayout urHtmlTableReset']//tr//table//tr//td//div//div/span[contains(text(),'Violations')] (tried for 120 second(s) with 1000 milliseconds interval)\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'WIN-2PRR06VLLDC', ip: 'xxx.xxx.xx.xx', os.name: 'Windows Server 2019', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_241'\nDriver info: org.openqa.selenium.ie.InternetExplorerDriver\nCapabilities {browserAttachTimeout: 0, browserName: internet explorer, elementScrollBehavior: 0, enableElementCacheCleanup: true, enablePersistentHover: false, ie.browserCommandLineSwitches: , ie.enableFullPageScreenshot: true, ie.ensureCleanSession: true, ie.fileUploadDialogTimeout: 3000, ie.forceCreateProcessApi: false, ie.forceShellWindowsApi: false, ignoreProtectedModeSettings: true, ignoreZoomSetting: true, initialBrowserUrl: , javascriptEnabled: true, nativeEvents: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, requireWindowFocus: false, unexpectedAlertBehaviour: dismiss, unhandledPromptBehavior: dismiss, version: 11}\n</code></pre>\n<p>I have implemented code in the following way</p>\n<pre><code> public static void clickOnElement(By element, String comment, WebDriver driver) {\n    WebDriverWait wait = new WebDriverWait(driver, 120);\n    wait.pollingEvery(1000, TimeUnit.MILLISECONDS);\n    wait.ignoring(NoSuchElementException.class);\n    wait.ignoring(StaleElementReferenceException.class);\n    wait.until(ExpectedConditions.and(ExpectedConditions.visibilityOfAllElementsLocatedBy(element),\n            ExpectedConditions.elementToBeClickable(element)));\n    WebElement context = driver.findElement(element);\n    wait.until(new ExpectedCondition&lt;Boolean&gt;() {\n    @Override\n        public Boolean apply(WebDriver driver) {\n            return ((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;);\n        }\n    });\n    driver.manage().timeouts().pageLoadTimeout(120,TimeUnit.SECONDS);\n    context.click();\n    log.info(&quot;Clicked on element &quot; + comment);\n}\n</code></pre>\n<p>Any help will be much appreciated. Thanks in advance!!</p>\n<p><strong>Html</strong> tree:</p>\n<pre><code> `&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; id=&quot;WDCC&quot; ct=&quot;ML&quot; lsdata=&quot; \n  {0:'WDCC',7:'LINE'}&quot; class=&quot;urMatrixLayout urHtmlTableReset&quot; \n  role=&quot;presentation&quot; border=&quot;0&quot; style=&quot;border-collapse:collapse;&quot;&gt;\n  &lt;tbody class=&quot;urLinStd&quot;&gt;\n  &lt;tr&gt;\n     &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDCE&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \n  class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \n  space:normal;&quot;&gt;&lt;label ct=&quot;L&quot; lsdata=&quot; \n  {1:'WDD1',3:'Business\\x20Process',4:true,11:'ENDOFLINE',12:true}&quot; \n  id=&quot;WDCF&quot; f=&quot;WDD1&quot; class=&quot;urL&quot; style=&quot;text-align:right;line- \n  height:normal;display:inline-block;min-width:100%;white-space:nowrap;&quot;&gt; \n  &lt;span class=&quot;urLblReq&quot;&gt;*&lt;/span&gt;&amp;nbsp;Business Process:&lt;/label&gt;&lt;/td&gt;\n     &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDD0&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \n  class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \n  space:normal;&quot;&gt;\n        &lt;span id=&quot;WDD1-r&quot; class=&quot;urCoB2Whl &quot;&gt;\n           &lt;input id=&quot;WDD1&quot; ct=&quot;CB&quot; lsdata=&quot; \n  {4:true,7:'WDD2',8:'Basis',10:'Basis'}&quot; lsevents=&quot;{Select: \n  [{ResponseData:'delta',ClientAction:'submit'},{}]}&quot; type=&quot;text&quot; \n  autocomplete=&quot;off&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; class=&quot;urEdf2TxtRadius \n  urEdf2TxtEnbl lsEdf3TxtHlpBtn lsEdfLeftBrdRadius urBorderBox&quot; \n  readonly=&quot;&quot; value=&quot;Basis&quot; role=&quot;combobox&quot; style=&quot;width:125px;&quot;&gt;\n           &lt;div id=&quot;WDD1-btn&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot; class=&quot;lsEdf3HlpBtnStd \n  urBorderBox lsEdf2HlpRadius lsEdf3HlpIcon lsEdf3HlpBtn lsEdf3HlpBtnCoB&quot; \n  role=&quot;button&quot; style=&quot;display:inline-block;&quot;&gt;&lt;/div&gt;\n        &lt;/span&gt;\n     &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n     &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDE1&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \n  class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \n  space:normal;&quot;&gt;&lt;label ct=&quot;L&quot; lsdata=&quot; \n  {1:'WDE4',3:'Functional\\x20Area',11:'ENDOFLINE',12:true}&quot; id=&quot;WDE2&quot; \n  f=&quot;WDE4&quot; class=&quot;urL&quot; style=&quot;text-align:right;line- \n  height:normal;display:inline-block;min-width:100%;white- \n  space:nowrap;&quot;&gt;Functional Area:&lt;/label&gt;&lt;/td&gt;\n     &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDE3&quot; valign=&quot;baseline&quot; align=&quot;left&quot; \n  class=&quot;urLayoutDefault&quot; style=&quot;border-collapse:separate;white- \n  space:normal;&quot;&gt;\n        &lt;span id=&quot;WDE4-r&quot; class=&quot;urCoB2Whl &quot;&gt;\n           &lt;input id=&quot;WDE4&quot; ct=&quot;CB&quot; lsdata=&quot;{7:'WDE5',10:'Select'}&quot; \n  lsevents=&quot;{Select:[{ResponseData:'delta',ClientAction:'submit'},{}]}&quot; \n  type=&quot;text&quot; autocomplete=&quot;off&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \n  class=&quot;urEdf2TxtRadius urEdf2TxtEnbl lsEdf3TxtHlpBtn lsEdfLeftBrdRadius \n  urBorderBox&quot; readonly=&quot;&quot; value=&quot;Select&quot; role=&quot;combobox&quot; \n  style=&quot;width:125px;&quot;&gt;\n           &lt;div id=&quot;WDE4-btn&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot; class=&quot;lsEdf3HlpBtnStd \n  urBorderBox lsEdf2HlpRadius lsEdf3HlpIcon lsEdf3HlpBtn lsEdf3HlpBtnCoB&quot; \n  role=&quot;button&quot; style=&quot;display:inline-block;&quot;&gt;&lt;/div&gt;\n        &lt;/span&gt;\n     &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt; \n  &lt;/table&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt; \n  &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt; \n  &lt;/tr&gt;\n  &lt;tr&gt;\n  &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDE8&quot; valign=&quot;bottom&quot; align=&quot;left&quot; \n  class=&quot;urLayoutPadless&quot; style=&quot;border- \n  collapse:separate;width:100%;height:5px;white-space:normal;&quot;&gt;\n  &lt;div id=&quot;WDEA-r&quot;&gt;\n     &lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; id=&quot;WDEA&quot; ct=&quot;ML&quot; lsdata=&quot; \n   {0:'WDEA',7:'LINE'}&quot; class=&quot;urMatrixLayout urHtmlTableReset&quot; \n   role=&quot;presentation&quot; border=&quot;0&quot; style=&quot;border-collapse:collapse;&quot;&gt;\n        &lt;tbody class=&quot;urLinStd&quot;&gt;\n           &lt;tr&gt;\n              &lt;td&gt;&lt;/td&gt;\n           &lt;/tr&gt;\n        &lt;/tbody&gt;\n     &lt;/table&gt;\n    &lt;/div&gt;\n    &lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n   &lt;td ct=&quot;MLC&quot; lsdata=&quot;{}&quot; id=&quot;WDEC&quot; valign=&quot;bottom&quot; align=&quot;left&quot; \n    class=&quot;urLayoutPadless&quot; style=&quot;border- \n    collapse:separate;width:100%;white-space:normal;&quot;&gt;\n  &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;WDED&quot; ct=&quot;TS&quot; \n  lsdata=&quot;{2:'100\\x25',3:'Choose\\x20Tab',6:true,7:false,8:false}&quot; \n  lsevents=&quot;{TabSelect:[{ResponseData:'delta',ClientAction:'submit'}, \n   {}],Scroll:[{ResponseData:'delta',EnqueueCardinality:'single'}, \n  {}],Hotkey:[{ResponseData:'delta',ClientAction:'submit'},{}]}&quot; class=&quot;&quot; \n  role=&quot;presentation&quot; style=&quot;width:100%;&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot;&gt;\n  &lt;tbody&gt;\n  &lt;tr&gt;\n  &lt;td valign=&quot;bottom&quot; class=&quot;lsTbsPanelCnt&quot;&gt;\n     &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; border=&quot;0&quot; \n   style=&quot;width:100%;&quot;&gt;\n  &lt;tbody&gt;\n  &lt;tr&gt;\n  &lt;td class=&quot;lsTbsPanelLeftBtns&quot; align=&quot;left&quot;&gt;&lt;a \n    class=&quot;lsTbsPgPrevLeftDisp lsTbsBtnIcon&quot; tabindex=&quot;-1&quot; ti=&quot;-1&quot; \n  id=&quot;WDED-prevLeft&quot; style=&quot;visibility:hidden;&quot;&gt;&lt;/a&gt;&lt;/td&gt;\n  &lt;td class=&quot;lsTbsPanel2&quot; width=&quot;90%&quot;&gt;\n     &lt;span itn=&quot;ITBB&quot; id=&quot;WDED-ITBB&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \n  style=&quot;position:absolute;top:-1000;height:1;&quot;&gt;&lt;/span&gt;\n     &lt;div id=&quot;WDED-panel&quot; class=&quot;lsTbsOvfl&quot; role=&quot;tablist&quot; aria- \n  controls=&quot;&quot; style=&quot;float:left;&quot;&gt;\n     &lt;div ct=&quot;TSITM&quot; lsdata=&quot;{0:'WDEE',2:true,12:'WDEF'}&quot; id=&quot;WDEE&quot; \n  class=&quot;lsTbsEndMore2Sel&quot; style=&quot;visibility: visible;&quot;&gt;\n        &lt;span class=&quot;lsTbsFirst2Sel&quot;&gt;&lt;/span&gt;\n        &lt;span role=&quot;tab&quot; id=&quot;WDEE-focus&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \n  class=&quot;urNoUserSelect lsTbsLabel2Sel&quot;&gt;\n           User Access\n           &lt;div class=&quot;lsTbsTitleAlign&quot; aria-hidden=&quot;true&quot; \n   role=&quot;presentation&quot;&gt;User Access-&lt;/div&gt;\n        &lt;/span&gt;\n     &lt;/div&gt;\n     &lt;div ct=&quot;TSITM&quot; lsdata=&quot;{0:'WD01B0',1:1,2:true,12:'WD01B1'}&quot; \n   id=&quot;WD01B0&quot; class=&quot;lsTbsEndMore2&quot; style=&quot;visibility: visible;&quot;&gt;\n     &lt;span class=&quot;lsTbsStartEnd2Sel&quot;&gt;&lt;/span&gt;\n     &lt;span role=&quot;tab&quot; id=&quot;WD01B0-focus&quot; tabindex=&quot;0&quot; ti=&quot;0&quot; \n   class=&quot;urNoUserSelect lsTbsLabel2&quot;&gt;\n        Violations\n        &lt;div class=&quot;lsTbsTitleAlign&quot; aria-hidden=&quot;true&quot; \n    role=&quot;presentation&quot;&gt;Violations-&lt;/div&gt;\n     &lt;/span&gt;`\n</code></pre>\n<p><strong>Xpath</strong> :</p>\n<pre><code>/*//table[@class='urMatrixLayout urHtmlTableReset']//tr//table//tr//td//div//div/span[contains(text(),'Violations')]\n</code></pre>\n"},{"tags":["java","selenium-webdriver","automated-tests"],"comments":[{"owner":{"account_id":8704816,"reputation":768,"user_id":6513289,"accept_rate":90,"display_name":"Appu Mistri"},"score":0,"creation_date":1563298607,"post_id":57062455,"comment_id":100650655,"body_markdown":"Rather than using a generic locator type (class here), Try using a more effective locator (like id, name, xpath, etc..). Make sure the element that you are trying to click is visible and enabled on the page.","body":"Rather than using a generic locator type (class here), Try using a more effective locator (like id, name, xpath, etc..). Make sure the element that you are trying to click is visible and enabled on the page."},{"owner":{"account_id":16090223,"reputation":23,"user_id":11793471,"display_name":"Anirudho Sengupta"},"score":0,"creation_date":1563325119,"post_id":57062455,"comment_id":100659017,"body_markdown":"Thanks for your reply @AppuMistr. I used Xpath and CSS as well but to no avail.To check their visibility,I used  the below mentioned code, but M getting &quot;Expected condition failed: waiting for element to be clickable&quot; error","body":"Thanks for your reply @AppuMistr. I used Xpath and CSS as well but to no avail.To check their visibility,I used  the below mentioned code, but M getting &quot;Expected condition failed: waiting for element to be clickable&quot; error"},{"owner":{"account_id":16090223,"reputation":23,"user_id":11793471,"display_name":"Anirudho Sengupta"},"score":0,"creation_date":1563325252,"post_id":57062455,"comment_id":100659033,"body_markdown":"public void inPage() throws InterruptedException {\n\t\n\t WebDriverWait wait = new WebDriverWait(driver, 100);\n\t  \n\t wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[3]/div[2]/div[1]/div[1]/div[2]/div/ul/li[2]/form/button&quot;)));\n\t \n\tboolean enabled = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[3]/div[2]/div[1]/div[1]/div[2]/div/ul/li[2]/form/button&quot;)).isEnabled();\nboolean visible = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[3]/div[2]/div[1]/div[1]/div[2]/div/ul/li[2]/form/button&quot;)).isDisplayed(); }","body":"public void inPage() throws InterruptedException { \t \t WebDriverWait wait = new WebDriverWait(driver, 100); \t   \t wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&zwnj;&#8203;&quot;//*[@id=\\&quot;container&zwnj;&#8203;\\&quot;]/div/div[3]/div[2&zwnj;&#8203;]/div[1]/div[1]/div[&zwnj;&#8203;2]/div/ul/li[2]/form&zwnj;&#8203;/button&quot;))); \t  \tboolean enabled = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[&zwnj;&#8203;3]/div[2]/div[1]/div&zwnj;&#8203;[1]/div[2]/div/ul/li&zwnj;&#8203;[2]/form/button&quot;)).i&zwnj;&#8203;sEnabled(); boolean visible = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[&zwnj;&#8203;3]/div[2]/div[1]/div&zwnj;&#8203;[1]/div[2]/div/ul/li&zwnj;&#8203;[2]/form/button&quot;)).i&zwnj;&#8203;sDisplayed(); }"},{"owner":{"account_id":8704816,"reputation":768,"user_id":6513289,"accept_rate":90,"display_name":"Appu Mistri"},"score":0,"creation_date":1563341908,"post_id":57062455,"comment_id":100662255,"body_markdown":"Does clicking on the first search result ( first iPhone link) takes you to a different tab? If so, switch to the new tab and perform the further actions.","body":"Does clicking on the first search result ( first iPhone link) takes you to a different tab? If so, switch to the new tab and perform the further actions."},{"owner":{"account_id":16090223,"reputation":23,"user_id":11793471,"display_name":"Anirudho Sengupta"},"score":0,"creation_date":1563495044,"post_id":57062455,"comment_id":100728810,"body_markdown":"Thanks a lot for this suggestion, it worked for me. God Bless you.","body":"Thanks a lot for this suggestion, it worked for me. God Bless you."}],"answers":[{"tags":[],"owner":{"account_id":7452628,"reputation":425,"user_id":5666850,"display_name":"Arun Nair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563305210,"creation_date":1563305210,"answer_id":57064197,"question_id":57062455,"body_markdown":"Mistake you are doing is using spaces in classnames ie By.className(&quot;_2AkmmA _2Npkh4 _2kuvG8 _7UHT_c&quot; --&gt; This is incorrect.\r\n\r\n\t\t\tdriver.get(\r\n\t\t\t\t&quot;https://www.flipkart.com/apple-iphone-6-space-grey-32-gb/p/itmetmh3hfhnxtcj?pid=MOBETMH3ZYNDPVVC&amp;srno=s_1_1&amp;otracker=search&amp;otracker1=search&amp;lid=LSTMOBETMH3ZYNDPVVCO3WYBD&amp;fm=SEARCH&amp;iid=d9dfe6a7-d4c6-48b0-b4f2-2046c0033347.MOBETMH3ZYNDPVVC.SEARCH&amp;ppt=sp&amp;ppn=sp&amp;ssid=ouj8l7jf740000001563304721353&amp;qH=43a53d285ae7d271&quot;);\r\n\r\n\t\tWebElement addToCard = driver.findElementByClassName(&quot;_2AkmmA&quot;);\r\n\t\tSystem.out.println(&quot; addToCard text is &quot; + addToCard.getText());\r\n\r\n\t\tWebElement buyNowButton = driver.findElementByClassName(&quot;_2kuvG8&quot;);\r\n\t\tSystem.out.println(&quot; buyNowButton text is &quot; + buyNowButton.getText());\r\n\r\nI got the texts correctly","title":"Expected condition failed: waiting for element to be clickable in Selenium","body":"<p>Mistake you are doing is using spaces in classnames ie By.className(\"_2AkmmA _2Npkh4 _2kuvG8 _7UHT_c\" --> This is incorrect.</p>\n\n<pre><code>        driver.get(\n            \"https://www.flipkart.com/apple-iphone-6-space-grey-32-gb/p/itmetmh3hfhnxtcj?pid=MOBETMH3ZYNDPVVC&amp;srno=s_1_1&amp;otracker=search&amp;otracker1=search&amp;lid=LSTMOBETMH3ZYNDPVVCO3WYBD&amp;fm=SEARCH&amp;iid=d9dfe6a7-d4c6-48b0-b4f2-2046c0033347.MOBETMH3ZYNDPVVC.SEARCH&amp;ppt=sp&amp;ppn=sp&amp;ssid=ouj8l7jf740000001563304721353&amp;qH=43a53d285ae7d271\");\n\n    WebElement addToCard = driver.findElementByClassName(\"_2AkmmA\");\n    System.out.println(\" addToCard text is \" + addToCard.getText());\n\n    WebElement buyNowButton = driver.findElementByClassName(\"_2kuvG8\");\n    System.out.println(\" buyNowButton text is \" + buyNowButton.getText());\n</code></pre>\n\n<p>I got the texts correctly</p>\n"},{"tags":[],"owner":{"account_id":8704816,"reputation":768,"user_id":6513289,"accept_rate":90,"display_name":"Appu Mistri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1563345022,"creation_date":1563345022,"answer_id":57069767,"question_id":57062455,"body_markdown":"I&#39;ve observed that clicking on the first search result (first iPhone) is opening up a new tab, in that case you have to switch to the new tab and perform the further actions.\r\n\r\n    driver.get(\r\n    \t\t&quot;https://www.flipkart.com/search?q=iphone&amp;sid=tyy%2C4io&amp;as=on&amp;as-show=on&amp;otracker=AS_QueryStore_OrganicAutoSuggest_0_4&amp;otracker1=AS_QueryStore_OrganicAutoSuggest_0_4&amp;as-pos=0&amp;as-type=RECENT&amp;as-backfill=on&quot;);\r\n    \r\n    By firstSearchResult = By.className(&quot;_3O0U0u&quot;);\r\n    driver.findElement(firstSearchResult).click();\r\n    \r\n    Thread.sleep(1000);\r\n    \r\n    String currentWindow = driver.getWindowHandle();\r\n    Set&lt;String&gt; windows = driver.getWindowHandles();\r\n    for (String window : windows) {\r\n    \tif (!window.equals(currentWindow)) {\r\n    \t\tdriver.switchTo().window(window);\r\n    \t}\r\n    }\r\n    \r\n    // I&#39;m performing these three steps to set pin-code, as i&#39;m not logging-in. You\r\n    // may not have to perform these three steps as you are already logged -in.\r\n    driver.findElement(By.id(&quot;pincodeInputId&quot;)).clear();\r\n    driver.findElement(By.id(&quot;pincodeInputId&quot;)).sendKeys(&quot;500081&quot;);\r\n    driver.findElement(By.xpath(&quot;//*[@class=&#39;_2aK_gu&#39; and text()[contains(.,&#39;Check&#39;)]]&quot;)).click();\r\n    \r\n    \r\n    By button = By.xpath(&quot;//button[text()[contains(.,&#39;BUY NOW&#39;)]]&quot;);\r\n    WebDriverWait wait = new WebDriverWait(driver, 15);\r\n    wait.until(ExpectedConditions.elementToBeClickable(button));\r\n    driver.findElement(button).click();","title":"Expected condition failed: waiting for element to be clickable in Selenium","body":"<p>I've observed that clicking on the first search result (first iPhone) is opening up a new tab, in that case you have to switch to the new tab and perform the further actions.</p>\n\n<pre><code>driver.get(\n        \"https://www.flipkart.com/search?q=iphone&amp;sid=tyy%2C4io&amp;as=on&amp;as-show=on&amp;otracker=AS_QueryStore_OrganicAutoSuggest_0_4&amp;otracker1=AS_QueryStore_OrganicAutoSuggest_0_4&amp;as-pos=0&amp;as-type=RECENT&amp;as-backfill=on\");\n\nBy firstSearchResult = By.className(\"_3O0U0u\");\ndriver.findElement(firstSearchResult).click();\n\nThread.sleep(1000);\n\nString currentWindow = driver.getWindowHandle();\nSet&lt;String&gt; windows = driver.getWindowHandles();\nfor (String window : windows) {\n    if (!window.equals(currentWindow)) {\n        driver.switchTo().window(window);\n    }\n}\n\n// I'm performing these three steps to set pin-code, as i'm not logging-in. You\n// may not have to perform these three steps as you are already logged -in.\ndriver.findElement(By.id(\"pincodeInputId\")).clear();\ndriver.findElement(By.id(\"pincodeInputId\")).sendKeys(\"500081\");\ndriver.findElement(By.xpath(\"//*[@class='_2aK_gu' and text()[contains(.,'Check')]]\")).click();\n\n\nBy button = By.xpath(\"//button[text()[contains(.,'BUY NOW')]]\");\nWebDriverWait wait = new WebDriverWait(driver, 15);\nwait.until(ExpectedConditions.elementToBeClickable(button));\ndriver.findElement(button).click();\n</code></pre>\n"}],"owner":{"account_id":16090223,"reputation":23,"user_id":11793471,"display_name":"Anirudho Sengupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8027,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57069767,"answer_count":2,"score":1,"last_activity_date":1700831339,"creation_date":1563297440,"question_id":57062455,"body_markdown":"Need some help.\r\n\r\nI am trying to Log into Flipkart and buy the first Iphone via selenium.\r\n\r\nHowever, I am getting stuck in the below mentioned page\r\n\r\nhttps://www.flipkart.com/apple-iphone-6…/p/itmen2yynt6bz3gg…\r\n\r\nI tried to click on the Compare Checkbox, 16GB Button, Buy Now button and Add to cart Button , but all of the operations are giving unable to locate error.\r\n\r\n\r\nAny help will be greatly appreciated.\r\n\r\nThanks in Advance\r\n\r\nI have used Implicit wait as well as Expected Wait but neither wait.\r\n\r\nI also check for iframes in the page, but that did not work either.\r\n\r\n\r\n     @Test(priority = 3,enabled = true)\r\n      public void inPage() throws InterruptedException {\r\n    \t  \r\n    \t  \r\n    \t\r\n    \t WebDriverWait wait = new WebDriverWait(driver, 100);\r\n    \t  \r\n    \t wait.until(ExpectedConditions.elementToBeClickable(By.className(&quot;_2AkmmA _2Npkh4 _2kuvG8 _7UHT_c&quot;))).click();\r\n    \t \r\n    \t\r\n      }\r\n\r\n\r\n\r\n    PASSED: logIn\r\n    PASSED: search\r\n    FAILED: inPage\r\n    org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.className: _2AkmmA _2Npkh4 _2kuvG8 _7UHT_c (tried for 100 second(s) with 500 milliseconds interval)\r\n    \tat org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:95)\r\n    \tat org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:272)\r\n    \tat First.inPage(First.java:94)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\r\n    \tat org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\r\n    \tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\r\n    \tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\r\n    \tat","title":"Expected condition failed: waiting for element to be clickable in Selenium","body":"<p>Need some help.</p>\n<p>I am trying to Log into Flipkart and buy the first Iphone via selenium.</p>\n<p>However, I am getting stuck in the below mentioned page</p>\n<p><a href=\"https://www.flipkart.com/apple-iphone-6%E2%80%A6/p/itmen2yynt6bz3gg%E2%80%A6\" rel=\"nofollow noreferrer\">https://www.flipkart.com/apple-iphone-6…/p/itmen2yynt6bz3gg…</a></p>\n<p>I tried to click on the Compare Checkbox, 16GB Button, Buy Now button and Add to cart Button , but all of the operations are giving unable to locate error.</p>\n<p>Any help will be greatly appreciated.</p>\n<p>Thanks in Advance</p>\n<p>I have used Implicit wait as well as Expected Wait but neither wait.</p>\n<p>I also check for iframes in the page, but that did not work either.</p>\n<pre><code> @Test(priority = 3,enabled = true)\n  public void inPage() throws InterruptedException {\n      \n      \n    \n     WebDriverWait wait = new WebDriverWait(driver, 100);\n      \n     wait.until(ExpectedConditions.elementToBeClickable(By.className(&quot;_2AkmmA _2Npkh4 _2kuvG8 _7UHT_c&quot;))).click();\n     \n    \n  }\n\n\n\nPASSED: logIn\nPASSED: search\nFAILED: inPage\norg.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.className: _2AkmmA _2Npkh4 _2kuvG8 _7UHT_c (tried for 100 second(s) with 500 milliseconds interval)\n    at org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:95)\n    at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:272)\n    at First.inPage(First.java:94)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\n    at\n</code></pre>\n"},{"tags":["java","spring","maven","junit","mocking"],"owner":{"account_id":2687469,"reputation":31,"user_id":2321572,"display_name":"Vaibhav Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700831327,"creation_date":1700831327,"question_id":77543390,"body_markdown":"Using junit5, Java21 \r\n\r\n```\r\n@Tag(&quot;IntegrationTest&quot;)\r\n@ExtendWith(SpringExtension.class)\r\n@WebMvcTest(controllers = ReasonsController.class)\r\npublic class ReasonsControllerIntegrationTest {\r\n\r\n    private static final String ROOT_URL = &quot;/company/00006400/extensions/requests/a1/reasons/&quot;;\r\n    private static final String SPECIFIC_URL = &quot;/company/00006400/extensions/requests/a1/reasons&quot; +\r\n        &quot;/b2&quot;;\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private ReasonsService reasonsService;\r\n\r\n @Test\r\n    public void canReachUpdateReasonEndpoint() throws Exception {\r\n        RequestBuilder requestBuilder = MockMvcRequestBuilders.patch(\r\n                SPECIFIC_URL)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(buildMockReason())\r\n            .accept(MediaType.APPLICATION_JSON);\r\n\r\n        Links links = new Links();\r\n        links.setLink(ExtensionsLinkKeys.SELF, &quot;url&quot;);\r\n        ExtensionReasonDTO dto = new ExtensionReasonDTO();\r\n        dto.setLinks(links);\r\n        when(reasonsService.patchReason(any(ExtensionCreateReason.class), any(String.class), any(String.class)))\r\n            .thenReturn(dto);\r\n        MvcResult result = mockMvc.perform(requestBuilder).andReturn();\r\n        assertEquals(200, result.getResponse().getStatus());\r\n    }\r\n\r\n    @Test\r\n    public void canReachGetReasonsEndPoint() throws Exception {\r\n        RequestBuilder requestBuilder = MockMvcRequestBuilders.get(&quot;/company/00006400/extensions/requests/a1/reasons/&quot;)\r\n            .accept(MediaType.APPLICATION_JSON).contentType(MediaType.APPLICATION_JSON);\r\n\r\n\r\n        ServiceResult&lt;ListResponse&lt;ExtensionReasonDTO&gt;&gt; expectedResult =\r\n            ServiceResult.found(ListResponse.&lt;ExtensionReasonDTO&gt;builder()\r\n                .withItems(Arrays.asList(new ExtensionReasonDTO()))\r\n                .build());\r\n        when(reasonsService.getReasons(anyString()))\r\n            .thenReturn(expectedResult);\r\n        MvcResult result = mockMvc.perform(requestBuilder).andReturn();\r\n        assertEquals(200, result.getResponse().getStatus());\r\n        assertEquals(mockGetResponse(), result.getResponse().getContentAsString());\r\n    }\r\n```\r\n\r\nI debugged and found out that library class DispatcherServlet.class has a method called doDispatch in this method we check Handlers and in case of get The controller class is not loaded but in case of patch it is loaded , How is it possible as both are within same class and configuration must be same\r\n\r\nThe library code line \r\n```\r\nprocessedRequest = this.checkMultipart(request);\r\nmultipartRequestParsed = processedRequest != request;\r\nmappedHandler = this.getHandler(processedRequest);\r\n```\r\nFor get call\r\nHandlerExecutionChain with [ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]] and 5 interceptors\r\n\r\nfor Patch call\r\nHandlerExecutionChain with [ReasonsController#patchReason(ExtensionCreateReason, String, String)] and 3 interceptors\r\n","title":"Integration Testing using Junit Patch and Delete end point work but get does not","body":"<p>Using junit5, Java21</p>\n<pre><code>@Tag(&quot;IntegrationTest&quot;)\n@ExtendWith(SpringExtension.class)\n@WebMvcTest(controllers = ReasonsController.class)\npublic class ReasonsControllerIntegrationTest {\n\n    private static final String ROOT_URL = &quot;/company/00006400/extensions/requests/a1/reasons/&quot;;\n    private static final String SPECIFIC_URL = &quot;/company/00006400/extensions/requests/a1/reasons&quot; +\n        &quot;/b2&quot;;\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private ReasonsService reasonsService;\n\n @Test\n    public void canReachUpdateReasonEndpoint() throws Exception {\n        RequestBuilder requestBuilder = MockMvcRequestBuilders.patch(\n                SPECIFIC_URL)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(buildMockReason())\n            .accept(MediaType.APPLICATION_JSON);\n\n        Links links = new Links();\n        links.setLink(ExtensionsLinkKeys.SELF, &quot;url&quot;);\n        ExtensionReasonDTO dto = new ExtensionReasonDTO();\n        dto.setLinks(links);\n        when(reasonsService.patchReason(any(ExtensionCreateReason.class), any(String.class), any(String.class)))\n            .thenReturn(dto);\n        MvcResult result = mockMvc.perform(requestBuilder).andReturn();\n        assertEquals(200, result.getResponse().getStatus());\n    }\n\n    @Test\n    public void canReachGetReasonsEndPoint() throws Exception {\n        RequestBuilder requestBuilder = MockMvcRequestBuilders.get(&quot;/company/00006400/extensions/requests/a1/reasons/&quot;)\n            .accept(MediaType.APPLICATION_JSON).contentType(MediaType.APPLICATION_JSON);\n\n\n        ServiceResult&lt;ListResponse&lt;ExtensionReasonDTO&gt;&gt; expectedResult =\n            ServiceResult.found(ListResponse.&lt;ExtensionReasonDTO&gt;builder()\n                .withItems(Arrays.asList(new ExtensionReasonDTO()))\n                .build());\n        when(reasonsService.getReasons(anyString()))\n            .thenReturn(expectedResult);\n        MvcResult result = mockMvc.perform(requestBuilder).andReturn();\n        assertEquals(200, result.getResponse().getStatus());\n        assertEquals(mockGetResponse(), result.getResponse().getContentAsString());\n    }\n</code></pre>\n<p>I debugged and found out that library class DispatcherServlet.class has a method called doDispatch in this method we check Handlers and in case of get The controller class is not loaded but in case of patch it is loaded , How is it possible as both are within same class and configuration must be same</p>\n<p>The library code line</p>\n<pre><code>processedRequest = this.checkMultipart(request);\nmultipartRequestParsed = processedRequest != request;\nmappedHandler = this.getHandler(processedRequest);\n</code></pre>\n<p>For get call\nHandlerExecutionChain with [ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]] and 5 interceptors</p>\n<p>for Patch call\nHandlerExecutionChain with [ReasonsController#patchReason(ExtensionCreateReason, String, String)] and 3 interceptors</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":29978791,"reputation":1,"user_id":22974303,"display_name":"Youssef Hassan"},"score":0,"creation_date":1700830283,"post_id":77540099,"comment_id":136704222,"body_markdown":"changes added @blackapps","body":"changes added @blackapps"},{"owner":{"account_id":29978791,"reputation":1,"user_id":22974303,"display_name":"Youssef Hassan"},"score":0,"creation_date":1700831042,"post_id":77540099,"comment_id":136704362,"body_markdown":"@blackapps sorry, its android 14","body":"@blackapps sorry, its android 14"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700835462,"post_id":77540099,"comment_id":136705122,"body_markdown":"For Android 13+ devices you should not request this read permission. You have it by default in all public directories on external storage.","body":"For Android 13+ devices you should not request this read permission. You have it by default in all public directories on external storage."}],"owner":{"account_id":29978791,"reputation":1,"user_id":22974303,"display_name":"Youssef Hassan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700831027,"creation_date":1700783880,"question_id":77540099,"body_markdown":"I am building a small music player app but it wont request permission to read songs after launching\r\n\r\nPermission request for `READ_EXTERNAL_STORAGE` not triggering in Android app despite correct implementation. Manifest includes permission, code for runtime permission check and request is correctly implemented in the activity, but the `onRequestPermissionsResult` method isn&#39;t being called after the permission dialog interaction.I have latest android studio version. How can i solve this issue?\r\n\r\nThis is my android vversion that im using:\r\n\r\nAndroid Studio Giraffe | 2022.3.1 Patch 4\r\n\r\nRuntime version: 17.0.6+0-b2043.56-10027231 amd64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\n\r\nAndroid of used device: Android 14\r\n\r\n\r\nThis is my code\r\n```\r\nif(ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_PERMISSION);\r\n\r\n        }else{\r\n\r\n            //you have permission to read from external storage\r\n            getSongs();\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_PERMISSION) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                getSongs();\r\n            }else{\r\n\r\n            }\r\n\r\n\r\n        }\r\n    }","title":"Permission for accesing external storage in android studio not showing after launch","body":"<p>I am building a small music player app but it wont request permission to read songs after launching</p>\n<p>Permission request for <code>READ_EXTERNAL_STORAGE</code> not triggering in Android app despite correct implementation. Manifest includes permission, code for runtime permission check and request is correctly implemented in the activity, but the <code>onRequestPermissionsResult</code> method isn't being called after the permission dialog interaction.I have latest android studio version. How can i solve this issue?</p>\n<p>This is my android vversion that im using:</p>\n<p>Android Studio Giraffe | 2022.3.1 Patch 4</p>\n<p>Runtime version: 17.0.6+0-b2043.56-10027231 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.</p>\n<p>Android of used device: Android 14</p>\n<p>This is my code</p>\n<pre><code>if(ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, REQUEST_PERMISSION);\n\n        }else{\n\n            //you have permission to read from external storage\n            getSongs();\n        }\n\n\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_PERMISSION) {\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                getSongs();\n            }else{\n\n            }\n\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":734188,"reputation":2655,"user_id":697392,"display_name":"Dmitri"},"score":1,"creation_date":1700682708,"post_id":77531245,"comment_id":136685946,"body_markdown":"kotlin docs - https://kotlinlang.org/docs/whatsnew18.html#usage-of-the-latest-kotlin-stdlib-version-in-transitive-dependencies - suggest to try this when version clashes happen: implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;)).. and of course, the age old invalidate caches and restart still a good option to try","body":"kotlin docs - <a href=\"https://kotlinlang.org/docs/whatsnew18.html#usage-of-the-latest-kotlin-stdlib-version-in-transitive-dependencies\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a> - suggest to try this when version clashes happen: implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8&zwnj;&#8203;.0&quot;)).. and of course, the age old invalidate caches and restart still a good option to try"},{"owner":{"account_id":12799592,"reputation":3918,"user_id":9261322,"accept_rate":75,"display_name":"Alexey Starinsky"},"score":0,"creation_date":1700749669,"post_id":77531245,"comment_id":136694645,"body_markdown":"@Dmitri tried but without a success, see EDIT1","body":"@Dmitri tried but without a success, see EDIT1"}],"answers":[{"tags":[],"owner":{"account_id":12799592,"reputation":3918,"user_id":9261322,"accept_rate":75,"display_name":"Alexey Starinsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700830461,"creation_date":1700830461,"answer_id":77543304,"question_id":77531245,"body_markdown":"Looks like updating Gradle from 7.3.1 to 7.4.1 and updating Gradle wrapper finally helped.","title":"I still get &quot;Module was compiled with an incompatible version of Kotlin&quot; error","body":"<p>Looks like updating Gradle from 7.3.1 to 7.4.1 and updating Gradle wrapper finally helped.</p>\n"}],"owner":{"account_id":12799592,"reputation":3918,"user_id":9261322,"accept_rate":75,"display_name":"Alexey Starinsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1700830461,"creation_date":1700667095,"question_id":77531245,"body_markdown":"I thought that [I fixed my build][1] by adding `ext.kotlin_version = &#39;1.8.0&#39;` to build.gradle in my Android app:\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.8.0&#39;\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.3.1&#39;\r\n        }\r\n    }\r\n\r\n    ext.kotlin_version = &#39;1.8.0&#39;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\nbut actually I did not, and `ext.kotlin_version` did not take an effect and I still get this messages while building my app:\r\n\r\n    &gt; Task :lintVitalAnalyzeRelease\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation-jvm/1.6.0/a7257339a052df0f91433cf9651231bbb802b502/annotation-jvm-1.6.0.jar!/META-INF/annotation.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.8.22/1a8e3601703ae14bb58757ea6b2d8e8e5935a586/kotlin-stdlib-common-1.8.22.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n\r\nWhat I missed when I thought that I fixed my build is that these messages appear only when I do a clean build and do not appear in subsequent builds.\r\n\r\nThe build succeeds:\r\n\r\n    &gt; Task :createDebugBundleListingFileRedirect\r\n    &gt; Task :bundleDebug\r\n    &gt; Task :bundle\r\n\r\n    BUILD SUCCESSFUL in 1m 7s\r\n    88 actionable tasks: 88 executed\r\n\r\nand the app works well enough on an Android device.\r\n\r\nWhat should I with these messages? Is it safe to ignore them?\r\n\r\nProbably I specified some wrong version with ext.kotlin_version = &#39;1.8.0&#39;?\r\n\r\n**EDIT1**\r\n\r\nAdded the following to my `build.gradle`:\r\n\r\n    dependencies {\r\n        implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n\r\nor\r\n\r\n    dependencies {\r\n        implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.6.0&quot;))\r\n\r\nremoved `C:\\Users\\dmitr\\.gradle\\caches` directory and my build output directory, rebuilt the project and got the same messages.\r\n\r\nHonestly I still do not understand well enough is it safe to ignore these messages or not.\r\n\r\nAlso did [the following experiment][2] with this annoying madness:\r\n\r\n    classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0&quot;)\r\n\r\nAnd looks like I followed all the steps from [here][3].\r\n\r\nWhat else can be wrong?\r\n\r\n  [1]: https://stackoverflow.com/questions/77524713/module-was-compiled-with-an-incompatible-version-of-kotlin-its-metadata-is-1-8\r\n  [2]: https://stackoverflow.com/questions/75626057/kotlin-version-issues-the-binary-version-of-its-metadata-is-1-8-0-expected-ver\r\n  [3]: https://stackoverflow.com/questions/67699823/module-was-compiled-with-an-incompatible-version-of-kotlin-the-binary-version-o","title":"I still get &quot;Module was compiled with an incompatible version of Kotlin&quot; error","body":"<p>I thought that <a href=\"https://stackoverflow.com/questions/77524713/module-was-compiled-with-an-incompatible-version-of-kotlin-its-metadata-is-1-8\">I fixed my build</a> by adding <code>ext.kotlin_version = '1.8.0'</code> to build.gradle in my Android app:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.8.0'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.3.1'\n    }\n}\n\next.kotlin_version = '1.8.0'\nrepositories {\n    google()\n    mavenCentral()\n}\n</code></pre>\n<p>but actually I did not, and <code>ext.kotlin_version</code> did not take an effect and I still get this messages while building my app:</p>\n<pre><code>&gt; Task :lintVitalAnalyzeRelease\ne: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation-jvm/1.6.0/a7257339a052df0f91433cf9651231bbb802b502/annotation-jvm-1.6.0.jar!/META-INF/annotation.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.8.22/1a8e3601703ae14bb58757ea6b2d8e8e5935a586/kotlin-stdlib-common-1.8.22.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n</code></pre>\n<p>What I missed when I thought that I fixed my build is that these messages appear only when I do a clean build and do not appear in subsequent builds.</p>\n<p>The build succeeds:</p>\n<pre><code>&gt; Task :createDebugBundleListingFileRedirect\n&gt; Task :bundleDebug\n&gt; Task :bundle\n\nBUILD SUCCESSFUL in 1m 7s\n88 actionable tasks: 88 executed\n</code></pre>\n<p>and the app works well enough on an Android device.</p>\n<p>What should I with these messages? Is it safe to ignore them?</p>\n<p>Probably I specified some wrong version with ext.kotlin_version = '1.8.0'?</p>\n<p><strong>EDIT1</strong></p>\n<p>Added the following to my <code>build.gradle</code>:</p>\n<pre><code>dependencies {\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n</code></pre>\n<p>or</p>\n<pre><code>dependencies {\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.6.0&quot;))\n</code></pre>\n<p>removed <code>C:\\Users\\dmitr\\.gradle\\caches</code> directory and my build output directory, rebuilt the project and got the same messages.</p>\n<p>Honestly I still do not understand well enough is it safe to ignore these messages or not.</p>\n<p>Also did <a href=\"https://stackoverflow.com/questions/75626057/kotlin-version-issues-the-binary-version-of-its-metadata-is-1-8-0-expected-ver\">the following experiment</a> with this annoying madness:</p>\n<pre><code>classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0&quot;)\n</code></pre>\n<p>And looks like I followed all the steps from <a href=\"https://stackoverflow.com/questions/67699823/module-was-compiled-with-an-incompatible-version-of-kotlin-the-binary-version-o\">here</a>.</p>\n<p>What else can be wrong?</p>\n"},{"tags":["java","spring-boot","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":10595514,"reputation":1478,"user_id":7804385,"display_name":"Troley"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1582144805,"creation_date":1582144805,"answer_id":60308868,"question_id":60308578,"body_markdown":"**When involving Spring**:\r\n\r\nIf you want to use Spring test framework features in your tests like for example `@MockBean`, then you have to use `@ExtendWith(SpringExtension.class)`. It replaces the deprecated JUnit4 `@RunWith(SpringJUnit4ClassRunner.class)`\r\n\r\n**When NOT involving Spring**:\r\n\r\nIf you just want to involve Mockito and don&#39;t have to involve Spring, for example,  when you just want to use the `@Mock` / `@InjectMocks` annotations, then you want to use `@ExtendWith(MockitoExtension.class)`, as it doesn&#39;t load in a bunch of unneeded Spring stuff. It replaces the deprecated JUnit4 `@RunWith(MockitoJUnitRunner.class)`.\r\n\r\n**To answer your question**:\r\n\r\nYes you can just use `@ExtendWith(SpringExtension.class)`, but if you&#39;re not involving Spring test framework features in your tests, then you probably want to just use `@ExtendWith(MockitoExtension.class)`.","title":"What is the difference between @ExtendWith(SpringExtension.class) and @ExtendWith(MockitoExtension.class)?","body":"<p><strong>When involving Spring</strong>:</p>\n\n<p>If you want to use Spring test framework features in your tests like for example <code>@MockBean</code>, then you have to use <code>@ExtendWith(SpringExtension.class)</code>. It replaces the deprecated JUnit4 <code>@RunWith(SpringJUnit4ClassRunner.class)</code></p>\n\n<p><strong>When NOT involving Spring</strong>:</p>\n\n<p>If you just want to involve Mockito and don't have to involve Spring, for example,  when you just want to use the <code>@Mock</code> / <code>@InjectMocks</code> annotations, then you want to use <code>@ExtendWith(MockitoExtension.class)</code>, as it doesn't load in a bunch of unneeded Spring stuff. It replaces the deprecated JUnit4 <code>@RunWith(MockitoJUnitRunner.class)</code>.</p>\n\n<p><strong>To answer your question</strong>:</p>\n\n<p>Yes you can just use <code>@ExtendWith(SpringExtension.class)</code>, but if you're not involving Spring test framework features in your tests, then you probably want to just use <code>@ExtendWith(MockitoExtension.class)</code>.</p>\n"}],"owner":{"account_id":16211134,"reputation":533,"user_id":11705123,"display_name":"user11705123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26081,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":60308868,"answer_count":1,"score":37,"last_activity_date":1700830077,"creation_date":1582143563,"question_id":60308578,"body_markdown":"I was using `@RunWith(MockitoJUnitRunner.class)` for my junit test with mockito. But now I am working with spring-boot and JUnit 5.&lt;br/&gt;\r\nWhat&#39;s the difference between the two annotations ? &lt;br/&gt;\r\nCan I use only `@ExtendWith(SpringExtension.class)` to mock my objects ?","title":"What is the difference between @ExtendWith(SpringExtension.class) and @ExtendWith(MockitoExtension.class)?","body":"<p>I was using <code>@RunWith(MockitoJUnitRunner.class)</code> for my junit test with mockito. But now I am working with spring-boot and JUnit 5.<br/>\nWhat's the difference between the two annotations ? <br/>\nCan I use only <code>@ExtendWith(SpringExtension.class)</code> to mock my objects ?</p>\n"},{"tags":["java","asynchronous","orm","vert.x"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1584133231,"post_id":60677083,"comment_id":107353344,"body_markdown":"If you find a reactive ORM, sure. Not sure one exists. ORMs are heavy, cache based and transactional. In many ways the opposite of everything Vert.X is. Strongly consider whether you need an ORM.","body":"If you find a reactive ORM, sure. Not sure one exists. ORMs are heavy, cache based and transactional. In many ways the opposite of everything Vert.X is. Strongly consider whether you need an ORM."},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1584397006,"post_id":60677083,"comment_id":107420011,"body_markdown":"I&#39;m using GORM like here: https://stackoverflow.com/questions/53621770/how-to-import-domain-classes-from-jar-into-a-micronaut-project/53629578#53629578","body":"I&#39;m using GORM like here: <a href=\"https://stackoverflow.com/questions/53621770/how-to-import-domain-classes-from-jar-into-a-micronaut-project/53629578#53629578\" title=\"how to import domain classes from jar into a micronaut project\">stackoverflow.com/questions/53621770/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584349159,"creation_date":1584349159,"answer_id":60702950,"question_id":60677083,"body_markdown":"I am not aware of any full-featured Java ORM that has non blocking APIs.\r\n\r\nThis is why if you want to use an ORM in a Vert.x application, you should use `executeBlocking` to wrap the ORM calls or put your persistence code in a worker verticle.\r\n\r\nThere&#39;s an [example][1] for this scenario in the `vertx-examples` repository.\r\n\r\nAlternatively, you could a tool like [JOOQ][2], an active community member has developed a [neat integration][3].\r\n\r\n\r\n  [1]: https://github.com/vert-x3/vertx-examples/tree/master/spring-examples/spring-worker-example\r\n  [2]: https://www.jooq.org/\r\n  [3]: https://github.com/jklingsporn/vertx-jooq","title":"Is it possible to use ORM together with Vert.x?","body":"<p>I am not aware of any full-featured Java ORM that has non blocking APIs.</p>\n\n<p>This is why if you want to use an ORM in a Vert.x application, you should use <code>executeBlocking</code> to wrap the ORM calls or put your persistence code in a worker verticle.</p>\n\n<p>There's an <a href=\"https://github.com/vert-x3/vertx-examples/tree/master/spring-examples/spring-worker-example\" rel=\"nofollow noreferrer\">example</a> for this scenario in the <code>vertx-examples</code> repository.</p>\n\n<p>Alternatively, you could a tool like <a href=\"https://www.jooq.org/\" rel=\"nofollow noreferrer\">JOOQ</a>, an active community member has developed a <a href=\"https://github.com/jklingsporn/vertx-jooq\" rel=\"nofollow noreferrer\">neat integration</a>.</p>\n"},{"tags":[],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664666976,"creation_date":1664666976,"answer_id":73922412,"question_id":60677083,"body_markdown":"Check out [Hibernate Reactive](https://hibernate.org/reactive/documentation/1.0/reference/html_single/)\r\n\r\n&gt;Hibernate Reactive is a reactive API for Hibernate ORM, supporting non-blocking database drivers and a reactive style of interaction with the database.\r\n\r\n&gt;Out of the box, the Vert.x clients for PostgreSQL, MySQL, and DB2 are supported, though the architecture is not limited to these drivers.","title":"Is it possible to use ORM together with Vert.x?","body":"<p>Check out <a href=\"https://hibernate.org/reactive/documentation/1.0/reference/html_single/\" rel=\"nofollow noreferrer\">Hibernate Reactive</a></p>\n<blockquote>\n<p>Hibernate Reactive is a reactive API for Hibernate ORM, supporting non-blocking database drivers and a reactive style of interaction with the database.</p>\n</blockquote>\n<blockquote>\n<p>Out of the box, the Vert.x clients for PostgreSQL, MySQL, and DB2 are supported, though the architecture is not limited to these drivers.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4846874,"reputation":119,"user_id":3910282,"display_name":"roma2341"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700829910,"creation_date":1700829910,"answer_id":77543260,"question_id":60677083,"body_markdown":"You should not use a framework focused on fast query processing and an ORM that annihilates performance (and often makes deadlocks and other issues that are hard to be fixed)","title":"Is it possible to use ORM together with Vert.x?","body":"<p>You should not use a framework focused on fast query processing and an ORM that annihilates performance (and often makes deadlocks and other issues that are hard to be fixed)</p>\n"}],"owner":{"account_id":2036328,"reputation":14089,"user_id":1818608,"accept_rate":44,"display_name":"Gill Bates"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1974,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1700829910,"creation_date":1584132461,"question_id":60677083,"body_markdown":"As I understand there is an async JDBC driver that is Vert.x compatible:\r\nhttps://vertx.io/docs/vertx-jdbc-client/java/\r\n\r\nBut at the same time I haven&#39;t found any information about usage of Java ORMs together with Vert.x.\r\n\r\nCan someone shed some light on that?","title":"Is it possible to use ORM together with Vert.x?","body":"<p>As I understand there is an async JDBC driver that is Vert.x compatible:\n<a href=\"https://vertx.io/docs/vertx-jdbc-client/java/\" rel=\"nofollow noreferrer\">https://vertx.io/docs/vertx-jdbc-client/java/</a></p>\n\n<p>But at the same time I haven't found any information about usage of Java ORMs together with Vert.x.</p>\n\n<p>Can someone shed some light on that?</p>\n"},{"tags":["java","tomcat","charles-proxy"],"comments":[{"owner":{"account_id":1934419,"reputation":565,"user_id":1743046,"accept_rate":75,"display_name":"lehanh"},"score":0,"creation_date":1569569915,"post_id":19943890,"comment_id":102646988,"body_markdown":"you are using REST request such as HttpClient in tomcat service?","body":"you are using REST request such as HttpClient in tomcat service?"}],"answers":[{"tags":[],"owner":{"account_id":1832413,"reputation":101,"user_id":1663525,"display_name":"Rog&#233;rio Fonseca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700829736,"creation_date":1700829736,"answer_id":77543238,"question_id":19943890,"body_markdown":"**Change this:**\r\n\r\n    -Dhttps.proxyHost=127.0.0.1 -Dhttp.proxyHost=127.0.0.1\r\n\r\n**To:**\r\n\r\n    -Dhttps.proxyHost=localhost.charlesproxy.com  -Dhttp.proxyHost=localhost.charlesproxy.com \r\n\r\n**Documentation:** [here][1]\r\n\r\nIf this doesn&#39;t work for you. Add the content below to the file `/etc/hosts`\r\n\r\n    127.0.0.1  localhost.charlesproxy.com\r\n\r\n  [1]: https://www.charlesproxy.com/documentation/faqs/localhost-traffic-doesnt-appear-in-charles/","title":"Use Charles Proxy to monitor tomcat service","body":"<p><strong>Change this:</strong></p>\n<pre><code>-Dhttps.proxyHost=127.0.0.1 -Dhttp.proxyHost=127.0.0.1\n</code></pre>\n<p><strong>To:</strong></p>\n<pre><code>-Dhttps.proxyHost=localhost.charlesproxy.com  -Dhttp.proxyHost=localhost.charlesproxy.com \n</code></pre>\n<p><strong>Documentation:</strong> <a href=\"https://www.charlesproxy.com/documentation/faqs/localhost-traffic-doesnt-appear-in-charles/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>If this doesn't work for you. Add the content below to the file <code>/etc/hosts</code></p>\n<pre><code>127.0.0.1  localhost.charlesproxy.com\n</code></pre>\n"}],"owner":{"account_id":1964391,"reputation":377,"user_id":1765021,"accept_rate":50,"display_name":"abuuu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1700829736,"creation_date":1384308442,"question_id":19943890,"body_markdown":"I&#39;m using Charles Proxy to monitor the traffic in a tomcat service, after reading the document I add a line in catalina.bat:\r\n\r\nset JAVA_OPTS=%JAVA_OPTS% -agentpath:C:\\yjpagent.dll -Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=8888 -Dhttp.proxyHost=127.0.0.1 -Dhttp.proxyPort=8888\r\n\r\nBut the Charles Proxy does not show anything when the service runs.\r\n\r\nAny idea what should I do?\r\n\r\nThanks in advance.","title":"Use Charles Proxy to monitor tomcat service","body":"<p>I'm using Charles Proxy to monitor the traffic in a tomcat service, after reading the document I add a line in catalina.bat:</p>\n\n<p>set JAVA_OPTS=%JAVA_OPTS% -agentpath:C:\\yjpagent.dll -Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=8888 -Dhttp.proxyHost=127.0.0.1 -Dhttp.proxyPort=8888</p>\n\n<p>But the Charles Proxy does not show anything when the service runs.</p>\n\n<p>Any idea what should I do?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","sftp","sshj","aws-sftp"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591334987,"creation_date":1591203686,"answer_id":62178484,"question_id":62170626,"body_markdown":"It seems that sshj [`SSHClient`](https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/SSHClient.html) API does not allow preventing the use of the SETSTAT request. You will have to use more low level API, like [`SFTPFileTransfer`](https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/SFTPFileTransfer.html):\r\n\r\n```\r\nSFTPEngine engine = new SFTPEngine(sshClient).init();\r\nSFTPFileTransfer xfer = new SFTPFileTransfer(engine);\r\nxfer.setPreserveAttributes(false);\r\nxfer.upload(&quot;/home/vm/test.txt&quot;, GetConfigValue(&quot;dds&quot;, &quot;RemoteDirectory&quot;));\r\n```","title":"Workaround for unsupported SETSTAT request on SFTP server with sshj","body":"<p>It seems that sshj <a href=\"https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/SSHClient.html\" rel=\"nofollow noreferrer\"><code>SSHClient</code></a> API does not allow preventing the use of the SETSTAT request. You will have to use more low level API, like <a href=\"https://www.javadoc.io/doc/com.hierynomus/sshj/latest/net/schmizz/sshj/sftp/SFTPFileTransfer.html\" rel=\"nofollow noreferrer\"><code>SFTPFileTransfer</code></a>:</p>\n\n<pre><code>SFTPEngine engine = new SFTPEngine(sshClient).init();\nSFTPFileTransfer xfer = new SFTPFileTransfer(engine);\nxfer.setPreserveAttributes(false);\nxfer.upload(\"/home/vm/test.txt\", GetConfigValue(\"dds\", \"RemoteDirectory\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10741413,"reputation":131,"user_id":7904372,"display_name":"MrAaronOlsen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1592415715,"creation_date":1592415715,"answer_id":62435176,"question_id":62170626,"body_markdown":"SSHJ does support skipping SETSTAT method.\r\n\r\n```\r\nsftpClient.getFileTransfer().setPreserveAttributes(false)\r\n```","title":"Workaround for unsupported SETSTAT request on SFTP server with sshj","body":"<p>SSHJ does support skipping SETSTAT method.</p>\n\n<pre><code>sftpClient.getFileTransfer().setPreserveAttributes(false)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7353328,"reputation":1,"user_id":6097679,"display_name":"Shreekant"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700829523,"creation_date":1697455959,"answer_id":77301623,"question_id":62170626,"body_markdown":"&gt; By default the preserveAttributes of SFTPFileTransfer is true\r\n\r\n   \r\n\r\n     [private volatile boolean preserveAttributes = true;]\r\n\r\n\r\n\r\n\r\nHence, setting it to false for AWS services would stop preserving data during uploads.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/com.hierynomus/sshj/0.22.0/net/schmizz/sshj/sftp/SFTPFileTransfer.html\r\n  ","title":"Workaround for unsupported SETSTAT request on SFTP server with sshj","body":"<blockquote>\n<p>By default the preserveAttributes of SFTPFileTransfer is true</p>\n</blockquote>\n<pre><code> [private volatile boolean preserveAttributes = true;]\n</code></pre>\n<p>Hence, setting it to false for AWS services would stop preserving data during uploads.</p>\n"}],"owner":{"account_id":971494,"reputation":1544,"user_id":993990,"accept_rate":96,"display_name":"conteh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8625,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62178484,"answer_count":3,"score":3,"last_activity_date":1700829523,"creation_date":1591180083,"question_id":62170626,"body_markdown":"I&#39;m trying to SFTP to a server using identity string: SSH-2.0-AWS_SFTP_1.0 with the following Java code using sshj.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.hierynomus&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sshj&lt;/artifactId&gt;\r\n    &lt;version&gt;0.29.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```java\r\nprivate SSHClient setupSshj(String remoteHost, String username, String password) throws IOException {\r\n    SSHClient client = new SSHClient();\r\n    client.addHostKeyVerifier(new PromiscuousVerifier());\r\n    client.connect(remoteHost);\r\n    client.authPassword(username, password);\r\n    return client;\r\n}\r\n\r\npublic void sftpfiles() throws IOException {\r\n    if (Boolean.parseBoolean(GetConfigValue(&quot;dds&quot;, &quot;sendFiles&quot;))) {\r\n        SSHClient sshClient = setupSshj(GetConfigValue(&quot;dds&quot;, &quot;RemoteAddress&quot;), GetConfigValue(&quot;dds&quot;, &quot;RemoteLogin&quot;), GetConfigValue(&quot;dds&quot;, &quot;RemotePassword&quot;));\r\n        SFTPClient sftpClient = sshClient.newSFTPClient();\r\n        sftpClient.put(&quot;/home/vm/test.txt&quot;, GetConfigValue(&quot;dds&quot;, &quot;RemoteDirectory&quot;));\r\n        sftpClient.close();\r\n        sshClients.disconnect();\r\n    }\r\n}\r\n```\r\n\r\nand get the error \r\n\r\n&gt; Error SETSTAT unsupported\r\n\r\nI understand that the AWS service doesn’t allow setting timestamps when uploading however I don&#39;t know what adjustments are required in order to configure the SFTP client.\r\n\r\n","title":"Workaround for unsupported SETSTAT request on SFTP server with sshj","body":"<p>I'm trying to SFTP to a server using identity string: SSH-2.0-AWS_SFTP_1.0 with the following Java code using sshj.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.hierynomus&lt;/groupId&gt;\n    &lt;artifactId&gt;sshj&lt;/artifactId&gt;\n    &lt;version&gt;0.29.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private SSHClient setupSshj(String remoteHost, String username, String password) throws IOException {\n    SSHClient client = new SSHClient();\n    client.addHostKeyVerifier(new PromiscuousVerifier());\n    client.connect(remoteHost);\n    client.authPassword(username, password);\n    return client;\n}\n\npublic void sftpfiles() throws IOException {\n    if (Boolean.parseBoolean(GetConfigValue(&quot;dds&quot;, &quot;sendFiles&quot;))) {\n        SSHClient sshClient = setupSshj(GetConfigValue(&quot;dds&quot;, &quot;RemoteAddress&quot;), GetConfigValue(&quot;dds&quot;, &quot;RemoteLogin&quot;), GetConfigValue(&quot;dds&quot;, &quot;RemotePassword&quot;));\n        SFTPClient sftpClient = sshClient.newSFTPClient();\n        sftpClient.put(&quot;/home/vm/test.txt&quot;, GetConfigValue(&quot;dds&quot;, &quot;RemoteDirectory&quot;));\n        sftpClient.close();\n        sshClients.disconnect();\n    }\n}\n</code></pre>\n<p>and get the error</p>\n<blockquote>\n<p>Error SETSTAT unsupported</p>\n</blockquote>\n<p>I understand that the AWS service doesn’t allow setting timestamps when uploading however I don't know what adjustments are required in order to configure the SFTP client.</p>\n"},{"tags":["java","spring-boot","java-9","java-module"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1549378489,"post_id":54536895,"comment_id":95875601,"body_markdown":"not very sure about wsdl here...but, did you try adding a `module-info.java` to your project and/or ensure that the module you&#39;re depending upon (for classes `org.apache.cxf.endpoint.ClientImpl`) is resolved on the modulepath rather than the classpath.","body":"not very sure about wsdl here...but, did you try adding a <code>module-info.java</code> to your project and/or ensure that the module you&#39;re depending upon (for classes <code>org.apache.cxf.endpoint.ClientImpl</code>) is resolved on the modulepath rather than the classpath."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":28,"creation_date":1549804139,"post_id":54536895,"comment_id":96026301,"body_markdown":"There is no “*because*” in the error message. All this addendum tells you, is, that both classes are located in the same module, the unnamed module of loader &#39;app&#39;, which helps the reader to understand that this problem is entirely unrelated to modules. `ClientImpl` simply is not a subtype of `XigniteCurrenciesSoap`; it&#39;s an ordinary `ClassCastException`.","body":"There is no “<i>because</i>” in the error message. All this addendum tells you, is, that both classes are located in the same module, the unnamed module of loader &#39;app&#39;, which helps the reader to understand that this problem is entirely unrelated to modules. <code>ClientImpl</code> simply is not a subtype of <code>XigniteCurrenciesSoap</code>; it&#39;s an ordinary <code>ClassCastException</code>."},{"owner":{"account_id":3558487,"reputation":1004,"user_id":2971549,"display_name":"Saman Salehi"},"score":5,"creation_date":1623598585,"post_id":54536895,"comment_id":120119128,"body_markdown":"In my case it was a little bit different. Class Cast Exception sometime happen because of the conflict between different version of the java. in pom.xml i set to use  &quot;&lt;java.version&gt;1.8&lt;/java.version&gt; but in Intellje IDE i set to use java version 11. after changing java version from 11 to 8 problem solved for me.","body":"In my case it was a little bit different. Class Cast Exception sometime happen because of the conflict between different version of the java. in pom.xml i set to use  &quot;&lt;java.version&gt;1.8&lt;/java.version&gt; but in Intellje IDE i set to use java version 11. after changing java version from 11 to 8 problem solved for me."},{"owner":{"account_id":11699911,"reputation":363,"user_id":8565380,"display_name":"Harsh"},"score":0,"creation_date":1653983890,"post_id":54536895,"comment_id":127976996,"body_markdown":"I was using Kotlin alongside Java , simply recompiling the kotlin class resolved the issue","body":"I was using Kotlin alongside Java , simply recompiling the kotlin class resolved the issue"}],"answers":[{"tags":[],"owner":{"account_id":3496867,"reputation":3005,"user_id":2924784,"accept_rate":83,"display_name":"orirab"},"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1567412608,"creation_date":1567412608,"answer_id":57753612,"question_id":54536895,"body_markdown":"I had a similar case, and (as mentioned by @Holger in the comment) the module info in the message is simply misleading - this is an actual case of trying to cast something to something that doesn&#39;t match it.\r\n\r\nIn your case, `ClientImpl` simply is not a subtype of `XigniteCurrenciesSoap`.","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>I had a similar case, and (as mentioned by @Holger in the comment) the module info in the message is simply misleading - this is an actual case of trying to cast something to something that doesn't match it.</p>\n\n<p>In your case, <code>ClientImpl</code> simply is not a subtype of <code>XigniteCurrenciesSoap</code>.</p>\n"},{"tags":[],"owner":{"account_id":2050238,"reputation":96,"user_id":1829412,"display_name":"Hotpot with Kraut"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1587938964,"creation_date":1587925782,"answer_id":61445969,"question_id":54536895,"body_markdown":"The stacktrace is trying to tell you that you have casted `XigniteCurrenciesSoap` to `ClientImpl`.\r\n\r\nSuch as the example below:\r\n\r\n```\r\nObject returnObj= getXigniteCurrenciesSoap();\r\nreturn (ClientImpl) returnObj;\r\n```\r\n\r\nYou have to find out where you did that in your code and fix it.\r\n","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>The stacktrace is trying to tell you that you have casted <code>XigniteCurrenciesSoap</code> to <code>ClientImpl</code>.</p>\n\n<p>Such as the example below:</p>\n\n<pre><code>Object returnObj= getXigniteCurrenciesSoap();\nreturn (ClientImpl) returnObj;\n</code></pre>\n\n<p>You have to find out where you did that in your code and fix it.</p>\n"},{"tags":[],"owner":{"account_id":3124328,"reputation":15,"user_id":5701594,"display_name":"zaher"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1651828160,"creation_date":1651828160,"answer_id":72138966,"question_id":54536895,"body_markdown":"I had the same problem. The problem in my case was that I already had a class with the same name in another place. So try changing the class name.","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>I had the same problem. The problem in my case was that I already had a class with the same name in another place. So try changing the class name.</p>\n"},{"tags":[],"owner":{"account_id":3773766,"reputation":103,"user_id":3135194,"display_name":"Sanjay Tank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670355359,"creation_date":1663189510,"answer_id":73723149,"question_id":54536895,"body_markdown":"I was getting very similar above exception.&lt;/b&gt;\r\n\r\n```\r\njava.lang.ClassCastException: class [B cannot be cast to class org.apache.avro.generic.GenericRecord ([B is in module java.base of loader &#39;bootstrap&#39;; org.apache.avro.generic.GenericRecord is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader \r\n```\r\n\r\n\r\nRoot cause was my Gradle dependency had exclude statement, i.e.\r\n\r\n```\r\nexclude group: &#39;org.springframework.cloud&#39;, module: &#39;spring-cloud-stram-binder-kafka&#39;,\r\n```\r\n\r\nI commented it as below and things were working fine after that:\r\n\r\n```lang-groovy\r\nimplementation (&#39;com.xyz.lux:lux-acitor:1.25.0&#39;) {\r\n  //exclude group: &#39;org.springframework.cloud&#39;, module: &#39;spring-cloud-stream-binder-kafka&#39;\r\n  exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-reload4j&#39;\r\n  exclude group: &#39;io.confluent&#39;, module: &#39;confluent-log4j&#39;\r\n}\r\n```","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>I was getting very similar above exception.</p>\n<pre><code>java.lang.ClassCastException: class [B cannot be cast to class org.apache.avro.generic.GenericRecord ([B is in module java.base of loader 'bootstrap'; org.apache.avro.generic.GenericRecord is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader \n</code></pre>\n<p>Root cause was my Gradle dependency had exclude statement, i.e.</p>\n<pre><code>exclude group: 'org.springframework.cloud', module: 'spring-cloud-stram-binder-kafka',\n</code></pre>\n<p>I commented it as below and things were working fine after that:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>implementation ('com.xyz.lux:lux-acitor:1.25.0') {\n  //exclude group: 'org.springframework.cloud', module: 'spring-cloud-stream-binder-kafka'\n  exclude group: 'org.slf4j', module: 'slf4j-reload4j'\n  exclude group: 'io.confluent', module: 'confluent-log4j'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6210841,"reputation":63,"user_id":14101715,"display_name":"Pascoal Eddy Bayonne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675860425,"creation_date":1675860425,"answer_id":75386016,"question_id":54536895,"body_markdown":"I had the same issue using spring cloud stream kafka, when i tried to consume the message it throw the exception. \r\n\r\nIn my case, it is because Spring boot needed any kind of dependency which would allow the Serde (serialisation or deserialisation). Just added the json one.\r\n\r\n    \t\t\r\n\r\n           &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nafter that i was able to keep moving forward. Remember if you have Spring Web dependency then this above dependency is automatically included ","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>I had the same issue using spring cloud stream kafka, when i tried to consume the message it throw the exception.</p>\n<p>In my case, it is because Spring boot needed any kind of dependency which would allow the Serde (serialisation or deserialisation). Just added the json one.</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-json&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>after that i was able to keep moving forward. Remember if you have Spring Web dependency then this above dependency is automatically included</p>\n"},{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697460537,"creation_date":1697460537,"answer_id":77302098,"question_id":54536895,"body_markdown":"In my case I had a parent class with the following lombok annotations\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @SuperBuilder\r\n    public class Parent {\r\n    ...\r\n    }\r\n\r\nand then the child class looked like this\r\n\r\n    public class Child extends Parent {}\r\n\r\nIn the end I got it working by adding these two lombok annotations to the child class\r\n\r\n    @SuperBuilder\r\n    @EqualsAndHashCode(callSuper = true)\r\n\r\n","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>In my case I had a parent class with the following lombok annotations</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@SuperBuilder\npublic class Parent {\n...\n}\n</code></pre>\n<p>and then the child class looked like this</p>\n<pre><code>public class Child extends Parent {}\n</code></pre>\n<p>In the end I got it working by adding these two lombok annotations to the child class</p>\n<pre><code>@SuperBuilder\n@EqualsAndHashCode(callSuper = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29562025,"reputation":1,"user_id":22656334,"display_name":"Adel Kh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700829176,"creation_date":1700829137,"answer_id":77543174,"question_id":54536895,"body_markdown":"In my case: i used one of auto-generators to generate data-classes from json-schema.\r\nAfter that i renamed Top-level data class i got from auto-generator. \r\nInside of that class was field with same name.\r\nJackson couldn&#39;t deserialize it.\r\n\r\nAfter i renamed top-level data class issue was fixed","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>In my case: i used one of auto-generators to generate data-classes from json-schema.\nAfter that i renamed Top-level data class i got from auto-generator.\nInside of that class was field with same name.\nJackson couldn't deserialize it.</p>\n<p>After i renamed top-level data class issue was fixed</p>\n"}],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365219,"favorite_count":0,"down_vote_count":0,"up_vote_count":140,"accepted_answer_id":57753612,"answer_count":7,"score":140,"last_activity_date":1700829176,"creation_date":1549377821,"question_id":54536895,"body_markdown":"I&#39;m trying to create a bean from sources that were generated by [`wsdl2java`](https://github.com/nilsmagnus/wsdl2java).\r\n\r\nEvery time I try to run my Spring Boot app, I get the following error:\r\n\r\n&gt; Caused by: java.lang.ClassCastException: class\r\n&gt; org.apache.cxf.endpoint.ClientImpl cannot be cast to class\r\n&gt; com.xignite.services.XigniteCurrenciesSoap\r\n&gt; (org.apache.cxf.endpoint.ClientImpl and\r\n&gt; com.xignite.services.XigniteCurrenciesSoap are in unnamed module of\r\n&gt; loader &#39;app&#39;)\r\n\r\nI&#39;m not sure how exactly I&#39;m to include generated sources in my main Spring Boot application as a module.\r\n\r\nMy directory structure is:\r\n\r\n    ├── build\r\n    │&#160;&#160; └── generatedsources\r\n    │       └── src\r\n    │           └── main\r\n    │               └── java\r\n    │                   └── com\r\n    │                       └── xignite\r\n    │                           └── services\r\n    │      \r\n    └── src\r\n        └── main\r\n            ├── java\r\n            │&#160;&#160; └── io\r\n            │&#160;&#160;     └── mateo\r\n            │&#160;&#160;         └── stackoverflow\r\n            │&#160;&#160;             └── soapconsumption\r\n            └── resources\r\n        &#160;&#160;     └── wsdls\r\n\r\nRelevant system info:\r\n\r\n    openjdk version &quot;11.0.1&quot; 2018-10-16\r\n    OpenJDK Runtime Environment 18.9 (build 11.0.1+13)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11.0.1+13, mixed mode)\r\n\r\n* Spring Boot 2.1.2.RELEASE\r\n* Gradle 5.2\r\n\r\nI&#39;ve also uploaded the project onto Github here: https://github.com/ciscoo/soap-consumption-spring-boot","title":"Cannot be cast to class - they are in unnamed module of loader &#39;app&#39;","body":"<p>I'm trying to create a bean from sources that were generated by <a href=\"https://github.com/nilsmagnus/wsdl2java\" rel=\"noreferrer\"><code>wsdl2java</code></a>.</p>\n\n<p>Every time I try to run my Spring Boot app, I get the following error:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.ClassCastException: class\n  org.apache.cxf.endpoint.ClientImpl cannot be cast to class\n  com.xignite.services.XigniteCurrenciesSoap\n  (org.apache.cxf.endpoint.ClientImpl and\n  com.xignite.services.XigniteCurrenciesSoap are in unnamed module of\n  loader 'app')</p>\n</blockquote>\n\n<p>I'm not sure how exactly I'm to include generated sources in my main Spring Boot application as a module.</p>\n\n<p>My directory structure is:</p>\n\n<pre><code>├── build\n│   └── generatedsources\n│       └── src\n│           └── main\n│               └── java\n│                   └── com\n│                       └── xignite\n│                           └── services\n│      \n└── src\n    └── main\n        ├── java\n        │   └── io\n        │       └── mateo\n        │           └── stackoverflow\n        │               └── soapconsumption\n        └── resources\n           └── wsdls\n</code></pre>\n\n<p>Relevant system info:</p>\n\n<pre><code>openjdk version \"11.0.1\" 2018-10-16\nOpenJDK Runtime Environment 18.9 (build 11.0.1+13)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.1+13, mixed mode)\n</code></pre>\n\n<ul>\n<li>Spring Boot 2.1.2.RELEASE</li>\n<li>Gradle 5.2</li>\n</ul>\n\n<p>I've also uploaded the project onto Github here: <a href=\"https://github.com/ciscoo/soap-consumption-spring-boot\" rel=\"noreferrer\">https://github.com/ciscoo/soap-consumption-spring-boot</a></p>\n"},{"tags":["java","io","flush"],"comments":[{"owner":{"account_id":996144,"reputation":1722,"user_id":1012022,"display_name":"robermann"},"score":0,"creation_date":1393845936,"post_id":22145523,"comment_id":33603143,"body_markdown":"I don&#39;t think it is really necessary. What says the javadoc?","body":"I don&#39;t think it is really necessary. What says the javadoc?"},{"owner":{"account_id":1114067,"reputation":196771,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":4,"creation_date":1393845950,"post_id":22145523,"comment_id":33603154,"body_markdown":"I don&#39;t see this all the time... or ever, in fact. Where are you encountering it?","body":"I don&#39;t see this all the time... or ever, in fact. Where are you encountering it?"},{"owner":{"account_id":3280268,"reputation":8445,"user_id":2761035,"accept_rate":74,"display_name":"codingenious"},"score":0,"creation_date":1393846109,"post_id":22145523,"comment_id":33603237,"body_markdown":"I never do that. And never faced problem too.","body":"I never do that. And never faced problem too."},{"owner":{"account_id":1126980,"reputation":3627,"user_id":1114024,"accept_rate":76,"display_name":"krystah"},"score":0,"creation_date":1393846551,"post_id":22145523,"comment_id":33603496,"body_markdown":"The javadocs doesn&#39;t specify to do so, but I&#39;ve had multiple professors and read quite a few tutorials suggesting that it&#39;s good practice, I just don&#39;t like doing stuff &quot;just because some smart guy said it&quot;.","body":"The javadocs doesn&#39;t specify to do so, but I&#39;ve had multiple professors and read quite a few tutorials suggesting that it&#39;s good practice, I just don&#39;t like doing stuff &quot;just because some smart guy said it&quot;."},{"owner":{"account_id":1485367,"reputation":122983,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1393846584,"post_id":22145523,"comment_id":33603506,"body_markdown":"Can you share links to these tutorials?","body":"Can you share links to these tutorials?"},{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":0,"creation_date":1393846925,"post_id":22145523,"comment_id":33603711,"body_markdown":"Is it possible you are seeing these flushes being called with server sockets. On these sockets you are creating the object output stream after sending prior data through the socket. I could see an instance where you write some data to the socket then want to write some more but it could take some time. In that case you would want to flush it prior to doing the heavy lifting.","body":"Is it possible you are seeing these flushes being called with server sockets. On these sockets you are creating the object output stream after sending prior data through the socket. I could see an instance where you write some data to the socket then want to write some more but it could take some time. In that case you would want to flush it prior to doing the heavy lifting."},{"owner":{"account_id":1126980,"reputation":3627,"user_id":1114024,"accept_rate":76,"display_name":"krystah"},"score":2,"creation_date":1393847479,"post_id":22145523,"comment_id":33604024,"body_markdown":"It&#39;s been a while since I read those tutorials, but I dug up a couple here:\nhttps://blogs.oracle.com/muraliveligeti/entry/j2ee_connecting_to_https_site\n\nhttp://www.binarytides.com/java-socket-programming-tutorial/","body":"It&#39;s been a while since I read those tutorials, but I dug up a couple here: <a href=\"https://blogs.oracle.com/muraliveligeti/entry/j2ee_connecting_to_https_site\" rel=\"nofollow noreferrer\">blogs.oracle.com/muraliveligeti/entry/&hellip;</a>  <a href=\"http://www.binarytides.com/java-socket-programming-tutorial/\" rel=\"nofollow noreferrer\">binarytides.com/java-socket-programming-tutorial</a>"},{"owner":{"account_id":1126980,"reputation":3627,"user_id":1114024,"accept_rate":76,"display_name":"krystah"},"score":0,"creation_date":1393847610,"post_id":22145523,"comment_id":33604109,"body_markdown":"I might be better off asking the professors why this is rather than looking up random tutorials in a hurry though.","body":"I might be better off asking the professors why this is rather than looking up random tutorials in a hurry though."}],"answers":[{"tags":[],"owner":{"account_id":3845998,"reputation":1620,"user_id":3187537,"display_name":"Saurabh Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393846119,"creation_date":1393846119,"answer_id":22145597,"question_id":22145523,"body_markdown":"When you write data out to a stream, some amount of buffering will occur, and you never know for sure exactly when the last of the data will actually be sent. You might perform many rite operations on a stream before closing it, and invoking the flush()method guarantees that the last of the data you thought you had already written actually gets out to the file. Whenever you&#39;re done using a file, either reading it or writing to it, you should invoke the close()method. When you are doing file I/O you&#39;re using expensive and limited operating system resources, and so when you&#39;re done, invoking close()will free up those resources.","title":"Why is it necessary to flush the output buffer when it was just created?","body":"<p>When you write data out to a stream, some amount of buffering will occur, and you never know for sure exactly when the last of the data will actually be sent. You might perform many rite operations on a stream before closing it, and invoking the flush()method guarantees that the last of the data you thought you had already written actually gets out to the file. Whenever you're done using a file, either reading it or writing to it, you should invoke the close()method. When you are doing file I/O you're using expensive and limited operating system resources, and so when you're done, invoking close()will free up those resources.</p>\n"},{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393847312,"creation_date":1393847312,"answer_id":22145991,"question_id":22145523,"body_markdown":"In over 15 years of writing Java on a professional level I&#39;ve never once encountered a need to flush a stream before writing to it.&lt;br/&gt;\r\nThe flush operation would do nothing at all, as there&#39;s nothing to flush.&lt;br/&gt;\r\nYou want to flush the stream before closing it, though the close operation should do that for you it is often considered best practice to do it explicitly (and I have encountered situations where that did make a difference, where apparently the close operation did not actually do a flush first.&lt;br/&gt;\r\nMaybe you are confused with that?","title":"Why is it necessary to flush the output buffer when it was just created?","body":"<p>In over 15 years of writing Java on a professional level I've never once encountered a need to flush a stream before writing to it.<br/>\nThe flush operation would do nothing at all, as there's nothing to flush.<br/>\nYou want to flush the stream before closing it, though the close operation should do that for you it is often considered best practice to do it explicitly (and I have encountered situations where that did make a difference, where apparently the close operation did not actually do a flush first.<br/>\nMaybe you are confused with that?</p>\n"},{"tags":[],"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700829002,"creation_date":1454333548,"answer_id":35131843,"question_id":22145523,"body_markdown":"This is needed when using either `ObjectInputStream` and `ObjectOutputStream`, because they send a header over the stream before the first write is called. The call to `flush()` will send that header to the remote side.\r\n\r\nAccording to the [spec][1], the header exists of the following contents:\r\n\r\n&gt;     magic version\r\n\r\nIf the header doesn&#39;t arrive at the moment a ObjectInputStream is build, this call will hang until it received the header bytes.\r\n\r\nThis means that if the protocol in question is written with `ObjectStream`s, it should flush after creating a `ObjectOutputStream`.\r\n\r\nNote that this practice is only required when using the `ObjectOutputStream` to send to a real time viewer. If writing it to an file, it isn&#39;t typically needed\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/platform/serialization/spec/protocol.html#53688","title":"Why is it necessary to flush the output buffer when it was just created?","body":"<p>This is needed when using either <code>ObjectInputStream</code> and <code>ObjectOutputStream</code>, because they send a header over the stream before the first write is called. The call to <code>flush()</code> will send that header to the remote side.</p>\n<p>According to the <a href=\"https://docs.oracle.com/javase/7/docs/platform/serialization/spec/protocol.html#53688\" rel=\"nofollow noreferrer\">spec</a>, the header exists of the following contents:</p>\n<blockquote>\n<pre><code>magic version\n</code></pre>\n</blockquote>\n<p>If the header doesn't arrive at the moment a ObjectInputStream is build, this call will hang until it received the header bytes.</p>\n<p>This means that if the protocol in question is written with <code>ObjectStream</code>s, it should flush after creating a <code>ObjectOutputStream</code>.</p>\n<p>Note that this practice is only required when using the <code>ObjectOutputStream</code> to send to a real time viewer. If writing it to an file, it isn't typically needed</p>\n"}],"owner":{"account_id":1126980,"reputation":3627,"user_id":1114024,"accept_rate":76,"display_name":"krystah"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1508,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":35131843,"answer_count":3,"score":7,"last_activity_date":1700829002,"creation_date":1393845877,"question_id":22145523,"body_markdown":"In the following scenario\r\n    \r\n    ObjectOutputStream output = new ObjectOutputStream(socket.getOutputStream());\r\n    output.flush();\r\n    // Do stuff with it\r\n\r\nWhy is it always necessary to flush the buffer after initial creation?&lt;br /&gt;\r\nI see this all the time and I don&#39;t really understand *what* has to be flushed. I kind of expect newly created variables to be empty unless otherwise is specified.&lt;br /&gt;\r\n\r\nKind of like buying a trash-can and finding a tiny pile of trash inside that came with it.","title":"Why is it necessary to flush the output buffer when it was just created?","body":"<p>In the following scenario</p>\n\n<pre><code>ObjectOutputStream output = new ObjectOutputStream(socket.getOutputStream());\noutput.flush();\n// Do stuff with it\n</code></pre>\n\n<p>Why is it always necessary to flush the buffer after initial creation?<br />\nI see this all the time and I don't really understand <em>what</em> has to be flushed. I kind of expect newly created variables to be empty unless otherwise is specified.<br /></p>\n\n<p>Kind of like buying a trash-can and finding a tiny pile of trash inside that came with it.</p>\n"},{"tags":["java","testing","png"],"comments":[{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":1,"creation_date":1292836136,"post_id":4488194,"comment_id":4909240,"body_markdown":"What you&#39;re looking for is OCR software. The `pngj` library does not mention it can do OCR.","body":"What you&#39;re looking for is OCR software. The <code>pngj</code> library does not mention it can do OCR."},{"owner":{"account_id":230362,"reputation":28310,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":0,"creation_date":1292836155,"post_id":4488194,"comment_id":4909241,"body_markdown":"PNGJ can&#39;t to that. You need a library for text recognition.","body":"PNGJ can&#39;t to that. You need a library for text recognition."},{"owner":{"account_id":19881,"reputation":34837,"user_id":46991,"accept_rate":85,"display_name":"falstro"},"score":0,"creation_date":1292836229,"post_id":4488194,"comment_id":4909247,"body_markdown":"This is definitely not trivial. The general process is known as OCR (optical character recognition) which reads the text. However, it&#39;s far from perfect and might pick up stuff which isn&#39;t text, and if there&#39;s any more text in your graph (labels on axes etc), they will be read as well.","body":"This is definitely not trivial. The general process is known as OCR (optical character recognition) which reads the text. However, it&#39;s far from perfect and might pick up stuff which isn&#39;t text, and if there&#39;s any more text in your graph (labels on axes etc), they will be read as well."},{"owner":{"account_id":36819,"reputation":4724,"user_id":105104,"display_name":"dvhh"},"score":0,"creation_date":1292836295,"post_id":4488194,"comment_id":4909253,"body_markdown":"You are looking for OCR (Optical character recognition : http://en.wikipedia.org/wiki/Optical_character_recognition ). you should look here http://stackoverflow.com/questions/971344/java-based-ocr-sdk-api","body":"You are looking for OCR (Optical character recognition : <a href=\"http://en.wikipedia.org/wiki/Optical_character_recognition\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Optical_character_recognition</a> ). you should look here <a href=\"http://stackoverflow.com/questions/971344/java-based-ocr-sdk-api\">stackoverflow.com/questions/971344/java-based-ocr-sdk-api</a>"},{"owner":{"account_id":46128,"reputation":928,"user_id":136202,"accept_rate":62,"display_name":"Rajasankar"},"score":0,"creation_date":1292840838,"post_id":4488194,"comment_id":4909790,"body_markdown":"Thanks Pratik and dvhh. tesseract may be useful.","body":"Thanks Pratik and dvhh. tesseract may be useful."}],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":817973,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1292836626,"creation_date":1292836112,"answer_id":4488200,"question_id":4488194,"body_markdown":"No, you can&#39;t do that with pngj. The text that is visible in the PNG image is not internally stored as text. You will need [OCR][1] software if you wish to identify the text.\r\n\r\nHowever it would be *much* better if you could get the data in another format that is easier to parse by a computer.\r\n\r\n[1]: http://en.wikipedia.org/wiki/Optical_character_recognition","title":"How to get text in png file using Java","body":"<p>No, you can't do that with pngj. The text that is visible in the PNG image is not internally stored as text. You will need <a href=\"http://en.wikipedia.org/wiki/Optical_character_recognition\" rel=\"nofollow\">OCR</a> software if you wish to identify the text.</p>\n\n<p>However it would be <em>much</em> better if you could get the data in another format that is easier to parse by a computer.</p>\n"},{"tags":[],"owner":{"account_id":82188,"reputation":7572,"user_id":231290,"accept_rate":94,"display_name":"Lukasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292836217,"creation_date":1292836217,"answer_id":4488215,"question_id":4488194,"body_markdown":"Yes, it seems to be possible. However, you should find a good OCR library. And then, assuming that your OCR library returned proper results you need to verify somehow if your legends are placed in proper positions.","title":"How to get text in png file using Java","body":"<p>Yes, it seems to be possible. However, you should find a good OCR library. And then, assuming that your OCR library returned proper results you need to verify somehow if your legends are placed in proper positions.</p>\n"},{"tags":[],"owner":{"account_id":153306,"reputation":11544,"user_id":368472,"accept_rate":95,"display_name":"Pratik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1311844089,"creation_date":1292836791,"answer_id":4488280,"question_id":4488194,"body_markdown":"You can try [Asprise OCR][1] out.  It&#39;s a good OCR API available in Java.\r\n\r\n\r\n  [1]: http://asprise.com/product/ocr/index.php?lang=java","title":"How to get text in png file using Java","body":"<p>You can try <a href=\"http://asprise.com/product/ocr/index.php?lang=java\" rel=\"nofollow\">Asprise OCR</a> out.  It's a good OCR API available in Java.</p>\n"},{"tags":[],"owner":{"account_id":3236880,"reputation":12685,"user_id":2730862,"display_name":"Haimei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467216492,"creation_date":1467216492,"answer_id":38104915,"question_id":4488194,"body_markdown":"Here I use scala to give out my solution. If you are java developer, it is quite easy for you to convert the scala code to your java code. \r\n\r\nStep1: in **build.sbt** to add one more line\r\n\r\n    libraryDependencies += &quot;com.asprise.ocr&quot; % &quot;java-ocr-api&quot; % &quot;[15,)&quot;\r\n\r\nStep2: **import** library\r\n\r\n    import com.asprise.ocr.Ocr\r\n\r\nStep2: scala code.Please note: here &lt;your_file&gt; is a **File** type. If you only have fileName/filePath, you need to use **new File(&lt;file_name&gt;)** to convert it. \r\n\r\n    \r\n\r\n    try {\r\n          // Image\r\n          Ocr.setUp()\r\n          val ocr = new Ocr\r\n          ocr.startEngine(&quot;eng&quot;, Ocr.SPEED_FASTEST)\r\n          val files = List(&lt;your_file&gt;)\r\n          val outputString = ocr.recognize(files.toArray, Ocr.RECOGNIZE_TYPE_ALL, Ocr.OUTPUT_FORMAT_PLAINTEXT)\r\n          ocr.stopEngine()\r\n          Some(outputString)\r\n    } catch {\r\n          case e: Exception =&gt; None // todo: to support multiple file types\r\n    }\r\n\r\nI also write a blog to give more details info about [how to extract text/content from another file(pdf, html, image, etc)][1]\r\n\r\nIf you want to read more about this java-ocr-api, you can read [its official website here][2].  \r\n\r\n\r\n  [1]: https://lihaimei.wordpress.com/2016/05/13/text-extraction-from-url-by-scala/\r\n  [2]: https://asprise.com/ocr/docs/html/asprise-ocr-api-java.html#recognizes-text-only-or-barcode-only","title":"How to get text in png file using Java","body":"<p>Here I use scala to give out my solution. If you are java developer, it is quite easy for you to convert the scala code to your java code. </p>\n\n<p>Step1: in <strong>build.sbt</strong> to add one more line</p>\n\n<pre><code>libraryDependencies += \"com.asprise.ocr\" % \"java-ocr-api\" % \"[15,)\"\n</code></pre>\n\n<p>Step2: <strong>import</strong> library</p>\n\n<pre><code>import com.asprise.ocr.Ocr\n</code></pre>\n\n<p>Step2: scala code.Please note: here  is a <strong>File</strong> type. If you only have fileName/filePath, you need to use <strong>new File()</strong> to convert it. </p>\n\n<pre><code>try {\n      // Image\n      Ocr.setUp()\n      val ocr = new Ocr\n      ocr.startEngine(\"eng\", Ocr.SPEED_FASTEST)\n      val files = List(&lt;your_file&gt;)\n      val outputString = ocr.recognize(files.toArray, Ocr.RECOGNIZE_TYPE_ALL, Ocr.OUTPUT_FORMAT_PLAINTEXT)\n      ocr.stopEngine()\n      Some(outputString)\n} catch {\n      case e: Exception =&gt; None // todo: to support multiple file types\n}\n</code></pre>\n\n<p>I also write a blog to give more details info about <a href=\"https://lihaimei.wordpress.com/2016/05/13/text-extraction-from-url-by-scala/\" rel=\"nofollow\">how to extract text/content from another file(pdf, html, image, etc)</a></p>\n\n<p>If you want to read more about this java-ocr-api, you can read <a href=\"https://asprise.com/ocr/docs/html/asprise-ocr-api-java.html#recognizes-text-only-or-barcode-only\" rel=\"nofollow\">its official website here</a>.  </p>\n"},{"tags":[],"owner":{"account_id":9674111,"reputation":19,"user_id":7178147,"display_name":"zamming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700828831,"creation_date":1700828831,"answer_id":77543133,"question_id":4488194,"body_markdown":"You can use Tesserat.sample code below:-\r\n\r\n    String src = &quot;path of File&quot;;\r\n    String ocrString = &quot;&quot;;\r\n    Tesseract instance = new Tesseract();         instance.setDatapath(&quot;path of tessdata\\\\Tess4J\\\\tessdata&quot;);\r\n    BufferedImage bufferedImage = ImageIO.read(new File(src));\r\n    ocrString = instance.doOCR(new File(src));","title":"How to get text in png file using Java","body":"<p>You can use Tesserat.sample code below:-</p>\n<pre><code>String src = &quot;path of File&quot;;\nString ocrString = &quot;&quot;;\nTesseract instance = new Tesseract();         instance.setDatapath(&quot;path of tessdata\\\\Tess4J\\\\tessdata&quot;);\nBufferedImage bufferedImage = ImageIO.read(new File(src));\nocrString = instance.doOCR(new File(src));\n</code></pre>\n"}],"owner":{"account_id":46128,"reputation":928,"user_id":136202,"accept_rate":62,"display_name":"Rajasankar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3329,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":4488200,"answer_count":5,"score":3,"last_activity_date":1700828831,"creation_date":1292836008,"question_id":4488194,"body_markdown":"I want to check if particular string is present in the image. Is that possible? Is [pngj][1] can do that? \r\n\r\nMy file will contain a graph and some legends. I want to check the if the legends are correct. \r\n\r\n\r\n  [1]: http://code.google.com/p/pngj/","title":"How to get text in png file using Java","body":"<p>I want to check if particular string is present in the image. Is that possible? Is <a href=\"http://code.google.com/p/pngj/\" rel=\"nofollow\">pngj</a> can do that? </p>\n\n<p>My file will contain a graph and some legends. I want to check the if the legends are correct. </p>\n"},{"tags":["java","spring","authentication","spring-security","authorization"],"comments":[{"owner":{"account_id":27632834,"reputation":1,"user_id":21091349,"display_name":"Akshat Udeeniya"},"score":0,"creation_date":1700886234,"post_id":77542499,"comment_id":136710108,"body_markdown":"after doing changes according to you . problem not solve otherwise another problem raise @seenukarti","body":"after doing changes according to you . problem not solve otherwise another problem raise @seenukarti"}],"owner":{"account_id":27632834,"reputation":1,"user_id":21091349,"display_name":"Akshat Udeeniya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700828702,"creation_date":1700822479,"question_id":77542499,"body_markdown":"i am making contact manager project using spring boot security 6.1 version , when I hit Url it always redirect to default page login page which spring provide here ,I my code\r\npackage config\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class MyConfig {\r\n\r\n\t@Bean\r\n\tpublic UserDetailsService getUserDetailService() {\r\n\t\treturn new UserDetailsServiceImpl();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic BCryptPasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\tpublic DaoAuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\r\n\t\tdaoAuthenticationProvider.setUserDetailsService(this.getUserDetailService());\r\n\t\tdaoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n\t\treturn daoAuthenticationProvider;\r\n\t}\r\n\r\n\tprotected void configure(AuthenticationManagerBuilder auth) {\r\n\t\tauth.authenticationProvider(authenticationProvider());\r\n\t}\r\n\t\r\n\t  \r\n\t  public SecurityFilterChain securityFilterChain(HttpSecurity  http) throws\r\n\t  Exception {\r\n\t  \r\n\t\t  http\r\n\t\t    .authorizeHttpRequests((authorize) -&gt; authorize\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t  .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t\t\t\t\t\t\t  .requestMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)\r\n\t\t\t\t\t\t\t  .requestMatchers(&quot;/**&quot;).permitAll()\r\n\t\t      \r\n\t\t    )  .formLogin(formLoginConfigurer -&gt; formLoginConfigurer\r\n\t\t            .loginPage(&quot;/signin&quot;));\r\n\r\n\t\t  return http.build();\r\n\t  }\r\n\t \r\n}\r\n```\r\n\r\n```\r\n@Controller\r\npublic class HomeController {\r\n   @Autowired\r\n\tprivate BCryptPasswordEncoder passwordEncoder;\r\n    \r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n\r\n\t@RequestMapping(&quot;/&quot;)\r\n\tpublic String home(Model model) {\r\n\t\tmodel.addAttribute(&quot;title&quot;, &quot;Home - smart contact manager page&quot;);\r\n\t\treturn &quot;home&quot;;\r\n\t}\r\n\r\n\t@RequestMapping(&quot;/about&quot;)\r\n\tpublic String about(Model model) {\r\n\t\tmodel.addAttribute(&quot;about&quot;, &quot;About - smart contact manager page&quot;);\r\n\t\treturn &quot;about&quot;;\r\n\t}\r\n\r\n\t@RequestMapping(&quot;/signup&quot;)\r\n\tpublic String signup(Model model) {\r\n\t\tmodel.addAttribute(&quot;about&quot;, &quot;Register - smart contact manager page&quot;);\r\n\t\tmodel.addAttribute(&quot;user&quot;, new User());\r\n\t\treturn &quot;signup&quot;;\r\n\t}\r\n\r\n\t// handeler for register user\r\n\r\n\t@RequestMapping(value = &quot;/do_register&quot;, method = RequestMethod.POST)\r\n\tpublic String registerUser( Model model, @Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult result1,\r\n\t\t\t@RequestParam(value = &quot;agreement&quot;, defaultValue = &quot;false&quot;) boolean agreement,\r\n\t\t\tHttpSession session) {\r\n\t\tSystem.out.println(result1);\r\n\t\ttry {\r\n\r\n\t\t\t  if (! agreement) { System.out.println(&quot;Please click the check Button1&quot;);\r\n\t\t\t  throw new Exception(&quot;Please click the check Button&quot;); }\r\n\r\n\r\n\t\t\tif (result1.hasErrors()) {\r\n\t\t\t\tSystem.out.println(&quot;Error&quot; + result1.toString());\r\n\t\t\t\tmodel.addAttribute(&quot;user&quot;, user);\r\n\t\t\t\treturn &quot;signup&quot;;\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(&quot;Please click the check Button1&quot;);\r\n\r\n\t\t\tuser.setRole(&quot;ROLE_USER&quot;);\r\n\t\t\tuser.setEnabeld(true);\r\n\t\t\tuser.setImageUrl(&quot;contact_us.png&quot;);\r\n\t\t\tuser.setPassword(passwordEncoder.encode(user.getPassword()));\r\n\r\n\t\t\tSystem.out.println(&quot;Agreement&quot; + agreement);\r\n\t\t\tSystem.out.println(&quot;User&quot; + user);\r\n\r\n\t\t    this.userRepository.save(user);\r\n\r\n\t\t\tmodel.addAttribute(&quot;user&quot;, new User());\r\n\t\t\t// session.setAttribute(&quot;message&quot;, new Message(&quot;Successfully Regitered !!&quot; ,\r\n\t\t\t// &quot;alert-success&quot;));\r\n\t\t\tSystem.out.println(&quot;Please click the check Button3&quot;);\r\n\t\t\treturn &quot;signup&quot;;\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.out.println(&quot;inside catch statement&quot;);\r\n\t\t\tmodel.addAttribute(&quot;user&quot;, user);\r\n\t\t\t// session.setAttribute(&quot;message&quot;, new Message(&quot;Something went Wromg !!&quot;\r\n\t\t\t// +e.getMessage(), &quot;alert-danger&quot;));\r\n\t\t\treturn &quot;signup&quot;;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//handler for custom user login page\r\n\t@GetMapping(&quot;/signin&quot;)\r\n\tpublic String customLogin(Model model) {\r\n\t\tmodel.addAttribute(&quot;title&quot;,&quot;login page&quot;);\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n}\r\n```\r\n\r\ni am trying to acess (/ , about and profile)this urls page directly but it redirect default login page in all urls after adding this line in main method `@SpringBootApplication(exclude = { SecurityAutoConfiguration.class })`","title":"Spring Boot Security 6.1 , always opens login page","body":"<p>i am making contact manager project using spring boot security 6.1 version , when I hit Url it always redirect to default page login page which spring provide here ,I my code\npackage config</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MyConfig {\n\n    @Bean\n    public UserDetailsService getUserDetailService() {\n        return new UserDetailsServiceImpl();\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setUserDetailsService(this.getUserDetailService());\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\n        return daoAuthenticationProvider;\n    }\n\n    protected void configure(AuthenticationManagerBuilder auth) {\n        auth.authenticationProvider(authenticationProvider());\n    }\n    \n      \n      public SecurityFilterChain securityFilterChain(HttpSecurity  http) throws\n      Exception {\n      \n          http\n            .authorizeHttpRequests((authorize) -&gt; authorize\n                            \n                              .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                              .requestMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)\n                              .requestMatchers(&quot;/**&quot;).permitAll()\n              \n            )  .formLogin(formLoginConfigurer -&gt; formLoginConfigurer\n                    .loginPage(&quot;/signin&quot;));\n\n          return http.build();\n      }\n     \n}\n</code></pre>\n<pre><code>@Controller\npublic class HomeController {\n   @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n    \n    @Autowired\n    private UserRepository userRepository;\n\n    @RequestMapping(&quot;/&quot;)\n    public String home(Model model) {\n        model.addAttribute(&quot;title&quot;, &quot;Home - smart contact manager page&quot;);\n        return &quot;home&quot;;\n    }\n\n    @RequestMapping(&quot;/about&quot;)\n    public String about(Model model) {\n        model.addAttribute(&quot;about&quot;, &quot;About - smart contact manager page&quot;);\n        return &quot;about&quot;;\n    }\n\n    @RequestMapping(&quot;/signup&quot;)\n    public String signup(Model model) {\n        model.addAttribute(&quot;about&quot;, &quot;Register - smart contact manager page&quot;);\n        model.addAttribute(&quot;user&quot;, new User());\n        return &quot;signup&quot;;\n    }\n\n    // handeler for register user\n\n    @RequestMapping(value = &quot;/do_register&quot;, method = RequestMethod.POST)\n    public String registerUser( Model model, @Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult result1,\n            @RequestParam(value = &quot;agreement&quot;, defaultValue = &quot;false&quot;) boolean agreement,\n            HttpSession session) {\n        System.out.println(result1);\n        try {\n\n              if (! agreement) { System.out.println(&quot;Please click the check Button1&quot;);\n              throw new Exception(&quot;Please click the check Button&quot;); }\n\n\n            if (result1.hasErrors()) {\n                System.out.println(&quot;Error&quot; + result1.toString());\n                model.addAttribute(&quot;user&quot;, user);\n                return &quot;signup&quot;;\n            }\n\n            System.out.println(&quot;Please click the check Button1&quot;);\n\n            user.setRole(&quot;ROLE_USER&quot;);\n            user.setEnabeld(true);\n            user.setImageUrl(&quot;contact_us.png&quot;);\n            user.setPassword(passwordEncoder.encode(user.getPassword()));\n\n            System.out.println(&quot;Agreement&quot; + agreement);\n            System.out.println(&quot;User&quot; + user);\n\n            this.userRepository.save(user);\n\n            model.addAttribute(&quot;user&quot;, new User());\n            // session.setAttribute(&quot;message&quot;, new Message(&quot;Successfully Regitered !!&quot; ,\n            // &quot;alert-success&quot;));\n            System.out.println(&quot;Please click the check Button3&quot;);\n            return &quot;signup&quot;;\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(&quot;inside catch statement&quot;);\n            model.addAttribute(&quot;user&quot;, user);\n            // session.setAttribute(&quot;message&quot;, new Message(&quot;Something went Wromg !!&quot;\n            // +e.getMessage(), &quot;alert-danger&quot;));\n            return &quot;signup&quot;;\n        }\n\n    }\n\n    //handler for custom user login page\n    @GetMapping(&quot;/signin&quot;)\n    public String customLogin(Model model) {\n        model.addAttribute(&quot;title&quot;,&quot;login page&quot;);\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p>i am trying to acess (/ , about and profile)this urls page directly but it redirect default login page in all urls after adding this line in main method <code>@SpringBootApplication(exclude = { SecurityAutoConfiguration.class })</code></p>\n"},{"tags":["java","file","amazon-web-services","amazon-s3","download"],"comments":[{"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"score":0,"creation_date":1362023661,"post_id":15127131,"comment_id":21291053,"body_markdown":"If you want to search the content, I don&#39;t think there is any alternate to downloading the file","body":"If you want to search the content, I don&#39;t think there is any alternate to downloading the file"},{"owner":{"account_id":94068,"reputation":1538,"user_id":257036,"accept_rate":84,"display_name":"Jeff"},"score":0,"creation_date":1647874133,"post_id":15127131,"comment_id":127498464,"body_markdown":"Going forward, you can stream the files to CloudWatch Logs instead of or in addition to archiving on S3. Then you can easily search their contents. https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/WhatIsCloudWatchLogs.html","body":"Going forward, you can stream the files to CloudWatch Logs instead of or in addition to archiving on S3. Then you can easily search their contents. <a href=\"https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/WhatIsCloudWatchLogs.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonCloudWatch/latest/logs/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":283094,"reputation":10747,"user_id":580412,"accept_rate":96,"display_name":"phs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362023669,"creation_date":1362023669,"answer_id":15127167,"question_id":15127131,"body_markdown":"Nope!\r\n\r\nIf you can&#39;t infer where the matches are from object metadata (like, the file name), then you&#39;re stuck with downloading &amp; searching manually.  If you have spare bandwidth, I suggest downloading a few files at a time to speed things up.","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>Nope!</p>\n\n<p>If you can't infer where the matches are from object metadata (like, the file name), then you're stuck with downloading &amp; searching manually.  If you have spare bandwidth, I suggest downloading a few files at a time to speed things up.</p>\n"},{"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362023761,"creation_date":1362023761,"answer_id":15127182,"question_id":15127131,"body_markdown":"In single word NO!!\r\n\r\nI think you can do to imprrve the performance will be to cache the files locally so that you don&#39;t have to download the file again and again\r\n\r\nProbably you can use `Last-Modified` header to check whether the local file is dirty, then download it again","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>In single word NO!!</p>\n\n<p>I think you can do to imprrve the performance will be to cache the files locally so that you don't have to download the file again and again</p>\n\n<p>Probably you can use <code>Last-Modified</code> header to check whether the local file is dirty, then download it again</p>\n"},{"tags":[],"owner":{"account_id":238552,"reputation":84579,"user_id":507519,"accept_rate":86,"display_name":"thkala"},"down_vote_count":5,"up_vote_count":0,"is_accepted":true,"score":-5,"last_activity_date":1362025131,"creation_date":1362024478,"answer_id":15127320,"question_id":15127131,"body_markdown":"I am not familiar with Amazon S3, but the general way to deal with searching remote files is to use [indexing](http://en.wikipedia.org/wiki/Full_text_search#Indexing), with the index itself being stored on the remote server. That way each search will use the index to deduce a relatively small number of potential matching files and only those will be scanned directly to verify if they are indeed a match or not. Depending on your search terms and the complexity of the pattern, it might even be possible to avoid the direct file scan altogether.\r\n\r\nThat said, I do not know whether Amazon S3 has an indexing engine that you can use or whether there are supplemental libraries that do that for you, but the concept is simple enough that you should be able to get something working by yourself without too much work.\r\n\r\n**EDIT:**\r\n\r\nGenerally the tokens that exist in each file are what is indexed. For example if you want to search for *&quot;foo bar&quot;* the index will tell you which files contain *&quot;foo&quot;* and which contain *&quot;bar&quot;*. The cross-section of these results will be the files that contain both *&quot;foo&quot;* and *&quot;bar&quot;*. You will have to scan those files directly to select those (if any) where *&quot;foo&quot;* and *&quot;bar&quot;* are right next to each other in the right order.\r\n\r\nIn any case, the amount of data that is downloaded to the client would be far less than downloading and scanning everything, although that would also depend on how your files are structured and what your search patterns look like.\r\n","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>I am not familiar with Amazon S3, but the general way to deal with searching remote files is to use <a href=\"http://en.wikipedia.org/wiki/Full_text_search#Indexing\" rel=\"nofollow\">indexing</a>, with the index itself being stored on the remote server. That way each search will use the index to deduce a relatively small number of potential matching files and only those will be scanned directly to verify if they are indeed a match or not. Depending on your search terms and the complexity of the pattern, it might even be possible to avoid the direct file scan altogether.</p>\n\n<p>That said, I do not know whether Amazon S3 has an indexing engine that you can use or whether there are supplemental libraries that do that for you, but the concept is simple enough that you should be able to get something working by yourself without too much work.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Generally the tokens that exist in each file are what is indexed. For example if you want to search for <em>\"foo bar\"</em> the index will tell you which files contain <em>\"foo\"</em> and which contain <em>\"bar\"</em>. The cross-section of these results will be the files that contain both <em>\"foo\"</em> and <em>\"bar\"</em>. You will have to scan those files directly to select those (if any) where <em>\"foo\"</em> and <em>\"bar\"</em> are right next to each other in the right order.</p>\n\n<p>In any case, the amount of data that is downloaded to the client would be far less than downloading and scanning everything, although that would also depend on how your files are structured and what your search patterns look like.</p>\n"},{"tags":[],"owner":{"account_id":141042,"reputation":9130,"user_id":347777,"display_name":"Viccari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362053640,"creation_date":1362053640,"answer_id":15135303,"question_id":15127131,"body_markdown":"My suggestion, since you seem to own the files, is to index them manually, based on content. If there is a lot of &quot;keywords&quot;, or metadata associated with each file, you can help yourself by using a lightweight database, where you will perform your queries and get the exact file(s) users are looking for. This will preserve bandwidth and also be much faster, at the cost of maintaining kind of an &quot;indexing&quot; system.\r\n\r\nAnother option (if each file does not contain much metadata) would be to reorganize the files in your buckets, adding prefixes which would &quot;auto-index&quot; them, like follows:\r\n\r\n/foo/bar/randomFileContainingFooBar.dat\r\n/foo/zar/anotherRandomFileContainingFooZar.dat.\r\n\r\nThis way you might end up scanning the whole bucket in order to find the set of files you need (this is why I suggested this option only if you have little metadata), but you will only download the matching ones, which is still much better than your original approach.","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>My suggestion, since you seem to own the files, is to index them manually, based on content. If there is a lot of \"keywords\", or metadata associated with each file, you can help yourself by using a lightweight database, where you will perform your queries and get the exact file(s) users are looking for. This will preserve bandwidth and also be much faster, at the cost of maintaining kind of an \"indexing\" system.</p>\n\n<p>Another option (if each file does not contain much metadata) would be to reorganize the files in your buckets, adding prefixes which would \"auto-index\" them, like follows:</p>\n\n<p>/foo/bar/randomFileContainingFooBar.dat\n/foo/zar/anotherRandomFileContainingFooZar.dat.</p>\n\n<p>This way you might end up scanning the whole bucket in order to find the set of files you need (this is why I suggested this option only if you have little metadata), but you will only download the matching ones, which is still much better than your original approach.</p>\n"},{"tags":[],"owner":{"account_id":41901,"reputation":8337,"user_id":121946,"accept_rate":58,"display_name":"Adrian Lynch"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1520336238,"creation_date":1520336238,"answer_id":49129914,"question_id":15127131,"body_markdown":"If your files contain CSV, TSV, JSON, Parquet or ORC, you can take a look at AWS&#39;s Athena: https://aws.amazon.com/athena/\r\n\r\nFrom their intro:\r\n\r\n&gt; Amazon Athena is a fast, cost-effective, interactive query service\r\n&gt; that makes it easy to analyze petabytes of data in S3 with no data\r\n&gt; warehouses or clusters to manage.\r\n\r\nUnlikely to help you though as it sounds like you have plain text to search through.\r\n\r\nThought I&#39;d mention it as it might help others looking to solve a similar problem.\r\n","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>If your files contain CSV, TSV, JSON, Parquet or ORC, you can take a look at AWS's Athena: <a href=\"https://aws.amazon.com/athena/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/athena/</a></p>\n\n<p>From their intro:</p>\n\n<blockquote>\n  <p>Amazon Athena is a fast, cost-effective, interactive query service\n  that makes it easy to analyze petabytes of data in S3 with no data\n  warehouses or clusters to manage.</p>\n</blockquote>\n\n<p>Unlikely to help you though as it sounds like you have plain text to search through.</p>\n\n<p>Thought I'd mention it as it might help others looking to solve a similar problem.</p>\n"},{"tags":[],"owner":{"account_id":10058690,"reputation":355,"user_id":7436117,"display_name":"AndrewK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654668460,"creation_date":1654668460,"answer_id":72540814,"question_id":15127131,"body_markdown":"Yes, now it is possible with AWS S3 Select.  If your objects stored in CSV, JSON, or Apache Parquet format. \r\n\r\nAWS details: https://aws.amazon.com/blogs/developer/introducing-support-for-amazon-s3-select-in-the-aws-sdk-for-javascript/\r\n\r\nAws S3 Select getting started examples: https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-select.html \r\n\r\nJust if anyone will be looking the same.\r\n\r\ni.e With SDK:\r\n\r\nif you have a csv like this:\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    user_name,age\r\n    jsrocks,13\r\n    node4life,22\r\n    esfuture,29\r\n    ...\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd for example we would like to retrieve something like:\r\n\r\n    SELECT user_name FROM S3Object WHERE cast(age as int) &gt; 20\r\n\r\nThen in AWS SDK on JavaScript we do the following:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const S3 = require(&#39;aws-sdk/clients/s3&#39;);\r\n    const client = new S3({\r\n    \tregion: &#39;us-west-2&#39;\r\n    });\r\n\r\n    const params = {\r\n    \tBucket: &#39;my-bucket,\r\n    \tKey: &#39;target-file.csv&#39;,\r\n    \tExpressionType: &#39;SQL,\r\n    \tExpression: &#39;SELECT user_name FROM S3Object WHERE cast(age as int) &gt; 20&#39;,\r\n    \tInputSerialization: {\r\n    \t\tCSV: {\r\n    \t\t\tFileHeaderInfo: &#39;USE&#39;,\r\n    \t\t\tRecordDelimiter: &#39;\\n&#39;,\r\n    \t\t\tFieldDelimiter: &#39;,&#39;\r\n    \t\t}\r\n    \t},\r\n    \tOutputSerialization: {\r\n    \t\tCSV: {}\r\n    \t}\r\n    };\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>Yes, now it is possible with AWS S3 Select.  If your objects stored in CSV, JSON, or Apache Parquet format.</p>\n<p>AWS details: <a href=\"https://aws.amazon.com/blogs/developer/introducing-support-for-amazon-s3-select-in-the-aws-sdk-for-javascript/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/developer/introducing-support-for-amazon-s3-select-in-the-aws-sdk-for-javascript/</a></p>\n<p>Aws S3 Select getting started examples: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-select.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-select.html</a></p>\n<p>Just if anyone will be looking the same.</p>\n<p>i.e With SDK:</p>\n<p>if you have a csv like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>user_name,age\njsrocks,13\nnode4life,22\nesfuture,29\n...</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And for example we would like to retrieve something like:</p>\n<pre><code>SELECT user_name FROM S3Object WHERE cast(age as int) &gt; 20\n</code></pre>\n<p>Then in AWS SDK on JavaScript we do the following:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const S3 = require('aws-sdk/clients/s3');\nconst client = new S3({\n    region: 'us-west-2'\n});\n\nconst params = {\n    Bucket: 'my-bucket,\n    Key: 'target-file.csv',\n    ExpressionType: 'SQL,\n    Expression: 'SELECT user_name FROM S3Object WHERE cast(age as int) &gt; 20',\n    InputSerialization: {\n        CSV: {\n            FileHeaderInfo: 'USE',\n            RecordDelimiter: '\\n',\n            FieldDelimiter: ','\n        }\n    },\n    OutputSerialization: {\n        CSV: {}\n    }\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":2114516,"reputation":13392,"user_id":1879101,"accept_rate":88,"display_name":"Vitaly Zdanevich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700828699,"creation_date":1700828699,"answer_id":77543122,"question_id":15127131,"body_markdown":"Mount a bucket and grep, official software https://github.com/awslabs/mountpoint-s3\r\n\r\nCommand:\r\n\r\n&gt; mountpoint-s3 my-bucket-name /mnt/\r\n\r\nAnd\r\n\r\n&gt; grep -r xxxx /mnt","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>Mount a bucket and grep, official software <a href=\"https://github.com/awslabs/mountpoint-s3\" rel=\"nofollow noreferrer\">https://github.com/awslabs/mountpoint-s3</a></p>\n<p>Command:</p>\n<blockquote>\n<p>mountpoint-s3 my-bucket-name /mnt/</p>\n</blockquote>\n<p>And</p>\n<blockquote>\n<p>grep -r xxxx /mnt</p>\n</blockquote>\n"}],"owner":{"account_id":1872215,"reputation":259,"user_id":1694210,"accept_rate":32,"display_name":"Ekata"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19985,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":15127320,"answer_count":7,"score":5,"last_activity_date":1700828699,"creation_date":1362023480,"question_id":15127131,"body_markdown":"i have  **n number of files uploaded to amazon S3** i need**search** those files based on **occurrence of an string** in its **contents** , i tried one method of downloading the files from S3 bucket converting input stream to string and then search for the word in content , but if their are more than  five to six files it takes lot of time to do the above process,\r\n\r\nis their any other way to do this , please help thanks in advance.","title":"how to search for file contents in amazon S3 bucket without downloading the file","body":"<p>i have  <strong>n number of files uploaded to amazon S3</strong> i need*<em>search</em>* those files based on <strong>occurrence of an string</strong> in its <strong>contents</strong> , i tried one method of downloading the files from S3 bucket converting input stream to string and then search for the word in content , but if their are more than  five to six files it takes lot of time to do the above process,</p>\n\n<p>is their any other way to do this , please help thanks in advance.</p>\n"},{"tags":["java","garbage-collection","jvisualvm"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700821360,"creation_date":1700821360,"answer_id":77542388,"question_id":77540829,"body_markdown":"In [this bug report] about releasing memory, there is a [ten year old comment] from Jesper Wilhelmsson:\r\n\r\n&gt; I have verified that G1 (-XX:+UseG1GC), Parallel scavenge (-XX:+UseParallelGC) and ParallelOld (-XX:+UseParallelOldGC) do return memory when the heap shrinks. I&#39;m not so sure about Serial and CMS, they didn&#39;t shrink their heap in my experiments.\r\n&gt; \r\n&gt; Both parallel collectors do require a number of GCs before shrinking the heap down to an &quot;acceptable&quot; size. This is per design. They are deliberately holding on to the heap assuming that it will be needed in the future. Setting the flag -XX:GCTimeRatio=1 will improve the situation somewhat but it will still take several GCs to shrink a lot.\r\n\r\nI would trust the JDK developers more than articles on baeldung.com or rather, I’d treat articles on baeldung.com with a grain of salt in general. There is no sign of a quality assurance process on that site and it’s not the first time, incorrect information has been found on that site.\r\n\r\n[this bug report]: https://bugs.openjdk.org/browse/JDK-6498735\r\n[ten year old comment]: https://bugs.openjdk.org/browse/JDK-6498735#comment-13388231","title":"Does Parallel GC support shrinking heap size?","body":"<p>In <a href=\"https://bugs.openjdk.org/browse/JDK-6498735\" rel=\"nofollow noreferrer\">this bug report</a> about releasing memory, there is a <a href=\"https://bugs.openjdk.org/browse/JDK-6498735#comment-13388231\" rel=\"nofollow noreferrer\">ten year old comment</a> from Jesper Wilhelmsson:</p>\n<blockquote>\n<p>I have verified that G1 (-XX:+UseG1GC), Parallel scavenge (-XX:+UseParallelGC) and ParallelOld (-XX:+UseParallelOldGC) do return memory when the heap shrinks. I'm not so sure about Serial and CMS, they didn't shrink their heap in my experiments.</p>\n<p>Both parallel collectors do require a number of GCs before shrinking the heap down to an &quot;acceptable&quot; size. This is per design. They are deliberately holding on to the heap assuming that it will be needed in the future. Setting the flag -XX:GCTimeRatio=1 will improve the situation somewhat but it will still take several GCs to shrink a lot.</p>\n</blockquote>\n<p>I would trust the JDK developers more than articles on baeldung.com or rather, I’d treat articles on baeldung.com with a grain of salt in general. There is no sign of a quality assurance process on that site and it’s not the first time, incorrect information has been found on that site.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700828306,"creation_date":1700828306,"answer_id":77543080,"question_id":77540829,"body_markdown":"I think you misread the baeldung article.\r\n\r\nThe article [Does GC Release Back Memory to OS?](https://www.baeldung.com/gc-release-memory#garbage-collectors) writes\r\n\r\n&gt; For example, Parallel GC doesn’t release unused memory back to the OS readily.\r\n\r\nYou marked the first part but missed the last word: **readily**. That sentence is\r\n\r\n&gt; For example, **Parallel GC doesn’t release unused memory** [..] **readily.**\r\n\r\ni.e. it can release memory back to the OS, but it is reluctant to do so (probably because releasing memory back to the OS just to allocate new memory from the OS is expensive).\r\n\r\n---\r\n&gt; The [so thread](https://stackoverflow.com/questions/30458195/does-gc-release-back-memory-to-os) says the -XX:MaxHeapFreeRatio will make some differences, but it didn&#39;t.\r\n\r\nYes it says so. And it writes that you can make the GC more aggresive by setting (among others) `-XX:MaxHeapFreeRatio=30`.\r\n\r\nThe point is: the default value for MaxHeapFreeRatio is 70. If setting it to 30 makes it more aggressive, then setting it to 100 makes it less aggressive.\r\n\r\nYou can actually see in [`PSAdaptiveSizePolicy::calculated_old_free_size_in_bytes()`](https://github.com/openjdk/jdk8u/blob/jdk8u272-ga/hotspot/src/share/vm/gc_implementation/parallelScavenge/psAdaptiveSizePolicy.cpp#L97) that setting the MaxHeapFreeRation to 100 effectively disables it.\r\n","title":"Does Parallel GC support shrinking heap size?","body":"<p>I think you misread the baeldung article.</p>\n<p>The article <a href=\"https://www.baeldung.com/gc-release-memory#garbage-collectors\" rel=\"nofollow noreferrer\">Does GC Release Back Memory to OS?</a> writes</p>\n<blockquote>\n<p>For example, Parallel GC doesn’t release unused memory back to the OS readily.</p>\n</blockquote>\n<p>You marked the first part but missed the last word: <strong>readily</strong>. That sentence is</p>\n<blockquote>\n<p>For example, <strong>Parallel GC doesn’t release unused memory</strong> [..] <strong>readily.</strong></p>\n</blockquote>\n<p>i.e. it can release memory back to the OS, but it is reluctant to do so (probably because releasing memory back to the OS just to allocate new memory from the OS is expensive).</p>\n<hr />\n<blockquote>\n<p>The <a href=\"https://stackoverflow.com/questions/30458195/does-gc-release-back-memory-to-os\">so thread</a> says the -XX:MaxHeapFreeRatio will make some differences, but it didn't.</p>\n</blockquote>\n<p>Yes it says so. And it writes that you can make the GC more aggresive by setting (among others) <code>-XX:MaxHeapFreeRatio=30</code>.</p>\n<p>The point is: the default value for MaxHeapFreeRatio is 70. If setting it to 30 makes it more aggressive, then setting it to 100 makes it less aggressive.</p>\n<p>You can actually see in <a href=\"https://github.com/openjdk/jdk8u/blob/jdk8u272-ga/hotspot/src/share/vm/gc_implementation/parallelScavenge/psAdaptiveSizePolicy.cpp#L97\" rel=\"nofollow noreferrer\"><code>PSAdaptiveSizePolicy::calculated_old_free_size_in_bytes()</code></a> that setting the MaxHeapFreeRation to 100 effectively disables it.</p>\n"}],"owner":{"account_id":18983206,"reputation":53,"user_id":13854178,"display_name":"Jinke2017"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700828306,"creation_date":1700802103,"question_id":77540829,"body_markdown":"I got two conflicting answers regarding this question from two places.\r\n 1. The [baeldung article][1] says\r\n&gt; For example, **Parallel GC doesn’t release unused memory** back to the OS readily.&lt;br/&gt;\r\n\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; So I think Parallel GC **will not shrink** the heap size.\r\n\r\n 2. The [so thread][2] says\r\n&gt; you can make the GC more aggressive in general by setting -XX:GCTimeRatio=19 -XX:MinHeapFreeRatio=20 -XX:MaxHeapFreeRatio=30 which will allow it to spend more CPU time on **collecting and constrain the amount of allocated-but-unused heap memory** after a GC cycle.\r\n\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; So I think I can **force the garbage collector to shrink** the heap size.\r\n\r\n\r\n 3. Based on the above understanding, I do experiments on my machine.\r\n\r\n    3.1 The jdk:\r\n    &gt; java version &quot;1.8.0_271&quot; &lt;br/&gt;\r\n      Java(TM) SE Runtime Environment (build 1.8.0_271-b09)&lt;br/&gt;\r\n      Java HotSpot(TM) 64-Bit Server VM (build 25.271-b09, mixed mode)\r\n\r\n    3.2 I use `jmap -heap` command to print the GC information, the output is as below\r\n    &gt; .....(omit other infomration)&lt;br/&gt;\r\n    using thread-local object allocation. &lt;br/&gt;\r\n    **Parallel GC** with 8 thread(s)\r\n\r\n    3.3 I run an application with VM options `-Xmx10240m`(it is the only heap-related VM option I set manually), and open `jvisualvm` to observe the change of heap size. I notice the heap size(the orange part) shrinks when the used heap size(the blue part) becomes smaller. It violates the first article.\r\n    [![enter image description here][3]][3]\r\n\r\n    3.4 I run the same application with VM options `-Xmx10240m\r\n-XX: MaxHeapFreeRatio=100`, I set the option `-XX:MaxHeapFreeRatio=100` in order to tell GC not to shrink. But it does not work either.\r\n     [![enter image description here][4]][4]\r\n\r\n  4. My concrete question is:\r\n\r\n     4.1 The [baeldung article][1] says Parallel GC doesn’t release unused memory, so why does the heap size in Figure 1 still shrink?\r\n\r\n     4.2 The [so thread][2] says the -XX:MaxHeapFreeRatio will make some differences, but it didn&#39;t.\r\n  \r\n  Any help will be appraciated.\r\n\r\n  [1]: https://www.baeldung.com/gc-release-memory\r\n  [2]: https://stackoverflow.com/questions/30458195/does-gc-release-back-memory-to-os\r\n  [3]: https://i.stack.imgur.com/cON8W.png\r\n  [4]: https://i.stack.imgur.com/GJY0h.png","title":"Does Parallel GC support shrinking heap size?","body":"<p>I got two conflicting answers regarding this question from two places.</p>\n<ol>\n<li>The <a href=\"https://www.baeldung.com/gc-release-memory\" rel=\"nofollow noreferrer\">baeldung article</a> says</li>\n</ol>\n<blockquote>\n<p>For example, <strong>Parallel GC doesn’t release unused memory</strong> back to the OS readily.<br/></p>\n</blockquote>\n<p>       So I think Parallel GC <strong>will not shrink</strong> the heap size.</p>\n<ol start=\"2\">\n<li>The <a href=\"https://stackoverflow.com/questions/30458195/does-gc-release-back-memory-to-os\">so thread</a> says</li>\n</ol>\n<blockquote>\n<p>you can make the GC more aggressive in general by setting -XX:GCTimeRatio=19 -XX:MinHeapFreeRatio=20 -XX:MaxHeapFreeRatio=30 which will allow it to spend more CPU time on <strong>collecting and constrain the amount of allocated-but-unused heap memory</strong> after a GC cycle.</p>\n</blockquote>\n<p>       So I think I can <strong>force the garbage collector to shrink</strong> the heap size.</p>\n<ol start=\"3\">\n<li><p>Based on the above understanding, I do experiments on my machine.</p>\n<p>3.1 The jdk:</p>\n<blockquote>\n<p>java version &quot;1.8.0_271&quot; <br/>\nJava(TM) SE Runtime Environment (build 1.8.0_271-b09)<br/>\nJava HotSpot(TM) 64-Bit Server VM (build 25.271-b09, mixed mode)</p>\n</blockquote>\n<p>3.2 I use <code>jmap -heap</code> command to print the GC information, the output is as below</p>\n<blockquote>\n<p>.....(omit other infomration)<br/>\nusing thread-local object allocation. <br/>\n<strong>Parallel GC</strong> with 8 thread(s)</p>\n</blockquote>\n<p>3.3 I run an application with VM options <code>-Xmx10240m</code>(it is the only heap-related VM option I set manually), and open <code>jvisualvm</code> to observe the change of heap size. I notice the heap size(the orange part) shrinks when the used heap size(the blue part) becomes smaller. It violates the first article.\n<a href=\"https://i.stack.imgur.com/cON8W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cON8W.png\" alt=\"enter image description here\" /></a></p>\n<p>3.4 I run the same application with VM options <code>-Xmx10240m -XX: MaxHeapFreeRatio=100</code>, I set the option <code>-XX:MaxHeapFreeRatio=100</code> in order to tell GC not to shrink. But it does not work either.\n<a href=\"https://i.stack.imgur.com/GJY0h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GJY0h.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>My concrete question is:</p>\n<p>4.1 The <a href=\"https://www.baeldung.com/gc-release-memory\" rel=\"nofollow noreferrer\">baeldung article</a> says Parallel GC doesn’t release unused memory, so why does the heap size in Figure 1 still shrink?</p>\n<p>4.2 The <a href=\"https://stackoverflow.com/questions/30458195/does-gc-release-back-memory-to-os\">so thread</a> says the -XX:MaxHeapFreeRatio will make some differences, but it didn't.</p>\n</li>\n</ol>\n<p>Any help will be appraciated.</p>\n"},{"tags":["java","firebase-cloud-messaging","firebase-admin"],"comments":[{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1700830123,"post_id":77541555,"comment_id":136704192,"body_markdown":"Get an instance only once, and reuse it for all calls to send...()","body":"Get an instance only once, and reuse it for all calls to send...()"},{"owner":{"account_id":29981227,"reputation":1,"user_id":22976173,"display_name":"Siyu Chen"},"score":0,"creation_date":1701051885,"post_id":77541555,"comment_id":136723250,"body_markdown":"This doesn&#39;t work, it still prompts me that I can&#39;t create more threads","body":"This doesn&#39;t work, it still prompts me that I can&#39;t create more threads"},{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1701094868,"post_id":77541555,"comment_id":136728839,"body_markdown":"what prompt? you told it to pool 10 threads, did it create 10 threads? or did it try to create more threads than 10? or did it say it cannot create 10 threads? Please edit your question with the error message / stack trace","body":"what prompt? you told it to pool 10 threads, did it create 10 threads? or did it try to create more threads than 10? or did it say it cannot create 10 threads? Please edit your question with the error message / stack trace"},{"owner":{"account_id":29981227,"reputation":1,"user_id":22976173,"display_name":"Siyu Chen"},"score":0,"creation_date":1701143358,"post_id":77541555,"comment_id":136735862,"body_markdown":"When I don&#39;t set poolSize, the sendEachForMulticastAsync method will create threads without restrictions, causing an OOM exception. When I rewrite ThreadManager and try to customize poolSize, I cannot receive a callback","body":"When I don&#39;t set poolSize, the sendEachForMulticastAsync method will create threads without restrictions, causing an OOM exception. When I rewrite ThreadManager and try to customize poolSize, I cannot receive a callback"}],"owner":{"account_id":29981227,"reputation":1,"user_id":22976173,"display_name":"Siyu Chen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700828192,"creation_date":1700813430,"question_id":77541555,"body_markdown":"I upgrade the firebase-admin to 9.2.0, and I want use `FirebaseMessaging.getInstance().sendEachForMulticastAsync(multicastMessage)` to instead of the `FirebaseMessaging.getInstance().sendMulticast(multicastMessage)`, but when `FirebaseMessaging.getInstance().sendEachForMulticastAsync(multicastMessage)` is called, it appears to create a new thread pool every time. This seems to cause an issue of excessive local thread pool creation when the method is invoked frequently, consuming significant system resources and potentially leading to performance degradation, memory errors, and related issues\r\n\r\nTo address thread overflow, I rewrote `ThreadManager`, and set the pookSize to 10, can not get the callback\r\n```\r\nFirebaseOptions options = FirebaseOptions.builder()\r\n                        .setCredentials(GoogleCredentials.fromStream(new FileInputStream(new File(filePath))))\r\n                        .setThreadManager(new CustomThreadManager(poolSize))\r\n                        .build()\r\n                FirebaseApp.initializeApp(options)\r\n```","title":"Thread pool not released","body":"<p>I upgrade the firebase-admin to 9.2.0, and I want use <code>FirebaseMessaging.getInstance().sendEachForMulticastAsync(multicastMessage)</code> to instead of the <code>FirebaseMessaging.getInstance().sendMulticast(multicastMessage)</code>, but when <code>FirebaseMessaging.getInstance().sendEachForMulticastAsync(multicastMessage)</code> is called, it appears to create a new thread pool every time. This seems to cause an issue of excessive local thread pool creation when the method is invoked frequently, consuming significant system resources and potentially leading to performance degradation, memory errors, and related issues</p>\n<p>To address thread overflow, I rewrote <code>ThreadManager</code>, and set the pookSize to 10, can not get the callback</p>\n<pre><code>FirebaseOptions options = FirebaseOptions.builder()\n                        .setCredentials(GoogleCredentials.fromStream(new FileInputStream(new File(filePath))))\n                        .setThreadManager(new CustomThreadManager(poolSize))\n                        .build()\n                FirebaseApp.initializeApp(options)\n</code></pre>\n"},{"tags":["java","json","hibernate","hibernate-validator"],"comments":[{"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"score":0,"creation_date":1663223090,"post_id":73723053,"comment_id":130189270,"body_markdown":"Does this answer your question? [hibernate validator not found in classpath](https://stackoverflow.com/questions/69075274/hibernate-validator-not-found-in-classpath)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69075274/hibernate-validator-not-found-in-classpath\">hibernate validator not found in classpath</a>"},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":1,"creation_date":1663251013,"post_id":73723053,"comment_id":130199282,"body_markdown":"I&#39;m not using Spring or Springboot","body":"I&#39;m not using Spring or Springboot"}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663191104,"creation_date":1663191104,"answer_id":73723369,"question_id":73723053,"body_markdown":"hibernate-validator has been moved to group org.hibernate.validator\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n``` ","title":"Hibernate validation can&#39;t find provider","body":"<p>hibernate-validator has been moved to group org.hibernate.validator</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;8.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663231539,"creation_date":1663231539,"answer_id":73728135,"question_id":73723053,"body_markdown":"Hibernate Validator 8 is based on Jakarta. this means that if you want to use it you should add \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\ninstead of \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    dependency&gt;\r\n\r\nif you want to use the javax classes then you need to go with latest 6.2 version of hibernate validator\r\n\r\nsee here for 8.0 documentation - https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-gettingstarted-createproject","title":"Hibernate validation can&#39;t find provider","body":"<p>Hibernate Validator 8 is based on Jakarta. this means that if you want to use it you should add</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>instead of</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\ndependency&gt;\n</code></pre>\n<p>if you want to use the javax classes then you need to go with latest 6.2 version of hibernate validator</p>\n<p>see here for 8.0 documentation - <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-gettingstarted-createproject\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-gettingstarted-createproject</a></p>\n"},{"tags":[],"owner":{"account_id":13418973,"reputation":159,"user_id":9682448,"display_name":"Javadee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700827908,"creation_date":1700827908,"answer_id":77543039,"question_id":73723053,"body_markdown":"I had the same issue. After wasting almost a day the below combination worked some how. Pasting here if it helps any one.\r\n\r\n\r\n`\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;6.2.5.Final&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.4&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n`","title":"Hibernate validation can&#39;t find provider","body":"<p>I had the same issue. After wasting almost a day the below combination worked some how. Pasting here if it helps any one.</p>\n<p>`</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n&lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n&lt;version&gt;8.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n&lt;version&gt;6.2.5.Final&lt;/version&gt;\n&lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n&lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\n&lt;version&gt;3.0.4&lt;/version&gt;\n&lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700827908,"creation_date":1663188776,"question_id":73723053,"body_markdown":"I&#39;m trying to use the Hibernate validator, with Java 11 (no Spring or Springboot), but it can&#39;t seem to find the proper combination of dependencies.  I have the following dependencies\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.expressly&lt;/groupId&gt;\r\n            &lt;artifactId&gt;expressly&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI get this error:\r\n```\r\nCaused by: javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\r\n```\r\n\r\nI can&#39;t seem to find the right combination that works\r\n\r\nThe code I&#39;m using is \r\n```\r\nValidator VALIDATOR = Validation.buildDefaultValidatorFactory().getValidator();\r\nSet&lt;ConstraintViolation&lt;T&gt;&gt; constraintViolations = VALIDATOR.validate(object);\r\n\r\n```\r\n\r\n# Update\r\n\r\nHere&#39;s evertyhing I&#39;ve tried.  I&#39;ve pretty much thrown the kitchen sink in there and just keep getting the same error\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;8.0.0.Final&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0-M1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.el&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.el-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.glassfish.expressly&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;expressly&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;5.0.0&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n\r\n```","title":"Hibernate validation can&#39;t find provider","body":"<p>I'm trying to use the Hibernate validator, with Java 11 (no Spring or Springboot), but it can't seem to find the proper combination of dependencies.  I have the following dependencies</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.expressly&lt;/groupId&gt;\n            &lt;artifactId&gt;expressly&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I get this error:</p>\n<pre><code>Caused by: javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\n</code></pre>\n<p>I can't seem to find the right combination that works</p>\n<p>The code I'm using is</p>\n<pre><code>Validator VALIDATOR = Validation.buildDefaultValidatorFactory().getValidator();\nSet&lt;ConstraintViolation&lt;T&gt;&gt; constraintViolations = VALIDATOR.validate(object);\n\n</code></pre>\n<h1>Update</h1>\n<p>Here's evertyhing I've tried.  I've pretty much thrown the kitchen sink in there and just keep getting the same error</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;8.0.0.Final&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0-M1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.el&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.el-api&lt;/artifactId&gt;\n            &lt;version&gt;5.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.glassfish.expressly&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;expressly&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;5.0.0&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":24465,"reputation":6590,"user_id":62201,"accept_rate":50,"display_name":"Michael Pralow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1236779206,"creation_date":1236779206,"answer_id":634576,"question_id":634342,"body_markdown":"maybe use [SessionFactory.getClassMetadata][1] ?\r\n\r\n  [1]: http://www.hibernate.org/hib_docs/v3/api/org/hibernate/SessionFactory.html#getClassMetadata(java.lang.String)","title":"Get the table name from the model in Hibernate","body":"<p>maybe use <a href=\"http://www.hibernate.org/hib_docs/v3/api/org/hibernate/SessionFactory.html#getClassMetadata(java.lang.String)\" rel=\"nofollow noreferrer\">SessionFactory.getClassMetadata</a> ?</p>\n"},{"tags":[],"owner":{"account_id":25387,"reputation":1474,"user_id":65225,"display_name":"Alex Rockwell"},"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1236785896,"creation_date":1236780033,"answer_id":634629,"question_id":634342,"body_markdown":"If you&#39;re using the Table annotation you could do something like this:\r\n\r\n    Table table = Entity.class.getAnnotation(Table.class);\r\n    String tableName = table.name();","title":"Get the table name from the model in Hibernate","body":"<p>If you're using the Table annotation you could do something like this:</p>\n\n<pre><code>Table table = Entity.class.getAnnotation(Table.class);\nString tableName = table.name();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22560,"reputation":56311,"user_id":55774,"accept_rate":62,"display_name":"Frederik Gheysels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1236782573,"creation_date":1236782573,"answer_id":634811,"question_id":634342,"body_markdown":"Using the Configuration, you can call the GetClassMapping() method for a specific type, which would give you some mapping information for that type.\r\n\r\n(At least, this is the case in NHibernate, but I suppose that this will be similar in Hibernate).","title":"Get the table name from the model in Hibernate","body":"<p>Using the Configuration, you can call the GetClassMapping() method for a specific type, which would give you some mapping information for that type.</p>\n\n<p>(At least, this is the case in NHibernate, but I suppose that this will be similar in Hibernate).</p>\n"},{"tags":[],"owner":{"account_id":10282,"reputation":5778,"user_id":19347,"accept_rate":80,"display_name":"FoxyBOA"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1444808081,"creation_date":1237530215,"answer_id":665165,"question_id":634342,"body_markdown":"It&#39;s a bit weird but it works:\r\n\r\n    ClassMetadata hibernateMetadata = sessionFactory.getClassMetadata(pClassName);\r\n\r\n    if (hibernateMetadata == null)\r\n    {\r\n    \treturn;\r\n    }\r\n\r\n    if (hibernateMetadata instanceof AbstractEntityPersister)\r\n    {\r\n    \t AbstractEntityPersister persister = (AbstractEntityPersister) hibernateMetadata;\r\n    \t String tableName = persister.getTableName();\r\n    \t String[] columnNames = persister.getKeyColumnNames();\r\n    }","title":"Get the table name from the model in Hibernate","body":"<p>It's a bit weird but it works:</p>\n\n<pre><code>ClassMetadata hibernateMetadata = sessionFactory.getClassMetadata(pClassName);\n\nif (hibernateMetadata == null)\n{\n    return;\n}\n\nif (hibernateMetadata instanceof AbstractEntityPersister)\n{\n     AbstractEntityPersister persister = (AbstractEntityPersister) hibernateMetadata;\n     String tableName = persister.getTableName();\n     String[] columnNames = persister.getKeyColumnNames();\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Kajal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1243512985,"creation_date":1243503805,"answer_id":920030,"question_id":634342,"body_markdown":"    Configuration cfg = new Configuration().configure();\t\r\n    cfg.addResource(&quot;com/struts/Entities/User.hbm.xml&quot;);\r\n    cfg.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\r\n    Mappings m=cfg.createMappings();\r\n    System.out.println(&quot;&gt;&gt; class: &quot;+m.getClass(className));\r\n    System.out.println(&quot;User table name:: &quot;+m.getClass(&quot;User&quot;).getTable().getName());","title":"Get the table name from the model in Hibernate","body":"<pre><code>Configuration cfg = new Configuration().configure();    \ncfg.addResource(\"com/struts/Entities/User.hbm.xml\");\ncfg.setProperty(\"hibernate.dialect\", \"org.hibernate.dialect.MySQLDialect\");\nMappings m=cfg.createMappings();\nSystem.out.println(\"&gt;&gt; class: \"+m.getClass(className));\nSystem.out.println(\"User table name:: \"+m.getClass(\"User\").getTable().getName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2629478,"reputation":7484,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452779428,"creation_date":1452779067,"answer_id":34791209,"question_id":634342,"body_markdown":"You can get every tables name in your project with this function :\r\n\r\n    public Set&lt;String&gt; getTablesName() {\r\n        Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n        SessionFactory sessionFactory = emf.unwrap(SessionFactory.class);\r\n\r\n        Map&lt;String, ClassMetadata&gt; classMetadataMap = sessionFactory.getAllClassMetadata();\r\n        for (ClassMetadata classMetadata : classMetadataMap.values()) {\r\n            AbstractEntityPersister aep = (AbstractEntityPersister) classMetadata;\r\n            String tableName = aep.getTableName();\r\n            if (StringUtils.isBlank(tableName) || StringUtils.containsWhitespace(tableName)) {\r\n                continue;\r\n            }\r\n            names.add(tableName);\r\n        }\r\n        return names;\r\n    }","title":"Get the table name from the model in Hibernate","body":"<p>You can get every tables name in your project with this function :</p>\n\n<pre><code>public Set&lt;String&gt; getTablesName() {\n    Set&lt;String&gt; names = new HashSet&lt;&gt;();\n    SessionFactory sessionFactory = emf.unwrap(SessionFactory.class);\n\n    Map&lt;String, ClassMetadata&gt; classMetadataMap = sessionFactory.getAllClassMetadata();\n    for (ClassMetadata classMetadata : classMetadataMap.values()) {\n        AbstractEntityPersister aep = (AbstractEntityPersister) classMetadata;\n        String tableName = aep.getTableName();\n        if (StringUtils.isBlank(tableName) || StringUtils.containsWhitespace(tableName)) {\n            continue;\n        }\n        names.add(tableName);\n    }\n    return names;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4670717,"reputation":813,"user_id":3782567,"accept_rate":30,"display_name":"Shilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459419233,"creation_date":1459419233,"answer_id":36330457,"question_id":634342,"body_markdown":"or displaying a list of all columns and all entities in the GUI, I needed to load a full list of table, entity, attributes and column names, types, setters, getters and even nice labels dynamically and that&#39;s how I did it based on @Tom Redfem solution refactored with java 8 stream:\r\n\r\n    public void loadHibernateMetadata() throws ClassNotFoundException {\r\n\t\tMap&lt;String, ClassMetadata&gt; hibernateMetadata = sessionFactory.getAllClassMetadata();\t\t\r\n\t\t\r\n\t\thibernateMetadata.values()\r\n\t\t\t.stream()\r\n\t\t\t.filter(metadata -&gt; metadata != null &amp;&amp; metadata instanceof AbstractEntityPersister)\r\n\t\t\t.map(AbstractEntityPersister.class::cast)\r\n\t\t\t.forEach( persister -&gt; createNewnParam(persister));\r\n\t\t\t;\r\n\t\t\t\r\n\t}\r\nand then createNewParam method is:\r\n\r\n    private void createNewParam(AbstractEntityPersister persister) {\r\n\t\ttry {\r\n\t\t\tClass&lt;?&gt; $class = Class.forName(persister.getEntityName());\r\n\r\n\t\t\t\r\n\t\t\tList&lt;String&gt; getterNameRoster = Lists.newArrayList($class.getMethods())\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.filter( method -&gt; method.getName().startsWith(&quot;get&quot;) || method.getName().startsWith(&quot;is&quot;))\r\n\t\t\t\t\t.map(getterName -&gt; getterName.getName())\r\n\t\t\t\t\t.collect(toList())\r\n\t\t\t\t\t;\r\n\t\t\t\r\n\t\t\tList&lt;String&gt; setterNameRoster = Lists.newArrayList($class.getMethods())\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.filter( method -&gt; method.getName().startsWith(&quot;set&quot;) )\r\n\t\t\t\t\t.map(setterName -&gt; setterName.getName())\r\n\t\t\t\t\t.collect(toList())\r\n\t\t\t\t\t;\t\t\t\r\n\t\t\t\r\n\t\t\tIterable&lt;AttributeDefinition&gt; attrs = persister.getAttributes();\r\n\t\t\tattrs.forEach(a -&gt; {\t\t\r\n\t\t\t\t\r\n\t\t\t\tString columnName = persister.getPropertyColumnNames(a.getName())[0];\r\n\t\t\t\torg.hibernate.type.Type hibernateType =persister.getPropertyType(a.getName());\r\n\t\t\t\t\r\n\t\t\t\tOptional&lt;String&gt; optionalGetter = getterNameRoster.stream()\r\n\t\t\t\t\t\t\t\t.filter(getterStr -&gt; getterStr.equalsIgnoreCase( String.format(&quot;get%s&quot;, a.getName()) ) ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t getterStr.equalsIgnoreCase( String.format(&quot;is%s&quot;, a.getName())) )\r\n\t\t\t\t\t\t\t\t.findFirst()\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t;\r\n\t\t\t\t\r\n\t\t\t\tString getterName = optionalGetter.isPresent() ? optionalGetter.get() : new String(&quot;&quot;);\r\n\t\t\t\t\r\n\t\t\t\tOptional&lt;String&gt; optionalSetter = setterNameRoster.stream()\r\n\t\t\t\t\t\t\t\t\t.filter(setterStr -&gt; setterStr.equalsIgnoreCase( String.format(&quot;set%s&quot;, a.getName()) ))\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t.findFirst()\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t;\r\n\t\t\t\tString setterName = optionalSetter.isPresent() ? optionalSetter.get() : new String(&quot;&quot;);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tParam param = new Param(persister.getEntityName(), \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpersister.getTableName().replaceAll(&quot;\\&quot;&quot;, &quot;&quot;).toUpperCase(), \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumnName.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;).toUpperCase(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta.getName(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetterName, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetterName, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thibernateType.getName(), \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcapitalizeFirstLetter(splitCamelCase(a.getName()))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\thibernateParamList.add(param);\r\n\t\t\t\tlogger.debug(param.toString());\r\n\t\t\t});\r\n\t\t\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\tlogger.error(String.format(&quot;error occured generating the params %s&quot; , e));\r\n\t\t}\r\n\t}\r\nand two String helper method to generate nice labels, which can be irrelevant to this post\r\n\r\n    private String splitCamelCase(String s) {\r\n\t   return s.replaceAll(\r\n\t      String.format(&quot;%s|%s|%s&quot;,\r\n\t         &quot;(?&lt;=[A-Z])(?=[A-Z][a-z])&quot;,\r\n\t         &quot;(?&lt;=[^A-Z])(?=[A-Z])&quot;,\r\n\t         &quot;(?&lt;=[A-Za-z])(?=[^A-Za-z])&quot;\r\n\t      ),\r\n\t      &quot; &quot;\r\n\t   );\r\n\t}\r\n\t\r\n\tprivate String capitalizeFirstLetter(String s) {\r\n\t\treturn Character.toUpperCase(s.charAt(0)) + s.substring(1);\r\n\t}\r\nAnd of course in my WebAppConfig.class I get the session factory\r\n\r\n       \r\n   \r\n\r\n    public SessionFactory sessionFactory() {\r\n\t  LocalSessionFactoryBuilder builder =\r\n\t            new LocalSessionFactoryBuilder(dataSource());\r\n\t  builder.addProperties(hibernateProperties());\r\n\t  builder.scanPackages(new String[] { &quot;com....model&quot; });\r\n\t  SessionFactory sessionFactory = builder.buildSessionFactory();\r\n\t  \r\n      return sessionFactory;\r\n   }\r\n\r\nMaybe we can optimize streams a little bit more, but for me it was quite fast and easy.","title":"Get the table name from the model in Hibernate","body":"<p>or displaying a list of all columns and all entities in the GUI, I needed to load a full list of table, entity, attributes and column names, types, setters, getters and even nice labels dynamically and that's how I did it based on @Tom Redfem solution refactored with java 8 stream:</p>\n\n<pre><code>public void loadHibernateMetadata() throws ClassNotFoundException {\n    Map&lt;String, ClassMetadata&gt; hibernateMetadata = sessionFactory.getAllClassMetadata();        \n\n    hibernateMetadata.values()\n        .stream()\n        .filter(metadata -&gt; metadata != null &amp;&amp; metadata instanceof AbstractEntityPersister)\n        .map(AbstractEntityPersister.class::cast)\n        .forEach( persister -&gt; createNewnParam(persister));\n        ;\n\n}\n</code></pre>\n\n<p>and then createNewParam method is:</p>\n\n<pre><code>private void createNewParam(AbstractEntityPersister persister) {\n    try {\n        Class&lt;?&gt; $class = Class.forName(persister.getEntityName());\n\n\n        List&lt;String&gt; getterNameRoster = Lists.newArrayList($class.getMethods())\n                .stream()\n                .filter( method -&gt; method.getName().startsWith(\"get\") || method.getName().startsWith(\"is\"))\n                .map(getterName -&gt; getterName.getName())\n                .collect(toList())\n                ;\n\n        List&lt;String&gt; setterNameRoster = Lists.newArrayList($class.getMethods())\n                .stream()\n                .filter( method -&gt; method.getName().startsWith(\"set\") )\n                .map(setterName -&gt; setterName.getName())\n                .collect(toList())\n                ;           \n\n        Iterable&lt;AttributeDefinition&gt; attrs = persister.getAttributes();\n        attrs.forEach(a -&gt; {        \n\n            String columnName = persister.getPropertyColumnNames(a.getName())[0];\n            org.hibernate.type.Type hibernateType =persister.getPropertyType(a.getName());\n\n            Optional&lt;String&gt; optionalGetter = getterNameRoster.stream()\n                            .filter(getterStr -&gt; getterStr.equalsIgnoreCase( String.format(\"get%s\", a.getName()) ) ||\n                                                 getterStr.equalsIgnoreCase( String.format(\"is%s\", a.getName())) )\n                            .findFirst()                                \n                            ;\n\n            String getterName = optionalGetter.isPresent() ? optionalGetter.get() : new String(\"\");\n\n            Optional&lt;String&gt; optionalSetter = setterNameRoster.stream()\n                                .filter(setterStr -&gt; setterStr.equalsIgnoreCase( String.format(\"set%s\", a.getName()) ))                 \n                                .findFirst()                                    \n                                ;\n            String setterName = optionalSetter.isPresent() ? optionalSetter.get() : new String(\"\");\n\n\n            Param param = new Param(persister.getEntityName(), \n                                                        persister.getTableName().replaceAll(\"\\\"\", \"\").toUpperCase(), \n                                                        columnName.replaceAll(\"\\\"\", \"\").toUpperCase(),\n                                                        a.getName(),\n                                                        getterName, \n                                                        setterName, \n                                                        hibernateType.getName(), \n                                                        capitalizeFirstLetter(splitCamelCase(a.getName()))\n                                                        );\n            hibernateParamList.add(param);\n            logger.debug(param.toString());\n        });\n\n    } catch (ClassNotFoundException e) {\n        logger.error(String.format(\"error occured generating the params %s\" , e));\n    }\n}\n</code></pre>\n\n<p>and two String helper method to generate nice labels, which can be irrelevant to this post</p>\n\n<pre><code>private String splitCamelCase(String s) {\n   return s.replaceAll(\n      String.format(\"%s|%s|%s\",\n         \"(?&lt;=[A-Z])(?=[A-Z][a-z])\",\n         \"(?&lt;=[^A-Z])(?=[A-Z])\",\n         \"(?&lt;=[A-Za-z])(?=[^A-Za-z])\"\n      ),\n      \" \"\n   );\n}\n\nprivate String capitalizeFirstLetter(String s) {\n    return Character.toUpperCase(s.charAt(0)) + s.substring(1);\n}\n</code></pre>\n\n<p>And of course in my WebAppConfig.class I get the session factory</p>\n\n<pre><code>public SessionFactory sessionFactory() {\n  LocalSessionFactoryBuilder builder =\n            new LocalSessionFactoryBuilder(dataSource());\n  builder.addProperties(hibernateProperties());\n  builder.scanPackages(new String[] { \"com....model\" });\n  SessionFactory sessionFactory = builder.buildSessionFactory();\n\n  return sessionFactory;\n</code></pre>\n\n<p>}</p>\n\n<p>Maybe we can optimize streams a little bit more, but for me it was quite fast and easy.</p>\n"},{"tags":[],"owner":{"account_id":13174562,"reputation":99,"user_id":9515847,"display_name":"Karthik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603778190,"creation_date":1603778190,"answer_id":64548978,"question_id":634342,"body_markdown":"Since getClassMetadata method is deprecated. Try something like this.\r\n\r\n       Configuration configuration = new Configuration();\r\n        configuration.configure();\r\n        \r\n        StandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder().configure().build();\r\n        \r\n        Metadata = new MetadataSources(standardRegistry).getMetadataBuilder().build();\r\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\r\n        \r\n        String tableName=Metadata.getEntityBinding(entityName).getQualifiedTableName().toString();\r\n\r\n","title":"Get the table name from the model in Hibernate","body":"<p>Since getClassMetadata method is deprecated. Try something like this.</p>\n<pre><code>   Configuration configuration = new Configuration();\n    configuration.configure();\n    \n    StandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder().configure().build();\n    \n    Metadata = new MetadataSources(standardRegistry).getMetadataBuilder().build();\n    SessionFactory sessionFactory = configuration.buildSessionFactory();\n    \n    String tableName=Metadata.getEntityBinding(entityName).getQualifiedTableName().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1069875,"reputation":357,"user_id":1069426,"display_name":"Antoine Meyer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1616686143,"creation_date":1616686143,"answer_id":66802699,"question_id":634342,"body_markdown":"`classMetadata` is deprecated.\r\n\r\nUse:\r\n```\r\n@PersistenceContext\r\nprivate EntityManager entityManager;\r\n\r\npublic String extractTableName(final Class&lt;?&gt; modelClazz) {\r\n    final MetamodelImpl metamodel = (MetamodelImpl) entityManager.getMetamodel();\r\n    final EntityPersister entityPersister = metamodel.entityPersister(modelClazz);\r\n    if (entityPersister instanceof SingleTableEntityPersister) {\r\n        return ((SingleTableEntityPersister) entityPersister).getTableName();\r\n    } else {\r\n        throw new IllegalArgumentException(modelClazz + &quot; does not map to a single table.&quot;);\r\n    }\r\n}\r\n```","title":"Get the table name from the model in Hibernate","body":"<p><code>classMetadata</code> is deprecated.</p>\n<p>Use:</p>\n<pre><code>@PersistenceContext\nprivate EntityManager entityManager;\n\npublic String extractTableName(final Class&lt;?&gt; modelClazz) {\n    final MetamodelImpl metamodel = (MetamodelImpl) entityManager.getMetamodel();\n    final EntityPersister entityPersister = metamodel.entityPersister(modelClazz);\n    if (entityPersister instanceof SingleTableEntityPersister) {\n        return ((SingleTableEntityPersister) entityPersister).getTableName();\n    } else {\n        throw new IllegalArgumentException(modelClazz + &quot; does not map to a single table.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9665250,"reputation":421,"user_id":7171936,"display_name":"Timz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700827711,"creation_date":1700827711,"answer_id":77543017,"question_id":634342,"body_markdown":"As in Hibernate 6 the mentioned solutions did not work for me I ended up with the following implementation:\r\n\r\n    private String getTableName(final Class&lt;?&gt; cls) {\r\n        final var sessionFactory = entityManager.getEntityManagerFactory().unwrap(SessionFactoryImplementor.class);\r\n        final var metaModel = sessionFactory.getRuntimeMetamodels().getMappingMetamodel();\r\n    \r\n        return metaModel.getEntityDescriptor(cls).getMappedTableDetails().getTableName();\r\n    }","title":"Get the table name from the model in Hibernate","body":"<p>As in Hibernate 6 the mentioned solutions did not work for me I ended up with the following implementation:</p>\n<pre><code>private String getTableName(final Class&lt;?&gt; cls) {\n    final var sessionFactory = entityManager.getEntityManagerFactory().unwrap(SessionFactoryImplementor.class);\n    final var metaModel = sessionFactory.getRuntimeMetamodels().getMappingMetamodel();\n\n    return metaModel.getEntityDescriptor(cls).getMappedTableDetails().getTableName();\n}\n</code></pre>\n"}],"owner":{"account_id":1582,"reputation":110762,"user_id":2119,"accept_rate":71,"display_name":"Can Berk G&#252;der"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51787,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":10,"score":41,"last_activity_date":1700827711,"creation_date":1236775354,"question_id":634342,"body_markdown":"How do I get the table name for a model in Hibernate?\r\n\r\nApparently there used to be a `getTableName()` method in [`ClassMetadata`][1], but it&#39;s been removed.\r\n\r\nThere&#39;s a [`getClassMapping(String entityName)`][2] method in [`Configuration`][3], but I don&#39;t know how I can (or if I should) use Configuration from within my DAO implementation.\r\n\r\nMy DAO implementation is a subclass of [HibernateGeneralGenericDao][4].\r\n\r\n**UPDATE:** It turns out I can do what I&#39;m trying to do without the table name. However, I will keep the question open (and try the answers as they come) for the sake of reference.\r\n\r\n  [1]: http://www.hibernate.org/hib_docs/v3/api/org/hibernate/metadata/ClassMetadata.html\r\n  [2]: http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html#getClassMapping(java.lang.String)\r\n  [3]: http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html\r\n  [4]: https://source.sakaiproject.org/maven2/org/sakaiproject/generic-dao/site/apidocs/org/sakaiproject/genericdao/hibernate/HibernateGeneralGenericDao.html","title":"Get the table name from the model in Hibernate","body":"<p>How do I get the table name for a model in Hibernate?</p>\n\n<p>Apparently there used to be a <code>getTableName()</code> method in <a href=\"http://www.hibernate.org/hib_docs/v3/api/org/hibernate/metadata/ClassMetadata.html\" rel=\"noreferrer\"><code>ClassMetadata</code></a>, but it's been removed.</p>\n\n<p>There's a <a href=\"http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html#getClassMapping(java.lang.String)\" rel=\"noreferrer\"><code>getClassMapping(String entityName)</code></a> method in <a href=\"http://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html\" rel=\"noreferrer\"><code>Configuration</code></a>, but I don't know how I can (or if I should) use Configuration from within my DAO implementation.</p>\n\n<p>My DAO implementation is a subclass of <a href=\"https://source.sakaiproject.org/maven2/org/sakaiproject/generic-dao/site/apidocs/org/sakaiproject/genericdao/hibernate/HibernateGeneralGenericDao.html\" rel=\"noreferrer\">HibernateGeneralGenericDao</a>.</p>\n\n<p><strong>UPDATE:</strong> It turns out I can do what I'm trying to do without the table name. However, I will keep the question open (and try the answers as they come) for the sake of reference.</p>\n"},{"tags":["java","tomcat","websocket","java-websocket"],"answers":[{"tags":[],"owner":{"account_id":18582602,"reputation":101,"user_id":13541788,"display_name":"rmfeldt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614677929,"creation_date":1614677929,"answer_id":66436819,"question_id":66436496,"body_markdown":"I would suspect that the clients receive buffer is filled up and it cuts the connection. I know this will happen the other way around, when a client sends large data to an apache server and the server isn&#39;t configured to have an extended binary buffer. See:  org.apache.tomcat.websocket.binaryBufferSize\r\n\r\nPerhaps you can get around the problem by sending the data in smaller chunks, sendBytes have a partial version. \r\n\r\nhttps://tomcat.apache.org/tomcat-10.0-doc/websocketapi/index.html?jakarta/websocket/Session.html\r\n\r\n","title":"Write Timeout while writing bytes to web socket in apache tomcat","body":"<p>I would suspect that the clients receive buffer is filled up and it cuts the connection. I know this will happen the other way around, when a client sends large data to an apache server and the server isn't configured to have an extended binary buffer. See:  org.apache.tomcat.websocket.binaryBufferSize</p>\n<p>Perhaps you can get around the problem by sending the data in smaller chunks, sendBytes have a partial version.</p>\n<p><a href=\"https://tomcat.apache.org/tomcat-10.0-doc/websocketapi/index.html?jakarta/websocket/Session.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-10.0-doc/websocketapi/index.html?jakarta/websocket/Session.html</a></p>\n"},{"tags":[],"owner":{"account_id":2392650,"reputation":2659,"user_id":2092205,"display_name":"Matthew Wise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700827417,"creation_date":1700827417,"answer_id":77542989,"question_id":66436496,"body_markdown":"See this similar SO question: https://stackoverflow.com/questions/66482114/how-can-you-set-org-apache-tomcat-websocket-blocking-send-timeout - setting/overriding `org.apache.tomcat.websocket.BLOCKING_SEND_TIMEOUT` has to be done in a very specific way in order to be picked up.\r\n\r\nAlso, as you are sending large messages, you probably also need to override the following properties on `WebSocketTransportRegistration` :\r\n```\r\n        registration.setSendBufferSizeLimit(10 * 1024 * 1024);\r\n        registration.setSendTimeLimit(120_000);\r\n```","title":"Write Timeout while writing bytes to web socket in apache tomcat","body":"<p>See this similar SO question: <a href=\"https://stackoverflow.com/questions/66482114/how-can-you-set-org-apache-tomcat-websocket-blocking-send-timeout\">How can you set org.apache.tomcat.websocket.BLOCKING_SEND_TIMEOUT?</a> - setting/overriding <code>org.apache.tomcat.websocket.BLOCKING_SEND_TIMEOUT</code> has to be done in a very specific way in order to be picked up.</p>\n<p>Also, as you are sending large messages, you probably also need to override the following properties on <code>WebSocketTransportRegistration</code> :</p>\n<pre><code>        registration.setSendBufferSizeLimit(10 * 1024 * 1024);\n        registration.setSendTimeLimit(120_000);\n</code></pre>\n"}],"owner":{"account_id":3311299,"reputation":374,"user_id":2784748,"accept_rate":10,"display_name":"Vishwanath Washimkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700827417,"creation_date":1614676630,"question_id":66436496,"body_markdown":"I have Java web socket web application. The websocket endpoint interacts with mobile clients. In one of the use case, the web application needs to write bytes of the size of 10MB or more to the web-socket outputstream. Following is the code which writes to the output stream :\r\n\r\n```\r\n     if (webSocSession.isOpen()) {\r\n          webSocSession.getBasicRemote().sendBinary(byteBuffer);\r\n          byteBuffer.clear();\r\n        } \r\n```\r\n\r\nI am getting the following exception at times when the writing to the web-socket :\r\n\r\n```\r\nIOException writing to web-socket\r\njava.io.IOException:&#160;java.net.SocketTimeoutException: Write timeout\r\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:324)\r\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:259)\r\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendBytes(WsRemoteEndpointImplBase.java:131)\r\nat org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendBinary(WsRemoteEndpointBasic.java:43)\r\nat test.web.websocket.LIMSEndpoint$SocketWorker.writeToWebSocket(LIMSEndpoint.java:1188)\r\nat test.web.websocket.LIMSEndpoint$SocketWorker.run(LIMSEndpoint.java:1127)\r\nCaused by:&#160;java.net.SocketTimeoutException: Write timeout\r\nat&#160;org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1458)\r\nat&#160;org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1376)\r\nat&#160;org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1347)\r\nat org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:93)\r\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:509)\r\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:311)\r\n```\r\n\r\nI tried setting the up the following SEND timeout property to 0 ( infinite write timeout ) , but it does not help. The following Apache Tomcat doc helped - [https://tomcat.apache.org/tomcat-8.5-doc/web-socket-howto.html][1]\r\n\r\n```\r\norg.apache.tomcat.websocket.BLOCKING_SEND_TIMEOUT\r\n```\r\nThe web socket session max idle timeout has been set to 0 ( not to timeout )\r\n\r\n```\r\nSession.setMaxIdleTimeout(0) \r\n```\r\n\r\nAny help in this regard will be great help.\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.5-doc/web-socket-howto.html","title":"Write Timeout while writing bytes to web socket in apache tomcat","body":"<p>I have Java web socket web application. The websocket endpoint interacts with mobile clients. In one of the use case, the web application needs to write bytes of the size of 10MB or more to the web-socket outputstream. Following is the code which writes to the output stream :</p>\n<pre><code>     if (webSocSession.isOpen()) {\n          webSocSession.getBasicRemote().sendBinary(byteBuffer);\n          byteBuffer.clear();\n        } \n</code></pre>\n<p>I am getting the following exception at times when the writing to the web-socket :</p>\n<pre><code>IOException writing to web-socket\njava.io.IOException: java.net.SocketTimeoutException: Write timeout\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:324)\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:259)\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendBytes(WsRemoteEndpointImplBase.java:131)\nat org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendBinary(WsRemoteEndpointBasic.java:43)\nat test.web.websocket.LIMSEndpoint$SocketWorker.writeToWebSocket(LIMSEndpoint.java:1188)\nat test.web.websocket.LIMSEndpoint$SocketWorker.run(LIMSEndpoint.java:1127)\nCaused by: java.net.SocketTimeoutException: Write timeout\nat org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1458)\nat org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1376)\nat org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1347)\nat org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:93)\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:509)\nat org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:311)\n</code></pre>\n<p>I tried setting the up the following SEND timeout property to 0 ( infinite write timeout ) , but it does not help. The following Apache Tomcat doc helped - <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/web-socket-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.5-doc/web-socket-howto.html</a></p>\n<pre><code>org.apache.tomcat.websocket.BLOCKING_SEND_TIMEOUT\n</code></pre>\n<p>The web socket session max idle timeout has been set to 0 ( not to timeout )</p>\n<pre><code>Session.setMaxIdleTimeout(0) \n</code></pre>\n<p>Any help in this regard will be great help.</p>\n"},{"tags":["java","android","kotlin","gradle-kotlin-dsl","android-multi-module"],"comments":[{"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1700829359,"post_id":77542974,"comment_id":136704047,"body_markdown":"You cannot have Module A depend on Module B and have Module B depend on Module A. Most likely, you will need this navigation logic to reside somewhere else, such as in an app module that depends on both Module A and Module B.","body":"You cannot have Module A depend on Module B and have Module B depend on Module A. Most likely, you will need this navigation logic to reside somewhere else, such as in an app module that depends on both Module A and Module B."},{"owner":{"account_id":29982938,"reputation":11,"user_id":22977537,"display_name":"sumit nagpal"},"score":0,"creation_date":1700832265,"post_id":77542974,"comment_id":136704558,"body_markdown":"@CommonsWare Could you please provide some example to achieve that","body":"@CommonsWare Could you please provide some example to achieve that"}],"owner":{"account_id":29982938,"reputation":11,"user_id":22977537,"display_name":"sumit nagpal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700827313,"creation_date":1700827313,"question_id":77542974,"body_markdown":"I have an Android project with two modules, let&#39;s call them Module A and Module B. In Module A, I have two activities, A and B. In Module B, I have an activity named X. I&#39;m trying to achieve a sequential flow where I start Activity X from Activity A and then start Activity B from Activity X.  \r\n\r\nwhenever i am trying to do so using intent or using navigator interface,i am getting circular dependency error.","title":"How to sequentially start activities across different Android modules in Kotlin?","body":"<p>I have an Android project with two modules, let's call them Module A and Module B. In Module A, I have two activities, A and B. In Module B, I have an activity named X. I'm trying to achieve a sequential flow where I start Activity X from Activity A and then start Activity B from Activity X.</p>\n<p>whenever i am trying to do so using intent or using navigator interface,i am getting circular dependency error.</p>\n"},{"tags":["java","spring","dependency-injection","properties"],"comments":[{"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1507120689,"post_id":46564999,"comment_id":80083649,"body_markdown":"Why did you make the method `propertySourcesPlaceholderConfigurer` in class `WebConfig` `static`?","body":"Why did you make the method <code>propertySourcesPlaceholderConfigurer</code> in class <code>WebConfig</code> <code>static</code>?"},{"owner":{"display_name":"user4856296"},"score":0,"creation_date":1507120748,"post_id":46564999,"comment_id":80083695,"body_markdown":"Can you post your configure **application.properties** file.","body":"Can you post your configure <b>application.properties</b> file."},{"owner":{"account_id":3853200,"reputation":251,"user_id":3192770,"display_name":"Ashish Malhotra"},"score":0,"creation_date":1507121232,"post_id":46564999,"comment_id":80084033,"body_markdown":"@Jesper Just trying one of the solution that I found in google, and it is not working even if you remove the static or completely remove the method","body":"@Jesper Just trying one of the solution that I found in google, and it is not working even if you remove the static or completely remove the method"},{"owner":{"account_id":3853200,"reputation":251,"user_id":3192770,"display_name":"Ashish Malhotra"},"score":0,"creation_date":1507121277,"post_id":46564999,"comment_id":80084057,"body_markdown":"@SamDev Its already in the question, check again","body":"@SamDev Its already in the question, check again"},{"owner":{"display_name":"user4856296"},"score":0,"creation_date":1507121828,"post_id":46564999,"comment_id":80084454,"body_markdown":"Take a review this URL https://stackoverflow.com/questions/41164983/spring-cloud-config-could-not-resolve-placeholder","body":"Take a review this URL <a href=\"https://stackoverflow.com/questions/41164983/spring-cloud-config-could-not-resolve-placeholder\" title=\"spring cloud config could not resolve placeholder\">stackoverflow.com/questions/41164983/&hellip;</a>"},{"owner":{"account_id":154192,"reputation":3472,"user_id":369946,"accept_rate":75,"display_name":"Matt"},"score":0,"creation_date":1507187939,"post_id":46564999,"comment_id":80112708,"body_markdown":"Do you have mixed XML/Java config? If so, check that you don&#39;t have a `context:property-placeholder` left.","body":"Do you have mixed XML/Java config? If so, check that you don&#39;t have a <code>context:property-placeholder</code> left."},{"owner":{"account_id":5068874,"reputation":4011,"user_id":4068240,"display_name":"Clijsters"},"score":0,"creation_date":1594053662,"post_id":46564999,"comment_id":110985544,"body_markdown":"Please take a look at [Minimal, Complete, and Verifiable Examples](http://stackoverflow.com/help/mcve). Your problem can only be reproduced with all necessary information. At least your spring version","body":"Please take a look at <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Examples</a>. Your problem can only be reproduced with all necessary information. At least your spring version"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1588090273,"creation_date":1507120817,"answer_id":46565128,"question_id":46564999,"body_markdown":"Use the `@PropertyScan` annotation in the class where a certain property will be used:\r\n\r\n    @Configuration\r\n    @PropertyScan(&quot;classpath:application.properties&quot;)\r\n    class MyServerConfig {\r\n\r\n        @Value( &quot;${server.url}&quot; )\r\n        private String url;\r\n    }","title":"@Value not working in Spring @Configuration","body":"<p>Use the <code>@PropertyScan</code> annotation in the class where a certain property will be used:</p>\n\n<pre><code>@Configuration\n@PropertyScan(\"classpath:application.properties\")\nclass MyServerConfig {\n\n    @Value( \"${server.url}\" )\n    private String url;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7074458,"reputation":3504,"user_id":5415018,"display_name":"Urosh T."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614288207,"creation_date":1507187295,"answer_id":46579821,"question_id":46564999,"body_markdown":"For getting the values for your `@Value` variables, the `application.properties` is not needed to be configured in any special way because this file is always scanned. So remove the `@PropertySource` annotation and `PropertySourcesPlaceholderConfigurer` bean. \r\n\r\nThese are used if you want to add other `.properties` files (e.g. `constants.properties`, `db-config.properties`).\r\n\r\nSo just remove those and try to run your application again\r\n\r\n**Very important:** \r\n\r\n1. Make sure you scan the class that uses the `@Value` annotation (If your BootApplication is in some package instead of the &#39;main&#39; package, add the proper `@SpringBootApplication(scanBasePackages = { &quot;com.my.project&quot; })` annotation). \r\n\r\n2. Make sure your `application.properties` is on your classpath.\r\n\r\n\r\n**Bonus** If you are using spring profiles (e.g: `prod`, `dev`), you can also have `application-prod.properties` and `application-dev.properties` files that will be scanned and included depending on which profile you are running.","title":"@Value not working in Spring @Configuration","body":"<p>For getting the values for your <code>@Value</code> variables, the <code>application.properties</code> is not needed to be configured in any special way because this file is always scanned. So remove the <code>@PropertySource</code> annotation and <code>PropertySourcesPlaceholderConfigurer</code> bean.</p>\n<p>These are used if you want to add other <code>.properties</code> files (e.g. <code>constants.properties</code>, <code>db-config.properties</code>).</p>\n<p>So just remove those and try to run your application again</p>\n<p><strong>Very important:</strong></p>\n<ol>\n<li><p>Make sure you scan the class that uses the <code>@Value</code> annotation (If your BootApplication is in some package instead of the 'main' package, add the proper <code>@SpringBootApplication(scanBasePackages = { &quot;com.my.project&quot; })</code> annotation).</p>\n</li>\n<li><p>Make sure your <code>application.properties</code> is on your classpath.</p>\n</li>\n</ol>\n<p><strong>Bonus</strong> If you are using spring profiles (e.g: <code>prod</code>, <code>dev</code>), you can also have <code>application-prod.properties</code> and <code>application-dev.properties</code> files that will be scanned and included depending on which profile you are running.</p>\n"}],"owner":{"account_id":3853200,"reputation":251,"user_id":3192770,"display_name":"Ashish Malhotra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12811,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1700827245,"creation_date":1507120430,"question_id":46564999,"body_markdown":"Need help, where is the issue?\r\n\r\nI have a configuration class which is loading properties as\r\n\r\n**WebConfig.java**\r\n\r\n    @Configuration\r\n    @PropertySource(value={&quot;classpath:application.properties&quot;})\r\n    class WebConfig extends WebMvcConfigurerAdapter{\r\n    \r\n        @Bean\r\n        public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n           return new PropertySourcesPlaceholderConfigurer();\r\n        }\r\n    }\r\n\r\nI have another configuration class where I am trying to use the properties as\r\n\r\n**MyServerConfig.java**\r\n\r\n    @Configuration\r\n    class MyServerConfig {\r\n    \r\n        @Value(&quot;${server.url}&quot;)\r\n        private String url;\r\n    ...\r\n    }\r\n\r\n**application.properties**\r\n\r\n    server.url=http://localhost:8080/test/abc\r\n\r\nBut getting:\r\n\r\n&gt; java.lang.IllegalArgumentException: Could not resolve placeholder &#39;server.url&#39;.\r\n\r\nDon&#39;t know what is missing here? Any thoughts?\r\n\r\n","title":"@Value not working in Spring @Configuration","body":"<p>Need help, where is the issue?</p>\n\n<p>I have a configuration class which is loading properties as</p>\n\n<p><strong>WebConfig.java</strong></p>\n\n<pre><code>@Configuration\n@PropertySource(value={\"classpath:application.properties\"})\nclass WebConfig extends WebMvcConfigurerAdapter{\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n       return new PropertySourcesPlaceholderConfigurer();\n    }\n}\n</code></pre>\n\n<p>I have another configuration class where I am trying to use the properties as</p>\n\n<p><strong>MyServerConfig.java</strong></p>\n\n<pre><code>@Configuration\nclass MyServerConfig {\n\n    @Value(\"${server.url}\")\n    private String url;\n...\n}\n</code></pre>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>server.url=http://localhost:8080/test/abc\n</code></pre>\n\n<p>But getting:</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Could not resolve placeholder 'server.url'.</p>\n</blockquote>\n\n<p>Don't know what is missing here? Any thoughts?</p>\n"},{"tags":["java","rest","spring-mvc"],"comments":[{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":0,"creation_date":1358959576,"post_id":14484657,"comment_id":20183112,"body_markdown":"If you are using Jackson or FlexJson, why can&#39;t you just return the Response object in your method instead?  The JSON serializer should be able to serialize any complex object.","body":"If you are using Jackson or FlexJson, why can&#39;t you just return the Response object in your method instead?  The JSON serializer should be able to serialize any complex object."},{"owner":{"account_id":330284,"reputation":521,"user_id":654308,"accept_rate":11,"display_name":"Eli Polonsky"},"score":0,"creation_date":1358966673,"post_id":14484657,"comment_id":20187026,"body_markdown":"i am using jackson. but i still would like the controller to return request specific java types. i think its cleaner and more intuitive.","body":"i am using jackson. but i still would like the controller to return request specific java types. i think its cleaner and more intuitive."},{"owner":{"account_id":330284,"reputation":521,"user_id":654308,"accept_rate":11,"display_name":"Eli Polonsky"},"score":0,"creation_date":1358966721,"post_id":14484657,"comment_id":20187054,"body_markdown":"plus there is some boiler plate code into constructing the response object, so i would like to do it just from one place","body":"plus there is some boiler plate code into constructing the response object, so i would like to do it just from one place"},{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":0,"creation_date":1358971634,"post_id":14484657,"comment_id":20189636,"body_markdown":"What I was recommending is the same approach that @ben75 stated: Create your wrapper object, return it, let Jackson handle your serialization to JSON.  That&#39;s how I have ALWAYS seen it done.  You can either return the object out-right, or use Jackson to convert to a String and return that.  I have used the former when I didn&#39;t really care what the resulting JSON looked like (i.e. I am controlling the reciever, so I can make it do whatever is needed), and the latter approach when I don&#39;t control the reciever (i.e. someone else has dictated the formatting).","body":"What I was recommending is the same approach that @ben75 stated: Create your wrapper object, return it, let Jackson handle your serialization to JSON.  That&#39;s how I have ALWAYS seen it done.  You can either return the object out-right, or use Jackson to convert to a String and return that.  I have used the former when I didn&#39;t really care what the resulting JSON looked like (i.e. I am controlling the reciever, so I can make it do whatever is needed), and the latter approach when I don&#39;t control the reciever (i.e. someone else has dictated the formatting)."},{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":0,"creation_date":1358971928,"post_id":14484657,"comment_id":20189788,"body_markdown":"The key is the (at)ResponseBody which tells Spring to take whatever is being returned and use that as the HttpResponse body, and some nifty PFM from Spring to auto-convert objects to JSON using Jackson.  I have even used (at)ResponseBody to return binary files, like images.","body":"The key is the (at)ResponseBody which tells Spring to take whatever is being returned and use that as the HttpResponse body, and some nifty PFM from Spring to auto-convert objects to JSON using Jackson.  I have even used (at)ResponseBody to return binary files, like images."}],"answers":[{"tags":[],"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359020053,"creation_date":1358960276,"answer_id":14485140,"question_id":14484657,"body_markdown":"What you can do is having a `MyRestController` just wrapping the result in a `Response` like this:\r\n\r\n\r\n    @Controller\r\n    @RequestMapping(value = &quot;/mycontroller&quot;)\r\n    public class MyRestController {\r\n        \r\n        @Autowired\r\n        private MyController myController;\r\n\r\n        @RequestMapping(value = &quot;/details&quot;)\r\n        public @ResponseBody Response&lt;ServiceDetails&gt; getServiceDetails() {\r\n             return new Response(myController.getServiceDetails(),&quot;Operation OK&quot;);\r\n        }\r\n    }\r\n\r\nThis solution keep your original `MyController` independant from your REST code. It seems you need to include Jackson in your classpath so that Spring will auto-magically serialize to JSON (see [this][1] for details)\r\n\r\n**EDIT**\r\n\r\nIt seems you need something more generic... so here is a suggestion.\r\n\r\n    @Controller\r\n    @RequestMapping(value = &quot;/mycontroller&quot;)\r\n    public class MyGenericRestController {\r\n        \r\n        @Autowired\r\n        private MyController myController;\r\n\r\n        //this will match all &quot;/myController/*&quot;\r\n        @RequestMapping(value = &quot;/{operation}&quot;)\r\n        public @ResponseBody Response getGenericOperation(String @PathVariable operation) {\r\n              Method operationToInvoke = findMethodWithRequestMapping(operation);\r\n              Object responseBody = null;\r\n              try{\r\n                   responseBody = operationToInvoke.invoke(myController);\r\n              }catch(Exception e){\r\n                   e.printStackTrace();\r\n                   return new Response(null,&quot;operation failed&quot;);\r\n              }\r\n             return new Response(responseBody ,&quot;Operation OK&quot;);\r\n        }\r\n\r\n        private Method findMethodWithRequestMapping(String operation){\r\n             //TODO\r\n             //This method will use reflection to find a method annotated\r\n             //@RequestMapping(value=&lt;operation&gt;)\r\n             //in myController\r\n             return ...\r\n        }\r\n    }\r\n\r\nAnd keep your original &quot;myController&quot; almost as it was:\r\n\r\n    @Controller\r\n    public class MyController {\r\n\r\n        //this method is not expected to be called directly by spring MVC\r\n        @RequestMapping(value = &quot;/details&quot;)\r\n        public ServiceDetails getServiceDetails() {\r\n             return new ServiceDetails(&quot;MyService&quot;);\r\n        }\r\n    }\r\n\r\nMajor issue with this : the @RequestMapping in `MyController` need probably to be replaced by some custom annotation (and adapt `findMethodWithRequestMapping` to perform introspection on this custom annotation).\r\n  [1]: http://www.mkyong.com/spring-mvc/spring-3-mvc-and-json-example/","title":"How do I design a generic Response builder / RESTful Web Service using Spring MVC?","body":"<p>What you can do is having a <code>MyRestController</code> just wrapping the result in a <code>Response</code> like this:</p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"/mycontroller\")\npublic class MyRestController {\n\n    @Autowired\n    private MyController myController;\n\n    @RequestMapping(value = \"/details\")\n    public @ResponseBody Response&lt;ServiceDetails&gt; getServiceDetails() {\n         return new Response(myController.getServiceDetails(),\"Operation OK\");\n    }\n}\n</code></pre>\n\n<p>This solution keep your original <code>MyController</code> independant from your REST code. It seems you need to include Jackson in your classpath so that Spring will auto-magically serialize to JSON (see <a href=\"http://www.mkyong.com/spring-mvc/spring-3-mvc-and-json-example/\" rel=\"nofollow\">this</a> for details)</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>It seems you need something more generic... so here is a suggestion.</p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"/mycontroller\")\npublic class MyGenericRestController {\n\n    @Autowired\n    private MyController myController;\n\n    //this will match all \"/myController/*\"\n    @RequestMapping(value = \"/{operation}\")\n    public @ResponseBody Response getGenericOperation(String @PathVariable operation) {\n          Method operationToInvoke = findMethodWithRequestMapping(operation);\n          Object responseBody = null;\n          try{\n               responseBody = operationToInvoke.invoke(myController);\n          }catch(Exception e){\n               e.printStackTrace();\n               return new Response(null,\"operation failed\");\n          }\n         return new Response(responseBody ,\"Operation OK\");\n    }\n\n    private Method findMethodWithRequestMapping(String operation){\n         //TODO\n         //This method will use reflection to find a method annotated\n         //@RequestMapping(value=&lt;operation&gt;)\n         //in myController\n         return ...\n    }\n}\n</code></pre>\n\n<p>And keep your original \"myController\" almost as it was:</p>\n\n<pre><code>@Controller\npublic class MyController {\n\n    //this method is not expected to be called directly by spring MVC\n    @RequestMapping(value = \"/details\")\n    public ServiceDetails getServiceDetails() {\n         return new ServiceDetails(\"MyService\");\n    }\n}\n</code></pre>\n\n<p>Major issue with this : the @RequestMapping in <code>MyController</code> need probably to be replaced by some custom annotation (and adapt <code>findMethodWithRequestMapping</code> to perform introspection on this custom annotation).</p>\n"},{"tags":[],"owner":{"account_id":49344,"reputation":361,"user_id":146870,"display_name":"reidarok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359032727,"creation_date":1359032727,"answer_id":14502050,"question_id":14484657,"body_markdown":"By default, Spring MVC uses org.springframework.http.converter.json.MappingJacksonHttpMessageConverter to serialize/deserialize JSON through Jackson.\r\n\r\nI&#39;m not sure if it&#39;s a great idea, but one way of solving your problem is to extend this class, and override the writeInternal method:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class CustomMappingJacksonHttpMessageConverter extends MappingJacksonHttpMessageConverter {\r\n    \r\n        @Override\r\n        protected void writeInternal(Object object, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException {\r\n            super.writeInternal(new Response(object, &quot;Operation OK&quot;), outputMessage);\r\n        }\r\n    }\r\n\r\nIf you&#39;re using XML configuration, you could enable the custom converter like this:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n        &lt;mvc:message-converters&gt;\r\n            &lt;bean class=&quot;path.to.CustomMappingJacksonHttpMessageConverter&quot;&gt;\r\n        &lt;/mvc:message-converters&gt;\r\n    &lt;/mvc:annotation-driven&gt;\r\n","title":"How do I design a generic Response builder / RESTful Web Service using Spring MVC?","body":"<p>By default, Spring MVC uses org.springframework.http.converter.json.MappingJacksonHttpMessageConverter to serialize/deserialize JSON through Jackson.</p>\n\n<p>I'm not sure if it's a great idea, but one way of solving your problem is to extend this class, and override the writeInternal method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomMappingJacksonHttpMessageConverter extends MappingJacksonHttpMessageConverter {\n\n    @Override\n    protected void writeInternal(Object object, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException {\n        super.writeInternal(new Response(object, \"Operation OK\"), outputMessage);\n    }\n}\n</code></pre>\n\n<p>If you're using XML configuration, you could enable the custom converter like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mvc:annotation-driven&gt;\n    &lt;mvc:message-converters&gt;\n        &lt;bean class=\"path.to.CustomMappingJacksonHttpMessageConverter\"&gt;\n    &lt;/mvc:message-converters&gt;\n&lt;/mvc:annotation-driven&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5827480,"reputation":911,"user_id":4593280,"display_name":"vkstream"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666910828,"creation_date":1666910828,"answer_id":74229023,"question_id":14484657,"body_markdown":"Try the below solution.\r\n\r\n\r\n\r\n 1. Create a separate class such **ResponseEnvelop**. It must implement ResponseBodyAdvice&lt;Object&gt; interface.\r\n 2. Annotate the above class with ***@ControllerAdvice***\r\n 3. Autowire **HttpServletRequest**\r\n 4. Override methods according to your requirement. Take reference from below.\r\n\r\n\r\n\r\n\r\n----------\r\n   \r\n     @Override\r\n      public boolean supports(\r\n          MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n        if (httpServletRequest.getRequestURI().startsWith(&quot;/api&quot;)) {\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n\r\n    @Override\r\n      public Object beforeBodyWrite(\r\n          Object body,\r\n          MethodParameter returnType,\r\n          MediaType selectedContentType,\r\n          Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType,\r\n          ServerHttpRequest request,\r\n          ServerHttpResponse response) {\r\n    \r\n        if (((ServletServerHttpResponse) response).getServletResponse().getStatus()\r\n                == HttpStatus.OK.value()\r\n            || ((ServletServerHttpResponse) response).getServletResponse().getStatus()\r\n                == HttpStatus.CREATED.value()) {\r\n          return new EntityResponse(Constants.SUCCESS, body);\r\n        }\r\n        return body;\r\n      }\r\n\r\n","title":"How do I design a generic Response builder / RESTful Web Service using Spring MVC?","body":"<p>Try the below solution.</p>\n<ol>\n<li>Create a separate class such <strong>ResponseEnvelop</strong>. It must implement ResponseBodyAdvice interface.</li>\n<li>Annotate the above class with <em><strong>@ControllerAdvice</strong></em></li>\n<li>Autowire <strong>HttpServletRequest</strong></li>\n<li>Override methods according to your requirement. Take reference from below.</li>\n</ol>\n<hr />\n<pre><code> @Override\n  public boolean supports(\n      MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n    if (httpServletRequest.getRequestURI().startsWith(&quot;/api&quot;)) {\n      return true;\n    }\n    return false;\n  }\n\n@Override\n  public Object beforeBodyWrite(\n      Object body,\n      MethodParameter returnType,\n      MediaType selectedContentType,\n      Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType,\n      ServerHttpRequest request,\n      ServerHttpResponse response) {\n\n    if (((ServletServerHttpResponse) response).getServletResponse().getStatus()\n            == HttpStatus.OK.value()\n        || ((ServletServerHttpResponse) response).getServletResponse().getStatus()\n            == HttpStatus.CREATED.value()) {\n      return new EntityResponse(Constants.SUCCESS, body);\n    }\n    return body;\n  }\n</code></pre>\n"}],"owner":{"account_id":330284,"reputation":521,"user_id":654308,"accept_rate":11,"display_name":"Eli Polonsky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16671,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1700827245,"creation_date":1358958952,"question_id":14484657,"body_markdown":"Trying to build a RESTful web service using Spring MVC. \r\n\r\nThe controller should return specific Java types, but the response body must be a generic envelope.  How can this be done?  \r\n\r\nThe following sections of code are what I have so far:\r\n\r\nController method:\r\n\r\n        @Controller\r\n        @RequestMapping(value = &quot;/mycontroller&quot;)\r\n        public class MyController {\r\n            \r\n            public ServiceDetails getServiceDetails() {\r\n                 return new ServiceDetails(&quot;MyService&quot;);\r\n            }\r\n        }\r\n\r\nResponse envelope:\r\n\r\n        public class Response&lt;T&gt; {\r\n            \r\n            private String message;\r\n            private T responseBody;\r\n\r\n        }\r\n\r\n`ServiceDetails` code:\r\n\r\n        public class ServiceDetails {\r\n            \r\n            private String serviceName;\r\n\r\n            public ServiceDetails(String serviceName) {\r\n                this.serviceName = serviceName;\r\n            }\r\n        }\r\n\r\nIntended final response to clients should appear as:\r\n\r\n       {\r\n\r\n         &quot;message&quot; : &quot;Operation OK&quot;\r\n         &quot;responseBody&quot; : {\r\n                            &quot;serviceName&quot; : &quot;MyService&quot;\r\n                          }\r\n\r\n       }  ","title":"How do I design a generic Response builder / RESTful Web Service using Spring MVC?","body":"<p>Trying to build a RESTful web service using Spring MVC. </p>\n\n<p>The controller should return specific Java types, but the response body must be a generic envelope.  How can this be done?  </p>\n\n<p>The following sections of code are what I have so far:</p>\n\n<p>Controller method:</p>\n\n<pre><code>    @Controller\n    @RequestMapping(value = \"/mycontroller\")\n    public class MyController {\n\n        public ServiceDetails getServiceDetails() {\n             return new ServiceDetails(\"MyService\");\n        }\n    }\n</code></pre>\n\n<p>Response envelope:</p>\n\n<pre><code>    public class Response&lt;T&gt; {\n\n        private String message;\n        private T responseBody;\n\n    }\n</code></pre>\n\n<p><code>ServiceDetails</code> code:</p>\n\n<pre><code>    public class ServiceDetails {\n\n        private String serviceName;\n\n        public ServiceDetails(String serviceName) {\n            this.serviceName = serviceName;\n        }\n    }\n</code></pre>\n\n<p>Intended final response to clients should appear as:</p>\n\n<pre><code>   {\n\n     \"message\" : \"Operation OK\"\n     \"responseBody\" : {\n                        \"serviceName\" : \"MyService\"\n                      }\n\n   }  \n</code></pre>\n"},{"tags":["java","javascript","jquery","html","struts-1"],"comments":[{"owner":{"account_id":3578815,"reputation":715,"user_id":2987484,"display_name":"dev"},"score":1,"creation_date":1385447013,"post_id":20209487,"comment_id":30135062,"body_markdown":"There is no placeholder tag in struts.use HTML5 input type tag instead.","body":"There is no placeholder tag in struts.use HTML5 input type tag instead."},{"owner":{"display_name":"user2860053"},"score":0,"creation_date":1385447173,"post_id":20209487,"comment_id":30135121,"body_markdown":"You are write @Purnendu","body":"You are write @Purnendu"},{"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"score":0,"creation_date":1385495671,"post_id":20209487,"comment_id":30163620,"body_markdown":"@KannanPriya You can use simple HTML. No need to add anything extra.","body":"@KannanPriya You can use simple HTML. No need to add anything extra."},{"owner":{"account_id":3019457,"reputation":3814,"user_id":2560836,"accept_rate":80,"display_name":"Chris311"},"score":0,"creation_date":1654247673,"post_id":20209487,"comment_id":128050519,"body_markdown":"Alternatively a tooltip might be a solution as well.\n&lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; title=&quot;some text&quot;/&gt;","body":"Alternatively a tooltip might be a solution as well. &lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; title=&quot;some text&quot;/&gt;"}],"answers":[{"tags":[],"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1385446699,"creation_date":1385445705,"answer_id":20209626,"question_id":20209487,"body_markdown":"There is a placeholder attribute in struts tags as well called placeholder\r\n\r\n    &lt;s:form action=&quot;Welcome&quot;&gt;\r\n\t  &lt;s:textfield name=&quot;username&quot; label=&quot;Username&quot; placeholder=&quot;Enter Your Name&quot; /&gt;\r\n\t  &lt;s:password name=&quot;password&quot; label=&quot;Password&quot; placeholder=&quot;Password&quot;/&gt;\r\n\t  &lt;s:submit/&gt;\r\n    &lt;/s:form&gt;\r\n\r\n**Edit**\r\n \r\nThere isn&#39;t an attribute with the name placeholder (sorry for the confusion), but if you type in placeholder like my code sample, the struts form will be evaluated as below\r\n\r\n    &lt;form id=&quot;Welcome&quot; name=&quot;Welcome&quot; action=&quot;/User/Welcome.action&quot; method=&quot;post&quot;&gt;\r\n      &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;&quot; id=&quot;Welcome_username&quot; placeholder=&quot;Enter your Name&quot;&gt;\r\n      &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;Welcome_password&quot; placeholder=&quot;Password&quot;&gt;\r\n    &lt;/form&gt;\r\n\r\nIf you notice, the placeholder attribute renders up just fine with the complete form","title":"How can I put a placeholder in a struts textfield tag?","body":"<p>There is a placeholder attribute in struts tags as well called placeholder</p>\n\n<pre><code>&lt;s:form action=\"Welcome\"&gt;\n  &lt;s:textfield name=\"username\" label=\"Username\" placeholder=\"Enter Your Name\" /&gt;\n  &lt;s:password name=\"password\" label=\"Password\" placeholder=\"Password\"/&gt;\n  &lt;s:submit/&gt;\n&lt;/s:form&gt;\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>There isn't an attribute with the name placeholder (sorry for the confusion), but if you type in placeholder like my code sample, the struts form will be evaluated as below</p>\n\n<pre><code>&lt;form id=\"Welcome\" name=\"Welcome\" action=\"/User/Welcome.action\" method=\"post\"&gt;\n  &lt;input type=\"text\" name=\"username\" value=\"\" id=\"Welcome_username\" placeholder=\"Enter your Name\"&gt;\n  &lt;input type=\"password\" name=\"password\" id=\"Welcome_password\" placeholder=\"Password\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>If you notice, the placeholder attribute renders up just fine with the complete form</p>\n"},{"tags":[],"owner":{"account_id":1056525,"reputation":74395,"user_id":1059101,"accept_rate":100,"display_name":"Jai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385446898,"creation_date":1385446898,"answer_id":20209895,"question_id":20209487,"body_markdown":"You can try with jQuery to add this attribute when document gets ready:\r\n\r\n    &lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; styleId=&quot;xyz&quot; /&gt;\r\n\r\nthen try adding this jquery:\r\n\r\n    $(function(){\r\n        $(&#39;:input&#39;).each(function(){\r\n           $(this).attr(&quot;placeholder&quot;, this.id);\r\n        });\r\n    });\r\n\r\nor [this answer could help you.](https://stackoverflow.com/a/11827697/1059101)","title":"How can I put a placeholder in a struts textfield tag?","body":"<p>You can try with jQuery to add this attribute when document gets ready:</p>\n\n<pre><code>&lt;html:text property=\"name\" styleClass=\"form-control\" styleId=\"xyz\" /&gt;\n</code></pre>\n\n<p>then try adding this jquery:</p>\n\n<pre><code>$(function(){\n    $(':input').each(function(){\n       $(this).attr(\"placeholder\", this.id);\n    });\n});\n</code></pre>\n\n<p>or <a href=\"https://stackoverflow.com/a/11827697/1059101\">this answer could help you.</a></p>\n"},{"tags":[],"owner":{"account_id":972494,"reputation":10834,"user_id":994737,"accept_rate":40,"display_name":"rajesh kakawat"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1386188810,"creation_date":1385447069,"answer_id":20209937,"question_id":20209487,"body_markdown":"Use jQuery `attr` like below:\r\n\r\n    &lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; styleId=&quot;abc&quot; /&gt;\r\n\r\nJavaScript code:\r\n\r\n    $(function() {\r\n\t\t$(&quot;#abc&quot;).attr(&quot;placeholder&quot;, &quot;some text&quot;);\r\n    });\r\n\r\n    ","title":"How can I put a placeholder in a struts textfield tag?","body":"<p>Use jQuery <code>attr</code> like below:</p>\n\n<pre><code>&lt;html:text property=\"name\" styleClass=\"form-control\" styleId=\"abc\" /&gt;\n</code></pre>\n\n<p>JavaScript code:</p>\n\n<pre><code>$(function() {\n    $(\"#abc\").attr(\"placeholder\", \"some text\");\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1386188706,"creation_date":1385495557,"answer_id":20226627,"question_id":20209487,"body_markdown":"Just replace:\r\n\r\n    &lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; placeholder=&quot;some text&quot; /&gt;\r\n\r\n\r\nWith:\r\n\r\n    &lt;input type=&quot;text&quot; name=&quot;property&quot; class=&quot;form-control&quot; placeholder=&quot;some text&quot;\r\n                                 │\r\n                                 └─── Form property ────┐\r\n                                                        │\r\n           value=&quot;&lt;bean:write name=&quot;name&quot; property=&quot;property&quot; /&gt;&quot; /&gt;\r\n                                      │                \r\n                   Name of form-bean ─┘                \r\n                                \r\n\r\nThe value of the attribute `name` must match the property of your form to *trip* in the request.","title":"How can I put a placeholder in a struts textfield tag?","body":"<p>Just replace:</p>\n\n<pre><code>&lt;html:text property=\"name\" styleClass=\"form-control\" placeholder=\"some text\" /&gt;\n</code></pre>\n\n<p>With:</p>\n\n<pre><code>&lt;input type=\"text\" name=\"property\" class=\"form-control\" placeholder=\"some text\"\n                             │\n                             └─── Form property ────┐\n                                                    │\n       value=\"&lt;bean:write name=\"name\" property=\"property\" /&gt;\" /&gt;\n                                  │                \n               Name of form-bean ─┘                \n</code></pre>\n\n<p>The value of the attribute <code>name</code> must match the property of your form to <em>trip</em> in the request.</p>\n"},{"tags":[],"owner":{"account_id":5003517,"reputation":1,"user_id":4021777,"display_name":"NEERAJ TANDON"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410245677,"creation_date":1410245634,"answer_id":25738338,"question_id":20209487,"body_markdown":"A simple alternative using javascript event is as follows :\r\n\r\n    &lt;html:text property=&quot;username&quot; value=&quot;Username&quot; onclick=&quot;this.value=&#39;&#39;&quot; /&gt;","title":"How can I put a placeholder in a struts textfield tag?","body":"<p>A simple alternative using javascript event is as follows :</p>\n\n<pre><code>&lt;html:text property=\"username\" value=\"Username\" onclick=\"this.value=''\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29982876,"reputation":1,"user_id":22977489,"display_name":"Leonardo Archini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700826504,"creation_date":1700826504,"answer_id":77542911,"question_id":20209487,"body_markdown":"Similar to something written above in jQuery, you can try with javascript :\r\n\r\n    &lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; styleId=&quot;myId&quot; /&gt;\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n        document.getElementById(&#39;myId&#39;).setAttribute(&quot;placeholder&quot;, &quot;my personal placeholder&quot;);\r\n    &lt;/script&gt;\t","title":"How can I put a placeholder in a struts textfield tag?","body":"<p>Similar to something written above in jQuery, you can try with javascript :</p>\n<pre><code>&lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; styleId=&quot;myId&quot; /&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\n    document.getElementById('myId').setAttribute(&quot;placeholder&quot;, &quot;my personal placeholder&quot;);\n&lt;/script&gt;   \n</code></pre>\n"}],"owner":{"account_id":3318484,"reputation":1119,"user_id":2790207,"accept_rate":33,"display_name":"Kannan Arumugam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19149,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":20209937,"answer_count":6,"score":18,"last_activity_date":1700826504,"creation_date":1385445112,"question_id":20209487,"body_markdown":"i got error because am using placeholder attribute in struts tags....\r\n\r\n`&lt;html:text property=&quot;name&quot; styleClass=&quot;form-control&quot; placeholder=&quot;some text&quot;/&gt;`\r\n\r\nhow can resolve the problem,pls help me.\r\n\r\nThanks in Advance.","title":"How can I put a placeholder in a struts textfield tag?","body":"<p>i got error because am using placeholder attribute in struts tags....</p>\n\n<p><code>&lt;html:text property=\"name\" styleClass=\"form-control\" placeholder=\"some text\"/&gt;</code></p>\n\n<p>how can resolve the problem,pls help me.</p>\n\n<p>Thanks in Advance.</p>\n"},{"tags":["java","string","character","alphanumeric"],"comments":[{"owner":{"account_id":182820,"reputation":5625,"user_id":417791,"accept_rate":96,"display_name":"Wojciech Owczarczyk"},"score":1,"creation_date":1322078183,"post_id":8248277,"comment_id":10148203,"body_markdown":"http://stackoverflow.com/questions/1795402/java-check-a-string-if-there-is-a-special-character-in-it","body":"<a href=\"http://stackoverflow.com/questions/1795402/java-check-a-string-if-there-is-a-special-character-in-it\" title=\"java check a string if there is a special character in it\">stackoverflow.com/questions/1795402/&hellip;</a>"},{"owner":{"account_id":450732,"reputation":43629,"user_id":1206051,"accept_rate":70,"display_name":"treecoder"},"score":0,"creation_date":1398996907,"post_id":8248277,"comment_id":35889455,"body_markdown":"http://stackoverflow.com/questions/11241690/regex-for-checking-if-a-string-is-strictly-alphanumeric","body":"<a href=\"http://stackoverflow.com/questions/11241690/regex-for-checking-if-a-string-is-strictly-alphanumeric\" title=\"regex for checking if a string is strictly alphanumeric\">stackoverflow.com/questions/11241690/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1004269,"reputation":4294,"user_id":1018419,"display_name":"Mechkov"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1322078253,"creation_date":1322078253,"answer_id":8248315,"question_id":8248277,"body_markdown":"You have to go through each character in the String and check `Character.isDigit(char);` or `Character.isletter(char);`\r\n\r\nAlternatively, you can use regex.","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>You have to go through each character in the String and check <code>Character.isDigit(char);</code> or <code>Character.isletter(char);</code></p>\n\n<p>Alternatively, you can use regex.</p>\n"},{"tags":[],"owner":{"account_id":82701,"reputation":2446,"user_id":232328,"display_name":"Shaun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437398981,"creation_date":1322078407,"answer_id":8248343,"question_id":8248277,"body_markdown":"If you can use the Apache Commons library, then Commons-Lang `StringUtils` has a method called `isAlphanumeric()` that does what you&#39;re looking for.","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>If you can use the Apache Commons library, then Commons-Lang <code>StringUtils</code> has a method called <code>isAlphanumeric()</code> that does what you're looking for.</p>\n"},{"tags":[],"owner":{"account_id":284516,"reputation":14349,"user_id":582675,"accept_rate":75,"display_name":"Fabian Barney"},"down_vote_count":0,"up_vote_count":164,"is_accepted":true,"score":164,"last_activity_date":1322080743,"creation_date":1322078443,"answer_id":8248352,"question_id":8248277,"body_markdown":"Using Apache Commons Lang:\r\n\r\n    !StringUtils.isAlphanumeric(String)\r\n\r\nAlternativly iterate over String&#39;s characters and check with:\r\n\r\n    !Character.isLetterOrDigit(char)\r\n\r\nYou&#39;ve still one problem left:\r\nYour example string &quot;abcdef&#224;&quot; is alphanumeric, since `&#224;` is a letter. But I think you want it to be considered non-alphanumeric, right?!\r\n\r\nSo you may want to use regular expression instead:\r\n\r\n\tString s = &quot;abcdef&#224;&quot;;\r\n\tPattern p = Pattern.compile(&quot;[^a-zA-Z0-9]&quot;);\r\n\tboolean hasSpecialChar = p.matcher(s).find();","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>Using Apache Commons Lang:</p>\n\n<pre><code>!StringUtils.isAlphanumeric(String)\n</code></pre>\n\n<p>Alternativly iterate over String's characters and check with:</p>\n\n<pre><code>!Character.isLetterOrDigit(char)\n</code></pre>\n\n<p>You've still one problem left:\nYour example string \"abcdefà\" is alphanumeric, since <code>à</code> is a letter. But I think you want it to be considered non-alphanumeric, right?!</p>\n\n<p>So you may want to use regular expression instead:</p>\n\n<pre><code>String s = \"abcdefà\";\nPattern p = Pattern.compile(\"[^a-zA-Z0-9]\");\nboolean hasSpecialChar = p.matcher(s).find();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":970479,"reputation":1922,"user_id":993126,"accept_rate":50,"display_name":"loscuropresagio"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1322080807,"creation_date":1322078596,"answer_id":8248376,"question_id":8248277,"body_markdown":"One approach is to do that using the String class itself.\r\nLet&#39;s say that your string is something like that:\r\n\r\n    String s = &quot;some text&quot;;\r\n    boolean hasNonAlpha = s.matches(&quot;^.*[^a-zA-Z0-9 ].*$&quot;);\r\n\r\none other is to use an external library, such as Apache commons:\r\n\r\n    String s = &quot;some text&quot;;\r\n    boolean hasNonAlpha = !StringUtils.isAlphanumeric(s);\r\n","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>One approach is to do that using the String class itself.\nLet's say that your string is something like that:</p>\n\n<pre><code>String s = \"some text\";\nboolean hasNonAlpha = s.matches(\"^.*[^a-zA-Z0-9 ].*$\");\n</code></pre>\n\n<p>one other is to use an external library, such as Apache commons:</p>\n\n<pre><code>String s = \"some text\";\nboolean hasNonAlpha = !StringUtils.isAlphanumeric(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3749204,"reputation":39,"user_id":3117125,"display_name":"nike4613"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437509880,"creation_date":1437509880,"answer_id":31548814,"question_id":8248277,"body_markdown":"`string.matches(&quot;^\\\\W*$&quot;);` should do what you want, but it does not include whitespace. `string.matches(&quot;^(?:\\\\W|\\\\s)*$&quot;);` does match whitespace as well.","title":"How to determine if a String has non-alphanumeric characters?","body":"<p><code>string.matches(\"^\\\\W*$\");</code> should do what you want, but it does not include whitespace. <code>string.matches(\"^(?:\\\\W|\\\\s)*$\");</code> does match whitespace as well.</p>\n"},{"tags":[],"owner":{"account_id":3657924,"reputation":1867,"user_id":3048431,"display_name":"Oguz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500412339,"creation_date":1500412339,"answer_id":45177172,"question_id":8248277,"body_markdown":"You can use isLetter(char c) static method of Character class in Java.lang .\r\n\r\n\tpublic boolean isAlpha(String s) {\r\n\t\tchar[] charArr = s.toCharArray();\r\n\t\t\r\n\t\tfor(char c : charArr) {\r\n\t\t\tif(!Character.isLetter(c)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>You can use isLetter(char c) static method of Character class in Java.lang .</p>\n\n<pre><code>public boolean isAlpha(String s) {\n    char[] charArr = s.toCharArray();\n\n    for(char c : charArr) {\n        if(!Character.isLetter(c)) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2856521,"reputation":7352,"user_id":2452680,"accept_rate":68,"display_name":"Dan Bray"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508681715,"creation_date":1508681715,"answer_id":46875081,"question_id":8248277,"body_markdown":"Use this function to check if a string is alphanumeric:\r\n\r\n    public boolean isAlphanumeric(String str)\r\n    {\r\n        char[] charArray = str.toCharArray();\r\n        for(char c:charArray)\r\n        {\r\n            if (!Character.isLetterOrDigit(c))\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nIt saves having to import external libraries and the code can easily be modified should you later wish to perform different validation checks on strings.","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>Use this function to check if a string is alphanumeric:</p>\n\n<pre><code>public boolean isAlphanumeric(String str)\n{\n    char[] charArray = str.toCharArray();\n    for(char c:charArray)\n    {\n        if (!Character.isLetterOrDigit(c))\n            return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>It saves having to import external libraries and the code can easily be modified should you later wish to perform different validation checks on strings.</p>\n"},{"tags":[],"owner":{"account_id":8114310,"reputation":363,"user_id":7946599,"display_name":"Abhishek Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594969624,"creation_date":1594969624,"answer_id":62948845,"question_id":8248277,"body_markdown":"Though it won&#39;t work for numbers, you can check if the lowercase and uppercase values are same or not, For non-alphabetic characters they will be same, You should check for number before this for better usability","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>Though it won't work for numbers, you can check if the lowercase and uppercase values are same or not, For non-alphabetic characters they will be same, You should check for number before this for better usability</p>\n"},{"tags":[],"owner":{"account_id":26749316,"reputation":11,"user_id":20348947,"display_name":"TheLittleChimp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700826473,"creation_date":1698306674,"answer_id":77365083,"question_id":8248277,"body_markdown":"I had to check a string contains at least 1 letter and 1 digit - my solution below    \r\n\r\n    /**\r\n     * &lt;p&gt;Checks if the String contains both letters and digits.&lt;/p&gt;\r\n     *\r\n     * &lt;p&gt;{@code null} will return {@code false}.\r\n     * An empty String str.isEmpty() will return {@code false}.&lt;/p&gt;\r\n     *\r\n     * @param str the String to check, may be null\r\n     * @return {@code true} if only contains letters and digits,\r\n     * and is non-null or not empty\r\n     */\r\n    public static boolean isAlphaAndNumeric(String str) {\r\n        if (str == null || str.isEmpty()) {\r\n            return false;\r\n        }\r\n\r\n        Pattern pattern = Pattern.compile(&quot;^[a-zA-Z0-9]*$&quot;);\r\n        boolean containsSpecialChars = !pattern.matcher(str).matches();\r\n        if (containsSpecialChars) {\r\n            return false;\r\n        }\r\n        \r\n        boolean containsLetter = false;\r\n        boolean containsDigit = false;\r\n        char[] chars = str.toCharArray();\r\n        int i = 0;\r\n        while (i &lt; chars.length) {\r\n            if (Character.isLetter(chars[i])) {\r\n                containsLetter = true;\r\n            }\r\n            if (Character.isDigit(chars[i])) {\r\n                containsDigit = true;\r\n            }\r\n            i++;\r\n            if (containsDigit &amp;&amp; containsLetter) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>I had to check a string contains at least 1 letter and 1 digit - my solution below</p>\n<pre><code>/**\n * &lt;p&gt;Checks if the String contains both letters and digits.&lt;/p&gt;\n *\n * &lt;p&gt;{@code null} will return {@code false}.\n * An empty String str.isEmpty() will return {@code false}.&lt;/p&gt;\n *\n * @param str the String to check, may be null\n * @return {@code true} if only contains letters and digits,\n * and is non-null or not empty\n */\npublic static boolean isAlphaAndNumeric(String str) {\n    if (str == null || str.isEmpty()) {\n        return false;\n    }\n\n    Pattern pattern = Pattern.compile(&quot;^[a-zA-Z0-9]*$&quot;);\n    boolean containsSpecialChars = !pattern.matcher(str).matches();\n    if (containsSpecialChars) {\n        return false;\n    }\n    \n    boolean containsLetter = false;\n    boolean containsDigit = false;\n    char[] chars = str.toCharArray();\n    int i = 0;\n    while (i &lt; chars.length) {\n        if (Character.isLetter(chars[i])) {\n            containsLetter = true;\n        }\n        if (Character.isDigit(chars[i])) {\n            containsDigit = true;\n        }\n        i++;\n        if (containsDigit &amp;&amp; containsLetter) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":1020478,"reputation":1055,"user_id":1030956,"accept_rate":53,"display_name":"lugeno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250799,"favorite_count":0,"down_vote_count":2,"up_vote_count":85,"accepted_answer_id":8248352,"answer_count":9,"score":83,"last_activity_date":1700826473,"creation_date":1322078037,"question_id":8248277,"body_markdown":"I need a method that can tell me if a String has non alphanumeric characters.\r\n\r\nFor example if the String is &quot;abcdef?&quot; or &quot;abcdef&#224;&quot;, the method must return true.\r\n","title":"How to determine if a String has non-alphanumeric characters?","body":"<p>I need a method that can tell me if a String has non alphanumeric characters.</p>\n\n<p>For example if the String is \"abcdef?\" or \"abcdefà\", the method must return true.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":15026563,"reputation":117,"user_id":10846199,"display_name":"alexey kurbatov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700826344,"creation_date":1700826344,"answer_id":77542892,"question_id":77482576,"body_markdown":"Had a similar issue. I tried to configure DedupeResponseHeader in yml config but this filter was not appling to my routes. I did not find why and decided to configure DedupeResponseHeader in code. This is how my routing config looks like:\r\n\r\n    @Configuration\r\n    public class RoutingConfig {\r\n\r\n    @Bean\r\n    public RouteLocator routing(RouteLocatorBuilder builder) {\r\n        return builder.routes()\r\n            .route(r -&gt; r.path(&quot;/api/v1/orders/**&quot;).filters(dedupeResponseHeaders()).uri(&quot;http://example.com&quot;))\r\n            .build();\r\n    }\r\n\r\n    /**\r\n     * To remove duplicated CORS headers which might appear because they added by gateway and by downstream service\r\n     */\r\n    private Function&lt;GatewayFilterSpec, UriSpec&gt; dedupeResponseHeaders() {\r\n        String strategy = DedupeResponseHeaderGatewayFilterFactory.Strategy.RETAIN_FIRST.name();\r\n        return f -&gt; f.dedupeResponseHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, strategy)\r\n            .dedupeResponseHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_CREDENTIALS, strategy);\r\n    }\r\n\r\n}","title":"DedupeResponseHeader In Spring boot Gateway not working","body":"<p>Had a similar issue. I tried to configure DedupeResponseHeader in yml config but this filter was not appling to my routes. I did not find why and decided to configure DedupeResponseHeader in code. This is how my routing config looks like:</p>\n<pre><code>@Configuration\npublic class RoutingConfig {\n\n@Bean\npublic RouteLocator routing(RouteLocatorBuilder builder) {\n    return builder.routes()\n        .route(r -&gt; r.path(&quot;/api/v1/orders/**&quot;).filters(dedupeResponseHeaders()).uri(&quot;http://example.com&quot;))\n        .build();\n}\n\n/**\n * To remove duplicated CORS headers which might appear because they added by gateway and by downstream service\n */\nprivate Function&lt;GatewayFilterSpec, UriSpec&gt; dedupeResponseHeaders() {\n    String strategy = DedupeResponseHeaderGatewayFilterFactory.Strategy.RETAIN_FIRST.name();\n    return f -&gt; f.dedupeResponseHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, strategy)\n        .dedupeResponseHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_CREDENTIALS, strategy);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":29688360,"reputation":1,"user_id":22753282,"display_name":"Nguyen Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1700826344,"creation_date":1699982245,"question_id":77482576,"body_markdown":"i had a problem while trying to configure my gateway in spring cloud, I have added the following code in the yml file:\r\n```\r\nspring:\r\n  main:\r\n    allow-bean-definition-overriding: true\r\n  application:\r\n    name: &quot;gateway&quot;\r\n  cloud:\r\n    gateway:\r\n      default-filters:\r\n        - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials, RETAIN_UNIQUE\r\n      globalcors:\r\n        corsConfigurations:\r\n          &#39;[/**]&#39;:\r\n            allowedOrigins: &quot;*&quot;\r\n            allowedHeaders: &quot;*&quot;\r\n            allowedMethods: &quot;*&quot;\r\n            allowCredentials: true\r\n```\r\n\r\nBut when I receive the return response still includes `2 fields Access-Control-Allow-Origin` in the response header, this causes the CORS error below:\r\n[![enter image description here](https://i.stack.imgur.com/Epvan.png)](https://i.stack.imgur.com/Epvan.png)\r\n\r\n```\r\nAccess to XMLHttpRequest at &#39;https://xxxxx/api/authentication/send-sign-in-code&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: The &#39;Access-Control-Allow-Origin&#39; header contains multiple values &#39;*, *&#39;, but only one is allowed.\r\n```\r\nWhy doesn&#39;t DedupeResponseHeader work here? Thanks everyone and happy coding\r\n\r\n\r\ni tried changing `allowedOrigins` to `&quot;http://localhost:3000&quot;` but it still doesn&#39;t work and get the same error.","title":"DedupeResponseHeader In Spring boot Gateway not working","body":"<p>i had a problem while trying to configure my gateway in spring cloud, I have added the following code in the yml file:</p>\n<pre><code>spring:\n  main:\n    allow-bean-definition-overriding: true\n  application:\n    name: &quot;gateway&quot;\n  cloud:\n    gateway:\n      default-filters:\n        - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials, RETAIN_UNIQUE\n      globalcors:\n        corsConfigurations:\n          '[/**]':\n            allowedOrigins: &quot;*&quot;\n            allowedHeaders: &quot;*&quot;\n            allowedMethods: &quot;*&quot;\n            allowCredentials: true\n</code></pre>\n<p>But when I receive the return response still includes <code>2 fields Access-Control-Allow-Origin</code> in the response header, this causes the CORS error below:\n<a href=\"https://i.stack.imgur.com/Epvan.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Epvan.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Access to XMLHttpRequest at 'https://xxxxx/api/authentication/send-sign-in-code' from origin 'http://localhost:3000' has been blocked by CORS policy: The 'Access-Control-Allow-Origin' header contains multiple values '*, *', but only one is allowed.\n</code></pre>\n<p>Why doesn't DedupeResponseHeader work here? Thanks everyone and happy coding</p>\n<p>i tried changing <code>allowedOrigins</code> to <code>&quot;http://localhost:3000&quot;</code> but it still doesn't work and get the same error.</p>\n"},{"tags":["java","string","performance","optimization","pattern-matching"],"owner":{"account_id":18573566,"reputation":1,"user_id":13625448,"display_name":"Неуч"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700891771,"answer_count":1,"score":-1,"last_activity_date":1700825927,"creation_date":1700822005,"question_id":77542458,"body_markdown":"    @Service\r\n    public class LogServiceImpl implements LogService {\r\n    \r\n        public static final String LOG_FILE_NAME = System.getenv(&quot;LOG_FILE_NAME&quot;);\r\n        private static final String LOG_PATTERN = &quot;(\\\\d{4}-\\\\d{2}-\\\\d{2} \\\\d{2}:\\\\d{2}:\\\\d{2},\\\\d+ [+-]\\\\d{4}) \\\\[([^\\\\]]+)\\\\] ([A-Z]+)\\\\s*\\\\(([^:]+:\\\\d+)\\\\) - (.*)&quot;;\r\n    \r\n        private final Logger logger = Logger.getLogger(LogServiceImpl.class);\r\n    \r\n    \r\n        private String getLogString() {\r\n            String logString;\r\n            try {\r\n                logString = new String(Files.readAllBytes(Paths.get(LOG_FILE_NAME)));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n            return logString;\r\n        }\r\n    \r\n        @Override\r\n        public LogsResponseModel getLogs(LocalDateTime startDate, LocalDateTime endDate, int limit, int offset, List&lt;TypeOfLog&gt; typeList, String searchString) {\r\n            List&lt;LogModel&gt; logModels = parseLogs(getLogString());\r\n    \r\n    \r\n            int countBeforeFiltering = logModels.size();\r\n    \r\n            logModels = logModels.stream()\r\n                    .filter(log -&gt; log.getTimestamp().isAfter(startDate) &amp;&amp; log.getTimestamp().isBefore(endDate))\r\n                    .collect(Collectors.toList());\r\n    \r\n            if (typeList != null &amp;&amp; !typeList.isEmpty()) {\r\n                logModels = logModels.stream()\r\n                        .filter(log -&gt; typeList.stream().anyMatch(type -&gt; log.getLogLevel().equals(type.value())))\r\n                        .collect(Collectors.toList());\r\n            }\r\n    \r\n            if (searchString != null &amp;&amp; !searchString.isEmpty()) {\r\n                logModels = logModels.stream()\r\n                        .filter(log -&gt; log.toString().contains(searchString))\r\n                        .collect(Collectors.toList());\r\n            }\r\n    \r\n            int count = logModels.size();\r\n    \r\n            int fromIndex = Math.min(offset, logModels.size());\r\n            int toIndex = Math.min(offset + limit, logModels.size());\r\n            logModels = logModels.subList(fromIndex, toIndex);\r\n    \r\n            return new LogsResponseModel(count, logModels);\r\n        }\r\n    \r\n    \r\n        private List&lt;LogModel&gt; parseLogs(String logString) {\r\n            List&lt;LogModel&gt; logs = new ArrayList&lt;&gt;();\r\n            Pattern pattern = Pattern.compile(LOG_PATTERN);\r\n            Matcher matcher = pattern.matcher(logString);\r\n            while (matcher.find()) {\r\n                LocalDateTime dateTime = LocalDateTime.parse(matcher.group(1), DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss,SSS Z&quot;));\r\n                LogModel logEntry = new LogModel(dateTime, matcher.group(3), matcher.group(4), matcher.group(2), matcher.group(5));\r\n                logs.add(logEntry);\r\n            }\r\n            return logs;\r\n        }\r\n    }\r\n\r\nI have this code. With 50mb file it works like 1.5 sec. \r\n\r\nFor my needs it should work match faster.\r\n\r\nI believe that the slowest place is reading String from file, but I cant profile this through docker container\r\n\r\nAny suggestions how to make it faster?\r\n","title":"Code optimization = why my code runs so slow?","body":"<pre><code>@Service\npublic class LogServiceImpl implements LogService {\n\n    public static final String LOG_FILE_NAME = System.getenv(&quot;LOG_FILE_NAME&quot;);\n    private static final String LOG_PATTERN = &quot;(\\\\d{4}-\\\\d{2}-\\\\d{2} \\\\d{2}:\\\\d{2}:\\\\d{2},\\\\d+ [+-]\\\\d{4}) \\\\[([^\\\\]]+)\\\\] ([A-Z]+)\\\\s*\\\\(([^:]+:\\\\d+)\\\\) - (.*)&quot;;\n\n    private final Logger logger = Logger.getLogger(LogServiceImpl.class);\n\n\n    private String getLogString() {\n        String logString;\n        try {\n            logString = new String(Files.readAllBytes(Paths.get(LOG_FILE_NAME)));\n        } catch (IOException e) {\n            e.printStackTrace();\n            return null;\n        }\n        return logString;\n    }\n\n    @Override\n    public LogsResponseModel getLogs(LocalDateTime startDate, LocalDateTime endDate, int limit, int offset, List&lt;TypeOfLog&gt; typeList, String searchString) {\n        List&lt;LogModel&gt; logModels = parseLogs(getLogString());\n\n\n        int countBeforeFiltering = logModels.size();\n\n        logModels = logModels.stream()\n                .filter(log -&gt; log.getTimestamp().isAfter(startDate) &amp;&amp; log.getTimestamp().isBefore(endDate))\n                .collect(Collectors.toList());\n\n        if (typeList != null &amp;&amp; !typeList.isEmpty()) {\n            logModels = logModels.stream()\n                    .filter(log -&gt; typeList.stream().anyMatch(type -&gt; log.getLogLevel().equals(type.value())))\n                    .collect(Collectors.toList());\n        }\n\n        if (searchString != null &amp;&amp; !searchString.isEmpty()) {\n            logModels = logModels.stream()\n                    .filter(log -&gt; log.toString().contains(searchString))\n                    .collect(Collectors.toList());\n        }\n\n        int count = logModels.size();\n\n        int fromIndex = Math.min(offset, logModels.size());\n        int toIndex = Math.min(offset + limit, logModels.size());\n        logModels = logModels.subList(fromIndex, toIndex);\n\n        return new LogsResponseModel(count, logModels);\n    }\n\n\n    private List&lt;LogModel&gt; parseLogs(String logString) {\n        List&lt;LogModel&gt; logs = new ArrayList&lt;&gt;();\n        Pattern pattern = Pattern.compile(LOG_PATTERN);\n        Matcher matcher = pattern.matcher(logString);\n        while (matcher.find()) {\n            LocalDateTime dateTime = LocalDateTime.parse(matcher.group(1), DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss,SSS Z&quot;));\n            LogModel logEntry = new LogModel(dateTime, matcher.group(3), matcher.group(4), matcher.group(2), matcher.group(5));\n            logs.add(logEntry);\n        }\n        return logs;\n    }\n}\n</code></pre>\n<p>I have this code. With 50mb file it works like 1.5 sec.</p>\n<p>For my needs it should work match faster.</p>\n<p>I believe that the slowest place is reading String from file, but I cant profile this through docker container</p>\n<p>Any suggestions how to make it faster?</p>\n"},{"tags":["java","trace","open-telemetry","mdc"],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700825328,"creation_date":1700825328,"answer_id":77542789,"question_id":77542737,"body_markdown":"Always clear the MDC after use.  The MDC is tied to a thread but thread pooling can make it visible to subsequent requests.\r\n\r\n```\r\npublic class TracingFilter implements Filter {\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException,\r\n            ServletException {\r\n        Tracer tracer = OpenTelemetrySdk.builder()\r\n                        .setTracerProvider(SdkTracerProvider.builder().build()).build()\r\n                        .getTracer(&quot;oTelTracer&quot;);\r\n        Span restSpan = tracer.spanBuilder(&quot;restSpan&quot;).setParent(Context.root()).startSpan();\r\n        try {\r\n            MDC.put(&quot;traceId&quot;, restSpan.getSpanContext().getTraceId());\r\n            MDC.put(&quot;spanId&quot;, restSpan.getSpanContext().getSpanId());\r\n            chain.doFilter(request, response);\r\n        } finally {\r\n            MDC.clear();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Getting two traceId and spanId in my MDC logs","body":"<p>Always clear the MDC after use.  The MDC is tied to a thread but thread pooling can make it visible to subsequent requests.</p>\n<pre><code>public class TracingFilter implements Filter {\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException,\n            ServletException {\n        Tracer tracer = OpenTelemetrySdk.builder()\n                        .setTracerProvider(SdkTracerProvider.builder().build()).build()\n                        .getTracer(&quot;oTelTracer&quot;);\n        Span restSpan = tracer.spanBuilder(&quot;restSpan&quot;).setParent(Context.root()).startSpan();\n        try {\n            MDC.put(&quot;traceId&quot;, restSpan.getSpanContext().getTraceId());\n            MDC.put(&quot;spanId&quot;, restSpan.getSpanContext().getSpanId());\n            chain.doFilter(request, response);\n        } finally {\n            MDC.clear();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29982570,"reputation":1,"user_id":22977243,"display_name":"Abhishek Pandit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700825328,"creation_date":1700824776,"question_id":77542737,"body_markdown":"I am using opentelemetry for distributed logging. I have a TracingFilter from which I am putting the traceId and spanId in MDC so that I can use it later for some tracking purpose.\r\n\r\nTracingFilter.java\r\n\r\n```\r\npublic class TracingFilter implements Filter {\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException,\r\n            ServletException {\r\n        Tracer tracer = OpenTelemetrySdk.builder()\r\n                        .setTracerProvider(SdkTracerProvider.builder().build()).build()\r\n                        .getTracer(&quot;oTelTracer&quot;);\r\n        Span restSpan = tracer.spanBuilder(&quot;restSpan&quot;).setParent(Context.root()).startSpan();\r\n        MDC.put(&quot;traceId&quot;, restSpan.getSpanContext().getTraceId());\r\n        MDC.put(&quot;spanId&quot;, restSpan.getSpanContext().getSpanId());\r\n        chain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\nWhen I see logs I can see two traceIds in like this\r\n\r\n`[traceId=24bfdd47cbca0307, spanId=Vd7kdIYE4jIkv91Hy8oDByS/3UfLygMHAAAAAAAAAAA=, corrId=65a48a13-93cb-497b-a1d3-025b95351b40, trace_id=74f80fbcdcf3ecda30f0d62956c3d67a, trace_flags=01, span_id=a95f524c0383f822]\r\n`\r\n\r\nI want only one traceId in my logs. What am I missing here?\r\n\r\nI have tried to change how Tracer is created.","title":"Getting two traceId and spanId in my MDC logs","body":"<p>I am using opentelemetry for distributed logging. I have a TracingFilter from which I am putting the traceId and spanId in MDC so that I can use it later for some tracking purpose.</p>\n<p>TracingFilter.java</p>\n<pre><code>public class TracingFilter implements Filter {\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException,\n            ServletException {\n        Tracer tracer = OpenTelemetrySdk.builder()\n                        .setTracerProvider(SdkTracerProvider.builder().build()).build()\n                        .getTracer(&quot;oTelTracer&quot;);\n        Span restSpan = tracer.spanBuilder(&quot;restSpan&quot;).setParent(Context.root()).startSpan();\n        MDC.put(&quot;traceId&quot;, restSpan.getSpanContext().getTraceId());\n        MDC.put(&quot;spanId&quot;, restSpan.getSpanContext().getSpanId());\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>When I see logs I can see two traceIds in like this</p>\n<p><code>[traceId=24bfdd47cbca0307, spanId=Vd7kdIYE4jIkv91Hy8oDByS/3UfLygMHAAAAAAAAAAA=, corrId=65a48a13-93cb-497b-a1d3-025b95351b40, trace_id=74f80fbcdcf3ecda30f0d62956c3d67a, trace_flags=01, span_id=a95f524c0383f822] </code></p>\n<p>I want only one traceId in my logs. What am I missing here?</p>\n<p>I have tried to change how Tracer is created.</p>\n"},{"tags":["java","spring","spring-boot","feign"],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700824735,"creation_date":1700824735,"question_id":77542730,"body_markdown":"I have a runnable task like so:\r\n```\r\npublic class Computation implements Runnable {\r\n    FeignClientInterface feignClient;\r\n\r\n    public Computation(FeignClientInterface feignClient) {\r\n        this.feignClient = feignClient;\r\n    }\r\n    @Override\r\n    public void run() {\r\n        feignClient.status(authorizationHeader, &quot;Ready&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am calling it inside a `DelegatingSecurityContextAsyncTaskExecutor` like so:\r\n```\r\nComputation computation = new Computation();\r\nDelegatingSecurityContextAsyncTaskExecutor delegatingSecurityContextAsyncTaskExecutor = new DelegatingSecurityContextAsyncTaskExecutor(taskExecutor);\r\ndelegatingSecurityContextAsyncTaskExecutor.submit(computation);\r\n```\r\n\r\nThis project has a dependency that contains multiple `Filter` classes to handle exceptions. They are enabled by an annotation that imports `@Configuration` classes that create `@Bean` for each filter. This annotation is added to the main class of the project.\r\n\r\nThese filters work perfectly when I call the endpoint normally (not asynchonously/inside a runnable). However, when I execute the code like the one above, it never reaches the filters anymore (regardless of whether an exception is thrown or not).\r\n\r\nthe `Filter` class itself does not seem to mention whether it has a specific issue with asynchronous tasks so I am at a loss as to why the Filters are not triggered.","title":"Feign endpoint called within DelegatingSecurityContextAsyncTaskExecutor is not caught by Filter","body":"<p>I have a runnable task like so:</p>\n<pre><code>public class Computation implements Runnable {\n    FeignClientInterface feignClient;\n\n    public Computation(FeignClientInterface feignClient) {\n        this.feignClient = feignClient;\n    }\n    @Override\n    public void run() {\n        feignClient.status(authorizationHeader, &quot;Ready&quot;);\n    }\n}\n</code></pre>\n<p>I am calling it inside a <code>DelegatingSecurityContextAsyncTaskExecutor</code> like so:</p>\n<pre><code>Computation computation = new Computation();\nDelegatingSecurityContextAsyncTaskExecutor delegatingSecurityContextAsyncTaskExecutor = new DelegatingSecurityContextAsyncTaskExecutor(taskExecutor);\ndelegatingSecurityContextAsyncTaskExecutor.submit(computation);\n</code></pre>\n<p>This project has a dependency that contains multiple <code>Filter</code> classes to handle exceptions. They are enabled by an annotation that imports <code>@Configuration</code> classes that create <code>@Bean</code> for each filter. This annotation is added to the main class of the project.</p>\n<p>These filters work perfectly when I call the endpoint normally (not asynchonously/inside a runnable). However, when I execute the code like the one above, it never reaches the filters anymore (regardless of whether an exception is thrown or not).</p>\n<p>the <code>Filter</code> class itself does not seem to mention whether it has a specific issue with asynchronous tasks so I am at a loss as to why the Filters are not triggered.</p>\n"},{"tags":["java","algorithm","recursion","depth-first-search"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":2,"creation_date":1700809833,"post_id":77541166,"comment_id":136700924,"body_markdown":"The output you provided is not generated by the code you have provided. Notably the first three lines of output... Please provide the code that initialises the grid and calls your function.","body":"The output you provided is not generated by the code you have provided. Notably the first three lines of output... Please provide the code that initialises the grid and calls your function."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700810112,"post_id":77541166,"comment_id":136700965,"body_markdown":"Ok cool will do!.","body":"Ok cool will do!."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700810429,"post_id":77541166,"comment_id":136701006,"body_markdown":"@trincot do you know how to link in files?","body":"@trincot do you know how to link in files?"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700810494,"post_id":77541166,"comment_id":136701016,"body_markdown":"You shouldn&#39;t link to files. The relevent code should be embedded inside the question, but only enough code to reproduce the problem. Not more, not less.","body":"You shouldn&#39;t link to files. The relevent code should be embedded inside the question, but only enough code to reproduce the problem. Not more, not less."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700810748,"post_id":77541166,"comment_id":136701061,"body_markdown":"Well I want to upload the .java files somehow?","body":"Well I want to upload the .java files somehow?"},{"owner":{"account_id":8306545,"reputation":47686,"user_id":6243352,"display_name":"ggorlen"},"score":1,"creation_date":1700811070,"post_id":77541166,"comment_id":136701100,"body_markdown":"No need to upload files, just copy the text as a [mcve]. Please format the code. If there&#39;s too much of it to share, then please minimize it further so it&#39;s in scope and answerable, without anything extra.","body":"No need to upload files, just copy the text as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Please format the code. If there&#39;s too much of it to share, then please minimize it further so it&#39;s in scope and answerable, without anything extra."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700811133,"post_id":77541166,"comment_id":136701111,"body_markdown":"There you go I tried to keep down the code simple so I wouldnt have to make you read all 3 .java files but I guess they are required for the problem to be understood!","body":"There you go I tried to keep down the code simple so I wouldnt have to make you read all 3 .java files but I guess they are required for the problem to be understood!"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":1,"creation_date":1700811344,"post_id":77541166,"comment_id":136701158,"body_markdown":"Please improve the quality of the code. Indention , remove empty lines (, maybe some comments what your intentions are in non trivial parts of the code ) ...","body":"Please improve the quality of the code. Indention , remove empty lines (, maybe some comments what your intentions are in non trivial parts of the code ) ..."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700812139,"post_id":77541166,"comment_id":136701281,"body_markdown":"Please clean up your question. You have now provided some pieces of code twice.","body":"Please clean up your question. You have now provided some pieces of code twice."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700812341,"post_id":77541166,"comment_id":136701314,"body_markdown":"Please explain what the expected output is.","body":"Please explain what the expected output is."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700812401,"post_id":77541166,"comment_id":136701322,"body_markdown":"@trincot you want me to remove off the code blocks before the edit?","body":"@trincot you want me to remove off the code blocks before the edit?"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700812465,"post_id":77541166,"comment_id":136701337,"body_markdown":"I think it is clear what I wrote? Avoid duplicate code in the question. So yes, remove the code blocks that you repeat later.","body":"I think it is clear what I wrote? Avoid duplicate code in the question. So yes, remove the code blocks that you repeat later."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700812599,"post_id":77541166,"comment_id":136701356,"body_markdown":"Well I expected :&quot;0 1 2 -&gt;Path has been blocked! 1 4 -&gt;Path has been blocked&quot; but it instead is looping in &quot;1 2&quot;.It takes out of account the 1 4 possible path.","body":"Well I expected :&quot;0 1 2 -&gt;Path has been blocked! 1 4 -&gt;Path has been blocked&quot; but it instead is looping in &quot;1 2&quot;.It takes out of account the 1 4 possible path."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700812965,"post_id":77541166,"comment_id":136701416,"body_markdown":"It is looping because you haven&#39;t coded that a cell shouldn&#39;t be visited twice.","body":"It is looping because you haven&#39;t coded that a cell shouldn&#39;t be visited twice."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700813083,"post_id":77541166,"comment_id":136701432,"body_markdown":"But why is it looping?I dont understand.If the path leads to a dead end , we enter in our base case of recursion.","body":"But why is it looping?I dont understand.If the path leads to a dead end , we enter in our base case of recursion."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700813354,"post_id":77541166,"comment_id":136701465,"body_markdown":"Yes, and then the caller of that recursive call will call `calc` on a position that it came from -&gt; cycle.","body":"Yes, and then the caller of that recursive call will call <code>calc</code> on a position that it came from -&gt; cycle."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700813445,"post_id":77541166,"comment_id":136701486,"body_markdown":"But isnt it that the point?To check over all possible paths starting from 1 node?When the recursive function returns a number it will move to the next instruction which is to move to the bottom.","body":"But isnt it that the point?To check over all possible paths starting from 1 node?When the recursive function returns a number it will move to the next instruction which is to move to the bottom."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700813970,"post_id":77541166,"comment_id":136701556,"body_markdown":"It is OK to come back to the same node (when unwinding recursion), but it is wrong to make a recursive call to a node you have already visited. That produces a cycle in your search path, and you keep running in circles, going ever deeper into recursion","body":"It is OK to come back to the same node (when unwinding recursion), but it is wrong to make a recursive call to a node you have already visited. That produces a cycle in your search path, and you keep running in circles, going ever deeper into recursion"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700824094,"creation_date":1700814129,"answer_id":77541631,"question_id":77541166,"body_markdown":"You have not implemented the notion of &quot;visited&quot;. Positions that you have visited, should not be visited again. This is a basic principle in search algorithms. A node is called &quot;visited&quot; when you are ready to look at its neighbors. As you make a recursive call for a neighbor, that neighbor gets visited. If that neighbor is found to already have been visited, that indicates that neighbor is on the path you have already traversed, and so it should not be visited again. If you would, you would run in cycles, which is the problem you have encountered.\r\n\r\nSo you need to maintain a visited status somewhere. There are many ways to do that. One is to add a boolean field to `Node`.\r\n\r\n```\r\npublic class Node\r\n{\r\n    private int position;\r\n    private int type;\r\n    private boolean IsExit;\r\n    private boolean isVisited; // See also getter &amp; setter\r\n\r\n    public Node(int position,int type,boolean IsExit)\r\n    {\r\n        this.position = position;\r\n        this.type = type;\r\n        this.IsExit = IsExit;\r\n        this.isVisited = false;\r\n    }\r\n\r\n    public int getPosition()\r\n    {\r\n        return position;\r\n    }\r\n    \r\n    public int getType()\r\n    {\r\n        return type;\r\n    }\r\n    \r\n    public boolean getIsExit()\r\n    {\r\n        return IsExit;\r\n    }\r\n\r\n    public void setIsExit(boolean b)\r\n    {\r\n        IsExit = b;\r\n    }\r\n\r\n    public boolean getIsVisited() {\r\n        return isVisited;\r\n    }\r\n    \r\n    public void setIsVisited(boolean b) {\r\n        isVisited = b;\r\n    }\r\n}\r\n```\r\n\r\nI would also suggest to have `calc` return a `boolean` instead of `int`, since that is really what you do there: either the search succeeds, or it doesn&#39;t.\r\n\r\nAnother problem is that the change you make to `position` just before making the recursive call, should be reverted once you are back. Otherwise the calculation for the next neighbor position will be wrong.\r\n\r\nSo for example this:\r\n\r\n```\r\n    {\r\n        position[0]++;\r\n        calc(position);\r\n    }\r\n``` \r\n\r\nshould become:\r\n\r\n\r\n```\r\n    {\r\n        position[0]++;\r\n        calc(position);\r\n        position[0]--; // Bring position back to the original\r\n    }\r\n``` \r\n\r\nThis is quite cumbersome. Moreover, `position` should not be a field; it is just a local piece of information that is passed along with each recursive call. \r\n\r\nIt will also be easier if you don&#39;t pass `position` as an array of two, but pass two separate `int`s, one for `row`, one for `col`. \r\n\r\nHere is the updated `calc` method:\r\n\r\n```\r\nimport java.lang.System;\r\n\r\nclass DeepFirstSearch extends SearchAlgorithm {\r\n    public DeepFirstSearch(int gridSize) {\r\n        super(gridSize);\r\n    }\r\n        \r\n    public boolean calc(int row, int col)\r\n    {\r\n        // Perform all validity checks here, and test node was not yet visited\r\n        if (   row &gt;= gridLength\r\n            || row &lt; 0\r\n            || col &gt;= gridLength\r\n            || col &lt; 0\r\n            || grid[row][col].getIsVisited()\r\n        ) {\r\n            return false; // Target was not found here\r\n        }\r\n        Node node = grid[row][col];\r\n        node.setIsVisited(true); // Mark as visited\r\n        System.out.println(node.getPosition());\r\n        if (node.getType() == 1)\r\n        {\r\n            System.out.println(&quot;Path been blocked!Exit status: false&quot;);\r\n            return false; // Target was not found here\r\n        }\r\n        else if(node.getIsExit())\r\n        {\r\n            System.out.println(&quot;Path been found&quot;);\r\n            return true; // Target found!\r\n        }\r\n        else\r\n        {\r\n            // Use short circuit evaluation: as soon as one of the calls \r\n            //   returns true, no further calls will be made, and the return\r\n            //   value will be true if and only when that happens.\r\n            return calc(row + 1, col) || calc(row - 1, col) \r\n                || calc(row, col + 1) || calc(row, col - 1); \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe initial call should then be:\r\n\r\n```\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        DeepFirstSearch sch = new DeepFirstSearch(9);\r\n        sch.print();\r\n        sch.calc(0, 0);\r\n    }\r\n}\r\n```\r\n","title":"Depth first search implementation: algorithm keeps on searching out only to the right","body":"<p>You have not implemented the notion of &quot;visited&quot;. Positions that you have visited, should not be visited again. This is a basic principle in search algorithms. A node is called &quot;visited&quot; when you are ready to look at its neighbors. As you make a recursive call for a neighbor, that neighbor gets visited. If that neighbor is found to already have been visited, that indicates that neighbor is on the path you have already traversed, and so it should not be visited again. If you would, you would run in cycles, which is the problem you have encountered.</p>\n<p>So you need to maintain a visited status somewhere. There are many ways to do that. One is to add a boolean field to <code>Node</code>.</p>\n<pre><code>public class Node\n{\n    private int position;\n    private int type;\n    private boolean IsExit;\n    private boolean isVisited; // See also getter &amp; setter\n\n    public Node(int position,int type,boolean IsExit)\n    {\n        this.position = position;\n        this.type = type;\n        this.IsExit = IsExit;\n        this.isVisited = false;\n    }\n\n    public int getPosition()\n    {\n        return position;\n    }\n    \n    public int getType()\n    {\n        return type;\n    }\n    \n    public boolean getIsExit()\n    {\n        return IsExit;\n    }\n\n    public void setIsExit(boolean b)\n    {\n        IsExit = b;\n    }\n\n    public boolean getIsVisited() {\n        return isVisited;\n    }\n    \n    public void setIsVisited(boolean b) {\n        isVisited = b;\n    }\n}\n</code></pre>\n<p>I would also suggest to have <code>calc</code> return a <code>boolean</code> instead of <code>int</code>, since that is really what you do there: either the search succeeds, or it doesn't.</p>\n<p>Another problem is that the change you make to <code>position</code> just before making the recursive call, should be reverted once you are back. Otherwise the calculation for the next neighbor position will be wrong.</p>\n<p>So for example this:</p>\n<pre><code>    {\n        position[0]++;\n        calc(position);\n    }\n</code></pre>\n<p>should become:</p>\n<pre><code>    {\n        position[0]++;\n        calc(position);\n        position[0]--; // Bring position back to the original\n    }\n</code></pre>\n<p>This is quite cumbersome. Moreover, <code>position</code> should not be a field; it is just a local piece of information that is passed along with each recursive call.</p>\n<p>It will also be easier if you don't pass <code>position</code> as an array of two, but pass two separate <code>int</code>s, one for <code>row</code>, one for <code>col</code>.</p>\n<p>Here is the updated <code>calc</code> method:</p>\n<pre><code>import java.lang.System;\n\nclass DeepFirstSearch extends SearchAlgorithm {\n    public DeepFirstSearch(int gridSize) {\n        super(gridSize);\n    }\n        \n    public boolean calc(int row, int col)\n    {\n        // Perform all validity checks here, and test node was not yet visited\n        if (   row &gt;= gridLength\n            || row &lt; 0\n            || col &gt;= gridLength\n            || col &lt; 0\n            || grid[row][col].getIsVisited()\n        ) {\n            return false; // Target was not found here\n        }\n        Node node = grid[row][col];\n        node.setIsVisited(true); // Mark as visited\n        System.out.println(node.getPosition());\n        if (node.getType() == 1)\n        {\n            System.out.println(&quot;Path been blocked!Exit status: false&quot;);\n            return false; // Target was not found here\n        }\n        else if(node.getIsExit())\n        {\n            System.out.println(&quot;Path been found&quot;);\n            return true; // Target found!\n        }\n        else\n        {\n            // Use short circuit evaluation: as soon as one of the calls \n            //   returns true, no further calls will be made, and the return\n            //   value will be true if and only when that happens.\n            return calc(row + 1, col) || calc(row - 1, col) \n                || calc(row, col + 1) || calc(row, col - 1); \n        }\n    }\n}\n</code></pre>\n<p>The initial call should then be:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        DeepFirstSearch sch = new DeepFirstSearch(9);\n        sch.print();\n        sch.calc(0, 0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77541631,"answer_count":1,"score":0,"last_activity_date":1700824094,"creation_date":1700808201,"question_id":77541166,"body_markdown":"I have a Depth First Search exercise.\r\n\r\nThe goal of this exercise is to find a valid path from the beginning of the maze to the end.\r\n\r\nThis is my code:\r\n\r\n### Node.java\r\n\r\n```java\r\npublic class Node\r\n{\r\n    private int position;\r\n    private int type;\r\n    private boolean IsExit;\r\n \r\n    public Node(int position,int type,boolean IsExit)\r\n    {\r\n        this.position = position;\r\n        this.type = type;\r\n        this.IsExit = IsExit;\r\n    }\r\n\r\n    public int getPosition()\r\n    {\r\n        return position;\r\n    }\r\n    \r\n    public int getType()\r\n    {\r\n        return type;\r\n    }\r\n    \r\n    public boolean getIsExit()\r\n    {\r\n        return IsExit;\r\n    }\r\n\r\n    public void setIsExit(boolean b)\r\n    {\r\n        IsExit = b;\r\n    }\r\n}\r\n```\r\n\r\n### SearchAlgorithm.java\r\n\r\n```java\r\nimport java.util.Random;\r\nimport java.lang.System;\r\n\r\npublic class SearchAlgorithm\r\n{\r\n    protected int gridSize;\r\n    protected int gridLength;\r\n    protected Node[][] grid;\r\n    \r\n    public SearchAlgorithm(int gridSize)\r\n    {\r\n        int gridLength  = (int) Math.sqrt(gridSize);\r\n        this.gridSize = gridSize;\r\n        this.gridLength = gridLength;\r\n        Node[][]arr = new Node[gridLength][gridLength];\r\n        Random r = new Random();\r\n        for(int i=0;i&lt;gridSize;i++)\r\n        {\r\n            Node n;\r\n            if(i==0)\r\n            {\r\n                n= new Node(i,0,false);\r\n                arr[i][i] = n;\r\n            }\r\n            else if(i==gridSize-1)\r\n            {\r\n                n = new Node(i,0,true);\r\n                arr[gridLength-1][gridLength-1] = n;\r\n            }\r\n            else\r\n            {\r\n                int x = i%gridLength;\r\n                int y = i/gridLength;\r\n                n = new Node(i,r.nextInt(2),false);\r\n                arr[x][y] = n;\r\n            }\r\n        }\r\n        this.grid = arr;\r\n    }\r\n        \r\n    public void print()\r\n    {\r\n        for(int i=0;i&lt;gridLength;i++)\r\n        {\r\n           for(int j=0;j&lt;gridLength;j++)\r\n           {\r\n                System.out.print(&quot;Position:&quot;+grid[j][i].getPosition()+&quot; Type:&quot;+grid[j][i].getType()+&quot; &quot;);\r\n           }\r\n           System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe `grid` is a 2 dimensional array of the class `Node`: It has 2 coordinates x and y. X is found by `Node.position%i` and Y is found by `Node.position/i`.\r\n\r\n### DeepFirstSearch.java\r\n\r\n```java\r\nimport java.lang.System;\r\n\r\npublic class DeepFirstSearch extends SearchAlgorithm {\r\n    private  int[] position;\r\n\r\n    public DeepFirstSearch(int gridSize) {\r\n        super(gridSize);\r\n        position = new int[2];\r\n        position[0]=0;\r\n        position[1]=0;\r\n    }\r\n    \r\n    public int calc(int[]position)\r\n    {\r\n        System.out.println(grid[position[0]][position[1]].getPosition());\r\n        if(grid[position[0]][position[1]].getType()==1)\r\n        {\r\n           System.out.println(&quot;Path been blocked!Exit status:&quot;+1);\r\n           return 1;\r\n        }\r\n        else if(grid[position[0]][position[1]].getIsExit())\r\n        {\r\n            System.out.println(&quot;Path been found&quot;);\r\n            return 0;\r\n        }\r\n        else\r\n        {\r\n            if(position[0]&lt;gridLength-1)\r\n            {\r\n               position[0]++;\r\n               calc(position);\r\n            }\r\n            if(position[0]&gt;0)\r\n            {\r\n                position[0]--;\r\n                calc(position);\r\n            }\r\n            if(position[1]&lt;gridLength-1)\r\n            {\r\n                position[1]++;\r\n                calc(position);\r\n            }\r\n            if(position[1]&gt;0)\r\n            {\r\n                position[1]--;\r\n                calc(position);\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n```\r\n\r\nThe `int[] position` stores the position of the current `Node`. If we hit a `Node` with `Node.getType()==1` then the path is not valid. A `Node` with `getIsExit()==true` is the desired destination (it is only 1 in my example).\r\n\r\n### Main.java\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        DeepFirstSearch sch = new DeepFirstSearch(9);\r\n        sch.print();\r\n        int[]pos = {0,0};\r\n        sch.calc(pos);\r\n    }\r\n}\r\n```\r\n\r\nI set up the initial position to `{0,0}` in the `main` function.\r\n\r\nThe issue is that when I run the program I get this output:\r\n\r\n```none\r\nPosition:0 Type:0 Position:1 Type:0 Position:2 Type:1 \r\nPosition:3 Type:1 Position:4 Type:1 Position:5 Type:1 \r\nPosition:6 Type:0 Position:7 Type:1 Position:8 Type:0 \r\n0\r\n1\r\n2\r\nPath been blocked!Exit status:1\r\n1\r\n2\r\nPath been blocked!Exit status:1\r\n1\r\n2\r\nPath been blocked!Exit status:1\r\n1\r\n2\r\nPath been blocked!Exit status:1\r\n1\r\n2\r\n...\r\n```\r\n\r\nand so it continues on until a `StackOverflowException` is thrown. Why does the algorithm keep on visiting the same nodes?","title":"Depth first search implementation: algorithm keeps on searching out only to the right","body":"<p>I have a Depth First Search exercise.</p>\n<p>The goal of this exercise is to find a valid path from the beginning of the maze to the end.</p>\n<p>This is my code:</p>\n<h3>Node.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Node\n{\n    private int position;\n    private int type;\n    private boolean IsExit;\n \n    public Node(int position,int type,boolean IsExit)\n    {\n        this.position = position;\n        this.type = type;\n        this.IsExit = IsExit;\n    }\n\n    public int getPosition()\n    {\n        return position;\n    }\n    \n    public int getType()\n    {\n        return type;\n    }\n    \n    public boolean getIsExit()\n    {\n        return IsExit;\n    }\n\n    public void setIsExit(boolean b)\n    {\n        IsExit = b;\n    }\n}\n</code></pre>\n<h3>SearchAlgorithm.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\nimport java.lang.System;\n\npublic class SearchAlgorithm\n{\n    protected int gridSize;\n    protected int gridLength;\n    protected Node[][] grid;\n    \n    public SearchAlgorithm(int gridSize)\n    {\n        int gridLength  = (int) Math.sqrt(gridSize);\n        this.gridSize = gridSize;\n        this.gridLength = gridLength;\n        Node[][]arr = new Node[gridLength][gridLength];\n        Random r = new Random();\n        for(int i=0;i&lt;gridSize;i++)\n        {\n            Node n;\n            if(i==0)\n            {\n                n= new Node(i,0,false);\n                arr[i][i] = n;\n            }\n            else if(i==gridSize-1)\n            {\n                n = new Node(i,0,true);\n                arr[gridLength-1][gridLength-1] = n;\n            }\n            else\n            {\n                int x = i%gridLength;\n                int y = i/gridLength;\n                n = new Node(i,r.nextInt(2),false);\n                arr[x][y] = n;\n            }\n        }\n        this.grid = arr;\n    }\n        \n    public void print()\n    {\n        for(int i=0;i&lt;gridLength;i++)\n        {\n           for(int j=0;j&lt;gridLength;j++)\n           {\n                System.out.print(&quot;Position:&quot;+grid[j][i].getPosition()+&quot; Type:&quot;+grid[j][i].getType()+&quot; &quot;);\n           }\n           System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>The <code>grid</code> is a 2 dimensional array of the class <code>Node</code>: It has 2 coordinates x and y. X is found by <code>Node.position%i</code> and Y is found by <code>Node.position/i</code>.</p>\n<h3>DeepFirstSearch.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.System;\n\npublic class DeepFirstSearch extends SearchAlgorithm {\n    private  int[] position;\n\n    public DeepFirstSearch(int gridSize) {\n        super(gridSize);\n        position = new int[2];\n        position[0]=0;\n        position[1]=0;\n    }\n    \n    public int calc(int[]position)\n    {\n        System.out.println(grid[position[0]][position[1]].getPosition());\n        if(grid[position[0]][position[1]].getType()==1)\n        {\n           System.out.println(&quot;Path been blocked!Exit status:&quot;+1);\n           return 1;\n        }\n        else if(grid[position[0]][position[1]].getIsExit())\n        {\n            System.out.println(&quot;Path been found&quot;);\n            return 0;\n        }\n        else\n        {\n            if(position[0]&lt;gridLength-1)\n            {\n               position[0]++;\n               calc(position);\n            }\n            if(position[0]&gt;0)\n            {\n                position[0]--;\n                calc(position);\n            }\n            if(position[1]&lt;gridLength-1)\n            {\n                position[1]++;\n                calc(position);\n            }\n            if(position[1]&gt;0)\n            {\n                position[1]--;\n                calc(position);\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n<p>The <code>int[] position</code> stores the position of the current <code>Node</code>. If we hit a <code>Node</code> with <code>Node.getType()==1</code> then the path is not valid. A <code>Node</code> with <code>getIsExit()==true</code> is the desired destination (it is only 1 in my example).</p>\n<h3>Main.java</h3>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        DeepFirstSearch sch = new DeepFirstSearch(9);\n        sch.print();\n        int[]pos = {0,0};\n        sch.calc(pos);\n    }\n}\n</code></pre>\n<p>I set up the initial position to <code>{0,0}</code> in the <code>main</code> function.</p>\n<p>The issue is that when I run the program I get this output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Position:0 Type:0 Position:1 Type:0 Position:2 Type:1 \nPosition:3 Type:1 Position:4 Type:1 Position:5 Type:1 \nPosition:6 Type:0 Position:7 Type:1 Position:8 Type:0 \n0\n1\n2\nPath been blocked!Exit status:1\n1\n2\nPath been blocked!Exit status:1\n1\n2\nPath been blocked!Exit status:1\n1\n2\nPath been blocked!Exit status:1\n1\n2\n...\n</code></pre>\n<p>and so it continues on until a <code>StackOverflowException</code> is thrown. Why does the algorithm keep on visiting the same nodes?</p>\n"},{"tags":["java","sapi"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1700751962,"post_id":77537828,"comment_id":136695099,"body_markdown":"did you try `&amp;lt;` or just `&amp;lt` ?","body":"did you try <code>&amp;lt;</code> or just <code>&amp;lt</code> ?"}],"owner":{"account_id":2152111,"reputation":75,"user_id":1908198,"accept_rate":50,"display_name":"Andr&#233; Henriques"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700823980,"creation_date":1700751424,"question_id":77537828,"body_markdown":"I can&#39;t play a message that contains `&lt;`. From what I understood it is because it&#39;s considered as a XML tag. I could not find a way to escape it. \r\n\r\nI tried to replace it by `&amp;lt;` and play that chars literally. Also tried `SPEAKFLAGS SPF_IS_NOT_XML`, then it speaks the text but ignores the `&lt;`. \r\n\r\nIs there any way to easily speak &quot;lower than&quot; when it finds `&lt;`, as it does with `&gt;`?\r\n","title":"How to escape &quot;&lt;&quot; to be spoken by Microsoft Speech Api v5.4?","body":"<p>I can't play a message that contains <code>&lt;</code>. From what I understood it is because it's considered as a XML tag. I could not find a way to escape it.</p>\n<p>I tried to replace it by <code>&amp;lt;</code> and play that chars literally. Also tried <code>SPEAKFLAGS SPF_IS_NOT_XML</code>, then it speaks the text but ignores the <code>&lt;</code>.</p>\n<p>Is there any way to easily speak &quot;lower than&quot; when it finds <code>&lt;</code>, as it does with <code>&gt;</code>?</p>\n"},{"tags":["java","android","android-studio","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":2013095,"reputation":5352,"user_id":1801072,"display_name":"Sam"},"score":0,"creation_date":1542116342,"post_id":53281612,"comment_id":93446116,"body_markdown":"Why are you walking all the paths in your layouts? I have no idea why you would ever need to do that. Please provide clarity as to what you are trying to accomplish and why you are walking the res paths. As you don&#39;t set res paths unless you are using an outdated structure or a hybrid tool that is using an outdated structure.","body":"Why are you walking all the paths in your layouts? I have no idea why you would ever need to do that. Please provide clarity as to what you are trying to accomplish and why you are walking the res paths. As you don&#39;t set res paths unless you are using an outdated structure or a hybrid tool that is using an outdated structure."},{"owner":{"account_id":3501848,"reputation":21,"user_id":2928438,"display_name":"declan"},"score":0,"creation_date":1542116596,"post_id":53281612,"comment_id":93446288,"body_markdown":"This is a project I have taken over, I am not sure why it is laid out like this. I am just wondering how the resources should be accessed in the AndoidManifest if this is the set up? Would I be better off restructuring?","body":"This is a project I have taken over, I am not sure why it is laid out like this. I am just wondering how the resources should be accessed in the AndoidManifest if this is the set up? Would I be better off restructuring?"},{"owner":{"account_id":2013095,"reputation":5352,"user_id":1801072,"display_name":"Sam"},"score":0,"creation_date":1542117340,"post_id":53281612,"comment_id":93446782,"body_markdown":"I would, yeah. You should use the natural folder structure or you will be fighting little one-off errors like this when it comes down to testing and unit testing and flavors later. The natural structure of a new android project is very easy to follow. Just create a new project to see how it should be laid out. Then start moving yours to match it. Once they match delete the res-dir snippet from your gradle. That will probably clear you up.","body":"I would, yeah. You should use the natural folder structure or you will be fighting little one-off errors like this when it comes down to testing and unit testing and flavors later. The natural structure of a new android project is very easy to follow. Just create a new project to see how it should be laid out. Then start moving yours to match it. Once they match delete the res-dir snippet from your gradle. That will probably clear you up."}],"answers":[{"tags":[],"owner":{"account_id":24706341,"reputation":11,"user_id":18597115,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700823717,"creation_date":1700823717,"answer_id":77542646,"question_id":53281612,"body_markdown":"A bit late ... but simply removing `/` before `src` should redirect you to the proper directory.","title":"resource linking failed in AndroidManifest.xml when using sourceSets","body":"<p>A bit late ... but simply removing <code>/</code> before <code>src</code> should redirect you to the proper directory.</p>\n"}],"owner":{"account_id":3501848,"reputation":21,"user_id":2928438,"display_name":"declan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700823717,"creation_date":1542114170,"question_id":53281612,"body_markdown":"I am trying to run an Android Studio project, but I keep getting &#39;Android resource linking failed&#39; error for values in the AndroidManifest.xml. \r\n\r\nResource linking error\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I remove the sourceSets from the build.gradle it solves this problem but breaks imports of the files referenced in the sourceSets. \r\n\r\nThe sourceSets in build.gradle look like this:\r\n\r\n    sourceSets {\r\n        main {\r\n            res.srcDirs =\r\n                    [\r\n                            &#39;/src/main/res/layouts/administrator&#39;,\r\n                            &#39;/src/main/res/layouts/dashboard&#39;,\r\n                            &#39;/src/main/res/layouts/location_information&#39;,\r\n                            &#39;/src/main/res/layouts/login&#39;,\r\n                            &#39;/src/main/res/layouts/map&#39;,\r\n                            &#39;/src/main/res/layouts/non_activity&#39;,\r\n                            &#39;/src/main/res/layouts/register_location&#39;,\r\n                            &#39;/src/main/res/layouts/start_up&#39;,\r\n                            &#39;/src/main/res/layouts&#39;,\r\n                            &#39;/src/main/res&#39;\r\n                    ]\r\n        }\r\n    }\r\n\r\nThe Android Manifest looks like this:\r\n\r\nAndroidManifest cannot resolve @string\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIs there some other way I should be accessing the values in the AndroidManifest other than @string... ?\r\n\r\nI have tried various build tools versions and disabling AAPT2. Any help on resolving these linking issues would be appreciated.\r\n\r\nTop of build.gradle:\r\n\r\n    compileSdkVersion 28\r\n    buildToolsVersion &quot;28.0.3&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.example.example&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 26\r\n        versionCode 4\r\n        versionName &quot;1.3.1&quot;\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        vectorDrawables.useSupportLibrary = true\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aEDJB.png\r\n  [2]: https://i.stack.imgur.com/mwmzt.png","title":"resource linking failed in AndroidManifest.xml when using sourceSets","body":"<p>I am trying to run an Android Studio project, but I keep getting 'Android resource linking failed' error for values in the AndroidManifest.xml. </p>\n\n<p>Resource linking error</p>\n\n<p><a href=\"https://i.stack.imgur.com/aEDJB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aEDJB.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I remove the sourceSets from the build.gradle it solves this problem but breaks imports of the files referenced in the sourceSets. </p>\n\n<p>The sourceSets in build.gradle look like this:</p>\n\n<pre><code>sourceSets {\n    main {\n        res.srcDirs =\n                [\n                        '/src/main/res/layouts/administrator',\n                        '/src/main/res/layouts/dashboard',\n                        '/src/main/res/layouts/location_information',\n                        '/src/main/res/layouts/login',\n                        '/src/main/res/layouts/map',\n                        '/src/main/res/layouts/non_activity',\n                        '/src/main/res/layouts/register_location',\n                        '/src/main/res/layouts/start_up',\n                        '/src/main/res/layouts',\n                        '/src/main/res'\n                ]\n    }\n}\n</code></pre>\n\n<p>The Android Manifest looks like this:</p>\n\n<p>AndroidManifest cannot resolve @string</p>\n\n<p><a href=\"https://i.stack.imgur.com/mwmzt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mwmzt.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there some other way I should be accessing the values in the AndroidManifest other than @string... ?</p>\n\n<p>I have tried various build tools versions and disabling AAPT2. Any help on resolving these linking issues would be appreciated.</p>\n\n<p>Top of build.gradle:</p>\n\n<pre><code>compileSdkVersion 28\nbuildToolsVersion \"28.0.3\"\ndefaultConfig {\n    applicationId \"com.example.example\"\n    minSdkVersion 16\n    targetSdkVersion 26\n    versionCode 4\n    versionName \"1.3.1\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    vectorDrawables.useSupportLibrary = true\n}\n</code></pre>\n"},{"tags":["java","azure","azure-webapps"],"answers":[{"tags":[],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700823649,"creation_date":1700823649,"answer_id":77542638,"question_id":77541707,"body_markdown":"I just change `Operation system` and `SKU and size`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vjaJG.png\r\n\r\n\r\nand it fixed issue:\r\n\r\n    Deployment succeed but the app is still starting at server side.\r\n\r\n","title":"Failed to deploy to Azure Web App(my-app) with resource creation or updating, unsupported text Content-Type Type: class java.lang.Object","body":"<p>I just change <code>Operation system</code> and <code>SKU and size</code></p>\n<p><a href=\"https://i.stack.imgur.com/vjaJG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vjaJG.png\" alt=\"enter image description here\" /></a></p>\n<p>and it fixed issue:</p>\n<pre><code>Deployment succeed but the app is still starting at server side.\n</code></pre>\n"}],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700823649,"creation_date":1700814877,"question_id":77541707,"body_markdown":"I just created Hello World Maven Archetype(`org.apache.maven.archetypes:maven-archetype-webapp`) application in IntelliJ Idea (following: https://learn.microsoft.com/en-us/azure/developer/java/toolkit-for-intellij/create-hello-world-web-app)\r\nApplication do nothing spectacular, just in `index.jsp` I have:\r\n\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n    &lt;h2&gt;Hello World!&lt;/h2&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI try to Deploy to Azure Web App but receive error:\r\n\r\n    Failed to deploy to Azure Web App(my-app) with resource creation or updating, unsupported text Content-Type Type: class java.lang.Object.\r\n\r\n\r\nMy Azure Web App has:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/stVtO.png","title":"Failed to deploy to Azure Web App(my-app) with resource creation or updating, unsupported text Content-Type Type: class java.lang.Object","body":"<p>I just created Hello World Maven Archetype(<code>org.apache.maven.archetypes:maven-archetype-webapp</code>) application in IntelliJ Idea (following: <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/toolkit-for-intellij/create-hello-world-web-app\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/developer/java/toolkit-for-intellij/create-hello-world-web-app</a>)\nApplication do nothing spectacular, just in <code>index.jsp</code> I have:</p>\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;h2&gt;Hello World!&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I try to Deploy to Azure Web App but receive error:</p>\n<pre><code>Failed to deploy to Azure Web App(my-app) with resource creation or updating, unsupported text Content-Type Type: class java.lang.Object.\n</code></pre>\n<p>My Azure Web App has:</p>\n<p><a href=\"https://i.stack.imgur.com/stVtO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/stVtO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":7,"creation_date":1700823398,"post_id":77542599,"comment_id":136703134,"body_markdown":"You are **not** creating a `Comparable`, you are creating an **array** of comparables.","body":"You are <b>not</b> creating a <code>Comparable</code>, you are creating an <b>array</b> of comparables."},{"owner":{"account_id":20049678,"reputation":1,"user_id":17790595,"display_name":"Александр Скворцов"},"score":0,"creation_date":1700823479,"post_id":77542599,"comment_id":136703151,"body_markdown":"Well, then I can write it with any interface?","body":"Well, then I can write it with any interface?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1700824641,"post_id":77542599,"comment_id":136703330,"body_markdown":"Since you can do it with `Comparable`, there is no reason that it won&#39;t work with another interface.","body":"Since you can do it with <code>Comparable</code>, there is no reason that it won&#39;t work with another interface."},{"owner":{"account_id":20049678,"reputation":1,"user_id":17790595,"display_name":"Александр Скворцов"},"score":0,"creation_date":1700826082,"post_id":77542599,"comment_id":136703541,"body_markdown":"Well, now I understand what array `Comparable&lt;String&gt;[] comaparblesArray = new Comparable[10];` stores. Pointer `comparable` has interface type `Comparable`, but array objects has type `String` or any subclass of `String`.","body":"Well, now I understand what array <code>Comparable&lt;String&gt;[] comaparblesArray = new Comparable[10];</code> stores. Pointer <code>comparable</code> has interface type <code>Comparable</code>, but array objects has type <code>String</code> or any subclass of <code>String</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1700826445,"post_id":77542599,"comment_id":136703594,"body_markdown":"@АлександрСкворцов minor nitpick: `String` is `final`, it can&#39;t have subclasses.","body":"@АлександрСкворцов minor nitpick: <code>String</code> is <code>final</code>, it can&#39;t have subclasses."},{"owner":{"account_id":20049678,"reputation":1,"user_id":17790595,"display_name":"Александр Скворцов"},"score":0,"creation_date":1700827019,"post_id":77542599,"comment_id":136703687,"body_markdown":"Meanwhile, I can&#39;t write `Comparable&lt;String&gt; comparable = new Comparable&lt;String&gt;(&quot;some text&quot;);` where I really try to create interface object explicitly.","body":"Meanwhile, I can&#39;t write <code>Comparable&lt;String&gt; comparable = new Comparable&lt;String&gt;(&quot;some text&quot;);</code> where I really try to create interface object explicitly."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1700827573,"post_id":77542599,"comment_id":136703746,"body_markdown":"You **can&#39;t** instantiate interface directly. You can however instantiate `String` because it is a class. You can do `yourComparableArray[0] = &quot;some string&quot;`, because a `String` **is** `Comparable` - `String` *implements* `Comparable`. You are instantiating concrete classes, which can be represented as some interface, because they implement it.","body":"You <b>can&#39;t</b> instantiate interface directly. You can however instantiate <code>String</code> because it is a class. You can do <code>yourComparableArray[0] = &quot;some string&quot;</code>, because a <code>String</code> <b>is</b> <code>Comparable</code> - <code>String</code> <i>implements</i> <code>Comparable</code>. You are instantiating concrete classes, which can be represented as some interface, because they implement it."}],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700823454,"creation_date":1700823454,"answer_id":77542617,"question_id":77542599,"body_markdown":"`new Comparable[]` doesn&#39;t create a `Comparable` object, it creates an array object of `Comparables`s.\r\n\r\nAlso, it&#39;s not correct Java code, because you need to give the array&#39;s size like in your second piece of code, ie `new Comparable[size]`.","title":"Why can I create Comparable objects with operator &quot;new&quot;?","body":"<p><code>new Comparable[]</code> doesn't create a <code>Comparable</code> object, it creates an array object of <code>Comparables</code>s.</p>\n<p>Also, it's not correct Java code, because you need to give the array's size like in your second piece of code, ie <code>new Comparable[size]</code>.</p>\n"}],"owner":{"account_id":20049678,"reputation":1,"user_id":17790595,"display_name":"Александр Скворцов"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1700829886,"answer_count":1,"score":-4,"last_activity_date":1700823454,"creation_date":1700823265,"question_id":77542599,"body_markdown":"Why is \r\n\r\n    new Comparable[] \r\n\r\ncorrect code in Java? I have seen code like this\r\n\r\n    public class ArrayHeap&lt;T extends Comparable&lt;T&gt;&gt; implements Heap&lt;T&gt; {\r\n    \r\n        ...\r\n    \r\n    public ArrayHeap(int capacity) {\r\n        heap = (T[]) new Comparable[capacity];\r\n    }\r\n\r\nI confused over the code\r\n\r\n`heap = (T[]) new Comparable[capacity];`\r\n\r\nbecause Comparable&lt;T&gt; is interface and you can&#39;t create interface objects with operator &quot;new&quot;. Could you, please, explain me, why I am wrong?\r\n\r\nI don&#39;t even how to explain this phenomena!","title":"Why can I create Comparable objects with operator &quot;new&quot;?","body":"<p>Why is</p>\n<pre><code>new Comparable[] \n</code></pre>\n<p>correct code in Java? I have seen code like this</p>\n<pre><code>public class ArrayHeap&lt;T extends Comparable&lt;T&gt;&gt; implements Heap&lt;T&gt; {\n\n    ...\n\npublic ArrayHeap(int capacity) {\n    heap = (T[]) new Comparable[capacity];\n}\n</code></pre>\n<p>I confused over the code</p>\n<p><code>heap = (T[]) new Comparable[capacity];</code></p>\n<p>because Comparable is interface and you can't create interface objects with operator &quot;new&quot;. Could you, please, explain me, why I am wrong?</p>\n<p>I don't even how to explain this phenomena!</p>\n"},{"tags":["java","sql","spring","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1605088879,"post_id":64783789,"comment_id":114542974,"body_markdown":"Help &gt; Install New Software... Choose your current release in &#39;Work With&#39; and them look at the Database Development section","body":"Help &gt; Install New Software... Choose your current release in &#39;Work With&#39; and them look at the Database Development section"},{"owner":{"account_id":19947980,"reputation":27,"user_id":14618235,"display_name":"tpnprogsdev"},"score":0,"creation_date":1605098679,"post_id":64783789,"comment_id":114547136,"body_markdown":"@greg-449 Thanks a LOT sir. I found a whole bunch of Database Development tools, which also included a lot of SQL development tools, by following your approach!","body":"@greg-449 Thanks a LOT sir. I found a whole bunch of Database Development tools, which also included a lot of SQL development tools, by following your approach!"}],"answers":[{"tags":[],"owner":{"account_id":10761539,"reputation":104,"user_id":7917785,"display_name":"thommyberglund"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605087825,"creation_date":1605087825,"answer_id":64783987,"question_id":64783789,"body_markdown":"I am a little bit unsure if it is exactly what you&#39;re looking for, but Data Tools Platform is the one i&#39;ve been using in the past to manage DBs:\r\n\r\nhttps://marketplace.eclipse.org/content/eclipse-dtp-data-tools-platform","title":"Where are the SQL development tools for the Eclipse IDE and Spring Tools Suite? Why are they seemingly unavailable in their marketplaces?","body":"<p>I am a little bit unsure if it is exactly what you're looking for, but Data Tools Platform is the one i've been using in the past to manage DBs:</p>\n<p><a href=\"https://marketplace.eclipse.org/content/eclipse-dtp-data-tools-platform\" rel=\"nofollow noreferrer\">https://marketplace.eclipse.org/content/eclipse-dtp-data-tools-platform</a></p>\n"},{"tags":[],"owner":{"account_id":29982507,"reputation":1,"user_id":22977196,"display_name":"charu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700823448,"creation_date":1700823448,"answer_id":77542616,"question_id":64783789,"body_markdown":"turnoff the firewall and then try to install it. It worked for me.\r\n","title":"Where are the SQL development tools for the Eclipse IDE and Spring Tools Suite? Why are they seemingly unavailable in their marketplaces?","body":"<p>turnoff the firewall and then try to install it. It worked for me.</p>\n"}],"owner":{"account_id":19947980,"reputation":27,"user_id":14618235,"display_name":"tpnprogsdev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1861,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1700823448,"creation_date":1605087009,"question_id":64783789,"body_markdown":"I&#39;m learning the Java Programming language and Spring, and when I try to follow some online tutorials or projects related to Spring technologies, I keep getting stuck whenever I need to create a new SQL file or a SQL database WITHIN the Eclipse IDE or Spring Tools Suite. I&#39;m simply unable to do so, and while various solutions online simply give instructions to &quot;search and install the SQL development tools or SQL editor from the Eclipse Marketplace&quot;, I am not able to find the SQL development tools, while the SQL editor is a very basic thing with no development facilities. So WHERE can I find the required tools/extensions for creating &amp; running SQL files, databases, etc, on the Eclipse IDE or Spring Tools Suite? Also, are there any alternative extensions/add-ons that have the SQL development capabilities? I would be really grateful if someone could answer.","title":"Where are the SQL development tools for the Eclipse IDE and Spring Tools Suite? Why are they seemingly unavailable in their marketplaces?","body":"<p>I'm learning the Java Programming language and Spring, and when I try to follow some online tutorials or projects related to Spring technologies, I keep getting stuck whenever I need to create a new SQL file or a SQL database WITHIN the Eclipse IDE or Spring Tools Suite. I'm simply unable to do so, and while various solutions online simply give instructions to &quot;search and install the SQL development tools or SQL editor from the Eclipse Marketplace&quot;, I am not able to find the SQL development tools, while the SQL editor is a very basic thing with no development facilities. So WHERE can I find the required tools/extensions for creating &amp; running SQL files, databases, etc, on the Eclipse IDE or Spring Tools Suite? Also, are there any alternative extensions/add-ons that have the SQL development capabilities? I would be really grateful if someone could answer.</p>\n"},{"tags":["java","regex","logging","log4j","log4j2"],"owner":{"account_id":5150173,"reputation":276,"user_id":4124999,"display_name":"cpawali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700823356,"creation_date":1700818817,"question_id":77542117,"body_markdown":"I am using log4j to for logging,\r\nI have example logs here \r\n\r\n\r\n    2023-11-24 14:01:11,656 [main] INFO  org.sparkproject.jetty.server.handler.ContextHandler - Started o.s.j.s.ServletContextHandler@77bb48d5{/metrics/json,null,AVAILABLE,@Spark}\r\n    2023-11-24 14:01:11,658 [main] INFO  org.apache.spark.scheduler.cluster.StandaloneSchedulerBackend - SchedulerBackend is ready for scheduling beginning after reached minRegisteredResourcesRatio: 0.0\r\n    2023-11-24 14:01:12,547 [main] INFO  org.apache.spark.SparkContext - Starting job: reduce at SparkPi.scala:38\r\n    2023-11-24 14:01:12,594 [dag-scheduler-event-loop] INFO  org.apache.spark.scheduler.DAGScheduler - Got job 0 (reduce at SparkPi.scala:38) with 10 output partitions\r\n    2023-11-24 14:01:12,616 [dag-scheduler-event-loop] INFO  org.apache.spark.scheduler.DAGScheduler - Submitting ResultStage 0 (MapPartitionsRDD[1] at map at SparkPi.scala:34), which has no missing parents\r\n    2023-11-24 14:01:12,653 [spark-listener-group-shared] INFO  org.apache.spark.scheduler.AsyncEventQueue - Process of event AdSparkListener(Map(Spark Properties -&gt; ArrayBuffer((spark.ad.connector.context,yarn;spark330;admin;test), (spark.ad.events.url,http://nifihost1.ops.iti.acceldata.dev:19005/eventsasync), (spark.app.startTime,1700814666085), (spark.app.submitTime,1700814665975), (spark.driver.extraJavaOptions,-XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED), \r\n    ...\r\n    [2023-11-24 13:00:53,937] [main] INFO  io.xyz.sparkstats.SparkListener - AdSparkListener 1.0 for Pulse 3.3.0 started for Spark 3.3.x with WaitPeriod=30 seconds\r\n\r\ni want to save logs which contains word **AdSparkListener** to different file like sparkListener.log.\r\n\r\nFor example from above log example **AdSparkListener** matched logs which i want in new file are:\r\n\r\n    2023-11-24 14:01:12,653 [spark-listener-group-shared] INFO  org.apache.spark.scheduler.AsyncEventQueue - Process of event AdSparkListener(Map(Spark Properties -&gt; ArrayBuffer((spark.ad.connector.context,yarn;spark330;admin;test), (spark.ad.events.url,http://nifihost1.ops.iti.acceldata.dev:19005/eventsasync), (spark.app.startTime,1700814666085), (spark.app.submitTime,1700814665975), (spark.driver.extraJavaOptions,-XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED), \r\n    ...\r\n    [2023-11-24 13:00:53,937] [main] INFO  io.xyz.sparkstats.SparkListener - AdSparkListener 1.0 for Pulse 3.3.0 started for Spark 3.3.x with WaitPeriod=30 seconds\r\n\r\nTried with **RegexFilter** Got empty file, didnt work for me\r\n\r\n    ##console appender\r\n    appender.console.type = Console\r\n    appender.console.name = LogToConsole\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.pattern = %d [%t] %-5p %c - %m%n\r\n    \r\n    ## Root logger to catch all logs\r\n    rootLogger.level = INFO\r\n    rootLogger.appenderRefs = adSparkListener,console\r\n    rootLogger.appenderRef.adSparkListener.ref = adSparkListener\r\n    rootLogger.appenderRef.console.ref = LogToConsole\r\n    \r\n    ## Define the appender for logs containing AdSparkListener\r\n    appender.adSparkListener.type = RollingFile\r\n    appender.adSparkListener.name = adSparkListener\r\n    appender.adSparkListener.fileName = /root/sparklogs/adsparklistener.log\r\n    appender.adSparkListener.filePattern = /root/sparklogs/adsparklistener-%d{MM-dd-yyyy}-%i.log.gz\r\n    appender.adSparkListener.layout.type = PatternLayout\r\n    appender.adSparkListener.layout.pattern = [%d{yyyy-MM-dd HH:mm:ss,SSS}] [%t] %-5level %logger{36} - %msg%n\r\n    appender.adSparkListener.policies.type = Policies\r\n    appender.adSparkListener.policies.time.type = TimeBasedTriggeringPolicy\r\n    appender.adSparkListener.policies.time.interval = 1\r\n    appender.adSparkListener.policies.time.modulate = true\r\n    \r\n    ## Regex filter to match logs with adsparklistener\r\n    appender.adSparkListener.filter.regex.type = RegexFilter\r\n    appender.adSparkListener.filter.regex.regex = .*AdSparkListener.*\r\n    appender.adSparkListener.filter.regex.onMatch = ACCEPT\r\n    appender.adSparkListener.filter.regex.onMismatch = DENY\r\n\r\nIs there any config to filter logs based on matching key and save to specific file?","title":"log4j2: Save logs to different file based on log content","body":"<p>I am using log4j to for logging,\nI have example logs here</p>\n<pre><code>2023-11-24 14:01:11,656 [main] INFO  org.sparkproject.jetty.server.handler.ContextHandler - Started o.s.j.s.ServletContextHandler@77bb48d5{/metrics/json,null,AVAILABLE,@Spark}\n2023-11-24 14:01:11,658 [main] INFO  org.apache.spark.scheduler.cluster.StandaloneSchedulerBackend - SchedulerBackend is ready for scheduling beginning after reached minRegisteredResourcesRatio: 0.0\n2023-11-24 14:01:12,547 [main] INFO  org.apache.spark.SparkContext - Starting job: reduce at SparkPi.scala:38\n2023-11-24 14:01:12,594 [dag-scheduler-event-loop] INFO  org.apache.spark.scheduler.DAGScheduler - Got job 0 (reduce at SparkPi.scala:38) with 10 output partitions\n2023-11-24 14:01:12,616 [dag-scheduler-event-loop] INFO  org.apache.spark.scheduler.DAGScheduler - Submitting ResultStage 0 (MapPartitionsRDD[1] at map at SparkPi.scala:34), which has no missing parents\n2023-11-24 14:01:12,653 [spark-listener-group-shared] INFO  org.apache.spark.scheduler.AsyncEventQueue - Process of event AdSparkListener(Map(Spark Properties -&gt; ArrayBuffer((spark.ad.connector.context,yarn;spark330;admin;test), (spark.ad.events.url,http://nifihost1.ops.iti.acceldata.dev:19005/eventsasync), (spark.app.startTime,1700814666085), (spark.app.submitTime,1700814665975), (spark.driver.extraJavaOptions,-XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED), \n...\n[2023-11-24 13:00:53,937] [main] INFO  io.xyz.sparkstats.SparkListener - AdSparkListener 1.0 for Pulse 3.3.0 started for Spark 3.3.x with WaitPeriod=30 seconds\n</code></pre>\n<p>i want to save logs which contains word <strong>AdSparkListener</strong> to different file like sparkListener.log.</p>\n<p>For example from above log example <strong>AdSparkListener</strong> matched logs which i want in new file are:</p>\n<pre><code>2023-11-24 14:01:12,653 [spark-listener-group-shared] INFO  org.apache.spark.scheduler.AsyncEventQueue - Process of event AdSparkListener(Map(Spark Properties -&gt; ArrayBuffer((spark.ad.connector.context,yarn;spark330;admin;test), (spark.ad.events.url,http://nifihost1.ops.iti.acceldata.dev:19005/eventsasync), (spark.app.startTime,1700814666085), (spark.app.submitTime,1700814665975), (spark.driver.extraJavaOptions,-XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED), \n...\n[2023-11-24 13:00:53,937] [main] INFO  io.xyz.sparkstats.SparkListener - AdSparkListener 1.0 for Pulse 3.3.0 started for Spark 3.3.x with WaitPeriod=30 seconds\n</code></pre>\n<p>Tried with <strong>RegexFilter</strong> Got empty file, didnt work for me</p>\n<pre><code>##console appender\nappender.console.type = Console\nappender.console.name = LogToConsole\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d [%t] %-5p %c - %m%n\n\n## Root logger to catch all logs\nrootLogger.level = INFO\nrootLogger.appenderRefs = adSparkListener,console\nrootLogger.appenderRef.adSparkListener.ref = adSparkListener\nrootLogger.appenderRef.console.ref = LogToConsole\n\n## Define the appender for logs containing AdSparkListener\nappender.adSparkListener.type = RollingFile\nappender.adSparkListener.name = adSparkListener\nappender.adSparkListener.fileName = /root/sparklogs/adsparklistener.log\nappender.adSparkListener.filePattern = /root/sparklogs/adsparklistener-%d{MM-dd-yyyy}-%i.log.gz\nappender.adSparkListener.layout.type = PatternLayout\nappender.adSparkListener.layout.pattern = [%d{yyyy-MM-dd HH:mm:ss,SSS}] [%t] %-5level %logger{36} - %msg%n\nappender.adSparkListener.policies.type = Policies\nappender.adSparkListener.policies.time.type = TimeBasedTriggeringPolicy\nappender.adSparkListener.policies.time.interval = 1\nappender.adSparkListener.policies.time.modulate = true\n\n## Regex filter to match logs with adsparklistener\nappender.adSparkListener.filter.regex.type = RegexFilter\nappender.adSparkListener.filter.regex.regex = .*AdSparkListener.*\nappender.adSparkListener.filter.regex.onMatch = ACCEPT\nappender.adSparkListener.filter.regex.onMismatch = DENY\n</code></pre>\n<p>Is there any config to filter logs based on matching key and save to specific file?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700823182,"creation_date":1700757705,"question_id":77538486,"body_markdown":"I have two entities, Parent and Child.\r\n\r\nThe relationship is One parent can have many children and one child can have one parent.\r\n\r\nHere are my classes:\r\n\r\n```java\r\n@Data\r\n@Entity\r\n@Table(name = &quot;parent&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class Parent {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    private String someThing;\r\n\r\n    @OneToMany(mappedBy = &quot;id.parent&quot;, fetch = FetchType.EAGER)\r\n    private List&lt;Child&gt; children = new ArrayList&lt;&gt;();\r\n\r\n    @Column(name = &quot;createdAt&quot;)\r\n    @CreatedDate\r\n    private LocalDateTime createdAt;\r\n\r\n    @Column(name = &quot;updatedAt&quot;)\r\n    @LastModifiedDate\r\n    private LocalDateTime updatedAt;\r\n    \r\n\r\n}\r\n\r\n\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;child&quot;)\r\n@EntityListeners({AuditingEntityListener.class, ChildListener.class})\r\npublic class Child {\r\n\r\n    @EmbeddedId\r\n    @JsonIgnore\r\n    private ChildPk id = new ChildPk();\r\n\r\n    private String otherThing;\r\n\r\n    @Column(name = &quot;createdAt&quot;)\r\n    @CreatedDate\r\n    private LocalDateTime createdAt;\r\n\r\n    @Column(name = &quot;updatedAt&quot;)\r\n    @LastModifiedDate\r\n    private LocalDateTime updatedAt;\r\n}\r\n\r\n```\r\n\r\n\r\n**What I need** is when a child got updated, the parent&#39;s &quot;updatedAt&quot; date got updated too.\r\n\r\nFor this, I have implemented the ChildListener that is an Entity Listener on the child class.\r\n\r\nThis is the code:\r\n\r\n```java\r\n\r\npublic class ChildListener {\r\n\r\n    private final ParentService parentService;\r\n\r\n    public IntegracaoListener(@Lazy ParentService parentService) {\r\n        this.parentService = parentService;\r\n    }\r\n\r\n    @PrePersist\r\n    @PreUpdate\r\n    private void before(Child child) {\r\n        parentService.updateParentsUpdatedAt(child.getId().getParent().getId());\r\n    }\r\n}\r\n\r\n// Parent Service:\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic ParentService {\r\n   private final ParentRepository repository;\r\n\r\n    @Transactional\r\n    public void updateParentsUpdatedAt(UUID id) {\r\n        var parent = repository.findById(id).orElseThrow(() -&gt; new SomeException(MessageError.SOMETHING));\r\n            parent.setUpdatedAt(LocalDateTime.now());\r\n            repository.saveAndFlush(parent); // This causes recursion.\r\n            // repository.save(ambiente); This simply doesn&#39;t works.\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nThe problem here is: When `repository.saveAndFlush(parent);` is executed, it triggers again the method `ChildListener.before(...)` and again, and again... until JVM throws stackoverflow.\r\n\r\nTo solve this, I simply moved the  `ParentService.updateParentsUpdatedAt(...)` to another Thread, so the Listener will not notice any change on the entity:\r\n\r\n```java\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic ParentService {\r\n   private final ParentRepository repository;\r\n\r\n    @Transactional\r\n    public void updateParentsUpdatedAt(UUID id) {\r\n        var thread = new Thread(() -&gt; {\r\n            var ambiente = repository.findById(id).orElseThrow(() -&gt; new SomeException(MessageError.SOMETHING));\r\n            ambiente.setDataModificacao(LocalDateTime.now());\r\n            repository.saveAndFlush(ambiente);\r\n            Thread.yield();\r\n        });\r\n        thread.setDaemon(true);\r\n        thread.start();\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis works... but... is this the best solution for this problem?\r\n \r\n","title":"Java 17 Recursive @EntityListeners - Spring Data Jpa","body":"<p>I have two entities, Parent and Child.</p>\n<p>The relationship is One parent can have many children and one child can have one parent.</p>\n<p>Here are my classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\n@Table(name = &quot;parent&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class Parent {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    private String someThing;\n\n    @OneToMany(mappedBy = &quot;id.parent&quot;, fetch = FetchType.EAGER)\n    private List&lt;Child&gt; children = new ArrayList&lt;&gt;();\n\n    @Column(name = &quot;createdAt&quot;)\n    @CreatedDate\n    private LocalDateTime createdAt;\n\n    @Column(name = &quot;updatedAt&quot;)\n    @LastModifiedDate\n    private LocalDateTime updatedAt;\n    \n\n}\n\n\n\n@Data\n@Entity\n@Table(name = &quot;child&quot;)\n@EntityListeners({AuditingEntityListener.class, ChildListener.class})\npublic class Child {\n\n    @EmbeddedId\n    @JsonIgnore\n    private ChildPk id = new ChildPk();\n\n    private String otherThing;\n\n    @Column(name = &quot;createdAt&quot;)\n    @CreatedDate\n    private LocalDateTime createdAt;\n\n    @Column(name = &quot;updatedAt&quot;)\n    @LastModifiedDate\n    private LocalDateTime updatedAt;\n}\n\n</code></pre>\n<p><strong>What I need</strong> is when a child got updated, the parent's &quot;updatedAt&quot; date got updated too.</p>\n<p>For this, I have implemented the ChildListener that is an Entity Listener on the child class.</p>\n<p>This is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class ChildListener {\n\n    private final ParentService parentService;\n\n    public IntegracaoListener(@Lazy ParentService parentService) {\n        this.parentService = parentService;\n    }\n\n    @PrePersist\n    @PreUpdate\n    private void before(Child child) {\n        parentService.updateParentsUpdatedAt(child.getId().getParent().getId());\n    }\n}\n\n// Parent Service:\n\n@Service\n@RequiredArgsConstructor\npublic ParentService {\n   private final ParentRepository repository;\n\n    @Transactional\n    public void updateParentsUpdatedAt(UUID id) {\n        var parent = repository.findById(id).orElseThrow(() -&gt; new SomeException(MessageError.SOMETHING));\n            parent.setUpdatedAt(LocalDateTime.now());\n            repository.saveAndFlush(parent); // This causes recursion.\n            // repository.save(ambiente); This simply doesn't works.\n\n    }\n}\n\n\n</code></pre>\n<p>The problem here is: When <code>repository.saveAndFlush(parent);</code> is executed, it triggers again the method <code>ChildListener.before(...)</code> and again, and again... until JVM throws stackoverflow.</p>\n<p>To solve this, I simply moved the  <code>ParentService.updateParentsUpdatedAt(...)</code> to another Thread, so the Listener will not notice any change on the entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Service\n@RequiredArgsConstructor\npublic ParentService {\n   private final ParentRepository repository;\n\n    @Transactional\n    public void updateParentsUpdatedAt(UUID id) {\n        var thread = new Thread(() -&gt; {\n            var ambiente = repository.findById(id).orElseThrow(() -&gt; new SomeException(MessageError.SOMETHING));\n            ambiente.setDataModificacao(LocalDateTime.now());\n            repository.saveAndFlush(ambiente);\n            Thread.yield();\n        });\n        thread.setDaemon(true);\n        thread.start();\n\n    }\n}\n\n</code></pre>\n<p>This works... but... is this the best solution for this problem?</p>\n"},{"tags":["java","postgresql","hibernate","kotlin","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":7740826,"reputation":5758,"user_id":5860648,"accept_rate":25,"display_name":"sjahan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1599808966,"creation_date":1599808966,"answer_id":63842502,"question_id":63743920,"body_markdown":"I&#39;m posting my solution, I didn&#39;t succeed to get a `List&lt;Values&gt;`, although I got an `Array&lt;Values&gt;` which was fine with me.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;test&quot;)\r\n@TypeDef(\r\n        name = &quot;values-array&quot;,\r\n        typeClass = EnumArrayType::class,\r\n        defaultForType = Array&lt;Values&gt;::class,\r\n        parameters = [\r\n          Parameter(\r\n                  name = EnumArrayType.SQL_ARRAY_TYPE,\r\n                  value = &quot;varchar&quot;\r\n          )\r\n        ]\r\n)\r\ndata class DbTest(\r\n        @Type(type = &quot;values-array&quot;)\r\n        @Column(name = &quot;my_values&quot;, columnDefinition = &quot;varchar[]&quot;)\r\n        val myValues: Array&lt;Values&gt;\r\n)\r\n\r\nenum class Values {\r\n       VAL1, VAL2\r\n}\r\n```\r\n\r\nThis is working like a charm and I can map my array to a list and vice versa quite easily, which is ok.\r\n\r\nHoping this will help someone someday ;)","title":"Hibernate mapping between Postgres array of varchar and a Java/Kotlin collection of enum","body":"<p>I'm posting my solution, I didn't succeed to get a <code>List&lt;Values&gt;</code>, although I got an <code>Array&lt;Values&gt;</code> which was fine with me.</p>\n<pre><code>@Entity\n@Table(name = &quot;test&quot;)\n@TypeDef(\n        name = &quot;values-array&quot;,\n        typeClass = EnumArrayType::class,\n        defaultForType = Array&lt;Values&gt;::class,\n        parameters = [\n          Parameter(\n                  name = EnumArrayType.SQL_ARRAY_TYPE,\n                  value = &quot;varchar&quot;\n          )\n        ]\n)\ndata class DbTest(\n        @Type(type = &quot;values-array&quot;)\n        @Column(name = &quot;my_values&quot;, columnDefinition = &quot;varchar[]&quot;)\n        val myValues: Array&lt;Values&gt;\n)\n\nenum class Values {\n       VAL1, VAL2\n}\n</code></pre>\n<p>This is working like a charm and I can map my array to a list and vice versa quite easily, which is ok.</p>\n<p>Hoping this will help someone someday ;)</p>\n"},{"tags":[],"owner":{"account_id":1880239,"reputation":927,"user_id":1700614,"display_name":"z0mb1ek"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1648943146,"creation_date":1648943146,"answer_id":71721965,"question_id":63743920,"body_markdown":"Previous answer does not work for me, but this working: \r\n\r\n        TypeDef(\r\n          name = &quot;enums-array&quot;,\r\n          typeClass = ListArrayType::class,\r\n          parameters = [Parameter(name = EnumArrayType.SQL_ARRAY_TYPE, value = &quot;varchar&quot;)]\r\n        )","title":"Hibernate mapping between Postgres array of varchar and a Java/Kotlin collection of enum","body":"<p>Previous answer does not work for me, but this working:</p>\n<pre><code>    TypeDef(\n      name = &quot;enums-array&quot;,\n      typeClass = ListArrayType::class,\n      parameters = [Parameter(name = EnumArrayType.SQL_ARRAY_TYPE, value = &quot;varchar&quot;)]\n    )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":391620,"reputation":2118,"user_id":752385,"accept_rate":38,"display_name":"Strinder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700823053,"creation_date":1700735409,"answer_id":77536150,"question_id":63743920,"body_markdown":"If using Hibernate version &gt; 6 this changed and should look like this:\r\n\r\n    @Type(StringArrayType.class)\r\n    @Column(\r\n        name = &quot;sensor_names&quot;,\r\n        columnDefinition = &quot;text[]&quot;\r\n    )\r\n    private String[] sensorNames;\r\n \r\n    @Type(IntArrayType.class)\r\n    @Column(\r\n        name = &quot;sensor_values&quot;,\r\n        columnDefinition = &quot;integer[]&quot;\r\n    )\r\n    private int[] sensorValues;\r\n \r\n    @Type(\r\n        value = EnumArrayType.class,\r\n        parameters = @Parameter(\r\n            name = AbstractArrayType.SQL_ARRAY_TYPE,\r\n            value = &quot;sensor_state&quot;\r\n        )\r\n    )\r\n    @Column(\r\n        name = &quot;sensor_states&quot;,\r\n        columnDefinition = &quot;sensor_state[]&quot;\r\n    )\r\n    private SensorState[] sensorStates;\r\n\r\n**Note:** EnumArrayType comes from library [HypersistenceUtils][1]\r\n\r\n\r\n  [1]: https://github.com/vladmihalcea/hypersistence-utils","title":"Hibernate mapping between Postgres array of varchar and a Java/Kotlin collection of enum","body":"<p>If using Hibernate version &gt; 6 this changed and should look like this:</p>\n<pre><code>@Type(StringArrayType.class)\n@Column(\n    name = &quot;sensor_names&quot;,\n    columnDefinition = &quot;text[]&quot;\n)\nprivate String[] sensorNames;\n\n@Type(IntArrayType.class)\n@Column(\n    name = &quot;sensor_values&quot;,\n    columnDefinition = &quot;integer[]&quot;\n)\nprivate int[] sensorValues;\n\n@Type(\n    value = EnumArrayType.class,\n    parameters = @Parameter(\n        name = AbstractArrayType.SQL_ARRAY_TYPE,\n        value = &quot;sensor_state&quot;\n    )\n)\n@Column(\n    name = &quot;sensor_states&quot;,\n    columnDefinition = &quot;sensor_state[]&quot;\n)\nprivate SensorState[] sensorStates;\n</code></pre>\n<p><strong>Note:</strong> EnumArrayType comes from library <a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"nofollow noreferrer\">HypersistenceUtils</a></p>\n"}],"owner":{"account_id":7740826,"reputation":5758,"user_id":5860648,"accept_rate":25,"display_name":"sjahan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1993,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63842502,"answer_count":3,"score":3,"last_activity_date":1700823053,"creation_date":1599232813,"question_id":63743920,"body_markdown":"Basically everything is in the title. \r\n\r\nI have a column in my DB which is a `varchar[]`. \r\n\r\nI really would like to map it to a Java/Kotlin `enum`. We&#39;ve already got this working to fetch it as a list of `String`s (through `com.vladmihalcea:hibernate-types` and `StringArrayType`), but not with a mapping to an enum. Do you know if this is possible? \r\n\r\nSince we know how to map a `varchar` to an `enum`, and a `varchar[]` to a collection of `String`, I would be tempted to think that this should possible, but I didn&#39;t succeed yet.\r\n\r\nHere would be a simple sample of my current configuration: \r\n\r\n```\r\nCREATE TABLE test(my_values varchar[]) ;\r\nINSERT INTO test(my_values) values (&#39;{VAL1, VAL2}&#39;)\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;test&quot;)\r\ndata class DbTest(\r\n        @Column(name = &quot;my_values&quot;)\r\n        val myValues: List&lt;Values&gt;\r\n)\r\n\r\nenum class Values {\r\n       VAL1, VAL2\r\n}\r\n```\r\nI tried this: https://vladmihalcea.com/map-postgresql-enum-array-jpa-entity-property-hibernate/ which looks pretty good but you have to define the enum in the DB and we don&#39;t want that.\r\n\r\nThanks!","title":"Hibernate mapping between Postgres array of varchar and a Java/Kotlin collection of enum","body":"<p>Basically everything is in the title.</p>\n<p>I have a column in my DB which is a <code>varchar[]</code>.</p>\n<p>I really would like to map it to a Java/Kotlin <code>enum</code>. We've already got this working to fetch it as a list of <code>String</code>s (through <code>com.vladmihalcea:hibernate-types</code> and <code>StringArrayType</code>), but not with a mapping to an enum. Do you know if this is possible?</p>\n<p>Since we know how to map a <code>varchar</code> to an <code>enum</code>, and a <code>varchar[]</code> to a collection of <code>String</code>, I would be tempted to think that this should possible, but I didn't succeed yet.</p>\n<p>Here would be a simple sample of my current configuration:</p>\n<pre><code>CREATE TABLE test(my_values varchar[]) ;\nINSERT INTO test(my_values) values ('{VAL1, VAL2}')\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;test&quot;)\ndata class DbTest(\n        @Column(name = &quot;my_values&quot;)\n        val myValues: List&lt;Values&gt;\n)\n\nenum class Values {\n       VAL1, VAL2\n}\n</code></pre>\n<p>I tried this: <a href=\"https://vladmihalcea.com/map-postgresql-enum-array-jpa-entity-property-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/map-postgresql-enum-array-jpa-entity-property-hibernate/</a> which looks pretty good but you have to define the enum in the DB and we don't want that.</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","javafx"],"comments":[{"owner":{"account_id":49071,"reputation":8670,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1613701140,"post_id":66270491,"comment_id":117163603,"body_markdown":"If you remove the weakreference list and such, does the the memory leak still happen? If you just construct the panel and add the weak reference, do the references get cleared up?","body":"If you remove the weakreference list and such, does the the memory leak still happen? If you just construct the panel and add the weak reference, do the references get cleared up?"},{"owner":{"account_id":10075353,"reputation":1743,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1613702985,"post_id":66270491,"comment_id":117164010,"body_markdown":"Is the behavior still the same when you tell the container to update its references by calling `revalidate()`?","body":"Is the behavior still the same when you tell the container to update its references by calling <code>revalidate()</code>?"},{"owner":{"account_id":2819099,"reputation":928,"user_id":2423283,"accept_rate":86,"display_name":"NateW"},"score":0,"creation_date":1613745473,"post_id":66270491,"comment_id":117178444,"body_markdown":"@Charlie yes, if I remove the WeakReference stuff, the leak still happens. Its just a little harder to demonstrate since I have to look at a heap dump in jvisualvm.","body":"@Charlie yes, if I remove the WeakReference stuff, the leak still happens. Its just a little harder to demonstrate since I have to look at a heap dump in jvisualvm."},{"owner":{"account_id":2819099,"reputation":928,"user_id":2423283,"accept_rate":86,"display_name":"NateW"},"score":0,"creation_date":1613745585,"post_id":66270491,"comment_id":117178495,"body_markdown":"@Koenigsberg, none of the JavaFX components have a `revalidate()` method, but the swing components do. I tried getting the old SwingNode content and then calling `revalidate()` on it after replacing it with the new content and that didn&#39;t do the trick.","body":"@Koenigsberg, none of the JavaFX components have a <code>revalidate()</code> method, but the swing components do. I tried getting the old SwingNode content and then calling <code>revalidate()</code> on it after replacing it with the new content and that didn&#39;t do the trick."},{"owner":{"account_id":49071,"reputation":8670,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1613759486,"post_id":66270491,"comment_id":117184969,"body_markdown":"I&#39;ve never debugged a memory leak in visualvm but (shockingly expensive) jprofiler is pretty useful. You could simply find all JPanels and trace back to the GC roots.","body":"I&#39;ve never debugged a memory leak in visualvm but (shockingly expensive) jprofiler is pretty useful. You could simply find all JPanels and trace back to the GC roots."}],"answers":[{"tags":[],"owner":{"account_id":49071,"reputation":8670,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613760998,"creation_date":1613760998,"answer_id":66283491,"question_id":66270491,"body_markdown":"Take a snapshot with visualvm then analyze GC roots with with Eclipse Memory Analyzer (MAT) http://www.eclipse.org/mat/","title":"Content of SwingNode not garbage collected when content changed","body":"<p>Take a snapshot with visualvm then analyze GC roots with with Eclipse Memory Analyzer (MAT) <a href=\"http://www.eclipse.org/mat/\" rel=\"nofollow noreferrer\">http://www.eclipse.org/mat/</a></p>\n"},{"tags":[],"owner":{"account_id":2819099,"reputation":928,"user_id":2423283,"accept_rate":86,"display_name":"NateW"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1614039869,"creation_date":1614039869,"answer_id":66325365,"question_id":66270491,"body_markdown":"OK, I figured it out.\r\n\r\n# Short answer\r\nJust wrap the swing content inside a `JPanel` (or some other `JComponent`). Then only ever call `SwingNode.setContent()` once to add the wrapper. When you need to update the swing content, call `removeAll()` on your wrapper and then `add()` with the appropriate content.\r\n\r\n# Long Answer\r\nThanks to the suggestion in this answer: https://stackoverflow.com/a/66283491/2423283 I was able to determine that the leak is caused by `GlassStage` which is a non-api class which among other things, keeps a static list of all implementations of `GlassStage`. The content of a `SwingNode` gets managed by an instance of `EmbeddedScene` which is a subtype of `GlassStage`.\r\n\r\nItems are removed from the static list when `close()` is called on them. `SwingNode.setContent()` does not close any pre-existing content, but `Container.removeAll()` does.\r\n\r\n# Working code\r\nHere&#39;s an example of the fixed code:\r\n\r\n```\r\npublic class LeakDemoFixed extends Application {\r\n\r\n    //Keep week references to all panels that we&#39;ve ever generated to see if any\r\n    //of them get collected.\r\n    private Collection&lt;WeakReference&lt;JPanel&gt;&gt; panels = new CopyOnWriteArrayList&lt;&gt;();\r\n    \r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        \r\n        SwingNode node = new SwingNode();\r\n        \r\n        //These 2 lines were added\r\n        JComponent swingContent = new JPanel();\r\n        node.setContent(swingContent);\r\n        \r\n        Pane root = new Pane();\r\n        root.getChildren().add(node);\r\n        \r\n        //Kick off a thread that repeatedly creates new JPanels and resets the swing node&#39;s content\r\n        new Thread(() -&gt; {\r\n            \r\n            while(true) {\r\n                \r\n                //Lets throw in a little sleep so we can read the output\r\n                try {\r\n                    Thread.sleep(500);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                \r\n                SwingUtilities.invokeLater(() -&gt; {\r\n                    JPanel panel = new JPanel();\r\n                    panels.add(new WeakReference&lt;&gt;(panel));\r\n                    //Removed the line below\r\n                    //node.setContent(panel);\r\n                    \r\n                    //Added these 2 lines\r\n                    swingContent.removeAll();\r\n                    swingContent.add(panel);\r\n                });\r\n                \r\n                System.out.println(&quot;Panels in memory: &quot; + panels.stream().filter(ref -&gt; ref.get() != null).count());\r\n                \r\n                //I know this doesn&#39;t guarantee anything, but prompting a GC gives me more confidence that this\r\n                //truly is a bug.\r\n                System.gc();\r\n            }\r\n            \r\n        }).start();\r\n        \r\n        primaryStage.setScene(new Scene(root, 100, 100));\r\n        \r\n        primaryStage.show();\r\n        \r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Content of SwingNode not garbage collected when content changed","body":"<p>OK, I figured it out.</p>\n<h1>Short answer</h1>\n<p>Just wrap the swing content inside a <code>JPanel</code> (or some other <code>JComponent</code>). Then only ever call <code>SwingNode.setContent()</code> once to add the wrapper. When you need to update the swing content, call <code>removeAll()</code> on your wrapper and then <code>add()</code> with the appropriate content.</p>\n<h1>Long Answer</h1>\n<p>Thanks to the suggestion in this answer: <a href=\"https://stackoverflow.com/a/66283491/2423283\">https://stackoverflow.com/a/66283491/2423283</a> I was able to determine that the leak is caused by <code>GlassStage</code> which is a non-api class which among other things, keeps a static list of all implementations of <code>GlassStage</code>. The content of a <code>SwingNode</code> gets managed by an instance of <code>EmbeddedScene</code> which is a subtype of <code>GlassStage</code>.</p>\n<p>Items are removed from the static list when <code>close()</code> is called on them. <code>SwingNode.setContent()</code> does not close any pre-existing content, but <code>Container.removeAll()</code> does.</p>\n<h1>Working code</h1>\n<p>Here's an example of the fixed code:</p>\n<pre><code>public class LeakDemoFixed extends Application {\n\n    //Keep week references to all panels that we've ever generated to see if any\n    //of them get collected.\n    private Collection&lt;WeakReference&lt;JPanel&gt;&gt; panels = new CopyOnWriteArrayList&lt;&gt;();\n    \n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        \n        SwingNode node = new SwingNode();\n        \n        //These 2 lines were added\n        JComponent swingContent = new JPanel();\n        node.setContent(swingContent);\n        \n        Pane root = new Pane();\n        root.getChildren().add(node);\n        \n        //Kick off a thread that repeatedly creates new JPanels and resets the swing node's content\n        new Thread(() -&gt; {\n            \n            while(true) {\n                \n                //Lets throw in a little sleep so we can read the output\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                \n                SwingUtilities.invokeLater(() -&gt; {\n                    JPanel panel = new JPanel();\n                    panels.add(new WeakReference&lt;&gt;(panel));\n                    //Removed the line below\n                    //node.setContent(panel);\n                    \n                    //Added these 2 lines\n                    swingContent.removeAll();\n                    swingContent.add(panel);\n                });\n                \n                System.out.println(&quot;Panels in memory: &quot; + panels.stream().filter(ref -&gt; ref.get() != null).count());\n                \n                //I know this doesn't guarantee anything, but prompting a GC gives me more confidence that this\n                //truly is a bug.\n                System.gc();\n            }\n            \n        }).start();\n        \n        primaryStage.setScene(new Scene(root, 100, 100));\n        \n        primaryStage.show();\n        \n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24833537,"reputation":21,"user_id":18712453,"display_name":"Kyra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700823028,"creation_date":1649157938,"answer_id":71750924,"question_id":66270491,"body_markdown":"**Update**: We finally moved JAVA8 and the issue persists for us using the latest JFX so I re-patched it, I need to perform a few verifications before trying to push it to JFX repo but if someone needs it it&#39;s here: https://github.com/ImKyra/jfx.git\r\n\r\n____________________________________________________________\r\n\r\nI didn&#39;t reached this question before but here is what I&#39;ve done to correct the issue. I would like this fix to be integrated into JavaFX for Java8 but I don&#39;t know how to get this done and they closed the issue (because of duplicate)\r\n\r\nhttps://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8284352\r\n\r\nThe problem is due to the JLightweightFrame never being released by de SwingNodeDisposer.\r\n\r\nThe SwingNodeDisposer holds an hard pointer to the JLightweightFrame that prevents its suppression.\r\n\r\nI have modified the SwingNode.setContentImpl() function to use a WeakReference&lt;JLightweightFrame&gt; instead of an hard pointer and now memory is properly released.\r\n\r\n...\r\n\r\n        WeakReference&lt;JLightweightFrame&gt; lwFramePtr = new WeakReference&lt;JLightweightFrame&gt;(lwFrame);\r\n        SwingNodeDisposer disposeRec = new SwingNodeDisposer(lwFramePtr);\r\n        Disposer.addRecord(this, disposeRec);\r\n\r\n...\r\n\r\nThis gives good results without having the need to use a single JPanel or to encapsulate it inside a WeakReference.\r\n\r\n","title":"Content of SwingNode not garbage collected when content changed","body":"<p><strong>Update</strong>: We finally moved JAVA8 and the issue persists for us using the latest JFX so I re-patched it, I need to perform a few verifications before trying to push it to JFX repo but if someone needs it it's here: <a href=\"https://github.com/ImKyra/jfx.git\" rel=\"nofollow noreferrer\">https://github.com/ImKyra/jfx.git</a></p>\n<hr />\n<p>I didn't reached this question before but here is what I've done to correct the issue. I would like this fix to be integrated into JavaFX for Java8 but I don't know how to get this done and they closed the issue (because of duplicate)</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8284352\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8284352</a></p>\n<p>The problem is due to the JLightweightFrame never being released by de SwingNodeDisposer.</p>\n<p>The SwingNodeDisposer holds an hard pointer to the JLightweightFrame that prevents its suppression.</p>\n<p>I have modified the SwingNode.setContentImpl() function to use a WeakReference instead of an hard pointer and now memory is properly released.</p>\n<p>...</p>\n<pre><code>    WeakReference&lt;JLightweightFrame&gt; lwFramePtr = new WeakReference&lt;JLightweightFrame&gt;(lwFrame);\n    SwingNodeDisposer disposeRec = new SwingNodeDisposer(lwFramePtr);\n    Disposer.addRecord(this, disposeRec);\n</code></pre>\n<p>...</p>\n<p>This gives good results without having the need to use a single JPanel or to encapsulate it inside a WeakReference.</p>\n"}],"owner":{"account_id":2819099,"reputation":928,"user_id":2423283,"accept_rate":86,"display_name":"NateW"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66325365,"answer_count":3,"score":3,"last_activity_date":1700823028,"creation_date":1613697637,"question_id":66270491,"body_markdown":"\r\nI have a JavaFX application that displays a Swing plot via a SwingNode. Due to the way that the swing component is written and my unwillingness to refactor it, I create a new instance of the swing plot each time the user needs to update the data. In other words, whenever the user re-generates the plot, it creates a new Swing component and sets the SwingNode&#39;s content to the new component.\r\n\r\nIt all works fine except that I discovered that the swing components never get garbage collected. They contain a substantial amount of data, so after a while it becomes a pretty severe memory leak.\r\n\r\nI&#39;ve been able to demonstrate the issue with this minimum reproducible example:\r\n\r\n```java\r\npublic class LeakDemo extends Application {\r\n\r\n    //Keep week references to all panels that we&#39;ve ever generated to see if any\r\n    //of them get collected.\r\n    private Collection&lt;WeakReference&lt;JPanel&gt;&gt; panels = new CopyOnWriteArrayList&lt;&gt;();\r\n    \r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        \r\n        SwingNode node = new SwingNode();\r\n        \r\n        Pane root = new Pane();\r\n        root.getChildren().add(node);\r\n        \r\n        //Kick off a thread that repeatedly creates new JPanels and resets the swing node&#39;s content\r\n        new Thread(() -&gt; {\r\n            \r\n            while(true) {\r\n                \r\n                //Lets throw in a little sleep so we can read the output\r\n                try {\r\n                    Thread.sleep(500);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                \r\n                SwingUtilities.invokeLater(() -&gt; {\r\n                    JPanel panel = new JPanel();\r\n                    panels.add(new WeakReference&lt;&gt;(panel));\r\n                    node.setContent(panel);\r\n                });\r\n                \r\n                System.out.println(&quot;Panels in memory: &quot; + panels.stream().filter(ref -&gt; ref.get() != null).count());\r\n                \r\n                //I know this doesn&#39;t guarantee anything, but prompting a GC gives me more confidence that this\r\n                //truly is a bug.\r\n                System.gc();\r\n            }\r\n            \r\n        }).start();\r\n        \r\n        primaryStage.setScene(new Scene(root, 100, 100));\r\n        \r\n        primaryStage.show();\r\n        \r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nThe output of the program is\r\n\r\n```\r\nPanels in memory: 0\r\nPanels in memory: 1\r\nPanels in memory: 2\r\nPanels in memory: 3\r\nPanels in memory: 4\r\nPanels in memory: 5\r\nPanels in memory: 6\r\nPanels in memory: 7\r\nPanels in memory: 8\r\nPanels in memory: 9\r\nPanels in memory: 10\r\n```\r\n\r\nand will continue like that into the thousands.\r\n\r\nI tried inspecting a heap dump from jvisualvm, but got pretty lost in the sea of references.\r\n\r\nI&#39;m suspicious that this is an issue in JavaFX, but I thought I&#39;d check here before I report it as a bug.\r\n\r\n","title":"Content of SwingNode not garbage collected when content changed","body":"<p>I have a JavaFX application that displays a Swing plot via a SwingNode. Due to the way that the swing component is written and my unwillingness to refactor it, I create a new instance of the swing plot each time the user needs to update the data. In other words, whenever the user re-generates the plot, it creates a new Swing component and sets the SwingNode's content to the new component.</p>\n<p>It all works fine except that I discovered that the swing components never get garbage collected. They contain a substantial amount of data, so after a while it becomes a pretty severe memory leak.</p>\n<p>I've been able to demonstrate the issue with this minimum reproducible example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LeakDemo extends Application {\n\n    //Keep week references to all panels that we've ever generated to see if any\n    //of them get collected.\n    private Collection&lt;WeakReference&lt;JPanel&gt;&gt; panels = new CopyOnWriteArrayList&lt;&gt;();\n    \n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        \n        SwingNode node = new SwingNode();\n        \n        Pane root = new Pane();\n        root.getChildren().add(node);\n        \n        //Kick off a thread that repeatedly creates new JPanels and resets the swing node's content\n        new Thread(() -&gt; {\n            \n            while(true) {\n                \n                //Lets throw in a little sleep so we can read the output\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                \n                SwingUtilities.invokeLater(() -&gt; {\n                    JPanel panel = new JPanel();\n                    panels.add(new WeakReference&lt;&gt;(panel));\n                    node.setContent(panel);\n                });\n                \n                System.out.println(&quot;Panels in memory: &quot; + panels.stream().filter(ref -&gt; ref.get() != null).count());\n                \n                //I know this doesn't guarantee anything, but prompting a GC gives me more confidence that this\n                //truly is a bug.\n                System.gc();\n            }\n            \n        }).start();\n        \n        primaryStage.setScene(new Scene(root, 100, 100));\n        \n        primaryStage.show();\n        \n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>The output of the program is</p>\n<pre><code>Panels in memory: 0\nPanels in memory: 1\nPanels in memory: 2\nPanels in memory: 3\nPanels in memory: 4\nPanels in memory: 5\nPanels in memory: 6\nPanels in memory: 7\nPanels in memory: 8\nPanels in memory: 9\nPanels in memory: 10\n</code></pre>\n<p>and will continue like that into the thousands.</p>\n<p>I tried inspecting a heap dump from jvisualvm, but got pretty lost in the sea of references.</p>\n<p>I'm suspicious that this is an issue in JavaFX, but I thought I'd check here before I report it as a bug.</p>\n"},{"tags":["java","spring-boot","docker-compose","communication"],"comments":[{"owner":{"account_id":10250073,"reputation":1,"user_id":7564615,"display_name":"Vinu"},"score":0,"creation_date":1700800231,"post_id":77539449,"comment_id":136700102,"body_markdown":"@mahfuj asif  Thank you for editing. Please let me know how did you do that.","body":"@mahfuj asif  Thank you for editing. Please let me know how did you do that."},{"owner":{"account_id":10250073,"reputation":1,"user_id":7564615,"display_name":"Vinu"},"score":0,"creation_date":1700847923,"post_id":77539449,"comment_id":136706989,"body_markdown":"I found the issue. I was not supposed to put port number in the the datasource url:\n\nintead of  spring.datasource.url: jdbc:mysql://mysqldb:8500/poc?createDatabaseIfNotExist=true \n\nuse\n\nspring.datasource.url: jdbc:mysql://mysqldb/poc?createDatabaseIfNotExist=true","body":"I found the issue. I was not supposed to put port number in the the datasource url:  intead of  spring.datasource.url: jdbc:mysql://mysqldb:8500/poc?createDatabaseIfNotExist=true   use  spring.datasource.url: jdbc:mysql://mysqldb/poc?createDatabaseIfNotExist=true"},{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1700860135,"post_id":77539449,"comment_id":136708411,"body_markdown":"check this question https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks","body":"check this question <a href=\"https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks\" title=\"how do i format my code blocks\">meta.stackoverflow.com/questions/251361/&hellip;</a>"},{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1700860328,"post_id":77539449,"comment_id":136708433,"body_markdown":"Also follow this guideline to avoid downvotes https://stackoverflow.com/help/how-to-ask","body":"Also follow this guideline to avoid downvotes <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":14669102,"reputation":976,"user_id":10594058,"display_name":"todaynowork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700823016,"creation_date":1700823016,"answer_id":77542571,"question_id":77539449,"body_markdown":"I think mysql allow root access from localhost by default. You could consider from this perspective and let you mysql could be access from any host. Something like \r\n\r\nmysql&gt; update mysql.user set host = &#39;%&#39; where user=&#39;root&#39;;\r\n\r\nFYI: https://nemoz.info/run-mysql-from-docker-and-allow-access-from-outside-container/","title":"Spring Boot with mysql containerization","body":"<p>I think mysql allow root access from localhost by default. You could consider from this perspective and let you mysql could be access from any host. Something like</p>\n<p>mysql&gt; update mysql.user set host = '%' where user='root';</p>\n<p>FYI: <a href=\"https://nemoz.info/run-mysql-from-docker-and-allow-access-from-outside-container/\" rel=\"nofollow noreferrer\">https://nemoz.info/run-mysql-from-docker-and-allow-access-from-outside-container/</a></p>\n"}],"owner":{"account_id":10250073,"reputation":1,"user_id":7564615,"display_name":"Vinu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700823016,"creation_date":1700770693,"question_id":77539449,"body_markdown":"```\r\nversion: &#39;3.7&#39;\r\nservices:\r\n  mysqldb:\r\n    image: mysql:8\r\n    restart: always\r\n    healthcheck:\r\n      test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\r\n      timeout: 20s\r\n      retries: 10\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: root\r\n      MYSQL_DATABASE: poc\r\n    ports:\r\n      - 8500:3306\r\n    volumes:\r\n      - db:/var/lib/mysql\r\n\r\n  redis-to-mysql:\r\n    image: redis-to-mysql:1\r\n    hostname: redis-to-mysql\r\n    ports:\r\n      - &quot;8400:8400&quot;\r\n    environment:\r\n      spring.datasource.url: jdbc:mysql://mysqldb:8500/poc?createDatabaseIfNotExist=true\r\n      spring.jpa.properties.hibernate.dialect: org.hibernate.dialect.MySQL8Dialect\r\n      spring.datasource.username: root\r\n      spring.datasource.password: root\r\n      spring.jpa.hibernate.ddl-auto: none\r\n    depends_on:\r\n      mysqldb:\r\n        condition: service_healthy\r\n\r\nvolumes:\r\n  db:\r\n\r\nDescription:\r\n```\r\n\r\nUsing above docker-compose I am getting a connection refused due to a communication link error.\r\n    \r\nEarlier I was using custom network\r\n```   \r\n    networks:\r\n     app:\r\n      driver: bridge\r\n```\r\nAlso tried using different dialect provided for mysql8.Trying this on Mac M1 machine. Also tried with arm64 vesion of mysql8 and got similar error.\r\n","title":"Spring Boot with mysql containerization","body":"<pre><code>version: '3.7'\nservices:\n  mysqldb:\n    image: mysql:8\n    restart: always\n    healthcheck:\n      test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\n      timeout: 20s\n      retries: 10\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n      MYSQL_DATABASE: poc\n    ports:\n      - 8500:3306\n    volumes:\n      - db:/var/lib/mysql\n\n  redis-to-mysql:\n    image: redis-to-mysql:1\n    hostname: redis-to-mysql\n    ports:\n      - &quot;8400:8400&quot;\n    environment:\n      spring.datasource.url: jdbc:mysql://mysqldb:8500/poc?createDatabaseIfNotExist=true\n      spring.jpa.properties.hibernate.dialect: org.hibernate.dialect.MySQL8Dialect\n      spring.datasource.username: root\n      spring.datasource.password: root\n      spring.jpa.hibernate.ddl-auto: none\n    depends_on:\n      mysqldb:\n        condition: service_healthy\n\nvolumes:\n  db:\n\nDescription:\n</code></pre>\n<p>Using above docker-compose I am getting a connection refused due to a communication link error.</p>\n<p>Earlier I was using custom network</p>\n<pre><code>    networks:\n     app:\n      driver: bridge\n</code></pre>\n<p>Also tried using different dialect provided for mysql8.Trying this on Mac M1 machine. Also tried with arm64 vesion of mysql8 and got similar error.</p>\n"},{"tags":["java","spring","spring-boot","generics"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1641139327,"post_id":70557480,"comment_id":124726037,"body_markdown":"Replacing `throws Throwable` with `throws ClientNotFoundException` does not work? If not: please [edit] the post and include the compilation error. --- As an aside: `isExists(...)` is a terrible name. Renaming the method to `doesExist(...)` does not make it better; I would then expect the method to return a `boolean` instead of a `T`.","body":"Replacing <code>throws Throwable</code> with <code>throws ClientNotFoundException</code> does not work? If not: please <a href=\"https://stackoverflow.com/posts/70557480/edit\">edit</a> the post and include the compilation error. --- As an aside: <code>isExists(...)</code> is a terrible name. Renaming the method to <code>doesExist(...)</code> does not make it better; I would then expect the method to return a <code>boolean</code> instead of a <code>T</code>."},{"owner":{"account_id":23806749,"reputation":56,"user_id":17816148,"display_name":"superevil"},"score":0,"creation_date":1641139794,"post_id":70557480,"comment_id":124726154,"body_markdown":"Edited! and sure, the name is a horrible option, it&#39;s just temporary","body":"Edited! and sure, the name is a horrible option, it&#39;s just temporary"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1641141472,"post_id":70557480,"comment_id":124726566,"body_markdown":"Obvious question - your exception class is subclassed (directly or indirectly) from Exception, right?","body":"Obvious question - your exception class is subclassed (directly or indirectly) from Exception, right?"},{"owner":{"account_id":23806749,"reputation":56,"user_id":17816148,"display_name":"superevil"},"score":0,"creation_date":1641142425,"post_id":70557480,"comment_id":124726833,"body_markdown":"Sure, it extends Exception","body":"Sure, it extends Exception"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1641145088,"post_id":70557480,"comment_id":124727487,"body_markdown":"&quot;unreported Exception&quot;?? &quot;must be caught or declared to be thrown&quot; - are you handling the Exception (`catch` or `throws`) where the method is being called?","body":"&quot;unreported Exception&quot;?? &quot;must be caught or declared to be thrown&quot; - are you handling the Exception (<code>catch</code> or <code>throws</code>) where the method is being called?"},{"owner":{"account_id":23806749,"reputation":56,"user_id":17816148,"display_name":"superevil"},"score":0,"creation_date":1641247894,"post_id":70557480,"comment_id":124752483,"body_markdown":"Oh no, I just need to throw it to the Controller","body":"Oh no, I just need to throw it to the Controller"},{"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"score":0,"creation_date":1671146805,"post_id":70557480,"comment_id":132042247,"body_markdown":"What version of Java are you using?  This was fixed quite a while back, I believe: https://bugs.openjdk.org/browse/JDK-8054569.  I can&#39;t reproduce your issue myself.","body":"What version of Java are you using?  This was fixed quite a while back, I believe: <a href=\"https://bugs.openjdk.org/browse/JDK-8054569\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8054569</a>.  I can&#39;t reproduce your issue myself."}],"answers":[{"tags":[],"owner":{"account_id":3117562,"reputation":1,"user_id":2638011,"display_name":"intro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700822995,"creation_date":1700822995,"answer_id":77542567,"question_id":70557480,"body_markdown":"I had the same problem. Ended with workaround:\r\n\r\n    E entity = (E) repository.findById(entityId).orElse(null);\r\n    if (entity == null){\r\n        throw new NonexistentEntityException(String.format(&quot;%s with id=%d not exists&quot;, keyName, entityId));\r\n    }","title":"Throwing custom exception from generic method - Java","body":"<p>I had the same problem. Ended with workaround:</p>\n<pre><code>E entity = (E) repository.findById(entityId).orElse(null);\nif (entity == null){\n    throw new NonexistentEntityException(String.format(&quot;%s with id=%d not exists&quot;, keyName, entityId));\n}\n</code></pre>\n"}],"owner":{"account_id":23806749,"reputation":56,"user_id":17816148,"display_name":"superevil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700822995,"creation_date":1641139148,"question_id":70557480,"body_markdown":"I&#39;m using Spring Boot and Spring Data JPA, and i have a **generic method** that returns a generic type object and a **custom exception** that needs to be thrown from the generic method.\r\nUnfortunately, I get an error from the IDE suggesting that I should throw the generic **Throwable** instead of my custom exception. Whenever I try to throw my exception, I get a compilation error.\r\n\r\nThe generic method -&gt; Gets one of three client types from the database, or throws an **ClientNotFoundException** stating that the client wasn&#39;t found in db:\r\n\r\n        public static &lt;T&gt; T isExists(JpaRepository repository, int id, ClientType clientType) throws Throwable {\r\n        T fromDB = (T) repository.findById(id).orElseThrow(() -&gt; new ClientNotFoundException(&quot;Error getting info from dababase&quot;, Calendar.getInstance(), null, clientType));\r\n        return fromDB;\r\n    }\r\n\r\nWhat seems to be the problem? How can I throw my custom exception from my generic method? Thanks :)\r\n\r\n\r\n*edited*:\r\nIf I manually throw from method header **ClientNotFoundException**, the lines go red and the app is not compiling-\r\n\r\nThe compilation error that I get is:\r\n\r\n    java: unreported exception java.lang.Throwable; must be caught or declared to be thrown\r\n\r\nIDE (using IntelliJ) suggests 3 options:\r\n- Convert exception to Throwable\r\n- Annotate with @SneakyThrows\r\n- try/catch \r\n\r\nThe suggestions are not the best for me, so I&#39;d like to check other solutions..","title":"Throwing custom exception from generic method - Java","body":"<p>I'm using Spring Boot and Spring Data JPA, and i have a <strong>generic method</strong> that returns a generic type object and a <strong>custom exception</strong> that needs to be thrown from the generic method.\nUnfortunately, I get an error from the IDE suggesting that I should throw the generic <strong>Throwable</strong> instead of my custom exception. Whenever I try to throw my exception, I get a compilation error.</p>\n<p>The generic method -&gt; Gets one of three client types from the database, or throws an <strong>ClientNotFoundException</strong> stating that the client wasn't found in db:</p>\n<pre><code>    public static &lt;T&gt; T isExists(JpaRepository repository, int id, ClientType clientType) throws Throwable {\n    T fromDB = (T) repository.findById(id).orElseThrow(() -&gt; new ClientNotFoundException(&quot;Error getting info from dababase&quot;, Calendar.getInstance(), null, clientType));\n    return fromDB;\n}\n</code></pre>\n<p>What seems to be the problem? How can I throw my custom exception from my generic method? Thanks :)</p>\n<p><em>edited</em>:\nIf I manually throw from method header <strong>ClientNotFoundException</strong>, the lines go red and the app is not compiling-</p>\n<p>The compilation error that I get is:</p>\n<pre><code>java: unreported exception java.lang.Throwable; must be caught or declared to be thrown\n</code></pre>\n<p>IDE (using IntelliJ) suggests 3 options:</p>\n<ul>\n<li>Convert exception to Throwable</li>\n<li>Annotate with @SneakyThrows</li>\n<li>try/catch</li>\n</ul>\n<p>The suggestions are not the best for me, so I'd like to check other solutions..</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1700817842,"post_id":77542015,"comment_id":136702194,"body_markdown":"Nothing is bound. You have an instance of java&#39;s `File` class which does not interact with the file system unless you instruct it to do that. If it would automatically create the file, `f.exists()` wouldn&#39;t make sense. Have you read the documentation of the `File` class?","body":"Nothing is bound. You have an instance of java&#39;s <code>File</code> class which does not interact with the file system unless you instruct it to do that. If it would automatically create the file, <code>f.exists()</code> wouldn&#39;t make sense. Have you read the documentation of the <code>File</code> class?"},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1700817843,"post_id":77542015,"comment_id":136702196,"body_markdown":"*&quot;It&#39;s just that as far as I understand in Java, if there is a file, then it binds, and if not, then it creates a new one.&quot;* Where are you getting this from? Did you try it out?","body":"<i>&quot;It&#39;s just that as far as I understand in Java, if there is a file, then it binds, and if not, then it creates a new one.&quot;</i> Where are you getting this from? Did you try it out?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":1,"creation_date":1700817981,"post_id":77542015,"comment_id":136702217,"body_markdown":"I must have misunderstood ur question but `new File(filePath)` doesn&#39;t create a file, `new File(filePath).createNewFile()` does","body":"I must have misunderstood ur question but <code>new File(filePath)</code> doesn&#39;t create a file, <code>new File(filePath).createNewFile()</code> does"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1700819017,"post_id":77542015,"comment_id":136702406,"body_markdown":"No , not for practical purpose , the only alternate is java.nio.files.File and java.nio.files.Path but is in fact more complex. Also , new File(path) DOES NOT create a file , java.io.File has a boolean method you must call to create the file.","body":"No , not for practical purpose , the only alternate is java.nio.files.File and java.nio.files.Path but is in fact more complex. Also , new File(path) DOES NOT create a file , java.io.File has a boolean method you must call to create the file."}],"answers":[{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700821019,"creation_date":1700821019,"answer_id":77542336,"question_id":77542015,"body_markdown":"You can use a newer `Path` class, which is [well](https://docs.oracle.com/javase/tutorial/essential/io/check.html) [covered](https://docs.oracle.com/javase/tutorial/essential/io/pathOps.html) in the official tutorial.\r\n\r\n```java\r\nPath path = Paths.get(filePath);\r\n\r\nif (!Files.exists(path)) {\r\n    System.out.println(&quot;The file doesn&#39;t exist&quot;);\r\n}\r\n```\r\n\r\nThe `Path` class serves mostly the same purpose as the old `File` class, but includes more functionality and less confusingly named.\r\n\r\nOn a side note, I never could get why people devote so much attention to checking the file&#39;s existence. Usually you don&#39;t just check but do something else with the file. And what if the file gets gone in the time between the check and the usage? Just handle the appropriate `IOException`, you&#39;ll have to do it in the commercial code anyway.","title":"Is it possible to check file exists with out file connection?","body":"<p>You can use a newer <code>Path</code> class, which is <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/check.html\" rel=\"nofollow noreferrer\">well</a> <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/pathOps.html\" rel=\"nofollow noreferrer\">covered</a> in the official tutorial.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path path = Paths.get(filePath);\n\nif (!Files.exists(path)) {\n    System.out.println(&quot;The file doesn't exist&quot;);\n}\n</code></pre>\n<p>The <code>Path</code> class serves mostly the same purpose as the old <code>File</code> class, but includes more functionality and less confusingly named.</p>\n<p>On a side note, I never could get why people devote so much attention to checking the file's existence. Usually you don't just check but do something else with the file. And what if the file gets gone in the time between the check and the usage? Just handle the appropriate <code>IOException</code>, you'll have to do it in the commercial code anyway.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700822581,"creation_date":1700822581,"answer_id":77542512,"question_id":77542015,"body_markdown":"&gt; It&#39;s just that as far as I understand in Java, if there is a file, then it binds, and if not, then it creates a new one.\r\n\r\nNo, and no.\r\n\r\nFile is incredibly lightweight. It wraps around a string. __That is all it does__. `new File(&quot;whatever&quot;)` makes zero calls to the underlying OS, opens no file handles, and in fact is entirely a memory operation, and would work fine even if your disk is failing as we speak.\r\n\r\nMemory and CPU and OS call wise there is no difference whatsoever between `new File(&quot;foo&quot;)` and `String x = &quot;foo&quot;`. Except, I guess, for an extremely lightweight object that contains just 1 reference (to a string containing the path).\r\n\r\n`new File(&quot;someRealFile.txt&quot;)` does not open the file; it wouldn&#39;t cause that file to be created if it doesn&#39;t exist, and it does not cause that file, if it exists, to now be un-deletable on OSes that make it impossible to delete files that are open, such as windows.\r\n\r\nHence, `new File(&quot;someFile.txt&quot;).exists()` is it - that is as light weight as you want it to be.\r\n\r\nThere _is_ a new file API: `java.nio.file`. It would look like:\r\n\r\n```\r\nFiles.exists(Path.of(&quot;/path/to/file&quot;))\r\n```\r\n\r\nThe reason to use it have nothing to do with &#39;binding&#39;. the new API has two features:\r\n\r\n* The old API uses return values for errors. For example, `new File(&quot;something.txt&quot;).mkdir()`, if it fails, it just returns `false`. This is bad design - it&#39;s un-java-like (very few other java libraries do this), and that makes the problem with that design even more problematic - because the problem is that you&#39;re likely to forget to check. In contrast to exceptions (the mechanism used by the new file APIs). With exceptions, if you forget to deal with them, you&#39;ll know at runtime, vs a &#39;silently, nothing happens&#39; that results in hours-long bug hunts. Also, booleans offer no info; exceptions have properties and string based messages to look at.\r\n\r\n* The new file API offers more features. You can use it to fetch file creation timestamps for example, or to follow softlinks. Things the old API cannot do.\r\n\r\nIf those are relevant to your case you might want to switch, or you want to switch to the newer API simply for consistency. But you don&#39;t have to do it to address this non-existent &#39;binding / creation&#39; problem.","title":"Is it possible to check file exists with out file connection?","body":"<blockquote>\n<p>It's just that as far as I understand in Java, if there is a file, then it binds, and if not, then it creates a new one.</p>\n</blockquote>\n<p>No, and no.</p>\n<p>File is incredibly lightweight. It wraps around a string. <strong>That is all it does</strong>. <code>new File(&quot;whatever&quot;)</code> makes zero calls to the underlying OS, opens no file handles, and in fact is entirely a memory operation, and would work fine even if your disk is failing as we speak.</p>\n<p>Memory and CPU and OS call wise there is no difference whatsoever between <code>new File(&quot;foo&quot;)</code> and <code>String x = &quot;foo&quot;</code>. Except, I guess, for an extremely lightweight object that contains just 1 reference (to a string containing the path).</p>\n<p><code>new File(&quot;someRealFile.txt&quot;)</code> does not open the file; it wouldn't cause that file to be created if it doesn't exist, and it does not cause that file, if it exists, to now be un-deletable on OSes that make it impossible to delete files that are open, such as windows.</p>\n<p>Hence, <code>new File(&quot;someFile.txt&quot;).exists()</code> is it - that is as light weight as you want it to be.</p>\n<p>There <em>is</em> a new file API: <code>java.nio.file</code>. It would look like:</p>\n<pre><code>Files.exists(Path.of(&quot;/path/to/file&quot;))\n</code></pre>\n<p>The reason to use it have nothing to do with 'binding'. the new API has two features:</p>\n<ul>\n<li><p>The old API uses return values for errors. For example, <code>new File(&quot;something.txt&quot;).mkdir()</code>, if it fails, it just returns <code>false</code>. This is bad design - it's un-java-like (very few other java libraries do this), and that makes the problem with that design even more problematic - because the problem is that you're likely to forget to check. In contrast to exceptions (the mechanism used by the new file APIs). With exceptions, if you forget to deal with them, you'll know at runtime, vs a 'silently, nothing happens' that results in hours-long bug hunts. Also, booleans offer no info; exceptions have properties and string based messages to look at.</p>\n</li>\n<li><p>The new file API offers more features. You can use it to fetch file creation timestamps for example, or to follow softlinks. Things the old API cannot do.</p>\n</li>\n</ul>\n<p>If those are relevant to your case you might want to switch, or you want to switch to the newer API simply for consistency. But you don't have to do it to address this non-existent 'binding / creation' problem.</p>\n"}],"owner":{"account_id":23703327,"reputation":9,"user_id":22517269,"display_name":"ETIT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1700822581,"creation_date":1700817722,"question_id":77542015,"body_markdown":"In my project, I attach a file using `File f = new File(filePath);` and then check the existing file using `f.exists()`. So my question is: Is it possible to check the existence of a file without `File f = new File(filePath);`? It&#39;s just that as far as I understand in Java, if there is a file, then it binds, and if not, then it creates a new one. I just don&#39;t want to overwrite a file that may contain important data.","title":"Is it possible to check file exists with out file connection?","body":"<p>In my project, I attach a file using <code>File f = new File(filePath);</code> and then check the existing file using <code>f.exists()</code>. So my question is: Is it possible to check the existence of a file without <code>File f = new File(filePath);</code>? It's just that as far as I understand in Java, if there is a file, then it binds, and if not, then it creates a new one. I just don't want to overwrite a file that may contain important data.</p>\n"},{"tags":["java","gradle","libgdx","game-engine","game-development"],"answers":[{"tags":[],"owner":{"account_id":200481,"reputation":5195,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700822239,"creation_date":1700822239,"answer_id":77542478,"question_id":77542437,"body_markdown":"The error is in &quot;Unsupported class file major version 63&quot;.\r\n\r\nJava class file version 63, is java jdk 19, so it is complaining that the class files have been compiled for java version 19, but you are using a version which is smaller then version 19.\r\n  ","title":"libGDX Project Generator showing &quot;Build Failed&quot; everytime I try Generating a project","body":"<p>The error is in &quot;Unsupported class file major version 63&quot;.</p>\n<p>Java class file version 63, is java jdk 19, so it is complaining that the class files have been compiled for java version 19, but you are using a version which is smaller then version 19.</p>\n"}],"owner":{"account_id":29294836,"reputation":23,"user_id":22444392,"display_name":"JRichter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700822239,"creation_date":1700821832,"question_id":77542437,"body_markdown":"I am trying to install libGDX on my machine using the libGDX Project Setup and have set the location to everything it needs.But everytime I click &quot;Generate&quot;,I get this Error:\r\n\r\n```\r\nGenerating app in C:\\Users\\lenovo\\Desktop\\test\r\nExecuting &#39;C:\\Users\\lenovo\\Desktop\\test/gradlew.bat clean --no-daemon&#39;\r\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\r\nDaemon will be stopped at the end of the build \r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;C:\\Users\\lenovo\\Desktop\\test\\settings.gradle&#39; (C:\\Users\\lenovo\\.gradle\\caches\\7.5.1\\scripts\\2e5ewf69m4vwrhf5dztt0u5q6).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 6s\r\nDone!\r\nTo import in Eclipse: File -&gt; Import -&gt; Gradle -&gt; Existing Gradle Project\r\nTo import to Intellij IDEA: File -&gt; Open -&gt; build.gradle\r\nTo import to NetBeans: File -&gt; Open Project...\r\nGenerating app in C:\\Users\\lenovo\\Desktop\\test\r\nExecuting &#39;C:\\Users\\lenovo\\Desktop\\test/gradlew.bat clean --no-daemon&#39;\r\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\r\nDaemon will be stopped at the end of the build \r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;C:\\Users\\lenovo\\Desktop\\test\\settings.gradle&#39; (C:\\Users\\lenovo\\.gradle\\caches\\7.5.1\\scripts\\2e5ewf69m4vwrhf5dztt0u5q6).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\nDone!\r\nTo import in Eclipse: File -&gt; Import -&gt; Gradle -&gt; Existing Gradle Project\r\nTo import to Intellij IDEA: File -&gt; Open -&gt; build.gradle\r\nTo import to NetBeans: File -&gt; Open Project...\r\nGenerating app in C:\\Users\\lenovo\\Desktop\\test\r\nExecuting &#39;C:\\Users\\lenovo\\Desktop\\test/gradlew.bat clean --no-daemon&#39;\r\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\r\nDaemon will be stopped at the end of the build \r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;C:\\Users\\lenovo\\Desktop\\test\\settings.gradle&#39; (C:\\Users\\lenovo\\.gradle\\caches\\7.5.1\\scripts\\2e5ewf69m4vwrhf5dztt0u5q6).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 6s\r\nDone!\r\nTo import in Eclipse: File -&gt; Import -&gt; Gradle -&gt; Existing Gradle Project\r\nTo import to Intellij IDEA: File -&gt; Open -&gt; build.gradle\r\nTo import to NetBeans: File -&gt; Open Project...\r\n```\r\n\r\nI have tried searching everywhere but I am having difficulty getting this to work. I am very new to this and any help will be hugely appreciated.","title":"libGDX Project Generator showing &quot;Build Failed&quot; everytime I try Generating a project","body":"<p>I am trying to install libGDX on my machine using the libGDX Project Setup and have set the location to everything it needs.But everytime I click &quot;Generate&quot;,I get this Error:</p>\n<pre><code>Generating app in C:\\Users\\lenovo\\Desktop\\test\nExecuting 'C:\\Users\\lenovo\\Desktop\\test/gradlew.bat clean --no-daemon'\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\nDaemon will be stopped at the end of the build \n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not open settings generic class cache for settings file 'C:\\Users\\lenovo\\Desktop\\test\\settings.gradle' (C:\\Users\\lenovo\\.gradle\\caches\\7.5.1\\scripts\\2e5ewf69m4vwrhf5dztt0u5q6).\n&gt; BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 63\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\nDone!\nTo import in Eclipse: File -&gt; Import -&gt; Gradle -&gt; Existing Gradle Project\nTo import to Intellij IDEA: File -&gt; Open -&gt; build.gradle\nTo import to NetBeans: File -&gt; Open Project...\nGenerating app in C:\\Users\\lenovo\\Desktop\\test\nExecuting 'C:\\Users\\lenovo\\Desktop\\test/gradlew.bat clean --no-daemon'\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\nDaemon will be stopped at the end of the build \n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not open settings generic class cache for settings file 'C:\\Users\\lenovo\\Desktop\\test\\settings.gradle' (C:\\Users\\lenovo\\.gradle\\caches\\7.5.1\\scripts\\2e5ewf69m4vwrhf5dztt0u5q6).\n&gt; BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 63\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 5s\nDone!\nTo import in Eclipse: File -&gt; Import -&gt; Gradle -&gt; Existing Gradle Project\nTo import to Intellij IDEA: File -&gt; Open -&gt; build.gradle\nTo import to NetBeans: File -&gt; Open Project...\nGenerating app in C:\\Users\\lenovo\\Desktop\\test\nExecuting 'C:\\Users\\lenovo\\Desktop\\test/gradlew.bat clean --no-daemon'\nTo honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\nDaemon will be stopped at the end of the build \n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not open settings generic class cache for settings file 'C:\\Users\\lenovo\\Desktop\\test\\settings.gradle' (C:\\Users\\lenovo\\.gradle\\caches\\7.5.1\\scripts\\2e5ewf69m4vwrhf5dztt0u5q6).\n&gt; BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 63\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\nDone!\nTo import in Eclipse: File -&gt; Import -&gt; Gradle -&gt; Existing Gradle Project\nTo import to Intellij IDEA: File -&gt; Open -&gt; build.gradle\nTo import to NetBeans: File -&gt; Open Project...\n</code></pre>\n<p>I have tried searching everywhere but I am having difficulty getting this to work. I am very new to this and any help will be hugely appreciated.</p>\n"},{"tags":["java","spring","spring-boot","shedlock"],"answers":[{"tags":[],"owner":{"account_id":103435,"reputation":13726,"user_id":277042,"accept_rate":57,"display_name":"Lukas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700821480,"creation_date":1590076655,"answer_id":61938583,"question_id":61927356,"body_markdown":"Quoting from the documentation:\r\n\r\n&gt; You have to set `lockAtMostFor` to a value that is much longer than\r\n&gt; normal execution time. If the task takes longer than `lockAtMostFor` the\r\n&gt; resulting behavior may be unpredictable (more than one process will\r\n&gt; effectively hold the lock).","title":"Spring Shedlock timing issue","body":"<p>Quoting from the documentation:</p>\n<blockquote>\n<p>You have to set <code>lockAtMostFor</code> to a value that is much longer than\nnormal execution time. If the task takes longer than <code>lockAtMostFor</code> the\nresulting behavior may be unpredictable (more than one process will\neffectively hold the lock).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19335633,"reputation":81,"user_id":14136284,"display_name":"Mohammadreza Beygifard"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1622026374,"creation_date":1622026374,"answer_id":67703450,"question_id":61927356,"body_markdown":"You can find in the [documentation][1] of Shedlock that in order to extend the maximum locked time, `lockAtMostUntil`, you have to create both `SimpleLock` and `extend()` method manually. Remember that, you also have to invoke the `extend()` method manually, or by implementing a `check()` method that checks if your process is finished and invokes the `extend()` method if needed, otherwise, the lock will be automatically unlocked when it reaches the `lockAtMostUntil` time, no matter if your process is still running.\r\n\r\nHere I am explaining how you can create the `SimpleLock` manually from `LockProvider`.\r\nFor questions about how to set the database, I recommend you read this part of the [documentation][2] of Shedlock.\r\n\r\nI have used `spring boot` for my application, so the annotations that you see come from `spring boot`.\r\n\r\n**Dependencies:**\r\n\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;4.23.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shedlock-provider-jdbc-template&lt;/artifactId&gt;\r\n            &lt;version&gt;4.23.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.15.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Configuration** of `LockProvider`:\r\n\r\n    @EnableAsync\r\n    @Profile(&quot;!unit_test&quot;)\r\n    @Configuration\r\n    public class LockConfiguration {\r\n    \r\n        @Bean\r\n        public LockProvider lockProvider(DataSource dataSource) {\r\n    \r\n            return new JdbcTemplateLockProvider(\r\n                    JdbcTemplateLockProvider.Configuration.builder()\r\n                            .withTimeZone(TimeZone.getTimeZone(&quot;Europe/Rome&quot;))\r\n                            .withJdbcTemplate(new JdbcTemplate(dataSource))\r\n                            .withTableName(&quot;shared_lock&quot;)\r\n                            .usingDbTime()\r\n                            .build());\r\n        }\r\n    }\r\n\r\n**DistributedLock** here is where we implement `SimpleLock` and all the needed related methods:\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class DistributedLockWithExtend {\r\n    \r\n        @Autowired\r\n        private LockProvider lockProvider;\r\n    \r\n        private final Map&lt;String, SimpleLock&gt; locks = new HashMap&lt;&gt;();\r\n    \r\n    \r\n    \r\n        public boolean tryLock(String lockname, Duration lockDuration){\r\n            Duration minDuration = Duration.ZERO;\r\n            Instant now = ClockProvider.now();\r\n            LockConfiguration config = new LockConfiguration(now, lockname, lockDuration, minDuration);\r\n            Optional&lt;SimpleLock&gt; lockLocal = lockProvider.lock(config);\r\n            if(lockLocal.isPresent()) {\r\n                locks.put(lockname, lockLocal.get());\r\n                log.debug(&quot;lock is created!&quot;);\r\n                return true;\r\n            }else {\r\n                log.debug(&quot;lock is locked!&quot;);\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        public boolean extendLock(String lockname, Duration duration){\r\n            Duration minDuration = Duration.ZERO;\r\n            SimpleLock lock = locks.get(lockname);\r\n            if(lock != null) {\r\n                Optional&lt;SimpleLock&gt; localLock = lock.extend(duration, duration);\r\n                locks.put(lockname, localLock.get());\r\n                log.debug(&quot;Lock is extended&quot;);\r\n                return true;\r\n            }else {\r\n                log.debug(&quot;There is no lock or the lock is already unlocked! Create a lock with tryLock() if you need!&quot;);\r\n                return false;\r\n            }\r\n    \r\n        }\r\n    \r\n        public String unLock(String lockname){\r\n    \r\n            SimpleLock lock = locks.get(lockname);\r\n            if(lock != null) {\r\n                locks.remove(lockname);\r\n                lock.unlock();\r\n                log.debug(&quot;Lock is unLocked!&quot;);\r\n                return &quot;Lock is unLocked!&quot;;\r\n            }else {\r\n                log.debug(&quot;There is no lock or the lock is already unlocked! Create a lock if you need!&quot;);\r\n                return &quot;There is no lock or the lock is already unlocked! Create a lock if you need!&quot;;\r\n            }\r\n    \r\n    \r\n    \r\n        }\r\n    }\r\n\r\nAnd here is a test **RestController** that I created to demonstrate the usage of the `DistributedLockWithExtend` methods:\r\n\r\n    @Profile(&quot;!unit_test&quot;)\r\n    @RestController\r\n    @RequestMapping(TestLockController.PATH)\r\n    public class TestLockController {\r\n    \r\n        public static final  String PATH = BaseController.PATH + &quot;/test-lock&quot;;\r\n    \r\n        @Autowired\r\n        ApplyPolicyScheduler applyPolicySchedular;\r\n    \r\n        @Autowired\r\n        DistributedLockWithExtend distributedLockWithExtend;\r\n    \r\n        @GetMapping(&quot;/up&quot;)\r\n        public String testService(){\r\n            return &quot;Service is up!&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/invoke&quot;)\r\n        public String invokeTest(){\r\n    \r\n            return distributedLockWithExtend.tryLock(&quot;testLockUtil&quot;, Duration.ofMinutes(1)) + &quot;&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/extend&quot;)\r\n        public String extendTest(){\r\n    \r\n            return distributedLockWithExtend.extendLock(&quot;testLockUtil&quot;, Duration.ofMinutes(3)) + &quot;&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/unlock&quot;)\r\n        public String unlockTest(){\r\n    \r\n             distributedLockWithExtend.unLock(&quot;testLockUtil&quot;);\r\n             return &quot;Unlock called!&quot;;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/lukas-krecan/ShedLock#extending-the-lock\r\n  [2]: https://github.com/lukas-krecan/ShedLock#configure-lockprovider","title":"Spring Shedlock timing issue","body":"<p>You can find in the <a href=\"https://github.com/lukas-krecan/ShedLock#extending-the-lock\" rel=\"nofollow noreferrer\">documentation</a> of Shedlock that in order to extend the maximum locked time, <code>lockAtMostUntil</code>, you have to create both <code>SimpleLock</code> and <code>extend()</code> method manually. Remember that, you also have to invoke the <code>extend()</code> method manually, or by implementing a <code>check()</code> method that checks if your process is finished and invokes the <code>extend()</code> method if needed, otherwise, the lock will be automatically unlocked when it reaches the <code>lockAtMostUntil</code> time, no matter if your process is still running.</p>\n<p>Here I am explaining how you can create the <code>SimpleLock</code> manually from <code>LockProvider</code>.\nFor questions about how to set the database, I recommend you read this part of the <a href=\"https://github.com/lukas-krecan/ShedLock#configure-lockprovider\" rel=\"nofollow noreferrer\">documentation</a> of Shedlock.</p>\n<p>I have used <code>spring boot</code> for my application, so the annotations that you see come from <code>spring boot</code>.</p>\n<p><strong>Dependencies:</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n        &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\n        &lt;version&gt;4.23.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n        &lt;artifactId&gt;shedlock-provider-jdbc-template&lt;/artifactId&gt;\n        &lt;version&gt;4.23.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;5.2.15.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Configuration</strong> of <code>LockProvider</code>:</p>\n<pre><code>@EnableAsync\n@Profile(&quot;!unit_test&quot;)\n@Configuration\npublic class LockConfiguration {\n\n    @Bean\n    public LockProvider lockProvider(DataSource dataSource) {\n\n        return new JdbcTemplateLockProvider(\n                JdbcTemplateLockProvider.Configuration.builder()\n                        .withTimeZone(TimeZone.getTimeZone(&quot;Europe/Rome&quot;))\n                        .withJdbcTemplate(new JdbcTemplate(dataSource))\n                        .withTableName(&quot;shared_lock&quot;)\n                        .usingDbTime()\n                        .build());\n    }\n}\n</code></pre>\n<p><strong>DistributedLock</strong> here is where we implement <code>SimpleLock</code> and all the needed related methods:</p>\n<pre><code>@Component\n@Slf4j\npublic class DistributedLockWithExtend {\n\n    @Autowired\n    private LockProvider lockProvider;\n\n    private final Map&lt;String, SimpleLock&gt; locks = new HashMap&lt;&gt;();\n\n\n\n    public boolean tryLock(String lockname, Duration lockDuration){\n        Duration minDuration = Duration.ZERO;\n        Instant now = ClockProvider.now();\n        LockConfiguration config = new LockConfiguration(now, lockname, lockDuration, minDuration);\n        Optional&lt;SimpleLock&gt; lockLocal = lockProvider.lock(config);\n        if(lockLocal.isPresent()) {\n            locks.put(lockname, lockLocal.get());\n            log.debug(&quot;lock is created!&quot;);\n            return true;\n        }else {\n            log.debug(&quot;lock is locked!&quot;);\n            return false;\n        }\n    }\n\n    public boolean extendLock(String lockname, Duration duration){\n        Duration minDuration = Duration.ZERO;\n        SimpleLock lock = locks.get(lockname);\n        if(lock != null) {\n            Optional&lt;SimpleLock&gt; localLock = lock.extend(duration, duration);\n            locks.put(lockname, localLock.get());\n            log.debug(&quot;Lock is extended&quot;);\n            return true;\n        }else {\n            log.debug(&quot;There is no lock or the lock is already unlocked! Create a lock with tryLock() if you need!&quot;);\n            return false;\n        }\n\n    }\n\n    public String unLock(String lockname){\n\n        SimpleLock lock = locks.get(lockname);\n        if(lock != null) {\n            locks.remove(lockname);\n            lock.unlock();\n            log.debug(&quot;Lock is unLocked!&quot;);\n            return &quot;Lock is unLocked!&quot;;\n        }else {\n            log.debug(&quot;There is no lock or the lock is already unlocked! Create a lock if you need!&quot;);\n            return &quot;There is no lock or the lock is already unlocked! Create a lock if you need!&quot;;\n        }\n\n\n\n    }\n}\n</code></pre>\n<p>And here is a test <strong>RestController</strong> that I created to demonstrate the usage of the <code>DistributedLockWithExtend</code> methods:</p>\n<pre><code>@Profile(&quot;!unit_test&quot;)\n@RestController\n@RequestMapping(TestLockController.PATH)\npublic class TestLockController {\n\n    public static final  String PATH = BaseController.PATH + &quot;/test-lock&quot;;\n\n    @Autowired\n    ApplyPolicyScheduler applyPolicySchedular;\n\n    @Autowired\n    DistributedLockWithExtend distributedLockWithExtend;\n\n    @GetMapping(&quot;/up&quot;)\n    public String testService(){\n        return &quot;Service is up!&quot;;\n    }\n\n    @GetMapping(&quot;/invoke&quot;)\n    public String invokeTest(){\n\n        return distributedLockWithExtend.tryLock(&quot;testLockUtil&quot;, Duration.ofMinutes(1)) + &quot;&quot;;\n    }\n\n    @GetMapping(&quot;/extend&quot;)\n    public String extendTest(){\n\n        return distributedLockWithExtend.extendLock(&quot;testLockUtil&quot;, Duration.ofMinutes(3)) + &quot;&quot;;\n    }\n\n    @GetMapping(&quot;/unlock&quot;)\n    public String unlockTest(){\n\n         distributedLockWithExtend.unLock(&quot;testLockUtil&quot;);\n         return &quot;Unlock called!&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":252238,"reputation":333,"user_id":530158,"accept_rate":50,"display_name":"user530158"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5792,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61938583,"answer_count":2,"score":5,"last_activity_date":1700821480,"creation_date":1590035686,"question_id":61927356,"body_markdown":"We are using Spring Shedlock library to run one instance of task at a time in clustered enviroment.\r\nBut looks like lock is held until specific time (**configured by lockAtMostFor attribute If we dont configure it takes default value from spring config**) not until task is finished. \r\n\r\nLets say if I configured lockAtMostFor=15 mins\r\nno parellel task runs on any of node for 15 mins, but after 15 mins if any of node gets chance to run(or manually trigger) task its able to start it even if previous task is not finished its processing.\r\n\r\n1.Is Shedlock is time based ? \r\n\r\n2.Documentation(https://github.com/lukas-krecan/ShedLock) says lock is only released only when task is finished and lockAtMostFor attribute is only used in case node terminition event , but its not working\r\nlike that even if task is not finished other nodes are able to run task , other nodes are blocked from running task only if time is not elapsed (lockAtMostFor attribute)  \r\n","title":"Spring Shedlock timing issue","body":"<p>We are using Spring Shedlock library to run one instance of task at a time in clustered enviroment.\nBut looks like lock is held until specific time (<strong>configured by lockAtMostFor attribute If we dont configure it takes default value from spring config</strong>) not until task is finished. </p>\n\n<p>Lets say if I configured lockAtMostFor=15 mins\nno parellel task runs on any of node for 15 mins, but after 15 mins if any of node gets chance to run(or manually trigger) task its able to start it even if previous task is not finished its processing.</p>\n\n<p>1.Is Shedlock is time based ? </p>\n\n<p>2.Documentation(<a href=\"https://github.com/lukas-krecan/ShedLock\" rel=\"noreferrer\">https://github.com/lukas-krecan/ShedLock</a>) says lock is only released only when task is finished and lockAtMostFor attribute is only used in case node terminition event , but its not working\nlike that even if task is not finished other nodes are able to run task , other nodes are blocked from running task only if time is not elapsed (lockAtMostFor attribute)  </p>\n"},{"tags":["java","inputstream","processbuilder"],"answers":[{"tags":[],"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700821277,"creation_date":1700821277,"answer_id":77542375,"question_id":77542374,"body_markdown":"The problem with using [`CharStreams.toString()`](https://guava.dev/releases/32.1.3-jre/api/docs/com/google/common/io/CharStreams.html) for this is that it expects the stream to have reached EOF. In cases where the process is still running, this is not the case. If you rewrite the `readAllAsString()` method like this it works, with a few caveats:\r\n\r\n* All input must be currently available. This method is non-blocking; it just reads the data from the `InputStream` which is currently available. Any output written by the process after the `readAllAsString()` method is called will not be included.\r\n* This presumes that the buffer for the pipe doesn&#39;t get full. On my current Linux system the limit seems to be 1 MiB (`cat /proc/sys/fs/pipe-max-size`).\r\n\r\n```java\r\nprivate String readAllAsString( InputStream inputStream ) throws IOException {\r\n    if ( inputStream.available() == 0 ) {\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    // Note: cannot use Guava&#39;s CharStreams.toString() in this case, since the stream\r\n    // has not necessarily reached EOF yet (if we are called when the process is\r\n    // still running)\r\n    byte[] inputData = new byte[inputStream.available()];\r\n    int bytesRead = inputStream.read( inputData, 0, inputStream.available() );\r\n    ByteBuffer byteBuffer = ByteBuffer.wrap( inputData, 0, bytesRead );\r\n\r\n    return StandardCharsets.UTF_8.decode( byteBuffer ).toString();\r\n}\r\n```","title":"How can I read stdout/stderr contents from a Process which is still running?","body":"<p>The problem with using <a href=\"https://guava.dev/releases/32.1.3-jre/api/docs/com/google/common/io/CharStreams.html\" rel=\"nofollow noreferrer\"><code>CharStreams.toString()</code></a> for this is that it expects the stream to have reached EOF. In cases where the process is still running, this is not the case. If you rewrite the <code>readAllAsString()</code> method like this it works, with a few caveats:</p>\n<ul>\n<li>All input must be currently available. This method is non-blocking; it just reads the data from the <code>InputStream</code> which is currently available. Any output written by the process after the <code>readAllAsString()</code> method is called will not be included.</li>\n<li>This presumes that the buffer for the pipe doesn't get full. On my current Linux system the limit seems to be 1 MiB (<code>cat /proc/sys/fs/pipe-max-size</code>).</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>private String readAllAsString( InputStream inputStream ) throws IOException {\n    if ( inputStream.available() == 0 ) {\n        return &quot;&quot;;\n    }\n\n    // Note: cannot use Guava's CharStreams.toString() in this case, since the stream\n    // has not necessarily reached EOF yet (if we are called when the process is\n    // still running)\n    byte[] inputData = new byte[inputStream.available()];\n    int bytesRead = inputStream.read( inputData, 0, inputStream.available() );\n    ByteBuffer byteBuffer = ByteBuffer.wrap( inputData, 0, bytesRead );\n\n    return StandardCharsets.UTF_8.decode( byteBuffer ).toString();\n}\n</code></pre>\n"}],"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700821277,"creation_date":1700821277,"question_id":77542374,"body_markdown":"I have some problems using the [`Process`](https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html) and [`ProcessBuilder`](https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html) classes in Java. Here&#39;s my existing code, which works (this is code being executed in a JUnit test btw):\r\n\r\n```java\r\nProcessBuilder processBuilder = new ProcessBuilder()\r\n        .command( commandLine )\r\n        .directory( new File( directory ) )\r\n        .redirectErrorStream( true );\r\n\r\nProcess process = processBuilder.start();\r\n\r\nassertThat( process.exitValue() )\r\n        .as( &quot;Process exited with non-zero exit code. Stdout and stderr content:\\n\\n%s&quot;, readAllAsString( process.getInputStream() ) )\r\n        .isZero();\r\n```\r\n\r\nThe `readAllAsString()` method looks like this:\r\n\r\n```java\r\nprivate String readAllAsString( InputStream inputStream ) throws IOException {\r\n    return CharStreams.toString( new InputStreamReader(\r\n            inputStream, StandardCharsets.UTF_8\r\n    ) );\r\n}\r\n```\r\n\r\nThis works fine, but it doesn&#39;t handle all scenarios. What if the process doesn&#39;t exit normally, but sits and wait for input on its standard input? So, I&#39;m trying to add something like this:\r\n\r\n```java\r\n\r\nif ( !process.waitFor( 10, TimeUnit.SECONDS ) ) {\r\n    assertThat( false )\r\n            .as( &quot;Timed out waiting for process, aborting. Stdout and stderr content:\\n\\n%s&quot;, readAllAsString( process.getInputStream() ) )\r\n            .isTrue();\r\n}\r\n```\r\n\r\n...but this is where the problem starts. **The test sits and waits forever; it never reaches the end of the `InputStream`**. The `readAllAsString()` method probably reaches the end of the stream and then blocks, waiting on the process to write any more data to it. (Note: this is just my assumption, I haven&#39;t verified this in the debugger)\r\n\r\nIf I try to workaround this by adding a `destroy()` call like this:\r\n\r\n```java\r\nif ( !process.waitFor( 10, TimeUnit.SECONDS ) ) {\r\n    process.destroy();\r\n\r\n    assertThat( false )\r\n            .as( &quot;Timed out waiting for process, aborting. Stdout and stderr content:\\n\\n%s&quot;, readAllAsString( process.getInputStream() ) )\r\n            .isTrue();\r\n}\r\n```\r\n\r\n...I get an exception when trying to read the data from the stream:\r\n\r\n```\r\njava.io.IOException: Stream closed\r\n\tat java.base/java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:168)\r\n\tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:334)\r\n\tat java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\r\n\tat java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\r\n\tat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\r\n\tat java.base/java.io.InputStreamReader.read(InputStreamReader.java:177)\r\n\tat java.base/java.io.Reader.read(Reader.java:250)\r\n\tat com.google.common.io.CharStreams.copyReaderToBuilder(CharStreams.java:121)\r\n\tat com.google.common.io.CharStreams.toStringBuilder(CharStreams.java:179)\r\n\tat com.google.common.io.CharStreams.toString(CharStreams.java:165)\r\n\tat fi.hibox.test.scripts.CentreConsoleTest.readAllAsString(CentreConsoleTest.java:80)\r\n\tat fi.hibox.test.scripts.CentreConsoleTest.centre_console_can_call_getVersion_successfully(CentreConsoleTest.java:70)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n```\r\n\r\nHow can I workaround this? What&#39;s the proper way to read all the data from this `InputStream`, without blocking at the end of the available data? Or are there any other, better ways to fix this?","title":"How can I read stdout/stderr contents from a Process which is still running?","body":"<p>I have some problems using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\" rel=\"nofollow noreferrer\"><code>Process</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\"><code>ProcessBuilder</code></a> classes in Java. Here's my existing code, which works (this is code being executed in a JUnit test btw):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessBuilder processBuilder = new ProcessBuilder()\n        .command( commandLine )\n        .directory( new File( directory ) )\n        .redirectErrorStream( true );\n\nProcess process = processBuilder.start();\n\nassertThat( process.exitValue() )\n        .as( &quot;Process exited with non-zero exit code. Stdout and stderr content:\\n\\n%s&quot;, readAllAsString( process.getInputStream() ) )\n        .isZero();\n</code></pre>\n<p>The <code>readAllAsString()</code> method looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String readAllAsString( InputStream inputStream ) throws IOException {\n    return CharStreams.toString( new InputStreamReader(\n            inputStream, StandardCharsets.UTF_8\n    ) );\n}\n</code></pre>\n<p>This works fine, but it doesn't handle all scenarios. What if the process doesn't exit normally, but sits and wait for input on its standard input? So, I'm trying to add something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nif ( !process.waitFor( 10, TimeUnit.SECONDS ) ) {\n    assertThat( false )\n            .as( &quot;Timed out waiting for process, aborting. Stdout and stderr content:\\n\\n%s&quot;, readAllAsString( process.getInputStream() ) )\n            .isTrue();\n}\n</code></pre>\n<p>...but this is where the problem starts. <strong>The test sits and waits forever; it never reaches the end of the <code>InputStream</code></strong>. The <code>readAllAsString()</code> method probably reaches the end of the stream and then blocks, waiting on the process to write any more data to it. (Note: this is just my assumption, I haven't verified this in the debugger)</p>\n<p>If I try to workaround this by adding a <code>destroy()</code> call like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ( !process.waitFor( 10, TimeUnit.SECONDS ) ) {\n    process.destroy();\n\n    assertThat( false )\n            .as( &quot;Timed out waiting for process, aborting. Stdout and stderr content:\\n\\n%s&quot;, readAllAsString( process.getInputStream() ) )\n            .isTrue();\n}\n</code></pre>\n<p>...I get an exception when trying to read the data from the stream:</p>\n<pre><code>java.io.IOException: Stream closed\n    at java.base/java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:168)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:334)\n    at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\n    at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\n    at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\n    at java.base/java.io.InputStreamReader.read(InputStreamReader.java:177)\n    at java.base/java.io.Reader.read(Reader.java:250)\n    at com.google.common.io.CharStreams.copyReaderToBuilder(CharStreams.java:121)\n    at com.google.common.io.CharStreams.toStringBuilder(CharStreams.java:179)\n    at com.google.common.io.CharStreams.toString(CharStreams.java:165)\n    at fi.hibox.test.scripts.CentreConsoleTest.readAllAsString(CentreConsoleTest.java:80)\n    at fi.hibox.test.scripts.CentreConsoleTest.centre_console_can_call_getVersion_successfully(CentreConsoleTest.java:70)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n</code></pre>\n<p>How can I workaround this? What's the proper way to read all the data from this <code>InputStream</code>, without blocking at the end of the available data? Or are there any other, better ways to fix this?</p>\n"},{"tags":["java","spring-boot","docker","utf-7"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700824075,"post_id":77542362,"comment_id":136703245,"body_markdown":"Did you make a &#39;fat jar&#39; with the likes of Maven Shade?","body":"Did you make a &#39;fat jar&#39; with the likes of Maven Shade?"},{"owner":{"account_id":29982108,"reputation":11,"user_id":22976875,"display_name":"A.Fischer"},"score":0,"creation_date":1700825597,"post_id":77542362,"comment_id":136703478,"body_markdown":"No, we don&#39;t use maven shade, I found a thread that this solution doesn&#39;t work either, so I gave not a try.","body":"No, we don&#39;t use maven shade, I found a thread that this solution doesn&#39;t work either, so I gave not a try."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700825716,"post_id":77542362,"comment_id":136703492,"body_markdown":"You need *some way* to ensure the provider jar is loadable and in the right place. I would say that&#39;s the least complex and error-prone","body":"You need <i>some way</i> to ensure the provider jar is loadable and in the right place. I would say that&#39;s the least complex and error-prone"}],"owner":{"account_id":29982108,"reputation":11,"user_id":22976875,"display_name":"A.Fischer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700821209,"creation_date":1700821209,"question_id":77542362,"body_markdown":"I have the following problem:\r\n- I have a microservice running as docker image in a kubernetes pod\r\n- The service can create &quot;contacts&quot; and loads for that base64 encoded mails from a source\r\n- we decode them and want to create Emails with simple-java-mail library\r\n- but some mails are in UTF-7 which is unknown and I got:\r\n\r\n```\r\njava.io.UnsupportedEncodingException: utf-7\r\n\tat java.lang.String.lookupCharset(String.java:819) ~[?:?]\r\n\tat java.lang.String.&lt;init&gt;(String.java:487) ~[?:?]\r\n\tat jakarta.mail.internet.MimeUtility.decodeWord(MimeUtility.java:901) ~[jakarta.mail-2.0.1.jar:2.0.1]\r\n\tat jakarta.mail.internet.MimeUtility.decodeText(MimeUtility.java:603) ~[jakarta.mail-2.0.1.jar:2.0.1]\r\n\tat org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.decodeText(MimeMessageParser.java:543) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.internal.mimemessage.DecodedHeader.of(DecodedHeader.java:30) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[?:?]\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[?:?]\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[?:?]\r\n\tat org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.retrieveAllHeaders(MimeMessageParser.java:365) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.parseMimePartTree(MimeMessageParser.java:159) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.parseMimeMessage(MimeMessageParser.java:153) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.EmailConverter.mimeMessageToEmailBuilder(EmailConverter.java:138) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.EmailConverter.mimeMessageToEmailBuilder(EmailConverter.java:125) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.EmailConverter.emlToEmailBuilder(EmailConverter.java:398) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.EmailConverter.emlToEmail(EmailConverter.java:327) ~[simple-java-mail-8.0.0.jar:?]\r\n\tat org.simplejavamail.converter.EmailConverter.emlToEmail(EmailConverter.java:319) ~[simple-java-mail-8.0.0.jar:?]\r\n```\r\n\r\n\r\n\r\nI tried to use https://github.com/k9mail/jutf7 and added it to the pom file. Locally that worked, but on kubernetes not. Again an UnsupportedEncodingException occured.\r\n\r\nI thought maybe kubernetes or docker (sorry I&#39;m not that deep into that DevOps stuff) isn&#39;t able to add that UTF-7 library to the classpath.\r\nSo I testes to copy the files directly into my project. I added a META-INF folder with a service file and put my CharsetProvider into it. \r\n\r\njava.nio.charset.spi.CharsetProvider\r\n\r\n`de.afi.api.utility.encoding.utf7.CharsetProvider\r\n`\r\n\r\nAgain locally it worked, on kubernetes not. \r\n\r\nI read any stackoverflow issue regarding UTF-7 and CharsetProvider, but whether there wasn&#39;t a solution or the solution isn&#39;t possible for me, like using CharsetProvider().charsetForName(&quot;...&quot;) by myself, which isn&#39;t possible when needing UTF-7 deep in simple java mail\r\n\r\nI had the feeling that loading CharSets from META-inf/services doesn&#39;t work anymore for the combination of \r\n- Java17\r\n- SpringBoot 3\r\n- simple-java-mail 8.0.0\r\n- running in a docker container\r\nHas anybody an idea?\r\n   ","title":"UTF-7 not supported on a spring application in docker","body":"<p>I have the following problem:</p>\n<ul>\n<li>I have a microservice running as docker image in a kubernetes pod</li>\n<li>The service can create &quot;contacts&quot; and loads for that base64 encoded mails from a source</li>\n<li>we decode them and want to create Emails with simple-java-mail library</li>\n<li>but some mails are in UTF-7 which is unknown and I got:</li>\n</ul>\n<pre><code>java.io.UnsupportedEncodingException: utf-7\n    at java.lang.String.lookupCharset(String.java:819) ~[?:?]\n    at java.lang.String.&lt;init&gt;(String.java:487) ~[?:?]\n    at jakarta.mail.internet.MimeUtility.decodeWord(MimeUtility.java:901) ~[jakarta.mail-2.0.1.jar:2.0.1]\n    at jakarta.mail.internet.MimeUtility.decodeText(MimeUtility.java:603) ~[jakarta.mail-2.0.1.jar:2.0.1]\n    at org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.decodeText(MimeMessageParser.java:543) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.internal.mimemessage.DecodedHeader.of(DecodedHeader.java:30) ~[simple-java-mail-8.0.0.jar:?]\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[?:?]\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[?:?]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[?:?]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[?:?]\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[?:?]\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[?:?]\n    at org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.retrieveAllHeaders(MimeMessageParser.java:365) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.parseMimePartTree(MimeMessageParser.java:159) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.internal.mimemessage.MimeMessageParser.parseMimeMessage(MimeMessageParser.java:153) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.EmailConverter.mimeMessageToEmailBuilder(EmailConverter.java:138) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.EmailConverter.mimeMessageToEmailBuilder(EmailConverter.java:125) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.EmailConverter.emlToEmailBuilder(EmailConverter.java:398) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.EmailConverter.emlToEmail(EmailConverter.java:327) ~[simple-java-mail-8.0.0.jar:?]\n    at org.simplejavamail.converter.EmailConverter.emlToEmail(EmailConverter.java:319) ~[simple-java-mail-8.0.0.jar:?]\n</code></pre>\n<p>I tried to use <a href=\"https://github.com/k9mail/jutf7\" rel=\"nofollow noreferrer\">https://github.com/k9mail/jutf7</a> and added it to the pom file. Locally that worked, but on kubernetes not. Again an UnsupportedEncodingException occured.</p>\n<p>I thought maybe kubernetes or docker (sorry I'm not that deep into that DevOps stuff) isn't able to add that UTF-7 library to the classpath.\nSo I testes to copy the files directly into my project. I added a META-INF folder with a service file and put my CharsetProvider into it.</p>\n<p>java.nio.charset.spi.CharsetProvider</p>\n<p><code>de.afi.api.utility.encoding.utf7.CharsetProvider </code></p>\n<p>Again locally it worked, on kubernetes not.</p>\n<p>I read any stackoverflow issue regarding UTF-7 and CharsetProvider, but whether there wasn't a solution or the solution isn't possible for me, like using CharsetProvider().charsetForName(&quot;...&quot;) by myself, which isn't possible when needing UTF-7 deep in simple java mail</p>\n<p>I had the feeling that loading CharSets from META-inf/services doesn't work anymore for the combination of</p>\n<ul>\n<li>Java17</li>\n<li>SpringBoot 3</li>\n<li>simple-java-mail 8.0.0</li>\n<li>running in a docker container\nHas anybody an idea?</li>\n</ul>\n"},{"tags":["java","linux","unix","jenkins","nohup"],"comments":[{"owner":{"account_id":2251762,"reputation":278551,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":0,"creation_date":1463733169,"post_id":37341545,"comment_id":62200207,"body_markdown":"it is not that is not working, it is that it goes to the background because you write `command ... &amp;`. You can look for it checking the output of `jobs` or with `ps -ef | grep nohup`.","body":"it is not that is not working, it is that it goes to the background because you write <code>command ... &amp;</code>. You can look for it checking the output of <code>jobs</code> or with <code>ps -ef | grep nohup</code>."},{"owner":{"account_id":2407279,"reputation":3845,"user_id":2103379,"accept_rate":49,"display_name":"Utsav Gupta"},"score":1,"creation_date":1463733302,"post_id":37341545,"comment_id":62200289,"body_markdown":"no it doesnt .. I have checked.","body":"no it doesnt .. I have checked."},{"owner":{"account_id":2251762,"reputation":278551,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":1,"creation_date":1463733378,"post_id":37341545,"comment_id":62200329,"body_markdown":"Does it work if you say the same without `&amp;`? That is, `nohup java -jar /home/.../jar/server-process-0.35.jar prod &gt;&gt; /var/../server-process-prod.log 2&gt;&amp;1`.","body":"Does it work if you say the same without <code>&amp;</code>? That is, <code>nohup java -jar &#47;home&#47;...&#47;jar&#47;server-process-0.35.jar prod &gt;&gt; &#47;var&#47;..&#47;server-process-prod.log 2&gt;&amp;1</code>."},{"owner":{"account_id":2251762,"reputation":278551,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":0,"creation_date":1463733488,"post_id":37341545,"comment_id":62200411,"body_markdown":"Also: what do you mean with &quot;does not work&quot;. What output do you get from Bash?","body":"Also: what do you mean with &quot;does not work&quot;. What output do you get from Bash?"},{"owner":{"account_id":2407279,"reputation":3845,"user_id":2103379,"accept_rate":49,"display_name":"Utsav Gupta"},"score":0,"creation_date":1463733770,"post_id":37341545,"comment_id":62200594,"body_markdown":"I see it starts working after removing &amp; as you said.  By not working I mean the java process does not start , i.e on doing &quot;ps -ef  | grep java &quot; I dont see the process listed. However If I remove &amp; I see the java process listed when i run from jenkins. When I type the command on linux console with &#39;&amp;&#39; i see the java process running there too. So this does not solve my problem totally as I need the &#39;&amp;&#39; to make it run in backgorund and also need to run it from jenkins.","body":"I see it starts working after removing &amp; as you said.  By not working I mean the java process does not start , i.e on doing &quot;ps -ef  | grep java &quot; I dont see the process listed. However If I remove &amp; I see the java process listed when i run from jenkins. When I type the command on linux console with &#39;&amp;&#39; i see the java process running there too. So this does not solve my problem totally as I need the &#39;&amp;&#39; to make it run in backgorund and also need to run it from jenkins."},{"owner":{"account_id":2251762,"reputation":278551,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":0,"creation_date":1463733887,"post_id":37341545,"comment_id":62200684,"body_markdown":"It is strange: I tested against something as simple as `nohup sleep 10 &gt;&gt; output 2&gt;&amp;1 &amp;` and it works fine with and without `&amp;`.","body":"It is strange: I tested against something as simple as <code>nohup sleep 10 &gt;&gt; output 2&gt;&amp;1 &amp;</code> and it works fine with and without <code>&amp;</code>."},{"owner":{"account_id":2251762,"reputation":278551,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":0,"creation_date":1463736224,"post_id":37341545,"comment_id":62202346,"body_markdown":"Then this is something related to Jenkins, so you&#39;ll need to provide more details in how you are configuring it. Maybe you have to escape the `&amp;` in order to be interpreted properly by Jenkins.","body":"Then this is something related to Jenkins, so you&#39;ll need to provide more details in how you are configuring it. Maybe you have to escape the <code>&amp;</code> in order to be interpreted properly by Jenkins."},{"owner":{"account_id":2407279,"reputation":3845,"user_id":2103379,"accept_rate":49,"display_name":"Utsav Gupta"},"score":0,"creation_date":1463736426,"post_id":37341545,"comment_id":62202493,"body_markdown":"I am thinking on exact same lines, could it be an escaping &#39;&amp;&#39;  problem?","body":"I am thinking on exact same lines, could it be an escaping &#39;&amp;&#39;  problem?"},{"owner":{"account_id":2407279,"reputation":3845,"user_id":2103379,"accept_rate":49,"display_name":"Utsav Gupta"},"score":0,"creation_date":1463736749,"post_id":37341545,"comment_id":62202714,"body_markdown":"To answer your question I have added a build step &#39;execute shell&#39;  in which I have saved the above command as is","body":"To answer your question I have added a build step &#39;execute shell&#39;  in which I have saved the above command as is"},{"owner":{"account_id":2251762,"reputation":278551,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"score":0,"creation_date":1463737625,"post_id":37341545,"comment_id":62203316,"body_markdown":"However, the command also has the &amp; in `2&gt;&amp;1`, so this should not matter. I don&#39;t know, there must be something Jenkins related in this.","body":"However, the command also has the &amp; in <code>2&gt;&amp;1</code>, so this should not matter. I don&#39;t know, there must be something Jenkins related in this."},{"owner":{"account_id":439741,"reputation":2992,"user_id":828885,"display_name":"akhan"},"score":3,"creation_date":1473616252,"post_id":37341545,"comment_id":66200363,"body_markdown":"Jenkins kills all spawned processes once the job ends. You can change BUILD_ID env variable to avoid this. See [here](http://stackoverflow.com/questions/9567441/jenkins-seems-to-be-the-target-for-nohup-in-a-script-started-via-ssh-how-can-i) and [here](https://wiki.jenkins-ci.org/display/JENKINS/Spawning+processes+from+build).","body":"Jenkins kills all spawned processes once the job ends. You can change BUILD_ID env variable to avoid this. See <a href=\"http://stackoverflow.com/questions/9567441/jenkins-seems-to-be-the-target-for-nohup-in-a-script-started-via-ssh-how-can-i\">here</a> and <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Spawning+processes+from+build\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506070870,"creation_date":1506070870,"answer_id":46360795,"question_id":37341545,"body_markdown":"Got the same problem, added:\r\n\r\n    BUILD_ID=dontKillMe python /var/lib/jenkins/release.py\r\ninto Execute Shell -&gt; Command and inside release.py there is:\r\n\r\n    os.system(&#39;nohup java -jar &#39; + new_jars_on_server + &#39;/&#39; + generated_jar_by_mvn_name + &#39;&amp;&#39;)\r\n\r\nand it works\r\n ","title":"Unable to run nohup command from jenkins as a background process","body":"<p>Got the same problem, added:</p>\n\n<pre><code>BUILD_ID=dontKillMe python /var/lib/jenkins/release.py\n</code></pre>\n\n<p>into Execute Shell -> Command and inside release.py there is:</p>\n\n<pre><code>os.system('nohup java -jar ' + new_jars_on_server + '/' + generated_jar_by_mvn_name + '&amp;')\n</code></pre>\n\n<p>and it works</p>\n"},{"tags":[],"owner":{"account_id":6500265,"reputation":4070,"user_id":5031373,"accept_rate":69,"display_name":"jpyams"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1518207033,"creation_date":1518207033,"answer_id":48713385,"question_id":37341545,"body_markdown":"Long story short, Jenkins kills all processes spawned by a job once that job finishes.  To override this behavior, you need to set an environment variable.\r\n\r\nThe variable appears to vary from job type to job type.  It used to be `BUILD_ID`, but for Pipeline jobs it is `JENKINS_NODE_COOKIE`, and there are several others mentioned in [this answer][1].\r\n\r\nSo if you&#39;re running your command in Pipeline, it would look like this:\r\n\r\n    sh &#39;JENKINS_NODE_COOKIE=dontKillMe nohup java -jar /home/.../jar/server-process-0.35.jar prod &gt;&gt; /var/../server-process-prod.log 2&gt;&amp;1 &amp;&#39;\r\n\r\nSee [the wiki on ProcessTreeKiller][2] and [this comment in the Jenkins Jira][3] for more information.\r\n\r\n\r\n  [1]: https://devops.stackexchange.com/a/1513/6377\r\n  [2]: https://wiki.jenkins.io/display/JENKINS/ProcessTreeKiller\r\n  [3]: https://issues.jenkins-ci.org/browse/JENKINS-28182?focusedCommentId=304426&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-304426","title":"Unable to run nohup command from jenkins as a background process","body":"<p>Long story short, Jenkins kills all processes spawned by a job once that job finishes.  To override this behavior, you need to set an environment variable.</p>\n\n<p>The variable appears to vary from job type to job type.  It used to be <code>BUILD_ID</code>, but for Pipeline jobs it is <code>JENKINS_NODE_COOKIE</code>, and there are several others mentioned in <a href=\"https://devops.stackexchange.com/a/1513/6377\">this answer</a>.</p>\n\n<p>So if you're running your command in Pipeline, it would look like this:</p>\n\n<pre><code>sh 'JENKINS_NODE_COOKIE=dontKillMe nohup java -jar /home/.../jar/server-process-0.35.jar prod &gt;&gt; /var/../server-process-prod.log 2&gt;&amp;1 &amp;'\n</code></pre>\n\n<p>See <a href=\"https://wiki.jenkins.io/display/JENKINS/ProcessTreeKiller\" rel=\"noreferrer\">the wiki on ProcessTreeKiller</a> and <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-28182?focusedCommentId=304426&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-304426\" rel=\"noreferrer\">this comment in the Jenkins Jira</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":14158856,"reputation":83,"user_id":10228725,"display_name":"Nik V"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1560798359,"creation_date":1538481666,"answer_id":52607919,"question_id":37341545,"body_markdown":"I tried every possible combination with BUILD_ID but it didn&#39;t work.\r\nI made it though by putting &quot;nohup command &gt; output.txt&amp;&quot; inside a shell script ran by the execute shell in jenkins, it worked perfectly!","title":"Unable to run nohup command from jenkins as a background process","body":"<p>I tried every possible combination with BUILD_ID but it didn't work.\nI made it though by putting \"nohup command > output.txt&amp;\" inside a shell script ran by the execute shell in jenkins, it worked perfectly!</p>\n"},{"tags":[],"owner":{"account_id":1237427,"reputation":142,"user_id":1200739,"display_name":"Walid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544026234,"creation_date":1543944078,"answer_id":53618362,"question_id":37341545,"body_markdown":"Best simple solution is to use &quot;at now&quot; instead of &quot;nohup&quot;\r\n\r\nIn your job jenkins (execute shell) put :\r\n\r\n    set +e #so &quot;at now&quot; will run even if java -jar fails\r\n    #Run java app in background\r\n    echo &quot;java -jar $(ls | grep *.jar | head -n 1)&quot; | at now + 1 min\r\n","title":"Unable to run nohup command from jenkins as a background process","body":"<p>Best simple solution is to use \"at now\" instead of \"nohup\"</p>\n\n<p>In your job jenkins (execute shell) put :</p>\n\n<pre><code>set +e #so \"at now\" will run even if java -jar fails\n#Run java app in background\necho \"java -jar $(ls | grep *.jar | head -n 1)\" | at now + 1 min\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10065861,"reputation":304,"user_id":7441070,"display_name":"Joao Vitor Marques"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1559060194,"creation_date":1559060194,"answer_id":56346365,"question_id":37341545,"body_markdown":"In your jenkins shell script try:\r\n\r\n      export BUILD_ID=dontKillMe\r\n      nohup java -jar your_java_app.jar &amp;\r\n\r\nIt worked for me!","title":"Unable to run nohup command from jenkins as a background process","body":"<p>In your jenkins shell script try:</p>\n\n<pre><code>  export BUILD_ID=dontKillMe\n  nohup java -jar your_java_app.jar &amp;\n</code></pre>\n\n<p>It worked for me!</p>\n"},{"tags":[],"owner":{"account_id":13538346,"reputation":31,"user_id":9766816,"display_name":"millevlada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568737469,"creation_date":1568737469,"answer_id":57978381,"question_id":37341545,"body_markdown":"what worked for me was wrapping the *nohup java -jar ...* command into sh file inside execute shell command, and running that same sh file right after:\r\n\r\n    echo &quot;starting java jar...&quot;\r\n    cd [some location where jar is]\r\n    echo &quot;nohup java -jar [jar_name].jar &amp;&quot; &gt; start-jar-in-background.sh\r\n    sh start-jar-in-background.sh\r\n    echo &quot;started java jar&quot;\r\n\r\nIf I had *nohup java -jar ...* inline with Execute shell command, then it didn&#39;t start it from some reasons. I spent quite some time on this, hope it helps to someone &#39;;)","title":"Unable to run nohup command from jenkins as a background process","body":"<p>what worked for me was wrapping the <em>nohup java -jar ...</em> command into sh file inside execute shell command, and running that same sh file right after:</p>\n\n<pre><code>echo \"starting java jar...\"\ncd [some location where jar is]\necho \"nohup java -jar [jar_name].jar &amp;\" &gt; start-jar-in-background.sh\nsh start-jar-in-background.sh\necho \"started java jar\"\n</code></pre>\n\n<p>If I had <em>nohup java -jar ...</em> inline with Execute shell command, then it didn't start it from some reasons. I spent quite some time on this, hope it helps to someone ';)</p>\n"},{"tags":[],"owner":{"account_id":4969789,"reputation":11,"user_id":3997990,"display_name":"Tom CLERC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579774615,"creation_date":1579774615,"answer_id":59876129,"question_id":37341545,"body_markdown":"Simplest way : \r\n\r\n\\`nohup java -jar [jar_name].jar &gt;log_file_you_want 2&gt;another_file\\`&amp;\r\n","title":"Unable to run nohup command from jenkins as a background process","body":"<p>Simplest way : </p>\n\n<p>`nohup java -jar [jar_name].jar >log_file_you_want 2>another_file`&amp;</p>\n"},{"tags":[],"owner":{"account_id":23014172,"reputation":1,"user_id":18235490,"display_name":"Dixit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673908303,"creation_date":1673864531,"answer_id":75132886,"question_id":37341545,"body_markdown":"```shell\r\nset +e #so &quot;at now&quot; will run even if java -jar fails\r\n\r\n#Run java app in background\r\necho &quot;java -jar $(ls | grep *.jar | head -n 1)&quot; | at now + 1 min\r\n```\r\n\r\nabove command worked for him, thanks @walid, &amp; remove at the end (+ 1 min)","title":"Unable to run nohup command from jenkins as a background process","body":"<pre class=\"lang-bash prettyprint-override\"><code>set +e #so &quot;at now&quot; will run even if java -jar fails\n\n#Run java app in background\necho &quot;java -jar $(ls | grep *.jar | head -n 1)&quot; | at now + 1 min\n</code></pre>\n<p>above command worked for him, thanks @walid, &amp; remove at the end (+ 1 min)</p>\n"},{"tags":[],"owner":{"account_id":29981927,"reputation":1,"user_id":22976726,"display_name":"Gokul Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700820746,"creation_date":1700820709,"answer_id":77542306,"question_id":37341545,"body_markdown":"vi /etc/sudoers \r\n\r\nadd line &quot;jenkins ALL=(ALL)       NOPASSWD:&#160;ALL&quot; below wheels line \r\nnow save it \r\n\r\ngo to bash execute the command &quot;usermod -aG wheel&#160;jenkins&quot;\r\n\r\nuse the nohup command like this &quot;sudo nohup npx serve -s build -p 3007 &gt; server.log 2&gt;&amp;1 &amp;&quot;\r\n\r\ngive permission for &quot;server.log&quot; once it created in your application path \r\n\r\n\r\nit will work","title":"Unable to run nohup command from jenkins as a background process","body":"<p>vi /etc/sudoers</p>\n<p>add line &quot;jenkins ALL=(ALL)       NOPASSWD: ALL&quot; below wheels line\nnow save it</p>\n<p>go to bash execute the command &quot;usermod -aG wheel jenkins&quot;</p>\n<p>use the nohup command like this &quot;sudo nohup npx serve -s build -p 3007 &gt; server.log 2&gt;&amp;1 &amp;&quot;</p>\n<p>give permission for &quot;server.log&quot; once it created in your application path</p>\n<p>it will work</p>\n"}],"owner":{"account_id":2407279,"reputation":3845,"user_id":2103379,"accept_rate":49,"display_name":"Utsav Gupta"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23691,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":9,"score":11,"last_activity_date":1700820746,"creation_date":1463732443,"question_id":37341545,"body_markdown":"UPDATE: Based on below discussion I have edited my answer for more accurate description.\r\n\r\nI am trying to run a nohup command from jenkins. The full command is \r\n\r\n    nohup java -jar /home/.../jar/server-process-0.35.jar prod &gt;&gt; /var/../server-process-prod.log 2&gt;&amp;1 &amp;\r\n\r\nThis command does not work. I can see status as success in jenkins but no java process in linux. When I do &#39;ps -ef | grep java&#39;\r\n\r\nHowever when I remove the last &#39;&amp;&#39; , that is I change it from run in forground instead of background\r\n\r\n\r\n\r\nIt starts working. I can see the java process started. \r\n\r\nThe original command works fine If I run it on linux console.\r\n\r\nI need to run it from jenkins in the original form that is as a backgorund process. So that it is independant of jenkins. \r\n\r\nAny clues why is this happening?","title":"Unable to run nohup command from jenkins as a background process","body":"<p>UPDATE: Based on below discussion I have edited my answer for more accurate description.</p>\n\n<p>I am trying to run a nohup command from jenkins. The full command is </p>\n\n<pre><code>nohup java -jar /home/.../jar/server-process-0.35.jar prod &gt;&gt; /var/../server-process-prod.log 2&gt;&amp;1 &amp;\n</code></pre>\n\n<p>This command does not work. I can see status as success in jenkins but no java process in linux. When I do 'ps -ef | grep java'</p>\n\n<p>However when I remove the last '&amp;' , that is I change it from run in forground instead of background</p>\n\n<p>It starts working. I can see the java process started. </p>\n\n<p>The original command works fine If I run it on linux console.</p>\n\n<p>I need to run it from jenkins in the original form that is as a backgorund process. So that it is independant of jenkins. </p>\n\n<p>Any clues why is this happening?</p>\n"},{"tags":["java","avro","instant"],"owner":{"account_id":6840259,"reputation":318,"user_id":5260895,"accept_rate":40,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700820698,"creation_date":1700820698,"question_id":77542304,"body_markdown":"I have this Avro schema\r\n\r\n    {\r\n      &quot;name&quot;: &quot;SimpleEvent&quot;,\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;timestamp&quot;,\r\n          &quot;type&quot;: {\r\n            &quot;type&quot;: &quot;long&quot;,\r\n            &quot;logicalType&quot;: &quot;timestamp-millis&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nThe compiled JAVA class uses `java.time.Instant` to populate the timestamp field. I want to populate it with `org.joda.time.Instant` for different reasons.\r\n\r\nI couldn&#39;t find any documentation about it.\r\n\r\nIs it possible? And how?\r\n\r\nUsing: \r\n- Maven, avro-maven-plugin v1.11.0\r\n- Apache Avro v1.11.3\r\n- Java 11\r\n\r\n\r\n","title":"Choose Representation for Avro Schema Logical Type in Java","body":"<p>I have this Avro schema</p>\n<pre><code>{\n  &quot;name&quot;: &quot;SimpleEvent&quot;,\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;timestamp&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;long&quot;,\n        &quot;logicalType&quot;: &quot;timestamp-millis&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>The compiled JAVA class uses <code>java.time.Instant</code> to populate the timestamp field. I want to populate it with <code>org.joda.time.Instant</code> for different reasons.</p>\n<p>I couldn't find any documentation about it.</p>\n<p>Is it possible? And how?</p>\n<p>Using:</p>\n<ul>\n<li>Maven, avro-maven-plugin v1.11.0</li>\n<li>Apache Avro v1.11.3</li>\n<li>Java 11</li>\n</ul>\n"},{"tags":["java","jenkins","selenium-chromedriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700938125,"post_id":77542273,"comment_id":136714267,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":16450407,"reputation":1,"user_id":11883966,"display_name":"Chaitanya Sunkara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700820286,"creation_date":1700820286,"question_id":77542273,"body_markdown":"Issue: \r\n\r\n(session not created: DevToolsActivePort file doesn&#39;t exist)\r\n  (The process started from chrome location C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\n\r\n[Jenkins Build Execution Status](https://i.stack.imgur.com/RrDVR.png)\r\n\r\nCurrently, I am using Windows Jenkins Machine with 32 bit with below versions\r\n     Selenium-Java dependency version : 4.14.1\r\n     ChromeDriver version: 119.0.6045.105\r\n     Chrome Browser version: 119.0.6045.160\r\n     JDK and JRE - 17\r\n\r\n**My Try:**\r\n1. I have Uninstalled Chrome Browser and Restarted Jenkins Machine and ReInstalled Chrome Browser --&gt; Still skipped few test cases\r\n\r\n2. WebDriverManager used Instead of chromedriver.exe path --&gt; Still Skipped Few test cases\r\n\r\n3. Upgraded Selenium-Java 4.14.1 version to - 4.15.0 --&gt; Still Skipped Few test cases\r\n\r\n4. Used setBinary chromeoptions and set chromedriver.exe path to it ---&gt; Still Skipped Few test cases\r\n ","title":"Few Selenium Test Cases are skipping In Jenkins build Execution","body":"<p>Issue:</p>\n<p>(session not created: DevToolsActivePort file doesn't exist)\n(The process started from chrome location C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe is no longer running, so ChromeDriver is assuming that Chrome has crashed.)</p>\n<p><a href=\"https://i.stack.imgur.com/RrDVR.png\" rel=\"nofollow noreferrer\">Jenkins Build Execution Status</a></p>\n<p>Currently, I am using Windows Jenkins Machine with 32 bit with below versions\nSelenium-Java dependency version : 4.14.1\nChromeDriver version: 119.0.6045.105\nChrome Browser version: 119.0.6045.160\nJDK and JRE - 17</p>\n<p><strong>My Try:</strong></p>\n<ol>\n<li><p>I have Uninstalled Chrome Browser and Restarted Jenkins Machine and ReInstalled Chrome Browser --&gt; Still skipped few test cases</p>\n</li>\n<li><p>WebDriverManager used Instead of chromedriver.exe path --&gt; Still Skipped Few test cases</p>\n</li>\n<li><p>Upgraded Selenium-Java 4.14.1 version to - 4.15.0 --&gt; Still Skipped Few test cases</p>\n</li>\n<li><p>Used setBinary chromeoptions and set chromedriver.exe path to it ---&gt; Still Skipped Few test cases</p>\n</li>\n</ol>\n"},{"tags":["java","spring","hibernate","spring-boot"],"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1486732326,"post_id":42160227,"comment_id":71485440,"body_markdown":"Possible duplicate of [Sequence &quot;HIBERNATE\\_SEQUENCE&quot; not found; SQL statement](http://stackoverflow.com/questions/39807483/sequence-hibernate-sequence-not-found-sql-statement)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/39807483/sequence-hibernate-sequence-not-found-sql-statement\">Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement</a>"},{"owner":{"account_id":3968575,"reputation":153,"user_id":3273720,"accept_rate":75,"display_name":"elk"},"score":0,"creation_date":1486733015,"post_id":42160227,"comment_id":71485857,"body_markdown":"no my case is different","body":"no my case is different"},{"owner":{"account_id":3968575,"reputation":153,"user_id":3273720,"accept_rate":75,"display_name":"elk"},"score":0,"creation_date":1486739865,"post_id":42160227,"comment_id":71490506,"body_markdown":"in my code (strategy = GenerationType.IDENTITY) is already included\nI posted one of my entities","body":"in my code (strategy = GenerationType.IDENTITY) is already included I posted one of my entities"},{"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1486980100,"post_id":42160227,"comment_id":71563959,"body_markdown":"You&#39;re not using `GenerationType.IDENTITY` but `GenerationType.SEQUENCE` though.","body":"You&#39;re not using <code>GenerationType.IDENTITY</code> but <code>GenerationType.SEQUENCE</code> though."}],"answers":[{"tags":[],"owner":{"account_id":5913014,"reputation":31,"user_id":4652606,"display_name":"Gautam Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565249380,"creation_date":1565249380,"answer_id":57407354,"question_id":42160227,"body_markdown":"Solution is:\r\n\r\n   \r\n\r\n    CREATE TABLE CLIENT(\r\n      ID            INTEGER         NOT NULL,\r\n      CLIENT_NAME   VARCHAR(255)    NOT NULL,\r\n      ACTIVE        CHAR(1)         NOT NULL  DEFAULT &#39;Y&#39;\r\n    );\r\n\r\n     CREATE SEQUENCE CLIENT_SEQUENCE_ID START WITH (select max(ID) + 1 from CLIENT);\r\n\r\n(this allows you to prepopulate the CLIENT with static values, and initialize the sequence accordingly)\r\n\r\nand in Java\r\n\r\n    @Id\r\n    @SequenceGenerator(name= &quot;CLIENT_SEQUENCE&quot;, sequenceName = &quot;CLIENT_SEQUENCE_ID&quot;, initialValue=1, allocationSize = 1)\r\n    @GeneratedValue(strategy=GenerationType.AUTO, generator=&quot;CLIENT_SEQUENCE&quot;)\r\n    private Long id\r\n\r\n;\r\n\r\nplease follow the above instruction.\r\n\r\n","title":"Spring boot can not find HIBERNATE_SEQUENCE","body":"<p>Solution is:</p>\n\n<pre><code>CREATE TABLE CLIENT(\n  ID            INTEGER         NOT NULL,\n  CLIENT_NAME   VARCHAR(255)    NOT NULL,\n  ACTIVE        CHAR(1)         NOT NULL  DEFAULT 'Y'\n);\n\n CREATE SEQUENCE CLIENT_SEQUENCE_ID START WITH (select max(ID) + 1 from CLIENT);\n</code></pre>\n\n<p>(this allows you to prepopulate the CLIENT with static values, and initialize the sequence accordingly)</p>\n\n<p>and in Java</p>\n\n<pre><code>@Id\n@SequenceGenerator(name= \"CLIENT_SEQUENCE\", sequenceName = \"CLIENT_SEQUENCE_ID\", initialValue=1, allocationSize = 1)\n@GeneratedValue(strategy=GenerationType.AUTO, generator=\"CLIENT_SEQUENCE\")\nprivate Long id\n</code></pre>\n\n<p>;</p>\n\n<p>please follow the above instruction.</p>\n"}],"owner":{"account_id":3968575,"reputation":153,"user_id":3273720,"accept_rate":75,"display_name":"elk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11021,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700820017,"creation_date":1486732213,"question_id":42160227,"body_markdown":"For many applications all we will need is to put the right Spring \r\nData dependencies on the classpath.it works fine :\r\n\r\nconfig:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @EntityScan(basePackages = {&quot;io.boot.spring.entities&quot;})\r\n    @EnableJpaRepositories(basePackages = {&quot;io.boot.spring.repositories&quot;})\r\n    @EnableTransactionManagement\r\n    public class ConfigForJPA {\r\n\t\t\t\t\r\n\t@Bean\r\n\t@ConfigurationProperties(&quot;spring.datasource.hikari&quot;)\r\n\tpublic HikariDataSource dataSource() {\r\n\t    return (HikariDataSource) DataSourceBuilder.create()\r\n\t            .type(HikariDataSource.class).build();\r\n\t}\r\n}\r\n\r\napplication.properties:\r\n\r\n    spring.datasource.hikari.jdbc-url=jdbc:h2:mem:mydb\r\n    spring.datasource.hikari.username=sa\r\n    spring.datasource.hikari.password=\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.use-new-id-generator-mappings=true\r\n\r\n\r\nconsole:\r\n\r\n    Hibernate: drop table Blog if exists\r\n    Hibernate: drop table Item if exists\r\n    Hibernate: drop table Role if exists\r\n    Hibernate: drop table User if exists\r\n    Hibernate: drop table User_roles if exists\r\n    Hibernate: drop sequence if exists hibernate_sequence\r\n    Hibernate: create sequence hibernate_sequence start with 1 increment by 1\r\n    Hibernate: create table Blog \r\n    Hibernate: create table Item \r\n    Hibernate: create table Role \r\n    Hibernate: create table User \r\n    Hibernate: create table User_roles (users_id integer not null, roles_id integer not null)\r\n    main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete\r\n    j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    Hibernate: call next value for hibernate_sequence\r\n    Hibernate: insert into Role (name, id) values (?, ?)\r\n    Hibernate: call next value for hibernate_sequence\r\n    Hibernate: insert into Role (name, id) values (?, ?)\r\n    Hibernate: call next value for hibernate_sequence\r\n    Hibernate: insert into User (email, name, password, id) values (?, ?, ?, ?)\r\n    Hibernate: insert into User_roles (users_id, roles_id) values (?, ?)\r\n    Hibernate: insert into User_roles (users_id, roles_id) values (?, ?)\r\n\r\nbut Spring boot doc says to take full control of the configuration of the \r\nEntityManagerFactory, you need to add a @Bean named ‘entityManagerFactory’\r\nand when I add it to my config. \r\n\r\n\r\nconfig:\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean \r\n    \tentityManagerFactory(EntityManagerFactoryBuilder builder) {\r\n    \t    return builder\r\n    \t            .dataSource(dataSource())\r\n    \t            .packages(&quot;io.boot.spring&quot;)\r\n    \t            .persistenceUnit(&quot;io.boot.spring.entities&quot;)\r\n    \t            .build();\r\n    \t            \r\n    \t}\r\n\r\nIt gives the error:\r\n\r\nconsole:\r\n\r\n    : HHH000412: Hibernate Core {5.0.11.Final}\r\n    : HHH000206: hibernate.properties not found\r\n    : HHH000021: Bytecode provider name : javassist\r\n    : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n    com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Started.\r\n    : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n    j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory\r\n     for persistence unit &#39;io.boot.spring.entities&#39;\r\n    Hibernate: call next value for hibernate_sequence\r\n    : SQL Error: 90036, SQLState: 90036\r\n    : Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement:\r\n    call next value for hibernate_sequence [90036-193]\r\n\r\nwhy HIBERNATE_SEQUENCE not found? I did not modify anything\r\njust added the entityManagerFactory bean to config file\r\n\r\nEntity:\r\n\r\n    @Entity\r\n    public class Role {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.SEQUENCE)\r\n    \tprivate Integer id;\r\n    \t\r\n    \tprivate String name;\r\n    \t\r\n    \t... getters and setters\r\n\r\n\r\n\r\n","title":"Spring boot can not find HIBERNATE_SEQUENCE","body":"<p>For many applications all we will need is to put the right Spring \nData dependencies on the classpath.it works fine :</p>\n\n<p>config:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@EntityScan(basePackages = {\"io.boot.spring.entities\"})\n@EnableJpaRepositories(basePackages = {\"io.boot.spring.repositories\"})\n@EnableTransactionManagement\npublic class ConfigForJPA {\n\n@Bean\n@ConfigurationProperties(\"spring.datasource.hikari\")\npublic HikariDataSource dataSource() {\n    return (HikariDataSource) DataSourceBuilder.create()\n            .type(HikariDataSource.class).build();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>application.properties:</p>\n\n<pre><code>spring.datasource.hikari.jdbc-url=jdbc:h2:mem:mydb\nspring.datasource.hikari.username=sa\nspring.datasource.hikari.password=\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.hibernate.use-new-id-generator-mappings=true\n</code></pre>\n\n<p>console:</p>\n\n<pre><code>Hibernate: drop table Blog if exists\nHibernate: drop table Item if exists\nHibernate: drop table Role if exists\nHibernate: drop table User if exists\nHibernate: drop table User_roles if exists\nHibernate: drop sequence if exists hibernate_sequence\nHibernate: create sequence hibernate_sequence start with 1 increment by 1\nHibernate: create table Blog \nHibernate: create table Item \nHibernate: create table Role \nHibernate: create table User \nHibernate: create table User_roles (users_id integer not null, roles_id integer not null)\nmain] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete\nj.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\nHibernate: call next value for hibernate_sequence\nHibernate: insert into Role (name, id) values (?, ?)\nHibernate: call next value for hibernate_sequence\nHibernate: insert into Role (name, id) values (?, ?)\nHibernate: call next value for hibernate_sequence\nHibernate: insert into User (email, name, password, id) values (?, ?, ?, ?)\nHibernate: insert into User_roles (users_id, roles_id) values (?, ?)\nHibernate: insert into User_roles (users_id, roles_id) values (?, ?)\n</code></pre>\n\n<p>but Spring boot doc says to take full control of the configuration of the \nEntityManagerFactory, you need to add a @Bean named ‘entityManagerFactory’\nand when I add it to my config. </p>\n\n<p>config:</p>\n\n<pre><code>@Bean\npublic LocalContainerEntityManagerFactoryBean \n    entityManagerFactory(EntityManagerFactoryBuilder builder) {\n        return builder\n                .dataSource(dataSource())\n                .packages(\"io.boot.spring\")\n                .persistenceUnit(\"io.boot.spring.entities\")\n                .build();\n\n    }\n</code></pre>\n\n<p>It gives the error:</p>\n\n<p>console:</p>\n\n<pre><code>: HHH000412: Hibernate Core {5.0.11.Final}\n: HHH000206: hibernate.properties not found\n: HHH000021: Bytecode provider name : javassist\n: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\ncom.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Started.\n: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\nj.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory\n for persistence unit 'io.boot.spring.entities'\nHibernate: call next value for hibernate_sequence\n: SQL Error: 90036, SQLState: 90036\n: Sequence \"HIBERNATE_SEQUENCE\" not found; SQL statement:\ncall next value for hibernate_sequence [90036-193]\n</code></pre>\n\n<p>why HIBERNATE_SEQUENCE not found? I did not modify anything\njust added the entityManagerFactory bean to config file</p>\n\n<p>Entity:</p>\n\n<pre><code>@Entity\npublic class Role {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE)\n    private Integer id;\n\n    private String name;\n\n    ... getters and setters\n</code></pre>\n"},{"tags":["java","maven","vert.x","netbeans-8.1"],"answers":[{"tags":[],"owner":{"account_id":21271,"reputation":5855,"user_id":51560,"accept_rate":57,"display_name":"Paulo Lopes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465481427,"creation_date":1465481427,"answer_id":37728379,"question_id":37644915,"body_markdown":"It looks you&#39;re trying to run `mvn exec:exec` but for that you need to specify the executable (the error you&#39;re getting). In that case the executable should be your java binary, e.g.: `/usr/java/latest/bin/java` if you&#39;re using linux and the Oracle RPM.\r\n\r\nAlternatively you should do: `mvn exec:java` which knows that the executable is `java` and knows how to pick the classpath dependencies from the pom file.\r\n\r\nNow if you pay attention to your code you&#39;ll see that the `public static void main` method is never called, your exec plugin use the vert.x starter not your class, so when your app starts there won&#39;t be any server, just the periodic code executed inside the `start` method.\r\n\r\nIf you execute your main, then you&#39;re still missing to deploy your verticle so you have the server but no periodic task, in order to achieve that you need to add:\r\n\r\n    vertx.deployVerticle(Main.class.getName());","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.3.2:exec (default) on project mavenproject2:","body":"<p>It looks you're trying to run <code>mvn exec:exec</code> but for that you need to specify the executable (the error you're getting). In that case the executable should be your java binary, e.g.: <code>/usr/java/latest/bin/java</code> if you're using linux and the Oracle RPM.</p>\n\n<p>Alternatively you should do: <code>mvn exec:java</code> which knows that the executable is <code>java</code> and knows how to pick the classpath dependencies from the pom file.</p>\n\n<p>Now if you pay attention to your code you'll see that the <code>public static void main</code> method is never called, your exec plugin use the vert.x starter not your class, so when your app starts there won't be any server, just the periodic code executed inside the <code>start</code> method.</p>\n\n<p>If you execute your main, then you're still missing to deploy your verticle so you have the server but no periodic task, in order to achieve that you need to add:</p>\n\n<pre><code>vertx.deployVerticle(Main.class.getName());\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3103059"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522865098,"creation_date":1522865098,"answer_id":49657621,"question_id":37644915,"body_markdown":"**Allow Netbeans to index the maven repository at**\r\n\r\n    ~\\.m2\\repository\\org\\codehaus\\mojo\r\n\r\n**after the repository gets indexed everything should work fine.**","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.3.2:exec (default) on project mavenproject2:","body":"<p><strong>Allow Netbeans to index the maven repository at</strong></p>\n\n<pre><code>~\\.m2\\repository\\org\\codehaus\\mojo\n</code></pre>\n\n<p><strong>after the repository gets indexed everything should work fine.</strong></p>\n"}],"owner":{"account_id":8579039,"reputation":31,"user_id":6427376,"display_name":"Rsh At The Fort"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10621,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1700820017,"creation_date":1465148571,"question_id":37644915,"body_markdown":"I am beginning the initial attempt to use Vert.x in Java. IDE is Netbeans version 8.1. Vert.x is version 3.0.0. The code for this project is shown below. The pom.xml file is also listed below. This code will run in Netbeans IDE but the Build (for jar file) will not complete without the error shown in the BUILD REPORT below. Thus, the generated jar file will not execute. I have researched every resource I could locate on the internet and cannot find an adequate solution/answer. I would appreciate any help anybody can offer to resolve this problem.\r\n\r\nThe POM file is generated by Netbeans IDE when creating a new project:\r\nFile - New Project - Maven - Project from Archetype - vertx-java-archetype\r\nI then added the main() method.\r\n\r\n\r\nDETAILED BUILD ERROR REPORT:\r\n\r\n        --- maven-jar-plugin:2.3.2:jar (default-jar) @ mavenproject2 ---\r\n        Building jar: C:\\Projects\\GenMatchJ\\mavenproject2\\target\\mavenproject2-1.0-SNAPSHOT.jar\r\n        \r\n        --- maven-shade-plugin:2.3:shade (default) @ mavenproject2 ---\r\n        Including io.vertx:vertx-core:jar:3.0.0 in the shaded jar.\r\n        Including io.netty:netty-common:jar:4.0.28.Final in the shaded jar.\r\n        Including io.netty:netty-buffer:jar:4.0.28.Final in the shaded jar.\r\n        Including io.netty:netty-transport:jar:4.0.28.Final in the shaded jar.\r\n        Including io.netty:netty-handler:jar:4.0.28.Final in the shaded jar.\r\n        Including io.netty:netty-codec:jar:4.0.28.Final in the shaded jar.\r\n        Including io.netty:netty-codec-http:jar:4.0.28.Final in the shaded jar.\r\n        Including com.fasterxml.jackson.core:jackson-core:jar:2.5.3 in the shaded jar.\r\n        Including com.fasterxml.jackson.core:jackson-databind:jar:2.5.3 in the shaded jar.\r\n        Including com.fasterxml.jackson.core:jackson-annotations:jar:2.5.0 in the shaded jar.\r\n        Including io.vertx:vertx-web:jar:3.0.0 in the shaded jar.\r\n        Including io.vertx:vertx-auth-common:jar:3.0.0 in the shaded jar.\r\n        \r\n        --- exec-maven-plugin:1.3.2:exec (default) @ mavenproject2 ---\r\n        ------------------------------------------------------------------------\r\n        BUILD FAILURE\r\n        ------------------------------------------------------------------------\r\n        Total time: 3.290s\r\n        Finished at: Sun Jun 05 13:01:40 EDT 2016\r\n        Final Memory: 30M/313M\r\n        ------------------------------------------------------------------------\r\n        Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.3.2:exec (default) on project mavenproject2: The parameters &#39;executable&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.3.2:exec are missing or invalid -&gt; [Help 1]\r\n    \r\n    To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    Re-run Maven using the -X switch to enable full debug logging.\r\n    \r\n    For more information about the errors and possible solutions, please read the following articles:\r\n    [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginParameterException\r\n\r\n\r\n\r\nPOM.XML FILE:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.ssp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mavenproject2&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      \r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vertx-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n        \r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;vertx-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.8&lt;/source&gt;\r\n              &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;transformers&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                      &lt;manifestEntries&gt;\r\n                        &lt;Main-Class&gt;io.vertx.core.Starter&lt;/Main-Class&gt;\r\n                        &lt;Main-Verticle&gt;com.ssp.mavenproject2.Main&lt;/Main-Verticle&gt;\r\n                      &lt;/manifestEntries&gt;\r\n                    &lt;/transformer&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                      &lt;resource&gt;META-INF/services/io.vertx.core.spi.VerticleFactory&lt;/resource&gt;\r\n                    &lt;/transformer&gt;\r\n                  &lt;/transformers&gt;\r\n                  &lt;artifactSet&gt;&lt;/artifactSet&gt;\r\n                  &lt;outputFile&gt;${project.build.directory}/mavenproject2-${project.version}-fat.jar&lt;/outputFile&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;verify&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;exec&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;mainClass&gt;io.vertx.core.Starter&lt;/mainClass&gt;\r\n              &lt;additionalClasspathElements&gt;\r\n                &lt;additionalClasspathElement&gt;${basedir}/src/main/java/&lt;/additionalClasspathElement&gt;\r\n              &lt;/additionalClasspathElements&gt;\r\n              &lt;systemProperties&gt;\r\n                &lt;systemProperty&gt;\r\n                  &lt;key&gt;vertx.deployment.options.redeploy&lt;/key&gt;\r\n                  &lt;value&gt;true&lt;/value&gt;\r\n                &lt;/systemProperty&gt;\r\n                &lt;systemProperty&gt;\r\n                  &lt;key&gt;vertx.deployment.options.redeployScanPeriod&lt;/key&gt;\r\n                  &lt;value&gt;100&lt;/value&gt;\r\n                &lt;/systemProperty&gt;\r\n              &lt;/systemProperties&gt;\r\n              &lt;arguments&gt;\r\n                &lt;argument&gt;run&lt;/argument&gt;\r\n                &lt;argument&gt;com/ssp/mavenproject2/Main.java&lt;/argument&gt;\r\n                &lt;!--                  &lt;argument&gt;-cluster&lt;/argument&gt;\r\n                &lt;argument&gt;-cluster-host&lt;/argument&gt;\r\n                &lt;argument&gt;127.0.0.1&lt;/argument&gt;--&gt;\r\n              &lt;/arguments&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n        &lt;name&gt;MainSsp&lt;/name&gt;\r\n        &lt;description&gt;Main entry point for SSP Example with embedded Vert.x&lt;/description&gt;\r\n    &lt;/project&gt;\r\n\r\nSOURCE CODE:\r\n\r\n    package com.ssp.mavenproject2;\r\n    \r\n    import io.vertx.core.AbstractVerticle;\r\n    import io.vertx.core.Vertx;\r\n    \r\n    import javax.swing.JOptionPane;\r\n    \r\n    \r\n    /**\r\n     *\r\n     */\r\n    public class Main extends AbstractVerticle {\r\n    \r\n      public static void main(String[] args) {\r\n         \r\n         \r\n          JOptionPane.showMessageDialog(null, &quot;This Vert.x/Java integration is UUUGGGGHH tough without documentation...&quot;);\r\n        \r\n        \r\n          // Create an HTTP server which simply returns &quot;Hello World!&quot; to each request.\r\n          Vertx.vertx().createHttpServer().requestHandler(req -&gt; req.response().end(&quot;Hello World!&quot;)).listen(8080);\r\n    \r\n          Vertx.vertx().setPeriodic(3000, res -&gt; {\r\n            System.out.println(&quot;Periodic event triggered.&quot;);\r\n          });\r\n    \r\n          try{\r\n    \r\n              Thread.sleep(30000);\r\n          }catch(Exception e)\r\n          {\r\n             System.out.println(&quot;Exception caught&quot;);\r\n          }\r\n      }  \r\n    \r\n      @Override\r\n      public void start() throws Exception {\r\n        vertx.setPeriodic(3000, res -&gt; {\r\n          System.out.println(&quot;Periodic event triggered.&quot;);\r\n        });\r\n      }\r\n    \r\n    }\r\n\r\n","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.3.2:exec (default) on project mavenproject2:","body":"<p>I am beginning the initial attempt to use Vert.x in Java. IDE is Netbeans version 8.1. Vert.x is version 3.0.0. The code for this project is shown below. The pom.xml file is also listed below. This code will run in Netbeans IDE but the Build (for jar file) will not complete without the error shown in the BUILD REPORT below. Thus, the generated jar file will not execute. I have researched every resource I could locate on the internet and cannot find an adequate solution/answer. I would appreciate any help anybody can offer to resolve this problem.</p>\n\n<p>The POM file is generated by Netbeans IDE when creating a new project:\nFile - New Project - Maven - Project from Archetype - vertx-java-archetype\nI then added the main() method.</p>\n\n<p>DETAILED BUILD ERROR REPORT:</p>\n\n<pre><code>    --- maven-jar-plugin:2.3.2:jar (default-jar) @ mavenproject2 ---\n    Building jar: C:\\Projects\\GenMatchJ\\mavenproject2\\target\\mavenproject2-1.0-SNAPSHOT.jar\n\n    --- maven-shade-plugin:2.3:shade (default) @ mavenproject2 ---\n    Including io.vertx:vertx-core:jar:3.0.0 in the shaded jar.\n    Including io.netty:netty-common:jar:4.0.28.Final in the shaded jar.\n    Including io.netty:netty-buffer:jar:4.0.28.Final in the shaded jar.\n    Including io.netty:netty-transport:jar:4.0.28.Final in the shaded jar.\n    Including io.netty:netty-handler:jar:4.0.28.Final in the shaded jar.\n    Including io.netty:netty-codec:jar:4.0.28.Final in the shaded jar.\n    Including io.netty:netty-codec-http:jar:4.0.28.Final in the shaded jar.\n    Including com.fasterxml.jackson.core:jackson-core:jar:2.5.3 in the shaded jar.\n    Including com.fasterxml.jackson.core:jackson-databind:jar:2.5.3 in the shaded jar.\n    Including com.fasterxml.jackson.core:jackson-annotations:jar:2.5.0 in the shaded jar.\n    Including io.vertx:vertx-web:jar:3.0.0 in the shaded jar.\n    Including io.vertx:vertx-auth-common:jar:3.0.0 in the shaded jar.\n\n    --- exec-maven-plugin:1.3.2:exec (default) @ mavenproject2 ---\n    ------------------------------------------------------------------------\n    BUILD FAILURE\n    ------------------------------------------------------------------------\n    Total time: 3.290s\n    Finished at: Sun Jun 05 13:01:40 EDT 2016\n    Final Memory: 30M/313M\n    ------------------------------------------------------------------------\n    Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.3.2:exec (default) on project mavenproject2: The parameters 'executable' for goal org.codehaus.mojo:exec-maven-plugin:1.3.2:exec are missing or invalid -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginParameterException\n</code></pre>\n\n<p>POM.XML FILE:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.ssp&lt;/groupId&gt;\n  &lt;artifactId&gt;mavenproject2&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n        &lt;artifactId&gt;vertx-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                  &lt;manifestEntries&gt;\n                    &lt;Main-Class&gt;io.vertx.core.Starter&lt;/Main-Class&gt;\n                    &lt;Main-Verticle&gt;com.ssp.mavenproject2.Main&lt;/Main-Verticle&gt;\n                  &lt;/manifestEntries&gt;\n                &lt;/transformer&gt;\n                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                  &lt;resource&gt;META-INF/services/io.vertx.core.spi.VerticleFactory&lt;/resource&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n              &lt;artifactSet&gt;&lt;/artifactSet&gt;\n              &lt;outputFile&gt;${project.build.directory}/mavenproject2-${project.version}-fat.jar&lt;/outputFile&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;mainClass&gt;io.vertx.core.Starter&lt;/mainClass&gt;\n          &lt;additionalClasspathElements&gt;\n            &lt;additionalClasspathElement&gt;${basedir}/src/main/java/&lt;/additionalClasspathElement&gt;\n          &lt;/additionalClasspathElements&gt;\n          &lt;systemProperties&gt;\n            &lt;systemProperty&gt;\n              &lt;key&gt;vertx.deployment.options.redeploy&lt;/key&gt;\n              &lt;value&gt;true&lt;/value&gt;\n            &lt;/systemProperty&gt;\n            &lt;systemProperty&gt;\n              &lt;key&gt;vertx.deployment.options.redeployScanPeriod&lt;/key&gt;\n              &lt;value&gt;100&lt;/value&gt;\n            &lt;/systemProperty&gt;\n          &lt;/systemProperties&gt;\n          &lt;arguments&gt;\n            &lt;argument&gt;run&lt;/argument&gt;\n            &lt;argument&gt;com/ssp/mavenproject2/Main.java&lt;/argument&gt;\n            &lt;!--                  &lt;argument&gt;-cluster&lt;/argument&gt;\n            &lt;argument&gt;-cluster-host&lt;/argument&gt;\n            &lt;argument&gt;127.0.0.1&lt;/argument&gt;--&gt;\n          &lt;/arguments&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n    &lt;name&gt;MainSsp&lt;/name&gt;\n    &lt;description&gt;Main entry point for SSP Example with embedded Vert.x&lt;/description&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>SOURCE CODE:</p>\n\n<pre><code>package com.ssp.mavenproject2;\n\nimport io.vertx.core.AbstractVerticle;\nimport io.vertx.core.Vertx;\n\nimport javax.swing.JOptionPane;\n\n\n/**\n *\n */\npublic class Main extends AbstractVerticle {\n\n  public static void main(String[] args) {\n\n\n      JOptionPane.showMessageDialog(null, \"This Vert.x/Java integration is UUUGGGGHH tough without documentation...\");\n\n\n      // Create an HTTP server which simply returns \"Hello World!\" to each request.\n      Vertx.vertx().createHttpServer().requestHandler(req -&gt; req.response().end(\"Hello World!\")).listen(8080);\n\n      Vertx.vertx().setPeriodic(3000, res -&gt; {\n        System.out.println(\"Periodic event triggered.\");\n      });\n\n      try{\n\n          Thread.sleep(30000);\n      }catch(Exception e)\n      {\n         System.out.println(\"Exception caught\");\n      }\n  }  \n\n  @Override\n  public void start() throws Exception {\n    vertx.setPeriodic(3000, res -&gt; {\n      System.out.println(\"Periodic event triggered.\");\n    });\n  }\n\n}\n</code></pre>\n"},{"tags":["java","methods","parameter-passing","pass-by-reference","pass-by-value"],"answers":[{"tags":[],"owner":{"account_id":1254,"reputation":57918,"user_id":1666,"accept_rate":84,"display_name":"SCdF"},"down_vote_count":16,"up_vote_count":873,"is_accepted":false,"score":857,"last_activity_date":1453433827,"creation_date":1220386761,"answer_id":40499,"question_id":40480,"body_markdown":"Java is always pass by value, with no exceptions, **ever**.\r\n\r\nSo how is it that anyone can be at all confused by this, and believe that Java is pass by reference, or think they have an example of Java acting as pass by reference? The key point is that Java **never** provides direct access to the values of *objects themselves*, in *any* circumstances. The only access to objects is through a _reference_ to that object. Because Java objects are *always* accessed through a reference, rather than directly, it is common to talk about fields and variables *and method arguments* as being *objects*, when pedantically they are only *references to objects*. **The confusion stems from this (strictly speaking, incorrect) change in nomenclature.**\r\n\r\nSo, when calling a method\r\n\r\n* For primitive arguments (`int`, `long`, etc.), the pass by value is *the actual value* of the primitive (for example, 3).\r\n* For objects, the pass by value is the value of *the reference to the object*.\r\n\r\nSo if you have `doSomething(foo)` and `public void doSomething(Foo foo) { .. }` the two Foos have copied *references* that point to the same objects.\r\n\r\nNaturally, passing by value a reference to an object looks very much like (and is indistinguishable in practice from) passing an object by reference.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java is always pass by value, with no exceptions, <strong>ever</strong>.</p>\n\n<p>So how is it that anyone can be at all confused by this, and believe that Java is pass by reference, or think they have an example of Java acting as pass by reference? The key point is that Java <strong>never</strong> provides direct access to the values of <em>objects themselves</em>, in <em>any</em> circumstances. The only access to objects is through a <em>reference</em> to that object. Because Java objects are <em>always</em> accessed through a reference, rather than directly, it is common to talk about fields and variables <em>and method arguments</em> as being <em>objects</em>, when pedantically they are only <em>references to objects</em>. <strong>The confusion stems from this (strictly speaking, incorrect) change in nomenclature.</strong></p>\n\n<p>So, when calling a method</p>\n\n<ul>\n<li>For primitive arguments (<code>int</code>, <code>long</code>, etc.), the pass by value is <em>the actual value</em> of the primitive (for example, 3).</li>\n<li>For objects, the pass by value is the value of <em>the reference to the object</em>.</li>\n</ul>\n\n<p>So if you have <code>doSomething(foo)</code> and <code>public void doSomething(Foo foo) { .. }</code> the two Foos have copied <em>references</em> that point to the same objects.</p>\n\n<p>Naturally, passing by value a reference to an object looks very much like (and is indistinguishable in practice from) passing an object by reference.</p>\n"},{"tags":[],"owner":{"account_id":988,"reputation":85941,"user_id":1310,"accept_rate":98,"display_name":"ScArcher2"},"down_vote_count":9,"up_vote_count":401,"is_accepted":false,"score":392,"last_activity_date":1220386808,"creation_date":1220386808,"answer_id":40501,"question_id":40480,"body_markdown":"Java passes references by value.\r\n\r\nSo you can&#39;t change the reference that gets passed in.\r\n\r\n\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java passes references by value.</p>\n\n<p>So you can't change the reference that gets passed in.</p>\n"},{"tags":[],"owner":{"account_id":2961,"reputation":70821,"user_id":4203,"accept_rate":90,"display_name":"Hank Gay"},"down_vote_count":1,"up_vote_count":236,"is_accepted":false,"score":235,"last_activity_date":1646639260,"creation_date":1220386864,"answer_id":40507,"question_id":40480,"body_markdown":"Basically, reassigning Object parameters doesn&#39;t affect the argument, e.g.,\r\n\r\n\r\n    private static void foo(Object bar) {\r\n        bar = null;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String baz = &quot;Hah!&quot;;\r\n        foo(baz);\r\n        System.out.println(baz);\r\n    }\r\n\r\nwill print out `&quot;Hah!&quot;` instead of `null`. The reason this works is because `bar` is a copy of the value of `baz`, which is just a reference to `&quot;Hah!&quot;`. If it were the actual reference itself, then `foo` would have redefined `baz` to `null`.\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Basically, reassigning Object parameters doesn't affect the argument, e.g.,</p>\n<pre><code>private static void foo(Object bar) {\n    bar = null;\n}\n\npublic static void main(String[] args) {\n    String baz = &quot;Hah!&quot;;\n    foo(baz);\n    System.out.println(baz);\n}\n</code></pre>\n<p>will print out <code>&quot;Hah!&quot;</code> instead of <code>null</code>. The reason this works is because <code>bar</code> is a copy of the value of <code>baz</code>, which is just a reference to <code>&quot;Hah!&quot;</code>. If it were the actual reference itself, then <code>foo</code> would have redefined <code>baz</code> to <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":2383,"reputation":6541,"user_id":3305,"accept_rate":41,"display_name":"John Channing"},"down_vote_count":7,"up_vote_count":218,"is_accepted":false,"score":211,"last_activity_date":1220387010,"creation_date":1220387010,"answer_id":40514,"question_id":40480,"body_markdown":"Java passes references to objects by value.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java passes references to objects by value.</p>\n"},{"tags":[],"owner":{"account_id":2953,"reputation":6756,"user_id":4192,"accept_rate":60,"display_name":"erlando"},"down_vote_count":51,"up_vote_count":7066,"is_accepted":false,"score":7015,"last_activity_date":1662367077,"creation_date":1220387137,"answer_id":40523,"question_id":40480,"body_markdown":"The terms &quot;pass-by-value&quot; and &quot;pass-by-reference&quot; have special, [precisely defined](https://en.wikipedia.org/w/index.php?title=Pass-by-value) meanings in computer science. These meanings differ from the intuition many people have when first hearing the terms. Much of the confusion in this discussion seems to come from this fact.\r\n\r\nThe terms &quot;pass-by-value&quot; and &quot;pass-by-reference&quot; are talking about _variables._ Pass-by-value means that the _value_ of a variable is passed to a function/method. Pass-by-reference means that a _reference_ to that variable is passed to the function. The latter gives the function a way to change the contents of the variable. \r\n\r\nBy those definitions, Java is always **pass-by-value**.  Unfortunately, when we deal with variables holding objects we are really dealing with object-handles called _references_ which are passed-by-value as well.  This terminology and semantics easily confuse many beginners.\r\n\r\nIt goes like this:\r\n \r\n    public static void main(String[] args) {\r\n        Dog aDog = new Dog(&quot;Max&quot;);\r\n        Dog oldDog = aDog;\r\n\r\n        // we pass the object to foo\r\n        foo(aDog);\r\n        // aDog variable is still pointing to the &quot;Max&quot; dog when foo(...) returns\r\n        aDog.getName().equals(&quot;Max&quot;); // true\r\n        aDog.getName().equals(&quot;Fifi&quot;); // false\r\n        aDog == oldDog; // true\r\n    }\r\n\r\n    public static void foo(Dog d) {\r\n        d.getName().equals(&quot;Max&quot;); // true\r\n        // change d inside of foo() to point to a new Dog instance &quot;Fifi&quot;\r\n        d = new Dog(&quot;Fifi&quot;);\r\n        d.getName().equals(&quot;Fifi&quot;); // true\r\n    }\r\n\r\nIn the example above `aDog.getName()` will still return `&quot;Max&quot;`. The value `aDog` within `main` is not changed in the function `foo` with the `Dog` `&quot;Fifi&quot;` as the object reference is passed by value. If it were passed by reference, then the `aDog.getName()` in `main` would return `&quot;Fifi&quot;` after the call to `foo`.\r\n\r\nLikewise:\r\n\r\n    public static void main(String[] args) {\r\n        Dog aDog = new Dog(&quot;Max&quot;);\r\n        Dog oldDog = aDog;\r\n\r\n        foo(aDog);\r\n        // when foo(...) returns, the name of the dog has been changed to &quot;Fifi&quot;\r\n        aDog.getName().equals(&quot;Fifi&quot;); // true\r\n        // but it is still the same dog:\r\n        aDog == oldDog; // true\r\n    }\r\n\r\n    public static void foo(Dog d) {\r\n        d.getName().equals(&quot;Max&quot;); // true\r\n        // this changes the name of d to be &quot;Fifi&quot;\r\n        d.setName(&quot;Fifi&quot;);\r\n    }\r\n\r\nIn the above example, `Fifi` is the dog&#39;s name after call to `foo(aDog)` because the object&#39;s name was set inside of `foo(...)`. Any operations that `foo` performs on `d` are such that, for all practical purposes, they are performed on `aDog`, but it is **not** possible to change the value of the variable `aDog` itself.\r\n\r\n  [1]: http://ideone.com/oUEPbg\r\n\r\nFor more information on pass by reference and pass by value, consult the following answer: https://stackoverflow.com/a/430958/6005228. This explains more thoroughly the semantics and history behind the two and also explains why Java and many other modern languages appear to do both in certain cases.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>The terms &quot;pass-by-value&quot; and &quot;pass-by-reference&quot; have special, <a href=\"https://en.wikipedia.org/w/index.php?title=Pass-by-value\" rel=\"noreferrer\">precisely defined</a> meanings in computer science. These meanings differ from the intuition many people have when first hearing the terms. Much of the confusion in this discussion seems to come from this fact.</p>\n<p>The terms &quot;pass-by-value&quot; and &quot;pass-by-reference&quot; are talking about <em>variables.</em> Pass-by-value means that the <em>value</em> of a variable is passed to a function/method. Pass-by-reference means that a <em>reference</em> to that variable is passed to the function. The latter gives the function a way to change the contents of the variable.</p>\n<p>By those definitions, Java is always <strong>pass-by-value</strong>.  Unfortunately, when we deal with variables holding objects we are really dealing with object-handles called <em>references</em> which are passed-by-value as well.  This terminology and semantics easily confuse many beginners.</p>\n<p>It goes like this:</p>\n<pre><code>public static void main(String[] args) {\n    Dog aDog = new Dog(&quot;Max&quot;);\n    Dog oldDog = aDog;\n\n    // we pass the object to foo\n    foo(aDog);\n    // aDog variable is still pointing to the &quot;Max&quot; dog when foo(...) returns\n    aDog.getName().equals(&quot;Max&quot;); // true\n    aDog.getName().equals(&quot;Fifi&quot;); // false\n    aDog == oldDog; // true\n}\n\npublic static void foo(Dog d) {\n    d.getName().equals(&quot;Max&quot;); // true\n    // change d inside of foo() to point to a new Dog instance &quot;Fifi&quot;\n    d = new Dog(&quot;Fifi&quot;);\n    d.getName().equals(&quot;Fifi&quot;); // true\n}\n</code></pre>\n<p>In the example above <code>aDog.getName()</code> will still return <code>&quot;Max&quot;</code>. The value <code>aDog</code> within <code>main</code> is not changed in the function <code>foo</code> with the <code>Dog</code> <code>&quot;Fifi&quot;</code> as the object reference is passed by value. If it were passed by reference, then the <code>aDog.getName()</code> in <code>main</code> would return <code>&quot;Fifi&quot;</code> after the call to <code>foo</code>.</p>\n<p>Likewise:</p>\n<pre><code>public static void main(String[] args) {\n    Dog aDog = new Dog(&quot;Max&quot;);\n    Dog oldDog = aDog;\n\n    foo(aDog);\n    // when foo(...) returns, the name of the dog has been changed to &quot;Fifi&quot;\n    aDog.getName().equals(&quot;Fifi&quot;); // true\n    // but it is still the same dog:\n    aDog == oldDog; // true\n}\n\npublic static void foo(Dog d) {\n    d.getName().equals(&quot;Max&quot;); // true\n    // this changes the name of d to be &quot;Fifi&quot;\n    d.setName(&quot;Fifi&quot;);\n}\n</code></pre>\n<p>In the above example, <code>Fifi</code> is the dog's name after call to <code>foo(aDog)</code> because the object's name was set inside of <code>foo(...)</code>. Any operations that <code>foo</code> performs on <code>d</code> are such that, for all practical purposes, they are performed on <code>aDog</code>, but it is <strong>not</strong> possible to change the value of the variable <code>aDog</code> itself.</p>\n<p>For more information on pass by reference and pass by value, consult the following answer: <a href=\"https://stackoverflow.com/a/430958/6005228\">https://stackoverflow.com/a/430958/6005228</a>. This explains more thoroughly the semantics and history behind the two and also explains why Java and many other modern languages appear to do both in certain cases.</p>\n"},{"tags":[],"owner":{"account_id":2892,"reputation":4918,"user_id":4100,"display_name":"Paul de Vrieze"},"down_vote_count":12,"up_vote_count":46,"is_accepted":false,"score":34,"last_activity_date":1399196028,"creation_date":1220388839,"answer_id":40630,"question_id":40480,"body_markdown":"To make a long story short, [Java][1] objects have some very peculiar properties.\r\n\r\nIn general, Java has primitive types (`int`, `bool`, `char`, `double`, etc) that are passed directly by value. Then Java has objects (everything that derives from `java.lang.Object`). Objects are actually always handled through a reference (a reference being a pointer that you can&#39;t touch). That means that in effect, objects are passed by reference, as the references are normally not interesting. It does however mean that you cannot change which object is pointed to as the reference itself is passed by value.\r\n\r\nDoes this sound strange and confusing? Let&#39;s consider how C implements pass by reference and pass by value. In C, the default convention is pass by value. `void foo(int x)` passes an int by value. `void foo(int *x)` is a function that does not want an `int a`, but a pointer to an int: `foo(&amp;a)`. One would use this with the `&amp;` operator to pass a variable address.\r\n\r\nTake this to C++, and we have references. References are basically (in this context) syntactic sugar that hide the pointer part of the equation: `void foo(int &amp;x)` is called by `foo(a)`, where the compiler itself knows that it is a reference and the address of the non-reference `a` should be passed. In Java, all variables referring to objects are actually of reference type, in effect forcing call by reference for most intends and purposes without the fine grained control (and complexity) afforded by, for example, C++.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_%28programming_language%29\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>To make a long story short, <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\" rel=\"noreferrer\">Java</a> objects have some very peculiar properties.</p>\n\n<p>In general, Java has primitive types (<code>int</code>, <code>bool</code>, <code>char</code>, <code>double</code>, etc) that are passed directly by value. Then Java has objects (everything that derives from <code>java.lang.Object</code>). Objects are actually always handled through a reference (a reference being a pointer that you can't touch). That means that in effect, objects are passed by reference, as the references are normally not interesting. It does however mean that you cannot change which object is pointed to as the reference itself is passed by value.</p>\n\n<p>Does this sound strange and confusing? Let's consider how C implements pass by reference and pass by value. In C, the default convention is pass by value. <code>void foo(int x)</code> passes an int by value. <code>void foo(int *x)</code> is a function that does not want an <code>int a</code>, but a pointer to an int: <code>foo(&amp;a)</code>. One would use this with the <code>&amp;</code> operator to pass a variable address.</p>\n\n<p>Take this to C++, and we have references. References are basically (in this context) syntactic sugar that hide the pointer part of the equation: <code>void foo(int &amp;x)</code> is called by <code>foo(a)</code>, where the compiler itself knows that it is a reference and the address of the non-reference <code>a</code> should be passed. In Java, all variables referring to objects are actually of reference type, in effect forcing call by reference for most intends and purposes without the fine grained control (and complexity) afforded by, for example, C++.</p>\n"},{"tags":[],"owner":{"account_id":237,"reputation":28496,"user_id":292,"accept_rate":68,"display_name":"shsteimer"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1398833416,"creation_date":1220470923,"answer_id":42392,"question_id":40480,"body_markdown":"The distinction, or perhaps just the way I remember as I used to be under the same impression as the original poster is this: Java is always pass by value. All objects( in Java, anything except for primitives) in Java are references. These references are passed by value.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>The distinction, or perhaps just the way I remember as I used to be under the same impression as the original poster is this: Java is always pass by value. All objects( in Java, anything except for primitives) in Java are references. These references are passed by value.</p>\n"},{"tags":[],"owner":{"account_id":1917,"reputation":17895,"user_id":2644,"accept_rate":82,"display_name":"pek"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1220472119,"creation_date":1220472119,"answer_id":42455,"question_id":40480,"body_markdown":"As many people mentioned it before, [Java is always pass-by-value][1]\r\n\r\nHere is another example that will help you understand the difference ([the classic swap example][2]):\r\n\r\n    public class Test {\r\n      public static void main(String[] args) {\r\n        Integer a = new Integer(2);\r\n        Integer b = new Integer(3);\r\n        System.out.println(&quot;Before: a = &quot; + a + &quot;, b = &quot; + b);\r\n        swap(a,b);\r\n        System.out.println(&quot;After: a = &quot; + a + &quot;, b = &quot; + b);\r\n      }\r\n    \r\n      public static swap(Integer iA, Integer iB) {\r\n        Integer tmp = iA;\r\n        iA = iB;\r\n        iB = tmp;\r\n      }\r\n    }\r\n\r\nPrints:  \r\n\r\n&gt; Before: a = 2, b = 3   \r\n&gt; After: a = 2, b = 3\r\n\r\n\r\nThis happens because iA and iB are new local reference variables that have the same value of the passed references (they point to a and b respectively). So, trying to change the references of iA or iB will only change in the local scope and not outside of this method.\r\n\r\n\r\n  [1]: http://academic.regis.edu/dbahr/GeneralPages/IntroToProgramming/JavaPassByValue.htm\r\n  [2]: http://www.javaranch.com/campfire/StoryPassBy.jsp","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>As many people mentioned it before, <a href=\"http://academic.regis.edu/dbahr/GeneralPages/IntroToProgramming/JavaPassByValue.htm\" rel=\"noreferrer\">Java is always pass-by-value</a></p>\n\n<p>Here is another example that will help you understand the difference (<a href=\"http://www.javaranch.com/campfire/StoryPassBy.jsp\" rel=\"noreferrer\">the classic swap example</a>):</p>\n\n<pre><code>public class Test {\n  public static void main(String[] args) {\n    Integer a = new Integer(2);\n    Integer b = new Integer(3);\n    System.out.println(\"Before: a = \" + a + \", b = \" + b);\n    swap(a,b);\n    System.out.println(\"After: a = \" + a + \", b = \" + b);\n  }\n\n  public static swap(Integer iA, Integer iB) {\n    Integer tmp = iA;\n    iA = iB;\n    iB = tmp;\n  }\n}\n</code></pre>\n\n<p>Prints:  </p>\n\n<blockquote>\n  <p>Before: a = 2, b = 3<br>\n  After: a = 2, b = 3</p>\n</blockquote>\n\n<p>This happens because iA and iB are new local reference variables that have the same value of the passed references (they point to a and b respectively). So, trying to change the references of iA or iB will only change in the local scope and not outside of this method.</p>\n"},{"tags":[],"owner":{"account_id":2207,"reputation":289,"user_id":3034,"accept_rate":75,"display_name":"SWD"},"down_vote_count":3,"up_vote_count":44,"is_accepted":false,"score":41,"last_activity_date":1231793263,"creation_date":1220885321,"answer_id":49857,"question_id":40480,"body_markdown":"I always think of it as &quot;pass by copy&quot;. It is a copy of the value be it primitive or reference. If it is a primitive it is a copy of the bits that are the value and if it is an Object it is a copy of the reference.\r\n\r\n    public class PassByCopy{\r\n        public static void changeName(Dog d){\r\n            d.name = &quot;Fido&quot;;\r\n        }\r\n        public static void main(String[] args){\r\n            Dog d = new Dog(&quot;Maxx&quot;);\r\n            System.out.println(&quot;name= &quot;+ d.name);\r\n            changeName(d);\r\n            System.out.println(&quot;name= &quot;+ d.name);\r\n        }\r\n    }\r\n    class Dog{\r\n        public String name;\r\n        public Dog(String s){\r\n            this.name = s;\r\n        }\r\n    }\r\n\r\noutput of java PassByCopy:\r\n\r\n&gt;name= Maxx  \r\n&gt;name= Fido\r\n\r\nPrimitive wrapper classes and Strings are immutable so any example using those types will not work the same as other types/objects.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I always think of it as \"pass by copy\". It is a copy of the value be it primitive or reference. If it is a primitive it is a copy of the bits that are the value and if it is an Object it is a copy of the reference.</p>\n\n<pre><code>public class PassByCopy{\n    public static void changeName(Dog d){\n        d.name = \"Fido\";\n    }\n    public static void main(String[] args){\n        Dog d = new Dog(\"Maxx\");\n        System.out.println(\"name= \"+ d.name);\n        changeName(d);\n        System.out.println(\"name= \"+ d.name);\n    }\n}\nclass Dog{\n    public String name;\n    public Dog(String s){\n        this.name = s;\n    }\n}\n</code></pre>\n\n<p>output of java PassByCopy:</p>\n\n<blockquote>\n  <p>name= Maxx<br>\n  name= Fido</p>\n</blockquote>\n\n<p>Primitive wrapper classes and Strings are immutable so any example using those types will not work the same as other types/objects.</p>\n"},{"tags":[],"owner":{"account_id":37,"reputation":18228,"user_id":46,"accept_rate":100,"display_name":"sven"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1220885688,"creation_date":1220885688,"answer_id":49863,"question_id":40480,"body_markdown":"I have created a thread devoted to these kind of questions for *any* programming languages [here][1].\r\n\r\n[Java is also mentioned][2]. Here is the short summary:\r\n\r\n  -  Java passes it parameters by value\r\n  - &quot;by value&quot; is the only way in java to pass a parameter to a method\r\n  - using methods from the object given as parameter will alter the\r\n    object as the references point to\r\n    the original objects. (if that\r\n    method itself alters some values)\r\n\r\n  [1]: https://stackoverflow.com/questions/2027/pass-by-reference-or-pass-by-value\r\n  [2]: https://stackoverflow.com/questions/2027/pass-by-reference-or-pass-by-value#2028","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I have created a thread devoted to these kind of questions for <em>any</em> programming languages <a href=\"https://stackoverflow.com/questions/2027/pass-by-reference-or-pass-by-value\">here</a>.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2027/pass-by-reference-or-pass-by-value#2028\">Java is also mentioned</a>. Here is the short summary:</p>\n\n<ul>\n<li>Java passes it parameters by value</li>\n<li>\"by value\" is the only way in java to pass a parameter to a method</li>\n<li>using methods from the object given as parameter will alter the\nobject as the references point to\nthe original objects. (if that\nmethod itself alters some values)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"down_vote_count":16,"up_vote_count":3591,"is_accepted":false,"score":3575,"last_activity_date":1660326149,"creation_date":1221575820,"answer_id":73021,"question_id":40480,"body_markdown":"I just noticed you referenced [my article][1].\r\n\r\nThe Java Spec says that everything in Java is pass-by-value. There is no such thing as &quot;pass-by-reference&quot; in Java.\r\n\r\nThe key to understanding this is that something like\r\n\r\n    Dog myDog;\r\n\r\nis _not_ a Dog; it&#39;s actually a _pointer_ to a Dog. The use of the term &quot;reference&quot; in Java is very misleading and is what causes most of the confusion here. What they call &quot;references&quot; act/feel more like what we&#39;d call &quot;pointers&quot; in most other languages.\r\n\r\nWhat that means, is when you have\r\n\r\n    Dog myDog = new Dog(&quot;Rover&quot;);\r\n    foo(myDog);\r\n\r\nyou&#39;re essentially passing the _address_ of the created `Dog` object to the `foo` method.\r\n\r\n(I say essentially because Java pointers/references aren&#39;t direct addresses, but it&#39;s easiest to think of them that way.)\r\n\r\nSuppose the `Dog` object resides at memory address 42. This means we pass 42 to the method.\r\n\r\nif the Method were defined as\r\n\r\n    public void foo(Dog someDog) {\r\n        someDog.setName(&quot;Max&quot;);     // AAA\r\n        someDog = new Dog(&quot;Fifi&quot;);  // BBB\r\n        someDog.setName(&quot;Rowlf&quot;);   // CCC\r\n    }\r\n\r\nlet&#39;s look at what&#39;s happening.\r\n\r\n   * the parameter `someDog` is set to the value 42\r\n   * at line &quot;AAA&quot;\r\n      * `someDog` is followed to the `Dog` it points to (the `Dog` object at address 42)\r\n      * that `Dog` (the one at address 42) is asked to change his name to Max\r\n   * at line &quot;BBB&quot;\r\n      * a new `Dog` is created. Let&#39;s say he&#39;s at address 74\r\n      * we assign the parameter `someDog` to 74 \r\n   * at line &quot;CCC&quot;\r\n      * someDog is followed to the `Dog` it points to (the `Dog` object at address 74)\r\n      * that `Dog` (the one at address 74) is asked to change his name to Rowlf\r\n   * then, we return\r\n\r\nNow let&#39;s think about what happens outside the method:\r\n\r\n*Did `myDog` change?*\r\n\r\nThere&#39;s the key.\r\n\r\nKeeping in mind that `myDog` is a *pointer*, and not an actual `Dog`, the answer is NO. `myDog` still has the value 42; it&#39;s still pointing to the original `Dog` (but note that because of line &quot;AAA&quot;, its name is now &quot;Max&quot; - still the same Dog; `myDog`&#39;s value has not changed.)\r\n\r\nIt&#39;s perfectly valid to *follow* an address and change what&#39;s at the end of it; that does not change the variable, however.\r\n\r\n\r\nJava works exactly like C. You can assign a pointer, pass the pointer to a method, follow the pointer in the method and change the data that was pointed to. However, the caller will not see any changes you make to where that pointer points. (In a language with pass-by-reference semantics, the method function _can_ change the pointer and the caller will see that change.)\r\n\r\nIn C++, Ada, Pascal and other languages that support pass-by-reference, you can actually change the variable that was passed.\r\n\r\nIf Java had pass-by-reference semantics, the `foo` method we defined above would have changed where `myDog` was pointing when it assigned `someDog` on line BBB.\r\n\r\nThink of reference parameters as being aliases for the variable passed in. When that alias is assigned, so is the variable that was passed in.\r\n\r\n## Update\r\nA discussion in the comments warrants some clarification...\r\n\r\nIn C, you can write\r\n\r\n```c\r\nvoid swap(int *x, int *y) {\r\n    int t = *x;\r\n    *x = *y;\r\n    *y = t;\r\n}\r\n\r\nint x = 1;\r\nint y = 2;\r\nswap(&amp;x, &amp;y);\r\n```\r\n\r\nThis is not a special case in C. Both languages use pass-by-value semantics. Here the call site is creating additional data structure to assist the function to access and manipulate data. \r\n\r\nThe function is being passed pointers to data, and follows those pointers to access and modify that data.\r\n\r\nA similar approach in Java, where the caller sets up assisting structure, might be:\r\n\r\n```java\r\nvoid swap(int[] x, int[] y) {\r\n    int temp = x[0];\r\n    x[0] = y[0];\r\n    y[0] = temp;\r\n}\r\n\r\nint[] x = {1};\r\nint[] y = {2};\r\nswap(x, y);\r\n```\r\n\r\n(or if you wanted both examples to demonstrate features the other language doesn&#39;t have, create a mutable IntWrapper class to use in place of the arrays)\r\n\r\nIn these cases, both C and Java are *simulating* pass-by-reference. They&#39;re still both passing values (pointers to ints or arrays), and following those pointers inside the called function to manipulate the data.\r\n\r\nPass-by-reference is all about the function *declaration/definition*, and how it handles its parameters. Reference semantics apply to *every* call to that function, and the call site only needs to pass variables, no additional data structure.\r\n\r\nThese simulations require the call site and the function to cooperate. No doubt it&#39;s useful, but it&#39;s still pass-by-value.\r\n\r\n  [1]: http://javadude.com/articles/passbyvalue.htm","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I just noticed you referenced <a href=\"http://javadude.com/articles/passbyvalue.htm\" rel=\"noreferrer\">my article</a>.</p>\n<p>The Java Spec says that everything in Java is pass-by-value. There is no such thing as &quot;pass-by-reference&quot; in Java.</p>\n<p>The key to understanding this is that something like</p>\n<pre><code>Dog myDog;\n</code></pre>\n<p>is <em>not</em> a Dog; it's actually a <em>pointer</em> to a Dog. The use of the term &quot;reference&quot; in Java is very misleading and is what causes most of the confusion here. What they call &quot;references&quot; act/feel more like what we'd call &quot;pointers&quot; in most other languages.</p>\n<p>What that means, is when you have</p>\n<pre><code>Dog myDog = new Dog(&quot;Rover&quot;);\nfoo(myDog);\n</code></pre>\n<p>you're essentially passing the <em>address</em> of the created <code>Dog</code> object to the <code>foo</code> method.</p>\n<p>(I say essentially because Java pointers/references aren't direct addresses, but it's easiest to think of them that way.)</p>\n<p>Suppose the <code>Dog</code> object resides at memory address 42. This means we pass 42 to the method.</p>\n<p>if the Method were defined as</p>\n<pre><code>public void foo(Dog someDog) {\n    someDog.setName(&quot;Max&quot;);     // AAA\n    someDog = new Dog(&quot;Fifi&quot;);  // BBB\n    someDog.setName(&quot;Rowlf&quot;);   // CCC\n}\n</code></pre>\n<p>let's look at what's happening.</p>\n<ul>\n<li>the parameter <code>someDog</code> is set to the value 42</li>\n<li>at line &quot;AAA&quot;\n<ul>\n<li><code>someDog</code> is followed to the <code>Dog</code> it points to (the <code>Dog</code> object at address 42)</li>\n<li>that <code>Dog</code> (the one at address 42) is asked to change his name to Max</li>\n</ul>\n</li>\n<li>at line &quot;BBB&quot;\n<ul>\n<li>a new <code>Dog</code> is created. Let's say he's at address 74</li>\n<li>we assign the parameter <code>someDog</code> to 74</li>\n</ul>\n</li>\n<li>at line &quot;CCC&quot;\n<ul>\n<li>someDog is followed to the <code>Dog</code> it points to (the <code>Dog</code> object at address 74)</li>\n<li>that <code>Dog</code> (the one at address 74) is asked to change his name to Rowlf</li>\n</ul>\n</li>\n<li>then, we return</li>\n</ul>\n<p>Now let's think about what happens outside the method:</p>\n<p><em>Did <code>myDog</code> change?</em></p>\n<p>There's the key.</p>\n<p>Keeping in mind that <code>myDog</code> is a <em>pointer</em>, and not an actual <code>Dog</code>, the answer is NO. <code>myDog</code> still has the value 42; it's still pointing to the original <code>Dog</code> (but note that because of line &quot;AAA&quot;, its name is now &quot;Max&quot; - still the same Dog; <code>myDog</code>'s value has not changed.)</p>\n<p>It's perfectly valid to <em>follow</em> an address and change what's at the end of it; that does not change the variable, however.</p>\n<p>Java works exactly like C. You can assign a pointer, pass the pointer to a method, follow the pointer in the method and change the data that was pointed to. However, the caller will not see any changes you make to where that pointer points. (In a language with pass-by-reference semantics, the method function <em>can</em> change the pointer and the caller will see that change.)</p>\n<p>In C++, Ada, Pascal and other languages that support pass-by-reference, you can actually change the variable that was passed.</p>\n<p>If Java had pass-by-reference semantics, the <code>foo</code> method we defined above would have changed where <code>myDog</code> was pointing when it assigned <code>someDog</code> on line BBB.</p>\n<p>Think of reference parameters as being aliases for the variable passed in. When that alias is assigned, so is the variable that was passed in.</p>\n<h2>Update</h2>\n<p>A discussion in the comments warrants some clarification...</p>\n<p>In C, you can write</p>\n<pre class=\"lang-c prettyprint-override\"><code>void swap(int *x, int *y) {\n    int t = *x;\n    *x = *y;\n    *y = t;\n}\n\nint x = 1;\nint y = 2;\nswap(&amp;x, &amp;y);\n</code></pre>\n<p>This is not a special case in C. Both languages use pass-by-value semantics. Here the call site is creating additional data structure to assist the function to access and manipulate data.</p>\n<p>The function is being passed pointers to data, and follows those pointers to access and modify that data.</p>\n<p>A similar approach in Java, where the caller sets up assisting structure, might be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void swap(int[] x, int[] y) {\n    int temp = x[0];\n    x[0] = y[0];\n    y[0] = temp;\n}\n\nint[] x = {1};\nint[] y = {2};\nswap(x, y);\n</code></pre>\n<p>(or if you wanted both examples to demonstrate features the other language doesn't have, create a mutable IntWrapper class to use in place of the arrays)</p>\n<p>In these cases, both C and Java are <em>simulating</em> pass-by-reference. They're still both passing values (pointers to ints or arrays), and following those pointers inside the called function to manipulate the data.</p>\n<p>Pass-by-reference is all about the function <em>declaration/definition</em>, and how it handles its parameters. Reference semantics apply to <em>every</em> call to that function, and the call site only needs to pass variables, no additional data structure.</p>\n<p>These simulations require the call site and the function to cooperate. No doubt it's useful, but it's still pass-by-value.</p>\n"},{"tags":[],"owner":{"account_id":5415,"reputation":44991,"user_id":8701,"accept_rate":100,"display_name":"Eclipse"},"down_vote_count":0,"up_vote_count":219,"is_accepted":false,"score":219,"last_activity_date":1474987377,"creation_date":1221673123,"answer_id":85711,"question_id":40480,"body_markdown":"Just to show the contrast, compare the following [C++][1] and [Java][2] snippets:\r\n\r\nIn C++: **Note: Bad code - memory leaks!**  But it demonstrates the point.\r\n\r\n    void cppMethod(int val, int &amp;ref, Dog obj, Dog &amp;objRef, Dog *objPtr, Dog *&amp;objPtrRef)\r\n    {\r\n        val = 7; // Modifies the copy\r\n        ref = 7; // Modifies the original variable\r\n        obj.SetName(&quot;obj&quot;); // Modifies the copy of Dog passed\r\n        objRef.SetName(&quot;objRef&quot;); // Modifies the original Dog passed\r\n        objPtr-&gt;SetName(&quot;objPtr&quot;); // Modifies the original Dog pointed to \r\n                                   // by the copy of the pointer passed.\r\n        objPtr = new Dog(&quot;newObjPtr&quot;);  // Modifies the copy of the pointer, \r\n                                       // leaving the original object alone.\r\n        objPtrRef-&gt;SetName(&quot;objRefPtr&quot;); // Modifies the original Dog pointed to \r\n                                        // by the original pointer passed. \r\n        objPtrRef = new Dog(&quot;newObjPtrRef&quot;); // Modifies the original pointer passed\r\n    }\r\n\r\n    int main()\r\n    {\r\n        int a = 0;\r\n        int b = 0;\r\n        Dog d0 = Dog(&quot;d0&quot;);\r\n        Dog d1 = Dog(&quot;d1&quot;);\r\n        Dog *d2 = new Dog(&quot;d2&quot;);\r\n        Dog *d3 = new Dog(&quot;d3&quot;);\r\n        cppMethod(a, b, d0, d1, d2, d3);\r\n        // a is still set to 0\r\n        // b is now set to 7\r\n        // d0 still have name &quot;d0&quot;\r\n        // d1 now has name &quot;objRef&quot;\r\n        // d2 now has name &quot;objPtr&quot;\r\n        // d3 now has name &quot;newObjPtrRef&quot;\r\n    }\r\n\r\nIn Java, \r\n\r\n    public static void javaMethod(int val, Dog objPtr)\r\n    {\r\n       val = 7; // Modifies the copy\r\n       objPtr.SetName(&quot;objPtr&quot;) // Modifies the original Dog pointed to \r\n                                // by the copy of the pointer passed.\r\n       objPtr = new Dog(&quot;newObjPtr&quot;);  // Modifies the copy of the pointer, \r\n                                      // leaving the original object alone.\r\n    }\r\n\r\n    public static void main()\r\n    {\r\n        int a = 0;\r\n        Dog d0 = new Dog(&quot;d0&quot;);\r\n        javaMethod(a, d0);\r\n        // a is still set to 0\r\n        // d0 now has name &quot;objPtr&quot;\r\n    }\r\n\r\nJava only has the two types of passing: by value for built-in types, and by value of the pointer for object types.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/C++\r\n  [2]: http://en.wikipedia.org/wiki/Java_%28programming_language%29\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Just to show the contrast, compare the following <a href=\"https://en.wikipedia.org/wiki/C++\" rel=\"noreferrer\">C++</a> and <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\" rel=\"noreferrer\">Java</a> snippets:</p>\n\n<p>In C++: <strong>Note: Bad code - memory leaks!</strong>  But it demonstrates the point.</p>\n\n<pre><code>void cppMethod(int val, int &amp;ref, Dog obj, Dog &amp;objRef, Dog *objPtr, Dog *&amp;objPtrRef)\n{\n    val = 7; // Modifies the copy\n    ref = 7; // Modifies the original variable\n    obj.SetName(\"obj\"); // Modifies the copy of Dog passed\n    objRef.SetName(\"objRef\"); // Modifies the original Dog passed\n    objPtr-&gt;SetName(\"objPtr\"); // Modifies the original Dog pointed to \n                               // by the copy of the pointer passed.\n    objPtr = new Dog(\"newObjPtr\");  // Modifies the copy of the pointer, \n                                   // leaving the original object alone.\n    objPtrRef-&gt;SetName(\"objRefPtr\"); // Modifies the original Dog pointed to \n                                    // by the original pointer passed. \n    objPtrRef = new Dog(\"newObjPtrRef\"); // Modifies the original pointer passed\n}\n\nint main()\n{\n    int a = 0;\n    int b = 0;\n    Dog d0 = Dog(\"d0\");\n    Dog d1 = Dog(\"d1\");\n    Dog *d2 = new Dog(\"d2\");\n    Dog *d3 = new Dog(\"d3\");\n    cppMethod(a, b, d0, d1, d2, d3);\n    // a is still set to 0\n    // b is now set to 7\n    // d0 still have name \"d0\"\n    // d1 now has name \"objRef\"\n    // d2 now has name \"objPtr\"\n    // d3 now has name \"newObjPtrRef\"\n}\n</code></pre>\n\n<p>In Java, </p>\n\n<pre><code>public static void javaMethod(int val, Dog objPtr)\n{\n   val = 7; // Modifies the copy\n   objPtr.SetName(\"objPtr\") // Modifies the original Dog pointed to \n                            // by the copy of the pointer passed.\n   objPtr = new Dog(\"newObjPtr\");  // Modifies the copy of the pointer, \n                                  // leaving the original object alone.\n}\n\npublic static void main()\n{\n    int a = 0;\n    Dog d0 = new Dog(\"d0\");\n    javaMethod(a, d0);\n    // a is still set to 0\n    // d0 now has name \"objPtr\"\n}\n</code></pre>\n\n<p>Java only has the two types of passing: by value for built-in types, and by value of the pointer for object types.</p>\n"},{"tags":[],"owner":{"account_id":22098,"reputation":1108,"user_id":54236,"display_name":"Harald Schilly"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1398833522,"creation_date":1231792442,"answer_id":436924,"question_id":40480,"body_markdown":"It&#39;s a bit hard to understand, but Java always copies the value - the point is, normally the value is a reference. Therefore you end up with the same object without thinking about it...\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>It's a bit hard to understand, but Java always copies the value - the point is, normally the value is a reference. Therefore you end up with the same object without thinking about it...</p>\n"},{"tags":[],"owner":{"account_id":4844,"reputation":41872,"user_id":7488,"accept_rate":67,"display_name":"JacquesB"},"down_vote_count":0,"up_vote_count":141,"is_accepted":false,"score":141,"last_activity_date":1517912294,"creation_date":1231793425,"answer_id":436969,"question_id":40480,"body_markdown":"The crux of the matter is that the word *reference* in the expression &quot;pass by reference&quot; means something completely different from the usual meaning of the word *reference* in Java. \r\n\r\nUsually in Java *reference* means a a *reference to an object*. But the technical terms *pass by reference/value* from programming language theory is talking about a *reference to the memory cell holding the variable*, which is something completely different.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>The crux of the matter is that the word <em>reference</em> in the expression \"pass by reference\" means something completely different from the usual meaning of the word <em>reference</em> in Java. </p>\n\n<p>Usually in Java <em>reference</em> means a a <em>reference to an object</em>. But the technical terms <em>pass by reference/value</em> from programming language theory is talking about a <em>reference to the memory cell holding the variable</em>, which is something completely different.</p>\n"},{"tags":[],"owner":{"account_id":27613,"reputation":14605,"user_id":73019,"accept_rate":80,"display_name":"Jared Oberhaus"},"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1236493732,"creation_date":1236493732,"answer_id":623155,"question_id":40480,"body_markdown":"You can never pass by reference in Java, and one of the ways that is obvious is when you want to return more than one value from a method call. Consider the following bit of code in C++:\r\n\r\n    void getValues(int&amp; arg1, int&amp; arg2) {\r\n        arg1 = 1;\r\n        arg2 = 2;\r\n    }\r\n    void caller() {\r\n        int x;\r\n        int y;\r\n        getValues(x, y);\r\n        cout &lt;&lt; &quot;Result: &quot; &lt;&lt; x &lt;&lt; &quot; &quot; &lt;&lt; y &lt;&lt; endl;\r\n    }\r\n\r\nSometimes you want to use the same pattern in Java, but you can&#39;t; at least not directly. Instead you could do something like this:\r\n\r\n    void getValues(int[] arg1, int[] arg2) {\r\n        arg1[0] = 1;\r\n        arg2[0] = 2;\r\n    }\r\n    void caller() {\r\n        int[] x = new int[1];\r\n        int[] y = new int[1];\r\n        getValues(x, y);\r\n        System.out.println(&quot;Result: &quot; + x[0] + &quot; &quot; + y[0]);\r\n    }\r\n\r\nAs was explained in previous answers, in Java you&#39;re passing a pointer to the array as a value into `getValues`. That is enough, because the method then modifies the array element, and by convention you&#39;re expecting element 0 to contain the return value. Obviously you can do this in other ways, such as structuring your code so this isn&#39;t necessary, or constructing a class that can contain the return value or allow it to be set. But the simple pattern available to you in C++ above is not available in Java.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>You can never pass by reference in Java, and one of the ways that is obvious is when you want to return more than one value from a method call. Consider the following bit of code in C++:</p>\n\n<pre><code>void getValues(int&amp; arg1, int&amp; arg2) {\n    arg1 = 1;\n    arg2 = 2;\n}\nvoid caller() {\n    int x;\n    int y;\n    getValues(x, y);\n    cout &lt;&lt; \"Result: \" &lt;&lt; x &lt;&lt; \" \" &lt;&lt; y &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Sometimes you want to use the same pattern in Java, but you can't; at least not directly. Instead you could do something like this:</p>\n\n<pre><code>void getValues(int[] arg1, int[] arg2) {\n    arg1[0] = 1;\n    arg2[0] = 2;\n}\nvoid caller() {\n    int[] x = new int[1];\n    int[] y = new int[1];\n    getValues(x, y);\n    System.out.println(\"Result: \" + x[0] + \" \" + y[0]);\n}\n</code></pre>\n\n<p>As was explained in previous answers, in Java you're passing a pointer to the array as a value into <code>getValues</code>. That is enough, because the method then modifies the array element, and by convention you're expecting element 0 to contain the return value. Obviously you can do this in other ways, such as structuring your code so this isn't necessary, or constructing a class that can contain the return value or allow it to be set. But the simple pattern available to you in C++ above is not available in Java.</p>\n"},{"tags":[],"owner":{"account_id":20305,"reputation":4874,"user_id":48402,"accept_rate":70,"display_name":"kukudas"},"down_vote_count":1,"up_vote_count":64,"is_accepted":false,"score":63,"last_activity_date":1238695124,"creation_date":1238621600,"answer_id":707416,"question_id":40480,"body_markdown":"As far as I know, Java only knows call by value. This means for primitive datatypes you will work with an copy and for objects you will work with an copy of the reference to the objects. However I think there are some pitfalls; for example, this will not work:\r\n\r\n    public static void swap(StringBuffer s1, StringBuffer s2) {\r\n        StringBuffer temp = s1;\r\n        s1 = s2;\r\n        s2 = temp;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        StringBuffer s1 = new StringBuffer(&quot;Hello&quot;);\r\n        StringBuffer s2 = new StringBuffer(&quot;World&quot;);\r\n        swap(s1, s2);\r\n        System.out.println(s1);\r\n        System.out.println(s2);\r\n    }\r\n\r\nThis will populate Hello World and not World Hello because in the swap function you use copys which have no impact on the references in the main. But if your objects are not immutable you can change it for example:\r\n\r\n    public static void appendWorld(StringBuffer s1) {\r\n        s1.append(&quot; World&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        StringBuffer s = new StringBuffer(&quot;Hello&quot;);\r\n        appendWorld(s);\r\n        System.out.println(s);\r\n    }\r\n\r\nThis will populate Hello World on the command line. If you change StringBuffer into String it will produce just Hello because String is immutable. For example:\r\n\r\n    public static void appendWorld(String s){\r\n        s = s+&quot; World&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String s = new String(&quot;Hello&quot;);\r\n        appendWorld(s);\r\n        System.out.println(s);\r\n    }\r\n\r\nHowever you could make a wrapper for String like this which would make it able to use it with Strings:\r\n\r\n    class StringWrapper {\r\n        public String value;\r\n\r\n        public StringWrapper(String value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n    public static void appendWorld(StringWrapper s){\r\n        s.value = s.value +&quot; World&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        StringWrapper s = new StringWrapper(&quot;Hello&quot;);\r\n        appendWorld(s);\r\n        System.out.println(s.value);\r\n    }\r\n\r\nedit: i believe this is also the reason to use StringBuffer when it comes to &quot;adding&quot; two Strings because you can modifie the original object which u can&#39;t with immutable objects like String is.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>As far as I know, Java only knows call by value. This means for primitive datatypes you will work with an copy and for objects you will work with an copy of the reference to the objects. However I think there are some pitfalls; for example, this will not work:</p>\n\n<pre><code>public static void swap(StringBuffer s1, StringBuffer s2) {\n    StringBuffer temp = s1;\n    s1 = s2;\n    s2 = temp;\n}\n\n\npublic static void main(String[] args) {\n    StringBuffer s1 = new StringBuffer(\"Hello\");\n    StringBuffer s2 = new StringBuffer(\"World\");\n    swap(s1, s2);\n    System.out.println(s1);\n    System.out.println(s2);\n}\n</code></pre>\n\n<p>This will populate Hello World and not World Hello because in the swap function you use copys which have no impact on the references in the main. But if your objects are not immutable you can change it for example:</p>\n\n<pre><code>public static void appendWorld(StringBuffer s1) {\n    s1.append(\" World\");\n}\n\npublic static void main(String[] args) {\n    StringBuffer s = new StringBuffer(\"Hello\");\n    appendWorld(s);\n    System.out.println(s);\n}\n</code></pre>\n\n<p>This will populate Hello World on the command line. If you change StringBuffer into String it will produce just Hello because String is immutable. For example:</p>\n\n<pre><code>public static void appendWorld(String s){\n    s = s+\" World\";\n}\n\npublic static void main(String[] args) {\n    String s = new String(\"Hello\");\n    appendWorld(s);\n    System.out.println(s);\n}\n</code></pre>\n\n<p>However you could make a wrapper for String like this which would make it able to use it with Strings:</p>\n\n<pre><code>class StringWrapper {\n    public String value;\n\n    public StringWrapper(String value) {\n        this.value = value;\n    }\n}\n\npublic static void appendWorld(StringWrapper s){\n    s.value = s.value +\" World\";\n}\n\npublic static void main(String[] args) {\n    StringWrapper s = new StringWrapper(\"Hello\");\n    appendWorld(s);\n    System.out.println(s.value);\n}\n</code></pre>\n\n<p>edit: i believe this is also the reason to use StringBuffer when it comes to \"adding\" two Strings because you can modifie the original object which u can't with immutable objects like String is.</p>\n"},{"tags":[],"owner":{"account_id":578270,"reputation":39,"user_id":238938,"display_name":"Rusty Shackleford"},"down_vote_count":4,"up_vote_count":35,"is_accepted":false,"score":31,"last_activity_date":1261858762,"creation_date":1261858762,"answer_id":1964260,"question_id":40480,"body_markdown":"A few corrections to some posts.\r\n\r\nC does NOT support pass by reference. It is ALWAYS pass by value. C++ does support pass by reference, but is not the default and is quite dangerous.\r\n\r\nIt doesn&#39;t matter what the value is in Java: primitive or address(roughly) of object, it is ALWAYS passed by value.\r\n\r\nIf a Java object &quot;behaves&quot; like it is being passed by reference, that is a property of mutability and has absolutely nothing to do with passing mechanisms.\r\n\r\nI am not sure why this is so confusing, perhaps because so many Java &quot;programmers&quot; are not formally trained, and thus do not understand what is really going on in memory?","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>A few corrections to some posts.</p>\n\n<p>C does NOT support pass by reference. It is ALWAYS pass by value. C++ does support pass by reference, but is not the default and is quite dangerous.</p>\n\n<p>It doesn't matter what the value is in Java: primitive or address(roughly) of object, it is ALWAYS passed by value.</p>\n\n<p>If a Java object \"behaves\" like it is being passed by reference, that is a property of mutability and has absolutely nothing to do with passing mechanisms.</p>\n\n<p>I am not sure why this is so confusing, perhaps because so many Java \"programmers\" are not formally trained, and thus do not understand what is really going on in memory?</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1261861511,"creation_date":1261861511,"answer_id":1964361,"question_id":40480,"body_markdown":"Java copies the reference by value. So if you change it to something else (e.g, using `new`) the reference does not change outside the method. For native types, it is always pass by value.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java copies the reference by value. So if you change it to something else (e.g, using <code>new</code>) the reference does not change outside the method. For native types, it is always pass by value.</p>\n"},{"tags":[],"owner":{"account_id":73930,"reputation":2183,"user_id":212665,"accept_rate":100,"display_name":"Vinay Lodha"},"down_vote_count":4,"up_vote_count":18,"is_accepted":false,"score":14,"last_activity_date":1281356518,"creation_date":1281356518,"answer_id":3439923,"question_id":40480,"body_markdown":"Have a look at this code. This code will not throw `NullPointerException`... It will print &quot;Vinay&quot;\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString temp = &quot;Vinay&quot;;\r\n    \t\tprint(temp);\r\n    \t\tSystem.err.println(temp);\r\n    \t}\r\n    \r\n    \tprivate static void print(String temp) {\r\n    \t\ttemp = null;\r\n    \t}\r\n    }\r\n\r\n\r\nIf Java is pass by reference then it should have thrown `NullPointerException` as reference is set to Null.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Have a look at this code. This code will not throw <code>NullPointerException</code>... It will print \"Vinay\"</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String temp = \"Vinay\";\n        print(temp);\n        System.err.println(temp);\n    }\n\n    private static void print(String temp) {\n        temp = null;\n    }\n}\n</code></pre>\n\n<p>If Java is pass by reference then it should have thrown <code>NullPointerException</code> as reference is set to Null.</p>\n"},{"tags":[],"owner":{"account_id":2172,"reputation":364855,"user_id":2988,"display_name":"J&#246;rg W Mittag"},"down_vote_count":4,"up_vote_count":177,"is_accepted":false,"score":173,"last_activity_date":1283897222,"creation_date":1283897222,"answer_id":3663123,"question_id":40480,"body_markdown":"I can&#39;t believe that nobody mentioned Barbara Liskov yet. When she designed CLU in 1974, she ran into this same terminology problem, and she invented the term *call by sharing* (also known as *call by object-sharing* and *call by object*) for this specific case of &quot;call by value where the value is a reference&quot;.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I can't believe that nobody mentioned Barbara Liskov yet. When she designed CLU in 1974, she ran into this same terminology problem, and she invented the term <em>call by sharing</em> (also known as <em>call by object-sharing</em> and <em>call by object</em>) for this specific case of \"call by value where the value is a reference\".</p>\n"},{"tags":[],"owner":{"account_id":426173,"reputation":18141,"user_id":807231,"accept_rate":38,"display_name":"Marsellus Wallace"},"down_vote_count":8,"up_vote_count":807,"is_accepted":false,"score":799,"last_activity_date":1515061042,"creation_date":1313112139,"answer_id":7034719,"question_id":40480,"body_markdown":"**This will give you some insights of how Java really works to the point that in your next discussion about Java passing by reference or passing by value you&#39;ll just smile :-)**\r\n\r\nStep one please erase from your mind that word that starts with &#39;p&#39; &quot;_ _ _ _ _ _ _&quot;, especially if you come from other programming languages. Java and &#39;p&#39; cannot be written in the same book, forum, or even txt.\r\n\r\nStep two remember that when you pass an Object into a method you&#39;re passing the Object reference and not the Object itself.\r\n\r\n - *Student*: Master, does this mean that Java is pass-by-reference?\r\n - *Master*: Grasshopper, No.\r\n\t\r\nNow think of what an Object&#39;s reference/variable does/is:\r\n \r\n 1. **A variable holds the bits that tell the JVM how to get to the referenced Object in memory (Heap).**\r\n 2. When passing arguments to a method **you ARE NOT passing the reference variable, but a copy of the bits in the reference variable**. Something like this: 3bad086a. 3bad086a represents a way to get to the passed object.\r\n 3. So you&#39;re just passing 3bad086a that it&#39;s the value of the reference.\r\n 4. You&#39;re passing the value of the reference and not the reference itself (and not the object).\r\n 5. ***This value is actually COPIED and given to the method***. \r\n\r\nIn the following (please don&#39;t try to compile/execute this...):\r\n    \r\n    1. Person person;\r\n    2. person = new Person(&quot;Tom&quot;);\r\n    3. changeName(person);\r\n    4.\r\n    5. //I didn&#39;t use Person person below as an argument to be nice\r\n    6. static void changeName(Person anotherReferenceToTheSamePersonObject) {\r\n    7.     anotherReferenceToTheSamePersonObject.setName(&quot;Jerry&quot;);\r\n    8. }\r\n\r\nWhat happens?\r\n\r\n - The variable *person* is created in line #1 and it&#39;s null at the beginning.\r\n - A new Person Object is created in line #2, stored in memory, and the variable *person* is given the reference to the Person object. That is, its address. Let&#39;s say 3bad086a.\r\n - The variable *person* holding the address of the Object is passed to the function in line #3.\r\n - In line #4 you can listen to the sound of silence \r\n - Check the comment on line #5\r\n - A method local variable -*anotherReferenceToTheSamePersonObject*- is created and then comes the magic in line #6:\r\n     - The variable/reference *person* is copied bit-by-bit and passed to *anotherReferenceToTheSamePersonObject* inside the function.\r\n     - No new instances of Person are created.\r\n     - Both &quot;*person*&quot; and &quot;*anotherReferenceToTheSamePersonObject*&quot; hold the same value of 3bad086a.\r\n     - Don&#39;t try this but person==anotherReferenceToTheSamePersonObject would be true.\r\n     - Both variables have IDENTICAL COPIES of the reference and they both refer to the same Person Object, the SAME Object on the Heap and NOT A COPY.\r\n\r\nA picture is worth a thousand words:\r\n\r\n![Pass by Value][1]\r\n\r\n**Note that the anotherReferenceToTheSamePersonObject arrows is directed towards the Object and not towards the variable person!**\r\n\r\nIf you didn&#39;t get it then just trust me and remember that it&#39;s better to say that **Java is pass by value**. Well, **pass by reference value**. Oh well, even better is ***pass-by-copy-of-the-variable-value! ;)***\r\n\r\nNow feel free to hate me but note that given this **there is no difference between passing primitive data types and Objects** when talking about method arguments.\r\n\r\nYou always pass a copy of the bits of the value of the reference!\r\n\r\n - If it&#39;s a primitive data type these bits will contain the value of the primitive data type itself.\r\n - If it&#39;s an Object the bits will contain the value of the address that tells the JVM how to get to the Object.\r\n\r\n&gt;Java is pass-by-value because inside a method you can modify the referenced Object as much as you want but no matter how hard you try you&#39;ll never be able to modify the passed variable that will keep referencing (not p _ _ _ _ _ _ _) the same Object no matter what!\r\n\r\n------\r\n\r\n&gt;The changeName function above will never be able to modify the actual content (the bit values) of the passed reference. In other word changeName cannot make Person person refer to another Object.\r\n\r\n------\r\n\r\nOf course you can cut it short and just say that  **Java is pass-by-value!**\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Ba3hJ.jpg","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>This will give you some insights of how Java really works to the point that in your next discussion about Java passing by reference or passing by value you'll just smile :-)</strong></p>\n\n<p>Step one please erase from your mind that word that starts with 'p' \"_ _ _ _ _ _ _\", especially if you come from other programming languages. Java and 'p' cannot be written in the same book, forum, or even txt.</p>\n\n<p>Step two remember that when you pass an Object into a method you're passing the Object reference and not the Object itself.</p>\n\n<ul>\n<li><em>Student</em>: Master, does this mean that Java is pass-by-reference?</li>\n<li><em>Master</em>: Grasshopper, No.</li>\n</ul>\n\n<p>Now think of what an Object's reference/variable does/is:</p>\n\n<ol>\n<li><strong>A variable holds the bits that tell the JVM how to get to the referenced Object in memory (Heap).</strong></li>\n<li>When passing arguments to a method <strong>you ARE NOT passing the reference variable, but a copy of the bits in the reference variable</strong>. Something like this: 3bad086a. 3bad086a represents a way to get to the passed object.</li>\n<li>So you're just passing 3bad086a that it's the value of the reference.</li>\n<li>You're passing the value of the reference and not the reference itself (and not the object).</li>\n<li><strong><em>This value is actually COPIED and given to the method</em></strong>. </li>\n</ol>\n\n<p>In the following (please don't try to compile/execute this...):</p>\n\n<pre><code>1. Person person;\n2. person = new Person(\"Tom\");\n3. changeName(person);\n4.\n5. //I didn't use Person person below as an argument to be nice\n6. static void changeName(Person anotherReferenceToTheSamePersonObject) {\n7.     anotherReferenceToTheSamePersonObject.setName(\"Jerry\");\n8. }\n</code></pre>\n\n<p>What happens?</p>\n\n<ul>\n<li>The variable <em>person</em> is created in line #1 and it's null at the beginning.</li>\n<li>A new Person Object is created in line #2, stored in memory, and the variable <em>person</em> is given the reference to the Person object. That is, its address. Let's say 3bad086a.</li>\n<li>The variable <em>person</em> holding the address of the Object is passed to the function in line #3.</li>\n<li>In line #4 you can listen to the sound of silence </li>\n<li>Check the comment on line #5</li>\n<li>A method local variable -<em>anotherReferenceToTheSamePersonObject</em>- is created and then comes the magic in line #6:\n\n<ul>\n<li>The variable/reference <em>person</em> is copied bit-by-bit and passed to <em>anotherReferenceToTheSamePersonObject</em> inside the function.</li>\n<li>No new instances of Person are created.</li>\n<li>Both \"<em>person</em>\" and \"<em>anotherReferenceToTheSamePersonObject</em>\" hold the same value of 3bad086a.</li>\n<li>Don't try this but person==anotherReferenceToTheSamePersonObject would be true.</li>\n<li>Both variables have IDENTICAL COPIES of the reference and they both refer to the same Person Object, the SAME Object on the Heap and NOT A COPY.</li>\n</ul></li>\n</ul>\n\n<p>A picture is worth a thousand words:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Ba3hJ.jpg\" alt=\"Pass by Value\"></p>\n\n<p><strong>Note that the anotherReferenceToTheSamePersonObject arrows is directed towards the Object and not towards the variable person!</strong></p>\n\n<p>If you didn't get it then just trust me and remember that it's better to say that <strong>Java is pass by value</strong>. Well, <strong>pass by reference value</strong>. Oh well, even better is <strong><em>pass-by-copy-of-the-variable-value! ;)</em></strong></p>\n\n<p>Now feel free to hate me but note that given this <strong>there is no difference between passing primitive data types and Objects</strong> when talking about method arguments.</p>\n\n<p>You always pass a copy of the bits of the value of the reference!</p>\n\n<ul>\n<li>If it's a primitive data type these bits will contain the value of the primitive data type itself.</li>\n<li>If it's an Object the bits will contain the value of the address that tells the JVM how to get to the Object.</li>\n</ul>\n\n<blockquote>\n  <p>Java is pass-by-value because inside a method you can modify the referenced Object as much as you want but no matter how hard you try you'll never be able to modify the passed variable that will keep referencing (not p _ _ _ _ _ _ _) the same Object no matter what!</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p>The changeName function above will never be able to modify the actual content (the bit values) of the passed reference. In other word changeName cannot make Person person refer to another Object.</p>\n</blockquote>\n\n<hr>\n\n<p>Of course you can cut it short and just say that  <strong>Java is pass-by-value!</strong></p>\n"},{"tags":[],"owner":{"account_id":94649,"reputation":8699,"user_id":258289,"accept_rate":95,"display_name":"Luigi"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1370595076,"creation_date":1334867121,"answer_id":10236169,"question_id":40480,"body_markdown":"Everything is passed by value. Primitives and Object references. But objects can be changed, if their interface allows it.\r\n\r\nWhen you pass an object to a method, you are passing a reference, and the object can be modified by the method implementation. \r\n\r\n    void bithday(Person p) {\r\n        p.age++;\r\n    }\r\n\r\nThe reference of the object itself, is passed by value: you can reassign the parameter, but the change is not reflected back:\r\n\r\n\r\n    void renameToJon(Person p) { \r\n        p = new Person(&quot;Jon&quot;); // this will not work\r\n    }\r\n\r\n    jack = new Person(&quot;Jack&quot;);\r\n    renameToJon(jack);\r\n    sysout(jack); // jack is unchanged\r\n\r\nAs matter of effect, &quot;p&quot; is reference (pointer to the object) and can&#39;t be changed. \r\n\r\nPrimitive types are passed by value. Object&#39;s reference can be considered a primitive type too. \r\n\r\nTo recap, everything is passed by value.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Everything is passed by value. Primitives and Object references. But objects can be changed, if their interface allows it.</p>\n\n<p>When you pass an object to a method, you are passing a reference, and the object can be modified by the method implementation. </p>\n\n<pre><code>void bithday(Person p) {\n    p.age++;\n}\n</code></pre>\n\n<p>The reference of the object itself, is passed by value: you can reassign the parameter, but the change is not reflected back:</p>\n\n<pre><code>void renameToJon(Person p) { \n    p = new Person(\"Jon\"); // this will not work\n}\n\njack = new Person(\"Jack\");\nrenameToJon(jack);\nsysout(jack); // jack is unchanged\n</code></pre>\n\n<p>As matter of effect, \"p\" is reference (pointer to the object) and can't be changed. </p>\n\n<p>Primitive types are passed by value. Object's reference can be considered a primitive type too. </p>\n\n<p>To recap, everything is passed by value.</p>\n"},{"tags":[],"owner":{"account_id":1528638,"reputation":4655,"user_id":1426433,"accept_rate":79,"display_name":"Fernando Espinosa"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1678962313,"creation_date":1343842286,"answer_id":11764499,"question_id":40480,"body_markdown":"There are two cases of interest:\r\n\r\nFor a variable of primitive type (eg. `int`, `boolean`, `char`, and others...), when you use the variable name in a function argument, you are passing by value. This value (eg. `5`, `true`, or `&#39;c&#39;`) is &quot;copied&quot;, and the variable retains its original value after the method invocation, because there are now two copies of the data in existance. One is outside of the function call, the other is inside.\r\n\r\nFor a variable of reference type (eg. `String`, `Object`, etc...), when you use the variable name for a function argument, you are passing the reference value contained in the variable. The reference value is copied, just as in the first example above, and the variable external to the function also retains its value the method invocation. The reference is still to the same object. What differs in this case is that the function may alter data inside the object which is referenced.\r\n\r\nEither way, you&#39;re always passing stuff by value.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>There are two cases of interest:</p>\n<p>For a variable of primitive type (eg. <code>int</code>, <code>boolean</code>, <code>char</code>, and others...), when you use the variable name in a function argument, you are passing by value. This value (eg. <code>5</code>, <code>true</code>, or <code>'c'</code>) is &quot;copied&quot;, and the variable retains its original value after the method invocation, because there are now two copies of the data in existance. One is outside of the function call, the other is inside.</p>\n<p>For a variable of reference type (eg. <code>String</code>, <code>Object</code>, etc...), when you use the variable name for a function argument, you are passing the reference value contained in the variable. The reference value is copied, just as in the first example above, and the variable external to the function also retains its value the method invocation. The reference is still to the same object. What differs in this case is that the function may alter data inside the object which is referenced.</p>\n<p>Either way, you're always passing stuff by value.</p>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115920,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":8,"up_vote_count":2123,"is_accepted":false,"score":2115,"last_activity_date":1690494998,"creation_date":1347646975,"answer_id":12429953,"question_id":40480,"body_markdown":"Java always passes arguments *by value*, NOT by reference.\r\n\r\n---\r\nLet me explain this through an [example][1]:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Main {\r\n\r\n         public static void main(String[] args) {\r\n              Foo f = new Foo(&quot;f&quot;);\r\n              changeReference(f); // It won&#39;t change the reference!\r\n              modifyReference(f); // It will modify the object that the reference variable &quot;f&quot; refers to!\r\n         }\r\n\r\n         public static void changeReference(Foo a) {\r\n              Foo b = new Foo(&quot;b&quot;);\r\n              a = b;\r\n         }\r\n\r\n         public static void modifyReference(Foo c) {\r\n              c.setAttribute(&quot;c&quot;);\r\n         }\r\n\r\n    }\r\n\r\nI will explain this in steps:\r\n\r\n1. Declaring a reference named `f` of type `Foo` and assign it a new object of type `Foo` with an attribute `&quot;f&quot;`.\r\n\r\n       Foo f = new Foo(&quot;f&quot;);\r\n\r\n    ![enter image description here][2]\r\n\r\n2. From the method side, a reference of type `Foo` with a name `a` is declared and it&#39;s initially assigned `null`.\r\n\r\n       public static void changeReference(Foo a)\r\n\r\n    ![enter image description here][3]\r\n\r\n3. As you call the method `changeReference`, the reference `a` will be assigned the object which is passed as an argument.\r\n\r\n       changeReference(f);\r\n\r\n    ![enter image description here][4]\r\n\r\n4. Declaring a reference named `b` of type `Foo` and assign it a new object of type `Foo` with an attribute `&quot;b&quot;`.\r\n\r\n       Foo b = new Foo(&quot;b&quot;);\r\n\r\n    ![enter image description here][5]\r\n\r\n5. `a = b` makes a new assignment to the reference `a`, **not** `f`, of the object whose attribute is `&quot;b&quot;`.\r\n\r\n    ![enter image description here][6]\r\n\r\n6. As you call `modifyReference(Foo c)` method, a reference `c` is created and assigned the object with attribute `&quot;f&quot;`.\r\n\r\n    ![enter image description here][7]\r\n\r\n\r\n7. `c.setAttribute(&quot;c&quot;);` will change the attribute of the object that reference `c` points to it, and it&#39;s the same object that reference `f` points to it.\r\n\r\n    ![enter image description here][8]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9404727/597657\r\n  [2]: http://i.stack.imgur.com/arXpP.png\r\n  [3]: http://i.stack.imgur.com/k2LBD.png\r\n  [4]: http://i.stack.imgur.com/1Ez74.png\r\n  [5]: http://i.stack.imgur.com/Krx4N.png\r\n  [6]: http://i.stack.imgur.com/rCluu.png\r\n  [7]: http://i.stack.imgur.com/PRZPg.png\r\n  [8]: http://i.stack.imgur.com/H9Qsf.png","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java always passes arguments <em>by value</em>, NOT by reference.</p>\n<hr />\n<p>Let me explain this through an <a href=\"https://stackoverflow.com/a/9404727/597657\">example</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n     public static void main(String[] args) {\n          Foo f = new Foo(&quot;f&quot;);\n          changeReference(f); // It won't change the reference!\n          modifyReference(f); // It will modify the object that the reference variable &quot;f&quot; refers to!\n     }\n\n     public static void changeReference(Foo a) {\n          Foo b = new Foo(&quot;b&quot;);\n          a = b;\n     }\n\n     public static void modifyReference(Foo c) {\n          c.setAttribute(&quot;c&quot;);\n     }\n\n}\n</code></pre>\n<p>I will explain this in steps:</p>\n<ol>\n<li><p>Declaring a reference named <code>f</code> of type <code>Foo</code> and assign it a new object of type <code>Foo</code> with an attribute <code>&quot;f&quot;</code>.</p>\n<pre><code>Foo f = new Foo(&quot;f&quot;);\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/arXpP.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>From the method side, a reference of type <code>Foo</code> with a name <code>a</code> is declared and it's initially assigned <code>null</code>.</p>\n<pre><code>public static void changeReference(Foo a)\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/k2LBD.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>As you call the method <code>changeReference</code>, the reference <code>a</code> will be assigned the object which is passed as an argument.</p>\n<pre><code>changeReference(f);\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/1Ez74.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>Declaring a reference named <code>b</code> of type <code>Foo</code> and assign it a new object of type <code>Foo</code> with an attribute <code>&quot;b&quot;</code>.</p>\n<pre><code>Foo b = new Foo(&quot;b&quot;);\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/Krx4N.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p><code>a = b</code> makes a new assignment to the reference <code>a</code>, <strong>not</strong> <code>f</code>, of the object whose attribute is <code>&quot;b&quot;</code>.</p>\n<p><img src=\"https://i.stack.imgur.com/rCluu.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>As you call <code>modifyReference(Foo c)</code> method, a reference <code>c</code> is created and assigned the object with attribute <code>&quot;f&quot;</code>.</p>\n<p><img src=\"https://i.stack.imgur.com/PRZPg.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p><code>c.setAttribute(&quot;c&quot;);</code> will change the attribute of the object that reference <code>c</code> points to it, and it's the same object that reference <code>f</code> points to it.</p>\n<p><img src=\"https://i.stack.imgur.com/H9Qsf.png\" alt=\"enter image description here\" /></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1922639,"reputation":497,"user_id":1733754,"display_name":"George"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1440222612,"creation_date":1350010804,"answer_id":12851599,"question_id":40480,"body_markdown":"No, it&#39;s not pass by reference.\r\n\r\nJava is pass by value according to the Java Language Specification:\r\n\r\n&gt; When the method or constructor is invoked (&#167;15.12), **the values of the actual argument expressions initialize newly created parameter variables**, each of the declared type, before execution of the body of the method or constructor. The Identifier that appears in the DeclaratorId may be used as a simple name in the body of the method or constructor to refer to the [formal parameter][1]. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.1","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>No, it's not pass by reference.</p>\n\n<p>Java is pass by value according to the Java Language Specification:</p>\n\n<blockquote>\n  <p>When the method or constructor is invoked (§15.12), <strong>the values of the actual argument expressions initialize newly created parameter variables</strong>, each of the declared type, before execution of the body of the method or constructor. The Identifier that appears in the DeclaratorId may be used as a simple name in the body of the method or constructor to refer to the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.1\" rel=\"noreferrer\">formal parameter</a>. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1852520,"reputation":2797,"user_id":1678760,"accept_rate":85,"display_name":"fatma.ekici"},"down_vote_count":4,"up_vote_count":22,"is_accepted":false,"score":18,"last_activity_date":1356982546,"creation_date":1356982546,"answer_id":14105447,"question_id":40480,"body_markdown":"Java is pass by constant reference where a copy of the reference is passed which means that it is basically a pass by value. You might change the contents of the reference if the class is mutable but you cannot change the reference itself. In other words the address can not be changed since it is passed by value but the content that is pointed by the address can be changed. In case of immutable classes, the content of the reference cannot be changed either.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java is pass by constant reference where a copy of the reference is passed which means that it is basically a pass by value. You might change the contents of the reference if the class is mutable but you cannot change the reference itself. In other words the address can not be changed since it is passed by value but the content that is pointed by the address can be changed. In case of immutable classes, the content of the reference cannot be changed either.</p>\n"},{"tags":[],"owner":{"account_id":2439364,"reputation":5868,"user_id":2128327,"display_name":"Khaled.K"},"down_vote_count":3,"up_vote_count":12,"is_accepted":false,"score":9,"last_activity_date":1505666338,"creation_date":1370151044,"answer_id":16880062,"question_id":40480,"body_markdown":"Java is always pass-by-value, the parameters are copies of what the variables passed, all Objects are defined using a reference, and reference is a variable that stores a memory address of where the object is in memory.\r\n\r\nCheck the comments to understand what happens in execution; follow numbers as they show the flow of execution ..\r\n\r\n    class Example\r\n    {\r\n        public static void test (Cat ref)\r\n        {\r\n            // 3 - &lt;ref&gt; is a copy of the reference &lt;a&gt;\r\n            // both currently reference Grumpy\r\n            System.out.println(ref.getName());\r\n            \r\n            // 4 - now &lt;ref&gt; references a new &lt;Cat&gt; object named &quot;Nyan&quot;\r\n            ref = new Cat(&quot;Nyan&quot;);\r\n            \r\n            // 5 - this should print &quot;Nyan&quot;\r\n            System.out.println( ref.getName() );\r\n        }\r\n        \r\n        public static void main (String [] args)\r\n        {\r\n            // 1 - a is a &lt;Cat&gt; reference that references a Cat object in memory with name &quot;Grumpy&quot;\r\n            Cat a = new Cat(&quot;Grumpy&quot;);\r\n            \r\n            // 2 - call to function test which takes a &lt;Cat&gt; reference\r\n            test (a);\r\n            \r\n            // 6 - function call ends, and &lt;ref&gt; life-time ends\r\n            // &quot;Nyan&quot; object has no references and the Garbage\r\n            // Collector will remove it from memory when invoked\r\n            \r\n            // 7 - this should print &quot;Grumpy&quot;\r\n            System.out.println(a.getName());\r\n        }\r\n    }\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java is always pass-by-value, the parameters are copies of what the variables passed, all Objects are defined using a reference, and reference is a variable that stores a memory address of where the object is in memory.</p>\n\n<p>Check the comments to understand what happens in execution; follow numbers as they show the flow of execution ..</p>\n\n<pre><code>class Example\n{\n    public static void test (Cat ref)\n    {\n        // 3 - &lt;ref&gt; is a copy of the reference &lt;a&gt;\n        // both currently reference Grumpy\n        System.out.println(ref.getName());\n\n        // 4 - now &lt;ref&gt; references a new &lt;Cat&gt; object named \"Nyan\"\n        ref = new Cat(\"Nyan\");\n\n        // 5 - this should print \"Nyan\"\n        System.out.println( ref.getName() );\n    }\n\n    public static void main (String [] args)\n    {\n        // 1 - a is a &lt;Cat&gt; reference that references a Cat object in memory with name \"Grumpy\"\n        Cat a = new Cat(\"Grumpy\");\n\n        // 2 - call to function test which takes a &lt;Cat&gt; reference\n        test (a);\n\n        // 6 - function call ends, and &lt;ref&gt; life-time ends\n        // \"Nyan\" object has no references and the Garbage\n        // Collector will remove it from memory when invoked\n\n        // 7 - this should print \"Grumpy\"\n        System.out.println(a.getName());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1307057,"reputation":5794,"user_id":1255825,"accept_rate":74,"display_name":"JasonG"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1465272194,"creation_date":1372180334,"answer_id":17303467,"question_id":40480,"body_markdown":"In an attempt to add even more to this, I thought I&#39;d include the SCJP Study Guide section on the topic. This is from the guide that is made to pass the Sun/Oracle test on the behaviour of Java so it&#39;s a good source to use for this discussion.\r\n\r\n&gt; Passing Variables into Methods (Objective 7.3)\r\n&gt;\r\n&gt; 7.3 Determine the effect upon object references and primitive values when they are passed into methods that perform assignments or other modifying operations on the parameters.\r\n\r\n&gt; Methods can be declared to take primitives and/or object references. You need to know how (or if) the caller&#39;s variable can be affected by the called method. The difference between object reference and primitive variables, when passed into methods, is huge and important. To understand this section, you&#39;ll need to be comfortable with the assignments section covered in the first part of this chapter.\r\n\r\n&gt; Passing Object Reference Variables\r\n\r\n&gt; When you pass an object variable into a method, you must keep in mind that you&#39;re passing the object reference, and not the actual object itself. Remember that a reference variable holds bits that represent (to the underlying VM) a way to get to a specific object in memory (on the heap). More importantly, you must remember that you aren&#39;t even passing the actual reference variable, but rather a copy of the reference variable. A copy of a variable means you get a copy of the bits in that variable, so when you pass a reference variable, you&#39;re passing a copy of the bits representing how to get to a specific object. In other words, both the caller and the called method will now have identical copies of the reference, and thus both will refer to the same exact (not a copy) object on the heap.\r\n\r\n&gt; For this example, we&#39;ll use the Dimension class from the java.awt package:\r\n\r\n\r\n    1. import java.awt.Dimension;\r\n    2. class ReferenceTest {\r\n    3.     public static void main (String [] args) {\r\n    4.         Dimension d = new Dimension(5,10);\r\n    5.         ReferenceTest rt = new ReferenceTest();\r\n    6.         System.out.println(&quot;Before modify() d.height = &quot; + d.height);\r\n    7.         rt.modify(d);\r\n    8.         System.out.println(&quot;After modify() d.height = &quot;\r\n    9.     }\r\n    10.\r\n    11.\r\n    12.\r\n    13.   }\r\n    14. }\r\n\r\n\r\n&gt; When we run this class, we can see that the modify() method was indeed able to modify the original (and only) Dimension object created on line 4.\r\n\r\n&lt;pre&gt;\r\nC:\\Java Projects\\Reference&gt;java ReferenceTest\r\nBefore modify() d.height = 10\r\ndim = 11\r\nAfter modify() d.height = 11\r\n&lt;/pre&gt;\r\n\r\n&gt; Notice when the Dimension object on line 4 is passed to the modify() method, any changes to the object that occur inside the method are being made to the object whose reference was passed. In the preceding example, reference variables d and dim both point to the same object.\r\n\r\n&gt; Does Java Use Pass-By-Value Semantics?\r\n\r\n&gt; If Java passes objects by passing the reference variable instead, does that mean Java uses pass-by-reference for objects? Not exactly, although you&#39;ll often hear and read that it does. Java is actually pass-by-value for all variables running within a single VM. Pass-by-value means pass-by-variable-value. And that means, pass-by-copy-of- the-variable! (There&#39;s that word copy again!)\r\n\r\n&gt; It makes no difference if you&#39;re passing primitive or reference variables, you are always passing a copy of the bits in the variable. So for a primitive variable, you&#39;re passing a copy of the bits representing the value. For example, if you pass an int variable with the value of 3, you&#39;re passing a copy of the bits representing 3. The called method then gets its own copy of the value, to do with it what it likes.\r\n\r\n&gt; And if you&#39;re passing an object reference variable, you&#39;re passing a copy of the bits representing the reference to an object. The called method then gets its own copy of the reference variable, to do with it what it likes. But because two identical reference variables refer to the exact same object, if the called method modifies the object (by invoking setter methods, for example), the caller will see that the object the caller&#39;s original variable refers to has also been changed. In the next section, we&#39;ll look at how the picture changes when we&#39;re talking about primitives.\r\n\r\n&gt; The bottom line on pass-by-value: the called method can&#39;t change the caller&#39;s variable, although for object reference variables, the called method can change the object the variable referred to. What&#39;s the difference between changing the variable and changing the object? For object references, it means the called method can&#39;t reassign the caller&#39;s original reference variable and make it refer to a different object, or null. For example, in the following code fragment,\r\n\r\n            void bar() {\r\n               Foo f = new Foo();\r\n               doStuff(f);\r\n            }\r\n            void doStuff(Foo g) {\r\n               g.setName(&quot;Boo&quot;);\r\n               g = new Foo();\r\n            }\r\n\r\n&gt; reassigning g does not reassign f! At the end of the bar() method, two Foo objects have been created, one referenced by the local variable f and one referenced by\r\nthe local (argument) variable g. Because the doStuff() method has a copy of the reference variable, it has a way to get to the original Foo object, for instance to call the setName() method. But, the doStuff() method does not have a way to get to the f reference variable. So doStuff() can change values within the object f refers to, but doStuff() can&#39;t change the actual contents (bit pattern) of f. In other words, doStuff() can change the state of the object that f refers to, but it can&#39;t make f refer to a different object!\r\n\r\n&gt; Passing Primitive Variables\r\n\r\n&gt; Let&#39;s look at what happens when a primitive variable is passed to a method:\r\n \r\n\r\n    class ReferenceTest {\r\n        public static void main (String [] args) {\r\n          int a = 1;\r\n          ReferenceTest rt = new ReferenceTest();\r\n          System.out.println(&quot;Before modify() a = &quot; + a);\r\n          rt.modify(a);\r\n          System.out.println(&quot;After modify() a = &quot; + a);\r\n        }\r\n        void modify(int number) {\r\n          number = number + 1;\r\n          System.out.println(&quot;number = &quot; + number);\r\n        }\r\n    }\r\n\r\n&gt; In this simple program, the variable a is passed to a method called modify(),\r\nwhich increments the variable by 1. The resulting output looks like this:\r\n\r\n      Before modify() a = 1\r\n      number = 2\r\n      After modify() a = 1\r\n\r\n&gt; Notice that a did not change after it was passed to the method. Remember, it was a copy of a that was passed to the method. When a primitive variable is passed to a method, it is passed by value, which means pass-by-copy-of-the-bits-in-the-variable.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>In an attempt to add even more to this, I thought I'd include the SCJP Study Guide section on the topic. This is from the guide that is made to pass the Sun/Oracle test on the behaviour of Java so it's a good source to use for this discussion.</p>\n\n<blockquote>\n  <p>Passing Variables into Methods (Objective 7.3)</p>\n  \n  <p>7.3 Determine the effect upon object references and primitive values when they are passed into methods that perform assignments or other modifying operations on the parameters.</p>\n  \n  <p>Methods can be declared to take primitives and/or object references. You need to know how (or if) the caller's variable can be affected by the called method. The difference between object reference and primitive variables, when passed into methods, is huge and important. To understand this section, you'll need to be comfortable with the assignments section covered in the first part of this chapter.</p>\n  \n  <p>Passing Object Reference Variables</p>\n  \n  <p>When you pass an object variable into a method, you must keep in mind that you're passing the object reference, and not the actual object itself. Remember that a reference variable holds bits that represent (to the underlying VM) a way to get to a specific object in memory (on the heap). More importantly, you must remember that you aren't even passing the actual reference variable, but rather a copy of the reference variable. A copy of a variable means you get a copy of the bits in that variable, so when you pass a reference variable, you're passing a copy of the bits representing how to get to a specific object. In other words, both the caller and the called method will now have identical copies of the reference, and thus both will refer to the same exact (not a copy) object on the heap.</p>\n  \n  <p>For this example, we'll use the Dimension class from the java.awt package:</p>\n</blockquote>\n\n<pre><code>1. import java.awt.Dimension;\n2. class ReferenceTest {\n3.     public static void main (String [] args) {\n4.         Dimension d = new Dimension(5,10);\n5.         ReferenceTest rt = new ReferenceTest();\n6.         System.out.println(\"Before modify() d.height = \" + d.height);\n7.         rt.modify(d);\n8.         System.out.println(\"After modify() d.height = \"\n9.     }\n10.\n11.\n12.\n13.   }\n14. }\n</code></pre>\n\n<blockquote>\n  <p>When we run this class, we can see that the modify() method was indeed able to modify the original (and only) Dimension object created on line 4.</p>\n</blockquote>\n\n<pre>\nC:\\Java Projects\\Reference>java ReferenceTest\nBefore modify() d.height = 10\ndim = 11\nAfter modify() d.height = 11\n</pre>\n\n<blockquote>\n  <p>Notice when the Dimension object on line 4 is passed to the modify() method, any changes to the object that occur inside the method are being made to the object whose reference was passed. In the preceding example, reference variables d and dim both point to the same object.</p>\n  \n  <p>Does Java Use Pass-By-Value Semantics?</p>\n  \n  <p>If Java passes objects by passing the reference variable instead, does that mean Java uses pass-by-reference for objects? Not exactly, although you'll often hear and read that it does. Java is actually pass-by-value for all variables running within a single VM. Pass-by-value means pass-by-variable-value. And that means, pass-by-copy-of- the-variable! (There's that word copy again!)</p>\n  \n  <p>It makes no difference if you're passing primitive or reference variables, you are always passing a copy of the bits in the variable. So for a primitive variable, you're passing a copy of the bits representing the value. For example, if you pass an int variable with the value of 3, you're passing a copy of the bits representing 3. The called method then gets its own copy of the value, to do with it what it likes.</p>\n  \n  <p>And if you're passing an object reference variable, you're passing a copy of the bits representing the reference to an object. The called method then gets its own copy of the reference variable, to do with it what it likes. But because two identical reference variables refer to the exact same object, if the called method modifies the object (by invoking setter methods, for example), the caller will see that the object the caller's original variable refers to has also been changed. In the next section, we'll look at how the picture changes when we're talking about primitives.</p>\n  \n  <p>The bottom line on pass-by-value: the called method can't change the caller's variable, although for object reference variables, the called method can change the object the variable referred to. What's the difference between changing the variable and changing the object? For object references, it means the called method can't reassign the caller's original reference variable and make it refer to a different object, or null. For example, in the following code fragment,</p>\n</blockquote>\n\n<pre><code>        void bar() {\n           Foo f = new Foo();\n           doStuff(f);\n        }\n        void doStuff(Foo g) {\n           g.setName(\"Boo\");\n           g = new Foo();\n        }\n</code></pre>\n\n<blockquote>\n  <p>reassigning g does not reassign f! At the end of the bar() method, two Foo objects have been created, one referenced by the local variable f and one referenced by\n  the local (argument) variable g. Because the doStuff() method has a copy of the reference variable, it has a way to get to the original Foo object, for instance to call the setName() method. But, the doStuff() method does not have a way to get to the f reference variable. So doStuff() can change values within the object f refers to, but doStuff() can't change the actual contents (bit pattern) of f. In other words, doStuff() can change the state of the object that f refers to, but it can't make f refer to a different object!</p>\n  \n  <p>Passing Primitive Variables</p>\n  \n  <p>Let's look at what happens when a primitive variable is passed to a method:</p>\n</blockquote>\n\n<pre><code>class ReferenceTest {\n    public static void main (String [] args) {\n      int a = 1;\n      ReferenceTest rt = new ReferenceTest();\n      System.out.println(\"Before modify() a = \" + a);\n      rt.modify(a);\n      System.out.println(\"After modify() a = \" + a);\n    }\n    void modify(int number) {\n      number = number + 1;\n      System.out.println(\"number = \" + number);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>In this simple program, the variable a is passed to a method called modify(),\n  which increments the variable by 1. The resulting output looks like this:</p>\n</blockquote>\n\n<pre><code>  Before modify() a = 1\n  number = 2\n  After modify() a = 1\n</code></pre>\n\n<blockquote>\n  <p>Notice that a did not change after it was passed to the method. Remember, it was a copy of a that was passed to the method. When a primitive variable is passed to a method, it is passed by value, which means pass-by-copy-of-the-bits-in-the-variable.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2158210,"reputation":221,"user_id":1912964,"accept_rate":0,"display_name":"Gaurav"},"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1493440293,"creation_date":1373437887,"answer_id":17563873,"question_id":40480,"body_markdown":"Java has only pass by value. A very simple example to validate this.\r\n\r\n    public void test() {\r\n        MyClass obj = null;\r\n        init(obj);\r\n        //After calling init method, obj still points to null\r\n        //this is because obj is passed as value and not as reference.\r\n    }\r\n    private void init(MyClass objVar) {\r\n        objVar = new MyClass();\r\n    }\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java has only pass by value. A very simple example to validate this.</p>\n\n<pre><code>public void test() {\n    MyClass obj = null;\n    init(obj);\n    //After calling init method, obj still points to null\n    //this is because obj is passed as value and not as reference.\n}\nprivate void init(MyClass objVar) {\n    objVar = new MyClass();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1405683047,"creation_date":1376734191,"answer_id":18287583,"question_id":40480,"body_markdown":"Shortest answer :)\r\n\r\n - Java has pass-by-value (and pass-reference-by-value.) \r\n - **C# also has pass-by-reference**\r\n\r\nIn C# this is accomplished with the &quot;out&quot; and &quot;ref&quot; keywords. \r\n\r\nPass By Reference: The variable is passed in such a way that **a reassignment inside the method is reflected even outside the method.**\r\n\r\nHere follows **an example of passing-by-reference (C#)**.\r\nThis feature does not exist in java.\r\n\r\n    class Example\r\n    {\r\n        static void InitArray(out int[] arr)\r\n        {\r\n            arr = new int[5] { 1, 2, 3, 4, 5 };\r\n        }\r\n    \r\n        static void Main()\r\n        {\r\n            int[] someArray;\r\n            InitArray(out someArray);\r\n\r\n            // This is true !\r\n            boolean isTrue = (someArray[0] == 1);\r\n        }\r\n    }\r\n\r\nSee also: [MSDN library (C#): passing arrays by ref and out][1]\r\n\r\nSee also: [MSDN library (C#): passing by by value and by reference][2]\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/szasx730.aspx &quot;MSDN library: passing arrays by ref and out&quot;\r\n  [2]: http://msdn.microsoft.com/en-us/library/0f66670z.aspx &quot;MSDN library: passing by reference&quot;","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Shortest answer :)</p>\n\n<ul>\n<li>Java has pass-by-value (and pass-reference-by-value.) </li>\n<li><strong>C# also has pass-by-reference</strong></li>\n</ul>\n\n<p>In C# this is accomplished with the \"out\" and \"ref\" keywords. </p>\n\n<p>Pass By Reference: The variable is passed in such a way that <strong>a reassignment inside the method is reflected even outside the method.</strong></p>\n\n<p>Here follows <strong>an example of passing-by-reference (C#)</strong>.\nThis feature does not exist in java.</p>\n\n<pre><code>class Example\n{\n    static void InitArray(out int[] arr)\n    {\n        arr = new int[5] { 1, 2, 3, 4, 5 };\n    }\n\n    static void Main()\n    {\n        int[] someArray;\n        InitArray(out someArray);\n\n        // This is true !\n        boolean isTrue = (someArray[0] == 1);\n    }\n}\n</code></pre>\n\n<p>See also: <a href=\"http://msdn.microsoft.com/en-us/library/szasx730.aspx\" rel=\"noreferrer\" title=\"MSDN library: passing arrays by ref and out\">MSDN library (C#): passing arrays by ref and out</a></p>\n\n<p>See also: <a href=\"http://msdn.microsoft.com/en-us/library/0f66670z.aspx\" rel=\"noreferrer\" title=\"MSDN library: passing by reference\">MSDN library (C#): passing by by value and by reference</a></p>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1378832000,"creation_date":1378326161,"answer_id":18623099,"question_id":40480,"body_markdown":"The bottom line on pass-by-value: the called method can&#39;t change the caller&#39;s\r\nvariable, although for object reference variables, the called method can change the\r\nobject the variable referred to. What&#39;s the difference between changing the variable\r\nand changing the object? For object references, it means the called method can&#39;t\r\nreassign the caller&#39;s original reference variable and make it refer to a different object,\r\nor null. \r\n\r\nI took this code and explanation from a book on Java Certification and made some minor changes.  \r\nI think it&#39;s a\r\ngood illustration to the pass by value of an object.  In the code below, \r\nreassigning g does not reassign f! At the end of the bar() method, two Foo objects\r\nhave been created, one referenced by the local variable f and one referenced by\r\nthe local (argument) variable g. \r\n\r\nBecause the doStuff() method has a copy of the reference variable, it has a way to get \r\nto the original Foo object, for instance to call\r\nthe setName() method. But, the doStuff() method does not have a way to get to\r\nthe f reference variable. So doStuff() can change values within the object f refers\r\nto, but doStuff() can&#39;t change the actual contents (bit pattern) of f. In other\r\nwords, doStuff() can change the state of the object that f refers to, but it can&#39;t\r\nmake f refer to a different object!\r\n\r\n    package test.abc;\r\n    \r\n    public class TestObject {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tbar();\r\n    \t}\r\n    \t\r\n    \tstatic void bar() {\r\n    \t\tFoo f = new Foo();\r\n    \t\tSystem.out.println(&quot;Object reference for f: &quot; + f);\r\n    \t\tf.setName(&quot;James&quot;);\r\n    \t\tdoStuff(f);\r\n    \t\tSystem.out.println(f.getName());\r\n    \t\t//Can change the state of an object variable in f, but can&#39;t change the object reference for f.\r\n    \t\t//You still have 2 foo objects.\r\n    \t\tSystem.out.println(&quot;Object reference for f: &quot; + f);\r\n    \t\t}\r\n    \t\r\n    \tstatic void doStuff(Foo g) {\r\n    \t\t\tg.setName(&quot;Boo&quot;);\r\n    \t\t\tg = new Foo();\r\n    \t\t\tSystem.out.println(&quot;Object reference for g: &quot; + g);\r\n    \t\t}\r\n    }\r\n    \r\n    \r\n    package test.abc;\r\n    \r\n    public class Foo {\r\n    \tpublic String name = &quot;&quot;;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    }\r\n\r\n**Note that the object reference has not changed in the console output below:**\r\n\r\n**Console output:**\r\n\r\nObject reference for f: test.abc.Foo@62f72617\r\n\r\nObject reference for g: test.abc.Foo@4fe5e2c3\r\n\r\nBoo\r\nObject reference for f: test.abc.Foo@62f72617 ","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>The bottom line on pass-by-value: the called method can't change the caller's\nvariable, although for object reference variables, the called method can change the\nobject the variable referred to. What's the difference between changing the variable\nand changing the object? For object references, it means the called method can't\nreassign the caller's original reference variable and make it refer to a different object,\nor null. </p>\n\n<p>I took this code and explanation from a book on Java Certification and made some minor changes.<br>\nI think it's a\ngood illustration to the pass by value of an object.  In the code below, \nreassigning g does not reassign f! At the end of the bar() method, two Foo objects\nhave been created, one referenced by the local variable f and one referenced by\nthe local (argument) variable g. </p>\n\n<p>Because the doStuff() method has a copy of the reference variable, it has a way to get \nto the original Foo object, for instance to call\nthe setName() method. But, the doStuff() method does not have a way to get to\nthe f reference variable. So doStuff() can change values within the object f refers\nto, but doStuff() can't change the actual contents (bit pattern) of f. In other\nwords, doStuff() can change the state of the object that f refers to, but it can't\nmake f refer to a different object!</p>\n\n<pre><code>package test.abc;\n\npublic class TestObject {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        bar();\n    }\n\n    static void bar() {\n        Foo f = new Foo();\n        System.out.println(\"Object reference for f: \" + f);\n        f.setName(\"James\");\n        doStuff(f);\n        System.out.println(f.getName());\n        //Can change the state of an object variable in f, but can't change the object reference for f.\n        //You still have 2 foo objects.\n        System.out.println(\"Object reference for f: \" + f);\n        }\n\n    static void doStuff(Foo g) {\n            g.setName(\"Boo\");\n            g = new Foo();\n            System.out.println(\"Object reference for g: \" + g);\n        }\n}\n\n\npackage test.abc;\n\npublic class Foo {\n    public String name = \"\";\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n\n<p><strong>Note that the object reference has not changed in the console output below:</strong></p>\n\n<p><strong>Console output:</strong></p>\n\n<p>Object reference for f: test.abc.Foo@62f72617</p>\n\n<p>Object reference for g: test.abc.Foo@4fe5e2c3</p>\n\n<p>Boo\nObject reference for f: test.abc.Foo@62f72617 </p>\n"},{"tags":[],"owner":{"account_id":2163996,"reputation":1697,"user_id":1917489,"accept_rate":63,"display_name":"cutmancometh"},"down_vote_count":15,"up_vote_count":310,"is_accepted":false,"score":295,"last_activity_date":1515082727,"creation_date":1378899270,"answer_id":18740042,"question_id":40480,"body_markdown":"I feel like arguing about &quot;pass-by-reference vs pass-by-value&quot; is not super-helpful.\r\n\r\nIf you say, &quot;Java is pass-by-whatever (reference/value)&quot;, in either case, you&#39;re not provide a complete answer. Here&#39;s some additional information that will hopefully aid in understanding what&#39;s happening in memory.\r\n\r\nCrash course on stack/heap before we get to the Java implementation:\r\nValues go on and off the stack in a nice orderly fashion, like a stack of plates at a cafeteria.\r\nMemory in the heap (also known as dynamic memory) is haphazard and disorganized. The JVM just finds space wherever it can, and frees it up as the variables that use it are no longer needed.\r\n\r\nOkay. First off, local primitives go on the stack. So this code:\r\n\r\n    int x = 3;\r\n    float y = 101.1f;\r\n    boolean amIAwesome = true;\r\n\r\nresults in this:\r\n\r\n![primitives on the stack][1]\r\n\r\n\r\nWhen you declare and instantiate an object. The actual object goes on the heap. What goes on the stack? The address of the object on the heap. C++ programmers would call this a pointer, but some Java developers are against the word &quot;pointer&quot;. Whatever. Just know that the address of the object goes on the stack.\r\n\r\nLike so:\r\n\r\n    int problems = 99;\r\n    String name = &quot;Jay-Z&quot;;\r\n\r\n![a b*7ch aint one!][2]\r\n\r\nAn array is an object, so it goes on the heap as well. And what about the objects in the array? They get their own heap space, and the address of each object goes inside the array.\r\n\r\n    JButton[] marxBros = new JButton[3];\r\n    marxBros[0] = new JButton(&quot;Groucho&quot;);\r\n    marxBros[1] = new JButton(&quot;Zeppo&quot;);\r\n    marxBros[2] = new JButton(&quot;Harpo&quot;);\r\n\r\n![marx brothers][3]\r\n\r\nSo, what gets passed in when you call a method? If you pass in an object, what you&#39;re actually passing in is the address of the object. Some might say the &quot;value&quot; of the address, and some say it&#39;s just a reference to the object. This is the genesis of the holy war between &quot;reference&quot; and &quot;value&quot; proponents. What you call it isn&#39;t as important as that you understand that what&#39;s getting passed in is the address to the object.\r\n\r\n    private static void shout(String name){\r\n        System.out.println(&quot;There goes &quot; + name + &quot;!&quot;);\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        String hisName = &quot;John J. Jingleheimerschmitz&quot;;\r\n        String myName = hisName;\r\n        shout(myName);\r\n    }\r\n\r\nOne String gets created and space for it is allocated in the heap, and the address to the string is stored on the stack and given the identifier `hisName`, since the address of the second String is the same as the first, no new String is created and no new heap space is allocated, but a new identifier is created on the stack. Then we call `shout()`: a new stack frame is created and a new identifier, `name` is created and assigned the address of the already-existing String.\r\n\r\n![la da di da da da da][4]\r\n\r\nSo, value, reference? You say &quot;potato&quot;.\r\n\r\n  [1]: http://i.stack.imgur.com/7nGKU.png\r\n  [2]: http://i.stack.imgur.com/yTIYp.png\r\n  [3]: http://i.stack.imgur.com/v2b33.png\r\n  [4]: http://i.stack.imgur.com/q0prc.png","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I feel like arguing about \"pass-by-reference vs pass-by-value\" is not super-helpful.</p>\n\n<p>If you say, \"Java is pass-by-whatever (reference/value)\", in either case, you're not provide a complete answer. Here's some additional information that will hopefully aid in understanding what's happening in memory.</p>\n\n<p>Crash course on stack/heap before we get to the Java implementation:\nValues go on and off the stack in a nice orderly fashion, like a stack of plates at a cafeteria.\nMemory in the heap (also known as dynamic memory) is haphazard and disorganized. The JVM just finds space wherever it can, and frees it up as the variables that use it are no longer needed.</p>\n\n<p>Okay. First off, local primitives go on the stack. So this code:</p>\n\n<pre><code>int x = 3;\nfloat y = 101.1f;\nboolean amIAwesome = true;\n</code></pre>\n\n<p>results in this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/7nGKU.png\" alt=\"primitives on the stack\"></p>\n\n<p>When you declare and instantiate an object. The actual object goes on the heap. What goes on the stack? The address of the object on the heap. C++ programmers would call this a pointer, but some Java developers are against the word \"pointer\". Whatever. Just know that the address of the object goes on the stack.</p>\n\n<p>Like so:</p>\n\n<pre><code>int problems = 99;\nString name = \"Jay-Z\";\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/yTIYp.png\" alt=\"a b*7ch aint one!\"></p>\n\n<p>An array is an object, so it goes on the heap as well. And what about the objects in the array? They get their own heap space, and the address of each object goes inside the array.</p>\n\n<pre><code>JButton[] marxBros = new JButton[3];\nmarxBros[0] = new JButton(\"Groucho\");\nmarxBros[1] = new JButton(\"Zeppo\");\nmarxBros[2] = new JButton(\"Harpo\");\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/v2b33.png\" alt=\"marx brothers\"></p>\n\n<p>So, what gets passed in when you call a method? If you pass in an object, what you're actually passing in is the address of the object. Some might say the \"value\" of the address, and some say it's just a reference to the object. This is the genesis of the holy war between \"reference\" and \"value\" proponents. What you call it isn't as important as that you understand that what's getting passed in is the address to the object.</p>\n\n<pre><code>private static void shout(String name){\n    System.out.println(\"There goes \" + name + \"!\");\n}\n\npublic static void main(String[] args){\n    String hisName = \"John J. Jingleheimerschmitz\";\n    String myName = hisName;\n    shout(myName);\n}\n</code></pre>\n\n<p>One String gets created and space for it is allocated in the heap, and the address to the string is stored on the stack and given the identifier <code>hisName</code>, since the address of the second String is the same as the first, no new String is created and no new heap space is allocated, but a new identifier is created on the stack. Then we call <code>shout()</code>: a new stack frame is created and a new identifier, <code>name</code> is created and assigned the address of the already-existing String.</p>\n\n<p><img src=\"https://i.stack.imgur.com/q0prc.png\" alt=\"la da di da da da da\"></p>\n\n<p>So, value, reference? You say \"potato\".</p>\n"},{"tags":[],"owner":{"account_id":2182740,"reputation":10568,"user_id":1931858,"display_name":"user1931858"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1379901791,"creation_date":1379901791,"answer_id":18950805,"question_id":40480,"body_markdown":"Java passes parameters by value, but for object variables, the values are essentially references to objects. Since arrays are objects the following [example code][1] shows the difference.\r\n\r\n    public static void dummyIncrease(int[] x, int y)\r\n    {\r\n        x[0]++;\r\n        y++;\r\n    }\r\n    public static void main(String[] args)\r\n    {\r\n        int[] arr = {3, 4, 5};\r\n        int b = 1;\r\n        dummyIncrease(arr, b);\r\n        // arr[0] is 4, but b is still 1\r\n    }\r\n\r\n    main()\r\n      arr +---+       +---+---+---+\r\n          | # | ----&gt; | 3 | 4 | 5 |\r\n          +---+       +---+---+---+\r\n      b   +---+             ^\r\n          | 1 |             | \r\n          +---+             |\r\n                            |\r\n    dummyIncrease()         |\r\n      x   +---+             |\r\n          | # | ------------+\r\n          +---+      \r\n      y   +---+ \r\n          | 1 | \r\n          +---+ \r\n\r\n\r\n  [1]: http://theoryapp.com/parameter-passing-in-java/","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java passes parameters by value, but for object variables, the values are essentially references to objects. Since arrays are objects the following <a href=\"http://theoryapp.com/parameter-passing-in-java/\" rel=\"noreferrer\">example code</a> shows the difference.</p>\n\n<pre><code>public static void dummyIncrease(int[] x, int y)\n{\n    x[0]++;\n    y++;\n}\npublic static void main(String[] args)\n{\n    int[] arr = {3, 4, 5};\n    int b = 1;\n    dummyIncrease(arr, b);\n    // arr[0] is 4, but b is still 1\n}\n\nmain()\n  arr +---+       +---+---+---+\n      | # | ----&gt; | 3 | 4 | 5 |\n      +---+       +---+---+---+\n  b   +---+             ^\n      | 1 |             | \n      +---+             |\n                        |\ndummyIncrease()         |\n  x   +---+             |\n      | # | ------------+\n      +---+      \n  y   +---+ \n      | 1 | \n      +---+ \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2154940,"reputation":924,"user_id":1910406,"display_name":"Ganesh"},"down_vote_count":2,"up_vote_count":104,"is_accepted":false,"score":102,"last_activity_date":1690495083,"creation_date":1381996470,"answer_id":19421107,"question_id":40480,"body_markdown":"**Java is always pass by value, not pass by reference** \r\n\r\nFirst of all, we need to understand what pass by value and pass by reference are. \r\n\r\n**Pass by value means that you are making a copy in memory of the actual parameter&#39;s value that is passed in. This is a copy of the contents of the actual parameter**.\r\n\r\n**Pass by reference (also called pass by address) means that a copy of the address of the actual parameter is stored**.\r\n\r\nSometimes Java can give the illusion of pass by reference. Let&#39;s see how it works by using the example below:\r\n\r\n\r\n    public class PassByValue {\r\n        public static void main(String[] args) {\r\n            Test t = new Test();\r\n            t.name = &quot;initialvalue&quot;;\r\n            new PassByValue().changeValue(t);\r\n            System.out.println(t.name);\r\n        }\r\n        \r\n        public void changeValue(Test f) {\r\n            f.name = &quot;changevalue&quot;;\r\n        }\r\n    }\r\n    \r\n    class Test {\r\n        String name;\r\n    }\r\n\r\nThe output of this program is: \r\n\r\n&gt;     changevalue\r\n\r\n\r\nLet&#39;s understand step by step:\r\n\r\n    Test t = new Test();\r\n\r\nAs we all know it will create an object in the heap and return the reference value back to t. For example, suppose the value of t is `0x100234` (we don&#39;t know the actual JVM internal value, this is just an example) .\r\n\r\n\r\n![first illustration][1]\r\n\r\n    new PassByValue().changeValue(t);\r\n\r\nWhen passing reference t to the function it will not directly pass the actual reference value of object test,  but it will create a copy of t and then pass it to the function. Since it is **passing by value**, it passes a copy of the variable rather than the actual reference of it. Since we said the value of t was `0x100234`, both t and f will have the same value and hence they will point to the same object.\r\n\r\n![second illustration][2]\r\n\r\nIf you change anything in the function using reference f it will modify the existing contents of the object. That is why we got the output `changevalue`,   which is updated in the function.\r\n\r\nTo understand this more clearly, consider the following example:\r\n\r\n    public class PassByValue {\r\n        public static void main(String[] args) {\r\n            Test t = new Test();\r\n            t.name = &quot;initialvalue&quot;;\r\n            new PassByValue().changeRefence(t);\r\n            System.out.println(t.name);\r\n        }\r\n        \r\n        public void changeRefence(Test f) {\r\n            f = null;\r\n        }\r\n    }\r\n    \r\n    class Test {\r\n        String name;\r\n    }\r\n\r\nWill this throw a `NullPointerException`? No, because it only passes a copy of the reference. \r\nIn the case of passing by reference, it could have thrown a `NullPointerException`, as seen below:\r\n\r\n![third illustration][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/AVrhI.png\r\n  [2]: http://i.stack.imgur.com/WwdPh.png\r\n  [3]: http://i.stack.imgur.com/jH6KP.png","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>Java is always pass by value, not pass by reference</strong></p>\n<p>First of all, we need to understand what pass by value and pass by reference are.</p>\n<p><strong>Pass by value means that you are making a copy in memory of the actual parameter's value that is passed in. This is a copy of the contents of the actual parameter</strong>.</p>\n<p><strong>Pass by reference (also called pass by address) means that a copy of the address of the actual parameter is stored</strong>.</p>\n<p>Sometimes Java can give the illusion of pass by reference. Let's see how it works by using the example below:</p>\n<pre><code>public class PassByValue {\n    public static void main(String[] args) {\n        Test t = new Test();\n        t.name = &quot;initialvalue&quot;;\n        new PassByValue().changeValue(t);\n        System.out.println(t.name);\n    }\n    \n    public void changeValue(Test f) {\n        f.name = &quot;changevalue&quot;;\n    }\n}\n\nclass Test {\n    String name;\n}\n</code></pre>\n<p>The output of this program is:</p>\n<blockquote>\n<pre><code>changevalue\n</code></pre>\n</blockquote>\n<p>Let's understand step by step:</p>\n<pre><code>Test t = new Test();\n</code></pre>\n<p>As we all know it will create an object in the heap and return the reference value back to t. For example, suppose the value of t is <code>0x100234</code> (we don't know the actual JVM internal value, this is just an example) .</p>\n<p><img src=\"https://i.stack.imgur.com/AVrhI.png\" alt=\"first illustration\" /></p>\n<pre><code>new PassByValue().changeValue(t);\n</code></pre>\n<p>When passing reference t to the function it will not directly pass the actual reference value of object test,  but it will create a copy of t and then pass it to the function. Since it is <strong>passing by value</strong>, it passes a copy of the variable rather than the actual reference of it. Since we said the value of t was <code>0x100234</code>, both t and f will have the same value and hence they will point to the same object.</p>\n<p><img src=\"https://i.stack.imgur.com/WwdPh.png\" alt=\"second illustration\" /></p>\n<p>If you change anything in the function using reference f it will modify the existing contents of the object. That is why we got the output <code>changevalue</code>,   which is updated in the function.</p>\n<p>To understand this more clearly, consider the following example:</p>\n<pre><code>public class PassByValue {\n    public static void main(String[] args) {\n        Test t = new Test();\n        t.name = &quot;initialvalue&quot;;\n        new PassByValue().changeRefence(t);\n        System.out.println(t.name);\n    }\n    \n    public void changeRefence(Test f) {\n        f = null;\n    }\n}\n\nclass Test {\n    String name;\n}\n</code></pre>\n<p>Will this throw a <code>NullPointerException</code>? No, because it only passes a copy of the reference.\nIn the case of passing by reference, it could have thrown a <code>NullPointerException</code>, as seen below:</p>\n<p><img src=\"https://i.stack.imgur.com/jH6KP.png\" alt=\"third illustration\" /></p>\n"},{"tags":[],"owner":{"account_id":2151704,"reputation":354,"user_id":1907916,"accept_rate":100,"display_name":"Bhushan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1384415802,"creation_date":1384407825,"answer_id":19970416,"question_id":40480,"body_markdown":"The Java programming language passes arguments only by value, that is,\r\nyou cannot change the argument value in the calling method from within\r\nthe called method.\r\n\r\n\r\n----------\r\n\r\n\r\nHowever, when an object instance is passed as an argument to a method,\r\nthe value of the argument is not the object itself but a reference to the\r\nobject. You can change the contents of the object in the called method but\r\nnot the object reference.\r\n\r\n\r\n----------\r\n\r\n\r\nTo many people, this looks like pass-by-reference, and behaviorally, it has\r\nmuch in common with pass-by-reference. However, there are two reasons\r\nthis is inaccurate.\r\n\r\n    \r\n\r\n - Firstly, the ability to change the thing passed into a\r\nmethod only applies to objects, not primitive values. \r\n\r\n - Second, the actual\r\nvalue associated with a variable of object type is the reference to the\r\nobject, and not the object itself. This is an important distinction in other\r\nways, and if clearly understood, is entirely supporting of the point that\r\nthe Java programming language passes arguments by value.\r\n\r\n----------\r\n\r\n\r\n    The following code example illustrates this point:\r\n    1 public class PassTest {\r\n    2\r\n    3   // Methods to change the current values\r\n    4   public static void changeInt(int value) {\r\n    5     value = 55;\r\n    6  }\r\n    7   public static void changeObjectRef(MyDate ref) {\r\n    8     ref = new MyDate(1, 1, 2000);\r\n    9  }\r\n    10   public static void changeObjectAttr(MyDate ref) {\r\n    11     ref.setDay(4);\r\n    12   }\r\n    13\r\n    14 public static void main(String args[]) {\r\n    15     MyDate date;\r\n    16     int val;\r\n    17\r\n    18     // Assign the int\r\n    19     val = 11;\r\n    20     // Try to change it\r\n    21     changeInt(val);\r\n    22     // What is the current value?\r\n    23     System.out.println(&quot;Int value is: &quot; + val);\r\n    24\r\n    25 // Assign the date\r\n    26     date = new MyDate(22, 7, 1964);\r\n    27     // Try to change it\r\n    28     changeObjectRef(date);\r\n    29     // What is the current value?\r\n    30 System.out.println(&quot;MyDate: &quot; + date);\r\n    31\r\n    32 // Now change the day attribute\r\n    33     // through the object reference\r\n    34     changeObjectAttr(date);\r\n    35     // What is the current value?\r\n    36 System.out.println(&quot;MyDate: &quot; + date);\r\n    37   }\r\n    38 }\r\n\r\n\r\n----------\r\n\r\n\r\n    This code outputs the following:\r\n    java PassTest\r\n    Int value is: 11\r\n    MyDate: 22-7-1964\r\n    MyDate: 4-7-1964\r\n    The MyDate object is not changed by the changeObjectRef method;\r\n    however, the changeObjectAttr method changes the day attribute of the\r\n    MyDate object.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>The Java programming language passes arguments only by value, that is,\nyou cannot change the argument value in the calling method from within\nthe called method.</p>\n\n<hr>\n\n<p>However, when an object instance is passed as an argument to a method,\nthe value of the argument is not the object itself but a reference to the\nobject. You can change the contents of the object in the called method but\nnot the object reference.</p>\n\n<hr>\n\n<p>To many people, this looks like pass-by-reference, and behaviorally, it has\nmuch in common with pass-by-reference. However, there are two reasons\nthis is inaccurate.</p>\n\n<ul>\n<li><p>Firstly, the ability to change the thing passed into a\nmethod only applies to objects, not primitive values. </p></li>\n<li><p>Second, the actual\nvalue associated with a variable of object type is the reference to the\nobject, and not the object itself. This is an important distinction in other\nways, and if clearly understood, is entirely supporting of the point that\nthe Java programming language passes arguments by value.</p></li>\n</ul>\n\n<hr>\n\n<pre><code>The following code example illustrates this point:\n1 public class PassTest {\n2\n3   // Methods to change the current values\n4   public static void changeInt(int value) {\n5     value = 55;\n6  }\n7   public static void changeObjectRef(MyDate ref) {\n8     ref = new MyDate(1, 1, 2000);\n9  }\n10   public static void changeObjectAttr(MyDate ref) {\n11     ref.setDay(4);\n12   }\n13\n14 public static void main(String args[]) {\n15     MyDate date;\n16     int val;\n17\n18     // Assign the int\n19     val = 11;\n20     // Try to change it\n21     changeInt(val);\n22     // What is the current value?\n23     System.out.println(\"Int value is: \" + val);\n24\n25 // Assign the date\n26     date = new MyDate(22, 7, 1964);\n27     // Try to change it\n28     changeObjectRef(date);\n29     // What is the current value?\n30 System.out.println(\"MyDate: \" + date);\n31\n32 // Now change the day attribute\n33     // through the object reference\n34     changeObjectAttr(date);\n35     // What is the current value?\n36 System.out.println(\"MyDate: \" + date);\n37   }\n38 }\n</code></pre>\n\n<hr>\n\n<pre><code>This code outputs the following:\njava PassTest\nInt value is: 11\nMyDate: 22-7-1964\nMyDate: 4-7-1964\nThe MyDate object is not changed by the changeObjectRef method;\nhowever, the changeObjectAttr method changes the day attribute of the\nMyDate object.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":871922,"reputation":10396,"user_id":922581,"accept_rate":50,"display_name":"Srle"},"down_vote_count":3,"up_vote_count":105,"is_accepted":false,"score":102,"last_activity_date":1442416691,"creation_date":1385049852,"answer_id":20125921,"question_id":40480,"body_markdown":"In java everything is reference, so when you have something like:\r\n\t`Point pnt1 = new Point(0,0);` Java does following:\r\n\r\n1.\tCreates new Point object\r\n2.\tCreates new Point reference and initialize that reference to *point (refer to)* on previously created Point object.\r\n3.   From here, through Point object life, you will access to that object through pnt1\r\n     reference. So we can say that in Java you manipulate object through its reference.&lt;br&gt;\r\n \r\n\r\n![enter image description here][1]\r\n\r\n\r\n**Java doesn&#39;t pass method arguments by reference; it passes them by value.** I will use example from [this site][2]: \r\n\r\n    public static void tricky(Point arg1, Point arg2) {\r\n      arg1.x = 100;\r\n      arg1.y = 100;\r\n      Point temp = arg1;\r\n      arg1 = arg2;\r\n      arg2 = temp;\r\n    }\r\n    public static void main(String [] args) {\r\n      Point pnt1 = new Point(0,0);\r\n      Point pnt2 = new Point(0,0);\r\n      System.out.println(&quot;X1: &quot; + pnt1.x + &quot; Y1: &quot; +pnt1.y); \r\n      System.out.println(&quot;X2: &quot; + pnt2.x + &quot; Y2: &quot; +pnt2.y);\r\n      System.out.println(&quot; &quot;);\r\n      tricky(pnt1,pnt2);\r\n      System.out.println(&quot;X1: &quot; + pnt1.x + &quot; Y1:&quot; + pnt1.y); \r\n      System.out.println(&quot;X2: &quot; + pnt2.x + &quot; Y2: &quot; +pnt2.y);  \r\n    }\r\n\r\nFlow of the program:\r\n\r\n    Point pnt1 = new Point(0,0);\r\n    Point pnt2 = new Point(0,0);\r\n\r\nCreating two different Point object with two different reference associated.\r\n![enter image description here][3]\r\n\r\n\r\n    System.out.println(&quot;X1: &quot; + pnt1.x + &quot; Y1: &quot; +pnt1.y); \r\n    System.out.println(&quot;X2: &quot; + pnt2.x + &quot; Y2: &quot; +pnt2.y);\r\n    System.out.println(&quot; &quot;);\r\n\r\nAs expected output will be:\r\n\t\r\n\r\n    X1: 0     Y1: 0\r\n    X2: 0     Y2: 0\r\n\r\n**On this line &#39;pass-by-value&#39; goes into the play...** &lt;br&gt;\r\n\r\n    tricky(pnt1,pnt2);           public void tricky(Point arg1, Point arg2);\r\n\r\nReferences `pnt1` and `pnt2` are **passed by value** to the tricky method, which means that now yours references `pnt1` and `pnt2` have their `copies` named `arg1` and `arg2`.So `pnt1` and `arg1` *points* to the same object. (Same for the `pnt2` and `arg2`)\r\n![enter image description here][4]\r\n\r\n\r\nIn the `tricky` method:\r\n   \r\n\r\n     arg1.x = 100;\r\n     arg1.y = 100;\r\n![enter image description here][5]\r\n\r\n\r\nNext in the `tricky` method\r\n\r\n    Point temp = arg1;\r\n    arg1 = arg2;\r\n    arg2 = temp;\r\n\r\nHere, you first create new `temp` Point reference which will *point* on same place like `arg1` reference. Then you move reference `arg1` to *point* to the same place like `arg2` reference.\r\nFinally `arg2` will *point* to the same place like `temp`.\r\n\r\n![enter image description here][6]\r\n\r\n\r\nFrom here scope of `tricky` method is gone and you don&#39;t have access any more to the references: `arg1`, `arg2`, `temp`. **But important note is that everything you do with these references when they are &#39;in life&#39; will permanently affect object on which they are *point* to.** \r\n\r\nSo after executing method `tricky`, when you return to `main`, you have this situation:\r\n![enter image description here][7]\r\n\r\n\r\nSo now, completely execution of program will be:\r\n\r\n    X1: 0         Y1: 0\r\n    X2: 0         Y2: 0\r\n    X1: 100       Y1: 100\r\n    X2: 0         Y2: 0\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/jM54f.png\r\n  [2]: http://www.javaworld.com/javaqa/2000-05/03-qa-0526-pass.html\r\n  [3]: http://i.stack.imgur.com/5LIKC.png\r\n  [4]: http://i.stack.imgur.com/qd1GH.png\r\n  [5]: http://i.stack.imgur.com/o4WT0.png\r\n  [6]: http://i.stack.imgur.com/fX5Q3.png\r\n  [7]: http://i.stack.imgur.com/LRETe.png","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>In java everything is reference, so when you have something like:\n    <code>Point pnt1 = new Point(0,0);</code> Java does following:</p>\n\n<ol>\n<li>Creates new Point object</li>\n<li>Creates new Point reference and initialize that reference to <em>point (refer to)</em> on previously created Point object.</li>\n<li>From here, through Point object life, you will access to that object through pnt1\n reference. So we can say that in Java you manipulate object through its reference.<br></li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/jM54f.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Java doesn't pass method arguments by reference; it passes them by value.</strong> I will use example from <a href=\"http://www.javaworld.com/javaqa/2000-05/03-qa-0526-pass.html\" rel=\"noreferrer\">this site</a>: </p>\n\n<pre><code>public static void tricky(Point arg1, Point arg2) {\n  arg1.x = 100;\n  arg1.y = 100;\n  Point temp = arg1;\n  arg1 = arg2;\n  arg2 = temp;\n}\npublic static void main(String [] args) {\n  Point pnt1 = new Point(0,0);\n  Point pnt2 = new Point(0,0);\n  System.out.println(\"X1: \" + pnt1.x + \" Y1: \" +pnt1.y); \n  System.out.println(\"X2: \" + pnt2.x + \" Y2: \" +pnt2.y);\n  System.out.println(\" \");\n  tricky(pnt1,pnt2);\n  System.out.println(\"X1: \" + pnt1.x + \" Y1:\" + pnt1.y); \n  System.out.println(\"X2: \" + pnt2.x + \" Y2: \" +pnt2.y);  \n}\n</code></pre>\n\n<p>Flow of the program:</p>\n\n<pre><code>Point pnt1 = new Point(0,0);\nPoint pnt2 = new Point(0,0);\n</code></pre>\n\n<p>Creating two different Point object with two different reference associated.\n<img src=\"https://i.stack.imgur.com/5LIKC.png\" alt=\"enter image description here\"></p>\n\n<pre><code>System.out.println(\"X1: \" + pnt1.x + \" Y1: \" +pnt1.y); \nSystem.out.println(\"X2: \" + pnt2.x + \" Y2: \" +pnt2.y);\nSystem.out.println(\" \");\n</code></pre>\n\n<p>As expected output will be:</p>\n\n<pre><code>X1: 0     Y1: 0\nX2: 0     Y2: 0\n</code></pre>\n\n<p><strong>On this line 'pass-by-value' goes into the play...</strong> <br></p>\n\n<pre><code>tricky(pnt1,pnt2);           public void tricky(Point arg1, Point arg2);\n</code></pre>\n\n<p>References <code>pnt1</code> and <code>pnt2</code> are <strong>passed by value</strong> to the tricky method, which means that now yours references <code>pnt1</code> and <code>pnt2</code> have their <code>copies</code> named <code>arg1</code> and <code>arg2</code>.So <code>pnt1</code> and <code>arg1</code> <em>points</em> to the same object. (Same for the <code>pnt2</code> and <code>arg2</code>)\n<img src=\"https://i.stack.imgur.com/qd1GH.png\" alt=\"enter image description here\"></p>\n\n<p>In the <code>tricky</code> method:</p>\n\n<pre><code> arg1.x = 100;\n arg1.y = 100;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/o4WT0.png\" alt=\"enter image description here\"></p>\n\n<p>Next in the <code>tricky</code> method</p>\n\n<pre><code>Point temp = arg1;\narg1 = arg2;\narg2 = temp;\n</code></pre>\n\n<p>Here, you first create new <code>temp</code> Point reference which will <em>point</em> on same place like <code>arg1</code> reference. Then you move reference <code>arg1</code> to <em>point</em> to the same place like <code>arg2</code> reference.\nFinally <code>arg2</code> will <em>point</em> to the same place like <code>temp</code>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/fX5Q3.png\" alt=\"enter image description here\"></p>\n\n<p>From here scope of <code>tricky</code> method is gone and you don't have access any more to the references: <code>arg1</code>, <code>arg2</code>, <code>temp</code>. <strong>But important note is that everything you do with these references when they are 'in life' will permanently affect object on which they are <em>point</em> to.</strong> </p>\n\n<p>So after executing method <code>tricky</code>, when you return to <code>main</code>, you have this situation:\n<img src=\"https://i.stack.imgur.com/LRETe.png\" alt=\"enter image description here\"></p>\n\n<p>So now, completely execution of program will be:</p>\n\n<pre><code>X1: 0         Y1: 0\nX2: 0         Y2: 0\nX1: 100       Y1: 100\nX2: 0         Y2: 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1386059205,"creation_date":1386059205,"answer_id":20346109,"question_id":40480,"body_markdown":"**Java passes references to objects by value.**\r\n\r\nSo if any modification is done to the Object to which the reference argument points it will be reflected back on the original object.\r\n\r\nBut if the reference argument point to another Object still the original reference will point to original Object.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>Java passes references to objects by value.</strong></p>\n\n<p>So if any modification is done to the Object to which the reference argument points it will be reflected back on the original object.</p>\n\n<p>But if the reference argument point to another Object still the original reference will point to original Object.</p>\n"},{"tags":[],"owner":{"account_id":75375,"reputation":2558,"user_id":216248,"accept_rate":88,"display_name":"karatedog"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1451288187,"creation_date":1386937393,"answer_id":20566453,"question_id":40480,"body_markdown":"A reference is always a value when represented, no matter what language you use.\r\n-----\r\n\r\nGetting an outside of the box view, let&#39;s look at Assembly or some low level memory management. At the CPU level a _reference_ to anything immediately becomes a _value_ if it gets written to memory or to one of the CPU registers. (That is why _pointer_ is a good definition. It is a value, which has a purpose at the same time).\r\n\r\nData in memory has a **Location** and at that location there is a value (byte,word, whatever). In Assembly we have a convenient solution to give a **Name** to certain **Location** (aka variable), but when compiling the code, the assembler simply replaces **Name** with the designated location just like your browser replaces domain names with IP addresses.\r\n\r\nDown to the core it is technically impossible to pass a reference to anything in any language without representing it (when it immediately becomes a value).\r\n\r\nLets say we have a variable Foo, its **Location** is at the 47th byte in memory and its **Value** is 5. We have another variable **Ref2Foo** which is at 223rd byte in memory, and its value will be 47. This Ref2Foo might be a technical variable, not explicitly created by the program. If you just look at 5 and 47 without any other information, you will see just two **Values**.\r\nIf you use them as references then to reach to `5` we have to travel:\r\n\r\n    (Name)[Location] -&gt; [Value at the Location]\r\n    ---------------------\r\n    (Ref2Foo)[223]  -&gt; 47\r\n    (Foo)[47]       -&gt; 5\r\n\r\nThis is how jump-tables work. \r\n\r\nIf we want to call a method/function/procedure with Foo&#39;s value, there are a few possible way to pass the variable to the method, depending on the **language** and its several method invocation modes:\r\n\r\n1. 5 gets copied to one of the CPU registers (ie. EAX).\r\n2. 5 gets PUSHd to the stack.\r\n3. 47 gets copied to one of the CPU registers\r\n4. 47 PUSHd to the stack.\r\n5. 223 gets copied to one of the CPU registers.\r\n6. 223 gets PUSHd to the stack.\r\n\r\nIn every cases above a value - a **copy** of an existing value - has been created, it is now upto the receiving method to handle it. When you write &quot;Foo&quot; inside the method, it is either read out from EAX, or automatically  **dereferenced**, or double dereferenced, the process depends on how the language works and/or what the type of Foo dictates. This is hidden from the developer until she circumvents the dereferencing process. So a _reference_ is a _value_ when represented, because a reference is a value that has to be processed (at language level).\r\n\r\nNow we have passed Foo to the method:\r\n\r\n- in case 1. and 2. if you change Foo (`Foo = 9`) it only affects local scope as you have a copy of the Value. From inside the method we cannot even determine where in memory the original Foo was located.\r\n- in case 3. and 4. if you use default language constructs and change Foo (`Foo = 11`), it could change Foo globally (depends on the language, ie. Java or like Pascal&#39;s `procedure findMin(x, y, z: integer; `**var m**`: integer);`). However if the language allows you to circumvent the dereference process, you can change `47`, say to `49`. At that point Foo seems to have been changed if you read it, because you have changed the **local pointer** to it. And if you were to modify this Foo inside the method (`Foo = 12`) you will probably FUBAR the execution of the program (aka. segfault) because you will write to a different memory than expected, you can even modify an area that is destined to hold executable program and writing to it will modify running code (Foo is now not at `47`). BUT Foo&#39;s value of `47` did not change globally, only the one inside the method, because `47` was also a copy to the method.\r\n- in case 5. and 6. if you modify `223` inside the method it creates the same mayhem as in 3. or 4. (a pointer, pointing to a now bad value, that is again used as a pointer) but this is still a local problem, as 223 was **copied**. However if you are able to dereference `Ref2Foo` (that is `223`), reach to and modify the pointed value `47`, say, to `49`, it will affect Foo **globally**, because in this case the methods got a copy of `223`  but the referenced `47` exists only once, and changing that to `49` will lead every `Ref2Foo` double-dereferencing to a wrong value.\r\n\r\nNitpicking on insignificant details, even languages that do pass-by-reference will pass values to functions, but those functions know that they have to use it for dereferencing purposes. This pass-the-reference-as-value is just hidden from the programmer because it is practically useless and the terminology is only _pass-by-reference_.\r\n\r\nStrict _pass-by-value_ is also useless, it would mean that a 100 Mbyte array should have to be copied every time we call a method with the array as argument, therefore Java cannot be stricly pass-by-value. Every language would pass a reference to this huge array (as a value) and either employs copy-on-write mechanism if that array can be changed locally inside the method or allows the method (as Java does) to modify the array globally (from the caller&#39;s view) and a few languages allows to modify the Value of the reference itself.\r\n\r\nSo in short and in Java&#39;s own terminology, Java is _pass-by-value_ where _value_ can be: either a **real value** or a **value** that is a representation of a **reference**. \r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<h2>A reference is always a value when represented, no matter what language you use.</h2>\n\n<p>Getting an outside of the box view, let's look at Assembly or some low level memory management. At the CPU level a <em>reference</em> to anything immediately becomes a <em>value</em> if it gets written to memory or to one of the CPU registers. (That is why <em>pointer</em> is a good definition. It is a value, which has a purpose at the same time).</p>\n\n<p>Data in memory has a <strong>Location</strong> and at that location there is a value (byte,word, whatever). In Assembly we have a convenient solution to give a <strong>Name</strong> to certain <strong>Location</strong> (aka variable), but when compiling the code, the assembler simply replaces <strong>Name</strong> with the designated location just like your browser replaces domain names with IP addresses.</p>\n\n<p>Down to the core it is technically impossible to pass a reference to anything in any language without representing it (when it immediately becomes a value).</p>\n\n<p>Lets say we have a variable Foo, its <strong>Location</strong> is at the 47th byte in memory and its <strong>Value</strong> is 5. We have another variable <strong>Ref2Foo</strong> which is at 223rd byte in memory, and its value will be 47. This Ref2Foo might be a technical variable, not explicitly created by the program. If you just look at 5 and 47 without any other information, you will see just two <strong>Values</strong>.\nIf you use them as references then to reach to <code>5</code> we have to travel:</p>\n\n<pre><code>(Name)[Location] -&gt; [Value at the Location]\n---------------------\n(Ref2Foo)[223]  -&gt; 47\n(Foo)[47]       -&gt; 5\n</code></pre>\n\n<p>This is how jump-tables work. </p>\n\n<p>If we want to call a method/function/procedure with Foo's value, there are a few possible way to pass the variable to the method, depending on the <strong>language</strong> and its several method invocation modes:</p>\n\n<ol>\n<li>5 gets copied to one of the CPU registers (ie. EAX).</li>\n<li>5 gets PUSHd to the stack.</li>\n<li>47 gets copied to one of the CPU registers</li>\n<li>47 PUSHd to the stack.</li>\n<li>223 gets copied to one of the CPU registers.</li>\n<li>223 gets PUSHd to the stack.</li>\n</ol>\n\n<p>In every cases above a value - a <strong>copy</strong> of an existing value - has been created, it is now upto the receiving method to handle it. When you write \"Foo\" inside the method, it is either read out from EAX, or automatically  <strong>dereferenced</strong>, or double dereferenced, the process depends on how the language works and/or what the type of Foo dictates. This is hidden from the developer until she circumvents the dereferencing process. So a <em>reference</em> is a <em>value</em> when represented, because a reference is a value that has to be processed (at language level).</p>\n\n<p>Now we have passed Foo to the method:</p>\n\n<ul>\n<li>in case 1. and 2. if you change Foo (<code>Foo = 9</code>) it only affects local scope as you have a copy of the Value. From inside the method we cannot even determine where in memory the original Foo was located.</li>\n<li>in case 3. and 4. if you use default language constructs and change Foo (<code>Foo = 11</code>), it could change Foo globally (depends on the language, ie. Java or like Pascal's <code>procedure findMin(x, y, z: integer;</code><strong>var m</strong><code>: integer);</code>). However if the language allows you to circumvent the dereference process, you can change <code>47</code>, say to <code>49</code>. At that point Foo seems to have been changed if you read it, because you have changed the <strong>local pointer</strong> to it. And if you were to modify this Foo inside the method (<code>Foo = 12</code>) you will probably FUBAR the execution of the program (aka. segfault) because you will write to a different memory than expected, you can even modify an area that is destined to hold executable program and writing to it will modify running code (Foo is now not at <code>47</code>). BUT Foo's value of <code>47</code> did not change globally, only the one inside the method, because <code>47</code> was also a copy to the method.</li>\n<li>in case 5. and 6. if you modify <code>223</code> inside the method it creates the same mayhem as in 3. or 4. (a pointer, pointing to a now bad value, that is again used as a pointer) but this is still a local problem, as 223 was <strong>copied</strong>. However if you are able to dereference <code>Ref2Foo</code> (that is <code>223</code>), reach to and modify the pointed value <code>47</code>, say, to <code>49</code>, it will affect Foo <strong>globally</strong>, because in this case the methods got a copy of <code>223</code>  but the referenced <code>47</code> exists only once, and changing that to <code>49</code> will lead every <code>Ref2Foo</code> double-dereferencing to a wrong value.</li>\n</ul>\n\n<p>Nitpicking on insignificant details, even languages that do pass-by-reference will pass values to functions, but those functions know that they have to use it for dereferencing purposes. This pass-the-reference-as-value is just hidden from the programmer because it is practically useless and the terminology is only <em>pass-by-reference</em>.</p>\n\n<p>Strict <em>pass-by-value</em> is also useless, it would mean that a 100 Mbyte array should have to be copied every time we call a method with the array as argument, therefore Java cannot be stricly pass-by-value. Every language would pass a reference to this huge array (as a value) and either employs copy-on-write mechanism if that array can be changed locally inside the method or allows the method (as Java does) to modify the array globally (from the caller's view) and a few languages allows to modify the Value of the reference itself.</p>\n\n<p>So in short and in Java's own terminology, Java is <em>pass-by-value</em> where <em>value</em> can be: either a <strong>real value</strong> or a <strong>value</strong> that is a representation of a <strong>reference</strong>. </p>\n"},{"tags":[],"owner":{"account_id":408442,"reputation":21426,"user_id":779111,"accept_rate":85,"display_name":"JAN"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1398833700,"creation_date":1390407794,"answer_id":21288385,"question_id":40480,"body_markdown":"Mr @Scott Stanchfield wrote an excellent answer. Here is the class that would you to verify\r\nexactly what he meant:\r\n\r\n    public class Dog {\r\n\r\n        String dog ;\r\n        static int x_static;\r\n        int y_not_static;\r\n\r\n        public String getName()\r\n        {\r\n            return this.dog;\r\n        }\r\n\r\n        public Dog(String dog)\r\n        {\r\n            this.dog = dog;\r\n        }\r\n\r\n        public void setName(String name)\r\n        {\r\n            this.dog = name;\r\n        }\r\n\r\n        public static void foo(Dog someDog)\r\n        {\r\n            x_static = 1;\r\n            // y_not_static = 2;  // not possible !!\r\n            someDog.setName(&quot;Max&quot;);     // AAA\r\n            someDog = new Dog(&quot;Fifi&quot;);  // BBB\r\n            someDog.setName(&quot;Rowlf&quot;);   // CCC\r\n        }\r\n\r\n        public static void main(String args[])\r\n        {\r\n            Dog myDog = new Dog(&quot;Rover&quot;);\r\n            foo(myDog);\r\n            System.out.println(myDog.getName());\r\n        }\r\n    }\r\n\r\nSo, we pass from main() a dog called `Rover`, then we assign a new address to the pointer that we passed, but at the end, the name of the dog is not `Rover`, and not `Fifi`, and certainly not `Rowlf`, but `Max`.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Mr @Scott Stanchfield wrote an excellent answer. Here is the class that would you to verify\nexactly what he meant:</p>\n\n<pre><code>public class Dog {\n\n    String dog ;\n    static int x_static;\n    int y_not_static;\n\n    public String getName()\n    {\n        return this.dog;\n    }\n\n    public Dog(String dog)\n    {\n        this.dog = dog;\n    }\n\n    public void setName(String name)\n    {\n        this.dog = name;\n    }\n\n    public static void foo(Dog someDog)\n    {\n        x_static = 1;\n        // y_not_static = 2;  // not possible !!\n        someDog.setName(\"Max\");     // AAA\n        someDog = new Dog(\"Fifi\");  // BBB\n        someDog.setName(\"Rowlf\");   // CCC\n    }\n\n    public static void main(String args[])\n    {\n        Dog myDog = new Dog(\"Rover\");\n        foo(myDog);\n        System.out.println(myDog.getName());\n    }\n}\n</code></pre>\n\n<p>So, we pass from main() a dog called <code>Rover</code>, then we assign a new address to the pointer that we passed, but at the end, the name of the dog is not <code>Rover</code>, and not <code>Fifi</code>, and certainly not <code>Rowlf</code>, but <code>Max</code>.</p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275368,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":1,"up_vote_count":58,"is_accepted":false,"score":57,"last_activity_date":1633794864,"creation_date":1404370091,"answer_id":24546764,"question_id":40480,"body_markdown":"I thought I&#39;d contribute this answer to add more details from the Specifications.\r\n\r\nFirst, https://stackoverflow.com/questions/373419/whats-the-difference-between-passing-by-reference-vs-passing-by-value\r\n\r\n&gt; Passing by reference means the called functions&#39; parameter will be the\r\n&gt; same as the callers&#39; passed argument (not the value, but the identity\r\n&gt; - the variable itself). \r\n&gt; \r\n&gt; Pass by value means the called functions&#39; parameter will be a copy of\r\n&gt; the callers&#39; passed argument.\r\n\r\nOr from wikipedia, [on the subject of pass-by-reference][1]\r\n\r\n&gt; In call-by-reference evaluation (also referred to as\r\n&gt; pass-by-reference), a function receives an implicit reference to a\r\n&gt; variable used as argument, rather than a copy of its value. This\r\n&gt; typically means that the function can modify (i.e. assign to) the\r\n&gt; variable used as argument—something that will be seen by its caller.\r\n\r\nAnd [on the subject of pass-by-value][2]\r\n\r\n&gt; In call-by-value, the argument expression is evaluated, and the\r\n&gt; resulting value is bound to the corresponding variable in the function [...]. \r\n&gt; If the function or procedure is able to assign values to its\r\n&gt; parameters, only its local copy is assigned [...].\r\n\r\nSecond, we need to know what Java uses in its method invocations. The [Java Language Specification][3] states\r\n\r\n&gt; When the method or constructor is invoked (&#167;15.12), **the values of the\r\n&gt; actual argument expressions initialize newly created parameter\r\n&gt; variables**, each of the declared type, before execution of the body of\r\n&gt; the method or constructor.\r\n\r\nSo it assigns (or binds) the value of the argument to the corresponding parameter variable. \r\n\r\n**What is the value of the argument?**\r\n\r\nLet&#39;s consider reference types, the [Java Virtual Machine Specification][4] states\r\n\r\n&gt; There are three kinds of **reference types**: class types, array types,\r\n&gt; and interface types. **Their values are references to dynamically\r\n&gt; created class instances, arrays, or class instances or arrays that\r\n&gt; implement interfaces, respectively.**\r\n\r\nThe [Java Language Specification][5] also states\r\n\r\n&gt; **The reference values (often just references) are pointers to these objects**, and a special null reference, which refers to no object.\r\n\r\nThe value of an argument (of some reference type) is a pointer to an object. Note that a variable, an invocation of a method with a reference type return type, and an instance creation expression (`new ...`) all resolve to a reference type value.\r\n\r\nSo\r\n\r\n    public void method (String param) {}\r\n    ...\r\n    String variable = new String(&quot;ref&quot;);\r\n    method(variable);\r\n    method(variable.toString());\r\n    method(new String(&quot;ref&quot;));\r\n\r\nall bind the value of a reference to a `String` instance to the method&#39;s newly created parameter, `param`. This is exactly what the definition of pass-by-value describes. As such, **Java is pass-by-value**.\r\n\r\n**The fact that you can follow the reference to invoke a method or access a field of the referenced object is completely irrelevant to the conversation.** The definition of pass-by-reference was\r\n\r\n&gt; This typically means that the function can modify (i.e. assign to) the\r\n&gt; variable used as argument—something that will be seen by its caller.\r\n\r\nIn Java, modifying the variable means reassigning it. In Java, if you reassigned the variable within the method, it would go unnoticed to the caller. **Modifying the object referenced by the variable is a different concept entirely.** \r\n\r\n\r\n----------\r\n\r\nPrimitive values are also defined in the Java Virtual Machine Specification, [here][6]. The value of the type is the corresponding integral or floating point value, encoded appropriately (8, 16, 32, 64, etc. bits).\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Call_by_reference#Call_by_reference\r\n  [2]: http://en.wikipedia.org/wiki/Call_by_value#Call_by_value\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1\r\n  [4]: http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.4\r\n  [5]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.3.1\r\n  [6]: http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.3","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I thought I'd contribute this answer to add more details from the Specifications.</p>\n<p>First, <a href=\"https://stackoverflow.com/questions/373419/whats-the-difference-between-passing-by-reference-vs-passing-by-value\">What&#39;s the difference between passing by reference vs. passing by value?</a></p>\n<blockquote>\n<p>Passing by reference means the called functions' parameter will be the\nsame as the callers' passed argument (not the value, but the identity</p>\n<ul>\n<li>the variable itself).</li>\n</ul>\n<p>Pass by value means the called functions' parameter will be a copy of\nthe callers' passed argument.</p>\n</blockquote>\n<p>Or from wikipedia, <a href=\"http://en.wikipedia.org/wiki/Call_by_reference#Call_by_reference\" rel=\"noreferrer\">on the subject of pass-by-reference</a></p>\n<blockquote>\n<p>In call-by-reference evaluation (also referred to as\npass-by-reference), a function receives an implicit reference to a\nvariable used as argument, rather than a copy of its value. This\ntypically means that the function can modify (i.e. assign to) the\nvariable used as argument—something that will be seen by its caller.</p>\n</blockquote>\n<p>And <a href=\"http://en.wikipedia.org/wiki/Call_by_value#Call_by_value\" rel=\"noreferrer\">on the subject of pass-by-value</a></p>\n<blockquote>\n<p>In call-by-value, the argument expression is evaluated, and the\nresulting value is bound to the corresponding variable in the function [...].\nIf the function or procedure is able to assign values to its\nparameters, only its local copy is assigned [...].</p>\n</blockquote>\n<p>Second, we need to know what Java uses in its method invocations. The <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1\" rel=\"noreferrer\">Java Language Specification</a> states</p>\n<blockquote>\n<p>When the method or constructor is invoked (§15.12), <strong>the values of the\nactual argument expressions initialize newly created parameter\nvariables</strong>, each of the declared type, before execution of the body of\nthe method or constructor.</p>\n</blockquote>\n<p>So it assigns (or binds) the value of the argument to the corresponding parameter variable.</p>\n<p><strong>What is the value of the argument?</strong></p>\n<p>Let's consider reference types, the <a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.4\" rel=\"noreferrer\">Java Virtual Machine Specification</a> states</p>\n<blockquote>\n<p>There are three kinds of <strong>reference types</strong>: class types, array types,\nand interface types. <strong>Their values are references to dynamically\ncreated class instances, arrays, or class instances or arrays that\nimplement interfaces, respectively.</strong></p>\n</blockquote>\n<p>The <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.3.1\" rel=\"noreferrer\">Java Language Specification</a> also states</p>\n<blockquote>\n<p><strong>The reference values (often just references) are pointers to these objects</strong>, and a special null reference, which refers to no object.</p>\n</blockquote>\n<p>The value of an argument (of some reference type) is a pointer to an object. Note that a variable, an invocation of a method with a reference type return type, and an instance creation expression (<code>new ...</code>) all resolve to a reference type value.</p>\n<p>So</p>\n<pre><code>public void method (String param) {}\n...\nString variable = new String(&quot;ref&quot;);\nmethod(variable);\nmethod(variable.toString());\nmethod(new String(&quot;ref&quot;));\n</code></pre>\n<p>all bind the value of a reference to a <code>String</code> instance to the method's newly created parameter, <code>param</code>. This is exactly what the definition of pass-by-value describes. As such, <strong>Java is pass-by-value</strong>.</p>\n<p><strong>The fact that you can follow the reference to invoke a method or access a field of the referenced object is completely irrelevant to the conversation.</strong> The definition of pass-by-reference was</p>\n<blockquote>\n<p>This typically means that the function can modify (i.e. assign to) the\nvariable used as argument—something that will be seen by its caller.</p>\n</blockquote>\n<p>In Java, modifying the variable means reassigning it. In Java, if you reassigned the variable within the method, it would go unnoticed to the caller. <strong>Modifying the object referenced by the variable is a different concept entirely.</strong></p>\n<hr />\n<p>Primitive values are also defined in the Java Virtual Machine Specification, <a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.3\" rel=\"noreferrer\">here</a>. The value of the type is the corresponding integral or floating point value, encoded appropriately (8, 16, 32, 64, etc. bits).</p>\n"},{"tags":[],"owner":{"account_id":2133499,"reputation":163,"user_id":1893773,"accept_rate":43,"display_name":"Dustin Deus"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1405023559,"creation_date":1405023559,"answer_id":24685542,"question_id":40480,"body_markdown":"**Understand it in 2 Steps:** \r\n\r\nYou can&#39;t change the reference to the object itself but you can work with this passed parameter as a reference to the object.\r\n\r\nIf you want to change the value behind the reference you will only declare a new variable on the stack with the same name &#39;d&#39;. Look at the references with the sign `@` and you will find out that the reference has been changed.\r\n\r\n    public static void foo(Dog d) {\r\n      d.Name = &quot;belly&quot;;\r\n      System.out.println(d); //Reference: Dog@1540e19d\r\n            \r\n      d = new Dog(&quot;wuffwuff&quot;);\r\n      System.out.println(d); //Dog@677327b6\r\n    }\r\n    public static void main(String[] args) throws Exception{\r\n      Dog lisa = new Dog(&quot;Lisa&quot;);\r\n      foo(lisa);\r\n      System.out.println(lisa.Name); //belly\r\n    }\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>Understand it in 2 Steps:</strong> </p>\n\n<p>You can't change the reference to the object itself but you can work with this passed parameter as a reference to the object.</p>\n\n<p>If you want to change the value behind the reference you will only declare a new variable on the stack with the same name 'd'. Look at the references with the sign <code>@</code> and you will find out that the reference has been changed.</p>\n\n<pre><code>public static void foo(Dog d) {\n  d.Name = \"belly\";\n  System.out.println(d); //Reference: Dog@1540e19d\n\n  d = new Dog(\"wuffwuff\");\n  System.out.println(d); //Dog@677327b6\n}\npublic static void main(String[] args) throws Exception{\n  Dog lisa = new Dog(\"Lisa\");\n  foo(lisa);\n  System.out.println(lisa.Name); //belly\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4918634,"reputation":39,"user_id":3961865,"display_name":"Michał Żbikowski"},"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1489141568,"creation_date":1411604618,"answer_id":26028582,"question_id":40480,"body_markdown":"Throughout all the answers we see that Java pass-by-value or rather as @Gevorg \r\nwrote: &quot;pass-by-copy-of-the-variable-value&quot; and this is the idea that we should have in mind all the time. \r\n\r\nI am focusing on examples that helped me understand the idea and it is rather addendum to previous answers.\r\n\r\nFrom [1] In Java you always are passing arguments by copy; that is you&#39;re always creating a new instance of the value inside the function. But there are certain behaviors that can make you think you&#39;re passing by reference.\r\n\r\n- Passing by copy: When a variable is passed to a method/function, a copy is made (sometimes we hear that when you pass primitives, you&#39;re making copies).\r\n\r\n- Passing by reference: When a variable is passed to a method/function, the code in the method/function operates on the original variable (You&#39;re still passing by copy, but references to values inside the complex object are parts of both versions of the variable, both the original and the version inside the function. The complex objects themselves are being copied, but the internal references are being retained)\r\n\r\nExamples of Passing by copy/ by value\r\n--------------\r\n**Example from [ref 1]**\r\n \r\n    void incrementValue(int inFunction){\r\n      inFunction ++;\r\n      System.out.println(&quot;In function: &quot; + inFunction);\r\n    }\r\n\r\n    int original = 10;\r\n    System.out.print(&quot;Original before: &quot; + original);\r\n    incrementValue(original);\r\n    System.out.println(&quot;Original after: &quot; + original);\r\n\r\n    We see in the console:\r\n     &gt; Original before: 10\r\n     &gt; In Function: 11\r\n     &gt; Original after: 10 (NO CHANGE)\r\n\r\n         \r\n\r\n**Example from [ref 2]**\r\n\r\n&gt; shows nicely the mechanism\r\n[watch max 5 min](https://www.youtube.com/watch?v=W2ysz_6AyJE&amp;list=PL6C11012B1B464EC5#t=502)\r\n\r\n\r\n(Passing by reference) pass-by-copy-of-the-variable-value\r\n----\r\n**Example from [ref 1]**\r\n(remember that an array is an object)\r\n\r\n    void incrementValu(int[] inFuncion){\r\n      inFunction[0]++;\r\n      System.out.println(&quot;In Function: &quot; + inFunction[0]);\r\n    }\r\n\r\n    int[] arOriginal = {10, 20, 30};\r\n    System.out.println(&quot;Original before: &quot; + arOriginal[0]);\r\n    incrementValue(arOriginal[]);\r\n    System.out.println(&quot;Original before: &quot; + arOriginal[0]);\r\n\r\n    We see in the console:\r\n      &gt;Original before: 10\r\n      &gt;In Function: 11\r\n      &gt;Original before: 11 (CHANGE)\r\n\r\nThe complex objects themselves are being copied, but the internal references are being retained.\r\n\r\n \r\n\r\n**Example from[ref 3]**\r\n\r\n    package com.pritesh.programs;\r\n\r\n    class Rectangle {\r\n      int length;\r\n      int width;\r\n\r\n      Rectangle(int l, int b) {\r\n        length = l;\r\n        width = b;\r\n      }\r\n\r\n      void area(Rectangle r1) {\r\n        int areaOfRectangle = r1.length * r1.width;\r\n        System.out.println(&quot;Area of Rectangle : &quot; \r\n                                + areaOfRectangle);\r\n      }\r\n    }\r\n\r\n    class RectangleDemo {\r\n      public static void main(String args[]) {\r\n        Rectangle r1 = new Rectangle(10, 20);\r\n        r1.area(r1);\r\n      }\r\n    }\r\n\r\nThe area of the rectangle is 200 and the length=10 and width=20\r\n\r\n\r\n**Last thing** I would like to share was this moment of the lecture:\r\n**[Memory Allocation](https://www.youtube.com/watch?v=W8nNdNZ40EQ#t=1206)**\r\nwhich I found very helpful in understanding the Java passing by value or rather “pass-by-copy-of-the-variable-value” as @Gevorg has written.\r\n\r\n1. [REF 1 Lynda.com](http://www.lynda.com/Android-tutorials/Passing-arguments-reference-value/86005/94989-4.html)\r\n2. [REF 2 Professor Mehran Sahami](http://see.stanford.edu/see/courseinfo.aspx?coll=824a47e1-135f-4508-a5aa-866adcae1111)\r\n    * [watch max 5 min](https://www.youtube.com/watch?v=W2ysz_6AyJE&amp;list=PL6C11012B1B464EC5#t=502)\r\n    * [Memory Allocation](https://www.youtube.com/watch?v=W8nNdNZ40EQ#t=1206)\r\n3. [REF 3 c4learn](http://www.c4learn.com/)\r\n   * [passing-object-as-parameter-to-method](http://www.c4learn.com/java/java-passing-object-as-parameter-to-method/)","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Throughout all the answers we see that Java pass-by-value or rather as @Gevorg \nwrote: \"pass-by-copy-of-the-variable-value\" and this is the idea that we should have in mind all the time. </p>\n\n<p>I am focusing on examples that helped me understand the idea and it is rather addendum to previous answers.</p>\n\n<p>From [1] In Java you always are passing arguments by copy; that is you're always creating a new instance of the value inside the function. But there are certain behaviors that can make you think you're passing by reference.</p>\n\n<ul>\n<li><p>Passing by copy: When a variable is passed to a method/function, a copy is made (sometimes we hear that when you pass primitives, you're making copies).</p></li>\n<li><p>Passing by reference: When a variable is passed to a method/function, the code in the method/function operates on the original variable (You're still passing by copy, but references to values inside the complex object are parts of both versions of the variable, both the original and the version inside the function. The complex objects themselves are being copied, but the internal references are being retained)</p></li>\n</ul>\n\n<h2>Examples of Passing by copy/ by value</h2>\n\n<p><strong>Example from [ref 1]</strong></p>\n\n<pre><code>void incrementValue(int inFunction){\n  inFunction ++;\n  System.out.println(\"In function: \" + inFunction);\n}\n\nint original = 10;\nSystem.out.print(\"Original before: \" + original);\nincrementValue(original);\nSystem.out.println(\"Original after: \" + original);\n\nWe see in the console:\n &gt; Original before: 10\n &gt; In Function: 11\n &gt; Original after: 10 (NO CHANGE)\n</code></pre>\n\n<p><strong>Example from [ref 2]</strong></p>\n\n<blockquote>\n  <p>shows nicely the mechanism\n  <a href=\"https://www.youtube.com/watch?v=W2ysz_6AyJE&amp;list=PL6C11012B1B464EC5#t=502\" rel=\"noreferrer\">watch max 5 min</a></p>\n</blockquote>\n\n<h2>(Passing by reference) pass-by-copy-of-the-variable-value</h2>\n\n<p><strong>Example from [ref 1]</strong>\n(remember that an array is an object)</p>\n\n<pre><code>void incrementValu(int[] inFuncion){\n  inFunction[0]++;\n  System.out.println(\"In Function: \" + inFunction[0]);\n}\n\nint[] arOriginal = {10, 20, 30};\nSystem.out.println(\"Original before: \" + arOriginal[0]);\nincrementValue(arOriginal[]);\nSystem.out.println(\"Original before: \" + arOriginal[0]);\n\nWe see in the console:\n  &gt;Original before: 10\n  &gt;In Function: 11\n  &gt;Original before: 11 (CHANGE)\n</code></pre>\n\n<p>The complex objects themselves are being copied, but the internal references are being retained.</p>\n\n<p><strong>Example from[ref 3]</strong></p>\n\n<pre><code>package com.pritesh.programs;\n\nclass Rectangle {\n  int length;\n  int width;\n\n  Rectangle(int l, int b) {\n    length = l;\n    width = b;\n  }\n\n  void area(Rectangle r1) {\n    int areaOfRectangle = r1.length * r1.width;\n    System.out.println(\"Area of Rectangle : \" \n                            + areaOfRectangle);\n  }\n}\n\nclass RectangleDemo {\n  public static void main(String args[]) {\n    Rectangle r1 = new Rectangle(10, 20);\n    r1.area(r1);\n  }\n}\n</code></pre>\n\n<p>The area of the rectangle is 200 and the length=10 and width=20</p>\n\n<p><strong>Last thing</strong> I would like to share was this moment of the lecture:\n<strong><a href=\"https://www.youtube.com/watch?v=W8nNdNZ40EQ#t=1206\" rel=\"noreferrer\">Memory Allocation</a></strong>\nwhich I found very helpful in understanding the Java passing by value or rather “pass-by-copy-of-the-variable-value” as @Gevorg has written.</p>\n\n<ol>\n<li><a href=\"http://www.lynda.com/Android-tutorials/Passing-arguments-reference-value/86005/94989-4.html\" rel=\"noreferrer\">REF 1 Lynda.com</a></li>\n<li><a href=\"http://see.stanford.edu/see/courseinfo.aspx?coll=824a47e1-135f-4508-a5aa-866adcae1111\" rel=\"noreferrer\">REF 2 Professor Mehran Sahami</a>\n\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=W2ysz_6AyJE&amp;list=PL6C11012B1B464EC5#t=502\" rel=\"noreferrer\">watch max 5 min</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=W8nNdNZ40EQ#t=1206\" rel=\"noreferrer\">Memory Allocation</a></li>\n</ul></li>\n<li><a href=\"http://www.c4learn.com/\" rel=\"noreferrer\">REF 3 c4learn</a>\n\n<ul>\n<li><a href=\"http://www.c4learn.com/java/java-passing-object-as-parameter-to-method/\" rel=\"noreferrer\">passing-object-as-parameter-to-method</a></li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3591219,"reputation":1632,"user_id":2997238,"display_name":"drew7721"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1412570069,"creation_date":1412570069,"answer_id":26210057,"question_id":40480,"body_markdown":"There is a workaround in Java for the reference. Let me explain by this example:\r\n\r\n    public class Yo {\r\n    public static void foo(int x){\r\n        System.out.println(x); //out 2\r\n        x = x+2;\r\n        System.out.println(x); // out 4\r\n    }\r\n    public static void foo(int[] x){\r\n        System.out.println(x[0]); //1\r\n        x[0] = x[0]+2;\r\n        System.out.println(x[0]); //3\r\n    }\r\n    public static void main(String[] args) {\r\n        int t = 2;\r\n        foo(t);\r\n        System.out.println(t); // out 2 (t did not change in foo)\r\n        \r\n        int[] tab = new int[]{1};\r\n        foo(tab);\r\n        System.out.println(tab[0]); // out 3 (tab[0] did change in foo)\r\n    }}\r\n\r\nI hope this helps!","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>There is a workaround in Java for the reference. Let me explain by this example:</p>\n\n<pre><code>public class Yo {\npublic static void foo(int x){\n    System.out.println(x); //out 2\n    x = x+2;\n    System.out.println(x); // out 4\n}\npublic static void foo(int[] x){\n    System.out.println(x[0]); //1\n    x[0] = x[0]+2;\n    System.out.println(x[0]); //3\n}\npublic static void main(String[] args) {\n    int t = 2;\n    foo(t);\n    System.out.println(t); // out 2 (t did not change in foo)\n\n    int[] tab = new int[]{1};\n    foo(tab);\n    System.out.println(tab[0]); // out 3 (tab[0] did change in foo)\n}}\n</code></pre>\n\n<p>I hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":335804,"reputation":75,"user_id":1695011,"display_name":"Ramprasad"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1419274099,"creation_date":1419274099,"answer_id":27608651,"question_id":40480,"body_markdown":"**Simple program**\r\n\r\n\r\n    import java.io.*;\r\n    class Aclass\r\n    {\r\n\t    public int a;\r\n    }\r\n    public class test\r\n    {\r\n\t    public static void foo_obj(Aclass obj)\r\n\t    {\r\n\t\t    obj.a=5;\r\n\t    }\r\n\t    public static void foo_int(int a)\r\n\t    {\r\n\t\t    a=3;\r\n\t    }\r\n\t    public static void main(String args[])\r\n\t    {\r\n\t\t    //test passing an object\r\n\t\t    Aclass ob = new Aclass();\r\n\t\t    ob.a=0;\r\n\t\t    foo_obj(ob);\r\n\t\t    System.out.println(ob.a);//prints 5\r\n\t\t\r\n\t\t    //test passing an integer\r\n\t\t    int i=0;\r\n\t\t    foo_int(i);\r\n\t\t    System.out.println(i);//prints 0\r\n\t    }\r\n    }\r\n\r\nFrom a C/C++ programmer&#39;s point of view, java uses pass by value, so for primitive data types (int, char etc) changes in the function does not reflect in the calling function. But when you pass an object and in the function you change its data members or call member functions which can change the state of the object, the calling function will get the changes.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>Simple program</strong></p>\n\n<pre><code>import java.io.*;\nclass Aclass\n{\n    public int a;\n}\npublic class test\n{\n    public static void foo_obj(Aclass obj)\n    {\n        obj.a=5;\n    }\n    public static void foo_int(int a)\n    {\n        a=3;\n    }\n    public static void main(String args[])\n    {\n        //test passing an object\n        Aclass ob = new Aclass();\n        ob.a=0;\n        foo_obj(ob);\n        System.out.println(ob.a);//prints 5\n\n        //test passing an integer\n        int i=0;\n        foo_int(i);\n        System.out.println(i);//prints 0\n    }\n}\n</code></pre>\n\n<p>From a C/C++ programmer's point of view, java uses pass by value, so for primitive data types (int, char etc) changes in the function does not reflect in the calling function. But when you pass an object and in the function you change its data members or call member functions which can change the state of the object, the calling function will get the changes.</p>\n"},{"tags":[],"owner":{"account_id":1340210,"reputation":487,"user_id":1282030,"accept_rate":100,"display_name":"Jo&#227;o Oliveira"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1424976272,"creation_date":1424976272,"answer_id":28750315,"question_id":40480,"body_markdown":"Java passes everything by value!!\r\n\r\n//create an object by passing in a name and age:\r\n\r\n    PersonClass variable1 = new PersonClass(&quot;Mary&quot;, 32);\r\n    \r\n    PersonClass variable2;\r\n\r\n//Both variable2 and variable1 now reference the same object\r\n\r\n    variable2 = variable1; \r\n\r\n\r\n    PersonClass variable3 = new PersonClass(&quot;Andre&quot;, 45);\r\n\r\n\r\n// variable1 now points to variable3\r\n\r\n    variable1 = variable3;\r\n\r\n//WHAT IS OUTPUT BY THIS?\r\n\r\n    System.out.println(variable2);\r\n    System.out.println(variable1);\r\n\r\n    Mary 32\r\n    Andre 45\r\n\r\nif you could understand this example we r done.\r\notherwise, please visit this webPage for detailed explanation:\r\n\r\n[webPage][1]\r\n\r\n\r\n  [1]: http://www.programmerinterview.com/index.php/java-questions/does-java-pass-by-reference-or-by-value/","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java passes everything by value!!</p>\n\n<p>//create an object by passing in a name and age:</p>\n\n<pre><code>PersonClass variable1 = new PersonClass(\"Mary\", 32);\n\nPersonClass variable2;\n</code></pre>\n\n<p>//Both variable2 and variable1 now reference the same object</p>\n\n<pre><code>variable2 = variable1; \n\n\nPersonClass variable3 = new PersonClass(\"Andre\", 45);\n</code></pre>\n\n<p>// variable1 now points to variable3</p>\n\n<pre><code>variable1 = variable3;\n</code></pre>\n\n<p>//WHAT IS OUTPUT BY THIS?</p>\n\n<pre><code>System.out.println(variable2);\nSystem.out.println(variable1);\n\nMary 32\nAndre 45\n</code></pre>\n\n<p>if you could understand this example we r done.\notherwise, please visit this webPage for detailed explanation:</p>\n\n<p><a href=\"http://www.programmerinterview.com/index.php/java-questions/does-java-pass-by-reference-or-by-value/\" rel=\"noreferrer\">webPage</a></p>\n"},{"tags":[],"owner":{"account_id":39087,"reputation":7142,"user_id":112670,"accept_rate":62,"display_name":"Christian"},"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1486839149,"creation_date":1426714508,"answer_id":29133165,"question_id":40480,"body_markdown":"Java passes parameters by VALUE, and by value **ONLY**.\r\n\r\n**To cut long story short:**\r\n\r\n&gt; For those coming from C#: **THERE IS NO &quot;out&quot; parameter.**\r\n \r\n&gt; For those coming from PASCAL: **THERE IS NO &quot;var&quot; parameter**.\r\n\r\nIt means you can&#39;t change the reference from the object itself, but you can always change the object&#39;s properties.\r\n\r\nA workaround is to use `StringBuilder` parameter instead `String`. And you can always use arrays!","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java passes parameters by VALUE, and by value <strong>ONLY</strong>.</p>\n\n<p><strong>To cut long story short:</strong></p>\n\n<blockquote>\n  <p>For those coming from C#: <strong>THERE IS NO \"out\" parameter.</strong></p>\n  \n  <p>For those coming from PASCAL: <strong>THERE IS NO \"var\" parameter</strong>.</p>\n</blockquote>\n\n<p>It means you can't change the reference from the object itself, but you can always change the object's properties.</p>\n\n<p>A workaround is to use <code>StringBuilder</code> parameter instead <code>String</code>. And you can always use arrays!</p>\n"},{"tags":[],"owner":{"account_id":3931957,"reputation":10912,"user_id":3250087,"accept_rate":88,"display_name":"spiderman"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1431466202,"creation_date":1431465847,"answer_id":30201678,"question_id":40480,"body_markdown":"Let me try to explain my understanding with the help of four examples. Java is pass-by-value, and not pass-by-reference\r\n\r\n/**\r\n\r\n  Pass By Value\r\n  \r\n  In Java, all parameters are passed by value, i.e. assigning a method argument is not visible to the caller.\r\n \r\n */\r\n\r\n**Example 1:**\r\n\r\n    public class PassByValueString {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew PassByValueString().caller();\r\n    \t}\r\n    \r\n    \tpublic void caller() {\r\n    \t\tString value = &quot;Nikhil&quot;;\r\n    \t\tboolean valueflag = false;\r\n    \t\tString output = method(value, valueflag);\r\n    \t\t/*\r\n    \t\t * &#39;output&#39; is insignificant in this example. we are more interested in\r\n    \t\t * &#39;value&#39; and &#39;valueflag&#39;\r\n    \t\t */\r\n    \t\tSystem.out.println(&quot;output : &quot; + output);\r\n    \t\tSystem.out.println(&quot;value : &quot; + value);\r\n    \t\tSystem.out.println(&quot;valueflag : &quot; + valueflag);\r\n    \r\n    \t}\r\n    \r\n    \tpublic String method(String value, boolean valueflag) {\r\n    \t\tvalue = &quot;Anand&quot;;\r\n    \t\tvalueflag = true;\r\n    \t\treturn &quot;output&quot;;\r\n    \t}\r\n    }\r\n\r\n**Result**\r\n\r\n    output : output\r\n    value : Nikhil\r\n    valueflag : false\r\n\r\n**Example 2:**\r\n\r\n/**\r\n * \r\n * Pass By Value\r\n *\r\n */\r\n\r\n    public class PassByValueNewString {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew PassByValueNewString().caller();\r\n    \t}\r\n    \r\n    \tpublic void caller() {\r\n    \t\tString value = new String(&quot;Nikhil&quot;);\r\n    \t\tboolean valueflag = false;\r\n    \t\tString output = method(value, valueflag);\r\n    \t\t/*\r\n    \t\t * &#39;output&#39; is insignificant in this example. we are more interested in\r\n    \t\t * &#39;value&#39; and &#39;valueflag&#39;\r\n    \t\t */\r\n    \t\tSystem.out.println(&quot;output : &quot; + output);\r\n    \t\tSystem.out.println(&quot;value : &quot; + value);\r\n    \t\tSystem.out.println(&quot;valueflag : &quot; + valueflag);\r\n    \r\n    \t}\r\n    \r\n    \tpublic String method(String value, boolean valueflag) {\r\n    \t\tvalue = &quot;Anand&quot;;\r\n    \t\tvalueflag = true;\r\n    \t\treturn &quot;output&quot;;\r\n    \t}\r\n    }\r\n\r\n**Result**\r\n\r\n    output : output\r\n    value : Nikhil\r\n    valueflag : false\r\n\r\n**Example 3:**\r\n\r\n/**\r\n  This &#39;Pass By Value has a feeling of &#39;Pass By Reference&#39;\r\n  \r\n  Some people say primitive types and &#39;String&#39; are &#39;pass by value&#39;\r\n  and objects are &#39;pass by reference&#39;.\r\n  \r\n  But from this example, we can understand that it is infact pass by value only,\r\n  keeping in mind that here we are passing the reference as the value.\r\n  ie: reference is passed by value.\r\n  That&#39;s why are able to change and still it holds true after the local scope.\r\n  But we cannot change the actual reference outside the original scope.\r\n  what that means is demonstrated by next example of PassByValueObjectCase2.\r\n\r\n */\r\n\r\n    public class PassByValueObjectCase1 {\r\n    \t\r\n    \tprivate class Student {\r\n    \t\tint id;\r\n    \t\tString name;\r\n    \t\tpublic Student() {\r\n    \t\t}\r\n    \t\tpublic Student(int id, String name) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.id = id;\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \t\tpublic int getId() {\r\n    \t\t\treturn id;\r\n    \t\t}\r\n    \t\tpublic void setId(int id) {\r\n    \t\t\tthis.id = id;\r\n    \t\t}\r\n    \t\tpublic String getName() {\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \t\tpublic void setName(String name) {\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;Student [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew PassByValueObjectCase1().caller();\r\n    \t}\r\n    \r\n    \tpublic void caller() {\r\n    \t\tStudent student = new Student(10, &quot;Nikhil&quot;);\r\n    \t\tString output = method(student);\r\n    \t\t/*\r\n    \t\t * &#39;output&#39; is insignificant in this example. we are more interested in\r\n    \t\t * &#39;student&#39;\r\n    \t\t */\r\n    \t\tSystem.out.println(&quot;output : &quot; + output);\r\n    \t\tSystem.out.println(&quot;student : &quot; + student);\r\n    \t}\r\n    \r\n    \tpublic String method(Student student) {\r\n    \t\tstudent.setName(&quot;Anand&quot;);\r\n    \t\treturn &quot;output&quot;;\r\n    \t}\r\n    }\r\n\r\n**Result**\r\n\r\n    output : output\r\n    student : Student [id=10, name=Anand]\r\n\r\n**Example 4:**\r\n\r\n/**\r\n  \r\n  In addition to what was mentioned in Example3 (PassByValueObjectCase1.java),  we cannot change the actual reference outside the original scope.&quot;\r\n\r\nNote: I am not pasting the code for `private class Student`. The class definition for `Student` is same as Example3.\r\n  \r\n */\r\n\r\n    public class PassByValueObjectCase2 {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew PassByValueObjectCase2().caller();\r\n    \t}\r\n    \r\n    \tpublic void caller() {\r\n    \t\t// student has the actual reference to a Student object created\r\n    \t\t// can we change this actual reference outside the local scope? Let&#39;s see\r\n    \t\tStudent student = new Student(10, &quot;Nikhil&quot;);\r\n    \t\tString output = method(student);\r\n    \t\t/*\r\n    \t\t * &#39;output&#39; is insignificant in this example. we are more interested in\r\n    \t\t * &#39;student&#39;\r\n    \t\t */\r\n    \t\tSystem.out.println(&quot;output : &quot; + output);\r\n    \t\tSystem.out.println(&quot;student : &quot; + student); // Will it print Nikhil or Anand?\r\n    \t}\r\n    \r\n    \tpublic String method(Student student) {\r\n    \t\tstudent = new Student(20, &quot;Anand&quot;);\r\n    \t\treturn &quot;output&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**Result**\r\n\r\n    output : output\r\n    student : Student [id=10, name=Nikhil]\r\n\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Let me try to explain my understanding with the help of four examples. Java is pass-by-value, and not pass-by-reference</p>\n\n<p>/**</p>\n\n<p>Pass By Value</p>\n\n<p>In Java, all parameters are passed by value, i.e. assigning a method argument is not visible to the caller.</p>\n\n<p>*/</p>\n\n<p><strong>Example 1:</strong></p>\n\n<pre><code>public class PassByValueString {\n    public static void main(String[] args) {\n        new PassByValueString().caller();\n    }\n\n    public void caller() {\n        String value = \"Nikhil\";\n        boolean valueflag = false;\n        String output = method(value, valueflag);\n        /*\n         * 'output' is insignificant in this example. we are more interested in\n         * 'value' and 'valueflag'\n         */\n        System.out.println(\"output : \" + output);\n        System.out.println(\"value : \" + value);\n        System.out.println(\"valueflag : \" + valueflag);\n\n    }\n\n    public String method(String value, boolean valueflag) {\n        value = \"Anand\";\n        valueflag = true;\n        return \"output\";\n    }\n}\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>output : output\nvalue : Nikhil\nvalueflag : false\n</code></pre>\n\n<p><strong>Example 2:</strong></p>\n\n<p>/**\n * \n * Pass By Value\n *\n */</p>\n\n<pre><code>public class PassByValueNewString {\n    public static void main(String[] args) {\n        new PassByValueNewString().caller();\n    }\n\n    public void caller() {\n        String value = new String(\"Nikhil\");\n        boolean valueflag = false;\n        String output = method(value, valueflag);\n        /*\n         * 'output' is insignificant in this example. we are more interested in\n         * 'value' and 'valueflag'\n         */\n        System.out.println(\"output : \" + output);\n        System.out.println(\"value : \" + value);\n        System.out.println(\"valueflag : \" + valueflag);\n\n    }\n\n    public String method(String value, boolean valueflag) {\n        value = \"Anand\";\n        valueflag = true;\n        return \"output\";\n    }\n}\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>output : output\nvalue : Nikhil\nvalueflag : false\n</code></pre>\n\n<p><strong>Example 3:</strong></p>\n\n<p>/**\n  This 'Pass By Value has a feeling of 'Pass By Reference'</p>\n\n<p>Some people say primitive types and 'String' are 'pass by value'\n  and objects are 'pass by reference'.</p>\n\n<p>But from this example, we can understand that it is infact pass by value only,\n  keeping in mind that here we are passing the reference as the value.\n  ie: reference is passed by value.\n  That's why are able to change and still it holds true after the local scope.\n  But we cannot change the actual reference outside the original scope.\n  what that means is demonstrated by next example of PassByValueObjectCase2.</p>\n\n<p>*/</p>\n\n<pre><code>public class PassByValueObjectCase1 {\n\n    private class Student {\n        int id;\n        String name;\n        public Student() {\n        }\n        public Student(int id, String name) {\n            super();\n            this.id = id;\n            this.name = name;\n        }\n        public int getId() {\n            return id;\n        }\n        public void setId(int id) {\n            this.id = id;\n        }\n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        @Override\n        public String toString() {\n            return \"Student [id=\" + id + \", name=\" + name + \"]\";\n        }\n    }\n\n    public static void main(String[] args) {\n        new PassByValueObjectCase1().caller();\n    }\n\n    public void caller() {\n        Student student = new Student(10, \"Nikhil\");\n        String output = method(student);\n        /*\n         * 'output' is insignificant in this example. we are more interested in\n         * 'student'\n         */\n        System.out.println(\"output : \" + output);\n        System.out.println(\"student : \" + student);\n    }\n\n    public String method(Student student) {\n        student.setName(\"Anand\");\n        return \"output\";\n    }\n}\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>output : output\nstudent : Student [id=10, name=Anand]\n</code></pre>\n\n<p><strong>Example 4:</strong></p>\n\n<p>/**</p>\n\n<p>In addition to what was mentioned in Example3 (PassByValueObjectCase1.java),  we cannot change the actual reference outside the original scope.\"</p>\n\n<p>Note: I am not pasting the code for <code>private class Student</code>. The class definition for <code>Student</code> is same as Example3.</p>\n\n<p>*/</p>\n\n<pre><code>public class PassByValueObjectCase2 {\n\n    public static void main(String[] args) {\n        new PassByValueObjectCase2().caller();\n    }\n\n    public void caller() {\n        // student has the actual reference to a Student object created\n        // can we change this actual reference outside the local scope? Let's see\n        Student student = new Student(10, \"Nikhil\");\n        String output = method(student);\n        /*\n         * 'output' is insignificant in this example. we are more interested in\n         * 'student'\n         */\n        System.out.println(\"output : \" + output);\n        System.out.println(\"student : \" + student); // Will it print Nikhil or Anand?\n    }\n\n    public String method(Student student) {\n        student = new Student(20, \"Anand\");\n        return \"output\";\n    }\n\n}\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>output : output\nstudent : Student [id=10, name=Nikhil]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6391551,"reputation":483,"user_id":4957499,"accept_rate":78,"display_name":"Placinta Alexandru"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1453379915,"creation_date":1453379915,"answer_id":34924074,"question_id":40480,"body_markdown":"Java always uses **call by value**. That means the method gets copy of all parameter values.\r\n\r\n\r\nConsider next 3 situations:\r\n## 1) Trying to change primitive variable ##\r\n\r\n    public static void increment(int x) { x++; }\r\n\r\n    int a = 3;\r\n    increment(a);\r\n\r\nx will copy value of a and will increment x, a remains the same\r\n## 2) Trying to change primitive field of an object ##\r\n\r\n    public static void increment(Person p) { p.age++; }\r\n\r\n    Person pers = new Person(20); // age = 20\r\n    increment(pers);\r\n\r\np will copy reference value of pers and will increment age field, variables are referencing to the same object so age is changed\r\n## 3) Trying to change reference value of reference variables ##\r\n\r\n    public static void swap(Person p1, Person p2) {\r\n        Person temp = p1;\r\n        p1 = p2;\r\n        p2 = temp;\r\n    }\r\n\r\n    Person pers1 = new Person(10);\r\n    Person pers2 = new Person(20);\r\n    swap(pers1, pers2);\r\n\r\nafter calling swap p1, p2 copy reference values from pers1 and pers2, are swapping with values, so pers1 and pers2 remain the same\r\n\r\nSo. you can change only fields of objects in method passing copy of reference value to this object.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java always uses <strong>call by value</strong>. That means the method gets copy of all parameter values.</p>\n\n<p>Consider next 3 situations:</p>\n\n<h2>1) Trying to change primitive variable</h2>\n\n<pre><code>public static void increment(int x) { x++; }\n\nint a = 3;\nincrement(a);\n</code></pre>\n\n<p>x will copy value of a and will increment x, a remains the same</p>\n\n<h2>2) Trying to change primitive field of an object</h2>\n\n<pre><code>public static void increment(Person p) { p.age++; }\n\nPerson pers = new Person(20); // age = 20\nincrement(pers);\n</code></pre>\n\n<p>p will copy reference value of pers and will increment age field, variables are referencing to the same object so age is changed</p>\n\n<h2>3) Trying to change reference value of reference variables</h2>\n\n<pre><code>public static void swap(Person p1, Person p2) {\n    Person temp = p1;\n    p1 = p2;\n    p2 = temp;\n}\n\nPerson pers1 = new Person(10);\nPerson pers2 = new Person(20);\nswap(pers1, pers2);\n</code></pre>\n\n<p>after calling swap p1, p2 copy reference values from pers1 and pers2, are swapping with values, so pers1 and pers2 remain the same</p>\n\n<p>So. you can change only fields of objects in method passing copy of reference value to this object.</p>\n"},{"tags":[],"owner":{"account_id":7805313,"reputation":1804,"user_id":5903395,"display_name":"Gee Bee"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1458142169,"creation_date":1458142169,"answer_id":36040135,"question_id":40480,"body_markdown":"So many long answers. Let me give a simple one:\r\n\r\n* Java always passes everything by value\r\n* that means also references are passed by value\r\n\r\nIn short, you can not modify value of any parameter passed, but you can call methods or change attributes of an object reference passed.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>So many long answers. Let me give a simple one:</p>\n\n<ul>\n<li>Java always passes everything by value</li>\n<li>that means also references are passed by value</li>\n</ul>\n\n<p>In short, you can not modify value of any parameter passed, but you can call methods or change attributes of an object reference passed.</p>\n"},{"tags":[],"owner":{"account_id":2485869,"reputation":1492,"user_id":2164304,"accept_rate":86,"display_name":"OverCoder"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1548452717,"creation_date":1461594748,"answer_id":36843568,"question_id":40480,"body_markdown":"I made this little diagram that shows how the data gets created and passed\r\n\r\n[![Diagram of how data is created and passed][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/77ppY.png\r\n\r\nNote: Primitive values are passed as a value, the first reference to to that value is the method&#39;s argument\r\n\r\nThat means:\r\n\r\n - You can change the value of `myObject` *inside* the function\r\n - But you can&#39;t change what `myObject` references to, inside the function, because `point` is not `myObject`\r\n - Remember, both `point` and `myObject` are **references**, different **references**, however, those references **point** at the same `new Point(0,0)`","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I made this little diagram that shows how the data gets created and passed</p>\n\n<p><a href=\"https://i.stack.imgur.com/77ppY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/77ppY.png\" alt=\"Diagram of how data is created and passed\"></a></p>\n\n<p>Note: Primitive values are passed as a value, the first reference to to that value is the method's argument</p>\n\n<p>That means:</p>\n\n<ul>\n<li>You can change the value of <code>myObject</code> <em>inside</em> the function</li>\n<li>But you can't change what <code>myObject</code> references to, inside the function, because <code>point</code> is not <code>myObject</code></li>\n<li>Remember, both <code>point</code> and <code>myObject</code> are <strong>references</strong>, different <strong>references</strong>, however, those references <strong>point</strong> at the same <code>new Point(0,0)</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":332614,"reputation":344,"user_id":658018,"display_name":"Cdaragorn"},"down_vote_count":6,"up_vote_count":17,"is_accepted":false,"score":11,"last_activity_date":1463063785,"creation_date":1463063785,"answer_id":37190132,"question_id":40480,"body_markdown":"A lot of the confusion surrounding this issue comes from the fact that Java has attempted to redefine what &quot;Pass by value&quot; and &quot;Pass by reference&quot; mean. It&#39;s important to understand that these are [Industry Terms][1], and cannot be correctly understood outside of that context. They are meant to help you as you code and are valuable to understand, so let&#39;s first go over what they mean. \r\n\r\nA good description of both can be found [here][2].\r\n\r\n**Pass By Value** The value the function received is a copy of the object the caller is using. It is entirely unique to the function and anything you do to that object will only be seen within the function.\r\n\r\n**Pass By Reference** The value the function received is a reference to the object the caller is using. Anything the function does to the object that value refers to will be seen by the caller and it will be working with those changes from that point on.\r\n\r\nAs is clear from those definitions, the fact that the reference is passed by value is irrelevant. If we were to accept that definition, then these terms become meaningless and all languages everywhere are only Pass By Value.\r\n\r\nNo matter how you pass the reference in, it can only ever be passed by value. That isn&#39;t the point. The point is that you passed a reference to your own object to the function, not a copy of it. The fact that you can throw away the reference you received is irrelevant. Again, if we accepted that definition, these terms become meaningless and everyone is always passing by value.\r\n\r\nAnd no, C++&#39;s special &quot;pass by reference&quot; syntax is not the exclusive definition of pass by reference. It is purely a convenience syntax meant to make it so that you don&#39;t need to use pointer syntax after passing the pointer in. It is still passing a pointer, the compiler is just hiding that fact from you. It also still passes that pointer BY VALUE, the compiler is just hiding that from you.\r\n\r\nSo, with this understanding, we can look at Java and see that it actually has both. All Java primitive types are always pass by value because you receive a copy of the caller&#39;s object and cannot modify their copy. All Java reference types are always pass by reference because you receive a reference to the caller&#39;s object and can directly modify their object. \r\n\r\nThe fact that you cannot modify the caller&#39;s reference has nothing to do with pass by reference and is true in every language that supports pass by reference.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Jargon\r\n  [2]: http://cplus.about.com/od/glossar1/g/passbyrefdefn.htm","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>A lot of the confusion surrounding this issue comes from the fact that Java has attempted to redefine what \"Pass by value\" and \"Pass by reference\" mean. It's important to understand that these are <a href=\"https://en.wikipedia.org/wiki/Jargon\" rel=\"noreferrer\">Industry Terms</a>, and cannot be correctly understood outside of that context. They are meant to help you as you code and are valuable to understand, so let's first go over what they mean. </p>\n\n<p>A good description of both can be found <a href=\"http://cplus.about.com/od/glossar1/g/passbyrefdefn.htm\" rel=\"noreferrer\">here</a>.</p>\n\n<p><strong>Pass By Value</strong> The value the function received is a copy of the object the caller is using. It is entirely unique to the function and anything you do to that object will only be seen within the function.</p>\n\n<p><strong>Pass By Reference</strong> The value the function received is a reference to the object the caller is using. Anything the function does to the object that value refers to will be seen by the caller and it will be working with those changes from that point on.</p>\n\n<p>As is clear from those definitions, the fact that the reference is passed by value is irrelevant. If we were to accept that definition, then these terms become meaningless and all languages everywhere are only Pass By Value.</p>\n\n<p>No matter how you pass the reference in, it can only ever be passed by value. That isn't the point. The point is that you passed a reference to your own object to the function, not a copy of it. The fact that you can throw away the reference you received is irrelevant. Again, if we accepted that definition, these terms become meaningless and everyone is always passing by value.</p>\n\n<p>And no, C++'s special \"pass by reference\" syntax is not the exclusive definition of pass by reference. It is purely a convenience syntax meant to make it so that you don't need to use pointer syntax after passing the pointer in. It is still passing a pointer, the compiler is just hiding that fact from you. It also still passes that pointer BY VALUE, the compiler is just hiding that from you.</p>\n\n<p>So, with this understanding, we can look at Java and see that it actually has both. All Java primitive types are always pass by value because you receive a copy of the caller's object and cannot modify their copy. All Java reference types are always pass by reference because you receive a reference to the caller's object and can directly modify their object. </p>\n\n<p>The fact that you cannot modify the caller's reference has nothing to do with pass by reference and is true in every language that supports pass by reference.</p>\n"},{"tags":[],"owner":{"account_id":1231014,"reputation":594,"user_id":1195605,"display_name":"Ravi Sanwal"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1466519436,"creation_date":1465268477,"answer_id":37669835,"question_id":40480,"body_markdown":"There is a very simple way to understand this.\r\nLets&#39;s take C++ pass by reference.\r\n\r\n    #include &lt;iostream&gt;\r\n    using namespace std;\r\n    \r\n    class Foo {\r\n        private:\r\n            int x;\r\n        public:\r\n            Foo(int val) {x = val;}\r\n            void foo()\r\n            {\r\n                cout&lt;&lt;x&lt;&lt;endl;\r\n            }\r\n    };\r\n    \r\n    void bar(Foo&amp; ref)\r\n    {\r\n        ref.foo();\r\n        ref = *(new Foo(99));\r\n        ref.foo();\r\n    }\r\n    \r\n    int main()\r\n    {\r\n       Foo f = Foo(1);\r\n       f.foo();\r\n       bar(f);\r\n       f.foo();\r\n    \r\n       return 0;\r\n    }\r\nWhat is the outcome?\r\n&lt;pre&gt;\r\n1\r\n1\r\n99\r\n99\r\n&lt;/pre&gt;\r\nSo, after bar() assigned a new value to a &quot;reference&quot; passed in, it actually changed the one which was passed in from main itself, explaining the last f.foo() call from main printing 99.\r\n\r\nNow, lets see what java says.\r\n\r\n    public class Ref {\r\n    \r\n    \tprivate static class Foo {\r\n    \t\tprivate int x;\r\n    \r\n    \t\tprivate Foo(int x) {\r\n    \t\t\tthis.x = x;\r\n    \t\t}\r\n    \r\n    \t\tprivate void foo() {\r\n    \t\t\tSystem.out.println(x);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void bar(Foo f) {\r\n    \t\tf.foo();\r\n    \t\tf = new Foo(99);\r\n    \t\tf.foo();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tFoo f = new Foo(1);\r\n    \t\tSystem.out.println(f.x);\r\n    \t\tbar(f);\r\n    \t\tSystem.out.println(f.x);\r\n    \t}\r\n    \r\n    }\r\n\r\nIt says:\r\n&lt;pre&gt;\r\n1\r\n1\r\n99\r\n1\r\n&lt;/pre&gt;\r\nVoil&#224;, the reference of Foo in main that was passed to bar, is still unchanged!\r\n\r\nThis example clearly shows that java is not the same as C++ when we say &quot;pass by reference&quot;. Essentially, java is passing &quot;references&quot; as &quot;values&quot; to functions, meaning java is pass by value.\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>There is a very simple way to understand this.\nLets's take C++ pass by reference.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Foo {\n    private:\n        int x;\n    public:\n        Foo(int val) {x = val;}\n        void foo()\n        {\n            cout&lt;&lt;x&lt;&lt;endl;\n        }\n};\n\nvoid bar(Foo&amp; ref)\n{\n    ref.foo();\n    ref = *(new Foo(99));\n    ref.foo();\n}\n\nint main()\n{\n   Foo f = Foo(1);\n   f.foo();\n   bar(f);\n   f.foo();\n\n   return 0;\n}\n</code></pre>\n\n<p>What is the outcome?</p>\n\n<pre>\n1\n1\n99\n99\n</pre>\n\n<p>So, after bar() assigned a new value to a \"reference\" passed in, it actually changed the one which was passed in from main itself, explaining the last f.foo() call from main printing 99.</p>\n\n<p>Now, lets see what java says.</p>\n\n<pre><code>public class Ref {\n\n    private static class Foo {\n        private int x;\n\n        private Foo(int x) {\n            this.x = x;\n        }\n\n        private void foo() {\n            System.out.println(x);\n        }\n    }\n\n    private static void bar(Foo f) {\n        f.foo();\n        f = new Foo(99);\n        f.foo();\n    }\n\n    public static void main(String[] args) {\n        Foo f = new Foo(1);\n        System.out.println(f.x);\n        bar(f);\n        System.out.println(f.x);\n    }\n\n}\n</code></pre>\n\n<p>It says:</p>\n\n<pre>\n1\n1\n99\n1\n</pre>\n\n<p>Voilà, the reference of Foo in main that was passed to bar, is still unchanged!</p>\n\n<p>This example clearly shows that java is not the same as C++ when we say \"pass by reference\". Essentially, java is passing \"references\" as \"values\" to functions, meaning java is pass by value.</p>\n"},{"tags":[],"owner":{"account_id":1967474,"reputation":3342,"user_id":1767316,"accept_rate":42,"display_name":"user1767316"},"down_vote_count":2,"up_vote_count":69,"is_accepted":false,"score":67,"last_activity_date":1635493268,"creation_date":1469348999,"answer_id":38550131,"question_id":40480,"body_markdown":"**In Java, method arguments are all passed by value :**\r\n\r\nJava arguments are **all passed by value** (the value  or reference is copied when used by the method) :\r\n\r\nIn the case of primitive types, Java behaviour is simple: \r\nThe value is copied in another instance of the primitive type.\r\n\r\nIn case of Objects, this is the same: \r\nObject variables are references (mem buckets holding only Object’s **address** instead of a primitive value) that was created using the &quot;new&quot; keyword, and are copied like primitive types.\r\n\r\nThe behaviour can appear different from primitive types: Because the copied object-variable contains the same address (to the same Object).\r\nObject&#39;s **content/members** might still be modified within a method and later access outside, giving the illusion that the (containing) Object itself was passed by reference. \r\n\r\n&quot;String&quot; Objects appear to be a good **counter-example** to the urban legend saying that &quot;Objects are passed by reference&quot;:\r\n\r\nIn effect, using a method, you will never be able, to update the value of a String passed as argument:\r\n\r\nA String Object, holds characters by an array declared **final** that can&#39;t be modified.\r\nOnly the address of the Object might be replaced by another using &quot;new&quot;. \r\nUsing &quot;new&quot; to update the variable, will not let the Object be accessed from outside, since the variable was initially passed by value and copied.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>In Java, method arguments are all passed by value :</strong></p>\n<p>Java arguments are <strong>all passed by value</strong> (the value  or reference is copied when used by the method) :</p>\n<p>In the case of primitive types, Java behaviour is simple:\nThe value is copied in another instance of the primitive type.</p>\n<p>In case of Objects, this is the same:\nObject variables are references (mem buckets holding only Object’s <strong>address</strong> instead of a primitive value) that was created using the &quot;new&quot; keyword, and are copied like primitive types.</p>\n<p>The behaviour can appear different from primitive types: Because the copied object-variable contains the same address (to the same Object).\nObject's <strong>content/members</strong> might still be modified within a method and later access outside, giving the illusion that the (containing) Object itself was passed by reference.</p>\n<p>&quot;String&quot; Objects appear to be a good <strong>counter-example</strong> to the urban legend saying that &quot;Objects are passed by reference&quot;:</p>\n<p>In effect, using a method, you will never be able, to update the value of a String passed as argument:</p>\n<p>A String Object, holds characters by an array declared <strong>final</strong> that can't be modified.\nOnly the address of the Object might be replaced by another using &quot;new&quot;.\nUsing &quot;new&quot; to update the variable, will not let the Object be accessed from outside, since the variable was initially passed by value and copied.</p>\n"},{"tags":[],"owner":{"account_id":6643046,"reputation":360,"user_id":5128145,"accept_rate":0,"display_name":"Vivek Kumar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1474912830,"creation_date":1474912519,"answer_id":39709353,"question_id":40480,"body_markdown":"Java does manipulate objects by reference, and all object variables are references. However, Java doesn&#39;t pass method arguments by reference; it passes them by value.\n\nTake the&#160;badSwap()&#160;method for example:\n\n        public void badSwap(int var1, int\n     var2{ int temp = var1; var1 = var2; var2 =\n     temp; }\n\nWhen&#160;badSwap()&#160;returns, the variables passed as arguments will still hold their original values. The method will also fail if we change the arguments type from&#160;int&#160;to&#160;Object, since Java passes object references by value as well. Now, here is where it gets tricky:\n\n \n\n  \n\n \n\n    public void tricky(Point arg1, Point   arg2)\n    { arg1.x = 100; arg1.y = 100; Point temp = arg1; arg1 = arg2; arg2 = temp; }\n    public static void main(String [] args) { \n    \n     Point pnt1 = new Point(0,0); Point pnt2\n     = new Point(0,0); System.out.println(&quot;X:\n     &quot; + pnt1.x + &quot; Y: &quot; +pnt1.y);\n    \n         System.out.println(&quot;X: &quot; + pnt2.x + &quot; Y:\n     &quot; +pnt2.y); System.out.println(&quot; &quot;);\n    \n         tricky(pnt1,pnt2);\n     System.out.println(&quot;X: &quot; + pnt1.x + &quot; Y:&quot; + pnt1.y);\n    \n         System.out.println(&quot;X: &quot; + pnt2.x + &quot; Y: &quot; +pnt2.y); }\n\nIf we execute this&#160;main()&#160;method, we see the following output:\n\nX: 0 Y: 0 X: 0 Y: 0 X: 100 Y: 100 X: 0 Y: 0\n\nThe method successfully alters the value ofpnt1, even though it is passed by value; however, a swap of&#160;pnt1&#160;and&#160;pnt2&#160;fails! This is the major source of confusion. In themain()&#160;method,&#160;pnt1&#160;and&#160;pnt2&#160;are nothing more than object references. When you passpnt1&#160;and&#160;pnt2&#160;to the&#160;tricky()&#160;method, Java passes the references by value just like any other parameter. This means the references passed to the method are actually&#160;copies&#160;of the original references. Figure 1 below shows two references pointing to the same object after Java passes an object to a method.\n\nJava copies and passes the&#160;reference&#160;by value, not the object. Thus, method manipulation will alter the objects, since the references point to the original objects. But since the references are copies, swaps will fail. As Figure 2 illustrates, the method references swap, but not the original references. Unfortunately, after a method call, you are left with only the unswapped original references. For a swap to succeed outside of the method call, we need to swap the original references, not the copies.\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java does manipulate objects by reference, and all object variables are references. However, Java doesn't pass method arguments by reference; it passes them by value.</p>\n\n<p>Take the badSwap() method for example:</p>\n\n<pre><code>    public void badSwap(int var1, int\n var2{ int temp = var1; var1 = var2; var2 =\n temp; }\n</code></pre>\n\n<p>When badSwap() returns, the variables passed as arguments will still hold their original values. The method will also fail if we change the arguments type from int to Object, since Java passes object references by value as well. Now, here is where it gets tricky:</p>\n\n<pre><code>public void tricky(Point arg1, Point   arg2)\n{ arg1.x = 100; arg1.y = 100; Point temp = arg1; arg1 = arg2; arg2 = temp; }\npublic static void main(String [] args) { \n\n Point pnt1 = new Point(0,0); Point pnt2\n = new Point(0,0); System.out.println(\"X:\n \" + pnt1.x + \" Y: \" +pnt1.y);\n\n     System.out.println(\"X: \" + pnt2.x + \" Y:\n \" +pnt2.y); System.out.println(\" \");\n\n     tricky(pnt1,pnt2);\n System.out.println(\"X: \" + pnt1.x + \" Y:\" + pnt1.y);\n\n     System.out.println(\"X: \" + pnt2.x + \" Y: \" +pnt2.y); }\n</code></pre>\n\n<p>If we execute this main() method, we see the following output:</p>\n\n<p>X: 0 Y: 0 X: 0 Y: 0 X: 100 Y: 100 X: 0 Y: 0</p>\n\n<p>The method successfully alters the value ofpnt1, even though it is passed by value; however, a swap of pnt1 and pnt2 fails! This is the major source of confusion. In themain() method, pnt1 and pnt2 are nothing more than object references. When you passpnt1 and pnt2 to the tricky() method, Java passes the references by value just like any other parameter. This means the references passed to the method are actually copies of the original references. Figure 1 below shows two references pointing to the same object after Java passes an object to a method.</p>\n\n<p>Java copies and passes the reference by value, not the object. Thus, method manipulation will alter the objects, since the references point to the original objects. But since the references are copies, swaps will fail. As Figure 2 illustrates, the method references swap, but not the original references. Unfortunately, after a method call, you are left with only the unswapped original references. For a swap to succeed outside of the method call, we need to swap the original references, not the copies.</p>\n"},{"tags":[],"owner":{"account_id":7647532,"reputation":9983,"user_id":5797598,"accept_rate":14,"display_name":"khakishoiab"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1475142824,"creation_date":1475142824,"answer_id":39767073,"question_id":40480,"body_markdown":"A simple test to check whether a language supports pass-by-reference is simply writing a traditional swap.\r\nCan you write a traditional swap(a,b) method/function in Java?\r\n\r\nA traditional swap method or function takes two arguments and swaps them such that variables passed into the function are changed outside the function. Its basic structure looks like\r\n\r\n(Non-Java) Basic swap function structure\r\n\r\n    swap(Type arg1, Type arg2) {\r\n        Type temp = arg1;\r\n        arg1 = arg2;\r\n        arg2 = temp;\r\n    }\r\n\r\nIf you can write such a method/function in your language such that calling\r\n\r\n    Type var1 = ...;\r\n    Type var2 = ...;\r\n    swap(var1,var2);\r\nactually switches the values of the variables var1 and var2, the language supports pass-by-reference.\r\nBut **Java does not allow such a thing** as it supports passing the values only and not pointers or references.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>A simple test to check whether a language supports pass-by-reference is simply writing a traditional swap.\nCan you write a traditional swap(a,b) method/function in Java?</p>\n\n<p>A traditional swap method or function takes two arguments and swaps them such that variables passed into the function are changed outside the function. Its basic structure looks like</p>\n\n<p>(Non-Java) Basic swap function structure</p>\n\n<pre><code>swap(Type arg1, Type arg2) {\n    Type temp = arg1;\n    arg1 = arg2;\n    arg2 = temp;\n}\n</code></pre>\n\n<p>If you can write such a method/function in your language such that calling</p>\n\n<pre><code>Type var1 = ...;\nType var2 = ...;\nswap(var1,var2);\n</code></pre>\n\n<p>actually switches the values of the variables var1 and var2, the language supports pass-by-reference.\nBut <strong>Java does not allow such a thing</strong> as it supports passing the values only and not pointers or references.</p>\n"},{"tags":[],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1479142308,"creation_date":1479142308,"answer_id":40593867,"question_id":40480,"body_markdown":"The major cornerstone knowledge must be the quoted one,\r\n&gt; When an object reference is passed to a method, the reference itself\r\n&gt; is passed by use of *call-by-value*. However, since the value being\r\n&gt; passed refers to an object, the copy of that value will still refer to\r\n&gt; the same object referred to by its corresponding argument.\r\n\r\nJava: A Beginner&#39;s Guide, Sixth Edition, Herbert Schildt","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>The major cornerstone knowledge must be the quoted one,</p>\n\n<blockquote>\n  <p>When an object reference is passed to a method, the reference itself\n  is passed by use of <em>call-by-value</em>. However, since the value being\n  passed refers to an object, the copy of that value will still refer to\n  the same object referred to by its corresponding argument.</p>\n</blockquote>\n\n<p>Java: A Beginner's Guide, Sixth Edition, Herbert Schildt</p>\n"},{"tags":[],"owner":{"account_id":9364821,"reputation":49,"user_id":7051714,"accept_rate":80,"display_name":"Taleev Aalam"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1479297521,"creation_date":1479297521,"answer_id":40631632,"question_id":40480,"body_markdown":"It seems everything is call by value in java as i have tried to understand by the following program \n\n**Class-S**\n\n    class S{\n    String name=&quot;alam&quot;;\n    public void setName(String n){\n    this.name=n; \n    }}\n**Class-Sample**\n\n        public class Sample{\n        public static void main(String args[]){\n        S s=new S();\n        S t=new S();\n        System.out.println(s.name);\n        System.out.println(t.name);\n        t.setName(&quot;taleev&quot;);\n        System.out.println(t.name);\n        System.out.println(s.name);\n        s.setName(&quot;Harry&quot;);\n        System.out.println(t.name);\n        System.out.println(s.name);\n        }}\n\n**Output**\n\n&gt;  alam\n&gt;\n&gt; alam\n&gt;\n&gt; taleev\n&gt;\n&gt; alam\n&gt;\n&gt;taleev\n&gt;\n&gt;harry\n\n       \nAs we have define class S with instance variable name with value **taleev** so for\nall the objects that we initialize from it will have the name variable with value of **taleev** but if we change the name&#39;s value of any objects then it is changing the name of only that copy of the class(Object) not for every class so after that also when we do **System.out.println(s.name)** it is printing **taleev** only we can not change the name&#39;s value that we have defined originally, and the value that we are changing is the object&#39;s value not the instance variable value so once we have define instance variable we are unable to change it\n\nSo i think that is how it shows that java deals with **values** only not with the **references** \n\nThe memory allocation for the primitive variables can be understood by  [this][1]\n         \n\n\n  [1]: http://www.informit.com/articles/article.aspx?p=31755&amp;seqNum=8","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>It seems everything is call by value in java as i have tried to understand by the following program</p>\n<p><strong>Class-S</strong></p>\n<pre><code>class S{\nString name=&quot;alam&quot;;\npublic void setName(String n){\nthis.name=n; \n}}\n</code></pre>\n<p><strong>Class-Sample</strong></p>\n<pre><code>    public class Sample{\n    public static void main(String args[]){\n    S s=new S();\n    S t=new S();\n    System.out.println(s.name);\n    System.out.println(t.name);\n    t.setName(&quot;taleev&quot;);\n    System.out.println(t.name);\n    System.out.println(s.name);\n    s.setName(&quot;Harry&quot;);\n    System.out.println(t.name);\n    System.out.println(s.name);\n    }}\n</code></pre>\n<p><strong>Output</strong></p>\n<blockquote>\n<p>alam</p>\n<p>alam</p>\n<p>taleev</p>\n<p>alam</p>\n<p>taleev</p>\n<p>harry</p>\n</blockquote>\n<p>As we have define class S with instance variable name with value <strong>taleev</strong> so for\nall the objects that we initialize from it will have the name variable with value of <strong>taleev</strong> but if we change the name's value of any objects then it is changing the name of only that copy of the class(Object) not for every class so after that also when we do <strong>System.out.println(s.name)</strong> it is printing <strong>taleev</strong> only we can not change the name's value that we have defined originally, and the value that we are changing is the object's value not the instance variable value so once we have define instance variable we are unable to change it</p>\n<p>So i think that is how it shows that java deals with <strong>values</strong> only not with the <strong>references</strong></p>\n<p>The memory allocation for the primitive variables can be understood by  <a href=\"http://www.informit.com/articles/article.aspx?p=31755&amp;seqNum=8\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":2059760,"reputation":2801,"user_id":4958222,"accept_rate":75,"display_name":"Rahul Kumar"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1483979709,"creation_date":1483086780,"answer_id":41393112,"question_id":40480,"body_markdown":"Java, for sure, without a doubt, is &quot;pass by value&quot;. Also, since Java is (mostly) object-oriented and objects work with references, it&#39;s easy to get confused and think of it to be &quot;pass by reference&quot;\r\n\r\nPass by value means you pass the value to the method and if the method changes the passed value, the real entity doesn&#39;t change. Pass by reference, on the other hand, means a reference is passed to the method, and if the method changes it, the passed object also changes.\r\n\r\nIn Java, usually when we pass an object to a method, we basically pass the reference of the object as-a-value because that&#39;s how Java works; it works with references and addresses as far as Object in the heap goes.\r\n\r\nBut to test if it is really pass by value or pass by reference, you can use a primitive type and references:\r\n\r\n    @Test\r\n\tpublic void sampleTest(){\r\n\t\tint i = 5;\r\n\t\tincrementBy100(i);\r\n\t\tSystem.out.println(&quot;passed ==&gt; &quot;+ i);\r\n        Integer j = new Integer(5);\r\n        incrementBy100(j);\r\n\t\tSystem.out.println(&quot;passed ==&gt; &quot;+ j);\r\n\t}\r\n\t/**\r\n\t * @param i\r\n\t */\r\n\tprivate void incrementBy100(int i) {\r\n\t\ti += 100;\r\n\t\tSystem.out.println(&quot;incremented = &quot;+ i);\r\n\t}\r\n\r\nThe output is:\r\n\r\n    incremented = 105\r\n    passed ==&gt; 5\r\n    incremented = 105\r\n    passed ==&gt; 5\r\n\r\nSo in both cases, whatever happens inside the method doesn&#39;t change the real Object, because the value of that object was passed, and not a reference to the object itself.\r\n\r\nBut when you pass a custom object to a method, and the method and changes it, it will change the real object too, because even when you passed the object, you passed it&#39;s reference as a value to the method. Let&#39;s try another example:\r\n\r\n    @Test\r\n\tpublic void sampleTest2(){\r\n\t\tPerson person = new Person(24, &quot;John&quot;);\r\n\t\tSystem.out.println(person);\r\n\t\talterPerson(person);\r\n\t\tSystem.out.println(person);\r\n\t}\r\n\t\r\n\t/**\r\n\t * @param person\r\n\t */\r\n\tprivate void alterPerson(Person person) {\r\n\t\tperson.setAge(45);\r\n\t\tPerson altered = person;\r\n\t\taltered.setName(&quot;Tom&quot;);\r\n\t}\r\n\r\n\tprivate static class Person{\r\n\t\tprivate int age;\r\n\t\tprivate String name; \r\n\t\t\r\n\t\tpublic Person(int age, String name) {\r\n\t\t\tthis.age=age;\r\n\t\t\tthis.name =name;\r\n\t\t}\r\n\r\n\t\tpublic int getAge() {\r\n\t\t\treturn age;\r\n\t\t}\r\n\r\n\t\tpublic void setAge(int age) {\r\n\t\t\tthis.age = age;\r\n\t\t}\r\n\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\tStringBuilder builder = new StringBuilder();\r\n\t\t\tbuilder.append(&quot;Person [age=&quot;);\r\n\t\t\tbuilder.append(age);\r\n\t\t\tbuilder.append(&quot;, name=&quot;);\r\n\t\t\tbuilder.append(name);\r\n\t\t\tbuilder.append(&quot;]&quot;);\r\n\t\t\treturn builder.toString();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nIn this case, the output is:\r\n\r\n    Person [age=24, name=John]\r\n    Person [age=45, name=Tom]\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java, for sure, without a doubt, is \"pass by value\". Also, since Java is (mostly) object-oriented and objects work with references, it's easy to get confused and think of it to be \"pass by reference\"</p>\n\n<p>Pass by value means you pass the value to the method and if the method changes the passed value, the real entity doesn't change. Pass by reference, on the other hand, means a reference is passed to the method, and if the method changes it, the passed object also changes.</p>\n\n<p>In Java, usually when we pass an object to a method, we basically pass the reference of the object as-a-value because that's how Java works; it works with references and addresses as far as Object in the heap goes.</p>\n\n<p>But to test if it is really pass by value or pass by reference, you can use a primitive type and references:</p>\n\n<pre><code>@Test\npublic void sampleTest(){\n    int i = 5;\n    incrementBy100(i);\n    System.out.println(\"passed ==&gt; \"+ i);\n    Integer j = new Integer(5);\n    incrementBy100(j);\n    System.out.println(\"passed ==&gt; \"+ j);\n}\n/**\n * @param i\n */\nprivate void incrementBy100(int i) {\n    i += 100;\n    System.out.println(\"incremented = \"+ i);\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>incremented = 105\npassed ==&gt; 5\nincremented = 105\npassed ==&gt; 5\n</code></pre>\n\n<p>So in both cases, whatever happens inside the method doesn't change the real Object, because the value of that object was passed, and not a reference to the object itself.</p>\n\n<p>But when you pass a custom object to a method, and the method and changes it, it will change the real object too, because even when you passed the object, you passed it's reference as a value to the method. Let's try another example:</p>\n\n<pre><code>@Test\npublic void sampleTest2(){\n    Person person = new Person(24, \"John\");\n    System.out.println(person);\n    alterPerson(person);\n    System.out.println(person);\n}\n\n/**\n * @param person\n */\nprivate void alterPerson(Person person) {\n    person.setAge(45);\n    Person altered = person;\n    altered.setName(\"Tom\");\n}\n\nprivate static class Person{\n    private int age;\n    private String name; \n\n    public Person(int age, String name) {\n        this.age=age;\n        this.name =name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder builder = new StringBuilder();\n        builder.append(\"Person [age=\");\n        builder.append(age);\n        builder.append(\", name=\");\n        builder.append(name);\n        builder.append(\"]\");\n        return builder.toString();\n    }\n\n}\n</code></pre>\n\n<p>In this case, the output is:</p>\n\n<pre><code>Person [age=24, name=John]\nPerson [age=45, name=Tom]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2210982,"reputation":1063,"user_id":1952852,"display_name":"Raja"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1485547813,"creation_date":1485546707,"answer_id":41901960,"question_id":40480,"body_markdown":"I tried to simplify the examples above, keeping only the essense of the problem.\r\nLet me present this as a story that is easy to remember and apply correctly.\r\nThe story goes like this:\r\nYou have a pet dog, Jimmy, whose tail is 12 inches long.\r\nYou leave it with a vet for a few weeks while you are travelling abroad.\r\n\r\nThe vet doesn&#39;t like the long tail of Jimmy, so he wants to cut it by half.\r\nBut being a good vet, he knows that he has no right to mutilate other people&#39;s dogs.\r\nSo he first makes a clone of the dog (with the *new* key word) and cuts the tail of the clone.\r\nWhen the dog finally returns to you, it has the original 12 inch tail in tact. Happy ending !\r\n\r\nThe next time you travel, you take the dog, unwittingly, to a wicked vet. \r\nHe is also a hater of long tails, so he cuts it down to a miserable 2 inches. \r\nBut he does this to your dear Jimmy, not a clone of it.\r\nWhen you return, you are shocked to see Jimmy pathetically wagging a 2 inch stub.\r\n\r\nMoral of the story: When you pass on your pet, you are giving away whole and unfettered\r\ncustody of the pet to the vet. He is free to play any kind of havoc with it.\r\nPassing by *value*, by *reference*, by *pointer* are all just technical wrangling. \r\nUnless the vet clones it first, he ends up mutilating the original dog.\r\n\r\n    public class Doggie {\r\n\r\n        public static void main(String...args) {\r\n            System.out.println(&quot;At the owner&#39;s home:&quot;);\r\n            Dog d = new Dog(12);\r\n            d.wag();\r\n            goodVet(d);\r\n            System.out.println(&quot;With the owner again:)&quot;);\r\n            d.wag();\r\n            badVet(d);\r\n            System.out.println(&quot;With the owner again(:&quot;);\r\n            d.wag();\r\n        }\r\n        \r\n        public static void goodVet (Dog dog) {\r\n            System.out.println(&quot;At the good vet:&quot;);\r\n            dog.wag();\r\n            dog = new Dog(12); // create a clone\r\n            dog.cutTail(6);    // cut the clone&#39;s tail\r\n            dog.wag();\r\n        }\r\n        \r\n        public static void badVet (Dog dog) {\r\n            System.out.println(&quot;At the bad vet:&quot;);\r\n            dog.wag();\r\n            dog.cutTail(2);   // cut the original dog&#39;s tail\r\n            dog.wag();\r\n        }    \r\n    }\r\n    \r\n    class Dog {\r\n    \r\n        int tailLength;\r\n        \r\n        public Dog(int originalLength) {\r\n            this.tailLength = originalLength;\r\n        }\r\n        \r\n        public void cutTail (int newLength) {\r\n            this.tailLength = newLength;\r\n        }\r\n        \r\n        public void wag()  {\r\n            System.out.println(&quot;Wagging my &quot; +tailLength +&quot; inch tail&quot;);\r\n        }\r\n    }\r\n\r\n    Output:\r\n    At the owner&#39;s home:\r\n    Wagging my 12 inch tail\r\n    At the good vet:\r\n    Wagging my 12 inch tail\r\n    Wagging my 6 inch tail\r\n    With the owner again:)\r\n    Wagging my 12 inch tail\r\n    At the bad vet:\r\n    Wagging my 12 inch tail\r\n    Wagging my 2 inch tail\r\n    With the owner again(:\r\n    Wagging my 2 inch tail\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I tried to simplify the examples above, keeping only the essense of the problem.\nLet me present this as a story that is easy to remember and apply correctly.\nThe story goes like this:\nYou have a pet dog, Jimmy, whose tail is 12 inches long.\nYou leave it with a vet for a few weeks while you are travelling abroad.</p>\n\n<p>The vet doesn't like the long tail of Jimmy, so he wants to cut it by half.\nBut being a good vet, he knows that he has no right to mutilate other people's dogs.\nSo he first makes a clone of the dog (with the <em>new</em> key word) and cuts the tail of the clone.\nWhen the dog finally returns to you, it has the original 12 inch tail in tact. Happy ending !</p>\n\n<p>The next time you travel, you take the dog, unwittingly, to a wicked vet. \nHe is also a hater of long tails, so he cuts it down to a miserable 2 inches. \nBut he does this to your dear Jimmy, not a clone of it.\nWhen you return, you are shocked to see Jimmy pathetically wagging a 2 inch stub.</p>\n\n<p>Moral of the story: When you pass on your pet, you are giving away whole and unfettered\ncustody of the pet to the vet. He is free to play any kind of havoc with it.\nPassing by <em>value</em>, by <em>reference</em>, by <em>pointer</em> are all just technical wrangling. \nUnless the vet clones it first, he ends up mutilating the original dog.</p>\n\n<pre><code>public class Doggie {\n\n    public static void main(String...args) {\n        System.out.println(\"At the owner's home:\");\n        Dog d = new Dog(12);\n        d.wag();\n        goodVet(d);\n        System.out.println(\"With the owner again:)\");\n        d.wag();\n        badVet(d);\n        System.out.println(\"With the owner again(:\");\n        d.wag();\n    }\n\n    public static void goodVet (Dog dog) {\n        System.out.println(\"At the good vet:\");\n        dog.wag();\n        dog = new Dog(12); // create a clone\n        dog.cutTail(6);    // cut the clone's tail\n        dog.wag();\n    }\n\n    public static void badVet (Dog dog) {\n        System.out.println(\"At the bad vet:\");\n        dog.wag();\n        dog.cutTail(2);   // cut the original dog's tail\n        dog.wag();\n    }    \n}\n\nclass Dog {\n\n    int tailLength;\n\n    public Dog(int originalLength) {\n        this.tailLength = originalLength;\n    }\n\n    public void cutTail (int newLength) {\n        this.tailLength = newLength;\n    }\n\n    public void wag()  {\n        System.out.println(\"Wagging my \" +tailLength +\" inch tail\");\n    }\n}\n\nOutput:\nAt the owner's home:\nWagging my 12 inch tail\nAt the good vet:\nWagging my 12 inch tail\nWagging my 6 inch tail\nWith the owner again:)\nWagging my 12 inch tail\nAt the bad vet:\nWagging my 12 inch tail\nWagging my 2 inch tail\nWith the owner again(:\nWagging my 2 inch tail\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5330844,"reputation":14681,"user_id":4251431,"accept_rate":80,"display_name":"Basheer AL-MOMANI"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1560542336,"creation_date":1490866146,"answer_id":43113746,"question_id":40480,"body_markdown":"Unlike some other languages, Java does not allow you to choose between pass-by-value and pass-by-reference.\r\n\r\nAll arguments are passed by value. \r\n\r\nA method call can pass two `types of values`to a method\r\n\r\n - copies of primitive values (e.g., values of type int and double)\r\n - copies of references to objects.\r\n\r\n`Objects themselves cannot be passed to methods`. When a method modifies a primitive-type parameter, changes to the parameter have no effect on the original argument value in the calling method.\r\n\r\nThis is also true for reference-type parameters. If you modify a reference-type parameter so that it refers to another object, only the parameter refers to the new object—the reference stored in the caller’s variable still refers to the original object.\r\n\r\nReferences: [Java™ How To Program (Early Objects), Tenth Edition][1] \r\n\r\n\r\n  [1]: https://www.safaribooksonline.com/library/view/javatm-how-to/9780133813036/ch07lev2sec11.html","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Unlike some other languages, Java does not allow you to choose between pass-by-value and pass-by-reference.</p>\n\n<p>All arguments are passed by value. </p>\n\n<p>A method call can pass two <code>types of values</code>to a method</p>\n\n<ul>\n<li>copies of primitive values (e.g., values of type int and double)</li>\n<li>copies of references to objects.</li>\n</ul>\n\n<p><code>Objects themselves cannot be passed to methods</code>. When a method modifies a primitive-type parameter, changes to the parameter have no effect on the original argument value in the calling method.</p>\n\n<p>This is also true for reference-type parameters. If you modify a reference-type parameter so that it refers to another object, only the parameter refers to the new object—the reference stored in the caller’s variable still refers to the original object.</p>\n\n<p>References: <a href=\"https://www.safaribooksonline.com/library/view/javatm-how-to/9780133813036/ch07lev2sec11.html\" rel=\"noreferrer\">Java™ How To Program (Early Objects), Tenth Edition</a> </p>\n"},{"tags":[],"owner":{"account_id":4507628,"reputation":161,"user_id":3664592,"display_name":"Himanshu arora"},"down_vote_count":6,"up_vote_count":96,"is_accepted":false,"score":90,"last_activity_date":1700819158,"creation_date":1491630689,"answer_id":43290680,"question_id":40480,"body_markdown":"Java is a pass by value(stack memory)\r\n\r\nHow it works\r\n\r\n* Let&#39;s first understand that where java stores primitive data type and object data type.\r\n\r\n* Primitive data types itself and object references are stored in the stack. \r\n  Objects themselves are stored in the heap.\r\n\r\n* It means, Stack memory stores primitive data types and also the \r\n  addresses of objects.\r\n\r\n* And you always pass a copy of the bits of the value of the reference.\r\n\r\n* If it&#39;s a primitive data type then these copied bits contain the value of the primitive data type itself, That&#39;s why when we change the value of argument inside the method then it does not reflect the changes outside.\r\n\r\n* If it&#39;s an object data type like **Foo foo=new Foo()** then in this case copy of the address of the object passes like file shortcut  , suppose we have a text file **abc.txt** at **C:\\desktop** and suppose we make shortcut of the same file and put this inside **C:\\desktop\\abc-shortcut** so when you access the file from **C:\\desktop\\abc.txt** and write **&#39;Stack Overflow&#39;** and close the file and again you open the file from shortcut then you write **&#39; is the largest online community for programmers to learn&#39;** then total file change will be **&#39;Stack Overflow is the largest online community for programmers to learn&#39;** which means it doesn&#39;t matter from where you open the file , each time we were accessing the same file , here we can assume **Foo** as a file and suppose foo stored at **123hd7h**(original address like **C:\\desktop\\abc.txt** ) address and **234jdid**(copied address like **C:\\desktop\\abc-shortcut** which actually contains the original address of the file inside) ..\r\nSo for better understanding make shortcut file and feel..\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java is a pass by value(stack memory)</p>\n<p>How it works</p>\n<ul>\n<li><p>Let's first understand that where java stores primitive data type and object data type.</p>\n</li>\n<li><p>Primitive data types itself and object references are stored in the stack.\nObjects themselves are stored in the heap.</p>\n</li>\n<li><p>It means, Stack memory stores primitive data types and also the\naddresses of objects.</p>\n</li>\n<li><p>And you always pass a copy of the bits of the value of the reference.</p>\n</li>\n<li><p>If it's a primitive data type then these copied bits contain the value of the primitive data type itself, That's why when we change the value of argument inside the method then it does not reflect the changes outside.</p>\n</li>\n<li><p>If it's an object data type like <strong>Foo foo=new Foo()</strong> then in this case copy of the address of the object passes like file shortcut  , suppose we have a text file <strong>abc.txt</strong> at <strong>C:\\desktop</strong> and suppose we make shortcut of the same file and put this inside <strong>C:\\desktop\\abc-shortcut</strong> so when you access the file from <strong>C:\\desktop\\abc.txt</strong> and write <strong>'Stack Overflow'</strong> and close the file and again you open the file from shortcut then you write <strong>' is the largest online community for programmers to learn'</strong> then total file change will be <strong>'Stack Overflow is the largest online community for programmers to learn'</strong> which means it doesn't matter from where you open the file , each time we were accessing the same file , here we can assume <strong>Foo</strong> as a file and suppose foo stored at <strong>123hd7h</strong>(original address like <strong>C:\\desktop\\abc.txt</strong> ) address and <strong>234jdid</strong>(copied address like <strong>C:\\desktop\\abc-shortcut</strong> which actually contains the original address of the file inside) ..\nSo for better understanding make shortcut file and feel..</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5304861,"reputation":1940,"user_id":4233180,"display_name":"Supriya"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1504464768,"creation_date":1504464768,"answer_id":46026822,"question_id":40480,"body_markdown":"Java is pass by value. \r\n\r\nThere are already great answers on this thread. Somehow, I was never clear on pass by value/reference with respect to primitive data types and with respect to objects. Therefore, I tested it out for my satisfaction and clarity with the following piece of code; might help somebody seeking similar clarity:\r\n\r\n    class Test    {\r\n\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\t// Primitive type\r\n\t\tSystem.out.println(&quot;Primitve:&quot;);\r\n\t\tint a = 5;\r\n\t\tprimitiveFunc(a);\r\n\t\tSystem.out.println(&quot;Three: &quot; + a);    //5\r\n\t\t\r\n\t\t//Object\r\n\t\tSystem.out.println(&quot;Object:&quot;);\r\n\t\tDummyObject dummyObject = new DummyObject();\r\n\t\tSystem.out.println(&quot;One: &quot; + dummyObject.getObj());    //555\r\n\t\tobjectFunc(dummyObject);\r\n\t\tSystem.out.println(&quot;Four: &quot; + dummyObject.getObj());    //666 (555 if line in method uncommented.)\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static void primitiveFunc(int b)\t{\r\n\t\tSystem.out.println(&quot;One: &quot; + b);    //5\r\n\t\tb = 10;\r\n\t\tSystem.out.println(&quot;Two:&quot; + b);    //10\r\n\t}\r\n\t\r\n\tprivate static void objectFunc(DummyObject b)\t{\r\n\t\tSystem.out.println(&quot;Two: &quot; + b.getObj());    //555\r\n\t\t//b = new DummyObject();\r\n\t\tb.setObj(666);\r\n\t\tSystem.out.println(&quot;Three:&quot; + b.getObj());    //666\r\n\t}\r\n\r\n    }\r\n\r\n    class DummyObject\t{\r\n\t    private int obj = 555;\r\n\t    public int getObj()\t{ return obj; }\r\n\t    public void setObj(int num)\t{ obj = num; }\r\n    }\r\n\r\nIf the line `b = new DummyObject()` is uncommented, the modifications made thereafter are made on a *new* object, a new instantiation. Hence, it is not reflected in the place where the method is called from. However, otherwise, the change is reflected as the modifications are only made on a &quot;reference&quot; of the object, i.e - b points to the same dummyObject. \r\n\r\nIllustrations in one of the answers in this thread (https://stackoverflow.com/a/12429953/4233180) can help gain a deeper understanding.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java is pass by value. </p>\n\n<p>There are already great answers on this thread. Somehow, I was never clear on pass by value/reference with respect to primitive data types and with respect to objects. Therefore, I tested it out for my satisfaction and clarity with the following piece of code; might help somebody seeking similar clarity:</p>\n\n<pre><code>class Test    {\n\npublic static void main (String[] args) throws java.lang.Exception\n{\n    // Primitive type\n    System.out.println(\"Primitve:\");\n    int a = 5;\n    primitiveFunc(a);\n    System.out.println(\"Three: \" + a);    //5\n\n    //Object\n    System.out.println(\"Object:\");\n    DummyObject dummyObject = new DummyObject();\n    System.out.println(\"One: \" + dummyObject.getObj());    //555\n    objectFunc(dummyObject);\n    System.out.println(\"Four: \" + dummyObject.getObj());    //666 (555 if line in method uncommented.)\n\n}\n\nprivate static void primitiveFunc(int b)    {\n    System.out.println(\"One: \" + b);    //5\n    b = 10;\n    System.out.println(\"Two:\" + b);    //10\n}\n\nprivate static void objectFunc(DummyObject b)   {\n    System.out.println(\"Two: \" + b.getObj());    //555\n    //b = new DummyObject();\n    b.setObj(666);\n    System.out.println(\"Three:\" + b.getObj());    //666\n}\n\n}\n\nclass DummyObject   {\n    private int obj = 555;\n    public int getObj() { return obj; }\n    public void setObj(int num) { obj = num; }\n}\n</code></pre>\n\n<p>If the line <code>b = new DummyObject()</code> is uncommented, the modifications made thereafter are made on a <em>new</em> object, a new instantiation. Hence, it is not reflected in the place where the method is called from. However, otherwise, the change is reflected as the modifications are only made on a \"reference\" of the object, i.e - b points to the same dummyObject. </p>\n\n<p>Illustrations in one of the answers in this thread (<a href=\"https://stackoverflow.com/a/12429953/4233180\">https://stackoverflow.com/a/12429953/4233180</a>) can help gain a deeper understanding.</p>\n"},{"tags":[],"owner":{"account_id":9674049,"reputation":726,"user_id":7178104,"display_name":"Raj Rusia"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1514187301,"creation_date":1504707202,"answer_id":46077533,"question_id":40480,"body_markdown":"One of the biggest confusion in Java programming language is whether Java is **Pass by Value** or **Pass by Reference**.\r\n\r\nFirst of all, we should understand what is meant by pass by value or pass by reference.\r\n\r\n**Pass by Value:** The method parameter values are copied to another variable and then the copied object is passed, that’s why it’s called pass by value.\r\n\r\n**Pass by Reference:** An alias or reference to the actual parameter is passed to the method, that’s why it’s called pass by reference.\r\n\r\nLet’s say we have a class Balloon like below.\r\n\r\n\r\n\r\n    public class Balloon {\r\n    \r\n    \tprivate String color;\r\n    \r\n    \tpublic Balloon(){}\r\n    \t\r\n    \tpublic Balloon(String c){\r\n    \t\tthis.color=c;\r\n    \t}\r\n    \t\r\n    \tpublic String getColor() {\r\n    \t\treturn color;\r\n    \t}\r\n    \r\n    \tpublic void setColor(String color) {\r\n    \t\tthis.color = color;\r\n    \t}\r\n    }\r\n\r\nAnd we have a simple program with a generic method to swap two objects, the class looks like below.\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tBalloon red = new Balloon(&quot;Red&quot;); //memory reference 50\r\n    \t\tBalloon blue = new Balloon(&quot;Blue&quot;); //memory reference 100\r\n    \t\t\r\n    \t\tswap(red, blue);\r\n    \t\tSystem.out.println(&quot;red color=&quot;+red.getColor());\r\n    \t\tSystem.out.println(&quot;blue color=&quot;+blue.getColor());\r\n    \t\t\r\n    \t\tfoo(blue);\r\n    \t\tSystem.out.println(&quot;blue color=&quot;+blue.getColor());\r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate static void foo(Balloon balloon) { //baloon=100\r\n    \t\tballoon.setColor(&quot;Red&quot;); //baloon=100\r\n    \t\tballoon = new Balloon(&quot;Green&quot;); //baloon=200\r\n    \t\tballoon.setColor(&quot;Blue&quot;); //baloon = 200\r\n    \t}\r\n    \r\n    \t//Generic swap method\r\n    \tpublic static void swap(Object o1, Object o2){\r\n    \t\tObject temp = o1;\r\n    \t\to1=o2;\r\n    \t\to2=temp;\r\n    \t}\r\n    }\r\n\r\nWhen we execute the above program, we get following output.\r\n\r\n    red color=Red\r\n    blue color=Blue\r\n    blue color=Red\r\n\r\n\r\nIf you look at the first two lines of the output, it’s clear that swap method didn’t work. This is because Java is passed by value, this swap() method test can be used with any programming language to check whether it’s pass by value or pass by reference.\r\n\r\nLet’s analyze the program execution step by step.\r\n\r\n    Balloon red = new Balloon(&quot;Red&quot;);\r\n    Balloon blue = new Balloon(&quot;Blue&quot;);\r\n\r\nWhen we use the new operator to create an instance of a class, the instance is created and the variable contains the reference location of the memory where the object is saved. For our example, let’s assume that “red” is pointing to 50 and “blue” is pointing to 100 and these are the memory location of both Balloon objects.\r\n\r\nNow when we are calling swap() method, two new variables o1 and o2 are created pointing to 50 and 100 respectively.\r\n\r\nSo below code snippet explains what happened in the swap() method execution.\r\n\r\n    public static void swap(Object o1, Object o2){ //o1=50, o2=100\r\n    \tObject temp = o1; //temp=50, o1=50, o2=100\r\n    \to1=o2; //temp=50, o1=100, o2=100\r\n    \to2=temp; //temp=50, o1=100, o2=50\r\n    } //method terminated\r\n\r\nNotice that we are changing values of o1 and o2 but they are copies of “red” and “blue” reference locations, so actually, there is no change in the values of “red” and “blue” and hence the output.\r\n\r\nIf you have understood this far, you can easily understand the cause of confusion. Since the variables are just the reference to the objects, we get confused that we are passing the reference so Java is passed by reference. However, we are passing a copy of the reference and hence it’s pass by value. I hope it clears all the doubts now.\r\n\r\nNow let’s analyze **foo()** method execution.\r\n\r\n    private static void foo(Balloon balloon) { //baloon=100\r\n    \tballoon.setColor(&quot;Red&quot;); //baloon=100\r\n    \tballoon = new Balloon(&quot;Green&quot;); //baloon=200\r\n    \tballoon.setColor(&quot;Blue&quot;); //baloon = 200\r\n    }\r\n\r\nThe first line is the important one when we call a method the method is called on the Object at the reference location. At this point, the balloon is pointing to 100 and hence it’s color is changed to Red.\r\n\r\nIn the next line, balloon reference is changed to 200 and any further methods executed are happening on the object at memory location 200 and not having any effect on the object at memory location 100. This explains the third line of our program output printing blue color=Red.\r\n\r\nI hope above explanation clear all the doubts, just remember that variables are references or pointers and its copy is passed to the methods, so Java is always passed by value. It would be more clear when you will learn about Heap and Stack memory and where different objects and references are stored.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>One of the biggest confusion in Java programming language is whether Java is <strong>Pass by Value</strong> or <strong>Pass by Reference</strong>.</p>\n\n<p>First of all, we should understand what is meant by pass by value or pass by reference.</p>\n\n<p><strong>Pass by Value:</strong> The method parameter values are copied to another variable and then the copied object is passed, that’s why it’s called pass by value.</p>\n\n<p><strong>Pass by Reference:</strong> An alias or reference to the actual parameter is passed to the method, that’s why it’s called pass by reference.</p>\n\n<p>Let’s say we have a class Balloon like below.</p>\n\n<pre><code>public class Balloon {\n\n    private String color;\n\n    public Balloon(){}\n\n    public Balloon(String c){\n        this.color=c;\n    }\n\n    public String getColor() {\n        return color;\n    }\n\n    public void setColor(String color) {\n        this.color = color;\n    }\n}\n</code></pre>\n\n<p>And we have a simple program with a generic method to swap two objects, the class looks like below.</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        Balloon red = new Balloon(\"Red\"); //memory reference 50\n        Balloon blue = new Balloon(\"Blue\"); //memory reference 100\n\n        swap(red, blue);\n        System.out.println(\"red color=\"+red.getColor());\n        System.out.println(\"blue color=\"+blue.getColor());\n\n        foo(blue);\n        System.out.println(\"blue color=\"+blue.getColor());\n\n    }\n\n    private static void foo(Balloon balloon) { //baloon=100\n        balloon.setColor(\"Red\"); //baloon=100\n        balloon = new Balloon(\"Green\"); //baloon=200\n        balloon.setColor(\"Blue\"); //baloon = 200\n    }\n\n    //Generic swap method\n    public static void swap(Object o1, Object o2){\n        Object temp = o1;\n        o1=o2;\n        o2=temp;\n    }\n}\n</code></pre>\n\n<p>When we execute the above program, we get following output.</p>\n\n<pre><code>red color=Red\nblue color=Blue\nblue color=Red\n</code></pre>\n\n<p>If you look at the first two lines of the output, it’s clear that swap method didn’t work. This is because Java is passed by value, this swap() method test can be used with any programming language to check whether it’s pass by value or pass by reference.</p>\n\n<p>Let’s analyze the program execution step by step.</p>\n\n<pre><code>Balloon red = new Balloon(\"Red\");\nBalloon blue = new Balloon(\"Blue\");\n</code></pre>\n\n<p>When we use the new operator to create an instance of a class, the instance is created and the variable contains the reference location of the memory where the object is saved. For our example, let’s assume that “red” is pointing to 50 and “blue” is pointing to 100 and these are the memory location of both Balloon objects.</p>\n\n<p>Now when we are calling swap() method, two new variables o1 and o2 are created pointing to 50 and 100 respectively.</p>\n\n<p>So below code snippet explains what happened in the swap() method execution.</p>\n\n<pre><code>public static void swap(Object o1, Object o2){ //o1=50, o2=100\n    Object temp = o1; //temp=50, o1=50, o2=100\n    o1=o2; //temp=50, o1=100, o2=100\n    o2=temp; //temp=50, o1=100, o2=50\n} //method terminated\n</code></pre>\n\n<p>Notice that we are changing values of o1 and o2 but they are copies of “red” and “blue” reference locations, so actually, there is no change in the values of “red” and “blue” and hence the output.</p>\n\n<p>If you have understood this far, you can easily understand the cause of confusion. Since the variables are just the reference to the objects, we get confused that we are passing the reference so Java is passed by reference. However, we are passing a copy of the reference and hence it’s pass by value. I hope it clears all the doubts now.</p>\n\n<p>Now let’s analyze <strong>foo()</strong> method execution.</p>\n\n<pre><code>private static void foo(Balloon balloon) { //baloon=100\n    balloon.setColor(\"Red\"); //baloon=100\n    balloon = new Balloon(\"Green\"); //baloon=200\n    balloon.setColor(\"Blue\"); //baloon = 200\n}\n</code></pre>\n\n<p>The first line is the important one when we call a method the method is called on the Object at the reference location. At this point, the balloon is pointing to 100 and hence it’s color is changed to Red.</p>\n\n<p>In the next line, balloon reference is changed to 200 and any further methods executed are happening on the object at memory location 200 and not having any effect on the object at memory location 100. This explains the third line of our program output printing blue color=Red.</p>\n\n<p>I hope above explanation clear all the doubts, just remember that variables are references or pointers and its copy is passed to the methods, so Java is always passed by value. It would be more clear when you will learn about Heap and Stack memory and where different objects and references are stored.</p>\n"},{"tags":[],"owner":{"account_id":12041169,"reputation":45,"user_id":8808036,"display_name":"NAGHMAAN MOHASEEN"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1511354300,"creation_date":1508656124,"answer_id":46871427,"question_id":40480,"body_markdown":"&lt;h3&gt;Java is strictly passed by value&lt;/h3&gt;\r\n\r\n\r\nWhen I say ***pass by value*** it means whenever caller has invoked the callee the arguments(ie: the data to be passed to the other function) **is copied** and placed in the formal parameters (callee&#39;s local variables for receiving the input). Java makes data communications from one function to other function only in a pass by value environment.\r\n\r\n\r\nAn important point would be to know that even C language is strictly passed by value only:  \r\n*ie:* Data is copied from caller to the callee and more ever the operation performed by the callee are on the same memory location and \r\nwhat we pass them is the address of that location that we obtain from (&amp;) operator and the identifier used in the formal parameters are declared to be a pointer variable (*) using which we can get inside the memory location for accessing the data in it.\r\n\r\nHence here the formal parameter is nothing but mere aliases for that location. And any modifications done on that location is visible where ever that scope of the variable (that identifies that location) is alive.\r\n\r\n\r\nIn Java, there is no concept of pointers (*ie:* there is nothing called a pointer variable), although we can think of reference variable as a pointer technically in java we call it as a handle. The reason why we call the pointer to an address as a handle in java is  because a pointer variable is capable of performing not just single dereferencing but multiple dereferencing \r\nfor example: `int *p;` in P means p points to an integer\r\nand `int **p;` in C means p is pointer to a pointer to an integer\r\nwe dont have this facility in Java, so its absolutely correct and technically legitimate to say it as an handle, also there are rules for pointer arithmetic in C. Which allows performing arithmetic operation on pointers with constraints on it. \r\n\r\nIn C we call such mechanism of passing address and receiving them with pointer variables as *pass by reference* since we are passing their addresses and receiving them as pointer variable in formal parameter but at the compiler level that address is copied into pointer variable (since data here is address even then its data ) hence we can be 100% sure that C is Strictly passed by value (as we are passing data only)\r\n\r\n(and if we pass the data directly in C we call that as pass by value.)\r\n\r\nIn java when we do the same we do it with the handles; since they are not called pointer variables like in (as discussed above) even though we are passing the references we cannot say its pass by reference since we are not collecting that with a pointer variable in Java.\r\n\r\nHence Java **strictly use pass by value mechanism** ","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<h3>Java is strictly passed by value</h3>\n\n<p>When I say <strong><em>pass by value</em></strong> it means whenever caller has invoked the callee the arguments(ie: the data to be passed to the other function) <strong>is copied</strong> and placed in the formal parameters (callee's local variables for receiving the input). Java makes data communications from one function to other function only in a pass by value environment.</p>\n\n<p>An important point would be to know that even C language is strictly passed by value only:<br>\n<em>ie:</em> Data is copied from caller to the callee and more ever the operation performed by the callee are on the same memory location and \nwhat we pass them is the address of that location that we obtain from (&amp;) operator and the identifier used in the formal parameters are declared to be a pointer variable (*) using which we can get inside the memory location for accessing the data in it.</p>\n\n<p>Hence here the formal parameter is nothing but mere aliases for that location. And any modifications done on that location is visible where ever that scope of the variable (that identifies that location) is alive.</p>\n\n<p>In Java, there is no concept of pointers (<em>ie:</em> there is nothing called a pointer variable), although we can think of reference variable as a pointer technically in java we call it as a handle. The reason why we call the pointer to an address as a handle in java is  because a pointer variable is capable of performing not just single dereferencing but multiple dereferencing \nfor example: <code>int *p;</code> in P means p points to an integer\nand <code>int **p;</code> in C means p is pointer to a pointer to an integer\nwe dont have this facility in Java, so its absolutely correct and technically legitimate to say it as an handle, also there are rules for pointer arithmetic in C. Which allows performing arithmetic operation on pointers with constraints on it. </p>\n\n<p>In C we call such mechanism of passing address and receiving them with pointer variables as <em>pass by reference</em> since we are passing their addresses and receiving them as pointer variable in formal parameter but at the compiler level that address is copied into pointer variable (since data here is address even then its data ) hence we can be 100% sure that C is Strictly passed by value (as we are passing data only)</p>\n\n<p>(and if we pass the data directly in C we call that as pass by value.)</p>\n\n<p>In java when we do the same we do it with the handles; since they are not called pointer variables like in (as discussed above) even though we are passing the references we cannot say its pass by reference since we are not collecting that with a pointer variable in Java.</p>\n\n<p>Hence Java <strong>strictly use pass by value mechanism</strong> </p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71891,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1662877418,"creation_date":1513419550,"answer_id":47844599,"question_id":40480,"body_markdown":"Data is shared between functions by passing parameters. Now, there are 2 ways of passing parameters: \r\n- **passed by reference :** caller and callee use same variable for parameter.  \r\n\r\n- **passed by value :** caller and callee have two independent variables with same value.  \r\n\r\nJava uses ***pass by value*** \r\n - When passing primitive data, it copies the value of primitive data type.\r\n - When passing object, it copies the address of object and passes to callee method variable.\r\n\r\nJava follows the following rules in storing variables:\r\n- Local variables like primitives and object references are created on Stack memory.\r\n- Objects are created on Heap memory.\r\n\r\nExample using primitive data type: \r\n\r\n\r\n    public class PassByValuePrimitive {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint i=5;\r\n    \t\tSystem.out.println(i);  //prints 5\r\n    \t\tchange(i);\r\n    \t\tSystem.out.println(i);  //prints 5\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate static void change(int i) {\r\n    \t\tSystem.out.println(i);  //prints 5\r\n    \t\ti=10;\r\n    \t\tSystem.out.println(i); //prints 10\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nExample using object:\r\n\r\n    public class PassByValueObject {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    \t\tlist.add(&quot;prem&quot;);\r\n    \t\tlist.add(&quot;raj&quot;);\r\n    \t\tnew PassByValueObject().change(list);\r\n    \t\tSystem.out.println(list); // prints [prem, raj, ram]\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate  void change(List list) {\r\n    \t\tSystem.out.println(list.get(0)); // prem\r\n    \t\tlist.add(&quot;ram&quot;);\r\n    \t\tlist=null;\r\n    \t\tSystem.out.println(list.add(&quot;bheem&quot;)); //gets NullPointerException\r\n    \t}\r\n    }\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Data is shared between functions by passing parameters. Now, there are 2 ways of passing parameters:</p>\n<ul>\n<li><p><strong>passed by reference :</strong> caller and callee use same variable for parameter.</p>\n</li>\n<li><p><strong>passed by value :</strong> caller and callee have two independent variables with same value.</p>\n</li>\n</ul>\n<p>Java uses <em><strong>pass by value</strong></em></p>\n<ul>\n<li>When passing primitive data, it copies the value of primitive data type.</li>\n<li>When passing object, it copies the address of object and passes to callee method variable.</li>\n</ul>\n<p>Java follows the following rules in storing variables:</p>\n<ul>\n<li>Local variables like primitives and object references are created on Stack memory.</li>\n<li>Objects are created on Heap memory.</li>\n</ul>\n<p>Example using primitive data type:</p>\n<pre><code>public class PassByValuePrimitive {\n    public static void main(String[] args) {\n        int i=5;\n        System.out.println(i);  //prints 5\n        change(i);\n        System.out.println(i);  //prints 5\n    }\n    \n    \n    private static void change(int i) {\n        System.out.println(i);  //prints 5\n        i=10;\n        System.out.println(i); //prints 10\n        \n    }\n}\n</code></pre>\n<p>Example using object:</p>\n<pre><code>public class PassByValueObject {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(&quot;prem&quot;);\n        list.add(&quot;raj&quot;);\n        new PassByValueObject().change(list);\n        System.out.println(list); // prints [prem, raj, ram]\n        \n    }\n    \n    \n    private  void change(List list) {\n        System.out.println(list.get(0)); // prem\n        list.add(&quot;ram&quot;);\n        list=null;\n        System.out.println(list.add(&quot;bheem&quot;)); //gets NullPointerException\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2244007,"reputation":2157,"user_id":1977836,"display_name":"Felypp Oliveira"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1544209359,"creation_date":1517606636,"answer_id":48591063,"question_id":40480,"body_markdown":"This is the best way to answer the question imo...\r\n\r\nFirst, we must understand that, in Java, the *parameter passing behavior*...\r\n\r\n    public void foo(Object param)\r\n    {\r\n      // some code in foo...\r\n    }\r\n\r\n    public void bar()\r\n    {\r\n      Object obj = new Object();\r\n      \r\n      foo(obj);\r\n    }\r\n\r\nis exactly the same as...\r\n\r\n    public void bar()\r\n    {\r\n      Object obj = new Object();\r\n      \r\n      Object param = obj;\r\n\r\n      // some code in foo...\r\n    }\r\n\r\nnot considering stack locations, which aren&#39;t relevant in this discussion.\r\n\r\nSo, in fact, what we&#39;re looking for in Java is how *variable assignment* works. I found it in [the docs][1] :\r\n\r\n&gt; One of the most common operators that you&#39;ll encounter is the simple assignment operator &quot;=&quot; [...] &lt;b&gt;it assigns the value&lt;/b&gt; on its right to the operand on its left:\r\n&gt; \r\n&gt;  int cadence = 0;  \r\n&gt;  int speed = 0;  \r\n&gt;  int gear = 1;  \r\n&gt;  \r\n&gt; This operator can also be used on objects to assign &lt;b&gt;object references&lt;/b&gt; [...]\r\n\r\nIt&#39;s clear how this operator acts in two distinct ways: assign values and assign references. The last, when it&#39;s an object... the first, when it isn&#39;t an object, that is, when it&#39;s a primitive. But so, can we understand that Java&#39;s function params can be *pass-by-value* and *pass-by-reference*? \r\n\r\nThe truth is in the code. Let&#39;s try it:\r\n\r\n    public class AssignmentEvaluation\r\n    {\r\n      static public class MyInteger\r\n      {\r\n        public int value = 0;\r\n      }\r\n      \r\n      static public void main(String[] args)\r\n      {\r\n        System.out.println(&quot;Assignment operator evaluation using two MyInteger objects named height and width\\n&quot;);\r\n        \r\n        MyInteger height = new MyInteger();\r\n        MyInteger width  = new MyInteger();\r\n        \r\n        System.out.println(&quot;[1] Assign distinct integers to height and width values&quot;);\r\n        \r\n        height.value = 9;\r\n        width.value  = 1;\r\n        \r\n        System.out.println(&quot;-&gt;  height is &quot; + height.value + &quot; and width is &quot; + width.value + &quot;, we are different things! \\n&quot;);\r\n        \r\n        System.out.println(&quot;[2] Assign to height&#39;s value the width&#39;s value&quot;);\r\n        \r\n        height.value = width.value;\r\n        \r\n        System.out.println(&quot;-&gt;  height is &quot; + height.value + &quot; and width is &quot; + width.value + &quot;, are we the same thing now? \\n&quot;);\r\n        \r\n        System.out.println(&quot;[3] Assign to height&#39;s value an integer other than width&#39;s value&quot;);\r\n        \r\n        height.value = 9;\r\n        \r\n        System.out.println(&quot;-&gt;  height is &quot; + height.value + &quot; and width is &quot; + width.value + &quot;, we are different things yet! \\n&quot;);\r\n        \r\n        System.out.println(&quot;[4] Assign to height the width object&quot;);\r\n        \r\n        height = width;\r\n        \r\n        System.out.println(&quot;-&gt;  height is &quot; + height.value + &quot; and width is &quot; + width.value + &quot;, are we the same thing now? \\n&quot;);\r\n        \r\n        System.out.println(&quot;[5] Assign to height&#39;s value an integer other than width&#39;s value&quot;);\r\n        \r\n        height.value = 9;\r\n        \r\n        System.out.println(&quot;-&gt;  height is &quot; + height.value + &quot; and width is &quot; + width.value + &quot;, we are the same thing now! \\n&quot;);\r\n        \r\n        System.out.println(&quot;[6] Assign to height a new MyInteger and an integer other than width&#39;s value&quot;);\r\n        \r\n        height = new MyInteger();\r\n        height.value = 1;\r\n        \r\n        System.out.println(&quot;-&gt;  height is &quot; + height.value + &quot; and width is &quot; + width.value + &quot;, we are different things again! \\n&quot;);\r\n      }\r\n    }\r\n\r\nThis is the output of my run:\r\n\r\n&lt;pre&gt;\r\nAssignment operator evaluation using two MyInteger objects named height and width\r\n\r\n[1] Assign distinct integers to height and width values\r\n-&gt;  height is 9 and width is 1, we are different things! \r\n\r\n[2] Assign to height&#39;s value the width&#39;s value\r\n-&gt;  height is 1 and width is 1, are we the same thing now? \r\n\r\n[3] Assign to height&#39;s value an integer other than width&#39;s value\r\n-&gt;  height is 9 and width is 1, we are different things yet! \r\n\r\n[4] Assign to height the width object\r\n-&gt;  height is 1 and width is 1, are we the same thing now? \r\n\r\n[5] Assign to height&#39;s value an integer other than width&#39;s value\r\n-&gt;  height is 9 and width is 9, we are the same thing now! \r\n\r\n[6] Assign to height a new MyInteger and an integer other than width&#39;s value\r\n-&gt;  height is 1 and width is 9, we are different things again! \r\n&lt;/pre&gt;\r\n\r\nIn *[2]* we have distinct objects and assign one variable&#39;s value to the other. But after assigning a new value in *[3]* the objects had different values, which means that in *[2]* the assigned value was a copy of the primitive variable, usually called **pass-by-value**, otherwise, the values printed in *[3]* should be the same.\r\n\r\nIn *[4]* we still have distinct objects and assign one object to the other. And after assigning a new value in *[5]* the objects had the same values, which means that in *[4]* the assigned object was not a copy of the other, which should be called **pass-by-reference**. But, if we look carefully in *[6]*, we can&#39;t be so sure that no copy was done... ?????\r\n\r\nWe can&#39;t be so sure because in *[6]* the objects were the same, then we assigned a new object to one of them, and after, the objects had different values! How can they be distinct now if they were the same? They should be the same here too!  ?????\r\n\r\nWe&#39;ll need to remember [the docs][1] to understand what&#39;s going on:\r\n\r\n&gt; This operator can also be used on objects to assign &lt;b&gt;object references&lt;/b&gt;\r\n\r\nSo our two variables were storing references... our variables had the same reference after *[4]* and different references after *[6]*... if such a thing is possible, this means that assignment of objects is done by copy of the object&#39;s reference, otherwise, if it was not a copy of reference, the printed value of the variables in *[6]* should be the same. So objects (references), just like primitives, are copied to variables through assignment, what people usually call *pass-by-value*. That&#39;s the only *pass-by-* in Java.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>This is the best way to answer the question imo...</p>\n\n<p>First, we must understand that, in Java, the <em>parameter passing behavior</em>...</p>\n\n<pre><code>public void foo(Object param)\n{\n  // some code in foo...\n}\n\npublic void bar()\n{\n  Object obj = new Object();\n\n  foo(obj);\n}\n</code></pre>\n\n<p>is exactly the same as...</p>\n\n<pre><code>public void bar()\n{\n  Object obj = new Object();\n\n  Object param = obj;\n\n  // some code in foo...\n}\n</code></pre>\n\n<p>not considering stack locations, which aren't relevant in this discussion.</p>\n\n<p>So, in fact, what we're looking for in Java is how <em>variable assignment</em> works. I found it in <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\" rel=\"noreferrer\">the docs</a> :</p>\n\n<blockquote>\n  <p>One of the most common operators that you'll encounter is the simple assignment operator \"=\" [...] <b>it assigns the value</b> on its right to the operand on its left:</p>\n  \n  <p>int cadence = 0;<br>\n   int speed = 0;<br>\n   int gear = 1;  </p>\n  \n  <p>This operator can also be used on objects to assign <b>object references</b> [...]</p>\n</blockquote>\n\n<p>It's clear how this operator acts in two distinct ways: assign values and assign references. The last, when it's an object... the first, when it isn't an object, that is, when it's a primitive. But so, can we understand that Java's function params can be <em>pass-by-value</em> and <em>pass-by-reference</em>? </p>\n\n<p>The truth is in the code. Let's try it:</p>\n\n<pre><code>public class AssignmentEvaluation\n{\n  static public class MyInteger\n  {\n    public int value = 0;\n  }\n\n  static public void main(String[] args)\n  {\n    System.out.println(\"Assignment operator evaluation using two MyInteger objects named height and width\\n\");\n\n    MyInteger height = new MyInteger();\n    MyInteger width  = new MyInteger();\n\n    System.out.println(\"[1] Assign distinct integers to height and width values\");\n\n    height.value = 9;\n    width.value  = 1;\n\n    System.out.println(\"-&gt;  height is \" + height.value + \" and width is \" + width.value + \", we are different things! \\n\");\n\n    System.out.println(\"[2] Assign to height's value the width's value\");\n\n    height.value = width.value;\n\n    System.out.println(\"-&gt;  height is \" + height.value + \" and width is \" + width.value + \", are we the same thing now? \\n\");\n\n    System.out.println(\"[3] Assign to height's value an integer other than width's value\");\n\n    height.value = 9;\n\n    System.out.println(\"-&gt;  height is \" + height.value + \" and width is \" + width.value + \", we are different things yet! \\n\");\n\n    System.out.println(\"[4] Assign to height the width object\");\n\n    height = width;\n\n    System.out.println(\"-&gt;  height is \" + height.value + \" and width is \" + width.value + \", are we the same thing now? \\n\");\n\n    System.out.println(\"[5] Assign to height's value an integer other than width's value\");\n\n    height.value = 9;\n\n    System.out.println(\"-&gt;  height is \" + height.value + \" and width is \" + width.value + \", we are the same thing now! \\n\");\n\n    System.out.println(\"[6] Assign to height a new MyInteger and an integer other than width's value\");\n\n    height = new MyInteger();\n    height.value = 1;\n\n    System.out.println(\"-&gt;  height is \" + height.value + \" and width is \" + width.value + \", we are different things again! \\n\");\n  }\n}\n</code></pre>\n\n<p>This is the output of my run:</p>\n\n<pre>\nAssignment operator evaluation using two MyInteger objects named height and width\n\n[1] Assign distinct integers to height and width values\n->  height is 9 and width is 1, we are different things! \n\n[2] Assign to height's value the width's value\n->  height is 1 and width is 1, are we the same thing now? \n\n[3] Assign to height's value an integer other than width's value\n->  height is 9 and width is 1, we are different things yet! \n\n[4] Assign to height the width object\n->  height is 1 and width is 1, are we the same thing now? \n\n[5] Assign to height's value an integer other than width's value\n->  height is 9 and width is 9, we are the same thing now! \n\n[6] Assign to height a new MyInteger and an integer other than width's value\n->  height is 1 and width is 9, we are different things again! \n</pre>\n\n<p>In <em>[2]</em> we have distinct objects and assign one variable's value to the other. But after assigning a new value in <em>[3]</em> the objects had different values, which means that in <em>[2]</em> the assigned value was a copy of the primitive variable, usually called <strong>pass-by-value</strong>, otherwise, the values printed in <em>[3]</em> should be the same.</p>\n\n<p>In <em>[4]</em> we still have distinct objects and assign one object to the other. And after assigning a new value in <em>[5]</em> the objects had the same values, which means that in <em>[4]</em> the assigned object was not a copy of the other, which should be called <strong>pass-by-reference</strong>. But, if we look carefully in <em>[6]</em>, we can't be so sure that no copy was done... ?????</p>\n\n<p>We can't be so sure because in <em>[6]</em> the objects were the same, then we assigned a new object to one of them, and after, the objects had different values! How can they be distinct now if they were the same? They should be the same here too!  ?????</p>\n\n<p>We'll need to remember <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\" rel=\"noreferrer\">the docs</a> to understand what's going on:</p>\n\n<blockquote>\n  <p>This operator can also be used on objects to assign <b>object references</b></p>\n</blockquote>\n\n<p>So our two variables were storing references... our variables had the same reference after <em>[4]</em> and different references after <em>[6]</em>... if such a thing is possible, this means that assignment of objects is done by copy of the object's reference, otherwise, if it was not a copy of reference, the printed value of the variables in <em>[6]</em> should be the same. So objects (references), just like primitives, are copied to variables through assignment, what people usually call <em>pass-by-value</em>. That's the only <em>pass-by-</em> in Java.</p>\n"},{"tags":[],"owner":{"account_id":3885484,"reputation":3760,"user_id":3216970,"display_name":"mc01"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1521242734,"creation_date":1521242734,"answer_id":49330809,"question_id":40480,"body_markdown":"## PT 1: Of Realty Listings  \n\nThere is a blue, 120sq-ft &quot;Tiny House&quot; currently parked at 1234 Main St with a nicely manicured lawn &amp; flower bed out front. \n\nA Realtor with a local firm is hired and told to keep a listing for that house. \n\nLet&#39;s call that Realtor &quot;Bob.&quot; Hi Bob.\n\nBob keeps his Listing, which he calls `tinyHouseAt1234Main`, up to date with a webcam that allows him to note any changes to the actual house in real time. He also keeps a tally of how many people have asked about the listing. \nBob&#39;s integer `viewTally` for the house is at 42 today.\n   \nWhenever someone wants info about the blue Tiny House at 1234 Main St, they ask Bob. \n\nBob looks up his Listing `tinyHouseAt1234Main` and tells them all about it - the color, the nice lawn, the loft bed and the composting toilet, etc. Then he adds their inquiry to his `viewTally`. He doesn&#39;t tell them the real, physical address though, because Bob&#39;s firm specializes in Tiny Houses that could be moved at any time. The tally is now 43. \n\nAt another firm, Realtors might explicitly say their listing &quot;points&quot; to the house at 1234 Main St, denoting this with a little `*` next to it, because they mainly deal with houses that rarely ever move (though presumably there are reasons for doing so). Bob&#39;s firm doesn&#39;t bother doing this.\n\nNow, of course Bob doesn&#39;t physically go and put the *actual* house on a truck to show it to clients directly - that would be impractical and a ridiculous waste of resources. Passing a full copy of his tally sheet is one thing, but passing around the whole house all the time is costly and ridiculous.  \n\n(Aside: Bob&#39;s firm also doesn&#39;t 3D print new &amp; unique copies of a listed house every single time someone asks about it. That&#39;s what the upstart, similarly named web-based firm &amp; its spinoffs do - that&#39;s expensive and slower, and people often get the 2 firms confused, but they&#39;re quite popular anyway). \n\nAt some other, older firms closer to the Sea, a realtor like Bob might not even exist to manage the Listings. Clients might instead consult the Rolodex &quot;Annie&quot; (`&amp;` for short) for the direct address of the house. Instead of reading off the referenced house details from the listing like Bob does, clients instead get the house address from Annie (`&amp;`), and go directly to 1234 Main St, sometimes w/no idea what they might find there. \n\nOne day, Bob&#39;s firm begins offering a new automated service that needs the listing for a house the client is interested in. \n\nWell, the person with that info is Bob, so the client has Bob call up the service and send it a copy of the listing. \n\n`jobKillingAutomatedListingService(Listing tinyHouseAt1234Main, int viewTally)` Bob sends along ... \n\nThe service, on its end, calls this Listing `houseToLookAt`, but really what it receives is an exact copy of Bob&#39;s listing, with the exact same VALUEs in it, that refer to the house at 1234 Main St. \n\nThis new service also has its own internal tally of how many people have viewed the listing. The service accepts Bob&#39;s tally out of professional courtesy, but it doesn&#39;t really care and overwrites it entirely with its own local copy anyway. It&#39;s tally for today is 1, while Bob&#39;s is still 43. \n\nThe realty firms call this &quot;pass-by-value&quot; since Bob&#39;s passing the current value of his `viewTally` and his Listing `tinyHouseAt1234Main`. He&#39;s not actually passing along the entire physical house, because that&#39;s impractical. Nor is he passing the real physical address like Annie(`&amp;`) would do. \n\nBut he IS passing a copy of *the value OF* the reference he has to the house. Seems like a silly pedantic difference in some ways, but that&#39;s how his firm works ... \n..............\n\n## PT II: Where things get confusing and dangerous ... \n\nThe new automated service, not being all functional and math-oriented like some other trendy financial &amp; scientific firms, can have unforeseen side effects... \n \nOnce given a Listing object it allows clients to *actually* repaint the REAL house at 1234 Main St, using a remote drone robot fleet! It allows clients to control a robot bulldozer to ACTUALLY dig up the flower bed! This is madness!!! \n\nThe service also lets clients completely redirect `houseToLookAt` to some other house at another address, without involving Bob or his listing. All of a sudden they could be looking at 4321 Elm St. instead, which has no connection whatsoever to Bob&#39;s listing (thankfully they can&#39;t do anymore damage). \n\nBob watches all this on his realtime webcam.\nResigned to the drudgery of his sole job responsibility, he tells clients about the new ugly paint job &amp; sudden lack of curb appeal. His Listing *is* still for 1234 Main St., after all. The new service&#39;s `houseToLookAt` couldn&#39;t change that. Bob reports the details of his `tinyHouseAt1234Main` accurately and dutifully as always, until he gets fired or the house is destroyed entirely by The Nothing. \n\nReally the only thing the service CAN&#39;T do with its `houseToLookAt` copy of the Bob&#39;s original listing is change the address from 1234 Main St. to some other address, or to a void of nothingness, or to some random type of object like a Platypus. Bob&#39;s Listing still always points to 1234 Main St, for whatever it&#39;s still worth. He passes its current value around like always.\n\nThis bizarre side-effect of passing a listing to the new automated service is confusing for people who ask about how it works. Really, what&#39;s the difference between the ability to remotely control robots that alter the state of the house at 1234 Main, vs. *actually* physically going there and wreaking havoc because Annie gave you the address?? \n\nSeems like kind of a nitpicky semantic argument if what you generally care about is the *state* of the house in the listing being copied and passed around, right? \n\nI mean, if you were in the business of actually picking up houses and physically moving them to other addresses (not like mobile or Tiny Homes where that&#39;s sort of an expected function of the platform), or you were accessing, renaming, and shuffling entire neighborhoods like some sort of low-level God-playing madman, THEN maybe you&#39;d care more about passing around those specific address references instead of just copies of the the latest value of the house details ... ","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<h2>PT 1: Of Realty Listings</h2>\n<p>There is a blue, 120sq-ft &quot;Tiny House&quot; currently parked at 1234 Main St with a nicely manicured lawn &amp; flower bed out front.</p>\n<p>A Realtor with a local firm is hired and told to keep a listing for that house.</p>\n<p>Let's call that Realtor &quot;Bob.&quot; Hi Bob.</p>\n<p>Bob keeps his Listing, which he calls <code>tinyHouseAt1234Main</code>, up to date with a webcam that allows him to note any changes to the actual house in real time. He also keeps a tally of how many people have asked about the listing.\nBob's integer <code>viewTally</code> for the house is at 42 today.</p>\n<p>Whenever someone wants info about the blue Tiny House at 1234 Main St, they ask Bob.</p>\n<p>Bob looks up his Listing <code>tinyHouseAt1234Main</code> and tells them all about it - the color, the nice lawn, the loft bed and the composting toilet, etc. Then he adds their inquiry to his <code>viewTally</code>. He doesn't tell them the real, physical address though, because Bob's firm specializes in Tiny Houses that could be moved at any time. The tally is now 43.</p>\n<p>At another firm, Realtors might explicitly say their listing &quot;points&quot; to the house at 1234 Main St, denoting this with a little <code>*</code> next to it, because they mainly deal with houses that rarely ever move (though presumably there are reasons for doing so). Bob's firm doesn't bother doing this.</p>\n<p>Now, of course Bob doesn't physically go and put the <em>actual</em> house on a truck to show it to clients directly - that would be impractical and a ridiculous waste of resources. Passing a full copy of his tally sheet is one thing, but passing around the whole house all the time is costly and ridiculous.</p>\n<p>(Aside: Bob's firm also doesn't 3D print new &amp; unique copies of a listed house every single time someone asks about it. That's what the upstart, similarly named web-based firm &amp; its spinoffs do - that's expensive and slower, and people often get the 2 firms confused, but they're quite popular anyway).</p>\n<p>At some other, older firms closer to the Sea, a realtor like Bob might not even exist to manage the Listings. Clients might instead consult the Rolodex &quot;Annie&quot; (<code>&amp;</code> for short) for the direct address of the house. Instead of reading off the referenced house details from the listing like Bob does, clients instead get the house address from Annie (<code>&amp;</code>), and go directly to 1234 Main St, sometimes w/no idea what they might find there.</p>\n<p>One day, Bob's firm begins offering a new automated service that needs the listing for a house the client is interested in.</p>\n<p>Well, the person with that info is Bob, so the client has Bob call up the service and send it a copy of the listing.</p>\n<p><code>jobKillingAutomatedListingService(Listing tinyHouseAt1234Main, int viewTally)</code> Bob sends along ...</p>\n<p>The service, on its end, calls this Listing <code>houseToLookAt</code>, but really what it receives is an exact copy of Bob's listing, with the exact same VALUEs in it, that refer to the house at 1234 Main St.</p>\n<p>This new service also has its own internal tally of how many people have viewed the listing. The service accepts Bob's tally out of professional courtesy, but it doesn't really care and overwrites it entirely with its own local copy anyway. It's tally for today is 1, while Bob's is still 43.</p>\n<p>The realty firms call this &quot;pass-by-value&quot; since Bob's passing the current value of his <code>viewTally</code> and his Listing <code>tinyHouseAt1234Main</code>. He's not actually passing along the entire physical house, because that's impractical. Nor is he passing the real physical address like Annie(<code>&amp;</code>) would do.</p>\n<p>But he IS passing a copy of <em>the value OF</em> the reference he has to the house. Seems like a silly pedantic difference in some ways, but that's how his firm works ...\n..............</p>\n<h2>PT II: Where things get confusing and dangerous ...</h2>\n<p>The new automated service, not being all functional and math-oriented like some other trendy financial &amp; scientific firms, can have unforeseen side effects...</p>\n<p>Once given a Listing object it allows clients to <em>actually</em> repaint the REAL house at 1234 Main St, using a remote drone robot fleet! It allows clients to control a robot bulldozer to ACTUALLY dig up the flower bed! This is madness!!!</p>\n<p>The service also lets clients completely redirect <code>houseToLookAt</code> to some other house at another address, without involving Bob or his listing. All of a sudden they could be looking at 4321 Elm St. instead, which has no connection whatsoever to Bob's listing (thankfully they can't do anymore damage).</p>\n<p>Bob watches all this on his realtime webcam.\nResigned to the drudgery of his sole job responsibility, he tells clients about the new ugly paint job &amp; sudden lack of curb appeal. His Listing <em>is</em> still for 1234 Main St., after all. The new service's <code>houseToLookAt</code> couldn't change that. Bob reports the details of his <code>tinyHouseAt1234Main</code> accurately and dutifully as always, until he gets fired or the house is destroyed entirely by The Nothing.</p>\n<p>Really the only thing the service CAN'T do with its <code>houseToLookAt</code> copy of the Bob's original listing is change the address from 1234 Main St. to some other address, or to a void of nothingness, or to some random type of object like a Platypus. Bob's Listing still always points to 1234 Main St, for whatever it's still worth. He passes its current value around like always.</p>\n<p>This bizarre side-effect of passing a listing to the new automated service is confusing for people who ask about how it works. Really, what's the difference between the ability to remotely control robots that alter the state of the house at 1234 Main, vs. <em>actually</em> physically going there and wreaking havoc because Annie gave you the address??</p>\n<p>Seems like kind of a nitpicky semantic argument if what you generally care about is the <em>state</em> of the house in the listing being copied and passed around, right?</p>\n<p>I mean, if you were in the business of actually picking up houses and physically moving them to other addresses (not like mobile or Tiny Homes where that's sort of an expected function of the platform), or you were accessing, renaming, and shuffling entire neighborhoods like some sort of low-level God-playing madman, THEN maybe you'd care more about passing around those specific address references instead of just copies of the the latest value of the house details ...</p>\n"},{"tags":[],"owner":{"account_id":5127945,"reputation":577,"user_id":4109266,"accept_rate":100,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1588450710,"creation_date":1522799290,"answer_id":49640653,"question_id":40480,"body_markdown":"   Unlike some other languages, Java does not allow you to choose between pass-by-value and pass-by-reference—all arguments are passed by value. A method call can pass two types of values to a method—copies of primitive values (e.g., values of int and double) and copies of references to objects.\r\n\r\n   When a method modifies a primitive-type parameter, changes to the parameter have no effect on the original argument value in the calling method.\r\n\r\n   When it comes to objects, objects themselves cannot be passed to methods. So we pass the reference(address) of the object. We can manipulate the original object using this reference.\r\n\r\n   **How Java creates and stores objects:** When we create an object we store the object’s address in a reference variable. Let&#39;s analyze the following statement.\r\n\r\n    Account account1 = new Account();\r\n\r\n“Account account1” is the type and name of the reference variable, “=” is the assignment operator, “new” asks for the required amount of space from the system. The constructor to the right of keyword new which creates the object is called implicitly by the keyword new. Address of the created object(result of right value, which is an expression called &quot;class instance creation expression&quot;) is assigned to the left value (which is a reference variable with a name and a type specified) using the assign operator.\r\n\r\nAlthough an object’s reference is passed by value, a method can still interact with the referenced object by calling its public methods using the copy of the object’s reference. Since the reference stored in the parameter is a copy of the reference that was passed as an argument, the parameter in the called method and the argument in the calling method refer to the same object in memory.\r\n\r\nPassing references to arrays, instead of the array objects themselves, makes sense for performance reasons. Because everything in Java is passed by value, if array objects were passed,\r\na copy of each element would be passed. For large arrays, this would waste time and consume\r\nconsiderable storage for the copies of the elements.\r\n\r\n\r\nIn the image below you can see we have two reference variables(These are called pointers in C/C++, and I think that term makes it easier to understand this feature.) in the main method. Primitive and reference variables are kept in stack memory(left side in images below). array1 and array2 reference variables &quot;point&quot; (as C/C++ programmers call it) or reference to a and b arrays respectively, which are objects (values these reference variables hold are addresses of objects) in heap memory (right side in images below).\r\n\r\n[![Pass by value example 1][1]][1]\r\n\r\n\r\nIf we pass the value of array1 reference variable as an argument to the reverseArray method, a reference variable is created in the method and that reference variable starts pointing to the same array (a). \r\n\r\n    public class Test\r\n    {\r\n        public static void reverseArray(int[] array1)\r\n        {\r\n            // ...\r\n        }\r\n\r\n        public static void main(String[] args)\r\n        {\r\n            int[] array1 = { 1, 10, -7 };\r\n            int[] array2 = { 5, -190, 0 };\r\n        \r\n            reverseArray(array1);\r\n        }\r\n    }\r\n\r\n[![Pass by value example 2][2]][2]\r\n\r\nSo, if we say \r\n\r\n    array1[0] = 5;\r\n\r\nin reverseArray method, it will make a change in array a.\r\n\r\nWe have another reference variable in reverseArray method (array2) that points to an array c. If we were to say \r\n\r\n    array1 = array2;\r\n\r\nin reverseArray method, then the reference variable array1 in method reverseArray would stop pointing to array a and start pointing to array c (Dotted line in second image).\r\n\r\nIf we return value of reference variable array2 as the return value of method reverseArray and assign this value to reference variable array1 in main method, array1 in main will start pointing to array c.\r\n\r\nSo let&#39;s write all the things we have done at once now.\r\n\r\n    public class Test\r\n    {\r\n        public static int[] reverseArray(int[] array1)\r\n        {\r\n            int[] array2 = { -7, 0, -1 };\r\n            \r\n            array1[0] = 5; // array a becomes 5, 10, -7\r\n            \r\n            array1 = array2; /* array1 of reverseArray starts\r\n              pointing to c instead of a (not shown in image below) */\r\n            return array2;\r\n        }\r\n\r\n        public static void main(String[] args)\r\n        {\r\n            int[] array1 = { 1, 10, -7 };\r\n            int[] array2 = { 5, -190, 0 };\r\n        \r\n            array1 = reverseArray(array1); /* array1 of \r\n             main starts pointing to c instead of a */\r\n        }\r\n    }\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAnd now that reverseArray method is over, its reference variables(array1 and array2) are gone. Which means we now only have the two reference variables in main method array1 and array2 which point to c and b arrays respectively. No reference variable is pointing to object (array) a. So it is eligible for garbage collection.\r\n\r\nYou could also assign value of array2 in main to array1. array1 would start pointing to b.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sF7QZ.png\r\n  [2]: https://i.stack.imgur.com/W1wgZ.png\r\n  [3]: https://i.stack.imgur.com/5hRyX.png","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Unlike some other languages, Java does not allow you to choose between pass-by-value and pass-by-reference—all arguments are passed by value. A method call can pass two types of values to a method—copies of primitive values (e.g., values of int and double) and copies of references to objects.</p>\n\n<p>When a method modifies a primitive-type parameter, changes to the parameter have no effect on the original argument value in the calling method.</p>\n\n<p>When it comes to objects, objects themselves cannot be passed to methods. So we pass the reference(address) of the object. We can manipulate the original object using this reference.</p>\n\n<p><strong>How Java creates and stores objects:</strong> When we create an object we store the object’s address in a reference variable. Let's analyze the following statement.</p>\n\n<pre><code>Account account1 = new Account();\n</code></pre>\n\n<p>“Account account1” is the type and name of the reference variable, “=” is the assignment operator, “new” asks for the required amount of space from the system. The constructor to the right of keyword new which creates the object is called implicitly by the keyword new. Address of the created object(result of right value, which is an expression called \"class instance creation expression\") is assigned to the left value (which is a reference variable with a name and a type specified) using the assign operator.</p>\n\n<p>Although an object’s reference is passed by value, a method can still interact with the referenced object by calling its public methods using the copy of the object’s reference. Since the reference stored in the parameter is a copy of the reference that was passed as an argument, the parameter in the called method and the argument in the calling method refer to the same object in memory.</p>\n\n<p>Passing references to arrays, instead of the array objects themselves, makes sense for performance reasons. Because everything in Java is passed by value, if array objects were passed,\na copy of each element would be passed. For large arrays, this would waste time and consume\nconsiderable storage for the copies of the elements.</p>\n\n<p>In the image below you can see we have two reference variables(These are called pointers in C/C++, and I think that term makes it easier to understand this feature.) in the main method. Primitive and reference variables are kept in stack memory(left side in images below). array1 and array2 reference variables \"point\" (as C/C++ programmers call it) or reference to a and b arrays respectively, which are objects (values these reference variables hold are addresses of objects) in heap memory (right side in images below).</p>\n\n<p><a href=\"https://i.stack.imgur.com/sF7QZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sF7QZ.png\" alt=\"Pass by value example 1\"></a></p>\n\n<p>If we pass the value of array1 reference variable as an argument to the reverseArray method, a reference variable is created in the method and that reference variable starts pointing to the same array (a). </p>\n\n<pre><code>public class Test\n{\n    public static void reverseArray(int[] array1)\n    {\n        // ...\n    }\n\n    public static void main(String[] args)\n    {\n        int[] array1 = { 1, 10, -7 };\n        int[] array2 = { 5, -190, 0 };\n\n        reverseArray(array1);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/W1wgZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/W1wgZ.png\" alt=\"Pass by value example 2\"></a></p>\n\n<p>So, if we say </p>\n\n<pre><code>array1[0] = 5;\n</code></pre>\n\n<p>in reverseArray method, it will make a change in array a.</p>\n\n<p>We have another reference variable in reverseArray method (array2) that points to an array c. If we were to say </p>\n\n<pre><code>array1 = array2;\n</code></pre>\n\n<p>in reverseArray method, then the reference variable array1 in method reverseArray would stop pointing to array a and start pointing to array c (Dotted line in second image).</p>\n\n<p>If we return value of reference variable array2 as the return value of method reverseArray and assign this value to reference variable array1 in main method, array1 in main will start pointing to array c.</p>\n\n<p>So let's write all the things we have done at once now.</p>\n\n<pre><code>public class Test\n{\n    public static int[] reverseArray(int[] array1)\n    {\n        int[] array2 = { -7, 0, -1 };\n\n        array1[0] = 5; // array a becomes 5, 10, -7\n\n        array1 = array2; /* array1 of reverseArray starts\n          pointing to c instead of a (not shown in image below) */\n        return array2;\n    }\n\n    public static void main(String[] args)\n    {\n        int[] array1 = { 1, 10, -7 };\n        int[] array2 = { 5, -190, 0 };\n\n        array1 = reverseArray(array1); /* array1 of \n         main starts pointing to c instead of a */\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5hRyX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5hRyX.png\" alt=\"enter image description here\"></a></p>\n\n<p>And now that reverseArray method is over, its reference variables(array1 and array2) are gone. Which means we now only have the two reference variables in main method array1 and array2 which point to c and b arrays respectively. No reference variable is pointing to object (array) a. So it is eligible for garbage collection.</p>\n\n<p>You could also assign value of array2 in main to array1. array1 would start pointing to b.</p>\n"},{"tags":[],"owner":{"account_id":6590996,"reputation":141,"user_id":5092157,"display_name":"asok"},"down_vote_count":4,"up_vote_count":12,"is_accepted":false,"score":8,"last_activity_date":1556155173,"creation_date":1526560906,"answer_id":50391764,"question_id":40480,"body_markdown":"Java is only passed by value. there is no pass by reference, for example, you can see the following example.\r\n\r\n\r\n\r\n\r\n\r\n    package com.asok.cop.example.task;\r\n    public class Example {\r\n    \tint data = 50;\r\n    \r\n    \tvoid change(int data) {\r\n    \t\tdata = data + 100;// changes will be in the local variable \r\n    \t\tSystem.out.println(&quot;after add &quot; + data);\r\n    \t\t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tExample op = new Example();\r\n    \t\tSystem.out.println(&quot;before change &quot; + op.data);\r\n    \t\top.change(500);\r\n    \t\tSystem.out.println(&quot;after change &quot; + op.data);\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    before change 50\r\n    after add 600\r\n    after change 50\r\n\r\nas Michael says in the comments:\r\n\r\n&gt; objects are still passed by value even though operations on them behave like pass-by-reference. Consider `void changePerson(Person person){ person = new Person(); }` the callers reference to the person object will remain unchanged. Objects themselves are passed by value but their members can be affected by changes. To be true pass-by-reference, we would have to be able to reassign the argument to a new object and have the change be reflected in the caller.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java is only passed by value. there is no pass by reference, for example, you can see the following example.</p>\n\n<pre><code>package com.asok.cop.example.task;\npublic class Example {\n    int data = 50;\n\n    void change(int data) {\n        data = data + 100;// changes will be in the local variable \n        System.out.println(\"after add \" + data);\n        }\n\n    public static void main(String args[]) {\n        Example op = new Example();\n        System.out.println(\"before change \" + op.data);\n        op.change(500);\n        System.out.println(\"after change \" + op.data);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>before change 50\nafter add 600\nafter change 50\n</code></pre>\n\n<p>as Michael says in the comments:</p>\n\n<blockquote>\n  <p>objects are still passed by value even though operations on them behave like pass-by-reference. Consider <code>void changePerson(Person person){ person = new Person(); }</code> the callers reference to the person object will remain unchanged. Objects themselves are passed by value but their members can be affected by changes. To be true pass-by-reference, we would have to be able to reassign the argument to a new object and have the change be reflected in the caller.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7256929,"reputation":48698,"user_id":5535245,"display_name":"georgeawg"},"down_vote_count":15,"up_vote_count":27,"is_accepted":false,"score":12,"last_activity_date":1534546478,"creation_date":1532533246,"answer_id":51522896,"question_id":40480,"body_markdown":"##Java passes primitive types by value and class types by reference\r\n\r\nNow, people like to bicker endlessly about whether &quot;pass by reference&quot; is the correct way to describe what Java et al. actually do. The point is this:\r\n\r\n0. Passing an object does not copy the object.\r\n0. An object passed to a function can have its members modified by the function.\r\n0. A primitive value passed to a function cannot be modified by the function. A copy is made.\r\n\r\nIn my book that&#39;s called passing by reference.\r\n\r\n&amp;#8212; [Brian Bi](https://www.quora.com/profile/Brian-Bi) - [Which programming languages are pass by reference?](https://www.quora.com/Which-programming-languages-are-pass-by-reference#)","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<h2>Java passes primitive types by value and class types by reference</h2>\n\n<p>Now, people like to bicker endlessly about whether \"pass by reference\" is the correct way to describe what Java et al. actually do. The point is this:</p>\n\n<ol>\n<li>Passing an object does not copy the object.</li>\n<li>An object passed to a function can have its members modified by the function.</li>\n<li>A primitive value passed to a function cannot be modified by the function. A copy is made.</li>\n</ol>\n\n<p>In my book that's called passing by reference.</p>\n\n<p>&#8212; <a href=\"https://www.quora.com/profile/Brian-Bi\" rel=\"noreferrer\">Brian Bi</a> - <a href=\"https://www.quora.com/Which-programming-languages-are-pass-by-reference#\" rel=\"noreferrer\">Which programming languages are pass by reference?</a></p>\n"},{"tags":[],"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"down_vote_count":1,"up_vote_count":112,"is_accepted":false,"score":111,"last_activity_date":1663706576,"creation_date":1548452250,"answer_id":54373107,"question_id":40480,"body_markdown":"There are already great answers that cover this. I wanted to make a small contribution by sharing a **very simple example** (which will compile) contrasting the behaviors between Pass-by-reference in c++ and Pass-by-value in Java.\r\n\r\nA few points:\r\n\r\n 1. The term &quot;reference&quot; is a overloaded with two separate meanings. In Java it simply means a pointer, but in the context of &quot;Pass-by-reference&quot; it means a handle to the original variable which was passed in.\r\n 2. **Java is Pass-by-value**. Java is a descendent of C (among other languages). Before C, several (but not all) earlier languages like FORTRAN and COBOL supported PBR, but C did not. PBR allowed these other languages to make changes to the passed variables inside sub-routines. In order to accomplish the same thing (i.e. change the values of variables inside functions), C programmers passed pointers to variables into functions. Languages inspired by C, such as Java, borrowed this idea and continue to pass pointer to methods as C did, except that Java calls its pointers References. Again, this is a different use of the word &quot;Reference&quot; than in &quot;Pass-By-Reference&quot;.\r\n 3. **C++ allows Pass-by-reference** by declaring a reference parameter using the &quot;&amp;&quot; character (which happens to be the same character used to indicate &quot;the address of a variable&quot; in both C and C++). For example, if we pass in a pointer by reference, the parameter and the argument are not just pointing to the same object. Rather, they are the same variable. If one gets set to a different address or to null, so does the other.\r\n 4. In the C++ example below I&#39;m passing a **pointer** to a null terminated string **by reference**. And in the Java example below I&#39;m passing a Java reference to a String (again, the same as a pointer to a String) by value. Notice the output in the comments.\r\n\r\nC++ pass by reference example:\r\n\r\n    using namespace std;\r\n    #include &lt;iostream&gt;\r\n    \r\n    void change (char *&amp;str){   // the &#39;&amp;&#39; makes this a reference parameter\r\n        str = NULL;\r\n    }\r\n    \r\n    int main()\r\n    {\r\n        char *str = &quot;not Null&quot;;\r\n        change(str);\r\n        cout&lt;&lt;&quot;str is &quot; &lt;&lt; str;      // ==&gt;str is &lt;null&gt;\r\n    }\r\n\r\nJava pass &quot;a Java reference&quot; by value example\r\n\r\n    public class ValueDemo{\r\n        \r\n        public void change (String str){\r\n            str = null;\r\n        }\r\n    \r\n         public static void main(String []args){\r\n            ValueDemo vd = new ValueDemo();\r\n            String str = &quot;not null&quot;;\r\n            vd.change(str);\r\n            System.out.println(&quot;str is &quot; + str);    // ==&gt; str is not null!!\r\n                                                    // Note that if &quot;str&quot; was\r\n                                                    // passed-by-reference, it\r\n                                                    // WOULD BE NULL after the\r\n                                                    // call to change().\r\n         }\r\n    }\r\n\r\n\r\n**EDIT**\r\n\r\nSeveral people have written comments which seem to indicate that either they are not looking at my examples or they don&#39;t get the c++ example. Not sure where the disconnect is, but guessing the c++ example is not clear. I&#39;m posting the same example in pascal because I think pass-by-reference looks cleaner in pascal, but I could be wrong. I might just be confusing people more; I hope not.\r\n\r\nIn pascal, parameters passed-by-reference are called &quot;var parameters&quot;. In the procedure setToNil below, please note the keyword &#39;var&#39; which precedes the parameter &#39;ptr&#39;. When a pointer is passed to this procedure, it will be passed **by reference**. Note the behavior: when this procedure sets ptr to nil (that&#39;s pascal speak for NULL), it will set the argument to nil--you can&#39;t do that in Java.\r\n\r\n    program passByRefDemo;\r\n    type \r\n       iptr = ^integer;\r\n    var\r\n       ptr: iptr;\r\n       \r\n       procedure setToNil(var ptr : iptr);\r\n       begin\r\n           ptr := nil;\r\n       end;\r\n    \r\n    begin\r\n       new(ptr);\r\n       ptr^ := 10;\r\n       setToNil(ptr);\r\n       if (ptr = nil) then\r\n           writeln(&#39;ptr seems to be nil&#39;);     { ptr should be nil, so this line will run. }\r\n    end.\r\n\r\n **EDIT 2**\r\n\r\nSome excerpts from **&quot;THE Java Programming Language&quot;** by Ken Arnold, **James Gosling (the guy who invented Java)**, and David Holmes, chapter 2, section 2.6.5\r\n\r\n&gt; **All parameters to methods are passed &quot;by value&quot;**. In other words,\r\n&gt; values of parameter variables in a method are copies of the invoker\r\n&gt; specified as arguments.\r\n\r\nHe goes on to make the same point regarding objects . . . \r\n\r\n&gt; You should note that when the parameter is an object reference, it is\r\n&gt; the object reference-not the object itself-that is **passed &quot;by value&quot;**.\r\n\r\nAnd towards the end of the same section he makes a broader statement about java being only pass by value and never pass by reference.\r\n\r\n&gt; The Java programming language **does not pass objects by reference; it**\r\n&gt; **passes object references by value**. Because two copies of the same\r\n&gt; reference refer to the same actual object, changes made through one\r\n&gt; reference variable are visible through the other. There is exactly one\r\n&gt; parameter passing mode-**pass by value**-and that helps keep things\r\n&gt; simple.\r\n\r\nThis section of the book has a great explanation of parameter passing in Java and of the distinction between pass-by-reference and pass-by-value and it&#39;s by the creator of Java. I would encourage anyone to read it, especially if you&#39;re still not convinced.\r\n\r\nI think the difference between the two models is very subtle and unless you&#39;ve done programming where you actually used pass-by-reference, it&#39;s easy to miss where two models differ.\r\n\r\nI hope this settles the debate, but probably won&#39;t.\r\n\r\n**EDIT 3**\r\n\r\nI might be a little obsessed with this post. Probably because I feel that the makers of Java inadvertently spread misinformation. If instead of using the word &quot;reference&quot; for pointers they had used something else, say \r\ndingleberry, there would&#39;ve been no problem. You could say, &quot;Java passes dingleberries by value and not by reference&quot;, and nobody would be confused.\r\n\r\nThat&#39;s the reason only Java developers have issue with this. They look at the word &quot;reference&quot; and think they know exactly what that means, so they don&#39;t even bother to consider the opposing argument.\r\n\r\nAnyway, I noticed a comment in an older post, which made a balloon analogy which I really liked. So much so that I decided to glue together some clip-art to make a set of cartoons to illustrate the point.\r\n\r\n**Passing a reference by value**--Changes to the reference are not reflected in the caller&#39;s scope, but the changes to the object are. This is because the reference is copied, but the both the original and the copy refer to the same object.\r\n[![Passing Object references By Value][2]][2]\r\n\r\n**Pass by reference**--There is no copy of the reference. Single reference is shared by both the caller and the function being called. Any changes to the reference or the Object&#39;s data are reflected in the caller&#39;s scope.\r\n[![Pass by reference][3]][3]\r\n\r\n**EDIT 4**\r\n\r\nI have seen posts on this topic which describe the low level implementation of parameter passing in Java, which I think is great and very helpful because it makes an abstract idea concrete. However, to me the question is more about **the behavior described in the language specification** than about the technical implementation of the behavior. This is an exerpt from the [Java Language Specification, section 8.4.1][4] :\r\n\r\n&gt; When the method or constructor is invoked (&#167;15.12), **the values of the\r\n&gt; actual argument expressions initialize newly created parameter\r\n&gt; variables, each of the declared type, before execution of the body of\r\n&gt; the method or constructor.** The Identifier that appears in the\r\n&gt; DeclaratorId may be used as a simple name in the body of the method or\r\n&gt; constructor to refer to the formal parameter.\r\n\r\nWhich means, java creates a copy of the passed parameters before executing a method. Like most people who studied compilers in college, I used [&quot;The Dragon Book&quot;][5] which is **THE** compilers book. It has a good description of &quot;Call-by-value&quot; and &quot;Call-by-Reference&quot; in Chapter 1. The Call-by-value description matches up with Java Specs exactly.\r\n\r\nBack when I studied compilers-in the 90&#39;s, I used the first edition of the book from 1986 which pre-dated Java by about 9 or 10 years. However, I just ran across a copy of the [2nd Eddition][6] from 2007 **which actually mentions Java!** Section 1.6.6 labeled &quot;Parameter Passing Mechanisms&quot; describes parameter passing pretty nicely. Here is an excerpt under the heading &quot;Call-by-value&quot; which mentions Java:\r\n\r\n&gt; In call-by-value, the actual parameter is evaluated (if it is an\r\n&gt; expression) or copied (if it is a variable). The value is placed in\r\n&gt; the location belonging to the corresponding formal parameter of the\r\n&gt; called procedure. **This method is used in C and Java, and is a common\r\n&gt; option in C++ , as well as in most other languages.**\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/208457/dhackner\r\n  [2]: https://i.stack.imgur.com/RvkqU.png\r\n  [3]: https://i.stack.imgur.com/SHXkC.png\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.4.1\r\n  [5]: https://www.amazon.com/Compilers-Principles-Techniques-Alfred-Aho/dp/0201100886/ref=sr_1_fkmr0_2?keywords=Compilers%3A%20Principles%2C%20Techniques%2C%20and%20Tools%201st%20Edition&amp;qid=1567178930&amp;s=digital-text&amp;sr=8-2-fkmr0\r\n  [6]: https://www.amazon.com/Compilers-Principles-Techniques-Alfred-Aho-ebook/dp/B009TGD06W","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>There are already great answers that cover this. I wanted to make a small contribution by sharing a <strong>very simple example</strong> (which will compile) contrasting the behaviors between Pass-by-reference in c++ and Pass-by-value in Java.</p>\n<p>A few points:</p>\n<ol>\n<li>The term &quot;reference&quot; is a overloaded with two separate meanings. In Java it simply means a pointer, but in the context of &quot;Pass-by-reference&quot; it means a handle to the original variable which was passed in.</li>\n<li><strong>Java is Pass-by-value</strong>. Java is a descendent of C (among other languages). Before C, several (but not all) earlier languages like FORTRAN and COBOL supported PBR, but C did not. PBR allowed these other languages to make changes to the passed variables inside sub-routines. In order to accomplish the same thing (i.e. change the values of variables inside functions), C programmers passed pointers to variables into functions. Languages inspired by C, such as Java, borrowed this idea and continue to pass pointer to methods as C did, except that Java calls its pointers References. Again, this is a different use of the word &quot;Reference&quot; than in &quot;Pass-By-Reference&quot;.</li>\n<li><strong>C++ allows Pass-by-reference</strong> by declaring a reference parameter using the &quot;&amp;&quot; character (which happens to be the same character used to indicate &quot;the address of a variable&quot; in both C and C++). For example, if we pass in a pointer by reference, the parameter and the argument are not just pointing to the same object. Rather, they are the same variable. If one gets set to a different address or to null, so does the other.</li>\n<li>In the C++ example below I'm passing a <strong>pointer</strong> to a null terminated string <strong>by reference</strong>. And in the Java example below I'm passing a Java reference to a String (again, the same as a pointer to a String) by value. Notice the output in the comments.</li>\n</ol>\n<p>C++ pass by reference example:</p>\n<pre><code>using namespace std;\n#include &lt;iostream&gt;\n\nvoid change (char *&amp;str){   // the '&amp;' makes this a reference parameter\n    str = NULL;\n}\n\nint main()\n{\n    char *str = &quot;not Null&quot;;\n    change(str);\n    cout&lt;&lt;&quot;str is &quot; &lt;&lt; str;      // ==&gt;str is &lt;null&gt;\n}\n</code></pre>\n<p>Java pass &quot;a Java reference&quot; by value example</p>\n<pre><code>public class ValueDemo{\n    \n    public void change (String str){\n        str = null;\n    }\n\n     public static void main(String []args){\n        ValueDemo vd = new ValueDemo();\n        String str = &quot;not null&quot;;\n        vd.change(str);\n        System.out.println(&quot;str is &quot; + str);    // ==&gt; str is not null!!\n                                                // Note that if &quot;str&quot; was\n                                                // passed-by-reference, it\n                                                // WOULD BE NULL after the\n                                                // call to change().\n     }\n}\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>Several people have written comments which seem to indicate that either they are not looking at my examples or they don't get the c++ example. Not sure where the disconnect is, but guessing the c++ example is not clear. I'm posting the same example in pascal because I think pass-by-reference looks cleaner in pascal, but I could be wrong. I might just be confusing people more; I hope not.</p>\n<p>In pascal, parameters passed-by-reference are called &quot;var parameters&quot;. In the procedure setToNil below, please note the keyword 'var' which precedes the parameter 'ptr'. When a pointer is passed to this procedure, it will be passed <strong>by reference</strong>. Note the behavior: when this procedure sets ptr to nil (that's pascal speak for NULL), it will set the argument to nil--you can't do that in Java.</p>\n<pre><code>program passByRefDemo;\ntype \n   iptr = ^integer;\nvar\n   ptr: iptr;\n   \n   procedure setToNil(var ptr : iptr);\n   begin\n       ptr := nil;\n   end;\n\nbegin\n   new(ptr);\n   ptr^ := 10;\n   setToNil(ptr);\n   if (ptr = nil) then\n       writeln('ptr seems to be nil');     { ptr should be nil, so this line will run. }\nend.\n</code></pre>\n<p><strong>EDIT 2</strong></p>\n<p>Some excerpts from <strong>&quot;THE Java Programming Language&quot;</strong> by Ken Arnold, <strong>James Gosling (the guy who invented Java)</strong>, and David Holmes, chapter 2, section 2.6.5</p>\n<blockquote>\n<p><strong>All parameters to methods are passed &quot;by value&quot;</strong>. In other words,\nvalues of parameter variables in a method are copies of the invoker\nspecified as arguments.</p>\n</blockquote>\n<p>He goes on to make the same point regarding objects . . .</p>\n<blockquote>\n<p>You should note that when the parameter is an object reference, it is\nthe object reference-not the object itself-that is <strong>passed &quot;by value&quot;</strong>.</p>\n</blockquote>\n<p>And towards the end of the same section he makes a broader statement about java being only pass by value and never pass by reference.</p>\n<blockquote>\n<p>The Java programming language <strong>does not pass objects by reference; it</strong>\n<strong>passes object references by value</strong>. Because two copies of the same\nreference refer to the same actual object, changes made through one\nreference variable are visible through the other. There is exactly one\nparameter passing mode-<strong>pass by value</strong>-and that helps keep things\nsimple.</p>\n</blockquote>\n<p>This section of the book has a great explanation of parameter passing in Java and of the distinction between pass-by-reference and pass-by-value and it's by the creator of Java. I would encourage anyone to read it, especially if you're still not convinced.</p>\n<p>I think the difference between the two models is very subtle and unless you've done programming where you actually used pass-by-reference, it's easy to miss where two models differ.</p>\n<p>I hope this settles the debate, but probably won't.</p>\n<p><strong>EDIT 3</strong></p>\n<p>I might be a little obsessed with this post. Probably because I feel that the makers of Java inadvertently spread misinformation. If instead of using the word &quot;reference&quot; for pointers they had used something else, say\ndingleberry, there would've been no problem. You could say, &quot;Java passes dingleberries by value and not by reference&quot;, and nobody would be confused.</p>\n<p>That's the reason only Java developers have issue with this. They look at the word &quot;reference&quot; and think they know exactly what that means, so they don't even bother to consider the opposing argument.</p>\n<p>Anyway, I noticed a comment in an older post, which made a balloon analogy which I really liked. So much so that I decided to glue together some clip-art to make a set of cartoons to illustrate the point.</p>\n<p><strong>Passing a reference by value</strong>--Changes to the reference are not reflected in the caller's scope, but the changes to the object are. This is because the reference is copied, but the both the original and the copy refer to the same object.\n<a href=\"https://i.stack.imgur.com/RvkqU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RvkqU.png\" alt=\"Passing Object references By Value\" /></a></p>\n<p><strong>Pass by reference</strong>--There is no copy of the reference. Single reference is shared by both the caller and the function being called. Any changes to the reference or the Object's data are reflected in the caller's scope.\n<a href=\"https://i.stack.imgur.com/SHXkC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SHXkC.png\" alt=\"Pass by reference\" /></a></p>\n<p><strong>EDIT 4</strong></p>\n<p>I have seen posts on this topic which describe the low level implementation of parameter passing in Java, which I think is great and very helpful because it makes an abstract idea concrete. However, to me the question is more about <strong>the behavior described in the language specification</strong> than about the technical implementation of the behavior. This is an exerpt from the <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.4.1\" rel=\"noreferrer\">Java Language Specification, section 8.4.1</a> :</p>\n<blockquote>\n<p>When the method or constructor is invoked (§15.12), <strong>the values of the\nactual argument expressions initialize newly created parameter\nvariables, each of the declared type, before execution of the body of\nthe method or constructor.</strong> The Identifier that appears in the\nDeclaratorId may be used as a simple name in the body of the method or\nconstructor to refer to the formal parameter.</p>\n</blockquote>\n<p>Which means, java creates a copy of the passed parameters before executing a method. Like most people who studied compilers in college, I used <a href=\"https://rads.stackoverflow.com/amzn/click/com/0201100886\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">&quot;The Dragon Book&quot;</a> which is <strong>THE</strong> compilers book. It has a good description of &quot;Call-by-value&quot; and &quot;Call-by-Reference&quot; in Chapter 1. The Call-by-value description matches up with Java Specs exactly.</p>\n<p>Back when I studied compilers-in the 90's, I used the first edition of the book from 1986 which pre-dated Java by about 9 or 10 years. However, I just ran across a copy of the <a href=\"https://rads.stackoverflow.com/amzn/click/com/B009TGD06W\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">2nd Eddition</a> from 2007 <strong>which actually mentions Java!</strong> Section 1.6.6 labeled &quot;Parameter Passing Mechanisms&quot; describes parameter passing pretty nicely. Here is an excerpt under the heading &quot;Call-by-value&quot; which mentions Java:</p>\n<blockquote>\n<p>In call-by-value, the actual parameter is evaluated (if it is an\nexpression) or copied (if it is a variable). The value is placed in\nthe location belonging to the corresponding formal parameter of the\ncalled procedure. <strong>This method is used in C and Java, and is a common\noption in C++ , as well as in most other languages.</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":929792,"reputation":3142,"user_id":959876,"display_name":"moldovean"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1556635845,"creation_date":1556635845,"answer_id":55923549,"question_id":40480,"body_markdown":"Long story short: \r\n\r\n1. Non-primitives: Java passes the *Value of the Reference*.  \r\n2. Primitives: just value. \r\n\r\nThe End.\r\n\r\n(2) is too easy. Now if you want to think of what (1) implies, imagine you have a class Apple:\r\n    \r\n    class Apple {\r\n        private double weight;\r\n        public Apple(double weight) {\r\n            this.weight = weight;\r\n        }\r\n        // getters and setters ...\r\n        \r\n    }\r\n\r\n\r\nthen when you pass an instance of this class to the main method:\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            Apple apple = new Apple(3.14);\r\n            transmogrify(apple);\r\n            System.out.println(apple.getWeight()+ &quot; the goose drank wine...&quot;;\r\n        \r\n        }\r\n\r\n        private static void transmogrify(Apple apple) {\r\n            // does something with apple ...\r\n            apple.setWeight(apple.getWeight()+0.55);\r\n        }\r\n    }\r\n\r\n\r\noh.. but you probably know that, you&#39;re interested in what happens when you do something like this:\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            Apple apple = new Apple(3.14);\r\n            transmogrify(apple);\r\n            System.out.println(&quot;Who ate my: &quot;+apple.getWeight()); // will it still be 3.14? \r\n        \r\n        }\r\n\r\n        private static void transmogrify(Apple apple) {\r\n            // assign a new apple to the reference passed...\r\n            apple = new Apple(2.71);\r\n        }\r\n\r\n\r\n    }","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Long story short: </p>\n\n<ol>\n<li>Non-primitives: Java passes the <em>Value of the Reference</em>.  </li>\n<li>Primitives: just value. </li>\n</ol>\n\n<p>The End.</p>\n\n<p>(2) is too easy. Now if you want to think of what (1) implies, imagine you have a class Apple:</p>\n\n<pre><code>class Apple {\n    private double weight;\n    public Apple(double weight) {\n        this.weight = weight;\n    }\n    // getters and setters ...\n\n}\n</code></pre>\n\n<p>then when you pass an instance of this class to the main method:</p>\n\n<pre><code>class Main {\n    public static void main(String[] args) {\n        Apple apple = new Apple(3.14);\n        transmogrify(apple);\n        System.out.println(apple.getWeight()+ \" the goose drank wine...\";\n\n    }\n\n    private static void transmogrify(Apple apple) {\n        // does something with apple ...\n        apple.setWeight(apple.getWeight()+0.55);\n    }\n}\n</code></pre>\n\n<p>oh.. but you probably know that, you're interested in what happens when you do something like this:</p>\n\n<pre><code>class Main {\n    public static void main(String[] args) {\n        Apple apple = new Apple(3.14);\n        transmogrify(apple);\n        System.out.println(\"Who ate my: \"+apple.getWeight()); // will it still be 3.14? \n\n    }\n\n    private static void transmogrify(Apple apple) {\n        // assign a new apple to the reference passed...\n        apple = new Apple(2.71);\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10944401,"reputation":189,"user_id":9892438,"display_name":"Amit Sharma"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1563340243,"creation_date":1563340243,"answer_id":57068881,"question_id":40480,"body_markdown":"**Java passes parameters by value, There is no option of passing a reference in Java.**\r\n\r\nBut at the complier binding level layer, It uses reference internally not exposed to the user.\r\n\r\nIt is essential as it saves a lot of memory and improves speed.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>Java passes parameters by value, There is no option of passing a reference in Java.</strong></p>\n\n<p>But at the complier binding level layer, It uses reference internally not exposed to the user.</p>\n\n<p>It is essential as it saves a lot of memory and improves speed.</p>\n"},{"tags":[],"owner":{"account_id":4912431,"reputation":51,"user_id":3957354,"display_name":"natwar kumar"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1567798215,"creation_date":1564199762,"answer_id":57229012,"question_id":40480,"body_markdown":"    public class Test {\r\n    \t\r\n    \tstatic class Dog {\r\n    \t\tString name;\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int hashCode() {\r\n    \t\t\tfinal int prime = 31;\r\n    \t\t\tint result = 1;\r\n    \t\t\tresult = prime * result + ((name == null) ? 0 : name.hashCode());\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean equals(Object obj) {\r\n    \t\t\tif (this == obj)\r\n    \t\t\t\treturn true;\r\n    \t\t\tif (obj == null)\r\n    \t\t\t\treturn false;\r\n    \t\t\tif (getClass() != obj.getClass())\r\n    \t\t\t\treturn false;\r\n    \t\t\tDog other = (Dog) obj;\r\n    \t\t\tif (name == null) {\r\n    \t\t\t\tif (other.name != null)\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t} else if (!name.equals(other.name))\r\n    \t\t\t\treturn false;\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getName() {\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setName(String nb) {\r\n    \t\t\tthis.name = nb;\r\n    \t\t}\r\n    \r\n    \t\tDog(String sd) {\r\n    \t\t\tthis.name = sd;\r\n    \t\t}\r\n    \t}\r\n        /**\r\n         * \r\n         * @param args\r\n         */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDog aDog = new Dog(&quot;Max&quot;);\r\n    \r\n    \t\t// we pass the object to foo\r\n    \t\tfoo(aDog);\r\n    \t\tDog oldDog = aDog;\r\n    \r\n    \t\tSystem.out.println(&quot; 1: &quot; + aDog.getName().equals(&quot;Max&quot;)); // false\r\n    \t\tSystem.out.println(&quot; 2 &quot; + aDog.getName().equals(&quot;huahua&quot;)); // false\r\n    \t\tSystem.out.println(&quot; 3 &quot; + aDog.getName().equals(&quot;moron&quot;)); // true\r\n    \t\tSystem.out.println(&quot; 4 &quot; + &quot; &quot; + (aDog == oldDog)); // true\r\n    \r\n    \t\t// part2\r\n    \t\tDog aDog1 = new Dog(&quot;Max&quot;);\r\n    \r\n    \t\tfoo(aDog1, 5);\r\n    \t\tDog oldDog1 = aDog;\r\n    \r\n    \t\tSystem.out.println(&quot; 5 : &quot; + aDog1.getName().equals(&quot;huahua&quot;)); // true\r\n    \t\tSystem.out.println(&quot; part2 : &quot; + (aDog1 == oldDog1)); // false\r\n    \r\n    \t\tDog oldDog2 = foo(aDog1, 5, 6);\r\n    \t\tSystem.out.println(&quot; 6 &quot; + (aDog1 == oldDog2)); // true\r\n    \t\tSystem.out.println(&quot; 7 &quot; + (aDog1 == oldDog)); // false\r\n    \t\tSystem.out.println(&quot; 8 &quot; + (aDog == oldDog2)); // false\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * \r\n    \t * @param d\r\n    \t */\r\n    \tpublic static void foo(Dog d) {\r\n    \t\tSystem.out.println(d.getName().equals(&quot;Max&quot;)); // true\r\n    \r\n    \t\td.setName(&quot;moron&quot;);\r\n    \r\n    \t\td = new Dog(&quot;huahua&quot;);\r\n    \t\tSystem.out.println(&quot; -:-  &quot; + d.getName().equals(&quot;huahua&quot;)); // true\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * \r\n    \t * @param d\r\n    \t * @param a\r\n    \t */\r\n    \tpublic static void foo(Dog d, int a) {\r\n    \t\td.getName().equals(&quot;Max&quot;); // true\r\n    \r\n    \t\td.setName(&quot;huahua&quot;);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * \r\n    \t * @param d\r\n    \t * @param a\r\n    \t * @param b\r\n    \t * @return\r\n    \t */\r\n    \tpublic static Dog foo(Dog d, int a, int b) {\r\n    \t\td.getName().equals(&quot;Max&quot;); // true\r\n    \t\td.setName(&quot;huahua&quot;);\r\n    \t\treturn d;\r\n    \t}\r\n    }\r\n\r\nThe sample code to demonstrate the impact of changes to the  object at different functions . ","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<pre><code>public class Test {\n\n    static class Dog {\n        String name;\n\n        @Override\n        public int hashCode() {\n            final int prime = 31;\n            int result = 1;\n            result = prime * result + ((name == null) ? 0 : name.hashCode());\n            return result;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            if (this == obj)\n                return true;\n            if (obj == null)\n                return false;\n            if (getClass() != obj.getClass())\n                return false;\n            Dog other = (Dog) obj;\n            if (name == null) {\n                if (other.name != null)\n                    return false;\n            } else if (!name.equals(other.name))\n                return false;\n            return true;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String nb) {\n            this.name = nb;\n        }\n\n        Dog(String sd) {\n            this.name = sd;\n        }\n    }\n    /**\n     * \n     * @param args\n     */\n    public static void main(String[] args) {\n        Dog aDog = new Dog(\"Max\");\n\n        // we pass the object to foo\n        foo(aDog);\n        Dog oldDog = aDog;\n\n        System.out.println(\" 1: \" + aDog.getName().equals(\"Max\")); // false\n        System.out.println(\" 2 \" + aDog.getName().equals(\"huahua\")); // false\n        System.out.println(\" 3 \" + aDog.getName().equals(\"moron\")); // true\n        System.out.println(\" 4 \" + \" \" + (aDog == oldDog)); // true\n\n        // part2\n        Dog aDog1 = new Dog(\"Max\");\n\n        foo(aDog1, 5);\n        Dog oldDog1 = aDog;\n\n        System.out.println(\" 5 : \" + aDog1.getName().equals(\"huahua\")); // true\n        System.out.println(\" part2 : \" + (aDog1 == oldDog1)); // false\n\n        Dog oldDog2 = foo(aDog1, 5, 6);\n        System.out.println(\" 6 \" + (aDog1 == oldDog2)); // true\n        System.out.println(\" 7 \" + (aDog1 == oldDog)); // false\n        System.out.println(\" 8 \" + (aDog == oldDog2)); // false\n    }\n\n    /**\n     * \n     * @param d\n     */\n    public static void foo(Dog d) {\n        System.out.println(d.getName().equals(\"Max\")); // true\n\n        d.setName(\"moron\");\n\n        d = new Dog(\"huahua\");\n        System.out.println(\" -:-  \" + d.getName().equals(\"huahua\")); // true\n    }\n\n    /**\n     * \n     * @param d\n     * @param a\n     */\n    public static void foo(Dog d, int a) {\n        d.getName().equals(\"Max\"); // true\n\n        d.setName(\"huahua\");\n    }\n\n    /**\n     * \n     * @param d\n     * @param a\n     * @param b\n     * @return\n     */\n    public static Dog foo(Dog d, int a, int b) {\n        d.getName().equals(\"Max\"); // true\n        d.setName(\"huahua\");\n        return d;\n    }\n}\n</code></pre>\n\n<p>The sample code to demonstrate the impact of changes to the  object at different functions . </p>\n"},{"tags":[],"owner":{"account_id":14174665,"reputation":323,"user_id":10240338,"display_name":"grindlewald"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1566505055,"creation_date":1566503229,"answer_id":57616177,"question_id":40480,"body_markdown":"First let&#39;s understand Memory allocation in Java:\r\nStack and Heap are part of Memory that JVM allocates for different purposes. The stack memory is pre-allocated to thread, when it is created, therefore, a thread cannot access the Stack of other thread. But Heap is available to all threads in a program.\r\n\r\nFor a thread, Stack stores all local data, metadata of program, primitive type data and object reference. And, Heap is responsible for storage of actual object.\r\n\r\n    Book book = new Book(&quot;Effective Java&quot;);\r\n\r\nIn the above example, the reference variable is &quot;book&quot; which is stored in stack. The instance created by new operator -&gt; new Book(&quot;Effective Java&quot;) is stored in Heap. The ref variable &quot;book&quot; has address of the object allocated in Heap. Let&#39;s say the address is 1001.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nConsider passing a primitive data type i.e. int, float, double etc.\r\n\r\n    public class PrimitiveTypeExample { \r\n        public static void main(string[] args) {\r\n           int num = 10;\r\n           System.out.println(&quot;Value before calling method: &quot; + num);\r\n           printNum(num);\r\n           System.out.println(&quot;Value after calling method: &quot; + num);\r\n        }\r\n        public static void printNum(int num){\r\n           num = num + 10;\r\n           System.out.println(&quot;Value inside printNum method: &quot; + num);\r\n        }\r\n    }\r\n\r\nOutput is:\r\nValue before calling method: 10\r\nValue inside printNum method: 20\r\nValue after calling method: 10\r\n\r\nint num =10; -&gt; this allocates the memory for &quot;int&quot; in Stack of the running thread, because, it is a primitive type.  Now when printNum(..) is called, a private stack is created within the same thread. When &quot;num&quot; is passed to this method, a copy of &quot;num&quot; is created in the method stack frame.\r\nnum = num+10; -&gt; this adds 10 and modifies the the int variable within the method stack frame.\r\nTherefore, the original num outside the method stack frame remains unchanged.\r\n\r\nConsider, the example of passing the object of a custom class as an argument.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn the above example, ref variable &quot;book&quot; resides in stack of thread executing the program, and the object of class Book is created in Heap space when program executes new Book(). This memory location in Heap is referred by &quot;book&quot;. When &quot;book&quot; is passed as method argument, a copy  of &quot;book&quot; is created in  private stack frame of method within the same stack of thread. Therefore, the copied reference variable points to the same object of class &quot;Book&quot; in the Heap.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe reference variable within method stack frame sets a new value to same object. Therefore, it is reflected when original ref variable &quot;book&quot; gets its value.\r\nNote that in case of passing reference variable, if it is initialized again in called method, it then points to new memory location and any operation does not affect the previous object in the Heap.\r\n\r\nTherefore, when anything is passed as method argument, it is always the Stack entity - either primitive or reference variable. We never pass something that is stored in Heap. Hence, in Java, we always pass the value in the stack, and it is pass by value.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uw7tE.png\r\n  [2]: https://i.stack.imgur.com/J1XRW.png\r\n  [3]: https://i.stack.imgur.com/ggqd5.png","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>First let's understand Memory allocation in Java:\nStack and Heap are part of Memory that JVM allocates for different purposes. The stack memory is pre-allocated to thread, when it is created, therefore, a thread cannot access the Stack of other thread. But Heap is available to all threads in a program.</p>\n\n<p>For a thread, Stack stores all local data, metadata of program, primitive type data and object reference. And, Heap is responsible for storage of actual object.</p>\n\n<pre><code>Book book = new Book(\"Effective Java\");\n</code></pre>\n\n<p>In the above example, the reference variable is \"book\" which is stored in stack. The instance created by new operator -> new Book(\"Effective Java\") is stored in Heap. The ref variable \"book\" has address of the object allocated in Heap. Let's say the address is 1001.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uw7tE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uw7tE.png\" alt=\"enter image description here\"></a></p>\n\n<p>Consider passing a primitive data type i.e. int, float, double etc.</p>\n\n<pre><code>public class PrimitiveTypeExample { \n    public static void main(string[] args) {\n       int num = 10;\n       System.out.println(\"Value before calling method: \" + num);\n       printNum(num);\n       System.out.println(\"Value after calling method: \" + num);\n    }\n    public static void printNum(int num){\n       num = num + 10;\n       System.out.println(\"Value inside printNum method: \" + num);\n    }\n}\n</code></pre>\n\n<p>Output is:\nValue before calling method: 10\nValue inside printNum method: 20\nValue after calling method: 10</p>\n\n<p>int num =10; -> this allocates the memory for \"int\" in Stack of the running thread, because, it is a primitive type.  Now when printNum(..) is called, a private stack is created within the same thread. When \"num\" is passed to this method, a copy of \"num\" is created in the method stack frame.\nnum = num+10; -> this adds 10 and modifies the the int variable within the method stack frame.\nTherefore, the original num outside the method stack frame remains unchanged.</p>\n\n<p>Consider, the example of passing the object of a custom class as an argument.</p>\n\n<p><a href=\"https://i.stack.imgur.com/J1XRW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/J1XRW.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the above example, ref variable \"book\" resides in stack of thread executing the program, and the object of class Book is created in Heap space when program executes new Book(). This memory location in Heap is referred by \"book\". When \"book\" is passed as method argument, a copy  of \"book\" is created in  private stack frame of method within the same stack of thread. Therefore, the copied reference variable points to the same object of class \"Book\" in the Heap.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ggqd5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ggqd5.png\" alt=\"enter image description here\"></a></p>\n\n<p>The reference variable within method stack frame sets a new value to same object. Therefore, it is reflected when original ref variable \"book\" gets its value.\nNote that in case of passing reference variable, if it is initialized again in called method, it then points to new memory location and any operation does not affect the previous object in the Heap.</p>\n\n<p>Therefore, when anything is passed as method argument, it is always the Stack entity - either primitive or reference variable. We never pass something that is stored in Heap. Hence, in Java, we always pass the value in the stack, and it is pass by value.</p>\n"},{"tags":[],"owner":{"account_id":16238087,"reputation":59,"user_id":11725130,"display_name":"Rose"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569053347,"creation_date":1569053347,"answer_id":58038425,"question_id":40480,"body_markdown":"I think this simple explanation might help you understand as I wanted to understand this same thing when I was struggling through this.\r\n\r\nWhen you pass a primitive data to a function call it&#39;s content is being copied to the function&#39;s argument and when you pass an object it&#39;s reference is being copied to the function&#39;s argument. Speaking of object, you can&#39;t change the copied reference-*the argument variable is referencing to* in the calling function.\r\n\r\nConsider this simple example, String is an object in java and when you change the content of a string the reference variable will now point to some new reference as String objects are immutable in java.\r\n```java\r\nString name=&quot;Mehrose&quot;;  // name referencing to 100\r\n\r\nChangeContenet(String name){\r\n name=&quot;Michael&quot;; // refernce has changed to 1001\r\n\r\n} \r\nSystem.out.print(name);  //displays Mehrose\r\n```\r\nFairly simple because as I mentioned you are not allowed to change the copied reference in the calling function. But the problem is with the array when you pass an array of String/Object. Let us see.\r\n```java\r\nString names[]={&quot;Mehrose&quot;,&quot;Michael&quot;};\r\n\r\nchangeContent(String[] names){\r\n  names[0]=&quot;Rose&quot;;\r\n  names[1]=&quot;Janet&quot;\r\n\r\n}\r\n\r\nSystem.out.println(Arrays.toString(names)); //displays [Rose,Janet]\r\n```\r\nAs we said that we can&#39;t change the copied reference in the function call and we also have seen in the case of a single String object. The reason is names[] variable referencing to let&#39;s say 200 and names[0] referencing to 205 and so on. You see we didn&#39;t change the names[] reference it still points to the old same reference still after the function call but now names[0] and names[1] reference has been changed. We Still stand on our definition that we can&#39;t change the reference variable&#39;s reference so we didn&#39;t.\r\n\r\nThe same thing happens when you pass a Student object to a method and you are still able to change the Student name or other attributes, the point is we are not changing the actual Student object rather we are changing the contents of it\r\n\r\nYou can&#39;t do this\r\n```java\r\nStudent student1= new Student(&quot;Mehrose&quot;);\r\n\r\nchangeContent(Student Obj){\r\n obj= new Student(&quot;Michael&quot;) //invalid\r\n obj.setName(&quot;Michael&quot;)  //valid\r\n\r\n}\r\n```","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I think this simple explanation might help you understand as I wanted to understand this same thing when I was struggling through this.</p>\n\n<p>When you pass a primitive data to a function call it's content is being copied to the function's argument and when you pass an object it's reference is being copied to the function's argument. Speaking of object, you can't change the copied reference-<em>the argument variable is referencing to</em> in the calling function.</p>\n\n<p>Consider this simple example, String is an object in java and when you change the content of a string the reference variable will now point to some new reference as String objects are immutable in java.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String name=\"Mehrose\";  // name referencing to 100\n\nChangeContenet(String name){\n name=\"Michael\"; // refernce has changed to 1001\n\n} \nSystem.out.print(name);  //displays Mehrose\n</code></pre>\n\n<p>Fairly simple because as I mentioned you are not allowed to change the copied reference in the calling function. But the problem is with the array when you pass an array of String/Object. Let us see.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String names[]={\"Mehrose\",\"Michael\"};\n\nchangeContent(String[] names){\n  names[0]=\"Rose\";\n  names[1]=\"Janet\"\n\n}\n\nSystem.out.println(Arrays.toString(names)); //displays [Rose,Janet]\n</code></pre>\n\n<p>As we said that we can't change the copied reference in the function call and we also have seen in the case of a single String object. The reason is names[] variable referencing to let's say 200 and names[0] referencing to 205 and so on. You see we didn't change the names[] reference it still points to the old same reference still after the function call but now names[0] and names[1] reference has been changed. We Still stand on our definition that we can't change the reference variable's reference so we didn't.</p>\n\n<p>The same thing happens when you pass a Student object to a method and you are still able to change the Student name or other attributes, the point is we are not changing the actual Student object rather we are changing the contents of it</p>\n\n<p>You can't do this</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Student student1= new Student(\"Mehrose\");\n\nchangeContent(Student Obj){\n obj= new Student(\"Michael\") //invalid\n obj.setName(\"Michael\")  //valid\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10719390,"reputation":2290,"user_id":7888956,"display_name":"Chathuran D"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1578034062,"creation_date":1572924323,"answer_id":58704042,"question_id":40480,"body_markdown":"A: Java does manipulate objects by reference, and all object variables are references. However, Java doesn&#39;t pass method arguments by reference; it passes them by value.\r\n\r\nTake the badSwap() method for example:\r\n\r\n    public void badSwap(int var1, int var2)\r\n    {\r\n      int temp = var1;\r\n      var1 = var2;\r\n      var2 = temp;\r\n    }\r\n\r\nWhen badSwap() returns, the variables passed as arguments will still hold their original values. The method will also fail if we change the arguments type from int to Object, since Java passes object references by value as well. Now, here is where it gets tricky:\r\n\r\n    public void tricky(Point arg1, Point arg2)\r\n    {\r\n      arg1.x = 100;\r\n      arg1.y = 100;\r\n      Point temp = arg1;\r\n      arg1 = arg2;\r\n      arg2 = temp;\r\n    }\r\n    public static void main(String [] args)\r\n    {\r\n      Point pnt1 = new Point(0,0);\r\n      Point pnt2 = new Point(0,0);\r\n      System.out.println(&quot;X: &quot; + pnt1.x + &quot; Y: &quot; +pnt1.y); \r\n      System.out.println(&quot;X: &quot; + pnt2.x + &quot; Y: &quot; +pnt2.y);\r\n      System.out.println(&quot; &quot;);\r\n      tricky(pnt1,pnt2);\r\n      System.out.println(&quot;X: &quot; + pnt1.x + &quot; Y:&quot; + pnt1.y); \r\n      System.out.println(&quot;X: &quot; + pnt2.x + &quot; Y: &quot; +pnt2.y);  \r\n    }\r\n\r\nIf we execute this main() method, we see the following output:\r\n\r\n    X: 0 Y: 0\r\n    X: 0 Y: 0\r\n    X: 100 Y: 100\r\n    X: 0 Y: 0\r\n\r\nThe method successfully alters the value of pnt1, even though it is passed by value; however, a swap of pnt1 and pnt2 fails! This is the major source of confusion. In the main() method, pnt1 and pnt2 are nothing more than object references. When you pass pnt1 and pnt2 to the tricky() method, Java passes the references by value just like any other parameter. This means the references passed to the method are actually copies of the original references. Figure 1 below shows two references pointing to the same object after Java passes an object to a method.\r\n\r\n[![enter image description here][1]][1]  \r\nFigure 1. After being passed to a method, an object will have at least two references\r\n\r\nJava copies and passes the reference by value, not the object. Thus, method manipulation will alter the objects, since the references point to the original objects. But since the references are copies, swaps will fail.The method references swap, but not the original references. Unfortunately, after a method call, you are left with only the unswapped original references. For a swap to succeed outside of the method call, we need to swap the original references, not the copies.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wLEj7.png","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>A: Java does manipulate objects by reference, and all object variables are references. However, Java doesn't pass method arguments by reference; it passes them by value.</p>\n\n<p>Take the badSwap() method for example:</p>\n\n<pre><code>public void badSwap(int var1, int var2)\n{\n  int temp = var1;\n  var1 = var2;\n  var2 = temp;\n}\n</code></pre>\n\n<p>When badSwap() returns, the variables passed as arguments will still hold their original values. The method will also fail if we change the arguments type from int to Object, since Java passes object references by value as well. Now, here is where it gets tricky:</p>\n\n<pre><code>public void tricky(Point arg1, Point arg2)\n{\n  arg1.x = 100;\n  arg1.y = 100;\n  Point temp = arg1;\n  arg1 = arg2;\n  arg2 = temp;\n}\npublic static void main(String [] args)\n{\n  Point pnt1 = new Point(0,0);\n  Point pnt2 = new Point(0,0);\n  System.out.println(\"X: \" + pnt1.x + \" Y: \" +pnt1.y); \n  System.out.println(\"X: \" + pnt2.x + \" Y: \" +pnt2.y);\n  System.out.println(\" \");\n  tricky(pnt1,pnt2);\n  System.out.println(\"X: \" + pnt1.x + \" Y:\" + pnt1.y); \n  System.out.println(\"X: \" + pnt2.x + \" Y: \" +pnt2.y);  \n}\n</code></pre>\n\n<p>If we execute this main() method, we see the following output:</p>\n\n<pre><code>X: 0 Y: 0\nX: 0 Y: 0\nX: 100 Y: 100\nX: 0 Y: 0\n</code></pre>\n\n<p>The method successfully alters the value of pnt1, even though it is passed by value; however, a swap of pnt1 and pnt2 fails! This is the major source of confusion. In the main() method, pnt1 and pnt2 are nothing more than object references. When you pass pnt1 and pnt2 to the tricky() method, Java passes the references by value just like any other parameter. This means the references passed to the method are actually copies of the original references. Figure 1 below shows two references pointing to the same object after Java passes an object to a method.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wLEj7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wLEj7.png\" alt=\"enter image description here\"></a><br>\nFigure 1. After being passed to a method, an object will have at least two references</p>\n\n<p>Java copies and passes the reference by value, not the object. Thus, method manipulation will alter the objects, since the references point to the original objects. But since the references are copies, swaps will fail.The method references swap, but not the original references. Unfortunately, after a method call, you are left with only the unswapped original references. For a swap to succeed outside of the method call, we need to swap the original references, not the copies.</p>\n"},{"tags":[],"owner":{"account_id":7183993,"reputation":407,"user_id":5486740,"accept_rate":80,"display_name":"Mr.Robot"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1607379643,"creation_date":1581283803,"answer_id":60141523,"question_id":40480,"body_markdown":"I see that all answers contain the same: pass by value. However, a recent Brian Goetz update on project Valhalla actually answers it differently:\r\n&gt; Indeed, it is a common “gotcha” question about whether Java objects are passed by value or by reference, and **the answer is “neither”: object references are passed by value.**\r\n\r\nYou can read more here: [State of Valhalla. Section 2: Language Model][1]\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~briangoetz/valhalla/sov/02-object-model.html\r\n\r\n**Edit:** Brian Goetz is Java Language Architect, leading such projects as Project Valhalla and Project Amber.\r\n\r\n**Edit-2020-12-08**: Updated [State of Valhalla](https://github.com/openjdk/valhalla-docs/blob/main/site/design-notes/state-of-valhalla/02-object-model.md)","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I see that all answers contain the same: pass by value. However, a recent Brian Goetz update on project Valhalla actually answers it differently:</p>\n<blockquote>\n<p>Indeed, it is a common “gotcha” question about whether Java objects are passed by value or by reference, and <strong>the answer is “neither”: object references are passed by value.</strong></p>\n</blockquote>\n<p>You can read more here: <a href=\"http://cr.openjdk.java.net/%7Ebriangoetz/valhalla/sov/02-object-model.html\" rel=\"noreferrer\">State of Valhalla. Section 2: Language Model</a></p>\n<p><strong>Edit:</strong> Brian Goetz is Java Language Architect, leading such projects as Project Valhalla and Project Amber.</p>\n<p><strong>Edit-2020-12-08</strong>: Updated <a href=\"https://github.com/openjdk/valhalla-docs/blob/main/site/design-notes/state-of-valhalla/02-object-model.md\" rel=\"noreferrer\">State of Valhalla</a></p>\n"},{"tags":[],"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1608653158,"creation_date":1602296852,"answer_id":64289407,"question_id":40480,"body_markdown":"I&#39;d say it in another way:\r\n\r\nIn java references are passed (but not objects) and these references are passed-by-value  (the reference itself is copied and you have 2 references as a result and you have no control under the 1st reference in the method). \r\n\r\nJust saying: pass-by-value might be not clear enough for beginners. For instance in Python the same situation but there are articles, which describe that they call it `pass-by-reference`, only cause references are used.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I'd say it in another way:</p>\n<p>In java references are passed (but not objects) and these references are passed-by-value  (the reference itself is copied and you have 2 references as a result and you have no control under the 1st reference in the method).</p>\n<p>Just saying: pass-by-value might be not clear enough for beginners. For instance in Python the same situation but there are articles, which describe that they call it <code>pass-by-reference</code>, only cause references are used.</p>\n"},{"tags":[],"owner":{"account_id":8808403,"reputation":290,"user_id":6582191,"display_name":"Duleepa Wickramasinghe"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1603002530,"creation_date":1602990961,"answer_id":64409378,"question_id":40480,"body_markdown":"**Java always passes parameters by value.** \r\n&lt;br&gt;All object references in Java are passed by value. This means that a copy of the value will be passed to a method. But the trick is that passing a copy of the value also changes the real value of the object.\r\n\r\nPlease refer to the below example,\r\n\r\n    public class ObjectReferenceExample {\r\n    \r\n    \tpublic static void main(String... doYourBest) {\r\n        \t    Student student = new Student();\r\n        \t    transformIntoHomer(student);\r\n        \t    System.out.println(student.name);\r\n    \t}\r\n    \r\n    \tstatic void transformIntoDuleepa(Student student) {\r\n        \t    student.name = &quot;Duleepa&quot;;\r\n    \t}\r\n    }\r\n    class Student {\r\n    \tString name;\r\n    }\r\n\r\nIn this case, it will be Duleepa! \r\n&lt;br&gt;The reason is that Java object variables are simply references that point to real objects in the memory heap.\r\nTherefore, even though Java passes parameters to methods by value, if the variable points to an object reference, the real object will also be changed.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>Java always passes parameters by value.</strong>\n<br>All object references in Java are passed by value. This means that a copy of the value will be passed to a method. But the trick is that passing a copy of the value also changes the real value of the object.</p>\n<p>Please refer to the below example,</p>\n<pre><code>public class ObjectReferenceExample {\n\n    public static void main(String... doYourBest) {\n            Student student = new Student();\n            transformIntoHomer(student);\n            System.out.println(student.name);\n    }\n\n    static void transformIntoDuleepa(Student student) {\n            student.name = &quot;Duleepa&quot;;\n    }\n}\nclass Student {\n    String name;\n}\n</code></pre>\n<p>In this case, it will be Duleepa!\n<br>The reason is that Java object variables are simply references that point to real objects in the memory heap.\nTherefore, even though Java passes parameters to methods by value, if the variable points to an object reference, the real object will also be changed.</p>\n"},{"tags":[],"owner":{"account_id":16488689,"reputation":481,"user_id":11913248,"display_name":"Pallav Khare"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1681585326,"creation_date":1605982662,"answer_id":64946506,"question_id":40480,"body_markdown":"Java is always pass by value, not pass by reference\r\n\r\nFirst of all, we need to understand what pass by value and pass by reference are.\r\n\r\n**Pass by value** means that you are making a copy in memory of the actual parameter&#39;s value that is passed in. This is a copy of the contents of the actual parameter.\r\n\r\n**Pass by reference** (also called pass by address) means that a copy of the address of the actual parameter is stored.\r\n\r\nSometimes Java can give the illusion of pass by reference. Let&#39;s see how it works by using the example below:\r\n\r\n    public class PassByValue {\r\n        public static void main(String[] args) {\r\n            Test t = new Test();\r\n            t.name = &quot;initialvalue&quot;;\r\n            new PassByValue().changeValue(t);\r\n            System.out.println(t.name);\r\n        }\r\n        \r\n        public void changeValue(Test f) {\r\n            f.name = &quot;changevalue&quot;;\r\n        }\r\n    }\r\n    \r\n    class Test {\r\n        String name;\r\n    }\r\n\r\nThe output of this program is:\r\n\r\n```\r\nchangevalue\r\n```\r\nLet&#39;s understand step by step:\r\n\r\n\r\n    Test t = new Test();\r\n\r\nAs we all know it will create an object in the heap and return the reference value back to t. For example, suppose the value of t is 0x100234 (we don&#39;t know the actual JVM internal value, this is just an example) .\r\n\r\nfirst illustration\r\n\r\n    new PassByValue().changeValue(t);\r\n\r\nWhen passing reference t to the function it will not directly pass the actual reference value of object test, but it will create a copy of t and then pass it to the function. Since it is passing by value, it passes a copy of the variable rather than the actual reference of it. Since we said the value of t was 0x100234, both t and f will have the same value and hence they will point to the same object.\r\n\r\nsecond illustration\r\n\r\nIf you change anything in the function using reference f it will modify the existing contents of the object. That is why we got the output changevalue, which is updated in the function.\r\n\r\nTo understand this more clearly, consider the following example:\r\n\r\n    public class PassByValue {\r\n        public static void main(String[] args) {\r\n            Test t = new Test();\r\n            t.name = &quot;initialvalue&quot;;\r\n            new PassByValue().changeRefence(t);\r\n            System.out.println(t.name);\r\n        }\r\n        \r\n        public void changeRefence(Test f) {\r\n            f = null;\r\n        }\r\n    }\r\n    \r\n    class Test {\r\n        String name;\r\n    }\r\n\r\nWill this throw a NullPointerException? No, because it only passes a copy of the reference. In the case of passing by reference, it could have thrown a NullPointerException, as seen below:\r\n\r\nthird illustration\r\n\r\nHopefully this will help.\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java is always pass by value, not pass by reference</p>\n<p>First of all, we need to understand what pass by value and pass by reference are.</p>\n<p><strong>Pass by value</strong> means that you are making a copy in memory of the actual parameter's value that is passed in. This is a copy of the contents of the actual parameter.</p>\n<p><strong>Pass by reference</strong> (also called pass by address) means that a copy of the address of the actual parameter is stored.</p>\n<p>Sometimes Java can give the illusion of pass by reference. Let's see how it works by using the example below:</p>\n<pre><code>public class PassByValue {\n    public static void main(String[] args) {\n        Test t = new Test();\n        t.name = &quot;initialvalue&quot;;\n        new PassByValue().changeValue(t);\n        System.out.println(t.name);\n    }\n    \n    public void changeValue(Test f) {\n        f.name = &quot;changevalue&quot;;\n    }\n}\n\nclass Test {\n    String name;\n}\n</code></pre>\n<p>The output of this program is:</p>\n<pre><code>changevalue\n</code></pre>\n<p>Let's understand step by step:</p>\n<pre><code>Test t = new Test();\n</code></pre>\n<p>As we all know it will create an object in the heap and return the reference value back to t. For example, suppose the value of t is 0x100234 (we don't know the actual JVM internal value, this is just an example) .</p>\n<p>first illustration</p>\n<pre><code>new PassByValue().changeValue(t);\n</code></pre>\n<p>When passing reference t to the function it will not directly pass the actual reference value of object test, but it will create a copy of t and then pass it to the function. Since it is passing by value, it passes a copy of the variable rather than the actual reference of it. Since we said the value of t was 0x100234, both t and f will have the same value and hence they will point to the same object.</p>\n<p>second illustration</p>\n<p>If you change anything in the function using reference f it will modify the existing contents of the object. That is why we got the output changevalue, which is updated in the function.</p>\n<p>To understand this more clearly, consider the following example:</p>\n<pre><code>public class PassByValue {\n    public static void main(String[] args) {\n        Test t = new Test();\n        t.name = &quot;initialvalue&quot;;\n        new PassByValue().changeRefence(t);\n        System.out.println(t.name);\n    }\n    \n    public void changeRefence(Test f) {\n        f = null;\n    }\n}\n\nclass Test {\n    String name;\n}\n</code></pre>\n<p>Will this throw a NullPointerException? No, because it only passes a copy of the reference. In the case of passing by reference, it could have thrown a NullPointerException, as seen below:</p>\n<p>third illustration</p>\n<p>Hopefully this will help.</p>\n"},{"tags":[],"owner":{"account_id":12239426,"reputation":1851,"user_id":8932910,"display_name":"jack"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1609016307,"creation_date":1609015769,"answer_id":65460603,"question_id":40480,"body_markdown":"Not to repeat, but one point to those who might still be confused after reading many answers:\r\n\r\n- `pass by value` in Java is **NOT EQUAL** to `pass by value` in C++, though it sounds like that, which is probably why there&#39;s confusion\r\n\r\nBreaking it down:\r\n- `pass by value` in C++ means passing the value of the object (if object), literarily the copy of the object\r\n- `pass by value` in Java means passing the address value of the object (if object), not really the &quot;value&quot; (a copy) of the object like C++\r\n- By `pass by value` in Java, operating on an object (e.g. `myObj.setName(&quot;new&quot;)`) inside a function **has effects** on the object outside the function; by `pass by value` in C++, it has **NO** effects on the one outside.\r\n- However, by `pass by reference` in C++, operating on an object in a function **DOES** have effects on the one outside! Similar (_just similar, not the same_) to `pass by value` in Java, no?.. and people always repeat &quot;_there&#39;s no pass by reference in Java_&quot;, =&gt; **BOOM, confusion starts...**\r\n\r\nSo, friends, all is just about the **difference** of terminology definition (across languages), you just need to know how it works and that&#39;s it (_though sometimes a bit confusing how it&#39;s called I admit_)!","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Not to repeat, but one point to those who might still be confused after reading many answers:</p>\n<ul>\n<li><code>pass by value</code> in Java is <strong>NOT EQUAL</strong> to <code>pass by value</code> in C++, though it sounds like that, which is probably why there's confusion</li>\n</ul>\n<p>Breaking it down:</p>\n<ul>\n<li><code>pass by value</code> in C++ means passing the value of the object (if object), literarily the copy of the object</li>\n<li><code>pass by value</code> in Java means passing the address value of the object (if object), not really the &quot;value&quot; (a copy) of the object like C++</li>\n<li>By <code>pass by value</code> in Java, operating on an object (e.g. <code>myObj.setName(&quot;new&quot;)</code>) inside a function <strong>has effects</strong> on the object outside the function; by <code>pass by value</code> in C++, it has <strong>NO</strong> effects on the one outside.</li>\n<li>However, by <code>pass by reference</code> in C++, operating on an object in a function <strong>DOES</strong> have effects on the one outside! Similar (<em>just similar, not the same</em>) to <code>pass by value</code> in Java, no?.. and people always repeat &quot;<em>there's no pass by reference in Java</em>&quot;, =&gt; <strong>BOOM, confusion starts...</strong></li>\n</ul>\n<p>So, friends, all is just about the <strong>difference</strong> of terminology definition (across languages), you just need to know how it works and that's it (<em>though sometimes a bit confusing how it's called I admit</em>)!</p>\n"},{"tags":[],"owner":{"account_id":6458850,"reputation":115,"user_id":5003351,"display_name":"&#246;mer.bozkurt"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1615036933,"creation_date":1615036933,"answer_id":66506089,"question_id":40480,"body_markdown":"If you want it to put into a single sentence to understand and remember easily, simplest answer:\r\n\r\nJava is always **pass the value with a new reference**\r\n\r\n(So you can modify the original object but can not access the original reference) ","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>If you want it to put into a single sentence to understand and remember easily, simplest answer:</p>\n<p>Java is always <strong>pass the value with a new reference</strong></p>\n<p>(So you can modify the original object but can not access the original reference)</p>\n"},{"tags":[],"owner":{"account_id":5095326,"reputation":262,"user_id":4086871,"display_name":"charles"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615903798,"creation_date":1615170277,"answer_id":66523582,"question_id":40480,"body_markdown":"Here a more precise definition:\r\n\r\n - **Pass/call by value:** Formal parameter is like a local variable in\r\n   scope of function, it evaluates to actual parameter at the moment of\r\n   function call.\r\n - **Pass/call by reference:** Formal parameter is just a alias for the real\r\n   value, any change of it in the scope of function can have side\r\n   effects outside in any other part of code.\r\n\r\nSo in C/C++ you can create a function that swaps two values passed using the references:\r\n\r\n    void swap(int&amp; a, int&amp; b) \r\n    {\r\n        int tmp = a; \r\n        a = b; \r\n        b = tmp; \r\n    }\r\n\r\nYou can see it has a unique reference to a and b, so we do not have a copy, tmp just hold unique references.\r\n\r\nThe same function in java does not have side effects, the parameter passing is just like the code above without references.\r\n\r\nAlthough java work with pointers/references, the parameters are not unique pointers, in each attribution, they are copied instead just assigned like C/C++","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Here a more precise definition:</p>\n<ul>\n<li><strong>Pass/call by value:</strong> Formal parameter is like a local variable in\nscope of function, it evaluates to actual parameter at the moment of\nfunction call.</li>\n<li><strong>Pass/call by reference:</strong> Formal parameter is just a alias for the real\nvalue, any change of it in the scope of function can have side\neffects outside in any other part of code.</li>\n</ul>\n<p>So in C/C++ you can create a function that swaps two values passed using the references:</p>\n<pre><code>void swap(int&amp; a, int&amp; b) \n{\n    int tmp = a; \n    a = b; \n    b = tmp; \n}\n</code></pre>\n<p>You can see it has a unique reference to a and b, so we do not have a copy, tmp just hold unique references.</p>\n<p>The same function in java does not have side effects, the parameter passing is just like the code above without references.</p>\n<p>Although java work with pointers/references, the parameters are not unique pointers, in each attribution, they are copied instead just assigned like C/C++</p>\n"},{"tags":[],"owner":{"account_id":17244505,"reputation":235,"user_id":12486085,"display_name":"Alex de Kruijff"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1615875128,"creation_date":1615872298,"answer_id":66649532,"question_id":40480,"body_markdown":"There are only two versions:\r\n- You can pass the value i.e. (4,5)\r\n- You can pass an address i.e. 0xF43A\r\n\r\nJava passes primivates as values and objects as addresses. Those who say, &quot;address are values too&quot;, do not make a distinction between the two. Those who focus on the effect of the swap functions focus on what happens after the passing is done.\r\n\r\nIn C++ you can do the following:\r\n\r\n    Point p = Point(4,5);\r\n\r\nThis reserves 8 bytes on the stack and stores (4,5) in it.\r\n\r\n    Point *x = &amp;p;\r\n\r\nThis reserves 4 bytes on the stack and stores 0xF43A in it.\r\n\r\n    Point &amp;y = p;\r\n\r\nThis reserves 4 bytes on the stack and stores 0xF43A in it.\r\n\r\n1. I think everyone will agree that a call to f(p) is a pass-by-value if the definition of f is f(Point p). In this case an additional 8 bytes being reserved and (4,5) being copied into it. When f changes p the the the original is guarantieed to be unchanged when f returns.\r\n\r\n2. I think that everyone will agree that a call to f(p) is a pass-by-reference if the definition of f is f(Point &amp;p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes p the the original is guarantieed to be changed when f returns.\r\n\r\n3. A call to f(&amp;p) is also pass-by-reference if the definition of f is f(Point *p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes *p the the original is guarantieed to be changed when f returns.\r\n\r\n4. A call to f(x) is also pass-by-reference if the definition of f is f(Point *p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes *p the the original is guarantieed to be changed when f returns.\r\n\r\n5. A call to f(y) is also pass-by-reference if the definition of f is f(Point &amp;p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes p the the original is guarantieed to be changed when f returns.\r\n\r\nSure what happens after the passing is done differs, but that is only a language construct. In the case of pointer you have to use -&gt; to access the members and in the case of references you have to use .. If you want to swap the values of the original then you can do tmp=a; a=b; b=tmp; in the case of references and tmp=*a; *b=tmp; *a=tmp for pointers. And in Java you would have do: tmp.set(a); a.set(b); b.set(tmp). Focussing on the assignment statement statement is silly. You can do the exact same thing in Java if you write a little bit of code.\r\n\r\nSo Java passes primivates by values and objects by references. And Java copy values to achieve that, but so does C++.\r\n\r\nFor completeness:\r\n\r\n    Point p = new Point(4,5);\r\n\r\nThis reserves 4 bytes on the stack and stores 0xF43A in it and reserves 8 bytes on the heap and stores (4,5) in it.\r\n\r\nIf you want to swap the memory locations like so\r\n\r\n    void swap(int&amp; a, int&amp; b) {\r\n        int *tmp = &amp;a;\r\n        &amp;a = &amp;b;\r\n        &amp;b = tmp;\r\n    }\r\n\r\nThen you will find that you run into the limitations of your hardware.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>There are only two versions:</p>\n<ul>\n<li>You can pass the value i.e. (4,5)</li>\n<li>You can pass an address i.e. 0xF43A</li>\n</ul>\n<p>Java passes primivates as values and objects as addresses. Those who say, &quot;address are values too&quot;, do not make a distinction between the two. Those who focus on the effect of the swap functions focus on what happens after the passing is done.</p>\n<p>In C++ you can do the following:</p>\n<pre><code>Point p = Point(4,5);\n</code></pre>\n<p>This reserves 8 bytes on the stack and stores (4,5) in it.</p>\n<pre><code>Point *x = &amp;p;\n</code></pre>\n<p>This reserves 4 bytes on the stack and stores 0xF43A in it.</p>\n<pre><code>Point &amp;y = p;\n</code></pre>\n<p>This reserves 4 bytes on the stack and stores 0xF43A in it.</p>\n<ol>\n<li><p>I think everyone will agree that a call to f(p) is a pass-by-value if the definition of f is f(Point p). In this case an additional 8 bytes being reserved and (4,5) being copied into it. When f changes p the the the original is guarantieed to be unchanged when f returns.</p>\n</li>\n<li><p>I think that everyone will agree that a call to f(p) is a pass-by-reference if the definition of f is f(Point &amp;p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes p the the original is guarantieed to be changed when f returns.</p>\n</li>\n<li><p>A call to f(&amp;p) is also pass-by-reference if the definition of f is f(Point *p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes *p the the original is guarantieed to be changed when f returns.</p>\n</li>\n<li><p>A call to f(x) is also pass-by-reference if the definition of f is f(Point *p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes *p the the original is guarantieed to be changed when f returns.</p>\n</li>\n<li><p>A call to f(y) is also pass-by-reference if the definition of f is f(Point &amp;p). In this case an additional 4 bytes being reserved and 0xF43A being copied into it. When f changes p the the original is guarantieed to be changed when f returns.</p>\n</li>\n</ol>\n<p>Sure what happens after the passing is done differs, but that is only a language construct. In the case of pointer you have to use -&gt; to access the members and in the case of references you have to use .. If you want to swap the values of the original then you can do tmp=a; a=b; b=tmp; in the case of references and tmp=*a; *b=tmp; *a=tmp for pointers. And in Java you would have do: tmp.set(a); a.set(b); b.set(tmp). Focussing on the assignment statement statement is silly. You can do the exact same thing in Java if you write a little bit of code.</p>\n<p>So Java passes primivates by values and objects by references. And Java copy values to achieve that, but so does C++.</p>\n<p>For completeness:</p>\n<pre><code>Point p = new Point(4,5);\n</code></pre>\n<p>This reserves 4 bytes on the stack and stores 0xF43A in it and reserves 8 bytes on the heap and stores (4,5) in it.</p>\n<p>If you want to swap the memory locations like so</p>\n<pre><code>void swap(int&amp; a, int&amp; b) {\n    int *tmp = &amp;a;\n    &amp;a = &amp;b;\n    &amp;b = tmp;\n}\n</code></pre>\n<p>Then you will find that you run into the limitations of your hardware.</p>\n"},{"tags":[],"owner":{"account_id":3454738,"reputation":5356,"user_id":2893496,"accept_rate":85,"display_name":"v010dya"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1619191948,"creation_date":1619191948,"answer_id":67232841,"question_id":40480,"body_markdown":"Every single answer here is tying to take pass pointer by reference from other languages and show how it is impossible to do in Java. For whatever reason nobody is attempting to show how to implement pass-object-by-value from other languages.\r\n\r\nThis code shows how something like this can be done:\r\n\r\n    public class Test\r\n    {\r\n    \tprivate static void needValue(SomeObject so) throws CloneNotSupportedException\r\n    \t{\r\n    \t\tSomeObject internalObject = so.clone();\r\n    \t\tso=null;\r\n    \t\t\r\n    \t\t// now we can edit internalObject safely.\r\n    \t\tinternalObject.set(999);\r\n    \t}\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tSomeObject o = new SomeObject(5);\r\n    \t\tSystem.out.println(o);\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tneedValue(o);\r\n    \t\t}\r\n    \t\tcatch(CloneNotSupportedException e)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Apparently we cannot clone this&quot;);\r\n    \t\t}\r\n    \t\tSystem.out.println(o);\r\n    \t}\r\n    }\r\n    \r\n    public class SomeObject implements Cloneable\r\n    {\r\n    \tprivate int val;\r\n    \tpublic SomeObject(int val)\r\n    \t{\r\n    \t\tthis.val = val;\r\n    \t}\r\n    \tpublic void set(int val)\r\n    \t{\r\n    \t\tthis.val = val;\r\n    \t}\r\n    \tpublic SomeObject clone()\r\n    \t{\r\n    \t\treturn new SomeObject(val);\r\n    \t}\r\n    \tpublic String toString()\r\n    \t{\r\n    \t\treturn Integer.toString(val);\r\n    \t}\r\n    }\r\n\r\nHere we have a function `needValue` and what it does is right away create a clone of the object, which needs be implemented in the class of the object itself and the class needs to be marked as `Cloneable`. It is not essential to set `so` to `null` after that, but i have done so here to show that we are not going to be using that reference after that.\r\n\r\nIt may well be that Java does not have pass-by-reference semantics, but to call the language &quot;pass-by-value&quot; is along the lines of wishful thinking.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Every single answer here is tying to take pass pointer by reference from other languages and show how it is impossible to do in Java. For whatever reason nobody is attempting to show how to implement pass-object-by-value from other languages.</p>\n<p>This code shows how something like this can be done:</p>\n<pre><code>public class Test\n{\n    private static void needValue(SomeObject so) throws CloneNotSupportedException\n    {\n        SomeObject internalObject = so.clone();\n        so=null;\n        \n        // now we can edit internalObject safely.\n        internalObject.set(999);\n    }\n    public static void main(String[] args)\n    {\n        SomeObject o = new SomeObject(5);\n        System.out.println(o);\n        try\n        {\n            needValue(o);\n        }\n        catch(CloneNotSupportedException e)\n        {\n            System.out.println(&quot;Apparently we cannot clone this&quot;);\n        }\n        System.out.println(o);\n    }\n}\n\npublic class SomeObject implements Cloneable\n{\n    private int val;\n    public SomeObject(int val)\n    {\n        this.val = val;\n    }\n    public void set(int val)\n    {\n        this.val = val;\n    }\n    public SomeObject clone()\n    {\n        return new SomeObject(val);\n    }\n    public String toString()\n    {\n        return Integer.toString(val);\n    }\n}\n</code></pre>\n<p>Here we have a function <code>needValue</code> and what it does is right away create a clone of the object, which needs be implemented in the class of the object itself and the class needs to be marked as <code>Cloneable</code>. It is not essential to set <code>so</code> to <code>null</code> after that, but i have done so here to show that we are not going to be using that reference after that.</p>\n<p>It may well be that Java does not have pass-by-reference semantics, but to call the language &quot;pass-by-value&quot; is along the lines of wishful thinking.</p>\n"},{"tags":[],"owner":{"account_id":1015802,"reputation":353,"user_id":1027385,"display_name":"frostcs"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619590671,"creation_date":1619590671,"answer_id":67294696,"question_id":40480,"body_markdown":"**For simplicity and verbosity**\r\nIts `pass reference by value`:\r\n\r\n    public static void main(String[] args) {\r\n        Dog aDog = new Dog(&quot;Max&quot;);\r\n        Dog oldDog = aDog;\r\n    \r\n        // we pass the object to foo\r\n        foo(aDog);\r\n        // aDog variable is still pointing to the &quot;Max&quot; dog when foo(...) returns\r\n        aDog.getName().equals(&quot;Max&quot;); // true\r\n        aDog.getName().equals(&quot;Fifi&quot;); // false\r\n        aDog == oldDog; // true\r\n    }\r\n    \r\n    public static void foo(Dog d) {\r\n        d.getName().equals(&quot;Max&quot;); // true\r\n        // change d inside of foo() to point to a new Dog instance &quot;Fifi&quot;\r\n        d = new Dog(&quot;Fifi&quot;);\r\n        d.getName().equals(&quot;Fifi&quot;); // true\r\n    }\r\n\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>For simplicity and verbosity</strong>\nIts <code>pass reference by value</code>:</p>\n<pre><code>public static void main(String[] args) {\n    Dog aDog = new Dog(&quot;Max&quot;);\n    Dog oldDog = aDog;\n\n    // we pass the object to foo\n    foo(aDog);\n    // aDog variable is still pointing to the &quot;Max&quot; dog when foo(...) returns\n    aDog.getName().equals(&quot;Max&quot;); // true\n    aDog.getName().equals(&quot;Fifi&quot;); // false\n    aDog == oldDog; // true\n}\n\npublic static void foo(Dog d) {\n    d.getName().equals(&quot;Max&quot;); // true\n    // change d inside of foo() to point to a new Dog instance &quot;Fifi&quot;\n    d = new Dog(&quot;Fifi&quot;);\n    d.getName().equals(&quot;Fifi&quot;); // true\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11716557,"reputation":72,"user_id":8576876,"display_name":"Wellington Costa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628782189,"creation_date":1628782189,"answer_id":68760297,"question_id":40480,"body_markdown":"Java uses pass-by-value, but the effects differ whether you are using primitive or a reference type.\r\n\r\nWhen you pass a primitive type as an argument to a method, it&#39;s getting a copy of the primitive and any changes inside the block of the method won&#39;t change the original variable.\r\n\r\nWhen you pass a reference type as an argument to a method, it&#39;s still getting a copy but it&#39;s a copy of the reference to the object **(in other words, you are getting a copy of the memory address in the heap where the object is located)**, so any changes in the object inside the block of the method will affect the original object outside the block.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>Java uses pass-by-value, but the effects differ whether you are using primitive or a reference type.</p>\n<p>When you pass a primitive type as an argument to a method, it's getting a copy of the primitive and any changes inside the block of the method won't change the original variable.</p>\n<p>When you pass a reference type as an argument to a method, it's still getting a copy but it's a copy of the reference to the object <strong>(in other words, you are getting a copy of the memory address in the heap where the object is located)</strong>, so any changes in the object inside the block of the method will affect the original object outside the block.</p>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":5,"up_vote_count":7,"is_accepted":false,"score":2,"last_activity_date":1630847354,"creation_date":1630846627,"answer_id":69063599,"question_id":40480,"body_markdown":"**Guess, the common canon is wrong based on inaccurate language**\r\n\r\nAuthors of a programming language do not have the authority to rename established programming concept.\r\n\r\nPrimitive Java types &lt;code&gt;byte, char, short, int, long float, double&lt;/code&gt; are definitely passed by value.\r\n\r\nAll other types are &lt;code&gt;Objects&lt;/code&gt;: Object members and parameters technically **are  references**. \r\n\r\nSo these &quot;references&quot; are passed &quot;by value&quot;, but there occurs no object construction on the stack. Any change of object members (or elements in case of an array) apply to the same original Object; such reference precisely meets the logic of pointer of an instance passed to some function in any C-dialect, where we used to call this **passing an object by reference**\r\n\r\nEspecially we do have this thing **java.lang.NullPointerException**, which makes no sense in a pure by-value-concept ","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p><strong>Guess, the common canon is wrong based on inaccurate language</strong></p>\n<p>Authors of a programming language do not have the authority to rename established programming concept.</p>\n<p>Primitive Java types <code>byte, char, short, int, long float, double</code> are definitely passed by value.</p>\n<p>All other types are <code>Objects</code>: Object members and parameters technically <strong>are  references</strong>.</p>\n<p>So these &quot;references&quot; are passed &quot;by value&quot;, but there occurs no object construction on the stack. Any change of object members (or elements in case of an array) apply to the same original Object; such reference precisely meets the logic of pointer of an instance passed to some function in any C-dialect, where we used to call this <strong>passing an object by reference</strong></p>\n<p>Especially we do have this thing <strong>java.lang.NullPointerException</strong>, which makes no sense in a pure by-value-concept</p>\n"},{"tags":[],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1678961477,"creation_date":1678961477,"answer_id":75754745,"question_id":40480,"body_markdown":"There are already many answers to this question, and many of them are misleading.\r\n\r\n**There are two simple statements which explain how Java behaves in all cases:**\r\n\r\n1. Java is a pass by value language\r\n2. Fundamental types are direct values, Java Objects are indirect values\r\n\r\nWhat does this mean?\r\n\r\n- If you have a fundamental type like an `int`, you literally are holding a value. A variable when initialized to an int value &quot;contains&quot; that value directly. If you pass it to a function, a copy of the value is made in the variable which holds the argument to the function. This variable is called a &quot;parameter&quot;. *Hence Java is a pass-by-Value language*.\r\n- A variable initialized to be a Java Object (recall everything else in the language inherits from `Object`) holds an indirect reference to a structure of data containing the Objects data. The variable is a *label*, rather than holding the value directly, it contains a label which is used to reference or lookup an objects data.\r\n\r\nNote I am not describing implementation details above. The implementation details could be anything. I am simply describing the *behaviour* of the language.\r\n\r\n----\r\n\r\nSome further explanation as to why I think other answers are confusing or misleading.\r\n\r\n- Some answers mention the word &quot;pointers&quot;. This means the answer is fundamentally wrong because Java was **deliberatly designed to not have pointer semantics**. *There are no pointers in Java, they fundamentally do not exist, hence there is no concept of them.*\r\n\r\nTherefore to even mention pointers is wrong. The implementation details of the JVM might use data which is akin to virtual memory addresses, **but this is totally hidden from the user of the Java language**. That is the point of programming languages, to abstract the programmer away from hardware details. With languages like C and C++, pointers are a key focus of the language because it was designed for systems engineering where detailed control over memory is required.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>There are already many answers to this question, and many of them are misleading.</p>\n<p><strong>There are two simple statements which explain how Java behaves in all cases:</strong></p>\n<ol>\n<li>Java is a pass by value language</li>\n<li>Fundamental types are direct values, Java Objects are indirect values</li>\n</ol>\n<p>What does this mean?</p>\n<ul>\n<li>If you have a fundamental type like an <code>int</code>, you literally are holding a value. A variable when initialized to an int value &quot;contains&quot; that value directly. If you pass it to a function, a copy of the value is made in the variable which holds the argument to the function. This variable is called a &quot;parameter&quot;. <em>Hence Java is a pass-by-Value language</em>.</li>\n<li>A variable initialized to be a Java Object (recall everything else in the language inherits from <code>Object</code>) holds an indirect reference to a structure of data containing the Objects data. The variable is a <em>label</em>, rather than holding the value directly, it contains a label which is used to reference or lookup an objects data.</li>\n</ul>\n<p>Note I am not describing implementation details above. The implementation details could be anything. I am simply describing the <em>behaviour</em> of the language.</p>\n<hr />\n<p>Some further explanation as to why I think other answers are confusing or misleading.</p>\n<ul>\n<li>Some answers mention the word &quot;pointers&quot;. This means the answer is fundamentally wrong because Java was <strong>deliberatly designed to not have pointer semantics</strong>. <em>There are no pointers in Java, they fundamentally do not exist, hence there is no concept of them.</em></li>\n</ul>\n<p>Therefore to even mention pointers is wrong. The implementation details of the JVM might use data which is akin to virtual memory addresses, <strong>but this is totally hidden from the user of the Java language</strong>. That is the point of programming languages, to abstract the programmer away from hardware details. With languages like C and C++, pointers are a key focus of the language because it was designed for systems engineering where detailed control over memory is required.</p>\n"},{"tags":[],"owner":{"account_id":2016836,"reputation":155,"user_id":3521337,"display_name":"Fuad Efendi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689686295,"creation_date":1688316721,"answer_id":76599916,"question_id":40480,"body_markdown":"&quot;Functional&quot; Definitions:\r\n\r\n - **pas-by-value** - reassigning of a method argument is not visible to the caller\r\n - **pass-by-reference** - reassigning of a method argument is visible to the caller\r\n\r\nJava is always **pass-by-value**.\r\n\r\nhttps://www.linkedin.com/pulse/java-pass-by-value-pass-by-reference-fuad-efendi/\r\n\r\n\r\nP.S. \r\nWe just need to improve slightly our intuitive &quot;definitions&quot; of &quot;address of an object&quot; vs. &quot;an object&quot; and focus more on functionality. I hope provided definitions are applicable not only to Java.","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>&quot;Functional&quot; Definitions:</p>\n<ul>\n<li><strong>pas-by-value</strong> - reassigning of a method argument is not visible to the caller</li>\n<li><strong>pass-by-reference</strong> - reassigning of a method argument is visible to the caller</li>\n</ul>\n<p>Java is always <strong>pass-by-value</strong>.</p>\n<p><a href=\"https://www.linkedin.com/pulse/java-pass-by-value-pass-by-reference-fuad-efendi/\" rel=\"nofollow noreferrer\">https://www.linkedin.com/pulse/java-pass-by-value-pass-by-reference-fuad-efendi/</a></p>\n<p>P.S.\nWe just need to improve slightly our intuitive &quot;definitions&quot; of &quot;address of an object&quot; vs. &quot;an object&quot; and focus more on functionality. I hope provided definitions are applicable not only to Java.</p>\n"}],"owner":{"account_id":3050,"reputation":4775,"user_id":4315,"display_name":"user4315"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2669098,"favorite_count":0,"down_vote_count":29,"up_vote_count":7786,"answer_count":91,"score":7757,"last_activity_date":1700819158,"creation_date":1220386469,"question_id":40480,"body_markdown":"I always thought Java uses **pass-by-reference**. However, I read [a blog post][1] which claims that Java uses **pass-by-value**. I don&#39;t think I understand the distinction the author is making.\r\n\r\nWhat is the explanation?\r\n\r\n  [1]: http://javadude.com/articles/passbyvalue.htm\r\n","title":"Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?","body":"<p>I always thought Java uses <strong>pass-by-reference</strong>. However, I read <a href=\"http://javadude.com/articles/passbyvalue.htm\" rel=\"noreferrer\">a blog post</a> which claims that Java uses <strong>pass-by-value</strong>. I don't think I understand the distinction the author is making.</p>\n<p>What is the explanation?</p>\n"},{"tags":["java","spring-boot","ssl","resttemplate","mutual-authentication"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1700762731,"post_id":77537332,"comment_id":136696886,"body_markdown":"Postman (normally) ignores server cert errors so the fact you can do a request in postman doesn&#39;t mean it&#39;s correct. Try `keytool -list -keystore serverCA.p12` and see if it _shows_ the correct cert(s). If not make sure the p12 is created using Java (usually keytool) -- Java uses a special bag attribute for trusted certs that other software doesn&#39;t support.","body":"Postman (normally) ignores server cert errors so the fact you can do a request in postman doesn&#39;t mean it&#39;s correct. Try <code>keytool -list -keystore serverCA.p12</code> and see if it <i>shows</i> the correct cert(s). If not make sure the p12 is created using Java (usually keytool) -- Java uses a special bag attribute for trusted certs that other software doesn&#39;t support."},{"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"score":0,"creation_date":1700814737,"post_id":77537332,"comment_id":136701682,"body_markdown":"Postman let you choose in the settings if the server cert should be validated or not. In my case I activated the validation. But you may have a point with the p12 file. In Postman i loaded the server cert as .pem. In my SpringBoot app, i had to convert the .pem into a .p12. with openssl, so that i can have the client cert and the server cert in the same sslBundle. Maybe something wrent wrong in this process.","body":"Postman let you choose in the settings if the server cert should be validated or not. In my case I activated the validation. But you may have a point with the p12 file. In Postman i loaded the server cert as .pem. In my SpringBoot app, i had to convert the .pem into a .p12. with openssl, so that i can have the client cert and the server cert in the same sslBundle. Maybe something wrent wrong in this process."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1701040431,"post_id":77537332,"comment_id":136722426,"body_markdown":"If you mean something like `openssl pkcs12 -export -in cert(s).pem -nokeys -out some.p12` that does not create the bag attribute I described and thus will not be treated by Java as a trustedcert.","body":"If you mean something like <code>openssl pkcs12 -export -in cert(s).pem -nokeys -out some.p12</code> that does not create the bag attribute I described and thus will not be treated by Java as a trustedcert."}],"answers":[{"tags":[],"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700819006,"creation_date":1700819006,"answer_id":77542138,"question_id":77537332,"body_markdown":"as it was suggested in the comments, using keytool instead of openssl for the conversion of the .crt server cert into a .p12 solved my problem.\r\n\r\nSo, yes it is ok to pack keystore and trustore in the same bundle as i did, and we should use keytool if a conversion is needed to produce the .p12 file. \r\n\r\n","title":"mutualTLS with SpringBoot SslBundles and RestTemplate","body":"<p>as it was suggested in the comments, using keytool instead of openssl for the conversion of the .crt server cert into a .p12 solved my problem.</p>\n<p>So, yes it is ok to pack keystore and trustore in the same bundle as i did, and we should use keytool if a conversion is needed to produce the .p12 file.</p>\n"}],"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700819006,"creation_date":1700746721,"question_id":77537332,"body_markdown":"I have a SpringBoot Application (client) that makes REST calls to an external service (server). The communication between client and server should be secured with mutual TLS. So in this setting we need a client certificate in our keystore and a CA certificate for the server in our truststore.  \r\n\r\nWhen I importe this certificate material in Postman, i can successfully make requests. Meaning: the certificates are valid.\r\n\r\nNevertheless so far, I couldn&#39;t make it work in SpringBoot. I&#39;d like to take advantage of the SslBundles introduced by SpringBoot 3.1\r\n\r\nI defined a bundle with both keystore and truststore: \r\n\r\n````yml\r\nspring:\r\n  ssl:\r\n    bundle:\r\n      jks:\r\n        mySslBundle:\r\n          keystore:\r\n            location: &quot;classpath:path/to/clientCert.p12&quot;\r\n            password: &quot;PW&quot;\r\n            type: &quot;PKCS12&quot;\r\n          truststore:\r\n            location: &quot;classpath:path/to/serverCA.p12&quot;\r\n            password: &quot;PW&quot;\r\n            type: &quot;PKCS12&quot;\r\n````\r\n\r\nthen I can bind this bundle to the RestTemplate:\r\n\r\n````java\r\n@Configuration\r\npublic class RestTemplateConfig {\r\n\r\n  @Bean(name = &quot;fooRestTemplate&quot;)\r\n  public RestTemplate createFooRestTemplate(RestTemplateBuilder restTemplateBuilder,\r\n      SslBundles sslBundles) {\r\n    return restTemplateBuilder\r\n        .setSslBundle(sslBundles.getBundle(&quot;mySslBundle&quot;))\r\n        .build();\r\n  }\r\n\r\n}\r\n````\r\n\r\nWhen the client sends request to the server within the application, I get following error:\r\n\r\n    Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\n\r\nIn Postman, i had to load the server cert as .pem file. \r\nIn my SpringBoot app, i converted the .pem file into a .p12 with openssl. I did that so that both client cert and server cert are p12 file and can be imported in the same sslBunde. Is this the right approach to import keystore and trustore in the same bundle ? \r\n\r\nAny clue appreciated. \r\n\r\n","title":"mutualTLS with SpringBoot SslBundles and RestTemplate","body":"<p>I have a SpringBoot Application (client) that makes REST calls to an external service (server). The communication between client and server should be secured with mutual TLS. So in this setting we need a client certificate in our keystore and a CA certificate for the server in our truststore.</p>\n<p>When I importe this certificate material in Postman, i can successfully make requests. Meaning: the certificates are valid.</p>\n<p>Nevertheless so far, I couldn't make it work in SpringBoot. I'd like to take advantage of the SslBundles introduced by SpringBoot 3.1</p>\n<p>I defined a bundle with both keystore and truststore:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  ssl:\n    bundle:\n      jks:\n        mySslBundle:\n          keystore:\n            location: &quot;classpath:path/to/clientCert.p12&quot;\n            password: &quot;PW&quot;\n            type: &quot;PKCS12&quot;\n          truststore:\n            location: &quot;classpath:path/to/serverCA.p12&quot;\n            password: &quot;PW&quot;\n            type: &quot;PKCS12&quot;\n</code></pre>\n<p>then I can bind this bundle to the RestTemplate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class RestTemplateConfig {\n\n  @Bean(name = &quot;fooRestTemplate&quot;)\n  public RestTemplate createFooRestTemplate(RestTemplateBuilder restTemplateBuilder,\n      SslBundles sslBundles) {\n    return restTemplateBuilder\n        .setSslBundle(sslBundles.getBundle(&quot;mySslBundle&quot;))\n        .build();\n  }\n\n}\n</code></pre>\n<p>When the client sends request to the server within the application, I get following error:</p>\n<pre><code>Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n</code></pre>\n<p>In Postman, i had to load the server cert as .pem file.\nIn my SpringBoot app, i converted the .pem file into a .p12 with openssl. I did that so that both client cert and server cert are p12 file and can be imported in the same sslBunde. Is this the right approach to import keystore and trustore in the same bundle ?</p>\n<p>Any clue appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-jdbc"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1660174849,"post_id":73312803,"comment_id":129473643,"body_markdown":"Error likely has you looking in the wrong spots. Your entity def won’t be the problem, it will be somewhere else referencing a com.lms.entity.Role. The exception mentions a basic collection mapping, so check your other entities and class’ mappings","body":"Error likely has you looking in the wrong spots. Your entity def won’t be the problem, it will be somewhere else referencing a com.lms.entity.Role. The exception mentions a basic collection mapping, so check your other entities and class’ mappings"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1660193988,"post_id":73312803,"comment_id":129476232,"body_markdown":"Hibernate 6.1 doesn&#39;t work with Spring Boot 2.7. Imho you are managing too much, you probably have Spring Data Jpa as a dependency (which already pulls in hibernate). Remove your explicit management for the hibernate dependencies.","body":"Hibernate 6.1 doesn&#39;t work with Spring Boot 2.7. Imho you are managing too much, you probably have Spring Data Jpa as a dependency (which already pulls in hibernate). Remove your explicit management for the hibernate dependencies."},{"owner":{"account_id":8932542,"reputation":101,"user_id":6664626,"display_name":"Bryce"},"score":0,"creation_date":1660238077,"post_id":73312803,"comment_id":129491487,"body_markdown":"@Chris: That was another thought of mine because I literally copied and pasted another entity in this class file and it wasn&#39;t working either. I tried looking around to other class mappings but didn&#39;t see anything wrong with it.","body":"@Chris: That was another thought of mine because I literally copied and pasted another entity in this class file and it wasn&#39;t working either. I tried looking around to other class mappings but didn&#39;t see anything wrong with it."},{"owner":{"account_id":8932542,"reputation":101,"user_id":6664626,"display_name":"Bryce"},"score":0,"creation_date":1660238097,"post_id":73312803,"comment_id":129491494,"body_markdown":"@M.Deinum: You&#39;re right that I did have Spring Data JPA as a dependency. I didn&#39;t know it pulled in hibernate, so thank you. I removed the hibernate dependency and receive the error of &quot;A component required a bean named &#39;entityManagerFactory&#39; that could not be found.&quot;","body":"@M.Deinum: You&#39;re right that I did have Spring Data JPA as a dependency. I didn&#39;t know it pulled in hibernate, so thank you. I removed the hibernate dependency and receive the error of &quot;A component required a bean named &#39;entityManagerFactory&#39; that could not be found.&quot;"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1660285375,"post_id":73312803,"comment_id":129500791,"body_markdown":"That would be strange, could you ask that in a new question and provide the stacktrace as well as a list of your dependencies (i.e. add your `pom.xml`).","body":"That would be strange, could you ask that in a new question and provide the stacktrace as well as a list of your dependencies (i.e. add your <code>pom.xml</code>)."},{"owner":{"account_id":8932542,"reputation":101,"user_id":6664626,"display_name":"Bryce"},"score":0,"creation_date":1660857299,"post_id":73312803,"comment_id":129639305,"body_markdown":"Sorry, I was on vacation @M.Deinum.\n\nWhat I ended up doing was refactor my code and commented my RoleEnum class out. I had previously a class within a public class within my other public class for the filterChain that I since refactored to not be a subclass (again inexperience with Spring, this is why I&#39;m learning!)\n\nWhen I did some other refactors, I uncommented the RoleEnum and RoleRepository classes and the error was not thrown. Unfortunately, I won&#39;t be able to recreate the error. If I do run across it, I will make sure to create a new post! Thanks for y&#39;all&#39;s help!","body":"Sorry, I was on vacation @M.Deinum.  What I ended up doing was refactor my code and commented my RoleEnum class out. I had previously a class within a public class within my other public class for the filterChain that I since refactored to not be a subclass (again inexperience with Spring, this is why I&#39;m learning!)  When I did some other refactors, I uncommented the RoleEnum and RoleRepository classes and the error was not thrown. Unfortunately, I won&#39;t be able to recreate the error. If I do run across it, I will make sure to create a new post! Thanks for y&#39;all&#39;s help!"}],"answers":[{"tags":[],"owner":{"account_id":19129071,"reputation":101,"user_id":13971407,"display_name":"jayson mulwa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667819952,"creation_date":1667819952,"answer_id":74345747,"question_id":73312803,"body_markdown":"I had a similar error. Not really a dependency issue.\r\n```\r\norg.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for com.payment.Payment\r\n```\r\n\r\nIn my case, I found that Payment entity has a relationship with other entities, and was in fact used elsewhere.\r\n\r\nThe Error was fixed by removing this instances of the entity used in other entities, hence not &quot;confusing&quot; Hibernate on how to create Payment entity.","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>I had a similar error. Not really a dependency issue.</p>\n<pre><code>org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for com.payment.Payment\n</code></pre>\n<p>In my case, I found that Payment entity has a relationship with other entities, and was in fact used elsewhere.</p>\n<p>The Error was fixed by removing this instances of the entity used in other entities, hence not &quot;confusing&quot; Hibernate on how to create Payment entity.</p>\n"},{"tags":[],"owner":{"account_id":22769808,"reputation":31,"user_id":16927406,"display_name":"Gustavo Junkes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670689685,"creation_date":1670689149,"answer_id":74754612,"question_id":73312803,"body_markdown":"This error has many causes, but in your case seems to be a relation between `Role` entity and another one that is using it in a relation. The most common reason for this error is reference this entity in another, and do not set the proper annotations. \r\n\r\nIn my case, I had the entity `MealFood` (which the error log was pointing to), and it was used in `Meal` entity. (One to Many starting from `MealFood`). The problem was that I hadn&#39;t mapped it properly in the `Meal` entity, so hibernate didn&#39;t know exactly what to do with it. \r\n\r\nPlease check if, as mentioned in jayson mulwa answer, the `Role` entity is used in another class, and add the proper annotations.\r\n\r\nHope it helps.","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>This error has many causes, but in your case seems to be a relation between <code>Role</code> entity and another one that is using it in a relation. The most common reason for this error is reference this entity in another, and do not set the proper annotations.</p>\n<p>In my case, I had the entity <code>MealFood</code> (which the error log was pointing to), and it was used in <code>Meal</code> entity. (One to Many starting from <code>MealFood</code>). The problem was that I hadn't mapped it properly in the <code>Meal</code> entity, so hibernate didn't know exactly what to do with it.</p>\n<p>Please check if, as mentioned in jayson mulwa answer, the <code>Role</code> entity is used in another class, and add the proper annotations.</p>\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":27257150,"reputation":61,"user_id":20780518,"display_name":"Paimon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1671073949,"creation_date":1671073949,"answer_id":74806447,"question_id":73312803,"body_markdown":"I had the same problem, I solve it by adding the `@ManyToOne` annotation.\r\nI guess in your case it would be in the `RoleEnum` field.\r\nWell at least that&#39;s how it worked for me.","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>I had the same problem, I solve it by adding the <code>@ManyToOne</code> annotation.\nI guess in your case it would be in the <code>RoleEnum</code> field.\nWell at least that's how it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":23693974,"reputation":1,"user_id":17717966,"display_name":"Yagnesh Prajapati"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681302492,"creation_date":1680772876,"answer_id":75947850,"question_id":73312803,"body_markdown":"This is because you change is remain in `hibernate.cfg.xml` - please check your `hibernate.cfg.xml` file you made some changes - so correct it \r\nin my problem i change the class name by mistake","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>This is because you change is remain in <code>hibernate.cfg.xml</code> - please check your <code>hibernate.cfg.xml</code> file you made some changes - so correct it\nin my problem i change the class name by mistake</p>\n"},{"tags":[],"owner":{"account_id":24923661,"reputation":11,"user_id":18791692,"display_name":"SamCurteis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681253309,"creation_date":1681253309,"answer_id":75990634,"question_id":73312803,"body_markdown":"I struggled with this for a very long time and couldn&#39;t find a solution anywhere. I found the cause which was in a different entity where I was calling the entity mentioned in the error message with @ManyToOne (for me it was the user entity, it seems like for OP it was roles). The error only went away once I added `@JdbcTypeCode(SqlTypes.JSON)` where it was called, so it looked like this:\r\n\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;SUBMITTED_BY&quot;)\r\n    private User user;\r\n\r\nI ofc also had to import:\r\n\r\n    import org.hibernate.annotations.JdbcTypeCode;\r\n    import org.hibernate.type.SqlTypes;\r\n\r\nI don&#39;t know if this fix just causes another problem down the line or I&#39;m missing something else cus I can&#39;t even find where I got the original solution but fingers crossed it&#39;s fine.","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>I struggled with this for a very long time and couldn't find a solution anywhere. I found the cause which was in a different entity where I was calling the entity mentioned in the error message with @ManyToOne (for me it was the user entity, it seems like for OP it was roles). The error only went away once I added <code>@JdbcTypeCode(SqlTypes.JSON)</code> where it was called, so it looked like this:</p>\n<pre><code>@JdbcTypeCode(SqlTypes.JSON)\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;SUBMITTED_BY&quot;)\nprivate User user;\n</code></pre>\n<p>I ofc also had to import:</p>\n<pre><code>import org.hibernate.annotations.JdbcTypeCode;\nimport org.hibernate.type.SqlTypes;\n</code></pre>\n<p>I don't know if this fix just causes another problem down the line or I'm missing something else cus I can't even find where I got the original solution but fingers crossed it's fine.</p>\n"},{"tags":[],"owner":{"account_id":9472885,"reputation":83,"user_id":7043197,"display_name":"Eric S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695471165,"creation_date":1695471165,"answer_id":77162971,"question_id":73312803,"body_markdown":"Although brief the solution proposed by [Gustavo Junkes][1] and the explanation of [Paimon][2] helped me with a similar case I have during a migration from javax.persistence to jakarta.persistence. Here is how I solved a similar issue in order to make work a @OnetoMany relation between 2 entities:\r\n\r\nI had to add a @ManyToOne relation on the child entity (ITEM).  I insist that it wasn&#39;t necessary before with javax.persitence (although the cause may be something else as other dependencies have been changed).  Anyway, before it worked fine without that.  So here is what I have now which works:\r\nIn the Item entity (child):\r\n\r\n    @Column(name = &quot;BRAND_ID&quot;, nullable = false, insertable = false, updatable = false)\r\n    private long brandId;\r\n\r\n    @JoinColumn(name = &quot;BRAND_ID&quot;, nullable = false)\r\n    @ManyToOne(targetEntity=Brand.class, fetch=FetchType.LAZY)\r\n    private Brand brand;\r\n\r\nIn the Brand entity (parent):\r\n\r\n       @Column(name=&quot;BRAND_ID&quot;)\r\n       private long id;\r\n\r\n       @OneToMany(targetEntity= Item.class, cascade=ALL, mappedBy=&quot;brand&quot;, fetch=FetchType.LAZY)\r\n       private List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n\r\nNotice that before the migration to jakarta.persistence the @OneToMany annotation referred to the &quot;brandId&quot; property in the child entity.  Now it refers to the new &quot;brand&quot; property in the child entity.  Here is how it was before.  Moreover there was no need to specify the @ManyToOne annotation in the child entity:\r\n\r\n\r\n    @OneToMany(targetEntity=Item.class, cascade=ALL, mappedBy=&quot;brandId&quot;, fetch=FetchType.LAZY)\r\n    private List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n\r\n  [1]: https://stackoverflow.com/users/16927406/gustavo-junkes\r\n  [2]: https://stackoverflow.com/users/20780518/paimon","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>Although brief the solution proposed by <a href=\"https://stackoverflow.com/users/16927406/gustavo-junkes\">Gustavo Junkes</a> and the explanation of <a href=\"https://stackoverflow.com/users/20780518/paimon\">Paimon</a> helped me with a similar case I have during a migration from javax.persistence to jakarta.persistence. Here is how I solved a similar issue in order to make work a @OnetoMany relation between 2 entities:</p>\n<p>I had to add a @ManyToOne relation on the child entity (ITEM).  I insist that it wasn't necessary before with javax.persitence (although the cause may be something else as other dependencies have been changed).  Anyway, before it worked fine without that.  So here is what I have now which works:\nIn the Item entity (child):</p>\n<pre><code>@Column(name = &quot;BRAND_ID&quot;, nullable = false, insertable = false, updatable = false)\nprivate long brandId;\n\n@JoinColumn(name = &quot;BRAND_ID&quot;, nullable = false)\n@ManyToOne(targetEntity=Brand.class, fetch=FetchType.LAZY)\nprivate Brand brand;\n</code></pre>\n<p>In the Brand entity (parent):</p>\n<pre><code>   @Column(name=&quot;BRAND_ID&quot;)\n   private long id;\n\n   @OneToMany(targetEntity= Item.class, cascade=ALL, mappedBy=&quot;brand&quot;, fetch=FetchType.LAZY)\n   private List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Notice that before the migration to jakarta.persistence the @OneToMany annotation referred to the &quot;brandId&quot; property in the child entity.  Now it refers to the new &quot;brand&quot; property in the child entity.  Here is how it was before.  Moreover there was no need to specify the @ManyToOne annotation in the child entity:</p>\n<pre><code>@OneToMany(targetEntity=Item.class, cascade=ALL, mappedBy=&quot;brandId&quot;, fetch=FetchType.LAZY)\nprivate List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":275846,"reputation":2344,"user_id":2968699,"display_name":"Tudor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700818358,"creation_date":1700746013,"answer_id":77537257,"question_id":73312803,"body_markdown":"In my case I missed an @Id on a related @ManyToOne class. The class mentioned in the error was ok.\r\n\r\nThe @Id goes on the getter, not on the field, although it&#39;s allowed.","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>In my case I missed an @Id on a related @ManyToOne class. The class mentioned in the error was ok.</p>\n<p>The @Id goes on the getter, not on the field, although it's allowed.</p>\n"}],"owner":{"account_id":8932542,"reputation":101,"user_id":6664626,"display_name":"Bryce"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46291,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":7,"score":9,"last_activity_date":1700818358,"creation_date":1660166076,"question_id":73312803,"body_markdown":"I&#39;ve been searching around and potentially the closest I&#39;ve found something is this [Stack Overflow thread][1], but it still doesn&#39;t answer my question. Even with the latest copy of spring (as of writing) frameworks (2.7.2), and `hibernate` (6.1.2.Final), and `hibernate-entitymanager` (5.6.10.Final), I&#39;m still having troubles. My full error stack is as follows: \r\n\r\n    INFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : Starting SpringBootController using Java 17.0.4 on &lt;OS&gt; with PID &lt;PID&gt; &lt;FILEPATH&gt; started by &lt;USER&gt; in &lt;FILEPATH&gt;)\r\n    INFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    INFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    INFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.\r\n    INFO &lt;PID&gt; --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    INFO &lt;PID&gt; --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    INFO &lt;PID&gt; --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/10.0.22]\r\n    INFO &lt;PID&gt; --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    INFO &lt;PID&gt; --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 944 ms\r\n    INFO &lt;PID&gt; --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    INFO &lt;PID&gt; --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.2.Final\r\n    WARN &lt;PID&gt; --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n    INFO &lt;PID&gt; --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    ERROR &lt;PID&gt; --- [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Could not determine recommended JdbcType for `com.lms.entity.Role`\r\n    WARN &lt;PID&gt; --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.lms.entity.Role`\r\n    INFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : Starting SpringBootController using Java 17.0.4 on &lt;OS&gt; with PID &lt;PID&gt; &lt;FILEPATH&gt; started by &lt;USER&gt; in &lt;FILEPATH&gt;)\r\n    INFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    INFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    INFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.\r\n    INFO &lt;PID&gt; --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    INFO &lt;PID&gt; --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    INFO &lt;PID&gt; --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/10.0.22]\r\n    INFO &lt;PID&gt; --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    INFO &lt;PID&gt; --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 944 ms\r\n    INFO &lt;PID&gt; --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    INFO &lt;PID&gt; --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.2.Final\r\n    WARN &lt;PID&gt; --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n    INFO &lt;PID&gt; --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    ERROR &lt;PID&gt; --- [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Could not determine recommended JdbcType for `com.lms.entity.Role`\r\n    WARN &lt;PID&gt; --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.lms.entity.Role`\r\n    INFO &lt;PID&gt; --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    INFO &lt;PID&gt; --- [main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n      ERROR &lt;PID&gt; --- [main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.lms.entity.Role`\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1753) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:604) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:526) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1141) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:916) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n    \t\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n    \t\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:430) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n    \t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n    \t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n    \t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n    \t\tat com.lms.controller.SpringBootController.main(SpringBootController.java:30) ~[classes/:na]\r\n    Caused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `com.lms.entity.Role`\r\n    \t\tat org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.type.descriptor.java.spi.BasicCollectionJavaType.getRecommendedJdbcType(BasicCollectionJavaType.java:70) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:507) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.mapping.BasicValue.resolve(BasicValue.java:315) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.mapping.BasicValue.resolve(BasicValue.java:305) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1766) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat java.base/java.util.ArrayList.removeIf(ArrayList.java:1682) ~[na:na]\r\n    \t\tat java.base/java.util.ArrayList.removeIf(ArrayList.java:1660) ~[na:na]\r\n    \t\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1765) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1751) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\r\n    \t\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:362) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:338) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1799) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1749) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n    \t\t... 16 common frames omitted\r\n\r\n   \r\nHere&#39;s my `Role.java` file:\r\n\r\n    package com.lms.entity;\r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Enumerated;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n    import jakarta.persistence.EnumType;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;roles&quot;)\r\n    public class Role {\r\n        @Id\r\n        @Column(name = &quot;roleID&quot;, nullable = false)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int roleID;\r\n        \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;roleName&quot;, nullable = false)\r\n        private RoleEnum roleName;\r\n    \r\n        public int getRoleID(){\r\n            return this.roleID;\r\n        }\r\n        public void setRoleID(int roleid){\r\n            this.roleID = roleid;\r\n        }\r\n        public RoleEnum getRoleName(){\r\n            return this.roleName;\r\n        }\r\n        public void setRoleName(RoleEnum rolename){\r\n            this.roleName = rolename;\r\n        }\r\n    \r\n        @Override\r\n        public String toString(){\r\n            return &quot;The role&#39;s id is: &quot; + this.roleID + &quot;\\nThe role&#39;s name is: &quot; + this.roleName.toString();\r\n        }\r\n    }\r\n\r\nEven if my `Role.java` contains only the roleID value, I get the same error which isn&#39;t thrown on my other Entity classes which are basically the same thing. The only unique thing about this class is the `RoleEnum` type which is based on this Enum class: `RoleEnum.java`\r\n\r\n    public enum RoleEnum {\r\n        SUPER_ADMIN,\r\n        FORUM_ADMIN,\r\n        ACCOUNTANT,\r\n        LIBRARIAN,\r\n        NORMAL_USER,\r\n        FORUM_USER\r\n    }\r\n\r\nI came across this error when I was trying to replicate [this person&#39;s guide][2] of implementing a JWT in Java Spring and works, but they are using `2.2.11.RELEASE` instead of `3.0.0-M4` which is what I&#39;m using. \r\n\r\nMy likely candidates are there is something funky with `jakarta.*` instead of `javax.*` which I don&#39;t fully understand the differences between. The other candidate I&#39;m thinking could be problematic is that something with EntityManager is causing a problem, but I can&#39;t find anything about it. My error is `Could not determine recommended JdbcType for com.lms.entity.Role`, is there something I can do to fix this?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71963578/couldnt-determine-jdbctype-for-class-spring-data-jdbc\r\n  [2]: https://www.bezkoder.com/spring-boot-security-postgresql-jwt-authentication/","title":"Could not determine recommended JdbcType for &lt;class&gt;","body":"<p>I've been searching around and potentially the closest I've found something is this <a href=\"https://stackoverflow.com/questions/71963578/couldnt-determine-jdbctype-for-class-spring-data-jdbc\">Stack Overflow thread</a>, but it still doesn't answer my question. Even with the latest copy of spring (as of writing) frameworks (2.7.2), and <code>hibernate</code> (6.1.2.Final), and <code>hibernate-entitymanager</code> (5.6.10.Final), I'm still having troubles. My full error stack is as follows:</p>\n<pre><code>INFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : Starting SpringBootController using Java 17.0.4 on &lt;OS&gt; with PID &lt;PID&gt; &lt;FILEPATH&gt; started by &lt;USER&gt; in &lt;FILEPATH&gt;)\nINFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : No active profile set, falling back to 1 default profile: &quot;default&quot;\nINFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\nINFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.\nINFO &lt;PID&gt; --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\nINFO &lt;PID&gt; --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\nINFO &lt;PID&gt; --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/10.0.22]\nINFO &lt;PID&gt; --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\nINFO &lt;PID&gt; --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 944 ms\nINFO &lt;PID&gt; --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\nINFO &lt;PID&gt; --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.2.Final\nWARN &lt;PID&gt; --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\nINFO &lt;PID&gt; --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\nERROR &lt;PID&gt; --- [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Could not determine recommended JdbcType for `com.lms.entity.Role`\nWARN &lt;PID&gt; --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.lms.entity.Role`\nINFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : Starting SpringBootController using Java 17.0.4 on &lt;OS&gt; with PID &lt;PID&gt; &lt;FILEPATH&gt; started by &lt;USER&gt; in &lt;FILEPATH&gt;)\nINFO &lt;PID&gt; --- [main] com.lms.controller.SpringBootController  : No active profile set, falling back to 1 default profile: &quot;default&quot;\nINFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\nINFO &lt;PID&gt; --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.\nINFO &lt;PID&gt; --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\nINFO &lt;PID&gt; --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\nINFO &lt;PID&gt; --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/10.0.22]\nINFO &lt;PID&gt; --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\nINFO &lt;PID&gt; --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 944 ms\nINFO &lt;PID&gt; --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\nINFO &lt;PID&gt; --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.2.Final\nWARN &lt;PID&gt; --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\nINFO &lt;PID&gt; --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\nERROR &lt;PID&gt; --- [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Could not determine recommended JdbcType for `com.lms.entity.Role`\nWARN &lt;PID&gt; --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.lms.entity.Role`\nINFO &lt;PID&gt; --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\nINFO &lt;PID&gt; --- [main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n  ERROR &lt;PID&gt; --- [main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `com.lms.entity.Role`\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1753) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:604) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:526) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1141) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:916) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:430) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\n        at com.lms.controller.SpringBootController.main(SpringBootController.java:30) ~[classes/:na]\nCaused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `com.lms.entity.Role`\n        at org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.type.descriptor.java.spi.BasicCollectionJavaType.getRecommendedJdbcType(BasicCollectionJavaType.java:70) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:507) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:315) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:305) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1766) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at java.base/java.util.ArrayList.removeIf(ArrayList.java:1682) ~[na:na]\n        at java.base/java.util.ArrayList.removeIf(ArrayList.java:1660) ~[na:na]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1765) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1751) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421) ~[hibernate-core-6.1.2.Final.jar:6.1.2.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:362) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:338) ~[spring-orm-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1799) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1749) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\n        ... 16 common frames omitted\n</code></pre>\n<p>Here's my <code>Role.java</code> file:</p>\n<pre><code>package com.lms.entity;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Enumerated;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.EnumType;\n\n@Entity\n@Table(name = &quot;roles&quot;)\npublic class Role {\n    @Id\n    @Column(name = &quot;roleID&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int roleID;\n    \n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;roleName&quot;, nullable = false)\n    private RoleEnum roleName;\n\n    public int getRoleID(){\n        return this.roleID;\n    }\n    public void setRoleID(int roleid){\n        this.roleID = roleid;\n    }\n    public RoleEnum getRoleName(){\n        return this.roleName;\n    }\n    public void setRoleName(RoleEnum rolename){\n        this.roleName = rolename;\n    }\n\n    @Override\n    public String toString(){\n        return &quot;The role's id is: &quot; + this.roleID + &quot;\\nThe role's name is: &quot; + this.roleName.toString();\n    }\n}\n</code></pre>\n<p>Even if my <code>Role.java</code> contains only the roleID value, I get the same error which isn't thrown on my other Entity classes which are basically the same thing. The only unique thing about this class is the <code>RoleEnum</code> type which is based on this Enum class: <code>RoleEnum.java</code></p>\n<pre><code>public enum RoleEnum {\n    SUPER_ADMIN,\n    FORUM_ADMIN,\n    ACCOUNTANT,\n    LIBRARIAN,\n    NORMAL_USER,\n    FORUM_USER\n}\n</code></pre>\n<p>I came across this error when I was trying to replicate <a href=\"https://www.bezkoder.com/spring-boot-security-postgresql-jwt-authentication/\" rel=\"noreferrer\">this person's guide</a> of implementing a JWT in Java Spring and works, but they are using <code>2.2.11.RELEASE</code> instead of <code>3.0.0-M4</code> which is what I'm using.</p>\n<p>My likely candidates are there is something funky with <code>jakarta.*</code> instead of <code>javax.*</code> which I don't fully understand the differences between. The other candidate I'm thinking could be problematic is that something with EntityManager is causing a problem, but I can't find anything about it. My error is <code>Could not determine recommended JdbcType for com.lms.entity.Role</code>, is there something I can do to fix this?</p>\n"},{"tags":["java","spring-boot","kotlin","spring-autoconfiguration"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700462406,"post_id":77426246,"comment_id":136653010,"body_markdown":"After running TestBootstrap class, Getting errors from `InMemoryEventStoreTest` and `CustomTypeMapperTest` classes.","body":"After running TestBootstrap class, Getting errors from <code>InMemoryEventStoreTest</code> and <code>CustomTypeMapperTest</code> classes."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700462464,"post_id":77426246,"comment_id":136653020,"body_markdown":"I&#39;m in the decider-web branch only.","body":"I&#39;m in the decider-web branch only."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700462599,"post_id":77426246,"comment_id":136653035,"body_markdown":"Unable to run TestBootstrap code. Can you please help?","body":"Unable to run TestBootstrap code. Can you please help?"},{"owner":{"account_id":171189,"reputation":38099,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"score":0,"creation_date":1700566395,"post_id":77426246,"comment_id":136667889,"body_markdown":"@AnishB. I just tried it again, and it works for me. I&#39;m running it from Intellij.","body":"@AnishB. I just tried it again, and it works for me. I&#39;m running it from Intellij."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700566440,"post_id":77426246,"comment_id":136667899,"body_markdown":"Anything am I doing wrong? Suprising","body":"Anything am I doing wrong? Suprising"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700566505,"post_id":77426246,"comment_id":136667908,"body_markdown":"When I&#39;m running the main, why it&#39;s calling those two classes.","body":"When I&#39;m running the main, why it&#39;s calling those two classes."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700566561,"post_id":77426246,"comment_id":136667918,"body_markdown":"I can fix but I need the code running on my system :)","body":"I can fix but I need the code running on my system :)"},{"owner":{"account_id":171189,"reputation":38099,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"score":0,"creation_date":1700569084,"post_id":77426246,"comment_id":136668378,"body_markdown":"@AnishB. I&#39;m sorry, but I don&#39;t know what&#39;s wrong. I just run the main method in &quot;org.occurrent.example.domain.rps.decidermodel.TestBoostrap&quot; from intellij and I get the error mentioned above.","body":"@AnishB. I&#39;m sorry, but I don&#39;t know what&#39;s wrong. I just run the main method in &quot;org.occurrent.example.domain.rps.decidermodel.TestBoostrap&quot; from intellij and I get the error mentioned above."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700571755,"post_id":77426246,"comment_id":136668872,"body_markdown":"No worries... I&#39;m checking","body":"No worries... I&#39;m checking"}],"answers":[{"tags":[],"owner":{"account_id":8928773,"reputation":213,"user_id":6662076,"display_name":"Alireza Nazari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700484657,"creation_date":1700484657,"answer_id":77516025,"question_id":77426246,"body_markdown":"The issue comes up because Spring has a tough time figuring out the generic type for CloudEventTypeMapper.\r\n\r\nTo fix this, you can use a nifty class called ResolvableType from Spring:\r\n\r\n    public abstract class OccurrentMongoAutoConfiguration {\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean(CloudEventTypeMapper.class)\r\n        public CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\r\n            return ReflectionCloudEventTypeMapper.qualified();\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean(CloudEventConverter.class)\r\n        public CloudEventConverter&lt;?&gt; occurrentCloudEventConverter(\r\n                Optional&lt;ObjectMapper&gt; objectMapper,\r\n                OccurrentProperties occurrentProperties,\r\n                CloudEventTypeMapper&lt;?&gt; cloudEventTypeMapper) {\r\n            \r\n            ResolvableType resolvableType = ResolvableType.forClassWithGenerics(CloudEventConverter.class, cloudEventTypeMapper.getClass());\r\n    \r\n            ObjectMapper mapper = objectMapper.orElseGet(ObjectMapper::new);\r\n            return new JacksonCloudEventConverter.Builder&lt;&gt;(mapper, occurrentProperties.getCloudEventConverter().getCloudEventSource())\r\n                    .typeMapper((CloudEventTypeMapper) resolvableType.resolveGeneric())\r\n                    .build();\r\n        }\r\n    }\r\n\r\nWith this change, Spring should now be able to figure out the generic type for CloudEventTypeMapper and create the occurrentCloudEventConverter bean smoothly. \r\nGive it a try and see if it solves your issue!","title":"Spring auto configuration doesn&#39;t find generic classes","body":"<p>The issue comes up because Spring has a tough time figuring out the generic type for CloudEventTypeMapper.</p>\n<p>To fix this, you can use a nifty class called ResolvableType from Spring:</p>\n<pre><code>public abstract class OccurrentMongoAutoConfiguration {\n\n    @Bean\n    @ConditionalOnMissingBean(CloudEventTypeMapper.class)\n    public CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\n        return ReflectionCloudEventTypeMapper.qualified();\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(CloudEventConverter.class)\n    public CloudEventConverter&lt;?&gt; occurrentCloudEventConverter(\n            Optional&lt;ObjectMapper&gt; objectMapper,\n            OccurrentProperties occurrentProperties,\n            CloudEventTypeMapper&lt;?&gt; cloudEventTypeMapper) {\n        \n        ResolvableType resolvableType = ResolvableType.forClassWithGenerics(CloudEventConverter.class, cloudEventTypeMapper.getClass());\n\n        ObjectMapper mapper = objectMapper.orElseGet(ObjectMapper::new);\n        return new JacksonCloudEventConverter.Builder&lt;&gt;(mapper, occurrentProperties.getCloudEventConverter().getCloudEventSource())\n                .typeMapper((CloudEventTypeMapper) resolvableType.resolveGeneric())\n                .build();\n    }\n}\n</code></pre>\n<p>With this change, Spring should now be able to figure out the generic type for CloudEventTypeMapper and create the occurrentCloudEventConverter bean smoothly.\nGive it a try and see if it solves your issue!</p>\n"},{"tags":[],"owner":{"account_id":7902590,"reputation":311,"user_id":5969163,"accept_rate":100,"display_name":"peacetrue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700818277,"creation_date":1700818277,"answer_id":77542059,"question_id":77426246,"body_markdown":"I modified the code for testing:\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(CloudEventConverter.class)\r\n    public &lt;T&gt; CloudEventConverter&lt;?&gt; occurrentCloudEventConverter(Optional&lt;ObjectMapper&gt; objectMapper, OccurrentProperties occurrentProperties,\r\n                                                                   @Autowired(required = false) CloudEventTypeMapper&lt;T&gt; cloudEventTypeMapper) {\r\n        cloudEventTypeMapper = ReflectionCloudEventTypeMapper.qualified();\r\n        ObjectMapper mapper = objectMapper.orElseGet(ObjectMapper::new);\r\n        return new JacksonCloudEventConverter.Builder&lt;T&gt;(mapper, occurrentProperties.getCloudEventConverter().getCloudEventSource())\r\n                .typeMapper(cloudEventTypeMapper)\r\n                .build();\r\n    }\r\n\r\nPrompt following questions:\r\n\r\n      OccurrentMongoAutoConfiguration#occurrentTypeMapper:\r\n      Did not match:\r\n         - @ConditionalOnMissingBean (types: org.occurrent.application.converter.typemapper.CloudEventTypeMapper; SearchStrategy: all) found beans of type &#39;org.occurrent.application.converter.typemapper.CloudEventTypeMapper&#39; rpsTypeMapper (OnBeanCondition)\r\n\r\nAt Bootstrap.java, exists follow code:\r\n\r\n    @Bean\r\n    fun rpsTypeMapper(): CloudEventTypeMapper&lt;GameEvent&gt; = ReflectionCloudEventTypeMapper.simple(GameEvent::class.java)\r\n\r\ncaused occurrentTypeMapper in OccurrentMongoAutoConfiguration.java not invoked:\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(CloudEventTypeMapper.class)\r\n    public CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\r\n        return ReflectionCloudEventTypeMapper.qualified();\r\n    }\r\n\r\nBut the type `CloudEventTypeMapper&lt;GameEvent&gt;` not matched `occurrentCloudEventConverter`.\r\n\r\nOtherwise remove `@ConditionalOnMissingBean(CloudEventTypeMapper.class)` will be ok.\r\n\r\n    @Bean\r\n    public CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\r\n        return ReflectionCloudEventTypeMapper.qualified();\r\n    }\r\n\r\n\r\n","title":"Spring auto configuration doesn&#39;t find generic classes","body":"<p>I modified the code for testing:</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean(CloudEventConverter.class)\npublic &lt;T&gt; CloudEventConverter&lt;?&gt; occurrentCloudEventConverter(Optional&lt;ObjectMapper&gt; objectMapper, OccurrentProperties occurrentProperties,\n                                                               @Autowired(required = false) CloudEventTypeMapper&lt;T&gt; cloudEventTypeMapper) {\n    cloudEventTypeMapper = ReflectionCloudEventTypeMapper.qualified();\n    ObjectMapper mapper = objectMapper.orElseGet(ObjectMapper::new);\n    return new JacksonCloudEventConverter.Builder&lt;T&gt;(mapper, occurrentProperties.getCloudEventConverter().getCloudEventSource())\n            .typeMapper(cloudEventTypeMapper)\n            .build();\n}\n</code></pre>\n<p>Prompt following questions:</p>\n<pre><code>  OccurrentMongoAutoConfiguration#occurrentTypeMapper:\n  Did not match:\n     - @ConditionalOnMissingBean (types: org.occurrent.application.converter.typemapper.CloudEventTypeMapper; SearchStrategy: all) found beans of type 'org.occurrent.application.converter.typemapper.CloudEventTypeMapper' rpsTypeMapper (OnBeanCondition)\n</code></pre>\n<p>At Bootstrap.java, exists follow code:</p>\n<pre><code>@Bean\nfun rpsTypeMapper(): CloudEventTypeMapper&lt;GameEvent&gt; = ReflectionCloudEventTypeMapper.simple(GameEvent::class.java)\n</code></pre>\n<p>caused occurrentTypeMapper in OccurrentMongoAutoConfiguration.java not invoked:</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean(CloudEventTypeMapper.class)\npublic CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\n    return ReflectionCloudEventTypeMapper.qualified();\n}\n</code></pre>\n<p>But the type <code>CloudEventTypeMapper&lt;GameEvent&gt;</code> not matched <code>occurrentCloudEventConverter</code>.</p>\n<p>Otherwise remove <code>@ConditionalOnMissingBean(CloudEventTypeMapper.class)</code> will be ok.</p>\n<pre><code>@Bean\npublic CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\n    return ReflectionCloudEventTypeMapper.qualified();\n}\n</code></pre>\n"}],"owner":{"account_id":171189,"reputation":38099,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1700818277,"creation_date":1699193570,"question_id":77426246,"body_markdown":"I&#39;m using Spring Boot 3.1.5 and I&#39;m trying to implement an auto-configuration class (called `OccurrentMongoAutoConfiguration`) for one of my open-source projects. In this project, I have a generic interface defined like this:\r\n\r\n```\r\npublic interface CloudEventConverter&lt;T&gt; {\r\n        ... \r\n}\r\n```\r\n\r\nI&#39;d like the auto-configuration to create a default bean of such as interface, unless it already exists. Here&#39;s the code that I have in my auto-configuration class:\r\n\r\n```\r\n@Bean\r\n@ConditionalOnMissingBean(CloudEventTypeMapper.class)\r\npublic CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\r\n    return ReflectionCloudEventTypeMapper.qualified();\r\n}\r\n```\r\n\r\nNow, this `CloudEventTypeMapper` is used in this method:\r\n\r\n```\r\n@Bean\r\n@ConditionalOnMissingBean(CloudEventConverter.class)\r\npublic &lt;T&gt; CloudEventConverter&lt;?&gt; occurrentCloudEventConverter(Optional&lt;ObjectMapper&gt; objectMapper, OccurrentProperties occurrentProperties, CloudEventTypeMapper&lt;T&gt; cloudEventTypeMapper) {\r\n    ObjectMapper mapper = objectMapper.orElseGet(ObjectMapper::new);\r\n    return new JacksonCloudEventConverter.Builder&lt;T&gt;(mapper, occurrentProperties.getCloudEventConverter().getCloudEventSource())\r\n            .typeMapper(cloudEventTypeMapper)\r\n            .build();\r\n}\r\n```\r\n\r\nHowever, when I try to bootstrap an application that loads my auto-configuration, I get this error:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 2 of method occurrentCloudEventConverter in org.occurrent.springboot.mongo.blocking.OccurrentMongoAutoConfiguration required a bean of type &#39;org.occurrent.application.converter.typemapper.CloudEventTypeMapper&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.occurrent.application.converter.typemapper.CloudEventTypeMapper&#39; in your configuration.\r\n```\r\n\r\nThis is even the case if I try to add such a bean manually:\r\n\r\n```kotlin\r\n@Bean\r\nfun rpsTypeMapper(): CloudEventTypeMapper&lt;GameEvent&gt; = ReflectionCloudEventTypeMapper. qualified(GameEvent::class.java)\r\n```\r\n\r\nIf I debug the code, I can see that it goes into the `rpsTypeMapper`, but it doesn&#39;t seem to be injected to `occurrentCloudEventConverter` (and neither is the default `occurrentTypeMapper` bean).  \r\n\r\nI&#39;ve tried removing the generics (`&lt;T&gt;`) in the `OccurrentMongoAutoConfiguration` as well as replacing them with `&lt;?&gt;`, but it doesn&#39;t help.\r\n\r\nWhat&#39;s wrong and how can I fix it?\r\n\r\nPS: Here&#39;s the code for the [OccurrentMongoAutoConfiguration](https://github.com/johanhaleby/occurrent/blob/decider-web/framework/spring-boot-starter-mongodb/src/main/java/org/occurrent/springboot/mongo/blocking/OccurrentMongoAutoConfiguration.java), and here&#39;s the [bootstrap code](https://github.com/johanhaleby/occurrent/blob/decider-web/example/domain/rps/decider-model-web/src/main/kotlin/org/occurrent/example/domain/rps/decidermodel/web/Bootstrap.kt). It&#39;s also possible to start the app using test containers, by running [TestBootstrap](https://github.com/johanhaleby/occurrent/blob/decider-web/example/domain/rps/decider-model-web/src/test/kotlin/org/occurrent/example/domain/rps/decidermodel/TestBoostrap.kt).\r\n\r\nTo reproduce you can clone the repository from here: `git@github.com:johanhaleby/occurrent.git`, then switch branch to `decider-web` and run the main method in `org.occurrent.example.domain.rps.decidermodel.TestBoostrap`.\r\n","title":"Spring auto configuration doesn&#39;t find generic classes","body":"<p>I'm using Spring Boot 3.1.5 and I'm trying to implement an auto-configuration class (called <code>OccurrentMongoAutoConfiguration</code>) for one of my open-source projects. In this project, I have a generic interface defined like this:</p>\n<pre><code>public interface CloudEventConverter&lt;T&gt; {\n        ... \n}\n</code></pre>\n<p>I'd like the auto-configuration to create a default bean of such as interface, unless it already exists. Here's the code that I have in my auto-configuration class:</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean(CloudEventTypeMapper.class)\npublic CloudEventTypeMapper&lt;?&gt; occurrentTypeMapper() {\n    return ReflectionCloudEventTypeMapper.qualified();\n}\n</code></pre>\n<p>Now, this <code>CloudEventTypeMapper</code> is used in this method:</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean(CloudEventConverter.class)\npublic &lt;T&gt; CloudEventConverter&lt;?&gt; occurrentCloudEventConverter(Optional&lt;ObjectMapper&gt; objectMapper, OccurrentProperties occurrentProperties, CloudEventTypeMapper&lt;T&gt; cloudEventTypeMapper) {\n    ObjectMapper mapper = objectMapper.orElseGet(ObjectMapper::new);\n    return new JacksonCloudEventConverter.Builder&lt;T&gt;(mapper, occurrentProperties.getCloudEventConverter().getCloudEventSource())\n            .typeMapper(cloudEventTypeMapper)\n            .build();\n}\n</code></pre>\n<p>However, when I try to bootstrap an application that loads my auto-configuration, I get this error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 2 of method occurrentCloudEventConverter in org.occurrent.springboot.mongo.blocking.OccurrentMongoAutoConfiguration required a bean of type 'org.occurrent.application.converter.typemapper.CloudEventTypeMapper' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.occurrent.application.converter.typemapper.CloudEventTypeMapper' in your configuration.\n</code></pre>\n<p>This is even the case if I try to add such a bean manually:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Bean\nfun rpsTypeMapper(): CloudEventTypeMapper&lt;GameEvent&gt; = ReflectionCloudEventTypeMapper. qualified(GameEvent::class.java)\n</code></pre>\n<p>If I debug the code, I can see that it goes into the <code>rpsTypeMapper</code>, but it doesn't seem to be injected to <code>occurrentCloudEventConverter</code> (and neither is the default <code>occurrentTypeMapper</code> bean).</p>\n<p>I've tried removing the generics (<code>&lt;T&gt;</code>) in the <code>OccurrentMongoAutoConfiguration</code> as well as replacing them with <code>&lt;?&gt;</code>, but it doesn't help.</p>\n<p>What's wrong and how can I fix it?</p>\n<p>PS: Here's the code for the <a href=\"https://github.com/johanhaleby/occurrent/blob/decider-web/framework/spring-boot-starter-mongodb/src/main/java/org/occurrent/springboot/mongo/blocking/OccurrentMongoAutoConfiguration.java\" rel=\"nofollow noreferrer\">OccurrentMongoAutoConfiguration</a>, and here's the <a href=\"https://github.com/johanhaleby/occurrent/blob/decider-web/example/domain/rps/decider-model-web/src/main/kotlin/org/occurrent/example/domain/rps/decidermodel/web/Bootstrap.kt\" rel=\"nofollow noreferrer\">bootstrap code</a>. It's also possible to start the app using test containers, by running <a href=\"https://github.com/johanhaleby/occurrent/blob/decider-web/example/domain/rps/decider-model-web/src/test/kotlin/org/occurrent/example/domain/rps/decidermodel/TestBoostrap.kt\" rel=\"nofollow noreferrer\">TestBootstrap</a>.</p>\n<p>To reproduce you can clone the repository from here: <code>git@github.com:johanhaleby/occurrent.git</code>, then switch branch to <code>decider-web</code> and run the main method in <code>org.occurrent.example.domain.rps.decidermodel.TestBoostrap</code>.</p>\n"},{"tags":["java","sorting","java-stream"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700809344,"post_id":77541186,"comment_id":136700869,"body_markdown":"I don&#39;t see where your IDE gets that idea. Nothing can possibly go into `allMatch()` until after the sort completes, so of course if depends on the sort order.","body":"I don&#39;t see where your IDE gets that idea. Nothing can possibly go into <code>allMatch()</code> until after the sort completes, so of course if depends on the sort order."},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1700809925,"post_id":77541186,"comment_id":136700939,"body_markdown":"&quot;Nothing can possibly go into allMatch() until after the sort completes&quot; this isn&#39;t true. allMatch needs to check (up to) all elements, so the order it does that in isn&#39;t relevant for correctness of the result; and sorting doesn&#39;t add our remove elements; hence the sorting _could_ be optimized away.","body":"&quot;Nothing can possibly go into allMatch() until after the sort completes&quot; this isn&#39;t true. allMatch needs to check (up to) all elements, so the order it does that in isn&#39;t relevant for correctness of the result; and sorting doesn&#39;t add our remove elements; hence the sorting <i>could</i> be optimized away."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700810252,"post_id":77541186,"comment_id":136700987,"body_markdown":"@AndyTurner That doesn&#39;t make sense. Nothing can come *out* of the sort until it has seen all the elements in the stream: then the leastmost element becomes available to the next step in the pipeline.","body":"@AndyTurner That doesn&#39;t make sense. Nothing can come <i>out</i> of the sort until it has seen all the elements in the stream: then the leastmost element becomes available to the next step in the pipeline."},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1700810382,"post_id":77541186,"comment_id":136701003,"body_markdown":"@user207421 can you give an example where the ordering of a stream affects the value of an allMatch operation?","body":"@user207421 can you give an example where the ordering of a stream affects the value of an allMatch operation?"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700810620,"post_id":77541186,"comment_id":136701040,"body_markdown":"@AndyTurner Can you give me an example of a sort algorithm that can produce the leastmost element before it&#39;s seen all the input?","body":"@AndyTurner Can you give me an example of a sort algorithm that can produce the leastmost element before it&#39;s seen all the input?"},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1700810727,"post_id":77541186,"comment_id":136701056,"body_markdown":"No, but that&#39;s not what we are doing here: we are checking if a predicate matches everything in the stream, not looking for the minimal element.","body":"No, but that&#39;s not what we are doing here: we are checking if a predicate matches everything in the stream, not looking for the minimal element."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700811076,"post_id":77541186,"comment_id":136701102,"body_markdown":"@AndyTurner 1. You claimed that &#39;nothing can go into the `allMatch()` until after the sort completes&#39; is untrue. It isn&#39;t untrue, and you are now evading that issue. 2. The question is about performance. If the predicate is `x -&gt; x &gt; 10` and the sort produces a least element of `x == 1`, the `allMatch()` can fail immediately, instead of whenever `x == 1` turns up in the unsorted stream.","body":"@AndyTurner 1. You claimed that &#39;nothing can go into the <code>allMatch()</code> until after the sort completes&#39; is untrue. It isn&#39;t untrue, and you are now evading that issue. 2. The question is about performance. If the predicate is <code>x -&gt; x &gt; 10</code> and the sort produces a least element of <code>x == 1</code>, the <code>allMatch()</code> can fail immediately, instead of whenever <code>x == 1</code> turns up in the unsorted stream."},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1700811378,"post_id":77541186,"comment_id":136701162,"body_markdown":"@user207421 no evasion here. I&#39;m saying that `stream.sort(...).allMatch(...)` has the same result as `stream.allMatch(...)`, i.e. the sort can be elided without affecting the result. In the worst case, the first is O(n log n) + O(n) = O(n log n); the second is O(n). Therefore it is better performance (in the worst case).","body":"@user207421 no evasion here. I&#39;m saying that <code>stream.sort(...).allMatch(...)</code> has the same result as <code>stream.allMatch(...)</code>, i.e. the sort can be elided without affecting the result. In the worst case, the first is O(n log n) + O(n) = O(n log n); the second is O(n). Therefore it is better performance (in the worst case)."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1700811487,"post_id":77541186,"comment_id":136701173,"body_markdown":"@user207 There&#39;s nothing that stops the compiler/runtime from encoding certain information such as &quot;if an operation that produces an unordered sequence is preceded by a sort then eliminate the sort&quot;. As a matter of fact other languages that implement something similar to the stream API do this for certain implementations and certain circumstances.","body":"@user207 There&#39;s nothing that stops the compiler/runtime from encoding certain information such as &quot;if an operation that produces an unordered sequence is preceded by a sort then eliminate the sort&quot;. As a matter of fact other languages that implement something similar to the stream API do this for certain implementations and certain circumstances."},{"owner":{"account_id":3239497,"reputation":145,"user_id":2732883,"display_name":"melix"},"score":0,"creation_date":1700812122,"post_id":77541186,"comment_id":136701278,"body_markdown":"@AndyTurner from a pure complexy theory point of view, you are absolutely right. But the worst case is not the most likely case. To what my question may boil down: Does the stream *firstly* sort *everything* and than apply the predicate? Or does it &quot;bypass&quot; somehow?","body":"@AndyTurner from a pure complexy theory point of view, you are absolutely right. But the worst case is not the most likely case. To what my question may boil down: Does the stream <i>firstly</i> sort <i>everything</i> and than apply the predicate? Or does it &quot;bypass&quot; somehow?"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700814905,"post_id":77541186,"comment_id":136701713,"body_markdown":"@AndyTurner *Of course* it has the same *result:* but that&#39;s not the question. The question is about *performance.* If the sort can present a predicate-failing case sooner to `allMatch()`, that means that `allMatch()` gets called fewer times: and if the cost of the sort is less than the cost of whatever the `allMatch()` has to do over the entire stream, the OP is ahead.","body":"@AndyTurner <i>Of course</i> it has the same <i>result:</i> but that&#39;s not the question. The question is about <i>performance.</i> If the sort can present a predicate-failing case sooner to <code>allMatch()</code>, that means that <code>allMatch()</code> gets called fewer times: and if the cost of the sort is less than the cost of whatever the <code>allMatch()</code> has to do over the entire stream, the OP is ahead."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700905834,"post_id":77541186,"comment_id":136711362,"body_markdown":"@melix It sorts everything first.","body":"@melix It sorts everything first."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700905885,"post_id":77541186,"comment_id":136711367,"body_markdown":"@Voo There is nothing that gives either the compiler or the runtime system enough information to do any such thing, given that database operations are involved.","body":"@Voo There is nothing that gives either the compiler or the runtime system enough information to do any such thing, given that database operations are involved."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701098199,"post_id":77541186,"comment_id":136729588,"body_markdown":"@user207421 your explanation is completely off, `sorted` does not do anything except storing the information that sorted processing has been requested and `allMatch` is only invoked a single time. It’s one operation and the implementation of that operation decides whether to perform the previous steps or skip them. For example, `count()` does already skip a preceding sorting step in some cases. This has been added in Java&#160;9 though the possibility existed in Java&#160;8 too. Likewise, an `allMatch` implementation of a future Java version may skip the sorting even if the current version does not.","body":"@user207421 your explanation is completely off, <code>sorted</code> does not do anything except storing the information that sorted processing has been requested and <code>allMatch</code> is only invoked a single time. It’s one operation and the implementation of that operation decides whether to perform the previous steps or skip them. For example, <code>count()</code> does already skip a preceding sorting step in some cases. This has been added in Java 9 though the possibility existed in Java 8 too. Likewise, an <code>allMatch</code> implementation of a future Java version may skip the sorting even if the current version does not."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700814301,"creation_date":1700814301,"answer_id":77541643,"question_id":77541186,"body_markdown":"&gt; So my question is: Does `allMatch()` consider the sort order imposed beforehand? Or does it ignore it?\r\n\r\nI found no guarantees in the JavaDoc that `allMatch` will respect the encounter order. It *might* be implemented to respect the encounter order anyway.\r\n\r\nRelevant sections of the [documentation][1] are (emphasis mine):\r\n\r\n&gt; Streams may or may not have a defined encounter order. [...] Some intermediate operations, such as `sorted()`, may impose an encounter order on an otherwise unordered stream. Further, ***some terminal operations may ignore encounter order***, such as `forEach()`.\r\n\r\n&gt; If a stream is ordered, ***most*** operations are constrained to operate on the elements in their encounter order.\r\n\r\nSo `allMatch` could very well be implemented so that it does not process elements in the sorted order, similar to `findAny` and `forEach`. I can&#39;t think of a good reason why someone would implement it that way, but nevertheless, the documentation does not guarantee.\r\n\r\nAs always with performance, the best thing to do is to [race your horses][2]. Actually write benchmarks on some real data to see which one is faster. The performance depends on many more factors than just &quot;does `allMatch` respect the order&quot;. \r\n\r\nIf you have a large number of `items`, for example, it might not be worth the effort to sort all of them, regardless of whether `allMatch` respects the order.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Ordering\r\n  [2]: https://ericlippert.com/2012/12/17/performance-rant/","title":"Does sorting a Java stream before calling allMatch with a predicate that has different costs gain any benefits?","body":"<blockquote>\n<p>So my question is: Does <code>allMatch()</code> consider the sort order imposed beforehand? Or does it ignore it?</p>\n</blockquote>\n<p>I found no guarantees in the JavaDoc that <code>allMatch</code> will respect the encounter order. It <em>might</em> be implemented to respect the encounter order anyway.</p>\n<p>Relevant sections of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Ordering\" rel=\"nofollow noreferrer\">documentation</a> are (emphasis mine):</p>\n<blockquote>\n<p>Streams may or may not have a defined encounter order. [...] Some intermediate operations, such as <code>sorted()</code>, may impose an encounter order on an otherwise unordered stream. Further, <em><strong>some terminal operations may ignore encounter order</strong></em>, such as <code>forEach()</code>.</p>\n</blockquote>\n<blockquote>\n<p>If a stream is ordered, <em><strong>most</strong></em> operations are constrained to operate on the elements in their encounter order.</p>\n</blockquote>\n<p>So <code>allMatch</code> could very well be implemented so that it does not process elements in the sorted order, similar to <code>findAny</code> and <code>forEach</code>. I can't think of a good reason why someone would implement it that way, but nevertheless, the documentation does not guarantee.</p>\n<p>As always with performance, the best thing to do is to <a href=\"https://ericlippert.com/2012/12/17/performance-rant/\" rel=\"nofollow noreferrer\">race your horses</a>. Actually write benchmarks on some real data to see which one is faster. The performance depends on many more factors than just &quot;does <code>allMatch</code> respect the order&quot;.</p>\n<p>If you have a large number of <code>items</code>, for example, it might not be worth the effort to sort all of them, regardless of whether <code>allMatch</code> respects the order.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1700818233,"creation_date":1700814933,"answer_id":77541713,"question_id":77541186,"body_markdown":"&gt; Does `allMatch()` consider the sort order imposed beforehand? Or does it ignore it?\r\n\r\nIf you are asking ... does `allMatch()` have to wait until the stream contents are sorted, the answer is going to be yes, for a sensible implementation of `sorted()`&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nIf you are asking if `allMatch()` *could* benefit from the stream being sorted, then the answer is yes, because of *possible* short-circuiting in `allMatch` when it encounters an element for which the predicate returns `false`.  (The javadocs don&#39;t say that short-circuiting *will* happpen&lt;sup&gt;2&lt;/sup&gt;, but that would be a legitimate implementation approach.) But could also go the other way.  It depends ...\r\n\r\n-----------------------\r\n\r\nThe question of whether it is more efficient to sort first will depend on the relative costs of `equals` vs `validate`, AND on the probability that elements will fail to validate.  There will be a point where you spend more time sorting than you will gain *on average* by reducing the `allMatch()` cost.\r\n\r\nUnfortunately ... the mathematics of this will be complicated&lt;sup&gt;3&lt;/sup&gt;, and will require accurate cost *functions* and probability distributions to provide an valid answer.\r\n\r\nMy advice would be make sure you are not doing premature optimization.  And when you do optimize, make sure that your trial datasets are representative.  My intuition says that the optimal algorithm is likely to be very data dependent, and that can makes optimization problematic.\r\n\r\n-----------------------\r\n\r\nBut here&#39;s a thought.  Rather than sorting in ascending order of cost of validation, how about sorting in descending order of probability of validation failure?\r\n\r\n-----------------------\r\n\r\n&lt;sup&gt;1 - In theory, `sorted` could deliver the first (smallest) element in the stream in O(N).  However, optimizing it to do that would most likely be an anti-optimization overall.&lt;br&gt;\r\n2 - The javadoc says *&quot;[may not evaluate the predicate on all elements if not necessary for determining the result.&quot;*.  It does not say **will not** or **shall not**.&lt;br&gt;\r\n3 - ... and way beyond my ability.&lt;/sup&gt;\r\n","title":"Does sorting a Java stream before calling allMatch with a predicate that has different costs gain any benefits?","body":"<blockquote>\n<p>Does <code>allMatch()</code> consider the sort order imposed beforehand? Or does it ignore it?</p>\n</blockquote>\n<p>If you are asking ... does <code>allMatch()</code> have to wait until the stream contents are sorted, the answer is going to be yes, for a sensible implementation of <code>sorted()</code><sup>1</sup>.</p>\n<p>If you are asking if <code>allMatch()</code> <em>could</em> benefit from the stream being sorted, then the answer is yes, because of <em>possible</em> short-circuiting in <code>allMatch</code> when it encounters an element for which the predicate returns <code>false</code>.  (The javadocs don't say that short-circuiting <em>will</em> happpen<sup>2</sup>, but that would be a legitimate implementation approach.) But could also go the other way.  It depends ...</p>\n<hr />\n<p>The question of whether it is more efficient to sort first will depend on the relative costs of <code>equals</code> vs <code>validate</code>, AND on the probability that elements will fail to validate.  There will be a point where you spend more time sorting than you will gain <em>on average</em> by reducing the <code>allMatch()</code> cost.</p>\n<p>Unfortunately ... the mathematics of this will be complicated<sup>3</sup>, and will require accurate cost <em>functions</em> and probability distributions to provide an valid answer.</p>\n<p>My advice would be make sure you are not doing premature optimization.  And when you do optimize, make sure that your trial datasets are representative.  My intuition says that the optimal algorithm is likely to be very data dependent, and that can makes optimization problematic.</p>\n<hr />\n<p>But here's a thought.  Rather than sorting in ascending order of cost of validation, how about sorting in descending order of probability of validation failure?</p>\n<hr />\n<p><sup>1 - In theory, <code>sorted</code> could deliver the first (smallest) element in the stream in O(N).  However, optimizing it to do that would most likely be an anti-optimization overall.<br>\n2 - The javadoc says <em>&quot;[may not evaluate the predicate on all elements if not necessary for determining the result.&quot;</em>.  It does not say <strong>will not</strong> or <strong>shall not</strong>.<br>\n3 - ... and way beyond my ability.</sup></p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700816944,"creation_date":1700816944,"answer_id":77541928,"question_id":77541186,"body_markdown":"From your description\r\n\r\n&gt; The validation by the predicate differentiates in costs. Some of the elements just need to check an attribute, for some of them I have to fetch potentially many elements from a database and evaluate them, too.\r\n\r\nI created a simple test case. The class `Waiter` has a single `int` property that defines the sort order and also how long it takes to evaluate the predicate:\r\n\r\n    public class Waiter implements Comparable&lt;Waiter&gt; {\r\n        private final int time;\r\n    \r\n        public Waiter(int time) {\r\n            this.time = time;\r\n        }\r\n    \r\n        public boolean isValid() {\r\n            try {\r\n                Thread.sleep(time);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            return time &gt; 10;\r\n        }\r\n    \r\n        @Override\r\n        public int compareTo(Waiter o) {\r\n            return Integer.compare(time, o.time);\r\n        }\r\n    }\r\n\r\nThe class `Sorter` creates a few `Waiter`s and outputs the time for `allMatch()` on either the unsorted or the sorted list of waiters:\r\n\r\n    import java.util.List;\r\n    \r\n    public class Sorter {\r\n        public static void main(String[] args) {\r\n            var data = List.of(\r\n                    new Waiter(500),\r\n                    new Waiter(500),\r\n                    new Waiter(500),\r\n                    new Waiter(500),\r\n                    new Waiter(1)\r\n            );\r\n            System.out.printf(&quot;Duration sorted: %d ms%n&quot;, time(() -&gt; data.stream().sorted().allMatch(Waiter::isValid)));\r\n            System.out.printf(&quot;Duration unsorted: %d ms%n&quot;, time(() -&gt; data.stream().allMatch(Waiter::isValid)));\r\n            System.out.printf(&quot;Duration sorted: %d ms%n&quot;, time(() -&gt; data.stream().sorted().allMatch(Waiter::isValid)));\r\n            System.out.printf(&quot;Duration unsorted: %d ms%n&quot;, time(() -&gt; data.stream().allMatch(Waiter::isValid)));\r\n        }\r\n    \r\n        private static long time(Runnable r) {\r\n            long start = System.currentTimeMillis();\r\n            r.run();\r\n            return System.currentTimeMillis() - start;\r\n        }\r\n    }\r\n\r\nAnd the result is as expected: if the `Waiter` that whos predicate evaluates to false is the first (i.e. the data is sorted) the `allMatch()` is evaluated faster:\r\n\r\n&gt;     Duration sorted: 6 ms\r\n&gt;     Duration unsorted: 2021 ms\r\n&gt;     Duration sorted: 3 ms\r\n&gt;     Duration unsorted: 2030 ms\r\n\r\nNote that if I change the last `Waiter` to also wait 500ms the unsorted variant is always faster (because sorting takes time and doesn&#39;t change the output for the case where all predicates match)\r\n\r\n---\r\nPlease remember that this is a very simplistic test and may be skewed by various factors:\r\n\r\n* this is not a proper microbenchmark. There is no warmup and only a two runs of both tests. The numbers might look different after a proper warmup.\r\n\r\n* sorting itself takes time. In this simple case the time to sort the data is small, but your data may differ\r\n\r\n  * sorting pays off only if `allMatch()` can short-circuit (i.e. at least one predicate fails)\r\n\r\n  * on the other hand, for the case where all predicates return true you **have a performance penalty** due to the sorting\r\n\r\n----\r\nConclusion: \r\n\r\n* sorting the stream offers benefits if some predicates fail and sorting has the effects that the predicates that fail are moved to the beginning of the sorted stream.\r\n\r\n* for the case where all predicates match there is a penalty for the sorting\r\n\r\nYou need to find out which of those two cases better describes your problem.","title":"Does sorting a Java stream before calling allMatch with a predicate that has different costs gain any benefits?","body":"<p>From your description</p>\n<blockquote>\n<p>The validation by the predicate differentiates in costs. Some of the elements just need to check an attribute, for some of them I have to fetch potentially many elements from a database and evaluate them, too.</p>\n</blockquote>\n<p>I created a simple test case. The class <code>Waiter</code> has a single <code>int</code> property that defines the sort order and also how long it takes to evaluate the predicate:</p>\n<pre><code>public class Waiter implements Comparable&lt;Waiter&gt; {\n    private final int time;\n\n    public Waiter(int time) {\n        this.time = time;\n    }\n\n    public boolean isValid() {\n        try {\n            Thread.sleep(time);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        return time &gt; 10;\n    }\n\n    @Override\n    public int compareTo(Waiter o) {\n        return Integer.compare(time, o.time);\n    }\n}\n</code></pre>\n<p>The class <code>Sorter</code> creates a few <code>Waiter</code>s and outputs the time for <code>allMatch()</code> on either the unsorted or the sorted list of waiters:</p>\n<pre><code>import java.util.List;\n\npublic class Sorter {\n    public static void main(String[] args) {\n        var data = List.of(\n                new Waiter(500),\n                new Waiter(500),\n                new Waiter(500),\n                new Waiter(500),\n                new Waiter(1)\n        );\n        System.out.printf(&quot;Duration sorted: %d ms%n&quot;, time(() -&gt; data.stream().sorted().allMatch(Waiter::isValid)));\n        System.out.printf(&quot;Duration unsorted: %d ms%n&quot;, time(() -&gt; data.stream().allMatch(Waiter::isValid)));\n        System.out.printf(&quot;Duration sorted: %d ms%n&quot;, time(() -&gt; data.stream().sorted().allMatch(Waiter::isValid)));\n        System.out.printf(&quot;Duration unsorted: %d ms%n&quot;, time(() -&gt; data.stream().allMatch(Waiter::isValid)));\n    }\n\n    private static long time(Runnable r) {\n        long start = System.currentTimeMillis();\n        r.run();\n        return System.currentTimeMillis() - start;\n    }\n}\n</code></pre>\n<p>And the result is as expected: if the <code>Waiter</code> that whos predicate evaluates to false is the first (i.e. the data is sorted) the <code>allMatch()</code> is evaluated faster:</p>\n<blockquote>\n<pre><code>Duration sorted: 6 ms\nDuration unsorted: 2021 ms\nDuration sorted: 3 ms\nDuration unsorted: 2030 ms\n</code></pre>\n</blockquote>\n<p>Note that if I change the last <code>Waiter</code> to also wait 500ms the unsorted variant is always faster (because sorting takes time and doesn't change the output for the case where all predicates match)</p>\n<hr />\n<p>Please remember that this is a very simplistic test and may be skewed by various factors:</p>\n<ul>\n<li><p>this is not a proper microbenchmark. There is no warmup and only a two runs of both tests. The numbers might look different after a proper warmup.</p>\n</li>\n<li><p>sorting itself takes time. In this simple case the time to sort the data is small, but your data may differ</p>\n<ul>\n<li><p>sorting pays off only if <code>allMatch()</code> can short-circuit (i.e. at least one predicate fails)</p>\n</li>\n<li><p>on the other hand, for the case where all predicates return true you <strong>have a performance penalty</strong> due to the sorting</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p>Conclusion:</p>\n<ul>\n<li><p>sorting the stream offers benefits if some predicates fail and sorting has the effects that the predicates that fail are moved to the beginning of the sorted stream.</p>\n</li>\n<li><p>for the case where all predicates match there is a penalty for the sorting</p>\n</li>\n</ul>\n<p>You need to find out which of those two cases better describes your problem.</p>\n"}],"owner":{"account_id":3239497,"reputation":145,"user_id":2732883,"display_name":"melix"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":77541928,"answer_count":3,"score":6,"last_activity_date":1700818233,"creation_date":1700808461,"question_id":77541186,"body_markdown":"I have implemented a Java stream pipeline where some elements are sorted and checked if all of them fulfill a predicate. The pipeline looks like this:\r\n\r\n```\r\nitems.stream()\r\n     .sorted(this::sortByType)\r\n     .allMatch(this::isCompliant);\r\n```\r\n\r\nThe validation by the predicate differentiates in costs. Some of the elements just need to check an attribute, for some of them I have to fetch potentially many elements from a database and evaluate them, too.\r\n\r\nAs I need to know that **all** of them are true, knowing that **at least one** is false, is equivalent. If I correctly understand the JavaDoc of the allMatch() operation, it should short curcuit as soon as one element is false.\r\n\r\nSo, in order to potentially improve the execution speed, I order the elements so that all of the very easy validations are executed first and only if they all succeed, I execute the more costly validations.\r\n\r\nThat is at least what I think happens. However, my IDE tells me, that sorting before calling allMatch() is redundant, because it does not depend on the sort order.\r\n\r\nI wrote some tests which seem to indicate that the sort order *is in fact* regarded when traversing the pipeline, but maybe my test case is just to small or it just happened to be called correctly.\r\n\r\nSo my question is: Does allMatch() consider the sort order imposed beforehand? Or does it ignore it?","title":"Does sorting a Java stream before calling allMatch with a predicate that has different costs gain any benefits?","body":"<p>I have implemented a Java stream pipeline where some elements are sorted and checked if all of them fulfill a predicate. The pipeline looks like this:</p>\n<pre><code>items.stream()\n     .sorted(this::sortByType)\n     .allMatch(this::isCompliant);\n</code></pre>\n<p>The validation by the predicate differentiates in costs. Some of the elements just need to check an attribute, for some of them I have to fetch potentially many elements from a database and evaluate them, too.</p>\n<p>As I need to know that <strong>all</strong> of them are true, knowing that <strong>at least one</strong> is false, is equivalent. If I correctly understand the JavaDoc of the allMatch() operation, it should short curcuit as soon as one element is false.</p>\n<p>So, in order to potentially improve the execution speed, I order the elements so that all of the very easy validations are executed first and only if they all succeed, I execute the more costly validations.</p>\n<p>That is at least what I think happens. However, my IDE tells me, that sorting before calling allMatch() is redundant, because it does not depend on the sort order.</p>\n<p>I wrote some tests which seem to indicate that the sort order <em>is in fact</em> regarded when traversing the pipeline, but maybe my test case is just to small or it just happened to be called correctly.</p>\n<p>So my question is: Does allMatch() consider the sort order imposed beforehand? Or does it ignore it?</p>\n"},{"tags":["java","spring-boot","saml"],"owner":{"account_id":6003905,"reputation":85,"user_id":4716376,"display_name":"miguel lopez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700817523,"creation_date":1700814671,"question_id":77541682,"body_markdown":"I want to add a SAML signature in the simplest way possible to a SOAP service call that is made through Feign.  I have the certificate to sign which is:\r\n\r\n     -----BEGIN CERTIFICATE-----\r\n    MIIC4jCCAcoCCQC33wnybT5QZDANBgkqhkiG9w0BAQsFADAyMQswCQYDVQQQGEwJV\r\n    SzEPMA0GA1UECgwGQm94eUhRMRIwEAYDVQQQDDAlNb2NrIFNBTUwwIBcNMjIwMjI4\r\n    MjE0NjM4WhgPMzAyMTA3MDEyMTQ2MzhaMDIxCzAJBgNVVBAYTAlVLMQ8wDQYDVQQQK\r\n    DAZCb3h5SFExEjAQBgNVBAMMCU1vY2sgU0FNTDCCASIwDQYJKoZIhvcNAQEBBQAD\r\n    ggEPADCCAQoCggEBALGfYettMsct1T6tVUwTudNJH5Pnb9GGnkXi9Zw/e6x45DDD0\r\n    RuRONbFlJ2T4RjAE/uG+AjXxXQ8o2SZfb9+GgmCHuTJFNgHoZ1nFVXCmb/Hg8Hpd\r\n    4vOAGXndixaReOiq3EH5XvpMjMkJ3+8+9VYMzMZOjkgQtAqO36eAFFfNKX7dTj3V\r\n    pwLkvz6/KFCq8OAwY+AUi4eZm5J57D31GzjHwfjH9WTeX0MyndmnNB1qV75qQR3b\r\n    2/W5sGHRv+9AarggJkF+ptUkXoLtVA51wcfYm6hILptpde5FQC8RWY1YrswBWAEZ\r\n    NfyrR4JeSweElNHg4NVOs4TwGjOPwWGqzTfgTlECAwEAATANBgkqhkiG9w0BAQsF\r\n    AAOCAQEAAYRlYflSXAWoZpFfwNiCQVE5d9zZZ0DPzNdWhAybXcTyMf0z5mDf6FWBW\r\n    5Gyoi9u3EMEDnzLcJNkwJAAc39Apa4I2/tml+Jy29dk8bTyX6m93ngmCgdLh5Za4\r\n    khuU3AM3L63g7VexCuO7kwkjh/+LqdcIXsVGO6XDfu2QOs1Xpe9zIzLpwm/RNYeX\r\n    UjbSj5ce/jekpAw7qyVVL4xOyh8AtUW1ek3wIw1MJvEgEPt0d16oshWJJpoS1OT8L\r\n    r/22SvYEo3EmSGdTVGgk3x3s+A0qWAqTcyjr7Q4s/GKYRFfomGwz0TZ4Iw1ZN99M\r\n    m0eo2USlSRTVl7QHRTuiuSThHpLKQQQ==\r\n    -----END CERTIFICATE-----\r\n\r\n  The url to check SAML is: https://mocksaml.com/api/saml/sso and I have the entity id: **https://saml.example.com/entityid** . The version that we use is 1.0.10.RELEASE for spring-security-saml2-core with spring boot 3, java 17 and Feign to do the soap calls. &#191;Can anybody do an example?","title":"Add SAML Sign method in spring boot","body":"<p>I want to add a SAML signature in the simplest way possible to a SOAP service call that is made through Feign.  I have the certificate to sign which is:</p>\n<pre><code> -----BEGIN CERTIFICATE-----\nMIIC4jCCAcoCCQC33wnybT5QZDANBgkqhkiG9w0BAQsFADAyMQswCQYDVQQQGEwJV\nSzEPMA0GA1UECgwGQm94eUhRMRIwEAYDVQQQDDAlNb2NrIFNBTUwwIBcNMjIwMjI4\nMjE0NjM4WhgPMzAyMTA3MDEyMTQ2MzhaMDIxCzAJBgNVVBAYTAlVLMQ8wDQYDVQQQK\nDAZCb3h5SFExEjAQBgNVBAMMCU1vY2sgU0FNTDCCASIwDQYJKoZIhvcNAQEBBQAD\nggEPADCCAQoCggEBALGfYettMsct1T6tVUwTudNJH5Pnb9GGnkXi9Zw/e6x45DDD0\nRuRONbFlJ2T4RjAE/uG+AjXxXQ8o2SZfb9+GgmCHuTJFNgHoZ1nFVXCmb/Hg8Hpd\n4vOAGXndixaReOiq3EH5XvpMjMkJ3+8+9VYMzMZOjkgQtAqO36eAFFfNKX7dTj3V\npwLkvz6/KFCq8OAwY+AUi4eZm5J57D31GzjHwfjH9WTeX0MyndmnNB1qV75qQR3b\n2/W5sGHRv+9AarggJkF+ptUkXoLtVA51wcfYm6hILptpde5FQC8RWY1YrswBWAEZ\nNfyrR4JeSweElNHg4NVOs4TwGjOPwWGqzTfgTlECAwEAATANBgkqhkiG9w0BAQsF\nAAOCAQEAAYRlYflSXAWoZpFfwNiCQVE5d9zZZ0DPzNdWhAybXcTyMf0z5mDf6FWBW\n5Gyoi9u3EMEDnzLcJNkwJAAc39Apa4I2/tml+Jy29dk8bTyX6m93ngmCgdLh5Za4\nkhuU3AM3L63g7VexCuO7kwkjh/+LqdcIXsVGO6XDfu2QOs1Xpe9zIzLpwm/RNYeX\nUjbSj5ce/jekpAw7qyVVL4xOyh8AtUW1ek3wIw1MJvEgEPt0d16oshWJJpoS1OT8L\nr/22SvYEo3EmSGdTVGgk3x3s+A0qWAqTcyjr7Q4s/GKYRFfomGwz0TZ4Iw1ZN99M\nm0eo2USlSRTVl7QHRTuiuSThHpLKQQQ==\n-----END CERTIFICATE-----\n</code></pre>\n<p>The url to check SAML is: <a href=\"https://mocksaml.com/api/saml/sso\" rel=\"nofollow noreferrer\">https://mocksaml.com/api/saml/sso</a> and I have the entity id: <strong><a href=\"https://saml.example.com/entityid\" rel=\"nofollow noreferrer\">https://saml.example.com/entityid</a></strong> . The version that we use is 1.0.10.RELEASE for spring-security-saml2-core with spring boot 3, java 17 and Feign to do the soap calls. ¿Can anybody do an example?</p>\n"},{"tags":["java","html","forms","sockets","http-status-code-303"],"answers":[{"tags":[],"owner":{"account_id":25971394,"reputation":1,"user_id":19686512,"display_name":"Timsterhipster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700817139,"creation_date":1700817139,"answer_id":77541952,"question_id":77541711,"body_markdown":"It seems that the issue might lie in the way your server handles the redirection after receiving the POST request. The 303 status code indicates that the response to the request can be found at the specified location and the browser should issue a GET request to that location.\r\n\r\nHowever, in your case, the browser seems to be stuck in a loop or not handling the redirection properly. One potential reason could be that the server might not be handling the redirection correctly or there might be an issue with the way the subsequent request is being processed.\r\n\r\nHere are a few suggestions to troubleshoot and potentially resolve the issue:\r\n\r\n    Check the Server Implementation: Ensure that the server is properly handling the redirection. The server should receive the POST request, process it, and then send a 303 response with the Location header set to /html/configPositive.html.\r\n\r\n    Verify the Redirection URL: Make sure that the redirection URL (/html/configPositive.html) is correct and points to the intended success or failure notification page.\r\n\r\n    Check for Infinite Redirection Loop: Ensure that the redirection is not causing an infinite loop. If the /html/configPositive.html page is being redirected back to the same page or there&#39;s an issue in handling this URL, it might cause continuous redirection.\r\n\r\n    Inspect Browser Developer Tools: Use browser developer tools (Network tab) to inspect the responses and requests. Check if there are multiple consecutive redirections or any errors related to these requests.\r\n\r\n    Debug Server Code: Review the server-side code that handles this redirection. Ensure that it&#39;s correctly processing the POST request, setting the appropriate headers (including Location), and not inadvertently including a response body.\r\n\r\n    Clear Browser Cache: Sometimes, caching issues can cause unexpected behavior. Clear your browser cache and try again.\r\n\r\n    Handle GET Request for Redirection Page: Ensure that when the browser follows the redirection and sends a GET request to /html/configPositive.html, the server responds correctly to this GET request and serves the appropriate content without any issues.\r\n\r\nBy investigating these areas, you might be able to identify the root cause of the redirection problem and resolve it accordingly. Additionally, inspecting the server-side code responsible for handling this redirection will likely provide insights into why the browser is not following the redirection as expected.","title":"Browser not redirecting after form submission Java Socket server","body":"<p>It seems that the issue might lie in the way your server handles the redirection after receiving the POST request. The 303 status code indicates that the response to the request can be found at the specified location and the browser should issue a GET request to that location.</p>\n<p>However, in your case, the browser seems to be stuck in a loop or not handling the redirection properly. One potential reason could be that the server might not be handling the redirection correctly or there might be an issue with the way the subsequent request is being processed.</p>\n<p>Here are a few suggestions to troubleshoot and potentially resolve the issue:</p>\n<pre><code>Check the Server Implementation: Ensure that the server is properly handling the redirection. The server should receive the POST request, process it, and then send a 303 response with the Location header set to /html/configPositive.html.\n\nVerify the Redirection URL: Make sure that the redirection URL (/html/configPositive.html) is correct and points to the intended success or failure notification page.\n\nCheck for Infinite Redirection Loop: Ensure that the redirection is not causing an infinite loop. If the /html/configPositive.html page is being redirected back to the same page or there's an issue in handling this URL, it might cause continuous redirection.\n\nInspect Browser Developer Tools: Use browser developer tools (Network tab) to inspect the responses and requests. Check if there are multiple consecutive redirections or any errors related to these requests.\n\nDebug Server Code: Review the server-side code that handles this redirection. Ensure that it's correctly processing the POST request, setting the appropriate headers (including Location), and not inadvertently including a response body.\n\nClear Browser Cache: Sometimes, caching issues can cause unexpected behavior. Clear your browser cache and try again.\n\nHandle GET Request for Redirection Page: Ensure that when the browser follows the redirection and sends a GET request to /html/configPositive.html, the server responds correctly to this GET request and serves the appropriate content without any issues.\n</code></pre>\n<p>By investigating these areas, you might be able to identify the root cause of the redirection problem and resolve it accordingly. Additionally, inspecting the server-side code responsible for handling this redirection will likely provide insights into why the browser is not following the redirection as expected.</p>\n"}],"owner":{"account_id":19172440,"reputation":13,"user_id":14005892,"display_name":"KotekBehemotek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700817139,"creation_date":1700814915,"question_id":77541711,"body_markdown":"I came with issues with my custom server built on Java Socket.\r\nServer works great and transmits data properly with exception of when after HTML form submission I want to redirect browser to success or failure notification address.\r\nI send 303 See Other in response to POST sent from mentioned form and page starts refreshing but never ends. It also looks like there is still body on the new request seeking the redirection page.\r\n\r\nHere are form request and my 303 response:\r\n\r\nPOST /html/configPositive.html HTTP/1.1&lt;br/&gt;\r\nHost: localhost:8080&lt;br/&gt;\r\nConnection: keep-alive&lt;br/&gt;\r\nContent-Length: 27&lt;br/&gt;\r\nCache-Control: max-age=0&lt;br/&gt;\r\nsec-ch-ua: &quot;Google Chrome&quot;;v=&quot;119&quot;, &quot;Chromium&quot;;v=&quot;119&quot;, &quot;Not?A_Brand&quot;;v=&quot;24&quot;&lt;br/&gt;\r\nsec-ch-ua-mobile: ?0&lt;br/&gt;\r\nsec-ch-ua-platform: &quot;macOS&quot;&lt;br/&gt;\r\nUpgrade-Insecure-Requests: 1&lt;br/&gt;\r\nOrigin: http://localhost:8080&lt;br/&gt;\r\nContent-Type: application/x-www-form-urlencoded&lt;br/&gt;\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&lt;br/&gt;\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&lt;br/&gt;\r\nSec-Fetch-Site: same-origin&lt;br/&gt;\r\nSec-Fetch-Mode: navigate&lt;br/&gt;\r\nSec-Fetch-User: ?1&lt;br/&gt;\r\nSec-Fetch-Dest: document&lt;br/&gt;\r\nReferer: http://localhost:8080/html/configIndexAbout.html&lt;br/&gt;\r\nAccept-Encoding: gzip, deflate, br&lt;br/&gt;\r\nAccept-Language: pl-PL,pl;q=0.9,en-US;q=0.8,en;q=0.7&lt;br/&gt;\r\nCookie: Idea-93a338da=1106edad-21ca-4e1f-a631-c60429549309; playername=kotek behemotek; recordblocks=245; recordrows=86&lt;br/&gt;\r\n\r\nHTTP/1.1 303 See Other&lt;br/&gt;\r\nLocation: /html/configPositive.html\r\n\r\nHere is the HTML form:\r\n```\r\n&lt;form action=&quot;/html/configPositive.html&quot; method=&quot;post&quot; enctype=&quot;application/x-www-form-urlencoded&quot;&gt;\r\n    &lt;h3&gt;Tutaj wpisz tekst widoczny w About&lt;/h3&gt;\r\n    &lt;label&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;/text/about/index&quot;&gt;\r\n    &lt;/label&gt;\r\n    &lt;h3&gt;Kiedy skończysz kliknij przycisk. Inaczej zmiany nie zostaną zapisane&lt;/h3&gt;\r\n    &lt;input type=&quot;submit&quot;&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\nThank You in advance","title":"Browser not redirecting after form submission Java Socket server","body":"<p>I came with issues with my custom server built on Java Socket.\nServer works great and transmits data properly with exception of when after HTML form submission I want to redirect browser to success or failure notification address.\nI send 303 See Other in response to POST sent from mentioned form and page starts refreshing but never ends. It also looks like there is still body on the new request seeking the redirection page.</p>\n<p>Here are form request and my 303 response:</p>\n<p>POST /html/configPositive.html HTTP/1.1<br/>\nHost: localhost:8080<br/>\nConnection: keep-alive<br/>\nContent-Length: 27<br/>\nCache-Control: max-age=0<br/>\nsec-ch-ua: &quot;Google Chrome&quot;;v=&quot;119&quot;, &quot;Chromium&quot;;v=&quot;119&quot;, &quot;Not?A_Brand&quot;;v=&quot;24&quot;<br/>\nsec-ch-ua-mobile: ?0<br/>\nsec-ch-ua-platform: &quot;macOS&quot;<br/>\nUpgrade-Insecure-Requests: 1<br/>\nOrigin: http://localhost:8080<br/>\nContent-Type: application/x-www-form-urlencoded<br/>\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36<br/>\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,<em>/</em>;q=0.8,application/signed-exchange;v=b3;q=0.7<br/>\nSec-Fetch-Site: same-origin<br/>\nSec-Fetch-Mode: navigate<br/>\nSec-Fetch-User: ?1<br/>\nSec-Fetch-Dest: document<br/>\nReferer: http://localhost:8080/html/configIndexAbout.html<br/>\nAccept-Encoding: gzip, deflate, br<br/>\nAccept-Language: pl-PL,pl;q=0.9,en-US;q=0.8,en;q=0.7<br/>\nCookie: Idea-93a338da=1106edad-21ca-4e1f-a631-c60429549309; playername=kotek behemotek; recordblocks=245; recordrows=86<br/></p>\n<p>HTTP/1.1 303 See Other<br/>\nLocation: /html/configPositive.html</p>\n<p>Here is the HTML form:</p>\n<pre><code>&lt;form action=&quot;/html/configPositive.html&quot; method=&quot;post&quot; enctype=&quot;application/x-www-form-urlencoded&quot;&gt;\n    &lt;h3&gt;Tutaj wpisz tekst widoczny w About&lt;/h3&gt;\n    &lt;label&gt;\n        &lt;input type=&quot;text&quot; name=&quot;/text/about/index&quot;&gt;\n    &lt;/label&gt;\n    &lt;h3&gt;Kiedy skończysz kliknij przycisk. Inaczej zmiany nie zostaną zapisane&lt;/h3&gt;\n    &lt;input type=&quot;submit&quot;&gt;\n&lt;/form&gt;\n</code></pre>\n<p>Thank You in advance</p>\n"},{"tags":["java","azure","cloud","project-reactor","reactive"],"owner":{"account_id":29980937,"reputation":1,"user_id":22975951,"display_name":"Krzysztof Czaiński"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700817098,"creation_date":1700814478,"question_id":77541657,"body_markdown":"Currently i have bunch of Azure app function using java 11 and azure runtime 3 and I want to migrate them to runtime 4, so I thought I will also upgrade the java and other libs. But it tured out to be problematic to stay reactive approach. So now most of the functions are triggered with org.springframework.cloud.function.adapter.azure.FunctionInvoker&lt;?,?&gt; which looks like this: \r\n\r\n\r\n```\r\npublic class SomeFunction extends FunctionInvoker&lt;String, String&gt;\r\n{\r\n    @FunctionName(&quot;someFuction&quot;)\r\n    public HttpResponseMessage execute(\r\n            @HttpTrigger(\r\n                    name = &quot;someFunction&quot;,\r\n                    methods = {HttpMethod.POST},\r\n                    authLevel = AuthorizationLevel.FUNCTION,\r\n                    route = &quot;someFunction&quot;)\r\n                    HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n            final ExecutionContext context)\r\n    {\r\n        Object body;\r\n        HttpStatus status;\r\n\r\n        try\r\n        {\r\n            var requestBody = request.getBody().orElseThrow(() -&gt; new MessagingException(EMPTY_BODY));\r\n\r\n            var result = ofNullable(handleRequest(requestBody, context))\r\n                    .orElseThrow(() -&gt; new RuntimeException(UNEXPECTED_ERROR));\r\n\r\n            return request\r\n                    .createResponseBuilder(HttpStatus.OK)\r\n                    .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                    .body(result)\r\n                    .build();\r\n        }\r\n        catch (MessagingException e)\r\n        {\r\n            status = BAD_REQUEST;\r\n            body = createErrorResponseBody(getPath(request), status.value(), e.getMessage());\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            status = INTERNAL_SERVER_ERROR;\r\n            body = createErrorResponseBody(getPath(request), status.value(), e.getMessage());\r\n        }\r\n\r\n        return request\r\n                .createResponseBuilder(status)\r\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .body(body)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nWith new versions the FunctionInvoker is deprecated and should be replaced with  AzureFunctionInstanceInjector so I&#39;ve tried to modify the example from [here](https://github.com/Azure/azure-functions-java-worker/tree/dev/samples/spring-cloud-example) to work with reactor as all my functions look like this Function&lt;Mono&lt;InputObject&gt;, Mono&lt;OutputObject&gt;&gt; but it looks like the function is not automaticly subscibed on and returns the Mono object as response to API call. And if function returns CompletableFuture intead of Mono it fails with Gson [ref](https://stackoverflow.com/questions/76060705/azure-function-convert-synchronous-to-asynchronous)\r\n\r\nNew Impl I came up with looks like this: \r\n```\r\n@Component\r\npublic class UppercaseHandlerMono {\r\n\r\n\t@Autowired\r\n\tprivate Function&lt;Mono&lt;String&gt;, Mono&lt;String&gt;&gt; uppercaseMono;\r\n\r\n\t@FunctionName(&quot;uppercaseMono&quot;)\r\n\tpublic Mono&lt;String&gt; execute(\r\n\t\t@HttpTrigger(\r\n\t\t\tname = &quot;req&quot;,\r\n\t\t\tmethods = {HttpMethod.GET, HttpMethod.POST},\r\n\t\t\tauthLevel = AuthorizationLevel.ANONYMOUS) HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n\t\tExecutionContext context\r\n\t) {\r\n\t\tcontext.getLogger().warning(&quot;Using Java (&quot; + System.getProperty(&quot;java.version&quot;) + &quot;)&quot;);\r\n\t\treturn Mono.just(request)\r\n\t\t\t\t.map(r -&gt; r.getBody().orElse(&quot;&quot;))\r\n\t\t\t\t.flatMap(r -&gt; uppercaseMono.apply(Mono.just(r)));\r\n\t}\r\n}\r\n```\r\nHere is the reproduced [code](https://github.com/durtrim/azure-example).\r\n\r\nAny ideas what I&#39;m doing wrong? I don&#39;t want to use .block in the invoker ;/\r\n\r\nSample response when function returns Mono&lt;String&gt;:\r\n\r\n```\r\n{\r\n  &quot;mapper&quot;: {},\r\n  &quot;optimizableOperator&quot;: {},\r\n  &quot;source&quot;: {}\r\n}\r\n```\r\n\r\nSample Gson error when function returns CompletableFuture&lt;String&gt;:\r\n\r\n\r\n```\r\nSystem.Private.CoreLib: Exception while executing function: Functions.uppercase. System.Private.CoreLib: Result: Failure\r\nException: InaccessibleObjectException: Unable to make field volatile java.lang.Object java.util.concurrent.CompletableFuture.result accessible: module java.base does not &quot;opens java.util.concurrent&quot; to unnamed module @17d10166\r\nStack: com.google.gson.JsonIOException: Failed making field &#39;java.util.concurrent.CompletableFuture#result&#39; accessible; either change its visibility or write a custom TypeAdapter for its declaring type\r\n```\r\n\r\nKey points from pom:\r\n\r\n```\r\n        &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-function-adapter-azure&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n\r\nTLDR: I want to create reactive azure app function with reactor so i can return Mono&lt;?&gt; without blocking.\r\n","title":"How do You create reactive Azure app function with java 17 &amp; spring-cloud-function-adapter-azure 4.x.x?","body":"<p>Currently i have bunch of Azure app function using java 11 and azure runtime 3 and I want to migrate them to runtime 4, so I thought I will also upgrade the java and other libs. But it tured out to be problematic to stay reactive approach. So now most of the functions are triggered with org.springframework.cloud.function.adapter.azure.FunctionInvoker which looks like this:</p>\n<pre><code>public class SomeFunction extends FunctionInvoker&lt;String, String&gt;\n{\n    @FunctionName(&quot;someFuction&quot;)\n    public HttpResponseMessage execute(\n            @HttpTrigger(\n                    name = &quot;someFunction&quot;,\n                    methods = {HttpMethod.POST},\n                    authLevel = AuthorizationLevel.FUNCTION,\n                    route = &quot;someFunction&quot;)\n                    HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n            final ExecutionContext context)\n    {\n        Object body;\n        HttpStatus status;\n\n        try\n        {\n            var requestBody = request.getBody().orElseThrow(() -&gt; new MessagingException(EMPTY_BODY));\n\n            var result = ofNullable(handleRequest(requestBody, context))\n                    .orElseThrow(() -&gt; new RuntimeException(UNEXPECTED_ERROR));\n\n            return request\n                    .createResponseBuilder(HttpStatus.OK)\n                    .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                    .body(result)\n                    .build();\n        }\n        catch (MessagingException e)\n        {\n            status = BAD_REQUEST;\n            body = createErrorResponseBody(getPath(request), status.value(), e.getMessage());\n        }\n        catch (Exception e)\n        {\n            status = INTERNAL_SERVER_ERROR;\n            body = createErrorResponseBody(getPath(request), status.value(), e.getMessage());\n        }\n\n        return request\n                .createResponseBuilder(status)\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .body(body)\n                .build();\n    }\n}\n</code></pre>\n<p>With new versions the FunctionInvoker is deprecated and should be replaced with  AzureFunctionInstanceInjector so I've tried to modify the example from <a href=\"https://github.com/Azure/azure-functions-java-worker/tree/dev/samples/spring-cloud-example\" rel=\"nofollow noreferrer\">here</a> to work with reactor as all my functions look like this Function&lt;Mono, Mono&gt; but it looks like the function is not automaticly subscibed on and returns the Mono object as response to API call. And if function returns CompletableFuture intead of Mono it fails with Gson <a href=\"https://stackoverflow.com/questions/76060705/azure-function-convert-synchronous-to-asynchronous\">ref</a></p>\n<p>New Impl I came up with looks like this:</p>\n<pre><code>@Component\npublic class UppercaseHandlerMono {\n\n    @Autowired\n    private Function&lt;Mono&lt;String&gt;, Mono&lt;String&gt;&gt; uppercaseMono;\n\n    @FunctionName(&quot;uppercaseMono&quot;)\n    public Mono&lt;String&gt; execute(\n        @HttpTrigger(\n            name = &quot;req&quot;,\n            methods = {HttpMethod.GET, HttpMethod.POST},\n            authLevel = AuthorizationLevel.ANONYMOUS) HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n        ExecutionContext context\n    ) {\n        context.getLogger().warning(&quot;Using Java (&quot; + System.getProperty(&quot;java.version&quot;) + &quot;)&quot;);\n        return Mono.just(request)\n                .map(r -&gt; r.getBody().orElse(&quot;&quot;))\n                .flatMap(r -&gt; uppercaseMono.apply(Mono.just(r)));\n    }\n}\n</code></pre>\n<p>Here is the reproduced <a href=\"https://github.com/durtrim/azure-example\" rel=\"nofollow noreferrer\">code</a>.</p>\n<p>Any ideas what I'm doing wrong? I don't want to use .block in the invoker ;/</p>\n<p>Sample response when function returns Mono:</p>\n<pre><code>{\n  &quot;mapper&quot;: {},\n  &quot;optimizableOperator&quot;: {},\n  &quot;source&quot;: {}\n}\n</code></pre>\n<p>Sample Gson error when function returns CompletableFuture:</p>\n<pre><code>System.Private.CoreLib: Exception while executing function: Functions.uppercase. System.Private.CoreLib: Result: Failure\nException: InaccessibleObjectException: Unable to make field volatile java.lang.Object java.util.concurrent.CompletableFuture.result accessible: module java.base does not &quot;opens java.util.concurrent&quot; to unnamed module @17d10166\nStack: com.google.gson.JsonIOException: Failed making field 'java.util.concurrent.CompletableFuture#result' accessible; either change its visibility or write a custom TypeAdapter for its declaring type\n</code></pre>\n<p>Key points from pom:</p>\n<pre><code>        &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.5&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-adapter-azure&lt;/artifactId&gt;\n            &lt;version&gt;4.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>TLDR: I want to create reactive azure app function with reactor so i can return Mono&lt;?&gt; without blocking.</p>\n"},{"tags":["java","spring","spring-mvc","spring-data-jpa","thymeleaf"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700757358,"post_id":77538370,"comment_id":136696082,"body_markdown":"AFAIK, Thymeleaf is only involved in rendering the HTML, it is not involved in processing the POST call from the form to your Spring app. Please provide a [mre], which includes your controller.","body":"AFAIK, Thymeleaf is only involved in rendering the HTML, it is not involved in processing the POST call from the form to your Spring app. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which includes your controller."},{"owner":{"account_id":29976356,"reputation":3,"user_id":22972472,"display_name":"Cl&#233;ment Cadieux"},"score":0,"creation_date":1700760853,"post_id":77538370,"comment_id":136696626,"body_markdown":"Hi! Thanks for the edits and reply! I&#39;m not sure how much I should provide for a minimal reproducible example of a spring project. Would a github repo link to the minimum I had to build to reproduce the issue suffice? If so, here it is: https://github.com/ClementCadieux/stackOverflowMRC. Otherwise, I&#39;d be happy to provide more.","body":"Hi! Thanks for the edits and reply! I&#39;m not sure how much I should provide for a minimal reproducible example of a spring project. Would a github repo link to the minimum I had to build to reproduce the issue suffice? If so, here it is: <a href=\"https://github.com/ClementCadieux/stackOverflowMRC\" rel=\"nofollow noreferrer\">github.com/ClementCadieux/stackOverflowMRC</a>. Otherwise, I&#39;d be happy to provide more."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700812184,"post_id":77538370,"comment_id":136701286,"body_markdown":"Questions need to be self-contained, which means relevant code must be in the question itself, but I think your current update should be good enough.","body":"Questions need to be self-contained, which means relevant code must be in the question itself, but I think your current update should be good enough."}],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700816824,"creation_date":1700816824,"answer_id":77541914,"question_id":77538370,"body_markdown":"I would suggest to separate the entity from the form data object.\r\n\r\nSo create a `AddContactInfoFormData` object that represents the fields you have in your Thymeleaf form.\r\n\r\nIn your POST mapping, you would do something like this:\r\n\r\n```\r\n@PostMapping(&quot;/add-new-contact-info/{id}&quot;)\r\npublic String makeNewContactInfo(@Valid @ModelAttribute(&quot;formData&quot;) AddContactInfoFormData formData, BindingResult bindingResult, @PathVariable long id, Model model,\r\n        RedirectAttributes redirectAttributes) {\r\n\r\n  if (bindingResult.hasErrors()) {\r\n    return &quot;contacts/edit&quot; // This should be the name of your Thymeleaf template so it is re-rendered with the errors\r\n  }\r\n\r\n\r\n    Optional&lt;Contact&gt; optRes = contactService.readById(id);\r\n    if (optRes.isPresent()) {\r\n        Contact contact = optRes.get();\r\n        contact.replaceInfo(formData.toContactInfo());      \r\n        return this.updateContact(contact);\r\n    }\r\n    String message = &quot;Contact doesn&#39;t exist&quot;;\r\n    redirectAttributes.addFlashAttribute(&quot;message&quot;, message);\r\n    return &quot;redirect:/&quot;;\r\n}\r\n\r\n```\r\n\r\n`AddContactInfoFormData` would have a `toContactInfo()` method that creates a new instance of `ContactInfo` based on the form data info received.\r\n\r\nSee [Form Handling with Thymeleaf][1] for more info.\r\n\r\n\r\n  [1]: https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/","title":"Form with post request assigns request parameter to object bound to form","body":"<p>I would suggest to separate the entity from the form data object.</p>\n<p>So create a <code>AddContactInfoFormData</code> object that represents the fields you have in your Thymeleaf form.</p>\n<p>In your POST mapping, you would do something like this:</p>\n<pre><code>@PostMapping(&quot;/add-new-contact-info/{id}&quot;)\npublic String makeNewContactInfo(@Valid @ModelAttribute(&quot;formData&quot;) AddContactInfoFormData formData, BindingResult bindingResult, @PathVariable long id, Model model,\n        RedirectAttributes redirectAttributes) {\n\n  if (bindingResult.hasErrors()) {\n    return &quot;contacts/edit&quot; // This should be the name of your Thymeleaf template so it is re-rendered with the errors\n  }\n\n\n    Optional&lt;Contact&gt; optRes = contactService.readById(id);\n    if (optRes.isPresent()) {\n        Contact contact = optRes.get();\n        contact.replaceInfo(formData.toContactInfo());      \n        return this.updateContact(contact);\n    }\n    String message = &quot;Contact doesn't exist&quot;;\n    redirectAttributes.addFlashAttribute(&quot;message&quot;, message);\n    return &quot;redirect:/&quot;;\n}\n\n</code></pre>\n<p><code>AddContactInfoFormData</code> would have a <code>toContactInfo()</code> method that creates a new instance of <code>ContactInfo</code> based on the form data info received.</p>\n<p>See <a href=\"https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/\" rel=\"nofollow noreferrer\">Form Handling with Thymeleaf</a> for more info.</p>\n"}],"owner":{"account_id":29976356,"reputation":3,"user_id":22972472,"display_name":"Cl&#233;ment Cadieux"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77541914,"answer_count":1,"score":0,"last_activity_date":1700816824,"creation_date":1700756579,"question_id":77538370,"body_markdown":"I&#39;m working with Thymeleaf and Spring and I had something unexpected happen.\r\n\r\nI have this Contact class:\r\n\r\n```java\r\n@Entity\r\npublic class Contact {\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;CONTACT_ID_GEN&quot;)\r\n    @SequenceGenerator(name=&quot;CONTACT_ID_GEN&quot;, sequenceName = &quot;CONTACT_ID_GEN&quot;)\r\n    private long id;\r\n    @NotBlank\r\n    private String name;\r\n    @NotNull\r\n    @OneToMany(mappedBy = &quot;contact&quot;, fetch=FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private List&lt;ContactInfo&gt; info;\r\n\r\n    //Constructors getter setters etc.\r\n}\r\n```\r\n\r\nWith a nested list of this Contact Info class:\r\n\r\n```java\r\n@Entity\r\npublic class ContactInfo {\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;CONTACT_INFO_ID_GEN&quot;)\r\n    @SequenceGenerator(name=&quot;CONTACT_INFO_ID_GEN&quot;, sequenceName = &quot;CONTACT_INFO_ID_GEN&quot;)\r\n    private long id;\r\n    @Column(name = &quot;INFO_VALUE&quot;)\r\n    private String infoValue;\r\n    private InfoType infoType;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;FK_CONTACT_ID&quot;)\r\n    private Contact contact;\r\n\r\n    //Constructors getter setters etc.\r\n}\r\n```\r\n\r\nMy challenge was to make a form that would add a new Contact Info object, but it all has to go through Contact.\r\n\r\nUsing Thymeleaf and Spring, this is the form declaration I came up with\r\n\r\n```html\r\n&lt;form th:action=&quot;&#39;/add-new-contact-info/&#39; + ${contact.id}&quot; method=&quot;post&quot; th:object=&quot;${newContactInfo}&quot;&gt;\r\n```\r\n\r\nHere, newContactInfo is an empty object of type contactInfo and contact.id is the id of the parent Contact Object.\r\n\r\nThe idea is that if I want to add a contactInfo object for Cpntact with id 1, it would go to /add-new-contact-info/1\r\n\r\nNow my form only had inputs for infoValue and infoType. There was no input field for id.\r\n\r\nI expected the ID to be 0 as a default value and then once I call the save method of my repository, it would use the sequence to generate a new one.\r\n\r\nBut instead, Thymeleaf always gave the id the value that&#39;s in the path. So for /add-new-contact-info/{id}, the id of the received ContactInfo object would be {id}.\r\n\r\nI&#39;ve worked with Spring before but not Thyemleaf and I&#39;ve never seen anything work like that. Usually the value of the bodyResponse object would be consisting only of values in the form, the values in the path should be separate no?\r\n\r\nI found a fix where I just manually set the id to 0 immediately in my code and it works fine. Someone else who did the same thing as me simply changed the name of id to contactInfoId and that also worked.\r\n\r\nHere is the method where I fixed it by setting the id to 0 in my controller with the &quot;contactInfo.setId(0);&quot; line:\r\n\r\n    @PostMapping(&quot;/add-new-contact-info/{id}&quot;)\r\n    public String makeNewContactInfo(ContactInfo contactInfo, @PathVariable long id, Model model,\r\n            RedirectAttributes redirectAttributes) {\r\n        contactInfo.setId(0);\r\n        Optional&lt;Contact&gt; optRes = contactService.readById(id);\r\n        if (optRes.isPresent()) {\r\n            Contact contact = optRes.get();\r\n            contact.getInfo().clear();\r\n            contact.getInfo().add(contactInfo);\r\n            return this.updateContact(contact);\r\n        }\r\n        String message = &quot;Contact doesn&#39;t exist&quot;;\r\n        redirectAttributes.addFlashAttribute(&quot;message&quot;, message);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\nCan anyone clarify for me why it works this way? And can it be avoided in a different way?","title":"Form with post request assigns request parameter to object bound to form","body":"<p>I'm working with Thymeleaf and Spring and I had something unexpected happen.</p>\n<p>I have this Contact class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Contact {\n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;CONTACT_ID_GEN&quot;)\n    @SequenceGenerator(name=&quot;CONTACT_ID_GEN&quot;, sequenceName = &quot;CONTACT_ID_GEN&quot;)\n    private long id;\n    @NotBlank\n    private String name;\n    @NotNull\n    @OneToMany(mappedBy = &quot;contact&quot;, fetch=FetchType.EAGER, cascade = CascadeType.ALL)\n    private List&lt;ContactInfo&gt; info;\n\n    //Constructors getter setters etc.\n}\n</code></pre>\n<p>With a nested list of this Contact Info class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class ContactInfo {\n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;CONTACT_INFO_ID_GEN&quot;)\n    @SequenceGenerator(name=&quot;CONTACT_INFO_ID_GEN&quot;, sequenceName = &quot;CONTACT_INFO_ID_GEN&quot;)\n    private long id;\n    @Column(name = &quot;INFO_VALUE&quot;)\n    private String infoValue;\n    private InfoType infoType;\n    @ManyToOne\n    @JoinColumn(name = &quot;FK_CONTACT_ID&quot;)\n    private Contact contact;\n\n    //Constructors getter setters etc.\n}\n</code></pre>\n<p>My challenge was to make a form that would add a new Contact Info object, but it all has to go through Contact.</p>\n<p>Using Thymeleaf and Spring, this is the form declaration I came up with</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form th:action=&quot;'/add-new-contact-info/' + ${contact.id}&quot; method=&quot;post&quot; th:object=&quot;${newContactInfo}&quot;&gt;\n</code></pre>\n<p>Here, newContactInfo is an empty object of type contactInfo and contact.id is the id of the parent Contact Object.</p>\n<p>The idea is that if I want to add a contactInfo object for Cpntact with id 1, it would go to /add-new-contact-info/1</p>\n<p>Now my form only had inputs for infoValue and infoType. There was no input field for id.</p>\n<p>I expected the ID to be 0 as a default value and then once I call the save method of my repository, it would use the sequence to generate a new one.</p>\n<p>But instead, Thymeleaf always gave the id the value that's in the path. So for /add-new-contact-info/{id}, the id of the received ContactInfo object would be {id}.</p>\n<p>I've worked with Spring before but not Thyemleaf and I've never seen anything work like that. Usually the value of the bodyResponse object would be consisting only of values in the form, the values in the path should be separate no?</p>\n<p>I found a fix where I just manually set the id to 0 immediately in my code and it works fine. Someone else who did the same thing as me simply changed the name of id to contactInfoId and that also worked.</p>\n<p>Here is the method where I fixed it by setting the id to 0 in my controller with the &quot;contactInfo.setId(0);&quot; line:</p>\n<pre><code>@PostMapping(&quot;/add-new-contact-info/{id}&quot;)\npublic String makeNewContactInfo(ContactInfo contactInfo, @PathVariable long id, Model model,\n        RedirectAttributes redirectAttributes) {\n    contactInfo.setId(0);\n    Optional&lt;Contact&gt; optRes = contactService.readById(id);\n    if (optRes.isPresent()) {\n        Contact contact = optRes.get();\n        contact.getInfo().clear();\n        contact.getInfo().add(contactInfo);\n        return this.updateContact(contact);\n    }\n    String message = &quot;Contact doesn't exist&quot;;\n    redirectAttributes.addFlashAttribute(&quot;message&quot;, message);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n<p>Can anyone clarify for me why it works this way? And can it be avoided in a different way?</p>\n"},{"tags":["java","css","vaadin"],"answers":[{"tags":[],"owner":{"account_id":3619515,"reputation":497,"user_id":3018638,"display_name":"JPA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700756179,"creation_date":1700756179,"answer_id":77538319,"question_id":77537865,"body_markdown":"I don&#39;t know very much about VAADIN but I suspect that the line \r\n\r\n    informationTypes.addClassName(LumoUtility.Border.NONE);\r\nis not correct.\r\n\r\nYou should use a CSS classname to add to the object, like so:\r\n\r\n    informationTypes.addClassName(&quot;borderless&quot;);\r\nand the CSS for this should be like so:\r\n\r\n    .borderless {\r\n      border-width: 0;\r\n    }\r\n\r\nIf you also want to remove the outline (when a user selects the search box) you can change the CSS to:\r\n\r\n    .borderless {\r\n      border-width: 0;\r\n      outline-width: 0;\r\n    }\r\n\r\n\r\n","title":"Remove border from component","body":"<p>I don't know very much about VAADIN but I suspect that the line</p>\n<pre><code>informationTypes.addClassName(LumoUtility.Border.NONE);\n</code></pre>\n<p>is not correct.</p>\n<p>You should use a CSS classname to add to the object, like so:</p>\n<pre><code>informationTypes.addClassName(&quot;borderless&quot;);\n</code></pre>\n<p>and the CSS for this should be like so:</p>\n<pre><code>.borderless {\n  border-width: 0;\n}\n</code></pre>\n<p>If you also want to remove the outline (when a user selects the search box) you can change the CSS to:</p>\n<pre><code>.borderless {\n  border-width: 0;\n  outline-width: 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2497210,"reputation":1189,"user_id":2173320,"accept_rate":65,"display_name":"padmalcom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700816408,"creation_date":1700816408,"answer_id":77541871,"question_id":77537865,"body_markdown":"Okay, I found a solution. Create a css file with this content:\r\n\r\n&gt; vaadin-combo-box::part(input-field) { \tborder: 0; \toutline-width: 0; }\r\n&gt; \r\n&gt; vaadin-text-field::part(input-field) { \tborder: 0; \toutline-width: 0;\r\n&gt; }\r\n\r\n... and import the css file in your java class:\r\n\r\n&gt; @CssImport(&quot;./styles/search.css&quot;)\r\n\r\nOR use this css:\r\n\r\n&gt; :host([theme~=&quot;search-theme&quot;]) [part=&quot;input-field&quot;] { \tborder: 0;\r\n&gt; \toutline-width: 0; }\r\n\r\n... import the css as shown above and attach the theme to each component that should use it:\r\n\r\n&gt; myinput.addThemeName(&quot;search-theme&quot;);","title":"Remove border from component","body":"<p>Okay, I found a solution. Create a css file with this content:</p>\n<blockquote>\n<p>vaadin-combo-box::part(input-field) {     border: 0;  outline-width: 0; }</p>\n<p>vaadin-text-field::part(input-field) {    border: 0;  outline-width: 0;\n}</p>\n</blockquote>\n<p>... and import the css file in your java class:</p>\n<blockquote>\n<p>@CssImport(&quot;./styles/search.css&quot;)</p>\n</blockquote>\n<p>OR use this css:</p>\n<blockquote>\n<p>:host([theme~=&quot;search-theme&quot;]) [part=&quot;input-field&quot;] {     border: 0;\noutline-width: 0; }</p>\n</blockquote>\n<p>... import the css as shown above and attach the theme to each component that should use it:</p>\n<blockquote>\n<p>myinput.addThemeName(&quot;search-theme&quot;);</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700816801,"creation_date":1700816801,"answer_id":77541911,"question_id":77537865,"body_markdown":"Since the border that you&#39;d like to remove is on a subcomponent within the **shadow-dom** of the `vaadin-combo-box`, you cannot edit that css via the java instance of `ComboBox&lt;InformationType&gt; informationTypes`.  \r\nHowever there is another way. You can read more details [here][1]\r\n\r\nstep 1: create a .css file where you declare no border for `vaadin-combo-box-container`. Make sure this css only applies to subcontainers of comboboxes that have the class `addlater` so all your other comboboxes in your view stay unaffected by this.\r\n\r\n```\r\n/* borderless-combobox-container.css */\r\n\r\n:host(.addlater) vaadin-combo-box-container {\r\n    border: none;\r\n}\r\n```\r\n\r\nstep 2: include this css in your view. I use `@CssImport` for this in Vaadin 14, however the above-linked docs mention **this may have changed for vaadin 24** while still being supported. You may want to read more into that.\r\n\r\n```\r\n// this annotation can be on your routed view, or main/base view, \r\n// or if you have your own component class for your custom search field, you could add it there\r\n@CssImport(value = &quot;./styles/components/borderless-combobox-container.css&quot;, themeFor = &quot;vaadin-combo-box&quot;)\r\npublic class MyView extends VerticalLayout {\r\n    ...\r\n}\r\n```\r\n\r\n\r\n  [1]: https://vaadin.com/docs/latest/styling/styling-components","title":"Remove border from component","body":"<p>Since the border that you'd like to remove is on a subcomponent within the <strong>shadow-dom</strong> of the <code>vaadin-combo-box</code>, you cannot edit that css via the java instance of <code>ComboBox&lt;InformationType&gt; informationTypes</code>.<br />\nHowever there is another way. You can read more details <a href=\"https://vaadin.com/docs/latest/styling/styling-components\" rel=\"nofollow noreferrer\">here</a></p>\n<p>step 1: create a .css file where you declare no border for <code>vaadin-combo-box-container</code>. Make sure this css only applies to subcontainers of comboboxes that have the class <code>addlater</code> so all your other comboboxes in your view stay unaffected by this.</p>\n<pre><code>/* borderless-combobox-container.css */\n\n:host(.addlater) vaadin-combo-box-container {\n    border: none;\n}\n</code></pre>\n<p>step 2: include this css in your view. I use <code>@CssImport</code> for this in Vaadin 14, however the above-linked docs mention <strong>this may have changed for vaadin 24</strong> while still being supported. You may want to read more into that.</p>\n<pre><code>// this annotation can be on your routed view, or main/base view, \n// or if you have your own component class for your custom search field, you could add it there\n@CssImport(value = &quot;./styles/components/borderless-combobox-container.css&quot;, themeFor = &quot;vaadin-combo-box&quot;)\npublic class MyView extends VerticalLayout {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":2497210,"reputation":1189,"user_id":2173320,"accept_rate":65,"display_name":"padmalcom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77541911,"answer_count":3,"score":0,"last_activity_date":1700816801,"creation_date":1700751721,"question_id":77537865,"body_markdown":"I want to create a search field with a combobox as prefix component so that the user can specify the entity type that he wants to search for.\r\n\r\nTo make it look nice, I want to remove the border from the combobox (and maybe from the textfield as well).\r\n\r\nI thought that this code might do it, but unfortunately not. Result looks as shown below.\r\n\r\n\tComboBox&lt;InformationType&gt; informationTypes = new ComboBox&lt;&gt;();\r\n\tinformationTypes.setItems(InformationType.values());\r\n\tinformationTypes.addClassName(LumoUtility.Border.NONE);\r\n\r\n[![enter image description here][1]][1]\r\n\r\nEdit: The combobox informationTypes does not seem to be the element that owns the border. The border belongs to the div with the class vaadin-combo-box-container. And this element can not be styled according to https://vaadin.com/docs/v23/upgrading/essential-steps. So I guess the must be another way.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FfXyK.png\r\n  [2]: https://i.stack.imgur.com/B1ouv.png","title":"Remove border from component","body":"<p>I want to create a search field with a combobox as prefix component so that the user can specify the entity type that he wants to search for.</p>\n<p>To make it look nice, I want to remove the border from the combobox (and maybe from the textfield as well).</p>\n<p>I thought that this code might do it, but unfortunately not. Result looks as shown below.</p>\n<pre><code>ComboBox&lt;InformationType&gt; informationTypes = new ComboBox&lt;&gt;();\ninformationTypes.setItems(InformationType.values());\ninformationTypes.addClassName(LumoUtility.Border.NONE);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FfXyK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FfXyK.png\" alt=\"enter image description here\" /></a></p>\n<p>Edit: The combobox informationTypes does not seem to be the element that owns the border. The border belongs to the div with the class vaadin-combo-box-container. And this element can not be styled according to <a href=\"https://vaadin.com/docs/v23/upgrading/essential-steps\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/v23/upgrading/essential-steps</a>. So I guess the must be another way.</p>\n<p><a href=\"https://i.stack.imgur.com/B1ouv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B1ouv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","design-patterns","solid-principles","interface-segregation-principle"],"comments":[{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":2,"creation_date":1700436605,"post_id":77512520,"comment_id":136651013,"body_markdown":"The Interface Segregation Principle is not concerned with subclasses. It&#39;s the Liskov Substitution Principle which governs inheritance. [The difference between liskov substitution principle and interface segregation principle](https://stackoverflow.com/a/65499896/1371329)?","body":"The Interface Segregation Principle is not concerned with subclasses. It&#39;s the Liskov Substitution Principle which governs inheritance. <a href=\"https://stackoverflow.com/a/65499896/1371329\">The difference between liskov substitution principle and interface segregation principle</a>?"},{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":1,"creation_date":1700471261,"post_id":77512520,"comment_id":136654156,"body_markdown":"I would say the issue he is encountering has nothing to do with Liskov Substitution Principle since the issue is more focused around `performValidations` having an empty implementation body rather than using derivatives of the abstract class.","body":"I would say the issue he is encountering has nothing to do with Liskov Substitution Principle since the issue is more focused around <code>performValidations</code> having an empty implementation body rather than using derivatives of the abstract class."},{"owner":{"account_id":10674408,"reputation":43,"user_id":7858441,"display_name":"Jose Robles Villares"},"score":0,"creation_date":1700561053,"post_id":77512520,"comment_id":136666930,"body_markdown":"Yes, my question was more around what @atish.s mentions, having an empty implementation body when implementing the Template method design pattern","body":"Yes, my question was more around what @atish.s mentions, having an empty implementation body when implementing the Template method design pattern"}],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700470333,"creation_date":1700435488,"answer_id":77512843,"question_id":77512520,"body_markdown":"The basic idea of Interface Segregation Principle is that the concrete classes implementing the interface/extending an abstract class must not be forced to proivde an implementation for methods that are not relevant to them. In your case, `performValidations` is not exactly relevant for all the subclasses but yet they need to provide an implementation for it; so it is indeed violating that principle.\r\n\r\nWithout having much context on the use case of your domain, this would be my recommendation.\r\n\r\nYou could promote `performValidations` to be implemented with an empty implementation body in the abstract class itself. Whoever needs to do some validation just overrides the method `performValidations` and provide their own implementation.\r\n\r\nMaybe a neater solution would be to have an interface `Task` as such which defines the basic idea of a `Task`.\r\n\r\n    public interface Task {\r\n        /**\r\n         * Perform steps required to create a task\r\n         * @return true if all the steps have executed successfully.\r\n         */\r\n        boolean createTask();\r\n    \r\n        /**\r\n         * Perform validations required for a task.\r\n         * @return true if validations are successful.\r\n         */\r\n        default boolean validateTask(){\r\n          return true;   \r\n        }\r\n    \r\n        /**\r\n         * Perform steps required to complete a task\r\n         * @return true if all the steps have executed successfully.\r\n         */\r\n        boolean completeTask();\r\n    }\r\n\r\nIntroducing a method `executeTask` would make sense as well.","title":"Is this UML diagram violating the Interface Segregation Principle?","body":"<p>The basic idea of Interface Segregation Principle is that the concrete classes implementing the interface/extending an abstract class must not be forced to proivde an implementation for methods that are not relevant to them. In your case, <code>performValidations</code> is not exactly relevant for all the subclasses but yet they need to provide an implementation for it; so it is indeed violating that principle.</p>\n<p>Without having much context on the use case of your domain, this would be my recommendation.</p>\n<p>You could promote <code>performValidations</code> to be implemented with an empty implementation body in the abstract class itself. Whoever needs to do some validation just overrides the method <code>performValidations</code> and provide their own implementation.</p>\n<p>Maybe a neater solution would be to have an interface <code>Task</code> as such which defines the basic idea of a <code>Task</code>.</p>\n<pre><code>public interface Task {\n    /**\n     * Perform steps required to create a task\n     * @return true if all the steps have executed successfully.\n     */\n    boolean createTask();\n\n    /**\n     * Perform validations required for a task.\n     * @return true if validations are successful.\n     */\n    default boolean validateTask(){\n      return true;   \n    }\n\n    /**\n     * Perform steps required to complete a task\n     * @return true if all the steps have executed successfully.\n     */\n    boolean completeTask();\n}\n</code></pre>\n<p>Introducing a method <code>executeTask</code> would make sense as well.</p>\n"},{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700816759,"creation_date":1700816759,"answer_id":77541905,"question_id":77512520,"body_markdown":"&gt; Is this violating the Interface Segregation Principle? Or would it be OK in this situation to leave the implementation of this abstract method in the concrete class empty?\r\n\r\nNo, it is not the violation of the Interface Segregation Principle. What you have implemented is also known as `hook` in `Template Method` design pattern. \r\n\r\n[Hook][1] is:\r\n&gt; A hook is an optional step with an empty body. A template method would work even if a hook isn’t overridden. \r\n&gt; Usually, hooks are placed before and after crucial steps of algorithms, providing subclasses with additional \r\n&gt; extension points for an algorithm\r\n\r\n\r\n  [1]: https://refactoring.guru/design-patterns/template-method","title":"Is this UML diagram violating the Interface Segregation Principle?","body":"<blockquote>\n<p>Is this violating the Interface Segregation Principle? Or would it be OK in this situation to leave the implementation of this abstract method in the concrete class empty?</p>\n</blockquote>\n<p>No, it is not the violation of the Interface Segregation Principle. What you have implemented is also known as <code>hook</code> in <code>Template Method</code> design pattern.</p>\n<p><a href=\"https://refactoring.guru/design-patterns/template-method\" rel=\"nofollow noreferrer\">Hook</a> is:</p>\n<blockquote>\n<p>A hook is an optional step with an empty body. A template method would work even if a hook isn’t overridden.\nUsually, hooks are placed before and after crucial steps of algorithms, providing subclasses with additional\nextension points for an algorithm</p>\n</blockquote>\n"}],"owner":{"account_id":10674408,"reputation":43,"user_id":7858441,"display_name":"Jose Robles Villares"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700816759,"creation_date":1700428047,"question_id":77512520,"body_markdown":"I have created this UML diagram which applies the Template method design pattern:\r\n[![UML diagram][1]][1]\r\n\r\nBoth concrete classes share a lot of the logic whithin the template methods createTask and completeTask, with small variations for each concrete implementation, so I went for the [Template method design pattern][2]. However, one of the concrete classes does not need validation, so it implements the abstract method performValidations as an empty void method.\r\n\r\nIs this violating the Interface Segregation Principle? Or would it be OK in this situation to leave the implementation of this abstract method in the concrete class empty? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Uibqi.png\r\n  [2]: https://en.wikipedia.org/wiki/Template_method_pattern","title":"Is this UML diagram violating the Interface Segregation Principle?","body":"<p>I have created this UML diagram which applies the Template method design pattern:\n<a href=\"https://i.stack.imgur.com/Uibqi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uibqi.png\" alt=\"UML diagram\" /></a></p>\n<p>Both concrete classes share a lot of the logic whithin the template methods createTask and completeTask, with small variations for each concrete implementation, so I went for the <a href=\"https://en.wikipedia.org/wiki/Template_method_pattern\" rel=\"nofollow noreferrer\">Template method design pattern</a>. However, one of the concrete classes does not need validation, so it implements the abstract method performValidations as an empty void method.</p>\n<p>Is this violating the Interface Segregation Principle? Or would it be OK in this situation to leave the implementation of this abstract method in the concrete class empty?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4608728,"reputation":1184,"user_id":3737468,"accept_rate":100,"display_name":"devssh"},"score":3,"creation_date":1522682641,"post_id":39860739,"comment_id":86234420,"body_markdown":"The problem with most of the answers using the .length to get array size is that you have to create a variable for the list to get its size. Check https://stackoverflow.com/questions/21426843/get-last-element-of-stream-list-in-a-one-liner","body":"The problem with most of the answers using the .length to get array size is that you have to create a variable for the list to get its size. Check <a href=\"https://stackoverflow.com/questions/21426843/get-last-element-of-stream-list-in-a-one-liner\" title=\"get last element of stream list in a one liner\">stackoverflow.com/questions/21426843/&hellip;</a>"},{"owner":{"account_id":10648383,"reputation":526,"user_id":7845354,"display_name":"Yo Apps"},"score":0,"creation_date":1571653956,"post_id":39860739,"comment_id":103299920,"body_markdown":"Thats right you might have declared an array to hold 25 items, But you may have filled only 10. so (array.length-1) will still give you the index of the 25th item, not the last item you filled in i.e actually in the 10th position or 9th index!","body":"Thats right you might have declared an array to hold 25 items, But you may have filled only 10. so (array.length-1) will still give you the index of the 25th item, not the last item you filled in i.e actually in the 10th position or 9th index!"}],"answers":[{"tags":[],"owner":{"account_id":7124249,"reputation":1650,"user_id":6899868,"display_name":"K Richardson"},"down_vote_count":0,"up_vote_count":115,"is_accepted":false,"score":115,"last_activity_date":1582480348,"creation_date":1475611256,"answer_id":39860808,"question_id":39860739,"body_markdown":"If you have a double array named  `numbers`, you can use:\r\n\r\n    firstNum = numbers[0];\r\n    lastNum = numbers[numbers.length-1];\r\n\r\nor with `ArrayList`\r\n\r\n    firstNum = numbers.get(0);\r\n    lastNum = numbers.get(numbers.size() - 1); ","title":"How to get first and last element in an array in java?","body":"<p>If you have a double array named  <code>numbers</code>, you can use:</p>\n\n<pre><code>firstNum = numbers[0];\nlastNum = numbers[numbers.length-1];\n</code></pre>\n\n<p>or with <code>ArrayList</code></p>\n\n<pre><code>firstNum = numbers.get(0);\nlastNum = numbers.get(numbers.size() - 1); \n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5522551"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1475611345,"creation_date":1475611345,"answer_id":39860831,"question_id":39860739,"body_markdown":"\r\n    // Array of doubles\r\n    double[] array_doubles = {2.5, 6.2, 8.2, 4846.354, 9.6};\r\n    \r\n    // First position\r\n    double firstNum = array_doubles[0]; // 2.5\r\n    \r\n    // Last position\r\n    double lastNum = array_doubles[array_doubles.length - 1]; // 9.6\r\n\r\nThis is the same in any array.","title":"How to get first and last element in an array in java?","body":"<pre><code>// Array of doubles\ndouble[] array_doubles = {2.5, 6.2, 8.2, 4846.354, 9.6};\n\n// First position\ndouble firstNum = array_doubles[0]; // 2.5\n\n// Last position\ndouble lastNum = array_doubles[array_doubles.length - 1]; // 9.6\n</code></pre>\n\n<p>This is the same in any array.</p>\n"},{"tags":[],"owner":{"account_id":3830354,"reputation":442,"user_id":3176050,"display_name":"fsalazar_sch"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1475611478,"creation_date":1475611478,"answer_id":39860854,"question_id":39860739,"body_markdown":"Check this\r\n\r\n    double[] myarray = ...;\r\n    System.out.println(myarray[myarray.length-1]); //last\r\n    System.out.println(myarray[0]); //first\r\n\r\n","title":"How to get first and last element in an array in java?","body":"<p>Check this</p>\n\n<pre><code>double[] myarray = ...;\nSystem.out.println(myarray[myarray.length-1]); //last\nSystem.out.println(myarray[0]); //first\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7515300,"reputation":374,"user_id":5708952,"display_name":"Alexander Grass"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531914713,"creation_date":1531914713,"answer_id":51401326,"question_id":39860739,"body_markdown":"I think there is only one intuitive solution and it is:\r\n\r\n    int[] someArray = {1,2,3,4,5};\r\n    int first = someArray[0];\r\n    int last = someArray[someArray.length - 1];\r\n    System.out.println(&quot;First: &quot; + first + &quot;\\n&quot; + &quot;Last: &quot; + last);\r\n    \r\nOutput:\r\n\r\n    First: 1\r\n    Last: 5","title":"How to get first and last element in an array in java?","body":"<p>I think there is only one intuitive solution and it is:</p>\n\n<pre><code>int[] someArray = {1,2,3,4,5};\nint first = someArray[0];\nint last = someArray[someArray.length - 1];\nSystem.out.println(\"First: \" + first + \"\\n\" + \"Last: \" + last);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>First: 1\nLast: 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15156369,"reputation":287,"user_id":10937031,"display_name":"Yagmur SAHIN"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1685875510,"creation_date":1548057587,"answer_id":54285567,"question_id":39860739,"body_markdown":"In Java, you can get the first and last elements of an array using the following approaches:\r\n\r\n**1. Using Array Indexing:**\r\n\r\nTo get the first element, you can access it using index 0.\r\nTo get the last element, you can access it using the index array.length - 1.\r\nHere&#39;s an example:\r\n\r\n    int[] array = {1, 2, 3, 4, 5};\r\n    \r\n    int firstElement = array[0];\r\n    int lastElement = array[array.length - 1];\r\n    \r\n    System.out.println(&quot;First Element: &quot; + firstElement);\r\n    System.out.println(&quot;Last Element: &quot; + lastElement);\r\n\r\n**2. Using ArrayList (if the array is converted to ArrayList):**\r\n\r\nIf you have converted the array to an ArrayList, you can use the get() method to access the first and last elements.\r\nTo get the first element, use arrayList.get(0).\r\nTo get the last element, use arrayList.get(arrayList.size() - 1).\r\nHere&#39;s an example:\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    int[] array = {1, 2, 3, 4, 5};\r\n    ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\r\n    \r\n    // Convert the array to ArrayList\r\n    for (int i : array) {\r\n        arrayList.add(i);\r\n    }\r\n    \r\n    int firstElement = arrayList.get(0);\r\n    int lastElement = arrayList.get(arrayList.size() - 1);\r\n    \r\n    System.out.println(&quot;First Element: &quot; + firstElement);\r\n    System.out.println(&quot;Last Element: &quot; + lastElement);\r\n\r\n**Both approaches allow you to retrieve the first and last elements of an array in Java. Choose the one that best fits your needs and the type of data structure you are working with.**","title":"How to get first and last element in an array in java?","body":"<p>In Java, you can get the first and last elements of an array using the following approaches:</p>\n<p><strong>1. Using Array Indexing:</strong></p>\n<p>To get the first element, you can access it using index 0.\nTo get the last element, you can access it using the index array.length - 1.\nHere's an example:</p>\n<pre><code>int[] array = {1, 2, 3, 4, 5};\n\nint firstElement = array[0];\nint lastElement = array[array.length - 1];\n\nSystem.out.println(&quot;First Element: &quot; + firstElement);\nSystem.out.println(&quot;Last Element: &quot; + lastElement);\n</code></pre>\n<p><strong>2. Using ArrayList (if the array is converted to ArrayList):</strong></p>\n<p>If you have converted the array to an ArrayList, you can use the get() method to access the first and last elements.\nTo get the first element, use arrayList.get(0).\nTo get the last element, use arrayList.get(arrayList.size() - 1).\nHere's an example:</p>\n<pre><code>import java.util.ArrayList;\n\nint[] array = {1, 2, 3, 4, 5};\nArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\n\n// Convert the array to ArrayList\nfor (int i : array) {\n    arrayList.add(i);\n}\n\nint firstElement = arrayList.get(0);\nint lastElement = arrayList.get(arrayList.size() - 1);\n\nSystem.out.println(&quot;First Element: &quot; + firstElement);\nSystem.out.println(&quot;Last Element: &quot; + lastElement);\n</code></pre>\n<p><strong>Both approaches allow you to retrieve the first and last elements of an array in Java. Choose the one that best fits your needs and the type of data structure you are working with.</strong></p>\n"},{"tags":[],"owner":{"account_id":18558577,"reputation":29,"user_id":13523067,"display_name":"TEJVEER SINGH"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1589907673,"creation_date":1589907673,"answer_id":61896695,"question_id":39860739,"body_markdown":"**This is the given array.**        \r\n\r\n        int myIntegerNumbers[] = {1,2,3,4,5,6,7,8,9,10};\r\n\r\n// If you want print the last element in the array.\r\n\r\n        int lastNumerOfArray= myIntegerNumbers[9];\r\n        Log.i(&quot;MyTag&quot;, lastNumerOfArray + &quot;&quot;);\r\n\r\n// If you want to print the number of element in the array.\r\n\r\n        Log.i(&quot;MyTag&quot;, &quot;The number of elements inside&quot; +\r\n                &quot;the array &quot; +myIntegerNumbers.length);\r\n\r\n// Second method to print the last element inside the array.\r\n\r\n        Log.i(&quot;MyTag&quot;, &quot;The last elements inside &quot; +\r\n                &quot;the array &quot; + myIntegerNumbers[myIntegerNumbers.length-1]);\r\n    ","title":"How to get first and last element in an array in java?","body":"<p><strong>This is the given array.</strong>        </p>\n\n<pre><code>    int myIntegerNumbers[] = {1,2,3,4,5,6,7,8,9,10};\n</code></pre>\n\n<p>// If you want print the last element in the array.</p>\n\n<pre><code>    int lastNumerOfArray= myIntegerNumbers[9];\n    Log.i(\"MyTag\", lastNumerOfArray + \"\");\n</code></pre>\n\n<p>// If you want to print the number of element in the array.</p>\n\n<pre><code>    Log.i(\"MyTag\", \"The number of elements inside\" +\n            \"the array \" +myIntegerNumbers.length);\n</code></pre>\n\n<p>// Second method to print the last element inside the array.</p>\n\n<pre><code>    Log.i(\"MyTag\", \"The last elements inside \" +\n            \"the array \" + myIntegerNumbers[myIntegerNumbers.length-1]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23720983,"reputation":21,"user_id":17741538,"display_name":"Serhat Ture"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640185051,"creation_date":1640185051,"answer_id":70450992,"question_id":39860739,"body_markdown":"# getting first and last element in an array in java #\r\n\r\n    double[] numbers = {10.2, 20, 11.1, 21, 31, 12, \r\n    22.5, 32, 42, 13.6, 23, 32, 43.3, 53, 14, 24, 34,\r\n    44, 54, 64, 15.1, 25, 35, 45, 55, 65.3, 75.4, 16, 26, 17.5,};\r\n    \r\n\r\n    double firstNumber= numbers[0];\r\n\r\n    double lastNumber = numbers[numbers.length-1];\r\n\r\n    System.out.println(&quot;firstNum = &quot;+ firstNumber);\r\n\r\n    System.out.println(&quot;lastNum = &quot;+ lastNumber);","title":"How to get first and last element in an array in java?","body":"<h1>getting first and last element in an array in java</h1>\n<pre><code>double[] numbers = {10.2, 20, 11.1, 21, 31, 12, \n22.5, 32, 42, 13.6, 23, 32, 43.3, 53, 14, 24, 34,\n44, 54, 64, 15.1, 25, 35, 45, 55, 65.3, 75.4, 16, 26, 17.5,};\n\n\ndouble firstNumber= numbers[0];\n\ndouble lastNumber = numbers[numbers.length-1];\n\nSystem.out.println(&quot;firstNum = &quot;+ firstNumber);\n\nSystem.out.println(&quot;lastNum = &quot;+ lastNumber);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13846532,"reputation":319,"user_id":9995556,"display_name":"pbthorste"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700816359,"creation_date":1700815979,"answer_id":77541827,"question_id":39860739,"body_markdown":"Using java 8+ streams:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Optional;\r\n\r\n\r\nString[] items = {&quot;one&quot;, &quot;two&quot;, &quot;three&quot;};\r\n\r\nOptional&lt;String&gt; first = Arrays.stream(items).findFirst();\r\nOptional&lt;String&gt; last = Arrays.stream(items).reduce((x, y) -&gt; y);\r\n```\r\n\r\nThis benefit of this method is that you do not need to check the array length beforehand. For example if you have a zero length array and you call `items[0]`, you will get an `ArrayIndexOutOfBoundsException`.","title":"How to get first and last element in an array in java?","body":"<p>Using java 8+ streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Optional;\n\n\nString[] items = {&quot;one&quot;, &quot;two&quot;, &quot;three&quot;};\n\nOptional&lt;String&gt; first = Arrays.stream(items).findFirst();\nOptional&lt;String&gt; last = Arrays.stream(items).reduce((x, y) -&gt; y);\n</code></pre>\n<p>This benefit of this method is that you do not need to check the array length beforehand. For example if you have a zero length array and you call <code>items[0]</code>, you will get an <code>ArrayIndexOutOfBoundsException</code>.</p>\n"}],"owner":{"account_id":8244700,"reputation":717,"user_id":6201218,"accept_rate":0,"display_name":"Jotaro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414380,"favorite_count":0,"down_vote_count":6,"up_vote_count":69,"answer_count":8,"score":63,"last_activity_date":1700816359,"creation_date":1475611011,"question_id":39860739,"body_markdown":"If I have an array of doubles: \r\n\r\n    [10.2, 20, 11.1, 21, 31, 12, 22.5, 32, 42, 13.6, 23, 32, 43.3, 53, 14, 24, 34, 44, 54, 64, 15.1, 25, 35, 45, 55, 65.3, 75.4, 16, 26, 17.5,]\r\n\r\nand I want to get the first element and last element so that\r\n\r\n    firstNum = 10.2\r\n    \r\n    lastNum = 17.5\r\n\r\nhow would I do this?","title":"How to get first and last element in an array in java?","body":"<p>If I have an array of doubles: </p>\n\n<pre><code>[10.2, 20, 11.1, 21, 31, 12, 22.5, 32, 42, 13.6, 23, 32, 43.3, 53, 14, 24, 34, 44, 54, 64, 15.1, 25, 35, 45, 55, 65.3, 75.4, 16, 26, 17.5,]\n</code></pre>\n\n<p>and I want to get the first element and last element so that</p>\n\n<pre><code>firstNum = 10.2\n\nlastNum = 17.5\n</code></pre>\n\n<p>how would I do this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9821,"page":37,"page_size":100}
