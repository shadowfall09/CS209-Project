{"items":[{"tags":["java","certificate","keycloak"],"comments":[{"owner":{"account_id":1967474,"reputation":3342,"user_id":1767316,"accept_rate":42,"display_name":"user1767316"},"score":0,"creation_date":1673722695,"post_id":74901304,"comment_id":132563465,"body_markdown":"It seems that I have the same difficulty to retrieve sessions from SPI, see my question here: https://stackoverflow.com/questions/75099686/how-to-retrieve-the-list-of-online-and-offline-sessions-attached-to-a-user-using","body":"It seems that I have the same difficulty to retrieve sessions from SPI, see my question here: <a href=\"https://stackoverflow.com/questions/75099686/how-to-retrieve-the-list-of-online-and-offline-sessions-attached-to-a-user-using\" title=\"how to retrieve the list of online and offline sessions attached to a user using\">stackoverflow.com/questions/75099686/&hellip;</a>"}],"owner":{"account_id":5946082,"reputation":13,"user_id":4675543,"display_name":"Yonchev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671809094,"creation_date":1671809094,"question_id":74901304,"body_markdown":"I have an SPI module that listens for events and sends them to my backend service, but I want to encrypt the connection from Keycloak to the backend with the realm certificates. For this purpose, I need the private key of one of these certificates. I saw that if I have a KeycloakSession I can get it as:\r\n\r\n    session.keys().getActiveKey(session.getContext().getRealm(), KeyUse.SIG, Algorithm.RS256).getPrivateKey()\r\n\r\nHowever, event listeners have no way to get the session, or at least I haven&#39;t found a way. Is there another option to access the certificates without using a session?","title":"Find Realm PrivateKey in Keycloak SPI module","body":"<p>I have an SPI module that listens for events and sends them to my backend service, but I want to encrypt the connection from Keycloak to the backend with the realm certificates. For this purpose, I need the private key of one of these certificates. I saw that if I have a KeycloakSession I can get it as:</p>\n<pre><code>session.keys().getActiveKey(session.getContext().getRealm(), KeyUse.SIG, Algorithm.RS256).getPrivateKey()\n</code></pre>\n<p>However, event listeners have no way to get the session, or at least I haven't found a way. Is there another option to access the certificates without using a session?</p>\n"},{"tags":["java","arraylist","hashmap","linkedhashmap"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671801438,"post_id":74899906,"comment_id":132179402,"body_markdown":"Do you mean you want to print the list elements in order, or for each map you want to print the mappings (key-value pairs) in order, and if so, in which order? Or did you want both? Please give example of desired output and observed output.","body":"Do you mean you want to print the list elements in order, or for each map you want to print the mappings (key-value pairs) in order, and if so, in which order? Or did you want both? Please give example of desired output and observed output."},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1671801587,"post_id":74899906,"comment_id":132179451,"body_markdown":"You could write your own ```Comparator``` to order your list by ```Collections.sort(list, comparator)```, or you have to construct a new fat LinkedHashMap with respectation of unique keys.","body":"You could write your own <code>Comparator</code> to order your list by <code>Collections.sort(list, comparator)</code>, or you have to construct a new fat LinkedHashMap with respectation of unique keys."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1671801648,"post_id":74899906,"comment_id":132179464,"body_markdown":"do you mean to have the columns sorted or the whole list? (a cast does NOT change the runtime type of an instance - that is not possible, you need to create a new instance of different type)","body":"do you mean to have the columns sorted or the whole list? (a cast does NOT change the runtime type of an instance - that is not possible, you need to create a new instance of different type)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671802271,"post_id":74899906,"comment_id":132179614,"body_markdown":"For a sorted map fill the contents of your `HashMap` into a new `TreeMap`.","body":"For a sorted map fill the contents of your <code>HashMap</code> into a new <code>TreeMap</code>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1671803163,"post_id":74899906,"comment_id":132179901,"body_markdown":"Please clarify what need to be sorted? If you want the list to be sorted, then use `ORDER BY` in your query.","body":"Please clarify what need to be sorted? If you want the list to be sorted, then use <code>ORDER BY</code> in your query."}],"answers":[{"tags":[],"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671809076,"creation_date":1671809076,"answer_id":74901298,"question_id":74899906,"body_markdown":"Create this class and call it instead of: `AliasToEntityMapResultTransformer.INSTANCE`\r\n\r\n    public class MyTransformer extends AliasedTupleSubsetResultTransformer {\r\n\r\n\tpublic static final MyTransformer INSTANCE = new MyTransformer();\r\n\r\n\t/**\r\n\t * Disallow instantiation of AliasToEntityMapResultTransformer.\r\n\t */\r\n\tprivate MyTransformer() {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object transformTuple(Object[] tuple, String[] aliases) {\r\n\t\tMap result = new LinkedHashMap&lt;&gt;(tuple.length);\r\n\t\r\n\t\tfor (int i = 0; i &lt; tuple.length; i++) {\r\n\t\t\tString alias = aliases[i];\r\n\t\t\tif (alias != null) {\r\n\t\t\t\tresult.put(alias, tuple[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isTransformedValueATupleElement(String[] aliases, int tupleLength) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Serialization hook for ensuring singleton uniqueing.\r\n\t *\r\n\t * @return The singleton instance : {@link #INSTANCE}\r\n\t */\r\n\tprivate Object readResolve() {\r\n\t\treturn INSTANCE;\r\n\t}\r\n    }","title":"Cast HashMap in LinkedHashMap","body":"<p>Create this class and call it instead of: <code>AliasToEntityMapResultTransformer.INSTANCE</code></p>\n<pre><code>public class MyTransformer extends AliasedTupleSubsetResultTransformer {\n\npublic static final MyTransformer INSTANCE = new MyTransformer();\n\n/**\n * Disallow instantiation of AliasToEntityMapResultTransformer.\n */\nprivate MyTransformer() {\n}\n\n@Override\npublic Object transformTuple(Object[] tuple, String[] aliases) {\n    Map result = new LinkedHashMap&lt;&gt;(tuple.length);\n\n    for (int i = 0; i &lt; tuple.length; i++) {\n        String alias = aliases[i];\n        if (alias != null) {\n            result.put(alias, tuple[i]);\n        }\n    }\n    return result;\n}\n\n@Override\npublic boolean isTransformedValueATupleElement(String[] aliases, int tupleLength) {\n    return false;\n}\n\n/**\n * Serialization hook for ensuring singleton uniqueing.\n *\n * @return The singleton instance : {@link #INSTANCE}\n */\nprivate Object readResolve() {\n    return INSTANCE;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74901298,"answer_count":1,"score":0,"last_activity_date":1671809076,"creation_date":1671800283,"question_id":74899906,"body_markdown":"I&#39;m getting the results from the database into a `List&lt;Map&lt;String, Object&gt;&gt;`. The problem the values are not in order, so I thought to cast in a LinkedHashMap, but I get this exception:\r\n\r\n     javax.ejb.EJBException: java.lang.ClassCastException: class java.util.HashMap cannot be cast to class java.util.LinkedHashMap (java.util.HashMap and java.util.LinkedHashMap are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nThe method is this:\r\n\r\n    protected EntityManager em;\r\n    Query q = em.createNativeQuery(&quot;select * from City&quot;);\r\n    NativeQueryImpl nativeQuery = (NativeQueryImpl) q;\r\n\tnativeQuery.setResultTransformer(AliasToEntityMapResultTransformer.INSTANCE);\r\n\tList&lt;LinkedHashMap&lt;String, Object&gt;&gt; r = (List&lt;LinkedHashMap&lt;String, Object&gt;&gt;) nativeQuery.getResultList();\r\n\tr.stream().forEach(System.out::println);\r\n\r\nDoes anybody knows how can I print results in order?\r\n","title":"Cast HashMap in LinkedHashMap","body":"<p>I'm getting the results from the database into a <code>List&lt;Map&lt;String, Object&gt;&gt;</code>. The problem the values are not in order, so I thought to cast in a LinkedHashMap, but I get this exception:</p>\n<pre><code> javax.ejb.EJBException: java.lang.ClassCastException: class java.util.HashMap cannot be cast to class java.util.LinkedHashMap (java.util.HashMap and java.util.LinkedHashMap are in module java.base of loader 'bootstrap')\n</code></pre>\n<p>The method is this:</p>\n<pre><code>protected EntityManager em;\nQuery q = em.createNativeQuery(&quot;select * from City&quot;);\nNativeQueryImpl nativeQuery = (NativeQueryImpl) q;\nnativeQuery.setResultTransformer(AliasToEntityMapResultTransformer.INSTANCE);\nList&lt;LinkedHashMap&lt;String, Object&gt;&gt; r = (List&lt;LinkedHashMap&lt;String, Object&gt;&gt;) nativeQuery.getResultList();\nr.stream().forEach(System.out::println);\n</code></pre>\n<p>Does anybody knows how can I print results in order?</p>\n"},{"tags":["java","spring-boot","scheduled-tasks"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1671805587,"post_id":74900515,"comment_id":132180514,"body_markdown":"You can always use [`ScheduledExecutorService`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html) yourself.","body":"You can always use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a> yourself."}],"owner":{"account_id":27334860,"reputation":1,"user_id":20846449,"display_name":"maciejgogulski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671808489,"creation_date":1671804204,"question_id":74900515,"body_markdown":"I have a table whith 3 columns. \r\n- dateTimeStart\r\n- dateTimeEnd\r\n- refreshTimeInSeconds\r\n\r\nIn want my application for each record to run a scheduled task between dateTimeStart and dateTimeEnd for every refreshTimeInSeconds.\r\n\r\nExample:\r\n \r\n\r\ndateTimeStart - 2022/12/23 03:00:00 PM  \r\ndateTimeEnd - 2022/12/23 04:00:00 PM  \r\nrefreshTimeInSeconds - 60\r\n\r\n2022/12/23 03:00:00 PM - call some method  \r\n2022/12/23 03:01:00 PM - call some method (+ 60 seconds)  \r\n...  \r\n2022/12/23 04:00:00 PM - call some method\r\n\r\n\r\nI have no idea how to solve this. Can I do this in spring using @Scheduled?","title":"Spring boot @Scheduled: parametrized task based on database record","body":"<p>I have a table whith 3 columns.</p>\n<ul>\n<li>dateTimeStart</li>\n<li>dateTimeEnd</li>\n<li>refreshTimeInSeconds</li>\n</ul>\n<p>In want my application for each record to run a scheduled task between dateTimeStart and dateTimeEnd for every refreshTimeInSeconds.</p>\n<p>Example:</p>\n<p>dateTimeStart - 2022/12/23 03:00:00 PM<br />\ndateTimeEnd - 2022/12/23 04:00:00 PM<br />\nrefreshTimeInSeconds - 60</p>\n<p>2022/12/23 03:00:00 PM - call some method<br />\n2022/12/23 03:01:00 PM - call some method (+ 60 seconds)<br />\n...<br />\n2022/12/23 04:00:00 PM - call some method</p>\n<p>I have no idea how to solve this. Can I do this in spring using @Scheduled?</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","springfox"],"comments":[{"owner":{"account_id":4130200,"reputation":1291,"user_id":3388344,"accept_rate":71,"display_name":"Jorj"},"score":0,"creation_date":1572880656,"post_id":58695839,"comment_id":103688999,"body_markdown":"From what I know there is no solution for this in springfox api. Another dirty solution that worked for me: if you have access to modify `swagger-ui.html` you can sort the specs with javascript.","body":"From what I know there is no solution for this in springfox api. Another dirty solution that worked for me: if you have access to modify <code>swagger-ui.html</code> you can sort the specs with javascript."}],"answers":[{"tags":[],"owner":{"account_id":56970,"reputation":1143,"user_id":170637,"display_name":"Olivier G&#233;rardin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576839956,"creation_date":1576839956,"answer_id":59424223,"question_id":58695839,"body_markdown":"My quick-and dirty hack: \r\n\r\n - I prepend &quot;@&quot; to make a group first in the list (hence default) \r\n - I prepend &quot;~&quot; to make a group last in the list\r\n\r\n","title":"How to change the default group / specification in Swagger UI?","body":"<p>My quick-and dirty hack: </p>\n\n<ul>\n<li>I prepend \"@\" to make a group first in the list (hence default) </li>\n<li>I prepend \"~\" to make a group last in the list</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6343851,"reputation":31,"user_id":4924993,"display_name":"khejing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641781112,"creation_date":1641721407,"answer_id":70640045,"question_id":58695839,"body_markdown":"use **urls.primaryName** parameter in the doc: https://github.com/swagger-api/swagger-ui/blob/v3.17.1/docs/usage/configuration.md#parameters","title":"How to change the default group / specification in Swagger UI?","body":"<p>use <strong>urls.primaryName</strong> parameter in the doc: <a href=\"https://github.com/swagger-api/swagger-ui/blob/v3.17.1/docs/usage/configuration.md#parameters\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-ui/blob/v3.17.1/docs/usage/configuration.md#parameters</a></p>\n"}],"owner":{"account_id":10183527,"reputation":2074,"user_id":7519419,"display_name":"Vladas Maier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4536,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1671808446,"creation_date":1572879051,"question_id":58695839,"body_markdown":"The Swagger documentation in my project has multiple groups. There is a `Docket` for each group and the endpoints (members of each group) are marked with a custom annotation. For example here is the `Docket` for **authentication** group:\r\n\r\n    @Bean\r\n    public Docket authenticationApis() {\r\n\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .groupName(&quot;authentication&quot;)\r\n                .useDefaultResponseMessages(false)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.withMethodAnnotation(AuthenticationApiGroup.class))\r\n                .paths(PathSelectors.any())\r\n                .build()\r\n                .apiInfo(apiInfo())\r\n                .securitySchemes(Collections.singletonList(securityScheme()))\r\n                .securityContexts(Collections.singletonList(securityContext()));\r\n    }\r\n\r\nThere is also a (default) `Docket` for all available endpoints. The problem is that Swagger UI loads the most top group on default when I am calling the documentation URL `.../swagger-ui.html`. In my case it is the **authentication** group, since the groups are sorted alphabetically. The desired behaviour is that the **default** group is loaded as the default API group. How could I achieve that?\r\n\r\n[![][1]][1]\r\n\r\nI have tried to name the default `Docket` with the `.groupName(&quot;all&quot;)` so it&#39;s the most top group (**all** &lt; **authentication**) but this solution is a bit &quot;dirty&quot; and in this case the documentation would have two duplicate groups (**all** and **default**).\r\n\r\n`Springfox 2.9.2` is used in the project. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LiS1f.jpg","title":"How to change the default group / specification in Swagger UI?","body":"<p>The Swagger documentation in my project has multiple groups. There is a <code>Docket</code> for each group and the endpoints (members of each group) are marked with a custom annotation. For example here is the <code>Docket</code> for <strong>authentication</strong> group:</p>\n\n<pre><code>@Bean\npublic Docket authenticationApis() {\n\n    return new Docket(DocumentationType.SWAGGER_2)\n            .groupName(\"authentication\")\n            .useDefaultResponseMessages(false)\n            .select()\n            .apis(RequestHandlerSelectors.withMethodAnnotation(AuthenticationApiGroup.class))\n            .paths(PathSelectors.any())\n            .build()\n            .apiInfo(apiInfo())\n            .securitySchemes(Collections.singletonList(securityScheme()))\n            .securityContexts(Collections.singletonList(securityContext()));\n}\n</code></pre>\n\n<p>There is also a (default) <code>Docket</code> for all available endpoints. The problem is that Swagger UI loads the most top group on default when I am calling the documentation URL <code>.../swagger-ui.html</code>. In my case it is the <strong>authentication</strong> group, since the groups are sorted alphabetically. The desired behaviour is that the <strong>default</strong> group is loaded as the default API group. How could I achieve that?</p>\n\n<p><a href=\"https://i.stack.imgur.com/LiS1f.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LiS1f.jpg\" alt=\"\"></a></p>\n\n<p>I have tried to name the default <code>Docket</code> with the <code>.groupName(\"all\")</code> so it's the most top group (<strong>all</strong> &lt; <strong>authentication</strong>) but this solution is a bit \"dirty\" and in this case the documentation would have two duplicate groups (<strong>all</strong> and <strong>default</strong>).</p>\n\n<p><code>Springfox 2.9.2</code> is used in the project. </p>\n"},{"tags":["java","spring-boot","hibernate-envers","teiid"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671906318,"post_id":74901109,"comment_id":132195926,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27336687,"reputation":1,"user_id":20848010,"display_name":"nick-cloud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671807860,"creation_date":1671807860,"question_id":74901109,"body_markdown":"I have a problem with the integration of hibernate envers on a application that use Teiid. This one doesn&#39;t support ddl like &#39;create table TABLE_NAME_AUD&#39; or sequence generation.\r\n\r\nI tried to split entity manager and tranction manager and delegate create table to another entity manager, but the transations on entities created by virtual table doesn&#39;t work. I also tried to create tables on DB, but the insert statement generated by hibernate dosn&#39;t work because the name of column of reventity is a keyword of teiid syntax and I can&#39;t change the name of column.\r\nSo, there&#39;s a way to implements hibernate envers with Teiid propertly?\r\n\r\nThanks!","title":"How use Hibernate Envers with Teiid","body":"<p>I have a problem with the integration of hibernate envers on a application that use Teiid. This one doesn't support ddl like 'create table TABLE_NAME_AUD' or sequence generation.</p>\n<p>I tried to split entity manager and tranction manager and delegate create table to another entity manager, but the transations on entities created by virtual table doesn't work. I also tried to create tables on DB, but the insert statement generated by hibernate dosn't work because the name of column of reventity is a keyword of teiid syntax and I can't change the name of column.\nSo, there's a way to implements hibernate envers with Teiid propertly?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","hibernate-validator"],"comments":[{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1671796325,"post_id":74899087,"comment_id":132178052,"body_markdown":"Can you please provide the content of VehiculeFrontDto.java as well?","body":"Can you please provide the content of VehiculeFrontDto.java as well?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671797899,"post_id":74899087,"comment_id":132178476,"body_markdown":"If the DTO is valid, an empty set is the only thing I&#39;d expect - there are no violations. If the test is failing, the DTO is not valid. The violation(s) contain not just the (interpolated) message, but also the constraint annotation that triggered the violation.","body":"If the DTO is valid, an empty set is the only thing I&#39;d expect - there are no violations. If the test is failing, the DTO is not valid. The violation(s) contain not just the (interpolated) message, but also the constraint annotation that triggered the violation."}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671807852,"creation_date":1671807852,"answer_id":74901107,"question_id":74899087,"body_markdown":"When you validate the DTO with the validator, *all* validation annotations are checked. Did you maybe forget to set the `derogatoire` property? Because your message template says `{vehicule.derogatoire.obligatoire}`. If your DTO was valid, the returned list should indeed be empty, but it is not! You probably need to append your code like this:\r\n```java\r\n        VehiculeFrontDto vehiculeFrontDto = new VehiculeFrontDto();\r\n        vehiculeFrontDto.setImmat(&quot;test&quot;);\r\n        vehiculeFrontDto.setMarque(&quot;test2&quot;);\r\n        vehiculeFrontDto.setModele(&quot;test3&quot;);\r\n        vehiculeFrontDto.setDatePremiereImmat(new Date());\r\n        vehiculeFrontDto.setSituation(SituationVehiculeEnum.CAPA.getCode());\r\n        // added line\r\n        vehiculeFrontDto.setDerogatoire(true); // or false?\r\n```\r\n\r\n","title":"Can this Set be empty when I validate it with the Validator class?","body":"<p>When you validate the DTO with the validator, <em>all</em> validation annotations are checked. Did you maybe forget to set the <code>derogatoire</code> property? Because your message template says <code>{vehicule.derogatoire.obligatoire}</code>. If your DTO was valid, the returned list should indeed be empty, but it is not! You probably need to append your code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        VehiculeFrontDto vehiculeFrontDto = new VehiculeFrontDto();\n        vehiculeFrontDto.setImmat(&quot;test&quot;);\n        vehiculeFrontDto.setMarque(&quot;test2&quot;);\n        vehiculeFrontDto.setModele(&quot;test3&quot;);\n        vehiculeFrontDto.setDatePremiereImmat(new Date());\n        vehiculeFrontDto.setSituation(SituationVehiculeEnum.CAPA.getCode());\n        // added line\n        vehiculeFrontDto.setDerogatoire(true); // or false?\n</code></pre>\n"}],"owner":{"account_id":15922986,"reputation":280,"user_id":11489425,"display_name":"Andrew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74901107,"answer_count":1,"score":1,"last_activity_date":1671807852,"creation_date":1671794677,"question_id":74899087,"body_markdown":"I don&#39;t really understand how the function isEmpty() can return true when it&#39;s validated with a valid DTO object.\r\nIn the anomalies variable, after I checked with the debugger, we have the following values\r\n```\r\ninterpolatedMessage: &quot;Veuillez renseigner si votre v&#233;hicule est d&#233;rogatoire ou non.&quot; (id=344)\r\nmessageTemplate: {vehicule.derogatoire.obligatoire}&quot; (id=348)\r\n```\r\n org.opentest4j.AssertionFailedError: expected: true but was: false\r\n\r\nIn this case, the test might be written in a wrong way?\r\n```\r\n @Test\r\n    public void testValidator() {\r\n\r\n        VehiculeFrontDto vehiculeFrontDto = new VehiculeFrontDto();\r\n        vehiculeFrontDto.setImmat(&quot;test&quot;);\r\n        vehiculeFrontDto.setMarque(&quot;test2&quot;);\r\n        vehiculeFrontDto.setModele(&quot;test3&quot;);\r\n        vehiculeFrontDto.setDatePremiereImmat(new Date());\r\n        vehiculeFrontDto.setSituation(SituationVehiculeEnum.CAPA.getCode());\r\n\r\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n        Validator validator = factory.getValidator();\r\n\r\n        \r\n        Set&lt;ConstraintViolation&lt;VehiculeFrontDto&gt;&gt; anomalies = validator.validate(vehiculeFrontDto, Default.class);\r\n\t\tAssertions.assertTrue(anomalies.isEmpty());\r\n```","title":"Can this Set be empty when I validate it with the Validator class?","body":"<p>I don't really understand how the function isEmpty() can return true when it's validated with a valid DTO object.\nIn the anomalies variable, after I checked with the debugger, we have the following values</p>\n<pre><code>interpolatedMessage: &quot;Veuillez renseigner si votre véhicule est dérogatoire ou non.&quot; (id=344)\nmessageTemplate: {vehicule.derogatoire.obligatoire}&quot; (id=348)\n</code></pre>\n<p>org.opentest4j.AssertionFailedError: expected: true but was: false</p>\n<p>In this case, the test might be written in a wrong way?</p>\n<pre><code> @Test\n    public void testValidator() {\n\n        VehiculeFrontDto vehiculeFrontDto = new VehiculeFrontDto();\n        vehiculeFrontDto.setImmat(&quot;test&quot;);\n        vehiculeFrontDto.setMarque(&quot;test2&quot;);\n        vehiculeFrontDto.setModele(&quot;test3&quot;);\n        vehiculeFrontDto.setDatePremiereImmat(new Date());\n        vehiculeFrontDto.setSituation(SituationVehiculeEnum.CAPA.getCode());\n\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n        Validator validator = factory.getValidator();\n\n        \n        Set&lt;ConstraintViolation&lt;VehiculeFrontDto&gt;&gt; anomalies = validator.validate(vehiculeFrontDto, Default.class);\n        Assertions.assertTrue(anomalies.isEmpty());\n</code></pre>\n"},{"tags":["java","spring","interface","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671807524,"creation_date":1671806870,"answer_id":74900942,"question_id":74900828,"body_markdown":"The return type and parameter type of the save method defined on the two interfaces are different, which makes them incompatible.\r\n\r\nThe `ReactiveCrudRepository` that `ReactiveElasticsearchRepository` extends, specifies that types derived from `MyPojo` can be passed to and will be returned from the [save method][1].\r\n\r\nIn your custom interface you limit the passed argument and return type strictly to `MyPojo`.  So the compiler recognizes there is no way to determine which save method is called at runtime and complains.\r\n\r\nTry adjusting the return type of your interface to the following and adjusting your implementations:\r\n\r\n```\r\npublic interface MyInterface&lt;T extends MyPojo&gt; {\r\n    Mono&lt;T&gt; save(T myPojo);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/reactive/ReactiveCrudRepository.html#save(S)","title":"Java Spring Webflux: issue types MyInterface and org.springframework.data.repository.reactive.ReactiveCrudRepository&lt;MyPojo,String&gt; are incompatible","body":"<p>The return type and parameter type of the save method defined on the two interfaces are different, which makes them incompatible.</p>\n<p>The <code>ReactiveCrudRepository</code> that <code>ReactiveElasticsearchRepository</code> extends, specifies that types derived from <code>MyPojo</code> can be passed to and will be returned from the <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/reactive/ReactiveCrudRepository.html#save(S)\" rel=\"nofollow noreferrer\">save method</a>.</p>\n<p>In your custom interface you limit the passed argument and return type strictly to <code>MyPojo</code>.  So the compiler recognizes there is no way to determine which save method is called at runtime and complains.</p>\n<p>Try adjusting the return type of your interface to the following and adjusting your implementations:</p>\n<pre><code>public interface MyInterface&lt;T extends MyPojo&gt; {\n    Mono&lt;T&gt; save(T myPojo);\n}\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74900942,"answer_count":1,"score":1,"last_activity_date":1671807813,"creation_date":1671806172,"question_id":74900828,"body_markdown":"Small question regarding Java Spring Webflux and type incompatibility issues please.\r\n\r\nI have a very simple Spring Webflux application, where I declare a common interface for all my repositories to save a pojo:\r\n\r\n```\r\npublic interface MyInterface {\r\n\r\n    Mono&lt;MyPojo&gt; save(MyPojo myPojo);\r\n\r\n}\r\n```\r\n\r\nHere are example of a concrete implementation, for instance, Redis:\r\n\r\n```\r\n@Repository(&quot;redis&quot;)\r\npublic class MyRedisRepository implements MyInterface {\r\n    private final ReactiveRedisOperations&lt;String, String&gt; reactiveRedisOperations;\r\n\r\n    public MyRedisRepository(ReactiveRedisOperations&lt;String, String&gt; reactiveRedisOperations) {\r\n        this.reactiveRedisOperations = reactiveRedisOperations;\r\n    }\r\n\r\n    @Override\r\n    public Mono&lt;MyPojo&gt; save(MyPojo myPojo) {\r\n        return reactiveRedisOperations.opsForValue().set(&quot;someKey&quot;, &quot;someValue&quot;).map(__ -&gt; myPojo);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAnd now an example with Elastic.\r\n\r\n```\r\n@Repository(&quot;elastic&quot;)\r\npublic interface MyElasticRepository extends ReactiveElasticsearchRepository&lt;MyPojo, String&gt;, MyInterface {\r\n\r\n}\r\n```\r\n\r\nPlease note, the important point is that some are regular classes (like Redis) which needs to implement the save method.\r\n\r\nOn the other hand, some are interface which implements ```Reactive___Repository&lt;MyPojo, String&gt;``` (which already have a save method)\r\n\r\nWhen trying to compile, I am faced with this issue:\r\n\r\n```\r\ntypes question.MyInterface and org.springframework.data.repository.reactive.ReactiveCrudRepository&lt;question.MyPojo,java.lang.String&gt; are incompatible;\r\n```\r\n\r\nThis is a bit strange to me, as my intention is just to have all the repositories under a common ```MyInterface ```, with a save method.\r\n\r\nMay I ask why I am facing this issue, and most of all, how to resolve this (keeping the ```MyInterface ```) please?\r\n\r\nThank you","title":"Java Spring Webflux: issue types MyInterface and org.springframework.data.repository.reactive.ReactiveCrudRepository&lt;MyPojo,String&gt; are incompatible","body":"<p>Small question regarding Java Spring Webflux and type incompatibility issues please.</p>\n<p>I have a very simple Spring Webflux application, where I declare a common interface for all my repositories to save a pojo:</p>\n<pre><code>public interface MyInterface {\n\n    Mono&lt;MyPojo&gt; save(MyPojo myPojo);\n\n}\n</code></pre>\n<p>Here are example of a concrete implementation, for instance, Redis:</p>\n<pre><code>@Repository(&quot;redis&quot;)\npublic class MyRedisRepository implements MyInterface {\n    private final ReactiveRedisOperations&lt;String, String&gt; reactiveRedisOperations;\n\n    public MyRedisRepository(ReactiveRedisOperations&lt;String, String&gt; reactiveRedisOperations) {\n        this.reactiveRedisOperations = reactiveRedisOperations;\n    }\n\n    @Override\n    public Mono&lt;MyPojo&gt; save(MyPojo myPojo) {\n        return reactiveRedisOperations.opsForValue().set(&quot;someKey&quot;, &quot;someValue&quot;).map(__ -&gt; myPojo);\n    }\n\n}\n\n</code></pre>\n<p>And now an example with Elastic.</p>\n<pre><code>@Repository(&quot;elastic&quot;)\npublic interface MyElasticRepository extends ReactiveElasticsearchRepository&lt;MyPojo, String&gt;, MyInterface {\n\n}\n</code></pre>\n<p>Please note, the important point is that some are regular classes (like Redis) which needs to implement the save method.</p>\n<p>On the other hand, some are interface which implements <code>Reactive___Repository&lt;MyPojo, String&gt;</code> (which already have a save method)</p>\n<p>When trying to compile, I am faced with this issue:</p>\n<pre><code>types question.MyInterface and org.springframework.data.repository.reactive.ReactiveCrudRepository&lt;question.MyPojo,java.lang.String&gt; are incompatible;\n</code></pre>\n<p>This is a bit strange to me, as my intention is just to have all the repositories under a common <code>MyInterface </code>, with a save method.</p>\n<p>May I ask why I am facing this issue, and most of all, how to resolve this (keeping the <code>MyInterface </code>) please?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671807594,"creation_date":1671807594,"answer_id":74901061,"question_id":74899925,"body_markdown":"Try out the [`@EnableCouchbaseRepositories`][1] annotation, maybe even by specifying the `basePackages`. Add a configuration bean like this:\r\n```java\r\n@Configuration\r\n@EnableCouchbaseRepositories(basePackages = &quot;com.minerva.borrowings.repositories&quot;)\r\nclass CouchbaseDbConfig {\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/couchbase/docs/current/api/org/springframework/data/couchbase/repository/config/EnableCouchbaseRepositories.html","title":"Repository is declared with @Repository but bean is not recognized","body":"<p>Try out the <a href=\"https://docs.spring.io/spring-data/couchbase/docs/current/api/org/springframework/data/couchbase/repository/config/EnableCouchbaseRepositories.html\" rel=\"nofollow noreferrer\"><code>@EnableCouchbaseRepositories</code></a> annotation, maybe even by specifying the <code>basePackages</code>. Add a configuration bean like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableCouchbaseRepositories(basePackages = &quot;com.minerva.borrowings.repositories&quot;)\nclass CouchbaseDbConfig {\n}\n</code></pre>\n"}],"owner":{"account_id":22604293,"reputation":5,"user_id":16785383,"display_name":"IMNOTIKE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74901061,"answer_count":1,"score":0,"last_activity_date":1671807594,"creation_date":1671800412,"question_id":74899925,"body_markdown":"This has been happening ever since i moved from Spring Data MongoDB to Spring Data Couchbase but even deleting the project as a whole and recreating did not solve the problem.\r\n\r\nEvery time I start my application throws:\r\n\r\n```bash\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.minerva.borrowings.services.BorrowingServiceImpl required a bean of type &#39;com.minerva.borrowings.repositories.BorrowingRepo&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.minerva.borrowings.repositories.BorrowingRepo&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nBut my file structure is:\r\n```\r\n └───com\r\n    └───minerva\r\n        └───borrowings\r\n            │   BorrowingsApplication.java\r\n            │   \r\n            ├───config\r\n            │       LoggingConfig.java\r\n            │       NotificationConfig.java\r\n            │       \r\n            ├───controllers\r\n            │       BorrowingController.java\r\n            │       \r\n            ├───entities\r\n            │       Borrowing.java\r\n            │\r\n            ├───exceptions\r\n            │       BorrowingNotFoundException.java\r\n            │       BorrowingServerErrorException.java\r\n            │       NullBodyException.java\r\n            │       NullIdException.java\r\n            │       UnknownIdTypeException.java\r\n            │\r\n            ├───repositories\r\n            │       BorrowingRepo.java\r\n            │\r\n            └───services\r\n                    BorrowingNotificationSender.java\r\n                    BorrowingService.java\r\n                    BorrowingServiceImpl.java\r\n\r\n```\r\n\r\nAnd the repository file is as such:\r\n```java\r\n\r\npackage com.minerva.borrowings.repositories;\r\n\r\nimport com.minerva.borrowings.entities.Borrowing;\r\nimport org.springframework.data.couchbase.repository.CouchbaseRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\n   public interface BorrowingRepo extends CouchbaseRepository&lt;Borrowing, String&gt; {\r\n}\r\n\r\n```\r\n\r\nAnd my BorrowingApplication.java uses `@SpringBootApplication` and does not allow to use `@ComponentScan` or `@EnableJpaRepository`\r\n\r\nMy pom.xml file is as such:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.minerva&lt;/groupId&gt;\r\n    &lt;artifactId&gt;borrowings&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;borrowings&lt;/name&gt;\r\n    &lt;description&gt;borrowings&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-couchbase&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-rabbit-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve tried using JpaRepository and CrudRepository but the problem remains","title":"Repository is declared with @Repository but bean is not recognized","body":"<p>This has been happening ever since i moved from Spring Data MongoDB to Spring Data Couchbase but even deleting the project as a whole and recreating did not solve the problem.</p>\n<p>Every time I start my application throws:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.minerva.borrowings.services.BorrowingServiceImpl required a bean of type 'com.minerva.borrowings.repositories.BorrowingRepo' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.minerva.borrowings.repositories.BorrowingRepo' in your configuration.\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>But my file structure is:</p>\n<pre><code> └───com\n    └───minerva\n        └───borrowings\n            │   BorrowingsApplication.java\n            │   \n            ├───config\n            │       LoggingConfig.java\n            │       NotificationConfig.java\n            │       \n            ├───controllers\n            │       BorrowingController.java\n            │       \n            ├───entities\n            │       Borrowing.java\n            │\n            ├───exceptions\n            │       BorrowingNotFoundException.java\n            │       BorrowingServerErrorException.java\n            │       NullBodyException.java\n            │       NullIdException.java\n            │       UnknownIdTypeException.java\n            │\n            ├───repositories\n            │       BorrowingRepo.java\n            │\n            └───services\n                    BorrowingNotificationSender.java\n                    BorrowingService.java\n                    BorrowingServiceImpl.java\n\n</code></pre>\n<p>And the repository file is as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.minerva.borrowings.repositories;\n\nimport com.minerva.borrowings.entities.Borrowing;\nimport org.springframework.data.couchbase.repository.CouchbaseRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\n   public interface BorrowingRepo extends CouchbaseRepository&lt;Borrowing, String&gt; {\n}\n\n</code></pre>\n<p>And my BorrowingApplication.java uses <code>@SpringBootApplication</code> and does not allow to use <code>@ComponentScan</code> or <code>@EnableJpaRepository</code></p>\n<p>My pom.xml file is as such:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.minerva&lt;/groupId&gt;\n    &lt;artifactId&gt;borrowings&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;borrowings&lt;/name&gt;\n    &lt;description&gt;borrowings&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-couchbase&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-rabbit-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.13&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I've tried using JpaRepository and CrudRepository but the problem remains</p>\n"},{"tags":["java","apache-camel","tokenize"],"owner":{"account_id":10058979,"reputation":1712,"user_id":7436321,"accept_rate":75,"display_name":"JustLudo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671807255,"creation_date":1671807255,"question_id":74901015,"body_markdown":"I have an apache camel route which listens for plain text formatted files on an SFTP server. These files have a clear structure but can be any lenght. I would like to be memory efficient and split them into multiple messages which can be processed individually.\r\n\r\nThe files look like this:\r\n```\r\nA1\r\nB123\r\nB456\r\nB789\r\nA2\r\nB422\r\nB873\r\nA3\r\nB863\r\nB376\r\n```\r\netc.\r\n\r\nThere are any number of A-records with a up to 30 B-records underneath. There is a clear relationship here. All the B-records belong to the nearest A-record above. The file is invalid if it does not start with an A record. In theory though, there can be A-records without matching B-records.\r\n\r\nFor now I have the following implementation:\r\n```\r\nfrom(&quot;sftp:MYsftpDetails)\r\n  .convertBodyTo(String.class)\r\n  .to(&quot;file:mydir?fileName=${file:name}&quot;)\r\n  .process(new myProcessor())\r\n```\r\n\r\nThe processor in this case holds a giant string which I can use java util&#39;s scanner to process. However, some of the files will be rather big meaning that I will soon run out of memory.\r\n\r\nI have also tried this setup:\r\n```\r\nfrom(&quot;sftp:MYsftpDetails)\r\n  .convertBodyTo(String.class)\r\n  .to(&quot;file:mydir?fileName=${file:name}&quot;)\r\n  .split()\r\n  .tokenize(&quot;^A&quot;, true)\r\n```\r\n\r\nThis setup does not work because the entire file is considered as 1 record and therefore the tokenize simply only matches with the first A record found (which happens to be on line 1).\r\n\r\n--------\r\n\r\nWhat would be the most camel way to split these files into entities that consist of 1 A-record and all its associated B-records?","title":"Apache Camel split plain text based on first character","body":"<p>I have an apache camel route which listens for plain text formatted files on an SFTP server. These files have a clear structure but can be any lenght. I would like to be memory efficient and split them into multiple messages which can be processed individually.</p>\n<p>The files look like this:</p>\n<pre><code>A1\nB123\nB456\nB789\nA2\nB422\nB873\nA3\nB863\nB376\n</code></pre>\n<p>etc.</p>\n<p>There are any number of A-records with a up to 30 B-records underneath. There is a clear relationship here. All the B-records belong to the nearest A-record above. The file is invalid if it does not start with an A record. In theory though, there can be A-records without matching B-records.</p>\n<p>For now I have the following implementation:</p>\n<pre><code>from(&quot;sftp:MYsftpDetails)\n  .convertBodyTo(String.class)\n  .to(&quot;file:mydir?fileName=${file:name}&quot;)\n  .process(new myProcessor())\n</code></pre>\n<p>The processor in this case holds a giant string which I can use java util's scanner to process. However, some of the files will be rather big meaning that I will soon run out of memory.</p>\n<p>I have also tried this setup:</p>\n<pre><code>from(&quot;sftp:MYsftpDetails)\n  .convertBodyTo(String.class)\n  .to(&quot;file:mydir?fileName=${file:name}&quot;)\n  .split()\n  .tokenize(&quot;^A&quot;, true)\n</code></pre>\n<p>This setup does not work because the entire file is considered as 1 record and therefore the tokenize simply only matches with the first A record found (which happens to be on line 1).</p>\n<hr />\n<p>What would be the most camel way to split these files into entities that consist of 1 A-record and all its associated B-records?</p>\n"},{"tags":["java","scala","sbt","aws-sdk","sbt-assembly"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":1,"creation_date":1671694055,"post_id":74881933,"comment_id":132154423,"body_markdown":"https://stackoverflow.com/questions/74800073/drools-fat-jar-nullpointer-kieservices https://stackoverflow.com/questions/74809158/run-drools-kie-project-from-fat-jar","body":"<a href=\"https://stackoverflow.com/questions/74800073/drools-fat-jar-nullpointer-kieservices\" title=\"drools fat jar nullpointer kieservices\">stackoverflow.com/questions/74800073/&hellip;</a> <a href=\"https://stackoverflow.com/questions/74809158/run-drools-kie-project-from-fat-jar\" title=\"run drools kie project from fat jar\">stackoverflow.com/questions/74809158/&hellip;</a>"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":1,"creation_date":1671696914,"post_id":74881933,"comment_id":132155099,"body_markdown":"https://stackoverflow.com/questions/74879217/sbt-assembly-and-lucene-an-spi-class-of-type-org-apache-lucene-codecs-codec-wit","body":"<a href=\"https://stackoverflow.com/questions/74879217/sbt-assembly-and-lucene-an-spi-class-of-type-org-apache-lucene-codecs-codec-wit\" title=\"sbt assembly and lucene an spi class of type org apache lucene codecs codec wit\">stackoverflow.com/questions/74879217/&hellip;</a>"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":1,"creation_date":1671697658,"post_id":74881933,"comment_id":132155318,"body_markdown":"Please provide the reproduction i.e. `build.sbt` with dependencies (not only assembly strategy part), what code throws the errors, how you&#39;re checking that something is missing etc.","body":"Please provide the reproduction i.e. <code>build.sbt</code> with dependencies (not only assembly strategy part), what code throws the errors, how you&#39;re checking that something is missing etc."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1673667800,"post_id":74881933,"comment_id":132555521,"body_markdown":"https://stackoverflow.com/questions/25144484/sbt-assembly-deduplication-found-error","body":"<a href=\"https://stackoverflow.com/questions/25144484/sbt-assembly-deduplication-found-error\" title=\"sbt assembly deduplication found error\">stackoverflow.com/questions/25144484/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10806176,"reputation":141,"user_id":7948380,"display_name":"jboges"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671807147,"creation_date":1671807147,"answer_id":74900993,"question_id":74881933,"body_markdown":"I solved this question, the issue was that the aws s3 interceptors were getting merged out, I added this line to the merge strategy and it solved the problem:\r\n```\r\ncase PathList(\r\n        &quot;software&quot;,\r\n        &quot;amazon&quot;,\r\n        &quot;awssdk&quot;,\r\n        &quot;services&quot;,\r\n        &quot;s3&quot;,\r\n        &quot;execution.interceptors&quot;,\r\n        xs @ _*\r\n        ) =&gt;\r\n      MergeStrategy.concat\r\n","title":"Missing AWS SDK execution interceptors in ExecutionInterceptorChain in Scala fat jar","body":"<p>I solved this question, the issue was that the aws s3 interceptors were getting merged out, I added this line to the merge strategy and it solved the problem:</p>\n<pre><code>case PathList(\n        &quot;software&quot;,\n        &quot;amazon&quot;,\n        &quot;awssdk&quot;,\n        &quot;services&quot;,\n        &quot;s3&quot;,\n        &quot;execution.interceptors&quot;,\n        xs @ _*\n        ) =&gt;\n      MergeStrategy.concat\n</code></pre>\n"}],"owner":{"account_id":10806176,"reputation":141,"user_id":7948380,"display_name":"jboges"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74900993,"answer_count":1,"score":0,"last_activity_date":1671807147,"creation_date":1671658059,"question_id":74881933,"body_markdown":"I&#39;m fairly new to scala / java / sbt and this is my first time debugging a discrepancy between code ran in &#39;scala&#39; through sbt and the same code ran from a compiled jar. I have some Scala code which utilizes the AWS Java SDK to make some S3 requests. When I run my code in &quot;Scala&quot; using sbt or Intellij the code succeeds as intended. If I build a fat jar using sbt and run the same code in &quot;Java&quot; using the jar, the code fails. I debugged the failure and can attribute it to missing ExecutionInterceptors in the interceptor chain:\r\n```\r\n// Logging the code ran from &#39;scala&#39;\r\n2022-12-21 14:09:33,861 [main] DEBUG software.amazon.awssdk.core.interceptor.ExecutionInterceptorChain -  Creating an interceptor chain that will apply interceptors in the following order: \r\n[software.amazon.awssdk.core.internal.interceptor.HttpChecksumRequiredInterceptor@5965844d, \r\nsoftware.amazon.awssdk.core.internal.interceptor.SyncHttpChecksumInTrailerInterceptor@6d4a65c6, \r\nsoftware.amazon.awssdk.core.internal.interceptor.HttpChecksumValidationInterceptor@aa004a0, \r\nsoftware.amazon.awssdk.core.internal.interceptor.AsyncRequestBodyHttpChecksumTrailerInterceptor@4c98a6d5, \r\nsoftware.amazon.awssdk.core.internal.interceptor.HttpChecksumInHeaderInterceptor@392a04e7, \r\nsoftware.amazon.awssdk.awscore.interceptor.HelpfulUnknownHostExceptionInterceptor@7f02251, \r\nsoftware.amazon.awssdk.awscore.eventstream.EventStreamInitialRequestInterceptor@dffa30b, \r\nsoftware.amazon.awssdk.awscore.interceptor.TraceIdExecutionInterceptor@4d8126f, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.EnableChunkedEncodingInterceptor@6d3c232f, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.DisableDoubleUrlEncodingInterceptor@6b587673, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.EnableTrailingChecksumInterceptor@1bcf67e8, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.CreateMultipartUploadRequestInterceptor@5f404594, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.GetObjectInterceptor@53692008, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.ExceptionTranslationInterceptor@7b2a3ff8, \r\nsoftware.amazon.awssdk.transfer.s3.internal.ApplyUserAgentInterceptor@1bbae752, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.AsyncChecksumValidationInterceptor@460b6d54, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.EndpointAddressInterceptor@5cf87cfd, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.SignerOverrideInterceptor@76075d65, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.GetBucketPolicyInterceptor@3a4ba480, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.PutObjectInterceptor@27b71f50, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.SyncChecksumValidationInterceptor@383790cf, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.DecodeUrlEncodedResponseInterceptor@74971ed9, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.CreateBucketInterceptor@131fcb6f, \r\nsoftware.amazon.awssdk.services.s3.internal.handlers.CopySourceInterceptor@ccd1bc3]\r\n```\r\n```\r\n// Logging the same code ran from &#39;java&#39;\r\n2022-12-21 14:15:06,281 [main] DEBUG software.amazon.awssdk.core.interceptor.ExecutionInterceptorChain -  Creating an interceptor chain that will apply interceptors in the following order: \r\n[software.amazon.awssdk.core.internal.interceptor.HttpChecksumRequiredInterceptor@147e2ae7, \r\nsoftware.amazon.awssdk.core.internal.interceptor.SyncHttpChecksumInTrailerInterceptor@448c8166, \r\noftware.amazon.awssdk.core.internal.interceptor.HttpChecksumValidationInterceptor@4470fbd6, \r\nsoftware.amazon.awssdk.core.internal.interceptor.AsyncRequestBodyHttpChecksumTrailerInterceptor@15d49048, \r\nsoftware.amazon.awssdk.core.internal.interceptor.HttpChecksumInHeaderInterceptor@7098b907, \r\nsoftware.amazon.awssdk.awscore.interceptor.HelpfulUnknownHostExceptionInterceptor@503f91c3, \r\nsoftware.amazon.awssdk.awscore.eventstream.EventStreamInitialRequestInterceptor@13526e59, \r\nsoftware.amazon.awssdk.awscore.interceptor.TraceIdExecutionInterceptor@2235eaab, \r\nsoftware.amazon.awssdk.transfer.s3.internal.ApplyUserAgentInterceptor@17503f6b]\r\n```\r\nAll of the interceptors of the type `software.amazon.awssdk.services.s3.internal.handlers` are missing from the code ran in the jar. \r\n\r\nI&#39;m not sure if this is directly related. My `build.sbt` has the following merge strategies:\r\n```\r\n  assembly / assemblyMergeStrategy := {\r\n    // Don&#39;t discard Geotools META-INF service files\r\n    case PathList(&quot;META-INF&quot;, xs @ _*) =&gt;\r\n      (xs map { _.toLowerCase }) match {\r\n        case (&quot;manifest.mf&quot; :: Nil) | (&quot;index.list&quot; :: Nil) | (&quot;dependencies&quot; :: Nil) =&gt;\r\n          MergeStrategy.discard\r\n        case ps @ (x :: xs) if ps.last.endsWith(&quot;.sf&quot;) || ps.last.endsWith(&quot;.dsa&quot;) =&gt;\r\n          MergeStrategy.discard\r\n        case &quot;plexus&quot; :: xs =&gt;\r\n          MergeStrategy.discard\r\n        case &quot;services&quot; :: xs =&gt;\r\n          MergeStrategy.filterDistinctLines\r\n        case (&quot;spring.schemas&quot; :: Nil) | (&quot;spring.handlers&quot; :: Nil) =&gt;\r\n          MergeStrategy.filterDistinctLines\r\n        case _ =&gt; MergeStrategy.discard\r\n      }\r\n    case PathList(&quot;reference.conf&quot;, xs @ _*) =&gt; MergeStrategy.concat\r\n    case PathList(&quot;version.conf&quot;, xs @ _*)   =&gt; MergeStrategy.concat\r\n    case x                                   =&gt; MergeStrategy.first\r\n  },\r\n```\r\nWhen debugging compiling my jar with `sbt assembly` I noticed this line:\r\n`[debug] Merging &#39;software/amazon/awssdk/services/s3/execution.interceptors&#39; with strategy &#39;first&#39;\r\n`\r\nIs this related to why i&#39;m missing the interceptors? or might there be some other cause for missing these handlers, such as a missing dependency? ","title":"Missing AWS SDK execution interceptors in ExecutionInterceptorChain in Scala fat jar","body":"<p>I'm fairly new to scala / java / sbt and this is my first time debugging a discrepancy between code ran in 'scala' through sbt and the same code ran from a compiled jar. I have some Scala code which utilizes the AWS Java SDK to make some S3 requests. When I run my code in &quot;Scala&quot; using sbt or Intellij the code succeeds as intended. If I build a fat jar using sbt and run the same code in &quot;Java&quot; using the jar, the code fails. I debugged the failure and can attribute it to missing ExecutionInterceptors in the interceptor chain:</p>\n<pre><code>// Logging the code ran from 'scala'\n2022-12-21 14:09:33,861 [main] DEBUG software.amazon.awssdk.core.interceptor.ExecutionInterceptorChain -  Creating an interceptor chain that will apply interceptors in the following order: \n[software.amazon.awssdk.core.internal.interceptor.HttpChecksumRequiredInterceptor@5965844d, \nsoftware.amazon.awssdk.core.internal.interceptor.SyncHttpChecksumInTrailerInterceptor@6d4a65c6, \nsoftware.amazon.awssdk.core.internal.interceptor.HttpChecksumValidationInterceptor@aa004a0, \nsoftware.amazon.awssdk.core.internal.interceptor.AsyncRequestBodyHttpChecksumTrailerInterceptor@4c98a6d5, \nsoftware.amazon.awssdk.core.internal.interceptor.HttpChecksumInHeaderInterceptor@392a04e7, \nsoftware.amazon.awssdk.awscore.interceptor.HelpfulUnknownHostExceptionInterceptor@7f02251, \nsoftware.amazon.awssdk.awscore.eventstream.EventStreamInitialRequestInterceptor@dffa30b, \nsoftware.amazon.awssdk.awscore.interceptor.TraceIdExecutionInterceptor@4d8126f, \nsoftware.amazon.awssdk.services.s3.internal.handlers.EnableChunkedEncodingInterceptor@6d3c232f, \nsoftware.amazon.awssdk.services.s3.internal.handlers.DisableDoubleUrlEncodingInterceptor@6b587673, \nsoftware.amazon.awssdk.services.s3.internal.handlers.EnableTrailingChecksumInterceptor@1bcf67e8, \nsoftware.amazon.awssdk.services.s3.internal.handlers.CreateMultipartUploadRequestInterceptor@5f404594, \nsoftware.amazon.awssdk.services.s3.internal.handlers.GetObjectInterceptor@53692008, \nsoftware.amazon.awssdk.services.s3.internal.handlers.ExceptionTranslationInterceptor@7b2a3ff8, \nsoftware.amazon.awssdk.transfer.s3.internal.ApplyUserAgentInterceptor@1bbae752, \nsoftware.amazon.awssdk.services.s3.internal.handlers.AsyncChecksumValidationInterceptor@460b6d54, \nsoftware.amazon.awssdk.services.s3.internal.handlers.EndpointAddressInterceptor@5cf87cfd, \nsoftware.amazon.awssdk.services.s3.internal.handlers.SignerOverrideInterceptor@76075d65, \nsoftware.amazon.awssdk.services.s3.internal.handlers.GetBucketPolicyInterceptor@3a4ba480, \nsoftware.amazon.awssdk.services.s3.internal.handlers.PutObjectInterceptor@27b71f50, \nsoftware.amazon.awssdk.services.s3.internal.handlers.SyncChecksumValidationInterceptor@383790cf, \nsoftware.amazon.awssdk.services.s3.internal.handlers.DecodeUrlEncodedResponseInterceptor@74971ed9, \nsoftware.amazon.awssdk.services.s3.internal.handlers.CreateBucketInterceptor@131fcb6f, \nsoftware.amazon.awssdk.services.s3.internal.handlers.CopySourceInterceptor@ccd1bc3]\n</code></pre>\n<pre><code>// Logging the same code ran from 'java'\n2022-12-21 14:15:06,281 [main] DEBUG software.amazon.awssdk.core.interceptor.ExecutionInterceptorChain -  Creating an interceptor chain that will apply interceptors in the following order: \n[software.amazon.awssdk.core.internal.interceptor.HttpChecksumRequiredInterceptor@147e2ae7, \nsoftware.amazon.awssdk.core.internal.interceptor.SyncHttpChecksumInTrailerInterceptor@448c8166, \noftware.amazon.awssdk.core.internal.interceptor.HttpChecksumValidationInterceptor@4470fbd6, \nsoftware.amazon.awssdk.core.internal.interceptor.AsyncRequestBodyHttpChecksumTrailerInterceptor@15d49048, \nsoftware.amazon.awssdk.core.internal.interceptor.HttpChecksumInHeaderInterceptor@7098b907, \nsoftware.amazon.awssdk.awscore.interceptor.HelpfulUnknownHostExceptionInterceptor@503f91c3, \nsoftware.amazon.awssdk.awscore.eventstream.EventStreamInitialRequestInterceptor@13526e59, \nsoftware.amazon.awssdk.awscore.interceptor.TraceIdExecutionInterceptor@2235eaab, \nsoftware.amazon.awssdk.transfer.s3.internal.ApplyUserAgentInterceptor@17503f6b]\n</code></pre>\n<p>All of the interceptors of the type <code>software.amazon.awssdk.services.s3.internal.handlers</code> are missing from the code ran in the jar.</p>\n<p>I'm not sure if this is directly related. My <code>build.sbt</code> has the following merge strategies:</p>\n<pre><code>  assembly / assemblyMergeStrategy := {\n    // Don't discard Geotools META-INF service files\n    case PathList(&quot;META-INF&quot;, xs @ _*) =&gt;\n      (xs map { _.toLowerCase }) match {\n        case (&quot;manifest.mf&quot; :: Nil) | (&quot;index.list&quot; :: Nil) | (&quot;dependencies&quot; :: Nil) =&gt;\n          MergeStrategy.discard\n        case ps @ (x :: xs) if ps.last.endsWith(&quot;.sf&quot;) || ps.last.endsWith(&quot;.dsa&quot;) =&gt;\n          MergeStrategy.discard\n        case &quot;plexus&quot; :: xs =&gt;\n          MergeStrategy.discard\n        case &quot;services&quot; :: xs =&gt;\n          MergeStrategy.filterDistinctLines\n        case (&quot;spring.schemas&quot; :: Nil) | (&quot;spring.handlers&quot; :: Nil) =&gt;\n          MergeStrategy.filterDistinctLines\n        case _ =&gt; MergeStrategy.discard\n      }\n    case PathList(&quot;reference.conf&quot;, xs @ _*) =&gt; MergeStrategy.concat\n    case PathList(&quot;version.conf&quot;, xs @ _*)   =&gt; MergeStrategy.concat\n    case x                                   =&gt; MergeStrategy.first\n  },\n</code></pre>\n<p>When debugging compiling my jar with <code>sbt assembly</code> I noticed this line:\n<code>[debug] Merging 'software/amazon/awssdk/services/s3/execution.interceptors' with strategy 'first' </code>\nIs this related to why i'm missing the interceptors? or might there be some other cause for missing these handlers, such as a missing dependency?</p>\n"},{"tags":["java","linux","amazon-web-services","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":117556,"reputation":3752,"user_id":307795,"accept_rate":43,"display_name":"DaShaun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671662321,"creation_date":1671662321,"answer_id":74882442,"question_id":74882397,"body_markdown":"It could be so many different things.  Here is where I would look off the top of my head.\r\n\r\n- Firewall\r\n- /etc/hosts\r\n- Certificates\r\n- Look at the nics, are the apps bound the same (0.0.0.0)","title":"Spring-boot redirects differently when hitting localhost vs host ip","body":"<p>It could be so many different things.  Here is where I would look off the top of my head.</p>\n<ul>\n<li>Firewall</li>\n<li>/etc/hosts</li>\n<li>Certificates</li>\n<li>Look at the nics, are the apps bound the same (0.0.0.0)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":977201,"reputation":303,"user_id":997943,"accept_rate":20,"display_name":"user997943"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671807077,"creation_date":1671807077,"answer_id":74900986,"question_id":74882397,"body_markdown":"The issue was the IP difference between Host1&#39;s VPC (172.31.x.x) and Host2&#39;s VPC (172.32.x.x)\r\n\r\nThe default for ```server.tomcat.internal-proxies``` matched 172.31.\\*, but not 172.32.\\* - causing ```X-Forwarded``` headers to be ignored in Host 2. Updating the property fixed it.\r\n\r\n**Default**\r\n&gt; server.tomcat.internal-proxies=10\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}|192\\\\.168\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}|169\\\\.254\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}|127\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}|172\\\\.1[6-9]{1}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}|172\\\\.2[0-9]{1}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}|172\\\\.3[0-1]{1}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\r\n\r\n**Updated**\r\n&gt;server.tomcat.internal-proxies=(127\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3})|(172.32.\\\\d{1,3}\\\\.\\\\d{1,3})\r\n\r\nA few things I came across which were helpful: there&#39;s a handy properties reference [here][1]. Also, all properties actually in use (including defaults) can be checked via the actuator link in your app ```/actuator/configprops.json```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.2.0.RC2/reference/html/common-application-properties.html","title":"Spring-boot redirects differently when hitting localhost vs host ip","body":"<p>The issue was the IP difference between Host1's VPC (172.31.x.x) and Host2's VPC (172.32.x.x)</p>\n<p>The default for <code>server.tomcat.internal-proxies</code> matched 172.31.*, but not 172.32.* - causing <code>X-Forwarded</code> headers to be ignored in Host 2. Updating the property fixed it.</p>\n<p><strong>Default</strong></p>\n<blockquote>\n<p>server.tomcat.internal-proxies=10\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|192\\.168\\.\\d{1,3}\\.\\d{1,3}|169\\.254\\.\\d{1,3}\\.\\d{1,3}|127\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|172\\.1[6-9]{1}\\.\\d{1,3}\\.\\d{1,3}|172\\.2[0-9]{1}\\.\\d{1,3}\\.\\d{1,3}|172\\.3[0-1]{1}\\.\\d{1,3}\\.\\d{1,3}</p>\n</blockquote>\n<p><strong>Updated</strong></p>\n<blockquote>\n<p>server.tomcat.internal-proxies=(127\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})|(172.32.\\d{1,3}\\.\\d{1,3})</p>\n</blockquote>\n<p>A few things I came across which were helpful: there's a handy properties reference <a href=\"https://docs.spring.io/spring-boot/docs/1.2.0.RC2/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">here</a>. Also, all properties actually in use (including defaults) can be checked via the actuator link in your app <code>/actuator/configprops.json</code></p>\n"}],"owner":{"account_id":977201,"reputation":303,"user_id":997943,"accept_rate":20,"display_name":"user997943"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74900986,"answer_count":2,"score":0,"last_activity_date":1671807077,"creation_date":1671661907,"question_id":74882397,"body_markdown":"I have a Java 8 Spring Boot (1.5.13) web server, behind an AWS Application Load Balancer. The ALB performs TLS termination. \r\n\r\nThe web server redirects users for various reasons (for eg. to a login page). As described in [docs](https://docs.spring.io/spring-boot/docs/1.5.13.RELEASE/reference/html/howto-embedded-servlet-containers.html), I&#39;ve set ```server.use-forward-headers``` to ```true``` in ```application.properties``` so the redirection happens correctly to the external (https) url, using the ```X-Forwarded-Proto``` and ```Host``` headers. \r\n\r\nThis setup works on Host 1, but a (near) identical setup doesn&#39;t work on Host 2. On Host 2, I&#39;ve narrowed it down to the below. Things work if I curl ```localhost```, but not if I curl ```172.32.1.1``` (host 2&#39;s ip).\r\n\r\nBoth commands below were run on Host 2. Any ideas on what could be causing the difference in response? (http vs https)\r\n\r\n```\r\n[ec2-user@ip-172-32-1-1 ~]$ curl -v localhost:8080 -H &quot;X-Forwarded-Proto: https&quot; -H &quot;X-Forwarded-Port: 443&quot; -H &quot;Host: example.com&quot;\r\n*   Trying 127.0.0.1:8080...\r\n* Connected to localhost (127.0.0.1) port 8080 (#0)\r\n&gt; GET / HTTP/1.1\r\n&gt; Host: example.com\r\n&gt; User-Agent: curl/7.79.1\r\n&gt; Accept: */*\r\n&gt; X-Forwarded-Proto: https\r\n&gt; X-Forwarded-Port: 443\r\n&gt; \r\n* Mark bundle as not supporting multiuse\r\n&lt; HTTP/1.1 302 \r\n&lt; Set-Cookie: SESSION=6a9d14f0-07f6-4f73-ae31-8232f2d9de5d; Path=/; Secure; HttpOnly\r\n&lt; Location: https://example.com/login\r\n&lt; Content-Length: 0\r\n&lt; Date: Wed, 21 Dec 2022 21:43:28 GMT\r\n&lt; \r\n* Connection #0 to host localhost left intact\r\n```\r\n\r\n```\r\n[ec2-user@ip-172-32-1-1 ~]$ curl -v 172.32.1.1:8080 -H &quot;X-Forwarded-Proto: https&quot; -H &quot;X-Forwarded-Port: 443&quot; -H &quot;Host: example.com&quot;\r\n*   Trying 172.32.1.1:8080...\r\n* Connected to 172.32.1.1 (172.32.1.1) port 8080 (#0)\r\n&gt; GET / HTTP/1.1\r\n&gt; Host: example.com\r\n&gt; User-Agent: curl/7.79.1\r\n&gt; Accept: */*\r\n&gt; X-Forwarded-Proto: https\r\n&gt; X-Forwarded-Port: 443\r\n&gt; \r\n* Mark bundle as not supporting multiuse\r\n&lt; HTTP/1.1 302 \r\n&lt; Set-Cookie: SESSION=cbf4800a-15a8-460a-a3db-d6e3c21c046e; Path=/; HttpOnly\r\n&lt; Location: http://example.com/login\r\n&lt; Content-Length: 0\r\n&lt; Date: Wed, 21 Dec 2022 21:42:50 GMT\r\n&lt; \r\n* Connection #0 to host 172.32.1.1 left intact\r\n```\r\n\r\nHost 1 and Host 2 are using the same VM Image, and WAR file. On Host 1, the 2 commands above both respond with https as expected.","title":"Spring-boot redirects differently when hitting localhost vs host ip","body":"<p>I have a Java 8 Spring Boot (1.5.13) web server, behind an AWS Application Load Balancer. The ALB performs TLS termination.</p>\n<p>The web server redirects users for various reasons (for eg. to a login page). As described in <a href=\"https://docs.spring.io/spring-boot/docs/1.5.13.RELEASE/reference/html/howto-embedded-servlet-containers.html\" rel=\"nofollow noreferrer\">docs</a>, I've set <code>server.use-forward-headers</code> to <code>true</code> in <code>application.properties</code> so the redirection happens correctly to the external (https) url, using the <code>X-Forwarded-Proto</code> and <code>Host</code> headers.</p>\n<p>This setup works on Host 1, but a (near) identical setup doesn't work on Host 2. On Host 2, I've narrowed it down to the below. Things work if I curl <code>localhost</code>, but not if I curl <code>172.32.1.1</code> (host 2's ip).</p>\n<p>Both commands below were run on Host 2. Any ideas on what could be causing the difference in response? (http vs https)</p>\n<pre><code>[ec2-user@ip-172-32-1-1 ~]$ curl -v localhost:8080 -H &quot;X-Forwarded-Proto: https&quot; -H &quot;X-Forwarded-Port: 443&quot; -H &quot;Host: example.com&quot;\n*   Trying 127.0.0.1:8080...\n* Connected to localhost (127.0.0.1) port 8080 (#0)\n&gt; GET / HTTP/1.1\n&gt; Host: example.com\n&gt; User-Agent: curl/7.79.1\n&gt; Accept: */*\n&gt; X-Forwarded-Proto: https\n&gt; X-Forwarded-Port: 443\n&gt; \n* Mark bundle as not supporting multiuse\n&lt; HTTP/1.1 302 \n&lt; Set-Cookie: SESSION=6a9d14f0-07f6-4f73-ae31-8232f2d9de5d; Path=/; Secure; HttpOnly\n&lt; Location: https://example.com/login\n&lt; Content-Length: 0\n&lt; Date: Wed, 21 Dec 2022 21:43:28 GMT\n&lt; \n* Connection #0 to host localhost left intact\n</code></pre>\n<pre><code>[ec2-user@ip-172-32-1-1 ~]$ curl -v 172.32.1.1:8080 -H &quot;X-Forwarded-Proto: https&quot; -H &quot;X-Forwarded-Port: 443&quot; -H &quot;Host: example.com&quot;\n*   Trying 172.32.1.1:8080...\n* Connected to 172.32.1.1 (172.32.1.1) port 8080 (#0)\n&gt; GET / HTTP/1.1\n&gt; Host: example.com\n&gt; User-Agent: curl/7.79.1\n&gt; Accept: */*\n&gt; X-Forwarded-Proto: https\n&gt; X-Forwarded-Port: 443\n&gt; \n* Mark bundle as not supporting multiuse\n&lt; HTTP/1.1 302 \n&lt; Set-Cookie: SESSION=cbf4800a-15a8-460a-a3db-d6e3c21c046e; Path=/; HttpOnly\n&lt; Location: http://example.com/login\n&lt; Content-Length: 0\n&lt; Date: Wed, 21 Dec 2022 21:42:50 GMT\n&lt; \n* Connection #0 to host 172.32.1.1 left intact\n</code></pre>\n<p>Host 1 and Host 2 are using the same VM Image, and WAR file. On Host 1, the 2 commands above both respond with https as expected.</p>\n"},{"tags":["java","spring","validation","vaadin"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1671360820,"post_id":74838699,"comment_id":132079160,"body_markdown":"If you have clearly different things for each state of your FSM, I&#39;d use different DTOs with according validation for each state. It&#39;s very unlikely, that not other things occur and you will most likely want &quot;four&quot; different forms (e.g. different order, visibility, options inside fields, ...) - OR do your own validation via the Binder.","body":"If you have clearly different things for each state of your FSM, I&#39;d use different DTOs with according validation for each state. It&#39;s very unlikely, that not other things occur and you will most likely want &quot;four&quot; different forms (e.g. different order, visibility, options inside fields, ...) - OR do your own validation via the Binder."}],"owner":{"account_id":19533773,"reputation":1,"user_id":14292965,"display_name":"Ismael Matos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671807075,"creation_date":1671328932,"question_id":74838699,"body_markdown":"I&#39;ve got an Entity class with lots of fields, including a **status** to represent the progression of an object thru its life cycle, say &quot;INITIAL&quot;, &quot;READY&quot;, &quot;SUSPENDED&quot; and &quot;CLOSED&quot;. While at the &quot;INITIAL&quot; stage, all fields can be changed, a few can be changed while the object is &quot;SUSPENDED&quot;, very few fields can be changed while in the &quot;READY&quot; status, and once &quot;CLOSED&quot;, nothing more can be changed for that object.\r\n\r\nSo, *setName(@NotBlank String name)* is fine, but that is not enough, as as the name can only be changed when *status* is NOT CLOSED, but *setCurrency(@NotBlank String currency)* can only be applied when *status* is INITIAL, or SUSPENDED if other conditions are also valid.  Thus, I need varying validations applied as pre-conditions to the **set...** method execution, not as Class-level validation. \r\n\r\nThere is more. The status is implemented as an **enum**, with a Finite State Machine defining the valid transitions from one state to another. And at each state transition, a number of business rules need to be applied to validate the data surrounding the core entity. So instead of using **setStatus(Status newStatus)**, I&#39;m using **setStatusReady()**, **setStatusSuspended()**...\r\n\r\n\r\n\r\n\r\n\r\n\r\nFrom all that I&#39;ve found, most tutorials, articles, best practices and solutions cater for the syntactical validations at field or class level and cross-parameter method validations, while I&#39;d **need access to whole Bean instance at the time of the method execution**.\r\n\r\nSo far, the &quot;best&quot; solution is from OVAL (see https://sebthom.github.io/oval/USERGUIDE.html#using-validate_with_method), but that framework is not longer under development and OVal is not JSR303/JSR380 compliant.\r\n\r\nSo, what are your suggestions?\r\n\r\nThank you all.\r\n\r\n*** EDITED *** In response to CFRICK, thank you\r\n\r\nFirst, I don&#39;t mean any disregard or disrespect for anybody&#39;s recommendations. I&#39;m genuinely trying to find a &quot;better&quot; solution for my situation.\r\n\r\nVaadin handles JSR303/JSR380 validation rather nicely at the front-end.\r\n\r\nThe validation still has to be done on the back-end, ideally under the JSR303/JSR380 umbrella.  So, moving anything to the front-end is just replicating the validation to make a nice and consistent presentation of the errors when they happen.\r\n\r\nI like the concept of entities taking care of their status, not being just data skeletons. I could repeat some &quot;validation&quot; to the front-end at Binder (in vaadin) and still make full use of the vaadin great features. Enable and disable field editing depending on the entity status is fairly easy to do.  \r\n\r\nI will try again with the suggested multiple DTOs option for the front-end.  My first attempt just turn ugly to handle in a single view, or make multiple views of the &quot;same thing&quot; at the presentation level.\r\n\r\nI still like the simplicity of the OVal solution, but that will force me into &quot;hacking&quot; the Validator/ValidatorFactory or use more advanced features of Spring/Hibernate, which I need to research.  \r\n\r\nPerhaps, the access to the root bean during the method validation will come as a new feature in future releases of Spring/Hibernate validation.","title":"Question about complex Java Beans Validation with Spring Boot and Vaadin in the front-end","body":"<p>I've got an Entity class with lots of fields, including a <strong>status</strong> to represent the progression of an object thru its life cycle, say &quot;INITIAL&quot;, &quot;READY&quot;, &quot;SUSPENDED&quot; and &quot;CLOSED&quot;. While at the &quot;INITIAL&quot; stage, all fields can be changed, a few can be changed while the object is &quot;SUSPENDED&quot;, very few fields can be changed while in the &quot;READY&quot; status, and once &quot;CLOSED&quot;, nothing more can be changed for that object.</p>\n<p>So, <em>setName(@NotBlank String name)</em> is fine, but that is not enough, as as the name can only be changed when <em>status</em> is NOT CLOSED, but <em>setCurrency(@NotBlank String currency)</em> can only be applied when <em>status</em> is INITIAL, or SUSPENDED if other conditions are also valid.  Thus, I need varying validations applied as pre-conditions to the <strong>set...</strong> method execution, not as Class-level validation.</p>\n<p>There is more. The status is implemented as an <strong>enum</strong>, with a Finite State Machine defining the valid transitions from one state to another. And at each state transition, a number of business rules need to be applied to validate the data surrounding the core entity. So instead of using <strong>setStatus(Status newStatus)</strong>, I'm using <strong>setStatusReady()</strong>, <strong>setStatusSuspended()</strong>...</p>\n<p>From all that I've found, most tutorials, articles, best practices and solutions cater for the syntactical validations at field or class level and cross-parameter method validations, while I'd <strong>need access to whole Bean instance at the time of the method execution</strong>.</p>\n<p>So far, the &quot;best&quot; solution is from OVAL (see <a href=\"https://sebthom.github.io/oval/USERGUIDE.html#using-validate_with_method\" rel=\"nofollow noreferrer\">https://sebthom.github.io/oval/USERGUIDE.html#using-validate_with_method</a>), but that framework is not longer under development and OVal is not JSR303/JSR380 compliant.</p>\n<p>So, what are your suggestions?</p>\n<p>Thank you all.</p>\n<p>*** EDITED *** In response to CFRICK, thank you</p>\n<p>First, I don't mean any disregard or disrespect for anybody's recommendations. I'm genuinely trying to find a &quot;better&quot; solution for my situation.</p>\n<p>Vaadin handles JSR303/JSR380 validation rather nicely at the front-end.</p>\n<p>The validation still has to be done on the back-end, ideally under the JSR303/JSR380 umbrella.  So, moving anything to the front-end is just replicating the validation to make a nice and consistent presentation of the errors when they happen.</p>\n<p>I like the concept of entities taking care of their status, not being just data skeletons. I could repeat some &quot;validation&quot; to the front-end at Binder (in vaadin) and still make full use of the vaadin great features. Enable and disable field editing depending on the entity status is fairly easy to do.</p>\n<p>I will try again with the suggested multiple DTOs option for the front-end.  My first attempt just turn ugly to handle in a single view, or make multiple views of the &quot;same thing&quot; at the presentation level.</p>\n<p>I still like the simplicity of the OVal solution, but that will force me into &quot;hacking&quot; the Validator/ValidatorFactory or use more advanced features of Spring/Hibernate, which I need to research.</p>\n<p>Perhaps, the access to the root bean during the method validation will come as a new feature in future releases of Spring/Hibernate validation.</p>\n"},{"tags":["java","security","jframe"],"owner":{"account_id":8950298,"reputation":95,"user_id":6676512,"display_name":"Methark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671806861,"creation_date":1671806861,"question_id":74900941,"body_markdown":"I&#39;m developing a virtual keyboard and would like to know what is the best approach to hide it from print-screen and screen recording.\r\n\r\nI&#39;ve found examples while researching the web, but the results are for Android - even if I put JFrame as a must have on the search query. Mostly, what I have found is something like: `getWindow().WindowManager.LayoutParams.FLAG_SECURE` - but like I said, it doesn&#39;t seems to be applicable for a desktop environment Java application (I think).\r\n\r\nThanks in advance for your for the help!\r\n\r\nAll my attempts were relying on &quot;half measures&quot; like creating a ClipboardMonitor (java.util.Observable, etc) - but this just gets me to avoid print-screens by flushing the clipboard.\r\n\r\nWhat I&#39;m aiming for is to hide the JFrame or make it black if a user tries to capture the screen with a print-screen command, a snip or screen record application.","title":"Is there a method to hide a JFrame from Print-Screen or Screen Recording?","body":"<p>I'm developing a virtual keyboard and would like to know what is the best approach to hide it from print-screen and screen recording.</p>\n<p>I've found examples while researching the web, but the results are for Android - even if I put JFrame as a must have on the search query. Mostly, what I have found is something like: <code>getWindow().WindowManager.LayoutParams.FLAG_SECURE</code> - but like I said, it doesn't seems to be applicable for a desktop environment Java application (I think).</p>\n<p>Thanks in advance for your for the help!</p>\n<p>All my attempts were relying on &quot;half measures&quot; like creating a ClipboardMonitor (java.util.Observable, etc) - but this just gets me to avoid print-screens by flushing the clipboard.</p>\n<p>What I'm aiming for is to hide the JFrame or make it black if a user tries to capture the screen with a print-screen command, a snip or screen record application.</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa","dto"],"answers":[{"tags":[],"owner":{"account_id":12226275,"reputation":102,"user_id":8923778,"display_name":"Bacem W."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671527658,"creation_date":1671527658,"answer_id":74860767,"question_id":74859111,"body_markdown":"You can use @Converter from JPA (implemented by hibernate also)\r\n\r\n```\r\n@Converter\r\npublic class List2StringConveter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(List&lt;String&gt; attribute) {\r\n        if (attribute == null || attribute.isEmpty()) {\r\n            return &quot;&quot;;\r\n        }\r\n        return StringUtils.join(attribute, &quot;,&quot;);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;String&gt; convertToEntityAttribute(String dbData) {\r\n        if (dbData == null || dbData.trim().length() == 0) {\r\n            return new ArrayList&lt;String&gt;();\r\n        }\r\n\r\n        String[] data = dbData.split(&quot;,&quot;);\r\n        return Arrays.asList(data);\r\n    }\r\n}\r\n```\r\nAnd references it in the pojo class as below \r\n\r\n```\r\n@Column(name=&quot;freeLanceInvoiceId&quot;)\r\n@Convert(converter = List2StringConveter.class)\r\nprivate List&lt;String&gt; tags=new ArrayList&lt;&gt;();","title":"Retrieve JSON Array or JSON Object using JPA Projections &amp; DTO interface","body":"<p>You can use @Converter from JPA (implemented by hibernate also)</p>\n<pre><code>@Converter\npublic class List2StringConveter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(List&lt;String&gt; attribute) {\n        if (attribute == null || attribute.isEmpty()) {\n            return &quot;&quot;;\n        }\n        return StringUtils.join(attribute, &quot;,&quot;);\n    }\n\n    @Override\n    public List&lt;String&gt; convertToEntityAttribute(String dbData) {\n        if (dbData == null || dbData.trim().length() == 0) {\n            return new ArrayList&lt;String&gt;();\n        }\n\n        String[] data = dbData.split(&quot;,&quot;);\n        return Arrays.asList(data);\n    }\n}\n</code></pre>\n<p>And references it in the pojo class as below</p>\n<pre><code>@Column(name=&quot;freeLanceInvoiceId&quot;)\n@Convert(converter = List2StringConveter.class)\nprivate List&lt;String&gt; tags=new ArrayList&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12226275,"reputation":102,"user_id":8923778,"display_name":"Bacem W."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671806744,"creation_date":1671806744,"answer_id":74900919,"question_id":74859111,"body_markdown":"Basically I have list of names separated by camma (;),\r\n \r\n```\r\nCREATE TABLE familynames (\r\n\tid int4 NOT NULL DEFAULT nextval(&#39;family_id_seq&#39;::regclass),\r\n\tnames varchar NULL\r\n);\r\n\r\nINSERT INTO familynames (id, names) VALUES(1, &#39;Animalia;Arthropoda;Pancrustacea;Hexapoda&#39;);\r\n```\r\nThe converter : \r\n\r\n```\r\n@Converter\r\npublic class NameConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\r\n\r\n\t@Override\r\n\tpublic List&lt;String&gt; convertToEntityAttribute(String attribute) {\r\n\t\tif (attribute == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tList&lt;String&gt; namesList = new ArrayList&lt;String&gt;(Arrays.asList(attribute.split(&quot;;&quot;)));\r\n\r\n\t\treturn namesList;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String convertToDatabaseColumn(List&lt;String&gt; namesList) {\r\n\t\tif (namesList == null || namesList.size() == 0) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tString result = namesList.stream().collect( Collectors.joining( &quot;;&quot; ) );\r\n\r\n\t\treturn result;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nAn entity that map the sql table \r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;familynames&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class FamilyNames implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n\t@Convert(converter = NameConverter.class, attributeName = &quot;names&quot;)\r\n\tprivate List&lt;String&gt; names;\r\n}\r\n\r\n```\r\nAn interface for projection \r\n\r\n```\r\npublic interface FamilyNamesDto {\r\n\t\r\n    Integer getId();\r\n    List&lt;String&gt; getNames();\r\n}\r\n```\r\nThe repository that ensure the selection and the projection \r\n\r\n```\r\n@Repository\r\npublic interface FamilyNamesRepository extends JpaRepository&lt;FamilyNames, Long&gt; {\r\n\r\n\t/** @return the whole elements of mapped  elements as dto */\r\n\tList&lt;FamilyNamesDto&gt; findAllProjectedBy();\r\n}\r\n\r\n```\r\nHow to autowire it \r\n\r\n```\r\n@Autowired \r\nprivate FamilyNamesRepository familyNamesRepository;\r\n```\r\n\r\nhow to call repository within any service \r\n\r\n```\r\nList&lt;FamilyNamesDto&gt; fs = familyNamesRepository.findAllProjectedBy();\r\n```\t\r\n\r\nresults : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/41XQw.png","title":"Retrieve JSON Array or JSON Object using JPA Projections &amp; DTO interface","body":"<p>Basically I have list of names separated by camma (;),</p>\n<pre><code>CREATE TABLE familynames (\n    id int4 NOT NULL DEFAULT nextval('family_id_seq'::regclass),\n    names varchar NULL\n);\n\nINSERT INTO familynames (id, names) VALUES(1, 'Animalia;Arthropoda;Pancrustacea;Hexapoda');\n</code></pre>\n<p>The converter :</p>\n<pre><code>@Converter\npublic class NameConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\n\n    @Override\n    public List&lt;String&gt; convertToEntityAttribute(String attribute) {\n        if (attribute == null) {\n            return null;\n        }\n\n        List&lt;String&gt; namesList = new ArrayList&lt;String&gt;(Arrays.asList(attribute.split(&quot;;&quot;)));\n\n        return namesList;\n    }\n\n    @Override\n    public String convertToDatabaseColumn(List&lt;String&gt; namesList) {\n        if (namesList == null || namesList.size() == 0) {\n            return null;\n        }\n        String result = namesList.stream().collect( Collectors.joining( &quot;;&quot; ) );\n\n        return result;\n    }\n}\n</code></pre>\n<p>An entity that map the sql table</p>\n<pre><code>@Entity\n@Table(name = &quot;familynames&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class FamilyNames implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n\n    @Convert(converter = NameConverter.class, attributeName = &quot;names&quot;)\n    private List&lt;String&gt; names;\n}\n\n</code></pre>\n<p>An interface for projection</p>\n<pre><code>public interface FamilyNamesDto {\n    \n    Integer getId();\n    List&lt;String&gt; getNames();\n}\n</code></pre>\n<p>The repository that ensure the selection and the projection</p>\n<pre><code>@Repository\npublic interface FamilyNamesRepository extends JpaRepository&lt;FamilyNames, Long&gt; {\n\n    /** @return the whole elements of mapped  elements as dto */\n    List&lt;FamilyNamesDto&gt; findAllProjectedBy();\n}\n\n</code></pre>\n<p>How to autowire it</p>\n<pre><code>@Autowired \nprivate FamilyNamesRepository familyNamesRepository;\n</code></pre>\n<p>how to call repository within any service</p>\n<pre><code>List&lt;FamilyNamesDto&gt; fs = familyNamesRepository.findAllProjectedBy();\n</code></pre>\n<p>results :</p>\n<p><a href=\"https://i.stack.imgur.com/41XQw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/41XQw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22407403,"reputation":67,"user_id":16616719,"display_name":"Siddhant Bhandari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671806744,"creation_date":1671516771,"question_id":74859111,"body_markdown":"I have a DTO interface which fetches data from different tables using joins. I have made a DTO interface with the abstract getter methods something like this.\r\n\r\n        public interface HRJobsDTO {\r\n    \r\n        String getEditorName();\r\n    \r\n        String getEditorId();\r\n    \r\n        String getBillingMonth();\r\n    \r\n        Integer getEditorWordCount();\r\n    \r\n        Integer getJobCount();\r\n    \r\n        Integer getEmployeeGrade();\r\n    \r\n        Float getGrossPayableAmount();\r\n    \r\n        Float getJobBillingRate();\r\n    \r\n        Float getTaxDeduction();\r\n    \r\n        Float getTaxDeductionAmount();\r\n    \r\n        Float getNetPayableAmount();\r\n    \r\n        String getInvoiceStatus();\r\n    \r\n        String getFreelanceInvoiceId();\r\n    }\r\n\r\n\r\nIn this interface my getFreelanceInvoiceId(); method returns a JSON Array using json_arrayagg function of mysql. I changed the datatype to String, String[] and Arraylist but it returns something like this in my response\r\n\r\n    &quot;freelanceInvoiceId&quot;: &quot;[\\&quot;4af9e342-065b-4594-9f4f-a408d5db9819/2022121-95540\\&quot;, \\&quot;4af9e342-065b-4594-9f4f-a408d5db9819/2022121-95540\\&quot;, \\&quot;4af9e342-065b-4594-9f4f-a408d5db9819/20221215-53817\\&quot;, \\&quot;4af9e342-065b-4594-9f4f-a408d5db9819/20221215-53817\\&quot;, \\&quot;4af9e342-065b-4594-9f4f-a408d5db9819/20221215-53817\\&quot;]&quot;\r\n\r\n\r\nIs there any way to return only array with exclusion of backslashes? \r\n\r\n\r\n","title":"Retrieve JSON Array or JSON Object using JPA Projections &amp; DTO interface","body":"<p>I have a DTO interface which fetches data from different tables using joins. I have made a DTO interface with the abstract getter methods something like this.</p>\n<pre><code>    public interface HRJobsDTO {\n\n    String getEditorName();\n\n    String getEditorId();\n\n    String getBillingMonth();\n\n    Integer getEditorWordCount();\n\n    Integer getJobCount();\n\n    Integer getEmployeeGrade();\n\n    Float getGrossPayableAmount();\n\n    Float getJobBillingRate();\n\n    Float getTaxDeduction();\n\n    Float getTaxDeductionAmount();\n\n    Float getNetPayableAmount();\n\n    String getInvoiceStatus();\n\n    String getFreelanceInvoiceId();\n}\n</code></pre>\n<p>In this interface my getFreelanceInvoiceId(); method returns a JSON Array using json_arrayagg function of mysql. I changed the datatype to String, String[] and Arraylist but it returns something like this in my response</p>\n<pre><code>&quot;freelanceInvoiceId&quot;: &quot;[\\&quot;4af9e342-065b-4594-9f4f-a408d5db9819/2022121-95540\\&quot;, \\&quot;4af9e342-065b-4594-9f4f-a408d5db9819/2022121-95540\\&quot;, \\&quot;4af9e342-065b-4594-9f4f-a408d5db9819/20221215-53817\\&quot;, \\&quot;4af9e342-065b-4594-9f4f-a408d5db9819/20221215-53817\\&quot;, \\&quot;4af9e342-065b-4594-9f4f-a408d5db9819/20221215-53817\\&quot;]&quot;\n</code></pre>\n<p>Is there any way to return only array with exclusion of backslashes?</p>\n"},{"tags":["java","amazon-ecs","scheduledexecutorservice"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671806684,"creation_date":1671806684,"answer_id":74900909,"question_id":74894222,"body_markdown":"&gt; 1. Runtime.addShutdownHook - doesn&#39;t work because proprietary java framework that we use require us to boot it up with a shell script\r\n&gt; (PID 1 is given to shell rather than java app)\r\n\r\n[You could capture][1] `SIGTERM` in your shell script, and trigger a shutdown of the Java app from that. However I don&#39;t think that happens until right before the container is killed, which isn&#39;t going to help anything in your situation. All the Java shutdown hook would do is allow you to close some things out right before your container is killed, it wouldn&#39;t trigger until the very end of your deployment process, where it seems like you need it to run as soon as the deployment starts.\r\n\r\n&gt; 2. Self written cluster healthcheck - self written code that sends heartbeat messages from the instance and saves them in Dynamo, once\r\n&gt; instance B doesn&#39;t work , instance A checks that last hearbeat\r\n&gt; timestamp and if it&#39;s longer than 30 seconds then starts a job\r\n\r\nIf you were using [Quartz scheduler][2] you could use a [database backend][3] for the scheduler and it would handle this sort of concurrency thing automatically. It sounds like you are using some sort of proprietary in-house scheduler solution, so if you want a database-backed job concurrency solution like this you will have to build it yourself, and DynamoDB is a good option.\r\n\r\n\r\n&gt; 3. Event bridge - ecs docs says that it publishes events to event bridge. But my customer doesn&#39;t want to pay for another service\r\n\r\n[AWS Free Tier:][4] &quot;All state change events published by AWS services by default are free.&quot;  \r\n\r\nThere is no additional cost for using EventBridge if you are only using it for AWS service events. You are literally already using EventBridge in the sense that AWS is already publishing all those ECS service events to EventBridge. You just aren&#39;t listening to them currently.\r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/containers/graceful-shutdowns-with-ecs/\r\n  [2]: https://www.quartz-scheduler.org/\r\n  [3]: https://github.com/quartz-scheduler/quartz/wiki/How-to-Setup-Databases\r\n  [4]: https://aws.amazon.com/eventbridge/pricing/","title":"Start scheduled job inside of a Java app deployed in ECS fargate after previous task will be shutdown","body":"<blockquote>\n<ol>\n<li>Runtime.addShutdownHook - doesn't work because proprietary java framework that we use require us to boot it up with a shell script\n(PID 1 is given to shell rather than java app)</li>\n</ol>\n</blockquote>\n<p><a href=\"https://aws.amazon.com/blogs/containers/graceful-shutdowns-with-ecs/\" rel=\"nofollow noreferrer\">You could capture</a> <code>SIGTERM</code> in your shell script, and trigger a shutdown of the Java app from that. However I don't think that happens until right before the container is killed, which isn't going to help anything in your situation. All the Java shutdown hook would do is allow you to close some things out right before your container is killed, it wouldn't trigger until the very end of your deployment process, where it seems like you need it to run as soon as the deployment starts.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Self written cluster healthcheck - self written code that sends heartbeat messages from the instance and saves them in Dynamo, once\ninstance B doesn't work , instance A checks that last hearbeat\ntimestamp and if it's longer than 30 seconds then starts a job</li>\n</ol>\n</blockquote>\n<p>If you were using <a href=\"https://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz scheduler</a> you could use a <a href=\"https://github.com/quartz-scheduler/quartz/wiki/How-to-Setup-Databases\" rel=\"nofollow noreferrer\">database backend</a> for the scheduler and it would handle this sort of concurrency thing automatically. It sounds like you are using some sort of proprietary in-house scheduler solution, so if you want a database-backed job concurrency solution like this you will have to build it yourself, and DynamoDB is a good option.</p>\n<blockquote>\n<ol start=\"3\">\n<li>Event bridge - ecs docs says that it publishes events to event bridge. But my customer doesn't want to pay for another service</li>\n</ol>\n</blockquote>\n<p><a href=\"https://aws.amazon.com/eventbridge/pricing/\" rel=\"nofollow noreferrer\">AWS Free Tier:</a> &quot;All state change events published by AWS services by default are free.&quot;</p>\n<p>There is no additional cost for using EventBridge if you are only using it for AWS service events. You are literally already using EventBridge in the sense that AWS is already publishing all those ECS service events to EventBridge. You just aren't listening to them currently.</p>\n"}],"owner":{"account_id":10909625,"reputation":3249,"user_id":8019439,"accept_rate":58,"display_name":"Almas Abdrazak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74900909,"answer_count":1,"score":2,"last_activity_date":1671806684,"creation_date":1671746082,"question_id":74894222,"body_markdown":"Good day everyone. I have a problem with my java app deployed in AWS ECS Fargate instance. With our configuration the fargate instance is running all the time and during the redeploy , ECS spawn a new instance(instance A) waits for it to reach steady state and then shuts down the old instance (instance B)\r\nThe problem is that the main method of these instances start a scheduled job. And because instance A reaches the steady state , the scheduled job is executed by both instances for a short period of time until B will be shut down.\r\nHow to make sure instance A starts a job only when B doesn&#39;t work ? \r\nThe java instance is dockerized \r\nSo far I tried \r\n1. `Runtime.addShutdownHook` - doesn&#39;t work because proprietary java framework that we use require us to boot it up with a shell script (PID 1 is given to shell rather than java app)\r\n2. `Self written cluster healthcheck` - self written code that sends heartbeat messages from the instance and saves them in Dynamo, once instance B doesn&#39;t work , instance A checks that last hearbeat timestamp and if it&#39;s longer than 30 seconds then starts a job \r\n3. `Event bridge` - ecs docs says that it publishes events to event bridge. But my customer doesn&#39;t want to pay for another service\r\n\r\nAll suggestions will be appreciated ! ","title":"Start scheduled job inside of a Java app deployed in ECS fargate after previous task will be shutdown","body":"<p>Good day everyone. I have a problem with my java app deployed in AWS ECS Fargate instance. With our configuration the fargate instance is running all the time and during the redeploy , ECS spawn a new instance(instance A) waits for it to reach steady state and then shuts down the old instance (instance B)\nThe problem is that the main method of these instances start a scheduled job. And because instance A reaches the steady state , the scheduled job is executed by both instances for a short period of time until B will be shut down.\nHow to make sure instance A starts a job only when B doesn't work ?\nThe java instance is dockerized\nSo far I tried</p>\n<ol>\n<li><code>Runtime.addShutdownHook</code> - doesn't work because proprietary java framework that we use require us to boot it up with a shell script (PID 1 is given to shell rather than java app)</li>\n<li><code>Self written cluster healthcheck</code> - self written code that sends heartbeat messages from the instance and saves them in Dynamo, once instance B doesn't work , instance A checks that last hearbeat timestamp and if it's longer than 30 seconds then starts a job</li>\n<li><code>Event bridge</code> - ecs docs says that it publishes events to event bridge. But my customer doesn't want to pay for another service</li>\n</ol>\n<p>All suggestions will be appreciated !</p>\n"},{"tags":["java","fonts","lwjgl"],"owner":{"display_name":"user20597717"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671805734,"creation_date":1671805484,"question_id":74900707,"body_markdown":"I want to use sub-pixel rendering for my font. If that is not possible, I at least want to disable anti-aliasing. How could I do so?\r\nI am using LWJGL 3.3.1.\r\nThis is my font renderer:\r\n```\r\npublic class FontRenderer\r\n{\r\n    private final STBTTBakedChar.Buffer characterData;\r\n    private final STBTTFontinfo fontinfo;\r\n    private final int size, textureID;\r\n    private final float ascent;\r\n\r\n    public FontRenderer(File font, int size)\r\n    {\r\n        this.size = size;\r\n        this.characterData = STBTTBakedChar.malloc(96);\r\n        this.fontinfo = STBTTFontinfo.create();\r\n        int textureID = 0;\r\n        float ascent = 0;\r\n\r\n        try\r\n        {\r\n            ByteBuffer fontData = this.loadFileToByteBuffer(font);\r\n            ByteBuffer textureData = BufferUtils.createByteBuffer(262144);\r\n            assert fontData != null;\r\n            stbtt_BakeFontBitmap(fontData, size, textureData, 512, 512, 32, this.characterData);\r\n\r\n            try (MemoryStack memoryStack = MemoryStack.stackPush())\r\n            {\r\n                stbtt_InitFont(this.fontinfo, fontData);\r\n                float pixelScale = stbtt_ScaleForPixelHeight(this.fontinfo, size);\r\n                IntBuffer ascentBuffer = memoryStack.mallocInt(1);\r\n                IntBuffer descentBuffer = memoryStack.mallocInt(1);\r\n                IntBuffer lineGapBuffer = memoryStack.mallocInt(1);\r\n                stbtt_GetFontVMetrics(this.fontinfo, ascentBuffer, descentBuffer, lineGapBuffer);\r\n                ascent = ascentBuffer.get(0) * pixelScale;\r\n            }\r\n\r\n            textureID = glGenTextures();\r\n            glBindTexture(GL_TEXTURE_2D, textureID);\r\n            glTexImage2D(GL_TEXTURE_2D, 0, GL_ALPHA, 512, 512, 0, GL_ALPHA, GL_UNSIGNED_BYTE, textureData);\r\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\r\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\r\n            glBindTexture(GL_TEXTURE_2D, 0);\r\n        }\r\n\r\n        catch (Exception e)\r\n        {\r\n            ;\r\n        }\r\n\r\n        this.ascent = ascent;\r\n        this.textureID = textureID;\r\n    }\r\n\r\n    public int getSize()\r\n    {\r\n        return this.size;\r\n    }\r\n```\r\n\r\nCreates a new ByteBuffer:\r\n```\r\n    private ByteBuffer loadFileToByteBuffer(File file)\r\n    {\r\n        try (FileInputStream fileInputStream = new FileInputStream(file); FileChannel fileChannel = fileInputStream.getChannel())\r\n        {\r\n            return fileChannel.map(FileChannel.MapMode.READ_ONLY, 0, fileChannel.size());\r\n        }\r\n\r\n        catch (Exception e)\r\n        {\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nDraws the text:\r\n```\r\n    public void drawString(String text, float x, float y, Color color)\r\n    {\r\n        y += this.ascent;\r\n\r\n        try (MemoryStack memoryStack = MemoryStack.stackPush())\r\n        {\r\n            FloatBuffer xBuffer = memoryStack.floats(x);\r\n            FloatBuffer yBuffer = memoryStack.floats(y);\r\n            STBTTAlignedQuad stbttAlignedQuad = STBTTAlignedQuad.malloc(memoryStack);\r\n            glEnable(GL_ALPHA);\r\n            glEnable(GL_BLEND);\r\n            GL14.glBlendFuncSeparate(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA, 1, 0);\r\n            int colorRGB = color.getRGB();\r\n            float alpha = (float)((colorRGB &gt;&gt; 24) &amp; 0xFF) / 255;\r\n            float red = (float)((colorRGB &gt;&gt; 16) &amp; 0xFF) / 255;\r\n            float green = (float)((colorRGB &gt;&gt; 8) &amp; 0xFF) / 255;\r\n            float blue = (float)((colorRGB) &amp; 0xFF) / 255;\r\n            glColor4f(red, green, blue, alpha);\r\n            glEnable(GL_TEXTURE_2D);\r\n            glBindTexture(GL_TEXTURE_2D, this.textureID);\r\n            glBegin(GL_TRIANGLES);\r\n\r\n            for (int i = 0; i &lt; text.length(); i++)\r\n            {\r\n                int codePoint = text.codePointAt(i);\r\n\r\n                if (codePoint == &#39;\\n&#39;)\r\n                {\r\n                    xBuffer.put(0, x);\r\n                    yBuffer.put(0, y += this.ascent);\r\n                    continue;\r\n                }\r\n\r\n                else if (codePoint &lt; 32 || codePoint &gt; 127)\r\n                {\r\n                    continue;\r\n                }\r\n\r\n                stbtt_GetBakedQuad(this.characterData, 512, 512, codePoint - 32, xBuffer, yBuffer, stbttAlignedQuad, true);\r\n                glTexCoord2f(stbttAlignedQuad.s0(), stbttAlignedQuad.t0());\r\n                glVertex2f(stbttAlignedQuad.x0(), stbttAlignedQuad.y0());\r\n                glTexCoord2f(stbttAlignedQuad.s0(), stbttAlignedQuad.t1());\r\n                glVertex2f(stbttAlignedQuad.x0(), stbttAlignedQuad.y1());\r\n                glTexCoord2f(stbttAlignedQuad.s1(), stbttAlignedQuad.t1());\r\n                glVertex2f(stbttAlignedQuad.x1(), stbttAlignedQuad.y1());\r\n                glTexCoord2f(stbttAlignedQuad.s1(), stbttAlignedQuad.t1());\r\n                glVertex2f(stbttAlignedQuad.x1(), stbttAlignedQuad.y1());\r\n                glTexCoord2f(stbttAlignedQuad.s1(), stbttAlignedQuad.t0());\r\n                glVertex2f(stbttAlignedQuad.x1(), stbttAlignedQuad.y0());\r\n                glTexCoord2f(stbttAlignedQuad.s0(), stbttAlignedQuad.t0());\r\n                glVertex2f(stbttAlignedQuad.x0(), stbttAlignedQuad.y0());\r\n            }\r\n\r\n            glEnd();\r\n            glDisable(GL_TEXTURE_2D);\r\n            glBindTexture(GL_TEXTURE_2D, 0);\r\n            glColor4f(1, 1, 1, 1);\r\n            glDisable(GL_BLEND);\r\n            glDisable(GL_ALPHA);\r\n        }\r\n    }\r\n```","title":"Is it possible to use sub-pixel rendering, or no anti-alias for STB fonts?","body":"<p>I want to use sub-pixel rendering for my font. If that is not possible, I at least want to disable anti-aliasing. How could I do so?\nI am using LWJGL 3.3.1.\nThis is my font renderer:</p>\n<pre><code>public class FontRenderer\n{\n    private final STBTTBakedChar.Buffer characterData;\n    private final STBTTFontinfo fontinfo;\n    private final int size, textureID;\n    private final float ascent;\n\n    public FontRenderer(File font, int size)\n    {\n        this.size = size;\n        this.characterData = STBTTBakedChar.malloc(96);\n        this.fontinfo = STBTTFontinfo.create();\n        int textureID = 0;\n        float ascent = 0;\n\n        try\n        {\n            ByteBuffer fontData = this.loadFileToByteBuffer(font);\n            ByteBuffer textureData = BufferUtils.createByteBuffer(262144);\n            assert fontData != null;\n            stbtt_BakeFontBitmap(fontData, size, textureData, 512, 512, 32, this.characterData);\n\n            try (MemoryStack memoryStack = MemoryStack.stackPush())\n            {\n                stbtt_InitFont(this.fontinfo, fontData);\n                float pixelScale = stbtt_ScaleForPixelHeight(this.fontinfo, size);\n                IntBuffer ascentBuffer = memoryStack.mallocInt(1);\n                IntBuffer descentBuffer = memoryStack.mallocInt(1);\n                IntBuffer lineGapBuffer = memoryStack.mallocInt(1);\n                stbtt_GetFontVMetrics(this.fontinfo, ascentBuffer, descentBuffer, lineGapBuffer);\n                ascent = ascentBuffer.get(0) * pixelScale;\n            }\n\n            textureID = glGenTextures();\n            glBindTexture(GL_TEXTURE_2D, textureID);\n            glTexImage2D(GL_TEXTURE_2D, 0, GL_ALPHA, 512, 512, 0, GL_ALPHA, GL_UNSIGNED_BYTE, textureData);\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\n            glBindTexture(GL_TEXTURE_2D, 0);\n        }\n\n        catch (Exception e)\n        {\n            ;\n        }\n\n        this.ascent = ascent;\n        this.textureID = textureID;\n    }\n\n    public int getSize()\n    {\n        return this.size;\n    }\n</code></pre>\n<p>Creates a new ByteBuffer:</p>\n<pre><code>    private ByteBuffer loadFileToByteBuffer(File file)\n    {\n        try (FileInputStream fileInputStream = new FileInputStream(file); FileChannel fileChannel = fileInputStream.getChannel())\n        {\n            return fileChannel.map(FileChannel.MapMode.READ_ONLY, 0, fileChannel.size());\n        }\n\n        catch (Exception e)\n        {\n            return null;\n        }\n    }\n</code></pre>\n<p>Draws the text:</p>\n<pre><code>    public void drawString(String text, float x, float y, Color color)\n    {\n        y += this.ascent;\n\n        try (MemoryStack memoryStack = MemoryStack.stackPush())\n        {\n            FloatBuffer xBuffer = memoryStack.floats(x);\n            FloatBuffer yBuffer = memoryStack.floats(y);\n            STBTTAlignedQuad stbttAlignedQuad = STBTTAlignedQuad.malloc(memoryStack);\n            glEnable(GL_ALPHA);\n            glEnable(GL_BLEND);\n            GL14.glBlendFuncSeparate(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA, 1, 0);\n            int colorRGB = color.getRGB();\n            float alpha = (float)((colorRGB &gt;&gt; 24) &amp; 0xFF) / 255;\n            float red = (float)((colorRGB &gt;&gt; 16) &amp; 0xFF) / 255;\n            float green = (float)((colorRGB &gt;&gt; 8) &amp; 0xFF) / 255;\n            float blue = (float)((colorRGB) &amp; 0xFF) / 255;\n            glColor4f(red, green, blue, alpha);\n            glEnable(GL_TEXTURE_2D);\n            glBindTexture(GL_TEXTURE_2D, this.textureID);\n            glBegin(GL_TRIANGLES);\n\n            for (int i = 0; i &lt; text.length(); i++)\n            {\n                int codePoint = text.codePointAt(i);\n\n                if (codePoint == '\\n')\n                {\n                    xBuffer.put(0, x);\n                    yBuffer.put(0, y += this.ascent);\n                    continue;\n                }\n\n                else if (codePoint &lt; 32 || codePoint &gt; 127)\n                {\n                    continue;\n                }\n\n                stbtt_GetBakedQuad(this.characterData, 512, 512, codePoint - 32, xBuffer, yBuffer, stbttAlignedQuad, true);\n                glTexCoord2f(stbttAlignedQuad.s0(), stbttAlignedQuad.t0());\n                glVertex2f(stbttAlignedQuad.x0(), stbttAlignedQuad.y0());\n                glTexCoord2f(stbttAlignedQuad.s0(), stbttAlignedQuad.t1());\n                glVertex2f(stbttAlignedQuad.x0(), stbttAlignedQuad.y1());\n                glTexCoord2f(stbttAlignedQuad.s1(), stbttAlignedQuad.t1());\n                glVertex2f(stbttAlignedQuad.x1(), stbttAlignedQuad.y1());\n                glTexCoord2f(stbttAlignedQuad.s1(), stbttAlignedQuad.t1());\n                glVertex2f(stbttAlignedQuad.x1(), stbttAlignedQuad.y1());\n                glTexCoord2f(stbttAlignedQuad.s1(), stbttAlignedQuad.t0());\n                glVertex2f(stbttAlignedQuad.x1(), stbttAlignedQuad.y0());\n                glTexCoord2f(stbttAlignedQuad.s0(), stbttAlignedQuad.t0());\n                glVertex2f(stbttAlignedQuad.x0(), stbttAlignedQuad.y0());\n            }\n\n            glEnd();\n            glDisable(GL_TEXTURE_2D);\n            glBindTexture(GL_TEXTURE_2D, 0);\n            glColor4f(1, 1, 1, 1);\n            glDisable(GL_BLEND);\n            glDisable(GL_ALPHA);\n        }\n    }\n</code></pre>\n"},{"tags":["java","rundeck"],"comments":[{"owner":{"account_id":22003198,"reputation":49,"user_id":16274614,"display_name":"sigfried"},"score":0,"creation_date":1671792937,"post_id":74898777,"comment_id":132177189,"body_markdown":"I also tried appending --testauth but error remains the same","body":"I also tried appending --testauth but error remains the same"}],"answers":[{"tags":[],"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671805269,"creation_date":1671804329,"answer_id":74900532,"question_id":74898777,"body_markdown":"Your multiauth config file is saved as `jass-multiauth.conf` but the launcher script is looking for `jaas-multiauth.conf` (jass =! jaas). That is the reason of &quot;No such file or directory&quot; error. Rename the file as `jaas-multiauth.conf` and relaunch the Rundeck service.","title":"Rundeck config file not found when service starts up","body":"<p>Your multiauth config file is saved as <code>jass-multiauth.conf</code> but the launcher script is looking for <code>jaas-multiauth.conf</code> (jass =! jaas). That is the reason of &quot;No such file or directory&quot; error. Rename the file as <code>jaas-multiauth.conf</code> and relaunch the Rundeck service.</p>\n"}],"owner":{"account_id":22003198,"reputation":49,"user_id":16274614,"display_name":"sigfried"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74900532,"answer_count":1,"score":0,"last_activity_date":1671805269,"creation_date":1671792509,"question_id":74898777,"body_markdown":"I have installed RD 4.8 CE on a Windows 2019 server + MariaDB. The application is up and I can login with the admin account. Service is Windows integrated.\r\n\r\nI&#39;m trying now to allow AD users to login and perform activities. I haven&#39;t found much documentation on how to configure RD on Windows. So I&#39;m grabbing from here and there. So far I have done the following:\r\n\r\nCreated a file called jass-multiauth.conf in server/config/ folder as listed below:\r\n\r\n    multiauth {\r\n        com.dtolabs.rundeck.jetty.jaas.JettyCombinedLdapLoginModule sufficient\r\n        debug=&quot;true&quot;\r\n        contextFactory=&quot;com.sun.jndi.ldap.LdapCtxFactory&quot;\r\n        providerUrl=&quot;ldaps://xxxxxxxxxxx:636&quot;\r\n        bindDn=&quot;CN=xxxxxx,OU=Service Accounts,OU=Admin Users and Groups,OU=xxx,DC=xxx,DC=xxx,DC=xxx&quot;\r\n        bindPassword=&quot;x$xx&lt;x&gt;xx&quot;\r\n        authenticationMethod=&quot;simple&quot;\r\n        forceBindingLogin=&quot;true&quot;\r\n        userBaseDn=&quot;OU=Admin Users,OU=Admin Users and Groups,OU=xxx,DC=xxx,DC=xxx,DC=xxx&quot;\r\n        userRdnAttribute=&quot;sAMAccountName&quot;\r\n        userIdAttribute=&quot;sAMAccountName&quot;\r\n        userPasswordAttribute=&quot;unicodePwd&quot;\r\n        userObjectClass=&quot;user&quot;\r\n        roleBaseDn=&quot;OU=Groups,OU=Admin Users and Groups,OU=xxxx,DC=xxx,DC=xxx,DC=xxx&quot;\r\n        roleNameAttribute=&quot;cn&quot;\r\n        roleMemberAttribute=&quot;member&quot;\r\n        roleObjectClass=&quot;group&quot;\r\n        cacheDurationMillis=&quot;300000&quot;\r\n        timeoutRead=&quot;10000&quot;\r\n        reportStatistics=&quot;true&quot;\r\n        supplementalRoles=&quot;user&quot;;\r\n    \r\n        org.eclipse.jetty.jaas.spi.PropertyFileLoginModule required\r\n        debug=&quot;true&quot;\r\n        file=&quot;E:/rundeck/server/config/realm.properties&quot;;\r\n    };\r\n\r\nwhen I restart rundeck service the AD users are not recognized and no error at all is displayed in the log. I can however login with the admin account. So to troubleshoot this I added:\r\n\r\n    java %RDECK_CLI_OPTS% %RDECK_SSL_OPTS% -Drundeck.jaaslogin=true -Dloginmodule.conf.name=jaas-multiauth.conf -Djava.security.auth.login.config=E:\\rundeck\\server\\config\\jaas-multiauth.conf -Dloginmodule.name=multiauth -jar rundeck.war --skipinstall -d  &gt;&gt; %CURDIR%\\var\\logs\\service.log  2&gt;&amp;1\r\n\r\nto the start-rundeck.bat file and in fact when I launch it I see an error which is quite weird:\r\n\r\n    [2022-12-22T18:58:09,409] ERROR config.GrailsApplicationPostProcessor - Error loading spring/resources.groovy file: java.io.IOException: E:\\rundeck\\server\\config\\jaas-multiauth.conf (No such file or directory)\r\n    java.lang.SecurityException: java.io.IOException: E:\\rundeck\\server\\config\\jaas-multiauth.conf (No such file or directory)\r\n\r\nthe file is there, path is correct and permission is set as on any other file in same directory. I deleted the file and created it again, but same error.\r\n\r\nAlso, I have a question: I understand that I should not edit the profile file. Hence, when the problem above is fixed, considering that the rundeck service is Windows integrated, where shall I put the line:\r\n\r\n    java %RDECK_CLI_OPTS% %RDECK_SSL_OPTS% -Drundeck.jaaslogin=true -Dloginmodule.conf.name=jaas-multiauth.conf -Djava.security.auth.login.config=E:\\rundeck\\server\\config\\jaas-multiauth.conf -Dloginmodule.name=multiauth -jar rundeck.war --skipinstall -d  &gt;&gt; %CURDIR%\\var\\logs\\service.log  2&gt;&amp;1\r\n\r\nto refer the jass-multiauth.conf file?","title":"Rundeck config file not found when service starts up","body":"<p>I have installed RD 4.8 CE on a Windows 2019 server + MariaDB. The application is up and I can login with the admin account. Service is Windows integrated.</p>\n<p>I'm trying now to allow AD users to login and perform activities. I haven't found much documentation on how to configure RD on Windows. So I'm grabbing from here and there. So far I have done the following:</p>\n<p>Created a file called jass-multiauth.conf in server/config/ folder as listed below:</p>\n<pre><code>multiauth {\n    com.dtolabs.rundeck.jetty.jaas.JettyCombinedLdapLoginModule sufficient\n    debug=&quot;true&quot;\n    contextFactory=&quot;com.sun.jndi.ldap.LdapCtxFactory&quot;\n    providerUrl=&quot;ldaps://xxxxxxxxxxx:636&quot;\n    bindDn=&quot;CN=xxxxxx,OU=Service Accounts,OU=Admin Users and Groups,OU=xxx,DC=xxx,DC=xxx,DC=xxx&quot;\n    bindPassword=&quot;x$xx&lt;x&gt;xx&quot;\n    authenticationMethod=&quot;simple&quot;\n    forceBindingLogin=&quot;true&quot;\n    userBaseDn=&quot;OU=Admin Users,OU=Admin Users and Groups,OU=xxx,DC=xxx,DC=xxx,DC=xxx&quot;\n    userRdnAttribute=&quot;sAMAccountName&quot;\n    userIdAttribute=&quot;sAMAccountName&quot;\n    userPasswordAttribute=&quot;unicodePwd&quot;\n    userObjectClass=&quot;user&quot;\n    roleBaseDn=&quot;OU=Groups,OU=Admin Users and Groups,OU=xxxx,DC=xxx,DC=xxx,DC=xxx&quot;\n    roleNameAttribute=&quot;cn&quot;\n    roleMemberAttribute=&quot;member&quot;\n    roleObjectClass=&quot;group&quot;\n    cacheDurationMillis=&quot;300000&quot;\n    timeoutRead=&quot;10000&quot;\n    reportStatistics=&quot;true&quot;\n    supplementalRoles=&quot;user&quot;;\n\n    org.eclipse.jetty.jaas.spi.PropertyFileLoginModule required\n    debug=&quot;true&quot;\n    file=&quot;E:/rundeck/server/config/realm.properties&quot;;\n};\n</code></pre>\n<p>when I restart rundeck service the AD users are not recognized and no error at all is displayed in the log. I can however login with the admin account. So to troubleshoot this I added:</p>\n<pre><code>java %RDECK_CLI_OPTS% %RDECK_SSL_OPTS% -Drundeck.jaaslogin=true -Dloginmodule.conf.name=jaas-multiauth.conf -Djava.security.auth.login.config=E:\\rundeck\\server\\config\\jaas-multiauth.conf -Dloginmodule.name=multiauth -jar rundeck.war --skipinstall -d  &gt;&gt; %CURDIR%\\var\\logs\\service.log  2&gt;&amp;1\n</code></pre>\n<p>to the start-rundeck.bat file and in fact when I launch it I see an error which is quite weird:</p>\n<pre><code>[2022-12-22T18:58:09,409] ERROR config.GrailsApplicationPostProcessor - Error loading spring/resources.groovy file: java.io.IOException: E:\\rundeck\\server\\config\\jaas-multiauth.conf (No such file or directory)\njava.lang.SecurityException: java.io.IOException: E:\\rundeck\\server\\config\\jaas-multiauth.conf (No such file or directory)\n</code></pre>\n<p>the file is there, path is correct and permission is set as on any other file in same directory. I deleted the file and created it again, but same error.</p>\n<p>Also, I have a question: I understand that I should not edit the profile file. Hence, when the problem above is fixed, considering that the rundeck service is Windows integrated, where shall I put the line:</p>\n<pre><code>java %RDECK_CLI_OPTS% %RDECK_SSL_OPTS% -Drundeck.jaaslogin=true -Dloginmodule.conf.name=jaas-multiauth.conf -Djava.security.auth.login.config=E:\\rundeck\\server\\config\\jaas-multiauth.conf -Dloginmodule.name=multiauth -jar rundeck.war --skipinstall -d  &gt;&gt; %CURDIR%\\var\\logs\\service.log  2&gt;&amp;1\n</code></pre>\n<p>to refer the jass-multiauth.conf file?</p>\n"},{"tags":["java","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":17644829,"reputation":671,"user_id":12806467,"display_name":"MrSolarius"},"score":1,"creation_date":1671793316,"post_id":74898803,"comment_id":132177277,"body_markdown":"You have the extract function from oracle that can get your month number like that : `@Query(&quot;SELECT * FROM Table_name WHERE EXTRACT(MONTH FROM timestamp_date) = ?1&quot;)\nList getByMonth(int monthNumber);`","body":"You have the extract function from oracle that can get your month number like that : <code>@Query(&quot;SELECT * FROM Table_name WHERE EXTRACT(MONTH FROM timestamp_date) = ?1&quot;) List getByMonth(int monthNumber);</code>"},{"owner":{"account_id":23651005,"reputation":699,"user_id":17679888,"display_name":"Newbie learner"},"score":0,"creation_date":1671794041,"post_id":74898803,"comment_id":132177461,"body_markdown":"I think this works, i have written the query in repo class should I mention the db table name instead of entity class name which mapped to the table ?","body":"I think this works, i have written the query in repo class should I mention the db table name instead of entity class name which mapped to the table ?"},{"owner":{"account_id":17644829,"reputation":671,"user_id":12806467,"display_name":"MrSolarius"},"score":0,"creation_date":1671795033,"post_id":74898803,"comment_id":132177749,"body_markdown":"The entity class is used to represent the data in your application, while the database table stores the actual data. So yes, you should ;)","body":"The entity class is used to represent the data in your application, while the database table stores the actual data. So yes, you should ;)"}],"owner":{"account_id":23651005,"reputation":699,"user_id":17679888,"display_name":"Newbie learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671804926,"creation_date":1671792684,"question_id":74898803,"body_markdown":"UI sends month parameter as int\r\n\r\n```java\r\n@GetMapping(&quot;/{Monthnumber}&quot;)\r\nPublic List&lt;FunctionList&gt; getByMonth(@pathvariable(&quot;MonthNumber&quot;) int month)\r\n```\r\nUsing the above API\r\n\r\nFor example, if my month is Feb the parameter value would be 2 but in my oracle db the column contains timestamp data `22-FEB-22 11.00.00.00000000 AM`\r\n\r\nTried below IN REPO\r\n```java\r\n@QUERY(&quot;SELECT * FROM Table_name WHERE month(timestamp_date) = ?1)\r\nList&lt;Functionlist&gt; getByMonth(int month number)\r\n```\r\n\r\nHow to correctly query this","title":"SPRING DATA JPA - I need to fetch data based on timestamp column where month (int) as a parameter in native query","body":"<p>UI sends month parameter as int</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/{Monthnumber}&quot;)\nPublic List&lt;FunctionList&gt; getByMonth(@pathvariable(&quot;MonthNumber&quot;) int month)\n</code></pre>\n<p>Using the above API</p>\n<p>For example, if my month is Feb the parameter value would be 2 but in my oracle db the column contains timestamp data <code>22-FEB-22 11.00.00.00000000 AM</code></p>\n<p>Tried below IN REPO</p>\n<pre class=\"lang-java prettyprint-override\"><code>@QUERY(&quot;SELECT * FROM Table_name WHERE month(timestamp_date) = ?1)\nList&lt;Functionlist&gt; getByMonth(int month number)\n</code></pre>\n<p>How to correctly query this</p>\n"},{"tags":["java","mongodb","cdc"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1664708870,"post_id":73925291,"comment_id":130529583,"body_markdown":"Seems like the outcome depends on what `resumeToken` contains.","body":"Seems like the outcome depends on what <code>resumeToken</code> contains."},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1664709203,"post_id":73925291,"comment_id":130529647,"body_markdown":"Max. size of 16793600 Byte (16 MiBYte) is a fix limit. Make your documents smaller, there is no other way. If you need to store bigger documents, then see [GridFS](https://www.mongodb.com/docs/manual/core/gridfs/)","body":"Max. size of 16793600 Byte (16 MiBYte) is a fix limit. Make your documents smaller, there is no other way. If you need to store bigger documents, then see <a href=\"https://www.mongodb.com/docs/manual/core/gridfs/\" rel=\"nofollow noreferrer\">GridFS</a>"},{"owner":{"account_id":877270,"reputation":742,"user_id":153271,"accept_rate":33,"display_name":"chendu"},"score":0,"creation_date":1664715387,"post_id":73925291,"comment_id":130530723,"body_markdown":"We should atleast be able to ignore such large rows and proceed further. how? --I am trying to find out. Also, i think the error is not coming from the collections I own. in the above code if we can somehow mention the `collections` of interest in the `pipeline` object -- I think the issue can be fixed. But i couldnt know how to do it. Any help?","body":"We should atleast be able to ignore such large rows and proceed further. how? --I am trying to find out. Also, i think the error is not coming from the collections I own. in the above code if we can somehow mention the <code>collections</code> of interest in the <code>pipeline</code> object -- I think the issue can be fixed. But i couldnt know how to do it. Any help?"},{"owner":{"account_id":877270,"reputation":742,"user_id":153271,"accept_rate":33,"display_name":"chendu"},"score":0,"creation_date":1664723930,"post_id":73925291,"comment_id":130532414,"body_markdown":"@WernfriedDomscheit i went through the GridFS documentation. What is not clear is how to use it in the context of CDC. The document shared is more wrt finding a document. Even google doesnt help. Any pointers?","body":"@WernfriedDomscheit i went through the GridFS documentation. What is not clear is how to use it in the context of CDC. The document shared is more wrt finding a document. Even google doesnt help. Any pointers?"}],"answers":[{"tags":[],"owner":{"account_id":877270,"reputation":742,"user_id":153271,"accept_rate":33,"display_name":"chendu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665550497,"creation_date":1665550497,"answer_id":74036652,"question_id":73925291,"body_markdown":"This is how i ended up solving the problem. (just incase somebody else is searching for solution to-this problem)\r\n\r\n1. removed `FullDocument.UPDATE_LOOKUP` when creating the cursor. So now my code looks like `cursor = mongoClient.watch(pipeline).batchSize(20000).cursor();` --Now this avoided the gigantic column that may endup in the document which was eventually error-ing out. This worked. \r\n\r\n2. In my case i didnt have to listen to the collection updates which had this bad data. So i modified my cursor to listen only on the databases and collections of my interest --instead of listening on the entire database and then ignoring the unwanted collections later. Below is the code\r\n\r\n3. When writing to the destination i had done bulk lookup on mongo db, constructed the full document and then written it --This approach of lazy lookup reduced a lot of memory footprint of the java program.\r\n\r\n```\r\n\r\n    private List&lt;Bson&gt; generatePipeline(CdcConfigs cdcConfig) {\r\n        List&lt;String&gt; whiteListedCollections = getWhitelistedCollection(cdcConfig);\r\n        List&lt;String&gt; whiteListedDbs = getWhitelistedDbs(cdcConfig);\r\n        log.info(&quot;whitelisted dbs:&quot; + whiteListedDbs + &quot; coll:&quot; + whiteListedCollections);\r\n        List&lt;Bson&gt; pipeline;\r\n        if (whiteListedDbs.size() &gt; 0)\r\n            pipeline = singletonList(match(and(\r\n                    in(&quot;ns.db&quot;, whiteListedDbs),\r\n                    in(&quot;ns.coll&quot;, whiteListedCollections),\r\n                    in(&quot;operationType&quot;, asList(&quot;insert&quot;, &quot;delete&quot;, &quot;update&quot;)))));\r\n        else\r\n            pipeline = singletonList(match(and(\r\n                    in(&quot;ns.coll&quot;, whiteListedCollections),\r\n                    in(&quot;operationType&quot;, asList(&quot;insert&quot;, &quot;delete&quot;, &quot;update&quot;)))));\r\n        return pipeline;\r\n    }\r\n\r\n    private MongoChangeStreamCursor&lt;ChangeStreamDocument&lt;Document&gt;&gt; getCursorAtResumeToken(CdcConfigs cdcConfig, MongoClient mongoClient) {\r\n        List&lt;Bson&gt; pipeline = generatePipeline(cdcConfig);\r\n        MongoChangeStreamCursor&lt;ChangeStreamDocument&lt;Document&gt;&gt; cursor;\r\n        String resumeTokenStr = getResumeTokenFromS3(cdcConfig);\r\n        if (resumeTokenStr == null) {\r\n//            cursor = mongoClient.watch(pipeline).fullDocument(FullDocument.UPDATE_LOOKUP).cursor();\r\n            cursor = mongoClient.watch(pipeline).batchSize(20000).cursor();\r\n            log.warn(&quot;RESUME TOKEN IS NULL. READING CDC FROM CURRENT TIMESTAMP FROM MONGO DB !!! &quot;);\r\n        } else {\r\n            BsonDocument resumeToken = BsonDocument.parse(resumeTokenStr);\r\n            cursor = mongoClient.watch(pipeline).batchSize(20000).maxAwaitTime(30, TimeUnit.MINUTES).startAfter(resumeToken).cursor();\r\n//            cursor = mongoClient.watch(pipeline).startAfter(resumeToken).fullDocument(FullDocument.UPDATE_LOOKUP).cursor();\r\n        }\r\n        return cursor;\r\n    }\r\n\r\n```\r\n\r\nThe solutions available sofar are more inclined towards python code. So it was a challange translating them into Java. ","title":"Mongo CDC throws : BSONObjectTooLarge . How to ignore this and proceed further?","body":"<p>This is how i ended up solving the problem. (just incase somebody else is searching for solution to-this problem)</p>\n<ol>\n<li><p>removed <code>FullDocument.UPDATE_LOOKUP</code> when creating the cursor. So now my code looks like <code>cursor = mongoClient.watch(pipeline).batchSize(20000).cursor();</code> --Now this avoided the gigantic column that may endup in the document which was eventually error-ing out. This worked.</p>\n</li>\n<li><p>In my case i didnt have to listen to the collection updates which had this bad data. So i modified my cursor to listen only on the databases and collections of my interest --instead of listening on the entire database and then ignoring the unwanted collections later. Below is the code</p>\n</li>\n<li><p>When writing to the destination i had done bulk lookup on mongo db, constructed the full document and then written it --This approach of lazy lookup reduced a lot of memory footprint of the java program.</p>\n</li>\n</ol>\n<pre><code>\n    private List&lt;Bson&gt; generatePipeline(CdcConfigs cdcConfig) {\n        List&lt;String&gt; whiteListedCollections = getWhitelistedCollection(cdcConfig);\n        List&lt;String&gt; whiteListedDbs = getWhitelistedDbs(cdcConfig);\n        log.info(&quot;whitelisted dbs:&quot; + whiteListedDbs + &quot; coll:&quot; + whiteListedCollections);\n        List&lt;Bson&gt; pipeline;\n        if (whiteListedDbs.size() &gt; 0)\n            pipeline = singletonList(match(and(\n                    in(&quot;ns.db&quot;, whiteListedDbs),\n                    in(&quot;ns.coll&quot;, whiteListedCollections),\n                    in(&quot;operationType&quot;, asList(&quot;insert&quot;, &quot;delete&quot;, &quot;update&quot;)))));\n        else\n            pipeline = singletonList(match(and(\n                    in(&quot;ns.coll&quot;, whiteListedCollections),\n                    in(&quot;operationType&quot;, asList(&quot;insert&quot;, &quot;delete&quot;, &quot;update&quot;)))));\n        return pipeline;\n    }\n\n    private MongoChangeStreamCursor&lt;ChangeStreamDocument&lt;Document&gt;&gt; getCursorAtResumeToken(CdcConfigs cdcConfig, MongoClient mongoClient) {\n        List&lt;Bson&gt; pipeline = generatePipeline(cdcConfig);\n        MongoChangeStreamCursor&lt;ChangeStreamDocument&lt;Document&gt;&gt; cursor;\n        String resumeTokenStr = getResumeTokenFromS3(cdcConfig);\n        if (resumeTokenStr == null) {\n//            cursor = mongoClient.watch(pipeline).fullDocument(FullDocument.UPDATE_LOOKUP).cursor();\n            cursor = mongoClient.watch(pipeline).batchSize(20000).cursor();\n            log.warn(&quot;RESUME TOKEN IS NULL. READING CDC FROM CURRENT TIMESTAMP FROM MONGO DB !!! &quot;);\n        } else {\n            BsonDocument resumeToken = BsonDocument.parse(resumeTokenStr);\n            cursor = mongoClient.watch(pipeline).batchSize(20000).maxAwaitTime(30, TimeUnit.MINUTES).startAfter(resumeToken).cursor();\n//            cursor = mongoClient.watch(pipeline).startAfter(resumeToken).fullDocument(FullDocument.UPDATE_LOOKUP).cursor();\n        }\n        return cursor;\n    }\n\n</code></pre>\n<p>The solutions available sofar are more inclined towards python code. So it was a challange translating them into Java.</p>\n"},{"tags":[],"owner":{"account_id":7369213,"reputation":312,"user_id":5609968,"display_name":"Xfox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671804499,"creation_date":1671804499,"answer_id":74900559,"question_id":73925291,"body_markdown":"My case is a little bit different. I have a trigger used to align documents from a collection to another, with the option to include the fullDocument in the change event. Problem is that the [metadata][1] added to the event, combined with the fullDocument, exceeds the BSON max size (16MB).\r\n\r\nI solved removing the fullDocument from the trigger and getting the document from the collection itself performing an aggregate:\r\n\r\n       collection1.aggregate([\r\n                {$match: {_id: changeEvent.documentKey._id}},\r\n                { $merge: { into: &quot;collection&quot;, on: &quot;_id&quot;, whenMatched: &quot;replace&quot;, whenNotMatched: &quot;insert&quot; } }\r\n              ]);\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/manual/reference/change-events/insert/#mongodb-data-insert","title":"Mongo CDC throws : BSONObjectTooLarge . How to ignore this and proceed further?","body":"<p>My case is a little bit different. I have a trigger used to align documents from a collection to another, with the option to include the fullDocument in the change event. Problem is that the <a href=\"https://www.mongodb.com/docs/manual/reference/change-events/insert/#mongodb-data-insert\" rel=\"nofollow noreferrer\">metadata</a> added to the event, combined with the fullDocument, exceeds the BSON max size (16MB).</p>\n<p>I solved removing the fullDocument from the trigger and getting the document from the collection itself performing an aggregate:</p>\n<pre><code>   collection1.aggregate([\n            {$match: {_id: changeEvent.documentKey._id}},\n            { $merge: { into: &quot;collection&quot;, on: &quot;_id&quot;, whenMatched: &quot;replace&quot;, whenNotMatched: &quot;insert&quot; } }\n          ]);\n</code></pre>\n"}],"owner":{"account_id":877270,"reputation":742,"user_id":153271,"accept_rate":33,"display_name":"chendu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":762,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74036652,"answer_count":2,"score":0,"last_activity_date":1671804499,"creation_date":1664708596,"question_id":73925291,"body_markdown":"I would liketo listen only to 3 collections in a database: c1, c2, c3. I was not able to figureout how to limit listening to these 3 collections only. Below is my code. \r\n\r\n1. i would like to ignore this error and proceed further. How to do it? In this case the cursor itself is not getting created. \r\n2. Like i said previously, is there a way to limit the listening to the collections `c1`, `c2` `c3` collections only?-- on the db side. Below code is listening to the full db and then filtering the collections on the java side. \r\n\r\n```\r\n        List&lt;Bson&gt; pipeline = singletonList(match(in(&quot;operationType&quot;, asList(&quot;insert&quot;, &quot;delete&quot;, &quot;update&quot;))));\r\n        MongoChangeStreamCursor&lt;ChangeStreamDocument&lt;Document&gt;&gt; cursor;\r\n        String resumeTokenStr = getResumeTokenFromS3(cdcConfig);\r\n        if (resumeTokenStr == null) {\r\n            cursor = mongoClient.watch(pipeline).fullDocument(FullDocument.UPDATE_LOOKUP).cursor();\r\n        } else {\r\n            BsonDocument resumeToken = BsonDocument.parse(resumeTokenStr);\r\n            cursor = mongoClient.watch(pipeline).batchSize(1).maxAwaitTime(60, TimeUnit.SECONDS).startAfter(resumeToken).fullDocument(FullDocument.UPDATE_LOOKUP).cursor();\r\n        }\r\n        return cursor;\r\n```\r\n\r\nThe above code throws the below error\r\n\r\n```\r\ncom.mongodb.MongoCommandException: Command failed with error 10334 (BSONObjectTooLarge): &#39;BSONObj size: 16795345 (0x10046D1) is invalid. Size must be between 0 and 16793600(16MB) First element: _id: { _data: &quot;826337A73B0000000A2B022C0100296E5A1004B317A529F739433BA840730515AC0EAC46645F6964006462624E8146E0FB000934F6560004&quot; }&#39; on server crm-mongo-report01.prod.phenom.local:27017. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1664707966, &quot;i&quot;: 25}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;BSONObj size: 16795345 (0x10046D1) is invalid. Size must be between 0 and 16793600(16MB) First element: _id: { _data: \\&quot;826337A73B0000000A2B022C0100296E5A1004B317A529F739433BA840730515AC0EAC46645F6964006462624E8146E0FB000934F6560004\\&quot; }&quot;, &quot;code&quot;: 10334, &quot;codeName&quot;: &quot;BSONObjectTooLarge&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1664707966, &quot;i&quot;: 26}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;NZDJKhCse19Eud88kNh7XRWRgas=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 7113062344413937666}}}\r\n\tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:198)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:337)\r\n\tat com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:116)\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:644)\r\n\tat com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:71)\r\n\tat com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:240)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:226)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:126)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:116)\r\n\tat com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:345)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.createReadCommandAndExecute(CommandOperationHelper.java:232)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.lambda$executeRetryableRead$4(CommandOperationHelper.java:214)\r\n\tat com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$2(OperationHelper.java:575)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:600)\r\n\tat com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$3(OperationHelper.java:574)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:600)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:573)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.lambda$executeRetryableRead$5(CommandOperationHelper.java:211)\r\n\tat com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:65)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.executeRetryableRead(CommandOperationHelper.java:217)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.executeRetryableRead(CommandOperationHelper.java:197)\r\n\tat com.mongodb.internal.operation.AggregateOperationImpl.execute(AggregateOperationImpl.java:195)\r\n\tat com.mongodb.internal.operation.ChangeStreamOperation$1.call(ChangeStreamOperation.java:347)\r\n\tat com.mongodb.internal.operation.ChangeStreamOperation$1.call(ChangeStreamOperation.java:343)\r\n\tat com.mongodb.internal.operation.OperationHelper.withReadConnectionSource(OperationHelper.java:538)\r\n\tat com.mongodb.internal.operation.ChangeStreamOperation.execute(ChangeStreamOperation.java:343)\r\n\tat com.mongodb.internal.operation.ChangeStreamOperation.execute(ChangeStreamOperation.java:58)\r\n\tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:191)\r\n\tat com.mongodb.client.internal.ChangeStreamIterableImpl.execute(ChangeStreamIterableImpl.java:221)\r\n\tat com.mongodb.client.internal.ChangeStreamIterableImpl.cursor(ChangeStreamIterableImpl.java:174)\r\n\tat com.company.cdc.services.CDCMain.getCursorAtResumeToken(CdcServiceMain.java:217)\r\n```\r\n\r\nline 217 points to the line : ` cursor = mongoClient.watch(pipeline).batchSize(1).maxAwaitTime(60, TimeUnit.SECONDS).startAfter(resumeToken).fullDocument(FullDocument.UPDATE_LOOKUP).cursor();`","title":"Mongo CDC throws : BSONObjectTooLarge . How to ignore this and proceed further?","body":"<p>I would liketo listen only to 3 collections in a database: c1, c2, c3. I was not able to figureout how to limit listening to these 3 collections only. Below is my code.</p>\n<ol>\n<li>i would like to ignore this error and proceed further. How to do it? In this case the cursor itself is not getting created.</li>\n<li>Like i said previously, is there a way to limit the listening to the collections <code>c1</code>, <code>c2</code> <code>c3</code> collections only?-- on the db side. Below code is listening to the full db and then filtering the collections on the java side.</li>\n</ol>\n<pre><code>        List&lt;Bson&gt; pipeline = singletonList(match(in(&quot;operationType&quot;, asList(&quot;insert&quot;, &quot;delete&quot;, &quot;update&quot;))));\n        MongoChangeStreamCursor&lt;ChangeStreamDocument&lt;Document&gt;&gt; cursor;\n        String resumeTokenStr = getResumeTokenFromS3(cdcConfig);\n        if (resumeTokenStr == null) {\n            cursor = mongoClient.watch(pipeline).fullDocument(FullDocument.UPDATE_LOOKUP).cursor();\n        } else {\n            BsonDocument resumeToken = BsonDocument.parse(resumeTokenStr);\n            cursor = mongoClient.watch(pipeline).batchSize(1).maxAwaitTime(60, TimeUnit.SECONDS).startAfter(resumeToken).fullDocument(FullDocument.UPDATE_LOOKUP).cursor();\n        }\n        return cursor;\n</code></pre>\n<p>The above code throws the below error</p>\n<pre><code>com.mongodb.MongoCommandException: Command failed with error 10334 (BSONObjectTooLarge): 'BSONObj size: 16795345 (0x10046D1) is invalid. Size must be between 0 and 16793600(16MB) First element: _id: { _data: &quot;826337A73B0000000A2B022C0100296E5A1004B317A529F739433BA840730515AC0EAC46645F6964006462624E8146E0FB000934F6560004&quot; }' on server crm-mongo-report01.prod.phenom.local:27017. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1664707966, &quot;i&quot;: 25}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;BSONObj size: 16795345 (0x10046D1) is invalid. Size must be between 0 and 16793600(16MB) First element: _id: { _data: \\&quot;826337A73B0000000A2B022C0100296E5A1004B317A529F739433BA840730515AC0EAC46645F6964006462624E8146E0FB000934F6560004\\&quot; }&quot;, &quot;code&quot;: 10334, &quot;codeName&quot;: &quot;BSONObjectTooLarge&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1664707966, &quot;i&quot;: 26}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;NZDJKhCse19Eud88kNh7XRWRgas=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 7113062344413937666}}}\n    at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:198)\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:337)\n    at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:116)\n    at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:644)\n    at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:71)\n    at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:240)\n    at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:226)\n    at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:126)\n    at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:116)\n    at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:345)\n    at com.mongodb.internal.operation.CommandOperationHelper.createReadCommandAndExecute(CommandOperationHelper.java:232)\n    at com.mongodb.internal.operation.CommandOperationHelper.lambda$executeRetryableRead$4(CommandOperationHelper.java:214)\n    at com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$2(OperationHelper.java:575)\n    at com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:600)\n    at com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$3(OperationHelper.java:574)\n    at com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:600)\n    at com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:573)\n    at com.mongodb.internal.operation.CommandOperationHelper.lambda$executeRetryableRead$5(CommandOperationHelper.java:211)\n    at com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:65)\n    at com.mongodb.internal.operation.CommandOperationHelper.executeRetryableRead(CommandOperationHelper.java:217)\n    at com.mongodb.internal.operation.CommandOperationHelper.executeRetryableRead(CommandOperationHelper.java:197)\n    at com.mongodb.internal.operation.AggregateOperationImpl.execute(AggregateOperationImpl.java:195)\n    at com.mongodb.internal.operation.ChangeStreamOperation$1.call(ChangeStreamOperation.java:347)\n    at com.mongodb.internal.operation.ChangeStreamOperation$1.call(ChangeStreamOperation.java:343)\n    at com.mongodb.internal.operation.OperationHelper.withReadConnectionSource(OperationHelper.java:538)\n    at com.mongodb.internal.operation.ChangeStreamOperation.execute(ChangeStreamOperation.java:343)\n    at com.mongodb.internal.operation.ChangeStreamOperation.execute(ChangeStreamOperation.java:58)\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:191)\n    at com.mongodb.client.internal.ChangeStreamIterableImpl.execute(ChangeStreamIterableImpl.java:221)\n    at com.mongodb.client.internal.ChangeStreamIterableImpl.cursor(ChangeStreamIterableImpl.java:174)\n    at com.company.cdc.services.CDCMain.getCursorAtResumeToken(CdcServiceMain.java:217)\n</code></pre>\n<p>line 217 points to the line : <code> cursor = mongoClient.watch(pipeline).batchSize(1).maxAwaitTime(60, TimeUnit.SECONDS).startAfter(resumeToken).fullDocument(FullDocument.UPDATE_LOOKUP).cursor();</code></p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1671803340,"post_id":74900346,"comment_id":132179947,"body_markdown":"I see no use what-so-ever for this code.","body":"I see no use what-so-ever for this code."},{"owner":{"account_id":1610757,"reputation":1067,"user_id":1856573,"accept_rate":90,"display_name":"lapadets"},"score":2,"creation_date":1671803586,"post_id":74900346,"comment_id":132180001,"body_markdown":"Enums cannot be used as Spring beans because they cannot be instantiated using the default constructor. Try removing the @Service annotation and instead use the `getInstance()` method to obtain an instance of your LockerRepo class.","body":"Enums cannot be used as Spring beans because they cannot be instantiated using the default constructor. Try removing the @Service annotation and instead use the <code>getInstance()</code> method to obtain an instance of your LockerRepo class."},{"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"score":0,"creation_date":1671803596,"post_id":74900346,"comment_id":132180003,"body_markdown":"It just imitates repository layer by containing List inside of itself. And I omitted other methods","body":"It just imitates repository layer by containing List inside of itself. And I omitted other methods"},{"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"score":1,"creation_date":1671803894,"post_id":74900346,"comment_id":132180063,"body_markdown":"Thank you @lapadets. That was it. When we&#39;re at it. What is the best approach for singleton pattern in SpringBoot?","body":"Thank you @lapadets. That was it. When we&#39;re at it. What is the best approach for singleton pattern in SpringBoot?"},{"owner":{"account_id":1610757,"reputation":1067,"user_id":1856573,"accept_rate":90,"display_name":"lapadets"},"score":0,"creation_date":1671803990,"post_id":74900346,"comment_id":132180088,"body_markdown":"I posted an asnwer, hope that helps to clear up things.","body":"I posted an asnwer, hope that helps to clear up things."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1671804165,"post_id":74900346,"comment_id":132180137,"body_markdown":"reflecting on what (I think) you try to do with that code: you can easily replace it all with a single static method","body":"reflecting on what (I think) you try to do with that code: you can easily replace it all with a single static method"}],"answers":[{"tags":[],"owner":{"account_id":1610757,"reputation":1067,"user_id":1856573,"accept_rate":90,"display_name":"lapadets"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671803913,"creation_date":1671803913,"answer_id":74900459,"question_id":74900346,"body_markdown":"As I wrote as comment, Enums cannot be used as Spring beans because they cannot be instantiated using the default constructor. \r\n\r\nBut if you still have to use the `@Service` annotation and also `@Autowired` to inject your class, you use the Singleton Pattern:\r\n\r\n    @Service\r\n    public class LockerRepo {\r\n    \r\n        private static final LockerRepo INSTANCE = new LockerRepo();\r\n    \r\n        private List&lt;Locker&gt; lockerList;\r\n    \r\n        private LockerRepo() {\r\n            lockerList = generateExampleData();\r\n        }\r\n    \r\n        private List&lt;Locker&gt; generateExampleData() {\r\n            List&lt;Locker&gt; exampleList = new ArrayList&lt;&gt;();\r\n    \r\n            for (int i = 0; i &lt; 100; i++) {\r\n                if (i &lt;= 30) {\r\n                    exampleList.add(new Locker(i, Size.S));\r\n                } else if (1 &gt; 30 &amp;&amp; i &lt;= 70) {\r\n                    exampleList.add(new Locker(i, Size.M));\r\n                } else {\r\n                    exampleList.add(new Locker(i, Size.L));\r\n                }\r\n            }\r\n    \r\n            return exampleList;\r\n        }\r\n    \r\n        public static LockerRepo getInstance() {\r\n            return INSTANCE;\r\n        }\r\n    \r\n        // getter for locker list\r\n    }\r\n\r\nThis should work, but it has a disadvantage - it makes your code more difficult to test and you have also tight coupling between your components. So it is generally not recommented as best practice.","title":"Autowiring Enums in Spring boot","body":"<p>As I wrote as comment, Enums cannot be used as Spring beans because they cannot be instantiated using the default constructor.</p>\n<p>But if you still have to use the <code>@Service</code> annotation and also <code>@Autowired</code> to inject your class, you use the Singleton Pattern:</p>\n<pre><code>@Service\npublic class LockerRepo {\n\n    private static final LockerRepo INSTANCE = new LockerRepo();\n\n    private List&lt;Locker&gt; lockerList;\n\n    private LockerRepo() {\n        lockerList = generateExampleData();\n    }\n\n    private List&lt;Locker&gt; generateExampleData() {\n        List&lt;Locker&gt; exampleList = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; 100; i++) {\n            if (i &lt;= 30) {\n                exampleList.add(new Locker(i, Size.S));\n            } else if (1 &gt; 30 &amp;&amp; i &lt;= 70) {\n                exampleList.add(new Locker(i, Size.M));\n            } else {\n                exampleList.add(new Locker(i, Size.L));\n            }\n        }\n\n        return exampleList;\n    }\n\n    public static LockerRepo getInstance() {\n        return INSTANCE;\n    }\n\n    // getter for locker list\n}\n</code></pre>\n<p>This should work, but it has a disadvantage - it makes your code more difficult to test and you have also tight coupling between your components. So it is generally not recommented as best practice.</p>\n"}],"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74900459,"answer_count":1,"score":0,"last_activity_date":1671803913,"creation_date":1671803242,"question_id":74900346,"body_markdown":"In my SpringBoot App I have class:\r\n\r\n```\r\n@Service\r\npublic enum LockerRepo {\r\n    INSTANCE;\r\n\r\n    private static List&lt;Locker&gt; lockerList = new ArrayList&lt;&gt;(generateExampleData());\r\n    \r\n    private static List&lt;Locker&gt; generateExampleData() {\r\n\r\n        List&lt;Locker&gt; exampleList = new ArrayList&lt;&gt;();\r\n\r\n            for (int i = 0; i &lt; 100; i++) {\r\n                if (i &lt;= 30) {\r\n                    exampleList.add(new Locker(i, Size.S));\r\n                } else if (1 &gt; 30 &amp;&amp; i &lt;= 70) {\r\n                    exampleList.add(new Locker(i, Size.M));\r\n                } else {\r\n                    exampleList.add(new Locker(i, Size.L));\r\n                }\r\n            }\r\n\r\n        return exampleList;\r\n    }\r\n\r\n    public static LockerRepo getInstance() {\r\n        return INSTANCE;\r\n    }\r\n}\r\n```\r\n\r\nAnd I&#39;m getting error:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\nDescription:\r\nParameter 0 of constructor in com.smartlocker.repository.LockerRepo required a bean of type &#39;java.lang.String&#39; that could not be found.\r\nAction:\r\nConsider defining a bean of type &#39;java.lang.String&#39; in your configuration.\r\n```\r\n\r\nI have it autowired in other classes, and also called by getInstance() method. I was trying to add different annotations, and it didn&#39;t worked out. Also in test module it works well, and I can access it by getInstance()","title":"Autowiring Enums in Spring boot","body":"<p>In my SpringBoot App I have class:</p>\n<pre><code>@Service\npublic enum LockerRepo {\n    INSTANCE;\n\n    private static List&lt;Locker&gt; lockerList = new ArrayList&lt;&gt;(generateExampleData());\n    \n    private static List&lt;Locker&gt; generateExampleData() {\n\n        List&lt;Locker&gt; exampleList = new ArrayList&lt;&gt;();\n\n            for (int i = 0; i &lt; 100; i++) {\n                if (i &lt;= 30) {\n                    exampleList.add(new Locker(i, Size.S));\n                } else if (1 &gt; 30 &amp;&amp; i &lt;= 70) {\n                    exampleList.add(new Locker(i, Size.M));\n                } else {\n                    exampleList.add(new Locker(i, Size.L));\n                }\n            }\n\n        return exampleList;\n    }\n\n    public static LockerRepo getInstance() {\n        return INSTANCE;\n    }\n}\n</code></pre>\n<p>And I'm getting error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\nDescription:\nParameter 0 of constructor in com.smartlocker.repository.LockerRepo required a bean of type 'java.lang.String' that could not be found.\nAction:\nConsider defining a bean of type 'java.lang.String' in your configuration.\n</code></pre>\n<p>I have it autowired in other classes, and also called by getInstance() method. I was trying to add different annotations, and it didn't worked out. Also in test module it works well, and I can access it by getInstance()</p>\n"},{"tags":["java","mockito","junit5","powermockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1638899543,"post_id":70264024,"comment_id":124208581,"body_markdown":"You are trying to mock a final class. You need to use the inline mock maker. Check the docs: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#39","body":"You are trying to mock a final class. You need to use the inline mock maker. Check the docs: <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#39\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/&hellip;</a>"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1638900332,"post_id":70264024,"comment_id":124208888,"body_markdown":"Does this answer your question? [How to mock a final class with mockito](https://stackoverflow.com/questions/14292863/how-to-mock-a-final-class-with-mockito)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14292863/how-to-mock-a-final-class-with-mockito\">How to mock a final class with mockito</a>"}],"answers":[{"tags":[],"owner":{"account_id":976957,"reputation":420,"user_id":997801,"accept_rate":100,"display_name":"Ramgau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671803830,"creation_date":1671803830,"answer_id":74900447,"question_id":70264024,"body_markdown":"we can mock ConfigProvider using mockito library by following the ways\r\n\r\n    public void testMethodWithMockConfigProvider(){ \r\n        Config config= mock(Config.class);\r\n        try (MockedStatic&lt;ConfigProvider&gt; mockConfigProvider = Mockito.mockStatic(ConfigProvider.class)) {\r\n            mockConfigProvider.when(()-&gt; ConfigProvider.getConfig()).thenReturn(config);\r\n            when(config.getValue(eq(&quot;myproject.some.remote.service.url&quot;), any())).thenReturn(&quot;mockUrl&quot;);\r\n\r\n    }//try with resource close\r\n    }//end of method\r\n\r\nSometimes there may be needed to add dependencies for static methods. they are **junit5-mockito** and **mockito-inline**","title":"How to Mock Config Provider Class ( org.eclipse.microprofile.config.ConfigProvider)","body":"<p>we can mock ConfigProvider using mockito library by following the ways</p>\n<pre><code>public void testMethodWithMockConfigProvider(){ \n    Config config= mock(Config.class);\n    try (MockedStatic&lt;ConfigProvider&gt; mockConfigProvider = Mockito.mockStatic(ConfigProvider.class)) {\n        mockConfigProvider.when(()-&gt; ConfigProvider.getConfig()).thenReturn(config);\n        when(config.getValue(eq(&quot;myproject.some.remote.service.url&quot;), any())).thenReturn(&quot;mockUrl&quot;);\n\n}//try with resource close\n}//end of method\n</code></pre>\n<p>Sometimes there may be needed to add dependencies for static methods. they are <strong>junit5-mockito</strong> and <strong>mockito-inline</strong></p>\n"}],"owner":{"account_id":23577395,"reputation":1,"user_id":17616896,"display_name":"Satvika Oppula"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671803830,"creation_date":1638896131,"question_id":70264024,"body_markdown":" I am using ConfigProvider.getConfig().getValue(&quot;myproject.some.remote.service.url&quot;, String.class);\r\nfrom org.eclipse.microprofile.config .\r\n when iam trying to mock the ConfigProvider class  getting org.mockito.exceptions.base.MockitoException cannot mock/spy org.eclipse.microprofile.config.ConfigProvider. Need help in resolving the issue.\r\n\r\n","title":"How to Mock Config Provider Class ( org.eclipse.microprofile.config.ConfigProvider)","body":"<p>I am using ConfigProvider.getConfig().getValue(&quot;myproject.some.remote.service.url&quot;, String.class);\nfrom org.eclipse.microprofile.config .\nwhen iam trying to mock the ConfigProvider class  getting org.mockito.exceptions.base.MockitoException cannot mock/spy org.eclipse.microprofile.config.ConfigProvider. Need help in resolving the issue.</p>\n"},{"tags":["java","static-code-analysis","soot"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1671804106,"post_id":74900418,"comment_id":132180123,"body_markdown":"Asking for offsite resources (other tools) is off-topic. If you change `doStuff1()` to `doStuff()` I will assume soot works, which strongly implies soot &quot;can not do this&quot;. Best of luck with finding a tool that supports static code analysis on illegal code.","body":"Asking for offsite resources (other tools) is off-topic. If you change <code>doStuff1()</code> to <code>doStuff()</code> I will assume soot works, which strongly implies soot &quot;can not do this&quot;. Best of luck with finding a tool that supports static code analysis on illegal code."},{"owner":{"account_id":10583629,"reputation":1134,"user_id":7796663,"accept_rate":67,"display_name":"JMax"},"score":0,"creation_date":1672143225,"post_id":74900418,"comment_id":132228130,"body_markdown":"Soot theoretically has the capability to use Java source files. But as far as I know this feature is unmaintained for years so it may work or not. In your case I would try not to store multiple classes in one Java file.","body":"Soot theoretically has the capability to use Java source files. But as far as I know this feature is unmaintained for years so it may work or not. In your case I would try not to store multiple classes in one Java file."},{"owner":{"account_id":17427293,"reputation":1,"user_id":12631975,"display_name":"杨国强"},"score":0,"creation_date":1672543829,"post_id":74900418,"comment_id":132304698,"body_markdown":"Thanks for your reply. I have found a new tool called Joern that can solve the problem.","body":"Thanks for your reply. I have found a new tool called Joern that can solve the problem."}],"owner":{"account_id":17427293,"reputation":1,"user_id":12631975,"display_name":"杨国强"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671803643,"creation_date":1671803643,"question_id":74900418,"body_markdown":"For example, in the CallGraphs.java file below, the doStuff1 function is not defined, so the file can not be compiled. When I use the command \r\n`java -cp soot.jar soot.Main -cp .:soot.jar -pp -allow-phantom-refs -allow-phantom-elms -src-prec java CallGraphs`, it throws soot.CompilationDeathException.\r\n```java\r\npublic class CallGraphs\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\tdoStuff1();\r\n\t}\r\n\t\r\n\tpublic static void doStuff() {\r\n\t\tnew A().foo();\r\n\t}\r\n}\r\n \r\nclass A\r\n{\r\n\tpublic void foo() {\r\n\t\tbar();\r\n\t}\r\n\t\r\n\tpublic void bar() {\r\n\t}\r\n}\r\n```\r\n\r\nIs there a way for soot to continue to analyse the file without throwing soot.CompilationDeathException? Moreover,if soot can not do this, is there a tool that can finish the task?","title":"Can soot deal with java files can not be compiled?","body":"<p>For example, in the CallGraphs.java file below, the doStuff1 function is not defined, so the file can not be compiled. When I use the command\n<code>java -cp soot.jar soot.Main -cp .:soot.jar -pp -allow-phantom-refs -allow-phantom-elms -src-prec java CallGraphs</code>, it throws soot.CompilationDeathException.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CallGraphs\n{\n    public static void main(String[] args) {\n        doStuff1();\n    }\n    \n    public static void doStuff() {\n        new A().foo();\n    }\n}\n \nclass A\n{\n    public void foo() {\n        bar();\n    }\n    \n    public void bar() {\n    }\n}\n</code></pre>\n<p>Is there a way for soot to continue to analyse the file without throwing soot.CompilationDeathException? Moreover,if soot can not do this, is there a tool that can finish the task?</p>\n"},{"tags":["java","maven","junit5","test-suite"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671791870,"post_id":74898534,"comment_id":132176921,"body_markdown":"Why do you need to scan dependencies? Sounds like those &quot;Suites&quot; are integration tests? So maybe better go with naming `*IT` and using failsafe-plugin instead??? Why do you need test suites? Is using the general unit test approach (`*Test.java`) and as mentioned `*IT.java`not enough?","body":"Why do you need to scan dependencies? Sounds like those &quot;Suites&quot; are integration tests? So maybe better go with naming <code>*IT</code> and using failsafe-plugin instead??? Why do you need test suites? Is using the general unit test approach (<code>*Test.java</code>) and as mentioned <code>*IT.java</code>not enough?"},{"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"score":0,"creation_date":1671792545,"post_id":74898534,"comment_id":132177093,"body_markdown":"I don&#39;t know, the project existed before I came on it. Maybe this part is not needed anymore, all the tests are like *Test.java. Maybe if I succeed to run them without the dependencies scan I&#39;d remove that part","body":"I don&#39;t know, the project existed before I came on it. Maybe this part is not needed anymore, all the tests are like *Test.java. Maybe if I succeed to run them without the dependencies scan I&#39;d remove that part"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671803994,"post_id":74898534,"comment_id":132180090,"body_markdown":"First do you use spring-boot-parent ? Or are you going via BOM file (spring-boot-dependencies)? Best would be having a real example project on github or alike... because there are so many information missing...","body":"First do you use spring-boot-parent ? Or are you going via BOM file (spring-boot-dependencies)? Best would be having a real example project on github or alike... because there are so many information missing..."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671791832,"creation_date":1671791832,"answer_id":74898682,"question_id":74898534,"body_markdown":"You have to have the `junit-platform-suite-engine` as well as `junit-jupiter-engine` as a dependency. \r\n\r\nThey are both needed to run suites with JUnit Jupiter.\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.1&lt;/version&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\n","title":"Test suite migration from JUnit4 to JUnit5","body":"<p>You have to have the <code>junit-platform-suite-engine</code> as well as <code>junit-jupiter-engine</code> as a dependency.</p>\n<p>They are both needed to run suites with JUnit Jupiter.</p>\n\n<pre><code>  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n        &lt;version&gt;5.9.1&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":7372006,"reputation":473,"user_id":5611906,"accept_rate":100,"display_name":"TCH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671803473,"creation_date":1671790863,"question_id":74898534,"body_markdown":"I&#39;ve migrated all the JUnit tests in my project from version 4 to version 5.\r\nThe project is composed by severals Maven modules and projects like the following architecture\r\n- parent pom\r\n   - backend project\r\n   - core project\r\n     - some modules\r\n     - test suite module\r\n       - **TestSuite.java**\r\n   - ... some other projects   \r\n\r\nInside the TestSuite.java, I had the following code under Junit4\r\n\r\n    import org.junit.extensions.cpsuite.ClasspathSuite;\r\n    import org.junit.extensions.cpsuite.ClasspathSuite.ClassnameFilters;\r\n    import org.junit.runner.RunWith;\r\n\r\n    @RunWith(ClasspathSuite.class)\r\n    @ClassnameFilters({&quot;common.package.of.all.projects.*&quot;})\r\n    public class TestSuite {\r\n       \r\n    }\r\n\r\nNow I try to create the equivalent configuration under JUnit5\r\n\r\n    import org.junit.platform.suite.api.SelectPackages;\r\n    import org.junit.platform.suite.api.Suite;\r\n    \r\n    @Suite\r\n    @SelectPackages(&quot;common.package.of.all.projects.*&quot;)\r\n    public class TestSuite {\r\n        \r\n    }\r\n\r\nAnd this is an extract of the test suite module **pom.xml**\r\n\r\n    // this lib help to execute the test suite under eclipse\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.takari.junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;takari-cpsuite&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    // these are the test dependencies I added\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-platform-suite-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\r\n          &lt;version&gt;1.8.2&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n     // all module are in the dependencies like the following\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n          &lt;artifactId&gt;module.name&lt;/artifactId&gt;\r\n          &lt;version&gt;${project.version}&lt;/version&gt;\r\n          &lt;type&gt;test-jar&lt;/type&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      ...\r\nI use IntelliJ IDE and JDK 17.0.5,    \r\n**But when I try to run the test suite, none of the tests are launched. It seems like there are not found despite I added the modules in the *dependenciesToScan***   \r\nHere is the warning I get\r\n\r\n    WARNING: Third-party TestEngine implementations are forbidden to use the reserved &#39;junit-&#39; prefix for their ID: &#39;junit-platform-suite&#39;\r\n    Internal Error occurred.\r\n    org.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-platform-suite&#39; failed to discover tests\r\n    \tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:111)\r\n    \tat org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:85)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:92)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: java.lang.NoSuchMethodError: &#39;org.junit.platform.launcher.core.LauncherDiscoveryRequestBuilder org.junit.platform.launcher.core.LauncherDiscoveryRequestBuilder.parentConfigurationParameters(org.junit.platform.engine.ConfigurationParameters)&#39;\r\n    \tat org.junit.platform.suite.commons.SuiteLauncherDiscoveryRequestBuilder.build(SuiteLauncherDiscoveryRequestBuilder.java:198)\r\n    \tat org.junit.platform.suite.engine.SuiteTestDescriptor.discover(SuiteTestDescriptor.java:102)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\r\nAs suggested in another post https://stackoverflow.com/questions/59900637/error-testengine-with-id-junit-vintage-failed-to-discover-tests-with-spring about this warning, I added an exclusion for junit.vintage in the parent pom for spring-boot-starter-test\r\n\r\n    &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n              &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n              &lt;scope&gt;test&lt;/scope&gt;\r\n              &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                  &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n              &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n\r\nSo I&#39;m probably missing something in my configuration or maybe it is not the right way to achieve what I want.    \r\nAny ideas ? Thanks !\r\n\r\n","title":"Test suite migration from JUnit4 to JUnit5","body":"<p>I've migrated all the JUnit tests in my project from version 4 to version 5.\nThe project is composed by severals Maven modules and projects like the following architecture</p>\n<ul>\n<li>parent pom\n<ul>\n<li>backend project</li>\n<li>core project\n<ul>\n<li>some modules</li>\n<li>test suite module\n<ul>\n<li><strong>TestSuite.java</strong></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>... some other projects</li>\n</ul>\n</li>\n</ul>\n<p>Inside the TestSuite.java, I had the following code under Junit4</p>\n<pre><code>import org.junit.extensions.cpsuite.ClasspathSuite;\nimport org.junit.extensions.cpsuite.ClasspathSuite.ClassnameFilters;\nimport org.junit.runner.RunWith;\n\n@RunWith(ClasspathSuite.class)\n@ClassnameFilters({&quot;common.package.of.all.projects.*&quot;})\npublic class TestSuite {\n   \n}\n</code></pre>\n<p>Now I try to create the equivalent configuration under JUnit5</p>\n<pre><code>import org.junit.platform.suite.api.SelectPackages;\nimport org.junit.platform.suite.api.Suite;\n\n@Suite\n@SelectPackages(&quot;common.package.of.all.projects.*&quot;)\npublic class TestSuite {\n    \n}\n</code></pre>\n<p>And this is an extract of the test suite module <strong>pom.xml</strong></p>\n<pre><code>// this lib help to execute the test suite under eclipse\n&lt;dependency&gt;\n  &lt;groupId&gt;io.takari.junit&lt;/groupId&gt;\n  &lt;artifactId&gt;takari-cpsuite&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n// these are the test dependencies I added\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-platform-suite-api&lt;/artifactId&gt;\n    &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\n      &lt;version&gt;1.8.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n &lt;/dependency&gt;\n // all module are in the dependencies like the following\n &lt;dependency&gt;\n      &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n      &lt;artifactId&gt;module.name&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n      &lt;type&gt;test-jar&lt;/type&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  ...\n</code></pre>\n<p>I use IntelliJ IDE and JDK 17.0.5,<br />\n<strong>But when I try to run the test suite, none of the tests are launched. It seems like there are not found despite I added the modules in the <em>dependenciesToScan</em></strong><br />\nHere is the warning I get</p>\n<pre><code>WARNING: Third-party TestEngine implementations are forbidden to use the reserved 'junit-' prefix for their ID: 'junit-platform-suite'\nInternal Error occurred.\norg.junit.platform.commons.JUnitException: TestEngine with ID 'junit-platform-suite' failed to discover tests\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:111)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:85)\n    at org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:92)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: java.lang.NoSuchMethodError: 'org.junit.platform.launcher.core.LauncherDiscoveryRequestBuilder org.junit.platform.launcher.core.LauncherDiscoveryRequestBuilder.parentConfigurationParameters(org.junit.platform.engine.ConfigurationParameters)'\n    at org.junit.platform.suite.commons.SuiteLauncherDiscoveryRequestBuilder.build(SuiteLauncherDiscoveryRequestBuilder.java:198)\n    at org.junit.platform.suite.engine.SuiteTestDescriptor.discover(SuiteTestDescriptor.java:102)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n</code></pre>\n<p>As suggested in another post <a href=\"https://stackoverflow.com/questions/59900637/error-testengine-with-id-junit-vintage-failed-to-discover-tests-with-spring\">Error &quot;TestEngine with ID &#39;junit-vintage&#39; failed to discover tests&quot; with Spring Boot 2.2</a> about this warning, I added an exclusion for junit.vintage in the parent pom for spring-boot-starter-test</p>\n<pre><code>&lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n          &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n          &lt;exclusions&gt;\n            &lt;exclusion&gt;\n              &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n              &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n          &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>So I'm probably missing something in my configuration or maybe it is not the right way to achieve what I want.<br />\nAny ideas ? Thanks !</p>\n"},{"tags":["javascript","java","selenium","input","selenide"],"answers":[{"tags":[],"owner":{"account_id":20087954,"reputation":423,"user_id":14729128,"display_name":"Maria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671803431,"creation_date":1671803431,"answer_id":74900381,"question_id":74847774,"body_markdown":"Have you checked an example from Selenide&#39;s developers on how they suggest file uploading? It is not mandatory to have &#39;input&#39; btw.\r\n https://github.com/selenide/selenide/blob/master/src/test/java/integration/FileUploadTest.java","title":"How upload file if input take click automaticaly","body":"<p>Have you checked an example from Selenide's developers on how they suggest file uploading? It is not mandatory to have 'input' btw.\n<a href=\"https://github.com/selenide/selenide/blob/master/src/test/java/integration/FileUploadTest.java\" rel=\"nofollow noreferrer\">https://github.com/selenide/selenide/blob/master/src/test/java/integration/FileUploadTest.java</a></p>\n"}],"owner":{"account_id":27287533,"reputation":1,"user_id":20806488,"display_name":"Maksim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671803431,"creation_date":1671437744,"question_id":74847774,"body_markdown":"I&#39;m trying to write an e2e test for upload file using `selenide`, but face a problem.   \r\nElement `&#39;input&#39;` creates only after click at `&#39;button&#39;` and then input takes click.\r\n\r\nJS code :\r\n```javascript\r\nconst input = document.createElement(&#39;input&#39;);\r\ninput.type = &#39;file&#39;;\r\ninput.click();\r\n```\r\n\r\nHow can I upload a file if input don&#39;t exist in DOM?\r\n\r\nI&#39;d like to use `selenide` native `uploadFile()` method. Perhaps for this I need to call some kind of JS script.","title":"How upload file if input take click automaticaly","body":"<p>I'm trying to write an e2e test for upload file using <code>selenide</code>, but face a problem.<br />\nElement <code>'input'</code> creates only after click at <code>'button'</code> and then input takes click.</p>\n<p>JS code :</p>\n<pre class=\"lang-js prettyprint-override\"><code>const input = document.createElement('input');\ninput.type = 'file';\ninput.click();\n</code></pre>\n<p>How can I upload a file if input don't exist in DOM?</p>\n<p>I'd like to use <code>selenide</code> native <code>uploadFile()</code> method. Perhaps for this I need to call some kind of JS script.</p>\n"},{"tags":["java","spring","multithreading","spring-boot","asynchronous"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671804161,"post_id":74898430,"comment_id":132180135,"body_markdown":"Simplest: you use `fixedDelay` (instead of cron) .. it (seems to) offers a &quot;sequential execution&quot; https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#fixedDelay()","body":"Simplest: you use <code>fixedDelay</code> (instead of cron) .. it (seems to) offers a &quot;sequential execution&quot; <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#fixedDelay()\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"score":0,"creation_date":1671808837,"post_id":74898430,"comment_id":132181404,"body_markdown":"I tried it but still not working as expected. May be I am using Scheduled and Async both that&#39;s why fixedDelay is not working as expected.","body":"I tried it but still not working as expected. May be I am using Scheduled and Async both that&#39;s why fixedDelay is not working as expected."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671809659,"post_id":74898430,"comment_id":132181623,"body_markdown":"yes, of course (for `fixedDelay` to work as expected) there should be no async/threading inside your scheduled, but only &quot;blocking code&quot;","body":"yes, of course (for <code>fixedDelay</code> to work as expected) there should be no async/threading inside your scheduled, but only &quot;blocking code&quot;"},{"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"score":0,"creation_date":1671809820,"post_id":74898430,"comment_id":132181676,"body_markdown":"then how to prevent next scheduler call ?","body":"then how to prevent next scheduler call ?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671810269,"post_id":74898430,"comment_id":132181810,"body_markdown":"&quot;`long fixedDelay`\nExecute the annotated method with a fixed period **between the end of the last invocation and the start of the next**.&quot;","body":"&quot;<code>long fixedDelay</code> Execute the annotated method with a fixed period <b>between the end of the last invocation and the start of the next</b>.&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671815790,"post_id":74898430,"comment_id":132183262,"body_markdown":"..btw. &quot;0/2 * * * * *&quot; (cron expr.) means every minute at 0. second and 2. second (so twice/minute), you mean probably `*/2 * * * * *` (every 2 seconds) https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html#parse(java.lang.String)","body":"..btw. &quot;0/2 * * * * *&quot; (cron expr.) means every minute at 0. second and 2. second (so twice/minute), you mean probably <code>*&#47;2 * * * * *</code> (every 2 seconds) <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html#parse(java.lang.String)\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671790565,"creation_date":1671790565,"answer_id":74898492,"question_id":74898430,"body_markdown":"I believe you can use ShedLock to solve this issue. https://www.baeldung.com/shedlock-spring  \r\nhttps://github.com/lukas-krecan/ShedLock","title":"How to prevent next @Scheduler call until current @scheduler have finished in Spring Boot?","body":"<p>I believe you can use ShedLock to solve this issue. <a href=\"https://www.baeldung.com/shedlock-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/shedlock-spring</a><br />\n<a href=\"https://github.com/lukas-krecan/ShedLock\" rel=\"nofollow noreferrer\">https://github.com/lukas-krecan/ShedLock</a></p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671802835,"creation_date":1671801065,"answer_id":74900033,"question_id":74898430,"body_markdown":"&gt; I am looking solution that next scheduler should not call until first\r\n&gt; scheduler get completed.\r\n\r\nYou have defined `@Service public class Main {...}` and by default `@Service` is an indication for spring to build a singleton. If you have not done anything to modify this, then the expected behavior is for spring to create only a single instance of your class `Main` in heap memory.  \r\n\r\nSo in this case if you add the `synchronized` keyword in your method you will allow only 1 thread to be able to execute your method at some time. Every other thread requesting to execute your scheduled method will need to wait until the thread that is already running finishes.\r\n   \r\n\r\n        @Scheduled(cron = &quot;0/2 * * * * *&quot;)\r\n        public synchronized void schedule() { .... }\r\n\r\nExample of above solution scenario.\r\n\r\n- `Thread A` starts executing method `schedule`. \r\n- 2 seconds later while `Thread A` still executes, `Thread B` starts and wants to execute the same method. \r\n- `Thread B` will wait outside and will start executing the method only after `Thread A` has finished execution. \r\n\r\nSo in the above scenario if 3 schedulers are spawn at close 3 time intervals all of them will wait for execution and maybe this will lead to some bottle neck of your scheduling and might put some heavy load on your resources.\r\n\r\nIf that is the case another alternative solution would be to `cancel` `Thread B` method execution if it arrives while `Thread A` already executes the same method. This way you will be sure that no bottle neck is built up.\r\n\r\nTo implement this you can use a `ReentrantLock`. \r\n\r\n    @Service\r\n    public class Main {\r\n    \r\n       private final ReentrantLock reentrantLock = new ReentrantLock();\r\n    \r\n        ....\r\n       \r\n        @Scheduled(cron = &quot;0/2 * * * * *&quot;)\r\n        public void schedule() {\r\n    \r\n          if (reentrantLock.tryLock()) {\r\n                try {\r\n    \r\n                //... all your existing method code\r\n    \r\n                } finally {\r\n                    reentrantLock.unlock();\r\n                }\r\n            } else {\r\n              //log that the `Thread B` was cancelled if you want, as it requested to execute the method while `Thread A` was already executing.\r\n            }\r\n        }\r\n\r\n     }","title":"How to prevent next @Scheduler call until current @scheduler have finished in Spring Boot?","body":"<blockquote>\n<p>I am looking solution that next scheduler should not call until first\nscheduler get completed.</p>\n</blockquote>\n<p>You have defined <code>@Service public class Main {...}</code> and by default <code>@Service</code> is an indication for spring to build a singleton. If you have not done anything to modify this, then the expected behavior is for spring to create only a single instance of your class <code>Main</code> in heap memory.</p>\n<p>So in this case if you add the <code>synchronized</code> keyword in your method you will allow only 1 thread to be able to execute your method at some time. Every other thread requesting to execute your scheduled method will need to wait until the thread that is already running finishes.</p>\n<pre><code>    @Scheduled(cron = &quot;0/2 * * * * *&quot;)\n    public synchronized void schedule() { .... }\n</code></pre>\n<p>Example of above solution scenario.</p>\n<ul>\n<li><code>Thread A</code> starts executing method <code>schedule</code>.</li>\n<li>2 seconds later while <code>Thread A</code> still executes, <code>Thread B</code> starts and wants to execute the same method.</li>\n<li><code>Thread B</code> will wait outside and will start executing the method only after <code>Thread A</code> has finished execution.</li>\n</ul>\n<p>So in the above scenario if 3 schedulers are spawn at close 3 time intervals all of them will wait for execution and maybe this will lead to some bottle neck of your scheduling and might put some heavy load on your resources.</p>\n<p>If that is the case another alternative solution would be to <code>cancel</code> <code>Thread B</code> method execution if it arrives while <code>Thread A</code> already executes the same method. This way you will be sure that no bottle neck is built up.</p>\n<p>To implement this you can use a <code>ReentrantLock</code>.</p>\n<pre><code>@Service\npublic class Main {\n\n   private final ReentrantLock reentrantLock = new ReentrantLock();\n\n    ....\n   \n    @Scheduled(cron = &quot;0/2 * * * * *&quot;)\n    public void schedule() {\n\n      if (reentrantLock.tryLock()) {\n            try {\n\n            //... all your existing method code\n\n            } finally {\n                reentrantLock.unlock();\n            }\n        } else {\n          //log that the `Thread B` was cancelled if you want, as it requested to execute the method while `Thread A` was already executing.\n        }\n    }\n\n }\n</code></pre>\n"}],"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1671802835,"creation_date":1671790054,"question_id":74898430,"body_markdown":"I am trying to create a Spring boot application, which asynchronously process thousand of records using @Async multithreading. For this I am creating 8 threads and 8 sub list from main list so that 8 thread process 8 sub list asynchronously. I am also using @scheduler so that method calls in every 2 seconds. \r\n\r\n**But problem is that due to scheduler, sometimes this application process duplicate records because this method get called in every 2 seconds and retrieve data from database in every 2 seconds. for example first time method get called and retrieved 72000 records from database whose flag 0 and then @Async method process all these records and change processed records flag from 0 to 1. And again in 2 seconds method get called and retrieve new records wh0se flag is 0.**\r\n\r\nIn log attached pic you can see that first time scheduler get called and retrieved 72000 records and multiple threads started processing in between next scheduler started and retrieved 16000 records which contain those records also which are present in current scheduler.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n**I am looking solution that next scheduler should not call until first scheduler get completed. Because sometime first scheduler processing records in between if next scheduler call in 2 seconds then may be it retrieve those records again which are already present in first scheduler call.**\r\n\r\nI can&#39;t increase scheduler call time. Because maximum time we get the records around 400-500 and sometime we get records in thousands.\r\n\r\nCode as below.\r\n\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    @EnableAsync\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic RestTemplate restTemplate(RestTemplateBuilder builder) {\r\n    \t\treturn builder.build();\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Bean(&quot;ThreadPoolTaskExecutor&quot;)\r\n    \t  public TaskExecutor getAsyncExecutor() {\r\n    \t    final ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    \t    executor.setCorePoolSize(8);\r\n    \t    executor.setMaxPoolSize(8);\r\n    \t    executor.setQueueCapacity(8);\r\n    \t    executor.setWaitForTasksToCompleteOnShutdown(true);\r\n    \t    executor.setThreadNamePrefix(&quot;async-&quot;);\r\n    \t    executor.setRejectedExecutionHandler(new RejectedExecutionHandlerImpl());\r\n    \t    executor.initialize();\r\n    \t    return executor;\r\n    \t  }\r\n    }\r\n\r\n\r\n    @Service\r\n    public class Main {\r\n    \r\n    \t@Autowired\r\n    \tprivate DemoDao dao;\r\n    \r\n    \t@Autowired\r\n    \tprivate Asyn asyn;\r\n    \t\r\n    \t\r\n    \tstatic int schedulerCount = 0;\r\n    \r\n    \t\r\n    \t@Scheduled(cron = &quot;0/2 * * * * *&quot;)\r\n    \tpublic void schedule() {\r\n    \r\n    \t\tSystem.out.println(&quot;++++++++++++++++++++++++++++++++++++Scheduler started schedulerCount  :  &quot;+schedulerCount+&quot;+++++++++++++++++++++++++++++++++++++&quot;+ LocalDateTime.now());\r\n    \t\tList&lt;Json&gt; jsonList = new ArrayList&lt;Json&gt;();\r\n    \t\tList&lt;List&lt;Json&gt;&gt; smallLi = new ArrayList&lt;List&lt;Json&gt;&gt;();\r\n    \t\ttry {\r\n    \t\t\tjsonList = dao.getJsonList();\r\n    \t\t\tSystem.out.println(&quot;jsonList size   :   &quot; + jsonList.size());\r\n    \t\t\t\r\n    \t\t\tint count = jsonList.size();\r\n    \t\t\t\r\n    \t\t\t//Creating 8 sublist (8 sublist because thread pool size is 8) from main list(jsonList)\r\n    \t\t\tint limit = Math.round(count / 8) + 1;\r\n    \t\t\t\r\n    \t\t\tfor (int j = 0; j &lt; count; j += limit) {\r\n    \t\t\t\tsmallLi.add(new ArrayList&lt;Json&gt;(jsonList.subList(j, Math.min(count, j + limit))));\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;smallLi  :  &quot; + smallLi.size());\r\n    \t\t\t\r\n    \t\t\t//After creating 8 sublist, sending sublists with Async method so that 8 threads create and each thread process one sublist asynchronously.\r\n    \t\t\tfor (int i = 0; i &lt; smallLi.size(); i++) {\r\n    \t\t\t\tasyn.withAsyn(smallLi.get(i), schedulerCount);\r\n    \t\t\t}\r\n    \t\t\tschedulerCount++;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n    @Async(&quot;ThreadPoolTaskExecutor&quot;)\r\n    \tpublic void withAsyn(List&lt;Json&gt; li, int schedulerCount) throws Exception {\r\n    \r\n    \t\tSystem.out.println(&quot;with start+++++++++++++ schedulerCount &quot; + schedulerCount + &quot;, name  :  &quot;\r\n    \t\t\t\t+ Thread.currentThread().getName() + &quot;, time  :  &quot; + LocalDateTime.now() + &quot;, start index  :  &quot;\r\n    \t\t\t\t+ li.get(0).getId() + &quot;, end index  :  &quot; + li.get(li.size() - 1).getId());\r\n    \t\ttry {\r\n    \t\t\tXSSFWorkbook workbook = new XSSFWorkbook();\r\n    \t\t\tXSSFSheet spreadsheet = workbook.createSheet(&quot;Data&quot;);\r\n    \t\t\tXSSFRow row;\r\n    \r\n    \t\t\tfor (int i = 0; i &lt; li.size(); i++) {\r\n    \r\n    \t\t\t\trow = spreadsheet.createRow(i);\r\n    \r\n    \t\t\t\tCell cell9 = row.createCell(0);\r\n    \t\t\t\tcell9.setCellValue(li.get(i).getId());\r\n    \r\n    \t\t\t\tCell cell = row.createCell(1);\r\n    \t\t\t\tcell.setCellValue(li.get(i).getName());\r\n    \r\n    \t\t\t\tCell cell1 = row.createCell(2);\r\n    \t\t\t\tcell1.setCellValue(li.get(i).getPhone());\r\n    \r\n    \t\t\t\tCell cell2 = row.createCell(3);\r\n    \t\t\t\tcell2.setCellValue(li.get(i).getEmail());\r\n    \r\n    \t\t\t\tCell cell3 = row.createCell(4);\r\n    \t\t\t\tcell3.setCellValue(li.get(i).getAddress());\r\n    \r\n    \t\t\t\tCell cell4 = row.createCell(5);\r\n    \t\t\t\tcell4.setCellValue(li.get(i).getPostalZip());\r\n    \t\t\t}\r\n    \t\t\tFileOutputStream out = new FileOutputStream(new File(&quot;C:\\\\Users\\\\RK658\\\\Desktop\\\\logs\\\\generated\\\\&quot;\r\n    \t\t\t\t\t+ Thread.currentThread().getName() + &quot;_&quot; + schedulerCount + &quot;.xlsx&quot;));\r\n    \t\t\tworkbook.write(out);\r\n    \t\t\tout.close();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;with end+++++++++++++ schedulerCount &quot; + schedulerCount + &quot;, name  :  &quot;\r\n    \t\t\t\t+ Thread.currentThread().getName() + &quot;, time  :  &quot; + LocalDateTime.now() + &quot;, start index  :  &quot;\r\n    \t\t\t\t+ li.get(0).getId() + &quot;, end index  :  &quot; + li.get(li.size() - 1).getId());\r\n    \t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g0nnj.png","title":"How to prevent next @Scheduler call until current @scheduler have finished in Spring Boot?","body":"<p>I am trying to create a Spring boot application, which asynchronously process thousand of records using @Async multithreading. For this I am creating 8 threads and 8 sub list from main list so that 8 thread process 8 sub list asynchronously. I am also using @scheduler so that method calls in every 2 seconds.</p>\n<p><strong>But problem is that due to scheduler, sometimes this application process duplicate records because this method get called in every 2 seconds and retrieve data from database in every 2 seconds. for example first time method get called and retrieved 72000 records from database whose flag 0 and then @Async method process all these records and change processed records flag from 0 to 1. And again in 2 seconds method get called and retrieve new records wh0se flag is 0.</strong></p>\n<p>In log attached pic you can see that first time scheduler get called and retrieved 72000 records and multiple threads started processing in between next scheduler started and retrieved 16000 records which contain those records also which are present in current scheduler.</p>\n<p><a href=\"https://i.stack.imgur.com/g0nnj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g0nnj.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>I am looking solution that next scheduler should not call until first scheduler get completed. Because sometime first scheduler processing records in between if next scheduler call in 2 seconds then may be it retrieve those records again which are already present in first scheduler call.</strong></p>\n<p>I can't increase scheduler call time. Because maximum time we get the records around 400-500 and sometime we get records in thousands.</p>\n<p>Code as below.</p>\n<pre><code>@SpringBootApplication\n@EnableScheduling\n@EnableAsync\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n    \n    @Bean\n    public RestTemplate restTemplate(RestTemplateBuilder builder) {\n        return builder.build();\n    }\n    \n    \n    @Bean(&quot;ThreadPoolTaskExecutor&quot;)\n      public TaskExecutor getAsyncExecutor() {\n        final ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(8);\n        executor.setMaxPoolSize(8);\n        executor.setQueueCapacity(8);\n        executor.setWaitForTasksToCompleteOnShutdown(true);\n        executor.setThreadNamePrefix(&quot;async-&quot;);\n        executor.setRejectedExecutionHandler(new RejectedExecutionHandlerImpl());\n        executor.initialize();\n        return executor;\n      }\n}\n\n\n@Service\npublic class Main {\n\n    @Autowired\n    private DemoDao dao;\n\n    @Autowired\n    private Asyn asyn;\n    \n    \n    static int schedulerCount = 0;\n\n    \n    @Scheduled(cron = &quot;0/2 * * * * *&quot;)\n    public void schedule() {\n\n        System.out.println(&quot;++++++++++++++++++++++++++++++++++++Scheduler started schedulerCount  :  &quot;+schedulerCount+&quot;+++++++++++++++++++++++++++++++++++++&quot;+ LocalDateTime.now());\n        List&lt;Json&gt; jsonList = new ArrayList&lt;Json&gt;();\n        List&lt;List&lt;Json&gt;&gt; smallLi = new ArrayList&lt;List&lt;Json&gt;&gt;();\n        try {\n            jsonList = dao.getJsonList();\n            System.out.println(&quot;jsonList size   :   &quot; + jsonList.size());\n            \n            int count = jsonList.size();\n            \n            //Creating 8 sublist (8 sublist because thread pool size is 8) from main list(jsonList)\n            int limit = Math.round(count / 8) + 1;\n            \n            for (int j = 0; j &lt; count; j += limit) {\n                smallLi.add(new ArrayList&lt;Json&gt;(jsonList.subList(j, Math.min(count, j + limit))));\n            }\n            System.out.println(&quot;smallLi  :  &quot; + smallLi.size());\n            \n            //After creating 8 sublist, sending sublists with Async method so that 8 threads create and each thread process one sublist asynchronously.\n            for (int i = 0; i &lt; smallLi.size(); i++) {\n                asyn.withAsyn(smallLi.get(i), schedulerCount);\n            }\n            schedulerCount++;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n\n@Async(&quot;ThreadPoolTaskExecutor&quot;)\n    public void withAsyn(List&lt;Json&gt; li, int schedulerCount) throws Exception {\n\n        System.out.println(&quot;with start+++++++++++++ schedulerCount &quot; + schedulerCount + &quot;, name  :  &quot;\n                + Thread.currentThread().getName() + &quot;, time  :  &quot; + LocalDateTime.now() + &quot;, start index  :  &quot;\n                + li.get(0).getId() + &quot;, end index  :  &quot; + li.get(li.size() - 1).getId());\n        try {\n            XSSFWorkbook workbook = new XSSFWorkbook();\n            XSSFSheet spreadsheet = workbook.createSheet(&quot;Data&quot;);\n            XSSFRow row;\n\n            for (int i = 0; i &lt; li.size(); i++) {\n\n                row = spreadsheet.createRow(i);\n\n                Cell cell9 = row.createCell(0);\n                cell9.setCellValue(li.get(i).getId());\n\n                Cell cell = row.createCell(1);\n                cell.setCellValue(li.get(i).getName());\n\n                Cell cell1 = row.createCell(2);\n                cell1.setCellValue(li.get(i).getPhone());\n\n                Cell cell2 = row.createCell(3);\n                cell2.setCellValue(li.get(i).getEmail());\n\n                Cell cell3 = row.createCell(4);\n                cell3.setCellValue(li.get(i).getAddress());\n\n                Cell cell4 = row.createCell(5);\n                cell4.setCellValue(li.get(i).getPostalZip());\n            }\n            FileOutputStream out = new FileOutputStream(new File(&quot;C:\\\\Users\\\\RK658\\\\Desktop\\\\logs\\\\generated\\\\&quot;\n                    + Thread.currentThread().getName() + &quot;_&quot; + schedulerCount + &quot;.xlsx&quot;));\n            workbook.write(out);\n            out.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;with end+++++++++++++ schedulerCount &quot; + schedulerCount + &quot;, name  :  &quot;\n                + Thread.currentThread().getName() + &quot;, time  :  &quot; + LocalDateTime.now() + &quot;, start index  :  &quot;\n                + li.get(0).getId() + &quot;, end index  :  &quot; + li.get(li.size() - 1).getId());\n    }\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1671462334,"post_id":74851297,"comment_id":132098388,"body_markdown":"Note: you probably don&#39;t want to use `LocalDateTime` if there&#39;s any chance the timezone on the client may differ to the one on server. Secondly, just invoke a setter on your `Client` instances to mutate them? Not a very clear question though...","body":"Note: you probably don&#39;t want to use <code>LocalDateTime</code> if there&#39;s any chance the timezone on the client may differ to the one on server. Secondly, just invoke a setter on your <code>Client</code> instances to mutate them? Not a very clear question though..."},{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1671464251,"post_id":74851297,"comment_id":132099065,"body_markdown":"Hi!\n\nAs Mena wrote, you just need to add a setter for the appointment in class `Client` and iterate on clients in your method `setAppointment` to set the new value:\n\n        `for(Client client: clients)\t\t\t\n    \t     client.setAppointment(nextappointment);`","body":"Hi!  As Mena wrote, you just need to add a setter for the appointment in class <code>Client</code> and iterate on clients in your method <code>setAppointment</code> to set the new value:          <code>for(Client client: clients)\t\t\t     \t     client.setAppointment(nextappointment);</code>"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671802769,"creation_date":1671802769,"answer_id":74900280,"question_id":74851297,"body_markdown":"You need to call `Client.setAppointment`\r\n\r\nFor a specific client:\r\n\r\n    LocalDateTime tempappointment = LocalDateTime.of(yearint, monthint, dayint, hourint, minuteint);\r\n    clients.get(0).setAppointment(tempappointment);\r\n\r\n\r\nFor all\r\n\r\n    for (Client client : clients) {\r\n        client.setAppointment(tempappointment);\r\n    }\r\n\r\n","title":"How do I update a specific property of an object in an arraylist in Java?","body":"<p>You need to call <code>Client.setAppointment</code></p>\n<p>For a specific client:</p>\n<pre><code>LocalDateTime tempappointment = LocalDateTime.of(yearint, monthint, dayint, hourint, minuteint);\nclients.get(0).setAppointment(tempappointment);\n</code></pre>\n<p>For all</p>\n<pre><code>for (Client client : clients) {\n    client.setAppointment(tempappointment);\n}\n</code></pre>\n"}],"owner":{"account_id":27297880,"reputation":1,"user_id":20815230,"display_name":"HELOTHERE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671802769,"creation_date":1671456974,"question_id":74851297,"body_markdown":"I have a system that I&#39;m making for a school project, with clients, appointments, etc. I&#39;m just struggling to figure out how I can update the LocalDateTime appointment variable that I have setup for each client, I know how to make a new client with one, but just can&#39;t figure out how to update it.\r\n\r\n```\r\nArrayList&lt;Client&gt; clients = Client.inputClientsFromFile();\r\n\r\nLocalDateTime tempappointment;\r\nint yearint = Integer.parseInt(year.getText());\r\nint monthint = Integer.parseInt(month.getText());\r\nint dayint = Integer.parseInt(day.getText());\r\nint hourint = Integer.parseInt(hour.getText());\r\nint minuteint = Integer.parseInt(minutes.getText());\r\ntempappointment = LocalDateTime.of(yearint,monthint,dayint,hourint,minuteint);\r\n```\r\nI have written this to get the localdatetime from textboxes and this\r\n\r\n```\r\npublic LocalDateTime getAppointment() {\r\n        return nextappointment;\r\n    }\r\n\r\n    /**\r\n     * @param nextappointment\r\n     */\r\n    public void setAppointment(LocalDateTime nextappointment) {\r\n        this.nextappointment = nextappointment;\r\n```\r\nwhen initiliazing the client object in the arraylist.","title":"How do I update a specific property of an object in an arraylist in Java?","body":"<p>I have a system that I'm making for a school project, with clients, appointments, etc. I'm just struggling to figure out how I can update the LocalDateTime appointment variable that I have setup for each client, I know how to make a new client with one, but just can't figure out how to update it.</p>\n<pre><code>ArrayList&lt;Client&gt; clients = Client.inputClientsFromFile();\n\nLocalDateTime tempappointment;\nint yearint = Integer.parseInt(year.getText());\nint monthint = Integer.parseInt(month.getText());\nint dayint = Integer.parseInt(day.getText());\nint hourint = Integer.parseInt(hour.getText());\nint minuteint = Integer.parseInt(minutes.getText());\ntempappointment = LocalDateTime.of(yearint,monthint,dayint,hourint,minuteint);\n</code></pre>\n<p>I have written this to get the localdatetime from textboxes and this</p>\n<pre><code>public LocalDateTime getAppointment() {\n        return nextappointment;\n    }\n\n    /**\n     * @param nextappointment\n     */\n    public void setAppointment(LocalDateTime nextappointment) {\n        this.nextappointment = nextappointment;\n</code></pre>\n<p>when initiliazing the client object in the arraylist.</p>\n"},{"tags":["java","eclipse","testing","junit"],"comments":[{"owner":{"account_id":6530,"reputation":1194,"user_id":11026,"display_name":"Bdoserror"},"score":5,"creation_date":1325725606,"post_id":413214,"comment_id":10880693,"body_markdown":"None of the answers below work. I have the same problem. I can run all the tests in &quot;code.branchone.aaa&quot; but if I go to the root &quot;code.branchone&quot; it says &quot;No test found with test runner &#39;Junit 4&#39;&quot;. Keep in mind the &quot;code.branchone&quot; doesn&#39;t have any source in it.","body":"None of the answers below work. I have the same problem. I can run all the tests in &quot;code.branchone.aaa&quot; but if I go to the root &quot;code.branchone&quot; it says &quot;No test found with test runner &#39;Junit 4&#39;&quot;. Keep in mind the &quot;code.branchone&quot; doesn&#39;t have any source in it."},{"owner":{"account_id":6530,"reputation":1194,"user_id":11026,"display_name":"Bdoserror"},"score":0,"creation_date":1325725996,"post_id":413214,"comment_id":10880759,"body_markdown":"Extra confusion note: my project (built by someone else) already has a launch configuration which works from a higher directory in the hierarchy (&quot;code&quot;). I copied that config and modified it for the subdirectory I wanted, it still doesn&#39;t work and that directory spec is the only difference between them.","body":"Extra confusion note: my project (built by someone else) already has a launch configuration which works from a higher directory in the hierarchy (&quot;code&quot;). I copied that config and modified it for the subdirectory I wanted, it still doesn&#39;t work and that directory spec is the only difference between them."},{"owner":{"account_id":6530,"reputation":1194,"user_id":11026,"display_name":"Bdoserror"},"score":0,"creation_date":1325726745,"post_id":413214,"comment_id":10880892,"body_markdown":"Hmm, maybe the issue is because the one that works runs from a directory which is &quot;sub-project&quot;(?) under the main project. e.g. in this setup the working config runs for &quot;src/it/java&quot;: Project (root of tree) with 1 child, src/it/java\n\nAnd the one I want is a subdir of src/it/java, and in the source view the common parent of the subdirectories I want to run doesn&#39;t have it&#39;s own entry. e.g.:\n\nProject (root) has src/it/java as child, and srt/it/java has 2 children, sub1.subA &amp; sub1.subB, and I want to run all tests from src/it/java/sub1","body":"Hmm, maybe the issue is because the one that works runs from a directory which is &quot;sub-project&quot;(?) under the main project. e.g. in this setup the working config runs for &quot;src/it/java&quot;: Project (root of tree) with 1 child, src/it/java  And the one I want is a subdir of src/it/java, and in the source view the common parent of the subdirectories I want to run doesn&#39;t have it&#39;s own entry. e.g.:  Project (root) has src/it/java as child, and srt/it/java has 2 children, sub1.subA &amp; sub1.subB, and I want to run all tests from src/it/java/sub1"}],"answers":[{"tags":[],"owner":{"account_id":14626,"reputation":2286,"user_id":30297,"accept_rate":92,"display_name":"chillysapien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1231166154,"creation_date":1231166154,"answer_id":413281,"question_id":413214,"body_markdown":"I beleieve that you can add all your test packages to a single directory. If you right click on this directory, then you should find the &quot;run as -&gt; JUnit test&quot; option available. This will run all tests contained in the directory and will catch anything you&#39;ve added. Any new tests get put in there with the rest of them and whatever package name you have it doesn&#39;t matter. Hope that helps","title":"Is it possible to run JUnit tests from multiple packages in Eclipse?","body":"<p>I beleieve that you can add all your test packages to a single directory. If you right click on this directory, then you should find the \"run as -> JUnit test\" option available. This will run all tests contained in the directory and will catch anything you've added. Any new tests get put in there with the rest of them and whatever package name you have it doesn't matter. Hope that helps</p>\n"},{"tags":[],"owner":{"account_id":20669,"reputation":815,"user_id":49642,"display_name":"Phil"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1231166178,"creation_date":1231166178,"answer_id":413282,"question_id":413214,"body_markdown":"Sure, right-click on the packages you want, and select Run As... JUnit Test","title":"Is it possible to run JUnit tests from multiple packages in Eclipse?","body":"<p>Sure, right-click on the packages you want, and select Run As... JUnit Test</p>\n"},{"tags":[],"owner":{"account_id":14954,"reputation":47917,"user_id":31136,"accept_rate":50,"display_name":"bruno conde"},"down_vote_count":8,"up_vote_count":9,"is_accepted":false,"score":1,"last_activity_date":1231166295,"creation_date":1231166295,"answer_id":413289,"question_id":413214,"body_markdown":"In Eclipse, on your debug/run configurations you have the following options:\r\n\r\n 1. Run a single test\r\n 2. Run all tests in the selected project, package or source folder\r\n\r\nI think the second option is your friend in this case.","title":"Is it possible to run JUnit tests from multiple packages in Eclipse?","body":"<p>In Eclipse, on your debug/run configurations you have the following options:</p>\n\n<ol>\n<li>Run a single test</li>\n<li>Run all tests in the selected project, package or source folder</li>\n</ol>\n\n<p>I think the second option is your friend in this case.</p>\n"},{"tags":[],"owner":{"account_id":20615,"reputation":973,"user_id":49431,"accept_rate":20,"display_name":"Jurgen Hannaert"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1231167068,"creation_date":1231167068,"answer_id":413331,"question_id":413214,"body_markdown":"I&#39;m sure u can tweak this a bit. Make a Collection of the CLASSES_DIR property and loop over it in the findClasses method. (junit4)\r\n\r\nhttp://burtbeckwith.com/blog/?p=52\r\n\r\n    ","title":"Is it possible to run JUnit tests from multiple packages in Eclipse?","body":"<p>I'm sure u can tweak this a bit. Make a Collection of the CLASSES_DIR property and loop over it in the findClasses method. (junit4)</p>\n\n<p><a href=\"http://burtbeckwith.com/blog/?p=52\" rel=\"nofollow noreferrer\">http://burtbeckwith.com/blog/?p=52</a></p>\n"},{"tags":[],"owner":{"account_id":1234733,"reputation":20412,"user_id":1198559,"accept_rate":70,"display_name":"jhegedus"},"down_vote_count":4,"up_vote_count":28,"is_accepted":false,"score":24,"last_activity_date":1353615748,"creation_date":1353615748,"answer_id":13519526,"question_id":413214,"body_markdown":"An other way: \r\n\r\nClick on the black triangle denoted by red rectangle in the picture below (in your Eclipse, not here :).)\r\n\r\n![enter image description here][1]\r\n\r\nThen open run configurations, create a new configuration and then set &quot;Run all tests...&quot; as exemplified in the image below.\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/8NDHB.png\r\n  [2]: http://i.stack.imgur.com/rslD8.png","title":"Is it possible to run JUnit tests from multiple packages in Eclipse?","body":"<p>An other way: </p>\n\n<p>Click on the black triangle denoted by red rectangle in the picture below (in your Eclipse, not here :).)</p>\n\n<p><img src=\"https://i.stack.imgur.com/8NDHB.png\" alt=\"enter image description here\"></p>\n\n<p>Then open run configurations, create a new configuration and then set \"Run all tests...\" as exemplified in the image below.</p>\n\n<p><img src=\"https://i.stack.imgur.com/rslD8.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1068225,"reputation":5449,"user_id":1068167,"accept_rate":97,"display_name":"span"},"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1361117551,"creation_date":1361117551,"answer_id":14923130,"question_id":413214,"body_markdown":"Yes, it is possible. The easiest way for me at least is to add a test suite class. It can look like this:\r\n\r\n    package tests;\r\n    \r\n    import org.junit.runner.RunWith;\r\n    import org.junit.runners.Suite;\r\n    import org.junit.runners.Suite.SuiteClasses;\r\n    \r\n    import tests.message.ATest;\r\n    import tests.validator.BTest;\r\n    import tests.validator.CTest;\r\n    import tests.validator.DTest;\r\n    \r\n    @RunWith(Suite.class)\r\n    @SuiteClasses({ ATest.class, \r\n    \t\tBTest.class, \r\n    \t\tCTest.class, \r\n    \t\tDTest.class })\r\n    public class AllTests {\r\n    \r\n    }\r\n\r\nThis will allow you to test any class that you import no matter what package it is in. To run this in eclipse you just right click the AllTests class and run it as JUnit test. It will then run all the tests you define in `@SuiteClasses`.\r\n\r\nThis will work with linked sources as well, I use it all the time.","title":"Is it possible to run JUnit tests from multiple packages in Eclipse?","body":"<p>Yes, it is possible. The easiest way for me at least is to add a test suite class. It can look like this:</p>\n\n<pre><code>package tests;\n\nimport org.junit.runner.RunWith;\nimport org.junit.runners.Suite;\nimport org.junit.runners.Suite.SuiteClasses;\n\nimport tests.message.ATest;\nimport tests.validator.BTest;\nimport tests.validator.CTest;\nimport tests.validator.DTest;\n\n@RunWith(Suite.class)\n@SuiteClasses({ ATest.class, \n        BTest.class, \n        CTest.class, \n        DTest.class })\npublic class AllTests {\n\n}\n</code></pre>\n\n<p>This will allow you to test any class that you import no matter what package it is in. To run this in eclipse you just right click the AllTests class and run it as JUnit test. It will then run all the tests you define in <code>@SuiteClasses</code>.</p>\n\n<p>This will work with linked sources as well, I use it all the time.</p>\n"},{"tags":[],"owner":{"account_id":121188,"reputation":5073,"user_id":314089,"accept_rate":60,"display_name":"icyerasor"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1372862168,"creation_date":1372862168,"answer_id":17450919,"question_id":413214,"body_markdown":"Maybe not exactly what the original question was, but you can easily run all tests of a **whole Project**, by simply right-clicking the project -&gt; Run As JUnitTest. Don&#39;t worry where the annotated classes reside, this will be scanned.\r\n\r\nThis does not work if applied to the test-src-folder or a package with subpackes. Quite a shame actually -.-","title":"Is it possible to run JUnit tests from multiple packages in Eclipse?","body":"<p>Maybe not exactly what the original question was, but you can easily run all tests of a <strong>whole Project</strong>, by simply right-clicking the project -> Run As JUnitTest. Don't worry where the annotated classes reside, this will be scanned.</p>\n\n<p>This does not work if applied to the test-src-folder or a package with subpackes. Quite a shame actually -.-</p>\n"},{"tags":[],"owner":{"account_id":7388280,"reputation":438,"user_id":5622596,"display_name":"jspek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671802151,"creation_date":1671802151,"answer_id":74900186,"question_id":413214,"body_markdown":"If you are using **JUnit 5** you can cherry pick which tests you want to run:\r\n```Java\r\nimport org.junit.platform.suite.api.SelectClasses;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\nimport tests.Test1;\r\nimport tests.Test2;\r\nimport tests.Test3;\r\n\r\n@Suite\r\n@SelectClasses({\r\n\tTest1.class,\r\n\tTest2.class,\r\n\tTest3.class\r\n})\r\npublic class AllMyTests {\r\n\r\n}\r\n```\r\n\r\nIf you want to select which packages to run you can: \r\n```Java\r\nimport org.junit.platform.suite.api.SelectPackages;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\n@Suite\r\n@SelectPackages({\r\n\t&quot;com.package1&quot;,\r\n\t&quot;com.package2&quot;,\r\n\t&quot;com.package3&quot;\r\n})\r\npublic class AllMyTests {\r\n\r\n}\r\n```\r\n\r\nIf you need to be able to exclude certain sub-packages you can do:\r\n```Java\r\nimport org.junit.platform.suite.api.ExcludePackages;\r\nimport org.junit.platform.suite.api.SelectPackages;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\n@Suite\r\n@SelectPackages({\r\n\t&quot;com.package1&quot;,\r\n\t&quot;com.package2&quot;,\r\n\t&quot;com.package3&quot;\r\n})\r\n@ExcludePackages({\r\n\t&quot;com.package1.subpackage&quot;,\r\n\t&quot;com.package2.othersubpackage&quot;\r\n})\r\npublic class AllMyTests {\r\n\r\n}\r\n```\r\n\r\nOther useful annotations:\r\n\r\n - To match a particular pattern:\r\n   `@IncludeClassNamePatterns({&quot;^.*ATests?$&quot;})`\r\n - To exclude a particular pattern:\r\n   `@ExcludeClassNamePatterns({&quot;^.*ATests?$&quot;})`\r\n\r\nExamples were based on: [https://howtodoinjava.com/junit5/junit5-test-suites-examples/][1]\r\n\r\n\r\n  [1]: https://howtodoinjava.com/junit5/junit5-test-suites-examples/","title":"Is it possible to run JUnit tests from multiple packages in Eclipse?","body":"<p>If you are using <strong>JUnit 5</strong> you can cherry pick which tests you want to run:</p>\n<pre><code>import org.junit.platform.suite.api.SelectClasses;\nimport org.junit.platform.suite.api.Suite;\n\nimport tests.Test1;\nimport tests.Test2;\nimport tests.Test3;\n\n@Suite\n@SelectClasses({\n    Test1.class,\n    Test2.class,\n    Test3.class\n})\npublic class AllMyTests {\n\n}\n</code></pre>\n<p>If you want to select which packages to run you can:</p>\n<pre><code>import org.junit.platform.suite.api.SelectPackages;\nimport org.junit.platform.suite.api.Suite;\n\n@Suite\n@SelectPackages({\n    &quot;com.package1&quot;,\n    &quot;com.package2&quot;,\n    &quot;com.package3&quot;\n})\npublic class AllMyTests {\n\n}\n</code></pre>\n<p>If you need to be able to exclude certain sub-packages you can do:</p>\n<pre><code>import org.junit.platform.suite.api.ExcludePackages;\nimport org.junit.platform.suite.api.SelectPackages;\nimport org.junit.platform.suite.api.Suite;\n\n@Suite\n@SelectPackages({\n    &quot;com.package1&quot;,\n    &quot;com.package2&quot;,\n    &quot;com.package3&quot;\n})\n@ExcludePackages({\n    &quot;com.package1.subpackage&quot;,\n    &quot;com.package2.othersubpackage&quot;\n})\npublic class AllMyTests {\n\n}\n</code></pre>\n<p>Other useful annotations:</p>\n<ul>\n<li>To match a particular pattern:\n<code>@IncludeClassNamePatterns({&quot;^.*ATests?$&quot;})</code></li>\n<li>To exclude a particular pattern:\n<code>@ExcludeClassNamePatterns({&quot;^.*ATests?$&quot;})</code></li>\n</ul>\n<p>Examples were based on: <a href=\"https://howtodoinjava.com/junit5/junit5-test-suites-examples/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/junit5/junit5-test-suites-examples/</a></p>\n"}],"owner":{"account_id":5380,"reputation":1175,"user_id":8633,"display_name":"will"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45335,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"answer_count":8,"score":53,"last_activity_date":1671802151,"creation_date":1231164964,"question_id":413214,"body_markdown":"Is it possible to run JUnit tests for multiple packages at the same time without manually creating test suites.\r\n\r\nFor example if I have the hierarchy:\r\n\r\ncode.branchone&lt;br/&gt;\r\ncode.branchone.aaa&lt;br/&gt;\r\ncode.branchone.bbb&lt;br/&gt;\r\ncode.branchtwo&lt;br/&gt;\r\ncode.branchtwo.aaa&lt;br/&gt;\r\ncode.branchtwo.bbb&lt;br/&gt;\r\n\r\nIs it possible to:\r\n\r\n 1. Run all tests in code.branchone and in descendent packages\r\n 2. Run all tests in say code.branchone.aaa and code.branchtwo.bbb\r\n\r\nThe problem I see with manually creating test suites is that when new tests come along you may forget to add them.\r\n\r\n","title":"Is it possible to run JUnit tests from multiple packages in Eclipse?","body":"<p>Is it possible to run JUnit tests for multiple packages at the same time without manually creating test suites.</p>\n\n<p>For example if I have the hierarchy:</p>\n\n<p>code.branchone<br/>\ncode.branchone.aaa<br/>\ncode.branchone.bbb<br/>\ncode.branchtwo<br/>\ncode.branchtwo.aaa<br/>\ncode.branchtwo.bbb<br/></p>\n\n<p>Is it possible to:</p>\n\n<ol>\n<li>Run all tests in code.branchone and in descendent packages</li>\n<li>Run all tests in say code.branchone.aaa and code.branchtwo.bbb</li>\n</ol>\n\n<p>The problem I see with manually creating test suites is that when new tests come along you may forget to add them.</p>\n"},{"tags":["java","selenium","xpath","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":122932,"reputation":51815,"user_id":317052,"accept_rate":86,"display_name":"Daniel Haley"},"score":0,"creation_date":1484263356,"post_id":41622240,"comment_id":70450921,"body_markdown":"`//` is short for `/descendant-or-self::node()/`. See https://www.w3.org/TR/xpath/#path-abbrev for more info.","body":"<code>&#47;&#47;</code> is short for <code>&#47;descendant-or-self::node()&#47;</code>. See <a href=\"https://www.w3.org/TR/xpath/#path-abbrev\" rel=\"nofollow noreferrer\">w3.org/TR/xpath/#path-abbrev</a> for more info."},{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":0,"creation_date":1484293120,"post_id":41622240,"comment_id":70459211,"body_markdown":"&quot;descendant or self&quot; sounds contradicting with what other people saying (from root)?","body":"&quot;descendant or self&quot; sounds contradicting with what other people saying (from root)?"},{"owner":{"account_id":122932,"reputation":51815,"user_id":317052,"accept_rate":86,"display_name":"Daniel Haley"},"score":0,"creation_date":1484301195,"post_id":41622240,"comment_id":70463314,"body_markdown":"Take a look at the link to the spec above. Scroll past the examples in the beginning of that section and read the last few paragraphs. It explains both `//` and `.` and how they work together.","body":"Take a look at the link to the spec above. Scroll past the examples in the beginning of that section and read the last few paragraphs. It explains both <code>&#47;&#47;</code> and <code>.</code> and how they work together."},{"owner":{"account_id":122932,"reputation":51815,"user_id":317052,"accept_rate":86,"display_name":"Daniel Haley"},"score":0,"creation_date":1484322647,"post_id":41622240,"comment_id":70476531,"body_markdown":"This might also help: http://stackoverflow.com/q/33918010/317052","body":"This might also help: <a href=\"http://stackoverflow.com/q/33918010/317052\">stackoverflow.com/q/33918010/317052</a>"}],"answers":[{"tags":[],"owner":{"account_id":4608097,"reputation":20693,"user_id":3737009,"accept_rate":69,"display_name":"Granitosaurus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1484253786,"creation_date":1484253786,"answer_id":41622610,"question_id":41622240,"body_markdown":"Your xpath is faulty here.\r\n\r\n    &quot;//li[starts-with(@class, &#39;_lessons--row-&#39;)]&quot;\r\n\r\n`//` searches from root level, to search from node preappend `.`:\r\n\r\n    &quot;.//li[starts-with(@class, &#39;_lessons--row-&#39;)]&quot;","title":"Too many results when finding within element with Selenium WebDriver","body":"<p>Your xpath is faulty here.</p>\n\n<pre><code>\"//li[starts-with(@class, '_lessons--row-')]\"\n</code></pre>\n\n<p><code>//</code> searches from root level, to search from node preappend <code>.</code>:</p>\n\n<pre><code>\".//li[starts-with(@class, '_lessons--row-')]\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10011868,"reputation":77,"user_id":7404484,"accept_rate":50,"display_name":"promitheus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484283635,"creation_date":1484283635,"answer_id":41627670,"question_id":41622240,"body_markdown":"Try your xpath with .// , normally you should start xpath with &quot;.&quot; to stop finding elements from root.  \r\n\r\n    .//li[starts-with(@class, &#39;_lessons--row-&#39;)]","title":"Too many results when finding within element with Selenium WebDriver","body":"<p>Try your xpath with .// , normally you should start xpath with \".\" to stop finding elements from root.  </p>\n\n<pre><code>.//li[starts-with(@class, '_lessons--row-')]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484288548,"creation_date":1484288548,"answer_id":41628547,"question_id":41622240,"body_markdown":" `//` match relative data. which starts at the document root. In your case you are trying to locate using \r\n\r\n    //li[starts-with(@class, &#39;_lessons--row-&#39;)]\r\n\r\nSo it will return all the match in your html. If you want to locate some specific portion of element with `class` have start text`_lessons--row-` . You have to make your `xpath` more specific.\r\n\r\ne.g \r\n\r\n     //div[@id=&#39;someid&#39;]//li[starts-with(@class, &#39;_lessons--row-&#39;)]\r\n\r\n","title":"Too many results when finding within element with Selenium WebDriver","body":"<p><code>//</code> match relative data. which starts at the document root. In your case you are trying to locate using </p>\n\n<pre><code>//li[starts-with(@class, '_lessons--row-')]\n</code></pre>\n\n<p>So it will return all the match in your html. If you want to locate some specific portion of element with <code>class</code> have start text<code>_lessons--row-</code> . You have to make your <code>xpath</code> more specific.</p>\n\n<p>e.g </p>\n\n<pre><code> //div[@id='someid']//li[starts-with(@class, '_lessons--row-')]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23489944,"reputation":26,"user_id":17541087,"display_name":"collder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671802096,"creation_date":1666102794,"answer_id":74112581,"question_id":41622240,"body_markdown":"I had a similar case, but `.` before `//` didn&#39;t help me. Just added `findElements(By.xpath(&quot;your_xpath&quot;)).stream().filter(WebElement::isDisplayed).toList()` as a workaround.","title":"Too many results when finding within element with Selenium WebDriver","body":"<p>I had a similar case, but <code>.</code> before <code>//</code> didn't help me. Just added <code>findElements(By.xpath(&quot;your_xpath&quot;)).stream().filter(WebElement::isDisplayed).toList()</code> as a workaround.</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41622610,"answer_count":4,"score":0,"last_activity_date":1671802096,"creation_date":1484252367,"question_id":41622240,"body_markdown":"I did the following search\r\n\r\n    parts.get(i).findElements(By.xpath(&quot;//li[starts-with(@class, &#39;_lessons--row-&#39;)]&quot;))\r\n\r\nand it returned dozens of results, while I see in Developer Tools, that there are no more than 3 of them.\r\n\r\n`parts.get(i)` returns single [`WebElement`][1].\r\n\r\nLooks like it searches not children of a given element, but over entire page. Can double slash cause this? What double slash means in XPath?\r\n\r\n\r\n  [1]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/WebElement.html","title":"Too many results when finding within element with Selenium WebDriver","body":"<p>I did the following search</p>\n\n<pre><code>parts.get(i).findElements(By.xpath(\"//li[starts-with(@class, '_lessons--row-')]\"))\n</code></pre>\n\n<p>and it returned dozens of results, while I see in Developer Tools, that there are no more than 3 of them.</p>\n\n<p><code>parts.get(i)</code> returns single <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/WebElement.html\" rel=\"nofollow noreferrer\"><code>WebElement</code></a>.</p>\n\n<p>Looks like it searches not children of a given element, but over entire page. Can double slash cause this? What double slash means in XPath?</p>\n"},{"tags":["java","wiremock"],"answers":[{"tags":[],"owner":{"account_id":16106441,"reputation":6176,"user_id":11625850,"display_name":"agoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584974312,"creation_date":1584974312,"answer_id":60815702,"question_id":60541307,"body_markdown":"You can use [Request Matching][1] to get matching query parameters. There are a number of different ways that this can be implemented and without knowing exactly what you would like to test, I don&#39;t think I can recommend one strategy over the others.\r\n\r\n\r\n  [1]: http://wiremock.org/docs/request-matching/","title":"Is there any way to test array type query parameter in WireMock?","body":"<p>You can use <a href=\"http://wiremock.org/docs/request-matching/\" rel=\"nofollow noreferrer\">Request Matching</a> to get matching query parameters. There are a number of different ways that this can be implemented and without knowing exactly what you would like to test, I don't think I can recommend one strategy over the others.</p>\n"},{"tags":[],"owner":{"account_id":15921623,"reputation":592,"user_id":11488462,"display_name":"Dirk Bolte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671793748,"creation_date":1671793748,"answer_id":74898971,"question_id":60541307,"body_markdown":"As of now (Dec &#39;22), there&#39;s no built-in solution utilising the RequestPatternBuilder. The corresponding GitHub issue for this is: https://github.com/wiremock/wiremock/issues/398 .\r\n\r\nThere is however a way to build this your own using `andMatching` as described in the issue&#39;s comment https://github.com/wiremock/wiremock/issues/398#issuecomment-778465146 :\r\n\r\n```java\r\nwireMockRule.stubFor(\r\n  get(urlPathEqualTo(&quot;/path&quot;))\r\n  .andMatching(request -&gt;\r\n    MatchResult.of(\r\n      Matchers.containsInAnyOrder(&quot;filter1&quot;, &quot;filter2&quot;)\r\n        .matches(request.queryParameter(&quot;filter&quot;).values()\r\n    )\r\n  )\r\n)\r\n```\r\n\r\nor in Kotlin:\r\n\r\n```kotlin\r\nwireMockRule.stubFor(\r\n  get(urlPathEqualTo(&quot;/path&quot;))\r\n  .andMatching {\r\n    MatchResult.of(\r\n      Matchers.containsInAnyOrder(&quot;filter1&quot;, &quot;filter2&quot;)\r\n        .matches(it.queryParameter(&quot;filter&quot;).values()\r\n    )\r\n  }\r\n)\r\n```","title":"Is there any way to test array type query parameter in WireMock?","body":"<p>As of now (Dec '22), there's no built-in solution utilising the RequestPatternBuilder. The corresponding GitHub issue for this is: <a href=\"https://github.com/wiremock/wiremock/issues/398\" rel=\"nofollow noreferrer\">https://github.com/wiremock/wiremock/issues/398</a> .</p>\n<p>There is however a way to build this your own using <code>andMatching</code> as described in the issue's comment <a href=\"https://github.com/wiremock/wiremock/issues/398#issuecomment-778465146\" rel=\"nofollow noreferrer\">https://github.com/wiremock/wiremock/issues/398#issuecomment-778465146</a> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>wireMockRule.stubFor(\n  get(urlPathEqualTo(&quot;/path&quot;))\n  .andMatching(request -&gt;\n    MatchResult.of(\n      Matchers.containsInAnyOrder(&quot;filter1&quot;, &quot;filter2&quot;)\n        .matches(request.queryParameter(&quot;filter&quot;).values()\n    )\n  )\n)\n</code></pre>\n<p>or in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>wireMockRule.stubFor(\n  get(urlPathEqualTo(&quot;/path&quot;))\n  .andMatching {\n    MatchResult.of(\n      Matchers.containsInAnyOrder(&quot;filter1&quot;, &quot;filter2&quot;)\n        .matches(it.queryParameter(&quot;filter&quot;).values()\n    )\n  }\n)\n</code></pre>\n"}],"owner":{"account_id":8963401,"reputation":11,"user_id":6685099,"display_name":"lameduck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1065,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1671801770,"creation_date":1583398056,"question_id":60541307,"body_markdown":"In my case I want to test query parameters of a request like\r\n``http://localhost/path?filter=filter1&amp;filter=filter2``\r\n\r\nWhat is the way to test this type of scenario?\r\n","title":"Is there any way to test array type query parameter in WireMock?","body":"<p>In my case I want to test query parameters of a request like\n<code>http://localhost/path?filter=filter1&amp;filter=filter2</code></p>\n<p>What is the way to test this type of scenario?</p>\n"},{"tags":["java","android","json","multithreading"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1671778198,"post_id":74895045,"comment_id":132173955,"body_markdown":"The thread you use here `Handler handler = new Handler(Looper.getMainLooper());` is actually main (UI) thread itself. This may not arise a problem for a small set of data, however as the data gets bigger the more freezing in the UI might occur. Consider using a **background thread** instead.","body":"The thread you use here <code>Handler handler = new Handler(Looper.getMainLooper());</code> is actually main (UI) thread itself. This may not arise a problem for a small set of data, however as the data gets bigger the more freezing in the UI might occur. Consider using a <b>background thread</b> instead."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1671778443,"post_id":74895045,"comment_id":132173992,"body_markdown":"Can you explain the actual problem clearly? It&#39;s hard to understand what the problem is from the images since they have only some markers and don&#39;t explain anything.","body":"Can you explain the actual problem clearly? It&#39;s hard to understand what the problem is from the images since they have only some markers and don&#39;t explain anything."},{"owner":{"account_id":24257347,"reputation":1,"user_id":18207501,"display_name":"Paul de Go&#255;s"},"score":0,"creation_date":1671802194,"post_id":74895045,"comment_id":132179599,"body_markdown":"The images show that there are not the right items (here tools) in the lists. \nIn the JSON we can see the increments, but when displayed in the expandable list the display is not good.","body":"The images show that there are not the right items (here tools) in the lists.  In the JSON we can see the increments, but when displayed in the expandable list the display is not good."},{"owner":{"account_id":24257347,"reputation":1,"user_id":18207501,"display_name":"Paul de Go&#255;s"},"score":0,"creation_date":1671802548,"post_id":74895045,"comment_id":132179692,"body_markdown":"Thanks for your clarification on my Handler. Would it be better to use an Async Task?","body":"Thanks for your clarification on my Handler. Would it be better to use an Async Task?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1671804160,"post_id":74895045,"comment_id":132180134,"body_markdown":"I would recommend you to use either [ExecutorService](https://developer.android.com/guide/background/asynchronous/java-threads#create-multiple) or [HandlerThread](https://developer.android.com/reference/android/os/HandlerThread) as a single threaded solution. `HandlerThread` is more Android OS specific hence can&#39;t be used in non-Android projects. In case of you don&#39;t know, you can&#39;t update UI elements from a background thread.","body":"I would recommend you to use either <a href=\"https://developer.android.com/guide/background/asynchronous/java-threads#create-multiple\" rel=\"nofollow noreferrer\">ExecutorService</a> or <a href=\"https://developer.android.com/reference/android/os/HandlerThread\" rel=\"nofollow noreferrer\">HandlerThread</a> as a single threaded solution. <code>HandlerThread</code> is more Android OS specific hence can&#39;t be used in non-Android projects. In case of you don&#39;t know, you can&#39;t update UI elements from a background thread."},{"owner":{"account_id":24257347,"reputation":1,"user_id":18207501,"display_name":"Paul de Go&#255;s"},"score":0,"creation_date":1671807405,"post_id":74895045,"comment_id":132181007,"body_markdown":"Thank you I will look into it\nSo in principle, I create my Hashmap containing my classification in background\nThen I use it for my adapter","body":"Thank you I will look into it So in principle, I create my Hashmap containing my classification in background Then I use it for my adapter"}],"owner":{"account_id":24257347,"reputation":1,"user_id":18207501,"display_name":"Paul de Go&#255;s"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671801760,"creation_date":1671754815,"question_id":74895045,"body_markdown":"I have made a page allowing to see tools arranged in classes and subclasses (3rd floor).\r\nThe tools database is on a server, and I receive the data as JSON.\r\n\r\n\r\n Everything was working fine until I added a number of tools (and therefore classes)\r\nMy tools appear several times without reason in classes that are not the right ones.\r\nI checked the JSON, no problem.\r\nHere are screenshots of the problem and the code that allows me to retrieve the data and send it to my adapter.\r\nThanks for your help.\r\n\r\n* [Random display problem image 1](https://i.stack.imgur.com/TM6Y2.png)\r\n* [Random display problem image 2](https://i.stack.imgur.com/BXS0p.png)\r\n* [Random display problem image 3](https://i.stack.imgur.com/vVjDZ.png)\r\n\r\n```lang-java\r\nArrayList&lt;String&gt; famille1 = new ArrayList&lt;&gt;();\r\nArrayList&lt;String&gt; typeliste = new ArrayList&lt;&gt;();\r\nHashMap&lt;String, HashMap&lt;String, HashMap&lt;String, ArrayList&lt;MatosItem&gt;&gt;&gt;&gt; ma = new HashMap&lt;&gt;();\r\nArrayList&lt;String&gt; materiauliste = new ArrayList&lt;&gt;();\r\nHashMap&lt;String, HashMap&lt;String, HashMap&lt;String, ArrayList&lt;MatosItem&gt;&gt;&gt;&gt; materielsItemList = new HashMap&lt;&gt;();\r\nHandler handler = new Handler(Looper.getMainLooper());\r\nhandler.post(new Runnable() {\r\n    @Override\r\n    public void run() {\r\n        FetchData fetchData = new FetchData(&quot;http://&quot; + adresseIp.getAdresseIP() + &quot;/jsonmateriels.php&quot;);\r\n        if (fetchData.startFetch()) {\r\n            if (fetchData.onComplete()) {\r\n                String json = fetchData.getResult();\r\n                        try {\r\n                            HashMap&lt;String, HashMap&lt;String, ArrayList&lt;MatosItem&gt;&gt;&gt; typeItemList = new HashMap&lt;&gt;();\r\n                            JSONObject jsonObject = new JSONObject(json);\r\n                            JSONArray jsonArrayOutils = jsonObject.getJSONArray(&quot;Outils&quot;);\r\n                            for (int j = 0; j &lt; jsonArrayOutils.length(); j++) {\r\n                                HashMap&lt;String, HashMap&lt;String, ArrayList&lt;MatosItem&gt;&gt;&gt; typeItemList1 = new HashMap&lt;&gt;();\r\n                                JSONObject fam = jsonArrayOutils.getJSONObject(j);\r\n                                String famille = fam.names().getString(0);//permet d&#39;avoir les choses contenu dans la classe soudeurs\r\n                                JSONArray jsonArrayFamille = fam.getJSONArray(famille);//permet de r&#233;cup&#233;rer le suivant\r\n                                famille1.add(famille);\r\n                                for (int i = 0; i &lt; jsonArrayFamille.length(); i++) {\r\n                                    HashMap&lt;String, ArrayList&lt;MatosItem&gt;&gt; matItemList = new HashMap&lt;&gt;();\r\n                                    JSONObject typ = jsonArrayFamille.getJSONObject(i);\r\n                                    String type = typ.names().getString(0);\r\n                                    JSONArray jsonArrayType = typ.getJSONArray(type);\r\n                                    typeliste.add(type);\r\n                                    for (int k = 0; k &lt; jsonArrayType.length(); k++) {\r\n                                        JSONObject mat = jsonArrayType.getJSONObject(k);\r\n                                        ArrayList&lt;MatosItem&gt; outils = new ArrayList&lt;&gt;();\r\n                                        String materiau = mat.names().getString(0);\r\n                                        JSONArray jsonArraylistout = mat.getJSONArray(materiau);\r\n                                        materiauliste.add(materiau);\r\n                                        for (int l = 0; l &lt; jsonArraylistout.length(); l++) {\r\n                                            JSONObject out = jsonArraylistout.getJSONObject(l);\r\n                                            String description = out.getString(&quot;description&quot;);\r\n                                            String id = out.getString(&quot;id&quot;);\r\n                                            String ref = out.getString(&quot;ref&quot;);\r\n                                            String code_fourn = out.getString(&quot;code_fourn&quot;);\r\n                                            Log.e(&quot;boucle&quot;,description+id);\r\n                                            outils.add(new MatosItem(description, id, false, ref, code_fourn));\r\n                                        }\r\n                                        matItemList.put(materiau, outils);\r\n                                    }\r\n                                    typeItemList1.put(type, matItemList);\r\n                                }\r\n                                materielsItemList.put(famille, typeItemList1);\r\n                                tabLayout.addTab(tabLayout.newTab().setText(famille));\r\n\r\n                            }\r\n                            ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n                             for (String i : Objects.requireNonNull(materielsItemList.get(famille1.get(0))).keySet()) {\r\n                                list.add(i);\r\n                                 Log.e(TAG, &quot;run: &quot;+i );\r\n                            }\r\n\r\n                            typeItemList = materielsItemList.get(famille1.get(0));\r\n                            Log.e(TAG, &quot;run: &quot;+typeItemList );\r\n                            matosListView.setAdapter(new MatosItemAdapter(context, typeItemList,list ));\r\n                            tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n                                @Override\r\n                                public void onTabSelected(TabLayout.Tab tab) {\r\n                                    // get the current selected tab&#39;s position and replace the fragment accordingly\r\n                                    Fragment fragment = null;\r\n                                    if (tab.isSelected()) {\r\n                                        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n                                        for (String i : Objects.requireNonNull(materielsItemList.get(famille1.get(tab.getPosition()))).keySet()) {\r\n                                            list.add(i);\r\n                                        }\r\n                                        HashMap&lt;String, HashMap&lt;String, ArrayList&lt;MatosItem&gt;&gt;&gt; typeItemList1 = new HashMap&lt;&gt;();\r\n                                        typeItemList1 = materielsItemList.get(famille1.get(tab.getPosition()));\r\n                                        matosListView.setAdapter(new MatosItemAdapter(context, typeItemList1, list));\r\n                                    }\r\n\r\n                                    FragmentManager fm = getSupportFragmentManager();\r\n                                    FragmentTransaction ft = fm.beginTransaction();\r\n                                    ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);\r\n                                    ft.commit();\r\n                                }\r\n\r\n                                @Override\r\n                                public void onTabUnselected(TabLayout.Tab tab) {\r\n\r\n                                }\r\n\r\n                                @Override\r\n                                public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n                                }\r\n                            });\r\n                            progressBar.setVisibility(GONE);\r\n\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n            }\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nI checked the JSON\r\nI tried to use a thread\r\n\r\n``` lang-json\r\n{\r\n    &quot;Outils&quot; : [{\r\n        &quot;Soudeurs&quot; : [\r\n        {\r\n            &quot;Fils&quot; : [\r\n            {\r\n                &quot;Fil&quot; : [\r\n                {\r\n                    &quot;description&quot; : &quot;Fil MIG G3SI1 diam 1.2&quot;,\r\n                    &quot;id&quot; : &quot;26&quot;,\r\n                    &quot;ref&quot; : &quot;bobine de 15 kg&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                },\r\n                {\r\n                    &quot;description&quot; : &quot;Fourre OK1413 diam 1.2&quot;,\r\n                    &quot;id&quot; : &quot;45&quot;,\r\n                    &quot;ref&quot; : &quot;bobine 16 kg avec gaz&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                },\r\n                {\r\n                    &quot;description&quot; : &quot;MIG inox 316L SI diam 1.2&quot;,\r\n                    &quot;id&quot; : &quot;46&quot;,\r\n                    &quot;ref&quot; : &quot;bobine 15 kg&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                }]\r\n            }]\r\n        },\r\n        {\r\n            &quot;Materiel de soudure&quot; : [\r\n            {\r\n                &quot;Gaine guide&quot; : [\r\n                {\r\n                    &quot;description&quot; : &quot;fil 25 x 45 4M diam 1.2&quot;,\r\n                    &quot;id&quot; : &quot;27&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                }\r\n            ]},\r\n            {\r\n                &quot;Batterie&quot; : [\r\n                {\r\n                    &quot;description&quot; : &quot;Warrior AIR ESAB&quot;,\r\n                    &quot;id&quot; : &quot;47&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                }\r\n            ]},\r\n            {\r\n                &quot;Cagoule&quot; : [\r\n                {\r\n                    &quot;description&quot; : &quot;Couvre nuque noire ESAB&quot;,\r\n                    &quot;id&quot; : &quot;48&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                }\r\n            ]},\r\n            {\r\n                &quot;Protection&quot; : [\r\n                {\r\n                    &quot;description&quot; : &quot;Ecran de protection bleu&quot;,\r\n                    &quot;id&quot; : &quot;49&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                },\r\n                {\r\n                    &quot;description&quot; : &quot;Visiere transparente pour ecran HG930B&quot;,\r\n                    &quot;id&quot; : &quot;50&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                },\r\n                {\r\n                    &quot;description&quot; : &quot;Visiere teinte pour ecran HG930B&quot;,\r\n                    &quot;id&quot; : &quot;51&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                }\r\n            ]},\r\n            {\r\n                &quot;Pince&quot; : [\r\n                {\r\n                    &quot;description&quot; : &quot;Stubby original 400 A&quot;,\r\n                    &quot;id&quot; : &quot;52&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                },\r\n                {\r\n                    &quot;description&quot; : &quot;Masse bronze GCB 450 A&quot;,\r\n                    &quot;id&quot; : &quot;53&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                },\r\n                {\r\n                    &quot;description&quot; : &quot;Masse bronze GCB 600 A&quot;,\r\n                    &quot;id&quot; : &quot;54&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                }]\r\n            }]\r\n        },\r\n        {\r\n            &quot;Electrodes&quot; : [\r\n            {\r\n                &quot;OK4627&quot; : [\r\n                {\r\n                    &quot;description&quot; : &quot;Diam 2.5 x 350 rutile&quot;,\r\n                    &quot;id&quot; : &quot;25&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                }]\r\n            },\r\n            {\r\n                &quot;OK4800&quot; : [\r\n                {\r\n                    &quot;description&quot; : &quot;Diam 2.5 x 350&quot;,\r\n                    &quot;id&quot; : &quot;32&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                },\r\n                {\r\n                    &quot;description&quot; : &quot;Diam 3.2 x 350&quot;,\r\n                    &quot;id&quot; : &quot;33&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                },\r\n                {\r\n                    &quot;description&quot; : &quot;Diam 4 x 350&quot;,\r\n                    &quot;id&quot; : &quot;34&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                },\r\n                {\r\n                    &quot;description&quot; : &quot;Diam 5 x 450&quot;,\r\n                    &quot;id&quot; : &quot;35&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                }]\r\n            },\r\n            {\r\n                &quot;Inox 316 L 17&quot; : [\r\n                {\r\n                    &quot;description&quot; : &quot;Diam 2.5 x 300&quot;,\r\n                    &quot;id&quot; : &quot;36&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                },\r\n                {\r\n                    &quot;description&quot; : &quot;Diam 3.2 x 350&quot;,\r\n                    &quot;id&quot; : &quot;37&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                },\r\n                {\r\n                    &quot;description&quot; : &quot;Diam 4 x 350&quot;,\r\n                    &quot;id&quot; : &quot;38&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                }]\r\n            },\r\n            {\r\n                &quot;Gougeage&quot; : [\r\n                {\r\n                    &quot;description&quot; : &quot;6 x 305&quot;,\r\n                    &quot;id&quot; : &quot;39&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                },\r\n                {\r\n                    &quot;description&quot; : &quot;8 x 305&quot;,\r\n                    &quot;id&quot; : &quot;40&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                },\r\n                {\r\n                    &quot;description&quot; : &quot;10 x 305&quot;,\r\n                    &quot;id&quot; : &quot;41&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                }]\r\n            },\r\n            {\r\n                &quot;Nue&quot; : [\r\n                {\r\n                    &quot;description&quot; : &quot;9.5 x 914 slice&quot;,\r\n                    &quot;id&quot; : &quot;42&quot;,\r\n                    &quot;ref&quot; : &quot;x&quot;,\r\n                    &quot;code_fourn&quot; : &quot;x&quot;\r\n                }]\r\n            }]\r\n        }]},\r\n        {\r\n            &quot;Ajusteurs&quot; : [\r\n            {\r\n                &quot;Accessoires&quot; : [\r\n                {\r\n                    &quot;Nettoyant&quot; : [\r\n                    {\r\n                        &quot;description&quot; : &quot;26.5 kg alfa marine&quot;,\r\n                        &quot;id&quot; : &quot;44&quot;,\r\n                        &quot;ref&quot; : &quot;x&quot;,\r\n                        &quot;code_fourn&quot; : &quot;x&quot;\r\n                    }]\r\n                }]\r\n            },\r\n            {\r\n                &quot;Hydraulique&quot; : [\r\n                {\r\n                    &quot;Huile&quot; : [\r\n                    {\r\n                        &quot;description&quot; : &quot;Enerpac HF95Y bidon 5L&quot;,\r\n                        &quot;id&quot; : &quot;43&quot;,\r\n                        &quot;ref&quot; : &quot;x&quot;,\r\n                        &quot;code_fourn&quot; : &quot;x&quot;\r\n                    }]\r\n                }]\r\n            }]\r\n        },\r\n        {\r\n            &quot;Machinistes&quot; : [\r\n            {\r\n                &quot;Accessoires&quot; : [\r\n                {\r\n                    &quot;Lame ebavureur&quot; : [\r\n                    {\r\n                        &quot;description&quot; : &quot;E100S (longue) boite de 10&quot;,\r\n                        &quot;id&quot; : &quot;30&quot;,\r\n                        &quot;ref&quot; : &quot;x&quot;,\r\n                        &quot;code_fourn&quot; : &quot;x&quot;\r\n                    },\r\n                    {\r\n                        &quot;description&quot; : &quot;B10S (courte) boite de 10&quot;,\r\n                        &quot;id&quot; : &quot;31&quot;,\r\n                        &quot;ref&quot; : &quot;x&quot;,\r\n                        &quot;code_fourn&quot; : &quot;x&quot;\r\n                    }]\r\n                }]\r\n            }]\r\n        }]\r\n    }\r\n\r\n```\r\n\r\nI would like to have a correct display of the tools and their class. I don&#39;t have to have expandables list","title":"Problem displaying an expandable list android studio java","body":"<p>I have made a page allowing to see tools arranged in classes and subclasses (3rd floor).\nThe tools database is on a server, and I receive the data as JSON.</p>\n<p>Everything was working fine until I added a number of tools (and therefore classes)\nMy tools appear several times without reason in classes that are not the right ones.\nI checked the JSON, no problem.\nHere are screenshots of the problem and the code that allows me to retrieve the data and send it to my adapter.\nThanks for your help.</p>\n<ul>\n<li><a href=\"https://i.stack.imgur.com/TM6Y2.png\" rel=\"nofollow noreferrer\">Random display problem image 1</a></li>\n<li><a href=\"https://i.stack.imgur.com/BXS0p.png\" rel=\"nofollow noreferrer\">Random display problem image 2</a></li>\n<li><a href=\"https://i.stack.imgur.com/vVjDZ.png\" rel=\"nofollow noreferrer\">Random display problem image 3</a></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; famille1 = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; typeliste = new ArrayList&lt;&gt;();\nHashMap&lt;String, HashMap&lt;String, HashMap&lt;String, ArrayList&lt;MatosItem&gt;&gt;&gt;&gt; ma = new HashMap&lt;&gt;();\nArrayList&lt;String&gt; materiauliste = new ArrayList&lt;&gt;();\nHashMap&lt;String, HashMap&lt;String, HashMap&lt;String, ArrayList&lt;MatosItem&gt;&gt;&gt;&gt; materielsItemList = new HashMap&lt;&gt;();\nHandler handler = new Handler(Looper.getMainLooper());\nhandler.post(new Runnable() {\n    @Override\n    public void run() {\n        FetchData fetchData = new FetchData(&quot;http://&quot; + adresseIp.getAdresseIP() + &quot;/jsonmateriels.php&quot;);\n        if (fetchData.startFetch()) {\n            if (fetchData.onComplete()) {\n                String json = fetchData.getResult();\n                        try {\n                            HashMap&lt;String, HashMap&lt;String, ArrayList&lt;MatosItem&gt;&gt;&gt; typeItemList = new HashMap&lt;&gt;();\n                            JSONObject jsonObject = new JSONObject(json);\n                            JSONArray jsonArrayOutils = jsonObject.getJSONArray(&quot;Outils&quot;);\n                            for (int j = 0; j &lt; jsonArrayOutils.length(); j++) {\n                                HashMap&lt;String, HashMap&lt;String, ArrayList&lt;MatosItem&gt;&gt;&gt; typeItemList1 = new HashMap&lt;&gt;();\n                                JSONObject fam = jsonArrayOutils.getJSONObject(j);\n                                String famille = fam.names().getString(0);//permet d'avoir les choses contenu dans la classe soudeurs\n                                JSONArray jsonArrayFamille = fam.getJSONArray(famille);//permet de récupérer le suivant\n                                famille1.add(famille);\n                                for (int i = 0; i &lt; jsonArrayFamille.length(); i++) {\n                                    HashMap&lt;String, ArrayList&lt;MatosItem&gt;&gt; matItemList = new HashMap&lt;&gt;();\n                                    JSONObject typ = jsonArrayFamille.getJSONObject(i);\n                                    String type = typ.names().getString(0);\n                                    JSONArray jsonArrayType = typ.getJSONArray(type);\n                                    typeliste.add(type);\n                                    for (int k = 0; k &lt; jsonArrayType.length(); k++) {\n                                        JSONObject mat = jsonArrayType.getJSONObject(k);\n                                        ArrayList&lt;MatosItem&gt; outils = new ArrayList&lt;&gt;();\n                                        String materiau = mat.names().getString(0);\n                                        JSONArray jsonArraylistout = mat.getJSONArray(materiau);\n                                        materiauliste.add(materiau);\n                                        for (int l = 0; l &lt; jsonArraylistout.length(); l++) {\n                                            JSONObject out = jsonArraylistout.getJSONObject(l);\n                                            String description = out.getString(&quot;description&quot;);\n                                            String id = out.getString(&quot;id&quot;);\n                                            String ref = out.getString(&quot;ref&quot;);\n                                            String code_fourn = out.getString(&quot;code_fourn&quot;);\n                                            Log.e(&quot;boucle&quot;,description+id);\n                                            outils.add(new MatosItem(description, id, false, ref, code_fourn));\n                                        }\n                                        matItemList.put(materiau, outils);\n                                    }\n                                    typeItemList1.put(type, matItemList);\n                                }\n                                materielsItemList.put(famille, typeItemList1);\n                                tabLayout.addTab(tabLayout.newTab().setText(famille));\n\n                            }\n                            ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n                             for (String i : Objects.requireNonNull(materielsItemList.get(famille1.get(0))).keySet()) {\n                                list.add(i);\n                                 Log.e(TAG, &quot;run: &quot;+i );\n                            }\n\n                            typeItemList = materielsItemList.get(famille1.get(0));\n                            Log.e(TAG, &quot;run: &quot;+typeItemList );\n                            matosListView.setAdapter(new MatosItemAdapter(context, typeItemList,list ));\n                            tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n                                @Override\n                                public void onTabSelected(TabLayout.Tab tab) {\n                                    // get the current selected tab's position and replace the fragment accordingly\n                                    Fragment fragment = null;\n                                    if (tab.isSelected()) {\n                                        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n                                        for (String i : Objects.requireNonNull(materielsItemList.get(famille1.get(tab.getPosition()))).keySet()) {\n                                            list.add(i);\n                                        }\n                                        HashMap&lt;String, HashMap&lt;String, ArrayList&lt;MatosItem&gt;&gt;&gt; typeItemList1 = new HashMap&lt;&gt;();\n                                        typeItemList1 = materielsItemList.get(famille1.get(tab.getPosition()));\n                                        matosListView.setAdapter(new MatosItemAdapter(context, typeItemList1, list));\n                                    }\n\n                                    FragmentManager fm = getSupportFragmentManager();\n                                    FragmentTransaction ft = fm.beginTransaction();\n                                    ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);\n                                    ft.commit();\n                                }\n\n                                @Override\n                                public void onTabUnselected(TabLayout.Tab tab) {\n\n                                }\n\n                                @Override\n                                public void onTabReselected(TabLayout.Tab tab) {\n\n                                }\n                            });\n                            progressBar.setVisibility(GONE);\n\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n            }\n        }\n    }\n});\n</code></pre>\n<p>I checked the JSON\nI tried to use a thread</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;Outils&quot; : [{\n        &quot;Soudeurs&quot; : [\n        {\n            &quot;Fils&quot; : [\n            {\n                &quot;Fil&quot; : [\n                {\n                    &quot;description&quot; : &quot;Fil MIG G3SI1 diam 1.2&quot;,\n                    &quot;id&quot; : &quot;26&quot;,\n                    &quot;ref&quot; : &quot;bobine de 15 kg&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                },\n                {\n                    &quot;description&quot; : &quot;Fourre OK1413 diam 1.2&quot;,\n                    &quot;id&quot; : &quot;45&quot;,\n                    &quot;ref&quot; : &quot;bobine 16 kg avec gaz&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                },\n                {\n                    &quot;description&quot; : &quot;MIG inox 316L SI diam 1.2&quot;,\n                    &quot;id&quot; : &quot;46&quot;,\n                    &quot;ref&quot; : &quot;bobine 15 kg&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                }]\n            }]\n        },\n        {\n            &quot;Materiel de soudure&quot; : [\n            {\n                &quot;Gaine guide&quot; : [\n                {\n                    &quot;description&quot; : &quot;fil 25 x 45 4M diam 1.2&quot;,\n                    &quot;id&quot; : &quot;27&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                }\n            ]},\n            {\n                &quot;Batterie&quot; : [\n                {\n                    &quot;description&quot; : &quot;Warrior AIR ESAB&quot;,\n                    &quot;id&quot; : &quot;47&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                }\n            ]},\n            {\n                &quot;Cagoule&quot; : [\n                {\n                    &quot;description&quot; : &quot;Couvre nuque noire ESAB&quot;,\n                    &quot;id&quot; : &quot;48&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                }\n            ]},\n            {\n                &quot;Protection&quot; : [\n                {\n                    &quot;description&quot; : &quot;Ecran de protection bleu&quot;,\n                    &quot;id&quot; : &quot;49&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                },\n                {\n                    &quot;description&quot; : &quot;Visiere transparente pour ecran HG930B&quot;,\n                    &quot;id&quot; : &quot;50&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                },\n                {\n                    &quot;description&quot; : &quot;Visiere teinte pour ecran HG930B&quot;,\n                    &quot;id&quot; : &quot;51&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                }\n            ]},\n            {\n                &quot;Pince&quot; : [\n                {\n                    &quot;description&quot; : &quot;Stubby original 400 A&quot;,\n                    &quot;id&quot; : &quot;52&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                },\n                {\n                    &quot;description&quot; : &quot;Masse bronze GCB 450 A&quot;,\n                    &quot;id&quot; : &quot;53&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                },\n                {\n                    &quot;description&quot; : &quot;Masse bronze GCB 600 A&quot;,\n                    &quot;id&quot; : &quot;54&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                }]\n            }]\n        },\n        {\n            &quot;Electrodes&quot; : [\n            {\n                &quot;OK4627&quot; : [\n                {\n                    &quot;description&quot; : &quot;Diam 2.5 x 350 rutile&quot;,\n                    &quot;id&quot; : &quot;25&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                }]\n            },\n            {\n                &quot;OK4800&quot; : [\n                {\n                    &quot;description&quot; : &quot;Diam 2.5 x 350&quot;,\n                    &quot;id&quot; : &quot;32&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                },\n                {\n                    &quot;description&quot; : &quot;Diam 3.2 x 350&quot;,\n                    &quot;id&quot; : &quot;33&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                },\n                {\n                    &quot;description&quot; : &quot;Diam 4 x 350&quot;,\n                    &quot;id&quot; : &quot;34&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                },\n                {\n                    &quot;description&quot; : &quot;Diam 5 x 450&quot;,\n                    &quot;id&quot; : &quot;35&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                }]\n            },\n            {\n                &quot;Inox 316 L 17&quot; : [\n                {\n                    &quot;description&quot; : &quot;Diam 2.5 x 300&quot;,\n                    &quot;id&quot; : &quot;36&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                },\n                {\n                    &quot;description&quot; : &quot;Diam 3.2 x 350&quot;,\n                    &quot;id&quot; : &quot;37&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                },\n                {\n                    &quot;description&quot; : &quot;Diam 4 x 350&quot;,\n                    &quot;id&quot; : &quot;38&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                }]\n            },\n            {\n                &quot;Gougeage&quot; : [\n                {\n                    &quot;description&quot; : &quot;6 x 305&quot;,\n                    &quot;id&quot; : &quot;39&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                },\n                {\n                    &quot;description&quot; : &quot;8 x 305&quot;,\n                    &quot;id&quot; : &quot;40&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                },\n                {\n                    &quot;description&quot; : &quot;10 x 305&quot;,\n                    &quot;id&quot; : &quot;41&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                }]\n            },\n            {\n                &quot;Nue&quot; : [\n                {\n                    &quot;description&quot; : &quot;9.5 x 914 slice&quot;,\n                    &quot;id&quot; : &quot;42&quot;,\n                    &quot;ref&quot; : &quot;x&quot;,\n                    &quot;code_fourn&quot; : &quot;x&quot;\n                }]\n            }]\n        }]},\n        {\n            &quot;Ajusteurs&quot; : [\n            {\n                &quot;Accessoires&quot; : [\n                {\n                    &quot;Nettoyant&quot; : [\n                    {\n                        &quot;description&quot; : &quot;26.5 kg alfa marine&quot;,\n                        &quot;id&quot; : &quot;44&quot;,\n                        &quot;ref&quot; : &quot;x&quot;,\n                        &quot;code_fourn&quot; : &quot;x&quot;\n                    }]\n                }]\n            },\n            {\n                &quot;Hydraulique&quot; : [\n                {\n                    &quot;Huile&quot; : [\n                    {\n                        &quot;description&quot; : &quot;Enerpac HF95Y bidon 5L&quot;,\n                        &quot;id&quot; : &quot;43&quot;,\n                        &quot;ref&quot; : &quot;x&quot;,\n                        &quot;code_fourn&quot; : &quot;x&quot;\n                    }]\n                }]\n            }]\n        },\n        {\n            &quot;Machinistes&quot; : [\n            {\n                &quot;Accessoires&quot; : [\n                {\n                    &quot;Lame ebavureur&quot; : [\n                    {\n                        &quot;description&quot; : &quot;E100S (longue) boite de 10&quot;,\n                        &quot;id&quot; : &quot;30&quot;,\n                        &quot;ref&quot; : &quot;x&quot;,\n                        &quot;code_fourn&quot; : &quot;x&quot;\n                    },\n                    {\n                        &quot;description&quot; : &quot;B10S (courte) boite de 10&quot;,\n                        &quot;id&quot; : &quot;31&quot;,\n                        &quot;ref&quot; : &quot;x&quot;,\n                        &quot;code_fourn&quot; : &quot;x&quot;\n                    }]\n                }]\n            }]\n        }]\n    }\n\n</code></pre>\n<p>I would like to have a correct display of the tools and their class. I don't have to have expandables list</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8290243,"reputation":106,"user_id":6232150,"display_name":"J. Staerk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671801726,"creation_date":1671801726,"answer_id":74900118,"question_id":72450066,"body_markdown":"Trade Parties were defective, credit memos were defective and the minimum profile was most defective of all. Most of that should now be fixed in todays 2.6.0 and I also created a automatic test, which probably does most of what you want to do on https://github.com/ZUGFeRD/mustangproject/blob/master/library/src/test/java/org/mustangproject/ZUGFeRD/ProfilesMinimumBasicWLTest.java\r\n\r\nYou are so right that it really hurts you didn&#39;t just raise a Github issue, mention it in the mailing list https://groups.google.com/g/zugferd or via matrix (https://app.element.io/#/room/#facturx:matrix.org). \r\n\r\nThis is the second time that I actually learn of Chorus Pro requirements via Stackoverflow (besides, where do you have your sample from?) and I might have fixed this three months earlier if only I had been aware of it. \r\n\r\n\r\nJoyeux No&#235;l,\r\nJochen\r\n\r\n\r\nPS: I believe in the context of the previous stackoverflow encounter I had investigated and BusinessProcessSpecifiedDocumentContextParameter=A1 may actually be optional in terms of Chorus Pro, i.e. B2G, and I would be astonished if that was any different in B2B.","title":"Creating a min, basic and basic WL factur-x using mustang","body":"<p>Trade Parties were defective, credit memos were defective and the minimum profile was most defective of all. Most of that should now be fixed in todays 2.6.0 and I also created a automatic test, which probably does most of what you want to do on <a href=\"https://github.com/ZUGFeRD/mustangproject/blob/master/library/src/test/java/org/mustangproject/ZUGFeRD/ProfilesMinimumBasicWLTest.java\" rel=\"nofollow noreferrer\">https://github.com/ZUGFeRD/mustangproject/blob/master/library/src/test/java/org/mustangproject/ZUGFeRD/ProfilesMinimumBasicWLTest.java</a></p>\n<p>You are so right that it really hurts you didn't just raise a Github issue, mention it in the mailing list <a href=\"https://groups.google.com/g/zugferd\" rel=\"nofollow noreferrer\">https://groups.google.com/g/zugferd</a> or via matrix (<a href=\"https://app.element.io/#/room/#facturx:matrix.org\" rel=\"nofollow noreferrer\">https://app.element.io/#/room/#facturx:matrix.org</a>).</p>\n<p>This is the second time that I actually learn of Chorus Pro requirements via Stackoverflow (besides, where do you have your sample from?) and I might have fixed this three months earlier if only I had been aware of it.</p>\n<p>Joyeux Noël,\nJochen</p>\n<p>PS: I believe in the context of the previous stackoverflow encounter I had investigated and BusinessProcessSpecifiedDocumentContextParameter=A1 may actually be optional in terms of Chorus Pro, i.e. B2G, and I would be astonished if that was any different in B2B.</p>\n"}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74900118,"answer_count":1,"score":0,"last_activity_date":1671801726,"creation_date":1654008995,"question_id":72450066,"body_markdown":"I try to create a factur-x using mustang library. \r\nI found how to create an EN16931 factur-x xml and how to embed it in the pdf. \r\n\r\nFor this I used the following code sample: \r\n\r\n    ZUGFeRDExporterFromA1 ze = new ZUGFeRDExporterFromA1().setProducer(&quot;My Application&quot;)\r\n              .setCreator(System.getProperty(&quot;user.name&quot;)).setZUGFeRDVersion(2).ignorePDFAErrors()\r\n              .load(&quot;blanko.pdf&quot;);\r\n    Invoice i = new Invoice()\r\n              .setIssueDate(new Date())\r\n              .setDueDate(new Date())\r\n              .setDetailedDeliveryPeriod(new Date(), new Date())\r\n              .setDeliveryDate(new Date())\r\n              .setSender(\r\n                      new TradeParty(&quot;ME&quot;, &quot;teststr&quot;, &quot;55232&quot;, &quot;teststadt&quot;, &quot;DE&quot;)\r\n                              .addTaxID(&quot;4711&quot;)\r\n                              .addVATID(&quot;DE0815&quot;)\r\n                              .addBankDetails(new BankDetails(&quot;DE88200800000970375700&quot;, &quot;COBADEFFXXX&quot;)))\r\n              .setRecipient(\r\n                      new TradeParty(&quot;Franz M&#252;ller&quot;, &quot;teststr.12&quot;, &quot;55232&quot;, &quot;Entenhausen&quot;, &quot;DE&quot;)\r\n                              .addVATID(&quot;DE0815&quot;))\r\n              .setNumber(&quot;NUMFACTURE&quot;)\r\n              .addItem(new Item(new Product(&quot;Testprodukt&quot;, &quot;&quot;, &quot;C62&quot;, new BigDecimal(19)), new BigDecimal(123), new BigDecimal(1)))\r\n              .addItem(new Item(new Product(&quot;Testprodukt&quot;, &quot;&quot;, &quot;C62&quot;, new BigDecimal(19)), new BigDecimal(123), new BigDecimal(1)))\r\n              .addItem(new Item(new Product(&quot;Testprodukt&quot;, &quot;&quot;, &quot;C62&quot;, new BigDecimal(19)), new BigDecimal(123), new BigDecimal(1)))\r\n              .setCreditNote();\r\n          ze.setTransaction(i);\r\n          ze.export(&quot;factur-x-en16931.pdf&quot;);\r\n\r\n\r\nThis code work fine. I do generate a valid PDF with valid XML data... My issue is concerning lower facturx level such as Minimum, Basic, Basic WL.  \r\n\r\nThe XML should look like this: \r\n\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;rsm:CrossIndustryInvoice \r\n        xmlns:qdt=&quot;urn:un:unece:uncefact:data:standard:QualifiedDataType:100&quot;\r\n    \txmlns:ram=&quot;urn:un:unece:uncefact:data:standard:ReusableAggregateBusinessInformationEntity:100&quot;\r\n    \txmlns:rsm=&quot;urn:un:unece:uncefact:data:standard:CrossIndustryInvoice:100&quot;\r\n    \txmlns:udt=&quot;urn:un:unece:uncefact:data:standard:UnqualifiedDataType:100&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n       &lt;rsm:ExchangedDocumentContext&gt;\r\n          &lt;ram:BusinessProcessSpecifiedDocumentContextParameter&gt;\r\n             &lt;ram:ID&gt;A1&lt;/ram:ID&gt;\r\n          &lt;/ram:BusinessProcessSpecifiedDocumentContextParameter&gt;\r\n          &lt;ram:GuidelineSpecifiedDocumentContextParameter&gt;\r\n             &lt;ram:ID&gt;urn:factur-x.eu:1p0:minimum&lt;/ram:ID&gt;\r\n          &lt;/ram:GuidelineSpecifiedDocumentContextParameter&gt;\r\n       &lt;/rsm:ExchangedDocumentContext&gt;\r\n       &lt;rsm:ExchangedDocument&gt;\r\n          &lt;ram:ID&gt;NUMFCADNO22&lt;/ram:ID&gt;\r\n          &lt;ram:TypeCode&gt;380&lt;/ram:TypeCode&gt;\r\n          &lt;ram:IssueDateTime&gt;\r\n             &lt;udt:DateTimeString format=&quot;102&quot;&gt;20220506&lt;/udt:DateTimeString&gt;\r\n          &lt;/ram:IssueDateTime&gt;\r\n       &lt;/rsm:ExchangedDocument&gt;\r\n       &lt;rsm:SupplyChainTradeTransaction&gt;\r\n          &lt;ram:ApplicableHeaderTradeAgreement&gt;\r\n             &lt;ram:SellerTradeParty&gt;\r\n                &lt;ram:Name&gt;ACME&lt;/ram:Name&gt;\r\n                &lt;ram:SpecifiedLegalOrganization&gt;\r\n                   &lt;ram:ID schemeID=&quot;0002&quot;&gt;3810011234560073&lt;/ram:ID&gt;\r\n                &lt;/ram:SpecifiedLegalOrganization&gt;\r\n                &lt;ram:PostalTradeAddress&gt;\r\n                   &lt;ram:CountryID&gt;FR&lt;/ram:CountryID&gt;\r\n                &lt;/ram:PostalTradeAddress&gt;\r\n                &lt;ram:SpecifiedTaxRegistration&gt;\r\n                   &lt;ram:ID schemeID=&quot;VA&quot;&gt;FR17143232666&lt;/ram:ID&gt;\r\n                &lt;/ram:SpecifiedTaxRegistration&gt;\r\n             &lt;/ram:SellerTradeParty&gt;\r\n             &lt;ram:BuyerTradeParty&gt;\r\n                &lt;ram:Name&gt;Client&lt;/ram:Name&gt;\r\n             &lt;/ram:BuyerTradeParty&gt;\r\n          &lt;/ram:ApplicableHeaderTradeAgreement&gt;\r\n          &lt;ram:ApplicableHeaderTradeDelivery/&gt;\r\n          &lt;ram:ApplicableHeaderTradeSettlement&gt;\r\n             &lt;ram:InvoiceCurrencyCode&gt;EUR&lt;/ram:InvoiceCurrencyCode&gt;\r\n             &lt;ram:SpecifiedTradeSettlementHeaderMonetarySummation&gt;\r\n                &lt;ram:TaxBasisTotalAmount&gt;200.00&lt;/ram:TaxBasisTotalAmount&gt;\r\n                &lt;ram:TaxTotalAmount currencyID=&quot;EUR&quot;&gt;40.00&lt;/ram:TaxTotalAmount&gt;\r\n                &lt;ram:GrandTotalAmount&gt;240.00&lt;/ram:GrandTotalAmount&gt;\r\n                &lt;ram:DuePayableAmount&gt;240.00&lt;/ram:DuePayableAmount&gt;\r\n             &lt;/ram:SpecifiedTradeSettlementHeaderMonetarySummation&gt;\r\n          &lt;/ram:ApplicableHeaderTradeSettlement&gt;\r\n       &lt;/rsm:SupplyChainTradeTransaction&gt;\r\n    &lt;/rsm:CrossIndustryInvoice&gt;\r\n\r\n\r\nMy issue is that i have issues creating such attached document. Here, i do need to set : \r\n  - IssueDateTime\r\n  - Seller name( but constructor requires all information)\r\n  - Seller VAT ID\r\n  - Buyer name\r\n  - Currency\r\n  - Total \r\n    - tax basis total amount\r\n    - tax total amount\r\n    - grand total amount\r\n    - due payable amount\r\n\r\n\r\nI partially found out how to set the profile. \r\n\r\n    ZUGFeRDExporterFromA1 ze = new ZUGFeRDExporterFromA1()\r\n          .setProducer(&quot;My Application&quot;)\r\n          .setCreator(System.getProperty(&quot;user.name&quot;))\r\n          .setZUGFeRDVersion(2)\r\n          .setProfile(&quot;MINIMUM&quot;)\r\n          .ignorePDFAErrors()\r\n          .load(&quot;blanko.pdf&quot;);\r\n\r\nI have issue concerning definig the invoice details: \r\n\r\n\r\n        Invoice i = new Invoice()\r\n                .setIssueDate(new Date())                                                                                   \r\n                // .setDueDate(new Date()) ==&gt; not required\r\n                // .setDetailedDeliveryPeriod(new Date(), new Date()) ==&gt; not required\r\n                // .setDeliveryDate(new Date()) ==&gt; not required\r\n                .setSender(\r\n                        new TradeParty(&quot;ACME&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;FR&quot;)\r\n                                .addVATID(&quot;FR17143232666&quot;))\r\n                .setRecipient(\r\n                        new TradeParty(&quot;Client test MOA&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;)\r\n                                .addVATID(&quot;DE0815&quot;))\r\n                .setNumber(&quot;NUMFACTURE&quot;)\r\n                .setCurrency(&quot;EUR&quot;)\r\n                .setTotalPrepaidAmount(new BigDecimal(&quot;450.00&quot;));\r\n            ze.setTransaction(i);\r\n            ze.export(&quot;factur-x-min.pdf&quot;);\r\n\r\n\r\nI didn&#39;t find how to set values for required elements in Mustang and I have null pointers exceptions concerning dates for example.","title":"Creating a min, basic and basic WL factur-x using mustang","body":"<p>I try to create a factur-x using mustang library.\nI found how to create an EN16931 factur-x xml and how to embed it in the pdf.</p>\n<p>For this I used the following code sample:</p>\n<pre><code>ZUGFeRDExporterFromA1 ze = new ZUGFeRDExporterFromA1().setProducer(&quot;My Application&quot;)\n          .setCreator(System.getProperty(&quot;user.name&quot;)).setZUGFeRDVersion(2).ignorePDFAErrors()\n          .load(&quot;blanko.pdf&quot;);\nInvoice i = new Invoice()\n          .setIssueDate(new Date())\n          .setDueDate(new Date())\n          .setDetailedDeliveryPeriod(new Date(), new Date())\n          .setDeliveryDate(new Date())\n          .setSender(\n                  new TradeParty(&quot;ME&quot;, &quot;teststr&quot;, &quot;55232&quot;, &quot;teststadt&quot;, &quot;DE&quot;)\n                          .addTaxID(&quot;4711&quot;)\n                          .addVATID(&quot;DE0815&quot;)\n                          .addBankDetails(new BankDetails(&quot;DE88200800000970375700&quot;, &quot;COBADEFFXXX&quot;)))\n          .setRecipient(\n                  new TradeParty(&quot;Franz Müller&quot;, &quot;teststr.12&quot;, &quot;55232&quot;, &quot;Entenhausen&quot;, &quot;DE&quot;)\n                          .addVATID(&quot;DE0815&quot;))\n          .setNumber(&quot;NUMFACTURE&quot;)\n          .addItem(new Item(new Product(&quot;Testprodukt&quot;, &quot;&quot;, &quot;C62&quot;, new BigDecimal(19)), new BigDecimal(123), new BigDecimal(1)))\n          .addItem(new Item(new Product(&quot;Testprodukt&quot;, &quot;&quot;, &quot;C62&quot;, new BigDecimal(19)), new BigDecimal(123), new BigDecimal(1)))\n          .addItem(new Item(new Product(&quot;Testprodukt&quot;, &quot;&quot;, &quot;C62&quot;, new BigDecimal(19)), new BigDecimal(123), new BigDecimal(1)))\n          .setCreditNote();\n      ze.setTransaction(i);\n      ze.export(&quot;factur-x-en16931.pdf&quot;);\n</code></pre>\n<p>This code work fine. I do generate a valid PDF with valid XML data... My issue is concerning lower facturx level such as Minimum, Basic, Basic WL.</p>\n<p>The XML should look like this:</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;rsm:CrossIndustryInvoice \n    xmlns:qdt=&quot;urn:un:unece:uncefact:data:standard:QualifiedDataType:100&quot;\n    xmlns:ram=&quot;urn:un:unece:uncefact:data:standard:ReusableAggregateBusinessInformationEntity:100&quot;\n    xmlns:rsm=&quot;urn:un:unece:uncefact:data:standard:CrossIndustryInvoice:100&quot;\n    xmlns:udt=&quot;urn:un:unece:uncefact:data:standard:UnqualifiedDataType:100&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n   &lt;rsm:ExchangedDocumentContext&gt;\n      &lt;ram:BusinessProcessSpecifiedDocumentContextParameter&gt;\n         &lt;ram:ID&gt;A1&lt;/ram:ID&gt;\n      &lt;/ram:BusinessProcessSpecifiedDocumentContextParameter&gt;\n      &lt;ram:GuidelineSpecifiedDocumentContextParameter&gt;\n         &lt;ram:ID&gt;urn:factur-x.eu:1p0:minimum&lt;/ram:ID&gt;\n      &lt;/ram:GuidelineSpecifiedDocumentContextParameter&gt;\n   &lt;/rsm:ExchangedDocumentContext&gt;\n   &lt;rsm:ExchangedDocument&gt;\n      &lt;ram:ID&gt;NUMFCADNO22&lt;/ram:ID&gt;\n      &lt;ram:TypeCode&gt;380&lt;/ram:TypeCode&gt;\n      &lt;ram:IssueDateTime&gt;\n         &lt;udt:DateTimeString format=&quot;102&quot;&gt;20220506&lt;/udt:DateTimeString&gt;\n      &lt;/ram:IssueDateTime&gt;\n   &lt;/rsm:ExchangedDocument&gt;\n   &lt;rsm:SupplyChainTradeTransaction&gt;\n      &lt;ram:ApplicableHeaderTradeAgreement&gt;\n         &lt;ram:SellerTradeParty&gt;\n            &lt;ram:Name&gt;ACME&lt;/ram:Name&gt;\n            &lt;ram:SpecifiedLegalOrganization&gt;\n               &lt;ram:ID schemeID=&quot;0002&quot;&gt;3810011234560073&lt;/ram:ID&gt;\n            &lt;/ram:SpecifiedLegalOrganization&gt;\n            &lt;ram:PostalTradeAddress&gt;\n               &lt;ram:CountryID&gt;FR&lt;/ram:CountryID&gt;\n            &lt;/ram:PostalTradeAddress&gt;\n            &lt;ram:SpecifiedTaxRegistration&gt;\n               &lt;ram:ID schemeID=&quot;VA&quot;&gt;FR17143232666&lt;/ram:ID&gt;\n            &lt;/ram:SpecifiedTaxRegistration&gt;\n         &lt;/ram:SellerTradeParty&gt;\n         &lt;ram:BuyerTradeParty&gt;\n            &lt;ram:Name&gt;Client&lt;/ram:Name&gt;\n         &lt;/ram:BuyerTradeParty&gt;\n      &lt;/ram:ApplicableHeaderTradeAgreement&gt;\n      &lt;ram:ApplicableHeaderTradeDelivery/&gt;\n      &lt;ram:ApplicableHeaderTradeSettlement&gt;\n         &lt;ram:InvoiceCurrencyCode&gt;EUR&lt;/ram:InvoiceCurrencyCode&gt;\n         &lt;ram:SpecifiedTradeSettlementHeaderMonetarySummation&gt;\n            &lt;ram:TaxBasisTotalAmount&gt;200.00&lt;/ram:TaxBasisTotalAmount&gt;\n            &lt;ram:TaxTotalAmount currencyID=&quot;EUR&quot;&gt;40.00&lt;/ram:TaxTotalAmount&gt;\n            &lt;ram:GrandTotalAmount&gt;240.00&lt;/ram:GrandTotalAmount&gt;\n            &lt;ram:DuePayableAmount&gt;240.00&lt;/ram:DuePayableAmount&gt;\n         &lt;/ram:SpecifiedTradeSettlementHeaderMonetarySummation&gt;\n      &lt;/ram:ApplicableHeaderTradeSettlement&gt;\n   &lt;/rsm:SupplyChainTradeTransaction&gt;\n&lt;/rsm:CrossIndustryInvoice&gt;\n</code></pre>\n<p>My issue is that i have issues creating such attached document. Here, i do need to set :</p>\n<ul>\n<li>IssueDateTime</li>\n<li>Seller name( but constructor requires all information)</li>\n<li>Seller VAT ID</li>\n<li>Buyer name</li>\n<li>Currency</li>\n<li>Total\n<ul>\n<li>tax basis total amount</li>\n<li>tax total amount</li>\n<li>grand total amount</li>\n<li>due payable amount</li>\n</ul>\n</li>\n</ul>\n<p>I partially found out how to set the profile.</p>\n<pre><code>ZUGFeRDExporterFromA1 ze = new ZUGFeRDExporterFromA1()\n      .setProducer(&quot;My Application&quot;)\n      .setCreator(System.getProperty(&quot;user.name&quot;))\n      .setZUGFeRDVersion(2)\n      .setProfile(&quot;MINIMUM&quot;)\n      .ignorePDFAErrors()\n      .load(&quot;blanko.pdf&quot;);\n</code></pre>\n<p>I have issue concerning definig the invoice details:</p>\n<pre><code>    Invoice i = new Invoice()\n            .setIssueDate(new Date())                                                                                   \n            // .setDueDate(new Date()) ==&gt; not required\n            // .setDetailedDeliveryPeriod(new Date(), new Date()) ==&gt; not required\n            // .setDeliveryDate(new Date()) ==&gt; not required\n            .setSender(\n                    new TradeParty(&quot;ACME&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;FR&quot;)\n                            .addVATID(&quot;FR17143232666&quot;))\n            .setRecipient(\n                    new TradeParty(&quot;Client test MOA&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;)\n                            .addVATID(&quot;DE0815&quot;))\n            .setNumber(&quot;NUMFACTURE&quot;)\n            .setCurrency(&quot;EUR&quot;)\n            .setTotalPrepaidAmount(new BigDecimal(&quot;450.00&quot;));\n        ze.setTransaction(i);\n        ze.export(&quot;factur-x-min.pdf&quot;);\n</code></pre>\n<p>I didn't find how to set values for required elements in Mustang and I have null pointers exceptions concerning dates for example.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2182602,"reputation":1740,"user_id":1931740,"accept_rate":80,"display_name":"Bunti"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1459049284,"creation_date":1459048080,"answer_id":36243408,"question_id":36241163,"body_markdown":"As you&#39;re already using Spring and Spring-Data-Jpa calling `sampleRepository.save(sample);` would suffice. [save][1] method first checks to see if the passed in entity is a new entity or an existing one based on the identity value of the entity. Identity is defined by primary keys of your entity. \r\n\r\nYou can also use [EntityManager#merge][2] method. But as you&#39;re already using Spring Data, save method will internally call the merge method.\r\n\r\n\r\nIn my opinion you don&#39;t need to use `@DynamicUpdate` unless you have got so many fields to be updated but only few are actually being updated and also has many constraints with other tables.\r\n\r\nSpring BeanUtils has nothing to do with object persistence. It is mainly aimed at doing Java bean specific operations such as copying properties, finding methods of a bean, getting property descriptors etc..\r\n\r\nP.S: So you do not need to check if `sample.getId()` is null or not and fetch the record from DB with `findOne` method. Just passing `sampleRepository.save(sample)` will save/update the record.\r\n\r\n  [1]: http://docs.spring.io/spring-data/data-commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#save-S-\r\n  [2]: http://docs.oracle.com/javaee/6/api/javax/persistence/EntityManager.html#merge(T)","title":"Spring JPA: How to upsert without losing data","body":"<p>As you're already using Spring and Spring-Data-Jpa calling <code>sampleRepository.save(sample);</code> would suffice. <a href=\"http://docs.spring.io/spring-data/data-commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#save-S-\" rel=\"noreferrer\">save</a> method first checks to see if the passed in entity is a new entity or an existing one based on the identity value of the entity. Identity is defined by primary keys of your entity. </p>\n\n<p>You can also use <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/EntityManager.html#merge(T)\" rel=\"noreferrer\">EntityManager#merge</a> method. But as you're already using Spring Data, save method will internally call the merge method.</p>\n\n<p>In my opinion you don't need to use <code>@DynamicUpdate</code> unless you have got so many fields to be updated but only few are actually being updated and also has many constraints with other tables.</p>\n\n<p>Spring BeanUtils has nothing to do with object persistence. It is mainly aimed at doing Java bean specific operations such as copying properties, finding methods of a bean, getting property descriptors etc..</p>\n\n<p>P.S: So you do not need to check if <code>sample.getId()</code> is null or not and fetch the record from DB with <code>findOne</code> method. Just passing <code>sampleRepository.save(sample)</code> will save/update the record.</p>\n"},{"tags":[],"owner":{"account_id":27336076,"reputation":1,"user_id":20847480,"display_name":"Ashish Arya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671801657,"creation_date":1671801657,"answer_id":74900110,"question_id":36241163,"body_markdown":"I would prefer upsert instead of @DynamicUpdate. DynamicUpdate comes with a performance overhead and locking issues in case many requests are fired at same time.","title":"Spring JPA: How to upsert without losing data","body":"<p>I would prefer upsert instead of @DynamicUpdate. DynamicUpdate comes with a performance overhead and locking issues in case many requests are fired at same time.</p>\n"}],"owner":{"account_id":3268751,"reputation":1481,"user_id":2752615,"accept_rate":67,"display_name":"Arif Acar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43701,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":36243408,"answer_count":2,"score":21,"last_activity_date":1671801657,"creation_date":1459028138,"question_id":36241163,"body_markdown":"Is there any way for insert a new record if doesn&#39;t exist and update the record if exist without losing old data?\r\n\r\nThis is my service layer method:\r\n\r\n\tpublic void saveSample(Sample sample) {\r\n\t\tSample samplePersistent = sample;\r\n\t\t\r\n\t\tif (sample.getId() != null) {\r\n\t\t\tsamplePersistent = sampleRepository.findOne(sample.getId());\r\n\t\t\tAssert.notNull(samplePersistent, &quot;Sample entity not found with id : &quot; + sample.getId());\r\n\t\t\t\r\n\t\t\tsamplePersistent.setLocation(sample.getLocation());\r\n\t\t\tsamplePersistent.setName(sample.getName());\r\n\t\t\tsamplePersistent.setType(sample.getType());\r\n            ...\r\n            ...\r\n \r\n\t\t}\r\n\t\t\r\n\t\tsamplePersistent.cloneAuditingInfoFrom(sample);\r\n\t\tsampleRepository.save(sample);\r\n\t}\r\n\r\nI think this is useless way.\r\n\r\nCan Spring BeanUtils Class or @DynamicUpdate Annotation solve my problem?","title":"Spring JPA: How to upsert without losing data","body":"<p>Is there any way for insert a new record if doesn't exist and update the record if exist without losing old data?</p>\n\n<p>This is my service layer method:</p>\n\n<pre><code>public void saveSample(Sample sample) {\n    Sample samplePersistent = sample;\n\n    if (sample.getId() != null) {\n        samplePersistent = sampleRepository.findOne(sample.getId());\n        Assert.notNull(samplePersistent, \"Sample entity not found with id : \" + sample.getId());\n\n        samplePersistent.setLocation(sample.getLocation());\n        samplePersistent.setName(sample.getName());\n        samplePersistent.setType(sample.getType());\n        ...\n        ...\n\n    }\n\n    samplePersistent.cloneAuditingInfoFrom(sample);\n    sampleRepository.save(sample);\n}\n</code></pre>\n\n<p>I think this is useless way.</p>\n\n<p>Can Spring BeanUtils Class or @DynamicUpdate Annotation solve my problem?</p>\n"},{"tags":["java","spring","spring-boot","testing","spring-test"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":1,"creation_date":1671804440,"post_id":74900096,"comment_id":132180212,"body_markdown":"Did you have a look at [`DynamicPropertySource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/DynamicPropertySource.html) ?","body":"Did you have a look at <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/DynamicPropertySource.html\" rel=\"nofollow noreferrer\"><code>DynamicPropertySource</code></a> ?"},{"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"score":0,"creation_date":1671814635,"post_id":74900096,"comment_id":132182955,"body_markdown":"yep, just found that. should solve my problem","body":"yep, just found that. should solve my problem"}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671801520,"creation_date":1671801520,"question_id":74900096,"body_markdown":"I have a spring boot application that sends requests to external services. url and port of those services are configured using standard spring boot way - configuration properties. During integration tests i want to start my external mocks (e.g. test-container) using random free port, provide this port to spring-boot config and start the spring boot app. \r\n\r\nbut any `@SpringBootTest` requires config provided in annotation. that must be static. there is no way to provide a port this way. i need something like:\r\n\r\n```\r\nclass IntegrationTest {\r\n\r\n  static int port;\r\n\r\n  @BeforeAll\r\n  static void initialize_external_mocks() {\r\n     port = start_docker_and_get_its_port()\r\n  }\r\n\r\n  @Test\r\n  void should_call_external_service() {\r\n\r\n     start_my_spring_boot_app_with_port(port); // how to do this?\r\n\r\n     restTemplate.get(&quot;/my-spring-boot-app/request&quot;);\r\n\r\n     assert_my_docker_received_a_call_from_my_app();\r\n  }\r\n}\r\n```","title":"How to configure spring boot integration tests with random coordinates of external mocks?","body":"<p>I have a spring boot application that sends requests to external services. url and port of those services are configured using standard spring boot way - configuration properties. During integration tests i want to start my external mocks (e.g. test-container) using random free port, provide this port to spring-boot config and start the spring boot app.</p>\n<p>but any <code>@SpringBootTest</code> requires config provided in annotation. that must be static. there is no way to provide a port this way. i need something like:</p>\n<pre><code>class IntegrationTest {\n\n  static int port;\n\n  @BeforeAll\n  static void initialize_external_mocks() {\n     port = start_docker_and_get_its_port()\n  }\n\n  @Test\n  void should_call_external_service() {\n\n     start_my_spring_boot_app_with_port(port); // how to do this?\n\n     restTemplate.get(&quot;/my-spring-boot-app/request&quot;);\n\n     assert_my_docker_received_a_call_from_my_app();\n  }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1671721122,"post_id":74889408,"comment_id":132162558,"body_markdown":"What&#39;s the problem with the code you shared? Or where are you stuck in extending it?","body":"What&#39;s the problem with the code you shared? Or where are you stuck in extending it?"},{"owner":{"account_id":21806975,"reputation":7,"user_id":16105042,"display_name":"Chen Argon"},"score":0,"creation_date":1671721330,"post_id":74889408,"comment_id":132162642,"body_markdown":"I have problem with extending it. Now I want to show a new list of &quot;users&quot; whose id matches the id in &quot;favor&quot;","body":"I have problem with extending it. Now I want to show a new list of &quot;users&quot; whose id matches the id in &quot;favor&quot;"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1671723582,"post_id":74889408,"comment_id":132163534,"body_markdown":"The use-case is clear, but I&#39;m not sure where you stuck in implementing it.  Did you try anything for that already? Was there an error mesage?","body":"The use-case is clear, but I&#39;m not sure where you stuck in implementing it.  Did you try anything for that already? Was there an error mesage?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671800226,"post_id":74889408,"comment_id":132179096,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":21806975,"reputation":7,"user_id":16105042,"display_name":"Chen Argon"},"score":0,"creation_date":1671801322,"post_id":74889408,"comment_id":132179373,"body_markdown":"Sorry about late, I trying equal two keys but it&#39;s not working","body":"Sorry about late, I trying equal two keys but it&#39;s not working"}],"owner":{"account_id":21806975,"reputation":7,"user_id":16105042,"display_name":"Chen Argon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671801278,"creation_date":1671716813,"question_id":74889408,"body_markdown":"In Firebase I have the &quot;users&quot; where I save all users&#39; information.\r\n\r\nNow I want to show someone I like in the &quot;Favor&quot;. \r\n\r\nThis is &quot;Favors&quot;\r\n\r\n![https://i.stack.imgur.com/9olWt.png][1]\r\n\r\nIn &quot;Favor&quot;, only my ID and people ID I added to the favor list\r\n\r\n\r\nAnd this is &quot;users&quot;:\r\n\r\n![https://i.stack.imgur.com/IKqrz.png][2]\r\n\r\nIn &quot;users&quot;, I have all users&#39; information inside people&#39;s ID\r\n\r\n\r\n\r\nAnd this is my code to show all users\r\n\r\n\r\n\r\n```\r\ndatabase.getReference().child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        users.clear();\r\n        for(DataSnapshot snapshot1: snapshot.getChildren()){\r\n            User user= snapshot1.getValue(User.class);\r\n\r\n            if(!user.getUid().equals(FirebaseAuth.getInstance().getUid()) &amp;&amp; hasChat != null)\r\n                users.add(user);\r\n\r\n        }\r\n        binding.recyclerView.hideShimmerAdapter();\r\n        usersAdapter.notifyDataSetChanged();\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n    }\r\n});\r\n```\r\nAnd this code i&#39;m trying to show favor list, but it&#39;s show blank:\r\n\r\n     database.getReference().child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    users.clear();\r\n                    for (DataSnapshot snapshot1 : snapshot.getChildren()) {\r\n                        User user = snapshot1.getValue(User.class);\r\n\r\n                        if (!user.getUid().equals(FirebaseAuth.getInstance().getUid()) &amp;&amp; user.getUid().equals(database.getReference().child(&quot;Favors&quot;).getKey()))\r\n                            users.add(user);\r\n\r\n                    }\r\n                    binding.recyclerView.hideShimmerAdapter();\r\n                    usersAdapter.notifyDataSetChanged();\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                }\r\n            });\r\n\r\n  [1]: https://i.stack.imgur.com/9olWt.png\r\n  [2]: https://i.stack.imgur.com/IKqrz.png","title":"Show list of users with comparison two references in Android Firebase","body":"<p>In Firebase I have the &quot;users&quot; where I save all users' information.</p>\n<p>Now I want to show someone I like in the &quot;Favor&quot;.</p>\n<p>This is &quot;Favors&quot;</p>\n<p><img src=\"https://i.stack.imgur.com/9olWt.png\" alt=\"https://i.stack.imgur.com/9olWt.png\" /></p>\n<p>In &quot;Favor&quot;, only my ID and people ID I added to the favor list</p>\n<p>And this is &quot;users&quot;:</p>\n<p><img src=\"https://i.stack.imgur.com/IKqrz.png\" alt=\"https://i.stack.imgur.com/IKqrz.png\" /></p>\n<p>In &quot;users&quot;, I have all users' information inside people's ID</p>\n<p>And this is my code to show all users</p>\n<pre><code>database.getReference().child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        users.clear();\n        for(DataSnapshot snapshot1: snapshot.getChildren()){\n            User user= snapshot1.getValue(User.class);\n\n            if(!user.getUid().equals(FirebaseAuth.getInstance().getUid()) &amp;&amp; hasChat != null)\n                users.add(user);\n\n        }\n        binding.recyclerView.hideShimmerAdapter();\n        usersAdapter.notifyDataSetChanged();\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n</code></pre>\n<p>And this code i'm trying to show favor list, but it's show blank:</p>\n<pre><code> database.getReference().child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                users.clear();\n                for (DataSnapshot snapshot1 : snapshot.getChildren()) {\n                    User user = snapshot1.getValue(User.class);\n\n                    if (!user.getUid().equals(FirebaseAuth.getInstance().getUid()) &amp;&amp; user.getUid().equals(database.getReference().child(&quot;Favors&quot;).getKey()))\n                        users.add(user);\n\n                }\n                binding.recyclerView.hideShimmerAdapter();\n                usersAdapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-camel","spring-boot-actuator"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1636814696,"post_id":69950499,"comment_id":123660285,"body_markdown":"Hi&amp;Welcome to [SO]! What you show is rather `.properties` syntax not `.yaml`. But generally I would solve your problem by: 1. fix/ensure working camel path (on `/api-context`) 2. Set  `management.endpoints.web.base-path: /api-context/actuator/**` (assuming `server.servlet.context-path=/`)","body":"Hi&amp;Welcome to <a href=\"https://stackoverflow.com\">Stack Overflow</a>! What you show is rather <code>.properties</code> syntax not <code>.yaml</code>. But generally I would solve your problem by: 1. fix/ensure working camel path (on <code>&#47;api-context</code>) 2. Set  <code>management.endpoints.web.base-path: &#47;api-context&#47;actuator&#47;**</code> (assuming <code>server.servlet.context-path=&#47;</code>)"},{"owner":{"account_id":23301548,"reputation":55,"user_id":17382114,"display_name":"Italo Vieira "},"score":0,"creation_date":1637024998,"post_id":69950499,"comment_id":123709609,"body_markdown":"@xerx593, thank you so much! I&#39;ve tried this, but when I run actuator, returns 404.\n\nlocalhost:8080/api/actuator = 404\n\n`camel.component.servlet.mapping.contextPath: /api/*` \n`server.servlet.context-path: /`\n`management.endpoints.web.base-path: /api/actuator/**`","body":"@xerx593, thank you so much! I&#39;ve tried this, but when I run actuator, returns 404.  localhost:8080/api/actuator = 404  <code>camel.component.servlet.mapping.contextPath: &#47;api&#47;*</code>  <code>server.servlet.context-path: &#47;</code> <code>management.endpoints.web.base-path: &#47;api&#47;actuator&#47;**</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1637048572,"post_id":69950499,"comment_id":123714296,"body_markdown":"please also share your camel/springboot version","body":"please also share your camel/springboot version"},{"owner":{"account_id":23301548,"reputation":55,"user_id":17382114,"display_name":"Italo Vieira "},"score":0,"creation_date":1637065173,"post_id":69950499,"comment_id":123720745,"body_markdown":"camel 3.4.0, spring 2.3.1","body":"camel 3.4.0, spring 2.3.1"}],"owner":{"account_id":23301548,"reputation":55,"user_id":17382114,"display_name":"Italo Vieira "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671801264,"creation_date":1636763904,"question_id":69950499,"body_markdown":"I&#39;m trying to utilize Spring Boot Actuator but utilizing the same context-path from camel, is that possible?\r\n\r\nhere I set the context_path in camel\r\n\r\napplication.yml\r\n\r\n    camel.component.servlet.mapping.contextPath: ${CONTEXT_PATH}\r\n\r\nI&#39;ve tried many ways \r\n\r\n    server.servlet.context-path: ${CONTEXT_PATH}\r\n\r\nbut this way doesn&#39;t found camel route.\r\n\r\n    management.endpoint.health.show-details: &#39;always&#39;\r\n    management.endpoints.web.base-path: ${CONTEXT_PATH}/actuator/**\r\n\r\nthis way returns 404.\r\n\r\nMy camel path is\r\n\r\n    localhost:8080/api-context\r\n\r\nAnd I need to utilize Actuator and Health in\r\n\r\n    localhost:8080/api-context/actuator\r\n    localhost:8080/api-context/actuator/health","title":"Spring Boot Actuator in same contextPath from camel","body":"<p>I'm trying to utilize Spring Boot Actuator but utilizing the same context-path from camel, is that possible?</p>\n<p>here I set the context_path in camel</p>\n<p>application.yml</p>\n<pre><code>camel.component.servlet.mapping.contextPath: ${CONTEXT_PATH}\n</code></pre>\n<p>I've tried many ways</p>\n<pre><code>server.servlet.context-path: ${CONTEXT_PATH}\n</code></pre>\n<p>but this way doesn't found camel route.</p>\n<pre><code>management.endpoint.health.show-details: 'always'\nmanagement.endpoints.web.base-path: ${CONTEXT_PATH}/actuator/**\n</code></pre>\n<p>this way returns 404.</p>\n<p>My camel path is</p>\n<pre><code>localhost:8080/api-context\n</code></pre>\n<p>And I need to utilize Actuator and Health in</p>\n<pre><code>localhost:8080/api-context/actuator\nlocalhost:8080/api-context/actuator/health\n</code></pre>\n"},{"tags":["java","web-services","soap","apache-axis","axiom"],"answers":[{"tags":[],"owner":{"account_id":928670,"reputation":8964,"user_id":958954,"display_name":"Andreas Veithen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671801248,"creation_date":1671801248,"answer_id":74900063,"question_id":74640711,"body_markdown":"`NodeUnavailableException` indicates that the body of the SOAP message has already been consumed, most likely by a data binding that converted it to a Java object (Unfortunately you only showed part of the stack trace, so it&#39;s not possible to tell that from the information provided).\r\n\r\nRegarding the right solution for this problem: that depends on what you are actually trying to achieve (This might be an [XY problem](https://en.wikipedia.org/wiki/XY_problem)).","title":"Hot to get SOAPBody String in axis2","body":"<p><code>NodeUnavailableException</code> indicates that the body of the SOAP message has already been consumed, most likely by a data binding that converted it to a Java object (Unfortunately you only showed part of the stack trace, so it's not possible to tell that from the information provided).</p>\n<p>Regarding the right solution for this problem: that depends on what you are actually trying to achieve (This might be an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>).</p>\n"}],"owner":{"account_id":24992835,"reputation":3,"user_id":20381955,"display_name":"Bohdan Hrytsai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74900063,"answer_count":1,"score":0,"last_activity_date":1671801248,"creation_date":1669891944,"question_id":74640711,"body_markdown":"guys!\r\nI am trying to get String of SOAPBody object request.\r\nI am using axis2 and Tomcat 9 for web-services.\r\n\r\n\r\n```\r\npublic static String getXMLSoapBody()\r\n{\r\n   log.getLogger().debug(&quot;TEST - getXmlSoapBody - START&quot;);\r\n   String soapBody;\r\n   SOAPBody body;\r\n   MessageContext messageContext = MessageContext.getCurrentMessageContext();\r\n   try {\r\n      SOAPEnvelope env  = messageContext.getEnvelope();\r\n      body = env.getBody();\r\n   }\r\n   catch(Exception e)\r\n   {\r\n      log.getLogger().error(&quot;SOAP Exception :&quot; + e.toString());\r\n      e.printStackTrace();\r\n\r\n      return null;\r\n   }\r\n\r\n   soapBody = body.toString();\r\n\r\nreturn soapBody;\r\n```\r\n\r\nBut when I am sending request I get this error:\r\ncatalina.out:\r\n10:41:26.935 [http-nio-8080-exec-2] ERROR org.apache.axis2.transport.http.AxisServlet - processAxisFault() found a null HTTP status from the MessageContext instance, setting HttpServletResponse status to: axis2.http.response.state\r\n\r\nmy log file:\r\n2022-12-01 10:41:26 [http-nio-8080-exec-2] (TransUtils.java:287) DEBUG TEST - getXmlSoapBody - START \r\n\r\n\r\nI tried to see full stacktrace of this, but when I trying to use try/catch for soapBody = body.toString(); line I am getting this error but the previous one is not:\r\n\r\n\r\n```\r\norg.apache.axiom.om.NodeUnavailableException\r\n\tat org.apache.axiom.om.impl.common.AxiomExceptionTranslator.translate(AxiomExceptionTranslator.java:35)\r\n\tat org.apache.axiom.om.impl.llom.AxiomContainerImpl.serialize(Unknown Source)\r\n\tat org.apache.axiom.om.impl.llom.AxiomContainerImpl.serializeAndSurfaceIOException(Unknown Source)\r\n\tat org.apache.axiom.om.impl.llom.AxiomContainerImpl.serialize(Unknown Source)\r\n\tat org.apache.axiom.om.impl.llom.AxiomContainerImpl.serialize(Unknown Source)\r\n\tat org.apache.axiom.om.impl.llom.AxiomContainerImpl.serialize(Unknown Source)\r\n\tat org.apache.axiom.om.impl.llom.AxiomElementImpl.toString(Unknown Source)\r\n\tat uk.co.celesio.orders.server.TransUtils.getXMLSoapBody(TransUtils.java:304)\r\n\r\n```\r\n\r\nMy request:\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;windows-1252&#39;?&gt;\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n  &lt;soapenv:Body&gt;\r\n    &lt;MyTestRequest xmlns=&quot;...&quot;&gt;\r\n      ...\r\n    &lt;/MyTestRequest&gt;\r\n  &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\nTried to use try/catch to see full error, also tried to log this, but in both cases I am getting NodeUnavailableException\r\n","title":"Hot to get SOAPBody String in axis2","body":"<p>guys!\nI am trying to get String of SOAPBody object request.\nI am using axis2 and Tomcat 9 for web-services.</p>\n<pre><code>public static String getXMLSoapBody()\n{\n   log.getLogger().debug(&quot;TEST - getXmlSoapBody - START&quot;);\n   String soapBody;\n   SOAPBody body;\n   MessageContext messageContext = MessageContext.getCurrentMessageContext();\n   try {\n      SOAPEnvelope env  = messageContext.getEnvelope();\n      body = env.getBody();\n   }\n   catch(Exception e)\n   {\n      log.getLogger().error(&quot;SOAP Exception :&quot; + e.toString());\n      e.printStackTrace();\n\n      return null;\n   }\n\n   soapBody = body.toString();\n\nreturn soapBody;\n</code></pre>\n<p>But when I am sending request I get this error:\ncatalina.out:\n10:41:26.935 [http-nio-8080-exec-2] ERROR org.apache.axis2.transport.http.AxisServlet - processAxisFault() found a null HTTP status from the MessageContext instance, setting HttpServletResponse status to: axis2.http.response.state</p>\n<p>my log file:\n2022-12-01 10:41:26 [http-nio-8080-exec-2] (TransUtils.java:287) DEBUG TEST - getXmlSoapBody - START</p>\n<p>I tried to see full stacktrace of this, but when I trying to use try/catch for soapBody = body.toString(); line I am getting this error but the previous one is not:</p>\n<pre><code>org.apache.axiom.om.NodeUnavailableException\n    at org.apache.axiom.om.impl.common.AxiomExceptionTranslator.translate(AxiomExceptionTranslator.java:35)\n    at org.apache.axiom.om.impl.llom.AxiomContainerImpl.serialize(Unknown Source)\n    at org.apache.axiom.om.impl.llom.AxiomContainerImpl.serializeAndSurfaceIOException(Unknown Source)\n    at org.apache.axiom.om.impl.llom.AxiomContainerImpl.serialize(Unknown Source)\n    at org.apache.axiom.om.impl.llom.AxiomContainerImpl.serialize(Unknown Source)\n    at org.apache.axiom.om.impl.llom.AxiomContainerImpl.serialize(Unknown Source)\n    at org.apache.axiom.om.impl.llom.AxiomElementImpl.toString(Unknown Source)\n    at uk.co.celesio.orders.server.TransUtils.getXMLSoapBody(TransUtils.java:304)\n\n</code></pre>\n<p>My request:</p>\n<pre><code>&lt;?xml version='1.0' encoding='windows-1252'?&gt;\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n  &lt;soapenv:Body&gt;\n    &lt;MyTestRequest xmlns=&quot;...&quot;&gt;\n      ...\n    &lt;/MyTestRequest&gt;\n  &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>Tried to use try/catch to see full error, also tried to log this, but in both cases I am getting NodeUnavailableException</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1671752749,"post_id":74880235,"comment_id":132170866,"body_markdown":"You say `java database - DERBY`, but use `jdbc:mysql` , Why ?","body":"You say <code>java database - DERBY</code>, but use <code>jdbc:mysql</code> , Why ?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1671754773,"post_id":74880235,"comment_id":132171152,"body_markdown":"Put `mysql-connector-j-8.0.31.jar` in tomcat  `lib` directory.","body":"Put <code>mysql-connector-j-8.0.31.jar</code> in tomcat  <code>lib</code> directory."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671785350,"post_id":74880235,"comment_id":132175365,"body_markdown":"If you use Derby as you say, why are you trying to connect to MySQL. Use the correct JDBC URL for derby.","body":"If you use Derby as you say, why are you trying to connect to MySQL. Use the correct JDBC URL for derby."}],"answers":[{"tags":[],"owner":{"account_id":15433020,"reputation":24,"user_id":11726419,"display_name":"ga_ts"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1671800633,"creation_date":1671648637,"answer_id":74880560,"question_id":74880235,"body_markdown":"You might have not added the MySQL JDBC Driver to your IDE&#39;s classpath. Since you&#39;re using Eclipse, here&#39;s an approach you could try:\r\n\r\nGo to https://www.mysql.com/products/connector/ and download the latest version of the MySQL Connector by selecting your system specs.\r\n\r\n 1. Go to your project in your IDE and right-click it. Then go to Build Path -&gt; Configure Build Path. \r\n 2. Click on Add External JARs and go to the location where you downloaded the MySQL Connector.\r\n 3. Select the MySQL Connector and open it. The JAR file will be added to your project&#39;s build path.\r\n 4. Click on apply and close. Run your application again and the problem should be gone.\r\n\r\nEdit:\r\n\r\nAs Mark pointed out (thanks!), you said you&#39;re using Derby as your database.\r\n\r\nSo, the above steps won&#39;t work indeed.\r\n\r\nHere&#39;s what you can do do try to solve your issue:\r\n\r\nFirst of all, you&#39;re declaring \r\n\r\n    String url = &quot;jdbc:mysql://localhost:3306/testing&quot;; \r\n\r\nSince you&#39;re using derby, you should do something like this\r\n\r\n    private static String databaseUrl = &quot;jdbc:derby://localhost:1527/yourDatabase;create=true;user=your_user;password=your_password&quot;;\r\n    \r\n    private static void createConnection()\r\n    {\r\n        try\r\n        {\r\n            Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;).newInstance();\r\n            // gets a connection\r\n            connection = DriverManager.getConnection(databaseUrl); \r\n        }\r\n        catch (Exception except)\r\n        {\r\n            except.printStackTrace();\r\n        }\r\n    }\r\n\r\nDocumentation reference: https://db.apache.org/derby/integrate/plugin_help/start_toc.html\r\n\r\nHope this solves your issue!\r\n","title":"How to deploy JDBC jar file in my eclipse?","body":"<p>You might have not added the MySQL JDBC Driver to your IDE's classpath. Since you're using Eclipse, here's an approach you could try:</p>\n<p>Go to <a href=\"https://www.mysql.com/products/connector/\" rel=\"nofollow noreferrer\">https://www.mysql.com/products/connector/</a> and download the latest version of the MySQL Connector by selecting your system specs.</p>\n<ol>\n<li>Go to your project in your IDE and right-click it. Then go to Build Path -&gt; Configure Build Path.</li>\n<li>Click on Add External JARs and go to the location where you downloaded the MySQL Connector.</li>\n<li>Select the MySQL Connector and open it. The JAR file will be added to your project's build path.</li>\n<li>Click on apply and close. Run your application again and the problem should be gone.</li>\n</ol>\n<p>Edit:</p>\n<p>As Mark pointed out (thanks!), you said you're using Derby as your database.</p>\n<p>So, the above steps won't work indeed.</p>\n<p>Here's what you can do do try to solve your issue:</p>\n<p>First of all, you're declaring</p>\n<pre><code>String url = &quot;jdbc:mysql://localhost:3306/testing&quot;; \n</code></pre>\n<p>Since you're using derby, you should do something like this</p>\n<pre><code>private static String databaseUrl = &quot;jdbc:derby://localhost:1527/yourDatabase;create=true;user=your_user;password=your_password&quot;;\n\nprivate static void createConnection()\n{\n    try\n    {\n        Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;).newInstance();\n        // gets a connection\n        connection = DriverManager.getConnection(databaseUrl); \n    }\n    catch (Exception except)\n    {\n        except.printStackTrace();\n    }\n}\n</code></pre>\n<p>Documentation reference: <a href=\"https://db.apache.org/derby/integrate/plugin_help/start_toc.html\" rel=\"nofollow noreferrer\">https://db.apache.org/derby/integrate/plugin_help/start_toc.html</a></p>\n<p>Hope this solves your issue!</p>\n"}],"owner":{"display_name":"user20658000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1562,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74880560,"answer_count":1,"score":1,"last_activity_date":1671801071,"creation_date":1671646605,"question_id":74880235,"body_markdown":"I am new to eclipse and java full stack. I want to make a project in java full-stack.\r\n\r\nFor the front-end part - HTML, CSS, JavaScript \\\r\nFor the back-end part - Java \\\r\ndatabase - Derby \\\r\nserver - Tomcat\r\n\r\nI have successfully completed the front-end and server installation. I am stuck at JDBC.\r\n\r\nHow I tried to deploy JDBC:\r\n\r\n1) created Dynamic web app\r\n2) tried to bring jdbc.jar file in WEB-INF/lib (didn&#39;t work).\r\nother process - Build path/configure build path/classpath/add jar file\r\n\r\n3) tried this code:\r\n\r\n```\r\npackage testing; import java.sql.Connection;\r\n\r\npublic class check {\r\n\r\npublic static void main(String[] args) {\r\n\r\nConnection dbConnection = null;\r\n\r\ntry {\r\n\r\nString url = &quot;jdbc:mysql://localhost:3306/testing&quot;;\r\n\r\nProperties info = new Properties();\r\n\r\ninfo.put(&quot;user&quot;, &quot;root&quot;); info.put(&quot;password&quot;, &quot;test&quot;);\r\n\r\ndbConnection = DriverManager.getConnection(url, info);\r\n\r\nif (dbConnection != null) {\r\n\r\nSystem.out.println(&quot;Successfully connected to MySQL database test&quot;);\r\n\r\n}\r\n\r\n} catch (SQLException ex) {\r\n\r\nSystem.out.println(&quot;An error occurred while connecting MySQL databse&quot;);\r\n\r\nex.printStackTrace();package testing; import java.sql.Connection;\r\n\r\npublic class check {\r\n\r\npublic static void main(String[] args) {\r\n\r\nConnection dbConnection = null;\r\n\r\ntry {\r\n\r\nString url = &quot;jdbc:mysql://localhost:3306/testing&quot;;\r\n\r\nProperties info = new Properties();\r\n\r\ninfo.put(&quot;user&quot;, &quot;root&quot;); info.put(&quot;password&quot;, &quot;test&quot;);\r\n\r\ndbConnection = DriverManager.getConnection(url, info);\r\n\r\nif (dbConnection != null) {\r\n\r\nSystem.out.println(&quot;Successfully connected to MySQL database test&quot;);\r\n\r\n}\r\n\r\n} catch (SQLException ex) {\r\n\r\nSystem.out.println(&quot;An error occurred while connecting MySQL databse&quot;);\r\n\r\nex.printStackTrace();\r\n```\r\n\r\nError I am get:\r\n\r\n\r\n&gt; An error occurred while connecting MySQL databse\r\n&gt; java.sql.SQLException: No suitable driver found for\r\n&gt; jdbc:mysql://localhost:3306/te\r\n\r\n\r\n","title":"How to deploy JDBC jar file in my eclipse?","body":"<p>I am new to eclipse and java full stack. I want to make a project in java full-stack.</p>\n<p>For the front-end part - HTML, CSS, JavaScript <br />\nFor the back-end part - Java <br />\ndatabase - Derby <br />\nserver - Tomcat</p>\n<p>I have successfully completed the front-end and server installation. I am stuck at JDBC.</p>\n<p>How I tried to deploy JDBC:</p>\n<ol>\n<li><p>created Dynamic web app</p>\n</li>\n<li><p>tried to bring jdbc.jar file in WEB-INF/lib (didn't work).\nother process - Build path/configure build path/classpath/add jar file</p>\n</li>\n<li><p>tried this code:</p>\n</li>\n</ol>\n<pre><code>package testing; import java.sql.Connection;\n\npublic class check {\n\npublic static void main(String[] args) {\n\nConnection dbConnection = null;\n\ntry {\n\nString url = &quot;jdbc:mysql://localhost:3306/testing&quot;;\n\nProperties info = new Properties();\n\ninfo.put(&quot;user&quot;, &quot;root&quot;); info.put(&quot;password&quot;, &quot;test&quot;);\n\ndbConnection = DriverManager.getConnection(url, info);\n\nif (dbConnection != null) {\n\nSystem.out.println(&quot;Successfully connected to MySQL database test&quot;);\n\n}\n\n} catch (SQLException ex) {\n\nSystem.out.println(&quot;An error occurred while connecting MySQL databse&quot;);\n\nex.printStackTrace();package testing; import java.sql.Connection;\n\npublic class check {\n\npublic static void main(String[] args) {\n\nConnection dbConnection = null;\n\ntry {\n\nString url = &quot;jdbc:mysql://localhost:3306/testing&quot;;\n\nProperties info = new Properties();\n\ninfo.put(&quot;user&quot;, &quot;root&quot;); info.put(&quot;password&quot;, &quot;test&quot;);\n\ndbConnection = DriverManager.getConnection(url, info);\n\nif (dbConnection != null) {\n\nSystem.out.println(&quot;Successfully connected to MySQL database test&quot;);\n\n}\n\n} catch (SQLException ex) {\n\nSystem.out.println(&quot;An error occurred while connecting MySQL databse&quot;);\n\nex.printStackTrace();\n</code></pre>\n<p>Error I am get:</p>\n<blockquote>\n<p>An error occurred while connecting MySQL databse\njava.sql.SQLException: No suitable driver found for\njdbc:mysql://localhost:3306/te</p>\n</blockquote>\n"},{"tags":["java","spire.doc","spire.xls"],"owner":{"account_id":27335851,"reputation":1,"user_id":20847299,"display_name":"1PPi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671800856,"creation_date":1671800856,"question_id":74899991,"body_markdown":"I want to use SpirePDF to help me make a digital signature for PDF file. However, when I use OpenSSL generate a pfx file and try in a demo, I got an error like\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;com.spire.pdf.packages.spreyb.spr  (int)&quot; because the return value of &quot;com.spire.pdf.packages.spreyb.spr  (int, byte)&quot; is null\r\n\r\n\tat com.spire.pdf.packages.sprwxb.spr (clc:127)\r\n\tat com.spire.pdf.packages.sprwxb.&lt;init&gt;(clc:0)\r\n\tat com.spire.ms.System.Security.Cryptography.X509Certificates.X509Certificate.spr  (clc:4)\r\n\tat com.spire.ms.System.Security.Cryptography.X509Certificates.X509Certificate2.spr  (oic:399)\r\n\tat com.spire.ms.System.Security.Cryptography.X509Certificates.X509Certificate2.spr  (oic:427)\r\n\tat com.spire.ms.System.Security.Cryptography.X509Certificates.X509Certificate2.&lt;init&gt;(oic:149)\r\n\tat com.spire.pdf.security.PdfCertificate.&lt;init&gt;(Unknown Source)\r\n```\r\n\r\nThe following is my java code:\r\n```\r\nString pdfPath = &quot;target/test-classes/Input.pdf&quot;;\r\nString pfxCertPath = &quot;target/test-classes/1.pfx&quot;;\r\nString pfxCertPasswd = &quot;131110&quot;;\r\n\r\nPdfDocument doc = new PdfDocument();\r\ndoc.loadFromFile(pdfPath);\r\nPdfCertificate cert = new PdfCertificate(pfxCertPath,pfxCertPasswd);\r\n```\r\n\r\n\r\n\r\nI found that few people meet this problem, so I don&#39;t know how to resolve it by myself.\r\nI also ask in E-iceblue forum, the group member told me that maybe my .pfx file has some wrong as they test my code with their .pfx file can run successfully.\r\nSo, if there anyone who knows about this? or anyone used try this successfully? I really need your help. How can I generate a properate .pfx file?","title":"SpirePDF: I can&#39;t new PdfCertificate() because I don&#39;t know how to generate .pfx file correctly","body":"<p>I want to use SpirePDF to help me make a digital signature for PDF file. However, when I use OpenSSL generate a pfx file and try in a demo, I got an error like</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;com.spire.pdf.packages.spreyb.spr  (int)&quot; because the return value of &quot;com.spire.pdf.packages.spreyb.spr  (int, byte)&quot; is null\n\n    at com.spire.pdf.packages.sprwxb.spr (clc:127)\n    at com.spire.pdf.packages.sprwxb.&lt;init&gt;(clc:0)\n    at com.spire.ms.System.Security.Cryptography.X509Certificates.X509Certificate.spr  (clc:4)\n    at com.spire.ms.System.Security.Cryptography.X509Certificates.X509Certificate2.spr  (oic:399)\n    at com.spire.ms.System.Security.Cryptography.X509Certificates.X509Certificate2.spr  (oic:427)\n    at com.spire.ms.System.Security.Cryptography.X509Certificates.X509Certificate2.&lt;init&gt;(oic:149)\n    at com.spire.pdf.security.PdfCertificate.&lt;init&gt;(Unknown Source)\n</code></pre>\n<p>The following is my java code:</p>\n<pre><code>String pdfPath = &quot;target/test-classes/Input.pdf&quot;;\nString pfxCertPath = &quot;target/test-classes/1.pfx&quot;;\nString pfxCertPasswd = &quot;131110&quot;;\n\nPdfDocument doc = new PdfDocument();\ndoc.loadFromFile(pdfPath);\nPdfCertificate cert = new PdfCertificate(pfxCertPath,pfxCertPasswd);\n</code></pre>\n<p>I found that few people meet this problem, so I don't know how to resolve it by myself.\nI also ask in E-iceblue forum, the group member told me that maybe my .pfx file has some wrong as they test my code with their .pfx file can run successfully.\nSo, if there anyone who knows about this? or anyone used try this successfully? I really need your help. How can I generate a properate .pfx file?</p>\n"},{"tags":["java","jersey","dropwizard","eof","hk2"],"answers":[{"tags":[],"owner":{"account_id":24101649,"reputation":41,"user_id":18073402,"display_name":"ALEX ALMAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670491470,"creation_date":1670491470,"answer_id":74728039,"question_id":74727822,"body_markdown":"The error &quot;Early EOF&quot; could be because the server is triggering the error because it has reached the end of the stream on the request body content. Upgrade to the latest Jersey version and ensure the Client side properly uses HTTP. And try uploading files in chunks or trace if the upload file Size has something to do with the Error.","title":"Jersey. EOF on upoad operation : java.lang.IllegalStateException: Unable to perform operation: resolve on xxx.UploadFileData","body":"<p>The error &quot;Early EOF&quot; could be because the server is triggering the error because it has reached the end of the stream on the request body content. Upgrade to the latest Jersey version and ensure the Client side properly uses HTTP. And try uploading files in chunks or trace if the upload file Size has something to do with the Error.</p>\n"},{"tags":[],"owner":{"account_id":1777732,"reputation":23,"user_id":1621183,"display_name":"Valor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671800423,"creation_date":1671800423,"answer_id":74899928,"question_id":74727822,"body_markdown":"Yes, as it turned out the problem is really on the client side. For some reason, the multipart query data was getting corrupted. Unfortunately, it&#39;s impossible to figure out why this is happening.","title":"Jersey. EOF on upoad operation : java.lang.IllegalStateException: Unable to perform operation: resolve on xxx.UploadFileData","body":"<p>Yes, as it turned out the problem is really on the client side. For some reason, the multipart query data was getting corrupted. Unfortunately, it's impossible to figure out why this is happening.</p>\n"}],"owner":{"account_id":1777732,"reputation":23,"user_id":1621183,"display_name":"Valor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74728039,"answer_count":2,"score":2,"last_activity_date":1671800423,"creation_date":1670490350,"question_id":74727822,"body_markdown":"In general, not so long ago we encountered a problem, for some reason, all attempts to upload a file for a client fail. On the back we get an exception:\r\n\r\n* Jersey 2.33\r\n* Dropwizard 2.0.28\r\n\r\n```\r\nMultiException stack 1 of 15\r\norg.glassfish.jersey.server.internal.process.MappableException: org.eclipse.jetty.io.EofException: Early EOF\r\n\tat org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundReadFrom(MappableExceptionWrapperInterceptor.java:53)\r\n\tat org.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:132)\r\n\tat org.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1072)\r\n\tat org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:885)\r\n\tat org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:819)\r\n\tat org.glassfish.jersey.server.ContainerRequest.readEntity(ContainerRequest.java:245)\r\n\tat org.glassfish.jersey.media.multipart.internal.FormDataParamValueParamProvider$ValueProvider.getEntity(FormDataParamValueParamProvider.java:84)\r\n\tat org.glassfish.jersey.media.multipart.internal.FormDataParamValueParamProvider$FormDataParamValueProvider.apply(FormDataParamValueParamProvider.java:235)\r\n\tat org.glassfish.jersey.media.multipart.internal.FormDataParamValueParamProvider$FormDataParamValueProvider.apply(FormDataParamValueParamProvider.java:222)\r\n\tat org.glassfish.jersey.server.internal.inject.ParamInjectionResolver.resolve(ParamInjectionResolver.java:97)\r\n\tat org.glassfish.jersey.inject.hk2.InjectionResolverWrapper.resolve(InjectionResolverWrapper.java:62)\r\n\tat org.jvnet.hk2.internal.ClazzCreator.resolve(ClazzCreator.java:188)\r\n\tat org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:211)\r\n\tat org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:334)\r\n\tat org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)\r\n\tat org.glassfish.jersey.inject.hk2.RequestContext.findOrCreate(RequestContext.java:59)\r\n\tat org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)\r\n\tat org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:758)\r\n\tat org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:721)\r\n\tat org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:691)\r\n\tat org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getInstance(AbstractHk2InjectionManager.java:160)\r\n\tat org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getInstance(ImmediateHk2InjectionManager.java:30)\r\n\tat org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:68)\r\n\tat org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:44)\r\n\tat org.glassfish.jersey.server.spi.internal.ParamValueFactoryWithSource.apply(ParamValueFactoryWithSource.java:50)\r\n\tat org.glassfish.jersey.server.spi.internal.ParameterValueHelper.getParameterValues(ParameterValueHelper.java:64)\r\n\t....\r\n\t\r\nMultiException stack 13 of 15\r\njava.lang.IllegalStateException: Entity input stream has already been closed.\r\n\tat org.glassfish.jersey.message.internal.EntityInputStream.ensureNotClosed(EntityInputStream.java:205)\r\n\tat org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:865)\r\n\tat org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:819)\r\n\tat org.glassfish.jersey.server.ContainerRequest.readEntity(ContainerRequest.java:245)\r\n\tat org.glassfish.jersey.media.multipart.internal.FormDataParamValueParamProvider$ValueProvider.getEntity(FormDataParamValueParamProvider.java:84)\r\n\tat org.glassfish.jersey.media.multipart.internal.FormDataParamValueParamProvider$FormDataParamValueProvider.apply(FormDataParamValueParamProvider.java:235)\r\n\tat org.glassfish.jersey.media.multipart.internal.FormDataParamValueParamProvider$FormDataParamValueProvider.apply(FormDataParamValueParamProvider.java:222)\r\n\tat org.glassfish.jersey.server.internal.inject.ParamInjectionResolver.resolve(ParamInjectionResolver.java:97)\r\n\tat org.glassfish.jersey.inject.hk2.InjectionResolverWrapper.resolve(InjectionResolverWrapper.java:62)\r\n\tat org.jvnet.hk2.internal.ClazzCreator.resolve(ClazzCreator.java:188)\r\n\tat org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:211)\r\n\tat org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:334)\r\n\tat org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)\r\n\tat org.glassfish.jersey.inject.hk2.RequestContext.findOrCreate(RequestContext.java:59)\r\n\tat org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)\r\n\tat org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:758)\r\n\tat org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:721)\r\n\tat org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:691)\r\n\tat org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getInstance(AbstractHk2InjectionManager.java:160)\r\n\tat org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getInstance(ImmediateHk2InjectionManager.java:30)\r\n\tat org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:68)\r\n\tat org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:44)\r\n\tat org.glassfish.jersey.server.spi.internal.ParamValueFactoryWithSource.apply(ParamValueFactoryWithSource.java:50)\r\n\tat org.glassfish.jersey.server.spi.internal.ParameterValueHelper.getParameterValues(ParameterValueHelper.java:64)\r\n\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$AbstractMethodParamInvoker.getParamValues(JavaResourceMethodDispatcherProvider.java:109)\r\n\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n\tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\r\n\tat org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\r\n\tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1631)\r\n\tat io.dropwizard.servlets.ThreadNameFilter.doFilter(ThreadNameFilter.java:35)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n\tat io.dropwizard.jersey.filter.AllowedMethodsFilter.handle(AllowedMethodsFilter.java:47)\r\n\tat io.dropwizard.jersey.filter.AllowedMethodsFilter.doFilter(AllowedMethodsFilter.java:41)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n\tat org.eclipse.jetty.servlets.CrossOriginFilter.handle(CrossOriginFilter.java:319)\r\n\tat org.eclipse.jetty.servlets.CrossOriginFilter.doFilter(CrossOriginFilter.java:273)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n\tat com.google.inject.servlet.DefaultFilterPipeline.dispatch(DefaultFilterPipeline.java:47)\r\n\tat com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:133)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1434)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1349)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:313)\r\n\tat io.dropwizard.jetty.RoutingHandler.handle(RoutingHandler.java:52)\r\n\tat org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:713)\r\n\tat org.eclipse.jetty.server.handler.StatisticsHandler.handle(StatisticsHandler.java:179)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:400)\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:645)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:392)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131)\r\n\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nMultiException stack 14 of 15\r\njava.lang.IllegalArgumentException: While attempting to resolve the dependencies of com.xxxxxx.document.UploadDocumentCmd errors were found\r\n\tat org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:224)\r\n\tat org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:334)\r\n\tat org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)\r\n\tat org.glassfish.jersey.inject.hk2.RequestContext.findOrCreate(RequestContext.java:59)\r\n\tat org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)\r\n\tat org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:758)\r\n\tat org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:721)\r\n\tat org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:691)\r\n\tat org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getInstance(AbstractHk2InjectionManager.java:160)\r\n\tat org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getInstance(ImmediateHk2InjectionManager.java:30)\r\n\tat org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:68)\r\n\tat org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:44)\r\n\tat org.glassfish.jersey.server.spi.internal.ParamValueFactoryWithSource.apply(ParamValueFactoryWithSource.java:50)\r\n\tat org.glassfish.jersey.server.spi.internal.ParameterValueHelper.getParameterValues(ParameterValueHelper.java:64)\r\n\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$AbstractMethodParamInvoker.getParamValues(JavaResourceMethodDispatcherProvider.java:109)\r\n\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n\tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\r\n\tat org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\r\n\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131)\r\n\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nMultiException stack 15 of 15\r\njava.lang.IllegalStateException: Unable to perform operation: resolve on xxx.xxxxx.xxxxx.UploadDocumentCmd\r\n\tat org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:363)\r\n\tat org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)\r\n\tat org.glassfish.jersey.inject.hk2.RequestContext.findOrCreate(RequestContext.java:59)\r\n\tat org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)\r\n\tat org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:758)\r\n\tat org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:721)\r\n\tat org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:691)\r\n\tat org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getInstance(AbstractHk2InjectionManager.java:160)\r\n\tat org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getInstance(ImmediateHk2InjectionManager.java:30)\r\n\tat org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:68)\r\n\tat org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:44)\r\n\tat org.glassfish.jersey.server.spi.internal.ParamValueFactoryWithSource.apply(ParamValueFactoryWithSource.java:50)\r\n\tat org.glassfish.jersey.server.spi.internal.ParameterValueHelper.getParameterValues(ParameterValueHelper.java:64)\r\n\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$AbstractMethodParamInvoker.getParamValues(JavaResourceMethodDispatcherProvider.java:109)\r\n\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n\tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\r\n\tat org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\r\n\tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1631)\r\n\tat io.dropwizard.servlets.ThreadNameFilter.doFilter(ThreadNameFilter.java:35)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n\tat io.dropwizard.jersey.filter.AllowedMethodsFilter.handle(AllowedMethodsFilter.java:47)\r\n\tat io.dropwizard.jersey.filter.AllowedMethodsFilter.doFilter(AllowedMethodsFilter.java:41)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n\tat org.eclipse.jetty.servlets.CrossOriginFilter.handle(CrossOriginFilter.java:319)\r\n\tat org.eclipse.jetty.servlets.CrossOriginFilter.doFilter(CrossOriginFilter.java:273)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n\tat com.google.inject.servlet.DefaultFilterPipeline.dispatch(DefaultFilterPipeline.java:47)\r\n\tat com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:133)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1434)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1349)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:313)\r\n\tat io.dropwizard.jetty.RoutingHandler.handle(RoutingHandler.java:52)\r\n```\r\n\r\nFull stack trace in pastebin https://pastebin.com/DXi0vw17\r\n\r\n\r\nStrange thing, but this error occurs only for one client. It is clear that the problem is not in the application logic, since judging by the exception, the error occurs at the DI (HK2) level.\r\n\r\nInterestingly, the bean that XK2 swears at (UploadDocumentCmd) is the most ordinary bean.\r\n\r\nI would be grateful if you tell me where to dig, and how to explain this problem.\r\n\r\nThanks for any help\r\n\r\nNothing abnormal was found in the logs. It is not yet possible to catch a request from a client at the level of http packets.","title":"Jersey. EOF on upoad operation : java.lang.IllegalStateException: Unable to perform operation: resolve on xxx.UploadFileData","body":"<p>In general, not so long ago we encountered a problem, for some reason, all attempts to upload a file for a client fail. On the back we get an exception:</p>\n<ul>\n<li>Jersey 2.33</li>\n<li>Dropwizard 2.0.28</li>\n</ul>\n<pre><code>MultiException stack 1 of 15\norg.glassfish.jersey.server.internal.process.MappableException: org.eclipse.jetty.io.EofException: Early EOF\n    at org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundReadFrom(MappableExceptionWrapperInterceptor.java:53)\n    at org.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:132)\n    at org.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1072)\n    at org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:885)\n    at org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:819)\n    at org.glassfish.jersey.server.ContainerRequest.readEntity(ContainerRequest.java:245)\n    at org.glassfish.jersey.media.multipart.internal.FormDataParamValueParamProvider$ValueProvider.getEntity(FormDataParamValueParamProvider.java:84)\n    at org.glassfish.jersey.media.multipart.internal.FormDataParamValueParamProvider$FormDataParamValueProvider.apply(FormDataParamValueParamProvider.java:235)\n    at org.glassfish.jersey.media.multipart.internal.FormDataParamValueParamProvider$FormDataParamValueProvider.apply(FormDataParamValueParamProvider.java:222)\n    at org.glassfish.jersey.server.internal.inject.ParamInjectionResolver.resolve(ParamInjectionResolver.java:97)\n    at org.glassfish.jersey.inject.hk2.InjectionResolverWrapper.resolve(InjectionResolverWrapper.java:62)\n    at org.jvnet.hk2.internal.ClazzCreator.resolve(ClazzCreator.java:188)\n    at org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:211)\n    at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:334)\n    at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)\n    at org.glassfish.jersey.inject.hk2.RequestContext.findOrCreate(RequestContext.java:59)\n    at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:758)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:721)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:691)\n    at org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getInstance(AbstractHk2InjectionManager.java:160)\n    at org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getInstance(ImmediateHk2InjectionManager.java:30)\n    at org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:68)\n    at org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:44)\n    at org.glassfish.jersey.server.spi.internal.ParamValueFactoryWithSource.apply(ParamValueFactoryWithSource.java:50)\n    at org.glassfish.jersey.server.spi.internal.ParameterValueHelper.getParameterValues(ParameterValueHelper.java:64)\n    ....\n    \nMultiException stack 13 of 15\njava.lang.IllegalStateException: Entity input stream has already been closed.\n    at org.glassfish.jersey.message.internal.EntityInputStream.ensureNotClosed(EntityInputStream.java:205)\n    at org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:865)\n    at org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:819)\n    at org.glassfish.jersey.server.ContainerRequest.readEntity(ContainerRequest.java:245)\n    at org.glassfish.jersey.media.multipart.internal.FormDataParamValueParamProvider$ValueProvider.getEntity(FormDataParamValueParamProvider.java:84)\n    at org.glassfish.jersey.media.multipart.internal.FormDataParamValueParamProvider$FormDataParamValueProvider.apply(FormDataParamValueParamProvider.java:235)\n    at org.glassfish.jersey.media.multipart.internal.FormDataParamValueParamProvider$FormDataParamValueProvider.apply(FormDataParamValueParamProvider.java:222)\n    at org.glassfish.jersey.server.internal.inject.ParamInjectionResolver.resolve(ParamInjectionResolver.java:97)\n    at org.glassfish.jersey.inject.hk2.InjectionResolverWrapper.resolve(InjectionResolverWrapper.java:62)\n    at org.jvnet.hk2.internal.ClazzCreator.resolve(ClazzCreator.java:188)\n    at org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:211)\n    at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:334)\n    at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)\n    at org.glassfish.jersey.inject.hk2.RequestContext.findOrCreate(RequestContext.java:59)\n    at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:758)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:721)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:691)\n    at org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getInstance(AbstractHk2InjectionManager.java:160)\n    at org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getInstance(ImmediateHk2InjectionManager.java:30)\n    at org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:68)\n    at org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:44)\n    at org.glassfish.jersey.server.spi.internal.ParamValueFactoryWithSource.apply(ParamValueFactoryWithSource.java:50)\n    at org.glassfish.jersey.server.spi.internal.ParameterValueHelper.getParameterValues(ParameterValueHelper.java:64)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$AbstractMethodParamInvoker.getParamValues(JavaResourceMethodDispatcherProvider.java:109)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n    at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\n    at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\n    at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\n    at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1631)\n    at io.dropwizard.servlets.ThreadNameFilter.doFilter(ThreadNameFilter.java:35)\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n    at io.dropwizard.jersey.filter.AllowedMethodsFilter.handle(AllowedMethodsFilter.java:47)\n    at io.dropwizard.jersey.filter.AllowedMethodsFilter.doFilter(AllowedMethodsFilter.java:41)\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n    at org.eclipse.jetty.servlets.CrossOriginFilter.handle(CrossOriginFilter.java:319)\n    at org.eclipse.jetty.servlets.CrossOriginFilter.doFilter(CrossOriginFilter.java:273)\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n    at com.google.inject.servlet.DefaultFilterPipeline.dispatch(DefaultFilterPipeline.java:47)\n    at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:133)\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1434)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1349)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:313)\n    at io.dropwizard.jetty.RoutingHandler.handle(RoutingHandler.java:52)\n    at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:713)\n    at org.eclipse.jetty.server.handler.StatisticsHandler.handle(StatisticsHandler.java:179)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at org.eclipse.jetty.server.Server.handle(Server.java:516)\n    at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:400)\n    at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:645)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:392)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n    at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131)\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\n    at java.lang.Thread.run(Thread.java:748)\nMultiException stack 14 of 15\njava.lang.IllegalArgumentException: While attempting to resolve the dependencies of com.xxxxxx.document.UploadDocumentCmd errors were found\n    at org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:224)\n    at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:334)\n    at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)\n    at org.glassfish.jersey.inject.hk2.RequestContext.findOrCreate(RequestContext.java:59)\n    at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:758)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:721)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:691)\n    at org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getInstance(AbstractHk2InjectionManager.java:160)\n    at org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getInstance(ImmediateHk2InjectionManager.java:30)\n    at org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:68)\n    at org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:44)\n    at org.glassfish.jersey.server.spi.internal.ParamValueFactoryWithSource.apply(ParamValueFactoryWithSource.java:50)\n    at org.glassfish.jersey.server.spi.internal.ParameterValueHelper.getParameterValues(ParameterValueHelper.java:64)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$AbstractMethodParamInvoker.getParamValues(JavaResourceMethodDispatcherProvider.java:109)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n    at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\n    at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\n\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n    at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131)\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\n    at java.lang.Thread.run(Thread.java:748)\nMultiException stack 15 of 15\njava.lang.IllegalStateException: Unable to perform operation: resolve on xxx.xxxxx.xxxxx.UploadDocumentCmd\n    at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:363)\n    at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)\n    at org.glassfish.jersey.inject.hk2.RequestContext.findOrCreate(RequestContext.java:59)\n    at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:758)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:721)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:691)\n    at org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getInstance(AbstractHk2InjectionManager.java:160)\n    at org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getInstance(ImmediateHk2InjectionManager.java:30)\n    at org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:68)\n    at org.glassfish.jersey.server.internal.inject.BeanParamValueParamProvider$BeanParamValueProvider.apply(BeanParamValueParamProvider.java:44)\n    at org.glassfish.jersey.server.spi.internal.ParamValueFactoryWithSource.apply(ParamValueFactoryWithSource.java:50)\n    at org.glassfish.jersey.server.spi.internal.ParameterValueHelper.getParameterValues(ParameterValueHelper.java:64)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$AbstractMethodParamInvoker.getParamValues(JavaResourceMethodDispatcherProvider.java:109)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n    at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\n    at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\n    at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\n    at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1631)\n    at io.dropwizard.servlets.ThreadNameFilter.doFilter(ThreadNameFilter.java:35)\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n    at io.dropwizard.jersey.filter.AllowedMethodsFilter.handle(AllowedMethodsFilter.java:47)\n    at io.dropwizard.jersey.filter.AllowedMethodsFilter.doFilter(AllowedMethodsFilter.java:41)\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n    at org.eclipse.jetty.servlets.CrossOriginFilter.handle(CrossOriginFilter.java:319)\n    at org.eclipse.jetty.servlets.CrossOriginFilter.doFilter(CrossOriginFilter.java:273)\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n    at com.google.inject.servlet.DefaultFilterPipeline.dispatch(DefaultFilterPipeline.java:47)\n    at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:133)\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1434)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1349)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:313)\n    at io.dropwizard.jetty.RoutingHandler.handle(RoutingHandler.java:52)\n</code></pre>\n<p>Full stack trace in pastebin <a href=\"https://pastebin.com/DXi0vw17\" rel=\"nofollow noreferrer\">https://pastebin.com/DXi0vw17</a></p>\n<p>Strange thing, but this error occurs only for one client. It is clear that the problem is not in the application logic, since judging by the exception, the error occurs at the DI (HK2) level.</p>\n<p>Interestingly, the bean that XK2 swears at (UploadDocumentCmd) is the most ordinary bean.</p>\n<p>I would be grateful if you tell me where to dig, and how to explain this problem.</p>\n<p>Thanks for any help</p>\n<p>Nothing abnormal was found in the logs. It is not yet possible to catch a request from a client at the level of http packets.</p>\n"},{"tags":["java","parsing","jsoup"],"comments":[{"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"score":0,"creation_date":1671799394,"post_id":74899643,"comment_id":132178898,"body_markdown":"Perhaps google doesn&#39;t like Jsoup&#39;s User-Agent","body":"Perhaps google doesn&#39;t like Jsoup&#39;s User-Agent"},{"owner":{"account_id":18419629,"reputation":51,"user_id":13417603,"display_name":"Ohonovskiy"},"score":0,"creation_date":1671799893,"post_id":74899643,"comment_id":132179022,"body_markdown":"I guess so, but it&#39;s interesting how do I solve it. Maybe you can recommend some other lib?","body":"I guess so, but it&#39;s interesting how do I solve it. Maybe you can recommend some other lib?"},{"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"score":0,"creation_date":1671800513,"post_id":74899643,"comment_id":132179178,"body_markdown":"Actually, it works for me. (Jsoup 1.3). Try urlencoding the argument: `URLEncoder.encode(city+&quot; weather&quot;, UTF_8)`.","body":"Actually, it works for me. (Jsoup 1.3). Try urlencoding the argument: <code>URLEncoder.encode(city+&quot; weather&quot;, UTF_8)</code>."}],"answers":[{"tags":[],"owner":{"account_id":13254254,"reputation":3,"user_id":9570875,"display_name":"UserXyZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671800154,"creation_date":1671800154,"answer_id":74899890,"question_id":74899643,"body_markdown":"you have probably exceeded the daily search request limit of google. If too many requests are sent from the same IP, it will be blocked. A solution would be to use a weather api that allows more requests per day.","title":"Cannot parse webpage of google with Jsoup","body":"<p>you have probably exceeded the daily search request limit of google. If too many requests are sent from the same IP, it will be blocked. A solution would be to use a weather api that allows more requests per day.</p>\n"}],"owner":{"account_id":18419629,"reputation":51,"user_id":13417603,"display_name":"Ohonovskiy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671800154,"creation_date":1671798432,"question_id":74899643,"body_markdown":"I&#39;m making simple weather parser on Java via jsoup. Yesterday it worked well but today I instanly got ERROR 429 (too many requests if i&#39;m not wrong). Here&#39;s my code, how can i fix it?\r\n\r\n```\r\npublic class Parser {\r\n    public static void parse() throws IOException {\r\n        Scanner scanner = new Scanner(System.in);\r\n        \r\n        String city, temp, hum, wind, status, name, day;\r\n        city = scanner.nextLine();\r\n\r\n        Document doc = Jsoup.connect(&quot;https://www.google.com/search?q=&quot;+city+&quot; weather&quot;).timeout(10*1000).get();\r\n        Element tempElem = doc.selectFirst(&quot;span.wob_t.q8U8x&quot;);\r\n\r\n        temp = Objects.requireNonNull(doc.selectFirst(&quot;span.wob_t.q8U8x&quot;)).text();\r\n        hum = Objects.requireNonNull(doc.selectFirst(&quot;#wob_hm&quot;)).text();\r\n        wind = Objects.requireNonNull(doc.selectFirst(&quot;#wob_ws&quot;)).text();\r\n        status = Objects.requireNonNull(doc.selectFirst(&quot;#wob_dc&quot;)).text();\r\n        name = Objects.requireNonNull(doc.selectFirst(&quot;#wob_loc.q8U8x&quot;)).text();\r\n        day = Objects.requireNonNull(doc.selectFirst(&quot;#wob_dts&quot;)).text();\r\n        \r\n        if(tempElem == null){\r\n            System.out.println(&quot;City&#39;s not found&quot;);\r\n            System.exit(0);\r\n        }\r\n\r\n        System.out.println(&quot;Weather in &quot; + name + &quot;. (&quot;+day+&quot;, &quot;+status+&quot;)&quot;+\r\n                &quot;\\n Temperature: &quot; + temp + &quot;&#176;C&quot; +\r\n                &quot;\\n Humanity: &quot; + hum +\r\n                &quot;\\n Wind speed:  &quot; + wind);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried adding .timeoute() to Jsoup.connect() but I see no results there.","title":"Cannot parse webpage of google with Jsoup","body":"<p>I'm making simple weather parser on Java via jsoup. Yesterday it worked well but today I instanly got ERROR 429 (too many requests if i'm not wrong). Here's my code, how can i fix it?</p>\n<pre><code>public class Parser {\n    public static void parse() throws IOException {\n        Scanner scanner = new Scanner(System.in);\n        \n        String city, temp, hum, wind, status, name, day;\n        city = scanner.nextLine();\n\n        Document doc = Jsoup.connect(&quot;https://www.google.com/search?q=&quot;+city+&quot; weather&quot;).timeout(10*1000).get();\n        Element tempElem = doc.selectFirst(&quot;span.wob_t.q8U8x&quot;);\n\n        temp = Objects.requireNonNull(doc.selectFirst(&quot;span.wob_t.q8U8x&quot;)).text();\n        hum = Objects.requireNonNull(doc.selectFirst(&quot;#wob_hm&quot;)).text();\n        wind = Objects.requireNonNull(doc.selectFirst(&quot;#wob_ws&quot;)).text();\n        status = Objects.requireNonNull(doc.selectFirst(&quot;#wob_dc&quot;)).text();\n        name = Objects.requireNonNull(doc.selectFirst(&quot;#wob_loc.q8U8x&quot;)).text();\n        day = Objects.requireNonNull(doc.selectFirst(&quot;#wob_dts&quot;)).text();\n        \n        if(tempElem == null){\n            System.out.println(&quot;City's not found&quot;);\n            System.exit(0);\n        }\n\n        System.out.println(&quot;Weather in &quot; + name + &quot;. (&quot;+day+&quot;, &quot;+status+&quot;)&quot;+\n                &quot;\\n Temperature: &quot; + temp + &quot;°C&quot; +\n                &quot;\\n Humanity: &quot; + hum +\n                &quot;\\n Wind speed:  &quot; + wind);\n    }\n}\n</code></pre>\n<p>I've tried adding .timeoute() to Jsoup.connect() but I see no results there.</p>\n"},{"tags":["java","android","mobile","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4353930,"reputation":465,"user_id":4336562,"display_name":"sbraconnier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586798660,"creation_date":1586798660,"answer_id":61193195,"question_id":61057098,"body_markdown":"You got this error because the default behavior of JODConverter is to auto-detect the office (LibreOffice or Apache OpenOffice) installation you will be working with. In your particular case, the office home directory was not found (thus null).\r\n\r\nSo, if your office installation is within a custom directory, you can use the [officeHome](https://github.com/sbraconnier/jodconverter/wiki/Configuration#file_folderofficehome) property.\r\n\r\nHere&#39;s your updated code:\r\n\r\n```java\r\nOfficeManager officeManager =\r\n    LocalOfficeManager.builder()\r\n        .officeHome(&quot;Path to your office home&quot;)\r\n        .install()\r\n        .build();\r\ntry {\r\n  // Start an office process and connect to the started instance (on port 2002).\r\n  officeManager.start();\r\n  File inputFile = new File(&quot;storage/emulated/0/COVID-19/111.pdf&quot;);\r\n  wordtext = String.valueOf(JodConverter.convert(inputFile));\r\n} catch (OfficeException e) {\r\n  e.printStackTrace();\r\n} finally {\r\n  // Stop the office process\r\n  OfficeUtils.stopQuietly(officeManager);\r\n}\r\n```","title":"How to read text from doc or pdf in JodConverter","body":"<p>You got this error because the default behavior of JODConverter is to auto-detect the office (LibreOffice or Apache OpenOffice) installation you will be working with. In your particular case, the office home directory was not found (thus null).</p>\n\n<p>So, if your office installation is within a custom directory, you can use the <a href=\"https://github.com/sbraconnier/jodconverter/wiki/Configuration#file_folderofficehome\" rel=\"nofollow noreferrer\">officeHome</a> property.</p>\n\n<p>Here's your updated code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>OfficeManager officeManager =\n    LocalOfficeManager.builder()\n        .officeHome(\"Path to your office home\")\n        .install()\n        .build();\ntry {\n  // Start an office process and connect to the started instance (on port 2002).\n  officeManager.start();\n  File inputFile = new File(\"storage/emulated/0/COVID-19/111.pdf\");\n  wordtext = String.valueOf(JodConverter.convert(inputFile));\n} catch (OfficeException e) {\n  e.printStackTrace();\n} finally {\n  // Stop the office process\n  OfficeUtils.stopQuietly(officeManager);\n}\n</code></pre>\n"}],"owner":{"account_id":17095572,"reputation":131,"user_id":12370643,"display_name":"Zafar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671800033,"creation_date":1586166774,"question_id":61057098,"body_markdown":"**Caused by:**\r\n\r\n&gt; java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.io.File.isDirectory()&#39; on a null object reference\r\n\r\n```java    \r\nLocalOfficeManager officeManager = LocalOfficeManager.install();\r\ntry {\r\n  // Start an office process and connect to the started instance (on port 2002).\r\n  officeManager.start();\r\n  File inputFile = new File(&quot;storage/emulated/0/COVID-19/111.pdf&quot;);\r\n  wordtext = String.valueOf(JodConverter.convert(inputFile));\r\n} catch (OfficeException e) {\r\n  e.printStackTrace();\r\n} finally {\r\n  // Stop the office process\r\n  OfficeUtils.stopQuietly(officeManager);\r\n}\r\n```\r\n\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main Process: handbook_multi_maker.TJ, PID: 17976 java.lang.RuntimeException: Unable to start activity ComponentInfo{handbook_multi_maker.TJ/TJ.SecondActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.io.File.isDirectory()&#39; on a null object reference at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3107) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3250) at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78) at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108) at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1947) at android.os.Handler.dispatchMessage(Handler.java:106) at android.os.Looper.loop(Looper.java:214) at android.app.ActivityThread.main(ActivityThread.java:7032) at java.lang.reflect.Method.invoke(Native Method) at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964) Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.io.File.isDirectory()&#39; on a null object reference at org.jodconverter.local.office.LocalOfficeUtils.validateOfficeHome(LocalOfficeUtils.java:339) at org.jodconverter.local.office.LocalOfficeManager$Builder.build(LocalOfficeManager.java:169) at org.jodconverter.local.office.LocalOfficeManager.install(LocalOfficeManager.java:78) at TJ.SecondActivity.initWebView(SecondActivity.java:132) at TJ.SecondActivity.onCreate(SecondActivity.java:104) at android.app.Activity.performCreate(Activity.java:7327) at android.app.Activity.performCreate(Activity.java:7318) at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3087) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3250)  at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)  at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)  at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1947)  at android.os.Handler.dispatchMessage(Handler.java:106)  at android.os.Looper.loop(Looper.java:214)  at android.app.ActivityThread.main(ActivityThread.java:7032)  at java.lang.reflect.Method.invoke(Native Method)  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964) ","title":"How to read text from doc or pdf in JodConverter","body":"<p><strong>Caused by:</strong></p>\n\n<blockquote>\n  <p>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.io.File.isDirectory()' on a null object reference</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>LocalOfficeManager officeManager = LocalOfficeManager.install();\ntry {\n  // Start an office process and connect to the started instance (on port 2002).\n  officeManager.start();\n  File inputFile = new File(\"storage/emulated/0/COVID-19/111.pdf\");\n  wordtext = String.valueOf(JodConverter.convert(inputFile));\n} catch (OfficeException e) {\n  e.printStackTrace();\n} finally {\n  // Stop the office process\n  OfficeUtils.stopQuietly(officeManager);\n}\n</code></pre>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main Process: handbook_multi_maker.TJ, PID: 17976 java.lang.RuntimeException: Unable to start activity ComponentInfo{handbook_multi_maker.TJ/TJ.SecondActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.io.File.isDirectory()' on a null object reference at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3107) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3250) at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78) at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108) at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1947) at android.os.Handler.dispatchMessage(Handler.java:106) at android.os.Looper.loop(Looper.java:214) at android.app.ActivityThread.main(ActivityThread.java:7032) at java.lang.reflect.Method.invoke(Native Method) at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964) Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.io.File.isDirectory()' on a null object reference at org.jodconverter.local.office.LocalOfficeUtils.validateOfficeHome(LocalOfficeUtils.java:339) at org.jodconverter.local.office.LocalOfficeManager$Builder.build(LocalOfficeManager.java:169) at org.jodconverter.local.office.LocalOfficeManager.install(LocalOfficeManager.java:78) at TJ.SecondActivity.initWebView(SecondActivity.java:132) at TJ.SecondActivity.onCreate(SecondActivity.java:104) at android.app.Activity.performCreate(Activity.java:7327) at android.app.Activity.performCreate(Activity.java:7318) at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3087) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3250)  at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)  at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)  at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1947)  at android.os.Handler.dispatchMessage(Handler.java:106)  at android.os.Looper.loop(Looper.java:214)  at android.app.ActivityThread.main(ActivityThread.java:7032)  at java.lang.reflect.Method.invoke(Native Method)  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964) </p>\n</blockquote>\n"},{"tags":["java","android","android-constraintlayout","android-xml"],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1671734532,"creation_date":1671651158,"answer_id":74880974,"question_id":74880907,"body_markdown":"try the following code..\r\n\r\n    ConstraintLayout.LayoutParams params = new ConstraintLayout.LayoutParams(ConstraintLayout.LayoutParams.MATCH_PARENT, ConstraintLayout.LayoutParams.MATCH_PARENT);\r\n            params.setMargins(0,10,0,0);\r\n    mytext.setLayoutParams(params);\r\n\r\n`setMargin` represents following coordinates\r\n\r\n    setMargin(left,top,right,bottom);","title":"How to change layout_marginTop value of an element in a ConstraintLayout?","body":"<p>try the following code..</p>\n<pre><code>ConstraintLayout.LayoutParams params = new ConstraintLayout.LayoutParams(ConstraintLayout.LayoutParams.MATCH_PARENT, ConstraintLayout.LayoutParams.MATCH_PARENT);\n        params.setMargins(0,10,0,0);\nmytext.setLayoutParams(params);\n</code></pre>\n<p><code>setMargin</code> represents following coordinates</p>\n<pre><code>setMargin(left,top,right,bottom);\n</code></pre>\n"}],"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1671799709,"creation_date":1671650818,"question_id":74880907,"body_markdown":"I have the following ContstraintLayout:\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        &gt;\r\n        &lt;androidx.appcompat.widget.AppCompatTextView\r\n            android:id=&quot;@+id/my_text&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:text=&quot;@string/txt_string&quot;\r\n\r\n            app:layout_constraintBottom_toBottomOf=&quot;@id/one&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@id/two&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@id/three&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@id/four&quot;\r\n            android:layout_marginTop=&quot;@dimen/margin_dim&quot;\r\n            /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nWhat I want is to change the marginTop value in code:\r\n\r\nThis is what I have but I have not found any method to set Top margin:\r\n\r\n        AppCompatTextView mytext;\r\n    \r\n    private void onCreate(@Nullable Bundle savedInstanceState) {\r\n    \r\n          super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.my_layout);\r\n    \r\n            mytext = findViewById(R.id.my_text);\r\n    \r\n    //here I would like to make something like :\r\n    // mytext.setTopMargin(Xdp);\r\n\r\n}\r\n\r\n","title":"How to change layout_marginTop value of an element in a ConstraintLayout?","body":"<p>I have the following ContstraintLayout:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    &gt;\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:id=&quot;@+id/my_text&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:text=&quot;@string/txt_string&quot;\n\n        app:layout_constraintBottom_toBottomOf=&quot;@id/one&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@id/two&quot;\n        app:layout_constraintStart_toEndOf=&quot;@id/three&quot;\n        app:layout_constraintTop_toTopOf=&quot;@id/four&quot;\n        android:layout_marginTop=&quot;@dimen/margin_dim&quot;\n        /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>What I want is to change the marginTop value in code:</p>\n<p>This is what I have but I have not found any method to set Top margin:</p>\n<pre><code>    AppCompatTextView mytext;\n\nprivate void onCreate(@Nullable Bundle savedInstanceState) {\n\n      super.onCreate(savedInstanceState);\n        setContentView(R.layout.my_layout);\n\n        mytext = findViewById(R.id.my_text);\n\n//here I would like to make something like :\n// mytext.setTopMargin(Xdp);\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","retrofit","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":6657226,"reputation":16109,"user_id":5137352,"accept_rate":89,"display_name":"Nabin Bhandari"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1503676530,"creation_date":1503676530,"answer_id":45885268,"question_id":45885016,"body_markdown":"You can send header to server without using an interceptor. Just add a field in your method declaration in your service interface like this:\r\n\r\n    @GET(&quot;my/orders/{id}&quot;)\r\n    Call&lt;Order&gt; getOrder(@Header(&quot;Authorization&quot;) String token,\r\n                         @Path(&quot;id&quot;) int order_id);\r\n\r\nThen create a `Call` object to send request as below:\r\n\r\n    APIService apiService= retrofit.create(APIService.class);\r\n    Call&lt;Order&gt; call = apiService.getOrder(token, id);\r\n    call.enqueue(/*callback*/);","title":"Add Header to Retrofit Requests","body":"<p>You can send header to server without using an interceptor. Just add a field in your method declaration in your service interface like this:</p>\n\n<pre><code>@GET(\"my/orders/{id}\")\nCall&lt;Order&gt; getOrder(@Header(\"Authorization\") String token,\n                     @Path(\"id\") int order_id);\n</code></pre>\n\n<p>Then create a <code>Call</code> object to send request as below:</p>\n\n<pre><code>APIService apiService= retrofit.create(APIService.class);\nCall&lt;Order&gt; call = apiService.getOrder(token, id);\ncall.enqueue(/*callback*/);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10900534,"reputation":430,"user_id":8012913,"display_name":"nivesh shastri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503680074,"creation_date":1503680074,"answer_id":45886209,"question_id":45885016,"body_markdown":"Try this for same:\r\n\r\n    String credentials = &quot;put your token here&quot;;\r\n    final String basic = &quot;Basic &quot; + Base64.encodeToString(credentials.getBytes(), Base64.NO_WRAP);\r\n    Request.Builder requestBuilder = original.newBuilder()\r\n                                             .header(&quot;Authorization&quot;,basic);","title":"Add Header to Retrofit Requests","body":"<p>Try this for same:</p>\n\n<pre><code>String credentials = \"put your token here\";\nfinal String basic = \"Basic \" + Base64.encodeToString(credentials.getBytes(), Base64.NO_WRAP);\nRequest.Builder requestBuilder = original.newBuilder()\n                                         .header(\"Authorization\",basic);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9344194,"reputation":495,"user_id":6935905,"display_name":"DalveerSinghDaiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540807503,"creation_date":1540807503,"answer_id":53043062,"question_id":45885016,"body_markdown":"Add a method in the BaseCaller Class for your headers like below:\r\n\r\n    public HashMap&lt;String, String&gt; getHeaders() {\r\n            HashMap&lt;String, String&gt; headerHashMap = new HashMap&lt;&gt;();\r\n            headerHashMap.put(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n            headerHashMap.put(&quot;time_zone_name&quot;, DateTimeHelper.getTimeZoneName());\r\n            headerHashMap.put(&quot;gmt_offset&quot;, DateTimeHelper.getGMTOffset());\r\n            return headerHashMap;\r\n        }\r\n\r\nNow create a method in your service class for url like :\r\n\r\n    @FormUrlEncoded\r\n        @POST(&quot;switch_user&quot;)\r\n        Call&lt;JsonObject&gt; switchUser(@HeaderMap Map&lt;String, String&gt; headers, @FieldMap Map&lt;String, String&gt; fields);\r\n\r\n\r\nFinally in your class caller class call the methods as follows :\r\n\r\n    call = loginService.switchUser(getHeaders(), apiParams.mHashMap);\r\n\r\nThis will do the needful :)\r\n\r\n","title":"Add Header to Retrofit Requests","body":"<p>Add a method in the BaseCaller Class for your headers like below:</p>\n\n<pre><code>public HashMap&lt;String, String&gt; getHeaders() {\n        HashMap&lt;String, String&gt; headerHashMap = new HashMap&lt;&gt;();\n        headerHashMap.put(\"Content-Type\", \"application/x-www-form-urlencoded\");\n        headerHashMap.put(\"time_zone_name\", DateTimeHelper.getTimeZoneName());\n        headerHashMap.put(\"gmt_offset\", DateTimeHelper.getGMTOffset());\n        return headerHashMap;\n    }\n</code></pre>\n\n<p>Now create a method in your service class for url like :</p>\n\n<pre><code>@FormUrlEncoded\n    @POST(\"switch_user\")\n    Call&lt;JsonObject&gt; switchUser(@HeaderMap Map&lt;String, String&gt; headers, @FieldMap Map&lt;String, String&gt; fields);\n</code></pre>\n\n<p>Finally in your class caller class call the methods as follows :</p>\n\n<pre><code>call = loginService.switchUser(getHeaders(), apiParams.mHashMap);\n</code></pre>\n\n<p>This will do the needful :)</p>\n"}],"owner":{"account_id":11554718,"reputation":201,"user_id":8466232,"accept_rate":60,"display_name":"Lending Square"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12517,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":45885268,"answer_count":3,"score":9,"last_activity_date":1671799692,"creation_date":1503675651,"question_id":45885016,"body_markdown":"I have a token which i save to sharedPreferences and then i get that token and pass it as an authorization to a Retrofit requests. This is my codes below which i used to add a header to my retrofit requests.\r\n\r\nI need to add the header below:\r\n**&quot;Authorization&quot; &quot;Bearer&quot; + token**\r\n\r\n    public static Retrofit getClient(String token) {\r\n\r\n        HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\r\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        OkHttpClient okClient = new OkHttpClient();\r\n\r\n        Gson gson = new GsonBuilder()\r\n                .setDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;)\r\n                .create();\r\n\r\n        okClient.interceptors().add(chain -&gt; {\r\n            Response response = chain.proceed(chain.request());\r\n            return response;\r\n        });\r\n\r\n        okClient.interceptors().add(chain -&gt; {\r\n            Request original = chain.request();\r\n            Request request = original.newBuilder()\r\n                    .header(&quot;Authorization&quot;, token)\r\n                    .method(original.method(), original.body())\r\n                    .build();\r\n\r\n            return chain.proceed(request);\r\n        });\r\n\r\n        okClient.interceptors().add(logging);\r\n\r\n        if (retrofit==null) {\r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(Config.BASE_URL1)\r\n                    .client(okClient)\r\n                    .addCallAdapterFactory(RxJavaCallAdapterFactory.create())\r\n                    .addConverterFactory(GsonConverterFactory.create(gson))\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n\r\nThis how i send my token to the retrofit client\r\n\r\n     Retrofit retrofit = RetrofitClient.getClient(&quot;Bearer&quot; + &quot; &quot; +       authUser.getToken());\r\n     APIService mAPIService = retrofit.create(APIService.class);\r\n\r\nBut unfortunately the server responds with the message **no authorization**","title":"Add Header to Retrofit Requests","body":"<p>I have a token which i save to sharedPreferences and then i get that token and pass it as an authorization to a Retrofit requests. This is my codes below which i used to add a header to my retrofit requests.</p>\n\n<p>I need to add the header below:\n<strong>\"Authorization\" \"Bearer\" + token</strong></p>\n\n<pre><code>public static Retrofit getClient(String token) {\n\n    HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\n    logging.setLevel(HttpLoggingInterceptor.Level.BODY);\n    OkHttpClient okClient = new OkHttpClient();\n\n    Gson gson = new GsonBuilder()\n            .setDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\")\n            .create();\n\n    okClient.interceptors().add(chain -&gt; {\n        Response response = chain.proceed(chain.request());\n        return response;\n    });\n\n    okClient.interceptors().add(chain -&gt; {\n        Request original = chain.request();\n        Request request = original.newBuilder()\n                .header(\"Authorization\", token)\n                .method(original.method(), original.body())\n                .build();\n\n        return chain.proceed(request);\n    });\n\n    okClient.interceptors().add(logging);\n\n    if (retrofit==null) {\n        retrofit = new Retrofit.Builder()\n                .baseUrl(Config.BASE_URL1)\n                .client(okClient)\n                .addCallAdapterFactory(RxJavaCallAdapterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .build();\n    }\n    return retrofit;\n}\n</code></pre>\n\n<p>This how i send my token to the retrofit client</p>\n\n<pre><code> Retrofit retrofit = RetrofitClient.getClient(\"Bearer\" + \" \" +       authUser.getToken());\n APIService mAPIService = retrofit.create(APIService.class);\n</code></pre>\n\n<p>But unfortunately the server responds with the message <strong>no authorization</strong></p>\n"},{"tags":["java","spring-boot","springdoc"],"owner":{"account_id":12220062,"reputation":125,"user_id":8919367,"display_name":"FilipK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671799624,"creation_date":1671799624,"question_id":74899806,"body_markdown":"I&#39;m working on a Spring Boot application (in Java), currently on the backend part and I&#39;m trying to prepare the OpenAPI spec using Springdoc.\r\n\r\nI have this one issue that I wanted to clarify what data is returned by an endpoint returning `EntityModel&lt;&gt;` object. By default (excluding the Schema of my model) the example JSON generated by Springdoc looks like this:\r\n\r\n    {\r\n      &quot;id&quot;: 0,\r\n      &quot;name&quot;: &quot;Spaghetti Bolognese&quot;,\r\n      &quot;description&quot;: &quot;Traditional Italian recipe for Bolognese sauce&quot;,\r\n      &quot;source&quot;: &quot;My grandma&quot;,\r\n      &quot;_links&quot;: {\r\n        &quot;additionalProp1&quot;: {\r\n          &quot;href&quot;: &quot;string&quot;,\r\n          &quot;hreflang&quot;: &quot;string&quot;,\r\n          &quot;title&quot;: &quot;string&quot;,\r\n          &quot;type&quot;: &quot;string&quot;,\r\n          &quot;deprecation&quot;: &quot;string&quot;,\r\n          &quot;profile&quot;: &quot;string&quot;,\r\n          &quot;name&quot;: &quot;string&quot;,\r\n          &quot;templated&quot;: true\r\n        },\r\n        &quot;additionalProp2&quot;: {\r\n          &quot;href&quot;: &quot;string&quot;,\r\n          &quot;hreflang&quot;: &quot;string&quot;,\r\n          &quot;title&quot;: &quot;string&quot;,\r\n          &quot;type&quot;: &quot;string&quot;,\r\n          &quot;deprecation&quot;: &quot;string&quot;,\r\n          &quot;profile&quot;: &quot;string&quot;,\r\n          &quot;name&quot;: &quot;string&quot;,\r\n          &quot;templated&quot;: true\r\n        },\r\n        &quot;additionalProp3&quot;: {\r\n          &quot;href&quot;: &quot;string&quot;,\r\n          &quot;hreflang&quot;: &quot;string&quot;,\r\n          &quot;title&quot;: &quot;string&quot;,\r\n          &quot;type&quot;: &quot;string&quot;,\r\n          &quot;deprecation&quot;: &quot;string&quot;,\r\n          &quot;profile&quot;: &quot;string&quot;,\r\n          &quot;name&quot;: &quot;string&quot;,\r\n          &quot;templated&quot;: true\r\n        }\r\n      }\r\n    }\r\n\r\nAnd the thing that I want to change is the `_links` node as I know exactly what links are returned and that I only provide the `href` property for them so the rest is just cluttering the example. I would like for the `_links` node to look something like that:\r\n\r\n    &quot;_links&quot;: {\r\n    \t&quot;self&quot;: {\r\n    \t\t&quot;href&quot;: &quot;http://example.com/recipes/{id}&quot;\r\n    \t},\r\n    \t&quot;recipes&quot;: {\r\n    \t\t&quot;href&quot;: &quot;http://example.com/recipes&quot;\r\n    \t},\r\n    \t&quot;ingredients&quot;: {\r\n    \t\t&quot;href&quot;: &quot;http://example.com/recipes/{id}/ingredients&quot;\r\n    \t}\r\n    }\r\n\r\nDo you know how I can achieve that?\r\n\r\nOnly way I came up with is to create my own `RecipeResponse` class that would return the Recipe model and links that I want it to return but I think that sort of kills the purpose of using Spring Boot\r\n","title":"Springdoc - override autogenerated Schema for EntityModel","body":"<p>I'm working on a Spring Boot application (in Java), currently on the backend part and I'm trying to prepare the OpenAPI spec using Springdoc.</p>\n<p>I have this one issue that I wanted to clarify what data is returned by an endpoint returning <code>EntityModel&lt;&gt;</code> object. By default (excluding the Schema of my model) the example JSON generated by Springdoc looks like this:</p>\n<pre><code>{\n  &quot;id&quot;: 0,\n  &quot;name&quot;: &quot;Spaghetti Bolognese&quot;,\n  &quot;description&quot;: &quot;Traditional Italian recipe for Bolognese sauce&quot;,\n  &quot;source&quot;: &quot;My grandma&quot;,\n  &quot;_links&quot;: {\n    &quot;additionalProp1&quot;: {\n      &quot;href&quot;: &quot;string&quot;,\n      &quot;hreflang&quot;: &quot;string&quot;,\n      &quot;title&quot;: &quot;string&quot;,\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;deprecation&quot;: &quot;string&quot;,\n      &quot;profile&quot;: &quot;string&quot;,\n      &quot;name&quot;: &quot;string&quot;,\n      &quot;templated&quot;: true\n    },\n    &quot;additionalProp2&quot;: {\n      &quot;href&quot;: &quot;string&quot;,\n      &quot;hreflang&quot;: &quot;string&quot;,\n      &quot;title&quot;: &quot;string&quot;,\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;deprecation&quot;: &quot;string&quot;,\n      &quot;profile&quot;: &quot;string&quot;,\n      &quot;name&quot;: &quot;string&quot;,\n      &quot;templated&quot;: true\n    },\n    &quot;additionalProp3&quot;: {\n      &quot;href&quot;: &quot;string&quot;,\n      &quot;hreflang&quot;: &quot;string&quot;,\n      &quot;title&quot;: &quot;string&quot;,\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;deprecation&quot;: &quot;string&quot;,\n      &quot;profile&quot;: &quot;string&quot;,\n      &quot;name&quot;: &quot;string&quot;,\n      &quot;templated&quot;: true\n    }\n  }\n}\n</code></pre>\n<p>And the thing that I want to change is the <code>_links</code> node as I know exactly what links are returned and that I only provide the <code>href</code> property for them so the rest is just cluttering the example. I would like for the <code>_links</code> node to look something like that:</p>\n<pre><code>&quot;_links&quot;: {\n    &quot;self&quot;: {\n        &quot;href&quot;: &quot;http://example.com/recipes/{id}&quot;\n    },\n    &quot;recipes&quot;: {\n        &quot;href&quot;: &quot;http://example.com/recipes&quot;\n    },\n    &quot;ingredients&quot;: {\n        &quot;href&quot;: &quot;http://example.com/recipes/{id}/ingredients&quot;\n    }\n}\n</code></pre>\n<p>Do you know how I can achieve that?</p>\n<p>Only way I came up with is to create my own <code>RecipeResponse</code> class that would return the Recipe model and links that I want it to return but I think that sort of kills the purpose of using Spring Boot</p>\n"},{"tags":["java","oracle","xmltype"],"comments":[{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1671736251,"post_id":74892804,"comment_id":132167303,"body_markdown":"Have you tried rs.getSQLXML(&quot;XML&quot;); ?","body":"Have you tried rs.getSQLXML(&quot;XML&quot;); ?"},{"owner":{"account_id":5351738,"reputation":83,"user_id":4265699,"display_name":"Digant Jani"},"score":0,"creation_date":1671737711,"post_id":74892804,"comment_id":132167657,"body_markdown":"Yes I treid but It crashes once it reaches to this line. It goes to finally directly without going to catch statement.","body":"Yes I treid but It crashes once it reaches to this line. It goes to finally directly without going to catch statement."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1671740463,"post_id":74892804,"comment_id":132168330,"body_markdown":"maybe a mismatch of versions of jars ojdbc, xdb, xmlparser.","body":"maybe a mismatch of versions of jars ojdbc, xdb, xmlparser."},{"owner":{"account_id":5351738,"reputation":83,"user_id":4265699,"display_name":"Digant Jani"},"score":0,"creation_date":1671745269,"post_id":74892804,"comment_id":132169526,"body_markdown":"Do you have any preference for all of those ?","body":"Do you have any preference for all of those ?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1671783873,"post_id":74892804,"comment_id":132175061,"body_markdown":"Preference? No, you have to align the JAR version to be compatible with the server version... and the JDK you are using…  There is a page on Oracle site with a correspondance table.","body":"Preference? No, you have to align the JAR version to be compatible with the server version... and the JDK you are using…  There is a page on Oracle site with a correspondance table."}],"owner":{"account_id":5351738,"reputation":83,"user_id":4265699,"display_name":"Digant Jani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671799546,"creation_date":1671735467,"question_id":74892804,"body_markdown":"I have a query that creates XMLElement which gives &quot;SYS.XMLType&quot; as output. I tried to fetch the data using XMLType it exits when I try to cast as given on the oracle website.\r\n\r\n```java\r\ndppSummaryps = (OraclePreparedStatement) connDb.prepareStatement(dppSummary);\r\nSystem.out.println(&quot;Prepared Statement before bind variables set:\\n\\t&quot; + dppSummaryps.toString());\r\ndppSummaryps.setString(1, readTimeStart);\r\ndppSummaryps.setString(2, readTimeEnd);\r\n// System.out.println(&quot;uwjdpps.dppSummary() &quot; + dppSummaryps.toString());\r\nResultSet rs = dppSummaryps.executeQuery();\r\nOracleResultSet ors = (OracleResultSet) rs;\r\nResultSetMetaData mdata = rs.getMetaData();\r\n\r\nif (mdata.getColumnType(1) == OracleTypes.OPAQUE\r\n\t\t&amp;&amp; mdata.getColumnTypeName(1).compareTo(&quot;SYS.XMLTYPE&quot;) == 0) {\r\n\t// we know it is an XMLtype\r\n\tSystem.out.println(&quot;YEAH XMLTYPE: Column name = &quot; + mdata.getColumnTypeName(1));\r\n}\r\nwhile (ors.next()) {\r\n\r\n\t// get the XMLType\r\n\tOPAQUE poxml = ors.getOPAQUE(&quot;XML&quot;);\r\n\tXMLType xmltype = (XMLType) poxml;\r\n\t// get the XML as a string...\r\n\tSystem.out.println(xmltype);\r\n    // xml = (XMLType) rs.getObject(1); \r\n    // dppSummaryType = rs.getString(&quot;XML&quot;);\r\n\tString result = IOUtils.toString(poxml.getStream());\r\n\tSystem.out.println(result);\r\n\ttry {\r\n\t\tFile targetFile = new File(FILE_PATH_XML + &quot;test.xml&quot;);\r\n        // OutputStream outStream = new OutputStream(targetFile);\r\n        // outStream.write(result);\r\n\r\n        // IOUtils.closeQuietly(outStream);\r\n\t} catch (Exception e) {\r\n\t\tString err = e.toString();\r\n\t\tSystem.out.println(err);\r\n\t}\r\n```\r\n","title":"XMLType from Oracle Result set is not being fected and exits application without error","body":"<p>I have a query that creates XMLElement which gives &quot;SYS.XMLType&quot; as output. I tried to fetch the data using XMLType it exits when I try to cast as given on the oracle website.</p>\n<pre class=\"lang-java prettyprint-override\"><code>dppSummaryps = (OraclePreparedStatement) connDb.prepareStatement(dppSummary);\nSystem.out.println(&quot;Prepared Statement before bind variables set:\\n\\t&quot; + dppSummaryps.toString());\ndppSummaryps.setString(1, readTimeStart);\ndppSummaryps.setString(2, readTimeEnd);\n// System.out.println(&quot;uwjdpps.dppSummary() &quot; + dppSummaryps.toString());\nResultSet rs = dppSummaryps.executeQuery();\nOracleResultSet ors = (OracleResultSet) rs;\nResultSetMetaData mdata = rs.getMetaData();\n\nif (mdata.getColumnType(1) == OracleTypes.OPAQUE\n        &amp;&amp; mdata.getColumnTypeName(1).compareTo(&quot;SYS.XMLTYPE&quot;) == 0) {\n    // we know it is an XMLtype\n    System.out.println(&quot;YEAH XMLTYPE: Column name = &quot; + mdata.getColumnTypeName(1));\n}\nwhile (ors.next()) {\n\n    // get the XMLType\n    OPAQUE poxml = ors.getOPAQUE(&quot;XML&quot;);\n    XMLType xmltype = (XMLType) poxml;\n    // get the XML as a string...\n    System.out.println(xmltype);\n    // xml = (XMLType) rs.getObject(1); \n    // dppSummaryType = rs.getString(&quot;XML&quot;);\n    String result = IOUtils.toString(poxml.getStream());\n    System.out.println(result);\n    try {\n        File targetFile = new File(FILE_PATH_XML + &quot;test.xml&quot;);\n        // OutputStream outStream = new OutputStream(targetFile);\n        // outStream.write(result);\n\n        // IOUtils.closeQuietly(outStream);\n    } catch (Exception e) {\n        String err = e.toString();\n        System.out.println(err);\n    }\n</code></pre>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671799350,"creation_date":1671799350,"answer_id":74899765,"question_id":74899178,"body_markdown":"I your field is Nested Type I believe this query should help you.\r\n\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;must_not&quot;: [\r\n            {\r\n              &quot;nested&quot;: {\r\n                &quot;path&quot;: &quot;attributes&quot;,\r\n                &quot;query&quot;: {\r\n                  &quot;bool&quot;: {\r\n                    &quot;must_not&quot;: [\r\n                      {\r\n                        &quot;bool&quot;: {\r\n                          &quot;should&quot;: [\r\n                            {\r\n                              &quot;match&quot;: {\r\n                                &quot;attributes.name&quot;: &quot;attribute_1&quot;\r\n                              }\r\n                            },\r\n                            {\r\n                              &quot;match&quot;: {\r\n                                &quot;attributes.name&quot;: &quot;attribute_2&quot;\r\n                              }\r\n                            }\r\n                          ]\r\n                        }\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }","title":"Is it possible to find an object in the array of which only those elements that are specified in the request? Elastic Search","body":"<p>I your field is Nested Type I believe this query should help you.</p>\n<pre><code>{\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must_not&quot;: [\n        {\n          &quot;nested&quot;: {\n            &quot;path&quot;: &quot;attributes&quot;,\n            &quot;query&quot;: {\n              &quot;bool&quot;: {\n                &quot;must_not&quot;: [\n                  {\n                    &quot;bool&quot;: {\n                      &quot;should&quot;: [\n                        {\n                          &quot;match&quot;: {\n                            &quot;attributes.name&quot;: &quot;attribute_1&quot;\n                          }\n                        },\n                        {\n                          &quot;match&quot;: {\n                            &quot;attributes.name&quot;: &quot;attribute_2&quot;\n                          }\n                        }\n                      ]\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671799350,"creation_date":1671795265,"question_id":74899178,"body_markdown":"Lets imagine I have 3 objects with the next structure: \r\n\r\n   \r\n\r\n         {\r\n        \t&quot;name&quot;: &quot;Test_1&quot;,\r\n        \t&quot;attributes&quot;:[\r\n        \t\t{\r\n        \t\t\t&quot;name&quot;: &quot;attribute_1&quot;\r\n        \t\t},\r\n        \t\t{\r\n        \t\t\t&quot;name&quot;: &quot;attribute_2&quot;\r\n        \t\t}\r\n        \t]\r\n        },\r\n        {\r\n        \t&quot;name&quot;: &quot;Test_2&quot;,\r\n        \t&quot;attributes&quot;:[\r\n        \t\t{\r\n        \t\t\t&quot;name&quot;: &quot;attribute_1&quot;\r\n        \t\t},\r\n        \t\t{\r\n        \t\t\t&quot;name&quot;: &quot;attribute_2&quot;\r\n        \t\t},\r\n        {\r\n        \t\t\t&quot;name&quot;: &quot;attribute_3&quot;\r\n        \t\t}\r\n        \t]\r\n        }\r\n        {\r\n        \t&quot;name&quot;: &quot;Test_3&quot;,\r\n        \t&quot;attributes&quot;:[\r\n        \t\t{\r\n        \t\t\t&quot;name&quot;: &quot;attribute_2&quot;\r\n        \t\t},\r\n        \t\t{\r\n        \t\t\t&quot;name&quot;: &quot;attribute_3&quot;\r\n        \t\t}\r\n        \t]\r\n        }\r\n\r\nthat are stored in Elastic Search and I wanna find those objects that contain only these values attributes.name = attribute_1, attribute_2\r\n\r\nSo, as result, I wanna get the 1st object because this object contains ONLY those specified values, no more, no less\r\n","title":"Is it possible to find an object in the array of which only those elements that are specified in the request? Elastic Search","body":"<p>Lets imagine I have 3 objects with the next structure:</p>\n<pre><code>     {\n        &quot;name&quot;: &quot;Test_1&quot;,\n        &quot;attributes&quot;:[\n            {\n                &quot;name&quot;: &quot;attribute_1&quot;\n            },\n            {\n                &quot;name&quot;: &quot;attribute_2&quot;\n            }\n        ]\n    },\n    {\n        &quot;name&quot;: &quot;Test_2&quot;,\n        &quot;attributes&quot;:[\n            {\n                &quot;name&quot;: &quot;attribute_1&quot;\n            },\n            {\n                &quot;name&quot;: &quot;attribute_2&quot;\n            },\n    {\n                &quot;name&quot;: &quot;attribute_3&quot;\n            }\n        ]\n    }\n    {\n        &quot;name&quot;: &quot;Test_3&quot;,\n        &quot;attributes&quot;:[\n            {\n                &quot;name&quot;: &quot;attribute_2&quot;\n            },\n            {\n                &quot;name&quot;: &quot;attribute_3&quot;\n            }\n        ]\n    }\n</code></pre>\n<p>that are stored in Elastic Search and I wanna find those objects that contain only these values attributes.name = attribute_1, attribute_2</p>\n<p>So, as result, I wanna get the 1st object because this object contains ONLY those specified values, no more, no less</p>\n"},{"tags":["java","svg","batik"],"owner":{"account_id":2316376,"reputation":1,"user_id":2033353,"display_name":"user2033353"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671798360,"creation_date":1671798360,"question_id":74899628,"body_markdown":"I followed the tutorial on [Batic swing components web site](https://xmlgraphics.apache.org/batik/using/swing.html)\r\nbut could not figure out how to register and interact with the svgCanvas object.\r\n\r\nMy needs:\r\n- Show a SVG drawing (works)\r\n- Show info when mouse over an object (works by default). But I don&#39;t know how to show my own information. Ideally I would get a callback with the object name and could return what to show.\r\n- Get a call with the object name as parameter when the user clicks on an SVG element\r\n\r\nIs there an example how to do that?\r\n\r\nI understood that I need to register an interaction handler. But got stuck with\r\n\r\n```\r\nList interactors = svgCanvas.getInteractors();\r\n```\r\n\r\nHow to register a new interactor that reacts on mouse down and returns the SVG element the user clicked on? How must the interactor look like?","title":"Using Batik Swing component to react on mouse actions","body":"<p>I followed the tutorial on <a href=\"https://xmlgraphics.apache.org/batik/using/swing.html\" rel=\"nofollow noreferrer\">Batic swing components web site</a>\nbut could not figure out how to register and interact with the svgCanvas object.</p>\n<p>My needs:</p>\n<ul>\n<li>Show a SVG drawing (works)</li>\n<li>Show info when mouse over an object (works by default). But I don't know how to show my own information. Ideally I would get a callback with the object name and could return what to show.</li>\n<li>Get a call with the object name as parameter when the user clicks on an SVG element</li>\n</ul>\n<p>Is there an example how to do that?</p>\n<p>I understood that I need to register an interaction handler. But got stuck with</p>\n<pre><code>List interactors = svgCanvas.getInteractors();\n</code></pre>\n<p>How to register a new interactor that reacts on mouse down and returns the SVG element the user clicked on? How must the interactor look like?</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1671781764,"post_id":74895763,"comment_id":132174604,"body_markdown":"&quot;but it did not work&quot; is really no good problem description. What exactly is the problem with your attempt? Any debugging information?","body":"&quot;but it did not work&quot; is really no good problem description. What exactly is the problem with your attempt? Any debugging information?"},{"owner":{"account_id":25355501,"reputation":15,"user_id":19171684,"display_name":"Yunmi Lee"},"score":0,"creation_date":1671782920,"post_id":74895763,"comment_id":132174829,"body_markdown":"@MrSmith42 Thank you for your advice. I will add a more detailed explanation with debugging information if possible. To be brief(for loop approach), I used mean array to find the duplicate value and tried to store the same means value by creating a new ArrayList. However, I was not able to find a way to store indices of non-duplicated value.","body":"@MrSmith42 Thank you for your advice. I will add a more detailed explanation with debugging information if possible. To be brief(for loop approach), I used mean array to find the duplicate value and tried to store the same means value by creating a new ArrayList. However, I was not able to find a way to store indices of non-duplicated value."}],"answers":[{"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671768993,"creation_date":1671767620,"answer_id":74895941,"question_id":74895763,"body_markdown":"You can use the streams API to group each array by the average value and convert it to a two dimensional array.\r\n\r\n    static int[][] sortMean(int[][] a) {\r\n        return IntStream.range(0, a.length)\r\n            .boxed()\r\n            .collect(Collectors.groupingBy(\r\n                i -&gt; IntStream.of(a[i]).average().getAsDouble(),\r\n                LinkedHashMap::new, Collectors.toList()))\r\n            .values().stream()\r\n            .map(list -&gt; list.stream().mapToInt(Integer::intValue).toArray())\r\n            .toArray(int[][]::new);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[][] a =  {{3, 3, 4, 2}, {4, 4}, {4, 0, 3, 3}, {2, 3}, {3, 3, 3}};\r\n        int[][] output = sortMean(a);\r\n        System.out.println(Arrays.deepToString(output));\r\n    }\r\n\r\noutput:\r\n\r\n    [[0, 4], [1], [2, 3]]\r\n","title":"Get mean value from 2D arrays and return the 2D array with indices of same values","body":"<p>You can use the streams API to group each array by the average value and convert it to a two dimensional array.</p>\n<pre><code>static int[][] sortMean(int[][] a) {\n    return IntStream.range(0, a.length)\n        .boxed()\n        .collect(Collectors.groupingBy(\n            i -&gt; IntStream.of(a[i]).average().getAsDouble(),\n            LinkedHashMap::new, Collectors.toList()))\n        .values().stream()\n        .map(list -&gt; list.stream().mapToInt(Integer::intValue).toArray())\n        .toArray(int[][]::new);\n}\n\npublic static void main(String[] args) {\n    int[][] a =  {{3, 3, 4, 2}, {4, 4}, {4, 0, 3, 3}, {2, 3}, {3, 3, 3}};\n    int[][] output = sortMean(a);\n    System.out.println(Arrays.deepToString(output));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[[0, 4], [1], [2, 3]]\n</code></pre>\n"}],"owner":{"account_id":25355501,"reputation":15,"user_id":19171684,"display_name":"Yunmi Lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671855678,"accepted_answer_id":74895941,"answer_count":1,"score":0,"last_activity_date":1671798213,"creation_date":1671765050,"question_id":74895763,"body_markdown":"This is the problem from CodeSignal (http://codesignal.com). \r\n\r\nQuestion: \r\n\r\n&gt; You are given an array of arrays&#160;a. Your task is to group the\r\n&gt; arrays&#160;a[i]&#160;by their&#160;mean&#160;values, so that arrays with equal mean\r\n&gt; values are in the same group, and arrays with different mean values\r\n&gt; are in different groups.\r\n&gt; \r\n&gt; Each group should contain a set of indices (i,&#160;j, etc), such that the\r\n&gt; corresponding arrays (a[i],&#160;a[j], etc) all have the same mean. Return\r\n&gt; the set of groups as an array of arrays, where the indices within each\r\n&gt; group are sorted in ascending order, and the groups are sorted in\r\n&gt; ascending order of their minimum element.\r\n&gt; \r\n&gt; So if the input is: \\\r\n&gt;  `a = [[3, 3, 4, 2], [4, 4], [4, 0, 3, 3], [2, 3], [3, 3, 3]]` \\\r\n&gt;  The output should be: \\\r\n&gt; `solution(a) = [[0, 4], [1], [2, 3]]`\r\n\r\n\r\nFollowing is the code I did so far, \r\n\r\n```\r\npublic static int[][] sortMean(int[][] a) {\r\n\tint[] means = new int[a.length]; //store means example: [3, 4, 2, 2, 3] \r\n\t\r\n    //get mean value from each array\r\n    //store the values in mean array \r\n\tfor (int i=0; i&lt;a.length; i++) {\r\n\t\tint sum = 0; \r\n\t\tfor (int j=0; j&lt;a[i].length; j++) {\r\n\t\t\tsum += a[i][j]; \r\n\t\t\tint mean = sum / a[i].length;\r\n\t\t\tmeans[i] = mean; \r\n\t\t}\r\n\t}\r\n\t\r\n\tArrayList&lt;List&lt;Integer&gt;&gt; groupList = new ArrayList&lt;&gt;(); \r\n\t\r\n\t//arraylist to 2d-array\r\n\tint[][] b = groupList.stream().map(  u  -&gt;  u.stream().mapToInt(i-&gt;i).toArray()  ).toArray(int[][]::new);\r\n\treturn b; \r\n}\r\n```\r\n\r\nThe problem I&#39;m facing is that I don&#39;t know how to store the indices and values from the mean array to ArrayList. \r\n\r\nI tried for loops and HashMap but it did not work. ","title":"Get mean value from 2D arrays and return the 2D array with indices of same values","body":"<p>This is the problem from CodeSignal (<a href=\"http://codesignal.com\" rel=\"nofollow noreferrer\">http://codesignal.com</a>).</p>\n<p>Question:</p>\n<blockquote>\n<p>You are given an array of arrays a. Your task is to group the\narrays a[i] by their mean values, so that arrays with equal mean\nvalues are in the same group, and arrays with different mean values\nare in different groups.</p>\n<p>Each group should contain a set of indices (i, j, etc), such that the\ncorresponding arrays (a[i], a[j], etc) all have the same mean. Return\nthe set of groups as an array of arrays, where the indices within each\ngroup are sorted in ascending order, and the groups are sorted in\nascending order of their minimum element.</p>\n<p>So if the input is: <br />\n <code>a = [[3, 3, 4, 2], [4, 4], [4, 0, 3, 3], [2, 3], [3, 3, 3]]</code> <br />\n The output should be: <br />\n<code>solution(a) = [[0, 4], [1], [2, 3]]</code></p>\n</blockquote>\n<p>Following is the code I did so far,</p>\n<pre><code>public static int[][] sortMean(int[][] a) {\n    int[] means = new int[a.length]; //store means example: [3, 4, 2, 2, 3] \n    \n    //get mean value from each array\n    //store the values in mean array \n    for (int i=0; i&lt;a.length; i++) {\n        int sum = 0; \n        for (int j=0; j&lt;a[i].length; j++) {\n            sum += a[i][j]; \n            int mean = sum / a[i].length;\n            means[i] = mean; \n        }\n    }\n    \n    ArrayList&lt;List&lt;Integer&gt;&gt; groupList = new ArrayList&lt;&gt;(); \n    \n    //arraylist to 2d-array\n    int[][] b = groupList.stream().map(  u  -&gt;  u.stream().mapToInt(i-&gt;i).toArray()  ).toArray(int[][]::new);\n    return b; \n}\n</code></pre>\n<p>The problem I'm facing is that I don't know how to store the indices and values from the mean array to ArrayList.</p>\n<p>I tried for loops and HashMap but it did not work.</p>\n"},{"tags":["java","android","flutter","sqlite","sqliteopenhelper"],"comments":[{"owner":{"account_id":15379503,"reputation":227,"user_id":11095297,"display_name":"Eternity"},"score":0,"creation_date":1671782116,"post_id":74897243,"comment_id":132174675,"body_markdown":"Can you try verifying the size using the [flutter app size tool](https://docs.flutter.dev/development/tools/devtools/app-size) and add the screenshot.","body":"Can you try verifying the size using the <a href=\"https://docs.flutter.dev/development/tools/devtools/app-size\" rel=\"nofollow noreferrer\">flutter app size tool</a> and add the screenshot."},{"owner":{"account_id":17003955,"reputation":389,"user_id":12300603,"display_name":"Anushka Pubudu"},"score":0,"creation_date":1671797645,"post_id":74897243,"comment_id":132178399,"body_markdown":"try to compress your audio files and reduce the sizes. or use remote link to use files. you can use google drive like storage if you like","body":"try to compress your audio files and reduce the sizes. or use remote link to use files. you can use google drive like storage if you like"},{"owner":{"account_id":25366679,"reputation":520,"user_id":19181173,"display_name":"Adil Shinwari"},"score":0,"creation_date":1671797876,"post_id":74897243,"comment_id":132178461,"body_markdown":"@Anushka then it will not work offline. Actually, the app is for children&#39;s educational purposes and it is offline. Can&#39;t I store the audio in SQLite as a blob?","body":"@Anushka then it will not work offline. Actually, the app is for children&#39;s educational purposes and it is offline. Can&#39;t I store the audio in SQLite as a blob?"}],"answers":[{"tags":[],"owner":{"account_id":19083818,"reputation":177,"user_id":13935503,"display_name":"Ehsan Faramarz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671797821,"creation_date":1671797821,"answer_id":74899538,"question_id":74897243,"body_markdown":"You can compress your audio files using the `flutter_sound` package, it&#39;ll help you to decrease the size of your audio files, and don&#39;t forget to run `flutter clean` before compiling your app, unless your app size will be more than that size that you expect to be.","title":"Flutter app size increased due to too many audios","body":"<p>You can compress your audio files using the <code>flutter_sound</code> package, it'll help you to decrease the size of your audio files, and don't forget to run <code>flutter clean</code> before compiling your app, unless your app size will be more than that size that you expect to be.</p>\n"}],"owner":{"account_id":25366679,"reputation":520,"user_id":19181173,"display_name":"Adil Shinwari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671797821,"creation_date":1671781213,"question_id":74897243,"body_markdown":"I am working on a Flutter application and I have more than **100 sounds** that users can play for educational purposes. \r\n\r\nI am not using any server or Firebase. Every audio is almost **1 MB**. With that assets folder size will be more than **100** and app size will increase too. \r\n\r\nCan I store all the audio in the SQLite Database? Is there any other way?\r\n\r\n","title":"Flutter app size increased due to too many audios","body":"<p>I am working on a Flutter application and I have more than <strong>100 sounds</strong> that users can play for educational purposes.</p>\n<p>I am not using any server or Firebase. Every audio is almost <strong>1 MB</strong>. With that assets folder size will be more than <strong>100</strong> and app size will increase too.</p>\n<p>Can I store all the audio in the SQLite Database? Is there any other way?</p>\n"},{"tags":["java","spring","spring-boot","modelmapper"],"owner":{"account_id":26950487,"reputation":41,"user_id":20519796,"display_name":"Leobejj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671797756,"creation_date":1671797756,"question_id":74899526,"body_markdown":"I am creating a REST API using Spring Boot and for my update method I try to map a DTO Object to a domain one:\r\n```\r\n public ItemDTO updateItem(Long departmentId, Long itemId, ItemDTO itemDTO) throws ApiException {\r\n        Department department = departmentRepository.findById(departmentId).orElseThrow(\r\n                () -&gt; new ApiException(&quot;Department with this id does not exist &quot;,\r\n                        HttpStatus.NOT_FOUND));\r\n\r\n        Item foundItem = validateItem(itemId);\r\n        Item convertedItem = mapper.convertToType(itemDTO, Item.class);\r\n        if (convertedItem.getStock() &lt; 0) {\r\n            throw new ApiException(&quot;Stock must be a positive value&quot;, HttpStatus.BAD_REQUEST);\r\n        }\r\n\r\n        if (convertedItem.getStockThreshold() &lt; 0) {\r\n            throw new ApiException(&quot;Stock threshold must be a positive value&quot;, HttpStatus.BAD_REQUEST);\r\n        }\r\n\r\n        itemDTO.setId(itemId);\r\n        itemDTO.setDepartment(mapper.convertToType(department, DepartmentDTO.class));\r\n        foundItem = mapper.convertToType(itemDTO, Item.class);\r\n        itemRepository.save(foundItem);\r\n\r\n\r\n//        ItemDTO returnItem = mapper.convertToType(convertedItem, ItemDTO.class);\r\n        logger.info(&quot;Updated item&quot;);\r\n        return itemDTO;\r\n    }\r\n```\r\n\r\nAnd this is my model mapper\r\n```\r\n\r\n@Component\r\npublic class Mapper {\r\n    private final ModelMapper modelMapper;\r\n    private final Logger logger = LoggerFactory.getLogger(ModelMapper.class);\r\n\r\n    public Mapper(ModelMapper modelMapper) {\r\n        this.modelMapper = modelMapper;\r\n    }\r\n\r\n    public &lt;T&gt; T convertToType(Object source, Class&lt;T&gt; resultClass) {\r\n        logger.debug(&quot;converted object from &quot; + source.getClass().getSimpleName() + &quot; to &quot; + resultClass.getSimpleName());\r\n        return modelMapper.map(source, resultClass);\r\n    }\r\n}\r\n```\r\nAt this line ```foundItem = mapper.convertToType(itemDTO, Item.class);``` it&#39;s the problem, before this conversion my foundItem would have a department, after conversion, the department field is null.\r\n\r\nHere are my domain and DTO classes\r\n\r\n```\r\n@NoArgsConstructor\r\n\r\n@Getter\r\n@Setter\r\n    public class DepartmentDTO {\r\n    private Long id;\r\n    private String description;\r\n    private List&lt;Item&gt; items;\r\n\r\n\r\n    public DepartmentDTO(long id, String description) {\r\n        this.id = id;\r\n        this.description = description;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;DepartmentDTO{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n                &quot;, items=&quot; + items +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        DepartmentDTO that = (DepartmentDTO) o;\r\n        return Objects.equals(id, that.id) &amp;&amp; Objects.equals(description, that.description) &amp;&amp; Objects.equals(items, that.items);\r\n    }\r\n\r\n//    @Override\r\n//    public int hashCode() {\r\n//        return Objects.hash(id, description, items);\r\n//    }\r\n}\r\n```\r\n```\r\n@NoArgsConstructor\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;DEPARTMENTS&quot;)\r\npublic class Department {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String description;\r\n    @OneToMany(mappedBy = &quot;department&quot;, fetch = FetchType.EAGER,\r\n            cascade = CascadeType.ALL)\r\n    private List&lt;Item&gt; items;\r\n    public Department(Long id, String description) {\r\n        this.id = id;\r\n        this.description = description;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Department{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n                &quot;, items=&quot; + items +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof Department)) return false;\r\n        Department that = (Department) o;\r\n        return id.equals(that.id) &amp;&amp; Objects.equals(description, that.description) &amp;&amp; Objects.equals(items, that.items);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, description, items);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n    @AllArgsConstructor\r\n\r\n       @NoArgsConstructor\r\n    @Setter\r\n    public class ItemDTO {\r\n        private Long id;\r\n        private String description;\r\n        private String price;\r\n        private int stock;\r\n    \r\n        private int stockThreshold;\r\n    \r\n        private DepartmentDTO department;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public String getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public int getStock() {\r\n        return stock;\r\n    }\r\n\r\n    public int getStockThreshold() {\r\n        return stockThreshold;\r\n    }\r\n\r\n    public Long getDepartment() {\r\n        return department.getId();\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        ItemDTO itemDTO = (ItemDTO) o;\r\n        return stock == itemDTO.stock &amp;&amp; stockThreshold == itemDTO.stockThreshold &amp;&amp;\r\n                id.equals(itemDTO.id) &amp;&amp; description.equals(itemDTO.description) &amp;&amp;\r\n                price.equals(itemDTO.price) &amp;&amp; department.equals(itemDTO.department);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, description, price, stock);\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;ITEMS&quot;)\r\npublic class Item {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n    private Long id;\r\n    private String description;\r\n    private String price;\r\n    private int stock;\r\n\r\n    private int stockThreshold = 5;\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;department_id&quot;, nullable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    private Department department;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Item{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n                &quot;, price=&#39;&quot; + price + &#39;\\&#39;&#39; +\r\n                &quot;, stock=&quot; + stock +\r\n                &quot;, department=&quot; + department +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n[![Before convertToType][1]][1]\r\n\r\n[![After convertToType()][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B5Mq8.png\r\n  [2]: https://i.stack.imgur.com/XvmgX.png","title":"Why my custom Model mapper doesn&#39;t work properly?","body":"<p>I am creating a REST API using Spring Boot and for my update method I try to map a DTO Object to a domain one:</p>\n<pre><code> public ItemDTO updateItem(Long departmentId, Long itemId, ItemDTO itemDTO) throws ApiException {\n        Department department = departmentRepository.findById(departmentId).orElseThrow(\n                () -&gt; new ApiException(&quot;Department with this id does not exist &quot;,\n                        HttpStatus.NOT_FOUND));\n\n        Item foundItem = validateItem(itemId);\n        Item convertedItem = mapper.convertToType(itemDTO, Item.class);\n        if (convertedItem.getStock() &lt; 0) {\n            throw new ApiException(&quot;Stock must be a positive value&quot;, HttpStatus.BAD_REQUEST);\n        }\n\n        if (convertedItem.getStockThreshold() &lt; 0) {\n            throw new ApiException(&quot;Stock threshold must be a positive value&quot;, HttpStatus.BAD_REQUEST);\n        }\n\n        itemDTO.setId(itemId);\n        itemDTO.setDepartment(mapper.convertToType(department, DepartmentDTO.class));\n        foundItem = mapper.convertToType(itemDTO, Item.class);\n        itemRepository.save(foundItem);\n\n\n//        ItemDTO returnItem = mapper.convertToType(convertedItem, ItemDTO.class);\n        logger.info(&quot;Updated item&quot;);\n        return itemDTO;\n    }\n</code></pre>\n<p>And this is my model mapper</p>\n<pre><code>\n@Component\npublic class Mapper {\n    private final ModelMapper modelMapper;\n    private final Logger logger = LoggerFactory.getLogger(ModelMapper.class);\n\n    public Mapper(ModelMapper modelMapper) {\n        this.modelMapper = modelMapper;\n    }\n\n    public &lt;T&gt; T convertToType(Object source, Class&lt;T&gt; resultClass) {\n        logger.debug(&quot;converted object from &quot; + source.getClass().getSimpleName() + &quot; to &quot; + resultClass.getSimpleName());\n        return modelMapper.map(source, resultClass);\n    }\n}\n</code></pre>\n<p>At this line <code>foundItem = mapper.convertToType(itemDTO, Item.class);</code> it's the problem, before this conversion my foundItem would have a department, after conversion, the department field is null.</p>\n<p>Here are my domain and DTO classes</p>\n<pre><code>@NoArgsConstructor\n\n@Getter\n@Setter\n    public class DepartmentDTO {\n    private Long id;\n    private String description;\n    private List&lt;Item&gt; items;\n\n\n    public DepartmentDTO(long id, String description) {\n        this.id = id;\n        this.description = description;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;DepartmentDTO{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, description='&quot; + description + '\\'' +\n                &quot;, items=&quot; + items +\n                '}';\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        DepartmentDTO that = (DepartmentDTO) o;\n        return Objects.equals(id, that.id) &amp;&amp; Objects.equals(description, that.description) &amp;&amp; Objects.equals(items, that.items);\n    }\n\n//    @Override\n//    public int hashCode() {\n//        return Objects.hash(id, description, items);\n//    }\n}\n</code></pre>\n<pre><code>@NoArgsConstructor\n@Entity\n@Getter\n@Setter\n@Table(name = &quot;DEPARTMENTS&quot;)\npublic class Department {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String description;\n    @OneToMany(mappedBy = &quot;department&quot;, fetch = FetchType.EAGER,\n            cascade = CascadeType.ALL)\n    private List&lt;Item&gt; items;\n    public Department(Long id, String description) {\n        this.id = id;\n        this.description = description;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Department{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, description='&quot; + description + '\\'' +\n                &quot;, items=&quot; + items +\n                '}';\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Department)) return false;\n        Department that = (Department) o;\n        return id.equals(that.id) &amp;&amp; Objects.equals(description, that.description) &amp;&amp; Objects.equals(items, that.items);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, description, items);\n    }\n\n}\n</code></pre>\n<pre><code>@AllArgsConstructor\n\n   @NoArgsConstructor\n@Setter\npublic class ItemDTO {\n    private Long id;\n    private String description;\n    private String price;\n    private int stock;\n\n    private int stockThreshold;\n\n    private DepartmentDTO department;\n\npublic Long getId() {\n    return id;\n}\n\npublic String getDescription() {\n    return description;\n}\n\npublic String getPrice() {\n    return price;\n}\n\npublic int getStock() {\n    return stock;\n}\n\npublic int getStockThreshold() {\n    return stockThreshold;\n}\n\npublic Long getDepartment() {\n    return department.getId();\n}\n\n@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    ItemDTO itemDTO = (ItemDTO) o;\n    return stock == itemDTO.stock &amp;&amp; stockThreshold == itemDTO.stockThreshold &amp;&amp;\n            id.equals(itemDTO.id) &amp;&amp; description.equals(itemDTO.description) &amp;&amp;\n            price.equals(itemDTO.price) &amp;&amp; department.equals(itemDTO.department);\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(id, description, price, stock);\n}\n</code></pre>\n<p>}</p>\n<pre><code>\n\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;ITEMS&quot;)\npublic class Item {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, nullable = false)\n    private Long id;\n    private String description;\n    private String price;\n    private int stock;\n\n    private int stockThreshold = 5;\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;department_id&quot;, nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonIgnore\n    private Department department;\n\n    @Override\n    public String toString() {\n        return &quot;Item{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, description='&quot; + description + '\\'' +\n                &quot;, price='&quot; + price + '\\'' +\n                &quot;, stock=&quot; + stock +\n                &quot;, department=&quot; + department +\n                '}';\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/B5Mq8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5Mq8.png\" alt=\"Before convertToType\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XvmgX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XvmgX.png\" alt=\"After convertToType()\" /></a></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1659595892,"post_id":73231421,"comment_id":129332830,"body_markdown":"`dropWhile` only skips a continuous prefix of matches. `filter` drops any mismatched element.","body":"<code>dropWhile</code> only skips a continuous prefix of matches. <code>filter</code> drops any mismatched element."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1659596096,"post_id":73231421,"comment_id":129332902,"body_markdown":"Related: [1](https://stackoverflow.com/questions/46850689/how-is-takewhile-different-from-filter) [2](https://stackoverflow.com/questions/51583361/scala-dropwhile-vs-filter)","body":"Related: <a href=\"https://stackoverflow.com/questions/46850689/how-is-takewhile-different-from-filter\">1</a> <a href=\"https://stackoverflow.com/questions/51583361/scala-dropwhile-vs-filter\">2</a>"}],"answers":[{"tags":[],"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659596176,"creation_date":1659596176,"answer_id":73231521,"question_id":73231421,"body_markdown":"Let&#39;s have a look at this example:\r\n```\r\nStream.of(1, 2, 3, 1)\r\n       .dropWhile(i -&gt; i &lt; 2)\r\n       .forEach(System.out::println);\r\n\r\nSystem.out.println(&quot;====&quot;);\r\n\r\nStream.of(1, 2, 3, 1)\r\n       .filter(i -&gt; i &lt; 2)\r\n       .forEach(System.out::println);\r\n```\r\nwhich will give the following output:\r\n```\r\n2\r\n3\r\n1\r\n====\r\n1\r\n1\r\n```\r\n\r\nFirstly, in ordered streams `dropWhile` drops only the longest prefix of matching elements (see the docs). Also, you can see that `filter` specifies which elements need to pass, while `dropWhile` which to remove.","title":"Java Stream - what is the difference between filter() and dropWhile()","body":"<p>Let's have a look at this example:</p>\n<pre><code>Stream.of(1, 2, 3, 1)\n       .dropWhile(i -&gt; i &lt; 2)\n       .forEach(System.out::println);\n\nSystem.out.println(&quot;====&quot;);\n\nStream.of(1, 2, 3, 1)\n       .filter(i -&gt; i &lt; 2)\n       .forEach(System.out::println);\n</code></pre>\n<p>which will give the following output:</p>\n<pre><code>2\n3\n1\n====\n1\n1\n</code></pre>\n<p>Firstly, in ordered streams <code>dropWhile</code> drops only the longest prefix of matching elements (see the docs). Also, you can see that <code>filter</code> specifies which elements need to pass, while <code>dropWhile</code> which to remove.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659596411,"creation_date":1659596411,"answer_id":73231561,"question_id":73231421,"body_markdown":"Here is a small program that shows the difference.\r\n\r\n    public class Example {\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; numbers = List.of(-1, -3, -4, 2, 5, -6, -7, 8);\r\n\r\n            // Prints: 2, 5, 8\r\n            System.out.println(numbers.stream()\r\n                    .filter(n -&gt; n &gt;= 0)\r\n                    .map(Object::toString).collect(Collectors.joining(&quot;, &quot;)));\r\n\r\n            // Prints: 2, 5, -6, -7, 8\r\n            System.out.println(numbers.stream()\r\n                    .dropWhile(n -&gt; n &lt; 0)\r\n                    .map(Object::toString).collect(Collectors.joining(&quot;, &quot;)));\r\n        }\r\n    }\r\n\r\n`filter` removes all the elements from the stream which do not match the predicate (in this case: `n -&gt; n &gt;= 0`, so it removes the negative numbers).\r\n\r\n`dropWhile` removes the elements that *do* match the predicate (in this case: `n -&gt; n &lt; 0`), until it finds an element that does *not* match the predicate. From that point on it lets all elements pass through.\r\n\r\nNote that the predicates used for `filter` and `dropWhile` are each others&#39; opposites in this example.\r\n","title":"Java Stream - what is the difference between filter() and dropWhile()","body":"<p>Here is a small program that shows the difference.</p>\n<pre><code>public class Example {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; numbers = List.of(-1, -3, -4, 2, 5, -6, -7, 8);\n\n        // Prints: 2, 5, 8\n        System.out.println(numbers.stream()\n                .filter(n -&gt; n &gt;= 0)\n                .map(Object::toString).collect(Collectors.joining(&quot;, &quot;)));\n\n        // Prints: 2, 5, -6, -7, 8\n        System.out.println(numbers.stream()\n                .dropWhile(n -&gt; n &lt; 0)\n                .map(Object::toString).collect(Collectors.joining(&quot;, &quot;)));\n    }\n}\n</code></pre>\n<p><code>filter</code> removes all the elements from the stream which do not match the predicate (in this case: <code>n -&gt; n &gt;= 0</code>, so it removes the negative numbers).</p>\n<p><code>dropWhile</code> removes the elements that <em>do</em> match the predicate (in this case: <code>n -&gt; n &lt; 0</code>), until it finds an element that does <em>not</em> match the predicate. From that point on it lets all elements pass through.</p>\n<p>Note that the predicates used for <code>filter</code> and <code>dropWhile</code> are each others' opposites in this example.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671797478,"creation_date":1659608382,"answer_id":73234176,"question_id":73231421,"body_markdown":"[`filter`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)) - is a ***stateless*** intermediate operation which always returns a stream consisting only of elements the matches the given predicate.\r\n\r\n&gt; Returns a stream consisting of the elements of this stream that match\r\n&gt; the given predicate.\r\n\r\n[`dropWhile`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#dropWhile(java.util.function.Predicate)) -  is a ***statefull*** intermediate operation, which also expects a predicate and basically acts like a stateful filter. After the first element which doesn&#39;t match the predicate has been encountered, `dropWhile()` stops discarding elements from the stream.\r\n\r\n&gt; If this stream is **ordered** then the longest prefix is a contiguous\r\n&gt; sequence of elements of this stream that match the given predicate.\r\n&gt; \r\n&gt; If this stream is **unordered**, and some (but not all) elements of\r\n&gt; this stream match the given predicate, then the behavior of this\r\n&gt; operation is **nondeterministic**; it is free to drop **any subset**\r\n&gt; of matching elements (which includes the empty set).\r\n\r\nTo understand the difference between in behavior of the `dropWhile` with *ordered* and *unordered* stream, let&#39;s consider the following examples.\r\n\r\nThat would an example of *unordered* stream:\r\n```\r\nSet&lt;Integer&gt; numbers = Set.of(9, 1, 2, 3, 4, 5, 6, 7, 8);\r\n\r\nnumbers.stream()\r\n    .dropWhile(i -&gt; i &lt; 9)\r\n    .forEach(System.out::print);\r\n```\r\nOutput can be for example `912`, it would range from `9` to `123456789` (meaning that **all** elements might be present, the order in the output would be unpredictable). Because the stream is unordered elements from the source might appear in the stream, and `dropWhile()` can be switched off at any point of execution, that&#39;s what the phrase *&quot;behavior is nondeterministic&quot;* in this case means.\r\n\r\nNow let&#39;s take a look at the *ordered stream*:\r\n```\r\nList&lt;Integer&gt; numbers = List.of(9, 1, 2, 3, 4, 5, 6, 7, 8);\r\n    \r\nnumbers.stream()\r\n    .dropWhile(i -&gt; i &lt; 9)\r\n    .forEach(System.out::print);\r\n```\r\n*Output:*\r\n```\r\n912345678\r\n```\r\nSince `9`, the very first element in the stream, doesn&#39;t match the predicate, it will never be evaluated again, `dropWhile()` is being switched off and all element would reach the terminal operation.","title":"Java Stream - what is the difference between filter() and dropWhile()","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>filter</code></a> - is a <em><strong>stateless</strong></em> intermediate operation which always returns a stream consisting only of elements the matches the given predicate.</p>\n<blockquote>\n<p>Returns a stream consisting of the elements of this stream that match\nthe given predicate.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#dropWhile(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>dropWhile</code></a> -  is a <em><strong>statefull</strong></em> intermediate operation, which also expects a predicate and basically acts like a stateful filter. After the first element which doesn't match the predicate has been encountered, <code>dropWhile()</code> stops discarding elements from the stream.</p>\n<blockquote>\n<p>If this stream is <strong>ordered</strong> then the longest prefix is a contiguous\nsequence of elements of this stream that match the given predicate.</p>\n<p>If this stream is <strong>unordered</strong>, and some (but not all) elements of\nthis stream match the given predicate, then the behavior of this\noperation is <strong>nondeterministic</strong>; it is free to drop <strong>any subset</strong>\nof matching elements (which includes the empty set).</p>\n</blockquote>\n<p>To understand the difference between in behavior of the <code>dropWhile</code> with <em>ordered</em> and <em>unordered</em> stream, let's consider the following examples.</p>\n<p>That would an example of <em>unordered</em> stream:</p>\n<pre><code>Set&lt;Integer&gt; numbers = Set.of(9, 1, 2, 3, 4, 5, 6, 7, 8);\n\nnumbers.stream()\n    .dropWhile(i -&gt; i &lt; 9)\n    .forEach(System.out::print);\n</code></pre>\n<p>Output can be for example <code>912</code>, it would range from <code>9</code> to <code>123456789</code> (meaning that <strong>all</strong> elements might be present, the order in the output would be unpredictable). Because the stream is unordered elements from the source might appear in the stream, and <code>dropWhile()</code> can be switched off at any point of execution, that's what the phrase <em>&quot;behavior is nondeterministic&quot;</em> in this case means.</p>\n<p>Now let's take a look at the <em>ordered stream</em>:</p>\n<pre><code>List&lt;Integer&gt; numbers = List.of(9, 1, 2, 3, 4, 5, 6, 7, 8);\n    \nnumbers.stream()\n    .dropWhile(i -&gt; i &lt; 9)\n    .forEach(System.out::print);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>912345678\n</code></pre>\n<p>Since <code>9</code>, the very first element in the stream, doesn't match the predicate, it will never be evaluated again, <code>dropWhile()</code> is being switched off and all element would reach the terminal operation.</p>\n"}],"owner":{"account_id":19517744,"reputation":21,"user_id":14280246,"display_name":"Dev_panda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1565,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1671797478,"creation_date":1659595644,"question_id":73231421,"body_markdown":"With Java 9 method `dropWhile()` was added to the Stream API. When I read the documentation, I found out that it is very similar to Java 8 `filter()` method. \r\n\r\nAm I missing something? What is the difference between these methods?","title":"Java Stream - what is the difference between filter() and dropWhile()","body":"<p>With Java 9 method <code>dropWhile()</code> was added to the Stream API. When I read the documentation, I found out that it is very similar to Java 8 <code>filter()</code> method.</p>\n<p>Am I missing something? What is the difference between these methods?</p>\n"},{"tags":["java","fasterxml"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1671747942,"post_id":74894258,"comment_id":132170137,"body_markdown":"Ccan you show us some [mre] please? Because your question does neither show what object you serialize nor how you call that serializer (XmlMapper instance?).","body":"Ccan you show us some <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please? Because your question does neither show what object you serialize nor how you call that serializer (XmlMapper instance?)."}],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671796571,"creation_date":1671796571,"answer_id":74899368,"question_id":74894258,"body_markdown":"Dirty Solution\r\n\r\n# UserDAOSerializer.java\r\n\r\n    package org.example;\r\n    \r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import com.fasterxml.jackson.databind.ser.std.StdSerializer;\r\n    import com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator;\r\n    import java.io.IOException;\r\n    \r\n    public class UserDAOSerializer extends StdSerializer&lt;UserDAO&gt; {\r\n        public UserDAOSerializer() {\r\n            this(null);\r\n        }\r\n    \r\n        public UserDAOSerializer(Class&lt;UserDAO&gt; t) {\r\n            super(t);\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(UserDAO value, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n            Object jsonGenerator;\r\n            if (gen instanceof ToXmlGenerator) {\r\n                final ToXmlGenerator xmlGenerator = (ToXmlGenerator) gen;\r\n                gen.writeStartObject();\r\n                xmlGenerator.setNextIsAttribute(true);\r\n                gen.writeStringField(&quot;id&quot;,String.valueOf(value.getId()));\r\n    \r\n                xmlGenerator.setNextIsAttribute(false);\r\n                gen.writeStringField(&quot;password&quot;,value.getCredentials().getPassword());\r\n                gen.writeStringField(&quot;name&quot;,value.getCredentials().getUsername());\r\n                gen.writeEndObject();\r\n            } else {\r\n                //TODO JSON MAPPING\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n# UserDAO.java\r\n\r\n    package org.example;\r\n    \r\n    import com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\n    import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\n    \r\n    @JsonSerialize(using = UserDAOSerializer.class)\r\n    public class UserDAO {\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private int id;\r\n        private Credentials credentials;\r\n        public int getId() {\r\n            return id;\r\n        }\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Credentials getCredentials() {\r\n            return credentials;\r\n        }\r\n    \r\n        public void setCredentials(Credentials credentials) {\r\n            this.credentials = credentials;\r\n        }\r\n    \r\n    }\r\n\r\n# Main2.java\r\n\r\n    package org.example;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n    \r\n    public class Main2 {\r\n        public static void main(String[] args) throws JsonProcessingException {\r\n            Credentials c1=new Credentials();\r\n            c1.setUsername(&quot;Steve&quot;);\r\n            c1.setPassword(&quot;123&quot;);\r\n            UserDAO u1=new UserDAO();\r\n            u1.setId(1);\r\n            u1.setCredentials(c1);\r\n            XmlMapper xmlMapper = new XmlMapper();\r\n            String s2=xmlMapper.writeValueAsString(u1);\r\n            System.out.println(s2);\r\n        }\r\n    }\r\n\r\n# Credentials.java\r\n\r\npackage org.example;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\n    public class Credentials {\r\n       // @JacksonXmlProperty(localName = &quot;name&quot;)\r\n        @JsonProperty(&quot;name&quot;)\r\n        private String username;\r\n        private String password;\r\n    \r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    }\r\n\r\n# Run Result\r\n\r\n    &lt;UserDAO id=&quot;1&quot;&gt;\r\n        &lt;password&gt;123&lt;/password&gt;\r\n        &lt;name&gt;Steve&lt;/name&gt;\r\n    &lt;/UserDAO&gt;\r\n\r\n# REF\r\n\r\nhttps://stackoverflow.com/questions/29513716/jackson-registering-a-custom-xml-serializer-for-map-data-structure\r\n\r\n@Bender answer\r\n\r\n# Conclusion\r\n\r\n I know this is not exactly what you asked for, this is just a POC.\r\n\r\nI think you can handle others.\r\n\r\nI hope this answer can solve your problem.","title":"How do I remove a wrapper for an object when using XmlWrapper?","body":"<p>Dirty Solution</p>\n<h1>UserDAOSerializer.java</h1>\n<pre><code>package org.example;\n\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\nimport com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator;\nimport java.io.IOException;\n\npublic class UserDAOSerializer extends StdSerializer&lt;UserDAO&gt; {\n    public UserDAOSerializer() {\n        this(null);\n    }\n\n    public UserDAOSerializer(Class&lt;UserDAO&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(UserDAO value, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        Object jsonGenerator;\n        if (gen instanceof ToXmlGenerator) {\n            final ToXmlGenerator xmlGenerator = (ToXmlGenerator) gen;\n            gen.writeStartObject();\n            xmlGenerator.setNextIsAttribute(true);\n            gen.writeStringField(&quot;id&quot;,String.valueOf(value.getId()));\n\n            xmlGenerator.setNextIsAttribute(false);\n            gen.writeStringField(&quot;password&quot;,value.getCredentials().getPassword());\n            gen.writeStringField(&quot;name&quot;,value.getCredentials().getUsername());\n            gen.writeEndObject();\n        } else {\n            //TODO JSON MAPPING\n        }\n    }\n\n}\n</code></pre>\n<h1>UserDAO.java</h1>\n<pre><code>package org.example;\n\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n\n@JsonSerialize(using = UserDAOSerializer.class)\npublic class UserDAO {\n    @JacksonXmlProperty(isAttribute = true)\n    private int id;\n    private Credentials credentials;\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public Credentials getCredentials() {\n        return credentials;\n    }\n\n    public void setCredentials(Credentials credentials) {\n        this.credentials = credentials;\n    }\n\n}\n</code></pre>\n<h1>Main2.java</h1>\n<pre><code>package org.example;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\n\npublic class Main2 {\n    public static void main(String[] args) throws JsonProcessingException {\n        Credentials c1=new Credentials();\n        c1.setUsername(&quot;Steve&quot;);\n        c1.setPassword(&quot;123&quot;);\n        UserDAO u1=new UserDAO();\n        u1.setId(1);\n        u1.setCredentials(c1);\n        XmlMapper xmlMapper = new XmlMapper();\n        String s2=xmlMapper.writeValueAsString(u1);\n        System.out.println(s2);\n    }\n}\n</code></pre>\n<h1>Credentials.java</h1>\n<p>package org.example;</p>\n<p>import com.fasterxml.jackson.annotation.JsonProperty;</p>\n<pre><code>public class Credentials {\n   // @JacksonXmlProperty(localName = &quot;name&quot;)\n    @JsonProperty(&quot;name&quot;)\n    private String username;\n    private String password;\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n}\n</code></pre>\n<h1>Run Result</h1>\n<pre><code>&lt;UserDAO id=&quot;1&quot;&gt;\n    &lt;password&gt;123&lt;/password&gt;\n    &lt;name&gt;Steve&lt;/name&gt;\n&lt;/UserDAO&gt;\n</code></pre>\n<h1>REF</h1>\n<p><a href=\"https://stackoverflow.com/questions/29513716/jackson-registering-a-custom-xml-serializer-for-map-data-structure\">Jackson: Registering a custom XML serializer for Map data structure</a></p>\n<p>@Bender answer</p>\n<h1>Conclusion</h1>\n<p>I know this is not exactly what you asked for, this is just a POC.</p>\n<p>I think you can handle others.</p>\n<p>I hope this answer can solve your problem.</p>\n"}],"owner":{"account_id":6985477,"reputation":568,"user_id":5356628,"accept_rate":65,"display_name":"Ero Stefano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74899368,"answer_count":1,"score":0,"last_activity_date":1671796571,"creation_date":1671746313,"question_id":74894258,"body_markdown":"The XML output contains the wrapper &quot;credentials&quot; altough I excluded it with defaultUseWrapper(false). \r\n\r\nUserDAO\r\n\r\n    public class UserDAO {\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private int id;\r\n    \r\n        private Credentials credentials;\r\n        \r\n        @JacksonXmlProperty(localName = &quot;todos&quot;)\r\n        private TasksDAO tasks;\r\n\r\n        // getter, setter\r\n    }\r\n\r\nCredentials\r\n\r\n    public class Credentials {\r\n        @JacksonXmlProperty(localName = &quot;name&quot;)\r\n        @JsonProperty(&quot;name&quot;)\r\n        private String username;\r\n        private String password;\r\n       \r\n        // getter, setter\r\n    }\r\n\r\nXmlWrapper config\r\n\r\n    XmlMapper\r\n                    .builder()\r\n                    .defaultUseWrapper(false)\r\n                    .addModule(new JavaTimeModule())\r\n                    .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\r\n                    .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\r\n                    .build()\r\n\r\n\r\nXML output\r\n\r\n    &lt;users&gt;\r\n        &lt;user id=&quot;1&quot;&gt;\r\n            &lt;credentials&gt;\r\n                &lt;password&gt;123&lt;/password&gt;\r\n                &lt;name&gt;Steve&lt;/name&gt;\r\n            &lt;/credentials&gt;\r\n            &lt;todos/&gt;\r\n        &lt;/user&gt;\r\n    &lt;/users&gt;\r\n\r\nMy goal is to have it flat with user and password. How should I do to remove the wrapper credentials?\r\n\r\nDesired Output\r\n\r\n    &lt;users&gt;\r\n        &lt;user id=&quot;1&quot;&gt;\r\n            &lt;password&gt;123&lt;/password&gt;\r\n            &lt;name&gt;Steve&lt;/name&gt;\r\n            &lt;todos/&gt;\r\n        &lt;/user&gt;\r\n    &lt;/users&gt;","title":"How do I remove a wrapper for an object when using XmlWrapper?","body":"<p>The XML output contains the wrapper &quot;credentials&quot; altough I excluded it with defaultUseWrapper(false).</p>\n<p>UserDAO</p>\n<pre><code>public class UserDAO {\n    @JacksonXmlProperty(isAttribute = true)\n    private int id;\n\n    private Credentials credentials;\n    \n    @JacksonXmlProperty(localName = &quot;todos&quot;)\n    private TasksDAO tasks;\n\n    // getter, setter\n}\n</code></pre>\n<p>Credentials</p>\n<pre><code>public class Credentials {\n    @JacksonXmlProperty(localName = &quot;name&quot;)\n    @JsonProperty(&quot;name&quot;)\n    private String username;\n    private String password;\n   \n    // getter, setter\n}\n</code></pre>\n<p>XmlWrapper config</p>\n<pre><code>XmlMapper\n                .builder()\n                .defaultUseWrapper(false)\n                .addModule(new JavaTimeModule())\n                .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n                .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\n                .build()\n</code></pre>\n<p>XML output</p>\n<pre><code>&lt;users&gt;\n    &lt;user id=&quot;1&quot;&gt;\n        &lt;credentials&gt;\n            &lt;password&gt;123&lt;/password&gt;\n            &lt;name&gt;Steve&lt;/name&gt;\n        &lt;/credentials&gt;\n        &lt;todos/&gt;\n    &lt;/user&gt;\n&lt;/users&gt;\n</code></pre>\n<p>My goal is to have it flat with user and password. How should I do to remove the wrapper credentials?</p>\n<p>Desired Output</p>\n<pre><code>&lt;users&gt;\n    &lt;user id=&quot;1&quot;&gt;\n        &lt;password&gt;123&lt;/password&gt;\n        &lt;name&gt;Steve&lt;/name&gt;\n        &lt;todos/&gt;\n    &lt;/user&gt;\n&lt;/users&gt;\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1671860984,"post_id":74899294,"comment_id":132189509,"body_markdown":"If the `getGraphicFrame()` returns null, then the chart is not within a graphic frame. Maybe it is within a chart sheet? But then setting &#39;Don&#39;t move or size with cells&#39; option is useless at all. We would need the Excel document in question to be able to help.","body":"If the <code>getGraphicFrame()</code> returns null, then the chart is not within a graphic frame. Maybe it is within a chart sheet? But then setting &#39;Don&#39;t move or size with cells&#39; option is useless at all. We would need the Excel document in question to be able to help."},{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1672034186,"post_id":74899294,"comment_id":132209764,"body_markdown":"@AxelRichter Thx for the explanation. I am unable to share the template in its current form, will have to recreate a similar excel. The template has been created manually is that the reason the chart is not within a graphic frame or is my assumption incorrect.","body":"@AxelRichter Thx for the explanation. I am unable to share the template in its current form, will have to recreate a similar excel. The template has been created manually is that the reason the chart is not within a graphic frame or is my assumption incorrect."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1672035059,"post_id":74899294,"comment_id":132209878,"body_markdown":"Well, you have a problem with a workbook and code you have created. To be able to help, one will need that workbook and that code. In other words one need a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). Else all answers only are guesses and no valid answers are possible. So without that minimal, reproducible example all attempts to answer will be waste of time only.","body":"Well, you have a problem with a workbook and code you have created. To be able to help, one will need that workbook and that code. In other words one need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>. Else all answers only are guesses and no valid answers are possible. So without that minimal, reproducible example all attempts to answer will be waste of time only."}],"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671796072,"creation_date":1671796072,"question_id":74899294,"body_markdown":"I have an excel template which has the table and charts already setup, just need to add data. There is a collapsible table (using group row) which has a variable number of rows. Beneath this table are two bar charts at the same vertical level.\r\n\r\nAfter filling the table data the two charts are shifted down so when the table is expanded there is no overlapping between the table and charts.\r\n\r\nTo enable this the chart properties are set to &#39;Move but dont size with cells&#39;. This works but when any columns or rows are resized the two charts start to move. **This can be fixed by using the &#39;Dont move or size with cells&#39; option.** \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have tried the below code but am getting NPE with the following code. The `getGraphicFrame()` returns null.\r\n\r\n  `dbSheet.getDrawingPatriarch().getCharts().get(0).getGraphicFrame().getAnchor().setAnchorType(AnchorType.DONT_MOVE_AND_RESIZE);`\r\n\r\nCan someone advise how this can be done? Thanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4BH6K.png","title":"POI Excel chart - set property to - &#39;Don&#39;t move or size with cells&#39;","body":"<p>I have an excel template which has the table and charts already setup, just need to add data. There is a collapsible table (using group row) which has a variable number of rows. Beneath this table are two bar charts at the same vertical level.</p>\n<p>After filling the table data the two charts are shifted down so when the table is expanded there is no overlapping between the table and charts.</p>\n<p>To enable this the chart properties are set to 'Move but dont size with cells'. This works but when any columns or rows are resized the two charts start to move. <strong>This can be fixed by using the 'Dont move or size with cells' option.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/4BH6K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4BH6K.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried the below code but am getting NPE with the following code. The <code>getGraphicFrame()</code> returns null.</p>\n<p><code>dbSheet.getDrawingPatriarch().getCharts().get(0).getGraphicFrame().getAnchor().setAnchorType(AnchorType.DONT_MOVE_AND_RESIZE);</code></p>\n<p>Can someone advise how this can be done? Thanks.</p>\n"},{"tags":["java","jboss","jax-rs","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1671746500,"post_id":74894260,"comment_id":132169791,"body_markdown":"What version of RESTEasy are you using? I also assume this is a cross-post of https://github.com/resteasy/resteasy/discussions/3377.","body":"What version of RESTEasy are you using? I also assume this is a cross-post of <a href=\"https://github.com/resteasy/resteasy/discussions/3377\" rel=\"nofollow noreferrer\">github.com/resteasy/resteasy/discussions/3377</a>."},{"owner":{"account_id":8005552,"reputation":628,"user_id":6426446,"accept_rate":78,"display_name":"bramhaag"},"score":0,"creation_date":1671746909,"post_id":74894260,"comment_id":132169921,"body_markdown":"@JamesR.Perkins I&#39;m on 4.3.1.Final (API regarding this functionality remains unchanged in RESTEasy 6.x as far as I can see), and yes it is a cross-post.","body":"@JamesR.Perkins I&#39;m on 4.3.1.Final (API regarding this functionality remains unchanged in RESTEasy 6.x as far as I can see), and yes it is a cross-post."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1672419680,"post_id":74894260,"comment_id":132287681,"body_markdown":"I&#39;m not seeing a way to do this. You could use `@Context` and a `ContextResolver`.","body":"I&#39;m not seeing a way to do this. You could use <code>@Context</code> and a <code>ContextResolver</code>."}],"owner":{"account_id":8005552,"reputation":628,"user_id":6426446,"accept_rate":78,"display_name":"bramhaag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671795710,"creation_date":1671746328,"question_id":74894260,"body_markdown":"I want to be able to do something like this:\r\n```\r\n@Path(&quot;/test&quot;)\r\n@GET \r\npublic Response get(@Pageable(minSize = 5, maxSize = 10) Pageable pageable)\r\n```\r\n\r\nIn Jersey, this can be achieved by implementing and registering a custom `ValueParamProvider`. How can this be done with RESTEasy?\r\n\r\nRESTEasy&#39;s parameter injectors for the default `@*Param` annotations are defined by implementing the `ValueInjector` interface. This looks suitable for my usecase, but I am not sure how to register a new instance.\r\n\r\nThe default `@*Param` injectors are registered in the `InjectorFactoryImpl` class, but this does not look like something I can do.","title":"Use custom parameter annotations with RESTEasy","body":"<p>I want to be able to do something like this:</p>\n<pre><code>@Path(&quot;/test&quot;)\n@GET \npublic Response get(@Pageable(minSize = 5, maxSize = 10) Pageable pageable)\n</code></pre>\n<p>In Jersey, this can be achieved by implementing and registering a custom <code>ValueParamProvider</code>. How can this be done with RESTEasy?</p>\n<p>RESTEasy's parameter injectors for the default <code>@*Param</code> annotations are defined by implementing the <code>ValueInjector</code> interface. This looks suitable for my usecase, but I am not sure how to register a new instance.</p>\n<p>The default <code>@*Param</code> injectors are registered in the <code>InjectorFactoryImpl</code> class, but this does not look like something I can do.</p>\n"},{"tags":["java","maven","junit","cucumber","appium"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1671795018,"post_id":74898121,"comment_id":132177746,"body_markdown":"Did you read the Javadoc on the `tags` attribute?","body":"Did you read the Javadoc on the <code>tags</code> attribute?"}],"answers":[{"tags":[],"owner":{"account_id":20087954,"reputation":423,"user_id":14729128,"display_name":"Maria"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671795264,"creation_date":1671795264,"answer_id":74899177,"question_id":74898121,"body_markdown":"I think your syntax is just not right, try the following:\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(plugin = {....},\r\n            features= &quot;...&quot;,\r\n            glue= {&quot;stepdef&quot;},\r\n            tags= &quot;@test or @test2&quot;\r\n            )\r\n    public class TestRunner {\r\n    }","title":"Can&#39;t use multiple tags in cucumber Runner file in java","body":"<p>I think your syntax is just not right, try the following:</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(plugin = {....},\n        features= &quot;...&quot;,\n        glue= {&quot;stepdef&quot;},\n        tags= &quot;@test or @test2&quot;\n        )\npublic class TestRunner {\n}\n</code></pre>\n"}],"owner":{"account_id":8406729,"reputation":1,"user_id":6309994,"display_name":"MADAKUMBURE GEDARA AMILA NIRMA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671795264,"creation_date":1671788059,"question_id":74898121,"body_markdown":"Can&#39;t use multiple tags in my cucumber with Appium Runner file, error is shown like below.[enter image description here][1],\r\nusing below dependencies in my pom.xml \r\n\r\n\r\n```\r\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;6.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;6.9.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.appium/java-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;7.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n```\r\n\r\n\r\nI am trying to execute two feature file with tags @test and @test2\r\n\r\n\r\n```\r\n@test\r\nFeature: Edit table TCT\r\n\r\n  @appium\r\n  Scenario: Edit table and add tmsurl ,appcode\r\n```\r\n\r\n```\r\n\r\n@test2\r\nFeature: TMS login scenarios\r\n\r\n  @web\r\n  Scenario Outline: Login with valid user name\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rafPH.png","title":"Can&#39;t use multiple tags in cucumber Runner file in java","body":"<p>Can't use multiple tags in my cucumber with Appium Runner file, error is shown like below.<a href=\"https://i.stack.imgur.com/rafPH.png\" rel=\"nofollow noreferrer\">enter image description here</a>,\nusing below dependencies in my pom.xml</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;6.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;6.9.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.appium/java-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n            &lt;version&gt;7.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n</code></pre>\n<p>I am trying to execute two feature file with tags @test and @test2</p>\n<pre><code>@test\nFeature: Edit table TCT\n\n  @appium\n  Scenario: Edit table and add tmsurl ,appcode\n</code></pre>\n<pre><code>\n@test2\nFeature: TMS login scenarios\n\n  @web\n  Scenario Outline: Login with valid user name\n</code></pre>\n"},{"tags":["java","spring","spring-boot","gradle","spring-security"],"answers":[{"tags":[],"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671795193,"creation_date":1671795193,"answer_id":74899164,"question_id":74895717,"body_markdown":"In the instance of Spring Security, [it has a BOM](https://search.maven.org/artifact/org.springframework.security/spring-security-bom) that you can define in your Java Platform.\r\n\r\n\r\n```kotlin\r\nplugins {\r\n  `java-platform`\r\n}\r\n\r\njavaPlatform {\r\n  allowDependencies()\r\n}\r\n\r\ndependencies {\r\n  api(platform(&quot;org.springframework.boot:spring-boot-dependencies:2.7.7&quot;))\r\n\r\n  // import the Spring Security BOM\r\n  api(platform(&quot;org.springframework.security:spring-security-bom:5.8.1&quot;))\r\n}\r\n```\r\n\r\nIf there were no published BOM, then in Gradle it&#39;s possible to define your own using [a dependency version alignment rule](https://docs.gradle.org/7.6/userguide/dependency_version_alignment.html#sec:virtual_platform).\r\n\r\n```kotlin\r\n// build.gradle.kts\r\n\r\n// Create a rule that defines a &#39;virtual platform&#39;\r\nabstract class SpringSecurityAlignmentRule: ComponentMetadataRule {\r\n  override fun execute(ctx: ComponentMetadataContext) {\r\n    ctx.details.run {\r\n      if (id.group.startsWith(&quot;org.springframework.security&quot;)) {\r\n        // declare that Spring Security modules all belong to the Spring Security virtual platform\r\n        belongsTo(&quot;org.springframework.security:spring-security-virtual-platform:${id.version}&quot;)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\ndependencies {\r\n  // apply the rule\r\n  components.all&lt;SpringSecurityAlignmentRule&gt;()    \r\n  // set the virtual Spring Security platform to 5.8.1\r\n  implementation(platform(&quot;org.springframework.security:spring-security-virtual-platform:5.8.1&quot;))\r\n}\r\n```","title":"How to override a transative dependency in a gradle Java Platfrom Module?","body":"<p>In the instance of Spring Security, <a href=\"https://search.maven.org/artifact/org.springframework.security/spring-security-bom\" rel=\"nofollow noreferrer\">it has a BOM</a> that you can define in your Java Platform.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n  `java-platform`\n}\n\njavaPlatform {\n  allowDependencies()\n}\n\ndependencies {\n  api(platform(&quot;org.springframework.boot:spring-boot-dependencies:2.7.7&quot;))\n\n  // import the Spring Security BOM\n  api(platform(&quot;org.springframework.security:spring-security-bom:5.8.1&quot;))\n}\n</code></pre>\n<p>If there were no published BOM, then in Gradle it's possible to define your own using <a href=\"https://docs.gradle.org/7.6/userguide/dependency_version_alignment.html#sec:virtual_platform\" rel=\"nofollow noreferrer\">a dependency version alignment rule</a>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// build.gradle.kts\n\n// Create a rule that defines a 'virtual platform'\nabstract class SpringSecurityAlignmentRule: ComponentMetadataRule {\n  override fun execute(ctx: ComponentMetadataContext) {\n    ctx.details.run {\n      if (id.group.startsWith(&quot;org.springframework.security&quot;)) {\n        // declare that Spring Security modules all belong to the Spring Security virtual platform\n        belongsTo(&quot;org.springframework.security:spring-security-virtual-platform:${id.version}&quot;)\n      }\n    }\n  }\n}\n\ndependencies {\n  // apply the rule\n  components.all&lt;SpringSecurityAlignmentRule&gt;()    \n  // set the virtual Spring Security platform to 5.8.1\n  implementation(platform(&quot;org.springframework.security:spring-security-virtual-platform:5.8.1&quot;))\n}\n</code></pre>\n"}],"owner":{"account_id":195439,"reputation":60906,"user_id":438319,"accept_rate":73,"display_name":"ams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74899164,"answer_count":1,"score":0,"last_activity_date":1671795193,"creation_date":1671764325,"question_id":74895717,"body_markdown":"I am using the [Gradle Java Platfom Plugin][1] Like so\r\n\r\n```\r\n\r\nplugins {\r\n    `java-platform`\r\n}\r\n\r\n\r\njavaPlatform {\r\n    allowDependencies()\r\n}\r\n\r\ndependencies {\r\n    api(platform(&quot;org.springframework.boot:spring-boot-dependencies:2.7.7&quot;))\r\n}\r\n\r\n```\r\n\r\nI want to override the version of a dependency that the BOM will pull in. For example, change the version of spring security selected by the BOM from 5.7 to 5.8.\r\n\r\nThis seems to work \r\n\r\n ```\r\n\r\nplugins {\r\n    `java-platform`\r\n}\r\n\r\n\r\njavaPlatform {\r\n    allowDependencies()\r\n}\r\n\r\ndependencies {\r\n    api(platform(&quot;org.springframework.boot:spring-boot-dependencies:2.7.7&quot;))\r\n}\r\nconstraints {      \r\n        api(group=&quot;org.springframework.security&quot;,name=&quot;spring-security-web&quot;) {\r\n            version {\r\n                require(&quot;5.8.1&quot;)\r\n            }\r\n        }\r\n\r\n        api(group=&quot;org.springframework.security&quot;,name=&quot;spring-security-config&quot;) {\r\n            version {\r\n                require(&quot;5.8.1&quot;)\r\n            }\r\n        }\r\n}\r\n```\r\n\r\nI have to put a constraints on every jar file in the spring security. I want to set the same version for all jars in the same group. My questions: \r\n\r\n * what is the correct way to override a dependency form a BOM? \r\n * Is there a way to override a depedency version for a group rather than a specific jar? if yes how?\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_platform_plugin.html#sec:java_platform_bom_import","title":"How to override a transative dependency in a gradle Java Platfrom Module?","body":"<p>I am using the <a href=\"https://docs.gradle.org/current/userguide/java_platform_plugin.html#sec:java_platform_bom_import\" rel=\"nofollow noreferrer\">Gradle Java Platfom Plugin</a> Like so</p>\n<pre><code>\nplugins {\n    `java-platform`\n}\n\n\njavaPlatform {\n    allowDependencies()\n}\n\ndependencies {\n    api(platform(&quot;org.springframework.boot:spring-boot-dependencies:2.7.7&quot;))\n}\n\n</code></pre>\n<p>I want to override the version of a dependency that the BOM will pull in. For example, change the version of spring security selected by the BOM from 5.7 to 5.8.</p>\n<p>This seems to work</p>\n<pre><code>\nplugins {\n   `java-platform`\n}\n\n\njavaPlatform {\n   allowDependencies()\n}\n\ndependencies {\n   api(platform(&quot;org.springframework.boot:spring-boot-dependencies:2.7.7&quot;))\n}\nconstraints {      \n       api(group=&quot;org.springframework.security&quot;,name=&quot;spring-security-web&quot;) {\n           version {\n               require(&quot;5.8.1&quot;)\n           }\n       }\n\n       api(group=&quot;org.springframework.security&quot;,name=&quot;spring-security-config&quot;) {\n           version {\n               require(&quot;5.8.1&quot;)\n           }\n       }\n}\n</code></pre>\n<p>I have to put a constraints on every jar file in the spring security. I want to set the same version for all jars in the same group. My questions:</p>\n<ul>\n<li>what is the correct way to override a dependency form a BOM?</li>\n<li>Is there a way to override a depedency version for a group rather than a specific jar? if yes how?</li>\n</ul>\n"},{"tags":["java","android","android-studio","google-api"],"comments":[{"owner":{"account_id":26876598,"reputation":301,"user_id":20457753,"display_name":"providerZ"},"score":0,"creation_date":1671789920,"post_id":74898389,"comment_id":132176416,"body_markdown":"Do you mean you want the URL of the taken image?","body":"Do you mean you want the URL of the taken image?"},{"owner":{"account_id":12971475,"reputation":95,"user_id":9377069,"display_name":"SKAE"},"score":0,"creation_date":1671790099,"post_id":74898389,"comment_id":132176463,"body_markdown":"@providerZ No, I want to pass the bitmap in the post request. By the way, since you mentioned it, is there a way I can get the URL of the taken image?","body":"@providerZ No, I want to pass the bitmap in the post request. By the way, since you mentioned it, is there a way I can get the URL of the taken image?"},{"owner":{"account_id":26876598,"reputation":301,"user_id":20457753,"display_name":"providerZ"},"score":0,"creation_date":1671790238,"post_id":74898389,"comment_id":132176504,"body_markdown":"of course,You can get both URL and bitmap, You get the URL first then you convert it to a bitmap that&#39;s the normal behavior, Then do whatever you want with the bitmap","body":"of course,You can get both URL and bitmap, You get the URL first then you convert it to a bitmap that&#39;s the normal behavior, Then do whatever you want with the bitmap"},{"owner":{"account_id":12971475,"reputation":95,"user_id":9377069,"display_name":"SKAE"},"score":0,"creation_date":1671790407,"post_id":74898389,"comment_id":132176555,"body_markdown":"@providerZ Oh, I didn&#39;t know I get the url from a picture taken by the camera. How can I do that?","body":"@providerZ Oh, I didn&#39;t know I get the url from a picture taken by the camera. How can I do that?"},{"owner":{"account_id":26876598,"reputation":301,"user_id":20457753,"display_name":"providerZ"},"score":0,"creation_date":1671792177,"post_id":74898389,"comment_id":132177006,"body_markdown":"show me your code , I usually  use a media launcher for that","body":"show me your code , I usually  use a media launcher for that"},{"owner":{"account_id":12971475,"reputation":95,"user_id":9377069,"display_name":"SKAE"},"score":0,"creation_date":1671795168,"post_id":74898389,"comment_id":132177777,"body_markdown":"@providerZ thank you, I&#39;ve updated the question including my code","body":"@providerZ thank you, I&#39;ve updated the question including my code"},{"owner":{"account_id":26876598,"reputation":301,"user_id":20457753,"display_name":"providerZ"},"score":0,"creation_date":1671798236,"post_id":74898389,"comment_id":132178560,"body_markdown":"your approach is already been deprecated by the way, Sure we can do discuss","body":"your approach is already been deprecated by the way, Sure we can do discuss"},{"owner":{"account_id":12971475,"reputation":95,"user_id":9377069,"display_name":"SKAE"},"score":0,"creation_date":1672051101,"post_id":74898389,"comment_id":132212642,"body_markdown":"@providerZ I texted you","body":"@providerZ I texted you"},{"owner":{"account_id":26876598,"reputation":301,"user_id":20457753,"display_name":"providerZ"},"score":0,"creation_date":1672051656,"post_id":74898389,"comment_id":132212720,"body_markdown":"text me into discord, Chat here is kinda weird to me, Add me provider#2997","body":"text me into discord, Chat here is kinda weird to me, Add me provider#2997"},{"owner":{"account_id":2773463,"reputation":3896,"user_id":2387564,"accept_rate":74,"display_name":"Attaullah"},"score":0,"creation_date":1682446445,"post_id":74898389,"comment_id":134216162,"body_markdown":"@SKAE is your issue is resolve?","body":"@SKAE is your issue is resolve?"},{"owner":{"account_id":12971475,"reputation":95,"user_id":9377069,"display_name":"SKAE"},"score":0,"creation_date":1682579572,"post_id":74898389,"comment_id":134238935,"body_markdown":"@Attaullah No it isn&#39;t","body":"@Attaullah No it isn&#39;t"}],"owner":{"account_id":12971475,"reputation":95,"user_id":9377069,"display_name":"SKAE"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671795143,"creation_date":1671789819,"question_id":74898389,"body_markdown":"I&#39;m currently developing an app to acquire a picture using the phone camera and request some results to the Google reverse image search.\r\n\r\nNow, for what I&#39;ve researched so far Google APIs accepts a picture URL as input to make the reverse search, but I don&#39;t have an URL, since it&#39;s a picture the user takes in that moment, and I only have the Bitmap.\r\n\r\nHow can I pass the picture as input to the Google reverse image search using a post HTML request?\r\n\r\nI&#39;m using Android Studio and Java.\r\n\r\nHere&#39;s my code:\r\n\r\n    public void onActivityResult(ActivityResult result) {\r\n    if (result.getResultCode() == Activity.RESULT_OK &amp;&amp; result.getData() != null) {\r\n        Bundle bundle = result.getData().getExtras();\r\n        Bitmap bitmap = (Bitmap) bundle.get(&quot;data&quot;);\r\n        \r\n        requestQueue = Volley.newRequestQueue(context);\r\n        //getRequest();\r\n        //postRequest();\r\n    }\r\n    }","title":"Android Studio - How to post an HTTP request to Google reverse image search?","body":"<p>I'm currently developing an app to acquire a picture using the phone camera and request some results to the Google reverse image search.</p>\n<p>Now, for what I've researched so far Google APIs accepts a picture URL as input to make the reverse search, but I don't have an URL, since it's a picture the user takes in that moment, and I only have the Bitmap.</p>\n<p>How can I pass the picture as input to the Google reverse image search using a post HTML request?</p>\n<p>I'm using Android Studio and Java.</p>\n<p>Here's my code:</p>\n<pre><code>public void onActivityResult(ActivityResult result) {\nif (result.getResultCode() == Activity.RESULT_OK &amp;&amp; result.getData() != null) {\n    Bundle bundle = result.getData().getExtras();\n    Bitmap bitmap = (Bitmap) bundle.get(&quot;data&quot;);\n    \n    requestQueue = Volley.newRequestQueue(context);\n    //getRequest();\n    //postRequest();\n}\n}\n</code></pre>\n"},{"tags":["java","api","swagger","openapi","openapi-generator"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1666873523,"post_id":74221659,"comment_id":131041283,"body_markdown":"Do you mean you used openapi-generator to generate a server stub, and the generated code doesn&#39;t initialize the default value for `fix_type`?","body":"Do you mean you used openapi-generator to generate a server stub, and the generated code doesn&#39;t initialize the default value for <code>fix_type</code>?"},{"owner":{"account_id":26619464,"reputation":23,"user_id":20238388,"display_name":"stucky"},"score":0,"creation_date":1666874232,"post_id":74221659,"comment_id":131041555,"body_markdown":"Indeed. \nInstead of getting my defined `default`, an empty array was generated (the default for required properties as I understand).","body":"Indeed.  Instead of getting my defined <code>default</code>, an empty array was generated (the default for required properties as I understand)."},{"owner":{"account_id":26619464,"reputation":23,"user_id":20238388,"display_name":"stucky"},"score":0,"creation_date":1666874324,"post_id":74221659,"comment_id":131041596,"body_markdown":"@JsonProperty(&quot;fix_types&quot;)\n  @Valid\n  private List&lt;FixTypesEnum&gt; fixTypes = new ArrayList&lt;&gt;();","body":"@JsonProperty(&quot;fix_types&quot;)   @Valid   private List&lt;FixTypesEnum&gt; fixTypes = new ArrayList&lt;&gt;();"}],"answers":[{"tags":[],"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666875160,"creation_date":1666875160,"answer_id":74222374,"question_id":74221659,"body_markdown":"Your array definition is correct. This looks like an issue with the `openapi-generator`. You can open an issue or search for existing issues here:  \r\nhttps://github.com/OpenAPITools/openapi-generator/issues","title":"OpenApi default array with values","body":"<p>Your array definition is correct. This looks like an issue with the <code>openapi-generator</code>. You can open an issue or search for existing issues here:<br />\n<a href=\"https://github.com/OpenAPITools/openapi-generator/issues\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/issues</a></p>\n"}],"owner":{"account_id":26619464,"reputation":23,"user_id":20238388,"display_name":"stucky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671794914,"creation_date":1666871783,"question_id":74221659,"body_markdown":"I am using OpenApi 3.0.0 with openapi-generator 4.2.2.\r\nIs there a way to define a default value for an array with a value?\r\nI want to be able to pass an array of enums, but if it wasn&#39;t passed I&#39;d like to give it a default array with one of the enum values.\r\n\r\nThis:\r\n```\r\nRequest:\r\n  type: object\r\n  required:\r\n    - fix_types\r\n  properties:\r\n    fix_types:\r\n      type: array\r\n      items:\r\n        type: string\r\n        enum: [ ALL_FIELDS, FIELD1, FIELD2 ]\r\n      default: [ ALL_FIELDS ]\r\n      description: What fields should be fixed\r\n```\r\nis not working, I am getting an empty array, aka [].\r\nIs there a way to do what I want?","title":"OpenApi default array with values","body":"<p>I am using OpenApi 3.0.0 with openapi-generator 4.2.2.\nIs there a way to define a default value for an array with a value?\nI want to be able to pass an array of enums, but if it wasn't passed I'd like to give it a default array with one of the enum values.</p>\n<p>This:</p>\n<pre><code>Request:\n  type: object\n  required:\n    - fix_types\n  properties:\n    fix_types:\n      type: array\n      items:\n        type: string\n        enum: [ ALL_FIELDS, FIELD1, FIELD2 ]\n      default: [ ALL_FIELDS ]\n      description: What fields should be fixed\n</code></pre>\n<p>is not working, I am getting an empty array, aka [].\nIs there a way to do what I want?</p>\n"},{"tags":["java","spring-boot","elasticsearch","elasticsearch-aggregation","elasticsearch-java-api-client"],"owner":{"account_id":24911418,"reputation":1,"user_id":18780920,"display_name":"Chetna Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671794803,"creation_date":1671696631,"question_id":74885716,"body_markdown":"I&#39;m migrating my application from Elasticsearch 7.15 version to 8.x but I&#39;m facing some issues while writing aggregation with script query using SearchTemplateRequest with Java API Client because after 7.15 version they removed some methods from the SearchTemplateResponse that include aggregation method as well now I&#39;m trying to get the aggregation response from the script query by using 8.x version way but not able to replace. If anyone can help me with us then it will be a great help for me.\r\n\r\nBelow is the old code of the method (7.15 v):\r\n\r\n```\r\npublic SearchTemplateResponse getScriptResponse(String indexName, String scriptName,\r\n\t\t\tMap&lt;String, Object&gt; scriptParams) throws IOException {\r\n\t\tSearchTemplateRequest request = null;\r\n\t\tSearchTemplateResponse response = null;\r\n\t\ttry {\r\n\t\t\tSearchTemplateRequest request = new SearchTemplateRequest();\r\n\t\trequest.setRequest(new SearchRequest(new String[] { indexName }, trackTotalHitsSourceBuilder()));\r\n\t\trequest.setScriptType(ScriptType.STORED);\r\n\t\trequest.setScript(scriptName);\r\n\t\trequest.setScriptParams(scriptParams);\r\n\t\trequest.getRequest().source().trackTotalHits();\r\n\t\treturn request;\r\n\t\t\tresponse = getClient().searchTemplate(request, RequestOptions.DEFAULT);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t\treturn response;\r\n\t}\r\n```\r\n\r\nSomewhere in the code i&#39;m using below aggregation method of the older SearchTemplateResponse class but now in the 8.x its not available.\r\n\r\n```\r\ntemplateResponse.getResponse().getAggregations().get(DATE_HIST_AGG_NAME);\r\n```\r\n\r\nPlease someone help me to migrate the above method into Elasticsearch 8.x version.\r\n\r\nI tired to migrate the above method like this but it is still not returning the aggregation response which I need as per my existing implementation\r\n\r\n```\r\npublic SearchTemplateResponse getScriptResponse(String indexName, String scriptName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tMap&lt;String, Object&gt; scriptParams) throws IOException {\r\n\t\tMap&lt;String, JsonData&gt; params = new HashMap&lt;&gt;(scriptParams.size());\r\n\t\tfor (String key : scriptParams.keySet()){\r\n\t\t\tparams.put(key, JsonData.of(scriptParams.get(key)));\r\n\t\t}\r\n\t\tSearchTemplateRequest searchTemplateRequest = new SearchTemplateRequest.Builder()\r\n\t\t\t\t.index(indexName).params(params).source(scriptName).build();\r\n\t\treturn getClient().searchTemplate(searchTemplateRequest,SearchTemplateResponse.class);\r\n}\r\n```\r\n","title":"How to implement aggregation with script query using SearchTemplateRequest with Elasticsearch 8.x version","body":"<p>I'm migrating my application from Elasticsearch 7.15 version to 8.x but I'm facing some issues while writing aggregation with script query using SearchTemplateRequest with Java API Client because after 7.15 version they removed some methods from the SearchTemplateResponse that include aggregation method as well now I'm trying to get the aggregation response from the script query by using 8.x version way but not able to replace. If anyone can help me with us then it will be a great help for me.</p>\n<p>Below is the old code of the method (7.15 v):</p>\n<pre><code>public SearchTemplateResponse getScriptResponse(String indexName, String scriptName,\n            Map&lt;String, Object&gt; scriptParams) throws IOException {\n        SearchTemplateRequest request = null;\n        SearchTemplateResponse response = null;\n        try {\n            SearchTemplateRequest request = new SearchTemplateRequest();\n        request.setRequest(new SearchRequest(new String[] { indexName }, trackTotalHitsSourceBuilder()));\n        request.setScriptType(ScriptType.STORED);\n        request.setScript(scriptName);\n        request.setScriptParams(scriptParams);\n        request.getRequest().source().trackTotalHits();\n        return request;\n            response = getClient().searchTemplate(request, RequestOptions.DEFAULT);\n        } catch (Exception e) {\n            throw e;\n        }\n        return response;\n    }\n</code></pre>\n<p>Somewhere in the code i'm using below aggregation method of the older SearchTemplateResponse class but now in the 8.x its not available.</p>\n<pre><code>templateResponse.getResponse().getAggregations().get(DATE_HIST_AGG_NAME);\n</code></pre>\n<p>Please someone help me to migrate the above method into Elasticsearch 8.x version.</p>\n<p>I tired to migrate the above method like this but it is still not returning the aggregation response which I need as per my existing implementation</p>\n<pre><code>public SearchTemplateResponse getScriptResponse(String indexName, String scriptName,\n                                                    Map&lt;String, Object&gt; scriptParams) throws IOException {\n        Map&lt;String, JsonData&gt; params = new HashMap&lt;&gt;(scriptParams.size());\n        for (String key : scriptParams.keySet()){\n            params.put(key, JsonData.of(scriptParams.get(key)));\n        }\n        SearchTemplateRequest searchTemplateRequest = new SearchTemplateRequest.Builder()\n                .index(indexName).params(params).source(scriptName).build();\n        return getClient().searchTemplate(searchTemplateRequest,SearchTemplateResponse.class);\n}\n</code></pre>\n"},{"tags":["java","captcha","image-generation"],"comments":[{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1670848488,"post_id":74771089,"comment_id":131960803,"body_markdown":"Why not just call one of the libraries multiple times word by word?","body":"Why not just call one of the libraries multiple times word by word?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1670848545,"post_id":74771089,"comment_id":131960826,"body_markdown":"Also note: this place isn&#39;t intended for &quot;here my requirements, now what&quot;. And asking for &quot;some link to a library that does that&quot; renders the question fully off topic . I suggest you turn to the [help] to learn how/what to ask here.","body":"Also note: this place isn&#39;t intended for &quot;here my requirements, now what&quot;. And asking for &quot;some link to a library that does that&quot; renders the question fully off topic . I suggest you turn to the <a href=\"https://stackoverflow.com/help\">help center</a> to learn how/what to ask here."},{"owner":{"account_id":27177689,"reputation":9,"user_id":20713452,"display_name":"dani izquierdo"},"score":0,"creation_date":1670848817,"post_id":74771089,"comment_id":131960914,"body_markdown":"@TheincredibleJan that would generate 4 different CAPTCHA images instead of just one.","body":"@TheincredibleJan that would generate 4 different CAPTCHA images instead of just one."},{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1670849436,"post_id":74771089,"comment_id":131961104,"body_markdown":"@dani izquierdo And why is this a problem? If I put 4 smaller images on a big image with the same backgroud is no difference as if I had just 1 image from the beginning. :)","body":"@dani izquierdo And why is this a problem? If I put 4 smaller images on a big image with the same backgroud is no difference as if I had just 1 image from the beginning. :)"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1670862051,"post_id":74771089,"comment_id":131965891,"body_markdown":"You could use a `BufferedImage`.  You&#39;d have to come up with your own `Graphics2D` code to draw a text `String` wavy like in your picture.","body":"You could use a <code>BufferedImage</code>.  You&#39;d have to come up with your own <code>Graphics2D</code> code to draw a text <code>String</code> wavy like in your picture."}],"answers":[{"tags":[],"owner":{"account_id":27177689,"reputation":9,"user_id":20713452,"display_name":"dani izquierdo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671794710,"creation_date":1670923303,"answer_id":74782500,"question_id":74771089,"body_markdown":"Thanks to @TheincredibleJan and @GilbertLeBlanc. \r\n\r\nThe solution I got was generating x images (one per word) and merge them into a big image.\r\nThe code is below (change the numbers as you need depending on the size or type of your own images):\r\n\r\n```java\r\nString frase = &quot;i ate pizza last night&quot;;\r\nint len = frase.replace(&quot; &quot;, &quot;&quot;).length();\r\n\r\nString[] words = frase.split(&quot; &quot;);\r\nBufferedImage result = new BufferedImage((len * 25) + 10, 50, BufferedImage.TYPE_INT_ARGB);\r\nGraphics g = result.getGraphics();\r\nint x = 0;\r\n\r\nfor (int i = 0; i &lt; words.length; i++) {\r\n    CaptchaGenerator captchagen = new CaptchaGenerator();\r\n    Captcha captcha = captchagen.createCaptcha(words[i].length() * 25 + 3, 50, words[i]);\r\n    BufferedImage imagen = captcha.getImage();\r\n    g.drawImage(imagen, x, 0, null);\r\n    x += imagen.getWidth() - 5;\r\n}\r\n\r\ng.dispose();\r\n\r\ntry {\r\n    File outputfile = new File(&quot;captchaResult.png&quot;);\r\n    ImageIO.write(result, &quot;png&quot;, outputfile);\r\n} catch (Exception ex) {\r\n}\r\n```\r\n\r\nAnd this is the generated image: \r\n[CAPTCHA image result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CJkjZ.png","title":"How do I create a multiple word Captcha in Java","body":"<p>Thanks to @TheincredibleJan and @GilbertLeBlanc.</p>\n<p>The solution I got was generating x images (one per word) and merge them into a big image.\nThe code is below (change the numbers as you need depending on the size or type of your own images):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String frase = &quot;i ate pizza last night&quot;;\nint len = frase.replace(&quot; &quot;, &quot;&quot;).length();\n\nString[] words = frase.split(&quot; &quot;);\nBufferedImage result = new BufferedImage((len * 25) + 10, 50, BufferedImage.TYPE_INT_ARGB);\nGraphics g = result.getGraphics();\nint x = 0;\n\nfor (int i = 0; i &lt; words.length; i++) {\n    CaptchaGenerator captchagen = new CaptchaGenerator();\n    Captcha captcha = captchagen.createCaptcha(words[i].length() * 25 + 3, 50, words[i]);\n    BufferedImage imagen = captcha.getImage();\n    g.drawImage(imagen, x, 0, null);\n    x += imagen.getWidth() - 5;\n}\n\ng.dispose();\n\ntry {\n    File outputfile = new File(&quot;captchaResult.png&quot;);\n    ImageIO.write(result, &quot;png&quot;, outputfile);\n} catch (Exception ex) {\n}\n</code></pre>\n<p>And this is the generated image:\n<a href=\"https://i.stack.imgur.com/CJkjZ.png\" rel=\"nofollow noreferrer\">CAPTCHA image result</a></p>\n"}],"owner":{"account_id":27177689,"reputation":9,"user_id":20713452,"display_name":"dani izquierdo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671794710,"creation_date":1670847985,"question_id":74771089,"body_markdown":"I&#39;m trying to create a Captcha image in Java with a phrase or multiple words instead of a single random word. \r\n\r\n\r\nI&#39;ve tried with some projects like Cage, simplecaptcha and jcaptcha but all of them work only with one word.\r\n\r\n\r\nI expect an output like the one in the image.\r\n[multiple word captcha example][1]\r\n\r\nDo you know any other project that can do what I want? or a way to create my own custom images?\r\n\r\nThank you. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bSe6S.png","title":"How do I create a multiple word Captcha in Java","body":"<p>I'm trying to create a Captcha image in Java with a phrase or multiple words instead of a single random word.</p>\n<p>I've tried with some projects like Cage, simplecaptcha and jcaptcha but all of them work only with one word.</p>\n<p>I expect an output like the one in the image.\n<a href=\"https://i.stack.imgur.com/bSe6S.png\" rel=\"nofollow noreferrer\">multiple word captcha example</a></p>\n<p>Do you know any other project that can do what I want? or a way to create my own custom images?</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","spring-cloud","spring-cloud-gateway","spring-cloud-netflix"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671803147,"post_id":74899056,"comment_id":132179893,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":27335273,"reputation":1,"user_id":20846797,"display_name":"TEJAS TIPRE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671794399,"creation_date":1671794399,"question_id":74899056,"body_markdown":"I have multiple instances of eureka servers but i want to create multiple instances of gateways also to manage fault tolerance. \r\nCan we create spring cloud multiple gateways in case of failure of one instance.\r\n\r\nI try to create multiple instances of gateways.","title":"can we create spring cloud multiple gateways in case of failure of one instance","body":"<p>I have multiple instances of eureka servers but i want to create multiple instances of gateways also to manage fault tolerance.\nCan we create spring cloud multiple gateways in case of failure of one instance.</p>\n<p>I try to create multiple instances of gateways.</p>\n"},{"tags":["java","file","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671794354,"creation_date":1671790214,"answer_id":74898449,"question_id":74898063,"body_markdown":"The SFTP protocol can provide milliseconds only since version 4. The JSch supports only SFTP version 3. Even if JSch did support newer version of SFTP, it won&#39;t help you probably, as most SFTP servers run on OpenSSH, which supports SFTP 3 only too. So you cannot have really *&quot;expected&quot;* to get the milliseconds.\r\n\r\n---\r\n\r\nIf you need milliseconds, you will have to use another library (and mostly likely another server), or completely different API, not SFTP.\r\n\r\nIf you have a shell access, you can [run an appropriate shell command and parse its output](https://stackoverflow.com/q/6902386/850848). For example:\r\n\r\n```\r\nls --full-time *.log\r\n```","title":"JSCH Library is not giving file timestamp with milli seconds","body":"<p>The SFTP protocol can provide milliseconds only since version 4. The JSch supports only SFTP version 3. Even if JSch did support newer version of SFTP, it won't help you probably, as most SFTP servers run on OpenSSH, which supports SFTP 3 only too. So you cannot have really <em>&quot;expected&quot;</em> to get the milliseconds.</p>\n<hr />\n<p>If you need milliseconds, you will have to use another library (and mostly likely another server), or completely different API, not SFTP.</p>\n<p>If you have a shell access, you can <a href=\"https://stackoverflow.com/q/6902386/850848\">run an appropriate shell command and parse its output</a>. For example:</p>\n<pre><code>ls --full-time *.log\n</code></pre>\n"}],"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671794354,"creation_date":1671787563,"question_id":74898063,"body_markdown":"How to get remote file timestamp including milliseconds using  jsch framework. I tried as below but till seconds only I get.\r\n\r\n    ChannelSftp channelSftp = (ChannelSftp) jschSession.openChannel(&quot;sftp&quot;);\r\n    channelSftp.connect();\r\n    List&lt;LsEntry&gt; files = channelSftp.ls(&quot;*.log&quot;);\r\n    for (LsEntry entry : files) {\r\n    \t\t\tlog.info(&quot;File &quot;, entry.getFilename()+&quot;:&quot;+entry.getAttrs().getMtimeString());\r\n    }\r\n\r\n**Output:**\r\n\r\n    File app1.log: Fri Dec 23 12:32:52 IST 2022\r\n    File app2.log: Fri Dec 23 12:32:52 IST 2022\r\n\r\n**Expected Output:** with timestamp\r\n\r\n    File app1.log: Fri Dec 23 12:32:52.1234556789 IST 2022\r\n    File app2.log: Fri Dec 23 12:32:52.3334556789 IST 2022\r\n\r\nPlease help to get milliseconds too.","title":"JSCH Library is not giving file timestamp with milli seconds","body":"<p>How to get remote file timestamp including milliseconds using  jsch framework. I tried as below but till seconds only I get.</p>\n<pre><code>ChannelSftp channelSftp = (ChannelSftp) jschSession.openChannel(&quot;sftp&quot;);\nchannelSftp.connect();\nList&lt;LsEntry&gt; files = channelSftp.ls(&quot;*.log&quot;);\nfor (LsEntry entry : files) {\n            log.info(&quot;File &quot;, entry.getFilename()+&quot;:&quot;+entry.getAttrs().getMtimeString());\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>File app1.log: Fri Dec 23 12:32:52 IST 2022\nFile app2.log: Fri Dec 23 12:32:52 IST 2022\n</code></pre>\n<p><strong>Expected Output:</strong> with timestamp</p>\n<pre><code>File app1.log: Fri Dec 23 12:32:52.1234556789 IST 2022\nFile app2.log: Fri Dec 23 12:32:52.3334556789 IST 2022\n</code></pre>\n<p>Please help to get milliseconds too.</p>\n"},{"tags":["java","gradle","intellij-idea","dependencies","vaadin"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1671147809,"post_id":74817692,"comment_id":132042411,"body_markdown":"It doesn&#39;t look like you&#39;ve used [the correct Maven coordinates](https://plugins.gradle.org/plugin/fi.jasoft.plugin.vaadin/1.0.1). Can you try with `classpath(&quot;fi.jasoft.plugin:gradle-vaadin-plugin:1.0.1&quot;)`?","body":"It doesn&#39;t look like you&#39;ve used <a href=\"https://plugins.gradle.org/plugin/fi.jasoft.plugin.vaadin/1.0.1\" rel=\"nofollow noreferrer\">the correct Maven coordinates</a>. Can you try with <code>classpath(&quot;fi.jasoft.plugin:gradle-vaadin-plugin:1.0.1&quot;)</code>?"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1671187183,"post_id":74817692,"comment_id":132049739,"body_markdown":"Check with your coworker if the file is under `~/.m2/repository/fi/jasoft/plugin/gradle-vaadin-plugin` and copy it to this location. Maybe you will have to add `mavenLocal()` to the `repositories` section. Also why is it trying to load it from `http://dl.bintray.com/johndevs` - have you added this repository somewhere else?","body":"Check with your coworker if the file is under <code>~&#47;.m2&#47;repository&#47;fi&#47;jasoft&#47;plugin&#47;gradle-vaadin-plugin</code> and copy it to this location. Maybe you will have to add <code>mavenLocal()</code> to the <code>repositories</code> section. Also why is it trying to load it from <code>http:&#47;&#47;dl.bintray.com&#47;johndevs</code> - have you added this repository somewhere else?"},{"owner":{"account_id":27203631,"reputation":13,"user_id":20735533,"display_name":"Noah Taylor"},"score":0,"creation_date":1671477180,"post_id":74817692,"comment_id":132103415,"body_markdown":"@aSemy seems like if you follow the trail the maven link is not actual there for that version.","body":"@aSemy seems like if you follow the trail the maven link is not actual there for that version."},{"owner":{"account_id":27203631,"reputation":13,"user_id":20735533,"display_name":"Noah Taylor"},"score":0,"creation_date":1671477246,"post_id":74817692,"comment_id":132103432,"body_markdown":"@cfrick it&#39;s the maven repo - it redirects to that link for that version. I ended up fixing it by going through the online website and finding one with an actual jar at the end of the repo links. classpath(&quot;fi.jasoft.plugin:gradle-vaadin-plugin:1.1.1&quot;) is there and works with my code","body":"@cfrick it&#39;s the maven repo - it redirects to that link for that version. I ended up fixing it by going through the online website and finding one with an actual jar at the end of the repo links. classpath(&quot;fi.jasoft.plugin:gradle-vaadin-plugin:1.1.1&quot;) is there and works with my code"},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1671485738,"post_id":74817692,"comment_id":132105782,"body_markdown":"@NoahTaylor Sorry, I&#39;m not sure what you mean by &quot;it&#39;s not actually there&quot;. If I look in the Gradle Plugins Maven repo I can see [version 1.0.1](https://plugins.gradle.org/m2/fi/jasoft/plugin/gradle-vaadin-plugin/1.0.1/).","body":"@NoahTaylor Sorry, I&#39;m not sure what you mean by &quot;it&#39;s not actually there&quot;. If I look in the Gradle Plugins Maven repo I can see <a href=\"https://plugins.gradle.org/m2/fi/jasoft/plugin/gradle-vaadin-plugin/1.0.1/\" rel=\"nofollow noreferrer\">version 1.0.1</a>."},{"owner":{"account_id":27203631,"reputation":13,"user_id":20735533,"display_name":"Noah Taylor"},"score":0,"creation_date":1671748408,"post_id":74817692,"comment_id":132170229,"body_markdown":"@aSemy Thanks! for some reason gradle was looking here: https://plugins.gradle.org/m2/fi/jasoft/plugin/vaadin/fi.jasoft.plugin.vaadin.gradle.plugin/1.0.1/ but your link is showing the jars. thanks for finding it!","body":"@aSemy Thanks! for some reason gradle was looking here: <a href=\"https://plugins.gradle.org/m2/fi/jasoft/plugin/vaadin/fi.jasoft.plugin.vaadin.gradle.plugin/1.0.1/\" rel=\"nofollow noreferrer\">plugins.gradle.org/m2/fi/jasoft/plugin/vaadin/&hellip;</a> but your link is showing the jars. thanks for finding it!"},{"owner":{"account_id":27203631,"reputation":13,"user_id":20735533,"display_name":"Noah Taylor"},"score":0,"creation_date":1671748471,"post_id":74817692,"comment_id":132170242,"body_markdown":"@aSemy if you post a response i&#39;ll mark yours as the answer cause I was having trouble finding that one","body":"@aSemy if you post a response i&#39;ll mark yours as the answer cause I was having trouble finding that one"}],"answers":[{"tags":[],"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671794342,"creation_date":1671794342,"answer_id":74899050,"question_id":74817692,"body_markdown":"It looks like you&#39;ve added a dependency on the wrong Maven coordinates. \r\n\r\nLooking in the [Gradle Plugin Portal](https://plugins.gradle.org/plugin/fi.jasoft.plugin.vaadin/1.0.1#groovy-usage) I can see that the dependency should be `classpath(&quot;fi.jasoft.plugin:gradle-vaadin-plugin:1.0.1&quot;)`\r\n\r\n```lang-groovy\r\nbuildscript {\r\n  repositories {\r\n    mavenCentral()\r\n    maven {\r\n      url &quot;https://plugins.gradle.org/m2/&quot;\r\n    }\r\n  }\r\n  dependencies {\r\n    // wrong coordinates:\r\n    // classpath(&#39;fi.jasoft.plugin.vaadin:fi.jasoft.plugin.vaadin.gradle.plugin:1.0.1&#39;) \r\n    // correct coordinates:\r\n    classpath(&quot;fi.jasoft.plugin:gradle-vaadin-plugin:1.0.1&quot;)\r\n  }\r\n}\r\n```\r\n\r\n\r\nThe coordinates you had used, `fi.jasoft.plugin.vaadin:fi.jasoft.plugin.vaadin.gradle.plugin:1.0.1`, [do actually exist in the Gradle Plugin Portal Maven repo](https://plugins.gradle.org/m2/fi/jasoft/plugin/vaadin/fi.jasoft.plugin.vaadin.gradle.plugin/1.0.1/), but there&#39;s no JAR. Why is this?\r\n\r\nThe reason for this is that Gradle plugins require a [marker artifact](https://docs.gradle.org/7.6/userguide/plugins.html#sec:plugin_markers), so that Gradle can identify plugins using an ID [in the plugins block DSL](https://docs.gradle.org/current/userguide/plugins.html#sec:plugins_block).\r\n\r\nFor this reason, I recommend you replace using the `buildscript {}` block to define plugins, and instead use the new `plugins {}` block.\r\n\r\n```lang-groovy\r\nplugins {\r\n  id &quot;fi.jasoft.plugin.vaadin&quot; version &quot;1.0.1&quot;\r\n}\r\n```","title":"Java Dependency Bad Gateway 502 - fi.jasoft.plugin.vaadin 1.0.1 is missing","body":"<p>It looks like you've added a dependency on the wrong Maven coordinates.</p>\n<p>Looking in the <a href=\"https://plugins.gradle.org/plugin/fi.jasoft.plugin.vaadin/1.0.1#groovy-usage\" rel=\"nofollow noreferrer\">Gradle Plugin Portal</a> I can see that the dependency should be <code>classpath(&quot;fi.jasoft.plugin:gradle-vaadin-plugin:1.0.1&quot;)</code></p>\n<pre class=\"lang-groovy prettyprint-override\"><code>buildscript {\n  repositories {\n    mavenCentral()\n    maven {\n      url &quot;https://plugins.gradle.org/m2/&quot;\n    }\n  }\n  dependencies {\n    // wrong coordinates:\n    // classpath('fi.jasoft.plugin.vaadin:fi.jasoft.plugin.vaadin.gradle.plugin:1.0.1') \n    // correct coordinates:\n    classpath(&quot;fi.jasoft.plugin:gradle-vaadin-plugin:1.0.1&quot;)\n  }\n}\n</code></pre>\n<p>The coordinates you had used, <code>fi.jasoft.plugin.vaadin:fi.jasoft.plugin.vaadin.gradle.plugin:1.0.1</code>, <a href=\"https://plugins.gradle.org/m2/fi/jasoft/plugin/vaadin/fi.jasoft.plugin.vaadin.gradle.plugin/1.0.1/\" rel=\"nofollow noreferrer\">do actually exist in the Gradle Plugin Portal Maven repo</a>, but there's no JAR. Why is this?</p>\n<p>The reason for this is that Gradle plugins require a <a href=\"https://docs.gradle.org/7.6/userguide/plugins.html#sec:plugin_markers\" rel=\"nofollow noreferrer\">marker artifact</a>, so that Gradle can identify plugins using an ID <a href=\"https://docs.gradle.org/current/userguide/plugins.html#sec:plugins_block\" rel=\"nofollow noreferrer\">in the plugins block DSL</a>.</p>\n<p>For this reason, I recommend you replace using the <code>buildscript {}</code> block to define plugins, and instead use the new <code>plugins {}</code> block.</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n  id &quot;fi.jasoft.plugin.vaadin&quot; version &quot;1.0.1&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":27203631,"reputation":13,"user_id":20735533,"display_name":"Noah Taylor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74899050,"answer_count":1,"score":1,"last_activity_date":1671794342,"creation_date":1671139252,"question_id":74817692,"body_markdown":"Inherited a project and am trying to run the build.gradle but the dependency is no long on maven... and I have googled and can&#39;t find any other active repos. There&#39;s a vaadin-spring 1.0.1 but I don&#39;t know if that&#39;s the same thing. Any body else run into this issue?\r\n\r\n\r\n```\r\n\r\nbuildscript {\r\n    repositories {\r\n        //jcenter()\r\n        mavenCentral()\r\n        maven {\r\n            url &quot;https://plugins.gradle.org/m2/&quot;\r\n        }\r\n\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:1.4.2.RELEASE&quot;)\r\n        classpath(&#39;fi.jasoft.plugin.vaadin:fi.jasoft.plugin.vaadin.gradle.plugin:1.0.1&#39;)\r\n\r\n    }\r\n}\r\n\r\napply plugin: &quot;fi.jasoft.plugin.vaadin&quot;\r\n```\r\n\r\n**The error:**\r\n\r\n```\r\nCould not get resource &#39;http://dl.bintray.com/johndevs/maven/fi/jasoft/plugin/gradle-vaadin-plugin/1.0.1/gradle-vaadin-plugin-1.0.1.jar&#39;.\r\n         &gt; Could not HEAD &#39;http://dl.bintray.com/johndevs/maven/fi/jasoft/plugin/gradle-vaadin-plugin/1.0.1/gradle-vaadin-plugin-1.0.1.jar&#39;. Received status code 502 from server: Bad Gateway\r\n```\r\n\r\n\r\n\r\nI tried to do a &gt; build gradle and got the error. I have also tried importing a cache on a teammate that has it working but it does not recognize the cache I have imported by replacing my ~/.gradle with my teammates files\r\n","title":"Java Dependency Bad Gateway 502 - fi.jasoft.plugin.vaadin 1.0.1 is missing","body":"<p>Inherited a project and am trying to run the build.gradle but the dependency is no long on maven... and I have googled and can't find any other active repos. There's a vaadin-spring 1.0.1 but I don't know if that's the same thing. Any body else run into this issue?</p>\n<pre><code>\nbuildscript {\n    repositories {\n        //jcenter()\n        mavenCentral()\n        maven {\n            url &quot;https://plugins.gradle.org/m2/&quot;\n        }\n\n    }\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:1.4.2.RELEASE&quot;)\n        classpath('fi.jasoft.plugin.vaadin:fi.jasoft.plugin.vaadin.gradle.plugin:1.0.1')\n\n    }\n}\n\napply plugin: &quot;fi.jasoft.plugin.vaadin&quot;\n</code></pre>\n<p><strong>The error:</strong></p>\n<pre><code>Could not get resource 'http://dl.bintray.com/johndevs/maven/fi/jasoft/plugin/gradle-vaadin-plugin/1.0.1/gradle-vaadin-plugin-1.0.1.jar'.\n         &gt; Could not HEAD 'http://dl.bintray.com/johndevs/maven/fi/jasoft/plugin/gradle-vaadin-plugin/1.0.1/gradle-vaadin-plugin-1.0.1.jar'. Received status code 502 from server: Bad Gateway\n</code></pre>\n<p>I tried to do a &gt; build gradle and got the error. I have also tried importing a cache on a teammate that has it working but it does not recognize the cache I have imported by replacing my ~/.gradle with my teammates files</p>\n"},{"tags":["java","android","android-13"],"answers":[{"tags":[],"owner":{"account_id":8423934,"reputation":927,"user_id":6321878,"display_name":"Malik Bilal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671792357,"creation_date":1671792357,"answer_id":74898756,"question_id":74897541,"body_markdown":"As by understanding some of your code you are navigating to the next screen if the user allowed the specific runtime permissions.\r\nThe issue with that is there are some permission changes in recent versions of Android that your code doesn&#39;t respect.\r\n\r\nFirst The **WRITE_EXTERNEL_STORAGE** permission is deprecated after **API Level 28**. So if you request that permission it will always return `denied`.\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;28&quot; /&gt;`\r\n\r\nSecond The **READ_EXTERNAL_STORAGE** is deprecated after **API Level 32**. It will return `denied` if you use it in **Android 13**\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;32&quot; /&gt;`\r\n\r\nAlternatively, if you want to access Photos &amp; Videos of other apps in **Android 13** you can ask for the below permissions.\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;`\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot; /&gt;`","title":"App stuck on splash screen in android 13 only","body":"<p>As by understanding some of your code you are navigating to the next screen if the user allowed the specific runtime permissions.\nThe issue with that is there are some permission changes in recent versions of Android that your code doesn't respect.</p>\n<p>First The <strong>WRITE_EXTERNEL_STORAGE</strong> permission is deprecated after <strong>API Level 28</strong>. So if you request that permission it will always return <code>denied</code>.</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;28&quot; /&gt;</code></p>\n<p>Second The <strong>READ_EXTERNAL_STORAGE</strong> is deprecated after <strong>API Level 32</strong>. It will return <code>denied</code> if you use it in <strong>Android 13</strong></p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;32&quot; /&gt;</code></p>\n<p>Alternatively, if you want to access Photos &amp; Videos of other apps in <strong>Android 13</strong> you can ask for the below permissions.</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;</code></p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot; /&gt;</code></p>\n"}],"owner":{"account_id":18284330,"reputation":39,"user_id":13312583,"display_name":"Garvit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74898756,"answer_count":1,"score":1,"last_activity_date":1671794313,"creation_date":1671783540,"question_id":74897541,"body_markdown":"My app got stuck on spalsh screen in Android 13 without any crash and even not asking for permissions on lower android versions it&#39;s working absolutely perfect \r\n\r\n    public class SplashScreen extends AppCompatActivity {\r\n\r\n    String[] permissionsList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_splash);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n            permissionsList = new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.POST_NOTIFICATIONS};\r\n        } else {\r\n            permissionsList = new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE};\r\n        }\r\n\r\n        ((RubberLoaderView) findViewById(R.id.loader1)).startLoading();\r\n        if (Utils.hasPermissions(this, permissionsList)) {\r\n            ActivityCompat.requestPermissions(this, Utils.permissions, Utils.perRequest);\r\n        } else {\r\n            gotoNext();\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == Utils.perRequest) {\r\n            if (Utils.hasPermissions(this, permissionsList)) {\r\n                ActivityCompat.requestPermissions(this, Utils.permissions, Utils.perRequest);\r\n            } else {\r\n                gotoNext();\r\n            }\r\n        }\r\n    }\r\n\r\n    void gotoNext() {\r\n        new Handler().postDelayed(() -&gt; {\r\n            startActivity(new Intent(SplashScreen.this, Home.class).addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP));\r\n            finish();\r\n        }, 600);\r\n    }\r\n\r\n\r\nThis is my code I am not able to understand the issue","title":"App stuck on splash screen in android 13 only","body":"<p>My app got stuck on spalsh screen in Android 13 without any crash and even not asking for permissions on lower android versions it's working absolutely perfect</p>\n<pre><code>public class SplashScreen extends AppCompatActivity {\n\nString[] permissionsList;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_splash);\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n        permissionsList = new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.POST_NOTIFICATIONS};\n    } else {\n        permissionsList = new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE};\n    }\n\n    ((RubberLoaderView) findViewById(R.id.loader1)).startLoading();\n    if (Utils.hasPermissions(this, permissionsList)) {\n        ActivityCompat.requestPermissions(this, Utils.permissions, Utils.perRequest);\n    } else {\n        gotoNext();\n    }\n\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == Utils.perRequest) {\n        if (Utils.hasPermissions(this, permissionsList)) {\n            ActivityCompat.requestPermissions(this, Utils.permissions, Utils.perRequest);\n        } else {\n            gotoNext();\n        }\n    }\n}\n\nvoid gotoNext() {\n    new Handler().postDelayed(() -&gt; {\n        startActivity(new Intent(SplashScreen.this, Home.class).addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP));\n        finish();\n    }, 600);\n}\n</code></pre>\n<p>This is my code I am not able to understand the issue</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1671791373,"post_id":74898590,"comment_id":132176802,"body_markdown":"I suspect that because you have parentheses around your lambda expression, this expression is interpreted as being of type `Predicate`, because `filter` expects a `Predicate` argument. Try to change `((Project) project -&gt; \nproject.getId() == projectId))` into `(Project project) -&gt; \nproject.getId() == projectId`.","body":"I suspect that because you have parentheses around your lambda expression, this expression is interpreted as being of type <code>Predicate</code>, because <code>filter</code> expects a <code>Predicate</code> argument. Try to change <code>((Project) project -&gt;  project.getId() == projectId))</code> into <code>(Project project) -&gt;  project.getId() == projectId</code>."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1671791560,"post_id":74898590,"comment_id":132176847,"body_markdown":"Generally speaking, reading **all** projects and then searching the list in-memory is a terrible way to implement this. Why don&#39;t you just call `projectRepository.getReferenceById(projectId)`? Also: your code (even when fixed), doesn&#39;t attempt to return a `List&lt;Project&gt;`, but a `Project` instead.","body":"Generally speaking, reading <b>all</b> projects and then searching the list in-memory is a terrible way to implement this. Why don&#39;t you just call <code>projectRepository.getReferenceById(projectId)</code>? Also: your code (even when fixed), doesn&#39;t attempt to return a <code>List&lt;Project&gt;</code>, but a <code>Project</code> instead."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1671791841,"post_id":74898590,"comment_id":132176911,"body_markdown":"Well, or, more correctly, you have a lambda expression `project -&gt; project.getId() == projectId`, which is inferred to be of type `Predicate`, but then you typecast it to `Project`.","body":"Well, or, more correctly, you have a lambda expression <code>project -&gt; project.getId() == projectId</code>, which is inferred to be of type <code>Predicate</code>, but then you typecast it to <code>Project</code>."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1671793139,"post_id":74898590,"comment_id":132177241,"body_markdown":"Another problem: `projectId` is a `Long`. Comparing it using `==` is usually broken. Especially if `Project.getId()` returns an `Integer`. All in all: plenty of things are wrong here. I suggest you look for a sample how JpaRepository is usually used, as you may be using it wrong in multiple ways.","body":"Another problem: <code>projectId</code> is a <code>Long</code>. Comparing it using <code>==</code> is usually broken. Especially if <code>Project.getId()</code> returns an <code>Integer</code>. All in all: plenty of things are wrong here. I suggest you look for a sample how JpaRepository is usually used, as you may be using it wrong in multiple ways."},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1671793395,"post_id":74898590,"comment_id":132177303,"body_markdown":"Thank you, guys, I&#39;m testing now: ```projectRepository.findAll().stream().filter(project -&gt; project.getId() == projectId.longValue()).collect(Collectors.toList());```","body":"Thank you, guys, I&#39;m testing now: <code>projectRepository.findAll().stream().filter(project -&gt; project.getId() == projectId.longValue()).collect(Collectors.toList());</code>"}],"answers":[{"tags":[],"owner":{"account_id":279146,"reputation":5158,"user_id":574147,"display_name":"Fabio Bonfante"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671794176,"creation_date":1671793870,"answer_id":74898993,"question_id":74898590,"body_markdown":"In the lambda expressions in the filter you CAN express the argument type like this: \r\n```\r\n(Project project) -&gt; ....\r\n``` \r\nbut it&#39;s really not needed here.\r\n\r\nNot specific to the question there are two other points to fix here:\r\n- doing `projectRepository.findAll()` and then filtering for id is a waste of resources, you&#39;ll load in memory ALL rows in that table and then discard all except one. Your `ProjectRepository` interface will probably has a `findById` method just for what you want\r\n- the comparison `project.getId() == projectId` between two `Long` objects needs to be expressed using equals `project.getId().equals(projectId)`. You can use `==` if they where `long` primitive type and not objects.\r\n","title":"How to solve the issue: &quot;java: incompatible types: ...Project cannot be converted to java.util.function.Predicate&lt;? super ...Project&gt;&quot;?","body":"<p>In the lambda expressions in the filter you CAN express the argument type like this:</p>\n<pre><code>(Project project) -&gt; ....\n</code></pre>\n<p>but it's really not needed here.</p>\n<p>Not specific to the question there are two other points to fix here:</p>\n<ul>\n<li>doing <code>projectRepository.findAll()</code> and then filtering for id is a waste of resources, you'll load in memory ALL rows in that table and then discard all except one. Your <code>ProjectRepository</code> interface will probably has a <code>findById</code> method just for what you want</li>\n<li>the comparison <code>project.getId() == projectId</code> between two <code>Long</code> objects needs to be expressed using equals <code>project.getId().equals(projectId)</code>. You can use <code>==</code> if they where <code>long</code> primitive type and not objects.</li>\n</ul>\n"}],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74898993,"answer_count":1,"score":0,"last_activity_date":1671794176,"creation_date":1671791145,"question_id":74898590,"body_markdown":"While *building* the [project][1], I&#39;m constantly receiving the issue as:\r\n\r\n    java: incompatible types: com.test.application.data.models.Project cannot be converted to java.util.function.Predicate&lt;? super com.test.application.data.models.Project&gt;\r\n\r\nI have the following [Entity][2] class:\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor \r\n    @NoArgsConstructor \r\n    @Entity(name = &quot;project_entity&quot;) \r\n    @Table(name = &quot;projects&quot;) \r\n    public class Project {\r\n    \r\n    public Project(ProjectDTO projectDTO) { \r\n       this.name = projectDTO.getName(); \r\n       this.abbreviation = projectDTO.getAbbreviation(); \r\n       this.customer = projectDTO.getCustomer();\r\n    }\r\n    \r\n      @Id \r\n      @GeneratedValue(strategy = GenerationType.IDENTITY) \r\n      @Column(name = &quot;project_id&quot;) \r\n      private Integer id;\r\n    \r\n      private String name;\r\n    \r\n      private String abbreviation;\r\n    \r\n      private String customer; \r\n    }\r\n\r\nAnd I have `service` [implementation][3]:\r\n\r\n    @Service\r\n    public class ProjectServiceImpl implements ProjectService {\r\n      @Autowired \r\n      private ProjectRepository projectRepository;   \r\n      \r\n      @Autowired \r\n      private ProjectAdaptor projectAdaptor;  \r\n    \r\n      @Override \r\n      public List&lt;Project&gt; getAllProjects(Long projectId) { \r\n        return projectRepository.findAll().stream().filter(((Project) project -&gt; \r\n    project.getId() == projectId)) .findAny().orElse(null);\r\n      }\r\n      \r\n      @Override \r\n      public Project save(Project project) {  \r\n         return projectRepository.save(project);    \r\n      }  \r\n    \r\n      @Override \r\n      public List&lt;ProjectDTO&gt; findAllProducts() { \r\n      List&lt;Project&gt; project = projectRepository.findAll(); \r\n        return projectAdaptor.databaseModelToUiDtoList(project);    \r\n      }\r\n    } \r\n\r\nBased on it my question is how can I solve the issue related to:\r\n\r\n    java: incompatible types: com.test.application.data.models.Project cannot be converted to java.util.function.Predicate&lt;? super com.test.application.data.models.Project&gt;\r\n\r\n?\r\n\r\nI&#39;m ready to provide more details, if it helps. \r\n\r\nI&#39;m trying to get an `id` while rebuilding the project, but this error appears. I&#39;ve researched some fresh information, but with no luck.\r\n\r\nThanks in advance for any help with it.\r\n\r\n\r\n  [1]: https://github.com/invzbl3/RestApiApplication\r\n  [2]: https://github.com/invzbl3/RestApiApplication/blob/main/src/main/java/com/test/application/data/models/Project.java#L18\r\n  [3]: https://github.com/invzbl3/RestApiApplication/blob/main/src/main/java/com/test/application/service/impl/ProjectServiceImpl.java#L28","title":"How to solve the issue: &quot;java: incompatible types: ...Project cannot be converted to java.util.function.Predicate&lt;? super ...Project&gt;&quot;?","body":"<p>While <em>building</em> the <a href=\"https://github.com/invzbl3/RestApiApplication\" rel=\"nofollow noreferrer\">project</a>, I'm constantly receiving the issue as:</p>\n<pre><code>java: incompatible types: com.test.application.data.models.Project cannot be converted to java.util.function.Predicate&lt;? super com.test.application.data.models.Project&gt;\n</code></pre>\n<p>I have the following <a href=\"https://github.com/invzbl3/RestApiApplication/blob/main/src/main/java/com/test/application/data/models/Project.java#L18\" rel=\"nofollow noreferrer\">Entity</a> class:</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor \n@NoArgsConstructor \n@Entity(name = &quot;project_entity&quot;) \n@Table(name = &quot;projects&quot;) \npublic class Project {\n\npublic Project(ProjectDTO projectDTO) { \n   this.name = projectDTO.getName(); \n   this.abbreviation = projectDTO.getAbbreviation(); \n   this.customer = projectDTO.getCustomer();\n}\n\n  @Id \n  @GeneratedValue(strategy = GenerationType.IDENTITY) \n  @Column(name = &quot;project_id&quot;) \n  private Integer id;\n\n  private String name;\n\n  private String abbreviation;\n\n  private String customer; \n}\n</code></pre>\n<p>And I have <code>service</code> <a href=\"https://github.com/invzbl3/RestApiApplication/blob/main/src/main/java/com/test/application/service/impl/ProjectServiceImpl.java#L28\" rel=\"nofollow noreferrer\">implementation</a>:</p>\n<pre><code>@Service\npublic class ProjectServiceImpl implements ProjectService {\n  @Autowired \n  private ProjectRepository projectRepository;   \n  \n  @Autowired \n  private ProjectAdaptor projectAdaptor;  \n\n  @Override \n  public List&lt;Project&gt; getAllProjects(Long projectId) { \n    return projectRepository.findAll().stream().filter(((Project) project -&gt; \nproject.getId() == projectId)) .findAny().orElse(null);\n  }\n  \n  @Override \n  public Project save(Project project) {  \n     return projectRepository.save(project);    \n  }  \n\n  @Override \n  public List&lt;ProjectDTO&gt; findAllProducts() { \n  List&lt;Project&gt; project = projectRepository.findAll(); \n    return projectAdaptor.databaseModelToUiDtoList(project);    \n  }\n} \n</code></pre>\n<p>Based on it my question is how can I solve the issue related to:</p>\n<pre><code>java: incompatible types: com.test.application.data.models.Project cannot be converted to java.util.function.Predicate&lt;? super com.test.application.data.models.Project&gt;\n</code></pre>\n<p>?</p>\n<p>I'm ready to provide more details, if it helps.</p>\n<p>I'm trying to get an <code>id</code> while rebuilding the project, but this error appears. I've researched some fresh information, but with no luck.</p>\n<p>Thanks in advance for any help with it.</p>\n"},{"tags":["java","annotation-processing"],"comments":[{"owner":{"account_id":6406447,"reputation":3104,"user_id":4967497,"accept_rate":83,"display_name":"JojOatXGME"},"score":0,"creation_date":1671934983,"post_id":74898940,"comment_id":132199094,"body_markdown":"Am I right that when you say “Use input”, you mean input specified by the build system? Like configurations specified in the `pom.xml`? It would be good if you would add a short example of how the user might input the value.","body":"Am I right that when you say “Use input”, you mean input specified by the build system? Like configurations specified in the <code>pom.xml</code>? It would be good if you would add a short example of how the user might input the value."}],"owner":{"account_id":152408,"reputation":6071,"user_id":366916,"accept_rate":50,"display_name":"bharathi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671793564,"creation_date":1671793564,"question_id":74898940,"body_markdown":"I have annotation processor which need to generate the code based on the user input at compile time.\r\n\r\nFor example suppose I have a custom annotation, based on user input I need to generate the code.\r\n\r\n    \t@Target(ElementType.FIELD)\r\n\t@Retention(RetentionPolicy.SOURCE)\r\n\tpublic @interface MTAMPFieldProperty {\r\n\r\n\t\tString name() default &quot;&quot;;\r\n\r\n\t\tString value() default &quot;&quot;;\r\n\r\n\t\tString type() default &quot;&quot;;\r\n\r\n\t\tboolean nullable() default false;\r\n\r\n\t\tint length() default 32;\r\n\t\t\r\n\t\tString mappedBy() default &quot;&quot;;\r\n\t\t\r\n\t\tString cascade()  default &quot;&quot;;\r\n\t\t\r\n\t}\r\n\r\n   \r\n\r\n    \t@MTAMPEntity(value = &quot;country&quot;)\r\n\tpublic class Country {\r\n\r\n\t\t@MTAMPFieldProperty(name = &quot;country_id&quot;, value = &quot;country_id_sequence&quot;)\r\n\t\tprivate Long countryId;\r\n\r\n\t\t@MTAMPFieldProperty(name = &quot;isd&quot;)\r\n\t\tprivate String isd;\r\n\r\n\t\t@MTAMPFieldProperty(mappedBy = &quot;countries&quot;)\r\n\t\tprivate List&lt;Person&gt; persons;\r\n\r\n\t\t@MTAMPFieldProperty(name = &quot;state_id&quot;)\r\n\t\tprivate States states;\r\n\r\n\t}\r\n\r\nI need to process the above Country class and generate the output class based on user input.\r\n\r\nSuppose I am passing a value a customer1 as maven argument, then the output class should be generated based on customer 1 need. If I pass as customer2 as maven argument, then the output class should be generated based on customer 2 need.\r\n\r\n\r\n","title":"Generate a class based on user input using annotation processor at compile time","body":"<p>I have annotation processor which need to generate the code based on the user input at compile time.</p>\n<p>For example suppose I have a custom annotation, based on user input I need to generate the code.</p>\n<pre><code>    @Target(ElementType.FIELD)\n@Retention(RetentionPolicy.SOURCE)\npublic @interface MTAMPFieldProperty {\n\n    String name() default &quot;&quot;;\n\n    String value() default &quot;&quot;;\n\n    String type() default &quot;&quot;;\n\n    boolean nullable() default false;\n\n    int length() default 32;\n    \n    String mappedBy() default &quot;&quot;;\n    \n    String cascade()  default &quot;&quot;;\n    \n}\n\n\n\n    @MTAMPEntity(value = &quot;country&quot;)\npublic class Country {\n\n    @MTAMPFieldProperty(name = &quot;country_id&quot;, value = &quot;country_id_sequence&quot;)\n    private Long countryId;\n\n    @MTAMPFieldProperty(name = &quot;isd&quot;)\n    private String isd;\n\n    @MTAMPFieldProperty(mappedBy = &quot;countries&quot;)\n    private List&lt;Person&gt; persons;\n\n    @MTAMPFieldProperty(name = &quot;state_id&quot;)\n    private States states;\n\n}\n</code></pre>\n<p>I need to process the above Country class and generate the output class based on user input.</p>\n<p>Suppose I am passing a value a customer1 as maven argument, then the output class should be generated based on customer 1 need. If I pass as customer2 as maven argument, then the output class should be generated based on customer 2 need.</p>\n"},{"tags":["java","utc","datetimeformatter"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671792315,"post_id":74898690,"comment_id":132177045,"body_markdown":"Which Java version are you using? Asking because this has been added in a Java version not too long ago (don’t remember exactly which off the top of my head).","body":"Which Java version are you using? Asking because this has been added in a Java version not too long ago (don’t remember exactly which off the top of my head)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671792624,"post_id":74898690,"comment_id":132177122,"body_markdown":"This formatter works for me: `new DateTimeFormatterBuilder().appendPattern(&quot;dd.MM.uuuu &#39;at&#39; HH:mm (&#39;UTC&#39;&quot;) .appendOffset(&quot;+Hmmss&quot;, &quot;+0&quot;) .appendLiteral(&#39;)&#39;) .toFormatter()`.","body":"This formatter works for me: <code>new DateTimeFormatterBuilder().appendPattern(&quot;dd.MM.uuuu &#39;at&#39; HH:mm (&#39;UTC&#39;&quot;) .appendOffset(&quot;+Hmmss&quot;, &quot;+0&quot;) .appendLiteral(&#39;)&#39;) .toFormatter()</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671792863,"post_id":74898690,"comment_id":132177170,"body_markdown":"*can we get word UTC via pattern?* With a bit of cheating. This uses a locale that is probably irrelevant for you and will confuse your readers: `DateTimeFormatter.ofPattern(&quot;dd.MM.uuuu &#39;at&#39; HH:mm (O)&quot;, Locale.FRENCH)`.","body":"<i>can we get word UTC via pattern?</i> With a bit of cheating. This uses a locale that is probably irrelevant for you and will confuse your readers: <code>DateTimeFormatter.ofPattern(&quot;dd.MM.uuuu &#39;at&#39; HH:mm (O)&quot;, Locale.FRENCH)</code>."},{"owner":{"account_id":15940558,"reputation":49,"user_id":11502472,"display_name":"Oleg Sandro"},"score":0,"creation_date":1671792901,"post_id":74898690,"comment_id":132177179,"body_markdown":"@Sweeper Coordinated Universal Time or UTC is the primary time standard by which the world regulates clocks and time https://en.wikipedia.org/wiki/Coordinated_Universal_Time\nUTC is used to clarify timezone, for example UTC-5, UTC+0, UTC+2","body":"@Sweeper Coordinated Universal Time or UTC is the primary time standard by which the world regulates clocks and time <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Coordinated_Universal_Time</a> UTC is used to clarify timezone, for example UTC-5, UTC+0, UTC+2"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671793157,"post_id":74898690,"comment_id":132177246,"body_markdown":"@Sweeper I take that to mean not having to give `&#39;UTC&#39;` as a literal in single quotes in the pattern string but having a format pattern letter or combination of pattern letters print all of `UTC+2`.","body":"@Sweeper I take that to mean not having to give <code>&#39;UTC&#39;</code> as a literal in single quotes in the pattern string but having a format pattern letter or combination of pattern letters print all of <code>UTC+2</code>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1671793293,"post_id":74898690,"comment_id":132177271,"body_markdown":"@OleV.V. Yeah, I got it after rereading a couple of times :)","body":"@OleV.V. Yeah, I got it after rereading a couple of times :)"},{"owner":{"account_id":15940558,"reputation":49,"user_id":11502472,"display_name":"Oleg Sandro"},"score":0,"creation_date":1671793822,"post_id":74898690,"comment_id":132177414,"body_markdown":"@OleV.V. I use Java 17 currently","body":"@OleV.V. I use Java 17 currently"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671794008,"post_id":74898690,"comment_id":132177453,"body_markdown":"Java 17, then the answer should work (agreeing with Putin that the goal is to end the war in Ukraine).","body":"Java 17, then the answer should work (agreeing with Putin that the goal is to end the war in Ukraine)."},{"owner":{"account_id":15940558,"reputation":49,"user_id":11502472,"display_name":"Oleg Sandro"},"score":1,"creation_date":1671794159,"post_id":74898690,"comment_id":132177484,"body_markdown":"@OleV.V. Wow, thanks a lot! Great idea to implement. An almost perfect solution. I just replaced the &quot;+Hmmss&quot; with the &quot;+H&quot;","body":"@OleV.V. Wow, thanks a lot! Great idea to implement. An almost perfect solution. I just replaced the &quot;+Hmmss&quot; with the &quot;+H&quot;"},{"owner":{"account_id":15940558,"reputation":49,"user_id":11502472,"display_name":"Oleg Sandro"},"score":0,"creation_date":1671794321,"post_id":74898690,"comment_id":132177531,"body_markdown":"@OleV.V. Thank you for a trick with Locale.FRENCH, but unfortunately it returns &quot;UTC&quot;, when we are dealing with &quot;UTC+0&quot; time zone","body":"@OleV.V. Thank you for a trick with Locale.FRENCH, but unfortunately it returns &quot;UTC&quot;, when we are dealing with &quot;UTC+0&quot; time zone"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671795227,"post_id":74898690,"comment_id":132177789,"body_markdown":"*it returns &quot;UTC&quot;, when we are dealing with &quot;UTC+0&quot; time zone* Sorry, I had not foreseen that. Have confirmed, though. Wonder if a some other Locale behaves differently, but it would still be a hack that we may not want.","body":"<i>it returns &quot;UTC&quot;, when we are dealing with &quot;UTC+0&quot; time zone</i> Sorry, I had not foreseen that. Have confirmed, though. Wonder if a some other Locale behaves differently, but it would still be a hack that we may not want."},{"owner":{"account_id":15940558,"reputation":49,"user_id":11502472,"display_name":"Oleg Sandro"},"score":1,"creation_date":1671795575,"post_id":74898690,"comment_id":132177875,"body_markdown":"@OleV.V. Anyway, thank you a lot for the first solution. It best suits the needs","body":"@OleV.V. Anyway, thank you a lot for the first solution. It best suits the needs"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671797865,"post_id":74898690,"comment_id":132178459,"body_markdown":"*I just replaced the &quot;+Hmmss&quot; with the &quot;+H&quot;* The issue with `+H` alone is that with for example `2022-12-23T12:00:00.000+05:30` the offset comes out as `(UTC+5)`, so in this case 30 minutes wrong in theoretically up to 59 minutes wrong. I would go with `+H:mm:ss` as in the answer.","body":"<i>I just replaced the &quot;+Hmmss&quot; with the &quot;+H&quot;</i> The issue with <code>+H</code> alone is that with for example <code>2022-12-23T12:00:00.000+05:30</code> the offset comes out as <code>(UTC+5)</code>, so in this case 30 minutes wrong in theoretically up to 59 minutes wrong. I would go with <code>+H:mm:ss</code> as in the answer."},{"owner":{"account_id":15940558,"reputation":49,"user_id":11502472,"display_name":"Oleg Sandro"},"score":0,"creation_date":1671810923,"post_id":74898690,"comment_id":132181958,"body_markdown":"@OleV.V. Yeah, &quot;+H:mm:ss&quot; is better choise, than &quot;+H&quot;. It&#39;s good amendment. Thank you!","body":"@OleV.V. Yeah, &quot;+H:mm:ss&quot; is better choise, than &quot;+H&quot;. It&#39;s good amendment. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1671793126,"creation_date":1671793126,"answer_id":74898873,"question_id":74898690,"body_markdown":"You can use the [`DateTimeFormatterBuilder.appendOffset`][1] method, which supports various formats for offsets. Choose one that do not have 0 paddings on the hour.\r\n\r\n    DateTimeFormatter formatter = \r\n        new DateTimeFormatterBuilder()\r\n             .appendPattern(&quot;dd.MM.uuuu &#39;at&#39; HH:mm (&#39;UTC&#39;&quot;)\r\n             .appendOffset(&quot;+H:mm:ss&quot;, &quot;+0&quot;)\r\n             .appendLiteral(&quot;)&quot;)\r\n             .toFormatter();\r\n\r\nIf you want &quot;UTC&quot; to be part of a pattern symbol, that would be a localised offset (`O`), which means this depends on the locale.\r\n\r\nOnly as a proof of concept (:D), I have found that the French locale calls offsets &quot;UTC&#177;x&quot;.\r\n\r\n    DateTimeFormatter formatter = \r\n        DateTimeFormatter.ofPattern(&quot;dd.MM.uuuu &#39;at&#39; HH:mm (O)&quot;)\r\n            .withLocale(Locale.FRENCH);\r\n\r\nThough in other locales, you&#39;d get &quot;GMT&#177;x&quot; instead.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html#appendOffset(java.lang.String,java.lang.String)","title":"How to format date/time/zone to pattern with offset from UTC in Java?","body":"<p>You can use the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html#appendOffset(java.lang.String,java.lang.String)\" rel=\"noreferrer\"><code>DateTimeFormatterBuilder.appendOffset</code></a> method, which supports various formats for offsets. Choose one that do not have 0 paddings on the hour.</p>\n<pre><code>DateTimeFormatter formatter = \n    new DateTimeFormatterBuilder()\n         .appendPattern(&quot;dd.MM.uuuu 'at' HH:mm ('UTC'&quot;)\n         .appendOffset(&quot;+H:mm:ss&quot;, &quot;+0&quot;)\n         .appendLiteral(&quot;)&quot;)\n         .toFormatter();\n</code></pre>\n<p>If you want &quot;UTC&quot; to be part of a pattern symbol, that would be a localised offset (<code>O</code>), which means this depends on the locale.</p>\n<p>Only as a proof of concept (:D), I have found that the French locale calls offsets &quot;UTC±x&quot;.</p>\n<pre><code>DateTimeFormatter formatter = \n    DateTimeFormatter.ofPattern(&quot;dd.MM.uuuu 'at' HH:mm (O)&quot;)\n        .withLocale(Locale.FRENCH);\n</code></pre>\n<p>Though in other locales, you'd get &quot;GMT±x&quot; instead.</p>\n"}],"owner":{"account_id":15940558,"reputation":49,"user_id":11502472,"display_name":"Oleg Sandro"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74898873,"answer_count":1,"score":1,"last_activity_date":1671793126,"creation_date":1671791909,"question_id":74898690,"body_markdown":"I have timestamp. For example:\r\n```java\r\nOffsetDateTime timestamp = OffsetDateTime.parse(&quot;2022-12-23T12:00:00.000+02:00&quot;);\r\n```\r\nHow can I format it via DateTimeFormatter? I can&#39;t find format pattern, which I need:\r\n```\r\n&quot;23.12.2022 at 12:00 (UTC+2)&quot;\r\n```\r\nAnd can&#39;t create new, because when I use:\r\n```java\r\nDateTimeFormatter oldFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.uuuu &#39;at&#39; HH:mm (&#39;UTC&#39;X)&quot;); // getting UTC+02, but we need UTC+2\r\n```\r\nthen I get UTC+02, but we need UTC+2.\r\n\r\nAdditional question: can we get word UTC via pattern?","title":"How to format date/time/zone to pattern with offset from UTC in Java?","body":"<p>I have timestamp. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OffsetDateTime timestamp = OffsetDateTime.parse(&quot;2022-12-23T12:00:00.000+02:00&quot;);\n</code></pre>\n<p>How can I format it via DateTimeFormatter? I can't find format pattern, which I need:</p>\n<pre><code>&quot;23.12.2022 at 12:00 (UTC+2)&quot;\n</code></pre>\n<p>And can't create new, because when I use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter oldFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.uuuu 'at' HH:mm ('UTC'X)&quot;); // getting UTC+02, but we need UTC+2\n</code></pre>\n<p>then I get UTC+02, but we need UTC+2.</p>\n<p>Additional question: can we get word UTC via pattern?</p>\n"},{"tags":["java","jenkins","jenkins-pipeline","java-11","java-16"],"answers":[{"tags":[],"owner":{"account_id":10813059,"reputation":1474,"user_id":7953086,"accept_rate":75,"display_name":"fmdaboville"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1671792873,"creation_date":1629820163,"answer_id":68910383,"question_id":68909848,"body_markdown":"You can use the desired JDK with a [docker agent][1].\r\nWith this, you can defined an image which use the appropriate JDK or any image.\r\n\r\nFor example, in your case, you can have the JDK 11 for jenkins itself and the one you want in each job. Example with openjdk : \r\n\r\n    pipeline {\r\n        agent {\r\n            docker { image &#39;openjdk:11&#39; }\r\n        }\r\n        stages {\r\n            stage(&#39;Test java version&#39;) {\r\n                steps {\r\n                    sh &#39;java -version&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nYou can choose the [tag][2] you want to select the appropriate version.\r\n\r\nYou just need to setup docker in your jenkins instance.\r\n\r\n\r\n  [1]: https://www.jenkins.io/doc/book/pipeline/docker/\r\n  [2]: https://hub.docker.com/_/openjdk?tab=tags&amp;page=1&amp;ordering=last_updated","title":"How can I build Jenkins Projects with a custom JDK?","body":"<p>You can use the desired JDK with a <a href=\"https://www.jenkins.io/doc/book/pipeline/docker/\" rel=\"nofollow noreferrer\">docker agent</a>.\nWith this, you can defined an image which use the appropriate JDK or any image.</p>\n<p>For example, in your case, you can have the JDK 11 for jenkins itself and the one you want in each job. Example with openjdk :</p>\n<pre><code>pipeline {\n    agent {\n        docker { image 'openjdk:11' }\n    }\n    stages {\n        stage('Test java version') {\n            steps {\n                sh 'java -version'\n            }\n        }\n    }\n}\n</code></pre>\n<p>You can choose the <a href=\"https://hub.docker.com/_/openjdk?tab=tags&amp;page=1&amp;ordering=last_updated\" rel=\"nofollow noreferrer\">tag</a> you want to select the appropriate version.</p>\n<p>You just need to setup docker in your jenkins instance.</p>\n"},{"tags":[],"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629883359,"creation_date":1629883359,"answer_id":68920217,"question_id":68909848,"body_markdown":"You may not need to go the docker agent route, especially of you particular JDK does not have an image.\r\n\r\n**JDK for JENKINS itself**\r\n\r\nWhen you run Jenkins, it runs on the Java you specify, typically what&#39;s available on the command line (ie: `java -jar jenkins.war`).\r\n\r\nWhen you launch a standard linux agent ([SSH Build Agents (aka:ssh-slaves)][1] plugin), by default agents launch using the [available JDK/JRE][2]. However, the plugin also allows you to specify a custom [JavaPath and runtime options][3]. \r\n\r\nThis above is the &quot;default&quot; or &quot;System&quot; JDK available to your jobs and steps running on the agent. Note that Jenkins 2.x supports only [Java 8 and Java 11][4]. Java 11 is supported in Jenkins 2.164.1 and as of the [August releases][5], Docker images for Controllers (master) use Java 11 by default as noted:\r\n\r\n&gt; Jenkins 2.306 running as jenkins/jenkins:latest uses Java 8. When Jenkins 2.307 or later is run with jenkins/jenkins:latest, it will use Java 11\r\n&gt; \r\n&gt; Jenkins 2.289.3 running as jenkins/jenkins:lts uses Java 8. When Jenkins 2.303.1 or later is run with jenkins/jenkins:lts, it will use Java 11\r\n\r\n**JDK for JENKINS Jobs**\r\n\r\nJenkins allows multiple tools, including jdk, NodeJS, Docker, ant, gradle, maven, etc. versions to be made available to your build. They must be pre-configured configured under **Manage Jenkins → Global Tool Configuration** ( `${JENKINS_URL}/configureTools/` ).\r\n\r\nThe Jenkins [&quot;Managing Tools&quot; documentation][6] is lacking at this time, and the [Pipeline documentation][7] provides an limited explanation. [Cloudbees][8] explains a bit more. This old [S/O answer explains the basics][9], incl duding the often overlooked &quot;**JDK**&quot; [ Default (System) ], located at the end of the &quot;General&quot; section of your job. \r\n\r\nOnce you&#39;ve configured Global defaults, There&#39;s also an option to override the default location of the various instances on a per Node level, as noted in this [S/O answer][10].\r\n\r\nWhatever options are chosen, that overrides the JAVA_HOME (ANT_HOME, M2_HOME, etc.) made available to your job steps (Job overrides node overrides Global). For pipeline jobs, you can specify that using the &quot;**[tools][7]**&quot; option inside the pipeline block or a stage block, eg:\r\n\r\n    tools {\r\n        jdk &#39;jdk1.8&#39; \r\n    }\r\n\r\nWe have multiple versions (7/8/11) of Oracle JDK, JRockit, OpenJDK Hotspot and OpenJ9 and use the Node level Tool installations to override the installed path, for example on Win boxes.\r\n\r\nThere&#39;s also [extra][11] / [custom][12] Tool installer plugins which extend this flexible Tool Mgmt to other tools.\r\n\r\nFor completeness, you can also use the [Environment Injector][13] plugin to override environment variables, including the JAVA_HOME for either the whole job or starting from a specific step.\r\n\r\n\r\n  [1]: https://plugins.jenkins.io/ssh-slaves\r\n  [2]: https://github.com/jenkinsci/ssh-slaves-plugin/blob/master/doc/CONFIGURE.md#prerequisites\r\n  [3]: https://github.com/jenkinsci/ssh-slaves-plugin/blob/master/doc/CONFIGURE.md#advanced-settings\r\n  [4]: https://www.jenkins.io/doc/administration/requirements/java/\r\n  [5]: https://www.jenkins.io/blog/2021/08/17/docker-images-use-jdk-11-by-default/\r\n  [6]: https://www.jenkins.io/doc/book/managing/tools/#built-in-tool-providers\r\n  [7]: https://www.jenkins.io/doc/book/pipeline/syntax/#tools\r\n  [8]: https://support.cloudbees.com/hc/en-us/articles/360043542631-How-to-set-several-JDK-versions-to-be-installed-on-demand?page=17\r\n  [9]: https://stackoverflow.com/a/28810968/598141\r\n  [10]: https://stackoverflow.com/a/66619770/598141\r\n  [11]: https://plugins.jenkins.io/extra-tool-installers/\r\n  [12]: https://plugins.jenkins.io/custom-tools-plugin/\r\n  [13]: https://plugins.jenkins.io/envinject/","title":"How can I build Jenkins Projects with a custom JDK?","body":"<p>You may not need to go the docker agent route, especially of you particular JDK does not have an image.</p>\n<p><strong>JDK for JENKINS itself</strong></p>\n<p>When you run Jenkins, it runs on the Java you specify, typically what's available on the command line (ie: <code>java -jar jenkins.war</code>).</p>\n<p>When you launch a standard linux agent (<a href=\"https://plugins.jenkins.io/ssh-slaves\" rel=\"nofollow noreferrer\">SSH Build Agents (aka:ssh-slaves)</a> plugin), by default agents launch using the <a href=\"https://github.com/jenkinsci/ssh-slaves-plugin/blob/master/doc/CONFIGURE.md#prerequisites\" rel=\"nofollow noreferrer\">available JDK/JRE</a>. However, the plugin also allows you to specify a custom <a href=\"https://github.com/jenkinsci/ssh-slaves-plugin/blob/master/doc/CONFIGURE.md#advanced-settings\" rel=\"nofollow noreferrer\">JavaPath and runtime options</a>.</p>\n<p>This above is the &quot;default&quot; or &quot;System&quot; JDK available to your jobs and steps running on the agent. Note that Jenkins 2.x supports only <a href=\"https://www.jenkins.io/doc/administration/requirements/java/\" rel=\"nofollow noreferrer\">Java 8 and Java 11</a>. Java 11 is supported in Jenkins 2.164.1 and as of the <a href=\"https://www.jenkins.io/blog/2021/08/17/docker-images-use-jdk-11-by-default/\" rel=\"nofollow noreferrer\">August releases</a>, Docker images for Controllers (master) use Java 11 by default as noted:</p>\n<blockquote>\n<p>Jenkins 2.306 running as jenkins/jenkins:latest uses Java 8. When Jenkins 2.307 or later is run with jenkins/jenkins:latest, it will use Java 11</p>\n<p>Jenkins 2.289.3 running as jenkins/jenkins:lts uses Java 8. When Jenkins 2.303.1 or later is run with jenkins/jenkins:lts, it will use Java 11</p>\n</blockquote>\n<p><strong>JDK for JENKINS Jobs</strong></p>\n<p>Jenkins allows multiple tools, including jdk, NodeJS, Docker, ant, gradle, maven, etc. versions to be made available to your build. They must be pre-configured configured under <strong>Manage Jenkins → Global Tool Configuration</strong> ( <code>${JENKINS_URL}/configureTools/</code> ).</p>\n<p>The Jenkins <a href=\"https://www.jenkins.io/doc/book/managing/tools/#built-in-tool-providers\" rel=\"nofollow noreferrer\">&quot;Managing Tools&quot; documentation</a> is lacking at this time, and the <a href=\"https://www.jenkins.io/doc/book/pipeline/syntax/#tools\" rel=\"nofollow noreferrer\">Pipeline documentation</a> provides an limited explanation. <a href=\"https://support.cloudbees.com/hc/en-us/articles/360043542631-How-to-set-several-JDK-versions-to-be-installed-on-demand?page=17\" rel=\"nofollow noreferrer\">Cloudbees</a> explains a bit more. This old <a href=\"https://stackoverflow.com/a/28810968/598141\">S/O answer explains the basics</a>, incl duding the often overlooked &quot;<strong>JDK</strong>&quot; [ Default (System) ], located at the end of the &quot;General&quot; section of your job.</p>\n<p>Once you've configured Global defaults, There's also an option to override the default location of the various instances on a per Node level, as noted in this <a href=\"https://stackoverflow.com/a/66619770/598141\">S/O answer</a>.</p>\n<p>Whatever options are chosen, that overrides the JAVA_HOME (ANT_HOME, M2_HOME, etc.) made available to your job steps (Job overrides node overrides Global). For pipeline jobs, you can specify that using the &quot;<strong><a href=\"https://www.jenkins.io/doc/book/pipeline/syntax/#tools\" rel=\"nofollow noreferrer\">tools</a></strong>&quot; option inside the pipeline block or a stage block, eg:</p>\n<pre><code>tools {\n    jdk 'jdk1.8' \n}\n</code></pre>\n<p>We have multiple versions (7/8/11) of Oracle JDK, JRockit, OpenJDK Hotspot and OpenJ9 and use the Node level Tool installations to override the installed path, for example on Win boxes.</p>\n<p>There's also <a href=\"https://plugins.jenkins.io/extra-tool-installers/\" rel=\"nofollow noreferrer\">extra</a> / <a href=\"https://plugins.jenkins.io/custom-tools-plugin/\" rel=\"nofollow noreferrer\">custom</a> Tool installer plugins which extend this flexible Tool Mgmt to other tools.</p>\n<p>For completeness, you can also use the <a href=\"https://plugins.jenkins.io/envinject/\" rel=\"nofollow noreferrer\">Environment Injector</a> plugin to override environment variables, including the JAVA_HOME for either the whole job or starting from a specific step.</p>\n"}],"owner":{"account_id":18844071,"reputation":23,"user_id":13744826,"display_name":"Hot_Mamasita_aus_Kuhdorf 123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68910383,"answer_count":2,"score":2,"last_activity_date":1671792873,"creation_date":1629818084,"question_id":68909848,"body_markdown":"I have a regular Jenkins instance running with some multibranch pipelines. The instance runs on JDK 11, as higher versions are not really supported with Jenkins. That&#39;s alright.\r\n\r\nWhat is not alright though, is that all my pipelines also seem to be capped to Java 11 by that. Jenkins just runs all the builds with the JDK it uses itself too. That is not alright, though.\r\n\r\nAt this point, any solution would do, but ideally I would just like to have **two** seperate JDKs: JDK 11, for Jenkins itself and another JDK it automatically runs all builds on.\r\n\r\n\r\n\r\nIs there any way to achieve this? Thanks in advance - Emil","title":"How can I build Jenkins Projects with a custom JDK?","body":"<p>I have a regular Jenkins instance running with some multibranch pipelines. The instance runs on JDK 11, as higher versions are not really supported with Jenkins. That's alright.</p>\n<p>What is not alright though, is that all my pipelines also seem to be capped to Java 11 by that. Jenkins just runs all the builds with the JDK it uses itself too. That is not alright, though.</p>\n<p>At this point, any solution would do, but ideally I would just like to have <strong>two</strong> seperate JDKs: JDK 11, for Jenkins itself and another JDK it automatically runs all builds on.</p>\n<p>Is there any way to achieve this? Thanks in advance - Emil</p>\n"},{"tags":["java","arrays","list","collections"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1457802686,"post_id":35960748,"comment_id":59576592,"body_markdown":"Which version of Java are you using?","body":"Which version of Java are you using?"},{"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"score":0,"creation_date":1457803017,"post_id":35960748,"comment_id":59576708,"body_markdown":"in Java 8 it will work fine..","body":"in Java 8 it will work fine.."},{"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"score":0,"creation_date":1457803218,"post_id":35960748,"comment_id":59576787,"body_markdown":"how do you say Arrays its own class @Reimeus . You can see the imports man","body":"how do you say Arrays its own class @Reimeus . You can see the imports man"},{"owner":{"account_id":3870565,"reputation":4075,"user_id":3205932,"accept_rate":38,"display_name":"FallAndLearn"},"score":0,"creation_date":1457803484,"post_id":35960748,"comment_id":59576873,"body_markdown":"@VikrantKashyap In Java 7 also, it works.","body":"@VikrantKashyap In Java 7 also, it works."},{"owner":{"account_id":3870565,"reputation":4075,"user_id":3205932,"accept_rate":38,"display_name":"FallAndLearn"},"score":1,"creation_date":1457803829,"post_id":35960748,"comment_id":59576986,"body_markdown":"Check your java version, it may be before Java 5","body":"Check your java version, it may be before Java 5"},{"owner":{"account_id":1969027,"reputation":581,"user_id":1768522,"accept_rate":56,"display_name":"Rg90"},"score":0,"creation_date":1457810837,"post_id":35960748,"comment_id":59579397,"body_markdown":"Check your Java Compiler settings in the Project&#39;s Properties. JDK Compliance may be pointing to 1.5. Change that to the latest.","body":"Check your Java Compiler settings in the Project&#39;s Properties. JDK Compliance may be pointing to 1.5. Change that to the latest."},{"owner":{"account_id":8028619,"reputation":21,"user_id":6054565,"display_name":"beginningless"},"score":1,"creation_date":1457856071,"post_id":35960748,"comment_id":59590281,"body_markdown":"The version is java 1.8 and the Compiler Compliance level is set at 1.8","body":"The version is java 1.8 and the Compiler Compliance level is set at 1.8"},{"owner":{"account_id":8028619,"reputation":21,"user_id":6054565,"display_name":"beginningless"},"score":0,"creation_date":1457859290,"post_id":35960748,"comment_id":59591058,"body_markdown":"Eclipse Java EE IDE for Web Developers.\nVersion: Mars.2 Release (4.5.2). This is what it reads.","body":"Eclipse Java EE IDE for Web Developers. Version: Mars.2 Release (4.5.2). This is what it reads."}],"answers":[{"tags":[],"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457804432,"creation_date":1457804432,"answer_id":35961121,"question_id":35960748,"body_markdown":"**Either** change this line of Code\r\n\r\n     List&lt;String&gt; list = Arrays.asList(animals); \r\nwith `List&lt;String&gt; list = java.util.Arrays.asList(animals);`    **OR**\r\n\r\nchange your global import statement `java.util.*`to specific `java.util.Arrays` may resolve Your Problem.","title":"Getting error msg &quot;the method asList(string[]) is undefined for the type arrays&quot;","body":"<p><strong>Either</strong> change this line of Code</p>\n\n<pre><code> List&lt;String&gt; list = Arrays.asList(animals); \n</code></pre>\n\n<p>with <code>List&lt;String&gt; list = java.util.Arrays.asList(animals);</code>    <strong>OR</strong></p>\n\n<p>change your global import statement <code>java.util.*</code>to specific <code>java.util.Arrays</code> may resolve Your Problem.</p>\n"},{"tags":[],"owner":{"account_id":2704985,"reputation":1156,"user_id":2334771,"accept_rate":82,"display_name":"Arthur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458822426,"creation_date":1458822426,"answer_id":36200197,"question_id":35960748,"body_markdown":"For InellijIdea\r\n\r\n**File - Settings**\r\n\r\n    Build, Execution, Deployment - Compiler - Java Compiler\r\n\r\nSet 1.8 for\r\n    \r\n    - Project bytecode version\r\n    - For each module in &quot;Per-module bytecode version&quot;\r\n\r\n**File - Project Structure - Modules**\r\n\r\nSet 1.8 for \r\n\r\n    Language level in each module","title":"Getting error msg &quot;the method asList(string[]) is undefined for the type arrays&quot;","body":"<p>For InellijIdea</p>\n\n<p><strong>File - Settings</strong></p>\n\n<pre><code>Build, Execution, Deployment - Compiler - Java Compiler\n</code></pre>\n\n<p>Set 1.8 for</p>\n\n<pre><code>- Project bytecode version\n- For each module in \"Per-module bytecode version\"\n</code></pre>\n\n<p><strong>File - Project Structure - Modules</strong></p>\n\n<p>Set 1.8 for </p>\n\n<pre><code>Language level in each module\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17628550,"reputation":1,"user_id":12793115,"display_name":"Victor Mesquita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580145358,"creation_date":1580145358,"answer_id":59935900,"question_id":35960748,"body_markdown":"Check if you imported the correct &#39;Arrays&#39;\r\n\r\nimport java.util.Arrays;","title":"Getting error msg &quot;the method asList(string[]) is undefined for the type arrays&quot;","body":"<p>Check if you imported the correct 'Arrays'</p>\n\n<p>import java.util.Arrays;</p>\n"},{"tags":[],"owner":{"account_id":17333633,"reputation":1,"user_id":12556079,"display_name":"Ravi Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671792630,"creation_date":1671792630,"answer_id":74898793,"question_id":35960748,"body_markdown":"use this instead:\r\n\r\n    List&lt;String&gt; nameArrayList = List.of(name);","title":"Getting error msg &quot;the method asList(string[]) is undefined for the type arrays&quot;","body":"<p>use this instead:</p>\n<pre><code>List&lt;String&gt; nameArrayList = List.of(name);\n</code></pre>\n"}],"owner":{"account_id":8028619,"reputation":21,"user_id":6054565,"display_name":"beginningless"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5744,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1671792630,"creation_date":1457802606,"question_id":35960748,"body_markdown":"    import java.util.*;\r\n\r\n    public class ZCollMethods {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] animals = {&quot;dog&quot;, &quot;cat&quot;, &quot;mouse&quot;, &quot;goat&quot;};\r\n    \t\tList&lt;String&gt; list = Arrays.asList(animals);\r\n\r\nThe above line gives an error msg \r\n\r\n    the method asList(string[]) is undefined for the type arrays\r\n\r\nSomeone please help. I am only a beginner and I cant proceed further.\t\t\r\n\t","title":"Getting error msg &quot;the method asList(string[]) is undefined for the type arrays&quot;","body":"<pre><code>import java.util.*;\n\npublic class ZCollMethods {\n\n    public static void main(String[] args) {\n        String[] animals = {\"dog\", \"cat\", \"mouse\", \"goat\"};\n        List&lt;String&gt; list = Arrays.asList(animals);\n</code></pre>\n\n<p>The above line gives an error msg </p>\n\n<pre><code>the method asList(string[]) is undefined for the type arrays\n</code></pre>\n\n<p>Someone please help. I am only a beginner and I cant proceed further.       </p>\n"},{"tags":["java","selenium","jdom"],"owner":{"account_id":11766433,"reputation":35,"user_id":8610874,"display_name":"kiran kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671792427,"creation_date":1671792427,"question_id":74898763,"body_markdown":"I have a xml response in the below format. I am trying to find the text in the each of the &lt;manifestGeneric:url&gt; tag. But unable to get traverse through the &lt;manifestGeneric:files&gt; tag. Throwing a null pointer exception.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;tcm  xmlns:manifestGeneric=&quot;http://theplatform.com/tcm&quot;&gt;\r\n    &lt;height&gt;148&lt;/height&gt;\r\n    &lt;width&gt;262&lt;/width&gt;\r\n    &lt;startTime&gt;0&lt;/startTime&gt;\r\n    &lt;endTime&gt;128862&lt;/endTime&gt;\r\n    &lt;imageCount&gt;13&lt;/imageCount&gt;\r\n    &lt;manifestGeneric:files&gt;\r\n        &lt;manifestGeneric:file&gt;\r\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000000.jpg&lt;/manifestGeneric:url&gt;\r\n        &lt;/manifestGeneric:file&gt;\r\n        &lt;manifestGeneric:file&gt;\r\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000001.jpg&lt;/manifestGeneric:url&gt;\r\n        &lt;/manifestGeneric:file&gt;\r\n        &lt;manifestGeneric:file&gt;\r\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000002.jpg&lt;/manifestGeneric:url&gt;\r\n        &lt;/manifestGeneric:file&gt;\r\n        &lt;manifestGeneric:file&gt;\r\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000003.jpg&lt;/manifestGeneric:url&gt;\r\n        &lt;/manifestGeneric:file&gt;\r\n        &lt;manifestGeneric:file&gt;\r\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000004.jpg&lt;/manifestGeneric:url&gt;\r\n        &lt;/manifestGeneric:file&gt;\r\n        &lt;manifestGeneric:file&gt;\r\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000005.jpg&lt;/manifestGeneric:url&gt;\r\n        &lt;/manifestGeneric:file&gt;\r\n        &lt;manifestGeneric:file&gt;\r\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000006.jpg&lt;/manifestGeneric:url&gt;\r\n        &lt;/manifestGeneric:file&gt;\r\n        &lt;manifestGeneric:file&gt;\r\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000007.jpg&lt;/manifestGeneric:url&gt;\r\n        &lt;/manifestGeneric:file&gt;\r\n        &lt;manifestGeneric:file&gt;\r\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000008.jpg&lt;/manifestGeneric:url&gt;\r\n        &lt;/manifestGeneric:file&gt;\r\n        &lt;manifestGeneric:file&gt;\r\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000009.jpg&lt;/manifestGeneric:url&gt;\r\n        &lt;/manifestGeneric:file&gt;\r\n        &lt;manifestGeneric:file&gt;\r\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000010.jpg&lt;/manifestGeneric:url&gt;\r\n        &lt;/manifestGeneric:file&gt;\r\n        &lt;manifestGeneric:file&gt;\r\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000011.jpg&lt;/manifestGeneric:url&gt;\r\n        &lt;/manifestGeneric:file&gt;\r\n        &lt;manifestGeneric:file&gt;\r\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000012.jpg&lt;/manifestGeneric:url&gt;\r\n        &lt;/manifestGeneric:file&gt;\r\n    &lt;/manifestGeneric:files&gt;\r\n&lt;/tcm &gt;\r\n```\r\n\r\nBelow is the code I have written\r\n```\r\n\t\tSAXBuilder saxBuilder = new SAXBuilder();\r\n\r\n\t\tFile inputFile = new File(&quot;response.txt&quot;);\r\n\r\n\t\tDocument document =  saxBuilder.build(inputFile);\r\n\t\tSystem.out.println(&quot;Root element :&quot; + document.getRootElement().getName());\r\n\t\tElement classElement = document.getRootElement();\r\n\t\t\r\n\t\tElement heightEle = classElement.getChild(&quot;height&quot;);\r\n\t\tSystem.out.println(&quot;Height: &quot;+heightEle.getText());\r\n\t\t\r\n\t\tElement widthEle = classElement.getChild(&quot;width&quot;);\r\n\t\tSystem.out.println(&quot;Width: &quot;+widthEle.getText());\r\n\t\t\r\n\t\tElement startTimeEle = classElement.getChild(&quot;startTime&quot;);\r\n\t\tSystem.out.println(&quot;Start time: &quot;+startTimeEle.getText());\r\n\t\t\r\n\t\tElement endTimeEle = classElement.getChild(&quot;endTime&quot;);\r\n\t\tSystem.out.println(&quot;End time: &quot;+endTimeEle.getText());\r\n\t\t\r\n\t\tElement imgCountEle = classElement.getChild(&quot;imageCount&quot;);\r\n\t\tSystem.out.println(&quot;Img Count: &quot;+imgCountEle.getText());\r\n\t\t\r\n\t\tElement manifestGenFilesEle = classElement.getChild(&quot;manifestGeneric:files&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Tag name: &quot;+manifestGenFilesEle.getName());\r\n```\r\nmanifestGenFilesEle.getName() is throwing a null pointer exception.\r\nCan someone please help me here.","title":"Cannot traverse through a tag in jdom","body":"<p>I have a xml response in the below format. I am trying to find the text in the each of the manifestGeneric:url tag. But unable to get traverse through the manifestGeneric:files tag. Throwing a null pointer exception.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;tcm  xmlns:manifestGeneric=&quot;http://theplatform.com/tcm&quot;&gt;\n    &lt;height&gt;148&lt;/height&gt;\n    &lt;width&gt;262&lt;/width&gt;\n    &lt;startTime&gt;0&lt;/startTime&gt;\n    &lt;endTime&gt;128862&lt;/endTime&gt;\n    &lt;imageCount&gt;13&lt;/imageCount&gt;\n    &lt;manifestGeneric:files&gt;\n        &lt;manifestGeneric:file&gt;\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000000.jpg&lt;/manifestGeneric:url&gt;\n        &lt;/manifestGeneric:file&gt;\n        &lt;manifestGeneric:file&gt;\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000001.jpg&lt;/manifestGeneric:url&gt;\n        &lt;/manifestGeneric:file&gt;\n        &lt;manifestGeneric:file&gt;\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000002.jpg&lt;/manifestGeneric:url&gt;\n        &lt;/manifestGeneric:file&gt;\n        &lt;manifestGeneric:file&gt;\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000003.jpg&lt;/manifestGeneric:url&gt;\n        &lt;/manifestGeneric:file&gt;\n        &lt;manifestGeneric:file&gt;\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000004.jpg&lt;/manifestGeneric:url&gt;\n        &lt;/manifestGeneric:file&gt;\n        &lt;manifestGeneric:file&gt;\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000005.jpg&lt;/manifestGeneric:url&gt;\n        &lt;/manifestGeneric:file&gt;\n        &lt;manifestGeneric:file&gt;\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000006.jpg&lt;/manifestGeneric:url&gt;\n        &lt;/manifestGeneric:file&gt;\n        &lt;manifestGeneric:file&gt;\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000007.jpg&lt;/manifestGeneric:url&gt;\n        &lt;/manifestGeneric:file&gt;\n        &lt;manifestGeneric:file&gt;\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000008.jpg&lt;/manifestGeneric:url&gt;\n        &lt;/manifestGeneric:file&gt;\n        &lt;manifestGeneric:file&gt;\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000009.jpg&lt;/manifestGeneric:url&gt;\n        &lt;/manifestGeneric:file&gt;\n        &lt;manifestGeneric:file&gt;\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000010.jpg&lt;/manifestGeneric:url&gt;\n        &lt;/manifestGeneric:file&gt;\n        &lt;manifestGeneric:file&gt;\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000011.jpg&lt;/manifestGeneric:url&gt;\n        &lt;/manifestGeneric:file&gt;\n        &lt;manifestGeneric:file&gt;\n            &lt;manifestGeneric:url&gt;1671697301434-sample2minsvideo.0000012.jpg&lt;/manifestGeneric:url&gt;\n        &lt;/manifestGeneric:file&gt;\n    &lt;/manifestGeneric:files&gt;\n&lt;/tcm &gt;\n</code></pre>\n<p>Below is the code I have written</p>\n<pre><code>        SAXBuilder saxBuilder = new SAXBuilder();\n\n        File inputFile = new File(&quot;response.txt&quot;);\n\n        Document document =  saxBuilder.build(inputFile);\n        System.out.println(&quot;Root element :&quot; + document.getRootElement().getName());\n        Element classElement = document.getRootElement();\n        \n        Element heightEle = classElement.getChild(&quot;height&quot;);\n        System.out.println(&quot;Height: &quot;+heightEle.getText());\n        \n        Element widthEle = classElement.getChild(&quot;width&quot;);\n        System.out.println(&quot;Width: &quot;+widthEle.getText());\n        \n        Element startTimeEle = classElement.getChild(&quot;startTime&quot;);\n        System.out.println(&quot;Start time: &quot;+startTimeEle.getText());\n        \n        Element endTimeEle = classElement.getChild(&quot;endTime&quot;);\n        System.out.println(&quot;End time: &quot;+endTimeEle.getText());\n        \n        Element imgCountEle = classElement.getChild(&quot;imageCount&quot;);\n        System.out.println(&quot;Img Count: &quot;+imgCountEle.getText());\n        \n        Element manifestGenFilesEle = classElement.getChild(&quot;manifestGeneric:files&quot;);\n        \n        System.out.println(&quot;Tag name: &quot;+manifestGenFilesEle.getName());\n</code></pre>\n<p>manifestGenFilesEle.getName() is throwing a null pointer exception.\nCan someone please help me here.</p>\n"},{"tags":["java","maven","gradle","jitpack"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671793317,"post_id":74898703,"comment_id":132177279,"body_markdown":"You need to specify corresponding pom as well: ‘-DpomFile=…’, otherwise it generates dummy pom w/o dependencies","body":"You need to specify corresponding pom as well: ‘-DpomFile=…’, otherwise it generates dummy pom w/o dependencies"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671797725,"post_id":74898703,"comment_id":132178422,"body_markdown":"@AndreyB.Panfilov is right - you need to provide the pom if you want dependencies included. And if you have a pom, you can omit the `groupId`, `artifactId`, `version` and `packaging` properties, as these can be retrieved from the existing pom. That leaves `-Dfile=... -DpomFile=... -Durl=... -DrepositoryId=...`.","body":"@AndreyB.Panfilov is right - you need to provide the pom if you want dependencies included. And if you have a pom, you can omit the <code>groupId</code>, <code>artifactId</code>, <code>version</code> and <code>packaging</code> properties, as these can be retrieved from the existing pom. That leaves <code>-Dfile=... -DpomFile=... -Durl=... -DrepositoryId=...</code>."}],"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671791975,"creation_date":1671791975,"question_id":74898703,"body_markdown":"As jitpack.io has been down for almost two days now, I am trying to migrate the jars to different repository. \r\n\r\nI took the local jars of the required libraries and deployed them with `mvn deployfile`:\r\n\r\n```\r\n     mvn deploy:deploy-file \\\r\n              -DgroupId=com.github.dmurph \\\r\n              -DartifactId=jgoogleanalyticstracker \\\r\n              -Dversion=69f68caf8e \\\r\n              -Dpackaging=jar \\\r\n              -Dfile=jgoogleanalyticstracker-master-69f68caf8e-1.jar \\\r\n              -Durl=https://gitlab.com/api/v4/projects/{your-project-id}/packages/maven \\\r\n              -DrepositoryId=gitlab-maven\r\n```\r\n\r\nThis is great and I can see the jars being deployed and I can link to them.\r\n\r\nHowever it seems that any dependencies for the original library are ignored and when trying to use this I am getting a lot of `Class not found` exceptions of the related dependencies. \r\n\r\nIs there a way to publish the jar with correct links to dependencies?","title":"maven deploy-file with links to dependencies","body":"<p>As jitpack.io has been down for almost two days now, I am trying to migrate the jars to different repository.</p>\n<p>I took the local jars of the required libraries and deployed them with <code>mvn deployfile</code>:</p>\n<pre><code>     mvn deploy:deploy-file \\\n              -DgroupId=com.github.dmurph \\\n              -DartifactId=jgoogleanalyticstracker \\\n              -Dversion=69f68caf8e \\\n              -Dpackaging=jar \\\n              -Dfile=jgoogleanalyticstracker-master-69f68caf8e-1.jar \\\n              -Durl=https://gitlab.com/api/v4/projects/{your-project-id}/packages/maven \\\n              -DrepositoryId=gitlab-maven\n</code></pre>\n<p>This is great and I can see the jars being deployed and I can link to them.</p>\n<p>However it seems that any dependencies for the original library are ignored and when trying to use this I am getting a lot of <code>Class not found</code> exceptions of the related dependencies.</p>\n<p>Is there a way to publish the jar with correct links to dependencies?</p>\n"},{"tags":["java","eclipse","javafx"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1671791789,"post_id":74898490,"comment_id":132176894,"body_markdown":"You have to convert the int or double to a string to set the field.","body":"You have to convert the int or double to a string to set the field."},{"owner":{"account_id":27328967,"reputation":21,"user_id":20841440,"display_name":"AdrianProvich"},"score":0,"creation_date":1671792073,"post_id":74898490,"comment_id":132176976,"body_markdown":"@greg-449 Yes, that was what I was thinking, however, I need the input to stay as an integer or double, as I will have to calculate the total distance, altitude and time. But if I convert both of them to a string, will it stop me from making those calculations?","body":"@greg-449 Yes, that was what I was thinking, however, I need the input to stay as an integer or double, as I will have to calculate the total distance, altitude and time. But if I convert both of them to a string, will it stop me from making those calculations?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1671792149,"post_id":74898490,"comment_id":132176994,"body_markdown":"Keep the values separately. You have no choice but to use strings for the actual setText calls.","body":"Keep the values separately. You have no choice but to use strings for the actual setText calls."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1671804246,"post_id":74898490,"comment_id":132180161,"body_markdown":"@greg-449 *”You have no choice but to use Strings”*. There are other choices. You can set a [`TextFormatter`](https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/TextFormatter.html) on the text field and set the value of the formatter.","body":"@greg-449 <i>”You have no choice but to use Strings”</i>. There are other choices. You can set a <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/TextFormatter.html\" rel=\"nofollow noreferrer\"><code>TextFormatter</code></a> on the text field and set the value of the formatter."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":1,"creation_date":1671809236,"post_id":74898490,"comment_id":132181513,"body_markdown":"@James_D is correct.  Here&#39;s a tutorial I wrote: https://www.pragmaticcoding.ca/javafx/elements/textformatter/","body":"@James_D is correct.  Here&#39;s a tutorial I wrote: <a href=\"https://www.pragmaticcoding.ca/javafx/elements/textformatter/\" rel=\"nofollow noreferrer\">pragmaticcoding.ca/javafx/elements/textformatter</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671947406,"post_id":74898490,"comment_id":132199806,"body_markdown":"@DaveB impressive writeup on what is historically a really poorly documented feature.","body":"@DaveB impressive writeup on what is historically a really poorly documented feature."}],"owner":{"account_id":27328967,"reputation":21,"user_id":20841440,"display_name":"AdrianProvich"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671791586,"creation_date":1671790543,"question_id":74898490,"body_markdown":"I am writting a program where the user can input a set of data which will directly go into a database. Hence, where the user can input all the data he needs to fill in to insert it into the database, I need to make two of the textfields as integers and one as a double. However, I cannot seem to find what is the code to set a textfield as integer or double, instead of doing: \r\n&quot;expeditionDate.setText(Date)&quot;. Therefore, I was hoping if anyone knows the set of code to set a textfield as a integer or double. However, I cannot cast it into a String as I will need to make calcualtions using the data.\r\n\r\n```\r\nvoid setTextField(String Date, double Time , int Altitude, int Distance, String Notes) {\r\n\r\n   \r\n        expeditionDate.setText(Date);\r\n        expeditionTime.(Time);;\r\n        expeditionAltitude.setText(Altitude);;\r\n        expeditionDistance = Distance;\r\n        expeditionNotes.setText(Notes);\r\n        \r\n        \r\n\r\n    }\r\n\r\n```\r\n","title":"Setting textfields as integers or doubles in JavaFX JDBC Eclipse","body":"<p>I am writting a program where the user can input a set of data which will directly go into a database. Hence, where the user can input all the data he needs to fill in to insert it into the database, I need to make two of the textfields as integers and one as a double. However, I cannot seem to find what is the code to set a textfield as integer or double, instead of doing:\n&quot;expeditionDate.setText(Date)&quot;. Therefore, I was hoping if anyone knows the set of code to set a textfield as a integer or double. However, I cannot cast it into a String as I will need to make calcualtions using the data.</p>\n<pre><code>void setTextField(String Date, double Time , int Altitude, int Distance, String Notes) {\n\n   \n        expeditionDate.setText(Date);\n        expeditionTime.(Time);;\n        expeditionAltitude.setText(Altitude);;\n        expeditionDistance = Distance;\n        expeditionNotes.setText(Notes);\n        \n        \n\n    }\n\n</code></pre>\n"},{"tags":["javascript","java","html","jquery","aem-6"],"comments":[{"owner":{"account_id":16097094,"reputation":146,"user_id":11618985,"display_name":"Prem Ib"},"score":0,"creation_date":1671716559,"post_id":74885824,"comment_id":132160960,"body_markdown":"As you have not provided your rendered HTML or even the _cq_dialog/.content.xml, it is hard to interpret and understand what is exactly wrong. Is the dropdown getting populated with option &amp; the previously selected value is not reselected again? or you are not even seeing options in your cities dropdown?","body":"As you have not provided your rendered HTML or even the _cq_dialog/.content.xml, it is hard to interpret and understand what is exactly wrong. Is the dropdown getting populated with option &amp; the previously selected value is not reselected again? or you are not even seeing options in your cities dropdown?"}],"owner":{"account_id":27324748,"reputation":1,"user_id":20837893,"display_name":"Rahul Turaka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671791524,"creation_date":1671697236,"question_id":74885824,"body_markdown":"i have a multifiled with country and cities dropdown cities dropdown is based on country selection .Issue: first time when i select a field in country dropdown and select city values are storing properly second time when i again open the dialog and with out changing any thing if i save the dialog then city drop down values are getting cleared\r\n\r\n\r\n\r\n```\r\n(function($, $document) {\r\n    &quot;use strict&quot;;\r\n\r\n    var COUNTRY = &quot;./mfCountry&quot;,\r\n        CITY = &quot;./mfCity&quot;;\r\n\r\n    function loadCities(el) {\r\n        el.each(function(i, element) {\r\n              if ($(element).data(&quot;select&quot;)) {\r\n\r\n                var value = $(element).data(&quot;select&quot;).getValue();\r\n                console.log(value);\r\n                var multifieldItemContenHandle = $(element).closest(&quot;coral-multifield-item-content&quot;);\r\n                var citySelect = multifieldItemContenHandle.find(&quot;.cq-dialog-select-city&quot;).find(&quot;select&quot;);\r\n                var cityID = citySelect.val();\r\n                if (value.indexOf(&quot;,&quot;) == -1) {\r\n                    $.get(&quot;/bin/getcitylist?countryID=&quot; + value, function(dataSource) {\r\n                        var citySpan = citySelect.closest(&quot;.coral-Select&quot;);\r\n                        citySpan.find(&#39;option&#39;).remove().end();\r\n                        var cityUl = citySpan.find(&#39;ul&#39;);\r\n                        cityUl.find(&#39;li&#39;).remove().end();\r\n                        var cityOl = citySpan.find(&#39;ol&#39;);\r\n                        cityOl.find(&#39;li&#39;).remove().end();\r\n                        $.each(dataSource, function(value, key) {\r\n                            $(&quot;&lt;option&gt;&quot;).val(key).text(value).appendTo(citySelect);\r\n                            cityUl.append(&#39;&lt;li class=&quot;coral-SelectList-item coral-SelectList-item--option is-highlighted&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; data-value=&quot;&#39; + key + &#39;&quot;&gt;&#39; + value + &#39;&lt;/a&gt;&lt;/li&gt;&#39;);\r\n                        });\r\n                    });\r\n                } else {\r\n                    $.get(&quot;/bin/getallcities?city=all&quot;, function(dataSource) {\r\n                        var citySpan = citySelect.closest(&quot;.coral-Select&quot;);\r\n                        citySpan.find(&#39;option&#39;).remove().end();\r\n                        var cityUl = citySpan.find(&#39;ul&#39;);\r\n                        cityUl.find(&#39;li&#39;).remove().end();\r\n                        var cityOl = citySpan.find(&#39;ol&#39;);\r\n                        cityOl.find(&#39;li&#39;).remove().end();\r\n                        $.each(dataSource, function(value, key) {\r\n                            $(&quot;&lt;option&gt;&quot;).val(key).text(value).appendTo(citySelect);\r\n                            cityUl.append(&#39;&lt;li class=&quot;coral-SelectList-item coral-SelectList-item--option is-highlighted&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; data-value=&quot;&#39; + key + &#39;&quot;&gt;&#39; + value + &#39;&lt;/a&gt;&lt;/li&gt;&#39;);\r\n                        });\r\n                    });\r\n                }\r\n\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n\r\n    $document.on(&quot;dialog-ready&quot;, function() {\r\n\r\n        $(document).on(&quot;selected&quot;, &quot;.cq-dialog-select-country&quot;, function(e) {\r\n            loadCities($(this));\r\n        });\r\n\r\n        var $multifields = $(&quot;coral-Multifield&quot;).find(&quot;coral-multifield-item&quot;);\r\n       var mfCityFlag = $multifields.find(&quot;select[name=&#39;./mfCity&#39;]&quot;);\r\n\r\n       if(mfCityFlag.length == 0){\r\n       return true;\r\n       }\r\n        $multifields.each(function(i, multifield) {\r\n            var v = $(multifield).find(&quot;select[name=&#39;./mfCountry&#39;]&quot;).find(&quot;option:selected&quot;).val();\r\n            var citySpan = $(multifield).find(&quot;select[name=&#39;./mfCity&#39;]&quot;);\r\n            var $citySelectedItem = $(multifield).find(&quot;ol&quot;).children();\r\n            if (v.indexOf(&quot;,&quot;) == -1) {\r\n\r\n                $.get(&quot;/bin/getcitylist?countryID=&quot; + v, function(dataSource) {\r\n                    var cityUl = $(citySpan).parent().find(&#39;ul&#39;);\r\n                    $(cityUl).find(&#39;li&#39;).remove().end();\r\n                    citySpan.find(&quot;option&quot;).remove().end();\r\n                    $.each(dataSource, function(value, key) {\r\n                        $(&quot;&lt;option&gt;&quot;).val(key).text(value).appendTo(citySpan);\r\n                        $(cityUl).append(&#39;&lt;li class=&quot;coral-SelectList-item coral-SelectList-item--option is-highlighted&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; data-value=&quot;&#39; + key + &#39;&quot;&gt;&#39; + value + &#39;&lt;/a&gt;&lt;/li&gt;&#39;);\r\n                    });\r\n                    if ($citySelectedItem.length == 0) {\r\n                        var itemVal = &quot;All&quot;\r\n                        $(multifield).find(&quot;select[name=&#39;./mfCity&#39;]&quot;).find(&quot;option:contains(&quot; + itemVal + &quot;)&quot;)\r\n                            .attr(&quot;selected&quot;, &quot;selected&quot;);\r\n\r\n                    } else {\r\n                        $citySelectedItem.each(function(i, citySelectedItem) {\r\n                            var itemVal = $(this).attr(&quot;title&quot;);\r\n                            $(multifield).find(&quot;select[name=&#39;./mfCity&#39;]&quot;).find(&quot;option:contains(&quot; + itemVal + &quot;)&quot;)\r\n                                .attr(&quot;selected&quot;, &quot;selected&quot;);\r\n\r\n                        });\r\n                    }\r\n\r\n\r\n                });\r\n\r\n            } else {\r\n\r\n                $.get(&quot;/bin/getallcities?city=all&quot;, function(dataSource) {\r\n                    var cityUl = $(citySpan).parent().find(&#39;ul&#39;);\r\n                    $(cityUl).find(&#39;li&#39;).remove().end();\r\n                    citySpan.find(&quot;option&quot;).remove().end();\r\n                    $.each(dataSource, function(value, key) {\r\n                        $(&quot;&lt;option&gt;&quot;).val(key).text(value).appendTo(citySpan);\r\n                        $(cityUl).append(&#39;&lt;li class=&quot;coral-SelectList-item coral-SelectList-item--option is-highlighted&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; data-value=&quot;&#39; + key + &#39;&quot;&gt;&#39; + value + &#39;&lt;/a&gt;&lt;/li&gt;&#39;);\r\n                    });\r\n                    $citySelectedItem.each(function(i, citySelectedItem) {\r\n                        var itemVal = $(this).attr(&quot;title&quot;);\r\n                        $(multifield).find(&quot;select[name=&#39;./mfCity&#39;]&quot;).find(&quot;option:contains(&quot; + itemVal + &quot;)&quot;)\r\n                            .attr(&quot;selected&quot;, &quot;selected&quot;);\r\n\r\n                    });\r\n\r\n                });\r\n            }\r\n\r\n        });\r\n\r\n\r\n    });\r\n\r\n\r\n    $document.on(&quot;foundation-contentloaded&quot;, function() {\r\n\r\n        $(document).on(&quot;selected&quot;, &quot;.cq-dialog-select-country&quot;, function(e) {\r\n            loadCities($(this));\r\n        });\r\n      var $multifields = $(&quot;coral-Multifield&quot;).find(&quot;coral-multifield-item&quot;);\r\n       var mfCityFlag = $multifields.find(&quot;select[name=&#39;./mfCity&#39;]&quot;);\r\n       if(mfCityFlag.length == 0){\r\n       return true;\r\n       }\r\n        $multifields.each(function(i, multifield) {\r\n            var v = $(multifield).find(&quot;select[name=&#39;./mfCountry&#39;]&quot;).find(&quot;option:selected&quot;).val();\r\n            var citySpan = $(multifield).find(&quot;select[name=&#39;./mfCity&#39;]&quot;);\r\n            var $citySelectedItem = $(multifield).find(&quot;ol&quot;).children();\r\n\r\n\r\n            if (v.indexOf(&quot;,&quot;) == -1) {\r\n\r\n                $.get(&quot;/bin/getcitylist?countryID=&quot; + v, function(dataSource) {\r\n                    var cityUl = $(citySpan).parent().find(&#39;ul&#39;);\r\n                    $(cityUl).find(&#39;li&#39;).remove().end();\r\n                    citySpan.find(&quot;option&quot;).remove().end();\r\n                    $.each(dataSource, function(value, key) {\r\n                        $(&quot;&lt;option&gt;&quot;).val(key).text(value).appendTo(citySpan);\r\n                        $(cityUl).append(&#39;&lt;li class=&quot;coral-SelectList-item coral-SelectList-item--option is-highlighted&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; data-value=&quot;&#39; + key + &#39;&quot;&gt;&#39; + value + &#39;&lt;/a&gt;&lt;/li&gt;&#39;);\r\n                    });\r\n                    if ($citySelectedItem.length == 0) {\r\n                        var itemVal = &quot;All&quot;\r\n                        $(multifield).find(&quot;select[name=&#39;./mfCity&#39;]&quot;).find(&quot;option:contains(&quot; + itemVal + &quot;)&quot;)\r\n                            .attr(&quot;selected&quot;, &quot;selected&quot;);\r\n\r\n                    } else {\r\n                        $citySelectedItem.each(function(i, citySelectedItem) {\r\n                            var itemVal = $(this).attr(&quot;title&quot;);\r\n                            $(multifield).find(&quot;select[name=&#39;./mfCity&#39;]&quot;).find(&quot;option:contains(&quot; + itemVal + &quot;)&quot;)\r\n                                .attr(&quot;selected&quot;, &quot;selected&quot;);\r\n\r\n                        });\r\n                    }\r\n\r\n\r\n                });\r\n\r\n            } else {\r\n                $.get(&quot;/bin/getallcities?city=all&quot;, function(dataSource) {\r\n                    var cityUl = $(citySpan).parent().find(&#39;ul&#39;);\r\n                    $(cityUl).find(&#39;li&#39;).remove().end();\r\n                     citySpan.find(&quot;option&quot;).remove().end();\r\n                    $.each(dataSource, function(value, key) {\r\n                        $(&quot;&lt;option&gt;&quot;).val(key).text(value).appendTo(citySpan);\r\n                        $(cityUl).append(&#39;&lt;li class=&quot;coral-SelectList-item coral-SelectList-item--option is-highlighted&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; data-value=&quot;&#39; + key + &#39;&quot;&gt;&#39; + value + &#39;&lt;/a&gt;&lt;/li&gt;&#39;);\r\n                    });\r\n                    $citySelectedItem.each(function(i, citySelectedItem) {\r\n                        var itemVal = $(this).attr(&quot;title&quot;);\r\n                        $(multifield).find(&quot;select[name=&#39;./mfCity&#39;]&quot;).find(&quot;option:contains(&quot; + itemVal + &quot;)&quot;)\r\n                            .attr(&quot;selected&quot;, &quot;selected&quot;);\r\n\r\n                    });\r\n\r\n                });\r\n            }\r\n\r\n        });\r\n\r\n\r\n    });\r\n\r\n\r\n    // Dialog Submit Function\r\n\r\n    $(document).on(&quot;click&quot;, &quot;.cq-dialog-submit&quot;, function(e) {\r\n        //$(window).adaptTo(&quot;foundation-ui&quot;).alert(&quot;Close&quot;, &quot;Dialog closed, selector [.cq-dialog-submit]&quot;);\r\n        var requestUrl = e.target.baseURI;\r\n        if (requestUrl.indexOf(&quot;/offers/&quot;)) {\r\n            requestUrl = requestUrl.split(&quot;editor.html&quot;).pop();\r\n            requestUrl = requestUrl.replace(&quot;.html&quot;, &quot;&quot;);\r\n\r\n\r\n            $.ajax({\r\n                url: requestUrl + &quot;.qsOffer&quot;,\r\n                beforeSend: function(xhr) {\r\n                    xhr.overrideMimeType(&quot;text/plain; charset=x-user-defined&quot;);\r\n                }\r\n            }).done(function(data) {\r\n\r\n                console.log(&quot;Sample of data:&quot;, data);\r\n            });\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n    });\r\n\r\n\r\n\r\n})($, $(document));\r\n```\r\n\r\n\r\n\r\n\r\nim expecting the cities dropdwon values should not get cleared even if i open and save the dialog with out doing any modifications","title":"dropdown values in the dialog are getting cleared when i save the dialog for the second time","body":"<p>i have a multifiled with country and cities dropdown cities dropdown is based on country selection .Issue: first time when i select a field in country dropdown and select city values are storing properly second time when i again open the dialog and with out changing any thing if i save the dialog then city drop down values are getting cleared</p>\n<pre><code>(function($, $document) {\n    &quot;use strict&quot;;\n\n    var COUNTRY = &quot;./mfCountry&quot;,\n        CITY = &quot;./mfCity&quot;;\n\n    function loadCities(el) {\n        el.each(function(i, element) {\n              if ($(element).data(&quot;select&quot;)) {\n\n                var value = $(element).data(&quot;select&quot;).getValue();\n                console.log(value);\n                var multifieldItemContenHandle = $(element).closest(&quot;coral-multifield-item-content&quot;);\n                var citySelect = multifieldItemContenHandle.find(&quot;.cq-dialog-select-city&quot;).find(&quot;select&quot;);\n                var cityID = citySelect.val();\n                if (value.indexOf(&quot;,&quot;) == -1) {\n                    $.get(&quot;/bin/getcitylist?countryID=&quot; + value, function(dataSource) {\n                        var citySpan = citySelect.closest(&quot;.coral-Select&quot;);\n                        citySpan.find('option').remove().end();\n                        var cityUl = citySpan.find('ul');\n                        cityUl.find('li').remove().end();\n                        var cityOl = citySpan.find('ol');\n                        cityOl.find('li').remove().end();\n                        $.each(dataSource, function(value, key) {\n                            $(&quot;&lt;option&gt;&quot;).val(key).text(value).appendTo(citySelect);\n                            cityUl.append('&lt;li class=&quot;coral-SelectList-item coral-SelectList-item--option is-highlighted&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; data-value=&quot;' + key + '&quot;&gt;' + value + '&lt;/a&gt;&lt;/li&gt;');\n                        });\n                    });\n                } else {\n                    $.get(&quot;/bin/getallcities?city=all&quot;, function(dataSource) {\n                        var citySpan = citySelect.closest(&quot;.coral-Select&quot;);\n                        citySpan.find('option').remove().end();\n                        var cityUl = citySpan.find('ul');\n                        cityUl.find('li').remove().end();\n                        var cityOl = citySpan.find('ol');\n                        cityOl.find('li').remove().end();\n                        $.each(dataSource, function(value, key) {\n                            $(&quot;&lt;option&gt;&quot;).val(key).text(value).appendTo(citySelect);\n                            cityUl.append('&lt;li class=&quot;coral-SelectList-item coral-SelectList-item--option is-highlighted&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; data-value=&quot;' + key + '&quot;&gt;' + value + '&lt;/a&gt;&lt;/li&gt;');\n                        });\n                    });\n                }\n\n\n            }\n        })\n    }\n\n\n\n    $document.on(&quot;dialog-ready&quot;, function() {\n\n        $(document).on(&quot;selected&quot;, &quot;.cq-dialog-select-country&quot;, function(e) {\n            loadCities($(this));\n        });\n\n        var $multifields = $(&quot;coral-Multifield&quot;).find(&quot;coral-multifield-item&quot;);\n       var mfCityFlag = $multifields.find(&quot;select[name='./mfCity']&quot;);\n\n       if(mfCityFlag.length == 0){\n       return true;\n       }\n        $multifields.each(function(i, multifield) {\n            var v = $(multifield).find(&quot;select[name='./mfCountry']&quot;).find(&quot;option:selected&quot;).val();\n            var citySpan = $(multifield).find(&quot;select[name='./mfCity']&quot;);\n            var $citySelectedItem = $(multifield).find(&quot;ol&quot;).children();\n            if (v.indexOf(&quot;,&quot;) == -1) {\n\n                $.get(&quot;/bin/getcitylist?countryID=&quot; + v, function(dataSource) {\n                    var cityUl = $(citySpan).parent().find('ul');\n                    $(cityUl).find('li').remove().end();\n                    citySpan.find(&quot;option&quot;).remove().end();\n                    $.each(dataSource, function(value, key) {\n                        $(&quot;&lt;option&gt;&quot;).val(key).text(value).appendTo(citySpan);\n                        $(cityUl).append('&lt;li class=&quot;coral-SelectList-item coral-SelectList-item--option is-highlighted&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; data-value=&quot;' + key + '&quot;&gt;' + value + '&lt;/a&gt;&lt;/li&gt;');\n                    });\n                    if ($citySelectedItem.length == 0) {\n                        var itemVal = &quot;All&quot;\n                        $(multifield).find(&quot;select[name='./mfCity']&quot;).find(&quot;option:contains(&quot; + itemVal + &quot;)&quot;)\n                            .attr(&quot;selected&quot;, &quot;selected&quot;);\n\n                    } else {\n                        $citySelectedItem.each(function(i, citySelectedItem) {\n                            var itemVal = $(this).attr(&quot;title&quot;);\n                            $(multifield).find(&quot;select[name='./mfCity']&quot;).find(&quot;option:contains(&quot; + itemVal + &quot;)&quot;)\n                                .attr(&quot;selected&quot;, &quot;selected&quot;);\n\n                        });\n                    }\n\n\n                });\n\n            } else {\n\n                $.get(&quot;/bin/getallcities?city=all&quot;, function(dataSource) {\n                    var cityUl = $(citySpan).parent().find('ul');\n                    $(cityUl).find('li').remove().end();\n                    citySpan.find(&quot;option&quot;).remove().end();\n                    $.each(dataSource, function(value, key) {\n                        $(&quot;&lt;option&gt;&quot;).val(key).text(value).appendTo(citySpan);\n                        $(cityUl).append('&lt;li class=&quot;coral-SelectList-item coral-SelectList-item--option is-highlighted&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; data-value=&quot;' + key + '&quot;&gt;' + value + '&lt;/a&gt;&lt;/li&gt;');\n                    });\n                    $citySelectedItem.each(function(i, citySelectedItem) {\n                        var itemVal = $(this).attr(&quot;title&quot;);\n                        $(multifield).find(&quot;select[name='./mfCity']&quot;).find(&quot;option:contains(&quot; + itemVal + &quot;)&quot;)\n                            .attr(&quot;selected&quot;, &quot;selected&quot;);\n\n                    });\n\n                });\n            }\n\n        });\n\n\n    });\n\n\n    $document.on(&quot;foundation-contentloaded&quot;, function() {\n\n        $(document).on(&quot;selected&quot;, &quot;.cq-dialog-select-country&quot;, function(e) {\n            loadCities($(this));\n        });\n      var $multifields = $(&quot;coral-Multifield&quot;).find(&quot;coral-multifield-item&quot;);\n       var mfCityFlag = $multifields.find(&quot;select[name='./mfCity']&quot;);\n       if(mfCityFlag.length == 0){\n       return true;\n       }\n        $multifields.each(function(i, multifield) {\n            var v = $(multifield).find(&quot;select[name='./mfCountry']&quot;).find(&quot;option:selected&quot;).val();\n            var citySpan = $(multifield).find(&quot;select[name='./mfCity']&quot;);\n            var $citySelectedItem = $(multifield).find(&quot;ol&quot;).children();\n\n\n            if (v.indexOf(&quot;,&quot;) == -1) {\n\n                $.get(&quot;/bin/getcitylist?countryID=&quot; + v, function(dataSource) {\n                    var cityUl = $(citySpan).parent().find('ul');\n                    $(cityUl).find('li').remove().end();\n                    citySpan.find(&quot;option&quot;).remove().end();\n                    $.each(dataSource, function(value, key) {\n                        $(&quot;&lt;option&gt;&quot;).val(key).text(value).appendTo(citySpan);\n                        $(cityUl).append('&lt;li class=&quot;coral-SelectList-item coral-SelectList-item--option is-highlighted&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; data-value=&quot;' + key + '&quot;&gt;' + value + '&lt;/a&gt;&lt;/li&gt;');\n                    });\n                    if ($citySelectedItem.length == 0) {\n                        var itemVal = &quot;All&quot;\n                        $(multifield).find(&quot;select[name='./mfCity']&quot;).find(&quot;option:contains(&quot; + itemVal + &quot;)&quot;)\n                            .attr(&quot;selected&quot;, &quot;selected&quot;);\n\n                    } else {\n                        $citySelectedItem.each(function(i, citySelectedItem) {\n                            var itemVal = $(this).attr(&quot;title&quot;);\n                            $(multifield).find(&quot;select[name='./mfCity']&quot;).find(&quot;option:contains(&quot; + itemVal + &quot;)&quot;)\n                                .attr(&quot;selected&quot;, &quot;selected&quot;);\n\n                        });\n                    }\n\n\n                });\n\n            } else {\n                $.get(&quot;/bin/getallcities?city=all&quot;, function(dataSource) {\n                    var cityUl = $(citySpan).parent().find('ul');\n                    $(cityUl).find('li').remove().end();\n                     citySpan.find(&quot;option&quot;).remove().end();\n                    $.each(dataSource, function(value, key) {\n                        $(&quot;&lt;option&gt;&quot;).val(key).text(value).appendTo(citySpan);\n                        $(cityUl).append('&lt;li class=&quot;coral-SelectList-item coral-SelectList-item--option is-highlighted&quot; aria-selected=&quot;false&quot; role=&quot;option&quot; data-value=&quot;' + key + '&quot;&gt;' + value + '&lt;/a&gt;&lt;/li&gt;');\n                    });\n                    $citySelectedItem.each(function(i, citySelectedItem) {\n                        var itemVal = $(this).attr(&quot;title&quot;);\n                        $(multifield).find(&quot;select[name='./mfCity']&quot;).find(&quot;option:contains(&quot; + itemVal + &quot;)&quot;)\n                            .attr(&quot;selected&quot;, &quot;selected&quot;);\n\n                    });\n\n                });\n            }\n\n        });\n\n\n    });\n\n\n    // Dialog Submit Function\n\n    $(document).on(&quot;click&quot;, &quot;.cq-dialog-submit&quot;, function(e) {\n        //$(window).adaptTo(&quot;foundation-ui&quot;).alert(&quot;Close&quot;, &quot;Dialog closed, selector [.cq-dialog-submit]&quot;);\n        var requestUrl = e.target.baseURI;\n        if (requestUrl.indexOf(&quot;/offers/&quot;)) {\n            requestUrl = requestUrl.split(&quot;editor.html&quot;).pop();\n            requestUrl = requestUrl.replace(&quot;.html&quot;, &quot;&quot;);\n\n\n            $.ajax({\n                url: requestUrl + &quot;.qsOffer&quot;,\n                beforeSend: function(xhr) {\n                    xhr.overrideMimeType(&quot;text/plain; charset=x-user-defined&quot;);\n                }\n            }).done(function(data) {\n\n                console.log(&quot;Sample of data:&quot;, data);\n            });\n\n        }\n\n\n\n\n    });\n\n\n\n})($, $(document));\n</code></pre>\n<p>im expecting the cities dropdwon values should not get cleared even if i open and save the dialog with out doing any modifications</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1671787537,"post_id":74898033,"comment_id":132175854,"body_markdown":"Then don&#39;t print inside the loop. Save the greatest number in a variable and then print it after the loops.","body":"Then don&#39;t print inside the loop. Save the greatest number in a variable and then print it after the loops."},{"owner":{"account_id":21764759,"reputation":5,"user_id":16068818,"display_name":"SUDHANSHU SHEKHAR SRIVASTAVA"},"score":0,"creation_date":1671788174,"post_id":74898033,"comment_id":132176003,"body_markdown":"that&#39; what my question is.. how to save the greatest number from the variable","body":"that&#39; what my question is.. how to save the greatest number from the variable"},{"owner":{"account_id":22491103,"reputation":5310,"user_id":16688813,"display_name":"Tom"},"score":0,"creation_date":1671790017,"post_id":74898033,"comment_id":132176436,"body_markdown":"@SUDHANSHUSHEKHARSRIVASTAVA `count` is a variable that is never used. You could rename it `max` and instead of printing `k` when a greater value is found, you should store this value doing `max = k;`. Then, you can print the value stored into `max` after your `for` loops.","body":"@SUDHANSHUSHEKHARSRIVASTAVA <code>count</code> is a variable that is never used. You could rename it <code>max</code> and instead of printing <code>k</code> when a greater value is found, you should store this value doing <code>max = k;</code>. Then, you can print the value stored into <code>max</code> after your <code>for</code> loops."},{"owner":{"account_id":21764759,"reputation":5,"user_id":16068818,"display_name":"SUDHANSHU SHEKHAR SRIVASTAVA"},"score":0,"creation_date":1671790762,"post_id":74898033,"comment_id":132176650,"body_markdown":"i have already done with that but if i will assign the value in max then it will iterate all the number of item and will provide the output as it is..","body":"i have already done with that but if i will assign the value in max then it will iterate all the number of item and will provide the output as it is.."}],"answers":[{"tags":[],"owner":{"account_id":23991256,"reputation":11,"user_id":17977380,"display_name":"Krypt0n112"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671790626,"creation_date":1671790626,"answer_id":74898501,"question_id":74898033,"body_markdown":"As hint\r\n\r\n```\r\nint res = 0;\r\nfor(){\r\n  for(){\r\n    if(yourcondition){\r\n      if(res &lt; newValue) res = newValue;\r\n    }\r\n  }\r\n} \r\n\r\nSystem.out.println(res);\r\n```\r\n","title":"I am just trying to print the greatest number from the loop without using an array","body":"<p>As hint</p>\n<pre><code>int res = 0;\nfor(){\n  for(){\n    if(yourcondition){\n      if(res &lt; newValue) res = newValue;\n    }\n  }\n} \n\nSystem.out.println(res);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15956568,"reputation":19,"user_id":11514618,"display_name":"devdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671791128,"creation_date":1671791128,"answer_id":74898585,"question_id":74898033,"body_markdown":"I take an extra int variable which is &quot;num&quot;. I use it to work the code when the digit will be &gt; 9. Example input: &quot;10 20 30 9&quot;.\r\nWhen the index is &quot;space&quot; I make the value of num equal 0.\r\n```\r\n// Online Java Compiler\r\n// Use this editor to write, compile and run your Java code online\r\nimport java.util.*;\r\nclass Main {\r\n public static void main(String[] args) {\r\n    Scanner sc = new Scanner(System.in);\r\n    String sr= sc.nextLine();\r\n    int count = 0;\r\n    int num = 0;\r\n    for(int j=0;j&lt;sr.length();j++){\r\n    \tchar ch = sr.charAt(j);\r\n    \tif(ch == &#39; &#39;){\r\n    \t\tnum = 0;\r\n    \t\tcontinue;\r\n    \t}\r\n    \tnum = (num * 10) + (ch - &#39;0&#39;);\r\n    \tif(num &gt; count){\r\n    \t\tcount = num;\r\n    \t}\r\n    }\r\n    System.out.println(count);\r\n   }\r\n}\r\n```\r\n","title":"I am just trying to print the greatest number from the loop without using an array","body":"<p>I take an extra int variable which is &quot;num&quot;. I use it to work the code when the digit will be &gt; 9. Example input: &quot;10 20 30 9&quot;.\nWhen the index is &quot;space&quot; I make the value of num equal 0.</p>\n<pre><code>// Online Java Compiler\n// Use this editor to write, compile and run your Java code online\nimport java.util.*;\nclass Main {\n public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    String sr= sc.nextLine();\n    int count = 0;\n    int num = 0;\n    for(int j=0;j&lt;sr.length();j++){\n        char ch = sr.charAt(j);\n        if(ch == ' '){\n            num = 0;\n            continue;\n        }\n        num = (num * 10) + (ch - '0');\n        if(num &gt; count){\n            count = num;\n        }\n    }\n    System.out.println(count);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":21764759,"reputation":5,"user_id":16068818,"display_name":"SUDHANSHU SHEKHAR SRIVASTAVA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671791128,"creation_date":1671787399,"question_id":74898033,"body_markdown":"*As I am trying to find the largest string&#39;s number which is input by user in which I just want to print the greatest number from the output without using an array concept*.\r\n\r\n    // Online Java Compiler\r\n    // Use this editor to write, compile and run your Java code online\r\n    import java.util.*;\r\n    class Main {\r\n     public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String sr= sc.nextLine();\r\n        int count = 0;\r\n        for(int j=0;j&lt;sr.length();j++){\r\n            for(int k=j+1;k&lt;sr.length();k++){\r\n                if(sr.charAt(j)==sr.charAt(k)){\r\n                    System.out.println(k);\r\n                    break;\r\n              }\r\n            }\r\n         }\r\n       }\r\n    }\r\n*my output is \r\n2\r\n3\r\n5\r\n6\r\n*\r\n\r\n*desired output is 6 because it is greatest out of all.*","title":"I am just trying to print the greatest number from the loop without using an array","body":"<p><em>As I am trying to find the largest string's number which is input by user in which I just want to print the greatest number from the output without using an array concept</em>.</p>\n<pre><code>// Online Java Compiler\n// Use this editor to write, compile and run your Java code online\nimport java.util.*;\nclass Main {\n public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    String sr= sc.nextLine();\n    int count = 0;\n    for(int j=0;j&lt;sr.length();j++){\n        for(int k=j+1;k&lt;sr.length();k++){\n            if(sr.charAt(j)==sr.charAt(k)){\n                System.out.println(k);\n                break;\n          }\n        }\n     }\n   }\n}\n</code></pre>\n<p>*my output is\n2\n3\n5\n6\n*</p>\n<p><em>desired output is 6 because it is greatest out of all.</em></p>\n"},{"tags":["java","oauth-2.0","smtp","office365"],"comments":[{"owner":{"account_id":3522295,"reputation":2693,"user_id":2944265,"accept_rate":50,"display_name":"Zveratko"},"score":0,"creation_date":1655360719,"post_id":72498780,"comment_id":128315283,"body_markdown":"The password is your access token right?","body":"The password is your access token right?"},{"owner":{"account_id":466964,"reputation":49,"user_id":872046,"display_name":"Michael Fritzsche"},"score":0,"creation_date":1655826406,"post_id":72498780,"comment_id":128421291,"body_markdown":"I have currently the same problem The only thing im doing differently is using the access_token i have got from login.microsoftonline.com/{tenantId}/oauth2/v2.0/token (using client_credential grant) instead of the password.\n\nThe result is the exact same. I guess there is a property, where we have to put the token in, because it does&#39;nt meter what i use as the password parameter, it always fails.","body":"I have currently the same problem The only thing im doing differently is using the access_token i have got from login.microsoftonline.com/{tenantId}/oauth2/v2.0/token (using client_credential grant) instead of the password.  The result is the exact same. I guess there is a property, where we have to put the token in, because it does&#39;nt meter what i use as the password parameter, it always fails."}],"answers":[{"tags":[],"owner":{"account_id":5512547,"reputation":1,"user_id":4378373,"display_name":"ChristophG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656499330,"creation_date":1656499330,"answer_id":72800026,"question_id":72498780,"body_markdown":"I think you need to use\r\n\r\n    props.put(&quot;mail.smtp.sasl.mechanisms.oauth2.oauthToken&quot;, accessToken);\r\n\r\nand then use null as a password\r\n\r\n    transport.connect(&quot;smtp.office365.com&quot;, mailConfig.getMailUsername(), null);\r\n\r\nFor me this was working\r\n\r\n    DEBUG SMTP: trying to connect to host &quot;smtp.office365.com&quot;, port 587, isSSL false\r\n    220 AS9PR04CA0130.outlook.office365.com Microsoft ESMTP MAIL Service ready at Wed, 29 Jun 2022 10:36:34 +0000\r\n    DEBUG SMTP: connected to host &quot;smtp.office365.com&quot;, port: 587","title":"Javax mail Office Exchange with oAuth2 (Token) SMTP","body":"<p>I think you need to use</p>\n<pre><code>props.put(&quot;mail.smtp.sasl.mechanisms.oauth2.oauthToken&quot;, accessToken);\n</code></pre>\n<p>and then use null as a password</p>\n<pre><code>transport.connect(&quot;smtp.office365.com&quot;, mailConfig.getMailUsername(), null);\n</code></pre>\n<p>For me this was working</p>\n<pre><code>DEBUG SMTP: trying to connect to host &quot;smtp.office365.com&quot;, port 587, isSSL false\n220 AS9PR04CA0130.outlook.office365.com Microsoft ESMTP MAIL Service ready at Wed, 29 Jun 2022 10:36:34 +0000\nDEBUG SMTP: connected to host &quot;smtp.office365.com&quot;, port: 587\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10381027,"reputation":43,"user_id":7655807,"display_name":"Bob"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660248802,"creation_date":1660248802,"answer_id":73326414,"question_id":72498780,"body_markdown":"Using the client credentials flow for SMTP Authentication is currently not supported.\r\n\r\nSee the NOTE in Microsoft&#39;s doc on the [SMTP Protocol Exchange](https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth#smtp-protocol-exchange).\r\n\r\nAlso, see this post from the [Exchange Team Blog](https://techcommunity.microsoft.com/t5/exchange-team-blog/announcing-oauth-2-0-client-credentials-flow-support-for-pop-and/ba-p/3562963). They just added support for IMAP and POP in June 2022. SMTP is not yet there and they have not shared a timeline for when they expect to have it. They report that they will continue to support basic authentication (username/password) for SMTP. ","title":"Javax mail Office Exchange with oAuth2 (Token) SMTP","body":"<p>Using the client credentials flow for SMTP Authentication is currently not supported.</p>\n<p>See the NOTE in Microsoft's doc on the <a href=\"https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth#smtp-protocol-exchange\" rel=\"nofollow noreferrer\">SMTP Protocol Exchange</a>.</p>\n<p>Also, see this post from the <a href=\"https://techcommunity.microsoft.com/t5/exchange-team-blog/announcing-oauth-2-0-client-credentials-flow-support-for-pop-and/ba-p/3562963\" rel=\"nofollow noreferrer\">Exchange Team Blog</a>. They just added support for IMAP and POP in June 2022. SMTP is not yet there and they have not shared a timeline for when they expect to have it. They report that they will continue to support basic authentication (username/password) for SMTP.</p>\n"},{"tags":[],"owner":{"account_id":26894828,"reputation":1,"user_id":20472931,"display_name":"Debra Petta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670341447,"creation_date":1668119340,"answer_id":74396004,"question_id":72498780,"body_markdown":"As of 10-Nov-2022, the SMTP client credential flow is still not supported. They announced support for POP and IMAP but I saw no support for SMTP so I submitted a question to the Microsoft Community Hub since I am experiencing the same issue. I was told by Greg Taylor, who is part of the EXCHANGE Microsoft team, that client credential flow is not yet possible with SMTP. He said they will announce when it&#39;s available, the plan/hope is that it will be by the end of the year. See this link for my question and the response https://techcommunity.microsoft.com/t5/exchange-team-blog/announcing-oauth-2-0-client-credentials-flow-support-for-pop-and/ba-p/3562963","title":"Javax mail Office Exchange with oAuth2 (Token) SMTP","body":"<p>As of 10-Nov-2022, the SMTP client credential flow is still not supported. They announced support for POP and IMAP but I saw no support for SMTP so I submitted a question to the Microsoft Community Hub since I am experiencing the same issue. I was told by Greg Taylor, who is part of the EXCHANGE Microsoft team, that client credential flow is not yet possible with SMTP. He said they will announce when it's available, the plan/hope is that it will be by the end of the year. See this link for my question and the response <a href=\"https://techcommunity.microsoft.com/t5/exchange-team-blog/announcing-oauth-2-0-client-credentials-flow-support-for-pop-and/ba-p/3562963\" rel=\"nofollow noreferrer\">https://techcommunity.microsoft.com/t5/exchange-team-blog/announcing-oauth-2-0-client-credentials-flow-support-for-pop-and/ba-p/3562963</a></p>\n"},{"tags":[],"owner":{"account_id":1928561,"reputation":95,"user_id":1738470,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671791045,"creation_date":1671791045,"answer_id":74898565,"question_id":72498780,"body_markdown":"here are the properties that worked for me, assuming you have SMTP AUTH enabled on your O365 account and have successfully negotiated the token with scope &quot;https://outlook.office365.com/SMTP.Send offline_access&quot;\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n    props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n    props.put(&quot;mail.smtp.host&quot;, &quot;smtp.office365.com&quot;);\r\n    props.put(&quot;mail.smtp.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.smtp.starttls.required&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nAnd then contrary to other advice I&#39;ve read, pass your accessToken in instead of the password when calling Transport.connect(), and JavaMail will take care of formatting it:\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n    Session session = Session.getInstance(props);\r\n    try {\r\n        Transport transport = session.getTransport(&quot;smtp&quot;);\r\n       \ttransport.connect(&quot;smtp.office365.com&quot;, emailAddress, accessToken);\r\n    } catch (MessagingException ex) {\r\n        ex.printStackTrace();\r\n    }\t\r\n\r\n&lt;/pre&gt;&lt;/code&gt;\r\n\r\nHere&#39;s the resulting conversation:\r\n\r\n&lt;pre&gt;\r\n\r\n    DEBUG SMTP: Attempt to authenticate using mechanisms: XOAUTH2\r\n    DEBUG SMTP: Using mechanism XOAUTH2\r\n    AUTH XOAUTH2 (LongStringOfAlphaNumerics)\r\n    235 2.7.0 Authentication successful\r\n\r\n&lt;/pre&gt;\r\n\r\nBest of luck, hopefully this will save someone some time!","title":"Javax mail Office Exchange with oAuth2 (Token) SMTP","body":"<p>here are the properties that worked for me, assuming you have SMTP AUTH enabled on your O365 account and have successfully negotiated the token with scope &quot;https://outlook.office365.com/SMTP.Send offline_access&quot;</p>\n<pre><code>\n\n    props.put(\"mail.smtp.port\", \"587\");\n    props.put(\"mail.smtp.host\", \"smtp.office365.com\");\n    props.put(\"mail.smtp.auth.mechanisms\", \"XOAUTH2\");\n    props.put(\"mail.smtp.starttls.enable\", \"true\");\n    props.put(\"mail.smtp.starttls.required\", \"true\");\n    props.put(\"mail.smtp.auth\", \"true\");\n\n</code></pre>\n<p>And then contrary to other advice I've read, pass your accessToken in instead of the password when calling Transport.connect(), and JavaMail will take care of formatting it:</p>\n<pre><code>\n\n    Session session = Session.getInstance(props);\n    try {\n        Transport transport = session.getTransport(\"smtp\");\n        transport.connect(\"smtp.office365.com\", emailAddress, accessToken);\n    } catch (MessagingException ex) {\n        ex.printStackTrace();\n    }   \n\n</pre></code>\n<p>Here's the resulting conversation:</p>\n<pre>\n\n    DEBUG SMTP: Attempt to authenticate using mechanisms: XOAUTH2\n    DEBUG SMTP: Using mechanism XOAUTH2\n    AUTH XOAUTH2 (LongStringOfAlphaNumerics)\n    235 2.7.0 Authentication successful\n\n</pre>\n<p>Best of luck, hopefully this will save someone some time!</p>\n"}],"owner":{"display_name":"user18772237"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9007,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1671791045,"creation_date":1654336426,"question_id":72498780,"body_markdown":"Can someone give me aguide to authenticate to office 365 exchange with javax mail with oAuth2?\r\n\r\n```\r\ntransport.connect(mailConfig.getMailUsername(), mailConfig.getMailPassword());\r\n\r\n(I Tried also with Bearer + ...\r\n\r\nProperties props = new Properties();\r\n\r\n            props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n            props.put(&quot;mail.smtp.host&quot;, &quot;smtp.office365.com&quot;);\r\n            props.put(&quot;mail.smtp.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n            Session session = Session.getInstance(props);\r\n            session.setDebug(true);\r\n            Transport transport = session.getTransport(&quot;smtp&quot;);\r\n            transport.connect(mailConfig.getMailUsername(), mailConfig.getMailPassword());\r\n```\r\n[Photo of Permission for Microsoft Azure][1]\r\n\r\n[Photo of Permission for Microsoft Azure][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9mzDB.png\r\n  [2]: https://i.stack.imgur.com/Fqw54.png\r\n\r\nHere is my stackstrace:\r\n```\r\nDEBUG SMTP: Attempt to authenticate using mechanisms: XOAUTH2\r\nDEBUG SMTP: Using mechanism XOAUTH2\r\nAUTH XOAUTH2 [...]\r\n535 5.7.3 Authentication unsuccessful [ZR0P278CA0118.CHEP278.PROD.OUTLOOK.COM]\r\n```","title":"Javax mail Office Exchange with oAuth2 (Token) SMTP","body":"<p>Can someone give me aguide to authenticate to office 365 exchange with javax mail with oAuth2?</p>\n<pre><code>transport.connect(mailConfig.getMailUsername(), mailConfig.getMailPassword());\n\n(I Tried also with Bearer + ...\n\nProperties props = new Properties();\n\n            props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n            props.put(&quot;mail.smtp.host&quot;, &quot;smtp.office365.com&quot;);\n            props.put(&quot;mail.smtp.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n            props.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\n            props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n            Session session = Session.getInstance(props);\n            session.setDebug(true);\n            Transport transport = session.getTransport(&quot;smtp&quot;);\n            transport.connect(mailConfig.getMailUsername(), mailConfig.getMailPassword());\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9mzDB.png\" rel=\"nofollow noreferrer\">Photo of Permission for Microsoft Azure</a></p>\n<p><a href=\"https://i.stack.imgur.com/Fqw54.png\" rel=\"nofollow noreferrer\">Photo of Permission for Microsoft Azure</a></p>\n<p>Here is my stackstrace:</p>\n<pre><code>DEBUG SMTP: Attempt to authenticate using mechanisms: XOAUTH2\nDEBUG SMTP: Using mechanism XOAUTH2\nAUTH XOAUTH2 [...]\n535 5.7.3 Authentication unsuccessful [ZR0P278CA0118.CHEP278.PROD.OUTLOOK.COM]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","picocli"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1671795619,"post_id":74897504,"comment_id":132177888,"body_markdown":"How do you setup your application? Did you use pico cli springboot integration https://github.com/remkop/picocli/blob/main/picocli-spring-boot-starter/README.md","body":"How do you setup your application? Did you use pico cli springboot integration <a href=\"https://github.com/remkop/picocli/blob/main/picocli-spring-boot-starter/README.md\" rel=\"nofollow noreferrer\">github.com/remkop/picocli/blob/main/picocli-spring-boot-star&zwnj;&#8203;ter/&hellip;</a>"},{"owner":{"account_id":21621054,"reputation":11,"user_id":15946061,"display_name":"olly2334"},"score":0,"creation_date":1671813641,"post_id":74897504,"comment_id":132182699,"body_markdown":"Yes, of course I use. I debugged and it seems like options default values initialization happen before injection of @Autowired fields. So at that point of time I got NPE","body":"Yes, of course I use. I debugged and it seems like options default values initialization happen before injection of @Autowired fields. So at that point of time I got NPE"}],"owner":{"account_id":21621054,"reputation":11,"user_id":15946061,"display_name":"olly2334"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671790918,"creation_date":1671783252,"question_id":74897504,"body_markdown":"I want to implement the following logic of Option default value calculation\r\n\r\n```\r\n@Command(name = &quot;test-command&quot;)\r\npublic class TestCommand implements Callable {\r\n\t\r\n\t@Autowired\r\n    DefaultValueUtils utils;\r\n\t\r\n\t@ArgGroup\r\n    EntityGroup functions = new EntityGroup();\r\n\t\r\n\tclass EntityGroup {\r\n        @Option(names = &quot;--function1&quot;, defaultValue = &quot;true&quot;)\r\n        boolean function1 = utils.isFunction1();\r\n\r\n        @Option(names = &quot;--function2&quot;, defaultValue = &quot;true&quot;)\r\n        boolean function2 = utils.isFunction2();\r\n    }\r\n\t\r\n\t...\r\n}\r\n\r\n```\r\nI have 2 boolean options - function1 and function2; if they are not provided their default values are specified in some other place. But if options provided, I need to override values with provided ones.\r\nOne more problem is in following logic:\r\n\r\nif none of them provided - default values should be calculated;\r\nIf one of them provided - only provided one is true, not provided false;\r\nIf both provided - both are true\r\n\r\nHow can I implement this?\r\n\r\nThis current block of the code is failing because utils is null during EntityGroup instantiation.","title":"Picocli: is it possible to calculate Option default value with help of some other Autowired field?","body":"<p>I want to implement the following logic of Option default value calculation</p>\n<pre><code>@Command(name = &quot;test-command&quot;)\npublic class TestCommand implements Callable {\n    \n    @Autowired\n    DefaultValueUtils utils;\n    \n    @ArgGroup\n    EntityGroup functions = new EntityGroup();\n    \n    class EntityGroup {\n        @Option(names = &quot;--function1&quot;, defaultValue = &quot;true&quot;)\n        boolean function1 = utils.isFunction1();\n\n        @Option(names = &quot;--function2&quot;, defaultValue = &quot;true&quot;)\n        boolean function2 = utils.isFunction2();\n    }\n    \n    ...\n}\n\n</code></pre>\n<p>I have 2 boolean options - function1 and function2; if they are not provided their default values are specified in some other place. But if options provided, I need to override values with provided ones.\nOne more problem is in following logic:</p>\n<p>if none of them provided - default values should be calculated;\nIf one of them provided - only provided one is true, not provided false;\nIf both provided - both are true</p>\n<p>How can I implement this?</p>\n<p>This current block of the code is failing because utils is null during EntityGroup instantiation.</p>\n"},{"tags":["java","encoding","utf-8","character-encoding","ibm-integration-bus"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1671795186,"post_id":74898417,"comment_id":132177780,"body_markdown":"mqsilist seems to me to be a command that starts the java virtual machine . This is running with the modern default encoding of UTF-8. You probably need to tell it to use *your* encoding,  which is Windows-1252","body":"mqsilist seems to me to be a command that starts the java virtual machine . This is running with the modern default encoding of UTF-8. You probably need to tell it to use <i>your</i> encoding,  which is Windows-1252"},{"owner":{"account_id":26515055,"reputation":1,"user_id":20149728,"display_name":"Boro"},"score":0,"creation_date":1671883465,"post_id":74898417,"comment_id":132192185,"body_markdown":"How should i do that?","body":"How should i do that?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671884731,"post_id":74898417,"comment_id":132192356,"body_markdown":"I can&#39;t tell you I&#39;m afraid. Isn&#39;t ACE a commercial product though? Support should be dealing with it if so","body":"I can&#39;t tell you I&#39;m afraid. Isn&#39;t ACE a commercial product though? Support should be dealing with it if so"},{"owner":{"account_id":26515055,"reputation":1,"user_id":20149728,"display_name":"Boro"},"score":0,"creation_date":1672051522,"post_id":74898417,"comment_id":132212699,"body_markdown":"What do you think, maybe i should change default encoding, from Windows 1252 to UTF-8, is that going to make any harm to other applications running on Windows?","body":"What do you think, maybe i should change default encoding, from Windows 1252 to UTF-8, is that going to make any harm to other applications running on Windows?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1672128430,"post_id":74898417,"comment_id":132224976,"body_markdown":"@Boro Nobody else can tell you whether changing the default encoding on your machine is going to affect other applications - only you can know that. But yes, it is certainly possible, and changing it will impact all user accounts, not just the one you normally use.","body":"@Boro Nobody else can tell you whether changing the default encoding on your machine is going to affect other applications - only you can know that. But yes, it is certainly possible, and changing it will impact all user accounts, not just the one you normally use."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1672128893,"post_id":74898417,"comment_id":132225040,"body_markdown":"This is the most important information in the stack trace: `UnsupportedCharsetException: MS65001`. Something is trying to use a charset named **MS65001**, which doesn&#39;t exist. Can you find any references to **MS65001** in your environment?","body":"This is the most important information in the stack trace: <code>UnsupportedCharsetException: MS65001</code>. Something is trying to use a charset named <b>MS65001</b>, which doesn&#39;t exist. Can you find any references to <b>MS65001</b> in your environment?"}],"owner":{"account_id":26515055,"reputation":1,"user_id":20149728,"display_name":"Boro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671789988,"creation_date":1671789988,"question_id":74898417,"body_markdown":"Recently i installed IBM ACE 12.0.6.0 on Windows 10, and when i try to execute any command in IBM ACE Console this error output:\r\n\r\n```\r\n`C:\\Program Files\\IBM\\ACE\\12.0.6.0&gt;mqsilist\r\nWARNING: Specified charset is not supported, UTF-8 is used for default charset\r\nException in thread &quot;main&quot; java/lang/ExceptionInInitializerError\r\n        at java/lang/J9VMInternals.ensureError (J9VMInternals.java:145)\r\n        at java/lang/J9VMInternals.recordInitializationFailure (J9VMInternals.java:134)\r\n        at com/ibm/jvm/io/LocalizedInputStream.getInputStream (LocalizedInputStream.java:332)\r\n        at java/io/InputStreamReader.&lt;init&gt; (InputStreamReader.java:87)\r\n        at java/io/FileReader.&lt;init&gt; (FileReader.java:83)\r\n        at sun/misc/MetaIndex.registerDirectory (MetaIndex.java:177)\r\n        at sun/misc/Launcher$ExtClassLoader$1.run (Launcher.java:171)\r\n        at sun/misc/Launcher$ExtClassLoader$1.run (Launcher.java:166)\r\n        at java/security/AccessController.doPrivileged (AccessController.java:747)\r\n        at sun/misc/Launcher$ExtClassLoader.createExtClassLoader (Launcher.java:165)\r\n        at sun/misc/Launcher$ExtClassLoader.getExtClassLoader (Launcher.java:152)\r\n        at sun/misc/Launcher.&lt;init&gt; (Launcher.java:82)\r\n        at sun/misc/Launcher.&lt;clinit&gt; (Launcher.java:68)\r\n        at java/lang/ClassLoader.initializeClassLoaders (ClassLoader.java:196)\r\n        at java/lang/Thread.initialize (Thread.java:411)\r\n        at java/lang/Thread.&lt;init&gt; (Thread.java:158)\r\njava/nio/charset/UnsupportedCharsetException: MS65001\r\n        at java/nio/charset/Charset.forName (Charset.java:579)\r\n        at com/ibm/jvm/io/ConsoleInputStream.&lt;clinit&gt; (ConsoleInputStream.java:100)\r\n        at com/ibm/jvm/io/LocalizedInputStream.getInputStream (LocalizedInputStream.java:332)\r\n        at java/io/InputStreamReader.&lt;init&gt; (InputStreamReader.java:87)\r\n        at java/io/FileReader.&lt;init&gt; (FileReader.java:83)\r\n        at sun/misc/MetaIndex.registerDirectory (MetaIndex.java:177)\r\n        at sun/misc/Launcher$ExtClassLoader$1.run (Launcher.java:171)\r\n        at sun/misc/Launcher$ExtClassLoader$1.run (Launcher.java:166)\r\n        at java/security/AccessController.doPrivileged (AccessController.java:747)\r\n        at sun/misc/Launcher$ExtClassLoader.createExtClassLoader (Launcher.java:165)\r\n        at sun/misc/Launcher$ExtClassLoader.getExtClassLoader (Launcher.java:152)\r\n        at sun/misc/Launcher.&lt;init&gt; (Launcher.java:82)\r\n        at sun/misc/Launcher.&lt;clinit&gt; (Launcher.java:68)\r\n        at java/lang/ClassLoader.initializeClassLoaders (ClassLoader.java:196)\r\n        at java/lang/Thread.initialize (Thread.java:411)\r\n        at java/lang/Thread.&lt;init&gt; (Thread.java:158)`\r\n```\r\n\r\nI check the current encoding charset\r\n\r\n```\r\nPS C:\\Users\\Admin&gt; [System.Text.Encoding]::Default\r\nIsSingleByte      : True\r\nBodyName          : iso-8859-1\r\nEncodingName      : Western European (Windows)\r\nHeaderName        : Windows-1252\r\nWebName           : Windows-1252\r\nWindowsCodePage   : 1252\r\nIsBrowserDisplay  : True\r\nIsBrowserSave     : True\r\nIsMailNewsDisplay : True\r\nIsMailNewsSave    : True\r\nEncoderFallback   : System.Text.InternalEncoderBestFitFallback\r\nDecoderFallback   : System.Text.InternalDecoderBestFitFallback\r\nIsReadOnly        : True\r\nCodePage          : 1252\r\n\r\n```\r\nAnd in Region section in Control Panel System Locale is set English(United States). I&#39;m from Serbia if that&#39;s important.\r\n\r\n\r\nI think this is encoding and Java problem, but i don&#39;t know how to change default charset.","title":"IBM ACE Specified Character is not supported Error","body":"<p>Recently i installed IBM ACE 12.0.6.0 on Windows 10, and when i try to execute any command in IBM ACE Console this error output:</p>\n<pre><code>`C:\\Program Files\\IBM\\ACE\\12.0.6.0&gt;mqsilist\nWARNING: Specified charset is not supported, UTF-8 is used for default charset\nException in thread &quot;main&quot; java/lang/ExceptionInInitializerError\n        at java/lang/J9VMInternals.ensureError (J9VMInternals.java:145)\n        at java/lang/J9VMInternals.recordInitializationFailure (J9VMInternals.java:134)\n        at com/ibm/jvm/io/LocalizedInputStream.getInputStream (LocalizedInputStream.java:332)\n        at java/io/InputStreamReader.&lt;init&gt; (InputStreamReader.java:87)\n        at java/io/FileReader.&lt;init&gt; (FileReader.java:83)\n        at sun/misc/MetaIndex.registerDirectory (MetaIndex.java:177)\n        at sun/misc/Launcher$ExtClassLoader$1.run (Launcher.java:171)\n        at sun/misc/Launcher$ExtClassLoader$1.run (Launcher.java:166)\n        at java/security/AccessController.doPrivileged (AccessController.java:747)\n        at sun/misc/Launcher$ExtClassLoader.createExtClassLoader (Launcher.java:165)\n        at sun/misc/Launcher$ExtClassLoader.getExtClassLoader (Launcher.java:152)\n        at sun/misc/Launcher.&lt;init&gt; (Launcher.java:82)\n        at sun/misc/Launcher.&lt;clinit&gt; (Launcher.java:68)\n        at java/lang/ClassLoader.initializeClassLoaders (ClassLoader.java:196)\n        at java/lang/Thread.initialize (Thread.java:411)\n        at java/lang/Thread.&lt;init&gt; (Thread.java:158)\njava/nio/charset/UnsupportedCharsetException: MS65001\n        at java/nio/charset/Charset.forName (Charset.java:579)\n        at com/ibm/jvm/io/ConsoleInputStream.&lt;clinit&gt; (ConsoleInputStream.java:100)\n        at com/ibm/jvm/io/LocalizedInputStream.getInputStream (LocalizedInputStream.java:332)\n        at java/io/InputStreamReader.&lt;init&gt; (InputStreamReader.java:87)\n        at java/io/FileReader.&lt;init&gt; (FileReader.java:83)\n        at sun/misc/MetaIndex.registerDirectory (MetaIndex.java:177)\n        at sun/misc/Launcher$ExtClassLoader$1.run (Launcher.java:171)\n        at sun/misc/Launcher$ExtClassLoader$1.run (Launcher.java:166)\n        at java/security/AccessController.doPrivileged (AccessController.java:747)\n        at sun/misc/Launcher$ExtClassLoader.createExtClassLoader (Launcher.java:165)\n        at sun/misc/Launcher$ExtClassLoader.getExtClassLoader (Launcher.java:152)\n        at sun/misc/Launcher.&lt;init&gt; (Launcher.java:82)\n        at sun/misc/Launcher.&lt;clinit&gt; (Launcher.java:68)\n        at java/lang/ClassLoader.initializeClassLoaders (ClassLoader.java:196)\n        at java/lang/Thread.initialize (Thread.java:411)\n        at java/lang/Thread.&lt;init&gt; (Thread.java:158)`\n</code></pre>\n<p>I check the current encoding charset</p>\n<pre><code>PS C:\\Users\\Admin&gt; [System.Text.Encoding]::Default\nIsSingleByte      : True\nBodyName          : iso-8859-1\nEncodingName      : Western European (Windows)\nHeaderName        : Windows-1252\nWebName           : Windows-1252\nWindowsCodePage   : 1252\nIsBrowserDisplay  : True\nIsBrowserSave     : True\nIsMailNewsDisplay : True\nIsMailNewsSave    : True\nEncoderFallback   : System.Text.InternalEncoderBestFitFallback\nDecoderFallback   : System.Text.InternalDecoderBestFitFallback\nIsReadOnly        : True\nCodePage          : 1252\n\n</code></pre>\n<p>And in Region section in Control Panel System Locale is set English(United States). I'm from Serbia if that's important.</p>\n<p>I think this is encoding and Java problem, but i don't know how to change default charset.</p>\n"},{"tags":["java","android","java-time","datetime-parsing","zoneddatetime"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671764591,"post_id":74895630,"comment_id":132172298,"body_markdown":"What versions are you using?","body":"What versions are you using?"},{"owner":{"account_id":26295461,"reputation":3,"user_id":19961783,"display_name":"Кирилл Протченко"},"score":0,"creation_date":1671765742,"post_id":74895630,"comment_id":132172443,"body_markdown":"minSdk 26, targetSdk 32, Java 8 version, but I installed newer versions, but it didn&#39;t work.","body":"minSdk 26, targetSdk 32, Java 8 version, but I installed newer versions, but it didn&#39;t work."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":1,"creation_date":1671766916,"post_id":74895630,"comment_id":132172540,"body_markdown":"I believe its a Java problem.\nhttps://stackoverflow.com/questions/37287103/why-does-gmt8-fail-to-parse-with-pattern-o-despite-being-copied-straight-ou. So I guess you are using a different Java version in IntelliJ IDEA which have fixed the issue you met.","body":"I believe its a Java problem. <a href=\"https://stackoverflow.com/questions/37287103/why-does-gmt8-fail-to-parse-with-pattern-o-despite-being-copied-straight-ou\" title=\"why does gmt8 fail to parse with pattern o despite being copied straight ou\">stackoverflow.com/questions/37287103/&hellip;</a>. So I guess you are using a different Java version in IntelliJ IDEA which have fixed the issue you met."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671768130,"post_id":74895630,"comment_id":132172669,"body_markdown":"Tip: You can avoid much trouble and headache by educating the publisher of your data to use only standard [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) formats for exchanging date-time values textually.","body":"Tip: You can avoid much trouble and headache by educating the publisher of your data to use only standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats for exchanging date-time values textually."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671772789,"post_id":74895630,"comment_id":132173213,"body_markdown":"are the `1200` fraction of second (so equal to 120 milliseconds)? It’s a funny non-standard notation with colon as decimal separator.","body":"are the <code>1200</code> fraction of second (so equal to 120 milliseconds)? It’s a funny non-standard notation with colon as decimal separator."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671773744,"post_id":74895630,"comment_id":132173335,"body_markdown":"Even though the exception message looks funny, perhaps like an internal error, the cause of it is probably a locale problem. I can reproduce a similar error in several locales including some French, Swedish, Arab and Farsi ones. For example in Bulgarian locale (`bg`) your formatter expects the localized offset written as `Гринуич+10:00` and therefore throws an exception for `GMT+10:00`. Which is the default locale in your Android Studio? Fix by specifying locale: `DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss:SSSS OOOO&quot;, Locale.ROOT)`.","body":"Even though the exception message looks funny, perhaps like an internal error, the cause of it is probably a locale problem. I can reproduce a similar error in several locales including some French, Swedish, Arab and Farsi ones. For example in Bulgarian locale (<code>bg</code>) your formatter expects the localized offset written as <code>Гринуич+10:00</code> and therefore throws an exception for <code>GMT+10:00</code>. Which is the default locale in your Android Studio? Fix by specifying locale: <code>DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss:SSSS OOOO&quot;, Locale.ROOT)</code>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671785025,"creation_date":1671764794,"answer_id":74895746,"question_id":74895630,"body_markdown":"# `OffsetDateTime`, not `ZonedDateTime`\r\n\r\n`GMT+10:00` is not a time zone. It is an [offset-from-UTC][1], simply a number of hours-minutes-seconds ahead of or behind the temporal prime meridian of UTC (GMT, same thing for general business purposes).\r\n\r\nA time zone is much more. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians.\r\n\r\nSince your input contains an offset, but not a time zone, you should be using [`OffsetDateTime`][2] class rather than `ZonedDateTime`.\r\n\r\n## Java\r\n\r\nLet&#39;s run some code on the Java platform before trying Android.\r\n\r\n\r\n```java\r\nString input = &quot;22-12-2022 15:05:49:1200 GMT+10:00&quot;;\r\nDateTimeFormatter f = null;\r\nf = DateTimeFormatter.ofPattern( &quot;dd-MM-yyyy HH:mm:ss:SSSS OOOO&quot; );\r\nOffsetDateTime odt = OffsetDateTime.parse( input , f );\r\nSystem.out.println( &quot;odt = &quot; + odt );\r\nString input2 = odt.format( f );\r\nOffsetDateTime odt2 = OffsetDateTime.parse( input2 , f );\r\nSystem.out.println( &quot;input2 = &quot; + input2 );\r\nSystem.out.println( &quot;odt2 = &quot; + odt2 );\r\n```\r\n\r\nWhen run with Java 19.0.1+10:\r\n\r\n&gt;odt = 2022-12-22T15:05:49.120+10:00\r\n&gt;\r\n&gt;input2 = 22-12-2022 15:05:49:1200 GMT+10:00\r\n&gt;\r\n&gt;odt2 = 2022-12-22T15:05:49.120+10:00\r\n\r\n\r\n## Android Studio\r\n\r\nWhile I do not do Android work, I installed *Android Studio* just to verify your problem. The [*JetBrains Toolbox*][3] app installed version Dolphin 2021.3.1 Patch 1 on my MacBook Pro with M1 Pro chip.\r\n\r\nI created a project using the &quot;Phone and Tablet&quot; template named *Basic Activity*. I used all defaults except switching the language from Kotlin to Java. After waiting a long while for downloads to complete, I was able to execute *Make Project*, and then run the default emulator.\r\n\r\nI added code to the `onCreate` method of `MainActivity`:\r\n\r\n```java\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n\r\n    String input = &quot;22-12-2022 15:05:49:1200 GMT+10:00&quot;;\r\n    DateTimeFormatter f = null;\r\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n        f = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss:SSSS OOOO&quot;);\r\n        OffsetDateTime odt = OffsetDateTime.parse(input, f);\r\n        System.out.println(&quot;odt = &quot; + odt);\r\n        String input2 = odt.format(f);\r\n        OffsetDateTime odt2 = OffsetDateTime.parse(input2, f);\r\n        System.out.println(&quot;input2 = &quot; + input2);\r\n        System.out.println(&quot;odt2 = &quot; + odt2);\r\n    }\r\n…\r\n```\r\n\r\nThe result on the console is: \r\n\r\n&gt;I/System.out: odt = 2022-12-22T15:05:49.120+10:00\r\n&gt;\r\n&gt;I/System.out: input2 = 22-12-2022 15:05:49:1200 GMT+10:00\r\n&gt;\r\n&gt;I/System.out: odt2 = 2022-12-22T15:05:49.120+10:00\r\n\r\n\r\n&#128073; So I cannot recreate your issue when using the appropriate class. Runs correctly. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [3]: https://www.jetbrains.com/toolbox-app/","title":"Problem converting time from String to ZonedDateTime in Android studio","body":"<h1><code>OffsetDateTime</code>, not <code>ZonedDateTime</code></h1>\n<p><code>GMT+10:00</code> is not a time zone. It is an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset-from-UTC</a>, simply a number of hours-minutes-seconds ahead of or behind the temporal prime meridian of UTC (GMT, same thing for general business purposes).</p>\n<p>A time zone is much more. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians.</p>\n<p>Since your input contains an offset, but not a time zone, you should be using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> class rather than <code>ZonedDateTime</code>.</p>\n<h2>Java</h2>\n<p>Let's run some code on the Java platform before trying Android.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;22-12-2022 15:05:49:1200 GMT+10:00&quot;;\nDateTimeFormatter f = null;\nf = DateTimeFormatter.ofPattern( &quot;dd-MM-yyyy HH:mm:ss:SSSS OOOO&quot; );\nOffsetDateTime odt = OffsetDateTime.parse( input , f );\nSystem.out.println( &quot;odt = &quot; + odt );\nString input2 = odt.format( f );\nOffsetDateTime odt2 = OffsetDateTime.parse( input2 , f );\nSystem.out.println( &quot;input2 = &quot; + input2 );\nSystem.out.println( &quot;odt2 = &quot; + odt2 );\n</code></pre>\n<p>When run with Java 19.0.1+10:</p>\n<blockquote>\n<p>odt = 2022-12-22T15:05:49.120+10:00</p>\n<p>input2 = 22-12-2022 15:05:49:1200 GMT+10:00</p>\n<p>odt2 = 2022-12-22T15:05:49.120+10:00</p>\n</blockquote>\n<h2>Android Studio</h2>\n<p>While I do not do Android work, I installed <em>Android Studio</em> just to verify your problem. The <a href=\"https://www.jetbrains.com/toolbox-app/\" rel=\"nofollow noreferrer\"><em>JetBrains Toolbox</em></a> app installed version Dolphin 2021.3.1 Patch 1 on my MacBook Pro with M1 Pro chip.</p>\n<p>I created a project using the &quot;Phone and Tablet&quot; template named <em>Basic Activity</em>. I used all defaults except switching the language from Kotlin to Java. After waiting a long while for downloads to complete, I was able to execute <em>Make Project</em>, and then run the default emulator.</p>\n<p>I added code to the <code>onCreate</code> method of <code>MainActivity</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    String input = &quot;22-12-2022 15:05:49:1200 GMT+10:00&quot;;\n    DateTimeFormatter f = null;\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n        f = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss:SSSS OOOO&quot;);\n        OffsetDateTime odt = OffsetDateTime.parse(input, f);\n        System.out.println(&quot;odt = &quot; + odt);\n        String input2 = odt.format(f);\n        OffsetDateTime odt2 = OffsetDateTime.parse(input2, f);\n        System.out.println(&quot;input2 = &quot; + input2);\n        System.out.println(&quot;odt2 = &quot; + odt2);\n    }\n…\n</code></pre>\n<p>The result on the console is:</p>\n<blockquote>\n<p>I/System.out: odt = 2022-12-22T15:05:49.120+10:00</p>\n<p>I/System.out: input2 = 22-12-2022 15:05:49:1200 GMT+10:00</p>\n<p>I/System.out: odt2 = 2022-12-22T15:05:49.120+10:00</p>\n</blockquote>\n<p>👉 So I cannot recreate your issue when using the appropriate class. Runs correctly.</p>\n"}],"owner":{"account_id":26295461,"reputation":3,"user_id":19961783,"display_name":"Кирилл Протченко"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671785707,"accepted_answer_id":74895746,"answer_count":1,"score":0,"last_activity_date":1671789873,"creation_date":1671763076,"question_id":74895630,"body_markdown":"I solved the problem itself, but I wanted to know why this is happening. \r\n\r\nThe problem is this: Initially, a date and time with a time zone in String format (&quot;dd-MM-yyyy HH:mm:ss:SSSS OOOO&quot;) is sent to the database. The application receives this date in the same format, through the mapper this date is converted to ZonnedDateTime (&quot;dd-MM-yyyy HH:mm:ss:SSSS OOOO&quot;), and from it back to a String in the date and time format (&quot;dd-MM -yyyy HH:mm&quot;). In Intellij IDEA this code works perfectly, but in Android studio an error pops up. The problem was solved by changing the format when converting time from the database to ZonnedDateTime (&quot;dd-MM-yyyy HH:mm:ss:SSSS zzzz&quot;). \r\n\r\nI would like to know why this is happening.\r\n\r\nCode in Android studio:\r\n\r\n```\r\nZonedDateTime zonedDateTime = ZonedDateTime.parse(\r\n                &quot;22-12-2022 15:05:49:1200 GMT+10:00&quot;,\r\n                DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss:SSSS OOOO&quot;)\r\n        );\r\n```\r\n\r\nError:\r\n\r\n```\r\n2022-12-23 12:18:13.558 24464-24464/com.example.sendmessages E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.sendmessages, PID: 24464\r\n    java.time.format.DateTimeParseException: Text &#39;22-12-2022 15:05:49:1200 GMT+10:00&#39; could not be parsed: length=34; index=34\r\n        at java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1920)\r\n        at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1855)\r\n        at java.time.ZonedDateTime.parse(ZonedDateTime.java:591)\r\n        at com.example.sendmessages.Mapping.MessageMapper.getEntityToDto(MessageMapper.java:18)\r\n```\r\n\r\nSame code in intellij IDEA:\r\n\r\n```\r\nZonedDateTime zonedDateTime = ZonedDateTime.parse(\r\n                    &quot;22-12-2022 15:05:49:1200 GMT+10:00&quot;,\r\n                    DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss:SSSS OOOO&quot;)\r\n            );\r\n            System.out.print(dateTimeFormatter.format(zonedDateTime));\r\n\r\n# 22-12-2022 15:05\r\n```\r\n\r\nHow the problem was solved:\r\n\r\n```\r\nZonedDateTime zonedDateTime = ZonedDateTime.parse(\r\n                &quot;22-12-2022 15:05:49:1200 GMT+10:00&quot;,\r\n                DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss:SSSS zzzz&quot;)\r\n        );\r\n\r\n# 22-12-2022 15:05\r\n```","title":"Problem converting time from String to ZonedDateTime in Android studio","body":"<p>I solved the problem itself, but I wanted to know why this is happening.</p>\n<p>The problem is this: Initially, a date and time with a time zone in String format (&quot;dd-MM-yyyy HH:mm:ss:SSSS OOOO&quot;) is sent to the database. The application receives this date in the same format, through the mapper this date is converted to ZonnedDateTime (&quot;dd-MM-yyyy HH:mm:ss:SSSS OOOO&quot;), and from it back to a String in the date and time format (&quot;dd-MM -yyyy HH:mm&quot;). In Intellij IDEA this code works perfectly, but in Android studio an error pops up. The problem was solved by changing the format when converting time from the database to ZonnedDateTime (&quot;dd-MM-yyyy HH:mm:ss:SSSS zzzz&quot;).</p>\n<p>I would like to know why this is happening.</p>\n<p>Code in Android studio:</p>\n<pre><code>ZonedDateTime zonedDateTime = ZonedDateTime.parse(\n                &quot;22-12-2022 15:05:49:1200 GMT+10:00&quot;,\n                DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss:SSSS OOOO&quot;)\n        );\n</code></pre>\n<p>Error:</p>\n<pre><code>2022-12-23 12:18:13.558 24464-24464/com.example.sendmessages E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.sendmessages, PID: 24464\n    java.time.format.DateTimeParseException: Text '22-12-2022 15:05:49:1200 GMT+10:00' could not be parsed: length=34; index=34\n        at java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1920)\n        at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1855)\n        at java.time.ZonedDateTime.parse(ZonedDateTime.java:591)\n        at com.example.sendmessages.Mapping.MessageMapper.getEntityToDto(MessageMapper.java:18)\n</code></pre>\n<p>Same code in intellij IDEA:</p>\n<pre><code>ZonedDateTime zonedDateTime = ZonedDateTime.parse(\n                    &quot;22-12-2022 15:05:49:1200 GMT+10:00&quot;,\n                    DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss:SSSS OOOO&quot;)\n            );\n            System.out.print(dateTimeFormatter.format(zonedDateTime));\n\n# 22-12-2022 15:05\n</code></pre>\n<p>How the problem was solved:</p>\n<pre><code>ZonedDateTime zonedDateTime = ZonedDateTime.parse(\n                &quot;22-12-2022 15:05:49:1200 GMT+10:00&quot;,\n                DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss:SSSS zzzz&quot;)\n        );\n\n# 22-12-2022 15:05\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","docker","graalvm"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1671790195,"post_id":74898279,"comment_id":132176490,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead [edit] your post to include the relevant logs/code as (properly formatted) text","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead <a href=\"https://stackoverflow.com/posts/74898279/edit\">edit</a> your post to include the relevant logs/code as (properly formatted) text"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671789506,"creation_date":1671789506,"answer_id":74898349,"question_id":74898279,"body_markdown":"The postgresql db runs in an other docker than your application. So you can&#39;t connect with localhost.\r\n\r\nChange your setup to connect to `contenedor-postgres-1`","title":"Unable to run with GraalVM a SpringBoot - Postgres application using Docker containers","body":"<p>The postgresql db runs in an other docker than your application. So you can't connect with localhost.</p>\n<p>Change your setup to connect to <code>contenedor-postgres-1</code></p>\n"}],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671789506,"creation_date":1671789045,"question_id":74898279,"body_markdown":"On **Windows 10**, with I**ntelliJ Idea** I built a **Spring Boot** application (with the help of *Bootify.io*).\r\n\r\nThat application connects to a **Postgres Database** that resides in **Docker** (*container-postgres-1*) called *Bootifytwo*.\r\n\r\nWith the intention of playing and practicing with **GraalVM**, I downloaded a Docker image from *Oracle*.\r\n\r\nFrom the corresponding GraalVM container (*container-graalvm-1*) I have been able to generate the **target/bootifytwo** executable.\r\n\r\nBut when I try to run it, it gives me a **database connection error**.\r\n\r\nI put below all the **steps** that I executed, and after some **images**.\r\n\r\n(Note the use of a **network** for intercommunication between the containers; as well as the use of **volumes** for each of the 2 containers).\r\n\r\nHelp with resolution would be appreciated.\r\n\r\n    Copy folder C:\\CODIGO\\IDEA_PROJECTS\\bootifytwo to C:\\Volumenes-Docker\\vol-graalvm-1\\bootifytwo\r\n    \r\n    docker network create red-postgres-graalvm-1\r\n    \r\n    docker run --name contenedor-postgres-1 -p 5433:5432 --network red-postgres-graalvm-1 -v &quot;C:\\Volumenes-Docker\\vol-postgres-1:/var/lib/postgresql/data&quot; -e POSTGRES_USER=postgres -e POSTGRES_PASSWORD=password -e POSTGRES_DB=bootifytwo -d postgres:13.9-alpine3.17\r\n    \r\n    docker run --name contenedor-graalvm-1 -it --network=red-postgres-graalvm-1 -v &quot;C:\\Volumenes-Docker\\vol-graalvm-1:/app&quot; container-registry.oracle.com/graalvm/community:ol8-java17-22.3.0-b1 bash \r\n    \r\n    gu install native-image\r\n    \r\n    cd bootifytwo\r\n    \r\n    . ./mvnw native:compile -Pnative\r\n    \r\n    docker start contenedor-graalvm-1\r\n    \t\r\n    docker exec -it contenedor-graalvm-1 bash\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    ./target/bootifytwo\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n[![enter image description here][6]][6]\r\n\r\n[![enter image description here][7]][7]\r\n\r\n[![enter image description here][8]][8]\r\n\r\n[![enter image description here][9]][9]\r\n\r\n[![enter image description here][10]][10]\r\n\r\n[![enter image description here][11]][11]\r\n\r\n[![enter image description here][12]][12]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EScnB.png\r\n  [2]: https://i.stack.imgur.com/Vwv6M.png\r\n  [3]: https://i.stack.imgur.com/29bK0.png\r\n  [4]: https://i.stack.imgur.com/EyAjK.png\r\n  [5]: https://i.stack.imgur.com/XHymt.png\r\n  [6]: https://i.stack.imgur.com/miWen.png\r\n  [7]: https://i.stack.imgur.com/eQryI.png\r\n  [8]: https://i.stack.imgur.com/MmdO2.png\r\n  [9]: https://i.stack.imgur.com/76gtl.png\r\n  [10]: https://i.stack.imgur.com/Cv8vy.png\r\n  [11]: https://i.stack.imgur.com/LFEJt.png\r\n  [12]: https://i.stack.imgur.com/wbVWe.png","title":"Unable to run with GraalVM a SpringBoot - Postgres application using Docker containers","body":"<p>On <strong>Windows 10</strong>, with I<strong>ntelliJ Idea</strong> I built a <strong>Spring Boot</strong> application (with the help of <em>Bootify.io</em>).</p>\n<p>That application connects to a <strong>Postgres Database</strong> that resides in <strong>Docker</strong> (<em>container-postgres-1</em>) called <em>Bootifytwo</em>.</p>\n<p>With the intention of playing and practicing with <strong>GraalVM</strong>, I downloaded a Docker image from <em>Oracle</em>.</p>\n<p>From the corresponding GraalVM container (<em>container-graalvm-1</em>) I have been able to generate the <strong>target/bootifytwo</strong> executable.</p>\n<p>But when I try to run it, it gives me a <strong>database connection error</strong>.</p>\n<p>I put below all the <strong>steps</strong> that I executed, and after some <strong>images</strong>.</p>\n<p>(Note the use of a <strong>network</strong> for intercommunication between the containers; as well as the use of <strong>volumes</strong> for each of the 2 containers).</p>\n<p>Help with resolution would be appreciated.</p>\n<pre><code>Copy folder C:\\CODIGO\\IDEA_PROJECTS\\bootifytwo to C:\\Volumenes-Docker\\vol-graalvm-1\\bootifytwo\n\ndocker network create red-postgres-graalvm-1\n\ndocker run --name contenedor-postgres-1 -p 5433:5432 --network red-postgres-graalvm-1 -v &quot;C:\\Volumenes-Docker\\vol-postgres-1:/var/lib/postgresql/data&quot; -e POSTGRES_USER=postgres -e POSTGRES_PASSWORD=password -e POSTGRES_DB=bootifytwo -d postgres:13.9-alpine3.17\n\ndocker run --name contenedor-graalvm-1 -it --network=red-postgres-graalvm-1 -v &quot;C:\\Volumenes-Docker\\vol-graalvm-1:/app&quot; container-registry.oracle.com/graalvm/community:ol8-java17-22.3.0-b1 bash \n\ngu install native-image\n\ncd bootifytwo\n\n. ./mvnw native:compile -Pnative\n\ndocker start contenedor-graalvm-1\n    \ndocker exec -it contenedor-graalvm-1 bash\n                                        \n./target/bootifytwo\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EScnB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EScnB.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Vwv6M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vwv6M.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/29bK0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/29bK0.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/EyAjK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EyAjK.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XHymt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XHymt.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/miWen.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/miWen.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/eQryI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eQryI.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MmdO2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MmdO2.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/76gtl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/76gtl.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Cv8vy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cv8vy.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/LFEJt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LFEJt.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/wbVWe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wbVWe.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","maven","tomcat","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":8652805,"reputation":1100,"user_id":6477936,"accept_rate":9,"display_name":"Amit Gujarathi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500442474,"creation_date":1500442474,"answer_id":45181716,"question_id":45180287,"body_markdown":"- You have probably added something not valid into the lib folder of your server.\r\n\r\n- May be the version of your maven dependencies are not supporting your tomcat version.\r\n\r\nWhat you can try is :\r\n\r\n 1. remove your existing tomcat, if possible\r\n 2. remove your project and add your project with a new build\r\n 3. add your tomcat server (if possible try to add the same version in eclipse)\r\n 4. clean the project and refresh the project\r\n 5. go for running or debug mode\r\n\r\n","title":"Tomcat in Intellij IDEA error","body":"<ul>\n<li><p>You have probably added something not valid into the lib folder of your server.</p></li>\n<li><p>May be the version of your maven dependencies are not supporting your tomcat version.</p></li>\n</ul>\n\n<p>What you can try is :</p>\n\n<ol>\n<li>remove your existing tomcat, if possible</li>\n<li>remove your project and add your project with a new build</li>\n<li>add your tomcat server (if possible try to add the same version in eclipse)</li>\n<li>clean the project and refresh the project</li>\n<li>go for running or debug mode</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8652805,"reputation":1100,"user_id":6477936,"accept_rate":9,"display_name":"Amit Gujarathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500445424,"creation_date":1500445424,"answer_id":45182418,"question_id":45180287,"body_markdown":"Just you can try to again reconfigure your tomcat .\r\n\r\nTo configure tomcat in intellij its quite different than that in eclipse \r\n\r\nGo to Edit Configuration and complete the configuration as shown in image below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0N6ZE.jpg","title":"Tomcat in Intellij IDEA error","body":"<p>Just you can try to again reconfigure your tomcat .</p>\n\n<p>To configure tomcat in intellij its quite different than that in eclipse </p>\n\n<p>Go to Edit Configuration and complete the configuration as shown in image below</p>\n\n<p><a href=\"https://i.stack.imgur.com/0N6ZE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0N6ZE.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1678844,"reputation":509,"user_id":1543648,"display_name":"Shyam Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509826299,"creation_date":1509826299,"answer_id":47115163,"question_id":45180287,"body_markdown":"[![Put the deployment ][1]][1]\r\n\r\nPut the deployment into the current project directory or folder all permission\r\n\r\n  [1]: https://i.stack.imgur.com/AcUdl.png","title":"Tomcat in Intellij IDEA error","body":"<p><a href=\"https://i.stack.imgur.com/AcUdl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AcUdl.png\" alt=\"Put the deployment \"></a></p>\n\n<p>Put the deployment into the current project directory or folder all permission</p>\n"},{"tags":[],"owner":{"account_id":15513031,"reputation":453,"user_id":11191344,"display_name":"Yoshita Mahajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671789417,"creation_date":1671789417,"answer_id":74898333,"question_id":45180287,"body_markdown":"When tomcat is not showing in intellij . Make sure to follow below steps\r\n\r\n1} You should Install Tomcat and TomEE Integration plugin.\r\n\r\nFile –&gt;&gt; Settings –&gt;&gt; Type Plugin –&gt;&gt; Make sure Tomcat and TomEE Integration should be checked. Otherwise, you should install the plugin by clicking Install JetBrains Plugin button.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2} Make sure to add Deployment related in Edit Configuration for your project\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3} Then start the tomcat.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHope it works!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LXFcD.png\r\n  [2]: https://i.stack.imgur.com/HGKIl.png\r\n  [3]: https://i.stack.imgur.com/y9ecW.png","title":"Tomcat in Intellij IDEA error","body":"<p>When tomcat is not showing in intellij . Make sure to follow below steps</p>\n<p>1} You should Install Tomcat and TomEE Integration plugin.</p>\n<p>File –&gt;&gt; Settings –&gt;&gt; Type Plugin –&gt;&gt; Make sure Tomcat and TomEE Integration should be checked. Otherwise, you should install the plugin by clicking Install JetBrains Plugin button.</p>\n<p><a href=\"https://i.stack.imgur.com/LXFcD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LXFcD.png\" alt=\"enter image description here\" /></a></p>\n<p>2} Make sure to add Deployment related in Edit Configuration for your project</p>\n<p><a href=\"https://i.stack.imgur.com/HGKIl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HGKIl.png\" alt=\"enter image description here\" /></a></p>\n<p>3} Then start the tomcat.</p>\n<p><a href=\"https://i.stack.imgur.com/y9ecW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y9ecW.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope it works!</p>\n"}],"owner":{"account_id":11345392,"reputation":203,"user_id":8318015,"accept_rate":83,"display_name":"Sky Blue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8886,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1671789417,"creation_date":1500433692,"question_id":45180287,"body_markdown":"I am asked to move the default configuration of my team project from Eclipse to Intellij. I have never do server configuration for tomcat so i am confused to convert the eclipse configuration to Intellij IDEA. I have successfully get page that tomcat server installed for default tomcat, but when i use the team project tomcat configuration i get this error:\r\n    \r\n    19-Jul-2017 09:45:38.903 SEVERE [Catalina-startStop-1] org.apache.catalina.core.ContainerBase.startInternal A child container failed during start\r\n         java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\r\n        \tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n        \tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n        \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:915)\r\n        \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n        \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\r\n        \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\r\n        \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        \tat java.lang.Thread.run(Thread.java:745)\r\n        Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\r\n        \t... 6 more\r\n        Caused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@50d3c660]\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\r\n        \tat org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4969)\r\n        \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5099)\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n        \t... 6 more\r\n        Caused by: java.lang.IllegalArgumentException: The main resource set specified [C:\\PR\\tools\\apache-tomcat-8.0.37 - Admin Bo\\webapps\\pr-admin] is not valid\r\n        \tat org.apache.catalina.webresources.StandardRoot.createMainResourceSet(StandardRoot.java:727)\r\n        \tat org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:688)\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n        \t... 9 more\r\n        \r\n        19-Jul-2017 09:45:38.904 SEVERE [main] org.apache.catalina.core.ContainerBase.startInternal A child container failed during start\r\n         java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n        \tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n        \tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n        \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:915)\r\n        \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n        \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:441)\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n        \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:787)\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n        \tat org.apache.catalina.startup.Catalina.start(Catalina.java:629)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n        \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n        \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n        Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\r\n        \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\r\n        \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\r\n        \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        \tat java.lang.Thread.run(Thread.java:745)\r\n        Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n        \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923)\r\n        \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n        \t... 6 more\r\n        \r\n        19-Jul-2017 09:45:38.905 SEVERE [main] org.apache.catalina.startup.Catalina.start The required Server component failed to start so Tomcat is unable to start.\r\n         org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8001]]\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\r\n        \tat org.apache.catalina.startup.Catalina.start(Catalina.java:629)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n        \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n        \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n        Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\r\n        \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:787)\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n        \t... 7 more\r\n        Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\r\n        \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:441)\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n        \t... 9 more\r\n        Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n        \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923)\r\n        \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n        \t... 11 more\r\n        \r\n        19-Jul-2017 09:45:38.909 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8000&quot;]\r\n        19-Jul-2017 09:45:38.909 INFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service Catalina\r\n        19-Jul-2017 09:45:38.911 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8000&quot;]\r\n        19-Jul-2017 09:45:38.911 SEVERE [main] org.apache.coyote.AbstractProtocol.destroy Failed to destroy end point associated with ProtocolHandler [&quot;http-nio-8000&quot;]\r\n         java.lang.NullPointerException\r\n        \tat org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:316)\r\n        \tat org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:492)\r\n        \tat org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:821)\r\n        \tat org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:551)\r\n        \tat org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\r\n        \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n        \tat org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:589)\r\n        \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n        \tat org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:877)\r\n        \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n        \tat org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n        \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n        \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n        \r\n        19-Jul-2017 09:45:38.913 SEVERE [main] org.apache.catalina.core.StandardContext.resourcesStop Error stopping static Resources\r\n         org.apache.catalina.LifecycleException: Failed to stop component [org.apache.catalina.webresources.StandardRoot@50d3c660]\r\n        \tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:233)\r\n        \tat org.apache.catalina.core.StandardContext.resourcesStop(StandardContext.java:4995)\r\n        \tat org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5576)\r\n        \tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:221)\r\n        \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:259)\r\n        \tat org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:832)\r\n        \tat org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1012)\r\n        \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n        \tat org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:832)\r\n        \tat org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1012)\r\n        \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n        \tat org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:604)\r\n        \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n        \tat org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:877)\r\n        \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n        \tat org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n        \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n        \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n        Caused by: org.apache.catalina.LifecycleException: An invalid Lifecycle transition was attempted ([before_stop]) for component [org.apache.catalina.webresources.FileResourceSet@76b0bfab] in state [INITIALIZED]\r\n        \tat org.apache.catalina.util.LifecycleBase.invalidTransition(LifecycleBase.java:395)\r\n        \tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:208)\r\n        \tat org.apache.catalina.webresources.StandardRoot.stopInternal(StandardRoot.java:740)\r\n        \tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:221)\r\n        \t... 21 more\r\n        \r\n        19-Jul-2017 09:45:38.918 WARNING [main] org.apache.catalina.util.LifecycleBase.destroy Calling stop() on failed component [org.apache.catalina.webresources.StandardRoot@50d3c660] to trigger clean-up did not complete.\r\n         org.apache.catalina.LifecycleException: Failed to stop component [org.apache.catalina.webresources.StandardRoot@50d3c660]\r\n        \tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:233)\r\n        \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:259)\r\n        \tat org.apache.catalina.core.StandardContext.destroyInternal(StandardContext.java:5655)\r\n        \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n        \tat org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:832)\r\n        \tat org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1012)\r\n        \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n        \tat org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:832)\r\n        \tat org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1012)\r\n        \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n        \tat org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:604)\r\n        \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n        \tat org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:877)\r\n        \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n        \tat org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n        \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n        \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n        Caused by: org.apache.catalina.LifecycleException: An invalid Lifecycle transition was attempted ([before_stop]) for component [org.apache.catalina.webresources.FileResourceSet@76b0bfab] in state [INITIALIZED]\r\n        \tat org.apache.catalina.util.LifecycleBase.invalidTransition(LifecycleBase.java:395)\r\n        \tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:208)\r\n        \tat org.apache.catalina.webresources.StandardRoot.stopInternal(StandardRoot.java:740)\r\n        \tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:221)\r\n        \t... 20 more\r\n        \r\n        Disconnected from server\r\n\r\nHow to resolve this error? I have googling it for similar problem, it is say have dependencies problem. But i don&#39;t know how to check the what jar that have dependencies problem in here. Thank you \r\n\r\nAddition:\r\nHere the successful log message from running the server from eclipse IDE:\r\n\r\n    Jul 19, 2017 9:37:12 AM org.apache.tomcat.util.digester.SetPropertiesRule begin\r\n    WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property &#39;source&#39; to &#39;org.eclipse.jst.jee.server:pr-admin&#39; did not find a matching property.\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server version:        Apache Tomcat/8.0.37\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server built:          Sep 1 2016 10:01:52 UTC\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server number:         8.0.37.0\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Name:               Windows 10\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Version:            10.0\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Architecture:          amd64\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Java Home:             C:\\PR\\tools\\jdk1.8.0\\jre\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Version:           1.8.0_101-b13\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Vendor:            Oracle Corporation\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_BASE:         C:\\PR\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_HOME:         C:\\PR\\tools\\apache-tomcat-8.0.37\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.base=C:\\PR\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.home=C:\\PR\\tools\\apache-tomcat-8.0.37\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dwtp.deploy=C:\\PR\\workspace\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Djava.endorsed.dirs=C:\\PR\\tools\\apache-tomcat-8.0.37\\endorsed\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Duser.timezone=Asia/Jakarta\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dfile.encoding=utf-8\r\n    Jul 19, 2017 9:37:12 AM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\r\n    INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\PR\\tools\\jdk1.8.0\\bin;C:\\windows\\Sun\\Java\\bin;C:\\windows\\system32;C:\\windows;C:/Program Files/Java/jre1.8.0_121/bin/server;C:/Program Files/Java/jre1.8.0_121/bin;C:/Program Files/Java/jre1.8.0_121/lib/amd64;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Intel\\iCLS Client\\;C:\\Program Files\\Intel\\iCLS Client\\;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;c:\\Program Files\\Intel\\WiFi\\bin\\;c:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\TortoiseSVN\\bin;C:\\Program Files\\PuTTY\\;C:\\PR\\tools\\apache-maven-3.3.9\\bin;C:\\Program Files\\nodejs\\;C:\\Users\\Sky\\AppData\\Local\\Android\\Sdk\\tools\\bin\\node_modules\\appium;C:\\Android\\sdk\\platform-tools\\;C:\\Android\\sdk\\tools\\;C:\\Program Files\\Java\\jdk1.8.0_121\\bin;C:\\Gradle\\gradle-4.0.1\\bin;C:\\Ruby24-x64\\bin;C:\\Users\\Sky\\AppData\\Local\\Microsoft\\WindowsApps;;C:\\Program Files (x86)\\Microsoft VS Code\\bin;C:\\Users\\Sky\\AppData\\Roaming\\npm;C:\\PR\\eclipse-jee-neon-1-win32-x86_64;;.\r\n    Jul 19, 2017 9:37:12 AM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-nio-8000&quot;]\r\n    Jul 19, 2017 9:37:13 AM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector\r\n    INFO: Using a shared selector for servlet write/read\r\n    Jul 19, 2017 9:37:13 AM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 1301 ms\r\n    Jul 19, 2017 9:37:13 AM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service Catalina\r\n    Jul 19, 2017 9:37:13 AM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet Engine: Apache Tomcat/8.0.37\r\n    Jul 19, 2017 9:37:21 AM org.apache.catalina.core.ApplicationContext log\r\n    INFO: No Spring WebApplicationInitializer types detected on classpath\r\n    Jul 19, 2017 9:37:21 AM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Initializing Spring root WebApplicationContext\r\n\r\nUpdated:\r\nNow i can run the server but i have this error in event log:\r\n\tApplication Server was not connected before run configuration stop, reason:\r\n\t\t\t\tjava.io.IOException: Failed to retrieve RMIServer stub: javax.naming.CommunicationException [Root exception is java.rmi.ConnectIOException: error during JRMP connection establishment; nested exception is: \r\n\t\t\t\tjava.io.EOFException]\r\n\r\nAlso i get the warning 19-Jul-2017 13:04:49.941 WARNING [main] org.apache.catalina.core.StandardServer.await StandardServer.await: Invalid command &#39;&#39; received\r\n19-Jul-2017 13:04:49.941 WARNING [main] org.apache.catalina.core.StandardServer.await StandardServer.await: Invalid command &#39;JRMI&#39; received","title":"Tomcat in Intellij IDEA error","body":"<p>I am asked to move the default configuration of my team project from Eclipse to Intellij. I have never do server configuration for tomcat so i am confused to convert the eclipse configuration to Intellij IDEA. I have successfully get page that tomcat server installed for default tomcat, but when i use the team project tomcat configuration i get this error:</p>\n\n<pre><code>19-Jul-2017 09:45:38.903 SEVERE [Catalina-startStop-1] org.apache.catalina.core.ContainerBase.startInternal A child container failed during start\n     java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\n        at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n        at java.util.concurrent.FutureTask.get(FutureTask.java:192)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:915)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\n        ... 6 more\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@50d3c660]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\n        at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4969)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5099)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        ... 6 more\n    Caused by: java.lang.IllegalArgumentException: The main resource set specified [C:\\PR\\tools\\apache-tomcat-8.0.37 - Admin Bo\\webapps\\pr-admin] is not valid\n        at org.apache.catalina.webresources.StandardRoot.createMainResourceSet(StandardRoot.java:727)\n        at org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:688)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        ... 9 more\n\n    19-Jul-2017 09:45:38.904 SEVERE [main] org.apache.catalina.core.ContainerBase.startInternal A child container failed during start\n     java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n        at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n        at java.util.concurrent.FutureTask.get(FutureTask.java:192)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:915)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:441)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:787)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:629)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        ... 6 more\n\n    19-Jul-2017 09:45:38.905 SEVERE [main] org.apache.catalina.startup.Catalina.start The required Server component failed to start so Tomcat is unable to start.\n     org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8001]]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:629)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:787)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        ... 7 more\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:441)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        ... 9 more\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        ... 11 more\n\n    19-Jul-2017 09:45:38.909 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [\"http-nio-8000\"]\n    19-Jul-2017 09:45:38.909 INFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service Catalina\n    19-Jul-2017 09:45:38.911 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [\"http-nio-8000\"]\n    19-Jul-2017 09:45:38.911 SEVERE [main] org.apache.coyote.AbstractProtocol.destroy Failed to destroy end point associated with ProtocolHandler [\"http-nio-8000\"]\n     java.lang.NullPointerException\n        at org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:316)\n        at org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:492)\n        at org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:821)\n        at org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:551)\n        at org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n        at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:589)\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n        at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:877)\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\n\n    19-Jul-2017 09:45:38.913 SEVERE [main] org.apache.catalina.core.StandardContext.resourcesStop Error stopping static Resources\n     org.apache.catalina.LifecycleException: Failed to stop component [org.apache.catalina.webresources.StandardRoot@50d3c660]\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:233)\n        at org.apache.catalina.core.StandardContext.resourcesStop(StandardContext.java:4995)\n        at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5576)\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:221)\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:259)\n        at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:832)\n        at org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1012)\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n        at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:832)\n        at org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1012)\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n        at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:604)\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n        at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:877)\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\n    Caused by: org.apache.catalina.LifecycleException: An invalid Lifecycle transition was attempted ([before_stop]) for component [org.apache.catalina.webresources.FileResourceSet@76b0bfab] in state [INITIALIZED]\n        at org.apache.catalina.util.LifecycleBase.invalidTransition(LifecycleBase.java:395)\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:208)\n        at org.apache.catalina.webresources.StandardRoot.stopInternal(StandardRoot.java:740)\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:221)\n        ... 21 more\n\n    19-Jul-2017 09:45:38.918 WARNING [main] org.apache.catalina.util.LifecycleBase.destroy Calling stop() on failed component [org.apache.catalina.webresources.StandardRoot@50d3c660] to trigger clean-up did not complete.\n     org.apache.catalina.LifecycleException: Failed to stop component [org.apache.catalina.webresources.StandardRoot@50d3c660]\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:233)\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:259)\n        at org.apache.catalina.core.StandardContext.destroyInternal(StandardContext.java:5655)\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n        at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:832)\n        at org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1012)\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n        at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:832)\n        at org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1012)\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n        at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:604)\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n        at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:877)\n        at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\n    Caused by: org.apache.catalina.LifecycleException: An invalid Lifecycle transition was attempted ([before_stop]) for component [org.apache.catalina.webresources.FileResourceSet@76b0bfab] in state [INITIALIZED]\n        at org.apache.catalina.util.LifecycleBase.invalidTransition(LifecycleBase.java:395)\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:208)\n        at org.apache.catalina.webresources.StandardRoot.stopInternal(StandardRoot.java:740)\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:221)\n        ... 20 more\n\n    Disconnected from server\n</code></pre>\n\n<p>How to resolve this error? I have googling it for similar problem, it is say have dependencies problem. But i don't know how to check the what jar that have dependencies problem in here. Thank you </p>\n\n<p>Addition:\nHere the successful log message from running the server from eclipse IDE:</p>\n\n<pre><code>Jul 19, 2017 9:37:12 AM org.apache.tomcat.util.digester.SetPropertiesRule begin\nWARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.jee.server:pr-admin' did not find a matching property.\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server version:        Apache Tomcat/8.0.37\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server built:          Sep 1 2016 10:01:52 UTC\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server number:         8.0.37.0\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: OS Name:               Windows 10\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: OS Version:            10.0\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Architecture:          amd64\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Java Home:             C:\\PR\\tools\\jdk1.8.0\\jre\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: JVM Version:           1.8.0_101-b13\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: JVM Vendor:            Oracle Corporation\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: CATALINA_BASE:         C:\\PR\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: CATALINA_HOME:         C:\\PR\\tools\\apache-tomcat-8.0.37\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dcatalina.base=C:\\PR\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dcatalina.home=C:\\PR\\tools\\apache-tomcat-8.0.37\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dwtp.deploy=C:\\PR\\workspace\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Djava.endorsed.dirs=C:\\PR\\tools\\apache-tomcat-8.0.37\\endorsed\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Duser.timezone=Asia/Jakarta\nJul 19, 2017 9:37:12 AM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dfile.encoding=utf-8\nJul 19, 2017 9:37:12 AM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\nINFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\PR\\tools\\jdk1.8.0\\bin;C:\\windows\\Sun\\Java\\bin;C:\\windows\\system32;C:\\windows;C:/Program Files/Java/jre1.8.0_121/bin/server;C:/Program Files/Java/jre1.8.0_121/bin;C:/Program Files/Java/jre1.8.0_121/lib/amd64;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Intel\\iCLS Client\\;C:\\Program Files\\Intel\\iCLS Client\\;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;c:\\Program Files\\Intel\\WiFi\\bin\\;c:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\TortoiseSVN\\bin;C:\\Program Files\\PuTTY\\;C:\\PR\\tools\\apache-maven-3.3.9\\bin;C:\\Program Files\\nodejs\\;C:\\Users\\Sky\\AppData\\Local\\Android\\Sdk\\tools\\bin\\node_modules\\appium;C:\\Android\\sdk\\platform-tools\\;C:\\Android\\sdk\\tools\\;C:\\Program Files\\Java\\jdk1.8.0_121\\bin;C:\\Gradle\\gradle-4.0.1\\bin;C:\\Ruby24-x64\\bin;C:\\Users\\Sky\\AppData\\Local\\Microsoft\\WindowsApps;;C:\\Program Files (x86)\\Microsoft VS Code\\bin;C:\\Users\\Sky\\AppData\\Roaming\\npm;C:\\PR\\eclipse-jee-neon-1-win32-x86_64;;.\nJul 19, 2017 9:37:12 AM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"http-nio-8000\"]\nJul 19, 2017 9:37:13 AM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector\nINFO: Using a shared selector for servlet write/read\nJul 19, 2017 9:37:13 AM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 1301 ms\nJul 19, 2017 9:37:13 AM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service Catalina\nJul 19, 2017 9:37:13 AM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet Engine: Apache Tomcat/8.0.37\nJul 19, 2017 9:37:21 AM org.apache.catalina.core.ApplicationContext log\nINFO: No Spring WebApplicationInitializer types detected on classpath\nJul 19, 2017 9:37:21 AM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring root WebApplicationContext\n</code></pre>\n\n<p>Updated:\nNow i can run the server but i have this error in event log:\n    Application Server was not connected before run configuration stop, reason:\n                java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.CommunicationException [Root exception is java.rmi.ConnectIOException: error during JRMP connection establishment; nested exception is: \n                java.io.EOFException]</p>\n\n<p>Also i get the warning 19-Jul-2017 13:04:49.941 WARNING [main] org.apache.catalina.core.StandardServer.await StandardServer.await: Invalid command '' received\n19-Jul-2017 13:04:49.941 WARNING [main] org.apache.catalina.core.StandardServer.await StandardServer.await: Invalid command 'JRMI' received</p>\n"},{"tags":["java","generics","protocol-buffers","covariance","contravariance"],"comments":[{"owner":{"account_id":1501608,"reputation":1461,"user_id":1406067,"accept_rate":86,"display_name":"aim"},"score":0,"creation_date":1388391614,"post_id":20835811,"comment_id":31249561,"body_markdown":"see [java se tutorials](http://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html)","body":"see <a href=\"http://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html\" rel=\"nofollow noreferrer\">java se tutorials</a>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1388391619,"post_id":20835811,"comment_id":31249562,"body_markdown":"The parameter type should by a subtype of `SomeClass`","body":"The parameter type should by a subtype of <code>SomeClass</code>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1388391909,"post_id":20835811,"comment_id":31249638,"body_markdown":"I tried to explain it in my answer to http://stackoverflow.com/questions/20037561/assigning-a-generic-list-to-a-concrete-arraylist-is-causing-a-compile-time-error","body":"I tried to explain it in my answer to <a href=\"http://stackoverflow.com/questions/20037561/assigning-a-generic-list-to-a-concrete-arraylist-is-causing-a-compile-time-error\" title=\"assigning a generic list to a concrete arraylist is causing a compile time error\">stackoverflow.com/questions/20037561/&hellip;</a>"},{"owner":{"account_id":1639157,"reputation":12883,"user_id":1511951,"accept_rate":77,"display_name":"Steve Benett"},"score":1,"creation_date":1388391921,"post_id":20835811,"comment_id":31249644,"body_markdown":"Have a look [here](http://stackoverflow.com/questions/252055/java-generics-wildcards) for an explaination of upper bounded and lower bounded wildcards. There are some links to the Java tuts too.","body":"Have a look <a href=\"http://stackoverflow.com/questions/252055/java-generics-wildcards\">here</a> for an explaination of upper bounded and lower bounded wildcards. There are some links to the Java tuts too."},{"owner":{"account_id":1914874,"reputation":13438,"user_id":1727645,"accept_rate":81,"display_name":"Prasad Kharkar"},"score":0,"creation_date":1388392111,"post_id":20835811,"comment_id":31249697,"body_markdown":"This will help . http://www.thejavageek.com/2013/08/28/generics-the-wildcard-operator/","body":"This will help . <a href=\"http://www.thejavageek.com/2013/08/28/generics-the-wildcard-operator/\" rel=\"nofollow noreferrer\">thejavageek.com/2013/08/28/generics-the-wildcard-operator</a>"}],"answers":[{"tags":[],"owner":{"account_id":3774310,"reputation":1914,"user_id":3135546,"accept_rate":58,"display_name":"wangdq"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1671789380,"creation_date":1388392009,"answer_id":20835903,"question_id":20835811,"body_markdown":"In java generics programing, there are two kinds of bounds when using wildcards.\r\n\r\n1)Upper Bounded Wildcards .\r\nlike: `ArrayList &lt;? extends Number&gt; p`, it means you can use anything extends Number to fill the ArrayList.\r\n\r\n2)Lower Bounded Wildcards.\r\nlike:`ArrayList&lt;? super Integer&gt; list`,\r\nit means you will have to pass anything which is in the super class (such as Number, Object)of Integer to fill the ArrayList.\r\n\r\nfor more information, refer to [wildcards][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html","title":"what does List&lt;? extends SomeClass&gt; mean?","body":"<p>In java generics programing, there are two kinds of bounds when using wildcards.</p>\n<p>1)Upper Bounded Wildcards .\nlike: <code>ArrayList &lt;? extends Number&gt; p</code>, it means you can use anything extends Number to fill the ArrayList.</p>\n<p>2)Lower Bounded Wildcards.\nlike:<code>ArrayList&lt;? super Integer&gt; list</code>,\nit means you will have to pass anything which is in the super class (such as Number, Object)of Integer to fill the ArrayList.</p>\n<p>for more information, refer to <a href=\"http://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html\" rel=\"nofollow noreferrer\">wildcards</a>.</p>\n"},{"tags":[],"owner":{"account_id":2790397,"reputation":3354,"user_id":2400740,"accept_rate":52,"display_name":"rachana"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388392062,"creation_date":1388392062,"answer_id":20835916,"question_id":20835811,"body_markdown":"In `java generic code`, the question mark **(?)**, called the **wildcard**, represents an **unknown type**. The wildcard can be used in a variety of situations: as the type of a parameter, field, or local variable; sometimes as a return type (though it is better programming practice to be more specific). The wildcard is never used as a type argument for a generic method invocation, a generic class instance creation, or a supertype.\r\n\r\nFor more information read [Java Generic&#39;s Wildcards][1] and [Generics: The wildcard operator][2] \r\n\r\n\r\n  [1]: http://tutorials.jenkov.com/java-generics/wildcards.html\r\n  [2]: http://www.thejavageek.com/2013/08/28/generics-the-wildcard-operator/","title":"what does List&lt;? extends SomeClass&gt; mean?","body":"<p>In <code>java generic code</code>, the question mark <strong>(?)</strong>, called the <strong>wildcard</strong>, represents an <strong>unknown type</strong>. The wildcard can be used in a variety of situations: as the type of a parameter, field, or local variable; sometimes as a return type (though it is better programming practice to be more specific). The wildcard is never used as a type argument for a generic method invocation, a generic class instance creation, or a supertype.</p>\n\n<p>For more information read <a href=\"http://tutorials.jenkov.com/java-generics/wildcards.html\" rel=\"nofollow\">Java Generic's Wildcards</a> and <a href=\"http://www.thejavageek.com/2013/08/28/generics-the-wildcard-operator/\" rel=\"nofollow\">Generics: The wildcard operator</a> </p>\n"},{"tags":[],"owner":{"account_id":68162,"reputation":7331,"user_id":199048,"accept_rate":90,"display_name":"Christian Strempfer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1388392070,"creation_date":1388392070,"answer_id":20835920,"question_id":20835811,"body_markdown":"This is a [generic][1] declaration.\r\n\r\nIt is used to check types at compile time. You could put any object into a list, but that would make it more difficult to maintain and could cause `ClassCastException`s, if not used appropriate.\r\n\r\n`&lt;? extends xxx.yyy.zzz.proto.BasicMessage.DestInfoOrBuilder&gt;` means *&quot;allow every class which extends `DestInfoOrBuilder`&quot;*.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_generics","title":"what does List&lt;? extends SomeClass&gt; mean?","body":"<p>This is a <a href=\"http://en.wikipedia.org/wiki/Java_generics\" rel=\"nofollow\">generic</a> declaration.</p>\n\n<p>It is used to check types at compile time. You could put any object into a list, but that would make it more difficult to maintain and could cause <code>ClassCastException</code>s, if not used appropriate.</p>\n\n<p><code>&lt;? extends xxx.yyy.zzz.proto.BasicMessage.DestInfoOrBuilder&gt;</code> means <em>\"allow every class which extends <code>DestInfoOrBuilder</code>\"</em>.</p>\n"}],"owner":{"account_id":1352510,"reputation":6888,"user_id":1291716,"accept_rate":93,"display_name":"Sayakiss"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16495,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1388392093,"accepted_answer_id":20835920,"answer_count":3,"score":5,"last_activity_date":1671789380,"creation_date":1388391507,"question_id":20835811,"body_markdown":"I saw that definition in a protobuf generated java file:\r\n\r\n    java.util.List&lt;? extends xxx.yyy.zzz.proto.BasicMessage.DestInfoOrBuilder&gt; foo();\r\n\r\nBut what dose `&lt;?` and `extends` mean?  I can understand `List&lt;SomeClass&gt;` I can&#39;t understand `List&lt;? extends SomeClass&gt;`..","title":"what does List&lt;? extends SomeClass&gt; mean?","body":"<p>I saw that definition in a protobuf generated java file:</p>\n\n<pre><code>java.util.List&lt;? extends xxx.yyy.zzz.proto.BasicMessage.DestInfoOrBuilder&gt; foo();\n</code></pre>\n\n<p>But what dose <code>&lt;?</code> and <code>extends</code> mean?  I can understand <code>List&lt;SomeClass&gt;</code> I can't understand <code>List&lt;? extends SomeClass&gt;</code>..</p>\n"},{"tags":["java","sql","select","jdbc","batching"],"answers":[{"tags":[],"owner":{"account_id":17556782,"reputation":115,"user_id":12736064,"display_name":"Dinesh Ganesan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1671789340,"creation_date":1671789340,"answer_id":74898321,"question_id":74898201,"body_markdown":"    Stringbuilder inclause = new Stringbuilder();\r\n    inclause.append(&quot;&#39;123&#39;&quot;);\r\n    inclause.append(&quot;,&quot;);\r\n    inclause.append(&quot;&#39;345&#39;&quot;);\r\n    Statement.setString(inclause.toString());\r\n\r\nAdd single quotes in string and also add append &quot;,&quot;","title":"spassing multiple params in select query","body":"<pre><code>Stringbuilder inclause = new Stringbuilder();\ninclause.append(&quot;'123'&quot;);\ninclause.append(&quot;,&quot;);\ninclause.append(&quot;'345'&quot;);\nStatement.setString(inclause.toString());\n</code></pre>\n<p>Add single quotes in string and also add append &quot;,&quot;</p>\n"}],"owner":{"account_id":16134544,"reputation":1,"user_id":11647304,"display_name":"MANPREET KAUR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671798628,"answer_count":1,"score":0,"last_activity_date":1671789340,"creation_date":1671788587,"question_id":74898201,"body_markdown":"I am working with query &quot;select * from account in (?)&quot;\r\n    \r\n I using preparedstatement+select query+ in clause. I want to provide multiple accounts of String type. I have tried it by using Stringbuilder but it did not worked.\r\n    \r\n        Stringbuilder inclause = new Stringbuilder();\r\n        inclause.append(&quot;123&quot;);\r\n        inclause.append(&quot;345&quot;)\r\n        \r\n        Statement.setString(inclause.toString())\r\n    \r\nThis code is not working for me because this is forming query like:\r\n\r\nselect * from account in (&#39;123, 345&#39;)\r\n\r\n \r\n    \r\nand this is not correct query as I require like:\r\n\r\nselect * from account in (&#39;123&#39;, &#39;345&#39;) \r\n    \r\nCould you please help me in achieving this?\r\n\r\n","title":"spassing multiple params in select query","body":"<p>I am working with query &quot;select * from account in (?)&quot;</p>\n<p>I using preparedstatement+select query+ in clause. I want to provide multiple accounts of String type. I have tried it by using Stringbuilder but it did not worked.</p>\n<pre><code>    Stringbuilder inclause = new Stringbuilder();\n    inclause.append(&quot;123&quot;);\n    inclause.append(&quot;345&quot;)\n    \n    Statement.setString(inclause.toString())\n</code></pre>\n<p>This code is not working for me because this is forming query like:</p>\n<p>select * from account in ('123, 345')</p>\n<p>and this is not correct query as I require like:</p>\n<p>select * from account in ('123', '345')</p>\n<p>Could you please help me in achieving this?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8967184,"reputation":570,"user_id":9305266,"display_name":"Manish Ahire"},"score":0,"creation_date":1671786311,"post_id":74897804,"comment_id":132175567,"body_markdown":"share logs where your app is crashing","body":"share logs where your app is crashing"},{"owner":{"account_id":27270043,"reputation":21,"user_id":20791491,"display_name":"user20791491"},"score":0,"creation_date":1671786464,"post_id":74897804,"comment_id":132175601,"body_markdown":"Thats the problem, when I have my phone plugged in, it reads the information part but when it crashes it leaves no error log.","body":"Thats the problem, when I have my phone plugged in, it reads the information part but when it crashes it leaves no error log."},{"owner":{"account_id":8967184,"reputation":570,"user_id":9305266,"display_name":"Manish Ahire"},"score":0,"creation_date":1671786550,"post_id":74897804,"comment_id":132175620,"body_markdown":"did you used crashanalytics?","body":"did you used crashanalytics?"},{"owner":{"account_id":27270043,"reputation":21,"user_id":20791491,"display_name":"user20791491"},"score":0,"creation_date":1671786637,"post_id":74897804,"comment_id":132175642,"body_markdown":"I did not, how do I do that? I have been using the logcat.","body":"I did not, how do I do that? I have been using the logcat."},{"owner":{"account_id":8967184,"reputation":570,"user_id":9305266,"display_name":"Manish Ahire"},"score":0,"creation_date":1671786801,"post_id":74897804,"comment_id":132175680,"body_markdown":"for crash analytics you  need to integrate Firebase or try to run on another device on which you can catch the logs on logcat","body":"for crash analytics you  need to integrate Firebase or try to run on another device on which you can catch the logs on logcat"},{"owner":{"account_id":27270043,"reputation":21,"user_id":20791491,"display_name":"user20791491"},"score":0,"creation_date":1671787234,"post_id":74897804,"comment_id":132175793,"body_markdown":"java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myan/com.example.myan.HomePage}: java.lang.IllegalArgumentException: File Keaton/Matty.xml contains a path separator","body":"java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myan/com.example.myan.HomePage}: java.lang.IllegalArgumentException: File Keaton/Matty.xml contains a path separator"},{"owner":{"account_id":8967184,"reputation":570,"user_id":9305266,"display_name":"Manish Ahire"},"score":0,"creation_date":1671787484,"post_id":74897804,"comment_id":132175844,"body_markdown":"add more error log","body":"add more error log"},{"owner":{"account_id":27270043,"reputation":21,"user_id":20791491,"display_name":"user20791491"},"score":0,"creation_date":1671787613,"post_id":74897804,"comment_id":132175876,"body_markdown":"Check Above, I added the whole log to the post.","body":"Check Above, I added the whole log to the post."},{"owner":{"account_id":27270043,"reputation":21,"user_id":20791491,"display_name":"user20791491"},"score":0,"creation_date":1671787773,"post_id":74897804,"comment_id":132175920,"body_markdown":"And again this only happens when I run SharedPrefrences.","body":"And again this only happens when I run SharedPrefrences."},{"owner":{"account_id":27270043,"reputation":21,"user_id":20791491,"display_name":"user20791491"},"score":0,"creation_date":1671788635,"post_id":74897804,"comment_id":132176107,"body_markdown":"I found the problem, there is a contact in the phone that is named Keaton/Matty and that slash is causing the crash. Is there a way around this?","body":"I found the problem, there is a contact in the phone that is named Keaton/Matty and that slash is causing the crash. Is there a way around this?"}],"answers":[{"tags":[],"owner":{"account_id":27270043,"reputation":21,"user_id":20791491,"display_name":"user20791491"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671789207,"creation_date":1671789207,"answer_id":74898299,"question_id":74897804,"body_markdown":"Found the problem, there is a contact in the phone that is named Keaton/Matty and that slash is causing the crash I Just Renamed it and now it works perfect.","title":"SharedPreferences Crashes on Startup on phone, but works on emulator?","body":"<p>Found the problem, there is a contact in the phone that is named Keaton/Matty and that slash is causing the crash I Just Renamed it and now it works perfect.</p>\n"}],"owner":{"account_id":27270043,"reputation":21,"user_id":20791491,"display_name":"user20791491"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671789207,"creation_date":1671785597,"question_id":74897804,"body_markdown":"I have a simple code that saves new contact info when contacts are imported, with extra properties, such as time, date, amount owed, etc that are attached. Just saving simple Strings, to retrieve in another activity and I blocked out that code just until I can figure out why it is crashing on the actual phone. \r\n\r\n```\r\n @SuppressLint(&quot;Range&quot;)\r\n    private void getContacts(View view) {\r\n        // this method is use to read contact from users device.\r\n        // on below line we are creating a string variables for\r\n        // our contact id and display name.\r\n        String contactId = &quot;&quot;;\r\n        String displayName = &quot;&quot;;\r\n        String contactEmail = &quot;&quot;;\r\n        String Amount = &quot;0&quot;;\r\n        String CurDate = &quot;11111111&quot;;\r\n        String DueDate = &quot;99999999&quot;;\r\n        String TimeCur = &quot;0&quot;;\r\n        String TimeDue = &quot;0&quot;;\r\n        // on below line we are calling our content resolver for getting contacts\r\n        Cursor cursor = getContentResolver().query(ContactsContract.Contacts.CONTENT_URI, null, null, null, ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME + &quot; ASC&quot;);\r\n        // on blow line we are checking the count for our cursor.\r\n        if (cursor.getCount() &gt; 0) {\r\n            // if the count is greater than 0 then we are running a loop to move our cursor to next.\r\n            while (cursor.moveToNext()) {\r\n                // on below line we are getting the phone number.\r\n                int hasPhoneNumber = Integer.parseInt(cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER)));\r\n                if (hasPhoneNumber &gt; 0) {\r\n                    // we are checking if the has phone number is &gt; 0\r\n                    // on below line we are getting our contact id and user name for that contact\r\n                    contactId = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\r\n                    displayName = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));\r\n\r\n                    // on below line we are calling a content resolver and making a query\r\n                    Cursor phoneCursor = getContentResolver().query(\r\n                            ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\r\n                            null,\r\n                            ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\r\n                            new String[]{contactId},\r\n                            null);\r\n                    // on below line we are moving our cursor to next position.\r\n                    if (phoneCursor.moveToNext()) {\r\n                        // on below line we are getting the phone number for our users and then adding the name along with phone number in array list.\r\n                        String phoneNumber = phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\r\n                        contactsModalArrayList.add(new ContactsModal(displayName, phoneNumber));\r\n\r\n                        SharedPreferences settings = getApplicationContext().getSharedPreferences(displayName, 0);\r\n                        SharedPreferences.Editor editor = settings.edit();\r\n\r\n                        String doneImport = settings.getString(&quot;DoneImport&quot;, String.valueOf(0));\r\n                        if (!&quot;TRUE&quot;.equals(doneImport)) {\r\n                            editor.putString(&quot;curName&quot;, displayName);\r\n                            editor.putString(&quot;curPhone&quot;, phoneNumber);\r\n                            editor.putString(&quot;contactEmail&quot;, contactEmail);\r\n                            editor.putInt(&quot;amountDue&quot;, Integer.valueOf(Amount));\r\n                            editor.putInt(&quot;curDate&quot;, Integer.valueOf(CurDate));\r\n                            editor.putInt(&quot;dateDue&quot;, Integer.valueOf(DueDate));\r\n                            editor.putInt(&quot;curTime&quot;, Integer.valueOf(TimeCur));\r\n                            editor.putInt(&quot;timeDue&quot;, Integer.valueOf(TimeDue));\r\n                            editor.putString(&quot;DoneImport&quot;, &quot;TRUE&quot;);\r\n                            editor.apply();\r\n\r\n                            //Log.i(&quot;IMPORT IS DONE&quot;, doneImport);\r\n\r\n                        }\r\n                    }\r\n                    // on below line we are closing our phone cursor.\r\n                    phoneCursor.close();\r\n                }\r\n            }\r\n        }\r\n        // on below line we are closing our cursor.\r\n        cursor.close();\r\n        // on below line we are hiding our progress bar and notifying our adapter class.\r\n        loadingPB.setVisibility(View.GONE);\r\n        contactRVAdapter.notifyDataSetChanged();\r\n    }\r\n}\r\n```\r\nWhy would this run fine on a emulator and not a android phone I have?\r\nNo crash log either when running on phone.\r\n\r\nCrash Log\r\n```\r\nFATAL EXCEPTION: main\r\nProcess: com.example.myan, PID: 7677\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myan/com.example.myan.HomePage}: java.lang.IllegalArgumentException: File Keaton/Matty.xml contains a path separator\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4166)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4312)\r\n\tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2571)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\tat android.os.Looper.loopOnce(Looper.java:226)\r\n\tat android.os.Looper.loop(Looper.java:313)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8741)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\r\nCaused by: java.lang.IllegalArgumentException: File Keaton/Matty.xml contains a path separator\r\n\tat android.app.ContextImpl.makeFilename(ContextImpl.java:3555)\r\n\tat android.app.ContextImpl.getSharedPreferencesPath(ContextImpl.java:975)\r\n\tat android.app.ContextImpl.getSharedPreferences(ContextImpl.java:573)\r\n\tat android.content.ContextWrapper.getSharedPreferences(ContextWrapper.java:226)\r\n\tat com.example.myan.HomePage.getContacts(HomePage.java:273)\r\n\tat com.example.myan.HomePage.access$100(HomePage.java:39)\r\n\tat com.example.myan.HomePage$4.onPermissionsChecked(HomePage.java:159)\r\n\tat com.karumi.dexter.DexterInstance$1.run(Unknown Source:43)\r\n\tat com.karumi.dexter.MainThread.execute(Unknown Source:6)\r\n\tat com.karumi.dexter.DexterInstance.checkMultiplePermissions(Unknown Source:71)\r\n\tat com.karumi.dexter.DexterInstance.checkPermissions(Unknown Source:0)\r\n\tat com.karumi.dexter.Dexter.check(Unknown Source:10)\r\n\tat com.example.myan.HomePage.requestPermissions(HomePage.java:187)\r\n\tat com.example.myan.HomePage.onCreate(HomePage.java:69)\r\n\tat android.app.Activity.performCreate(Activity.java:8578)\r\n\tat android.app.Activity.performCreate(Activity.java:8557)\r\n\tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4147)\r\n```","title":"SharedPreferences Crashes on Startup on phone, but works on emulator?","body":"<p>I have a simple code that saves new contact info when contacts are imported, with extra properties, such as time, date, amount owed, etc that are attached. Just saving simple Strings, to retrieve in another activity and I blocked out that code just until I can figure out why it is crashing on the actual phone.</p>\n<pre><code> @SuppressLint(&quot;Range&quot;)\n    private void getContacts(View view) {\n        // this method is use to read contact from users device.\n        // on below line we are creating a string variables for\n        // our contact id and display name.\n        String contactId = &quot;&quot;;\n        String displayName = &quot;&quot;;\n        String contactEmail = &quot;&quot;;\n        String Amount = &quot;0&quot;;\n        String CurDate = &quot;11111111&quot;;\n        String DueDate = &quot;99999999&quot;;\n        String TimeCur = &quot;0&quot;;\n        String TimeDue = &quot;0&quot;;\n        // on below line we are calling our content resolver for getting contacts\n        Cursor cursor = getContentResolver().query(ContactsContract.Contacts.CONTENT_URI, null, null, null, ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME + &quot; ASC&quot;);\n        // on blow line we are checking the count for our cursor.\n        if (cursor.getCount() &gt; 0) {\n            // if the count is greater than 0 then we are running a loop to move our cursor to next.\n            while (cursor.moveToNext()) {\n                // on below line we are getting the phone number.\n                int hasPhoneNumber = Integer.parseInt(cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER)));\n                if (hasPhoneNumber &gt; 0) {\n                    // we are checking if the has phone number is &gt; 0\n                    // on below line we are getting our contact id and user name for that contact\n                    contactId = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\n                    displayName = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));\n\n                    // on below line we are calling a content resolver and making a query\n                    Cursor phoneCursor = getContentResolver().query(\n                            ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\n                            null,\n                            ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\n                            new String[]{contactId},\n                            null);\n                    // on below line we are moving our cursor to next position.\n                    if (phoneCursor.moveToNext()) {\n                        // on below line we are getting the phone number for our users and then adding the name along with phone number in array list.\n                        String phoneNumber = phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\n                        contactsModalArrayList.add(new ContactsModal(displayName, phoneNumber));\n\n                        SharedPreferences settings = getApplicationContext().getSharedPreferences(displayName, 0);\n                        SharedPreferences.Editor editor = settings.edit();\n\n                        String doneImport = settings.getString(&quot;DoneImport&quot;, String.valueOf(0));\n                        if (!&quot;TRUE&quot;.equals(doneImport)) {\n                            editor.putString(&quot;curName&quot;, displayName);\n                            editor.putString(&quot;curPhone&quot;, phoneNumber);\n                            editor.putString(&quot;contactEmail&quot;, contactEmail);\n                            editor.putInt(&quot;amountDue&quot;, Integer.valueOf(Amount));\n                            editor.putInt(&quot;curDate&quot;, Integer.valueOf(CurDate));\n                            editor.putInt(&quot;dateDue&quot;, Integer.valueOf(DueDate));\n                            editor.putInt(&quot;curTime&quot;, Integer.valueOf(TimeCur));\n                            editor.putInt(&quot;timeDue&quot;, Integer.valueOf(TimeDue));\n                            editor.putString(&quot;DoneImport&quot;, &quot;TRUE&quot;);\n                            editor.apply();\n\n                            //Log.i(&quot;IMPORT IS DONE&quot;, doneImport);\n\n                        }\n                    }\n                    // on below line we are closing our phone cursor.\n                    phoneCursor.close();\n                }\n            }\n        }\n        // on below line we are closing our cursor.\n        cursor.close();\n        // on below line we are hiding our progress bar and notifying our adapter class.\n        loadingPB.setVisibility(View.GONE);\n        contactRVAdapter.notifyDataSetChanged();\n    }\n}\n</code></pre>\n<p>Why would this run fine on a emulator and not a android phone I have?\nNo crash log either when running on phone.</p>\n<p>Crash Log</p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.example.myan, PID: 7677\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myan/com.example.myan.HomePage}: java.lang.IllegalArgumentException: File Keaton/Matty.xml contains a path separator\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4166)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4312)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2571)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:226)\n    at android.os.Looper.loop(Looper.java:313)\n    at android.app.ActivityThread.main(ActivityThread.java:8741)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\nCaused by: java.lang.IllegalArgumentException: File Keaton/Matty.xml contains a path separator\n    at android.app.ContextImpl.makeFilename(ContextImpl.java:3555)\n    at android.app.ContextImpl.getSharedPreferencesPath(ContextImpl.java:975)\n    at android.app.ContextImpl.getSharedPreferences(ContextImpl.java:573)\n    at android.content.ContextWrapper.getSharedPreferences(ContextWrapper.java:226)\n    at com.example.myan.HomePage.getContacts(HomePage.java:273)\n    at com.example.myan.HomePage.access$100(HomePage.java:39)\n    at com.example.myan.HomePage$4.onPermissionsChecked(HomePage.java:159)\n    at com.karumi.dexter.DexterInstance$1.run(Unknown Source:43)\n    at com.karumi.dexter.MainThread.execute(Unknown Source:6)\n    at com.karumi.dexter.DexterInstance.checkMultiplePermissions(Unknown Source:71)\n    at com.karumi.dexter.DexterInstance.checkPermissions(Unknown Source:0)\n    at com.karumi.dexter.Dexter.check(Unknown Source:10)\n    at com.example.myan.HomePage.requestPermissions(HomePage.java:187)\n    at com.example.myan.HomePage.onCreate(HomePage.java:69)\n    at android.app.Activity.performCreate(Activity.java:8578)\n    at android.app.Activity.performCreate(Activity.java:8557)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4147)\n</code></pre>\n"},{"tags":["java","arrays","loops","sorting"],"comments":[{"owner":{"account_id":4753576,"reputation":622,"user_id":3842946,"display_name":"name not found"},"score":1,"creation_date":1585741072,"post_id":60969911,"comment_id":107866994,"body_markdown":"`Math.log10()` depends on the value. just print out `Math.log10(arr[i])` for each value in your array. then you will see why its sorted that way.","body":"<code>Math.log10()</code> depends on the value. just print out <code>Math.log10(arr[i])</code> for each value in your array. then you will see why its sorted that way."},{"owner":{"account_id":17078511,"reputation":83,"user_id":12357545,"display_name":"javabeginner"},"score":0,"creation_date":1585751717,"post_id":60969911,"comment_id":107873275,"body_markdown":"how would I change the code to reflect a rounded int instead of a decimal? I tried rounding up using Math.ceil() method and that works perfectly for this array but a longer array, for example, {394, 8060, 13, 244, 11723, 10, 203, 31465, 1145, 3135} does not work","body":"how would I change the code to reflect a rounded int instead of a decimal? I tried rounding up using Math.ceil() method and that works perfectly for this array but a longer array, for example, {394, 8060, 13, 244, 11723, 10, 203, 31465, 1145, 3135} does not work"},{"owner":{"account_id":4753576,"reputation":622,"user_id":3842946,"display_name":"name not found"},"score":0,"creation_date":1585756269,"post_id":60969911,"comment_id":107876066,"body_markdown":"I added an answer. hope it helps you.","body":"I added an answer. hope it helps you."}],"answers":[{"tags":[],"owner":{"account_id":4753576,"reputation":622,"user_id":3842946,"display_name":"name not found"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1585759365,"creation_date":1585756239,"answer_id":60975024,"question_id":60969911,"body_markdown":"The easiest way to find the length of the number is to convert it into a `String` and then call the method `length` on it.\r\n\r\n```java\r\nint number = 123;\r\nString numberAsString = String.valueOf(number);\r\nint length = numberAsString.length(); // returns 3\r\n```\r\n\r\nBut you also could do it by division. The following method takes a number and divides by multiples of `10`.\r\n\r\n- divide by 1 (we have at least a length of 1)\r\n- division by 10 &gt; 0 (we have at least a length of 2)\r\n- division by 100 &gt; 0 (we have at least a length of 3)\r\n- ...\r\n\r\nthe variable `i` is used as dividend and the variable `j` is used as counter. `j` counts the length of the number.\r\n\r\nAs soon as `number / i` equals zero we return the counter value.\r\n\r\n```java\r\npublic int lengthOfNumber(int number) {\r\n    if (number == 0) {\r\n        return 1;\r\n    }\r\n    for (int i = 1, j = 0; ; i *= 10, j++) {\r\n        if (number / i == 0) {\r\n            return j;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThere are multiple ways to sort the array. Here are some examples (I used the string version for comparing the values).\r\n\r\n## Use nested for-loop\r\n\r\n```java\r\npublic void sortArray(int[] array) {\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        int swapIndex = -1;\r\n        int maxLength = String.valueOf(array[i]).length();\r\n        for(int j = i + 1; j &lt; array.length; j++) {\r\n            int length2 = String.valueOf(array[j]).length();\r\n            if (maxLength &lt; length2) {\r\n                maxLength = length2;\r\n                swapIndex = j;\r\n            }\r\n        }\r\n\r\n        if (swapIndex &gt; -1) {\r\n            int temp = array[i];\r\n            array[i] = array[swapIndex];\r\n            array[swapIndex] = temp;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI used a variable `swapIndex` which is initialized with `-1`. This way we can avoid unnecessary array operations.\r\nWe take the first element in the outer for-loop and go through the rest of the array in the inner for-loop. we only save a new `swapIndex` if there is a number in the rest of the array with a higher length. if there is no number with a higher length, `swapIndex` remains `-1`. We do a possible swap only in the outer for-loop if necessary (if `swapIndex` was set).\r\n\r\n## Using Arrays.sort()\r\n\r\nIf you want to use `Arrays.sort` you need to convert your array from primitive type `int` to `Integer`. \r\n\r\n```java\r\npublic void sortArray(Integer[] array) {\r\n    Arrays.sort(array, (o1, o2) -&gt; {\r\n        Integer length1 = String.valueOf(o1).length();\r\n        Integer length2 = String.valueOf(o2).length();\r\n        return length2.compareTo(length1);\r\n    });\r\n}\r\n```\r\n\r\n## Using a recursive method\r\n\r\n```java\r\npublic void sortArray(int[] array) {\r\n    for (int i = 0; i &lt; array.length - 1; i++) {\r\n        String current = String.valueOf(array[i]);\r\n        String next = String.valueOf(array[i + 1]);\r\n\r\n        if (current.length() &lt; next.length()) {\r\n            int temp = array[i];\r\n            array[i] = array[i + 1];\r\n            array[i + 1] = temp;\r\n\r\n            // here you do a recursive call\r\n            sortArray(array);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Sorting an array by number of digits in each element from largest to smallest using loops java","body":"<p>The easiest way to find the length of the number is to convert it into a <code>String</code> and then call the method <code>length</code> on it.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>int number = 123;\nString numberAsString = String.valueOf(number);\nint length = numberAsString.length(); // returns 3\n</code></pre>\n\n<p>But you also could do it by division. The following method takes a number and divides by multiples of <code>10</code>.</p>\n\n<ul>\n<li>divide by 1 (we have at least a length of 1)</li>\n<li>division by 10 > 0 (we have at least a length of 2)</li>\n<li>division by 100 > 0 (we have at least a length of 3)</li>\n<li>...</li>\n</ul>\n\n<p>the variable <code>i</code> is used as dividend and the variable <code>j</code> is used as counter. <code>j</code> counts the length of the number.</p>\n\n<p>As soon as <code>number / i</code> equals zero we return the counter value.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public int lengthOfNumber(int number) {\n    if (number == 0) {\n        return 1;\n    }\n    for (int i = 1, j = 0; ; i *= 10, j++) {\n        if (number / i == 0) {\n            return j;\n        }\n    }\n}\n</code></pre>\n\n<p>There are multiple ways to sort the array. Here are some examples (I used the string version for comparing the values).</p>\n\n<h2>Use nested for-loop</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void sortArray(int[] array) {\n    for (int i = 0; i &lt; array.length; i++) {\n        int swapIndex = -1;\n        int maxLength = String.valueOf(array[i]).length();\n        for(int j = i + 1; j &lt; array.length; j++) {\n            int length2 = String.valueOf(array[j]).length();\n            if (maxLength &lt; length2) {\n                maxLength = length2;\n                swapIndex = j;\n            }\n        }\n\n        if (swapIndex &gt; -1) {\n            int temp = array[i];\n            array[i] = array[swapIndex];\n            array[swapIndex] = temp;\n        }\n    }\n}\n</code></pre>\n\n<p>I used a variable <code>swapIndex</code> which is initialized with <code>-1</code>. This way we can avoid unnecessary array operations.\nWe take the first element in the outer for-loop and go through the rest of the array in the inner for-loop. we only save a new <code>swapIndex</code> if there is a number in the rest of the array with a higher length. if there is no number with a higher length, <code>swapIndex</code> remains <code>-1</code>. We do a possible swap only in the outer for-loop if necessary (if <code>swapIndex</code> was set).</p>\n\n<h2>Using Arrays.sort()</h2>\n\n<p>If you want to use <code>Arrays.sort</code> you need to convert your array from primitive type <code>int</code> to <code>Integer</code>. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void sortArray(Integer[] array) {\n    Arrays.sort(array, (o1, o2) -&gt; {\n        Integer length1 = String.valueOf(o1).length();\n        Integer length2 = String.valueOf(o2).length();\n        return length2.compareTo(length1);\n    });\n}\n</code></pre>\n\n<h2>Using a recursive method</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void sortArray(int[] array) {\n    for (int i = 0; i &lt; array.length - 1; i++) {\n        String current = String.valueOf(array[i]);\n        String next = String.valueOf(array[i + 1]);\n\n        if (current.length() &lt; next.length()) {\n            int temp = array[i];\n            array[i] = array[i + 1];\n            array[i + 1] = temp;\n\n            // here you do a recursive call\n            sortArray(array);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17078511,"reputation":83,"user_id":12357545,"display_name":"javabeginner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60975024,"answer_count":1,"score":0,"last_activity_date":1671788798,"creation_date":1585740821,"question_id":60969911,"body_markdown":"I&#39;m trying to sort an array by the number of digits in each element from largest to smallest. This technically works but it seems to sort the array by value as well. For example, instead of printing out 1234 700 234 80 52, it should print 1234 234 700 52 80 as 234 is before 700 in the original array.\r\n```\r\npublic class Sort {    \r\n    public static void main(String[] args) {        \r\n        //Initialize array     \r\n        int [] arr = new int [] {52, 234, 80, 700, 1234};     \r\n        int temp = 0;    \r\n            \r\n        //Displaying elements of original array    \r\n        System.out.println(&quot;Elements of original array: &quot;);    \r\n        for (int i = 0; i &lt; arr.length; i++) {     \r\n            System.out.print(arr[i] + &quot; &quot;);    \r\n        }    \r\n            \r\n        //Sort the array in descending order\r\n        //Math function is used to find length of each element    \r\n        for (int i = 0; i &lt; arr.length; i++) {    \r\n            for (int j = i+1; j &lt; arr.length; j++) {     \r\n               if(Math.log10(arr[i]) + 1 &lt; Math.log10(arr[j]) + 1) {    \r\n                   temp = arr[i];    \r\n                   arr[i] = arr[j];    \r\n                   arr[j] = temp;    \r\n               }     \r\n            }     \r\n        }    \r\n            \r\n        System.out.println();    \r\n            \r\n        //Displaying elements of array after sorting    \r\n        System.out.println(&quot;Elements of array sorted in descending order: &quot;);    \r\n        for (int i = 0; i &lt; arr.length; i++) {     \r\n            System.out.print(arr[i] + &quot; &quot;);    \r\n        }    \r\n    }    \r\n}","title":"Sorting an array by number of digits in each element from largest to smallest using loops java","body":"<p>I'm trying to sort an array by the number of digits in each element from largest to smallest. This technically works but it seems to sort the array by value as well. For example, instead of printing out 1234 700 234 80 52, it should print 1234 234 700 52 80 as 234 is before 700 in the original array.</p>\n\n<pre><code>public class Sort {    \n    public static void main(String[] args) {        \n        //Initialize array     \n        int [] arr = new int [] {52, 234, 80, 700, 1234};     \n        int temp = 0;    \n\n        //Displaying elements of original array    \n        System.out.println(\"Elements of original array: \");    \n        for (int i = 0; i &lt; arr.length; i++) {     \n            System.out.print(arr[i] + \" \");    \n        }    \n\n        //Sort the array in descending order\n        //Math function is used to find length of each element    \n        for (int i = 0; i &lt; arr.length; i++) {    \n            for (int j = i+1; j &lt; arr.length; j++) {     \n               if(Math.log10(arr[i]) + 1 &lt; Math.log10(arr[j]) + 1) {    \n                   temp = arr[i];    \n                   arr[i] = arr[j];    \n                   arr[j] = temp;    \n               }     \n            }     \n        }    \n\n        System.out.println();    \n\n        //Displaying elements of array after sorting    \n        System.out.println(\"Elements of array sorted in descending order: \");    \n        for (int i = 0; i &lt; arr.length; i++) {     \n            System.out.print(arr[i] + \" \");    \n        }    \n    }    \n}\n</code></pre>\n"},{"tags":["java","minecraft-forge"],"owner":{"account_id":19398957,"reputation":5,"user_id":14185965,"display_name":"ieh_hei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671788793,"creation_date":1671501749,"question_id":74857833,"body_markdown":"I have a mod that is not executing receive packet events when I run \r\n\r\n    @Cancelable  public class ReceivePacketEvent extends Event {  public Packet&lt;?&gt; packet;  public ReceivePacketEvent(Packet&lt;?&gt; packet) {  System.out.println(&quot;PKT&quot;);  this.packet = packet;  }  }\r\n\r\n \r\n\r\nNothing will happen. Other events will work like on render or tick event but packet wont work. for reference I&#39;m using this mod in a server\r\n\r\nI get an error seemingly randomly that looks like this and im not sure where it comes from or if it affects the packet event so id say im lost\r\n\r\n&gt;     [01:22:45] [main/FATAL] (Minecraft) Error executing task\r\n&gt;      java.util.concurrent.ExecutionException: java.lang.NullPointerException\r\n&gt;         at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[?:1.8.0_351]\r\n&gt;         at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[?:1.8.0_351]\r\n&gt;         at net.minecraft.util.Util.runTask(Util.java:43) [Util.class:?]\r\n&gt;         at net.minecraft.client.Minecraft.runGameLoop(Minecraft.java:987) [Minecraft.class:?]\r\n&gt;         at net.minecraft.client.Minecraft.run(Minecraft.java:443) [Minecraft.class:?]\r\n&gt;         at net.minecraft.client.main.Main.main(Main.java:111) [Main.class:?]\r\n&gt;         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n&gt;         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\r\n&gt;         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\r\n&gt;         at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\r\n&gt;         at net.minecraft.launchwrapper.Launch.launch(Launch.java:135) [launchwrapper-1.12.jar:?]\r\n&gt;         at net.minecraft.launchwrapper.Launch.main(Launch.java:28) [launchwrapper-1.12.jar:?]\r\n&gt;         at net.fabricmc.devlaunchinjector.Main.main(Main.java:86) [dev-launch-injector-0.2.1+build.8.jar:?]\r\n&gt;     Caused by: java.lang.NullPointerException\r\n&gt;         at net.minecraft.scoreboard.Scoreboard.removeTeam(Scoreboard.java:240) ~[Scoreboard.class:?]\r\n&gt;         at net.minecraft.client.network.NetHandlerPlayClient.handleTeams(NetHandlerPlayClient.java:1452) ~[NetHandlerPlayClient.class:?]\r\n&gt;         at net.minecraft.network.play.server.S3EPacketTeams.processPacket(S3EPacketTeams.java:114) ~[S3EPacketTeams.class:?]\r\n&gt;         at net.minecraft.network.play.server.S3EPacketTeams.processPacket(S3EPacketTeams.java:36) ~[S3EPacketTeams.class:?]\r\n&gt;         at net.minecraft.network.PacketThreadUtil$1.run(PacketThreadUtil.java:24) ~[PacketThreadUtil$1.class:?]\r\n&gt;         at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_351]\r\n&gt;         at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_351]\r\n&gt;         at net.minecraft.util.Util.runTask(Util.java:42) ~[Util.class:?]\r\n&gt;         ... 10 more","title":"ReceivePacketEvent not triggering","body":"<p>I have a mod that is not executing receive packet events when I run</p>\n<pre><code>@Cancelable  public class ReceivePacketEvent extends Event {  public Packet&lt;?&gt; packet;  public ReceivePacketEvent(Packet&lt;?&gt; packet) {  System.out.println(&quot;PKT&quot;);  this.packet = packet;  }  }\n</code></pre>\n<p>Nothing will happen. Other events will work like on render or tick event but packet wont work. for reference I'm using this mod in a server</p>\n<p>I get an error seemingly randomly that looks like this and im not sure where it comes from or if it affects the packet event so id say im lost</p>\n<blockquote>\n<pre><code>[01:22:45] [main/FATAL] (Minecraft) Error executing task\n java.util.concurrent.ExecutionException: java.lang.NullPointerException\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[?:1.8.0_351]\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[?:1.8.0_351]\n    at net.minecraft.util.Util.runTask(Util.java:43) [Util.class:?]\n    at net.minecraft.client.Minecraft.runGameLoop(Minecraft.java:987) [Minecraft.class:?]\n    at net.minecraft.client.Minecraft.run(Minecraft.java:443) [Minecraft.class:?]\n    at net.minecraft.client.main.Main.main(Main.java:111) [Main.class:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\n    at net.minecraft.launchwrapper.Launch.launch(Launch.java:135) [launchwrapper-1.12.jar:?]\n    at net.minecraft.launchwrapper.Launch.main(Launch.java:28) [launchwrapper-1.12.jar:?]\n    at net.fabricmc.devlaunchinjector.Main.main(Main.java:86) [dev-launch-injector-0.2.1+build.8.jar:?]\nCaused by: java.lang.NullPointerException\n    at net.minecraft.scoreboard.Scoreboard.removeTeam(Scoreboard.java:240) ~[Scoreboard.class:?]\n    at net.minecraft.client.network.NetHandlerPlayClient.handleTeams(NetHandlerPlayClient.java:1452) ~[NetHandlerPlayClient.class:?]\n    at net.minecraft.network.play.server.S3EPacketTeams.processPacket(S3EPacketTeams.java:114) ~[S3EPacketTeams.class:?]\n    at net.minecraft.network.play.server.S3EPacketTeams.processPacket(S3EPacketTeams.java:36) ~[S3EPacketTeams.class:?]\n    at net.minecraft.network.PacketThreadUtil$1.run(PacketThreadUtil.java:24) ~[PacketThreadUtil$1.class:?]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_351]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_351]\n    at net.minecraft.util.Util.runTask(Util.java:42) ~[Util.class:?]\n    ... 10 more\n</code></pre>\n</blockquote>\n"},{"tags":["java","selenium","xpath","iframe","css-selectors"],"answers":[{"tags":[],"owner":{"account_id":12016659,"reputation":8089,"user_id":8791568,"display_name":"Mate Mrše"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671701608,"creation_date":1671701608,"answer_id":74886554,"question_id":74886494,"body_markdown":"You can get the rating button with css selector\r\n\r\n    By.cssSelector(&quot;input[value=&#39;x&#39;]&quot;)\r\n\r\nwhere x = 0, 1, 2...","title":"How to get Id from feedback button selenium java","body":"<p>You can get the rating button with css selector</p>\n<pre><code>By.cssSelector(&quot;input[value='x']&quot;)\n</code></pre>\n<p>where x = 0, 1, 2...</p>\n"},{"tags":[],"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671703425,"creation_date":1671703425,"answer_id":74886884,"question_id":74886494,"body_markdown":"You are trying to click on the element which is **inside cross-origin iframe**\r\n\r\nYou need to switch the frame and then click on the element \r\n\r\nyou can switch using following way\r\n\r\n    driver.switchTo().frame(&quot;Your_frame_ID&quot;);\r\n\r\n","title":"How to get Id from feedback button selenium java","body":"<p>You are trying to click on the element which is <strong>inside cross-origin iframe</strong></p>\n<p>You need to switch the frame and then click on the element</p>\n<p>you can switch using following way</p>\n<pre><code>driver.switchTo().frame(&quot;Your_frame_ID&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671711653,"creation_date":1671711653,"answer_id":74888463,"question_id":74886494,"body_markdown":"The feedback scoring form is inside an iframe. So, after landing on that page and closing the cookies banner and clicking the feedback button you need to switch into that iframe. There you can select the feedback score, send the feedback and close the dialog as shown in the code below. Finally you need to switch to the default content.  \r\nThe following code works\r\n```java\r\ndriver.get(&quot;https://store.liverpoolfc.com/&quot;);\r\nWebdriverUtils.clickVisible(driver,By.id(&quot;onetrust-accept-btn-handler&quot;));\r\nWebdriverUtils.clickVisible(driver,By.id(&quot;nebula_div_btn&quot;));\r\ndriver.switchTo().frame(driver.findElement(By.cssSelector(&quot;iframe[id*=&#39;kampyleForm&#39;]&quot;)));\r\nWebdriverUtils.clickVisible(driver,By.xpath(&quot;//label[contains(@class,&#39;rating-label&#39;)][contains(.,&#39;6&#39;)]&quot;));\r\nWebdriverUtils.clickVisible(driver,By.cssSelector(&quot;.panel-footer-web .submit-btn&quot;));\r\nWebdriverUtils.clickVisible(driver,By.cssSelector(&quot;button[aria-label=&#39;Close Survey&#39;]&quot;));\r\ndriver.switchTo().defaultContent();\r\n```\r\nThe method I used here `clickVisible` is implemented as following:\r\n```java\r\npublic static boolean clickVisible(WebDriver driver, By locator, int timeout) {\r\n    try {\r\n        Wait&lt;WebDriver&gt; wait = new WebDriverWait(driver, timeout);\r\n        wait.until(ExpectedConditions.visibilityOfElementLocated(locator)).click();\r\n        return true;\r\n    } catch (Exception e) {\r\n        ConsoleLogger.error(&quot;Failed to click on element&quot; + e.getMessage());\r\n        return false;\r\n    }\r\n}\r\n```\r\n```java\r\npublic static boolean clickVisible(WebDriver driver, By locator) {\r\n    return clickVisible(driver, locator, 30);\r\n}\r\n```","title":"How to get Id from feedback button selenium java","body":"<p>The feedback scoring form is inside an iframe. So, after landing on that page and closing the cookies banner and clicking the feedback button you need to switch into that iframe. There you can select the feedback score, send the feedback and close the dialog as shown in the code below. Finally you need to switch to the default content.<br />\nThe following code works</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.get(&quot;https://store.liverpoolfc.com/&quot;);\nWebdriverUtils.clickVisible(driver,By.id(&quot;onetrust-accept-btn-handler&quot;));\nWebdriverUtils.clickVisible(driver,By.id(&quot;nebula_div_btn&quot;));\ndriver.switchTo().frame(driver.findElement(By.cssSelector(&quot;iframe[id*='kampyleForm']&quot;)));\nWebdriverUtils.clickVisible(driver,By.xpath(&quot;//label[contains(@class,'rating-label')][contains(.,'6')]&quot;));\nWebdriverUtils.clickVisible(driver,By.cssSelector(&quot;.panel-footer-web .submit-btn&quot;));\nWebdriverUtils.clickVisible(driver,By.cssSelector(&quot;button[aria-label='Close Survey']&quot;));\ndriver.switchTo().defaultContent();\n</code></pre>\n<p>The method I used here <code>clickVisible</code> is implemented as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean clickVisible(WebDriver driver, By locator, int timeout) {\n    try {\n        Wait&lt;WebDriver&gt; wait = new WebDriverWait(driver, timeout);\n        wait.until(ExpectedConditions.visibilityOfElementLocated(locator)).click();\n        return true;\n    } catch (Exception e) {\n        ConsoleLogger.error(&quot;Failed to click on element&quot; + e.getMessage());\n        return false;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean clickVisible(WebDriver driver, By locator) {\n    return clickVisible(driver, locator, 30);\n}\n</code></pre>\n"}],"owner":{"account_id":22040484,"reputation":47,"user_id":16306323,"display_name":"loranni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74888463,"answer_count":3,"score":1,"last_activity_date":1671788095,"creation_date":1671701186,"question_id":74886494,"body_markdown":"In the https://store.liverpoolfc.com/ home page there is feedback button on right side, I managed to click and open feedback modal but cant get Id of rating button, I tried to add id, classname, xpath, csselector of input in feedback but its not working.\r\n\r\nHere is my code: \r\n\r\n    By acceptCookies = By.id(&quot;onetrust-accept-btn-handler&quot;);\r\n    By feedbackHomeBtn = By.id(&quot;nebula_div_btn&quot;);\r\n    By frame = By.cssSelector(&quot;iframe[id*=&#39;kampyleForm&#39;]&quot;);\r\n    By label = By.xpath(&quot;//label[contains(@class,&#39;rating-label&#39;)][contains(.,&#39;8&#39;)]&quot;);\r\n    By submitBtn = By.cssSelector(&quot;.panel-footer-web .submit-btn&quot;);\r\n    By closeBtn = By.cssSelector(&quot;button[aria-label=&#39;Close Survey&#39;]&quot;);\r\n   \r\n   \r\n\r\n    public void acceptCookies(){\r\n        try{\r\n            driver.findElement(acceptCookies).click();\r\n        }catch(Exception e){\r\n            System.out.println(&quot;Exceptions Caught&quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    \r\n    public void feedbackFuncionality(){\r\n        try{\r\n            driver.findElement(feedbackHomeBtn).click();\r\n            driver.switchTo().frame(driver.findElement(frame));\r\n            driver.findElement(label).click();\r\n            driver.findElement(submitBtn).click();\r\n            driver.findElement(closeBtn).click();\r\n            driver.switchTo().defaultContent();\r\n\r\n        }catch(Exception e){\r\n            System.out.println(&quot;Exceptions Caught&quot; + e.getMessage());\r\n        }\r\n    }\r\nAnd code in test.java\r\n\r\n        @BeforeTest\r\n    public void beforeTest(){\r\n        WebDriverManager.chromedriver().setup();\r\n        driver = new ChromeDriver();\r\n        driver.manage().window().maximize();\r\n\r\n        driver.get(url);    \r\n    }\r\n\r\n    \r\n    @Test\r\n    public void feedbackClick() {\r\n        FeedBackPage feedBackPage = new FeedBackPage(driver);\r\n        try {\r\n            feedBackPage.acceptCookies();\r\n            Thread.sleep(5000);\r\n            feedBackPage.feedbackFuncionality();\r\n            Thread.sleep(3000);\r\n        } catch (InterruptedException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    @AfterTest\r\n    public void afterTest(){\r\n        driver.quit();\r\n    }\r\n\r\nI need to open feedback modal and click on rating btn between 1 and 10. Can anyone give me some hints how to get this id? Thanks","title":"How to get Id from feedback button selenium java","body":"<p>In the <a href=\"https://store.liverpoolfc.com/\" rel=\"nofollow noreferrer\">https://store.liverpoolfc.com/</a> home page there is feedback button on right side, I managed to click and open feedback modal but cant get Id of rating button, I tried to add id, classname, xpath, csselector of input in feedback but its not working.</p>\n<p>Here is my code:</p>\n<pre><code>By acceptCookies = By.id(&quot;onetrust-accept-btn-handler&quot;);\nBy feedbackHomeBtn = By.id(&quot;nebula_div_btn&quot;);\nBy frame = By.cssSelector(&quot;iframe[id*='kampyleForm']&quot;);\nBy label = By.xpath(&quot;//label[contains(@class,'rating-label')][contains(.,'8')]&quot;);\nBy submitBtn = By.cssSelector(&quot;.panel-footer-web .submit-btn&quot;);\nBy closeBtn = By.cssSelector(&quot;button[aria-label='Close Survey']&quot;);\n\n\n\npublic void acceptCookies(){\n    try{\n        driver.findElement(acceptCookies).click();\n    }catch(Exception e){\n        System.out.println(&quot;Exceptions Caught&quot; + e.getMessage());\n    }\n}\n\n\npublic void feedbackFuncionality(){\n    try{\n        driver.findElement(feedbackHomeBtn).click();\n        driver.switchTo().frame(driver.findElement(frame));\n        driver.findElement(label).click();\n        driver.findElement(submitBtn).click();\n        driver.findElement(closeBtn).click();\n        driver.switchTo().defaultContent();\n\n    }catch(Exception e){\n        System.out.println(&quot;Exceptions Caught&quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>And code in test.java</p>\n<pre><code>    @BeforeTest\npublic void beforeTest(){\n    WebDriverManager.chromedriver().setup();\n    driver = new ChromeDriver();\n    driver.manage().window().maximize();\n\n    driver.get(url);    \n}\n\n\n@Test\npublic void feedbackClick() {\n    FeedBackPage feedBackPage = new FeedBackPage(driver);\n    try {\n        feedBackPage.acceptCookies();\n        Thread.sleep(5000);\n        feedBackPage.feedbackFuncionality();\n        Thread.sleep(3000);\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n}\n\n@AfterTest\npublic void afterTest(){\n    driver.quit();\n}\n</code></pre>\n<p>I need to open feedback modal and click on rating btn between 1 and 10. Can anyone give me some hints how to get this id? Thanks</p>\n"},{"tags":["java","spring","testing","junit5"],"owner":{"account_id":15723245,"reputation":99,"user_id":11345613,"display_name":"ashil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671787629,"creation_date":1671787629,"question_id":74898076,"body_markdown":"   When i write Junit tests for checking exception in my spring boot app , i&#39;m getting exception message as below\r\n\r\n    \r\n\r\n&gt; 404 Not Found: [no body]\r\n\r\nHow to remove [no body] from my response\r\n\r\n\r\n**my test case**\r\n\r\n        @Test\r\n        public void whenLogout_thenReturnError(){\r\n          mockServer.except(requestTo(MY_URL))\r\n                   .andExcept(method(POST))\r\n                   .andRespond(withStatus(HttpStatus.NOT_FOUND));\r\n         try{\r\n            service.logout(ACCESS_TOKEN);\r\n            fail(&quot;Should Throw Exception&quot;);\r\n         }catch(CustomError e){\r\n            mockServer.verify();\r\n            assertEquals(&quot;404 Not Found&quot;,e.getCause().getMessage());\r\n         }\r\n    }\r\n\r\n**CustomError**\r\n\r\n    public class CustomError extends RuntimeException{\r\n    \r\n    private final CustomErrorCode code;\r\n    \r\n    public CustomError(WebMailErrorCode code){\r\n        super(code.message());\r\n        this.code = code;\r\n    }\r\n    \r\n    public WebMailError(CustomErrorCode code,Exception e){\r\n        super(code.message(),e);\r\n        this.code = code;\r\n    }\r\n\r\n    public CustomErrorCode getCode() {\r\n        return code;\r\n    }\r\n}\r\n\r\n\r\n","title":"I&#39;m getting [no body] from exception message in spring boot application, how to remove it","body":"<p>When i write Junit tests for checking exception in my spring boot app , i'm getting exception message as below</p>\n<blockquote>\n<p>404 Not Found: [no body]</p>\n</blockquote>\n<p>How to remove [no body] from my response</p>\n<p><strong>my test case</strong></p>\n<pre><code>    @Test\n    public void whenLogout_thenReturnError(){\n      mockServer.except(requestTo(MY_URL))\n               .andExcept(method(POST))\n               .andRespond(withStatus(HttpStatus.NOT_FOUND));\n     try{\n        service.logout(ACCESS_TOKEN);\n        fail(&quot;Should Throw Exception&quot;);\n     }catch(CustomError e){\n        mockServer.verify();\n        assertEquals(&quot;404 Not Found&quot;,e.getCause().getMessage());\n     }\n}\n</code></pre>\n<p><strong>CustomError</strong></p>\n<pre><code>public class CustomError extends RuntimeException{\n\nprivate final CustomErrorCode code;\n\npublic CustomError(WebMailErrorCode code){\n    super(code.message());\n    this.code = code;\n}\n\npublic WebMailError(CustomErrorCode code,Exception e){\n    super(code.message(),e);\n    this.code = code;\n}\n\npublic CustomErrorCode getCode() {\n    return code;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","parallel-processing","java-stream"],"owner":{"account_id":27334228,"reputation":11,"user_id":20845915,"display_name":"jka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671787442,"creation_date":1671787442,"question_id":74898038,"body_markdown":"I have troubles with making readable and highly parallelized pipeline in Java.\r\n\r\nBackground: I have ~10 step pipeline. Some steps call libraries, that do their own locking and admission controls (esp. for remote calls). I&#39;d like to maximize the parallelism while preserving readability.\r\n\r\nMy implementation does it using Java streams:\r\n```\r\nreturn Stream\r\n  .of(&quot;some input&quot;)\r\n  .parallel()\r\n  .map(x -&gt; step1(param, x))\r\n  .flatMap(Util2::step2)\r\n  .map(Util3::step3)\r\n  .flatMap(Util4::step4)\r\n  .flatMap(Util5::step5)\r\n  .map(x -&gt; step6(x, somethingElse))\r\n  // few more steps\r\n  .toList();\r\n```\r\nI really like the way this is expressed and it would probably work as expected if it didn&#39;t contain admission controls on the library level. Maybe because of that, it seems it&#39;s not utilizing CPU to the fullest and whole pipeline is really slow.\r\n\r\n\r\nMy load average is around 0.6 when running, so my system has performance to do more. I know `step1` itself is fast, when I shorten the pipeline to do just that. Even then, I can see only first element of `step1` to go to `step2` for pretty long time - I guess it has to complete pipeline for that element before starting with the next one. Maybe it goes &quot;DFS&quot;.\r\n\r\nWhat I also tried:\r\n```\r\n// Shows still the same thread confirming my suspicion.\r\nSystem.out.println(&quot;We&#39;re in &quot; + Thread.currentThread().getName());\r\n```\r\n\r\nAnd I also tried using a different executor, but it seems it also has no effects whatsoever, also confirmed by me getting thread names:\r\n```\r\nvar executor = Executors.newFixedThreadPool(100);\r\nvar maybeResult = executor.submit(() -&gt; Stream\r\n  .of(&quot;some input&quot;)\r\n  .parallel()\r\n  .map(x -&gt; step1(param, x))\r\n  .flatMap(Util2::step2)\r\n  ... and so on);\r\nreturn maybeResult.get();\r\n```\r\nI considered running custom thread for each step; one would also flatten the lists and so on. But it&#39;s much less readable when I just start writing that. And it&#39;s a lot of work.\r\n\r\nI also tried using Flux from project reactor and the result seems to be the same. \r\n\r\nIdea profiler shows me CPU usage (as far as I know/see) and thus is useless.\r\n\r\nTo exclude some issues in my setup:\r\nI am running on 8 core CPU, running bare-metal on Ubuntu. Java program is directly executed from Idea, running Java Correto 17. And I&#39;m running it as `@ShellMethod` from Spring Boot currently.\r\nI try to keep my settings as default as possible, but I have pretty large system, so I cannot isolate it properly.\r\nSuggesting debugging tools to find out what&#39;s blocking it, other frameworks or design is fine, I only cannot rewrite all the APIs.","title":"Parallelization of multi-step pipeline","body":"<p>I have troubles with making readable and highly parallelized pipeline in Java.</p>\n<p>Background: I have ~10 step pipeline. Some steps call libraries, that do their own locking and admission controls (esp. for remote calls). I'd like to maximize the parallelism while preserving readability.</p>\n<p>My implementation does it using Java streams:</p>\n<pre><code>return Stream\n  .of(&quot;some input&quot;)\n  .parallel()\n  .map(x -&gt; step1(param, x))\n  .flatMap(Util2::step2)\n  .map(Util3::step3)\n  .flatMap(Util4::step4)\n  .flatMap(Util5::step5)\n  .map(x -&gt; step6(x, somethingElse))\n  // few more steps\n  .toList();\n</code></pre>\n<p>I really like the way this is expressed and it would probably work as expected if it didn't contain admission controls on the library level. Maybe because of that, it seems it's not utilizing CPU to the fullest and whole pipeline is really slow.</p>\n<p>My load average is around 0.6 when running, so my system has performance to do more. I know <code>step1</code> itself is fast, when I shorten the pipeline to do just that. Even then, I can see only first element of <code>step1</code> to go to <code>step2</code> for pretty long time - I guess it has to complete pipeline for that element before starting with the next one. Maybe it goes &quot;DFS&quot;.</p>\n<p>What I also tried:</p>\n<pre><code>// Shows still the same thread confirming my suspicion.\nSystem.out.println(&quot;We're in &quot; + Thread.currentThread().getName());\n</code></pre>\n<p>And I also tried using a different executor, but it seems it also has no effects whatsoever, also confirmed by me getting thread names:</p>\n<pre><code>var executor = Executors.newFixedThreadPool(100);\nvar maybeResult = executor.submit(() -&gt; Stream\n  .of(&quot;some input&quot;)\n  .parallel()\n  .map(x -&gt; step1(param, x))\n  .flatMap(Util2::step2)\n  ... and so on);\nreturn maybeResult.get();\n</code></pre>\n<p>I considered running custom thread for each step; one would also flatten the lists and so on. But it's much less readable when I just start writing that. And it's a lot of work.</p>\n<p>I also tried using Flux from project reactor and the result seems to be the same.</p>\n<p>Idea profiler shows me CPU usage (as far as I know/see) and thus is useless.</p>\n<p>To exclude some issues in my setup:\nI am running on 8 core CPU, running bare-metal on Ubuntu. Java program is directly executed from Idea, running Java Correto 17. And I'm running it as <code>@ShellMethod</code> from Spring Boot currently.\nI try to keep my settings as default as possible, but I have pretty large system, so I cannot isolate it properly.\nSuggesting debugging tools to find out what's blocking it, other frameworks or design is fine, I only cannot rewrite all the APIs.</p>\n"},{"tags":["java","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":1840114,"reputation":43,"user_id":1669693,"display_name":"Иван Ристић Лине"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671787359,"creation_date":1671110508,"answer_id":74812216,"question_id":74811940,"body_markdown":"One of custom libraries was incompatible with Java 17\r\n\r\nIt was a custom library, that used Java 11 &quot;javax&quot;, not Java 17 &quot;jakarta&quot; packages. We rebuilt the library for Java 17. If you have similar problems look for javax packages in libraries that you are using","title":"Spring Boot 3.0.0 Missing implementation of resolved method abstract void doFilterInternal","body":"<p>One of custom libraries was incompatible with Java 17</p>\n<p>It was a custom library, that used Java 11 &quot;javax&quot;, not Java 17 &quot;jakarta&quot; packages. We rebuilt the library for Java 17. If you have similar problems look for javax packages in libraries that you are using</p>\n"}],"owner":{"account_id":1840114,"reputation":43,"user_id":1669693,"display_name":"Иван Ристић Лине"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671787359,"creation_date":1671109239,"question_id":74811940,"body_markdown":"I&#39;m migrating application from Java 11 Spring Boot 2.7.0 to Java 17 Spring Boot 3.0.0 and getting error:\r\n\r\n\r\n\r\n```\r\n2022-12-15T10:06:21.542 INFO  [http-nio-8200-exec-1 ] o.a.c.c.C.[.[.[/]                             line: 173 : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39; \r\n2022-12-15T10:06:21.542 INFO  [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 525 : Initializing Servlet &#39;dispatcherServlet&#39; \r\n2022-12-15T10:06:21.542 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 527 : Detected StandardServletMultipartResolver \r\n2022-12-15T10:06:21.542 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 551 : Detected AcceptHeaderLocaleResolver \r\n2022-12-15T10:06:21.542 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 577 : Detected FixedThemeResolver \r\n2022-12-15T10:06:21.542 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 727 : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6de84336 \r\n2022-12-15T10:06:21.542 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 791 : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1d637673 \r\n2022-12-15T10:06:21.542 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 542 : enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data \r\n2022-12-15T10:06:21.542 INFO  [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 547 : Completed initialization in 0 ms \r\n2022-12-15T10:06:21.589 ERROR [http-nio-8200-exec-1 ] o.a.c.c.C.[.[.[.[dispatcherServlet]           line: 175 : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Filter execution threw an exception] with root cause java.lang.AbstractMethodError: Missing implementation of resolved method &#39;abstract void doFilterInternal(jakarta.servlet.http.HttpServletRequest, jakarta.servlet.http.HttpServletResponse, jakarta.servlet.FilterChain)&#39; of abstract class org.springframework.web.filter.OncePerRequestFilter.\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat java.lang.Thread.run(Thread.java:833) ~[?:?]\r\n\r\n2022-12-15T10:06:21.623 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 119 : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={} \r\n2022-12-15T10:06:21.639 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.m.m.a.RequestMappingHandlerMapping    line: 527 : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse) \r\n2022-12-15T10:06:21.701 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.v.ContentNegotiatingViewResolver      line: 354 : Selected &#39;text/html&#39; given [text/html, text/html;q=0.8] \r\n2022-12-15T10:06:21.717 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line:1124 : Exiting from &quot;ERROR&quot; dispatch, status 500 \r\n2022-12-15T10:06:21.839 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.DispatcherServlet                     line: 119 : GET &quot;/favicon.ico&quot;, parameters={} \r\n2022-12-15T10:06:21.839 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.h.SimpleUrlHandlerMapping             line: 527 : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]] \r\n2022-12-15T10:06:21.854 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.r.ResourceHttpRequestHandler          line: 557 : Resource not found \r\n2022-12-15T10:06:21.854 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.DispatcherServlet                     line:1128 : Completed 404 NOT_FOUND \r\n2022-12-15T10:06:21.870 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.DispatcherServlet                     line: 119 : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={} \r\n2022-12-15T10:06:21.870 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.m.m.a.RequestMappingHandlerMapping    line: 527 : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest) \r\n2022-12-15T10:06:21.901 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.m.m.a.HttpEntityMethodProcessor       line: 275 : Using &#39;application/json&#39;, given [image/avif, image/webp, */*] and supported [application/json, application/*+json] \r\n2022-12-15T10:06:21.903 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.m.m.a.HttpEntityMethodProcessor       line: 119 : Writing [{timestamp=Thu Dec 15 10:06:21 CET 2022, status=404, error=Not Found, path=/favicon.ico}] \r\n2022-12-15T10:06:21.923 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.DispatcherServlet                     line:1124 : Exiting from &quot;ERROR&quot; dispatch, status 404 \r\nDisconnected from the target VM, address: &#39;127.0.0.1:53855&#39;, transport: &#39;socket&#39;\r\n2022-12-15T10:07:41.497 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown                  line:  53 : Commencing graceful shutdown. Waiting for active requests to complete \r\n2022-12-15T10:07:41.505 INFO  [tomcat-shutdown      ] o.s.b.w.e.t.GracefulShutdown                  line:  78 : Graceful shutdown complete \r\n\r\nProcess finished with exit code 130\r\n\r\n```\r\n\r\n\r\n\r\ngetting response from REST API","title":"Spring Boot 3.0.0 Missing implementation of resolved method abstract void doFilterInternal","body":"<p>I'm migrating application from Java 11 Spring Boot 2.7.0 to Java 17 Spring Boot 3.0.0 and getting error:</p>\n<pre><code>2022-12-15T10:06:21.542 INFO  [http-nio-8200-exec-1 ] o.a.c.c.C.[.[.[/]                             line: 173 : Initializing Spring DispatcherServlet 'dispatcherServlet' \n2022-12-15T10:06:21.542 INFO  [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 525 : Initializing Servlet 'dispatcherServlet' \n2022-12-15T10:06:21.542 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 527 : Detected StandardServletMultipartResolver \n2022-12-15T10:06:21.542 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 551 : Detected AcceptHeaderLocaleResolver \n2022-12-15T10:06:21.542 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 577 : Detected FixedThemeResolver \n2022-12-15T10:06:21.542 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 727 : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6de84336 \n2022-12-15T10:06:21.542 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 791 : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1d637673 \n2022-12-15T10:06:21.542 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 542 : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data \n2022-12-15T10:06:21.542 INFO  [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 547 : Completed initialization in 0 ms \n2022-12-15T10:06:21.589 ERROR [http-nio-8200-exec-1 ] o.a.c.c.C.[.[.[.[dispatcherServlet]           line: 175 : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Filter execution threw an exception] with root cause java.lang.AbstractMethodError: Missing implementation of resolved method 'abstract void doFilterInternal(jakarta.servlet.http.HttpServletRequest, jakarta.servlet.http.HttpServletResponse, jakarta.servlet.FilterChain)' of abstract class org.springframework.web.filter.OncePerRequestFilter.\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at java.lang.Thread.run(Thread.java:833) ~[?:?]\n\n2022-12-15T10:06:21.623 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line: 119 : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={} \n2022-12-15T10:06:21.639 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.m.m.a.RequestMappingHandlerMapping    line: 527 : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse) \n2022-12-15T10:06:21.701 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.v.ContentNegotiatingViewResolver      line: 354 : Selected 'text/html' given [text/html, text/html;q=0.8] \n2022-12-15T10:06:21.717 DEBUG [http-nio-8200-exec-1 ] o.s.w.s.DispatcherServlet                     line:1124 : Exiting from &quot;ERROR&quot; dispatch, status 500 \n2022-12-15T10:06:21.839 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.DispatcherServlet                     line: 119 : GET &quot;/favicon.ico&quot;, parameters={} \n2022-12-15T10:06:21.839 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.h.SimpleUrlHandlerMapping             line: 527 : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]] \n2022-12-15T10:06:21.854 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.r.ResourceHttpRequestHandler          line: 557 : Resource not found \n2022-12-15T10:06:21.854 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.DispatcherServlet                     line:1128 : Completed 404 NOT_FOUND \n2022-12-15T10:06:21.870 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.DispatcherServlet                     line: 119 : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={} \n2022-12-15T10:06:21.870 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.m.m.a.RequestMappingHandlerMapping    line: 527 : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest) \n2022-12-15T10:06:21.901 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.m.m.a.HttpEntityMethodProcessor       line: 275 : Using 'application/json', given [image/avif, image/webp, */*] and supported [application/json, application/*+json] \n2022-12-15T10:06:21.903 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.m.m.a.HttpEntityMethodProcessor       line: 119 : Writing [{timestamp=Thu Dec 15 10:06:21 CET 2022, status=404, error=Not Found, path=/favicon.ico}] \n2022-12-15T10:06:21.923 DEBUG [http-nio-8200-exec-2 ] o.s.w.s.DispatcherServlet                     line:1124 : Exiting from &quot;ERROR&quot; dispatch, status 404 \nDisconnected from the target VM, address: '127.0.0.1:53855', transport: 'socket'\n2022-12-15T10:07:41.497 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown                  line:  53 : Commencing graceful shutdown. Waiting for active requests to complete \n2022-12-15T10:07:41.505 INFO  [tomcat-shutdown      ] o.s.b.w.e.t.GracefulShutdown                  line:  78 : Graceful shutdown complete \n\nProcess finished with exit code 130\n\n</code></pre>\n<p>getting response from REST API</p>\n"},{"tags":["java","algorithm","data-structures","time-complexity"],"comments":[{"owner":{"account_id":16450212,"reputation":155,"user_id":11883819,"display_name":"umesh"},"score":0,"creation_date":1671373450,"post_id":74842065,"comment_id":132081390,"body_markdown":"printAll should be O(n) and other operation in O(1)","body":"printAll should be O(n) and other operation in O(1)"},{"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"score":0,"creation_date":1671376851,"post_id":74842065,"comment_id":132082011,"body_markdown":"LinkedHashMap will address this usecase. Refer https://self-learning-java-tutorial.blogspot.com/2015/12/how-linkedhashmap-works-in-java.html","body":"LinkedHashMap will address this usecase. Refer <a href=\"https://self-learning-java-tutorial.blogspot.com/2015/12/how-linkedhashmap-works-in-java.html\" rel=\"nofollow noreferrer\">self-learning-java-tutorial.blogspot.com/2015/12/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671377044,"creation_date":1671375692,"answer_id":74842396,"question_id":74842065,"body_markdown":"It seems like your interviewer was talking about a composite data structure which combines a [*Linked list*][linkedList] and a [*Hash table*][hashtable].\r\n\r\nAnd JDK offers and implementation of such data structure in the form of [`LinkedHashMap`][linkedHashMap], which is basically a combination of a `HashMap` and a `LinkedList`. It&#39;s methods almost as fast as `HashMap`&#39;s ones.\r\n\r\n`LinkedHashMap` capable to perform these operations in amortized **O(1)** time (*only if the Key has a proper hash-function, the worst case would be O(n)*):\r\n\r\n* insertion via `put(key, value)`;\r\n* `containsKey(key)` check;\r\n* updating the value of via `replace(key, value)` and `replace(key,&#160;oldValue,&#160;newValue)`;\r\n* retrieve the values with `get(key)`;\r\n\r\nAnd owing to a `LinkedList` maintained under the hood is, `LinkedHashMap` can can track the insertion order of entries (updating the value of an existing entry has no impact on the order).\r\n\r\nHere&#39;s a quote from the documentation:\r\n\r\n&gt; Hash table and linked list implementation of the Map interface, with predictable iteration order. This implementation differs from HashMap in that it maintains a doubly-linked list running through all of its entries. This linked list defines the iteration ordering, which is normally the order in which keys were inserted into the map (insertion-order).\r\n\r\n\r\n\r\n   [linkedList]: https://en.wikipedia.org/wiki/Linked_list\r\n\r\n   [Hashtable]: https://en.wikipedia.org/wiki/Hash_table\r\n\r\n   [linkedHashMap]: https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/LinkedHashMap.html","title":"Interview Question - Data structure performing CRUD operation in O(1) time and maintaining insertion order","body":"<p>It seems like your interviewer was talking about a composite data structure which combines a <a href=\"https://en.wikipedia.org/wiki/Linked_list\" rel=\"nofollow noreferrer\"><em>Linked list</em></a> and a <a href=\"https://en.wikipedia.org/wiki/Hash_table\" rel=\"nofollow noreferrer\"><em>Hash table</em></a>.</p>\n<p>And JDK offers and implementation of such data structure in the form of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\"><code>LinkedHashMap</code></a>, which is basically a combination of a <code>HashMap</code> and a <code>LinkedList</code>. It's methods almost as fast as <code>HashMap</code>'s ones.</p>\n<p><code>LinkedHashMap</code> capable to perform these operations in amortized <strong>O(1)</strong> time (<em>only if the Key has a proper hash-function, the worst case would be O(n)</em>):</p>\n<ul>\n<li>insertion via <code>put(key, value)</code>;</li>\n<li><code>containsKey(key)</code> check;</li>\n<li>updating the value of via <code>replace(key, value)</code> and <code>replace(key, oldValue, newValue)</code>;</li>\n<li>retrieve the values with <code>get(key)</code>;</li>\n</ul>\n<p>And owing to a <code>LinkedList</code> maintained under the hood is, <code>LinkedHashMap</code> can can track the insertion order of entries (updating the value of an existing entry has no impact on the order).</p>\n<p>Here's a quote from the documentation:</p>\n<blockquote>\n<p>Hash table and linked list implementation of the Map interface, with predictable iteration order. This implementation differs from HashMap in that it maintains a doubly-linked list running through all of its entries. This linked list defines the iteration ordering, which is normally the order in which keys were inserted into the map (insertion-order).</p>\n</blockquote>\n"}],"owner":{"account_id":16450212,"reputation":155,"user_id":11883819,"display_name":"umesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1671447087,"accepted_answer_id":74842396,"answer_count":1,"score":0,"last_activity_date":1671787267,"creation_date":1671373069,"question_id":74842065,"body_markdown":"Recently I have attended an interview as backend developer, and I&#39;ve been asked one the following question:\r\n\r\n&gt; Design a data structure that can perform ***insert***, ***update***, ***remove***, and\r\n&gt; ***contains*** operation in **O(1)** time complexity. \r\n&gt; \r\n&gt; It should allay printing all the elements in **O(n)** time maintaining the **insertion order** of\r\n&gt; elements.\r\n\r\nCan someone please explain which data structure we can use and how that data structure allows to achieve the required **O(1)** time complexity?","title":"Interview Question - Data structure performing CRUD operation in O(1) time and maintaining insertion order","body":"<p>Recently I have attended an interview as backend developer, and I've been asked one the following question:</p>\n<blockquote>\n<p>Design a data structure that can perform <em><strong>insert</strong></em>, <em><strong>update</strong></em>, <em><strong>remove</strong></em>, and\n<em><strong>contains</strong></em> operation in <strong>O(1)</strong> time complexity.</p>\n<p>It should allay printing all the elements in <strong>O(n)</strong> time maintaining the <strong>insertion order</strong> of\nelements.</p>\n</blockquote>\n<p>Can someone please explain which data structure we can use and how that data structure allows to achieve the required <strong>O(1)</strong> time complexity?</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1671700423,"post_id":74886294,"comment_id":132156083,"body_markdown":"Why would you want to convert something to MultiValueMap yourself?","body":"Why would you want to convert something to MultiValueMap yourself?"},{"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"score":0,"creation_date":1671701236,"post_id":74886294,"comment_id":132156291,"body_markdown":"@ValerijDobler Because requestParams need MultiValueMap&lt;String, String&gt;","body":"@ValerijDobler Because requestParams need MultiValueMap&lt;String, String&gt;"},{"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"score":0,"creation_date":1671703846,"post_id":74886294,"comment_id":132157054,"body_markdown":"What is supposed to happen with &quot;fooInt&quot;, which is not String?","body":"What is supposed to happen with &quot;fooInt&quot;, which is not String?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1671717336,"post_id":74886294,"comment_id":132161234,"body_markdown":"To return it at a controller?","body":"To return it at a controller?"}],"answers":[{"tags":[],"owner":{"account_id":14145574,"reputation":91,"user_id":10219008,"display_name":"Anush B M"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1671704943,"creation_date":1671702837,"answer_id":74886790,"question_id":74886294,"body_markdown":"This might a little slow but you can try this. \r\n\r\n    public MultiValueMap&lt;String, String&gt; convertToMultiValueMap(Object pojo) {\r\n    MultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n\r\n    Field[] fields = pojo.getClass().getDeclaredFields();\r\n    for (Field field : fields) {\r\n        field.setAccessible(true);\r\n        String key = field.getName();\r\n        Object value = field.get(pojo);\r\n        if (value != null) {\r\n            map.add(key, value.toString());\r\n        }\r\n    }\r\n\r\n    return map;\r\n    }\r\n\r\nThis method uses reflection to get a list of all the fields in the POJO and adds each field to the map as a key-value pair.\r\n\r\n","title":"How to convert POJO to MultiValueMap&lt;String, String&gt;?","body":"<p>This might a little slow but you can try this.</p>\n<pre><code>public MultiValueMap&lt;String, String&gt; convertToMultiValueMap(Object pojo) {\nMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\n\nField[] fields = pojo.getClass().getDeclaredFields();\nfor (Field field : fields) {\n    field.setAccessible(true);\n    String key = field.getName();\n    Object value = field.get(pojo);\n    if (value != null) {\n        map.add(key, value.toString());\n    }\n}\n\nreturn map;\n}\n</code></pre>\n<p>This method uses reflection to get a list of all the fields in the POJO and adds each field to the map as a key-value pair.</p>\n"},{"tags":[],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671705342,"creation_date":1671705342,"answer_id":74887253,"question_id":74886294,"body_markdown":"This can&#39;t be done automatically without customization, because the problem is too broad: each type needs to be converted to a list of strings, which is not obvious. Here we have some trivial cases (integer and string), but generally it would be good to control this conversion.\r\n\r\nHere is a simple example where first we do a default conversion to `Map&lt;String, Object&gt;`, handled naturally by Jackson; then the custom `if-else` step follows, where each type goes through a special conversion. This step should be extended to fit the exact needs (and types) of the application. I guess proper test coverage would do the trick, because we can&#39;t rely 100% on static typing in this case.\r\n\r\nIt is important to notice that in case the `Collection` has other collections as elements the results depends on each particular collection &quot;toString&quot; method implementation, which probably could give unexpected results.\r\n\r\n    class TestJacksonConvert {\r\n    \r\n        private static ObjectMapper OM = new ObjectMapper();\r\n    \r\n        @Test\r\n        void test() {\r\n            var foo = new Foo();\r\n            foo.fooStr = &quot;abc&quot;;\r\n            foo.fooInt = 21;\r\n            foo.fooList = List.of(&quot;a&quot;, &quot;B&quot;, &quot;c&quot;);\r\n    \r\n            var converted = convert(foo);\r\n    \r\n            assertEquals(\r\n                converted,\r\n                Map.of(\r\n                    &quot;fooStr&quot;, List.of(&quot;abc&quot;),\r\n                    &quot;fooInt&quot;, List.of(&quot;21&quot;),\r\n                    &quot;fooList&quot;, List.of(&quot;a&quot;, &quot;B&quot;, &quot;c&quot;)\r\n                )\r\n            );\r\n        }\r\n    \r\n        public static LinkedMultiValueMap&lt;String, String&gt; convert(Object obj) {\r\n            var multiMap = new LinkedMultiValueMap&lt;String, String&gt;();\r\n    \r\n            Map&lt;String, Object&gt; map = OM.convertValue(obj, new TypeReference&lt;&gt;() {});\r\n    \r\n            map.forEach((key, value) -&gt; {\r\n                if (value instanceof Collection&lt;?&gt; collection) {\r\n                    multiMap.put(key, collection.stream().map(Object::toString).toList());\r\n                } else if (value != null) {\r\n                    multiMap.put(key, List.of(value.toString()));\r\n                }\r\n            });\r\n    \r\n            return multiMap;\r\n        }\r\n    }\r\n\r\n","title":"How to convert POJO to MultiValueMap&lt;String, String&gt;?","body":"<p>This can't be done automatically without customization, because the problem is too broad: each type needs to be converted to a list of strings, which is not obvious. Here we have some trivial cases (integer and string), but generally it would be good to control this conversion.</p>\n<p>Here is a simple example where first we do a default conversion to <code>Map&lt;String, Object&gt;</code>, handled naturally by Jackson; then the custom <code>if-else</code> step follows, where each type goes through a special conversion. This step should be extended to fit the exact needs (and types) of the application. I guess proper test coverage would do the trick, because we can't rely 100% on static typing in this case.</p>\n<p>It is important to notice that in case the <code>Collection</code> has other collections as elements the results depends on each particular collection &quot;toString&quot; method implementation, which probably could give unexpected results.</p>\n<pre><code>class TestJacksonConvert {\n\n    private static ObjectMapper OM = new ObjectMapper();\n\n    @Test\n    void test() {\n        var foo = new Foo();\n        foo.fooStr = &quot;abc&quot;;\n        foo.fooInt = 21;\n        foo.fooList = List.of(&quot;a&quot;, &quot;B&quot;, &quot;c&quot;);\n\n        var converted = convert(foo);\n\n        assertEquals(\n            converted,\n            Map.of(\n                &quot;fooStr&quot;, List.of(&quot;abc&quot;),\n                &quot;fooInt&quot;, List.of(&quot;21&quot;),\n                &quot;fooList&quot;, List.of(&quot;a&quot;, &quot;B&quot;, &quot;c&quot;)\n            )\n        );\n    }\n\n    public static LinkedMultiValueMap&lt;String, String&gt; convert(Object obj) {\n        var multiMap = new LinkedMultiValueMap&lt;String, String&gt;();\n\n        Map&lt;String, Object&gt; map = OM.convertValue(obj, new TypeReference&lt;&gt;() {});\n\n        map.forEach((key, value) -&gt; {\n            if (value instanceof Collection&lt;?&gt; collection) {\n                multiMap.put(key, collection.stream().map(Object::toString).toList());\n            } else if (value != null) {\n                multiMap.put(key, List.of(value.toString()));\n            }\n        });\n\n        return multiMap;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74887253,"answer_count":2,"score":1,"last_activity_date":1671787236,"creation_date":1671700048,"question_id":74886294,"body_markdown":"I want to convert POJO to ```MultiValueMap&lt;String, String&gt;```(RequestParams).\r\n\r\n**POJO class:**\r\n```\r\npublic class Foo {\r\n  String fooStr;\r\n\r\n  int fooInt;\r\n\r\n  List&lt;String&gt; fooList;\r\n}\r\n```\r\n\r\nConvertion code:\r\n``` \r\npublic static MultiValueMap&lt;String, String&gt; convert( Object obj ) {\r\n  MultiValueMap&lt;String, String&gt; requestParamMultiValueMap = new LinkedMultiValueMap&lt;&gt;();\r\n  \r\n  Map&lt;String, String&gt; requestParamMap = new ObjectMapper()\r\n      .convertValue( obj, new TypeReference&lt;Map&lt;String, String&gt;&gt;() {} ); // Exception occurs here\r\n  requestParamMultiValueMap.setAll( requestParamMap );\r\n  \r\n  return requestParamMultiValueMap;\r\n}\r\n```\r\n\r\nWhen `Foo` class has only `String` member variables, it doesn&#39;t matter, but `Foo` class has `List&lt;String&gt;` member variable, and it causes \r\n\r\n    IllegalArgumentException: \r\n      Cannot deserialize value of type java.lang.String\r\n      from Array value (token JsonToken.START_ARRAY).\r\n\r\nHow to convert POJO with `List&lt;String&gt;` field to `MultiValueMap` using Jackson?\r\n","title":"How to convert POJO to MultiValueMap&lt;String, String&gt;?","body":"<p>I want to convert POJO to <code>MultiValueMap&lt;String, String&gt;</code>(RequestParams).</p>\n<p><strong>POJO class:</strong></p>\n<pre><code>public class Foo {\n  String fooStr;\n\n  int fooInt;\n\n  List&lt;String&gt; fooList;\n}\n</code></pre>\n<p>Convertion code:</p>\n<pre><code>public static MultiValueMap&lt;String, String&gt; convert( Object obj ) {\n  MultiValueMap&lt;String, String&gt; requestParamMultiValueMap = new LinkedMultiValueMap&lt;&gt;();\n  \n  Map&lt;String, String&gt; requestParamMap = new ObjectMapper()\n      .convertValue( obj, new TypeReference&lt;Map&lt;String, String&gt;&gt;() {} ); // Exception occurs here\n  requestParamMultiValueMap.setAll( requestParamMap );\n  \n  return requestParamMultiValueMap;\n}\n</code></pre>\n<p>When <code>Foo</code> class has only <code>String</code> member variables, it doesn't matter, but <code>Foo</code> class has <code>List&lt;String&gt;</code> member variable, and it causes</p>\n<pre><code>IllegalArgumentException: \n  Cannot deserialize value of type java.lang.String\n  from Array value (token JsonToken.START_ARRAY).\n</code></pre>\n<p>How to convert POJO with <code>List&lt;String&gt;</code> field to <code>MultiValueMap</code> using Jackson?</p>\n"},{"tags":["java","sql","jpa","entitymanager"],"comments":[{"owner":{"account_id":4240367,"reputation":422,"user_id":3470438,"accept_rate":75,"display_name":"wimdetr"},"score":2,"creation_date":1671788988,"post_id":74897722,"comment_id":132176189,"body_markdown":"Does this answer your question? [How to get the MySQL query results into a List&lt;String&gt; in java](https://stackoverflow.com/questions/72129125/how-to-get-the-mysql-query-results-into-a-liststring-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72129125/how-to-get-the-mysql-query-results-into-a-liststring-in-java\">How to get the MySQL query results into a List&lt;String&gt; in java</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671798593,"post_id":74897722,"comment_id":132178664,"body_markdown":"That means you tried to print a value of type `Object[]`. Without actual code and a description of what you&#39;re trying to achieve, this is impossible to answer (maybe `Arrays.toString(...)` does what you want, maybe not).","body":"That means you tried to print a value of type <code>Object[]</code>. Without actual code and a description of what you&#39;re trying to achieve, this is impossible to answer (maybe <code>Arrays.toString(...)</code> does what you want, maybe not)."}],"answers":[{"tags":[],"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671785971,"creation_date":1671785971,"answer_id":74897860,"question_id":74897722,"body_markdown":"Try this :\t\r\n\t`TypedQuery&lt;table2&gt; query = em.createQuery(&quot;select * from table2&quot;, table2.class);`\r\nthen get resultList :\r\n`List&lt;table2&gt; myList = query.getResultList();`\r\nThis will return a list of table2 object.","title":"Get SQL Result as list of String","body":"<p>Try this :<br />\n<code>TypedQuery&lt;table2&gt; query = em.createQuery(&quot;select * from table2&quot;, table2.class);</code>\nthen get resultList :\n<code>List&lt;table2&gt; myList = query.getResultList();</code>\nThis will return a list of table2 object.</p>\n"}],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671857354,"accepted_answer_id":74897860,"answer_count":1,"score":0,"last_activity_date":1671787207,"creation_date":1671784864,"question_id":74897722,"body_markdown":"From Java I make this query to SQL:\r\n\r\n    protected EntityManager em;\r\n    Query query = em.createNativeQuery(&quot;select * from table2&quot;);\r\n\r\nNow I need to save this query as List of String or Object (so without a POJO), but evrytime I get the andress of memory:\r\n\r\n    [[Ljava.lang.Object;@1d905cdf, [Ljava.lang.Object;@5e53d7b5, [Ljava.lang.Object;@1d2f8f05]\r\n\r\nDoes anybody knows how can I fix this?","title":"Get SQL Result as list of String","body":"<p>From Java I make this query to SQL:</p>\n<pre><code>protected EntityManager em;\nQuery query = em.createNativeQuery(&quot;select * from table2&quot;);\n</code></pre>\n<p>Now I need to save this query as List of String or Object (so without a POJO), but evrytime I get the andress of memory:</p>\n<pre><code>[[Ljava.lang.Object;@1d905cdf, [Ljava.lang.Object;@5e53d7b5, [Ljava.lang.Object;@1d2f8f05]\n</code></pre>\n<p>Does anybody knows how can I fix this?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","javabeans"],"comments":[{"owner":{"account_id":23577839,"reputation":37,"user_id":17617274,"display_name":"Artostapyshyn"},"score":0,"creation_date":1671711826,"post_id":74887962,"comment_id":132159499,"body_markdown":"@Reimeus As I said, I checked this topic, but none of that helped me","body":"@Reimeus As I said, I checked this topic, but none of that helped me"}],"answers":[{"tags":[],"owner":{"account_id":26876598,"reputation":301,"user_id":20457753,"display_name":"providerZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671709358,"creation_date":1671709358,"answer_id":74888032,"question_id":74887962,"body_markdown":"Your query in your repository should be like this:\r\n\r\n    @Query(&quot;SELECT u FROM Employee u WHERE u.department = ?1&quot;)\r\n\r\n\r\ninstead of this :\r\n\r\n    @Query(&quot;SELECT u FROM Employee u WHERE u.department = ?&quot;)\r\n\r\nor you can change it to this :\r\n\r\n \r\n\r\n    @Query(&quot;SELECT u FROM Employee u WHERE u.department = :department &quot;)\r\nbased on your function&#39;s parameter name","title":"Spring Boot - Not a managed type, Error creating bean","body":"<p>Your query in your repository should be like this:</p>\n<pre><code>@Query(&quot;SELECT u FROM Employee u WHERE u.department = ?1&quot;)\n</code></pre>\n<p>instead of this :</p>\n<pre><code>@Query(&quot;SELECT u FROM Employee u WHERE u.department = ?&quot;)\n</code></pre>\n<p>or you can change it to this :</p>\n<pre><code>@Query(&quot;SELECT u FROM Employee u WHERE u.department = :department &quot;)\n</code></pre>\n<p>based on your function's parameter name</p>\n"},{"tags":[],"owner":{"account_id":23577839,"reputation":37,"user_id":17617274,"display_name":"Artostapyshyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671787134,"creation_date":1671787134,"answer_id":74898003,"question_id":74887962,"body_markdown":"Finally, I managed to fix these errors, only by changing Spring Boot version, I had **3.0.2**, then I changed to **3.0.1** and it works!","title":"Spring Boot - Not a managed type, Error creating bean","body":"<p>Finally, I managed to fix these errors, only by changing Spring Boot version, I had <strong>3.0.2</strong>, then I changed to <strong>3.0.1</strong> and it works!</p>\n"}],"owner":{"account_id":23577839,"reputation":37,"user_id":17617274,"display_name":"Artostapyshyn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74898003,"answer_count":2,"score":0,"last_activity_date":1671787134,"creation_date":1671708982,"question_id":74887962,"body_markdown":"I was wondering how can I fix these errors in my Spring Boot project, I created quite simple project with login/register based on Spring Security, but I don&#39;t know how to fix this stuff, I&#39;ve tried all recommendations with same issues, but none of that helped me :(\r\n\r\nThanks in advance!\r\n \r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;authController&#39;: Unsatisfied dependency expressed through field &#39;employeeRepository&#39;: Error creating bean with name &#39;employeeRepository&#39; defined in com.artostapyshyn.personaldpslviv.model.repository.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.artostapyshyn.personaldpslviv.model.entity.Employee\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.1-SNAPSHOT.jar:3.0.1-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1-SNAPSHOT.jar:3.0.1-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1-SNAPSHOT.jar:3.0.1-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1-SNAPSHOT.jar:3.0.1-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1-SNAPSHOT.jar:3.0.1-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1-SNAPSHOT.jar:3.0.1-SNAPSHOT]\r\n    \tat com.artostapyshyn.personaldpslviv.PersonaldpslvivApplication.main(PersonaldpslvivApplication.java:14) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.1-SNAPSHOT.jar:3.0.1-SNAPSHOT]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;employeeRepository&#39; defined in com.artostapyshyn.personaldpslviv.model.repository.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.artostapyshyn.personaldpslviv.model.entity.Employee\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \t... 23 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.artostapyshyn.personaldpslviv.model.entity.Employee\r\n    \tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n    \tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \t... 33 common frames omitted\r\n\r\nAll code from my project:\r\n\r\n\r\n**Security configuration**\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \t@Autowired\r\n    \tprivate DataSource dataSource;\r\n    \t\r\n    \t@Bean\r\n    \tpublic UserDetailsService employeeDetailsService() {\r\n    \t\treturn new EmployeeDetailsServiceImpl();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic BCryptPasswordEncoder passwordEncoder() {\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic DaoAuthenticationProvider authenticationProvider() {\r\n    \t\tDaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n    \t\tauthProvider.setUserDetailsService(employeeDetailsService());\r\n    \t\tauthProvider.setPasswordEncoder(passwordEncoder());\r\n    \t\t\r\n    \t\treturn authProvider;\r\n    \t}\r\n    \r\n    \tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.authenticationProvider(authenticationProvider());\r\n    \t}\r\n    \r\n    \t@Bean\r\n        public void filterChain(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t\t.authorizeRequests()\r\n    \t\t\t.requestMatchers(&quot;/users&quot;).authenticated()\r\n    \t\t\t.anyRequest().permitAll()\r\n    \t\t\t.and()\r\n    \t\t\t.formLogin()\r\n    \t\t\t\t.usernameParameter(&quot;email&quot;)\r\n    \t\t\t\t.defaultSuccessUrl(&quot;/users&quot;)\r\n    \t\t\t\t.permitAll()\r\n    \t\t\t.and()\r\n    \t\t\t.logout().logoutSuccessUrl(&quot;/&quot;).permitAll();\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\n  **Application controller**\r\n\r\n    @Controller\r\n    public class AuthController {\r\n    \r\n    \t@Autowired\r\n    \tprivate EmployeeRepository employeeRepository;\r\n    \t\r\n    \t@GetMapping(&quot;&quot;)\r\n    \tpublic String viewHomePage() {\r\n    \t\treturn &quot;home&quot;;\r\n    \t}\r\n    \t\r\n    \t@GetMapping(&quot;/register&quot;)\r\n    \tpublic String showRegistrationForm(Model model) {\r\n    \t\tmodel.addAttribute(&quot;employee&quot;, new Employee());\r\n    \t\t\r\n    \t\treturn &quot;registration&quot;;\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;/process_register&quot;)\r\n    \tpublic String processRegister(Employee employee) {\r\n    \t\tBCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n    \t\tString encodedPassword = passwordEncoder.encode(employee.getPassword());\r\n    \t\temployee.setPassword(encodedPassword);\r\n    \t\t\r\n    \t\temployeeRepository.save(employee);\r\n    \t\t\r\n    \t\treturn &quot;register_success&quot;;\r\n    \t}\r\n    \r\n    } \r\n \r\n\r\n \r\n\r\n**Employee entity**\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    @Entity\r\n    @Table(name = &quot;employees&quot;)\r\n    public class Employee {\r\n    \r\n        @Id\r\n       // @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n        \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n        \r\n        @Column(name = &quot;department&quot;)\r\n        private String department;\r\n        \r\n        @Column(name = &quot;phone_number&quot;)\r\n        private String phoneNumber;\r\n    \r\n        @Column(name = &quot;email&quot;)\r\n        private String email;\r\n        \r\n        @Column(name = &quot;password&quot;)\r\n        private String password;\r\n    }\r\n\r\n**Repository**\r\n\r\n    @Repository\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt;{\r\n    \t@Query(&quot;SELECT u FROM Employee u WHERE u.department = :department&quot;)\r\n    \tpublic Employee findByDepartment(String department);\r\n    }\r\n\r\n**EmployeeDetails**\r\n\r\n    public class EmployeeDetails implements UserDetails {\r\n    \r\n    \tprivate Employee employee;\r\n    \t\r\n    \tpublic EmployeeDetails(Employee employee) {\r\n    \t\tthis.employee = employee;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getPassword() {\r\n    \t\treturn employee.getPassword();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getUsername() {\r\n    \t\treturn employee.getEmail();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isAccountNonExpired() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isAccountNonLocked() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isCredentialsNonExpired() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isEnabled() {\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    \tpublic String getFullName() {\r\n    \t\treturn employee.getFirstName() + &quot; &quot; + employee.getLastName();\r\n    \t}\r\n\r\n**EmployeeDetailsService implementation**\r\n\r\n    @Service\r\n    public class EmployeeDetailsServiceImpl implements UserDetailsService {\r\n    \r\n    \t@Autowired\r\n    \tprivate EmployeeRepository employeeRepo;\r\n    \t\r\n    \t@Override\r\n    \tpublic UserDetails loadUserByUsername(String department) throws UsernameNotFoundException {\r\n    \t\tEmployee employee = employeeRepo.findByDepartment(department);\r\n    \t\tif (employee == null) {\r\n    \t\t\tthrow new UsernameNotFoundException(&quot;User not found&quot;);\r\n    \t\t}\r\n    \t\treturn new EmployeeDetails(employee);\r\n    \t}\r\n    }\r\n\r\n\r\n**Boot application**\r\n\r\n    @SpringBootApplication\r\n    public class PersonaldpslvivApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(PersonaldpslvivApplication.class, args);\r\n    \t}\r\n    \r\n    }","title":"Spring Boot - Not a managed type, Error creating bean","body":"<p>I was wondering how can I fix these errors in my Spring Boot project, I created quite simple project with login/register based on Spring Security, but I don't know how to fix this stuff, I've tried all recommendations with same issues, but none of that helped me :(</p>\n<p>Thanks in advance!</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController': Unsatisfied dependency expressed through field 'employeeRepository': Error creating bean with name 'employeeRepository' defined in com.artostapyshyn.personaldpslviv.model.repository.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.artostapyshyn.personaldpslviv.model.entity.Employee\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.3.jar:6.0.3]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.3.jar:6.0.3]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.1-SNAPSHOT.jar:3.0.1-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1-SNAPSHOT.jar:3.0.1-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1-SNAPSHOT.jar:3.0.1-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1-SNAPSHOT.jar:3.0.1-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1-SNAPSHOT.jar:3.0.1-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1-SNAPSHOT.jar:3.0.1-SNAPSHOT]\n    at com.artostapyshyn.personaldpslviv.PersonaldpslvivApplication.main(PersonaldpslvivApplication.java:14) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.1-SNAPSHOT.jar:3.0.1-SNAPSHOT]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'employeeRepository' defined in com.artostapyshyn.personaldpslviv.model.repository.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.artostapyshyn.personaldpslviv.model.entity.Employee\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.3.jar:6.0.3]\n    ... 23 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.artostapyshyn.personaldpslviv.model.entity.Employee\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.3.jar:6.0.3]\n    ... 33 common frames omitted\n</code></pre>\n<p>All code from my project:</p>\n<p><strong>Security configuration</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Autowired\n    private DataSource dataSource;\n    \n    @Bean\n    public UserDetailsService employeeDetailsService() {\n        return new EmployeeDetailsServiceImpl();\n    }\n    \n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(employeeDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n        \n        return authProvider;\n    }\n\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authenticationProvider());\n    }\n\n    @Bean\n    public void filterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n            .requestMatchers(&quot;/users&quot;).authenticated()\n            .anyRequest().permitAll()\n            .and()\n            .formLogin()\n                .usernameParameter(&quot;email&quot;)\n                .defaultSuccessUrl(&quot;/users&quot;)\n                .permitAll()\n            .and()\n            .logout().logoutSuccessUrl(&quot;/&quot;).permitAll();\n    }\n    \n    \n}\n</code></pre>\n<p><strong>Application controller</strong></p>\n<pre><code>@Controller\npublic class AuthController {\n\n    @Autowired\n    private EmployeeRepository employeeRepository;\n    \n    @GetMapping(&quot;&quot;)\n    public String viewHomePage() {\n        return &quot;home&quot;;\n    }\n    \n    @GetMapping(&quot;/register&quot;)\n    public String showRegistrationForm(Model model) {\n        model.addAttribute(&quot;employee&quot;, new Employee());\n        \n        return &quot;registration&quot;;\n    }\n    \n    @PostMapping(&quot;/process_register&quot;)\n    public String processRegister(Employee employee) {\n        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n        String encodedPassword = passwordEncoder.encode(employee.getPassword());\n        employee.setPassword(encodedPassword);\n        \n        employeeRepository.save(employee);\n        \n        return &quot;register_success&quot;;\n    }\n\n} \n</code></pre>\n<p><strong>Employee entity</strong></p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@Entity\n@Table(name = &quot;employees&quot;)\npublic class Employee {\n\n    @Id\n   // @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n    \n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name = &quot;department&quot;)\n    private String department;\n    \n    @Column(name = &quot;phone_number&quot;)\n    private String phoneNumber;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n    \n    @Column(name = &quot;password&quot;)\n    private String password;\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt;{\n    @Query(&quot;SELECT u FROM Employee u WHERE u.department = :department&quot;)\n    public Employee findByDepartment(String department);\n}\n</code></pre>\n<p><strong>EmployeeDetails</strong></p>\n<pre><code>public class EmployeeDetails implements UserDetails {\n\n    private Employee employee;\n    \n    public EmployeeDetails(Employee employee) {\n        this.employee = employee;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return null;\n    }\n\n    @Override\n    public String getPassword() {\n        return employee.getPassword();\n    }\n\n    @Override\n    public String getUsername() {\n        return employee.getEmail();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n    \n    public String getFullName() {\n        return employee.getFirstName() + &quot; &quot; + employee.getLastName();\n    }\n</code></pre>\n<p><strong>EmployeeDetailsService implementation</strong></p>\n<pre><code>@Service\npublic class EmployeeDetailsServiceImpl implements UserDetailsService {\n\n    @Autowired\n    private EmployeeRepository employeeRepo;\n    \n    @Override\n    public UserDetails loadUserByUsername(String department) throws UsernameNotFoundException {\n        Employee employee = employeeRepo.findByDepartment(department);\n        if (employee == null) {\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n        }\n        return new EmployeeDetails(employee);\n    }\n}\n</code></pre>\n<p><strong>Boot application</strong></p>\n<pre><code>@SpringBootApplication\npublic class PersonaldpslvivApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(PersonaldpslvivApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","events","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":26962257,"reputation":33,"user_id":20529765,"display_name":"Ivan B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671787119,"creation_date":1671650608,"answer_id":74880877,"question_id":74833575,"body_markdown":"A consumer receives data from queue. Data is processed non reactive. Result data sent to... Should be received in EventSource in front end.\r\n\r\nUsed sink to send the processed data:\r\n\r\n```Java\r\nsink = Sinks.many().multicast().directAllOrNothing();\r\n```\r\n\r\n```Java\r\nsink.emitNext(\r\n   ServerSentEvent.builder(message).event(message.getType().getId()).build(),\r\n   retryOnNonSerialized(Sinks.EmitFailureHandler.FAIL_FAST,message)\r\n);\r\n```\r\nController:\r\n\r\n\r\n```Java\r\n@PostConstruct\r\nprivate void loadFlux() {\r\n   log.info(&quot;Constructing Flux....&quot;);\r\n   flux = service\r\n      .getSink()\r\n      .asFlux()\r\n      .publishOn(Schedulers.boundedElastic())\r\n      .onBackpressureBuffer()\r\n      .onBackpressureDrop(message -&gt; blog.debug(&quot;[STREAM] Backpressure message drop: {}&quot;, message))\r\n      .share();\r\n}\r\n```\r\n\r\n```Java\r\n@GetMapping(path = &quot;/stream&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\npublic Flux&lt;ServerSentEvent&lt;Message&gt;&gt; streamData() {\r\n   return fluxData;\r\n}\r\n```\r\n\r\nWorks for me for never ending hot stream.","title":"Create never ending hot stream in spring flux","body":"<p>A consumer receives data from queue. Data is processed non reactive. Result data sent to... Should be received in EventSource in front end.</p>\n<p>Used sink to send the processed data:</p>\n<pre><code>sink = Sinks.many().multicast().directAllOrNothing();\n</code></pre>\n<pre><code>sink.emitNext(\n   ServerSentEvent.builder(message).event(message.getType().getId()).build(),\n   retryOnNonSerialized(Sinks.EmitFailureHandler.FAIL_FAST,message)\n);\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostConstruct\nprivate void loadFlux() {\n   log.info(&quot;Constructing Flux....&quot;);\n   flux = service\n      .getSink()\n      .asFlux()\n      .publishOn(Schedulers.boundedElastic())\n      .onBackpressureBuffer()\n      .onBackpressureDrop(message -&gt; blog.debug(&quot;[STREAM] Backpressure message drop: {}&quot;, message))\n      .share();\n}\n</code></pre>\n<pre><code>@GetMapping(path = &quot;/stream&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic Flux&lt;ServerSentEvent&lt;Message&gt;&gt; streamData() {\n   return fluxData;\n}\n</code></pre>\n<p>Works for me for never ending hot stream.</p>\n"}],"owner":{"account_id":26962257,"reputation":33,"user_id":20529765,"display_name":"Ivan B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74880877,"answer_count":1,"score":1,"last_activity_date":1671787119,"creation_date":1671274933,"question_id":74833575,"body_markdown":"I have a consumer that serves data. Data is consumed and processed - not reactive. Then I took this data and send it to:\r\n\r\n```\r\nSinks.many().multicast().onBackpressureBuffer(Queues.SMALL_BUFFER_SIZE, false);\r\n```\r\n\r\nI am using\r\n\r\n```\r\nsink.emitNext(\r\n    message, retryOn(Sinks.EmitFailureHandler.FAIL_FAST, message));\r\n```\r\n\r\nas suggested in other stack posts, where I am taking care of\r\n\r\n```\r\nSinks.EmitResult.FAIL_NON_SERIALIZED\r\n```\r\n\r\nStill stuck on reactor.core.Exceptions$OverflowException: Backpressure overflow during Sinks.Many#emitNext\r\n\r\nOn the front end there is subscriber EventSource. My GET endpoint (simplified, tried many things here)\r\n\r\n```\r\n@GetMapping(path = &quot;/stream&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n  public Flux&lt;ServerSentEvent&lt;Message&gt;&gt; streamData() {\r\n    return service\r\n        .getSink()\r\n        .asFlux()\r\n        .map(e -&gt; ServerSentEvent.builder(e).event(e.getType().getId()).build());\r\n  }\r\n```\r\n\r\nI have tried suggestions in other posts. But I am obviously not capable to do: Never ending hot event stream, in which the subscriber once connected never misses any message.\r\n\r\nCode is welcome, but opinions more matters.\r\n\r\nRecap: Never ending hot event source, no message is lost to subscriber.\r\n\r\nEDIT: Why the suggested posts don work for me: I am missing the part between the Consumer(of the queue) - Sink - Get endpoint: still end with reactor.core.Exceptions$OverflowException: Backpressure overflow during Sinks.Many#emitNext","title":"Create never ending hot stream in spring flux","body":"<p>I have a consumer that serves data. Data is consumed and processed - not reactive. Then I took this data and send it to:</p>\n<pre><code>Sinks.many().multicast().onBackpressureBuffer(Queues.SMALL_BUFFER_SIZE, false);\n</code></pre>\n<p>I am using</p>\n<pre><code>sink.emitNext(\n    message, retryOn(Sinks.EmitFailureHandler.FAIL_FAST, message));\n</code></pre>\n<p>as suggested in other stack posts, where I am taking care of</p>\n<pre><code>Sinks.EmitResult.FAIL_NON_SERIALIZED\n</code></pre>\n<p>Still stuck on reactor.core.Exceptions$OverflowException: Backpressure overflow during Sinks.Many#emitNext</p>\n<p>On the front end there is subscriber EventSource. My GET endpoint (simplified, tried many things here)</p>\n<pre><code>@GetMapping(path = &quot;/stream&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n  public Flux&lt;ServerSentEvent&lt;Message&gt;&gt; streamData() {\n    return service\n        .getSink()\n        .asFlux()\n        .map(e -&gt; ServerSentEvent.builder(e).event(e.getType().getId()).build());\n  }\n</code></pre>\n<p>I have tried suggestions in other posts. But I am obviously not capable to do: Never ending hot event stream, in which the subscriber once connected never misses any message.</p>\n<p>Code is welcome, but opinions more matters.</p>\n<p>Recap: Never ending hot event source, no message is lost to subscriber.</p>\n<p>EDIT: Why the suggested posts don work for me: I am missing the part between the Consumer(of the queue) - Sink - Get endpoint: still end with reactor.core.Exceptions$OverflowException: Backpressure overflow during Sinks.Many#emitNext</p>\n"},{"tags":["java","json","spring","rest","resttemplate"],"comments":[{"owner":{"account_id":173893,"reputation":3455,"user_id":402887,"accept_rate":84,"display_name":"Noremac"},"score":1,"creation_date":1431552323,"post_id":4075991,"comment_id":48554790,"body_markdown":"@troyfolger the url is no longer valid","body":"@troyfolger the url is no longer valid"},{"owner":{"account_id":3187435,"reputation":2438,"user_id":3325931,"display_name":"troyfolger"},"score":0,"creation_date":1441906923,"post_id":4075991,"comment_id":52875793,"body_markdown":"Thanks - this link is working as of this writing: https://spring.io/guides/gs/consuming-rest/","body":"Thanks - this link is working as of this writing: <a href=\"https://spring.io/guides/gs/consuming-rest/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/consuming-rest</a>"},{"owner":{"account_id":3187435,"reputation":2438,"user_id":3325931,"display_name":"troyfolger"},"score":1,"creation_date":1441907137,"post_id":4075991,"comment_id":52875905,"body_markdown":"To address the specific OP issue, above, you are probably missing an HTTP header with appropriate content type, see the answer from morganw09dev below.","body":"To address the specific OP issue, above, you are probably missing an HTTP header with appropriate content type, see the answer from morganw09dev below."},{"owner":{"account_id":2454118,"reputation":880,"user_id":2139708,"accept_rate":100,"display_name":"Linus"},"score":0,"creation_date":1458464939,"post_id":4075991,"comment_id":59865041,"body_markdown":"These issues are mostly related to the Server API configuration. You test the Server API using a Standalone client (like Postman ) and replicate the same headers in your request. At least in my case that did the Trick.","body":"These issues are mostly related to the Server API configuration. You test the Server API using a Standalone client (like Postman ) and replicate the same headers in your request. At least in my case that did the Trick."},{"owner":{"account_id":3088127,"reputation":686,"user_id":2614885,"accept_rate":35,"display_name":"Vishal"},"score":2,"creation_date":1502197887,"post_id":4075991,"comment_id":78097781,"body_markdown":"@Johnny B, if this has been answered please mark the answer","body":"@Johnny B, if this has been answered please mark the answer"},{"owner":{"account_id":4103462,"reputation":21,"user_id":3368288,"display_name":"user3368288"},"score":0,"creation_date":1515160356,"post_id":4075991,"comment_id":83205882,"body_markdown":"I am also facing the same issue. Can you look into it. &lt;https://stackoverflow.com/questions/48114677/415-unsupported-media-type-spring-resttemplate&gt;","body":"I am also facing the same issue. Can you look into it. &lt;<a href=\"https://stackoverflow.com/questions/48114677/415-unsupported-media-type-spring-resttemplate\" title=\"415 unsupported media type spring resttemplate\">stackoverflow.com/questions/48114677/&hellip;</a>&gt;"}],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1288687644,"creation_date":1288687644,"answer_id":4076095,"question_id":4075991,"body_markdown":"The &quot;415 Unsupported Media Type&quot; error is telling you that the server will not accept your POST request. Your request is absolutely fine, it&#39;s the server that&#39;s mis-configured.\r\n\r\n`MappingJacksonHttpMessageConverter` will automatically set the request content-type header to `application/json`, and my guess is that your server is rejecting that.  You haven&#39;t told us anything about your server setup, though, so I can&#39;t really advise you on that.","title":"POST request via RestTemplate in JSON","body":"<p>The \"415 Unsupported Media Type\" error is telling you that the server will not accept your POST request. Your request is absolutely fine, it's the server that's mis-configured.</p>\n\n<p><code>MappingJacksonHttpMessageConverter</code> will automatically set the request content-type header to <code>application/json</code>, and my guess is that your server is rejecting that.  You haven't told us anything about your server setup, though, so I can't really advise you on that.</p>\n"},{"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1288700089,"creation_date":1288700089,"answer_id":4077502,"question_id":4075991,"body_markdown":"As specified [here][1] I guess you need to add a `messageConverter` for  `MappingJacksonHttpMessageConverter`\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-requestbody","title":"POST request via RestTemplate in JSON","body":"<p>As specified <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-requestbody\" rel=\"noreferrer\">here</a> I guess you need to add a <code>messageConverter</code> for  <code>MappingJacksonHttpMessageConverter</code></p>\n"},{"tags":[],"owner":{"account_id":41764,"reputation":4743,"user_id":121459,"accept_rate":83,"display_name":"Mike G"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1305827147,"creation_date":1305827147,"answer_id":6062709,"question_id":4075991,"body_markdown":"If you are using Spring 3.0, an easy way to avoid the **org.springframework.web.client.HttpClientErrorException: 415 Unsupported Media Type** exception, is to include the jackson jar files in your classpath, and use `mvc:annotation-driven` config element. [As specified here][1].\r\n\r\nI was pulling my hair out trying to figure out why the [mvc-ajax][2] app worked without any special config for the `MappingJacksonHttpMessageConverter`. If you read the article I linked above closely: \r\n\r\n&gt; Underneath the covers, Spring MVC\r\n&gt; delegates to a HttpMessageConverter to\r\n&gt; perform the serialization. In this\r\n&gt; case, Spring MVC invokes a\r\n&gt; MappingJacksonHttpMessageConverter\r\n&gt; built on the Jackson JSON processor.\r\n&gt; This implementation is enabled\r\n&gt; automatically **when you use the\r\n&gt; mvc:annotation-driven configuration\r\n&gt; element with Jackson present in your\r\n&gt; classpath**.\r\n\r\n\r\n  [1]: http://blog.springsource.com/2010/01/25/ajax-simplifications-in-spring-3-0/\r\n  [2]: https://src.springframework.org/svn/spring-samples/mvc-ajax/trunk/","title":"POST request via RestTemplate in JSON","body":"<p>If you are using Spring 3.0, an easy way to avoid the <strong>org.springframework.web.client.HttpClientErrorException: 415 Unsupported Media Type</strong> exception, is to include the jackson jar files in your classpath, and use <code>mvc:annotation-driven</code> config element. <a href=\"http://blog.springsource.com/2010/01/25/ajax-simplifications-in-spring-3-0/\">As specified here</a>.</p>\n\n<p>I was pulling my hair out trying to figure out why the <a href=\"https://src.springframework.org/svn/spring-samples/mvc-ajax/trunk/\">mvc-ajax</a> app worked without any special config for the <code>MappingJacksonHttpMessageConverter</code>. If you read the article I linked above closely: </p>\n\n<blockquote>\n  <p>Underneath the covers, Spring MVC\n  delegates to a HttpMessageConverter to\n  perform the serialization. In this\n  case, Spring MVC invokes a\n  MappingJacksonHttpMessageConverter\n  built on the Jackson JSON processor.\n  This implementation is enabled\n  automatically <strong>when you use the\n  mvc:annotation-driven configuration\n  element with Jackson present in your\n  classpath</strong>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"display_name":"user770033"},"down_vote_count":4,"up_vote_count":184,"is_accepted":false,"score":180,"last_activity_date":1671786950,"creation_date":1306344253,"answer_id":6128401,"question_id":4075991,"body_markdown":"This technique worked for me:\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_JSON);\r\n    \t\t\t\r\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(requestJson, headers);\r\n    ResponseEntity&lt;String&gt; response = restTemplate.put(url, entity);","title":"POST request via RestTemplate in JSON","body":"<p>This technique worked for me:</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\n            \nHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(requestJson, headers);\nResponseEntity&lt;String&gt; response = restTemplate.put(url, entity);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":148345,"reputation":19114,"user_id":360060,"accept_rate":50,"display_name":"Mikael Lepist&#246;"},"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1416837278,"creation_date":1416837278,"answer_id":27106518,"question_id":4075991,"body_markdown":"I&#39;ve been using rest template with JSONObjects as follow:\r\n\r\n    // create request body\r\n    JSONObject request = new JSONObject();\r\n    request.put(&quot;username&quot;, name);\r\n    request.put(&quot;password&quot;, password);\r\n    \r\n    // set headers\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_JSON);\r\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(request.toString(), headers);\r\n\r\n    // send request and parse result\r\n    ResponseEntity&lt;String&gt; loginResponse = restTemplate\r\n      .exchange(urlString, HttpMethod.POST, entity, String.class);\r\n    if (loginResponse.getStatusCode() == HttpStatus.OK) {\r\n      JSONObject userJson = new JSONObject(loginResponse.getBody());\r\n    } else if (loginResponse.getStatusCode() == HttpStatus.UNAUTHORIZED) {\r\n      // nono... bad credentials\r\n    }\r\n","title":"POST request via RestTemplate in JSON","body":"<p>I've been using rest template with JSONObjects as follow:</p>\n\n<pre><code>// create request body\nJSONObject request = new JSONObject();\nrequest.put(\"username\", name);\nrequest.put(\"password\", password);\n\n// set headers\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\nHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(request.toString(), headers);\n\n// send request and parse result\nResponseEntity&lt;String&gt; loginResponse = restTemplate\n  .exchange(urlString, HttpMethod.POST, entity, String.class);\nif (loginResponse.getStatusCode() == HttpStatus.OK) {\n  JSONObject userJson = new JSONObject(loginResponse.getBody());\n} else if (loginResponse.getStatusCode() == HttpStatus.UNAUTHORIZED) {\n  // nono... bad credentials\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2872982,"reputation":1039,"user_id":2465849,"display_name":"Mateusz Jablonski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430821043,"creation_date":1430821043,"answer_id":30050259,"question_id":4075991,"body_markdown":"For me error occurred with this setup:\r\n\r\n`AndroidAnnotations`\r\n`Spring Android RestTemplate Module`\r\nand ...\r\n\r\n`GsonHttpMessageConverter`\r\n\r\nAndroid annotations has some problems with this converted to generate `POST` request without parameter. Simply parameter `new Object()` solved it for me.","title":"POST request via RestTemplate in JSON","body":"<p>For me error occurred with this setup:</p>\n\n<p><code>AndroidAnnotations</code>\n<code>Spring Android RestTemplate Module</code>\nand ...</p>\n\n<p><code>GsonHttpMessageConverter</code></p>\n\n<p>Android annotations has some problems with this converted to generate <code>POST</code> request without parameter. Simply parameter <code>new Object()</code> solved it for me.</p>\n"},{"tags":[],"owner":{"account_id":1430200,"reputation":3112,"user_id":1352766,"accept_rate":82,"display_name":"Morgan Kenyon"},"down_vote_count":1,"up_vote_count":116,"is_accepted":false,"score":115,"last_activity_date":1433343081,"creation_date":1433343081,"answer_id":30623571,"question_id":4075991,"body_markdown":"I ran across this problem when attempting to debug a REST endpoint. Here is a basic example using Spring&#39;s RestTemplate class to make a POST request that I used. It took me quite a bit of a long time to piece together code from different places to get a working version.\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n\r\n\tString url = &quot;endpoint url&quot;;\r\n\tString requestJson = &quot;{\\&quot;queriedQuestion\\&quot;:\\&quot;Is there pain in your hand?\\&quot;}&quot;;\r\n\tHttpHeaders headers = new HttpHeaders();\r\n\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(requestJson,headers);\r\n\tString answer = restTemplate.postForObject(url, entity, String.class);\r\n\tSystem.out.println(answer);\r\n\r\nThe particular JSON parser my rest endpoint was using needed double quotes around field names so that&#39;s why I&#39;ve escaped the double quotes in my requestJson String.","title":"POST request via RestTemplate in JSON","body":"<p>I ran across this problem when attempting to debug a REST endpoint. Here is a basic example using Spring's RestTemplate class to make a POST request that I used. It took me quite a bit of a long time to piece together code from different places to get a working version.</p>\n\n<pre><code>RestTemplate restTemplate = new RestTemplate();\n\nString url = \"endpoint url\";\nString requestJson = \"{\\\"queriedQuestion\\\":\\\"Is there pain in your hand?\\\"}\";\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\n\nHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(requestJson,headers);\nString answer = restTemplate.postForObject(url, entity, String.class);\nSystem.out.println(answer);\n</code></pre>\n\n<p>The particular JSON parser my rest endpoint was using needed double quotes around field names so that's why I've escaped the double quotes in my requestJson String.</p>\n"},{"tags":[],"owner":{"account_id":60816,"reputation":3394,"user_id":181551,"accept_rate":41,"display_name":"Alex Worden"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1444143743,"creation_date":1444143743,"answer_id":32973303,"question_id":4075991,"body_markdown":"I was getting this problem and I&#39;m using Spring&#39;s RestTemplate on the client and Spring Web on the server. Both APIs have very poor error reporting, making them extremely difficult to develop with. \r\n\r\nAfter many hours of trying all sorts of experiments I figured out that the issue was being caused by passing in a null reference for the POST body instead of the expected List&lt;String&gt;. I presume that RestTemplate cannot determine the content-type from a null object, but doesn&#39;t complain about it. After adding the correct headers, I started getting a different server-side exception in Spring before entering my service method. \r\n\r\nThe fix was to pass in an empty List from the client instead of null. No headers are required since the default content-type is used for non-null objects. \r\n","title":"POST request via RestTemplate in JSON","body":"<p>I was getting this problem and I'm using Spring's RestTemplate on the client and Spring Web on the server. Both APIs have very poor error reporting, making them extremely difficult to develop with. </p>\n\n<p>After many hours of trying all sorts of experiments I figured out that the issue was being caused by passing in a null reference for the POST body instead of the expected List. I presume that RestTemplate cannot determine the content-type from a null object, but doesn't complain about it. After adding the correct headers, I started getting a different server-side exception in Spring before entering my service method. </p>\n\n<p>The fix was to pass in an empty List from the client instead of null. No headers are required since the default content-type is used for non-null objects. </p>\n"},{"tags":[],"owner":{"account_id":8016326,"reputation":53,"user_id":6046496,"display_name":"Ganesh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1502148352,"creation_date":1476961839,"answer_id":40152772,"question_id":4075991,"body_markdown":"This code is working for me;\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    Payment payment = new Payment(&quot;Aa4bhs&quot;);\r\n    MultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;String, Object&gt;();\r\n    map.add(&quot;payment&quot;, payment);\r\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; httpEntity = new HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt;(map, headerObject);\r\n        \r\n    Payment res = restTemplate.postForObject(url, httpEntity, Payment.class);","title":"POST request via RestTemplate in JSON","body":"<p>This code is working for me;</p>\n\n<pre><code>RestTemplate restTemplate = new RestTemplate();\nPayment payment = new Payment(\"Aa4bhs\");\nMultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;String, Object&gt;();\nmap.add(\"payment\", payment);\nHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; httpEntity = new HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt;(map, headerObject);\n\nPayment res = restTemplate.postForObject(url, httpEntity, Payment.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1531322677,"creation_date":1511263744,"answer_id":47412033,"question_id":4075991,"body_markdown":"I&#39;m doing in this way and it works .\r\n\r\n    HttpHeaders headers = createHttpHeaders(map);\r\n    public HttpHeaders createHttpHeaders(Map&lt;String, String&gt; map)\r\n\t{\t\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\tfor (Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n\t\t\theaders.add(entry.getKey(),entry.getValue());\r\n\t    }\r\n\t\treturn headers;\r\n\t}\r\n\r\n// Pass headers here\r\n \r\n     String requestJson = &quot;{ // Construct your JSON here }&quot;;\r\n    logger.info(&quot;Request JSON =&quot;+requestJson);\r\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(requestJson, headers);\r\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.POST, entity, String.class);\r\n    logger.info(&quot;Result - status (&quot;+ response.getStatusCode() + &quot;) has body: &quot; + response.hasBody());\r\n    logger.info(&quot;Response =&quot;+response.getBody());\r\n\r\n\r\nHope this helps\r\n\t","title":"POST request via RestTemplate in JSON","body":"<p>I'm doing in this way and it works .</p>\n\n<pre><code>HttpHeaders headers = createHttpHeaders(map);\npublic HttpHeaders createHttpHeaders(Map&lt;String, String&gt; map)\n{   \n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_JSON);\n    for (Entry&lt;String, String&gt; entry : map.entrySet()) {\n        headers.add(entry.getKey(),entry.getValue());\n    }\n    return headers;\n}\n</code></pre>\n\n<p>// Pass headers here</p>\n\n<pre><code> String requestJson = \"{ // Construct your JSON here }\";\nlogger.info(\"Request JSON =\"+requestJson);\nHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(requestJson, headers);\nResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.POST, entity, String.class);\nlogger.info(\"Result - status (\"+ response.getStatusCode() + \") has body: \" + response.hasBody());\nlogger.info(\"Response =\"+response.getBody());\n</code></pre>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":8297116,"reputation":136,"user_id":6237003,"display_name":"Vipindas Gopalan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544617595,"creation_date":1544617595,"answer_id":53743022,"question_id":4075991,"body_markdown":"If you dont want to process response \r\n\r\n    private RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.postForObject(serviceURL, request, Void.class);\r\n\r\nIf you need response to process\r\n\r\n    String result = restTemplate.postForObject(url, entity, String.class);\r\n\r\n ","title":"POST request via RestTemplate in JSON","body":"<p>If you dont want to process response </p>\n\n<pre><code>private RestTemplate restTemplate = new RestTemplate();\nrestTemplate.postForObject(serviceURL, request, Void.class);\n</code></pre>\n\n<p>If you need response to process</p>\n\n<pre><code>String result = restTemplate.postForObject(url, entity, String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5747337,"reputation":365,"user_id":4538204,"display_name":"eriegz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1558017990,"creation_date":1558017990,"answer_id":56171234,"question_id":4075991,"body_markdown":"Why work harder than you have to? `postForEntity` accepts a simple `Map` object as input. The following works fine for me while writing tests for a given REST endpoint in Spring. I believe it&#39;s the simplest possible way of making a JSON POST request in Spring:\r\n\r\n    @Test\r\n    public void shouldLoginSuccessfully() {\r\n      // &#39;restTemplate&#39; below has been @Autowired prior to this\r\n      Map map = new HashMap&lt;String, String&gt;();\r\n      map.put(&quot;username&quot;, &quot;bob123&quot;);\r\n      map.put(&quot;password&quot;, &quot;myP@ssw0rd&quot;);\r\n      ResponseEntity&lt;Void&gt; resp = restTemplate.postForEntity(\r\n          &quot;http://localhost:8000/login&quot;,\r\n          map,\r\n          Void.class);\r\n      assertThat(resp.getStatusCode()).isEqualTo(HttpStatus.OK);\r\n    }\r\n\r\n","title":"POST request via RestTemplate in JSON","body":"<p>Why work harder than you have to? <code>postForEntity</code> accepts a simple <code>Map</code> object as input. The following works fine for me while writing tests for a given REST endpoint in Spring. I believe it's the simplest possible way of making a JSON POST request in Spring:</p>\n\n<pre><code>@Test\npublic void shouldLoginSuccessfully() {\n  // 'restTemplate' below has been @Autowired prior to this\n  Map map = new HashMap&lt;String, String&gt;();\n  map.put(\"username\", \"bob123\");\n  map.put(\"password\", \"myP@ssw0rd\");\n  ResponseEntity&lt;Void&gt; resp = restTemplate.postForEntity(\n      \"http://localhost:8000/login\",\n      map,\n      Void.class);\n  assertThat(resp.getStatusCode()).isEqualTo(HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2174203,"reputation":1767,"user_id":1925327,"display_name":"moritz.vieli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588875284,"creation_date":1588875284,"answer_id":61664863,"question_id":4075991,"body_markdown":"If you don&#39;t want to map the JSON by yourself, you can do it as follows:\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.setMessageConverters(Arrays.asList(new MappingJackson2HttpMessageConverter()));\r\n    ResponseEntity&lt;String&gt; result = restTemplate.postForEntity(uri, yourObject, String.class);","title":"POST request via RestTemplate in JSON","body":"<p>If you don't want to map the JSON by yourself, you can do it as follows:</p>\n\n<pre><code>RestTemplate restTemplate = new RestTemplate();\nrestTemplate.setMessageConverters(Arrays.asList(new MappingJackson2HttpMessageConverter()));\nResponseEntity&lt;String&gt; result = restTemplate.postForEntity(uri, yourObject, String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594308240,"creation_date":1594212393,"answer_id":62795162,"question_id":4075991,"body_markdown":"I tried as following in spring boot:\r\n    \t\r\n\r\n    ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt; typeRef = new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {};\r\n    public Map&lt;String, Object&gt; processResponse(String urlendpoint)\r\n    {\r\n    \ttry{\r\n    \t\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n    \t\t//reqobj\r\n    \t\tJSONObject request = new JSONObject();\r\n    \t\trequest.put(&quot;username&quot;, name);\r\n    \t\t//Or Hashmap \r\n    \t\tMap&lt;String, Object&gt; reqbody =  new HashMap&lt;&gt;();\r\n    \t\treqbody.put(&quot;username&quot;,username);\r\n    \t\tGson gson = new Gson();//mvn plugin to convert map to String\r\n    \t\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;( gson.toJson(reqbody), headers);\r\n    \t\tResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = resttemplate.exchange(urlendpoint, HttpMethod.POST, entity, typeRef);//example of post req with json as request payload\r\n    \t\tif(Integer.parseInt(response.getStatusCode().toString()) == HttpURLConnection.HTTP_OK)\r\n    \t\t{\r\n    \t\t\tMap&lt;String, Object&gt;  responsedetails = response.getBody();\r\n    \t\t\tSystem.out.println(responsedetails);//whole json response as map object\r\n    \t\t\treturn responsedetails;\r\n    \t\t}\r\n    \t} catch (Exception e) {\r\n    \t\t// TODO: handle exception\r\n    \t\tSystem.err.println(e);\r\n    \t}\r\n    \treturn null;\r\n    }\r\n\r\n","title":"POST request via RestTemplate in JSON","body":"<p>I tried as following in spring boot:</p>\n<pre><code>ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt; typeRef = new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {};\npublic Map&lt;String, Object&gt; processResponse(String urlendpoint)\n{\n    try{\n    \n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        //reqobj\n        JSONObject request = new JSONObject();\n        request.put(&quot;username&quot;, name);\n        //Or Hashmap \n        Map&lt;String, Object&gt; reqbody =  new HashMap&lt;&gt;();\n        reqbody.put(&quot;username&quot;,username);\n        Gson gson = new Gson();//mvn plugin to convert map to String\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;( gson.toJson(reqbody), headers);\n        ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = resttemplate.exchange(urlendpoint, HttpMethod.POST, entity, typeRef);//example of post req with json as request payload\n        if(Integer.parseInt(response.getStatusCode().toString()) == HttpURLConnection.HTTP_OK)\n        {\n            Map&lt;String, Object&gt;  responsedetails = response.getBody();\n            System.out.println(responsedetails);//whole json response as map object\n            return responsedetails;\n        }\n    } catch (Exception e) {\n        // TODO: handle exception\n        System.err.println(e);\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11191854,"reputation":555,"user_id":8211967,"display_name":"Asanka Sampath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633330241,"creation_date":1633330241,"answer_id":69431937,"question_id":4075991,"body_markdown":"You can make request as a JSON object\r\n\r\n    JSONObject request = new JSONObject();\r\n    request.put(&quot;name&quot;,&quot;abc&quot;); \r\n    ResponseEntity&lt;JSONObject&gt; response =restTemplate.postForEntity(append_url,request,JSONObject.class);                                                          `enter code here`","title":"POST request via RestTemplate in JSON","body":"<p>You can make request as a JSON object</p>\n<pre><code>JSONObject request = new JSONObject();\nrequest.put(&quot;name&quot;,&quot;abc&quot;); \nResponseEntity&lt;JSONObject&gt; response =restTemplate.postForEntity(append_url,request,JSONObject.class);                                                          `enter code here`\n</code></pre>\n"}],"owner":{"account_id":664394,"reputation":1439,"user_id":494475,"display_name":"Johnny B"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488605,"favorite_count":0,"down_vote_count":1,"up_vote_count":144,"answer_count":15,"score":143,"last_activity_date":1671786950,"creation_date":1288686561,"question_id":4075991,"body_markdown":"I didn&#39;t find any example how to solve my problem, so I want to ask you for help. I can&#39;t simply send POST request using RestTemplate object in JSON\r\n\r\nEvery time I get:\r\n &gt;org.springframework.web.client.HttpClientErrorException: 415 Unsupported Media Type\r\n\r\nI use RestTemplate in this way:\r\n\r\n    ...\r\n    restTemplate = new RestTemplate();\r\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; list = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\r\n    list.add(new MappingJacksonHttpMessageConverter());\r\n    restTemplate.setMessageConverters(list);\r\n    ...\r\n    Payment payment= new Payment(&quot;Aa4bhs&quot;);\r\n    Payment res = restTemplate.postForObject(&quot;http://localhost:8080/aurest/rest/payment&quot;, payment, Payment.class);\r\n\r\nWhat is my fault?","title":"POST request via RestTemplate in JSON","body":"<p>I didn't find any example how to solve my problem, so I want to ask you for help. I can't simply send POST request using RestTemplate object in JSON</p>\n\n<p>Every time I get:</p>\n\n<blockquote>\n  <p>org.springframework.web.client.HttpClientErrorException: 415 Unsupported Media Type</p>\n</blockquote>\n\n<p>I use RestTemplate in this way:</p>\n\n<pre><code>...\nrestTemplate = new RestTemplate();\nList&lt;HttpMessageConverter&lt;?&gt;&gt; list = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\nlist.add(new MappingJacksonHttpMessageConverter());\nrestTemplate.setMessageConverters(list);\n...\nPayment payment= new Payment(\"Aa4bhs\");\nPayment res = restTemplate.postForObject(\"http://localhost:8080/aurest/rest/payment\", payment, Payment.class);\n</code></pre>\n\n<p>What is my fault?</p>\n"},{"tags":["java","redis","locking","jedis"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1671767146,"post_id":74895873,"comment_id":132172566,"body_markdown":"Yes, Redis lock is a good solution to the problem. [ShedLock](https://github.com/lukas-krecan/ShedLock) is also commonly used.","body":"Yes, Redis lock is a good solution to the problem. <a href=\"https://github.com/lukas-krecan/ShedLock\" rel=\"nofollow noreferrer\">ShedLock</a> is also commonly used."}],"owner":{"account_id":27223617,"reputation":11,"user_id":20752433,"display_name":"ll kk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671786770,"creation_date":1671766465,"question_id":74895873,"body_markdown":"There is a business scenario: there are operations of adding, deleting and modifying, and no other operations can be performed during each operation. I want to use redis lock, and I would like to ask whether the key value of the lock can be set to a fixed String.\r\n\r\nWill my idea solve the problem? Or there&#39;s a better way","title":"Use the redis lock","body":"<p>There is a business scenario: there are operations of adding, deleting and modifying, and no other operations can be performed during each operation. I want to use redis lock, and I would like to ask whether the key value of the lock can be set to a fixed String.</p>\n<p>Will my idea solve the problem? Or there's a better way</p>\n"},{"tags":["java","json","serialization","gson","json-deserialization"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1671756669,"post_id":74895038,"comment_id":132171406,"body_markdown":"Why doesn&#39;t your code show up in the stack trace? Did you edit it out (please don&#39;t do that)?","body":"Why doesn&#39;t your code show up in the stack trace? Did you edit it out (please don&#39;t do that)?"},{"owner":{"account_id":26923532,"reputation":33,"user_id":20497135,"display_name":"HowDoISolveThis"},"score":0,"creation_date":1671759541,"post_id":74895038,"comment_id":132171752,"body_markdown":"@JimGarrison I don&#39;t think the error message really matters too much since the issue is that I am not serializing it correctly. Json cannot take Objects as a HashMaps key which is the whole problem. However, if you are curious the error occurred when calling the recovery method when trying to make the map. Do you know how I can serialize Objects that are keys in hashmaps?","body":"@JimGarrison I don&#39;t think the error message really matters too much since the issue is that I am not serializing it correctly. Json cannot take Objects as a HashMaps key which is the whole problem. However, if you are curious the error occurred when calling the recovery method when trying to make the map. Do you know how I can serialize Objects that are keys in hashmaps?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1671833731,"post_id":74895038,"comment_id":132186912,"body_markdown":"Assuming your json as seen by the code _really_ looks like what you posted, I don&#39;t think the dup flag is valid.  Can you verify that the input stream really contains the json you showed?","body":"Assuming your json as seen by the code <i>really</i> looks like what you posted, I don&#39;t think the dup flag is valid.  Can you verify that the input stream really contains the json you showed?"}],"owner":{"account_id":26923532,"reputation":33,"user_id":20497135,"display_name":"HowDoISolveThis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1671806182,"answer_count":0,"score":2,"last_activity_date":1671786536,"creation_date":1671754724,"question_id":74895038,"body_markdown":"I have a LinkedHashMap that contains two objects which both reside inside a normal HashMap. All 3 objects inside these maps have hashCode, equals, and toString methods. The &quot;Chunk&quot; object contains 3 variables a string and 2 integers all are final. The Location object only contains a string and 3 integers which are also final. Lastly, the ChestObject contains an enum and a list of other enums.\r\n\r\n```\r\npublic static Map&lt;Chunk, LinkedHashMap&lt;Location, ChestObject&gt;&gt; CHEST_MAP = new HashMap&lt;&gt;();\r\n\r\npublic class Location {\r\nprivate final String worldName;\r\nprivate final int x;\r\nprivate final int y;\r\nprivate final int z;\r\n\r\npublic class Chunk {\r\nprivate final String worldName;\r\nprivate final int x;\r\nprivate final int z;\r\n\r\npublic class ChestObject {\r\npublic List&lt;Material&gt; filteredMaterials = new ArrayList&lt;&gt;();\r\nprivate ChestType chestType;\r\n```\r\n\r\nSaving the map works perfectly but retrieving the info throws the following error.\r\n\r\n```\r\n[17:17:53 WARN]: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 4 [17:17:53 WARN]:\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:176) [17:17:53 WARN]:\r\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40) [17:17:53 WARN]:\r\n        at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:186) [17:17:53 WARN]:\r\n        at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:145) [17:17:53 WARN]:\r\n        at com.google.gson.Gson.fromJson(Gson.java:803) [17:17:53 WARN]:\r\n        at com.google.gson.Gson.fromJson(Gson.java:768) [17:17:53 WARN]:  \r\nCaused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 4 [17:17:53 WARN]:\r\n        at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:374) [17:17:53 WARN]:\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:165) [17:17:53 WARN]:\r\n        ... 18 more\r\n```\r\n\r\nThe file it attempts to read is the following...\r\n\r\n```\r\n{\r\n  &quot;WorldName:world X:-3 Z:-64&quot;: {\r\n    &quot;WorldName:world X:-39 Y:63 Z:-1016&quot;: {\r\n      &quot;filteredMaterials&quot;: [\r\n        &quot;ROTTEN_FLESH&quot;\r\n      ],\r\n      &quot;chestType&quot;: &quot;DOUBLE&quot;\r\n    },\r\n    &quot;WorldName:world X:-40 Y:63 Z:-1016&quot;: {\r\n      &quot;filteredMaterials&quot;: [\r\n        &quot;ROTTEN_FLESH&quot;\r\n      ],\r\n      &quot;chestType&quot;: &quot;DOUBLE&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe last bit of useful info is my recovery method which at this moment just attempts to print the map instead of assigning it to CHEST_MAP.\r\n\r\n```\r\nprivate void recoverChests() {\r\n    final File file = new File(getDataFolder(), &quot;chests.json&quot;);\r\n\r\n    if(file.exists() &amp;&amp; file.length() &gt; 2) {\r\n        try {\r\n            final Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n            final Type type = new TypeToken&lt;Map&lt;Chunk, LinkedHashMap&lt;Location, ChestObject&gt;&gt;&gt;() {}.getType();\r\n            final Map&lt;Chunk, LinkedHashMap&lt;Location, ChestObject&gt;&gt; map = gson.fromJson(new FileReader(file), type);\r\n            System.out.println(&quot;Map: &quot; + map);\r\n        } catch (IllegalStateException | JsonSyntaxException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo based on the above error it appears that Json is having a hard time serializing object keys while it has no trouble doing the same for values. This is shown above since we can see Json saving the data as a String instead of an object like it did with our ChestObject. So how can I correctly save the above data so that Json correctly serializes key objects?\r\n\r\n```\r\n private void saveChests() {\r\n        try {\r\n            if(!CHEST_MAP.isEmpty()) {\r\n                final File file = new File(this.getDataFolder(), &quot;chests.json&quot;);\r\n                final Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n                final Writer writer = new FileWriter(file);\r\n\r\n                gson.toJson(CHEST_MAP, writer);\r\n                writer.flush();\r\n                writer.close();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```","title":"Saving an object to a Json file as a key","body":"<p>I have a LinkedHashMap that contains two objects which both reside inside a normal HashMap. All 3 objects inside these maps have hashCode, equals, and toString methods. The &quot;Chunk&quot; object contains 3 variables a string and 2 integers all are final. The Location object only contains a string and 3 integers which are also final. Lastly, the ChestObject contains an enum and a list of other enums.</p>\n<pre><code>public static Map&lt;Chunk, LinkedHashMap&lt;Location, ChestObject&gt;&gt; CHEST_MAP = new HashMap&lt;&gt;();\n\npublic class Location {\nprivate final String worldName;\nprivate final int x;\nprivate final int y;\nprivate final int z;\n\npublic class Chunk {\nprivate final String worldName;\nprivate final int x;\nprivate final int z;\n\npublic class ChestObject {\npublic List&lt;Material&gt; filteredMaterials = new ArrayList&lt;&gt;();\nprivate ChestType chestType;\n</code></pre>\n<p>Saving the map works perfectly but retrieving the info throws the following error.</p>\n<pre><code>[17:17:53 WARN]: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 4 [17:17:53 WARN]:\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:176) [17:17:53 WARN]:\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40) [17:17:53 WARN]:\n        at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:186) [17:17:53 WARN]:\n        at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:145) [17:17:53 WARN]:\n        at com.google.gson.Gson.fromJson(Gson.java:803) [17:17:53 WARN]:\n        at com.google.gson.Gson.fromJson(Gson.java:768) [17:17:53 WARN]:  \nCaused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 4 [17:17:53 WARN]:\n        at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:374) [17:17:53 WARN]:\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:165) [17:17:53 WARN]:\n        ... 18 more\n</code></pre>\n<p>The file it attempts to read is the following...</p>\n<pre><code>{\n  &quot;WorldName:world X:-3 Z:-64&quot;: {\n    &quot;WorldName:world X:-39 Y:63 Z:-1016&quot;: {\n      &quot;filteredMaterials&quot;: [\n        &quot;ROTTEN_FLESH&quot;\n      ],\n      &quot;chestType&quot;: &quot;DOUBLE&quot;\n    },\n    &quot;WorldName:world X:-40 Y:63 Z:-1016&quot;: {\n      &quot;filteredMaterials&quot;: [\n        &quot;ROTTEN_FLESH&quot;\n      ],\n      &quot;chestType&quot;: &quot;DOUBLE&quot;\n    }\n  }\n}\n</code></pre>\n<p>The last bit of useful info is my recovery method which at this moment just attempts to print the map instead of assigning it to CHEST_MAP.</p>\n<pre><code>private void recoverChests() {\n    final File file = new File(getDataFolder(), &quot;chests.json&quot;);\n\n    if(file.exists() &amp;&amp; file.length() &gt; 2) {\n        try {\n            final Gson gson = new GsonBuilder().setPrettyPrinting().create();\n            final Type type = new TypeToken&lt;Map&lt;Chunk, LinkedHashMap&lt;Location, ChestObject&gt;&gt;&gt;() {}.getType();\n            final Map&lt;Chunk, LinkedHashMap&lt;Location, ChestObject&gt;&gt; map = gson.fromJson(new FileReader(file), type);\n            System.out.println(&quot;Map: &quot; + map);\n        } catch (IllegalStateException | JsonSyntaxException | IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>So based on the above error it appears that Json is having a hard time serializing object keys while it has no trouble doing the same for values. This is shown above since we can see Json saving the data as a String instead of an object like it did with our ChestObject. So how can I correctly save the above data so that Json correctly serializes key objects?</p>\n<pre><code> private void saveChests() {\n        try {\n            if(!CHEST_MAP.isEmpty()) {\n                final File file = new File(this.getDataFolder(), &quot;chests.json&quot;);\n                final Gson gson = new GsonBuilder().setPrettyPrinting().create();\n                final Writer writer = new FileWriter(file);\n\n                gson.toJson(CHEST_MAP, writer);\n                writer.flush();\n                writer.close();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","resources","loading"],"comments":[{"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"score":1,"creation_date":1343395939,"post_id":573679,"comment_id":15497944,"body_markdown":"class.getClass() is not the same as class.getClassLoader(). There is another solution too, getResourceAsStream() using a class in the same package as your resource. For more details: http://tshikatshikaaa.blogspot.nl/2012/07/maven-how-to-access-filesdata-in.html.","body":"class.getClass() is not the same as class.getClassLoader(). There is another solution too, getResourceAsStream() using a class in the same package as your resource. For more details: <a href=\"http://tshikatshikaaa.blogspot.nl/2012/07/maven-how-to-access-filesdata-in.html\" rel=\"nofollow noreferrer\">tshikatshikaaa.blogspot.nl/2012/07/&hellip;</a>."},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1443552240,"post_id":573679,"comment_id":53536677,"body_markdown":"See also http://stackoverflow.com/questions/204784/how-to-construct-a-relative-path-in-java-from-two-absolute-paths-or-urls","body":"See also <a href=\"http://stackoverflow.com/questions/204784/how-to-construct-a-relative-path-in-java-from-two-absolute-paths-or-urls\" title=\"how to construct a relative path in java from two absolute paths or urls\">stackoverflow.com/questions/204784/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9144,"reputation":6108,"user_id":16779,"accept_rate":89,"display_name":"RichH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1235249144,"creation_date":1235249144,"answer_id":573714,"question_id":573679,"body_markdown":"Doe the following work?\r\n\r\n    resourcesloader.class.getClass().getResource(&quot;/package1/resources/repository/SSL-Key/cert.jks&quot;)\r\n\r\nIs there a reason you can&#39;t specify the full path including the package?","title":"open resource with relative path in Java","body":"<p>Doe the following work?</p>\n\n<pre><code>resourcesloader.class.getClass().getResource(\"/package1/resources/repository/SSL-Key/cert.jks\")\n</code></pre>\n\n<p>Is there a reason you can't specify the full path including the package?</p>\n"},{"tags":[],"owner":{"account_id":18467,"reputation":6637,"user_id":42344,"accept_rate":60,"display_name":"jonathan.cone"},"down_vote_count":1,"up_vote_count":51,"is_accepted":true,"score":50,"last_activity_date":1235249888,"creation_date":1235249173,"answer_id":573715,"question_id":573679,"body_markdown":"Supply the path relative to the classloader, not the class you&#39;re getting the loader from.  For instance:\r\n\r\n    resourcesloader.class.getClassLoader().getResource(&quot;package1/resources/repository/SSL-Key/cert.jks&quot;).toString();","title":"open resource with relative path in Java","body":"<p>Supply the path relative to the classloader, not the class you're getting the loader from.  For instance:</p>\n\n<pre><code>resourcesloader.class.getClassLoader().getResource(\"package1/resources/repository/SSL-Key/cert.jks\").toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1235249563,"creation_date":1235249563,"answer_id":573731,"question_id":573679,"body_markdown":"    resourcesloader.class.getClass()\r\n\r\nCan be broken down to:\r\n\r\n    Class&lt;resourcesloader&gt; clazz = resourceloader.class;\r\n    Class&lt;Class&gt; classClass = clazz.getClass();\r\n\r\nWhich means you&#39;re trying to load the resource using a bootstrap class.\r\n\r\nInstead you probably want something like:\r\n\r\n    resourcesloader.class.getResource(&quot;repository/SSL-Key/cert.jks&quot;).toString()\r\n\r\nIf only javac warned about calling static methods on non-static contexts...","title":"open resource with relative path in Java","body":"<pre><code>resourcesloader.class.getClass()\n</code></pre>\n\n<p>Can be broken down to:</p>\n\n<pre><code>Class&lt;resourcesloader&gt; clazz = resourceloader.class;\nClass&lt;Class&gt; classClass = clazz.getClass();\n</code></pre>\n\n<p>Which means you're trying to load the resource using a bootstrap class.</p>\n\n<p>Instead you probably want something like:</p>\n\n<pre><code>resourcesloader.class.getResource(\"repository/SSL-Key/cert.jks\").toString()\n</code></pre>\n\n<p>If only javac warned about calling static methods on non-static contexts...</p>\n"},{"tags":[],"owner":{"account_id":25777,"reputation":1167,"user_id":66536,"display_name":"nbeyer"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1235261436,"creation_date":1235261436,"answer_id":573994,"question_id":573679,"body_markdown":"When you use &#39;getResource&#39; on a Class, a relative path is resolved based on the package the Class is in. When you use &#39;getResource&#39; on a ClassLoader, a relative path is resolved based on the root folder.\r\n\r\nIf you use an absolute path, both &#39;getResource&#39; methods will start at the root folder.","title":"open resource with relative path in Java","body":"<p>When you use 'getResource' on a Class, a relative path is resolved based on the package the Class is in. When you use 'getResource' on a ClassLoader, a relative path is resolved based on the root folder.</p>\n\n<p>If you use an absolute path, both 'getResource' methods will start at the root folder.</p>\n"},{"tags":[],"owner":{"account_id":93200,"reputation":2523,"user_id":255117,"accept_rate":75,"display_name":"Johnny"},"down_vote_count":0,"up_vote_count":187,"is_accepted":false,"score":187,"last_activity_date":1671786516,"creation_date":1264009845,"answer_id":2103625,"question_id":573679,"body_markdown":"I had problems with using the `getClass().getResource(&quot;filename.txt&quot;)` method.\r\nUpon reading the Java docs instructions, if your resource is not in the same package as the class you are trying to access the resource from, then you have to give it relative path starting with `&#39;/&#39;`. The recommended strategy is to put your resource files under a &quot;resources&quot; folder in the root directory. So for example if you have the structure:\r\n \r\n    src/main/com/mycompany/myapp\r\n\r\nthen you can add a resources folder as recommended by maven in:\r\n\r\n    src/main/resources\r\n\r\nfurthermore you can add subfolders in the resources folder\r\n\r\n    src/main/resources/textfiles\r\n\r\nand say that your file is called `myfile.txt` so you have \r\n\r\n    src/main/resources/textfiles/myfile.txt\r\n\r\nNow here is where the stupid path problem comes in. Say you have a class in your `com.mycompany.myapp package`, and you want to access the `myfile.txt` file from your resource folder. Some say you need to give the:\r\n\r\n    &quot;/main/resources/textfiles/myfile.txt&quot; path\r\n\r\nor \r\n\r\n    &quot;/resources/textfiles/myfile.txt&quot;\r\n\r\nboth of these are wrong. After I ran `mvn clean compile`, the files and folders are copied in the:\r\n\r\n    myapp/target/classes \r\n\r\nfolder. But the resources folder is not there, just the folders in the resources folder. So you have:\r\n\r\n    myapp/target/classes/textfiles/myfile.txt\r\n\r\n    myapp/target/classes/com/mycompany/myapp/*\r\n\r\nso the correct path to give to the `getClass().getResource(&quot;&quot;)` method is:\r\n\r\n    &quot;/textfiles/myfile.txt&quot;\r\n\r\nhere it is:\r\n\r\n    getClass().getResource(&quot;/textfiles/myfile.txt&quot;)\r\n\r\nThis will no longer return null, but will return your class.\r\nIt is strange to me, that the `&quot;resources&quot;` folder is not copied as well, but only the subfolders and files directly in the `&quot;resources&quot;` folder. It would seem logical to me that the `&quot;resources&quot;` folder would also be found under `&quot;myapp/target/classes&quot;","title":"open resource with relative path in Java","body":"<p>I had problems with using the <code>getClass().getResource(&quot;filename.txt&quot;)</code> method.\nUpon reading the Java docs instructions, if your resource is not in the same package as the class you are trying to access the resource from, then you have to give it relative path starting with <code>'/'</code>. The recommended strategy is to put your resource files under a &quot;resources&quot; folder in the root directory. So for example if you have the structure:</p>\n<pre><code>src/main/com/mycompany/myapp\n</code></pre>\n<p>then you can add a resources folder as recommended by maven in:</p>\n<pre><code>src/main/resources\n</code></pre>\n<p>furthermore you can add subfolders in the resources folder</p>\n<pre><code>src/main/resources/textfiles\n</code></pre>\n<p>and say that your file is called <code>myfile.txt</code> so you have</p>\n<pre><code>src/main/resources/textfiles/myfile.txt\n</code></pre>\n<p>Now here is where the stupid path problem comes in. Say you have a class in your <code>com.mycompany.myapp package</code>, and you want to access the <code>myfile.txt</code> file from your resource folder. Some say you need to give the:</p>\n<pre><code>&quot;/main/resources/textfiles/myfile.txt&quot; path\n</code></pre>\n<p>or</p>\n<pre><code>&quot;/resources/textfiles/myfile.txt&quot;\n</code></pre>\n<p>both of these are wrong. After I ran <code>mvn clean compile</code>, the files and folders are copied in the:</p>\n<pre><code>myapp/target/classes \n</code></pre>\n<p>folder. But the resources folder is not there, just the folders in the resources folder. So you have:</p>\n<pre><code>myapp/target/classes/textfiles/myfile.txt\n\nmyapp/target/classes/com/mycompany/myapp/*\n</code></pre>\n<p>so the correct path to give to the <code>getClass().getResource(&quot;&quot;)</code> method is:</p>\n<pre><code>&quot;/textfiles/myfile.txt&quot;\n</code></pre>\n<p>here it is:</p>\n<pre><code>getClass().getResource(&quot;/textfiles/myfile.txt&quot;)\n</code></pre>\n<p>This will no longer return null, but will return your class.\nIt is strange to me, that the <code>&quot;resources&quot;</code> folder is not copied as well, but only the subfolders and files directly in the <code>&quot;resources&quot;</code> folder. It would seem logical to me that the <code>&quot;resources&quot;</code> folder would also be found under `&quot;myapp/target/classes&quot;</p>\n"},{"tags":[],"owner":{"account_id":175234,"reputation":4172,"user_id":405117,"accept_rate":74,"display_name":"Vikram"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1288046533,"creation_date":1287620854,"answer_id":3983382,"question_id":573679,"body_markdown":"@GianCarlo:\r\nYou can try calling System property user.dir that will give you root of your java project and then do append this path to your relative path for example:\r\n\r\n\r\n    String root = System.getProperty(&quot;user.dir&quot;);\r\n    String filepath = &quot;/path/to/yourfile.txt&quot;; // in case of Windows: &quot;\\\\path \\\\to\\\\yourfile.txt\r\n    String abspath = root+filepath;\r\n\r\n\r\n\r\n    // using above path read your file into byte []\r\n    File file = new File(abspath);\r\n    FileInputStream fis = new FileInputStream(file);\r\n    byte []filebytes = new byte[(int)file.length()];\r\n    fis.read(filebytes);\r\n","title":"open resource with relative path in Java","body":"<p>@GianCarlo:\nYou can try calling System property user.dir that will give you root of your java project and then do append this path to your relative path for example:</p>\n\n<pre><code>String root = System.getProperty(\"user.dir\");\nString filepath = \"/path/to/yourfile.txt\"; // in case of Windows: \"\\\\path \\\\to\\\\yourfile.txt\nString abspath = root+filepath;\n\n\n\n// using above path read your file into byte []\nFile file = new File(abspath);\nFileInputStream fis = new FileInputStream(file);\nbyte []filebytes = new byte[(int)file.length()];\nfis.read(filebytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":271208,"reputation":9321,"user_id":561624,"accept_rate":83,"display_name":"E-rich"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1392307791,"creation_date":1308596929,"answer_id":6416151,"question_id":573679,"body_markdown":"In the hopes of providing additional information for those who don&#39;t pick this up as quickly as others, I&#39;d like to provide my scenario as it has a slightly different setup. My project was setup with the following directory structure (using Eclipse):\r\n\r\n&lt;pre&gt;\r\nProject/\r\n  src/                // application source code\r\n    org/\r\n      myproject/\r\n        MyClass.java\r\n  test/               // unit tests\r\n  res/                // resources\r\n    images/           // PNG images for icons\r\n      my-image.png\r\n    xml/              // XSD files for validating XML files with JAXB\r\n      my-schema.xsd\r\n    conf/             // default .conf file for Log4j\r\n      log4j.conf\r\n  lib/                // libraries added to build-path via project settings\r\n&lt;/pre&gt;\r\n\r\nI was having issues loading my resources from the ***res*** directory. I wanted all my resources separate from my source code (simply for managment/organization purposes). So, what I had to do was add the ***res*** directory to the *build-path* and then access the resource via:\r\n\r\n    static final ClassLoader loader = MyClass.class.getClassLoader();\r\n\r\n    // in some function\r\n    loader.getResource(&quot;images/my-image.png&quot;);\r\n    loader.getResource(&quot;xml/my-schema.xsd&quot;);\r\n    loader.getResource(&quot;conf/log4j.conf&quot;);\r\n\r\n**NOTE:** The `/` is omitted from the beginning of the resource string because I am using  [ClassLoader.getResource(String)][1] instead of [Class.getResource(String)][2].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html#getResource%28java.lang.String%29 &quot;Java API&quot;\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getResource%28java.lang.String%29 &quot;Java API&quot;","title":"open resource with relative path in Java","body":"<p>In the hopes of providing additional information for those who don't pick this up as quickly as others, I'd like to provide my scenario as it has a slightly different setup. My project was setup with the following directory structure (using Eclipse):</p>\n\n<pre>\nProject/\n  src/                // application source code\n    org/\n      myproject/\n        MyClass.java\n  test/               // unit tests\n  res/                // resources\n    images/           // PNG images for icons\n      my-image.png\n    xml/              // XSD files for validating XML files with JAXB\n      my-schema.xsd\n    conf/             // default .conf file for Log4j\n      log4j.conf\n  lib/                // libraries added to build-path via project settings\n</pre>\n\n<p>I was having issues loading my resources from the <strong><em>res</em></strong> directory. I wanted all my resources separate from my source code (simply for managment/organization purposes). So, what I had to do was add the <strong><em>res</em></strong> directory to the <em>build-path</em> and then access the resource via:</p>\n\n<pre><code>static final ClassLoader loader = MyClass.class.getClassLoader();\n\n// in some function\nloader.getResource(\"images/my-image.png\");\nloader.getResource(\"xml/my-schema.xsd\");\nloader.getResource(\"conf/log4j.conf\");\n</code></pre>\n\n<p><strong>NOTE:</strong> The <code>/</code> is omitted from the beginning of the resource string because I am using  <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html#getResource%28java.lang.String%29\">ClassLoader.getResource(String)</a> instead of <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getResource%28java.lang.String%29\">Class.getResource(String)</a>.</p>\n"},{"tags":[],"owner":{"account_id":79918,"reputation":902,"user_id":226295,"accept_rate":54,"display_name":"manocha_ak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1323593479,"creation_date":1323593479,"answer_id":8462852,"question_id":573679,"body_markdown":"Going with the two answers as mentioned above. The first one\r\n\r\n    resourcesloader.class.getClassLoader().getResource(&quot;package1/resources/repository/SSL-Key/cert.jks&quot;).toString();\r\n    resourcesloader.class.getResource(&quot;repository/SSL-Key/cert.jks&quot;).toString()\r\n\r\nShould be one and same thing?","title":"open resource with relative path in Java","body":"<p>Going with the two answers as mentioned above. The first one</p>\n\n<pre><code>resourcesloader.class.getClassLoader().getResource(\"package1/resources/repository/SSL-Key/cert.jks\").toString();\nresourcesloader.class.getResource(\"repository/SSL-Key/cert.jks\").toString()\n</code></pre>\n\n<p>Should be one and same thing?</p>\n"},{"tags":[],"owner":{"account_id":7194448,"reputation":71,"user_id":5493710,"display_name":"Paul Mira"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1445950821,"creation_date":1445950505,"answer_id":33368546,"question_id":573679,"body_markdown":"For those using eclipse + maven. Say you try to access the file `images/pic.jpg` in `src/main/resources`. Doing it this way : \r\n\r\n    ClassLoader loader = MyClass.class.getClassLoader();\r\n    File file = new File(loader.getResource(&quot;images/pic.jpg&quot;).getFile());\r\n\r\nis perfectly correct, but may result in a null pointer exception. Seems like eclipse doesn&#39;t recognize the folders in the maven directory structure as source folders right away. By removing and the `src/main/resources` folder from the project&#39;s source folders list and putting it back (project&gt;properties&gt;java build path&gt; source&gt;remove/add Folder), I was able to solve this. \r\n\r\n","title":"open resource with relative path in Java","body":"<p>For those using eclipse + maven. Say you try to access the file <code>images/pic.jpg</code> in <code>src/main/resources</code>. Doing it this way : </p>\n\n<pre><code>ClassLoader loader = MyClass.class.getClassLoader();\nFile file = new File(loader.getResource(\"images/pic.jpg\").getFile());\n</code></pre>\n\n<p>is perfectly correct, but may result in a null pointer exception. Seems like eclipse doesn't recognize the folders in the maven directory structure as source folders right away. By removing and the <code>src/main/resources</code> folder from the project's source folders list and putting it back (project>properties>java build path> source>remove/add Folder), I was able to solve this. </p>\n"},{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461778952,"creation_date":1461778952,"answer_id":36897139,"question_id":573679,"body_markdown":"I made a small modification on @jonathan.cone&#39;s one liner ( by adding `.getFile()` ) to avoid null pointer exception, and setting the path to data directory. Here&#39;s what worked for me :\r\n  \r\n    String realmID = new java.util.Scanner(new java.io.File(RandomDataGenerator.class.getClassLoader().getResource(&quot;data/aa-qa-id.csv&quot;).getFile().toString())).next();\r\n\r\n","title":"open resource with relative path in Java","body":"<p>I made a small modification on @jonathan.cone's one liner ( by adding <code>.getFile()</code> ) to avoid null pointer exception, and setting the path to data directory. Here's what worked for me :</p>\n\n<pre><code>String realmID = new java.util.Scanner(new java.io.File(RandomDataGenerator.class.getClassLoader().getResource(\"data/aa-qa-id.csv\").getFile().toString())).next();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":972509,"reputation":697,"user_id":994749,"display_name":"Oleg Poltoratskii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488298714,"creation_date":1488297610,"answer_id":42513412,"question_id":573679,"body_markdown":"Use this:\r\n\r\n    resourcesloader.class.getClassLoader().getResource(&quot;/path/to/file&quot;).**getPath();**","title":"open resource with relative path in Java","body":"<p>Use this:</p>\n\n<pre><code>resourcesloader.class.getClassLoader().getResource(\"/path/to/file\").**getPath();**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6577069,"reputation":21,"user_id":5082690,"display_name":"Nikto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565717812,"creation_date":1565717812,"answer_id":57482772,"question_id":573679,"body_markdown":"In Order to obtain real path to the file you can try this:\r\n    \r\n    URL fileUrl = Resourceloader.class.getResource(&quot;resources/repository/SSL-Key/cert.jks&quot;);\r\n    String pathToClass = fileUrl.getPath;    \r\n\r\nResourceloader is classname here.\r\n&quot;resources/repository/SSL-Key/cert.jks&quot; is relative path to the file. If you had your guiclass in ./package1/java with rest of folder structure remaining, you would take &quot;../resources/repository/SSL-Key/cert.jks&quot; as relative path because of rules defining relative path.\r\n\r\n\r\nThis way you can read your file with BufferedReader. DO NOT USE THE STRING to identify the path to the file, because if you have spaces or some characters from not english alphabet in your path, you will get problems and the file will not be found.\r\n  \r\n    BufferedReader bufferedReader = new BufferedReader(\r\n                            new InputStreamReader(fileUrl.openStream()));\r\n                   ","title":"open resource with relative path in Java","body":"<p>In Order to obtain real path to the file you can try this:</p>\n\n<pre><code>URL fileUrl = Resourceloader.class.getResource(\"resources/repository/SSL-Key/cert.jks\");\nString pathToClass = fileUrl.getPath;    \n</code></pre>\n\n<p>Resourceloader is classname here.\n\"resources/repository/SSL-Key/cert.jks\" is relative path to the file. If you had your guiclass in ./package1/java with rest of folder structure remaining, you would take \"../resources/repository/SSL-Key/cert.jks\" as relative path because of rules defining relative path.</p>\n\n<p>This way you can read your file with BufferedReader. DO NOT USE THE STRING to identify the path to the file, because if you have spaces or some characters from not english alphabet in your path, you will get problems and the file will not be found.</p>\n\n<pre><code>BufferedReader bufferedReader = new BufferedReader(\n                        new InputStreamReader(fileUrl.openStream()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7736610,"reputation":670,"user_id":5858006,"display_name":"Anmol Parida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632062492,"creation_date":1632062492,"answer_id":69244267,"question_id":573679,"body_markdown":"One of the stable way to work across all OS would be toget ```System.getProperty(&quot;user.dir&quot;)```\r\n\r\n```\r\nString filePath = System.getProperty(&quot;user.dir&quot;) + &quot;/path/to/file.extension&quot;;\r\n\r\nPath path = Paths.get(filePath);\r\nif (Files.exists(path)) {\r\n    return true;\r\n}\r\n```\r\n\r\n","title":"open resource with relative path in Java","body":"<p>One of the stable way to work across all OS would be toget <code>System.getProperty(&quot;user.dir&quot;)</code></p>\n<pre><code>String filePath = System.getProperty(&quot;user.dir&quot;) + &quot;/path/to/file.extension&quot;;\n\nPath path = Paths.get(filePath);\nif (Files.exists(path)) {\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":17535,"reputation":4551,"user_id":39339,"accept_rate":88,"display_name":"JuanDeLosMuertos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300302,"favorite_count":0,"down_vote_count":1,"up_vote_count":95,"accepted_answer_id":573715,"answer_count":13,"score":94,"last_activity_date":1671786516,"creation_date":1235247988,"question_id":573679,"body_markdown":"In my Java app I need to get some files and directories.\r\n\r\nThis is the program structure:\r\n\r\n    ./main.java\r\n    ./package1/guiclass.java\r\n    ./package1/resources/resourcesloader.java\r\n    ./package1/resources/repository/modules/   -&gt; this is the dir I need to get\r\n    ./package1/resources/repository/SSL-Key/cert.jks    -&gt; this is the file I need to get\r\n\r\n`guiclass` loads the resourcesloader class which will load my resources (directory and file).\r\n\r\nAs to the file, I tried\r\n\r\n    resourcesloader.class.getClass().getResource(&quot;repository/SSL-Key/cert.jks&quot;).toString()\r\n\r\nin order to get the real path, but this way does not work.\r\n\r\nI have no idea which path to use for the directory.\r\n","title":"open resource with relative path in Java","body":"<p>In my Java app I need to get some files and directories.</p>\n<p>This is the program structure:</p>\n<pre><code>./main.java\n./package1/guiclass.java\n./package1/resources/resourcesloader.java\n./package1/resources/repository/modules/   -&gt; this is the dir I need to get\n./package1/resources/repository/SSL-Key/cert.jks    -&gt; this is the file I need to get\n</code></pre>\n<p><code>guiclass</code> loads the resourcesloader class which will load my resources (directory and file).</p>\n<p>As to the file, I tried</p>\n<pre><code>resourcesloader.class.getClass().getResource(&quot;repository/SSL-Key/cert.jks&quot;).toString()\n</code></pre>\n<p>in order to get the real path, but this way does not work.</p>\n<p>I have no idea which path to use for the directory.</p>\n"},{"tags":["java","graphics"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1671767495,"post_id":74895896,"comment_id":132172605,"body_markdown":"To much guess work to provide an answer","body":"To much guess work to provide an answer"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1671784502,"post_id":74895896,"comment_id":132175192,"body_markdown":"Are you running your code on a Windows system with &gt; 100% monitor scaling?","body":"Are you running your code on a Windows system with &gt; 100% monitor scaling?"},{"owner":{"account_id":9501638,"reputation":11,"user_id":7062487,"display_name":"Dogz"},"score":0,"creation_date":1671811187,"post_id":74895896,"comment_id":132182030,"body_markdown":"@Gilbert Le Blanc\nNo, I&#39;m using MacOS and a window with set dimensions using Jframe and JPanel.","body":"@Gilbert Le Blanc No, I&#39;m using MacOS and a window with set dimensions using Jframe and JPanel."},{"owner":{"account_id":9501638,"reputation":11,"user_id":7062487,"display_name":"Dogz"},"score":0,"creation_date":1671811237,"post_id":74895896,"comment_id":132182047,"body_markdown":"@MadProgrammer\nWhat type of information would be most helpful to provide. Has anyone else noticed this issue?","body":"@MadProgrammer What type of information would be most helpful to provide. Has anyone else noticed this issue?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1671831916,"post_id":74895896,"comment_id":132186639,"body_markdown":"Something we can debug; a [mcve]","body":"Something we can debug; a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":9501638,"reputation":11,"user_id":7062487,"display_name":"Dogz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671786099,"creation_date":1671766829,"question_id":74895896,"body_markdown":"I am creating a game using Java Swing and Graphics in which I need to sense when the player comes into contact with some obstacles. I am trying to compare when their hitboxes overlap but it seems for some obstacles the exact boxes I see on the screen don&#39;t compare exactly to coordinates being compared between player and object. They are close but not exact. Therefore, if the player is slightly to the right or left of the object he will sometimes act as though he touched it even though the hitboxes do not visually overlap.  The printed out coordinates show they overlap even though this is not what is shown on screen.  I can fix this by adding a &quot;wobble&quot; to the inequalities I am comparing, a relatively small, hard coded value which I have to figure out and is not that precise. Is this an issue with Graphics just not being that exact? Is there a way to fix this?\r\n```\r\n public boolean isTouching(Player p)\r\n          \r\n  {\r\n     \r\n      if (p.getX()&lt;this.getXHitBox()+this.getWHitBox() &amp;&amp; p.getX()+p.getWidth()&gt;=this.getXHitBox() &amp;&amp; p.getY()+p.getHeight()&gt;this.getYHitBox() &amp;&amp; p.getY()&lt;=this.getYHitBox()+this.getHHitBox())\r\n        {   \r\n            //some stuff\r\n            \r\n            return true;\r\n        }\r\n      \r\n      return false;\r\n      \r\n  }\r\n```\r\n\r\nXhitBox is the x value of the hitbox (x + xOffset)\r\n   YHitBox is the y value (y+yOffset)\r\n   HHitBox is the height value\r\n   WHitBox is the width value\r\n\r\nhitbox is set for obstacles as such:\r\n ```\r\nhitbox=new Rectangle2D.Float( (float) (x + xOffset), (float) (y + yOffset), w, h); \r\n```\r\nand drawn like this:\r\n\r\n```\r\n public void drawHitbox(Graphics g)\r\n           \r\n   {   \r\n       \r\n       g.setColor(Color.RED);\r\n     \r\n        Graphics2D g2d = (Graphics2D) g;\r\n       g2d.draw(hitbox);\r\n        \r\n   }\r\n```\r\n\r\n\r\n\r\n\r\nI expected the sensing to only occur when the hitbox visually overlapped but the hitboxes are just slightly off (wobble= approx. 15) from reality. Why is that?\r\n  I tried printing out the coordinates and they are different from what is shown on screen! Even if the player is still slightly more to the right than the obstacle, according to the coordinates he is a little more to the left and touching the obstacle.  \r\n\r\n\r\nie Obstacle will be to the left with x coordinates 88 (for x + width)\r\nPlayer will be slightly to the right of the obstacle with coordinates 77. What gives?","title":"Java Graphics are not painted with exact coordinates which prevents correct sensing with hitboxes for game","body":"<p>I am creating a game using Java Swing and Graphics in which I need to sense when the player comes into contact with some obstacles. I am trying to compare when their hitboxes overlap but it seems for some obstacles the exact boxes I see on the screen don't compare exactly to coordinates being compared between player and object. They are close but not exact. Therefore, if the player is slightly to the right or left of the object he will sometimes act as though he touched it even though the hitboxes do not visually overlap.  The printed out coordinates show they overlap even though this is not what is shown on screen.  I can fix this by adding a &quot;wobble&quot; to the inequalities I am comparing, a relatively small, hard coded value which I have to figure out and is not that precise. Is this an issue with Graphics just not being that exact? Is there a way to fix this?</p>\n<pre><code> public boolean isTouching(Player p)\n          \n  {\n     \n      if (p.getX()&lt;this.getXHitBox()+this.getWHitBox() &amp;&amp; p.getX()+p.getWidth()&gt;=this.getXHitBox() &amp;&amp; p.getY()+p.getHeight()&gt;this.getYHitBox() &amp;&amp; p.getY()&lt;=this.getYHitBox()+this.getHHitBox())\n        {   \n            //some stuff\n            \n            return true;\n        }\n      \n      return false;\n      \n  }\n</code></pre>\n<p>XhitBox is the x value of the hitbox (x + xOffset)\nYHitBox is the y value (y+yOffset)\nHHitBox is the height value\nWHitBox is the width value</p>\n<p>hitbox is set for obstacles as such:</p>\n<pre><code>hitbox=new Rectangle2D.Float( (float) (x + xOffset), (float) (y + yOffset), w, h); \n</code></pre>\n<p>and drawn like this:</p>\n<pre><code> public void drawHitbox(Graphics g)\n           \n   {   \n       \n       g.setColor(Color.RED);\n     \n        Graphics2D g2d = (Graphics2D) g;\n       g2d.draw(hitbox);\n        \n   }\n</code></pre>\n<p>I expected the sensing to only occur when the hitbox visually overlapped but the hitboxes are just slightly off (wobble= approx. 15) from reality. Why is that?\nI tried printing out the coordinates and they are different from what is shown on screen! Even if the player is still slightly more to the right than the obstacle, according to the coordinates he is a little more to the left and touching the obstacle.</p>\n<p>ie Obstacle will be to the left with x coordinates 88 (for x + width)\nPlayer will be slightly to the right of the obstacle with coordinates 77. What gives?</p>\n"},{"tags":["java","json","compiler-errors","polymorphism","jackson"],"comments":[{"owner":{"account_id":3043386,"reputation":4957,"user_id":2579786,"display_name":"jbarrueta"},"score":1,"creation_date":1432170483,"post_id":30362446,"comment_id":48817175,"body_markdown":"What Jackson version are you using, the tutorial assumes Jackson 1.x, also any reason why not prefer annotations based deserialization for polymorphic instances?","body":"What Jackson version are you using, the tutorial assumes Jackson 1.x, also any reason why not prefer annotations based deserialization for polymorphic instances?"},{"owner":{"account_id":6336921,"reputation":1293,"user_id":4920067,"display_name":"Jon Driscoll"},"score":0,"creation_date":1432245431,"post_id":30362446,"comment_id":48859282,"body_markdown":"I am using 2.5. I can see if a downgrade to 1.X will solve the issue. Also, can you recommend a tutorial/example that might show the use of annotations to handle this issue?","body":"I am using 2.5. I can see if a downgrade to 1.X will solve the issue. Also, can you recommend a tutorial/example that might show the use of annotations to handle this issue?"},{"owner":{"account_id":3043386,"reputation":4957,"user_id":2579786,"display_name":"jbarrueta"},"score":0,"creation_date":1432246517,"post_id":30362446,"comment_id":48859762,"body_markdown":"Yeah, I wouldn&#39;t recommend you to downgrade, I will happily give an example working.","body":"Yeah, I wouldn&#39;t recommend you to downgrade, I will happily give an example working."},{"owner":{"account_id":1178044,"reputation":607,"user_id":1153563,"display_name":"Jerome L"},"score":2,"creation_date":1521464964,"post_id":30362446,"comment_id":85727780,"body_markdown":"Here is another article well explaining the different ways to perform polymorphic serialization / deserialization: https://octoperf.com/blog/2018/02/01/polymorphism-with-jackson/","body":"Here is another article well explaining the different ways to perform polymorphic serialization / deserialization: <a href=\"https://octoperf.com/blog/2018/02/01/polymorphism-with-jackson/\" rel=\"nofollow noreferrer\">octoperf.com/blog/2018/02/01/polymorphism-with-jackson</a>"},{"owner":{"account_id":1019866,"reputation":9990,"user_id":1030527,"accept_rate":86,"display_name":"bernie"},"score":0,"creation_date":1524622718,"post_id":30362446,"comment_id":87042568,"body_markdown":"I&#39;ve just added an (arguably) simpler solution that handles deserializing to different types based on the the presence of a property: https://stackoverflow.com/a/50013090/1030527","body":"I&#39;ve just added an (arguably) simpler solution that handles deserializing to different types based on the the presence of a property: <a href=\"https://stackoverflow.com/a/50013090/1030527\">stackoverflow.com/a/50013090/1030527</a>"}],"answers":[{"tags":[],"owner":{"account_id":3043386,"reputation":4957,"user_id":2579786,"display_name":"jbarrueta"},"down_vote_count":1,"up_vote_count":206,"is_accepted":true,"score":205,"last_activity_date":1671786040,"creation_date":1432255660,"answer_id":30386694,"question_id":30362446,"body_markdown":"As promised, I&#39;m putting an example for how to use annotations to serialize/deserialize polymorphic objects, I based this example in the `Animal` class from the tutorial you were reading.\r\n\r\nFirst of all your `Animal` class with the Json Annotations for the subclasses.\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import com.fasterxml.jackson.annotation.JsonSubTypes;\r\n    import com.fasterxml.jackson.annotation.JsonTypeInfo;\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY)\r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Dog.class, name = &quot;Dog&quot;),\r\n    \r\n        @JsonSubTypes.Type(value = Cat.class, name = &quot;Cat&quot;) }\r\n    )\r\n    public abstract class Animal {\r\n    \r\n        private String name;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        \r\n    }\r\n\r\nThen your subclasses, `Dog` and `Cat`.\r\n\r\n    public class Dog extends Animal {\r\n    \r\n        private String breed;\r\n    \r\n        public Dog() {\r\n    \r\n        }\r\n    \r\n        public Dog(String name, String breed) {\r\n            setName(name);\r\n            setBreed(breed);\r\n        }\r\n    \r\n        public String getBreed() {\r\n            return breed;\r\n        }\r\n    \r\n        public void setBreed(String breed) {\r\n            this.breed = breed;\r\n        }\r\n    }\r\n\r\n    public class Cat extends Animal {\r\n    \r\n        public String getFavoriteToy() {\r\n            return favoriteToy;\r\n        }\r\n    \r\n        public Cat() {}\r\n    \r\n        public Cat(String name, String favoriteToy) {\r\n            setName(name);\r\n            setFavoriteToy(favoriteToy);\r\n        }\r\n    \r\n        public void setFavoriteToy(String favoriteToy) {\r\n            this.favoriteToy = favoriteToy;\r\n        }\r\n    \r\n        private String favoriteToy;\r\n    \r\n    }\r\n\r\n\r\nAs you can see, there is nothing special for `Cat` and `Dog`, the only one that know about them is the `abstract` class `Animal`, so when deserializing, you&#39;ll target to `Animal` and the `ObjectMapper` will return the actual instance as you can see in the following test:\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n            Animal myDog = new Dog(&quot;ruffus&quot;,&quot;english shepherd&quot;);\r\n    \r\n            Animal myCat = new Cat(&quot;goya&quot;, &quot;mice&quot;);\r\n    \r\n            try {\r\n                String dogJson = objectMapper.writeValueAsString(myDog);\r\n    \r\n                System.out.println(dogJson);\r\n    \r\n                Animal deserializedDog = objectMapper.readValue(dogJson, Animal.class);\r\n    \r\n                System.out.println(&quot;Deserialized dogJson Class: &quot; + deserializedDog.getClass().getSimpleName());\r\n    \r\n                String catJson = objectMapper.writeValueAsString(myCat);\r\n    \r\n                Animal deseriliazedCat = objectMapper.readValue(catJson, Animal.class);\r\n    \r\n                System.out.println(&quot;Deserialized catJson Class: &quot; + deseriliazedCat.getClass().getSimpleName());\r\n    \r\n    \r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nOutput after running the `Test` class:\r\n\r\n`{&quot;@type&quot;:&quot;Dog&quot;,&quot;name&quot;:&quot;ruffus&quot;,&quot;breed&quot;:&quot;english shepherd&quot;}`\r\n\r\n`Deserialized dogJson Class: Dog`\r\n\r\n`{&quot;@type&quot;:&quot;Cat&quot;,&quot;name&quot;:&quot;goya&quot;,&quot;favoriteToy&quot;:&quot;mice&quot;}`\r\n\r\n`Deserialized catJson Class: Cat`","title":"Deserialize JSON with Jackson into Polymorphic Types - A Complete Example is giving me a compile error","body":"<p>As promised, I'm putting an example for how to use annotations to serialize/deserialize polymorphic objects, I based this example in the <code>Animal</code> class from the tutorial you were reading.</p>\n<p>First of all your <code>Animal</code> class with the Json Annotations for the subclasses.</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY)\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = Dog.class, name = &quot;Dog&quot;),\n\n    @JsonSubTypes.Type(value = Cat.class, name = &quot;Cat&quot;) }\n)\npublic abstract class Animal {\n\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n    \n}\n</code></pre>\n<p>Then your subclasses, <code>Dog</code> and <code>Cat</code>.</p>\n<pre><code>public class Dog extends Animal {\n\n    private String breed;\n\n    public Dog() {\n\n    }\n\n    public Dog(String name, String breed) {\n        setName(name);\n        setBreed(breed);\n    }\n\n    public String getBreed() {\n        return breed;\n    }\n\n    public void setBreed(String breed) {\n        this.breed = breed;\n    }\n}\n\npublic class Cat extends Animal {\n\n    public String getFavoriteToy() {\n        return favoriteToy;\n    }\n\n    public Cat() {}\n\n    public Cat(String name, String favoriteToy) {\n        setName(name);\n        setFavoriteToy(favoriteToy);\n    }\n\n    public void setFavoriteToy(String favoriteToy) {\n        this.favoriteToy = favoriteToy;\n    }\n\n    private String favoriteToy;\n\n}\n</code></pre>\n<p>As you can see, there is nothing special for <code>Cat</code> and <code>Dog</code>, the only one that know about them is the <code>abstract</code> class <code>Animal</code>, so when deserializing, you'll target to <code>Animal</code> and the <code>ObjectMapper</code> will return the actual instance as you can see in the following test:</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        Animal myDog = new Dog(&quot;ruffus&quot;,&quot;english shepherd&quot;);\n\n        Animal myCat = new Cat(&quot;goya&quot;, &quot;mice&quot;);\n\n        try {\n            String dogJson = objectMapper.writeValueAsString(myDog);\n\n            System.out.println(dogJson);\n\n            Animal deserializedDog = objectMapper.readValue(dogJson, Animal.class);\n\n            System.out.println(&quot;Deserialized dogJson Class: &quot; + deserializedDog.getClass().getSimpleName());\n\n            String catJson = objectMapper.writeValueAsString(myCat);\n\n            Animal deseriliazedCat = objectMapper.readValue(catJson, Animal.class);\n\n            System.out.println(&quot;Deserialized catJson Class: &quot; + deseriliazedCat.getClass().getSimpleName());\n\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>Output after running the <code>Test</code> class:</p>\n<p><code>{&quot;@type&quot;:&quot;Dog&quot;,&quot;name&quot;:&quot;ruffus&quot;,&quot;breed&quot;:&quot;english shepherd&quot;}</code></p>\n<p><code>Deserialized dogJson Class: Dog</code></p>\n<p><code>{&quot;@type&quot;:&quot;Cat&quot;,&quot;name&quot;:&quot;goya&quot;,&quot;favoriteToy&quot;:&quot;mice&quot;}</code></p>\n<p><code>Deserialized catJson Class: Cat</code></p>\n"},{"tags":[],"owner":{"account_id":1868463,"reputation":1512,"user_id":1691387,"display_name":"ravi.zombie"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1471587738,"creation_date":1471587738,"answer_id":39032335,"question_id":30362446,"body_markdown":"If using the fasterxml then,\r\n\r\nthese changes might be needed \r\n\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.core.Version;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n\r\n\r\n\r\nin main method--\r\n\r\nuse\r\n\r\n    SimpleModule module =\r\n      new SimpleModule(&quot;PolymorphicAnimalDeserializerModule&quot;);\r\n\r\ninstead of \r\n\r\n    new SimpleModule(&quot;PolymorphicAnimalDeserializerModule&quot;,\r\n          new Version(1, 0, 0, null));\r\n\r\nand in Animal deserialize() function, make below changes\r\n\r\n    //Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; elementsIterator =  root.getFields();\r\n    Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; elementsIterator = root.fields();\r\n    \r\n    //return mapper.readValue(root, animalClass);\r\n    return  mapper.convertValue(root, animalClass); \r\n\r\nThis works for fasterxml.jackson.  If it still complains of the class fields. Use the same format as in the json for the field names (with &quot;_&quot; -underscore). as this     \r\n`//mapper.setPropertyNamingStrategy(new CamelCaseNamingStrategy());`\r\n might not be supported.\r\n\r\n    abstract class Animal\r\n    {\r\n      public String name;\r\n    }\r\n    \r\n    class Dog extends Animal\r\n    {\r\n      public String breed;\r\n      public String leash_color;\r\n    }\r\n    \r\n    class Cat extends Animal\r\n    {\r\n      public String favorite_toy;\r\n    }\r\n    \r\n    class Bird extends Animal\r\n    {\r\n      public String wing_span;\r\n      public String preferred_food;\r\n    }","title":"Deserialize JSON with Jackson into Polymorphic Types - A Complete Example is giving me a compile error","body":"<p>If using the fasterxml then,</p>\n\n<p>these changes might be needed </p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.Version;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\n</code></pre>\n\n<p>in main method--</p>\n\n<p>use</p>\n\n<pre><code>SimpleModule module =\n  new SimpleModule(\"PolymorphicAnimalDeserializerModule\");\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>new SimpleModule(\"PolymorphicAnimalDeserializerModule\",\n      new Version(1, 0, 0, null));\n</code></pre>\n\n<p>and in Animal deserialize() function, make below changes</p>\n\n<pre><code>//Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; elementsIterator =  root.getFields();\nIterator&lt;Entry&lt;String, JsonNode&gt;&gt; elementsIterator = root.fields();\n\n//return mapper.readValue(root, animalClass);\nreturn  mapper.convertValue(root, animalClass); \n</code></pre>\n\n<p>This works for fasterxml.jackson.  If it still complains of the class fields. Use the same format as in the json for the field names (with \"_\" -underscore). as this<br>\n<code>//mapper.setPropertyNamingStrategy(new CamelCaseNamingStrategy());</code>\n might not be supported.</p>\n\n<pre><code>abstract class Animal\n{\n  public String name;\n}\n\nclass Dog extends Animal\n{\n  public String breed;\n  public String leash_color;\n}\n\nclass Cat extends Animal\n{\n  public String favorite_toy;\n}\n\nclass Bird extends Animal\n{\n  public String wing_span;\n  public String preferred_food;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7705384,"reputation":798,"user_id":5836515,"display_name":"AmitW"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1541722924,"creation_date":1485960861,"answer_id":41982776,"question_id":30362446,"body_markdown":"A simple way to enable polymorphic serialization / deserialization via Jackson library is to globally configure the Jackson object mapper (jackson.databind.ObjectMapper) to add information, such as the concrete class type, for certain kinds of classes, such as abstract classes. \r\n\r\nTo do that, just make sure your mapper is configured correctly. \r\nFor example:\r\n\r\nOption 1: Support polymorphic serialization / deserialization for abstract classes (and Object typed classes)\r\n\r\n    jacksonObjectMapper.enableDefaultTyping(\r\n        ObjectMapper.DefaultTyping.OBJECT_AND_NON_CONCRETE); \r\n\r\nOption 2: Support polymorphic serialization / deserialization for abstract classes (and Object typed classes), and arrays of those types.\r\n\r\n    jacksonObjectMapper.enableDefaultTyping(\r\n        ObjectMapper.DefaultTyping.NON_CONCRETE_AND_ARRAYS); \r\n\r\nReference: https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\r\n","title":"Deserialize JSON with Jackson into Polymorphic Types - A Complete Example is giving me a compile error","body":"<p>A simple way to enable polymorphic serialization / deserialization via Jackson library is to globally configure the Jackson object mapper (jackson.databind.ObjectMapper) to add information, such as the concrete class type, for certain kinds of classes, such as abstract classes. </p>\n\n<p>To do that, just make sure your mapper is configured correctly. \nFor example:</p>\n\n<p>Option 1: Support polymorphic serialization / deserialization for abstract classes (and Object typed classes)</p>\n\n<pre><code>jacksonObjectMapper.enableDefaultTyping(\n    ObjectMapper.DefaultTyping.OBJECT_AND_NON_CONCRETE); \n</code></pre>\n\n<p>Option 2: Support polymorphic serialization / deserialization for abstract classes (and Object typed classes), and arrays of those types.</p>\n\n<pre><code>jacksonObjectMapper.enableDefaultTyping(\n    ObjectMapper.DefaultTyping.NON_CONCRETE_AND_ARRAYS); \n</code></pre>\n\n<p>Reference: <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization</a></p>\n"},{"tags":[],"owner":{"account_id":4439251,"reputation":1427,"user_id":3614215,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1566976044,"creation_date":1566975540,"answer_id":57686619,"question_id":30362446,"body_markdown":"You need only one line before the declaration of the class `Animal` for correct polymorphic serialization/deserialization:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = &quot;@class&quot;)\r\n    public abstract class Animal {\r\n       ...\r\n    }\r\n\r\nThis line means: add a meta-property on serialization or read a meta-property on deserialization (`include = JsonTypeInfo.As.PROPERTY`) called &quot;@class&quot; (`property = &quot;@class&quot;`) that holds the fully-qualified Java class name (`use = JsonTypeInfo.Id.CLASS`).\r\n\r\nSo, if you create a JSON directly (without serialization) remember to add the meta-property &quot;@class&quot; with the desired class name for correct deserialization.\r\n\r\nMore information [here][1]\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization","title":"Deserialize JSON with Jackson into Polymorphic Types - A Complete Example is giving me a compile error","body":"<p>You need only one line before the declaration of the class <code>Animal</code> for correct polymorphic serialization/deserialization:</p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = \"@class\")\npublic abstract class Animal {\n   ...\n}\n</code></pre>\n\n<p>This line means: add a meta-property on serialization or read a meta-property on deserialization (<code>include = JsonTypeInfo.As.PROPERTY</code>) called \"@class\" (<code>property = \"@class\"</code>) that holds the fully-qualified Java class name (<code>use = JsonTypeInfo.Id.CLASS</code>).</p>\n\n<p>So, if you create a JSON directly (without serialization) remember to add the meta-property \"@class\" with the desired class name for correct deserialization.</p>\n\n<p>More information <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608541080,"creation_date":1608541080,"answer_id":65389932,"question_id":30362446,"body_markdown":"Handling polymorphism is either model-bound or requires lots of code with various custom deserializers. I&#39;m a co-author of a [JSON Dynamic Deserialization Library](https://github.com/Pretius/pretius-jddl/) that allows for model-independent json deserialization library. The solution to OP&#39;s problem can be found below. Note that the rules are declared in a very brief manner.\r\n\r\n```\r\npublic class SOAnswer {\r\n    @ToString @Getter @Setter\r\n    @AllArgsConstructor @NoArgsConstructor\r\n    public static abstract class Animal {\r\n        private String name;    \r\n    }\r\n\r\n    @ToString(callSuper = true) @Getter @Setter\r\n    @AllArgsConstructor @NoArgsConstructor\r\n    public static class Dog extends Animal {\r\n        private String breed;\r\n    }\r\n\r\n    @ToString(callSuper = true) @Getter @Setter\r\n    @AllArgsConstructor @NoArgsConstructor\r\n    public static class Cat extends Animal {\r\n        private String favoriteToy;\r\n    }\r\n    \r\n    \r\n    public static void main(String[] args) {\r\n        String json = &quot;[{&quot;\r\n                + &quot;    \\&quot;name\\&quot;: \\&quot;pluto\\&quot;,&quot;\r\n                + &quot;    \\&quot;breed\\&quot;: \\&quot;dalmatian\\&quot;&quot;\r\n                + &quot;},{&quot;\r\n                + &quot;    \\&quot;name\\&quot;: \\&quot;whiskers\\&quot;,&quot;\r\n                + &quot;    \\&quot;favoriteToy\\&quot;: \\&quot;mouse\\&quot;&quot;\r\n                + &quot;}]&quot;;\r\n        \r\n        // create a deserializer instance\r\n        DynamicObjectDeserializer deserializer = new DynamicObjectDeserializer();\r\n        \r\n        // runtime-configure deserialization rules; \r\n        // condition is bound to the existence of a field, but it could be any Predicate\r\n        deserializer.addRule(DeserializationRuleFactory.newRule(1, \r\n                (e) -&gt; e.getJsonNode().has(&quot;breed&quot;),\r\n                DeserializationActionFactory.objectToType(Dog.class)));\r\n        \r\n        deserializer.addRule(DeserializationRuleFactory.newRule(1, \r\n                (e) -&gt; e.getJsonNode().has(&quot;favoriteToy&quot;),\r\n                DeserializationActionFactory.objectToType(Cat.class)));\r\n        \r\n        List&lt;Animal&gt; deserializedAnimals = deserializer.deserializeArray(json, Animal.class);\r\n        \r\n        for (Animal animal : deserializedAnimals) {\r\n            System.out.println(&quot;Deserialized Animal Class: &quot; + animal.getClass().getSimpleName()+&quot;;\\t value: &quot;+animal.toString());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMaven depenendency for pretius-jddl (check newest version at [maven.org/jddl](https://search.maven.org/artifact/com.pretius/jddl):\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.pretius&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jddl&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Deserialize JSON with Jackson into Polymorphic Types - A Complete Example is giving me a compile error","body":"<p>Handling polymorphism is either model-bound or requires lots of code with various custom deserializers. I'm a co-author of a <a href=\"https://github.com/Pretius/pretius-jddl/\" rel=\"nofollow noreferrer\">JSON Dynamic Deserialization Library</a> that allows for model-independent json deserialization library. The solution to OP's problem can be found below. Note that the rules are declared in a very brief manner.</p>\n<pre><code>public class SOAnswer {\n    @ToString @Getter @Setter\n    @AllArgsConstructor @NoArgsConstructor\n    public static abstract class Animal {\n        private String name;    \n    }\n\n    @ToString(callSuper = true) @Getter @Setter\n    @AllArgsConstructor @NoArgsConstructor\n    public static class Dog extends Animal {\n        private String breed;\n    }\n\n    @ToString(callSuper = true) @Getter @Setter\n    @AllArgsConstructor @NoArgsConstructor\n    public static class Cat extends Animal {\n        private String favoriteToy;\n    }\n    \n    \n    public static void main(String[] args) {\n        String json = &quot;[{&quot;\n                + &quot;    \\&quot;name\\&quot;: \\&quot;pluto\\&quot;,&quot;\n                + &quot;    \\&quot;breed\\&quot;: \\&quot;dalmatian\\&quot;&quot;\n                + &quot;},{&quot;\n                + &quot;    \\&quot;name\\&quot;: \\&quot;whiskers\\&quot;,&quot;\n                + &quot;    \\&quot;favoriteToy\\&quot;: \\&quot;mouse\\&quot;&quot;\n                + &quot;}]&quot;;\n        \n        // create a deserializer instance\n        DynamicObjectDeserializer deserializer = new DynamicObjectDeserializer();\n        \n        // runtime-configure deserialization rules; \n        // condition is bound to the existence of a field, but it could be any Predicate\n        deserializer.addRule(DeserializationRuleFactory.newRule(1, \n                (e) -&gt; e.getJsonNode().has(&quot;breed&quot;),\n                DeserializationActionFactory.objectToType(Dog.class)));\n        \n        deserializer.addRule(DeserializationRuleFactory.newRule(1, \n                (e) -&gt; e.getJsonNode().has(&quot;favoriteToy&quot;),\n                DeserializationActionFactory.objectToType(Cat.class)));\n        \n        List&lt;Animal&gt; deserializedAnimals = deserializer.deserializeArray(json, Animal.class);\n        \n        for (Animal animal : deserializedAnimals) {\n            System.out.println(&quot;Deserialized Animal Class: &quot; + animal.getClass().getSimpleName()+&quot;;\\t value: &quot;+animal.toString());\n        }\n    }\n}\n</code></pre>\n<p>Maven depenendency for pretius-jddl (check newest version at <a href=\"https://search.maven.org/artifact/com.pretius/jddl\" rel=\"nofollow noreferrer\">maven.org/jddl</a>:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.pretius&lt;/groupId&gt;\n  &lt;artifactId&gt;jddl&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10363513,"reputation":1171,"user_id":7643283,"display_name":"Xobotun"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1633947873,"creation_date":1610459267,"answer_id":65685243,"question_id":30362446,"body_markdown":"Whereas [@jbarrueta](https://stackoverflow.com/users/2579786/jbarrueta) [answer](https://stackoverflow.com/a/30386694/7643283) is perfect, in the 2.12 version of Jackson was introduced a new long-awaited type for the `@JsonTypeInfo` annotation, `DEDUCTION`.\r\n\r\nIt is useful for the cases when you have no way to change the incoming json or must not do so. I&#39;d still recommend to use `use = JsonTypeInfo.Id.NAME`, as the new way [may throw an exception](https://github.com/FasterXML/jackson-databind/blob/fc56ab2e07980b9e2a4316272b99fef57f2a64bb/src/main/java/com/fasterxml/jackson/databind/jsontype/impl/AsDeductionTypeDeserializer.java#L84) in complex cases when it has no way to determine which subtype to use.\r\n\r\nNow you can simply write \r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\r\n@JsonSubTypes({\r\n    @JsonSubTypes.Type(Dog.class),\r\n    @JsonSubTypes.Type(Cat.class) }\r\n)\r\npublic abstract class Animal {\r\n\r\n    private String name;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd it will produce `{&quot;name&quot;:&quot;ruffus&quot;, &quot;breed&quot;:&quot;english shepherd&quot;}` and `{&quot;name&quot;:&quot;goya&quot;, &quot;favoriteToy&quot;:&quot;mice&quot;}`\r\n\r\nOnce again, it&#39;s safer to use `NAME` if some of the fields may be not present, like `breed` or `favoriteToy`. ","title":"Deserialize JSON with Jackson into Polymorphic Types - A Complete Example is giving me a compile error","body":"<p>Whereas <a href=\"https://stackoverflow.com/users/2579786/jbarrueta\">@jbarrueta</a> <a href=\"https://stackoverflow.com/a/30386694/7643283\">answer</a> is perfect, in the 2.12 version of Jackson was introduced a new long-awaited type for the <code>@JsonTypeInfo</code> annotation, <code>DEDUCTION</code>.</p>\n<p>It is useful for the cases when you have no way to change the incoming json or must not do so. I'd still recommend to use <code>use = JsonTypeInfo.Id.NAME</code>, as the new way <a href=\"https://github.com/FasterXML/jackson-databind/blob/fc56ab2e07980b9e2a4316272b99fef57f2a64bb/src/main/java/com/fasterxml/jackson/databind/jsontype/impl/AsDeductionTypeDeserializer.java#L84\" rel=\"noreferrer\">may throw an exception</a> in complex cases when it has no way to determine which subtype to use.</p>\n<p>Now you can simply write</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\n@JsonSubTypes({\n    @JsonSubTypes.Type(Dog.class),\n    @JsonSubTypes.Type(Cat.class) }\n)\npublic abstract class Animal {\n\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n<p>And it will produce <code>{&quot;name&quot;:&quot;ruffus&quot;, &quot;breed&quot;:&quot;english shepherd&quot;}</code> and <code>{&quot;name&quot;:&quot;goya&quot;, &quot;favoriteToy&quot;:&quot;mice&quot;}</code></p>\n<p>Once again, it's safer to use <code>NAME</code> if some of the fields may be not present, like <code>breed</code> or <code>favoriteToy</code>.</p>\n"},{"tags":[],"owner":{"account_id":2153873,"reputation":13196,"user_id":1909531,"accept_rate":79,"display_name":"Matthias M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637582764,"creation_date":1637582764,"answer_id":70065490,"question_id":30362446,"body_markdown":"If the name of the existing property is not equal to `name`, you can use the annotation value `EXISTING_PROPERTY`\r\n\r\nIf the property name is for example `type` instead of `name`, you can use this annotation:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME,\r\n                  include = JsonTypeInfo.As.EXISTING_PROPERTY,\r\n                  property = &quot;type&quot;)\r\n\r\nSee also https://stackoverflow.com/a/62278471/1909531","title":"Deserialize JSON with Jackson into Polymorphic Types - A Complete Example is giving me a compile error","body":"<p>If the name of the existing property is not equal to <code>name</code>, you can use the annotation value <code>EXISTING_PROPERTY</code></p>\n<p>If the property name is for example <code>type</code> instead of <code>name</code>, you can use this annotation:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME,\n              include = JsonTypeInfo.As.EXISTING_PROPERTY,\n              property = &quot;type&quot;)\n</code></pre>\n<p>See also <a href=\"https://stackoverflow.com/a/62278471/1909531\">https://stackoverflow.com/a/62278471/1909531</a></p>\n"}],"owner":{"account_id":6336921,"reputation":1293,"user_id":4920067,"display_name":"Jon Driscoll"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197097,"favorite_count":0,"down_vote_count":0,"up_vote_count":129,"accepted_answer_id":30386694,"answer_count":7,"score":129,"last_activity_date":1671786040,"creation_date":1432167154,"question_id":30362446,"body_markdown":"I am attempting to work through a tutorial from Programmer Bruce that is supposed to allow the deserialization of polymorphic JSON. \r\n\r\nThe complete list can be found here\r\n[Programmer Bruce tutorials][1] (Great stuff btw)\r\n\r\n  [1]: http://programmerbruce.blogspot.ca/2011/05/deserialize-json-with-jackson-into.html\r\n\r\nI have worked through the first five with no problems but I have hit a snag on the last one (Example 6), which of course is the one I really need to get working.\r\n\r\nI am getting the following error at compile time\r\n\r\n&gt; The method readValue(JsonParser, Class&lt;T&gt;) in the type ObjectMapper is not applicable for the arguments (ObjectNode, Class&lt;capture#6-of ? extends Animal&gt;)\r\n\r\nand it&#39;s being caused by the chunk of code\r\n\r\n      public Animal deserialize(  \r\n          JsonParser jp, DeserializationContext ctxt)   \r\n          throws IOException, JsonProcessingException  \r\n      {  \r\n        ObjectMapper mapper = (ObjectMapper) jp.getCodec();  \r\n        ObjectNode root = (ObjectNode) mapper.readTree(jp);  \r\n        Class&lt;? extends Animal&gt; animalClass = null;  \r\n        Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; elementsIterator =   \r\n            root.getFields();  \r\n        while (elementsIterator.hasNext())  \r\n        {  \r\n          Entry&lt;String, JsonNode&gt; element=elementsIterator.next();  \r\n          String name = element.getKey();  \r\n          if (registry.containsKey(name))  \r\n          {  \r\n            animalClass = registry.get(name);  \r\n            break;  \r\n          }  \r\n        }  \r\n        if (animalClass == null) return null;  \r\n        return mapper.readValue(root, animalClass);\r\n      }  \r\n    } \r\n\r\nSpecifically by the line \r\n\r\n&gt; return mapper.readValue(root, animalClass);\r\n\r\nHas anyone run into this before and if so, was there a solution?","title":"Deserialize JSON with Jackson into Polymorphic Types - A Complete Example is giving me a compile error","body":"<p>I am attempting to work through a tutorial from Programmer Bruce that is supposed to allow the deserialization of polymorphic JSON.</p>\n<p>The complete list can be found here\n<a href=\"http://programmerbruce.blogspot.ca/2011/05/deserialize-json-with-jackson-into.html\" rel=\"noreferrer\">Programmer Bruce tutorials</a> (Great stuff btw)</p>\n<p>I have worked through the first five with no problems but I have hit a snag on the last one (Example 6), which of course is the one I really need to get working.</p>\n<p>I am getting the following error at compile time</p>\n<blockquote>\n<p>The method readValue(JsonParser, Class) in the type ObjectMapper is not applicable for the arguments (ObjectNode, Class&lt;capture#6-of ? extends Animal&gt;)</p>\n</blockquote>\n<p>and it's being caused by the chunk of code</p>\n<pre><code>  public Animal deserialize(  \n      JsonParser jp, DeserializationContext ctxt)   \n      throws IOException, JsonProcessingException  \n  {  \n    ObjectMapper mapper = (ObjectMapper) jp.getCodec();  \n    ObjectNode root = (ObjectNode) mapper.readTree(jp);  \n    Class&lt;? extends Animal&gt; animalClass = null;  \n    Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; elementsIterator =   \n        root.getFields();  \n    while (elementsIterator.hasNext())  \n    {  \n      Entry&lt;String, JsonNode&gt; element=elementsIterator.next();  \n      String name = element.getKey();  \n      if (registry.containsKey(name))  \n      {  \n        animalClass = registry.get(name);  \n        break;  \n      }  \n    }  \n    if (animalClass == null) return null;  \n    return mapper.readValue(root, animalClass);\n  }  \n} \n</code></pre>\n<p>Specifically by the line</p>\n<blockquote>\n<p>return mapper.readValue(root, animalClass);</p>\n</blockquote>\n<p>Has anyone run into this before and if so, was there a solution?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9209,"page":783,"page_size":100}
