{"items":[{"tags":["java","python","py4j"],"comments":[{"owner":{"account_id":44734,"reputation":8367,"user_id":131427,"accept_rate":100,"display_name":"Barthelemy"},"score":0,"creation_date":1411934469,"post_id":26084212,"comment_id":40880876,"body_markdown":"Can you include the full stack trace?","body":"Can you include the full stack trace?"},{"owner":{"account_id":3671332,"reputation":1033,"user_id":3058478,"accept_rate":78,"display_name":"Amir Rossert"},"score":0,"creation_date":1411977078,"post_id":26084212,"comment_id":40891859,"body_markdown":"Hi, I added the stack trace in the post. Thanks.","body":"Hi, I added the stack trace in the post. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":3671332,"reputation":1033,"user_id":3058478,"accept_rate":78,"display_name":"Amir Rossert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1411983132,"creation_date":1411983132,"answer_id":26096703,"question_id":26084212,"body_markdown":"I found out what was the problem.\r\n\r\nWhen I&#39;m using Sublime Text to run the Python script and when the build was complete the process that uses the port (25334 in this case) was still running so the port was in use when I tried to run the script again.\r\n\r\nThanks anyway.","title":"PY4J callback server error","body":"<p>I found out what was the problem.</p>\n\n<p>When I'm using Sublime Text to run the Python script and when the build was complete the process that uses the port (25334 in this case) was still running so the port was in use when I tried to run the script again.</p>\n\n<p>Thanks anyway.</p>\n"},{"tags":[],"owner":{"account_id":2054894,"reputation":13890,"user_id":1832942,"accept_rate":74,"display_name":"Michael Currie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658307672,"creation_date":1658307672,"answer_id":73048713,"question_id":26084212,"body_markdown":"For me I got this error when I had a window open running the script in interactive mode (`code.interact(local=locals())`), forgot about this, and tried running the script again in a separate command window.","title":"PY4J callback server error","body":"<p>For me I got this error when I had a window open running the script in interactive mode (<code>code.interact(local=locals())</code>), forgot about this, and tried running the script again in a separate command window.</p>\n"}],"owner":{"account_id":3671332,"reputation":1033,"user_id":3058478,"accept_rate":78,"display_name":"Amir Rossert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1671,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26096703,"answer_count":2,"score":2,"last_activity_date":1658307672,"creation_date":1411902107,"question_id":26084212,"body_markdown":"I&#39;m trying to run the example for the callback server in the PY4J website\r\n[here][1]\r\n\r\n\r\n  [1]: http://py4j.sourceforge.net/advanced_topics.html#implementing-java-interfaces-from-python-callback\r\n\r\nBut I&#39;m getting the following exception:\r\n&quot;py4j.protocol.Py4JNetworkError: An error occurred while trying to start the callback server&quot;\r\n\r\nThis is the code:\r\n\r\nJava:\r\n\r\n    package py4j.examples;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n\r\n    import py4j.GatewayServer;\r\n\r\n    public class OperatorExample {\r\n\r\n        // To prevent integer overflow\r\n        private final static int MAX = 1000;\r\n\r\n        public List&lt;Integer&gt; randomBinaryOperator(Operator op) {\r\n                Random random = new Random();\r\n                List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n                numbers.add(random.nextInt(MAX));\r\n                numbers.add(random.nextInt(MAX));\r\n                numbers.add(op.doOperation(numbers.get(0), numbers.get(1)));\r\n                return numbers;\r\n        }\r\n\r\n        public List&lt;Integer&gt; randomTernaryOperator(Operator op) {\r\n                Random random = new Random();\r\n                List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n                numbers.add(random.nextInt(MAX));\r\n                numbers.add(random.nextInt(MAX));\r\n                numbers.add(random.nextInt(MAX));\r\n                numbers.add(op.doOperation(numbers.get(0), numbers.get(1), numbers.get(2)));\r\n                return numbers;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n                GatewayServer server = new GatewayServer(new OperatorExample());\r\n                server.start();\r\n        }\r\n\r\n    }\r\n\r\nInterface:\r\n\r\n    package py4j.examples;\r\n\r\n    public interface Operator {\r\n\r\n        public int doOperation(int i, int j);\r\n\r\n        public int doOperation(int i, int j, int k);\r\n\r\n    }\r\n\r\n\r\nPython:\r\n\r\n    from py4j.java_gateway import JavaGateway\r\n\r\n    class Addition(object):\r\n        def doOperation(self, i, j, k = None):\r\n            if k == None:\r\n                 return i + j\r\n            else:\r\n                 return i + j + k\r\n\r\n        class Java:\r\n            implements = [&#39;py4j.examples.Operator&#39;]\r\n\r\n    if __name__ == &#39;__main__&#39;:\r\n        gateway = JavaGateway(start_callback_server=True)\r\n        operator = Addition()\r\n        numbers = gateway.entry_point.randomBinaryOperator(operator)\r\n        print(numbers)\r\n        numbers = gateway.entry_point.randomTernaryOperator(operator)\r\n        print(numbers)\r\n        gateway.shutdown()\r\n\r\nAs I mentioned, I&#39;m getting this exception\r\n\r\n\r\n**py4j.protocol.Py4JNetworkError: An error occurred while trying to start the callback server.**\r\n\r\nThis is the stack trace:\r\n\r\n    Traceback (most recent call last):\r\n      File &quot;/home/amir/Python code/callback_example.py&quot;, line 14, in &lt;module&gt;\r\n        gateway = JavaGateway(start_callback_server=True)\r\n      File &quot;/usr/local/lib/python2.7/dist-packages/py4j-0.8.2.1-py2.7.egg/py4j/java_gateway.py&quot;, line 851, in __init__\r\n        self._start_callback_server(python_proxy_port)\r\n      File &quot;/usr/local/lib/python2.7/dist-packages/py4j-0.8.2.1-py2.7.egg/py4j/java_gateway.py&quot;, line 867, in _start_callback_server\r\n        self._callback_server.start()\r\n      File &quot;/usr/local/lib/python2.7/dist-packages/py4j-0.8.2.1-py2.7.egg/py4j/java_gateway.py&quot;, line 1091, in start\r\n        raise Py4JNetworkError(msg)\r\n    py4j.protocol.Py4JNetworkError: An error occurred while trying to start the callback server\r\n    [Finished in 0.5s with exit code 1]","title":"PY4J callback server error","body":"<p>I'm trying to run the example for the callback server in the PY4J website\n<a href=\"http://py4j.sourceforge.net/advanced_topics.html#implementing-java-interfaces-from-python-callback\" rel=\"nofollow\">here</a></p>\n\n<p>But I'm getting the following exception:\n\"py4j.protocol.Py4JNetworkError: An error occurred while trying to start the callback server\"</p>\n\n<p>This is the code:</p>\n\n<p>Java:</p>\n\n<pre><code>package py4j.examples;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\nimport py4j.GatewayServer;\n\npublic class OperatorExample {\n\n    // To prevent integer overflow\n    private final static int MAX = 1000;\n\n    public List&lt;Integer&gt; randomBinaryOperator(Operator op) {\n            Random random = new Random();\n            List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n            numbers.add(random.nextInt(MAX));\n            numbers.add(random.nextInt(MAX));\n            numbers.add(op.doOperation(numbers.get(0), numbers.get(1)));\n            return numbers;\n    }\n\n    public List&lt;Integer&gt; randomTernaryOperator(Operator op) {\n            Random random = new Random();\n            List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n            numbers.add(random.nextInt(MAX));\n            numbers.add(random.nextInt(MAX));\n            numbers.add(random.nextInt(MAX));\n            numbers.add(op.doOperation(numbers.get(0), numbers.get(1), numbers.get(2)));\n            return numbers;\n    }\n\n    public static void main(String[] args) {\n            GatewayServer server = new GatewayServer(new OperatorExample());\n            server.start();\n    }\n\n}\n</code></pre>\n\n<p>Interface:</p>\n\n<pre><code>package py4j.examples;\n\npublic interface Operator {\n\n    public int doOperation(int i, int j);\n\n    public int doOperation(int i, int j, int k);\n\n}\n</code></pre>\n\n<p>Python:</p>\n\n<pre><code>from py4j.java_gateway import JavaGateway\n\nclass Addition(object):\n    def doOperation(self, i, j, k = None):\n        if k == None:\n             return i + j\n        else:\n             return i + j + k\n\n    class Java:\n        implements = ['py4j.examples.Operator']\n\nif __name__ == '__main__':\n    gateway = JavaGateway(start_callback_server=True)\n    operator = Addition()\n    numbers = gateway.entry_point.randomBinaryOperator(operator)\n    print(numbers)\n    numbers = gateway.entry_point.randomTernaryOperator(operator)\n    print(numbers)\n    gateway.shutdown()\n</code></pre>\n\n<p>As I mentioned, I'm getting this exception</p>\n\n<p><strong>py4j.protocol.Py4JNetworkError: An error occurred while trying to start the callback server.</strong></p>\n\n<p>This is the stack trace:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/amir/Python code/callback_example.py\", line 14, in &lt;module&gt;\n    gateway = JavaGateway(start_callback_server=True)\n  File \"/usr/local/lib/python2.7/dist-packages/py4j-0.8.2.1-py2.7.egg/py4j/java_gateway.py\", line 851, in __init__\n    self._start_callback_server(python_proxy_port)\n  File \"/usr/local/lib/python2.7/dist-packages/py4j-0.8.2.1-py2.7.egg/py4j/java_gateway.py\", line 867, in _start_callback_server\n    self._callback_server.start()\n  File \"/usr/local/lib/python2.7/dist-packages/py4j-0.8.2.1-py2.7.egg/py4j/java_gateway.py\", line 1091, in start\n    raise Py4JNetworkError(msg)\npy4j.protocol.Py4JNetworkError: An error occurred while trying to start the callback server\n[Finished in 0.5s with exit code 1]\n</code></pre>\n"},{"tags":["java","inputstream","ioexception","fileinputstream"],"answers":[{"tags":[],"owner":{"account_id":1772677,"reputation":41,"user_id":1617160,"display_name":"lifeObserver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501356568,"creation_date":1501356568,"answer_id":45393276,"question_id":41506157,"body_markdown":"Please make sure that you switched off filtering in maven, it breaks you file and leads to such behaviour","title":"java.io.IOException: Failed to read zip entry source - Inputstream failed","body":"<p>Please make sure that you switched off filtering in maven, it breaks you file and leads to such behaviour</p>\n"},{"tags":[],"owner":{"account_id":6788907,"reputation":89,"user_id":5226666,"accept_rate":50,"display_name":"Syrious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658306388,"creation_date":1658233315,"answer_id":73036836,"question_id":41506157,"body_markdown":"Thanks to [lifeObserver][1] I could solve that issue with .xlsx files with the following changes to my pom.xml\r\n\r\n\r\n    &lt;resources&gt;\r\n        &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;excludes&gt;\r\n                &lt;exclude&gt;**/*.xlsx&lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n        &lt;/resource&gt;\r\n        &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources/binary&lt;/directory&gt;\r\n            &lt;filtering&gt;false&lt;/filtering&gt;\r\n        &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n\r\nThe [plugin documentation][2] even states that filtering can break binary files.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1617160/lifeobserver\r\n  [2]: https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html","title":"java.io.IOException: Failed to read zip entry source - Inputstream failed","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/1617160/lifeobserver\">lifeObserver</a> I could solve that issue with .xlsx files with the following changes to my pom.xml</p>\n<pre><code>&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;**/*.xlsx&lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/resource&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources/binary&lt;/directory&gt;\n        &lt;filtering&gt;false&lt;/filtering&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>The <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">plugin documentation</a> even states that filtering can break binary files.</p>\n"}],"owner":{"account_id":3165229,"reputation":35,"user_id":2675413,"accept_rate":40,"display_name":"tonyh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658306388,"creation_date":1483707042,"question_id":41506157,"body_markdown":"In my project i want to copy the styles from a template dotx file to my xwpf document. The template file is located in the resources folder and i&#39;m getting an IOException. This is really strange because it worked without any changes some days ago.\r\n\r\n    XWPFDocument document = new XWPFDocument();\r\n    File templateFile = this.getClass().getClassLoader().getResource(strTemplateFolder + &quot;/&quot; + strTemplateFilename).getFile();\r\n    \r\n    InputStream in = new FileInputStream(templateFile);\r\n    XWPFDocument template = new XWPFDocument(in);\r\n    \r\n    XWPFStyles newStyles = document.createStyles();\r\n    newStyles.setStyles(template.getStyle());\r\n\r\nThe error occurs at *new XWPFDocument(in)*\r\n\r\n    java.io.IOException: Failed to read zip entry source\r\n\tat org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:106)\r\n\tat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:342)\r\n\tat org.apache.poi.util.PackageHelper.open(PackageHelper.java:37)\r\n\tat org.apache.poi.xwpf.usermodel.XWPFDocument.&lt;init&gt;(XWPFDocument.java:128)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)\r\n\tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1771)\r\n\tat javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1657)\r\n\tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.scene.Node.fireEvent(Node.java:8413)\r\n\tat javafx.scene.control.Button.fire(Button.java:185)\r\n\tat com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\r\n\tat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\r\n\tat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\r\n\tat com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n\tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.scene.Scene$MouseHandler.process(Scene.java:3757)\r\n\tat javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)\r\n\tat javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)\r\n\tat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:381)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$354(GlassViewEventHandler.java:417)\r\n\tat com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:416)\r\n\tat com.sun.glass.ui.View.handleMouseEvent(View.java:555)\r\n\tat com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\r\n    Caused by: java.util.zip.ZipException: invalid code lengths set\r\n    \tat java.util.zip.InflaterInputStream.read(InflaterInputStream.java:164)\r\n    \tat java.util.zip.ZipInputStream.read(ZipInputStream.java:194)\r\n    \tat org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream.read(ZipSecureFile.java:213)\r\n    \tat java.io.FilterInputStream.read(FilterInputStream.java:107)\r\n    \tat org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource$FakeZipEntry.&lt;init&gt;(ZipInputStreamZipEntrySource.java:132)\r\n    \tat org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource.&lt;init&gt;(ZipInputStreamZipEntrySource.java:56)\r\n    \tat org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:99)\r\n    \t... 60 more\r\n\r\nCoping the template file to the package an changing the code to:\r\n\r\n    InputStream in = new FileInputStream(strTemplateFilename);\r\n\r\nit works. any ideas?","title":"java.io.IOException: Failed to read zip entry source - Inputstream failed","body":"<p>In my project i want to copy the styles from a template dotx file to my xwpf document. The template file is located in the resources folder and i'm getting an IOException. This is really strange because it worked without any changes some days ago.</p>\n\n<pre><code>XWPFDocument document = new XWPFDocument();\nFile templateFile = this.getClass().getClassLoader().getResource(strTemplateFolder + \"/\" + strTemplateFilename).getFile();\n\nInputStream in = new FileInputStream(templateFile);\nXWPFDocument template = new XWPFDocument(in);\n\nXWPFStyles newStyles = document.createStyles();\nnewStyles.setStyles(template.getStyle());\n</code></pre>\n\n<p>The error occurs at <em>new XWPFDocument(in)</em></p>\n\n<pre><code>java.io.IOException: Failed to read zip entry source\nat org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:106)\nat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:342)\nat org.apache.poi.util.PackageHelper.open(PackageHelper.java:37)\nat org.apache.poi.xwpf.usermodel.XWPFDocument.&lt;init&gt;(XWPFDocument.java:128)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)\nat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\nat javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1771)\nat javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1657)\nat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\nat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\nat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\nat javafx.event.Event.fireEvent(Event.java:198)\nat javafx.scene.Node.fireEvent(Node.java:8413)\nat javafx.scene.control.Button.fire(Button.java:185)\nat com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\nat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\nat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\nat com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\nat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\nat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\nat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\nat javafx.event.Event.fireEvent(Event.java:198)\nat javafx.scene.Scene$MouseHandler.process(Scene.java:3757)\nat javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)\nat javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)\nat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:381)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\nat java.security.AccessController.doPrivileged(Native Method)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$354(GlassViewEventHandler.java:417)\nat com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:416)\nat com.sun.glass.ui.View.handleMouseEvent(View.java:555)\nat com.sun.glass.ui.View.notifyMouse(View.java:937)\n\nCaused by: java.util.zip.ZipException: invalid code lengths set\n    at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:164)\n    at java.util.zip.ZipInputStream.read(ZipInputStream.java:194)\n    at org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream.read(ZipSecureFile.java:213)\n    at java.io.FilterInputStream.read(FilterInputStream.java:107)\n    at org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource$FakeZipEntry.&lt;init&gt;(ZipInputStreamZipEntrySource.java:132)\n    at org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource.&lt;init&gt;(ZipInputStreamZipEntrySource.java:56)\n    at org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:99)\n    ... 60 more\n</code></pre>\n\n<p>Coping the template file to the package an changing the code to:</p>\n\n<pre><code>InputStream in = new FileInputStream(strTemplateFilename);\n</code></pre>\n\n<p>it works. any ideas?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"score":1,"creation_date":1658306719,"post_id":73048340,"comment_id":129016332,"body_markdown":"Could this answer help you? https://stackoverflow.com/questions/51788764/how-to-intercept-a-requestrejectedexception-in-spring","body":"Could this answer help you? <a href=\"https://stackoverflow.com/questions/51788764/how-to-intercept-a-requestrejectedexception-in-spring\" title=\"how to intercept a requestrejectedexception in spring\">stackoverflow.com/questions/51788764/&hellip;</a>"},{"owner":{"account_id":24932,"reputation":2474,"user_id":63730,"accept_rate":83,"display_name":"geschema"},"score":0,"creation_date":1659028876,"post_id":73048340,"comment_id":129204137,"body_markdown":"https://stackoverflow.com/a/61607977/63730 works indeed, thanks.","body":"<a href=\"https://stackoverflow.com/a/61607977/63730\">stackoverflow.com/a/61607977/63730</a> works indeed, thanks."}],"owner":{"account_id":24932,"reputation":2474,"user_id":63730,"accept_rate":83,"display_name":"geschema"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658306008,"creation_date":1658306008,"question_id":73048340,"body_markdown":"In the context of a Spring Boot web application, the application log shows a huge stack trace every time a client tries to fetch a URL containing invalid characters (such as &#39;;&#39;):\r\n\r\n```\r\n2022-07-20 09:50:31.104 ERROR 22988 --- [io-8082-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\n\r\norg.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String &quot;;&quot;\r\n        at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:456) ~[spring-security-web-5.5.4.jar!/:5.5.4]\r\n        at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:429) ~[spring-security-web-5.5.4.jar!/:5.5.4]\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:196) ~[spring-security-web-5.5.4.jar!/:5.5.4]\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.4.jar!/:5.5.4]\r\n```\r\n\r\nIs there anything I can do to prevent these stack traces from polluting the logs?\r\n","title":"How to prevent stack traces on org.springframework.security.web.firewall.RequestRejectedException","body":"<p>In the context of a Spring Boot web application, the application log shows a huge stack trace every time a client tries to fetch a URL containing invalid characters (such as ';'):</p>\n<pre><code>2022-07-20 09:50:31.104 ERROR 22988 --- [io-8082-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\n\norg.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String &quot;;&quot;\n        at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:456) ~[spring-security-web-5.5.4.jar!/:5.5.4]\n        at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:429) ~[spring-security-web-5.5.4.jar!/:5.5.4]\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:196) ~[spring-security-web-5.5.4.jar!/:5.5.4]\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.4.jar!/:5.5.4]\n</code></pre>\n<p>Is there anything I can do to prevent these stack traces from polluting the logs?</p>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":886478,"reputation":9207,"user_id":925806,"display_name":"Ashwinee K Jha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658305911,"creation_date":1658305911,"answer_id":73048327,"question_id":73048066,"body_markdown":"You can simplify this a bit by using DefaultTableModel. It has addRow method which can you can use to add the rows.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/javax/swing/table/DefaultTableModel.html#addRow(java.lang.Object[])\r\n\r\nYou can also fix the problem here by creating separate lists for different types of vehicles and then creating cell data Object[][] of required size.","title":"Displaying ArrayList data in JTable","body":"<p>You can simplify this a bit by using DefaultTableModel. It has addRow method which can you can use to add the rows.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/table/DefaultTableModel.html#addRow(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/swing/table/DefaultTableModel.html#addRow(java.lang.Object[])</a></p>\n<p>You can also fix the problem here by creating separate lists for different types of vehicles and then creating cell data Object[][] of required size.</p>\n"}],"owner":{"account_id":25021910,"reputation":13,"user_id":18880518,"display_name":"NeOx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658305911,"creation_date":1658304605,"question_id":73048066,"body_markdown":"Here I have an ArrayList named vehicles that has several items of data type AutoRickshaw and ElectricScooter, here in the code below I will be making two different JTables to display data of AutoRickshaw and ElectricScooter. This table however loops to the vehicles.size() which causes to create empty rows (which would have data of ElectricScooter).The output is shown here [enter image description here][1]. I want these empty rows to not be displayed or be removed. \r\n```\r\nfor (int i = 0; i &lt; vehicles.size(); i++) {\r\n    if (vehicles.get(i) instanceof AutoRickshaw) {\r\n        autoRickshaw = (AutoRickshaw) vehicles.get(i);\r\n        for (int j = 0; j &lt; columns.length; j++) {\r\n            data[i][j] = autoRickshaw.getVehicleId();\r\n            data[i][j] = autoRickshaw.getVehicleName();\r\n            data[i][j] = autoRickshaw.getVehicleWeight();\r\n            data[i][j] = autoRickshaw.getVehicleColor();\r\n            data[i][j] = autoRickshaw.getVehicleSpeed();\r\n            data[i][j] = autoRickshaw.getEngineDisplacement();\r\n            data[i][j] = autoRickshaw.getTorque();\r\n            data[i][j] = autoRickshaw.getNumberOfSeats();\r\n            data[i][j] = autoRickshaw.getFuelTankCapacity();\r\n            data[i][j] = autoRickshaw.getGroundClearance();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CLXTX.png","title":"Displaying ArrayList data in JTable","body":"<p>Here I have an ArrayList named vehicles that has several items of data type AutoRickshaw and ElectricScooter, here in the code below I will be making two different JTables to display data of AutoRickshaw and ElectricScooter. This table however loops to the vehicles.size() which causes to create empty rows (which would have data of ElectricScooter).The output is shown here <a href=\"https://i.stack.imgur.com/CLXTX.png\" rel=\"nofollow noreferrer\">enter image description here</a>. I want these empty rows to not be displayed or be removed.</p>\n<pre><code>for (int i = 0; i &lt; vehicles.size(); i++) {\n    if (vehicles.get(i) instanceof AutoRickshaw) {\n        autoRickshaw = (AutoRickshaw) vehicles.get(i);\n        for (int j = 0; j &lt; columns.length; j++) {\n            data[i][j] = autoRickshaw.getVehicleId();\n            data[i][j] = autoRickshaw.getVehicleName();\n            data[i][j] = autoRickshaw.getVehicleWeight();\n            data[i][j] = autoRickshaw.getVehicleColor();\n            data[i][j] = autoRickshaw.getVehicleSpeed();\n            data[i][j] = autoRickshaw.getEngineDisplacement();\n            data[i][j] = autoRickshaw.getTorque();\n            data[i][j] = autoRickshaw.getNumberOfSeats();\n            data[i][j] = autoRickshaw.getFuelTankCapacity();\n            data[i][j] = autoRickshaw.getGroundClearance();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1658304970,"post_id":73048000,"comment_id":129015693,"body_markdown":"you should create an AtomicLong object as a field of the EventListener, not as a local variable in the same method(onMessageReceived)","body":"you should create an AtomicLong object as a field of the EventListener, not as a local variable in the same method(onMessageReceived)"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":1,"creation_date":1658305231,"post_id":73048000,"comment_id":129015786,"body_markdown":"You probably should use `ConcurrentHashMap` instead of `Hashtable`. https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html","body":"You probably should use <code>ConcurrentHashMap</code> instead of <code>Hashtable</code>. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658305116,"creation_date":1658305116,"answer_id":73048160,"question_id":73048000,"body_markdown":"You are creating a new `HashTable` every time the method executes, so each time the method exits your `HashTable` goes away. Create it as a field of the class instead, like so:\r\n\r\n```java\r\npublic class botListeners extends ListenerAdapter {\r\n\r\n    Hashtable&lt;String, Integer&gt; messangerDict = new Hashtable&lt;String, Integer&gt;();\r\n\r\n    @Override\r\n    public void onMessageReceived(@NotNull MessageReceivedEvent event) {\r\n        super.onMessageReceived(event);\r\n\r\n        if (!event.getAuthor().isBot()) {\r\n// ...\r\n```","title":"How is a dictionary created and updated in java?","body":"<p>You are creating a new <code>HashTable</code> every time the method executes, so each time the method exits your <code>HashTable</code> goes away. Create it as a field of the class instead, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class botListeners extends ListenerAdapter {\n\n    Hashtable&lt;String, Integer&gt; messangerDict = new Hashtable&lt;String, Integer&gt;();\n\n    @Override\n    public void onMessageReceived(@NotNull MessageReceivedEvent event) {\n        super.onMessageReceived(event);\n\n        if (!event.getAuthor().isBot()) {\n// ...\n</code></pre>\n"}],"owner":{"account_id":22656947,"reputation":83,"user_id":16830698,"display_name":"TomSmail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658305116,"creation_date":1658304322,"question_id":73048000,"body_markdown":"I am trying to create a Hash-table of &quot;messengers&quot; for a discord java bot. I am doing this project to help me learn java. I am initialising a Hash-table inside a public method that is connected to an event listener. I don&#39;t want to reset it each time an event occurs. This is my current code: \r\n\r\n```\r\npublic class botListeners extends ListenerAdapter {\r\n\r\n    @Override\r\n    public void onMessageReceived(@NotNull MessageReceivedEvent event) {\r\n        super.onMessageReceived(event);\r\n\r\n        // ISSUE HERE \r\n        Hashtable&lt;String, Integer&gt; messangerDict = new Hashtable&lt;String, Integer&gt;();\r\n\r\n        if (!event.getAuthor().isBot()) {\r\n            String message = event.getMessage().getContentRaw();\r\n            System.out.println(&quot;A message has been sent: &quot; + message);\r\n           \r\n            String messenger = event.getAuthor().getAsTag();\r\n\r\n            if (messangerDict.containsKey(event.getAuthor().getAsTag())){\r\n                messangerDict.put(messenger, messangerDict.get(messenger) + 1);\r\n\r\n            }else {\r\n                messangerDict.put(event.getAuthor().getAsTag(), 1);\r\n            }\r\n\r\n            System.out.println(messangerDict.toString());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy current output, each time I write a message to the &quot;guild&quot; is this:\r\n\r\n```\r\nA message has been sent: as\r\n{USERTAG=1}\r\nA message has been sent: s\r\n{USERTAG=1}\r\n```\r\n\r\nI would like it to increment each time, i.e the second should be 2, not 1.","title":"How is a dictionary created and updated in java?","body":"<p>I am trying to create a Hash-table of &quot;messengers&quot; for a discord java bot. I am doing this project to help me learn java. I am initialising a Hash-table inside a public method that is connected to an event listener. I don't want to reset it each time an event occurs. This is my current code:</p>\n<pre><code>public class botListeners extends ListenerAdapter {\n\n    @Override\n    public void onMessageReceived(@NotNull MessageReceivedEvent event) {\n        super.onMessageReceived(event);\n\n        // ISSUE HERE \n        Hashtable&lt;String, Integer&gt; messangerDict = new Hashtable&lt;String, Integer&gt;();\n\n        if (!event.getAuthor().isBot()) {\n            String message = event.getMessage().getContentRaw();\n            System.out.println(&quot;A message has been sent: &quot; + message);\n           \n            String messenger = event.getAuthor().getAsTag();\n\n            if (messangerDict.containsKey(event.getAuthor().getAsTag())){\n                messangerDict.put(messenger, messangerDict.get(messenger) + 1);\n\n            }else {\n                messangerDict.put(event.getAuthor().getAsTag(), 1);\n            }\n\n            System.out.println(messangerDict.toString());\n        }\n    }\n}\n</code></pre>\n<p>My current output, each time I write a message to the &quot;guild&quot; is this:</p>\n<pre><code>A message has been sent: as\n{USERTAG=1}\nA message has been sent: s\n{USERTAG=1}\n</code></pre>\n<p>I would like it to increment each time, i.e the second should be 2, not 1.</p>\n"},{"tags":["java","duplicates","command-line-interface"],"answers":[{"tags":[],"owner":{"account_id":9818845,"reputation":71,"user_id":7274434,"display_name":"ribash sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650140559,"creation_date":1650140559,"answer_id":71897250,"question_id":71874148,"body_markdown":"Apache common takes in the first option/argument unless looped over.\r\nJust use two for loops, compare element at &#39;j&#39; with element at &#39;i&#39;, return the element at &#39;j&#39; and and element at &#39;j+1&#39;\r\n\r\n    String[] options = {&quot;-a&quot;,&quot;123&quot;,&quot;-b&quot;,&quot;456&quot;,&quot;-c&quot;,&quot;789&quot;,&quot;-a&quot;, &quot;000&quot;};\r\n          List&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n    \r\n          for(int i = 0; i&lt;options.length; i++){\r\n             for(int j = i+1; j&lt;options.length; j++) {\r\n                 if(options[i].equals(options[j])){\r\n                     res.add(options[j]);\r\n                     res.add(options[j+1]);\r\n                 }\r\n             }\r\n          }\r\n          \r\n          for(String a: res)\r\n            System.out.println(a);\r\n\r\n\r\nThe above code prints \r\n\r\n    &quot;-a&quot; and &quot;000&quot; \r\n\r\nwhich is your repeated option w/argument\r\n","title":"Java apache commons CLI, repetitive options - need the last entered arguments","body":"<p>Apache common takes in the first option/argument unless looped over.\nJust use two for loops, compare element at 'j' with element at 'i', return the element at 'j' and and element at 'j+1'</p>\n<pre><code>String[] options = {&quot;-a&quot;,&quot;123&quot;,&quot;-b&quot;,&quot;456&quot;,&quot;-c&quot;,&quot;789&quot;,&quot;-a&quot;, &quot;000&quot;};\n      List&lt;String&gt; res = new ArrayList&lt;&gt;();\n\n      for(int i = 0; i&lt;options.length; i++){\n         for(int j = i+1; j&lt;options.length; j++) {\n             if(options[i].equals(options[j])){\n                 res.add(options[j]);\n                 res.add(options[j+1]);\n             }\n         }\n      }\n      \n      for(String a: res)\n        System.out.println(a);\n</code></pre>\n<p>The above code prints</p>\n<pre><code>&quot;-a&quot; and &quot;000&quot; \n</code></pre>\n<p>which is your repeated option w/argument</p>\n"}],"owner":{"account_id":12165959,"reputation":21,"user_id":18084508,"display_name":"TronChaser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658304918,"creation_date":1649950390,"question_id":71874148,"body_markdown":"I&#39;m just starting out with apache commons CLI in Java and could have CLI options which are repeated.  Does apache commons automatically process?  \r\n\r\nEx. (program -w arg 1 arg2 -w arg1 arg2). \r\n\r\nI need the last pair of args assigned to option -w.  Does apache commons automatically overwrite the args for repeated options?  ","title":"Java apache commons CLI, repetitive options - need the last entered arguments","body":"<p>I'm just starting out with apache commons CLI in Java and could have CLI options which are repeated.  Does apache commons automatically process?</p>\n<p>Ex. (program -w arg 1 arg2 -w arg1 arg2).</p>\n<p>I need the last pair of args assigned to option -w.  Does apache commons automatically overwrite the args for repeated options?</p>\n"},{"tags":["java","swing","jcombobox","listcellrenderer"],"answers":[{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467715109,"creation_date":1467715109,"answer_id":38201284,"question_id":38200477,"body_markdown":"- for better help sooner post an `SSCCE / MCVE`, short, runnable, compilable, with hardcoded value for `JComboBox` / `XxxComboBoxModel` in local variable\r\n- JList has Boolean array implemented as default in API (no idea whats hidden in \r\n`String trueFalseItem = Boolean.toString(tempValue);` and with value stored `JComboBox model`)\r\n- this is just code minimum to test `isSelected` and to change `JList.setSelectionXxx` inside `DefaultListCellRenderer` \r\n\r\nfor example (code in SSCCE / MCVE form)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n.\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.event.ActionEvent;\r\n    import java.util.Vector;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.Action;\r\n    import javax.swing.DefaultListCellRenderer;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class ComboBoxBooleanModel {\r\n    \r\n        private javax.swing.Timer timer = null;\r\n        private Vector&lt;Boolean&gt; comboBoxItems;\r\n        private JComboBox box;\r\n    \r\n        public ComboBoxBooleanModel() {\r\n            comboBoxItems = new Vector&lt;Boolean&gt;();\r\n            comboBoxItems.add(Boolean.TRUE);\r\n            comboBoxItems.add(Boolean.FALSE);\r\n            box = new JComboBox(comboBoxItems);\r\n            box.setRenderer(new DefaultListCellRenderer() {\r\n                @Override\r\n                public Component getListCellRendererComponent(JList list, Object value,\r\n                        int index, boolean isSelected, boolean cellHasFocus) {\r\n                    Component c = super.getListCellRendererComponent(\r\n                            list, value, index, isSelected, cellHasFocus);\r\n                    if (c instanceof JLabel) {\r\n                        JLabel l = (JLabel) c;\r\n                        if (Boolean.TRUE.equals(value)) {\r\n                            l.setBackground(Color.RED);\r\n                            if (isSelected) {\r\n                                list.setSelectionForeground(Color.RED);\r\n                                list.setSelectionBackground(Color.BLUE);\r\n                            }\r\n                        } else if (Boolean.FALSE.equals(value)) {\r\n                            l.setBackground(Color.BLUE);\r\n                            if (isSelected) {\r\n                                list.setSelectionForeground(Color.BLUE);\r\n                                list.setSelectionBackground(Color.RED);\r\n                            }\r\n                        }\r\n                        return l;\r\n                    }\r\n                    return c;\r\n                }\r\n            });\r\n            JFrame frame = new JFrame(&quot;&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(box);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    box.setSelectedIndex(1);\r\n                }\r\n            });\r\n            start();\r\n        }\r\n    \r\n        private void start() {\r\n            timer = new javax.swing.Timer(2250, updateCol());\r\n            timer.start();\r\n        }\r\n    \r\n        public Action updateCol() {\r\n            return new AbstractAction(&quot;text load action&quot;) {\r\n                private static final long serialVersionUID = 1L;\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    if (box.getSelectedItem() == (Boolean) false) {\r\n                        box.setSelectedItem((Boolean) true);\r\n                    } else {\r\n                        box.setSelectedItem((Boolean) false);\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    ComboBoxBooleanModel comboBoxModel = new ComboBoxBooleanModel();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/RW27w.jpg\r\n  [2]: http://i.stack.imgur.com/7hwVF.jpg","title":"Change color of selection (after selection) in a JComboBox","body":"<ul>\n<li>for better help sooner post an <code>SSCCE / MCVE</code>, short, runnable, compilable, with hardcoded value for <code>JComboBox</code> / <code>XxxComboBoxModel</code> in local variable</li>\n<li>JList has Boolean array implemented as default in API (no idea whats hidden in \n<code>String trueFalseItem = Boolean.toString(tempValue);</code> and with value stored <code>JComboBox model</code>)</li>\n<li>this is just code minimum to test <code>isSelected</code> and to change <code>JList.setSelectionXxx</code> inside <code>DefaultListCellRenderer</code> </li>\n</ul>\n\n<p>for example (code in SSCCE / MCVE form)</p>\n\n<p><a href=\"https://i.stack.imgur.com/RW27w.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RW27w.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7hwVF.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7hwVF.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>.</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Component;\nimport java.awt.event.ActionEvent;\nimport java.util.Vector;\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport javax.swing.DefaultListCellRenderer;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.SwingUtilities;\n\npublic class ComboBoxBooleanModel {\n\n    private javax.swing.Timer timer = null;\n    private Vector&lt;Boolean&gt; comboBoxItems;\n    private JComboBox box;\n\n    public ComboBoxBooleanModel() {\n        comboBoxItems = new Vector&lt;Boolean&gt;();\n        comboBoxItems.add(Boolean.TRUE);\n        comboBoxItems.add(Boolean.FALSE);\n        box = new JComboBox(comboBoxItems);\n        box.setRenderer(new DefaultListCellRenderer() {\n            @Override\n            public Component getListCellRendererComponent(JList list, Object value,\n                    int index, boolean isSelected, boolean cellHasFocus) {\n                Component c = super.getListCellRendererComponent(\n                        list, value, index, isSelected, cellHasFocus);\n                if (c instanceof JLabel) {\n                    JLabel l = (JLabel) c;\n                    if (Boolean.TRUE.equals(value)) {\n                        l.setBackground(Color.RED);\n                        if (isSelected) {\n                            list.setSelectionForeground(Color.RED);\n                            list.setSelectionBackground(Color.BLUE);\n                        }\n                    } else if (Boolean.FALSE.equals(value)) {\n                        l.setBackground(Color.BLUE);\n                        if (isSelected) {\n                            list.setSelectionForeground(Color.BLUE);\n                            list.setSelectionBackground(Color.RED);\n                        }\n                    }\n                    return l;\n                }\n                return c;\n            }\n        });\n        JFrame frame = new JFrame(\"\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(box);\n        frame.setLocationRelativeTo(null);\n        frame.pack();\n        frame.setVisible(true);\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                box.setSelectedIndex(1);\n            }\n        });\n        start();\n    }\n\n    private void start() {\n        timer = new javax.swing.Timer(2250, updateCol());\n        timer.start();\n    }\n\n    public Action updateCol() {\n        return new AbstractAction(\"text load action\") {\n            private static final long serialVersionUID = 1L;\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (box.getSelectedItem() == (Boolean) false) {\n                    box.setSelectedItem((Boolean) true);\n                } else {\n                    box.setSelectedItem((Boolean) false);\n                }\n            }\n        };\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                ComboBoxBooleanModel comboBoxModel = new ComboBoxBooleanModel();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467811436,"creation_date":1467811436,"answer_id":38225182,"question_id":38200477,"body_markdown":"Here is a short demo of 2 JCombos, one of which will not change its background color when selected :\r\n\r\n\tpublic static void main(String[] args){\r\n\t\r\n\t    JFrame frame = new JFrame(&quot;Combos BG Color test&quot;);\r\n\t    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t    frame.setLocationRelativeTo(null);\r\n\t    frame.getContentPane().setPreferredSize(new Dimension(400, 40));\r\n\t\r\n\t    JPanel mainPanel = new JPanel();\r\n\t    mainPanel.setLayout(new GridLayout(1,2));\r\n\t    frame.add(mainPanel);\r\n\t\r\n\t    JComboBox&lt;String&gt; aCombo = new JComboBox&lt;&gt;(new String[]{&quot;A&quot;,&quot;B&quot;,&quot;C&quot;});\r\n\t    mainPanel.add(aCombo);\r\n\t\r\n\t    JComboBox&lt;String&gt; bCombo = new JComboBox&lt;&gt;(new String[]{&quot;1&quot;,&quot;2&quot;,&quot;3&quot;});\r\n\t    Color bgColor = bCombo.getBackground();\r\n\t    bCombo.setRenderer(new DefaultListCellRenderer() {\r\n\t        @Override\r\n\t        public void paint(Graphics g) {\r\n\t            setBackground(bgColor);\r\n\t            super.paint(g);\r\n\t        }\r\n\t    });\r\n\t\r\n\t    mainPanel.add(bCombo);\r\n\t    frame.pack();\r\n\t    frame.setVisible(true);\r\n\t}\r\n\r\n(Most of the credit goes to this [answer][1])\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4412902/background-color-of-the-selected-item-in-an-uneditable-jcombobox","title":"Change color of selection (after selection) in a JComboBox","body":"<p>Here is a short demo of 2 JCombos, one of which will not change its background color when selected :</p>\n\n<pre><code>public static void main(String[] args){\n\n    JFrame frame = new JFrame(\"Combos BG Color test\");\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setLocationRelativeTo(null);\n    frame.getContentPane().setPreferredSize(new Dimension(400, 40));\n\n    JPanel mainPanel = new JPanel();\n    mainPanel.setLayout(new GridLayout(1,2));\n    frame.add(mainPanel);\n\n    JComboBox&lt;String&gt; aCombo = new JComboBox&lt;&gt;(new String[]{\"A\",\"B\",\"C\"});\n    mainPanel.add(aCombo);\n\n    JComboBox&lt;String&gt; bCombo = new JComboBox&lt;&gt;(new String[]{\"1\",\"2\",\"3\"});\n    Color bgColor = bCombo.getBackground();\n    bCombo.setRenderer(new DefaultListCellRenderer() {\n        @Override\n        public void paint(Graphics g) {\n            setBackground(bgColor);\n            super.paint(g);\n        }\n    });\n\n    mainPanel.add(bCombo);\n    frame.pack();\n    frame.setVisible(true);\n}\n</code></pre>\n\n<p>(Most of the credit goes to this <a href=\"https://stackoverflow.com/questions/4412902/background-color-of-the-selected-item-in-an-uneditable-jcombobox\">answer</a>)</p>\n"}],"owner":{"account_id":2663801,"reputation":5106,"user_id":2302843,"accept_rate":67,"display_name":"Zeliax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7179,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1658304784,"creation_date":1467712729,"question_id":38200477,"body_markdown":"I&#39;m writing a GUI using Swing. I have a custom written `JComboBox` using a `ListCellRenderer` and a `BasicComboBoxEditor`.\r\n\r\nIn my `getListCellRendererComponent()` method I change the color of the the list based on whether the item is &quot;selected&quot; (mouse is hovering above), which is nice and all, but I don&#39;t want the selection to change background color once a choice is made, which it currently does.\r\n\r\nThe first picture shows how the interface looks before a selection is made, and the second one shows how it looks after.\r\n\r\n[![Before selection is made][2]][2]\r\n[![After selection is made][1]][1]\r\n\r\n#QUESTION\r\nHow do I change the background of the &quot;selection&quot; to the &quot;stockColor&quot;?\r\n\r\n#MCVE\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.util.Vector;\r\n\r\n    import javax.swing.DefaultComboBoxModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.ListCellRenderer;\r\n    import javax.swing.plaf.basic.BasicComboBoxEditor;\r\n\r\n    public class TFComboBox extends JComboBox{\r\n\r\n\t    public static void main(String[] args){\t\t\r\n    \t\tcreateAndShowGUI();\r\n\t    }\r\n\t\r\n    \tpublic static void createAndShowGUI(){\r\n\t\t    JFrame frame = new JFrame(&quot;MCVE&quot;);\r\n\t\t\r\n    \t\tJPanel pane = new JPanel(new BorderLayout());\r\n\t    \tTFComboBox cb = new TFComboBox();\r\n\t\t    boolean[] tf = {true, false};\r\n    \t\tcb.addItems(tf);\r\n\t\t\r\n\t    \tJButton b = new JButton(&quot;Click me!&quot;);\r\n\t\t\r\n\t\t    pane.add(cb, BorderLayout.CENTER);\r\n    \t\tpane.add(b, BorderLayout.LINE_END);\r\n\t\t\r\n\t\t    frame.add(pane);\r\n\t\t\r\n    \t\tframe.setLocationRelativeTo(null);\r\n\t    \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.pack();\r\n\t    \tframe.setVisible(true);\r\n    \t}\r\n\t\r\n\t    private DefaultComboBoxModel model;\r\n    \tprivate Vector&lt;Boolean&gt; comboBoxItems;\r\n\t    private JComboBox comboBox;\r\n\r\n    \tpublic TFComboBox(){\r\n\t    \tcomboBoxItems = new Vector&lt;Boolean&gt;();\r\n\t\t    comboBoxItems.add(Boolean.TRUE);\r\n    \t\tcomboBoxItems.add(Boolean.FALSE);\r\n\t\r\n\t    \tcomboBox = new JComboBox(comboBoxItems);\r\n\t\r\n\t\t    model = new DefaultComboBoxModel();\r\n    \t\tsetModel(model);\r\n\t    \tsetRenderer(new TrueFalseComboRenderer());\r\n\t\t    setEditor(new TrueFalseComboEditor());\r\n    \t}\r\n\r\n\t    public void addItems(boolean[] items){\r\n\t\t    for(boolean anItem : items){\r\n\t\t\t    model.addElement(anItem);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    class TrueFalseComboRenderer extends JPanel implements ListCellRenderer {\r\n\r\n\t    private JLabel labelItem = new JLabel();\r\n    \tprivate Color stockColor = labelItem.getBackground();\r\n\r\n\t    public TrueFalseComboRenderer(){\r\n    \t    setLayout(new BorderLayout());\r\n    \t    labelItem.setOpaque(true);\r\n\t    \tlabelItem.setHorizontalAlignment(JLabel.CENTER);\r\n\t\r\n    \t    add(labelItem);\r\n\t\r\n    \t\tsetBackground(Color.LIGHT_GRAY);\r\n        }\r\n\r\n    \t@Override\r\n        public Component getListCellRendererComponent(JList list, Object value, \r\n\t\t    \tint index, boolean isSelected, boolean cellHasFocus) {\r\n\t\r\n        \tboolean tempValue = (boolean) value;\t\r\n\t        labelItem.setText(Boolean.toString(tempValue));\r\n\t\r\n\t\t    if(isSelected){\r\n    \t\t    labelItem.setBackground(stockColor.darker());\r\n    \t    \tlabelItem.setForeground(Color.WHITE);\r\n        \t} else {\r\n\t        \tlabelItem.setBackground(stockColor);\r\n\t\t        labelItem.setForeground(Color.BLACK);\r\n    \t\t}\r\n\r\n\t        return this;\r\n        }\t\r\n    }\r\n\r\n    class TrueFalseComboEditor extends BasicComboBoxEditor {\r\n\r\n\t    private JLabel labelItem = new JLabel();\r\n        private JPanel panel = new JPanel();\r\n\t    private Object selectedItem;\r\n\r\n        public TrueFalseComboEditor() {\r\n\t        labelItem.setOpaque(false);\r\n\t\t    labelItem.setHorizontalAlignment(JLabel.CENTER);\r\n        \tlabelItem.setForeground(Color.WHITE);\r\n\t\r\n\t        panel.setLayout(new FlowLayout(FlowLayout.LEFT, 5, 2));\r\n\t\t    panel.setBackground(Color.BLUE);\r\n        \tpanel.add(labelItem);\r\n\t    }\r\n\r\n        public Component getEditorComponent(){\r\n\t        return this.panel;\r\n    \t}\r\n\r\n        public Object getItem(){\r\n\t        return this.selectedItem;\r\n    \t}\r\n\r\n        public void setItem(Object item){\r\n\t        if(item == null){\r\n\t\t        return;\r\n    \t\t}\r\n\t\r\n        \tthis.selectedItem = item;\r\n\t        labelItem.setText(item.toString());\r\n    \t}\r\n    }\r\n\r\n#EDIT\r\nI&#39;ve added a MCVE and as you can see it is the &quot;problem&quot; that the JComboBox is focused that has to do with my issue. I&#39;ve placed a button next to the ComboBox to help with removing the focus from the ComboBox.\r\n\r\nSimply doing a `setFocusable(false)` would fix it, but also take away some of the functionality of the rest of the program, so this is not desired.\r\n\r\n  [1]: http://i.stack.imgur.com/B2Bm8.png\r\n  [2]: http://i.stack.imgur.com/gQS1I.png","title":"Change color of selection (after selection) in a JComboBox","body":"<p>I'm writing a GUI using Swing. I have a custom written <code>JComboBox</code> using a <code>ListCellRenderer</code> and a <code>BasicComboBoxEditor</code>.</p>\n\n<p>In my <code>getListCellRendererComponent()</code> method I change the color of the the list based on whether the item is \"selected\" (mouse is hovering above), which is nice and all, but I don't want the selection to change background color once a choice is made, which it currently does.</p>\n\n<p>The first picture shows how the interface looks before a selection is made, and the second one shows how it looks after.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gQS1I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQS1I.png\" alt=\"Before selection is made\"></a>\n<a href=\"https://i.stack.imgur.com/B2Bm8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B2Bm8.png\" alt=\"After selection is made\"></a></p>\n\n<h1>QUESTION</h1>\n\n<p>How do I change the background of the \"selection\" to the \"stockColor\"?</p>\n\n<h1>MCVE</h1>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.util.Vector;\n\nimport javax.swing.DefaultComboBoxModel;\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.ListCellRenderer;\nimport javax.swing.plaf.basic.BasicComboBoxEditor;\n\npublic class TFComboBox extends JComboBox{\n\n    public static void main(String[] args){     \n        createAndShowGUI();\n    }\n\n    public static void createAndShowGUI(){\n        JFrame frame = new JFrame(\"MCVE\");\n\n        JPanel pane = new JPanel(new BorderLayout());\n        TFComboBox cb = new TFComboBox();\n        boolean[] tf = {true, false};\n        cb.addItems(tf);\n\n        JButton b = new JButton(\"Click me!\");\n\n        pane.add(cb, BorderLayout.CENTER);\n        pane.add(b, BorderLayout.LINE_END);\n\n        frame.add(pane);\n\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    private DefaultComboBoxModel model;\n    private Vector&lt;Boolean&gt; comboBoxItems;\n    private JComboBox comboBox;\n\n    public TFComboBox(){\n        comboBoxItems = new Vector&lt;Boolean&gt;();\n        comboBoxItems.add(Boolean.TRUE);\n        comboBoxItems.add(Boolean.FALSE);\n\n        comboBox = new JComboBox(comboBoxItems);\n\n        model = new DefaultComboBoxModel();\n        setModel(model);\n        setRenderer(new TrueFalseComboRenderer());\n        setEditor(new TrueFalseComboEditor());\n    }\n\n    public void addItems(boolean[] items){\n        for(boolean anItem : items){\n            model.addElement(anItem);\n        }\n    }\n}\n\nclass TrueFalseComboRenderer extends JPanel implements ListCellRenderer {\n\n    private JLabel labelItem = new JLabel();\n    private Color stockColor = labelItem.getBackground();\n\n    public TrueFalseComboRenderer(){\n        setLayout(new BorderLayout());\n        labelItem.setOpaque(true);\n        labelItem.setHorizontalAlignment(JLabel.CENTER);\n\n        add(labelItem);\n\n        setBackground(Color.LIGHT_GRAY);\n    }\n\n    @Override\n    public Component getListCellRendererComponent(JList list, Object value, \n            int index, boolean isSelected, boolean cellHasFocus) {\n\n        boolean tempValue = (boolean) value;    \n        labelItem.setText(Boolean.toString(tempValue));\n\n        if(isSelected){\n            labelItem.setBackground(stockColor.darker());\n            labelItem.setForeground(Color.WHITE);\n        } else {\n            labelItem.setBackground(stockColor);\n            labelItem.setForeground(Color.BLACK);\n        }\n\n        return this;\n    }   \n}\n\nclass TrueFalseComboEditor extends BasicComboBoxEditor {\n\n    private JLabel labelItem = new JLabel();\n    private JPanel panel = new JPanel();\n    private Object selectedItem;\n\n    public TrueFalseComboEditor() {\n        labelItem.setOpaque(false);\n        labelItem.setHorizontalAlignment(JLabel.CENTER);\n        labelItem.setForeground(Color.WHITE);\n\n        panel.setLayout(new FlowLayout(FlowLayout.LEFT, 5, 2));\n        panel.setBackground(Color.BLUE);\n        panel.add(labelItem);\n    }\n\n    public Component getEditorComponent(){\n        return this.panel;\n    }\n\n    public Object getItem(){\n        return this.selectedItem;\n    }\n\n    public void setItem(Object item){\n        if(item == null){\n            return;\n        }\n\n        this.selectedItem = item;\n        labelItem.setText(item.toString());\n    }\n}\n</code></pre>\n\n<h1>EDIT</h1>\n\n<p>I've added a MCVE and as you can see it is the \"problem\" that the JComboBox is focused that has to do with my issue. I've placed a button next to the ComboBox to help with removing the focus from the ComboBox.</p>\n\n<p>Simply doing a <code>setFocusable(false)</code> would fix it, but also take away some of the functionality of the rest of the program, so this is not desired.</p>\n"},{"tags":["java","multithreading","tomcat","java-websocket"],"comments":[{"owner":{"account_id":62564,"reputation":43722,"user_id":2101267,"accept_rate":88,"display_name":"Dark Falcon"},"score":0,"creation_date":1436363738,"post_id":31294712,"comment_id":50580311,"body_markdown":"One thread per client is not usually a good idea if you wish to scale. If your threads don&#39;t block on anything but network I/O, you want approximately as many threads as you have cores in your machine. More just risks more context switching (expensive) and memory used for stacks.","body":"One thread per client is not usually a good idea if you wish to scale. If your threads don&#39;t block on anything but network I/O, you want approximately as many threads as you have cores in your machine. More just risks more context switching (expensive) and memory used for stacks."},{"owner":{"account_id":3670630,"reputation":9935,"user_id":3057934,"display_name":"vzamanillo"},"score":0,"creation_date":1436364118,"post_id":31294712,"comment_id":50580614,"body_markdown":"Tomcat NIO connector has a thread pool who is already doing it for you, take a look at this SO thread https://stackoverflow.com/questions/19211754/tomcat-8-jsr-356-websocket-threading","body":"Tomcat NIO connector has a thread pool who is already doing it for you, take a look at this SO thread <a href=\"https://stackoverflow.com/questions/19211754/tomcat-8-jsr-356-websocket-threading\" title=\"tomcat 8 jsr 356 websocket threading\">stackoverflow.com/questions/19211754/&hellip;</a>"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":1,"creation_date":1436364136,"post_id":31294712,"comment_id":50580635,"body_markdown":"I would suggest reading the accepted answer in this question - http://stackoverflow.com/questions/19211754/tomcat-8-jsr-356-websocket-threading - basically, let the container handle the threading.","body":"I would suggest reading the accepted answer in this question - <a href=\"http://stackoverflow.com/questions/19211754/tomcat-8-jsr-356-websocket-threading\" title=\"tomcat 8 jsr 356 websocket threading\">stackoverflow.com/questions/19211754/&hellip;</a> - basically, let the container handle the threading."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1436364481,"creation_date":1436363880,"answer_id":31294942,"question_id":31294712,"body_markdown":"There are two approaches to this kind of problem\r\n\r\n - one thread per request\r\n - a fixed number of threads to manage all requests\r\n\r\nActually you are using the second approach but using only 1 thread. \r\n\r\nYou can improve it using a pool of thread to handle your requests instead of only one.\r\n\r\nThe number of threads to use for the second approach depends on your application. If you have a strong use of cpu and a certain number of long I/O operations (read or write to disk or network) you can increase this number. \r\n\r\nIf you haven&#39;t I/O operations the number of thread should be closer to the number of cpu cores.\r\n\r\n**Note:** existing web servers use this two approaches for http requests. Just as an example **Apache** use the first (one thread for one request) and **NodeJs** use the second (it is event driven).\r\n\r\nIn any case use a system of timeout to unblock very long requests before server crashes.\r\n","title":"Multithreading with websockets","body":"<p>There are two approaches to this kind of problem</p>\n\n<ul>\n<li>one thread per request</li>\n<li>a fixed number of threads to manage all requests</li>\n</ul>\n\n<p>Actually you are using the second approach but using only 1 thread. </p>\n\n<p>You can improve it using a pool of thread to handle your requests instead of only one.</p>\n\n<p>The number of threads to use for the second approach depends on your application. If you have a strong use of cpu and a certain number of long I/O operations (read or write to disk or network) you can increase this number. </p>\n\n<p>If you haven't I/O operations the number of thread should be closer to the number of cpu cores.</p>\n\n<p><strong>Note:</strong> existing web servers use this two approaches for http requests. Just as an example <strong>Apache</strong> use the first (one thread for one request) and <strong>NodeJs</strong> use the second (it is event driven).</p>\n\n<p>In any case use a system of timeout to unblock very long requests before server crashes.</p>\n"},{"tags":[],"owner":{"account_id":3096747,"reputation":3369,"user_id":3887393,"accept_rate":72,"display_name":"xyz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1436364118,"creation_date":1436364118,"answer_id":31295032,"question_id":31294712,"body_markdown":"You can have a look at two very good scalable web servers, **Apache** and **Node.js**.\r\n\r\n**Apache**, when operating in *multi-threaded (worker)* mode, will create new threads for new connections (note that requests from the same browser are served from the same thread, via *keep-alive*).\r\n\r\n**Node.js** is vastly different, and uses an **asynschronous** workflow by delegating tasks.\r\n\r\nConsequently, Apache scales very well for computationally intensive tasks, while Node.js scales well for multiple (huge) small, event based requests.\r\n\r\nYou mention that you do some heavy tasks on the backend. This means that you should create multiple threads. How? Create a thread queue, with a `MAX_THREADS` limit, and a `MAX_THREADS_PER_CLIENT` limit, serving repeated requests by a client using the same thread. Your main thread must only spawn new threads.\r\n\r\nIf you can, you can incorporate some good Node.js features as well. If some task on the thread is taking too long, kill that thread with a callback for the task to create a new one when the job is done. You can do a benchmark to even train a NN to find out when to do this!\r\n\r\nHave a blast!","title":"Multithreading with websockets","body":"<p>You can have a look at two very good scalable web servers, <strong>Apache</strong> and <strong>Node.js</strong>.</p>\n\n<p><strong>Apache</strong>, when operating in <em>multi-threaded (worker)</em> mode, will create new threads for new connections (note that requests from the same browser are served from the same thread, via <em>keep-alive</em>).</p>\n\n<p><strong>Node.js</strong> is vastly different, and uses an <strong>asynschronous</strong> workflow by delegating tasks.</p>\n\n<p>Consequently, Apache scales very well for computationally intensive tasks, while Node.js scales well for multiple (huge) small, event based requests.</p>\n\n<p>You mention that you do some heavy tasks on the backend. This means that you should create multiple threads. How? Create a thread queue, with a <code>MAX_THREADS</code> limit, and a <code>MAX_THREADS_PER_CLIENT</code> limit, serving repeated requests by a client using the same thread. Your main thread must only spawn new threads.</p>\n\n<p>If you can, you can incorporate some good Node.js features as well. If some task on the thread is taking too long, kill that thread with a callback for the task to create a new one when the job is done. You can do a benchmark to even train a NN to find out when to do this!</p>\n\n<p>Have a blast!</p>\n"}],"owner":{"account_id":4442839,"reputation":527,"user_id":3616977,"accept_rate":75,"display_name":"user3616977"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18454,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":31294942,"answer_count":2,"score":8,"last_activity_date":1658304277,"creation_date":1436363344,"question_id":31294712,"body_markdown":"This is more a design question. I have the following implementation\r\n\r\nMultiple Client connections -----&gt;  Server ------&gt; Corresponding DB conns\r\n\r\n\r\nThe client/server communication is done using web sockets. It&#39;s a single threaded application currently. Evidently, this design does not scale as the the load on the server is too high and response back to the clients takes too long.\r\nBack end operations involve handling large amounts of data.\r\n\r\nMy question: is it a good idea to create a new thread for every web socket connection? This would imply 500 threads for 500 clients (the number of web sockets would be the same whether it&#39;s multi-threading or single threaded). This would ease the load on the server and hence would make life a lot more easier.\r\n\r\nor\r\n\r\nIs there a better logic to attain scalability? One of them could be create threads on the merit of the job and get the rest processed by the main thread. This somehow seems to be going back to the same problem again in the future.\r\n\r\nAny help here would be greatly appreciated.","title":"Multithreading with websockets","body":"<p>This is more a design question. I have the following implementation</p>\n\n<p>Multiple Client connections ----->  Server ------> Corresponding DB conns</p>\n\n<p>The client/server communication is done using web sockets. It's a single threaded application currently. Evidently, this design does not scale as the the load on the server is too high and response back to the clients takes too long.\nBack end operations involve handling large amounts of data.</p>\n\n<p>My question: is it a good idea to create a new thread for every web socket connection? This would imply 500 threads for 500 clients (the number of web sockets would be the same whether it's multi-threading or single threaded). This would ease the load on the server and hence would make life a lot more easier.</p>\n\n<p>or</p>\n\n<p>Is there a better logic to attain scalability? One of them could be create threads on the merit of the job and get the rest processed by the main thread. This somehow seems to be going back to the same problem again in the future.</p>\n\n<p>Any help here would be greatly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1658303541,"post_id":73047826,"comment_id":129015196,"body_markdown":"I&#39;d say a simple class would be the ideal solution. It&#39;s not wasteful. Any decent IDE will create most of the class for you.","body":"I&#39;d say a simple class would be the ideal solution. It&#39;s not wasteful. Any decent IDE will create most of the class for you."},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1658306262,"post_id":73047826,"comment_id":129016165,"body_markdown":"yeah, like Federico said, just create the class, i think it is the best way","body":"yeah, like Federico said, just create the class, i think it is the best way"},{"owner":{"account_id":11512926,"reputation":33,"user_id":10560184,"display_name":"Andorrax"},"score":0,"creation_date":1658361846,"post_id":73047826,"comment_id":129035497,"body_markdown":"@FedericoklezCulloca not sure I agree about it not being wasteful. There are several instances in my project where I need to implement  methods that return multiple values. Many of them are completely unrelated to each other in terms of number and type of output, so if I go down the &#39;bespoke&#39; class route, I&#39;ll need to form up classes for all of them,  which seems more wasteful than having this one generic type that can handle lots of things for me. \n\nIs there another reason to prefer the class route over this one ? I&#39;m not well versed in Java so might be missing something.","body":"@FedericoklezCulloca not sure I agree about it not being wasteful. There are several instances in my project where I need to implement  methods that return multiple values. Many of them are completely unrelated to each other in terms of number and type of output, so if I go down the &#39;bespoke&#39; class route, I&#39;ll need to form up classes for all of them,  which seems more wasteful than having this one generic type that can handle lots of things for me.   Is there another reason to prefer the class route over this one ? I&#39;m not well versed in Java so might be missing something."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658385952,"post_id":73047826,"comment_id":129039329,"body_markdown":"I&#39;m not sure I understand what &quot;wasteful&quot; means to you. I create what I need to make my code readable, first. A class carries information about what its members are meant to represent and what it itself represents (because both the class and its members have meaningful names). A pair (or any tuple) doesn&#39;t. If you need to privilege readability, go for a custom class. If you don&#39;t care (for example because you just need to use it locally inside a method, take the value and then forget it ever existed) go for the pair.","body":"I&#39;m not sure I understand what &quot;wasteful&quot; means to you. I create what I need to make my code readable, first. A class carries information about what its members are meant to represent and what it itself represents (because both the class and its members have meaningful names). A pair (or any tuple) doesn&#39;t. If you need to privilege readability, go for a custom class. If you don&#39;t care (for example because you just need to use it locally inside a method, take the value and then forget it ever existed) go for the pair."}],"owner":{"account_id":11512926,"reputation":33,"user_id":10560184,"display_name":"Andorrax"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658303858,"creation_date":1658303394,"question_id":73047826,"body_markdown":"I&#39;m required to create a function that will produce multiple outputs. There are 4 outputs of &#39;double&#39; type and two outputs of a specific object type. I don&#39;t want to output them all individually, nor do I want to put them in their own class (it seems wasteful to create a class just for this one method that won&#39;t be used anywhere else). So instead I thought to create a Tuple-like class that can take List types as inputs: \r\n\r\n    /**\r\n     * This class will create a Tuple-like data structure where both inputs can be lists. \r\n     * @param &lt;A&gt;\r\n     * @param &lt;B&gt;\r\n     */\r\n    public class ListPair&lt;A extends List, B extends List&gt; {\r\n      public final A a;\r\n      public final B b;\r\n    \r\n      public ListPair(A a, B b) {\r\n        this.a = a;\r\n        this.b = b;\r\n      }\r\n    }\r\n\r\nThe intent being that my function can now simply output this class. \r\n\r\nI haven&#39;t worked with Java before (most of my experience is with C#) so I&#39;m not sure if creating a class like this would be the best way to go. Any alternative recommendations would be welcome. ","title":"Produce a &#39;Tuple&#39; like output from a method but with lists as members of said tuple","body":"<p>I'm required to create a function that will produce multiple outputs. There are 4 outputs of 'double' type and two outputs of a specific object type. I don't want to output them all individually, nor do I want to put them in their own class (it seems wasteful to create a class just for this one method that won't be used anywhere else). So instead I thought to create a Tuple-like class that can take List types as inputs:</p>\n<pre><code>/**\n * This class will create a Tuple-like data structure where both inputs can be lists. \n * @param &lt;A&gt;\n * @param &lt;B&gt;\n */\npublic class ListPair&lt;A extends List, B extends List&gt; {\n  public final A a;\n  public final B b;\n\n  public ListPair(A a, B b) {\n    this.a = a;\n    this.b = b;\n  }\n}\n</code></pre>\n<p>The intent being that my function can now simply output this class.</p>\n<p>I haven't worked with Java before (most of my experience is with C#) so I'm not sure if creating a class like this would be the best way to go. Any alternative recommendations would be welcome.</p>\n"},{"tags":["java","spring","crud","crud-repository"],"comments":[{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":1,"creation_date":1658227930,"post_id":73031901,"comment_id":128994018,"body_markdown":"What&#39;s the request body you post to `http://localhost:8080/parking/1` ?","body":"What&#39;s the request body you post to <code>http:&#47;&#47;localhost:8080&#47;parking&#47;1</code> ?"},{"owner":{"display_name":"user18802229"},"score":0,"creation_date":1658297319,"post_id":73031901,"comment_id":129013304,"body_markdown":"Hello @dekkard , \nI got it now that I should use `{&quot;id&quot; : &quot;1&quot;}` as body in POSTMAN  Post Request, \nBut I am getting  another error :(,\n`Cannot invoke &quot;com.example.lesson31.domain.CarCombustibleType.equals(Object)&quot; because the return value of &quot;com.example.lesson31.domain.Car.getCarCombustibleType()&quot; is null`","body":"Hello @dekkard ,  I got it now that I should use <code>{&quot;id&quot; : &quot;1&quot;}</code> as body in POSTMAN  Post Request,  But I am getting  another error :(, <code>Cannot invoke &quot;com.example.lesson31.domain.CarCombustibleType.equals(Objec&zwnj;&#8203;t)&quot; because the return value of &quot;com.example.lesson31.domain.Car.getCarCombustibleType()&quot; is null</code>"}],"answers":[{"tags":[],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658298019,"creation_date":1658298019,"answer_id":73046793,"question_id":73031901,"body_markdown":"you should not use **double** type data as it cannot take null, you should use **Double** type data instead and similar different parts\r\n","title":"Cannot invoke &quot;....&quot; because the return value of &quot;...&quot; is null","body":"<p>you should not use <strong>double</strong> type data as it cannot take null, you should use <strong>Double</strong> type data instead and similar different parts</p>\n"},{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658303744,"creation_date":1658303744,"answer_id":73047892,"question_id":73031901,"body_markdown":"Your `http://localhost:8080/parking/1` endpoint expects a `CarCommand` object as a request body, like the one you&#39;ve shown:\r\n```java\r\n{\r\n&quot;make&quot; :  &quot;Fiat&quot;,\r\n&quot;model&quot; :  &quot;Abarth&quot;,\r\n&quot;price&quot; :  &quot;21500&quot;,\r\n&quot;width&quot; :  &quot;3.5&quot;,\r\n&quot;length&quot; :  &quot;3.5&quot;,\r\n&quot;carCombustibleType&quot; :&quot;0&quot;,(0= BENZINE, 1 = LPG, 2 =ELECTRIC, 3 = DIESEL)\r\n&quot;year&quot; :  &quot;2020-08-15&quot;\r\n}\r\n```\r\n\r\nBut when you POST \r\n```java\r\n{\r\n&quot;id&quot; : &quot;1&quot;\r\n}\r\n```\r\nthe fields of the `carCommand` used in\r\n```java\r\n@PostMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;ParkingDto&gt; parkCar(@PathVariable Long id, @RequestBody CarCommand carCommand) throws Exception {\r\n        return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.parkCarIntoParking(id, modelMapper.map(carCommand, Car.class)), ParkingDto.class), HttpStatus.OK);\r\n    }\r\n```\r\nare set to `null`, thus the `modelMapper`-mapped `Car` instance also has null fields and thus your error `the return value of &quot;com.example.lesson31.domain.Car.getCarCombustibleType()&quot; is null`\r\n\r\nThe proper way to make sure the request data you receive is valid is by using bean validation. See https://www.baeldung.com/spring-boot-bean-validation for more info.","title":"Cannot invoke &quot;....&quot; because the return value of &quot;...&quot; is null","body":"<p>Your <code>http://localhost:8080/parking/1</code> endpoint expects a <code>CarCommand</code> object as a request body, like the one you've shown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{\n&quot;make&quot; :  &quot;Fiat&quot;,\n&quot;model&quot; :  &quot;Abarth&quot;,\n&quot;price&quot; :  &quot;21500&quot;,\n&quot;width&quot; :  &quot;3.5&quot;,\n&quot;length&quot; :  &quot;3.5&quot;,\n&quot;carCombustibleType&quot; :&quot;0&quot;,(0= BENZINE, 1 = LPG, 2 =ELECTRIC, 3 = DIESEL)\n&quot;year&quot; :  &quot;2020-08-15&quot;\n}\n</code></pre>\n<p>But when you POST</p>\n<pre class=\"lang-java prettyprint-override\"><code>{\n&quot;id&quot; : &quot;1&quot;\n}\n</code></pre>\n<p>the fields of the <code>carCommand</code> used in</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;ParkingDto&gt; parkCar(@PathVariable Long id, @RequestBody CarCommand carCommand) throws Exception {\n        return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.parkCarIntoParking(id, modelMapper.map(carCommand, Car.class)), ParkingDto.class), HttpStatus.OK);\n    }\n</code></pre>\n<p>are set to <code>null</code>, thus the <code>modelMapper</code>-mapped <code>Car</code> instance also has null fields and thus your error <code>the return value of &quot;com.example.lesson31.domain.Car.getCarCombustibleType()&quot; is null</code></p>\n<p>The proper way to make sure the request data you receive is valid is by using bean validation. See <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-bean-validation</a> for more info.</p>\n"}],"owner":{"display_name":"user18802229"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8498,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73047892,"answer_count":2,"score":4,"last_activity_date":1658303744,"creation_date":1658210855,"question_id":73031901,"body_markdown":"I am working on small CRUD parking thing.\r\n\r\nMy tables **Car** and  **Parking** are created with liquibase, please see xml.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;databaseChangeLog\r\n            xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n                          http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.9.xsd&quot;&gt;\r\n        &lt;changeSet id=&quot;202010211812&quot; author=&quot;Victor&quot;&gt;\r\n            &lt;createTable tableName=&quot;parking&quot;&gt;\r\n                &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot; defaultOnNull=&quot;true&quot;&gt;\r\n                    &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;parking_id_pk&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;name&quot; type=&quot;varchar(250)&quot;/&gt;\r\n                &lt;column name=&quot;number_of_places&quot; type=&quot;int&quot;/&gt;\r\n                &lt;column name=&quot;number_of_chargers&quot; type=&quot;int&quot;/&gt;\r\n                &lt;column name=&quot;parking_type&quot; type=&quot;varchar(250)&quot;/&gt;\r\n                &lt;column name=&quot;length_parking_spot&quot; type=&quot;double&quot;/&gt;\r\n                &lt;column name=&quot;width_parking_spot&quot; type=&quot;double&quot;/&gt;\r\n            &lt;/createTable&gt;\r\n    \r\n            &lt;createTable tableName=&quot;car&quot;&gt;\r\n                &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot; defaultOnNull=&quot;true&quot;&gt;\r\n                    &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;car_id_pk&quot;/&gt;\r\n                &lt;/column&gt;\r\n                &lt;column name=&quot;make&quot; type=&quot;varchar(250)&quot;/&gt;\r\n                &lt;column name=&quot;model&quot; type=&quot;varchar(250)&quot;/&gt;\r\n                &lt;column name=&quot;price&quot; type=&quot;double&quot;/&gt;\r\n                &lt;column name=&quot;width&quot; type=&quot;double&quot;/&gt;\r\n                &lt;column name=&quot;length&quot; type=&quot;double&quot;/&gt;\r\n                &lt;column name=&quot;car_combustible_type&quot; type=&quot;varchar(250)&quot;/&gt;\r\n                &lt;column name=&quot;year&quot; type=&quot;date&quot;/&gt;\r\n                &lt;column name=&quot;parking_id&quot; type=&quot;bigint&quot;&gt;\r\n                &lt;/column&gt;\r\n            &lt;/createTable&gt;\r\n        &lt;/changeSet&gt;\r\n    &lt;/databaseChangeLog&gt;\r\n\r\n\r\n\r\nHere are my classes\r\n\r\n\r\nParking :\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    \r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Parking {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        protected int numberOfPlaces;\r\n        protected int numberOfChargers;\r\n        private ParkingType parkingType;\r\n        private double lengthParkingSpot;\r\n        private double widthParkingSpot;\r\n    \r\n        @OneToMany\r\n        private Set&lt;Car&gt; cars = new HashSet&lt;&gt;();\r\n    }\r\n\r\n\r\nParkingService :\r\n\r\n    import com.example.lesson31.domain.Car;\r\n    import com.example.lesson31.domain.Parking;\r\n    import com.example.lesson31.domain.ParkingType;\r\n    import com.example.lesson31.exception.CarBiggerThenParkingSpotException;\r\n    import com.example.lesson31.repository.ParkingRepository;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class ParkingService extends Parking {\r\n    \r\n        private final ParkingRepository parkingRepository;\r\n\r\n        public Parking save(Parking parking) {\r\n            parkingRepository.save(parking);\r\n            return parking;\r\n        }\r\n    \r\n        public List&lt;Parking&gt; getAll() {\r\n            return parkingRepository.findAll();\r\n        }\r\n    \r\n        public Parking parkCarIntoParking(Long parkingId, Car car) throws Exception {\r\n            Parking parking = parkingRepository.findById(parkingId)\r\n                    .orElseThrow(() -&gt; new Exception(&quot;Id car not found&quot;));\r\n            if (parking.getNumberOfPlaces() == 0) {\r\n                throw new Exception(&quot;no more empty parking spaces :(&quot;);\r\n            }\r\n            isLpgOrNo(car, parking);\r\n            isElectricOrNo(car, parking);\r\n            isCarBiggerThenTheWidthSpot(car, parking);\r\n    \r\n            parking.getCars()\r\n                    .add(car);\r\n            return parking;\r\n        }\r\n    \r\n        public Parking getParkingById(Long id) throws Exception {\r\n            return parkingRepository.findById(id)\r\n                    .orElseThrow(() -&gt; new Exception(&quot;Car Id not found&quot;));\r\n        }\r\n        public Parking updateParking(Long id, Parking parking) {\r\n            Parking parking1 = parkingRepository.findById(id)\r\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Custom error message&quot;));\r\n            parking1.setName(parking.getName());\r\n            parking1.setNumberOfPlaces(parking.getNumberOfPlaces());\r\n            parking1.setNumberOfChargers(parking.getNumberOfChargers());\r\n            parking1.setWidthParkingSpot(parking.getWidthParkingSpot());\r\n            parking1.setLengthParkingSpot(parking.getLengthParkingSpot());\r\n            return parkingRepository.save(parking);\r\n    \r\n        }\r\n    \r\n        public void deleteParking(Long id) throws Exception {\r\n            Parking parkingForDelete = parkingRepository.findById(id)\r\n                    .orElseThrow(() -&gt; new Exception(&quot;grgreg&quot;));\r\n            parkingRepository.deleteById(parkingForDelete.getId());\r\n        }\r\n    \r\n    \r\n        public void isLpgOrNo(Car car, Parking parking) throws Exception {\r\n            if (car.getCarCombustibleType()\r\n                    .equalsIgnoreCase(&quot;lpg&quot;)\r\n                    &amp;&amp; parking.getParkingType()\r\n                    .equals(ParkingType.UNDERGROUND)) {\r\n                throw new Exception(&quot;Parking is not for cars with LPG :(&quot;);\r\n            }\r\n        }\r\n    \r\n        public void isElectricOrNo(Car car, Parking parking) throws Exception {\r\n            if (car.getCarCombustibleType()\r\n                    .equalsIgnoreCase(&quot;electric&quot;) &amp;&amp; parking.getNumberOfChargers() == 0) {\r\n                throw new Exception(&quot;No chargers available&quot;);\r\n            }\r\n        }\r\n    \r\n        public void isCarBiggerThenTheWidthSpot(Car car, Parking parking) throws CarBiggerThenParkingSpotException {\r\n            if (car.getWidth() &gt; parking.getWidthParkingSpot()) {\r\n                throw new CarBiggerThenParkingSpotException(&quot;Vehicle width is bigger then the parking spot width!&quot;);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nParkingController : \r\n\r\n    import com.example.lesson31.command.CarCommand;\r\n    import com.example.lesson31.command.ParkingCommand;\r\n    import com.example.lesson31.domain.Car;\r\n    import com.example.lesson31.domain.Parking;\r\n    import com.example.lesson31.dto.ParkingDto;\r\n    import com.example.lesson31.service.ParkingService;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.modelmapper.ModelMapper;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/parking&quot;)\r\n    @RequiredArgsConstructor\r\n    public class ParkingController {\r\n    \r\n    \r\n        private final ParkingService parkingService;\r\n        public final ModelMapper modelMapper;\r\n    \r\n        @PostMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;ParkingDto&gt; parkCar(@PathVariable Long id, @RequestBody CarCommand carCommand) throws Exception {\r\n            return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.parkCarIntoParking(id, modelMapper.map(carCommand, Car.class)), ParkingDto.class), HttpStatus.OK);\r\n        }\r\n    \r\n    \r\n        @PostMapping\r\n        public ResponseEntity&lt;ParkingDto&gt; saveParking(@RequestBody ParkingCommand parkingCommand) {\r\n            return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.save(modelMapper.map(parkingCommand, Parking.class)), ParkingDto.class), HttpStatus.CREATED);\r\n        }\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;List&lt;ParkingDto&gt;&gt; getAllParkings() {\r\n            return new ResponseEntity&lt;&gt;(parkingService.getAll().stream()\r\n                    .map(parkings -&gt; modelMapper.map(parkings, ParkingDto.class))\r\n                    .collect(Collectors.toList()), HttpStatus.OK);\r\n        }\r\n    \r\n        @PutMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;ParkingDto&gt; updateParking(@PathVariable Long id, @RequestBody ParkingCommand parkingCommand)  {\r\n            return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.updateParking(id, modelMapper.map(parkingCommand, Parking.class)), ParkingDto.class), HttpStatus.OK);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/{id}&quot;)\r\n        public HttpStatus deleteParking(@PathVariable Long id) throws Exception {\r\n            parkingService.deleteParking(id);\r\n            return HttpStatus.OK;\r\n        }\r\n    }\r\n\r\n\r\nParkingCommand :\r\n\r\n    import com.example.lesson31.domain.ParkingType;\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    public class ParkingCommand {\r\n        private String name;\r\n        private int numberOfPlaces;\r\n        private int numberOfChargers;\r\n        private ParkingType parkingType;\r\n        private int lengthParkingSpot;\r\n        private int widthParkingSpot;\r\n    }\r\n\r\n\r\nParkingDto :\r\n\r\n \r\n\r\n    import com.example.lesson31.domain.ParkingType;\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    public class ParkingDto {\r\n        private String name;\r\n        private int numberOfPlaces;\r\n        private ParkingType parkingType;\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nCar :\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.persistence.*;\r\n    import java.time.LocalDate;\r\n    \r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Car {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String make;\r\n        private String model;\r\n        private double price;\r\n        private double length;\r\n        private double width;\r\n    private CarCombustibleType carCombustibleType;\r\n        private LocalDate year;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;parking_id&quot;)\r\n        private Parking parking;\r\n    }\r\n\r\n\r\n\r\nCarService:\r\n\r\n\r\n\r\n    import com.example.lesson31.domain.Car;\r\n    import com.example.lesson31.repository.CarRepository;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class CarService {\r\n    \r\n        private final CarRepository carRepository;\r\n    \r\n        public Car save(Car car) {\r\n            return carRepository.save(car);\r\n        }\r\n    \r\n        public List&lt;Car&gt; getAll() {\r\n            return carRepository.findAll();\r\n        }\r\n    \r\n        public Car updateCar(Long id, Car car) throws Exception {\r\n            Car carForUpdate = carRepository.findById(id)\r\n                    .orElseThrow(() -&gt; new Exception(&quot;Car Id not found&quot;));\r\n            carForUpdate.setMake(car.getMake());\r\n            carForUpdate.setModel(car.getModel());\r\n            carForUpdate.setPrice(car.getPrice());\r\n            carForUpdate.setLength(car.getLength());\r\n            carForUpdate.setWidth(car.getWidth());\r\n            carForUpdate.setCarCombustibleType(car.getCarCombustibleType());\r\n            return carRepository.save(car);\r\n    \r\n        }\r\n    \r\n        public void deleteCar(Long id) throws Exception {\r\n            Car carForDelete = carRepository.findById(id)\r\n                    .orElseThrow(() -&gt; new Exception(&quot;Car id not found&quot;));\r\n            carRepository.deleteById(carForDelete.getId());\r\n        }\r\n    }\r\n\r\nCarController:\r\n\r\n\r\n    import com.example.lesson31.command.CarCommand;\r\n    import com.example.lesson31.command.ParkingCommand;\r\n    import com.example.lesson31.domain.Car;\r\n    import com.example.lesson31.dto.CarDto;\r\n    import com.example.lesson31.repository.CarRepository;\r\n    import com.example.lesson31.service.CarService;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.modelmapper.ModelMapper;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/car&quot;)\r\n    @RequiredArgsConstructor\r\n    public class CarController {\r\n    \r\n        public final CarService carService;\r\n        public final CarRepository carRepository;\r\n        public final ModelMapper modelMapper;\r\n    \r\n        @PostMapping\r\n        public ResponseEntity&lt;CarDto&gt; saveCar(@RequestBody CarCommand carCommand) {\r\n            return new ResponseEntity&lt;&gt;(modelMapper.map(carService.save(modelMapper.map(carCommand, Car.class)), CarDto.class), HttpStatus.CREATED);\r\n        }\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;List&lt;CarDto&gt;&gt; getAllCars() {\r\n            return new ResponseEntity&lt;&gt;(carService.getAll()\r\n                    .stream()\r\n                    .map(car -&gt; modelMapper.map(car, CarDto.class))\r\n                    .collect(Collectors.toList()), HttpStatus.OK);\r\n        }\r\n    \r\n        @PutMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;CarDto&gt; updateCar(@PathVariable Long id, @RequestBody ParkingCommand parkingCommand) throws Exception {\r\n            return new ResponseEntity&lt;&gt;(modelMapper.map(carService.updateCar(id, modelMapper.map(parkingCommand, Car.class)), CarDto.class), HttpStatus.OK);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/{id}&quot;)\r\n        public HttpStatus deleteCar(@PathVariable Long id) throws Exception {\r\n            carService.deleteCar(id);\r\n            return HttpStatus.OK;\r\n        }\r\n    \r\n    }\r\n\r\nCarCommand:\r\n\r\n    import lombok.Data;\r\n    \r\n    import java.time.LocalDate;\r\n    \r\n    @Data\r\n    public class CarCommand {\r\n    \r\n        private String make;\r\n        private String model;\r\n        private double price;\r\n        private double length;\r\n        private double width;\r\n        private String carCombustibleType;\r\n        private LocalDate year;\r\n    }\r\n\r\n\r\n\r\nCarDto:\r\n\r\n    import lombok.Data;\r\n    \r\n    import java.time.LocalDate;\r\n    \r\n    @Data\r\n    public class CarDto {\r\n    \r\n        private String make;\r\n        private String model;\r\n        private double price;\r\n        private LocalDate year;\r\n        private CarCombustibleType carCombustibleType;\r\n    }\r\n\r\n\r\nI add car  and parking by POSTMAN POST request into database. \r\n\r\nSee example  of car and parking :\r\n\r\nCar :\r\n\r\n    {\r\n    &quot;make&quot; :  &quot;Fiat&quot;,\r\n    &quot;model&quot; :  &quot;Abarth&quot;,\r\n    &quot;price&quot; :  &quot;21500&quot;,\r\n    &quot;width&quot; :  &quot;3.5&quot;,\r\n    &quot;length&quot; :  &quot;3.5&quot;,\r\n    &quot;carCombustibleType&quot; :&quot;0&quot;,(0= BENZINE, 1 = LPG, 2 =ELECTRIC, 3 = DIESEL)\r\n    &quot;year&quot; :  &quot;2020-08-15&quot;\r\n    }\r\n\r\nParking:\r\n\r\n    }\r\n        &quot;name&quot;: &quot;WestParking&quot;,\r\n        &quot;numberOfPlaces&quot;: 25,\r\n        &quot;numberOfChargers&quot;: 5,\r\n        &quot;parkingType&quot;: &quot;1&quot;,  //(1= OUTSIDE / 2= UNDERGROUND)\r\n        &quot;length&quot;: 3.5,\r\n        &quot;width&quot;: 3.0\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nWhen I want to park a car inside the parking by POSTMAN I get the  error:\r\n\r\n    Cannot invoke &quot;com.example.lesson31.domain.CarCombustibleType.equals(Object)&quot; because the return value of &quot;com.example.lesson31.domain.Car.getCarCombustibleType()&quot; is null\r\n    \r\nThis is my  JSON postman POST request:\r\n\r\n    http://localhost:8080/parking/1\r\n   \r\nWith the follozing body \r\n\r\n    {\r\n    &quot;id&quot; : &quot;1&quot;\r\n    }\r\n\r\n  \r\n\r\n\r\nCan anyoane advice what I do wrong ?\r\n\r\n","title":"Cannot invoke &quot;....&quot; because the return value of &quot;...&quot; is null","body":"<p>I am working on small CRUD parking thing.</p>\n<p>My tables <strong>Car</strong> and  <strong>Parking</strong> are created with liquibase, please see xml.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\n                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.9.xsd&quot;&gt;\n    &lt;changeSet id=&quot;202010211812&quot; author=&quot;Victor&quot;&gt;\n        &lt;createTable tableName=&quot;parking&quot;&gt;\n            &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot; defaultOnNull=&quot;true&quot;&gt;\n                &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;parking_id_pk&quot;/&gt;\n            &lt;/column&gt;\n            &lt;column name=&quot;name&quot; type=&quot;varchar(250)&quot;/&gt;\n            &lt;column name=&quot;number_of_places&quot; type=&quot;int&quot;/&gt;\n            &lt;column name=&quot;number_of_chargers&quot; type=&quot;int&quot;/&gt;\n            &lt;column name=&quot;parking_type&quot; type=&quot;varchar(250)&quot;/&gt;\n            &lt;column name=&quot;length_parking_spot&quot; type=&quot;double&quot;/&gt;\n            &lt;column name=&quot;width_parking_spot&quot; type=&quot;double&quot;/&gt;\n        &lt;/createTable&gt;\n\n        &lt;createTable tableName=&quot;car&quot;&gt;\n            &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot; defaultOnNull=&quot;true&quot;&gt;\n                &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;car_id_pk&quot;/&gt;\n            &lt;/column&gt;\n            &lt;column name=&quot;make&quot; type=&quot;varchar(250)&quot;/&gt;\n            &lt;column name=&quot;model&quot; type=&quot;varchar(250)&quot;/&gt;\n            &lt;column name=&quot;price&quot; type=&quot;double&quot;/&gt;\n            &lt;column name=&quot;width&quot; type=&quot;double&quot;/&gt;\n            &lt;column name=&quot;length&quot; type=&quot;double&quot;/&gt;\n            &lt;column name=&quot;car_combustible_type&quot; type=&quot;varchar(250)&quot;/&gt;\n            &lt;column name=&quot;year&quot; type=&quot;date&quot;/&gt;\n            &lt;column name=&quot;parking_id&quot; type=&quot;bigint&quot;&gt;\n            &lt;/column&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>Here are my classes</p>\n<p>Parking :</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\n\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Parking {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    protected int numberOfPlaces;\n    protected int numberOfChargers;\n    private ParkingType parkingType;\n    private double lengthParkingSpot;\n    private double widthParkingSpot;\n\n    @OneToMany\n    private Set&lt;Car&gt; cars = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>ParkingService :</p>\n<pre><code>import com.example.lesson31.domain.Car;\nimport com.example.lesson31.domain.Parking;\nimport com.example.lesson31.domain.ParkingType;\nimport com.example.lesson31.exception.CarBiggerThenParkingSpotException;\nimport com.example.lesson31.repository.ParkingRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\n@RequiredArgsConstructor\npublic class ParkingService extends Parking {\n\n    private final ParkingRepository parkingRepository;\n\n    public Parking save(Parking parking) {\n        parkingRepository.save(parking);\n        return parking;\n    }\n\n    public List&lt;Parking&gt; getAll() {\n        return parkingRepository.findAll();\n    }\n\n    public Parking parkCarIntoParking(Long parkingId, Car car) throws Exception {\n        Parking parking = parkingRepository.findById(parkingId)\n                .orElseThrow(() -&gt; new Exception(&quot;Id car not found&quot;));\n        if (parking.getNumberOfPlaces() == 0) {\n            throw new Exception(&quot;no more empty parking spaces :(&quot;);\n        }\n        isLpgOrNo(car, parking);\n        isElectricOrNo(car, parking);\n        isCarBiggerThenTheWidthSpot(car, parking);\n\n        parking.getCars()\n                .add(car);\n        return parking;\n    }\n\n    public Parking getParkingById(Long id) throws Exception {\n        return parkingRepository.findById(id)\n                .orElseThrow(() -&gt; new Exception(&quot;Car Id not found&quot;));\n    }\n    public Parking updateParking(Long id, Parking parking) {\n        Parking parking1 = parkingRepository.findById(id)\n                .orElseThrow(() -&gt; new RuntimeException(&quot;Custom error message&quot;));\n        parking1.setName(parking.getName());\n        parking1.setNumberOfPlaces(parking.getNumberOfPlaces());\n        parking1.setNumberOfChargers(parking.getNumberOfChargers());\n        parking1.setWidthParkingSpot(parking.getWidthParkingSpot());\n        parking1.setLengthParkingSpot(parking.getLengthParkingSpot());\n        return parkingRepository.save(parking);\n\n    }\n\n    public void deleteParking(Long id) throws Exception {\n        Parking parkingForDelete = parkingRepository.findById(id)\n                .orElseThrow(() -&gt; new Exception(&quot;grgreg&quot;));\n        parkingRepository.deleteById(parkingForDelete.getId());\n    }\n\n\n    public void isLpgOrNo(Car car, Parking parking) throws Exception {\n        if (car.getCarCombustibleType()\n                .equalsIgnoreCase(&quot;lpg&quot;)\n                &amp;&amp; parking.getParkingType()\n                .equals(ParkingType.UNDERGROUND)) {\n            throw new Exception(&quot;Parking is not for cars with LPG :(&quot;);\n        }\n    }\n\n    public void isElectricOrNo(Car car, Parking parking) throws Exception {\n        if (car.getCarCombustibleType()\n                .equalsIgnoreCase(&quot;electric&quot;) &amp;&amp; parking.getNumberOfChargers() == 0) {\n            throw new Exception(&quot;No chargers available&quot;);\n        }\n    }\n\n    public void isCarBiggerThenTheWidthSpot(Car car, Parking parking) throws CarBiggerThenParkingSpotException {\n        if (car.getWidth() &gt; parking.getWidthParkingSpot()) {\n            throw new CarBiggerThenParkingSpotException(&quot;Vehicle width is bigger then the parking spot width!&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>ParkingController :</p>\n<pre><code>import com.example.lesson31.command.CarCommand;\nimport com.example.lesson31.command.ParkingCommand;\nimport com.example.lesson31.domain.Car;\nimport com.example.lesson31.domain.Parking;\nimport com.example.lesson31.dto.ParkingDto;\nimport com.example.lesson31.service.ParkingService;\nimport lombok.RequiredArgsConstructor;\nimport org.modelmapper.ModelMapper;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@RestController\n@RequestMapping(&quot;/parking&quot;)\n@RequiredArgsConstructor\npublic class ParkingController {\n\n\n    private final ParkingService parkingService;\n    public final ModelMapper modelMapper;\n\n    @PostMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;ParkingDto&gt; parkCar(@PathVariable Long id, @RequestBody CarCommand carCommand) throws Exception {\n        return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.parkCarIntoParking(id, modelMapper.map(carCommand, Car.class)), ParkingDto.class), HttpStatus.OK);\n    }\n\n\n    @PostMapping\n    public ResponseEntity&lt;ParkingDto&gt; saveParking(@RequestBody ParkingCommand parkingCommand) {\n        return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.save(modelMapper.map(parkingCommand, Parking.class)), ParkingDto.class), HttpStatus.CREATED);\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;ParkingDto&gt;&gt; getAllParkings() {\n        return new ResponseEntity&lt;&gt;(parkingService.getAll().stream()\n                .map(parkings -&gt; modelMapper.map(parkings, ParkingDto.class))\n                .collect(Collectors.toList()), HttpStatus.OK);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;ParkingDto&gt; updateParking(@PathVariable Long id, @RequestBody ParkingCommand parkingCommand)  {\n        return new ResponseEntity&lt;&gt;(modelMapper.map(parkingService.updateParking(id, modelMapper.map(parkingCommand, Parking.class)), ParkingDto.class), HttpStatus.OK);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public HttpStatus deleteParking(@PathVariable Long id) throws Exception {\n        parkingService.deleteParking(id);\n        return HttpStatus.OK;\n    }\n}\n</code></pre>\n<p>ParkingCommand :</p>\n<pre><code>import com.example.lesson31.domain.ParkingType;\nimport lombok.Data;\n\n@Data\npublic class ParkingCommand {\n    private String name;\n    private int numberOfPlaces;\n    private int numberOfChargers;\n    private ParkingType parkingType;\n    private int lengthParkingSpot;\n    private int widthParkingSpot;\n}\n</code></pre>\n<p>ParkingDto :</p>\n<pre><code>import com.example.lesson31.domain.ParkingType;\nimport lombok.Data;\n\n@Data\npublic class ParkingDto {\n    private String name;\n    private int numberOfPlaces;\n    private ParkingType parkingType;\n\n}\n</code></pre>\n<p>Car :</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport java.time.LocalDate;\n\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Car {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String make;\n    private String model;\n    private double price;\n    private double length;\n    private double width;\nprivate CarCombustibleType carCombustibleType;\n    private LocalDate year;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;parking_id&quot;)\n    private Parking parking;\n}\n</code></pre>\n<p>CarService:</p>\n<pre><code>import com.example.lesson31.domain.Car;\nimport com.example.lesson31.repository.CarRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\n@RequiredArgsConstructor\npublic class CarService {\n\n    private final CarRepository carRepository;\n\n    public Car save(Car car) {\n        return carRepository.save(car);\n    }\n\n    public List&lt;Car&gt; getAll() {\n        return carRepository.findAll();\n    }\n\n    public Car updateCar(Long id, Car car) throws Exception {\n        Car carForUpdate = carRepository.findById(id)\n                .orElseThrow(() -&gt; new Exception(&quot;Car Id not found&quot;));\n        carForUpdate.setMake(car.getMake());\n        carForUpdate.setModel(car.getModel());\n        carForUpdate.setPrice(car.getPrice());\n        carForUpdate.setLength(car.getLength());\n        carForUpdate.setWidth(car.getWidth());\n        carForUpdate.setCarCombustibleType(car.getCarCombustibleType());\n        return carRepository.save(car);\n\n    }\n\n    public void deleteCar(Long id) throws Exception {\n        Car carForDelete = carRepository.findById(id)\n                .orElseThrow(() -&gt; new Exception(&quot;Car id not found&quot;));\n        carRepository.deleteById(carForDelete.getId());\n    }\n}\n</code></pre>\n<p>CarController:</p>\n<pre><code>import com.example.lesson31.command.CarCommand;\nimport com.example.lesson31.command.ParkingCommand;\nimport com.example.lesson31.domain.Car;\nimport com.example.lesson31.dto.CarDto;\nimport com.example.lesson31.repository.CarRepository;\nimport com.example.lesson31.service.CarService;\nimport lombok.RequiredArgsConstructor;\nimport org.modelmapper.ModelMapper;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@RestController\n@RequestMapping(&quot;/car&quot;)\n@RequiredArgsConstructor\npublic class CarController {\n\n    public final CarService carService;\n    public final CarRepository carRepository;\n    public final ModelMapper modelMapper;\n\n    @PostMapping\n    public ResponseEntity&lt;CarDto&gt; saveCar(@RequestBody CarCommand carCommand) {\n        return new ResponseEntity&lt;&gt;(modelMapper.map(carService.save(modelMapper.map(carCommand, Car.class)), CarDto.class), HttpStatus.CREATED);\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;CarDto&gt;&gt; getAllCars() {\n        return new ResponseEntity&lt;&gt;(carService.getAll()\n                .stream()\n                .map(car -&gt; modelMapper.map(car, CarDto.class))\n                .collect(Collectors.toList()), HttpStatus.OK);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;CarDto&gt; updateCar(@PathVariable Long id, @RequestBody ParkingCommand parkingCommand) throws Exception {\n        return new ResponseEntity&lt;&gt;(modelMapper.map(carService.updateCar(id, modelMapper.map(parkingCommand, Car.class)), CarDto.class), HttpStatus.OK);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public HttpStatus deleteCar(@PathVariable Long id) throws Exception {\n        carService.deleteCar(id);\n        return HttpStatus.OK;\n    }\n\n}\n</code></pre>\n<p>CarCommand:</p>\n<pre><code>import lombok.Data;\n\nimport java.time.LocalDate;\n\n@Data\npublic class CarCommand {\n\n    private String make;\n    private String model;\n    private double price;\n    private double length;\n    private double width;\n    private String carCombustibleType;\n    private LocalDate year;\n}\n</code></pre>\n<p>CarDto:</p>\n<pre><code>import lombok.Data;\n\nimport java.time.LocalDate;\n\n@Data\npublic class CarDto {\n\n    private String make;\n    private String model;\n    private double price;\n    private LocalDate year;\n    private CarCombustibleType carCombustibleType;\n}\n</code></pre>\n<p>I add car  and parking by POSTMAN POST request into database.</p>\n<p>See example  of car and parking :</p>\n<p>Car :</p>\n<pre><code>{\n&quot;make&quot; :  &quot;Fiat&quot;,\n&quot;model&quot; :  &quot;Abarth&quot;,\n&quot;price&quot; :  &quot;21500&quot;,\n&quot;width&quot; :  &quot;3.5&quot;,\n&quot;length&quot; :  &quot;3.5&quot;,\n&quot;carCombustibleType&quot; :&quot;0&quot;,(0= BENZINE, 1 = LPG, 2 =ELECTRIC, 3 = DIESEL)\n&quot;year&quot; :  &quot;2020-08-15&quot;\n}\n</code></pre>\n<p>Parking:</p>\n<pre><code>}\n    &quot;name&quot;: &quot;WestParking&quot;,\n    &quot;numberOfPlaces&quot;: 25,\n    &quot;numberOfChargers&quot;: 5,\n    &quot;parkingType&quot;: &quot;1&quot;,  //(1= OUTSIDE / 2= UNDERGROUND)\n    &quot;length&quot;: 3.5,\n    &quot;width&quot;: 3.0\n}\n</code></pre>\n<p>When I want to park a car inside the parking by POSTMAN I get the  error:</p>\n<pre><code>Cannot invoke &quot;com.example.lesson31.domain.CarCombustibleType.equals(Object)&quot; because the return value of &quot;com.example.lesson31.domain.Car.getCarCombustibleType()&quot; is null\n</code></pre>\n<p>This is my  JSON postman POST request:</p>\n<pre><code>http://localhost:8080/parking/1\n</code></pre>\n<p>With the follozing body</p>\n<pre><code>{\n&quot;id&quot; : &quot;1&quot;\n}\n</code></pre>\n<p>Can anyoane advice what I do wrong ?</p>\n"},{"tags":["java","pebble"],"comments":[{"owner":{"account_id":2251953,"reputation":13178,"user_id":1983997,"accept_rate":78,"display_name":"mat_boy"},"score":0,"creation_date":1476360666,"post_id":35977033,"comment_id":67317918,"body_markdown":"It seems it does not. So I had to implement my own function.","body":"It seems it does not. So I had to implement my own function."}],"answers":[{"tags":[],"owner":{"account_id":5684412,"reputation":1277,"user_id":4494425,"display_name":"maechler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658303337,"creation_date":1633537118,"answer_id":69469242,"question_id":35977033,"body_markdown":"If you need the date in all the templates (e.g. for usage in a footer), you could add a global variable:\r\n\r\n**Extension**\r\n\r\n```java\r\npublic class DateNowExtension extends AbstractExtension {\r\n    @Override\r\n    public Map&lt;String, Object&gt; getGlobalVariables() {\r\n        return Collections.singletonMap(&quot;now&quot;, new Date());\r\n    }\r\n}\r\n```\r\n\r\n**Configuration**\r\n\r\n```java\r\n@Configuration\r\npublic class PebbleExtensionConfiguration {\r\n    @Bean\r\n    public Extension dateNowExtension() {\r\n        return new DateNowExtension();\r\n    }\r\n}\r\n```\r\n\r\n**Template**\r\n\r\n```html\r\n&amp;copy; ACME {{ now | date(&quot;yyyy&quot;) }}\r\n```","title":"Obtain the current date in Pebble","body":"<p>If you need the date in all the templates (e.g. for usage in a footer), you could add a global variable:</p>\n<p><strong>Extension</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DateNowExtension extends AbstractExtension {\n    @Override\n    public Map&lt;String, Object&gt; getGlobalVariables() {\n        return Collections.singletonMap(&quot;now&quot;, new Date());\n    }\n}\n</code></pre>\n<p><strong>Configuration</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class PebbleExtensionConfiguration {\n    @Bean\n    public Extension dateNowExtension() {\n        return new DateNowExtension();\n    }\n}\n</code></pre>\n<p><strong>Template</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>&amp;copy; ACME {{ now | date(&quot;yyyy&quot;) }}\n</code></pre>\n"}],"owner":{"account_id":2251953,"reputation":13178,"user_id":1983997,"accept_rate":78,"display_name":"mat_boy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1658303337,"creation_date":1457910340,"question_id":35977033,"body_markdown":"I&#39;m using the Pebble template engine in a Java application that uses the Spring framework.\r\n\r\nI&#39;m looking for a solution to get the current date in Pebble. Before to start with implementing this basic function, I&#39;m wondering if the library already provides this function. I have to say that the official doc are not saying anything for this.","title":"Obtain the current date in Pebble","body":"<p>I'm using the Pebble template engine in a Java application that uses the Spring framework.</p>\n\n<p>I'm looking for a solution to get the current date in Pebble. Before to start with implementing this basic function, I'm wondering if the library already provides this function. I have to say that the official doc are not saying anything for this.</p>\n"},{"tags":["java","spring-boot","azure","azure-cosmosdb"],"answers":[{"tags":[],"owner":{"account_id":2356580,"reputation":21,"user_id":2064252,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658303227,"creation_date":1658303157,"answer_id":73047767,"question_id":69776929,"body_markdown":"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/how-to-guides-spring-data-cosmosdb\r\n\r\n\r\n    @Query(&quot;select * from c offset @offset limit @limit&quot;)\r\n\r\nYou might need to calculate the offset and limit but after that this may work.","title":"Azure Cosmos DB with SpringBoot Java - Paginate by page number and size","body":"<p><a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/how-to-guides-spring-data-cosmosdb\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/how-to-guides-spring-data-cosmosdb</a></p>\n<pre><code>@Query(&quot;select * from c offset @offset limit @limit&quot;)\n</code></pre>\n<p>You might need to calculate the offset and limit but after that this may work.</p>\n"}],"owner":{"account_id":968010,"reputation":1424,"user_id":991086,"accept_rate":51,"display_name":"moustacheman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658303227,"creation_date":1635570305,"question_id":69776929,"body_markdown":"Is there a better way to paginate by page number and size? I&#39;m going through the below [example][1],\r\n\r\n\r\n  [1]: https://github.com/Azure-Samples/azure-cosmosdb-springboot-pagination/blob/a53f69a8f4fcae296d4a8952bb2754b12902e4a9/src/main/java/com/microsoft/azure/cosmosdb/pagination/volcano/service/VolcanoService.java#L21\r\n\r\n```\r\npublic List&lt;Volcano&gt; getAllVolcanoesByPage(Integer pageNo, Integer pageSize, String sortBy) {\r\n        final Pageable pageable = new CosmosPageRequest(0, pageSize, null);\r\n        List&lt;Volcano&gt; content = null;\r\n\r\n        Page&lt;Volcano&gt; page = this.repository.findAll(pageable);\r\n        if (pageNo == 0) {\r\n            content = page.getContent();\r\n            for (Volcano volcano : content) System.out.println(volcano.toString());\r\n            return content;\r\n        } else {\r\n            Page&lt;Volcano&gt; nextPage = null;\r\n            for (int i = 1; i &lt;= pageNo; i++) {\r\n                nextPage = this.repository.findAll(page.getPageable());\r\n                /* reset page to nextpage like a linkedlist*/\r\n                page = nextPage;\r\n                content = nextPage.getContent();\r\n                for (Volcano volcano : content) System.out.println(volcano.toString());\r\n            }\r\n            return content;\r\n        }\r\n    }\r\n```\r\n\r\nThe above implementation iterates every page until the requested number, and this impacts the performance when the number and size increases. \r\nI know we can get the next set of records using `continuationToken` but is there a better way with page number and size?","title":"Azure Cosmos DB with SpringBoot Java - Paginate by page number and size","body":"<p>Is there a better way to paginate by page number and size? I'm going through the below <a href=\"https://github.com/Azure-Samples/azure-cosmosdb-springboot-pagination/blob/a53f69a8f4fcae296d4a8952bb2754b12902e4a9/src/main/java/com/microsoft/azure/cosmosdb/pagination/volcano/service/VolcanoService.java#L21\" rel=\"nofollow noreferrer\">example</a>,</p>\n<pre><code>public List&lt;Volcano&gt; getAllVolcanoesByPage(Integer pageNo, Integer pageSize, String sortBy) {\n        final Pageable pageable = new CosmosPageRequest(0, pageSize, null);\n        List&lt;Volcano&gt; content = null;\n\n        Page&lt;Volcano&gt; page = this.repository.findAll(pageable);\n        if (pageNo == 0) {\n            content = page.getContent();\n            for (Volcano volcano : content) System.out.println(volcano.toString());\n            return content;\n        } else {\n            Page&lt;Volcano&gt; nextPage = null;\n            for (int i = 1; i &lt;= pageNo; i++) {\n                nextPage = this.repository.findAll(page.getPageable());\n                /* reset page to nextpage like a linkedlist*/\n                page = nextPage;\n                content = nextPage.getContent();\n                for (Volcano volcano : content) System.out.println(volcano.toString());\n            }\n            return content;\n        }\n    }\n</code></pre>\n<p>The above implementation iterates every page until the requested number, and this impacts the performance when the number and size increases.\nI know we can get the next set of records using <code>continuationToken</code> but is there a better way with page number and size?</p>\n"},{"tags":["java","windows","file-io","unicode"],"comments":[{"owner":{"account_id":2201295,"reputation":19001,"user_id":1945631,"display_name":"Andy Brown"},"score":0,"creation_date":1401023894,"post_id":23855199,"comment_id":36714596,"body_markdown":"See my answer. If you use the right codepoint, it will display as Won, but it is actually the path separator. What is your code, and what exception do you get when you try and open the file?","body":"See my answer. If you use the right codepoint, it will display as Won, but it is actually the path separator. What is your code, and what exception do you get when you try and open the file?"},{"owner":{"account_id":2846196,"reputation":620,"user_id":2444520,"accept_rate":83,"display_name":"dare0021"},"score":0,"creation_date":1401026617,"post_id":23855199,"comment_id":36715347,"body_markdown":"After reading your explanation, I went looking for a different point of failure, and found that the check File.exists() always returned false and caused the problem. This is true for any file, regardless of the file&#39;s access permission, so I don&#39;t think this is a file permission problem, although I haven&#39;t tried accessing the file yet. Will update after trying.","body":"After reading your explanation, I went looking for a different point of failure, and found that the check File.exists() always returned false and caused the problem. This is true for any file, regardless of the file&#39;s access permission, so I don&#39;t think this is a file permission problem, although I haven&#39;t tried accessing the file yet. Will update after trying."},{"owner":{"account_id":2846196,"reputation":620,"user_id":2444520,"accept_rate":83,"display_name":"dare0021"},"score":0,"creation_date":1401027302,"post_id":23855199,"comment_id":36715515,"body_markdown":"Yep, my code can&#39;t get to the file. FileNotFoundException\nThe file returns false for: exists, canRead, canExecute, canWrite","body":"Yep, my code can&#39;t get to the file. FileNotFoundException The file returns false for: exists, canRead, canExecute, canWrite"},{"owner":{"account_id":476140,"reputation":35789,"user_id":886887,"accept_rate":94,"display_name":"Harry Johnston"},"score":0,"creation_date":1401075712,"post_id":23855199,"comment_id":36727824,"body_markdown":"@user2444520: Strictly speaking, since you&#39;ve determined that your problem was unrelated to the question, it should probably be closed as &quot;caused by a problem that can no longer be reproduced&quot; but I&#39;d like to save Andy&#39;s excellent answer.  If you don&#39;t object, I&#39;d like to rewrite it accordingly?","body":"@user2444520: Strictly speaking, since you&#39;ve determined that your problem was unrelated to the question, it should probably be closed as &quot;caused by a problem that can no longer be reproduced&quot; but I&#39;d like to save Andy&#39;s excellent answer.  If you don&#39;t object, I&#39;d like to rewrite it accordingly?"},{"owner":{"account_id":2846196,"reputation":620,"user_id":2444520,"accept_rate":83,"display_name":"dare0021"},"score":0,"creation_date":1401164613,"post_id":23855199,"comment_id":36762620,"body_markdown":"No objection here. Hack away","body":"No objection here. Hack away"},{"owner":{"account_id":476140,"reputation":35789,"user_id":886887,"accept_rate":94,"display_name":"Harry Johnston"},"score":0,"creation_date":1408849968,"post_id":23855199,"comment_id":39744090,"body_markdown":"Finally got around to it!  Hope this meets your approval, but if there&#39;s anything about it you don&#39;t like, feel free to change it or simply revert it to your original version.","body":"Finally got around to it!  Hope this meets your approval, but if there&#39;s anything about it you don&#39;t like, feel free to change it or simply revert it to your original version."}],"answers":[{"tags":[],"owner":{"account_id":2201295,"reputation":19001,"user_id":1945631,"display_name":"Andy Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1401116060,"creation_date":1401022020,"answer_id":23855436,"question_id":23855199,"body_markdown":"You are using a Japanese or Korean version of Windows? In that case the path symbol should still be &lt;kbd&gt;U+005C&lt;/kbd&gt; which is *displayed* as (but not actually the same codepoint as) the local currency character (e.g. &lt;kbd&gt;&lt;/kbd&gt; and &lt;kbd&gt;&#165;&lt;/kbd&gt;) instead of &lt;kbd&gt;\\&lt;/kbd&gt;. If you try searching for &lt;kbd&gt;U+005C&lt;/kbd&gt; instead of &lt;kbd&gt;U+20A9&lt;/kbd&gt;, does that work?\r\n\r\nBut, I am confused about this bit of your question: \r\n\r\n&gt; Java can&#39;t open the file as a File object because the file separator in my copy of Windows is not a backslash, it is a Korean Won currency sign (U20A9).\r\n\r\nIt should still work, as long as you are not typing in test paths yourself, and using the &quot;wrong&quot; version of the currency character (and as long as there are no other problems with the file). It might help if we could see your code.\r\n\r\n###Why the different displays for the same codepoint/character?\r\n\r\nThe reason is the code pages used for display. Kaplan used to have a blog post about this on MSDN, but it&#39;s disappeared. It basically said &quot;*Japanese code page 932: 0x005C is the YEN SIGN. Korean code page 949: 0x005C is the WON SIGN.*&quot;\r\n\r\nSee [MSDN:Security Considerations: International Features (Security Considerations for Character Sets in File Names)][1].\r\n\r\n&gt; Windows code page and OEM character sets used on Japanese-language systems contain the Yen symbol (&#165;) instead of a backslash (\\\\). ... When mapping Unicode to a Japanese-language code page, conversion functions map both backslash (U+005C) and the normal Unicode Yen symbol (U+00A5) to this same character.\r\n\r\nAs per that reference above note that if you try and use the actual Won and Yen characters (&lt;kbd&gt;U+00A5&lt;/kbd&gt; and &lt;kbd&gt;U+20A9&lt;/kbd&gt;) as path separators you can&#39;t without mapping/having them mapped to &lt;kbd&gt;U+005C&lt;/kbd&gt;.\r\n\r\n*Relevant Trivia*\r\n\r\nI cannot recall where I read this, but it helps to understand why this all happens, and why &lt;kbd&gt;/&lt;/kbd&gt; works in a file path. \r\n\r\nApparently the reason windows uses &lt;kbd&gt;\\&lt;/kbd&gt; instead of *nix&#39;s &lt;kbd&gt;/&lt;/kbd&gt; is because (when DOS was born) someone who made a lot of DOS programs in MS/IBM used &lt;kbd&gt;/&lt;/kbd&gt; as the &quot;switch&quot; character for DOS programs? This was a decision that &lt;strike&gt;possibly&lt;/strike&gt; came from &lt;strike&gt;even before DOS&lt;/strike&gt; CP/M, through QDOS, to MSDOS. DOS didn&#39;t support directories so the clash with *nix didn&#39;t matter. By the time DOS 2.0 came along with files and file paths they wanted a *nix style file path naming system but couldn&#39;t use the &quot;DOS switch&quot; &lt;kbd&gt;/&lt;/kbd&gt; so they used &lt;kbd&gt;\\&lt;/kbd&gt; instead. \r\n\r\nBUT - they coded DOS to **accept both &lt;kbd&gt;\\&lt;/kbd&gt; and &lt;kbd&gt;/&lt;kbd&gt;** as they really would have preferred to use the *nix style. (They also added a OS mechanism to change the switch character, which I can&#39;t remember, but the windows world never fully &quot;switched&quot; over to the *nix style of paths and switches).\r\n\r\n**EDIT**\r\n\r\nFound it: [Shebang line on Windows][2]:\r\n\r\n&gt; Dave Angel davea at davea.name \r\n\r\n&gt; Tue Feb 26 03:23:58 CET 2013 \r\n\r\n&gt; Actually the reason MSDOS used backslash was because it had already used \r\nthe forward slash for a switch-character.  Then for version 2, with hard \r\ndisks being supported for the first time, they used the backslash \r\ninstead.  At the time I talked them into supporting a &quot;switchchar&quot; call \r\nto change to using the dash for switch character, and slash for \r\nsubdirectories.\r\n\r\n\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/dd374047%28v=vs.85%29.aspx#SC_char_sets_in_file_names\r\n  [2]: https://mail.python.org/pipermail/python-list/2013-February/641597.html","title":"Working with Unicode file path","body":"<p>You are using a Japanese or Korean version of Windows? In that case the path symbol should still be <kbd>U+005C</kbd> which is <em>displayed</em> as (but not actually the same codepoint as) the local currency character (e.g. <kbd></kbd> and <kbd></kbd>) instead of <kbd>\\</kbd>. If you try searching for <kbd>U+005C</kbd> instead of <kbd>U+20A9</kbd>, does that work?</p>\n\n<p>But, I am confused about this bit of your question: </p>\n\n<blockquote>\n  <p>Java can't open the file as a File object because the file separator in my copy of Windows is not a backslash, it is a Korean Won currency sign (U20A9).</p>\n</blockquote>\n\n<p>It should still work, as long as you are not typing in test paths yourself, and using the \"wrong\" version of the currency character (and as long as there are no other problems with the file). It might help if we could see your code.</p>\n\n<h3>Why the different displays for the same codepoint/character?</h3>\n\n<p>The reason is the code pages used for display. Kaplan used to have a blog post about this on MSDN, but it's disappeared. It basically said \"<em>Japanese code page 932: 0x005C is the YEN SIGN. Korean code page 949: 0x005C is the WON SIGN.</em>\"</p>\n\n<p>See <a href=\"http://msdn.microsoft.com/en-us/library/dd374047%28v=vs.85%29.aspx#SC_char_sets_in_file_names\" rel=\"nofollow\">MSDN:Security Considerations: International Features (Security Considerations for Character Sets in File Names)</a>.</p>\n\n<blockquote>\n  <p>Windows code page and OEM character sets used on Japanese-language systems contain the Yen symbol () instead of a backslash (\\). ... When mapping Unicode to a Japanese-language code page, conversion functions map both backslash (U+005C) and the normal Unicode Yen symbol (U+00A5) to this same character.</p>\n</blockquote>\n\n<p>As per that reference above note that if you try and use the actual Won and Yen characters (<kbd>U+00A5</kbd> and <kbd>U+20A9</kbd>) as path separators you can't without mapping/having them mapped to <kbd>U+005C</kbd>.</p>\n\n<p><em>Relevant Trivia</em></p>\n\n<p>I cannot recall where I read this, but it helps to understand why this all happens, and why <kbd>/</kbd> works in a file path. </p>\n\n<p>Apparently the reason windows uses <kbd>\\</kbd> instead of *nix's <kbd>/</kbd> is because (when DOS was born) someone who made a lot of DOS programs in MS/IBM used <kbd>/</kbd> as the \"switch\" character for DOS programs? This was a decision that <strike>possibly</strike> came from <strike>even before DOS</strike> CP/M, through QDOS, to MSDOS. DOS didn't support directories so the clash with *nix didn't matter. By the time DOS 2.0 came along with files and file paths they wanted a *nix style file path naming system but couldn't use the \"DOS switch\" <kbd>/</kbd> so they used <kbd>\\</kbd> instead. </p>\n\n<p>BUT - they coded DOS to <strong>accept both <kbd>\\</kbd> and /</strong> as they really would have preferred to use the *nix style. (They also added a OS mechanism to change the switch character, which I can't remember, but the windows world never fully \"switched\" over to the *nix style of paths and switches).</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Found it: <a href=\"https://mail.python.org/pipermail/python-list/2013-February/641597.html\" rel=\"nofollow\">Shebang line on Windows</a>:</p>\n\n<blockquote>\n  <p>Dave Angel davea at davea.name </p>\n  \n  <p>Tue Feb 26 03:23:58 CET 2013 </p>\n  \n  <p>Actually the reason MSDOS used backslash was because it had already used \n  the forward slash for a switch-character.  Then for version 2, with hard \n  disks being supported for the first time, they used the backslash \n  instead.  At the time I talked them into supporting a \"switchchar\" call \n  to change to using the dash for switch character, and slash for \n  subdirectories.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658302239,"creation_date":1658302239,"answer_id":73047588,"question_id":23855199,"body_markdown":"While I don&#39;t have a Korean or Japanese version of Windows, I believe you should call `System.getProperty(&quot;file.separator&quot;)` to get the proper file-separator character:\r\n\r\n    // fps means file-path-separator\r\n    static final String fps = System.getProperty(&quot;file.separator&quot;)\r\n\r\nThis is not always the one used by the in a terminal or command prompt, but it should work. On the Macintosh before OSX, the Mac used a colon for the file separator, but this got translated to a slash when reading files through Java. This was also the character returned by the file.separator system property.","title":"Working with Unicode file path","body":"<p>While I don't have a Korean or Japanese version of Windows, I believe you should call <code>System.getProperty(&quot;file.separator&quot;)</code> to get the proper file-separator character:</p>\n<pre><code>// fps means file-path-separator\nstatic final String fps = System.getProperty(&quot;file.separator&quot;)\n</code></pre>\n<p>This is not always the one used by the in a terminal or command prompt, but it should work. On the Macintosh before OSX, the Mac used a colon for the file separator, but this got translated to a slash when reading files through Java. This was also the character returned by the file.separator system property.</p>\n"}],"owner":{"account_id":2846196,"reputation":620,"user_id":2444520,"accept_rate":83,"display_name":"dare0021"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1632,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23855436,"answer_count":2,"score":1,"last_activity_date":1658302239,"creation_date":1401020300,"question_id":23855199,"body_markdown":"In my copy of Windows, the path separator is not a backslash but a Korean Won currency sign, which is character U20A9 in Unicode.\r\n\r\nHowever, when my program searches for this character in a string representing a file path, it doesn&#39;t find it, even though it appears as expected when the path is printed.\r\n\r\nMy program is registered with Explorer to appear in the right-click menu for files, so it receives the file path from Explorer as a command-line argument.\r\n\r\nWhat is going on here?  How can I locate the path separators in the command-line argument?\r\n","title":"Working with Unicode file path","body":"<p>In my copy of Windows, the path separator is not a backslash but a Korean Won currency sign, which is character U20A9 in Unicode.</p>\n\n<p>However, when my program searches for this character in a string representing a file path, it doesn't find it, even though it appears as expected when the path is printed.</p>\n\n<p>My program is registered with Explorer to appear in the right-click menu for files, so it receives the file path from Explorer as a command-line argument.</p>\n\n<p>What is going on here?  How can I locate the path separators in the command-line argument?</p>\n"},{"tags":["java","azure-functions","azure-eventhub"],"comments":[{"owner":{"account_id":21648146,"reputation":4432,"user_id":15969165,"display_name":"AjayKumarGhose"},"score":0,"creation_date":1658306018,"post_id":73047583,"comment_id":129016075,"body_markdown":"Could you please refer this [SO THREAD](https://stackoverflow.com/questions/67480309/how-to-use-an-event-hub-trigger-in-a-java-azure-function)","body":"Could you please refer this <a href=\"https://stackoverflow.com/questions/67480309/how-to-use-an-event-hub-trigger-in-a-java-azure-function\">SO THREAD</a>"},{"owner":{"account_id":10219863,"reputation":105,"user_id":7544358,"display_name":"Satya Panigrahy"},"score":0,"creation_date":1658321319,"post_id":73047583,"comment_id":129022149,"body_markdown":"But the Thread you are refering to and my issues are different. My function is running but failing on incoming requests","body":"But the Thread you are refering to and my issues are different. My function is running but failing on incoming requests"},{"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"score":0,"creation_date":1660813275,"post_id":73047583,"comment_id":129623061,"body_markdown":"Can you check the code at `FunctionHandler.java:23`? What is happening over there. My guess is that may be `messages` may be coming over as null","body":"Can you check the code at <code>FunctionHandler.java:23</code>? What is happening over there. My guess is that may be <code>messages</code> may be coming over as null"}],"owner":{"account_id":10219863,"reputation":105,"user_id":7544358,"display_name":"Satya Panigrahy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658302214,"creation_date":1658302214,"question_id":73047583,"body_markdown":"I have created an az function on java spring boot with eventhub trigger. I have followed the MS documentation for it. But it looks like it is failing while receiving the events from EventHub. Here are the FunctionHandler and FunctionProcessor classes.`@Slf4j\r\npublic class FunctionHandler extends FunctionInvoker&lt;String, Boolean&gt;{\r\n\r\n\t@FunctionName(&quot;functionProcessor&quot;)\r\n\tpublic void run(@EventHubTrigger(name = &quot;message&quot;, dataType = &quot;string&quot;,\r\n\teventHubName = &quot;satya-eh&quot;, connection = &quot;EVH_CONN&quot;)List&lt;String&gt; messages,\r\n\t\t\tfinal ExecutionContext context) {\r\n\t\tcontext.getLogger().info(&quot;Java Event Hub trigger received &quot; + messages.size() +&quot; messages&quot;);\r\n\t\tfor(String m : messages) {\r\n\t\t\tcontext.getLogger().info(&quot;Logged the Event: &quot;+m);\r\n            handleRequest(m, context);\r\n\t\t}\r\n\t}\r\n}`\r\n\r\nFunctionProcessor.java\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class FunctionProcessor implements Function&lt;String, Boolean&gt;{\r\n    \r\n    \t@Override\r\n    \tpublic Boolean apply(String message) {\r\n    \t\tlog.info(&quot;Received message from Eventhubs: &quot;+message);\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    }\r\n\r\nhost.json\r\n\r\n    {\r\n    \t&quot;version&quot;: &quot;2.0&quot;,\r\n    \t&quot;extensionBundle&quot;: {\r\n    \t\t&quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\r\n    \t\t&quot;version&quot;: &quot;[3.*, 4.0.0)&quot;\r\n    \t},\r\n    \t&quot;extensions&quot;: {\r\n    \t\t&quot;eventHubs&quot;: {\r\n    \t\t\t&quot;batchCheckpointFrequency&quot;: 5,\r\n    \t\t\t&quot;eventProcessorOptions&quot;: {\r\n    \t\t\t\t&quot;maxBatchSize&quot;: 256,\r\n    \t\t\t\t&quot;prefetchCount&quot;: 512\r\n    \t\t\t},\r\n    \t\t\t&quot;initialOffsetOptions&quot;: {\r\n    \t\t\t\t&quot;type&quot;: &quot;fromStart&quot;,\r\n    \t\t\t\t&quot;enqueuedTimeUtc&quot;: &quot;&quot;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t},\r\n    \t&quot;logging&quot;: {\r\n        &quot;applicationInsights&quot;: {\r\n          &quot;samplingSettings&quot;: {\r\n            &quot;isEnabled&quot;: true\r\n          }\r\n        },\r\n        &quot;fileLoggingMode&quot;: &quot;always&quot;,\r\n        &quot;logLevel&quot;: {\r\n          &quot;default&quot;: &quot;Information&quot;,\r\n          &quot;Host.Results&quot;: &quot;None&quot;,\r\n          &quot;Function&quot;: &quot;Trace&quot;,\r\n          &quot;Function.functionProcessor&quot;: &quot;Information&quot;,\r\n          &quot;Host.Aggregator&quot;: &quot;Trace&quot;\r\n        }\r\n      }\r\n    }\r\nWhile going trhough the &#39;Failure&#39; on app insight I found below as message.\r\n\r\n    Exception while executing function: Functions.functionProcessor Result: Failure\r\n    Exception: NullPointerException: \r\n    Stack: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat com.microsoft.azure.functions.worker.broker.JavaMethodInvokeInfo.invoke(JavaMethodInvokeInfo.java:22)\r\n    \tat com.microsoft.azure.functions.worker.broker.EnhancedJavaMethodExecutorImpl.execute(EnhancedJavaMethodExecutorImpl.java:55)\r\n    \tat com.microsoft.azure.functions.worker.broker.JavaFunctionBroker.invokeMethod(JavaFunctionBroker.java:62)\r\n    \tat com.microsoft.azure.functions.worker.handler.InvocationRequestHandler.execute(InvocationRequestHandler.java:33)\r\n    \tat com.microsoft.azure.functions.worker.handler.InvocationRequestHandler.execute(InvocationRequestHandler.java:10)\r\n    \tat com.microsoft.azure.functions.worker.handler.MessageHandler.handle(MessageHandler.java:45)\r\n    \tat com.microsoft.azure.functions.worker.JavaWorkerClient$StreamingMessagePeer.lambda$onNext$0(JavaWorkerClient.java:92)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.lang.NullPointerException\r\n    \tat org.springframework.cloud.function.adapter.azure.FunctionInvoker.handleRequest(FunctionInvoker.java:117)\r\n    \tat com.alldata.function.FunctionHandler.run(FunctionHandler.java:23)\r\n    \t... 16 more\r\n\r\nHere is the Call Stack mentioned:\r\n\r\n    Microsoft.Azure.WebJobs.Host.FunctionInvocationException:\r\n       at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithLoggingAsync&gt;d__26.MoveNext (Microsoft.Azure.WebJobs.Host, Version=3.0.34.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35: C:\\projects\\azure-webjobs-sdk-rqm4t\\src\\Microsoft.Azure.WebJobs.Host\\Executors\\FunctionExecutor.cs:352)\r\n       at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryExecuteAsync&gt;d__18.MoveNext (Microsoft.Azure.WebJobs.Host, Version=3.0.34.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35: C:\\projects\\azure-webjobs-sdk-rqm4t\\src\\Microsoft.Azure.WebJobs.Host\\Executors\\FunctionExecutor.cs:108)\r\n    Inner exception Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException handled at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw:\r\n       at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker+&lt;InvokeCore&gt;d__9.MoveNext (Microsoft.Azure.WebJobs.Script, Version=3.10.0.0, Culture=neutral, PublicKeyToken=null: /src/azure-functions-host/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs:96)\r\n       at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase+&lt;Invoke&gt;d__24.MoveNext (Microsoft.Azure.WebJobs.Script, Version=3.10.0.0, Culture=neutral, PublicKeyToken=null: /src/azure-functions-host/src/WebJobs.Script/Description/FunctionInvokerBase.cs:82)\r\n       at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2+&lt;InvokeAsync&gt;d__2.MoveNext (Microsoft.Azure.WebJobs.Host, Version=3.0.34.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35: C:\\projects\\azure-webjobs-sdk-rqm4t\\src\\Microsoft.Azure.WebJobs.Host\\Executors\\VoidTaskMethodInvoker.cs:20)\r\n       at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2+&lt;InvokeAsync&gt;d__10.MoveNext (Microsoft.Azure.WebJobs.Host, Version=3.0.34.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35: C:\\projects\\azure-webjobs-sdk-rqm4t\\src\\Microsoft.Azure.WebJobs.Host\\Executors\\FunctionInvoker.cs:52)\r\n       at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;InvokeWithTimeoutAsync&gt;d__33.MoveNext (Microsoft.Azure.WebJobs.Host, Version=3.0.34.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35: C:\\projects\\azure-webjobs-sdk-rqm4t\\src\\Microsoft.Azure.WebJobs.Host\\Executors\\FunctionExecutor.cs:581)\r\n       at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithWatchersAsync&gt;d__32.MoveNext (Microsoft.Azure.WebJobs.Host, Version=3.0.34.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35: C:\\projects\\azure-webjobs-sdk-rqm4t\\src\\Microsoft.Azure.WebJobs.Host\\Executors\\FunctionExecutor.cs:527)\r\n       at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at System.Runtime.CompilerServices.TaskAwaiter.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\r\n       at Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithLoggingAsync&gt;d__26.MoveNext (Microsoft.Azure.WebJobs.Host, Version=3.0.34.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35: C:\\projects\\azure-webjobs-sdk-rqm4t\\src\\Microsoft.Azure.WebJobs.Host\\Executors\\FunctionExecutor.cs:306)","title":"Azure function Eventhub trigger is throwing NPE","body":"<p>I have created an az function on java spring boot with eventhub trigger. I have followed the MS documentation for it. But it looks like it is failing while receiving the events from EventHub. Here are the FunctionHandler and FunctionProcessor classes.`@Slf4j\npublic class FunctionHandler extends FunctionInvoker&lt;String, Boolean&gt;{</p>\n<pre><code>@FunctionName(&quot;functionProcessor&quot;)\npublic void run(@EventHubTrigger(name = &quot;message&quot;, dataType = &quot;string&quot;,\neventHubName = &quot;satya-eh&quot;, connection = &quot;EVH_CONN&quot;)List&lt;String&gt; messages,\n        final ExecutionContext context) {\n    context.getLogger().info(&quot;Java Event Hub trigger received &quot; + messages.size() +&quot; messages&quot;);\n    for(String m : messages) {\n        context.getLogger().info(&quot;Logged the Event: &quot;+m);\n        handleRequest(m, context);\n    }\n}\n</code></pre>\n<p>}`</p>\n<p>FunctionProcessor.java</p>\n<pre><code>@Component\n@Slf4j\npublic class FunctionProcessor implements Function&lt;String, Boolean&gt;{\n\n    @Override\n    public Boolean apply(String message) {\n        log.info(&quot;Received message from Eventhubs: &quot;+message);\n        return true;\n    }\n\n}\n</code></pre>\n<p>host.json</p>\n<pre><code>{\n    &quot;version&quot;: &quot;2.0&quot;,\n    &quot;extensionBundle&quot;: {\n        &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\n        &quot;version&quot;: &quot;[3.*, 4.0.0)&quot;\n    },\n    &quot;extensions&quot;: {\n        &quot;eventHubs&quot;: {\n            &quot;batchCheckpointFrequency&quot;: 5,\n            &quot;eventProcessorOptions&quot;: {\n                &quot;maxBatchSize&quot;: 256,\n                &quot;prefetchCount&quot;: 512\n            },\n            &quot;initialOffsetOptions&quot;: {\n                &quot;type&quot;: &quot;fromStart&quot;,\n                &quot;enqueuedTimeUtc&quot;: &quot;&quot;\n            }\n        }\n    },\n    &quot;logging&quot;: {\n    &quot;applicationInsights&quot;: {\n      &quot;samplingSettings&quot;: {\n        &quot;isEnabled&quot;: true\n      }\n    },\n    &quot;fileLoggingMode&quot;: &quot;always&quot;,\n    &quot;logLevel&quot;: {\n      &quot;default&quot;: &quot;Information&quot;,\n      &quot;Host.Results&quot;: &quot;None&quot;,\n      &quot;Function&quot;: &quot;Trace&quot;,\n      &quot;Function.functionProcessor&quot;: &quot;Information&quot;,\n      &quot;Host.Aggregator&quot;: &quot;Trace&quot;\n    }\n  }\n}\n</code></pre>\n<p>While going trhough the 'Failure' on app insight I found below as message.</p>\n<pre><code>Exception while executing function: Functions.functionProcessor Result: Failure\nException: NullPointerException: \nStack: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.microsoft.azure.functions.worker.broker.JavaMethodInvokeInfo.invoke(JavaMethodInvokeInfo.java:22)\n    at com.microsoft.azure.functions.worker.broker.EnhancedJavaMethodExecutorImpl.execute(EnhancedJavaMethodExecutorImpl.java:55)\n    at com.microsoft.azure.functions.worker.broker.JavaFunctionBroker.invokeMethod(JavaFunctionBroker.java:62)\n    at com.microsoft.azure.functions.worker.handler.InvocationRequestHandler.execute(InvocationRequestHandler.java:33)\n    at com.microsoft.azure.functions.worker.handler.InvocationRequestHandler.execute(InvocationRequestHandler.java:10)\n    at com.microsoft.azure.functions.worker.handler.MessageHandler.handle(MessageHandler.java:45)\n    at com.microsoft.azure.functions.worker.JavaWorkerClient$StreamingMessagePeer.lambda$onNext$0(JavaWorkerClient.java:92)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.NullPointerException\n    at org.springframework.cloud.function.adapter.azure.FunctionInvoker.handleRequest(FunctionInvoker.java:117)\n    at com.alldata.function.FunctionHandler.run(FunctionHandler.java:23)\n    ... 16 more\n</code></pre>\n<p>Here is the Call Stack mentioned:</p>\n<pre><code>Microsoft.Azure.WebJobs.Host.FunctionInvocationException:\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithLoggingAsync&gt;d__26.MoveNext (Microsoft.Azure.WebJobs.Host, Version=3.0.34.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35: C:\\projects\\azure-webjobs-sdk-rqm4t\\src\\Microsoft.Azure.WebJobs.Host\\Executors\\FunctionExecutor.cs:352)\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryExecuteAsync&gt;d__18.MoveNext (Microsoft.Azure.WebJobs.Host, Version=3.0.34.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35: C:\\projects\\azure-webjobs-sdk-rqm4t\\src\\Microsoft.Azure.WebJobs.Host\\Executors\\FunctionExecutor.cs:108)\nInner exception Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException handled at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw:\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker+&lt;InvokeCore&gt;d__9.MoveNext (Microsoft.Azure.WebJobs.Script, Version=3.10.0.0, Culture=neutral, PublicKeyToken=null: /src/azure-functions-host/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs:96)\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase+&lt;Invoke&gt;d__24.MoveNext (Microsoft.Azure.WebJobs.Script, Version=3.10.0.0, Culture=neutral, PublicKeyToken=null: /src/azure-functions-host/src/WebJobs.Script/Description/FunctionInvokerBase.cs:82)\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2+&lt;InvokeAsync&gt;d__2.MoveNext (Microsoft.Azure.WebJobs.Host, Version=3.0.34.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35: C:\\projects\\azure-webjobs-sdk-rqm4t\\src\\Microsoft.Azure.WebJobs.Host\\Executors\\VoidTaskMethodInvoker.cs:20)\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2+&lt;InvokeAsync&gt;d__10.MoveNext (Microsoft.Azure.WebJobs.Host, Version=3.0.34.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35: C:\\projects\\azure-webjobs-sdk-rqm4t\\src\\Microsoft.Azure.WebJobs.Host\\Executors\\FunctionInvoker.cs:52)\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;InvokeWithTimeoutAsync&gt;d__33.MoveNext (Microsoft.Azure.WebJobs.Host, Version=3.0.34.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35: C:\\projects\\azure-webjobs-sdk-rqm4t\\src\\Microsoft.Azure.WebJobs.Host\\Executors\\FunctionExecutor.cs:581)\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithWatchersAsync&gt;d__32.MoveNext (Microsoft.Azure.WebJobs.Host, Version=3.0.34.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35: C:\\projects\\azure-webjobs-sdk-rqm4t\\src\\Microsoft.Azure.WebJobs.Host\\Executors\\FunctionExecutor.cs:527)\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithLoggingAsync&gt;d__26.MoveNext (Microsoft.Azure.WebJobs.Host, Version=3.0.34.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35: C:\\projects\\azure-webjobs-sdk-rqm4t\\src\\Microsoft.Azure.WebJobs.Host\\Executors\\FunctionExecutor.cs:306)\n</code></pre>\n"},{"tags":["java","apache-poi","apache-poi-4"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1658294892,"post_id":73043152,"comment_id":129012753,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658301588,"creation_date":1658301076,"answer_id":73047358,"question_id":73043152,"body_markdown":"When using `Sheet.createSplitPane` one sets following parameters:\r\n\r\n - xSplitPos - Horizontal position of split (in 1/20th of a point).\r\n - ySplitPos - Vertical position of split (in 1/20th of a point).\r\n - leftmostColumn - Left column visible in right pane.\r\n - topRow - Top row visible in bottom pane\r\n - activePane - Active pane. One of: PANE_LOWER_RIGHT, PANE_UPPER_RIGHT,\r\n   PANE_LOWER_LEFT, PANE_UPPER_LEFT.\r\n\r\nSo if you set `xSplitPos` to `0` and `leftmostColumn` to `0`, then you should get what you want.\r\n\r\nBut there is a bug with `activePane`. \r\n\r\nThe constant fields in `Sheet` are as follows:\r\n\r\n    PANE_LOWER_RIGHT  0\r\n    PANE_UPPER_RIGHT  1\r\n    PANE_LOWER_LEFT   2\r\n    PANE_UPPER_LEFT   3\r\n\r\nBut the corresponding values in `org.openxmlformats.schemas.spreadsheetml.x2006.main.STPane` are:\r\n\r\n    INT_BOTTOM_RIGHT 1\r\n    INT_TOP_RIGHT    2\r\n    INT_BOTTOM_LEFT  3\r\n    INT_TOP_LEFT     4\r\n\r\nSo the first are 0-based while the second are 1-based.\r\n\r\nThat&#39;s why one needs using `+1` to each of the `Sheet` constants.\r\n\r\nExample:\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    \r\n    class CreateExcelSplitPane {\r\n        \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      try (\r\n           Workbook workbook = new XSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xlsx&quot;) ) {\r\n           //Workbook workbook = new HSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xls&quot;) ) {\r\n    \r\n       Sheet sheet = workbook.createSheet();\r\n       \r\n       sheet.createSplitPane(0, 100*20, 0, 9, Sheet.PANE_UPPER_LEFT+1);\r\n       \r\n       workbook.write(fileout);\r\n      }\r\n     }\r\n    }\r\n\r\n\r\nResult:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd when using\r\n\r\n    ...\r\n    sheet.createSplitPane(100*20, 0, 3, 0, Sheet.PANE_UPPER_LEFT+1);\r\n    ...\r\n\r\nthe result looks like:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\nThis is tested and works using `apache poi 4.1.1` as well as `apache poi 5.2.2`.\r\n\r\n\r\nThere are additional issues in `HSSF` using `HSSFSheet.createSplitPane`. But that&#39;s another question.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Pykv.png\r\n  [2]: https://i.stack.imgur.com/dxeKL.png","title":"Is there a way to create a split plane horizontally using the Apache POI library in Java? [EXCEL + APACHE POI]","body":"<p>When using <code>Sheet.createSplitPane</code> one sets following parameters:</p>\n<ul>\n<li>xSplitPos - Horizontal position of split (in 1/20th of a point).</li>\n<li>ySplitPos - Vertical position of split (in 1/20th of a point).</li>\n<li>leftmostColumn - Left column visible in right pane.</li>\n<li>topRow - Top row visible in bottom pane</li>\n<li>activePane - Active pane. One of: PANE_LOWER_RIGHT, PANE_UPPER_RIGHT,\nPANE_LOWER_LEFT, PANE_UPPER_LEFT.</li>\n</ul>\n<p>So if you set <code>xSplitPos</code> to <code>0</code> and <code>leftmostColumn</code> to <code>0</code>, then you should get what you want.</p>\n<p>But there is a bug with <code>activePane</code>.</p>\n<p>The constant fields in <code>Sheet</code> are as follows:</p>\n<pre><code>PANE_LOWER_RIGHT  0\nPANE_UPPER_RIGHT  1\nPANE_LOWER_LEFT   2\nPANE_UPPER_LEFT   3\n</code></pre>\n<p>But the corresponding values in <code>org.openxmlformats.schemas.spreadsheetml.x2006.main.STPane</code> are:</p>\n<pre><code>INT_BOTTOM_RIGHT 1\nINT_TOP_RIGHT    2\nINT_BOTTOM_LEFT  3\nINT_TOP_LEFT     4\n</code></pre>\n<p>So the first are 0-based while the second are 1-based.</p>\n<p>That's why one needs using <code>+1</code> to each of the <code>Sheet</code> constants.</p>\n<p>Example:</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\n\nclass CreateExcelSplitPane {\n    \n public static void main(String[] args) throws Exception {\n\n  try (\n       Workbook workbook = new XSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xlsx&quot;) ) {\n       //Workbook workbook = new HSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xls&quot;) ) {\n\n   Sheet sheet = workbook.createSheet();\n   \n   sheet.createSplitPane(0, 100*20, 0, 9, Sheet.PANE_UPPER_LEFT+1);\n   \n   workbook.write(fileout);\n  }\n }\n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/4Pykv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Pykv.png\" alt=\"enter image description here\" /></a></p>\n<p>And when using</p>\n<pre><code>...\nsheet.createSplitPane(100*20, 0, 3, 0, Sheet.PANE_UPPER_LEFT+1);\n...\n</code></pre>\n<p>the result looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/dxeKL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dxeKL.png\" alt=\"enter image description here\" /></a></p>\n<p>This is tested and works using <code>apache poi 4.1.1</code> as well as <code>apache poi 5.2.2</code>.</p>\n<p>There are additional issues in <code>HSSF</code> using <code>HSSFSheet.createSplitPane</code>. But that's another question.</p>\n"}],"owner":{"account_id":25848011,"reputation":3,"user_id":19582494,"display_name":"Yashik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73047358,"answer_count":1,"score":0,"last_activity_date":1658301588,"creation_date":1658262653,"question_id":73043152,"body_markdown":"using the createSplitPlane() method in XSSFSheet it is only able to do a 4 pane split. Is there a way to do a 2 plane split instead horizontally?","title":"Is there a way to create a split plane horizontally using the Apache POI library in Java? [EXCEL + APACHE POI]","body":"<p>using the createSplitPlane() method in XSSFSheet it is only able to do a 4 pane split. Is there a way to do a 2 plane split instead horizontally?</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":10299696,"reputation":2315,"user_id":7598776,"display_name":"Robin Topper"},"score":3,"creation_date":1493388320,"post_id":43682120,"comment_id":74410407,"body_markdown":"Possible duplicate of [What&#39;s the difference between map and flatMap methods in Java 8?](http://stackoverflow.com/questions/26684562/whats-the-difference-between-map-and-flatmap-methods-in-java-8). And even it is not a perfect duplicate, the answers there are useful.","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/26684562/whats-the-difference-between-map-and-flatmap-methods-in-java-8\">What&#39;s the difference between map and flatMap methods in Java 8?</a>. And even it is not a perfect duplicate, the answers there are useful."},{"owner":{"account_id":1270084,"reputation":5416,"user_id":1226605,"accept_rate":86,"display_name":"devang"},"score":6,"creation_date":1493388352,"post_id":43682120,"comment_id":74410423,"body_markdown":"Your method `getIds` does not have a return type.","body":"Your method <code>getIds</code> does not have a return type."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1493388259,"creation_date":1493388259,"answer_id":43682149,"question_id":43682120,"body_markdown":"Use `flatMap`:\r\n\r\n    List&lt;Integer&gt; concat = examples.stream()\r\n        .flatMap(e -&gt; e.getIds().stream())\r\n        .collect(Collectors.toList());","title":"Collecting lists from an object list using Java 8 Stream API","body":"<p>Use <code>flatMap</code>:</p>\n\n<pre><code>List&lt;Integer&gt; concat = examples.stream()\n    .flatMap(e -&gt; e.getIds().stream())\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1493392388,"creation_date":1493392388,"answer_id":43683541,"question_id":43682120,"body_markdown":"Another solution by using method reference expression instead of lambda expression:\r\n\r\n    List&lt;Integer&gt; concat = examples.stream()\r\n                                   .map(Example::getIds)\r\n                                   .flatMap(List::stream)\r\n                                   .collect(Collectors.toList());","title":"Collecting lists from an object list using Java 8 Stream API","body":"<p>Another solution by using method reference expression instead of lambda expression:</p>\n\n<pre><code>List&lt;Integer&gt; concat = examples.stream()\n                               .map(Example::getIds)\n                               .flatMap(List::stream)\n                               .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":2017340,"reputation":5010,"user_id":1804317,"accept_rate":79,"display_name":"Jakob Abfalter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66900,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":43682149,"answer_count":2,"score":32,"last_activity_date":1658301563,"creation_date":1493388160,"question_id":43682120,"body_markdown":"I have a class like this\r\n\r\n    public class Example {\r\n    \tprivate List&lt;Integer&gt; ids;\r\n      \r\n      \tpublic getIds() {\r\n         \treturn this.ids; \r\n        }\r\n    }\r\n\r\nIf I have a list of objects of this class like this\r\n\r\n    List&lt;Example&gt; examples;\r\n\r\nHow would I be able to map the id lists of all examples into one list?\r\nI tried like this:\r\n\r\n    List&lt;Integer&gt; concat = examples.stream().map(Example::getIds).collect(Collectors.toList());\r\n\r\nbut getting an error with `Collectors.toList()`\r\n\r\nWhat would be the correct way to achive this with Java 8 stream api?","title":"Collecting lists from an object list using Java 8 Stream API","body":"<p>I have a class like this</p>\n\n<pre><code>public class Example {\n    private List&lt;Integer&gt; ids;\n\n    public getIds() {\n        return this.ids; \n    }\n}\n</code></pre>\n\n<p>If I have a list of objects of this class like this</p>\n\n<pre><code>List&lt;Example&gt; examples;\n</code></pre>\n\n<p>How would I be able to map the id lists of all examples into one list?\nI tried like this:</p>\n\n<pre><code>List&lt;Integer&gt; concat = examples.stream().map(Example::getIds).collect(Collectors.toList());\n</code></pre>\n\n<p>but getting an error with <code>Collectors.toList()</code></p>\n\n<p>What would be the correct way to achive this with Java 8 stream api?</p>\n"},{"tags":["java","spring-boot","unit-testing","nullpointerexception","mockito"],"comments":[{"owner":{"account_id":18431035,"reputation":582,"user_id":13426164,"display_name":"Kris"},"score":0,"creation_date":1658301116,"post_id":73044471,"comment_id":129014342,"body_markdown":"Have you tried inserting actual values you would like to see in thenReturn(setSomeValueToReturn) part of the statements rather than the mocked instances themselves?","body":"Have you tried inserting actual values you would like to see in thenReturn(setSomeValueToReturn) part of the statements rather than the mocked instances themselves?"}],"answers":[{"tags":[],"owner":{"account_id":7357018,"reputation":356,"user_id":5601435,"display_name":"Fabien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658301537,"creation_date":1658301156,"answer_id":73047372,"question_id":73044471,"body_markdown":"There are different problems : \r\n\r\n- You&#39;re mocking the class under test \r\n```java\r\n private ShowService showService = Mockito.mock(ShowService.class);\r\n```\r\n\r\n- You don&#39;t tell to your ShowService to use the blogCoreSolrClient mock, then the blogCoreSolrClient mock instance is created, but never used.\r\n\r\nAs you are using IOC to inject the SolrClient (@Resource annotation), you need to inject the mock in your ShowService instance during the test.\r\nThere are different solutions, but the more convenient in your case would be to use the Mockito Extension to perform the injection.\r\nSomething like :\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ShowServiceTest {\r\n\r\n@Mock\r\nprivate SolrClient blogCoreSolrClient;\r\n... // Other mocks\r\n\r\n@InjectMocks\r\nprivate ShowService showService;\r\n\r\n@Test\r\npublic void findShowTest() {\r\n  Mockito.when(blogCoreSolrClient.query(any())).thenReturn(queryResponse);\r\n  ... // Complete test\r\n\r\n}\r\n\r\n}\r\n```\r\nThe problem would be that your class under test is an abstract class.\r\nI don&#39;t see any abstract method. So, if you really need the class under test to be abstract, then you&#39;ll face a technical difficulty with @InjectMocks.\r\nHere are some solutions :\r\nhttps://tedvinke.wordpress.com/2020/06/22/mockito-cannot-instantiate-injectmocks-field-the-type-is-an-abstract-class/\r\n","title":"Getting nullPointerException because Mockito variable is set to null even though I have mocked it","body":"<p>There are different problems :</p>\n<ul>\n<li>You're mocking the class under test</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code> private ShowService showService = Mockito.mock(ShowService.class);\n</code></pre>\n<ul>\n<li>You don't tell to your ShowService to use the blogCoreSolrClient mock, then the blogCoreSolrClient mock instance is created, but never used.</li>\n</ul>\n<p>As you are using IOC to inject the SolrClient (@Resource annotation), you need to inject the mock in your ShowService instance during the test.\nThere are different solutions, but the more convenient in your case would be to use the Mockito Extension to perform the injection.\nSomething like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class ShowServiceTest {\n\n@Mock\nprivate SolrClient blogCoreSolrClient;\n... // Other mocks\n\n@InjectMocks\nprivate ShowService showService;\n\n@Test\npublic void findShowTest() {\n  Mockito.when(blogCoreSolrClient.query(any())).thenReturn(queryResponse);\n  ... // Complete test\n\n}\n\n}\n</code></pre>\n<p>The problem would be that your class under test is an abstract class.\nI don't see any abstract method. So, if you really need the class under test to be abstract, then you'll face a technical difficulty with @InjectMocks.\nHere are some solutions :\n<a href=\"https://tedvinke.wordpress.com/2020/06/22/mockito-cannot-instantiate-injectmocks-field-the-type-is-an-abstract-class/\" rel=\"nofollow noreferrer\">https://tedvinke.wordpress.com/2020/06/22/mockito-cannot-instantiate-injectmocks-field-the-type-is-an-abstract-class/</a></p>\n"}],"owner":{"account_id":6645164,"reputation":173,"user_id":5129559,"accept_rate":64,"display_name":"Scalaboy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658301537,"creation_date":1658273419,"question_id":73044471,"body_markdown":"Here is the class and the method I am trying to unit test.\r\n\r\n```\r\npublic abstract class ShowService {\r\n\r\n    @Resource(name = &quot;blogCoreSolrClient&quot;)\r\n    private SolrClient blogCoreSolrClient;\r\n\r\n\r\n    protected Show findShow(ClientRegion clientRegion, TargetLocale locale, Integer showId) {\r\n\r\n        SolrQuery query = new SolrQuery();\r\n        query.setQuery(&quot;type:&quot; + SolrType.show)\r\n                .addFilterQuery(getRegionQuery(clientRegion))\r\n                .addFilterQuery(getLanguageFallbackQuery(locale))\r\n                .addFilterQuery(&quot;show_id:&quot; + showId)\r\n                .setRows(1);\r\n\r\n        QueryResponse response = blogCoreSolrClient.query(query);\r\n\r\n        List&lt;Show&gt; shows = response.getBeans(Show.class);\r\n\r\n        if (shows != null &amp;&amp; shows.size() &gt; 0) {\r\n            return shows.get(0);\r\n        }\r\n\r\n        return null;\r\n\r\n    }\r\n\r\n    public static class SyndicatedShow {\r\n        @Field(&quot;show_id&quot;)\r\n        public Integer showId;\r\n\r\n        @Field(&quot;path_value&quot;)\r\n        public String pathValue;\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s my Unit test written using Mockito\r\n\r\n```\r\npublic class ShowServiceTest {\r\n\r\n    public final QueryResponse queryResponse = Mockito.mock(QueryResponse.class);\r\n    public final SolrClient blogCoreSolrClient = Mockito.mock(SolrClient.class);\r\n    public final SolrQuery SolrQuery = Mockito.mock(SolrQuery.class);\r\n    private SolrDocumentList solrDocuments = Mockito.mock(SolrDocumentList.class);\r\n    private ShowService showService = Mockito.mock(ShowService.class);\r\n\r\n\r\n    @Test\r\n    public void findShowTest() {\r\n      Mockito.when(blogCoreSolrClient.query(solrQueryCaptor.capture())).thenReturn(queryResponse);\r\n        \r\n       \r\n\r\n        Mockito.when(queryResponse.getResults()).thenReturn(solrDocuments);\r\n\r\n\r\n       Mockito.when(blogCoreSolrClient.query(any())).thenReturn(queryResponse);\r\n\r\n        ShowService.Show showsResult = ShowService.findShow(ClientRegion.US, TargetLocale.EN_US, 1234);\r\n\r\n        assertThat(showsResult.pathValue).isEqualTo(&quot;shows/test/&quot;);\r\n    }\r\n\r\n\r\n}\r\n```\r\nI am getting Null at `blogCoreSolrClient` when the code passes to findShow().\r\nBecause of that I am getting NullPointerException. \r\nAny suggestions, where I might be going wrong. TIA","title":"Getting nullPointerException because Mockito variable is set to null even though I have mocked it","body":"<p>Here is the class and the method I am trying to unit test.</p>\n<pre><code>public abstract class ShowService {\n\n    @Resource(name = &quot;blogCoreSolrClient&quot;)\n    private SolrClient blogCoreSolrClient;\n\n\n    protected Show findShow(ClientRegion clientRegion, TargetLocale locale, Integer showId) {\n\n        SolrQuery query = new SolrQuery();\n        query.setQuery(&quot;type:&quot; + SolrType.show)\n                .addFilterQuery(getRegionQuery(clientRegion))\n                .addFilterQuery(getLanguageFallbackQuery(locale))\n                .addFilterQuery(&quot;show_id:&quot; + showId)\n                .setRows(1);\n\n        QueryResponse response = blogCoreSolrClient.query(query);\n\n        List&lt;Show&gt; shows = response.getBeans(Show.class);\n\n        if (shows != null &amp;&amp; shows.size() &gt; 0) {\n            return shows.get(0);\n        }\n\n        return null;\n\n    }\n\n    public static class SyndicatedShow {\n        @Field(&quot;show_id&quot;)\n        public Integer showId;\n\n        @Field(&quot;path_value&quot;)\n        public String pathValue;\n    }\n}\n</code></pre>\n<p>Here's my Unit test written using Mockito</p>\n<pre><code>public class ShowServiceTest {\n\n    public final QueryResponse queryResponse = Mockito.mock(QueryResponse.class);\n    public final SolrClient blogCoreSolrClient = Mockito.mock(SolrClient.class);\n    public final SolrQuery SolrQuery = Mockito.mock(SolrQuery.class);\n    private SolrDocumentList solrDocuments = Mockito.mock(SolrDocumentList.class);\n    private ShowService showService = Mockito.mock(ShowService.class);\n\n\n    @Test\n    public void findShowTest() {\n      Mockito.when(blogCoreSolrClient.query(solrQueryCaptor.capture())).thenReturn(queryResponse);\n        \n       \n\n        Mockito.when(queryResponse.getResults()).thenReturn(solrDocuments);\n\n\n       Mockito.when(blogCoreSolrClient.query(any())).thenReturn(queryResponse);\n\n        ShowService.Show showsResult = ShowService.findShow(ClientRegion.US, TargetLocale.EN_US, 1234);\n\n        assertThat(showsResult.pathValue).isEqualTo(&quot;shows/test/&quot;);\n    }\n\n\n}\n</code></pre>\n<p>I am getting Null at <code>blogCoreSolrClient</code> when the code passes to findShow().\nBecause of that I am getting NullPointerException.\nAny suggestions, where I might be going wrong. TIA</p>\n"},{"tags":["java","unit-testing","junit","mockito","junit5"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1658232342,"post_id":73036188,"comment_id":128995697,"body_markdown":"How does the test fail, exactly?","body":"How does the test fail, exactly?"},{"owner":{"account_id":1692303,"reputation":969,"user_id":1554421,"accept_rate":100,"display_name":"Gunwant"},"score":0,"creation_date":1658299790,"post_id":73036188,"comment_id":129013961,"body_markdown":"YammerServiceTest.testHandleInterruptedException:127 expected: not &lt;null&gt;\nIt is still failing here from maven command","body":"YammerServiceTest.testHandleInterruptedException:127 expected: not &lt;null&gt; It is still failing here from maven command"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1658300768,"post_id":73036188,"comment_id":129014232,"body_markdown":"What maven command line are you using, exactly?","body":"What maven command line are you using, exactly?"},{"owner":{"account_id":1692303,"reputation":969,"user_id":1554421,"accept_rate":100,"display_name":"Gunwant"},"score":0,"creation_date":1658300914,"post_id":73036188,"comment_id":129014279,"body_markdown":"mvn clean install -s settings.xml     -- The setting.xml contains credentials for code artifacts.","body":"mvn clean install -s settings.xml     -- The setting.xml contains credentials for code artifacts."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1658301068,"post_id":73036188,"comment_id":129014328,"body_markdown":"Please edit your question to include your entire `YammerServiceTest` class.","body":"Please edit your question to include your entire <code>YammerServiceTest</code> class."}],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658231340,"creation_date":1658231340,"answer_id":73036342,"question_id":73036188,"body_markdown":"Try to use an object and send it to the service rather than mock it\r\n\r\n```\r\n@Test\r\npublic void testHandleInterruptedException() {\r\n  // Arrange\r\n  InterruptedException exception = new InterruptedException(&quot;Test Interrupted exception msg&quot;);\r\n\r\n  // Act &amp; Assert\r\n  Assertions.assertNotNull(YammerService.handleInterruptedException(exception, Boolean.TRUE));\r\n  Assertions.assertNotNull(YammerService.handleInterruptedException(exception, Boolean.FALSE));\r\n}\r\n```","title":"Test succeeds in Idea IntelliJ but fails using Maven command","body":"<p>Try to use an object and send it to the service rather than mock it</p>\n<pre><code>@Test\npublic void testHandleInterruptedException() {\n  // Arrange\n  InterruptedException exception = new InterruptedException(&quot;Test Interrupted exception msg&quot;);\n\n  // Act &amp; Assert\n  Assertions.assertNotNull(YammerService.handleInterruptedException(exception, Boolean.TRUE));\n  Assertions.assertNotNull(YammerService.handleInterruptedException(exception, Boolean.FALSE));\n}\n</code></pre>\n"}],"owner":{"account_id":1692303,"reputation":969,"user_id":1554421,"accept_rate":100,"display_name":"Gunwant"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658301385,"creation_date":1658230666,"question_id":73036188,"body_markdown":"I have a very simple unit test, as simple as it could be \r\n\r\n      @Test\r\n      public void testHandleInterruptedException() {\r\n      InterruptedException exception = Mockito.mock(InterruptedException.class);\r\n      Assertions.assertNotNull(YammerService.handleInterruptedException(exception, Boolean.TRUE));\r\n      Assertions.assertNotNull(YammerService.handleInterruptedException(exception, Boolean.FALSE));\r\n      }\r\n\r\nStrangely, this tests fails while running from maven build command and passes while running in IntelliJ.\r\n\r\nThe method handleInterruptedException simple too - \r\n\r\n      public static KendraConnectorException handleInterruptedException(\r\n      InterruptedException e, boolean isContinuable) {\r\n\r\n      return isContinuable ? new ContinuableInternalServerError(\r\n        &quot;Current thread has been interrupted&quot;, e)\r\n        : new InternalServerError(&quot;Please try again later&quot;, e);\r\n    }\r\n\r\n\r\nI am not sure why it fails with maven command.\r\n\r\n\r\nEdit 1- \r\nComplete YammerServiceTest class -  May be I am doing something incorrect in test class \r\n\r\n\t\t\tpackage com.amazonaws.kendra.connector.yammer.client;\r\n\r\n\t\t\timport com.amazonaws.kendra.connector.sdk.exception.BadRequestException;\r\n\t\t\timport com.amazonaws.kendra.connector.sdk.exception.ContinuableInternalServerError;\r\n\t\t\timport com.amazonaws.kendra.connector.yammer.configuration.YammerConfiguration;\r\n\t\t\timport com.amazonaws.kendra.connector.yammer.rest.client.api.MyselfApi;\r\n\t\t\timport com.amazonaws.kendra.connector.yammer.service.UserService;\r\n\t\t\timport feign.FeignException;\r\n\t\t\timport java.net.UnknownHostException;\r\n\t\t\timport java.util.Arrays;\r\n\t\t\timport java.util.List;\r\n\t\t\timport java.util.Objects;\r\n\t\t\timport org.junit.jupiter.api.AfterEach;\r\n\t\t\timport org.junit.jupiter.api.Assertions;\r\n\t\t\timport org.junit.jupiter.api.BeforeEach;\r\n\t\t\timport org.junit.jupiter.api.Test;\r\n\t\t\timport org.junit.jupiter.api.extension.ExtendWith;\r\n\t\t\timport org.mockito.MockedStatic;\r\n\t\t\timport org.mockito.Mockito;\r\n\t\t\timport org.mockito.junit.jupiter.MockitoExtension;\r\n\t\t\timport org.mockito.junit.jupiter.MockitoSettings;\r\n\t\t\timport org.mockito.quality.Strictness;\r\n\r\n\t\t\t@ExtendWith(MockitoExtension.class)\r\n\t\t\t@MockitoSettings(strictness = Strictness.LENIENT)\r\n\t\t\tpublic class YammerServiceTest {\r\n\t\t\t  private MockedStatic&lt;UserService&gt; userService =\r\n\t\t\t\t  Mockito.mockStatic(UserService.class);\r\n\t\t\t  private YammerConfiguration yammerConfiguration =\r\n\t\t\t\t  Mockito.mock(YammerConfiguration.class);\r\n\t\t\t  private MyselfApi myselfApi = Mockito.mock(MyselfApi.class);\r\n\r\n\t\t\t  @BeforeEach\r\n\t\t\t  public void setUp() {\r\n\t\t\t\tuserService.when(() -&gt; UserService.getMyselfApi(Mockito.any()))\r\n\t\t\t\t\t.thenReturn(myselfApi);\r\n\t\t\t\tMockito.when(myselfApi.getCurrentUser()).thenReturn(DataProvider.getUser());\r\n\t\t\t\tMockito.when(yammerConfiguration.getHostUrl()).thenReturn(DataProvider.URL);\r\n\t\t\t\tMockito.when(yammerConfiguration.getAuthType()).thenReturn(DataProvider.OAUTH2);\r\n\t\t\t\tMockito.when(yammerConfiguration.getClientId()).thenReturn(DataProvider.CLIENT_ID);\r\n\t\t\t\tMockito.when(yammerConfiguration.getClientSecret()).thenReturn(DataProvider.CLIENT_SECRET);\r\n\t\t\t\tMockito.when(yammerConfiguration.getUserName()).thenReturn(DataProvider.USER_NAME);\r\n\t\t\t\tMockito.when(yammerConfiguration.getPassword()).thenReturn(DataProvider.PASSWORD);\r\n\t\t\t\tMockito.when(yammerConfiguration.getScope()).thenReturn(DataProvider.SCOPE);\r\n\t\t\t  }\r\n\r\n\t\t\t  @AfterEach\r\n\t\t\t  void tearDown() {\r\n\t\t\t\tif (!Objects.isNull(userService)) {\r\n\t\t\t\t  userService.close();\r\n\t\t\t\t}\r\n\t\t\t\tuserService = null;\r\n\t\t\t  }\r\n\r\n\t\t\t  @Test\r\n\t\t\t  public void testReTestConnection() {\r\n\t\t\t\tYammerConfiguration yammerConfiguration = Mockito.mock(YammerConfiguration.class);\r\n\t\t\t\tYammerService yammerService = new YammerService();\r\n\t\t\t\tAssertions.assertTrue(yammerService.reTestConnection(yammerConfiguration));\r\n\t\t\t  }\r\n\r\n\t\t\t  @Test\r\n\t\t\t  public void testTestConnection() {\r\n\t\t\t\tYammerService yammerService = new YammerService();\r\n\t\t\t\tAssertions.assertTrue(yammerService.testConnection(yammerConfiguration));\r\n\t\t\t  }\r\n\r\n\t\t\t  @Test\r\n\t\t\t  public void testReTestConnectionWhenFeignExceptionIsThrown() {\r\n\t\t\t\tYammerConfiguration configuration = Mockito.mock(YammerConfiguration.class);\r\n\t\t\t\tFeignException exception = Mockito.mock(FeignException.class);\r\n\t\t\t\tMockito.when(configuration.getHostUrl()).thenThrow(exception);\r\n\t\t\t\tMockito.when(exception.status()).thenReturn(429);\r\n\t\t\t\tAssertions.assertFalse(YammerService.reTestConnection(configuration));\r\n\t\t\t  }\r\n\r\n\t\t\t  @Test\r\n\t\t\t  public void testReTestConnectionWhenFeignExceptionIsThrown_1() {\r\n\t\t\t\tYammerConfiguration configuration = Mockito.mock(YammerConfiguration.class);\r\n\t\t\t\tFeignException exception = Mockito.mock(FeignException.class);\r\n\t\t\t\tMockito.when(configuration.getHostUrl()).thenThrow(exception);\r\n\t\t\t\tMockito.when(exception.status()).thenReturn(430);\r\n\t\t\t\tAssertions.assertFalse(YammerService.reTestConnection(configuration));\r\n\t\t\t  }\r\n\r\n\t\t\t  @Test\r\n\t\t\t  public void testTestConnectionWhenFeignExceptionIsThrown() {\r\n\t\t\t\tYammerConfiguration configuration = Mockito.mock(YammerConfiguration.class);\r\n\t\t\t\tFeignException exception = Mockito.mock(FeignException.class);\r\n\t\t\t\tMockito.when(configuration.getHostUrl()).thenReturn(DataProvider.URL);\r\n\t\t\t\tMockito.when(configuration.getAuthType()).thenThrow(exception);\r\n\t\t\t\tMockito.when(exception.status()).thenReturn(430);\r\n\t\t\t\tMockito.when(exception.getCause()).thenReturn(exception);\r\n\t\t\t\tAssertions.assertThrows(BadRequestException.class,\r\n\t\t\t\t\t() -&gt; YammerService.testConnection(configuration));\r\n\t\t\t  }\r\n\r\n\t\t\t  //@Test\r\n\t\t\t  public void testTestConnectionWithThrotlingWhenFeignExceptionIsThrown() {\r\n\t\t\t\tYammerConfiguration configuration = Mockito.mock(YammerConfiguration.class);\r\n\t\t\t\tFeignException exception = Mockito.mock(FeignException.class);\r\n\t\t\t\tMockito.when(configuration.getHostUrl()).thenReturn(DataProvider.URL);\r\n\t\t\t\tMockito.when(configuration.getAuthType()).thenThrow(exception);\r\n\t\t\t\tMockito.when(exception.status()).thenReturn(429);\r\n\t\t\t\tMockito.when(exception.getCause()).thenReturn(exception);\r\n\t\t\t\tAssertions.assertThrows(BadRequestException.class,\r\n\t\t\t\t\t() -&gt; YammerService.testConnection(configuration));\r\n\t\t\t  }\r\n\r\n\t\t\t  @Test\r\n\t\t\t  public void testHandleInterruptedException() {\r\n\t\t\t\tInterruptedException exception = new InterruptedException(&quot;InterruptedException&quot;);\r\n\t\t\t\tAssertions.assertNotNull(YammerService.handleInterruptedException(exception, Boolean.TRUE));\r\n\t\t\t\tAssertions.assertNotNull(YammerService.handleInterruptedException(exception, Boolean.FALSE));\r\n\t\t\t  }\r\n\r\n\t\t\t  @Test\r\n\t\t\t  public void testTestConnectionWhenNotAuth2() {\r\n\t\t\t\tYammerService yammerService = new YammerService();\r\n\t\t\t\tList&lt;Integer&gt; waitTimeList =\r\n\t\t\t\t\tArrays.asList(1);\r\n\t\t\t\tFeignException feignException = Mockito.mock(FeignException.class);\r\n\t\t\t\tMockito.when(feignException.status()).thenReturn(429);\r\n\t\t\t\tMockito.when(feignException.getCause()).thenReturn(new UnknownHostException());\r\n\t\t\t\tMockito.when(yammerConfiguration.getAuthType()).thenReturn(DataProvider.OAUTH);\r\n\t\t\t\tuserService.when(() -&gt; UserService.getMyselfApi(Mockito.any()))\r\n\t\t\t\t\t.thenThrow(feignException);\r\n\t\t\t\tAssertions.assertThrows(BadRequestException.class, () -&gt;\r\n\t\t\t\t\tyammerService.testConnection(yammerConfiguration));\r\n\t\t\t  }\r\n\r\n\t\t\t  @Test\r\n\t\t\t  public void testTestConnectionFeignExceptionIsThrown() {\r\n\t\t\t\tYammerService yammerService = new YammerService();\r\n\t\t\t\tList&lt;Integer&gt; waitTimeList =\r\n\t\t\t\t\tArrays.asList(1);\r\n\t\t\t\tFeignException feignException = Mockito.mock(FeignException.class);\r\n\t\t\t\tMockito.when(feignException.status()).thenReturn(429);\r\n\t\t\t\tMockito.when(feignException.getCause()).thenReturn(new Exception());\r\n\t\t\t\tMockito.when(yammerConfiguration.getAuthType()).thenReturn(DataProvider.OAUTH);\r\n\t\t\t\tuserService.when(() -&gt; UserService.getMyselfApi(Mockito.any()))\r\n\t\t\t\t\t.thenThrow(feignException);\r\n\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t\tAssertions.assertThrows(ContinuableInternalServerError.class, () -&gt;\r\n\t\t\t\t\tyammerService.testConnection(yammerConfiguration));\r\n\t\t\t  }\r\n\r\n\t\t\t  @Test\r\n\t\t\t  public void testTestConnectionWhenCauseIsNull() {\r\n\t\t\t\tYammerService yammerService = new YammerService();\r\n\t\t\t\tList&lt;Integer&gt; waitTimeList =\r\n\t\t\t\t\tArrays.asList(1);\r\n\t\t\t\tFeignException feignException = Mockito.mock(FeignException.class);\r\n\t\t\t\tMockito.when(feignException.status()).thenReturn(429);\r\n\t\t\t\tMockito.when(feignException.getCause()).thenReturn(null);\r\n\t\t\t\tMockito.when(yammerConfiguration.getAuthType()).thenReturn(DataProvider.OAUTH);\r\n\t\t\t\tuserService.when(() -&gt; UserService.getMyselfApi(Mockito.any()))\r\n\t\t\t\t\t.thenThrow(feignException);\r\n\t\t\t\tAssertions.assertThrows(BadRequestException.class, () -&gt;\r\n\t\t\t\t\tyammerService.testConnection(yammerConfiguration));\r\n\t\t\t  }\r\n\r\n\r\n\t\t\t}\r\n","title":"Test succeeds in Idea IntelliJ but fails using Maven command","body":"<p>I have a very simple unit test, as simple as it could be</p>\n<pre><code>  @Test\n  public void testHandleInterruptedException() {\n  InterruptedException exception = Mockito.mock(InterruptedException.class);\n  Assertions.assertNotNull(YammerService.handleInterruptedException(exception, Boolean.TRUE));\n  Assertions.assertNotNull(YammerService.handleInterruptedException(exception, Boolean.FALSE));\n  }\n</code></pre>\n<p>Strangely, this tests fails while running from maven build command and passes while running in IntelliJ.</p>\n<p>The method handleInterruptedException simple too -</p>\n<pre><code>  public static KendraConnectorException handleInterruptedException(\n  InterruptedException e, boolean isContinuable) {\n\n  return isContinuable ? new ContinuableInternalServerError(\n    &quot;Current thread has been interrupted&quot;, e)\n    : new InternalServerError(&quot;Please try again later&quot;, e);\n}\n</code></pre>\n<p>I am not sure why it fails with maven command.</p>\n<p>Edit 1-\nComplete YammerServiceTest class -  May be I am doing something incorrect in test class</p>\n<pre><code>        package com.amazonaws.kendra.connector.yammer.client;\n\n        import com.amazonaws.kendra.connector.sdk.exception.BadRequestException;\n        import com.amazonaws.kendra.connector.sdk.exception.ContinuableInternalServerError;\n        import com.amazonaws.kendra.connector.yammer.configuration.YammerConfiguration;\n        import com.amazonaws.kendra.connector.yammer.rest.client.api.MyselfApi;\n        import com.amazonaws.kendra.connector.yammer.service.UserService;\n        import feign.FeignException;\n        import java.net.UnknownHostException;\n        import java.util.Arrays;\n        import java.util.List;\n        import java.util.Objects;\n        import org.junit.jupiter.api.AfterEach;\n        import org.junit.jupiter.api.Assertions;\n        import org.junit.jupiter.api.BeforeEach;\n        import org.junit.jupiter.api.Test;\n        import org.junit.jupiter.api.extension.ExtendWith;\n        import org.mockito.MockedStatic;\n        import org.mockito.Mockito;\n        import org.mockito.junit.jupiter.MockitoExtension;\n        import org.mockito.junit.jupiter.MockitoSettings;\n        import org.mockito.quality.Strictness;\n\n        @ExtendWith(MockitoExtension.class)\n        @MockitoSettings(strictness = Strictness.LENIENT)\n        public class YammerServiceTest {\n          private MockedStatic&lt;UserService&gt; userService =\n              Mockito.mockStatic(UserService.class);\n          private YammerConfiguration yammerConfiguration =\n              Mockito.mock(YammerConfiguration.class);\n          private MyselfApi myselfApi = Mockito.mock(MyselfApi.class);\n\n          @BeforeEach\n          public void setUp() {\n            userService.when(() -&gt; UserService.getMyselfApi(Mockito.any()))\n                .thenReturn(myselfApi);\n            Mockito.when(myselfApi.getCurrentUser()).thenReturn(DataProvider.getUser());\n            Mockito.when(yammerConfiguration.getHostUrl()).thenReturn(DataProvider.URL);\n            Mockito.when(yammerConfiguration.getAuthType()).thenReturn(DataProvider.OAUTH2);\n            Mockito.when(yammerConfiguration.getClientId()).thenReturn(DataProvider.CLIENT_ID);\n            Mockito.when(yammerConfiguration.getClientSecret()).thenReturn(DataProvider.CLIENT_SECRET);\n            Mockito.when(yammerConfiguration.getUserName()).thenReturn(DataProvider.USER_NAME);\n            Mockito.when(yammerConfiguration.getPassword()).thenReturn(DataProvider.PASSWORD);\n            Mockito.when(yammerConfiguration.getScope()).thenReturn(DataProvider.SCOPE);\n          }\n\n          @AfterEach\n          void tearDown() {\n            if (!Objects.isNull(userService)) {\n              userService.close();\n            }\n            userService = null;\n          }\n\n          @Test\n          public void testReTestConnection() {\n            YammerConfiguration yammerConfiguration = Mockito.mock(YammerConfiguration.class);\n            YammerService yammerService = new YammerService();\n            Assertions.assertTrue(yammerService.reTestConnection(yammerConfiguration));\n          }\n\n          @Test\n          public void testTestConnection() {\n            YammerService yammerService = new YammerService();\n            Assertions.assertTrue(yammerService.testConnection(yammerConfiguration));\n          }\n\n          @Test\n          public void testReTestConnectionWhenFeignExceptionIsThrown() {\n            YammerConfiguration configuration = Mockito.mock(YammerConfiguration.class);\n            FeignException exception = Mockito.mock(FeignException.class);\n            Mockito.when(configuration.getHostUrl()).thenThrow(exception);\n            Mockito.when(exception.status()).thenReturn(429);\n            Assertions.assertFalse(YammerService.reTestConnection(configuration));\n          }\n\n          @Test\n          public void testReTestConnectionWhenFeignExceptionIsThrown_1() {\n            YammerConfiguration configuration = Mockito.mock(YammerConfiguration.class);\n            FeignException exception = Mockito.mock(FeignException.class);\n            Mockito.when(configuration.getHostUrl()).thenThrow(exception);\n            Mockito.when(exception.status()).thenReturn(430);\n            Assertions.assertFalse(YammerService.reTestConnection(configuration));\n          }\n\n          @Test\n          public void testTestConnectionWhenFeignExceptionIsThrown() {\n            YammerConfiguration configuration = Mockito.mock(YammerConfiguration.class);\n            FeignException exception = Mockito.mock(FeignException.class);\n            Mockito.when(configuration.getHostUrl()).thenReturn(DataProvider.URL);\n            Mockito.when(configuration.getAuthType()).thenThrow(exception);\n            Mockito.when(exception.status()).thenReturn(430);\n            Mockito.when(exception.getCause()).thenReturn(exception);\n            Assertions.assertThrows(BadRequestException.class,\n                () -&gt; YammerService.testConnection(configuration));\n          }\n\n          //@Test\n          public void testTestConnectionWithThrotlingWhenFeignExceptionIsThrown() {\n            YammerConfiguration configuration = Mockito.mock(YammerConfiguration.class);\n            FeignException exception = Mockito.mock(FeignException.class);\n            Mockito.when(configuration.getHostUrl()).thenReturn(DataProvider.URL);\n            Mockito.when(configuration.getAuthType()).thenThrow(exception);\n            Mockito.when(exception.status()).thenReturn(429);\n            Mockito.when(exception.getCause()).thenReturn(exception);\n            Assertions.assertThrows(BadRequestException.class,\n                () -&gt; YammerService.testConnection(configuration));\n          }\n\n          @Test\n          public void testHandleInterruptedException() {\n            InterruptedException exception = new InterruptedException(&quot;InterruptedException&quot;);\n            Assertions.assertNotNull(YammerService.handleInterruptedException(exception, Boolean.TRUE));\n            Assertions.assertNotNull(YammerService.handleInterruptedException(exception, Boolean.FALSE));\n          }\n\n          @Test\n          public void testTestConnectionWhenNotAuth2() {\n            YammerService yammerService = new YammerService();\n            List&lt;Integer&gt; waitTimeList =\n                Arrays.asList(1);\n            FeignException feignException = Mockito.mock(FeignException.class);\n            Mockito.when(feignException.status()).thenReturn(429);\n            Mockito.when(feignException.getCause()).thenReturn(new UnknownHostException());\n            Mockito.when(yammerConfiguration.getAuthType()).thenReturn(DataProvider.OAUTH);\n            userService.when(() -&gt; UserService.getMyselfApi(Mockito.any()))\n                .thenThrow(feignException);\n            Assertions.assertThrows(BadRequestException.class, () -&gt;\n                yammerService.testConnection(yammerConfiguration));\n          }\n\n          @Test\n          public void testTestConnectionFeignExceptionIsThrown() {\n            YammerService yammerService = new YammerService();\n            List&lt;Integer&gt; waitTimeList =\n                Arrays.asList(1);\n            FeignException feignException = Mockito.mock(FeignException.class);\n            Mockito.when(feignException.status()).thenReturn(429);\n            Mockito.when(feignException.getCause()).thenReturn(new Exception());\n            Mockito.when(yammerConfiguration.getAuthType()).thenReturn(DataProvider.OAUTH);\n            userService.when(() -&gt; UserService.getMyselfApi(Mockito.any()))\n                .thenThrow(feignException);\n            Thread.currentThread().interrupt();\n            Assertions.assertThrows(ContinuableInternalServerError.class, () -&gt;\n                yammerService.testConnection(yammerConfiguration));\n          }\n\n          @Test\n          public void testTestConnectionWhenCauseIsNull() {\n            YammerService yammerService = new YammerService();\n            List&lt;Integer&gt; waitTimeList =\n                Arrays.asList(1);\n            FeignException feignException = Mockito.mock(FeignException.class);\n            Mockito.when(feignException.status()).thenReturn(429);\n            Mockito.when(feignException.getCause()).thenReturn(null);\n            Mockito.when(yammerConfiguration.getAuthType()).thenReturn(DataProvider.OAUTH);\n            userService.when(() -&gt; UserService.getMyselfApi(Mockito.any()))\n                .thenThrow(feignException);\n            Assertions.assertThrows(BadRequestException.class, () -&gt;\n                yammerService.testConnection(yammerConfiguration));\n          }\n\n\n        }\n</code></pre>\n"},{"tags":["java","list","collections","paging"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1383149911,"post_id":19688235,"comment_id":29242386,"body_markdown":"For web applications: JSF provides paging.","body":"For web applications: JSF provides paging."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":1,"creation_date":1383150004,"post_id":19688235,"comment_id":29242449,"body_markdown":"No not jsf, pure java","body":"No not jsf, pure java"},{"owner":{"account_id":98291,"reputation":3509,"user_id":266167,"display_name":"Joshua Davis"},"score":0,"creation_date":1383150059,"post_id":19688235,"comment_id":29242487,"body_markdown":"I was just about to ask what kind of app it is.  By &quot;pure Java&quot; do you mean a swing app or a console app?","body":"I was just about to ask what kind of app it is.  By &quot;pure Java&quot; do you mean a swing app or a console app?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1383150229,"post_id":19688235,"comment_id":29242622,"body_markdown":"sorry, I meant console app (this is later to be placed inside an existing architecture, but that does not matter).","body":"sorry, I meant console app (this is later to be placed inside an existing architecture, but that does not matter)."},{"owner":{"account_id":3497605,"reputation":2571,"user_id":2925287,"accept_rate":71,"display_name":"Pierre Emmanuel Lallemant"},"score":0,"creation_date":1383150494,"post_id":19688235,"comment_id":29242800,"body_markdown":"This kind of structure you need is called a &#39;zipper&#39;. See http://en.wikipedia.org/wiki/Zipper_%28data_structure%29 , there are java implementations on github.","body":"This kind of structure you need is called a &#39;zipper&#39;. See <a href=\"http://en.wikipedia.org/wiki/Zipper_%28data_structure%29\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Zipper_%28data_structure%29</a> , there are java implementations on github."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1383150645,"post_id":19688235,"comment_id":29242910,"body_markdown":"Hm this &quot;zipper&quot; seems to be to be some sort of single-item back and forth. I&#39;m rather looking into pagination...","body":"Hm this &quot;zipper&quot; seems to be to be some sort of single-item back and forth. I&#39;m rather looking into pagination..."},{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":2,"creation_date":1383151495,"post_id":19688235,"comment_id":29243416,"body_markdown":"Unless I&#39;m missing your point, it shouldn&#39;t be that difficult. You need to remember the page you&#39;re on and the number of items per page. Then you can easily calculate the index of the starting element in the list as either max(0, page * items per page) and the ending element as min(list.size-1, start index + items per page)","body":"Unless I&#39;m missing your point, it shouldn&#39;t be that difficult. You need to remember the page you&#39;re on and the number of items per page. Then you can easily calculate the index of the starting element in the list as either max(0, page * items per page) and the ending element as min(list.size-1, start index + items per page)"},{"owner":{"account_id":98291,"reputation":3509,"user_id":266167,"display_name":"Joshua Davis"},"score":1,"creation_date":1383158765,"post_id":19688235,"comment_id":29247851,"body_markdown":"That&#39;s right @Grove , you should be able to use list.subList(fromIdx,toIdx) to get a &#39;view&#39; of the whole list... if that&#39;s what you need.   No library required.","body":"That&#39;s right @Grove , you should be able to use list.subList(fromIdx,toIdx) to get a &#39;view&#39; of the whole list... if that&#39;s what you need.   No library required."},{"owner":{"account_id":3308685,"reputation":450,"user_id":2782670,"accept_rate":100,"display_name":"bgth"},"score":0,"creation_date":1396990161,"post_id":19688235,"comment_id":35034717,"body_markdown":"The problem with using sublist is: Say there are 1000 records in DB for the particular condition. Now, all the records are fetched and then sublist is applied on that list to extract the 10 records from it. Is there any other efficient way than this?","body":"The problem with using sublist is: Say there are 1000 records in DB for the particular condition. Now, all the records are fetched and then sublist is applied on that list to extract the 10 records from it. Is there any other efficient way than this?"}],"answers":[{"tags":[],"owner":{"account_id":3348900,"reputation":1554,"user_id":2813377,"display_name":"pscuderi"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1396987774,"creation_date":1396987418,"answer_id":22947052,"question_id":19688235,"body_markdown":"I&#39;ve solved this before.  I made a static getPages method that breaks a generic collection into a list of pages (which are also lists).  I&#39;ve provided the code below.\r\n\r\n\tpublic static &lt;T&gt; List&lt;List&lt;T&gt;&gt; getPages(Collection&lt;T&gt; c, Integer pageSize) {\r\n\t\tif (c == null)\r\n\t\t\treturn Collections.emptyList();\r\n\t    List&lt;T&gt; list = new ArrayList&lt;T&gt;(c);\r\n\t    if (pageSize == null || pageSize &lt;= 0 || pageSize &gt; list.size())\r\n\t        pageSize = list.size();\r\n\t    int numPages = (int) Math.ceil((double)list.size() / (double)pageSize);\r\n\t    List&lt;List&lt;T&gt;&gt; pages = new ArrayList&lt;List&lt;T&gt;&gt;(numPages);\r\n\t    for (int pageNum = 0; pageNum &lt; numPages;)\r\n\t        pages.add(list.subList(pageNum * pageSize, Math.min(++pageNum * pageSize, list.size())));\r\n\t    return pages;\r\n\t}\r\n\r\n ","title":"How to implement pagination on a list?","body":"<p>I've solved this before.  I made a static getPages method that breaks a generic collection into a list of pages (which are also lists).  I've provided the code below.</p>\n\n<pre><code>public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; getPages(Collection&lt;T&gt; c, Integer pageSize) {\n    if (c == null)\n        return Collections.emptyList();\n    List&lt;T&gt; list = new ArrayList&lt;T&gt;(c);\n    if (pageSize == null || pageSize &lt;= 0 || pageSize &gt; list.size())\n        pageSize = list.size();\n    int numPages = (int) Math.ceil((double)list.size() / (double)pageSize);\n    List&lt;List&lt;T&gt;&gt; pages = new ArrayList&lt;List&lt;T&gt;&gt;(numPages);\n    for (int pageNum = 0; pageNum &lt; numPages;)\n        pages.add(list.subList(pageNum * pageSize, Math.min(++pageNum * pageSize, list.size())));\n    return pages;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":215223,"reputation":2949,"user_id":469718,"accept_rate":12,"display_name":"kisna"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1605508531,"creation_date":1461636867,"answer_id":36854196,"question_id":19688235,"body_markdown":"Minor optimization, if you don&#39;t really want to create any new list at all.\r\n\r\n    /**\r\n     * returns a view (not a new list) of the sourceList for the \r\n     * range based on page and pageSize\r\n     * @param sourceList\r\n     * @param page, page number should start from 1\r\n     * @param pageSize\r\n     * @return\r\n     * custom error can be given instead of returning emptyList\r\n     */\r\n    public static &lt;T&gt; List&lt;T&gt; getPage(List&lt;T&gt; sourceList, int page, int pageSize) {\r\n    \tif(pageSize &lt;= 0 || page &lt;= 0) {\r\n    \t\tthrow new IllegalArgumentException(&quot;invalid page size: &quot; + pageSize);\r\n    \t}\r\n    \t\r\n    \tint fromIndex = (page - 1) * pageSize;\r\n    \tif(sourceList == null || sourceList.size() &lt;= fromIndex){\r\n    \t\treturn Collections.emptyList();\r\n    \t}\r\n    \t\r\n    \t// toIndex exclusive\r\n    \treturn sourceList.subList(fromIndex, Math.min(fromIndex + pageSize, sourceList.size()));\r\n    }","title":"How to implement pagination on a list?","body":"<p>Minor optimization, if you don't really want to create any new list at all.</p>\n<pre><code>/**\n * returns a view (not a new list) of the sourceList for the \n * range based on page and pageSize\n * @param sourceList\n * @param page, page number should start from 1\n * @param pageSize\n * @return\n * custom error can be given instead of returning emptyList\n */\npublic static &lt;T&gt; List&lt;T&gt; getPage(List&lt;T&gt; sourceList, int page, int pageSize) {\n    if(pageSize &lt;= 0 || page &lt;= 0) {\n        throw new IllegalArgumentException(&quot;invalid page size: &quot; + pageSize);\n    }\n    \n    int fromIndex = (page - 1) * pageSize;\n    if(sourceList == null || sourceList.size() &lt;= fromIndex){\n        return Collections.emptyList();\n    }\n    \n    // toIndex exclusive\n    return sourceList.subList(fromIndex, Math.min(fromIndex + pageSize, sourceList.size()));\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58717,"favorite_count":0,"down_vote_count":2,"up_vote_count":24,"closed_date":1461788257,"accepted_answer_id":22947052,"answer_count":2,"score":22,"last_activity_date":1658301216,"creation_date":1383149780,"question_id":19688235,"body_markdown":"Is there any library that can be used to implement paging for a list?\r\n\r\nLet&#39; assume I have a space of 10 lines, and the user can select if he wants to scroll forward or backward by page (thus +- 10 items). This might eg be controlled by `-1, 0, +1`.\r\n\r\nThis is probably much work to build a class that prevents scrolling backward/forward if there are not enough items to display, and to self-save the state on which page the user is currently.\r\n\r\nSo is there anything?","title":"How to implement pagination on a list?","body":"<p>Is there any library that can be used to implement paging for a list?</p>\n\n<p>Let' assume I have a space of 10 lines, and the user can select if he wants to scroll forward or backward by page (thus +- 10 items). This might eg be controlled by <code>-1, 0, +1</code>.</p>\n\n<p>This is probably much work to build a class that prevents scrolling backward/forward if there are not enough items to display, and to self-save the state on which page the user is currently.</p>\n\n<p>So is there anything?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1658230837,"post_id":73033927,"comment_id":128995075,"body_markdown":"You have provided very little information. As far as I understand you want to get the parking time from the user input via an edittext. Then you want to pass the parking time to another activity in order to dirve the state of a button, is that right?","body":"You have provided very little information. As far as I understand you want to get the parking time from the user input via an edittext. Then you want to pass the parking time to another activity in order to dirve the state of a button, is that right?"}],"answers":[{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658232011,"creation_date":1658232011,"answer_id":73036505,"question_id":73033927,"body_markdown":"Here is how you can get the time using an EditText assuming that the time unit will be in minutes.\r\n\r\n```lang-java\r\nclass ParkingRequestActivity extends AppCompatActivity {\r\n\r\n    // Other codes...\r\n    private EditText etParkTimeInput;\r\n    // Maybe some more codes...\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        // Other codes...\r\n        etParkTimeInput = findViewById(R.id.parkTimeInputEditText);\r\n        etParkTimeInput.setOnEditorActionListener((editText, actionId, event) -&gt; {\r\n            if(actionId == EditorInfo.IME_ACTION_DONE) {\r\n                // User pressed done button\r\n                final String parkingTimeInput = editText.getText().toString();\r\n                try {\r\n                    int parkingTime = Integer.parseInt(parkingTimeInput);\r\n                    // From now on we have the time in minutes as an integer\r\n                    int parkingTimeInMilliseconds = parkingTime * 60 * 1000;\r\n                    // parkingTimeInMilliseconds can be used as delay value for handler\r\n                } catch(NumberFormatException exception) {\r\n                    exception.printStackTrace();\r\n                    Toast.makeText(ParkingRequestActivity.this, &quot;Please enter a valid time&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n    // Rest of the activity&#39;s code...\r\n}\r\n```\r\nIs this what you want to achieve? Where does the button1 come from?\r\n","title":"How to use Edit Text value for delay parameter in Handler?","body":"<p>Here is how you can get the time using an EditText assuming that the time unit will be in minutes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ParkingRequestActivity extends AppCompatActivity {\n\n    // Other codes...\n    private EditText etParkTimeInput;\n    // Maybe some more codes...\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // Other codes...\n        etParkTimeInput = findViewById(R.id.parkTimeInputEditText);\n        etParkTimeInput.setOnEditorActionListener((editText, actionId, event) -&gt; {\n            if(actionId == EditorInfo.IME_ACTION_DONE) {\n                // User pressed done button\n                final String parkingTimeInput = editText.getText().toString();\n                try {\n                    int parkingTime = Integer.parseInt(parkingTimeInput);\n                    // From now on we have the time in minutes as an integer\n                    int parkingTimeInMilliseconds = parkingTime * 60 * 1000;\n                    // parkingTimeInMilliseconds can be used as delay value for handler\n                } catch(NumberFormatException exception) {\n                    exception.printStackTrace();\n                    Toast.makeText(ParkingRequestActivity.this, &quot;Please enter a valid time&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n            return false;\n        }\n    }\n\n    // Rest of the activity's code...\n}\n</code></pre>\n<p>Is this what you want to achieve? Where does the button1 come from?</p>\n"}],"owner":{"account_id":25842558,"reputation":1,"user_id":19577892,"display_name":" "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658301198,"creation_date":1658220617,"question_id":73033927,"body_markdown":"I am writing a mobile application for parking in android studio. On one activity, I have an Edit Text field where the user enters the parking time, then pays for the selected parking space, immediately after that he goes to another activity where the button with this place lights up red and it is necessary that with a delay equal to the parking time that the user specified the button turned green again.But here delay is a constant value that we enter ourselves. I tried them:\r\n```lang-java\r\nHandler handler = new Handler();\r\nhandler.postDelayed(new Runnable() {\r\n    public void run() {\r\n        button1.setBackgroundColor(-16711936);\r\n        button1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n            Intent intent1 = new Intent(Park.this, Slot1.class);\r\n            startActivity(intent1);\r\n            }\r\n        });\r\n    }\r\n}, 30000);\r\n```","title":"How to use Edit Text value for delay parameter in Handler?","body":"<p>I am writing a mobile application for parking in android studio. On one activity, I have an Edit Text field where the user enters the parking time, then pays for the selected parking space, immediately after that he goes to another activity where the button with this place lights up red and it is necessary that with a delay equal to the parking time that the user specified the button turned green again.But here delay is a constant value that we enter ourselves. I tried them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Handler handler = new Handler();\nhandler.postDelayed(new Runnable() {\n    public void run() {\n        button1.setBackgroundColor(-16711936);\n        button1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n            Intent intent1 = new Intent(Park.this, Slot1.class);\n            startActivity(intent1);\n            }\n        });\n    }\n}, 30000);\n</code></pre>\n"},{"tags":["java","kubernetes-pod","jvm-arguments","jcmd"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658311768,"post_id":73047375,"comment_id":129018320,"body_markdown":"[This bug report](https://bugs.openjdk.org/browse/JDK-8230085) is about MacOS but seems to be the same issue, writable filesystems (or parts) within a read-only filesystem. So you could check whether the fix to this issue also solves your issue (by trying one of the fixed versions listed there).","body":"<a href=\"https://bugs.openjdk.org/browse/JDK-8230085\" rel=\"nofollow noreferrer\">This bug report</a> is about MacOS but seems to be the same issue, writable filesystems (or parts) within a read-only filesystem. So you could check whether the fix to this issue also solves your issue (by trying one of the fixed versions listed there)."},{"owner":{"account_id":22836687,"reputation":11,"user_id":16984349,"display_name":"Dhruva"},"score":0,"creation_date":1658316773,"post_id":73047375,"comment_id":129020248,"body_markdown":"cannot upgrade to java 14 at the moment. If I run the same java application with the same parameters from a directory that does have write access, the command does work. I am foxed as to why this would happen","body":"cannot upgrade to java 14 at the moment. If I run the same java application with the same parameters from a directory that does have write access, the command does work. I am foxed as to why this would happen"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658316844,"post_id":73047375,"comment_id":129020277,"body_markdown":"There is a list of versions with backported fixes in the linked report, like 7u251 or 8u231.","body":"There is a list of versions with backported fixes in the linked report, like 7u251 or 8u231."},{"owner":{"account_id":22836687,"reputation":11,"user_id":16984349,"display_name":"Dhruva"},"score":0,"creation_date":1658318144,"post_id":73047375,"comment_id":129020788,"body_markdown":"I am using 11.0.15 which should have had the fix right?","body":"I am using 11.0.15 which should have had the fix right?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658328272,"post_id":73047375,"comment_id":129025383,"body_markdown":"I think so. I just noticed that the problem isnt the heap dump file, as according to the stack trace, it didnt even get so far. Its failing at the attempt to attach already, most probably trying to create a file for the inter process communication. See [this answer](https://stackoverflow.com/a/45836660/2711488) for a description of the procedure.","body":"I think so. I just noticed that the problem isnt the heap dump file, as according to the stack trace, it didnt even get so far. Its failing at the attempt to attach already, most probably trying to create a file for the inter process communication. See <a href=\"https://stackoverflow.com/a/45836660/2711488\">this answer</a> for a description of the procedure."},{"owner":{"account_id":22836687,"reputation":11,"user_id":16984349,"display_name":"Dhruva"},"score":0,"creation_date":1658384799,"post_id":73047375,"comment_id":129039030,"body_markdown":"In the same environment, if I run the application through a writable folder, I do not get this issue. But we want to run it through root, so as to avoid having to create a separate writable mount in other similar pods","body":"In the same environment, if I run the application through a writable folder, I do not get this issue. But we want to run it through root, so as to avoid having to create a separate writable mount in other similar pods"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658384877,"post_id":73047375,"comment_id":129039047,"body_markdown":"By run   through a writable folder, do you mean the program location or the current directory or something else?","body":"By run   through a writable folder, do you mean the program location or the current directory or something else?"},{"owner":{"account_id":22836687,"reputation":11,"user_id":16984349,"display_name":"Dhruva"},"score":0,"creation_date":1658391503,"post_id":73047375,"comment_id":129041079,"body_markdown":"the directory from where we run the command for the jar. The jar may be located anywhere. Btw, I saw procedure description, trying to find out a way to create the /tmp/ folder it requires in a writable location","body":"the directory from where we run the command for the jar. The jar may be located anywhere. Btw, I saw procedure description, trying to find out a way to create the /tmp/ folder it requires in a writable location"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658392190,"post_id":73047375,"comment_id":129041298,"body_markdown":"So does the actual current directory matter to the program logic? If not, you could simply use the knowingly writable directory `/dumps/temp/` instead of creating a new writable directory for it.","body":"So does the actual current directory matter to the program logic? If not, you could simply use the knowingly writable directory <code>&#47;dumps&#47;temp&#47;</code> instead of creating a new writable directory for it."},{"owner":{"account_id":22836687,"reputation":11,"user_id":16984349,"display_name":"Dhruva"},"score":0,"creation_date":1658395856,"post_id":73047375,"comment_id":129042761,"body_markdown":"right, that is possible, but we will have to change the dockers for each pod. My thinking is that it should be possible for jcmd (or jmap) to use a writeable folder through some option. rather that relying on the location the jvm was started in.","body":"right, that is possible, but we will have to change the dockers for each pod. My thinking is that it should be possible for jcmd (or jmap) to use a writeable folder through some option. rather that relying on the location the jvm was started in."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658419677,"post_id":73047375,"comment_id":129052490,"body_markdown":"Do I get this correctly, that no writable `/tmp` directory exists? So perhaps, jcmd and the JVM use the processs current directory as alternative for the `.attach_pid` file. That would explain why it works if the current directory is writable. Its not possible to provide an option for jcmd to use an arbitrary location, because this protocol requires the JVM to check the particular location. So both sides must agree on the location.","body":"Do I get this correctly, that no writable <code>&#47;tmp</code> directory exists? So perhaps, jcmd and the JVM use the processs current directory as alternative for the <code>.attach_pid</code> file. That would explain why it works if the current directory is writable. Its not possible to provide an option for jcmd to use an arbitrary location, because this protocol requires the JVM to check the particular location. So both sides must agree on the location."},{"owner":{"account_id":22836687,"reputation":11,"user_id":16984349,"display_name":"Dhruva"},"score":0,"creation_date":1658510933,"post_id":73047375,"comment_id":129077890,"body_markdown":"right we must run it through some writable dir","body":"right we must run it through some writable dir"}],"owner":{"account_id":22836687,"reputation":11,"user_id":16984349,"display_name":"Dhruva"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658301177,"creation_date":1658301177,"question_id":73047375,"body_markdown":"In my kubernetes application, I am running a java application from a readOnly root directory (ReadOnly root is a must). I do have a mount (folder) that is writable, however when I run: \r\n\r\n    jmap -dump:live,format=b,file=/dumps/temp/dump.hprof 1\r\n\r\nI get the error: \r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: Read-only file system\r\n        at java.base/java.io.UnixFileSystem.createFileExclusively(Native Method)\r\n        at java.base/java.io.File.createNewFile(File.java:1035)\r\n        at jdk.attach/sun.tools.attach.VirtualMachineImpl.createAttachFile(VirtualMachineImpl.java:298)\r\n        at jdk.attach/sun.tools.attach.VirtualMachineImpl.&lt;init&gt;(VirtualMachineImpl.java:76)\r\n        at jdk.attach/sun.tools.attach.AttachProviderImpl.attachVirtualMachine(AttachProviderImpl.java:58)\r\n        at jdk.attach/com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:207)\r\n        at jdk.jcmd/sun.tools.jmap.JMap.executeCommandForPid(JMap.java:128)\r\n        at jdk.jcmd/sun.tools.jmap.JMap.dump(JMap.java:208)\r\n        at jdk.jcmd/sun.tools.jmap.JMap.main(JMap.java:114)\r\n\r\nI have run the java application with the following options: \r\njava -XX:MaxRAMPercentage=90.0 -XX:InitialRAMPercentage=15.0 Dlogback.configurationFile=&quot;${CUSTOM_LOGBACK_FILE:-/opt/custom-logback.xml}&quot; -DconfigFile=&quot;${SETTINGS_FILE}&quot; -jar &quot;/${ARTIFACT}.jar","title":"How to get jvm heap dumps if the working directory is read only?","body":"<p>In my kubernetes application, I am running a java application from a readOnly root directory (ReadOnly root is a must). I do have a mount (folder) that is writable, however when I run:</p>\n<pre><code>jmap -dump:live,format=b,file=/dumps/temp/dump.hprof 1\n</code></pre>\n<p>I get the error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Read-only file system\n    at java.base/java.io.UnixFileSystem.createFileExclusively(Native Method)\n    at java.base/java.io.File.createNewFile(File.java:1035)\n    at jdk.attach/sun.tools.attach.VirtualMachineImpl.createAttachFile(VirtualMachineImpl.java:298)\n    at jdk.attach/sun.tools.attach.VirtualMachineImpl.&lt;init&gt;(VirtualMachineImpl.java:76)\n    at jdk.attach/sun.tools.attach.AttachProviderImpl.attachVirtualMachine(AttachProviderImpl.java:58)\n    at jdk.attach/com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:207)\n    at jdk.jcmd/sun.tools.jmap.JMap.executeCommandForPid(JMap.java:128)\n    at jdk.jcmd/sun.tools.jmap.JMap.dump(JMap.java:208)\n    at jdk.jcmd/sun.tools.jmap.JMap.main(JMap.java:114)\n</code></pre>\n<p>I have run the java application with the following options:\njava -XX:MaxRAMPercentage=90.0 -XX:InitialRAMPercentage=15.0 Dlogback.configurationFile=&quot;${CUSTOM_LOGBACK_FILE:-/opt/custom-logback.xml}&quot; -DconfigFile=&quot;${SETTINGS_FILE}&quot; -jar &quot;/${ARTIFACT}.jar</p>\n"},{"tags":["java","tree","binary-tree","traversal","inorder"],"answers":[{"tags":[],"owner":{"account_id":17460992,"reputation":31,"user_id":12658645,"display_name":"Cameron Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578692187,"creation_date":1578692187,"answer_id":59689328,"question_id":59689230,"body_markdown":"Because you are calling &#39;inorderTraversal&#39; recursively, every time that method is called, it overwrites &#39;res&#39; and creates a new object. So, &#39;res&#39; must be global to prevent this overwriting from happening.","title":"Java Binary InOrder Tree Traversal - why does this initializing the ArrayList outside of the function make a difference?","body":"<p>Because you are calling 'inorderTraversal' recursively, every time that method is called, it overwrites 'res' and creates a new object. So, 'res' must be global to prevent this overwriting from happening.</p>\n"},{"tags":[],"owner":{"account_id":25851011,"reputation":1,"user_id":19585004,"display_name":"surya varma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658301057,"creation_date":1658301057,"answer_id":73047352,"question_id":59689230,"body_markdown":"i too encountered with same problem, the problem is that you are using recursion on inorderTraversal(). you should use recursion on helper method itself because what the helper method does it reflects on inorderTraversal(). code as follows.\r\n\r\n    public void helper(TreeNode root, List&lt;Integer&gt; ans){\r\n            if(root != null){\r\n                helper(root.left, ans);\r\n                ans.add(root.data);\r\n                helper(root.right, ans);\r\n            }\r\n        }","title":"Java Binary InOrder Tree Traversal - why does this initializing the ArrayList outside of the function make a difference?","body":"<p>i too encountered with same problem, the problem is that you are using recursion on inorderTraversal(). you should use recursion on helper method itself because what the helper method does it reflects on inorderTraversal(). code as follows.</p>\n<pre><code>public void helper(TreeNode root, List&lt;Integer&gt; ans){\n        if(root != null){\n            helper(root.left, ans);\n            ans.add(root.data);\n            helper(root.right, ans);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6793585,"reputation":17,"user_id":5229764,"display_name":"Homam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658301057,"creation_date":1578691583,"question_id":59689230,"body_markdown":"I wrote a recursive function to add all nodes of a binary tree into a list of type integer but it kept giving me problems for some reason. This is what my code initially looked like:\r\n\r\n    public List&lt;Integer&gt; inorderTraversal(TreeNode root) {\r\n        List&lt;Integer&gt; res = new ArrayList&lt;&gt;();\r\n        helper(root, res);\r\n        return res;\r\n    }\r\n    \r\n    public void helper(TreeNode root, List&lt;Integer&gt; res){\r\n        if(root == null){\r\n            return;\r\n        }\r\n        inorderTraversal(root.left);\r\n        res.add(root.val);\r\n        inorderTraversal(root.right);\r\n    }\r\n\r\nHowever it kept failing and not giving me proper solution. But it turns out that this code works if a take the first line out of the &quot;inorderTraversal&quot; function and made it global : \r\n\r\n```\r\nList&lt;Integer&gt; res = new ArrayList&lt;&gt;();\r\n```\r\n\r\nCan someone explain to me why that makes a difference and why it was initially failing?","title":"Java Binary InOrder Tree Traversal - why does this initializing the ArrayList outside of the function make a difference?","body":"<p>I wrote a recursive function to add all nodes of a binary tree into a list of type integer but it kept giving me problems for some reason. This is what my code initially looked like:</p>\n\n<pre><code>public List&lt;Integer&gt; inorderTraversal(TreeNode root) {\n    List&lt;Integer&gt; res = new ArrayList&lt;&gt;();\n    helper(root, res);\n    return res;\n}\n\npublic void helper(TreeNode root, List&lt;Integer&gt; res){\n    if(root == null){\n        return;\n    }\n    inorderTraversal(root.left);\n    res.add(root.val);\n    inorderTraversal(root.right);\n}\n</code></pre>\n\n<p>However it kept failing and not giving me proper solution. But it turns out that this code works if a take the first line out of the \"inorderTraversal\" function and made it global : </p>\n\n<pre><code>List&lt;Integer&gt; res = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>Can someone explain to me why that makes a difference and why it was initially failing?</p>\n"},{"tags":["java","scala","apache-flink"],"comments":[{"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"score":1,"creation_date":1658139340,"post_id":73009961,"comment_id":128968225,"body_markdown":"I&#39;m assuming that you&#39;re using Scala 2.12.16, not 2.2.16.\n\nSince Flink doesn&#39;t support Scala 2.12.16 out of the box, have you re-compiled Flink with Scala 2.12.16 support?","body":"I&#39;m assuming that you&#39;re using Scala 2.12.16, not 2.2.16.  Since Flink doesn&#39;t support Scala 2.12.16 out of the box, have you re-compiled Flink with Scala 2.12.16 support?"},{"owner":{"account_id":15968441,"reputation":373,"user_id":11523294,"display_name":"Criwran"},"score":0,"creation_date":1658366299,"post_id":73009961,"comment_id":129036079,"body_markdown":"@MartijnVisser Nope. Is there any guide to recompile Flink with Scala?","body":"@MartijnVisser Nope. Is there any guide to recompile Flink with Scala?"},{"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"score":1,"creation_date":1658381910,"post_id":73009961,"comment_id":129038352,"body_markdown":"You need to check out the Flink source code and then build it via `mvn clean install -DskipTests -Djapicmp.skip -Dscala-2.12 -Dscala.version=2.12.16`","body":"You need to check out the Flink source code and then build it via <code>mvn clean install -DskipTests -Djapicmp.skip -Dscala-2.12 -Dscala.version=2.12.16</code>"}],"owner":{"account_id":15968441,"reputation":373,"user_id":11523294,"display_name":"Criwran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658300787,"creation_date":1658043098,"question_id":73009961,"body_markdown":"I&#39; m using Scala:2.12.16 and Flink:1.14.4.\r\nI want to create a self-defined Trigger in Flink. But idea gave me error:\r\n```\r\nCannot resolve overloaded constructor `ReducingStateDescriptor[Long]`\r\n```\r\non\r\n```\r\nval intervalDesc:ReducingStateDescriptor[Long] = new ReducingStateDescriptor[Long](&quot;fire-time&quot;, Min(), LongSerializer.INSTANCE)\r\nval maxCountDesc:ReducingStateDescriptor[Long] = new ReducingStateDescriptor[Long](&quot;count&quot;, Sum(), LongSerializer.INSTANCE)\r\n\r\n```\r\nThe full code is shown below:\r\n```\r\nimport org.apache.flink.api.common.functions.ReduceFunction\r\nimport org.apache.flink.api.common.state.ReducingStateDescriptor\r\nimport org.apache.flink.api.common.typeutils.base.LongSerializer\r\nimport org.apache.flink.streaming.api.windowing.triggers.{Trigger, TriggerResult}\r\nimport org.apache.flink.streaming.api.windowing.windows.Window\r\nimport org.slf4j.{Logger, LoggerFactory}\r\n\r\nclass LqWaterLevelTrigger[W &lt;: Window] extends Trigger[Object, W]{\r\n  val log:Logger = LoggerFactory.getLogger(this.getClass)\r\n\r\n  val interval:Long\r\n  val maxCount:Long\r\n  val intervalDesc:ReducingStateDescriptor[Long] = new ReducingStateDescriptor[Long](&quot;fire-time&quot;, Min(), LongSerializer.INSTANCE)\r\n  val maxCountDesc:ReducingStateDescriptor[Long] = new ReducingStateDescriptor[Long](&quot;count&quot;, Sum(), LongSerializer.INSTANCE)\r\n\r\n\r\n  override def onElement(element: Object, timestamp: Long, window: W, ctx: Trigger.TriggerContext): TriggerResult = ???\r\n\r\n  override def onProcessingTime(time: Long, window: W, ctx: Trigger.TriggerContext): TriggerResult = ???\r\n\r\n  override def onEventTime(time: Long, window: W, ctx: Trigger.TriggerContext): TriggerResult = ???\r\n\r\n  override def clear(window: W, ctx: Trigger.TriggerContext): Unit = ???\r\n}\r\n\r\ncase class Min() extends ReduceFunction[Long]  {\r\n  override def reduce(value1: Long, value2: Long): Long = {\r\n    Math.min(value1, value2)\r\n  }\r\n}\r\n\r\ncase class Sum() extends ReduceFunction[Long] {\r\n  override def reduce(value1: Long, value2: Long): Long = {\r\n    value1 + value2\r\n  }\r\n}\r\n\r\n```\r\nAnd here is how the `ReducingStateDescriptor` is defined in Java:\r\n```\r\n@PublicEvolving\r\npublic class ReducingStateDescriptor&lt;T&gt; extends StateDescriptor&lt;ReducingState&lt;T&gt;, T&gt; {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private final ReduceFunction&lt;T&gt; reduceFunction;\r\n\r\n    \r\n    public ReducingStateDescriptor(\r\n            String name, ReduceFunction&lt;T&gt; reduceFunction, Class&lt;T&gt; typeClass) {\r\n        super(name, typeClass, null);\r\n        this.reduceFunction = checkNotNull(reduceFunction);\r\n\r\n        if (reduceFunction instanceof RichFunction) {\r\n            throw new UnsupportedOperationException(\r\n                    &quot;ReduceFunction of ReducingState can not be a RichFunction.&quot;);\r\n        }\r\n    }\r\n\r\n    \r\n    public ReducingStateDescriptor(\r\n            String name, ReduceFunction&lt;T&gt; reduceFunction, TypeInformation&lt;T&gt; typeInfo) {\r\n        super(name, typeInfo, null);\r\n        this.reduceFunction = checkNotNull(reduceFunction);\r\n    }\r\n\r\n    // this is the constructor that I want\r\n    public ReducingStateDescriptor(\r\n            String name, ReduceFunction&lt;T&gt; reduceFunction, TypeSerializer&lt;T&gt; typeSerializer) {\r\n        super(name, typeSerializer, null);\r\n        this.reduceFunction = checkNotNull(reduceFunction);\r\n    }\r\n\r\n    \r\n    public ReduceFunction&lt;T&gt; getReduceFunction() {\r\n        return reduceFunction;\r\n    }\r\n\r\n    @Override\r\n    public Type getType() {\r\n        return Type.REDUCING;\r\n    }\r\n}\r\n\r\n```\r\n\r\nHow to transform the scala code to eliminate the errors?\r\n\r\n\r\n----\r\nI add \r\n`import org.apache.flink.streaming.api.scala._`.\r\n\r\nAnd the code turned to be :\r\n```\r\nval intervalDesc = new ReducingStateDescriptor[Long](&quot;fire-time&quot;, Min(), createTypeInformation[Long]) //LongSerializer.INSTANCE\r\nval maxCountDesc= new ReducingStateDescriptor[Long](&quot;count&quot;, Sum(), createTypeInformation[Long])\r\n```\r\nwith no errors.","title":"Scala: Cannot resolve overloaded constructor `ReducingStateDescriptor[Long]`","body":"<p>I' m using Scala:2.12.16 and Flink:1.14.4.\nI want to create a self-defined Trigger in Flink. But idea gave me error:</p>\n<pre><code>Cannot resolve overloaded constructor `ReducingStateDescriptor[Long]`\n</code></pre>\n<p>on</p>\n<pre><code>val intervalDesc:ReducingStateDescriptor[Long] = new ReducingStateDescriptor[Long](&quot;fire-time&quot;, Min(), LongSerializer.INSTANCE)\nval maxCountDesc:ReducingStateDescriptor[Long] = new ReducingStateDescriptor[Long](&quot;count&quot;, Sum(), LongSerializer.INSTANCE)\n\n</code></pre>\n<p>The full code is shown below:</p>\n<pre><code>import org.apache.flink.api.common.functions.ReduceFunction\nimport org.apache.flink.api.common.state.ReducingStateDescriptor\nimport org.apache.flink.api.common.typeutils.base.LongSerializer\nimport org.apache.flink.streaming.api.windowing.triggers.{Trigger, TriggerResult}\nimport org.apache.flink.streaming.api.windowing.windows.Window\nimport org.slf4j.{Logger, LoggerFactory}\n\nclass LqWaterLevelTrigger[W &lt;: Window] extends Trigger[Object, W]{\n  val log:Logger = LoggerFactory.getLogger(this.getClass)\n\n  val interval:Long\n  val maxCount:Long\n  val intervalDesc:ReducingStateDescriptor[Long] = new ReducingStateDescriptor[Long](&quot;fire-time&quot;, Min(), LongSerializer.INSTANCE)\n  val maxCountDesc:ReducingStateDescriptor[Long] = new ReducingStateDescriptor[Long](&quot;count&quot;, Sum(), LongSerializer.INSTANCE)\n\n\n  override def onElement(element: Object, timestamp: Long, window: W, ctx: Trigger.TriggerContext): TriggerResult = ???\n\n  override def onProcessingTime(time: Long, window: W, ctx: Trigger.TriggerContext): TriggerResult = ???\n\n  override def onEventTime(time: Long, window: W, ctx: Trigger.TriggerContext): TriggerResult = ???\n\n  override def clear(window: W, ctx: Trigger.TriggerContext): Unit = ???\n}\n\ncase class Min() extends ReduceFunction[Long]  {\n  override def reduce(value1: Long, value2: Long): Long = {\n    Math.min(value1, value2)\n  }\n}\n\ncase class Sum() extends ReduceFunction[Long] {\n  override def reduce(value1: Long, value2: Long): Long = {\n    value1 + value2\n  }\n}\n\n</code></pre>\n<p>And here is how the <code>ReducingStateDescriptor</code> is defined in Java:</p>\n<pre><code>@PublicEvolving\npublic class ReducingStateDescriptor&lt;T&gt; extends StateDescriptor&lt;ReducingState&lt;T&gt;, T&gt; {\n\n    private static final long serialVersionUID = 1L;\n\n    private final ReduceFunction&lt;T&gt; reduceFunction;\n\n    \n    public ReducingStateDescriptor(\n            String name, ReduceFunction&lt;T&gt; reduceFunction, Class&lt;T&gt; typeClass) {\n        super(name, typeClass, null);\n        this.reduceFunction = checkNotNull(reduceFunction);\n\n        if (reduceFunction instanceof RichFunction) {\n            throw new UnsupportedOperationException(\n                    &quot;ReduceFunction of ReducingState can not be a RichFunction.&quot;);\n        }\n    }\n\n    \n    public ReducingStateDescriptor(\n            String name, ReduceFunction&lt;T&gt; reduceFunction, TypeInformation&lt;T&gt; typeInfo) {\n        super(name, typeInfo, null);\n        this.reduceFunction = checkNotNull(reduceFunction);\n    }\n\n    // this is the constructor that I want\n    public ReducingStateDescriptor(\n            String name, ReduceFunction&lt;T&gt; reduceFunction, TypeSerializer&lt;T&gt; typeSerializer) {\n        super(name, typeSerializer, null);\n        this.reduceFunction = checkNotNull(reduceFunction);\n    }\n\n    \n    public ReduceFunction&lt;T&gt; getReduceFunction() {\n        return reduceFunction;\n    }\n\n    @Override\n    public Type getType() {\n        return Type.REDUCING;\n    }\n}\n\n</code></pre>\n<p>How to transform the scala code to eliminate the errors?</p>\n<hr />\n<p>I add\n<code>import org.apache.flink.streaming.api.scala._</code>.</p>\n<p>And the code turned to be :</p>\n<pre><code>val intervalDesc = new ReducingStateDescriptor[Long](&quot;fire-time&quot;, Min(), createTypeInformation[Long]) //LongSerializer.INSTANCE\nval maxCountDesc= new ReducingStateDescriptor[Long](&quot;count&quot;, Sum(), createTypeInformation[Long])\n</code></pre>\n<p>with no errors.</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1658295611,"post_id":73046374,"comment_id":129012907,"body_markdown":"Start by cleaning up your formatting. Your linked-list class is at least three times as tall as it needs to be, and it&#39;s inconsiderate to ask volunteers to wade through it.","body":"Start by cleaning up your formatting. Your linked-list class is at least three times as tall as it needs to be, and it&#39;s inconsiderate to ask volunteers to wade through it."}],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658300547,"creation_date":1658300547,"answer_id":73047250,"question_id":73046374,"body_markdown":"Update the `next` method in the `Iterator` implementation to retrieve from the `First` node then return the data.\r\n\r\n, Update `remove` method to break after removing, and update `retrieveFirstElement` and `retrieveLastElement`\r\n\r\n\r\n```\r\n\r\nclass BasicLinkedList&lt;T&gt; implements Iterable&lt;T&gt; {\r\n    public BasicLinkedList() {\r\n        head = null;\r\n        tail = null;\r\n        listSize = 0;\r\n    }\r\n\r\n    public BasicLinkedList&lt;T&gt; addToEnd(T data) {\r\n        Node newNode = new Node(data);\r\n        if (head == null) {\r\n            head = newNode;\r\n            tail = newNode;\r\n        } else {\r\n            tail.next = newNode;\r\n            tail = newNode;\r\n        }\r\n        listSize++;\r\n        return this;\r\n    }\r\n\r\n    public BasicLinkedList&lt;T&gt; addToFront(T data) {\r\n        Node newNode = new Node(data);\r\n        newNode.next = head;\r\n        head = newNode;\r\n        listSize++;\r\n        return this;\r\n    }\r\n\r\n    public T getFirst() {\r\n        if (head == null) {\r\n            return null;\r\n        }\r\n        return head.data;\r\n    }\r\n\r\n    public T getLast() {\r\n        if (tail == null) {\r\n            return null;\r\n        }\r\n        return tail.data;\r\n    }\r\n\r\n    public BasicLinkedList&lt;T&gt; remove(T targetData, java.util.Comparator&lt;T&gt; comparator) {\r\n        Node previousNode = null;\r\n        Node currentNode = head;\r\n        while (currentNode != null) {\r\n            if (comparator.compare(currentNode.data, targetData) == 0) {\r\n                //this is for the first entry specifically\r\n                if (currentNode == head) {\r\n                    head = head.next;\r\n                }\r\n                //this is for the last entry\r\n                else if (currentNode == tail) {\r\n                    tail = previousNode;\r\n                    previousNode.next = null;\r\n                } else {\r\n                    previousNode.next = currentNode.next;\r\n                }\r\n                listSize--;\r\n                break;\r\n            }\r\n            previousNode = currentNode;\r\n            currentNode = currentNode.next;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public T retrieveFirstElement() {\r\n        if (head == null) {\r\n            return null;\r\n        }\r\n\r\n        Node firstElement = head;\r\n\r\n        head = head.next;\r\n        listSize--;\r\n        return firstElement.data;\r\n    }\r\n\r\n    public T retrieveLastElement() {\r\n        Node currentNode = head;\r\n        T data = null;\r\n        if (tail == null) {\r\n            return null;\r\n        } else {\r\n                while (currentNode != null &amp;&amp; currentNode.next != tail) {\r\n                    currentNode = currentNode.next;\r\n                }\r\n                data = tail.data;\r\n                tail = currentNode;\r\n                tail.next = null;\r\n        }\r\n\r\n        listSize--;\r\n        return data;\r\n    }\r\n\r\n    public int getSize() {\r\n        return listSize;\r\n    }\r\n\r\n    /* Node definition */\r\n    protected class Node {\r\n        protected T data;\r\n        protected Node next;\r\n\r\n        protected Node(T data) {\r\n            this.data = data;\r\n            next = null;\r\n        }\r\n    }\r\n\r\n    /* We have both head and tail */\r\n    protected Node head, tail;\r\n\r\n    /* size */\r\n    protected int listSize;\r\n\r\n    @Override\r\n    public Iterator&lt;T&gt; iterator() {\r\n\r\n        return new IteratorForLinkedList();\r\n\r\n    }\r\n\r\n    private class IteratorForLinkedList implements Iterator&lt;T&gt; {\r\n        Node first = head;\r\n\r\n        @Override\r\n        public boolean hasNext() {\r\n            return first != null;\r\n        }\r\n\r\n        @Override\r\n        public T next() {\r\n            Node oldFirst = first;\r\n            T item = oldFirst.data;\r\n            first = first.next;\r\n            return item;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n, here are the implementations of `retrieveFirstElement` and `retrieveLastElement` if you want just to retrieve and keep elements\r\n\r\n```\r\n    public T retrieveFirstElement() {\r\n        if (head == null) {\r\n            return null;\r\n        }\r\n\r\n        Node firstElement = head;\r\n        return firstElement.data;\r\n    }\r\n\r\n    public T retrieveLastElement() {\r\n        if (tail == null) {\r\n            return null;\r\n        }\r\n        return tail.data;\r\n    }\r\n```\r\n\r\n**output**\r\n\r\n```\r\nFirst: Blue\r\nLast: Red\r\nSize: 3\r\nRetrieve First: Blue\r\nRetrieve Last: Red\r\nRemoving Red\r\ntrace: Yellow\r\nSize: 1\r\nIteration: Yellow\r\n```","title":"Iteration does not print out entry despite there being an entry in the list","body":"<p>Update the <code>next</code> method in the <code>Iterator</code> implementation to retrieve from the <code>First</code> node then return the data.</p>\n<p>, Update <code>remove</code> method to break after removing, and update <code>retrieveFirstElement</code> and <code>retrieveLastElement</code></p>\n<pre><code>\nclass BasicLinkedList&lt;T&gt; implements Iterable&lt;T&gt; {\n    public BasicLinkedList() {\n        head = null;\n        tail = null;\n        listSize = 0;\n    }\n\n    public BasicLinkedList&lt;T&gt; addToEnd(T data) {\n        Node newNode = new Node(data);\n        if (head == null) {\n            head = newNode;\n            tail = newNode;\n        } else {\n            tail.next = newNode;\n            tail = newNode;\n        }\n        listSize++;\n        return this;\n    }\n\n    public BasicLinkedList&lt;T&gt; addToFront(T data) {\n        Node newNode = new Node(data);\n        newNode.next = head;\n        head = newNode;\n        listSize++;\n        return this;\n    }\n\n    public T getFirst() {\n        if (head == null) {\n            return null;\n        }\n        return head.data;\n    }\n\n    public T getLast() {\n        if (tail == null) {\n            return null;\n        }\n        return tail.data;\n    }\n\n    public BasicLinkedList&lt;T&gt; remove(T targetData, java.util.Comparator&lt;T&gt; comparator) {\n        Node previousNode = null;\n        Node currentNode = head;\n        while (currentNode != null) {\n            if (comparator.compare(currentNode.data, targetData) == 0) {\n                //this is for the first entry specifically\n                if (currentNode == head) {\n                    head = head.next;\n                }\n                //this is for the last entry\n                else if (currentNode == tail) {\n                    tail = previousNode;\n                    previousNode.next = null;\n                } else {\n                    previousNode.next = currentNode.next;\n                }\n                listSize--;\n                break;\n            }\n            previousNode = currentNode;\n            currentNode = currentNode.next;\n        }\n        return this;\n    }\n\n    public T retrieveFirstElement() {\n        if (head == null) {\n            return null;\n        }\n\n        Node firstElement = head;\n\n        head = head.next;\n        listSize--;\n        return firstElement.data;\n    }\n\n    public T retrieveLastElement() {\n        Node currentNode = head;\n        T data = null;\n        if (tail == null) {\n            return null;\n        } else {\n                while (currentNode != null &amp;&amp; currentNode.next != tail) {\n                    currentNode = currentNode.next;\n                }\n                data = tail.data;\n                tail = currentNode;\n                tail.next = null;\n        }\n\n        listSize--;\n        return data;\n    }\n\n    public int getSize() {\n        return listSize;\n    }\n\n    /* Node definition */\n    protected class Node {\n        protected T data;\n        protected Node next;\n\n        protected Node(T data) {\n            this.data = data;\n            next = null;\n        }\n    }\n\n    /* We have both head and tail */\n    protected Node head, tail;\n\n    /* size */\n    protected int listSize;\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n\n        return new IteratorForLinkedList();\n\n    }\n\n    private class IteratorForLinkedList implements Iterator&lt;T&gt; {\n        Node first = head;\n\n        @Override\n        public boolean hasNext() {\n            return first != null;\n        }\n\n        @Override\n        public T next() {\n            Node oldFirst = first;\n            T item = oldFirst.data;\n            first = first.next;\n            return item;\n        }\n\n    }\n}\n</code></pre>\n<p>, here are the implementations of <code>retrieveFirstElement</code> and <code>retrieveLastElement</code> if you want just to retrieve and keep elements</p>\n<pre><code>    public T retrieveFirstElement() {\n        if (head == null) {\n            return null;\n        }\n\n        Node firstElement = head;\n        return firstElement.data;\n    }\n\n    public T retrieveLastElement() {\n        if (tail == null) {\n            return null;\n        }\n        return tail.data;\n    }\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>First: Blue\nLast: Red\nSize: 3\nRetrieve First: Blue\nRetrieve Last: Red\nRemoving Red\ntrace: Yellow\nSize: 1\nIteration: Yellow\n</code></pre>\n"}],"owner":{"account_id":25850312,"reputation":23,"user_id":19584401,"display_name":"Unregistered Hypercam 2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73047250,"answer_count":1,"score":2,"last_activity_date":1658300689,"creation_date":1658294896,"question_id":73046374,"body_markdown":"I&#39;m having trouble getting my linked list to print the sole entry that is inside of it. It&#39;s supposed to print &quot;Yellow&quot;, but instead returns empty. I tried seeing if it was an issue with the for each loop seeing if there was an entry there at all and it seems like that&#39;s the case. In other words, I tried seeing if the loop would run at all, and it didn&#39;t. At this point, I&#39;m not really sure what the problem is so any help would be greatly appreciated.\r\n\r\n```\r\n    public class SampleDriver {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tBasicLinkedList&lt;String&gt; basicList = new BasicLinkedList&lt;&gt;();\r\n\r\n\t\t\r\n\t\tbasicList.addToEnd(&quot;Red&quot;).addToFront(&quot;Yellow&quot;).addToFront(&quot;Blue&quot;);\r\n\t\tSystem.out.println(&quot;First: &quot; + basicList.getFirst());\r\n\t\tSystem.out.println(&quot;Last: &quot; + basicList.getLast());\r\n\t\tSystem.out.println(&quot;Size: &quot; + basicList.getSize());\r\n\t\tSystem.out.println(&quot;Retrieve First: &quot; + basicList.retrieveFirstElement());\r\n\t\tSystem.out.println(&quot;Retrieve Last: &quot; + basicList.retrieveLastElement());\r\n\t\tSystem.out.println(&quot;Removing Red&quot;);\r\n\t\t\r\n\t\tbasicList.remove(&quot;Red&quot;, String.CASE_INSENSITIVE_ORDER);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Iteration: &quot;);\r\n\t\t\r\n\t\tfor (String entry : basicList) {\r\n\t\t\tSystem.out.print(entry);\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nAnd this is the code for my basicLinkedList class at the moment:\r\n\r\n```\r\n    public class BasicLinkedList &lt; T &gt; implements Iterable &lt; T &gt; {\r\n\r\n     public BasicLinkedList() {\r\n\r\n       head = null;\r\n\r\n       tail = null;\r\n\r\n       listSize = 0;\r\n\r\n     }\r\n\r\n     public BasicLinkedList &lt; T &gt; addToEnd(T data) {\r\n\r\n       Node newNode = new Node(data);\r\n\r\n       if (head == null) {\r\n\r\n         head = newNode;\r\n\r\n         tail = newNode;\r\n\r\n       } else {\r\n\r\n         tail.next = newNode;\r\n\r\n         tail = newNode;\r\n\r\n       }\r\n\r\n       listSize++;\r\n\r\n       return this;\r\n     }\r\n\r\n     public BasicLinkedList &lt; T &gt; addToFront(T data) {\r\n\r\n       Node newNode = new Node(data);\r\n\r\n       newNode.next = head;\r\n\r\n       head = newNode;\r\n\r\n       listSize++;\r\n\r\n       return this;\r\n\r\n     }\r\n\r\n     public T getFirst() {\r\n\r\n       if (head == null) {\r\n\r\n         return null;\r\n\r\n       }\r\n\r\n       return head.data;\r\n\r\n     }\r\n\r\n     public T getLast() {\r\n\r\n       if (tail == null) {\r\n\r\n         return null;\r\n       }\r\n       return tail.data;\r\n     }\r\n\r\n     public BasicLinkedList &lt; T &gt; remove(T targetData, java.util.Comparator &lt; T &gt; comparator) {\r\n\r\n       Node previousNode = null;\r\n\r\n       Node currentNode = head;\r\n       while (currentNode != null) {\r\n         if (comparator.compare(currentNode.data, targetData) == 0) {\r\n\r\n           //this is for the first entry specifically\r\n           if (currentNode == head) {\r\n\r\n             head = head.next;\r\n\r\n             currentNode = head;\r\n\r\n           }\r\n           //this is for the last entry\r\n           else if (currentNode == tail) {\r\n\r\n             currentNode = null;\r\n             tail = previousNode;\r\n             previousNode.next = null;\r\n\r\n           } else {\r\n\r\n             previousNode.next = currentNode.next;\r\n             currentNode = currentNode.next;\r\n\r\n           }\r\n\r\n           listSize--;\r\n\r\n         } else {\r\n           previousNode = currentNode;\r\n\r\n           currentNode = currentNode.next;\r\n         }\r\n\r\n       }\r\n\r\n       return this;\r\n\r\n     }\r\n\r\n     public T retrieveFirstElement() {\r\n\r\n       if (head == null) {\r\n\r\n         return null;\r\n\r\n       }\r\n\r\n       Node firstElement = head;\r\n\r\n       Node currentNode = head.next;\r\n\r\n       head = currentNode;\r\n\r\n       listSize--;\r\n\r\n       return firstElement.data;\r\n\r\n     }\r\n\r\n     public T retrieveLastElement() {\r\n\r\n       Node currentNode = head;\r\n\r\n       Node previousNode = head;\r\n\r\n       if (head == null) {\r\n\r\n         return null;\r\n\r\n       } else {\r\n\r\n         if (head.next == null) {\r\n\r\n           currentNode = head;\r\n\r\n           head = null;\r\n\r\n         } else {\r\n           while (currentNode.next != null) {\r\n\r\n             previousNode = currentNode;\r\n\r\n             currentNode = currentNode.next;\r\n\r\n           }\r\n\r\n           tail = previousNode;\r\n\r\n           tail.next = null;\r\n         }\r\n\r\n       }\r\n\r\n       listSize--;\r\n\r\n       return currentNode.data;\r\n\r\n     }\r\n\r\n     public int getSize() {\r\n\r\n       return listSize;\r\n     }\r\n\r\n     /* Node definition */\r\n     protected class Node {\r\n       protected T data;\r\n       protected Node next;\r\n\r\n       protected Node(T data) {\r\n         this.data = data;\r\n         next = null;\r\n       }\r\n     }\r\n\r\n     /* We have both head and tail */\r\n     protected Node head,\r\n     tail;\r\n\r\n     /* size */\r\n     protected int listSize;\r\n\r\n     @Override\r\n     public Iterator &lt; T &gt; iterator() {\r\n\r\n       return new IteratorForLinkedList();\r\n\r\n     }\r\n\r\n     private class IteratorForLinkedList implements Iterator &lt; T &gt; {\r\n\r\n       Node nextNode;\r\n\r\n       @Override\r\n       public boolean hasNext() {\r\n\r\n         return nextNode != null;\r\n       }\r\n\r\n       @Override\r\n       public T next() {\r\n         // TODO Auto-generated method stub\r\n         return null;\r\n       }\r\n\r\n     }\r\n\r\n   }\r\n```","title":"Iteration does not print out entry despite there being an entry in the list","body":"<p>I'm having trouble getting my linked list to print the sole entry that is inside of it. It's supposed to print &quot;Yellow&quot;, but instead returns empty. I tried seeing if it was an issue with the for each loop seeing if there was an entry there at all and it seems like that's the case. In other words, I tried seeing if the loop would run at all, and it didn't. At this point, I'm not really sure what the problem is so any help would be greatly appreciated.</p>\n<pre><code>    public class SampleDriver {\n\n    public static void main(String[] args) {\n        BasicLinkedList&lt;String&gt; basicList = new BasicLinkedList&lt;&gt;();\n\n        \n        basicList.addToEnd(&quot;Red&quot;).addToFront(&quot;Yellow&quot;).addToFront(&quot;Blue&quot;);\n        System.out.println(&quot;First: &quot; + basicList.getFirst());\n        System.out.println(&quot;Last: &quot; + basicList.getLast());\n        System.out.println(&quot;Size: &quot; + basicList.getSize());\n        System.out.println(&quot;Retrieve First: &quot; + basicList.retrieveFirstElement());\n        System.out.println(&quot;Retrieve Last: &quot; + basicList.retrieveLastElement());\n        System.out.println(&quot;Removing Red&quot;);\n        \n        basicList.remove(&quot;Red&quot;, String.CASE_INSENSITIVE_ORDER);\n        \n        System.out.print(&quot;Iteration: &quot;);\n        \n        for (String entry : basicList) {\n            System.out.print(entry);\n        }\n        \n    }\n}\n</code></pre>\n<p>And this is the code for my basicLinkedList class at the moment:</p>\n<pre><code>    public class BasicLinkedList &lt; T &gt; implements Iterable &lt; T &gt; {\n\n     public BasicLinkedList() {\n\n       head = null;\n\n       tail = null;\n\n       listSize = 0;\n\n     }\n\n     public BasicLinkedList &lt; T &gt; addToEnd(T data) {\n\n       Node newNode = new Node(data);\n\n       if (head == null) {\n\n         head = newNode;\n\n         tail = newNode;\n\n       } else {\n\n         tail.next = newNode;\n\n         tail = newNode;\n\n       }\n\n       listSize++;\n\n       return this;\n     }\n\n     public BasicLinkedList &lt; T &gt; addToFront(T data) {\n\n       Node newNode = new Node(data);\n\n       newNode.next = head;\n\n       head = newNode;\n\n       listSize++;\n\n       return this;\n\n     }\n\n     public T getFirst() {\n\n       if (head == null) {\n\n         return null;\n\n       }\n\n       return head.data;\n\n     }\n\n     public T getLast() {\n\n       if (tail == null) {\n\n         return null;\n       }\n       return tail.data;\n     }\n\n     public BasicLinkedList &lt; T &gt; remove(T targetData, java.util.Comparator &lt; T &gt; comparator) {\n\n       Node previousNode = null;\n\n       Node currentNode = head;\n       while (currentNode != null) {\n         if (comparator.compare(currentNode.data, targetData) == 0) {\n\n           //this is for the first entry specifically\n           if (currentNode == head) {\n\n             head = head.next;\n\n             currentNode = head;\n\n           }\n           //this is for the last entry\n           else if (currentNode == tail) {\n\n             currentNode = null;\n             tail = previousNode;\n             previousNode.next = null;\n\n           } else {\n\n             previousNode.next = currentNode.next;\n             currentNode = currentNode.next;\n\n           }\n\n           listSize--;\n\n         } else {\n           previousNode = currentNode;\n\n           currentNode = currentNode.next;\n         }\n\n       }\n\n       return this;\n\n     }\n\n     public T retrieveFirstElement() {\n\n       if (head == null) {\n\n         return null;\n\n       }\n\n       Node firstElement = head;\n\n       Node currentNode = head.next;\n\n       head = currentNode;\n\n       listSize--;\n\n       return firstElement.data;\n\n     }\n\n     public T retrieveLastElement() {\n\n       Node currentNode = head;\n\n       Node previousNode = head;\n\n       if (head == null) {\n\n         return null;\n\n       } else {\n\n         if (head.next == null) {\n\n           currentNode = head;\n\n           head = null;\n\n         } else {\n           while (currentNode.next != null) {\n\n             previousNode = currentNode;\n\n             currentNode = currentNode.next;\n\n           }\n\n           tail = previousNode;\n\n           tail.next = null;\n         }\n\n       }\n\n       listSize--;\n\n       return currentNode.data;\n\n     }\n\n     public int getSize() {\n\n       return listSize;\n     }\n\n     /* Node definition */\n     protected class Node {\n       protected T data;\n       protected Node next;\n\n       protected Node(T data) {\n         this.data = data;\n         next = null;\n       }\n     }\n\n     /* We have both head and tail */\n     protected Node head,\n     tail;\n\n     /* size */\n     protected int listSize;\n\n     @Override\n     public Iterator &lt; T &gt; iterator() {\n\n       return new IteratorForLinkedList();\n\n     }\n\n     private class IteratorForLinkedList implements Iterator &lt; T &gt; {\n\n       Node nextNode;\n\n       @Override\n       public boolean hasNext() {\n\n         return nextNode != null;\n       }\n\n       @Override\n       public T next() {\n         // TODO Auto-generated method stub\n         return null;\n       }\n\n     }\n\n   }\n</code></pre>\n"},{"tags":["java","mysql","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1654273071,"post_id":72491851,"comment_id":128059373,"body_markdown":"Short answer is &quot;no&quot;. The closest is `Contains`. See [full list of predicate keywords](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.predicate). However, there might be a compromise: Please edit your question to include table schemata.","body":"Short answer is &quot;no&quot;. The closest is <code>Contains</code>. See <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.predicate\" rel=\"nofollow noreferrer\">full list of predicate keywords</a>. However, there might be a compromise: Please edit your question to include table schemata."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1654274955,"post_id":72491851,"comment_id":128059945,"body_markdown":"No. Table create statements.","body":"No. Table create statements."}],"answers":[{"tags":[],"owner":{"account_id":20264783,"reputation":98,"user_id":14862260,"display_name":"CosmicDarine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654293979,"creation_date":1654275043,"answer_id":72492813,"question_id":72491851,"body_markdown":"I actually managed to find a solution : \r\nThe keyword &quot;IN&quot; works for what I want ! \r\n```\r\nPage&lt;ActivityEntity&gt; findAllByHashtagsInAndDateIsGreaterThanEqual(List&lt;HashtagEntity&gt; hashtags, LocalDateTime date, Pageable pageable);\r\n```","title":"Does Spring JPA provide a way to know if at least one element of a list of items matches at least one element contained in another list of items?","body":"<p>I actually managed to find a solution :\nThe keyword &quot;IN&quot; works for what I want !</p>\n<pre><code>Page&lt;ActivityEntity&gt; findAllByHashtagsInAndDateIsGreaterThanEqual(List&lt;HashtagEntity&gt; hashtags, LocalDateTime date, Pageable pageable);\n</code></pre>\n"}],"owner":{"account_id":20264783,"reputation":98,"user_id":14862260,"display_name":"CosmicDarine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1846,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72492813,"answer_count":1,"score":1,"last_activity_date":1658300672,"creation_date":1654270029,"question_id":72491851,"body_markdown":"Does Spring Data JPA provide a query keyword to check if at least one item contained in a list match at least one of the items contained in another list.\r\n\r\nHere&#39;s my query : (*** should be the keyword I&#39;m looking for. Ex : contains, in , ... but I don&#39;t know which one is the right one.)\r\n```\r\nPage&lt;ActivityEntity&gt; findAllByHashtags***AndDateIsGreaterThanEqual(List&lt;HashtagEntity&gt; hashtags, LocalDateTime date, Pageable pageable);\r\n```\r\n\r\n**Some more information** : Here&#39;s my Activity entity.\r\n```\r\npublic class ActivityEntity {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd HH:mm a z&quot;)\r\n    private LocalDateTime date;\r\n\r\n\r\n    @ManyToMany(cascade=CascadeType.ALL)\r\n    @Cascade({org.hibernate.annotations.CascadeType.DELETE,  org.hibernate.annotations.CascadeType.REMOVE})\r\n    private List&lt;HashtagEntity&gt; hashtags;\r\n}\r\n\r\n```\r\n----------\r\n\r\nI&#39;d like to retrieve every activity whom hashtags match at least one of the hashtags contained in a list.\r\n\r\nFor example : \r\nGiven the activities contained in the database : \r\n```\r\n[\r\n {\r\n  &quot;id&quot;: 1,\r\n  &quot;name&quot;: &quot;Karaoke time&quot;,\r\n  &quot;date&quot;: &quot;2022-05-28T12:30:00Z&quot;,\r\n  &quot;hashtags&quot;: \r\n   [\r\n    { &quot;name&quot;: &quot;fun&quot; }, { &quot;name&quot;: &quot;karaoke&quot;}, { &quot;name&quot;: &quot;friend&quot; }\r\n   ]\r\n },\r\n {\r\n  &quot;id&quot;: 2,\r\n  &quot;name&quot;: &quot;Just Dance Session V.1&quot;,\r\n  &quot;date&quot;: &quot;2022-05-28T12:30:00Z&quot;,\r\n  &quot;hashtags&quot;: \r\n   [\r\n    { &quot;name&quot;: &quot;fun&quot; }, { &quot;name&quot;: &quot;dance&quot;}\r\n   ]\r\n }\r\n]\r\n```\r\n\r\nIf I provide the following hashtags list :\r\n```\r\n[\r\n { &quot;name&quot;: &quot;karaoke&quot; }, { &quot;name&quot;: &quot;heavy metal&quot;}\r\n]\r\n```\r\n\r\nI should receive : \r\n```\r\n[\r\n {\r\n  &quot;id&quot;: 1,\r\n  &quot;name&quot;: &quot;Karaoke time&quot;,\r\n  &quot;date&quot;: &quot;2022-05-28T12:30:00Z&quot;,\r\n  &quot;hashtags&quot;: \r\n   [\r\n    { &quot;name&quot;: &quot;fun&quot; }, { &quot;name&quot;: &quot;karaoke&quot;}, { &quot;name&quot;: &quot;friend }\r\n   ]\r\n }\r\n]\r\n```\r\n\r\nI see there is another post on the subject : https://stackoverflow.com/questions/38233333/spring-jpa-query-check-if-at-least-one-element-of-a-list-exists-in-parameter-lis\r\n\r\nBut I&#39;d like to avoid this solution because this would require to make an additional costly query.","title":"Does Spring JPA provide a way to know if at least one element of a list of items matches at least one element contained in another list of items?","body":"<p>Does Spring Data JPA provide a query keyword to check if at least one item contained in a list match at least one of the items contained in another list.</p>\n<p>Here's my query : (*** should be the keyword I'm looking for. Ex : contains, in , ... but I don't know which one is the right one.)</p>\n<pre><code>Page&lt;ActivityEntity&gt; findAllByHashtags***AndDateIsGreaterThanEqual(List&lt;HashtagEntity&gt; hashtags, LocalDateTime date, Pageable pageable);\n</code></pre>\n<p><strong>Some more information</strong> : Here's my Activity entity.</p>\n<pre><code>public class ActivityEntity {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String name;\n\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd HH:mm a z&quot;)\n    private LocalDateTime date;\n\n\n    @ManyToMany(cascade=CascadeType.ALL)\n    @Cascade({org.hibernate.annotations.CascadeType.DELETE,  org.hibernate.annotations.CascadeType.REMOVE})\n    private List&lt;HashtagEntity&gt; hashtags;\n}\n\n</code></pre>\n<hr />\n<p>I'd like to retrieve every activity whom hashtags match at least one of the hashtags contained in a list.</p>\n<p>For example :\nGiven the activities contained in the database :</p>\n<pre><code>[\n {\n  &quot;id&quot;: 1,\n  &quot;name&quot;: &quot;Karaoke time&quot;,\n  &quot;date&quot;: &quot;2022-05-28T12:30:00Z&quot;,\n  &quot;hashtags&quot;: \n   [\n    { &quot;name&quot;: &quot;fun&quot; }, { &quot;name&quot;: &quot;karaoke&quot;}, { &quot;name&quot;: &quot;friend&quot; }\n   ]\n },\n {\n  &quot;id&quot;: 2,\n  &quot;name&quot;: &quot;Just Dance Session V.1&quot;,\n  &quot;date&quot;: &quot;2022-05-28T12:30:00Z&quot;,\n  &quot;hashtags&quot;: \n   [\n    { &quot;name&quot;: &quot;fun&quot; }, { &quot;name&quot;: &quot;dance&quot;}\n   ]\n }\n]\n</code></pre>\n<p>If I provide the following hashtags list :</p>\n<pre><code>[\n { &quot;name&quot;: &quot;karaoke&quot; }, { &quot;name&quot;: &quot;heavy metal&quot;}\n]\n</code></pre>\n<p>I should receive :</p>\n<pre><code>[\n {\n  &quot;id&quot;: 1,\n  &quot;name&quot;: &quot;Karaoke time&quot;,\n  &quot;date&quot;: &quot;2022-05-28T12:30:00Z&quot;,\n  &quot;hashtags&quot;: \n   [\n    { &quot;name&quot;: &quot;fun&quot; }, { &quot;name&quot;: &quot;karaoke&quot;}, { &quot;name&quot;: &quot;friend }\n   ]\n }\n]\n</code></pre>\n<p>I see there is another post on the subject : <a href=\"https://stackoverflow.com/questions/38233333/spring-jpa-query-check-if-at-least-one-element-of-a-list-exists-in-parameter-lis\">Spring JPA Query Check If At Least One Element of a List Exists in Parameter List</a></p>\n<p>But I'd like to avoid this solution because this would require to make an additional costly query.</p>\n"},{"tags":["java","encryption","cryptography","3des"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1658171438,"post_id":73027395,"comment_id":128980788,"body_markdown":"You might be able to do this with Base64 or some other more compact encoding format than hex, but that&#39;s probably as good as you can get; you can&#39;t just make data smaller.","body":"You might be able to do this with Base64 or some other more compact encoding format than hex, but that&#39;s probably as good as you can get; you can&#39;t just make data smaller."}],"answers":[{"tags":[],"owner":{"account_id":7249113,"reputation":2882,"user_id":5530076,"accept_rate":100,"display_name":"Bram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658300402,"creation_date":1658179507,"answer_id":73028812,"question_id":73027395,"body_markdown":"For one, I highly recommend not supporting (3)DES anymore, as it&#39;s [officially unsecure][1] in favour of AES/ChaCha, which I *must* say before answering this question.\r\n\r\n3DES has a block size of 64 bits (or 8 bytes). With that also comes that encryption  compression. So if you want to encrypt 16 bytes, provide 16 bytes of input, unless:\r\n\r\n1. You apply a padding scheme (which it appears you&#39;re not doing)(taken from the `DESede/CBC/NoPadding`\r\n2. You apply a (random) initialisation vector (which it appears you&#39;re doing)\r\n\r\nThe latter one should, but I&#39;m not to sure of Android&#39;s implementation, create a 64 bits (8 byte) iv, as the iv should be as big as the block size of the cipher (again, 64 bits for 3DES).\r\n\r\nSo if you want 16 bytes of output, you can, and should, only provide 8 bytes to encrypt. Now, if 8 bytes is not enough, you might choose to drop the iv from being in the ciphertext, which you could do if you use a fixed iv (such as an all zero iv) with random keys, as reusing the same key with iv is **not** secure.\r\n\r\nNow if you do take security in consideration, keep in mind that AES has a block size of 16 bytes. AES and ChaCha come with the same constraints regarding the iv.\r\n\r\nThen you might also might want to consider changing the message (protocol) instead, so it can take more than 16 bytes of data or use those 16 bytes in such a way that it indicates that there is more data to handle, as like an attachment to an e-mail. \r\n\r\n  [1]: https://nvd.nist.gov/vuln/detail/CVE-2016-2183","title":"Limit Size of Encrypted Data using 3DES","body":"<p>For one, I highly recommend not supporting (3)DES anymore, as it's <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2016-2183\" rel=\"nofollow noreferrer\">officially unsecure</a> in favour of AES/ChaCha, which I <em>must</em> say before answering this question.</p>\n<p>3DES has a block size of 64 bits (or 8 bytes). With that also comes that encryption  compression. So if you want to encrypt 16 bytes, provide 16 bytes of input, unless:</p>\n<ol>\n<li>You apply a padding scheme (which it appears you're not doing)(taken from the <code>DESede/CBC/NoPadding</code></li>\n<li>You apply a (random) initialisation vector (which it appears you're doing)</li>\n</ol>\n<p>The latter one should, but I'm not to sure of Android's implementation, create a 64 bits (8 byte) iv, as the iv should be as big as the block size of the cipher (again, 64 bits for 3DES).</p>\n<p>So if you want 16 bytes of output, you can, and should, only provide 8 bytes to encrypt. Now, if 8 bytes is not enough, you might choose to drop the iv from being in the ciphertext, which you could do if you use a fixed iv (such as an all zero iv) with random keys, as reusing the same key with iv is <strong>not</strong> secure.</p>\n<p>Now if you do take security in consideration, keep in mind that AES has a block size of 16 bytes. AES and ChaCha come with the same constraints regarding the iv.</p>\n<p>Then you might also might want to consider changing the message (protocol) instead, so it can take more than 16 bytes of data or use those 16 bytes in such a way that it indicates that there is more data to handle, as like an attachment to an e-mail.</p>\n"}],"owner":{"account_id":24439874,"reputation":35,"user_id":18363703,"display_name":"Pakalu Papito"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658300402,"creation_date":1658171169,"question_id":73027395,"body_markdown":"I am trying to encrypt and decrypt a string of data using 3DES and it is working fine. However I want that the size of the data after encryption to be limited to length of 16 bits.\r\n\r\nThis is the code I am referring from https://gist.github.com/riversun/6e15306cd6e3b1b37687a0e5cec1cef1 :\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class DesedeCrypter {\r\n\r\n    private static final String CRYPT_ALGORITHM = &quot;DESede&quot;;\r\n    private static final String PADDING = &quot;DESede/CBC/NoPadding&quot;;\r\n    private static final String CHAR_ENCODING = &quot;UTF-8&quot;;\r\n\r\n    private static final byte[] MY_KEY = &quot;5oquil2oo2vb63e8ionujny6&quot;.getBytes();//24-byte\r\n    private static final byte[] MY_IV = &quot;3oco1v52&quot;.getBytes();//8-byte\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String srcText = &quot;M3A1B2C3D4HHG393&quot;;\r\n\r\n        final DesedeCrypter crypter = new DesedeCrypter();\r\n\r\n        String encryptedText = crypter.encrypt(srcText);\r\n\r\n        System.out.println(&quot;sourceText=&quot; + srcText + &quot; -&gt; encryptedText=&quot; + encryptedText + &quot;\\n&quot;);\r\n\r\n        System.out.println(&quot;encrypted-text=&quot; + encryptedText + &quot; -&gt; decrypted-text(source text)=&quot;\r\n                + crypter.decrypt(encryptedText));\r\n    }\r\n\r\n    public String encrypt(String text) {\r\n\r\n        String retVal = null;\r\n\r\n        try {\r\n\r\n            final SecretKeySpec secretKeySpec = new SecretKeySpec(MY_KEY, CRYPT_ALGORITHM);\r\n\r\n            final IvParameterSpec iv = new IvParameterSpec(MY_IV);\r\n\r\n            final Cipher cipher = Cipher.getInstance(PADDING);\r\n\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, iv);\r\n\r\n            final byte[] encrypted = cipher.doFinal(text.getBytes(CHAR_ENCODING));\r\n\r\n            retVal = new String(encodeHex(encrypted));\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    public String decrypt(String text) {\r\n\r\n        String retVal = null;\r\n        try {\r\n            final SecretKeySpec secretKeySpec = new SecretKeySpec(MY_KEY, CRYPT_ALGORITHM);\r\n            final IvParameterSpec iv = new IvParameterSpec(MY_IV);\r\n\r\n            final Cipher cipher = Cipher.getInstance(PADDING);\r\n\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, iv);\r\n\r\n            final byte[] decrypted = cipher.doFinal(decodeHex(text.toCharArray()));\r\n\r\n            retVal = new String(decrypted, CHAR_ENCODING);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    private byte[] decodeHex(char[] data) throws Exception {\r\n\r\n        int len = data.length;\r\n        if ((len &amp; 0x01) != 0) {\r\n            throw new Exception(&quot;Odd number of characters.&quot;);\r\n        }\r\n        byte[] out = new byte[len &gt;&gt; 1];\r\n\r\n        // two characters form the hex value.\r\n        for (int i = 0, j = 0; j &lt; len; i++) {\r\n\r\n            int f = toDigit(data[j], j) &lt;&lt; 4;\r\n            j++;\r\n            f = f | toDigit(data[j], j);\r\n            j++;\r\n            out[i] = (byte) (f &amp; 0xFF);\r\n        }\r\n        return out;\r\n    }\r\n\r\n    private int toDigit(char ch, int index) throws Exception {\r\n        int digit = Character.digit(ch, 16);\r\n        if (digit == -1) {\r\n            throw new Exception(&quot;Illegal hexadecimal character &quot; + ch + &quot; at index &quot; + index);\r\n        }\r\n        return digit;\r\n    }\r\n\r\n    private char[] encodeHex(byte[] data) {\r\n\r\n        final char[] DIGITS = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39; };\r\n\r\n        int l = data.length;\r\n        char[] out = new char[l &lt;&lt; 1];\r\n        // two characters form the hex value.\r\n        for (int i = 0, j = 0; i &lt; l; i++) {\r\n            out[j++] = DIGITS[(0xF0 &amp; data[i]) &gt;&gt;&gt; 4];\r\n            out[j++] = DIGITS[0x0F &amp; data[i]];\r\n        }\r\n        return out;\r\n    }\r\n    }\r\n\r\nCurrently this is the output I am getting:\r\n\r\n    sourceText=M3A1B2C3D4HHG393 -&gt; encryptedText=afc1d48ea5cc703253cbc1a88a198103\r\n    \r\n    encrypted-text=afc1d48ea5cc703253cbc1a88a198103 -&gt; decrypted-text(source text)=M3A1B2C3D4HHG393\r\n\r\nIs there any way that the size of the encryptedText be limited to 16 as I want to add the encrypted text back into a message which has 16 digits space for encrypted text. \r\n\r\nPlease suggest some way or any other change that is required to achieve this. Thanks !","title":"Limit Size of Encrypted Data using 3DES","body":"<p>I am trying to encrypt and decrypt a string of data using 3DES and it is working fine. However I want that the size of the data after encryption to be limited to length of 16 bits.</p>\n<p>This is the code I am referring from <a href=\"https://gist.github.com/riversun/6e15306cd6e3b1b37687a0e5cec1cef1\" rel=\"nofollow noreferrer\">https://gist.github.com/riversun/6e15306cd6e3b1b37687a0e5cec1cef1</a> :</p>\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class DesedeCrypter {\n\nprivate static final String CRYPT_ALGORITHM = &quot;DESede&quot;;\nprivate static final String PADDING = &quot;DESede/CBC/NoPadding&quot;;\nprivate static final String CHAR_ENCODING = &quot;UTF-8&quot;;\n\nprivate static final byte[] MY_KEY = &quot;5oquil2oo2vb63e8ionujny6&quot;.getBytes();//24-byte\nprivate static final byte[] MY_IV = &quot;3oco1v52&quot;.getBytes();//8-byte\n\npublic static void main(String[] args) {\n\n    String srcText = &quot;M3A1B2C3D4HHG393&quot;;\n\n    final DesedeCrypter crypter = new DesedeCrypter();\n\n    String encryptedText = crypter.encrypt(srcText);\n\n    System.out.println(&quot;sourceText=&quot; + srcText + &quot; -&gt; encryptedText=&quot; + encryptedText + &quot;\\n&quot;);\n\n    System.out.println(&quot;encrypted-text=&quot; + encryptedText + &quot; -&gt; decrypted-text(source text)=&quot;\n            + crypter.decrypt(encryptedText));\n}\n\npublic String encrypt(String text) {\n\n    String retVal = null;\n\n    try {\n\n        final SecretKeySpec secretKeySpec = new SecretKeySpec(MY_KEY, CRYPT_ALGORITHM);\n\n        final IvParameterSpec iv = new IvParameterSpec(MY_IV);\n\n        final Cipher cipher = Cipher.getInstance(PADDING);\n\n        cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, iv);\n\n        final byte[] encrypted = cipher.doFinal(text.getBytes(CHAR_ENCODING));\n\n        retVal = new String(encodeHex(encrypted));\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return retVal;\n}\n\npublic String decrypt(String text) {\n\n    String retVal = null;\n    try {\n        final SecretKeySpec secretKeySpec = new SecretKeySpec(MY_KEY, CRYPT_ALGORITHM);\n        final IvParameterSpec iv = new IvParameterSpec(MY_IV);\n\n        final Cipher cipher = Cipher.getInstance(PADDING);\n\n        cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, iv);\n\n        final byte[] decrypted = cipher.doFinal(decodeHex(text.toCharArray()));\n\n        retVal = new String(decrypted, CHAR_ENCODING);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return retVal;\n}\n\nprivate byte[] decodeHex(char[] data) throws Exception {\n\n    int len = data.length;\n    if ((len &amp; 0x01) != 0) {\n        throw new Exception(&quot;Odd number of characters.&quot;);\n    }\n    byte[] out = new byte[len &gt;&gt; 1];\n\n    // two characters form the hex value.\n    for (int i = 0, j = 0; j &lt; len; i++) {\n\n        int f = toDigit(data[j], j) &lt;&lt; 4;\n        j++;\n        f = f | toDigit(data[j], j);\n        j++;\n        out[i] = (byte) (f &amp; 0xFF);\n    }\n    return out;\n}\n\nprivate int toDigit(char ch, int index) throws Exception {\n    int digit = Character.digit(ch, 16);\n    if (digit == -1) {\n        throw new Exception(&quot;Illegal hexadecimal character &quot; + ch + &quot; at index &quot; + index);\n    }\n    return digit;\n}\n\nprivate char[] encodeHex(byte[] data) {\n\n    final char[] DIGITS = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f' };\n\n    int l = data.length;\n    char[] out = new char[l &lt;&lt; 1];\n    // two characters form the hex value.\n    for (int i = 0, j = 0; i &lt; l; i++) {\n        out[j++] = DIGITS[(0xF0 &amp; data[i]) &gt;&gt;&gt; 4];\n        out[j++] = DIGITS[0x0F &amp; data[i]];\n    }\n    return out;\n}\n}\n</code></pre>\n<p>Currently this is the output I am getting:</p>\n<pre><code>sourceText=M3A1B2C3D4HHG393 -&gt; encryptedText=afc1d48ea5cc703253cbc1a88a198103\n\nencrypted-text=afc1d48ea5cc703253cbc1a88a198103 -&gt; decrypted-text(source text)=M3A1B2C3D4HHG393\n</code></pre>\n<p>Is there any way that the size of the encryptedText be limited to 16 as I want to add the encrypted text back into a message which has 16 digits space for encrypted text.</p>\n<p>Please suggest some way or any other change that is required to achieve this. Thanks !</p>\n"},{"tags":["java","spring","scope","prototype","spring-java-config"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1393876341,"post_id":22155832,"comment_id":33622828,"body_markdown":"However, is there a reason you cannot just instantiate the class yourself and have to get it from Spring? Does it have dependencies on other beans?","body":"However, is there a reason you cannot just instantiate the class yourself and have to get it from Spring? Does it have dependencies on other beans?"},{"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"score":0,"creation_date":1393876633,"post_id":22155832,"comment_id":33622997,"body_markdown":"@SotiriosDelimanolis yes, the `Thing` implementation is actually more complex and does have dependencies on other beans (I just omitted them for brevity).  As such, I don&#39;t want the Request handler implementation to know about them, as this would tightly couple the handler to APIs/beans it doesn&#39;t need.  I&#39;ll update the question to reflect your (excellent) question.","body":"@SotiriosDelimanolis yes, the <code>Thing</code> implementation is actually more complex and does have dependencies on other beans (I just omitted them for brevity).  As such, I don&#39;t want the Request handler implementation to know about them, as this would tightly couple the handler to APIs/beans it doesn&#39;t need.  I&#39;ll update the question to reflect your (excellent) question."},{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":0,"creation_date":1393877181,"post_id":22155832,"comment_id":33623335,"body_markdown":"I am not sure if Spring allows this on a constructor, but I know you can put `@Qualifier` on parameters to a setter with `@Autowired` on the setter itself.","body":"I am not sure if Spring allows this on a constructor, but I know you can put <code>@Qualifier</code> on parameters to a setter with <code>@Autowired</code> on the setter itself."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1393877273,"post_id":22155832,"comment_id":33623373,"body_markdown":"In Spring 4, your example with `@Bean` works. The `@Bean` method gets called with the appropriate arguments you passed to `getBean(..)`.","body":"In Spring 4, your example with <code>@Bean</code> works. The <code>@Bean</code> method gets called with the appropriate arguments you passed to <code>getBean(..)</code>."},{"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"score":0,"creation_date":1393969290,"post_id":22155832,"comment_id":33672378,"body_markdown":"@SotiriosDelimanolis I have confirmed that this does indeed work with Spring 4.  Please feel free to submit an Answer and I&#39;ll be happy to accept it.","body":"@SotiriosDelimanolis I have confirmed that this does indeed work with Spring 4.  Please feel free to submit an Answer and I&#39;ll be happy to accept it."},{"owner":{"account_id":431581,"reputation":2336,"user_id":815741,"accept_rate":38,"display_name":"Vytenis Bivainis"},"score":1,"creation_date":1414187512,"post_id":22155832,"comment_id":41735058,"body_markdown":"It&#39;s not hard to inject fields marked with `@Autowired` or setters using Spring classes yourself (a few lines of code) and I&#39;ve been using it for a while (with Spring 2.5 if I recall correctly) using neither of `@Bean`, `@Scope(&quot;prototype&quot;)`, `@Configuration`. I do not consider `BeanFactory.getBean(String, Object[])` reasonable since it lacks compile time checking. I will probably post an answer when I come up with the design that I can recommend (my current design has some problems).","body":"It&#39;s not hard to inject fields marked with <code>@Autowired</code> or setters using Spring classes yourself (a few lines of code) and I&#39;ve been using it for a while (with Spring 2.5 if I recall correctly) using neither of <code>@Bean</code>, <code>@Scope(&quot;prototype&quot;)</code>, <code>@Configuration</code>. I do not consider <code>BeanFactory.getBean(String, Object[])</code> reasonable since it lacks compile time checking. I will probably post an answer when I come up with the design that I can recommend (my current design has some problems)."}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":1,"up_vote_count":126,"is_accepted":true,"score":125,"last_activity_date":1599850558,"creation_date":1393970373,"answer_id":22184027,"question_id":22155832,"body_markdown":"In a `@Configuration` class, a `@Bean` method like so\r\n\r\n\t@Bean\r\n\t@Scope(&quot;prototype&quot;)\r\n\tpublic Thing thing(String name) {\r\n\t\treturn new Thing(name);\r\n\t}\r\n\r\nis used to register a **bean definition and provide the factory for creating the bean**. The bean that it defines is only instantiated upon request using arguments that are determined either directly or through scanning that `ApplicationContext`. \r\n\r\nIn the case of a `prototype` bean, a new object is created every time and therefore the  corresponding `@Bean` method is also executed. \r\n\r\nYou can retrieve a bean from the `ApplicationContext` through its [`BeanFactory#getBean(String name, Object... args)`][1] method which states\r\n\r\n&gt; Allows for specifying explicit constructor arguments / factory method\r\n&gt; arguments, overriding the specified default arguments (if any) in the\r\n&gt; bean definition.\r\n&gt; \r\n&gt; Parameters:\r\n&gt;\r\n&gt; **args** arguments to use if creating a prototype using explicit arguments\r\n&gt; to a static factory method. It is invalid to use a non-null args value\r\n&gt; in any other case.\r\n\r\nIn other words, for this `prototype` scoped bean, you are providing the arguments that will be used, not in the constructor of the bean class, but in the `@Bean` method invocation. (This method has very weak type guarantees since it uses a name lookup for the bean.)\r\n\r\nAlternatively, you can use the typed [`BeanFactory#getBean(Class requiredType, Object... args)`][2] method which looks up the bean by type. \r\n\r\nThis is at least true for Spring versions 4+.\r\n\r\nNote that, if you don&#39;t want to start with the `ApplicationContext` or `BeanFactory` for your bean retrieval, you can inject an [`ObjectProvider`][3] (since Spring 4.3).\r\n\r\n&gt; A variant of `ObjectFactory` designed specifically for injection points,\r\n&gt; allowing for programmatic optionality and lenient not-unique handling.\r\n\r\nand use its [`getObject(Object... args)`][4] method\r\n\r\n&gt; Return an instance (possibly shared or independent) of the object\r\n&gt; managed by this factory.\r\n&gt; \r\n&gt; Allows for specifying explicit construction arguments, along the lines\r\n&gt; of `BeanFactory.getBean(String, Object)`.\r\n\r\nFor example,\r\n\r\n```\r\n@Autowired\r\nprivate ObjectProvider&lt;Thing&gt; things;\r\n\r\n[...]\r\nThing newThing = things.getObject(name);\r\n[...]\r\n```\r\n\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/factory/BeanFactory.html#getBean-java.lang.String-java.lang.Object...-\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/BeanFactory.html#getBean-java.lang.Class-java.lang.Object...-\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/ObjectProvider.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/ObjectProvider.html#getObject-java.lang.Object...-","title":"Spring Java Config: how do you create a prototype-scoped @Bean with runtime arguments?","body":"<p>In a <code>@Configuration</code> class, a <code>@Bean</code> method like so</p>\n<pre><code>@Bean\n@Scope(&quot;prototype&quot;)\npublic Thing thing(String name) {\n    return new Thing(name);\n}\n</code></pre>\n<p>is used to register a <strong>bean definition and provide the factory for creating the bean</strong>. The bean that it defines is only instantiated upon request using arguments that are determined either directly or through scanning that <code>ApplicationContext</code>.</p>\n<p>In the case of a <code>prototype</code> bean, a new object is created every time and therefore the  corresponding <code>@Bean</code> method is also executed.</p>\n<p>You can retrieve a bean from the <code>ApplicationContext</code> through its <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/factory/BeanFactory.html#getBean-java.lang.String-java.lang.Object...-\" rel=\"noreferrer\"><code>BeanFactory#getBean(String name, Object... args)</code></a> method which states</p>\n<blockquote>\n<p>Allows for specifying explicit constructor arguments / factory method\narguments, overriding the specified default arguments (if any) in the\nbean definition.</p>\n<p>Parameters:</p>\n<p><strong>args</strong> arguments to use if creating a prototype using explicit arguments\nto a static factory method. It is invalid to use a non-null args value\nin any other case.</p>\n</blockquote>\n<p>In other words, for this <code>prototype</code> scoped bean, you are providing the arguments that will be used, not in the constructor of the bean class, but in the <code>@Bean</code> method invocation. (This method has very weak type guarantees since it uses a name lookup for the bean.)</p>\n<p>Alternatively, you can use the typed <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/BeanFactory.html#getBean-java.lang.Class-java.lang.Object...-\" rel=\"noreferrer\"><code>BeanFactory#getBean(Class requiredType, Object... args)</code></a> method which looks up the bean by type.</p>\n<p>This is at least true for Spring versions 4+.</p>\n<p>Note that, if you don't want to start with the <code>ApplicationContext</code> or <code>BeanFactory</code> for your bean retrieval, you can inject an <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/ObjectProvider.html\" rel=\"noreferrer\"><code>ObjectProvider</code></a> (since Spring 4.3).</p>\n<blockquote>\n<p>A variant of <code>ObjectFactory</code> designed specifically for injection points,\nallowing for programmatic optionality and lenient not-unique handling.</p>\n</blockquote>\n<p>and use its <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/ObjectProvider.html#getObject-java.lang.Object...-\" rel=\"noreferrer\"><code>getObject(Object... args)</code></a> method</p>\n<blockquote>\n<p>Return an instance (possibly shared or independent) of the object\nmanaged by this factory.</p>\n<p>Allows for specifying explicit construction arguments, along the lines\nof <code>BeanFactory.getBean(String, Object)</code>.</p>\n</blockquote>\n<p>For example,</p>\n<pre><code>@Autowired\nprivate ObjectProvider&lt;Thing&gt; things;\n\n[...]\nThing newThing = things.getObject(name);\n[...]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1672698,"reputation":7302,"user_id":1538856,"accept_rate":78,"display_name":"JoeG"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1394036830,"creation_date":1393974141,"answer_id":22185037,"question_id":22155832,"body_markdown":"**UPDATED per comment**\r\n\r\nFirst, I&#39;m not sure why you say &quot;this does not work&quot; for something that works just fine in Spring 3.x.  I suspect something must be wrong in your configuration somewhere.  \r\n\r\nThis works:\r\n\r\n-- Config File:\r\n\r\n    @Configuration\r\n    public class ServiceConfig {\r\n        // only here to demo execution order\r\n        private int count = 1;\r\n\r\n        @Bean\r\n        @Scope(value = &quot;prototype&quot;)\r\n        public TransferService myFirstService(String param) {\r\n           System.out.println(&quot;value of count:&quot; + count++);\r\n           return new TransferServiceImpl(aSingletonBean(), param);\r\n        }\r\n\r\n        @Bean\r\n        public AccountRepository aSingletonBean() {\r\n            System.out.println(&quot;value of count:&quot; + count++);\r\n            return new InMemoryAccountRepository();\r\n        }\r\n    }\r\n\r\n-- Test File to execute:\r\n\r\n    @Test\r\n    public void prototypeTest() {\r\n        // create the spring container using the ServiceConfig @Configuration class\r\n        ApplicationContext ctx = new AnnotationConfigApplicationContext(ServiceConfig.class);\r\n        Object singleton = ctx.getBean(&quot;aSingletonBean&quot;);\r\n        System.out.println(singleton.toString());\r\n        singleton = ctx.getBean(&quot;aSingletonBean&quot;);\r\n        System.out.println(singleton.toString());\r\n        TransferService transferService = ctx.getBean(&quot;myFirstService&quot;, &quot;simulated Dynamic Parameter One&quot;);\r\n        System.out.println(transferService.toString());\r\n        transferService = ctx.getBean(&quot;myFirstService&quot;, &quot;simulated Dynamic Parameter Two&quot;);\r\n        System.out.println(transferService.toString());\r\n    }\r\n\r\nUsing Spring 3.2.8 and Java 7, gives this output:\r\n\r\n    value of count:1\r\n    com.spring3demo.account.repository.InMemoryAccountRepository@4da8692d\r\n    com.spring3demo.account.repository.InMemoryAccountRepository@4da8692d\r\n    value of count:2\r\n    Using name value of: simulated Dynamic Parameter One\r\n    com.spring3demo.account.service.TransferServiceImpl@634d6f2c\r\n    value of count:3\r\n    Using name value of: simulated Dynamic Parameter Two\r\n    com.spring3demo.account.service.TransferServiceImpl@70bde4a2\r\n\r\nSo the &#39;Singleton&#39; Bean is requested twice.  However as we would expect, Spring only creates it once.  The second time it sees that it has that bean and just returns the existing object.  The constructor (@Bean method) is not invoked a second time.  In deference to this, when the &#39;Prototype&#39; Bean is requested from the same context object twice we see that the reference changes in the output AND that the constructor (@Bean method) IS invoked twice.\r\n\r\nSo then the question is how to inject a singleton into a prototype.  The configuration class above shows how to do that too!  You should pass all such references into the constructor.  This will allow the created class to be a pure POJO as well as making the contained reference objects immutable as they should be.  So the transfer service might look something like:\r\n\r\n    \r\n    public class TransferServiceImpl implements TransferService {\r\n\r\n        private final String name;\r\n    \r\n        private final AccountRepository accountRepository;\r\n\r\n        public TransferServiceImpl(AccountRepository accountRepository, String name) {\r\n            this.name = name;\r\n            // system out here is only because this is a dumb test usage\r\n            System.out.println(&quot;Using name value of: &quot; + this.name);\r\n\r\n            this.accountRepository = accountRepository;\r\n        }\r\n        ....\r\n    }\r\n\r\nIf you write Unit Tests you will be ever so happy you created the classes this without all the @Autowired.  If you do need autowired components keep those local to the java config files.\r\n\r\nThis will call the method below in the BeanFactory.  Note in the description how this is intended for your exact use case.\r\n\r\n    /**\r\n\t * Return an instance, which may be shared or independent, of the specified bean.\r\n\t * &lt;p&gt;Allows for specifying explicit constructor arguments / factory method arguments,\r\n\t * overriding the specified default arguments (if any) in the bean definition.\r\n\t * @param name the name of the bean to retrieve\r\n\t * @param args arguments to use if creating a prototype using explicit arguments to a\r\n\t * static factory method. It is invalid to use a non-null args value in any other case.\r\n\t * @return an instance of the bean\r\n\t * @throws NoSuchBeanDefinitionException if there is no such bean definition\r\n\t * @throws BeanDefinitionStoreException if arguments have been given but\r\n\t * the affected bean isn&#39;t a prototype\r\n\t * @throws BeansException if the bean could not be created\r\n\t * @since 2.5\r\n\t */\r\n\tObject getBean(String name, Object... args) throws BeansException;","title":"Spring Java Config: how do you create a prototype-scoped @Bean with runtime arguments?","body":"<p><strong>UPDATED per comment</strong></p>\n\n<p>First, I'm not sure why you say \"this does not work\" for something that works just fine in Spring 3.x.  I suspect something must be wrong in your configuration somewhere.  </p>\n\n<p>This works:</p>\n\n<p>-- Config File:</p>\n\n<pre><code>@Configuration\npublic class ServiceConfig {\n    // only here to demo execution order\n    private int count = 1;\n\n    @Bean\n    @Scope(value = \"prototype\")\n    public TransferService myFirstService(String param) {\n       System.out.println(\"value of count:\" + count++);\n       return new TransferServiceImpl(aSingletonBean(), param);\n    }\n\n    @Bean\n    public AccountRepository aSingletonBean() {\n        System.out.println(\"value of count:\" + count++);\n        return new InMemoryAccountRepository();\n    }\n}\n</code></pre>\n\n<p>-- Test File to execute:</p>\n\n<pre><code>@Test\npublic void prototypeTest() {\n    // create the spring container using the ServiceConfig @Configuration class\n    ApplicationContext ctx = new AnnotationConfigApplicationContext(ServiceConfig.class);\n    Object singleton = ctx.getBean(\"aSingletonBean\");\n    System.out.println(singleton.toString());\n    singleton = ctx.getBean(\"aSingletonBean\");\n    System.out.println(singleton.toString());\n    TransferService transferService = ctx.getBean(\"myFirstService\", \"simulated Dynamic Parameter One\");\n    System.out.println(transferService.toString());\n    transferService = ctx.getBean(\"myFirstService\", \"simulated Dynamic Parameter Two\");\n    System.out.println(transferService.toString());\n}\n</code></pre>\n\n<p>Using Spring 3.2.8 and Java 7, gives this output:</p>\n\n<pre><code>value of count:1\ncom.spring3demo.account.repository.InMemoryAccountRepository@4da8692d\ncom.spring3demo.account.repository.InMemoryAccountRepository@4da8692d\nvalue of count:2\nUsing name value of: simulated Dynamic Parameter One\ncom.spring3demo.account.service.TransferServiceImpl@634d6f2c\nvalue of count:3\nUsing name value of: simulated Dynamic Parameter Two\ncom.spring3demo.account.service.TransferServiceImpl@70bde4a2\n</code></pre>\n\n<p>So the 'Singleton' Bean is requested twice.  However as we would expect, Spring only creates it once.  The second time it sees that it has that bean and just returns the existing object.  The constructor (@Bean method) is not invoked a second time.  In deference to this, when the 'Prototype' Bean is requested from the same context object twice we see that the reference changes in the output AND that the constructor (@Bean method) IS invoked twice.</p>\n\n<p>So then the question is how to inject a singleton into a prototype.  The configuration class above shows how to do that too!  You should pass all such references into the constructor.  This will allow the created class to be a pure POJO as well as making the contained reference objects immutable as they should be.  So the transfer service might look something like:</p>\n\n<pre><code>public class TransferServiceImpl implements TransferService {\n\n    private final String name;\n\n    private final AccountRepository accountRepository;\n\n    public TransferServiceImpl(AccountRepository accountRepository, String name) {\n        this.name = name;\n        // system out here is only because this is a dumb test usage\n        System.out.println(\"Using name value of: \" + this.name);\n\n        this.accountRepository = accountRepository;\n    }\n    ....\n}\n</code></pre>\n\n<p>If you write Unit Tests you will be ever so happy you created the classes this without all the @Autowired.  If you do need autowired components keep those local to the java config files.</p>\n\n<p>This will call the method below in the BeanFactory.  Note in the description how this is intended for your exact use case.</p>\n\n<pre><code>/**\n * Return an instance, which may be shared or independent, of the specified bean.\n * &lt;p&gt;Allows for specifying explicit constructor arguments / factory method arguments,\n * overriding the specified default arguments (if any) in the bean definition.\n * @param name the name of the bean to retrieve\n * @param args arguments to use if creating a prototype using explicit arguments to a\n * static factory method. It is invalid to use a non-null args value in any other case.\n * @return an instance of the bean\n * @throws NoSuchBeanDefinitionException if there is no such bean definition\n * @throws BeanDefinitionStoreException if arguments have been given but\n * the affected bean isn't a prototype\n * @throws BeansException if the bean could not be created\n * @since 2.5\n */\nObject getBean(String name, Object... args) throws BeansException;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5976079,"reputation":1506,"user_id":4696890,"display_name":"Roman Golyshev"},"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1513899014,"creation_date":1493057303,"answer_id":43594962,"question_id":22155832,"body_markdown":"With Spring &gt; 4.0 and Java 8 you can do this more type-safely: \r\n\r\n    @Configuration    \r\n    public class ServiceConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic Function&lt;String, Thing&gt; thingFactory() {\r\n    \t\treturn name -&gt; thing(name); // or this::thing\r\n    \t} \r\n    \r\n        @Bean\r\n        @Scope(value = &quot;prototype&quot;)\r\n        public Thing thing(String name) {\r\n           return new Thing(name);\r\n        }\r\n    \r\n    }\r\n\r\nUsage: \r\n\r\n    @Autowired\r\n    private Function&lt;String, Thing&gt; thingFactory;\r\n    \r\n    public void onRequest(Request request) {\r\n        //request is already validated\r\n        String name = request.getParameter(&quot;name&quot;);\r\n        Thing thing = thingFactory.apply(name);\r\n    \r\n        // ...\r\n    }\r\n\r\nSo now you can get your bean at runtime. This is a factory pattern of course, but you can save some time on writing specific class like `ThingFactory` (however you will have to write custom `@FunctionalInterface` to pass more than two parameters).","title":"Spring Java Config: how do you create a prototype-scoped @Bean with runtime arguments?","body":"<p>With Spring > 4.0 and Java 8 you can do this more type-safely: </p>\n\n<pre><code>@Configuration    \npublic class ServiceConfig {\n\n    @Bean\n    public Function&lt;String, Thing&gt; thingFactory() {\n        return name -&gt; thing(name); // or this::thing\n    } \n\n    @Bean\n    @Scope(value = \"prototype\")\n    public Thing thing(String name) {\n       return new Thing(name);\n    }\n\n}\n</code></pre>\n\n<p>Usage: </p>\n\n<pre><code>@Autowired\nprivate Function&lt;String, Thing&gt; thingFactory;\n\npublic void onRequest(Request request) {\n    //request is already validated\n    String name = request.getParameter(\"name\");\n    Thing thing = thingFactory.apply(name);\n\n    // ...\n}\n</code></pre>\n\n<p>So now you can get your bean at runtime. This is a factory pattern of course, but you can save some time on writing specific class like <code>ThingFactory</code> (however you will have to write custom <code>@FunctionalInterface</code> to pass more than two parameters).</p>\n"},{"tags":[],"owner":{"account_id":3044863,"reputation":958,"user_id":2580829,"display_name":"David Barda"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1588445027,"creation_date":1535238819,"answer_id":52021965,"question_id":22155832,"body_markdown":"Since Spring 4.3, there is new way to do it, which was sewed for that issue.\r\n\r\n[ObjectProvider][1] - It enables you just to add it as a dependency to your &quot;argumented&quot; Prototype scoped bean and to instantiate it using the argument.\r\n\r\nHere is a simple example of how to use it:\r\n\r\n    @Configuration\r\n    public class MyConf {\r\n        @Bean\r\n        @Scope(BeanDefinition.SCOPE_PROTOTYPE)\r\n        public MyPrototype createPrototype(String arg) {\r\n            return new MyPrototype(arg);\r\n        }\r\n    }\r\n\r\n    public class MyPrototype {\r\n        private String arg;\r\n    \r\n        public MyPrototype(String arg) {\r\n            this.arg = arg;\r\n        }\r\n    \r\n        public void action() {\r\n            System.out.println(arg);\r\n        }\r\n    }\r\n\r\n\r\n    @Component\r\n    public class UsingMyPrototype {\r\n        private ObjectProvider&lt;MyPrototype&gt; myPrototypeProvider;\r\n    \r\n        @Autowired\r\n        public UsingMyPrototype(ObjectProvider&lt;MyPrototype&gt; myPrototypeProvider) {\r\n            this.myPrototypeProvider = myPrototypeProvider;\r\n        }\r\n    \r\n        public void usePrototype() {\r\n            final MyPrototype myPrototype = myPrototypeProvider.getObject(&quot;hello&quot;);\r\n            myPrototype.action();\r\n        }\r\n    }\r\n\r\nThis will of course print hello string when calling usePrototype.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/ObjectProvider.html","title":"Spring Java Config: how do you create a prototype-scoped @Bean with runtime arguments?","body":"<p>Since Spring 4.3, there is new way to do it, which was sewed for that issue.</p>\n\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/ObjectProvider.html\" rel=\"noreferrer\">ObjectProvider</a> - It enables you just to add it as a dependency to your \"argumented\" Prototype scoped bean and to instantiate it using the argument.</p>\n\n<p>Here is a simple example of how to use it:</p>\n\n<pre><code>@Configuration\npublic class MyConf {\n    @Bean\n    @Scope(BeanDefinition.SCOPE_PROTOTYPE)\n    public MyPrototype createPrototype(String arg) {\n        return new MyPrototype(arg);\n    }\n}\n\npublic class MyPrototype {\n    private String arg;\n\n    public MyPrototype(String arg) {\n        this.arg = arg;\n    }\n\n    public void action() {\n        System.out.println(arg);\n    }\n}\n\n\n@Component\npublic class UsingMyPrototype {\n    private ObjectProvider&lt;MyPrototype&gt; myPrototypeProvider;\n\n    @Autowired\n    public UsingMyPrototype(ObjectProvider&lt;MyPrototype&gt; myPrototypeProvider) {\n        this.myPrototypeProvider = myPrototypeProvider;\n    }\n\n    public void usePrototype() {\n        final MyPrototype myPrototype = myPrototypeProvider.getObject(\"hello\");\n        myPrototype.action();\n    }\n}\n</code></pre>\n\n<p>This will of course print hello string when calling usePrototype.</p>\n"},{"tags":[],"owner":{"account_id":4485155,"reputation":612,"user_id":9852290,"display_name":"pmartycz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541193269,"creation_date":1541192554,"answer_id":53125791,"question_id":22155832,"body_markdown":"You can achieve a similar effect just by using an [inner class](https://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html):\r\n\r\n    @Component\r\n    class ThingFactory {\r\n        private final SomeBean someBean;\r\n    \r\n        ThingFactory(SomeBean someBean) {\r\n            this.someBean = someBean;\r\n        }\r\n    \r\n        Thing getInstance(String name) {\r\n            return new Thing(name);\r\n        }\r\n    \r\n        class Thing {\r\n            private final String name;\r\n    \r\n            Thing(String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            void foo() {\r\n                System.out.format(&quot;My name is %s and I can &quot; +\r\n                        &quot;access bean from outer class %s&quot;, name, someBean);\r\n            }\r\n        }\r\n    }","title":"Spring Java Config: how do you create a prototype-scoped @Bean with runtime arguments?","body":"<p>You can achieve a similar effect just by using an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html\" rel=\"nofollow noreferrer\">inner class</a>:</p>\n\n<pre><code>@Component\nclass ThingFactory {\n    private final SomeBean someBean;\n\n    ThingFactory(SomeBean someBean) {\n        this.someBean = someBean;\n    }\n\n    Thing getInstance(String name) {\n        return new Thing(name);\n    }\n\n    class Thing {\n        private final String name;\n\n        Thing(String name) {\n            this.name = name;\n        }\n\n        void foo() {\n            System.out.format(\"My name is %s and I can \" +\n                    \"access bean from outer class %s\", name, someBean);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1565632220,"creation_date":1565521415,"answer_id":57449425,"question_id":22155832,"body_markdown":"Late answer with a slightly different approach. \r\nThat is a follow up of this [recent question][1] that refers this question itself.     \r\n   \r\nYes, as that was said you can declare the prototype bean that accepts a parameter in a `@Configuration` class that allows to create a new bean at each injection.   \r\nThat will make this `@Configuration`  class a factory and to not give this factory too much responsibilities, this should not include other beans.  \r\n\r\n    @Configuration    \r\n    public class ServiceFactory {\r\n        \r\n        @Bean\r\n        @Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n        public Thing thing(String name) {\r\n           return new Thing(name);\r\n       }\r\n    \r\n    }\r\n\r\nBut you can also inject that configuration bean to create `Thing`s : \r\n\r\n    @Autowired\r\n    private ServiceFactory serviceFactory;\r\n    \r\n    public void onRequest(Request request) {\r\n        //request is already validated\r\n        String name = request.getParameter(&quot;name&quot;);\r\n        Thing thing = serviceFactory.thing(name); // create a new bean at each invocation\r\n        // ...    \r\n    }\r\n\r\nIt is both type-safe and concise.  \r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57311147/create-request-scoped-beans-from-a-java-8-function/","title":"Spring Java Config: how do you create a prototype-scoped @Bean with runtime arguments?","body":"<p>Late answer with a slightly different approach. \nThat is a follow up of this <a href=\"https://stackoverflow.com/questions/57311147/create-request-scoped-beans-from-a-java-8-function/\">recent question</a> that refers this question itself.     </p>\n\n<p>Yes, as that was said you can declare the prototype bean that accepts a parameter in a <code>@Configuration</code> class that allows to create a new bean at each injection.<br>\nThat will make this <code>@Configuration</code>  class a factory and to not give this factory too much responsibilities, this should not include other beans.  </p>\n\n<pre><code>@Configuration    \npublic class ServiceFactory {\n\n    @Bean\n    @Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n    public Thing thing(String name) {\n       return new Thing(name);\n   }\n\n}\n</code></pre>\n\n<p>But you can also inject that configuration bean to create <code>Thing</code>s : </p>\n\n<pre><code>@Autowired\nprivate ServiceFactory serviceFactory;\n\npublic void onRequest(Request request) {\n    //request is already validated\n    String name = request.getParameter(\"name\");\n    Thing thing = serviceFactory.thing(name); // create a new bean at each invocation\n    // ...    \n}\n</code></pre>\n\n<p>It is both type-safe and concise.  </p>\n"},{"tags":[],"owner":{"account_id":16836679,"reputation":11,"user_id":12173161,"display_name":"manpreet singh"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1570383876,"creation_date":1570383876,"answer_id":58259808,"question_id":22155832,"body_markdown":"in your beans xml file use the attribute ***scope=&quot;prototype&quot;***\r\n\r\n\t","title":"Spring Java Config: how do you create a prototype-scoped @Bean with runtime arguments?","body":"<p>in your beans xml file use the attribute <strong><em>scope=\"prototype\"</em></strong></p>\n"},{"tags":[],"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608388422,"creation_date":1608387428,"answer_id":65370727,"question_id":22155832,"body_markdown":"If you need to create a **qualified bean** you can do it this way:\r\n\r\n````java\r\n@Configuration\r\npublic class ThingConfiguration {\r\n\r\n   @Bean\r\n   @Scope(SCOPE_PROTOTYPE)\r\n   public Thing simpleThing(String name) {\r\n       return new Thing(name);\r\n   }\r\n\r\n   @Bean\r\n   @Scope(SCOPE_PROTOTYPE)\r\n   public Thing specialThing(String name) {\r\n       Thing thing = new Thing(name);\r\n       // some special configuration\r\n       return thing;\r\n   }\r\n\r\n}\r\n\r\n// Usage \r\n\r\n@Autowired\r\nprivate ApplicationContext context;\r\n\r\nAutowireCapableBeanFactory beanFactory = context.getAutowireCapableBeanFactory();\r\n((DefaultListableBeanFactory) beanFactory).getBean(&quot;specialThing&quot;, Thing.class, &quot;name&quot;);\r\n\r\n````","title":"Spring Java Config: how do you create a prototype-scoped @Bean with runtime arguments?","body":"<p>If you need to create a <strong>qualified bean</strong> you can do it this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ThingConfiguration {\n\n   @Bean\n   @Scope(SCOPE_PROTOTYPE)\n   public Thing simpleThing(String name) {\n       return new Thing(name);\n   }\n\n   @Bean\n   @Scope(SCOPE_PROTOTYPE)\n   public Thing specialThing(String name) {\n       Thing thing = new Thing(name);\n       // some special configuration\n       return thing;\n   }\n\n}\n\n// Usage \n\n@Autowired\nprivate ApplicationContext context;\n\nAutowireCapableBeanFactory beanFactory = context.getAutowireCapableBeanFactory();\n((DefaultListableBeanFactory) beanFactory).getBean(&quot;specialThing&quot;, Thing.class, &quot;name&quot;);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3014567,"reputation":56,"user_id":2557118,"display_name":"Mihai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658300065,"creation_date":1658299688,"answer_id":73047081,"question_id":22155832,"body_markdown":"Nice solutions until now. But I want to post yet another alternative.\r\nSpring has the `@Lookup` annotation. From javadoc: \r\n\r\n&gt; An annotation that indicates &#39;lookup&#39; methods, to be overridden by the\r\n&gt; container to redirect them back to the BeanFactory for a getBean call.\r\n\r\nyou can declare your `Thing` as prototype bean:\r\n\r\n    @Component\r\n    @Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n    public class Thing {\r\n    \r\n        @Autowired\r\n        private SomeComponent someComponent;\r\n    \r\n        @Autowired\r\n        private AnotherComponent anotherComponent;\r\n    \r\n        public Thing(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\nthen you can create instances by creating a method like `createThing` below  in any other bean:\r\n\r\n    @Controller\r\n    public class MyController {\r\n    \r\n        @Autowired\r\n        private ApplicationContext appCtx;\r\n    \r\n        public void onRequest(Request request) {\r\n            //request is already validated\r\n            String name = request.getParameter(&quot;name&quot;);\r\n            Thing thing = createThing(name);\r\n    \r\n            //System.out.println(thing.getName()); //prints name\r\n        }\r\n        \r\n        //or public. And can be put in any @Component (including @Configuration)\r\n        @Lookup\r\n        protected Thing createThing(String name) {\r\n            throw new UnsupportedOperationException(&quot;Method implemented by Spring.&quot;);\r\n        }\r\n    }","title":"Spring Java Config: how do you create a prototype-scoped @Bean with runtime arguments?","body":"<p>Nice solutions until now. But I want to post yet another alternative.\nSpring has the <code>@Lookup</code> annotation. From javadoc:</p>\n<blockquote>\n<p>An annotation that indicates 'lookup' methods, to be overridden by the\ncontainer to redirect them back to the BeanFactory for a getBean call.</p>\n</blockquote>\n<p>you can declare your <code>Thing</code> as prototype bean:</p>\n<pre><code>@Component\n@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\npublic class Thing {\n\n    @Autowired\n    private SomeComponent someComponent;\n\n    @Autowired\n    private AnotherComponent anotherComponent;\n\n    public Thing(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>then you can create instances by creating a method like <code>createThing</code> below  in any other bean:</p>\n<pre><code>@Controller\npublic class MyController {\n\n    @Autowired\n    private ApplicationContext appCtx;\n\n    public void onRequest(Request request) {\n        //request is already validated\n        String name = request.getParameter(&quot;name&quot;);\n        Thing thing = createThing(name);\n\n        //System.out.println(thing.getName()); //prints name\n    }\n    \n    //or public. And can be put in any @Component (including @Configuration)\n    @Lookup\n    protected Thing createThing(String name) {\n        throw new UnsupportedOperationException(&quot;Method implemented by Spring.&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130040,"favorite_count":0,"down_vote_count":0,"up_vote_count":180,"accepted_answer_id":22184027,"answer_count":9,"score":180,"last_activity_date":1658300065,"creation_date":1393875823,"question_id":22155832,"body_markdown":"Using Spring&#39;s Java Config, I need to acquire/instantiate a prototype-scoped bean with constructor arguments that are only obtainable at runtime.  Consider the following code example (simplified for brevity):\r\n\r\n    @Autowired\r\n    private ApplicationContext appCtx;\r\n    \r\n    public void onRequest(Request request) {\r\n        //request is already validated\r\n        String name = request.getParameter(&quot;name&quot;);\r\n        Thing thing = appCtx.getBean(Thing.class, name);\r\n \r\n        //System.out.println(thing.getName()); //prints name\r\n    }\r\n\r\nwhere the Thing class is defined as follows:\r\n\r\n    public class Thing {\r\n    \r\n        private final String name;\r\n\r\n        @Autowired\r\n        private SomeComponent someComponent;\r\n\r\n        @Autowired\r\n        private AnotherComponent anotherComponent;\r\n\r\n        public Thing(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n    }\r\n\r\nNotice `name` is `final`: it can only be supplied via a constructor, and guarantees immutability.  The other dependencies are implementation-specific dependencies of the `Thing` class, and shouldn&#39;t be known to (tightly coupled to) the request handler implementation.\r\n\r\nThis code works perfectly well with Spring XML config, for example:\r\n\r\n    &lt;bean id=&quot;thing&quot;, class=&quot;com.whatever.Thing&quot; scope=&quot;prototype&quot;&gt;\r\n        &lt;!-- other post-instantiation properties omitted --&gt;\r\n    &lt;/bean&gt;\r\n\r\nHow do I achieve the same thing with Java config?  The following does not work using Spring 3.x:\r\n\r\n    @Bean\r\n    @Scope(&quot;prototype&quot;)\r\n    public Thing thing(String name) {\r\n        return new Thing(name);\r\n    }\r\n\r\nNow, I *could* create a Factory, e.g.:\r\n\r\n    public interface ThingFactory {\r\n        public Thing createThing(String name);\r\n    }\r\n\r\nBut that _defeats the entire point of using Spring to replace the ServiceLocator and Factory design pattern_, which would be ideal for this use case.\r\n\r\nIf Spring Java Config could do this, I would be able to avoid:\r\n\r\n* defining a Factory interface\r\n* defining a Factory implementation\r\n* writing tests for the Factory implementation\r\n\r\nThat&#39;s a ton of work (relatively speaking) for something so trivial that Spring already supports via XML config.","title":"Spring Java Config: how do you create a prototype-scoped @Bean with runtime arguments?","body":"<p>Using Spring's Java Config, I need to acquire/instantiate a prototype-scoped bean with constructor arguments that are only obtainable at runtime.  Consider the following code example (simplified for brevity):</p>\n\n<pre><code>@Autowired\nprivate ApplicationContext appCtx;\n\npublic void onRequest(Request request) {\n    //request is already validated\n    String name = request.getParameter(\"name\");\n    Thing thing = appCtx.getBean(Thing.class, name);\n\n    //System.out.println(thing.getName()); //prints name\n}\n</code></pre>\n\n<p>where the Thing class is defined as follows:</p>\n\n<pre><code>public class Thing {\n\n    private final String name;\n\n    @Autowired\n    private SomeComponent someComponent;\n\n    @Autowired\n    private AnotherComponent anotherComponent;\n\n    public Thing(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n}\n</code></pre>\n\n<p>Notice <code>name</code> is <code>final</code>: it can only be supplied via a constructor, and guarantees immutability.  The other dependencies are implementation-specific dependencies of the <code>Thing</code> class, and shouldn't be known to (tightly coupled to) the request handler implementation.</p>\n\n<p>This code works perfectly well with Spring XML config, for example:</p>\n\n<pre><code>&lt;bean id=\"thing\", class=\"com.whatever.Thing\" scope=\"prototype\"&gt;\n    &lt;!-- other post-instantiation properties omitted --&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>How do I achieve the same thing with Java config?  The following does not work using Spring 3.x:</p>\n\n<pre><code>@Bean\n@Scope(\"prototype\")\npublic Thing thing(String name) {\n    return new Thing(name);\n}\n</code></pre>\n\n<p>Now, I <em>could</em> create a Factory, e.g.:</p>\n\n<pre><code>public interface ThingFactory {\n    public Thing createThing(String name);\n}\n</code></pre>\n\n<p>But that <em>defeats the entire point of using Spring to replace the ServiceLocator and Factory design pattern</em>, which would be ideal for this use case.</p>\n\n<p>If Spring Java Config could do this, I would be able to avoid:</p>\n\n<ul>\n<li>defining a Factory interface</li>\n<li>defining a Factory implementation</li>\n<li>writing tests for the Factory implementation</li>\n</ul>\n\n<p>That's a ton of work (relatively speaking) for something so trivial that Spring already supports via XML config.</p>\n"},{"tags":["java","android","chat"],"comments":[{"owner":{"account_id":22838280,"reputation":3,"user_id":16985739,"display_name":"Miro"},"score":1,"creation_date":1658301229,"post_id":73047122,"comment_id":129014395,"body_markdown":"check this [link](https://stackoverflow.com/questions/26580723/how-to-scroll-to-the-bottom-of-a-recyclerview-scrolltoposition-doesnt-work). I hope it will help you.","body":"check this <a href=\"https://stackoverflow.com/questions/26580723/how-to-scroll-to-the-bottom-of-a-recyclerview-scrolltoposition-doesnt-work\">link</a>. I hope it will help you."},{"owner":{"account_id":22838280,"reputation":3,"user_id":16985739,"display_name":"Miro"},"score":0,"creation_date":1658385851,"post_id":73047122,"comment_id":129039298,"body_markdown":"I found this [question]:https://stackoverflow.com/questions/26580723/how-to-scroll-to-the-bottom-of-a-recyclerview-scrolltoposition-doesnt-work\nI hope it is useful for you.","body":"I found this [question]:<a href=\"https://stackoverflow.com/questions/26580723/how-to-scroll-to-the-bottom-of-a-recyclerview-scrolltoposition-doesnt-work\" title=\"how to scroll to the bottom of a recyclerview scrolltoposition doesnt work\">stackoverflow.com/questions/26580723/&hellip;</a> I hope it is useful for you."}],"owner":{"account_id":7085334,"reputation":1,"user_id":5422302,"display_name":"Kendra Hammond"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658299928,"creation_date":1658299928,"question_id":73047122,"body_markdown":"I am developing a chat app in android and its my first time. I have been able to list the messages from the adapter into the ChatActivity but it is not scrolling to the last message. The messages include both text and images. Any help please\r\n\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_group_chat);\r\n\r\n        GroupNameRef.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                if (snapshot.exists()){\r\n                    DisplayMessages(snapshot);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                if (snapshot.exists()){\r\n                    DisplayMessages(snapshot);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nprivate void DisplayMessages(DataSnapshot snapshot) {\r\n        Messages messages = snapshot.getValue(Messages.class);\r\n\r\n        messagesList.add(messages);\r\n\r\n        messageAdapter.notifyDataSetChanged();\r\n\r\n        userMessagesList.scrollToPosition(userMessagesList.getAdapter().getItemCount() - 1);\r\n    }\r\n\r\n```","title":"Android Chat Messages Not Scrolling to Last Message","body":"<p>I am developing a chat app in android and its my first time. I have been able to list the messages from the adapter into the ChatActivity but it is not scrolling to the last message. The messages include both text and images. Any help please</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_group_chat);\n\n        GroupNameRef.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n                if (snapshot.exists()){\n                    DisplayMessages(snapshot);\n                }\n            }\n\n            @Override\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n                if (snapshot.exists()){\n                    DisplayMessages(snapshot);\n                }\n            }\n\n            @Override\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\n\n            }\n\n            @Override\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n}\n\nprivate void DisplayMessages(DataSnapshot snapshot) {\n        Messages messages = snapshot.getValue(Messages.class);\n\n        messagesList.add(messages);\n\n        messageAdapter.notifyDataSetChanged();\n\n        userMessagesList.scrollToPosition(userMessagesList.getAdapter().getItemCount() - 1);\n    }\n\n</code></pre>\n"},{"tags":["java","applet"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1418460228,"post_id":27457052,"comment_id":43351299,"body_markdown":"Look at `java.io` package, you will find everything you need to open a file, read/write it, etc. `BufferedReader` is a basic standard needs that lets you read `String`s.","body":"Look at <code>java.io</code> package, you will find everything you need to open a file, read/write it, etc. <code>BufferedReader</code> is a basic standard needs that lets you read <code>String</code>s."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1418460379,"post_id":27457052,"comment_id":43351336,"body_markdown":"Avoid using `null` layouts, pixel perfect layouts are an illusion within modern ui design.  There are too many factors which affect the individual size of components, none of which you can control. Swing was designed to work with layout managers at the core, discarding these will lead to no end of issues and problems that you will spend more and more time trying to rectify","body":"Avoid using <code>null</code> layouts, pixel perfect layouts are an illusion within modern ui design.  There are too many factors which affect the individual size of components, none of which you can control. Swing was designed to work with layout managers at the core, discarding these will lead to no end of issues and problems that you will spend more and more time trying to rectify"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1418460498,"post_id":27457052,"comment_id":43351358,"body_markdown":"Applets reside within a very restrictive sandbox, which prevents them from doing things that you might normally do, like basic I/O, take a look at [What Applets Can and Cannot Do](https://docs.oracle.com/javase/tutorial/deployment/applet/security.html) for more details","body":"Applets reside within a very restrictive sandbox, which prevents them from doing things that you might normally do, like basic I/O, take a look at <a href=\"https://docs.oracle.com/javase/tutorial/deployment/applet/security.html\" rel=\"nofollow noreferrer\">What Applets Can and Cannot Do</a> for more details"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1418460699,"post_id":27457052,"comment_id":43351407,"body_markdown":"FYI: AWT is pretty dated and went out of general use in the early 2000&#39;s.  You might consider looking into Swing or JavaFX for alternatives","body":"FYI: AWT is pretty dated and went out of general use in the early 2000&#39;s.  You might consider looking into Swing or JavaFX for alternatives"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1418460760,"post_id":27457052,"comment_id":43351419,"body_markdown":"Now, what do you mean by &quot;open&quot;?  Do you mean open in an external program (like NotePad) or open the file, read it&#39;s contents and show it within your program?","body":"Now, what do you mean by &quot;open&quot;?  Do you mean open in an external program (like NotePad) or open the file, read it&#39;s contents and show it within your program?"},{"owner":{"account_id":3998821,"reputation":686,"user_id":3892761,"accept_rate":55,"display_name":"bonny"},"score":0,"creation_date":1418551314,"post_id":27457052,"comment_id":43371682,"body_markdown":"okie so you mean to say that I shall make this using swing or java alternatives???&lt;br&gt;And ya, I want to open it in notepad or wordpad if possible..!!!&lt;br&gt; And I just started to learn java this much within weeks, I got the chapter of applet so I made it but some issues I created myself like this one, as I&#39;ll learn more, I&#39;ll create issues more..&lt;br&gt;Swing maybe after applet so I&#39;d better start learning.Thanx for the replies..&lt;br&gt; And ya, I&#39;ll try Desktop.getDesktop().open(filename); command and reply u soon.&lt;br&gt; thanx again for the help!!!","body":"okie so you mean to say that I shall make this using swing or java alternatives???&lt;br&gt;And ya, I want to open it in notepad or wordpad if possible..!!!&lt;br&gt; And I just started to learn java this much within weeks, I got the chapter of applet so I made it but some issues I created myself like this one, as I&#39;ll learn more, I&#39;ll create issues more..&lt;br&gt;Swing maybe after applet so I&#39;d better start learning.Thanx for the replies..&lt;br&gt; And ya, I&#39;ll try Desktop.getDesktop().open(filename); command and reply u soon.&lt;br&gt; thanx again for the help!!!"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1418596205,"post_id":27457052,"comment_id":43384052,"body_markdown":"*&quot;..I got the chapter of applet..&quot;*  Skip it and get on with more useful things.","body":"<i>&quot;..I got the chapter of applet..&quot;</i>  Skip it and get on with more useful things."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658299755,"creation_date":1418460530,"answer_id":27457103,"question_id":27457052,"body_markdown":"One can use the [Desktop][1] class to let the system open, edit, print, browse a file.\r\n\r\n    Desktop.getDesktop().open(file);\r\n\r\nThis means an external application.\r\n\r\nYou might consider writing an HTML file, to make all a bit more stylish.\r\n\r\n-------------------\r\n***After commenting of @MadProgrammer:***\r\n\r\nFor a sandboxed applet, that has extra security restrictions when run over the internet,\r\nit might be better to let the applet open a second window and display the text. The text then need not be written to a file.\r\n\r\n***If you want the file to be on your server*** to save the typed data, that would be a wrong thought: the applet is run in the client&#39;s browser.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/awt/Desktop.html","title":"I want to open a file just with one click of button in java in a new window","body":"<p>One can use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Desktop.html\" rel=\"nofollow noreferrer\">Desktop</a> class to let the system open, edit, print, browse a file.</p>\n<pre><code>Desktop.getDesktop().open(file);\n</code></pre>\n<p>This means an external application.</p>\n<p>You might consider writing an HTML file, to make all a bit more stylish.</p>\n<hr />\n<p><em><strong>After commenting of @MadProgrammer:</strong></em></p>\n<p>For a sandboxed applet, that has extra security restrictions when run over the internet,\nit might be better to let the applet open a second window and display the text. The text then need not be written to a file.</p>\n<p><em><strong>If you want the file to be on your server</strong></em> to save the typed data, that would be a wrong thought: the applet is run in the client's browser.</p>\n"},{"tags":[],"owner":{"account_id":15029735,"reputation":85,"user_id":10848253,"display_name":"Chauncey Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564329842,"creation_date":1564327047,"answer_id":57242224,"question_id":27457052,"body_markdown":"below it is my code to open an .exe in my netbeans GUI program:\r\n\r\n```\r\n private void clockActionPerformed(java.awt.event.ActionEvent evt) {                                      \r\n      try { \r\n            // file path to  open\r\n            File u = new File(&quot;C:\\\\Program Files (x86)\\\\Desktop Countdown Timer\\\\DesktopCountdownTimer.exe&quot;); \r\n  \r\n            Desktop d = Desktop.getDesktop(); \r\n            d.open(u); \r\n        } catch (IOException eevt) { \r\n            JOptionPane.showMessageDialog(this, eevt.getMessage()); \r\n        } \r\n    }        \r\n```","title":"I want to open a file just with one click of button in java in a new window","body":"<p>below it is my code to open an .exe in my netbeans GUI program:</p>\n\n<pre><code> private void clockActionPerformed(java.awt.event.ActionEvent evt) {                                      \n      try { \n            // file path to  open\n            File u = new File(\"C:\\\\Program Files (x86)\\\\Desktop Countdown Timer\\\\DesktopCountdownTimer.exe\"); \n\n            Desktop d = Desktop.getDesktop(); \n            d.open(u); \n        } catch (IOException eevt) { \n            JOptionPane.showMessageDialog(this, eevt.getMessage()); \n        } \n    }        \n</code></pre>\n"}],"owner":{"account_id":3998821,"reputation":686,"user_id":3892761,"accept_rate":55,"display_name":"bonny"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3077,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27457103,"answer_count":2,"score":2,"last_activity_date":1658299755,"creation_date":1418460006,"question_id":27457052,"body_markdown":"My file is 1.txt and I want to open it using java such that on pressing a button, that file should open up!!&lt;br&gt;\r\nIs there any command through actionlistener to open the file and patch it with the button??&lt;br&gt;\r\nThis is my simple applet program in java..&lt;br&gt;\r\n\r\n    import java.awt.*;\r\n    import java.applet.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.io.BufferedWriter;\r\n    import java.io.FileWriter;\r\n    import java.io.PrintWriter;\r\n    import java.util.Scanner;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    public class CalculatorApplet extends Applet implements ActionListener {\r\n    \r\n        Button save, view;\r\n        Label fname, lname, email, city, phno;\r\n        TextField t, u, v, w, x;\r\n        Label ans;\r\n        Scanner sc = new Scanner(System.in);\r\n    \r\n        @Override\r\n        public void init() {\r\n            setLayout(null);\r\n    \r\n            // create label to display enter no\r\n            fname = new Label(&quot;Enter First Name : &quot;);\r\n            fname.setBounds(10, 50, 100, 20);\r\n    \r\n            lname = new Label(&quot;Enter Last Name : &quot;);\r\n            lname.setBounds(10, 70, 100, 20);\r\n    \r\n            email = new Label(&quot;Enter Email : &quot;);\r\n            email.setBounds(10, 90, 80, 20);\r\n    \r\n            city = new Label(&quot;Enter City : &quot;);\r\n            city.setBounds(10, 110, 80, 20);\r\n    \r\n            phno = new Label(&quot;Enter Phno : &quot;);\r\n            phno.setBounds(10, 130, 80, 20);\r\n    \r\n            // create textbox for entering number\r\n            t = new TextField();\r\n            t.setBounds(120, 50, 200, 20);\r\n    \r\n            u = new TextField();\r\n            u.setBounds(120, 70, 100, 20);\r\n    \r\n            v = new TextField();\r\n            v.setBounds(120, 90, 200, 20);\r\n    \r\n            w = new TextField();\r\n            w.setBounds(120, 110, 80, 20);\r\n    \r\n            x = new TextField();\r\n            x.setBounds(120, 130, 80, 20);\r\n    \r\n            // create button for finding sqr\r\n            save = new Button(&quot;Save&quot;);\r\n            save.setBounds(120, 150, 70, 30);\r\n    \r\n            // add the action listner on this button\r\n            save.addActionListener(this);\r\n    \r\n            // create button\r\n            view = new Button(&quot;View&quot;);\r\n            view.setBounds(190, 150, 70, 30);\r\n    \r\n            // add the action listner on this button\r\n            view.addActionListener(this);\r\n    \r\n            // add all the components to the frame\r\n            add(fname);\r\n            add(lname);\r\n            add(email);\r\n            add(city);\r\n            add(phno);\r\n            add(t);\r\n            add(u);\r\n            add(v);\r\n            add(w);\r\n            add(x);\r\n            add(save);\r\n            add(view);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n    \r\n            String fnme = t.getText();\r\n            String lnme = u.getText();\r\n            String emal = v.getText();\r\n            String cty = w.getText();\r\n            String phn = x.getText();\r\n    \r\n            if (e.getSource() == save) {\r\n                try (PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(&quot;1.txt&quot;, true)))) {\r\n                    out.println(&quot;First Name :&quot; + fnme);\r\n                    out.println(&quot;Last Name :&quot; + lnme);\r\n                    out.println(&quot;Email Name : &quot; + emal);\r\n                    out.println(&quot;City : &quot; + cty);\r\n                    out.println(&quot;Contact : &quot; + phn);\r\n                    out.println(&quot;----------------------------------------\\n&quot;);\r\n                    out.println(&quot;----------------------------------------\\n&quot;);\r\n                    out.close();\r\n                    t.setText(&quot;&quot;);\r\n                    u.setText(&quot;&quot;);\r\n                    v.setText(&quot;&quot;);\r\n                    w.setText(&quot;&quot;);\r\n                    x.setText(&quot;&quot;);\r\n                } catch (Exception ex) {\r\n                    Logger.getLogger(CalculatorApplet.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }else if(e.getSource() == view){\r\n    //            what to type in here????\r\n    //            needed code here!!!\r\n                        \r\n                        }\r\n        }\r\n    }\r\nI just want to open the file, nothing else..","title":"I want to open a file just with one click of button in java in a new window","body":"<p>My file is 1.txt and I want to open it using java such that on pressing a button, that file should open up!!<br>\nIs there any command through actionlistener to open the file and patch it with the button??<br>\nThis is my simple applet program in java..<br></p>\n\n<pre><code>import java.awt.*;\nimport java.applet.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.BufferedWriter;\nimport java.io.FileWriter;\nimport java.io.PrintWriter;\nimport java.util.Scanner;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class CalculatorApplet extends Applet implements ActionListener {\n\n    Button save, view;\n    Label fname, lname, email, city, phno;\n    TextField t, u, v, w, x;\n    Label ans;\n    Scanner sc = new Scanner(System.in);\n\n    @Override\n    public void init() {\n        setLayout(null);\n\n        // create label to display enter no\n        fname = new Label(\"Enter First Name : \");\n        fname.setBounds(10, 50, 100, 20);\n\n        lname = new Label(\"Enter Last Name : \");\n        lname.setBounds(10, 70, 100, 20);\n\n        email = new Label(\"Enter Email : \");\n        email.setBounds(10, 90, 80, 20);\n\n        city = new Label(\"Enter City : \");\n        city.setBounds(10, 110, 80, 20);\n\n        phno = new Label(\"Enter Phno : \");\n        phno.setBounds(10, 130, 80, 20);\n\n        // create textbox for entering number\n        t = new TextField();\n        t.setBounds(120, 50, 200, 20);\n\n        u = new TextField();\n        u.setBounds(120, 70, 100, 20);\n\n        v = new TextField();\n        v.setBounds(120, 90, 200, 20);\n\n        w = new TextField();\n        w.setBounds(120, 110, 80, 20);\n\n        x = new TextField();\n        x.setBounds(120, 130, 80, 20);\n\n        // create button for finding sqr\n        save = new Button(\"Save\");\n        save.setBounds(120, 150, 70, 30);\n\n        // add the action listner on this button\n        save.addActionListener(this);\n\n        // create button\n        view = new Button(\"View\");\n        view.setBounds(190, 150, 70, 30);\n\n        // add the action listner on this button\n        view.addActionListener(this);\n\n        // add all the components to the frame\n        add(fname);\n        add(lname);\n        add(email);\n        add(city);\n        add(phno);\n        add(t);\n        add(u);\n        add(v);\n        add(w);\n        add(x);\n        add(save);\n        add(view);\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n        String fnme = t.getText();\n        String lnme = u.getText();\n        String emal = v.getText();\n        String cty = w.getText();\n        String phn = x.getText();\n\n        if (e.getSource() == save) {\n            try (PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(\"1.txt\", true)))) {\n                out.println(\"First Name :\" + fnme);\n                out.println(\"Last Name :\" + lnme);\n                out.println(\"Email Name : \" + emal);\n                out.println(\"City : \" + cty);\n                out.println(\"Contact : \" + phn);\n                out.println(\"----------------------------------------\\n\");\n                out.println(\"----------------------------------------\\n\");\n                out.close();\n                t.setText(\"\");\n                u.setText(\"\");\n                v.setText(\"\");\n                w.setText(\"\");\n                x.setText(\"\");\n            } catch (Exception ex) {\n                Logger.getLogger(CalculatorApplet.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }else if(e.getSource() == view){\n//            what to type in here????\n//            needed code here!!!\n\n                    }\n    }\n}\n</code></pre>\n\n<p>I just want to open the file, nothing else..</p>\n"},{"tags":["java","c++","algorithm","set"],"comments":[{"owner":{"account_id":22445574,"reputation":10709,"user_id":16649550,"display_name":"Pepijn Kramer"},"score":0,"creation_date":1658298887,"post_id":73046900,"comment_id":129013694,"body_markdown":"Anyway Leetcode is not the place to learn C++ nor is it a good environment for getting reliable performance statistics. I think a lot of time is lost by using C++ inefficiently or incorrectly (like creating set&lt;int&gt; over and over again in an inner loop). Really don&#39;t look at other C++ solutions on leetcode, their quality is really poor (from a C++ point of view), learn C++ somewhere else. (Note object lifetime and philosophies differ quite a lot between Java and C++, you would do well to learn the differences)","body":"Anyway Leetcode is not the place to learn C++ nor is it a good environment for getting reliable performance statistics. I think a lot of time is lost by using C++ inefficiently or incorrectly (like creating set&lt;int&gt; over and over again in an inner loop). Really don&#39;t look at other C++ solutions on leetcode, their quality is really poor (from a C++ point of view), learn C++ somewhere else. (Note object lifetime and philosophies differ quite a lot between Java and C++, you would do well to learn the differences)"},{"owner":{"account_id":4534850,"reputation":9434,"user_id":3684343,"display_name":"mch"},"score":0,"creation_date":1658298908,"post_id":73046900,"comment_id":129013700,"body_markdown":"How do you compile the c++ program? How do you measure the time? You pass `string s` per value, instead of by reference, depending on the size of it, it can make a huge difference.","body":"How do you compile the c++ program? How do you measure the time? You pass <code>string s</code> per value, instead of by reference, depending on the size of it, it can make a huge difference."},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1658301925,"post_id":73046900,"comment_id":129014649,"body_markdown":"`alpha[s[i] - &#39;a&#39;]` -- FYI, this will not work on systems that are not ASCII (such as EBCDIC), where the alpha characters are not contiguous in the collating sequence.","body":"<code>alpha[s[i] - &#39;a&#39;]</code> -- FYI, this will not work on systems that are not ASCII (such as EBCDIC), where the alpha characters are not contiguous in the collating sequence."}],"answers":[{"tags":[],"owner":{"account_id":473095,"reputation":85243,"user_id":882003,"accept_rate":78,"display_name":"john"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658299139,"creation_date":1658298885,"answer_id":73046955,"question_id":73046900,"body_markdown":"There is definitely some copying happening in the C++ version that isn&#39;t happening in the Java version. For instance `st` could be a reference\r\n\r\n    set&lt;int&gt;&amp; st = alpha[word[i++] - &#39;a&#39;];\r\n","title":"C++ set slower than Java TreeSet?","body":"<p>There is definitely some copying happening in the C++ version that isn't happening in the Java version. For instance <code>st</code> could be a reference</p>\n<pre><code>set&lt;int&gt;&amp; st = alpha[word[i++] - 'a'];\n</code></pre>\n"}],"owner":{"account_id":16141841,"reputation":71,"user_id":11652735,"display_name":"Adam C"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73046955,"answer_count":1,"score":0,"last_activity_date":1658299139,"creation_date":1658298618,"question_id":73046900,"body_markdown":"I was working on leetcode problem [792. Number of Matching Subsequences](https://leetcode.com/problems/number-of-matching-subsequences/), and one of the initial solutions I came up with was to create a list of ordered sets. Then we can determine if a word is a subsequence of string `s` by trying to find the ceiling of the next available character of string `word` using the current index we are in of `s`. If we can reach the end of `word`, it is then a subsequence, otherwise, it is not.\r\n\r\nI know this is not the optimal solution, but what I found surprising was the solution was able to pass in Java, but not with C++(which is significantly slower). I&#39;m still relatively new to C++ and in the process of learning it, so I&#39;m not sure if there is some copying going on, or some other reason why my C++ solution would be much slower?\r\n\r\nI have tried to change the way I was passing variables, and even tried to remove the `isSub()` function completely and write the logic in `numMatchingSubseq()`, however, it was still significantly slower than the Java implementation. Would anyone know why this is?\r\n\r\n**Java Solution**\r\n```java\r\nclass Solution {\r\n    public int isSub(List&lt;TreeSet&lt;Integer&gt;&gt; alpha, String word) {\r\n        int N = word.length();\r\n        int i = 0, j = 0;\r\n        \r\n        while (i &lt; N) {\r\n            TreeSet&lt;Integer&gt; st = alpha.get(word.charAt(i++) - &#39;a&#39;);\r\n            Integer e = st.ceiling(j);\r\n            if (e == null) return 0;\r\n            j = e + 1;\r\n        }\r\n        return 1;\r\n    }\r\n    public int numMatchingSubseq(String s, String[] words) {\r\n        List&lt;TreeSet&lt;Integer&gt;&gt; alpha = new ArrayList&lt;TreeSet&lt;Integer&gt;&gt;();\r\n        \r\n        for (int i = 0; i &lt; 26; i++) \r\n            alpha.add(new TreeSet&lt;Integer&gt;());\r\n        for (int i = 0; i &lt; s.length(); i++) \r\n            alpha.get(s.charAt(i) - &#39;a&#39;).add(i);\r\n        \r\n        int ans = 0;\r\n        for (String word : words) \r\n            ans += isSub(alpha, word);\r\n        return ans;\r\n    }\r\n}\r\n```\r\n**C++ Solution**\r\n```c++\r\nclass Solution {\r\npublic:\r\n    int isSub(vector&lt;set&lt;int&gt;&gt;&amp; alpha, const string&amp; word) {\r\n        int i = 0, j = 0, N = word.size();\r\n        while (i &lt; N) {\r\n            set&lt;int&gt; st = alpha[word[i++] - &#39;a&#39;];\r\n            auto it = st.lower_bound(j);\r\n            if (it == st.end()) return false;\r\n            j = *it + 1;\r\n        }\r\n        return true;\r\n    }\r\n    int numMatchingSubseq(string s, vector&lt;string&gt;&amp; words) {\r\n        vector&lt;set&lt;int&gt;&gt; alpha(26);\r\n        int M = s.size(), ans = 0;\r\n        \r\n        for (int i = 0; i &lt; M; i++) \r\n            alpha[s[i] - &#39;a&#39;].insert(i);\r\n        for (const auto&amp; word: words) \r\n            ans += isSub(alpha, word);\r\n        \r\n        return ans;\r\n    }\r\n};\r\n```\r\n\r\n","title":"C++ set slower than Java TreeSet?","body":"<p>I was working on leetcode problem <a href=\"https://leetcode.com/problems/number-of-matching-subsequences/\" rel=\"nofollow noreferrer\">792. Number of Matching Subsequences</a>, and one of the initial solutions I came up with was to create a list of ordered sets. Then we can determine if a word is a subsequence of string <code>s</code> by trying to find the ceiling of the next available character of string <code>word</code> using the current index we are in of <code>s</code>. If we can reach the end of <code>word</code>, it is then a subsequence, otherwise, it is not.</p>\n<p>I know this is not the optimal solution, but what I found surprising was the solution was able to pass in Java, but not with C++(which is significantly slower). I'm still relatively new to C++ and in the process of learning it, so I'm not sure if there is some copying going on, or some other reason why my C++ solution would be much slower?</p>\n<p>I have tried to change the way I was passing variables, and even tried to remove the <code>isSub()</code> function completely and write the logic in <code>numMatchingSubseq()</code>, however, it was still significantly slower than the Java implementation. Would anyone know why this is?</p>\n<p><strong>Java Solution</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public int isSub(List&lt;TreeSet&lt;Integer&gt;&gt; alpha, String word) {\n        int N = word.length();\n        int i = 0, j = 0;\n        \n        while (i &lt; N) {\n            TreeSet&lt;Integer&gt; st = alpha.get(word.charAt(i++) - 'a');\n            Integer e = st.ceiling(j);\n            if (e == null) return 0;\n            j = e + 1;\n        }\n        return 1;\n    }\n    public int numMatchingSubseq(String s, String[] words) {\n        List&lt;TreeSet&lt;Integer&gt;&gt; alpha = new ArrayList&lt;TreeSet&lt;Integer&gt;&gt;();\n        \n        for (int i = 0; i &lt; 26; i++) \n            alpha.add(new TreeSet&lt;Integer&gt;());\n        for (int i = 0; i &lt; s.length(); i++) \n            alpha.get(s.charAt(i) - 'a').add(i);\n        \n        int ans = 0;\n        for (String word : words) \n            ans += isSub(alpha, word);\n        return ans;\n    }\n}\n</code></pre>\n<p><strong>C++ Solution</strong></p>\n<pre class=\"lang-cpp prettyprint-override\"><code>class Solution {\npublic:\n    int isSub(vector&lt;set&lt;int&gt;&gt;&amp; alpha, const string&amp; word) {\n        int i = 0, j = 0, N = word.size();\n        while (i &lt; N) {\n            set&lt;int&gt; st = alpha[word[i++] - 'a'];\n            auto it = st.lower_bound(j);\n            if (it == st.end()) return false;\n            j = *it + 1;\n        }\n        return true;\n    }\n    int numMatchingSubseq(string s, vector&lt;string&gt;&amp; words) {\n        vector&lt;set&lt;int&gt;&gt; alpha(26);\n        int M = s.size(), ans = 0;\n        \n        for (int i = 0; i &lt; M; i++) \n            alpha[s[i] - 'a'].insert(i);\n        for (const auto&amp; word: words) \n            ans += isSub(alpha, word);\n        \n        return ans;\n    }\n};\n</code></pre>\n"},{"tags":["java","integer","long-integer","modulo"],"answers":[{"tags":[],"owner":{"account_id":19520611,"reputation":11,"user_id":14282592,"display_name":"Harsha Vardhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658298539,"creation_date":1658001987,"answer_id":73007319,"question_id":73007005,"body_markdown":"Used `1000000007` instead of declaring it as `int m`, I used it directly beside each number and it worked.","title":"Getting 0 for Long number modulus with","body":"<p>Used <code>1000000007</code> instead of declaring it as <code>int m</code>, I used it directly beside each number and it worked.</p>\n"}],"owner":{"account_id":19520611,"reputation":11,"user_id":14282592,"display_name":"Harsha Vardhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1658298539,"creation_date":1657998874,"question_id":73007005,"body_markdown":"getting 0 when appiling modulus for the return value\r\n\r\n    class Solution {\r\n    long ans = 0;\r\n    long m = 1000000007L;\r\n    long[][][] dp;\r\n    public int findPaths(int m, int n, int maxMove, int startRow, int startColumn) {\r\n        dp = new long[m+2][n+2][maxMove+1];\r\n        for(long[][] arr : dp){\r\n            for(long[] a : arr) Arrays.fill(a,-1);\r\n        }\r\n        long solve = bfs(startRow,startColumn,m,n,maxMove);\r\n        return (int)((dp[startRow][startColumn][maxMove])%m);\r\n    }\r\n    \r\n    public long  bfs(int x,int y,int m,int n,int moves){\r\n        if(moves&lt;0) return 0;\r\n        if(x==-1||y==-1||x==m||y==n) return 1;\r\n        // if(x&gt;m||y&gt;n||x&lt;0||y&lt;0){\r\n        //     return 1;\r\n        // }\r\n        if(dp[x][y][moves]!=-1) return dp[x][y][moves];\r\n        System.out.println(x+&quot; , &quot;+y+&quot; , &quot;+moves);\r\n        long a = bfs(x+1,y,m,n,moves-1);\r\n        long b = bfs(x,y+1,m,n,moves-1);\r\n        long c = bfs(x-1,y,m,n,moves-1);\r\n        long d = bfs(x,y-1,m,n,moves-1);\r\n        dp[x][y][moves] = (a%m+b%m+c%m+d%m)%m;\r\n        return dp[x][y][moves];\r\n    }   \r\n}\r\n\r\nwhen iam trying for mode with m its comming 0\r\notherwise its fine when iam not moding with m until the in integer limit reachs I guess\r\n","title":"Getting 0 for Long number modulus with","body":"<p>getting 0 when appiling modulus for the return value</p>\n<pre><code>class Solution {\nlong ans = 0;\nlong m = 1000000007L;\nlong[][][] dp;\npublic int findPaths(int m, int n, int maxMove, int startRow, int startColumn) {\n    dp = new long[m+2][n+2][maxMove+1];\n    for(long[][] arr : dp){\n        for(long[] a : arr) Arrays.fill(a,-1);\n    }\n    long solve = bfs(startRow,startColumn,m,n,maxMove);\n    return (int)((dp[startRow][startColumn][maxMove])%m);\n}\n\npublic long  bfs(int x,int y,int m,int n,int moves){\n    if(moves&lt;0) return 0;\n    if(x==-1||y==-1||x==m||y==n) return 1;\n    // if(x&gt;m||y&gt;n||x&lt;0||y&lt;0){\n    //     return 1;\n    // }\n    if(dp[x][y][moves]!=-1) return dp[x][y][moves];\n    System.out.println(x+&quot; , &quot;+y+&quot; , &quot;+moves);\n    long a = bfs(x+1,y,m,n,moves-1);\n    long b = bfs(x,y+1,m,n,moves-1);\n    long c = bfs(x-1,y,m,n,moves-1);\n    long d = bfs(x,y-1,m,n,moves-1);\n    dp[x][y][moves] = (a%m+b%m+c%m+d%m)%m;\n    return dp[x][y][moves];\n}   \n</code></pre>\n<p>}</p>\n<p>when iam trying for mode with m its comming 0\notherwise its fine when iam not moding with m until the in integer limit reachs I guess</p>\n"},{"tags":["java","ruby","rsa","encryption-asymmetric"],"answers":[{"tags":[],"owner":{"account_id":13925725,"reputation":487,"user_id":10055107,"display_name":"KSD Putra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658298535,"creation_date":1658298535,"answer_id":73046886,"question_id":73019945,"body_markdown":"For everyone who comes up with this problem, here is the answer:\r\n\r\n```ruby\r\ndef get_base64_encryption(unix_timestamp, params)\r\n  str = &quot;#{unix_timestamp}&amp;#{params.to_json}&quot;\r\n\r\n  public_key = OpenSSL::PKey::RSA.new(PUBLIC_KEY_PEM)\r\n  encrypted_str = &#39;&#39;\r\n      \r\n  io = StringIO.new(str)\r\n  until io.eof?\r\n    chunk = io.read(200)\r\n    encrypted_str &lt;&lt; public_key.public_encrypt(chunk, OpenSSL::PKey::RSA::PKCS1_OAEP_PADDING)\r\n  end\r\n\r\n  Base64.strict_encode64(encrypted_str)\r\nend\r\n```\r\n\r\n`OpenSSL::PKey::RSA::PKCS1_OAEP_PADDING` is equal to `RSA/ECB/OAEPWITHSHA-1ANDMGF1PADDING` [source][1]\r\n\r\n\r\n  [1]: https://docs.helix.q2.com/docs/programpublickeyalgorithms","title":"Ruby: Large data RSA Encryption","body":"<p>For everyone who comes up with this problem, here is the answer:</p>\n<pre class=\"lang-rb prettyprint-override\"><code>def get_base64_encryption(unix_timestamp, params)\n  str = &quot;#{unix_timestamp}&amp;#{params.to_json}&quot;\n\n  public_key = OpenSSL::PKey::RSA.new(PUBLIC_KEY_PEM)\n  encrypted_str = ''\n      \n  io = StringIO.new(str)\n  until io.eof?\n    chunk = io.read(200)\n    encrypted_str &lt;&lt; public_key.public_encrypt(chunk, OpenSSL::PKey::RSA::PKCS1_OAEP_PADDING)\n  end\n\n  Base64.strict_encode64(encrypted_str)\nend\n</code></pre>\n<p><code>OpenSSL::PKey::RSA::PKCS1_OAEP_PADDING</code> is equal to <code>RSA/ECB/OAEPWITHSHA-1ANDMGF1PADDING</code> <a href=\"https://docs.helix.q2.com/docs/programpublickeyalgorithms\" rel=\"nofollow noreferrer\">source</a></p>\n"}],"owner":{"account_id":13925725,"reputation":487,"user_id":10055107,"display_name":"KSD Putra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658298535,"creation_date":1658135872,"question_id":73019945,"body_markdown":"so I need to encrypt strings using RSA.\r\n\r\nThe example of the string (this is verified correct string):\r\n```\r\n&quot;1658135277&amp;{\\&quot;user_id\\&quot;:\\&quot;f257bf74-8c14-4144-aca5-69e1d8819d9d\\&quot;,\\&quot;user_id_type\\&quot;:\\&quot;3\\&quot;,\\&quot;user_name\\&quot;:\\&quot;{\\\\\\&quot;first_name\\\\\\&quot;:\\\\\\&quot;SEAN\\\\\\&quot;,\\\\\\&quot;middle_name\\\\\\&quot;:\\\\\\&quot;\\\\\\&quot;,\\\\\\&quot;last_name\\\\\\&quot;:\\\\\\&quot;YEO\\\\\\&quot;,\\\\\\&quot;full_name\\\\\\&quot;:\\\\\\&quot;SEAN YEO\\\\\\&quot;}\\&quot;,\\&quot;user_dob\\&quot;:\\&quot;1993-03-31\\&quot;,\\&quot;nationality\\&quot;:\\&quot;SG\\&quot;,\\&quot;user_address\\&quot;:\\&quot;{\\\\\\&quot;region\\\\\\&quot;:\\\\\\&quot;SG\\\\\\&quot;,\\\\\\&quot;address_line1\\\\\\&quot;:\\\\\\&quot;200 Jalan Sultan, 03-02, Textile Centre\\\\\\&quot;}\\&quot;}&quot;\r\n```\r\n\r\nThe ruby code:\r\n```ruby\r\ndef get_base64_encryption(unix_timestamp, params)\r\n  str = &quot;#{unix_timestamp}&amp;#{params.to_json}&quot;\r\n  public_key = OpenSSL::PKey::RSA.new(PUBLIC_KEY_PEM)\r\n  encrypted_str = public_key.public_encrypted(str, OpenSSL::PKey::RSA::PKCS1_OAEP_PADDING)\r\n\r\n  Base64.strict_encode64(encrypted_str)\r\nend\r\n```\r\n\r\nBut this way, it will raise error `OpenSSL::PKey::RSAError (data too large for key size)`\r\n\r\nThe thing is, I need to encrypt this for integration with 3rd party API. So there&#39;s no way I can use other encryption.\r\n\r\nThe partner actually gave example code, but in java:\r\n```java\r\npublic class RSAUtil {\r\n\r\n    private static final String KEY_ALGORITHM = &quot;RSA&quot;;\r\n    private static final String RSA_ALGORITHM = &quot;RSA/ECB/OAEPWithSHA-1AndMGF1Padding&quot;;\r\n\r\n    // rsa secret key length 256 bytes2048bit\r\n    private static final int MAX_DECRYPT_BLOCK = 256;\r\n\r\n    // rsa encrypt data length\r\n    private static final int MAX_ENCRYPT_BLOCK = 200;\r\n\r\n    /**\r\n     * rsa encrypt data\r\n     * @param message\r\n     * @param publicKeyStr\r\n     * @return\r\n     */\r\n    public static String rsaEncryptOAEP(String message, String publicKeyStr) {\r\n        try {\r\n            System.out.println(&quot;message_size:&quot; + message.length());\r\n            Decoder decoder = Base64.getDecoder();\r\n            byte[] publicKeyStrByte = decoder.decode(publicKeyStr);\r\n            X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyStrByte);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n            PublicKey publicKey = keyFactory.generatePublic(keySpec);\r\n\r\n            Cipher cipher = Cipher.getInstance(RSA_ALGORITHM);\r\n            cipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n            byte[] inputData = message.getBytes(StandardCharsets.UTF_8);\r\n            int inputLen = inputData.length;\r\n\r\n            byte[] cache = null;\r\n            byte[] out = null;\r\n            // split data by block size\r\n            for (int offSet = 0; offSet &lt; inputLen; offSet += MAX_ENCRYPT_BLOCK) {\r\n                if (offSet + MAX_ENCRYPT_BLOCK &lt; inputLen) {\r\n                    cache = cipher.doFinal(inputData, offSet, MAX_ENCRYPT_BLOCK);\r\n                } else {\r\n                    cache = cipher.doFinal(inputData, offSet, inputLen - offSet);\r\n                }\r\n                out = mergeBytes(out, cache);\r\n            }\r\n            return Base64.getEncoder().encodeToString(out);\r\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException e) {\r\n            System.out.println(&quot;current java env not support RSA v1.5/OAEP&quot;);\r\n            e.printStackTrace();\r\n        } catch (InvalidKeyException | InvalidKeySpecException e) {\r\n            System.out.println(&quot;invalid key&quot;);\r\n            e.printStackTrace();\r\n        } catch (IllegalBlockSizeException | BadPaddingException e) {\r\n            System.out.println(&quot;block size more than 214 &quot;);\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    /**\r\n     * merge 2 bytes\r\n     *\r\n     * @param first\r\n     * @param last\r\n     * @return\r\n     */\r\n    private static byte[] mergeBytes(byte[] first, byte[] last) {\r\n        if (first == null) {\r\n            return last;\r\n        }\r\n        byte[] result = new byte[first.length + last.length];\r\n        System.arraycopy(first, 0, result, 0, first.length);\r\n        System.arraycopy(last, 0, result, first.length, last.length);\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nBut I still failed to translate the example code to ruby, especially because I couldn&#39;t find how to encrypt data in streaming fashion using RSA in ruby. Anyone can help? Thank you in advance.","title":"Ruby: Large data RSA Encryption","body":"<p>so I need to encrypt strings using RSA.</p>\n<p>The example of the string (this is verified correct string):</p>\n<pre><code>&quot;1658135277&amp;{\\&quot;user_id\\&quot;:\\&quot;f257bf74-8c14-4144-aca5-69e1d8819d9d\\&quot;,\\&quot;user_id_type\\&quot;:\\&quot;3\\&quot;,\\&quot;user_name\\&quot;:\\&quot;{\\\\\\&quot;first_name\\\\\\&quot;:\\\\\\&quot;SEAN\\\\\\&quot;,\\\\\\&quot;middle_name\\\\\\&quot;:\\\\\\&quot;\\\\\\&quot;,\\\\\\&quot;last_name\\\\\\&quot;:\\\\\\&quot;YEO\\\\\\&quot;,\\\\\\&quot;full_name\\\\\\&quot;:\\\\\\&quot;SEAN YEO\\\\\\&quot;}\\&quot;,\\&quot;user_dob\\&quot;:\\&quot;1993-03-31\\&quot;,\\&quot;nationality\\&quot;:\\&quot;SG\\&quot;,\\&quot;user_address\\&quot;:\\&quot;{\\\\\\&quot;region\\\\\\&quot;:\\\\\\&quot;SG\\\\\\&quot;,\\\\\\&quot;address_line1\\\\\\&quot;:\\\\\\&quot;200 Jalan Sultan, 03-02, Textile Centre\\\\\\&quot;}\\&quot;}&quot;\n</code></pre>\n<p>The ruby code:</p>\n<pre class=\"lang-rb prettyprint-override\"><code>def get_base64_encryption(unix_timestamp, params)\n  str = &quot;#{unix_timestamp}&amp;#{params.to_json}&quot;\n  public_key = OpenSSL::PKey::RSA.new(PUBLIC_KEY_PEM)\n  encrypted_str = public_key.public_encrypted(str, OpenSSL::PKey::RSA::PKCS1_OAEP_PADDING)\n\n  Base64.strict_encode64(encrypted_str)\nend\n</code></pre>\n<p>But this way, it will raise error <code>OpenSSL::PKey::RSAError (data too large for key size)</code></p>\n<p>The thing is, I need to encrypt this for integration with 3rd party API. So there's no way I can use other encryption.</p>\n<p>The partner actually gave example code, but in java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RSAUtil {\n\n    private static final String KEY_ALGORITHM = &quot;RSA&quot;;\n    private static final String RSA_ALGORITHM = &quot;RSA/ECB/OAEPWithSHA-1AndMGF1Padding&quot;;\n\n    // rsa secret key length 256 bytes2048bit\n    private static final int MAX_DECRYPT_BLOCK = 256;\n\n    // rsa encrypt data length\n    private static final int MAX_ENCRYPT_BLOCK = 200;\n\n    /**\n     * rsa encrypt data\n     * @param message\n     * @param publicKeyStr\n     * @return\n     */\n    public static String rsaEncryptOAEP(String message, String publicKeyStr) {\n        try {\n            System.out.println(&quot;message_size:&quot; + message.length());\n            Decoder decoder = Base64.getDecoder();\n            byte[] publicKeyStrByte = decoder.decode(publicKeyStr);\n            X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyStrByte);\n            KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n            PublicKey publicKey = keyFactory.generatePublic(keySpec);\n\n            Cipher cipher = Cipher.getInstance(RSA_ALGORITHM);\n            cipher.init(Cipher.ENCRYPT_MODE, publicKey);\n            byte[] inputData = message.getBytes(StandardCharsets.UTF_8);\n            int inputLen = inputData.length;\n\n            byte[] cache = null;\n            byte[] out = null;\n            // split data by block size\n            for (int offSet = 0; offSet &lt; inputLen; offSet += MAX_ENCRYPT_BLOCK) {\n                if (offSet + MAX_ENCRYPT_BLOCK &lt; inputLen) {\n                    cache = cipher.doFinal(inputData, offSet, MAX_ENCRYPT_BLOCK);\n                } else {\n                    cache = cipher.doFinal(inputData, offSet, inputLen - offSet);\n                }\n                out = mergeBytes(out, cache);\n            }\n            return Base64.getEncoder().encodeToString(out);\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException e) {\n            System.out.println(&quot;current java env not support RSA v1.5/OAEP&quot;);\n            e.printStackTrace();\n        } catch (InvalidKeyException | InvalidKeySpecException e) {\n            System.out.println(&quot;invalid key&quot;);\n            e.printStackTrace();\n        } catch (IllegalBlockSizeException | BadPaddingException e) {\n            System.out.println(&quot;block size more than 214 &quot;);\n            e.printStackTrace();\n        }\n        return &quot;&quot;;\n    }\n\n    /**\n     * merge 2 bytes\n     *\n     * @param first\n     * @param last\n     * @return\n     */\n    private static byte[] mergeBytes(byte[] first, byte[] last) {\n        if (first == null) {\n            return last;\n        }\n        byte[] result = new byte[first.length + last.length];\n        System.arraycopy(first, 0, result, 0, first.length);\n        System.arraycopy(last, 0, result, first.length, last.length);\n        return result;\n    }\n}\n</code></pre>\n<p>But I still failed to translate the example code to ruby, especially because I couldn't find how to encrypt data in streaming fashion using RSA in ruby. Anyone can help? Thank you in advance.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","aws-sdk","amazon-sqs"],"answers":[{"tags":[],"owner":{"account_id":165919,"reputation":65,"user_id":2785855,"display_name":"Benjamen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570803264,"creation_date":1570803264,"answer_id":58343143,"question_id":58340604,"body_markdown":"Here&#39;s what I&#39;m doing with Spring Cloud.  \r\n\r\nUsing SPEL I&#39;m attaching a value from my application.properties to the Annotation @SqsListener like this\r\n\r\n    @SqsListener(value = &quot;#{queueConfiguration.getQueue()}&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\r\n\r\nOne thing to note, make sure you use the full HTTPS path for the queue.  \r\n\r\nFor all local development, I&#39;m using &quot;localstack&quot; and using a local implementation of SQS but the same code applies as it gets deploy in ECS.  The other piece to note is that the role or instance needs to be able to Receive Messages via IAM to make this happen.","title":"The specified queue does not exist - AWS.SimpleQueueService.NonExistentQueue with Spring-Boot","body":"<p>Here's what I'm doing with Spring Cloud.  </p>\n\n<p>Using SPEL I'm attaching a value from my application.properties to the Annotation @SqsListener like this</p>\n\n<pre><code>@SqsListener(value = \"#{queueConfiguration.getQueue()}\", deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\n</code></pre>\n\n<p>One thing to note, make sure you use the full HTTPS path for the queue.  </p>\n\n<p>For all local development, I'm using \"localstack\" and using a local implementation of SQS but the same code applies as it gets deploy in ECS.  The other piece to note is that the role or instance needs to be able to Receive Messages via IAM to make this happen.</p>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1590451593,"creation_date":1590451593,"answer_id":62012632,"question_id":58340604,"body_markdown":"I tried with SpringBoot Aws clound like you and got same error.\r\nThen i used the full http url as queue name and got access denied error\r\n\r\n    @SqsListener(value = &quot;https://sqs.ap-southeast-1.amazonaws.com/xxxxx/hello-world&quot;)\r\n\r\nSo in the end, i end up using AWS SDK directly to get message from SQS","title":"The specified queue does not exist - AWS.SimpleQueueService.NonExistentQueue with Spring-Boot","body":"<p>I tried with SpringBoot Aws clound like you and got same error.\nThen i used the full http url as queue name and got access denied error</p>\n\n<pre><code>@SqsListener(value = \"https://sqs.ap-southeast-1.amazonaws.com/xxxxx/hello-world\")\n</code></pre>\n\n<p>So in the end, i end up using AWS SDK directly to get message from SQS</p>\n"},{"tags":[],"owner":{"account_id":3478526,"reputation":11,"user_id":2911178,"display_name":"maddy10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652942212,"creation_date":1652942212,"answer_id":72299712,"question_id":58340604,"body_markdown":"Using full URL worked for me.\r\n```\r\n@SqsListener(&quot;https://sqs.ap-south-1.amazonaws.com/xxxxxxxxx/queue-name&quot;)\r\n```","title":"The specified queue does not exist - AWS.SimpleQueueService.NonExistentQueue with Spring-Boot","body":"<p>Using full URL worked for me.</p>\n<pre><code>@SqsListener(&quot;https://sqs.ap-south-1.amazonaws.com/xxxxxxxxx/queue-name&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24008920,"reputation":1,"user_id":17992752,"display_name":"Manoj Seth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658298385,"creation_date":1657892760,"answer_id":72995011,"question_id":58340604,"body_markdown":"Using below code work for me\r\n\r\n    @SqsListener(value=&quot;https://sqs.us-west-1.amazonaws.com/xxxxx/queue-name&quot;)","title":"The specified queue does not exist - AWS.SimpleQueueService.NonExistentQueue with Spring-Boot","body":"<p>Using below code work for me</p>\n<pre><code>@SqsListener(value=&quot;https://sqs.us-west-1.amazonaws.com/xxxxx/queue-name&quot;)\n</code></pre>\n"}],"owner":{"account_id":3539352,"reputation":277,"user_id":2956870,"display_name":"hemant6488"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5995,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1658298385,"creation_date":1570794308,"question_id":58340604,"body_markdown":"I&#39;m unable to attach a @SqsListener in a spring boot application. It throws AWS.SimpleQueueService.NonExistentQueue exception.\r\n\r\nI&#39;ve gone through the question: [Specified queue does not exist](https://stackoverflow.com/questions/28081182/spring-cloud-sqs-the-specified-queue-does-not-exist-for-this-wsdl-version)\r\nand as far as I know, all the configurations are correct. \r\n\r\n\r\n```\r\n@Component\r\npublic class SQSListenerImpl{\r\n\t@SqsListener(value = Constants.SQS_REQUEST_QUEUE, deletionPolicy = SqsMessageDeletionPolicy.NEVER)\r\n\tpublic void listen(String taskJson, Acknowledgment acknowledgment, @Headers Map&lt;String, String&gt; headers) throws ExecutionException, InterruptedException {\r\n\t\t//stuff\r\n\t}\r\n\r\n\t@PostConstruct\r\n\tprivate void init(){\r\n\t\tfinal AmazonSQS sqs = AmazonSQSClientBuilder.defaultClient();\r\n        LOGGER.info(&quot;Listing all queues in your account.\\n&quot;);\r\n        for (final String queueUrl : sqs.listQueues().getQueueUrls()) {\r\n            LOGGER.info(&quot;  QueueUrl: &quot; + queueUrl);\r\n        }\r\n\t}\r\n}\r\n```\r\n\r\napplication.properties\r\n```\r\ncloud.aws.stack.auto=false\r\ncloud.aws.region.static=ap-southeast-1\r\nlogging.level.root=INFO\r\n```\r\n\r\n\r\nLogs from above code:\r\n```\r\n[requestId: MainThread] [INFO] [SQSListenerImpl] [main]   QueueUrl: https://sqs.ap-southeast-1.amazonaws.com/xxxxx/hello-world\r\n[requestId: MainThread] [INFO] [SQSListenerImpl] [main]   QueueUrl: https://sqs.ap-southeast-1.amazonaws.com/xxxxx/some-name2\r\n[requestId: MainThread] [INFO] [SQSListenerImpl] [main]   QueueUrl: https://sqs.ap-southeast-1.amazonaws.com/xxxxx/some-name3\r\n[requestId: MainThread] [WARN] [SimpleMessageListenerContainer] [main] Ignoring queue with name &#39;hello-world&#39;: The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 3c0108aa-7611-528f-ac69-5eb01fasb9f3)\r\n[requestId: MainThread] [INFO] [Http11NioProtocol] [main] Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n[requestId: MainThread] [INFO] [TomcatWebServer] [main] Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n[requestId: MainThread] [INFO] [Startup] [main] Started Startup in 11.391 seconds (JVM running for 12.426)\r\n```\r\n\r\nAws credentials used are under `~/.aws/` directory.\r\n\r\n \r\nNow my question is, if `sqs.listQueues()` can see the queue then why can&#39;t `@SqsListener`? Am I missing something or doing something wrong?","title":"The specified queue does not exist - AWS.SimpleQueueService.NonExistentQueue with Spring-Boot","body":"<p>I'm unable to attach a @SqsListener in a spring boot application. It throws AWS.SimpleQueueService.NonExistentQueue exception.</p>\n\n<p>I've gone through the question: <a href=\"https://stackoverflow.com/questions/28081182/spring-cloud-sqs-the-specified-queue-does-not-exist-for-this-wsdl-version\">Specified queue does not exist</a>\nand as far as I know, all the configurations are correct. </p>\n\n<pre><code>@Component\npublic class SQSListenerImpl{\n    @SqsListener(value = Constants.SQS_REQUEST_QUEUE, deletionPolicy = SqsMessageDeletionPolicy.NEVER)\n    public void listen(String taskJson, Acknowledgment acknowledgment, @Headers Map&lt;String, String&gt; headers) throws ExecutionException, InterruptedException {\n        //stuff\n    }\n\n    @PostConstruct\n    private void init(){\n        final AmazonSQS sqs = AmazonSQSClientBuilder.defaultClient();\n        LOGGER.info(\"Listing all queues in your account.\\n\");\n        for (final String queueUrl : sqs.listQueues().getQueueUrls()) {\n            LOGGER.info(\"  QueueUrl: \" + queueUrl);\n        }\n    }\n}\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>cloud.aws.stack.auto=false\ncloud.aws.region.static=ap-southeast-1\nlogging.level.root=INFO\n</code></pre>\n\n<p>Logs from above code:</p>\n\n<pre><code>[requestId: MainThread] [INFO] [SQSListenerImpl] [main]   QueueUrl: https://sqs.ap-southeast-1.amazonaws.com/xxxxx/hello-world\n[requestId: MainThread] [INFO] [SQSListenerImpl] [main]   QueueUrl: https://sqs.ap-southeast-1.amazonaws.com/xxxxx/some-name2\n[requestId: MainThread] [INFO] [SQSListenerImpl] [main]   QueueUrl: https://sqs.ap-southeast-1.amazonaws.com/xxxxx/some-name3\n[requestId: MainThread] [WARN] [SimpleMessageListenerContainer] [main] Ignoring queue with name 'hello-world': The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 3c0108aa-7611-528f-ac69-5eb01fasb9f3)\n[requestId: MainThread] [INFO] [Http11NioProtocol] [main] Starting ProtocolHandler [\"http-nio-8080\"]\n[requestId: MainThread] [INFO] [TomcatWebServer] [main] Tomcat started on port(s): 8080 (http) with context path ''\n[requestId: MainThread] [INFO] [Startup] [main] Started Startup in 11.391 seconds (JVM running for 12.426)\n</code></pre>\n\n<p>Aws credentials used are under <code>~/.aws/</code> directory.</p>\n\n<p>Now my question is, if <code>sqs.listQueues()</code> can see the queue then why can't <code>@SqsListener</code>? Am I missing something or doing something wrong?</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1584796326,"post_id":60788138,"comment_id":107549676,"body_markdown":"Stack Overflow is not appropriate for open-ended questions like this. You can try [code review](https://codereview.stackexchange.com/)","body":"Stack Overflow is not appropriate for open-ended questions like this. You can try <a href=\"https://codereview.stackexchange.com/\">code review</a>"}],"answers":[{"tags":[],"owner":{"account_id":18000620,"reputation":747,"user_id":13082649,"display_name":"QuantumDeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584800482,"creation_date":1584800482,"answer_id":60788925,"question_id":60788138,"body_markdown":"I think the main problem is that and how you transform the array to an `ArrayList` and put work into cleaning it from negative values.\r\n\r\nIt would be a lot better in terms of performance if you would just sort the array with `Arrays.sort(A)` and then binary search it for the first positive value and do the rest from there.","title":"only mange 77% on codility sample test","body":"<p>I think the main problem is that and how you transform the array to an <code>ArrayList</code> and put work into cleaning it from negative values.</p>\n\n<p>It would be a lot better in terms of performance if you would just sort the array with <code>Arrays.sort(A)</code> and then binary search it for the first positive value and do the rest from there.</p>\n"},{"tags":[],"owner":{"account_id":23477433,"reputation":11,"user_id":17530045,"display_name":"Yawar Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638093117,"creation_date":1638092788,"answer_id":70142215,"question_id":60788138,"body_markdown":"I came up with this solution and it scored 100%. It is in python, if someone wants it in java I will post that too. Just let me know.\r\n\r\n```\r\ndef solution(A):\r\n    A.sort()\r\n    smallest = 1\r\n    for i in range(0, len(A)):\r\n        if A[i] &gt; 0:\r\n            if smallest &lt; A[i]:\r\n                return smallest\r\n            elif smallest == A[i]:\r\n                smallest = smallest + 1\r\n    return smallest\r\n```","title":"only mange 77% on codility sample test","body":"<p>I came up with this solution and it scored 100%. It is in python, if someone wants it in java I will post that too. Just let me know.</p>\n<pre><code>def solution(A):\n    A.sort()\n    smallest = 1\n    for i in range(0, len(A)):\n        if A[i] &gt; 0:\n            if smallest &lt; A[i]:\n                return smallest\n            elif smallest == A[i]:\n                smallest = smallest + 1\n    return smallest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23602520,"reputation":1,"user_id":17638786,"display_name":"Aun Rizvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639077516,"creation_date":1639077516,"answer_id":70295532,"question_id":60788138,"body_markdown":"I found the solution with following code:\r\n\r\n    function smallest(A) {\r\n      const set = new Set(A);\r\n      let i=1;\r\n      while(set.includes(i)) {\r\n       i++;\r\n      }\r\n     return i;\r\n    }","title":"only mange 77% on codility sample test","body":"<p>I found the solution with following code:</p>\n<pre><code>function smallest(A) {\n  const set = new Set(A);\n  let i=1;\n  while(set.includes(i)) {\n   i++;\n  }\n return i;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17628637,"reputation":33,"user_id":12793188,"display_name":"asterix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658298367,"creation_date":1657906483,"answer_id":72997794,"question_id":60788138,"body_markdown":"how could I know that brute force iteration is a solution here. would expect that performance is bad for big arrays\r\n\r\n    public class Foo {\r\n    public static void main(String[] args) {\r\n\r\n        Integer[] ints = { 11, 2, 6, 3, 4, 8, 1, 5 };\r\n        System.out.println(findSmallest(ints));\r\n    }\r\n\r\n    private static Integer findSmallest(Integer[] ints){\r\n        List&lt;Integer&gt; integers = Arrays.asList(ints);\r\n\r\n        for (int i = 1; i &lt; Integer.MAX_VALUE; i++) {\r\n            if (!integers.contains(i)) {\r\n               return i;\r\n            }\r\n        }\r\n        return Integer.MAX_VALUE;\r\n    }\r\n    }","title":"only mange 77% on codility sample test","body":"<p>how could I know that brute force iteration is a solution here. would expect that performance is bad for big arrays</p>\n<pre><code>public class Foo {\npublic static void main(String[] args) {\n\n    Integer[] ints = { 11, 2, 6, 3, 4, 8, 1, 5 };\n    System.out.println(findSmallest(ints));\n}\n\nprivate static Integer findSmallest(Integer[] ints){\n    List&lt;Integer&gt; integers = Arrays.asList(ints);\n\n    for (int i = 1; i &lt; Integer.MAX_VALUE; i++) {\n        if (!integers.contains(i)) {\n           return i;\n        }\n    }\n    return Integer.MAX_VALUE;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":17628637,"reputation":33,"user_id":12793188,"display_name":"asterix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2620,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":4,"score":-1,"last_activity_date":1658298367,"creation_date":1584795957,"question_id":60788138,"body_markdown":"I tried the codility demo test, but never get more than 77% due to their performance tests.\r\n\r\nthe test mainly states:\r\ngiven an array A of N integers, returns the smallest positive integer (greater than 0) that does not occur in A.\r\n\r\nWhats wrong with my solution?\r\n\r\nThe failed performance test comlains:TIMEOUT ERROR\r\nrunning time: 0.152 sec., time limit: 0.100 sec.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\nclass Solution3 {\r\n    int solution(int[] A) {\r\n        ArrayList&lt;Integer&gt; list = Arrays.stream(A).boxed().distinct().sorted()\r\n                .filter(i -&gt; i &gt; 0)\r\n                .collect(Collectors.toCollection(ArrayList::new));\r\n\r\n        Integer prev_item = 0;\r\n\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            Integer item = list.get(i);\r\n\r\n            if (!(item - 1 == prev_item)) {\r\n                return prev_item + 1;\r\n            }\r\n            prev_item = item;\r\n        }\r\n        return prev_item + 1;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Solution3 solution3 = new Solution3();\r\n        int[] A = new int[6];\r\n        A[0] = 1;\r\n        A[1] = 2;\r\n        A[2] = 3;\r\n        A[3] = 8;\r\n        A[4] = 8;\r\n        A[5] = 11;\r\n\r\n        int solution = solution3.solution(A);\r\n        System.out.println(&quot;solution: &quot; + solution);\r\n    }\r\n}\r\n```","title":"only mange 77% on codility sample test","body":"<p>I tried the codility demo test, but never get more than 77% due to their performance tests.</p>\n\n<p>the test mainly states:\ngiven an array A of N integers, returns the smallest positive integer (greater than 0) that does not occur in A.</p>\n\n<p>Whats wrong with my solution?</p>\n\n<p>The failed performance test comlains:TIMEOUT ERROR\nrunning time: 0.152 sec., time limit: 0.100 sec.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\nclass Solution3 {\n    int solution(int[] A) {\n        ArrayList&lt;Integer&gt; list = Arrays.stream(A).boxed().distinct().sorted()\n                .filter(i -&gt; i &gt; 0)\n                .collect(Collectors.toCollection(ArrayList::new));\n\n        Integer prev_item = 0;\n\n        for (int i = 0; i &lt; list.size(); i++) {\n            Integer item = list.get(i);\n\n            if (!(item - 1 == prev_item)) {\n                return prev_item + 1;\n            }\n            prev_item = item;\n        }\n        return prev_item + 1;\n    }\n\n\n    public static void main(String[] args) {\n        Solution3 solution3 = new Solution3();\n        int[] A = new int[6];\n        A[0] = 1;\n        A[1] = 2;\n        A[2] = 3;\n        A[3] = 8;\n        A[4] = 8;\n        A[5] = 11;\n\n        int solution = solution3.solution(A);\n        System.out.println(\"solution: \" + solution);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","navigation-drawer","solver","challenge-response"],"comments":[{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1510255231,"post_id":47209719,"comment_id":81368938,"body_markdown":"Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.CharSequence android.os.Bundle.getCharSequence(java.lang.String)&#39; on a null object reference...","body":"Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.CharSequence android.os.Bundle.getCharSequence(java.lang.String)&#39; on a null object reference..."}],"answers":[{"tags":[],"owner":{"account_id":9423002,"reputation":648,"user_id":7008898,"display_name":"Dinith Rukshan Kumara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510257087,"creation_date":1510257087,"answer_id":47210397,"question_id":47209719,"body_markdown":"I had the same problem. When i remove actionbar, it work perfect. Remove below lines from Account.java.\r\n\r\n       getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n       getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\nAs a advice, don&#39;t use activities for navigation drawers. using fragments is lot easier than activities. You can easily go back to previous fragments using `FragmentTransaction.addToBackStack(null);` method.\r\nI refered this video tutorial. It can be helpful.\r\n[https://www.youtube.com/watch?v=-SUvA1fXaKw][1]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=-SUvA1fXaKw","title":"How to Go back from particular activity to Navigation Drawer activity","body":"<p>I had the same problem. When i remove actionbar, it work perfect. Remove below lines from Account.java.</p>\n\n<pre><code>   getSupportActionBar().setDisplayShowHomeEnabled(true);\n   getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n</code></pre>\n\n<p>As a advice, don't use activities for navigation drawers. using fragments is lot easier than activities. You can easily go back to previous fragments using <code>FragmentTransaction.addToBackStack(null);</code> method.\nI refered this video tutorial. It can be helpful.\n<a href=\"https://www.youtube.com/watch?v=-SUvA1fXaKw\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=-SUvA1fXaKw</a></p>\n"}],"owner":{"account_id":12214684,"reputation":11,"user_id":8915485,"display_name":"Liyakath S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1510268282,"answer_count":1,"score":1,"last_activity_date":1658297673,"creation_date":1510254470,"question_id":47209719,"body_markdown":"When i click my account in navigation drawer(HomePage.java) moving to account activity(account.java).when i tried to click go back in account(account.java ) my app stops.I tried a lot but nothing helped me.I&#39;m new to Android.\r\n\r\n    11-10 00:03:56.739 12243-12243/com.example.hppc.homeservices E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.hppc.homeservices, PID: 12243\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.hppc.homeservices/com.example.hppc.homeservices.HomePage}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.CharSequence android.os.Bundle.getCharSequence(java.lang.String)&#39; on a null object reference\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\r\n            at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n         Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.CharSequence android.os.Bundle.getCharSequence(java.lang.String)&#39; on a null object reference\r\n            at com.example.hppc.homeservices.HomePage.onCreate(HomePage.java:33)\r\n            at android.app.Activity.performCreate(Activity.java:6975)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)&#160;\r\n            at android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n            at android.os.Looper.loop(Looper.java:164)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:6541)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)&#160;\r\n\r\nNavigationDrawer Activity.java(HomePage.java)\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home_page);\r\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        Bundle b = getIntent().getExtras();\r\n        NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n        TextView txtProfileName = (TextView) navigationView.getHeaderView(0).findViewById(R.id.tvEmailHome);\r\n        txtProfileName.setText(b.getCharSequence(&quot;Email&quot;));\r\n        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n                        .setAction(&quot;Action&quot;, null).show();\r\n            }\r\n        });\r\n\r\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n        drawer.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n        if (drawer.isDrawerOpen(GravityCompat.START)) {\r\n            drawer.closeDrawer(GravityCompat.START);\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.home_page, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Handle action bar item clicks here. The action bar will\r\n        // automatically handle clicks on the Home/Up button, so long\r\n        // as you specify a parent activity in AndroidManifest.xml.\r\n        int id = item.getItemId();\r\n\r\n        //noinspection SimplifiableIfStatement\r\n        if (id == R.id.action_settings) {\r\n            return true;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;StatementWithEmptyBody&quot;)\r\n    @Override\r\n    public boolean onNavigationItemSelected(MenuItem item) {\r\n        // Handle navigation view item clicks here.\r\n        int id = item.getItemId();\r\n\r\n        if (id == R.id.nav_Account) {\r\n            startActivity(new Intent(HomePage.this,Account.class));\r\n            finish();\r\n\r\n        } if (id == R.id.nav_Services) {\r\n\r\n\r\n        } if (id == R.id.nav_settings) {\r\n\r\n        } if (id == R.id.nav_Help) {\r\n\r\n        } if (id == R.id.LogOut) {\r\n            FirebaseAuth.getInstance().signOut();\r\n            startActivity(new Intent(HomePage.this,MainActivity.class));\r\n            finish();\r\n\r\n        } if (id == R.id.nav_share) {\r\n\r\n        } if (id == R.id.nav_send) {\r\n\r\n        }\r\n\r\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n        drawer.closeDrawer(GravityCompat.START);\r\n        return true;\r\n    \r\n    \r\nAccount.java(My accounts in Navigation bar)\r\n\r\n    private DatabaseReference databaseReference;\r\n    private ListView details;\r\n    private ArrayList&lt;String&gt; account = new ArrayList&lt;&gt;();\r\n    FirebaseUser user;\r\n\r\n    String uid;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_account);\r\n        details=(ListView)findViewById(R.id.listview);\r\n        user = FirebaseAuth.getInstance().getCurrentUser();\r\n        uid = user.getUid();\r\n\r\n        final ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, account);\r\n\r\n        details.setAdapter(arrayAdapter);\r\n\r\n        databaseReference = FirebaseDatabase.getInstance().getReference();\r\n\r\n        databaseReference.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(DataSnapshot dataSnapshot, String s) {\r\n                String user_name = dataSnapshot.child(&quot;Name&quot;).getValue(String.class);\r\n                String user_email = dataSnapshot.child(&quot;Email&quot;).getValue(String.class);\r\n                String user_phone = dataSnapshot.child(&quot;Phone&quot;).getValue(String.class);\r\n                if (user.getEmail().equalsIgnoreCase(user_email)) {\r\n                    account.add(&quot;Name :&quot; + user_name);\r\n                    account.add(&quot;Email ID :&quot; + user_email);\r\n                    account.add(&quot;Phone Number :&quot; + user_phone);\r\n\r\n                    arrayAdapter.notifyDataSetChanged();\r\n                }\r\n            }\r\n            @Override\r\n            public void onChildChanged(DataSnapshot dataSnapshot, String s) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(DataSnapshot dataSnapshot) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(DataSnapshot dataSnapshot, String s) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n       getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n       getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n\r\n        if(id==android.R.id.home){\r\n            Intent mainInten = new Intent(this, HomePage.class);\r\n            this.startActivity(mainInten);\r\n            //this.finish();\r\n            //onBackPressed();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    public void checking(View view) {\r\n        startActivity(new Intent(Account.this,MyAccount.class));\r\n        finish();\r\n    }\r\n\r\nWhen i click on on my accounts in navigation drawer i&#39;m moving to &quot;account&quot; activity but when i try to click goback icon in &quot;account&quot; activity in top of that activity my app is getting stopped.","title":"How to Go back from particular activity to Navigation Drawer activity","body":"<p>When i click my account in navigation drawer(HomePage.java) moving to account activity(account.java).when i tried to click go back in account(account.java ) my app stops.I tried a lot but nothing helped me.I'm new to Android.</p>\n<pre><code>11-10 00:03:56.739 12243-12243/com.example.hppc.homeservices E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.hppc.homeservices, PID: 12243\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.hppc.homeservices/com.example.hppc.homeservices.HomePage}: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.CharSequence android.os.Bundle.getCharSequence(java.lang.String)' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.CharSequence android.os.Bundle.getCharSequence(java.lang.String)' on a null object reference\n        at com.example.hppc.homeservices.HomePage.onCreate(HomePage.java:33)\n        at android.app.Activity.performCreate(Activity.java:6975)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n<p>NavigationDrawer Activity.java(HomePage.java)</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home_page);\n    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n    Bundle b = getIntent().getExtras();\n    NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);\n    navigationView.setNavigationItemSelectedListener(this);\n    TextView txtProfileName = (TextView) navigationView.getHeaderView(0).findViewById(R.id.tvEmailHome);\n    txtProfileName.setText(b.getCharSequence(&quot;Email&quot;));\n    FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\n    fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\n                    .setAction(&quot;Action&quot;, null).show();\n        }\n    });\n\n    DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n    ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n            this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n    drawer.addDrawerListener(toggle);\n    toggle.syncState();\n}\n\n@Override\npublic void onBackPressed() {\n    DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n    if (drawer.isDrawerOpen(GravityCompat.START)) {\n        drawer.closeDrawer(GravityCompat.START);\n    } else {\n        super.onBackPressed();\n    }\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.home_page, menu);\n    return true;\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    int id = item.getItemId();\n\n    //noinspection SimplifiableIfStatement\n    if (id == R.id.action_settings) {\n        return true;\n    }\n\n    return super.onOptionsItemSelected(item);\n}\n\n@SuppressWarnings(&quot;StatementWithEmptyBody&quot;)\n@Override\npublic boolean onNavigationItemSelected(MenuItem item) {\n    // Handle navigation view item clicks here.\n    int id = item.getItemId();\n\n    if (id == R.id.nav_Account) {\n        startActivity(new Intent(HomePage.this,Account.class));\n        finish();\n\n    } if (id == R.id.nav_Services) {\n\n\n    } if (id == R.id.nav_settings) {\n\n    } if (id == R.id.nav_Help) {\n\n    } if (id == R.id.LogOut) {\n        FirebaseAuth.getInstance().signOut();\n        startActivity(new Intent(HomePage.this,MainActivity.class));\n        finish();\n\n    } if (id == R.id.nav_share) {\n\n    } if (id == R.id.nav_send) {\n\n    }\n\n    DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n    drawer.closeDrawer(GravityCompat.START);\n    return true;\n</code></pre>\n<p>Account.java(My accounts in Navigation bar)</p>\n<pre><code>private DatabaseReference databaseReference;\nprivate ListView details;\nprivate ArrayList&lt;String&gt; account = new ArrayList&lt;&gt;();\nFirebaseUser user;\n\nString uid;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_account);\n    details=(ListView)findViewById(R.id.listview);\n    user = FirebaseAuth.getInstance().getCurrentUser();\n    uid = user.getUid();\n\n    final ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, account);\n\n    details.setAdapter(arrayAdapter);\n\n    databaseReference = FirebaseDatabase.getInstance().getReference();\n\n    databaseReference.addChildEventListener(new ChildEventListener() {\n        @Override\n        public void onChildAdded(DataSnapshot dataSnapshot, String s) {\n            String user_name = dataSnapshot.child(&quot;Name&quot;).getValue(String.class);\n            String user_email = dataSnapshot.child(&quot;Email&quot;).getValue(String.class);\n            String user_phone = dataSnapshot.child(&quot;Phone&quot;).getValue(String.class);\n            if (user.getEmail().equalsIgnoreCase(user_email)) {\n                account.add(&quot;Name :&quot; + user_name);\n                account.add(&quot;Email ID :&quot; + user_email);\n                account.add(&quot;Phone Number :&quot; + user_phone);\n\n                arrayAdapter.notifyDataSetChanged();\n            }\n        }\n        @Override\n        public void onChildChanged(DataSnapshot dataSnapshot, String s) {\n\n        }\n\n        @Override\n        public void onChildRemoved(DataSnapshot dataSnapshot) {\n\n        }\n\n        @Override\n        public void onChildMoved(DataSnapshot dataSnapshot, String s) {\n\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n\n        }\n    });\n   getSupportActionBar().setDisplayShowHomeEnabled(true);\n   getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    int id = item.getItemId();\n\n    if(id==android.R.id.home){\n        Intent mainInten = new Intent(this, HomePage.class);\n        this.startActivity(mainInten);\n        //this.finish();\n        //onBackPressed();\n    }\n    return super.onOptionsItemSelected(item);\n}\n\npublic void checking(View view) {\n    startActivity(new Intent(Account.this,MyAccount.class));\n    finish();\n}\n</code></pre>\n<p>When i click on on my accounts in navigation drawer i'm moving to &quot;account&quot; activity but when i try to click goback icon in &quot;account&quot; activity in top of that activity my app is getting stopped.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":16111401,"reputation":51,"user_id":11629534,"display_name":"Rigo Regalado"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658297559,"creation_date":1658297228,"answer_id":73046673,"question_id":73046350,"body_markdown":"[AudioManager](https://developer.android.com/reference/android/media/AudioManager) doesn&#39;t provide that kind of functionality.\r\n\r\nI think you need to save it in a local storage to achieve what you want. Shared preferences is ideal in this case.","title":"How to retrieve previous audio volume while the current volume is muted?","body":"<p><a href=\"https://developer.android.com/reference/android/media/AudioManager\" rel=\"nofollow noreferrer\">AudioManager</a> doesn't provide that kind of functionality.</p>\n<p>I think you need to save it in a local storage to achieve what you want. Shared preferences is ideal in this case.</p>\n"}],"owner":{"account_id":5290057,"reputation":76,"user_id":4222919,"display_name":"Ajay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658297559,"creation_date":1658294699,"question_id":73046350,"body_markdown":"By using the following code we can mute the music playback:\r\n```audioManager.adjustStreamVolume(AudioManager.STREAM_MUSIC,AudioManager.ADJUST_MUTE,0);```\r\n\r\nAnd after that when we try to retrieve the volume:\r\n```audioManager.getStreamVolume(AudioManager.STREAM_MUSIC);```\r\nit returns **0**\r\n\r\nIs there a way to find what the volume would be after we unmute? It should be the previous volume right before we set it to mute. But how to retrieve that value? \r\n\r\nI know that we could just save the value right before muting it, but what if the app restarts? We then have to rely on persistent storage. Even then we cannot guarantee that the value hasn&#39;t changed.\r\n\r\nSo, I would like to know if there is any way to extract the value without having to save it.","title":"How to retrieve previous audio volume while the current volume is muted?","body":"<p>By using the following code we can mute the music playback:\n<code>audioManager.adjustStreamVolume(AudioManager.STREAM_MUSIC,AudioManager.ADJUST_MUTE,0);</code></p>\n<p>And after that when we try to retrieve the volume:\n<code>audioManager.getStreamVolume(AudioManager.STREAM_MUSIC);</code>\nit returns <strong>0</strong></p>\n<p>Is there a way to find what the volume would be after we unmute? It should be the previous volume right before we set it to mute. But how to retrieve that value?</p>\n<p>I know that we could just save the value right before muting it, but what if the app restarts? We then have to rely on persistent storage. Even then we cannot guarantee that the value hasn't changed.</p>\n<p>So, I would like to know if there is any way to extract the value without having to save it.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1651491674,"post_id":72085128,"comment_id":127369569,"body_markdown":"Why do you want to do this? This is how ORMs work. If you don&#39;t want it you should consider to use plain JDBC or a lightweight mapper like MyBatis.","body":"Why do you want to do this? This is how ORMs work. If you don&#39;t want it you should consider to use plain JDBC or a lightweight mapper like MyBatis."},{"owner":{"account_id":14021967,"reputation":1036,"user_id":10127980,"display_name":"Akanksha_p"},"score":0,"creation_date":1651492147,"post_id":72085128,"comment_id":127369724,"body_markdown":"This appeared the way to go as it would limit the loading of unnecessary objects to optimize performance. I&#39;m just starting with Spring boot and JPA. So i thought just importing Key instead of whole object would be quiet efficient.","body":"This appeared the way to go as it would limit the loading of unnecessary objects to optimize performance. I&#39;m just starting with Spring boot and JPA. So i thought just importing Key instead of whole object would be quiet efficient."},{"owner":{"account_id":14021967,"reputation":1036,"user_id":10127980,"display_name":"Akanksha_p"},"score":0,"creation_date":1651492375,"post_id":72085128,"comment_id":127369773,"body_markdown":"Your suggestion is to import whole ```User``` object and let ```HealthData``` have it&#39;s own Id generated independent of ```User&#39;s id```?","body":"Your suggestion is to import whole <code>User</code> object and let <code>HealthData</code> have it&#39;s own Id generated independent of <code>User&#39;s id</code>?"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1651492889,"post_id":72085128,"comment_id":127369953,"body_markdown":"You should learn more about your JPA implementation. You can usually control how related objects are loaded. Look here to get an idea: https://www.baeldung.com/hibernate-lazy-eager-loading. But you should be very careful. It depends on the use case which fetch type is appropriate. You may run into the [N +1 select problem](https://medium.com/geekculture/resolve-hibernate-n-1-problem-f0e049e689ab).","body":"You should learn more about your JPA implementation. You can usually control how related objects are loaded. Look here to get an idea: <a href=\"https://www.baeldung.com/hibernate-lazy-eager-loading\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-lazy-eager-loading</a>. But you should be very careful. It depends on the use case which fetch type is appropriate. You may run into the <a href=\"https://medium.com/geekculture/resolve-hibernate-n-1-problem-f0e049e689ab\" rel=\"nofollow noreferrer\">N +1 select problem</a>."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1651493164,"post_id":72085128,"comment_id":127370053,"body_markdown":"When using ORMs the most straight forward procedure is to have individual IDs for each table. Even in plain SQL you wouldn&#39;t reuse the same IDs in multiple tables to model a one to one relation. This coupling would be too tight. You would always use a separate field in one table with a foreign key to the other table&#39;s ID.","body":"When using ORMs the most straight forward procedure is to have individual IDs for each table. Even in plain SQL you wouldn&#39;t reuse the same IDs in multiple tables to model a one to one relation. This coupling would be too tight. You would always use a separate field in one table with a foreign key to the other table&#39;s ID."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1651510647,"post_id":72085128,"comment_id":127376501,"body_markdown":"you need some way to tell JPA about this relationship so that it can set the values for you. I don&#39;t know why you would NOT have a user in or associated to HealthData; the relationship seems like it is pretty fundamental to the data and the objects. Can you elaborate on why, as that seems like your best bet; without a relationship, this is just like any other column data that you&#39;ll have to figure out and set yourself, possibly with a persist user, flush, then pull out the ID to use in a HealthData instance - a much less efficient option.","body":"you need some way to tell JPA about this relationship so that it can set the values for you. I don&#39;t know why you would NOT have a user in or associated to HealthData; the relationship seems like it is pretty fundamental to the data and the objects. Can you elaborate on why, as that seems like your best bet; without a relationship, this is just like any other column data that you&#39;ll have to figure out and set yourself, possibly with a persist user, flush, then pull out the ID to use in a HealthData instance - a much less efficient option."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651510455,"creation_date":1651510455,"answer_id":72089878,"question_id":72085128,"body_markdown":"In this case, your HealthData has a reference to User, and I&#39;m not sure why you wouldn&#39;t have mapped this as a foreign key. If you are able to do so, I&#39;d suggest the following:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;HealthData&quot;)\r\n    public class HealthData {\r\n        @Id\r\n        @OneToOne\r\n        @JoinColumn(name = &quot;id&quot;)\r\n        private User user; \r\n    \r\n        @Column\r\n        private Double height;\r\n        @Column\r\n        private Double weight;\r\n        @Column\r\n        private int age;\r\n        ...other columns\r\n    }\r\n\r\nJPA then handled setting the &quot;ID&quot; to the value within your user instance for you, and can persist both in the same transaction automatically. Allowing references to be marked as IDs is known as a derived ID and supported I believe since JPA 2.0.\r\n\r\nAs for efficiency, you can still lazy fetch or even not fetch the user instance. It is simple to just map the ID column as a basic using a slightly different approach:\r\n\r\n    @Entity\r\n    @Table(name = &quot;HealthData&quot;)\r\n    public class HealthData {\r\n        @Id\r\n        private Long id;\r\n        \r\n        @MapsId\r\n        @OneToOne(optional = false, fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;id&quot;)\r\n        private User user; \r\n    \r\n        @Column\r\n        private Double height;\r\n        @Column\r\n        private Double weight;\r\n        @Column\r\n        private int age;\r\n        ...other columns\r\n    }\r\n\r\nJPA will set both the User id as well as the healthData.id values based on what it generates for the user Id sequence when you set the healthData.user reference. ","title":"How to set Id of one entity to the Id of another entity using JPA?","body":"<p>In this case, your HealthData has a reference to User, and I'm not sure why you wouldn't have mapped this as a foreign key. If you are able to do so, I'd suggest the following:</p>\n<pre><code>@Entity\n@Table(name = &quot;HealthData&quot;)\npublic class HealthData {\n    @Id\n    @OneToOne\n    @JoinColumn(name = &quot;id&quot;)\n    private User user; \n\n    @Column\n    private Double height;\n    @Column\n    private Double weight;\n    @Column\n    private int age;\n    ...other columns\n}\n</code></pre>\n<p>JPA then handled setting the &quot;ID&quot; to the value within your user instance for you, and can persist both in the same transaction automatically. Allowing references to be marked as IDs is known as a derived ID and supported I believe since JPA 2.0.</p>\n<p>As for efficiency, you can still lazy fetch or even not fetch the user instance. It is simple to just map the ID column as a basic using a slightly different approach:</p>\n<pre><code>@Entity\n@Table(name = &quot;HealthData&quot;)\npublic class HealthData {\n    @Id\n    private Long id;\n    \n    @MapsId\n    @OneToOne(optional = false, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;id&quot;)\n    private User user; \n\n    @Column\n    private Double height;\n    @Column\n    private Double weight;\n    @Column\n    private int age;\n    ...other columns\n}\n</code></pre>\n<p>JPA will set both the User id as well as the healthData.id values based on what it generates for the user Id sequence when you set the healthData.user reference.</p>\n"},{"tags":[],"owner":{"account_id":23666452,"reputation":9,"user_id":17693853,"display_name":"Yuvraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658297536,"creation_date":1658288913,"answer_id":73045783,"question_id":72085128,"body_markdown":"You can use getters and setters to set the value of user id in the healthdata table.","title":"How to set Id of one entity to the Id of another entity using JPA?","body":"<p>You can use getters and setters to set the value of user id in the healthdata table.</p>\n"}],"owner":{"account_id":14021967,"reputation":1036,"user_id":10127980,"display_name":"Akanksha_p"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3975,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72089878,"answer_count":2,"score":0,"last_activity_date":1658297536,"creation_date":1651485620,"question_id":72085128,"body_markdown":"I&#39;m new at Spring Boot&#39;s JPA concept so need your help in deciding how to import just the ```ID``` of another entity, say ```User``` into ```HealthData``` entity. Following is my ```User``` entity:\r\n```java\r\n@Entity\r\n@Table(name = &quot;user&quot;,uniqueConstraints = {@UniqueConstraint(columnNames = &quot;email&quot;)})\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n    @Email\r\n    @Column(nullable = false)\r\n    private String email;\r\n\r\n    private String imageUrl;\r\n    @Column(nullable = false)\r\n    private Boolean emailVerified=false;\r\n    @JsonIgnore\r\n    private String password;\r\n    @NonNull\r\n    @Enumerated(EnumType.STRING)\r\n    private AuthProvider authProvider;\r\n    private String providerId;\r\n}\r\n```\r\n\r\nAnd I wish to define ```HealthData``` entity in the following manner :\r\n```java\r\n@Entity\r\n@Table(name = &quot;HealthData&quot;,uniqueConstraints = {@UniqueConstraint(columnNames = &quot;id&quot;)})\r\npublic class HealthData {\r\n    @Id\r\n    private Long id; //how to import id of User here?\r\n\r\n    @Column\r\n    private Double height;\r\n    @Column\r\n    private Double weight;\r\n    @Column\r\n    private int age;\r\n    ...other columns\r\n\r\n}\r\n```\r\nNow, I wish to use ```Id``` of ```User``` to this entity(kind of making parent-child relationship) . I don&#39;t want to add ```User``` class object in HealthData. I thought of using ```@OneToOne``` in ```HealthData``` but then it would add ```User``` in it. How can i just include Id from parent table in child table?","title":"How to set Id of one entity to the Id of another entity using JPA?","body":"<p>I'm new at Spring Boot's JPA concept so need your help in deciding how to import just the <code>ID</code> of another entity, say <code>User</code> into <code>HealthData</code> entity. Following is my <code>User</code> entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;user&quot;,uniqueConstraints = {@UniqueConstraint(columnNames = &quot;email&quot;)})\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n    @Email\n    @Column(nullable = false)\n    private String email;\n\n    private String imageUrl;\n    @Column(nullable = false)\n    private Boolean emailVerified=false;\n    @JsonIgnore\n    private String password;\n    @NonNull\n    @Enumerated(EnumType.STRING)\n    private AuthProvider authProvider;\n    private String providerId;\n}\n</code></pre>\n<p>And I wish to define <code>HealthData</code> entity in the following manner :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;HealthData&quot;,uniqueConstraints = {@UniqueConstraint(columnNames = &quot;id&quot;)})\npublic class HealthData {\n    @Id\n    private Long id; //how to import id of User here?\n\n    @Column\n    private Double height;\n    @Column\n    private Double weight;\n    @Column\n    private int age;\n    ...other columns\n\n}\n</code></pre>\n<p>Now, I wish to use <code>Id</code> of <code>User</code> to this entity(kind of making parent-child relationship) . I don't want to add <code>User</code> class object in HealthData. I thought of using <code>@OneToOne</code> in <code>HealthData</code> but then it would add <code>User</code> in it. How can i just include Id from parent table in child table?</p>\n"},{"tags":["java","aws-glue"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1626255597,"post_id":68375544,"comment_id":120841871,"body_markdown":"`GetTablesResult` contains a `List&lt;Table&gt;` and should contain multiple tables. *Maybe* you need multiple requests with `nextToken`s for paginated responses.","body":"<code>GetTablesResult</code> contains a <code>List&lt;Table&gt;</code> and should contain multiple tables. <i>Maybe</i> you need multiple requests with <code>nextToken</code>s for paginated responses."},{"owner":{"account_id":20704406,"reputation":31,"user_id":15212324,"display_name":"valerio auricchio"},"score":0,"creation_date":1626256038,"post_id":68375544,"comment_id":120842072,"body_markdown":"@luk2302 can you explain better the multiple request, maybe with an example.","body":"@luk2302 can you explain better the multiple request, maybe with an example."}],"owner":{"account_id":20704406,"reputation":31,"user_id":15212324,"display_name":"valerio auricchio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658297303,"creation_date":1626255186,"question_id":68375544,"body_markdown":"I have created a library using the function definied in the package &quot;com.amazonaws.services.glue&quot;. I would like to create a function that returns a list of tables present in the specified database. In the specified package there is only the function &quot;GetTablesResult&quot; which returns a single table within the database. Does anyone know how I can get a list of tables present in the datbase?","title":"Get list of tables from Glue with com.amazonaws.services.glue","body":"<p>I have created a library using the function definied in the package &quot;com.amazonaws.services.glue&quot;. I would like to create a function that returns a list of tables present in the specified database. In the specified package there is only the function &quot;GetTablesResult&quot; which returns a single table within the database. Does anyone know how I can get a list of tables present in the datbase?</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658276308,"post_id":73043649,"comment_id":129009992,"body_markdown":"Note: `kafka-topics` does not have a `--consumer.config` option... Did you mean `command-config`? You can open the source code of `kafka-console-producer` and you&#39;d see that it uses `Properties.load` method","body":"Note: <code>kafka-topics</code> does not have a <code>--consumer.config</code> option... Did you mean <code>command-config</code>? You can open the source code of <code>kafka-console-producer</code> and you&#39;d see that it uses <code>Properties.load</code> method"},{"owner":{"account_id":6691602,"reputation":989,"user_id":5160940,"display_name":"DockYard"},"score":0,"creation_date":1658297184,"post_id":73043649,"comment_id":129013267,"body_markdown":"@OneCricketeer Sorry I meant --producer.config","body":"@OneCricketeer Sorry I meant --producer.config"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658268314,"creation_date":1658268314,"answer_id":73043923,"question_id":73043649,"body_markdown":"You have to set each one as a discrete property in the producer `Properties`.\r\n\r\nYou could use `Properties.load()` with a `FileInputStream` or `FileReader` to load them from the file into your `Properties` object.","title":"How to pass Kafka&#39;s --producer.config through Java","body":"<p>You have to set each one as a discrete property in the producer <code>Properties</code>.</p>\n<p>You could use <code>Properties.load()</code> with a <code>FileInputStream</code> or <code>FileReader</code> to load them from the file into your <code>Properties</code> object.</p>\n"},{"tags":[],"owner":{"account_id":17861275,"reputation":2089,"user_id":12974735,"display_name":"Sercan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658276206,"creation_date":1658268621,"answer_id":73043955,"question_id":73043649,"body_markdown":"Rather than use any file to pass the properties individually, you can use static client configs as below;\r\n\r\n    Properties properties = new Properties();\r\n    properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n    properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n    properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n    \r\n    // for SSL Encryption\r\n    properties.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SSL&quot;);\r\n    properties.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG, &quot;&lt;My custom value&gt;&quot;);\r\n    properties.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, &quot;&lt;My custom value&gt;&quot;);\r\n    \r\n    // for SSL Authentication\r\n    properties.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG, &quot;&lt;My custom value&gt;&quot;);\r\n    properties.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, &quot;&lt;My custom value&gt;&quot;);\r\n    properties.put(SslConfigs.SSL_KEY_PASSWORD_CONFIG, &quot;&lt;My custom value&gt;&quot;);\r\nRequired classes are;\r\n\r\n    import org.apache.kafka.clients.CommonClientConfigs;\r\n    import org.apache.kafka.clients.producer.ProducerConfig;\r\n    import org.apache.kafka.common.config.SslConfigs;","title":"How to pass Kafka&#39;s --producer.config through Java","body":"<p>Rather than use any file to pass the properties individually, you can use static client configs as below;</p>\n<pre><code>Properties properties = new Properties();\nproperties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\nproperties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\nproperties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n\n// for SSL Encryption\nproperties.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SSL&quot;);\nproperties.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG, &quot;&lt;My custom value&gt;&quot;);\nproperties.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, &quot;&lt;My custom value&gt;&quot;);\n\n// for SSL Authentication\nproperties.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG, &quot;&lt;My custom value&gt;&quot;);\nproperties.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, &quot;&lt;My custom value&gt;&quot;);\nproperties.put(SslConfigs.SSL_KEY_PASSWORD_CONFIG, &quot;&lt;My custom value&gt;&quot;);\n</code></pre>\n<p>Required classes are;</p>\n<pre><code>import org.apache.kafka.clients.CommonClientConfigs;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.common.config.SslConfigs;\n</code></pre>\n"}],"owner":{"account_id":6691602,"reputation":989,"user_id":5160940,"display_name":"DockYard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1065,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73043955,"answer_count":2,"score":1,"last_activity_date":1658297203,"creation_date":1658265965,"question_id":73043649,"body_markdown":"I&#39;m using the below command to send records to a secure Kafka\r\n\r\n```\r\nbin/kafka-console-producer.sh --topic &lt;My Kafka topic name&gt; --bootstrap-server &lt;My custom bootstrap server&gt;  --producer.config /Users/DY/SSL/ssl.properties\r\n```\r\n\r\nAs you can see I have added the `ssl.properties` file&#39;s path to the `--producer.config` switch.\r\n\r\nThe ssl.properties file contains details about how to connect to secure kafka, its contents are below:\r\n```\r\nsecurity.protocol=SSL\r\nssl.truststore.location=&lt;My custom value&gt;\r\nssl.truststore.password=&lt;My custom value&gt;\r\nssl.key.password=&lt;My custom value&gt;\r\nssl.keystore.location=&lt;My custom value&gt;\r\nssl.keystore.password=&lt;My custom value&gt;\r\n\r\n```\r\n\r\nNow, I want to use replicate this command with java producer.\r\nThe code that I&#39;ve written is as:\r\n```\r\npublic class MyProducer {\r\n    public static void main(String[] args) {\r\n        {\r\n            Properties properties = new Properties();\r\n            properties.put(&quot;bootstrap.servers&quot;, &lt;My bootstrap server&gt;);\r\n            properties.put(&quot;key.serializer&quot;, StringSerializer.class);\r\n            properties.put(&quot;value.serializer&quot;, StringSerializer.class);\r\n            properties.put(&quot;producer.config&quot;, &quot;/Users/DY/SSL/ssl.properties&quot;);\r\n\r\n\r\n\r\n            KafkaProducer&lt;String, String&gt; kafkaProducer = new KafkaProducer&lt;String, String&gt;(properties);\r\n            ProducerRecord&lt;String, String&gt; producerRecord = new ProducerRecord&lt;&gt;(\r\n                    &lt;My bootstrap server&gt;, &quot;Hello World from program&quot;);\r\n\r\n\r\n            Future&lt;RecordMetadata&gt; future = kafkaProducer.send(\r\n                    producerRecord,\r\n                    (metadata, exception) -&gt; {\r\n                                    if(exception != null){\r\n                                        System.out.printf(&quot;some thing wrong&quot;);\r\n                                        exception.printStackTrace();\r\n                                    }\r\n                                    else{\r\n                                        System.out.println(&quot;Successfully transmitted&quot;);\r\n                                    }\r\n                    });\r\n\r\n            future.get()\r\n\r\n            kafkaProducer.close();\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis way of passing the `properties.put(&quot;producer.config&quot;, &quot;/Users/DY/SSL/ssl.properties&quot;);` however does not seem to work. Could anybody let me know what would be an appropriate way to do this","title":"How to pass Kafka&#39;s --producer.config through Java","body":"<p>I'm using the below command to send records to a secure Kafka</p>\n<pre><code>bin/kafka-console-producer.sh --topic &lt;My Kafka topic name&gt; --bootstrap-server &lt;My custom bootstrap server&gt;  --producer.config /Users/DY/SSL/ssl.properties\n</code></pre>\n<p>As you can see I have added the <code>ssl.properties</code> file's path to the <code>--producer.config</code> switch.</p>\n<p>The ssl.properties file contains details about how to connect to secure kafka, its contents are below:</p>\n<pre><code>security.protocol=SSL\nssl.truststore.location=&lt;My custom value&gt;\nssl.truststore.password=&lt;My custom value&gt;\nssl.key.password=&lt;My custom value&gt;\nssl.keystore.location=&lt;My custom value&gt;\nssl.keystore.password=&lt;My custom value&gt;\n\n</code></pre>\n<p>Now, I want to use replicate this command with java producer.\nThe code that I've written is as:</p>\n<pre><code>public class MyProducer {\n    public static void main(String[] args) {\n        {\n            Properties properties = new Properties();\n            properties.put(&quot;bootstrap.servers&quot;, &lt;My bootstrap server&gt;);\n            properties.put(&quot;key.serializer&quot;, StringSerializer.class);\n            properties.put(&quot;value.serializer&quot;, StringSerializer.class);\n            properties.put(&quot;producer.config&quot;, &quot;/Users/DY/SSL/ssl.properties&quot;);\n\n\n\n            KafkaProducer&lt;String, String&gt; kafkaProducer = new KafkaProducer&lt;String, String&gt;(properties);\n            ProducerRecord&lt;String, String&gt; producerRecord = new ProducerRecord&lt;&gt;(\n                    &lt;My bootstrap server&gt;, &quot;Hello World from program&quot;);\n\n\n            Future&lt;RecordMetadata&gt; future = kafkaProducer.send(\n                    producerRecord,\n                    (metadata, exception) -&gt; {\n                                    if(exception != null){\n                                        System.out.printf(&quot;some thing wrong&quot;);\n                                        exception.printStackTrace();\n                                    }\n                                    else{\n                                        System.out.println(&quot;Successfully transmitted&quot;);\n                                    }\n                    });\n\n            future.get()\n\n            kafkaProducer.close();\n\n        }\n    }\n}\n\n</code></pre>\n<p>This way of passing the <code>properties.put(&quot;producer.config&quot;, &quot;/Users/DY/SSL/ssl.properties&quot;);</code> however does not seem to work. Could anybody let me know what would be an appropriate way to do this</p>\n"},{"tags":["java","recursion","arraylist","subset"],"answers":[{"tags":[],"owner":{"account_id":277005,"reputation":1859,"user_id":570724,"accept_rate":40,"display_name":"tianwei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658294165,"creation_date":1658294165,"answer_id":73046298,"question_id":73045938,"body_markdown":"When you use `result.add(arr);  `, all `arr` that added to `result` are the same  one defined in your `main` function. As `arr` is [] at last, your result is `[[], [], [], [], [], [], [], []]`.\r\n\r\nBut when you use `result.add(new ArrayList&lt;Integer&gt;(arr));`, you create an anonymous new `ArrayList` object, which has the same content as `arr` has at the time. But when `arr`&#39;s content changed, it does nothing to this anonymous  object. So at last ,you got the result with different children.","title":"Why I am getting empty 2d ArrayList such as [ [ ], [ ], [ ], ... ] instead of adding ArrayList in 2d ArrayList while solving power set/subset problem?","body":"<p>When you use <code>result.add(arr);  </code>, all <code>arr</code> that added to <code>result</code> are the same  one defined in your <code>main</code> function. As <code>arr</code> is [] at last, your result is <code>[[], [], [], [], [], [], [], []]</code>.</p>\n<p>But when you use <code>result.add(new ArrayList&lt;Integer&gt;(arr));</code>, you create an anonymous new <code>ArrayList</code> object, which has the same content as <code>arr</code> has at the time. But when <code>arr</code>'s content changed, it does nothing to this anonymous  object. So at last ,you got the result with different children.</p>\n"}],"owner":{"account_id":25730105,"reputation":3,"user_id":19485813,"display_name":"Maaiz Shaikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73046298,"answer_count":1,"score":0,"last_activity_date":1658297056,"creation_date":1658290609,"question_id":73045938,"body_markdown":"I am solving [Subsets Problem][1] on leetcode using java with the help of recursion. But the problem is instead of adding ArrayList to 2d ArrayList I am getting { {}, {}, {}, ...} as my output instead of { {1,2,3}, {1,2}, {1,3}, {1}, {2,3}, {2}, {3}, {} }. Can someone explain me why this is happening?\r\n```java\r\npublic static void main(String[] args) {\r\n    int[] nums = {1, 2, 3};\r\n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n    List&lt;Integer&gt; arr = new ArrayList&lt;Integer&gt;();\r\n    helper(0, result, arr, nums);\r\n    System.out.println(result);\r\n}\r\n\r\npublic static void helper(int index, List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; arr, int[] nums){\r\n    if(index == nums.length){\r\n        result.add(arr);\r\n        return;\r\n    }\r\n    arr.add(nums[index]);\r\n    helper(index+1, result, arr, nums);\r\n    arr.remove(arr.size()-1);\r\n    helper(index+1, result, arr, nums);\r\n}\r\n```\r\n[Output of above code][2]\r\n\r\nAlso, when I write this code it work correctly. Why?\r\n```java\r\npublic List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\r\n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList(); // pay attention \r\n    List&lt;Integer&gt; arr = new ArrayList&lt;Integer&gt;();\r\n    helper(0, result, arr, nums);\r\n    return result;\r\n}\r\n\r\npublic void helper(int index, List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; arr, int[] nums){\r\n    if(index == nums.length){\r\n        result.add(new ArrayList&lt;Integer&gt;(arr)); // pay attention \r\n        return;\r\n    }\r\n    arr.add(nums[index]);\r\n    helper(index+1, result, arr, nums);\r\n    arr.remove(arr.size()-1);\r\n    helper(index+1, result, arr, nums);\r\n}\r\n```\r\n[Screenshot of correct output][3]\r\n\r\n\r\n  [1]: https://leetcode.com/problems/subsets/\r\n  [2]: https://i.stack.imgur.com/jml62.png\r\n  [3]: https://i.stack.imgur.com/9nzXr.png","title":"Why I am getting empty 2d ArrayList such as [ [ ], [ ], [ ], ... ] instead of adding ArrayList in 2d ArrayList while solving power set/subset problem?","body":"<p>I am solving <a href=\"https://leetcode.com/problems/subsets/\" rel=\"nofollow noreferrer\">Subsets Problem</a> on leetcode using java with the help of recursion. But the problem is instead of adding ArrayList to 2d ArrayList I am getting { {}, {}, {}, ...} as my output instead of { {1,2,3}, {1,2}, {1,3}, {1}, {2,3}, {2}, {3}, {} }. Can someone explain me why this is happening?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    int[] nums = {1, 2, 3};\n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n    List&lt;Integer&gt; arr = new ArrayList&lt;Integer&gt;();\n    helper(0, result, arr, nums);\n    System.out.println(result);\n}\n\npublic static void helper(int index, List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; arr, int[] nums){\n    if(index == nums.length){\n        result.add(arr);\n        return;\n    }\n    arr.add(nums[index]);\n    helper(index+1, result, arr, nums);\n    arr.remove(arr.size()-1);\n    helper(index+1, result, arr, nums);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jml62.png\" rel=\"nofollow noreferrer\">Output of above code</a></p>\n<p>Also, when I write this code it work correctly. Why?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList(); // pay attention \n    List&lt;Integer&gt; arr = new ArrayList&lt;Integer&gt;();\n    helper(0, result, arr, nums);\n    return result;\n}\n\npublic void helper(int index, List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; arr, int[] nums){\n    if(index == nums.length){\n        result.add(new ArrayList&lt;Integer&gt;(arr)); // pay attention \n        return;\n    }\n    arr.add(nums[index]);\n    helper(index+1, result, arr, nums);\n    arr.remove(arr.size()-1);\n    helper(index+1, result, arr, nums);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9nzXr.png\" rel=\"nofollow noreferrer\">Screenshot of correct output</a></p>\n"},{"tags":["java","jdbc","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658296533,"creation_date":1658216726,"answer_id":73033015,"question_id":73017222,"body_markdown":"In one case the connection is created through `java.sql.DriverManager` (or maybe even directly using the `java.sql.Driver` implementation), and you can only use the configuration properties the driver supports that way.\r\n\r\nWhen using a data source, you&#39;re using an implementation of `javax.sql.DataSource`, and can only use the configuration properties the data source supports that way. If we&#39;re talking about driver-provided `DataSource` implementations, there generally is no difference. They usually offer the same (or similar) configuration properties, and produce exactly the same connection as they would return through their `Driver` implementation.\r\n\r\nIn theory, using a `DataSource` can have some benefits because of its programmatic configuration (instead of using properties in the URL or `Properties` object), and the fact you could have the `DataSource` sourced from some external configuration through JNDI or other means.\r\n\r\nHowever, when configured through HikariCP, and specifically in the way as shown in your question, there is no substantial difference.","title":"Understanding HikariCP/JDBC driver classnames vs data source classnames","body":"<p>In one case the connection is created through <code>java.sql.DriverManager</code> (or maybe even directly using the <code>java.sql.Driver</code> implementation), and you can only use the configuration properties the driver supports that way.</p>\n<p>When using a data source, you're using an implementation of <code>javax.sql.DataSource</code>, and can only use the configuration properties the data source supports that way. If we're talking about driver-provided <code>DataSource</code> implementations, there generally is no difference. They usually offer the same (or similar) configuration properties, and produce exactly the same connection as they would return through their <code>Driver</code> implementation.</p>\n<p>In theory, using a <code>DataSource</code> can have some benefits because of its programmatic configuration (instead of using properties in the URL or <code>Properties</code> object), and the fact you could have the <code>DataSource</code> sourced from some external configuration through JNDI or other means.</p>\n<p>However, when configured through HikariCP, and specifically in the way as shown in your question, there is no substantial difference.</p>\n"}],"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73033015,"answer_count":1,"score":0,"last_activity_date":1658296533,"creation_date":1658117320,"question_id":73017222,"body_markdown":"In HikariCP (and JDBC, really), what&#39;s the difference between setting a *driver class name and JDBC URL* versus setting a *data source class name and URL property*?\r\n\r\nI ask because I&#39;m integrating [p6spy](https://github.com/p6spy/p6spy) and based on what I&#39;ve found, I need to define the p6spy driver as a driver class name, but when I&#39;m using a database directly (MySQL, MariaDB, H2, etc) I defined them as data sources:\r\n\r\n\r\n```java\r\nHikariConfig config = new HikariConfig();\r\nconfig.setDriverClassName(&quot;com.p6spy.engine.spy.P6SpyDriver&quot;);\r\nconfig.setJdbcUrl(&quot;jdbc:p6spy:mysql://localhost/test&quot;);\r\n```\r\n\r\n```java\r\nHikariConfig config = new HikariConfig();\r\nconfig.setDataSourceClassName(&quot;com.mysql.cj.jdbc.MysqlDataSource&quot;);\r\nconfig.addDataSourceProperty(&quot;url&quot;, &quot;jdbc:mysql://localhost/test&quot;);\r\n```\r\n\r\nAm I losing functionality by using the first approach? What&#39;s the end result difference between these two definitions?","title":"Understanding HikariCP/JDBC driver classnames vs data source classnames","body":"<p>In HikariCP (and JDBC, really), what's the difference between setting a <em>driver class name and JDBC URL</em> versus setting a <em>data source class name and URL property</em>?</p>\n<p>I ask because I'm integrating <a href=\"https://github.com/p6spy/p6spy\" rel=\"nofollow noreferrer\">p6spy</a> and based on what I've found, I need to define the p6spy driver as a driver class name, but when I'm using a database directly (MySQL, MariaDB, H2, etc) I defined them as data sources:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HikariConfig config = new HikariConfig();\nconfig.setDriverClassName(&quot;com.p6spy.engine.spy.P6SpyDriver&quot;);\nconfig.setJdbcUrl(&quot;jdbc:p6spy:mysql://localhost/test&quot;);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>HikariConfig config = new HikariConfig();\nconfig.setDataSourceClassName(&quot;com.mysql.cj.jdbc.MysqlDataSource&quot;);\nconfig.addDataSourceProperty(&quot;url&quot;, &quot;jdbc:mysql://localhost/test&quot;);\n</code></pre>\n<p>Am I losing functionality by using the first approach? What's the end result difference between these two definitions?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":22447351,"reputation":626,"user_id":16651073,"display_name":"Oliver Stahl"},"score":2,"creation_date":1658300112,"post_id":73046538,"comment_id":129014044,"body_markdown":"Intellij is also adding the settings you can configuring in the maven menu to the command line. e.g. java version, skip tests etc.","body":"Intellij is also adding the settings you can configuring in the maven menu to the command line. e.g. java version, skip tests etc."},{"owner":{"account_id":22447351,"reputation":626,"user_id":16651073,"display_name":"Oliver Stahl"},"score":2,"creation_date":1658300214,"post_id":73046538,"comment_id":129014070,"body_markdown":"You can see this when you start a build with the maven buttons and scroll to the top to see the command line.","body":"You can see this when you start a build with the maven buttons and scroll to the top to see the command line."},{"owner":{"account_id":4015075,"reputation":1577,"user_id":3307496,"display_name":"mgershen"},"score":0,"creation_date":1658754190,"post_id":73046538,"comment_id":129122642,"body_markdown":"You can try and run `mvn help:effective-settings` from both and see the results","body":"You can try and run <code>mvn help:effective-settings</code> from both and see the results"}],"owner":{"account_id":6557464,"reputation":4145,"user_id":5069746,"accept_rate":50,"display_name":"Kshitij Kohli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658296239,"creation_date":1658296239,"question_id":73046538,"body_markdown":"Please don&#39;t kill me for this question, it looks dumb but it has been bugging me a lot. What&#39;s the difference between the mvn button available in IntelliJ on top right compared to running the mvn commands via the integrated terminal? What I have noticed is on running mvn clean install via the button actually broke down my project - mvn commands from terminal stopped working which were working earlier. Vice-versa is also true. My best guess is it&#39;s about the environments/versions of mavens which are setup differently : integrated terminal might be picking values from my bash_profile whereas the IntelliJ button picks up configurations based on IntelliJ Preferences but I would really like to hear more thoughts and answers about this.","title":"Difference between mvn button on intellij vs running mvn command via terminal","body":"<p>Please don't kill me for this question, it looks dumb but it has been bugging me a lot. What's the difference between the mvn button available in IntelliJ on top right compared to running the mvn commands via the integrated terminal? What I have noticed is on running mvn clean install via the button actually broke down my project - mvn commands from terminal stopped working which were working earlier. Vice-versa is also true. My best guess is it's about the environments/versions of mavens which are setup differently : integrated terminal might be picking values from my bash_profile whereas the IntelliJ button picks up configurations based on IntelliJ Preferences but I would really like to hear more thoughts and answers about this.</p>\n"},{"tags":["java","spring","spring-boot","jwt"],"answers":[{"tags":[],"owner":{"account_id":16478489,"reputation":26,"user_id":11905775,"display_name":"yoo92"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658296064,"creation_date":1658296064,"answer_id":73046516,"question_id":72952903,"body_markdown":"They are just different implementations of the same thing. Currently JWT does not support JWE, but JOSE4j does. So I think you can choose according to your needs.","title":"JWT differences between jose4j and jjwt dependencies in Spring","body":"<p>They are just different implementations of the same thing. Currently JWT does not support JWE, but JOSE4j does. So I think you can choose according to your needs.</p>\n"}],"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73046516,"answer_count":1,"score":1,"last_activity_date":1658296064,"creation_date":1657631546,"question_id":72952903,"body_markdown":"can anyone spot the difference between using jose4j from bitbucket or jjwt from jsonwebtoken to provide authentication in my app. I&#39;ve been requested to implement the security and I have no idea which one to choose.\r\n\r\nThere&#39;s a lot of info about jjwt but bearely any of jose4j.\r\n\r\nThanks in advance!","title":"JWT differences between jose4j and jjwt dependencies in Spring","body":"<p>can anyone spot the difference between using jose4j from bitbucket or jjwt from jsonwebtoken to provide authentication in my app. I've been requested to implement the security and I have no idea which one to choose.</p>\n<p>There's a lot of info about jjwt but bearely any of jose4j.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["javascript","java","php","node.js","socket.io"],"answers":[{"tags":[],"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658294993,"creation_date":1658294993,"answer_id":73046388,"question_id":73046322,"body_markdown":"[Socket.io on Github](https://github.com/socketio/socket.io) has:\r\n\r\n - 56.2k stars\r\n - 1.6k watching \r\n - 10k forks\r\n\r\n[On npm](https://www.npmjs.com/package/socket.io), it shows more than **4.5 million** weekly downloads.\r\n\r\nSo yeah, I would say a pretty solid choice for production, provided, as with any software, you use it wisely.","title":"Is socketio good to use in production website","body":"<p><a href=\"https://github.com/socketio/socket.io\" rel=\"nofollow noreferrer\">Socket.io on Github</a> has:</p>\n<ul>\n<li>56.2k stars</li>\n<li>1.6k watching</li>\n<li>10k forks</li>\n</ul>\n<p><a href=\"https://www.npmjs.com/package/socket.io\" rel=\"nofollow noreferrer\">On npm</a>, it shows more than <strong>4.5 million</strong> weekly downloads.</p>\n<p>So yeah, I would say a pretty solid choice for production, provided, as with any software, you use it wisely.</p>\n"},{"tags":[],"owner":{"account_id":21855985,"reputation":46,"user_id":16147368,"display_name":"Arcanist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658295616,"creation_date":1658295616,"answer_id":73046459,"question_id":73046322,"body_markdown":"Socket.io is already used in production by many big companies for products including [Trello][1], [Microsoft Office, Yammer, and Zendesk][2].\r\n\r\nAs @Tintin said, it&#39;s also very popular on GitHub and NPM.\r\n\r\n\r\n  [1]: https://blog.trello.com/the-trello-tech-stack#:~:text=We%20use%20a%20modified%20version,of%20CPU%20or%20memory%20usage.\r\n  [2]: https://en.wikipedia.org/wiki/Socket.IO","title":"Is socketio good to use in production website","body":"<p>Socket.io is already used in production by many big companies for products including <a href=\"https://blog.trello.com/the-trello-tech-stack#:%7E:text=We%20use%20a%20modified%20version,of%20CPU%20or%20memory%20usage.\" rel=\"nofollow noreferrer\">Trello</a>, <a href=\"https://en.wikipedia.org/wiki/Socket.IO\" rel=\"nofollow noreferrer\">Microsoft Office, Yammer, and Zendesk</a>.</p>\n<p>As @Tintin said, it's also very popular on GitHub and NPM.</p>\n"}],"owner":{"account_id":24249128,"reputation":68,"user_id":18200393,"display_name":"Swalih T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1658684224,"accepted_answer_id":73046459,"answer_count":2,"score":-1,"last_activity_date":1658295616,"creation_date":1658294427,"question_id":73046322,"body_markdown":"I want to do some real-time operations in my backend. In the past, I used the pusher for real-time operations. But its cost is huge. So, I am thinking about using the socket IO itself. Before using it, I thought about asking for it in the stackoverflow community. So, what do you guys suggest? Is it suitable for use on a production server?","title":"Is socketio good to use in production website","body":"<p>I want to do some real-time operations in my backend. In the past, I used the pusher for real-time operations. But its cost is huge. So, I am thinking about using the socket IO itself. Before using it, I thought about asking for it in the stackoverflow community. So, what do you guys suggest? Is it suitable for use on a production server?</p>\n"},{"tags":["java","android","kotlin","retrofit","okhttp"],"comments":[{"owner":{"account_id":19536865,"reputation":1,"user_id":14295465,"display_name":"Harsha"},"score":0,"creation_date":1658420871,"post_id":73044627,"comment_id":129052931,"body_markdown":"The issue was with passing the client twice in ServicesFactory, adding interceptor to client class worked","body":"The issue was with passing the client twice in ServicesFactory, adding interceptor to client class worked"}],"answers":[{"tags":[],"owner":{"account_id":23985212,"reputation":59,"user_id":17972097,"display_name":"Ali Salmanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658295265,"creation_date":1658295265,"answer_id":73046414,"question_id":73044627,"body_markdown":"To get the error text in the header section\r\n\r\n     headers[&quot;Accept&quot;] = &quot;application/json&quot;\r\n\r\nand process the error in json form, this way worked for me\r\n\r\n   \r\n\r\n    Response.ErrorListener { error: VolleyError? -&gt;\r\n                    if (error is TimeoutError || error is NoConnectionError) {\r\n                        Constants.checkInternet(context)\r\n                    } else if (error is ServerError) {\r\n                        val responseBody = String(error.networkResponse.data, Charsets.UTF_8)\r\n                        val errorMsg: String =\r\n                            JSONObject(responseBody).getJSONObject(TAG_META).getJSONObject(\r\n                                TAG_STATUS)\r\n                                .getString(TAG_MESSAGE)\r\n                        Toast.makeText(context, errorMsg + &quot;&quot;, Toast.LENGTH_SHORT)\r\n                            .show()\r\n\r\n                        Log.e(&quot;responseBody&quot;, responseBody)\r\n                        Log.e(&quot;errorMsg&quot;, errorMsg)\r\n                    }\r\n                    Loading.hide(loading)\r\n\r\n                }","title":"Android retrofit async api calls won&#39;t work after adding okHttp interceptor to check for network connection","body":"<p>To get the error text in the header section</p>\n<pre><code> headers[&quot;Accept&quot;] = &quot;application/json&quot;\n</code></pre>\n<p>and process the error in json form, this way worked for me</p>\n<pre><code>Response.ErrorListener { error: VolleyError? -&gt;\n                if (error is TimeoutError || error is NoConnectionError) {\n                    Constants.checkInternet(context)\n                } else if (error is ServerError) {\n                    val responseBody = String(error.networkResponse.data, Charsets.UTF_8)\n                    val errorMsg: String =\n                        JSONObject(responseBody).getJSONObject(TAG_META).getJSONObject(\n                            TAG_STATUS)\n                            .getString(TAG_MESSAGE)\n                    Toast.makeText(context, errorMsg + &quot;&quot;, Toast.LENGTH_SHORT)\n                        .show()\n\n                    Log.e(&quot;responseBody&quot;, responseBody)\n                    Log.e(&quot;errorMsg&quot;, errorMsg)\n                }\n                Loading.hide(loading)\n\n            }\n</code></pre>\n"}],"owner":{"account_id":19536865,"reputation":1,"user_id":14295465,"display_name":"Harsha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658295265,"creation_date":1658275215,"question_id":73044627,"body_markdown":"We have both asynchronous and synchronous calls implemented using retrofit and Either to map success/error. After adding the network interceptor asynchronous calls are returning bad responses(works fine on postman). I have tried adding a general error JSON response thinking Either is not able to catch the exceptions but still no luck. please suggest a fix or new approach  \r\n\r\n**Interceptorclass** - \r\n\r\n    override fun intercept(chain: Interceptor.Chain): Response {\r\n        val request = chain.request()\r\n        try {\r\n            val response = chain.proceed(request)\r\n\r\n            val bodyString = response.body!!.string()\r\n\r\n            return response.newBuilder()\r\n                .body(ResponseBody.create(response.body?.contentType(), bodyString))\r\n                .build()\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n            var msg = &quot;&quot;\r\n            when (e) {\r\n                is SocketTimeoutException -&gt; {\r\n                    msg = &quot;Timeout - Please check your internet connection&quot;\r\n                }\r\n                is UnknownHostException -&gt; {\r\n                    msg = &quot;Unable to make a connection. Please check your internet&quot;\r\n                }\r\n                is ConnectionShutdownException -&gt; {\r\n                    msg = &quot;Connection shutdown. Please check your internet&quot;\r\n                }\r\n                is IOException -&gt; {\r\n                    msg = &quot;Server is unreachable, please try again later.&quot;\r\n                }\r\n                is IllegalStateException -&gt; {\r\n                    msg = &quot;${e.message}&quot;\r\n                }\r\n                else -&gt; {\r\n                    msg = &quot;${e.message}&quot;\r\n                }\r\n            }\r\n\r\n            return Response.Builder()\r\n                .request(request)\r\n                .protocol(Protocol.HTTP_1_1)\r\n                .code(999)\r\n                .message(msg)\r\n                .body(ResponseBody.create(null, &quot;{${e}}&quot;)).build()\r\n        }\r\n    }`\r\n\r\n**client** - `val client1 = OkHttpClient.Builder()\r\n        .addInterceptor(Interceptor)\r\n        .build()`\r\n\r\nServiceConfig.kt - Adding client as below\r\n\r\n     @Singleton\r\n    @Provides\r\n    @BaseUrl(BaseUrlType.SERVICES)\r\n    fun provideSupportRetrofit(\r\n        jsonConverters: Converter.Factory,\r\n        @HttpClient(ClientType.OAUTH) client: Call.Factory\r\n    ): ServicesFactory {\r\n        return fakeServicesFactory ?: Retrofit.Builder()\r\n            .callFactory(client)\r\n            .baseUrl(baseUrlServices)\r\n            .addCallAdapterFactory(EitherCallAdapterFactory())\r\n            .addConverterFactory(EitherConverterFactory())\r\n            .addConverterFactory(FiberErrorConverterFactory())\r\n            .addConverterFactory(jsonConverters)\r\n            .addConverterFactory(primitiveTypeConverters)\r\n            .client(client1)\r\n            .build()\r\n            .asFactory\r\n    }\r\n\r\n**EitherCovertor.kt** - \r\n\r\n   \r\n    `override fun enqueue(callback: Callback&lt;Either&lt;*, *&gt;&gt;) {\r\n        call.enqueue(object : Callback&lt;Either&lt;*, *&gt;&gt; {\r\n            override fun onResponse(call: Call&lt;Either&lt;*, *&gt;&gt;, response: Response&lt;Either&lt;*, *&gt;&gt;) {\r\n                callback.onResponse(this@EitherCall, response.asEither)\r\n                }\r\n\r\n            }\r\n\r\n            override fun onFailure(call: Call&lt;Either&lt;*, *&gt;&gt;, t: Throwable) {\r\n                when (t) {\r\n                    is Error -&gt; {\r\n                        Timber.e(&quot;Failure Error from API&quot;)\r\n                        callback.onFailure(call, t)\r\n                    }\r\n                    else -&gt; callback.onResponse(this@EitherCall, t.asEither)\r\n                }\r\n            }\r\n        })\r\n    }`\r\n\r\n\r\n\r\n","title":"Android retrofit async api calls won&#39;t work after adding okHttp interceptor to check for network connection","body":"<p>We have both asynchronous and synchronous calls implemented using retrofit and Either to map success/error. After adding the network interceptor asynchronous calls are returning bad responses(works fine on postman). I have tried adding a general error JSON response thinking Either is not able to catch the exceptions but still no luck. please suggest a fix or new approach</p>\n<p><strong>Interceptorclass</strong> -</p>\n<pre><code>override fun intercept(chain: Interceptor.Chain): Response {\n    val request = chain.request()\n    try {\n        val response = chain.proceed(request)\n\n        val bodyString = response.body!!.string()\n\n        return response.newBuilder()\n            .body(ResponseBody.create(response.body?.contentType(), bodyString))\n            .build()\n    } catch (e: Exception) {\n        e.printStackTrace()\n        var msg = &quot;&quot;\n        when (e) {\n            is SocketTimeoutException -&gt; {\n                msg = &quot;Timeout - Please check your internet connection&quot;\n            }\n            is UnknownHostException -&gt; {\n                msg = &quot;Unable to make a connection. Please check your internet&quot;\n            }\n            is ConnectionShutdownException -&gt; {\n                msg = &quot;Connection shutdown. Please check your internet&quot;\n            }\n            is IOException -&gt; {\n                msg = &quot;Server is unreachable, please try again later.&quot;\n            }\n            is IllegalStateException -&gt; {\n                msg = &quot;${e.message}&quot;\n            }\n            else -&gt; {\n                msg = &quot;${e.message}&quot;\n            }\n        }\n\n        return Response.Builder()\n            .request(request)\n            .protocol(Protocol.HTTP_1_1)\n            .code(999)\n            .message(msg)\n            .body(ResponseBody.create(null, &quot;{${e}}&quot;)).build()\n    }\n}`\n</code></pre>\n<p><strong>client</strong> - <code>val client1 = OkHttpClient.Builder() .addInterceptor(Interceptor) .build()</code></p>\n<p>ServiceConfig.kt - Adding client as below</p>\n<pre><code> @Singleton\n@Provides\n@BaseUrl(BaseUrlType.SERVICES)\nfun provideSupportRetrofit(\n    jsonConverters: Converter.Factory,\n    @HttpClient(ClientType.OAUTH) client: Call.Factory\n): ServicesFactory {\n    return fakeServicesFactory ?: Retrofit.Builder()\n        .callFactory(client)\n        .baseUrl(baseUrlServices)\n        .addCallAdapterFactory(EitherCallAdapterFactory())\n        .addConverterFactory(EitherConverterFactory())\n        .addConverterFactory(FiberErrorConverterFactory())\n        .addConverterFactory(jsonConverters)\n        .addConverterFactory(primitiveTypeConverters)\n        .client(client1)\n        .build()\n        .asFactory\n}\n</code></pre>\n<p><strong>EitherCovertor.kt</strong> -</p>\n<pre><code>`override fun enqueue(callback: Callback&lt;Either&lt;*, *&gt;&gt;) {\n    call.enqueue(object : Callback&lt;Either&lt;*, *&gt;&gt; {\n        override fun onResponse(call: Call&lt;Either&lt;*, *&gt;&gt;, response: Response&lt;Either&lt;*, *&gt;&gt;) {\n            callback.onResponse(this@EitherCall, response.asEither)\n            }\n\n        }\n\n        override fun onFailure(call: Call&lt;Either&lt;*, *&gt;&gt;, t: Throwable) {\n            when (t) {\n                is Error -&gt; {\n                    Timber.e(&quot;Failure Error from API&quot;)\n                    callback.onFailure(call, t)\n                }\n                else -&gt; callback.onResponse(this@EitherCall, t.asEither)\n            }\n        }\n    })\n}`\n</code></pre>\n"},{"tags":["java","mysql","jdbc","connection","try-with-resources"],"comments":[{"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":0,"creation_date":1658259009,"post_id":73040565,"comment_id":129006198,"body_markdown":"Thats a clear question.","body":"Thats a clear question."}],"answers":[{"tags":[],"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658248654,"creation_date":1658248654,"answer_id":73040618,"question_id":73040565,"body_markdown":"The resource allocated in the try-with-resources block is closed when you leave the block. So when you return the connection, that connection is closed. The reference to the connection is still valid though and will not be GCed until it is no longer referenced.\r\n\r\nYou can think of it this way. If the connection returned here was not closed, when would the compiler know that it should close it? The compiler can not know that.\r\n\r\nYou should use the connection inside that block or manage closing the connection yourself and not use try-with-resources.  ","title":"Why does a Connection enclosed in try with resources not allow any operations?","body":"<p>The resource allocated in the try-with-resources block is closed when you leave the block. So when you return the connection, that connection is closed. The reference to the connection is still valid though and will not be GCed until it is no longer referenced.</p>\n<p>You can think of it this way. If the connection returned here was not closed, when would the compiler know that it should close it? The compiler can not know that.</p>\n<p>You should use the connection inside that block or manage closing the connection yourself and not use try-with-resources.</p>\n"},{"tags":[],"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658294603,"creation_date":1658258906,"answer_id":73042524,"question_id":73040565,"body_markdown":"The try-with-resources statement ensures that each *resource* is closed at the end of this expression. \n\nAs [per contract][1], any object that\n\n&gt; implements `java.lang.AutoCloseable`, which includes all objects which implement `java.io.Closeable`, \n\ncan be used as a resource.\n\nThe [`java.sql.Connection`][2] interface extends `AutoClosable`.\n\nTherefore, an implementation of the [`close()`][3] method is guaranteed to be called automatically at runtime via the try-with-resources construction. Calling `close()` results in:\n\n&gt; Closes this resource, relinquishing any underlying resources.\n\nIn case of a JDBC driver, communication with the database management system is &quot;cut off in a normal and synchronous manner. Afterwards, the object you pass on (by returning it) is, practically speaking, useless. \n\n\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html#close--","title":"Why does a Connection enclosed in try with resources not allow any operations?","body":"<p>The try-with-resources statement ensures that each <em>resource</em> is closed at the end of this expression.</p>\n<p>As <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">per contract</a>, any object that</p>\n<blockquote>\n<p>implements <code>java.lang.AutoCloseable</code>, which includes all objects which implement <code>java.io.Closeable</code>,</p>\n</blockquote>\n<p>can be used as a resource.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html\" rel=\"nofollow noreferrer\"><code>java.sql.Connection</code></a> interface extends <code>AutoClosable</code>.</p>\n<p>Therefore, an implementation of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html#close--\" rel=\"nofollow noreferrer\"><code>close()</code></a> method is guaranteed to be called automatically at runtime via the try-with-resources construction. Calling <code>close()</code> results in:</p>\n<blockquote>\n<p>Closes this resource, relinquishing any underlying resources.</p>\n</blockquote>\n<p>In case of a JDBC driver, communication with the database management system is &quot;cut off in a normal and synchronous manner. Afterwards, the object you pass on (by returning it) is, practically speaking, useless.</p>\n"}],"owner":{"account_id":8369136,"reputation":3472,"user_id":6284785,"accept_rate":50,"display_name":"Anatoly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73040618,"answer_count":2,"score":0,"last_activity_date":1658294603,"creation_date":1658248393,"question_id":73040565,"body_markdown":"I want to use try with resources, though my program can not fulfill operations after connection is closed.\r\n\r\n    String conn = &quot;jdbc:mysql://localhost:3306/test?&amp;serverTimeZone=Europe/Moscow&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;\r\n    try (Connection connection = DriverManager.getConnection( conn,&quot;root&quot;,&quot;admin&quot;))\r\n       {\r\n        return connection;\r\n       } catch (SQLException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n\r\n\r\n\r\nMy project is https://github.com/anatoliy19/1.1.3.git","title":"Why does a Connection enclosed in try with resources not allow any operations?","body":"<p>I want to use try with resources, though my program can not fulfill operations after connection is closed.</p>\n<pre><code>String conn = &quot;jdbc:mysql://localhost:3306/test?&amp;serverTimeZone=Europe/Moscow&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;\ntry (Connection connection = DriverManager.getConnection( conn,&quot;root&quot;,&quot;admin&quot;))\n   {\n    return connection;\n   } catch (SQLException e) {\n  throw new RuntimeException(e);\n}\n</code></pre>\n<p>My project is <a href=\"https://github.com/anatoliy19/1.1.3.git\" rel=\"nofollow noreferrer\">https://github.com/anatoliy19/1.1.3.git</a></p>\n"},{"tags":["java","jna"],"comments":[{"owner":{"account_id":329401,"reputation":1513,"user_id":652890,"accept_rate":44,"display_name":"allthenutsandbolts"},"score":0,"creation_date":1658256033,"post_id":73028096,"comment_id":129005202,"body_markdown":"I&#39;m using this code and when I print what&#39;s in Pointer, I don&#39;t get all bytes\n\nPointer p  =new Memory(DataLen*2);\n            p.setString(0,str);\n            System.out.println(p.getString(0));","body":"I&#39;m using this code and when I print what&#39;s in Pointer, I don&#39;t get all bytes  Pointer p  =new Memory(DataLen*2);             p.setString(0,str);             System.out.println(p.getString(0));"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1658257932,"post_id":73028096,"comment_id":129005826,"body_markdown":"&quot;this code&quot; is which code?  Where did you get DataLen?  What is missing? Did you add a byte (or 2 bytes for UTF16) for null terminator?  You really need to provide more code and more details, otherwise we are just guessing at your problem.","body":"&quot;this code&quot; is which code?  Where did you get DataLen?  What is missing? Did you add a byte (or 2 bytes for UTF16) for null terminator?  You really need to provide more code and more details, otherwise we are just guessing at your problem."},{"owner":{"account_id":329401,"reputation":1513,"user_id":652890,"accept_rate":44,"display_name":"allthenutsandbolts"},"score":0,"creation_date":1658259640,"post_id":73028096,"comment_id":129006380,"body_markdown":"Here is what I have\n// DataLen is the actual lenght of data which is being pulled from Header of a file. This file is custom file  if I don&#39;t multiply by 2 I Get an error saying\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Bounds exceeds available space : size=14070, offset=25097\n\n \n\n\nPointer p  =new Memory(DataLen*2); \n            p.setString(0,str);\n            p.setMemory(0 + str.length(), 1, (byte)(0));\n            System.out.println(&quot;HAHAHA&quot; + p.getString(0));\n\n\nthis last statement should give me all the data from the pointer but it gives me just few bytes.","body":"Here is what I have // DataLen is the actual lenght of data which is being pulled from Header of a file. This file is custom file  if I don&#39;t multiply by 2 I Get an error saying Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Bounds exceeds available space : size=14070, offset=25097      Pointer p  =new Memory(DataLen*2);              p.setString(0,str);             p.setMemory(0 + str.length(), 1, (byte)(0));             System.out.println(&quot;HAHAHA&quot; + p.getString(0));   this last statement should give me all the data from the pointer but it gives me just few bytes."},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1658271223,"post_id":73028096,"comment_id":129009207,"body_markdown":"This seems like you have a string of length 25097.  Where does the string come from?  Where do you call the `test()` function?   What is the encoding of your String?","body":"This seems like you have a string of length 25097.  Where does the string come from?  Where do you call the <code>test()</code> function?   What is the encoding of your String?"},{"owner":{"account_id":329401,"reputation":1513,"user_id":652890,"accept_rate":44,"display_name":"allthenutsandbolts"},"score":0,"creation_date":1658279404,"post_id":73028096,"comment_id":129010465,"body_markdown":"Thanks for your help. The String is being read from a file. This data is coming from a satellite feed. I think that is being written in C. We don&#39;t own that piece of code.  After digging around found and used US_ASCII encoding that fixed the length issue but when I try to read the string back from the pointer, I don&#39;t get the entire string back, I only get first 16 bytes only.\n\n\n Pointer p  =new Memory( str.length() +1);\n            p.setString(0,str,&quot;US-ASCII&quot;);\n            p.setMemory(0 + str.length(), 1, (byte)(0));\n            System.out.println(&quot;HAHAHA&quot; + p.getString(0,&quot;US-ASCII&quot;));","body":"Thanks for your help. The String is being read from a file. This data is coming from a satellite feed. I think that is being written in C. We don&#39;t own that piece of code.  After digging around found and used US_ASCII encoding that fixed the length issue but when I try to read the string back from the pointer, I don&#39;t get the entire string back, I only get first 16 bytes only.    Pointer p  =new Memory( str.length() +1);             p.setString(0,str,&quot;US-ASCII&quot;);             p.setMemory(0 + str.length(), 1, (byte)(0));             System.out.println(&quot;HAHAHA&quot; + p.getString(0,&quot;US-ASCII&quot;));"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1658293432,"post_id":73028096,"comment_id":129012511,"body_markdown":"The `Pointer` class `getString()` stops at the first null byte when reading ASCII.  So if your received data has any null bytes in it, that&#39;s where it stops.  If there&#39;s more data, you&#39;ll need to iterate over it and read past the nulls.","body":"The <code>Pointer</code> class <code>getString()</code> stops at the first null byte when reading ASCII.  So if your received data has any null bytes in it, that&#39;s where it stops.  If there&#39;s more data, you&#39;ll need to iterate over it and read past the nulls."},{"owner":{"account_id":329401,"reputation":1513,"user_id":652890,"accept_rate":44,"display_name":"allthenutsandbolts"},"score":0,"creation_date":1658326957,"post_id":73028096,"comment_id":129024757,"body_markdown":"Thanks that&#39;s what I found out. The issue is how do I pass the entire data to the c Function. I need to pass the entire 14070 bytes of data but now it&#39;s only passing part of it. \n\nI even tried to cha","body":"Thanks that&#39;s what I found out. The issue is how do I pass the entire data to the c Function. I need to pass the entire 14070 bytes of data but now it&#39;s only passing part of it.   I even tried to cha"},{"owner":{"account_id":329401,"reputation":1513,"user_id":652890,"accept_rate":44,"display_name":"allthenutsandbolts"},"score":0,"creation_date":1658332609,"post_id":73028096,"comment_id":129027344,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/246621/discussion-between-allthenutsandbolts-and-daniel-widdis).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/246621/discussion-between-allthenutsandbolts-and-daniel-widdis\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658294066,"creation_date":1658206346,"answer_id":73031290,"question_id":73028096,"body_markdown":"In C, a `char` is a byte.\r\n\r\nIn JNA, the most straightforward mapping of a pointer to a single byte is a `ByteByReference`.  After retrieving the pointer from your function, you&#39;ll use `getValue()` to fetch the `byte` (native `char`) it&#39;s pointing to.\r\n\r\nHowever, C functions also have a byte pointer when they are pointing to the beginning of a block of data, and this is where you need more information to know how much data there is going to be so you can allocate it.  This is usually defined in the API for the function you use.  \r\n\r\nYou&#39;ve guessed by multiplying some constant by 2, since you are receiving 25097 bytes but only allocated space for 14070.  You&#39;ve doubled that to 28140, but what if you now get 29000 bytes?  The API must either tell you its max vale or let you set the max value.  Doing neither is an error in the code you&#39;re using.\r\n\r\nAs for reading back a much shorter string, it is likely that the data you received is null-delimited, where subsequent strings are separated by a null byte. `Pointer.getString()` will read ASCII bytes up to the first null, and then stop.  You&#39;d need to track the length of that String, add a byte, and read past the null until you get to the end of your buffer to read the remaining bytes.  Here&#39;s [some code in JNA][1] that shows how that can be done.\r\n\r\n\r\n  [1]: https://github.com/java-native-access/jna/blob/999c60a1fa0ab1154b07edffa3748ce46d8d3b89/contrib/platform/src/com/sun/jna/platform/win32/Advapi32Util.java#L976-L1001","title":"Mapping unsigned char * in JNA","body":"<p>In C, a <code>char</code> is a byte.</p>\n<p>In JNA, the most straightforward mapping of a pointer to a single byte is a <code>ByteByReference</code>.  After retrieving the pointer from your function, you'll use <code>getValue()</code> to fetch the <code>byte</code> (native <code>char</code>) it's pointing to.</p>\n<p>However, C functions also have a byte pointer when they are pointing to the beginning of a block of data, and this is where you need more information to know how much data there is going to be so you can allocate it.  This is usually defined in the API for the function you use.</p>\n<p>You've guessed by multiplying some constant by 2, since you are receiving 25097 bytes but only allocated space for 14070.  You've doubled that to 28140, but what if you now get 29000 bytes?  The API must either tell you its max vale or let you set the max value.  Doing neither is an error in the code you're using.</p>\n<p>As for reading back a much shorter string, it is likely that the data you received is null-delimited, where subsequent strings are separated by a null byte. <code>Pointer.getString()</code> will read ASCII bytes up to the first null, and then stop.  You'd need to track the length of that String, add a byte, and read past the null until you get to the end of your buffer to read the remaining bytes.  Here's <a href=\"https://github.com/java-native-access/jna/blob/999c60a1fa0ab1154b07edffa3748ce46d8d3b89/contrib/platform/src/com/sun/jna/platform/win32/Advapi32Util.java#L976-L1001\" rel=\"nofollow noreferrer\">some code in JNA</a> that shows how that can be done.</p>\n"}],"owner":{"account_id":329401,"reputation":1513,"user_id":652890,"accept_rate":44,"display_name":"allthenutsandbolts"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1658294066,"creation_date":1658175172,"question_id":73028096,"body_markdown":"I have a C function which has a signature \r\n\r\n```c\r\nvoid test (unsigned char * p)\r\n```\r\n\r\nThe JNA code for this function is generated as\r\n\r\n```java\r\nvoid test(Pointer p);\r\n\r\nvoid test(ByteBuffer b);\r\n```\r\n\r\nI have tried with the Pointer mapping, where `DataLen` is the actual length of data which is being pulled from a file header. \r\n\r\n```java\r\nPointer p =new Memory(DataLen*2); \r\np.setString(0, str); \r\np.setMemory(0 + str.length(), 1, (byte)(0));\r\nSystem.out.println(&quot;HAHAHA&quot; + p.getString(0)); \r\n```\r\nThis last statement should give me all the data from the pointer but it gives me just few bytes.\r\n\r\nIf I don&#39;t multiply by 2 I get an error \r\n&gt; Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Bounds exceeds available space : size=14070, offset=25097 \r\n\r\nHow can I call this function in Java using JNA Pointer?\r\n","title":"Mapping unsigned char * in JNA","body":"<p>I have a C function which has a signature</p>\n<pre class=\"lang-c prettyprint-override\"><code>void test (unsigned char * p)\n</code></pre>\n<p>The JNA code for this function is generated as</p>\n<pre class=\"lang-java prettyprint-override\"><code>void test(Pointer p);\n\nvoid test(ByteBuffer b);\n</code></pre>\n<p>I have tried with the Pointer mapping, where <code>DataLen</code> is the actual length of data which is being pulled from a file header.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pointer p =new Memory(DataLen*2); \np.setString(0, str); \np.setMemory(0 + str.length(), 1, (byte)(0));\nSystem.out.println(&quot;HAHAHA&quot; + p.getString(0)); \n</code></pre>\n<p>This last statement should give me all the data from the pointer but it gives me just few bytes.</p>\n<p>If I don't multiply by 2 I get an error</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Bounds exceeds available space : size=14070, offset=25097</p>\n</blockquote>\n<p>How can I call this function in Java using JNA Pointer?</p>\n"},{"tags":["java","javafx","save"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1523211907,"post_id":49721212,"comment_id":86455581,"body_markdown":"I would think youd want it to be at least somewhat human-readable, if only for troubleshooting purposes.  If you really want it to be unreadable, make all of your preference data Serializable, and use ObjectInputStream and ObjectOutputStream to read and write it.  Personally, I always use XML for storing user application settings, or [Preferences](https://docs.oracle.com/javase/9/docs/api/java/util/prefs/Preferences.html) if all of the settings are of minor importance.","body":"I would think youd want it to be at least somewhat human-readable, if only for troubleshooting purposes.  If you really want it to be unreadable, make all of your preference data Serializable, and use ObjectInputStream and ObjectOutputStream to read and write it.  Personally, I always use XML for storing user application settings, or <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/prefs/Preferences.html\" rel=\"nofollow noreferrer\">Preferences</a> if all of the settings are of minor importance."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1523212105,"post_id":49721212,"comment_id":86455650,"body_markdown":"Making it not human-readable, of course, doesn&#39;t make it secure. If you want to secure the file, you should do that at the file system level, e.g. by writing to file to a directory only that specific user has access to.","body":"Making it not human-readable, of course, doesn&#39;t make it secure. If you want to secure the file, you should do that at the file system level, e.g. by writing to file to a directory only that specific user has access to."}],"answers":[{"tags":[],"owner":{"account_id":12513683,"reputation":464,"user_id":9107821,"display_name":"Gabriel"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1523212447,"creation_date":1523212447,"answer_id":49721355,"question_id":49721212,"body_markdown":"If you need to save more user informations, you can use a database.   \r\nBut if you need to save one user information, you can use Preferences :\r\n\r\n    Preferences pref;\r\n\tpref = Preferences.userNodeForPackage(yourClass.class);\r\n    pref.put(&quot;yourPreferenceName&quot;,&quot;yourPreferenceValue&quot;);\r\n    //This create a String preference if it not exists or modify the value if \r\n    //exists\r\n\r\n    Preferences pref;\r\n\tpref = Preferences.userNodeForPackage(yourClass.class); \r\n    String preference = pref.get(&quot;yourPreferenceName&quot;,&quot;yourPreferenceValue&quot;);\r\n    //This give you the value of the preference\r\n\r\nIf you want to know more about the preferences go [here](https://docs.oracle.com/javase/7/docs/api/java/util/prefs/Preferences.html#get(java.lang.String,%20java.lang.String)).","title":"save application setting in java &amp; javafx","body":"<p>If you need to save more user informations, you can use a database.<br>\nBut if you need to save one user information, you can use Preferences :</p>\n\n<pre><code>Preferences pref;\npref = Preferences.userNodeForPackage(yourClass.class);\npref.put(\"yourPreferenceName\",\"yourPreferenceValue\");\n//This create a String preference if it not exists or modify the value if \n//exists\n\nPreferences pref;\npref = Preferences.userNodeForPackage(yourClass.class); \nString preference = pref.get(\"yourPreferenceName\",\"yourPreferenceValue\");\n//This give you the value of the preference\n</code></pre>\n\n<p>If you want to know more about the preferences go <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/prefs/Preferences.html#get(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1838177,"reputation":93,"user_id":1668127,"display_name":"hitesh.incept"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658293719,"creation_date":1658293719,"answer_id":73046251,"question_id":49721212,"body_markdown":"There is framework named [PreferencesFX][1] which is built using JavaFx (supports Java 8 and Java 11). You can use that framework API according to your use case to save preferences in better way with proper UI.\r\n\r\n\r\n  [1]: https://github.com/dlsc-software-consulting-gmbh/PreferencesFX","title":"save application setting in java &amp; javafx","body":"<p>There is framework named <a href=\"https://github.com/dlsc-software-consulting-gmbh/PreferencesFX\" rel=\"nofollow noreferrer\">PreferencesFX</a> which is built using JavaFx (supports Java 8 and Java 11). You can use that framework API according to your use case to save preferences in better way with proper UI.</p>\n"}],"owner":{"account_id":12546015,"reputation":137,"user_id":9129299,"accept_rate":25,"display_name":"George Wang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5384,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1658293719,"creation_date":1523211616,"question_id":49721212,"body_markdown":"I&#39;m very new to this topic and trying to gain some understanding. I&#39;m writing an application that allows user to personalize it and create his/own preferences, such as font color, size, certain nodes&#39; positions and etc. While doing my research, I found couple examples using xml files to store users&#39; perferenace.\r\n\r\nIs this the best way to store information? Is there a more secure way to do it? since xml file is readable for people and not just the machine.  ","title":"save application setting in java &amp; javafx","body":"<p>I'm very new to this topic and trying to gain some understanding. I'm writing an application that allows user to personalize it and create his/own preferences, such as font color, size, certain nodes' positions and etc. While doing my research, I found couple examples using xml files to store users' perferenace.</p>\n\n<p>Is this the best way to store information? Is there a more secure way to do it? since xml file is readable for people and not just the machine.  </p>\n"},{"tags":["java","arraylist","collections","guava"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1658277811,"post_id":73044803,"comment_id":129010207,"body_markdown":"By your definition, a `Person` object only contains `id` and `pwd`.  If you want objects that also contain a `modifiedPwd`, you need a new class, possibly extending `Person`.","body":"By your definition, a <code>Person</code> object only contains <code>id</code> and <code>pwd</code>.  If you want objects that also contain a <code>modifiedPwd</code>, you need a new class, possibly extending <code>Person</code>."}],"answers":[{"tags":[],"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658293713,"creation_date":1658293713,"answer_id":73046250,"question_id":73044803,"body_markdown":"*If I understood the question correctly, you are probably looking for something like this*\r\n\r\n    public class App{\r\n    \r\n    public static void main(String[] args) throws IOException {\r\n    \r\n          List&lt;Person&gt; persons =\r\n              List.of(new Person(&quot;a&quot;, &quot;pwd1&quot;), new Person(&quot;b&quot;, &quot;pwd2&quot;), new Person(&quot;c&quot;, &quot;pwd3&quot;));\r\n    \r\n          System.out.println(persons); //PRINTS [App.Person(id=a, pwd=pwd1), Trees.BST.Person(id=b, pwd=pwd2), Trees.BST.Person(id=c, pwd=pwd3)]\r\n    \r\n          persons.stream().forEach(e -&gt; e.pwd = e.pwd + &quot;_modified&quot;);\r\n    \r\n          System.out.println(&quot;Persons with modified passwords&quot; + persons); //PRINTS [App.Person(id=a, pwd=pwd1_modified), App.Person(id=b, pwd=pwd2_modified), App.Person(id=c, pwd=pwd3_modified)]\r\n        }\r\n    \r\n        @Setter\r\n        @Getter\r\n        @AllArgsConstructor\r\n        @ToString\r\n        public static class Person {\r\n          String id;\r\n          String pwd;\r\n        }\r\n    \r\n    }","title":"Iteratively apply a function on one field of every element in a list of POJO objects in java","body":"<p><em>If I understood the question correctly, you are probably looking for something like this</em></p>\n<pre><code>public class App{\n\npublic static void main(String[] args) throws IOException {\n\n      List&lt;Person&gt; persons =\n          List.of(new Person(&quot;a&quot;, &quot;pwd1&quot;), new Person(&quot;b&quot;, &quot;pwd2&quot;), new Person(&quot;c&quot;, &quot;pwd3&quot;));\n\n      System.out.println(persons); //PRINTS [App.Person(id=a, pwd=pwd1), Trees.BST.Person(id=b, pwd=pwd2), Trees.BST.Person(id=c, pwd=pwd3)]\n\n      persons.stream().forEach(e -&gt; e.pwd = e.pwd + &quot;_modified&quot;);\n\n      System.out.println(&quot;Persons with modified passwords&quot; + persons); //PRINTS [App.Person(id=a, pwd=pwd1_modified), App.Person(id=b, pwd=pwd2_modified), App.Person(id=c, pwd=pwd3_modified)]\n    }\n\n    @Setter\n    @Getter\n    @AllArgsConstructor\n    @ToString\n    public static class Person {\n      String id;\n      String pwd;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14720100,"reputation":69,"user_id":10630979,"display_name":"Mojo jojo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1658293713,"creation_date":1658277379,"question_id":73044803,"body_markdown":"I have a list of objects. Let&#39;s say the object looks like this\r\n\r\n```\r\nPerson: \r\n{\r\n   id\r\n   pwd\r\n}\r\n```\r\nNow, I have a function that modifies the `pwd` and returns the modified string.\r\n\r\n```\r\npublic String modifyPwd(final String pwd) {\r\n   // Some operation\r\n   return modifiedPwd;\r\n}\r\n```\r\n\r\nI want to iteratively apply modifyPwd() on `Person.pwd` on a list of Person objects.\r\n\r\nThe end result should have a list of Person objects with each containing both unmodified `id` and `modifiedPwd`.\r\n\r\n\r\nIs there a way to do this using streams without creating a new list and/or a for loop?\r\n\r\n","title":"Iteratively apply a function on one field of every element in a list of POJO objects in java","body":"<p>I have a list of objects. Let's say the object looks like this</p>\n<pre><code>Person: \n{\n   id\n   pwd\n}\n</code></pre>\n<p>Now, I have a function that modifies the <code>pwd</code> and returns the modified string.</p>\n<pre><code>public String modifyPwd(final String pwd) {\n   // Some operation\n   return modifiedPwd;\n}\n</code></pre>\n<p>I want to iteratively apply modifyPwd() on <code>Person.pwd</code> on a list of Person objects.</p>\n<p>The end result should have a list of Person objects with each containing both unmodified <code>id</code> and <code>modifiedPwd</code>.</p>\n<p>Is there a way to do this using streams without creating a new list and/or a for loop?</p>\n"},{"tags":["java","protocol-buffers","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":21172887,"reputation":66,"user_id":15568835,"display_name":"n4n5"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658293188,"creation_date":1658293188,"answer_id":73046204,"question_id":72051017,"body_markdown":"Did you try to use the `optional` keyword ?\r\n\r\n```\r\nmessage Form {\r\n\r\n  // other fields ...\r\n\r\n  optional PciSaq pci_saq_a = 2;\r\n  optional PciSaq pci_saq_b = 3;\r\n  optional PciSaq pci_saq_c = 4;\r\n}\r\n```\r\n\r\nThis question about `optional` looks interesting : https://stackoverflow.com/q/42622015","title":"Is there a way to only output oneof fields in response body for a proto definition","body":"<p>Did you try to use the <code>optional</code> keyword ?</p>\n<pre><code>message Form {\n\n  // other fields ...\n\n  optional PciSaq pci_saq_a = 2;\n  optional PciSaq pci_saq_b = 3;\n  optional PciSaq pci_saq_c = 4;\n}\n</code></pre>\n<p>This question about <code>optional</code> looks interesting : <a href=\"https://stackoverflow.com/q/42622015\">How to define an optional field in protobuf 3</a></p>\n"}],"owner":{"account_id":14838900,"reputation":21,"user_id":10716172,"display_name":"Aureliano Yepez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658293188,"creation_date":1651186184,"question_id":72051017,"body_markdown":"For context, I am investigating why oneof returns null fields for fields that were never set. Below is my proto definition, and response body. I use proto buf definitions as a way to pass messages within my application, and inorder to convert db objects back to proto objects i use a converter class to convert db -&gt; proto buf, vice versa, therafter the proto buf definition serves as a response to the api call\r\n\r\n\r\nIf I explicitly set PciSaq saq_b with java generated code:\r\n\r\n\r\n\r\n```java\r\nV1Form formObject = new V1Form();\r\nformObject.setId(&quot;some_id&quot;);\r\nformObject.setCreatedAt(&quot;&quot;);\r\nformObject.setUpdatedAt(&quot;&quot;);\r\nformObject.setSaqB(&quot;some_object&quot;);\r\n\r\n// the response body is shown below: \r\n```\r\n\r\napi response\r\n```json\r\n{\r\n    &quot;id&quot;: &quot;xxxxxxxxx&quot;,\r\n    &quot;created_at&quot;: &quot;2022-04-26T22:57:51.671825-07:00&quot;,\r\n    &quot;updated_at&quot;: &quot;2022-04-26T22:57:51.671825-07:00&quot;,\r\n    &quot;pci_saq_a&quot;: null,\r\n    &quot;pci_saq_b&quot;: {\r\n        &quot;name&quot;: null,\r\n        &quot;signed_at&quot;: null,\r\n        &quot;user_agent&quot;: null,\r\n        &quot;ip_address&quot;: null,\r\n        &quot;is_accepted&quot;: null\r\n    },\r\n    &quot;pci_saq_c&quot;: null,\r\n}\r\n```\r\n\r\nhowever, the expected behavior should be:\r\n\r\n```json\r\n{\r\n    &quot;id&quot;: &quot;xxxxxxxxx&quot;,\r\n    &quot;created_at&quot;: &quot;2022-04-26T22:57:51.671825-07:00&quot;,\r\n    &quot;updated_at&quot;: &quot;2022-04-26T22:57:51.671825-07:00&quot;,\r\n    &quot;pci_saq_b&quot;: {\r\n        &quot;name&quot;: null,\r\n        &quot;signed_at&quot;: null,\r\n        &quot;user_agent&quot;: null,\r\n        &quot;ip_address&quot;: null,\r\n        &quot;is_accepted&quot;: null\r\n    },\r\n}\r\n```\r\n\r\nproto definition:\r\n```proto\r\nmessage Form {\r\n\r\n\r\n  string id = 1 [\r\n    (google.api.field_behavior) = OUTPUT_ONLY,\r\n    (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_field) = {\r\n      read_only: true,\r\n      example: &#39;&quot;377eca8f-8cf4-42d4-bde6-17d44dc1e961&quot;&#39;\r\n    }\r\n  ];\r\n\r\n    google.protobuf.Timestamp created_at = 2[\r\n    (google.api.field_behavior) = OUTPUT_ONLY,\r\n    (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_field) = {\r\n      read_only: true\r\n    }\r\n  ];\r\n\r\n  // The time the resource will update.\r\n  google.protobuf.Timestamp updated_at = 3[\r\n    (google.api.field_behavior) = OUTPUT_ONLY,\r\n    (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_field) = {\r\n      read_only: true\r\n    }\r\n  ];\r\n\r\n\r\n  oneof pci_form {\r\n    PciSaq pci_saq_a = 2;\r\n    PciSaq pci_saq_b = 3;\r\n    PciSaq pci_saq_c = 4;\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\nForm.java generated code contains fields as well \r\n\r\n```java\r\n  @JsonProperty(&quot;pci_saq_a&quot;)\r\n  private V1PciSaq pciSaqA;\r\n\r\n  @JsonProperty(&quot;pci_saq_b&quot;)\r\n  private V1PciSaq pciSaqB;\r\n\r\n  @JsonProperty(&quot;pci_saq_c&quot;)\r\n  private V1PciSaq pciSaqC;\r\n\r\n```\r\n","title":"Is there a way to only output oneof fields in response body for a proto definition","body":"<p>For context, I am investigating why oneof returns null fields for fields that were never set. Below is my proto definition, and response body. I use proto buf definitions as a way to pass messages within my application, and inorder to convert db objects back to proto objects i use a converter class to convert db -&gt; proto buf, vice versa, therafter the proto buf definition serves as a response to the api call</p>\n<p>If I explicitly set PciSaq saq_b with java generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>V1Form formObject = new V1Form();\nformObject.setId(&quot;some_id&quot;);\nformObject.setCreatedAt(&quot;&quot;);\nformObject.setUpdatedAt(&quot;&quot;);\nformObject.setSaqB(&quot;some_object&quot;);\n\n// the response body is shown below: \n</code></pre>\n<p>api response</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: &quot;xxxxxxxxx&quot;,\n    &quot;created_at&quot;: &quot;2022-04-26T22:57:51.671825-07:00&quot;,\n    &quot;updated_at&quot;: &quot;2022-04-26T22:57:51.671825-07:00&quot;,\n    &quot;pci_saq_a&quot;: null,\n    &quot;pci_saq_b&quot;: {\n        &quot;name&quot;: null,\n        &quot;signed_at&quot;: null,\n        &quot;user_agent&quot;: null,\n        &quot;ip_address&quot;: null,\n        &quot;is_accepted&quot;: null\n    },\n    &quot;pci_saq_c&quot;: null,\n}\n</code></pre>\n<p>however, the expected behavior should be:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: &quot;xxxxxxxxx&quot;,\n    &quot;created_at&quot;: &quot;2022-04-26T22:57:51.671825-07:00&quot;,\n    &quot;updated_at&quot;: &quot;2022-04-26T22:57:51.671825-07:00&quot;,\n    &quot;pci_saq_b&quot;: {\n        &quot;name&quot;: null,\n        &quot;signed_at&quot;: null,\n        &quot;user_agent&quot;: null,\n        &quot;ip_address&quot;: null,\n        &quot;is_accepted&quot;: null\n    },\n}\n</code></pre>\n<p>proto definition:</p>\n<pre class=\"lang-proto prettyprint-override\"><code>message Form {\n\n\n  string id = 1 [\n    (google.api.field_behavior) = OUTPUT_ONLY,\n    (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_field) = {\n      read_only: true,\n      example: '&quot;377eca8f-8cf4-42d4-bde6-17d44dc1e961&quot;'\n    }\n  ];\n\n    google.protobuf.Timestamp created_at = 2[\n    (google.api.field_behavior) = OUTPUT_ONLY,\n    (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_field) = {\n      read_only: true\n    }\n  ];\n\n  // The time the resource will update.\n  google.protobuf.Timestamp updated_at = 3[\n    (google.api.field_behavior) = OUTPUT_ONLY,\n    (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_field) = {\n      read_only: true\n    }\n  ];\n\n\n  oneof pci_form {\n    PciSaq pci_saq_a = 2;\n    PciSaq pci_saq_b = 3;\n    PciSaq pci_saq_c = 4;\n  }\n\n}\n</code></pre>\n<p>Form.java generated code contains fields as well</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @JsonProperty(&quot;pci_saq_a&quot;)\n  private V1PciSaq pciSaqA;\n\n  @JsonProperty(&quot;pci_saq_b&quot;)\n  private V1PciSaq pciSaqB;\n\n  @JsonProperty(&quot;pci_saq_c&quot;)\n  private V1PciSaq pciSaqC;\n\n</code></pre>\n"},{"tags":["java","swing","rhapsody"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1658292529,"post_id":73046045,"comment_id":129012355,"body_markdown":"There&#39;s too little information in the question to be able to answer it. However, a swing GUI can be frozen if a time consuming task is running on the event thread - the single thread that paint the GUI.","body":"There&#39;s too little information in the question to be able to answer it. However, a swing GUI can be frozen if a time consuming task is running on the event thread - the single thread that paint the GUI."},{"owner":{"account_id":11026153,"reputation":11,"user_id":8099011,"display_name":"kundan7"},"score":0,"creation_date":1658293159,"post_id":73046045,"comment_id":129012465,"body_markdown":"@JustanotherJavaprogrammer I&#39;ve added some details about threads creation. Please check out","body":"@JustanotherJavaprogrammer I&#39;ve added some details about threads creation. Please check out"}],"owner":{"account_id":11026153,"reputation":11,"user_id":8099011,"display_name":"kundan7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658293114,"creation_date":1658291741,"question_id":73046045,"body_markdown":"But if we isolate the code and run the code separately(from eclipse and not Rhapsody) it renders perfectly. In Task manager &gt; Details tab, we can see that 5 jcef_helper threads are created.\r\n\r\nWe&#39;re using Swing (JFrame etc) in the integration code to launch it from Rhapsody.\r\n\r\nWhat might be the reason its not opening from Rhapsody?\r\nIn Rhapsody the jcef_helper threads are not created in the first place.\r\n\r\nWe&#39;re using JCEF in both the cases.\r\n","title":"Problem opening Siemens Teamcenter Active workspace via JCEF via IBM Rhapsody 8.4. Opening it from Rhapsody only gives a white screen","body":"<p>But if we isolate the code and run the code separately(from eclipse and not Rhapsody) it renders perfectly. In Task manager &gt; Details tab, we can see that 5 jcef_helper threads are created.</p>\n<p>We're using Swing (JFrame etc) in the integration code to launch it from Rhapsody.</p>\n<p>What might be the reason its not opening from Rhapsody?\nIn Rhapsody the jcef_helper threads are not created in the first place.</p>\n<p>We're using JCEF in both the cases.</p>\n"},{"tags":["java","serialversionuid"],"answers":[{"tags":[],"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658292673,"creation_date":1658289745,"answer_id":73045861,"question_id":73045812,"body_markdown":"First, few quick pointers regarding this.\r\n\r\n1. It plays a role during serialization and deserialization.  So for the classes e.g. `MyCustomRuntimeException` where you don&#39;t care about serialization, you could ignore it.\r\n2. If you are using it on classes for serialization purposes but would not store them for any longer durations - more specifically if you would never create a backward incompatible version of that class during this storage, you would not need to change this.\r\n3. For the use cases where you know you would permanently store it and would create new incompatible version,  make sure to increment(uniquely change) it.\r\n\r\n**From** [java.io.Serializable](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html)\r\n\r\n&gt; The serialization runtime associates with each serializable class a version number, called a serialVersionUID, which is used during deserialization to verify that the sender and receiver of a serialized object have loaded classes for that object that are compatible with respect to serialization. If the receiver has loaded a class for the object that has a different serialVersionUID than that of the corresponding sender&#39;s class, then deserialization will result in an InvalidClassException. A serializable class can declare its own serialVersionUID explicitly by declaring a field named &quot;serialVersionUID&quot; that must be static, final, and of type long:\r\n ANY-ACCESS-MODIFIER static final long serialVersionUID = 42L;\r\n&gt; \r\n&gt; If a serializable class does not explicitly declare a serialVersionUID, then the serialization runtime will calculate a default serialVersionUID value for that class based on various aspects of the class, as described in the Java(TM) Object Serialization Specification. However, it is strongly recommended that all serializable classes explicitly declare serialVersionUID values, since the default serialVersionUID computation is highly sensitive to class details that may vary depending on compiler implementations, and can thus result in unexpected InvalidClassExceptions during deserialization. Therefore, to guarantee a consistent serialVersionUID value across different java compiler implementations, a serializable class must declare an explicit serialVersionUID value. It is also strongly advised that explicit serialVersionUID declarations use the private modifier where possible, since such declarations apply only to the immediately declaring class--serialVersionUID fields are not useful as inherited members. Array classes cannot declare an explicit serialVersionUID, so they always have the default computed value, but the requirement for matching serialVersionUID values is waived for array classes.\r\n\r\n**From Joshua Bloch in** [Effective Java](https://www.amazon.com/Effective-Java-Joshua-Bloch/dp/0134685997/ref=sr_1_1?crid=IDG0EOYCX1CM&amp;keywords=effective+java&amp;qid=1658291649&amp;s=books&amp;sprefix=effectiv%2Cstripbooks%2C130&amp;sr=1-1)\r\n\r\n&gt; the automatically generated UID is generated based on a class name, implemented interfaces, and all public and protected members. Changing any of these in any way will change the serialVersionUID. However, it is strongly recommended that all serializable classes explicitly declare serialVersionUID values, since the default serialVersionUID computation is highly sensitive to class details that may vary depending on compiler implementations and can produce different serialVersionUID in different environments. This can result in unexpected InvalidClassException during deserialization. Therefore, to guarantee a consistent serialVersionUID value across different java compiler implementations, a serializable class must declare an explicit serialVersionUID value. It is also strongly advised that explicit serialVersionUID declarations use the private modifier in serialVersionUID where possible, since such declarations apply only to the immediately declaring class.","title":"private static final long serialVersionUID = 1L;","body":"<p>First, few quick pointers regarding this.</p>\n<ol>\n<li>It plays a role during serialization and deserialization.  So for the classes e.g. <code>MyCustomRuntimeException</code> where you don't care about serialization, you could ignore it.</li>\n<li>If you are using it on classes for serialization purposes but would not store them for any longer durations - more specifically if you would never create a backward incompatible version of that class during this storage, you would not need to change this.</li>\n<li>For the use cases where you know you would permanently store it and would create new incompatible version,  make sure to increment(uniquely change) it.</li>\n</ol>\n<p><strong>From</strong> <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html\" rel=\"nofollow noreferrer\">java.io.Serializable</a></p>\n<blockquote>\n<p>The serialization runtime associates with each serializable class a version number, called a serialVersionUID, which is used during deserialization to verify that the sender and receiver of a serialized object have loaded classes for that object that are compatible with respect to serialization. If the receiver has loaded a class for the object that has a different serialVersionUID than that of the corresponding sender's class, then deserialization will result in an InvalidClassException. A serializable class can declare its own serialVersionUID explicitly by declaring a field named &quot;serialVersionUID&quot; that must be static, final, and of type long:\nANY-ACCESS-MODIFIER static final long serialVersionUID = 42L;</p>\n<p>If a serializable class does not explicitly declare a serialVersionUID, then the serialization runtime will calculate a default serialVersionUID value for that class based on various aspects of the class, as described in the Java(TM) Object Serialization Specification. However, it is strongly recommended that all serializable classes explicitly declare serialVersionUID values, since the default serialVersionUID computation is highly sensitive to class details that may vary depending on compiler implementations, and can thus result in unexpected InvalidClassExceptions during deserialization. Therefore, to guarantee a consistent serialVersionUID value across different java compiler implementations, a serializable class must declare an explicit serialVersionUID value. It is also strongly advised that explicit serialVersionUID declarations use the private modifier where possible, since such declarations apply only to the immediately declaring class--serialVersionUID fields are not useful as inherited members. Array classes cannot declare an explicit serialVersionUID, so they always have the default computed value, but the requirement for matching serialVersionUID values is waived for array classes.</p>\n</blockquote>\n<p><strong>From Joshua Bloch in</strong> <a href=\"https://rads.stackoverflow.com/amzn/click/com/0134685997\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Effective Java</a></p>\n<blockquote>\n<p>the automatically generated UID is generated based on a class name, implemented interfaces, and all public and protected members. Changing any of these in any way will change the serialVersionUID. However, it is strongly recommended that all serializable classes explicitly declare serialVersionUID values, since the default serialVersionUID computation is highly sensitive to class details that may vary depending on compiler implementations and can produce different serialVersionUID in different environments. This can result in unexpected InvalidClassException during deserialization. Therefore, to guarantee a consistent serialVersionUID value across different java compiler implementations, a serializable class must declare an explicit serialVersionUID value. It is also strongly advised that explicit serialVersionUID declarations use the private modifier in serialVersionUID where possible, since such declarations apply only to the immediately declaring class.</p>\n</blockquote>\n"}],"owner":{"account_id":25759035,"reputation":1,"user_id":19510265,"display_name":"Ashish Tripathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":775,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1658290370,"answer_count":1,"score":-1,"last_activity_date":1658292673,"creation_date":1658289221,"question_id":73045812,"body_markdown":"What is private static final long serialVersionUID = 1L in the below code?\r\n\r\n    public class Authenticator extends HttpServlet {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t\r\n    \tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\r\n    \t\tString username = request.getParameter(&quot;username&quot;);\r\n    \t\tString password = request.getParameter(&quot;mypassword&quot;);\r\n    \t\tif(authenticate(username, password)) {\r\n    \t\t\t\r\n    \t\t\tHttpSession session = request.getSession();\r\n    \t\t\tsession.setAttribute(&quot;username&quot;,username);\r\n    \t\t\tresponse.sendRedirect(&quot;product.jsp&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tresponse.sendRedirect(&quot;index.jsp&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t}\r\n    }","title":"private static final long serialVersionUID = 1L;","body":"<p>What is private static final long serialVersionUID = 1L in the below code?</p>\n<pre><code>public class Authenticator extends HttpServlet {\n\n    private static final long serialVersionUID = 1L;\n    \n    \n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    \n        String username = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;mypassword&quot;);\n        if(authenticate(username, password)) {\n            \n            HttpSession session = request.getSession();\n            session.setAttribute(&quot;username&quot;,username);\n            response.sendRedirect(&quot;product.jsp&quot;);\n            return;\n        }\n        else {\n            response.sendRedirect(&quot;index.jsp&quot;);\n            return;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":25753088,"reputation":11,"user_id":19505301,"display_name":"suprabha hegde"},"score":0,"creation_date":1657219653,"post_id":72902762,"comment_id":128765344,"body_markdown":"Tried everything in this solution\nhttps://stackoverflow.com/questions/54337653/connect-to-kafka-with-ssl-using-kafkaio-on-google-dataflow and still getting the same error.","body":"Tried everything in this solution <a href=\"https://stackoverflow.com/questions/54337653/connect-to-kafka-with-ssl-using-kafkaio-on-google-dataflow\" title=\"connect to kafka with ssl using kafkaio on google dataflow\">stackoverflow.com/questions/54337653/&hellip;</a> and still getting the same error."},{"owner":{"account_id":3830132,"reputation":1318,"user_id":3175889,"display_name":"ningk"},"score":0,"creation_date":1658172279,"post_id":72902762,"comment_id":128981074,"body_markdown":"Could you share your source code?","body":"Could you share your source code?"},{"owner":{"account_id":25753088,"reputation":11,"user_id":19505301,"display_name":"suprabha hegde"},"score":0,"creation_date":1658291831,"post_id":72902762,"comment_id":129012217,"body_markdown":"@ningk I added the source code in my question.","body":"@ningk I added the source code in my question."}],"owner":{"account_id":25753088,"reputation":11,"user_id":19505301,"display_name":"suprabha hegde"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658291765,"creation_date":1657219220,"question_id":72902762,"body_markdown":"I am trying to pass the SSL certificate to the connection properties in JDBCIO. read() and I keep getting the error\r\n&quot;No such file or directory exists - /tmp/.jks&quot;\r\n\r\nWhat I have tried - I have a class that reads the .jks file from my GCS bucket and then writes it to local file system - /tmp/.jks file.\r\n\r\nI am then passing /tmp/.jks file path as SSLTrustStorePath=/tmp/.jks;SSLTrustPassword=1234AB\r\n\r\nCan someone please help me resolve this issue.\r\n\r\n\r\n     pipeline.apply(&quot;Read from JDBC presto&quot;, JdbcIO.&lt;TableRow&gt;read().withDataSourceConfiguration(\r\n                        JdbcIO.DataSourceConfiguration.create(JDBC_DRIVER, jdbcUrl)\r\n                                .withUsername(&quot;username&quot;)\r\n                                .withPassword(&quot;pswd&quot;).withConnectionProperties(new ConsumerFactoryFn().apply(&quot;&quot;)))\r\n                        .withQuery(&quot;select * from tablename&quot;)\r\n                        .withCoder(TableRowJsonCoder.of())\r\n                        .withRowMapper(new JdbcIO.RowMapper&lt;TableRow&gt;() {\r\n                            public TableRow mapRow(ResultSet resultSet) throws Exception {\r\n    \r\n                                ResultSetMetaData resultSetMetaData = resultSet.getMetaData();\r\n                                TableRow outputTableRow = new TableRow();\r\n                                for (int i = 1; i &lt;= resultSetMetaData.getColumnCount(); i++) {\r\n                                    outputTableRow.set(resultSetMetaData.getColumnName(i), resultSet.getObject(i));\r\n                            }\r\n                            return outputTableRow;\r\n                        }\r\n                    })).apply(&quot;Write to BigQuery&quot;,\r\n                            BigQueryIO.writeTableRows()\r\n                                    .withoutValidation()\r\n                                    .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_NEVER)\r\n                                    .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_APPEND)\r\n                                    .to(&quot;projectID:dataset.tablename&quot;));\r\n\r\n\r\n\r\nThis is in the ConsumerFactoryFn\r\n\r\n    public String apply(String input) {\r\n            try {\r\n                Storage storage = StorageOptions.getDefaultInstance().getService();\r\n                Blob blob = storage.get(&quot;bucketname&quot;, &quot;certificate.jks&quot;);\r\n                ReadChannel readChannel = blob.reader();\r\n                FileOutputStream fileOuputStream;\r\n                fileOuputStream = new FileOutputStream(&quot;/tmp/filename.jks&quot;); // path where the jks file will be\r\n                                                                                        // stored\r\n                fileOuputStream.getChannel().transferFrom(readChannel, 0, Long.MAX_VALUE);\r\n                fileOuputStream.close();\r\n                File f = new File(&quot;/tmp/filename.jks&quot;); // assuring the store file exists\r\n                if (f.exists()) {\r\n                    logger.info(&quot;key exists&quot;);\r\n    \r\n                } else {\r\n                    logger.warn(&quot;key does not exist&quot;);\r\n    \r\n                }\r\n               File file = Files.createTempDir().createTempFile(&quot;filename&quot;,&quot;.jks&quot;, f);\r\n                logger.info(&quot;file name is&quot;+file.getAbsolutePath());\r\n    \r\n            } catch (FileNotFoundException e) {\r\n                // TODO Auto-generated catch block\r\n                logger.error(e.getMessage());\r\n            } catch (IOException e) {\r\n                // TODO Auto-generated catch block\r\n                logger.error(e.getMessage());\r\n            }\r\n    \r\n            input = &quot;SSLTrustStorePath=/tmp/filename.jks;SSLTrustStorePassword=pswd&quot;;\r\n    \r\n            return input;\r\n        }\r\n\r\n","title":"Google dataflow JDBCIO passing SSL certificate using Java?","body":"<p>I am trying to pass the SSL certificate to the connection properties in JDBCIO. read() and I keep getting the error\n&quot;No such file or directory exists - /tmp/.jks&quot;</p>\n<p>What I have tried - I have a class that reads the .jks file from my GCS bucket and then writes it to local file system - /tmp/.jks file.</p>\n<p>I am then passing /tmp/.jks file path as SSLTrustStorePath=/tmp/.jks;SSLTrustPassword=1234AB</p>\n<p>Can someone please help me resolve this issue.</p>\n<pre><code> pipeline.apply(&quot;Read from JDBC presto&quot;, JdbcIO.&lt;TableRow&gt;read().withDataSourceConfiguration(\n                    JdbcIO.DataSourceConfiguration.create(JDBC_DRIVER, jdbcUrl)\n                            .withUsername(&quot;username&quot;)\n                            .withPassword(&quot;pswd&quot;).withConnectionProperties(new ConsumerFactoryFn().apply(&quot;&quot;)))\n                    .withQuery(&quot;select * from tablename&quot;)\n                    .withCoder(TableRowJsonCoder.of())\n                    .withRowMapper(new JdbcIO.RowMapper&lt;TableRow&gt;() {\n                        public TableRow mapRow(ResultSet resultSet) throws Exception {\n\n                            ResultSetMetaData resultSetMetaData = resultSet.getMetaData();\n                            TableRow outputTableRow = new TableRow();\n                            for (int i = 1; i &lt;= resultSetMetaData.getColumnCount(); i++) {\n                                outputTableRow.set(resultSetMetaData.getColumnName(i), resultSet.getObject(i));\n                        }\n                        return outputTableRow;\n                    }\n                })).apply(&quot;Write to BigQuery&quot;,\n                        BigQueryIO.writeTableRows()\n                                .withoutValidation()\n                                .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_NEVER)\n                                .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_APPEND)\n                                .to(&quot;projectID:dataset.tablename&quot;));\n</code></pre>\n<p>This is in the ConsumerFactoryFn</p>\n<pre><code>public String apply(String input) {\n        try {\n            Storage storage = StorageOptions.getDefaultInstance().getService();\n            Blob blob = storage.get(&quot;bucketname&quot;, &quot;certificate.jks&quot;);\n            ReadChannel readChannel = blob.reader();\n            FileOutputStream fileOuputStream;\n            fileOuputStream = new FileOutputStream(&quot;/tmp/filename.jks&quot;); // path where the jks file will be\n                                                                                    // stored\n            fileOuputStream.getChannel().transferFrom(readChannel, 0, Long.MAX_VALUE);\n            fileOuputStream.close();\n            File f = new File(&quot;/tmp/filename.jks&quot;); // assuring the store file exists\n            if (f.exists()) {\n                logger.info(&quot;key exists&quot;);\n\n            } else {\n                logger.warn(&quot;key does not exist&quot;);\n\n            }\n           File file = Files.createTempDir().createTempFile(&quot;filename&quot;,&quot;.jks&quot;, f);\n            logger.info(&quot;file name is&quot;+file.getAbsolutePath());\n\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            logger.error(e.getMessage());\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            logger.error(e.getMessage());\n        }\n\n        input = &quot;SSLTrustStorePath=/tmp/filename.jks;SSLTrustStorePassword=pswd&quot;;\n\n        return input;\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","android-recyclerview","android-dialogfragment"],"comments":[{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1658291305,"post_id":73045983,"comment_id":129012128,"body_markdown":"You can use callback for it or pas activity refrence to adapter then   dialogFragment.show(mActivity.supportFragmentManager,&quot;taskDailog&quot;)","body":"You can use callback for it or pas activity refrence to adapter then   dialogFragment.show(mActivity.supportFragmentManager,&quot;taskDa&zwnj;&#8203;ilog&quot;)"},{"owner":{"account_id":14297071,"reputation":311,"user_id":10327437,"display_name":"Roh"},"score":0,"creation_date":1658291417,"post_id":73045983,"comment_id":129012153,"body_markdown":"No I still get the same error","body":"No I still get the same error"},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1658291526,"post_id":73045983,"comment_id":129012176,"body_markdown":"can you post code how are you doing?","body":"can you post code how are you doing?"},{"owner":{"account_id":14297071,"reputation":311,"user_id":10327437,"display_name":"Roh"},"score":0,"creation_date":1658291601,"post_id":73045983,"comment_id":129012190,"body_markdown":"Sorry I misread your comment. How would I pass activity reference to adapter","body":"Sorry I misread your comment. How would I pass activity reference to adapter"},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1658291667,"post_id":73045983,"comment_id":129012200,"body_markdown":"From activity val adapter=RecycleViewAdapter(this)\nFrom Fragment val adapter=RecycleViewAdapter(requireActivity())","body":"From activity val adapter=RecycleViewAdapter(this) From Fragment val adapter=RecycleViewAdapter(requireActivity())"},{"owner":{"account_id":6316309,"reputation":2040,"user_id":4906130,"display_name":"Bhavnik"},"score":0,"creation_date":1658294781,"post_id":73045983,"comment_id":129012731,"body_markdown":"The better approach for this issue is to create a callback (i.e interface) for your item click, pass that callback in the constructor of your adapter, implement that interface in your activity/fragment and then invoke that callback in a click of your view in the adapter. Find it on google, you will find many examples for that.","body":"The better approach for this issue is to create a callback (i.e interface) for your item click, pass that callback in the constructor of your adapter, implement that interface in your activity/fragment and then invoke that callback in a click of your view in the adapter. Find it on google, you will find many examples for that."}],"owner":{"account_id":14297071,"reputation":311,"user_id":10327437,"display_name":"Roh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658291247,"answer_count":0,"score":0,"last_activity_date":1658291636,"creation_date":1658291059,"question_id":73045983,"body_markdown":"I have a DialogFragment that I want to show when clicking on an item inside a Recycler View. Here are my files: \r\n\r\nDialogFragment.kt:\r\n```\r\nclass TaskDialogFragment:DialogFragment() {\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater,\r\n        container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        var rootView: View = inflater.inflate(R.layout.task_dialog, container, false)\r\n        return  rootView\r\n\r\n    }\r\n}\r\n```\r\n\r\nRecyclerViewAdapter.kt:\r\n```\r\nclass RecycleViewAdapter(): RecyclerView.Adapter&lt;RecycleViewAdapter.ViewHolder&gt;() {\r\n\r\n    private lateinit var dao: TaskDao\r\n    private lateinit var dialogFragment: TaskDialogFragment\r\n\r\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n        init {\r\n            itemView.setOnClickListener { v: View -&gt;\r\n                // this is where I want my dialogFragment to be opened from\r\n                dialogFragment = TaskDialogFragment()\r\n                dialogFragment.show(supportFragmentManager, &quot;taskDialog&quot;)\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nI have tried following the steps shown here https://developer.android.com/guide/fragments/dialogs but I get an error saying `Unresolved Reference: supportFragmentManager`. \r\n\r\nHow would I open this dialog from the recycler view? Any tips would be appreciated.","title":"Showing DialogFragment from RecyclerView in Kotlin","body":"<p>I have a DialogFragment that I want to show when clicking on an item inside a Recycler View. Here are my files:</p>\n<p>DialogFragment.kt:</p>\n<pre><code>class TaskDialogFragment:DialogFragment() {\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        var rootView: View = inflater.inflate(R.layout.task_dialog, container, false)\n        return  rootView\n\n    }\n}\n</code></pre>\n<p>RecyclerViewAdapter.kt:</p>\n<pre><code>class RecycleViewAdapter(): RecyclerView.Adapter&lt;RecycleViewAdapter.ViewHolder&gt;() {\n\n    private lateinit var dao: TaskDao\n    private lateinit var dialogFragment: TaskDialogFragment\n\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        init {\n            itemView.setOnClickListener { v: View -&gt;\n                // this is where I want my dialogFragment to be opened from\n                dialogFragment = TaskDialogFragment()\n                dialogFragment.show(supportFragmentManager, &quot;taskDialog&quot;)\n            }\n        }\n    }\n</code></pre>\n<p>I have tried following the steps shown here <a href=\"https://developer.android.com/guide/fragments/dialogs\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/dialogs</a> but I get an error saying <code>Unresolved Reference: supportFragmentManager</code>.</p>\n<p>How would I open this dialog from the recycler view? Any tips would be appreciated.</p>\n"},{"tags":["java","intellij-idea","java-18"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":4,"creation_date":1658288032,"post_id":73045631,"comment_id":129011692,"body_markdown":"The feature was released in Java [16](https://openjdk.org/jeps/394) and should work in Java [18](https://docs.oracle.com/en/java/javase/18/language/pattern-matching-instanceof-operator.html). As per the error message are you sure that your project is configured for Java 16 source or newer, the error message suggests its setup for Java 8 source. Also related: [Pattern matching instanceof](https://stackoverflow.com/questions/61939967/pattern-matching-instanceof)","body":"The feature was released in Java <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">16</a> and should work in Java <a href=\"https://docs.oracle.com/en/java/javase/18/language/pattern-matching-instanceof-operator.html\" rel=\"nofollow noreferrer\">18</a>. As per the error message are you sure that your project is configured for Java 16 source or newer, the error message suggests its setup for Java 8 source. Also related: <a href=\"https://stackoverflow.com/questions/61939967/pattern-matching-instanceof\">Pattern matching instanceof</a>"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658289888,"creation_date":1658289888,"answer_id":73045875,"question_id":73045631,"body_markdown":"I don&#39;t think you need to change to Java 16 in this particular case, although it&#39;s certainly an option to do so.\r\n\r\n`String.format` actually takes `Object` arguments after the pattern, so you don&#39;t need to cast `o` to the various different types, which is what the &quot;extended `instanceof`&quot; actually does.  Just remove identifiers from the `instanceof` checks, and pass `o` as the argument to each call to `format`.  So you&#39;ll have something like this.\r\n\r\n        if (o instanceof Integer) {\r\n            formatted = String.format(&quot;int %d&quot;, o);\r\n        } else if (o instanceof Long) {\r\n            formatted = String.format(&quot;long %d&quot;, o);\r\n        } else if (o instanceof Double) {\r\n            formatted = String.format(&quot;double %f&quot;, o);\r\n        } else if (o instanceof String) {\r\n            formatted = String.format(&quot;String %s&quot;, o);\r\n        }","title":"How to overcome error message &quot;java: pattern matching in instanceof is not supported in -source 8&quot;?","body":"<p>I don't think you need to change to Java 16 in this particular case, although it's certainly an option to do so.</p>\n<p><code>String.format</code> actually takes <code>Object</code> arguments after the pattern, so you don't need to cast <code>o</code> to the various different types, which is what the &quot;extended <code>instanceof</code>&quot; actually does.  Just remove identifiers from the <code>instanceof</code> checks, and pass <code>o</code> as the argument to each call to <code>format</code>.  So you'll have something like this.</p>\n<pre><code>    if (o instanceof Integer) {\n        formatted = String.format(&quot;int %d&quot;, o);\n    } else if (o instanceof Long) {\n        formatted = String.format(&quot;long %d&quot;, o);\n    } else if (o instanceof Double) {\n        formatted = String.format(&quot;double %f&quot;, o);\n    } else if (o instanceof String) {\n        formatted = String.format(&quot;String %s&quot;, o);\n    }\n</code></pre>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658289888,"creation_date":1658287395,"question_id":73045631,"body_markdown":"code\r\n\r\n```java\r\npackage org.example;\r\n\r\npublic class PatternSample {\r\n\r\n    static String formatter(Object o) {\r\n        String formatted = &quot;unknown&quot;;\r\n        if (o instanceof Integer i) {\r\n            formatted = String.format(&quot;int %d&quot;, i);\r\n        } else if (o instanceof Long l) {\r\n            formatted = String.format(&quot;long %d&quot;, l);\r\n        } else if (o instanceof Double d) {\r\n            formatted = String.format(&quot;double %f&quot;, d);\r\n        } else if (o instanceof String s) {\r\n            formatted = String.format(&quot;String %s&quot;, s);\r\n        }\r\n        return formatted;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(formatter(&quot;3.33&quot;));\r\n    }\r\n\r\n}\r\n```\r\nerror message\r\n\r\n```\r\njava: pattern matching in instanceof is not supported in -source 8\r\n```\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r3jWm.png","title":"How to overcome error message &quot;java: pattern matching in instanceof is not supported in -source 8&quot;?","body":"<p>code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\npublic class PatternSample {\n\n    static String formatter(Object o) {\n        String formatted = &quot;unknown&quot;;\n        if (o instanceof Integer i) {\n            formatted = String.format(&quot;int %d&quot;, i);\n        } else if (o instanceof Long l) {\n            formatted = String.format(&quot;long %d&quot;, l);\n        } else if (o instanceof Double d) {\n            formatted = String.format(&quot;double %f&quot;, d);\n        } else if (o instanceof String s) {\n            formatted = String.format(&quot;String %s&quot;, s);\n        }\n        return formatted;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(formatter(&quot;3.33&quot;));\n    }\n\n}\n</code></pre>\n<p>error message</p>\n<pre><code>java: pattern matching in instanceof is not supported in -source 8\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/r3jWm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3jWm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","visual-studio"],"owner":{"account_id":25849891,"reputation":11,"user_id":19584058,"display_name":"sdf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658289689,"creation_date":1658289689,"question_id":73045857,"body_markdown":"Let&#39;s get straight to the point here. So, every time I change a file name in Java, there was a notification in VS Code that said the code had been changed, like changing ```public class HW``` to ```public class HelloWorld```. Once, I clicked Do Not Ask Me Again, and it stopped showing. I thought the notification was annoying, and stopped it, but since then I realized that it was a convenience. I know someone asked a similar question to this, but it didn&#39;t get any answers.","title":"Re-enable a notification VS Code","body":"<p>Let's get straight to the point here. So, every time I change a file name in Java, there was a notification in VS Code that said the code had been changed, like changing <code>public class HW</code> to <code>public class HelloWorld</code>. Once, I clicked Do Not Ask Me Again, and it stopped showing. I thought the notification was annoying, and stopped it, but since then I realized that it was a convenience. I know someone asked a similar question to this, but it didn't get any answers.</p>\n"},{"tags":["java","linux","path","jvm","java-11"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1658309899,"post_id":73045792,"comment_id":129017573,"body_markdown":"When you type `java --version` or `javac --version`, the commands will be resolved like any other program, through the `PATH` variable for most shells. The value of the `JAVA_HOME` variable has no relevance to Javas standard launch mechanism at all.","body":"When you type <code>java --version</code> or <code>javac --version</code>, the commands will be resolved like any other program, through the <code>PATH</code> variable for most shells. The value of the <code>JAVA_HOME</code> variable has no relevance to Javas standard launch mechanism at all."},{"owner":{"display_name":"user19583978"},"score":0,"creation_date":1658348325,"post_id":73045792,"comment_id":129032475,"body_markdown":"Thanks, I couldn&#39;t compile any java class, but there was an error and the /etc/profile path has the version of JDK11, thanks anyways !","body":"Thanks, I couldn&#39;t compile any java class, but there was an error and the /etc/profile path has the version of JDK11, thanks anyways !"}],"owner":{"display_name":"user19583978"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658288998,"creation_date":1658288998,"question_id":73045792,"body_markdown":"I&#39;m using Kali Linux OS, I have JDK version 18.0.1.1, in terminal:\r\n**&lt;$ java --version&gt;** Output:\r\n```\r\nPicked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true\r\njava 18.0.1.1 2022-04-22\r\nJava(TM) SE Runtime Environment (build 18.0.1.1+2-6)\r\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.1.1+2-6, mixed mode, sharing)\r\n```\r\nand **&lt;$ javac --version&gt;** Output is:\r\n```\r\nPicked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true\r\njavac 18.0.1.1\r\n```\r\nNow te problem: when I use **&lt;$ echo $JAVA_HOME&gt;**  the output is:\r\n```\r\n/usr/lib/jvm/java-11-openjdk-amd64\r\n```                    \r\nThis is the text that I have inside **/etc/environment** :\r\n```\r\n# START KALI-DEFAULTS CONFIG\r\n# Everything from here and until STOP KALI-DEFAULTS CONFIG\r\n# was installed by the kali-defaults package, and it will\r\n# be removed if ever the kali-defaults package is removed.\r\n# If you want to disable a line, please do NOT remove it,\r\n# as it would be added back when kali-defaults is upgraded.\r\n# Instead, comment the line out, and your change will be\r\n# preserved across upgrades.\r\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games\r\nCOMMAND_NOT_FOUND_INSTALL_PROMPT=1\r\nPOWERSHELL_UPDATECHECK=Off\r\nPOWERSHELL_TELEMETRY_OPTOUT=1\r\nDOTNET_CLI_TELEMETRY_OPTOUT=1\r\n# STOP KALI-DEFAULTS CONFIG\r\nJAVA_HOME=&quot;/usr/lib/jvm/jdk-18&quot;\r\n```\r\nTHanks for help!","title":"can&#39;t set JAVA_HOME with actual JDK version","body":"<p>I'm using Kali Linux OS, I have JDK version 18.0.1.1, in terminal:\n<strong>&lt;$ java --version&gt;</strong> Output:</p>\n<pre><code>Picked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true\njava 18.0.1.1 2022-04-22\nJava(TM) SE Runtime Environment (build 18.0.1.1+2-6)\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.1.1+2-6, mixed mode, sharing)\n</code></pre>\n<p>and <strong>&lt;$ javac --version&gt;</strong> Output is:</p>\n<pre><code>Picked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true\njavac 18.0.1.1\n</code></pre>\n<p>Now te problem: when I use <strong>&lt;$ echo $JAVA_HOME&gt;</strong>  the output is:</p>\n<pre><code>/usr/lib/jvm/java-11-openjdk-amd64\n</code></pre>\n<p>This is the text that I have inside <strong>/etc/environment</strong> :</p>\n<pre><code># START KALI-DEFAULTS CONFIG\n# Everything from here and until STOP KALI-DEFAULTS CONFIG\n# was installed by the kali-defaults package, and it will\n# be removed if ever the kali-defaults package is removed.\n# If you want to disable a line, please do NOT remove it,\n# as it would be added back when kali-defaults is upgraded.\n# Instead, comment the line out, and your change will be\n# preserved across upgrades.\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games\nCOMMAND_NOT_FOUND_INSTALL_PROMPT=1\nPOWERSHELL_UPDATECHECK=Off\nPOWERSHELL_TELEMETRY_OPTOUT=1\nDOTNET_CLI_TELEMETRY_OPTOUT=1\n# STOP KALI-DEFAULTS CONFIG\nJAVA_HOME=&quot;/usr/lib/jvm/jdk-18&quot;\n</code></pre>\n<p>THanks for help!</p>\n"},{"tags":["java","enums"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1658288198,"creation_date":1658288198,"answer_id":73045721,"question_id":73045596,"body_markdown":"You have 2 independent problems here:\r\n\r\n1. Given a list of enum types, how do you write code that tests that your string is convertible to at least one of them?\r\n2. How do you obtain that list.\r\n\r\nThese 2 problems are completely unrelated. So, you solve them separately.\r\n\r\n## Given a list...\r\n\r\n`Class&lt;? extends Enum&gt;` is probably your best bet.\r\n\r\n```\r\nenum Test1 {\r\n  FOO, BAR;\r\n}\r\nenum Test2 {\r\n  FOO, BAZ;\r\n}\r\n\r\npublic static void isValidStringConversionForEnums(String in, Class&lt;? extends Enum&gt;... enumTypes) {\r\n\r\n  for (var enumType : enumTypes) {\r\n     for (var c : enumType.getEnumConstants()) {\r\n       if (c.name().equals(in)) return true;\r\n     }\r\n  }\r\n\r\n  return false;\r\n}\r\n```\r\n\r\nThis isn&#39;t particularly efficient - but you get the gist. You can pre-make a HashSet containing every valid value and then it&#39;s just a `.containsKey()` call, using the above code to instead serve as a one-off &quot;init&quot; that makes that HashSet for example. If you actually need the enum constants, make a `Map&lt;String, List&lt;? extends Enum&lt;?&gt;&gt;` instead. `computeIfAbsent` is a nice way to create those lists on the fly in a one-liner.\r\n\r\n## Discovery\r\n\r\nThe java classloader abstraction system simply doesn&#39;t have &#39;give me a list of all files in the jar&#39; or &#39;give me a list of all classes&#39;. Some libraries appear to provide those features but they are hacks that do not always work, so you probably don&#39;t want to use those.\r\n\r\nThe standard solution for this problem, used by the JVM itself too, is &#39;SPI&#39; - with module-info.java it&#39;s baked in, if you don&#39;t use that (and you probably shouldn&#39;t, it&#39;s kinda tricky, that), there&#39;s `ServiceLoader`. To make the service files, you can use annotation processors, I think there are a few around that automate it.\r\n\r\nThen the process flow is simply, to make a new enum, stick a `@ProviderFor(Something.class)` on it, where `Something.class` is some marker interface of your design.\r\n\r\nNote that wanting to scan __all__ enums __on the entire classpath__ is just plain bad. There are all sorts of enums that java uses internally, what if one of those so happens to have a value in there equal to one of your strings? That does NOT all of a sudden make that a valid string. No, only enums you explicitly mark as applying to whatever this question is, qualify, this, you need to do _something_ to mark them. Either with an annotation, or explicitly by writing out the full list.\r\n","title":"What is a good extensible way to check if a string is a value of more than one Enum Type","body":"<p>You have 2 independent problems here:</p>\n<ol>\n<li>Given a list of enum types, how do you write code that tests that your string is convertible to at least one of them?</li>\n<li>How do you obtain that list.</li>\n</ol>\n<p>These 2 problems are completely unrelated. So, you solve them separately.</p>\n<h2>Given a list...</h2>\n<p><code>Class&lt;? extends Enum&gt;</code> is probably your best bet.</p>\n<pre><code>enum Test1 {\n  FOO, BAR;\n}\nenum Test2 {\n  FOO, BAZ;\n}\n\npublic static void isValidStringConversionForEnums(String in, Class&lt;? extends Enum&gt;... enumTypes) {\n\n  for (var enumType : enumTypes) {\n     for (var c : enumType.getEnumConstants()) {\n       if (c.name().equals(in)) return true;\n     }\n  }\n\n  return false;\n}\n</code></pre>\n<p>This isn't particularly efficient - but you get the gist. You can pre-make a HashSet containing every valid value and then it's just a <code>.containsKey()</code> call, using the above code to instead serve as a one-off &quot;init&quot; that makes that HashSet for example. If you actually need the enum constants, make a <code>Map&lt;String, List&lt;? extends Enum&lt;?&gt;&gt;</code> instead. <code>computeIfAbsent</code> is a nice way to create those lists on the fly in a one-liner.</p>\n<h2>Discovery</h2>\n<p>The java classloader abstraction system simply doesn't have 'give me a list of all files in the jar' or 'give me a list of all classes'. Some libraries appear to provide those features but they are hacks that do not always work, so you probably don't want to use those.</p>\n<p>The standard solution for this problem, used by the JVM itself too, is 'SPI' - with module-info.java it's baked in, if you don't use that (and you probably shouldn't, it's kinda tricky, that), there's <code>ServiceLoader</code>. To make the service files, you can use annotation processors, I think there are a few around that automate it.</p>\n<p>Then the process flow is simply, to make a new enum, stick a <code>@ProviderFor(Something.class)</code> on it, where <code>Something.class</code> is some marker interface of your design.</p>\n<p>Note that wanting to scan <strong>all</strong> enums <strong>on the entire classpath</strong> is just plain bad. There are all sorts of enums that java uses internally, what if one of those so happens to have a value in there equal to one of your strings? That does NOT all of a sudden make that a valid string. No, only enums you explicitly mark as applying to whatever this question is, qualify, this, you need to do <em>something</em> to mark them. Either with an annotation, or explicitly by writing out the full list.</p>\n"}],"owner":{"account_id":2421927,"reputation":1760,"user_id":2185573,"accept_rate":76,"display_name":"Arunav Sanyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73045721,"answer_count":1,"score":1,"last_activity_date":1658288198,"creation_date":1658287005,"question_id":73045596,"body_markdown":"Lets say I have a bunch of logically distinct java enums that cannot be merged together since certain prior operations depend on each independent enum. \r\n\r\n```\r\nenum Enum1 {\r\n   ENUM1VAL1, \r\n   ENUM1VAL2\r\n}\r\n\r\nenum Enum2 {\r\n   ENUM2VAL1, \r\n   ENUM2VAL2\r\n}\r\n\r\nvoid existingOperationOnEnum1(Enum1 enum1);\r\nvoid existingOperationOnEnum2(Enum2 enum2);\r\n```\r\n\r\nNow lets say I wish to define a new operation that checks whether a string can be converted to any of these enums\r\n\r\n```\r\nvoid isValidStringConversionForEnums(final String input) {\r\n   ENUM1.valueOf(input); // Throws IllegalArgumentException if conversion not possible\r\n   ENUM2.valueOf(input); // Throws IllegalArgumentException if conversion not possible\r\n}\r\n```\r\n\r\nSo this is great, but its not extensible. The business logic is such that we can have new enums be created in the future (with its own set of enum specific operations), however isValidStringConversionForEnums needs to be updated every time a new one is added, which a programmer might easily forget. \r\n\r\nSo my question is how would I modify isValidStringConversionForEnums so that it works with future extensions. \r\n\r\nOne way I thought was to create an interface EnumBase, get the Enums to extend that and then use reflection to get all Enum impls, but I do not wish to use Reflection in Runtime unless I have to. \r\n\r\nIs there an alternate way in which this can be written such that I add a new enum and somehow isValidStringConversionForEnums handles that new enum. ","title":"What is a good extensible way to check if a string is a value of more than one Enum Type","body":"<p>Lets say I have a bunch of logically distinct java enums that cannot be merged together since certain prior operations depend on each independent enum.</p>\n<pre><code>enum Enum1 {\n   ENUM1VAL1, \n   ENUM1VAL2\n}\n\nenum Enum2 {\n   ENUM2VAL1, \n   ENUM2VAL2\n}\n\nvoid existingOperationOnEnum1(Enum1 enum1);\nvoid existingOperationOnEnum2(Enum2 enum2);\n</code></pre>\n<p>Now lets say I wish to define a new operation that checks whether a string can be converted to any of these enums</p>\n<pre><code>void isValidStringConversionForEnums(final String input) {\n   ENUM1.valueOf(input); // Throws IllegalArgumentException if conversion not possible\n   ENUM2.valueOf(input); // Throws IllegalArgumentException if conversion not possible\n}\n</code></pre>\n<p>So this is great, but its not extensible. The business logic is such that we can have new enums be created in the future (with its own set of enum specific operations), however isValidStringConversionForEnums needs to be updated every time a new one is added, which a programmer might easily forget.</p>\n<p>So my question is how would I modify isValidStringConversionForEnums so that it works with future extensions.</p>\n<p>One way I thought was to create an interface EnumBase, get the Enums to extend that and then use reflection to get all Enum impls, but I do not wish to use Reflection in Runtime unless I have to.</p>\n<p>Is there an alternate way in which this can be written such that I add a new enum and somehow isValidStringConversionForEnums handles that new enum.</p>\n"},{"tags":["java","jms","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1594392900,"post_id":62836403,"comment_id":111119676,"body_markdown":"Depending on how your security is configured the broker may simply be allowing any user to connect regardless of what credentials they are using. Can you provide your `bootstrap.xml`, `login.config`, and `broker.xml`?","body":"Depending on how your security is configured the broker may simply be allowing any user to connect regardless of what credentials they are using. Can you provide your <code>bootstrap.xml</code>, <code>login.config</code>, and <code>broker.xml</code>?"},{"owner":{"account_id":11573210,"reputation":774,"user_id":8479386,"display_name":"Karan"},"score":0,"creation_date":1594393741,"post_id":62836403,"comment_id":111120138,"body_markdown":"Hello Again @JustinBertram, edited the question with requested files","body":"Hello Again @JustinBertram, edited the question with requested files"}],"answers":[{"tags":[],"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594398964,"creation_date":1594398410,"answer_id":62838526,"question_id":62836403,"body_markdown":"When the client creates the session, the broker tries to authenticate the client with the passed username and password.\r\n\r\nYour `login.config` file contains 2 login modules `PropertiesLoginModule` and `GuestLoginModule`. If `PropertiesLoginModule` fails the login because of a wrong username/password the `GuestLoginModule` will login the user `admin` with the role `amq` as defined in your `login.config` file.","title":"Why username and password are not respected in activemq createConnection","body":"<p>When the client creates the session, the broker tries to authenticate the client with the passed username and password.</p>\n<p>Your <code>login.config</code> file contains 2 login modules <code>PropertiesLoginModule</code> and <code>GuestLoginModule</code>. If <code>PropertiesLoginModule</code> fails the login because of a wrong username/password the <code>GuestLoginModule</code> will login the user <code>admin</code> with the role <code>amq</code> as defined in your <code>login.config</code> file.</p>\n"},{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1594401551,"creation_date":1594399227,"answer_id":62838764,"question_id":62836403,"body_markdown":"The username and password *are* used when creating the connection. The behavior your observing where it doesn&#39;t matter what credentials you pass is due to your configuration. You&#39;ve specifically configured the broker to allow &quot;guest&quot; users (i.e. users with bad credentials or no credentials) via your `login.config`:\r\n\r\n```\r\n   org.apache.activemq.artemis.spi.core.security.jaas.GuestLoginModule sufficient\r\n       debug=false\r\n       org.apache.activemq.jaas.guest.user=&quot;admin&quot;\r\n       org.apache.activemq.jaas.guest.role=&quot;amq&quot;;\r\n```\r\n\r\nYou can read more about this login module in [the documentation][1].\r\n\r\nIf you don&#39;t want to allow &quot;guest&quot; users then you can change `login.config` to be:\r\n\r\n```\r\nactivemq {\r\n   org.apache.activemq.artemis.spi.core.security.jaas.PropertiesLoginModule required\r\n       debug=false\r\n       reload=true\r\n       org.apache.activemq.jaas.properties.user=&quot;artemis-users.properties&quot;\r\n       org.apache.activemq.jaas.properties.role=&quot;artemis-roles.properties&quot;;\r\n};\r\n```\r\n\r\n\r\n  [1]: http://activemq.apache.org/components/artemis/documentation/latest/security.html#guestloginmodule","title":"Why username and password are not respected in activemq createConnection","body":"<p>The username and password <em>are</em> used when creating the connection. The behavior your observing where it doesn't matter what credentials you pass is due to your configuration. You've specifically configured the broker to allow &quot;guest&quot; users (i.e. users with bad credentials or no credentials) via your <code>login.config</code>:</p>\n<pre><code>   org.apache.activemq.artemis.spi.core.security.jaas.GuestLoginModule sufficient\n       debug=false\n       org.apache.activemq.jaas.guest.user=&quot;admin&quot;\n       org.apache.activemq.jaas.guest.role=&quot;amq&quot;;\n</code></pre>\n<p>You can read more about this login module in <a href=\"http://activemq.apache.org/components/artemis/documentation/latest/security.html#guestloginmodule\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<p>If you don't want to allow &quot;guest&quot; users then you can change <code>login.config</code> to be:</p>\n<pre><code>activemq {\n   org.apache.activemq.artemis.spi.core.security.jaas.PropertiesLoginModule required\n       debug=false\n       reload=true\n       org.apache.activemq.jaas.properties.user=&quot;artemis-users.properties&quot;\n       org.apache.activemq.jaas.properties.role=&quot;artemis-roles.properties&quot;;\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7265249,"reputation":1110,"user_id":5540231,"display_name":"jausen brett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637866566,"creation_date":1637866566,"answer_id":70116089,"question_id":62836403,"body_markdown":"Considering a standard installation (5.16.3), when you extract the archive you will find a conf folder.\r\n\r\nStarting from there as a base for a Docker container, i had a hard time to configure ActiveMQ security, as there are multiple files involved which partly did not work as expected.\r\nI assume i did not configure everything correctly, as changing login.config had basically no effect.\r\n\r\nThe only way i got security working was\r\n- change jetty-realm.properties for the admin web page access\r\n- change activemq.xml for broker security config\r\n\r\n(Solution for activemq.xml was found [here][1])\r\n\r\nExample config snippet for broker security:\r\n\r\n        &lt;broker xmlns=&quot;http://activemq.apache.org/schema/core&quot; brokerName=&quot;localhost&quot; dataDirectory=&quot;${activemq.data}&quot;&gt;\r\n\t\t\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;simpleAuthenticationPlugin anonymousAccessAllowed=&quot;false&quot;&gt;\r\n  \t\t\t\t&lt;users&gt;\r\n    \t\t\t\t&lt;authenticationUser username=&quot;admin&quot; password=&quot;admin1234!&quot; groups=&quot;admins,senders,receivers&quot;/&gt;\r\n    \t\t\t\t&lt;!---&lt;authenticationUser username=&quot;user&quot; password=&quot;password&quot; groups=&quot;users&quot;/&gt;\r\n    \t\t\t\t&lt;authenticationUser username=&quot;guest&quot; password=&quot;password&quot; groups=&quot;guests&quot;/&gt;--&gt;\r\n  \t\t\t\t&lt;/users&gt;\r\n\t\t\t&lt;/simpleAuthenticationPlugin&gt;\r\n\t\t\t&lt;authorizationPlugin&gt;\r\n   \t\t\t\t&lt;map&gt;\r\n       \t\t\t\t&lt;authorizationMap&gt;\r\n           \t\t\t\t&lt;authorizationEntries&gt;\r\n               \t\t\t\t&lt;authorizationEntry queue=&quot;&gt;&quot; write=&quot;senders&quot; read=&quot;receivers&quot; admin=&quot;admins&quot; /&gt;\r\n           \t\t\t\t&lt;authorizationEntry topic=&quot;ActiveMQ.Advisory.&gt;&quot; write=&quot;senders&quot; read=&quot;receivers&quot; admin=&quot;admins,senders,receivers&quot; /&gt;\r\n           \t\t\t\t&lt;/authorizationEntries&gt;\r\n       \t\t\t\t&lt;/authorizationMap&gt;\r\n   \t\t\t\t&lt;/map&gt;\r\n\t\t\t&lt;/authorizationPlugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n        .\r\n        .\r\n\r\nThis finally enabled security for Queue access.\r\n\r\n\r\n  [1]: https://philipp-boss.de/blog/2013/07/activemq-simple-authentication-for-consumers-and-producers/","title":"Why username and password are not respected in activemq createConnection","body":"<p>Considering a standard installation (5.16.3), when you extract the archive you will find a conf folder.</p>\n<p>Starting from there as a base for a Docker container, i had a hard time to configure ActiveMQ security, as there are multiple files involved which partly did not work as expected.\nI assume i did not configure everything correctly, as changing login.config had basically no effect.</p>\n<p>The only way i got security working was</p>\n<ul>\n<li>change jetty-realm.properties for the admin web page access</li>\n<li>change activemq.xml for broker security config</li>\n</ul>\n<p>(Solution for activemq.xml was found <a href=\"https://philipp-boss.de/blog/2013/07/activemq-simple-authentication-for-consumers-and-producers/\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>Example config snippet for broker security:</p>\n<pre><code>    &lt;broker xmlns=&quot;http://activemq.apache.org/schema/core&quot; brokerName=&quot;localhost&quot; dataDirectory=&quot;${activemq.data}&quot;&gt;\n    \n    &lt;plugins&gt;\n        &lt;simpleAuthenticationPlugin anonymousAccessAllowed=&quot;false&quot;&gt;\n            &lt;users&gt;\n                &lt;authenticationUser username=&quot;admin&quot; password=&quot;admin1234!&quot; groups=&quot;admins,senders,receivers&quot;/&gt;\n                &lt;!---&lt;authenticationUser username=&quot;user&quot; password=&quot;password&quot; groups=&quot;users&quot;/&gt;\n                &lt;authenticationUser username=&quot;guest&quot; password=&quot;password&quot; groups=&quot;guests&quot;/&gt;--&gt;\n            &lt;/users&gt;\n        &lt;/simpleAuthenticationPlugin&gt;\n        &lt;authorizationPlugin&gt;\n            &lt;map&gt;\n                &lt;authorizationMap&gt;\n                    &lt;authorizationEntries&gt;\n                        &lt;authorizationEntry queue=&quot;&gt;&quot; write=&quot;senders&quot; read=&quot;receivers&quot; admin=&quot;admins&quot; /&gt;\n                    &lt;authorizationEntry topic=&quot;ActiveMQ.Advisory.&gt;&quot; write=&quot;senders&quot; read=&quot;receivers&quot; admin=&quot;admins,senders,receivers&quot; /&gt;\n                    &lt;/authorizationEntries&gt;\n                &lt;/authorizationMap&gt;\n            &lt;/map&gt;\n        &lt;/authorizationPlugin&gt;\n    &lt;/plugins&gt;\n    .\n    .\n</code></pre>\n<p>This finally enabled security for Queue access.</p>\n"}],"owner":{"account_id":11573210,"reputation":774,"user_id":8479386,"display_name":"Karan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62838764,"answer_count":3,"score":0,"last_activity_date":1658287505,"creation_date":1594391092,"question_id":62836403,"body_markdown":"I created a one and only broker in activemq and I am using the following code to produce and consume messages. I took this code [from here][1]. \r\n\r\n    public boolean runExample() throws Exception {\r\n    \t\tConnection connection = null;\r\n    \t\tInitialContext initialContext = null;\r\n    \t\ttry {\r\n    \t\t\tProperties properties = new Properties();\r\n    \t\t\tproperties.put(&quot;java.naming.factory.initial&quot;, &quot;org.apache.activemq.artemis.jndi.ActiveMQInitialContextFactory&quot;);\r\n    \t\t\tproperties.put(&quot;connectionFactory.ConnectionFactory&quot;, &quot;tcp://localhost:61616&quot;);\r\n    \t\t\tproperties.put(&quot;queue.queue/exampleQueue&quot;, &quot;exampleQueue&quot;);\r\n    \t\t\t\r\n    \t\t\tinitialContext = new InitialContext(properties);\r\n    \t\t\t\r\n    \t\t\tQueue queue = (Queue) initialContext.lookup(&quot;queue/exampleQueue&quot;);\r\n    \t\t\t\r\n    \t\t\tConnectionFactory connectionFactory = (ConnectionFactory) initialContext.lookup(&quot;ConnectionFactory&quot;);\r\n    \t\t\tconnection = connectionFactory.createConnection(&quot;admin&quot;, &quot;admin&quot;);//brokerone\r\n    \t\t\tSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n    \t\t\tMessageProducer producer = session.createProducer(queue);\r\n    \t\t\tTextMessage message = session.createTextMessage(&quot;This is a text message&quot;);\r\n    \r\n    \t\t\tSystem.out.println(&quot;Sent message: &quot; + message.getText());\r\n    \t\t\tproducer.send(message);\r\n    \t\t\tMessageConsumer messageConsumer = session.createConsumer(queue);\r\n    \t\t\tconnection.start();\r\n    \t\t\tTextMessage messageReceived = (TextMessage) messageConsumer.receive(5000);\r\n    \t\t\tSystem.out.println(&quot;Received message: &quot; + messageReceived.getText());\r\n    \r\n    \t\t\treturn true;\r\n    \t\t} finally {\r\n    \t\t\tif (initialContext != null) {\r\n    \t\t\t\tinitialContext.close();\r\n    \t\t\t}\r\n    \t\t\tif (connection != null) {\r\n    \t\t\t\tconnection.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\nNow, while creating connection if I put any random string for password in `connectionFactory.createConnection` method then it still creates connection and I can see the produced messages in broker console. I looked up the [documentation][2] and [here][3] for more explanation but it also says that the strings passed in createConnection method are username and password.\r\n\r\nSo now, my question is what is the purpose of username and password when they are not used while creating connection? \r\n\r\nEdit1:\r\n\r\nbroker.xml (after removing bulk commented lines)\r\n\r\n    &lt;configuration xmlns=&quot;urn:activemq&quot;\r\n                   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                   xmlns:xi=&quot;http://www.w3.org/2001/XInclude&quot;\r\n                   xsi:schemaLocation=&quot;urn:activemq /schema/artemis-configuration.xsd&quot;&gt;\r\n    \r\n       &lt;core xmlns=&quot;urn:activemq:core&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;urn:activemq:core &quot;&gt;\r\n    \r\n          &lt;name&gt;0.0.0.0&lt;/name&gt;\r\n          &lt;persistence-enabled&gt;true&lt;/persistence-enabled&gt;    \r\n          &lt;journal-type&gt;NIO&lt;/journal-type&gt;\r\n          &lt;paging-directory&gt;data/paging&lt;/paging-directory&gt;\r\n          &lt;bindings-directory&gt;data/bindings&lt;/bindings-directory&gt;\r\n          &lt;journal-directory&gt;data/journal&lt;/journal-directory&gt;\r\n          &lt;large-messages-directory&gt;data/large-messages&lt;/large-messages-directory&gt;\r\n          &lt;journal-datasync&gt;true&lt;/journal-datasync&gt;\r\n          &lt;journal-min-files&gt;2&lt;/journal-min-files&gt;\r\n          &lt;journal-pool-files&gt;10&lt;/journal-pool-files&gt;\r\n          &lt;journal-device-block-size&gt;4096&lt;/journal-device-block-size&gt;\r\n          &lt;journal-file-size&gt;10M&lt;/journal-file-size&gt;\r\n          &lt;journal-buffer-timeout&gt;1192000&lt;/journal-buffer-timeout&gt;\r\n          &lt;!--        When using ASYNCIO, this will determine the writing queue depth for libaio.       --&gt;\r\n          &lt;journal-max-io&gt;1&lt;/journal-max-io&gt;     \r\n          &lt;!-- how often we are looking for how many bytes are being used on the disk in ms --&gt;\r\n          &lt;disk-scan-period&gt;5000&lt;/disk-scan-period&gt;\r\n    \r\n          &lt;!-- once the disk hits this limit the system will block, or close the connection in certain protocols that won&#39;t support flow control. --&gt;\r\n          &lt;max-disk-usage&gt;90&lt;/max-disk-usage&gt;\r\n    \r\n          &lt;!-- should the broker detect dead locks and other issues --&gt;\r\n          &lt;critical-analyzer&gt;true&lt;/critical-analyzer&gt;\r\n          &lt;critical-analyzer-timeout&gt;120000&lt;/critical-analyzer-timeout&gt;\r\n          &lt;critical-analyzer-check-period&gt;60000&lt;/critical-analyzer-check-period&gt;\r\n          &lt;critical-analyzer-policy&gt;HALT&lt;/critical-analyzer-policy&gt;      \r\n          &lt;page-sync-timeout&gt;1192000&lt;/page-sync-timeout&gt;\r\n    \r\n          &lt;acceptors&gt;\r\n             &lt;!-- Acceptor for every supported protocol --&gt;\r\n             &lt;acceptor name=&quot;artemis&quot;&gt;tcp://0.0.0.0:61616?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;amqpMinLargeMessageSize=102400;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpDuplicateDetection=true&lt;/acceptor&gt;\r\n             &lt;!-- AMQP Acceptor.  Listens on default AMQP port for AMQP traffic.--&gt;\r\n             &lt;acceptor name=&quot;amqp&quot;&gt;tcp://0.0.0.0:5672?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=AMQP;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpMinLargeMessageSize=102400;amqpDuplicateDetection=true&lt;/acceptor&gt;\r\n             &lt;!-- STOMP Acceptor. --&gt;\r\n             &lt;acceptor name=&quot;stomp&quot;&gt;tcp://0.0.0.0:61613?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=STOMP;useEpoll=true&lt;/acceptor&gt;\r\n             &lt;!-- HornetQ Compatibility Acceptor.  Enables HornetQ Core and STOMP for legacy HornetQ clients. --&gt;\r\n             &lt;acceptor name=&quot;hornetq&quot;&gt;tcp://0.0.0.0:5445?anycastPrefix=jms.queue.;multicastPrefix=jms.topic.;protocols=HORNETQ,STOMP;useEpoll=true&lt;/acceptor&gt;\r\n             &lt;!-- MQTT Acceptor --&gt;\r\n             &lt;acceptor name=&quot;mqtt&quot;&gt;tcp://0.0.0.0:1883?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=MQTT;useEpoll=true&lt;/acceptor&gt;\r\n          &lt;/acceptors&gt;\r\n    \t  \r\n          &lt;security-settings&gt;\r\n             &lt;security-setting match=&quot;#&quot;&gt;\r\n                &lt;permission type=&quot;createNonDurableQueue&quot; roles=&quot;amq&quot;/&gt;\r\n                &lt;permission type=&quot;deleteNonDurableQueue&quot; roles=&quot;amq&quot;/&gt;\r\n                &lt;permission type=&quot;createDurableQueue&quot; roles=&quot;amq&quot;/&gt;\r\n                &lt;permission type=&quot;deleteDurableQueue&quot; roles=&quot;amq&quot;/&gt;\r\n                &lt;permission type=&quot;createAddress&quot; roles=&quot;amq&quot;/&gt;\r\n                &lt;permission type=&quot;deleteAddress&quot; roles=&quot;amq&quot;/&gt;\r\n                &lt;permission type=&quot;consume&quot; roles=&quot;amq&quot;/&gt;\r\n                &lt;permission type=&quot;browse&quot; roles=&quot;amq&quot;/&gt;\r\n                &lt;permission type=&quot;send&quot; roles=&quot;amq&quot;/&gt;\r\n                &lt;!-- we need this otherwise ./artemis data imp wouldn&#39;t work --&gt;\r\n                &lt;permission type=&quot;manage&quot; roles=&quot;amq&quot;/&gt;\r\n             &lt;/security-setting&gt;\r\n          &lt;/security-settings&gt;\r\n    \r\n          &lt;address-settings&gt;\r\n             &lt;!-- if you define auto-create on certain queues, management has to be auto-create --&gt;\r\n             &lt;address-setting match=&quot;activemq.management#&quot;&gt;\r\n                &lt;dead-letter-address&gt;DLQ&lt;/dead-letter-address&gt;\r\n                &lt;expiry-address&gt;ExpiryQueue&lt;/expiry-address&gt;\r\n                &lt;redelivery-delay&gt;0&lt;/redelivery-delay&gt;\r\n                &lt;!-- with -1 only the global-max-size is in use for limiting --&gt;\r\n                &lt;max-size-bytes&gt;-1&lt;/max-size-bytes&gt;\r\n                &lt;message-counter-history-day-limit&gt;10&lt;/message-counter-history-day-limit&gt;\r\n                &lt;address-full-policy&gt;PAGE&lt;/address-full-policy&gt;\r\n                &lt;auto-create-queues&gt;true&lt;/auto-create-queues&gt;\r\n                &lt;auto-create-addresses&gt;true&lt;/auto-create-addresses&gt;\r\n                &lt;auto-create-jms-queues&gt;true&lt;/auto-create-jms-queues&gt;\r\n                &lt;auto-create-jms-topics&gt;true&lt;/auto-create-jms-topics&gt;\r\n             &lt;/address-setting&gt;\r\n             &lt;!--default for catch all--&gt;\r\n             &lt;address-setting match=&quot;#&quot;&gt;\r\n                &lt;dead-letter-address&gt;DLQ&lt;/dead-letter-address&gt;\r\n                &lt;expiry-address&gt;ExpiryQueue&lt;/expiry-address&gt;\r\n                &lt;redelivery-delay&gt;0&lt;/redelivery-delay&gt;\r\n                &lt;!-- with -1 only the global-max-size is in use for limiting --&gt;\r\n                &lt;max-size-bytes&gt;-1&lt;/max-size-bytes&gt;\r\n                &lt;message-counter-history-day-limit&gt;10&lt;/message-counter-history-day-limit&gt;\r\n                &lt;address-full-policy&gt;PAGE&lt;/address-full-policy&gt;\r\n                &lt;auto-create-queues&gt;true&lt;/auto-create-queues&gt;\r\n                &lt;auto-create-addresses&gt;true&lt;/auto-create-addresses&gt;\r\n                &lt;auto-create-jms-queues&gt;true&lt;/auto-create-jms-queues&gt;\r\n                &lt;auto-create-jms-topics&gt;true&lt;/auto-create-jms-topics&gt;\r\n             &lt;/address-setting&gt;\r\n          &lt;/address-settings&gt;\r\n    \r\n          &lt;addresses&gt;\r\n             &lt;address name=&quot;DLQ&quot;&gt;\r\n                &lt;anycast&gt;\r\n                   &lt;queue name=&quot;DLQ&quot; /&gt;\r\n                &lt;/anycast&gt;\r\n             &lt;/address&gt;\r\n             &lt;address name=&quot;ExpiryQueue&quot;&gt;\r\n                &lt;anycast&gt;\r\n                   &lt;queue name=&quot;ExpiryQueue&quot; /&gt;\r\n                &lt;/anycast&gt;\r\n             &lt;/address&gt;\r\n    \r\n          &lt;/addresses&gt;\r\n       &lt;/core&gt;\r\n    &lt;/configuration&gt;\r\n\r\nbootstrap.xml\r\n\r\n    &lt;broker xmlns=&quot;http://activemq.org/schema&quot;&gt;\r\n    \r\n       &lt;jaas-security domain=&quot;activemq&quot;/&gt;\r\n    \r\n       &lt;!-- artemis.URI.instance is parsed from artemis.instance by the CLI startup.\r\n            This is to avoid situations where you could have spaces or special characters on this URI --&gt;\r\n       &lt;server configuration=&quot;file:/C:/dev/artemis/apache-artemis-2.13.0/bin/brokerone/etc//broker.xml&quot;/&gt;\r\n    \r\n       &lt;!-- The web server is only bound to localhost by default --&gt;\r\n       &lt;web bind=&quot;http://localhost:8161&quot; path=&quot;web&quot;&gt;\r\n           &lt;app url=&quot;activemq-branding&quot; war=&quot;activemq-branding.war&quot;/&gt;\r\n           &lt;app url=&quot;artemis-plugin&quot; war=&quot;artemis-plugin.war&quot;/&gt;\r\n           &lt;app url=&quot;console&quot; war=&quot;console.war&quot;/&gt;\r\n       &lt;/web&gt;\r\n    \r\n    \r\n    &lt;/broker&gt;\r\n\r\nlogin.config\r\n\r\n    activemq {\r\n       org.apache.activemq.artemis.spi.core.security.jaas.PropertiesLoginModule sufficient\r\n           debug=false\r\n           reload=true\r\n           org.apache.activemq.jaas.properties.user=&quot;artemis-users.properties&quot;\r\n           org.apache.activemq.jaas.properties.role=&quot;artemis-roles.properties&quot;;\r\n    \r\n       org.apache.activemq.artemis.spi.core.security.jaas.GuestLoginModule sufficient\r\n           debug=false\r\n           org.apache.activemq.jaas.guest.user=&quot;admin&quot;\r\n           org.apache.activemq.jaas.guest.role=&quot;amq&quot;;\r\n    };\r\n\r\n\r\n  [1]: http://www.mastertheboss.com/jboss-server/jboss-jms/introduction-to-activemq-artemis\r\n  [2]: http://activemq.apache.org/maven/apidocs/org/apache/activemq/ActiveMQConnectionFactory.html#createConnection-java.lang.String-java.lang.String-\r\n  [3]: https://docs.oracle.com/javaee/6/api/javax/jms/ConnectionFactory.html\r\n","title":"Why username and password are not respected in activemq createConnection","body":"<p>I created a one and only broker in activemq and I am using the following code to produce and consume messages. I took this code <a href=\"http://www.mastertheboss.com/jboss-server/jboss-jms/introduction-to-activemq-artemis\" rel=\"nofollow noreferrer\">from here</a>.</p>\n<pre><code>public boolean runExample() throws Exception {\n        Connection connection = null;\n        InitialContext initialContext = null;\n        try {\n            Properties properties = new Properties();\n            properties.put(&quot;java.naming.factory.initial&quot;, &quot;org.apache.activemq.artemis.jndi.ActiveMQInitialContextFactory&quot;);\n            properties.put(&quot;connectionFactory.ConnectionFactory&quot;, &quot;tcp://localhost:61616&quot;);\n            properties.put(&quot;queue.queue/exampleQueue&quot;, &quot;exampleQueue&quot;);\n            \n            initialContext = new InitialContext(properties);\n            \n            Queue queue = (Queue) initialContext.lookup(&quot;queue/exampleQueue&quot;);\n            \n            ConnectionFactory connectionFactory = (ConnectionFactory) initialContext.lookup(&quot;ConnectionFactory&quot;);\n            connection = connectionFactory.createConnection(&quot;admin&quot;, &quot;admin&quot;);//brokerone\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n            MessageProducer producer = session.createProducer(queue);\n            TextMessage message = session.createTextMessage(&quot;This is a text message&quot;);\n\n            System.out.println(&quot;Sent message: &quot; + message.getText());\n            producer.send(message);\n            MessageConsumer messageConsumer = session.createConsumer(queue);\n            connection.start();\n            TextMessage messageReceived = (TextMessage) messageConsumer.receive(5000);\n            System.out.println(&quot;Received message: &quot; + messageReceived.getText());\n\n            return true;\n        } finally {\n            if (initialContext != null) {\n                initialContext.close();\n            }\n            if (connection != null) {\n                connection.close();\n            }\n        }\n    }\n</code></pre>\n<p>Now, while creating connection if I put any random string for password in <code>connectionFactory.createConnection</code> method then it still creates connection and I can see the produced messages in broker console. I looked up the <a href=\"http://activemq.apache.org/maven/apidocs/org/apache/activemq/ActiveMQConnectionFactory.html#createConnection-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">documentation</a> and <a href=\"https://docs.oracle.com/javaee/6/api/javax/jms/ConnectionFactory.html\" rel=\"nofollow noreferrer\">here</a> for more explanation but it also says that the strings passed in createConnection method are username and password.</p>\n<p>So now, my question is what is the purpose of username and password when they are not used while creating connection?</p>\n<p>Edit1:</p>\n<p>broker.xml (after removing bulk commented lines)</p>\n<pre><code>&lt;configuration xmlns=&quot;urn:activemq&quot;\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n               xmlns:xi=&quot;http://www.w3.org/2001/XInclude&quot;\n               xsi:schemaLocation=&quot;urn:activemq /schema/artemis-configuration.xsd&quot;&gt;\n\n   &lt;core xmlns=&quot;urn:activemq:core&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;urn:activemq:core &quot;&gt;\n\n      &lt;name&gt;0.0.0.0&lt;/name&gt;\n      &lt;persistence-enabled&gt;true&lt;/persistence-enabled&gt;    \n      &lt;journal-type&gt;NIO&lt;/journal-type&gt;\n      &lt;paging-directory&gt;data/paging&lt;/paging-directory&gt;\n      &lt;bindings-directory&gt;data/bindings&lt;/bindings-directory&gt;\n      &lt;journal-directory&gt;data/journal&lt;/journal-directory&gt;\n      &lt;large-messages-directory&gt;data/large-messages&lt;/large-messages-directory&gt;\n      &lt;journal-datasync&gt;true&lt;/journal-datasync&gt;\n      &lt;journal-min-files&gt;2&lt;/journal-min-files&gt;\n      &lt;journal-pool-files&gt;10&lt;/journal-pool-files&gt;\n      &lt;journal-device-block-size&gt;4096&lt;/journal-device-block-size&gt;\n      &lt;journal-file-size&gt;10M&lt;/journal-file-size&gt;\n      &lt;journal-buffer-timeout&gt;1192000&lt;/journal-buffer-timeout&gt;\n      &lt;!--        When using ASYNCIO, this will determine the writing queue depth for libaio.       --&gt;\n      &lt;journal-max-io&gt;1&lt;/journal-max-io&gt;     \n      &lt;!-- how often we are looking for how many bytes are being used on the disk in ms --&gt;\n      &lt;disk-scan-period&gt;5000&lt;/disk-scan-period&gt;\n\n      &lt;!-- once the disk hits this limit the system will block, or close the connection in certain protocols that won't support flow control. --&gt;\n      &lt;max-disk-usage&gt;90&lt;/max-disk-usage&gt;\n\n      &lt;!-- should the broker detect dead locks and other issues --&gt;\n      &lt;critical-analyzer&gt;true&lt;/critical-analyzer&gt;\n      &lt;critical-analyzer-timeout&gt;120000&lt;/critical-analyzer-timeout&gt;\n      &lt;critical-analyzer-check-period&gt;60000&lt;/critical-analyzer-check-period&gt;\n      &lt;critical-analyzer-policy&gt;HALT&lt;/critical-analyzer-policy&gt;      \n      &lt;page-sync-timeout&gt;1192000&lt;/page-sync-timeout&gt;\n\n      &lt;acceptors&gt;\n         &lt;!-- Acceptor for every supported protocol --&gt;\n         &lt;acceptor name=&quot;artemis&quot;&gt;tcp://0.0.0.0:61616?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;amqpMinLargeMessageSize=102400;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpDuplicateDetection=true&lt;/acceptor&gt;\n         &lt;!-- AMQP Acceptor.  Listens on default AMQP port for AMQP traffic.--&gt;\n         &lt;acceptor name=&quot;amqp&quot;&gt;tcp://0.0.0.0:5672?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=AMQP;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpMinLargeMessageSize=102400;amqpDuplicateDetection=true&lt;/acceptor&gt;\n         &lt;!-- STOMP Acceptor. --&gt;\n         &lt;acceptor name=&quot;stomp&quot;&gt;tcp://0.0.0.0:61613?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=STOMP;useEpoll=true&lt;/acceptor&gt;\n         &lt;!-- HornetQ Compatibility Acceptor.  Enables HornetQ Core and STOMP for legacy HornetQ clients. --&gt;\n         &lt;acceptor name=&quot;hornetq&quot;&gt;tcp://0.0.0.0:5445?anycastPrefix=jms.queue.;multicastPrefix=jms.topic.;protocols=HORNETQ,STOMP;useEpoll=true&lt;/acceptor&gt;\n         &lt;!-- MQTT Acceptor --&gt;\n         &lt;acceptor name=&quot;mqtt&quot;&gt;tcp://0.0.0.0:1883?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;protocols=MQTT;useEpoll=true&lt;/acceptor&gt;\n      &lt;/acceptors&gt;\n      \n      &lt;security-settings&gt;\n         &lt;security-setting match=&quot;#&quot;&gt;\n            &lt;permission type=&quot;createNonDurableQueue&quot; roles=&quot;amq&quot;/&gt;\n            &lt;permission type=&quot;deleteNonDurableQueue&quot; roles=&quot;amq&quot;/&gt;\n            &lt;permission type=&quot;createDurableQueue&quot; roles=&quot;amq&quot;/&gt;\n            &lt;permission type=&quot;deleteDurableQueue&quot; roles=&quot;amq&quot;/&gt;\n            &lt;permission type=&quot;createAddress&quot; roles=&quot;amq&quot;/&gt;\n            &lt;permission type=&quot;deleteAddress&quot; roles=&quot;amq&quot;/&gt;\n            &lt;permission type=&quot;consume&quot; roles=&quot;amq&quot;/&gt;\n            &lt;permission type=&quot;browse&quot; roles=&quot;amq&quot;/&gt;\n            &lt;permission type=&quot;send&quot; roles=&quot;amq&quot;/&gt;\n            &lt;!-- we need this otherwise ./artemis data imp wouldn't work --&gt;\n            &lt;permission type=&quot;manage&quot; roles=&quot;amq&quot;/&gt;\n         &lt;/security-setting&gt;\n      &lt;/security-settings&gt;\n\n      &lt;address-settings&gt;\n         &lt;!-- if you define auto-create on certain queues, management has to be auto-create --&gt;\n         &lt;address-setting match=&quot;activemq.management#&quot;&gt;\n            &lt;dead-letter-address&gt;DLQ&lt;/dead-letter-address&gt;\n            &lt;expiry-address&gt;ExpiryQueue&lt;/expiry-address&gt;\n            &lt;redelivery-delay&gt;0&lt;/redelivery-delay&gt;\n            &lt;!-- with -1 only the global-max-size is in use for limiting --&gt;\n            &lt;max-size-bytes&gt;-1&lt;/max-size-bytes&gt;\n            &lt;message-counter-history-day-limit&gt;10&lt;/message-counter-history-day-limit&gt;\n            &lt;address-full-policy&gt;PAGE&lt;/address-full-policy&gt;\n            &lt;auto-create-queues&gt;true&lt;/auto-create-queues&gt;\n            &lt;auto-create-addresses&gt;true&lt;/auto-create-addresses&gt;\n            &lt;auto-create-jms-queues&gt;true&lt;/auto-create-jms-queues&gt;\n            &lt;auto-create-jms-topics&gt;true&lt;/auto-create-jms-topics&gt;\n         &lt;/address-setting&gt;\n         &lt;!--default for catch all--&gt;\n         &lt;address-setting match=&quot;#&quot;&gt;\n            &lt;dead-letter-address&gt;DLQ&lt;/dead-letter-address&gt;\n            &lt;expiry-address&gt;ExpiryQueue&lt;/expiry-address&gt;\n            &lt;redelivery-delay&gt;0&lt;/redelivery-delay&gt;\n            &lt;!-- with -1 only the global-max-size is in use for limiting --&gt;\n            &lt;max-size-bytes&gt;-1&lt;/max-size-bytes&gt;\n            &lt;message-counter-history-day-limit&gt;10&lt;/message-counter-history-day-limit&gt;\n            &lt;address-full-policy&gt;PAGE&lt;/address-full-policy&gt;\n            &lt;auto-create-queues&gt;true&lt;/auto-create-queues&gt;\n            &lt;auto-create-addresses&gt;true&lt;/auto-create-addresses&gt;\n            &lt;auto-create-jms-queues&gt;true&lt;/auto-create-jms-queues&gt;\n            &lt;auto-create-jms-topics&gt;true&lt;/auto-create-jms-topics&gt;\n         &lt;/address-setting&gt;\n      &lt;/address-settings&gt;\n\n      &lt;addresses&gt;\n         &lt;address name=&quot;DLQ&quot;&gt;\n            &lt;anycast&gt;\n               &lt;queue name=&quot;DLQ&quot; /&gt;\n            &lt;/anycast&gt;\n         &lt;/address&gt;\n         &lt;address name=&quot;ExpiryQueue&quot;&gt;\n            &lt;anycast&gt;\n               &lt;queue name=&quot;ExpiryQueue&quot; /&gt;\n            &lt;/anycast&gt;\n         &lt;/address&gt;\n\n      &lt;/addresses&gt;\n   &lt;/core&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>bootstrap.xml</p>\n<pre><code>&lt;broker xmlns=&quot;http://activemq.org/schema&quot;&gt;\n\n   &lt;jaas-security domain=&quot;activemq&quot;/&gt;\n\n   &lt;!-- artemis.URI.instance is parsed from artemis.instance by the CLI startup.\n        This is to avoid situations where you could have spaces or special characters on this URI --&gt;\n   &lt;server configuration=&quot;file:/C:/dev/artemis/apache-artemis-2.13.0/bin/brokerone/etc//broker.xml&quot;/&gt;\n\n   &lt;!-- The web server is only bound to localhost by default --&gt;\n   &lt;web bind=&quot;http://localhost:8161&quot; path=&quot;web&quot;&gt;\n       &lt;app url=&quot;activemq-branding&quot; war=&quot;activemq-branding.war&quot;/&gt;\n       &lt;app url=&quot;artemis-plugin&quot; war=&quot;artemis-plugin.war&quot;/&gt;\n       &lt;app url=&quot;console&quot; war=&quot;console.war&quot;/&gt;\n   &lt;/web&gt;\n\n\n&lt;/broker&gt;\n</code></pre>\n<p>login.config</p>\n<pre><code>activemq {\n   org.apache.activemq.artemis.spi.core.security.jaas.PropertiesLoginModule sufficient\n       debug=false\n       reload=true\n       org.apache.activemq.jaas.properties.user=&quot;artemis-users.properties&quot;\n       org.apache.activemq.jaas.properties.role=&quot;artemis-roles.properties&quot;;\n\n   org.apache.activemq.artemis.spi.core.security.jaas.GuestLoginModule sufficient\n       debug=false\n       org.apache.activemq.jaas.guest.user=&quot;admin&quot;\n       org.apache.activemq.jaas.guest.role=&quot;amq&quot;;\n};\n</code></pre>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1658035703,"post_id":73009445,"comment_id":128948789,"body_markdown":"What is the error stack like?","body":"What is the error stack like?"},{"owner":{"account_id":1598790,"reputation":199,"user_id":1480299,"display_name":"AD90"},"score":0,"creation_date":1658048264,"post_id":73009445,"comment_id":128950526,"body_markdown":"I updated the complete stack trace above.","body":"I updated the complete stack trace above."},{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":0,"creation_date":1658287461,"post_id":73009445,"comment_id":129011620,"body_markdown":"This like might be helpful for formatting the question https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks","body":"This like might be helpful for formatting the question <a href=\"https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks\" title=\"how do i format my code blocks\">meta.stackoverflow.com/questions/251361/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":207004,"reputation":3375,"user_id":456635,"display_name":"abdollar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658287223,"creation_date":1658287223,"answer_id":73045618,"question_id":73009445,"body_markdown":"The MySQL command line uses a different connection by default when you specify localhost compared to JDBC. It uses a unix socket file. I believe you can use a socket file in JDBC with something like this.\r\n\r\n```\r\njdbc:mysql://localhost:3306/shg?localSocket=/var/run/mysqld/mysqld.sock\r\n```\r\n\r\nYou can also set the mysql client to use tcp (to get the same error as JDBC) instead of using a socket file with something like this to match the behavior of the JDBC connection.\r\n\r\n```\r\nmysql -u root --protocol=tcp -p\r\n```\r\n","title":"MySQL connection fails from spring boot but successful from command line","body":"<p>The MySQL command line uses a different connection by default when you specify localhost compared to JDBC. It uses a unix socket file. I believe you can use a socket file in JDBC with something like this.</p>\n<pre><code>jdbc:mysql://localhost:3306/shg?localSocket=/var/run/mysqld/mysqld.sock\n</code></pre>\n<p>You can also set the mysql client to use tcp (to get the same error as JDBC) instead of using a socket file with something like this to match the behavior of the JDBC connection.</p>\n<pre><code>mysql -u root --protocol=tcp -p\n</code></pre>\n"}],"owner":{"account_id":1598790,"reputation":199,"user_id":1480299,"display_name":"AD90"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73045618,"answer_count":1,"score":0,"last_activity_date":1658287423,"creation_date":1658035481,"question_id":73009445,"body_markdown":"I am working on a spring boot project with MySQL. The connection to MySQL DB fails from Eclipse with error as: \r\n\r\n```\r\n java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39;\r\n (using password: YES)\r\n 2022-07-17 10:50:56.508  INFO 3756 --- [  restartedMain]\r\n com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n 2022-07-17 10:50:57.708 ERROR 3756 --- [  restartedMain]\r\n com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception\r\n during pool initialization.\r\n \r\n java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39;\r\n(using password: YES)     at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n~[mysql-connector-java-8.0.29.jar:8.0.29]     at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n~[mysql-connector-java-8.0.29.jar:8.0.29]     at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)\r\n~[mysql-connector-java-8.0.29.jar:8.0.29]     at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448)\r\n~[mysql-connector-java-8.0.29.jar:8.0.29]     at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\r\n~[mysql-connector-java-8.0.29.jar:8.0.29]     at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\n~[mysql-connector-java-8.0.29.jar:8.0.29]     at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n~[HikariCP-4.0.3.jar:na]  at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\r\n~[HikariCP-4.0.3.jar:na]  at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n~[HikariCP-4.0.3.jar:na]  at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\r\n~[HikariCP-4.0.3.jar:na]  at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n~[HikariCP-4.0.3.jar:na]  at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n~[HikariCP-4.0.3.jar:na]  at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n~[HikariCP-4.0.3.jar:na]  at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\r\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\r\n~[spring-orm-5.3.21.jar:5.3.21]   at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n~[spring-orm-5.3.21.jar:5.3.21]   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n~[spring-orm-5.3.21.jar:5.3.21]   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n~[spring-orm-5.3.21.jar:5.3.21]   at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n~[spring-orm-5.3.21.jar:5.3.21]   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\r\n~[spring-context-5.3.21.jar:5.3.21]   at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\r\n~[spring-context-5.3.21.jar:5.3.21]   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n~[spring-context-5.3.21.jar:5.3.21]   at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n~[spring-boot-2.7.1.jar:2.7.1]    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n~[spring-boot-2.7.1.jar:2.7.1]    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n~[spring-boot-2.7.1.jar:2.7.1]    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n~[spring-boot-2.7.1.jar:2.7.1]    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n~[spring-boot-2.7.1.jar:2.7.1]    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n~[spring-boot-2.7.1.jar:2.7.1]    at com.shg.SelfHelpGroupApplication.main(SelfHelpGroupApplication.java:10)\r\n~[classes/:na]    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\nMethod) ~[na:na]  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n~[na:na]  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n~[na:na]  at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na] at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n ~[spring-boot-devtools-2.7.1.jar:2.7.1]\r\n```\r\n\r\nThe connection parameters I&#39;m using are:\r\n\r\n```\r\n&gt; spring.jpa.hibernate.ddl-auto=update\r\n&gt; spring.datasource.url=jdbc:mysql://localhost:3306/shg\r\n&gt; spring.datasource.username=root spring.datasource.password=root\r\n&gt; spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n&gt; spring.jpa.show-sql=true server.port=8091\r\n```\r\n\r\nHowever the connection with same user and password combination works from command line.\r\n\r\n```\r\n&gt; C:\\Users&gt;mysql -u root -p \r\n   Enter password: **** \r\n   Welcome to the MySQL\r\n&gt; monitor.  Commands end with ; or \\g. Your MySQL connection id is 8\r\n&gt; Server version: 8.0.29 MySQL Community Server - GPL\r\n&gt; \r\n&gt; Copyright (c) 2000, 2022, Oracle and/or its affiliates.\r\n&gt; \r\n&gt; Oracle is a registered trademark of Oracle Corporation and/or its\r\n&gt; affiliates. Other names may be trademarks of their respective owners.\r\n&gt; \r\n&gt; Type &#39;help;&#39; or &#39;\\h&#39; for help. Type &#39;\\c&#39; to clear the current input\r\n&gt; statement.\r\n&gt; \r\n&gt; mysql&gt;\r\n```\r\n\r\nI tried multiple things, but nothing is working. Any help will be much appriciated.!","title":"MySQL connection fails from spring boot but successful from command line","body":"<p>I am working on a spring boot project with MySQL. The connection to MySQL DB fails from Eclipse with error as:</p>\n<pre><code> java.sql.SQLException: Access denied for user 'root'@'localhost'\n (using password: YES)\n 2022-07-17 10:50:56.508  INFO 3756 --- [  restartedMain]\n com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n 2022-07-17 10:50:57.708 ERROR 3756 --- [  restartedMain]\n com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception\n during pool initialization.\n \n java.sql.SQLException: Access denied for user 'root'@'localhost'\n(using password: YES)     at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n~[mysql-connector-java-8.0.29.jar:8.0.29]     at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n~[mysql-connector-java-8.0.29.jar:8.0.29]     at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)\n~[mysql-connector-java-8.0.29.jar:8.0.29]     at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448)\n~[mysql-connector-java-8.0.29.jar:8.0.29]     at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\n~[mysql-connector-java-8.0.29.jar:8.0.29]     at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\n~[mysql-connector-java-8.0.29.jar:8.0.29]     at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n~[HikariCP-4.0.3.jar:na]  at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\n~[HikariCP-4.0.3.jar:na]  at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n~[HikariCP-4.0.3.jar:na]  at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\n~[HikariCP-4.0.3.jar:na]  at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\n~[HikariCP-4.0.3.jar:na]  at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n~[HikariCP-4.0.3.jar:na]  at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n~[HikariCP-4.0.3.jar:na]  at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\n~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]     at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\n~[spring-orm-5.3.21.jar:5.3.21]   at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\n~[spring-orm-5.3.21.jar:5.3.21]   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n~[spring-orm-5.3.21.jar:5.3.21]   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n~[spring-orm-5.3.21.jar:5.3.21]   at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\n~[spring-orm-5.3.21.jar:5.3.21]   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n~[spring-beans-5.3.21.jar:5.3.21]     at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\n~[spring-context-5.3.21.jar:5.3.21]   at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\n~[spring-context-5.3.21.jar:5.3.21]   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n~[spring-context-5.3.21.jar:5.3.21]   at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n~[spring-boot-2.7.1.jar:2.7.1]    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n~[spring-boot-2.7.1.jar:2.7.1]    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n~[spring-boot-2.7.1.jar:2.7.1]    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n~[spring-boot-2.7.1.jar:2.7.1]    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n~[spring-boot-2.7.1.jar:2.7.1]    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n~[spring-boot-2.7.1.jar:2.7.1]    at com.shg.SelfHelpGroupApplication.main(SelfHelpGroupApplication.java:10)\n~[classes/:na]    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod) ~[na:na]  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n~[na:na]  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n~[na:na]  at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na] at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\n ~[spring-boot-devtools-2.7.1.jar:2.7.1]\n</code></pre>\n<p>The connection parameters I'm using are:</p>\n<pre><code>&gt; spring.jpa.hibernate.ddl-auto=update\n&gt; spring.datasource.url=jdbc:mysql://localhost:3306/shg\n&gt; spring.datasource.username=root spring.datasource.password=root\n&gt; spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n&gt; spring.jpa.show-sql=true server.port=8091\n</code></pre>\n<p>However the connection with same user and password combination works from command line.</p>\n<pre><code>&gt; C:\\Users&gt;mysql -u root -p \n   Enter password: **** \n   Welcome to the MySQL\n&gt; monitor.  Commands end with ; or \\g. Your MySQL connection id is 8\n&gt; Server version: 8.0.29 MySQL Community Server - GPL\n&gt; \n&gt; Copyright (c) 2000, 2022, Oracle and/or its affiliates.\n&gt; \n&gt; Oracle is a registered trademark of Oracle Corporation and/or its\n&gt; affiliates. Other names may be trademarks of their respective owners.\n&gt; \n&gt; Type 'help;' or '\\h' for help. Type '\\c' to clear the current input\n&gt; statement.\n&gt; \n&gt; mysql&gt;\n</code></pre>\n<p>I tried multiple things, but nothing is working. Any help will be much appriciated.!</p>\n"},{"tags":["java","multithreading","tomcat","hystrix","mdc"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1581043968,"post_id":60106450,"comment_id":106306607,"body_markdown":"Wild guess: Different classloader","body":"Wild guess: Different classloader"}],"answers":[{"tags":[],"owner":{"account_id":13900713,"reputation":49,"user_id":10036391,"display_name":"Ibrahim Hilali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581044204,"creation_date":1581044204,"answer_id":60106500,"question_id":60106450,"body_markdown":"String.valueOf(&quot;someVal&quot;)\r\n\r\nI think , you have to use variable instead of  &quot;someValue&quot;\r\nString.valueOf(variable)","title":"MDC is not transfered from Hystrix thread to tomcat thread","body":"<p>String.valueOf(\"someVal\")</p>\n\n<p>I think , you have to use variable instead of  \"someValue\"\nString.valueOf(variable)</p>\n"},{"tags":[],"owner":{"account_id":4124522,"reputation":160,"user_id":9877669,"display_name":"FlapPy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581093022,"creation_date":1581093022,"answer_id":60117481,"question_id":60106450,"body_markdown":"`MDC` works in a way similar to how `ThreadLocal` works. It is linked to the current thread and does not get automatically transferred in case of threadPools (Hystrix also uses threadPool).\r\n\r\nSo you need to copy `MDC` from your main thread to hystrix thread (not your use case though) and from hystrix thread to main thread.\r\n\r\nYou can use HystrixHook to accomplish this.\r\n\r\nHave a look at this [blog][1]\r\n\r\n\r\n  [1]: https://medium.com/@saurav24081996/java-hystrix-and-threadlocals-95ea9e194e83","title":"MDC is not transfered from Hystrix thread to tomcat thread","body":"<p><code>MDC</code> works in a way similar to how <code>ThreadLocal</code> works. It is linked to the current thread and does not get automatically transferred in case of threadPools (Hystrix also uses threadPool).</p>\n\n<p>So you need to copy <code>MDC</code> from your main thread to hystrix thread (not your use case though) and from hystrix thread to main thread.</p>\n\n<p>You can use HystrixHook to accomplish this.</p>\n\n<p>Have a look at this <a href=\"https://medium.com/@saurav24081996/java-hystrix-and-threadlocals-95ea9e194e83\" rel=\"nofollow noreferrer\">blog</a></p>\n"}],"owner":{"account_id":17586106,"reputation":65,"user_id":12758802,"display_name":"P_user526"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658285620,"creation_date":1581043774,"question_id":60106450,"body_markdown":"I have a classA which is running on **Tomcat thread**. ClassA is maintaining a set of MDC key-values pairs.\r\n\r\nAs the ClassA is executed, ```MDC.getCopyOfContextMap()``` returns (A=&quot;a&quot;, B=&quot;b&quot;, C=&quot;c&quot;)\r\n\r\nNow, ClassA calls classB which is running on **Hystrix thread**. \r\n\r\nWhen we enter ClassB, MDC from ClassA is copied and ```MDC.getCopyOfContextMap()``` returns (A=&quot;a&quot;, B=&quot;b&quot;, C=&quot;c&quot;).\r\n\r\nClassB sets a value of a variable X into MDC. \r\n```MDC.put(&quot;X&quot;, String.valueOf(&quot;someVal&quot;))```\r\nWhen still inside ClassB, ```MDC.getCopyOfContextMap()``` returns (A=&quot;a&quot;, B=&quot;b&quot;, C=&quot;c&quot;, X=&quot;someVal&quot;).\r\n\r\nClassA receives the MDC and tries to access the variable X. \r\n\r\n```MDC.get(X)```\r\n\r\nBut it gets it as null because```MDC.getCopyOfContextMap()``` returns (A=&quot;a&quot;, B=&quot;b&quot;, C=&quot;c&quot;).\r\n\r\nAny suggestions why MDC is not transferred from Hystrix thread to tomcat thread?","title":"MDC is not transfered from Hystrix thread to tomcat thread","body":"<p>I have a classA which is running on <strong>Tomcat thread</strong>. ClassA is maintaining a set of MDC key-values pairs.</p>\n\n<p>As the ClassA is executed, <code>MDC.getCopyOfContextMap()</code> returns (A=\"a\", B=\"b\", C=\"c\")</p>\n\n<p>Now, ClassA calls classB which is running on <strong>Hystrix thread</strong>. </p>\n\n<p>When we enter ClassB, MDC from ClassA is copied and <code>MDC.getCopyOfContextMap()</code> returns (A=\"a\", B=\"b\", C=\"c\").</p>\n\n<p>ClassB sets a value of a variable X into MDC. \n<code>MDC.put(\"X\", String.valueOf(\"someVal\"))</code>\nWhen still inside ClassB, <code>MDC.getCopyOfContextMap()</code> returns (A=\"a\", B=\"b\", C=\"c\", X=\"someVal\").</p>\n\n<p>ClassA receives the MDC and tries to access the variable X. </p>\n\n<p><code>MDC.get(X)</code></p>\n\n<p>But it gets it as null because<code>MDC.getCopyOfContextMap()</code> returns (A=\"a\", B=\"b\", C=\"c\").</p>\n\n<p>Any suggestions why MDC is not transferred from Hystrix thread to tomcat thread?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6967503,"reputation":131,"user_id":5410767,"accept_rate":86,"display_name":"L&#233;o Eduardo Silva"},"score":0,"creation_date":1658236099,"post_id":73036420,"comment_id":128997288,"body_markdown":"Xa is the value I need to achieve with Aa, Ba, Ca, Xb is the value I need to achieve with Ab, Bb, Cb and Xc is the value I need to achieve with Ac, Bc, Cc. Simultaneously, sorry if I made it hard to understand. Hope it is clear now. At the end I just showed values left in A, B and C.","body":"Xa is the value I need to achieve with Aa, Ba, Ca, Xb is the value I need to achieve with Ab, Bb, Cb and Xc is the value I need to achieve with Ac, Bc, Cc. Simultaneously, sorry if I made it hard to understand. Hope it is clear now. At the end I just showed values left in A, B and C."},{"owner":{"account_id":6967503,"reputation":131,"user_id":5410767,"accept_rate":86,"display_name":"L&#233;o Eduardo Silva"},"score":0,"creation_date":1658273954,"post_id":73036420,"comment_id":129009641,"body_markdown":"Xa, Xb and Xc values are arbitrary. I need to get Xa given combinations of Aa, Ba and Ca. Same for Xb with Ab, Bb, Cb and Xc... To make it simple, I only have A, B and C to get the ideia of how it works. The result in R is an example of solution. See @Eritrean answer, it is just what I expected. I don&#39;t think it is that hard to understand even after this two explanations... Thanks anyway!","body":"Xa, Xb and Xc values are arbitrary. I need to get Xa given combinations of Aa, Ba and Ca. Same for Xb with Ab, Bb, Cb and Xc... To make it simple, I only have A, B and C to get the ideia of how it works. The result in R is an example of solution. See @Eritrean answer, it is just what I expected. I don&#39;t think it is that hard to understand even after this two explanations... Thanks anyway!"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658248970,"creation_date":1658248970,"answer_id":73040682,"question_id":73036420,"body_markdown":"Assuming you have a fixed number of elements to generate the desired combinations, a simple straight forward approach could be just to use a nested for-loop. See below example as a starting point:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Example {\r\n        public static void main(String[] args){\r\n            // set up \r\n            List&lt;Integer&gt; x = List.of(50, 30, 20);\r\n    \r\n            List&lt;Integer&gt; a = List.of(80, 10, 12);\r\n            List&lt;Integer&gt; b = List.of(15,  0,  9);\r\n            List&lt;Integer&gt; c = List.of( 1, 22,  4);\r\n    \r\n            // generate combinations iterating over the range [0 - n] for each index of a,b and c \r\n            // and filter those whose sum is equal to the element of x at the corrsponding index\r\n            List&lt;List&lt;Integer&gt;&gt; xa = generateCombinations(a.get(0), b.get(0), c.get(0), x.get(0));\r\n            List&lt;List&lt;Integer&gt;&gt; xb = generateCombinations(a.get(1), b.get(1), c.get(1), x.get(1));\r\n            List&lt;List&lt;Integer&gt;&gt; xc = generateCombinations(a.get(2), b.get(2), c.get(2), x.get(2));\r\n    \r\n            // combine the above combinations by adding each possible triplett into a list\r\n            List&lt;List&lt;List&lt;Integer&gt;&gt;&gt; result = generateResultCombs(xa, xb, xc);\r\n    \r\n            result.forEach(System.out::println);\r\n        }\r\n    \r\n        private static List&lt;List&lt;List&lt;Integer&gt;&gt;&gt; generateResultCombs(\r\n                List&lt;List&lt;Integer&gt;&gt; xa, List&lt;List&lt;Integer&gt;&gt; xb, List&lt;List&lt;Integer&gt;&gt; xc) {\r\n    \r\n            List&lt;List&lt;List&lt;Integer&gt;&gt;&gt; result = new ArrayList&lt;&gt;();\r\n    \r\n            for (List&lt;Integer&gt; combA : xa) {\r\n                for (List&lt;Integer&gt; combB : xb) {\r\n                    for (List&lt;Integer&gt; combC : xc) {\r\n                        result.add(List.of(combA, combB, combC));\r\n                    }\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        private static List&lt;List&lt;Integer&gt;&gt; generateCombinations(int a, int b, int c, int x) {\r\n    \r\n            List&lt;List&lt;Integer&gt;&gt; combinations = new ArrayList&lt;&gt;();\r\n    \r\n            for (int i = 0; i &lt;= a; i++){\r\n                for (int j = 0; j &lt;= b; j++){\r\n                    for (int k = 0; k &lt;= c; k++){\r\n                        if (i + j + k == x){\r\n                            combinations.add(List.of(i, j, k));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return combinations;\r\n        }\r\n    }\r\n\r\n","title":"Finding possible sum combination of values for other 3 values","body":"<p>Assuming you have a fixed number of elements to generate the desired combinations, a simple straight forward approach could be just to use a nested for-loop. See below example as a starting point:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Example {\n    public static void main(String[] args){\n        // set up \n        List&lt;Integer&gt; x = List.of(50, 30, 20);\n\n        List&lt;Integer&gt; a = List.of(80, 10, 12);\n        List&lt;Integer&gt; b = List.of(15,  0,  9);\n        List&lt;Integer&gt; c = List.of( 1, 22,  4);\n\n        // generate combinations iterating over the range [0 - n] for each index of a,b and c \n        // and filter those whose sum is equal to the element of x at the corrsponding index\n        List&lt;List&lt;Integer&gt;&gt; xa = generateCombinations(a.get(0), b.get(0), c.get(0), x.get(0));\n        List&lt;List&lt;Integer&gt;&gt; xb = generateCombinations(a.get(1), b.get(1), c.get(1), x.get(1));\n        List&lt;List&lt;Integer&gt;&gt; xc = generateCombinations(a.get(2), b.get(2), c.get(2), x.get(2));\n\n        // combine the above combinations by adding each possible triplett into a list\n        List&lt;List&lt;List&lt;Integer&gt;&gt;&gt; result = generateResultCombs(xa, xb, xc);\n\n        result.forEach(System.out::println);\n    }\n\n    private static List&lt;List&lt;List&lt;Integer&gt;&gt;&gt; generateResultCombs(\n            List&lt;List&lt;Integer&gt;&gt; xa, List&lt;List&lt;Integer&gt;&gt; xb, List&lt;List&lt;Integer&gt;&gt; xc) {\n\n        List&lt;List&lt;List&lt;Integer&gt;&gt;&gt; result = new ArrayList&lt;&gt;();\n\n        for (List&lt;Integer&gt; combA : xa) {\n            for (List&lt;Integer&gt; combB : xb) {\n                for (List&lt;Integer&gt; combC : xc) {\n                    result.add(List.of(combA, combB, combC));\n                }\n            }\n        }\n        return result;\n    }\n\n    private static List&lt;List&lt;Integer&gt;&gt; generateCombinations(int a, int b, int c, int x) {\n\n        List&lt;List&lt;Integer&gt;&gt; combinations = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt;= a; i++){\n            for (int j = 0; j &lt;= b; j++){\n                for (int k = 0; k &lt;= c; k++){\n                    if (i + j + k == x){\n                        combinations.add(List.of(i, j, k));\n                    }\n                }\n            }\n        }\n        return combinations;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658282901,"creation_date":1658282901,"answer_id":73045259,"question_id":73036420,"body_markdown":"I offer the following Optimization to [@Eritrean&#39;s](https://stackoverflow.com/a/73040682/1552534) `generateCombinations` method.\r\n\r\n- first, all that is required is to use two nested loops. The sum of `i` and `j` can be subtracted from `x` to see if it lies within the range of `[0,c]`.\r\n\r\n- second, the limit of each loop should depend on the minimum value of `x` as compared to `a` or `b`.  If `a = 80` and `x = 50`, there is no need to iterate to `80` as any value past `50` exceeds the target sum (negative values are not considered part of valid solutions).\r\n\r\nHere is the method.\r\n```\r\nprivate static List&lt;List&lt;Integer&gt;&gt; generateCombinationsOpt(int a,\r\n\t\tint b, int c, int x) {\r\n\tList&lt;List&lt;Integer&gt;&gt; combinations = new ArrayList&lt;&gt;();\r\n\tint aLimit = Math.min(a, x);\r\n\tint bLimit = Math.min(b, x);\r\n\tfor (int i = 0; i &lt;= aLimit; i++) {\r\n\t\tfor (int j = 0; j &lt;= bLimit; j++) {\r\n\t\t\tint d = x - (i + j);\r\n\t\t\tif (d &gt;= 0 &amp;&amp; d &lt;= c) {\r\n\t\t\t\tcombinations.add(List.of(i, j, d));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\treturn combinations;\r\n}\r\n```\r\n**Note:**  Ideally one would like to use the smaller two values of `a`, `b`, and `c` as the initial limits of the loops to further reduce the number of iterations.  But this would require extra bookkeeping to ensure that the resultant lists are properly populated.","title":"Finding possible sum combination of values for other 3 values","body":"<p>I offer the following Optimization to <a href=\"https://stackoverflow.com/a/73040682/1552534\">@Eritrean's</a> <code>generateCombinations</code> method.</p>\n<ul>\n<li><p>first, all that is required is to use two nested loops. The sum of <code>i</code> and <code>j</code> can be subtracted from <code>x</code> to see if it lies within the range of <code>[0,c]</code>.</p>\n</li>\n<li><p>second, the limit of each loop should depend on the minimum value of <code>x</code> as compared to <code>a</code> or <code>b</code>.  If <code>a = 80</code> and <code>x = 50</code>, there is no need to iterate to <code>80</code> as any value past <code>50</code> exceeds the target sum (negative values are not considered part of valid solutions).</p>\n</li>\n</ul>\n<p>Here is the method.</p>\n<pre><code>private static List&lt;List&lt;Integer&gt;&gt; generateCombinationsOpt(int a,\n        int b, int c, int x) {\n    List&lt;List&lt;Integer&gt;&gt; combinations = new ArrayList&lt;&gt;();\n    int aLimit = Math.min(a, x);\n    int bLimit = Math.min(b, x);\n    for (int i = 0; i &lt;= aLimit; i++) {\n        for (int j = 0; j &lt;= bLimit; j++) {\n            int d = x - (i + j);\n            if (d &gt;= 0 &amp;&amp; d &lt;= c) {\n                combinations.add(List.of(i, j, d));\n            }\n        }\n        \n    }\n    return combinations;\n}\n</code></pre>\n<p><strong>Note:</strong>  Ideally one would like to use the smaller two values of <code>a</code>, <code>b</code>, and <code>c</code> as the initial limits of the loops to further reduce the number of iterations.  But this would require extra bookkeeping to ensure that the resultant lists are properly populated.</p>\n"}],"owner":{"account_id":6967503,"reputation":131,"user_id":5410767,"accept_rate":86,"display_name":"L&#233;o Eduardo Silva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73040682,"answer_count":2,"score":0,"last_activity_date":1658282901,"creation_date":1658231665,"question_id":73036420,"body_markdown":"I need to find possible sum combination of values for 3 other values.\r\n\r\nFor example: numbers X=[a=50,b=30,c=20] and I need to find a, b and c considering A=[a=80,b=10,c=12], B=[a=15,b=0,c=9] and C=[a=1,b=22,c=4]. \r\n\r\nSo, a solution would be \r\n\r\n**R=[(Aa=34 + Ba=15 + Ca=1), (Ab=9 + Bb=0 + Cb=21), (Ac=10 + Bc=9 + Cc=1)]** satisfying **X=[a=50,b=30,c=20]**.\r\n\r\nAt the end \r\n\r\n**A=[a=46,b=1,c=2]** \r\n\r\n**B=[a=0, b=0, c=0]**\r\n\r\n**C=[a=0, b=1, c=3]**\r\n\r\nThere is no need of using the value reaching 0. How can I do it? Is it possible?\r\n","title":"Finding possible sum combination of values for other 3 values","body":"<p>I need to find possible sum combination of values for 3 other values.</p>\n<p>For example: numbers X=[a=50,b=30,c=20] and I need to find a, b and c considering A=[a=80,b=10,c=12], B=[a=15,b=0,c=9] and C=[a=1,b=22,c=4].</p>\n<p>So, a solution would be</p>\n<p><strong>R=[(Aa=34 + Ba=15 + Ca=1), (Ab=9 + Bb=0 + Cb=21), (Ac=10 + Bc=9 + Cc=1)]</strong> satisfying <strong>X=[a=50,b=30,c=20]</strong>.</p>\n<p>At the end</p>\n<p><strong>A=[a=46,b=1,c=2]</strong></p>\n<p><strong>B=[a=0, b=0, c=0]</strong></p>\n<p><strong>C=[a=0, b=1, c=3]</strong></p>\n<p>There is no need of using the value reaching 0. How can I do it? Is it possible?</p>\n"},{"tags":["java","arraylist","file-writing"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1658280236,"post_id":73044943,"comment_id":129010602,"body_markdown":"It seems very in-efficient to loop twice. read/change/write in a one loop","body":"It seems very in-efficient to loop twice. read/change/write in a one loop"},{"owner":{"account_id":12535447,"reputation":123,"user_id":9122253,"display_name":"Andrew Fox"},"score":0,"creation_date":1658280651,"post_id":73044943,"comment_id":129010657,"body_markdown":"Apologies, I&#39;ve updated the code snippet.","body":"Apologies, I&#39;ve updated the code snippet."},{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":0,"creation_date":1658281052,"post_id":73044943,"comment_id":129010709,"body_markdown":"In your code,you are not setting substrings to anything new. Substrings should be getting updated inside each iteration of the loop(PER line)","body":"In your code,you are not setting substrings to anything new. Substrings should be getting updated inside each iteration of the loop(PER line)"},{"owner":{"account_id":12535447,"reputation":123,"user_id":9122253,"display_name":"Andrew Fox"},"score":1,"creation_date":1658281655,"post_id":73044943,"comment_id":129010791,"body_markdown":"Hi @AkinOkegbile. Its the lines() list I&#39;m trying to update inside each iteration of the loop. The subStrings() list elements should only be serving as markers to let me know where to put a comma in each element of the lines() list.","body":"Hi @AkinOkegbile. Its the lines() list I&#39;m trying to update inside each iteration of the loop. The subStrings() list elements should only be serving as markers to let me know where to put a comma in each element of the lines() list."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658280875,"creation_date":1658280875,"answer_id":73045093,"question_id":73044943,"body_markdown":"I think this does what you want.  (Edit: no, I&#39;m confused as to what went wrong in your code.  Check the output carefully, I think there may be something else going on.  Are you sure you are looking at the right output file?)\r\n\r\n\r\n    public class ListStringReplace {\r\n    \r\n       static List&lt;String&gt; subStrings = Arrays.asList( &quot;EURONAV NV&quot;, &quot;EURONAV NV&quot;, &quot;EURONAV NV&quot;, &quot;NYXOAH S A&quot; );\r\n       static List&lt;String&gt; lines = Arrays.asList(\r\n               &quot;B38564108,EURONAV NV SHS&quot;,\r\n               &quot;B38564908,EURONAV NV CALL&quot;,\r\n               &quot;B38564958,EURONAV NV PUT&quot;,\r\n               &quot;B6S7WD106,NYXOAH S A SHS&quot;\r\n       );\r\n    \r\n       public static void main( String[] args ) {\r\n          substitute();\r\n          System.out.println( &quot;Output:\\n&quot; + lines );\r\n       }\r\n    \r\n       private static void substitute() {\r\n    //      File textFile = new File( &quot;new_doc.txt&quot; );\r\n    //      List&lt;String&gt; lines = FileUtils.readLines( originalTextFile, &quot;UTF-8&quot; );\r\n    //\r\n          if( subStrings.size() == lines.size() ) {\r\n             for( int i = 0; i &lt; lines.size(); i++ ) {\r\n    //            String replacementText = subStrings.get( i ).concat( &quot;,&quot; );\r\n                lines.set( i, lines.get( i ).replace( subStrings.get( i ), subStrings.get( i ) + &quot;,&quot; ) );\r\n             }\r\n    //         FileWriter fw = new FileWriter( textFile.getAbsoluteFile() );\r\n    //         BufferedWriter bw = new BufferedWriter( fw );\r\n    //\r\n    //         for( int i = 0; i &lt; lines.size(); i++ ) {\r\n    //            bw.write( lines.get( i ) + System.getProperty( &quot;line.separator&quot; ) );\r\n    //         }\r\n    //         bw.close();\r\n          }\r\n       }\r\n    }\r\n\r\n","title":"Java: Editing a Text File based on the contents of a List","body":"<p>I think this does what you want.  (Edit: no, I'm confused as to what went wrong in your code.  Check the output carefully, I think there may be something else going on.  Are you sure you are looking at the right output file?)</p>\n<pre><code>public class ListStringReplace {\n\n   static List&lt;String&gt; subStrings = Arrays.asList( &quot;EURONAV NV&quot;, &quot;EURONAV NV&quot;, &quot;EURONAV NV&quot;, &quot;NYXOAH S A&quot; );\n   static List&lt;String&gt; lines = Arrays.asList(\n           &quot;B38564108,EURONAV NV SHS&quot;,\n           &quot;B38564908,EURONAV NV CALL&quot;,\n           &quot;B38564958,EURONAV NV PUT&quot;,\n           &quot;B6S7WD106,NYXOAH S A SHS&quot;\n   );\n\n   public static void main( String[] args ) {\n      substitute();\n      System.out.println( &quot;Output:\\n&quot; + lines );\n   }\n\n   private static void substitute() {\n//      File textFile = new File( &quot;new_doc.txt&quot; );\n//      List&lt;String&gt; lines = FileUtils.readLines( originalTextFile, &quot;UTF-8&quot; );\n//\n      if( subStrings.size() == lines.size() ) {\n         for( int i = 0; i &lt; lines.size(); i++ ) {\n//            String replacementText = subStrings.get( i ).concat( &quot;,&quot; );\n            lines.set( i, lines.get( i ).replace( subStrings.get( i ), subStrings.get( i ) + &quot;,&quot; ) );\n         }\n//         FileWriter fw = new FileWriter( textFile.getAbsoluteFile() );\n//         BufferedWriter bw = new BufferedWriter( fw );\n//\n//         for( int i = 0; i &lt; lines.size(); i++ ) {\n//            bw.write( lines.get( i ) + System.getProperty( &quot;line.separator&quot; ) );\n//         }\n//         bw.close();\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":12535447,"reputation":123,"user_id":9122253,"display_name":"Andrew Fox"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73045093,"answer_count":1,"score":0,"last_activity_date":1658281395,"creation_date":1658279100,"question_id":73044943,"body_markdown":"This should be quite a straight forward problem. I have a large enough text file with data that looks like this\r\n\r\n    B38564108,EURONAV NV SHS,\r\n    B38564908,EURONAV NV CALL,\r\n    B38564958,EURONAV NV PUT,\r\n    B6S7WD106,NYXOAH S A SHS,\r\nThere&#39;s roughly 25 thousand lines in this file. I also have an ArrayList (labelled subStrings in the code snippet below), whereby each element in the List contains a sub string from each line of this file. The elements in the list are ordered so that the index will always be the same as the line number in the file. For example, the first 4 elements in the List are\r\n    \r\n    {&quot;EURONAV NV&quot;,&quot;EURONAV NV&quot;,&quot;EURONAV NV&quot;,&quot;NYXOAH S A&quot;}\r\nWhat I&#39;m trying to do is create a new text file with the same contents as the original text file, except having the sub string in the list element be appended with a comma. So for these 4 lines, the result would look as follows\r\n\r\n    B38564108,EURONAV NV, SHS,\r\n    B38564908,EURONAV NV, CALL,\r\n    B38564958,EURONAV NV, PUT,\r\n    B6S7WD106,NYXOAH S A, SHS,\r\nWhat I&#39;ve done, is store the lines in the original file as a List of strings, then tried to update each element, and write the resulting list to a new text document. This is the code currently\r\n\r\n    File textFile = new File(&quot;new_doc.txt&quot;);\r\n    List&lt;String&gt; lines = FileUtils.readLines(originalTextFile, &quot;UTF-8&quot;);\r\n    FileWriter fw = new FileWriter(textFile.getAbsoluteFile());\r\n\tBufferedWriter bw = new BufferedWriter(fw);\r\n       if (subStrings.size() == lines.size()) {\r\n\t      for (int i = 0; i &lt; lines.size(); i++) {\r\n\t\t    String replacementText = subStrings.get(i).concat(&quot;,&quot;);\r\n\t\t    lines.set(i,lines.get(i).replaceAll(subStrings.get(i), replacementText));\r\n            bw.write(lines.get(i) + System.getProperty(&quot;line.separator&quot;));\r\n\t\t  }\r\n\t      bw.close();\r\n        }\r\nThe new file creates fine, however the contents are identical to the original file. There is no comma being appended to the sub String on each line. \r\nAny pointers in the direction of what I&#39;m missing here would be greatly appreciated. Thanks","title":"Java: Editing a Text File based on the contents of a List","body":"<p>This should be quite a straight forward problem. I have a large enough text file with data that looks like this</p>\n<pre><code>B38564108,EURONAV NV SHS,\nB38564908,EURONAV NV CALL,\nB38564958,EURONAV NV PUT,\nB6S7WD106,NYXOAH S A SHS,\n</code></pre>\n<p>There's roughly 25 thousand lines in this file. I also have an ArrayList (labelled subStrings in the code snippet below), whereby each element in the List contains a sub string from each line of this file. The elements in the list are ordered so that the index will always be the same as the line number in the file. For example, the first 4 elements in the List are</p>\n<pre><code>{&quot;EURONAV NV&quot;,&quot;EURONAV NV&quot;,&quot;EURONAV NV&quot;,&quot;NYXOAH S A&quot;}\n</code></pre>\n<p>What I'm trying to do is create a new text file with the same contents as the original text file, except having the sub string in the list element be appended with a comma. So for these 4 lines, the result would look as follows</p>\n<pre><code>B38564108,EURONAV NV, SHS,\nB38564908,EURONAV NV, CALL,\nB38564958,EURONAV NV, PUT,\nB6S7WD106,NYXOAH S A, SHS,\n</code></pre>\n<p>What I've done, is store the lines in the original file as a List of strings, then tried to update each element, and write the resulting list to a new text document. This is the code currently</p>\n<pre><code>File textFile = new File(&quot;new_doc.txt&quot;);\nList&lt;String&gt; lines = FileUtils.readLines(originalTextFile, &quot;UTF-8&quot;);\nFileWriter fw = new FileWriter(textFile.getAbsoluteFile());\nBufferedWriter bw = new BufferedWriter(fw);\n   if (subStrings.size() == lines.size()) {\n      for (int i = 0; i &lt; lines.size(); i++) {\n        String replacementText = subStrings.get(i).concat(&quot;,&quot;);\n        lines.set(i,lines.get(i).replaceAll(subStrings.get(i), replacementText));\n        bw.write(lines.get(i) + System.getProperty(&quot;line.separator&quot;));\n      }\n      bw.close();\n    }\n</code></pre>\n<p>The new file creates fine, however the contents are identical to the original file. There is no comma being appended to the sub String on each line.\nAny pointers in the direction of what I'm missing here would be greatly appreciated. Thanks</p>\n"},{"tags":["java","web-services","wildfly"],"comments":[{"owner":{"account_id":8998349,"reputation":398,"user_id":6707816,"accept_rate":29,"display_name":"Ravi Teja"},"score":0,"creation_date":1476277741,"post_id":39997376,"comment_id":67276550,"body_markdown":"that&#39;s the full error I am getting","body":"that&#39;s the full error I am getting"},{"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"score":1,"creation_date":1476280548,"post_id":39997376,"comment_id":67278746,"body_markdown":"It might be a duplicate problem with the libs you provide with your application and the ones in wildfly esp. wstx. You may declare it in maven/gradle/(you name it) as a compile scoped dependency and not as a provided one.","body":"It might be a duplicate problem with the libs you provide with your application and the ones in wildfly esp. wstx. You may declare it in maven/gradle/(you name it) as a compile scoped dependency and not as a provided one."},{"owner":{"account_id":1703107,"reputation":1367,"user_id":1562723,"accept_rate":95,"display_name":"misman"},"score":0,"creation_date":1537446612,"post_id":39997376,"comment_id":91793199,"body_markdown":"Did you solve the problem?","body":"Did you solve the problem?"}],"answers":[{"tags":[],"owner":{"account_id":1703107,"reputation":1367,"user_id":1562723,"accept_rate":95,"display_name":"misman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537452310,"creation_date":1537452310,"answer_id":52427022,"question_id":39997376,"body_markdown":"If someone has the same error, I had compile scope dependency that is below in my `pom.xml`. After I deleted the dependency , the project has deployed and worked nicely.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\r\n        &lt;artifactId&gt;webservices-rt&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Could not get WSDL contract error when deploying web service in WildFly","body":"<p>If someone has the same error, I had compile scope dependency that is below in my <code>pom.xml</code>. After I deleted the dependency , the project has deployed and worked nicely.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\n    &lt;artifactId&gt;webservices-rt&lt;/artifactId&gt;\n    &lt;version&gt;2.3&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25024739,"reputation":11,"user_id":18883068,"display_name":"Samuel Schatz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650868923,"creation_date":1650478292,"answer_id":71944334,"question_id":39997376,"body_markdown":"see wsdllocation address in `@javax.jws.WebService` annotation. Sometimes there is something wrong with lowercase or uppercase letters. On Windows it might work and on Linux it might not.","title":"Could not get WSDL contract error when deploying web service in WildFly","body":"<p>see wsdllocation address in <code>@javax.jws.WebService</code> annotation. Sometimes there is something wrong with lowercase or uppercase letters. On Windows it might work and on Linux it might not.</p>\n"}],"owner":{"account_id":8998349,"reputation":398,"user_id":6707816,"accept_rate":29,"display_name":"Ravi Teja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5682,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1658280261,"creation_date":1476271494,"question_id":39997376,"body_markdown":"I am trying to deploy my web service in WildFly server, but I am getting following exception:\r\n\r\n    6:44:06,265 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.&quot;MyService.war&quot;.INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;MyService.war&quot;.INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment &quot;MyService.war&quot;\r\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154)\r\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)\r\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    at java.lang.Thread.run(Thread.java:745)Caused by: org.jboss.wsf.spi.WSFException: JBWS024109: Could not get WSDL contract for endpoint com.sun.xml.ws.tx.coord.v11.endpoint.RegistrationPortImpl at /wsdls/wsc11/wstx-wscoor-1.1-wsdl-200702.wsdl\r\n    at org.jboss.wsf.stack.cxf.metadata.MetadataBuilder.getWsdlLocationURL(MetadataBuilder.java:283)\r\n    at org.jboss.wsf.stack.cxf.metadata.MetadataBuilder.build(MetadataBuilder.java:90)\r\n    at org.jboss.wsf.stack.cxf.deployment.aspect.DescriptorDeploymentAspect.start(DescriptorDeploymentAspect.java:42)\r\n    at org.jboss.as.webservices.deployers.AspectDeploymentProcessor.deploy(AspectDeploymentProcessor.java:73)\r\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)\r\n    ... 5 more\r\n\r\nHow can I resolve the above problem?","title":"Could not get WSDL contract error when deploying web service in WildFly","body":"<p>I am trying to deploy my web service in WildFly server, but I am getting following exception:</p>\n\n<pre><code>6:44:06,265 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.\"MyService.war\".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.\"MyService.war\".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \"MyService.war\"\nat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154)\nat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)\nat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)Caused by: org.jboss.wsf.spi.WSFException: JBWS024109: Could not get WSDL contract for endpoint com.sun.xml.ws.tx.coord.v11.endpoint.RegistrationPortImpl at /wsdls/wsc11/wstx-wscoor-1.1-wsdl-200702.wsdl\nat org.jboss.wsf.stack.cxf.metadata.MetadataBuilder.getWsdlLocationURL(MetadataBuilder.java:283)\nat org.jboss.wsf.stack.cxf.metadata.MetadataBuilder.build(MetadataBuilder.java:90)\nat org.jboss.wsf.stack.cxf.deployment.aspect.DescriptorDeploymentAspect.start(DescriptorDeploymentAspect.java:42)\nat org.jboss.as.webservices.deployers.AspectDeploymentProcessor.deploy(AspectDeploymentProcessor.java:73)\nat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)\n... 5 more\n</code></pre>\n\n<p>How can I resolve the above problem?</p>\n"},{"tags":["java","spring","mocking","mockito","matcher"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1653047822,"post_id":72318332,"comment_id":127761504,"body_markdown":"why would you want to return `Mockito.any()`?","body":"why would you want to return <code>Mockito.any()</code>?"},{"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"score":0,"creation_date":1653048150,"post_id":72318332,"comment_id":127761634,"body_markdown":"i can return new dummy object also. But wana know why this is not working","body":"i can return new dummy object also. But wana know why this is not working"},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1653049151,"post_id":72318332,"comment_id":127762026,"body_markdown":"Does this answer your question? [Mockito: using a method in &quot;thenReturn&quot; to return a mock doesn&#39;t work](https://stackoverflow.com/questions/34005168/mockito-using-a-method-in-thenreturn-to-return-a-mock-doesnt-work)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34005168/mockito-using-a-method-in-thenreturn-to-return-a-mock-doesnt-work\">Mockito: using a method in &quot;thenReturn&quot; to return a mock doesn&#39;t work</a>"}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653048905,"creation_date":1653048905,"answer_id":72318761,"question_id":72318332,"body_markdown":"You called an argument matcher outside a call to when or verify, which is illegal.\r\n\r\nSee [Argument matchers](https://javadoc.io/static/org.mockito/mockito-core/4.5.1/org/mockito/Mockito.html#argument_matchers):\r\n&gt; Matcher methods like `any()`, `eq()` **do not** return matchers. Internally, they record a matcher on a stack and return a dummy value (usually null). This implementation is due to static type safety imposed by the java compiler. The consequence is that you cannot use `any()`, `eq()` methods outside of verified/stubbed method.\r\n\r\nSee also https://stackoverflow.com/questions/22822512/how-do-mockito-matchers-work","title":"org.mockito.exceptions.misusing.InvalidUseOfMatchersException: Invalid use of argument matchers","body":"<p>You called an argument matcher outside a call to when or verify, which is illegal.</p>\n<p>See <a href=\"https://javadoc.io/static/org.mockito/mockito-core/4.5.1/org/mockito/Mockito.html#argument_matchers\" rel=\"nofollow noreferrer\">Argument matchers</a>:</p>\n<blockquote>\n<p>Matcher methods like <code>any()</code>, <code>eq()</code> <strong>do not</strong> return matchers. Internally, they record a matcher on a stack and return a dummy value (usually null). This implementation is due to static type safety imposed by the java compiler. The consequence is that you cannot use <code>any()</code>, <code>eq()</code> methods outside of verified/stubbed method.</p>\n</blockquote>\n<p>See also <a href=\"https://stackoverflow.com/questions/22822512/how-do-mockito-matchers-work\">How do Mockito matchers work?</a></p>\n"}],"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72318761,"answer_count":1,"score":1,"last_activity_date":1658280245,"creation_date":1653046717,"question_id":72318332,"body_markdown":"I have multiple mock statements in my test class and everything works fine. I am adding a new statement for a DAO mocking as :\r\n\r\n     Mockito.when(myDAO.saveOrUpdate(Mockito.any())).thenReturn(Mockito.any());\r\n\r\n    But I get exception as :\r\n    \r\n    org.mockito.exceptions.misusing.InvalidUseOfMatchersException:  Invalid use of argument matchers!\r\n\r\n\r\nI have used argument matchers and not raw values so I have not mixed anything.What can be the cause here?\r\n","title":"org.mockito.exceptions.misusing.InvalidUseOfMatchersException: Invalid use of argument matchers","body":"<p>I have multiple mock statements in my test class and everything works fine. I am adding a new statement for a DAO mocking as :</p>\n<pre><code> Mockito.when(myDAO.saveOrUpdate(Mockito.any())).thenReturn(Mockito.any());\n\nBut I get exception as :\n\norg.mockito.exceptions.misusing.InvalidUseOfMatchersException:  Invalid use of argument matchers!\n</code></pre>\n<p>I have used argument matchers and not raw values so I have not mixed anything.What can be the cause here?</p>\n"},{"tags":["java","file-handling","java-nio"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1658129825,"post_id":73018672,"comment_id":128964875,"body_markdown":"Umm ... if you have just created the file, what do you expect to read from it?  It will be empty.","body":"Umm ... if you have just created the file, what do you expect to read from it?  It will be empty."},{"owner":{"account_id":21687113,"reputation":109,"user_id":16002380,"display_name":"Shri"},"score":0,"creation_date":1658130397,"post_id":73018672,"comment_id":128965050,"body_markdown":"Yes, test1.txt would be empty but then I should not be getting that exception: java.nio.file.NoSuchFileException: test1.txt , right?","body":"Yes, test1.txt would be empty but then I should not be getting that exception: java.nio.file.NoSuchFileException: test1.txt , right?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1658130927,"post_id":73018672,"comment_id":128965226,"body_markdown":"No you shouldn&#39;t.  According to the javadoc (and my reading of the code) the file should be opened for read, since you don&#39;t specify either WRITE or APPEND.  So you shouldn&#39;t get `NonReadableChannelException`.  However, &gt;I think&lt; you could get `NoSuchFileException` if you try to create a file in a directory that does not exist.  Please add the **complete** stacktraces for the 2 exceptions to the question.","body":"No you shouldn&#39;t.  According to the javadoc (and my reading of the code) the file should be opened for read, since you don&#39;t specify either WRITE or APPEND.  So you shouldn&#39;t get <code>NonReadableChannelException</code>.  However, &gt;I think&lt; you could get <code>NoSuchFileException</code> if you try to create a file in a directory that does not exist.  Please add the <b>complete</b> stacktraces for the 2 exceptions to the question."},{"owner":{"account_id":21687113,"reputation":109,"user_id":16002380,"display_name":"Shri"},"score":0,"creation_date":1658131664,"post_id":73018672,"comment_id":128965497,"body_markdown":"I am using JDK 8 and I have added the complete stack trace of the issue above.","body":"I am using JDK 8 and I have added the complete stack trace of the issue above."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1658132095,"post_id":73018672,"comment_id":128965635,"body_markdown":"The combination of `CREATE_NEW` and read access seems pointless to me, as it there&#39;s only ever two possible outcomes (even hypothetically, if you follow the docs, ignoring platform specifics): Either the file existed before, then you&#39;ll get an error or the file *didn&#39;t* exist then you&#39;ll get an empty file that&#39;s just opened for reading.","body":"The combination of <code>CREATE_NEW</code> and read access seems pointless to me, as it there&#39;s only ever two possible outcomes (even hypothetically, if you follow the docs, ignoring platform specifics): Either the file existed before, then you&#39;ll get an error or the file <i>didn&#39;t</i> exist then you&#39;ll get an empty file that&#39;s just opened for reading."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1658132126,"post_id":73018672,"comment_id":128965645,"body_markdown":"(`Standard`)`CopyOptions` are for copying, not reading.","body":"(<code>Standard</code>)<code>CopyOptions</code> are for copying, not reading."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1658278900,"creation_date":1658132073,"answer_id":73019211,"question_id":73018672,"body_markdown":"I have reproduced what you are seeing (on Linux with Java 17).  \r\n\r\nAs I noted in the comments, the behavior seems to contradict what the javadocs say what should happen, but what I discovered is this:\r\n\r\n  -  With `READ` or neither `READ` or `WRITE`, a `NoSuchFileException` is thrown.\r\n\r\n  - With `WRITE` (and no `READ`), the file is created but then `NonReadableChannelException` is thrown.\r\n\r\n  - With both `READ` and `WRITE`, it works.  At least ... it did for me.\r\n\r\nI guess this sort of makes sense.  You need `READ` to read the file and `WRITE` to create it.   And the javadocs state that `READ` is the default if you don&#39;t specify `READ`, `WRITE` or `APPEND`.\r\n\r\nBut creating an empty file&lt;sup&gt;1&lt;/sup&gt; with `CREATE_NEW` and then immediately trying to read it is a use-case that borders on pointless.  So it not entirely surprising that they didn&#39;t (clearly) document how to achieve this.\r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - As a comment noted, `CREATE_NEW` is specified to fail if the file already exists.  If you want &quot;create it if it doesn&#39;t exist&quot;, then you should use `CREATE` instead.&lt;/sup&gt;\r\n","title":"Why is StandardOpenOption.CREATE_NEW not creating a file to be read from in Java?","body":"<p>I have reproduced what you are seeing (on Linux with Java 17).</p>\n<p>As I noted in the comments, the behavior seems to contradict what the javadocs say what should happen, but what I discovered is this:</p>\n<ul>\n<li><p>With <code>READ</code> or neither <code>READ</code> or <code>WRITE</code>, a <code>NoSuchFileException</code> is thrown.</p>\n</li>\n<li><p>With <code>WRITE</code> (and no <code>READ</code>), the file is created but then <code>NonReadableChannelException</code> is thrown.</p>\n</li>\n<li><p>With both <code>READ</code> and <code>WRITE</code>, it works.  At least ... it did for me.</p>\n</li>\n</ul>\n<p>I guess this sort of makes sense.  You need <code>READ</code> to read the file and <code>WRITE</code> to create it.   And the javadocs state that <code>READ</code> is the default if you don't specify <code>READ</code>, <code>WRITE</code> or <code>APPEND</code>.</p>\n<p>But creating an empty file<sup>1</sup> with <code>CREATE_NEW</code> and then immediately trying to read it is a use-case that borders on pointless.  So it not entirely surprising that they didn't (clearly) document how to achieve this.</p>\n<hr />\n<p><sup>1 - As a comment noted, <code>CREATE_NEW</code> is specified to fail if the file already exists.  If you want &quot;create it if it doesn't exist&quot;, then you should use <code>CREATE</code> instead.</sup></p>\n"}],"owner":{"account_id":21687113,"reputation":109,"user_id":16002380,"display_name":"Shri"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73019211,"answer_count":1,"score":3,"last_activity_date":1658278900,"creation_date":1658129353,"question_id":73018672,"body_markdown":"Here is my code:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.SeekableByteChannel;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.InvalidPathException;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.StandardOpenOption;\r\n    \r\n    public class ExplicitChannelRead {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint count;\r\n    \t\tPath filePath = null;\r\n    \t\t\r\n    \t\t// First, obtain a path to a file.\r\n    \t\ttry {\r\n    \t\t\tfilePath = Paths.get(&quot;test1.txt&quot;);\r\n    \t\t}\r\n    \t\tcatch(InvalidPathException e) {\r\n    \t\t\tSystem.out.println(&quot;Path error: &quot;+e);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\t// Next, obtain a channel to that file within a try-with-resources block.\r\n    \t\ttry(SeekableByteChannel fChan = \r\n                    Files.newByteChannel(filePath, StandardOpenOption.CREATE_NEW)) {\r\n    \t\t\t\r\n    \t\t\t// Allocate a buffer.\r\n    \t\t\tByteBuffer mBuf = ByteBuffer.allocate(128);\r\n    \t\t\t\r\n    \t\t\twhile((count=fChan.read(mBuf)) != -1) {\r\n    \t\t\t\t\r\n    \t\t\t\t//Rewind the buffer so that it can be read.\r\n    \t\t\t\tmBuf.rewind();\r\n    \t\t\t\t\r\n    \t\t\t\tfor(int i=0; i&lt;count; i++) System.out.print((char)mBuf.get());\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println();\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    //\t\t\tSystem.out.println(&quot;I/O error: &quot;+e);\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nOn running the above code I get this exception:\r\n\r\n    java.nio.file.NoSuchFileException: test1.txt\r\n    \tat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\r\n    \tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n    \tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n    \tat java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:235)\r\n    \tat java.base/java.nio.file.Files.newByteChannel(Files.java:375)\r\n    \tat java.base/java.nio.file.Files.newByteChannel(Files.java:426)\r\n    \tat fileNIO.ExplicitChannelRead.main(ExplicitChannelRead.java:31)\r\n\r\nI don&#39;t understand why test1.txt file is not being created as it doesn&#39;t exist currently and I am using the StandardOpenOption.CREATE_NEW option?\r\n\r\nWhen I use StandardOpenOption.WRITE option along with StandardOpenOption.CREATE_NEW then I see the file text1.txt being created and at that time I get the exception:\r\n\r\nException in thread &quot;main&quot; java.nio.channels.NonReadableChannelException\r\n\r\nThis exception I understand its cause because I have opened the file in write mode and in the code I am performing read operation on the file.\r\n\r\nIt seems to me that a new file can&#39;t be created when the file is opened in read mode.","title":"Why is StandardOpenOption.CREATE_NEW not creating a file to be read from in Java?","body":"<p>Here is my code:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.SeekableByteChannel;\nimport java.nio.file.Files;\nimport java.nio.file.InvalidPathException;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardOpenOption;\n\npublic class ExplicitChannelRead {\n\n    public static void main(String[] args) {\n        \n        int count;\n        Path filePath = null;\n        \n        // First, obtain a path to a file.\n        try {\n            filePath = Paths.get(&quot;test1.txt&quot;);\n        }\n        catch(InvalidPathException e) {\n            System.out.println(&quot;Path error: &quot;+e);\n            return;\n        }\n        \n        // Next, obtain a channel to that file within a try-with-resources block.\n        try(SeekableByteChannel fChan = \n                Files.newByteChannel(filePath, StandardOpenOption.CREATE_NEW)) {\n            \n            // Allocate a buffer.\n            ByteBuffer mBuf = ByteBuffer.allocate(128);\n            \n            while((count=fChan.read(mBuf)) != -1) {\n                \n                //Rewind the buffer so that it can be read.\n                mBuf.rewind();\n                \n                for(int i=0; i&lt;count; i++) System.out.print((char)mBuf.get());\n                \n            }\n            \n            System.out.println();\n            \n            \n        } catch (IOException e) {\n            e.printStackTrace();\n//          System.out.println(&quot;I/O error: &quot;+e);\n        }\n        \n\n    }\n\n}\n</code></pre>\n<p>On running the above code I get this exception:</p>\n<pre><code>java.nio.file.NoSuchFileException: test1.txt\n    at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n    at java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:235)\n    at java.base/java.nio.file.Files.newByteChannel(Files.java:375)\n    at java.base/java.nio.file.Files.newByteChannel(Files.java:426)\n    at fileNIO.ExplicitChannelRead.main(ExplicitChannelRead.java:31)\n</code></pre>\n<p>I don't understand why test1.txt file is not being created as it doesn't exist currently and I am using the StandardOpenOption.CREATE_NEW option?</p>\n<p>When I use StandardOpenOption.WRITE option along with StandardOpenOption.CREATE_NEW then I see the file text1.txt being created and at that time I get the exception:</p>\n<p>Exception in thread &quot;main&quot; java.nio.channels.NonReadableChannelException</p>\n<p>This exception I understand its cause because I have opened the file in write mode and in the code I am performing read operation on the file.</p>\n<p>It seems to me that a new file can't be created when the file is opened in read mode.</p>\n"},{"tags":["java","android","list","filter"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1658275046,"post_id":73044577,"comment_id":129009784,"body_markdown":"You don&#39;t need the if statement.  That&#39;s the problem.","body":"You don&#39;t need the if statement.  That&#39;s the problem."},{"owner":{"account_id":18593300,"reputation":31,"user_id":13550002,"display_name":"Dvalin"},"score":0,"creation_date":1658275281,"post_id":73044577,"comment_id":129009820,"body_markdown":"Then what can I use instead?","body":"Then what can I use instead?"},{"owner":{"account_id":3263569,"reputation":288,"user_id":2748571,"display_name":"Ryan Hurling"},"score":0,"creation_date":1658276016,"post_id":73044577,"comment_id":129009953,"body_markdown":"you&#39;re returning in every true branch of your if statements, so the code after is not being executed, you probably only want to return the filmList if the genre is ALL, for everything else just continue with the methods execution to hit your filter logic","body":"you&#39;re returning in every true branch of your if statements, so the code after is not being executed, you probably only want to return the filmList if the genre is ALL, for everything else just continue with the methods execution to hit your filter logic"}],"answers":[{"tags":[],"owner":{"account_id":2777627,"reputation":775,"user_id":2390877,"accept_rate":60,"display_name":"Yves V."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658276092,"creation_date":1658276092,"answer_id":73044686,"question_id":73044577,"body_markdown":"Why don&#39;t you just use a stream?\r\n\r\n```\r\nList&lt;Film&gt; result = filmList.stream().filter(f -&gt; genre.equals(&quot;All&quot;) || f.getGenre().equals(genre)).collect(Collectors.toList())\r\n```","title":"Can&#39;t filter by genre","body":"<p>Why don't you just use a stream?</p>\n<pre><code>List&lt;Film&gt; result = filmList.stream().filter(f -&gt; genre.equals(&quot;All&quot;) || f.getGenre().equals(genre)).collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3263569,"reputation":288,"user_id":2748571,"display_name":"Ryan Hurling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658276351,"creation_date":1658276351,"answer_id":73044705,"question_id":73044577,"body_markdown":"change \r\n\r\n    public List&lt;Film&gt; filterByGenre(String genre){\r\n    if (genre.equals(&quot;All&quot;))\r\n        return filmList;\r\n    else if (genre.equals(&quot;Drama&quot;))\r\n        return filmList;\r\n    else if (genre.equals(&quot;Adventure&quot;))\r\n        return filmList;\r\n    else if (genre.equals(&quot;Animation&quot;))\r\n        return filmList;\r\n    else if (genre.equals(&quot;Horror&quot;))\r\n        return filmList;\r\n    else if (genre.equals(&quot;Comedy&quot;))\r\n        return filmList;\r\n    else if (genre.equals(&quot;Romance&quot;))\r\n        return filmList;\r\n    else if (genre.equals(&quot;Documentary&quot;))\r\n        return filmList;\r\n\r\n\r\n    List&lt;Film&gt; filteredFilmList = new ArrayList&lt;&gt;();\r\n\r\n    for (Film f : filmList){\r\n\r\n        if(f.getGenre().equals(genre)){\r\n\r\n            filteredFilmList.add(f);\r\n        }\r\n    }\r\n\r\n    return filteredFilmList;}\r\n\r\nto\r\n\r\n    public List&lt;Film&gt; filterByGenre(String genre){\r\n    if (genre.equals(&quot;All&quot;)) {\r\n        return filmList;\r\n    }\r\n    \r\n\r\n    List&lt;Film&gt; filteredFilmList = new ArrayList&lt;&gt;();\r\n\r\n    for (Film f : filmList){\r\n\r\n        if(f.getGenre().equals(genre)){\r\n\r\n            filteredFilmList.add(f);\r\n        }\r\n    }\r\n\r\n    return filteredFilmList;\r\n    }\r\n\r\nyou can clean this up further by creating an enumeration for the genre, rather than using magic strings, and if you are using Java 8+ then you can utilise Streams to create a filtered version of the filmList\r\ni.e.\r\n`return filmList.stream().filter(film -&gt; genre.equals(film.getGenre())).collect(Collectors.toList());`","title":"Can&#39;t filter by genre","body":"<p>change</p>\n<pre><code>public List&lt;Film&gt; filterByGenre(String genre){\nif (genre.equals(&quot;All&quot;))\n    return filmList;\nelse if (genre.equals(&quot;Drama&quot;))\n    return filmList;\nelse if (genre.equals(&quot;Adventure&quot;))\n    return filmList;\nelse if (genre.equals(&quot;Animation&quot;))\n    return filmList;\nelse if (genre.equals(&quot;Horror&quot;))\n    return filmList;\nelse if (genre.equals(&quot;Comedy&quot;))\n    return filmList;\nelse if (genre.equals(&quot;Romance&quot;))\n    return filmList;\nelse if (genre.equals(&quot;Documentary&quot;))\n    return filmList;\n\n\nList&lt;Film&gt; filteredFilmList = new ArrayList&lt;&gt;();\n\nfor (Film f : filmList){\n\n    if(f.getGenre().equals(genre)){\n\n        filteredFilmList.add(f);\n    }\n}\n\nreturn filteredFilmList;}\n</code></pre>\n<p>to</p>\n<pre><code>public List&lt;Film&gt; filterByGenre(String genre){\nif (genre.equals(&quot;All&quot;)) {\n    return filmList;\n}\n\n\nList&lt;Film&gt; filteredFilmList = new ArrayList&lt;&gt;();\n\nfor (Film f : filmList){\n\n    if(f.getGenre().equals(genre)){\n\n        filteredFilmList.add(f);\n    }\n}\n\nreturn filteredFilmList;\n}\n</code></pre>\n<p>you can clean this up further by creating an enumeration for the genre, rather than using magic strings, and if you are using Java 8+ then you can utilise Streams to create a filtered version of the filmList\ni.e.\n<code>return filmList.stream().filter(film -&gt; genre.equals(film.getGenre())).collect(Collectors.toList());</code></p>\n"},{"tags":[],"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658276817,"creation_date":1658276817,"answer_id":73044750,"question_id":73044577,"body_markdown":"You are returning the same `List` with every genre comparison in the `if` statements.\r\n\r\nChange to this:\r\n```\r\nList&lt;Film&gt; filmList = Repository.getHardcodedList();\r\n\r\n\r\npublic List&lt;Film&gt; filterByGenre(String genre){\r\n    if (genre.equals(&quot;All&quot;))\r\n        return filmList;\r\n\r\n\r\n    List&lt;Film&gt; filteredFilmList = new ArrayList&lt;&gt;();\r\n\r\n    for (Film f : filmList){\r\n\r\n        if(f.getGenre().equals(genre)){\r\n\r\n            filteredFilmList.add(f);\r\n        }\r\n    }\r\n\r\n    return filteredFilmList;\r\n}\r\n``` \r\n","title":"Can&#39;t filter by genre","body":"<p>You are returning the same <code>List</code> with every genre comparison in the <code>if</code> statements.</p>\n<p>Change to this:</p>\n<pre><code>List&lt;Film&gt; filmList = Repository.getHardcodedList();\n\n\npublic List&lt;Film&gt; filterByGenre(String genre){\n    if (genre.equals(&quot;All&quot;))\n        return filmList;\n\n\n    List&lt;Film&gt; filteredFilmList = new ArrayList&lt;&gt;();\n\n    for (Film f : filmList){\n\n        if(f.getGenre().equals(genre)){\n\n            filteredFilmList.add(f);\n        }\n    }\n\n    return filteredFilmList;\n}\n</code></pre>\n"}],"owner":{"account_id":18593300,"reputation":31,"user_id":13550002,"display_name":"Dvalin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1658277056,"creation_date":1658274616,"question_id":73044577,"body_markdown":"I have a hardcoded list of movies and I want to filter them by their genre (which is a string), however only the All filter works as of now and for the other genres the result is the same as for the All filter. Can anyone help me out \r\n\r\nclass HomePresenter:\r\n\r\n    public class HomePresenter {\r\n\r\n    List&lt;Film&gt; filmList = Repository.getHardcodedList();\r\n\r\n\r\n    public List&lt;Film&gt; filterByGenre(String genre){\r\n        if (genre.equals(&quot;All&quot;))\r\n            return filmList;\r\n        else if (genre.equals(&quot;Drama&quot;))\r\n            return filmList;\r\n        else if (genre.equals(&quot;Adventure&quot;))\r\n            return filmList;\r\n        else if (genre.equals(&quot;Animation&quot;))\r\n            return filmList;\r\n        else if (genre.equals(&quot;Horror&quot;))\r\n            return filmList;\r\n        else if (genre.equals(&quot;Comedy&quot;))\r\n            return filmList;\r\n        else if (genre.equals(&quot;Romance&quot;))\r\n            return filmList;\r\n        else if (genre.equals(&quot;Documentary&quot;))\r\n            return filmList;\r\n\r\n\r\n        List&lt;Film&gt; filteredFilmList = new ArrayList&lt;&gt;();\r\n\r\n        for (Film f : filmList){\r\n\r\n            if(f.getGenre().equals(genre)){\r\n\r\n                filteredFilmList.add(f);\r\n            }\r\n        }\r\n\r\n        return filteredFilmList;\r\n    }\r\n\r\nClass Repository:\r\n \r\n\r\n         public class Repository {\r\n            static List&lt;Film&gt; filmList = new ArrayList&lt;&gt;();\r\n            static List&lt;Reservation&gt; reservationList = new ArrayList&lt;&gt;();\r\n            public static List&lt;Film&gt; favoriteList = new ArrayList&lt;&gt;();\r\n            private static HashMap&lt;String, HashMap&lt;Time, List&lt;Boolean&gt;&gt;&gt; program;\r\n            static List&lt;Boolean&gt; cinemaPlaces;\r\n        \r\n            public static List&lt;Film&gt; getHardcodedList() {\r\n           \r\n    \r\n     List&lt;Film&gt; filmList = Arrays.asList(\r\n                new Film(&quot;Despicable Me&quot;, &quot;Animation&quot;, &quot;better. &quot;, 7.7, R.mipmap.despicable),\r\n                new Film(&quot;The Martian&quot;, &quot;Adventure&quot;, &quot;alive. &quot;, 8.0, R.mipmap.martian),\r\n                new Film(&quot;Ted&quot;, &quot;Comedy&quot;, &quot;Lori. &quot;, 6.9, R.mipmap.ted),\r\n                new Film(&quot;Alita&quot;, &quot;Adventure&quot;, &quot;is. &quot;, 7.6, R.mipmap.alita),\r\n                new Film(&quot;Girl&quot;, &quot;Drama&quot;, &quot;ballerina. &quot;, 7.2, R.mipmap.girl),\r\n                new Film(&quot;A Star Is Born&quot;, &quot;Romance&quot;, &quot;spiral. &quot;, 7.9, R.mipmap.star),\r\n        );\r\n            return filmList;\r\n        }\r\n    \r\nUpdate with the spinner that I use for when choosing a genre of the movie:\r\n\r\n HomeFragment:\r\n \r\n\r\n    Spinner spinner = (Spinner) view.findViewById(R.id.filter_spinner);\r\n            ArrayAdapter&lt;CharSequence&gt; arrayAdapter = ArrayAdapter.createFromResource(this.getContext(),\r\n                    R.array.genres_array, android.R.layout.simple_spinner_item);\r\n            arrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n            spinner.setAdapter(arrayAdapter);\r\n    \r\n            spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                @RequiresApi(api = Build.VERSION_CODES.N)\r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                    String selectedGenre = (String)parent.getItemAtPosition(position);\r\n                    List&lt;Film&gt; filteredFilmlist = homeActivityPresenter.filterByGenre(selectedGenre);\r\n                    final FilmAdapter adapter = new FilmAdapter(pointerSaver);\r\n                    recyclerView.setAdapter(adapter);\r\n                    adapter.setFilmlist(filteredFilmlist);\r\n                }\r\n    \r\n                @Override\r\n                public void onNothingSelected(AdapterView&lt;?&gt; parent) {}\r\n            });\r\n","title":"Can&#39;t filter by genre","body":"<p>I have a hardcoded list of movies and I want to filter them by their genre (which is a string), however only the All filter works as of now and for the other genres the result is the same as for the All filter. Can anyone help me out</p>\n<p>class HomePresenter:</p>\n<pre><code>public class HomePresenter {\n\nList&lt;Film&gt; filmList = Repository.getHardcodedList();\n\n\npublic List&lt;Film&gt; filterByGenre(String genre){\n    if (genre.equals(&quot;All&quot;))\n        return filmList;\n    else if (genre.equals(&quot;Drama&quot;))\n        return filmList;\n    else if (genre.equals(&quot;Adventure&quot;))\n        return filmList;\n    else if (genre.equals(&quot;Animation&quot;))\n        return filmList;\n    else if (genre.equals(&quot;Horror&quot;))\n        return filmList;\n    else if (genre.equals(&quot;Comedy&quot;))\n        return filmList;\n    else if (genre.equals(&quot;Romance&quot;))\n        return filmList;\n    else if (genre.equals(&quot;Documentary&quot;))\n        return filmList;\n\n\n    List&lt;Film&gt; filteredFilmList = new ArrayList&lt;&gt;();\n\n    for (Film f : filmList){\n\n        if(f.getGenre().equals(genre)){\n\n            filteredFilmList.add(f);\n        }\n    }\n\n    return filteredFilmList;\n}\n</code></pre>\n<p>Class Repository:</p>\n<pre><code>     public class Repository {\n        static List&lt;Film&gt; filmList = new ArrayList&lt;&gt;();\n        static List&lt;Reservation&gt; reservationList = new ArrayList&lt;&gt;();\n        public static List&lt;Film&gt; favoriteList = new ArrayList&lt;&gt;();\n        private static HashMap&lt;String, HashMap&lt;Time, List&lt;Boolean&gt;&gt;&gt; program;\n        static List&lt;Boolean&gt; cinemaPlaces;\n    \n        public static List&lt;Film&gt; getHardcodedList() {\n       \n\n List&lt;Film&gt; filmList = Arrays.asList(\n            new Film(&quot;Despicable Me&quot;, &quot;Animation&quot;, &quot;better. &quot;, 7.7, R.mipmap.despicable),\n            new Film(&quot;The Martian&quot;, &quot;Adventure&quot;, &quot;alive. &quot;, 8.0, R.mipmap.martian),\n            new Film(&quot;Ted&quot;, &quot;Comedy&quot;, &quot;Lori. &quot;, 6.9, R.mipmap.ted),\n            new Film(&quot;Alita&quot;, &quot;Adventure&quot;, &quot;is. &quot;, 7.6, R.mipmap.alita),\n            new Film(&quot;Girl&quot;, &quot;Drama&quot;, &quot;ballerina. &quot;, 7.2, R.mipmap.girl),\n            new Film(&quot;A Star Is Born&quot;, &quot;Romance&quot;, &quot;spiral. &quot;, 7.9, R.mipmap.star),\n    );\n        return filmList;\n    }\n</code></pre>\n<p>Update with the spinner that I use for when choosing a genre of the movie:</p>\n<p>HomeFragment:</p>\n<pre><code>Spinner spinner = (Spinner) view.findViewById(R.id.filter_spinner);\n        ArrayAdapter&lt;CharSequence&gt; arrayAdapter = ArrayAdapter.createFromResource(this.getContext(),\n                R.array.genres_array, android.R.layout.simple_spinner_item);\n        arrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(arrayAdapter);\n\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @RequiresApi(api = Build.VERSION_CODES.N)\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                String selectedGenre = (String)parent.getItemAtPosition(position);\n                List&lt;Film&gt; filteredFilmlist = homeActivityPresenter.filterByGenre(selectedGenre);\n                final FilmAdapter adapter = new FilmAdapter(pointerSaver);\n                recyclerView.setAdapter(adapter);\n                adapter.setFilmlist(filteredFilmlist);\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {}\n        });\n</code></pre>\n"},{"tags":["java","multithreading","logging","javafx","textarea"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1402387547,"post_id":24116858,"comment_id":37241327,"body_markdown":"Don&#39;t use a TextArea, use a virtualized control, i.e. [ListView](http://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/ListView.html).","body":"Don&#39;t use a TextArea, use a virtualized control, i.e. <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/ListView.html\" rel=\"nofollow noreferrer\">ListView</a>."},{"owner":{"account_id":199734,"reputation":72865,"user_id":445221,"display_name":"konsolebox"},"score":0,"creation_date":1402390870,"post_id":24116858,"comment_id":37243225,"body_markdown":"@jewelsea Thanks I may consider that. Can ListView&#39;s layout be configured to look like TextArea?","body":"@jewelsea Thanks I may consider that. Can ListView&#39;s layout be configured to look like TextArea?"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1658276686,"creation_date":1402401050,"answer_id":24140252,"question_id":24116858,"body_markdown":"*log-view.css*\r\n\r\n    .root {\r\n        -fx-padding: 10px;\r\n    }\r\n    \r\n    .log-view .list-cell {\r\n        -fx-background-color: null; // removes alternating list gray cells.\r\n    }\r\n    \r\n    .log-view .list-cell:debug {\r\n        -fx-text-fill: gray;\r\n    }\r\n    \r\n    .log-view .list-cell:info {\r\n        -fx-text-fill: green;\r\n    }\r\n    \r\n    .log-view .list-cell:warn {\r\n        -fx-text-fill: purple;\r\n    }\r\n    \r\n    .log-view .list-cell:error {\r\n        -fx-text-fill: red;\r\n    }\r\n\r\n*LogViewer.java*\r\n\r\n    import javafx.animation.Animation;\r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.Timeline;\r\n    import javafx.application.Application;\r\n    import javafx.beans.binding.Bindings;\r\n    import javafx.beans.property.*;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.collections.transformation.FilteredList;\r\n    import javafx.css.PseudoClass;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.Priority;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Collection;\r\n    import java.util.Date;\r\n    import java.util.Random;\r\n    import java.util.concurrent.BlockingDeque;\r\n    import java.util.concurrent.LinkedBlockingDeque;\r\n    \r\n    class Log {\r\n        private static final int MAX_LOG_ENTRIES = 1_000_000;\r\n    \r\n        private final BlockingDeque&lt;LogRecord&gt; log = new LinkedBlockingDeque&lt;&gt;(MAX_LOG_ENTRIES);\r\n    \r\n        public void drainTo(Collection&lt;? super LogRecord&gt; collection) {\r\n            log.drainTo(collection);\r\n        }\r\n    \r\n        public void offer(LogRecord record) {\r\n            log.offer(record);\r\n        }\r\n    }\r\n    \r\n    class Logger {\r\n        private final Log log;\r\n        private final String context;\r\n    \r\n        public Logger(Log log, String context) {\r\n            this.log = log;\r\n            this.context = context;\r\n        }\r\n    \r\n        public void log(LogRecord record) {\r\n            log.offer(record);\r\n        }\r\n    \r\n        public void debug(String msg) {\r\n            log(new LogRecord(Level.DEBUG, context, msg));\r\n        }\r\n    \r\n        public void info(String msg) {\r\n            log(new LogRecord(Level.INFO, context, msg));\r\n        }\r\n    \r\n        public void warn(String msg) {\r\n            log(new LogRecord(Level.WARN, context, msg));\r\n        }\r\n    \r\n        public void error(String msg) {\r\n            log(new LogRecord(Level.ERROR, context, msg));\r\n        }\r\n    \r\n        public Log getLog() {\r\n            return log;\r\n        }\r\n    }\r\n    \r\n    enum Level { DEBUG, INFO, WARN, ERROR }\r\n    \r\n    class LogRecord {\r\n        private Date   timestamp;\r\n        private Level  level;\r\n        private String context;\r\n        private String message;\r\n    \r\n        public LogRecord(Level level, String context, String message) {\r\n            this.timestamp = new Date();\r\n            this.level     = level;\r\n            this.context   = context;\r\n            this.message   = message;\r\n        }\r\n    \r\n        public Date getTimestamp() {\r\n            return timestamp;\r\n        }\r\n    \r\n        public Level getLevel() {\r\n            return level;\r\n        }\r\n    \r\n        public String getContext() {\r\n            return context;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    }\r\n    \r\n    class LogView extends ListView&lt;LogRecord&gt; {\r\n        private static final int MAX_ENTRIES = 10_000;\r\n    \r\n        private final static PseudoClass debug = PseudoClass.getPseudoClass(&quot;debug&quot;);\r\n        private final static PseudoClass info  = PseudoClass.getPseudoClass(&quot;info&quot;);\r\n        private final static PseudoClass warn  = PseudoClass.getPseudoClass(&quot;warn&quot;);\r\n        private final static PseudoClass error = PseudoClass.getPseudoClass(&quot;error&quot;);\r\n    \r\n        private final static SimpleDateFormat timestampFormatter = new SimpleDateFormat(&quot;HH:mm:ss.SSS&quot;);\r\n    \r\n        private final BooleanProperty       showTimestamp = new SimpleBooleanProperty(false);\r\n        private final ObjectProperty&lt;Level&gt; filterLevel   = new SimpleObjectProperty&lt;&gt;(null);\r\n        private final BooleanProperty       tail          = new SimpleBooleanProperty(false);\r\n        private final BooleanProperty       paused        = new SimpleBooleanProperty(false);\r\n        private final DoubleProperty        refreshRate   = new SimpleDoubleProperty(60);\r\n    \r\n        private final ObservableList&lt;LogRecord&gt; logItems = FXCollections.observableArrayList();\r\n    \r\n        public BooleanProperty showTimeStampProperty() {\r\n            return showTimestamp;\r\n        }\r\n    \r\n        public ObjectProperty&lt;Level&gt; filterLevelProperty() {\r\n            return filterLevel;\r\n        }\r\n    \r\n        public BooleanProperty tailProperty() {\r\n            return tail;\r\n        }\r\n    \r\n        public BooleanProperty pausedProperty() {\r\n            return paused;\r\n        }\r\n    \r\n        public DoubleProperty refreshRateProperty() {\r\n            return refreshRate;\r\n        }\r\n    \r\n        public LogView(Logger logger) {\r\n            getStyleClass().add(&quot;log-view&quot;);\r\n    \r\n            Timeline logTransfer = new Timeline(\r\n                    new KeyFrame(\r\n                            Duration.seconds(1),\r\n                            event -&gt; {\r\n                                logger.getLog().drainTo(logItems);\r\n    \r\n                                if (logItems.size() &gt; MAX_ENTRIES) {\r\n                                    logItems.remove(0, logItems.size() - MAX_ENTRIES);\r\n                                }\r\n    \r\n                                if (tail.get()) {\r\n                                    scrollTo(logItems.size());\r\n                                }\r\n                            }\r\n                    )\r\n            );\r\n            logTransfer.setCycleCount(Timeline.INDEFINITE);\r\n            logTransfer.rateProperty().bind(refreshRateProperty());\r\n    \r\n            this.pausedProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                if (newValue &amp;&amp; logTransfer.getStatus() == Animation.Status.RUNNING) {\r\n                    logTransfer.pause();\r\n                }\r\n    \r\n                if (!newValue &amp;&amp; logTransfer.getStatus() == Animation.Status.PAUSED &amp;&amp; getParent() != null) {\r\n                    logTransfer.play();\r\n                }\r\n            });\r\n    \r\n            this.parentProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                if (newValue == null) {\r\n                    logTransfer.pause();\r\n                } else {\r\n                    if (!paused.get()) {\r\n                        logTransfer.play();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            filterLevel.addListener((observable, oldValue, newValue) -&gt; {\r\n                setItems(\r\n                        new FilteredList&lt;LogRecord&gt;(\r\n                                logItems,\r\n                                logRecord -&gt;\r\n                                    logRecord.getLevel().ordinal() &gt;=\r\n                                    filterLevel.get().ordinal()\r\n                        )\r\n                );\r\n            });\r\n            filterLevel.set(Level.DEBUG);\r\n    \r\n            setCellFactory(param -&gt; new ListCell&lt;LogRecord&gt;() {\r\n                {\r\n                    showTimestamp.addListener(observable -&gt; updateItem(this.getItem(), this.isEmpty()));\r\n                }\r\n    \r\n                @Override\r\n                protected void updateItem(LogRecord item, boolean empty) {\r\n                    super.updateItem(item, empty);\r\n    \r\n                    pseudoClassStateChanged(debug, false);\r\n                    pseudoClassStateChanged(info, false);\r\n                    pseudoClassStateChanged(warn, false);\r\n                    pseudoClassStateChanged(error, false);\r\n    \r\n                    if (item == null || empty) {\r\n                        setText(null);\r\n                        return;\r\n                    }\r\n    \r\n                    String context =\r\n                            (item.getContext() == null)\r\n                                    ? &quot;&quot;\r\n                                    : item.getContext() + &quot; &quot;;\r\n    \r\n                    if (showTimestamp.get()) {\r\n                        String timestamp =\r\n                                (item.getTimestamp() == null)\r\n                                        ? &quot;&quot;\r\n                                        : timestampFormatter.format(item.getTimestamp()) + &quot; &quot;;\r\n                        setText(timestamp + context + item.getMessage());\r\n                    } else {\r\n                        setText(context + item.getMessage());\r\n                    }\r\n    \r\n                    switch (item.getLevel()) {\r\n                        case DEBUG:\r\n                            pseudoClassStateChanged(debug, true);\r\n                            break;\r\n    \r\n                        case INFO:\r\n                            pseudoClassStateChanged(info, true);\r\n                            break;\r\n    \r\n                        case WARN:\r\n                            pseudoClassStateChanged(warn, true);\r\n                            break;\r\n    \r\n                        case ERROR:\r\n                            pseudoClassStateChanged(error, true);\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    \r\n    class Lorem {\r\n        private static final String[] IPSUM = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque hendrerit imperdiet mi quis convallis. Pellentesque fringilla imperdiet libero, quis hendrerit lacus mollis et. Maecenas porttitor id urna id mollis. Suspendisse potenti. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Cras lacus tellus, semper hendrerit arcu quis, auctor suscipit ipsum. Vestibulum venenatis ante et nulla commodo, ac ultricies purus fringilla. Aliquam lectus urna, commodo eu quam a, dapibus bibendum nisl. Aliquam blandit a nibh tincidunt aliquam. In tellus lorem, rhoncus eu magna id, ullamcorper dictum tellus. Curabitur luctus, justo a sodales gravida, purus sem iaculis est, eu ornare turpis urna vitae dolor. Nulla facilisi. Proin mattis dignissim diam, id pellentesque sem bibendum sed. Donec venenatis dolor neque, ut luctus odio elementum eget. Nunc sed orci ligula. Aliquam erat volutpat.&quot;.split(&quot; &quot;);\r\n        private static final int MSG_WORDS = 8;\r\n        private int idx = 0;\r\n    \r\n        private Random random = new Random(42);\r\n    \r\n        synchronized public String nextString() {\r\n            int end = Math.min(idx + MSG_WORDS, IPSUM.length);\r\n    \r\n            StringBuilder result = new StringBuilder();\r\n            for (int i = idx; i &lt; end; i++) {\r\n                result.append(IPSUM[i]).append(&quot; &quot;);\r\n            }\r\n    \r\n            idx += MSG_WORDS;\r\n            idx = idx % IPSUM.length;\r\n    \r\n            return result.toString();\r\n        }\r\n    \r\n        synchronized public Level nextLevel() {\r\n            double v = random.nextDouble();\r\n    \r\n            if (v &lt; 0.8) {\r\n                return Level.DEBUG;\r\n            }\r\n    \r\n            if (v &lt; 0.95) {\r\n                return Level.INFO;\r\n            }\r\n    \r\n            if (v &lt; 0.985) {\r\n                return Level.WARN;\r\n            }\r\n    \r\n            return Level.ERROR;\r\n        }\r\n    \r\n    }\r\n    \r\n    public class LogViewer extends Application {\r\n        private final Random random = new Random(42);\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Lorem  lorem  = new Lorem();\r\n            Log    log    = new Log();\r\n            Logger logger = new Logger(log, &quot;main&quot;);\r\n    \r\n            logger.info(&quot;Hello&quot;);\r\n            logger.warn(&quot;Don&#39;t pick up alien hitchhickers&quot;);\r\n    \r\n            for (int x = 0; x &lt; 20; x++) {\r\n                Thread generatorThread = new Thread(\r\n                        () -&gt; {\r\n                            for (;;) {\r\n                                logger.log(\r\n                                        new LogRecord(\r\n                                                lorem.nextLevel(),\r\n                                                Thread.currentThread().getName(),\r\n                                                lorem.nextString()\r\n                                        )\r\n                                );\r\n    \r\n                                try {\r\n                                    Thread.sleep(random.nextInt(1_000));\r\n                                } catch (InterruptedException e) {\r\n                                    Thread.currentThread().interrupt();\r\n                                }\r\n                            }\r\n                        },\r\n                        &quot;log-gen-&quot; + x\r\n                );\r\n                generatorThread.setDaemon(true);\r\n                generatorThread.start();\r\n            }\r\n    \r\n            LogView logView = new LogView(logger);\r\n            logView.setPrefWidth(400);\r\n    \r\n            ChoiceBox&lt;Level&gt; filterLevel = new ChoiceBox&lt;&gt;(\r\n                    FXCollections.observableArrayList(\r\n                            Level.values()\r\n                    )\r\n            );\r\n            filterLevel.getSelectionModel().select(Level.DEBUG);\r\n            logView.filterLevelProperty().bind(\r\n                    filterLevel.getSelectionModel().selectedItemProperty()\r\n            );\r\n    \r\n            ToggleButton showTimestamp = new ToggleButton(&quot;Show Timestamp&quot;);\r\n            logView.showTimeStampProperty().bind(showTimestamp.selectedProperty());\r\n    \r\n            ToggleButton tail = new ToggleButton(&quot;Tail&quot;);\r\n            logView.tailProperty().bind(tail.selectedProperty());\r\n    \r\n            ToggleButton pause = new ToggleButton(&quot;Pause&quot;);\r\n            logView.pausedProperty().bind(pause.selectedProperty());\r\n    \r\n            Slider rate = new Slider(0.1, 60, 60);\r\n            logView.refreshRateProperty().bind(rate.valueProperty());\r\n            Label rateLabel = new Label();\r\n            rateLabel.textProperty().bind(Bindings.format(&quot;Update: %.2f fps&quot;, rate.valueProperty()));\r\n            rateLabel.setStyle(&quot;-fx-font-family: monospace;&quot;);\r\n            VBox rateLayout = new VBox(rate, rateLabel);\r\n            rateLayout.setAlignment(Pos.CENTER);\r\n    \r\n            HBox controls = new HBox(\r\n                    10,\r\n                    filterLevel,\r\n                    showTimestamp,\r\n                    tail,\r\n                    pause,\r\n                    rateLayout\r\n            );\r\n            controls.setMinHeight(HBox.USE_PREF_SIZE);\r\n    \r\n            VBox layout = new VBox(\r\n                    10,\r\n                    controls,\r\n                    logView\r\n            );\r\n            VBox.setVgrow(logView, Priority.ALWAYS);\r\n    \r\n            Scene scene = new Scene(layout);\r\n            scene.getStylesheets().add(\r\n                this.getClass().getResource(&quot;log-view.css&quot;).toExternalForm()\r\n            );\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n------\r\n\r\nThe section below on selectable text is supplemental to the solution posted above.  If you don&#39;t need selectable text, you can ignore the selection below.\r\n\r\n&gt; Is it possible to make the text selectable? \r\n\r\nThere a few different options:\r\n\r\n 1. It is a ListView, so you could use a [multiple selection model](https://stackoverflow.com/questions/43315135/java-how-do-i-enable-multiple-selection-mode-is-listview), ensuring the CSS is configured to appropriately style the selected rows as you wish.  That will do a row by row selection, not a straight text selection.  You can add a listener to the selected items in the selection model and do appropriate processing when that changes.\r\n 2. You could use a factory for the ListView which sets each cell to an appropriately styles read-only text field.  That would allow somebody to select just a portion of text within a row rather than a whole row.  But they wouldn&#39;t be able to select text across multiple rows in one go. \r\n   * https://stackoverflow.com/questions/22534067/copiable-label-textfield-labeledtext-in-javafx\r\n 3. Rather than a ListView, you could base the implementation on a third-party read-only [RichTextFX](https://github.com/FXMisc/RichTextFX) control, which would allow selection of text across multiple rows.\r\n\r\nTry implementing the text selection approach which is appropriate for you and, if you can&#39;t get it to work, create a new question specific to selectable text logs, with a [mcve](https://stackoverflow.com/help/mcve).","title":"Most efficient way to log messages to JavaFX TextArea via threads with simple custom logging frameworks","body":"<p><em>log-view.css</em></p>\n<pre><code>.root {\n    -fx-padding: 10px;\n}\n\n.log-view .list-cell {\n    -fx-background-color: null; // removes alternating list gray cells.\n}\n\n.log-view .list-cell:debug {\n    -fx-text-fill: gray;\n}\n\n.log-view .list-cell:info {\n    -fx-text-fill: green;\n}\n\n.log-view .list-cell:warn {\n    -fx-text-fill: purple;\n}\n\n.log-view .list-cell:error {\n    -fx-text-fill: red;\n}\n</code></pre>\n<p><em>LogViewer.java</em></p>\n<pre><code>import javafx.animation.Animation;\nimport javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.beans.binding.Bindings;\nimport javafx.beans.property.*;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.collections.transformation.FilteredList;\nimport javafx.css.PseudoClass;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Priority;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Collection;\nimport java.util.Date;\nimport java.util.Random;\nimport java.util.concurrent.BlockingDeque;\nimport java.util.concurrent.LinkedBlockingDeque;\n\nclass Log {\n    private static final int MAX_LOG_ENTRIES = 1_000_000;\n\n    private final BlockingDeque&lt;LogRecord&gt; log = new LinkedBlockingDeque&lt;&gt;(MAX_LOG_ENTRIES);\n\n    public void drainTo(Collection&lt;? super LogRecord&gt; collection) {\n        log.drainTo(collection);\n    }\n\n    public void offer(LogRecord record) {\n        log.offer(record);\n    }\n}\n\nclass Logger {\n    private final Log log;\n    private final String context;\n\n    public Logger(Log log, String context) {\n        this.log = log;\n        this.context = context;\n    }\n\n    public void log(LogRecord record) {\n        log.offer(record);\n    }\n\n    public void debug(String msg) {\n        log(new LogRecord(Level.DEBUG, context, msg));\n    }\n\n    public void info(String msg) {\n        log(new LogRecord(Level.INFO, context, msg));\n    }\n\n    public void warn(String msg) {\n        log(new LogRecord(Level.WARN, context, msg));\n    }\n\n    public void error(String msg) {\n        log(new LogRecord(Level.ERROR, context, msg));\n    }\n\n    public Log getLog() {\n        return log;\n    }\n}\n\nenum Level { DEBUG, INFO, WARN, ERROR }\n\nclass LogRecord {\n    private Date   timestamp;\n    private Level  level;\n    private String context;\n    private String message;\n\n    public LogRecord(Level level, String context, String message) {\n        this.timestamp = new Date();\n        this.level     = level;\n        this.context   = context;\n        this.message   = message;\n    }\n\n    public Date getTimestamp() {\n        return timestamp;\n    }\n\n    public Level getLevel() {\n        return level;\n    }\n\n    public String getContext() {\n        return context;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n}\n\nclass LogView extends ListView&lt;LogRecord&gt; {\n    private static final int MAX_ENTRIES = 10_000;\n\n    private final static PseudoClass debug = PseudoClass.getPseudoClass(&quot;debug&quot;);\n    private final static PseudoClass info  = PseudoClass.getPseudoClass(&quot;info&quot;);\n    private final static PseudoClass warn  = PseudoClass.getPseudoClass(&quot;warn&quot;);\n    private final static PseudoClass error = PseudoClass.getPseudoClass(&quot;error&quot;);\n\n    private final static SimpleDateFormat timestampFormatter = new SimpleDateFormat(&quot;HH:mm:ss.SSS&quot;);\n\n    private final BooleanProperty       showTimestamp = new SimpleBooleanProperty(false);\n    private final ObjectProperty&lt;Level&gt; filterLevel   = new SimpleObjectProperty&lt;&gt;(null);\n    private final BooleanProperty       tail          = new SimpleBooleanProperty(false);\n    private final BooleanProperty       paused        = new SimpleBooleanProperty(false);\n    private final DoubleProperty        refreshRate   = new SimpleDoubleProperty(60);\n\n    private final ObservableList&lt;LogRecord&gt; logItems = FXCollections.observableArrayList();\n\n    public BooleanProperty showTimeStampProperty() {\n        return showTimestamp;\n    }\n\n    public ObjectProperty&lt;Level&gt; filterLevelProperty() {\n        return filterLevel;\n    }\n\n    public BooleanProperty tailProperty() {\n        return tail;\n    }\n\n    public BooleanProperty pausedProperty() {\n        return paused;\n    }\n\n    public DoubleProperty refreshRateProperty() {\n        return refreshRate;\n    }\n\n    public LogView(Logger logger) {\n        getStyleClass().add(&quot;log-view&quot;);\n\n        Timeline logTransfer = new Timeline(\n                new KeyFrame(\n                        Duration.seconds(1),\n                        event -&gt; {\n                            logger.getLog().drainTo(logItems);\n\n                            if (logItems.size() &gt; MAX_ENTRIES) {\n                                logItems.remove(0, logItems.size() - MAX_ENTRIES);\n                            }\n\n                            if (tail.get()) {\n                                scrollTo(logItems.size());\n                            }\n                        }\n                )\n        );\n        logTransfer.setCycleCount(Timeline.INDEFINITE);\n        logTransfer.rateProperty().bind(refreshRateProperty());\n\n        this.pausedProperty().addListener((observable, oldValue, newValue) -&gt; {\n            if (newValue &amp;&amp; logTransfer.getStatus() == Animation.Status.RUNNING) {\n                logTransfer.pause();\n            }\n\n            if (!newValue &amp;&amp; logTransfer.getStatus() == Animation.Status.PAUSED &amp;&amp; getParent() != null) {\n                logTransfer.play();\n            }\n        });\n\n        this.parentProperty().addListener((observable, oldValue, newValue) -&gt; {\n            if (newValue == null) {\n                logTransfer.pause();\n            } else {\n                if (!paused.get()) {\n                    logTransfer.play();\n                }\n            }\n        });\n\n        filterLevel.addListener((observable, oldValue, newValue) -&gt; {\n            setItems(\n                    new FilteredList&lt;LogRecord&gt;(\n                            logItems,\n                            logRecord -&gt;\n                                logRecord.getLevel().ordinal() &gt;=\n                                filterLevel.get().ordinal()\n                    )\n            );\n        });\n        filterLevel.set(Level.DEBUG);\n\n        setCellFactory(param -&gt; new ListCell&lt;LogRecord&gt;() {\n            {\n                showTimestamp.addListener(observable -&gt; updateItem(this.getItem(), this.isEmpty()));\n            }\n\n            @Override\n            protected void updateItem(LogRecord item, boolean empty) {\n                super.updateItem(item, empty);\n\n                pseudoClassStateChanged(debug, false);\n                pseudoClassStateChanged(info, false);\n                pseudoClassStateChanged(warn, false);\n                pseudoClassStateChanged(error, false);\n\n                if (item == null || empty) {\n                    setText(null);\n                    return;\n                }\n\n                String context =\n                        (item.getContext() == null)\n                                ? &quot;&quot;\n                                : item.getContext() + &quot; &quot;;\n\n                if (showTimestamp.get()) {\n                    String timestamp =\n                            (item.getTimestamp() == null)\n                                    ? &quot;&quot;\n                                    : timestampFormatter.format(item.getTimestamp()) + &quot; &quot;;\n                    setText(timestamp + context + item.getMessage());\n                } else {\n                    setText(context + item.getMessage());\n                }\n\n                switch (item.getLevel()) {\n                    case DEBUG:\n                        pseudoClassStateChanged(debug, true);\n                        break;\n\n                    case INFO:\n                        pseudoClassStateChanged(info, true);\n                        break;\n\n                    case WARN:\n                        pseudoClassStateChanged(warn, true);\n                        break;\n\n                    case ERROR:\n                        pseudoClassStateChanged(error, true);\n                        break;\n                }\n            }\n        });\n    }\n}\n\nclass Lorem {\n    private static final String[] IPSUM = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque hendrerit imperdiet mi quis convallis. Pellentesque fringilla imperdiet libero, quis hendrerit lacus mollis et. Maecenas porttitor id urna id mollis. Suspendisse potenti. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Cras lacus tellus, semper hendrerit arcu quis, auctor suscipit ipsum. Vestibulum venenatis ante et nulla commodo, ac ultricies purus fringilla. Aliquam lectus urna, commodo eu quam a, dapibus bibendum nisl. Aliquam blandit a nibh tincidunt aliquam. In tellus lorem, rhoncus eu magna id, ullamcorper dictum tellus. Curabitur luctus, justo a sodales gravida, purus sem iaculis est, eu ornare turpis urna vitae dolor. Nulla facilisi. Proin mattis dignissim diam, id pellentesque sem bibendum sed. Donec venenatis dolor neque, ut luctus odio elementum eget. Nunc sed orci ligula. Aliquam erat volutpat.&quot;.split(&quot; &quot;);\n    private static final int MSG_WORDS = 8;\n    private int idx = 0;\n\n    private Random random = new Random(42);\n\n    synchronized public String nextString() {\n        int end = Math.min(idx + MSG_WORDS, IPSUM.length);\n\n        StringBuilder result = new StringBuilder();\n        for (int i = idx; i &lt; end; i++) {\n            result.append(IPSUM[i]).append(&quot; &quot;);\n        }\n\n        idx += MSG_WORDS;\n        idx = idx % IPSUM.length;\n\n        return result.toString();\n    }\n\n    synchronized public Level nextLevel() {\n        double v = random.nextDouble();\n\n        if (v &lt; 0.8) {\n            return Level.DEBUG;\n        }\n\n        if (v &lt; 0.95) {\n            return Level.INFO;\n        }\n\n        if (v &lt; 0.985) {\n            return Level.WARN;\n        }\n\n        return Level.ERROR;\n    }\n\n}\n\npublic class LogViewer extends Application {\n    private final Random random = new Random(42);\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        Lorem  lorem  = new Lorem();\n        Log    log    = new Log();\n        Logger logger = new Logger(log, &quot;main&quot;);\n\n        logger.info(&quot;Hello&quot;);\n        logger.warn(&quot;Don't pick up alien hitchhickers&quot;);\n\n        for (int x = 0; x &lt; 20; x++) {\n            Thread generatorThread = new Thread(\n                    () -&gt; {\n                        for (;;) {\n                            logger.log(\n                                    new LogRecord(\n                                            lorem.nextLevel(),\n                                            Thread.currentThread().getName(),\n                                            lorem.nextString()\n                                    )\n                            );\n\n                            try {\n                                Thread.sleep(random.nextInt(1_000));\n                            } catch (InterruptedException e) {\n                                Thread.currentThread().interrupt();\n                            }\n                        }\n                    },\n                    &quot;log-gen-&quot; + x\n            );\n            generatorThread.setDaemon(true);\n            generatorThread.start();\n        }\n\n        LogView logView = new LogView(logger);\n        logView.setPrefWidth(400);\n\n        ChoiceBox&lt;Level&gt; filterLevel = new ChoiceBox&lt;&gt;(\n                FXCollections.observableArrayList(\n                        Level.values()\n                )\n        );\n        filterLevel.getSelectionModel().select(Level.DEBUG);\n        logView.filterLevelProperty().bind(\n                filterLevel.getSelectionModel().selectedItemProperty()\n        );\n\n        ToggleButton showTimestamp = new ToggleButton(&quot;Show Timestamp&quot;);\n        logView.showTimeStampProperty().bind(showTimestamp.selectedProperty());\n\n        ToggleButton tail = new ToggleButton(&quot;Tail&quot;);\n        logView.tailProperty().bind(tail.selectedProperty());\n\n        ToggleButton pause = new ToggleButton(&quot;Pause&quot;);\n        logView.pausedProperty().bind(pause.selectedProperty());\n\n        Slider rate = new Slider(0.1, 60, 60);\n        logView.refreshRateProperty().bind(rate.valueProperty());\n        Label rateLabel = new Label();\n        rateLabel.textProperty().bind(Bindings.format(&quot;Update: %.2f fps&quot;, rate.valueProperty()));\n        rateLabel.setStyle(&quot;-fx-font-family: monospace;&quot;);\n        VBox rateLayout = new VBox(rate, rateLabel);\n        rateLayout.setAlignment(Pos.CENTER);\n\n        HBox controls = new HBox(\n                10,\n                filterLevel,\n                showTimestamp,\n                tail,\n                pause,\n                rateLayout\n        );\n        controls.setMinHeight(HBox.USE_PREF_SIZE);\n\n        VBox layout = new VBox(\n                10,\n                controls,\n                logView\n        );\n        VBox.setVgrow(logView, Priority.ALWAYS);\n\n        Scene scene = new Scene(layout);\n        scene.getStylesheets().add(\n            this.getClass().getResource(&quot;log-view.css&quot;).toExternalForm()\n        );\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<hr />\n<p>The section below on selectable text is supplemental to the solution posted above.  If you don't need selectable text, you can ignore the selection below.</p>\n<blockquote>\n<p>Is it possible to make the text selectable?</p>\n</blockquote>\n<p>There a few different options:</p>\n<ol>\n<li>It is a ListView, so you could use a <a href=\"https://stackoverflow.com/questions/43315135/java-how-do-i-enable-multiple-selection-mode-is-listview\">multiple selection model</a>, ensuring the CSS is configured to appropriately style the selected rows as you wish.  That will do a row by row selection, not a straight text selection.  You can add a listener to the selected items in the selection model and do appropriate processing when that changes.</li>\n<li>You could use a factory for the ListView which sets each cell to an appropriately styles read-only text field.  That would allow somebody to select just a portion of text within a row rather than a whole row.  But they wouldn't be able to select text across multiple rows in one go.</li>\n</ol>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/22534067/copiable-label-textfield-labeledtext-in-javafx\">Copiable Label/TextField/LabeledText in JavaFX</a></li>\n</ul>\n<ol start=\"3\">\n<li>Rather than a ListView, you could base the implementation on a third-party read-only <a href=\"https://github.com/FXMisc/RichTextFX\" rel=\"nofollow noreferrer\">RichTextFX</a> control, which would allow selection of text across multiple rows.</li>\n</ol>\n<p>Try implementing the text selection approach which is appropriate for you and, if you can't get it to work, create a new question specific to selectable text logs, with a <a href=\"https://stackoverflow.com/help/mcve\">mcve</a>.</p>\n"}],"owner":{"account_id":199734,"reputation":72865,"user_id":445221,"display_name":"konsolebox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15306,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":24140252,"answer_count":1,"score":13,"last_activity_date":1658276686,"creation_date":1402304325,"question_id":24116858,"body_markdown":"I have a simple custom logging framework like this:\r\n\r\n    package something;\r\n    \r\n    import javafx.scene.control.TextArea;\r\n    \r\n    public class MyLogger {\r\n        public final TextArea textArea;\r\n    \r\n        private boolean verboseMode = false;\r\n        private boolean debugMode = false;\r\n    \t\r\n    \tpublic MyLogger(final TextArea textArea) {\r\n    \t\tthis.textArea = textArea;\r\n    \t}\r\n    \r\n        public MyLogger setVerboseMode(boolean value) {\r\n            verboseMode = value;\r\n            return this;\r\n        }\r\n    \r\n        public MyLogger setDebugMode(boolean value) {\r\n            debugMode = value;\r\n            return this;\r\n        }\r\n    \r\n        public boolean writeMessage(String msg) {\r\n            textArea.appendText(msg);\r\n            return true;\r\n        }\r\n    \r\n        public boolean logMessage(String msg) {\r\n            return writeMessage(msg + &quot;\\n&quot;);\r\n        }\r\n    \r\n        public boolean logWarning(String msg) {\r\n            return writeMessage(&quot;Warning: &quot; + msg + &quot;\\n&quot;);\r\n        }\r\n    \r\n        public boolean logError(String msg) {\r\n            return writeMessage(&quot;Error: &quot; + msg + &quot;\\n&quot;);\r\n        }\r\n    \r\n        public boolean logVerbose(String msg) {\r\n            return verboseMode ? writeMessage(msg + &quot;\\n&quot;) : true;\r\n        }\r\n    \r\n        public boolean logDebug(String msg) {\r\n            return debugMode ? writeMessage(&quot;[DEBUG] &quot; + msg + &quot;\\n&quot;) : true;\r\n        }\r\n    }\r\n\r\nNow what I want to do is to extend it so that it would be able to properly handle logging of messages via threads. I have tried solutions like [using message queues with an AnimationTimer][1]. It works but it slows the GUI down.\r\n\r\nI also tried using a [scheduled service][2] which runs a thread that reads messages from the message queue, concatenates them, and appends them to TextArea (`textArea.appendText(stringBuilder.toString())`). The problem is that the TextArea control goes unstable i.e. you had to highlight all texts with `Ctrl-A` and try resizing the window to make them appear well. There are also some of them being displayed in a light-blue background not sure what&#39;s causing it. My first guess here is that the race condition may not be allowing the control to update itself well from the new strings. It is also worth noting that the textarea is wrapped around a ScrollPane so it adds the confusion if TextArea is actually the one having the problem or ScrollPane. I have to mention as well that this approach doesn&#39;t make the TextArea control update itself with messages quickly.\r\n\r\nI thought about `binding` `TextArea.TextProperty()` to something that does the update but I&#39;m not sure how I would do that properly knowing that the gatherer of messages (be it by a service or a lone thread) would still be running different from the GUI thread.\r\n\r\nI have tried to look up on other known logging framework solutions like log4j and some stuffs referred [here][3] but none of them seems to give an apparent approach to logging via threads to TextArea. I also don&#39;t like the idea of building my logging system on top of them as they already have their pre-defined mechanisms like logging level, etc.\r\n\r\nI&#39;ve seen [this][4] as well. It implies using `SwingUtilities.invokeLater(Runnable)` to update the control but I already tried a similar approach using `javafx.application.platform.runLater()` which gets executed on the worker thread. I&#39;m not sure if there was something I was doing wrong but it just hangs. It can produce messages but not when they&#39;re aggressive enough. I estimate that the worker thread running in a purely synchronous fashion can actually produce about 20 or more average lines per second and more when it&#39;s in debug mode. A possible workaround would be to add message queueing to it as well but that doesn&#39;t make sense anymore.\r\n\r\n  [1]: https://stackoverflow.com/questions/22772379/updating-ui-from-different-threads-in-javafx\r\n  [2]: http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/ScheduledService.html\r\n  [3]: https://stackoverflow.com/questions/5950557/good-examples-using-java-util-logging\r\n  [4]: https://stackoverflow.com/questions/10785560/write-logger-message-to-file-and-textarea-while-maintaining-default-behaviour-in","title":"Most efficient way to log messages to JavaFX TextArea via threads with simple custom logging frameworks","body":"<p>I have a simple custom logging framework like this:</p>\n\n<pre><code>package something;\n\nimport javafx.scene.control.TextArea;\n\npublic class MyLogger {\n    public final TextArea textArea;\n\n    private boolean verboseMode = false;\n    private boolean debugMode = false;\n\n    public MyLogger(final TextArea textArea) {\n        this.textArea = textArea;\n    }\n\n    public MyLogger setVerboseMode(boolean value) {\n        verboseMode = value;\n        return this;\n    }\n\n    public MyLogger setDebugMode(boolean value) {\n        debugMode = value;\n        return this;\n    }\n\n    public boolean writeMessage(String msg) {\n        textArea.appendText(msg);\n        return true;\n    }\n\n    public boolean logMessage(String msg) {\n        return writeMessage(msg + \"\\n\");\n    }\n\n    public boolean logWarning(String msg) {\n        return writeMessage(\"Warning: \" + msg + \"\\n\");\n    }\n\n    public boolean logError(String msg) {\n        return writeMessage(\"Error: \" + msg + \"\\n\");\n    }\n\n    public boolean logVerbose(String msg) {\n        return verboseMode ? writeMessage(msg + \"\\n\") : true;\n    }\n\n    public boolean logDebug(String msg) {\n        return debugMode ? writeMessage(\"[DEBUG] \" + msg + \"\\n\") : true;\n    }\n}\n</code></pre>\n\n<p>Now what I want to do is to extend it so that it would be able to properly handle logging of messages via threads. I have tried solutions like <a href=\"https://stackoverflow.com/questions/22772379/updating-ui-from-different-threads-in-javafx\">using message queues with an AnimationTimer</a>. It works but it slows the GUI down.</p>\n\n<p>I also tried using a <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/ScheduledService.html\" rel=\"noreferrer\">scheduled service</a> which runs a thread that reads messages from the message queue, concatenates them, and appends them to TextArea (<code>textArea.appendText(stringBuilder.toString())</code>). The problem is that the TextArea control goes unstable i.e. you had to highlight all texts with <code>Ctrl-A</code> and try resizing the window to make them appear well. There are also some of them being displayed in a light-blue background not sure what's causing it. My first guess here is that the race condition may not be allowing the control to update itself well from the new strings. It is also worth noting that the textarea is wrapped around a ScrollPane so it adds the confusion if TextArea is actually the one having the problem or ScrollPane. I have to mention as well that this approach doesn't make the TextArea control update itself with messages quickly.</p>\n\n<p>I thought about <code>binding</code> <code>TextArea.TextProperty()</code> to something that does the update but I'm not sure how I would do that properly knowing that the gatherer of messages (be it by a service or a lone thread) would still be running different from the GUI thread.</p>\n\n<p>I have tried to look up on other known logging framework solutions like log4j and some stuffs referred <a href=\"https://stackoverflow.com/questions/5950557/good-examples-using-java-util-logging\">here</a> but none of them seems to give an apparent approach to logging via threads to TextArea. I also don't like the idea of building my logging system on top of them as they already have their pre-defined mechanisms like logging level, etc.</p>\n\n<p>I've seen <a href=\"https://stackoverflow.com/questions/10785560/write-logger-message-to-file-and-textarea-while-maintaining-default-behaviour-in\">this</a> as well. It implies using <code>SwingUtilities.invokeLater(Runnable)</code> to update the control but I already tried a similar approach using <code>javafx.application.platform.runLater()</code> which gets executed on the worker thread. I'm not sure if there was something I was doing wrong but it just hangs. It can produce messages but not when they're aggressive enough. I estimate that the worker thread running in a purely synchronous fashion can actually produce about 20 or more average lines per second and more when it's in debug mode. A possible workaround would be to add message queueing to it as well but that doesn't make sense anymore.</p>\n"},{"tags":["java","interface","singleton"],"answers":[{"tags":[],"owner":{"account_id":25506775,"reputation":59,"user_id":19299127,"display_name":"Joshua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658276632,"creation_date":1658276632,"answer_id":73044728,"question_id":73044681,"body_markdown":"Your class should implement Iface not extends it and you can&#39;t instantiate a interface because interface are abstract. Your class Test can be :\r\n```java\r\npublic class Test implements Iface{\r\n\r\n\r\n}\r\n```","title":"Have to create and return objects from classes that implement interfaces java","body":"<p>Your class should implement Iface not extends it and you can't instantiate a interface because interface are abstract. Your class Test can be :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test implements Iface{\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":25848875,"reputation":1,"user_id":19583199,"display_name":"UMP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1658276632,"creation_date":1658276035,"question_id":73044681,"body_markdown":"I have a to create a new library object and return it in Test. But since ILibrary is an Interface I cant instantiate ILibrary. \r\nHow do I create a class that implements the Ilibrary and that gives me an object I can return?\r\n``` \r\npublic class Test extends Iface {\r\n\r\n\t@Override\r\n\tpublic ILibrary createLibrary() {\r\n\t\t//TODO: Instantiate library\r\n\t\treturn NULL;\r\n\t}\r\n}\r\n```\r\nthe Interface is\r\n``` \r\npublic interface Iface {\r\n\tpublic ILibrary createLibrary()\r\n}","title":"Have to create and return objects from classes that implement interfaces java","body":"<p>I have a to create a new library object and return it in Test. But since ILibrary is an Interface I cant instantiate ILibrary.\nHow do I create a class that implements the Ilibrary and that gives me an object I can return?</p>\n<pre><code>public class Test extends Iface {\n\n    @Override\n    public ILibrary createLibrary() {\n        //TODO: Instantiate library\n        return NULL;\n    }\n}\n</code></pre>\n<p>the Interface is</p>\n<pre><code>public interface Iface {\n    public ILibrary createLibrary()\n}\n</code></pre>\n"},{"tags":["java","merge","polygon","shapes"],"comments":[{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":1,"creation_date":1658252912,"post_id":73041275,"comment_id":129004146,"body_markdown":"Do you have any code for us to draw these shapes?","body":"Do you have any code for us to draw these shapes?"},{"owner":{"account_id":16044495,"reputation":23,"user_id":11580043,"display_name":"Laeven"},"score":0,"creation_date":1658261002,"post_id":73041275,"comment_id":129006746,"body_markdown":"@akuzminykh Yes, I have some code here. 1 block = pixel. https://pastebin.com/qd9B76k7","body":"@akuzminykh Yes, I have some code here. 1 block = pixel. <a href=\"https://pastebin.com/qd9B76k7\" rel=\"nofollow noreferrer\">pastebin.com/qd9B76k7</a>"},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":0,"creation_date":1658261896,"post_id":73041275,"comment_id":129007086,"body_markdown":"Please post the code in your question. One thing you could try is to follow the red path counter-clock wise. Then you always try to go to the right relative to the movement direction. If there is no block on the right, you try to go to the front. If there is no block in front of you, then you go to the left. At some point you will switch from the red path to the green path automatically and back again.","body":"Please post the code in your question. One thing you could try is to follow the red path counter-clock wise. Then you always try to go to the right relative to the movement direction. If there is no block on the right, you try to go to the front. If there is no block in front of you, then you go to the left. At some point you will switch from the red path to the green path automatically and back again."},{"owner":{"account_id":16044495,"reputation":23,"user_id":11580043,"display_name":"Laeven"},"score":0,"creation_date":1658267598,"post_id":73041275,"comment_id":129008522,"body_markdown":"@akuzminykh Yes, I did think about doing this initially. However, it would be too computationally expensive to do on larger/more complex polygons which is my end goal. I&#39;ve updated the post to explain that the red and green boxes are not actually there and just show the point connections. I might be willing to check the rectangle pixel/box by pixel/box because I wouldn&#39;t allow it to be larger than a certain amount. But the polygon can be as big as it wants. Thanks for the suggestion though!","body":"@akuzminykh Yes, I did think about doing this initially. However, it would be too computationally expensive to do on larger/more complex polygons which is my end goal. I&#39;ve updated the post to explain that the red and green boxes are not actually there and just show the point connections. I might be willing to check the rectangle pixel/box by pixel/box because I wouldn&#39;t allow it to be larger than a certain amount. But the polygon can be as big as it wants. Thanks for the suggestion though!"}],"answers":[{"tags":[],"owner":{"account_id":12643497,"reputation":72,"user_id":9190107,"display_name":"Lecram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658275938,"creation_date":1658273788,"answer_id":73044509,"question_id":73041275,"body_markdown":"You can simplify your problem by separating it in different parts. So the issue is based on lines.\r\n\r\n**Horizontal case**\r\n\r\n    1.\r\n       R1------R2\r\n\r\n         xxxxxx (overlaps)\r\n\r\n    G1------------G2\r\n\r\n    2.\r\n    R1----------R2\r\n\r\n         xxxxxxx (overlaps)\r\n\r\n       G1------------G2\r\n\r\n    3.\r\n    R1---------------R2\r\n\r\n         no overlapping\r\n\r\n                          G1-----G2\r\n\r\n    ...\r\n\r\n**distance**: abs(R_y1 - G_y1)\r\n\r\n**range of overlap**: x1 = max(R_x1,G_x1), x2 = min(R_x2,G_x2),\r\n\r\n    if (distance &lt;= 1 &amp;&amp; x1-x2 &gt; 0) {\r\n        // both lines are neighbours and has a valid overlapping range\r\n    }\r\n\r\n**Vertical case**\r\n\r\nAnalogous to horizontal\r\n\r\nAs your boxes are stored in linked lists, you iterate both boxes and calculate distance and range of overlap.\r\n    \r\n    List&lt;Line&gt; greenBox; // {Line((28,30),(60,30)) , Line((60,30),(60,50)), ...\r\n    List&lt;Line&gt; redBox;   // ...\r\n    for (Line r : redBox) {\r\n        for (Line g : greenBox) {\r\n            if (distance(r,g) &lt;= 1 &amp;&amp; rangeOfOverlap(r,g) &gt; 0) {\r\n                // both lines matches and can be merged over the range of overlaps\r\n                merge(r,g);\r\n            }\r\n        }\r\n    }\r\n\r\nThis is just an example to inspire you. You&#39;ll need to check if the picked green and red line are both horizontal or both vertical.\r\n\r\nThe complexity of the algorhythm would be around at m^n (without merging) where n is the number of green lines and m is the number of red lines.\r\n\r\nlol","title":"How to merge 2D rectangles into larger polygons [Java]","body":"<p>You can simplify your problem by separating it in different parts. So the issue is based on lines.</p>\n<p><strong>Horizontal case</strong></p>\n<pre><code>1.\n   R1------R2\n\n     xxxxxx (overlaps)\n\nG1------------G2\n\n2.\nR1----------R2\n\n     xxxxxxx (overlaps)\n\n   G1------------G2\n\n3.\nR1---------------R2\n\n     no overlapping\n\n                      G1-----G2\n\n...\n</code></pre>\n<p><strong>distance</strong>: abs(R_y1 - G_y1)</p>\n<p><strong>range of overlap</strong>: x1 = max(R_x1,G_x1), x2 = min(R_x2,G_x2),</p>\n<pre><code>if (distance &lt;= 1 &amp;&amp; x1-x2 &gt; 0) {\n    // both lines are neighbours and has a valid overlapping range\n}\n</code></pre>\n<p><strong>Vertical case</strong></p>\n<p>Analogous to horizontal</p>\n<p>As your boxes are stored in linked lists, you iterate both boxes and calculate distance and range of overlap.</p>\n<pre><code>List&lt;Line&gt; greenBox; // {Line((28,30),(60,30)) , Line((60,30),(60,50)), ...\nList&lt;Line&gt; redBox;   // ...\nfor (Line r : redBox) {\n    for (Line g : greenBox) {\n        if (distance(r,g) &lt;= 1 &amp;&amp; rangeOfOverlap(r,g) &gt; 0) {\n            // both lines matches and can be merged over the range of overlaps\n            merge(r,g);\n        }\n    }\n}\n</code></pre>\n<p>This is just an example to inspire you. You'll need to check if the picked green and red line are both horizontal or both vertical.</p>\n<p>The complexity of the algorhythm would be around at m^n (without merging) where n is the number of green lines and m is the number of red lines.</p>\n<p>lol</p>\n"}],"owner":{"account_id":16044495,"reputation":23,"user_id":11580043,"display_name":"Laeven"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658275938,"creation_date":1658252002,"question_id":73041275,"body_markdown":"I have a 2D polygon that only has lines that are perfectly horizontal or perfectly verticle. There are 2 other posts relating to this. However, one is merging multiple rectangles at once into a polygon, and the other is written in javascript.\r\n\r\nI would like to take a rectangle of any size and add it to an existing 2D Polygon. Some examples are below.\r\n\r\n[![Before and After of rect merging into polygon][1]][1]\r\n\r\nIn the diagram, each box represents 1 pixel. The navy boxes are the points that data exists for and the red and green boxes show how these points are connected. The points of both the red polygon and the green rectangle are held in a linked list (the order of points is what determines what point connects to what). Red and Green boxes don&#39;t exist in memory, they&#39;re used here only to show connections.\r\n\r\nA point is defined as having an x and y coordinate.\r\n\r\nHow would I go about merging the green rectangle into the red polygon?\r\nI really appreciate any help given thanks!\r\n\r\nEdit: Here is some code that draws these shapes:\r\n\r\n    public class Core\r\n    {\r\n        private static Polygon polygon = new Polygon();\r\n        private static Rectangle rect = new Rectangle();\r\n        \r\n        \r\n        public static void main(String args[])\r\n        {\r\n            new Core();\r\n        }\r\n        \r\n        public Core()\r\n        {\r\n            polygon = new Polygon(new int[] {0,12,12,24,24,32,32,12,12,5,5,0},new int[] {0,0,4,4,-3,-3,13,13,15,15,8,8},12);\r\n            rect = new Rectangle(18,14,7,6);\r\n            \r\n            Draw2D drawing = new Draw2D();\r\n            drawing.setVisible(true);\r\n        }\r\n        \r\n        public class Draw2D extends JFrame\r\n        {\r\n            private static final long serialVersionUID = -1033542824627245527L;\r\n     \r\n            public Draw2D()\r\n            {\r\n                setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n                setLayout(new BorderLayout());\r\n                add(new DrawPane(), BorderLayout.CENTER);\r\n                pack();\r\n            }\r\n        }\r\n        \r\n        class DrawPane extends JComponent\r\n        {\r\n            private static final long serialVersionUID = 5457330297413941626L;\r\n     \r\n            public DrawPane() {\r\n                setPreferredSize(new Dimension(1280,720));\r\n            }\r\n     \r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2 = (Graphics2D) g;\r\n                g2.setBackground(Color.black);\r\n                g2.clearRect(0,0,1280,720);\r\n                g2.translate(getWidth() / 2, getHeight() / 2);\r\n                g2.setColor(Color.white);\r\n                g2.setStroke(new BasicStroke(0.001f));\r\n                \r\n                g2.draw(polygon);\r\n                g2.draw(rect);\r\n            }\r\n        }\r\n    }\r\n\r\nEdit 2:\r\n\r\nA partial solution that I have is to inflate the rectangle by pushing each side out by 1 pixel/box, then checking if the entire side is inside one of the red polygon lines. By inside I mean collinear. A green rectangle side is sitting inside one of the red polygon sides.\r\nIf it does sit inside then leave the points there, if not move them back to where they originally were. Repeat this clockwise until all 4 sides have ha their points moved or not. Duplicate point objects that reference the same point as a point object that already exists will be deleted so that only 1 point object references 1 point.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is only part of a solution as this method doesn&#39;t work when a rectangle is added on the edge of a polygon (shown in the first image, 2nd and 3rd examples from the top down).\r\n\r\n  [1]: https://i.stack.imgur.com/GtYm8.png\r\n  [2]: https://i.stack.imgur.com/7ELht.png","title":"How to merge 2D rectangles into larger polygons [Java]","body":"<p>I have a 2D polygon that only has lines that are perfectly horizontal or perfectly verticle. There are 2 other posts relating to this. However, one is merging multiple rectangles at once into a polygon, and the other is written in javascript.</p>\n<p>I would like to take a rectangle of any size and add it to an existing 2D Polygon. Some examples are below.</p>\n<p><a href=\"https://i.stack.imgur.com/GtYm8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GtYm8.png\" alt=\"Before and After of rect merging into polygon\" /></a></p>\n<p>In the diagram, each box represents 1 pixel. The navy boxes are the points that data exists for and the red and green boxes show how these points are connected. The points of both the red polygon and the green rectangle are held in a linked list (the order of points is what determines what point connects to what). Red and Green boxes don't exist in memory, they're used here only to show connections.</p>\n<p>A point is defined as having an x and y coordinate.</p>\n<p>How would I go about merging the green rectangle into the red polygon?\nI really appreciate any help given thanks!</p>\n<p>Edit: Here is some code that draws these shapes:</p>\n<pre><code>public class Core\n{\n    private static Polygon polygon = new Polygon();\n    private static Rectangle rect = new Rectangle();\n    \n    \n    public static void main(String args[])\n    {\n        new Core();\n    }\n    \n    public Core()\n    {\n        polygon = new Polygon(new int[] {0,12,12,24,24,32,32,12,12,5,5,0},new int[] {0,0,4,4,-3,-3,13,13,15,15,8,8},12);\n        rect = new Rectangle(18,14,7,6);\n        \n        Draw2D drawing = new Draw2D();\n        drawing.setVisible(true);\n    }\n    \n    public class Draw2D extends JFrame\n    {\n        private static final long serialVersionUID = -1033542824627245527L;\n \n        public Draw2D()\n        {\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\n            setLayout(new BorderLayout());\n            add(new DrawPane(), BorderLayout.CENTER);\n            pack();\n        }\n    }\n    \n    class DrawPane extends JComponent\n    {\n        private static final long serialVersionUID = 5457330297413941626L;\n \n        public DrawPane() {\n            setPreferredSize(new Dimension(1280,720));\n        }\n \n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2 = (Graphics2D) g;\n            g2.setBackground(Color.black);\n            g2.clearRect(0,0,1280,720);\n            g2.translate(getWidth() / 2, getHeight() / 2);\n            g2.setColor(Color.white);\n            g2.setStroke(new BasicStroke(0.001f));\n            \n            g2.draw(polygon);\n            g2.draw(rect);\n        }\n    }\n}\n</code></pre>\n<p>Edit 2:</p>\n<p>A partial solution that I have is to inflate the rectangle by pushing each side out by 1 pixel/box, then checking if the entire side is inside one of the red polygon lines. By inside I mean collinear. A green rectangle side is sitting inside one of the red polygon sides.\nIf it does sit inside then leave the points there, if not move them back to where they originally were. Repeat this clockwise until all 4 sides have ha their points moved or not. Duplicate point objects that reference the same point as a point object that already exists will be deleted so that only 1 point object references 1 point.</p>\n<p><a href=\"https://i.stack.imgur.com/7ELht.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7ELht.png\" alt=\"enter image description here\" /></a></p>\n<p>This is only part of a solution as this method doesn't work when a rectangle is added on the edge of a polygon (shown in the first image, 2nd and 3rd examples from the top down).</p>\n"},{"tags":["java","arrays","string","byte","uuid"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1658269495,"post_id":73043980,"comment_id":129008939,"body_markdown":"What is `ByteString`? Not found in standard Java.","body":"What is <code>ByteString</code>? Not found in standard Java."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1658270045,"post_id":73043980,"comment_id":129009030,"body_markdown":"Your question already shows how to convert from String to ByteString? Did you mean the other way around? If so then did you try `byteString.toString()` from the [API](https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/ByteString.html#toString--)? Then just parse it to back to a UUID: `UUID.fromString(yourString);`","body":"Your question already shows how to convert from String to ByteString? Did you mean the other way around? If so then did you try <code>byteString.toString()</code> from the <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/ByteString.html#toString--\" rel=\"nofollow noreferrer\">API</a>? Then just parse it to back to a UUID: <code>UUID.fromString(yourString);</code>"},{"owner":{"account_id":25803802,"reputation":21,"user_id":19545691,"display_name":"Mary Sanderson"},"score":0,"creation_date":1658271254,"post_id":73043980,"comment_id":129009213,"body_markdown":"@sorifiend oops meant the otherway around, thank you!","body":"@sorifiend oops meant the otherway around, thank you!"}],"owner":{"account_id":25803802,"reputation":21,"user_id":19545691,"display_name":"Mary Sanderson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658274974,"creation_date":1658268862,"question_id":73043980,"body_markdown":"To convert a string to a byte string let&#39;s say we do something like this: \r\n\r\n    public static byte[] uuidStrToBytes(@Nonnull String uuidStr) {\r\n        UUID uuid = UUID.fromString(uuidStr.trim());\r\n        return toByteArray(uuid);\r\n    }\r\n\r\n    public static ByteString uuidStrToByteString(@Nonnull String uuidStr) {\r\n        return ByteString.copyFrom(uuidStrToBytes(uuidStr));\r\n    }\r\n\r\nHow would we reverse this though, ie what if we want to convert a Bytestring to uuid? ","title":"Converting from bytestring to uuid str?","body":"<p>To convert a string to a byte string let's say we do something like this:</p>\n<pre><code>public static byte[] uuidStrToBytes(@Nonnull String uuidStr) {\n    UUID uuid = UUID.fromString(uuidStr.trim());\n    return toByteArray(uuid);\n}\n\npublic static ByteString uuidStrToByteString(@Nonnull String uuidStr) {\n    return ByteString.copyFrom(uuidStrToBytes(uuidStr));\n}\n</code></pre>\n<p>How would we reverse this though, ie what if we want to convert a Bytestring to uuid?</p>\n"},{"tags":["java","animation","javafx"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658274377,"creation_date":1658267164,"answer_id":73043801,"question_id":73036432,"body_markdown":"You can use a [TranslateTransition][1], to animate moving the knob for the switch on the track.  \r\n\r\nAlthough unrelated to the animation, this solution also modifies the [original example][2] to use style classes in a stylesheet, an `on` pseudo-class, and an exposed `on` state property for the custom control.  \r\n\r\nThis answer is also based on a combination of ideas from previous questions:\r\n\r\n * https://stackoverflow.com/questions/30593193/creating-sliding-on-off-switch-button-in-javafx#answer-57290206\r\n * https://stackoverflow.com/questions/36094736/change-javafx-style-class-based-on-model-state\r\n\r\nRelated question:\r\n\r\n * https://stackoverflow.com/questions/73043337/one-control-many-click-listeners/73043974#73043974\r\n\r\n**Example Code**\r\n\r\n    import javafx.animation.TranslateTransition;\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.*;\r\n    import javafx.css.PseudoClass;\r\n    import javafx.event.*;\r\n    import javafx.geometry.*;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.shape.*;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class SwitchApp extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            Switch lightSwitch = new Switch();\r\n            lightSwitch.onProperty().addListener((observable, wasOn, nowOn) -&gt; {\r\n                System.out.println(nowOn ? &quot;on&quot; : &quot;off&quot;);\r\n            });\r\n    \r\n            StackPane layout = new StackPane(lightSwitch);\r\n            layout.setPadding(new Insets(30));\r\n    \r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n    \r\n    class Switch extends StackPane {\r\n        private static final double TRACK_WIDTH = 30;\r\n        private static final double TRACK_HEIGHT = 10;\r\n        private static final double KNOB_DIAMETER = 15;\r\n        private static final Duration ANIMATION_DURATION = Duration.seconds(0.25);\r\n    \r\n        public static final String CSS = &quot;data:text/css,&quot; + // language=CSS\r\n                &quot;&quot;&quot;\r\n                .switch &gt; .track {\r\n                    -fx-fill: #ced5da;\r\n                }\r\n                .switch &gt; .knob  {\r\n                    -fx-effect: dropshadow(\r\n                        three-pass-box,\r\n                        rgba(0,0,0,0.2),\r\n                        0.2, 0.0, 0.0, 2\r\n                    ); \r\n                    -fx-background-color: WHITE; \r\n                }\r\n                \r\n                .switch:on &gt; .track {\r\n                    -fx-fill: #80C49E;\r\n                }\r\n                .switch:on &gt; .knob { \r\n                    -fx-background-color: #00893d;\r\n                }\r\n                &quot;&quot;&quot;;\r\n    \r\n        private final TranslateTransition onTransition;\r\n        private final TranslateTransition offTransition;\r\n    \r\n        public Switch() {\r\n            // construct switch UI\r\n            getStylesheets().add(CSS);\r\n            getStyleClass().add(&quot;switch&quot;);\r\n    \r\n            Rectangle track = new Rectangle(TRACK_WIDTH, TRACK_HEIGHT);\r\n            track.getStyleClass().add(&quot;track&quot;);\r\n            track.setArcHeight(track.getHeight());\r\n            track.setArcWidth(track.getHeight());\r\n    \r\n            Button knob = new Button();\r\n            knob.getStyleClass().add(&quot;knob&quot;);\r\n            knob.setShape(new Circle(KNOB_DIAMETER / 2));\r\n            knob.setMaxSize(KNOB_DIAMETER, KNOB_DIAMETER);\r\n            knob.setMinSize(KNOB_DIAMETER, KNOB_DIAMETER);\r\n            knob.setFocusTraversable(false);\r\n            setAlignment(knob, Pos.CENTER_LEFT);\r\n    \r\n            getChildren().addAll(track, knob);\r\n            setMinSize(TRACK_WIDTH, KNOB_DIAMETER);\r\n    \r\n            // define animations\r\n            onTransition = new TranslateTransition(ANIMATION_DURATION, knob);\r\n            onTransition.setFromX(0);\r\n            onTransition.setToX(TRACK_WIDTH - KNOB_DIAMETER);\r\n    \r\n            offTransition = new TranslateTransition(ANIMATION_DURATION, knob);\r\n            offTransition.setFromX(TRACK_WIDTH - KNOB_DIAMETER);\r\n            offTransition.setToX(0);\r\n    \r\n            // add event handling\r\n            EventHandler&lt;Event&gt; click = e -&gt; setOn(!isOn());\r\n            setOnMouseClicked(click);\r\n            knob.setOnMouseClicked(click);\r\n    \r\n            onProperty().addListener((observable, wasOn, nowOn) -&gt; updateState(nowOn));\r\n            updateState(isOn());\r\n        }\r\n    \r\n        private void updateState(Boolean nowOn) {\r\n            onTransition.stop();\r\n            offTransition.stop();\r\n    \r\n            if (nowOn != null &amp;&amp; nowOn) {\r\n                onTransition.play();\r\n            } else {\r\n                offTransition.play();\r\n            }\r\n        }\r\n    \r\n        public void setOn(boolean on) {\r\n            this.on.set(on);\r\n        }\r\n    \r\n        public boolean isOn() {\r\n            return on.get();\r\n        }\r\n    \r\n        public BooleanProperty onProperty() {\r\n            return on;\r\n        }\r\n    \r\n        public BooleanProperty on =\r\n                new BooleanPropertyBase(false) {\r\n                    @Override protected void invalidated() {\r\n                        pseudoClassStateChanged(ON_PSEUDO_CLASS, get());\r\n                    }\r\n    \r\n                    @Override public Object getBean() {\r\n                        return Switch.this;\r\n                    }\r\n    \r\n                    @Override public String getName() {\r\n                        return &quot;on&quot;;\r\n                    }\r\n                };\r\n    \r\n        private static final PseudoClass\r\n                ON_PSEUDO_CLASS = PseudoClass.getPseudoClass(&quot;on&quot;);\r\n    }\r\n\r\n**Suggested Further Improvements**\r\n\r\nThere are some other enhancements that could be made to the control which are unrelated to the original question but would improve the quality and reusability of the control.  Many applications won&#39;t need these enhancements, plus the enhancements can add additional complexity to the implementation which is unnecessary for these applications.\r\n\r\nControl sizes are still hardcoded in this solution, but if preferred, you could modify the control to use a system based on `em` sizes (similar to the standard JavaFX controls).  \r\n\r\nAlso, not provided in this solution, you could make use of JavaFX CSS looked up and derived colors to have the control match the color scheme defined for the default Java `modena.css` stylesheet, so that setting, for instance, the `-fx-base` color for the application to a different value will change the color scheme for this control as it does with the standard controls.\r\n\r\nThe in-built controls use a [Skin][3] abstraction to separate the public API from the internal implementation of the UI for the control so that users can assign custom skins to completely change the control&#39;s UI.  Conceptually in operation, this switch is actually a kind of toggle button, so instead of having a custom control, it could be implemented as a custom skin that can be applied to the existing ToggleButton control.  Or, less preferable, because it is more redundant, you could take the Switch implementation here and split it into a Switch class extending Control for the public API and a SwitchSkin class extending Skin for the UI and behavior implementation.\r\n\r\n**Alternative implementation**\r\n\r\nBefore adopting either the other solutions linked in this answer or the solution in this answer, for a fairly common control like a switch, consider whether you would be better off using an off-the-shelf control either from the JavaFX framework core controls or a third-party library.   Often those library-based controls will be of higher quality than something you create yourself or find in forum and Q&amp;A posts.  \r\n\r\nFor this particular animated switch control, the [MaterialFX][4] library has a [particularly nice implementation][5], powered by additional bling :-)\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/animation/TranslateTransition.html\r\n  [2]: https://stackoverflow.com/questions/30593193/creating-sliding-on-off-switch-button-in-javafx#answer-57290206\r\n  [3]: https://openjfx.io/javadoc/18/javafx.controls/javafx/scene/control/Skin.html\r\n  [4]: https://github.com/palexdev/MaterialFX#documentation\r\n  [5]: https://camo.githubusercontent.com/77ad469b3d74a12add42ac154f864cae42f1af4074af9350263c06abd5080a3a/68747470733a2f2f696d6775722e636f6d2f417255684835382e676966","title":"Animate custom switch button","body":"<p>You can use a <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/animation/TranslateTransition.html\" rel=\"nofollow noreferrer\">TranslateTransition</a>, to animate moving the knob for the switch on the track.</p>\n<p>Although unrelated to the animation, this solution also modifies the <a href=\"https://stackoverflow.com/questions/30593193/creating-sliding-on-off-switch-button-in-javafx#answer-57290206\">original example</a> to use style classes in a stylesheet, an <code>on</code> pseudo-class, and an exposed <code>on</code> state property for the custom control.</p>\n<p>This answer is also based on a combination of ideas from previous questions:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/30593193/creating-sliding-on-off-switch-button-in-javafx#answer-57290206\">Creating sliding on/off Switch button in javaFX</a></li>\n<li><a href=\"https://stackoverflow.com/questions/36094736/change-javafx-style-class-based-on-model-state\">Change JavaFX style class based on model state</a></li>\n</ul>\n<p>Related question:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/73043337/one-control-many-click-listeners/73043974#73043974\">One control many click listeners</a></li>\n</ul>\n<p><strong>Example Code</strong></p>\n<pre><code>import javafx.animation.TranslateTransition;\nimport javafx.application.Application;\nimport javafx.beans.property.*;\nimport javafx.css.PseudoClass;\nimport javafx.event.*;\nimport javafx.geometry.*;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.shape.*;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class SwitchApp extends Application {\n    @Override\n    public void start(Stage stage) {\n        Switch lightSwitch = new Switch();\n        lightSwitch.onProperty().addListener((observable, wasOn, nowOn) -&gt; {\n            System.out.println(nowOn ? &quot;on&quot; : &quot;off&quot;);\n        });\n\n        StackPane layout = new StackPane(lightSwitch);\n        layout.setPadding(new Insets(30));\n\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\nclass Switch extends StackPane {\n    private static final double TRACK_WIDTH = 30;\n    private static final double TRACK_HEIGHT = 10;\n    private static final double KNOB_DIAMETER = 15;\n    private static final Duration ANIMATION_DURATION = Duration.seconds(0.25);\n\n    public static final String CSS = &quot;data:text/css,&quot; + // language=CSS\n            &quot;&quot;&quot;\n            .switch &gt; .track {\n                -fx-fill: #ced5da;\n            }\n            .switch &gt; .knob  {\n                -fx-effect: dropshadow(\n                    three-pass-box,\n                    rgba(0,0,0,0.2),\n                    0.2, 0.0, 0.0, 2\n                ); \n                -fx-background-color: WHITE; \n            }\n            \n            .switch:on &gt; .track {\n                -fx-fill: #80C49E;\n            }\n            .switch:on &gt; .knob { \n                -fx-background-color: #00893d;\n            }\n            &quot;&quot;&quot;;\n\n    private final TranslateTransition onTransition;\n    private final TranslateTransition offTransition;\n\n    public Switch() {\n        // construct switch UI\n        getStylesheets().add(CSS);\n        getStyleClass().add(&quot;switch&quot;);\n\n        Rectangle track = new Rectangle(TRACK_WIDTH, TRACK_HEIGHT);\n        track.getStyleClass().add(&quot;track&quot;);\n        track.setArcHeight(track.getHeight());\n        track.setArcWidth(track.getHeight());\n\n        Button knob = new Button();\n        knob.getStyleClass().add(&quot;knob&quot;);\n        knob.setShape(new Circle(KNOB_DIAMETER / 2));\n        knob.setMaxSize(KNOB_DIAMETER, KNOB_DIAMETER);\n        knob.setMinSize(KNOB_DIAMETER, KNOB_DIAMETER);\n        knob.setFocusTraversable(false);\n        setAlignment(knob, Pos.CENTER_LEFT);\n\n        getChildren().addAll(track, knob);\n        setMinSize(TRACK_WIDTH, KNOB_DIAMETER);\n\n        // define animations\n        onTransition = new TranslateTransition(ANIMATION_DURATION, knob);\n        onTransition.setFromX(0);\n        onTransition.setToX(TRACK_WIDTH - KNOB_DIAMETER);\n\n        offTransition = new TranslateTransition(ANIMATION_DURATION, knob);\n        offTransition.setFromX(TRACK_WIDTH - KNOB_DIAMETER);\n        offTransition.setToX(0);\n\n        // add event handling\n        EventHandler&lt;Event&gt; click = e -&gt; setOn(!isOn());\n        setOnMouseClicked(click);\n        knob.setOnMouseClicked(click);\n\n        onProperty().addListener((observable, wasOn, nowOn) -&gt; updateState(nowOn));\n        updateState(isOn());\n    }\n\n    private void updateState(Boolean nowOn) {\n        onTransition.stop();\n        offTransition.stop();\n\n        if (nowOn != null &amp;&amp; nowOn) {\n            onTransition.play();\n        } else {\n            offTransition.play();\n        }\n    }\n\n    public void setOn(boolean on) {\n        this.on.set(on);\n    }\n\n    public boolean isOn() {\n        return on.get();\n    }\n\n    public BooleanProperty onProperty() {\n        return on;\n    }\n\n    public BooleanProperty on =\n            new BooleanPropertyBase(false) {\n                @Override protected void invalidated() {\n                    pseudoClassStateChanged(ON_PSEUDO_CLASS, get());\n                }\n\n                @Override public Object getBean() {\n                    return Switch.this;\n                }\n\n                @Override public String getName() {\n                    return &quot;on&quot;;\n                }\n            };\n\n    private static final PseudoClass\n            ON_PSEUDO_CLASS = PseudoClass.getPseudoClass(&quot;on&quot;);\n}\n</code></pre>\n<p><strong>Suggested Further Improvements</strong></p>\n<p>There are some other enhancements that could be made to the control which are unrelated to the original question but would improve the quality and reusability of the control.  Many applications won't need these enhancements, plus the enhancements can add additional complexity to the implementation which is unnecessary for these applications.</p>\n<p>Control sizes are still hardcoded in this solution, but if preferred, you could modify the control to use a system based on <code>em</code> sizes (similar to the standard JavaFX controls).</p>\n<p>Also, not provided in this solution, you could make use of JavaFX CSS looked up and derived colors to have the control match the color scheme defined for the default Java <code>modena.css</code> stylesheet, so that setting, for instance, the <code>-fx-base</code> color for the application to a different value will change the color scheme for this control as it does with the standard controls.</p>\n<p>The in-built controls use a <a href=\"https://openjfx.io/javadoc/18/javafx.controls/javafx/scene/control/Skin.html\" rel=\"nofollow noreferrer\">Skin</a> abstraction to separate the public API from the internal implementation of the UI for the control so that users can assign custom skins to completely change the control's UI.  Conceptually in operation, this switch is actually a kind of toggle button, so instead of having a custom control, it could be implemented as a custom skin that can be applied to the existing ToggleButton control.  Or, less preferable, because it is more redundant, you could take the Switch implementation here and split it into a Switch class extending Control for the public API and a SwitchSkin class extending Skin for the UI and behavior implementation.</p>\n<p><strong>Alternative implementation</strong></p>\n<p>Before adopting either the other solutions linked in this answer or the solution in this answer, for a fairly common control like a switch, consider whether you would be better off using an off-the-shelf control either from the JavaFX framework core controls or a third-party library.   Often those library-based controls will be of higher quality than something you create yourself or find in forum and Q&amp;A posts.</p>\n<p>For this particular animated switch control, the <a href=\"https://github.com/palexdev/MaterialFX#documentation\" rel=\"nofollow noreferrer\">MaterialFX</a> library has a <a href=\"https://camo.githubusercontent.com/77ad469b3d74a12add42ac154f864cae42f1af4074af9350263c06abd5080a3a/68747470733a2f2f696d6775722e636f6d2f417255684835382e676966\" rel=\"nofollow noreferrer\">particularly nice implementation</a>, powered by additional bling :-)</p>\n"}],"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73043801,"answer_count":1,"score":0,"last_activity_date":1658274377,"creation_date":1658231707,"question_id":73036432,"body_markdown":"I used the custom **switch button** in the [custom SwitchButton][1] answer. Now I would like to **animate** the **circle** part when the user **toggles** between the 2 values (state). I used **KeyValue** and **KeyFrame** in order to do so. \r\n\r\nThe snippet of the animation that I added to the SwitchButton() method :\r\n\r\n    KeyValue start = new KeyValue(button.alignmentProperty(), Pos.CENTER_RIGHT);\r\n    KeyValue end = new KeyValue(button.alignmentProperty(), Pos.CENTER_LEFT);\r\n    \r\n    KeyFrame frame = new KeyFrame(Duration.seconds(4), start, end);\r\n    Timeline timeline = new Timeline(frame);\r\n    timeline.play();\r\n\r\nHow can I make the animation?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30593193/creating-sliding-on-off-switch-button-in-javafx#answer-57290206","title":"Animate custom switch button","body":"<p>I used the custom <strong>switch button</strong> in the <a href=\"https://stackoverflow.com/questions/30593193/creating-sliding-on-off-switch-button-in-javafx#answer-57290206\">custom SwitchButton</a> answer. Now I would like to <strong>animate</strong> the <strong>circle</strong> part when the user <strong>toggles</strong> between the 2 values (state). I used <strong>KeyValue</strong> and <strong>KeyFrame</strong> in order to do so.</p>\n<p>The snippet of the animation that I added to the SwitchButton() method :</p>\n<pre><code>KeyValue start = new KeyValue(button.alignmentProperty(), Pos.CENTER_RIGHT);\nKeyValue end = new KeyValue(button.alignmentProperty(), Pos.CENTER_LEFT);\n\nKeyFrame frame = new KeyFrame(Duration.seconds(4), start, end);\nTimeline timeline = new Timeline(frame);\ntimeline.play();\n</code></pre>\n<p>How can I make the animation?</p>\n"},{"tags":["java","android","maven","android-studio"],"comments":[{"owner":{"account_id":12978690,"reputation":4741,"user_id":9381897,"display_name":"leopal"},"score":0,"creation_date":1590651857,"post_id":62059165,"comment_id":109761186,"body_markdown":"Why did you place the files manually? Maven will do it for you. It would be helpful to share  related parts of `pom.xml`/ `settings.xml` if present. Also android studio by default uses gradle as build tool. The exception you have shared comes from gradle, are you sure you are using Maven?","body":"Why did you place the files manually? Maven will do it for you. It would be helpful to share  related parts of <code>pom.xml</code>/ <code>settings.xml</code> if present. Also android studio by default uses gradle as build tool. The exception you have shared comes from gradle, are you sure you are using Maven?"},{"owner":{"account_id":13133263,"reputation":523,"user_id":9487152,"display_name":"zedlabs"},"score":0,"creation_date":1590652001,"post_id":62059165,"comment_id":109761255,"body_markdown":"I dont have much experience with maven, my company shared with me a sdk folder and in the install steps they said to place it in the .m2 folder, I didnt have a .m2 folder, so I installed maven and placed it there.","body":"I dont have much experience with maven, my company shared with me a sdk folder and in the install steps they said to place it in the .m2 folder, I didnt have a .m2 folder, so I installed maven and placed it there."},{"owner":{"account_id":13133263,"reputation":523,"user_id":9487152,"display_name":"zedlabs"},"score":0,"creation_date":1590652109,"post_id":62059165,"comment_id":109761316,"body_markdown":"the structure of that folder is sdk -&gt; 0.0.1 -&gt;.pom, .jar, .aar files here.","body":"the structure of that folder is sdk -&gt; 0.0.1 -&gt;.pom, .jar, .aar files here."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1590671365,"post_id":62059165,"comment_id":109771973,"body_markdown":"A dependency with coordinates `com.redcpt:sdk:0.0.1` should exist in `.m2/repository/com/redcpt/sdk/0.0.1/`","body":"A dependency with coordinates <code>com.redcpt:sdk:0.0.1</code> should exist in <code>.m2&#47;repository&#47;com&#47;redcpt&#47;sdk&#47;0.0.1&#47;</code>"},{"owner":{"account_id":13133263,"reputation":523,"user_id":9487152,"display_name":"zedlabs"},"score":0,"creation_date":1590672502,"post_id":62059165,"comment_id":109772659,"body_markdown":"@MarkRotteveel thank you very much, I feel so stupid for wasting 2 days due to this, please post this as an answer so that I can accept it.","body":"@MarkRotteveel thank you very much, I feel so stupid for wasting 2 days due to this, please post this as an answer so that I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1590672910,"creation_date":1590672910,"answer_id":62066044,"question_id":62059165,"body_markdown":"In the comments you mention _&quot;the structure of that folder is sdk -&gt; 0.0.1 -&gt;.pom, .jar, .aar files here.&quot;_. That is the wrong location. A Maven dependency with coordinates `com.redcpt:sdk:0.0.1` should be saved in `.m2/repository/com/redcpt/sdk/0.0.1/`.\r\n\r\nIt might be simpler to use Maven to install files into your local repository, see also https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project (although I don&#39;t know what needs to be done to store the `.aar` file that way).","title":"android studio unable to find local maven repository","body":"<p>In the comments you mention <em>\"the structure of that folder is sdk -> 0.0.1 ->.pom, .jar, .aar files here.\"</em>. That is the wrong location. A Maven dependency with coordinates <code>com.redcpt:sdk:0.0.1</code> should be saved in <code>.m2/repository/com/redcpt/sdk/0.0.1/</code>.</p>\n\n<p>It might be simpler to use Maven to install files into your local repository, see also <a href=\"https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project\">How to add local jar files to a Maven project?</a> (although I don't know what needs to be done to store the <code>.aar</code> file that way).</p>\n"},{"tags":[],"owner":{"account_id":25769132,"reputation":11,"user_id":19518296,"display_name":"Eeshvar Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658273878,"creation_date":1658273878,"answer_id":73044517,"question_id":62059165,"body_markdown":"Android Studio automatically places the Maven repositories in the correct location when you download them from Maven. There&#39;s no reason to go into any local maven folders.\r\n\r\nStart a new project from scratch while connected online and see if that helps. You will be given updated options on dependencies sourced from Maven.","title":"android studio unable to find local maven repository","body":"<p>Android Studio automatically places the Maven repositories in the correct location when you download them from Maven. There's no reason to go into any local maven folders.</p>\n<p>Start a new project from scratch while connected online and see if that helps. You will be given updated options on dependencies sourced from Maven.</p>\n"}],"owner":{"account_id":13133263,"reputation":523,"user_id":9487152,"display_name":"zedlabs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2510,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62066044,"answer_count":2,"score":1,"last_activity_date":1658273878,"creation_date":1590650721,"question_id":62059165,"body_markdown":"I placed the files of the repository in the .m2 folder but android studio is unable to resolve it\r\n\r\n    Caused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find com.redcpt:sdk:0.0.1\r\n\r\ndoes anyone know what might be the issue","title":"android studio unable to find local maven repository","body":"<p>I placed the files of the repository in the .m2 folder but android studio is unable to resolve it</p>\n\n<pre><code>Caused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find com.redcpt:sdk:0.0.1\n</code></pre>\n\n<p>does anyone know what might be the issue</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1658226532,"post_id":73034345,"comment_id":128993534,"body_markdown":"The private *variable* got populated here: `apiConfigMap = new HashMap&lt;&gt;()`. The *object* to which it *refers* got populated by any code that succeeded in getting a reference to it.","body":"The private <i>variable</i> got populated here: <code>apiConfigMap = new HashMap&lt;&gt;()</code>. The <i>object</i> to which it <i>refers</i> got populated by any code that succeeded in getting a reference to it."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1658226736,"post_id":73034345,"comment_id":128993601,"body_markdown":"You may need to include the whole class - there may be something happening that you think is irrelevant that isn&#39;t.  A few things to consider:  1. the Map may be perturbed outside of this class if you pass a reference to this Map to another class; 2. consider making the Map reference final to prevent unexpected replacement; 3. create a conditional breakpoint on apiConfigMap.put(..).","body":"You may need to include the whole class - there may be something happening that you think is irrelevant that isn&#39;t.  A few things to consider:  1. the Map may be perturbed outside of this class if you pass a reference to this Map to another class; 2. consider making the Map reference final to prevent unexpected replacement; 3. create a conditional breakpoint on apiConfigMap.put(..)."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1658227693,"post_id":73034345,"comment_id":128993934,"body_markdown":"Instance variables load with their default values if nothing is assigned or load with the assigned value once an object is created to the class which encapsulates them. So `apiConfigMap = new HashMap&lt;&gt;();` will already create an object of `HashMap` once the `getResponse` method is called. The thing I don&#39;t understand is `length=19`, the map has a default initial capacity of 16.","body":"Instance variables load with their default values if nothing is assigned or load with the assigned value once an object is created to the class which encapsulates them. So <code>apiConfigMap = new HashMap&lt;&gt;();</code> will already create an object of <code>HashMap</code> once the <code>getResponse</code> method is called. The thing I don&#39;t understand is <code>length=19</code>, the map has a default initial capacity of 16."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1658278766,"post_id":73034345,"comment_id":129010367,"body_markdown":"`HashMap`s don&#39;t have lengths, they have sizes. So what exactly do you mean by `length=19`?","body":"<code>HashMap</code>s don&#39;t have lengths, they have sizes. So what exactly do you mean by <code>length=19</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658223338,"creation_date":1658223338,"answer_id":73034573,"question_id":73034345,"body_markdown":"Note that your use of `HashMap` is prone to concurrency issues since it is not thread safe.\r\n\r\nReplace the initialization of `apiConfigMap` with a custom map implementation (possibly by deriving from `HashMap`). Create a conditional breakpoint in all of the map methods where your custom map implementation modifies it&#39;s state and check in the condition that the instance affected is one of your custom map implementation.\r\n\r\nThen run your application with a debugger attached and check where the debugger hits the breakpoints. Using conditional breakpoints may slow down your application. So this may take longer than usual for your application to reach a point where it started up or does something.","title":"Java: how do I find out how private variable got populated with values?","body":"<p>Note that your use of <code>HashMap</code> is prone to concurrency issues since it is not thread safe.</p>\n<p>Replace the initialization of <code>apiConfigMap</code> with a custom map implementation (possibly by deriving from <code>HashMap</code>). Create a conditional breakpoint in all of the map methods where your custom map implementation modifies it's state and check in the condition that the instance affected is one of your custom map implementation.</p>\n<p>Then run your application with a debugger attached and check where the debugger hits the breakpoints. Using conditional breakpoints may slow down your application. So this may take longer than usual for your application to reach a point where it started up or does something.</p>\n"}],"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658273562,"creation_date":1658222347,"question_id":73034345,"body_markdown":"TLDR: servlet calls getResponse and I&#39;m trying to find out where a variable got its values.\r\n\r\n------\r\n\r\nso I have the piece of code below:\r\n\r\n    protected final Logger logger = LoggerFactory.getLogger(getClass());\r\n\r\n\tprivate Map&lt;String, ApiEndpoint&gt; apiConfigMap = new HashMap&lt;&gt;();\r\n\t\r\n\t@Override\r\n\tpublic void addConfig(String configKey, ApiEndpoint apiEndpoint) {\r\n\t\tif(apiEndpoint != null) apiConfigMap.put(configKey, apiEndpoint);\r\n\t\tlogger.info(&quot;ApiConfigurationImpl: updated apiConfigMap:{}&quot;,apiConfigMap);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void getResponse(String param1, String param2) throws IOException {\r\n        logger.info(&quot;im inside getResponse);\r\n    \r\n\t\t//do stuff here\r\n\t}\r\n\r\nmy servlet function is calling getResponse and by the time I get to  logger.info inside getResponse, the variable &quot;apiConfigMap&quot; already has been populated (length=19).\r\n\r\nAny ideas how apiConfigMap could&#39;ve been populated?\r\n\r\n**Things I checked**\r\n\r\n- The code I listed above is the only place in the class where apiConfigMap is assigned a value\r\n- addConfig function is the only place where apiConfigMap.put exists\r\n- I placed a breakpoint to the logger.info inside addConfig function. The execution never stopped there.\r\n- There are other functions in the class that uses its own local HashMap variables. Just to be safe, I placed a breakpoint on the first line of each of these functions. The execution did not stop on these breakpoints as well.\r\n\r\n","title":"Java: how do I find out how private variable got populated with values?","body":"<p>TLDR: servlet calls getResponse and I'm trying to find out where a variable got its values.</p>\n<hr />\n<p>so I have the piece of code below:</p>\n<pre><code>protected final Logger logger = LoggerFactory.getLogger(getClass());\n\nprivate Map&lt;String, ApiEndpoint&gt; apiConfigMap = new HashMap&lt;&gt;();\n\n@Override\npublic void addConfig(String configKey, ApiEndpoint apiEndpoint) {\n    if(apiEndpoint != null) apiConfigMap.put(configKey, apiEndpoint);\n    logger.info(&quot;ApiConfigurationImpl: updated apiConfigMap:{}&quot;,apiConfigMap);\n}\n\n@Override\npublic void getResponse(String param1, String param2) throws IOException {\n    logger.info(&quot;im inside getResponse);\n\n    //do stuff here\n}\n</code></pre>\n<p>my servlet function is calling getResponse and by the time I get to  logger.info inside getResponse, the variable &quot;apiConfigMap&quot; already has been populated (length=19).</p>\n<p>Any ideas how apiConfigMap could've been populated?</p>\n<p><strong>Things I checked</strong></p>\n<ul>\n<li>The code I listed above is the only place in the class where apiConfigMap is assigned a value</li>\n<li>addConfig function is the only place where apiConfigMap.put exists</li>\n<li>I placed a breakpoint to the logger.info inside addConfig function. The execution never stopped there.</li>\n<li>There are other functions in the class that uses its own local HashMap variables. Just to be safe, I placed a breakpoint on the first line of each of these functions. The execution did not stop on these breakpoints as well.</li>\n</ul>\n"},{"tags":["java","android","email","email-attachments"],"answers":[{"tags":[],"owner":{"account_id":11571030,"reputation":1499,"user_id":8477804,"display_name":"NRUSINGHA MOHARANA"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1619241628,"creation_date":1619241218,"answer_id":67239530,"question_id":67239267,"body_markdown":"If your `targetSdkVersion &gt;= 24`, then we have to use `FileProvider` class to give access to the particular file or folder to make them accessible for other apps. \r\n\r\n**Step-1:**\r\n Add below code in `AndroidManifest.xml` file. \r\n\r\n            &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n**Step-2**\r\n\r\nCreate a `xml` folder inside `res` folder. And create a file namely `file_paths.xml` because look at above code inside `&lt;meta-data&gt;`.\r\n\r\nfile_paths.xml\r\n\r\n    &lt;paths&gt;\r\n        &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\r\n    &lt;/paths&gt;\r\n**Step-3**\r\nNow you could save file inside your `package.private` folder and you can share `file uri` saved inside this folder to other app, for example `gmail` app as an `attachment`. Now your method looks like:\r\n\r\n        private void saveData() {\r\n        String filename = &quot;eulerY.txt&quot; ;\r\n        //FileOutputStream fos_FILE_eulerY = null;\r\n        File externalFilesDirectory = this.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS);\r\n        File textFile = new File(externalFilesDirectory,filename);\r\n        String message = &quot;hello&quot;;\r\n        try {\r\n            //fos_FILE_eulerY = openFileOutput(textFile.getAbsolutePath() , MODE_PRIVATE);\r\n            //fos_FILE_eulerY.write(message.getBytes());\r\n            FileWriter writer = new FileWriter(textFile);\r\n            writer.append(message);\r\n            writer.flush();\r\n            writer.close();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (Exception e){\r\n            e.getLocalizedMessage();\r\n        }\r\n\r\n\r\n        // export data\r\n        sendEmail (textFile);\r\n    }\r\n\r\n        private void sendEmail (File file){\r\n        //File filelocation = new File(Environment.getExternalStorageDirectory().getAbsolutePath(), filename);\r\n        //Uri path = Uri.fromFile(filelocation);\r\n        //FileProvider.getUriForFile(it, &quot;${it.packageName}.provider&quot;, file)\r\n        Uri fileUri = FileProvider.getUriForFile(this,getPackageName()+&quot;.provider&quot;,file);\r\n        Intent emailIntent = new Intent(Intent.ACTION_SEND);\r\n        emailIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        // set the type to &#39;email&#39;\r\n        emailIntent .setType(&quot;vnd.android.cursor.dir/email&quot;);\r\n        String[] to = {&quot;asd@gmail.com&quot;};\r\n        emailIntent .putExtra(Intent.EXTRA_EMAIL, to);\r\n        // the attachment\r\n        emailIntent .putExtra(Intent.EXTRA_STREAM, fileUri);\r\n        // the mail subject\r\n        emailIntent .putExtra(Intent.EXTRA_SUBJECT, &quot;Subject&quot;);\r\n        startActivity(Intent.createChooser(emailIntent , &quot;Send email...&quot;));\r\n    }","title":"How to send text file via email as an attachment - Android?","body":"<p>If your <code>targetSdkVersion &gt;= 24</code>, then we have to use <code>FileProvider</code> class to give access to the particular file or folder to make them accessible for other apps.</p>\n<p><strong>Step-1:</strong>\nAdd below code in <code>AndroidManifest.xml</code> file.</p>\n<pre><code>        &lt;provider\n        android:name=&quot;androidx.core.content.FileProvider&quot;\n        android:authorities=&quot;${applicationId}.provider&quot;\n        android:exported=&quot;false&quot;\n        android:grantUriPermissions=&quot;true&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n            android:resource=&quot;@xml/file_paths&quot; /&gt;\n    &lt;/provider&gt;\n</code></pre>\n<p><strong>Step-2</strong></p>\n<p>Create a <code>xml</code> folder inside <code>res</code> folder. And create a file namely <code>file_paths.xml</code> because look at above code inside <code>&lt;meta-data&gt;</code>.</p>\n<p>file_paths.xml</p>\n<pre><code>&lt;paths&gt;\n    &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\n&lt;/paths&gt;\n</code></pre>\n<p><strong>Step-3</strong>\nNow you could save file inside your <code>package.private</code> folder and you can share <code>file uri</code> saved inside this folder to other app, for example <code>gmail</code> app as an <code>attachment</code>. Now your method looks like:</p>\n<pre><code>    private void saveData() {\n    String filename = &quot;eulerY.txt&quot; ;\n    //FileOutputStream fos_FILE_eulerY = null;\n    File externalFilesDirectory = this.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS);\n    File textFile = new File(externalFilesDirectory,filename);\n    String message = &quot;hello&quot;;\n    try {\n        //fos_FILE_eulerY = openFileOutput(textFile.getAbsolutePath() , MODE_PRIVATE);\n        //fos_FILE_eulerY.write(message.getBytes());\n        FileWriter writer = new FileWriter(textFile);\n        writer.append(message);\n        writer.flush();\n        writer.close();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (Exception e){\n        e.getLocalizedMessage();\n    }\n\n\n    // export data\n    sendEmail (textFile);\n}\n\n    private void sendEmail (File file){\n    //File filelocation = new File(Environment.getExternalStorageDirectory().getAbsolutePath(), filename);\n    //Uri path = Uri.fromFile(filelocation);\n    //FileProvider.getUriForFile(it, &quot;${it.packageName}.provider&quot;, file)\n    Uri fileUri = FileProvider.getUriForFile(this,getPackageName()+&quot;.provider&quot;,file);\n    Intent emailIntent = new Intent(Intent.ACTION_SEND);\n    emailIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    // set the type to 'email'\n    emailIntent .setType(&quot;vnd.android.cursor.dir/email&quot;);\n    String[] to = {&quot;asd@gmail.com&quot;};\n    emailIntent .putExtra(Intent.EXTRA_EMAIL, to);\n    // the attachment\n    emailIntent .putExtra(Intent.EXTRA_STREAM, fileUri);\n    // the mail subject\n    emailIntent .putExtra(Intent.EXTRA_SUBJECT, &quot;Subject&quot;);\n    startActivity(Intent.createChooser(emailIntent , &quot;Send email...&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":20587721,"reputation":368,"user_id":15112182,"display_name":"constantlyFlagged"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2225,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67239530,"answer_count":1,"score":3,"last_activity_date":1658273169,"creation_date":1619237592,"question_id":67239267,"body_markdown":"I have looked at many codes online but all of them seem to run into a problem. \r\n\r\nFile is created and saved using the below function:\r\n```\r\n    private static String filename = &quot;eulerY.txt&quot; ;\r\n\r\n    private void saveData() {\r\n\r\n      \r\n\r\n        FileOutputStream fos_FILE_eulerY = null;\r\n\r\n        String message = &quot;hello&quot;;\r\n        try {\r\n            fos_FILE_eulerY = openFileOutput(filename , MODE_PRIVATE);\r\n            fos_FILE_eulerY.write(message.getBytes());\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (fos_FILE_eulerY != null) {\r\n                try {\r\n                    fos_FILE_eulerY.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        // export data\r\n        sendEmail ();\r\n    }\r\n```\r\n\r\nHowever, when running the below code to send the file, I keep running into the problem ``` ClipData.Item.getUri```\r\nAnd as suggested using all the answer from this link &quot;https://stackoverflow.com/questions/48117511/exposed-beyond-app-through-clipdata-item-geturi&quot;, when opening Gmail, it says &quot;unable to attach file&quot;\r\n``` \r\n    private void sendEmail (){\r\n        File filelocation = new File(Environment.getExternalStorageDirectory().getAbsolutePath(), filename);\r\n        Uri path = Uri.fromFile(filelocation);\r\n        Intent emailIntent = new Intent(Intent.ACTION_SEND);\r\n       // set the type to &#39;email&#39;\r\n        emailIntent .setType(&quot;vnd.android.cursor.dir/email&quot;);\r\n        String to[] = {&quot;asd@gmail.com&quot;};\r\n        emailIntent .putExtra(Intent.EXTRA_EMAIL, to);\r\n      // the attachment\r\n        emailIntent .putExtra(Intent.EXTRA_STREAM, path);\r\n      // the mail subject\r\n        emailIntent .putExtra(Intent.EXTRA_SUBJECT, &quot;Subject&quot;);\r\n        startActivity(Intent.createChooser(emailIntent , &quot;Send email...&quot;));\r\n    }\r\n\r\n\r\n```\r\n\r\nI would appreciate it if there is any way to send this file. \r\n","title":"How to send text file via email as an attachment - Android?","body":"<p>I have looked at many codes online but all of them seem to run into a problem.</p>\n<p>File is created and saved using the below function:</p>\n<pre><code>    private static String filename = &quot;eulerY.txt&quot; ;\n\n    private void saveData() {\n\n      \n\n        FileOutputStream fos_FILE_eulerY = null;\n\n        String message = &quot;hello&quot;;\n        try {\n            fos_FILE_eulerY = openFileOutput(filename , MODE_PRIVATE);\n            fos_FILE_eulerY.write(message.getBytes());\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (fos_FILE_eulerY != null) {\n                try {\n                    fos_FILE_eulerY.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n\n        // export data\n        sendEmail ();\n    }\n</code></pre>\n<p>However, when running the below code to send the file, I keep running into the problem <code> ClipData.Item.getUri</code>\nAnd as suggested using all the answer from this link &quot;https://stackoverflow.com/questions/48117511/exposed-beyond-app-through-clipdata-item-geturi&quot;, when opening Gmail, it says &quot;unable to attach file&quot;</p>\n<pre><code>    private void sendEmail (){\n        File filelocation = new File(Environment.getExternalStorageDirectory().getAbsolutePath(), filename);\n        Uri path = Uri.fromFile(filelocation);\n        Intent emailIntent = new Intent(Intent.ACTION_SEND);\n       // set the type to 'email'\n        emailIntent .setType(&quot;vnd.android.cursor.dir/email&quot;);\n        String to[] = {&quot;asd@gmail.com&quot;};\n        emailIntent .putExtra(Intent.EXTRA_EMAIL, to);\n      // the attachment\n        emailIntent .putExtra(Intent.EXTRA_STREAM, path);\n      // the mail subject\n        emailIntent .putExtra(Intent.EXTRA_SUBJECT, &quot;Subject&quot;);\n        startActivity(Intent.createChooser(emailIntent , &quot;Send email...&quot;));\n    }\n\n\n</code></pre>\n<p>I would appreciate it if there is any way to send this file.</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1658265047,"post_id":73043337,"comment_id":129007946,"body_markdown":"It&#39;s not really clear what&#39;s going wrong. To update the UI, you should just have to call the needed methods inside the on-click handler. I will say that `setOnMouseClicked` will replace the old handler; if you want multiple on-click handlers then you should use `addEventHandler(MouseEvent.MOUSE_CLICKED, theHandlerInstance)`. If that doesn&#39;t help, then please provide a [mre].","body":"It&#39;s not really clear what&#39;s going wrong. To update the UI, you should just have to call the needed methods inside the on-click handler. I will say that <code>setOnMouseClicked</code> will replace the old handler; if you want multiple on-click handlers then you should use <code>addEventHandler(MouseEvent.MOUSE_CLICKED, theHandlerInstance)</code>. If that doesn&#39;t help, then please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658268262,"creation_date":1658266982,"answer_id":73043777,"question_id":73043337,"body_markdown":"The button from the question you linked to may not be an appropriate starting place.\r\n\r\nIt calls `setOnMouseClicked` to add it&#39;s custom functionality, but the user of it (you in this case) would be expected to also call that to add your own functionality. \r\n\r\nTo make it work as is you could get the current reference and then call that at the start of your own handler. Like:\r\n\r\n    filterSwitchButton = new SwitchButton();\r\n    filterSwitchButton.setId(&quot;filterSwitchButton&quot;);\r\n    HBox.setMargin(filterSwitchButton, new Insets(0, 20, 0, 50));\r\n    EventHandler&lt;MouseEvent&gt; existingEvent = filterSwitchButton.getOnMouseClicked();\r\n    filterSwitchButton.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\r\n        @Override\r\n        public void handle(MouseEvent event) {\r\n            existingEvent.handle(event);\r\n            // update UI\r\n        }\r\n    });\r\n\r\n\r\nEdit:\r\nThis button should work better for you. It uses a more javafxy way of handling it and setting the mouse clicked handler should work closer to what you expect. Probably still not perfect, but it should work right away and you can learn by improving it later. It will also allow you to control the state from code as well as the handler.\r\n\r\n\timport javafx.beans.property.BooleanProperty;\r\n\timport javafx.beans.property.SimpleBooleanProperty;\r\n\timport javafx.geometry.Pos;\r\n\timport javafx.scene.control.Button;\r\n\timport javafx.scene.input.MouseEvent;\r\n\timport javafx.scene.layout.StackPane;\r\n\timport javafx.scene.paint.Color;\r\n\timport javafx.scene.shape.Circle;\r\n\timport javafx.scene.shape.Rectangle;\r\n\r\n\tpublic class SwitchButton extends StackPane {\r\n\t    private final Rectangle back = new Rectangle(30, 10, Color.RED);\r\n\t    private final Button button = new Button();\r\n\t    private final String buttonStyleOff = &quot;-fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 0.2, 0.0, 0.0, 2); -fx-background-color: WHITE;&quot;;\r\n\t    private final String buttonStyleOn = &quot;-fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 0.2, 0.0, 0.0, 2); -fx-background-color: #00893d;&quot;;\r\n\t    private final BooleanProperty state = new SimpleBooleanProperty(false);\r\n\r\n\t    private void init() {\r\n\t\t    getChildren().addAll(back, button);\r\n\t\t    setMinSize(30, 15);\r\n\t\t    back.maxWidth(30);\r\n\t\t    back.minWidth(30);\r\n\t\t    back.maxHeight(10);\r\n\t\t    back.minHeight(10);\r\n\t\t    back.setArcHeight(back.getHeight());\r\n\t\t    back.setArcWidth(back.getHeight());\r\n\t\t    back.setFill(Color.valueOf(&quot;#ced5da&quot;));\r\n\t\t    Double r = 2.0;\r\n\t\t    button.setShape(new Circle(r));\r\n\t\t    setAlignment(button, Pos.CENTER_LEFT);\r\n\t\t    button.setMaxSize(15, 15);\r\n\t\t    button.setMinSize(15, 15);\r\n\t\t    button.setStyle(buttonStyleOff);\r\n\t\t    state.addListener(observable -&gt; {\r\n\t\t        if (state.get()) {\r\n\t\t\t        button.setStyle(buttonStyleOff);\r\n\t\t\t        back.setFill(Color.valueOf(&quot;#ced5da&quot;));\r\n\t\t\t        setAlignment(button, Pos.CENTER_LEFT);\r\n\t\t        } else {\r\n\t\t\t        button.setStyle(buttonStyleOn);\r\n\t\t\t        back.setFill(Color.valueOf(&quot;#80C49E&quot;));\r\n\t\t\t        setAlignment(button, Pos.CENTER_RIGHT);\r\n\t\t        }\r\n\t\t    });\r\n\t\t    button.setFocusTraversable(false);\r\n\t\t    button.addEventHandler(MouseEvent.MOUSE_CLICKED, mouseEvent -&gt;  state.set(!state.get()));\r\n\t\t    button.onMouseClickedProperty().bind(onMouseClickedProperty());\r\n\t    }\r\n\r\n\t    public boolean isState() {\r\n\t\t    return state.get();\r\n\t    }\r\n\r\n\t    public BooleanProperty stateProperty() {\r\n\t\t    return state;\r\n\t    }\r\n\r\n\t    public void setState(boolean state) {\r\n\t\t    this.state.set(state);\r\n\t    }\r\n\r\n\t    public SwitchButton() {\r\n\t\t    init();\r\n\t    }\r\n\t}\r\n","title":"One control many click listeners","body":"<p>The button from the question you linked to may not be an appropriate starting place.</p>\n<p>It calls <code>setOnMouseClicked</code> to add it's custom functionality, but the user of it (you in this case) would be expected to also call that to add your own functionality.</p>\n<p>To make it work as is you could get the current reference and then call that at the start of your own handler. Like:</p>\n<pre><code>filterSwitchButton = new SwitchButton();\nfilterSwitchButton.setId(&quot;filterSwitchButton&quot;);\nHBox.setMargin(filterSwitchButton, new Insets(0, 20, 0, 50));\nEventHandler&lt;MouseEvent&gt; existingEvent = filterSwitchButton.getOnMouseClicked();\nfilterSwitchButton.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\n    @Override\n    public void handle(MouseEvent event) {\n        existingEvent.handle(event);\n        // update UI\n    }\n});\n</code></pre>\n<p>Edit:\nThis button should work better for you. It uses a more javafxy way of handling it and setting the mouse clicked handler should work closer to what you expect. Probably still not perfect, but it should work right away and you can learn by improving it later. It will also allow you to control the state from code as well as the handler.</p>\n<pre><code>import javafx.beans.property.BooleanProperty;\nimport javafx.beans.property.SimpleBooleanProperty;\nimport javafx.geometry.Pos;\nimport javafx.scene.control.Button;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Rectangle;\n\npublic class SwitchButton extends StackPane {\n    private final Rectangle back = new Rectangle(30, 10, Color.RED);\n    private final Button button = new Button();\n    private final String buttonStyleOff = &quot;-fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 0.2, 0.0, 0.0, 2); -fx-background-color: WHITE;&quot;;\n    private final String buttonStyleOn = &quot;-fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 0.2, 0.0, 0.0, 2); -fx-background-color: #00893d;&quot;;\n    private final BooleanProperty state = new SimpleBooleanProperty(false);\n\n    private void init() {\n        getChildren().addAll(back, button);\n        setMinSize(30, 15);\n        back.maxWidth(30);\n        back.minWidth(30);\n        back.maxHeight(10);\n        back.minHeight(10);\n        back.setArcHeight(back.getHeight());\n        back.setArcWidth(back.getHeight());\n        back.setFill(Color.valueOf(&quot;#ced5da&quot;));\n        Double r = 2.0;\n        button.setShape(new Circle(r));\n        setAlignment(button, Pos.CENTER_LEFT);\n        button.setMaxSize(15, 15);\n        button.setMinSize(15, 15);\n        button.setStyle(buttonStyleOff);\n        state.addListener(observable -&gt; {\n            if (state.get()) {\n                button.setStyle(buttonStyleOff);\n                back.setFill(Color.valueOf(&quot;#ced5da&quot;));\n                setAlignment(button, Pos.CENTER_LEFT);\n            } else {\n                button.setStyle(buttonStyleOn);\n                back.setFill(Color.valueOf(&quot;#80C49E&quot;));\n                setAlignment(button, Pos.CENTER_RIGHT);\n            }\n        });\n        button.setFocusTraversable(false);\n        button.addEventHandler(MouseEvent.MOUSE_CLICKED, mouseEvent -&gt;  state.set(!state.get()));\n        button.onMouseClickedProperty().bind(onMouseClickedProperty());\n    }\n\n    public boolean isState() {\n        return state.get();\n    }\n\n    public BooleanProperty stateProperty() {\n        return state;\n    }\n\n    public void setState(boolean state) {\n        this.state.set(state);\n    }\n\n    public SwitchButton() {\n        init();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1658273147,"creation_date":1658268784,"answer_id":73043974,"question_id":73043337,"body_markdown":"This answer to a related earlier question:\r\n\r\n * https://stackoverflow.com/questions/73036432/animate-custom-switch-button\r\n\r\nexposes an `on` property modeling the switch state.\r\n\r\nThe solution is similar to the [updated answer by SephB][1].\r\n\r\nIf the developer wants to do something when the `on` property state changes, they can listen to the `on` property, rather than using event handlers on exposed internal nodes in the control.  As many such property change listeners as desired can be added to the property.\r\n\r\nSimilarly, the `on` property can be used to change the switch state, which will be reflected in the UI and the resultant change event will also be propagated to any defined listeners.\r\n\r\nFor example:\r\n\r\n    Switch lightSwitch = new Switch();\r\n    lightSwitch.onProperty().addListener((observable, wasOn, nowOn) -&gt; {\r\n        System.out.println(nowOn ? &quot;on&quot; : &quot;off&quot;);\r\n    });\r\n\r\n    lightSwitch.setOn(true);\r\n\r\nWill print &quot;`on`&quot;.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73043777/1155209","title":"One control many click listeners","body":"<p>This answer to a related earlier question:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/73036432/animate-custom-switch-button\">Animate custom switch button</a></li>\n</ul>\n<p>exposes an <code>on</code> property modeling the switch state.</p>\n<p>The solution is similar to the <a href=\"https://stackoverflow.com/a/73043777/1155209\">updated answer by SephB</a>.</p>\n<p>If the developer wants to do something when the <code>on</code> property state changes, they can listen to the <code>on</code> property, rather than using event handlers on exposed internal nodes in the control.  As many such property change listeners as desired can be added to the property.</p>\n<p>Similarly, the <code>on</code> property can be used to change the switch state, which will be reflected in the UI and the resultant change event will also be propagated to any defined listeners.</p>\n<p>For example:</p>\n<pre><code>Switch lightSwitch = new Switch();\nlightSwitch.onProperty().addListener((observable, wasOn, nowOn) -&gt; {\n    System.out.println(nowOn ? &quot;on&quot; : &quot;off&quot;);\n});\n\nlightSwitch.setOn(true);\n</code></pre>\n<p>Will print &quot;<code>on</code>&quot;.</p>\n"}],"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73043974,"answer_count":2,"score":0,"last_activity_date":1658273147,"creation_date":1658263790,"question_id":73043337,"body_markdown":"I am using a custom switch button from the answer [CustomButton][1]. As you can see in the **constructor** a click listener will be set to both button and the object itself. In the **MainController** class, I created an instance of it and set a mouse click event listener in order to update the UI depending on its state of it, but that led to a weird behavior where on some clicks the button toggles and changes color sometimes the UI will be updated...\r\n\r\nThis is how I am creating and adding click listener in **MainController**:\r\n\r\n    filterSwitchButton = new SwitchButton();\r\n        filterSwitchButton.setId(&quot;filterSwitchButton&quot;);\r\n        HBox.setMargin(filterSwitchButton, new Insets(0, 20, 0, 50));\r\n        filterSwitchButton.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override\r\n            public void handle(MouseEvent event) {\r\n                // update UI\r\n            }\r\n        });\r\n\r\nHow can I update the UI and change the state of the switch button when it is clicked?\r\n\r\n  [1]: https://stackoverflow.com/questions/30593193/creating-sliding-on-off-switch-button-in-javafx#answer-57290206","title":"One control many click listeners","body":"<p>I am using a custom switch button from the answer <a href=\"https://stackoverflow.com/questions/30593193/creating-sliding-on-off-switch-button-in-javafx#answer-57290206\">CustomButton</a>. As you can see in the <strong>constructor</strong> a click listener will be set to both button and the object itself. In the <strong>MainController</strong> class, I created an instance of it and set a mouse click event listener in order to update the UI depending on its state of it, but that led to a weird behavior where on some clicks the button toggles and changes color sometimes the UI will be updated...</p>\n<p>This is how I am creating and adding click listener in <strong>MainController</strong>:</p>\n<pre><code>filterSwitchButton = new SwitchButton();\n    filterSwitchButton.setId(&quot;filterSwitchButton&quot;);\n    HBox.setMargin(filterSwitchButton, new Insets(0, 20, 0, 50));\n    filterSwitchButton.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\n        @Override\n        public void handle(MouseEvent event) {\n            // update UI\n        }\n    });\n</code></pre>\n<p>How can I update the UI and change the state of the switch button when it is clicked?</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":227393,"reputation":28024,"user_id":489041,"accept_rate":53,"display_name":"user489041"},"score":0,"creation_date":1307133367,"post_id":6232355,"comment_id":7262100,"body_markdown":"@MByD I just added revalidate(), but still seeing the same thing. I am using a CustomeTableCellRenderer, but wouldnt think that would do too much.","body":"@MByD I just added revalidate(), but still seeing the same thing. I am using a CustomeTableCellRenderer, but wouldnt think that would do too much."},{"owner":{"account_id":227393,"reputation":28024,"user_id":489041,"accept_rate":53,"display_name":"user489041"},"score":0,"creation_date":1307133783,"post_id":6232355,"comment_id":7262205,"body_markdown":"I tried this as well. No luck. I think there is something else going on.","body":"I tried this as well. No luck. I think there is something else going on."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1307151740,"post_id":6232355,"comment_id":7264790,"body_markdown":"@MByD, no you shouldn&#39;t revalidate() or repaint(). The TableModel is responsible for notifying the JTable that something has changed so the table can repaint itself automatically.","body":"@MByD, no you shouldn&#39;t revalidate() or repaint(). The TableModel is responsible for notifying the JTable that something has changed so the table can repaint itself automatically."},{"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"score":0,"creation_date":1307151860,"post_id":6232355,"comment_id":7264804,"body_markdown":"@camickr - that for the information :)","body":"@camickr - that for the information :)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1353756000,"post_id":6232355,"comment_id":18543247,"body_markdown":"voting to close as not-a-real-question - it&#39;s not answerable as posted, and evokes one incorrect pseudo-answer after another ...","body":"voting to close as not-a-real-question - it&#39;s not answerable as posted, and evokes one incorrect pseudo-answer after another ..."},{"owner":{"account_id":3009640,"reputation":3898,"user_id":2553431,"accept_rate":50,"display_name":"Iamat8"},"score":0,"creation_date":1406652788,"post_id":6232355,"comment_id":38909671,"body_markdown":"check if [this][1] this solves your problem\r\n\r\n\r\n  [1]: http://stackoverflow.com/a/25020658/2553431","body":"check if [this][1] this solves your problem        [1]: <a href=\"http://stackoverflow.com/a/25020658/2553431\">stackoverflow.com/a/25020658/2553431</a>"}],"answers":[{"tags":[],"owner":{"account_id":342628,"reputation":600,"user_id":673889,"accept_rate":57,"display_name":"Mihai"},"down_vote_count":9,"up_vote_count":50,"is_accepted":true,"score":41,"last_activity_date":1409657358,"creation_date":1307133597,"answer_id":6232436,"question_id":6232355,"body_markdown":"The following code worked for me:\r\n\r\n    DefaultTableModel dm = (DefaultTableModel) getModel();\r\n    int rowCount = dm.getRowCount();\r\n    //Remove rows one by one from the end of the table\r\n    for (int i = rowCount - 1; i &gt;= 0; i--) {\r\n        dm.removeRow(i);\r\n    }","title":"Deleting all the rows in a JTable","body":"<p>The following code worked for me:</p>\n\n<pre><code>DefaultTableModel dm = (DefaultTableModel) getModel();\nint rowCount = dm.getRowCount();\n//Remove rows one by one from the end of the table\nfor (int i = rowCount - 1; i &gt;= 0; i--) {\n    dm.removeRow(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39861,"reputation":6818,"user_id":115193,"accept_rate":71,"display_name":"james_bond"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1348586789,"creation_date":1307133864,"answer_id":6232472,"question_id":6232355,"body_markdown":"Something like this should work\r\n\r\n    DefaultTableModel model = (DefaultTableModel)this.getModel(); \r\n    int rows = model.getRowCount(); \r\n    for(int i = rows - 1; i &gt;=0; i--)\r\n    {\r\n       model.removeRow(i); \r\n    }\r\n\r\n","title":"Deleting all the rows in a JTable","body":"<p>Something like this should work</p>\n\n<pre><code>DefaultTableModel model = (DefaultTableModel)this.getModel(); \nint rows = model.getRowCount(); \nfor(int i = rows - 1; i &gt;=0; i--)\n{\n   model.removeRow(i); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":409100,"reputation":617,"user_id":780153,"accept_rate":89,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1307134338,"creation_date":1307134338,"answer_id":6232554,"question_id":6232355,"body_markdown":"Or if you have lots of rows but very few columns...\r\n\r\n    DefaultTableModel dtm = new DefaultTableModel();\r\n    for(int i=0;i&lt;NUM_COLS;i++) dtm.addColumn(COLUMN_NAME[i]);\r\n    myTable.setModel(dtm);\r\n\r\n...replaces the old DTM with a fresh one.","title":"Deleting all the rows in a JTable","body":"<p>Or if you have lots of rows but very few columns...</p>\n\n<pre><code>DefaultTableModel dtm = new DefaultTableModel();\nfor(int i=0;i&lt;NUM_COLS;i++) dtm.addColumn(COLUMN_NAME[i]);\nmyTable.setModel(dtm);\n</code></pre>\n\n<p>...replaces the old DTM with a fresh one.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1307151611,"creation_date":1307151611,"answer_id":6234141,"question_id":6232355,"body_markdown":"Well, setNumRows(0) should work, although if you actually read the API it tells you that this method is obsolete and tell you which method to use instead.\r\n\r\nIf the code doesn&#39;t work, then you are doing something else wrong and we can&#39;t tell from the posted code what that might be.\r\n\r\nPost your [SSCCE][1] that demonstrates the problem.\r\n\r\n\r\n  [1]: http://sscce.org","title":"Deleting all the rows in a JTable","body":"<p>Well, setNumRows(0) should work, although if you actually read the API it tells you that this method is obsolete and tell you which method to use instead.</p>\n\n<p>If the code doesn't work, then you are doing something else wrong and we can't tell from the posted code what that might be.</p>\n\n<p>Post your <a href=\"http://sscce.org\">SSCCE</a> that demonstrates the problem.</p>\n"},{"tags":[],"owner":{"account_id":2075030,"reputation":101,"user_id":1848648,"display_name":"Abdul Jabbar WebBestow"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1353713399,"creation_date":1353711903,"answer_id":13536681,"question_id":6232355,"body_markdown":"The simplest way to remove all rows from JTable, just use this method instead...\r\n\r\n    tablemodel.getDataVector().removeAllElements();\r\n    tablemodel.fireTableDataChanged();\r\n\r\n`tablemodel` is the model which you created for your table to add new rows. This is the shortest and fastest way of deleting all rows because what if you have thousands of rows? Looping?","title":"Deleting all the rows in a JTable","body":"<p>The simplest way to remove all rows from JTable, just use this method instead...</p>\n\n<pre><code>tablemodel.getDataVector().removeAllElements();\ntablemodel.fireTableDataChanged();\n</code></pre>\n\n<p><code>tablemodel</code> is the model which you created for your table to add new rows. This is the shortest and fastest way of deleting all rows because what if you have thousands of rows? Looping?</p>\n"},{"tags":[],"owner":{"account_id":2546833,"reputation":3087,"user_id":2211479,"accept_rate":92,"display_name":"Felype"},"down_vote_count":0,"up_vote_count":92,"is_accepted":false,"score":92,"last_activity_date":1448637285,"creation_date":1364299323,"answer_id":15636607,"question_id":6232355,"body_markdown":"We can use DefaultTableModel.setRowCount(int) for this purpose, refering to Java&#39;s Documentation: \r\n\r\n&gt; public void [setRowCount(int rowCount)][1]\r\n&gt; \r\n&gt; Sets the number of rows in the model. If the new size is greater than\r\n&gt; the current size, new rows are added to the end of the model If the\r\n&gt; new size is less than the current size, **all rows at index rowCount\r\n&gt; and greater are discarded**.\r\n\r\nThis means, we can clear a table like this:\r\n\r\n    DefaultTableModel dtm = (DefaultTableModel) jtMyTable.getModel();\r\n    dtm.setRowCount(0);\r\n\r\nNow, on &quot;how does java discard those rows?&quot;, I believe it just calls some C-like free(void*) ultimately somewhen, or maybe it just removes all references to that memory zone and leaves it for GC to care about, the documentation isn&#39;t quite clear regarding how this function works internally.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/swing/table/DefaultTableModel.html#setRowCount(int)","title":"Deleting all the rows in a JTable","body":"<p>We can use DefaultTableModel.setRowCount(int) for this purpose, refering to Java's Documentation: </p>\n\n<blockquote>\n  <p>public void <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/table/DefaultTableModel.html#setRowCount(int)\" rel=\"noreferrer\">setRowCount(int rowCount)</a></p>\n  \n  <p>Sets the number of rows in the model. If the new size is greater than\n  the current size, new rows are added to the end of the model If the\n  new size is less than the current size, <strong>all rows at index rowCount\n  and greater are discarded</strong>.</p>\n</blockquote>\n\n<p>This means, we can clear a table like this:</p>\n\n<pre><code>DefaultTableModel dtm = (DefaultTableModel) jtMyTable.getModel();\ndtm.setRowCount(0);\n</code></pre>\n\n<p>Now, on \"how does java discard those rows?\", I believe it just calls some C-like free(void*) ultimately somewhen, or maybe it just removes all references to that memory zone and leaves it for GC to care about, the documentation isn't quite clear regarding how this function works internally.</p>\n"},{"tags":[],"owner":{"account_id":2142098,"reputation":7,"user_id":1900514,"display_name":"Anil"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1366454495,"creation_date":1366454495,"answer_id":16119406,"question_id":6232355,"body_markdown":"Try this code. This will remove all the rows from JTable. \r\n\r\n\r\n    DefaultTableModel model=new DefaulTableModel(rows,cols);\r\n    JTable table=new JTable(model);\r\n    for(int i=0;i&lt;model.getRowCount();i=i+0)\r\n    {\r\n     model.removeRow(0);\r\n     revalidate();\r\n     }","title":"Deleting all the rows in a JTable","body":"<p>Try this code. This will remove all the rows from JTable. </p>\n\n<pre><code>DefaultTableModel model=new DefaulTableModel(rows,cols);\nJTable table=new JTable(model);\nfor(int i=0;i&lt;model.getRowCount();i=i+0)\n{\n model.removeRow(0);\n revalidate();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2966891,"reputation":61,"user_id":2519867,"display_name":"codex98"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1372161558,"creation_date":1372160223,"answer_id":17296247,"question_id":6232355,"body_markdown":"    try{\r\n\r\n        DefaultTableModel dtm = (DefaultTableModel) jTable2.getModel();\r\n \r\n        dtm.setNumRows(0); \r\n\r\n    }catch(Exception e){\r\n    }","title":"Deleting all the rows in a JTable","body":"<pre><code>try{\n\n    DefaultTableModel dtm = (DefaultTableModel) jTable2.getModel();\n\n    dtm.setNumRows(0); \n\n}catch(Exception e){\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3136345,"reputation":612,"user_id":2652793,"accept_rate":33,"display_name":"SwR"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1403487930,"creation_date":1385464693,"answer_id":20215627,"question_id":6232355,"body_markdown":"    DefaultTableModel tm = (DefaultTableModel) tbl.getModel();\r\n    while(tbl.getRowCount() &gt; 0)\r\n    {\r\n        ((DefaultTableModel) tbl.getModel()).removeRow(0);\r\n    }\r\n\r\n","title":"Deleting all the rows in a JTable","body":"<pre><code>DefaultTableModel tm = (DefaultTableModel) tbl.getModel();\nwhile(tbl.getRowCount() &gt; 0)\n{\n    ((DefaultTableModel) tbl.getModel()).removeRow(0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2306458,"reputation":161,"user_id":2025644,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1390319118,"creation_date":1390319118,"answer_id":21262751,"question_id":6232355,"body_markdown":"Read the API for DefaultTableModel - setRowCount method supports deleting/discarding all rows in one go...\r\n\r\n`((DefaultTableModel)myTable.getModel()).setRowCount(0);`","title":"Deleting all the rows in a JTable","body":"<p>Read the API for DefaultTableModel - setRowCount method supports deleting/discarding all rows in one go...</p>\n\n<p><code>((DefaultTableModel)myTable.getModel()).setRowCount(0);</code></p>\n"},{"tags":[],"owner":{"account_id":44127,"reputation":75,"user_id":129337,"display_name":"nicc777"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1401955703,"creation_date":1401955703,"answer_id":24054900,"question_id":6232355,"body_markdown":"I had multiple tables, so I created a method to clear &quot;any&quot; table:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private void deleteAllTableRows(JTable table) {\r\n        DefaultTableModel model = (DefaultTableModel) table.getModel();\r\n        while( model.getRowCount() &gt; 0 ){\r\n            model.removeRow(0);\r\n        }\r\n    }\r\n\r\n","title":"Deleting all the rows in a JTable","body":"<p>I had multiple tables, so I created a method to clear \"any\" table:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private void deleteAllTableRows(JTable table) {\n    DefaultTableModel model = (DefaultTableModel) table.getModel();\n    while( model.getRowCount() &gt; 0 ){\n        model.removeRow(0);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3656840,"reputation":1,"user_id":3047606,"display_name":"AbdElrahman Kamal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1419975644,"creation_date":1419975644,"answer_id":27712972,"question_id":6232355,"body_markdown":"    MyModel myTableModel = (MyModel) myTable.getModel();\r\n    for (int i = myTableModel.getRowCount()-1; i &gt;= 0; i--) myTableModel.deleteRow(i);","title":"Deleting all the rows in a JTable","body":"<pre><code>MyModel myTableModel = (MyModel) myTable.getModel();\nfor (int i = myTableModel.getRowCount()-1; i &gt;= 0; i--) myTableModel.deleteRow(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19036196,"reputation":1,"user_id":13897249,"display_name":"Marlo Zafe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638258735,"creation_date":1638258735,"answer_id":70165936,"question_id":6232355,"body_markdown":"You can not simple use for loops here because in every loop you remove a row which decreases the row count. Here&#39;s the right one:\r\n\r\n    int count = tmodel.getRowCount();\r\n\t\twhile(count &gt; 0) {\r\n\t\t\ttmodel.removeRow(count-1);\r\n\t\t\tcount = tmodel.getRowCount();\r\n\t\t}\r\n\r\n","title":"Deleting all the rows in a JTable","body":"<p>You can not simple use for loops here because in every loop you remove a row which decreases the row count. Here's the right one:</p>\n<pre><code>int count = tmodel.getRowCount();\n    while(count &gt; 0) {\n        tmodel.removeRow(count-1);\n        count = tmodel.getRowCount();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10820143,"reputation":1,"user_id":7957904,"display_name":"Marien Mupenda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640637521,"creation_date":1640637075,"answer_id":70500137,"question_id":6232355,"body_markdown":"This worked for me, just use \r\n\r\n `tableModel.setRowCount(0);` or  `tableModel.setNumRows(0);`\r\n\r\n\r\n&gt; Sets the number of rows in the model. If the new size is greater than\r\n&gt; the current size, new rows are added to the end of the model If the\r\n&gt; new size is less than the current size, all rows at index rowCount and\r\n&gt; greater are discarded. Params: rowCount  number of rows in the model\r\n\r\nBy setting the number of rows to zero you&#39;re are telling the table moble to have no rows, which makes the  table empty.","title":"Deleting all the rows in a JTable","body":"<p>This worked for me, just use</p>\n<p><code>tableModel.setRowCount(0);</code> or  <code>tableModel.setNumRows(0);</code></p>\n<blockquote>\n<p>Sets the number of rows in the model. If the new size is greater than\nthe current size, new rows are added to the end of the model If the\nnew size is less than the current size, all rows at index rowCount and\ngreater are discarded. Params: rowCount  number of rows in the model</p>\n</blockquote>\n<p>By setting the number of rows to zero you're are telling the table moble to have no rows, which makes the  table empty.</p>\n"},{"tags":[],"owner":{"account_id":22689616,"reputation":1,"user_id":16858738,"display_name":"ravi bandara"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1658272356,"creation_date":1658272356,"answer_id":73044377,"question_id":6232355,"body_markdown":"        DefaultTableModel tb = (DefaultTableModel) jTable1.getModel();\r\n        if (jTable1.getSelectedRow() == 0) {\r\n        } else {\r\n            jTable1.selectAll();\r\n            int t = jTable1.getSelectedRow();\r\n            while (t &gt;= 0) {\r\n                tb.removeRow(t);\r\n            }\r\n        }","title":"Deleting all the rows in a JTable","body":"<pre><code>    DefaultTableModel tb = (DefaultTableModel) jTable1.getModel();\n    if (jTable1.getSelectedRow() == 0) {\n    } else {\n        jTable1.selectAll();\n        int t = jTable1.getSelectedRow();\n        while (t &gt;= 0) {\n            tb.removeRow(t);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":227393,"reputation":28024,"user_id":489041,"accept_rate":53,"display_name":"user489041"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121291,"favorite_count":0,"down_vote_count":1,"up_vote_count":34,"accepted_answer_id":6232436,"answer_count":15,"score":33,"last_activity_date":1658272356,"creation_date":1307133090,"question_id":6232355,"body_markdown":"I need to remove all the rows in my JTable.\r\n\r\nI have tried both of the following:\r\n\r\n    /**\r\n     * Removes all the rows in the table\r\n     */\r\n    public void clearTable()\r\n    {\r\n        DefaultTableModel dm = (DefaultTableModel) getModel();\r\n        dm.getDataVector().removeAllElements();\r\n        revalidate();\r\n    }\r\n\r\nand\r\n\r\n    ((DefaultTableModel)table.getModel()).setNumRows(0);\r\n\r\nNeither of which would remove all the rows. Any ideas?","title":"Deleting all the rows in a JTable","body":"<p>I need to remove all the rows in my JTable.</p>\n\n<p>I have tried both of the following:</p>\n\n<pre><code>/**\n * Removes all the rows in the table\n */\npublic void clearTable()\n{\n    DefaultTableModel dm = (DefaultTableModel) getModel();\n    dm.getDataVector().removeAllElements();\n    revalidate();\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>((DefaultTableModel)table.getModel()).setNumRows(0);\n</code></pre>\n\n<p>Neither of which would remove all the rows. Any ideas?</p>\n"},{"tags":["java","android","json","import"],"answers":[{"tags":[],"owner":{"account_id":8616116,"reputation":555,"user_id":6452886,"accept_rate":44,"display_name":"Madhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476836566,"creation_date":1476836566,"answer_id":40120105,"question_id":40119787,"body_markdown":"Passing null as the third argument is the cause for error. Try passing an empty string. You can find the solution from the link: http://java-lang-programming.com/en/articles/33","title":"cannot resolve constructor jsonobjectrequest","body":"<p>Passing null as the third argument is the cause for error. Try passing an empty string. You can find the solution from the link: <a href=\"http://java-lang-programming.com/en/articles/33\" rel=\"nofollow\">http://java-lang-programming.com/en/articles/33</a></p>\n"},{"tags":[],"owner":{"account_id":25848632,"reputation":1,"user_id":19582997,"display_name":"Zero Error"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658270897,"creation_date":1658270897,"answer_id":73044217,"question_id":40119787,"body_markdown":"    JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, &quot;&quot;, new Response.Listener&lt;JSONObject&gt;() {\r\n          @Override\r\n          public void onResponse(JSONObject response) {\r\n\r\n          }\r\n      }, new Response.ErrorListener() {\r\n          @Override\r\n          public void onErrorResponse(VolleyError error) {\r\n\r\n          }\r\n      });\r\n","title":"cannot resolve constructor jsonobjectrequest","body":"<pre><code>JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, &quot;&quot;, new Response.Listener&lt;JSONObject&gt;() {\n      @Override\n      public void onResponse(JSONObject response) {\n\n      }\n  }, new Response.ErrorListener() {\n      @Override\n      public void onErrorResponse(VolleyError error) {\n\n      }\n  });\n</code></pre>\n"}],"owner":{"account_id":9358754,"reputation":13,"user_id":6945856,"display_name":"ProgramadorAndroid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658270897,"creation_date":1476834040,"question_id":40119787,"body_markdown":"&gt; The error is:\r\n\r\n     &quot;cannot resolve constructor jsonobjectrequest(int,\r\n     java.lang.string, null, anonymous\r\n     com.android.volley.Response.Listener&lt;org.json.JSONObject&gt;,anonymous\r\n     com.android.volley.Response.ErrorListener)\r\n\r\nCode Error:\r\n\r\n&gt; // Nueva petici&#243;n JSONObject\r\n\r\n        jsArrayRequest = new JsonObjectRequest(\r\n                Request.Method.GET,\r\n                URL_BASE + URL_JSON,\r\n                null,\r\n                new Response.Listener&lt;JSONObject&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        items = parseJson(response);\r\n                        notifyDataSetChanged();\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        Log.d(TAG, &quot;Error Respuesta en JSON: &quot; + error.getMessage());\r\n\r\n                    }\r\n                }\r\n        );\r\n\r\n\r\nCode Class:\r\n\r\n   \r\n\r\n        // Atributos\r\n        private RequestQueue requestQueue;\r\n        JsonObjectRequest jsArrayRequest;\r\n        private static final String URL_BASE = &quot;http://servidorexterno.site90.com/datos&quot;;\r\n        private static final String URL_JSON = &quot;/social_media.json&quot;;\r\n        private static final String TAG = &quot;PostAdapter&quot;;\r\n        List&lt;Post&gt; items;\r\n    \r\n        public PostAdapter(Context context) {\r\n            super(context,0);\r\n    \r\n            // Crear nueva cola de peticiones\r\n            requestQueue= Volley.newRequestQueue(context);\r\n    \r\n            // Nueva petici&#243;n JSONObject\r\n            jsArrayRequest = new JsonObjectRequest(\r\n                    Request.Method.GET,\r\n                    URL_BASE + URL_JSON,\r\n                    null,\r\n                    new Response.Listener&lt;JSONObject&gt;() {\r\n                        @Override\r\n                        public void onResponse(JSONObject response) {\r\n                            items = parseJson(response);\r\n                            notifyDataSetChanged();\r\n                        }\r\n                    },\r\n                    new Response.ErrorListener() {\r\n                        @Override\r\n                        public void onErrorResponse(VolleyError error) {\r\n                            Log.d(TAG, &quot;Error Respuesta en JSON: &quot; + error.getMessage());\r\n    \r\n                        }\r\n                    }\r\n            );\r\n    \r\n            // A&#241;adir petici&#243;n a la cola\r\n            requestQueue.add(jsArrayRequest);\r\n        }\r\n    \r\n        @Override\r\n        public int getCount() {\r\n            return items != null ? items.size() : 0;\r\n        }\r\n    \r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n    \r\n            LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\r\n    \r\n            // Referencia del view procesado\r\n            View listItemView;\r\n    \r\n            //Comprobando si el View no existe\r\n            listItemView = null == convertView ? layoutInflater.inflate(\r\n                    R.layout.post,\r\n                    parent,\r\n                    false) : convertView;\r\n    \r\n    \r\n            // Obtener el item actual\r\n            Post item = items.get(position);\r\n    \r\n            // Obtener Views\r\n            TextView textoTitulo = (TextView) listItemView.\r\n                    findViewById(R.id.textoTitulo);\r\n            TextView textoDescripcion = (TextView) listItemView.\r\n                    findViewById(R.id.textoDescripcion);\r\n            final ImageView imagenPost = (ImageView) listItemView.\r\n                    findViewById(R.id.imagenPost);\r\n    \r\n            // Actualizar los Views\r\n            textoTitulo.setText(item.getObjectno());\r\n            textoDescripcion.setText(item.getDrivername());\r\n    \r\n            // Petici&#243;n para obtener la imagen\r\n            ImageRequest request = new ImageRequest(\r\n                    URL_BASE + item.getObjectname(),\r\n                    new Response.Listener&lt;Bitmap&gt;() {\r\n                        @Override\r\n                        public void onResponse(Bitmap bitmap) {\r\n                            imagenPost.setImageBitmap(bitmap);\r\n                        }\r\n                    }, 0, 0, null,null,\r\n                    new Response.ErrorListener() {\r\n                        public void onErrorResponse(VolleyError error) {\r\n                            imagenPost.setImageResource(R.drawable.error);\r\n                            Log.d(TAG, &quot;Error en respuesta Bitmap: &quot;+ error.getMessage());\r\n                        }\r\n                    });\r\n    \r\n            // A&#241;adir petici&#243;n a la cola\r\n            requestQueue.add(request);\r\n    \r\n    \r\n            return listItemView;\r\n        }\r\n    \r\n        public List&lt;Post&gt; parseJson(JSONObject jsonObject){\r\n            // Variables locales\r\n            List&lt;Post&gt; posts = new ArrayList();\r\n            JSONArray jsonArray= null;\r\n    \r\n            try {\r\n                // Obtener el array del objeto\r\n                jsonArray = jsonObject.getJSONArray(&quot;items&quot;);\r\n    \r\n                for(int i=0; i&lt;jsonArray.length(); i++){\r\n    \r\n                    try {\r\n                        JSONObject objeto= jsonArray.getJSONObject(i);\r\n    \r\n                        Post post = new Post(\r\n                                objeto.getString(&quot;titulo&quot;),\r\n                                objeto.getString(&quot;descripcion&quot;),\r\n                                objeto.getString(&quot;imagen&quot;));\r\n    \r\n    \r\n                        posts.add(post);\r\n    \r\n                    } catch (JSONException e) {\r\n                        Log.e(TAG, &quot;Error de parsing: &quot;+ e.getMessage());\r\n                    }\r\n                }\r\n    \r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n    \r\n            return posts;\r\n        }\r\n    }","title":"cannot resolve constructor jsonobjectrequest","body":"<blockquote>\n  <p>The error is:</p>\n</blockquote>\n\n<pre><code> \"cannot resolve constructor jsonobjectrequest(int,\n java.lang.string, null, anonymous\n com.android.volley.Response.Listener&lt;org.json.JSONObject&gt;,anonymous\n com.android.volley.Response.ErrorListener)\n</code></pre>\n\n<p>Code Error:</p>\n\n<blockquote>\n  <p>// Nueva peticin JSONObject</p>\n</blockquote>\n\n<pre><code>    jsArrayRequest = new JsonObjectRequest(\n            Request.Method.GET,\n            URL_BASE + URL_JSON,\n            null,\n            new Response.Listener&lt;JSONObject&gt;() {\n                @Override\n                public void onResponse(JSONObject response) {\n                    items = parseJson(response);\n                    notifyDataSetChanged();\n                }\n            },\n            new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    Log.d(TAG, \"Error Respuesta en JSON: \" + error.getMessage());\n\n                }\n            }\n    );\n</code></pre>\n\n<p>Code Class:</p>\n\n<pre><code>    // Atributos\n    private RequestQueue requestQueue;\n    JsonObjectRequest jsArrayRequest;\n    private static final String URL_BASE = \"http://servidorexterno.site90.com/datos\";\n    private static final String URL_JSON = \"/social_media.json\";\n    private static final String TAG = \"PostAdapter\";\n    List&lt;Post&gt; items;\n\n    public PostAdapter(Context context) {\n        super(context,0);\n\n        // Crear nueva cola de peticiones\n        requestQueue= Volley.newRequestQueue(context);\n\n        // Nueva peticin JSONObject\n        jsArrayRequest = new JsonObjectRequest(\n                Request.Method.GET,\n                URL_BASE + URL_JSON,\n                null,\n                new Response.Listener&lt;JSONObject&gt;() {\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        items = parseJson(response);\n                        notifyDataSetChanged();\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        Log.d(TAG, \"Error Respuesta en JSON: \" + error.getMessage());\n\n                    }\n                }\n        );\n\n        // Aadir peticin a la cola\n        requestQueue.add(jsArrayRequest);\n    }\n\n    @Override\n    public int getCount() {\n        return items != null ? items.size() : 0;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\n\n        // Referencia del view procesado\n        View listItemView;\n\n        //Comprobando si el View no existe\n        listItemView = null == convertView ? layoutInflater.inflate(\n                R.layout.post,\n                parent,\n                false) : convertView;\n\n\n        // Obtener el item actual\n        Post item = items.get(position);\n\n        // Obtener Views\n        TextView textoTitulo = (TextView) listItemView.\n                findViewById(R.id.textoTitulo);\n        TextView textoDescripcion = (TextView) listItemView.\n                findViewById(R.id.textoDescripcion);\n        final ImageView imagenPost = (ImageView) listItemView.\n                findViewById(R.id.imagenPost);\n\n        // Actualizar los Views\n        textoTitulo.setText(item.getObjectno());\n        textoDescripcion.setText(item.getDrivername());\n\n        // Peticin para obtener la imagen\n        ImageRequest request = new ImageRequest(\n                URL_BASE + item.getObjectname(),\n                new Response.Listener&lt;Bitmap&gt;() {\n                    @Override\n                    public void onResponse(Bitmap bitmap) {\n                        imagenPost.setImageBitmap(bitmap);\n                    }\n                }, 0, 0, null,null,\n                new Response.ErrorListener() {\n                    public void onErrorResponse(VolleyError error) {\n                        imagenPost.setImageResource(R.drawable.error);\n                        Log.d(TAG, \"Error en respuesta Bitmap: \"+ error.getMessage());\n                    }\n                });\n\n        // Aadir peticin a la cola\n        requestQueue.add(request);\n\n\n        return listItemView;\n    }\n\n    public List&lt;Post&gt; parseJson(JSONObject jsonObject){\n        // Variables locales\n        List&lt;Post&gt; posts = new ArrayList();\n        JSONArray jsonArray= null;\n\n        try {\n            // Obtener el array del objeto\n            jsonArray = jsonObject.getJSONArray(\"items\");\n\n            for(int i=0; i&lt;jsonArray.length(); i++){\n\n                try {\n                    JSONObject objeto= jsonArray.getJSONObject(i);\n\n                    Post post = new Post(\n                            objeto.getString(\"titulo\"),\n                            objeto.getString(\"descripcion\"),\n                            objeto.getString(\"imagen\"));\n\n\n                    posts.add(post);\n\n                } catch (JSONException e) {\n                    Log.e(TAG, \"Error de parsing: \"+ e.getMessage());\n                }\n            }\n\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n\n        return posts;\n    }\n}\n</code></pre>\n"},{"tags":["java","performance","automated-tests","appium-android","software-quality"],"answers":[{"tags":[],"owner":{"account_id":4803885,"reputation":2349,"user_id":3879644,"display_name":"Raju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658270589,"creation_date":1658270589,"answer_id":73044182,"question_id":73043986,"body_markdown":"Appium can test Webview. It is just that you have to switch to the right context.\r\n\r\n[get-context][1] helps in getting current context.\r\n\r\n[get-contexts][2] helps in getting all the contexts available to automate.\r\n\r\n[set-context][3] helps in setting the desired context.\r\n\r\n\r\n  [1]: https://appium.io/docs/en/commands/context/get-context/\r\n  [2]: https://appium.io/docs/en/commands/context/get-contexts/\r\n  [3]: https://appium.io/docs/en/commands/context/set-context/","title":"How to perform automated test in webview","body":"<p>Appium can test Webview. It is just that you have to switch to the right context.</p>\n<p><a href=\"https://appium.io/docs/en/commands/context/get-context/\" rel=\"nofollow noreferrer\">get-context</a> helps in getting current context.</p>\n<p><a href=\"https://appium.io/docs/en/commands/context/get-contexts/\" rel=\"nofollow noreferrer\">get-contexts</a> helps in getting all the contexts available to automate.</p>\n<p><a href=\"https://appium.io/docs/en/commands/context/set-context/\" rel=\"nofollow noreferrer\">set-context</a> helps in setting the desired context.</p>\n"}],"owner":{"account_id":22522899,"reputation":3,"user_id":16716152,"display_name":"wdjive"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73044182,"answer_count":1,"score":0,"last_activity_date":1658270589,"creation_date":1658268903,"question_id":73043986,"body_markdown":"I have Android native app and I want to test login page witch was developed using webview thats open central Authenticator. Im trying to use appium to test but Ive see that appium cannot test webview ","title":"How to perform automated test in webview","body":"<p>I have Android native app and I want to test login page witch was developed using webview thats open central Authenticator. Im trying to use appium to test but Ive see that appium cannot test webview</p>\n"},{"tags":["java","eclipse","authentication","java.util.scanner","java-17"],"comments":[{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1658258424,"post_id":73042410,"comment_id":129005998,"body_markdown":"Use a `Map` with `key` as username and `value` as password","body":"Use a <code>Map</code> with <code>key</code> as username and <code>value</code> as password"}],"answers":[{"tags":[],"owner":{"account_id":21653093,"reputation":84,"user_id":15973381,"display_name":"Lo&#239;c Rutabana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658268457,"creation_date":1658259232,"answer_id":73042572,"question_id":73042410,"body_markdown":"Are you trying to link Usernames and Passwords together? If so, try using a HashMap. You could try doing something like:\r\n\r\n    HashMap&lt;String, String&gt; logins= new HashMap&lt;String, String&gt;();\r\n\r\nThis way a username can retrieve the corresponding password\r\n\r\n    String password = logins.get(&quot;Mario&quot;);\r\n\r\nThough getting passwords from usernames would not be recommended.\r\nYou could add to it by:\r\n\r\n    logins.put(&quot;Mario&quot;, &quot;password1234&quot;);\r\n\r\nNot sure if this is what you were asking but hope this helps","title":"How to make a library of string arrays and access them like a login system. (Java 17)","body":"<p>Are you trying to link Usernames and Passwords together? If so, try using a HashMap. You could try doing something like:</p>\n<pre><code>HashMap&lt;String, String&gt; logins= new HashMap&lt;String, String&gt;();\n</code></pre>\n<p>This way a username can retrieve the corresponding password</p>\n<pre><code>String password = logins.get(&quot;Mario&quot;);\n</code></pre>\n<p>Though getting passwords from usernames would not be recommended.\nYou could add to it by:</p>\n<pre><code>logins.put(&quot;Mario&quot;, &quot;password1234&quot;);\n</code></pre>\n<p>Not sure if this is what you were asking but hope this helps</p>\n"},{"tags":[],"owner":{"account_id":4774094,"reputation":122,"user_id":3857808,"display_name":"Ishadi Jayasinghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658270379,"creation_date":1658270379,"answer_id":73044156,"question_id":73042410,"body_markdown":"As others have pointed out, you can have a Map with username and password. You can retrieve the password as well as shown below. \r\n\r\n    HashMap&lt;String, String&gt; userLogins = new HashMap&lt;&gt;();\r\n    String username = &quot;testUser&quot;;\r\n    String userPassword = userLogins.get(username);\r\n\r\nHowever, using a HashMap gives you the restriction that usernames should be unique in your application. For example, if you have the username &#39;Sara&#39; already with a password, and then another user comes with the same name &#39;Sara&#39;, then the initial stored password gets replaced by the new password associated with the new user. If this is the case, a better approach is to use a User object where you can maintain any other related details too for a user. \r\n\r\nA sample example is given below. You can choose to use either for loops or streams to iterate through the list of users. Also, you can use an id as well if you think username is not going to be unique. \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    class User {\r\n        private String name;\r\n        private String pswd;\r\n        private int age;\r\n    \r\n        public User() {\r\n        }\r\n    \r\n        public User(String name, String pswd, int age) {\r\n            this.name = name;\r\n            this.pswd = pswd;\r\n            this.age = age;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getPswd() {\r\n            return pswd;\r\n        }\r\n    \r\n        public void setPswd(String pswd) {\r\n            this.pswd = pswd;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    }\r\n    \r\n    public class TestClass {\r\n        public static void main(String[] args) {\r\n            User user1 = new User(&quot;Sara&quot;, &quot;1234&quot;, 25);\r\n            User user2 = new User(&quot;Ann&quot;, &quot;abc&quot;, 30);\r\n    \r\n            List&lt;User&gt; users = new ArrayList&lt;&gt;(List.of(user1, user2));\r\n    \r\n            //Seeing whether the input username and password are correct\r\n            String userName = &quot;testName&quot;;\r\n            String userPswd = &quot;testPassword&quot;;\r\n            Boolean isCorrectLogin = checkLogin(userName, userPswd, users);\r\n    \r\n            //changing password\r\n            String newPswd = &quot;newPassword&quot;;\r\n            changePswd(userName, userPswd, newPswd, users);\r\n    \r\n    \r\n        }\r\n    \r\n        private static void changePswd(String userName, String userPswd, String newPswd, List&lt;User&gt; users) {\r\n            for (User u : users) {\r\n                if (userName.equals(u.getName()) &amp;&amp; userPswd.equals(u.getPswd())) {\r\n                     u.setPswd(newPswd);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static Boolean checkLogin(String userName, String userPswd, List&lt;User&gt; users) {\r\n            Boolean isCorrectLogin = Boolean.FALSE;\r\n            if (users.isEmpty()) {\r\n                return isCorrectLogin;\r\n            }\r\n            //using for loops\r\n            for (User u : users) {\r\n                if (userName.equals(u.getName()) &amp;&amp; userPswd.equals(u.getPswd())) {\r\n                    isCorrectLogin = Boolean.TRUE;\r\n                    break;\r\n                }\r\n            }\r\n    \r\n            // using streams\r\n            isCorrectLogin = users.stream().anyMatch(u -&gt; userName.equals(u.getName()) &amp;&amp; userPswd.equals(u.getPswd()));\r\n    \r\n            return isCorrectLogin;\r\n        }\r\n    \r\n    }","title":"How to make a library of string arrays and access them like a login system. (Java 17)","body":"<p>As others have pointed out, you can have a Map with username and password. You can retrieve the password as well as shown below.</p>\n<pre><code>HashMap&lt;String, String&gt; userLogins = new HashMap&lt;&gt;();\nString username = &quot;testUser&quot;;\nString userPassword = userLogins.get(username);\n</code></pre>\n<p>However, using a HashMap gives you the restriction that usernames should be unique in your application. For example, if you have the username 'Sara' already with a password, and then another user comes with the same name 'Sara', then the initial stored password gets replaced by the new password associated with the new user. If this is the case, a better approach is to use a User object where you can maintain any other related details too for a user.</p>\n<p>A sample example is given below. You can choose to use either for loops or streams to iterate through the list of users. Also, you can use an id as well if you think username is not going to be unique.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass User {\n    private String name;\n    private String pswd;\n    private int age;\n\n    public User() {\n    }\n\n    public User(String name, String pswd, int age) {\n        this.name = name;\n        this.pswd = pswd;\n        this.age = age;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getPswd() {\n        return pswd;\n    }\n\n    public void setPswd(String pswd) {\n        this.pswd = pswd;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n}\n\npublic class TestClass {\n    public static void main(String[] args) {\n        User user1 = new User(&quot;Sara&quot;, &quot;1234&quot;, 25);\n        User user2 = new User(&quot;Ann&quot;, &quot;abc&quot;, 30);\n\n        List&lt;User&gt; users = new ArrayList&lt;&gt;(List.of(user1, user2));\n\n        //Seeing whether the input username and password are correct\n        String userName = &quot;testName&quot;;\n        String userPswd = &quot;testPassword&quot;;\n        Boolean isCorrectLogin = checkLogin(userName, userPswd, users);\n\n        //changing password\n        String newPswd = &quot;newPassword&quot;;\n        changePswd(userName, userPswd, newPswd, users);\n\n\n    }\n\n    private static void changePswd(String userName, String userPswd, String newPswd, List&lt;User&gt; users) {\n        for (User u : users) {\n            if (userName.equals(u.getName()) &amp;&amp; userPswd.equals(u.getPswd())) {\n                 u.setPswd(newPswd);\n                break;\n            }\n        }\n    }\n\n    private static Boolean checkLogin(String userName, String userPswd, List&lt;User&gt; users) {\n        Boolean isCorrectLogin = Boolean.FALSE;\n        if (users.isEmpty()) {\n            return isCorrectLogin;\n        }\n        //using for loops\n        for (User u : users) {\n            if (userName.equals(u.getName()) &amp;&amp; userPswd.equals(u.getPswd())) {\n                isCorrectLogin = Boolean.TRUE;\n                break;\n            }\n        }\n\n        // using streams\n        isCorrectLogin = users.stream().anyMatch(u -&gt; userName.equals(u.getName()) &amp;&amp; userPswd.equals(u.getPswd()));\n\n        return isCorrectLogin;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25197250,"reputation":35,"user_id":19036591,"display_name":"anEgg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73042572,"answer_count":2,"score":0,"last_activity_date":1658270379,"creation_date":1658258289,"question_id":73042410,"body_markdown":"I am trying to make a login prompt with usernames and passwords, but I cannot figure out how to make the string array library. My current code can take in 1 username and password by using functions with variables, (like `public myFunction(String myVariable);`) and login with just that, and change the pass and username.\r\ncurrently, my code is\r\n```java\r\npackage main;\r\n\r\nimport java.util.Scanner;\r\nimport logins.Logins;\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tString choice = null;\r\n\t\tScanner scanner = null;\r\n\t\tstart(choice, scanner, &quot;Password&quot;, &quot;Username&quot;);\r\n\t}\r\n\t\r\n\tpublic static void command(String choice, Scanner scanner, String pass, String user) {\r\n\t\tif(choice.equals(&quot;login&quot;)) { \r\n\t\t\tlogin(pass, scanner, choice, user);\r\n\t\t}else if(choice.equals(&quot;change password&quot;)) {\r\n\t\t\tpassChange(pass, choice, scanner, user);\r\n\t\t}else if(choice.equals(&quot;change username&quot;)) {\r\n\t\t\tuserChange(pass, choice, scanner, user);\r\n\t\t}else {\r\n\t\t\tSystem.err.println(&quot;Invalid choice&quot;);\r\n\t\t\tstart(choice, scanner, pass, user);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void password(String pass, String choice, Scanner scanner, String user) {\r\n\t\tSystem.out.println(&quot;Enter password&quot;);\r\n\t\tchoice = scanner.nextLine();\r\n\t\tif(choice.equals(pass)) {\r\n\t\t\tSystem.out.println(&quot;Password Correct. You are logged in&quot;);\r\n\t\t\tstart(choice, scanner, pass, user);\r\n\t\t}else {\r\n\t\t\tSystem.err.println(&quot;Incorrect Password&quot;);\r\n\t\t\tstart(choice, scanner, pass, user);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void passChange(String pass, String choice, Scanner scanner, String user) {\r\n\t\tSystem.out.println(&quot;Username:&quot;);\r\n\t\tchoice = scanner.nextLine();\r\n\t\tif (choice.equals(user)) {\r\n\t\t\tSystem.out.println(&quot;Old Password:&quot;);\r\n\t\t\tchoice = scanner.nextLine();\r\n\t\t\tif (choice.equals(pass)) {\r\n\t\t\t\tSystem.out.println(&quot;New Password&quot;);\r\n\t\t\t\tchoice = scanner.nextLine();\r\n\t\t\t\tpass = choice;\r\n\t\t\t\tstart(choice, scanner, pass, user);\r\n\t\t\t}else {\r\n\t\t\t\tSystem.err.println(&quot;Incorrect password&quot;);\r\n\t\t\t\tstart(choice, scanner, pass, user);\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tSystem.err.println(&quot;No user found named &quot; + choice);\r\n\t\t\tstart(choice, scanner, pass, user);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void userChange(String pass, String choice, Scanner scanner, String user) {\r\n\t\tSystem.out.println(&quot;Username:&quot;);\r\n\t\tchoice = scanner.nextLine();\r\n\t\tif (choice.equals(user)) {\r\n\t\t\tSystem.out.println(&quot;Password:&quot;);\r\n\t\t\tchoice = scanner.nextLine();\r\n\t\t\tif (choice.equals(pass)) {\r\n\t\t\t\tSystem.out.println(&quot;Logged in. New username:&quot;);\r\n\t\t\t\tchoice = scanner.nextLine();\r\n\t\t\t\tuser = choice;\r\n\t\t\t\tstart(choice, scanner, pass, user);\r\n\t\t\t}else {\r\n\t\t\t\tSystem.err.println(&quot;Incorrect password&quot;);\r\n\t\t\t\tstart(choice, scanner, pass, user);\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tSystem.err.println(&quot;Incorrect password&quot;);\r\n\t\t\tstart(choice, scanner, pass, user);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void start(String choice, Scanner scanner, String pass, String user) {\r\n\t\tscanner = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;What would you like to do? &quot;);\r\n\t\tchoice = scanner.nextLine();\r\n\t\tcommand(choice, scanner, pass, user);\r\n\t}\r\n\tpublic static void login(String pass, Scanner scanner, String choice, String user) {\r\n\t\tSystem.out.println(&quot;Enter username&quot;);\r\n\t\tchoice = scanner.nextLine();\r\n\t\tif(choice.equals(user)) {\r\n\t\t\tSystem.out.println(&quot;Valid Username.&quot;);\r\n\t\t\tpassword(pass, choice, scanner, user);\r\n\t\t}else {\r\n\t\t\tSystem.err.println(&quot;No user named &quot; + choice);\r\n\t\t\tstart(choice, scanner, pass, user);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nI have started making an array library, but I don&#39;t know how to access any of the usernames or passwords in general,(like once you put in a username, it gets the matching password)\r\n```java\r\npackage logins;\r\n\r\npublic class Logins {\r\n\tpublic static void main(String[] args) {\r\n\t\tString[] User = new String[] {&quot;Username&quot;, &quot;Password&quot;};\r\n\t\tString[] User1 = new String[] {&quot;Username1&quot;, &quot;Password1&quot;};\r\n\t}\r\n}\r\n\r\n```","title":"How to make a library of string arrays and access them like a login system. (Java 17)","body":"<p>I am trying to make a login prompt with usernames and passwords, but I cannot figure out how to make the string array library. My current code can take in 1 username and password by using functions with variables, (like <code>public myFunction(String myVariable);</code>) and login with just that, and change the pass and username.\ncurrently, my code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>package main;\n\nimport java.util.Scanner;\nimport logins.Logins;\n\npublic class Main {\n    public static void main(String[] args) {\n        String choice = null;\n        Scanner scanner = null;\n        start(choice, scanner, &quot;Password&quot;, &quot;Username&quot;);\n    }\n    \n    public static void command(String choice, Scanner scanner, String pass, String user) {\n        if(choice.equals(&quot;login&quot;)) { \n            login(pass, scanner, choice, user);\n        }else if(choice.equals(&quot;change password&quot;)) {\n            passChange(pass, choice, scanner, user);\n        }else if(choice.equals(&quot;change username&quot;)) {\n            userChange(pass, choice, scanner, user);\n        }else {\n            System.err.println(&quot;Invalid choice&quot;);\n            start(choice, scanner, pass, user);\n        }\n    }\n    \n    public static void password(String pass, String choice, Scanner scanner, String user) {\n        System.out.println(&quot;Enter password&quot;);\n        choice = scanner.nextLine();\n        if(choice.equals(pass)) {\n            System.out.println(&quot;Password Correct. You are logged in&quot;);\n            start(choice, scanner, pass, user);\n        }else {\n            System.err.println(&quot;Incorrect Password&quot;);\n            start(choice, scanner, pass, user);\n        }\n    }\n    \n    public static void passChange(String pass, String choice, Scanner scanner, String user) {\n        System.out.println(&quot;Username:&quot;);\n        choice = scanner.nextLine();\n        if (choice.equals(user)) {\n            System.out.println(&quot;Old Password:&quot;);\n            choice = scanner.nextLine();\n            if (choice.equals(pass)) {\n                System.out.println(&quot;New Password&quot;);\n                choice = scanner.nextLine();\n                pass = choice;\n                start(choice, scanner, pass, user);\n            }else {\n                System.err.println(&quot;Incorrect password&quot;);\n                start(choice, scanner, pass, user);\n            }\n        }else {\n            System.err.println(&quot;No user found named &quot; + choice);\n            start(choice, scanner, pass, user);\n        }\n    }\n    \n    public static void userChange(String pass, String choice, Scanner scanner, String user) {\n        System.out.println(&quot;Username:&quot;);\n        choice = scanner.nextLine();\n        if (choice.equals(user)) {\n            System.out.println(&quot;Password:&quot;);\n            choice = scanner.nextLine();\n            if (choice.equals(pass)) {\n                System.out.println(&quot;Logged in. New username:&quot;);\n                choice = scanner.nextLine();\n                user = choice;\n                start(choice, scanner, pass, user);\n            }else {\n                System.err.println(&quot;Incorrect password&quot;);\n                start(choice, scanner, pass, user);\n            }\n        }else {\n            System.err.println(&quot;Incorrect password&quot;);\n            start(choice, scanner, pass, user);\n        }\n    }\n    \n    public static void start(String choice, Scanner scanner, String pass, String user) {\n        scanner = new Scanner(System.in);\n        System.out.println(&quot;What would you like to do? &quot;);\n        choice = scanner.nextLine();\n        command(choice, scanner, pass, user);\n    }\n    public static void login(String pass, Scanner scanner, String choice, String user) {\n        System.out.println(&quot;Enter username&quot;);\n        choice = scanner.nextLine();\n        if(choice.equals(user)) {\n            System.out.println(&quot;Valid Username.&quot;);\n            password(pass, choice, scanner, user);\n        }else {\n            System.err.println(&quot;No user named &quot; + choice);\n            start(choice, scanner, pass, user);\n        }\n    }\n}\n</code></pre>\n<p>I have started making an array library, but I don't know how to access any of the usernames or passwords in general,(like once you put in a username, it gets the matching password)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package logins;\n\npublic class Logins {\n    public static void main(String[] args) {\n        String[] User = new String[] {&quot;Username&quot;, &quot;Password&quot;};\n        String[] User1 = new String[] {&quot;Username1&quot;, &quot;Password1&quot;};\n    }\n}\n\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1658270755,"post_id":73044145,"comment_id":129009141,"body_markdown":"I&#39;d consider using a `JLabel` formatted with HTML over `JTextArea` - IMHO","body":"I&#39;d consider using a <code>JLabel</code> formatted with HTML over <code>JTextArea</code> - IMHO"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":3,"creation_date":1658271964,"post_id":73044145,"comment_id":129009334,"body_markdown":"Or maybe a `JTable`, for [example](https://stackoverflow.com/a/37756293/230513).","body":"Or maybe a <code>JTable</code>, for <a href=\"https://stackoverflow.com/a/37756293/230513\">example</a>."}],"owner":{"account_id":403180,"reputation":595,"user_id":770788,"accept_rate":88,"display_name":"Funlamb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658270311,"creation_date":1658270311,"question_id":73044145,"body_markdown":"I have two buttons that are supposed to open `JOptionPane`s. One of them does not format to the right size. The code looks the same to me. What am I doing wrong here?\r\n\r\nThis one does not display all the text in the `JTextArea`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    public static void listAllTransactions(){\r\n        DecimalFormat fmt = new DecimalFormat(&quot;0.00&quot;);\r\n        String message = &quot;List All Transactions \\n&quot;;\r\n        message += &quot;Name: &quot; + ca.getName() + &quot;\\n\\n&quot;;\r\n        message += &quot;ID\\tType\\tAmount\\n&quot;;\r\n        for (Transaction t : ca.transactions){\r\n            message += t.getTransNumber() + &quot;\\t&quot; +\r\n                    HelperTransactionIds.getTransactionName(t.getTransIdType()) + &quot;\\t$&quot; +\r\n                    fmt.format(t.getTransAmount()) + &quot;\\n&quot;;\r\n        }\r\n        JTextArea jTextArea = new JTextArea(message);\r\n        jTextArea.setEditable(false);\r\n        jTextArea.setBackground(Color.LIGHT_GRAY);\r\n        JOptionPane.showMessageDialog(null,jTextArea);\r\n    } \r\n\r\nThe other one works as intended. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe code looks the same to me but I could be missing something:\r\n\r\n    public static void listChecks(){\r\n        DecimalFormat fmt = new DecimalFormat(&quot;0.00&quot;);\r\n        String message = &quot;List All Checks \\n&quot;;\r\n        message += &quot;Name: &quot; + ca.getName() + &quot;\\n\\n&quot;;\r\n        message += &quot;ID\\tCheck\\tAmount\\n&quot;;\r\n        for (Transaction t : ca.transactions){\r\n            if (t.getTransIdType() == HelperTransactionIds.CHECK){\r\n                Check myCheck = (Check) t;\r\n                message += t.getTransNumber() + &quot;\\t&quot; +myCheck.getNumber() + &quot;\\t$&quot; + fmt.format(t.getTransAmount()) + &quot;\\n&quot;;\r\n            }\r\n        }\r\n        JTextArea jTextArea = new JTextArea(message);\r\n        jTextArea.setEditable(false);\r\n        jTextArea.setBackground(Color.LIGHT_GRAY);\r\n        JOptionPane.showMessageDialog(null, jTextArea);\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/5s18W.png\r\n  [2]: https://i.stack.imgur.com/H7qXM.png","title":"JOptionPane is getting trunkcated on only one JOptionPane but not the other","body":"<p>I have two buttons that are supposed to open <code>JOptionPane</code>s. One of them does not format to the right size. The code looks the same to me. What am I doing wrong here?</p>\n<p>This one does not display all the text in the <code>JTextArea</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/5s18W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5s18W.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public static void listAllTransactions(){\n    DecimalFormat fmt = new DecimalFormat(&quot;0.00&quot;);\n    String message = &quot;List All Transactions \\n&quot;;\n    message += &quot;Name: &quot; + ca.getName() + &quot;\\n\\n&quot;;\n    message += &quot;ID\\tType\\tAmount\\n&quot;;\n    for (Transaction t : ca.transactions){\n        message += t.getTransNumber() + &quot;\\t&quot; +\n                HelperTransactionIds.getTransactionName(t.getTransIdType()) + &quot;\\t$&quot; +\n                fmt.format(t.getTransAmount()) + &quot;\\n&quot;;\n    }\n    JTextArea jTextArea = new JTextArea(message);\n    jTextArea.setEditable(false);\n    jTextArea.setBackground(Color.LIGHT_GRAY);\n    JOptionPane.showMessageDialog(null,jTextArea);\n} \n</code></pre>\n<p>The other one works as intended.</p>\n<p><a href=\"https://i.stack.imgur.com/H7qXM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H7qXM.png\" alt=\"enter image description here\" /></a></p>\n<p>The code looks the same to me but I could be missing something:</p>\n<pre><code>public static void listChecks(){\n    DecimalFormat fmt = new DecimalFormat(&quot;0.00&quot;);\n    String message = &quot;List All Checks \\n&quot;;\n    message += &quot;Name: &quot; + ca.getName() + &quot;\\n\\n&quot;;\n    message += &quot;ID\\tCheck\\tAmount\\n&quot;;\n    for (Transaction t : ca.transactions){\n        if (t.getTransIdType() == HelperTransactionIds.CHECK){\n            Check myCheck = (Check) t;\n            message += t.getTransNumber() + &quot;\\t&quot; +myCheck.getNumber() + &quot;\\t$&quot; + fmt.format(t.getTransAmount()) + &quot;\\n&quot;;\n        }\n    }\n    JTextArea jTextArea = new JTextArea(message);\n    jTextArea.setEditable(false);\n    jTextArea.setBackground(Color.LIGHT_GRAY);\n    JOptionPane.showMessageDialog(null, jTextArea);\n}\n</code></pre>\n"},{"tags":["java","browser","new-window"],"comments":[{"owner":{"account_id":2988754,"reputation":5716,"user_id":2536842,"accept_rate":64,"display_name":"Dylan Meeus"},"score":2,"creation_date":1448971538,"post_id":34020027,"comment_id":55794974,"body_markdown":"http://stackoverflow.com/questions/5226212/how-to-open-the-default-webbrowser-using-java","body":"<a href=\"http://stackoverflow.com/questions/5226212/how-to-open-the-default-webbrowser-using-java\" title=\"how to open the default webbrowser using java\">stackoverflow.com/questions/5226212/&hellip;</a>"},{"owner":{"account_id":6398787,"reputation":167,"user_id":4962270,"accept_rate":90,"display_name":"Ankit Kumar Singhal"},"score":0,"creation_date":1448971696,"post_id":34020027,"comment_id":55795067,"body_markdown":"this will open a new tab in default browser. I want to open new window","body":"this will open a new tab in default browser. I want to open new window"}],"answers":[{"tags":[],"owner":{"account_id":1969331,"reputation":2302,"user_id":1768737,"accept_rate":100,"display_name":"hcarrasko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1448971951,"creation_date":1448971951,"answer_id":34020190,"question_id":34020027,"body_markdown":"If you are using windows, this should do the trick:\r\n\r\n    Runtime.getRuntime().exec(&quot;rundll32 url.dll,FileProtocolHandler http://www.google.com&quot;);\r\n\r\nHope it helps.","title":"how to open new browser window from java desktop application code?","body":"<p>If you are using windows, this should do the trick:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"rundll32 url.dll,FileProtocolHandler http://www.google.com\");\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448971959,"creation_date":1448971959,"answer_id":34020192,"question_id":34020027,"body_markdown":"The builtin mechanism for &quot;opening a browser&quot; would be\r\n\r\n    Desktop.getDesktop().browse(new URI(&quot;http://your.link...&quot;))\r\n\r\nStarting a new window / process each time might only be possible if you *know* the browser being used and know of a parameter to pass to always create new window.","title":"how to open new browser window from java desktop application code?","body":"<p>The builtin mechanism for \"opening a browser\" would be</p>\n\n<pre><code>Desktop.getDesktop().browse(new URI(\"http://your.link...\"))\n</code></pre>\n\n<p>Starting a new window / process each time might only be possible if you <em>know</em> the browser being used and know of a parameter to pass to always create new window.</p>\n"}],"owner":{"account_id":6398787,"reputation":167,"user_id":4962270,"accept_rate":90,"display_name":"Ankit Kumar Singhal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3971,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34020190,"answer_count":2,"score":2,"last_activity_date":1658270166,"creation_date":1448971437,"question_id":34020027,"body_markdown":"I want to open new browser window from java desktop application. If browser is already open, then new browser window should open. Every time it should open a separate window.","title":"how to open new browser window from java desktop application code?","body":"<p>I want to open new browser window from java desktop application. If browser is already open, then new browser window should open. Every time it should open a separate window.</p>\n"},{"tags":["java","android","android-navigation-bar"],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658269795,"creation_date":1658269795,"answer_id":73044092,"question_id":71875128,"body_markdown":"&gt; Is there a callback to detect when the navigation bar appears and disappears, as the user swipes up, and afterwards, when the navigation bar automatically hides?\r\n\r\nYou can&#39;t detect that, a user&#39;s swipe to show the navigation bar or the status bar isn&#39;t a part of your app, it&#39;s the system responsibility that runs in a different process than your app&#39;s.\r\n\r\nActually your app&#39;s window isn&#39;t affected on that swipe; and hence the bars are laid on top of your activity (without any extra insets) and that is an evidence that it&#39;s related to the system window instead. So, any listener within your app&#39;s process/window can&#39;t help on that.\r\n\r\nCheck [this](https://stackoverflow.com/a/27133221/9851608) answer for more detail.","title":"How to detect when the system navigation bar appears on full screen mode?","body":"<blockquote>\n<p>Is there a callback to detect when the navigation bar appears and disappears, as the user swipes up, and afterwards, when the navigation bar automatically hides?</p>\n</blockquote>\n<p>You can't detect that, a user's swipe to show the navigation bar or the status bar isn't a part of your app, it's the system responsibility that runs in a different process than your app's.</p>\n<p>Actually your app's window isn't affected on that swipe; and hence the bars are laid on top of your activity (without any extra insets) and that is an evidence that it's related to the system window instead. So, any listener within your app's process/window can't help on that.</p>\n<p>Check <a href=\"https://stackoverflow.com/a/27133221/9851608\">this</a> answer for more detail.</p>\n"}],"owner":{"account_id":8704143,"reputation":1153,"user_id":6512857,"display_name":"Will"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73044092,"answer_count":1,"score":3,"last_activity_date":1658269795,"creation_date":1649955082,"question_id":71875128,"body_markdown":"The following code successfully hides the system&#39;s navigation bar from the screen. Users can still swipe up to reveal the navigation bar, which will remain on screen for a few seconds, then disappear again.\r\n\r\nIs there a callback to detect when the navigation bar appears and disappears, as the user swipes up, and afterwards, when the navigation bar automatically hides?\r\n\r\n``` java\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n\r\n    getWindow().setDecorFitsSystemWindows(false);\r\n\r\n    if (getWindow().getInsetsController() != null) {\r\n        getWindow().getInsetsController().hide(WindowInsets.Type.navigationBars());\r\n        getWindow().getInsetsController().setSystemBarsBehavior(WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\r\n    }\r\n\r\n} else {\r\n\r\n    getWindow().getDecorView().setSystemUiVisibility(\r\n        View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION |\r\n        View.SYSTEM_UI_FLAG_HIDE_NAVIGATION |\r\n        View.SYSTEM_UI_FLAG_LAYOUT_STABLE |\r\n        View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n    );\r\n}\r\n```\r\n\r\nThe code below (taken from the [docs][1]) seems to detect when the navigation bar is hidden on launch, but not when the user swipes up to reveal it, or when it disappears afterwards.\r\n\r\n``` java\r\nView decorView = getWindow().getDecorView();\r\ndecorView.setOnSystemUiVisibilityChangeListener\r\n        (new View.OnSystemUiVisibilityChangeListener() {\r\n    @Override\r\n    public void onSystemUiVisibilityChange(int visibility) {\r\n        // Note that system bars will only be &quot;visible&quot; if none of the\r\n        // LOW_PROFILE, HIDE_NAVIGATION, or FULLSCREEN flags are set.\r\n        if ((visibility &amp; View.SYSTEM_UI_FLAG_FULLSCREEN) == 0) {\r\n            // TODO: The system bars are visible. Make any desired\r\n            // adjustments to your UI, such as showing the action bar or\r\n            // other navigational controls.\r\n        } else {\r\n            // TODO: The system bars are NOT visible. Make any desired\r\n            // adjustments to your UI, such as hiding the action bar or\r\n            // other navigational controls.\r\n        }\r\n    }\r\n});\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/training/system-ui/visibility#listener\r\n","title":"How to detect when the system navigation bar appears on full screen mode?","body":"<p>The following code successfully hides the system's navigation bar from the screen. Users can still swipe up to reveal the navigation bar, which will remain on screen for a few seconds, then disappear again.</p>\n<p>Is there a callback to detect when the navigation bar appears and disappears, as the user swipes up, and afterwards, when the navigation bar automatically hides?</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n\n    getWindow().setDecorFitsSystemWindows(false);\n\n    if (getWindow().getInsetsController() != null) {\n        getWindow().getInsetsController().hide(WindowInsets.Type.navigationBars());\n        getWindow().getInsetsController().setSystemBarsBehavior(WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\n    }\n\n} else {\n\n    getWindow().getDecorView().setSystemUiVisibility(\n        View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION |\n        View.SYSTEM_UI_FLAG_HIDE_NAVIGATION |\n        View.SYSTEM_UI_FLAG_LAYOUT_STABLE |\n        View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n    );\n}\n</code></pre>\n<p>The code below (taken from the <a href=\"https://developer.android.com/training/system-ui/visibility#listener\" rel=\"nofollow noreferrer\">docs</a>) seems to detect when the navigation bar is hidden on launch, but not when the user swipes up to reveal it, or when it disappears afterwards.</p>\n<pre class=\"lang-java prettyprint-override\"><code>View decorView = getWindow().getDecorView();\ndecorView.setOnSystemUiVisibilityChangeListener\n        (new View.OnSystemUiVisibilityChangeListener() {\n    @Override\n    public void onSystemUiVisibilityChange(int visibility) {\n        // Note that system bars will only be &quot;visible&quot; if none of the\n        // LOW_PROFILE, HIDE_NAVIGATION, or FULLSCREEN flags are set.\n        if ((visibility &amp; View.SYSTEM_UI_FLAG_FULLSCREEN) == 0) {\n            // TODO: The system bars are visible. Make any desired\n            // adjustments to your UI, such as showing the action bar or\n            // other navigational controls.\n        } else {\n            // TODO: The system bars are NOT visible. Make any desired\n            // adjustments to your UI, such as hiding the action bar or\n            // other navigational controls.\n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","maven","testing","jdbc","junit"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1658270351,"post_id":73044036,"comment_id":129009081,"body_markdown":"Normally, to test code like this, you&#39;d test two methods at once - a method that creates the data and a method that selects it back from the database.  Your test would call the create method, then call the select method, and check that the object that was selected matches the object that was created.","body":"Normally, to test code like this, you&#39;d test two methods at once - a method that creates the data and a method that selects it back from the database.  Your test would call the create method, then call the select method, and check that the object that was selected matches the object that was created."}],"answers":[{"tags":[],"owner":{"account_id":18431035,"reputation":582,"user_id":13426164,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658269705,"creation_date":1658269705,"answer_id":73044083,"question_id":73044036,"body_markdown":"Well you could use assertNull: \r\n\r\n`assertNull(Dao.create(created));`","title":"Testing a method that returns null at the end","body":"<p>Well you could use assertNull:</p>\n<p><code>assertNull(Dao.create(created));</code></p>\n"}],"owner":{"account_id":25844932,"reputation":3,"user_id":19579925,"display_name":"tdypole"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73044083,"answer_count":1,"score":-1,"last_activity_date":1658269705,"creation_date":1658269265,"question_id":73044036,"body_markdown":"```\r\npublic class CustomerDAO implements Dao&lt;Customer&gt; {\r\n\r\npublic static final Logger LOGGER = LogManager.getLogger();\r\n\r\n\t@Override\r\n\tpublic Customer modelFromResultSet(ResultSet resultSet) throws SQLException {\r\n\t\tLong id = resultSet.getLong(&quot;id&quot;);\r\n\t\tString firstName = resultSet.getString(&quot;firstName&quot;);\r\n\t\tString surname = resultSet.getString(&quot;surname&quot;);\r\n\t\treturn new Customer(id, firstName, surname);\r\n\t}\r\n    @Override\r\n    public Customer create(Customer customer) {\r\n\t\ttry (Connection connection = DBUtils.getInstance().getConnection();\r\n\t\t\t\tPreparedStatement statement = connection\r\n\t\t\t\t\t\t.prepareStatement(&quot;INSERT INTO customers(firstName, surname) VALUES (?, ?)&quot;);) {\r\n\t\t\tstatement.setString(1, customer.getFirstName());\r\n\t\t\tstatement.setString(2, customer.getSurname());\r\n\t\t\tstatement.executeUpdate();\r\n\t\t\treturn readLatest();\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.debug(e);\r\n\t\t\tLOGGER.error(e.getMessage());\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\nThe create method above is the one I am trying to test.\r\n```\r\npublic class CustomerDAOTest {\r\n\r\n\tprivate final CustomerDAO DAO = new CustomerDAO();\r\n\r\n    @Test\r\n\tpublic void testCreate() {\r\n\t\tfinal Customer created = new Customer(2L, &quot;chris&quot;, &quot;perrins&quot;);\r\n\t\tassertEquals(created, DAO.create(created));\r\n\t}\r\n}\r\n```\r\nThis is the test I wrote, but obviously the create method will return null, and the created variable won&#39;t, therefore the test fails. What can I do to work around this? The original method is not my own code, it&#39;s a learning exercise, so ideally I wouldn&#39;t want to change it that much if that&#39;s a possibility. \r\n","title":"Testing a method that returns null at the end","body":"<pre><code>public class CustomerDAO implements Dao&lt;Customer&gt; {\n\npublic static final Logger LOGGER = LogManager.getLogger();\n\n    @Override\n    public Customer modelFromResultSet(ResultSet resultSet) throws SQLException {\n        Long id = resultSet.getLong(&quot;id&quot;);\n        String firstName = resultSet.getString(&quot;firstName&quot;);\n        String surname = resultSet.getString(&quot;surname&quot;);\n        return new Customer(id, firstName, surname);\n    }\n    @Override\n    public Customer create(Customer customer) {\n        try (Connection connection = DBUtils.getInstance().getConnection();\n                PreparedStatement statement = connection\n                        .prepareStatement(&quot;INSERT INTO customers(firstName, surname) VALUES (?, ?)&quot;);) {\n            statement.setString(1, customer.getFirstName());\n            statement.setString(2, customer.getSurname());\n            statement.executeUpdate();\n            return readLatest();\n        } catch (Exception e) {\n            LOGGER.debug(e);\n            LOGGER.error(e.getMessage());\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>The create method above is the one I am trying to test.</p>\n<pre><code>public class CustomerDAOTest {\n\n    private final CustomerDAO DAO = new CustomerDAO();\n\n    @Test\n    public void testCreate() {\n        final Customer created = new Customer(2L, &quot;chris&quot;, &quot;perrins&quot;);\n        assertEquals(created, DAO.create(created));\n    }\n}\n</code></pre>\n<p>This is the test I wrote, but obviously the create method will return null, and the created variable won't, therefore the test fails. What can I do to work around this? The original method is not my own code, it's a learning exercise, so ideally I wouldn't want to change it that much if that's a possibility.</p>\n"},{"tags":["java","spring-boot","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":1868145,"reputation":2268,"user_id":1691152,"display_name":"yurloc"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658269094,"creation_date":1658269094,"answer_id":73044014,"question_id":73043599,"body_markdown":"Mixing `@PlanningListVariable` with `@PlanningVariable` is not possible in the current version of OptaPlanner (8.24.1.Final).\r\n\r\nThe list variable feature is still under development so it&#39;s not yet documented and it misses the support for many advanced use cases, including mixing with basic planning variables.\r\n\r\nYour use case seems valid and I think it should eventually be supported. I have filed https://issues.redhat.com/browse/PLANNER-2755 to track the requirement.","title":"OptaPlanner - Problem with using @PlanningListVariable and @PlanningVariable in the same planning entity","body":"<p>Mixing <code>@PlanningListVariable</code> with <code>@PlanningVariable</code> is not possible in the current version of OptaPlanner (8.24.1.Final).</p>\n<p>The list variable feature is still under development so it's not yet documented and it misses the support for many advanced use cases, including mixing with basic planning variables.</p>\n<p>Your use case seems valid and I think it should eventually be supported. I have filed <a href=\"https://issues.redhat.com/browse/PLANNER-2755\" rel=\"nofollow noreferrer\">https://issues.redhat.com/browse/PLANNER-2755</a> to track the requirement.</p>\n"}],"owner":{"account_id":25848241,"reputation":21,"user_id":19582679,"display_name":"Nikola Bakic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1658269094,"creation_date":1658265616,"question_id":73043599,"body_markdown":"I created a planning entity that represents a lesson and in that entity I defined two planning variables and one planning list variable. Program was working normally before adding a planning list variable and then it resulted\r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: The config (ValueSelectorConfig(null)) has no configured variableName for entityClass (class com.tmtblback.dto.LessonDto) and because there are multiple variableNames ([room, studentGroups, timeslot]), it cannot be deduced automatically.\r\n```\r\n\r\nHas anyone else encountered this problem and how to solve it?","title":"OptaPlanner - Problem with using @PlanningListVariable and @PlanningVariable in the same planning entity","body":"<p>I created a planning entity that represents a lesson and in that entity I defined two planning variables and one planning list variable. Program was working normally before adding a planning list variable and then it resulted</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: The config (ValueSelectorConfig(null)) has no configured variableName for entityClass (class com.tmtblback.dto.LessonDto) and because there are multiple variableNames ([room, studentGroups, timeslot]), it cannot be deduced automatically.\n</code></pre>\n<p>Has anyone else encountered this problem and how to solve it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1658261917,"post_id":73043010,"comment_id":129007097,"body_markdown":"Define and use a dedicated logger for the `SecRepository` class. It&#39;s not clear why you&#39;re trying to use `StorageRepository`&#39;s.","body":"Define and use a dedicated logger for the <code>SecRepository</code> class. It&#39;s not clear why you&#39;re trying to use <code>StorageRepository</code>&#39;s."}],"answers":[{"tags":[],"owner":{"account_id":16122678,"reputation":86,"user_id":11638256,"display_name":"Fogux"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658263340,"creation_date":1658263340,"answer_id":73043271,"question_id":73043010,"body_markdown":"You can achieve this using reflection:\r\n\r\n    public Logger getLogger() throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException\r\n\t{\r\n\t\tField f = StorageRepository.class.getDeclaredField(&quot;LOGGER&quot;);\r\n\t\tf.setAccessible(true);\r\n\t\treturn (Logger) f.get(null);\r\n\t}\r\n","title":"Access private logger in parent class","body":"<p>You can achieve this using reflection:</p>\n<pre><code>public Logger getLogger() throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException\n{\n    Field f = StorageRepository.class.getDeclaredField(&quot;LOGGER&quot;);\n    f.setAccessible(true);\n    return (Logger) f.get(null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658268716,"creation_date":1658268716,"answer_id":73043967,"question_id":73043010,"body_markdown":"If you really want to use the same `Logger`, just use\r\n```\r\nprivate static final Logger LOGGER = LoggerFactory.getLogger(StorageRepository.class);\r\n```\r\nin `SecRepository`, and it will retrieve the same `Logger` instance.","title":"Access private logger in parent class","body":"<p>If you really want to use the same <code>Logger</code>, just use</p>\n<pre><code>private static final Logger LOGGER = LoggerFactory.getLogger(StorageRepository.class);\n</code></pre>\n<p>in <code>SecRepository</code>, and it will retrieve the same <code>Logger</code> instance.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1658268716,"creation_date":1658261831,"question_id":73043010,"body_markdown":"I have the following class which I can&#39;t modify:\r\n\r\n    public class StorageRepository {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(StorageRepository.class);\r\n    \r\n    }\r\n\r\nI have to use this class:\r\n\r\n    public class SecRepository extends StorageRepository {\r\n    \r\n       LOGGER.error(.....);\r\n    \r\n    }\r\n\r\nThe parent class can&#39;t be modified because it it&#39;s in a private jar.\r\n\r\nWhat are the options to solve the error: `LOGGER&#39; has private access in &#39;com.StorageRepository&#39;`","title":"Access private logger in parent class","body":"<p>I have the following class which I can't modify:</p>\n<pre><code>public class StorageRepository {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(StorageRepository.class);\n\n}\n</code></pre>\n<p>I have to use this class:</p>\n<pre><code>public class SecRepository extends StorageRepository {\n\n   LOGGER.error(.....);\n\n}\n</code></pre>\n<p>The parent class can't be modified because it it's in a private jar.</p>\n<p>What are the options to solve the error: <code>LOGGER' has private access in 'com.StorageRepository'</code></p>\n"},{"tags":["java","swing","tablemodel","tablecellrenderer","tablecelleditor"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1308167475,"post_id":6355544,"comment_id":7450359,"body_markdown":"For reference, the singular of &quot;criteria&quot; is [&quot;criterion&quot;](http://www.google.com/search?hl=en&amp;q=define%3Acriterion). See also [criterium](http://en.wikipedia.org/wiki/Criterium), a kind of  bike race.","body":"For reference, the singular of &quot;criteria&quot; is <a href=\"http://www.google.com/search?hl=en&amp;q=define%3Acriterion\" rel=\"nofollow noreferrer\">&quot;criterion&quot;</a>. See also <a href=\"http://en.wikipedia.org/wiki/Criterium\" rel=\"nofollow noreferrer\">criterium</a>, a kind of  bike race."},{"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"score":4,"creation_date":1308201685,"post_id":6355544,"comment_id":7456228,"body_markdown":"Whoops, not my native language :)","body":"Whoops, not my native language :)"}],"answers":[{"tags":[],"owner":{"account_id":758007,"reputation":394,"user_id":760981,"display_name":"BaSche"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308130315,"creation_date":1308130315,"answer_id":6355679,"question_id":6355544,"body_markdown":"add all Components for a search criteria to a panel and add/remove the specific Panel. I don&#39;t think a Tablemodel is a good choice here.","title":"How to implement dynamic GUI in swing","body":"<p>add all Components for a search criteria to a panel and add/remove the specific Panel. I don't think a Tablemodel is a good choice here.</p>\n"},{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1308130365,"creation_date":1308130365,"answer_id":6355689,"question_id":6355544,"body_markdown":"I think such a custom TableMOdel and TableCellRenderer/Editor is the best choice.\r\nhttp://download.oracle.com/javase/tutorial/uiswing/components/table.html\r\nThat would be good to start.","title":"How to implement dynamic GUI in swing","body":"<p>I think such a custom TableMOdel and TableCellRenderer/Editor is the best choice.\n<a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow\">http://download.oracle.com/javase/tutorial/uiswing/components/table.html</a>\nThat would be good to start.</p>\n"},{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1308142580,"creation_date":1308131559,"answer_id":6355910,"question_id":6355544,"body_markdown":"only example, everything is hardcoded, for good understanding\r\n\r\nEDIT: \r\n\r\nas kleopatra&#39;s noticed, moved JTable#fireTableDataChanged() from ActionListener to the TableModel, amended all ClassNames start with lowerCase \r\n\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.EventObject;\r\n    import javax.swing.*;\r\n    import javax.swing.table.*;\r\n    \r\n    public class ComponentTableTest {\r\n    \r\n        private JFrame frame;\r\n        private JTable CompTable = null;\r\n        private CompTableModel CompModel = null;\r\n        private JButton addButton = null;\r\n    \r\n        public static void main(String args[]) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    new ComponentTableTest().makeUI();\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void makeUI() {\r\n            CompTable = CreateCompTable();\r\n            JScrollPane CompTableScrollpane = new JScrollPane(CompTable, JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,\r\n                    JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n            JPanel bottomPanel = CreateBottomPanel();\r\n            frame = new JFrame(&quot;Comp Table Test&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(CompTableScrollpane, BorderLayout.CENTER);\r\n            frame.add(bottomPanel, BorderLayout.SOUTH);\r\n            frame.setPreferredSize(new Dimension(800, 400));\r\n            frame.setLocation(150, 150);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public JTable CreateCompTable() {\r\n            CompModel = new CompTableModel();\r\n            CompModel.addRow();\r\n            JTable table = new JTable(CompModel);\r\n            table.setRowHeight(new CompCellPanel().getPreferredSize().height);\r\n            table.setTableHeader(null);\r\n            CompCellEditorRenderer compCellEditorRenderer = new CompCellEditorRenderer();\r\n            table.setDefaultRenderer(Object.class, compCellEditorRenderer);\r\n            table.setDefaultEditor(Object.class, compCellEditorRenderer);\r\n            return table;\r\n        }\r\n    \r\n        public JPanel CreateBottomPanel() {\r\n            addButton = new JButton(&quot;Add Comp&quot;);\r\n            addButton.addActionListener(new ActionListener() {\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent ae) {\r\n                    Object source = ae.getSource();\r\n    \r\n                    if (source == addButton) {\r\n                        CompModel.addRow();\r\n                        //CompModel.fireTableDataChanged(); // moved to TableModel\r\n                    }\r\n                }\r\n            });\r\n            JPanel panel = new JPanel(new GridBagLayout());\r\n            panel.add(addButton);\r\n            return panel;\r\n        }\r\n    }\r\n    \r\n    class CompCellEditorRenderer extends AbstractCellEditor implements TableCellRenderer, TableCellEditor {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private CompCellPanel renderer = new CompCellPanel();\r\n        private CompCellPanel editor = new CompCellPanel();\r\n    \r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n            renderer.setComp((Comp) value);\r\n            return renderer;\r\n        }\r\n    \r\n        @Override\r\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\r\n            editor.setComp((Comp) value);\r\n            return editor;\r\n        }\r\n    \r\n        @Override\r\n        public Object getCellEditorValue() {\r\n            return editor.getComp();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCellEditable(EventObject anEvent) {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean shouldSelectCell(EventObject anEvent) {\r\n            return false;\r\n        }\r\n    }\r\n    \r\n    class CompTableModel extends DefaultTableModel {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Override\r\n        public int getColumnCount() {\r\n            return 1;\r\n        }\r\n    \r\n        public void addRow() {\r\n            super.addRow(new Object[]{new Comp(0, 0, &quot;&quot;, &quot;&quot;)});\r\n            //super.fireTableDataChanged();\r\n        }\r\n    }\r\n    \r\n    class Comp {\r\n    \r\n        int type;\r\n        int relation;\r\n        String lower;\r\n        String upper;\r\n    \r\n        public Comp(int type, int relation, String lower, String upper) {\r\n            this.type = type;\r\n            this.relation = relation;\r\n            this.lower = lower;\r\n            this.upper = upper;\r\n        }\r\n    }\r\n    \r\n    class CompCellPanel extends JPanel {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private JLabel labelWith = new JLabel(&quot;With &quot;);\r\n        private JComboBox typeCombo = new JComboBox(new Object[]{&quot;height&quot;, &quot;length&quot;, &quot;volume&quot;});\r\n        private JComboBox relationCombo = new JComboBox(new Object[]{&quot;above&quot;, &quot;below&quot;, &quot;between&quot;});\r\n        private JTextField lowerField = new JTextField();\r\n        private JLabel labelAnd = new JLabel(&quot; and &quot;);\r\n        private JTextField upperField = new JTextField();\r\n        private JButton removeButton = new JButton(&quot;remove&quot;);\r\n    \r\n        CompCellPanel() {\r\n            setLayout(new BoxLayout(this, BoxLayout.X_AXIS));\r\n            relationCombo.addActionListener(new ActionListener() {\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    enableUpper(relationCombo.getSelectedIndex() == 2);\r\n                }\r\n            });\r\n            enableUpper(false);\r\n            removeButton.addActionListener(new ActionListener() {\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    JTable table = (JTable) SwingUtilities.getAncestorOfClass(JTable.class, (Component) e.getSource());\r\n                    int row = table.getEditingRow();\r\n                    table.getCellEditor().stopCellEditing();\r\n                    ((DefaultTableModel) table.getModel()).removeRow(row);\r\n                }\r\n            });\r\n            add(labelWith);\r\n            add(typeCombo);\r\n            add(relationCombo);\r\n            add(lowerField);\r\n            add(labelAnd);\r\n            add(upperField);\r\n            add(Box.createHorizontalStrut(100));\r\n            add(removeButton);\r\n        }\r\n    \r\n        private void enableUpper(boolean enable) {\r\n            labelAnd.setEnabled(enable);\r\n            upperField.setEnabled(enable);\r\n        }\r\n    \r\n        public void setComp(Comp Comp) {\r\n            typeCombo.setSelectedIndex(Comp.type);\r\n            relationCombo.setSelectedIndex(Comp.relation);\r\n            lowerField.setText(Comp.lower);\r\n            upperField.setText(Comp.upper);\r\n            enableUpper(Comp.relation == 2);\r\n        }\r\n    \r\n        public Comp getComp() {\r\n            return new Comp(typeCombo.getSelectedIndex(), relationCombo.getSelectedIndex(), lowerField.getText(), upperField.getText());\r\n        }\r\n    }\r\n\r\n","title":"How to implement dynamic GUI in swing","body":"<p>only example, everything is hardcoded, for good understanding</p>\n\n<p>EDIT: </p>\n\n<p>as kleopatra's noticed, moved JTable#fireTableDataChanged() from ActionListener to the TableModel, amended all ClassNames start with lowerCase </p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.util.EventObject;\nimport javax.swing.*;\nimport javax.swing.table.*;\n\npublic class ComponentTableTest {\n\n    private JFrame frame;\n    private JTable CompTable = null;\n    private CompTableModel CompModel = null;\n    private JButton addButton = null;\n\n    public static void main(String args[]) {\n        SwingUtilities.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                new ComponentTableTest().makeUI();\n            }\n        });\n    }\n\n    public void makeUI() {\n        CompTable = CreateCompTable();\n        JScrollPane CompTableScrollpane = new JScrollPane(CompTable, JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,\n                JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n        JPanel bottomPanel = CreateBottomPanel();\n        frame = new JFrame(\"Comp Table Test\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(CompTableScrollpane, BorderLayout.CENTER);\n        frame.add(bottomPanel, BorderLayout.SOUTH);\n        frame.setPreferredSize(new Dimension(800, 400));\n        frame.setLocation(150, 150);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public JTable CreateCompTable() {\n        CompModel = new CompTableModel();\n        CompModel.addRow();\n        JTable table = new JTable(CompModel);\n        table.setRowHeight(new CompCellPanel().getPreferredSize().height);\n        table.setTableHeader(null);\n        CompCellEditorRenderer compCellEditorRenderer = new CompCellEditorRenderer();\n        table.setDefaultRenderer(Object.class, compCellEditorRenderer);\n        table.setDefaultEditor(Object.class, compCellEditorRenderer);\n        return table;\n    }\n\n    public JPanel CreateBottomPanel() {\n        addButton = new JButton(\"Add Comp\");\n        addButton.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent ae) {\n                Object source = ae.getSource();\n\n                if (source == addButton) {\n                    CompModel.addRow();\n                    //CompModel.fireTableDataChanged(); // moved to TableModel\n                }\n            }\n        });\n        JPanel panel = new JPanel(new GridBagLayout());\n        panel.add(addButton);\n        return panel;\n    }\n}\n\nclass CompCellEditorRenderer extends AbstractCellEditor implements TableCellRenderer, TableCellEditor {\n\n    private static final long serialVersionUID = 1L;\n    private CompCellPanel renderer = new CompCellPanel();\n    private CompCellPanel editor = new CompCellPanel();\n\n    @Override\n    public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n        renderer.setComp((Comp) value);\n        return renderer;\n    }\n\n    @Override\n    public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\n        editor.setComp((Comp) value);\n        return editor;\n    }\n\n    @Override\n    public Object getCellEditorValue() {\n        return editor.getComp();\n    }\n\n    @Override\n    public boolean isCellEditable(EventObject anEvent) {\n        return true;\n    }\n\n    @Override\n    public boolean shouldSelectCell(EventObject anEvent) {\n        return false;\n    }\n}\n\nclass CompTableModel extends DefaultTableModel {\n\n    private static final long serialVersionUID = 1L;\n\n    @Override\n    public int getColumnCount() {\n        return 1;\n    }\n\n    public void addRow() {\n        super.addRow(new Object[]{new Comp(0, 0, \"\", \"\")});\n        //super.fireTableDataChanged();\n    }\n}\n\nclass Comp {\n\n    int type;\n    int relation;\n    String lower;\n    String upper;\n\n    public Comp(int type, int relation, String lower, String upper) {\n        this.type = type;\n        this.relation = relation;\n        this.lower = lower;\n        this.upper = upper;\n    }\n}\n\nclass CompCellPanel extends JPanel {\n\n    private static final long serialVersionUID = 1L;\n    private JLabel labelWith = new JLabel(\"With \");\n    private JComboBox typeCombo = new JComboBox(new Object[]{\"height\", \"length\", \"volume\"});\n    private JComboBox relationCombo = new JComboBox(new Object[]{\"above\", \"below\", \"between\"});\n    private JTextField lowerField = new JTextField();\n    private JLabel labelAnd = new JLabel(\" and \");\n    private JTextField upperField = new JTextField();\n    private JButton removeButton = new JButton(\"remove\");\n\n    CompCellPanel() {\n        setLayout(new BoxLayout(this, BoxLayout.X_AXIS));\n        relationCombo.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                enableUpper(relationCombo.getSelectedIndex() == 2);\n            }\n        });\n        enableUpper(false);\n        removeButton.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JTable table = (JTable) SwingUtilities.getAncestorOfClass(JTable.class, (Component) e.getSource());\n                int row = table.getEditingRow();\n                table.getCellEditor().stopCellEditing();\n                ((DefaultTableModel) table.getModel()).removeRow(row);\n            }\n        });\n        add(labelWith);\n        add(typeCombo);\n        add(relationCombo);\n        add(lowerField);\n        add(labelAnd);\n        add(upperField);\n        add(Box.createHorizontalStrut(100));\n        add(removeButton);\n    }\n\n    private void enableUpper(boolean enable) {\n        labelAnd.setEnabled(enable);\n        upperField.setEnabled(enable);\n    }\n\n    public void setComp(Comp Comp) {\n        typeCombo.setSelectedIndex(Comp.type);\n        relationCombo.setSelectedIndex(Comp.relation);\n        lowerField.setText(Comp.lower);\n        upperField.setText(Comp.upper);\n        enableUpper(Comp.relation == 2);\n    }\n\n    public Comp getComp() {\n        return new Comp(typeCombo.getSelectedIndex(), relationCombo.getSelectedIndex(), lowerField.getText(), upperField.getText());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":90734,"reputation":2071,"user_id":249623,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658268617,"creation_date":1388531097,"answer_id":20864042,"question_id":6355544,"body_markdown":"Netbeans has a nice ui that does something similar to what you describe:\r\n![Task List Filter KeywordPanel][1]\r\n\r\nWhy not stand on the shoulders of giants?  The Netbeans panels look nice and work well.   The implementation is even cleanly separated between ui and model code.  If I was in your shoes (and it was June of 2011), I&#39;d base my solution on the source here: \r\n\r\nhttp://source.apidesign.org/hg/netbeans/releases/file/cb41fb91bc28/tasklist.ui/src/org/netbeans/modules/tasklist/filter\r\n\r\nKeywordPanel.java contains this comment: &quot;The GUI is based on the one in Mozilla&#39;s mail tool&quot;.\r\n\r\nSorry for the late answer.\r\n\r\n  [1]: http://i.stack.imgur.com/bNIu5.png\r\n","title":"How to implement dynamic GUI in swing","body":"<p>Netbeans has a nice ui that does something similar to what you describe:\n<img src=\"https://i.stack.imgur.com/bNIu5.png\" alt=\"Task List Filter KeywordPanel\" /></p>\n<p>Why not stand on the shoulders of giants?  The Netbeans panels look nice and work well.   The implementation is even cleanly separated between ui and model code.  If I was in your shoes (and it was June of 2011), I'd base my solution on the source here:</p>\n<p><a href=\"http://source.apidesign.org/hg/netbeans/releases/file/cb41fb91bc28/tasklist.ui/src/org/netbeans/modules/tasklist/filter\" rel=\"nofollow noreferrer\">http://source.apidesign.org/hg/netbeans/releases/file/cb41fb91bc28/tasklist.ui/src/org/netbeans/modules/tasklist/filter</a></p>\n<p>KeywordPanel.java contains this comment: &quot;The GUI is based on the one in Mozilla's mail tool&quot;.</p>\n<p>Sorry for the late answer.</p>\n"}],"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11782,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":6355910,"answer_count":4,"score":12,"last_activity_date":1658268617,"creation_date":1308129549,"question_id":6355544,"body_markdown":"First of all, apologies for posting something perhaps a bit excessively specific, but I&#39;m not very experienced with Swing, and can&#39;t seem to find good examples that fit my needs.\r\n\r\nSo I&#39;m trying to figure out the best way to implement the a dynamic GUI for choosing filtering criteria in Swing:\r\n\r\n![Mockup of GUI to implement][1]\r\n\r\nThe underlying model is a class containing a list of criteria that can be negated (i.e. applied with a NOT-prefix), and a property indicating whether these should be combined with AND or OR.\r\n\r\nThe GUI would allow the user to add, change or remove criteria, and select the combination operator (and/or). The first criterium would naturally not have a combination-selector, and the third and subsequent criteria would simply use the same combination-operator as the second one.\r\n\r\nThe X-buttons on the right would be used to delete a criterium. When the Add-button is pressed, a new line of components would be added to the bottom.\r\nAs changes are made, these would be reflected in the underlying model.\r\n\r\nOf course I could implement this quite &quot;primitively&quot; by simply adding components to a JPanel and then updating the model accordingly, but I would prefer a neater solution, such as that provided by a TableModel.\r\n\r\nSo I&#39;m wondering if a table with a custom TableModel and TableCellRenderer/Editor would be the best approach, or if there is a better way to implement something like this. If table is indeed the best approach, I would appreciate some pointers to how one would use TableCellRenderers or -Editors to accomplish this.\r\n\r\nThanks in advance.\r\n\r\n  [1]: http://i.stack.imgur.com/m2HLn.png","title":"How to implement dynamic GUI in swing","body":"<p>First of all, apologies for posting something perhaps a bit excessively specific, but I'm not very experienced with Swing, and can't seem to find good examples that fit my needs.</p>\n\n<p>So I'm trying to figure out the best way to implement the a dynamic GUI for choosing filtering criteria in Swing:</p>\n\n<p><img src=\"https://i.stack.imgur.com/m2HLn.png\" alt=\"Mockup of GUI to implement\"></p>\n\n<p>The underlying model is a class containing a list of criteria that can be negated (i.e. applied with a NOT-prefix), and a property indicating whether these should be combined with AND or OR.</p>\n\n<p>The GUI would allow the user to add, change or remove criteria, and select the combination operator (and/or). The first criterium would naturally not have a combination-selector, and the third and subsequent criteria would simply use the same combination-operator as the second one.</p>\n\n<p>The X-buttons on the right would be used to delete a criterium. When the Add-button is pressed, a new line of components would be added to the bottom.\nAs changes are made, these would be reflected in the underlying model.</p>\n\n<p>Of course I could implement this quite \"primitively\" by simply adding components to a JPanel and then updating the model accordingly, but I would prefer a neater solution, such as that provided by a TableModel.</p>\n\n<p>So I'm wondering if a table with a custom TableModel and TableCellRenderer/Editor would be the best approach, or if there is a better way to implement something like this. If table is indeed the best approach, I would appreciate some pointers to how one would use TableCellRenderers or -Editors to accomplish this.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","multithreading","spring-boot","concurrency"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1658324782,"post_id":73042924,"comment_id":129023820,"body_markdown":"IMO people get too hung up about how `sleep` works. From the _application&#39;s_ perspective, it&#39;s dirt simple:`sleep(6000)` does _nothing._ It does nothing for six seconds, and then it returns. From the OS scheduler&#39;s perspective, that means that the thread won&#39;t be needing the CPU core for the next six seconds, but that&#39;s transparent to the application. No matter what the OS actually does to make the thread &quot;sleep,&quot; it will always maintain the _illusion_ that the `sleep` call did nothing.","body":"IMO people get too hung up about how <code>sleep</code> works. From the <i>application&#39;s</i> perspective, it&#39;s dirt simple:<code>sleep(6000)</code> does <i>nothing.</i> It does nothing for six seconds, and then it returns. From the OS scheduler&#39;s perspective, that means that the thread won&#39;t be needing the CPU core for the next six seconds, but that&#39;s transparent to the application. No matter what the OS actually does to make the thread &quot;sleep,&quot; it will always maintain the <i>illusion</i> that the <code>sleep</code> call did nothing."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658268210,"creation_date":1658268210,"answer_id":73043910,"question_id":73042924,"body_markdown":"No, not automatically. If a normal Java Thread is sleeping, then it&#39;s sleeping.\r\n\r\nAlso, Threads are really cheap nowadays, I would not bother with details like that. \r\n\r\nWorking around the sleep and let that &#39;sleeping&#39; Thread do some other work is really really hard to manage properly and easily will lead to loads and loads of unforeseen problems.\r\n\r\nIn your situation, what you COULD improve is that the pool size is not fixed but dynamic, releasing (destroying) threads when they haven&#39;t been used for some time (say: a minute). \r\nIf more threads are needed, the pool will create new Threads, up to the given limit. (`Executors.newCachedThreadPool()`)\r\nThat&#39;s especially helpful on a server, because 99% of threads on there are just idle (not even &#39;actively&#39; sleeping).\r\n\r\nHere are some details that might interest you: https://www.baeldung.com/thread-pool-java-and-guava\r\n\r\nEspecially check out ForkJoinPool: https://www.baeldung.com/java-fork-join, because this comes very close to a very similar problem.","title":"Will thread in thread pool (ThreadPoolTaskExecutor) be used for other tasks when in sleep?","body":"<p>No, not automatically. If a normal Java Thread is sleeping, then it's sleeping.</p>\n<p>Also, Threads are really cheap nowadays, I would not bother with details like that.</p>\n<p>Working around the sleep and let that 'sleeping' Thread do some other work is really really hard to manage properly and easily will lead to loads and loads of unforeseen problems.</p>\n<p>In your situation, what you COULD improve is that the pool size is not fixed but dynamic, releasing (destroying) threads when they haven't been used for some time (say: a minute).\nIf more threads are needed, the pool will create new Threads, up to the given limit. (<code>Executors.newCachedThreadPool()</code>)\nThat's especially helpful on a server, because 99% of threads on there are just idle (not even 'actively' sleeping).</p>\n<p>Here are some details that might interest you: <a href=\"https://www.baeldung.com/thread-pool-java-and-guava\" rel=\"nofollow noreferrer\">https://www.baeldung.com/thread-pool-java-and-guava</a></p>\n<p>Especially check out ForkJoinPool: <a href=\"https://www.baeldung.com/java-fork-join\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-fork-join</a>, because this comes very close to a very similar problem.</p>\n"}],"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73043910,"answer_count":1,"score":0,"last_activity_date":1658268210,"creation_date":1658261284,"question_id":73042924,"body_markdown":"I have a thread pool created from ThreadPoolTaskExecutor:\r\n\r\n    threadPoolTaskExecutor.setCorePoolSize(10);\r\n\r\nthis ThreadPoolTaskExecutor will execute runnables, each runnable has a `Thread.sleep(6000);` call during the task execution.\r\n\r\nSo when I execute the 1st task and when the 1st task calls `Thread.sleep(6000)` to sleep, at that time, execute the 2nd task, will it be possible the 2nd task will use the thread of the 1st task or interrupt the thread used by the 1st task? since it is in sleep.","title":"Will thread in thread pool (ThreadPoolTaskExecutor) be used for other tasks when in sleep?","body":"<p>I have a thread pool created from ThreadPoolTaskExecutor:</p>\n<pre><code>threadPoolTaskExecutor.setCorePoolSize(10);\n</code></pre>\n<p>this ThreadPoolTaskExecutor will execute runnables, each runnable has a <code>Thread.sleep(6000);</code> call during the task execution.</p>\n<p>So when I execute the 1st task and when the 1st task calls <code>Thread.sleep(6000)</code> to sleep, at that time, execute the 2nd task, will it be possible the 2nd task will use the thread of the 1st task or interrupt the thread used by the 1st task? since it is in sleep.</p>\n"},{"tags":["java","spring","docker","elasticsearch"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658257003,"post_id":73041890,"comment_id":129005532,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":12225796,"reputation":67,"user_id":8923447,"display_name":"Arsham Sedaghatbin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658268117,"creation_date":1658268117,"answer_id":73043897,"question_id":73041890,"body_markdown":"Log in to your docker account\r\nTry it again,\r\nIf you Live in specific country  use vpn","title":"Problem docker pull ElasticSearch 403 forbidden","body":"<p>Log in to your docker account\nTry it again,\nIf you Live in specific country  use vpn</p>\n"}],"owner":{"account_id":15254316,"reputation":1,"user_id":16007661,"display_name":"Serhio Duran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658268117,"creation_date":1658255227,"question_id":73041890,"body_markdown":"Guys I live in R*u*s*s*I*-&gt;a, and now I have problem with pull docker image from hub, Who understand the ? And how I can get around it. Sorry about my eng language ;) If I want download in site for notebook, I have this problem too\r\n\r\n[problem download in site][1] \r\n\r\n[problem pull in terminal][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L5HZ1.png\r\n  [2]: https://i.stack.imgur.com/OpQIT.png","title":"Problem docker pull ElasticSearch 403 forbidden","body":"<p>Guys I live in R<em>u</em>s<em>s</em>I*-&gt;a, and now I have problem with pull docker image from hub, Who understand the ? And how I can get around it. Sorry about my eng language ;) If I want download in site for notebook, I have this problem too</p>\n<p><a href=\"https://i.stack.imgur.com/L5HZ1.png\" rel=\"nofollow noreferrer\">problem download in site</a></p>\n<p><a href=\"https://i.stack.imgur.com/OpQIT.png\" rel=\"nofollow noreferrer\">problem pull in terminal</a></p>\n"},{"tags":["java","for-loop","filter","stream","java-stream"],"answers":[{"tags":[],"owner":{"account_id":22039646,"reputation":1477,"user_id":16305607,"display_name":"majusebetter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658267212,"creation_date":1658267212,"answer_id":73043809,"question_id":73043233,"body_markdown":"You could use `filter()` on the `pack.getSet().getCompressors()` stream and then look for a match in `goldData`, like this:\r\n\r\n\tList&lt;CompressorModel&gt; filteredCompressors = pack.getSet()\r\n            .getCompressors().stream()\r\n\t\t\t.filter(cmp -&gt; goldData.stream().anyMatch(gd -&gt; cmp.getGcsn().equalsIgnoreCase(gd.getCompressorSerialNo()) &amp;&amp; gd.getIsGoldplated()))\r\n\t\t\t.collect(Collectors.toList());","title":"Java Stream filter/peek two different conditions in the same section","body":"<p>You could use <code>filter()</code> on the <code>pack.getSet().getCompressors()</code> stream and then look for a match in <code>goldData</code>, like this:</p>\n<pre><code>List&lt;CompressorModel&gt; filteredCompressors = pack.getSet()\n        .getCompressors().stream()\n        .filter(cmp -&gt; goldData.stream().anyMatch(gd -&gt; cmp.getGcsn().equalsIgnoreCase(gd.getCompressorSerialNo()) &amp;&amp; gd.getIsGoldplated()))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4774094,"reputation":122,"user_id":3857808,"display_name":"Ishadi Jayasinghe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658267739,"creation_date":1658267739,"answer_id":73043867,"question_id":73043233,"body_markdown":"Peek is basically there only to be used for debugging purposes. Peek can be not executed at all at times because it&#39;s a terminal operation. You can see [here][1] to get an idea. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44370676/java-8-peek-vs-map\r\n\r\nSo you may modify your implementation to use filter instead. \r\n\r\n    List&lt;CompressorModel&gt; filteredCompressors = pack.getSet().getCompressors().stream()\r\n                .filter(p -&gt; goldData.stream().map(GoldPlateData::getCompressorSerialNo).anyMatch(name -&gt; name.equals(p.getGcsn())))\r\n                .filter(p -&gt; goldData.stream().map(GoldPlateData::getIsGoldplated))\r\n                .collect(Collectors.toList());","title":"Java Stream filter/peek two different conditions in the same section","body":"<p>Peek is basically there only to be used for debugging purposes. Peek can be not executed at all at times because it's a terminal operation. You can see <a href=\"https://stackoverflow.com/questions/44370676/java-8-peek-vs-map\">here</a> to get an idea.</p>\n<p>So you may modify your implementation to use filter instead.</p>\n<pre><code>List&lt;CompressorModel&gt; filteredCompressors = pack.getSet().getCompressors().stream()\n            .filter(p -&gt; goldData.stream().map(GoldPlateData::getCompressorSerialNo).anyMatch(name -&gt; name.equals(p.getGcsn())))\n            .filter(p -&gt; goldData.stream().map(GoldPlateData::getIsGoldplated))\n            .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":4131338,"reputation":35,"user_id":3389205,"display_name":"xThunder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73043809,"answer_count":2,"score":0,"last_activity_date":1658267739,"creation_date":1658263100,"question_id":73043233,"body_markdown":"I&#39;m trying to filter two conditions in a stream that is inside another stream of data, what I need to do is to check if the object is there by using the &quot;name&quot; parameter and then reviewing the Boolean property of &quot;isGoldplated&quot; if is true, I tried using this code but didn&#39;t work as it wasn&#39;t filtering by the isGoldplated parameter:\r\n\r\n    List&lt;CompressorModel&gt; filteredCompressors = pack.getSet().getCompressors().stream()\r\n        \t\t\t.peek(p -&gt; goldData.stream().map(GoldPlateData::getCompressorSerialNo).anyMatch(name -&gt; name.equals(p.getGcsn())))\r\n        \t\t\t.peek(p -&gt; goldData.stream().map(GoldPlateData::getIsGoldplated))\r\n        \t\t\t.collect(Collectors.toList());\r\n\r\nso I finished using two loops instead:\r\n\r\n    List&lt;CompressorModel&gt; filteredCompressors = new ArrayList&lt;&gt;();\r\n            for (CompressorModel cmp : pack.getSet().getCompressors()) {            \t\r\n            \tfor(GoldPlateData gold: goldData) {            \t\t\r\n            \t\tif( StringUtils.equalsIgnoreCase(cmp.getGcsn(), gold.getCompressorSerialNo()) &amp;&amp; Boolean.TRUE.equals(gold.getIsGoldplated())) {\r\n            \t\t\tfilteredCompressors.add(cmp);\r\n            \t\t}            \t\t\r\n            \t}            \t\r\n            }\r\n\r\nso my request is, **how could I convert these two loops into a working stream?**\r\n\r\nthanks in advance","title":"Java Stream filter/peek two different conditions in the same section","body":"<p>I'm trying to filter two conditions in a stream that is inside another stream of data, what I need to do is to check if the object is there by using the &quot;name&quot; parameter and then reviewing the Boolean property of &quot;isGoldplated&quot; if is true, I tried using this code but didn't work as it wasn't filtering by the isGoldplated parameter:</p>\n<pre><code>List&lt;CompressorModel&gt; filteredCompressors = pack.getSet().getCompressors().stream()\n                .peek(p -&gt; goldData.stream().map(GoldPlateData::getCompressorSerialNo).anyMatch(name -&gt; name.equals(p.getGcsn())))\n                .peek(p -&gt; goldData.stream().map(GoldPlateData::getIsGoldplated))\n                .collect(Collectors.toList());\n</code></pre>\n<p>so I finished using two loops instead:</p>\n<pre><code>List&lt;CompressorModel&gt; filteredCompressors = new ArrayList&lt;&gt;();\n        for (CompressorModel cmp : pack.getSet().getCompressors()) {                \n            for(GoldPlateData gold: goldData) {                 \n                if( StringUtils.equalsIgnoreCase(cmp.getGcsn(), gold.getCompressorSerialNo()) &amp;&amp; Boolean.TRUE.equals(gold.getIsGoldplated())) {\n                    filteredCompressors.add(cmp);\n                }                   \n            }               \n        }\n</code></pre>\n<p>so my request is, <strong>how could I convert these two loops into a working stream?</strong></p>\n<p>thanks in advance</p>\n"},{"tags":["java","android","arrays","string","arraylist"],"answers":[{"tags":[],"owner":{"account_id":1176196,"reputation":7038,"user_id":1152182,"accept_rate":77,"display_name":"Melih Mucuk"},"down_vote_count":2,"up_vote_count":183,"is_accepted":true,"score":181,"last_activity_date":1584999653,"creation_date":1380667232,"answer_id":19127223,"question_id":19127071,"body_markdown":"Try this;\r\n\r\n    List&lt;String&gt; Lines = Arrays.asList(getResources().getStringArray(R.array.Lines));\r\n\r\nand this for kotlin:\r\n\r\n    val Lines = resources.getStringArray(R.array.Lines).toList()\r\n","title":"Change String-Array in Strings.xml to ArrayList","body":"<p>Try this;</p>\n\n<pre><code>List&lt;String&gt; Lines = Arrays.asList(getResources().getStringArray(R.array.Lines));\n</code></pre>\n\n<p>and this for kotlin:</p>\n\n<pre><code>val Lines = resources.getStringArray(R.array.Lines).toList()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2101290,"reputation":6172,"user_id":1868841,"display_name":"Waqar UlHaq"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1532240352,"creation_date":1532240352,"answer_id":51462534,"question_id":19127071,"body_markdown":"In strings.xml,  add string array\r\n\r\n    &lt;string-array name=&quot;dashboard_tags&quot;&gt;\r\n        &lt;item&gt;Home&lt;/item&gt;\r\n        &lt;item&gt;Settings&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\nIn your .java class access the string array like\r\n\r\n    List&lt;String&gt; tags = Arrays.asList(getResources().getStringArray(R.array.dashboard_tags));","title":"Change String-Array in Strings.xml to ArrayList","body":"<p>In strings.xml,  add string array</p>\n\n<pre><code>&lt;string-array name=\"dashboard_tags\"&gt;\n    &lt;item&gt;Home&lt;/item&gt;\n    &lt;item&gt;Settings&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n\n<p>In your .java class access the string array like</p>\n\n<pre><code>List&lt;String&gt; tags = Arrays.asList(getResources().getStringArray(R.array.dashboard_tags));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10059343,"reputation":4094,"user_id":7436566,"display_name":"OhhhThatVarun"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1568347716,"creation_date":1568347716,"answer_id":57917179,"question_id":19127071,"body_markdown":"If anybody wondering how to do the same in **kotlin**\r\n\r\n```\r\nval universities = arrayListOf&lt;String&gt;(*resources.getStringArray(R.array.universities))\r\n```\r\n`universities` will be `ArrayList&lt;String&gt;`","title":"Change String-Array in Strings.xml to ArrayList","body":"<p>If anybody wondering how to do the same in <strong>kotlin</strong></p>\n\n<pre><code>val universities = arrayListOf&lt;String&gt;(*resources.getStringArray(R.array.universities))\n</code></pre>\n\n<p><code>universities</code> will be <code>ArrayList&lt;String&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":16449117,"reputation":655,"user_id":11882972,"display_name":"Silambarasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573793450,"creation_date":1569061695,"answer_id":58039391,"question_id":19127071,"body_markdown":"This is the best practice without any warning\r\n\r\nAdd string array to arraylist:\r\n\r\n    Collections.addAll(Lines, getResources().getStringArray(R.array.Lines));\r\n\r\n\r\nTo add one ArrayList to another:\r\n\r\n    newList.addAll(oldList);","title":"Change String-Array in Strings.xml to ArrayList","body":"<p>This is the best practice without any warning</p>\n\n<p>Add string array to arraylist:</p>\n\n<pre><code>Collections.addAll(Lines, getResources().getStringArray(R.array.Lines));\n</code></pre>\n\n<p>To add one ArrayList to another:</p>\n\n<pre><code>newList.addAll(oldList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243423,"reputation":403,"user_id":13280037,"display_name":"Zaman Rajpoot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658267364,"creation_date":1658267364,"answer_id":73043829,"question_id":19127071,"body_markdown":" use this\r\n\r\n    String[] parityArray = getResources().getStringArray(R.array.arrayName);","title":"Change String-Array in Strings.xml to ArrayList","body":"<p>use this</p>\n<pre><code>String[] parityArray = getResources().getStringArray(R.array.arrayName);\n</code></pre>\n"}],"owner":{"account_id":3046327,"reputation":10175,"user_id":2581872,"accept_rate":90,"display_name":"hichris123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48777,"favorite_count":0,"down_vote_count":1,"up_vote_count":71,"accepted_answer_id":19127223,"answer_count":5,"score":70,"last_activity_date":1658267364,"creation_date":1380666500,"question_id":19127071,"body_markdown":"I&#39;m developing an Android app. I need to convert a string array into an ArrayList. I&#39;ve read up on this, and all have cases where you add the values to the array in the java file. I have declared the string-array in the strings.xml file. My string-array is here:\r\n\r\n    &lt;string-array name=&quot;Lines&quot;&gt;\r\n        &lt;item&gt;Red Line&lt;/item&gt;\r\n        &lt;item&gt;Blue Line&lt;/item&gt;\r\n        &lt;item&gt;Orange Line&lt;/item&gt;\r\n        &lt;item&gt;Green Line&lt;/item&gt;\r\n        &lt;item&gt;Brown Line&lt;/item&gt;\r\n        &lt;item&gt;Purple Line&lt;/item&gt;\r\n        &lt;item&gt;Pink Line&lt;/item&gt;\r\n        &lt;item&gt;Yellow Line&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\nI need to convert Lines into ArrayList. If I use this\r\n\r\n    List&lt;String&gt; Lines = new ArrayList&lt;String&gt;();\r\n\r\nto declare the ArrayList, how can find the array list by ID, and store that as Lines?\r\n\r\n","title":"Change String-Array in Strings.xml to ArrayList","body":"<p>I'm developing an Android app. I need to convert a string array into an ArrayList. I've read up on this, and all have cases where you add the values to the array in the java file. I have declared the string-array in the strings.xml file. My string-array is here:</p>\n\n<pre><code>&lt;string-array name=\"Lines\"&gt;\n    &lt;item&gt;Red Line&lt;/item&gt;\n    &lt;item&gt;Blue Line&lt;/item&gt;\n    &lt;item&gt;Orange Line&lt;/item&gt;\n    &lt;item&gt;Green Line&lt;/item&gt;\n    &lt;item&gt;Brown Line&lt;/item&gt;\n    &lt;item&gt;Purple Line&lt;/item&gt;\n    &lt;item&gt;Pink Line&lt;/item&gt;\n    &lt;item&gt;Yellow Line&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n\n<p>I need to convert Lines into ArrayList. If I use this</p>\n\n<pre><code>List&lt;String&gt; Lines = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>to declare the ArrayList, how can find the array list by ID, and store that as Lines?</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1658260651,"post_id":73042761,"comment_id":129006644,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658267255,"creation_date":1658267255,"answer_id":73043815,"question_id":73042761,"body_markdown":"I usually use that code to save when necessary, but not too frequently:\r\n\r\n\r\n\r\n\r\n    import java.util.concurrent.LinkedBlockingQueue;\r\n    \r\n    public class DelayedSaver&lt;T&gt; {\r\n    \r\n    \r\n    \r\n    \t/*\r\n    \t * STATIC\r\n    \t */\r\n    \r\n    \tpublic interface SaveLambda&lt;T&gt; {\r\n    \t\tvoid run(T pValue);\r\n    \t}\r\n    \r\n    \tstatic public void sleep(final int pMS) {\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(pMS);\r\n    \t\t} catch (final InterruptedException e) { /* ignore */ }\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/*\r\n    \t * TEST\r\n    \t */\r\n    \r\n    \tstatic public void main(final String[] args) {\r\n    \t\tfinal SaveLambda&lt;String&gt; saveAction = p -&gt; {\r\n    \t\t\tSystem.out.println(&quot;Saving value [&quot; + p + &quot;]&quot;);\r\n    \t\t\t// actually you would write to a file or database here\r\n    \t\t};\r\n    \r\n    \t\tfinal DelayedSaver&lt;String&gt; ds = new DelayedSaver&lt;&gt;(saveAction, 3000, false, false); // will run in its own thread\r\n    \t\tfor (int i = 0; i &lt; 30; i++) {\r\n    \t\t\tsleep((int) Math.pow(Math.random() * 80, 2)); // sleep 0 - 6.4 seconds, longer times are more improbable but possible\r\n    \r\n    \t\t\tfinal String newEventValue = &quot;TestString &quot; + ((int) (Math.random() * 100));\r\n    \t\t\tSystem.out.println(&quot;Received new value: &quot; + newEventValue);\r\n    \t\t\tds.update(newEventValue);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Test ended.&quot;);\r\n    \t\tds.dispose();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/*\r\n    \t * OBJECT\r\n    \t */\r\n    \r\n    \tprivate final LinkedBlockingQueue&lt;T&gt; mQueue = new LinkedBlockingQueue&lt;&gt;();\r\n    \r\n    \tprivate final SaveLambda&lt;T&gt;\tmSaveLambda;\r\n    \tprivate final int\t\t\tmUpdateMS;\r\n    \tprivate final Thread\t\tmWorkingThread;\r\n    \tprivate final boolean\t\tmWaitForSavingThread;\r\n    \r\n    \tprivate volatile boolean mDisposed;\r\n    \r\n    \r\n    \r\n    \t/**\r\n    \t * @param pSaveLambda The code to be run to save the latest value\r\n    \t * @param pUpdateMS The time in milliseconds for a consecutive check\r\n    \t * @param pUseDaemonThread If true, does not need a call to {@link #dispose()} to end thread. If false, might will not save latest value.\r\n    \t * @param pWaitForSavingThread If saving takes long time, set to true, to prevent race conditions on resources\r\n    \t */\r\n    \tpublic DelayedSaver(final SaveLambda&lt;T&gt; pSaveLambda, final int pUpdateMS, final boolean pUseDaemonThread, final boolean pWaitForSavingThread) {\r\n    \t\tmSaveLambda = pSaveLambda;\r\n    \t\tmUpdateMS = pUpdateMS;\r\n    \t\tmWaitForSavingThread = pWaitForSavingThread;\r\n    \r\n    \t\tmWorkingThread = new Thread(() -&gt; runLoop(), getClass().getName());\r\n    \r\n    \t\tif (pUseDaemonThread) mWorkingThread.setDaemon(true);\r\n    \t\t// daemon threads automatically end when all essential threads end, so not dispose() necessary.\r\n    \t\t// but this might prevent the latest value from being saved\r\n    \r\n    \t\tmWorkingThread.start();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic void update(final T pValue) {\r\n    \t\tif (mDisposed) throw new IllegalStateException(&quot;This service is already disposed and cannot accept any more values.&quot;);\r\n    \t\tmQueue.add(pValue);\r\n    \t}\r\n    \r\n    \tpublic void dispose() { // manually end the thread\r\n    \t\tmDisposed = true;\r\n    \t\tmWorkingThread.interrupt(); // send interrupt signal to daemon thread\r\n    \t}\r\n    \r\n    \tprivate void runLoop() {\r\n    \t\tSystem.out.println(getClass() + &quot; started.&quot;);\r\n    \t\t// this will also save the latest value if dispose() was called\r\n    \t\twhile (!mDisposed) {\r\n    \t\t\tsleep(mUpdateMS);\r\n    \r\n    \t\t\tfinal T latestValue = grabLatestValue();\r\n    \t\t\tif (latestValue != null) {\r\n    \t\t\t\tfinal Thread savingThread = new Thread(() -&gt; mSaveLambda.run(latestValue), getClass().getName() + &quot; Saving Thread&quot;); // do NOT set daemon=true here\r\n    \t\t\t\tsavingThread.start();\r\n    \t\t\t\tif (mWaitForSavingThread) try {\r\n    \t\t\t\t\tsavingThread.join();\r\n    \t\t\t\t} catch (final InterruptedException e) {\r\n    \t\t\t\t\tSystem.err.println(&quot;Error while waiting for Saving Thread:&quot;);\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot; (&quot; + getClass().getName() + &quot; checked, but no values present, skipping.)&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (Thread.interrupted()) break;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate T grabLatestValue() {\r\n    \t\tT value = mQueue.poll();\r\n    \t\twhile (true) {\r\n    \t\t\tfinal T value2 = mQueue.poll();\r\n    \t\t\tif (value2 == null) break;\r\n    \t\t\tvalue = value2;\r\n    \t\t}\r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nI hope that&#39;s what you&#39;re after. Like in the example (main method), call `ds.update(newEventValue);` each time someone sends a new message.","title":"How to efficiently save a stat that updates continuously in java?","body":"<p>I usually use that code to save when necessary, but not too frequently:</p>\n<pre><code>import java.util.concurrent.LinkedBlockingQueue;\n\npublic class DelayedSaver&lt;T&gt; {\n\n\n\n    /*\n     * STATIC\n     */\n\n    public interface SaveLambda&lt;T&gt; {\n        void run(T pValue);\n    }\n\n    static public void sleep(final int pMS) {\n        try {\n            Thread.sleep(pMS);\n        } catch (final InterruptedException e) { /* ignore */ }\n    }\n\n\n\n    /*\n     * TEST\n     */\n\n    static public void main(final String[] args) {\n        final SaveLambda&lt;String&gt; saveAction = p -&gt; {\n            System.out.println(&quot;Saving value [&quot; + p + &quot;]&quot;);\n            // actually you would write to a file or database here\n        };\n\n        final DelayedSaver&lt;String&gt; ds = new DelayedSaver&lt;&gt;(saveAction, 3000, false, false); // will run in its own thread\n        for (int i = 0; i &lt; 30; i++) {\n            sleep((int) Math.pow(Math.random() * 80, 2)); // sleep 0 - 6.4 seconds, longer times are more improbable but possible\n\n            final String newEventValue = &quot;TestString &quot; + ((int) (Math.random() * 100));\n            System.out.println(&quot;Received new value: &quot; + newEventValue);\n            ds.update(newEventValue);\n        }\n        System.out.println(&quot;Test ended.&quot;);\n        ds.dispose();\n    }\n\n\n\n    /*\n     * OBJECT\n     */\n\n    private final LinkedBlockingQueue&lt;T&gt; mQueue = new LinkedBlockingQueue&lt;&gt;();\n\n    private final SaveLambda&lt;T&gt; mSaveLambda;\n    private final int           mUpdateMS;\n    private final Thread        mWorkingThread;\n    private final boolean       mWaitForSavingThread;\n\n    private volatile boolean mDisposed;\n\n\n\n    /**\n     * @param pSaveLambda The code to be run to save the latest value\n     * @param pUpdateMS The time in milliseconds for a consecutive check\n     * @param pUseDaemonThread If true, does not need a call to {@link #dispose()} to end thread. If false, might will not save latest value.\n     * @param pWaitForSavingThread If saving takes long time, set to true, to prevent race conditions on resources\n     */\n    public DelayedSaver(final SaveLambda&lt;T&gt; pSaveLambda, final int pUpdateMS, final boolean pUseDaemonThread, final boolean pWaitForSavingThread) {\n        mSaveLambda = pSaveLambda;\n        mUpdateMS = pUpdateMS;\n        mWaitForSavingThread = pWaitForSavingThread;\n\n        mWorkingThread = new Thread(() -&gt; runLoop(), getClass().getName());\n\n        if (pUseDaemonThread) mWorkingThread.setDaemon(true);\n        // daemon threads automatically end when all essential threads end, so not dispose() necessary.\n        // but this might prevent the latest value from being saved\n\n        mWorkingThread.start();\n    }\n\n\n\n    public void update(final T pValue) {\n        if (mDisposed) throw new IllegalStateException(&quot;This service is already disposed and cannot accept any more values.&quot;);\n        mQueue.add(pValue);\n    }\n\n    public void dispose() { // manually end the thread\n        mDisposed = true;\n        mWorkingThread.interrupt(); // send interrupt signal to daemon thread\n    }\n\n    private void runLoop() {\n        System.out.println(getClass() + &quot; started.&quot;);\n        // this will also save the latest value if dispose() was called\n        while (!mDisposed) {\n            sleep(mUpdateMS);\n\n            final T latestValue = grabLatestValue();\n            if (latestValue != null) {\n                final Thread savingThread = new Thread(() -&gt; mSaveLambda.run(latestValue), getClass().getName() + &quot; Saving Thread&quot;); // do NOT set daemon=true here\n                savingThread.start();\n                if (mWaitForSavingThread) try {\n                    savingThread.join();\n                } catch (final InterruptedException e) {\n                    System.err.println(&quot;Error while waiting for Saving Thread:&quot;);\n                    e.printStackTrace();\n                }\n            } else {\n                System.out.println(&quot; (&quot; + getClass().getName() + &quot; checked, but no values present, skipping.)&quot;);\n            }\n\n            if (Thread.interrupted()) break;\n        }\n    }\n\n    private T grabLatestValue() {\n        T value = mQueue.poll();\n        while (true) {\n            final T value2 = mQueue.poll();\n            if (value2 == null) break;\n            value = value2;\n        }\n        return value;\n    }\n\n}\n</code></pre>\n<p>I hope that's what you're after. Like in the example (main method), call <code>ds.update(newEventValue);</code> each time someone sends a new message.</p>\n"}],"owner":{"account_id":22656947,"reputation":83,"user_id":16830698,"display_name":"TomSmail"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658267255,"creation_date":1658260339,"question_id":73042761,"body_markdown":"I am building a basic java discord bot to learn the language. I wanted to increment a counter for each member. Each time they send message on a server I want to increment this counter, like server points. The issue is as I am so new to the language I don&#39;t know a good way to do this efficiently. Could anyone give me any pointers? \r\n","title":"How to efficiently save a stat that updates continuously in java?","body":"<p>I am building a basic java discord bot to learn the language. I wanted to increment a counter for each member. Each time they send message on a server I want to increment this counter, like server points. The issue is as I am so new to the language I don't know a good way to do this efficiently. Could anyone give me any pointers?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1658263439,"post_id":73043031,"comment_id":129007544,"body_markdown":"Find an actual API to provide the info, rather than parsing a webpage.  Not only is that generally against the terms of service, but its fragile.  Any change to the html of the page will break your parser.","body":"Find an actual API to provide the info, rather than parsing a webpage.  Not only is that generally against the terms of service, but its fragile.  Any change to the html of the page will break your parser."},{"owner":{"account_id":12241782,"reputation":188,"user_id":11587836,"display_name":"Arron Lapta"},"score":0,"creation_date":1658271771,"post_id":73043031,"comment_id":129009299,"body_markdown":"Can&#39;t afford the api for that information, still in college some sites allow this","body":"Can&#39;t afford the api for that information, still in college some sites allow this"}],"answers":[{"tags":[],"owner":{"account_id":2574911,"reputation":322,"user_id":2232834,"display_name":"Osoro"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658267243,"creation_date":1658267243,"answer_id":73043814,"question_id":73043031,"body_markdown":"If you are planning to display the website on the App you can consider using the [WebView][1] object. \r\n\r\n\r\nBut I sense you might want to parse the data and then display it to the view. In that case, you can consider getting the data from a source that can return JSON or XML data for example [Marketstack][2]\r\n\r\n**Parsing JSON**\r\n\r\nI have tried to demonstrate how one can parse JSON using [Retrofit][3] on my [Github][4] however you can get better sources online on how to do the same.\r\n\r\n\r\nI hope this helps.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/webkit/WebView\r\n  [2]: https://marketstack.com/\r\n  [3]: https://square.github.io/retrofit/\r\n  [4]: https://github.com/brianosoro/Java-Android-Concepts","title":"How to get specific information from this site?","body":"<p>If you are planning to display the website on the App you can consider using the <a href=\"https://developer.android.com/reference/android/webkit/WebView\" rel=\"nofollow noreferrer\">WebView</a> object.</p>\n<p>But I sense you might want to parse the data and then display it to the view. In that case, you can consider getting the data from a source that can return JSON or XML data for example <a href=\"https://marketstack.com/\" rel=\"nofollow noreferrer\">Marketstack</a></p>\n<p><strong>Parsing JSON</strong></p>\n<p>I have tried to demonstrate how one can parse JSON using <a href=\"https://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retrofit</a> on my <a href=\"https://github.com/brianosoro/Java-Android-Concepts\" rel=\"nofollow noreferrer\">Github</a> however you can get better sources online on how to do the same.</p>\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":12241782,"reputation":188,"user_id":11587836,"display_name":"Arron Lapta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658267243,"creation_date":1658261945,"question_id":73043031,"body_markdown":"I would like to get the information under most shorted stocks such as Symbol, Current Short Int, Previous Short Int, Short In, and Short Share Value. How do i do this, So far i managed to retrieve some information from the site, but this is not what i am looking for, can someone assist me with this. \r\n\r\nhttps://www.benzinga.com/short-interest/most-shorted\r\n\r\n\r\n\r\n    public class doIT extends AsyncTask&lt;Void,Void,Void&gt; {\r\n        String words;\r\n        @Override\r\n        protected Void doInBackground(Void... params) {\r\n            try {\r\n                Document document = Jsoup.connect(&quot;https://www.benzinga.com/short-interest/most-shorted&quot;).get();\r\n                words = document.text();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } return null;\r\n        }\r\n        @Override\r\n        protected void onPostExecute(Void aVoid) {\r\n            super.onPostExecute(aVoid);\r\n            Log.i(&quot;words&quot;,words);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to get specific information from this site?","body":"<p>I would like to get the information under most shorted stocks such as Symbol, Current Short Int, Previous Short Int, Short In, and Short Share Value. How do i do this, So far i managed to retrieve some information from the site, but this is not what i am looking for, can someone assist me with this.</p>\n<p><a href=\"https://www.benzinga.com/short-interest/most-shorted\" rel=\"nofollow noreferrer\">https://www.benzinga.com/short-interest/most-shorted</a></p>\n<pre><code>public class doIT extends AsyncTask&lt;Void,Void,Void&gt; {\n    String words;\n    @Override\n    protected Void doInBackground(Void... params) {\n        try {\n            Document document = Jsoup.connect(&quot;https://www.benzinga.com/short-interest/most-shorted&quot;).get();\n            words = document.text();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } return null;\n    }\n    @Override\n    protected void onPostExecute(Void aVoid) {\n        super.onPostExecute(aVoid);\n        Log.i(&quot;words&quot;,words);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":23118939,"reputation":67,"user_id":17225742,"display_name":"Rifaldi"},"score":0,"creation_date":1658280296,"post_id":73043813,"comment_id":129010608,"body_markdown":"is this solve your problem https://stackoverflow.com/questions/19465049/changing-api-level-android-studio ?","body":"is this solve your problem <a href=\"https://stackoverflow.com/questions/19465049/changing-api-level-android-studio\" title=\"changing api level android studio\">stackoverflow.com/questions/19465049/&hellip;</a> ?"},{"owner":{"account_id":25839011,"reputation":1,"user_id":19574907,"display_name":"GEV"},"score":0,"creation_date":1658295300,"post_id":73043813,"comment_id":129012837,"body_markdown":"No , i tried to upgrade gradle to last version and it works now","body":"No , i tried to upgrade gradle to last version and it works now"}],"owner":{"account_id":25839011,"reputation":1,"user_id":19574907,"display_name":"GEV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658267240,"creation_date":1658267240,"question_id":73043813,"body_markdown":"i have tried to clean or rebuild project but same problem so idon&#39;t know how to fix it \r\nif anyone can told me how to fix it i will appreciate it \r\n\r\nerror logs :\r\n\r\n**mergeDebugResource :**\r\n\r\n    &gt; Task :app:mergeDebugResources FAILED\r\n    AGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-land-v13\\\\values-h???dp-land-v13.xml&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-land-v13\\\\values-h???dp-land-v13.xml: AAPT: error: invalid configuration &#39;h???dp-land-v13&#39;.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\n    AGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-w???dp-land-v13\\\\values-w???dp-land-v13.xml&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-w???dp-land-v13\\\\values-w???dp-land-v13.xml: AAPT: error: invalid configuration &#39;w???dp-land-v13&#39;.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\n    AGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-port-v13\\\\values-h???dp-port-v13.xml&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-port-v13\\\\values-h???dp-port-v13.xml: AAPT: error: invalid configuration &#39;h???dp-port-v13&#39;.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\n    AGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-v13\\\\values-h???dp-v13.xml&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-v13\\\\values-h???dp-v13.xml: AAPT: error: invalid configuration &#39;h???dp-v13&#39;.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\n    AGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-port-v13\\\\values-h???dp-port-v13.xml&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-port-v13\\\\values-h???dp-port-v13.xml: AAPT: error: invalid configuration &#39;h???dp-port-v13&#39;.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\n    AGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-w???dp-land-v13\\\\values-w???dp-land-v13.xml&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-w???dp-land-v13\\\\values-w???dp-land-v13.xml: AAPT: error: invalid configuration &#39;w???dp-land-v13&#39;.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\n    \r\n    Execution failed for task &#39;:app:mergeDebugResources&#39;.\r\n    &gt; Multiple task action failures occurred:\r\n       &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n          &gt; Android resource compilation failed\r\n            C:\\Users\\GEV\\Desktop\\StrangerRepo\\app\\build\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values-h???dp-land-v13\\values-h???dp-land-v13.xml: AAPT: error: invalid configuration &#39;h???dp-land-v13&#39;.\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n**mergeExtDexDebug:**\r\n\r\n    &gt; Task :app:mergeExtDexDebug\r\n    AGPBI: {&quot;kind&quot;:&quot;warning&quot;,&quot;text&quot;:&quot;An API level of 31 is not supported by this compiler. Please use an API level of 30 or earlier&quot;,&quot;sources&quot;:[{}],&quot;tool&quot;:&quot;D8&quot;}\r\n    An API level of 31 is not supported by this compiler. Please use an API level of 30 or earlier\r\n\r\nanyone can help me please?","title":"i have a problem when i try to build mergeExtDexDebug","body":"<p>i have tried to clean or rebuild project but same problem so idon't know how to fix it\nif anyone can told me how to fix it i will appreciate it</p>\n<p>error logs :</p>\n<p><strong>mergeDebugResource :</strong></p>\n<pre><code>&gt; Task :app:mergeDebugResources FAILED\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-land-v13\\\\values-h???dp-land-v13.xml&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-land-v13\\\\values-h???dp-land-v13.xml: AAPT: error: invalid configuration 'h???dp-land-v13'.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-w???dp-land-v13\\\\values-w???dp-land-v13.xml&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-w???dp-land-v13\\\\values-w???dp-land-v13.xml: AAPT: error: invalid configuration 'w???dp-land-v13'.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-port-v13\\\\values-h???dp-port-v13.xml&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-port-v13\\\\values-h???dp-port-v13.xml: AAPT: error: invalid configuration 'h???dp-port-v13'.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-v13\\\\values-h???dp-v13.xml&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-v13\\\\values-h???dp-v13.xml: AAPT: error: invalid configuration 'h???dp-v13'.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-port-v13\\\\values-h???dp-port-v13.xml&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-h???dp-port-v13\\\\values-h???dp-port-v13.xml: AAPT: error: invalid configuration 'h???dp-port-v13'.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-w???dp-land-v13\\\\values-w???dp-land-v13.xml&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\GEV\\\\Desktop\\\\StrangerRepo\\\\app\\\\build\\\\intermediates\\\\incremental\\\\mergeDebugResources\\\\merged.dir\\\\values-w???dp-land-v13\\\\values-w???dp-land-v13.xml: AAPT: error: invalid configuration 'w???dp-land-v13'.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\n\nExecution failed for task ':app:mergeDebugResources'.\n&gt; Multiple task action failures occurred:\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\GEV\\Desktop\\StrangerRepo\\app\\build\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values-h???dp-land-v13\\values-h???dp-land-v13.xml: AAPT: error: invalid configuration 'h???dp-land-v13'.\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n</code></pre>\n<p><strong>mergeExtDexDebug:</strong></p>\n<pre><code>&gt; Task :app:mergeExtDexDebug\nAGPBI: {&quot;kind&quot;:&quot;warning&quot;,&quot;text&quot;:&quot;An API level of 31 is not supported by this compiler. Please use an API level of 30 or earlier&quot;,&quot;sources&quot;:[{}],&quot;tool&quot;:&quot;D8&quot;}\nAn API level of 31 is not supported by this compiler. Please use an API level of 30 or earlier\n</code></pre>\n<p>anyone can help me please?</p>\n"},{"tags":["java","azure","apache-spark","databricks","azure-databricks"],"answers":[{"tags":[],"owner":{"account_id":16005885,"reputation":58,"user_id":11551392,"display_name":"H M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658266773,"creation_date":1658266773,"answer_id":73043752,"question_id":72985892,"body_markdown":"Using `Thread.currentThread().getContextClassLoader().loadClass(&quot;&lt;class_name&gt;&quot;)` instead of `MyListener.class.getClassLoader().loadClass(&quot;&lt;class_name&gt;&quot;)` appears to work as required in this case.\r\n\r\nThe [Apache Spark implementation][1] also uses `Thread.currentThread().getContextClassLoader`. \r\n\r\nThe following Stack Overflow posts are helpful for understanding the difference between the two approaches: \r\n\r\n - [Difference between thread&#39;s context class loader and normal classloader][2]\r\n - [Difference between Thread.currentThread() classLoader and normal classLoader][3]\r\n\r\nThis [article][4] also seems to have even more information about the different types of classLoaders in Java.\r\n\r\nHope this helps!\r\n\r\n  [1]: https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/util/Utils.scala#L208-L237\r\n  [2]: https://stackoverflow.com/q/1771679/11551392\r\n  [3]: https://stackoverflow.com/q/40303433/11551392\r\n  [4]: https://www.infoworld.com/article/2077344/find-a-way-out-of-the-classloader-maze.html","title":"How to check if a class is installed on Databricks through a Spark Listener?","body":"<p>Using <code>Thread.currentThread().getContextClassLoader().loadClass(&quot;&lt;class_name&gt;&quot;)</code> instead of <code>MyListener.class.getClassLoader().loadClass(&quot;&lt;class_name&gt;&quot;)</code> appears to work as required in this case.</p>\n<p>The <a href=\"https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/util/Utils.scala#L208-L237\" rel=\"nofollow noreferrer\">Apache Spark implementation</a> also uses <code>Thread.currentThread().getContextClassLoader</code>.</p>\n<p>The following Stack Overflow posts are helpful for understanding the difference between the two approaches:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/1771679/11551392\">Difference between thread's context class loader and normal classloader</a></li>\n<li><a href=\"https://stackoverflow.com/q/40303433/11551392\">Difference between Thread.currentThread() classLoader and normal classLoader</a></li>\n</ul>\n<p>This <a href=\"https://www.infoworld.com/article/2077344/find-a-way-out-of-the-classloader-maze.html\" rel=\"nofollow noreferrer\">article</a> also seems to have even more information about the different types of classLoaders in Java.</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":917895,"reputation":347,"user_id":950280,"display_name":"Will J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73043752,"answer_count":1,"score":3,"last_activity_date":1658266773,"creation_date":1657827879,"question_id":72985892,"body_markdown":"Using a Spark Listener on Databricks, I am trying to see if a given class is installed but given Databricks&#39; way of installing packages, the Listener cannot see packages installed after the cluster has been started.\r\n\r\n**In a Java Spark Listener, is there a better way to recognize that a class is installed for packages installed via Databricks&#39; Libraries API / UI?**\r\n\r\n## Summary\r\n\r\n* Using a SparkListener installed via a [cluster-scoped init script](https://docs.databricks.com/clusters/init-scripts.html) on Databricks.\r\n* Using [ClassLoader](https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html)  in the Listener to check if a given class is installed.\r\n* On Apache Spark\r\n  * Works on Apache Spark if the Listener is installed via `--packages` or `--jars`.\r\n  * Fails on Apache Spark if the Listener is installed via `--conf spark.driver.extraClassPath` and the desired libraries were installed via `--packages` or `--jars`.\r\n* On (Azure) Databricks\r\n  * Works on Databricks if the library already exists in the `/datbaricks/jars` directory which is the `$CLASSPATH` directory.\r\n  * Fails on Databricks if the library is installed via the Libraries API / UI (jars installed this way seem to end up at `/local_disk0/tmp`).\r\n\r\n\r\n## Spark Listener Details\r\n\r\nWith Apache Spark, I can install a Spark Listener via `--packages` + `--conf spark.extraListeners=listener.MyListener` and leverage a [ClassLoader](https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html) in the Spark Listener to check for any class installed through `--jars`, `--packages`, or on the class path.  The listener to detect if a class exists looks like this.\r\n\r\n```java\r\npublic class MyListener extends org.apache.spark.scheduler.SparkListener {\r\n\r\n  private static final Logger log = LoggerFactory.getLogger(&quot;MyLogger&quot;);\r\n  @Override\r\n  public void onJobStart(SparkListenerJobStart jobStart) {\r\n    try{\r\n      log.info(&quot;Trying LogicalRelation&quot;);\r\n      MyListener.class.getClassLoader().loadClass(\r\n      &quot;org.apache.spark.sql.execution.datasources.LogicalRelation&quot;\r\n      );\r\n      log.info(&quot;Got logical relation&quot;);\r\n    }\r\n    catch (ClassNotFoundException e){\r\n      log.info(&quot;Couldn&#39;t find LogicalRelation&quot;);\r\n    }\r\n\r\n    try{\r\n      log.info(&quot;Trying org.apache.iceberg.catalog.Catalog&quot;);\r\n      MyListener.class.getClassLoader().loadClass(&quot;org.apache.iceberg.catalog.Catalog&quot;);\r\n      log.info(&quot;Got org.apache.iceberg.catalog.Catalog!!!!&quot;);\r\n    } catch(ClassNotFoundException e){\r\n      log.info(&quot;Could not get org.apache.iceberg.catalog.Catalog&quot;);\r\n    }\r\n\r\n    try{\r\n      log.info(&quot;Trying Kusto DefaultSource&quot;);\r\n      MyListener.class.getClassLoader().loadClass(&quot;com.microsoft.kusto.spark.datasource.DefaultSource&quot;);\r\n      log.info(&quot;Got Kusto DefaultSource!!!!&quot;);\r\n    } catch(ClassNotFoundException e){\r\n      log.info(&quot;Could not get Kusto DefaultSource&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nOn Databricks, the listener is installed via an init script that looks like:\r\n\r\n```bash\r\ncp -f /dbfs/databricks/custom/listener.jar /mnt/driver-daemon/jars || { echo &quot;Error&quot;; exit 1;}\r\n\r\ncat &lt;&lt; &#39;EOF&#39; &gt; /databricks/driver/conf/customer-listener.conf\r\n[driver] {\r\n  &quot;spark.extraListeners&quot; = &quot;listener.MyListener&quot;\r\n}\r\nEOF\r\n```\r\n\r\nThis installation approach is similar to other public listeners:\r\n* [MSFT Spark Monitoring](https://github.com/mspnp/spark-monitoring/blob/main/README.md#configure-the-databricks-workspace)\r\n* [SO response from Databricks Employee](https://stackoverflow.com/questions/70974028/addsparklistener-equivalent-in-databricks)\r\n\r\n### Attempted to use URLClassLoader\r\n\r\nIt seems that the [Scala ClassLoader doesn&#39;t play nicely with a Java classloader](https://stackoverflow.com/questions/7671888/scala-classloaders-confusion). I attempted to add a [URLClassLoader](https://docs.oracle.com/javase/8/docs/api/java/net/URLClassLoader.html) as per another [SO post on setting a different classloader](https://stackoverflow.com/questions/17724481/set-classloader-different-directory) but the ClassNotFoundException continues.\r\n\r\nThis code on a Databricks Interactive notebook, however, does successfully find my test classes\r\n\r\n```java \r\nURLClassLoader ucl;\r\n    try {\r\n      log.info(&quot;URL Class Loader Attempt V3&quot;);\r\n      File file = new File(&quot;/local_disk0/tmp/&quot;);\r\n      URL classUrl = file.toURI().toURL();\r\n      URL[] urls = new URL[] { classUrl };\r\n      System.out.println(urls.toString());\r\n      ucl = new URLClassLoader(urls, getClass().getClassLoader());\r\n      ucl.loadClass(&quot;com.microsoft.kusto.spark.datasource.DefaultSource&quot;);\r\n      try {\r\n        ucl.close();\r\n      } catch (IOException e) {\r\n        log.error(&quot;Failed to close url classloader&quot;);\r\n      }\r\n      log.info(&quot;GOT KustoLIBRARY with URL Class Loader!&quot;);\r\n    } catch (ClassNotFoundException e) {\r\n      // Still hitting this one\r\n      log.info(&quot;Could not get Kusto Library with URLClassLoader&quot;);\r\n    } catch (MalformedURLException e) {\r\n      log.info(&quot;The URL was malformed&quot;);\r\n    }\r\n```\r\n\r\n\r\n## Databricks Library Details\r\n\r\nWith Databricks, the majority of users use the [Libraries](https://learn.microsoft.com/en-us/azure/databricks/libraries/) feature which installs jars AFTER spark has started and allows for users to easily install a jar via the Databricks UI or through an API.\r\n\r\nWhen using the above listener and the `ClassLoader` it will consistently raise a `ClassNotFoundException` for packages installed via the Libraries API.\r\n\r\nIn the Databricks logs, I can see the desired jar being installed in the logs.\r\n\r\n```text\r\n22/07/14 13:32:34 INFO DriverCorral: [Thread 123] AttachLibraries - candidate libraries: List(JavaJarId(dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar,,NONE)\r\n22/07/14 13:32:34 INFO DriverCorral: [Thread 123] AttachLibraries - new libraries to install (including resolved dependencies): List(JavaJarId(dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar,,NONE))\r\n22/07/14 13:32:37 INFO SharedDriverContext: [Thread 123] attachLibrariesToSpark JavaJarId(dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar,,NONE)\r\n22/07/14 13:32:37 INFO LibraryDownloadManager: Downloading a library that was not in the cache: JavaJarId(dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar,,NONE)\r\n22/07/14 13:32:37 INFO LibraryDownloadManager: Attempt 1: wait until library JavaJarId(dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar,,NONE) is downloaded\r\n22/07/14 13:32:37 INFO LibraryDownloadManager: Downloaded library JavaJarId(dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar,,NONE) as local file /local_disk0/tmp/addedFile2043314239110388521kusto_spark_3_0_2_12_3_0_0-6add9.jar in 39 milliseconds\r\n22/07/14 13:32:37 INFO SharedDriverContext: Successfully saved library JavaJarId(dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar,,NONE) to local file /local_disk0/tmp/addedFile2043314239110388521kusto_spark_3_0_2_12_3_0_0-6add9.jar\r\n22/07/14 13:32:37 INFO SharedDriverContext: Successfully attached library dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar to Spark\r\n22/07/14 13:32:37 INFO LibraryState: [Thread 123] Successfully attached library dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar\r\n```\r\n\r\nIf I were to install the desired jar/package and all of it&#39;s dependencies into the `/databricks/jars` folder, the Spark Listener can successfully detect that the packages are installed.  [Confirmed by Databricks Employee on SO](https://stackoverflow.com/questions/66431231/install-jar-file-in-dbfs-and-mvn-packages-using-init-script). However, this is not a common practice given the Databricks Libraries feature.\r\n\r\n\r\nSo, it all seems to boil down to: How do I get the main ClassLoader on a Databricks interactive or job clusters to recognize libraries installed via the Spark Application context (as seen in the Libraries API / UI)?\r\n\r\nThank you for any insights!","title":"How to check if a class is installed on Databricks through a Spark Listener?","body":"<p>Using a Spark Listener on Databricks, I am trying to see if a given class is installed but given Databricks' way of installing packages, the Listener cannot see packages installed after the cluster has been started.</p>\n<p><strong>In a Java Spark Listener, is there a better way to recognize that a class is installed for packages installed via Databricks' Libraries API / UI?</strong></p>\n<h2>Summary</h2>\n<ul>\n<li>Using a SparkListener installed via a <a href=\"https://docs.databricks.com/clusters/init-scripts.html\" rel=\"nofollow noreferrer\">cluster-scoped init script</a> on Databricks.</li>\n<li>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\">ClassLoader</a>  in the Listener to check if a given class is installed.</li>\n<li>On Apache Spark\n<ul>\n<li>Works on Apache Spark if the Listener is installed via <code>--packages</code> or <code>--jars</code>.</li>\n<li>Fails on Apache Spark if the Listener is installed via <code>--conf spark.driver.extraClassPath</code> and the desired libraries were installed via <code>--packages</code> or <code>--jars</code>.</li>\n</ul>\n</li>\n<li>On (Azure) Databricks\n<ul>\n<li>Works on Databricks if the library already exists in the <code>/datbaricks/jars</code> directory which is the <code>$CLASSPATH</code> directory.</li>\n<li>Fails on Databricks if the library is installed via the Libraries API / UI (jars installed this way seem to end up at <code>/local_disk0/tmp</code>).</li>\n</ul>\n</li>\n</ul>\n<h2>Spark Listener Details</h2>\n<p>With Apache Spark, I can install a Spark Listener via <code>--packages</code> + <code>--conf spark.extraListeners=listener.MyListener</code> and leverage a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\">ClassLoader</a> in the Spark Listener to check for any class installed through <code>--jars</code>, <code>--packages</code>, or on the class path.  The listener to detect if a class exists looks like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyListener extends org.apache.spark.scheduler.SparkListener {\n\n  private static final Logger log = LoggerFactory.getLogger(&quot;MyLogger&quot;);\n  @Override\n  public void onJobStart(SparkListenerJobStart jobStart) {\n    try{\n      log.info(&quot;Trying LogicalRelation&quot;);\n      MyListener.class.getClassLoader().loadClass(\n      &quot;org.apache.spark.sql.execution.datasources.LogicalRelation&quot;\n      );\n      log.info(&quot;Got logical relation&quot;);\n    }\n    catch (ClassNotFoundException e){\n      log.info(&quot;Couldn't find LogicalRelation&quot;);\n    }\n\n    try{\n      log.info(&quot;Trying org.apache.iceberg.catalog.Catalog&quot;);\n      MyListener.class.getClassLoader().loadClass(&quot;org.apache.iceberg.catalog.Catalog&quot;);\n      log.info(&quot;Got org.apache.iceberg.catalog.Catalog!!!!&quot;);\n    } catch(ClassNotFoundException e){\n      log.info(&quot;Could not get org.apache.iceberg.catalog.Catalog&quot;);\n    }\n\n    try{\n      log.info(&quot;Trying Kusto DefaultSource&quot;);\n      MyListener.class.getClassLoader().loadClass(&quot;com.microsoft.kusto.spark.datasource.DefaultSource&quot;);\n      log.info(&quot;Got Kusto DefaultSource!!!!&quot;);\n    } catch(ClassNotFoundException e){\n      log.info(&quot;Could not get Kusto DefaultSource&quot;);\n    }\n  }\n}\n</code></pre>\n<p>On Databricks, the listener is installed via an init script that looks like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>cp -f /dbfs/databricks/custom/listener.jar /mnt/driver-daemon/jars || { echo &quot;Error&quot;; exit 1;}\n\ncat &lt;&lt; 'EOF' &gt; /databricks/driver/conf/customer-listener.conf\n[driver] {\n  &quot;spark.extraListeners&quot; = &quot;listener.MyListener&quot;\n}\nEOF\n</code></pre>\n<p>This installation approach is similar to other public listeners:</p>\n<ul>\n<li><a href=\"https://github.com/mspnp/spark-monitoring/blob/main/README.md#configure-the-databricks-workspace\" rel=\"nofollow noreferrer\">MSFT Spark Monitoring</a></li>\n<li><a href=\"https://stackoverflow.com/questions/70974028/addsparklistener-equivalent-in-databricks\">SO response from Databricks Employee</a></li>\n</ul>\n<h3>Attempted to use URLClassLoader</h3>\n<p>It seems that the <a href=\"https://stackoverflow.com/questions/7671888/scala-classloaders-confusion\">Scala ClassLoader doesn't play nicely with a Java classloader</a>. I attempted to add a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\">URLClassLoader</a> as per another <a href=\"https://stackoverflow.com/questions/17724481/set-classloader-different-directory\">SO post on setting a different classloader</a> but the ClassNotFoundException continues.</p>\n<p>This code on a Databricks Interactive notebook, however, does successfully find my test classes</p>\n<pre class=\"lang-java prettyprint-override\"><code>URLClassLoader ucl;\n    try {\n      log.info(&quot;URL Class Loader Attempt V3&quot;);\n      File file = new File(&quot;/local_disk0/tmp/&quot;);\n      URL classUrl = file.toURI().toURL();\n      URL[] urls = new URL[] { classUrl };\n      System.out.println(urls.toString());\n      ucl = new URLClassLoader(urls, getClass().getClassLoader());\n      ucl.loadClass(&quot;com.microsoft.kusto.spark.datasource.DefaultSource&quot;);\n      try {\n        ucl.close();\n      } catch (IOException e) {\n        log.error(&quot;Failed to close url classloader&quot;);\n      }\n      log.info(&quot;GOT KustoLIBRARY with URL Class Loader!&quot;);\n    } catch (ClassNotFoundException e) {\n      // Still hitting this one\n      log.info(&quot;Could not get Kusto Library with URLClassLoader&quot;);\n    } catch (MalformedURLException e) {\n      log.info(&quot;The URL was malformed&quot;);\n    }\n</code></pre>\n<h2>Databricks Library Details</h2>\n<p>With Databricks, the majority of users use the <a href=\"https://learn.microsoft.com/en-us/azure/databricks/libraries/\" rel=\"nofollow noreferrer\">Libraries</a> feature which installs jars AFTER spark has started and allows for users to easily install a jar via the Databricks UI or through an API.</p>\n<p>When using the above listener and the <code>ClassLoader</code> it will consistently raise a <code>ClassNotFoundException</code> for packages installed via the Libraries API.</p>\n<p>In the Databricks logs, I can see the desired jar being installed in the logs.</p>\n<pre><code>22/07/14 13:32:34 INFO DriverCorral: [Thread 123] AttachLibraries - candidate libraries: List(JavaJarId(dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar,,NONE)\n22/07/14 13:32:34 INFO DriverCorral: [Thread 123] AttachLibraries - new libraries to install (including resolved dependencies): List(JavaJarId(dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar,,NONE))\n22/07/14 13:32:37 INFO SharedDriverContext: [Thread 123] attachLibrariesToSpark JavaJarId(dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar,,NONE)\n22/07/14 13:32:37 INFO LibraryDownloadManager: Downloading a library that was not in the cache: JavaJarId(dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar,,NONE)\n22/07/14 13:32:37 INFO LibraryDownloadManager: Attempt 1: wait until library JavaJarId(dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar,,NONE) is downloaded\n22/07/14 13:32:37 INFO LibraryDownloadManager: Downloaded library JavaJarId(dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar,,NONE) as local file /local_disk0/tmp/addedFile2043314239110388521kusto_spark_3_0_2_12_3_0_0-6add9.jar in 39 milliseconds\n22/07/14 13:32:37 INFO SharedDriverContext: Successfully saved library JavaJarId(dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar,,NONE) to local file /local_disk0/tmp/addedFile2043314239110388521kusto_spark_3_0_2_12_3_0_0-6add9.jar\n22/07/14 13:32:37 INFO SharedDriverContext: Successfully attached library dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar to Spark\n22/07/14 13:32:37 INFO LibraryState: [Thread 123] Successfully attached library dbfs:/FileStore/jars/maven/com/microsoft/azure/kusto/kusto-spark_3.0_2.12-3.0.0.jar\n</code></pre>\n<p>If I were to install the desired jar/package and all of it's dependencies into the <code>/databricks/jars</code> folder, the Spark Listener can successfully detect that the packages are installed.  <a href=\"https://stackoverflow.com/questions/66431231/install-jar-file-in-dbfs-and-mvn-packages-using-init-script\">Confirmed by Databricks Employee on SO</a>. However, this is not a common practice given the Databricks Libraries feature.</p>\n<p>So, it all seems to boil down to: How do I get the main ClassLoader on a Databricks interactive or job clusters to recognize libraries installed via the Spark Application context (as seen in the Libraries API / UI)?</p>\n<p>Thank you for any insights!</p>\n"},{"tags":["java","android","camera"],"comments":[{"owner":{"account_id":1117602,"reputation":2696,"user_id":1106598,"accept_rate":50,"display_name":"Gokhan Arik"},"score":0,"creation_date":1467098478,"post_id":38069534,"comment_id":63576910,"body_markdown":"What version of Android? Did you add permissions?","body":"What version of Android? Did you add permissions?"},{"owner":{"account_id":8450512,"reputation":625,"user_id":6339485,"accept_rate":40,"display_name":"Android Nerd"},"score":0,"creation_date":1467098549,"post_id":38069534,"comment_id":63576955,"body_markdown":"API 13 MIn and API 23 MAX","body":"API 13 MIn and API 23 MAX"},{"owner":{"account_id":1117602,"reputation":2696,"user_id":1106598,"accept_rate":50,"display_name":"Gokhan Arik"},"score":0,"creation_date":1467098592,"post_id":38069534,"comment_id":63576985,"body_markdown":"I&#39;m asking the device you are using. And is it a device or emulator?","body":"I&#39;m asking the device you are using. And is it a device or emulator?"},{"owner":{"account_id":2562547,"reputation":17559,"user_id":2223390,"accept_rate":67,"display_name":"Mani"},"score":0,"creation_date":1467098666,"post_id":38069534,"comment_id":63577022,"body_markdown":"What is your target SDK? 23? If yes, You need to implement runtime permission. Otherwise, Runtime exception will rise on Android M+ devices.","body":"What is your target SDK? 23? If yes, You need to implement runtime permission. Otherwise, Runtime exception will rise on Android M+ devices."},{"owner":{"account_id":8450512,"reputation":625,"user_id":6339485,"accept_rate":40,"display_name":"Android Nerd"},"score":0,"creation_date":1467098816,"post_id":38069534,"comment_id":63577118,"body_markdown":"yes targetSdkVersion 23!","body":"yes targetSdkVersion 23!"},{"owner":{"account_id":8450512,"reputation":625,"user_id":6339485,"accept_rate":40,"display_name":"Android Nerd"},"score":0,"creation_date":1467098859,"post_id":38069534,"comment_id":63577147,"body_markdown":"how can i implement runtime permission?","body":"how can i implement runtime permission?"}],"answers":[{"tags":[],"owner":{"account_id":1949742,"reputation":1238,"user_id":1754112,"accept_rate":30,"display_name":"Talha Mir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467099165,"creation_date":1467099165,"answer_id":38069824,"question_id":38069534,"body_markdown":"Simply open the desired camera like this :\r\n\r\nFor front camera:\r\n\r\n    c = Camera.open(Camera.CameraInfo.CAMERA_FACING_FRONT);\r\n\r\nFor back camera:\r\n\r\n    c = Camera.open(Camera.CameraInfo.CAMERA_FACING_BACK);\r\n\r\nAnd make sure that you always release your camera when you are done or in the onPause method of your fragment using following code otherwise camera instance will never be released and even your main camera app will not be able to acquire it. \r\n\r\n    private void releaseCameraAndPreview() {\r\n        if (mCamera != null) {\r\n            mCamera.stopPreview();\r\n            mCamera.release();\r\n            mCamera = null;\r\n        }\r\n    }","title":"Switch Cameras on Android using Camera API","body":"<p>Simply open the desired camera like this :</p>\n\n<p>For front camera:</p>\n\n<pre><code>c = Camera.open(Camera.CameraInfo.CAMERA_FACING_FRONT);\n</code></pre>\n\n<p>For back camera:</p>\n\n<pre><code>c = Camera.open(Camera.CameraInfo.CAMERA_FACING_BACK);\n</code></pre>\n\n<p>And make sure that you always release your camera when you are done or in the onPause method of your fragment using following code otherwise camera instance will never be released and even your main camera app will not be able to acquire it. </p>\n\n<pre><code>private void releaseCameraAndPreview() {\n    if (mCamera != null) {\n        mCamera.stopPreview();\n        mCamera.release();\n        mCamera = null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24853023,"reputation":11,"user_id":18729711,"display_name":"its_inno1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658266750,"creation_date":1658266750,"answer_id":73043748,"question_id":38069534,"body_markdown":"\r\nFor anyone in the future facing the same problem. The error happens when the camera is already in use, I fixed the problem by first releasing the camera then setting it to null and opening it again.\r\n\r\n    //for front camera\r\n     camera.release();\r\n     camera = null;\r\n     camera =  Camera.open(Camera.CameraInfo.CAMERA_FACING_FRONT);\r\n\r\n    //for back camera\r\n     camera.release();\r\n     camera = null;\r\n     camera =  Camera.open(Camera.CameraInfo.CAMERA_FACING_BACK);\r\n\r\n","title":"Switch Cameras on Android using Camera API","body":"<p>For anyone in the future facing the same problem. The error happens when the camera is already in use, I fixed the problem by first releasing the camera then setting it to null and opening it again.</p>\n<pre><code>//for front camera\n camera.release();\n camera = null;\n camera =  Camera.open(Camera.CameraInfo.CAMERA_FACING_FRONT);\n\n//for back camera\n camera.release();\n camera = null;\n camera =  Camera.open(Camera.CameraInfo.CAMERA_FACING_BACK);\n</code></pre>\n"}],"owner":{"account_id":8450512,"reputation":625,"user_id":6339485,"accept_rate":40,"display_name":"Android Nerd"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2682,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658266750,"creation_date":1467098336,"question_id":38069534,"body_markdown":"Hello There I am newbiew to Camera API. I am learning it to my own! I just want to switch my cameras back-front and front-back!\r\nMy device do have both front and back cameras!\r\nI am doing this like:\r\n\r\n\r\n----------\r\n\r\n  \r\n    public class CameraFrag extends Fragment {\r\n\r\n    //Variables\r\n    private Camera mCamera;\r\n    private CameraPreview mPreview;\r\n    private ToggleButton flipCamera;\r\n    ////////////////////////////////////\r\n\r\n    public CameraFrag() {\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        //inflate the layout\r\n        View v = inflater.inflate(R.layout.frag, container, false);\r\n\r\n        flipCamera = (ToggleButton) v.findViewById(R.id.flipper);\r\n\r\n        // Create an instance of Camera\r\n        mCamera = getCameraInstance();\r\n\r\n        // Create our Preview view and set it as the content of our activity.\r\n        mPreview = new CameraPreview(getContext(), mCamera);\r\n        FrameLayout preview = (FrameLayout) v.findViewById(R.id.camera_preview);\r\n        preview.addView(mPreview);\r\n\r\n        flipCamera.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                // TODO Auto-generated method stub\r\n                try{\r\n                    mCamera.stopPreview();\r\n\r\n                    if(isChecked){\r\n                        mCamera=openFrontFacingCamera();\r\n                    }\r\n                    else{\r\n                        mCamera=openBackFacingCamera();\r\n                    }\r\n                    mCamera.startPreview();\r\n                }catch(Exception exp){\r\n                    Log.i(&quot;#LOGTAG&quot;,&quot;EXCEPTION &quot;+exp);\r\n                }\r\n            }\r\n        });\r\n\r\n        return v;\r\n    }\r\n\r\n    private Camera openBackFacingCamera() {\r\n        int cameraCount = 0;\r\n        Camera cam = null;\r\n        Camera.CameraInfo cameraInfo = new Camera.CameraInfo();\r\n        cameraCount = Camera.getNumberOfCameras();\r\n        for (int camIdx = 0; camIdx &lt; cameraCount; camIdx++) {\r\n            Camera.getCameraInfo(camIdx, cameraInfo);\r\n            if (cameraInfo.facing == Camera.CameraInfo.CAMERA_FACING_BACK) {\r\n                cam = Camera.open(camIdx);\r\n            }\r\n        }\r\n\r\n        return cam;\r\n    }\r\n\r\n    private Camera openFrontFacingCamera() {\r\n        int cameraCount = 0;\r\n        Camera cam = null;\r\n        Camera.CameraInfo cameraInfo = new Camera.CameraInfo();\r\n        cameraCount = Camera.getNumberOfCameras();\r\n        for (int camIdx = 0; camIdx &lt; cameraCount; camIdx++) {\r\n            Camera.getCameraInfo(camIdx, cameraInfo);\r\n            if (cameraInfo.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {\r\n                cam = Camera.open(camIdx);\r\n            }\r\n        }\r\n\r\n        return cam;\r\n    }\r\n\r\n    /** A safe way to get an instance of the Camera object. */\r\n    public static Camera getCameraInstance(){\r\n        Camera c = null;\r\n        try {\r\n            c = Camera.open(); // attempt to get a Camera instance\r\n        }\r\n        catch (Exception e){\r\n            // Camera is not available (in use or does not exist)\r\n        }\r\n        return c; // returns null if camera is unavailable\r\n    }\r\n}\r\n\r\n\r\n----------\r\n\r\nThe problem is that It always throws an Exception as:\r\n\r\n***I/#LOGTAG: EXCEPTION java.lang.RuntimeException: Fail to connect to camera service***\r\n\r\n\r\n----------\r\nif I use my code as:\r\n\r\n\r\n                  try{\r\n                    mCamera.stopPreview();\r\n                    mCamera.release();\r\n                    if(isChecked){\r\n                        mCamera=openFrontFacingCamera();\r\n                    }\r\n                    else{\r\n                        mCamera=openBackFacingCamera();\r\n                    }\r\n                    mCamera.startPreview();\r\n                }catch(Exception exp){\r\n                    Log.i(&quot;#LOGTAG&quot;,&quot;EXCEPTION &quot;+exp);\r\n                }\r\n\r\n\r\nMy preview Freezes and comes back when i click the back button!\r\n\r\n\r\n----------\r\n\r\nWhat I am doing Wrong? Is it the right way to switch between cameras? Can somebody help me please?\r\n\r\nThanks in advance!","title":"Switch Cameras on Android using Camera API","body":"<p>Hello There I am newbiew to Camera API. I am learning it to my own! I just want to switch my cameras back-front and front-back!\nMy device do have both front and back cameras!\nI am doing this like:</p>\n\n<hr>\n\n<pre><code>public class CameraFrag extends Fragment {\n\n//Variables\nprivate Camera mCamera;\nprivate CameraPreview mPreview;\nprivate ToggleButton flipCamera;\n////////////////////////////////////\n\npublic CameraFrag() {\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    //inflate the layout\n    View v = inflater.inflate(R.layout.frag, container, false);\n\n    flipCamera = (ToggleButton) v.findViewById(R.id.flipper);\n\n    // Create an instance of Camera\n    mCamera = getCameraInstance();\n\n    // Create our Preview view and set it as the content of our activity.\n    mPreview = new CameraPreview(getContext(), mCamera);\n    FrameLayout preview = (FrameLayout) v.findViewById(R.id.camera_preview);\n    preview.addView(mPreview);\n\n    flipCamera.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n            // TODO Auto-generated method stub\n            try{\n                mCamera.stopPreview();\n\n                if(isChecked){\n                    mCamera=openFrontFacingCamera();\n                }\n                else{\n                    mCamera=openBackFacingCamera();\n                }\n                mCamera.startPreview();\n            }catch(Exception exp){\n                Log.i(\"#LOGTAG\",\"EXCEPTION \"+exp);\n            }\n        }\n    });\n\n    return v;\n}\n\nprivate Camera openBackFacingCamera() {\n    int cameraCount = 0;\n    Camera cam = null;\n    Camera.CameraInfo cameraInfo = new Camera.CameraInfo();\n    cameraCount = Camera.getNumberOfCameras();\n    for (int camIdx = 0; camIdx &lt; cameraCount; camIdx++) {\n        Camera.getCameraInfo(camIdx, cameraInfo);\n        if (cameraInfo.facing == Camera.CameraInfo.CAMERA_FACING_BACK) {\n            cam = Camera.open(camIdx);\n        }\n    }\n\n    return cam;\n}\n\nprivate Camera openFrontFacingCamera() {\n    int cameraCount = 0;\n    Camera cam = null;\n    Camera.CameraInfo cameraInfo = new Camera.CameraInfo();\n    cameraCount = Camera.getNumberOfCameras();\n    for (int camIdx = 0; camIdx &lt; cameraCount; camIdx++) {\n        Camera.getCameraInfo(camIdx, cameraInfo);\n        if (cameraInfo.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {\n            cam = Camera.open(camIdx);\n        }\n    }\n\n    return cam;\n}\n\n/** A safe way to get an instance of the Camera object. */\npublic static Camera getCameraInstance(){\n    Camera c = null;\n    try {\n        c = Camera.open(); // attempt to get a Camera instance\n    }\n    catch (Exception e){\n        // Camera is not available (in use or does not exist)\n    }\n    return c; // returns null if camera is unavailable\n}\n</code></pre>\n\n<p>}</p>\n\n<hr>\n\n<p>The problem is that It always throws an Exception as:</p>\n\n<p><strong><em>I/#LOGTAG: EXCEPTION java.lang.RuntimeException: Fail to connect to camera service</em></strong></p>\n\n<hr>\n\n<p>if I use my code as:</p>\n\n<pre><code>              try{\n                mCamera.stopPreview();\n                mCamera.release();\n                if(isChecked){\n                    mCamera=openFrontFacingCamera();\n                }\n                else{\n                    mCamera=openBackFacingCamera();\n                }\n                mCamera.startPreview();\n            }catch(Exception exp){\n                Log.i(\"#LOGTAG\",\"EXCEPTION \"+exp);\n            }\n</code></pre>\n\n<p>My preview Freezes and comes back when i click the back button!</p>\n\n<hr>\n\n<p>What I am doing Wrong? Is it the right way to switch between cameras? Can somebody help me please?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","maven","java-8","java-11","smartgwt"],"answers":[{"tags":[],"owner":{"account_id":24761093,"reputation":1,"user_id":18645493,"display_name":"lukewebsurfer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648741210,"creation_date":1648741210,"answer_id":71695464,"question_id":71664239,"body_markdown":"I had a similar problem few months ago, on a project similar to yours, but without the involvement of Maven.\r\n\r\nFor my problem, the issue was to be blamed on the Eclipse version.\r\nIt seems that any version of Eclipse AFTER 2020-06 is not capable of launching your Java 8 - GWT project with your actual Java 8.\r\nYou wrote you are using 2021-03, I suggest you to try to downgrade your Eclipse to version 2020-06.\r\n\r\nI tested my project on Eclipse 2020-06 with GWT 2.8.1 and GWT 2.9.0 and they both work very well.\r\n\r\nI hope I have been helpful!\r\n\r\nLuke","title":"Migrate SmartGWT 4.0 sample project to Maven","body":"<p>I had a similar problem few months ago, on a project similar to yours, but without the involvement of Maven.</p>\n<p>For my problem, the issue was to be blamed on the Eclipse version.\nIt seems that any version of Eclipse AFTER 2020-06 is not capable of launching your Java 8 - GWT project with your actual Java 8.\nYou wrote you are using 2021-03, I suggest you to try to downgrade your Eclipse to version 2020-06.</p>\n<p>I tested my project on Eclipse 2020-06 with GWT 2.8.1 and GWT 2.9.0 and they both work very well.</p>\n<p>I hope I have been helpful!</p>\n<p>Luke</p>\n"}],"owner":{"account_id":23528839,"reputation":109,"user_id":17630064,"display_name":"Norida Olivera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1658265558,"creation_date":1648565309,"question_id":71664239,"body_markdown":"I am currently trying to migrate smartGWT 4.0 sample project callled BuiltinDS to Maven through Eclipse, with the following characteristics:\r\n\r\n - Smartgwt version 4.0-pro\r\n - GWT version 2.8.1  \r\n - JDK java 1.8\r\n - Eclipse version 2021-03\r\n - SmartGWT libraries are in NEXUS\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThis is the Pom with the dependencies I found it should have.\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;builtinds&lt;/groupId&gt;\r\n  &lt;artifactId&gt;builtinds&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  \r\n  &lt;dependencies&gt;\r\n  \r\n           &lt;!-- Standard GWT depdendency --&gt;\r\n           &lt;dependency&gt;\r\n               &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\r\n               &lt;artifactId&gt;gwt-user&lt;/artifactId&gt;\r\n               &lt;version&gt;2.8.1&lt;/version&gt;\r\n               &lt;scope&gt;provided&lt;/scope&gt;\r\n           &lt;/dependency&gt;\r\n           \r\n           \t&lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-servlet --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;gwt-servlet&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-dev --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;gwt-dev&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.8.1&lt;/version&gt;\r\n\t\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n    \r\n           &lt;!-- The SmartGWT Evaluation edition --&gt;\r\n           &lt;dependency&gt;\r\n               &lt;groupId&gt;com.isomorphic.smartgwt.pro&lt;/groupId&gt;\r\n               &lt;artifactId&gt;smartgwt-pro&lt;/artifactId&gt;\r\n               &lt;version&gt;4.0-focuss&lt;/version&gt;\r\n               &lt;exclusions&gt;\r\n\t\t\t\t\t&lt;!-- Exclusion: required to avoid conflicting with the asm dependency below --&gt;\r\n\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;asm&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;/exclusions&gt;\r\n           &lt;/dependency&gt;\r\n    \r\n           &lt;!-- Add support for SQLDataSources --&gt;\r\n           &lt;dependency&gt;\r\n               &lt;groupId&gt;com.isomorphic.smartgwt.pro&lt;/groupId&gt;\r\n               &lt;artifactId&gt;isomorphic-sql&lt;/artifactId&gt;\r\n               &lt;version&gt;4.0-focuss&lt;/version&gt;\r\n           &lt;/dependency&gt;\r\n           \r\n           &lt;!-- only_for_building\\log4j\\log4j-1.2.15.jar --&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.hsqldb/hsqldb --&gt; \r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.2.9&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\t\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;1.3&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/commons-collections/commons-collections --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;3.2.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-dbcp2 --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.9&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- Logging: Slf4j --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7.7&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t    \r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7.7&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\t\t\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/commons-jxpath/commons-jxpath --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;commons-jxpath&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;commons-jxpath&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;1.3&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/oro/oro --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;oro&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;oro&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.0.6&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.smartgwt/smartgwt-skins --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;com.smartgwt&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;smartgwt-skins&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.5&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/commons-lang/commons-lang --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/commons-pool/commons-pool --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;commons-pool&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;1.4&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.9&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\t\r\n\t\t\t\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.eclipse.jetty/jetty-maven-plugin --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;9.4.19.v20190610&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\t\t\r\n\t\r\n       \r\n    &lt;/dependencies&gt;\r\n       \r\n  &lt;build&gt;\r\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    &lt;resources&gt;\r\n      &lt;resource&gt;\r\n        &lt;directory&gt;src&lt;/directory&gt;\r\n        &lt;excludes&gt;\r\n          &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n      &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      \r\n      &lt;plugin&gt;\r\n           &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n           &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;\r\n           &lt;version&gt;2.8.1&lt;/version&gt;\r\n           &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                      &lt;goals&gt;\r\n                          &lt;goal&gt;compile&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n           &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      \r\n      &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is the BuiltInDS.gwt.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE module PUBLIC &quot;-//Google Inc.//DTD Google Web Toolkit 2.6.1//EN&quot;\r\n   &quot;http://www.gwtproject.org/doctype/2.6.1/gwt-module.dtd&quot;&gt;\r\n&lt;module rename-to=&quot;builtinds&quot;&gt;\r\n    &lt;inherits name=&#39;com.google.gwt.user.User&#39;/&gt;\r\n    &lt;inherits name=&quot;com.smartgwt.tools.SmartGwtTools&quot;/&gt;\r\n    &lt;inherits name=&quot;com.smartgwtee.tools.Tools&quot;/&gt;\r\n    &lt;inherits name=&quot;com.smartgwtee.SmartGwtEE&quot;/&gt;\r\n\r\n\t&lt;!-- Other module inherits --&gt;\r\n\t&lt;!-- 1) Add SmartGWT module --&gt;\r\n\t&lt;inherits name=&quot;com.smartgwt.SmartGwt&quot;/&gt;\r\n\t\r\n\t&lt;set-configuration-property name=&#39;xsiframe.failIfScriptTag&#39; value=&#39;FALSE&#39;/&gt;\r\n\t\r\n    &lt;entry-point class=&#39;com.smartgwt.sample.client.BuiltInDS&#39;/&gt;\r\n&lt;/module&gt;\r\n\r\n```\r\nThis is the BuiltInDS.html\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n\r\n&lt;html&gt;\r\n  &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n    &lt;!--                                           --&gt;\r\n    &lt;!-- Any title is fine                         --&gt;\r\n    &lt;!--                                           --&gt;\r\n    &lt;title&gt;BuiltInDS&lt;/title&gt;\r\n    \r\n    &lt;!-- IMPORTANT : You must set the variable isomorphicDir to [MODULE_NAME]/sc/ so that the SmartGWT resource are \r\n\t  correctly resolved --&gt;\t\r\n\t&lt;script&gt; var isomorphicDir = &quot;builtinds/sc/&quot;; &lt;/script&gt;\r\n\t\r\n    &lt;!--                                           --&gt;\r\n    &lt;!-- This script loads your compiled module.   --&gt;\r\n    &lt;!-- If you add any GWT meta tags, they must   --&gt;\r\n    &lt;!-- be added before this line.                --&gt;\r\n    &lt;!--                                           --&gt;      \r\n    &lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot; src=&quot;builtinds/builtinds.nocache.js&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;!-- The following script is required if you&#39;re running (Super)DevMode and are using module\r\n         definitions that contain &lt;script&gt; tags.  Normally, this script is loaded automatically\r\n         by builtinds.nocache.js above, but this isn&#39;t possible when (Super)DevMode is running.\r\n         Note: it should not create any issue to always load it below (even if already loaded). --&gt;\r\n    &lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot; src=&quot;builtinds/loadScriptTagFiles.js&quot;&gt;&lt;/script&gt;\r\n\r\n\t&lt;script src=&quot;builtinds/sc/modules/ISC_Core.js&quot;&gt; &lt;/script&gt;\r\n\t&lt;script src=&quot;builtinds/sc/modules/ISC_Foundation.js&quot;&gt; &lt;/script&gt;\r\n\t&lt;script src=&quot;builtinds/sc/modules/ISC_Containers.js&quot;&gt; &lt;/script&gt;\r\n\t&lt;script src=&quot;builtinds/sc/modules/ISC_Grids.js&quot;&gt; &lt;/script&gt;\r\n\t&lt;script src=&quot;builtinds/sc/modules/ISC_Forms.js&quot;&gt; &lt;/script&gt;\r\n\t&lt;script src=&quot;builtinds/sc/modules/ISC_RichTextEditor.js&quot;&gt;&lt;/script&gt;\r\n\t&lt;script src=&quot;builtinds/sc/modules/ISC_Calendar.js&quot;&gt; &lt;/script&gt;\r\n\t&lt;script src=&quot;builtinds/sc/modules/ISC_DataBinding.js&quot;&gt; &lt;/script&gt;\r\n\t&lt;script src=&quot;builtinds/sc/skins/Enterprise/load_skin.js&quot;&gt;&lt;/script&gt;\r\n\r\n  &lt;/head&gt;\r\n\r\n  &lt;!--                                           --&gt;\r\n  &lt;!-- The body can have arbitrary html, or      --&gt;\r\n  &lt;!-- you can leave the body empty if you want  --&gt;\r\n  &lt;!-- to create a completely dynamic UI.        --&gt;\r\n  &lt;!--                                           --&gt;\r\n  &lt;body&gt;\r\n\r\n    &lt;!--load the datasources--&gt;\r\n    &lt;script src=&quot;builtinds/sc/DataSourceLoader?dataSource=supplyItem,animals,employees,bufferTable,bufferHistoryTable&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;!-- OPTIONAL: include this if you want history support --&gt;\r\n    &lt;iframe src=&quot;javascript:&#39;&#39;&quot; id=&quot;__gwt_historyFrame&quot; tabIndex=&#39;-1&#39; style=&quot;position:absolute;width:0;height:0;border:0&quot;&gt;&lt;/iframe&gt;\r\n\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n    \r\n\r\nThe compilation is successful, but when I run a configuration of type GWT Development Mode (CodeServer) the console gives me the following and the application does not launch.\r\n[![enter image description here][5]][5]\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/snYIc.png\r\n  [2]: https://i.stack.imgur.com/q41bH.png\r\n  [3]: https://i.stack.imgur.com/GLWMG.png\r\n  [4]: https://i.stack.imgur.com/rn4mX.png\r\n  [5]: https://i.stack.imgur.com/f8siU.png\r\n  [6]: https://i.stack.imgur.com/Vz703.png\r\n ","title":"Migrate SmartGWT 4.0 sample project to Maven","body":"<p>I am currently trying to migrate smartGWT 4.0 sample project callled BuiltinDS to Maven through Eclipse, with the following characteristics:</p>\n<ul>\n<li>Smartgwt version 4.0-pro</li>\n<li>GWT version 2.8.1</li>\n<li>JDK java 1.8</li>\n<li>Eclipse version 2021-03</li>\n<li>SmartGWT libraries are in NEXUS</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/snYIc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/snYIc.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/q41bH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q41bH.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/GLWMG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GLWMG.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/rn4mX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rn4mX.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the Pom with the dependencies I found it should have.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;builtinds&lt;/groupId&gt;\n  &lt;artifactId&gt;builtinds&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  \n  &lt;dependencies&gt;\n  \n           &lt;!-- Standard GWT depdendency --&gt;\n           &lt;dependency&gt;\n               &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\n               &lt;artifactId&gt;gwt-user&lt;/artifactId&gt;\n               &lt;version&gt;2.8.1&lt;/version&gt;\n               &lt;scope&gt;provided&lt;/scope&gt;\n           &lt;/dependency&gt;\n           \n            &lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-servlet --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\n                &lt;artifactId&gt;gwt-servlet&lt;/artifactId&gt;\n                &lt;version&gt;2.8.1&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-dev --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\n                &lt;artifactId&gt;gwt-dev&lt;/artifactId&gt;\n                &lt;version&gt;2.8.1&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            \n            \n            &lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n           &lt;!-- The SmartGWT Evaluation edition --&gt;\n           &lt;dependency&gt;\n               &lt;groupId&gt;com.isomorphic.smartgwt.pro&lt;/groupId&gt;\n               &lt;artifactId&gt;smartgwt-pro&lt;/artifactId&gt;\n               &lt;version&gt;4.0-focuss&lt;/version&gt;\n               &lt;exclusions&gt;\n                    &lt;!-- Exclusion: required to avoid conflicting with the asm dependency below --&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;asm&lt;/groupId&gt;\n                        &lt;artifactId&gt;asm&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n           &lt;/dependency&gt;\n    \n           &lt;!-- Add support for SQLDataSources --&gt;\n           &lt;dependency&gt;\n               &lt;groupId&gt;com.isomorphic.smartgwt.pro&lt;/groupId&gt;\n               &lt;artifactId&gt;isomorphic-sql&lt;/artifactId&gt;\n               &lt;version&gt;4.0-focuss&lt;/version&gt;\n           &lt;/dependency&gt;\n           \n           &lt;!-- only_for_building\\log4j\\log4j-1.2.15.jar --&gt;\n            &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;version&gt;1.2.17&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/org.hsqldb/hsqldb --&gt; \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n                &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n                &lt;version&gt;2.2.9&lt;/version&gt;\n            &lt;/dependency&gt;   \n            \n            &lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n                &lt;version&gt;1.3&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/commons-collections/commons-collections --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n                &lt;version&gt;1.3&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-dbcp2 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n                &lt;version&gt;2.0&lt;/version&gt;\n            &lt;/dependency&gt;       \n            \n            \n            &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n                &lt;version&gt;3.9&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- Logging: Slf4j --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;version&gt;1.7.7&lt;/version&gt;\n            &lt;/dependency&gt;\n        \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;version&gt;1.7.7&lt;/version&gt;\n            &lt;/dependency&gt;       \n            \n            &lt;!-- https://mvnrepository.com/artifact/commons-jxpath/commons-jxpath --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-jxpath&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-jxpath&lt;/artifactId&gt;\n                &lt;version&gt;1.3&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/oro/oro --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;oro&lt;/groupId&gt;\n                &lt;artifactId&gt;oro&lt;/artifactId&gt;\n                &lt;version&gt;2.0.6&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/com.smartgwt/smartgwt-skins --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.smartgwt&lt;/groupId&gt;\n                &lt;artifactId&gt;smartgwt-skins&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/commons-lang/commons-lang --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/commons-pool/commons-pool --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-pool&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\n                &lt;version&gt;1.4&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\n                &lt;version&gt;3.9&lt;/version&gt;\n            &lt;/dependency&gt;   \n            \n            &lt;!-- https://mvnrepository.com/artifact/org.eclipse.jetty/jetty-maven-plugin --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;9.4.19.v20190610&lt;/version&gt;\n            &lt;/dependency&gt;       \n    \n       \n    &lt;/dependencies&gt;\n       \n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src&lt;/directory&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      \n      &lt;plugin&gt;\n           &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n           &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;\n           &lt;version&gt;2.8.1&lt;/version&gt;\n           &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;goals&gt;\n                          &lt;goal&gt;compile&lt;/goal&gt;\n                      &lt;/goals&gt;\n                  &lt;/execution&gt;\n           &lt;/executions&gt;\n      &lt;/plugin&gt;\n      \n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n     &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is the BuiltInDS.gwt.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE module PUBLIC &quot;-//Google Inc.//DTD Google Web Toolkit 2.6.1//EN&quot;\n   &quot;http://www.gwtproject.org/doctype/2.6.1/gwt-module.dtd&quot;&gt;\n&lt;module rename-to=&quot;builtinds&quot;&gt;\n    &lt;inherits name='com.google.gwt.user.User'/&gt;\n    &lt;inherits name=&quot;com.smartgwt.tools.SmartGwtTools&quot;/&gt;\n    &lt;inherits name=&quot;com.smartgwtee.tools.Tools&quot;/&gt;\n    &lt;inherits name=&quot;com.smartgwtee.SmartGwtEE&quot;/&gt;\n\n    &lt;!-- Other module inherits --&gt;\n    &lt;!-- 1) Add SmartGWT module --&gt;\n    &lt;inherits name=&quot;com.smartgwt.SmartGwt&quot;/&gt;\n    \n    &lt;set-configuration-property name='xsiframe.failIfScriptTag' value='FALSE'/&gt;\n    \n    &lt;entry-point class='com.smartgwt.sample.client.BuiltInDS'/&gt;\n&lt;/module&gt;\n\n</code></pre>\n<p>This is the BuiltInDS.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n    &lt;!--                                           --&gt;\n    &lt;!-- Any title is fine                         --&gt;\n    &lt;!--                                           --&gt;\n    &lt;title&gt;BuiltInDS&lt;/title&gt;\n    \n    &lt;!-- IMPORTANT : You must set the variable isomorphicDir to [MODULE_NAME]/sc/ so that the SmartGWT resource are \n      correctly resolved --&gt;    \n    &lt;script&gt; var isomorphicDir = &quot;builtinds/sc/&quot;; &lt;/script&gt;\n    \n    &lt;!--                                           --&gt;\n    &lt;!-- This script loads your compiled module.   --&gt;\n    &lt;!-- If you add any GWT meta tags, they must   --&gt;\n    &lt;!-- be added before this line.                --&gt;\n    &lt;!--                                           --&gt;      \n    &lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot; src=&quot;builtinds/builtinds.nocache.js&quot;&gt;&lt;/script&gt;\n\n    &lt;!-- The following script is required if you're running (Super)DevMode and are using module\n         definitions that contain &lt;script&gt; tags.  Normally, this script is loaded automatically\n         by builtinds.nocache.js above, but this isn't possible when (Super)DevMode is running.\n         Note: it should not create any issue to always load it below (even if already loaded). --&gt;\n    &lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot; src=&quot;builtinds/loadScriptTagFiles.js&quot;&gt;&lt;/script&gt;\n\n    &lt;script src=&quot;builtinds/sc/modules/ISC_Core.js&quot;&gt; &lt;/script&gt;\n    &lt;script src=&quot;builtinds/sc/modules/ISC_Foundation.js&quot;&gt; &lt;/script&gt;\n    &lt;script src=&quot;builtinds/sc/modules/ISC_Containers.js&quot;&gt; &lt;/script&gt;\n    &lt;script src=&quot;builtinds/sc/modules/ISC_Grids.js&quot;&gt; &lt;/script&gt;\n    &lt;script src=&quot;builtinds/sc/modules/ISC_Forms.js&quot;&gt; &lt;/script&gt;\n    &lt;script src=&quot;builtinds/sc/modules/ISC_RichTextEditor.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;builtinds/sc/modules/ISC_Calendar.js&quot;&gt; &lt;/script&gt;\n    &lt;script src=&quot;builtinds/sc/modules/ISC_DataBinding.js&quot;&gt; &lt;/script&gt;\n    &lt;script src=&quot;builtinds/sc/skins/Enterprise/load_skin.js&quot;&gt;&lt;/script&gt;\n\n  &lt;/head&gt;\n\n  &lt;!--                                           --&gt;\n  &lt;!-- The body can have arbitrary html, or      --&gt;\n  &lt;!-- you can leave the body empty if you want  --&gt;\n  &lt;!-- to create a completely dynamic UI.        --&gt;\n  &lt;!--                                           --&gt;\n  &lt;body&gt;\n\n    &lt;!--load the datasources--&gt;\n    &lt;script src=&quot;builtinds/sc/DataSourceLoader?dataSource=supplyItem,animals,employees,bufferTable,bufferHistoryTable&quot;&gt;&lt;/script&gt;\n\n    &lt;!-- OPTIONAL: include this if you want history support --&gt;\n    &lt;iframe src=&quot;javascript:''&quot; id=&quot;__gwt_historyFrame&quot; tabIndex='-1' style=&quot;position:absolute;width:0;height:0;border:0&quot;&gt;&lt;/iframe&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>The compilation is successful, but when I run a configuration of type GWT Development Mode (CodeServer) the console gives me the following and the application does not launch.\n<a href=\"https://i.stack.imgur.com/f8siU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f8siU.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Vz703.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vz703.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":22248284,"reputation":1,"user_id":16481632,"display_name":"Casper Stockman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658265132,"creation_date":1658265132,"answer_id":73043521,"question_id":72946359,"body_markdown":"Have you tried closing and re-opening android studio? It seems more like a system error than on you. Hope this helps!","title":"Some Attributes not showing in Android Studio inside the Linear Layout","body":"<p>Have you tried closing and re-opening android studio? It seems more like a system error than on you. Hope this helps!</p>\n"}],"owner":{"account_id":24935649,"reputation":1,"user_id":18802267,"display_name":"Naveen Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658265132,"creation_date":1657592024,"question_id":72946359,"body_markdown":"Some Attributes are now showing in Andoid Studio. I also rebuid project, cleared cache, resync project and also reinstalled everything but still it is not working.enter image description here\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CvrD5.png","title":"Some Attributes not showing in Android Studio inside the Linear Layout","body":"<p>Some Attributes are now showing in Andoid Studio. I also rebuid project, cleared cache, resync project and also reinstalled everything but still it is not working.enter image description here</p>\n<p><a href=\"https://i.stack.imgur.com/CvrD5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","oracle","spring-boot","apache-kafka","spring-data"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1657989027,"post_id":73005518,"comment_id":128942781,"body_markdown":"Amount of data shouldn&#39;t matter. What have you tried and what issues are you running into? Your two options are the same thing - both will require storing data in memory for some amount of time before sending to &quot;next process&quot;/Kafka ... You&#39;re going to basically be doing the same thing as the JDBC source connector, anyway.","body":"Amount of data shouldn&#39;t matter. What have you tried and what issues are you running into? Your two options are the same thing - both will require storing data in memory for some amount of time before sending to &quot;next process&quot;/Kafka ... You&#39;re going to basically be doing the same thing as the JDBC source connector, anyway."},{"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"score":0,"creation_date":1657996784,"post_id":73005518,"comment_id":128944296,"body_markdown":"The DB we have doesn&#39;t have a timestamp, and that&#39;s necessary for JDBC connector to work, we can&#39;t proceed with it unless they support that in the future. \n\nWhat kind of in-memory solution you suggest for this kind of scenario?","body":"The DB we have doesn&#39;t have a timestamp, and that&#39;s necessary for JDBC connector to work, we can&#39;t proceed with it unless they support that in the future.   What kind of in-memory solution you suggest for this kind of scenario?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658014392,"post_id":73005518,"comment_id":128946935,"body_markdown":"You can set the JDBC connector to work on incrementing primary keys. Timestamp is only one supported mode. Uh, an arraylist would work fine","body":"You can set the JDBC connector to work on incrementing primary keys. Timestamp is only one supported mode. Uh, an arraylist would work fine"},{"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"score":0,"creation_date":1658016195,"post_id":73005518,"comment_id":128947135,"body_markdown":"The DB I have has a decrementing primary key, and JDBC connector doesn&#39;t support it as of now. :(","body":"The DB I have has a decrementing primary key, and JDBC connector doesn&#39;t support it as of now. :("},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1658075103,"post_id":73005518,"comment_id":128955806,"body_markdown":"Alright. You could still try to use Debezium. There shouldn&#39;t be any data model that does not work with","body":"Alright. You could still try to use Debezium. There shouldn&#39;t be any data model that does not work with"},{"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"score":0,"creation_date":1658117869,"post_id":73005518,"comment_id":128962488,"body_markdown":"That&#39;s great :) Can Debezium publish all existed records initially and publish the changed records moving forward?","body":"That&#39;s great :) Can Debezium publish all existed records initially and publish the changed records moving forward?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658156990,"post_id":73005518,"comment_id":128975558,"body_markdown":"Yes, I believe that&#39;s the default behavior. [Please refer docs](https://debezium.io/documentation/reference/1.9/connectors/oracle.html#how-the-oracle-connector-works)","body":"Yes, I believe that&#39;s the default behavior. <a href=\"https://debezium.io/documentation/reference/1.9/connectors/oracle.html#how-the-oracle-connector-works\" rel=\"nofollow noreferrer\">Please refer docs</a>"},{"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"score":0,"creation_date":1658169718,"post_id":73005518,"comment_id":128980220,"body_markdown":"Thanks a lot for your help so far, one last question about Debezium that I couldn&#39;t find answer for, does it support join query? or is it per Table?","body":"Thanks a lot for your help so far, one last question about Debezium that I couldn&#39;t find answer for, does it support join query? or is it per Table?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1658173874,"post_id":73005518,"comment_id":128981552,"body_markdown":"Per table. You would need to use Kafka Streams to join created topics into a unified Kafka topic","body":"Per table. You would need to use Kafka Streams to join created topics into a unified Kafka topic"}],"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658264232,"creation_date":1657985967,"question_id":73005518,"body_markdown":"Recently we started working on a project to consume Oracle DB and push data to confluent kafka connector topic, but we ran into these issue: \r\n\r\n1) Our DB is using decrementing primary key and Confluent Kafka doesn&#39;t have the decrementing primary key.\r\n2) Our DB doesn&#39;t have a timestamp. \r\n\r\nI&#39;m building a spring Boot application that reads about a million records per day from oracle DB, process these records, and pushes them into kafka topic. \r\n\r\nand it seems like that JDBC Kafka connector is not supporting decrementing primary key, I wonder if anyone ran into this issue? \r\nand what alternative solution is available to meet these requirements? \r\n\r\n\r\n\r\n","title":"JDBC Kafka connector is not supporting decrementing primary key","body":"<p>Recently we started working on a project to consume Oracle DB and push data to confluent kafka connector topic, but we ran into these issue:</p>\n<ol>\n<li>Our DB is using decrementing primary key and Confluent Kafka doesn't have the decrementing primary key.</li>\n<li>Our DB doesn't have a timestamp.</li>\n</ol>\n<p>I'm building a spring Boot application that reads about a million records per day from oracle DB, process these records, and pushes them into kafka topic.</p>\n<p>and it seems like that JDBC Kafka connector is not supporting decrementing primary key, I wonder if anyone ran into this issue?\nand what alternative solution is available to meet these requirements?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1658262222,"post_id":73043045,"comment_id":129007189,"body_markdown":"Do you have a `getProp()` method in `Base` that has permissions not `public`?","body":"Do you have a <code>getProp()</code> method in <code>Base</code> that has permissions not <code>public</code>?"},{"owner":{"account_id":6087,"reputation":17499,"user_id":10093,"accept_rate":85,"display_name":"dave mankoff"},"score":0,"creation_date":1658262485,"post_id":73043045,"comment_id":129007269,"body_markdown":"Yup. See the constructor: `protected val prop: Int`.","body":"Yup. See the constructor: <code>protected val prop: Int</code>."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1658262753,"post_id":73043045,"comment_id":129007355,"body_markdown":"Can you modify the Kotlin code?  It seems like `protected open val prop: Int` might suffice.","body":"Can you modify the Kotlin code?  It seems like <code>protected open val prop: Int</code> might suffice."},{"owner":{"account_id":6087,"reputation":17499,"user_id":10093,"accept_rate":85,"display_name":"dave mankoff"},"score":0,"creation_date":1658263077,"post_id":73043045,"comment_id":129007458,"body_markdown":"I can. If you add that as your answer. I can accept it. Thanks!","body":"I can. If you add that as your answer. I can accept it. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658263848,"creation_date":1658263848,"answer_id":73043346,"question_id":73043045,"body_markdown":"You just have to make `getProp` overridable, which you can do just by writing\r\n\r\n    protected open val prop: Int\r\n\r\nin the Kotlin code.","title":"Add public getter in Java to protected field in Kotlin?","body":"<p>You just have to make <code>getProp</code> overridable, which you can do just by writing</p>\n<pre><code>protected open val prop: Int\n</code></pre>\n<p>in the Kotlin code.</p>\n"}],"owner":{"account_id":6087,"reputation":17499,"user_id":10093,"accept_rate":85,"display_name":"dave mankoff"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73043346,"answer_count":1,"score":0,"last_activity_date":1658263848,"creation_date":1658262041,"question_id":73043045,"body_markdown":"I am doing some refactoring to a base class in Kotlin. It looks like the following:\r\n\r\n```kotlin\r\nabstract class Base constructor (protected val prop: Int) {\r\n   //...\r\n}\r\n```\r\n\r\nI have an implementation in Java that wants to expose `prop` via a public getter. Is this possible?\r\n\r\n```java\r\npublic class Impl extends Base {\r\n    public Int getProp() {\r\n        return prop;\r\n    }\r\n}\r\n```\r\n\r\nCauses an error like the following:\r\n\r\n```\r\nImpl.java:269: error: getProp() in Impl cannot override getProp() in Base\r\n    public Int getProp() {\r\n                ^\r\n  overridden method is final\r\n```","title":"Add public getter in Java to protected field in Kotlin?","body":"<p>I am doing some refactoring to a base class in Kotlin. It looks like the following:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>abstract class Base constructor (protected val prop: Int) {\n   //...\n}\n</code></pre>\n<p>I have an implementation in Java that wants to expose <code>prop</code> via a public getter. Is this possible?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Impl extends Base {\n    public Int getProp() {\n        return prop;\n    }\n}\n</code></pre>\n<p>Causes an error like the following:</p>\n<pre><code>Impl.java:269: error: getProp() in Impl cannot override getProp() in Base\n    public Int getProp() {\n                ^\n  overridden method is final\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8819,"page":1173,"page_size":100}
