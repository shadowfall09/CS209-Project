{"items":[{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1659378186,"post_id":73197939,"comment_id":129275738,"body_markdown":"Sorry, Stack Overflow isn&#39;t just *insert requirements, receive solution*. The expectation is that you&#39;ve made an attempt and can demonstrate that attempt. Start by trying to work out what date you&#39;re looking for, then work out how you can calculate the difference between them in days. Take a look at [the API of LocalDateTime](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html). Specifically, `plusMonths` and `getDayOfWeek`.","body":"Sorry, Stack Overflow isn&#39;t just <i>insert requirements, receive solution</i>. The expectation is that you&#39;ve made an attempt and can demonstrate that attempt. Start by trying to work out what date you&#39;re looking for, then work out how you can calculate the difference between them in days. Take a look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">the API of LocalDateTime</a>. Specifically, <code>plusMonths</code> and <code>getDayOfWeek</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659380556,"post_id":73197939,"comment_id":129276459,"body_markdown":"Welcome to Stack Overflow. Even if you cannot see how to write any code, search and tell us what you think of what you found and what you still see as missing. Showing an effort on your side always provides for a good impression, and it allows us to give much better focused answers.","body":"Welcome to Stack Overflow. Even if you cannot see how to write any code, search and tell us what you think of what you found and what you still see as missing. Showing an effort on your side always provides for a good impression, and it allows us to give much better focused answers."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1659501275,"post_id":73197939,"comment_id":129306997,"body_markdown":"Jose, I&#39;ve made some important improvements to the handling of leap days since you accepted my answer; you may want to review the answers.","body":"Jose, I&#39;ve made some important improvements to the handling of leap days since you accepted my answer; you may want to review the answers."}],"answers":[{"tags":[],"owner":{"account_id":19038874,"reputation":66,"user_id":13899433,"display_name":"Meenal Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659379857,"creation_date":1659379857,"answer_id":73198291,"question_id":73197939,"body_markdown":"        LocalDateTime localDatetime = LocalDateTime.of(2020, 03, 14, 0, 0);\r\n\t\tLocalDate date1 = localDatetime.toLocalDate(); //convert localDateTime to localDate \r\n\t\tLocalDate date2 = date1.plusMonths(3); //add n months\r\n\t\tlong days = ChronoUnit.DAYS.between(date1, date2); //get days in between\r\n\r\nYou can use ChronoUnit (https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html) to get the number of days in between.","title":"Remaining days taking one date as a reference in Java","body":"<pre><code>    LocalDateTime localDatetime = LocalDateTime.of(2020, 03, 14, 0, 0);\n    LocalDate date1 = localDatetime.toLocalDate(); //convert localDateTime to localDate \n    LocalDate date2 = date1.plusMonths(3); //add n months\n    long days = ChronoUnit.DAYS.between(date1, date2); //get days in between\n</code></pre>\n<p>You can use ChronoUnit (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html</a>) to get the number of days in between.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1659501426,"creation_date":1659381274,"answer_id":73198527,"question_id":73197939,"body_markdown":"Determine a [year][1] by comparing the [date portion][2] of the current and reference [dates.][3] If the date has passed already, use next year; otherwise, use the current year. Then [combine][4] this year with the month and day of month from the reference date to yield the anniversary. Finally, [compute the difference][5] in days between the reference date and the anniversary.\r\n\r\n```java\r\nstatic LocalDate nextAnniversary(LocalDate date, LocalDate today) {\r\n    MonthDay anniversary = MonthDay.from(date);\r\n    int year = today.getYear();\r\n    if (anniversary.isBefore(MonthDay.from(today))) year += 1;\r\n    return anniversary.atYear(year);\r\n}\r\n```\r\n\r\nAn example of this function in use:\r\n\r\n```java\r\nLocalDateTime stored = LocalDateTime.of(LocalDate.of(2020, 3, 14), LocalTime.NOON);\r\nLocalDate today = LocalDate.now(); /* Or, better: LocalDate.now(clock) */\r\nLocalDate anniversary = nextAnniversary(stored, today);\r\nlong daysUntil = today.until(stored, ChronoUnit.DAYS);\r\n```\r\n\r\n---\r\nUpdate: This took a few tries to get right. Leap day complicates things; it is best to determine the year first, then to combine it with the original month and day, rather than to increment a past date by one year. (h/t [Basil Bourque][6] and Ole V.V.)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#getYear()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/MonthDay.html#from(java.time.temporal.TemporalAccessor)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/MonthDay.html#atYear(int)\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#until(java.time.temporal.Temporal,java.time.temporal.TemporalUnit)\r\n  [6]: https://stackoverflow.com/a/73199163/3474","title":"Remaining days taking one date as a reference in Java","body":"<p>Determine a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#getYear()\" rel=\"nofollow noreferrer\">year</a> by comparing the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/MonthDay.html#from(java.time.temporal.TemporalAccessor)\" rel=\"nofollow noreferrer\">date portion</a> of the current and reference <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">dates.</a> If the date has passed already, use next year; otherwise, use the current year. Then <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/MonthDay.html#atYear(int)\" rel=\"nofollow noreferrer\">combine</a> this year with the month and day of month from the reference date to yield the anniversary. Finally, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#until(java.time.temporal.Temporal,java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\">compute the difference</a> in days between the reference date and the anniversary.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static LocalDate nextAnniversary(LocalDate date, LocalDate today) {\n    MonthDay anniversary = MonthDay.from(date);\n    int year = today.getYear();\n    if (anniversary.isBefore(MonthDay.from(today))) year += 1;\n    return anniversary.atYear(year);\n}\n</code></pre>\n<p>An example of this function in use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime stored = LocalDateTime.of(LocalDate.of(2020, 3, 14), LocalTime.NOON);\nLocalDate today = LocalDate.now(); /* Or, better: LocalDate.now(clock) */\nLocalDate anniversary = nextAnniversary(stored, today);\nlong daysUntil = today.until(stored, ChronoUnit.DAYS);\n</code></pre>\n<hr />\n<p>Update: This took a few tries to get right. Leap day complicates things; it is best to determine the year first, then to combine it with the original month and day, rather than to increment a past date by one year. (h/t <a href=\"https://stackoverflow.com/a/73199163/3474\">Basil Bourque</a> and Ole V.V.)</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659389316,"creation_date":1659385093,"answer_id":73199163,"question_id":73197939,"body_markdown":"The [Answer by erickson][1] is good and proper.  For fun, here are a couple of different solutions. One uses `Period#isNegative` to detect future or past. The other wraps this code as a convenient `TemporalAdjuster`.\r\n\r\n# `Period#isNegative`\r\n\r\nThis code uses [`Period#isNegative`][2] to figure out if the proposed March 14 is past or future. \r\n\r\n[`MonthDay`][3] is a way to represent, well, a month and a day-of-month, without any particular year.\r\n\r\nBe aware that determining today’s date requires a time zone. Each day starts earlier in the east than in the west. So while it may be “tomorrow” in Tokyo Japan, it can simultaneously be “yesterday” in Edmonton Canada. If you omit an explicit time zone, the [JVM][4]’s current default time zone is applied implicitly. \r\n\r\n```java\r\npublic static long daysUntilMarch14 ( ZoneId zoneId )\r\n{\r\n    LocalDate today = LocalDate.now( zoneId );\r\n\r\n    MonthDay march14 = MonthDay.of( 3 , 14 );\r\n    LocalDate then = today.with( march14 );\r\n\r\n    if ( Period.between( today , then ).isNegative() ) { then = then.plusYears( 1 ); }\r\n    return ChronoUnit.DAYS.between( today , then );\r\n}\r\n```\r\n\r\nExample usage.\r\n\r\n    long days = daysUntilMarch14( ZoneId.of( &quot;Africa/Tunis&quot; ) );\r\n\r\nSee this [code run live at Ideone.com][5].\r\n\r\n&gt;225\r\n\r\nYou could also write a test for past or future as:\r\n\r\n    if( today.with( MonthDay.of( 3 , 14 ) ).isBefore( today ) ) { … add one year … }\r\n\r\n# `TemporalAdjuster`\r\n\r\nIf you want to get fancy, you could implement this code as a [`TemporalAdjuster`][6]. For similarity, see [`TemporalAdjusters.next(DayOfWeek dayOfWeek)`][7] API, and [its source code](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/time/temporal/TemporalAdjusters.java). \r\n\r\n```java\r\npublic static TemporalAdjuster nextMarch14 ( )\r\n{\r\n    return ( Temporal temporal ) -&gt; {\r\n        MonthDay march14 = MonthDay.of( 3 , 14 );\r\n        Temporal then = temporal.with( march14 );\r\n        if ( ChronoUnit.DAYS.between( temporal , then ) &lt; 0 )\r\n        {\r\n            then = then.plus( Period.ofYears( 1 ) );\r\n        }\r\n        return then;\r\n    };\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n    LocalDate\r\n    .now( ZoneId.of( &quot;Africa/Tunis&quot; ) )\r\n    .with( UntilMarch14.nextMarch14() )\r\n\r\nSee this [code run live at Ideone.com][8].\r\n\r\n&gt;2023-03-14\r\n\r\nBe aware that in *java.time*, in day-to-day work we do *not* make use of the more general interfaces, abstract classes, and superclasses. Those are intended for internal use only, generally. The Javadoc advises the use of the more concrete classes for regular work. But here, in creating a `TemporalAdjuster`, we are acting as if doing internal *java.time* work, so we make use of [`Temporal`][9].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73198527/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Period.html#isNegative()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/MonthDay.html\r\n  [4]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [5]: https://ideone.com/GTUb5d\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/TemporalAdjuster.html\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/TemporalAdjusters.html#next(java.time.DayOfWeek)\r\n  [8]: https://ideone.com/HyJa7H\r\n  [9]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/Temporal.html","title":"Remaining days taking one date as a reference in Java","body":"<p>The <a href=\"https://stackoverflow.com/a/73198527/642706\">Answer by erickson</a> is good and proper.  For fun, here are a couple of different solutions. One uses <code>Period#isNegative</code> to detect future or past. The other wraps this code as a convenient <code>TemporalAdjuster</code>.</p>\n<h1><code>Period#isNegative</code></h1>\n<p>This code uses <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Period.html#isNegative()\" rel=\"nofollow noreferrer\"><code>Period#isNegative</code></a> to figure out if the proposed March 14 is past or future.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/MonthDay.html\" rel=\"nofollow noreferrer\"><code>MonthDay</code></a> is a way to represent, well, a month and a day-of-month, without any particular year.</p>\n<p>Be aware that determining today’s date requires a time zone. Each day starts earlier in the east than in the west. So while it may be “tomorrow” in Tokyo Japan, it can simultaneously be “yesterday” in Edmonton Canada. If you omit an explicit time zone, the <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a>’s current default time zone is applied implicitly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static long daysUntilMarch14 ( ZoneId zoneId )\n{\n    LocalDate today = LocalDate.now( zoneId );\n\n    MonthDay march14 = MonthDay.of( 3 , 14 );\n    LocalDate then = today.with( march14 );\n\n    if ( Period.between( today , then ).isNegative() ) { then = then.plusYears( 1 ); }\n    return ChronoUnit.DAYS.between( today , then );\n}\n</code></pre>\n<p>Example usage.</p>\n<pre><code>long days = daysUntilMarch14( ZoneId.of( &quot;Africa/Tunis&quot; ) );\n</code></pre>\n<p>See this <a href=\"https://ideone.com/GTUb5d\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<blockquote>\n<p>225</p>\n</blockquote>\n<p>You could also write a test for past or future as:</p>\n<pre><code>if( today.with( MonthDay.of( 3 , 14 ) ).isBefore( today ) ) { … add one year … }\n</code></pre>\n<h1><code>TemporalAdjuster</code></h1>\n<p>If you want to get fancy, you could implement this code as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/TemporalAdjuster.html\" rel=\"nofollow noreferrer\"><code>TemporalAdjuster</code></a>. For similarity, see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/TemporalAdjusters.html#next(java.time.DayOfWeek)\" rel=\"nofollow noreferrer\"><code>TemporalAdjusters.next(DayOfWeek dayOfWeek)</code></a> API, and <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/time/temporal/TemporalAdjusters.java\" rel=\"nofollow noreferrer\">its source code</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static TemporalAdjuster nextMarch14 ( )\n{\n    return ( Temporal temporal ) -&gt; {\n        MonthDay march14 = MonthDay.of( 3 , 14 );\n        Temporal then = temporal.with( march14 );\n        if ( ChronoUnit.DAYS.between( temporal , then ) &lt; 0 )\n        {\n            then = then.plus( Period.ofYears( 1 ) );\n        }\n        return then;\n    };\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>LocalDate\n.now( ZoneId.of( &quot;Africa/Tunis&quot; ) )\n.with( UntilMarch14.nextMarch14() )\n</code></pre>\n<p>See this <a href=\"https://ideone.com/HyJa7H\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<blockquote>\n<p>2023-03-14</p>\n</blockquote>\n<p>Be aware that in <em>java.time</em>, in day-to-day work we do <em>not</em> make use of the more general interfaces, abstract classes, and superclasses. Those are intended for internal use only, generally. The Javadoc advises the use of the more concrete classes for regular work. But here, in creating a <code>TemporalAdjuster</code>, we are acting as if doing internal <em>java.time</em> work, so we make use of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/Temporal.html\" rel=\"nofollow noreferrer\"><code>Temporal</code></a>.</p>\n"}],"owner":{"account_id":15603154,"reputation":19,"user_id":12132486,"display_name":"Jose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":73198527,"answer_count":3,"score":-2,"last_activity_date":1659501426,"creation_date":1659377709,"question_id":73197939,"body_markdown":"I have a variable of type `LocalDateTime` which has a date stored, for example 14/03/2020. I would like to know how I can get the days remaining to be again the 14th day of the month 3; in this case (from August 1, 2022), there are 225 days. I really have no idea how to get that value.","title":"Remaining days taking one date as a reference in Java","body":"<p>I have a variable of type <code>LocalDateTime</code> which has a date stored, for example 14/03/2020. I would like to know how I can get the days remaining to be again the 14th day of the month 3; in this case (from August 1, 2022), there are 225 days. I really have no idea how to get that value.</p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1659426215,"post_id":73202745,"comment_id":129285680,"body_markdown":"Did you look at the **source** file of the `@NotBlank` annotation, or the **decompiled class** file? Javadoc will not be present in the latter, only the former. And normal Javadoc comments is the way you add documentation to annotations, just like any other class, field, method, etc..","body":"Did you look at the <b>source</b> file of the <code>@NotBlank</code> annotation, or the <b>decompiled class</b> file? Javadoc will not be present in the latter, only the former. And normal Javadoc comments is the way you add documentation to annotations, just like any other class, field, method, etc.."},{"owner":{"account_id":15343705,"reputation":29,"user_id":11069868,"display_name":"Rohit Raj"},"score":0,"creation_date":1659442242,"post_id":73202745,"comment_id":129291230,"body_markdown":"@user16320675 Slaw Thanks for that. Yes, I was looking into decompiled source code which does not have a doc. But still, one thing I didn&#39;t get is why on hovering on elements like **message** of annotation showing default value but there is none in source code https://github.com/jakartaee/validation/blob/2.0.1.Final/src/main/java/javax/validation/constraints/NotNull.java. (Don&#39;t know how to attach screenshot in comment.)","body":"@user16320675 Slaw Thanks for that. Yes, I was looking into decompiled source code which does not have a doc. But still, one thing I didn&#39;t get is why on hovering on elements like <b>message</b> of annotation showing default value but there is none in source code <a href=\"https://github.com/jakartaee/validation/blob/2.0.1.Final/src/main/java/javax/validation/constraints/NotNull.java\" rel=\"nofollow noreferrer\">github.com/jakartaee/validation/blob/2.0.1.Final/src/main/ja&zwnj;&#8203;va/&hellip;</a>. (Don&#39;t know how to attach screenshot in comment.)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1659492776,"post_id":73202745,"comment_id":129305827,"body_markdown":"Not sure what you mean. The [message element](https://github.com/jakartaee/validation/blob/2.0.1.Final/src/main/java/javax/validation/constraints/NotNull.java#L39) for the `@NotNull` annotation you linked to **does** have a default value (the string after the `default` keyword).","body":"Not sure what you mean. The <a href=\"https://github.com/jakartaee/validation/blob/2.0.1.Final/src/main/java/javax/validation/constraints/NotNull.java#L39\" rel=\"nofollow noreferrer\">message element</a> for the <code>@NotNull</code> annotation you linked to <b>does</b> have a default value (the string after the <code>default</code> keyword)."},{"owner":{"account_id":15343705,"reputation":29,"user_id":11069868,"display_name":"Rohit Raj"},"score":0,"creation_date":1659501377,"post_id":73202745,"comment_id":129307015,"body_markdown":"@Slaw Check the **Edit 1** of the post.","body":"@Slaw Check the <b>Edit 1</b> of the post."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1659502716,"post_id":73202745,"comment_id":129307223,"body_markdown":"The IDE likely just parses the source code and grabs the default value for that popup (i.e., it&#39;s not coming from Javadoc).","body":"The IDE likely just parses the source code and grabs the default value for that popup (i.e., it&#39;s not coming from Javadoc)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1659505958,"post_id":73202745,"comment_id":129307734,"body_markdown":"(I&#39;m not sure exactly how default values are compiled for annotation elements, but I suppose another option is that the IDE, instead of parsing the source code, actually looks at the byte-code)","body":"(I&#39;m not sure exactly how default values are compiled for annotation elements, but I suppose another option is that the IDE, instead of parsing the source code, actually looks at the byte-code)"}],"owner":{"account_id":15343705,"reputation":29,"user_id":11069868,"display_name":"Rohit Raj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1659501331,"creation_date":1659420805,"question_id":73202745,"body_markdown":"I want to know how to add java doc to custom annotation and its elements. Like if one can see doc of **@NotBlank** by hovering over it (attaching screenshot)\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSimilar is the case for elements for that annotation if one hovers over it. \r\n\r\nSo how do I add this type of documentation to my annotation? I saw the class file for @NotBlank and didn&#39;t see any doc comment i.e. **/\\*\\* \\*/** used.\r\n\r\n**Edit 1**: Below is the screenshot of the **message** element of **@NotNull** while hovering on the message element. So one can see the doc giving the default message while hovering but in the source code, there is no document on the **message** element using **/\\*\\* \\*/**. So in my custom annotation also I&#39;m not getting the document of the **message** element while hovering. **How it is done?** \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/moEHi.png\r\n  [2]: https://i.stack.imgur.com/OsXpn.png","title":"Add documentation to java annotation elements","body":"<p>I want to know how to add java doc to custom annotation and its elements. Like if one can see doc of <strong>@NotBlank</strong> by hovering over it (attaching screenshot)\n<a href=\"https://i.stack.imgur.com/moEHi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/moEHi.png\" alt=\"enter image description here\" /></a></p>\n<p>Similar is the case for elements for that annotation if one hovers over it.</p>\n<p>So how do I add this type of documentation to my annotation? I saw the class file for @NotBlank and didn't see any doc comment i.e. <strong>/** */</strong> used.</p>\n<p><strong>Edit 1</strong>: Below is the screenshot of the <strong>message</strong> element of <strong>@NotNull</strong> while hovering on the message element. So one can see the doc giving the default message while hovering but in the source code, there is no document on the <strong>message</strong> element using <strong>/** */</strong>. So in my custom annotation also I'm not getting the document of the <strong>message</strong> element while hovering. <strong>How it is done?</strong></p>\n<p><a href=\"https://i.stack.imgur.com/OsXpn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OsXpn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":4489466,"reputation":541,"user_id":3650944,"accept_rate":92,"display_name":"Adam Jensen"},"score":1,"creation_date":1409214786,"post_id":21798183,"comment_id":39884166,"body_markdown":"I don&#39;t get the same results as you. Do you have an [SSCCE](http://sscce.org/)?","body":"I don&#39;t get the same results as you. Do you have an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>?"},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1480905738,"post_id":21798183,"comment_id":69142299,"body_markdown":"Possible duplicate of [How perform task on javaFX TextField at onfocus and outfocus?](http://stackoverflow.com/questions/16549296/how-perform-task-on-javafx-textfield-at-onfocus-and-outfocus)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/16549296/how-perform-task-on-javafx-textfield-at-onfocus-and-outfocus\">How perform task on javaFX TextField at onfocus and outfocus?</a>"}],"answers":[{"tags":[],"owner":{"account_id":8263558,"reputation":102,"user_id":6423246,"display_name":"Danny E.K. van der Kolk"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1659481917,"creation_date":1464679605,"answer_id":37539400,"question_id":21798183,"body_markdown":"Well, it&#39;s a bit late but it might help others.\r\nThis works fine:\r\n\r\n    root.focusedProperty().addListener((ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) -&gt; {\r\n        focusState(newValue);\r\n    });\r\n\r\n    private void focusState(boolean value) {\r\n        System.out.println(value ? &quot;Focus gained&quot; : &quot;Focus lost&quot;);\r\n    }","title":"Focus Listener for JavaFX Nodes","body":"<p>Well, it's a bit late but it might help others.\nThis works fine:</p>\n<pre><code>root.focusedProperty().addListener((ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) -&gt; {\n    focusState(newValue);\n});\n\nprivate void focusState(boolean value) {\n    System.out.println(value ? &quot;Focus gained&quot; : &quot;Focus lost&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":4024416,"reputation":541,"user_id":3313367,"display_name":"Anmol Mahatpurkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11716,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1659501134,"creation_date":1392470884,"question_id":21798183,"body_markdown":"I am a beginner in JavaFX. I am really stuck at this point. :( And sorry if my English is poor.\r\n\r\nI have two stack panes in my JavaFX program. I want to add a focus listener to both of these stack panes. \r\n\r\nIt should be such that, when I click on one stack pane, it should activate the focus gained method for this stack pane.\r\n\r\nOnce I click on another stack pane, the 1st stack pane should give a call to its focus lost method, and the current stack pane&#39;s focus gained method should be called. Just like we have focus events in the Swing Package.\r\n\r\nCurrently I have tried this:\r\n\r\n    stackPane.focusedProperty().addListener(new ChangeListener&lt;Boolean&gt;() {\r\n                    \r\n                    @Override\r\n                    public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\r\n                        if (newValue.booleanValue()) {\r\n                            focusGained(stackPane);\r\n                        } else {\r\n                            focusLost(stackPane);\r\n                        }\r\n                    }\r\n                });\r\n\r\n    private void focusGained(StackPane stackPane){\r\n        System.out.println(&quot;Focus Gained.&quot;);\r\n    }\r\n    \r\n    private void focusLost(StackPane stackPane){\r\n        System.out.println(&quot;Focus Lost.&quot;);\r\n    }\r\n\r\nI have also tried to set the focus traversable property on the stack pane i.e.\r\n\r\n    stackPane.setFocusTraversable(true);\r\n\r\nThese are not working properly. When I run it, the output only shows these 3 lines, no matter how many times I click on the stack panes.\r\n\r\n    Focus Gained.\r\n    Focus Lost.\r\n    Focus Gained.\r\n\r\nPlease help. ","title":"Focus Listener for JavaFX Nodes","body":"<p>I am a beginner in JavaFX. I am really stuck at this point. :( And sorry if my English is poor.</p>\n\n<p>I have two stack panes in my JavaFX program. I want to add a focus listener to both of these stack panes. </p>\n\n<p>It should be such that, when I click on one stack pane, it should activate the focus gained method for this stack pane.</p>\n\n<p>Once I click on another stack pane, the 1st stack pane should give a call to its focus lost method, and the current stack pane's focus gained method should be called. Just like we have focus events in the Swing Package.</p>\n\n<p>Currently I have tried this:</p>\n\n<pre><code>stackPane.focusedProperty().addListener(new ChangeListener&lt;Boolean&gt;() {\n\n                @Override\n                public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\n                    if (newValue.booleanValue()) {\n                        focusGained(stackPane);\n                    } else {\n                        focusLost(stackPane);\n                    }\n                }\n            });\n\nprivate void focusGained(StackPane stackPane){\n    System.out.println(\"Focus Gained.\");\n}\n\nprivate void focusLost(StackPane stackPane){\n    System.out.println(\"Focus Lost.\");\n}\n</code></pre>\n\n<p>I have also tried to set the focus traversable property on the stack pane i.e.</p>\n\n<pre><code>stackPane.setFocusTraversable(true);\n</code></pre>\n\n<p>These are not working properly. When I run it, the output only shows these 3 lines, no matter how many times I click on the stack panes.</p>\n\n<pre><code>Focus Gained.\nFocus Lost.\nFocus Gained.\n</code></pre>\n\n<p>Please help. </p>\n"},{"tags":["java","antlr","antlr4","antlr3","antlrworks"],"answers":[{"tags":[],"owner":{"account_id":14607232,"reputation":404,"user_id":10549662,"display_name":"Igor N."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659500852,"creation_date":1659500852,"answer_id":73216296,"question_id":69832987,"body_markdown":"Listeners are good for validating the tree before you start doing some heavy processing.\r\n\r\nIn this case listeners could be use to track [free versus bound variables][1]. Adding a variable on right side of &#39;:&#39; is adding to free variables. Left side of &#39;:&#39; binds them. So when you validate your tree, use enter and exit methods adding free and removing bound variables as the listener traverses the parse tree.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Free_variables_and_bound_variables","title":"Listener vs visitor in this exercise","body":"<p>Listeners are good for validating the tree before you start doing some heavy processing.</p>\n<p>In this case listeners could be use to track <a href=\"https://en.wikipedia.org/wiki/Free_variables_and_bound_variables\" rel=\"nofollow noreferrer\">free versus bound variables</a>. Adding a variable on right side of ':' is adding to free variables. Left side of ':' binds them. So when you validate your tree, use enter and exit methods adding free and removing bound variables as the listener traverses the parse tree.</p>\n"}],"owner":{"account_id":17011103,"reputation":75,"user_id":12306084,"display_name":"Juan Vega Seco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1659500852,"creation_date":1635983086,"question_id":69832987,"body_markdown":"We have this exercise that we have to do in class and the professor asked us to figure out good reasons to choose the listener method over visitor method in order to implement a solution for a semantic problem. Although visitor seems more reasonable, he asked us to find possible reasons to choose the listener method over visitor.\r\n\r\nHere&#180;s the title of the exercise:\r\nLet us assume a language of logical expressions called EXPL with the following expressive resources: variables, integers, functions, predicates, negation, conjunction, disjunction, implication and universal and existential quantifiers. The predicates and functions are prefix symbols with the exceptions of the relational predicates equal to, greater than, less than, less than or equal to, greater than or equal to and distinct and the functions addition, subtraction, product and division which are infixes.\r\nAn example of the EXPL expressions is:\r\n\r\n    1. FORALL x,y:(p(f(x)+2-3*5) OR r(x,y) =&gt; EXISTS z:(z+2 == 15)) \r\n    2. FORALL x,y:(p(x) AND NOT r(x,y) =&gt; z == x)\r\n    3. (result == i AND i&lt;=numberOfElements(v))\r\n\r\nThe semantic problem that we have to treat is that: whenever we find an entry with universal &#39;FORALL&#39; or existencial &#39;EXISTS&#39; openning, we have to make sure that the variables declared right next to these operators are used at least once in the logical expression that follows them, for example in this entry:\r\n\r\n    FORALL x,y:(p(f(x)+2-3*5) OR r(x,y) =&gt; EXISTS z:(z+2 == 15)) \r\n\r\nWe have to make sure that the variables declared: `x,y` show up at least once in the logical expression next to it.    \r\n                                                                             `(p(f(x)+2-3*5) OR r(x,y) =&gt; EXISTS z:(z+2 == 15))` \r\nIn this case is correct because they appear here `f(x)` and here `r(x,y)`at least once.\r\n\r\nAlso we would  have to  check  `EXISTS z:(z+2 == 15)` \r\nchecking if the variable `z` show up in the `(z+2 == 15)` expression, which is also correct.\r\n\r\nNow, regarding the visitor or listener situation, it seems a good reason to choose the visitor method becase we would go through the tree generated only looking for the expressions that are quantifiers returning for example a bool variable that checks whether the variables appear on the right expression or not. If we used a listener method, we would have to create global variables in order to store the variables since we cannot return anything, and then we would have to clear the lists or sets that we would use so that when it enters in the rule again the global variables are clean.\r\n\r\nI have seen that a good other reason to choose a listeners is because they use an explicit stack allocated on the heap, whereas visitor uses call stack to manage tree traversals. This might lead to StackOverFlow exceptions while using visitor on deeply nested ASTs.\r\nI would like to know more pros regarding the use of listeners for this exercise. \r\nIf the problem is not clear enough I can specify more, let me know!\r\nThanks!\r\n\r\n\r\n\r\n","title":"Listener vs visitor in this exercise","body":"<p>We have this exercise that we have to do in class and the professor asked us to figure out good reasons to choose the listener method over visitor method in order to implement a solution for a semantic problem. Although visitor seems more reasonable, he asked us to find possible reasons to choose the listener method over visitor.</p>\n<p>Here´s the title of the exercise:\nLet us assume a language of logical expressions called EXPL with the following expressive resources: variables, integers, functions, predicates, negation, conjunction, disjunction, implication and universal and existential quantifiers. The predicates and functions are prefix symbols with the exceptions of the relational predicates equal to, greater than, less than, less than or equal to, greater than or equal to and distinct and the functions addition, subtraction, product and division which are infixes.\nAn example of the EXPL expressions is:</p>\n<pre><code>1. FORALL x,y:(p(f(x)+2-3*5) OR r(x,y) =&gt; EXISTS z:(z+2 == 15)) \n2. FORALL x,y:(p(x) AND NOT r(x,y) =&gt; z == x)\n3. (result == i AND i&lt;=numberOfElements(v))\n</code></pre>\n<p>The semantic problem that we have to treat is that: whenever we find an entry with universal 'FORALL' or existencial 'EXISTS' openning, we have to make sure that the variables declared right next to these operators are used at least once in the logical expression that follows them, for example in this entry:</p>\n<pre><code>FORALL x,y:(p(f(x)+2-3*5) OR r(x,y) =&gt; EXISTS z:(z+2 == 15)) \n</code></pre>\n<p>We have to make sure that the variables declared: <code>x,y</code> show up at least once in the logical expression next to it.<br />\n<code>(p(f(x)+2-3*5) OR r(x,y) =&gt; EXISTS z:(z+2 == 15))</code>\nIn this case is correct because they appear here <code>f(x)</code> and here <code>r(x,y)</code>at least once.</p>\n<p>Also we would  have to  check  <code>EXISTS z:(z+2 == 15)</code>\nchecking if the variable <code>z</code> show up in the <code>(z+2 == 15)</code> expression, which is also correct.</p>\n<p>Now, regarding the visitor or listener situation, it seems a good reason to choose the visitor method becase we would go through the tree generated only looking for the expressions that are quantifiers returning for example a bool variable that checks whether the variables appear on the right expression or not. If we used a listener method, we would have to create global variables in order to store the variables since we cannot return anything, and then we would have to clear the lists or sets that we would use so that when it enters in the rule again the global variables are clean.</p>\n<p>I have seen that a good other reason to choose a listeners is because they use an explicit stack allocated on the heap, whereas visitor uses call stack to manage tree traversals. This might lead to StackOverFlow exceptions while using visitor on deeply nested ASTs.\nI would like to know more pros regarding the use of listeners for this exercise.\nIf the problem is not clear enough I can specify more, let me know!\nThanks!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11347613,"reputation":679,"user_id":8319640,"display_name":"Kishan Mevada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659499974,"creation_date":1659499974,"answer_id":73216215,"question_id":73216176,"body_markdown":"It is just simple `ImageButton`\r\n\r\nYou can set this button using following code : \r\n\r\n```\r\n&lt;ImageButton\r\n      android:id=&quot;@+id/button&quot;\r\n      android:layout_width=&quot;wrap_content&quot;\r\n      android:layout_height=&quot;wrap_content&quot;\r\n      android:src=&quot;@drawable/home&quot; /&gt; &lt;!--Add Your Icon Here In Drawable--&gt;\r\n```\r\n\r\nAfter that, Just set simple `View.OnClickListener()` \r\n\r\n```\r\nfindViewById(R.id.button).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //Handle Your Click Here\r\n            }\r\n        });\r\n```","title":"How to make this kind of button?","body":"<p>It is just simple <code>ImageButton</code></p>\n<p>You can set this button using following code :</p>\n<pre><code>&lt;ImageButton\n      android:id=&quot;@+id/button&quot;\n      android:layout_width=&quot;wrap_content&quot;\n      android:layout_height=&quot;wrap_content&quot;\n      android:src=&quot;@drawable/home&quot; /&gt; &lt;!--Add Your Icon Here In Drawable--&gt;\n</code></pre>\n<p>After that, Just set simple <code>View.OnClickListener()</code></p>\n<pre><code>findViewById(R.id.button).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //Handle Your Click Here\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":25962960,"reputation":1,"user_id":19679281,"display_name":"Newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1659501751,"accepted_answer_id":73216215,"answer_count":1,"score":-2,"last_activity_date":1659499974,"creation_date":1659499524,"question_id":73216176,"body_markdown":"I am creating a currency converter and I want to create a button that switches or swaps values. I appreciate the support.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LRJcq.jpg","title":"How to make this kind of button?","body":"<p>I am creating a currency converter and I want to create a button that switches or swaps values. I appreciate the support.</p>\n<p><a href=\"https://i.stack.imgur.com/LRJcq.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","json","gson","deserialization","json-deserialization"],"comments":[{"owner":{"account_id":308815,"reputation":3962,"user_id":620908,"display_name":"Adrian Colomitchi"},"score":0,"creation_date":1474643268,"post_id":39663929,"comment_id":66629834,"body_markdown":"Typo, mate! Jokingly: &quot;There&#39;s 2 custom deserializer i.e. `MyOwnListDeserializer` and `MyOwnListDeserializer`. I am not happy with `MyOwnListDeserializer`&quot; Ummm... with which of the `MyOwnListDeserializer` are you not happy, the first or the second?","body":"Typo, mate! Jokingly: &quot;There&#39;s 2 custom deserializer i.e. <code>MyOwnListDeserializer</code> and <code>MyOwnListDeserializer</code>. I am not happy with <code>MyOwnListDeserializer</code>&quot; Ummm... with which of the <code>MyOwnListDeserializer</code> are you not happy, the first or the second?"},{"owner":{"account_id":308815,"reputation":3962,"user_id":620908,"display_name":"Adrian Colomitchi"},"score":0,"creation_date":1474643854,"post_id":39663929,"comment_id":66630163,"body_markdown":"Stay minimal - delete the unnecessary code. hashCode and equals contribute nothing to the question you ask. Try to break your lines so that one doesn&#39;t need to hscroll to view it all.","body":"Stay minimal - delete the unnecessary code. hashCode and equals contribute nothing to the question you ask. Try to break your lines so that one doesn&#39;t need to hscroll to view it all."},{"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"score":0,"creation_date":1474672618,"post_id":39663929,"comment_id":66643153,"body_markdown":"Thanks Adrian. Fixed the typo. You&#39;re right that the hashCode and equals are not related to the question. But without that, it will not work for the comparison (of the test)... I provide the complete codes that works, so that one could just copy paste to try it out.","body":"Thanks Adrian. Fixed the typo. You&#39;re right that the hashCode and equals are not related to the question. But without that, it will not work for the comparison (of the test)... I provide the complete codes that works, so that one could just copy paste to try it out."}],"answers":[{"tags":[],"owner":{"account_id":4644547,"reputation":5037,"user_id":3763321,"accept_rate":0,"display_name":"Douglas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659499770,"creation_date":1474679822,"answer_id":39671580,"question_id":39663929,"body_markdown":"The method you&#39;re looking for is [`JsonDeserializationContext.deserialize()`](https://www.javadoc.io/static/com.google.code.gson/gson/2.6.2/com/google/gson/JsonDeserializationContext.html#deserialize-com.google.gson.JsonElement-java.lang.reflect.Type-). Per the warning about how to cause an infinite loop, this invokes any relevant custom deserializers you&#39;ve set up.\r\n\r\nI believe replacing the initialization of `subItems` inside the loop with a one-liner `MySubItems subItems = context.deserialize(element, MySubItems.class);` will do the trick, leaving only that and the check around `list.add(subItems)` in the loop body.","title":"Can I apply a custom deserializer to within another custom deserializer for GSON","body":"<p>The method you're looking for is <a href=\"https://www.javadoc.io/static/com.google.code.gson/gson/2.6.2/com/google/gson/JsonDeserializationContext.html#deserialize-com.google.gson.JsonElement-java.lang.reflect.Type-\" rel=\"nofollow noreferrer\"><code>JsonDeserializationContext.deserialize()</code></a>. Per the warning about how to cause an infinite loop, this invokes any relevant custom deserializers you've set up.</p>\n<p>I believe replacing the initialization of <code>subItems</code> inside the loop with a one-liner <code>MySubItems subItems = context.deserialize(element, MySubItems.class);</code> will do the trick, leaving only that and the check around <code>list.add(subItems)</code> in the loop body.</p>\n"}],"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39671580,"answer_count":1,"score":0,"last_activity_date":1659499770,"creation_date":1474642910,"question_id":39663929,"body_markdown":"The below is a working code that helps to convert JSON in Object accordingly. If the String is `nil`, it will be treated as null.\r\n\r\nThere&#39;s 2 custom deserializer i.e. `MyOwnStringDeserializer` and `MyOwnListDeserializer`. I am not happy with `MyOwnListDeserializer` deserializer, as essentially what it is doing is in term of the String comparison to the rule defined in `MyOwnStringDeserializer`. But I just can&#39;t and don&#39;t know how to apply the `MyOwnStringDeserializer` into `MyOwnListDeserializer`.\r\n\r\nIs there a way for me to do so, that simplify the `MyOwnListDeserializer`? Or even better if there&#39;s a way to use just a single custom deserializer and could still achieve the same result?\r\n\r\n\r\n    @Test\r\n    public void myTestFunction() {\r\n        String myJson1 = &quot;{\\&quot;item1\\&quot;:\\&quot;nil\\&quot;,\\&quot;item2\\&quot;:\\&quot;nil\\&quot;,\\&quot;subItemList\\&quot;:[{\\&quot;subItem1\\&quot;:\\&quot;nil\\&quot;,\\&quot;subItem2\\&quot;:\\&quot;nil\\&quot;}]}&quot;;\r\n        String myJson2 = &quot;{\\&quot;subItemList\\&quot;:[]}&quot;;\r\n\r\n        GsonBuilder gsonBuilder = new GsonBuilder();\r\n        gsonBuilder.registerTypeAdapter(new TypeToken&lt;List&lt;MySubItems&gt;&gt;(){ }.getType(), new MyOwnListDeserializer());\r\n        gsonBuilder.registerTypeAdapter(String.class, new MyOwnStringDeserializer());\r\n        Gson gson = gsonBuilder.create();\r\n\r\n        MySimpleObject myObj1 = gson.fromJson(myJson1, MySimpleObject.class);\r\n        MySimpleObject myObj2 = gson.fromJson(myJson2, MySimpleObject.class);\r\n\r\n        assertThat(myObj1.equals((myObj2))).isTrue();\r\n    }\r\n\r\n    class MySimpleObject implements Serializable {\r\n        String item1 = null;\r\n        String item2 = null;\r\n        List&lt;MySubItems&gt; subItemList;\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            int hash = 17;\r\n            hash = 31*hash + ((item1 == null)? 0 :item1.hashCode());\r\n            hash = 31*hash + ((item2 == null)? 0 :item2.hashCode());\r\n            return hash;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (obj instanceof MySimpleObject) {\r\n                return this.hashCode() == obj.hashCode();\r\n            }\r\n            return super.equals(obj);\r\n        }\r\n    }\r\n\r\n    class MySubItems implements Serializable {\r\n        String subItem1 = null;\r\n        String subItem2 = null;\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            int hash = 17;\r\n            hash = 31*hash + ((subItem1 == null)? 0 :subItem1.hashCode());\r\n            hash = 31*hash + ((subItem2 == null)? 0 :subItem2.hashCode());\r\n            return hash;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (obj instanceof MySubItems) {\r\n                return this.hashCode() == obj.hashCode();\r\n            }\r\n            return super.equals(obj);\r\n        }\r\n    }\r\n\r\n    class MyOwnStringDeserializer implements JsonDeserializer&lt;String&gt; {\r\n        @Override\r\n        public String deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n            return (json.getAsString().equals(&quot;nil&quot;))? null : json.getAsString();\r\n        }\r\n    }\r\n\r\n    class MyOwnListDeserializer implements JsonDeserializer&lt;List&lt;MySubItems&gt;&gt; {\r\n        @Override\r\n        public List&lt;MySubItems&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n            List&lt;MySubItems&gt; list = new ArrayList&lt;&gt;();\r\n\r\n            for (JsonElement element : json.getAsJsonArray()) {\r\n                JsonObject subObj = element.getAsJsonObject();\r\n                MySubItems subItems = new MySubItems();\r\n\r\n                if (!subObj.get(&quot;subItem1&quot;).getAsString().equals(&quot;nil&quot;)) {\r\n                    subItems.subItem1 = subObj.get(&quot;subItem1&quot;).getAsString();\r\n                }\r\n                if (!subObj.get(&quot;subItem2&quot;).getAsString().equals(&quot;nil&quot;)) {\r\n                    subItems.subItem2 = subObj.get(&quot;subItem1&quot;).getAsString();\r\n                }\r\n\r\n                if (subItems.subItem1 != null || subItems.subItem2 != null) {\r\n                    list.add(subItems);\r\n                }\r\n            }\r\n\r\n            return (list.size() == 0)? null : list;\r\n        }\r\n    }","title":"Can I apply a custom deserializer to within another custom deserializer for GSON","body":"<p>The below is a working code that helps to convert JSON in Object accordingly. If the String is <code>nil</code>, it will be treated as null.</p>\n\n<p>There's 2 custom deserializer i.e. <code>MyOwnStringDeserializer</code> and <code>MyOwnListDeserializer</code>. I am not happy with <code>MyOwnListDeserializer</code> deserializer, as essentially what it is doing is in term of the String comparison to the rule defined in <code>MyOwnStringDeserializer</code>. But I just can't and don't know how to apply the <code>MyOwnStringDeserializer</code> into <code>MyOwnListDeserializer</code>.</p>\n\n<p>Is there a way for me to do so, that simplify the <code>MyOwnListDeserializer</code>? Or even better if there's a way to use just a single custom deserializer and could still achieve the same result?</p>\n\n<pre><code>@Test\npublic void myTestFunction() {\n    String myJson1 = \"{\\\"item1\\\":\\\"nil\\\",\\\"item2\\\":\\\"nil\\\",\\\"subItemList\\\":[{\\\"subItem1\\\":\\\"nil\\\",\\\"subItem2\\\":\\\"nil\\\"}]}\";\n    String myJson2 = \"{\\\"subItemList\\\":[]}\";\n\n    GsonBuilder gsonBuilder = new GsonBuilder();\n    gsonBuilder.registerTypeAdapter(new TypeToken&lt;List&lt;MySubItems&gt;&gt;(){ }.getType(), new MyOwnListDeserializer());\n    gsonBuilder.registerTypeAdapter(String.class, new MyOwnStringDeserializer());\n    Gson gson = gsonBuilder.create();\n\n    MySimpleObject myObj1 = gson.fromJson(myJson1, MySimpleObject.class);\n    MySimpleObject myObj2 = gson.fromJson(myJson2, MySimpleObject.class);\n\n    assertThat(myObj1.equals((myObj2))).isTrue();\n}\n\nclass MySimpleObject implements Serializable {\n    String item1 = null;\n    String item2 = null;\n    List&lt;MySubItems&gt; subItemList;\n\n    @Override\n    public int hashCode() {\n        int hash = 17;\n        hash = 31*hash + ((item1 == null)? 0 :item1.hashCode());\n        hash = 31*hash + ((item2 == null)? 0 :item2.hashCode());\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj instanceof MySimpleObject) {\n            return this.hashCode() == obj.hashCode();\n        }\n        return super.equals(obj);\n    }\n}\n\nclass MySubItems implements Serializable {\n    String subItem1 = null;\n    String subItem2 = null;\n\n    @Override\n    public int hashCode() {\n        int hash = 17;\n        hash = 31*hash + ((subItem1 == null)? 0 :subItem1.hashCode());\n        hash = 31*hash + ((subItem2 == null)? 0 :subItem2.hashCode());\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj instanceof MySubItems) {\n            return this.hashCode() == obj.hashCode();\n        }\n        return super.equals(obj);\n    }\n}\n\nclass MyOwnStringDeserializer implements JsonDeserializer&lt;String&gt; {\n    @Override\n    public String deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n        return (json.getAsString().equals(\"nil\"))? null : json.getAsString();\n    }\n}\n\nclass MyOwnListDeserializer implements JsonDeserializer&lt;List&lt;MySubItems&gt;&gt; {\n    @Override\n    public List&lt;MySubItems&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n        List&lt;MySubItems&gt; list = new ArrayList&lt;&gt;();\n\n        for (JsonElement element : json.getAsJsonArray()) {\n            JsonObject subObj = element.getAsJsonObject();\n            MySubItems subItems = new MySubItems();\n\n            if (!subObj.get(\"subItem1\").getAsString().equals(\"nil\")) {\n                subItems.subItem1 = subObj.get(\"subItem1\").getAsString();\n            }\n            if (!subObj.get(\"subItem2\").getAsString().equals(\"nil\")) {\n                subItems.subItem2 = subObj.get(\"subItem1\").getAsString();\n            }\n\n            if (subItems.subItem1 != null || subItems.subItem2 != null) {\n                list.add(subItems);\n            }\n        }\n\n        return (list.size() == 0)? null : list;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","augmented-reality","arcore"],"answers":[{"tags":[],"owner":{"account_id":4999054,"reputation":547,"user_id":5137169,"display_name":"AlgoRyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542326528,"creation_date":1542326528,"answer_id":53329557,"question_id":51443899,"body_markdown":"ARCore won&#39;t detect the points of a 3D model that you place in the scene; it doesn&#39;t need to. You have this information already because you control the 3D model.\r\n\r\nWhat you want to do sounds more like a 3D modelling problem than one with ARCore. I would use a 3D modelling tool to overlay the t-shirt and human body models, such that they shared a center point. Then re-export the two models separately, since it sounds like you&#39;re going for a customisable t-shirt experience.\r\n\r\nReattaching them should then be as simple as anchoring both models to the same anchor point through ARCore / Sceneform, such that they share the same local geometry.","title":"How to overlay one 3d model over another in arcore android app","body":"<p>ARCore won't detect the points of a 3D model that you place in the scene; it doesn't need to. You have this information already because you control the 3D model.</p>\n\n<p>What you want to do sounds more like a 3D modelling problem than one with ARCore. I would use a 3D modelling tool to overlay the t-shirt and human body models, such that they shared a center point. Then re-export the two models separately, since it sounds like you're going for a customisable t-shirt experience.</p>\n\n<p>Reattaching them should then be as simple as anchoring both models to the same anchor point through ARCore / Sceneform, such that they share the same local geometry.</p>\n"}],"owner":{"account_id":13999088,"reputation":11,"user_id":10111184,"display_name":"Rahul Ambavat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659499559,"creation_date":1532094115,"question_id":51443899,"body_markdown":"I&#39;m trying to make a POC trial room app and I&#39;ve a 3d model of human body and another 3d model of a t-shirt in my app. How do I anchor the t-shirt model around the human so that they are coupled together.\r\nAs far as I know arcore currently only detects points on a plane so how do I tweak this to make it identify points on the human model and fit t-shirt on top of it?\r\n\r\nIf not arcore, what other android library can I use to make this POC?","title":"How to overlay one 3d model over another in arcore android app","body":"<p>I'm trying to make a POC trial room app and I've a 3d model of human body and another 3d model of a t-shirt in my app. How do I anchor the t-shirt model around the human so that they are coupled together.\nAs far as I know arcore currently only detects points on a plane so how do I tweak this to make it identify points on the human model and fit t-shirt on top of it?</p>\n\n<p>If not arcore, what other android library can I use to make this POC?</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1659486343,"post_id":73215031,"comment_id":129304949,"body_markdown":"Your question is **very** confusing; were you aware that Java supports jagged arrays? `int[][] arr = { { 1 }, { 2, 3 }, { 4, 5, 6 } };`","body":"Your question is <b>very</b> confusing; were you aware that Java supports jagged arrays? <code>int[][] arr = { { 1 }, { 2, 3 }, { 4, 5, 6 } };</code>"},{"owner":{"display_name":"user17364069"},"score":0,"creation_date":1659486582,"post_id":73215031,"comment_id":129304976,"body_markdown":"Yes I know that... I am wanting to make my method accept an array of any dimensions which means int[], int[][], int[][][], etc. Because I need to accept any array I need to use an object as my methods parameter. So lets say someone passes in your 2d array all my method will see is an object then using the code I posted above I will know its 2d. Based on that info how can I reconstruct the original array that was passed in?","body":"Yes I know that... I am wanting to make my method accept an array of any dimensions which means int[], int[][], int[][][], etc. Because I need to accept any array I need to use an object as my methods parameter. So lets say someone passes in your 2d array all my method will see is an object then using the code I posted above I will know its 2d. Based on that info how can I reconstruct the original array that was passed in?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1659487119,"post_id":73215031,"comment_id":129305036,"body_markdown":"You can&#39;t. Without also passing a `Class&lt;?&gt;` that corresponds to the array type.","body":"You can&#39;t. Without also passing a <code>Class&lt;?&gt;</code> that corresponds to the array type."}],"answers":[{"tags":[],"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659487284,"creation_date":1659487284,"answer_id":73215166,"question_id":73215031,"body_markdown":"I tried it out and got this and it works for me:\r\n\r\n```\r\npublic static int dimensionOf(Object... args) {\r\n    int dim = 0;\r\n    Class&lt;?&gt; c = args.getClass();\r\n    while(c.isArray()) {\r\n        c = c.getComponentType();\r\n        dim++;\r\n    }\r\n    return dim;\r\n}\r\n```","title":"Scale an arrays dimensions in Java","body":"<p>I tried it out and got this and it works for me:</p>\n<pre><code>public static int dimensionOf(Object... args) {\n    int dim = 0;\n    Class&lt;?&gt; c = args.getClass();\n    while(c.isArray()) {\n        c = c.getComponentType();\n        dim++;\n    }\n    return dim;\n}\n</code></pre>\n"}],"owner":{"display_name":"user17364069"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659498839,"creation_date":1659485682,"question_id":73215031,"body_markdown":"I am wanting to make a method that can take in an array of n dimensions and then do some sorting with that info. The sorting part is out of the scope of this question though since the part I am stuck on is making a method accept an array of n dimensions. Normally you include something like int[] nums as a parameter. However, this does not allow for a scalable dimensional input. I did some research and the following code accurately calculates the dimensions of an array but I am not sure where to go from there since I cant figure out how to initialize an array of n dimensions from just an Object.    \r\n\r\n    public static int dimensionOf(Object arr) {\r\n        int dimensionCount = 0;\r\n        Class&lt;?&gt; c = arr.getClass(); // getting the runtime class of an object\r\n\r\n        while (c.isArray()) { // check whether the object is an array\r\n            c = c.getComponentType(); // returns the class denoting the component type of the array\r\n            dimensionCount++;\r\n        }\r\n        return dimensionCount;\r\n    }\r\n\r\nHere is something else to explain my issue lets say someone passes in a 2 dimensional array as the object. If that happened my dimensions variable would be equal to 2 since its using the above code to determine the dimension of the array. The thing I am stuck on is figuring out how to then produce a useable variable. Here you can see I tried to cast the object (which I know is an instance of array) to a 1d array which would through an error since the incoming object is a 2d array. \r\n\r\n    public static int sortNDimensionalArray(Object obj) {\r\n        int dimensions = dimensionOf(obj);\r\n\r\n        //This means we did not get an array passed in\r\n        if(dimensions == 0) return -1;\r\n\r\n        int[] array = (int[]) obj;\r\n\r\n        return 1;\r\n    }","title":"Scale an arrays dimensions in Java","body":"<p>I am wanting to make a method that can take in an array of n dimensions and then do some sorting with that info. The sorting part is out of the scope of this question though since the part I am stuck on is making a method accept an array of n dimensions. Normally you include something like int[] nums as a parameter. However, this does not allow for a scalable dimensional input. I did some research and the following code accurately calculates the dimensions of an array but I am not sure where to go from there since I cant figure out how to initialize an array of n dimensions from just an Object.</p>\n<pre><code>public static int dimensionOf(Object arr) {\n    int dimensionCount = 0;\n    Class&lt;?&gt; c = arr.getClass(); // getting the runtime class of an object\n\n    while (c.isArray()) { // check whether the object is an array\n        c = c.getComponentType(); // returns the class denoting the component type of the array\n        dimensionCount++;\n    }\n    return dimensionCount;\n}\n</code></pre>\n<p>Here is something else to explain my issue lets say someone passes in a 2 dimensional array as the object. If that happened my dimensions variable would be equal to 2 since its using the above code to determine the dimension of the array. The thing I am stuck on is figuring out how to then produce a useable variable. Here you can see I tried to cast the object (which I know is an instance of array) to a 1d array which would through an error since the incoming object is a 2d array.</p>\n<pre><code>public static int sortNDimensionalArray(Object obj) {\n    int dimensions = dimensionOf(obj);\n\n    //This means we did not get an array passed in\n    if(dimensions == 0) return -1;\n\n    int[] array = (int[]) obj;\n\n    return 1;\n}\n</code></pre>\n"},{"tags":["java","aws-lambda","quarkus","localstack"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1659498540,"post_id":73213994,"comment_id":129306652,"body_markdown":"This older thread might also help: https://stackoverflow.com/questions/69459457/how-to-fix-no-suitable-log-implementation-in-quarkus","body":"This older thread might also help: <a href=\"https://stackoverflow.com/questions/69459457/how-to-fix-no-suitable-log-implementation-in-quarkus\" title=\"how to fix no suitable log implementation in quarkus\">stackoverflow.com/questions/69459457/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659479652,"creation_date":1659479652,"answer_id":73214474,"question_id":73213994,"body_markdown":"The problem is that you have an Apache Commons Logging implementation around and that it doesn&#39;t support being part of a native executable (at least not natively, you would need some GraalVM metadata to make it work).\r\n\r\nIn Quarkus, you should use JBoss Logging and its adapters (and exclude the original implementation).\r\n\r\nFor Commons Logging, that would be:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-logging-jboss-logging&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nNote that if it&#39;s a Quarkus extension bringing this Commons Logging implementation as a dependency, you should open an issue as it&#39;s not normal. We usually take good care of excluding the logging implementations.\r\n\r\nYou can find more information in our reference documentation: https://quarkus.io/guides/logging#logging-adapters .","title":"Quarkus Native and Elasticsearch -- &quot;No suitable Log implementation&quot;?","body":"<p>The problem is that you have an Apache Commons Logging implementation around and that it doesn't support being part of a native executable (at least not natively, you would need some GraalVM metadata to make it work).</p>\n<p>In Quarkus, you should use JBoss Logging and its adapters (and exclude the original implementation).</p>\n<p>For Commons Logging, that would be:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-logging-jboss-logging&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note that if it's a Quarkus extension bringing this Commons Logging implementation as a dependency, you should open an issue as it's not normal. We usually take good care of excluding the logging implementations.</p>\n<p>You can find more information in our reference documentation: <a href=\"https://quarkus.io/guides/logging#logging-adapters\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/logging#logging-adapters</a> .</p>\n"}],"owner":{"account_id":131613,"reputation":11356,"user_id":331747,"accept_rate":78,"display_name":"Shadowman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73214474,"answer_count":1,"score":0,"last_activity_date":1659498501,"creation_date":1659475596,"question_id":73213994,"body_markdown":"I have written an AWS Lambda using the Quarkus framework.  The purpose of the lambda is to listen for DynamoDB Streams events and index the event using Elasticsearch.  However, when I try to run a native build of the Lambda, I get an error.\r\n\r\nMy pom.xml looks something like this:\r\n\r\n    &lt;project&gt;\r\n      &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;quarkus-amazon-dynamodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;quarkus-amazon-lambda&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;quarkus-elasticsearch-rest-high-level-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nI am able to build the native executable just fine, and can upload it to [localstack][1] for sandbox testing.  However, when the lambda is invoked, I see the following errors in localstack:\r\n\r\n    2022-08-02T21:20:01.311:INFO:localstack.services.awslambda.lambda_executors: Running lambda: arn:aws:lambda:us-east-1:000000000000:function:MySearchIndexerLambdaNative\r\n    2022-08-02T21:20:02.263:INFO:localstack.services.awslambda.lambda_executors: writing log to file &#39;/tmp/localstack/lambda_q_isog7m.log&#39;\r\n    2022-08-02T21:20:02.279:INFO:localstack.services.awslambda.lambda_api: Error executing Lambda function arn:aws:lambda:us-east-1:000000000000:function:MySearchIndexerLambdaNative: Lambda process returned with error. Result: {&quot;errorType&quot;:&quot;java.lang.RuntimeException&quot;,&quot;errorMessage&quot;:&quot;Error injecting org.elasticsearch.client.RestClient io.quarkus.elasticsearch.restclient.highlevel.runtime.ElasticsearchRestHighLevelClientProducer.restClient&quot;}. Output:\r\n    velClientProducer_ProducerMethod_restHighLevelClient_64f448fc39ae0b1beb55a790902ba52dd95aeae0_Bean.get(Unknown Source)\r\n    \tat io.quarkus.elasticsearch.restclient.highlevel.runtime.ElasticsearchRestHighLevelClientProducer_ProducerMethod_restHighLevelClient_64f448fc39ae0b1beb55a790902ba52dd95aeae0_Bean.get(Unknown Source)\r\n    \tat com.mycorp.lamba.search.DynamoDBSearchIndexEventHandler_Bean.create(Unknown Source)\r\n    \tat com.mycorp.lamba.search.DynamoDBSearchIndexEventHandler_Bean.get(Unknown Source)\r\n    \tat com.mycorp.lamba.search.DynamoDBSearchIndexEventHandler_Bean.get(Unknown Source)\r\n    \tat io.quarkus.arc.impl.ArcContainerImpl.beanInstanceHandle(ArcContainerImpl.java:468)\r\n    \tat io.quarkus.arc.impl.ArcContainerImpl.beanInstanceHandle(ArcContainerImpl.java:481)\r\n    \tat io.quarkus.arc.impl.ArcContainerImpl$1.get(ArcContainerImpl.java:285)\r\n    \tat io.quarkus.arc.impl.ArcContainerImpl$1.get(ArcContainerImpl.java:282)\r\n    \tat io.quarkus.arc.runtime.BeanContainerImpl$1.create(BeanContainerImpl.java:36)\r\n    \tat io.quarkus.arc.runtime.BeanContainer.instance(BeanContainer.java:19)\r\n    \tat io.quarkus.amazon.lambda.runtime.AmazonLambdaRecorder$1.processRequest(AmazonLambdaRecorder.java:169)\r\n    \tat io.quarkus.amazon.lambda.runtime.AbstractLambdaPollLoop$1.run(AbstractLambdaPollLoop.java:130)\r\n    \tat java.lang.Thread.run(Thread.java:833)\r\n    \tat com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:704)\r\n    \tat com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:202)\r\n    Caused by: org.apache.commons.logging.LogConfigurationException: No suitable Log implementation\r\n    \tat org.apache.commons.logging.impl.LogFactoryImpl.discoverLogImplementation(LogFactoryImpl.java:848)\r\n    \tat org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:541)\r\n    \tat org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:292)\r\n    \tat org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:269)\r\n    \tat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:657)\r\n    \tat org.apache.http.impl.client.AuthenticationStrategyImpl.&lt;init&gt;(AuthenticationStrategyImpl.java:69)\r\n    \tat org.apache.http.impl.client.TargetAuthenticationStrategy.&lt;init&gt;(TargetAuthenticationStrategy.java:50)\r\n    \tat org.elasticsearch.client.PersistentCredentialsAuthenticationStrategy.&lt;init&gt;(PersistentCredentialsAuthenticationStrategy.java:44)\r\n    \tat org.elasticsearch.client.RestClientBuilder.createHttpClient(RestClientBuilder.java:317)\r\n    \tat java.security.AccessController.executePrivileged(AccessController.java:169)\r\n    \tat java.security.AccessController.doPrivileged(AccessController.java:318)\r\n    \tat org.elasticsearch.client.RestClientBuilder.build(RestClientBuilder.java:283)\r\n    \tat io.quarkus.elasticsearch.restclient.lowlevel.runtime.ElasticsearchRestClientProducer.restClient(ElasticsearchRestClientProducer.java:31)\r\n    \tat io.quarkus.elasticsearch.restclient.lowlevel.runtime.ElasticsearchRestClientProducer_ProducerMethod_restClient_4f53fa46bf0c1a6a8a72fa34e03284fcda35ecdc_Bean.create(Unknown Source)\r\n    \tat io.quarkus.elasticsearch.restclient.lowlevel.runtime.ElasticsearchRestClientProducer_ProducerMethod_restClient_4f53fa46bf0c1a6a8a72fa34e03284fcda35ecdc_Bean.create(Unknown Source)\r\n    \tat io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\r\n    \tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\r\n    \tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\r\n    \tat io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\n    \tat io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\n    \tat io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\r\n    \tat io.quarkus.elasticsearch.restclient.lowlevel.runtime.ElasticsearchRestClientProducer_ProducerMethod_restClient_4f53fa46bf0c1a6a8a72fa34e03284fcda35ecdc_Bean.get(Unknown Source)\r\n    \tat io.quarkus.elasticsearch.restclient.lowlevel.runtime.ElasticsearchRestClientProducer_ProducerMethod_restClient_4f53fa46bf0c1a6a8a72fa34e03284fcda35ecdc_Bean.get(Unknown Source)\r\n    \t... 35 more Traceback (most recent call last):\r\n\r\nAny idea why this would be occurring?  This error is a new one to me.\r\n\r\n\r\n  [1]: https://localstack.cloud","title":"Quarkus Native and Elasticsearch -- &quot;No suitable Log implementation&quot;?","body":"<p>I have written an AWS Lambda using the Quarkus framework.  The purpose of the lambda is to listen for DynamoDB Streams events and index the event using Elasticsearch.  However, when I try to run a native build of the Lambda, I get an error.</p>\n<p>My pom.xml looks something like this:</p>\n<pre><code>&lt;project&gt;\n  &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-amazon-dynamodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-amazon-lambda&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-elasticsearch-rest-high-level-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I am able to build the native executable just fine, and can upload it to <a href=\"https://localstack.cloud\" rel=\"nofollow noreferrer\">localstack</a> for sandbox testing.  However, when the lambda is invoked, I see the following errors in localstack:</p>\n<pre><code>2022-08-02T21:20:01.311:INFO:localstack.services.awslambda.lambda_executors: Running lambda: arn:aws:lambda:us-east-1:000000000000:function:MySearchIndexerLambdaNative\n2022-08-02T21:20:02.263:INFO:localstack.services.awslambda.lambda_executors: writing log to file '/tmp/localstack/lambda_q_isog7m.log'\n2022-08-02T21:20:02.279:INFO:localstack.services.awslambda.lambda_api: Error executing Lambda function arn:aws:lambda:us-east-1:000000000000:function:MySearchIndexerLambdaNative: Lambda process returned with error. Result: {&quot;errorType&quot;:&quot;java.lang.RuntimeException&quot;,&quot;errorMessage&quot;:&quot;Error injecting org.elasticsearch.client.RestClient io.quarkus.elasticsearch.restclient.highlevel.runtime.ElasticsearchRestHighLevelClientProducer.restClient&quot;}. Output:\nvelClientProducer_ProducerMethod_restHighLevelClient_64f448fc39ae0b1beb55a790902ba52dd95aeae0_Bean.get(Unknown Source)\n    at io.quarkus.elasticsearch.restclient.highlevel.runtime.ElasticsearchRestHighLevelClientProducer_ProducerMethod_restHighLevelClient_64f448fc39ae0b1beb55a790902ba52dd95aeae0_Bean.get(Unknown Source)\n    at com.mycorp.lamba.search.DynamoDBSearchIndexEventHandler_Bean.create(Unknown Source)\n    at com.mycorp.lamba.search.DynamoDBSearchIndexEventHandler_Bean.get(Unknown Source)\n    at com.mycorp.lamba.search.DynamoDBSearchIndexEventHandler_Bean.get(Unknown Source)\n    at io.quarkus.arc.impl.ArcContainerImpl.beanInstanceHandle(ArcContainerImpl.java:468)\n    at io.quarkus.arc.impl.ArcContainerImpl.beanInstanceHandle(ArcContainerImpl.java:481)\n    at io.quarkus.arc.impl.ArcContainerImpl$1.get(ArcContainerImpl.java:285)\n    at io.quarkus.arc.impl.ArcContainerImpl$1.get(ArcContainerImpl.java:282)\n    at io.quarkus.arc.runtime.BeanContainerImpl$1.create(BeanContainerImpl.java:36)\n    at io.quarkus.arc.runtime.BeanContainer.instance(BeanContainer.java:19)\n    at io.quarkus.amazon.lambda.runtime.AmazonLambdaRecorder$1.processRequest(AmazonLambdaRecorder.java:169)\n    at io.quarkus.amazon.lambda.runtime.AbstractLambdaPollLoop$1.run(AbstractLambdaPollLoop.java:130)\n    at java.lang.Thread.run(Thread.java:833)\n    at com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:704)\n    at com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:202)\nCaused by: org.apache.commons.logging.LogConfigurationException: No suitable Log implementation\n    at org.apache.commons.logging.impl.LogFactoryImpl.discoverLogImplementation(LogFactoryImpl.java:848)\n    at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:541)\n    at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:292)\n    at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:269)\n    at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:657)\n    at org.apache.http.impl.client.AuthenticationStrategyImpl.&lt;init&gt;(AuthenticationStrategyImpl.java:69)\n    at org.apache.http.impl.client.TargetAuthenticationStrategy.&lt;init&gt;(TargetAuthenticationStrategy.java:50)\n    at org.elasticsearch.client.PersistentCredentialsAuthenticationStrategy.&lt;init&gt;(PersistentCredentialsAuthenticationStrategy.java:44)\n    at org.elasticsearch.client.RestClientBuilder.createHttpClient(RestClientBuilder.java:317)\n    at java.security.AccessController.executePrivileged(AccessController.java:169)\n    at java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.elasticsearch.client.RestClientBuilder.build(RestClientBuilder.java:283)\n    at io.quarkus.elasticsearch.restclient.lowlevel.runtime.ElasticsearchRestClientProducer.restClient(ElasticsearchRestClientProducer.java:31)\n    at io.quarkus.elasticsearch.restclient.lowlevel.runtime.ElasticsearchRestClientProducer_ProducerMethod_restClient_4f53fa46bf0c1a6a8a72fa34e03284fcda35ecdc_Bean.create(Unknown Source)\n    at io.quarkus.elasticsearch.restclient.lowlevel.runtime.ElasticsearchRestClientProducer_ProducerMethod_restClient_4f53fa46bf0c1a6a8a72fa34e03284fcda35ecdc_Bean.create(Unknown Source)\n    at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\n    at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\n    at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\n    at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\n    at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\n    at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\n    at io.quarkus.elasticsearch.restclient.lowlevel.runtime.ElasticsearchRestClientProducer_ProducerMethod_restClient_4f53fa46bf0c1a6a8a72fa34e03284fcda35ecdc_Bean.get(Unknown Source)\n    at io.quarkus.elasticsearch.restclient.lowlevel.runtime.ElasticsearchRestClientProducer_ProducerMethod_restClient_4f53fa46bf0c1a6a8a72fa34e03284fcda35ecdc_Bean.get(Unknown Source)\n    ... 35 more Traceback (most recent call last):\n</code></pre>\n<p>Any idea why this would be occurring?  This error is a new one to me.</p>\n"},{"tags":["java","junit","junit5","parameterized-unit-test"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1659408160,"post_id":73201407,"comment_id":129282001,"body_markdown":"Have a look at https://www.baeldung.com/parameterized-tests-junit-5 - there are some ideas there that might be useful to you.  In particular, the CsvSource annotation might be just what you need.","body":"Have a look at <a href=\"https://www.baeldung.com/parameterized-tests-junit-5\" rel=\"nofollow noreferrer\">baeldung.com/parameterized-tests-junit-5</a> - there are some ideas there that might be useful to you.  In particular, the CsvSource annotation might be just what you need."},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1659422932,"post_id":73201407,"comment_id":129284591,"body_markdown":"@DawoodibnKareem The CsvSource is pretty cool. Thanks! - Anyway to pass in null as a cell value through the CsvSource string &quot;interface&quot;?","body":"@DawoodibnKareem The CsvSource is pretty cool. Thanks! - Anyway to pass in null as a cell value through the CsvSource string &quot;interface&quot;?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1659425393,"post_id":73201407,"comment_id":129285396,"body_markdown":"I don&#39;t think you can use CsvSource to explicitly pass null.  You might have to fudge it with some logic in your test.  Like, for example, if `&quot;*&quot;` is passed, replace it with null.  Or something like that.","body":"I don&#39;t think you can use CsvSource to explicitly pass null.  You might have to fudge it with some logic in your test.  Like, for example, if <code>&quot;*&quot;</code> is passed, replace it with null.  Or something like that."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1659425613,"post_id":73201407,"comment_id":129285475,"body_markdown":"Additionally, I actually think your first excerpt above, with two separate tests, is the right way to test this.  Just my opinion of course.  But essentially, you want to (1) test that the method returns true when the input IS a palindrome; and (2) test that the method returns false when the input IS NOT a palindrome.  That feels like two separate tests to me.","body":"Additionally, I actually think your first excerpt above, with two separate tests, is the right way to test this.  Just my opinion of course.  But essentially, you want to (1) test that the method returns true when the input IS a palindrome; and (2) test that the method returns false when the input IS NOT a palindrome.  That feels like two separate tests to me."},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1659430321,"post_id":73201407,"comment_id":129287086,"body_markdown":"@DawoodibnKareem Your comments make all sense. Do you want to make an answer out of it? (If not, I&#39;m happy to do so.)","body":"@DawoodibnKareem Your comments make all sense. Do you want to make an answer out of it? (If not, I&#39;m happy to do so.)"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1659430615,"post_id":73201407,"comment_id":129287210,"body_markdown":"I don&#39;t think my comments quite add up to an answer.  I gave you a link with some good information, and a couple of opinions.  I didn&#39;t answer your question.  If you think you can turn all of that into a proper answer that would be useful to others, then go for it.","body":"I don&#39;t think my comments quite add up to an answer.  I gave you a link with some good information, and a couple of opinions.  I didn&#39;t answer your question.  If you think you can turn all of that into a proper answer that would be useful to others, then go for it."}],"answers":[{"tags":[],"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659497256,"creation_date":1659497256,"answer_id":73215986,"question_id":73201407,"body_markdown":"Through the very helpful comment from [Dawood ibn Kareem](https://stackoverflow.com/users/1081110/dawood-ibn-kareem) (on the question) I got a solution involving `@CsvSource`:\r\n\r\n```\r\n    @ParameterizedTest\r\n    @CsvSource(value = {&quot;racecar,true&quot;, \r\n                        &quot;radar,true&quot;, \r\n                        &quot;peter,false&quot;})\r\n    void test_isPalindrome(String candidate, boolean expected) {\r\n        assertEqual(expected, StringUtils.isPalindrome(candidate));\r\n    }\r\n```\r\n\r\nI quite like: Although the code uses strings to express boolean types, it is quite compact and keeps things together which IMHO belong together.\r\n\r\nRead about `@CsvSource` [here](https://www.baeldung.com/parameterized-tests-junit-5#4-csv-literals).","title":"Simple way to have two values as ValueSource for Junit5 ParameterizedTest","body":"<p>Through the very helpful comment from <a href=\"https://stackoverflow.com/users/1081110/dawood-ibn-kareem\">Dawood ibn Kareem</a> (on the question) I got a solution involving <code>@CsvSource</code>:</p>\n<pre><code>    @ParameterizedTest\n    @CsvSource(value = {&quot;racecar,true&quot;, \n                        &quot;radar,true&quot;, \n                        &quot;peter,false&quot;})\n    void test_isPalindrome(String candidate, boolean expected) {\n        assertEqual(expected, StringUtils.isPalindrome(candidate));\n    }\n</code></pre>\n<p>I quite like: Although the code uses strings to express boolean types, it is quite compact and keeps things together which IMHO belong together.</p>\n<p>Read about <code>@CsvSource</code> <a href=\"https://www.baeldung.com/parameterized-tests-junit-5#4-csv-literals\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659497256,"creation_date":1659407813,"question_id":73201407,"body_markdown":"I have many boolean methods like `boolean isPalindrome(String txt)` to test.\r\n\r\nAt the moment I test each of these methods with _two_ parameterised tests, one for `true` results and one for `false` results:\r\n\r\n```java\r\n    @ParameterizedTest\r\n    @ValueSource(strings = { &quot;racecar&quot;, &quot;radar&quot;, &quot;able was I ere I saw elba&quot; })\r\n    void test_isPalindrome_true(String candidate) {\r\n        assertTrue(StringUtils.isPalindrome(candidate));\r\n    }\r\n    \r\n    @ParameterizedTest\r\n    @ValueSource(strings = { &quot;peter&quot;, &quot;paul&quot;, &quot;mary is here&quot; })\r\n    void test_isPalindrome_false(String candidate) {\r\n        assertFalse(StringUtils.isPalindrome(candidate));\r\n    }\r\n```\r\n\r\nInstead I would like to test these in *one* parameterised method, like this pseudo Java code:\r\n\r\n```java\r\n    @ParameterizedTest\r\n    @ValueSource({ (true, &quot;racecar&quot;),(true, &quot;radar&quot;), (false, &quot;peter&quot;)})\r\n    void test_isPalindrome(boolean res, String candidate) {\r\n        assertEqual(res, StringUtils.isPalindrome(candidate));\r\n    }\r\n```\r\n\r\nIs there a ValueSource for this? Or is there an other way to achieve this in a concise manner?","title":"Simple way to have two values as ValueSource for Junit5 ParameterizedTest","body":"<p>I have many boolean methods like <code>boolean isPalindrome(String txt)</code> to test.</p>\n<p>At the moment I test each of these methods with <em>two</em> parameterised tests, one for <code>true</code> results and one for <code>false</code> results:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ParameterizedTest\n    @ValueSource(strings = { &quot;racecar&quot;, &quot;radar&quot;, &quot;able was I ere I saw elba&quot; })\n    void test_isPalindrome_true(String candidate) {\n        assertTrue(StringUtils.isPalindrome(candidate));\n    }\n    \n    @ParameterizedTest\n    @ValueSource(strings = { &quot;peter&quot;, &quot;paul&quot;, &quot;mary is here&quot; })\n    void test_isPalindrome_false(String candidate) {\n        assertFalse(StringUtils.isPalindrome(candidate));\n    }\n</code></pre>\n<p>Instead I would like to test these in <em>one</em> parameterised method, like this pseudo Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ParameterizedTest\n    @ValueSource({ (true, &quot;racecar&quot;),(true, &quot;radar&quot;), (false, &quot;peter&quot;)})\n    void test_isPalindrome(boolean res, String candidate) {\n        assertEqual(res, StringUtils.isPalindrome(candidate));\n    }\n</code></pre>\n<p>Is there a ValueSource for this? Or is there an other way to achieve this in a concise manner?</p>\n"},{"tags":["java","mongodb","memory-leaks"],"comments":[{"owner":{"account_id":406060,"reputation":21895,"user_id":775345,"accept_rate":96,"display_name":"Robert Moskal"},"score":2,"creation_date":1434455491,"post_id":30866693,"comment_id":49774916,"body_markdown":"Please show more context for that connection creation code.","body":"Please show more context for that connection creation code."},{"owner":{"display_name":"user3561036"},"score":1,"creation_date":1434455726,"post_id":30866693,"comment_id":49775078,"body_markdown":"As @RobertMoskal has basically stated, this &quot;small snippet&quot; is by no means enough information to diagnose a &quot;Memory Leak&quot;. I would aslo suggest that it is not a &quot;leak&quot; at all. But in fact you are calling your &quot;instance&quot; over and over again when it should be a single dependency call.","body":"As @RobertMoskal has basically stated, this &quot;small snippet&quot; is by no means enough information to diagnose a &quot;Memory Leak&quot;. I would aslo suggest that it is not a &quot;leak&quot; at all. But in fact you are calling your &quot;instance&quot; over and over again when it should be a single dependency call."},{"owner":{"account_id":2878819,"reputation":955,"user_id":2470141,"accept_rate":20,"display_name":"Amar"},"score":0,"creation_date":1434456299,"post_id":30866693,"comment_id":49775486,"body_markdown":"@user3561036: added more details ,let me know if you need additional info.","body":"@user3561036: added more details ,let me know if you need additional info."},{"owner":{"display_name":"user3561036"},"score":0,"creation_date":1434456455,"post_id":30866693,"comment_id":49775592,"body_markdown":"It&#39;s better, but &quot;where and when are you calling this&quot; and &quot;is this a singleton&quot; rather than an instance being called over and over. Some things such as &quot;SpringData&quot; provide a &quot;service&quot; mechanism that does this. Otherwise you need to implement it yourself.","body":"It&#39;s better, but &quot;where and when are you calling this&quot; and &quot;is this a singleton&quot; rather than an instance being called over and over. Some things such as &quot;SpringData&quot; provide a &quot;service&quot; mechanism that does this. Otherwise you need to implement it yourself."},{"owner":{"account_id":2878819,"reputation":955,"user_id":2470141,"accept_rate":20,"display_name":"Amar"},"score":0,"creation_date":1434456797,"post_id":30866693,"comment_id":49775816,"body_markdown":"@user3561036: Yes this is singleton in nature.This is called over and over by the application , but there is only one instance of the Mongo client as seen in the above code.The singleton is just a classic singleton without taking consideration of double checked locking ( presuming that wont be the case)","body":"@user3561036: Yes this is singleton in nature.This is called over and over by the application , but there is only one instance of the Mongo client as seen in the above code.The singleton is just a classic singleton without taking consideration of double checked locking ( presuming that wont be the case)"},{"owner":{"account_id":2878819,"reputation":955,"user_id":2470141,"accept_rate":20,"display_name":"Amar"},"score":0,"creation_date":1434457789,"post_id":30866693,"comment_id":49776531,"body_markdown":"@RobertMoskal: I have added details , any pointers why this happens will really help.","body":"@RobertMoskal: I have added details , any pointers why this happens will really help."},{"owner":{"account_id":406060,"reputation":21895,"user_id":775345,"accept_rate":96,"display_name":"Robert Moskal"},"score":0,"creation_date":1434542831,"post_id":30866693,"comment_id":49821348,"body_markdown":"It does make sense that something like a BufferPool would grow with increased use.  Is the growth unbounded?  Does it get bigger and bigger?  Or does it grow to a point and then stay more or less constant?","body":"It does make sense that something like a BufferPool would grow with increased use.  Is the growth unbounded?  Does it get bigger and bigger?  Or does it grow to a point and then stay more or less constant?"},{"owner":{"account_id":2878819,"reputation":955,"user_id":2470141,"accept_rate":20,"display_name":"Amar"},"score":0,"creation_date":1434544740,"post_id":30866693,"comment_id":49822868,"body_markdown":"@RobertMoskal: yes the memory consumption does not shrink.The more the transaction run with a find call which returns huge JSON.","body":"@RobertMoskal: yes the memory consumption does not shrink.The more the transaction run with a find call which returns huge JSON."},{"owner":{"account_id":406060,"reputation":21895,"user_id":775345,"accept_rate":96,"display_name":"Robert Moskal"},"score":0,"creation_date":1434544912,"post_id":30866693,"comment_id":49822993,"body_markdown":"I&#39;m not asking if it shrinks. It may well be that the buffer will keep allocating more memory up until a certain point and then stops.  I&#39;m asking if it keeps on growing forever.","body":"I&#39;m not asking if it shrinks. It may well be that the buffer will keep allocating more memory up until a certain point and then stops.  I&#39;m asking if it keeps on growing forever."},{"owner":{"account_id":2878819,"reputation":955,"user_id":2470141,"accept_rate":20,"display_name":"Amar"},"score":0,"creation_date":1434545552,"post_id":30866693,"comment_id":49823496,"body_markdown":"@RobertMoskal:Yes it keeps on growing.","body":"@RobertMoskal:Yes it keeps on growing."},{"owner":{"account_id":3131936,"reputation":121,"user_id":2649456,"display_name":"Higor Morais"},"score":1,"creation_date":1503500682,"post_id":30866693,"comment_id":78644529,"body_markdown":"Hello, Amz. Have you solved the problem? I am facing the same situation as yours.","body":"Hello, Amz. Have you solved the problem? I am facing the same situation as yours."},{"owner":{"account_id":52828,"reputation":1372,"user_id":157924,"accept_rate":40,"display_name":"Sobvan"},"score":1,"creation_date":1537365990,"post_id":30866693,"comment_id":91759229,"body_markdown":"This question might be related to Eclipse Memory Analyser pointing to this PowerOfTwoBufferPool. And that simply holds a reference down the object graph to the classloader.","body":"This question might be related to Eclipse Memory Analyser pointing to this PowerOfTwoBufferPool. And that simply holds a reference down the object graph to the classloader."},{"owner":{"account_id":9698238,"reputation":548,"user_id":7194004,"display_name":"brianNotBob"},"score":0,"creation_date":1589406786,"post_id":30866693,"comment_id":109286349,"body_markdown":"I am also seeing excessive heap consumption for `PowerOfTwoBufferPool` It is consuming 20% (48.1 mb) of heap memory on 1 instance.  The `MongoClient` is created as a spring managed singleton bean, in a spring boot app.  We run multiple instances of this process.  Heap dump analysis on two of them revealed the same issue.","body":"I am also seeing excessive heap consumption for <code>PowerOfTwoBufferPool</code> It is consuming 20% (48.1 mb) of heap memory on 1 instance.  The <code>MongoClient</code> is created as a spring managed singleton bean, in a spring boot app.  We run multiple instances of this process.  Heap dump analysis on two of them revealed the same issue."},{"owner":{"account_id":9698238,"reputation":548,"user_id":7194004,"display_name":"brianNotBob"},"score":4,"creation_date":1589407164,"post_id":30866693,"comment_id":109286485,"body_markdown":"Actually it is not a memory leak.  Just a buffer pool to reduce performance hit of garbage collection.  The condition is explained here:\nhttps://groups.google.com/d/msg/mongodb-user/Dj6dV7j_2MQ/4h3gtJkLBgAJ","body":"Actually it is not a memory leak.  Just a buffer pool to reduce performance hit of garbage collection.  The condition is explained here: <a href=\"https://groups.google.com/d/msg/mongodb-user/Dj6dV7j_2MQ/4h3gtJkLBgAJ\" rel=\"nofollow noreferrer\">groups.google.com/d/msg/mongodb-user/Dj6dV7j_2MQ/4h3gtJkLBgA&zwnj;&#8203;J</a>"},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1659496701,"post_id":30866693,"comment_id":129306413,"body_markdown":"I don&#39;t actually see a question in there anywhere.  I assume you&#39;re asking why the memory is being eaten up, and want to know how to prevent it?","body":"I don&#39;t actually see a question in there anywhere.  I assume you&#39;re asking why the memory is being eaten up, and want to know how to prevent it?"}],"answers":[{"tags":[],"owner":{"account_id":1195373,"reputation":3266,"user_id":1167226,"accept_rate":90,"display_name":"Attila"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659496418,"creation_date":1619642297,"answer_id":67307582,"question_id":30866693,"body_markdown":"The [PowerOfTwoBufferPool][1] is actually a is a cache, so this may look like a memory leak at the first look.\r\n\r\nA [mongodb-user group reply][2] has details:\r\n\r\n&gt; ... this\r\n&gt; behaviour is expected since `PowerOfTwoBufferPool` is a cache. Hence it\r\n&gt; may look like a leak.\r\n&gt; \r\n&gt; In short, the `PowerOfTwoBufferPool` holds a number of pools of\r\n&gt; ByteBuffer instances, each pool containing a set of equal-sized\r\n&gt; buffers. The smallest size is 1K, and the largest is 16MB,\r\n&gt; incrementing in power of two sizes from 1K to 16MB. The size of each\r\n&gt; pool of equal-sized buffers is not limited, and is determined by\r\n&gt; application usage. Once a buffer is cached in a pool, it remains\r\n&gt; pooled (or in-use) until the MongoClient is closed. As a result, it’s\r\n&gt; totally expected that during introspection of JVM state, the contents\r\n&gt; of the pools would show as a leak suspect, just as any cache would.\r\n&gt; \r\n&gt; The `PowerOfTwoBufferPool` exists in order to reduce GC load. It’s\r\n&gt; fairly well known that modern garbage collectors in the JVM treat\r\n&gt; large allocations differently from smaller ones, so if an application\r\n&gt; were to not do any pooling of large objects (like these buffers) it\r\n&gt; will have the effect of increasing GC load, because the garbage\r\n&gt; collector has to do more work collecting these large objects than it\r\n&gt; does smaller ones. The cost of this is that the driver holds on to\r\n&gt; memory that could be used by other parts of the application. In\r\n&gt; particular, it holds on to enough memory to handle the largest peak\r\n&gt; load seen so far by the application.\r\n\r\n\r\n  [1]: https://github.com/mongodb/mongo-java-driver/blob/master/driver-core/src/main/com/mongodb/internal/connection/PowerOfTwoBufferPool.java\r\n  [2]: https://groups.google.com/g/mongodb-user/c/Dj6dV7j_2MQ/m/4h3gtJkLBgAJ","title":"Memory leak with Mongo Java Connection","body":"<p>The <a href=\"https://github.com/mongodb/mongo-java-driver/blob/master/driver-core/src/main/com/mongodb/internal/connection/PowerOfTwoBufferPool.java\" rel=\"nofollow noreferrer\">PowerOfTwoBufferPool</a> is actually a is a cache, so this may look like a memory leak at the first look.</p>\n<p>A <a href=\"https://groups.google.com/g/mongodb-user/c/Dj6dV7j_2MQ/m/4h3gtJkLBgAJ\" rel=\"nofollow noreferrer\">mongodb-user group reply</a> has details:</p>\n<blockquote>\n<p>... this\nbehaviour is expected since <code>PowerOfTwoBufferPool</code> is a cache. Hence it\nmay look like a leak.</p>\n<p>In short, the <code>PowerOfTwoBufferPool</code> holds a number of pools of\nByteBuffer instances, each pool containing a set of equal-sized\nbuffers. The smallest size is 1K, and the largest is 16MB,\nincrementing in power of two sizes from 1K to 16MB. The size of each\npool of equal-sized buffers is not limited, and is determined by\napplication usage. Once a buffer is cached in a pool, it remains\npooled (or in-use) until the MongoClient is closed. As a result, it’s\ntotally expected that during introspection of JVM state, the contents\nof the pools would show as a leak suspect, just as any cache would.</p>\n<p>The <code>PowerOfTwoBufferPool</code> exists in order to reduce GC load. It’s\nfairly well known that modern garbage collectors in the JVM treat\nlarge allocations differently from smaller ones, so if an application\nwere to not do any pooling of large objects (like these buffers) it\nwill have the effect of increasing GC load, because the garbage\ncollector has to do more work collecting these large objects than it\ndoes smaller ones. The cost of this is that the driver holds on to\nmemory that could be used by other parts of the application. In\nparticular, it holds on to enough memory to handle the largest peak\nload seen so far by the application.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9492638,"reputation":759,"user_id":7056847,"display_name":"Saxon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640806112,"creation_date":1640806112,"answer_id":70524106,"question_id":30866693,"body_markdown":"Add a PreDestroy method where you close your client:\r\n\r\n    @PreDestroy\r\n    public void preDestroy() {\r\n        try {\r\n           if (mongoClient != null ) {\r\n              mongoClient.close();\r\n           }\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error closing mongo connection : &quot;,\r\n                    e.getCause());\r\n        }\r\n    }\r\n\r\nOf course mongoClient must be accessible to the preDestroy() method","title":"Memory leak with Mongo Java Connection","body":"<p>Add a PreDestroy method where you close your client:</p>\n<pre><code>@PreDestroy\npublic void preDestroy() {\n    try {\n       if (mongoClient != null ) {\n          mongoClient.close();\n       }\n    } catch (Exception e) {\n        log.error(&quot;Error closing mongo connection : &quot;,\n                e.getCause());\n    }\n}\n</code></pre>\n<p>Of course mongoClient must be accessible to the preDestroy() method</p>\n"},{"tags":[],"owner":{"account_id":1447146,"reputation":50,"user_id":1365220,"display_name":"Ilan Toren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650794306,"creation_date":1650794306,"answer_id":71987292,"question_id":30866693,"body_markdown":"The MongoDB driver shouldn&#39;t be part of a pool as it is unnecessary. Instead when I&#39;m running unit tests and I don&#39;t want multiple MongoClients I use a static method. In Kotlin it looks like this:\r\n\r\n    import com.mongodb.MongoClientSettings\r\n    import com.mongodb.reactivestreams.client.*\r\n    import org.bson.codecs.configuration.CodecRegistries\r\n    import org.bson.codecs.configuration.CodecRegistry\r\n    import org.bson.codecs.pojo.PojoCodecProvider\r\n    \r\n    object MfeDatabase {\r\n        init {\r\n            println(&quot;SINGLETON CREATED&quot;)\r\n        }\r\n       const val DATABASE =&quot;&quot;\r\n    \r\n    \r\n    \r\n         val client: MongoClient = MongoClients.create()\r\n        private val pojoCodecRegistry: CodecRegistry = CodecRegistries.fromRegistries(\r\n            MongoClientSettings.getDefaultCodecRegistry(),\r\n            CodecRegistries.fromProviders(PojoCodecProvider.builder().automatic(true).build())\r\n        )\r\n        private val db: MongoDatabase =\r\n            client.getDatabase(DATABASE).withCodecRegistry(pojoCodecRegistry)\r\n    \r\n    \r\n        @JvmStatic\r\n        fun getDatabase(): MongoDatabase {\r\n            return db\r\n        }\r\n    }","title":"Memory leak with Mongo Java Connection","body":"<p>The MongoDB driver shouldn't be part of a pool as it is unnecessary. Instead when I'm running unit tests and I don't want multiple MongoClients I use a static method. In Kotlin it looks like this:</p>\n<pre><code>import com.mongodb.MongoClientSettings\nimport com.mongodb.reactivestreams.client.*\nimport org.bson.codecs.configuration.CodecRegistries\nimport org.bson.codecs.configuration.CodecRegistry\nimport org.bson.codecs.pojo.PojoCodecProvider\n\nobject MfeDatabase {\n    init {\n        println(&quot;SINGLETON CREATED&quot;)\n    }\n   const val DATABASE =&quot;&quot;\n\n\n\n     val client: MongoClient = MongoClients.create()\n    private val pojoCodecRegistry: CodecRegistry = CodecRegistries.fromRegistries(\n        MongoClientSettings.getDefaultCodecRegistry(),\n        CodecRegistries.fromProviders(PojoCodecProvider.builder().automatic(true).build())\n    )\n    private val db: MongoDatabase =\n        client.getDatabase(DATABASE).withCodecRegistry(pojoCodecRegistry)\n\n\n    @JvmStatic\n    fun getDatabase(): MongoDatabase {\n        return db\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2878819,"reputation":955,"user_id":2470141,"accept_rate":20,"display_name":"Amar"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5845,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1659496418,"creation_date":1434455325,"question_id":30866693,"body_markdown":"I am constructing MongoClient Connection in the below manner :\r\n\r\n    public static synchronized MongoClient getInstance(String mongoDbUri) {\r\n    \t\ttry {\r\n    \t\t\t// Standard URI format: mongodb://[dbuser:dbpassword@]host:port/dbname\r\n    \t\t\tif( mongoClient == null ){\r\n    \t\t\t\tmongoClient = new MongoClient(\r\n    \t\t\t\t\t\t\t  new MongoClientURI(mongoDbUri));\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(\r\n    \t\t\t\t\t&quot;Error mongo connection : &quot;,\r\n    \t\t\t\t\te.getCause());\r\n    \t\t}\r\n    \t\treturn mongoClient;\r\n    \t}\r\n      \r\n\r\n  \t\t\t\r\nOver a period of time when multiple transaction is run I am seeing some memory eat up with the application which is not getting released.\r\n\r\nWhen analysed the heap dump saw that there was memory consumption was maximum with the class \r\n\r\n```com.mongodb.internal.connection.PowerOfTwoBufferPool```\r\n\r\nThe mongo client is trying to connect to a mongos instance.The application has 3 replica sets on 3 shards and one config server to hold the metadata.\r\n\r\n\r\nTo add more details to the same , I have a spring managed bean annotated with **@Component**.There is an annotation with **@PostConstruct** for the bean in which the above method is called.In the spring class we are doing ```insert/update/create``` using the Mongo Client.\r\n\r\nThanks.\r\n\r\n\r\n\r\n","title":"Memory leak with Mongo Java Connection","body":"<p>I am constructing MongoClient Connection in the below manner :</p>\n<pre><code>public static synchronized MongoClient getInstance(String mongoDbUri) {\n        try {\n            // Standard URI format: mongodb://[dbuser:dbpassword@]host:port/dbname\n            if( mongoClient == null ){\n                mongoClient = new MongoClient(\n                              new MongoClientURI(mongoDbUri));\n            }\n        } catch (Exception e) {\n            log.error(\n                    &quot;Error mongo connection : &quot;,\n                    e.getCause());\n        }\n        return mongoClient;\n    }\n  \n\n        \n</code></pre>\n<p>Over a period of time when multiple transaction is run I am seeing some memory eat up with the application which is not getting released.</p>\n<p>When analysed the heap dump saw that there was memory consumption was maximum with the class</p>\n<p><code>com.mongodb.internal.connection.PowerOfTwoBufferPool</code></p>\n<p>The mongo client is trying to connect to a mongos instance.The application has 3 replica sets on 3 shards and one config server to hold the metadata.</p>\n<p>To add more details to the same , I have a spring managed bean annotated with <strong>@Component</strong>.There is an annotation with <strong>@PostConstruct</strong> for the bean in which the above method is called.In the spring class we are doing <code>insert/update/create</code> using the Mongo Client.</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659471548,"creation_date":1659470320,"answer_id":73213117,"question_id":73212897,"body_markdown":"Batching on the consumer side has has been supported since version 2.2\r\n\r\n```java\r\n/**\r\n * Set to true to present a list of messages based on the {@link #setBatchSize(int)},\r\n * if the listener supports it. This will coerce {@link #setDeBatchingEnabled(boolean)\r\n * deBatchingEnabled} to true as well.\r\n * @param consumerBatchEnabled true to create message batches in the container.\r\n * @since 2.2\r\n * @see #setBatchSize(int)\r\n */\r\npublic void setConsumerBatchEnabled(boolean consumerBatchEnabled) {\r\n\tthis.consumerBatchEnabled = consumerBatchEnabled;\r\n}\r\n```\r\n\r\nIt is only supported by the `SimpleMessageListenerContainer`.\r\n\r\nhttps://docs.spring.io/spring-amqp/docs/current/reference/html/#de-batching\r\n\r\n&gt;Starting with version 2.2, the SimpleMessageListenerContainer can be use to create batches on the consumer side (where the producer sent discrete messages).\r\n\r\n&gt;Set the container property `consumerBatchEnabled` to enable this feature.\r\n\r\nUse `List&lt;String&gt; in` in the method signature.\r\n\r\nhttps://docs.spring.io/spring-amqp/docs/current/reference/html/#receiving-batch\r\n\r\n```java\r\n\r\n@Bean\r\npublic SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory() {\r\n    SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n    factory.setConnectionFactory(connectionFactory());\r\n    factory.setBatchListener(true);\r\n    return factory;\r\n}\r\n\r\n@RabbitListener(queues = &quot;batch.1&quot;)\r\npublic void listen1(List&lt;Thing&gt; in) {\r\n    ...\r\n}\r\n\r\n// or\r\n\r\n@RabbitListener(queues = &quot;batch.2&quot;)\r\npublic void listen2(List&lt;Message&lt;Thing&gt;&gt; in) {\r\n    ...\r\n}\r\n```\r\n\r\nWhen using Spring Boot auto configuration for the container factory, set `spring.rabbitmq.listener.simple.consumer-batch-enabled:true` (and `batch-size`).\r\n\r\nYou also have to set `batchListener=true`; Boot does not provide that as a property, you can add something like this to set it.\r\n\r\n\r\n```java\r\n@Component\r\nclass FactoryCustomizer {\r\n\r\n\tFactoryCustomizer(SimpleRabbitListenerContainerFactory factory) {\r\n\t\tfactory.setBatchListener(true);\r\n\t}\r\n\r\n}\r\n```","title":"How To Consume multiple message per request using Spring AMQP?","body":"<p>Batching on the consumer side has has been supported since version 2.2</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Set to true to present a list of messages based on the {@link #setBatchSize(int)},\n * if the listener supports it. This will coerce {@link #setDeBatchingEnabled(boolean)\n * deBatchingEnabled} to true as well.\n * @param consumerBatchEnabled true to create message batches in the container.\n * @since 2.2\n * @see #setBatchSize(int)\n */\npublic void setConsumerBatchEnabled(boolean consumerBatchEnabled) {\n    this.consumerBatchEnabled = consumerBatchEnabled;\n}\n</code></pre>\n<p>It is only supported by the <code>SimpleMessageListenerContainer</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#de-batching\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/docs/current/reference/html/#de-batching</a></p>\n<blockquote>\n<p>Starting with version 2.2, the SimpleMessageListenerContainer can be use to create batches on the consumer side (where the producer sent discrete messages).</p>\n</blockquote>\n<blockquote>\n<p>Set the container property <code>consumerBatchEnabled</code> to enable this feature.</p>\n</blockquote>\n<p>Use <code>List&lt;String&gt; in</code> in the method signature.</p>\n<p><a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#receiving-batch\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/docs/current/reference/html/#receiving-batch</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Bean\npublic SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory() {\n    SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n    factory.setConnectionFactory(connectionFactory());\n    factory.setBatchListener(true);\n    return factory;\n}\n\n@RabbitListener(queues = &quot;batch.1&quot;)\npublic void listen1(List&lt;Thing&gt; in) {\n    ...\n}\n\n// or\n\n@RabbitListener(queues = &quot;batch.2&quot;)\npublic void listen2(List&lt;Message&lt;Thing&gt;&gt; in) {\n    ...\n}\n</code></pre>\n<p>When using Spring Boot auto configuration for the container factory, set <code>spring.rabbitmq.listener.simple.consumer-batch-enabled:true</code> (and <code>batch-size</code>).</p>\n<p>You also have to set <code>batchListener=true</code>; Boot does not provide that as a property, you can add something like this to set it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass FactoryCustomizer {\n\n    FactoryCustomizer(SimpleRabbitListenerContainerFactory factory) {\n        factory.setBatchListener(true);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16193657,"reputation":1,"user_id":11691820,"display_name":"Dhamotharan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659496033,"creation_date":1659496033,"answer_id":73215891,"question_id":73212897,"body_markdown":"Here, my suggestion is that you can produce the message into multiple queues(for eg: 5 queues), then enable consumer for 5 queues. Divide and produce the data to 5 queues so that the consumer will be running 5 consumer threads(for each queue) it will consume the speed 5X faster.","title":"How To Consume multiple message per request using Spring AMQP?","body":"<p>Here, my suggestion is that you can produce the message into multiple queues(for eg: 5 queues), then enable consumer for 5 queues. Divide and produce the data to 5 queues so that the consumer will be running 5 consumer threads(for each queue) it will consume the speed 5X faster.</p>\n"}],"owner":{"account_id":965027,"reputation":1,"user_id":988606,"display_name":"webBuilder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659496033,"creation_date":1659469160,"question_id":73212897,"body_markdown":"Using RabbitMQ, I have a producer producing a large quantity (10s of thousands) of messages on a queue.  I would like to make the consumer pull a block of 1000 messages per request from the queue.   We are using the Spring AMQP implementation to get messages but trying to figure out how to achieve pulling more than one per request.   The prefetch doesn&#39;t seem to be the right option and batch processing seems to need to be done on the producer side.\r\n\r\nWhat are the options to make a consumer request to get a block of messages to be processed as a group?\r\n\r\nExample of our setup\r\n```\r\n@RabbitListener(queues = &quot;queue&quot;)\r\n   void listen(String in) {\r\n      log.info(in);\r\n   }\r\n```\r\n  ","title":"How To Consume multiple message per request using Spring AMQP?","body":"<p>Using RabbitMQ, I have a producer producing a large quantity (10s of thousands) of messages on a queue.  I would like to make the consumer pull a block of 1000 messages per request from the queue.   We are using the Spring AMQP implementation to get messages but trying to figure out how to achieve pulling more than one per request.   The prefetch doesn't seem to be the right option and batch processing seems to need to be done on the producer side.</p>\n<p>What are the options to make a consumer request to get a block of messages to be processed as a group?</p>\n<p>Example of our setup</p>\n<pre><code>@RabbitListener(queues = &quot;queue&quot;)\n   void listen(String in) {\n      log.info(in);\n   }\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"display_name":"user177800"},"score":0,"creation_date":1472607296,"post_id":39239394,"comment_id":65815941,"body_markdown":"**off-topic: opinion based** - *my opinion neither; it sounds like an expected case which by definition is **not an exceptional** case*.","body":"<b>off-topic: opinion based</b> - <i>my opinion neither; it sounds like an expected case which by definition is <b>not an exceptional</b> case</i>."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1472607474,"post_id":39239394,"comment_id":65815973,"body_markdown":"You want your code to raise an exception based on the values of the arguments to your method, rather than the state of the object on which the method operates. That sure sounds like it&#39;s an `IllegalArgumentException`. But the compiler won&#39;t complain even if you throw a `NullPointerException` so it&#39;s basically up to you.","body":"You want your code to raise an exception based on the values of the arguments to your method, rather than the state of the object on which the method operates. That sure sounds like it&#39;s an <code>IllegalArgumentException</code>. But the compiler won&#39;t complain even if you throw a <code>NullPointerException</code> so it&#39;s basically up to you."},{"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"score":0,"creation_date":1472607734,"post_id":39239394,"comment_id":65816026,"body_markdown":"You can try `SecondParameterIllegalException` ;-)","body":"You can try <code>SecondParameterIllegalException</code> ;-)"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1472607896,"post_id":39239394,"comment_id":65816056,"body_markdown":"@BahramdunAdil Should that be a subclass of IllegalStateException or IllegalArgumentException?","body":"@BahramdunAdil Should that be a subclass of IllegalStateException or IllegalArgumentException?"}],"answers":[{"tags":[],"owner":{"account_id":1073435,"reputation":12390,"user_id":1072150,"accept_rate":75,"display_name":"EJK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659495717,"creation_date":1472607758,"answer_id":39239482,"question_id":39239394,"body_markdown":"From https://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html\r\n\r\n&gt; Thrown to indicate that a method has been passed an illegal or\r\n&gt; inappropriate argument.\r\n\r\nSo yes, it sounds like throwing an IllegalArgumentException would be appropriate.  Additionally you can add a message to the exception to inform the caller of the error, e.g.\r\n\r\n    if (param1 &amp;&amp; param2) {\r\n        throw new IllegalArgumentException(&quot;Both parameters cannot be true&quot;);\r\n    }\r\n\r\n","title":"Which Exception to throw when 1 parameter has an illegal value based on a 2nd parameter","body":"<p>From <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html</a></p>\n<blockquote>\n<p>Thrown to indicate that a method has been passed an illegal or\ninappropriate argument.</p>\n</blockquote>\n<p>So yes, it sounds like throwing an IllegalArgumentException would be appropriate.  Additionally you can add a message to the exception to inform the caller of the error, e.g.</p>\n<pre><code>if (param1 &amp;&amp; param2) {\n    throw new IllegalArgumentException(&quot;Both parameters cannot be true&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472610688,"creation_date":1472607969,"answer_id":39239507,"question_id":39239394,"body_markdown":"Consider not doing it that way. Don&#39;t get into the &quot;I need a bunch of flags on my methods&quot; game.\r\n\r\nYou see, good interfaces make it **hard** for your client code to do the wrong thing! In your case, one &quot;gets it wrong&quot; by simply passing (true, true). That sounds awfully easy to get wrong. Especially as your method name doesn&#39;t indicate **at all** that `addEvent(true, true)` will throw up at runtime. Honestly: that is in no way a robust design!\r\n\r\nOne potential solution: use an enum instead of a boolean. That enum contains only constants for **valid** cases. But honestly, having something like\r\n\r\n    enum AdderConditions {\r\n       NONE, NEEDS_POSITIVE_RESULT, NEEDS_FURTHER_STUDY };\r\n\r\nisn&#39;t too appealing either. \r\n\r\nIn order to really &quot;resolve&quot; this, it would be necessary to understand your requirements in detail; and probably design a completely different solution; but that is something beyond the scope of this site. \r\n\r\nSo, my personal recommendation: find somebody around you who is really experienced in doing good OO designs; show him your problem and ask how he would restructure your whole flow to avoid getting into the &quot;setting flags&quot; business completely! I guarantee you: it will be worth it. \r\n\r\nSooner or later, you might have &quot;other&quot; flags somewhere, and then you end up with client code doing &quot;true, false, true&quot;, and so on; and nobody understands what that is doing, or why the one combination works; and the other gives you exceptions. ","title":"Which Exception to throw when 1 parameter has an illegal value based on a 2nd parameter","body":"<p>Consider not doing it that way. Don't get into the \"I need a bunch of flags on my methods\" game.</p>\n\n<p>You see, good interfaces make it <strong>hard</strong> for your client code to do the wrong thing! In your case, one \"gets it wrong\" by simply passing (true, true). That sounds awfully easy to get wrong. Especially as your method name doesn't indicate <strong>at all</strong> that <code>addEvent(true, true)</code> will throw up at runtime. Honestly: that is in no way a robust design!</p>\n\n<p>One potential solution: use an enum instead of a boolean. That enum contains only constants for <strong>valid</strong> cases. But honestly, having something like</p>\n\n<pre><code>enum AdderConditions {\n   NONE, NEEDS_POSITIVE_RESULT, NEEDS_FURTHER_STUDY };\n</code></pre>\n\n<p>isn't too appealing either. </p>\n\n<p>In order to really \"resolve\" this, it would be necessary to understand your requirements in detail; and probably design a completely different solution; but that is something beyond the scope of this site. </p>\n\n<p>So, my personal recommendation: find somebody around you who is really experienced in doing good OO designs; show him your problem and ask how he would restructure your whole flow to avoid getting into the \"setting flags\" business completely! I guarantee you: it will be worth it. </p>\n\n<p>Sooner or later, you might have \"other\" flags somewhere, and then you end up with client code doing \"true, false, true\", and so on; and nobody understands what that is doing, or why the one combination works; and the other gives you exceptions. </p>\n"},{"tags":[],"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472608223,"creation_date":1472608223,"answer_id":39239529,"question_id":39239394,"body_markdown":"For this you can throw `IllegalArgumentException`, but inside message you can say what was wrong with the parameters, for example:\r\n\r\n    throw new IllegalArgumentException(&quot;second parameter....&quot;);\r\n\r\nThen you can get the message in the `catch` clause and check what was wrong.","title":"Which Exception to throw when 1 parameter has an illegal value based on a 2nd parameter","body":"<p>For this you can throw <code>IllegalArgumentException</code>, but inside message you can say what was wrong with the parameters, for example:</p>\n\n<pre><code>throw new IllegalArgumentException(\"second parameter....\");\n</code></pre>\n\n<p>Then you can get the message in the <code>catch</code> clause and check what was wrong.</p>\n"}],"owner":{"account_id":4216900,"reputation":3048,"user_id":3452803,"accept_rate":50,"display_name":"yitzih"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"closed_date":1472610025,"answer_count":3,"score":-3,"last_activity_date":1659495717,"creation_date":1472606974,"question_id":39239394,"body_markdown":"I have a method that takes 2 `boolean` parameters. If the first parameter is true, the 2nd parameter can not also be true.\r\n\r\nIf they are both true I want to throw an `Exception`, but I am not sure which exception is the most accurate.\r\n\r\nExample:\r\n\r\n    public void addEvent(boolean hadPositiveResult, boolean needsFurtherStudy) {\r\n        if (hadPositiveResult &amp;&amp; needsFurtherStudy)\r\n            throw new Exception(&quot;Can not need further study if the event had a positive result&quot;); //this should be a more specific exception\r\n\r\n        //rest of method code omitted...\r\n    }\r\n\r\nWould `IllegalArgumentException` or `IllegalStateException` make sense? Is there a better one that describes it better?","title":"Which Exception to throw when 1 parameter has an illegal value based on a 2nd parameter","body":"<p>I have a method that takes 2 <code>boolean</code> parameters. If the first parameter is true, the 2nd parameter can not also be true.</p>\n\n<p>If they are both true I want to throw an <code>Exception</code>, but I am not sure which exception is the most accurate.</p>\n\n<p>Example:</p>\n\n<pre><code>public void addEvent(boolean hadPositiveResult, boolean needsFurtherStudy) {\n    if (hadPositiveResult &amp;&amp; needsFurtherStudy)\n        throw new Exception(\"Can not need further study if the event had a positive result\"); //this should be a more specific exception\n\n    //rest of method code omitted...\n}\n</code></pre>\n\n<p>Would <code>IllegalArgumentException</code> or <code>IllegalStateException</code> make sense? Is there a better one that describes it better?</p>\n"},{"tags":["java","android","bluetooth","ssml"],"answers":[{"tags":[],"owner":{"account_id":25797115,"reputation":904,"user_id":19540111,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659495198,"creation_date":1659495198,"answer_id":73215816,"question_id":73156693,"body_markdown":"Here is my proposed solution. Check out the `// ***` comments in the code to see what I changed in respect to your code from the question.\r\n\r\nAlso take it with a grain of salt, because I have no way of testing that right now.\r\n\r\nNevertheless - as far as I can tell - that is all you can do using the MediaPlayer API. If that still doesn&#39;t work right for your BlueTooth device, you should try a different BlueTooth device and if that doesn&#39;t help either, maybe you can switch the whole thing to use the AudioTrack API instead of MediaPlayer, which gives you a low latency setting and you could use the audio data directly from the response instead of writing it to a file and reading it from there again.\r\n \r\n```\r\npublic class Tts {\r\n    public Context context;\r\n    private final MediaPlayer mMediaPlayer;\r\n\r\n    public Tts(Context context, MediaPlayer mMediaPlayer) {\r\n        this.context = context;\r\n        this.mMediaPlayer = mMediaPlayer;\r\n    }\r\n\r\n    @SuppressLint({&quot;NewApi&quot;, &quot;ResourceType&quot;, &quot;UseCompatLoadingForColorStateLists&quot;})\r\n    public void say(String text) throws Exception {\r\n        InputStream stream = context.getResources().openRawResource(R.raw.credential); // R.raw.credential is credential.json\r\n        GoogleCredentials credentials = GoogleCredentials.fromStream(stream);\r\n        TextToSpeechSettings textToSpeechSettings =\r\n                TextToSpeechSettings.newBuilder()\r\n                        .setCredentialsProvider(\r\n                                FixedCredentialsProvider.create(credentials)\r\n                        ).build();\r\n\r\n\r\n        // Instantiates a client\r\n        try (TextToSpeechClient textToSpeechClient = TextToSpeechClient.create(textToSpeechSettings)) {\r\n\r\n            // Replace {name} with target\r\n            SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;target&quot;, Context.MODE_PRIVATE);\r\n            String target = sharedPreferences.getString(&quot;target&quot;, null);\r\n            text = text.replace(&quot;{name}&quot;, (target != null) ? target : &quot;&quot;); // *** bug fixed\r\n\r\n            // Set the text input to be synthesized\r\n            String myString = &quot;&lt;speak&gt;&lt;prosody pitch=\\&quot;low\\&quot;&gt;&quot; + text + &quot;&lt;/prosody&gt;&lt;/speak&gt;&quot;;\r\n            SynthesisInput input = SynthesisInput.newBuilder().setSsml(myString).build();\r\n\r\n            // Build the voice request, select the language code (&quot;en-US&quot;) and the ssml voice gender\r\n            // (&quot;neutral&quot;)\r\n            VoiceSelectionParams voice =\r\n                    VoiceSelectionParams.newBuilder()\r\n                            .setName(&quot;de-DE-Wavenet-E&quot;)\r\n                            .setLanguageCode(&quot;de-DE&quot;)\r\n                            .setSsmlGender(SsmlVoiceGender.MALE)\r\n                            .build();\r\n\r\n            // Select the type of audio file you want returned\r\n            AudioConfig audioConfig =\r\n                    AudioConfig.newBuilder().setAudioEncoding(AudioEncoding.MP3).build();\r\n\r\n            // Perform the text-to-speech request on the text input with the selected voice parameters and\r\n            // audio file type\r\n            SynthesizeSpeechResponse response = textToSpeechClient.synthesizeSpeech(input, voice, audioConfig);\r\n\r\n            // Get the audio contents from the response\r\n            ByteString audioContents = response.getAudioContent();\r\n\r\n            // Write the response to the output file.\r\n            try (FileOutputStream out = new FileOutputStream(context.getFilesDir() + &quot;/output.mp3&quot;)) {\r\n                out.write(audioContents.toByteArray());\r\n            }\r\n\r\n            String myFile = context.getFilesDir() + &quot;/output.mp3&quot;;\r\n            mMediaPlayer.reset();\r\n            mMediaPlayer.setDataSource(myFile);\r\n            mMediaPlayer.setAudioAttributes(new AudioAttributes.Builder() // *** moved here (should be done before prepare and very likely AFTER reset)\r\n                    .setContentType(AudioAttributes.CONTENT_TYPE_SPEECH)  // *** changed to speech\r\n                    .setUsage(AudioAttributes.USAGE_ASSISTANT)            // *** added\r\n                    .setFlags(AudioAttributes.FLAG_AUDIBILITY_ENFORCED)   // *** added\r\n                    .build());\r\n            mMediaPlayer.prepare();\r\n            // *** following line changed since handler was defined AFTER prepare and\r\n            // *** the prepare call isn&#39;t asynchronous, thus the handler would never be called.\r\n            mMediaPlayer.start();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHope that get&#39;s you going!","title":"Gaps in audio when connecting to a Bluetooth device","body":"<p>Here is my proposed solution. Check out the <code>// ***</code> comments in the code to see what I changed in respect to your code from the question.</p>\n<p>Also take it with a grain of salt, because I have no way of testing that right now.</p>\n<p>Nevertheless - as far as I can tell - that is all you can do using the MediaPlayer API. If that still doesn't work right for your BlueTooth device, you should try a different BlueTooth device and if that doesn't help either, maybe you can switch the whole thing to use the AudioTrack API instead of MediaPlayer, which gives you a low latency setting and you could use the audio data directly from the response instead of writing it to a file and reading it from there again.</p>\n<pre><code>public class Tts {\n    public Context context;\n    private final MediaPlayer mMediaPlayer;\n\n    public Tts(Context context, MediaPlayer mMediaPlayer) {\n        this.context = context;\n        this.mMediaPlayer = mMediaPlayer;\n    }\n\n    @SuppressLint({&quot;NewApi&quot;, &quot;ResourceType&quot;, &quot;UseCompatLoadingForColorStateLists&quot;})\n    public void say(String text) throws Exception {\n        InputStream stream = context.getResources().openRawResource(R.raw.credential); // R.raw.credential is credential.json\n        GoogleCredentials credentials = GoogleCredentials.fromStream(stream);\n        TextToSpeechSettings textToSpeechSettings =\n                TextToSpeechSettings.newBuilder()\n                        .setCredentialsProvider(\n                                FixedCredentialsProvider.create(credentials)\n                        ).build();\n\n\n        // Instantiates a client\n        try (TextToSpeechClient textToSpeechClient = TextToSpeechClient.create(textToSpeechSettings)) {\n\n            // Replace {name} with target\n            SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;target&quot;, Context.MODE_PRIVATE);\n            String target = sharedPreferences.getString(&quot;target&quot;, null);\n            text = text.replace(&quot;{name}&quot;, (target != null) ? target : &quot;&quot;); // *** bug fixed\n\n            // Set the text input to be synthesized\n            String myString = &quot;&lt;speak&gt;&lt;prosody pitch=\\&quot;low\\&quot;&gt;&quot; + text + &quot;&lt;/prosody&gt;&lt;/speak&gt;&quot;;\n            SynthesisInput input = SynthesisInput.newBuilder().setSsml(myString).build();\n\n            // Build the voice request, select the language code (&quot;en-US&quot;) and the ssml voice gender\n            // (&quot;neutral&quot;)\n            VoiceSelectionParams voice =\n                    VoiceSelectionParams.newBuilder()\n                            .setName(&quot;de-DE-Wavenet-E&quot;)\n                            .setLanguageCode(&quot;de-DE&quot;)\n                            .setSsmlGender(SsmlVoiceGender.MALE)\n                            .build();\n\n            // Select the type of audio file you want returned\n            AudioConfig audioConfig =\n                    AudioConfig.newBuilder().setAudioEncoding(AudioEncoding.MP3).build();\n\n            // Perform the text-to-speech request on the text input with the selected voice parameters and\n            // audio file type\n            SynthesizeSpeechResponse response = textToSpeechClient.synthesizeSpeech(input, voice, audioConfig);\n\n            // Get the audio contents from the response\n            ByteString audioContents = response.getAudioContent();\n\n            // Write the response to the output file.\n            try (FileOutputStream out = new FileOutputStream(context.getFilesDir() + &quot;/output.mp3&quot;)) {\n                out.write(audioContents.toByteArray());\n            }\n\n            String myFile = context.getFilesDir() + &quot;/output.mp3&quot;;\n            mMediaPlayer.reset();\n            mMediaPlayer.setDataSource(myFile);\n            mMediaPlayer.setAudioAttributes(new AudioAttributes.Builder() // *** moved here (should be done before prepare and very likely AFTER reset)\n                    .setContentType(AudioAttributes.CONTENT_TYPE_SPEECH)  // *** changed to speech\n                    .setUsage(AudioAttributes.USAGE_ASSISTANT)            // *** added\n                    .setFlags(AudioAttributes.FLAG_AUDIBILITY_ENFORCED)   // *** added\n                    .build());\n            mMediaPlayer.prepare();\n            // *** following line changed since handler was defined AFTER prepare and\n            // *** the prepare call isn't asynchronous, thus the handler would never be called.\n            mMediaPlayer.start();\n        }\n    }\n}\n</code></pre>\n<p>Hope that get's you going!</p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659495198,"creation_date":1659028051,"question_id":73156693,"body_markdown":"I am using [SSML][1], so my app can speak. The app itself works perfectly fine on my phone BUT when I connect my phone with a device over Bluetooth, there is mostly a gap or a delay. Either at the beginning or in the middle of the speech. \r\n\r\nSo for instance, when the audio is `Hello John, I am your assistant. How can I help you?`, the output could be `sistant. How can I help you?`. Sometimes the sentences are fluent but sometimes there are these gaps.\r\n\r\nThis is how I play the audio file: \r\n\r\n```java\r\nString myFile = context.getFilesDir() + &quot;/output.mp3&quot;;\r\nmMediaPlayer.reset();\r\nmMediaPlayer.setDataSource(myFile);\r\nmMediaPlayer.prepare();\r\nmMediaPlayer.start();\r\n```\r\n\r\nAnd this is the entire class of it:\r\n```java\r\npublic class Tts {\r\n    public Context context;\r\n    private final MediaPlayer mMediaPlayer;\r\n\r\n    public Tts(Context context, MediaPlayer mMediaPlayer) {\r\n        this.context = context;\r\n        this.mMediaPlayer = mMediaPlayer;\r\n    }\r\n\r\n    @SuppressLint({&quot;NewApi&quot;, &quot;ResourceType&quot;, &quot;UseCompatLoadingForColorStateLists&quot;})\r\n    public void say(String text) throws Exception {\r\n        InputStream stream = context.getResources().openRawResource(R.raw.credential); // R.raw.credential is credential.json\r\n        GoogleCredentials credentials = GoogleCredentials.fromStream(stream);\r\n        TextToSpeechSettings textToSpeechSettings =\r\n                TextToSpeechSettings.newBuilder()\r\n                        .setCredentialsProvider(\r\n                                FixedCredentialsProvider.create(credentials)\r\n                        ).build();\r\n\r\n\r\n        // Instantiates a client\r\n        try (TextToSpeechClient textToSpeechClient = TextToSpeechClient.create(textToSpeechSettings)) {\r\n\r\n            // Replace {name} with target\r\n            SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;target&quot;, Context.MODE_PRIVATE);\r\n            String target = sharedPreferences.getString(&quot;target&quot;, null);\r\n            text = (target != null) ? text.replace(&quot;{name}&quot;, target) : text.replace(&quot;null&quot;, &quot;&quot;);\r\n\r\n            // Set the text input to be synthesized\r\n            String myString = &quot;&lt;speak&gt;&lt;prosody pitch=\\&quot;low\\&quot;&gt;&quot; + text + &quot;&lt;/prosody&gt;&lt;/speak&gt;&quot;;\r\n            SynthesisInput input = SynthesisInput.newBuilder().setSsml(myString).build();\r\n\r\n            // Build the voice request, select the language code (&quot;en-US&quot;) and the ssml voice gender\r\n            // (&quot;neutral&quot;)\r\n            VoiceSelectionParams voice =\r\n                    VoiceSelectionParams.newBuilder()\r\n                            .setName(&quot;de-DE-Wavenet-E&quot;)\r\n                            .setLanguageCode(&quot;de-DE&quot;)\r\n                            .setSsmlGender(SsmlVoiceGender.MALE)\r\n                            .build();\r\n\r\n            // Select the type of audio file you want returned\r\n            AudioConfig audioConfig =\r\n                    AudioConfig.newBuilder().setAudioEncoding(AudioEncoding.MP3).build();\r\n\r\n            // Perform the text-to-speech request on the text input with the selected voice parameters and\r\n            // audio file type\r\n            SynthesizeSpeechResponse response = textToSpeechClient.synthesizeSpeech(input, voice, audioConfig);\r\n\r\n            // Get the audio contents from the response\r\n            ByteString audioContents = response.getAudioContent();\r\n\r\n            // Write the response to the output file.\r\n            try (FileOutputStream out = new FileOutputStream(context.getFilesDir() + &quot;/output.mp3&quot;)) {\r\n                out.write(audioContents.toByteArray());\r\n            }\r\n\r\n            String myFile = context.getFilesDir() + &quot;/output.mp3&quot;;\r\n            mMediaPlayer.setAudioAttributes(new AudioAttributes.Builder().setContentType(AudioAttributes.CONTENT_TYPE_MUSIC).build());\r\n            mMediaPlayer.reset();\r\n            mMediaPlayer.setDataSource(myFile);\r\n            mMediaPlayer.prepare();\r\n            mMediaPlayer.setOnPreparedListener(mediaPlayer -&gt; mMediaPlayer.start());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe distance cannot be the reason, since my phone is right next to the device. \r\n\r\nGoogle&#39;s SSML needs an internet connection. So I am not quite sure if the gap is because of Bluetooth or internet connection.\r\n\r\nSo I am trying to close the gap, no matter what the reason is. The audio should be played, when it is prepared and ready to be played.\r\n\r\n\r\n\r\n\r\nWhat I tried\r\n------------\r\n\r\nThis is what I have tried but I don&#39;t hear a difference:\r\n```java\r\nmMediaPlayer.setAudioAttributes(new AudioAttributes.Builder().setContentType(AudioAttributes.CONTENT_TYPE_SPEECH).build());\r\n```\r\n\r\n----------\r\n\r\n\r\nInstead of `mMediaPlayer.prepare()`, I also tried it with `mMediaPlayer.prepareAsync()` but then the audio will not be played (or at least I can&#39;t hear it).\r\n\r\n\r\n----------\r\nInvoking `start()` in a listener:\r\n```java\r\nmMediaPlayer.setOnPreparedListener(mediaPlayer -&gt; {\r\n    mMediaPlayer.start();\r\n});\r\n```\r\nUnfortunately, the gap is sometimes still there.\r\n\r\n  [1]: https://cloud.google.com/text-to-speech/docs/ssml?hl=de","title":"Gaps in audio when connecting to a Bluetooth device","body":"<p>I am using <a href=\"https://cloud.google.com/text-to-speech/docs/ssml?hl=de\" rel=\"nofollow noreferrer\">SSML</a>, so my app can speak. The app itself works perfectly fine on my phone BUT when I connect my phone with a device over Bluetooth, there is mostly a gap or a delay. Either at the beginning or in the middle of the speech.</p>\n<p>So for instance, when the audio is <code>Hello John, I am your assistant. How can I help you?</code>, the output could be <code>sistant. How can I help you?</code>. Sometimes the sentences are fluent but sometimes there are these gaps.</p>\n<p>This is how I play the audio file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String myFile = context.getFilesDir() + &quot;/output.mp3&quot;;\nmMediaPlayer.reset();\nmMediaPlayer.setDataSource(myFile);\nmMediaPlayer.prepare();\nmMediaPlayer.start();\n</code></pre>\n<p>And this is the entire class of it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Tts {\n    public Context context;\n    private final MediaPlayer mMediaPlayer;\n\n    public Tts(Context context, MediaPlayer mMediaPlayer) {\n        this.context = context;\n        this.mMediaPlayer = mMediaPlayer;\n    }\n\n    @SuppressLint({&quot;NewApi&quot;, &quot;ResourceType&quot;, &quot;UseCompatLoadingForColorStateLists&quot;})\n    public void say(String text) throws Exception {\n        InputStream stream = context.getResources().openRawResource(R.raw.credential); // R.raw.credential is credential.json\n        GoogleCredentials credentials = GoogleCredentials.fromStream(stream);\n        TextToSpeechSettings textToSpeechSettings =\n                TextToSpeechSettings.newBuilder()\n                        .setCredentialsProvider(\n                                FixedCredentialsProvider.create(credentials)\n                        ).build();\n\n\n        // Instantiates a client\n        try (TextToSpeechClient textToSpeechClient = TextToSpeechClient.create(textToSpeechSettings)) {\n\n            // Replace {name} with target\n            SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;target&quot;, Context.MODE_PRIVATE);\n            String target = sharedPreferences.getString(&quot;target&quot;, null);\n            text = (target != null) ? text.replace(&quot;{name}&quot;, target) : text.replace(&quot;null&quot;, &quot;&quot;);\n\n            // Set the text input to be synthesized\n            String myString = &quot;&lt;speak&gt;&lt;prosody pitch=\\&quot;low\\&quot;&gt;&quot; + text + &quot;&lt;/prosody&gt;&lt;/speak&gt;&quot;;\n            SynthesisInput input = SynthesisInput.newBuilder().setSsml(myString).build();\n\n            // Build the voice request, select the language code (&quot;en-US&quot;) and the ssml voice gender\n            // (&quot;neutral&quot;)\n            VoiceSelectionParams voice =\n                    VoiceSelectionParams.newBuilder()\n                            .setName(&quot;de-DE-Wavenet-E&quot;)\n                            .setLanguageCode(&quot;de-DE&quot;)\n                            .setSsmlGender(SsmlVoiceGender.MALE)\n                            .build();\n\n            // Select the type of audio file you want returned\n            AudioConfig audioConfig =\n                    AudioConfig.newBuilder().setAudioEncoding(AudioEncoding.MP3).build();\n\n            // Perform the text-to-speech request on the text input with the selected voice parameters and\n            // audio file type\n            SynthesizeSpeechResponse response = textToSpeechClient.synthesizeSpeech(input, voice, audioConfig);\n\n            // Get the audio contents from the response\n            ByteString audioContents = response.getAudioContent();\n\n            // Write the response to the output file.\n            try (FileOutputStream out = new FileOutputStream(context.getFilesDir() + &quot;/output.mp3&quot;)) {\n                out.write(audioContents.toByteArray());\n            }\n\n            String myFile = context.getFilesDir() + &quot;/output.mp3&quot;;\n            mMediaPlayer.setAudioAttributes(new AudioAttributes.Builder().setContentType(AudioAttributes.CONTENT_TYPE_MUSIC).build());\n            mMediaPlayer.reset();\n            mMediaPlayer.setDataSource(myFile);\n            mMediaPlayer.prepare();\n            mMediaPlayer.setOnPreparedListener(mediaPlayer -&gt; mMediaPlayer.start());\n        }\n    }\n}\n</code></pre>\n<p>The distance cannot be the reason, since my phone is right next to the device.</p>\n<p>Google's SSML needs an internet connection. So I am not quite sure if the gap is because of Bluetooth or internet connection.</p>\n<p>So I am trying to close the gap, no matter what the reason is. The audio should be played, when it is prepared and ready to be played.</p>\n<h2>What I tried</h2>\n<p>This is what I have tried but I don't hear a difference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mMediaPlayer.setAudioAttributes(new AudioAttributes.Builder().setContentType(AudioAttributes.CONTENT_TYPE_SPEECH).build());\n</code></pre>\n<hr />\n<p>Instead of <code>mMediaPlayer.prepare()</code>, I also tried it with <code>mMediaPlayer.prepareAsync()</code> but then the audio will not be played (or at least I can't hear it).</p>\n<hr />\n<p>Invoking <code>start()</code> in a listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mMediaPlayer.setOnPreparedListener(mediaPlayer -&gt; {\n    mMediaPlayer.start();\n});\n</code></pre>\n<p>Unfortunately, the gap is sometimes still there.</p>\n"},{"tags":["java","windowbuilder"],"answers":[{"tags":[],"owner":{"account_id":10537478,"reputation":1,"user_id":19679409,"display_name":"Cn. Iuventius Macer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659494480,"creation_date":1659494480,"answer_id":73215757,"question_id":68674543,"body_markdown":"After dealing with this problem myself, I&#39;ve finally come to a resolution! I understand that it&#39;s been a while since you asked this question, but hopefully if someone else has the issue they can come across this instead of busting their head over figuring it out.\r\n\r\nAfter generating the composite file, where it says \r\n&quot;import org.eclipse.swt.widgets.Composite;&quot;\r\n\r\nBring up the quick fixes menu and select \r\n&quot;Add &#39;requires org.eclipse.swt.win32.win32.x86_64&#39; to module-info.java&quot;\r\n\r\nThen head over to the module-info.java file, and on the newly-generated requires statement, select the quick fix\r\n&quot;Move classpath entry &#39;org.eclipse.swt.win32.win32.x86_64... to modulepath&quot;\r\nThis immediately resolved all of the issues for me.\r\n","title":"How do I resolve &quot;unresolvable reference to &#39;Composite&#39;&quot; using Eclipse/WindowBuilder?","body":"<p>After dealing with this problem myself, I've finally come to a resolution! I understand that it's been a while since you asked this question, but hopefully if someone else has the issue they can come across this instead of busting their head over figuring it out.</p>\n<p>After generating the composite file, where it says\n&quot;import org.eclipse.swt.widgets.Composite;&quot;</p>\n<p>Bring up the quick fixes menu and select\n&quot;Add 'requires org.eclipse.swt.win32.win32.x86_64' to module-info.java&quot;</p>\n<p>Then head over to the module-info.java file, and on the newly-generated requires statement, select the quick fix\n&quot;Move classpath entry 'org.eclipse.swt.win32.win32.x86_64... to modulepath&quot;\nThis immediately resolved all of the issues for me.</p>\n"}],"owner":{"account_id":1920281,"reputation":1118,"user_id":1731972,"accept_rate":38,"display_name":"thistleknot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659494480,"creation_date":1628206251,"question_id":68674543,"body_markdown":"Trying to setup my first Java environment and give it a go and immediately running into issues.\r\n\r\n&quot;No proposals have been found to fix the unresolvable reference to &#39;Composite&#39;&quot;\r\n\r\nI read this post \r\n\r\nhttps://www.bitdegree.org/tutorials/how-to-code-in-java/\r\n\r\ninstalled JDK 16 and Eclipse 2021\r\n\r\nInstalled Window Builder via Help - Install ...\r\n\r\nThen started following the steps in this video to create a new Hello World example: https://www.eclipse.org/windowbuilder/\r\n\r\nbut I get stuck right around where the video is at on 0:37 seconds\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lC9vW.png","title":"How do I resolve &quot;unresolvable reference to &#39;Composite&#39;&quot; using Eclipse/WindowBuilder?","body":"<p>Trying to setup my first Java environment and give it a go and immediately running into issues.</p>\n<p>&quot;No proposals have been found to fix the unresolvable reference to 'Composite'&quot;</p>\n<p>I read this post</p>\n<p><a href=\"https://www.bitdegree.org/tutorials/how-to-code-in-java/\" rel=\"nofollow noreferrer\">https://www.bitdegree.org/tutorials/how-to-code-in-java/</a></p>\n<p>installed JDK 16 and Eclipse 2021</p>\n<p>Installed Window Builder via Help - Install ...</p>\n<p>Then started following the steps in this video to create a new Hello World example: <a href=\"https://www.eclipse.org/windowbuilder/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/windowbuilder/</a></p>\n<p>but I get stuck right around where the video is at on 0:37 seconds</p>\n<p><a href=\"https://i.stack.imgur.com/lC9vW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lC9vW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","bukkit","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1658854222,"post_id":73115694,"comment_id":129153595,"body_markdown":"Did you tried by changing displayname of player ?","body":"Did you tried by changing displayname of player ?"},{"owner":{"account_id":22120677,"reputation":9,"user_id":16373970,"display_name":"Moritz L."},"score":0,"creation_date":1658941756,"post_id":73115694,"comment_id":129179506,"body_markdown":"Idk what you mean","body":"Idk what you mean"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1658998775,"post_id":73115694,"comment_id":129192762,"body_markdown":"Use `player.setDisplayName(&quot;&#167;c&quot; + player.getName());`","body":"Use <code>player.setDisplayName(&quot;&#167;c&quot; + player.getName());</code>"},{"owner":{"account_id":20575508,"reputation":297,"user_id":17047120,"display_name":"ImajinDevon"},"score":1,"creation_date":1659153612,"post_id":73115694,"comment_id":129231300,"body_markdown":"You should use the `ChatColor` enum, or the `ChatColor` class defined in bungeecord-chat instead of using the `&#167;` character.","body":"You should use the <code>ChatColor</code> enum, or the <code>ChatColor</code> class defined in bungeecord-chat instead of using the <code>&#167;</code> character."}],"answers":[{"tags":[],"owner":{"account_id":23795772,"reputation":21,"user_id":17806643,"display_name":"GavinGoGaming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659492758,"creation_date":1659492758,"answer_id":73215594,"question_id":73115694,"body_markdown":"I would not go with the &#167; character at all.\r\nIf you want colors, use ChatColor enum (not the net.md_5 one!)\r\nI would recommend using ```ChatColor.translateAlternateColorCodes(&#39;&amp;&#39;, &quot;My message here &amp;cWith color codes!&quot;)``` as this allows you to use the &amp; symbol in your messages as a replacement for &#167;.\r\nThe other option with ChatColor is to do something like this: ```ChatColor.RED + &quot;Message in red&quot; + ChatColor.BLUE + &quot; Message in blue&quot;```","title":"The Playername of the Prefix is still white | Spigot 1.16.5","body":"<p>I would not go with the § character at all.\nIf you want colors, use ChatColor enum (not the net.md_5 one!)\nI would recommend using <code>ChatColor.translateAlternateColorCodes('&amp;', &quot;My message here &amp;cWith color codes!&quot;)</code> as this allows you to use the &amp; symbol in your messages as a replacement for §.\nThe other option with ChatColor is to do something like this: <code>ChatColor.RED + &quot;Message in red&quot; + ChatColor.BLUE + &quot; Message in blue&quot;</code></p>\n"}],"owner":{"account_id":22120677,"reputation":9,"user_id":16373970,"display_name":"Moritz L."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659492758,"creation_date":1658785722,"question_id":73115694,"body_markdown":"I code a hugh Plugin on Spigot 1.16.5 and now i have a problem. I want to set a Tab Prefix and everything works but the Playername is still white.\r\n\r\n[Picture of the ingame Prefix][1]\r\n\r\n\r\n```  private static Scoreboard sb;\r\n\r\n    public static void setScoreboard() {\r\n\r\n        sb = Bukkit.getScoreboardManager().getNewScoreboard();\r\n        sb.registerNewTeam(&quot;000Admin&quot;);\r\n        sb.registerNewTeam(&quot;001Spieler&quot;);\r\n\r\n        sb.getTeam(&quot;000Admin&quot;).setPrefix(&quot;&#167;c&#167;lADMIN ► &#167;c&quot;);\r\n        sb.getTeam(&quot;001Spieler&quot;).setPrefix(&quot;&#167;b&#167;l&#167;b&quot;);\r\n\r\n\r\n\r\n        for (Player all : Bukkit.getOnlinePlayers()) {\r\n            setTeams(all);\r\n        }\r\n    }\r\n\r\n    public static void setTeams(Player p) {\r\n        String team = &quot;&quot;;\r\n\r\n        if (p.hasPermission(&quot;province.prefix.admin&quot;)) {\r\n            team = &quot;000Admin&quot;;\r\n        } else {\r\n            team = &quot;001Spieler&quot;;\r\n        }\r\n        sb.getTeam(team).addPlayer(p);\r\n        p.setScoreboard(sb);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4aY7x.jpg","title":"The Playername of the Prefix is still white | Spigot 1.16.5","body":"<p>I code a hugh Plugin on Spigot 1.16.5 and now i have a problem. I want to set a Tab Prefix and everything works but the Playername is still white.</p>\n<p><a href=\"https://i.stack.imgur.com/4aY7x.jpg\" rel=\"nofollow noreferrer\">Picture of the ingame Prefix</a></p>\n<pre><code>\n    public static void setScoreboard() {\n\n        sb = Bukkit.getScoreboardManager().getNewScoreboard();\n        sb.registerNewTeam(&quot;000Admin&quot;);\n        sb.registerNewTeam(&quot;001Spieler&quot;);\n\n        sb.getTeam(&quot;000Admin&quot;).setPrefix(&quot;§c§lADMIN ► §c&quot;);\n        sb.getTeam(&quot;001Spieler&quot;).setPrefix(&quot;§b§l§b&quot;);\n\n\n\n        for (Player all : Bukkit.getOnlinePlayers()) {\n            setTeams(all);\n        }\n    }\n\n    public static void setTeams(Player p) {\n        String team = &quot;&quot;;\n\n        if (p.hasPermission(&quot;province.prefix.admin&quot;)) {\n            team = &quot;000Admin&quot;;\n        } else {\n            team = &quot;001Spieler&quot;;\n        }\n        sb.getTeam(team).addPlayer(p);\n        p.setScoreboard(sb);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","freemarker"],"answers":[{"tags":[],"owner":{"account_id":11555551,"reputation":650,"user_id":8466844,"display_name":"Nam V. Do"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1608347328,"creation_date":1608347328,"answer_id":65366317,"question_id":65359165,"body_markdown":"I have figured it out, my class is annotated with the `@RestController` annotation, which itself is the combination of the `@Controller` and `@ResponseBody` annotations, because each method in my class will have a response body returned, even the one that I posted here, that&#39;s why it returns the body, hence returns `index`. I need to change my `@RestController` to `@Controller` and the problem solved.","title":"Unable to return Freemarker view from a Spring Boot method","body":"<p>I have figured it out, my class is annotated with the <code>@RestController</code> annotation, which itself is the combination of the <code>@Controller</code> and <code>@ResponseBody</code> annotations, because each method in my class will have a response body returned, even the one that I posted here, that's why it returns the body, hence returns <code>index</code>. I need to change my <code>@RestController</code> to <code>@Controller</code> and the problem solved.</p>\n"}],"owner":{"account_id":11555551,"reputation":650,"user_id":8466844,"display_name":"Nam V. Do"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65366317,"answer_count":1,"score":1,"last_activity_date":1659491898,"creation_date":1608303225,"question_id":65359165,"body_markdown":"Currently, I am doing a small project in which I need to use Spring Boot and FreeMarker template engine. I have tried different ways but I still cannot return a FreeMarker view from Spring Boot. My project uses Gradle as the build tool, here&#39;s what&#39;s inside:\r\n\r\n`build.gradle:`\r\n```java\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.3.3.RELEASE&#39;\r\n    id &#39;java&#39;\r\n}\r\n\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\nsourceCompatibility = 11\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nsourceSets.main.resources.srcDirs = [&quot;src/resources&quot;]\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    implementation &#39;com.google.code.gson:gson:2.8.5&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-freemarker&#39;\r\n\r\n}\r\n```\r\n\r\nHere is my method which I expect to redirect to the FreeMarker view with a list, instead, when I send a GET request to this URL, I just get the &quot;`index`&quot; string displayed:\r\n```java\r\n@GetMapping(path = &quot;/code/latest&quot;)\r\npublic String getTop10LatestCode(@ModelAttribute(&quot;model&quot;) ModelMap model) {\r\n    model.addAttribute(&quot;codes&quot;, codes.subList(Math.max(0, codes.size() - 10), Math.max(codes.size() - 1, 0)));\r\n    return &quot;index&quot;;\r\n}\r\n```\r\n\r\nHere is my `application.properties` file:\r\n\r\n```java\r\nserver.port=8889\r\nmanagement.endpoints.web.exposure.include=*\r\nmanagement.endpoint.shutdown.enabled=true\r\n\r\nspring.freemarker.template-loader-path=classpath:/templates/\r\nspring.freemarker.suffix=.ftlh\r\n```\r\nMy FreeMarker view is already under the `templates` folder inside the `resources` folder.\r\n\r\nHere is my project structure:\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jypf7.png\r\n\r\nAny help would be much appreciated, thanks.","title":"Unable to return Freemarker view from a Spring Boot method","body":"<p>Currently, I am doing a small project in which I need to use Spring Boot and FreeMarker template engine. I have tried different ways but I still cannot return a FreeMarker view from Spring Boot. My project uses Gradle as the build tool, here's what's inside:</p>\n<p><code>build.gradle:</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>plugins {\n    id 'org.springframework.boot' version '2.3.3.RELEASE'\n    id 'java'\n}\n\napply plugin: 'io.spring.dependency-management'\n\nsourceCompatibility = 11\n\nrepositories {\n    mavenCentral()\n}\n\nsourceSets.main.resources.srcDirs = [&quot;src/resources&quot;]\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation 'com.google.code.gson:gson:2.8.5'\n    implementation 'org.springframework.boot:spring-boot-starter-freemarker'\n\n}\n</code></pre>\n<p>Here is my method which I expect to redirect to the FreeMarker view with a list, instead, when I send a GET request to this URL, I just get the &quot;<code>index</code>&quot; string displayed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path = &quot;/code/latest&quot;)\npublic String getTop10LatestCode(@ModelAttribute(&quot;model&quot;) ModelMap model) {\n    model.addAttribute(&quot;codes&quot;, codes.subList(Math.max(0, codes.size() - 10), Math.max(codes.size() - 1, 0)));\n    return &quot;index&quot;;\n}\n</code></pre>\n<p>Here is my <code>application.properties</code> file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>server.port=8889\nmanagement.endpoints.web.exposure.include=*\nmanagement.endpoint.shutdown.enabled=true\n\nspring.freemarker.template-loader-path=classpath:/templates/\nspring.freemarker.suffix=.ftlh\n</code></pre>\n<p>My FreeMarker view is already under the <code>templates</code> folder inside the <code>resources</code> folder.</p>\n<p>Here is my project structure:\n<img src=\"https://i.stack.imgur.com/Jypf7.png\" alt=\"enter image description here\" /></p>\n<p>Any help would be much appreciated, thanks.</p>\n"},{"tags":["java","elasticsearch","io","lucene","mmap"],"answers":[{"tags":[],"owner":{"account_id":10152133,"reputation":148,"user_id":7498403,"display_name":"flyingpot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659491244,"creation_date":1659339670,"answer_id":73190335,"question_id":70376227,"body_markdown":"- In Lucene, segments are read many, but only write once. So do mmap writing may be slower than common writing.\r\n- When using mmap for writing, lucene need to know the total size of index file (use ftruncate + mmap like this [answer](https://stackoverflow.com/questions/38194948/why-ftruncatemmapmemcpy-is-faster-than-write) . However, it is hard to know it when writing.\r\n\r\nSo, using buffered write is more reasonable and maybe more faster in this case.","title":"Why doesn&#39;t Lucene (or Elasticsearch) use mmap for writing?","body":"<ul>\n<li>In Lucene, segments are read many, but only write once. So do mmap writing may be slower than common writing.</li>\n<li>When using mmap for writing, lucene need to know the total size of index file (use ftruncate + mmap like this <a href=\"https://stackoverflow.com/questions/38194948/why-ftruncatemmapmemcpy-is-faster-than-write\">answer</a> . However, it is hard to know it when writing.</li>\n</ul>\n<p>So, using buffered write is more reasonable and maybe more faster in this case.</p>\n"}],"owner":{"account_id":10152133,"reputation":148,"user_id":7498403,"display_name":"flyingpot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659491244,"creation_date":1639644809,"question_id":70376227,"body_markdown":"In most cases, Lucene use MMapDirectory for reading and writing. And it uses mmap for reading, but not for writing. As in the comment of class MMapDirectory :\r\n&gt; File-based Directory implementation that uses mmap for reading, and FSDirectory.FSIndexOutput for writing.\r\n\r\nI&#39;d like to know why. Is it because mmap write is not faster than traditional write?","title":"Why doesn&#39;t Lucene (or Elasticsearch) use mmap for writing?","body":"<p>In most cases, Lucene use MMapDirectory for reading and writing. And it uses mmap for reading, but not for writing. As in the comment of class MMapDirectory :</p>\n<blockquote>\n<p>File-based Directory implementation that uses mmap for reading, and FSDirectory.FSIndexOutput for writing.</p>\n</blockquote>\n<p>I'd like to know why. Is it because mmap write is not faster than traditional write?</p>\n"},{"tags":["java","spring","oauth","gluu"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1634107990,"post_id":69550861,"comment_id":122934030,"body_markdown":"If your fetch fails you can simply immediately logout the user.","body":"If your fetch fails you can simply immediately logout the user."}],"answers":[{"tags":[],"owner":{"account_id":18351362,"reputation":4137,"user_id":13365452,"display_name":"Christian H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659467935,"creation_date":1659467935,"answer_id":73212695,"question_id":69550861,"body_markdown":"You can handle this with an **Interception Script**. And you will also need to add `customAuthParamz` in oxAuth configuration (JSON Configuration &gt; OxAuth).","title":"Java, Oauth2.0: Can I add a custom property to the authorization process?","body":"<p>You can handle this with an <strong>Interception Script</strong>. And you will also need to add <code>customAuthParamz</code> in oxAuth configuration (JSON Configuration &gt; OxAuth).</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659491136,"creation_date":1659491136,"answer_id":73215469,"question_id":69550861,"body_markdown":"If you want to do it in spring-security, you can provide a `Converter&lt;Jwt, AbstractAuthenticationToken&gt;` @Bean (to replace default `JwtAuthenticationConverter`).\r\n\r\nThis bean would call your user repo (maybe on a @Cachable method) and could even return an `Authentication` of your own with all user data you need for your security rules (maybe either create missing user record in databse or return `AnonymousAuthenticationToken` when user is not known in your system).\r\n\r\nI have something a bit like that in [this tutorial][1] (extra user data is retrieved from token private claims and not from a database, but you get the idea).\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_specialized_oauthentication","title":"Java, Oauth2.0: Can I add a custom property to the authorization process?","body":"<p>If you want to do it in spring-security, you can provide a <code>Converter&lt;Jwt, AbstractAuthenticationToken&gt;</code> @Bean (to replace default <code>JwtAuthenticationConverter</code>).</p>\n<p>This bean would call your user repo (maybe on a @Cachable method) and could even return an <code>Authentication</code> of your own with all user data you need for your security rules (maybe either create missing user record in databse or return <code>AnonymousAuthenticationToken</code> when user is not known in your system).</p>\n<p>I have something a bit like that in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_specialized_oauthentication\" rel=\"nofollow noreferrer\">this tutorial</a> (extra user data is retrieved from token private claims and not from a database, but you get the idea).</p>\n"}],"owner":{"account_id":14325595,"reputation":91,"user_id":10347787,"display_name":"mackesmilian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659491136,"creation_date":1634107550,"question_id":69550861,"body_markdown":"I don&#39;t know if I worded this question correctly, Spring Security is something I&#39;m not very familiar with. \r\n\r\nIn my spring boot application the login is done with OAuth 2.0 and gluu. So far it works well and without issue. However, after the user logs in I check whether a user with the ID provided by the gluu server exists in our database because I need additional information on the user. Now, this is done after the login when checking things like permissions and fetching user-specific properties like settings. If the user does not exist on our end I get a NullPointerException. This case should (in an ideal world) not happen but I&#39;d still like to handle it properly.\r\n\r\nI&#39;d like to make that check happen as part of the authorization process, so the login fails if we don&#39;t have any information on the user instead of checking it after the login has completed.\r\n\r\nDoes that make sense? I&#39;m having a hard time wording it properly so I couldn&#39;t find any useful results on google. A link to some tutorial or docs would be greatly appreciated!","title":"Java, Oauth2.0: Can I add a custom property to the authorization process?","body":"<p>I don't know if I worded this question correctly, Spring Security is something I'm not very familiar with.</p>\n<p>In my spring boot application the login is done with OAuth 2.0 and gluu. So far it works well and without issue. However, after the user logs in I check whether a user with the ID provided by the gluu server exists in our database because I need additional information on the user. Now, this is done after the login when checking things like permissions and fetching user-specific properties like settings. If the user does not exist on our end I get a NullPointerException. This case should (in an ideal world) not happen but I'd still like to handle it properly.</p>\n<p>I'd like to make that check happen as part of the authorization process, so the login fails if we don't have any information on the user instead of checking it after the login has completed.</p>\n<p>Does that make sense? I'm having a hard time wording it properly so I couldn't find any useful results on google. A link to some tutorial or docs would be greatly appreciated!</p>\n"},{"tags":["java","java-stream","collectors"],"comments":[{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1659431254,"post_id":73204644,"comment_id":129287433,"body_markdown":"You want an average salary of each dept or  the department which have the highest avg salary ?","body":"You want an average salary of each dept or  the department which have the highest avg salary ?"},{"owner":{"account_id":3506599,"reputation":357,"user_id":2932012,"accept_rate":35,"display_name":"nikhil udgirkar"},"score":0,"creation_date":1659431308,"post_id":73204644,"comment_id":129287461,"body_markdown":"Department which has the highest avg salary","body":"Department which has the highest avg salary"},{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":2,"creation_date":1659431857,"post_id":73204644,"comment_id":129287621,"body_markdown":"Your code is almost there `highestAvgSalary =employeeList.stream().collect(Collectors.groupingBy(emp -&gt; emp.getDepartment(), Collectors.averagingDouble(emp -&gt; emp.getSalary());` .  Then you can use `String key = Collections.max(highestAvgSalary.entrySet(), Map.Entry.comparingByValue()).getKey();`","body":"Your code is almost there <code>highestAvgSalary =employeeList.stream().collect(Collectors.groupingBy(emp -&gt; emp.getDepartment(), Collectors.averagingDouble(emp -&gt; emp.getSalary());</code> .  Then you can use <code>String key = Collections.max(highestAvgSalary.entrySet(), Map.Entry.comparingByValue()).getKey();</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1659436804,"post_id":73204644,"comment_id":129289380,"body_markdown":"Related: https://stackoverflow.com/questions/36040945/java-8-lambda-for-selecting-top-salary-employee-for-each-department","body":"Related: <a href=\"https://stackoverflow.com/questions/36040945/java-8-lambda-for-selecting-top-salary-employee-for-each-department\" title=\"java 8 lambda for selecting top salary employee for each department\">stackoverflow.com/questions/36040945/&hellip;</a>"},{"owner":{"account_id":3506599,"reputation":357,"user_id":2932012,"accept_rate":35,"display_name":"nikhil udgirkar"},"score":0,"creation_date":1659439675,"post_id":73204644,"comment_id":129290365,"body_markdown":"@SayanBhattacharya Can you please explain the two arguments of Collections.max and any online reference to study?","body":"@SayanBhattacharya Can you please explain the two arguments of Collections.max and any online reference to study?"},{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1659440262,"post_id":73204644,"comment_id":129290542,"body_markdown":"@nikhiludgirkar You can follow this tutorial https://www.javatpoint.com/java-collections-max-method  .  After that you can search what is `map.entryset` &amp; `Map.Entry.comparingByValue()` I hope you will get your answer","body":"@nikhiludgirkar You can follow this tutorial <a href=\"https://www.javatpoint.com/java-collections-max-method\" rel=\"nofollow noreferrer\">javatpoint.com/java-collections-max-method</a>  .  After that you can search what is <code>map.entryset</code> &amp; <code>Map.Entry.comparingByValue()</code> I hope you will get your answer"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1659490196,"creation_date":1659433739,"answer_id":73205424,"question_id":73204644,"body_markdown":"`Collectors.averagingDouble()` expects only one argument - a *function* which turn stream element into `Double`. Attempt of passing a downstream collector is incorrect.\r\n\r\nThis task can&#39;t be fulfilled in a single iteration over the collection of *employees* as mentioned by *@Sayan Bhattacharya* in the comments.\r\n\r\nWe need to create a stream over the map entries of the intermediate `Map` that associates debarment-name with its average salary and apply [`max()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#max(java.util.Comparator)) operation on it.\r\n\r\n```\r\nMap.Entry&lt;String, Double&gt; highestAvgSalary = employeeList.stream()\r\n    .collect(Collectors.groupingBy(\r\n        Employee::getDepartment,\r\n        Collectors.averagingDouble(Employee::getSalary)\r\n    ))\r\n    .entrySet().stream()\r\n    .max(Map.Entry.comparingByValue())\r\n    .get();\r\n```\r\n\r\n***Note*** that `max()` produces an `Optional`. And Optional API offers different ways to extract result from it. Method `get()` might produce a `NoSuchElementException`, in case of an empty optional. If you have a custom exception for that case - replace it with [`orElseThrow(Supplier)`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseThrow(java.util.function.Supplier)). Since Java 10 according to the documentation `get()` **isn&#39;t encouraged** to be used (unless you&#39;re not sure that result is present), the recommended practice is to use the parameterless flavor of `orElseThrow()`. Obviously, you can&#39;t use it with **Java 8**, only for that reason in the code above I&#39;ve applied `get()` (with lower versions it&#39;s somewhat justifiable to avoid verbosity). But you still have other alternatives like `orElse()` and `orElseGet()`.\r\n\r\nAlso note that having `Map` as the resulting type would not be very handy since you don&#39;t know the name of the department with the highest salary in advance (*which would be the key of the only entry contained in the map*). Hence, you can&#39;t access the information with in such map in a convenient way. But if you really need a *single-entry-map* for some reason, then instead of `get()` in the code above, you can apply `map(Map::ofEntries).get()` and it would give you `Map&lt;String, Double&gt;` as a result.","title":"Java Stream - maxBy - How to find a department with the highest Average salary with Java 8","body":"<p><code>Collectors.averagingDouble()</code> expects only one argument - a <em>function</em> which turn stream element into <code>Double</code>. Attempt of passing a downstream collector is incorrect.</p>\n<p>This task can't be fulfilled in a single iteration over the collection of <em>employees</em> as mentioned by <em>@Sayan Bhattacharya</em> in the comments.</p>\n<p>We need to create a stream over the map entries of the intermediate <code>Map</code> that associates debarment-name with its average salary and apply <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#max(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>max()</code></a> operation on it.</p>\n<pre><code>Map.Entry&lt;String, Double&gt; highestAvgSalary = employeeList.stream()\n    .collect(Collectors.groupingBy(\n        Employee::getDepartment,\n        Collectors.averagingDouble(Employee::getSalary)\n    ))\n    .entrySet().stream()\n    .max(Map.Entry.comparingByValue())\n    .get();\n</code></pre>\n<p><em><strong>Note</strong></em> that <code>max()</code> produces an <code>Optional</code>. And Optional API offers different ways to extract result from it. Method <code>get()</code> might produce a <code>NoSuchElementException</code>, in case of an empty optional. If you have a custom exception for that case - replace it with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseThrow(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>orElseThrow(Supplier)</code></a>. Since Java 10 according to the documentation <code>get()</code> <strong>isn't encouraged</strong> to be used (unless you're not sure that result is present), the recommended practice is to use the parameterless flavor of <code>orElseThrow()</code>. Obviously, you can't use it with <strong>Java 8</strong>, only for that reason in the code above I've applied <code>get()</code> (with lower versions it's somewhat justifiable to avoid verbosity). But you still have other alternatives like <code>orElse()</code> and <code>orElseGet()</code>.</p>\n<p>Also note that having <code>Map</code> as the resulting type would not be very handy since you don't know the name of the department with the highest salary in advance (<em>which would be the key of the only entry contained in the map</em>). Hence, you can't access the information with in such map in a convenient way. But if you really need a <em>single-entry-map</em> for some reason, then instead of <code>get()</code> in the code above, you can apply <code>map(Map::ofEntries).get()</code> and it would give you <code>Map&lt;String, Double&gt;</code> as a result.</p>\n"}],"owner":{"account_id":3506599,"reputation":357,"user_id":2932012,"accept_rate":35,"display_name":"nikhil udgirkar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73205424,"answer_count":1,"score":1,"last_activity_date":1659490196,"creation_date":1659430424,"question_id":73204644,"body_markdown":"I have a list of `Employee`.\r\n\r\n    public class Employee {\r\n        private String department;\r\n        private double salary;\r\n        // other properties\r\n    }\r\n\r\nI am trying to find the name of the department which has the highest average salary.\r\n\r\n*The code I&#39;ve tried:*\r\n```\r\nList&lt;Employee&gt; employeeList = new ArrayList&lt;Employee&gt;();\r\nemployeeList.add(new Employee(&quot;abc&quot;, 38, &quot;M&quot;, &quot;QA&quot;, 115000.00d, 2016));\r\nemployeeList.add(new Employee(&quot;def&quot;, 23, &quot;M&quot;, &quot;Sports&quot;, 5000000.00d, 2011));\r\nemployeeList.add(new Employee(&quot;ghi&quot;, 38, &quot;M&quot;, &quot;QA&quot;, 120000.00d, 2007));\r\nemployeeList.add(new Employee(&quot;jkl&quot;, 35, &quot;M&quot;, &quot;DEV&quot;, 50000.00d, 2016));\r\nemployeeList.add(new Employee(&quot;mno&quot;, 30, &quot;F&quot;, &quot;QA&quot;, 80000.00d, 206));\r\nemployeeList.add(new Employee(&quot;pqr&quot;, 32, &quot;F&quot;, &quot;DEV&quot;, 75000.00d, 2014));\r\n\r\nMap&lt;String, Double&gt; highestAvgSalary = employeeList.stream()\r\n    .collect(Collectors.groupingBy(\r\n        emp -&gt; emp.getDepartment(),\r\n        Collectors.averagingDouble(emp -&gt; emp.getSalary(),                        \r\n            Collectors.maxBy(Comparator.comparingDouble(emp -&gt; emp.getSalary()))\r\n```\r\nThe last line of the code is triggering a compilation error. How do I have to apply `maxBy()` to get maximum avg salary of the department?\r\n","title":"Java Stream - maxBy - How to find a department with the highest Average salary with Java 8","body":"<p>I have a list of <code>Employee</code>.</p>\n<pre><code>public class Employee {\n    private String department;\n    private double salary;\n    // other properties\n}\n</code></pre>\n<p>I am trying to find the name of the department which has the highest average salary.</p>\n<p><em>The code I've tried:</em></p>\n<pre><code>List&lt;Employee&gt; employeeList = new ArrayList&lt;Employee&gt;();\nemployeeList.add(new Employee(&quot;abc&quot;, 38, &quot;M&quot;, &quot;QA&quot;, 115000.00d, 2016));\nemployeeList.add(new Employee(&quot;def&quot;, 23, &quot;M&quot;, &quot;Sports&quot;, 5000000.00d, 2011));\nemployeeList.add(new Employee(&quot;ghi&quot;, 38, &quot;M&quot;, &quot;QA&quot;, 120000.00d, 2007));\nemployeeList.add(new Employee(&quot;jkl&quot;, 35, &quot;M&quot;, &quot;DEV&quot;, 50000.00d, 2016));\nemployeeList.add(new Employee(&quot;mno&quot;, 30, &quot;F&quot;, &quot;QA&quot;, 80000.00d, 206));\nemployeeList.add(new Employee(&quot;pqr&quot;, 32, &quot;F&quot;, &quot;DEV&quot;, 75000.00d, 2014));\n\nMap&lt;String, Double&gt; highestAvgSalary = employeeList.stream()\n    .collect(Collectors.groupingBy(\n        emp -&gt; emp.getDepartment(),\n        Collectors.averagingDouble(emp -&gt; emp.getSalary(),                        \n            Collectors.maxBy(Comparator.comparingDouble(emp -&gt; emp.getSalary()))\n</code></pre>\n<p>The last line of the code is triggering a compilation error. How do I have to apply <code>maxBy()</code> to get maximum avg salary of the department?</p>\n"},{"tags":["javascript","java","functional-programming","java-stream"],"comments":[{"owner":{"account_id":13173718,"reputation":359818,"user_id":9515207,"display_name":"CertainPerformance"},"score":1,"creation_date":1659407139,"post_id":73201368,"comment_id":129281836,"body_markdown":"Yes, `myList.map(mapFunction)` will work just fine","body":"Yes, <code>myList.map(mapFunction)</code> will work just fine"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1659409320,"post_id":73201368,"comment_id":129282166,"body_markdown":"Do you mean something like this: `Function&lt;Integer, Integer&gt; mapFunction = x -&gt; x+3;` and then using that like this (just as a demo): `List&lt;Integer&gt; newList = myList.stream().map(mapFunction).toList();`?","body":"Do you mean something like this: <code>Function&lt;Integer, Integer&gt; mapFunction = x -&gt; x+3;</code> and then using that like this (just as a demo): <code>List&lt;Integer&gt; newList = myList.stream().map(mapFunction).toList();</code>?"},{"owner":{"account_id":18404829,"reputation":37,"user_id":13406904,"display_name":"BAPF123"},"score":0,"creation_date":1659445551,"post_id":73201368,"comment_id":129292571,"body_markdown":"Kind of, but mapFunction throws me an error","body":"Kind of, but mapFunction throws me an error"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1659446260,"post_id":73201368,"comment_id":129292889,"body_markdown":"What error does it throw?","body":"What error does it throw?"},{"owner":{"account_id":18404829,"reputation":37,"user_id":13406904,"display_name":"BAPF123"},"score":0,"creation_date":1659446433,"post_id":73201368,"comment_id":129292971,"body_markdown":"I think for context, Java says that cannot resolve mapFunction, it can be solved using the answer below, like `myList.stream().map(this::mapFunction)`. `mapFunction` needs to be defined in the same class.","body":"I think for context, Java says that cannot resolve mapFunction, it can be solved using the answer below, like <code>myList.stream().map(this::mapFunction)</code>. <code>mapFunction</code> needs to be defined in the same class."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1659446708,"post_id":73201368,"comment_id":129293104,"body_markdown":"The point of using `Function&lt;Integer, Integer&gt; mapFunction` is that you now have a variable (representing a function) that you can pass between classes. It does not need to be defined in the same class.","body":"The point of using <code>Function&lt;Integer, Integer&gt; mapFunction</code> is that you now have a variable (representing a function) that you can pass between classes. It does not need to be defined in the same class."}],"answers":[{"tags":[],"owner":{"account_id":1833629,"reputation":3580,"user_id":1664430,"accept_rate":42,"display_name":"Ashishkumar Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659410714,"creation_date":1659410714,"answer_id":73201661,"question_id":73201368,"body_markdown":"It wouldn&#39;t be exact like the javascript syntax that you wrote but you can use the method reference instead of lambda declaration to tell to iterate over all the element\r\n\r\n    myList.stream().map(MyClass::mapFunction)\r\n\r\nYou have to use `stream()` here as `map()` function is defined in `Stream` class","title":"How to apply Direct function in Stream.map() like in JavaScript","body":"<p>It wouldn't be exact like the javascript syntax that you wrote but you can use the method reference instead of lambda declaration to tell to iterate over all the element</p>\n<pre><code>myList.stream().map(MyClass::mapFunction)\n</code></pre>\n<p>You have to use <code>stream()</code> here as <code>map()</code> function is defined in <code>Stream</code> class</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659449226,"creation_date":1659448824,"answer_id":73208880,"question_id":73201368,"body_markdown":"`Stream.map()` in Java is not an equivalent of `Array.map()` in JavaScript, which immediately produces another array (dynamic array).\r\n\r\n&lt;h3&gt;Streams&lt;/h3&gt;\r\n\r\nFirstly, there&#39;s a notion of **Stream** which is a sequence of elements supporting sequential and parallel aggregate operations. It&#39;s not a container of data, but the mean of iteration.\r\n\r\nA *Stream* has a *source*, can potentially have some *intermediate operations* (they are optional), and a single *terminal operation*, which triggers the execution of the stream.\r\n\r\nA stream-source can be a collection or an array, a string, or a generator function like `Random.ints()`. During stream execution, elements are being lazily from the source one by one and each operation in the stream pipeline would be applied on a particular element only if it&#39;s needed.\r\n\r\n[`map()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)) - is an *intermediate operation*, i.e. produces another stream - `Stream&lt;R&gt;`. It&#39;s mean to transform the elements of the stream and expects a function that does this transformation, but doesn&#39;t produce the result.\r\n\r\nIn order to obtain the result, we need to apply a *terminal operation*, i.e. an operation that consumes a stream and produces a value. To generate  a list from the result, we have two options: apply `collect()` by passing a built-in *collector* `toList()` as an argument, or make use of Java 16 method `toList()` which produces an immutable list.\r\n\r\n&lt;h3&gt;Java Functions&lt;/h3&gt;\r\n\r\nAs well as *methods* in Java are not completely as functions in JavaScript where they [*first class citizens*](https://en.wikipedia.org/wiki/First-class_citizen) (Java methods are not), *Java 8 functions* are not the same as methods. \r\n\r\nJava 8 functions can be expressed either as [**Lambda expressions**](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) or [**Method references**](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html).\r\n\r\nIn short, there&#39;s no same kind of *functional type*, instead we have a notion of a **Functional interface**, which is an interface that has only one abstract method. And both *lambda expressions* and *method references* should conform to a *functional interface*, i.e. they provide implementation to a particular *functional interface*.\r\n\r\nSo there are two ways in which you can create your `Function`.\r\n\r\nAs a lambda:\r\n```\r\nFunction&lt;Integer, Integer&gt; func = i -&gt; mapFunction(i);\r\n```\r\nOr as a *method reference* (since you have this functionality already implemented as a method).\r\n\r\nIf method `mapFunction()` is `static`:\r\n\r\n```\r\nFunction&lt;Integer, Integer&gt; func = ClassName::mapFunction; // \r\n```\r\nWhere `ClassName` is the name of a class in which `mapFunction()` method resides.\r\n\r\nIn case if `mapFunction()` is an *instance method*:\r\n\r\n```\r\nFunction&lt;Integer, Integer&gt; func = objectName::mapFunction;\r\n```\r\nWhere `objectName` is the name of an instance of a class in which `mapFunction()` method resides.\r\n\r\nAnd the overall stream pipeline would look like that:\r\n\r\n```java\r\nList&lt;Integer&gt; result = numbers.stream()\r\n    .map(ClassName::mapFunction)     // or `objectName::mapFunction` if `mapFunction()` is an instance method\r\n    .collect(Collectors.toList());   // or `.toList()` for Java 16+\r\n```","title":"How to apply Direct function in Stream.map() like in JavaScript","body":"<p><code>Stream.map()</code> in Java is not an equivalent of <code>Array.map()</code> in JavaScript, which immediately produces another array (dynamic array).</p>\n<h3>Streams</h3>\n<p>Firstly, there's a notion of <strong>Stream</strong> which is a sequence of elements supporting sequential and parallel aggregate operations. It's not a container of data, but the mean of iteration.</p>\n<p>A <em>Stream</em> has a <em>source</em>, can potentially have some <em>intermediate operations</em> (they are optional), and a single <em>terminal operation</em>, which triggers the execution of the stream.</p>\n<p>A stream-source can be a collection or an array, a string, or a generator function like <code>Random.ints()</code>. During stream execution, elements are being lazily from the source one by one and each operation in the stream pipeline would be applied on a particular element only if it's needed.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>map()</code></a> - is an <em>intermediate operation</em>, i.e. produces another stream - <code>Stream&lt;R&gt;</code>. It's mean to transform the elements of the stream and expects a function that does this transformation, but doesn't produce the result.</p>\n<p>In order to obtain the result, we need to apply a <em>terminal operation</em>, i.e. an operation that consumes a stream and produces a value. To generate  a list from the result, we have two options: apply <code>collect()</code> by passing a built-in <em>collector</em> <code>toList()</code> as an argument, or make use of Java 16 method <code>toList()</code> which produces an immutable list.</p>\n<h3>Java Functions</h3>\n<p>As well as <em>methods</em> in Java are not completely as functions in JavaScript where they <a href=\"https://en.wikipedia.org/wiki/First-class_citizen\" rel=\"nofollow noreferrer\"><em>first class citizens</em></a> (Java methods are not), <em>Java 8 functions</em> are not the same as methods.</p>\n<p>Java 8 functions can be expressed either as <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\"><strong>Lambda expressions</strong></a> or <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\"><strong>Method references</strong></a>.</p>\n<p>In short, there's no same kind of <em>functional type</em>, instead we have a notion of a <strong>Functional interface</strong>, which is an interface that has only one abstract method. And both <em>lambda expressions</em> and <em>method references</em> should conform to a <em>functional interface</em>, i.e. they provide implementation to a particular <em>functional interface</em>.</p>\n<p>So there are two ways in which you can create your <code>Function</code>.</p>\n<p>As a lambda:</p>\n<pre><code>Function&lt;Integer, Integer&gt; func = i -&gt; mapFunction(i);\n</code></pre>\n<p>Or as a <em>method reference</em> (since you have this functionality already implemented as a method).</p>\n<p>If method <code>mapFunction()</code> is <code>static</code>:</p>\n<pre><code>Function&lt;Integer, Integer&gt; func = ClassName::mapFunction; // \n</code></pre>\n<p>Where <code>ClassName</code> is the name of a class in which <code>mapFunction()</code> method resides.</p>\n<p>In case if <code>mapFunction()</code> is an <em>instance method</em>:</p>\n<pre><code>Function&lt;Integer, Integer&gt; func = objectName::mapFunction;\n</code></pre>\n<p>Where <code>objectName</code> is the name of an instance of a class in which <code>mapFunction()</code> method resides.</p>\n<p>And the overall stream pipeline would look like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; result = numbers.stream()\n    .map(ClassName::mapFunction)     // or `objectName::mapFunction` if `mapFunction()` is an instance method\n    .collect(Collectors.toList());   // or `.toList()` for Java 16+\n</code></pre>\n"}],"owner":{"account_id":18404829,"reputation":37,"user_id":13406904,"display_name":"BAPF123"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1098,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73208880,"answer_count":2,"score":2,"last_activity_date":1659489960,"creation_date":1659407108,"question_id":73201368,"body_markdown":"Have a question, when I use a stream map in Java I have to be explicit with the lambda. Suppose I have this mapper function:\r\n\r\n\tpublic static Integer mapFunction(Integer number){\r\n\t\treturn number + 3;\r\n\t}\r\n\r\nAnd then I want to apply it to a certain List, I have to do this:\r\n\r\n    myList.stream().map(element -&gt; mapFunction(element))\r\n\r\nSo my question is if I can do something similar to what can be done in JavaScript, like\r\n    \r\n    myList.map(mapFunction)\r\n\r\nLike pass the function directly to it without having explicitly tell it to do it for each element.\r\n\r\nThanks in advance! \r\n\r\n","title":"How to apply Direct function in Stream.map() like in JavaScript","body":"<p>Have a question, when I use a stream map in Java I have to be explicit with the lambda. Suppose I have this mapper function:</p>\n<pre><code>public static Integer mapFunction(Integer number){\n    return number + 3;\n}\n</code></pre>\n<p>And then I want to apply it to a certain List, I have to do this:</p>\n<pre><code>myList.stream().map(element -&gt; mapFunction(element))\n</code></pre>\n<p>So my question is if I can do something similar to what can be done in JavaScript, like</p>\n<pre><code>myList.map(mapFunction)\n</code></pre>\n<p>Like pass the function directly to it without having explicitly tell it to do it for each element.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1315494180,"creation_date":1315494180,"answer_id":7350206,"question_id":7350173,"body_markdown":"Simply put, &quot;val1&quot; and &quot;val2&quot; are pointers to the actual array.  You&#39;re assigning val2 to point to the same array as val1.  Therefore, change one, and the other sees the same change.  To have it truly be a copy, you&#39;d have to clone the array instead of assigning.","title":"Problem with assigning an array to other array in Java","body":"<p>Simply put, \"val1\" and \"val2\" are pointers to the actual array.  You're assigning val2 to point to the same array as val1.  Therefore, change one, and the other sees the same change.  To have it truly be a copy, you'd have to clone the array instead of assigning.</p>\n"},{"tags":[],"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315494251,"creation_date":1315494251,"answer_id":7350234,"question_id":7350173,"body_markdown":"Because you assign a reference of `val1` to `val2`, so they both point to the same object in the memory.","title":"Problem with assigning an array to other array in Java","body":"<p>Because you assign a reference of <code>val1</code> to <code>val2</code>, so they both point to the same object in the memory.</p>\n"},{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1315494801,"creation_date":1315494318,"answer_id":7350249,"question_id":7350173,"body_markdown":"The following statement makes `val2` refer to the same array as `val1`:\r\n\r\n    int[] val2 = val1;\r\n\r\nIf you want to make a copy, you could use `val1.clone()` or [`Arrays.copyOf()`][1]:\r\n\r\n    int[] val2 = Arrays.copyOf(val1, val1.length);\r\n\r\nObjects (including instances of collection classes, `String`, `Integer` etc) work in a similar manner, in that assigning one variable to another simply copies the reference, making both variables refer to the same object. If the object in question is mutable, then subsequent modifications made to its contents via one of the variables will also be visible through the other.\r\n\r\nPrimitive types (`int`, `double` etc) behave differently: there are no references involved and assignment makes a copy of the value.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#copyOf%28int%5B%5D,%20int%29","title":"Problem with assigning an array to other array in Java","body":"<p>The following statement makes <code>val2</code> refer to the same array as <code>val1</code>:</p>\n\n<pre><code>int[] val2 = val1;\n</code></pre>\n\n<p>If you want to make a copy, you could use <code>val1.clone()</code> or <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#copyOf%28int%5B%5D,%20int%29\" rel=\"noreferrer\"><code>Arrays.copyOf()</code></a>:</p>\n\n<pre><code>int[] val2 = Arrays.copyOf(val1, val1.length);\n</code></pre>\n\n<p>Objects (including instances of collection classes, <code>String</code>, <code>Integer</code> etc) work in a similar manner, in that assigning one variable to another simply copies the reference, making both variables refer to the same object. If the object in question is mutable, then subsequent modifications made to its contents via one of the variables will also be visible through the other.</p>\n\n<p>Primitive types (<code>int</code>, <code>double</code> etc) behave differently: there are no references involved and assignment makes a copy of the value.</p>\n"},{"tags":[],"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1315496987,"creation_date":1315496987,"answer_id":7350899,"question_id":7350173,"body_markdown":"Because arrays in Java are objects, i.e. passed by reference.","title":"Problem with assigning an array to other array in Java","body":"<p>Because arrays in Java are objects, i.e. passed by reference.</p>\n"}],"owner":{"account_id":265510,"reputation":8275,"user_id":552521,"accept_rate":78,"display_name":"Abhishek Choudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57388,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":7350249,"answer_count":4,"score":21,"last_activity_date":1659489388,"creation_date":1315494057,"question_id":7350173,"body_markdown":"    public class TestingArray {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint iCheck = 10;\r\n    \t\tint j = iCheck;\r\n    \t\tj = 11;\r\n    \t\tSystem.err.println(&quot;value of iCheck &quot;+iCheck);\r\n    \r\n    \t\tint[] val1 = {1,2,9,4,5,6,7};\r\n    \t\tint[] val2 = val1;\r\n    \t\tval2[0] = 200;\r\n    \t\tSystem.err.println(&quot;Array Value &quot;+val1[0]);\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n&gt; **value of iCheck 10   \r\n&gt; Array Value 200**\r\n\r\nFrom the above code, I found that if any array `val2` is being assigned to another array `val1` and if we change any value of `val2` array, the result is as well reflected for the array `val1` while the same scenario is not with variable assignment.\r\nWhy?\r\n","title":"Problem with assigning an array to other array in Java","body":"<pre><code>public class TestingArray {\n\n    public static void main(String[] args) {\n\n        int iCheck = 10;\n        int j = iCheck;\n        j = 11;\n        System.err.println(\"value of iCheck \"+iCheck);\n\n        int[] val1 = {1,2,9,4,5,6,7};\n        int[] val2 = val1;\n        val2[0] = 200;\n        System.err.println(\"Array Value \"+val1[0]);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p><strong>value of iCheck 10<br>\n  Array Value 200</strong></p>\n</blockquote>\n\n<p>From the above code, I found that if any array <code>val2</code> is being assigned to another array <code>val1</code> and if we change any value of <code>val2</code> array, the result is as well reflected for the array <code>val1</code> while the same scenario is not with variable assignment.\nWhy?</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"score":2,"creation_date":1659441919,"post_id":73207175,"comment_id":129291112,"body_markdown":"please elaborte more, because it is unclear what you really ask and what is the exact problem you try to solve.","body":"please elaborte more, because it is unclear what you really ask and what is the exact problem you try to solve."},{"owner":{"account_id":16660164,"reputation":11,"user_id":12040329,"display_name":"Sun"},"score":0,"creation_date":1659489626,"post_id":73207175,"comment_id":129305381,"body_markdown":"how java find real path of dependency JAR archives?","body":"how java find real path of dependency JAR archives?"}],"owner":{"account_id":16660164,"reputation":11,"user_id":12040329,"display_name":"Sun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1659442438,"answer_count":0,"score":1,"last_activity_date":1659489311,"creation_date":1659441563,"question_id":73207175,"body_markdown":"how java find real path of dependency jar files? ","title":"how java find real path of dependency jar file?","body":"<p>how java find real path of dependency jar files?</p>\n"},{"tags":["java","data-structures","hashmap","iterator","priority-queue"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659489248,"creation_date":1658720003,"answer_id":73103792,"question_id":73099994,"body_markdown":"&gt; which will also guarantee ordered iteration and should work in a\r\n&gt; **multi-threaded** environment.\r\n\r\nFirstly, let&#39;s start with a single-threaded implementation and then expand it.\r\n\r\n***Disclaimer:** I don&#39;t treat this problem as having practical application, but rather as a project having a value from the educational perspective.*\r\n\r\n*The rationale behind this remark would be clear if we enumerate the time complexities of the operations available with this custom Collection in comperison with* `TreeMap`:\r\n* `iterator()` - **O(n * log n)** (worse than `TreeMap`);\r\n* `remove()` - **O(n)** (worse than `TreeMap`);\r\n* `poll()` - **O(log n)**;\r\n* `put()` - **O(log n)**;\r\n* `peek()` - **O(1)**;\r\n* `get()` - **O(1)** (better than `TreeMap`).\r\n\r\n*Operations with* `Iterator`:\r\n* `next()` - **O(log n)**  (worse than iterator returned by the `TreeSet`);\r\n* `hasNext()` - **O(1)**;\r\n* iterating over the all keys - **O(n * log n)**.\r\n\r\n`get()` - *is the **only** method in this collection that performs better then corresponding methods of the* `TreeMap`. *All the rest have the same or even worse performance due to being effected by the ovehead of maintaining the* `PriorityQueue` *which has a logorithmic time complexity for enqueuing and dequeuing methods.*\r\n\r\n&lt;h1&gt;Favor Composition over Inheritance&lt;/h1&gt;\r\n\r\nWhen you need to be able to use the functionality of a particular class in another class, inheritance isn&#39;t the first approach you have to think about, rather the last resort.\r\n\r\nWhy? Inheritance creates **tight coupling**, like in the code you&#39;ve provided your new Collection happens to be completely dependent on the implementation of `HashMap`.\r\n\r\nIn fact, your custom class is broken. You didn&#39;t override all the methods that allow to modify the map structurally, for instance `compute()`, `merge()`, etc. But there&#39;s more to that, since it&#39;s a subclass of `HashMap`, it can be altered by removing elements from the collection of values obtained via `values()` or by removing the entries from the entry set, in these case there would be not possible to change the `PriorityQueue` accordingly.\r\n\r\nSure, `values()` and `entrySet()` can be overridden by making them return unmodifiable collections. So it turns out you need override almost each and every method. And nevertheless a new functionality which can be introduced in the future or changes of the existing methods might break your code.\r\n\r\nFor more information on that see the Item &quot;Favor composition over inheritance&quot; of the *&quot;Effective Java&quot;* by *Joshua Bloch* (former Sun-employee which has developed many features of Java including Collections framework).\r\n\r\nThe better approach would be to use Composition, i.e. replace *IS-A* relationship with *HAS-A* relationship by creating a class that uses a `HashMap`, i.e. has a field of type `HashMap`, rather than being a `HashMap` itself. And that would be a [*Loose coupling*](https://en.wikipedia.org/wiki/Loose_coupling) because your Collection no longer depends on the `HashMap` implementation, methods of your collection would delegate calls to the `HashMap` allowing it to do whatever it does internally.\r\n\r\nYou are not bound with any contracts and can expose only a limited number of methods that allow to interact with your Collection.\r\n\r\n***Note** that unfortunately you can&#39;t implement `Map` interface because it might cause problems if interface would be extended.*\r\n\r\nThat how it might be implemented:\r\n\r\n```\r\nclass HashPriorityQueueNonSync&lt;K, V&gt; implements Iterable&lt;Map.Entry&lt;K, V&gt;&gt; {\r\n    \r\n    private final PriorityQueue&lt;K&gt; queue;\r\n    private final Map&lt;K, V&gt; map = new HashMap&lt;&gt;();\r\n    private int modCount = 0;\r\n    \r\n    /* CONSTRUCTORS */\r\n    \r\n    public HashPriorityQueueNonSync(Comparator&lt;K&gt; comparator) {\r\n        queue = new PriorityQueue&lt;&gt;(comparator);\r\n    }\r\n    \r\n    public HashPriorityQueueNonSync() {\r\n        queue = new PriorityQueue&lt;&gt;();\r\n    }\r\n    \r\n    /* QUEUE METHODS */\r\n    \r\n    public Map.Entry&lt;K, V&gt; poll() {\r\n        modCount++;\r\n        K key = queue.poll();\r\n        V val = remove(key);\r\n        return Map.entry(key, val);\r\n    }\r\n    \r\n    public Map.Entry&lt;K, V&gt; peek() {\r\n        K key = queue.peek();\r\n        V val = map.get(key);\r\n        return Map.entry(key, val);\r\n    }\r\n    \r\n    /* MAP METHODS */\r\n    \r\n    public V get(Object key) {\r\n        return map.get(key);\r\n    }\r\n    \r\n    public V put(K key, V value) {\r\n        modCount++;\r\n        queue.add(key);\r\n        return map.put(key, value);\r\n    }\r\n    \r\n    public V remove(Object key) {\r\n        modCount++;\r\n        queue.remove(key);\r\n        return map.remove(key);\r\n    }\r\n    \r\n    public V remove(Map.Entry&lt;K, V&gt; entry) {\r\n        modCount++;\r\n        queue.remove(entry.getKey());\r\n        return map.remove(entry.getKey());\r\n    }\r\n    \r\n    @Override\r\n    public Iterator&lt;Map.Entry&lt;K, V&gt;&gt; iterator() {\r\n        return new PriorityIterator();\r\n    }\r\n    \r\n    private class PriorityIterator implements Iterator&lt;Map.Entry&lt;K, V&gt;&gt; {\r\n        private PriorityQueue&lt;K&gt; keys;\r\n        private K cursor;\r\n        private final int expectedModCount;\r\n        \r\n        public PriorityIterator() {\r\n            this.keys = new PriorityQueue&lt;&gt;(HashPriorityQueueNonSync.this.queue);\r\n            this.expectedModCount = HashPriorityQueueNonSync.this.modCount;\r\n        }\r\n        \r\n        @Override\r\n        public boolean hasNext() {\r\n            return !keys.isEmpty();\r\n        }\r\n        \r\n        @Override\r\n        public Map.Entry&lt;K, V&gt; next() {\r\n            if (expectedModCount != modCount) {\r\n                throw new ConcurrentModificationException();\r\n            }\r\n            cursor = keys.poll();\r\n            V v = HashPriorityQueueNonSync.this.get(cursor);\r\n            return Map.entry(cursor, v);\r\n        }\r\n        \r\n        @Override\r\n        public void remove() {\r\n            if (expectedModCount != modCount) {\r\n                throw new ConcurrentModificationException();\r\n            }\r\n            HashPriorityQueueNonSync.this.remove(cursor);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n&lt;h3&gt;How to prevent Structural modification during Iteration&lt;/h3&gt;\r\n\r\nThe common practice to ensure that iterator would reflect the actual state of the collection is to introduce two counters of modifications: one as the instance field of the collection (`modCount` in the code above), another in the `Iterator` (`expectedModCount`).\r\n\r\nWhen these variables are not equal, that means that there has been a modification after the iterator was created that was done other than the means of iterator. All the implementations of `Iterator` from the JDK would throw `ConcurrentModificationException` in such a case.\r\n\r\n&lt;h1&gt;Concurrent implementation&lt;/h1&gt;\r\n\r\nFirst of all, there two concepts to consider:\r\n\r\n* **Atomicity** - when a thread is modifying the state of an object (in this case changes the underlying queue and map of the custom collection), all other threads can not observe intermediate changes, they can see either *both* queue and map fully modified or not. We can ensure that all actions on both queue and map would occur atomically by using `synchronized` keyword on methods of this custom Collection. The approach shown below is very basic and can be observed in legacy collections like `Vector` and `Hashtable`, but because under the hood we have two separate underlying collections which need to be accessed atomically it hard apply anything more neat than `synchronized`.\r\n\r\n* [**Happens-before Order**](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5) - describes visibility of subsequent changes. If one action happens-before another, then the first is visible to and ordered before the second. One of the ways to ensure this is by using the `volatile` keyword.\r\n\r\n***Note** that methods of the iterator doesn&#39;t require synchronization (it&#39;s mean to be used withing a single thread only), but we need to synchronize the method of the collection responsible for obtaining the iterator.*\r\n\r\nThat&#39;s how concurrent implementation might look like:\r\n\r\n```\r\npublic class HashPriorityQueue&lt;K, V&gt; implements Iterable&lt;Map.Entry&lt;K, V&gt;&gt; {\r\n\r\n    private final PriorityQueue&lt;K&gt; queue;\r\n    private final Map&lt;K, V&gt; map = new HashMap&lt;&gt;();\r\n    private volatile int modCount = 0;\r\n    \r\n    /* CONSTRUCTORS */\r\n    \r\n    public HashPriorityQueue(Comparator&lt;K&gt; comparator) {\r\n        queue = new PriorityQueue&lt;&gt;(comparator);\r\n    }\r\n    \r\n    public HashPriorityQueue() {\r\n        queue = new PriorityQueue&lt;&gt;();\r\n    }\r\n    \r\n    /* QUEUE METHODS */\r\n    \r\n    public synchronized Map.Entry&lt;K, V&gt; poll() {\r\n        modCount++;\r\n        K key = queue.poll();\r\n        V val = remove(key);\r\n        return Map.entry(key, val);\r\n    }\r\n    \r\n    public synchronized Map.Entry&lt;K, V&gt; peek() {\r\n        K key = queue.peek();\r\n        V val = map.get(key);\r\n        return Map.entry(key, val);\r\n    }\r\n    \r\n    /* MAP METHODS */\r\n    \r\n    public synchronized V get(Object key) {\r\n        return map.get(key);\r\n    }\r\n    \r\n    public synchronized V put(K key, V value) {\r\n        modCount++;\r\n        queue.add(key);\r\n        return map.put(key, value);\r\n    }\r\n    \r\n    public synchronized V remove(Object key) {\r\n        modCount++;\r\n        queue.remove(key);\r\n        return map.remove(key);\r\n    }\r\n    \r\n    public synchronized V remove(Map.Entry&lt;K, V&gt; entry) {\r\n        modCount++;\r\n        queue.remove(entry.getKey());\r\n        return map.remove(entry.getKey());\r\n    }\r\n    \r\n    @Override\r\n    public synchronized Iterator&lt;Map.Entry&lt;K, V&gt;&gt; iterator() {\r\n        return new PriorityIterator();\r\n    }\r\n    \r\n    private class PriorityIterator implements Iterator&lt;Map.Entry&lt;K, V&gt;&gt; {\r\n        private PriorityQueue&lt;K&gt; keys;\r\n        private K cursor;\r\n        private final int expectedModCount;\r\n        \r\n        public PriorityIterator() {\r\n            this.keys = new PriorityQueue&lt;&gt;(HashPriorityQueue.this.queue);\r\n            this.expectedModCount = HashPriorityQueue.this.modCount;\r\n        }\r\n        \r\n        @Override\r\n        public boolean hasNext() {\r\n            return !keys.isEmpty();\r\n        }\r\n        \r\n        @Override\r\n        public Map.Entry&lt;K, V&gt; next() {\r\n            if (expectedModCount != modCount) {\r\n                throw new ConcurrentModificationException();\r\n            }\r\n            cursor = keys.poll();\r\n            V v = HashPriorityQueue.this.get(cursor);\r\n            return Map.entry(cursor, v);\r\n        }\r\n        \r\n        @Override\r\n        public void remove() {\r\n            if (expectedModCount != modCount) {\r\n                throw new ConcurrentModificationException();\r\n            }\r\n            HashPriorityQueue.this.remove(cursor);\r\n        }\r\n    }\r\n}\r\n```\r\n&lt;h3&gt;A very small Test&lt;/h3&gt;\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        HashPriorityQueue&lt;Integer, Integer&gt; hpq = new HashPriorityQueue&lt;&gt;();\r\n    \r\n        ExecutorService executor = Executors.newFixedThreadPool(3);\r\n    \r\n        executor.submit(() -&gt; { for (int i = 3; i &lt; 7; i++) hpq.put(i, 1 &lt;&lt; i); });\r\n        executor.submit(() -&gt; { for (int i = 0; i &lt; 3; i++) hpq.put(i, 1 &lt;&lt; i); });\r\n        executor.submit(() -&gt; { for (int i = 7; i &lt; 10; i++) hpq.put(i, 1 &lt;&lt; i); });\r\n    \r\n        try {\r\n            executor.awaitTermination(3, TimeUnit.SECONDS);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        executor.shutdown();\r\n        \r\n        hpq.forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n```\r\n0=1\r\n1=2\r\n2=4\r\n3=8\r\n4=16\r\n5=32\r\n6=64\r\n7=128\r\n8=256\r\n9=512\r\n```","title":"Implementing Iterator of the custom Collection backed by PriorityQueue and HashMap","body":"<blockquote>\n<p>which will also guarantee ordered iteration and should work in a\n<strong>multi-threaded</strong> environment.</p>\n</blockquote>\n<p>Firstly, let's start with a single-threaded implementation and then expand it.</p>\n<p><em><strong>Disclaimer:</strong> I don't treat this problem as having practical application, but rather as a project having a value from the educational perspective.</em></p>\n<p><em>The rationale behind this remark would be clear if we enumerate the time complexities of the operations available with this custom Collection in comperison with</em> <code>TreeMap</code>:</p>\n<ul>\n<li><code>iterator()</code> - <strong>O(n * log n)</strong> (worse than <code>TreeMap</code>);</li>\n<li><code>remove()</code> - <strong>O(n)</strong> (worse than <code>TreeMap</code>);</li>\n<li><code>poll()</code> - <strong>O(log n)</strong>;</li>\n<li><code>put()</code> - <strong>O(log n)</strong>;</li>\n<li><code>peek()</code> - <strong>O(1)</strong>;</li>\n<li><code>get()</code> - <strong>O(1)</strong> (better than <code>TreeMap</code>).</li>\n</ul>\n<p><em>Operations with</em> <code>Iterator</code>:</p>\n<ul>\n<li><code>next()</code> - <strong>O(log n)</strong>  (worse than iterator returned by the <code>TreeSet</code>);</li>\n<li><code>hasNext()</code> - <strong>O(1)</strong>;</li>\n<li>iterating over the all keys - <strong>O(n * log n)</strong>.</li>\n</ul>\n<p><code>get()</code> - <em>is the <strong>only</strong> method in this collection that performs better then corresponding methods of the</em> <code>TreeMap</code>. <em>All the rest have the same or even worse performance due to being effected by the ovehead of maintaining the</em> <code>PriorityQueue</code> <em>which has a logorithmic time complexity for enqueuing and dequeuing methods.</em></p>\n<h1>Favor Composition over Inheritance</h1>\n<p>When you need to be able to use the functionality of a particular class in another class, inheritance isn't the first approach you have to think about, rather the last resort.</p>\n<p>Why? Inheritance creates <strong>tight coupling</strong>, like in the code you've provided your new Collection happens to be completely dependent on the implementation of <code>HashMap</code>.</p>\n<p>In fact, your custom class is broken. You didn't override all the methods that allow to modify the map structurally, for instance <code>compute()</code>, <code>merge()</code>, etc. But there's more to that, since it's a subclass of <code>HashMap</code>, it can be altered by removing elements from the collection of values obtained via <code>values()</code> or by removing the entries from the entry set, in these case there would be not possible to change the <code>PriorityQueue</code> accordingly.</p>\n<p>Sure, <code>values()</code> and <code>entrySet()</code> can be overridden by making them return unmodifiable collections. So it turns out you need override almost each and every method. And nevertheless a new functionality which can be introduced in the future or changes of the existing methods might break your code.</p>\n<p>For more information on that see the Item &quot;Favor composition over inheritance&quot; of the <em>&quot;Effective Java&quot;</em> by <em>Joshua Bloch</em> (former Sun-employee which has developed many features of Java including Collections framework).</p>\n<p>The better approach would be to use Composition, i.e. replace <em>IS-A</em> relationship with <em>HAS-A</em> relationship by creating a class that uses a <code>HashMap</code>, i.e. has a field of type <code>HashMap</code>, rather than being a <code>HashMap</code> itself. And that would be a <a href=\"https://en.wikipedia.org/wiki/Loose_coupling\" rel=\"nofollow noreferrer\"><em>Loose coupling</em></a> because your Collection no longer depends on the <code>HashMap</code> implementation, methods of your collection would delegate calls to the <code>HashMap</code> allowing it to do whatever it does internally.</p>\n<p>You are not bound with any contracts and can expose only a limited number of methods that allow to interact with your Collection.</p>\n<p><em><strong>Note</strong> that unfortunately you can't implement <code>Map</code> interface because it might cause problems if interface would be extended.</em></p>\n<p>That how it might be implemented:</p>\n<pre><code>class HashPriorityQueueNonSync&lt;K, V&gt; implements Iterable&lt;Map.Entry&lt;K, V&gt;&gt; {\n    \n    private final PriorityQueue&lt;K&gt; queue;\n    private final Map&lt;K, V&gt; map = new HashMap&lt;&gt;();\n    private int modCount = 0;\n    \n    /* CONSTRUCTORS */\n    \n    public HashPriorityQueueNonSync(Comparator&lt;K&gt; comparator) {\n        queue = new PriorityQueue&lt;&gt;(comparator);\n    }\n    \n    public HashPriorityQueueNonSync() {\n        queue = new PriorityQueue&lt;&gt;();\n    }\n    \n    /* QUEUE METHODS */\n    \n    public Map.Entry&lt;K, V&gt; poll() {\n        modCount++;\n        K key = queue.poll();\n        V val = remove(key);\n        return Map.entry(key, val);\n    }\n    \n    public Map.Entry&lt;K, V&gt; peek() {\n        K key = queue.peek();\n        V val = map.get(key);\n        return Map.entry(key, val);\n    }\n    \n    /* MAP METHODS */\n    \n    public V get(Object key) {\n        return map.get(key);\n    }\n    \n    public V put(K key, V value) {\n        modCount++;\n        queue.add(key);\n        return map.put(key, value);\n    }\n    \n    public V remove(Object key) {\n        modCount++;\n        queue.remove(key);\n        return map.remove(key);\n    }\n    \n    public V remove(Map.Entry&lt;K, V&gt; entry) {\n        modCount++;\n        queue.remove(entry.getKey());\n        return map.remove(entry.getKey());\n    }\n    \n    @Override\n    public Iterator&lt;Map.Entry&lt;K, V&gt;&gt; iterator() {\n        return new PriorityIterator();\n    }\n    \n    private class PriorityIterator implements Iterator&lt;Map.Entry&lt;K, V&gt;&gt; {\n        private PriorityQueue&lt;K&gt; keys;\n        private K cursor;\n        private final int expectedModCount;\n        \n        public PriorityIterator() {\n            this.keys = new PriorityQueue&lt;&gt;(HashPriorityQueueNonSync.this.queue);\n            this.expectedModCount = HashPriorityQueueNonSync.this.modCount;\n        }\n        \n        @Override\n        public boolean hasNext() {\n            return !keys.isEmpty();\n        }\n        \n        @Override\n        public Map.Entry&lt;K, V&gt; next() {\n            if (expectedModCount != modCount) {\n                throw new ConcurrentModificationException();\n            }\n            cursor = keys.poll();\n            V v = HashPriorityQueueNonSync.this.get(cursor);\n            return Map.entry(cursor, v);\n        }\n        \n        @Override\n        public void remove() {\n            if (expectedModCount != modCount) {\n                throw new ConcurrentModificationException();\n            }\n            HashPriorityQueueNonSync.this.remove(cursor);\n        }\n    }\n}\n</code></pre>\n<h3>How to prevent Structural modification during Iteration</h3>\n<p>The common practice to ensure that iterator would reflect the actual state of the collection is to introduce two counters of modifications: one as the instance field of the collection (<code>modCount</code> in the code above), another in the <code>Iterator</code> (<code>expectedModCount</code>).</p>\n<p>When these variables are not equal, that means that there has been a modification after the iterator was created that was done other than the means of iterator. All the implementations of <code>Iterator</code> from the JDK would throw <code>ConcurrentModificationException</code> in such a case.</p>\n<h1>Concurrent implementation</h1>\n<p>First of all, there two concepts to consider:</p>\n<ul>\n<li><p><strong>Atomicity</strong> - when a thread is modifying the state of an object (in this case changes the underlying queue and map of the custom collection), all other threads can not observe intermediate changes, they can see either <em>both</em> queue and map fully modified or not. We can ensure that all actions on both queue and map would occur atomically by using <code>synchronized</code> keyword on methods of this custom Collection. The approach shown below is very basic and can be observed in legacy collections like <code>Vector</code> and <code>Hashtable</code>, but because under the hood we have two separate underlying collections which need to be accessed atomically it hard apply anything more neat than <code>synchronized</code>.</p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\"><strong>Happens-before Order</strong></a> - describes visibility of subsequent changes. If one action happens-before another, then the first is visible to and ordered before the second. One of the ways to ensure this is by using the <code>volatile</code> keyword.</p>\n</li>\n</ul>\n<p><em><strong>Note</strong> that methods of the iterator doesn't require synchronization (it's mean to be used withing a single thread only), but we need to synchronize the method of the collection responsible for obtaining the iterator.</em></p>\n<p>That's how concurrent implementation might look like:</p>\n<pre><code>public class HashPriorityQueue&lt;K, V&gt; implements Iterable&lt;Map.Entry&lt;K, V&gt;&gt; {\n\n    private final PriorityQueue&lt;K&gt; queue;\n    private final Map&lt;K, V&gt; map = new HashMap&lt;&gt;();\n    private volatile int modCount = 0;\n    \n    /* CONSTRUCTORS */\n    \n    public HashPriorityQueue(Comparator&lt;K&gt; comparator) {\n        queue = new PriorityQueue&lt;&gt;(comparator);\n    }\n    \n    public HashPriorityQueue() {\n        queue = new PriorityQueue&lt;&gt;();\n    }\n    \n    /* QUEUE METHODS */\n    \n    public synchronized Map.Entry&lt;K, V&gt; poll() {\n        modCount++;\n        K key = queue.poll();\n        V val = remove(key);\n        return Map.entry(key, val);\n    }\n    \n    public synchronized Map.Entry&lt;K, V&gt; peek() {\n        K key = queue.peek();\n        V val = map.get(key);\n        return Map.entry(key, val);\n    }\n    \n    /* MAP METHODS */\n    \n    public synchronized V get(Object key) {\n        return map.get(key);\n    }\n    \n    public synchronized V put(K key, V value) {\n        modCount++;\n        queue.add(key);\n        return map.put(key, value);\n    }\n    \n    public synchronized V remove(Object key) {\n        modCount++;\n        queue.remove(key);\n        return map.remove(key);\n    }\n    \n    public synchronized V remove(Map.Entry&lt;K, V&gt; entry) {\n        modCount++;\n        queue.remove(entry.getKey());\n        return map.remove(entry.getKey());\n    }\n    \n    @Override\n    public synchronized Iterator&lt;Map.Entry&lt;K, V&gt;&gt; iterator() {\n        return new PriorityIterator();\n    }\n    \n    private class PriorityIterator implements Iterator&lt;Map.Entry&lt;K, V&gt;&gt; {\n        private PriorityQueue&lt;K&gt; keys;\n        private K cursor;\n        private final int expectedModCount;\n        \n        public PriorityIterator() {\n            this.keys = new PriorityQueue&lt;&gt;(HashPriorityQueue.this.queue);\n            this.expectedModCount = HashPriorityQueue.this.modCount;\n        }\n        \n        @Override\n        public boolean hasNext() {\n            return !keys.isEmpty();\n        }\n        \n        @Override\n        public Map.Entry&lt;K, V&gt; next() {\n            if (expectedModCount != modCount) {\n                throw new ConcurrentModificationException();\n            }\n            cursor = keys.poll();\n            V v = HashPriorityQueue.this.get(cursor);\n            return Map.entry(cursor, v);\n        }\n        \n        @Override\n        public void remove() {\n            if (expectedModCount != modCount) {\n                throw new ConcurrentModificationException();\n            }\n            HashPriorityQueue.this.remove(cursor);\n        }\n    }\n}\n</code></pre>\n<h3>A very small Test</h3>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    HashPriorityQueue&lt;Integer, Integer&gt; hpq = new HashPriorityQueue&lt;&gt;();\n\n    ExecutorService executor = Executors.newFixedThreadPool(3);\n\n    executor.submit(() -&gt; { for (int i = 3; i &lt; 7; i++) hpq.put(i, 1 &lt;&lt; i); });\n    executor.submit(() -&gt; { for (int i = 0; i &lt; 3; i++) hpq.put(i, 1 &lt;&lt; i); });\n    executor.submit(() -&gt; { for (int i = 7; i &lt; 10; i++) hpq.put(i, 1 &lt;&lt; i); });\n\n    try {\n        executor.awaitTermination(3, TimeUnit.SECONDS);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    executor.shutdown();\n    \n    hpq.forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>0=1\n1=2\n2=4\n3=8\n4=16\n5=32\n6=64\n7=128\n8=256\n9=512\n</code></pre>\n"}],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":73103792,"answer_count":1,"score":2,"last_activity_date":1659489248,"creation_date":1658678794,"question_id":73099994,"body_markdown":"I&#39;ve implemented **`HashPriorityQueue`** class, which combines `HashMap` (for fast lookup) and `PriorityQueue` (for sorting the data).\r\n\r\nAnother improvement I made is to guarantee ordered iteration.\r\nBecause `PriorityQueue` does not promise such a thing, from [JavaDocs][1]:\r\n&gt; The Iterator provided in method `iterator()` is not guaranteed to traverse the elements of the priority queue in any particular order.\r\n\r\nI also want to guarantee ordered iteration and should work in a **multithreaded** environment.\r\n\r\nTo make `HashPriorityQueue` class work I&#39;ve already done the following steps:\r\n\r\n * Extended `HashMap` class.\r\n * Added a `private` field `PriorityQueue`.\r\n * Override all the methods that change the values of the `HashMap` so that I can add and remove values from my queue.\r\n * Added queue-related methods: `poll()` and `peek()`.\r\n * Add an implementation of a custom `Iterator` for this new data structure that internally makes a copy of the *queue* and uses `poll()` in the `next()` method to maintain ordered iteration.\r\n\r\n*Code:*\r\n```java \r\npublic class HashPriorityQueue&lt;K, V&gt; extends HashMap&lt;K, V&gt; implements Iterable&lt;AbstractMap.SimpleEntry&lt;K, V&gt;&gt;{\r\n    private final PriorityQueue&lt;K&gt; queue;\r\n\r\n    /* CONSTRUCTORS */\r\n\r\n    public HashPriorityQueue(Comparator&lt;K&gt; comparator) {\r\n        queue = new PriorityQueue(comparator);\r\n    }\r\n\r\n    public HashPriorityQueue() {\r\n        queue = new PriorityQueue();\r\n    }\r\n\r\n\r\n    /* QUEUE METHODS */\r\n\r\n    public AbstractMap.SimpleEntry&lt;K, V&gt; poll() {\r\n        K key = queue.poll();\r\n        V val = remove(key);\r\n        return new AbstractMap.SimpleEntry&lt;K, V&gt;(key, val);\r\n    }\r\n\r\n    public AbstractMap.SimpleEntry&lt;K, V&gt; peek() {\r\n        K key = queue.peek();\r\n        V val = get(key);\r\n        return new AbstractMap.SimpleEntry&lt;K, V&gt;(key, val);\r\n    }\r\n\r\n    @Override\r\n    public V remove(Object key) {\r\n        queue.remove(key);\r\n        return super.remove(key);\r\n    }\r\n\r\n    public V remove(AbstractMap.SimpleEntry&lt;V, K&gt; entry) {\r\n        return remove(entry.getKey());\r\n    }\r\n\r\n\r\n    @Override\r\n    public V put(K key, V value) {\r\n        queue.add(key);\r\n        return super.put(key, value);\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;AbstractMap.SimpleEntry&lt;K, V&gt;&gt; iterator() {\r\n        return new PriorityIterator();\r\n    }\r\n\r\n\r\n\r\n    private class PriorityIterator implements Iterator&lt;AbstractMap.SimpleEntry&lt;K, V&gt;&gt;{\r\n        PriorityQueue&lt;K&gt; keys;\r\n        K cursor;\r\n\r\n        public PriorityIterator() {\r\n            keys = new PriorityQueue&lt;&gt;(HashPriorityQueue.this.queue);\r\n        }\r\n\r\n        @Override\r\n        public boolean hasNext() {\r\n            return !keys.isEmpty();\r\n        }\r\n\r\n        @Override\r\n        public AbstractMap.SimpleEntry&lt;K, V&gt; next() {\r\n            cursor = keys.poll();\r\n            V v = HashPriorityQueue.this.get(cursor);\r\n            return new AbstractMap.SimpleEntry&lt;&gt;(cursor,v);\r\n        }\r\n\r\n        @Override\r\n        public void remove() {\r\n            HashPriorityQueue.this.remove(cursor);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nCurrently, the iterator creates a copy of the *queue* and iterates over the keys by polling them from the copy of the queue. The corresponding value is being obtained from the map using `get()`.\r\n\r\nThe iterator isn&#39;t aware of any structural and non-structural medications of the map.\r\n\r\n*So the actual question is:*\r\n\r\nHow can I ensure that my Collection has not been modified during the process of iteration? I was thinking of adding a `boolean` flag `isChanged`, would it be a good approach?\r\n\r\n*I would also appreciate other suggestions regarding this implementation.*\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html","title":"Implementing Iterator of the custom Collection backed by PriorityQueue and HashMap","body":"<p>I've implemented <strong><code>HashPriorityQueue</code></strong> class, which combines <code>HashMap</code> (for fast lookup) and <code>PriorityQueue</code> (for sorting the data).</p>\n<p>Another improvement I made is to guarantee ordered iteration.\nBecause <code>PriorityQueue</code> does not promise such a thing, from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">JavaDocs</a>:</p>\n<blockquote>\n<p>The Iterator provided in method <code>iterator()</code> is not guaranteed to traverse the elements of the priority queue in any particular order.</p>\n</blockquote>\n<p>I also want to guarantee ordered iteration and should work in a <strong>multithreaded</strong> environment.</p>\n<p>To make <code>HashPriorityQueue</code> class work I've already done the following steps:</p>\n<ul>\n<li>Extended <code>HashMap</code> class.</li>\n<li>Added a <code>private</code> field <code>PriorityQueue</code>.</li>\n<li>Override all the methods that change the values of the <code>HashMap</code> so that I can add and remove values from my queue.</li>\n<li>Added queue-related methods: <code>poll()</code> and <code>peek()</code>.</li>\n<li>Add an implementation of a custom <code>Iterator</code> for this new data structure that internally makes a copy of the <em>queue</em> and uses <code>poll()</code> in the <code>next()</code> method to maintain ordered iteration.</li>\n</ul>\n<p><em>Code:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HashPriorityQueue&lt;K, V&gt; extends HashMap&lt;K, V&gt; implements Iterable&lt;AbstractMap.SimpleEntry&lt;K, V&gt;&gt;{\n    private final PriorityQueue&lt;K&gt; queue;\n\n    /* CONSTRUCTORS */\n\n    public HashPriorityQueue(Comparator&lt;K&gt; comparator) {\n        queue = new PriorityQueue(comparator);\n    }\n\n    public HashPriorityQueue() {\n        queue = new PriorityQueue();\n    }\n\n\n    /* QUEUE METHODS */\n\n    public AbstractMap.SimpleEntry&lt;K, V&gt; poll() {\n        K key = queue.poll();\n        V val = remove(key);\n        return new AbstractMap.SimpleEntry&lt;K, V&gt;(key, val);\n    }\n\n    public AbstractMap.SimpleEntry&lt;K, V&gt; peek() {\n        K key = queue.peek();\n        V val = get(key);\n        return new AbstractMap.SimpleEntry&lt;K, V&gt;(key, val);\n    }\n\n    @Override\n    public V remove(Object key) {\n        queue.remove(key);\n        return super.remove(key);\n    }\n\n    public V remove(AbstractMap.SimpleEntry&lt;V, K&gt; entry) {\n        return remove(entry.getKey());\n    }\n\n\n    @Override\n    public V put(K key, V value) {\n        queue.add(key);\n        return super.put(key, value);\n    }\n\n    @Override\n    public Iterator&lt;AbstractMap.SimpleEntry&lt;K, V&gt;&gt; iterator() {\n        return new PriorityIterator();\n    }\n\n\n\n    private class PriorityIterator implements Iterator&lt;AbstractMap.SimpleEntry&lt;K, V&gt;&gt;{\n        PriorityQueue&lt;K&gt; keys;\n        K cursor;\n\n        public PriorityIterator() {\n            keys = new PriorityQueue&lt;&gt;(HashPriorityQueue.this.queue);\n        }\n\n        @Override\n        public boolean hasNext() {\n            return !keys.isEmpty();\n        }\n\n        @Override\n        public AbstractMap.SimpleEntry&lt;K, V&gt; next() {\n            cursor = keys.poll();\n            V v = HashPriorityQueue.this.get(cursor);\n            return new AbstractMap.SimpleEntry&lt;&gt;(cursor,v);\n        }\n\n        @Override\n        public void remove() {\n            HashPriorityQueue.this.remove(cursor);\n        }\n    }\n}\n</code></pre>\n<p>Currently, the iterator creates a copy of the <em>queue</em> and iterates over the keys by polling them from the copy of the queue. The corresponding value is being obtained from the map using <code>get()</code>.</p>\n<p>The iterator isn't aware of any structural and non-structural medications of the map.</p>\n<p><em>So the actual question is:</em></p>\n<p>How can I ensure that my Collection has not been modified during the process of iteration? I was thinking of adding a <code>boolean</code> flag <code>isChanged</code>, would it be a good approach?</p>\n<p><em>I would also appreciate other suggestions regarding this implementation.</em></p>\n"},{"tags":["java","spring","spring-boot","maven","spring-autoconfiguration"],"comments":[{"owner":{"account_id":19956259,"reputation":157,"user_id":14624844,"display_name":"Bob"},"score":0,"creation_date":1659079356,"post_id":73162916,"comment_id":129214306,"body_markdown":"Do you import dependency `spring-security-oauth2`  in your maven pom file?","body":"Do you import dependency <code>spring-security-oauth2</code>  in your maven pom file?"},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1659079414,"post_id":73162916,"comment_id":129214322,"body_markdown":"yes in the library jar. Let me add the pom file here","body":"yes in the library jar. Let me add the pom file here"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1659488763,"post_id":73162916,"comment_id":129305246,"body_markdown":"Can you please comment why isn&#39;t the answer satisfying? Otherwise, would you accept the answer?","body":"Can you please comment why isn&#39;t the answer satisfying? Otherwise, would you accept the answer?"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659488675,"creation_date":1659111730,"answer_id":73168301,"question_id":73162916,"body_markdown":"First, I believe I already did a lib [achieving what you&#39;re trying to do][5]. A lot is configurable from properties (CORS, authorities mapping and more) and it is published on maven-central.\r\n\r\nSpring-boot starters have [changed since 2.7][1].\r\n\r\nAuto-configured components should now be:\r\n- decorated with `@AutoConfiguration`\r\n- declared in `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports`\r\n\r\nMinimal sample [here][2] with [this resource][3]\r\n```\r\ncom.c4_soft.springaddons.starter.webclient.SpringBootAutoConfiguration\r\n```\r\nand that [loaded file][4]\r\n```java\r\npackage com.c4_soft.springaddons.starter.webclient;\r\n\r\nimport org.springframework.boot.autoconfigure.AutoConfiguration;\r\nimport org.springframework.context.annotation.Import;\r\n\r\n@AutoConfiguration\r\n@Import({ C4ProxySettings.class, C4WebClientBuilderFactoryService.class })\r\npublic class SpringBootAutoConfiguration {\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#building-jars-with-maven-shade-plugin-and-gradle-shadow-plugin\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/starters/spring-addons-starters-webclient\r\n  [3]: https://github.com/ch4mpy/spring-addons/blob/master/starters/spring-addons-starters-webclient/src/main/resources/META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports\r\n  [4]: https://github.com/ch4mpy/spring-addons/blob/master/starters/spring-addons-starters-webclient/src/main/java/com/c4_soft/springaddons/starter/webclient/SpringBootAutoConfiguration.java\r\n  [5]: https://github.com/ch4mpy/spring-addons/tree/master/webmvc/spring-addons-webmvc-jwt-resource-server","title":"Not able to use a config created in a java library","body":"<p>First, I believe I already did a lib <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/webmvc/spring-addons-webmvc-jwt-resource-server\" rel=\"nofollow noreferrer\">achieving what you're trying to do</a>. A lot is configurable from properties (CORS, authorities mapping and more) and it is published on maven-central.</p>\n<p>Spring-boot starters have <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#building-jars-with-maven-shade-plugin-and-gradle-shadow-plugin\" rel=\"nofollow noreferrer\">changed since 2.7</a>.</p>\n<p>Auto-configured components should now be:</p>\n<ul>\n<li>decorated with <code>@AutoConfiguration</code></li>\n<li>declared in <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code></li>\n</ul>\n<p>Minimal sample <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/starters/spring-addons-starters-webclient\" rel=\"nofollow noreferrer\">here</a> with <a href=\"https://github.com/ch4mpy/spring-addons/blob/master/starters/spring-addons-starters-webclient/src/main/resources/META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports\" rel=\"nofollow noreferrer\">this resource</a></p>\n<pre><code>com.c4_soft.springaddons.starter.webclient.SpringBootAutoConfiguration\n</code></pre>\n<p>and that <a href=\"https://github.com/ch4mpy/spring-addons/blob/master/starters/spring-addons-starters-webclient/src/main/java/com/c4_soft/springaddons/starter/webclient/SpringBootAutoConfiguration.java\" rel=\"nofollow noreferrer\">loaded file</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.c4_soft.springaddons.starter.webclient;\n\nimport org.springframework.boot.autoconfigure.AutoConfiguration;\nimport org.springframework.context.annotation.Import;\n\n@AutoConfiguration\n@Import({ C4ProxySettings.class, C4WebClientBuilderFactoryService.class })\npublic class SpringBootAutoConfiguration {\n}\n</code></pre>\n"}],"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73168301,"answer_count":1,"score":0,"last_activity_date":1659488675,"creation_date":1659078942,"question_id":73162916,"body_markdown":"I am creating java jar library (maven) which will contain common configuration &amp; util classes used in many services. My project is not multi-modules, so creating a new maven project.\r\nThe configuration class I am not able to use in my project. Found out there are 2 approach for this from below mentioned references.\r\n\r\n[Reference1][1]\r\n\r\n[Reference2][2]\r\n\r\n1. Adding entry in resoruces/META-INF/spring.factories in the library project (auto-configure).\r\nIt is giving error of class not found. Also added package of library in scanPackage attribute of Spring Boot Application. Src code is there after all the text.\r\n\r\n   Error: The project which uses the library is not able to find class of ouath of spring related which is a dependency in the library class\r\n\r\n&gt; For the full error stacktrace, please see the following collapsed snippet:\r\n&gt; \r\n&gt; &lt;!-- begin snippet: java hide: true console: true babel: false --&gt;\r\n \r\n &lt;!-- language: lang-js --&gt;\r\n12:41:07.826 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.satishch.microspace.nri.security.ReferenceSecurityConfig]; nested exception is java.lang.IllegalArgumentException: Unresolvable class definition for class [com.satishch.microspace.nri.security.ReferenceSecurityConfig]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:610) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:311) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:600) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.access$800(ConfigurationClassParser.java:111) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:812) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257) ~[?:1.8.0_191]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:319) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405) [spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\r\n\tat com.satish.NriAssetMgmtServiceApplication.main(NriAssetMgmtServiceApplication.java:28) [classes/:?]\r\nCaused by: java.lang.IllegalArgumentException: Unresolvable class definition for class [com.satishch.microspace.nri.security.ReferenceSecurityConfig]\r\n\tat org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:331) ~[spring-core-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.security.config.annotation.method.configuration.GlobalMethodSecuritySelector.selectImports(GlobalMethodSecuritySelector.java:51) ~[spring-security-config-5.3.6.RELEASE.jar:5.3.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:581) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\t... 21 more\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/oauth2/config/annotation/web/configuration/ResourceServerConfigurerAdapter\r\n\tat java.lang.ClassLoader.defineClass1(Native Method) ~[?:1.8.0_191]\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[?:1.8.0_191]\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[?:1.8.0_191]\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468) ~[?:1.8.0_191]\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74) ~[?:1.8.0_191]\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369) ~[?:1.8.0_191]\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363) ~[?:1.8.0_191]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_191]\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362) ~[?:1.8.0_191]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_191]\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) ~[?:1.8.0_191]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_191]\r\n\tat java.lang.Class.forName0(Native Method) ~[?:1.8.0_191]\r\n\tat java.lang.Class.forName(Class.java:348) ~[?:1.8.0_191]\r\n\tat org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:324) ~[spring-core-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.security.config.annotation.method.configuration.GlobalMethodSecuritySelector.selectImports(GlobalMethodSecuritySelector.java:51) ~[spring-security-config-5.3.6.RELEASE.jar:5.3.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:581) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\t... 21 more\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfigurerAdapter\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382) ~[?:1.8.0_191]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_191]\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) ~[?:1.8.0_191]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_191]\r\n\tat java.lang.ClassLoader.defineClass1(Native Method) ~[?:1.8.0_191]\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[?:1.8.0_191]\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[?:1.8.0_191]\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468) ~[?:1.8.0_191]\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74) ~[?:1.8.0_191]\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369) ~[?:1.8.0_191]\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363) ~[?:1.8.0_191]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_191]\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362) ~[?:1.8.0_191]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_191]\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) ~[?:1.8.0_191]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_191]\r\n\tat java.lang.Class.forName0(Native Method) ~[?:1.8.0_191]\r\n\tat java.lang.Class.forName(Class.java:348) ~[?:1.8.0_191]\r\n\tat org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:324) ~[spring-core-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.security.config.annotation.method.configuration.GlobalMethodSecuritySelector.selectImports(GlobalMethodSecuritySelector.java:51) ~[spring-security-config-5.3.6.RELEASE.jar:5.3.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:581) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\t... 21 more\r\n\r\n &lt;!-- end snippet --&gt;\r\n\r\n\r\n2. Creating annotation interface inside the library importing the config class. And, adding the annotation in any project in main class.\r\n\r\n&gt; For the full error stacktrace, please see the following collapsed snippet:\r\n&gt; \r\n&gt; &lt;!-- begin snippet: java hide: true console: true babel: false --&gt;\r\n \r\n &lt;!-- language: lang-js --&gt;\r\n12:34:17.903 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405) [spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\r\n\tat com.satish.AssetMgmtServiceApplication.main(AssetMgmtServiceApplication.java:31) [classes/:?]\r\nCaused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:205) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:177) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:158) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\r\n\t... 7 more\r\n\r\n &lt;!-- end snippet --&gt;\r\n\r\n\r\n**Source code:**\r\n\r\nresoruces/META-INF/spring.factories (1st Approach)\r\n\r\n     org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\r\n     com.satish.security.ReferenceSecurityConfig\r\n\r\n\r\n\r\n\r\nConfig inside the library \r\n\r\n\t@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n\t@EnableResourceServer\r\n\t@EnableWebSecurity\r\n\t@Configuration\r\n\t@ConfigurationProperties(prefix = &quot;security&quot;)\r\n\t@Data\r\n\t@EqualsAndHashCode(callSuper=false)\r\n\tpublic class ReferenceSecurityConfig extends ResourceServerConfigurerAdapter {\r\n\r\n\t\tprivate boolean bypass;\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void configure(HttpSecurity http) throws Exception {\r\n\r\n\t\t\thttp\r\n\t\t\t.cors()\r\n\t\t\t.and()\r\n\t\t\t.csrf().disable();\r\n\r\n\t\t\tif (bypass) {\r\n\t\t\t\thttp.authorizeRequests().antMatchers(&quot;/**&quot;).permitAll();\r\n\t\t\t} else {\r\n\t\t\t\thttp.authorizeRequests()\r\n\t\t\t\t.antMatchers(&quot;/swagger-ui/**&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/management&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/management/**&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/swagger-ui.html&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/swagger-resources/**&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/v2/api-docs/**&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/webjars/**&quot;).permi tAll()\r\n\t\t\t\t.antMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/swagger-ui/**&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/**&quot;).authenticated();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nAnnotation to use in the main project (2nd approach)\r\n\r\n\t@Retention(RetentionPolicy.RUNTIME)\r\n\t@Target(ElementType.TYPE)\r\n\t@Import(ReferenceSecurityConfig.class)\r\n\tpublic @interface EnableCustomSecurityConfig {\r\n\t}\r\n\r\npom.xml\r\n\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;groupId&gt;com.satish&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;core-lib&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;name&gt;core-lib&lt;/name&gt;\r\n\t\t&lt;description&gt;Storing common implementation&lt;/description&gt;\r\n\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.8.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;relativePath /&gt;\r\n\t\t&lt;/parent&gt;\r\n\r\n\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t\t&lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n\t\t\t&lt;log4j2Version&gt;2.7&lt;/log4j2Version&gt;\r\n\t\t\t&lt;slf4jVersion&gt;1.7.21&lt;/slf4jVersion&gt;\r\n\t\t&lt;/properties&gt;\r\n\r\n\t\t&lt;repositories&gt;\r\n\t\t\t&lt;repository&gt;\r\n\t\t\t\t&lt;id&gt;confluent&lt;/id&gt;\r\n\t\t\t\t&lt;url&gt;https://packages.confluent.io/maven/&lt;/url&gt;\r\n\t\t\t&lt;/repository&gt;\r\n\t\t&lt;/repositories&gt;\r\n\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;!-- security dependencies --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-security-oauth2-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;5.1.7.RELEASE&lt;/version&gt;\r\n\t\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${springSecurityVersion}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;!-- spring-boot-starter-security --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;!-- Not sure why Lombok is not working --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;!-- Provided Dependencies --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t\t&lt;manifestEntries&gt;\r\n\t\t\t\t\t\t\t\t&lt;Implementation-Vendor&gt;Satish&#39;s Companies Inc.&lt;/Implementation-Vendor&gt;\r\n\t\t\t\t\t\t\t\t&lt;Implementation-Title&gt;TITLE&lt;/Implementation-Title&gt;\r\n\t\t\t\t\t\t\t\t&lt;Implementation-Version&gt;2.2&lt;/Implementation-Version&gt;\r\n\t\t\t\t\t\t\t&lt;/manifestEntries&gt;\r\n\t\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;!--plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; \r\n\t\t\t\t\t&lt;configuration&gt; &lt;fork&gt;true&lt;/fork&gt; &lt;mainClass&gt;${start-class}&lt;/mainClass&gt; &lt;/configuration&gt; \r\n\t\t\t\t\t&lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;repackage&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; \r\n\t\t\t\t\t&lt;/executions&gt; &lt;/plugin --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;attach-sources&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t&lt;/project&gt;\r\n\r\n\r\n  [1]: https://medium.com/trendyol-tech/how-to-write-a-spring-boot-library-project-7064e831b63b\r\n  [2]: https://grantlittle.me/index.php/2020/08/30/create-a-spring-boot-starter-library/","title":"Not able to use a config created in a java library","body":"<p>I am creating java jar library (maven) which will contain common configuration &amp; util classes used in many services. My project is not multi-modules, so creating a new maven project.\nThe configuration class I am not able to use in my project. Found out there are 2 approach for this from below mentioned references.</p>\n<p><a href=\"https://medium.com/trendyol-tech/how-to-write-a-spring-boot-library-project-7064e831b63b\" rel=\"nofollow noreferrer\">Reference1</a></p>\n<p><a href=\"https://grantlittle.me/index.php/2020/08/30/create-a-spring-boot-starter-library/\" rel=\"nofollow noreferrer\">Reference2</a></p>\n<ol>\n<li><p>Adding entry in resoruces/META-INF/spring.factories in the library project (auto-configure).\nIt is giving error of class not found. Also added package of library in scanPackage attribute of Spring Boot Application. Src code is there after all the text.</p>\n<p>Error: The project which uses the library is not able to find class of ouath of spring related which is a dependency in the library class</p>\n</li>\n</ol>\n<blockquote>\n<p>For the full error stacktrace, please see the following collapsed snippet:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>12:41:07.826 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.satishch.microspace.nri.security.ReferenceSecurityConfig]; nested exception is java.lang.IllegalArgumentException: Unresolvable class definition for class [com.satishch.microspace.nri.security.ReferenceSecurityConfig]\nat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:610) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:311) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:600) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.access$800(ConfigurationClassParser.java:111) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:812) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat java.util.ArrayList.forEach(ArrayList.java:1257) ~[?:1.8.0_191]\nat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:319) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405) [spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\nat com.satish.NriAssetMgmtServiceApplication.main(NriAssetMgmtServiceApplication.java:28) [classes/:?]\nCaused by: java.lang.IllegalArgumentException: Unresolvable class definition for class [com.satishch.microspace.nri.security.ReferenceSecurityConfig]\nat org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:331) ~[spring-core-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.security.config.annotation.method.configuration.GlobalMethodSecuritySelector.selectImports(GlobalMethodSecuritySelector.java:51) ~[spring-security-config-5.3.6.RELEASE.jar:5.3.6.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:581) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n... 21 more\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/oauth2/config/annotation/web/configuration/ResourceServerConfigurerAdapter\nat java.lang.ClassLoader.defineClass1(Native Method) ~[?:1.8.0_191]\nat java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[?:1.8.0_191]\nat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[?:1.8.0_191]\nat java.net.URLClassLoader.defineClass(URLClassLoader.java:468) ~[?:1.8.0_191]\nat java.net.URLClassLoader.access$100(URLClassLoader.java:74) ~[?:1.8.0_191]\nat java.net.URLClassLoader$1.run(URLClassLoader.java:369) ~[?:1.8.0_191]\nat java.net.URLClassLoader$1.run(URLClassLoader.java:363) ~[?:1.8.0_191]\nat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_191]\nat java.net.URLClassLoader.findClass(URLClassLoader.java:362) ~[?:1.8.0_191]\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_191]\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) ~[?:1.8.0_191]\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_191]\nat java.lang.Class.forName0(Native Method) ~[?:1.8.0_191]\nat java.lang.Class.forName(Class.java:348) ~[?:1.8.0_191]\nat org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:324) ~[spring-core-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.security.config.annotation.method.configuration.GlobalMethodSecuritySelector.selectImports(GlobalMethodSecuritySelector.java:51) ~[spring-security-config-5.3.6.RELEASE.jar:5.3.6.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:581) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n... 21 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfigurerAdapter\nat java.net.URLClassLoader.findClass(URLClassLoader.java:382) ~[?:1.8.0_191]\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_191]\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) ~[?:1.8.0_191]\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_191]\nat java.lang.ClassLoader.defineClass1(Native Method) ~[?:1.8.0_191]\nat java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[?:1.8.0_191]\nat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[?:1.8.0_191]\nat java.net.URLClassLoader.defineClass(URLClassLoader.java:468) ~[?:1.8.0_191]\nat java.net.URLClassLoader.access$100(URLClassLoader.java:74) ~[?:1.8.0_191]\nat java.net.URLClassLoader$1.run(URLClassLoader.java:369) ~[?:1.8.0_191]\nat java.net.URLClassLoader$1.run(URLClassLoader.java:363) ~[?:1.8.0_191]\nat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_191]\nat java.net.URLClassLoader.findClass(URLClassLoader.java:362) ~[?:1.8.0_191]\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_191]\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) ~[?:1.8.0_191]\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_191]\nat java.lang.Class.forName0(Native Method) ~[?:1.8.0_191]\nat java.lang.Class.forName(Class.java:348) ~[?:1.8.0_191]\nat org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:324) ~[spring-core-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.security.config.annotation.method.configuration.GlobalMethodSecuritySelector.selectImports(GlobalMethodSecuritySelector.java:51) ~[spring-security-config-5.3.6.RELEASE.jar:5.3.6.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:581) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n... 21 more\n\n </code></pre>\r\n</div>\r\n</div>\r\n</p>\n</blockquote>\n<ol start=\"2\">\n<li>Creating annotation interface inside the library importing the config class. And, adding the annotation in any project in main class.</li>\n</ol>\n<blockquote>\n<p>For the full error stacktrace, please see the following collapsed snippet:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>12:34:17.903 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545) ~[spring-context-5.2.12.RELEASE.jar:5.2.12.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405) [spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\nat com.satish.AssetMgmtServiceApplication.main(AssetMgmtServiceApplication.java:31) [classes/:?]\nCaused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getWebServerFactory(ServletWebServerApplicationContext.java:205) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:177) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:158) ~[spring-boot-2.3.8.RELEASE.jar:2.3.8.RELEASE]\n... 7 more\n\n </code></pre>\r\n</div>\r\n</div>\r\n</p>\n</blockquote>\n<p><strong>Source code:</strong></p>\n<p>resoruces/META-INF/spring.factories (1st Approach)</p>\n<pre><code> org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\n com.satish.security.ReferenceSecurityConfig\n</code></pre>\n<p>Config inside the library</p>\n<pre><code>@EnableGlobalMethodSecurity(prePostEnabled = true)\n@EnableResourceServer\n@EnableWebSecurity\n@Configuration\n@ConfigurationProperties(prefix = &quot;security&quot;)\n@Data\n@EqualsAndHashCode(callSuper=false)\npublic class ReferenceSecurityConfig extends ResourceServerConfigurerAdapter {\n\n    private boolean bypass;\n    \n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n\n        http\n        .cors()\n        .and()\n        .csrf().disable();\n\n        if (bypass) {\n            http.authorizeRequests().antMatchers(&quot;/**&quot;).permitAll();\n        } else {\n            http.authorizeRequests()\n            .antMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n            .antMatchers(&quot;/management&quot;).permitAll()\n            .antMatchers(&quot;/management/**&quot;).permitAll()\n            .antMatchers(&quot;/swagger-ui.html&quot;).permitAll()\n            .antMatchers(&quot;/swagger-resources/**&quot;).permitAll()\n            .antMatchers(&quot;/v2/api-docs/**&quot;).permitAll()\n            .antMatchers(&quot;/webjars/**&quot;).permi tAll()\n            .antMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\n            .antMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n            .antMatchers(&quot;/**&quot;).authenticated();\n        }\n    }\n}\n</code></pre>\n<p>Annotation to use in the main project (2nd approach)</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@Import(ReferenceSecurityConfig.class)\npublic @interface EnableCustomSecurityConfig {\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.satish&lt;/groupId&gt;\n    &lt;artifactId&gt;core-lib&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;core-lib&lt;/name&gt;\n    &lt;description&gt;Storing common implementation&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.8.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\n        &lt;log4j2Version&gt;2.7&lt;/log4j2Version&gt;\n        &lt;slf4jVersion&gt;1.7.21&lt;/slf4jVersion&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;confluent&lt;/id&gt;\n            &lt;url&gt;https://packages.confluent.io/maven/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- security dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-core&lt;/artifactId&gt;\n            &lt;version&gt;5.1.7.RELEASE&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;${springSecurityVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- spring-boot-starter-security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Not sure why Lombok is not working --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Provided Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Implementation-Vendor&gt;Satish's Companies Inc.&lt;/Implementation-Vendor&gt;\n                            &lt;Implementation-Title&gt;TITLE&lt;/Implementation-Title&gt;\n                            &lt;Implementation-Version&gt;2.2&lt;/Implementation-Version&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!--plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; \n                &lt;configuration&gt; &lt;fork&gt;true&lt;/fork&gt; &lt;mainClass&gt;${start-class}&lt;/mainClass&gt; &lt;/configuration&gt; \n                &lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;repackage&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; \n                &lt;/executions&gt; &lt;/plugin --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","servlets","jakarta-ee"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1659481230,"post_id":73214360,"comment_id":129304207,"body_markdown":"I can confirm that `@WebFilter` can be used to annotate and trigger your `ExampleFilter` extending `HttpFilter` - but I am using `@WebFilter(&quot;/*&quot;)` (all traffic) not `@WebFilter(&quot;&quot;)`. It also works for specific routes such as `@WebFilter(&quot;/demo_one&quot;)` and so on. Furthermore, I am using Jakarta (`jakarta.jakartaee-web-api`) v9.1.0 and not Javax. Your question is tagged &quot;Jakarta&quot; but you are using `javax` in your code. I am using Tomcat 10, and I do not have a `web.xml` file - only annotations such as `@WebServlet`. I don&#39;t know how that may or may not help you, but I wanted to share the basics.","body":"I can confirm that <code>@WebFilter</code> can be used to annotate and trigger your <code>ExampleFilter</code> extending <code>HttpFilter</code> - but I am using <code>@WebFilter(&quot;&#47;*&quot;)</code> (all traffic) not <code>@WebFilter(&quot;&quot;)</code>. It also works for specific routes such as <code>@WebFilter(&quot;&#47;demo_one&quot;)</code> and so on. Furthermore, I am using Jakarta (<code>jakarta.jakartaee-web-api</code>) v9.1.0 and not Javax. Your question is tagged &quot;Jakarta&quot; but you are using <code>javax</code> in your code. I am using Tomcat 10, and I do not have a <code>web.xml</code> file - only annotations such as <code>@WebServlet</code>. I don&#39;t know how that may or may not help you, but I wanted to share the basics."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1659481324,"post_id":73214360,"comment_id":129304227,"body_markdown":"If it helps I can share more - for example, the steps I took to set up my Tomcat app - but there are no guarantees that would help you, given you may have a very different starting point from me.","body":"If it helps I can share more - for example, the steps I took to set up my Tomcat app - but there are no guarantees that would help you, given you may have a very different starting point from me."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1659481485,"post_id":73214360,"comment_id":129304253,"body_markdown":"@andrewJames Oh is **that** was the string in the parenthesis is for! It would have been absolutely ***SUPER*** if that was mentioned in the [documentation of @WebFilter](https://docs.oracle.com/javaee/6/api/javax/servlet/annotation/WebFilter.html)! Just super! That did it - [the original answer i was going from](https://stackoverflow.com/questions/73213473/how-to-hook-begin-and-end-of-http-requests-in-javaee/73213666?noredirect=1#comment129303992_73213666) didn&#39;t mention that - and left it blank.  So i left it blank too; i dunno what it meant.","body":"@andrewJames Oh is <b>that</b> was the string in the parenthesis is for! It would have been absolutely <b><i>SUPER</i></b> if that was mentioned in the <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/annotation/WebFilter.html\" rel=\"nofollow noreferrer\">documentation of @WebFilter</a>! Just super! That did it - <a href=\"https://stackoverflow.com/questions/73213473/how-to-hook-begin-and-end-of-http-requests-in-javaee/73213666?noredirect=1#comment129303992_73213666\">the original answer i was going from</a> didn&#39;t mention that - and left it blank.  So i left it blank too; i dunno what it meant."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1659488869,"post_id":73214360,"comment_id":129305266,"body_markdown":"Ah - the `&quot;&quot;` string means &quot;the application’s context root&quot; - so it&#39;s possible you were never hitting that - and therefore never seeing your filter being called. More notes in my answer.","body":"Ah - the <code>&quot;&quot;</code> string means &quot;the application’s context root&quot; - so it&#39;s possible you were never hitting that - and therefore never seeing your filter being called. More notes in my answer."}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659488560,"creation_date":1659488560,"answer_id":73215282,"question_id":73214360,"body_markdown":"_Converting the relevant parts of my comments to an answer here:_\r\n\r\n---\r\n\r\n**Short Answer**\r\n\r\nYou need to provide one or more values in the string of the `@WebFilter` annotation, to represent the URL pattern(s) to which the filter applies. \r\n\r\nSo, for example, the following refers to all URLs under the root of your app:\r\n\r\n    @WebFilter(&quot;/*&quot;)\r\n\r\nAnd the following refers to one specific URL:\r\n\r\n    @WebFilter(&quot;/demo_one&quot;)\r\n\r\n---\r\n\r\n**Longer Answer**\r\n\r\nThe `@WebFilter` annotation is part of the Jakarta Servlet specification. For example, here is the Web Filter section for [version 5.0](https://jakarta.ee/specifications/servlet/5.0/jakarta-servlet-spec-5.0.html#_WebFilter) of the spec.\r\n\r\nThe empty string used in `@WebFilter(&quot;&quot;)` is a special pattern, documented [here](https://jakarta.ee/specifications/servlet/5.0/jakarta-servlet-spec-5.0.html#specification-of-mappings):\r\n\r\n&gt; The empty string `(&quot;&quot;)` is a special URL pattern that exactly maps to the application’s context root, i.e., requests of the form `http://host:port/&lt;context-root&gt;/`. In this case the path info is `&quot;/&quot;` and the servlet path and context path is the empty string (`&quot;&quot;`).\r\n\r\nOther rules for URL patterns are also covered here, including wildcards (`*`).\r\n\r\n---\r\n\r\nThe [JavaDoc for `@WebFilter`](https://tomee.apache.org/jakartaee-10.0/javadoc/jakarta/servlet/annotation/WebFilter.html) lists all of the attributes you can use in the annotation. \r\n\r\n(_As you note, the JavaDoc does not make it especially clear which of these attributes is mandatory, or explain how they work in any detail._)\r\n\r\nOne of these attributes is `value` - an array of strings:\r\n\r\n&gt; The URL patterns to which the filter applies. The default value is an empty array.\r\n\r\nSo, instead of `@WebFilter(&quot;/demo_one&quot;)` you can use:\r\n\r\n    @WebFilter(value = &quot;/demo_one&quot;)\r\n\r\nOr, for an array of URL patterns:\r\n\r\n    @WebFilter(value = {&quot;/demo_one&quot;, &quot;/demo_two&quot;})\r\n\r\nIf you don&#39;t use the `value =` specifier (i.e. if you _only_ use a string and nothing else), then the annotation assumes the provided string is the one provided mandatory value (one of `urlPatterns`, `servletNames`, or `value`).\r\n\r\nYou can see there is a fairly long list of other attributes you can specify in the annotation - they are all the equivalents of the values that you can assign in the XML of a `web.xml` file, if you use that instead of annotations.","title":"How to register an HttpFilter?","body":"<p><em>Converting the relevant parts of my comments to an answer here:</em></p>\n<hr />\n<p><strong>Short Answer</strong></p>\n<p>You need to provide one or more values in the string of the <code>@WebFilter</code> annotation, to represent the URL pattern(s) to which the filter applies.</p>\n<p>So, for example, the following refers to all URLs under the root of your app:</p>\n<pre><code>@WebFilter(&quot;/*&quot;)\n</code></pre>\n<p>And the following refers to one specific URL:</p>\n<pre><code>@WebFilter(&quot;/demo_one&quot;)\n</code></pre>\n<hr />\n<p><strong>Longer Answer</strong></p>\n<p>The <code>@WebFilter</code> annotation is part of the Jakarta Servlet specification. For example, here is the Web Filter section for <a href=\"https://jakarta.ee/specifications/servlet/5.0/jakarta-servlet-spec-5.0.html#_WebFilter\" rel=\"nofollow noreferrer\">version 5.0</a> of the spec.</p>\n<p>The empty string used in <code>@WebFilter(&quot;&quot;)</code> is a special pattern, documented <a href=\"https://jakarta.ee/specifications/servlet/5.0/jakarta-servlet-spec-5.0.html#specification-of-mappings\" rel=\"nofollow noreferrer\">here</a>:</p>\n<blockquote>\n<p>The empty string <code>(&quot;&quot;)</code> is a special URL pattern that exactly maps to the application’s context root, i.e., requests of the form <code>http://host:port/&lt;context-root&gt;/</code>. In this case the path info is <code>&quot;/&quot;</code> and the servlet path and context path is the empty string (<code>&quot;&quot;</code>).</p>\n</blockquote>\n<p>Other rules for URL patterns are also covered here, including wildcards (<code>*</code>).</p>\n<hr />\n<p>The <a href=\"https://tomee.apache.org/jakartaee-10.0/javadoc/jakarta/servlet/annotation/WebFilter.html\" rel=\"nofollow noreferrer\">JavaDoc for <code>@WebFilter</code></a> lists all of the attributes you can use in the annotation.</p>\n<p>(<em>As you note, the JavaDoc does not make it especially clear which of these attributes is mandatory, or explain how they work in any detail.</em>)</p>\n<p>One of these attributes is <code>value</code> - an array of strings:</p>\n<blockquote>\n<p>The URL patterns to which the filter applies. The default value is an empty array.</p>\n</blockquote>\n<p>So, instead of <code>@WebFilter(&quot;/demo_one&quot;)</code> you can use:</p>\n<pre><code>@WebFilter(value = &quot;/demo_one&quot;)\n</code></pre>\n<p>Or, for an array of URL patterns:</p>\n<pre><code>@WebFilter(value = {&quot;/demo_one&quot;, &quot;/demo_two&quot;})\n</code></pre>\n<p>If you don't use the <code>value =</code> specifier (i.e. if you <em>only</em> use a string and nothing else), then the annotation assumes the provided string is the one provided mandatory value (one of <code>urlPatterns</code>, <code>servletNames</code>, or <code>value</code>).</p>\n<p>You can see there is a fairly long list of other attributes you can specify in the annotation - they are all the equivalents of the values that you can assign in the XML of a <code>web.xml</code> file, if you use that instead of annotations.</p>\n"}],"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73215282,"answer_count":1,"score":1,"last_activity_date":1659488560,"creation_date":1659478679,"question_id":73214360,"body_markdown":"I&#39;ve created an **HttpFilter** in my project:\r\n\r\n**ExampleFilter.java**\r\n\r\n```\r\npackage contoso.grobber;\r\n\r\nimport java.io.IOException;\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebFilter;\r\nimport javax.servlet.http.HttpFilter;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebFilter(&quot;&quot;)\r\npublic class ExampleFilter extends HttpFilter {\r\n\r\n    @Override\r\n    public void doFilter(HttpServletRequest req, HttpServletResponse res, FilterChain chain) \r\n    {\r\n\t\tbeginRequest(req); //before request processing\r\n\t\tchain.doFilter(req, res);//calls other filters and processes request\r\n\t\tendRequest(req, res); //after request processing you can use res here\r\n    }\r\n\r\n\tprivate void beginRequest(HttpServletRequest request) {\r\n       //...\r\n\t}\r\n\r\n\tprivate void endRequest(HttpServletRequest request, HttpServletResponse response) {\r\n       //...\r\n\t}\r\n}\r\n```\r\n\r\nBut the filter just isn&#39;t being called.\r\n\r\nSupposedly using the `@WebFilter` annotation is enough to make it work:\r\n\r\n- but [it&#39;s not documented as a way to register a filter][1]\r\n- and people can&#39;t make it work &lt;sup&gt;[1][2] [2][3] [3][4] [4][5] [5][6]&lt;/sup&gt;\r\n\r\nWhat&#39;s the alternative?\r\n\r\nI&#39;ve [heard tell of modifying `web.xml` to register the filter](https://www.guru99.com/jsp-filter.html); but that is for a **Filter**s - and not an **HttpFilter**s.\r\n\r\nDay 12 of trying to get this to work...:\r\n\r\n- https://stackoverflow.com/questions/72995407/how-to-hook-beginrequest-and-endrequest-in-javaee\r\n- https://stackoverflow.com/questions/73213473/how-to-hook-begin-and-end-of-http-requests-in-javaee\r\n\r\n\r\n\r\n  [1]: https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpFilter.html\r\n  [2]: https://stackoverflow.com/questions/17426872/servlet-filter-not-working\r\n  [3]: https://stackoverflow.com/questions/687127/java-servlet-filter-not-working-on-login\r\n  [4]: https://stackoverflow.com/questions/10856866/using-tomcat-webfilter-doesnt-work-with-filter-mapping-inside-web-xml\r\n  [5]: https://stackoverflow.com/questions/11795084/filter-not-working\r\n  [6]: https://stackoverflow.com/questions/16670158/filters-not-working-properly","title":"How to register an HttpFilter?","body":"<p>I've created an <strong>HttpFilter</strong> in my project:</p>\n<p><strong>ExampleFilter.java</strong></p>\n<pre><code>package contoso.grobber;\n\nimport java.io.IOException;\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebFilter;\nimport javax.servlet.http.HttpFilter;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebFilter(&quot;&quot;)\npublic class ExampleFilter extends HttpFilter {\n\n    @Override\n    public void doFilter(HttpServletRequest req, HttpServletResponse res, FilterChain chain) \n    {\n        beginRequest(req); //before request processing\n        chain.doFilter(req, res);//calls other filters and processes request\n        endRequest(req, res); //after request processing you can use res here\n    }\n\n    private void beginRequest(HttpServletRequest request) {\n       //...\n    }\n\n    private void endRequest(HttpServletRequest request, HttpServletResponse response) {\n       //...\n    }\n}\n</code></pre>\n<p>But the filter just isn't being called.</p>\n<p>Supposedly using the <code>@WebFilter</code> annotation is enough to make it work:</p>\n<ul>\n<li>but <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpFilter.html\" rel=\"nofollow noreferrer\">it's not documented as a way to register a filter</a></li>\n<li>and people can't make it work <sup><a href=\"https://stackoverflow.com/questions/17426872/servlet-filter-not-working\">1</a> <a href=\"https://stackoverflow.com/questions/687127/java-servlet-filter-not-working-on-login\">2</a> <a href=\"https://stackoverflow.com/questions/10856866/using-tomcat-webfilter-doesnt-work-with-filter-mapping-inside-web-xml\">3</a> <a href=\"https://stackoverflow.com/questions/11795084/filter-not-working\">4</a> <a href=\"https://stackoverflow.com/questions/16670158/filters-not-working-properly\">5</a></sup></li>\n</ul>\n<p>What's the alternative?</p>\n<p>I've <a href=\"https://www.guru99.com/jsp-filter.html\" rel=\"nofollow noreferrer\">heard tell of modifying <code>web.xml</code> to register the filter</a>; but that is for a <strong>Filter</strong>s - and not an <strong>HttpFilter</strong>s.</p>\n<p>Day 12 of trying to get this to work...:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/72995407/how-to-hook-beginrequest-and-endrequest-in-javaee\">How to hook BeginRequest and EndRequest in JavaEE?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/73213473/how-to-hook-begin-and-end-of-http-requests-in-javaee\">How to hook begin and end of HTTP requests in JavaEE?</a></li>\n</ul>\n"},{"tags":["java","linked-list","iterator","singly-linked-list","fail-fast"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659454393,"creation_date":1659453380,"answer_id":73209931,"question_id":73209462,"body_markdown":"Fail-fast implementation of the `Iterator` insures that it would raise an exception if there&#39;s an evidence that the collection is being structurally modified (*an element was added or removed*) during the iteration process, because in such a case, iterator might not be able to reflect the actual state of the collection.\r\n\r\nThe common approach is to introduce two *counters of modifications*:\r\n* one as the instance field of the list `modCount`, which would be incremented whenever list gets modified via `pushFront()`, `popFront()`, etc.\r\n* another in the `Iterator` - `expectedModCount`.\r\n\r\nIf during the `next()` call turns out that `modCount` and `expectedModCount` variables are not equal, that means that there has been a modification after the iterator was created. In such a case, fail-fast Iterators from the JDK would throw `ConcurrentModificationException`.\r\n\r\n    public class GenericLinkedList&lt;E&gt; implements Iterable&lt;E&gt; {\r\n        private Node&lt;E&gt; head;\r\n        private int modCount;\r\n        \r\n        public void pushFront(E data) {\r\n            modCount++; // list is being modified - incrementing the count\r\n            head = new Node&lt;&gt;(data, head);\r\n        }\r\n        \r\n        public E popFront() {\r\n            modCount++; // list is being modified - incrementing the count\r\n            E dataHead = head.data;\r\n            head = head.next;\r\n            \r\n            return dataHead;\r\n        }\r\n        \r\n        // ...\r\n        \r\n        private class IteratorIMP implements Iterator&lt;E&gt; {\r\n            \r\n            private Node&lt;E&gt; node;\r\n            private final int expectedModCount;\r\n            \r\n            private IteratorIMP(Node&lt;E&gt; start) {\r\n                this.node = start;\r\n                this.expectedModCount = GenericLinkedList.this.modCount;\r\n            }\r\n            \r\n            // ...\r\n            \r\n            @Override\r\n            public E next() {\r\n                if (expectedModCount != modCount) {\r\n                    throw new ConcurrentModificationException();\r\n                }\r\n                \r\n                E data = node.data;\r\n                node = node.next;\r\n                \r\n                return data;\r\n            }\r\n        }\r\n    }","title":"How can I change my Iterator to be a Fast-fail Iterator?","body":"<p>Fail-fast implementation of the <code>Iterator</code> insures that it would raise an exception if there's an evidence that the collection is being structurally modified (<em>an element was added or removed</em>) during the iteration process, because in such a case, iterator might not be able to reflect the actual state of the collection.</p>\n<p>The common approach is to introduce two <em>counters of modifications</em>:</p>\n<ul>\n<li>one as the instance field of the list <code>modCount</code>, which would be incremented whenever list gets modified via <code>pushFront()</code>, <code>popFront()</code>, etc.</li>\n<li>another in the <code>Iterator</code> - <code>expectedModCount</code>.</li>\n</ul>\n<p>If during the <code>next()</code> call turns out that <code>modCount</code> and <code>expectedModCount</code> variables are not equal, that means that there has been a modification after the iterator was created. In such a case, fail-fast Iterators from the JDK would throw <code>ConcurrentModificationException</code>.</p>\n<pre><code>public class GenericLinkedList&lt;E&gt; implements Iterable&lt;E&gt; {\n    private Node&lt;E&gt; head;\n    private int modCount;\n    \n    public void pushFront(E data) {\n        modCount++; // list is being modified - incrementing the count\n        head = new Node&lt;&gt;(data, head);\n    }\n    \n    public E popFront() {\n        modCount++; // list is being modified - incrementing the count\n        E dataHead = head.data;\n        head = head.next;\n        \n        return dataHead;\n    }\n    \n    // ...\n    \n    private class IteratorIMP implements Iterator&lt;E&gt; {\n        \n        private Node&lt;E&gt; node;\n        private final int expectedModCount;\n        \n        private IteratorIMP(Node&lt;E&gt; start) {\n            this.node = start;\n            this.expectedModCount = GenericLinkedList.this.modCount;\n        }\n        \n        // ...\n        \n        @Override\n        public E next() {\n            if (expectedModCount != modCount) {\n                throw new ConcurrentModificationException();\n            }\n            \n            E data = node.data;\n            node = node.next;\n            \n            return data;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14573041,"reputation":25,"user_id":10601389,"display_name":"May Sohatchevzzki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659488524,"creation_date":1659451240,"question_id":73209462,"body_markdown":"I&#39;m trying to understand how to modify the *Iterator* of my *Linked List* to be fail-fast.\r\n\r\nI understand what it means for an Iterator to be fail-fast, but I don&#39;t know how exactly should I change my implementation to achieve this behavior.\r\n\r\nI was thinking about adding a key so for every add, but I don&#39;t think it is good enough. It is the first time I&#39;m trying to implement a fail-fast iterator, and I would really appreciate any hint.\r\n\r\n*My code:*\r\n\r\n```\r\npackage GenericLinkedList;\r\n\r\nimport java.util.Iterator;\r\n\r\npublic class GenericLinkedList&lt;E&gt; implements Iterable&lt;E&gt; {\r\n    private Node&lt;E&gt; head;\r\n\r\n    public void pushFront(E data){\r\n        head = new Node&lt;&gt;(data, head);\r\n    }\r\n\r\n    public E popFront(){\r\n        E dataHead = head.data;\r\n        head = head.next;\r\n\r\n        return dataHead;\r\n    }\r\n\r\n    public int size(){\r\n        int counter = 0;\r\n\r\n        for(E element : this){\r\n            ++counter;\r\n        }\r\n\r\n        return counter;\r\n    }\r\n\r\n    public boolean isEmpty(){\r\n        return (null == head);\r\n    }\r\n\r\n    public Iterator&lt;E&gt; find(E data){\r\n        IteratorIMP iter = new IteratorIMP(head);\r\n\r\n        for(E element : this){\r\n            if(element.equals(data)){\r\n                return iter;\r\n            }\r\n            iter.next();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public static &lt;E&gt; GenericLinkedList&lt;E&gt; merge(GenericLinkedList&lt;E&gt; firstList, GenericLinkedList&lt;E&gt; secondList){\r\n        GenericLinkedList&lt;E&gt; mergeList = new GenericLinkedList&lt;E&gt;();\r\n\r\n        for(E element : firstList){\r\n            mergeList.pushFront(element);\r\n        }\r\n\r\n        for(E element : secondList){\r\n            mergeList.pushFront(element);\r\n        }\r\n\r\n        return newReverse(mergeList);\r\n    }\r\n\r\n    public static &lt;E&gt; GenericLinkedList&lt;E&gt; newReverse(GenericLinkedList&lt;E&gt; list){\r\n        GenericLinkedList&lt;E&gt; reverseList = new GenericLinkedList&lt;E&gt;();\r\n\r\n        for(E element : list){\r\n            reverseList.pushFront(element);\r\n        }\r\n\r\n        return reverseList;\r\n    }\r\n\r\n    private static class Node&lt;T&gt; {\r\n        private Node&lt;T&gt; next;\r\n        private T data;\r\n\r\n        private Node(T data, Node&lt;T&gt; next) {\r\n            this.data = data;\r\n            this.next = next;\r\n        }\r\n    }\r\n\r\n    private class IteratorIMP implements Iterator&lt;E&gt; {\r\n\r\n        Node&lt;E&gt; node;\r\n\r\n        private IteratorIMP(Node&lt;E&gt; start){\r\n            node = start;\r\n        }\r\n\r\n        @Override\r\n        public boolean hasNext() {\r\n            return (node != null);\r\n        }\r\n\r\n        @Override\r\n        public E next() {\r\n            E data = node.data;\r\n            node = node.next;\r\n\r\n            return data;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;E&gt; iterator() {\r\n        IteratorIMP iter = new IteratorIMP(head);\r\n\r\n        return iter;\r\n    }\r\n}\r\n```","title":"How can I change my Iterator to be a Fast-fail Iterator?","body":"<p>I'm trying to understand how to modify the <em>Iterator</em> of my <em>Linked List</em> to be fail-fast.</p>\n<p>I understand what it means for an Iterator to be fail-fast, but I don't know how exactly should I change my implementation to achieve this behavior.</p>\n<p>I was thinking about adding a key so for every add, but I don't think it is good enough. It is the first time I'm trying to implement a fail-fast iterator, and I would really appreciate any hint.</p>\n<p><em>My code:</em></p>\n<pre><code>package GenericLinkedList;\n\nimport java.util.Iterator;\n\npublic class GenericLinkedList&lt;E&gt; implements Iterable&lt;E&gt; {\n    private Node&lt;E&gt; head;\n\n    public void pushFront(E data){\n        head = new Node&lt;&gt;(data, head);\n    }\n\n    public E popFront(){\n        E dataHead = head.data;\n        head = head.next;\n\n        return dataHead;\n    }\n\n    public int size(){\n        int counter = 0;\n\n        for(E element : this){\n            ++counter;\n        }\n\n        return counter;\n    }\n\n    public boolean isEmpty(){\n        return (null == head);\n    }\n\n    public Iterator&lt;E&gt; find(E data){\n        IteratorIMP iter = new IteratorIMP(head);\n\n        for(E element : this){\n            if(element.equals(data)){\n                return iter;\n            }\n            iter.next();\n        }\n\n        return null;\n    }\n\n    public static &lt;E&gt; GenericLinkedList&lt;E&gt; merge(GenericLinkedList&lt;E&gt; firstList, GenericLinkedList&lt;E&gt; secondList){\n        GenericLinkedList&lt;E&gt; mergeList = new GenericLinkedList&lt;E&gt;();\n\n        for(E element : firstList){\n            mergeList.pushFront(element);\n        }\n\n        for(E element : secondList){\n            mergeList.pushFront(element);\n        }\n\n        return newReverse(mergeList);\n    }\n\n    public static &lt;E&gt; GenericLinkedList&lt;E&gt; newReverse(GenericLinkedList&lt;E&gt; list){\n        GenericLinkedList&lt;E&gt; reverseList = new GenericLinkedList&lt;E&gt;();\n\n        for(E element : list){\n            reverseList.pushFront(element);\n        }\n\n        return reverseList;\n    }\n\n    private static class Node&lt;T&gt; {\n        private Node&lt;T&gt; next;\n        private T data;\n\n        private Node(T data, Node&lt;T&gt; next) {\n            this.data = data;\n            this.next = next;\n        }\n    }\n\n    private class IteratorIMP implements Iterator&lt;E&gt; {\n\n        Node&lt;E&gt; node;\n\n        private IteratorIMP(Node&lt;E&gt; start){\n            node = start;\n        }\n\n        @Override\n        public boolean hasNext() {\n            return (node != null);\n        }\n\n        @Override\n        public E next() {\n            E data = node.data;\n            node = node.next;\n\n            return data;\n        }\n    }\n\n    @Override\n    public Iterator&lt;E&gt; iterator() {\n        IteratorIMP iter = new IteratorIMP(head);\n\n        return iter;\n    }\n}\n</code></pre>\n"},{"tags":["java","dependencies","maven-3"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1659120014,"post_id":73169637,"comment_id":129225736,"body_markdown":"Just add an explicit dependency to your project with the version you want to use... But I would strongly recommend to upgrade the keycloak-spring-boot-starter... version..instead...","body":"Just add an explicit dependency to your project with the version you want to use... But I would strongly recommend to upgrade the keycloak-spring-boot-starter... version..instead..."},{"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"score":0,"creation_date":1659120967,"post_id":73169637,"comment_id":129226082,"body_markdown":"That&#39;s not working for me. If I add the direct dependency, then I get two jars one is the indirect dependency pulled in 1.68 and the other is the direct jar, i.e. 1.70?\n\nPS: I did upgrade the keycloak-spring-boot-starter to the latest version, but that still depends on 1.68","body":"That&#39;s not working for me. If I add the direct dependency, then I get two jars one is the indirect dependency pulled in 1.68 and the other is the direct jar, i.e. 1.70?  PS: I did upgrade the keycloak-spring-boot-starter to the latest version, but that still depends on 1.68"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1659121545,"post_id":73169637,"comment_id":129226232,"body_markdown":"`That&#39;s not working for me. If I add the direct dependency, then I get two jars one is the indirect dependency pulled in 1.68 and the other is the direct jar, i.e. 1.70` Can you show the output because if you define the dependency directly in your own project it must be used... How do you produce the output ? Which version of Maven ? Spring Boot ? Maven version JDK do you use?","body":"<code>That&#39;s not working for me. If I add the direct dependency, then I get two jars one is the indirect dependency pulled in 1.68 and the other is the direct jar, i.e. 1.70</code> Can you show the output because if you define the dependency directly in your own project it must be used... How do you produce the output ? Which version of Maven ? Spring Boot ? Maven version JDK do you use?"},{"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"score":0,"creation_date":1659126328,"post_id":73169637,"comment_id":129227472,"body_markdown":"I don&#39;t use it directly\n\nCould you give me an example of what you would want me to do?","body":"I don&#39;t use it directly  Could you give me an example of what you would want me to do?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1659130538,"post_id":73169637,"comment_id":129228439,"body_markdown":"What do you mean by: `I don&#39;t use it directly ..`???","body":"What do you mean by: <code>I don&#39;t use it directly ..</code>???"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659488499,"creation_date":1659121828,"answer_id":73170030,"question_id":73169637,"body_markdown":"# [RTFM][1]\r\n\r\n@khmarbaise is right, put explicit dependency to the version you want. You can in addition exlude `bcprov-jdk15on` when declaring dependency on `keycloak-spring-boot-starter`, it will make your explicit dependency declaration be the only one in dependency tree.\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n      &lt;version&gt;1.70&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n      &lt;version&gt;1.70&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n      &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n          &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n          &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n## PS\r\n\r\nJust don&#39;t use `keycloak-spring-boot-starter`, [it is deprecated][2].\r\n\r\nYou can use [`spring-addons-webmvc-jwt-resource-server`][3]. Tutorial [here][4].\r\n\r\nYou can also use `spring-boot-starter-oauth2-resource-server` but it requires more Java config. Tutorial [there][5].\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\r\n  [2]: https://github.com/keycloak/keycloak/discussions/10187\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/webmvc/spring-addons-webmvc-jwt-resource-server\r\n  [4]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\r\n  [5]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken","title":"Maven3: How do I update the version of an indirect dependency?","body":"<h1><a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow noreferrer\">RTFM</a></h1>\n<p>@khmarbaise is right, put explicit dependency to the version you want. You can in addition exlude <code>bcprov-jdk15on</code> when declaring dependency on <code>keycloak-spring-boot-starter</code>, it will make your explicit dependency declaration be the only one in dependency tree.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n      &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n      &lt;version&gt;1.70&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n      &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n      &lt;version&gt;1.70&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n      &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n          &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n          &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<h2>PS</h2>\n<p>Just don't use <code>keycloak-spring-boot-starter</code>, <a href=\"https://github.com/keycloak/keycloak/discussions/10187\" rel=\"nofollow noreferrer\">it is deprecated</a>.</p>\n<p>You can use <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/webmvc/spring-addons-webmvc-jwt-resource-server\" rel=\"nofollow noreferrer\"><code>spring-addons-webmvc-jwt-resource-server</code></a>. Tutorial <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You can also use <code>spring-boot-starter-oauth2-resource-server</code> but it requires more Java config. Tutorial <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">there</a>.</p>\n"}],"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659488499,"creation_date":1659119378,"question_id":73169637,"body_markdown":"I have the following dependency in one of my modules.\r\nIt has an indirect dependency on `org.bouncycastle:bcprov-jdk15on:jar:1.68`.\r\nThe dependency tree is shown below for your reference.\r\n\r\nI need to upgrade the `bcprov-jdk15on:jar` to version 1.70 for a security vulnerability.\r\nAny idea how to do this?\r\nI will really appreciate the help\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n```\r\n[INFO] +- org.keycloak:keycloak-spring-boot-starter:jar:17.0.1:compile\r\n[INFO] |  +- org.keycloak:keycloak-spring-boot-2-adapter:jar:17.0.1:compile\r\n[INFO] |  |  +- org.keycloak:keycloak-spring-boot-adapter-core:jar:17.0.1:compile\r\n[INFO] |  |  \\- org.keycloak:keycloak-core:jar:17.0.1:compile\r\n[INFO] |  |     +- org.keycloak:keycloak-common:jar:17.0.1:compile\r\n[INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.68:compile\r\n[INFO] |  +- org.keycloak:keycloak-authz-client:jar:17.0.1:compile\r\n[INFO] |  +- org.keycloak:spring-boot-container-bundle:jar:17.0.1:compile\r\n[INFO] |  |  \\- org.keycloak:keycloak-adapter-core:jar:17.0.1:compile\r\n[INFO] |  \\- org.keycloak:keycloak-spring-security-adapter:jar:17.0.1:compile\r\n[INFO] |     +- org.keycloak:keycloak-adapter-spi:jar:17.0.1:compile\r\n[INFO] |     \\- org.bouncycastle:bcprov-jdk15on:jar:1.68:compile\r\n```","title":"Maven3: How do I update the version of an indirect dependency?","body":"<p>I have the following dependency in one of my modules.\nIt has an indirect dependency on <code>org.bouncycastle:bcprov-jdk15on:jar:1.68</code>.\nThe dependency tree is shown below for your reference.</p>\n<p>I need to upgrade the <code>bcprov-jdk15on:jar</code> to version 1.70 for a security vulnerability.\nAny idea how to do this?\nI will really appreciate the help</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>[INFO] +- org.keycloak:keycloak-spring-boot-starter:jar:17.0.1:compile\n[INFO] |  +- org.keycloak:keycloak-spring-boot-2-adapter:jar:17.0.1:compile\n[INFO] |  |  +- org.keycloak:keycloak-spring-boot-adapter-core:jar:17.0.1:compile\n[INFO] |  |  \\- org.keycloak:keycloak-core:jar:17.0.1:compile\n[INFO] |  |     +- org.keycloak:keycloak-common:jar:17.0.1:compile\n[INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.68:compile\n[INFO] |  +- org.keycloak:keycloak-authz-client:jar:17.0.1:compile\n[INFO] |  +- org.keycloak:spring-boot-container-bundle:jar:17.0.1:compile\n[INFO] |  |  \\- org.keycloak:keycloak-adapter-core:jar:17.0.1:compile\n[INFO] |  \\- org.keycloak:keycloak-spring-security-adapter:jar:17.0.1:compile\n[INFO] |     +- org.keycloak:keycloak-adapter-spi:jar:17.0.1:compile\n[INFO] |     \\- org.bouncycastle:bcprov-jdk15on:jar:1.68:compile\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data"],"answers":[{"tags":[],"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659488397,"creation_date":1659488397,"answer_id":73215267,"question_id":73214794,"body_markdown":"maven add jsr310\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.13.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nneed to register module.\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n            objectMapper.registerModule(new JavaTimeModule());\r\n\r\nsample out json \r\n\r\n    {&quot;date&quot;:&quot;03/08/2022&quot;,&quot;year&quot;:&quot;2022&quot;}","title":"I need to set only the month with @JsonFormat","body":"<p>maven add jsr310</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>need to register module.</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n</code></pre>\n<p>sample out json</p>\n<pre><code>{&quot;date&quot;:&quot;03/08/2022&quot;,&quot;year&quot;:&quot;2022&quot;}\n</code></pre>\n"}],"owner":{"account_id":25478972,"reputation":13,"user_id":19642172,"display_name":"meepo2k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659488397,"creation_date":1659483115,"question_id":73214794,"body_markdown":"It is possible? I&#39;m using \r\n\r\n    @JsonFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    private LocalDate date; \r\n\r\nto set my dates, but now I have a LocalDate to get just the month and another to get just the year.\r\n\r\nI tried using \r\n\r\n    @JsonFormat(pattern = &quot;yyyy&quot;)\r\n    private LocalDate year; \r\n\r\nbut it didn&#39;t work, is there any way to do this?","title":"I need to set only the month with @JsonFormat","body":"<p>It is possible? I'm using</p>\n<pre><code>@JsonFormat(pattern = &quot;dd/MM/yyyy&quot;)\nprivate LocalDate date; \n</code></pre>\n<p>to set my dates, but now I have a LocalDate to get just the month and another to get just the year.</p>\n<p>I tried using</p>\n<pre><code>@JsonFormat(pattern = &quot;yyyy&quot;)\nprivate LocalDate year; \n</code></pre>\n<p>but it didn't work, is there any way to do this?</p>\n"},{"tags":["java","spring","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":16136503,"reputation":71,"user_id":11648839,"display_name":"Gilles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658341728,"creation_date":1658261546,"answer_id":73042971,"question_id":72898251,"body_markdown":"I&#39;ll post a response as I don&#39;t have enough reputation to add a comment but it&#39;s more a hint than a response...\r\n\r\nFirst regarding the fact that you are not able to find the Authorization header when you look at the exchanges between the browser and your backend.  \r\nI don&#39;t have it either but in the cookies of my request I have a **KEYCLOCK_IDENTITY** cookie (my idp is Keycloak as you probably guessed).  \r\nIt should hold the informations needed to ensure that you are who you are (at least it&#39;s my understanding of the presence of this cookie).  \r\nMaybe you have something like this but related to Google ?\r\n\r\nSecond thing: it looks like you want to use your SpringBoot application as a resource server, you should probably take a look at this [page](https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html) and use the **spring-boot-starter-oauth2-resource-server** dependency instead of the **spring-boot-starter-oauth2-client** dependency in order to make it work with an HTTP client like Postman.\r\n\r\nI hope it helps.","title":"Sending request from postman to Spring OAuth2 app","body":"<p>I'll post a response as I don't have enough reputation to add a comment but it's more a hint than a response...</p>\n<p>First regarding the fact that you are not able to find the Authorization header when you look at the exchanges between the browser and your backend.<br />\nI don't have it either but in the cookies of my request I have a <strong>KEYCLOCK_IDENTITY</strong> cookie (my idp is Keycloak as you probably guessed).<br />\nIt should hold the informations needed to ensure that you are who you are (at least it's my understanding of the presence of this cookie).<br />\nMaybe you have something like this but related to Google ?</p>\n<p>Second thing: it looks like you want to use your SpringBoot application as a resource server, you should probably take a look at this <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html\" rel=\"nofollow noreferrer\">page</a> and use the <strong>spring-boot-starter-oauth2-resource-server</strong> dependency instead of the <strong>spring-boot-starter-oauth2-client</strong> dependency in order to make it work with an HTTP client like Postman.</p>\n<p>I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659488381,"creation_date":1659123776,"answer_id":73170310,"question_id":72898251,"body_markdown":"@Gilles is right, you are writing a OAuth2 `resource-server`, not a `client`.\r\n\r\nYou can hardly use Github as authorization-server for your resource-server: it issues &quot;opaque&quot; tokens (not JWTs) which you can&#39;t use easily with `spring-boot-starter-oauth2-resource-server` or alike (I don&#39;t know any introspection endpoint for Github tokens).\r\n\r\nAn option for you is using an OIDC authorization-server of your own (like Keycloak) capable of &quot;user identity federation&quot;: it will proxy Github (and any other common identity provider you like: Google, Facebook, etc.).\r\n\r\nOnce you have an authorization-server issuing JWT access-tokens, you can have a look at those tutorials to configure your resource-server:\r\n- [resource-server_with_jwtauthenticationtoken][1]\r\n- [resource-server_with_oauthentication][2] (requires more Java config)\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication","title":"Sending request from postman to Spring OAuth2 app","body":"<p>@Gilles is right, you are writing a OAuth2 <code>resource-server</code>, not a <code>client</code>.</p>\n<p>You can hardly use Github as authorization-server for your resource-server: it issues &quot;opaque&quot; tokens (not JWTs) which you can't use easily with <code>spring-boot-starter-oauth2-resource-server</code> or alike (I don't know any introspection endpoint for Github tokens).</p>\n<p>An option for you is using an OIDC authorization-server of your own (like Keycloak) capable of &quot;user identity federation&quot;: it will proxy Github (and any other common identity provider you like: Google, Facebook, etc.).</p>\n<p>Once you have an authorization-server issuing JWT access-tokens, you can have a look at those tutorials to configure your resource-server:</p>\n<ul>\n<li><a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">resource-server_with_jwtauthenticationtoken</a></li>\n<li><a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\" rel=\"nofollow noreferrer\">resource-server_with_oauthentication</a> (requires more Java config)</li>\n</ul>\n"}],"owner":{"account_id":16641195,"reputation":359,"user_id":13154548,"display_name":"eternal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73170310,"answer_count":2,"score":0,"last_activity_date":1659488381,"creation_date":1657198696,"question_id":72898251,"body_markdown":"I have created simplest spring oauth2 application. Here is all(!) my code:\r\n```java\r\n@SpringBootApplication\r\npublic class Oauth2Application {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Oauth2Application.class, args);\r\n    }\r\n}\r\n```\r\n```java\r\n@RestController\r\n@CrossOrigin(&quot;*&quot;)\r\npublic class Controller {\r\n\r\n    @GetMapping\r\n    public String hello() {\r\n        return &quot;Hello&quot;;\r\n    }\r\n\r\n}\r\n```\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          github:\r\n            clientId: clientId\r\n            clientSecret: clientSecret\r\n```\r\nAnd I want to send a request to my hello endpoint via Postman. \r\n\r\nI have filled all required fields in the OAuth2 tab and generated my token. I can see my token in the Authorization header, but still, my request to localhost:8080 fails and returns me GitHub login page. What am I doing wrong?\r\n\r\nI have also generated token by myself by sending direct requests to Github auth URL and access token URL and this token didn&#39;t work for my app but worked for Github API.\r\n\r\nAlso interesting, is that when I am sending a request from a browser, it prompts me to the login page, I am logging in to Github and it redirects me to initial the page, I can&#39;t see any Authorization headers in all those requests. Only JSESSIONID cookie. \r\n\r\nPlease, guys, I would appreciate any ideas on how to make it work. Thanks!\r\n","title":"Sending request from postman to Spring OAuth2 app","body":"<p>I have created simplest spring oauth2 application. Here is all(!) my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class Oauth2Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Oauth2Application.class, args);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@CrossOrigin(&quot;*&quot;)\npublic class Controller {\n\n    @GetMapping\n    public String hello() {\n        return &quot;Hello&quot;;\n    }\n\n}\n</code></pre>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          github:\n            clientId: clientId\n            clientSecret: clientSecret\n</code></pre>\n<p>And I want to send a request to my hello endpoint via Postman.</p>\n<p>I have filled all required fields in the OAuth2 tab and generated my token. I can see my token in the Authorization header, but still, my request to localhost:8080 fails and returns me GitHub login page. What am I doing wrong?</p>\n<p>I have also generated token by myself by sending direct requests to Github auth URL and access token URL and this token didn't work for my app but worked for Github API.</p>\n<p>Also interesting, is that when I am sending a request from a browser, it prompts me to the login page, I am logging in to Github and it redirects me to initial the page, I can't see any Authorization headers in all those requests. Only JSESSIONID cookie.</p>\n<p>Please, guys, I would appreciate any ideas on how to make it work. Thanks!</p>\n"},{"tags":["java","spring","spring-boot","spring-security","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659292367,"creation_date":1659271573,"answer_id":73183420,"question_id":73183216,"body_markdown":"If you check closely the POM of `spring-boot-starter-security-&lt;version&gt;.pom` It has below dependencies.\r\n\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n          &lt;version&gt;5.7.2&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nNow If you check the POM of `spring-boot-starter-oauth2-client-&lt;version&gt;.pom` You will find the security dependency included in POM.\r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n          &lt;version&gt;5.7.2&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nNow if you check the class\r\n\r\n    @AutoConfiguration(before = SecurityAutoConfiguration.class)\r\n    @ConditionalOnClass({ EnableWebSecurity.class, ClientRegistration.class })\r\n    @ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.SERVLET)\r\n    @Import({ OAuth2ClientRegistrationRepositoryConfiguration.class, OAuth2WebSecurityConfiguration.class })\r\n    public class OAuth2ClientAutoConfiguration {\r\n    \r\n    }\r\n\r\nWhich basically uses the security libraries and enabled them, So internally its using the `org.springframework.security` which is showing you the default username and password form.\r\n","title":"Spring OAuth shows default username / password form","body":"<p>If you check closely the POM of <code>spring-boot-starter-security-&lt;version&gt;.pom</code> It has below dependencies.</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n      &lt;version&gt;5.7.2&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Now If you check the POM of <code>spring-boot-starter-oauth2-client-&lt;version&gt;.pom</code> You will find the security dependency included in POM.</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n      &lt;version&gt;5.7.2&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Now if you check the class</p>\n<pre><code>@AutoConfiguration(before = SecurityAutoConfiguration.class)\n@ConditionalOnClass({ EnableWebSecurity.class, ClientRegistration.class })\n@ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.SERVLET)\n@Import({ OAuth2ClientRegistrationRepositoryConfiguration.class, OAuth2WebSecurityConfiguration.class })\npublic class OAuth2ClientAutoConfiguration {\n\n}\n</code></pre>\n<p>Which basically uses the security libraries and enabled them, So internally its using the <code>org.springframework.security</code> which is showing you the default username and password form.</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659488094,"creation_date":1659294018,"answer_id":73186157,"question_id":73183216,"body_markdown":"Login for comes from client libs. You should not depend on `spring-boot-starter-oauth2-client` when writing a **resource-server**.\r\n\r\nHave a look at [this tutorial][1] for configuring a resource server with JWT security. You can also have look at [that one][2] to depend on `spring-boot-starter-oauth2-resource-server` only, but this requires quite some more Java conf.\r\n\r\nWith this conf, you&#39;ll get 401 when user is not authenticated (or has invalid token) and 403 when authentication is valid but access is denied:\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t\t\t&lt;!-- use spring-addons-webflux-jwt-resource-server instead for reactive apps --&gt;\r\n\t\t\t&lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t\t\t&lt;!-- use spring-addons-webflux-jwt-resource-server-test instead for reactive apps --&gt;\r\n\t\t\t&lt;artifactId&gt;spring-addons-webflux-jwt-resource-server-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n```java\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic static class WebSecurityConfig {\r\n}\r\n```\r\n```properties\r\n# shoud be set to where your authorization-server is\r\ncom.c4-soft.springaddons.security.jwt-issuers[0].location=https://localhost:9443/realms/master\r\n\r\n# shoud be configured with a list of private-claims this authorization-server puts user roles into\r\n# below is default Keycloak conf for a `spring-addons` client with client roles mapper enabled\r\ncom.c4-soft.springaddons.security.jwt-issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons.roles\r\n\r\n# use IDE auto-completion or see SpringAddonsSecurityProperties javadoc for complete configuration properties list\r\n```\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken","title":"Spring OAuth shows default username / password form","body":"<p>Login for comes from client libs. You should not depend on <code>spring-boot-starter-oauth2-client</code> when writing a <strong>resource-server</strong>.</p>\n<p>Have a look at <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\" rel=\"nofollow noreferrer\">this tutorial</a> for configuring a resource server with JWT security. You can also have look at <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">that one</a> to depend on <code>spring-boot-starter-oauth2-resource-server</code> only, but this requires quite some more Java conf.</p>\n<p>With this conf, you'll get 401 when user is not authenticated (or has invalid token) and 403 when authentication is valid but access is denied:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n            &lt;!-- use spring-addons-webflux-jwt-resource-server instead for reactive apps --&gt;\n            &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n            &lt;!-- use spring-addons-webflux-jwt-resource-server-test instead for reactive apps --&gt;\n            &lt;artifactId&gt;spring-addons-webflux-jwt-resource-server-test&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic static class WebSecurityConfig {\n}\n</code></pre>\n<pre><code># shoud be set to where your authorization-server is\ncom.c4-soft.springaddons.security.jwt-issuers[0].location=https://localhost:9443/realms/master\n\n# shoud be configured with a list of private-claims this authorization-server puts user roles into\n# below is default Keycloak conf for a `spring-addons` client with client roles mapper enabled\ncom.c4-soft.springaddons.security.jwt-issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons.roles\n\n# use IDE auto-completion or see SpringAddonsSecurityProperties javadoc for complete configuration properties list\n</code></pre>\n"}],"owner":{"account_id":8213792,"reputation":2663,"user_id":6357916,"accept_rate":33,"display_name":"MsA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659488094,"creation_date":1659269690,"question_id":73183216,"body_markdown":"I had following two classes:\r\n\r\n    @SpringBootApplication\r\n    public class OauthDemo {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(OauthDemo.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class RestDemo {\r\n    \t\r\n    \t@GetMapping(&quot;/protected&quot;)\r\n    \tpublic String protectedAccess() {\r\n    \t\treturn &quot;Hello world!!&quot;;\t\t\r\n    \t}\r\n    }\r\n\r\nI first added following dependency:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAfter running the app, it auto generated password for default user `User` and logged it to the console. After entering these credentials, I was successfully able to retrieve &quot;Hello World&quot; response from above REST endpoint.\r\n\r\nThen I replaced above dependency with OAuth dependency:\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nBut I did not configure any OAuth client information viz. the client ID and client secret. I thought it will give me error, but the output stayed the same as in case of `spring-boot-starter-security` dependency: it auto generated password for default user `User` and logged it to the console.\r\n\r\nWhy is it so? Is it the fallback of OAuth dependency because it could not find OAuth client information?","title":"Spring OAuth shows default username / password form","body":"<p>I had following two classes:</p>\n<pre><code>@SpringBootApplication\npublic class OauthDemo {\n    public static void main(String[] args) {\n        SpringApplication.run(OauthDemo.class, args);\n    }\n}\n\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class RestDemo {\n    \n    @GetMapping(&quot;/protected&quot;)\n    public String protectedAccess() {\n        return &quot;Hello world!!&quot;;     \n    }\n}\n</code></pre>\n<p>I first added following dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After running the app, it auto generated password for default user <code>User</code> and logged it to the console. After entering these credentials, I was successfully able to retrieve &quot;Hello World&quot; response from above REST endpoint.</p>\n<p>Then I replaced above dependency with OAuth dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But I did not configure any OAuth client information viz. the client ID and client secret. I thought it will give me error, but the output stayed the same as in case of <code>spring-boot-starter-security</code> dependency: it auto generated password for default user <code>User</code> and logged it to the console.</p>\n<p>Why is it so? Is it the fallback of OAuth dependency because it could not find OAuth client information?</p>\n"},{"tags":["java","java-stream","collectors","groupingby"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659485219,"creation_date":1659484850,"answer_id":73214948,"question_id":73214787,"body_markdown":"You can achieve the desired result by using *collector* [`toMap(keyMapper,valueMapper,mergeFunction)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)).\r\n\r\n`valueMapper` function would either produce `1` or `0` depending on on the `status`.\r\n\r\n```\r\nMap&lt;String, Integer&gt; passCountByTestName = tests.stream()\r\n    .collect(Collectors.toMap(\r\n        Test::getTestName,\r\n        test -&gt; test.getStatus().equals(&quot;passed&quot;) ? 1 : 0,\r\n        Integer::sum\r\n    ));\r\n    \r\npassCountByTestName.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n```\r\n*Output:*\r\n```\r\nGeography -&gt; 1\r\nEnglish -&gt; 2\r\nScience -&gt; 0\r\nMathematics -&gt; 2\r\nHistory -&gt; 1\r\nPhysics -&gt; 0\r\n```\r\n\r\n***Sidenote:*** it would be better to use `boolean` or **enum** as type for the `status` property instead of relying on string values.","title":"Java Stream - groupingBy() and counting() when a curtain Condition is met","body":"<p>You can achieve the desired result by using <em>collector</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>toMap(keyMapper,valueMapper,mergeFunction)</code></a>.</p>\n<p><code>valueMapper</code> function would either produce <code>1</code> or <code>0</code> depending on on the <code>status</code>.</p>\n<pre><code>Map&lt;String, Integer&gt; passCountByTestName = tests.stream()\n    .collect(Collectors.toMap(\n        Test::getTestName,\n        test -&gt; test.getStatus().equals(&quot;passed&quot;) ? 1 : 0,\n        Integer::sum\n    ));\n    \npassCountByTestName.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Geography -&gt; 1\nEnglish -&gt; 2\nScience -&gt; 0\nMathematics -&gt; 2\nHistory -&gt; 1\nPhysics -&gt; 0\n</code></pre>\n<p><em><strong>Sidenote:</strong></em> it would be better to use <code>boolean</code> or <strong>enum</strong> as type for the <code>status</code> property instead of relying on string values.</p>\n"}],"owner":{"account_id":24515002,"reputation":179,"user_id":18428894,"display_name":"bbKing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73214948,"answer_count":1,"score":1,"last_activity_date":1659487644,"creation_date":1659483041,"question_id":73214787,"body_markdown":"Given the following class `Test`\r\n\r\n    class Test {\r\n        String testName;\r\n        String studName;\r\n        String status;\r\n    }\r\n\r\nand a *list* of *tests* \r\n\r\n    List&lt;Test&gt; tests = List.of(\r\n            new Test(&quot;English&quot;,     &quot;John&quot;, &quot;passed&quot;),\r\n            new Test(&quot;English&quot;,     &quot;Dave&quot;, &quot;passed&quot;),\r\n            new Test(&quot;Science&quot;,     &quot;Alex&quot;, &quot;failed&quot;),\r\n            new Test(&quot;Science&quot;,     &quot;Jane&quot;, &quot;failed&quot;),\r\n            new Test(&quot;History&quot;,     &quot;Dave&quot;, &quot;passed&quot;),\r\n            new Test(&quot;Mathematics&quot;, &quot;Anna&quot;, &quot;passed&quot;),\r\n            new Test(&quot;Mathematics&quot;, &quot;Lisa&quot;, &quot;passed&quot;),\r\n            new Test(&quot;Mathematics&quot;, &quot;Paul&quot;, &quot;failed&quot;),\r\n            new Test(&quot;Geography&quot;,   &quot;Mark&quot;, &quot;passed&quot;),\r\n            new Test(&quot;Physics&quot;,     &quot;John&quot;, &quot;failed&quot;));\r\n\r\nI need to group by `testName` and count **only** where `status` equals `&quot;passed&quot;`. I need to do the equivalent of below code with streams :\r\n\r\n \r\n\r\n    Map&lt;String, Long&gt;  result2 = new HashMap&lt;&gt;();\r\n    for (Test t : tests) {\r\n        result2.putIfAbsent(t.getTestName(), 0L);\r\n        if (t.getStatus().equals(&quot;passed&quot;)) {\r\n            result2.computeIfPresent(t.getTestName(), (k, v) -&gt; v + 1);\r\n        }\r\n    }\r\n\r\nThe correct and desired output:\r\n\r\n    {Geography=1, English=2, Science=0, Mathematics=2, History=1, Physics=0}\r\n\r\nI&#39;m looking for a stream approach, but couldn&#39;t find a solution yet. A simple `Collectors.counting` will count all, regardless of status &quot;failed/passed&quot;:\r\n```\r\nMap&lt;String, Long&gt; resultCounting = tests.stream()\r\n    .collect(Collectors.groupingBy(\r\n        Test::getTestName,\r\n        Collectors.counting()\r\n    ));\r\n```\r\n*Output:*\r\n\r\n    {Geography=1, English=2, Science=2, Mathematics=3, History=1, Physics=1}\r\n\r\nI thought about filtering beforehand, but then I will loose those subjects where all statuses are `&quot;failed&quot;`. \r\n```\r\nMap&lt;String, Long&gt; resultFilter = tests.stream()\r\n    .filter(t -&gt; t.getStatus().equals(&quot;passed&quot;))\r\n    .collect(Collectors.groupingBy(\r\n        Test::getTestName,\r\n        Collectors.counting()\r\n    ));\r\n```\r\n*Output:*\r\n```\r\n{Geography=1, English=2, Mathematics=2, History=1}\r\n```\r\nHow can I group **all** tests by `testName`, but count only those where status is `&quot;passed&quot;` ?\r\n\r\nIs it possible to wrap `Collectors.counting()` in some kind of condition?","title":"Java Stream - groupingBy() and counting() when a curtain Condition is met","body":"<p>Given the following class <code>Test</code></p>\n<pre><code>class Test {\n    String testName;\n    String studName;\n    String status;\n}\n</code></pre>\n<p>and a <em>list</em> of <em>tests</em></p>\n<pre><code>List&lt;Test&gt; tests = List.of(\n        new Test(&quot;English&quot;,     &quot;John&quot;, &quot;passed&quot;),\n        new Test(&quot;English&quot;,     &quot;Dave&quot;, &quot;passed&quot;),\n        new Test(&quot;Science&quot;,     &quot;Alex&quot;, &quot;failed&quot;),\n        new Test(&quot;Science&quot;,     &quot;Jane&quot;, &quot;failed&quot;),\n        new Test(&quot;History&quot;,     &quot;Dave&quot;, &quot;passed&quot;),\n        new Test(&quot;Mathematics&quot;, &quot;Anna&quot;, &quot;passed&quot;),\n        new Test(&quot;Mathematics&quot;, &quot;Lisa&quot;, &quot;passed&quot;),\n        new Test(&quot;Mathematics&quot;, &quot;Paul&quot;, &quot;failed&quot;),\n        new Test(&quot;Geography&quot;,   &quot;Mark&quot;, &quot;passed&quot;),\n        new Test(&quot;Physics&quot;,     &quot;John&quot;, &quot;failed&quot;));\n</code></pre>\n<p>I need to group by <code>testName</code> and count <strong>only</strong> where <code>status</code> equals <code>&quot;passed&quot;</code>. I need to do the equivalent of below code with streams :</p>\n<pre><code>Map&lt;String, Long&gt;  result2 = new HashMap&lt;&gt;();\nfor (Test t : tests) {\n    result2.putIfAbsent(t.getTestName(), 0L);\n    if (t.getStatus().equals(&quot;passed&quot;)) {\n        result2.computeIfPresent(t.getTestName(), (k, v) -&gt; v + 1);\n    }\n}\n</code></pre>\n<p>The correct and desired output:</p>\n<pre><code>{Geography=1, English=2, Science=0, Mathematics=2, History=1, Physics=0}\n</code></pre>\n<p>I'm looking for a stream approach, but couldn't find a solution yet. A simple <code>Collectors.counting</code> will count all, regardless of status &quot;failed/passed&quot;:</p>\n<pre><code>Map&lt;String, Long&gt; resultCounting = tests.stream()\n    .collect(Collectors.groupingBy(\n        Test::getTestName,\n        Collectors.counting()\n    ));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>{Geography=1, English=2, Science=2, Mathematics=3, History=1, Physics=1}\n</code></pre>\n<p>I thought about filtering beforehand, but then I will loose those subjects where all statuses are <code>&quot;failed&quot;</code>.</p>\n<pre><code>Map&lt;String, Long&gt; resultFilter = tests.stream()\n    .filter(t -&gt; t.getStatus().equals(&quot;passed&quot;))\n    .collect(Collectors.groupingBy(\n        Test::getTestName,\n        Collectors.counting()\n    ));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>{Geography=1, English=2, Mathematics=2, History=1}\n</code></pre>\n<p>How can I group <strong>all</strong> tests by <code>testName</code>, but count only those where status is <code>&quot;passed&quot;</code> ?</p>\n<p>Is it possible to wrap <code>Collectors.counting()</code> in some kind of condition?</p>\n"},{"tags":["java","loops","if-statement","while-loop"],"comments":[{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":3,"creation_date":1659461028,"post_id":73211316,"comment_id":129298736,"body_markdown":"It looks like you are determining Armstrong numbers, a.k.a. [Narcissistic numbers](https://en.wikipedia.org/wiki/Narcissistic_number).  That link has Java code to determine them.  Get the number of digits first, then get the sum of digits raised to that power.  You&#39;re hard-coding an exponent of 3.","body":"It looks like you are determining Armstrong numbers, a.k.a. <a href=\"https://en.wikipedia.org/wiki/Narcissistic_number\" rel=\"nofollow noreferrer\">Narcissistic numbers</a>.  That link has Java code to determine them.  Get the number of digits first, then get the sum of digits raised to that power.  You&#39;re hard-coding an exponent of 3."},{"owner":{"account_id":20196739,"reputation":11,"user_id":14813496,"display_name":"Aswin Benny"},"score":0,"creation_date":1659486260,"post_id":73211316,"comment_id":129304938,"body_markdown":"Looks like i had failed to understand what an armstrong number is . 4 digits number should have power 4  and 5 digits the power used should be 5 and so on... Thank u for the clarification","body":"Looks like i had failed to understand what an armstrong number is . 4 digits number should have power 4  and 5 digits the power used should be 5 and so on... Thank u for the clarification"}],"answers":[{"tags":[],"owner":{"account_id":23306781,"reputation":1,"user_id":17386650,"display_name":"Sam Bhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659461264,"creation_date":1659461049,"answer_id":73211411,"question_id":73211316,"body_markdown":"    public class ArmstrongNumberDemo\r\n    {\r\n     public static void main(String[] args) {\r\n      int num = 9474, realNumber, remainder, output = 0, a = 0;\r\n      realNumber = num;\r\n      for(;realNumber != 0; realNumber /= 10, ++a);\r\n      realNumber = num;\r\n      for(;realNumber != 0; realNumber /= 10){\r\n         remainder = realNumber % 10;\r\n         output += Math.pow(remainder, a);\r\n      }\r\n      if(output == num){\r\n         System.out.println(num + &quot; is an Armstrong number.&quot;);\r\n      }\r\n      else{\r\n         System.out.println(num + &quot; is not an Armstrong number.&quot;);\r\n      }\r\n      }\r\n     }","title":"Java code finds Armstrong number upto 3 digit numbers but fails on 4 digit onwards","body":"<pre><code>public class ArmstrongNumberDemo\n{\n public static void main(String[] args) {\n  int num = 9474, realNumber, remainder, output = 0, a = 0;\n  realNumber = num;\n  for(;realNumber != 0; realNumber /= 10, ++a);\n  realNumber = num;\n  for(;realNumber != 0; realNumber /= 10){\n     remainder = realNumber % 10;\n     output += Math.pow(remainder, a);\n  }\n  if(output == num){\n     System.out.println(num + &quot; is an Armstrong number.&quot;);\n  }\n  else{\n     System.out.println(num + &quot; is not an Armstrong number.&quot;);\n  }\n  }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659461708,"creation_date":1659461708,"answer_id":73211549,"question_id":73211316,"body_markdown":"Your solution just support 3 digit numbers. If you want to change it for numbers with any digits should first count number of digits:\r\n\r\n    int numberOfDigits = 0;\r\n    while (originalNumber != 0) {\r\n         numberOfDigits++;\r\n         originalNumber /= 10;\r\n    }\r\n\r\nAnd then just a minor changes in your code for power of `Math.pow` method as:\r\n\r\n    result += Math.pow(remainder, numberOfDigits);\r\n\r\nThe  complete solution is:\r\n\r\n    class project1 {\r\n        public static void main(String[] args) {\r\n    \r\n            int number = 9474, originalNumber, remainder, result = 0;\r\n    \r\n            originalNumber = number;\r\n    \r\n            int numberOfDigits = 0;\r\n            while (originalNumber != 0) {\r\n                numberOfDigits++;\r\n                originalNumber /= 10;\r\n            }\r\n    \r\n            originalNumber = number;\r\n    \r\n            while (originalNumber != 0) {\r\n                remainder = originalNumber % 10;\r\n                result += Math.pow(remainder, numberOfDigits);\r\n                originalNumber /= 10;\r\n            }\r\n    \r\n            if (result == number)\r\n                System.out.println(number + &quot; is an Armstrong number.&quot;);\r\n            else\r\n                System.out.println(number + &quot; is not an Armstrong number.&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Java code finds Armstrong number upto 3 digit numbers but fails on 4 digit onwards","body":"<p>Your solution just support 3 digit numbers. If you want to change it for numbers with any digits should first count number of digits:</p>\n<pre><code>int numberOfDigits = 0;\nwhile (originalNumber != 0) {\n     numberOfDigits++;\n     originalNumber /= 10;\n}\n</code></pre>\n<p>And then just a minor changes in your code for power of <code>Math.pow</code> method as:</p>\n<pre><code>result += Math.pow(remainder, numberOfDigits);\n</code></pre>\n<p>The  complete solution is:</p>\n<pre><code>class project1 {\n    public static void main(String[] args) {\n\n        int number = 9474, originalNumber, remainder, result = 0;\n\n        originalNumber = number;\n\n        int numberOfDigits = 0;\n        while (originalNumber != 0) {\n            numberOfDigits++;\n            originalNumber /= 10;\n        }\n\n        originalNumber = number;\n\n        while (originalNumber != 0) {\n            remainder = originalNumber % 10;\n            result += Math.pow(remainder, numberOfDigits);\n            originalNumber /= 10;\n        }\n\n        if (result == number)\n            System.out.println(number + &quot; is an Armstrong number.&quot;);\n        else\n            System.out.println(number + &quot; is not an Armstrong number.&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20196739,"reputation":11,"user_id":14813496,"display_name":"Aswin Benny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73211549,"answer_count":2,"score":0,"last_activity_date":1659486863,"creation_date":1659460608,"question_id":73211316,"body_markdown":"I just started learning java 2 days ago and tried doing an assignment to find if the three digit number was an Armstrong number or not. This code works upto 3 digit numbers and after that it fails to work on 4 digit Armstrong numbers like 1634, 8208 etc..\r\n\r\n\r\n\r\n    public class project1 {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int number = 9474, originalNumber, remainder, result = 0;\r\n\r\n        originalNumber = number;\r\n\r\n        while (originalNumber != 0)\r\n        {\r\n            remainder = originalNumber % 10;\r\n            result += Math.pow(remainder, 3);\r\n            originalNumber /= 10;\r\n        }\r\n\r\n        if(result == number)\r\n            System.out.println(number + &quot; is an Armstrong number.&quot;);\r\n        else\r\n            System.out.println(number + &quot; is not an Armstrong number.&quot;);\r\n    }\r\n    }","title":"Java code finds Armstrong number upto 3 digit numbers but fails on 4 digit onwards","body":"<p>I just started learning java 2 days ago and tried doing an assignment to find if the three digit number was an Armstrong number or not. This code works upto 3 digit numbers and after that it fails to work on 4 digit Armstrong numbers like 1634, 8208 etc..</p>\n<pre><code>public class project1 {\n\npublic static void main(String[] args) {\n\n    int number = 9474, originalNumber, remainder, result = 0;\n\n    originalNumber = number;\n\n    while (originalNumber != 0)\n    {\n        remainder = originalNumber % 10;\n        result += Math.pow(remainder, 3);\n        originalNumber /= 10;\n    }\n\n    if(result == number)\n        System.out.println(number + &quot; is an Armstrong number.&quot;);\n    else\n        System.out.println(number + &quot; is not an Armstrong number.&quot;);\n}\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":20052037,"reputation":279,"user_id":14700539,"display_name":"Arsh"},"score":0,"creation_date":1659484815,"post_id":73214818,"comment_id":129304732,"body_markdown":"nobody can help you if you don&#39;t provide code","body":"nobody can help you if you don&#39;t provide code"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659512013,"post_id":73214818,"comment_id":129309488,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":9194285,"reputation":418,"user_id":8628330,"display_name":"Jamal N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659486217,"creation_date":1659486217,"answer_id":73215076,"question_id":73214818,"body_markdown":"I have this problem sometimes, this happens with me because my crappy mouse, and sometimes it is caused by the emulator which starts lagging with time and not recording my clicks properly, from time to time I just to wipe the data of the emulator to make work properly again. \r\nOne good solution to check if your doing things right, is to install your app in a real device and check if the button is working properly.","title":"android studio button sometimes doesn&#39;t work","body":"<p>I have this problem sometimes, this happens with me because my crappy mouse, and sometimes it is caused by the emulator which starts lagging with time and not recording my clicks properly, from time to time I just to wipe the data of the emulator to make work properly again.\nOne good solution to check if your doing things right, is to install your app in a real device and check if the button is working properly.</p>\n"}],"owner":{"account_id":25794662,"reputation":1,"user_id":19538075,"display_name":"Amulya Bisaria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659486217,"creation_date":1659483377,"question_id":73214818,"body_markdown":"I have a menu activity from which I want to go to the meat of my application. When I press the button to do so, it sometimes opens the main screen within a few moments, sometimes takes longer, and in many cases, doesn&#39;t work at all. In the case that it doesn&#39;t work, the button will usually work after clicking it again. I have used debug statements to determine that the button is (sometimes) not registering the clicks at all. What could be causing this?","title":"android studio button sometimes doesn&#39;t work","body":"<p>I have a menu activity from which I want to go to the meat of my application. When I press the button to do so, it sometimes opens the main screen within a few moments, sometimes takes longer, and in many cases, doesn't work at all. In the case that it doesn't work, the button will usually work after clicking it again. I have used debug statements to determine that the button is (sometimes) not registering the clicks at all. What could be causing this?</p>\n"},{"tags":["java","algorithm","loops","matrix"],"comments":[{"owner":{"account_id":453984,"reputation":142640,"user_id":851273,"display_name":"Jon Lin"},"score":0,"creation_date":1659448981,"post_id":73208806,"comment_id":129294083,"body_markdown":"According to that hackerrank page you linked, the answer you get back should be &quot;2&quot;, not &quot;15&quot;","body":"According to that hackerrank page you linked, the answer you get back should be &quot;2&quot;, not &quot;15&quot;"},{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1659449288,"post_id":73208806,"comment_id":129294211,"body_markdown":"Have you tried to debug it to see where is the problem comming from ?","body":"Have you tried to debug it to see where is the problem comming from ?"}],"answers":[{"tags":[],"owner":{"account_id":453984,"reputation":142640,"user_id":851273,"display_name":"Jon Lin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659449574,"creation_date":1659449574,"answer_id":73209081,"question_id":73208806,"body_markdown":"The problem you are having is a stray semicolon:\r\n\r\n            // right here----------v\r\n            if((i+j)==arr.size()-1);\r\n            {\r\n                d2=d2+arr.get(i).get(j);\r\n            }\r\n\r\nRemoving it should get you the correct answer of &quot;2&quot;","title":"Diagonal Difference in a Matrix","body":"<p>The problem you are having is a stray semicolon:</p>\n<pre><code>        // right here----------v\n        if((i+j)==arr.size()-1);\n        {\n            d2=d2+arr.get(i).get(j);\n        }\n</code></pre>\n<p>Removing it should get you the correct answer of &quot;2&quot;</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659450771,"creation_date":1659450184,"answer_id":73209212,"question_id":73208806,"body_markdown":"&gt; Given a **square matrix**, calculate the absolute difference between the sums of its diagonals. \r\n\r\nSince according to the description, we are given a *square matrix*, there&#39;s no need of creating a nested loop. And we can get rid of `if`-statements as well.\r\n\r\nThe code can be simplified to:\r\n\r\n    public static int diagonalDifference(List&lt;List&lt;Integer&gt;&gt; arr) {\r\n        int d1 = 0;\r\n        int d2 = 0;\r\n        \r\n        for (int i = 0; i &lt; arr.size(); i++) {\r\n            d1 += arr.get(i).get(i);\r\n            d2 += arr.get(arr.size() - 1 - i).get(i);\r\n        }\r\n        \r\n        return Math.abs(d1 - d2);\r\n    }\r\n\r\n*This solution passes all test cases*.","title":"Diagonal Difference in a Matrix","body":"<blockquote>\n<p>Given a <strong>square matrix</strong>, calculate the absolute difference between the sums of its diagonals.</p>\n</blockquote>\n<p>Since according to the description, we are given a <em>square matrix</em>, there's no need of creating a nested loop. And we can get rid of <code>if</code>-statements as well.</p>\n<p>The code can be simplified to:</p>\n<pre><code>public static int diagonalDifference(List&lt;List&lt;Integer&gt;&gt; arr) {\n    int d1 = 0;\n    int d2 = 0;\n    \n    for (int i = 0; i &lt; arr.size(); i++) {\n        d1 += arr.get(i).get(i);\n        d2 += arr.get(arr.size() - 1 - i).get(i);\n    }\n    \n    return Math.abs(d1 - d2);\n}\n</code></pre>\n<p><em>This solution passes all test cases</em>.</p>\n"}],"owner":{"account_id":21147492,"reputation":35,"user_id":15548500,"display_name":"Pushpendra Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1660663535,"accepted_answer_id":73209212,"answer_count":2,"score":-2,"last_activity_date":1659484220,"creation_date":1659448488,"question_id":73208806,"body_markdown":"I was trying to solve this [*problem on Hackerrank*](https://www.hackerrank.com/challenges/diagonal-difference/problem?isFullScreen=true&amp;h_r=next-challenge&amp;h_v=zen):\r\n\r\n&gt; Given a square matrix, calculate the absolute difference between the sums of its diagonals. \r\n\r\n*My code:*\r\n```\r\n public static int diagonalDifference(List&lt;List&lt;Integer&gt;&gt; arr) {\r\n    // Write your code here\r\n    int d1=0;\r\n    int d2=0;\r\n    for(int i=0;i&lt;arr.size();i++)\r\n    {\r\n        for(int j=0;j&lt;arr.get(i).size();j++)\r\n        {\r\n            if(i==j)\r\n            {\r\n                d1=d1+arr.get(i).get(j);\r\n            }\r\n            if((i+j)==arr.size()-1);\r\n            {\r\n                d2=d2+arr.get(i).get(j);\r\n            }\r\n        }\r\n    }\r\n    int ans =d1-d2;\r\n    return Math.abs(ans);\r\n    }\r\n}\r\n```\r\nThe following input\r\n```\r\n1 2 3\r\n4 5 6\r\n9 8 9\r\n```\r\nShould produce the output of `2`, but my code gives `34`. Can anyone explain why does that happens?\r\n\r\n","title":"Diagonal Difference in a Matrix","body":"<p>I was trying to solve this <a href=\"https://www.hackerrank.com/challenges/diagonal-difference/problem?isFullScreen=true&amp;h_r=next-challenge&amp;h_v=zen\" rel=\"nofollow noreferrer\"><em>problem on Hackerrank</em></a>:</p>\n<blockquote>\n<p>Given a square matrix, calculate the absolute difference between the sums of its diagonals.</p>\n</blockquote>\n<p><em>My code:</em></p>\n<pre><code> public static int diagonalDifference(List&lt;List&lt;Integer&gt;&gt; arr) {\n    // Write your code here\n    int d1=0;\n    int d2=0;\n    for(int i=0;i&lt;arr.size();i++)\n    {\n        for(int j=0;j&lt;arr.get(i).size();j++)\n        {\n            if(i==j)\n            {\n                d1=d1+arr.get(i).get(j);\n            }\n            if((i+j)==arr.size()-1);\n            {\n                d2=d2+arr.get(i).get(j);\n            }\n        }\n    }\n    int ans =d1-d2;\n    return Math.abs(ans);\n    }\n}\n</code></pre>\n<p>The following input</p>\n<pre><code>1 2 3\n4 5 6\n9 8 9\n</code></pre>\n<p>Should produce the output of <code>2</code>, but my code gives <code>34</code>. Can anyone explain why does that happens?</p>\n"},{"tags":["java","regex","string"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659477674,"creation_date":1659476985,"answer_id":73214151,"question_id":73214110,"body_markdown":"You could use 2 capture groups, and use a [tempered greedy token](https://stackoverflow.com/q/30900794/5424988) approach to not cross `@Section` followed by a digit.\r\n\r\n    #Section(\\d+)(?:(?!#Section\\d).)*\\bJack/M,\\d+\\h+(\\d+(?:\\.\\d+)?)\\b\r\n\r\n**Explanation**\r\n\r\n- `#Section(\\d+)` Match #Section and capture 1+ digits in **group 1**\r\n- `(?:(?!#Section\\d).)*` Match any character if not directly followed by #Section and a digit\r\n- `\\bJack/M,` Match the word Jack and `/M,`\r\n- `\\d+\\h+` Match 1+ digits and 1+ spaces\r\n- `(\\d+(?:\\.\\d+)?)` Capture **group 2**, match 1+ digits and an optional decimal part\r\n- `\\b` A word boundary\r\n\r\n[Regex demo](https://regex101.com/r/myOQPw/1)\r\n\r\nIn Java:\r\n\r\n    String regex = &quot;#Section(\\\\d+)(?:(?!#Section\\\\d).)*\\\\bJack/M,\\\\d+\\\\h+(\\\\d+(?:\\\\.\\\\d+)?)\\\\b&quot;;","title":"Use regex to get 2 specific groups of substring","body":"<p>You could use 2 capture groups, and use a <a href=\"https://stackoverflow.com/q/30900794/5424988\">tempered greedy token</a> approach to not cross <code>@Section</code> followed by a digit.</p>\n<pre><code>#Section(\\d+)(?:(?!#Section\\d).)*\\bJack/M,\\d+\\h+(\\d+(?:\\.\\d+)?)\\b\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>#Section(\\d+)</code> Match #Section and capture 1+ digits in <strong>group 1</strong></li>\n<li><code>(?:(?!#Section\\d).)*</code> Match any character if not directly followed by #Section and a digit</li>\n<li><code>\\bJack/M,</code> Match the word Jack and <code>/M,</code></li>\n<li><code>\\d+\\h+</code> Match 1+ digits and 1+ spaces</li>\n<li><code>(\\d+(?:\\.\\d+)?)</code> Capture <strong>group 2</strong>, match 1+ digits and an optional decimal part</li>\n<li><code>\\b</code> A word boundary</li>\n</ul>\n<p><a href=\"https://regex101.com/r/myOQPw/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>In Java:</p>\n<pre><code>String regex = &quot;#Section(\\\\d+)(?:(?!#Section\\\\d).)*\\\\bJack/M,\\\\d+\\\\h+(\\\\d+(?:\\\\.\\\\d+)?)\\\\b&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25962043,"reputation":68,"user_id":19678500,"display_name":"Yellow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659484108,"creation_date":1659481714,"answer_id":73214677,"question_id":73214110,"body_markdown":"If the only parts of each section that change are the section number, the name of the person and the last value (like in your example) then you can make a pattern very easily by using one of the sections where Jack appears and replacing the numbers you want by capturing groups.\r\n\r\nExample:\r\n```\r\n#Section250342,Main,First/HS/12345/Jack/M,2000 10.00\r\n```\r\nbecomes,\r\n```\r\n#Section(\\d+),Main,First/HS/12345/Jack/M,2000 (\\d+.\\d{2})\r\n```\r\nIf the section substring keeps the format but the other parts of it may change then just replace the rest like this:\r\n```\r\n#Section(\\d+),\\w+,(?:\\w+/)*Jack/M,\\d+ (\\d+.\\d{2})\r\n```\r\n\r\nI&#39;m assuming that &quot;Main&quot; is a class, &quot;First/HS/...&quot; is a path and that the last value always has 2 and only 2 decimal places.\r\n\r\n + \\d - A digit: [0-9]\r\n + \\w - A word character: [a-zA-Z_0-9]\r\n + \\+ - one or more times\r\n + \\* - zero or more times\r\n + {2} - exactly 2 times\r\n + () - a capturing group\r\n + (?:) - a non-capturing group\r\n\r\nFor reference see: &lt;https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Pattern.html&gt;\r\n\r\n**Simple Java example on how to get the values from the capturing groups using java.util.regex.Pattern and java.util.regex.Matcher**\r\n```\r\nimport java.util.regex.*;\r\n\r\npublic class GetMatch {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String s = &quot;#Section250342,Main,First/HS/12345/Jack/M,2000 10.00,#Section250322,Main,First/HS/12345/Aaron/N,2000 17.00,#Section250399,Main,First/HS/12345/Jimmy/N,2000 12.00,#Section251234,Main,First/HS/12345/Jack/M,2000 11.00&quot;;\r\n        \r\n        Pattern p = Pattern.compile(&quot;#Section(\\\\d+),\\\\w+,(?:\\\\w+/)*Jack/M,\\\\d+ (\\\\d+.\\\\d{2})&quot;);\r\n        Matcher m;\r\n        String[] tokens = s.split(&quot;,(?=#)&quot;); //split the sections into different strings\r\n        \r\n        for(String t : tokens) //checks every string that we got with the split\r\n        {   \r\n            m = p.matcher(t);\r\n            if(m.matches()) //if the string matches the pattern then print the capturing groups\r\n                System.out.printf(&quot;Section: %s, Value: %s\\n&quot;, m.group(1), m.group(2));\r\n        }\r\n    }\r\n}\r\n```","title":"Use regex to get 2 specific groups of substring","body":"<p>If the only parts of each section that change are the section number, the name of the person and the last value (like in your example) then you can make a pattern very easily by using one of the sections where Jack appears and replacing the numbers you want by capturing groups.</p>\n<p>Example:</p>\n<pre><code>#Section250342,Main,First/HS/12345/Jack/M,2000 10.00\n</code></pre>\n<p>becomes,</p>\n<pre><code>#Section(\\d+),Main,First/HS/12345/Jack/M,2000 (\\d+.\\d{2})\n</code></pre>\n<p>If the section substring keeps the format but the other parts of it may change then just replace the rest like this:</p>\n<pre><code>#Section(\\d+),\\w+,(?:\\w+/)*Jack/M,\\d+ (\\d+.\\d{2})\n</code></pre>\n<p>I'm assuming that &quot;Main&quot; is a class, &quot;First/HS/...&quot; is a path and that the last value always has 2 and only 2 decimal places.</p>\n<ul>\n<li>\\d - A digit: [0-9]</li>\n<li>\\w - A word character: [a-zA-Z_0-9]</li>\n<li>+ - one or more times</li>\n<li>* - zero or more times</li>\n<li>{2} - exactly 2 times</li>\n<li>() - a capturing group</li>\n<li>(?:) - a non-capturing group</li>\n</ul>\n<p>For reference see: <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Pattern.html</a></p>\n<p><strong>Simple Java example on how to get the values from the capturing groups using java.util.regex.Pattern and java.util.regex.Matcher</strong></p>\n<pre><code>import java.util.regex.*;\n\npublic class GetMatch {\n\n    public static void main(String[] args) {\n\n        String s = &quot;#Section250342,Main,First/HS/12345/Jack/M,2000 10.00,#Section250322,Main,First/HS/12345/Aaron/N,2000 17.00,#Section250399,Main,First/HS/12345/Jimmy/N,2000 12.00,#Section251234,Main,First/HS/12345/Jack/M,2000 11.00&quot;;\n        \n        Pattern p = Pattern.compile(&quot;#Section(\\\\d+),\\\\w+,(?:\\\\w+/)*Jack/M,\\\\d+ (\\\\d+.\\\\d{2})&quot;);\n        Matcher m;\n        String[] tokens = s.split(&quot;,(?=#)&quot;); //split the sections into different strings\n        \n        for(String t : tokens) //checks every string that we got with the split\n        {   \n            m = p.matcher(t);\n            if(m.matches()) //if the string matches the pattern then print the capturing groups\n                System.out.printf(&quot;Section: %s, Value: %s\\n&quot;, m.group(1), m.group(2));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25285411,"reputation":17,"user_id":19112514,"display_name":"Ajm Kir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1659484108,"creation_date":1659476612,"question_id":73214110,"body_markdown":"    String s = #Section250342,Main,First/HS/12345/Jack/M,2000 10.00,\r\n    #Section250322,Main,First/HS/12345/Aaron/N,2000 17.00,\r\n    #Section250399,Main,First/HS/12345/Jimmy/N,2000 12.00,\r\n    #Section251234,Main,First/HS/12345/Jack/M,2000 11.00\r\n\r\n\r\n\r\nWherever there is the word /Jack/M in the3 string, I want to pull the section numbers(250342,251234) and the values(10.00,11.00) associated with it using regex each time.\r\n\r\nI tried something like this https://regex101.com/r/4te0Lg/1 but it is still messed.\r\n\r\n    .Section(\\d+(?:\\.\\d+)?).*/Jack/M","title":"Use regex to get 2 specific groups of substring","body":"<pre><code>String s = #Section250342,Main,First/HS/12345/Jack/M,2000 10.00,\n#Section250322,Main,First/HS/12345/Aaron/N,2000 17.00,\n#Section250399,Main,First/HS/12345/Jimmy/N,2000 12.00,\n#Section251234,Main,First/HS/12345/Jack/M,2000 11.00\n</code></pre>\n<p>Wherever there is the word /Jack/M in the3 string, I want to pull the section numbers(250342,251234) and the values(10.00,11.00) associated with it using regex each time.</p>\n<p>I tried something like this <a href=\"https://regex101.com/r/4te0Lg/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/4te0Lg/1</a> but it is still messed.</p>\n<pre><code>.Section(\\d+(?:\\.\\d+)?).*/Jack/M\n</code></pre>\n"},{"tags":["java","flowlayout"],"answers":[{"tags":[],"owner":{"account_id":23560691,"reputation":5,"user_id":17602095,"display_name":"forvev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659478579,"creation_date":1659478579,"answer_id":73214348,"question_id":73214248,"body_markdown":"Just add the library: ***import java.awt.FlowLayout***\r\n","title":"How can I fix this error for Flow Layout in java?","body":"<p>Just add the library: <em><strong>import java.awt.FlowLayout</strong></em></p>\n"},{"tags":[],"owner":{"account_id":1178561,"reputation":5401,"user_id":1153988,"display_name":"C.Champagne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659483660,"creation_date":1659482506,"answer_id":73214743,"question_id":73214248,"body_markdown":"There is a potential conflict between the class you created `gui.FlowLayout` and `java.awt.FlowLayout`, the layout you have to give to your frame. \r\n\r\nThe error is due to the fact the `JFrame.setLayout()` method expects a `java.awt.FlowLayout` and not a `gui.FlowLayout` which is the only FlowLayout available in your code.\r\n\r\nTo fix that, I&#39;d do the following\r\n\r\n 1. Remove the ambiguity by renaming the class you created (to `FlowLayoutExample` for example).\r\n 2. Import the `java.awt.FlowLayout` you actually need.   \r\n\r\nThe code should become:\r\n\r\n    package gui;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import java.awt.FlowLayout;\r\n    \r\n    public class FlowLayoutExample {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            JFrame frame = new JFrame(); //cerates frame\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //exit out of application\r\n            frame.setSize(500, 500); //sets x-dimesion, and y-dimension of frame\r\n            frame.setLayout(new FlowLayout());\r\n    \r\n            frame.add(new JButton(&quot;1&quot;));\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n\r\n**Note:** there is also another possibility: you can skip the import and directly mention the complete class name (with the package):\r\n\r\n    frame.setLayout(new java.awt.FlowLayout());\r\n\r\nI tend to prefer the first solution because:\r\n\r\n - The name `FlowLayout` doesn&#39;t reflect what your class does while `FlowLayoutExample` is IMHO more explicit.\r\n - Always using complete class names makes your code more verbose and thus less readable.","title":"How can I fix this error for Flow Layout in java?","body":"<p>There is a potential conflict between the class you created <code>gui.FlowLayout</code> and <code>java.awt.FlowLayout</code>, the layout you have to give to your frame.</p>\n<p>The error is due to the fact the <code>JFrame.setLayout()</code> method expects a <code>java.awt.FlowLayout</code> and not a <code>gui.FlowLayout</code> which is the only FlowLayout available in your code.</p>\n<p>To fix that, I'd do the following</p>\n<ol>\n<li>Remove the ambiguity by renaming the class you created (to <code>FlowLayoutExample</code> for example).</li>\n<li>Import the <code>java.awt.FlowLayout</code> you actually need.</li>\n</ol>\n<p>The code should become:</p>\n<pre><code>package gui;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport java.awt.FlowLayout;\n\npublic class FlowLayoutExample {\n\n    public static void main(String[] args) {\n\n        JFrame frame = new JFrame(); //cerates frame\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //exit out of application\n        frame.setSize(500, 500); //sets x-dimesion, and y-dimension of frame\n        frame.setLayout(new FlowLayout());\n\n        frame.add(new JButton(&quot;1&quot;));\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> there is also another possibility: you can skip the import and directly mention the complete class name (with the package):</p>\n<pre><code>frame.setLayout(new java.awt.FlowLayout());\n</code></pre>\n<p>I tend to prefer the first solution because:</p>\n<ul>\n<li>The name <code>FlowLayout</code> doesn't reflect what your class does while <code>FlowLayoutExample</code> is IMHO more explicit.</li>\n<li>Always using complete class names makes your code more verbose and thus less readable.</li>\n</ul>\n"}],"owner":{"account_id":20707573,"reputation":5,"user_id":15205036,"display_name":"Musical Brothers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73214743,"answer_count":2,"score":0,"last_activity_date":1659483660,"creation_date":1659477694,"question_id":73214248,"body_markdown":"I don&#39;t know why but I get an error everythime I run this code.\r\n\r\nThe error is: \r\n***Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n     The method setLayout(LayoutManager) in the type JFrame is not applicable for the arguments (FlowLayout)\r\n\tat gui.FlowLayout.main(FlowLayout.java:14)***\r\n\r\nI&#39;m learning Java and I&#39;m a beginner so I don&#39;t really know what to do. Please help me.\r\n\r\n\r\n```\r\npackage gui;\r\n\r\nimport java.awt.LayoutManager;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\n\r\npublic class FlowLayout {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tJFrame frame = new JFrame(); //cerates frame\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //exit out of application\r\n\t\tframe.setSize(500, 500); //sets x-dimesion, and y-dimension of frame\r\n\t\tframe.setLayout(new FlowLayout());\r\n\t\t\r\n\t\tframe.add(new JButton(&quot;1&quot;));\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\r\n}\r\n```","title":"How can I fix this error for Flow Layout in java?","body":"<p>I don't know why but I get an error everythime I run this code.</p>\n<p>The error is:\n<em><strong>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:\nThe method setLayout(LayoutManager) in the type JFrame is not applicable for the arguments (FlowLayout)\nat gui.FlowLayout.main(FlowLayout.java:14)</strong></em></p>\n<p>I'm learning Java and I'm a beginner so I don't really know what to do. Please help me.</p>\n<pre><code>package gui;\n\nimport java.awt.LayoutManager;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\n\npublic class FlowLayout {\n\n    public static void main(String[] args) {\n        \n        JFrame frame = new JFrame(); //cerates frame\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //exit out of application\n        frame.setSize(500, 500); //sets x-dimesion, and y-dimension of frame\n        frame.setLayout(new FlowLayout());\n        \n        frame.add(new JButton(&quot;1&quot;));\n        frame.setVisible(true);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","csv","apache-commons"],"comments":[{"owner":{"account_id":277179,"reputation":3086,"user_id":571007,"display_name":"Jeroen"},"score":0,"creation_date":1659456791,"post_id":73210541,"comment_id":129297243,"body_markdown":"What does the request look like? How does it map to ClientDataObjectRequest?","body":"What does the request look like? How does it map to ClientDataObjectRequest?"},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1659464407,"post_id":73210541,"comment_id":129299684,"body_markdown":"Is a mapping a necessary thing? I cannot put here the request due limitation of space.","body":"Is a mapping a necessary thing? I cannot put here the request due limitation of space."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1659485563,"post_id":73210541,"comment_id":129304847,"body_markdown":"Does this answer your question? [Java - Write CSV File with Apache.commons.csv](https://stackoverflow.com/questions/36289043/java-write-csv-file-with-apache-commons-csv)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36289043/java-write-csv-file-with-apache-commons-csv\">Java - Write CSV File with Apache.commons.csv</a>"},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1659499996,"post_id":73210541,"comment_id":129306833,"body_markdown":"@MartinZeitler No, it does not answer but thanks anyway. BTW, I answered my on question. Please, check that.","body":"@MartinZeitler No, it does not answer but thanks anyway. BTW, I answered my on question. Please, check that."}],"answers":[{"tags":[],"owner":{"account_id":277179,"reputation":3086,"user_id":571007,"display_name":"Jeroen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659458540,"creation_date":1659458540,"answer_id":73210981,"question_id":73210541,"body_markdown":"Looking at your code and the result coming from the `printRecord` method  my first guess would be is that your request mapping is incorrect. \r\n\r\nAccording to the documentation of the `printRecord` method it will:\r\n\r\n&gt; Prints the given values a single record of delimiter separated values followed by the record separator.\r\n\r\nLooking at the code above it&#39;s just performing a for loop until there are no more values in the collection before it prints a new line.\r\n\r\n\r\n    for (final Object value : values) {\r\n        print(value);\r\n    }\r\n    println();\r\n\r\nAccording to the output given above that would mean that `List&lt;CompanyChartData&gt; record` in your for loop is a list that contains an Object that contains the all values coming from the request instead of a list of objects that contains your key value pairs.\r\n\r\n\r\nMy assumption would be that if you put a `System.out.println` statement in the for loop or attach a debugger it should it will only print once.\r\n","title":"How to write csv file using common-csv lib","body":"<p>Looking at your code and the result coming from the <code>printRecord</code> method  my first guess would be is that your request mapping is incorrect.</p>\n<p>According to the documentation of the <code>printRecord</code> method it will:</p>\n<blockquote>\n<p>Prints the given values a single record of delimiter separated values followed by the record separator.</p>\n</blockquote>\n<p>Looking at the code above it's just performing a for loop until there are no more values in the collection before it prints a new line.</p>\n<pre><code>for (final Object value : values) {\n    print(value);\n}\nprintln();\n</code></pre>\n<p>According to the output given above that would mean that <code>List&lt;CompanyChartData&gt; record</code> in your for loop is a list that contains an Object that contains the all values coming from the request instead of a list of objects that contains your key value pairs.</p>\n<p>My assumption would be that if you put a <code>System.out.println</code> statement in the for loop or attach a debugger it should it will only print once.</p>\n"},{"tags":[],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659483644,"creation_date":1659483644,"answer_id":73214834,"question_id":73210541,"body_markdown":"I found out how to change the outcome.  \r\nInstead of using this way:\r\n```\r\ntry(\r\n                ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n                CSVPrinter csvPrinter = new CSVPrinter(\r\n                        new PrintWriter(out),\r\n                        CSVFormat.EXCEL.withHeader(csvHeader)\r\n                );\r\n        ) {\r\n\r\n            for (List&lt;CompanyChartData&gt; record: csvBody) {\r\n                csvPrinter.printRecord(record);\r\n\r\n            }\r\n```\r\nI changed to this approach:\r\n```\r\ntry(\r\n                ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n                CSVPrinter csvPrinter = new CSVPrinter(\r\n                        new PrintWriter(out),\r\n                        CSVFormat.DEFAULT.withHeader(csvHeader).withQuoteMode(QuoteMode.NON_NUMERIC)\r\n                );\r\n        ) {\r\n\r\n            for (CompanyChartData record: csvBody) {\r\n                csvPrinter.printRecord(record.getClientName(), record.getValue());\r\n\r\n            }\r\n```\r\nAnd the response was\r\n```\r\n&quot;Client Name&quot;,&quot;Value&quot;\r\n&quot;client 1&quot;,1.0\r\n&quot;client 2&quot;,2.0\r\n&quot;client 3&quot;,53.78\r\n```","title":"How to write csv file using common-csv lib","body":"<p>I found out how to change the outcome.<br />\nInstead of using this way:</p>\n<pre><code>try(\n                ByteArrayOutputStream out = new ByteArrayOutputStream();\n                CSVPrinter csvPrinter = new CSVPrinter(\n                        new PrintWriter(out),\n                        CSVFormat.EXCEL.withHeader(csvHeader)\n                );\n        ) {\n\n            for (List&lt;CompanyChartData&gt; record: csvBody) {\n                csvPrinter.printRecord(record);\n\n            }\n</code></pre>\n<p>I changed to this approach:</p>\n<pre><code>try(\n                ByteArrayOutputStream out = new ByteArrayOutputStream();\n                CSVPrinter csvPrinter = new CSVPrinter(\n                        new PrintWriter(out),\n                        CSVFormat.DEFAULT.withHeader(csvHeader).withQuoteMode(QuoteMode.NON_NUMERIC)\n                );\n        ) {\n\n            for (CompanyChartData record: csvBody) {\n                csvPrinter.printRecord(record.getClientName(), record.getValue());\n\n            }\n</code></pre>\n<p>And the response was</p>\n<pre><code>&quot;Client Name&quot;,&quot;Value&quot;\n&quot;client 1&quot;,1.0\n&quot;client 2&quot;,2.0\n&quot;client 3&quot;,53.78\n</code></pre>\n"}],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73214834,"answer_count":2,"score":0,"last_activity_date":1659483644,"creation_date":1659456239,"question_id":73210541,"body_markdown":"I&#39;m using common-csv to write a CSV file from a request body and I&#39;m getting all the records in the same line and with double quotes:\r\n```\r\nClient Name,Value\r\n&quot;client 1,1.0&quot;,&quot;client 2,2.0&quot;,&quot;client 3,53.78&quot;,&quot;client 4,3.0&quot;,&quot;client 5555555,4.0&quot;,&quot;client 6,33.0&quot;,&quot;client 7,0.0&quot;,&quot;client 8,8.5&quot;\r\n```\r\nWhat I need is:\r\n```\r\nClient Name, Value\r\n&quot;client 1&quot;, 1.0\r\n&quot;client 2&quot;, 2.0\r\n&quot;client 3&quot;, 53.78 (and so on)\r\n```\r\nthis is the code (partial):\r\n```\r\n@PostMapping(value = &quot;/v1/csv&quot;)\r\n    public ResponseEntity&lt;InputStreamResource&gt; exportCSVV2(@RequestBody ClientDataObjectRequest clientDataObjectRequest){\r\n\r\n        String[] csvHeader = {&quot;Client Name&quot;,&quot;Value&quot;};\r\n        List&lt;List&lt;CompanyChartData&gt;&gt; csvBody = new ArrayList&lt;&gt;();\r\n        csvBody.add(clientDataObjectRequest.getCompanyChartData());\r\n\r\n        ByteArrayInputStream byteArrayOutputStream;\r\n\r\n        try(\r\n                ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n                CSVPrinter csvPrinter = new CSVPrinter(\r\n                        new PrintWriter(out),\r\n                        CSVFormat.EXCEL.withHeader(csvHeader)\r\n                );\r\n        ) {\r\n\r\n            for (List&lt;CompanyChartData&gt; record: csvBody) {\r\n                csvPrinter.printRecord(record);\r\n\r\n            }\r\n            csvPrinter.flush();\r\n            byteArrayOutputStream = new ByteArrayInputStream(out.toByteArray());\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e.getMessage());\r\n        }\r\n\r\n        InputStreamResource fileInputStream = new InputStreamResource(byteArrayOutputStream);\r\n\r\n        String dateFile = new SimpleDateFormat(&quot;MM-dd-yyyy&quot;).format(new java.util.Date());\r\n        String timeFile = new SimpleDateFormat(&quot;HH-mm&quot;).format(new java.util.Date());\r\n        String fileName = clientDataObjectRequest.getMetricName().replace(&quot; &quot;,&quot;_&quot;) + &quot;_&quot; + dateFile + &quot;T&quot; + timeFile;\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.set(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + fileName + &quot;.csv&quot;);\r\n        headers.set(HttpHeaders.CONTENT_TYPE, &quot;text/csv&quot;);\r\n\r\n        return new ResponseEntity&lt;&gt;(\r\n                fileInputStream,\r\n                headers,\r\n                HttpStatus.OK\r\n        );\r\n    }\r\n```\r\n\r\nThis code above is generating the response that I do not want. I&#39;ve tried others stuff like changing the CSVFormat to another standard, also tried using the method &quot;printRecords&quot; instead of &quot;printRecord&quot;. I did some research in the documentation but I&#39;m struggling to understand it.","title":"How to write csv file using common-csv lib","body":"<p>I'm using common-csv to write a CSV file from a request body and I'm getting all the records in the same line and with double quotes:</p>\n<pre><code>Client Name,Value\n&quot;client 1,1.0&quot;,&quot;client 2,2.0&quot;,&quot;client 3,53.78&quot;,&quot;client 4,3.0&quot;,&quot;client 5555555,4.0&quot;,&quot;client 6,33.0&quot;,&quot;client 7,0.0&quot;,&quot;client 8,8.5&quot;\n</code></pre>\n<p>What I need is:</p>\n<pre><code>Client Name, Value\n&quot;client 1&quot;, 1.0\n&quot;client 2&quot;, 2.0\n&quot;client 3&quot;, 53.78 (and so on)\n</code></pre>\n<p>this is the code (partial):</p>\n<pre><code>@PostMapping(value = &quot;/v1/csv&quot;)\n    public ResponseEntity&lt;InputStreamResource&gt; exportCSVV2(@RequestBody ClientDataObjectRequest clientDataObjectRequest){\n\n        String[] csvHeader = {&quot;Client Name&quot;,&quot;Value&quot;};\n        List&lt;List&lt;CompanyChartData&gt;&gt; csvBody = new ArrayList&lt;&gt;();\n        csvBody.add(clientDataObjectRequest.getCompanyChartData());\n\n        ByteArrayInputStream byteArrayOutputStream;\n\n        try(\n                ByteArrayOutputStream out = new ByteArrayOutputStream();\n                CSVPrinter csvPrinter = new CSVPrinter(\n                        new PrintWriter(out),\n                        CSVFormat.EXCEL.withHeader(csvHeader)\n                );\n        ) {\n\n            for (List&lt;CompanyChartData&gt; record: csvBody) {\n                csvPrinter.printRecord(record);\n\n            }\n            csvPrinter.flush();\n            byteArrayOutputStream = new ByteArrayInputStream(out.toByteArray());\n        } catch (IOException e) {\n            throw new RuntimeException(e.getMessage());\n        }\n\n        InputStreamResource fileInputStream = new InputStreamResource(byteArrayOutputStream);\n\n        String dateFile = new SimpleDateFormat(&quot;MM-dd-yyyy&quot;).format(new java.util.Date());\n        String timeFile = new SimpleDateFormat(&quot;HH-mm&quot;).format(new java.util.Date());\n        String fileName = clientDataObjectRequest.getMetricName().replace(&quot; &quot;,&quot;_&quot;) + &quot;_&quot; + dateFile + &quot;T&quot; + timeFile;\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.set(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + fileName + &quot;.csv&quot;);\n        headers.set(HttpHeaders.CONTENT_TYPE, &quot;text/csv&quot;);\n\n        return new ResponseEntity&lt;&gt;(\n                fileInputStream,\n                headers,\n                HttpStatus.OK\n        );\n    }\n</code></pre>\n<p>This code above is generating the response that I do not want. I've tried others stuff like changing the CSVFormat to another standard, also tried using the method &quot;printRecords&quot; instead of &quot;printRecord&quot;. I did some research in the documentation but I'm struggling to understand it.</p>\n"},{"tags":["java","maven","selenium","maven-surefire-plugin","cucumber-junit"],"comments":[{"owner":{"account_id":13973715,"reputation":2843,"user_id":10091597,"display_name":"Muzzamil"},"score":0,"creation_date":1579293292,"post_id":59794309,"comment_id":105731065,"body_markdown":"Which plugin you are using for execution. Surefire or failsafe?","body":"Which plugin you are using for execution. Surefire or failsafe?"},{"owner":{"account_id":9862974,"reputation":400,"user_id":7305307,"display_name":"Yash Bansal"},"score":0,"creation_date":1579303462,"post_id":59794309,"comment_id":105733964,"body_markdown":"How are you using that parameter in your mvn command","body":"How are you using that parameter in your mvn command"},{"owner":{"account_id":14464126,"reputation":139,"user_id":10448108,"display_name":"Tabassum"},"score":0,"creation_date":1579432615,"post_id":59794309,"comment_id":105758193,"body_markdown":"i use surefire to execute the failed test, command is : mvn clean verify -Dcucumber.tags=@test123 -Dfailsafe.rerunFailingTestsCount=3","body":"i use surefire to execute the failed test, command is : mvn clean verify -Dcucumber.tags=@test123 -Dfailsafe.rerunFailingTestsCount=3"},{"owner":{"account_id":14464126,"reputation":139,"user_id":10448108,"display_name":"Tabassum"},"score":0,"creation_date":1579433392,"post_id":59794309,"comment_id":105758329,"body_markdown":"also you can find my sample project for reference with the same configuration and same error at : https://github.com/tabu0024/VehicleRegistrationTest/tree/master","body":"also you can find my sample project for reference with the same configuration and same error at : <a href=\"https://github.com/tabu0024/VehicleRegistrationTest/tree/master\" rel=\"nofollow noreferrer\">github.com/tabu0024/VehicleRegistrationTest/tree/master</a>"},{"owner":{"account_id":2445,"reputation":27389,"user_id":3408,"accept_rate":51,"display_name":"rjmunro"},"score":0,"creation_date":1623249122,"post_id":59794309,"comment_id":120026043,"body_markdown":"Does this answer your question? [Surefire rerun failing tests not working](https://stackoverflow.com/questions/40785891/surefire-rerun-failing-tests-not-working)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40785891/surefire-rerun-failing-tests-not-working\">Surefire rerun failing tests not working</a>"}],"answers":[{"tags":[],"owner":{"account_id":1658694,"reputation":1592,"user_id":1527469,"display_name":"awgtek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659482608,"creation_date":1659482608,"answer_id":73214750,"question_id":59794309,"body_markdown":"I was having a similar issue running cucumber tests using approximately the same versions, where scenarios were not getting retried.\r\n\r\nSolution was to bump the fail-safe plugin version to **2.21.0** as well as bump the cucumber versions.\r\n\r\nThe hint is provided in the following page: https://maven.apache.org/surefire/maven-failsafe-plugin/examples/rerun-failing-tests.html\r\n\r\n&gt; Since of 2.21.0 the provider surefire-junit47 can rerun scenarios\r\n&gt; created by cucumber-jvm 2.0.0 and higher.\r\n\r\nSo change the group `info.cukes` to `io.cucumber` and set version appropriately, e.g.:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand the fail-safe plugin:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.21.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;integration-tests&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;integration-test&lt;/goal&gt;\r\n              &lt;goal&gt;verify&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;systemProperties combine.children=&quot;append&quot; /&gt;\r\n              &lt;rerunFailingTestsCount&gt;2&lt;/rerunFailingTestsCount&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nNote that the `rerunFailingTestsCount` parameter worked both in the configuration as shown here or as a property (e.g. `mvn clean verify -Dfailsafe.rerunFailingTestsCount=2`).","title":"rerunFailingTestsCount=N is not working for me","body":"<p>I was having a similar issue running cucumber tests using approximately the same versions, where scenarios were not getting retried.</p>\n<p>Solution was to bump the fail-safe plugin version to <strong>2.21.0</strong> as well as bump the cucumber versions.</p>\n<p>The hint is provided in the following page: <a href=\"https://maven.apache.org/surefire/maven-failsafe-plugin/examples/rerun-failing-tests.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-failsafe-plugin/examples/rerun-failing-tests.html</a></p>\n<blockquote>\n<p>Since of 2.21.0 the provider surefire-junit47 can rerun scenarios\ncreated by cucumber-jvm 2.0.0 and higher.</p>\n</blockquote>\n<p>So change the group <code>info.cukes</code> to <code>io.cucumber</code> and set version appropriately, e.g.:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n  &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n  &lt;version&gt;2.3.1&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and the fail-safe plugin:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.21.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;integration-tests&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;integration-test&lt;/goal&gt;\n          &lt;goal&gt;verify&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;systemProperties combine.children=&quot;append&quot; /&gt;\n          &lt;rerunFailingTestsCount&gt;2&lt;/rerunFailingTestsCount&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>Note that the <code>rerunFailingTestsCount</code> parameter worked both in the configuration as shown here or as a property (e.g. <code>mvn clean verify -Dfailsafe.rerunFailingTestsCount=2</code>).</p>\n"}],"owner":{"account_id":14464126,"reputation":139,"user_id":10448108,"display_name":"Tabassum"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1742,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659482608,"creation_date":1579292182,"question_id":59794309,"body_markdown":"i am tryring to rerun the failed tests using maven surefire plugin using parameter &quot;rerunFailingTestsCount=N&quot;\r\n\r\ni am not able to achieve retry with following POm and my runner class, tried with difference versions on maven Surefire from 2.19.1 onwards\r\n\r\nany help around it is appreciated\r\n***************my POM is as follow:***********************\r\n```\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;OnlineTest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;VehicleRegistrationTest&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;${name}&lt;/name&gt;\r\n    &lt;properties&gt;\r\n        &lt;name&gt;VehicleRegistration&lt;/name&gt;\r\n        &lt;maven.build.timestamp.format&gt;yyyy-MM-dd-HHmm&lt;/maven.build.timestamp.format&gt;\r\n        &lt;buildNumber&gt;${maven.build.timestamp}&lt;/buildNumber&gt;\r\n        &lt;reports.directory&gt;${project.build.directory}/../reports/&lt;/reports.directory&gt;\r\n        &lt;selenium.enabled&gt;true&lt;/selenium.enabled&gt;\r\n        &lt;test.parallel.count&gt;2&lt;/test.parallel.count&gt;\r\n        &lt;surefire.maven.plugin.version&gt;2.20.1&lt;/surefire.maven.plugin.version&gt;\r\n        &lt;cucumber.jvm.parallel.version&gt;4.2.0&lt;/cucumber.jvm.parallel.version&gt;\r\n        &lt;parallel.scheme&gt;SCENARIO&lt;/parallel.scheme&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n            &lt;artifactId&gt;surefire-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-runner&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-report-generator&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-runner&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-runner&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-report-generator&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-runner&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-report-generator&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-report-generator&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n            &lt;id&gt;hindsighttesting.release&lt;/id&gt;\r\n            &lt;name&gt;Hindsight Software Release Repository&lt;/name&gt;\r\n            &lt;url&gt;http://repo.hindsightsoftware.com/public-maven&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.20.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;forkCount&gt;${test.parallel.count}&lt;/forkCount&gt;\r\n                    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n                    &lt;workingDirectory&gt;parallel-tests-fork-${surefire.forkNumber}&lt;/workingDirectory&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.20.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*testRunner.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;rerunFailingTestsCount&gt;3&lt;/rerunFailingTestsCount&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${cucumber.jvm.parallel.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generateRunners&lt;/id&gt;\r\n                        &lt;phase&gt;generate-test-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generateRunners&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;glue&gt;\r\n                                &lt;package&gt;stepDefinition.Hooks&lt;/package&gt;\r\n                                &lt;package&gt;webDriver&lt;/package&gt;\r\n                                &lt;package&gt;stepDefinitions&lt;/package&gt;\r\n                            &lt;/glue&gt;\r\n                            &lt;featuresDirectory&gt;src/test/resources/featureFiles/&lt;/featuresDirectory&gt;\r\n                            &lt;cucumberOutputDir&gt;target/json-reports&lt;/cucumberOutputDir&gt;\r\n                            &lt;format&gt;json&lt;/format&gt;\r\n                            &lt;parallelScheme&gt;${parallel.scheme}&lt;/parallelScheme&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;report.donut&lt;/groupId&gt;\r\n                &lt;artifactId&gt;donut-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;execution&lt;/id&gt;\r\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceDirectory&gt;${project.build.directory}/json-reports&lt;/sourceDirectory&gt;\r\n                            &lt;outputDirectory&gt;reports/testReports&lt;/outputDirectory&gt;\r\n                            &lt;prefix&gt;rcf-test-${maven.build.timestamp}&lt;/prefix&gt;\r\n                            &lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\r\n                            &lt;template&gt;default&lt;/template&gt;\r\n                            &lt;projectName&gt;${project.name}&lt;/projectName&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;compilerArgument&gt;-Werror&lt;/compilerArgument&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\n  \r\n***************my testRunner class is as follow:*******************\r\n\r\n    import cucumber.api.CucumberOptions;\r\nimport cucumber.api.junit.Cucumber;\r\nimport org.junit.runner.RunWith;\r\n\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(\r\n        features = {&quot;featureFiles&quot;},\r\n        glue = {&quot;stepDefinitions&quot;},\r\n        plugin ={&quot;rerun:target/rerun.txt&quot;}\r\n)\r\n\r\npublic class testRunner { }\r\n\r\n","title":"rerunFailingTestsCount=N is not working for me","body":"<p>i am tryring to rerun the failed tests using maven surefire plugin using parameter \"rerunFailingTestsCount=N\"</p>\n\n<p>i am not able to achieve retry with following POm and my runner class, tried with difference versions on maven Surefire from 2.19.1 onwards</p>\n\n<p>any help around it is appreciated\n***************my POM is as follow:***********************</p>\n\n<pre><code>     &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;OnlineTest&lt;/groupId&gt;\n    &lt;artifactId&gt;VehicleRegistrationTest&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;${name}&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;name&gt;VehicleRegistration&lt;/name&gt;\n        &lt;maven.build.timestamp.format&gt;yyyy-MM-dd-HHmm&lt;/maven.build.timestamp.format&gt;\n        &lt;buildNumber&gt;${maven.build.timestamp}&lt;/buildNumber&gt;\n        &lt;reports.directory&gt;${project.build.directory}/../reports/&lt;/reports.directory&gt;\n        &lt;selenium.enabled&gt;true&lt;/selenium.enabled&gt;\n        &lt;test.parallel.count&gt;2&lt;/test.parallel.count&gt;\n        &lt;surefire.maven.plugin.version&gt;2.20.1&lt;/surefire.maven.plugin.version&gt;\n        &lt;cucumber.jvm.parallel.version&gt;4.2.0&lt;/cucumber.jvm.parallel.version&gt;\n        &lt;parallel.scheme&gt;SCENARIO&lt;/parallel.scheme&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n            &lt;artifactId&gt;surefire-api&lt;/artifactId&gt;\n            &lt;version&gt;2.20.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-runner&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-junit&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\n            &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-report-generator&lt;/artifactId&gt;\n            &lt;version&gt;1.3.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-runner&lt;/artifactId&gt;\n            &lt;version&gt;1.3.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-runner&lt;/artifactId&gt;\n            &lt;version&gt;1.3.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-report-generator&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-runner&lt;/artifactId&gt;\n            &lt;version&gt;1.3.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-report-generator&lt;/artifactId&gt;\n            &lt;version&gt;1.3.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-report-generator&lt;/artifactId&gt;\n            &lt;version&gt;1.3.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;id&gt;hindsighttesting.release&lt;/id&gt;\n            &lt;name&gt;Hindsight Software Release Repository&lt;/name&gt;\n            &lt;url&gt;http://repo.hindsightsoftware.com/public-maven&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.20.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;forkCount&gt;${test.parallel.count}&lt;/forkCount&gt;\n                    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n                    &lt;workingDirectory&gt;parallel-tests-fork-${surefire.forkNumber}&lt;/workingDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.20.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*testRunner.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;rerunFailingTestsCount&gt;3&lt;/rerunFailingTestsCount&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${cucumber.jvm.parallel.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generateRunners&lt;/id&gt;\n                        &lt;phase&gt;generate-test-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generateRunners&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;glue&gt;\n                                &lt;package&gt;stepDefinition.Hooks&lt;/package&gt;\n                                &lt;package&gt;webDriver&lt;/package&gt;\n                                &lt;package&gt;stepDefinitions&lt;/package&gt;\n                            &lt;/glue&gt;\n                            &lt;featuresDirectory&gt;src/test/resources/featureFiles/&lt;/featuresDirectory&gt;\n                            &lt;cucumberOutputDir&gt;target/json-reports&lt;/cucumberOutputDir&gt;\n                            &lt;format&gt;json&lt;/format&gt;\n                            &lt;parallelScheme&gt;${parallel.scheme}&lt;/parallelScheme&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;report.donut&lt;/groupId&gt;\n                &lt;artifactId&gt;donut-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;execution&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirectory&gt;${project.build.directory}/json-reports&lt;/sourceDirectory&gt;\n                            &lt;outputDirectory&gt;reports/testReports&lt;/outputDirectory&gt;\n                            &lt;prefix&gt;rcf-test-${maven.build.timestamp}&lt;/prefix&gt;\n                            &lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\n                            &lt;template&gt;default&lt;/template&gt;\n                            &lt;projectName&gt;${project.name}&lt;/projectName&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;compilerArgument&gt;-Werror&lt;/compilerArgument&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n\n\n***************my testRunner class is as follow:*******************\n\n    import cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\nimport org.junit.runner.RunWith;\n\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = {\"featureFiles\"},\n        glue = {\"stepDefinitions\"},\n        plugin ={\"rerun:target/rerun.txt\"}\n)\n\npublic class testRunner { }\n\n\n</code></pre>\n"},{"tags":["java","selenium","maven","junit","automated-tests"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649279484,"post_id":71773486,"comment_id":126838905,"body_markdown":"First `src/test/java/com.selenium.test` this is not a correct package `src/test/java/com/selenium/test` second the name `Apptest2` does not follow naming convention. It must end with `*Test.java` and pay attention to case so change it into `AppTwoTest`... instead ... And you should rename your `AppTest` because it&#39;s not a test itself it&#39;s only a base class for other tests so for example `AppTestBase` ...","body":"First <code>src&#47;test&#47;java&#47;com.selenium.test</code> this is not a correct package <code>src&#47;test&#47;java&#47;com&#47;selenium&#47;test</code> second the name <code>Apptest2</code> does not follow naming convention. It must end with <code>*Test.java</code> and pay attention to case so change it into <code>AppTwoTest</code>... instead ... And you should rename your <code>AppTest</code> because it&#39;s not a test itself it&#39;s only a base class for other tests so for example <code>AppTestBase</code> ..."},{"owner":{"account_id":24851159,"reputation":1,"user_id":18728081,"display_name":"hetrera"},"score":0,"creation_date":1649282549,"post_id":71773486,"comment_id":126839677,"body_markdown":"Thanks a lot @khmarbaise , i&#39;ve changed the name of my class test to HelloTest and everything works well.","body":"Thanks a lot @khmarbaise , i&#39;ve changed the name of my class test to HelloTest and everything works well."}],"answers":[{"tags":[],"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649279271,"creation_date":1649279271,"answer_id":71773617,"question_id":71773486,"body_markdown":"perhaps you need to run &quot;mvn clean compile&quot; first (usally I run &quot;mvn clean install&#39; all the time). I guess problem is that your new class with new @Test annotation was not recompiled. I see that \r\n\r\n[INFO] --- maven-compiler-plugin:3.1:testCompile (**default-testCompile**) @ SeleniumTest \r\n\r\n**[INFO] Nothing to compile - all classes are up to date**","title":"The annotations not working in maven project","body":"<p>perhaps you need to run &quot;mvn clean compile&quot; first (usally I run &quot;mvn clean install' all the time). I guess problem is that your new class with new @Test annotation was not recompiled. I see that</p>\n<p>[INFO] --- maven-compiler-plugin:3.1:testCompile (<strong>default-testCompile</strong>) @ SeleniumTest</p>\n<p><strong>[INFO] Nothing to compile - all classes are up to date</strong></p>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649315576,"creation_date":1649315576,"answer_id":71777798,"question_id":71773486,"body_markdown":"First `src/test/java/com.selenium.test` this is not a correct package `src/test/java/com/selenium/test` second the name `Apptest2` does not follow naming convention. It must end with `*Test.java` and pay attention to case so change it into `AppTwoTest`... instead ... And you should rename your `AppTest` because it&#39;s not a test itself it&#39;s only a base class for other tests so for example `AppTestBase`","title":"The annotations not working in maven project","body":"<p>First <code>src/test/java/com.selenium.test</code> this is not a correct package <code>src/test/java/com/selenium/test</code> second the name <code>Apptest2</code> does not follow naming convention. It must end with <code>*Test.java</code> and pay attention to case so change it into <code>AppTwoTest</code>... instead ... And you should rename your <code>AppTest</code> because it's not a test itself it's only a base class for other tests so for example <code>AppTestBase</code></p>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659482574,"creation_date":1659482574,"answer_id":73214748,"question_id":71773486,"body_markdown":"Looks to me like you simply haven&#39;t configured maven-surefire-plugin to be able to find your Test classes.\r\n\r\nAlso, you might want to use &quot;Selenium-Jupiter&quot; instead of the configuration you have in your Pom.  Just my opinion.\r\n\r\nHere are the examples: https://github.com/bonigarcia/selenium-jupiter-examples","title":"The annotations not working in maven project","body":"<p>Looks to me like you simply haven't configured maven-surefire-plugin to be able to find your Test classes.</p>\n<p>Also, you might want to use &quot;Selenium-Jupiter&quot; instead of the configuration you have in your Pom.  Just my opinion.</p>\n<p>Here are the examples: <a href=\"https://github.com/bonigarcia/selenium-jupiter-examples\" rel=\"nofollow noreferrer\">https://github.com/bonigarcia/selenium-jupiter-examples</a></p>\n"}],"owner":{"account_id":24851159,"reputation":1,"user_id":18728081,"display_name":"hetrera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":881,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1659482574,"creation_date":1649278387,"question_id":71773486,"body_markdown":"I hope everyone is going well, i have following 2 classes under src/test/java/com.selenium.test:\r\n    \r\n  AppTest.java:\r\n\r\n    package com.selenium.test;\r\n\r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n\r\n    public class AppTest {\r\n\t\r\n    WebDriver driver;\r\n\r\n\t//Before function\r\n\t@Before\r\n\tpublic void Begin()\r\n\t{\r\n\t\tWebDriverManager.chromedriver().setup();\r\n\t    driver = new ChromeDriver();\r\n\t    driver.manage().window().maximize();\r\n\t}\r\n\t\r\n\t@After\r\n\tpublic void End()\r\n\t{\r\n\t\tdriver.quit();\r\n\t}\r\n    }\r\n\r\nand the second class  Projectest.java:\r\n\r\n    package com.selenium.test;\r\n\r\n    import org.junit.Test;\r\n\r\n    public class Apptest2 extends AppTest{\r\n\t\r\n\t@Test\r\n\tpublic void testWebsite(){\r\n\t    System.out.println(&quot;Starting test &quot; + new Object({}.getClass().getEnclosingMethod().getName());\r\n\t    driver.get(&quot;http://www.google.com&quot;);\r\n     }\r\n\r\nin cmd i access to the project folder and i write this command &quot;mvn test&quot;, this is the output that i have:\r\n\r\n    C:\\Users\\user\\eclipse-workspace\\SeleniumTest&gt;mvn test\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ---------------------&lt; com.selenium:SeleniumTest &gt;----------------------\r\n    [INFO] Building SeleniumTest 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ SeleniumTest ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is \r\n    platform dependent!\r\n    [INFO] Copying 0 resource\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ SeleniumTest ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ SeleniumTest ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is \r\n    platform dependent!\r\n    [INFO] Copying 0 resource\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ SeleniumTest ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:3.0.0-M4:test (default-test) @ SeleniumTest ---\r\n    [INFO]\r\n    [INFO] -------------------------------------------------------\r\n    [INFO]  T E S T S\r\n    [INFO] -------------------------------------------------------\r\n    [INFO]\r\n    [INFO] Results:\r\n    [INFO]\r\n    [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  2.106 s\r\n    [INFO] Finished at: 2022-04-06T21:43:07+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nthis is also my &quot;pom.xml&quot; file:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven- \r\n    4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;SeleniumTest&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    &lt;/dependencies&gt;\r\n\r\n     &lt;build&gt;\r\n        &lt;plugins&gt;\r\n        \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\n   \r\n      &lt;reporting&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/reporting&gt;\r\n\r\nThe problem is that when i put the @test code in the first class like this:\r\n\r\n    package com.selenium.test;\r\n\r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n\r\n    public class AppTest {\r\n\tWebDriver driver;\r\n\r\n\t//Before function\r\n\t@Before\r\n\tpublic void Begin()\r\n\t{\r\n\t\tWebDriverManager.chromedriver().setup();\r\n\t    driver = new ChromeDriver();\r\n\t    driver.manage().window().maximize();\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testWebsite(){\r\n\t    System.out.println(&quot;Starting test &quot; + new Object(){}.getClass().getEnclosingMethod().getName());\r\n\t    driver.get(&quot;http://www.google.com&quot;);\r\n\t}\r\n\t\r\n\t@After\r\n\tpublic void End()\r\n\t{\r\n\t\tdriver.quit();\r\n\t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n when i write the command mvn test, i have this output:\r\n\r\n     -------------------------------------------------------\r\n     [INFO]  T E S T S\r\n     [INFO] -------------------------------------------------------\r\n     [INFO]\r\n     [INFO] Results:\r\n     [INFO]\r\n     [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0 \r\n\r\nbut when i wrote the @test in the second class as shown above, i have this resultat:\r\n\r\n     -------------------------------------------------------\r\n     [INFO]  T E S T S\r\n     [INFO] -------------------------------------------------------\r\n     [INFO]\r\n     [INFO] Results:\r\n     [INFO]\r\n     [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n\r\nI didn&#39;t understand where the problem is, can anyone please help me. Thank you in advance","title":"The annotations not working in maven project","body":"<p>I hope everyone is going well, i have following 2 classes under src/test/java/com.selenium.test:</p>\n<p>AppTest.java:</p>\n<pre><code>package com.selenium.test;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class AppTest {\n\nWebDriver driver;\n\n//Before function\n@Before\npublic void Begin()\n{\n    WebDriverManager.chromedriver().setup();\n    driver = new ChromeDriver();\n    driver.manage().window().maximize();\n}\n\n@After\npublic void End()\n{\n    driver.quit();\n}\n}\n</code></pre>\n<p>and the second class  Projectest.java:</p>\n<pre><code>package com.selenium.test;\n\nimport org.junit.Test;\n\npublic class Apptest2 extends AppTest{\n\n@Test\npublic void testWebsite(){\n    System.out.println(&quot;Starting test &quot; + new Object({}.getClass().getEnclosingMethod().getName());\n    driver.get(&quot;http://www.google.com&quot;);\n }\n</code></pre>\n<p>in cmd i access to the project folder and i write this command &quot;mvn test&quot;, this is the output that i have:</p>\n<pre><code>C:\\Users\\user\\eclipse-workspace\\SeleniumTest&gt;mvn test\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ---------------------&lt; com.selenium:SeleniumTest &gt;----------------------\n[INFO] Building SeleniumTest 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ SeleniumTest ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is \nplatform dependent!\n[INFO] Copying 0 resource\n[INFO]\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ SeleniumTest ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ SeleniumTest ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is \nplatform dependent!\n[INFO] Copying 0 resource\n[INFO]\n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ SeleniumTest ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- maven-surefire-plugin:3.0.0-M4:test (default-test) @ SeleniumTest ---\n[INFO]\n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO]\n[INFO] Results:\n[INFO]\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.106 s\n[INFO] Finished at: 2022-04-06T21:43:07+02:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>this is also my &quot;pom.xml&quot; file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven- \n4.0.0.xsd&quot;&gt;\n\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.selenium&lt;/groupId&gt;\n&lt;artifactId&gt;SeleniumTest&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;4.4.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n\n &lt;build&gt;\n    &lt;plugins&gt;\n    \n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M4&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n\n  &lt;reporting&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M4&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/reporting&gt;\n</code></pre>\n<p>The problem is that when i put the @test code in the first class like this:</p>\n<pre><code>package com.selenium.test;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class AppTest {\nWebDriver driver;\n\n//Before function\n@Before\npublic void Begin()\n{\n    WebDriverManager.chromedriver().setup();\n    driver = new ChromeDriver();\n    driver.manage().window().maximize();\n}\n\n@Test\npublic void testWebsite(){\n    System.out.println(&quot;Starting test &quot; + new Object(){}.getClass().getEnclosingMethod().getName());\n    driver.get(&quot;http://www.google.com&quot;);\n}\n\n@After\npublic void End()\n{\n    driver.quit();\n}\n}\n</code></pre>\n<p>when i write the command mvn test, i have this output:</p>\n<pre><code> -------------------------------------------------------\n [INFO]  T E S T S\n [INFO] -------------------------------------------------------\n [INFO]\n [INFO] Results:\n [INFO]\n [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0 \n</code></pre>\n<p>but when i wrote the @test in the second class as shown above, i have this resultat:</p>\n<pre><code> -------------------------------------------------------\n [INFO]  T E S T S\n [INFO] -------------------------------------------------------\n [INFO]\n [INFO] Results:\n [INFO]\n [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n<p>I didn't understand where the problem is, can anyone please help me. Thank you in advance</p>\n"},{"tags":["java","intellij-idea","minecraft-fabric"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1659482299,"post_id":73214529,"comment_id":129304376,"body_markdown":"Someone is trying to use your absolute path name as a relative path.  Do you see it have `...\\jbr\\bin\\C:\\Users\\user\\...`.  Is that in a configuration file?","body":"Someone is trying to use your absolute path name as a relative path.  Do you see it have <code>...\\jbr\\bin\\C:\\Users\\user\\...</code>.  Is that in a configuration file?"}],"answers":[{"tags":[],"owner":{"account_id":25228009,"reputation":171,"user_id":19545008,"display_name":"PasWei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659482353,"creation_date":1659482353,"answer_id":73214730,"question_id":73214529,"body_markdown":"**Your output directory is not correct.**\r\n\r\nIn Windows, there is only one : allowed after specifying the drive letter. Your path \r\n\r\n    C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\jbr\\bin\\C:\\Users\\user\\Downloads\\mymod\\out\\production\\mymod.main\\assets\\modid\\icon.png\r\n\r\nspecifies the path starting from the drive letter (the C drive) twice.\r\n\r\nRedo the *optional, but recommended* step of setting the output directory and make sure the path is valid.\r\n","title":"gradle-resources-production:mymod.main: java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 75","body":"<p><strong>Your output directory is not correct.</strong></p>\n<p>In Windows, there is only one : allowed after specifying the drive letter. Your path</p>\n<pre><code>C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\jbr\\bin\\C:\\Users\\user\\Downloads\\mymod\\out\\production\\mymod.main\\assets\\modid\\icon.png\n</code></pre>\n<p>specifies the path starting from the drive letter (the C drive) twice.</p>\n<p>Redo the <em>optional, but recommended</em> step of setting the output directory and make sure the path is valid.</p>\n"}],"owner":{"account_id":25962003,"reputation":28,"user_id":19678465,"display_name":"HumanWithAPC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73214730,"answer_count":1,"score":-1,"last_activity_date":1659482353,"creation_date":1659480141,"question_id":73214529,"body_markdown":"```java\r\ngradle-resources-production:mymod.main: \r\njava.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 75:\r\n C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\jbr\\bin\\\r\nC:\\Users\\user\\Downloads\\mymod\r\n\\out\\production\\mymod.main\\assets\\modid\\icon.png\r\n```\r\nI have **no idea** what is going on or where to look to fix this problem... \r\nIm trying to make some fabric mods for minecraft.\r\nThis is my [mod on github][1] and i have done nothing but follow [this tutorial][2] \r\nIm making this in intellij idea 2022 for Minecraft V1.18.2.\r\n*Plz hlp*\r\n\r\n\r\n  [1]: https://github.com/Blaze0111/mymod/tree/main/fabric-example-mod-1.18%20-%20Copy\r\n  [2]: https://fabricmc.net/wiki/tutorial:setup","title":"gradle-resources-production:mymod.main: java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 75","body":"<pre class=\"lang-java prettyprint-override\"><code>gradle-resources-production:mymod.main: \njava.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 75:\n C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\jbr\\bin\\\nC:\\Users\\user\\Downloads\\mymod\n\\out\\production\\mymod.main\\assets\\modid\\icon.png\n</code></pre>\n<p>I have <strong>no idea</strong> what is going on or where to look to fix this problem...\nIm trying to make some fabric mods for minecraft.\nThis is my <a href=\"https://github.com/Blaze0111/mymod/tree/main/fabric-example-mod-1.18%20-%20Copy\" rel=\"nofollow noreferrer\">mod on github</a> and i have done nothing but follow <a href=\"https://fabricmc.net/wiki/tutorial:setup\" rel=\"nofollow noreferrer\">this tutorial</a>\nIm making this in intellij idea 2022 for Minecraft V1.18.2.\n<em>Plz hlp</em></p>\n"},{"tags":["java","http"],"answers":[{"tags":[],"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619871372,"creation_date":1619871372,"answer_id":67346169,"question_id":67345954,"body_markdown":"The &quot;reason phrase&quot; really doesn&#39;t matter, and doesn&#39;t exist anymore in HTTP/2 and HTTP/3. I wouldn&#39;t put too much effort in this.","title":"How do I get the http status message from responses on java.net.HttpClient requests","body":"<p>The &quot;reason phrase&quot; really doesn't matter, and doesn't exist anymore in HTTP/2 and HTTP/3. I wouldn't put too much effort in this.</p>\n"},{"tags":[],"owner":{"account_id":2232270,"reputation":3813,"user_id":2351110,"display_name":"mattmess1221"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624312055,"creation_date":1624310990,"answer_id":68074951,"question_id":67345954,"body_markdown":"As Julian says, the reason doesn&#39;t exist anymore in HTTP/2. Although, if you **really** need to get the name of a given status code, you can use a `Map` to match numbers to names.\r\n\r\nHere is a Map of codes to reasons using the names from [MDN](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status).\r\n\r\n```java\r\nimport java.util.Map;\r\n\r\nimport static java.util.Map.entry;\r\n\r\npublic class HttpStatusReasons {\r\n\r\n    private static final String UNKNOWN_STATUS = &quot;Unknown Status&quot;;\r\n\r\n    private static final Map&lt;Integer, String&gt; REASONS = Map.ofEntries(\r\n            // informational\r\n            entry(100, &quot;Continue&quot;),\r\n            entry(101, &quot;Switching Protocol&quot;),\r\n            entry(102, &quot;Processing&quot;),\r\n            entry(103, &quot;Early Hints&quot;),\r\n\r\n            // successful\r\n            entry(200, &quot;OK&quot;),\r\n            entry(201, &quot;Created&quot;),\r\n            entry(202, &quot;Accepted&quot;),\r\n            entry(203, &quot;Non-Authoritative Information&quot;),\r\n            entry(204, &quot;No Content&quot;),\r\n            entry(205, &quot;Reset Content&quot;),\r\n            entry(206, &quot;Partial Content&quot;),\r\n            entry(207, &quot;Multi Status&quot;),\r\n            entry(208, &quot;Already Reported&quot;),\r\n            entry(226, &quot;IM Used&quot;),\r\n\r\n            // redirection\r\n            entry(300, &quot;Multiple Choice&quot;),\r\n            entry(301, &quot;Moved Permanently&quot;),\r\n            entry(302, &quot;Found&quot;),\r\n            entry(303, &quot;See Other&quot;),\r\n            entry(304, &quot;Not Modified&quot;),\r\n            entry(305, &quot;Use Proxy&quot;), // deprecated\r\n            entry(307, &quot;Temporary Redirect&quot;),\r\n            entry(308, &quot;Permanent Redirect&quot;),\r\n\r\n            // client error\r\n            entry(400, &quot;Bad Request&quot;),\r\n            entry(401, &quot;Unauthorized&quot;),\r\n            entry(402, &quot;Payment Required&quot;),\r\n            entry(403, &quot;Forbidden&quot;),\r\n            entry(404, &quot;Not Found&quot;),\r\n            entry(405, &quot;Method Not Allowed&quot;),\r\n            entry(406, &quot;Not Acceptable&quot;),\r\n            entry(407, &quot;Proxy Authentication Required&quot;),\r\n            entry(408, &quot;Request Timeout&quot;),\r\n            entry(409, &quot;Conflict&quot;),\r\n            entry(410, &quot;Gone&quot;),\r\n            entry(411, &quot;Length Required&quot;),\r\n            entry(412, &quot;Precondition Failed&quot;),\r\n            entry(413, &quot;Payload Too Long&quot;),\r\n            entry(414, &quot;URI Too Long&quot;),\r\n            entry(415, &quot;Unsupported Media Type&quot;),\r\n            entry(416, &quot;Range Not Satisfiable&quot;),\r\n            entry(417, &quot;Expectation Failed&quot;),\r\n            entry(418, &quot;I&#39;m a Teapot&quot;),\r\n            entry(421, &quot;Misdirected Request&quot;),\r\n            entry(422, &quot;Unprocessable Entity&quot;),\r\n            entry(423, &quot;Locked&quot;),\r\n            entry(424, &quot;Failed Dependency&quot;),\r\n            entry(425, &quot;Too Early&quot;),\r\n            entry(426, &quot;Upgrade Required&quot;),\r\n            entry(428, &quot;Precondition Required&quot;),\r\n            entry(429, &quot;Too Many Requests&quot;),\r\n            entry(431, &quot;Request Header Fields Too Large&quot;),\r\n            entry(451, &quot;Unavailable for Legal Reasons&quot;),\r\n\r\n            // server error\r\n            entry(500, &quot;Internal Server Error&quot;),\r\n            entry(501, &quot;Not Implemented&quot;),\r\n            entry(502, &quot;Bad Gateway&quot;),\r\n            entry(503, &quot;Service Unavailable&quot;),\r\n            entry(504, &quot;Gateway Timeout&quot;),\r\n            entry(505, &quot;HTTP Version Not Supported&quot;),\r\n            entry(506, &quot;Variant Also Negotiates&quot;),\r\n            entry(507, &quot;Insufficient Storage&quot;),\r\n            entry(508, &quot;Loop Detected&quot;),\r\n            entry(510, &quot;Not Extended&quot;),\r\n            entry(511, &quot;Network Authentication Required&quot;)\r\n    );\r\n\r\n    public static String getReasonForStatus(int status) {\r\n        return REASONS.getOrDefault(status, UNKNOWN_STATUS);\r\n    }\r\n}\r\n```","title":"How do I get the http status message from responses on java.net.HttpClient requests","body":"<p>As Julian says, the reason doesn't exist anymore in HTTP/2. Although, if you <strong>really</strong> need to get the name of a given status code, you can use a <code>Map</code> to match numbers to names.</p>\n<p>Here is a Map of codes to reasons using the names from <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\" rel=\"nofollow noreferrer\">MDN</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Map;\n\nimport static java.util.Map.entry;\n\npublic class HttpStatusReasons {\n\n    private static final String UNKNOWN_STATUS = &quot;Unknown Status&quot;;\n\n    private static final Map&lt;Integer, String&gt; REASONS = Map.ofEntries(\n            // informational\n            entry(100, &quot;Continue&quot;),\n            entry(101, &quot;Switching Protocol&quot;),\n            entry(102, &quot;Processing&quot;),\n            entry(103, &quot;Early Hints&quot;),\n\n            // successful\n            entry(200, &quot;OK&quot;),\n            entry(201, &quot;Created&quot;),\n            entry(202, &quot;Accepted&quot;),\n            entry(203, &quot;Non-Authoritative Information&quot;),\n            entry(204, &quot;No Content&quot;),\n            entry(205, &quot;Reset Content&quot;),\n            entry(206, &quot;Partial Content&quot;),\n            entry(207, &quot;Multi Status&quot;),\n            entry(208, &quot;Already Reported&quot;),\n            entry(226, &quot;IM Used&quot;),\n\n            // redirection\n            entry(300, &quot;Multiple Choice&quot;),\n            entry(301, &quot;Moved Permanently&quot;),\n            entry(302, &quot;Found&quot;),\n            entry(303, &quot;See Other&quot;),\n            entry(304, &quot;Not Modified&quot;),\n            entry(305, &quot;Use Proxy&quot;), // deprecated\n            entry(307, &quot;Temporary Redirect&quot;),\n            entry(308, &quot;Permanent Redirect&quot;),\n\n            // client error\n            entry(400, &quot;Bad Request&quot;),\n            entry(401, &quot;Unauthorized&quot;),\n            entry(402, &quot;Payment Required&quot;),\n            entry(403, &quot;Forbidden&quot;),\n            entry(404, &quot;Not Found&quot;),\n            entry(405, &quot;Method Not Allowed&quot;),\n            entry(406, &quot;Not Acceptable&quot;),\n            entry(407, &quot;Proxy Authentication Required&quot;),\n            entry(408, &quot;Request Timeout&quot;),\n            entry(409, &quot;Conflict&quot;),\n            entry(410, &quot;Gone&quot;),\n            entry(411, &quot;Length Required&quot;),\n            entry(412, &quot;Precondition Failed&quot;),\n            entry(413, &quot;Payload Too Long&quot;),\n            entry(414, &quot;URI Too Long&quot;),\n            entry(415, &quot;Unsupported Media Type&quot;),\n            entry(416, &quot;Range Not Satisfiable&quot;),\n            entry(417, &quot;Expectation Failed&quot;),\n            entry(418, &quot;I'm a Teapot&quot;),\n            entry(421, &quot;Misdirected Request&quot;),\n            entry(422, &quot;Unprocessable Entity&quot;),\n            entry(423, &quot;Locked&quot;),\n            entry(424, &quot;Failed Dependency&quot;),\n            entry(425, &quot;Too Early&quot;),\n            entry(426, &quot;Upgrade Required&quot;),\n            entry(428, &quot;Precondition Required&quot;),\n            entry(429, &quot;Too Many Requests&quot;),\n            entry(431, &quot;Request Header Fields Too Large&quot;),\n            entry(451, &quot;Unavailable for Legal Reasons&quot;),\n\n            // server error\n            entry(500, &quot;Internal Server Error&quot;),\n            entry(501, &quot;Not Implemented&quot;),\n            entry(502, &quot;Bad Gateway&quot;),\n            entry(503, &quot;Service Unavailable&quot;),\n            entry(504, &quot;Gateway Timeout&quot;),\n            entry(505, &quot;HTTP Version Not Supported&quot;),\n            entry(506, &quot;Variant Also Negotiates&quot;),\n            entry(507, &quot;Insufficient Storage&quot;),\n            entry(508, &quot;Loop Detected&quot;),\n            entry(510, &quot;Not Extended&quot;),\n            entry(511, &quot;Network Authentication Required&quot;)\n    );\n\n    public static String getReasonForStatus(int status) {\n        return REASONS.getOrDefault(status, UNKNOWN_STATUS);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14147943,"reputation":89,"user_id":10220747,"display_name":"Marcos Adriano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659482059,"creation_date":1659482059,"answer_id":73214712,"question_id":67345954,"body_markdown":"If you using spring you can use HttpStatus from org.springframework.http.HttpStatus like this: \r\n\r\n\r\n```java\r\nHttpStatus.valueOf(connection.getResponseCode()).getReasonPhrase()\r\n```","title":"How do I get the http status message from responses on java.net.HttpClient requests","body":"<p>If you using spring you can use HttpStatus from org.springframework.http.HttpStatus like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpStatus.valueOf(connection.getResponseCode()).getReasonPhrase()\n</code></pre>\n"}],"owner":{"account_id":21454687,"reputation":90,"user_id":15806503,"display_name":"groot sarchy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2575,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1659482059,"creation_date":1619869819,"question_id":67345954,"body_markdown":"Some http servers produce responses with a status code and a custom status message. When using the java `HttpURLConnection` class to make requests this message can be accessed. However, with the more recent `java.net.HttpClient` style api I can&#39;t seem to find a way to access the message itself. I can only find a way to get the status code.\r\n\r\n- Is there a way to retrieve the status message that I am overlooking?\r\n- If there is no way to get the status message, is this intentional?\r\n\r\nTo illustrate the situation, consider the following code:\r\n\r\n```java\r\n/**\r\n * Stand in replacement for a server which puts a custom message in the http status.\r\n * Blindly sends a fixed http response on every connection in receives, irrespective\r\n * of protocol or context.\r\n */\r\npublic class ExampleServer {\r\n\r\n\tprivate static final int port = 8080;\r\n\tprivate static final byte [] fixed_response = String.join (&quot;\\n&quot;,\r\n\t\t&quot;HTTP/1.1 403 Missing X-Api-Key header&quot;,\r\n\t\t&quot;Content-Length: 12&quot;,\r\n\t\t&quot;&quot;,\r\n\t\t&quot;Unauthorized&quot;\r\n\t).getBytes(StandardCharsets.UTF_8);\r\n\r\n\tpublic static void main (String [] args) throws Exception {\r\n\t\tServerSocket server = new ServerSocket (port);\r\n\t\tExecutorService executor = Executors.newCachedThreadPool ();\r\n\t\twhile ( true ) {\r\n\t\t\tSocket socket = server.accept ();\r\n\t\t\texecutor.submit (() -&gt; {\r\n\t\t\t\tsocket.getOutputStream ().write (fixed_response);\r\n\t\t\t\tsocket.close ();\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWe can show the status with the `HttpURLConnection` approach.\r\n\r\n```java\r\nURI uri = URI.create (&quot;http://localhost:&quot; + port + &quot;/any/path&quot;);\r\nHttpURLConnection connection = (HttpURLConnection) uri.toURL ().openConnection ();\r\nconnection.setRequestMethod (&quot;GET&quot;);\r\n\r\nSystem.out.println (&quot;status: &quot; + connection.getResponseCode () + &quot; &quot; + connection.getResponseMessage ());\r\nSystem.out.println (&quot;body  : &quot; + new String (connection.getErrorStream ().readAllBytes ()));\r\n```\r\n\r\nHow would I create the same output in the following scenario?\r\n\r\n```java\r\nHttpClient client = HttpClient.newHttpClient ();\r\nHttpRequest request = HttpRequest.newBuilder ()\r\n\t.uri (URI.create (&quot;http://localhost:&quot; + port + &quot;/any/path&quot;))\r\n\t.GET ().build ();\r\nHttpResponse&lt;String&gt; response = client.send (request, HttpResponse.BodyHandlers.ofString ());\r\n\r\nSystem.out.println (&quot;status: &quot; + response.statusCode () + &quot; &quot; /* what goes here? */);\r\nSystem.out.println (&quot;body  : &quot; + response.body ());\r\n```","title":"How do I get the http status message from responses on java.net.HttpClient requests","body":"<p>Some http servers produce responses with a status code and a custom status message. When using the java <code>HttpURLConnection</code> class to make requests this message can be accessed. However, with the more recent <code>java.net.HttpClient</code> style api I can't seem to find a way to access the message itself. I can only find a way to get the status code.</p>\n<ul>\n<li>Is there a way to retrieve the status message that I am overlooking?</li>\n<li>If there is no way to get the status message, is this intentional?</li>\n</ul>\n<p>To illustrate the situation, consider the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Stand in replacement for a server which puts a custom message in the http status.\n * Blindly sends a fixed http response on every connection in receives, irrespective\n * of protocol or context.\n */\npublic class ExampleServer {\n\n    private static final int port = 8080;\n    private static final byte [] fixed_response = String.join (&quot;\\n&quot;,\n        &quot;HTTP/1.1 403 Missing X-Api-Key header&quot;,\n        &quot;Content-Length: 12&quot;,\n        &quot;&quot;,\n        &quot;Unauthorized&quot;\n    ).getBytes(StandardCharsets.UTF_8);\n\n    public static void main (String [] args) throws Exception {\n        ServerSocket server = new ServerSocket (port);\n        ExecutorService executor = Executors.newCachedThreadPool ();\n        while ( true ) {\n            Socket socket = server.accept ();\n            executor.submit (() -&gt; {\n                socket.getOutputStream ().write (fixed_response);\n                socket.close ();\n                return null;\n            });\n        }\n    }\n\n}\n</code></pre>\n<p>We can show the status with the <code>HttpURLConnection</code> approach.</p>\n<pre class=\"lang-java prettyprint-override\"><code>URI uri = URI.create (&quot;http://localhost:&quot; + port + &quot;/any/path&quot;);\nHttpURLConnection connection = (HttpURLConnection) uri.toURL ().openConnection ();\nconnection.setRequestMethod (&quot;GET&quot;);\n\nSystem.out.println (&quot;status: &quot; + connection.getResponseCode () + &quot; &quot; + connection.getResponseMessage ());\nSystem.out.println (&quot;body  : &quot; + new String (connection.getErrorStream ().readAllBytes ()));\n</code></pre>\n<p>How would I create the same output in the following scenario?</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpClient client = HttpClient.newHttpClient ();\nHttpRequest request = HttpRequest.newBuilder ()\n    .uri (URI.create (&quot;http://localhost:&quot; + port + &quot;/any/path&quot;))\n    .GET ().build ();\nHttpResponse&lt;String&gt; response = client.send (request, HttpResponse.BodyHandlers.ofString ());\n\nSystem.out.println (&quot;status: &quot; + response.statusCode () + &quot; &quot; /* what goes here? */);\nSystem.out.println (&quot;body  : &quot; + response.body ());\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"score":0,"creation_date":1659484285,"post_id":73214698,"comment_id":129304649,"body_markdown":"Are you on most recent spring-boot version?","body":"Are you on most recent spring-boot version?"},{"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"score":0,"creation_date":1659489263,"post_id":73214698,"comment_id":129305318,"body_markdown":"Yes we are using latest version of springboot.Strangely other app works which uses same verison of java,gradle and springboot.","body":"Yes we are using latest version of springboot.Strangely other app works which uses same verison of java,gradle and springboot."}],"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659481925,"creation_date":1659481925,"question_id":73214698,"body_markdown":"Trying to run micro service with MongoDB. Get following exception when app starts. But Strange thing another micro service which is uses exactly same set up starts without any issue.\r\n\r\n    Java_Version: openjdk version &quot;17.0.3&quot;\r\n    Gradle_Version: Gradle 7.4\r\n\r\n    nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &quot;** Class &quot;defined in @EnableMongoRepositories declared on MainApplication: Cannot resolve reference to bean &#39;mongoTemplate&#39;\r\n    while setting bean property &#39;mongoOperations&#39;;\r\n    nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mongoTemplate&#39;\r\n    defined in class path resource[org / springframework / boot / autoconfigure / data / mongo / MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method &#39;mongoTemplate&#39;\r\n    parameter 1;\r\n    nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mappingMongoConverter&#39;\r\n    defined in class path resource[org / springframework / boot / autoconfigure / data / mongo / MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method &#39;mappingMongoConverter&#39;\r\n    parameter 1;\r\n    nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoMappingContext&#39;\r\n    defined in class path resource[org / springframework / boot / autoconfigure / data / mongo / MongoDataConfiguration.class]: Invocation of init method failed;\r\n    nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make java.net.InetAddress() accessible: module java.base does not &quot;opens java.net&quot;\r\n    to unnamed module @5c34d01b\r\n","title":"java.lang.reflect.InaccessibleObjectException: Unable to make java.net.InetAddress() accessible","body":"<p>Trying to run micro service with MongoDB. Get following exception when app starts. But Strange thing another micro service which is uses exactly same set up starts without any issue.</p>\n<pre><code>Java_Version: openjdk version &quot;17.0.3&quot;\nGradle_Version: Gradle 7.4\n\nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &quot;** Class &quot;defined in @EnableMongoRepositories declared on MainApplication: Cannot resolve reference to bean 'mongoTemplate'\nwhile setting bean property 'mongoOperations';\nnested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoTemplate'\ndefined in class path resource[org / springframework / boot / autoconfigure / data / mongo / MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method 'mongoTemplate'\nparameter 1;\nnested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mappingMongoConverter'\ndefined in class path resource[org / springframework / boot / autoconfigure / data / mongo / MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method 'mappingMongoConverter'\nparameter 1;\nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoMappingContext'\ndefined in class path resource[org / springframework / boot / autoconfigure / data / mongo / MongoDataConfiguration.class]: Invocation of init method failed;\nnested exception is java.lang.reflect.InaccessibleObjectException: Unable to make java.net.InetAddress() accessible: module java.base does not &quot;opens java.net&quot;\nto unnamed module @5c34d01b\n</code></pre>\n"},{"tags":["java","java-security","securitymanager"],"comments":[{"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"score":0,"creation_date":1541626254,"post_id":53143074,"comment_id":93284853,"body_markdown":"I&#39;m trying to increase security of my java application and for that I need to understand the mechanisms. Just enabling the SecurityManager is not possible as I need a few exceptions. I have to understand a bit more how this all works together as it is not a standard use case.","body":"I&#39;m trying to increase security of my java application and for that I need to understand the mechanisms. Just enabling the SecurityManager is not possible as I need a few exceptions. I have to understand a bit more how this all works together as it is not a standard use case."},{"owner":{"account_id":4952964,"reputation":1218,"user_id":3986374,"display_name":"Uux"},"score":0,"creation_date":1541627187,"post_id":53143074,"comment_id":93285249,"body_markdown":"I&#39;m unable to reproduce this (tried on JDK 8 and 11). I doubt the default policy implementation to be the cause. Something non-standard interposes between the security manager and your custom policy, effectively preventing or overriding queries to the latter; e.g. a custom class loader having assigned a [static](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/ProtectionDomain.html#%3Cinit%3E(java.security.CodeSource,java.security.PermissionCollection)), unprivileged protection domain to your classes.","body":"I&#39;m unable to reproduce this (tried on JDK 8 and 11). I doubt the default policy implementation to be the cause. Something non-standard interposes between the security manager and your custom policy, effectively preventing or overriding queries to the latter; e.g. a custom class loader having assigned a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/ProtectionDomain.html#%3Cinit%3E(java.security.CodeSource,java.security.PermissionCollection)\" rel=\"nofollow noreferrer\">static</a>, unprivileged protection domain to your classes."},{"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"score":0,"creation_date":1541668711,"post_id":53143074,"comment_id":93297381,"body_markdown":"@Uux Thanks a lot for taking the time. So in your case you can access the java.home property? If yes, can you gist your policy file?","body":"@Uux Thanks a lot for taking the time. So in your case you can access the java.home property? If yes, can you gist your policy file?"},{"owner":{"account_id":4952964,"reputation":1218,"user_id":3986374,"display_name":"Uux"},"score":1,"creation_date":1541679731,"post_id":53143074,"comment_id":93303272,"body_markdown":"@Karussell Yes, your snippet runs just fine (within a plain old `main` method, launched via plain old `java -cp &lt;classpath&gt; &lt;main-class&gt;`). I didn&#39;t modify my .policy file, because it ultimately doesn&#39;t matter -- once `Policy.setPolicy` has returned, it is *your* policy implementation that gets consulted, not the previous, default, file-backed one. You might want to try running with `-Djava.security.debug=&quot;access,failure&quot;` and attach its output to your question.","body":"@Karussell Yes, your snippet runs just fine (within a plain old <code>main</code> method, launched via plain old <code>java -cp &lt;classpath&gt; &lt;main-class&gt;</code>). I didn&#39;t modify my .policy file, because it ultimately doesn&#39;t matter -- once <code>Policy.setPolicy</code> has returned, it is <i>your</i> policy implementation that gets consulted, not the previous, default, file-backed one. You might want to try running with <code>-Djava.security.debug=&quot;access,failure&quot;</code> and attach its output to your question."},{"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"score":0,"creation_date":1541758606,"post_id":53143074,"comment_id":93334367,"body_markdown":"I now better understand what I was trying to achieve: I want a programmatic way to set the policy where I see that if I set no permision then the System.getProperty call fails and if I grant PropertyPermission or AllPermission then the call goes through. And indeed the 2nd part works now (no idea why) but the 1st part goes through without any permission. And when I do Policy.getPolicy exactly the opposite happens (both parts fail,)","body":"I now better understand what I was trying to achieve: I want a programmatic way to set the policy where I see that if I set no permision then the System.getProperty call fails and if I grant PropertyPermission or AllPermission then the call goes through. And indeed the 2nd part works now (no idea why) but the 1st part goes through without any permission. And when I do Policy.getPolicy exactly the opposite happens (both parts fail,)"},{"owner":{"account_id":172794,"reputation":7472,"user_id":401059,"display_name":"Caesar"},"score":0,"creation_date":1650959832,"post_id":53143074,"comment_id":127241032,"body_markdown":"Related but not quite duplicate question: https://stackoverflow.com/questions/31458821/policy-setpolicy-doesnt-seem-to-work-properly","body":"Related but not quite duplicate question: <a href=\"https://stackoverflow.com/questions/31458821/policy-setpolicy-doesnt-seem-to-work-properly\" title=\"policy setpolicy doesnt seem to work properly\">stackoverflow.com/questions/31458821/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":39549,"reputation":1408,"user_id":114139,"accept_rate":100,"display_name":"Michael Zilbermann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543561342,"creation_date":1541587263,"answer_id":53187831,"question_id":53143074,"body_markdown":"In which context are you running your code above ?\r\n\r\nfrom command line with a simple JVM or inside a webapp running on top of some JavaEE container? On which OS? with which JVM (Oracle, OpenJDK, IBM J9...) and which version?\r\n\r\nIf you&#39;re running from command line, have a look at the [`java.policy`][1] file located in your JVM installation path. Its content may narrow your grants and thus prevent you from accessing this particular system variable ?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/PolicyFiles.html","title":"Enable the Java SecurityManager with AllPermission","body":"<p>In which context are you running your code above ?</p>\n\n<p>from command line with a simple JVM or inside a webapp running on top of some JavaEE container? On which OS? with which JVM (Oracle, OpenJDK, IBM J9...) and which version?</p>\n\n<p>If you're running from command line, have a look at the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/PolicyFiles.html\" rel=\"nofollow noreferrer\"><code>java.policy</code></a> file located in your JVM installation path. Its content may narrow your grants and thus prevent you from accessing this particular system variable ?</p>\n"},{"tags":[],"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1551251878,"creation_date":1541588023,"answer_id":53188052,"question_id":53143074,"body_markdown":"I was able to recreate your case with an extra [`Policy.getPolicy()`][1] before the `Policy.setPolicy()` call, the reason why it affects the behaviour is that with the get policy call, you trigger a default policy creation, and permissions from `java.policy` are set, but without a `setSecurityManager()` they are not activated, that is the reason when you do a custom `AllPermission` policy set, you still get a `&quot;java.util.PropertyPermission&quot; &quot;java.home&quot; &quot;read&quot;` issue, for many of such default policies are not overridden with the set policy. Very confusing structure indeed.\r\n\r\n    Policy.getPolicy();\r\n\tPolicy.setPolicy(policyWithAllPermission);\r\n\tSystem.setSecurityManager(new SecurityManager());\r\n\tSystem.out.println(System.getProperty(&quot;java.home&quot;));\r\n    // results in &#39;access denied (&quot;java.util.PropertyPermission&quot; &quot;java.home&quot; &quot;read&quot;)&#39;\r\n\r\nBut if you use the following custom policy;\r\n\r\n    Policy allPermissionPolicy = new Policy() {\r\n\r\n\t\t@Override\r\n\t\tpublic boolean implies(ProtectionDomain domain, Permission permission) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t};\r\n\r\nIt overrides all permission definitions, and lets all actions through, a possible fix for this confusion.\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/security/Policy.java#l149","title":"Enable the Java SecurityManager with AllPermission","body":"<p>I was able to recreate your case with an extra <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/security/Policy.java#l149\" rel=\"nofollow noreferrer\"><code>Policy.getPolicy()</code></a> before the <code>Policy.setPolicy()</code> call, the reason why it affects the behaviour is that with the get policy call, you trigger a default policy creation, and permissions from <code>java.policy</code> are set, but without a <code>setSecurityManager()</code> they are not activated, that is the reason when you do a custom <code>AllPermission</code> policy set, you still get a <code>\"java.util.PropertyPermission\" \"java.home\" \"read\"</code> issue, for many of such default policies are not overridden with the set policy. Very confusing structure indeed.</p>\n\n<pre><code>Policy.getPolicy();\nPolicy.setPolicy(policyWithAllPermission);\nSystem.setSecurityManager(new SecurityManager());\nSystem.out.println(System.getProperty(\"java.home\"));\n// results in 'access denied (\"java.util.PropertyPermission\" \"java.home\" \"read\")'\n</code></pre>\n\n<p>But if you use the following custom policy;</p>\n\n<pre><code>Policy allPermissionPolicy = new Policy() {\n\n    @Override\n    public boolean implies(ProtectionDomain domain, Permission permission) {\n        return true;\n    }\n};\n</code></pre>\n\n<p>It overrides all permission definitions, and lets all actions through, a possible fix for this confusion.</p>\n"},{"tags":[],"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659481458,"creation_date":1659481458,"answer_id":73214643,"question_id":53143074,"body_markdown":"Eventually, if you need SecurityManager that will allow everything, just use this: \r\n```java\r\nSystem.setSecurityManager(new SecurityManager() {\r\n    @Override\r\n    public void checkPermission(Permission perm) {\r\n    }\r\n\r\n    @Override\r\n    public void checkPermission(Permission perm, Object context) {\r\n    }\r\n});\r\n```","title":"Enable the Java SecurityManager with AllPermission","body":"<p>Eventually, if you need SecurityManager that will allow everything, just use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setSecurityManager(new SecurityManager() {\n    @Override\n    public void checkPermission(Permission perm) {\n    }\n\n    @Override\n    public void checkPermission(Permission perm, Object context) {\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3266,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":53188052,"answer_count":3,"score":15,"last_activity_date":1659481458,"creation_date":1541350136,"question_id":53143074,"body_markdown":"I&#39;m trying to get myself familiar with the `SecurityManager` but even this simple scenario fails. When I run the following from inside my IDE or from command line I get the following [exception][1];\r\n\r\n    access denied (&quot;java.util.PropertyPermission&quot; &quot;java.home&quot; &quot;read&quot;)\r\n\r\nI thought I allowed everything with this code:\r\n\r\n&gt;     Policy.setPolicy(new Policy() {\r\n&gt; \r\n&gt;         @Override\r\n&gt;         public PermissionCollection getPermissions(CodeSource codesource) {\r\n&gt;             Permissions perm = new Permissions();\r\n&gt;             perm.add(new AllPermission());\r\n&gt;             return perm;\r\n&gt;         }\r\n&gt;     });\r\n&gt;     System.setSecurityManager(new SecurityManager());\r\n&gt;     System.out.println(System.getProperty(&quot;java.home&quot;));\r\n\r\nHas this something to-do with the derived policy from the JVM? How can I cleanly `setPolicy()`?\r\n\r\nThe same misunderstanding seems to happen for the following code:\r\n\r\n    System.setSecurityManager(new SecurityManager());\r\n    final Permissions allPermission = new Permissions();\r\n    allPermission.add(new AllPermission());\r\n    AccessController.doPrivileged((PrivilegedAction&lt;Void&gt;) () -&gt; {\r\n        System.out.println(System.getProperty(&quot;java.home&quot;));\r\n        return null;\r\n    }, new AccessControlContext(new ProtectionDomain[]{new ProtectionDomain(null, allPermission)}));\r\n\r\n**Update**: the second case is understandable as the provided permission is only a further restriction: (javadoc) *The action is performed with the intersection of the permissions possessed by the caller&#39;s protection domain, and those possessed by the domains represented by the specified `AccessControlContext`*\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E19226-01/820-7699/abgjt/index.html","title":"Enable the Java SecurityManager with AllPermission","body":"<p>I'm trying to get myself familiar with the <code>SecurityManager</code> but even this simple scenario fails. When I run the following from inside my IDE or from command line I get the following <a href=\"https://docs.oracle.com/cd/E19226-01/820-7699/abgjt/index.html\" rel=\"noreferrer\">exception</a>;</p>\n\n<pre><code>access denied (\"java.util.PropertyPermission\" \"java.home\" \"read\")\n</code></pre>\n\n<p>I thought I allowed everything with this code:</p>\n\n<blockquote>\n<pre><code>Policy.setPolicy(new Policy() {\n\n    @Override\n    public PermissionCollection getPermissions(CodeSource codesource) {\n        Permissions perm = new Permissions();\n        perm.add(new AllPermission());\n        return perm;\n    }\n});\nSystem.setSecurityManager(new SecurityManager());\nSystem.out.println(System.getProperty(\"java.home\"));\n</code></pre>\n</blockquote>\n\n<p>Has this something to-do with the derived policy from the JVM? How can I cleanly <code>setPolicy()</code>?</p>\n\n<p>The same misunderstanding seems to happen for the following code:</p>\n\n<pre><code>System.setSecurityManager(new SecurityManager());\nfinal Permissions allPermission = new Permissions();\nallPermission.add(new AllPermission());\nAccessController.doPrivileged((PrivilegedAction&lt;Void&gt;) () -&gt; {\n    System.out.println(System.getProperty(\"java.home\"));\n    return null;\n}, new AccessControlContext(new ProtectionDomain[]{new ProtectionDomain(null, allPermission)}));\n</code></pre>\n\n<p><strong>Update</strong>: the second case is understandable as the provided permission is only a further restriction: (javadoc) <em>The action is performed with the intersection of the permissions possessed by the caller's protection domain, and those possessed by the domains represented by the specified <code>AccessControlContext</code></em></p>\n"},{"tags":["java","datetime","jodatime"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377169631,"creation_date":1256288314,"answer_id":1612203,"question_id":1612150,"body_markdown":"You can build extremely specific parsers and formatters using [DateTimeFormatterBuilder][1]. There&#39;s generally no need to use this class directly, since most common formats are more easily available elsewhere in the API, but this is the builder class they all use under the covers.\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormatterBuilder.html","title":"How to parse four digit year only (with Joda Time)?","body":"<p>You can build extremely specific parsers and formatters using <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormatterBuilder.html\" rel=\"nofollow noreferrer\">DateTimeFormatterBuilder</a>. There's generally no need to use this class directly, since most common formats are more easily available elsewhere in the API, but this is the builder class they all use under the covers.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1256289199,"creation_date":1256289199,"answer_id":1612269,"question_id":1612150,"body_markdown":"You can check the length of the date string.","title":"How to parse four digit year only (with Joda Time)?","body":"<p>You can check the length of the date string.</p>\n"},{"tags":[],"owner":{"account_id":8423,"reputation":735986,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1256785715,"creation_date":1256785715,"answer_id":1641413,"question_id":1612150,"body_markdown":"What do you want to get from a user who enters &#39;0001-01-01&#39; as the date (that is, they entered 4 digits for the year, but the first three were zeroes)?  What about &#39;0999-12-31&#39;?  And &#39;999-12-31&#39;? And what about &#39;10000-01-01&#39; - the infamous [Y10K][1]&lt;sup&gt;1&lt;/sup&gt; problem?\r\n\r\n* If that is a legitimate value, then you are stuck with discovering the length of what the user typed as the year portion of the date (probably after any other parsing has been done), and making sure it is at least (or is it exactly?) four digits.\r\n\r\n* If that is not a legitimate value, then you are stuck with checking the year value after the date is parsed.\r\n\r\n* Or you can take the code and modify it so it includes your preferred definition of valid year.\r\n\r\n-----\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; I do not plan to start working on fixing the Y10K problem before 5000-01-02.\r\n\r\n  [1]: http://www.faqs.org/rfcs/rfc2550.html","title":"How to parse four digit year only (with Joda Time)?","body":"<p>What do you want to get from a user who enters '0001-01-01' as the date (that is, they entered 4 digits for the year, but the first three were zeroes)?  What about '0999-12-31'?  And '999-12-31'? And what about '10000-01-01' - the infamous <a href=\"http://www.faqs.org/rfcs/rfc2550.html\" rel=\"nofollow noreferrer\">Y10K</a><sup>1</sup> problem?</p>\n\n<ul>\n<li><p>If that is a legitimate value, then you are stuck with discovering the length of what the user typed as the year portion of the date (probably after any other parsing has been done), and making sure it is at least (or is it exactly?) four digits.</p></li>\n<li><p>If that is not a legitimate value, then you are stuck with checking the year value after the date is parsed.</p></li>\n<li><p>Or you can take the code and modify it so it includes your preferred definition of valid year.</p></li>\n</ul>\n\n<hr>\n\n<p><sup>1</sup> I do not plan to start working on fixing the Y10K problem before 5000-01-02.</p>\n"},{"tags":[],"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1659480564,"creation_date":1257939509,"answer_id":1714648,"question_id":1612150,"body_markdown":"[`DateTimeFormatterBuilder#appendFixedDecimal()`][1] may well do what you need.\r\n\r\nAlternatively, you could implement the [`DateTimeParser`][2] interface to create whatever parser you want and pass that into the `DateTimeFormatterBuilder`.\r\n\r\n\r\n  [1]: https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormatterBuilder.html#appendFixedDecimal-org.joda.time.DateTimeFieldType-int-\r\n  [2]: https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeParser.html","title":"How to parse four digit year only (with Joda Time)?","body":"<p><a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormatterBuilder.html#appendFixedDecimal-org.joda.time.DateTimeFieldType-int-\" rel=\"nofollow noreferrer\"><code>DateTimeFormatterBuilder#appendFixedDecimal()</code></a> may well do what you need.</p>\n<p>Alternatively, you could implement the <a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeParser.html\" rel=\"nofollow noreferrer\"><code>DateTimeParser</code></a> interface to create whatever parser you want and pass that into the <code>DateTimeFormatterBuilder</code>.</p>\n"}],"owner":{"account_id":44816,"reputation":383,"user_id":131764,"accept_rate":100,"display_name":"Emilis Panovas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2596,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":1714648,"answer_count":4,"score":5,"last_activity_date":1659480564,"creation_date":1256287574,"question_id":1612150,"body_markdown":"Is there a way to force Joda time to parse dates only when they contain four digit years? For example:\r\n\r\n* 2009-11-11 - should parse\r\n* 09-11-11 - should not parse\r\n\r\nTried the following code:\r\n  \r\n    DateTimeFormatterBuilder builder = new DateTimeFormatterBuilder();\r\n    DateTimeFormatter formatter = builder.appendYear(4, 4).appendLiteral(&#39;-&#39;).appendMonthOfYear(1).appendLiteral(&#39;-&#39;).appendDayOfMonth(1).toFormatter();\r\n    formatter.parseDateTime(&quot;09-11-11&quot;);\r\n\r\nParses into 0009-11-11. Apparently minDigits in the method appendYear are only used for formatting when printing out the date.  \r\nThe result is the same if I use appendYearOfEra(). If I use appendYearOfCentury(), it parses the year into 1909 instead.\r\n\r\nWe are implementing a general data parser, which will recognize various types of inputs.  Also the example is a shortened form of the real deal (for simplicity). Real life scenarios parses dates which can have weekdays, months as words, time, zone and different characters separating month, day and year. Therefore, writing a RegEx or checking the content/length of the string can prove rather difficult.\r\n\r\nSome real examples could look like this:\r\n\r\n* 2009-11-11\r\n* Wednesday 2009-11-11T15:00:00\r\n* 2009/11/11 15:00\r\n* and many more...","title":"How to parse four digit year only (with Joda Time)?","body":"<p>Is there a way to force Joda time to parse dates only when they contain four digit years? For example:</p>\n\n<ul>\n<li>2009-11-11 - should parse</li>\n<li>09-11-11 - should not parse</li>\n</ul>\n\n<p>Tried the following code:</p>\n\n<pre><code>DateTimeFormatterBuilder builder = new DateTimeFormatterBuilder();\nDateTimeFormatter formatter = builder.appendYear(4, 4).appendLiteral('-').appendMonthOfYear(1).appendLiteral('-').appendDayOfMonth(1).toFormatter();\nformatter.parseDateTime(\"09-11-11\");\n</code></pre>\n\n<p>Parses into 0009-11-11. Apparently minDigits in the method appendYear are only used for formatting when printing out the date.<br>\nThe result is the same if I use appendYearOfEra(). If I use appendYearOfCentury(), it parses the year into 1909 instead.</p>\n\n<p>We are implementing a general data parser, which will recognize various types of inputs.  Also the example is a shortened form of the real deal (for simplicity). Real life scenarios parses dates which can have weekdays, months as words, time, zone and different characters separating month, day and year. Therefore, writing a RegEx or checking the content/length of the string can prove rather difficult.</p>\n\n<p>Some real examples could look like this:</p>\n\n<ul>\n<li>2009-11-11</li>\n<li>Wednesday 2009-11-11T15:00:00</li>\n<li>2009/11/11 15:00</li>\n<li>and many more...</li>\n</ul>\n"},{"tags":["java","date","google-cloud-firestore","timestamp"],"answers":[{"tags":[],"owner":{"account_id":22733076,"reputation":3723,"user_id":16895640,"display_name":"Marc Anthony B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659480399,"creation_date":1659392908,"answer_id":73200191,"question_id":73199846,"body_markdown":"You have to convert the `timestamp` to the actual date format first before using it on the `setText()` method. See sample converter function below:\r\n\r\n```\r\nprivate String getDate(long time) {\r\n    Calendar cal = Calendar.getInstance(Locale.ENGLISH);\r\n    cal.setTimeInMillis(time);\r\n    String date = DateFormat.format(&quot;dd-MM-yyyy&quot;, cal).toString();\r\n    return date;\r\n}\r\n```\r\n\r\nAfter converting, you can now set this date using the `setText()` method. See sample code below:\r\n\r\n```\r\n// birthResult here is the Timestamp object from Firestore\r\nTVbirthdate.setText(getDate(birthResult));\r\n```\r\n\r\nIf the above code is not possible for your use-case, you can also use [SimpleDateFormat][1]. See sample implementation below:\r\n```\r\nDate dataDate = birthResult.toDate();\r\n\r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\nTVbirthdate.setText(sdf.format(dataDate));\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"How can I read date ( timestamp ) from Cloud-Firestore?","body":"<p>You have to convert the <code>timestamp</code> to the actual date format first before using it on the <code>setText()</code> method. See sample converter function below:</p>\n<pre><code>private String getDate(long time) {\n    Calendar cal = Calendar.getInstance(Locale.ENGLISH);\n    cal.setTimeInMillis(time);\n    String date = DateFormat.format(&quot;dd-MM-yyyy&quot;, cal).toString();\n    return date;\n}\n</code></pre>\n<p>After converting, you can now set this date using the <code>setText()</code> method. See sample code below:</p>\n<pre><code>// birthResult here is the Timestamp object from Firestore\nTVbirthdate.setText(getDate(birthResult));\n</code></pre>\n<p>If the above code is not possible for your use-case, you can also use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">SimpleDateFormat</a>. See sample implementation below:</p>\n<pre><code>Date dataDate = birthResult.toDate();\n\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\nTVbirthdate.setText(sdf.format(dataDate));\n</code></pre>\n"}],"owner":{"account_id":23626869,"reputation":19,"user_id":17659262,"display_name":"Daiana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73200191,"answer_count":1,"score":0,"last_activity_date":1659480399,"creation_date":1659389646,"question_id":73199846,"body_markdown":"I have a ProfileFragment where I want to show the user&#39;s profile. I also added the birth date in Firestore and now I want to display it for the current user on his profile so, how can I do that? Do I have to convert it to a string or what should I do ? I tried to make it a string with .toString() but it isn&#39;t displayed.If I let it like that or make it a Date it will show me an error when I try to &quot;setText&quot; to the TextView variable.\r\n\r\n```\r\nTVbirthdate = getActivity().findViewById(R.id.birthdateinfo);\r\nTimestamp birthResult = task.getResult().getTimestamp(&quot;Birth Date&quot;);\r\nTVbirthdate.setText(birthResult.toDate());\r\n```\r\n\r\nThanks!","title":"How can I read date ( timestamp ) from Cloud-Firestore?","body":"<p>I have a ProfileFragment where I want to show the user's profile. I also added the birth date in Firestore and now I want to display it for the current user on his profile so, how can I do that? Do I have to convert it to a string or what should I do ? I tried to make it a string with .toString() but it isn't displayed.If I let it like that or make it a Date it will show me an error when I try to &quot;setText&quot; to the TextView variable.</p>\n<pre><code>TVbirthdate = getActivity().findViewById(R.id.birthdateinfo);\nTimestamp birthResult = task.getResult().getTimestamp(&quot;Birth Date&quot;);\nTVbirthdate.setText(birthResult.toDate());\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","hibernate","jpa","set","spring-data-jpa"],"comments":[{"owner":{"account_id":1703031,"reputation":1506,"user_id":1562662,"accept_rate":75,"display_name":"Chacko"},"score":1,"creation_date":1407177266,"post_id":25125210,"comment_id":39105637,"body_markdown":"https://hibernate.atlassian.net/browse/HHH-3799 says when the set is eagerly loaded Hibernate doesn&#39;t honor equals method. But here i&#39;m using lazy loading.","body":"<a href=\"https://hibernate.atlassian.net/browse/HHH-3799\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-3799</a> says when the set is eagerly loaded Hibernate doesn&#39;t honor equals method. But here i&#39;m using lazy loading."}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1610209771,"creation_date":1407217274,"answer_id":25131860,"question_id":25125210,"body_markdown":"Your mapping should look like this:\r\n\r\n\tpublic class Parent { \r\n\t\t@OneToMany(mappedBy = parent, cascade = CasacadeType.ALL, orphanRemoval = true) \r\n\t\tprivate Set&lt;Child&gt; children = new HashSet&lt;&gt;();\r\n\t\t\r\n\t\tpublic void removeChild(Child child) {\r\n\t\t\tchildren.remove(child);\r\n\t\t\tchild.setParent(null);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class Child {\r\n\t\t@ManyToOne\r\n\t\tprivate Parent parent;\r\n\t}\r\n\r\nBecause you have a bidirectional association you have to have both sides in-sync. \r\n\r\nTherefore, it&#39;s good practice to call:\r\n\r\n    parent.removeChild(child);\r\n\r\nThis way, `removeChild` is going to remove the `Child` from the `children` `Set` and also set the `Child` `parent` association to `null`.\r\n\r\n","title":"Hibernate PersistentSet remove() operation not working","body":"<p>Your mapping should look like this:</p>\n<pre><code>public class Parent { \n    @OneToMany(mappedBy = parent, cascade = CasacadeType.ALL, orphanRemoval = true) \n    private Set&lt;Child&gt; children = new HashSet&lt;&gt;();\n    \n    public void removeChild(Child child) {\n        children.remove(child);\n        child.setParent(null);\n    }\n}\n\npublic class Child {\n    @ManyToOne\n    private Parent parent;\n}\n</code></pre>\n<p>Because you have a bidirectional association you have to have both sides in-sync.</p>\n<p>Therefore, it's good practice to call:</p>\n<pre><code>parent.removeChild(child);\n</code></pre>\n<p>This way, <code>removeChild</code> is going to remove the <code>Child</code> from the <code>children</code> <code>Set</code> and also set the <code>Child</code> <code>parent</code> association to <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":4743797,"reputation":1302,"user_id":3835640,"display_name":"Mustafa Kemal"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1514207532,"creation_date":1514207532,"answer_id":47968974,"question_id":25125210,"body_markdown":"I had same problem and although using remove and setParent to null, related data was at db still. After debugging I saw related child object couldn&#39;t been removed from parent&#39;s child list. When I searched &quot;hibernate set remove not working&quot; at net, I found the hibernate truth: remove method has some bug because hashcode and equals methods. After seing that I think maybe removeAll() method could work properly. I put related one object to list and put list to removeAll method and it succeeded. As an example:\r\n\r\n    List childList = new ArrayList();\r\n    childList.add(child);\r\n    parent.removeAll(childList);\r\n    child.setParent(null);","title":"Hibernate PersistentSet remove() operation not working","body":"<p>I had same problem and although using remove and setParent to null, related data was at db still. After debugging I saw related child object couldn't been removed from parent's child list. When I searched \"hibernate set remove not working\" at net, I found the hibernate truth: remove method has some bug because hashcode and equals methods. After seing that I think maybe removeAll() method could work properly. I put related one object to list and put list to removeAll method and it succeeded. As an example:</p>\n\n<pre><code>List childList = new ArrayList();\nchildList.add(child);\nparent.removeAll(childList);\nchild.setParent(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13357037,"reputation":21,"user_id":9640247,"display_name":"Sahibatko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641991472,"creation_date":1596714351,"answer_id":63282898,"question_id":25125210,"body_markdown":"Another possible cause for such a failure might be:\r\nA custom implementation of `equals()` and `hashCode()` which relies on properties that can change over time.\r\nIf such a property is modified *after* the object was added to the `HashSet`, it changes its hash and thus can no longer be found by `contains()` and `remove()`.\r\n\r\nConsider the following example:\r\n\r\n```java\r\npublic class Child {\r\n    private int id;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    \r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Child(int id) {\r\n        this.id = id;\r\n    }\r\n    \r\n    //other fields\r\n    \r\n    @Override\r\n    public int hashCode() {\r\n        return id;\r\n    }\r\n    \r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        //instanceof checks for null, but whatever...\r\n        if (obj == null || !(obj instanceof Child)) {\r\n            return false;\r\n        }\r\n        return this.id == ((Child)obj).id;\r\n    }\r\n}\r\n```\r\n\r\nIn the following snipped, the `HashSet` cannot remove the object because it cannot find it based on its new hash. Of course, it is not a bug, just one of the basic principles of a `HashSet` (which uses a `HashMap` internally).\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Child child1 = new Child(123);\r\n    HashSet&lt;Child&gt; hashSet = new HashSet&lt;&gt;();\r\n    \r\n    hashSet.add(child1); // puts to hash table at position X\r\n    child1.setId(321);\r\n    \r\n    hashSet.remove(child1); // looks at position Y, finds nothing there\r\n    //child1 is still in the set\r\n}\r\n```\r\n\r\nPS: Note that this answer is not a perfect match for the question as asked\r\n(the class in question does not override `hashCode` nor `equals`). It is more an explanation which depicts the most probable cause for the need of the &#39;workaround&#39; mentioned by @Mustafa-Kemal AND you have to keep this in mind even when using the widely used approach mentioned by @Vlad-Mihalcea.\r\n\r\nNote 1: `EntityManager::merge(...)` may change (and usually does) the memory-address of an object, used (not guaranteed for my part) for the default calculation of `hashCode()` - see `System.identityHashCode(Object x);` for more info.\r\n\r\nNote 2: `EntityManager::persist(...)` may change the property used for hashCode calcullation IF you use a custom hashCode method - yes, I am talking about the primary-key, an id, here which is quite tempting to use as hashCode :)","title":"Hibernate PersistentSet remove() operation not working","body":"<p>Another possible cause for such a failure might be:\nA custom implementation of <code>equals()</code> and <code>hashCode()</code> which relies on properties that can change over time.\nIf such a property is modified <em>after</em> the object was added to the <code>HashSet</code>, it changes its hash and thus can no longer be found by <code>contains()</code> and <code>remove()</code>.</p>\n<p>Consider the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Child {\n    private int id;\n\n    public int getId() {\n        return id;\n    }\n    \n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public Child(int id) {\n        this.id = id;\n    }\n    \n    //other fields\n    \n    @Override\n    public int hashCode() {\n        return id;\n    }\n    \n    @Override\n    public boolean equals(Object obj) {\n        //instanceof checks for null, but whatever...\n        if (obj == null || !(obj instanceof Child)) {\n            return false;\n        }\n        return this.id == ((Child)obj).id;\n    }\n}\n</code></pre>\n<p>In the following snipped, the <code>HashSet</code> cannot remove the object because it cannot find it based on its new hash. Of course, it is not a bug, just one of the basic principles of a <code>HashSet</code> (which uses a <code>HashMap</code> internally).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Child child1 = new Child(123);\n    HashSet&lt;Child&gt; hashSet = new HashSet&lt;&gt;();\n    \n    hashSet.add(child1); // puts to hash table at position X\n    child1.setId(321);\n    \n    hashSet.remove(child1); // looks at position Y, finds nothing there\n    //child1 is still in the set\n}\n</code></pre>\n<p>PS: Note that this answer is not a perfect match for the question as asked\n(the class in question does not override <code>hashCode</code> nor <code>equals</code>). It is more an explanation which depicts the most probable cause for the need of the 'workaround' mentioned by @Mustafa-Kemal AND you have to keep this in mind even when using the widely used approach mentioned by @Vlad-Mihalcea.</p>\n<p>Note 1: <code>EntityManager::merge(...)</code> may change (and usually does) the memory-address of an object, used (not guaranteed for my part) for the default calculation of <code>hashCode()</code> - see <code>System.identityHashCode(Object x);</code> for more info.</p>\n<p>Note 2: <code>EntityManager::persist(...)</code> may change the property used for hashCode calcullation IF you use a custom hashCode method - yes, I am talking about the primary-key, an id, here which is quite tempting to use as hashCode :)</p>\n"},{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659479931,"creation_date":1659466753,"answer_id":73212476,"question_id":25125210,"body_markdown":"For anyone who looks for an up to date answer:\r\n\r\nMy Parent Entity was like:\r\n\r\n    public class Parent {\r\n        @OneToMany(mappedBy = &quot;parent&quot;,\r\n                cascade = CascadeType.ALL)\r\n        private List&lt;Child&gt; childList= new ArrayList&lt;&gt;();\r\n    }\r\n\r\nAnd my Child Entity :\r\n\r\n    public class Child {\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;PARENT_ID&quot;, nullable = false)\r\n        private Parent parent;\r\n    }\r\n\r\n\r\nI had the same issue and I could handle it when I created my own `delete()` method in my `Repository` like this:\r\n\r\n    @Modifying\r\n    @Query(&quot;delete from Child c where c.id = :id&quot;)\r\n    void deleteById(Long id);\r\n\r\n****using @Modifying is necessary**\r\n\r\nAnd I called it from `Service` layer:\r\n\r\n    childRepository.deleteById(childInstance.getId());\r\n","title":"Hibernate PersistentSet remove() operation not working","body":"<p>For anyone who looks for an up to date answer:</p>\n<p>My Parent Entity was like:</p>\n<pre><code>public class Parent {\n    @OneToMany(mappedBy = &quot;parent&quot;,\n            cascade = CascadeType.ALL)\n    private List&lt;Child&gt; childList= new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>And my Child Entity :</p>\n<pre><code>public class Child {\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;PARENT_ID&quot;, nullable = false)\n    private Parent parent;\n}\n</code></pre>\n<p>I had the same issue and I could handle it when I created my own <code>delete()</code> method in my <code>Repository</code> like this:</p>\n<pre><code>@Modifying\n@Query(&quot;delete from Child c where c.id = :id&quot;)\nvoid deleteById(Long id);\n</code></pre>\n<p>**<strong>using @Modifying is necessary</strong></p>\n<p>And I called it from <code>Service</code> layer:</p>\n<pre><code>childRepository.deleteById(childInstance.getId());\n</code></pre>\n"}],"owner":{"account_id":1703031,"reputation":1506,"user_id":1562662,"accept_rate":75,"display_name":"Chacko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7356,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":25131860,"answer_count":4,"score":10,"last_activity_date":1659479931,"creation_date":1407176915,"question_id":25125210,"body_markdown":"I&#39;ve a Set&lt;Child&gt; in my Parent entity as below:\r\n\r\n    Class Parent {\r\n     @OneToMany(mappedBy = parent, cascade = CasacadeType.ALL)\r\n     Set&lt;Child&gt; children;\r\n    }\r\n    \r\n    Class Child {\r\n     @Column(nullable=false)\r\n     @ManyToOne\r\n     Parent parent;\r\n    }\r\n\r\nNow event if I do a remove() operation on the Set&lt;Child&gt; for one of its element it doesn&#39;t actually get removed.","title":"Hibernate PersistentSet remove() operation not working","body":"<p>I've a Set in my Parent entity as below:</p>\n\n<pre><code>Class Parent {\n @OneToMany(mappedBy = parent, cascade = CasacadeType.ALL)\n Set&lt;Child&gt; children;\n}\n\nClass Child {\n @Column(nullable=false)\n @ManyToOne\n Parent parent;\n}\n</code></pre>\n\n<p>Now event if I do a remove() operation on the Set for one of its element it doesn't actually get removed.</p>\n"},{"tags":["java","swing","user-interface","layout","jpanel"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1659474493,"post_id":73213777,"comment_id":129302703,"body_markdown":"By &quot;one after the other&quot; do you man horizontally or vertically?","body":"By &quot;one after the other&quot; do you man horizontally or vertically?"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":2,"creation_date":1659474583,"post_id":73213777,"comment_id":129302728,"body_markdown":"GridBagLayout is the most flexible single layout, however, when you&#39;re building complex UIs in Swing, you need to learn to nest layouts one (or more) within the other. Don&#39;t limit your thinking.","body":"GridBagLayout is the most flexible single layout, however, when you&#39;re building complex UIs in Swing, you need to learn to nest layouts one (or more) within the other. Don&#39;t limit your thinking."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1659476353,"post_id":73213777,"comment_id":129303168,"body_markdown":"You&#39;re not stuck to using a single layout.  You can use &quot;compound&quot; layouts to produce complex UIs (ie placing components in seperate containers using different layouts)","body":"You&#39;re not stuck to using a single layout.  You can use &quot;compound&quot; layouts to produce complex UIs (ie placing components in seperate containers using different layouts)"},{"owner":{"account_id":25961556,"reputation":1,"user_id":19678104,"display_name":"js ss"},"score":0,"creation_date":1659477411,"post_id":73213777,"comment_id":129303397,"body_markdown":"@Mihe Vertically.","body":"@Mihe Vertically."},{"owner":{"account_id":25961556,"reputation":1,"user_id":19678104,"display_name":"js ss"},"score":0,"creation_date":1659477434,"post_id":73213777,"comment_id":129303401,"body_markdown":"@MarsAtomic Okaay!","body":"@MarsAtomic Okaay!"},{"owner":{"account_id":25961556,"reputation":1,"user_id":19678104,"display_name":"js ss"},"score":0,"creation_date":1659477447,"post_id":73213777,"comment_id":129303406,"body_markdown":"@MadProgrammer True! I agree.","body":"@MadProgrammer True! I agree."}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659479511,"creation_date":1659479511,"answer_id":73214453,"question_id":73213777,"body_markdown":"Simple example:\r\n```\r\nimport java.awt.Dimension;\r\nimport java.awt.GridBagLayout;\r\nimport javax.swing.*;\r\n\r\npublic class Test {\r\n\r\n    public void run() {\r\n        JPanel content = createSomeContent();\r\n        JPanel center = new JPanel(new GridBagLayout());\r\n        center.add(content);\r\n                \r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n        frame.add(center);\r\n        frame.setSize(800, 600);\r\n        frame.setVisible(true);\r\n    }\r\n    \r\n    private JPanel createSomeContent() {\r\n        JPanel content = new JPanel();\r\n        BoxLayout vBox = new BoxLayout(content, BoxLayout.Y_AXIS);\r\n        content.setLayout(vBox);\r\n        content.setBorder(BorderFactory.createLineBorder(java.awt.Color.BLACK));\r\n        \r\n        JLabel label = new JLabel(&quot;Input:&quot;);\r\n        JTextField input = new JTextField(20);\r\n        JButton button = new JButton(&quot;Submit&quot;);\r\n        \r\n        content.add(label);\r\n        content.add(Box.createRigidArea(new Dimension(0, 10)));     \r\n        content.add(input);\r\n        content.add(Box.createRigidArea(new Dimension(0, 10)));\r\n        content.add(button);\r\n        return content;\r\n    }    \r\n    \r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; new Test().run());\r\n    }\r\n}\r\n```","title":"Searching for a suitable layout to arrange my components in java swing","body":"<p>Simple example:</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.GridBagLayout;\nimport javax.swing.*;\n\npublic class Test {\n\n    public void run() {\n        JPanel content = createSomeContent();\n        JPanel center = new JPanel(new GridBagLayout());\n        center.add(content);\n                \n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        frame.add(center);\n        frame.setSize(800, 600);\n        frame.setVisible(true);\n    }\n    \n    private JPanel createSomeContent() {\n        JPanel content = new JPanel();\n        BoxLayout vBox = new BoxLayout(content, BoxLayout.Y_AXIS);\n        content.setLayout(vBox);\n        content.setBorder(BorderFactory.createLineBorder(java.awt.Color.BLACK));\n        \n        JLabel label = new JLabel(&quot;Input:&quot;);\n        JTextField input = new JTextField(20);\n        JButton button = new JButton(&quot;Submit&quot;);\n        \n        content.add(label);\n        content.add(Box.createRigidArea(new Dimension(0, 10)));     \n        content.add(input);\n        content.add(Box.createRigidArea(new Dimension(0, 10)));\n        content.add(button);\n        return content;\n    }    \n    \n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new Test().run());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25961556,"reputation":1,"user_id":19678104,"display_name":"js ss"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659479511,"creation_date":1659474167,"question_id":73213777,"body_markdown":"I am trying to develop a GUI using swing in Java. \r\nI took a look at the different layouts but I wanted to know if there is some kind of layout that would allow multiple components in the centre of the screen one after the other because I noticed that if I use a border layout and place the components at the centre they over write each other. Is there a way to do this properly using any Layout?\r\n\r\nI currently have a textarea and a button that I tried to add using a borderlayout in the center but  the text area is over written by the button and only the button displays. \r\n\r\n```\r\n\tfPanel.add(text1TextArea,BorderLayout.CENTER);\r\n\tfPanel.add(button1,BorderLayout.CENTER);\r\n```\r\n\r\nIt would be really helpful if someone could link examples.","title":"Searching for a suitable layout to arrange my components in java swing","body":"<p>I am trying to develop a GUI using swing in Java.\nI took a look at the different layouts but I wanted to know if there is some kind of layout that would allow multiple components in the centre of the screen one after the other because I noticed that if I use a border layout and place the components at the centre they over write each other. Is there a way to do this properly using any Layout?</p>\n<p>I currently have a textarea and a button that I tried to add using a borderlayout in the center but  the text area is over written by the button and only the button displays.</p>\n<pre><code>    fPanel.add(text1TextArea,BorderLayout.CENTER);\n    fPanel.add(button1,BorderLayout.CENTER);\n</code></pre>\n<p>It would be really helpful if someone could link examples.</p>\n"},{"tags":["java","spring-boot","ssl-certificate","aws-documentdb"],"answers":[{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659479239,"creation_date":1659479239,"answer_id":73214423,"question_id":73210869,"body_markdown":"Either you can add the certificates require to validate the server identity in the default java truststore i.e `cacerts` or you can set the application environment to use different truststore as mentioned below.\r\n\r\n    @Configuration\r\n    public class TrustStoreConfig {\r\n    \r\n    \t@Value(&quot;${trust-store}&quot;)\r\n    \tprivate Resource trustStore;\r\n    \r\n    \t@Value(&quot;${trust-store-password}&quot;)\r\n    \tprivate String trustStorePassword;\r\n    \r\n    \t@PostConstruct\r\n    \tpublic void init() throws IOException {\r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, trustStore.getFile().getPath());\r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, trustStorePassword);\r\n    \t}\r\n    \r\n    }\r\n\r\napplication.properties\r\n\r\n    trust-store=classpath:certificates.p12  \r\n    trust-store-password=password\r\n\r\n","title":"AWS Document DB is causing RestTemplate SSL issue","body":"<p>Either you can add the certificates require to validate the server identity in the default java truststore i.e <code>cacerts</code> or you can set the application environment to use different truststore as mentioned below.</p>\n<pre><code>@Configuration\npublic class TrustStoreConfig {\n\n    @Value(&quot;${trust-store}&quot;)\n    private Resource trustStore;\n\n    @Value(&quot;${trust-store-password}&quot;)\n    private String trustStorePassword;\n\n    @PostConstruct\n    public void init() throws IOException {\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, trustStore.getFile().getPath());\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, trustStorePassword);\n    }\n\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>trust-store=classpath:certificates.p12  \ntrust-store-password=password\n</code></pre>\n"}],"owner":{"account_id":9801310,"reputation":260,"user_id":7262584,"display_name":"Mahesh Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659479239,"creation_date":1659458015,"question_id":73210869,"body_markdown":"I was faced SSL issue while connect to AWS document db. After setting Key Store programmatically documented db started working.\r\n  \r\n   Setting SSL to Document db connection code snippet:\r\n\r\n    \r\n        \r\n\r\n    String filePath = null;\r\n    try {\r\n        filePath = keyStoreFromCertificate(KEYSTORE_ALIAS_NAME,\r\n                env.getProperty(AWS_RDS_CERTIFICATE_CONTENT), keystorePassword);\r\n        logger.info(&quot;Document DB: keystore file: {}&quot;, filePath);\r\n    } catch (NoSuchAlgorithmException | CertificateException | KeyStoreException\r\n            | IOException e) {\r\n        logger.error(&quot;Document DB: unable to generate keystore file in temp location {}&quot;, e.getMessage());\r\n        return null;\r\n    }\r\n    if (Files.notExists(Paths.get(filePath), LinkOption.NOFOLLOW_LINKS)) {\r\n        logger.error(&quot;Document DB: AWS certificate file  {} is missing&quot;, filePath);\r\n        return null;\r\n    }\r\n    logger.info(&quot;Document DB: FOX KEYSTORE file path : {}&quot;, filePath);\r\n    System.setProperty(SYSTEM_SSL_TRUSTSTORE, filePath);\r\n    System.setProperty(SYSTEM_SSL_TRUSTSTORE_PHRASE, keystorePassword);\r\n    MongoClientSettings settings = MongoClientSettings.builder()\r\n            .applyConnectionString(new ConnectionString(connectionString))\r\n            .applyToConnectionPoolSettings(builder -&gt; builder.maxConnectionIdleTime(mongoConnectionIdleTimeout, TimeUnit.MILLISECONDS))\r\n            .build();\r\n    MongoClient client = MongoClients.create(settings);\r\n    pingMongoConnection(client);\r\n\r\nThe above code works perfectly to connect AWS document DB. \r\n\r\nNow the issue is, in the same application I&#39;m calling another jar file method. Internally that method is creating RestTemplate and calling the another endpoint.\r\n\r\n    RestTemplate temp = new RestTemplate();\r\n    temp.excahnge();\r\n\r\nThe above API call is throwing SSL issue:\r\n\r\n    sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:751)\r\n    \tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:621)\r\n\r\nCan someone please suggest me the solution for this?\r\n\r\n   ","title":"AWS Document DB is causing RestTemplate SSL issue","body":"<p>I was faced SSL issue while connect to AWS document db. After setting Key Store programmatically documented db started working.</p>\n<p>Setting SSL to Document db connection code snippet:</p>\n<pre><code>String filePath = null;\ntry {\n    filePath = keyStoreFromCertificate(KEYSTORE_ALIAS_NAME,\n            env.getProperty(AWS_RDS_CERTIFICATE_CONTENT), keystorePassword);\n    logger.info(&quot;Document DB: keystore file: {}&quot;, filePath);\n} catch (NoSuchAlgorithmException | CertificateException | KeyStoreException\n        | IOException e) {\n    logger.error(&quot;Document DB: unable to generate keystore file in temp location {}&quot;, e.getMessage());\n    return null;\n}\nif (Files.notExists(Paths.get(filePath), LinkOption.NOFOLLOW_LINKS)) {\n    logger.error(&quot;Document DB: AWS certificate file  {} is missing&quot;, filePath);\n    return null;\n}\nlogger.info(&quot;Document DB: FOX KEYSTORE file path : {}&quot;, filePath);\nSystem.setProperty(SYSTEM_SSL_TRUSTSTORE, filePath);\nSystem.setProperty(SYSTEM_SSL_TRUSTSTORE_PHRASE, keystorePassword);\nMongoClientSettings settings = MongoClientSettings.builder()\n        .applyConnectionString(new ConnectionString(connectionString))\n        .applyToConnectionPoolSettings(builder -&gt; builder.maxConnectionIdleTime(mongoConnectionIdleTimeout, TimeUnit.MILLISECONDS))\n        .build();\nMongoClient client = MongoClients.create(settings);\npingMongoConnection(client);\n</code></pre>\n<p>The above code works perfectly to connect AWS document DB.</p>\n<p>Now the issue is, in the same application I'm calling another jar file method. Internally that method is creating RestTemplate and calling the another endpoint.</p>\n<pre><code>RestTemplate temp = new RestTemplate();\ntemp.excahnge();\n</code></pre>\n<p>The above API call is throwing SSL issue:</p>\n<pre><code>sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:751)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:621)\n</code></pre>\n<p>Can someone please suggest me the solution for this?</p>\n"},{"tags":["java","jodatime"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1659477031,"post_id":73214005,"comment_id":129303319,"body_markdown":"`formatter.parseLocalDate`? Is that actually compiling for you? In which version of Java does DateTimeFormatter have such a method?","body":"<code>formatter.parseLocalDate</code>? Is that actually compiling for you? In which version of Java does DateTimeFormatter have such a method?"},{"owner":{"account_id":3187918,"reputation":51,"user_id":2693032,"display_name":"yusufnaz"},"score":0,"creation_date":1659477098,"post_id":73214005,"comment_id":129303328,"body_markdown":"Try this  `localDate = LocalDate.from(formatter.parse(dateAsString));`","body":"Try this  <code>localDate = LocalDate.from(formatter.parse(dateAsString));</code>"},{"owner":{"account_id":15687289,"reputation":71,"user_id":12664180,"display_name":"Zeister"},"score":0,"creation_date":1659477203,"post_id":73214005,"comment_id":129303350,"body_markdown":"@k314159 I have java 11","body":"@k314159 I have java 11"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1659477245,"post_id":73214005,"comment_id":129303357,"body_markdown":"[DateTimeFormatter](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) does not have a method `parseLocalDate`. The code in the question does not compile. You are using Joda-Time, right?","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> does not have a method <code>parseLocalDate</code>. The code in the question does not compile. You are using Joda-Time, right?"},{"owner":{"account_id":15687289,"reputation":71,"user_id":12664180,"display_name":"Zeister"},"score":1,"creation_date":1659477310,"post_id":73214005,"comment_id":129303366,"body_markdown":"@AlexanderIvanchenko  year wih 2 digits is parsing successfully. It does not go to catch block. If I pass string &#39;20-08-09&#39; it will parse it and create date  0020-08-09.","body":"@AlexanderIvanchenko  year wih 2 digits is parsing successfully. It does not go to catch block. If I pass string &#39;20-08-09&#39; it will parse it and create date  0020-08-09."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1659477372,"post_id":73214005,"comment_id":129303384,"body_markdown":"@Zeister are you sure you&#39;re using java.time.DateTimeFormatter? You must be using someone else&#39;s class, because the standard one doesn&#39;t have such a method. Check your import statement.","body":"@Zeister are you sure you&#39;re using java.time.DateTimeFormatter? You must be using someone else&#39;s class, because the standard one doesn&#39;t have such a method. Check your import statement."},{"owner":{"account_id":15687289,"reputation":71,"user_id":12664180,"display_name":"Zeister"},"score":0,"creation_date":1659477532,"post_id":73214005,"comment_id":129303426,"body_markdown":"@andrewJames Sorry for confusion. Yes it is from Joda time. I have updated question with imports","body":"@andrewJames Sorry for confusion. Yes it is from Joda time. I have updated question with imports"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1659477721,"post_id":73214005,"comment_id":129303480,"body_markdown":"@Zeister With `LocalDate.parse(&quot;20-08-09&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;))` it **would fail** as expected according to the documentation of `DateTimeFormatter`. Now I see that you&#39;re using `joda.time`, it poses the question do you really need an external dependency especially when it&#39;s possible to achieve desired behavior with standard `java.time` classes?","body":"@Zeister With <code>LocalDate.parse(&quot;20-08-09&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;))</code> it <b>would fail</b> as expected according to the documentation of <code>DateTimeFormatter</code>. Now I see that you&#39;re using <code>joda.time</code>, it poses the question do you really need an external dependency especially when it&#39;s possible to achieve desired behavior with standard <code>java.time</code> classes?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1659478108,"post_id":73214005,"comment_id":129303573,"body_markdown":"If you can replace joda with `java.time`, then there&#39;s no need for all that convoluted syntax to build a formatter. Just use the predefined `DateTimeFormatter.ISO_LOCAL_DATE`.","body":"If you can replace joda with <code>java.time</code>, then there&#39;s no need for all that convoluted syntax to build a formatter. Just use the predefined <code>DateTimeFormatter.ISO_LOCAL_DATE</code>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1659478791,"post_id":73214005,"comment_id":129303731,"body_markdown":"If you need to keep Joda Time, take a look at [How to parse four digit year only (with Joda Time)?](https://stackoverflow.com/q/1612150/12567365). For example: `.appendFixedDecimal(org.joda.time.DateTimeFieldType.year(), 4)`. But now would be a good time to move to `java.time`, perhaps. Pun intended.","body":"If you need to keep Joda Time, take a look at <a href=\"https://stackoverflow.com/q/1612150/12567365\">How to parse four digit year only (with Joda Time)?</a>. For example: <code>.appendFixedDecimal(org.joda.time.DateTimeFieldType.year(), 4)</code>. But now would be a good time to move to <code>java.time</code>, perhaps. Pun intended."}],"owner":{"account_id":15687289,"reputation":71,"user_id":12664180,"display_name":"Zeister"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659480242,"answer_count":0,"score":0,"last_activity_date":1659478930,"creation_date":1659475701,"question_id":73214005,"body_markdown":"I want to parse date string and convert to local date. For parsing date I am expecting string to be in format of &quot;yyyy-MM-dd&quot;. I have used following code to parse date string.\r\n\r\nI am using **java 11**\r\n\r\n    import org.joda.time.format.DateTimeFormatter;\r\n    import org.joda.time.LocalDate;\r\n    \r\n         public class Test {\r\n        \r\n              public static void main(String[] args) {\r\n                    DateTimeFormatter formatter= new DateTimeFormatterBuilder().appendPattern(&quot;yyyy-MM-dd&quot;)\r\n                            .toFormatter();\r\n                    String dateAsString=&quot;20-08-09&quot;; //should not parsed to date\r\n                    LocalDate localDate=null;\r\n                     try {\r\n                          localDate = formatter.parseLocalDate(dateAsString);\r\n                     }catch (IllegalArgumentException | UnsupportedOperationException e){\r\n                         System.out.println(&quot;Invalid date &quot;+dateAsString);\r\n                     }\r\n                    System.out.println(&quot; local date &quot;+localDate.toString()); // output local date 0020-08-09\r\n                }\r\n        }\r\n\r\nAbove code works for most of the cases except If I pass date in format &#39;yy-MM-dd&#39; it also consider as valid and  parse to local date. \r\nHow do I force date parsing to follow &#39;yyyy-MM-dd&#39; pattern only.","title":"Force Joda-Time date parsing to follow strictly the standard ISO 8601 pattern of YYYY-MM-DD","body":"<p>I want to parse date string and convert to local date. For parsing date I am expecting string to be in format of &quot;yyyy-MM-dd&quot;. I have used following code to parse date string.</p>\n<p>I am using <strong>java 11</strong></p>\n<pre><code>import org.joda.time.format.DateTimeFormatter;\nimport org.joda.time.LocalDate;\n\n     public class Test {\n    \n          public static void main(String[] args) {\n                DateTimeFormatter formatter= new DateTimeFormatterBuilder().appendPattern(&quot;yyyy-MM-dd&quot;)\n                        .toFormatter();\n                String dateAsString=&quot;20-08-09&quot;; //should not parsed to date\n                LocalDate localDate=null;\n                 try {\n                      localDate = formatter.parseLocalDate(dateAsString);\n                 }catch (IllegalArgumentException | UnsupportedOperationException e){\n                     System.out.println(&quot;Invalid date &quot;+dateAsString);\n                 }\n                System.out.println(&quot; local date &quot;+localDate.toString()); // output local date 0020-08-09\n            }\n    }\n</code></pre>\n<p>Above code works for most of the cases except If I pass date in format 'yy-MM-dd' it also consider as valid and  parse to local date.\nHow do I force date parsing to follow 'yyyy-MM-dd' pattern only.</p>\n"},{"tags":["java","android","eclipse","adb","genymotion"],"answers":[{"tags":[],"owner":{"account_id":2560911,"reputation":7467,"user_id":2221895,"accept_rate":88,"display_name":"Don Chakkappan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1418476030,"creation_date":1418476030,"answer_id":27459125,"question_id":27459089,"body_markdown":"Do it in the command prompt\r\n\r\n - **`adb kill-server`**\r\n - **`adb start-server`**\r\n\r\nRe-start your IDE\r\n\r\n\r\nType  &quot;**`where adb.exe`**&quot; &amp; see the output (Should be &#39;C:\\adt-bundle-windows-x86-20140702\\sdk\\platform-tools\\adb.exe&#39;)\r\n\r\n","title":"How to Restart ADB server","body":"<p>Do it in the command prompt</p>\n\n<ul>\n<li><strong><code>adb kill-server</code></strong></li>\n<li><strong><code>adb start-server</code></strong></li>\n</ul>\n\n<p>Re-start your IDE</p>\n\n<p>Type  \"<strong><code>where adb.exe</code></strong>\" &amp; see the output (Should be 'C:\\adt-bundle-windows-x86-20140702\\sdk\\platform-tools\\adb.exe')</p>\n"},{"tags":[],"owner":{"display_name":"user4078066"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418479280,"creation_date":1418479280,"answer_id":27459609,"question_id":27459089,"body_markdown":"go to DDMS and right side it will display 12 icons there select reset adb will be there,then reset adb it will work may be","title":"How to Restart ADB server","body":"<p>go to DDMS and right side it will display 12 icons there select reset adb will be there,then reset adb it will work may be</p>\n"}],"owner":{"account_id":3091650,"reputation":65,"user_id":2617627,"accept_rate":71,"display_name":"Furkan İlhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9270,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1659478417,"creation_date":1418475810,"question_id":27459089,"body_markdown":"I use `genymotion` as emulator. I restarted eclipse and the `adb` is correctly located but the application does not start. \r\n\r\nHere is the error:\r\n\r\n    [2014-12-13 14:57:52 - Serbay] ------------------------------    \r\n    [2014-12-13 14:57:52 - Serbay] Android Launch! \r\n    [2014-12-13 14:57:52 - Serbay] The connection to adb is down, and a severe error has    occured. \r\n    [2014-12-13 14:57:52 - Serbay] You must restart adb and    Eclipse. \r\n    [2014-12-13 14:57:52 - Serbay] Please ensure that adb is    correctly located at    &#39;C:\\adt-bundle-windows-x86-20140702\\sdk\\platform-tools\\adb.exe&#39; and    can be executed.\r\n\r\n","title":"How to Restart ADB server","body":"<p>I use <code>genymotion</code> as emulator. I restarted eclipse and the <code>adb</code> is correctly located but the application does not start. </p>\n\n<p>Here is the error:</p>\n\n<pre><code>[2014-12-13 14:57:52 - Serbay] ------------------------------    \n[2014-12-13 14:57:52 - Serbay] Android Launch! \n[2014-12-13 14:57:52 - Serbay] The connection to adb is down, and a severe error has    occured. \n[2014-12-13 14:57:52 - Serbay] You must restart adb and    Eclipse. \n[2014-12-13 14:57:52 - Serbay] Please ensure that adb is    correctly located at    'C:\\adt-bundle-windows-x86-20140702\\sdk\\platform-tools\\adb.exe' and    can be executed.\n</code></pre>\n"},{"tags":["java","android","loops"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1659114873,"post_id":73168858,"comment_id":129224292,"body_markdown":"None of that sounds like it requires a continuous loop, just listeners.","body":"None of that sounds like it requires a continuous loop, just listeners."},{"owner":{"account_id":6726252,"reputation":3087,"user_id":5184092,"accept_rate":71,"display_name":"luckyging3r"},"score":0,"creation_date":1659115713,"post_id":73168858,"comment_id":129224547,"body_markdown":"Generally, you wouldn&#39;t want to run an infinite loop within onCreate. This will block your app on the main thread. Android OS would probably give an error/alert and close your app. OnCreate is intended to set up required resources for your application. If you MUST run an infinite loop and not implement event listeners then I&#39;d look into the Android Runnable and Android Thread classes. In a new thread you can run your infinite server loop without blocking your main thread. Bluetooth is a tricky beast glhf","body":"Generally, you wouldn&#39;t want to run an infinite loop within onCreate. This will block your app on the main thread. Android OS would probably give an error/alert and close your app. OnCreate is intended to set up required resources for your application. If you MUST run an infinite loop and not implement event listeners then I&#39;d look into the Android Runnable and Android Thread classes. In a new thread you can run your infinite server loop without blocking your main thread. Bluetooth is a tricky beast glhf"},{"owner":{"account_id":4470685,"reputation":21,"user_id":3993887,"display_name":"Gerald Eberhardt"},"score":0,"creation_date":1659116656,"post_id":73168858,"comment_id":129224809,"body_markdown":"My background is more firmware coding.  I may be taking the wrong approach. \nSo, can someone expand on what type of listeners that could replace a loop?\nThere would be a message sent and a response expected. The loop was going to use a switch-case to provide the proper action for the received message.","body":"My background is more firmware coding.  I may be taking the wrong approach.  So, can someone expand on what type of listeners that could replace a loop? There would be a message sent and a response expected. The loop was going to use a switch-case to provide the proper action for the received message."}],"owner":{"account_id":4470685,"reputation":21,"user_id":3993887,"display_name":"Gerald Eberhardt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659477342,"creation_date":1659114710,"question_id":73168858,"body_markdown":"I’m working on a project that needs to have infinite loop that is active when the activity is active. \r\n\r\nThis loop:\r\n\r\n - Receive messages from a connected Thread for blue tooth \r\n - Must send messages out to same thread. \r\n - Handler the messages\r\n\r\nI tried a “while(true)” loop but the I found that the onClick Listeners had to be in the loop. This concerned me if one the onClick listeners broke out of the while loop. \r\n\r\nIs that OK?\r\n\r\nSo is it best type of loop to use?\r\n\r\n\r\nUpdate ====================\r\n\r\nHere is what I did.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    Handler handlerTimeLoop = new Handler();\r\n    Runnable runnableTimerLoop;\r\n    int delay = 2*1000; //Delay for 2 seconds.  One second = 1000 milliseconds.\r\n    int counterLoop;\r\n    \r\n        protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(layout.activity_operate);\r\n    \r\n    \r\n        handlerTimeLoop.postDelayed( runnableTimerLoop = new Runnable() {\r\n           public void run() {\r\n              //do something\r\n              counterLoop++;\r\n              Log.d(TAG,&quot;Looped: &quot; + counterLoop);\r\n              \r\n              //Start next delay\r\n              handlerTimeLoop.postDelayed(runnableTimerLoop, delay);\r\n           }\r\n        }, delay);//END of &quot;Timer Loop&quot;\r\n    \r\n        //Button Listeners =========================================================================\r\n        buttonListeners();\r\n    }//END of &quot;onCreate()&quot;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Android Best Practice for Continuous loops in onCreate","body":"<p>I’m working on a project that needs to have infinite loop that is active when the activity is active.</p>\n<p>This loop:</p>\n<ul>\n<li>Receive messages from a connected Thread for blue tooth</li>\n<li>Must send messages out to same thread.</li>\n<li>Handler the messages</li>\n</ul>\n<p>I tried a “while(true)” loop but the I found that the onClick Listeners had to be in the loop. This concerned me if one the onClick listeners broke out of the while loop.</p>\n<p>Is that OK?</p>\n<p>So is it best type of loop to use?</p>\n<p>Update ====================</p>\n<p>Here is what I did.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Handler handlerTimeLoop = new Handler();\nRunnable runnableTimerLoop;\nint delay = 2*1000; //Delay for 2 seconds.  One second = 1000 milliseconds.\nint counterLoop;\n\n    protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(layout.activity_operate);\n\n\n    handlerTimeLoop.postDelayed( runnableTimerLoop = new Runnable() {\n       public void run() {\n          //do something\n          counterLoop++;\n          Log.d(TAG,\"Looped: \" + counterLoop);\n          \n          //Start next delay\n          handlerTimeLoop.postDelayed(runnableTimerLoop, delay);\n       }\n    }, delay);//END of \"Timer Loop\"\n\n    //Button Listeners =========================================================================\n    buttonListeners();\n}//END of \"onCreate()\"</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","css-selectors"],"answers":[{"tags":[],"owner":{"account_id":20183347,"reputation":408,"user_id":14803340,"display_name":"Parolla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659468194,"creation_date":1659468194,"answer_id":73212743,"question_id":73212033,"body_markdown":"I see 2 anchor nodes with the same `@href=&quot;/directions&quot;`. The first one is hidden. Try to use this XPath:\r\n\r\n    //a[@title=&#39;Find directions between two points&#39;]","title":"Selenium: locator for the button field","body":"<p>I see 2 anchor nodes with the same <code>@href=&quot;/directions&quot;</code>. The first one is hidden. Try to use this XPath:</p>\n<pre><code>//a[@title='Find directions between two points']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659475159,"creation_date":1659474591,"answer_id":73213846,"question_id":73212033,"body_markdown":"The [_xpath_](https://stackoverflow.com/a/50882166/7429447) based [locator strategy](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver) which you have used:\r\n\r\n\t@FindBy(xpath = &quot;//a[@href=\\&quot;/directions\\&quot;]&quot;)    \r\n\tprivate WebElement directionsButton;\r\n\r\ndoesn&#39;t identifies the desired element uniquely within the HTML but identifies two elements:\r\n\r\n![directions](https://i.stack.imgur.com/WB7nK.png)\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo identify the element uniquely you can use either of the following [_locator strategies_](https://stackoverflow.com/questions/48054321/of-the-many-findelements-by-functions-in-selenium-when-would-you-use-one-over):\r\n\r\n- Using _cssSelector_:\r\n\t\r\n\t  @FindBy(css = &quot;div#content a[title=&#39;Find directions between two points&#39;][href=&#39;/directions&#39;]&quot;)    \r\n\t  private WebElement directionsButton;\r\n\t  \r\n- Using _xpath_:\r\n\r\n\t  @FindBy(xpath = &quot;//div[@id=&#39;content&#39;]//a[@title=&#39;Find directions between two points&#39; and @href=&#39;/directions&#39;]&quot;)    \r\n\t  private WebElement directionsButton;","title":"Selenium: locator for the button field","body":"<p>The <a href=\"https://stackoverflow.com/a/50882166/7429447\"><em>xpath</em></a> based <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\">locator strategy</a> which you have used:</p>\n<pre><code>@FindBy(xpath = &quot;//a[@href=\\&quot;/directions\\&quot;]&quot;)    \nprivate WebElement directionsButton;\n</code></pre>\n<p>doesn't identifies the desired element uniquely within the HTML but identifies two elements:</p>\n<p><img src=\"https://i.stack.imgur.com/WB7nK.png\" alt=\"directions\" /></p>\n<hr />\n<h2>Solution</h2>\n<p>To identify the element uniquely you can use either of the following <a href=\"https://stackoverflow.com/questions/48054321/of-the-many-findelements-by-functions-in-selenium-when-would-you-use-one-over\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>@FindBy(css = &quot;div#content a[title='Find directions between two points'][href='/directions']&quot;)    \nprivate WebElement directionsButton;\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>@FindBy(xpath = &quot;//div[@id='content']//a[@title='Find directions between two points' and @href='/directions']&quot;)    \nprivate WebElement directionsButton;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":20469748,"reputation":23,"user_id":15020481,"display_name":"aryaguzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73213846,"answer_count":2,"score":1,"last_activity_date":1659475159,"creation_date":1659464345,"question_id":73212033,"body_markdown":"I&#39;m trying to write an automation script with Java and Selenium for this [site][1], but I got stuck while trying to find a locator for the directions button. \r\n\r\nLocator:\r\n```\r\n@FindBy(xpath = &quot;//a[@href=\\&quot;/directions\\&quot;]&quot;)    \r\nprivate WebElement directionsButton;\r\n```\r\n\r\nMethods:\r\n```\r\npublic void clickOnDirectionsButton() {\r\n        waitForElementAndClick(directionsButton);\r\n    }\r\npublic void waitForElementAndClick(WebElement element) {\r\n        getWebDriverWait().until(ExpectedConditions.elementToBeClickable(element)).click();\r\n    }\r\n\r\nprivate WebDriverWait getWebDriverWait() {\r\n        return new WebDriverWait(getDriver(), Duration.ofSeconds(5));\r\n    }\r\n```\r\n\r\nHTML:\r\n```\r\n&lt;div class=&quot;col-auto&quot;&gt;\r\n        &lt;a class=&quot;btn btn-sm btn-primary switch_link&quot; title=&quot;Find the route&quot; href=&quot;/directions&quot;&gt;&lt;img width=&quot;20&quot; height=&quot;20&quot; src=&quot;/assets/directions-6ae0ecdabcaa76d0d14dddddfa7d6381ecdd817b05f751ea422e53493945e942.png&quot; /&gt;&lt;/a&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/form&gt;\r\n```\r\n\r\nWhen I launch the script, the browser is started, but then nothing is going on and the script ends with an exception as follows:\r\n```\r\norg.openqa.selenium.TimeoutException: Expected condition failed: waiting for frame to be available: [[ChromeDriver: chrome on MAC (4c996493878e66ee1e24eb2224a1175b)] -&gt; xpath: //a[@href=&quot;/directions&quot;]] (tried for 5 second(s) with 500 milliseconds interval)\r\n```\r\n\r\nI want the script to click on the directions button. How can I achieve such behavior?\r\n\r\n\r\n  [1]: https://www.openstreetmap.org/","title":"Selenium: locator for the button field","body":"<p>I'm trying to write an automation script with Java and Selenium for this <a href=\"https://www.openstreetmap.org/\" rel=\"nofollow noreferrer\">site</a>, but I got stuck while trying to find a locator for the directions button.</p>\n<p>Locator:</p>\n<pre><code>@FindBy(xpath = &quot;//a[@href=\\&quot;/directions\\&quot;]&quot;)    \nprivate WebElement directionsButton;\n</code></pre>\n<p>Methods:</p>\n<pre><code>public void clickOnDirectionsButton() {\n        waitForElementAndClick(directionsButton);\n    }\npublic void waitForElementAndClick(WebElement element) {\n        getWebDriverWait().until(ExpectedConditions.elementToBeClickable(element)).click();\n    }\n\nprivate WebDriverWait getWebDriverWait() {\n        return new WebDriverWait(getDriver(), Duration.ofSeconds(5));\n    }\n</code></pre>\n<p>HTML:</p>\n<pre><code>&lt;div class=&quot;col-auto&quot;&gt;\n        &lt;a class=&quot;btn btn-sm btn-primary switch_link&quot; title=&quot;Find the route&quot; href=&quot;/directions&quot;&gt;&lt;img width=&quot;20&quot; height=&quot;20&quot; src=&quot;/assets/directions-6ae0ecdabcaa76d0d14dddddfa7d6381ecdd817b05f751ea422e53493945e942.png&quot; /&gt;&lt;/a&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/form&gt;\n</code></pre>\n<p>When I launch the script, the browser is started, but then nothing is going on and the script ends with an exception as follows:</p>\n<pre><code>org.openqa.selenium.TimeoutException: Expected condition failed: waiting for frame to be available: [[ChromeDriver: chrome on MAC (4c996493878e66ee1e24eb2224a1175b)] -&gt; xpath: //a[@href=&quot;/directions&quot;]] (tried for 5 second(s) with 500 milliseconds interval)\n</code></pre>\n<p>I want the script to click on the directions button. How can I achieve such behavior?</p>\n"},{"tags":["java","jboss","drools","rule-engine"],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659474975,"creation_date":1659474975,"answer_id":73213905,"question_id":73212254,"body_markdown":"Define a _single_ condition `Not routed or routed to {routeName}` ... something like this:\r\n\r\n```\r\n[*][]Not routed or routed to {routeName}=$out : Router(hasNotRoutes == true || routes contains {routeName})\r\n```\r\n\r\nRight now you&#39;re or-ing `$out : Router(hasNotRoutes == true)` and `$out : Router(routes contains {routeName})` which doesn&#39;t work for a variety of syntax-related reasons (the `$out` assignment is part of both, for example).\r\n","title":"Java Drools - How to fire two rules?","body":"<p>Define a <em>single</em> condition <code>Not routed or routed to {routeName}</code> ... something like this:</p>\n<pre><code>[*][]Not routed or routed to {routeName}=$out : Router(hasNotRoutes == true || routes contains {routeName})\n</code></pre>\n<p>Right now you're or-ing <code>$out : Router(hasNotRoutes == true)</code> and <code>$out : Router(routes contains {routeName})</code> which doesn't work for a variety of syntax-related reasons (the <code>$out</code> assignment is part of both, for example).</p>\n"}],"owner":{"account_id":11963552,"reputation":247,"user_id":8753957,"accept_rate":40,"display_name":"Santosh Ravi Teja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659474975,"creation_date":1659465510,"question_id":73212254,"body_markdown":"I&#39;m new to drools and trying to fire two rules for my requirement.\r\n\r\nRules: Only one from the below, the first one W rule is firing, how to fire the second rule as well?\r\n\r\n    W rule:\r\n\r\n    rule &quot;Send an incoming request to W&quot; salience 1\r\n    when\r\n        There is an incoming message\r\n        Not routed yet\r\n    then\r\n       Create W Request for Cash\r\n       Route to &quot;WQueue&quot;.\r\n\r\n    F Rule:\r\n\r\n    rule &quot;Send an incoming request to F&quot;\r\n    when\r\n        There is an incoming message\r\n        Not routed yet or Routed to &quot;WQueue&quot;\r\n    then\r\n       Create F Request for Cash\r\n       Route to &quot;FQueue&quot;.\r\n\r\nConsequnce and condition:\r\n\r\nFor the 2nd rule `F Rule` I am using the `1st` and `3rd` conditions from below in the `when`\r\n\r\n    [*][]Not routed yet=$out : Router(hasNotRoutes == true)\r\n    [consequence][]Route to {routeNames}\\.=modify($out) \\{addRoute({routeNames})\\};\r\n    [*][]Routed to {routeName}=$out : Router(routes contains {routeName})\r\n\r\n","title":"Java Drools - How to fire two rules?","body":"<p>I'm new to drools and trying to fire two rules for my requirement.</p>\n<p>Rules: Only one from the below, the first one W rule is firing, how to fire the second rule as well?</p>\n<pre><code>W rule:\n\nrule &quot;Send an incoming request to W&quot; salience 1\nwhen\n    There is an incoming message\n    Not routed yet\nthen\n   Create W Request for Cash\n   Route to &quot;WQueue&quot;.\n\nF Rule:\n\nrule &quot;Send an incoming request to F&quot;\nwhen\n    There is an incoming message\n    Not routed yet or Routed to &quot;WQueue&quot;\nthen\n   Create F Request for Cash\n   Route to &quot;FQueue&quot;.\n</code></pre>\n<p>Consequnce and condition:</p>\n<p>For the 2nd rule <code>F Rule</code> I am using the <code>1st</code> and <code>3rd</code> conditions from below in the <code>when</code></p>\n<pre><code>[*][]Not routed yet=$out : Router(hasNotRoutes == true)\n[consequence][]Route to {routeNames}\\.=modify($out) \\{addRoute({routeNames})\\};\n[*][]Routed to {routeName}=$out : Router(routes contains {routeName})\n</code></pre>\n"},{"tags":["java","compiler-errors","osgi","atlassian-plugin-sdk"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1659475333,"post_id":73213818,"comment_id":129302910,"body_markdown":"Are you fine with using the Java 9 version of the library if a newer JRE is available but falling back to the old version if running on Java 8? Because there is no way of running Java 9 code with Java 8.","body":"Are you fine with using the Java 9 version of the library if a newer JRE is available but falling back to the old version if running on Java 8? Because there is no way of running Java 9 code with Java 8."},{"owner":{"account_id":2923387,"reputation":393,"user_id":2505213,"accept_rate":88,"display_name":"Saurabh Gupta"},"score":0,"creation_date":1659476561,"post_id":73213818,"comment_id":129303215,"body_markdown":"I am restricted to Java 8 version. Like for above problem, I am upgrading com.google.code.gson:gson 2.8.1 &gt; 2.8.9. It&#39;s needed due to a vulnerability and because 2.8.9 is compiled on Java 9, it&#39;s throwing above error. Are there any options available other than stop using gson?","body":"I am restricted to Java 8 version. Like for above problem, I am upgrading com.google.code.gson:gson 2.8.1 &gt; 2.8.9. It&#39;s needed due to a vulnerability and because 2.8.9 is compiled on Java 9, it&#39;s throwing above error. Are there any options available other than stop using gson?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1659476751,"post_id":73213818,"comment_id":129303256,"body_markdown":"No, there are no other options except changing gson itself to work for Java 8. But Java 8 projects should be migrated to newer versions anyways.","body":"No, there are no other options except changing gson itself to work for Java 8. But Java 8 projects should be migrated to newer versions anyways."},{"owner":{"account_id":2923387,"reputation":393,"user_id":2505213,"accept_rate":88,"display_name":"Saurabh Gupta"},"score":0,"creation_date":1659559196,"post_id":73213818,"comment_id":129326122,"body_markdown":"I also found the above mention gson version is supported with Java 7, I don&#39;t know why its failing with OSGI","body":"I also found the above mention gson version is supported with Java 7, I don&#39;t know why its failing with OSGI"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1659559378,"post_id":73213818,"comment_id":129326172,"body_markdown":"You might be successful with filing an issue.","body":"You might be successful with filing an issue."}],"owner":{"account_id":2923387,"reputation":393,"user_id":2505213,"accept_rate":88,"display_name":"Saurabh Gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659474422,"creation_date":1659474422,"question_id":73213818,"body_markdown":"**Problem in short:** Compiling Java 8 (Atlassian plugin) code and having issues with Java 9 compiled 3rd party libraries\r\n\r\nI have faced this problem multiple times and have worked around by avoiding upgrading any 3rd party library or using older version of 3rd party libraries, but the main issue still remains. This time I need to upgrade com.google.code.gson:gson due to a vulnerability. The problem is that the newer version of gson is probably compiled using Java 9. So when I am trying to package my own plugin on Java 8, it fails throwing below error \r\n\r\n    [ERROR] Manifest company:name:version : Exception: 19\r\n    [ERROR] Manifest company:name:version : Invalid class file module-info.class (java.lang.ArrayIndexOutOfBoundsException: 19)\r\n    [ERROR] Error(s) found in manifest configuration\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 25.256 s\r\n    [INFO] Finished at: 2022-08-02T16:47:25-04:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal com.atlassian.maven.plugins:maven-confluence-plugin:6.3.15:generate-manifest (default-generate-manifest) on project temp: Unable to execute mojo: Error(s) found in manifest configuration -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1]     http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n    Executing: /usr/local/Cellar/atlassian-plugin-sdk/8.2.7/libexec/apache-maven-3.5.4/bin/mvn  -gs /usr/local/Cellar/atlassian-plugin-sdk/8.2.7/libexec/apache-maven-3.5.4/conf/settings.xml dependency:tree -DoutputType=dot -DoutputFile=maven_dependency_tree.gv\r\n\r\nDoes anyone know what kind of approach should be taken to solve above kind of problem instead of restricting oneself to older versions of 3rd party libraries? And upgrading to a newer Java version isn&#39;t an option for current environment I am working on. \r\n","title":"OSGI plugin compile between different Java versions","body":"<p><strong>Problem in short:</strong> Compiling Java 8 (Atlassian plugin) code and having issues with Java 9 compiled 3rd party libraries</p>\n<p>I have faced this problem multiple times and have worked around by avoiding upgrading any 3rd party library or using older version of 3rd party libraries, but the main issue still remains. This time I need to upgrade com.google.code.gson:gson due to a vulnerability. The problem is that the newer version of gson is probably compiled using Java 9. So when I am trying to package my own plugin on Java 8, it fails throwing below error</p>\n<pre><code>[ERROR] Manifest company:name:version : Exception: 19\n[ERROR] Manifest company:name:version : Invalid class file module-info.class (java.lang.ArrayIndexOutOfBoundsException: 19)\n[ERROR] Error(s) found in manifest configuration\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 25.256 s\n[INFO] Finished at: 2022-08-02T16:47:25-04:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.atlassian.maven.plugins:maven-confluence-plugin:6.3.15:generate-manifest (default-generate-manifest) on project temp: Unable to execute mojo: Error(s) found in manifest configuration -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1]     http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\nExecuting: /usr/local/Cellar/atlassian-plugin-sdk/8.2.7/libexec/apache-maven-3.5.4/bin/mvn  -gs /usr/local/Cellar/atlassian-plugin-sdk/8.2.7/libexec/apache-maven-3.5.4/conf/settings.xml dependency:tree -DoutputType=dot -DoutputFile=maven_dependency_tree.gv\n</code></pre>\n<p>Does anyone know what kind of approach should be taken to solve above kind of problem instead of restricting oneself to older versions of 3rd party libraries? And upgrading to a newer Java version isn't an option for current environment I am working on.</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":15288938,"reputation":36,"user_id":11031057,"display_name":"Fernichter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659474278,"creation_date":1659474278,"answer_id":73213795,"question_id":73212093,"body_markdown":"I actually found a solution by myself:\r\n\r\n    @JsonIgnoreProperties(value={ &quot;paging&quot; }, allowGetters=true)\r\n    public class ResponseWrapper&lt;T&gt; {\r\n    \r\n    private List&lt;T&gt; items;\r\n\r\n    @JsonProperty(&quot;items&quot;)\r\n    public List&lt;T&gt; getResponseContent() {\r\n        return this.items;\r\n    }\r\n\r\n    @JsonProperty(&quot;items&quot;)\r\n    public void setResponseContent(List&lt;T&gt; items) {\r\n        this.items = items;\r\n    }\r\n}\r\n","title":"jackson deserialize wrapped array","body":"<p>I actually found a solution by myself:</p>\n<pre><code>@JsonIgnoreProperties(value={ &quot;paging&quot; }, allowGetters=true)\npublic class ResponseWrapper&lt;T&gt; {\n\nprivate List&lt;T&gt; items;\n\n@JsonProperty(&quot;items&quot;)\npublic List&lt;T&gt; getResponseContent() {\n    return this.items;\n}\n\n@JsonProperty(&quot;items&quot;)\npublic void setResponseContent(List&lt;T&gt; items) {\n    this.items = items;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":15288938,"reputation":36,"user_id":11031057,"display_name":"Fernichter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659474278,"creation_date":1659464630,"question_id":73212093,"body_markdown":"I got the following JSON that im trying to deserialize: \r\n\r\n    {\r\n    &quot;items&quot;: [\r\n        {\r\n            &quot;id&quot;: 29000012,\r\n            &quot;name&quot;: &quot;Crystal League I&quot;,\r\n            &quot;iconUrls&quot;: {\r\n                &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/kSfTyNNVSvogX3dMvpFUTt72VW74w6vEsEFuuOV4osQ.png&quot;,\r\n                &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/kSfTyNNVSvogX3dMvpFUTt72VW74w6vEsEFuuOV4osQ.png&quot;,\r\n                &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/kSfTyNNVSvogX3dMvpFUTt72VW74w6vEsEFuuOV4osQ.png&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;id&quot;: 29000015,\r\n            &quot;name&quot;: &quot;Master League I&quot;,\r\n            &quot;iconUrls&quot;: {\r\n                &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\r\n                &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\r\n                &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;\r\n            }\r\n        }\r\n    ],\r\n    &quot;paging&quot;: {\r\n        &quot;cursors&quot;: {}\r\n    }}\r\n\r\nIm trying to deserialize it with the following DTO:\r\n\r\n    @JsonRootName(&quot;items&quot;)\r\n    @JsonIgnoreProperties(value={ &quot;paging&quot; })\r\n    public class League {\r\n        private Long id;\r\n        private String name;\r\n        private IconUrls iconUrls;\r\n    \r\n    \r\n        public League() {\r\n        } \r\n    }\r\n    \r\n    class IconUrls {\r\n        private String small;\r\n        private String tiny;\r\n        private String medium;\r\n    \r\n    \r\n        public IconUrls() {\r\n        }  \r\n    }\r\n\r\nBut im getting the following error: \r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Root name (&#39;items&#39;) does not match expected (&#39;List&#39;) for type `java.util.List&lt;gg.stats.wrapper.entities.League&gt;\r\n\r\n\r\nI have also set: `DeserializationFeature.UNWRAP_ROOT_VALUE`\r\n\r\nThis is the call of the method from my Client:\r\n\r\n    List&lt;League&gt; getLeagueList();\r\n\r\nThe problem might be the &quot;paging&quot; key.\r\nAny workaround for that?\r\n\r\n\r\n\r\n","title":"jackson deserialize wrapped array","body":"<p>I got the following JSON that im trying to deserialize:</p>\n<pre><code>{\n&quot;items&quot;: [\n    {\n        &quot;id&quot;: 29000012,\n        &quot;name&quot;: &quot;Crystal League I&quot;,\n        &quot;iconUrls&quot;: {\n            &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/kSfTyNNVSvogX3dMvpFUTt72VW74w6vEsEFuuOV4osQ.png&quot;,\n            &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/kSfTyNNVSvogX3dMvpFUTt72VW74w6vEsEFuuOV4osQ.png&quot;,\n            &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/kSfTyNNVSvogX3dMvpFUTt72VW74w6vEsEFuuOV4osQ.png&quot;\n        }\n    },\n    {\n        &quot;id&quot;: 29000015,\n        &quot;name&quot;: &quot;Master League I&quot;,\n        &quot;iconUrls&quot;: {\n            &quot;small&quot;: &quot;https://api-assets.clashofclans.com/leagues/72/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\n            &quot;tiny&quot;: &quot;https://api-assets.clashofclans.com/leagues/36/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;,\n            &quot;medium&quot;: &quot;https://api-assets.clashofclans.com/leagues/288/olUfFb1wscIH8hqECAdWbdB6jPm9R8zzEyHIzyBgRXc.png&quot;\n        }\n    }\n],\n&quot;paging&quot;: {\n    &quot;cursors&quot;: {}\n}}\n</code></pre>\n<p>Im trying to deserialize it with the following DTO:</p>\n<pre><code>@JsonRootName(&quot;items&quot;)\n@JsonIgnoreProperties(value={ &quot;paging&quot; })\npublic class League {\n    private Long id;\n    private String name;\n    private IconUrls iconUrls;\n\n\n    public League() {\n    } \n}\n\nclass IconUrls {\n    private String small;\n    private String tiny;\n    private String medium;\n\n\n    public IconUrls() {\n    }  \n}\n</code></pre>\n<p>But im getting the following error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Root name ('items') does not match expected ('List') for type `java.util.List&lt;gg.stats.wrapper.entities.League&gt;\n</code></pre>\n<p>I have also set: <code>DeserializationFeature.UNWRAP_ROOT_VALUE</code></p>\n<p>This is the call of the method from my Client:</p>\n<pre><code>List&lt;League&gt; getLeagueList();\n</code></pre>\n<p>The problem might be the &quot;paging&quot; key.\nAny workaround for that?</p>\n"},{"tags":["java","eclipse","web","tomcat","rxtx"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1656567212,"post_id":72810234,"comment_id":128605284,"body_markdown":"Suggestions like what?","body":"Suggestions like what?"},{"owner":{"account_id":19221979,"reputation":1,"user_id":14045570,"display_name":"Laxmi Raghu"},"score":0,"creation_date":1656573432,"post_id":72810234,"comment_id":128607069,"body_markdown":"Like setting &#39;native Library path&#39; or putting the dll in jdk_home/bin directory etc","body":"Like setting &#39;native Library path&#39; or putting the dll in jdk_home/bin directory etc"},{"owner":{"account_id":19221979,"reputation":1,"user_id":14045570,"display_name":"Laxmi Raghu"},"score":0,"creation_date":1656573519,"post_id":72810234,"comment_id":128607093,"body_markdown":"Can suggest your solution that worked for you. Happy to try and see if it solves our error.","body":"Can suggest your solution that worked for you. Happy to try and see if it solves our error."}],"owner":{"account_id":19221979,"reputation":1,"user_id":14045570,"display_name":"Laxmi Raghu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659474205,"creation_date":1656562386,"question_id":72810234,"body_markdown":"We are using RXTX library to communicate from Java web based program to serial port.\r\n\r\nBut we are getting &quot;`java.lang.UnsatisfiedLinkError: no rxtxSerial in java.library.path:`&quot; error when trying to connect to serial port.\r\n\r\nWe are using Eclipse and Tomcat (as app server). It&#39;s a web based application.\r\n\r\nAdded [ `-Djava.library.path=&quot;C:\\directory\\rxtx&quot;`] to VM arguments in tomcat run configuration.\r\n\r\nFile &quot;**rxtxSerial64.dll**&quot; is in &quot;`C:\\directory\\rxtx`&quot; and &quot;**rxtx-2.2.jar**&quot; is in `WEB-INF/lib` folder.\r\n\r\n\r\nHow can we resolve this error?\r\n\r\n","title":"java.lang.UnsatisfiedLinkError: no rxtxSerial in java.library.path:","body":"<p>We are using RXTX library to communicate from Java web based program to serial port.</p>\n<p>But we are getting &quot;<code>java.lang.UnsatisfiedLinkError: no rxtxSerial in java.library.path:</code>&quot; error when trying to connect to serial port.</p>\n<p>We are using Eclipse and Tomcat (as app server). It's a web based application.</p>\n<p>Added [ <code>-Djava.library.path=&quot;C:\\directory\\rxtx&quot;</code>] to VM arguments in tomcat run configuration.</p>\n<p>File &quot;<strong>rxtxSerial64.dll</strong>&quot; is in &quot;<code>C:\\directory\\rxtx</code>&quot; and &quot;<strong>rxtx-2.2.jar</strong>&quot; is in <code>WEB-INF/lib</code> folder.</p>\n<p>How can we resolve this error?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1659233389,"post_id":73180082,"comment_id":129244821,"body_markdown":"Options --&gt; Fonts and Colors --&gt; Category: Error // Effects; Wave underline // Effect color: Red  ???","body":"Options --&gt; Fonts and Colors --&gt; Category: Error // Effects; Wave underline // Effect color: Red  ???"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1659233631,"post_id":73180082,"comment_id":129244850,"body_markdown":"What is TMC? You can [edit] your question to clarify, and (if one exists) add a related tag.","body":"What is TMC? You can <a href=\"https://stackoverflow.com/posts/73180082/edit\">edit</a> your question to clarify, and (if one exists) add a related tag."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1659235032,"post_id":73180082,"comment_id":129244987,"body_markdown":"The Options in Fonts and Colors (in my previous comment) could explain why the wavy red line isn&#39;t there.  But, it doesn&#39;t explain the absence of an error flag in the left margin.","body":"The Options in Fonts and Colors (in my previous comment) could explain why the wavy red line isn&#39;t there.  But, it doesn&#39;t explain the absence of an error flag in the left margin."},{"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"score":0,"creation_date":1659254844,"post_id":73180082,"comment_id":129247167,"body_markdown":"Can you check if 1) Your projects are really maven projects 2) Goto View &gt; IDE Log after you try to Browse Main Class to see if there is any error printed.","body":"Can you check if 1) Your projects are really maven projects 2) Goto View &gt; IDE Log after you try to Browse Main Class to see if there is any error printed."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1659282267,"post_id":73180082,"comment_id":129252611,"body_markdown":"I don&#39;t think that the absence of reporting syntax errors is the core issue; that is just a symptom of your underlying concern which the the ominous _&quot;initializing view, please wait&quot;_ message. That has been a longstanding problem on NetBeans, and you could search SO for similar questions with that error. For example, try some of the solutions proposed for [Netbeans - Error: Could not find or load main class](https://stackoverflow.com/q/20034377/2985643), and update your question with solutions that didn&#39;t work. Also, update your question to specify your versions of Java and NetBeans.","body":"I don&#39;t think that the absence of reporting syntax errors is the core issue; that is just a symptom of your underlying concern which the the ominous <i>&quot;initializing view, please wait&quot;</i> message. That has been a longstanding problem on NetBeans, and you could search SO for similar questions with that error. For example, try some of the solutions proposed for <a href=\"https://stackoverflow.com/q/20034377/2985643\">Netbeans - Error: Could not find or load main class</a>, and update your question with solutions that didn&#39;t work. Also, update your question to specify your versions of Java and NetBeans."},{"owner":{"account_id":25936541,"reputation":11,"user_id":19656701,"display_name":"Random Student"},"score":0,"creation_date":1659301196,"post_id":73180082,"comment_id":129256593,"body_markdown":"@James I just checked this and it seems to already be enabled.","body":"@James I just checked this and it seems to already be enabled."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":2,"creation_date":1659315720,"post_id":73180082,"comment_id":129258653,"body_markdown":"I see that you are using Java 8, but what version of NetBeans are you using? Note that the most recent versions of NetBeans (version 12.6 and later) do not support the use of Java 8. If you are running NetBeans 12.6 or later with Java 8 then your environment is invalid, and you have two options: [1] Upgrade to Java 11 or later. [2] Use an older version of NetBeans, such as 12.5.","body":"I see that you are using Java 8, but what version of NetBeans are you using? Note that the most recent versions of NetBeans (version 12.6 and later) do not support the use of Java 8. If you are running NetBeans 12.6 or later with Java 8 then your environment is invalid, and you have two options: [1] Upgrade to Java 11 or later. [2] Use an older version of NetBeans, such as 12.5."},{"owner":{"account_id":25936541,"reputation":11,"user_id":19656701,"display_name":"Random Student"},"score":1,"creation_date":1659396031,"post_id":73180082,"comment_id":129280167,"body_markdown":"@Skomisa I deleted all instances of Java 8 and the appdata of tmcbeans and downloaded Java 11. This solved the issue and everything is working correctly now. Thanks.","body":"@Skomisa I deleted all instances of Java 8 and the appdata of tmcbeans and downloaded Java 11. This solved the issue and everything is working correctly now. Thanks."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1659398782,"post_id":73180082,"comment_id":129280594,"body_markdown":"@RandomStudent OK. It&#39;s good that you solved your problem. Please consider posting an answer to your own question, since that is more helpful to the community than having resolution buried in the comments. Be sure to state the versions of NetBeans, Java and TMC in your answer.","body":"@RandomStudent OK. It&#39;s good that you solved your problem. Please consider posting an answer to your own question, since that is more helpful to the community than having resolution buried in the comments. Be sure to state the versions of NetBeans, Java and TMC in your answer."}],"answers":[{"tags":[],"owner":{"account_id":25936541,"reputation":11,"user_id":19656701,"display_name":"Random Student"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659474105,"creation_date":1659474105,"answer_id":73213767,"question_id":73180082,"body_markdown":"Versions: NetBeans with TMC 1.5.0 Java: 8\r\nIn order to solve this issue, I deleted all instances of Java 8 and downloaded Java 11. I also deleted the Appdata folder of tmcbeans.","title":"Why is my editor not working in NetBeans with TMC?","body":"<p>Versions: NetBeans with TMC 1.5.0 Java: 8\nIn order to solve this issue, I deleted all instances of Java 8 and downloaded Java 11. I also deleted the Appdata folder of tmcbeans.</p>\n"}],"owner":{"account_id":25936541,"reputation":11,"user_id":19656701,"display_name":"Random Student"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659474105,"creation_date":1659230004,"question_id":73180082,"body_markdown":"I am using NetBeans with TMC 1.5.0. Normally when I type code with incorrect syntax, there is a red squiggly line underneath the error. However, now when I type invalid code such errors do not appear. I have checked Tools &gt; Options &gt; Editor and everything seems to be correct there.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI feel like this has something to do with the editor not recognizing my main class correctly because when I browse main classes I get an initializing view, please wait ... message indefinitely. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nI added the class directory as the main class but this still did not work.\r\n\r\nedit: I am working through the mooc.fi java course. TMC beans is what they say to install on this https://www.mooc.fi/en/installation/netbeans/ page. I am on Netbeans with TMC 1.5.0 and I am using JAVA 8.\r\n.\r\nAttempted Solutions: I can manually enter the project name into the project explorer to compile the code but this still does not fix the issue of NetBeans not recognizing the main class for syntax errors. I also tried clearing the cache but this did not work either.\r\n\r\n  [1]: https://i.stack.imgur.com/lJZHL.png\r\n  [2]: https://i.stack.imgur.com/r47Ee.png\r\n\r\n  ","title":"Why is my editor not working in NetBeans with TMC?","body":"<p>I am using NetBeans with TMC 1.5.0. Normally when I type code with incorrect syntax, there is a red squiggly line underneath the error. However, now when I type invalid code such errors do not appear. I have checked Tools &gt; Options &gt; Editor and everything seems to be correct there.</p>\n<p><a href=\"https://i.stack.imgur.com/lJZHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lJZHL.png\" alt=\"enter image description here\" /></a></p>\n<p>I feel like this has something to do with the editor not recognizing my main class correctly because when I browse main classes I get an initializing view, please wait ... message indefinitely.</p>\n<p><a href=\"https://i.stack.imgur.com/r47Ee.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r47Ee.png\" alt=\"enter image description here\" /></a></p>\n<p>I added the class directory as the main class but this still did not work.</p>\n<p>edit: I am working through the mooc.fi java course. TMC beans is what they say to install on this <a href=\"https://www.mooc.fi/en/installation/netbeans/\" rel=\"nofollow noreferrer\">https://www.mooc.fi/en/installation/netbeans/</a> page. I am on Netbeans with TMC 1.5.0 and I am using JAVA 8.\n.\nAttempted Solutions: I can manually enter the project name into the project explorer to compile the code but this still does not fix the issue of NetBeans not recognizing the main class for syntax errors. I also tried clearing the cache but this did not work either.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1286307,"reputation":631,"user_id":1239295,"accept_rate":67,"display_name":"Bruce Sun"},"score":0,"creation_date":1460443115,"post_id":30609223,"comment_id":60730456,"body_markdown":"Maybe you disabled that plugin?","body":"Maybe you disabled that plugin?"},{"owner":{"account_id":4895550,"reputation":854,"user_id":6341307,"display_name":"Mr00Anderson"},"score":0,"creation_date":1533744549,"post_id":30609223,"comment_id":90462153,"body_markdown":"You must have additional plugins. This is not an available option by default. I tested it myself in my IDE.","body":"You must have additional plugins. This is not an available option by default. I tested it myself in my IDE."}],"answers":[{"tags":[],"owner":{"account_id":3169,"reputation":24379,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1433493227,"creation_date":1433493227,"answer_id":30661930,"question_id":30609223,"body_markdown":"Generating a copy constructor functionality is not built into IntelliJ IDEA. Perhaps that Generate Copy Constructor action is coming from a plugin?","title":"IntelliJ does not generate Copy Constructor","body":"<p>Generating a copy constructor functionality is not built into IntelliJ IDEA. Perhaps that Generate Copy Constructor action is coming from a plugin?</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1659473919,"creation_date":1533743599,"answer_id":51750904,"question_id":30609223,"body_markdown":"What you can do is use &quot;create constructor&quot;, select all the fields, then manually &quot;tweak&quot; that into a copy constructor by removing all the parameters :)\r\n\r\nNo plugin required anyway, and still mostly usable, just somewhat painful, but it will at least help you not forget any fields :)","title":"IntelliJ does not generate Copy Constructor","body":"<p>What you can do is use &quot;create constructor&quot;, select all the fields, then manually &quot;tweak&quot; that into a copy constructor by removing all the parameters :)</p>\n<p>No plugin required anyway, and still mostly usable, just somewhat painful, but it will at least help you not forget any fields :)</p>\n"}],"owner":{"account_id":289714,"reputation":5145,"user_id":590847,"accept_rate":68,"display_name":"Light Yagmi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12235,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":2,"score":10,"last_activity_date":1659473919,"creation_date":1433294021,"question_id":30609223,"body_markdown":"I try to automatically generate a copy constructor with IntelliJ, but I can not select this due to the box is grey out. How do I automatically generate a copy constructor by IntelliJ?\r\n\r\nMy Java Class\r\n\r\n    public class Parameter {\r\n    \tpublic double mA;\r\n    \tpublic double mB;\r\n    \tpublic double mC;\r\n    \tpublic double mD;\r\n    \tpublic String mPath;\r\n    \t\r\n    \tpublic Parameter(double mA, double mB, double mC, double mD, String mPath) {\r\n    \t\tsuper();\r\n    \t\tthis.mA = mA;\r\n    \t\tthis.mB = mB;\r\n    \t\tthis.mC = mC;\r\n    \t\tthis.mD = mD;\r\n    \t\tthis.mPath = mPath;\r\n    \t}\r\n    \r\n    \tpublic Parameter(double mA, double mB, double mC, double mD) {\r\n    \t\tthis(mA, mB, mC, mD, &quot;&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic double getA() {\r\n    \t\treturn mA;\r\n    \t}\r\n    \tpublic double getB() {\r\n    \t\treturn mB;\r\n    \t}\r\n    \tpublic double getC() {\r\n    \t\treturn mC;\r\n    \t}\r\n    \tpublic double getD() {\r\n    \t\treturn mD;\r\n    \t}\r\n    \tpublic String getPath(){\r\n    \t\treturn mPath;\r\n    \t}\r\n    }\r\n\r\nThe button is grey out.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/coofY.png","title":"IntelliJ does not generate Copy Constructor","body":"<p>I try to automatically generate a copy constructor with IntelliJ, but I can not select this due to the box is grey out. How do I automatically generate a copy constructor by IntelliJ?</p>\n\n<p>My Java Class</p>\n\n<pre><code>public class Parameter {\n    public double mA;\n    public double mB;\n    public double mC;\n    public double mD;\n    public String mPath;\n\n    public Parameter(double mA, double mB, double mC, double mD, String mPath) {\n        super();\n        this.mA = mA;\n        this.mB = mB;\n        this.mC = mC;\n        this.mD = mD;\n        this.mPath = mPath;\n    }\n\n    public Parameter(double mA, double mB, double mC, double mD) {\n        this(mA, mB, mC, mD, \"\");\n    }\n\n    public double getA() {\n        return mA;\n    }\n    public double getB() {\n        return mB;\n    }\n    public double getC() {\n        return mC;\n    }\n    public double getD() {\n        return mD;\n    }\n    public String getPath(){\n        return mPath;\n    }\n}\n</code></pre>\n\n<p>The button is grey out.</p>\n\n<p><img src=\"https://i.stack.imgur.com/coofY.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","csv"],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659473904,"creation_date":1659473904,"answer_id":73213741,"question_id":73213633,"body_markdown":"At https://github.com/opendevl/Json2Flat#output-csv you&#39;ll find a solution: use `headerSeparator()`, e. g. \r\n\r\n```\r\nflatMe.json2Sheet().headerSeparator().write2csv(path + &quot;filename.csv&quot;);\r\n```","title":"Remove a character from all headers in a CSV file, Java","body":"<p>At <a href=\"https://github.com/opendevl/Json2Flat#output-csv\" rel=\"nofollow noreferrer\">https://github.com/opendevl/Json2Flat#output-csv</a> you'll find a solution: use <code>headerSeparator()</code>, e. g.</p>\n<pre><code>flatMe.json2Sheet().headerSeparator().write2csv(path + &quot;filename.csv&quot;);\n</code></pre>\n"}],"owner":{"account_id":14404229,"reputation":33,"user_id":10404844,"display_name":"CokeVoAYCE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73213741,"answer_count":1,"score":0,"last_activity_date":1659473904,"creation_date":1659473327,"question_id":73213633,"body_markdown":"I have a CSV file, I write from JSON to create the CSV file using \r\n\r\n``JFlat flatMe = new JFlap(jsonString);``\r\n\r\n``flatMe.json2Sheet().write2csv(path + &quot;filename.csv&quot;);``\r\n\r\nhowever, when I write with flatMe, it puts &quot;/&quot; marks on each of the headers, which i don&#39;t want. how do i remove a &quot;/&quot; mark from all my headers? \r\nexample of the error: [header error][1]\r\ni want to remove the / mark before each of those headers. how can i go about this (using java code)? thanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NPADM.png","title":"Remove a character from all headers in a CSV file, Java","body":"<p>I have a CSV file, I write from JSON to create the CSV file using</p>\n<p><code>JFlat flatMe = new JFlap(jsonString);</code></p>\n<p><code>flatMe.json2Sheet().write2csv(path + &quot;filename.csv&quot;);</code></p>\n<p>however, when I write with flatMe, it puts &quot;/&quot; marks on each of the headers, which i don't want. how do i remove a &quot;/&quot; mark from all my headers?\nexample of the error: <a href=\"https://i.stack.imgur.com/NPADM.png\" rel=\"nofollow noreferrer\">header error</a>\ni want to remove the / mark before each of those headers. how can i go about this (using java code)? thanks!</p>\n"},{"tags":["java","list","sorting"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1559704328,"post_id":56453731,"comment_id":99500280,"body_markdown":"Within the loop, you have a `scoresEnCourse.clear();`.  If that executes, then it will cause the exceptions that you&#39;re seeing.  Maybe replace that statement by adding to `scoresAEliminer`.","body":"Within the loop, you have a <code>scoresEnCourse.clear();</code>.  If that executes, then it will cause the exceptions that you&#39;re seeing.  Maybe replace that statement by adding to <code>scoresAEliminer</code>."},{"owner":{"account_id":15182592,"reputation":15,"user_id":10955514,"display_name":"Marcocorico"},"score":0,"creation_date":1559736892,"post_id":56453731,"comment_id":99511916,"body_markdown":"i changed it  and it&#39;s still show me errors","body":"i changed it  and it&#39;s still show me errors"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1559741047,"post_id":56453731,"comment_id":99514296,"body_markdown":"Thanks for changing it - Basically, whenever you are iterating over a list, avoid changing the elements of that list within the loop.   Also paste the updated code so we can see the current state.  It would help a lot to format it correctly, properly indented - that should be a simple keystroke in your IDE (eg on eclipse on windows, it&#39;s just Ctrl-Shift-F).","body":"Thanks for changing it - Basically, whenever you are iterating over a list, avoid changing the elements of that list within the loop.   Also paste the updated code so we can see the current state.  It would help a lot to format it correctly, properly indented - that should be a simple keystroke in your IDE (eg on eclipse on windows, it&#39;s just Ctrl-Shift-F)."},{"owner":{"account_id":15182592,"reputation":15,"user_id":10955514,"display_name":"Marcocorico"},"score":0,"creation_date":1559741446,"post_id":56453731,"comment_id":99514521,"body_markdown":"I edited it on the post.","body":"I edited it on the post."}],"answers":[{"tags":[],"owner":{"account_id":3031019,"reputation":119,"user_id":4612799,"accept_rate":0,"display_name":"Jose Carlos Canova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559745639,"creation_date":1559745639,"answer_id":56462773,"question_id":56453731,"body_markdown":"You should think for a comparatorFunction on your &quot;list of hands&quot;, then you have hands.. (num players) and use the Comparable interface between &quot;hands&quot; and sort the &quot;list of hands&quot;. the last or first will be the winner depending on how you user the Comparable for the sort function (compare). if i understood the objective of your program that is to determine winner and losers. \r\n\r\na &quot;hand&quot; is the collection of cards... each  hand have 5 cards to check what the player has on hand.. (from nothing to pair , pairs , full , sequence , flush). \r\n\r\na hand must be Comparable to another hand. and that is it. \r\n\r\ncya. ","title":"Is there a way to debug this sorting function?","body":"<p>You should think for a comparatorFunction on your \"list of hands\", then you have hands.. (num players) and use the Comparable interface between \"hands\" and sort the \"list of hands\". the last or first will be the winner depending on how you user the Comparable for the sort function (compare). if i understood the objective of your program that is to determine winner and losers. </p>\n\n<p>a \"hand\" is the collection of cards... each  hand have 5 cards to check what the player has on hand.. (from nothing to pair , pairs , full , sequence , flush). </p>\n\n<p>a hand must be Comparable to another hand. and that is it. </p>\n\n<p>cya. </p>\n"}],"owner":{"account_id":15182592,"reputation":15,"user_id":10955514,"display_name":"Marcocorico"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659472491,"creation_date":1559703416,"question_id":56453731,"body_markdown":"I&#39;m currently trying to program a poker game to train my java skills.\r\n\r\nTo determine what is the best possible hand the game (so the bots can make good decisions) I assign to each possible hand a list of integers who depends of what cards they have on their hand and what cards are on the field. \r\nfor example a player who have a straight flush with highest card a 6 will have as list [8,6,0].\r\n\r\nin which the 8 represent the straight flush and the 6 the highest card of the flush (the last number only serve for the double pair or the full house).\r\nA player who have a pair of 10 will have as list [1,10,0,0,12,0].\r\n\r\nin which the three first numbers represent the pair (the 1 represent the pair and the 10 the value of the pair) and the three last numbers  represent the highest card on the player hand (the 0 for the highest card and the 12 for the queen).\r\n\r\nin the case of the straight flush there is no need for the highest card so the list only contains 3 integers.\r\n\r\nNow, the problem is that my method to sort them work fine but sometimes it give me errors (it&#39;s a method that I use a lot so it perhaps only doesn&#39;t work 1 in 10000 ) and the program use a lots of random number so the program never execute twice the same, and  when it doesn&#39;t work there are two type of error for this same method (sometimes it&#39;s one and sometimes it&#39;s the other): \r\n\r\n&quot;java.util.ConcurrentModificationException&quot; and &quot;java.lang.IndexOutOfBoundsException&quot; but my java skills are not good enough to tell me how to deal with it.\r\n\r\nI tried to debug it using print but found nothing unnatural.\r\nThe system tell me that the error is coming from this method, but I&#39;m not sure of that. \r\n\r\nhere&#39;s the code in question:\r\n```\r\n\tpublic List&lt;Score&gt; meilleurScore(List&lt;Score&gt; scores) {\r\n\r\n\t\tint x = 0;\r\n\t\tint y = 0;\r\n\t\tJoueur joueurGagnant;\r\n\t\tList&lt;Score&gt; scoresGagnants = new ArrayList&lt;&gt;();\r\n\t\tList&lt;Score&gt; toutLesScores = new ArrayList&lt;&gt;();\r\n\t\tList&lt;Score&gt; scoresPasEncoreFait = new ArrayList&lt;&gt;();\r\n\t\tList&lt;Score&gt; scoresEnCourse = new ArrayList&lt;&gt;();\r\n\t\tList&lt;Integer&gt; meilleureListe = new ArrayList&lt;&gt;();\r\n\t\tList&lt;Score&gt; scoresAEliminer = new ArrayList&lt;&gt;();\r\n\r\n\t\tscoresPasEncoreFait.addAll(scores);\r\n\t\tscoresEnCourse = equilibrerLesScores(scoresEnCourse);\r\n\t\twhile (toutLesScores.size() &lt; scores.size()) {\r\n\r\n\t\t\t// System.out.println(meilleureListe);\r\n\t\t\tmeilleureListe.clear();\r\n\t\t\t// System.out.println(toutLesScores.size());\r\n\t\t\t// System.out.println(scoresPasEncoreFait.size());\r\n\t\t\tscoresEnCourse.clear();\r\n\t\t\t// scoresAEliminer.addAll(scoresEnCourse);\r\n\t\t\tscoresEnCourse.addAll(scoresPasEncoreFait);\r\n\r\n\t\t\tfor (int j = 0; j &lt; scoresEnCourse.get(0).integers.size(); j++) {\r\n\t\t\t\tmeilleureListe.add(0);\r\n\t\t\t\tmeilleureListe.add(0);\r\n\t\t\t\tmeilleureListe.add(0);\r\n\t\t\t}\r\n\r\n\t\t\tif (scoresEnCourse.get(0).integers.size() &gt; 0) {\r\n\t\t\t\tfor (int i = 0; i &lt; scoresEnCourse.get(0).integers.size(); i++) {\r\n\r\n\t\t\t\t\tscoresEnCourse.removeAll(scoresAEliminer);\r\n\t\t\t\t\t// System.out.println(&quot;3&quot;+ scoresEnCourse);\r\n\t\t\t\t\tscoresAEliminer.clear();\r\n\r\n\t\t\t\t\tfor (Score score : scoresEnCourse) {\r\n\t\t\t\t\t\t// System.out.println(score.integers.get(i));\r\n\t\t\t\t\t\t// System.out.println(meilleureListe.get(i));\r\n\t\t\t\t\t\t// System.out.println(&quot;meilleur &quot;+meilleureListe);\r\n\r\n\t\t\t\t\t\tif (score.integers.get(i) &lt; meilleureListe.get(i)) {\r\n\r\n\t\t\t\t\t\t\tscoresAEliminer.add(score);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ((score.integers.get(i) == meilleureListe.get(i)) &amp;&amp; (!scoresGagnants.contains(score))) {\r\n\t\t\t\t\t\t\tscoresGagnants.add(score);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (score.integers.get(i) &gt; meilleureListe.get(i)) {\r\n\t\t\t\t\t\t\tfor (Score score2 : scoresEnCourse) {\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tif (score == score2) {\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif ((score.integers.get(i) &gt; score2.integers.get(i))\r\n\t\t\t\t\t\t\t\t\t\t\t&amp;&amp; (!scoresAEliminer.contains(score2))) {\r\n\t\t\t\t\t\t\t\t\t\tscoresAEliminer.add(score2);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tscoresGagnants.clear();\r\n\t\t\t\t\t\t\tscoresGagnants.add(score);\r\n\t\t\t\t\t\t\tmeilleureListe = score.integers;\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (scoresEnCourse.size() == 1) {\r\n\t\t\t\t\t\t\t/* System.out.println(&quot;size==1 &quot;+scoresEnCourse); */\r\n\t\t\t\t\t\t\ttoutLesScores.addAll(scoresEnCourse);\r\n\t\t\t\t\t\t\tscoresPasEncoreFait.removeAll(scoresEnCourse);\r\n\t\t\t\t\t\t\tscoresAEliminer.addAll(scoresEnCourse);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\t/* System.out.println(&quot;else &quot;+scoresGagnants); */\r\n\t\t\t\ttoutLesScores.addAll(scoresGagnants);\r\n\t\t\t\tscoresPasEncoreFait.removeAll(scoresGagnants);\r\n\t\t\t\tscoresAEliminer.addAll(scoresEnCourse);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn toutLesScores;\r\n\t}\r\n```\r\nthis method use &quot;equilibrerLesScores&quot; which is:\r\n```\r\npublic List&lt;Score&gt; equilibrerLesScores(List&lt;Score&gt; scores){\r\n\tint x=0;\r\n\tfor (Score score : scores){\r\n\t\tif (score.integers.size()&gt;x){\r\n\t\t\tx=score.integers.size();\r\n\t\t}\r\n\t}\r\n\tfor (Score score : scores){\r\n\t\twhile (score.integers.size()&lt;x){\r\n\t\t\tscore.integers.add(0);\r\n\t\t}\r\n\t}\r\n\treturn scores;\r\n}\r\n``` \r\n\r\nIn my code a Score is defined by:\r\n```\r\npublic Score(Carte carte1, Carte carte2, List&lt;Integer&gt; integers){\r\n\t\tthis.carte1=carte1;\r\n\t\tthis.carte2=carte2;\r\n\t\tthis.integers=integers;\r\n\t\t\r\n\t}\r\n```\r\n(and a Carte is a card )\r\n\r\n\r\nhere are the 2 errors:\r\n```\r\nException in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n\tat java.util.ArrayList$Itr.checkForComodification(Unknown Source)\r\n\tat java.util.ArrayList$Itr.next(Unknown Source)\r\n\tat Table.meilleurScore(Table.java:596)\r\n\tat Table.trouverLeRangDeCetteMain(Table.java:656)\r\n\tat Table.chanceDeGagnerPlusTard(Table.java:1025)\r\n\tat Table.caractereDevin(Table.java:806)\r\n\tat Table.faireLesMises(Table.java:688)\r\n\tat Main.main(Main.java:60)\r\n```\r\nand\r\n```\r\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat java.util.ArrayList.rangeCheck(Unknown Source)\r\n\tat java.util.ArrayList.get(Unknown Source)\r\n\tat Table.meilleurScore(Table.java:582)\r\n\tat Table.trouverLeRangDeCetteMain(Table.java:656)\r\n\tat Table.chanceDeGagnerPlusTard(Table.java:997)\r\n\tat Table.caractereDevin(Table.java:806)\r\n\tat Table.faireLesMises(Table.java:688)\r\n\tat Main.main(Main.java:53)\r\n```\r\n\r\n(the index and size are not always 0)\r\nthe line 596 is: \r\n\r\n```\r\nfor (Score score : scoresEnCourse){\r\n```\r\n\r\nand the line 582 is:\r\n\r\n```\r\nfor (int i=0;i&lt;scoresEnCourse.get(0).integers.size();i++){\r\n```\r\n\r\nIf needed I can show other parts of my code.\r\n\r\nThank you for reading my problem and sorry for my English.","title":"Is there a way to debug this sorting function?","body":"<p>I'm currently trying to program a poker game to train my java skills.</p>\n<p>To determine what is the best possible hand the game (so the bots can make good decisions) I assign to each possible hand a list of integers who depends of what cards they have on their hand and what cards are on the field.\nfor example a player who have a straight flush with highest card a 6 will have as list [8,6,0].</p>\n<p>in which the 8 represent the straight flush and the 6 the highest card of the flush (the last number only serve for the double pair or the full house).\nA player who have a pair of 10 will have as list [1,10,0,0,12,0].</p>\n<p>in which the three first numbers represent the pair (the 1 represent the pair and the 10 the value of the pair) and the three last numbers  represent the highest card on the player hand (the 0 for the highest card and the 12 for the queen).</p>\n<p>in the case of the straight flush there is no need for the highest card so the list only contains 3 integers.</p>\n<p>Now, the problem is that my method to sort them work fine but sometimes it give me errors (it's a method that I use a lot so it perhaps only doesn't work 1 in 10000 ) and the program use a lots of random number so the program never execute twice the same, and  when it doesn't work there are two type of error for this same method (sometimes it's one and sometimes it's the other):</p>\n<p>&quot;java.util.ConcurrentModificationException&quot; and &quot;java.lang.IndexOutOfBoundsException&quot; but my java skills are not good enough to tell me how to deal with it.</p>\n<p>I tried to debug it using print but found nothing unnatural.\nThe system tell me that the error is coming from this method, but I'm not sure of that.</p>\n<p>here's the code in question:</p>\n<pre><code>    public List&lt;Score&gt; meilleurScore(List&lt;Score&gt; scores) {\n\n        int x = 0;\n        int y = 0;\n        Joueur joueurGagnant;\n        List&lt;Score&gt; scoresGagnants = new ArrayList&lt;&gt;();\n        List&lt;Score&gt; toutLesScores = new ArrayList&lt;&gt;();\n        List&lt;Score&gt; scoresPasEncoreFait = new ArrayList&lt;&gt;();\n        List&lt;Score&gt; scoresEnCourse = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; meilleureListe = new ArrayList&lt;&gt;();\n        List&lt;Score&gt; scoresAEliminer = new ArrayList&lt;&gt;();\n\n        scoresPasEncoreFait.addAll(scores);\n        scoresEnCourse = equilibrerLesScores(scoresEnCourse);\n        while (toutLesScores.size() &lt; scores.size()) {\n\n            // System.out.println(meilleureListe);\n            meilleureListe.clear();\n            // System.out.println(toutLesScores.size());\n            // System.out.println(scoresPasEncoreFait.size());\n            scoresEnCourse.clear();\n            // scoresAEliminer.addAll(scoresEnCourse);\n            scoresEnCourse.addAll(scoresPasEncoreFait);\n\n            for (int j = 0; j &lt; scoresEnCourse.get(0).integers.size(); j++) {\n                meilleureListe.add(0);\n                meilleureListe.add(0);\n                meilleureListe.add(0);\n            }\n\n            if (scoresEnCourse.get(0).integers.size() &gt; 0) {\n                for (int i = 0; i &lt; scoresEnCourse.get(0).integers.size(); i++) {\n\n                    scoresEnCourse.removeAll(scoresAEliminer);\n                    // System.out.println(&quot;3&quot;+ scoresEnCourse);\n                    scoresAEliminer.clear();\n\n                    for (Score score : scoresEnCourse) {\n                        // System.out.println(score.integers.get(i));\n                        // System.out.println(meilleureListe.get(i));\n                        // System.out.println(&quot;meilleur &quot;+meilleureListe);\n\n                        if (score.integers.get(i) &lt; meilleureListe.get(i)) {\n\n                            scoresAEliminer.add(score);\n                        }\n                        if ((score.integers.get(i) == meilleureListe.get(i)) &amp;&amp; (!scoresGagnants.contains(score))) {\n                            scoresGagnants.add(score);\n                        }\n                        if (score.integers.get(i) &gt; meilleureListe.get(i)) {\n                            for (Score score2 : scoresEnCourse) {\n                                {\n                                    if (score == score2) {\n                                        break;\n                                    }\n                                    if ((score.integers.get(i) &gt; score2.integers.get(i))\n                                            &amp;&amp; (!scoresAEliminer.contains(score2))) {\n                                        scoresAEliminer.add(score2);\n                                    }\n                                }\n\n                            }\n\n                            scoresGagnants.clear();\n                            scoresGagnants.add(score);\n                            meilleureListe = score.integers;\n\n                        }\n                        if (scoresEnCourse.size() == 1) {\n                            /* System.out.println(&quot;size==1 &quot;+scoresEnCourse); */\n                            toutLesScores.addAll(scoresEnCourse);\n                            scoresPasEncoreFait.removeAll(scoresEnCourse);\n                            scoresAEliminer.addAll(scoresEnCourse);\n\n                        }\n\n                    }\n\n                }\n                /* System.out.println(&quot;else &quot;+scoresGagnants); */\n                toutLesScores.addAll(scoresGagnants);\n                scoresPasEncoreFait.removeAll(scoresGagnants);\n                scoresAEliminer.addAll(scoresEnCourse);\n\n            }\n\n        }\n\n        return toutLesScores;\n    }\n</code></pre>\n<p>this method use &quot;equilibrerLesScores&quot; which is:</p>\n<pre><code>public List&lt;Score&gt; equilibrerLesScores(List&lt;Score&gt; scores){\n    int x=0;\n    for (Score score : scores){\n        if (score.integers.size()&gt;x){\n            x=score.integers.size();\n        }\n    }\n    for (Score score : scores){\n        while (score.integers.size()&lt;x){\n            score.integers.add(0);\n        }\n    }\n    return scores;\n}\n</code></pre>\n<p>In my code a Score is defined by:</p>\n<pre><code>public Score(Carte carte1, Carte carte2, List&lt;Integer&gt; integers){\n        this.carte1=carte1;\n        this.carte2=carte2;\n        this.integers=integers;\n        \n    }\n</code></pre>\n<p>(and a Carte is a card )</p>\n<p>here are the 2 errors:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\n    at java.util.ArrayList$Itr.checkForComodification(Unknown Source)\n    at java.util.ArrayList$Itr.next(Unknown Source)\n    at Table.meilleurScore(Table.java:596)\n    at Table.trouverLeRangDeCetteMain(Table.java:656)\n    at Table.chanceDeGagnerPlusTard(Table.java:1025)\n    at Table.caractereDevin(Table.java:806)\n    at Table.faireLesMises(Table.java:688)\n    at Main.main(Main.java:60)\n</code></pre>\n<p>and</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n    at java.util.ArrayList.rangeCheck(Unknown Source)\n    at java.util.ArrayList.get(Unknown Source)\n    at Table.meilleurScore(Table.java:582)\n    at Table.trouverLeRangDeCetteMain(Table.java:656)\n    at Table.chanceDeGagnerPlusTard(Table.java:997)\n    at Table.caractereDevin(Table.java:806)\n    at Table.faireLesMises(Table.java:688)\n    at Main.main(Main.java:53)\n</code></pre>\n<p>(the index and size are not always 0)\nthe line 596 is:</p>\n<pre><code>for (Score score : scoresEnCourse){\n</code></pre>\n<p>and the line 582 is:</p>\n<pre><code>for (int i=0;i&lt;scoresEnCourse.get(0).integers.size();i++){\n</code></pre>\n<p>If needed I can show other parts of my code.</p>\n<p>Thank you for reading my problem and sorry for my English.</p>\n"},{"tags":["java","http","jakarta-ee","servlets","status"],"comments":[{"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"score":0,"creation_date":1247093396,"post_id":1100869,"comment_id":915728,"body_markdown":"Is there something wrong with the default reason phrase that your servlet container returns when you use sendError?","body":"Is there something wrong with the default reason phrase that your servlet container returns when you use sendError?"},{"owner":{"account_id":12846,"reputation":15674,"user_id":25498,"accept_rate":64,"display_name":"Adam Crume"},"score":2,"creation_date":1247095698,"post_id":1100869,"comment_id":915864,"body_markdown":"There&#39;s nothing particularly wrong with it, just that I want to send a more specific message.","body":"There&#39;s nothing particularly wrong with it, just that I want to send a more specific message."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1659470862,"post_id":1100869,"comment_id":129301646,"body_markdown":"@lax One issue with using `sendError` is noted in the documentation: *&quot;The server ... may clear or update any headers needed to serve the error page as a valid response. If an error-page declaration has been made for the web application corresponding to the status code passed in, it will be served back the error page\nIf the response has already been committed, this method throws an IllegalStateException.&quot;* I want to send back `226 IM Used`, or any other status code and description i choose, and **not** send an error.","body":"@lax One issue with using <code>sendError</code> is noted in the documentation: <i>&quot;The server ... may clear or update any headers needed to serve the error page as a valid response. If an error-page declaration has been made for the web application corresponding to the status code passed in, it will be served back the error page If the response has already been committed, this method throws an IllegalStateException.&quot;</i> I want to send back <code>226 IM Used</code>, or any other status code and description i choose, and <b>not</b> send an error."}],"answers":[{"tags":[],"owner":{"account_id":45842,"reputation":13608,"user_id":135294,"display_name":"cjstehno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247092646,"creation_date":1247092646,"answer_id":1100916,"question_id":1100869,"body_markdown":"It&#39;s not really clear what you are trying to accomplish. My first thought was the sendError but you say that does not do what you want... have you looked at creating a set of &quot;error responses&quot;, meaning specific xml or JSON content (or whatever you are using as a transfer language) that contains the error message or code and any other useful information?\r\n\r\nI did something like that for Spring-mvc based RESTful services a while back and it worked well but you have to pretty much catch and handle every exception to keep the client from getting a generic 500 message or something. The Spring Exception Resolvers worked well for that.\r\n\r\nHope this helps... if not, maybe a little more clarity on what you are trying to accomplish. Sorry if I am being dense and missing something obvious.","title":"How to properly send an HTTP message to the client","body":"<p>It's not really clear what you are trying to accomplish. My first thought was the sendError but you say that does not do what you want... have you looked at creating a set of \"error responses\", meaning specific xml or JSON content (or whatever you are using as a transfer language) that contains the error message or code and any other useful information?</p>\n\n<p>I did something like that for Spring-mvc based RESTful services a while back and it worked well but you have to pretty much catch and handle every exception to keep the client from getting a generic 500 message or something. The Spring Exception Resolvers worked well for that.</p>\n\n<p>Hope this helps... if not, maybe a little more clarity on what you are trying to accomplish. Sorry if I am being dense and missing something obvious.</p>\n"},{"tags":[],"owner":{"account_id":42419,"reputation":1400,"user_id":123584,"display_name":"cafebabe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1247093126,"creation_date":1247093126,"answer_id":1100936,"question_id":1100869,"body_markdown":"I&#39;m not quite familiar with the &#39;best practices&#39; around REST. But I know the concept is based on HTTP and how it is supposed to work out naturally. So how about using a mime type and simple text inside the body for an application error, like &#39;application/myapp-exception&#39; and some &#39;Bla bla&#39;? You can provide a client library for that.\r\n\r\nI would not use HTTP response codes for application errors. Because I like to know what&#39;s failing: whether it is my application or my HTTP server.\r\n\r\n(I hope, I&#39;ll see some best practice advices here, too.)","title":"How to properly send an HTTP message to the client","body":"<p>I'm not quite familiar with the 'best practices' around REST. But I know the concept is based on HTTP and how it is supposed to work out naturally. So how about using a mime type and simple text inside the body for an application error, like 'application/myapp-exception' and some 'Bla bla'? You can provide a client library for that.</p>\n\n<p>I would not use HTTP response codes for application errors. Because I like to know what's failing: whether it is my application or my HTTP server.</p>\n\n<p>(I hope, I'll see some best practice advices here, too.)</p>\n"},{"tags":[],"owner":{"account_id":30810,"reputation":23008,"user_id":84237,"accept_rate":100,"display_name":"Arjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1256245139,"creation_date":1247094513,"answer_id":1101023,"question_id":1100869,"body_markdown":"I think the `sendError` should do it, but your application server may be failing... IBM WebSphere 3.5 failed on me a long time ago while Tomcat would propagate the message just fine; see [JavaServer Pages (JSP) and JSTL - Error page: preserve header &quot;HTTP/1.x 400 My message&quot;?][1] on the Sun forums.\r\n\r\nEventually I used the following workaround, but this is kind of JSP specific, and may in fact be old:\r\n\r\n    &lt;%@ page isErrorPage=&quot;true&quot; %&gt;\r\n    &lt;%\r\n        // This attribute is NOT set when calling HttpResponse#setStatus and then\r\n        // explicitely incuding this error page using RequestDispatcher#include()\r\n        // So: only set by HttpResponse#sendError()\r\n        Integer origStatus = \r\n            (Integer)request.getAttribute(&quot;javax.servlet.error.status_code&quot;);\r\n        if(origStatus != null) {\r\n            String origMessage = \r\n                (String)request.getAttribute(&quot;javax.servlet.error.message&quot;);\r\n            if(origMessage != null) {\r\n                response.reset();\r\n                response.setContentType(&quot;text/html&quot;);\r\n                // deprecated, but works:\r\n                response.setStatus(origStatus.intValue(), origMessage); \r\n                // would yield recursive error:\r\n                // response.sendError(origStatus, origMessage); \r\n            }\r\n        }\r\n    %&gt;\r\n\r\nAnd if you happen to test with Internet Explorer: disable &quot;Show friendly HTTP error messages&quot;. (When not disabling that, IE has some odd requirement of some minimum length of the HTML content which, if not met, would —or will— make IE show its own error message instead. See also the registry key `HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Internet Explorer\\Main\\ErrorThresholds` at Microsoft&#39;s [Description of Hypertext Transport Protocol Error Messages][2].)\r\n\r\n\r\n  [1]: http://forums.sun.com/thread.jspa?threadID=488673\r\n  [2]: http://support.microsoft.com/kb/218155","title":"How to properly send an HTTP message to the client","body":"<p>I think the <code>sendError</code> should do it, but your application server may be failing... IBM WebSphere 3.5 failed on me a long time ago while Tomcat would propagate the message just fine; see <a href=\"http://forums.sun.com/thread.jspa?threadID=488673\" rel=\"nofollow noreferrer\">JavaServer Pages (JSP) and JSTL - Error page: preserve header \"HTTP/1.x 400 My message\"?</a> on the Sun forums.</p>\n\n<p>Eventually I used the following workaround, but this is kind of JSP specific, and may in fact be old:</p>\n\n<pre><code>&lt;%@ page isErrorPage=\"true\" %&gt;\n&lt;%\n    // This attribute is NOT set when calling HttpResponse#setStatus and then\n    // explicitely incuding this error page using RequestDispatcher#include()\n    // So: only set by HttpResponse#sendError()\n    Integer origStatus = \n        (Integer)request.getAttribute(\"javax.servlet.error.status_code\");\n    if(origStatus != null) {\n        String origMessage = \n            (String)request.getAttribute(\"javax.servlet.error.message\");\n        if(origMessage != null) {\n            response.reset();\n            response.setContentType(\"text/html\");\n            // deprecated, but works:\n            response.setStatus(origStatus.intValue(), origMessage); \n            // would yield recursive error:\n            // response.sendError(origStatus, origMessage); \n        }\n    }\n%&gt;\n</code></pre>\n\n<p>And if you happen to test with Internet Explorer: disable \"Show friendly HTTP error messages\". (When not disabling that, IE has some odd requirement of some minimum length of the HTML content which, if not met, would —or will— make IE show its own error message instead. See also the registry key <code>HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Internet Explorer\\Main\\ErrorThresholds</code> at Microsoft's <a href=\"http://support.microsoft.com/kb/218155\" rel=\"nofollow noreferrer\">Description of Hypertext Transport Protocol Error Messages</a>.)</p>\n"},{"tags":[],"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1247094774,"creation_date":1247094774,"answer_id":1101041,"question_id":1100869,"body_markdown":"After your clarification, I tried this in Tomcat. Executing\r\n\r\n    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;message goes here&quot;);\r\n\r\nreturns \r\n\r\n    HTTP/1.1 400 message goes here\r\n\r\nas the first line in the response.\r\n\r\nThere must be a problem with the servlet container you are using.","title":"How to properly send an HTTP message to the client","body":"<p>After your clarification, I tried this in Tomcat. Executing</p>\n\n<pre><code>response.sendError(HttpServletResponse.SC_BAD_REQUEST, \"message goes here\");\n</code></pre>\n\n<p>returns </p>\n\n<pre><code>HTTP/1.1 400 message goes here\n</code></pre>\n\n<p>as the first line in the response.</p>\n\n<p>There must be a problem with the servlet container you are using.</p>\n"},{"tags":[],"owner":{"account_id":2961,"reputation":70821,"user_id":4203,"accept_rate":90,"display_name":"Hank Gay"},"down_vote_count":2,"up_vote_count":27,"is_accepted":true,"score":25,"last_activity_date":1247096304,"creation_date":1247096304,"answer_id":1101115,"question_id":1100869,"body_markdown":"I don&#39;t think any RESTful client would expect to look at the reason phrase to figure out what went wrong; most RESTful services I&#39;ve seen/used will send the standard status info and an expanded message in the body of the response. `sendError(int, String)` is ideal for that situation.","title":"How to properly send an HTTP message to the client","body":"<p>I don't think any RESTful client would expect to look at the reason phrase to figure out what went wrong; most RESTful services I've seen/used will send the standard status info and an expanded message in the body of the response. <code>sendError(int, String)</code> is ideal for that situation.</p>\n"},{"tags":[],"owner":{"account_id":1895,"reputation":121040,"user_id":2611,"display_name":"ars"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1510042808,"creation_date":1247101085,"answer_id":1101308,"question_id":1100869,"body_markdown":"If you&#39;re using Tomcat, see the setting org.apache.coyote.USE_CUSTOM_STATUS_MSG_IN_HEADER:\r\n\r\nhttp://tomcat.apache.org/tomcat-5.5-doc/config/systemprops.html\r\n\r\n* If this is true custom HTTP status messages will be used within HTTP headers. Users must ensure that any such message is ISO-8859-1 encoded, particularly if user provided input is included in the message, to prevent a possible XSS vulnerability. If not specified the default value of false will be used.\r\n\r\nSee this page for some detail on the original vulnerability:\r\n\r\nhttp://www.securityfocus.com/archive/1/archive/1/495021/100/0/threaded\r\n","title":"How to properly send an HTTP message to the client","body":"<p>If you're using Tomcat, see the setting org.apache.coyote.USE_CUSTOM_STATUS_MSG_IN_HEADER:</p>\n\n<p><a href=\"http://tomcat.apache.org/tomcat-5.5-doc/config/systemprops.html\" rel=\"nofollow noreferrer\">http://tomcat.apache.org/tomcat-5.5-doc/config/systemprops.html</a></p>\n\n<ul>\n<li>If this is true custom HTTP status messages will be used within HTTP headers. Users must ensure that any such message is ISO-8859-1 encoded, particularly if user provided input is included in the message, to prevent a possible XSS vulnerability. If not specified the default value of false will be used.</li>\n</ul>\n\n<p>See this page for some detail on the original vulnerability:</p>\n\n<p><a href=\"http://www.securityfocus.com/archive/1/archive/1/495021/100/0/threaded\" rel=\"nofollow noreferrer\">http://www.securityfocus.com/archive/1/archive/1/495021/100/0/threaded</a></p>\n"},{"tags":[],"owner":{"account_id":93455,"reputation":5838,"user_id":255667,"accept_rate":76,"display_name":"Illarion Kovalchuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1272425753,"creation_date":1272368775,"answer_id":2720812,"question_id":1100869,"body_markdown":"In Spring powered web application, running on Tomcat I use following bean:\r\n\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.Map.Entry;\r\n    \r\n    import org.springframework.beans.factory.InitializingBean;\r\n    \r\n    public class SystemPropertiesInitializingBean implements InitializingBean {\r\n    \r\n        private Map&lt;String, String&gt; systemProperties;\r\n    \r\n        @Override\r\n        public void afterPropertiesSet() throws Exception {\r\n            if (null == systemProperties || systemProperties.isEmpty()) {\r\n                return;\r\n            }\r\n    \r\n            final Set&lt;Entry&lt;String, String&gt;&gt; entrySet = systemProperties.entrySet();\r\n            for (final Entry&lt;String, String&gt; entry : entrySet) {\r\n    \r\n                final String key = entry.getKey();\r\n                final String value = entry.getValue();\r\n    \r\n                System.setProperty(key, value);\r\n            }\r\n    \r\n        }\r\n    \r\n        public void setSystemProperties(final Map&lt;String, String&gt; systemProperties) {\r\n            this.systemProperties = systemProperties;\r\n        }\r\n    \r\n    }\r\n\r\nAnd in applicationContext.xml:\r\n\r\n    &lt;bean class=&quot;....SystemPropertiesInitializingBean&quot;&gt;\r\n        &lt;property name=&quot;systemProperties&quot;&gt;\r\n            &lt;map&gt;\r\n                &lt;entry key=&quot;org.apache.coyote.USE_CUSTOM_STATUS_MSG_IN_HEADER&quot; value=&quot;true&quot;/&gt;\r\n            &lt;/map&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n","title":"How to properly send an HTTP message to the client","body":"<p>In Spring powered web application, running on Tomcat I use following bean:</p>\n\n<pre><code>import java.util.Map;\nimport java.util.Set;\nimport java.util.Map.Entry;\n\nimport org.springframework.beans.factory.InitializingBean;\n\npublic class SystemPropertiesInitializingBean implements InitializingBean {\n\n    private Map&lt;String, String&gt; systemProperties;\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        if (null == systemProperties || systemProperties.isEmpty()) {\n            return;\n        }\n\n        final Set&lt;Entry&lt;String, String&gt;&gt; entrySet = systemProperties.entrySet();\n        for (final Entry&lt;String, String&gt; entry : entrySet) {\n\n            final String key = entry.getKey();\n            final String value = entry.getValue();\n\n            System.setProperty(key, value);\n        }\n\n    }\n\n    public void setSystemProperties(final Map&lt;String, String&gt; systemProperties) {\n        this.systemProperties = systemProperties;\n    }\n\n}\n</code></pre>\n\n<p>And in applicationContext.xml:</p>\n\n<pre><code>&lt;bean class=\"....SystemPropertiesInitializingBean\"&gt;\n    &lt;property name=\"systemProperties\"&gt;\n        &lt;map&gt;\n            &lt;entry key=\"org.apache.coyote.USE_CUSTOM_STATUS_MSG_IN_HEADER\" value=\"true\"/&gt;\n        &lt;/map&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":12846,"reputation":15674,"user_id":25498,"accept_rate":64,"display_name":"Adam Crume"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91751,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":1101115,"answer_count":7,"score":50,"last_activity_date":1659471549,"creation_date":1247092019,"question_id":1100869,"body_markdown":"I&#39;m working on a RESTful web service in Java.  I need a good way to send error messages to the client if something&#39;s wrong.\r\n\r\nAccording to the &lt;a href=&quot;http://java.sun.com/j2ee/1.4/docs/api/javax/servlet/http/HttpServletResponse.html#setStatus(int,%20java.lang.String)&quot;&gt;Javadoc&lt;/a&gt;, `HttpServletResponse.setStatus(int status, String message)` is deprecated *&quot;due to ambiguous meaning of the message parameter.&quot;*\r\n\r\nIs there a preferred way to set the status message or &quot;&lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc2616#section-6.1.1&quot;&gt;reason phrase&lt;/a&gt;&quot; of the response?  The `sendError(int, String)` method doesn&#39;t do it.\r\n\r\n**Edit**: To clarify, I want to modify the HTTP status line, i.e. `&quot;HTTP/1.1 404 Not Found&quot;`, not the body content.  Specifically, I&#39;d like to send responses like `&quot;HTTP/1.1 400 Missing customerNumber parameter&quot;`.\r\n\r\nOr I want to modify the HTTP status line to say something like [`227 IM Used`][1] - in other words: an *HTTP Status Description* different from what the web-server would know to send.\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc3229","title":"How to properly send an HTTP message to the client","body":"<p>I'm working on a RESTful web service in Java.  I need a good way to send error messages to the client if something's wrong.</p>\n<p>According to the <a href=\"http://java.sun.com/j2ee/1.4/docs/api/javax/servlet/http/HttpServletResponse.html#setStatus(int,%20java.lang.String)\" rel=\"nofollow noreferrer\">Javadoc</a>, <code>HttpServletResponse.setStatus(int status, String message)</code> is deprecated <em>&quot;due to ambiguous meaning of the message parameter.&quot;</em></p>\n<p>Is there a preferred way to set the status message or &quot;<a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-6.1.1\" rel=\"nofollow noreferrer\">reason phrase</a>&quot; of the response?  The <code>sendError(int, String)</code> method doesn't do it.</p>\n<p><strong>Edit</strong>: To clarify, I want to modify the HTTP status line, i.e. <code>&quot;HTTP/1.1 404 Not Found&quot;</code>, not the body content.  Specifically, I'd like to send responses like <code>&quot;HTTP/1.1 400 Missing customerNumber parameter&quot;</code>.</p>\n<p>Or I want to modify the HTTP status line to say something like <a href=\"https://datatracker.ietf.org/doc/html/rfc3229\" rel=\"nofollow noreferrer\"><code>227 IM Used</code></a> - in other words: an <em>HTTP Status Description</em> different from what the web-server would know to send.</p>\n"},{"tags":["java","spring-boot","maven","swagger","swagger-2.0"],"owner":{"account_id":18925766,"reputation":5,"user_id":13808940,"display_name":"codeNEWBYE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":919,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659471318,"creation_date":1659471301,"question_id":73213292,"body_markdown":"I am trying to generate my server code through maven codegen plugin,I don&#39;t really know what&#39;s the issue, could it be the swagger version? It doen&#39;t specify what error there is, only that those libraries are missing even if I try to add them manually and it continues to fail\r\n\r\n       [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/auth/HttpBasicAuth.java:[18,27] package com.squareup.okhttp does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[25,31] package com.google.gson.reflect does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ApiClient.java:[17,41] package com.squareup.okhttp.internal.http does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ApiClient.java:[18,35] package com.squareup.okhttp.logging does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ApiClient.java:[19,58] package com.squareup.okhttp.logging.HttpLoggingInterceptor does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ProgressResponseBody.java:[16,27] package com.squareup.okhttp does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ProgressResponseBody.java:[17,27] package com.squareup.okhttp does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ProgressResponseBody.java:[27,43] cannot find symbol\r\n        [ERROR]   symbol: class ResponseBody\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ProgressRequestBody.java:[16,27] package com.squareup.okhttp does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ProgressRequestBody.java:[17,27] package com.squareup.okhttp does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ProgressRequestBody.java:[27,42] cannot find symbol\r\n        [ERROR]   symbol: class RequestBody\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[65,31] package com.squareup.okhttp does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[108,32] package com.squareup.okhttp does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[151,31] package com.squareup.okhttp does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[183,31] package com.squareup.okhttp does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[225,32] package com.squareup.okhttp does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[263,31] package com.squareup.okhttp does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[297,31] package com.squareup.okhttp does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[340,32] package com.squareup.okhttp does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[386,31] package com.squareup.okhttp does not exist\r\n        [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[420,31] package com.squareup.okhttp does not exist\r\n\r\nHere my pom.xml , it&#39;s literally copy  https://github.com/parimal-andhalkar/swagger-codegen-springboot/blob/main/pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;sample-project&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;sample-project&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;!-- activate the plugin --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;inputSpec&gt;src/main/resources/swagger.yaml&lt;/inputSpec&gt;\r\n    \t\t\t\t\t\t\t&lt;output&gt;${project.build.directory}/generated-sources/petstore&lt;/output&gt;\r\n    \t\t\t\t\t\t\t&lt;apiPackage&gt;com.pet.handler&lt;/apiPackage&gt;\r\n    \t\t\t\t\t\t\t&lt;modelPackage&gt;com.pet.model&lt;/modelPackage&gt;\r\n    \t\t\t\t\t\t\t&lt;language&gt;java&lt;/language&gt;\r\n    \t\t\t\t\t\t\t&lt;configOptions&gt;\r\n    \t\t\t\t\t\t\t\t&lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n    \t\t\t\t\t\t\t\t&lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\r\n    \t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- dependencies are needed for the client being generated --&gt;\r\n    \t&lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\r\n        &lt;version&gt;3.12.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${swagger-annotations-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- HTTP client: jersey-client --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- JSON processing: jackson --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-jaxrs-base&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Joda time: if you use it --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-datatype-joda&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jodatime-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.0-M5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Base64 encoding that works in both JVM and Android --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.brsanthu&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;migbase64&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;swagger-annotations-version&gt;1.5.21&lt;/swagger-annotations-version&gt;\r\n    \t\t&lt;jersey-version&gt;2.29.1&lt;/jersey-version&gt;\r\n    \t\t&lt;jackson-version&gt;2.11.4&lt;/jackson-version&gt;\r\n    \t\t&lt;jodatime-version&gt;2.7&lt;/jodatime-version&gt;\r\n    \t\t&lt;maven-plugin-version&gt;1.0.0&lt;/maven-plugin-version&gt;\r\n    \t\t&lt;junit-version&gt;4.13.1&lt;/junit-version&gt;\r\n    \r\n    \t\t&lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    &lt;/project&gt;","title":"Problem with swagger generator (Maven codegen plugin)","body":"<p>I am trying to generate my server code through maven codegen plugin,I don't really know what's the issue, could it be the swagger version? It doen't specify what error there is, only that those libraries are missing even if I try to add them manually and it continues to fail</p>\n<pre><code>   [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/auth/HttpBasicAuth.java:[18,27] package com.squareup.okhttp does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[25,31] package com.google.gson.reflect does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ApiClient.java:[17,41] package com.squareup.okhttp.internal.http does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ApiClient.java:[18,35] package com.squareup.okhttp.logging does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ApiClient.java:[19,58] package com.squareup.okhttp.logging.HttpLoggingInterceptor does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ProgressResponseBody.java:[16,27] package com.squareup.okhttp does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ProgressResponseBody.java:[17,27] package com.squareup.okhttp does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ProgressResponseBody.java:[27,43] cannot find symbol\n    [ERROR]   symbol: class ResponseBody\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ProgressRequestBody.java:[16,27] package com.squareup.okhttp does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ProgressRequestBody.java:[17,27] package com.squareup.okhttp does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/ProgressRequestBody.java:[27,42] cannot find symbol\n    [ERROR]   symbol: class RequestBody\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[65,31] package com.squareup.okhttp does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[108,32] package com.squareup.okhttp does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[151,31] package com.squareup.okhttp does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[183,31] package com.squareup.okhttp does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[225,32] package com.squareup.okhttp does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[263,31] package com.squareup.okhttp does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[297,31] package com.squareup.okhttp does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[340,32] package com.squareup.okhttp does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[386,31] package com.squareup.okhttp does not exist\n    [ERROR] /D:/eclipse workspace/SwaggerSpringDemo-master/target/generated-sources/petstore/src/main/java/com/pet/handler/StoreApi.java:[420,31] package com.squareup.okhttp does not exist\n</code></pre>\n<p>Here my pom.xml , it's literally copy  <a href=\"https://github.com/parimal-andhalkar/swagger-codegen-springboot/blob/main/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/parimal-andhalkar/swagger-codegen-springboot/blob/main/pom.xml</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n    &lt;artifactId&gt;sample-project&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;sample-project&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- activate the plugin --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;src/main/resources/swagger.yaml&lt;/inputSpec&gt;\n                            &lt;output&gt;${project.build.directory}/generated-sources/petstore&lt;/output&gt;\n                            &lt;apiPackage&gt;com.pet.handler&lt;/apiPackage&gt;\n                            &lt;modelPackage&gt;com.pet.model&lt;/modelPackage&gt;\n                            &lt;language&gt;java&lt;/language&gt;\n                            &lt;configOptions&gt;\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                                &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;!-- dependencies are needed for the client being generated --&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n    &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\n    &lt;version&gt;3.12.1&lt;/version&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${swagger-annotations-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- HTTP client: jersey-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;${jersey-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${jersey-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\n            &lt;version&gt;${jersey-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JSON processing: jackson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-jaxrs-base&lt;/artifactId&gt;\n            &lt;version&gt;${jackson-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jackson-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n            &lt;version&gt;${jackson-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Joda time: if you use it --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-joda&lt;/artifactId&gt;\n            &lt;version&gt;${jackson-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;${jodatime-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0-M5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Base64 encoding that works in both JVM and Android --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.brsanthu&lt;/groupId&gt;\n            &lt;artifactId&gt;migbase64&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        \n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;swagger-annotations-version&gt;1.5.21&lt;/swagger-annotations-version&gt;\n        &lt;jersey-version&gt;2.29.1&lt;/jersey-version&gt;\n        &lt;jackson-version&gt;2.11.4&lt;/jackson-version&gt;\n        &lt;jodatime-version&gt;2.7&lt;/jodatime-version&gt;\n        &lt;maven-plugin-version&gt;1.0.0&lt;/maven-plugin-version&gt;\n        &lt;junit-version&gt;4.13.1&lt;/junit-version&gt;\n\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","outputstream","gzipoutputstream"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1659484538,"post_id":73213240,"comment_id":129304690,"body_markdown":"Are you ever closing the stream?","body":"Are you ever closing the stream?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1659484839,"post_id":73213240,"comment_id":129304740,"body_markdown":"Yup.  Flushing is not sufficient.  The final block will only be written when the cipher stream is closed.","body":"Yup.  Flushing is not sufficient.  The final block will only be written when the cipher stream is closed."},{"owner":{"account_id":23693064,"reputation":93,"user_id":17717171,"display_name":"noG23"},"score":0,"creation_date":1659486137,"post_id":73213240,"comment_id":129304918,"body_markdown":"@user207421 Not encryptedOutputStream, no. With that stream, all I do is convert it to a byte array, write the byte array to outputStream, and then reset blockCipherTextOutputStream. When should I be closing encryptedOutputStream?","body":"@user207421 Not encryptedOutputStream, no. With that stream, all I do is convert it to a byte array, write the byte array to outputStream, and then reset blockCipherTextOutputStream. When should I be closing encryptedOutputStream?"},{"owner":{"account_id":23693064,"reputation":93,"user_id":17717171,"display_name":"noG23"},"score":0,"creation_date":1659486259,"post_id":73213240,"comment_id":129304937,"body_markdown":"@StephenC Should I close encryptedOutputStream before converting it to a byte array then? Sorry, I&#39;m still not sure I understand.","body":"@StephenC Should I close encryptedOutputStream before converting it to a byte array then? Sorry, I&#39;m still not sure I understand."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1659486740,"post_id":73213240,"comment_id":129304994,"body_markdown":"Yes.  You should.  Otherwise the byte array won&#39;t contain the complete content.  The close of the cipher streams causes the final block to padded so that it can be encrypted and written.   The [javadoc](https://docs.oracle.com/javase/7/docs/api/javax/crypto/CipherOutputStream.html#close()) says what happens.  (The `doFinal` call ...)","body":"Yes.  You should.  Otherwise the byte array won&#39;t contain the complete content.  The close of the cipher streams causes the final block to padded so that it can be encrypted and written.   The <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/crypto/CipherOutputStream.html#close()\" rel=\"nofollow noreferrer\">javadoc</a> says what happens.  (The <code>doFinal</code> call ...)"},{"owner":{"account_id":23693064,"reputation":93,"user_id":17717171,"display_name":"noG23"},"score":0,"creation_date":1659488629,"post_id":73213240,"comment_id":129305234,"body_markdown":"@StephenC Closing encryptedOutputStream before converting blockCipherTextOutputStream seems to have worked, as there are more than 10 bytes visible in the hex editor now. Thanks for the help, would you mind making an answer?","body":"@StephenC Closing encryptedOutputStream before converting blockCipherTextOutputStream seems to have worked, as there are more than 10 bytes visible in the hex editor now. Thanks for the help, would you mind making an answer?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1659489076,"post_id":73213240,"comment_id":129305295,"body_markdown":"I did better.  Closed it as a dup of an earlier question.","body":"I did better.  Closed it as a dup of an earlier question."}],"owner":{"account_id":23693064,"reputation":93,"user_id":17717171,"display_name":"noG23"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659489026,"answer_count":0,"score":0,"last_activity_date":1659471230,"creation_date":1659471021,"question_id":73213240,"body_markdown":"I&#39;m trying to write some bytes to a Gzip-compressed and ChaCha20-encrypted output stream to recreate an HmacBlock of a KDBX4 file. Below is how I declare and initialize the streams:\r\n\r\n```\r\n//needed for determining # of bytes written and resetting to 0 bytes when a certain amount are written\r\nprivate ByteArrayOutputStream blockCipherTextOutputStream = new ByteArrayOutputStream();\r\n\r\n//wraps blockCipherTextOutputStream\r\n//bytes written here are ChaCha20 encrypted\r\nprivate OutputStream encryptedOutputStream;\r\n\r\n//wraps encryptedOutputStream\r\n//bytes written here are in little-endian order\r\nprivate LittleEndianDataOutputStream ledos; \r\n\r\n//creating a CipherOutputStream initialized with ChaCha20 encryption\r\n//sets blockCipherTextOutputStream as the underlying OutputStream to be written to\r\nencryptedOutputStream = kdbxHeader.createEncryptedStream(credentials.getKey(), blockCipherTextOutputStream);\r\n\r\n//the OutputStream that writes directly to the file\r\n//bytes eventually get written here in other methods\r\nprivate OutputStream outputStream;\r\n    \t\r\nif(kdbxHeader.getCompressionFlags().equals(KdbxHeader.CompressionFlags.GZIP)) {\r\n    /*\r\n     * this seems to be adding 10 bytes to the stream to start\r\n     * writing to the stream seemingly does nothing afterwards\r\n     */\r\n     encryptedOutputStream = new GZIPOutputStream(encryptedOutputStream);            \r\n}\r\n            \t\r\nledos = new LittleEndianDataOutputStream(encryptedOutputStream);\r\n```\r\nWhen creating the encrypted output stream, a method is called in the KdbxHeader class which in turn calls to a method in another class called ChaCha. Below is the method in ChaCha which actually creates (and returns) an encrypted output stream:\r\n```\r\n@Override\r\n    public OutputStream getEncryptedOutputStream(OutputStream decryptedOutputStream, byte[] key, byte[] iv) {\r\n        final ParametersWithIV keyAndIV = new ParametersWithIV(new KeyParameter(key), iv);\r\n        StreamCipher cipher = new ChaCha7539Engine();\r\n        cipher.init(true, keyAndIV);\r\n        return new CipherOutputStream(decryptedOutputStream, cipher);\r\n    }\r\n```\r\n\r\nHopefully that&#39;s enough code to go on, I can add more if necessary but this is part of a larger API so there is a lot going on. ```encryptedOutputStream``` only starts (and doesn&#39;t expand from) 10 bytes when I try to compress it; otherwise, it starts empty (as it should) and I can write to it.\r\n\r\nEven after initializing ```blockCipherTextOutputStream``` with a buffer size of 80000, the write attempts still don&#39;t seem to do anything as only the 10 bytes in ```encryptedOutputStream``` to start are visible in a hex editor. Why is this happening and what am I doing wrong here?","title":"Why is my GzipOutputStream starting with 10 bytes and never changing?","body":"<p>I'm trying to write some bytes to a Gzip-compressed and ChaCha20-encrypted output stream to recreate an HmacBlock of a KDBX4 file. Below is how I declare and initialize the streams:</p>\n<pre><code>//needed for determining # of bytes written and resetting to 0 bytes when a certain amount are written\nprivate ByteArrayOutputStream blockCipherTextOutputStream = new ByteArrayOutputStream();\n\n//wraps blockCipherTextOutputStream\n//bytes written here are ChaCha20 encrypted\nprivate OutputStream encryptedOutputStream;\n\n//wraps encryptedOutputStream\n//bytes written here are in little-endian order\nprivate LittleEndianDataOutputStream ledos; \n\n//creating a CipherOutputStream initialized with ChaCha20 encryption\n//sets blockCipherTextOutputStream as the underlying OutputStream to be written to\nencryptedOutputStream = kdbxHeader.createEncryptedStream(credentials.getKey(), blockCipherTextOutputStream);\n\n//the OutputStream that writes directly to the file\n//bytes eventually get written here in other methods\nprivate OutputStream outputStream;\n        \nif(kdbxHeader.getCompressionFlags().equals(KdbxHeader.CompressionFlags.GZIP)) {\n    /*\n     * this seems to be adding 10 bytes to the stream to start\n     * writing to the stream seemingly does nothing afterwards\n     */\n     encryptedOutputStream = new GZIPOutputStream(encryptedOutputStream);            \n}\n                \nledos = new LittleEndianDataOutputStream(encryptedOutputStream);\n</code></pre>\n<p>When creating the encrypted output stream, a method is called in the KdbxHeader class which in turn calls to a method in another class called ChaCha. Below is the method in ChaCha which actually creates (and returns) an encrypted output stream:</p>\n<pre><code>@Override\n    public OutputStream getEncryptedOutputStream(OutputStream decryptedOutputStream, byte[] key, byte[] iv) {\n        final ParametersWithIV keyAndIV = new ParametersWithIV(new KeyParameter(key), iv);\n        StreamCipher cipher = new ChaCha7539Engine();\n        cipher.init(true, keyAndIV);\n        return new CipherOutputStream(decryptedOutputStream, cipher);\n    }\n</code></pre>\n<p>Hopefully that's enough code to go on, I can add more if necessary but this is part of a larger API so there is a lot going on. <code>encryptedOutputStream</code> only starts (and doesn't expand from) 10 bytes when I try to compress it; otherwise, it starts empty (as it should) and I can write to it.</p>\n<p>Even after initializing <code>blockCipherTextOutputStream</code> with a buffer size of 80000, the write attempts still don't seem to do anything as only the 10 bytes in <code>encryptedOutputStream</code> to start are visible in a hex editor. Why is this happening and what am I doing wrong here?</p>\n"},{"tags":["java","google-calendar-api","channel"],"answers":[{"tags":[],"owner":{"account_id":10562630,"reputation":981,"user_id":7781935,"display_name":"Tyler Dane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659471028,"creation_date":1659471028,"answer_id":73213243,"question_id":23074373,"body_markdown":"Sadly, the docs are still ambiguous on this point. The [current doc](https://developers.google.com/calendar/api/guides/push#renewing-notification-channels) says:\r\n\r\n&gt; A notification channel can have an expiration time, with a value determined either by your request or by any Google Calendar API internal limits or defaults (the more restrictive value is used)\r\n\r\nIt seems that what actually is happening is that every notification channel has an expiration time, so creating one that doesn&#39;t isn&#39;t supported by the API. \r\n\r\nIn other words, you&#39;d have to implement that yourself by refreshing the channel before it expires","title":"non-expiring google calendar api channel java","body":"<p>Sadly, the docs are still ambiguous on this point. The <a href=\"https://developers.google.com/calendar/api/guides/push#renewing-notification-channels\" rel=\"nofollow noreferrer\">current doc</a> says:</p>\n<blockquote>\n<p>A notification channel can have an expiration time, with a value determined either by your request or by any Google Calendar API internal limits or defaults (the more restrictive value is used)</p>\n</blockquote>\n<p>It seems that what actually is happening is that every notification channel has an expiration time, so creating one that doesn't isn't supported by the API.</p>\n<p>In other words, you'd have to implement that yourself by refreshing the channel before it expires</p>\n"}],"owner":{"account_id":996486,"reputation":343,"user_id":1012283,"accept_rate":53,"display_name":"user1012283"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1659471028,"creation_date":1397534144,"question_id":23074373,"body_markdown":"How to make google calendar Channel doesn&#39;t expire? In the documentation it&#39;s said &quot;If a channel has an expiration time&quot;, then it&#39;s mean it can have no expiration time. But every time I made a channel it always gave me expiration time of one week by default.\r\n\r\nThanks.","title":"non-expiring google calendar api channel java","body":"<p>How to make google calendar Channel doesn't expire? In the documentation it's said \"If a channel has an expiration time\", then it's mean it can have no expiration time. But every time I made a channel it always gave me expiration time of one week by default.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","junit","private","public"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1659468038,"post_id":73212637,"comment_id":129300736,"body_markdown":"You might want to check other questions like https://stackoverflow.com/questions/105007/should-i-test-private-methods-or-only-public-ones","body":"You might want to check other questions like <a href=\"https://stackoverflow.com/questions/105007/should-i-test-private-methods-or-only-public-ones\" title=\"should i test private methods or only public ones\">stackoverflow.com/questions/105007/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25863692,"reputation":138,"user_id":19595755,"display_name":"pholak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659470888,"creation_date":1659470583,"answer_id":73213162,"question_id":73212637,"body_markdown":"Default scope in Java is a package-private scope which means that all classes from the same package can use this method. If you restrict it to private, only methods from the same class can do it. This is what we gain. It is your decision, do you need to expose this method to other classes or it is enough to just keep it private but don&#39;t expose something only for testing purposes. ","title":"Java private vs default method protection","body":"<p>Default scope in Java is a package-private scope which means that all classes from the same package can use this method. If you restrict it to private, only methods from the same class can do it. This is what we gain. It is your decision, do you need to expose this method to other classes or it is enough to just keep it private but don't expose something only for testing purposes.</p>\n"}],"owner":{"account_id":8104368,"reputation":13,"user_id":6106429,"display_name":"Cody"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659470888,"creation_date":1659467619,"question_id":73212637,"body_markdown":"Java Question: I am working on a class (call it ProcessorA that only extends Object. It is also stateless). It will reside in a Spring Service on a Web Server. The class declares several public methods as the class&#39; API. \\\r\nI want to test this class with a simple JUnit test. I need to test some functionality that is a few method calls deep inside of 1 public method. However, between the API Method and the method to test there are several classes would be loaded at runtime by Spring in the Web Server.\r\nI can completely by-pass this by declaring the method to be tested as a &#39;default&#39; method and calling it directly from an instance (of ProcessorA) from the JUnit test. \\\r\nI have been told that this is NOT a best practice. \\\r\nHowever, I am at a loss as to **exactly** what is gained by further restricting access to the method to be tested.\r\nSo, what is it that can be gained by declaring a method as private over default (which is more restrictive than &quot;protected&quot; (which by inclusion is also verboten). \\\r\n\r\n    public class ProcessorA {\r\n        public methodA(String input) throws ValidationException {\r\n            doSomeValidationStuff(input);\r\n            doStuffToTest(input);\r\n        }\r\n        private doSomeValidationStuff(String input) throws ValidationException {\r\n            //Libraries that are not loaded at execution and not available for the JUnit test\r\n        }\r\n        doStuffToTest(String input) {\r\n            //Code to be tested}\r\n        }\r\n    }\r\n\r\n    class MyJunitTest {\r\n        @Test\r\n        void doStuffToTestTest() {\r\n            ProcessorA processorA = new ProcessorA();\r\n            String testData = &quot;test data String&quot;;\r\n            assertNotNull( processorA.doStuffToTest(testDate));\r\n        }\r\n    }\r\n\r\nThe answer that I am looking for isn&#39;t for how to get around this constraint, but what is gained by blindly following a blanket directive that has *(seemingly)* no payoff.\r\n","title":"Java private vs default method protection","body":"<p>Java Question: I am working on a class (call it ProcessorA that only extends Object. It is also stateless). It will reside in a Spring Service on a Web Server. The class declares several public methods as the class' API. <br />\nI want to test this class with a simple JUnit test. I need to test some functionality that is a few method calls deep inside of 1 public method. However, between the API Method and the method to test there are several classes would be loaded at runtime by Spring in the Web Server.\nI can completely by-pass this by declaring the method to be tested as a 'default' method and calling it directly from an instance (of ProcessorA) from the JUnit test. <br />\nI have been told that this is NOT a best practice. <br />\nHowever, I am at a loss as to <strong>exactly</strong> what is gained by further restricting access to the method to be tested.\nSo, what is it that can be gained by declaring a method as private over default (which is more restrictive than &quot;protected&quot; (which by inclusion is also verboten). \\</p>\n<pre><code>public class ProcessorA {\n    public methodA(String input) throws ValidationException {\n        doSomeValidationStuff(input);\n        doStuffToTest(input);\n    }\n    private doSomeValidationStuff(String input) throws ValidationException {\n        //Libraries that are not loaded at execution and not available for the JUnit test\n    }\n    doStuffToTest(String input) {\n        //Code to be tested}\n    }\n}\n\nclass MyJunitTest {\n    @Test\n    void doStuffToTestTest() {\n        ProcessorA processorA = new ProcessorA();\n        String testData = &quot;test data String&quot;;\n        assertNotNull( processorA.doStuffToTest(testDate));\n    }\n}\n</code></pre>\n<p>The answer that I am looking for isn't for how to get around this constraint, but what is gained by blindly following a blanket directive that has <em>(seemingly)</em> no payoff.</p>\n"},{"tags":["java","android","classnotfoundexception","unmarshalling","badparcelableexception"],"answers":[{"tags":[],"owner":{"account_id":16149276,"reputation":111,"user_id":11658121,"display_name":"Gustavo Navarro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659470167,"creation_date":1659470167,"answer_id":73213085,"question_id":62876468,"body_markdown":"I found a solution. It is needed to indicate a bootloader as constructor parameter. I did it inside the second constructor:\r\n\r\n\r\n    private static class SavedState extends BaseSavedState {\r\n            int mSelectedPosition;\r\n    \r\n            SavedState(Parcelable superState) {\r\n                super(superState);\r\n            }\r\n    \r\n            private SavedState(android.os.Parcel in) {\r\n                super(in, DefaultOptionSpinner.class.getClassLoader());\r\n                this.mSelectedPosition = in.readInt();\r\n            }\r\n    \r\n            @Override\r\n            public void writeToParcel(android.os.Parcel out, int flags) {\r\n                super.writeToParcel(out, flags);\r\n                out.writeInt(this.mSelectedPosition);\r\n            }\r\n    \r\n            public static final Parcelable.Creator&lt;SavedState&gt; CREATOR =\r\n                    new Parcelable.Creator&lt;SavedState&gt;() {\r\n                        public SavedState createFromParcel(android.os.Parcel in) {\r\n                            return new SavedState(in);\r\n                        }\r\n    \r\n                        public SavedState[] newArray(int size) {\r\n                            return new SavedState[size];\r\n                        }\r\n                    };\r\n        }","title":"android.os.BadParcelableException: ClassNotFoundException when unmarshalling","body":"<p>I found a solution. It is needed to indicate a bootloader as constructor parameter. I did it inside the second constructor:</p>\n<pre><code>private static class SavedState extends BaseSavedState {\n        int mSelectedPosition;\n\n        SavedState(Parcelable superState) {\n            super(superState);\n        }\n\n        private SavedState(android.os.Parcel in) {\n            super(in, DefaultOptionSpinner.class.getClassLoader());\n            this.mSelectedPosition = in.readInt();\n        }\n\n        @Override\n        public void writeToParcel(android.os.Parcel out, int flags) {\n            super.writeToParcel(out, flags);\n            out.writeInt(this.mSelectedPosition);\n        }\n\n        public static final Parcelable.Creator&lt;SavedState&gt; CREATOR =\n                new Parcelable.Creator&lt;SavedState&gt;() {\n                    public SavedState createFromParcel(android.os.Parcel in) {\n                        return new SavedState(in);\n                    }\n\n                    public SavedState[] newArray(int size) {\n                        return new SavedState[size];\n                    }\n                };\n    }\n</code></pre>\n"}],"owner":{"account_id":16149276,"reputation":111,"user_id":11658121,"display_name":"Gustavo Navarro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1071,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73213085,"answer_count":1,"score":2,"last_activity_date":1659470167,"creation_date":1594645467,"question_id":62876468,"body_markdown":"We are facing getting a BadParceableException and we have no idea why. Above is the stacktrace:\r\n\r\n        Fatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{br.com.my.app/br.com.my.app.commons.ui.MainActivity}: android.os.BadParcelableException: ClassNotFoundException when unmarshalling: androidx.appcompat.widget.AppCompatSpinner$SavedState\r\n           at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2789)\r\n           at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2872)\r\n           at android.app.ActivityThread.-wrap11()\r\n           at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1595)\r\n           at android.os.Handler.dispatchMessage(Handler.java:106)\r\n           at android.os.Looper.loop(Looper.java:164)\r\n           at android.app.ActivityThread.main(ActivityThread.java:6543)\r\n           at java.lang.reflect.Method.invoke(Method.java)\r\n           at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:440)\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:810)\r\n    \r\n    Caused by android.os.BadParcelableException: ClassNotFoundException when unmarshalling: androidx.appcompat.widget.AppCompatSpinner$SavedState\r\n           at android.os.Parcel.readParcelableCreator(Parcel.java:2925)\r\n           at android.os.Parcel.readParcelable(Parcel.java:2851)\r\n           at android.view.AbsSavedState.&lt;init&gt;(AbsSavedState.java:67)\r\n           at android.view.View$BaseSavedState.&lt;init&gt;(View.java:25139)\r\n           at android.view.View$BaseSavedState.&lt;init&gt;(View.java:25128)\r\n           at br.com.my.app.commons.ui.custom.DefaultOptionSpinner$SavedState.&lt;init&gt;(DefaultOptionSpinner.java:193)\r\n           at br.com.my.app.commons.ui.custom.DefaultOptionSpinner$SavedState.&lt;init&gt;(DefaultOptionSpinner.java:185)\r\n           at br.com.my.app.commons.ui.custom.DefaultOptionSpinner$SavedState$1.createFromParcel(DefaultOptionSpinner.java:206)\r\n           at br.com.my.app.commons.ui.custom.DefaultOptionSpinner$SavedState$1.createFromParcel(DefaultOptionSpinner.java:204)\r\n           at android.os.Parcel.readParcelable(Parcel.java:2860)\r\n           at android.os.Parcel.readValue(Parcel.java:2754)\r\n           at android.os.Parcel.readSparseArrayInternal(Parcel.java:3204)\r\n           at android.os.Parcel.readSparseArray(Parcel.java:2416)\r\n           at android.os.Parcel.readValue(Parcel.java:2811)\r\n           at android.os.Parcel.readArrayMapInternal(Parcel.java:3123)\r\n           at android.os.BaseBundle.initializeFromParcelLocked(BaseBundle.java:273)\r\n           at android.os.BaseBundle.unparcel(BaseBundle.java:226)\r\n           at android.os.Bundle.getSparseParcelableArray(Bundle.java:1009)\r\n           at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:772)\r\n           at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1238)\r\n           at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1303)\r\n           at androidx.fragment.app.FragmentManagerImpl.dispatchStateChange(FragmentManagerImpl.java:2659)\r\n           at androidx.fragment.app.FragmentManagerImpl.dispatchCreate(FragmentManagerImpl.java:2607)\r\n           at androidx.fragment.app.FragmentController.dispatchCreate(FragmentController.java:235)\r\n           at androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:316)\r\n           at androidx.appcompat.app.AppCompatActivity.onCreate(AppCompatActivity.java:115)\r\n           at br.com.zalf.prolog.commons.ui.MainActivity.onCreate(MainActivity.java:129)\r\n           at android.app.Activity.performCreate(Activity.java:7009)\r\n           at android.app.Activity.performCreate(Activity.java:7000)\r\n           at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\r\n           at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2742)\r\n           at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2872)\r\n           at android.app.ActivityThread.-wrap11()\r\n           at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1595)\r\n           at android.os.Handler.dispatchMessage(Handler.java:106)\r\n           at android.os.Looper.loop(Looper.java:164)\r\n           at android.app.ActivityThread.main(ActivityThread.java:6543)\r\n           at java.lang.reflect.Method.invoke(Method.java)\r\n           at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:440)\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:810)\r\n\r\nWe saw some similars errors here in stackoverflow, but no one actually worked for us.\r\n\r\nThe exception is saying that the error happens at &quot;super(in)&quot;, in this class:\r\n\r\nprivate static class SavedState extends BaseSavedState {\r\n    int mSelectedPosition;\r\n\r\n    SavedState(Parcelable superState) {\r\n        super(superState);\r\n    }\r\n\r\n    private SavedState(android.os.Parcel in) {\r\n        super(in);\r\n        this.mSelectedPosition = in.readInt();\r\n    }\r\n\r\n    @Override\r\n    public void writeToParcel(android.os.Parcel out, int flags) {\r\n        super.writeToParcel(out, flags);\r\n        out.writeInt(this.mSelectedPosition);\r\n    }\r\n\r\n    public static final Parcelable.Creator&lt;SavedState&gt; CREATOR =\r\n            new Parcelable.Creator&lt;SavedState&gt;() {\r\n                public SavedState createFromParcel(android.os.Parcel in) {\r\n                    return new SavedState(in);\r\n                }\r\n\r\n                public SavedState[] newArray(int size) {\r\n                    return new SavedState[size];\r\n                }\r\n            };\r\n}\r\n\r\nDoes anyone have any idea to help us?\r\n\r\nThanks!","title":"android.os.BadParcelableException: ClassNotFoundException when unmarshalling","body":"<p>We are facing getting a BadParceableException and we have no idea why. Above is the stacktrace:</p>\n<pre><code>    Fatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{br.com.my.app/br.com.my.app.commons.ui.MainActivity}: android.os.BadParcelableException: ClassNotFoundException when unmarshalling: androidx.appcompat.widget.AppCompatSpinner$SavedState\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2789)\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2872)\n       at android.app.ActivityThread.-wrap11()\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1595)\n       at android.os.Handler.dispatchMessage(Handler.java:106)\n       at android.os.Looper.loop(Looper.java:164)\n       at android.app.ActivityThread.main(ActivityThread.java:6543)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:440)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:810)\n\nCaused by android.os.BadParcelableException: ClassNotFoundException when unmarshalling: androidx.appcompat.widget.AppCompatSpinner$SavedState\n       at android.os.Parcel.readParcelableCreator(Parcel.java:2925)\n       at android.os.Parcel.readParcelable(Parcel.java:2851)\n       at android.view.AbsSavedState.&lt;init&gt;(AbsSavedState.java:67)\n       at android.view.View$BaseSavedState.&lt;init&gt;(View.java:25139)\n       at android.view.View$BaseSavedState.&lt;init&gt;(View.java:25128)\n       at br.com.my.app.commons.ui.custom.DefaultOptionSpinner$SavedState.&lt;init&gt;(DefaultOptionSpinner.java:193)\n       at br.com.my.app.commons.ui.custom.DefaultOptionSpinner$SavedState.&lt;init&gt;(DefaultOptionSpinner.java:185)\n       at br.com.my.app.commons.ui.custom.DefaultOptionSpinner$SavedState$1.createFromParcel(DefaultOptionSpinner.java:206)\n       at br.com.my.app.commons.ui.custom.DefaultOptionSpinner$SavedState$1.createFromParcel(DefaultOptionSpinner.java:204)\n       at android.os.Parcel.readParcelable(Parcel.java:2860)\n       at android.os.Parcel.readValue(Parcel.java:2754)\n       at android.os.Parcel.readSparseArrayInternal(Parcel.java:3204)\n       at android.os.Parcel.readSparseArray(Parcel.java:2416)\n       at android.os.Parcel.readValue(Parcel.java:2811)\n       at android.os.Parcel.readArrayMapInternal(Parcel.java:3123)\n       at android.os.BaseBundle.initializeFromParcelLocked(BaseBundle.java:273)\n       at android.os.BaseBundle.unparcel(BaseBundle.java:226)\n       at android.os.Bundle.getSparseParcelableArray(Bundle.java:1009)\n       at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:772)\n       at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1238)\n       at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1303)\n       at androidx.fragment.app.FragmentManagerImpl.dispatchStateChange(FragmentManagerImpl.java:2659)\n       at androidx.fragment.app.FragmentManagerImpl.dispatchCreate(FragmentManagerImpl.java:2607)\n       at androidx.fragment.app.FragmentController.dispatchCreate(FragmentController.java:235)\n       at androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:316)\n       at androidx.appcompat.app.AppCompatActivity.onCreate(AppCompatActivity.java:115)\n       at br.com.zalf.prolog.commons.ui.MainActivity.onCreate(MainActivity.java:129)\n       at android.app.Activity.performCreate(Activity.java:7009)\n       at android.app.Activity.performCreate(Activity.java:7000)\n       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2742)\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2872)\n       at android.app.ActivityThread.-wrap11()\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1595)\n       at android.os.Handler.dispatchMessage(Handler.java:106)\n       at android.os.Looper.loop(Looper.java:164)\n       at android.app.ActivityThread.main(ActivityThread.java:6543)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:440)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:810)\n</code></pre>\n<p>We saw some similars errors here in stackoverflow, but no one actually worked for us.</p>\n<p>The exception is saying that the error happens at &quot;super(in)&quot;, in this class:</p>\n<p>private static class SavedState extends BaseSavedState {\nint mSelectedPosition;</p>\n<pre><code>SavedState(Parcelable superState) {\n    super(superState);\n}\n\nprivate SavedState(android.os.Parcel in) {\n    super(in);\n    this.mSelectedPosition = in.readInt();\n}\n\n@Override\npublic void writeToParcel(android.os.Parcel out, int flags) {\n    super.writeToParcel(out, flags);\n    out.writeInt(this.mSelectedPosition);\n}\n\npublic static final Parcelable.Creator&lt;SavedState&gt; CREATOR =\n        new Parcelable.Creator&lt;SavedState&gt;() {\n            public SavedState createFromParcel(android.os.Parcel in) {\n                return new SavedState(in);\n            }\n\n            public SavedState[] newArray(int size) {\n                return new SavedState[size];\n            }\n        };\n</code></pre>\n<p>}</p>\n<p>Does anyone have any idea to help us?</p>\n<p>Thanks!</p>\n"},{"tags":["javascript","java","android","ios"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1658990366,"post_id":73148172,"comment_id":129189990,"body_markdown":"Related: [Retrieving list of all installed printers via JavaScript](https://stackoverflow.com/questions/25529877/retrieving-list-of-all-installed-printers-via-javascript). Please also edit your question to clarify if you want this code to run on a webpage, or if you are writing native apps for android, windows, mac, ios etc.","body":"Related: <a href=\"https://stackoverflow.com/questions/25529877/retrieving-list-of-all-installed-printers-via-javascript\">Retrieving list of all installed printers via JavaScript</a>. Please also edit your question to clarify if you want this code to run on a webpage, or if you are writing native apps for android, windows, mac, ios etc."},{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":1,"creation_date":1658990669,"post_id":73148172,"comment_id":129190071,"body_markdown":"if you want to get a list of printers in browser environment, you can stop trying. You can&#39;t do that, for obvious reasons (security being the most obvious)","body":"if you want to get a list of printers in browser environment, you can stop trying. You can&#39;t do that, for obvious reasons (security being the most obvious)"}],"answers":[{"tags":[],"owner":{"account_id":24905995,"reputation":106,"user_id":18776053,"display_name":"Царь всея мира"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659469595,"creation_date":1659469595,"answer_id":73212983,"question_id":73148172,"body_markdown":"You will have to implement this for two OSes! Android -&gt; JAVA and IOS -&gt; (Obj-C/Swift MAC OS)","title":"Is there any way to get default printer in javascript/nativescript?","body":"<p>You will have to implement this for two OSes! Android -&gt; JAVA and IOS -&gt; (Obj-C/Swift MAC OS)</p>\n"}],"owner":{"account_id":25914192,"reputation":1,"user_id":19637821,"display_name":"Anmol Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659469595,"creation_date":1658989671,"question_id":73148172,"body_markdown":"I&#39;m new to app development and I&#39;m trying to get the default printer name from the device and send it to a 3rd party API. I&#39;ve found &#39;javax.print.PrintServiceLookup&#39; which can get the default printer but I need this in javascript/typescript. \r\n\r\nIs there anything available to use this library in my code? I&#39;m developing this app for both Android and ios","title":"Is there any way to get default printer in javascript/nativescript?","body":"<p>I'm new to app development and I'm trying to get the default printer name from the device and send it to a 3rd party API. I've found 'javax.print.PrintServiceLookup' which can get the default printer but I need this in javascript/typescript.</p>\n<p>Is there anything available to use this library in my code? I'm developing this app for both Android and ios</p>\n"},{"tags":["java","json","annotations","jackson"],"comments":[{"owner":{"account_id":363150,"reputation":18199,"user_id":706727,"accept_rate":89,"display_name":"Usman Ismail"},"score":0,"creation_date":1361996562,"post_id":14056716,"comment_id":21281324,"body_markdown":"There does not seem the way using this disable call but what does your custom annotation do? there may be another way to achieve the desired behavior.","body":"There does not seem the way using this disable call but what does your custom annotation do? there may be another way to achieve the desired behavior."},{"owner":{"account_id":255255,"reputation":7114,"user_id":535184,"accept_rate":54,"display_name":"yves amsellem"},"score":0,"creation_date":1362998996,"post_id":14056716,"comment_id":21659043,"body_markdown":"The annotation add a custom de/serializer that is not wanted for this mapper.","body":"The annotation add a custom de/serializer that is not wanted for this mapper."},{"owner":{"account_id":363150,"reputation":18199,"user_id":706727,"accept_rate":89,"display_name":"Usman Ismail"},"score":0,"creation_date":1363017694,"post_id":14056716,"comment_id":21670527,"body_markdown":"Would jackson views not suffice? If all you are doing in the custom de/serializer is filtering which fields are read or written then views can do the same thing. See here (http://www.techtraits.com/Programming/2011/08/12/implementing-jackson-views/)","body":"Would jackson views not suffice? If all you are doing in the custom de/serializer is filtering which fields are read or written then views can do the same thing. See here (<a href=\"http://www.techtraits.com/Programming/2011/08/12/implementing-jackson-views/\" rel=\"nofollow noreferrer\">techtraits.com/Programming/2011/08/12/&hellip;</a>)"},{"owner":{"account_id":255255,"reputation":7114,"user_id":535184,"accept_rate":54,"display_name":"yves amsellem"},"score":0,"creation_date":1363018190,"post_id":14056716,"comment_id":21670860,"body_markdown":"The de/serializer transforms the String into MongoDB ObjectId. This question is related to [this github post](https://github.com/FasterXML/jackson-databind/issues/168#issuecomment-13695863).","body":"The de/serializer transforms the String into MongoDB ObjectId. This question is related to <a href=\"https://github.com/FasterXML/jackson-databind/issues/168#issuecomment-13695863\" rel=\"nofollow noreferrer\">this github post</a>."},{"owner":{"account_id":363150,"reputation":18199,"user_id":706727,"accept_rate":89,"display_name":"Usman Ismail"},"score":0,"creation_date":1363018978,"post_id":14056716,"comment_id":21671369,"body_markdown":"Hmm this may be a longshot but, with jackson any getter setter method can be annotated with JsonProperty. So if you put a JsonIgnore on the string member variable and then put JsonProperty on a getMongoID() method. Then within the code of this method you can do the conversion to MongoID. Similarly do the reverse conversion in the setMongoID(MongoID id) method.","body":"Hmm this may be a longshot but, with jackson any getter setter method can be annotated with JsonProperty. So if you put a JsonIgnore on the string member variable and then put JsonProperty on a getMongoID() method. Then within the code of this method you can do the conversion to MongoID. Similarly do the reverse conversion in the setMongoID(MongoID id) method."},{"owner":{"account_id":255255,"reputation":7114,"user_id":535184,"accept_rate":54,"display_name":"yves amsellem"},"score":0,"creation_date":1363021100,"post_id":14056716,"comment_id":21672704,"body_markdown":"Are you suggesting to extract the de/serializer into the object methods? Because this means duplicating its code on every object that need this...","body":"Are you suggesting to extract the de/serializer into the object methods? Because this means duplicating its code on every object that need this..."},{"owner":{"account_id":363150,"reputation":18199,"user_id":706727,"accept_rate":89,"display_name":"Usman Ismail"},"score":0,"creation_date":1363024127,"post_id":14056716,"comment_id":21674578,"body_markdown":"I was suggesting that, you could use inheritance to move this getter into a parent class. That is if all the classes that need this logic are logically such that they can be in one hierarchy.","body":"I was suggesting that, you could use inheritance to move this getter into a parent class. That is if all the classes that need this logic are logically such that they can be in one hierarchy."}],"answers":[{"tags":[],"owner":{"account_id":1003671,"reputation":3021,"user_id":1017939,"accept_rate":56,"display_name":"755"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1376526404,"creation_date":1376526404,"answer_id":18244474,"question_id":14056716,"body_markdown":"This the best I&#39;ve come across. I think I saw it on the Jackson user group forums somewhere.\r\n\r\nEssentially it makes a custom annotation introspector, which returns null if it sees that it has a specific annotation (in this case JsonTypeInfo)\r\n\r\n    JacksonAnnotationIntrospector ignoreJsonTypeInfoIntrospector = new JacksonAnnotationIntrospector() {\r\n    \t\t\t@Override\r\n    \t\t\tprotected TypeResolverBuilder&lt;?&gt; _findTypeResolver(\r\n    \t\t\t\t\tMapperConfig&lt;?&gt; config, Annotated ann, JavaType baseType) {\r\n    \t\t\t\tif (!ann.hasAnnotation(JsonTypeInfo.class)) {\r\n    \t\t\t\t\treturn super._findTypeResolver(config, ann, baseType);\r\n    \t\t\t\t}\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tmapper.setAnnotationIntrospector(ignoreJsonTypeInfoIntrospector);","title":"Disable Jackson mapper for a particular annotation","body":"<p>This the best I've come across. I think I saw it on the Jackson user group forums somewhere.</p>\n\n<p>Essentially it makes a custom annotation introspector, which returns null if it sees that it has a specific annotation (in this case JsonTypeInfo)</p>\n\n<pre><code>JacksonAnnotationIntrospector ignoreJsonTypeInfoIntrospector = new JacksonAnnotationIntrospector() {\n            @Override\n            protected TypeResolverBuilder&lt;?&gt; _findTypeResolver(\n                    MapperConfig&lt;?&gt; config, Annotated ann, JavaType baseType) {\n                if (!ann.hasAnnotation(JsonTypeInfo.class)) {\n                    return super._findTypeResolver(config, ann, baseType);\n                }\n                return null;\n            }\n        };\n\n        mapper.setAnnotationIntrospector(ignoreJsonTypeInfoIntrospector);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1742324,"reputation":966,"user_id":1593370,"accept_rate":40,"display_name":"hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392902151,"creation_date":1392902151,"answer_id":21908962,"question_id":14056716,"body_markdown":"I think it&#39;s a better idea to override `findPropertiesToIgnore` method like this:\r\n\r\n        JacksonAnnotationIntrospector ignoreJsonTypeInfoIntrospector = new JacksonAnnotationIntrospector() {\r\n            @Override\r\n            public String[] findPropertiesToIgnore(AnnotatedClass ac) {\r\n                ArrayList&lt;String&gt; ret = new ArrayList&lt;String&gt;();\r\n                for (Method m : ac.getRawType().getMethods()) {\r\n                    if(ReflectionUtils.isGetter(m)){\r\n                        if(m.getAnnotation(Transient.class) != null)\r\n                            ret.add(ReflectionUtils.getPropertyName(m));\r\n\r\n                    }\r\n                };\r\n                return ret.toArray(new String[]{});\r\n            }\r\n        };\r\n        objectMapper = new ObjectMapper();\r\n        objectMapper.setAnnotationIntrospector(ignoreJsonTypeInfoIntrospector);","title":"Disable Jackson mapper for a particular annotation","body":"<p>I think it's a better idea to override <code>findPropertiesToIgnore</code> method like this:</p>\n\n<pre><code>    JacksonAnnotationIntrospector ignoreJsonTypeInfoIntrospector = new JacksonAnnotationIntrospector() {\n        @Override\n        public String[] findPropertiesToIgnore(AnnotatedClass ac) {\n            ArrayList&lt;String&gt; ret = new ArrayList&lt;String&gt;();\n            for (Method m : ac.getRawType().getMethods()) {\n                if(ReflectionUtils.isGetter(m)){\n                    if(m.getAnnotation(Transient.class) != null)\n                        ret.add(ReflectionUtils.getPropertyName(m));\n\n                }\n            };\n            return ret.toArray(new String[]{});\n        }\n    };\n    objectMapper = new ObjectMapper();\n    objectMapper.setAnnotationIntrospector(ignoreJsonTypeInfoIntrospector);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5730547,"reputation":789,"user_id":4526235,"accept_rate":72,"display_name":"Oleg Kuts"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1525102768,"creation_date":1525102768,"answer_id":50103819,"question_id":14056716,"body_markdown":"This solution worked for me. Check [this][1] for more info\r\n\r\n     private static final JacksonAnnotationIntrospector IGNORE_ENUM_ALIAS_ANNOTATIONS = new JacksonAnnotationIntrospector() {\r\n\r\n        @Override\r\n        protected &lt;A extends Annotation&gt; A _findAnnotation(final Annotated annotated, final Class&lt;A&gt; annoClass) {\r\n            if (!annotated.hasAnnotation(JsonEnumAliasSerializer.class)) {\r\n                return super._findAnnotation(annotated, annoClass);\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n\r\n\r\nAnd my custom annotation:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @JacksonAnnotationsInside\r\n    @JsonSerialize(using = JsonEnumSerializer.class)\r\n    public @interface JsonEnumAliasSerializer {\r\n    }\r\n\r\nAnd ObjectMapper:\r\n\r\n        final ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.setAnnotationIntrospector(IGNORE_ENUM_ALIAS_ANNOTATIONS);\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/issues/133","title":"Disable Jackson mapper for a particular annotation","body":"<p>This solution worked for me. Check <a href=\"https://github.com/FasterXML/jackson-databind/issues/133\" rel=\"nofollow noreferrer\">this</a> for more info</p>\n\n<pre><code> private static final JacksonAnnotationIntrospector IGNORE_ENUM_ALIAS_ANNOTATIONS = new JacksonAnnotationIntrospector() {\n\n    @Override\n    protected &lt;A extends Annotation&gt; A _findAnnotation(final Annotated annotated, final Class&lt;A&gt; annoClass) {\n        if (!annotated.hasAnnotation(JsonEnumAliasSerializer.class)) {\n            return super._findAnnotation(annotated, annoClass);\n        }\n        return null;\n    }\n};\n</code></pre>\n\n<p>And my custom annotation:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@JacksonAnnotationsInside\n@JsonSerialize(using = JsonEnumSerializer.class)\npublic @interface JsonEnumAliasSerializer {\n}\n</code></pre>\n\n<p>And ObjectMapper:</p>\n\n<pre><code>    final ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.setAnnotationIntrospector(IGNORE_ENUM_ALIAS_ANNOTATIONS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3675121,"reputation":468,"user_id":3061390,"display_name":"Tom Grushka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659469077,"creation_date":1659468458,"answer_id":73212785,"question_id":14056716,"body_markdown":"Here is a simpler way (August 2022) to do it in Kotlin (you can translate to Java if you really want to):\r\n\r\n(I use this in a Ktor/KMongo project to prevent `Transient` attributes from being persisted because KMongo requires `@JsonIgnore`, which then also prevents my other mappers from serializing those properties!)\r\n\r\n```kotlin\r\n@Target(PROPERTY_GETTER)\r\nannotation class Transient\r\n\r\nprivate val TransientIntrospector: JacksonAnnotationIntrospector = object : JacksonAnnotationIntrospector() {\r\n    override fun hasIgnoreMarker(m: AnnotatedMember): Boolean =\r\n        m.allAnnotations.has(Transient::class.java) || super.hasIgnoreMarker(m)\r\n}\r\n\r\nprivate class IgnoreTransientModule : SimpleModule() {\r\n    override fun setupModule(context: SetupContext) {\r\n        super.setupModule(context)\r\n        context.appendAnnotationIntrospector(TransientIntrospector)\r\n    }\r\n}\r\n\r\n// Just register the module in your `ObjectMapper` instance:\r\nval ignoreTransientMapper = with(ObjectMapper()) {\r\n    registerModule(IgnoreTransientModule())\r\n}\r\n\r\n// And here is how to use it:\r\ndata class Customer(\r\n    val id: String? = null,\r\n    val firstName: String,\r\n    val lastName: String,\r\n) {\r\n    @get:Transient\r\n    val fullName: String\r\n        get() = &quot;$firstName $lastName&quot;\r\n}\r\n\r\n```\r\n\r\n","title":"Disable Jackson mapper for a particular annotation","body":"<p>Here is a simpler way (August 2022) to do it in Kotlin (you can translate to Java if you really want to):</p>\n<p>(I use this in a Ktor/KMongo project to prevent <code>Transient</code> attributes from being persisted because KMongo requires <code>@JsonIgnore</code>, which then also prevents my other mappers from serializing those properties!)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Target(PROPERTY_GETTER)\nannotation class Transient\n\nprivate val TransientIntrospector: JacksonAnnotationIntrospector = object : JacksonAnnotationIntrospector() {\n    override fun hasIgnoreMarker(m: AnnotatedMember): Boolean =\n        m.allAnnotations.has(Transient::class.java) || super.hasIgnoreMarker(m)\n}\n\nprivate class IgnoreTransientModule : SimpleModule() {\n    override fun setupModule(context: SetupContext) {\n        super.setupModule(context)\n        context.appendAnnotationIntrospector(TransientIntrospector)\n    }\n}\n\n// Just register the module in your `ObjectMapper` instance:\nval ignoreTransientMapper = with(ObjectMapper()) {\n    registerModule(IgnoreTransientModule())\n}\n\n// And here is how to use it:\ndata class Customer(\n    val id: String? = null,\n    val firstName: String,\n    val lastName: String,\n) {\n    @get:Transient\n    val fullName: String\n        get() = &quot;$firstName $lastName&quot;\n}\n\n</code></pre>\n"}],"owner":{"account_id":255255,"reputation":7114,"user_id":535184,"accept_rate":54,"display_name":"yves amsellem"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9699,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1659469077,"creation_date":1356620623,"question_id":14056716,"body_markdown":"With Jackson, it&#39;s easy to disable all annotations for a given `ObjectMapper`.\r\nIs there a way to only disable one given annotation?\r\n\r\n    // disable all\r\n    ObjectMapper mapper = new ObjectMapper()\r\n    mapper.disable(MapperFeature.USE_ANNOTATIONS);\r\n    \r\n    // disable one?\r\n    ObjectMapper mapper = new ObjectMapper()\r\n    mapper.disable(@JsonIgnore);\r\n\r\nUsing `@JacksonAnnotationsInside`, I&#39;ve defined a custom Jackson annotation and I only want it to be used in certain circumstances.","title":"Disable Jackson mapper for a particular annotation","body":"<p>With Jackson, it's easy to disable all annotations for a given <code>ObjectMapper</code>.\nIs there a way to only disable one given annotation?</p>\n\n<pre><code>// disable all\nObjectMapper mapper = new ObjectMapper()\nmapper.disable(MapperFeature.USE_ANNOTATIONS);\n\n// disable one?\nObjectMapper mapper = new ObjectMapper()\nmapper.disable(@JsonIgnore);\n</code></pre>\n\n<p>Using <code>@JacksonAnnotationsInside</code>, I've defined a custom Jackson annotation and I only want it to be used in certain circumstances.</p>\n"},{"tags":["java","json","jackson","lombok"],"comments":[{"owner":{"account_id":25863692,"reputation":138,"user_id":19595755,"display_name":"pholak"},"score":1,"creation_date":1659465178,"post_id":73211880,"comment_id":129299899,"body_markdown":"Do you have jackon-datatype-jsr310 dependency?\nhttps://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310\n\nIt looks like the problem is related with Jackson and LocalDateTime, not Lombok.","body":"Do you have jackon-datatype-jsr310 dependency? <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.fasterxml.jackson.datatype/&hellip;</a>  It looks like the problem is related with Jackson and LocalDateTime, not Lombok."},{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":0,"creation_date":1659465648,"post_id":73211880,"comment_id":129300042,"body_markdown":"No, I don&#39;t have. I&#39;ll include and I&#39;ll write a feedback. You are rigth.","body":"No, I don&#39;t have. I&#39;ll include and I&#39;ll write a feedback. You are rigth."},{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":0,"creation_date":1659466440,"post_id":73211880,"comment_id":129300274,"body_markdown":"I added the dependency and the error persist. Do you have any idea?","body":"I added the dependency and the error persist. Do you have any idea?"}],"answers":[{"tags":[],"owner":{"account_id":25863692,"reputation":138,"user_id":19595755,"display_name":"pholak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659468371,"creation_date":1659466448,"answer_id":73212416,"question_id":73211880,"body_markdown":" 1. You are using a very old Jackson version. \r\n 2. To make Jackson work with Java 8 time, you need to add [jackson-datatype-jsr310](https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310) dependency and register module in ObjectMapper:\r\n```\r\nobjectMapper.registerModule(new JavaTimeModule()); \r\n``` \r\n\r\nComplete working example with current Jackson version:\r\n``` \r\nPerson person = new Person(LocalDateTime.now());\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.registerModule(new JavaTimeModule());\r\nString json = objectMapper.writeValueAsString(person);\r\nPerson personDeserialized = objectMapper.readValue(json, Person.class);\r\n```\r\n\r\nDependencies:\r\n``` \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt; \r\n``` \r\n\r\n\r\n \r\n","title":"ERROR: org.codehaus.jackson.map.JsonMappingException","body":"<ol>\n<li>You are using a very old Jackson version.</li>\n<li>To make Jackson work with Java 8 time, you need to add <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310\" rel=\"nofollow noreferrer\">jackson-datatype-jsr310</a> dependency and register module in ObjectMapper:</li>\n</ol>\n<pre><code>objectMapper.registerModule(new JavaTimeModule()); \n</code></pre>\n<p>Complete working example with current Jackson version:</p>\n<pre><code>Person person = new Person(LocalDateTime.now());\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(new JavaTimeModule());\nString json = objectMapper.writeValueAsString(person);\nPerson personDeserialized = objectMapper.readValue(json, Person.class);\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt; \n</code></pre>\n"}],"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73212416,"answer_count":1,"score":0,"last_activity_date":1659468371,"creation_date":1659463615,"question_id":73211880,"body_markdown":"I&#39;m using lombok + Java to otimizate the application. The class has the tags `@Data` , `@EqualsAndHashCode(callSuper = false)`, `@NoArgsConstructor`, `@AllArgsConstructor` e `@Builder` before signature&#39;s class. When I run, It shows the error below:\r\n\r\n**ERROR:**\r\n&gt; org.apache.cxf.jaxrs.JAXRSRuntimeException:\r\n&gt; org.codehaus.jackson.map.JsonMappingException: No suitable constructor\r\n&gt; found for type [simple type, class java.time.LocalDateTime]: can not\r\n&gt; instantiate from JSON object (need to add/enable type information?) \r\n&gt; at [Source:\r\n&gt; org.apache.cxf.transport.http.AbstractHTTPDestination$1@25e15ce5;\r\n&gt; line: 1, column: 188] \tat\r\n&gt; org.apache.cxf.jaxrs.utils.JAXRSUtils.toJAXRSRuntimeException(JAXRSUtils.java:1906)\r\n&gt; \tat\r\n&gt; org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor.convertExceptionToResponseIfPossible(JAXRSInInterceptor.java:276)\r\n\r\n**CLASS:**\r\n\r\n    ...\r\n    \r\n    @Data\r\n    @EqualsAndHashCode(callSuper = false)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class Person {\r\n    \r\n         private LocalDateTime date;\r\n         ...\r\n    }\r\n\r\nI thougth this lombok&#39;s tags are enough. Does anyone have any idea?","title":"ERROR: org.codehaus.jackson.map.JsonMappingException","body":"<p>I'm using lombok + Java to otimizate the application. The class has the tags <code>@Data</code> , <code>@EqualsAndHashCode(callSuper = false)</code>, <code>@NoArgsConstructor</code>, <code>@AllArgsConstructor</code> e <code>@Builder</code> before signature's class. When I run, It shows the error below:</p>\n<p><strong>ERROR:</strong></p>\n<blockquote>\n<p>org.apache.cxf.jaxrs.JAXRSRuntimeException:\norg.codehaus.jackson.map.JsonMappingException: No suitable constructor\nfound for type [simple type, class java.time.LocalDateTime]: can not\ninstantiate from JSON object (need to add/enable type information?)\nat [Source:\norg.apache.cxf.transport.http.AbstractHTTPDestination$1@25e15ce5;\nline: 1, column: 188]     at\norg.apache.cxf.jaxrs.utils.JAXRSUtils.toJAXRSRuntimeException(JAXRSUtils.java:1906)\nat\norg.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor.convertExceptionToResponseIfPossible(JAXRSInInterceptor.java:276)</p>\n</blockquote>\n<p><strong>CLASS:</strong></p>\n<pre><code>...\n\n@Data\n@EqualsAndHashCode(callSuper = false)\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Person {\n\n     private LocalDateTime date;\n     ...\n}\n</code></pre>\n<p>I thougth this lombok's tags are enough. Does anyone have any idea?</p>\n"},{"tags":["python","java","hmac"],"comments":[{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1659467949,"post_id":73212670,"comment_id":129300699,"body_markdown":"Have you googled how to do an HMAC in Python? You&#39;ll need to find a Python library and read its documentation to see how to use it. It&#39;s unlikely to be a direct 1-to-1 translation.","body":"Have you googled how to do an HMAC in Python? You&#39;ll need to find a Python library and read its documentation to see how to use it. It&#39;s unlikely to be a direct 1-to-1 translation."}],"answers":[{"tags":[],"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659468137,"creation_date":1659468137,"answer_id":73212734,"question_id":73212670,"body_markdown":"It should be approximately this:\r\n```\r\nimport hmac\r\nimport hashlib\r\n\r\nkey = bytes(webhookSecret, &#39;UTF-8&#39;)\r\nmessage = bytes(webhookBody, &#39;UTF-8&#39;)  \r\ndigester = hmac.new(key, message, hashlib.sha1)\r\nsignature1 = digester.hexdigest()\r\n```","title":"How do you convert &quot;final String webhookSignature = new HmacUtils(HmacAlgorithms.HMAC_SHA_1, webhookSecret).hmacHex(webhookBody);&quot; from java to python","body":"<p>It should be approximately this:</p>\n<pre><code>import hmac\nimport hashlib\n\nkey = bytes(webhookSecret, 'UTF-8')\nmessage = bytes(webhookBody, 'UTF-8')  \ndigester = hmac.new(key, message, hashlib.sha1)\nsignature1 = digester.hexdigest()\n</code></pre>\n"}],"owner":{"account_id":19155218,"reputation":1,"user_id":13992182,"display_name":"Silverio Mirao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1659505277,"answer_count":1,"score":-1,"last_activity_date":1659468137,"creation_date":1659467774,"question_id":73212670,"body_markdown":"I&#39;m just not experienced enough in java to figure this out, but if anyone knows the equivalent of this code in python, that would be greatly appreciated:\r\n```\r\nfinal String webhookSignature = new HmacUtils(HmacAlgorithms.HMAC_SHA_1, webhookSecret).hmacHex(webhookBody);\r\n```\r\nHere is the original source: \r\n&lt;https://apidocs.rhombussystems.com/reference/simple-webhooks&gt;","title":"How do you convert &quot;final String webhookSignature = new HmacUtils(HmacAlgorithms.HMAC_SHA_1, webhookSecret).hmacHex(webhookBody);&quot; from java to python","body":"<p>I'm just not experienced enough in java to figure this out, but if anyone knows the equivalent of this code in python, that would be greatly appreciated:</p>\n<pre><code>final String webhookSignature = new HmacUtils(HmacAlgorithms.HMAC_SHA_1, webhookSecret).hmacHex(webhookBody);\n</code></pre>\n<p>Here is the original source:\n<a href=\"https://apidocs.rhombussystems.com/reference/simple-webhooks\" rel=\"nofollow noreferrer\">https://apidocs.rhombussystems.com/reference/simple-webhooks</a></p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1659470991,"post_id":73212710,"comment_id":129301691,"body_markdown":"This is the key difference between the old &quot;just-in-time&quot; model of checking a condition when back is pressed vs the &quot;ahead-of-time&quot; model where you need to set the `isEnabled` state on your callback when your `condition()` changes so that your callback is not enabled when `condition()` is false, automatically allowing the default behavior to happen. Where does your condition change?","body":"This is the key difference between the old &quot;just-in-time&quot; model of checking a condition when back is pressed vs the &quot;ahead-of-time&quot; model where you need to set the <code>isEnabled</code> state on your callback when your <code>condition()</code> changes so that your callback is not enabled when <code>condition()</code> is false, automatically allowing the default behavior to happen. Where does your condition change?"},{"owner":{"account_id":3123068,"reputation":4253,"user_id":2642478,"accept_rate":90,"display_name":"Alessandro Scarozza"},"score":0,"creation_date":1669832207,"post_id":73212710,"comment_id":131734871,"body_markdown":"in italy in that cases we use this expression: &quot;simple business complications office&quot;","body":"in italy in that cases we use this expression: &quot;simple business complications office&quot;"}],"owner":{"account_id":2824997,"reputation":3258,"user_id":2427819,"accept_rate":35,"display_name":"TootsieRockNRoll"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659467997,"creation_date":1659467997,"question_id":73212710,"body_markdown":"I have this custom back press: \r\n\r\n    override fun onBackPressed() {\r\n        if (condition()) {\r\n            doSomething()\r\n        } else {\r\n            super.onBackPressed()\r\n        }\r\n    }\r\n\r\nI can&#39;t seem to find a way to make it a OnBackPressedCallback, \r\n\r\n    private fun setupBackPress() {\r\n        onBackPressedDispatcher.addCallback(owner = this) {\r\n            if (condition()) {\r\n                doSomething()\r\n            } else {\r\n                onBackPressedDispatcher.onBackPressed() \r\n                // I don&#39;t know what to do in this case, \r\n                // this here would be an infinite loop \r\n                // but I need to just make it like super.onBackPressed()\r\n            }\r\n        }\r\n    }\r\n\r\nAny ideas? thanks","title":"Android custom onBackPressed to OnBackPressedCallback","body":"<p>I have this custom back press:</p>\n<pre><code>override fun onBackPressed() {\n    if (condition()) {\n        doSomething()\n    } else {\n        super.onBackPressed()\n    }\n}\n</code></pre>\n<p>I can't seem to find a way to make it a OnBackPressedCallback,</p>\n<pre><code>private fun setupBackPress() {\n    onBackPressedDispatcher.addCallback(owner = this) {\n        if (condition()) {\n            doSomething()\n        } else {\n            onBackPressedDispatcher.onBackPressed() \n            // I don't know what to do in this case, \n            // this here would be an infinite loop \n            // but I need to just make it like super.onBackPressed()\n        }\n    }\n}\n</code></pre>\n<p>Any ideas? thanks</p>\n"},{"tags":["java","spring-boot","rest","google-app-engine","google-cloud-platform"],"comments":[{"owner":{"account_id":443059,"reputation":297,"user_id":834055,"display_name":"billoreid"},"score":0,"creation_date":1659450197,"post_id":73192315,"comment_id":129294576,"body_markdown":"I&#39;m having the same issue. The version deployed June 30, 2022 runs without issues. The exact same code base deployed today gives 404 for all Spring Boot endpoints. Static files load fine. I&#39;m wondering if it has something to do with the Cloud SDK since that&#39;s the only thing that has changed. I&#39;m using: JDK-1.8, SB-2.3.11, Cloud SDK-395.0.0","body":"I&#39;m having the same issue. The version deployed June 30, 2022 runs without issues. The exact same code base deployed today gives 404 for all Spring Boot endpoints. Static files load fine. I&#39;m wondering if it has something to do with the Cloud SDK since that&#39;s the only thing that has changed. I&#39;m using: JDK-1.8, SB-2.3.11, Cloud SDK-395.0.0"}],"answers":[{"tags":[],"owner":{"account_id":4783644,"reputation":198,"user_id":3864749,"display_name":"karepu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659427990,"creation_date":1659427990,"answer_id":73204076,"question_id":73192315,"body_markdown":"Did you check the port. By default, 8080 is the default port. If you want to change the port. Follow below link\r\n\r\nhttps://cloud.google.com/appengine/docs/flexible/java/reference/app-yaml#network_settings","title":"Google Cloud Appengine returns &#39;404 Error&#39; when calling Spring Boot REST APIs","body":"<p>Did you check the port. By default, 8080 is the default port. If you want to change the port. Follow below link</p>\n<p><a href=\"https://cloud.google.com/appengine/docs/flexible/java/reference/app-yaml#network_settings\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/flexible/java/reference/app-yaml#network_settings</a></p>\n"},{"tags":[],"owner":{"account_id":443059,"reputation":297,"user_id":834055,"display_name":"billoreid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659467812,"creation_date":1659466028,"answer_id":73212348,"question_id":73192315,"body_markdown":"As suspected, this is a problem with the Cloud SDK v395.0.0. You can deploy your application using an older version by setting the cloudSdkVersion configuration parameter of the appengine maven plugin in your pom.xml file. More information can be found in the [AppEngine Maven Plugin reference][1] document.\r\n\r\nI tested this by deploying the Spring Boot helloWorld world sample app with various versions of the SDK and it broke once deployed with v395+ \r\n\r\n[This issue has been reported on Google&#39;s Issue Tracker][2]\r\n\r\n\r\n  [1]: https://github.com/GoogleCloudPlatform/app-maven-plugin/blob/master/USER_GUIDE.md\r\n  [2]: https://issuetracker.google.com/issues/240455023","title":"Google Cloud Appengine returns &#39;404 Error&#39; when calling Spring Boot REST APIs","body":"<p>As suspected, this is a problem with the Cloud SDK v395.0.0. You can deploy your application using an older version by setting the cloudSdkVersion configuration parameter of the appengine maven plugin in your pom.xml file. More information can be found in the <a href=\"https://github.com/GoogleCloudPlatform/app-maven-plugin/blob/master/USER_GUIDE.md\" rel=\"nofollow noreferrer\">AppEngine Maven Plugin reference</a> document.</p>\n<p>I tested this by deploying the Spring Boot helloWorld world sample app with various versions of the SDK and it broke once deployed with v395+</p>\n<p><a href=\"https://issuetracker.google.com/issues/240455023\" rel=\"nofollow noreferrer\">This issue has been reported on Google's Issue Tracker</a></p>\n"}],"owner":{"account_id":13096837,"reputation":191,"user_id":9462532,"display_name":"Amir Victor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73212348,"answer_count":2,"score":1,"last_activity_date":1659467812,"creation_date":1659349434,"question_id":73192315,"body_markdown":"I have deployed a spring boot application to Google cloud appengine service. When I run the application locally using ```mvn appengine:run``` everything works fine and I&#39;m able to send requests to REST APIs and get expected responses back. In fact when I deploy the application to appengine I can see the application logs which indicate that server is up and there aren&#39;t any exceptions or warnings during server initialization; But when I try to call any kind of endpoints, google send a HTML page containing below text:&lt;br/&gt;\r\n**Error: Not Found**\r\n\r\nI&#39;m using:&lt;br/&gt;\r\nJDK 1.8&lt;br/&gt;\r\nSpring Boot 2.4.5&lt;br/&gt;\r\nMaven&lt;br/&gt;\r\nCloud SDK version 395.0.0\r\n","title":"Google Cloud Appengine returns &#39;404 Error&#39; when calling Spring Boot REST APIs","body":"<p>I have deployed a spring boot application to Google cloud appengine service. When I run the application locally using <code>mvn appengine:run</code> everything works fine and I'm able to send requests to REST APIs and get expected responses back. In fact when I deploy the application to appengine I can see the application logs which indicate that server is up and there aren't any exceptions or warnings during server initialization; But when I try to call any kind of endpoints, google send a HTML page containing below text:<br/>\n<strong>Error: Not Found</strong></p>\n<p>I'm using:<br/>\nJDK 1.8<br/>\nSpring Boot 2.4.5<br/>\nMaven<br/>\nCloud SDK version 395.0.0</p>\n"},{"tags":["java","jpa","jpa-1.0"],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":2,"up_vote_count":295,"is_accepted":true,"score":293,"last_activity_date":1384849894,"creation_date":1262763991,"answer_id":2011546,"question_id":2011519,"body_markdown":"JPA&#39;s behaviour is correct (meaning *as per the specification*): objects aren&#39;t deleted simply because you&#39;ve removed them from a OneToMany collection. There are vendor-specific extensions that do that but native JPA doesn&#39;t cater for it.\r\n\r\nIn part this is because JPA doesn&#39;t actually know if it should delete something removed from the collection. In object modeling terms, this is the difference between *composition* and &quot;aggregation*.\r\n\r\nIn *composition*, the child entity has no existence without the parent. A classic example is between House and Room. Delete the House and the Rooms go too.\r\n\r\n*Aggregation* is a looser kind of association and is typified by Course and Student. Delete the Course and the Student still exists (probably in other Courses).\r\n\r\nSo you need to either use vendor-specific extensions to force this behaviour (if available) or explicitly delete the child AND remove it from the parent&#39;s collection.\r\n\r\nI&#39;m aware of:\r\n\r\n- [Hibernate][1]: cascade delete_orphan. See [10.11. Transitive persistence][2]; and\r\n- [EclipseLink][3]: calls this &quot;private ownership&quot;. See [How to Use the @PrivateOwned Annotation][4].\r\n\r\n\r\n  [1]: http://www.google.com.au/search?rlz=1C1GGLS_enAU353AU354&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=hibernate\r\n  [2]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/objectstate.html#objectstate-transitive\r\n  [3]: http://www.eclipse.org/eclipselink/\r\n  [4]: http://www.eclipse.org/eclipselink/documentation/2.5/jpa/extensions/a_privateowned.htm","title":"JPA OneToMany not deleting child","body":"<p>JPA's behaviour is correct (meaning <em>as per the specification</em>): objects aren't deleted simply because you've removed them from a OneToMany collection. There are vendor-specific extensions that do that but native JPA doesn't cater for it.</p>\n\n<p>In part this is because JPA doesn't actually know if it should delete something removed from the collection. In object modeling terms, this is the difference between <em>composition</em> and \"aggregation*.</p>\n\n<p>In <em>composition</em>, the child entity has no existence without the parent. A classic example is between House and Room. Delete the House and the Rooms go too.</p>\n\n<p><em>Aggregation</em> is a looser kind of association and is typified by Course and Student. Delete the Course and the Student still exists (probably in other Courses).</p>\n\n<p>So you need to either use vendor-specific extensions to force this behaviour (if available) or explicitly delete the child AND remove it from the parent's collection.</p>\n\n<p>I'm aware of:</p>\n\n<ul>\n<li><a href=\"http://www.google.com.au/search?rlz=1C1GGLS_enAU353AU354&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=hibernate\" rel=\"noreferrer\">Hibernate</a>: cascade delete_orphan. See <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/objectstate.html#objectstate-transitive\" rel=\"noreferrer\">10.11. Transitive persistence</a>; and</li>\n<li><a href=\"http://www.eclipse.org/eclipselink/\" rel=\"noreferrer\">EclipseLink</a>: calls this \"private ownership\". See <a href=\"http://www.eclipse.org/eclipselink/documentation/2.5/jpa/extensions/a_privateowned.htm\" rel=\"noreferrer\">How to Use the @PrivateOwned Annotation</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":78418,"reputation":17437,"user_id":223196,"accept_rate":89,"display_name":"Chandra Patni"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1262764217,"creation_date":1262764217,"answer_id":2011559,"question_id":2011519,"body_markdown":"Here cascade, in the context of remove, means that the children are removed if you remove the parent. Not the association. If you are using Hibernate as your JPA provider, you can do it using [hibernate specific cascade][1].\r\n\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#entity-hibspec-cascade","title":"JPA OneToMany not deleting child","body":"<p>Here cascade, in the context of remove, means that the children are removed if you remove the parent. Not the association. If you are using Hibernate as your JPA provider, you can do it using <a href=\"http://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#entity-hibspec-cascade\" rel=\"nofollow noreferrer\">hibernate specific cascade</a>.</p>\n"},{"tags":[],"owner":{"account_id":44973,"reputation":7596,"user_id":132270,"accept_rate":85,"display_name":"bert"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1492591125,"creation_date":1262768581,"answer_id":2011836,"question_id":2011519,"body_markdown":"As explained, it is not possible to do what I want with JPA, so I employed the hibernate.cascade annotation, with this, the relevant code in the Parent class now looks like this:\r\n\r\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH}, mappedBy = &quot;parent&quot;)\r\n    @Cascade({org.hibernate.annotations.CascadeType.SAVE_UPDATE,\r\n                org.hibernate.annotations.CascadeType.DELETE,\r\n                org.hibernate.annotations.CascadeType.MERGE,\r\n                org.hibernate.annotations.CascadeType.PERSIST,\r\n                org.hibernate.annotations.CascadeType.DELETE_ORPHAN})\r\n    private Set&lt;Child&gt; childs = new HashSet&lt;Child&gt;();\r\n\r\nI could not simple use &#39;ALL&#39; as this would have deleted the parent as well. ","title":"JPA OneToMany not deleting child","body":"<p>As explained, it is not possible to do what I want with JPA, so I employed the hibernate.cascade annotation, with this, the relevant code in the Parent class now looks like this:</p>\n\n<pre><code>@OneToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH}, mappedBy = \"parent\")\n@Cascade({org.hibernate.annotations.CascadeType.SAVE_UPDATE,\n            org.hibernate.annotations.CascadeType.DELETE,\n            org.hibernate.annotations.CascadeType.MERGE,\n            org.hibernate.annotations.CascadeType.PERSIST,\n            org.hibernate.annotations.CascadeType.DELETE_ORPHAN})\nprivate Set&lt;Child&gt; childs = new HashSet&lt;Child&gt;();\n</code></pre>\n\n<p>I could not simple use 'ALL' as this would have deleted the parent as well. </p>\n"},{"tags":[],"owner":{"account_id":9949,"reputation":13854,"user_id":18591,"display_name":"Louis Jacomet"},"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1475440125,"creation_date":1262771394,"answer_id":2012048,"question_id":2011519,"body_markdown":"In addition to cletus&#39; answer, [JPA 2.0][1], final since december 2010, introduces an `orphanRemoval` attribute on `@OneToMany` annotations.\r\nFor more details see this [blog entry][2].\r\n\r\nNote that since the spec is relatively new, not all JPA 1 provider have a final JPA 2 implementation. For example, the [Hibernate 3.5.0-Beta-2 release][3] does not yet support this attribute.\r\n\r\n\r\n  [1]: http://jcp.org/en/jsr/detail?id=317\r\n  [2]: http://javablog.co.uk/2009/12/27/onetomany-fixes-in-jpa-2/\r\n  [3]: http://in.relation.to/12696.lace","title":"JPA OneToMany not deleting child","body":"<p>In addition to cletus' answer, <a href=\"http://jcp.org/en/jsr/detail?id=317\" rel=\"noreferrer\">JPA 2.0</a>, final since december 2010, introduces an <code>orphanRemoval</code> attribute on <code>@OneToMany</code> annotations.\nFor more details see this <a href=\"http://javablog.co.uk/2009/12/27/onetomany-fixes-in-jpa-2/\" rel=\"noreferrer\">blog entry</a>.</p>\n\n<p>Note that since the spec is relatively new, not all JPA 1 provider have a final JPA 2 implementation. For example, the <a href=\"http://in.relation.to/12696.lace\" rel=\"noreferrer\">Hibernate 3.5.0-Beta-2 release</a> does not yet support this attribute.</p>\n"},{"tags":[],"owner":{"account_id":1104656,"reputation":1228,"user_id":1096326,"display_name":"Maciel Escudero Bombonato"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1492591005,"creation_date":1365032370,"answer_id":15800130,"question_id":2011519,"body_markdown":"You can try this:\r\n\r\n&lt;code&gt;@OneToOne(orphanRemoval=true) or @OneToMany(orphanRemoval=true)&lt;/code&gt;.","title":"JPA OneToMany not deleting child","body":"<p>You can try this:</p>\n\n<p><code>@OneToOne(orphanRemoval=true) or @OneToMany(orphanRemoval=true)</code>.</p>\n"},{"tags":[],"owner":{"account_id":3406270,"reputation":49,"user_id":2857252,"display_name":"Amit Ghorpade"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492591029,"creation_date":1450947951,"answer_id":34450093,"question_id":2011519,"body_markdown":"You can try this:\r\n\r\n    @OneToOne(cascade = CascadeType.REFRESH) \r\nor \r\n    \r\n    @OneToMany(cascade = CascadeType.REFRESH)","title":"JPA OneToMany not deleting child","body":"<p>You can try this:</p>\n\n<pre><code>@OneToOne(cascade = CascadeType.REFRESH) \n</code></pre>\n\n<p>or </p>\n\n<pre><code>@OneToMany(cascade = CascadeType.REFRESH)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1670487,"reputation":990,"user_id":1537029,"accept_rate":40,"display_name":"Kim"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1492591087,"creation_date":1469606291,"answer_id":38607101,"question_id":2011519,"body_markdown":"    @Entity \r\n    class Employee {\r\n         @OneToOne(orphanRemoval=true)\r\n         private Address address;\r\n    }\r\n\r\nSee [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18813341/what-is-the-difference-between-cascade-and-orphan-removal-from-db","title":"JPA OneToMany not deleting child","body":"<pre><code>@Entity \nclass Employee {\n     @OneToOne(orphanRemoval=true)\n     private Address address;\n}\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/18813341/what-is-the-difference-between-cascade-and-orphan-removal-from-db\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659467663,"creation_date":1659467663,"answer_id":73212651,"question_id":2011519,"body_markdown":"I don&#39;t know why, but I had the same issue and my Entities were like below:\r\n\r\n    public class Parent {\r\n        @OneToMany(mappedBy = &quot;parent&quot;,\r\n                cascade = CascadeType.ALL)\r\n        private List&lt;Child&gt; childList= new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public class Child {\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;PARENT_ID&quot;, nullable = false)\r\n        private Parent parent;\r\n    }\r\n\r\nAnd I could finally delete a single child when I wrote my own `delete()` method:\r\n\r\n    @Modifying\r\n    @Query(&quot;delete from Child c where c.id = :id&quot;)\r\n    void deleteById(Long id);\r\n\r\n**please consider that using @Modifying is necessary**\r\n\r\nAnd I called it from Service layer:\r\n\r\n    childRepository.deleteById(childInstance.getId());\r\n\r\n\r\n","title":"JPA OneToMany not deleting child","body":"<p>I don't know why, but I had the same issue and my Entities were like below:</p>\n<pre><code>public class Parent {\n    @OneToMany(mappedBy = &quot;parent&quot;,\n            cascade = CascadeType.ALL)\n    private List&lt;Child&gt; childList= new ArrayList&lt;&gt;();\n}\n\npublic class Child {\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;PARENT_ID&quot;, nullable = false)\n    private Parent parent;\n}\n</code></pre>\n<p>And I could finally delete a single child when I wrote my own <code>delete()</code> method:</p>\n<pre><code>@Modifying\n@Query(&quot;delete from Child c where c.id = :id&quot;)\nvoid deleteById(Long id);\n</code></pre>\n<p><strong>please consider that using @Modifying is necessary</strong></p>\n<p>And I called it from Service layer:</p>\n<pre><code>childRepository.deleteById(childInstance.getId());\n</code></pre>\n"}],"owner":{"account_id":44973,"reputation":7596,"user_id":132270,"accept_rate":85,"display_name":"bert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193473,"favorite_count":0,"down_vote_count":1,"up_vote_count":189,"accepted_answer_id":2011546,"answer_count":8,"score":188,"last_activity_date":1659467663,"creation_date":1262763479,"question_id":2011519,"body_markdown":"I have a problem with a simple `@OneToMany` mapping between a parent and a child entity. All works well, only that child records are not deleted when I remove them from the collection.\r\n\r\nThe parent:\r\n\r\n    @Entity\r\n    public class Parent {\r\n        @Id\r\n        @Column(name = &quot;ID&quot;)\r\n        private Long id;\r\n    \r\n        @OneToMany(cascade = {CascadeType.ALL}, mappedBy = &quot;parent&quot;)\r\n        private Set&lt;Child&gt; childs = new HashSet&lt;Child&gt;();\r\n    \r\n     ...\r\n    }\r\n\r\nThe child:\r\n\r\n    @Entity\r\n    public class Child {\r\n        @Id\r\n        @Column(name = &quot;ID&quot;)\r\n        private Long id;\r\n    \r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name=&quot;PARENTID&quot;, nullable = false)\r\n        private Parent parent;\r\n    \r\n      ...\r\n    }\r\n\r\nIf I now delete and child from the childs Set, it does not get deleted from the database. I tried nullifying the `child.parent` reference, but that did not work either.\r\n\r\nThe entities are used in a web application, the delete happens as part of an Ajax request. I don&#39;t have a list of deleted childs when the save button is pressed, so I can&#39;t delete them implicitly. \r\n\r\n","title":"JPA OneToMany not deleting child","body":"<p>I have a problem with a simple <code>@OneToMany</code> mapping between a parent and a child entity. All works well, only that child records are not deleted when I remove them from the collection.</p>\n\n<p>The parent:</p>\n\n<pre><code>@Entity\npublic class Parent {\n    @Id\n    @Column(name = \"ID\")\n    private Long id;\n\n    @OneToMany(cascade = {CascadeType.ALL}, mappedBy = \"parent\")\n    private Set&lt;Child&gt; childs = new HashSet&lt;Child&gt;();\n\n ...\n}\n</code></pre>\n\n<p>The child:</p>\n\n<pre><code>@Entity\npublic class Child {\n    @Id\n    @Column(name = \"ID\")\n    private Long id;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name=\"PARENTID\", nullable = false)\n    private Parent parent;\n\n  ...\n}\n</code></pre>\n\n<p>If I now delete and child from the childs Set, it does not get deleted from the database. I tried nullifying the <code>child.parent</code> reference, but that did not work either.</p>\n\n<p>The entities are used in a web application, the delete happens as part of an Ajax request. I don't have a list of deleted childs when the save button is pressed, so I can't delete them implicitly. </p>\n"},{"tags":["java","spring","spring-boot","quarkus","mapstruct"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659501436,"post_id":73211755,"comment_id":129307027,"body_markdown":"You probably don’t want `LocalDateTime.now()` since anyone would be free to interpret the result in their own time zone, which would be wrong. `OffsetDateTime.now()` is fine since it includes offset. BTW, which is your desired format? And which purpose do you want it for (presentation to user, interchange with another system, persistence, …)?","body":"You probably don’t want <code>LocalDateTime.now()</code> since anyone would be free to interpret the result in their own time zone, which would be wrong. <code>OffsetDateTime.now()</code> is fine since it includes offset. BTW, which is your desired format? And which purpose do you want it for (presentation to user, interchange with another system, persistence, …)?"},{"owner":{"account_id":25836813,"reputation":343,"user_id":19573093,"display_name":"ner"},"score":0,"creation_date":1659527666,"post_id":73211755,"comment_id":129315220,"body_markdown":"Yes correct. I would like to use it to present to the user.","body":"Yes correct. I would like to use it to present to the user."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1659544319,"post_id":73211755,"comment_id":129321149,"body_markdown":"It&#39;s not clear what your question is, partly due to the ambiguous phrasing, but mostly from lack of information. Is &quot;2022-05-20T11:22:10&quot; an example of the desired output, or the input you need to convert? Specify what information you have as input, and what format you require as output. For example, do you want to use the current time as input? Or do you have a string representing some stored date-time? Or some type of temporal object? What format do you want to display to the user? What time zone should be used for display?","body":"It&#39;s not clear what your question is, partly due to the ambiguous phrasing, but mostly from lack of information. Is &quot;2022-05-20T11:22:10&quot; an example of the desired output, or the input you need to convert? Specify what information you have as input, and what format you require as output. For example, do you want to use the current time as input? Or do you have a string representing some stored date-time? Or some type of temporal object? What format do you want to display to the user? What time zone should be used for display?"}],"answers":[{"tags":[],"owner":{"account_id":25960754,"reputation":11,"user_id":19677428,"display_name":"Alperen Aksu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659466837,"creation_date":1659466749,"answer_id":73212475,"question_id":73211755,"body_markdown":"You can use DateTimeFormatter method    \r\n\r\n        import java.time.format.DateTimeFormatter;\r\n        import java.time.LocalDateTime;\r\n        public class DateTimeFormatter {\r\n            public static void main(String[] args) {\r\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n            LocalDateTime now = LocalDateTime.now();\r\n            System.out.println(dtf.format(now));\r\n        }\r\n    }","title":"How to form date and time in Java","body":"<p>You can use DateTimeFormatter method</p>\n<pre><code>    import java.time.format.DateTimeFormatter;\n    import java.time.LocalDateTime;\n    public class DateTimeFormatter {\n        public static void main(String[] args) {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;);\n        LocalDateTime now = LocalDateTime.now();\n        System.out.println(dtf.format(now));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25836813,"reputation":343,"user_id":19573093,"display_name":"ner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659466837,"creation_date":1659462972,"question_id":73211755,"body_markdown":"I&#39;m using LocalDateTime.now() and OffSetDateTime.now() to retrieve the date and time but it&#39;s not the desired format.\r\nDoes anyone know how to format this format? `&quot;2022-05-20T11:22:10&quot;`\r\n\r\nI&#39;m using MapStruct to do request and response conversions:\r\n\r\n    @Mapper\r\n    public interface ParesMapper {\r\n    \r\n        ParesMapper INSTANCE = Mappers.getMapper(ParesMapper.class);\r\n    \r\n        @Mapping(target = &quot;data&quot;, source = &quot;data&quot;)\r\n        DataParesResponse toResponse(DataPares domain);\r\n    \r\n        @Mapping(target = &quot;data&quot;, source = &quot;data&quot;)\r\n        List&lt;DataParesResponse&gt; toResponseList(List&lt;DataPares&gt; domain);\r\n    \r\n        DataPares toDomain(DataParesRequest dto);\r\n    \r\n        default OffsetDateTime map(LocalDateTime value) {\r\n            return OffsetDateTime.now();\r\n        }\r\n        default LocalDateTime map(OffsetDateTime value) {\r\n            return LocalDateTime.now();\r\n        }\r\n    }\r\n\r\nI look forward to helping you find a solution.","title":"How to form date and time in Java","body":"<p>I'm using LocalDateTime.now() and OffSetDateTime.now() to retrieve the date and time but it's not the desired format.\nDoes anyone know how to format this format? <code>&quot;2022-05-20T11:22:10&quot;</code></p>\n<p>I'm using MapStruct to do request and response conversions:</p>\n<pre><code>@Mapper\npublic interface ParesMapper {\n\n    ParesMapper INSTANCE = Mappers.getMapper(ParesMapper.class);\n\n    @Mapping(target = &quot;data&quot;, source = &quot;data&quot;)\n    DataParesResponse toResponse(DataPares domain);\n\n    @Mapping(target = &quot;data&quot;, source = &quot;data&quot;)\n    List&lt;DataParesResponse&gt; toResponseList(List&lt;DataPares&gt; domain);\n\n    DataPares toDomain(DataParesRequest dto);\n\n    default OffsetDateTime map(LocalDateTime value) {\n        return OffsetDateTime.now();\n    }\n    default LocalDateTime map(OffsetDateTime value) {\n        return LocalDateTime.now();\n    }\n}\n</code></pre>\n<p>I look forward to helping you find a solution.</p>\n"},{"tags":["java","android","audio","merge"],"comments":[{"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"score":0,"creation_date":1659466133,"post_id":73212345,"comment_id":129300196,"body_markdown":"What have you tried? If so, what is the problem with your attempt?","body":"What have you tried? If so, what is the problem with your attempt?"},{"owner":{"account_id":25823093,"reputation":3,"user_id":19561836,"display_name":"Eldin Hukić"},"score":0,"creation_date":1659522096,"post_id":73212345,"comment_id":129313185,"body_markdown":"I have tried using Sequence Input Stream but with that I&#39;m limited to only 2 raw files, besides that I haven&#39;t tried anything else.","body":"I have tried using Sequence Input Stream but with that I&#39;m limited to only 2 raw files, besides that I haven&#39;t tried anything else."}],"owner":{"account_id":25823093,"reputation":3,"user_id":19561836,"display_name":"Eldin Hukić"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659466006,"creation_date":1659466006,"question_id":73212345,"body_markdown":"I want to merge multiple (2 or more, depends on the user) raw audio files into one and save that file locally. This is my code for saving a single raw audio to .mp3 locally with InputStream, but wasn&#39;t able to find a solution for using InputStream for multiple files. \r\n\r\n\r\n        String filePath = requireActivity().getFilesDir().getPath();\r\n        InputStream inputStream;\r\n        FileOutputStream fileOutputStream;\r\n        File file = new File (filePath, &quot;word.mp3&quot;);\r\n\r\n        try {\r\n            inputStream = getResources().openRawResource(R.raw.allah_f_ca);\r\n                    fileOutputStream = new FileOutputStream(file);\r\n\r\n            byte[] buffer = new byte[1024];\r\n            int length;\r\n            while ((length = inputStream.read(buffer)) &gt; 0) {\r\n                fileOutputStream.write(buffer, 0, length);\r\n            }\r\n            inputStream.close();\r\n            fileOutputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } ","title":"Merging multiple raw audio files into new audio file in java (Android Studio)?","body":"<p>I want to merge multiple (2 or more, depends on the user) raw audio files into one and save that file locally. This is my code for saving a single raw audio to .mp3 locally with InputStream, but wasn't able to find a solution for using InputStream for multiple files.</p>\n<pre><code>    String filePath = requireActivity().getFilesDir().getPath();\n    InputStream inputStream;\n    FileOutputStream fileOutputStream;\n    File file = new File (filePath, &quot;word.mp3&quot;);\n\n    try {\n        inputStream = getResources().openRawResource(R.raw.allah_f_ca);\n                fileOutputStream = new FileOutputStream(file);\n\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = inputStream.read(buffer)) &gt; 0) {\n            fileOutputStream.write(buffer, 0, length);\n        }\n        inputStream.close();\n        fileOutputStream.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } \n</code></pre>\n"},{"tags":["java","linux","deeplearning4j"],"answers":[{"tags":[],"owner":{"account_id":3013065,"reputation":797,"user_id":2556041,"display_name":"Paul Dubs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659465947,"creation_date":1659465947,"answer_id":73212339,"question_id":73210980,"body_markdown":"&gt; Caused by: java.lang.UnsatisfiedLinkError: /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libjnind4jcpu.so: /lib64/libm.so.6: version `GLIBC_2.27&#39; not found (required by /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libnd4jcpu.so)\r\n\r\nYour stacktrace tells you exactly what the problem is.\r\n\r\nThis part in particular:\r\n&gt; /lib64/libm.so.6: version `GLIBC_2.27&#39; not found\r\n\r\nThat means that the operating system this is running on is too old (or rather its glibc version).\r\n\r\nThere is a binary that is still compatible with older releases. \r\n\r\nYou can get it by adding the following dependency (adapted to fit the style you&#39;ve posted here):\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;${nd4j.backend}&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n            &lt;classifier&gt;linux-x86_64-compat&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThis new classifier exists since version M1.1: https://deeplearning4j.konduit.ai/release-notes/1.0.0-m1.1\r\n\r\nBreaking default compatibility with old OS versions was necessary to enable the use of some speedups that are available on newer versions of glibc.","title":"no jnind4jcpu in java.library.path when using version M2 of DeepLearning4j","body":"<blockquote>\n<p>Caused by: java.lang.UnsatisfiedLinkError: /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libjnind4jcpu.so: /lib64/libm.so.6: version `GLIBC_2.27' not found (required by /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libnd4jcpu.so)</p>\n</blockquote>\n<p>Your stacktrace tells you exactly what the problem is.</p>\n<p>This part in particular:</p>\n<blockquote>\n<p>/lib64/libm.so.6: version `GLIBC_2.27' not found</p>\n</blockquote>\n<p>That means that the operating system this is running on is too old (or rather its glibc version).</p>\n<p>There is a binary that is still compatible with older releases.</p>\n<p>You can get it by adding the following dependency (adapted to fit the style you've posted here):</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\n            &lt;artifactId&gt;${nd4j.backend}&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n            &lt;classifier&gt;linux-x86_64-compat&lt;/classifier&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>This new classifier exists since version M1.1: <a href=\"https://deeplearning4j.konduit.ai/release-notes/1.0.0-m1.1\" rel=\"nofollow noreferrer\">https://deeplearning4j.konduit.ai/release-notes/1.0.0-m1.1</a></p>\n<p>Breaking default compatibility with old OS versions was necessary to enable the use of some speedups that are available on newer versions of glibc.</p>\n"}],"owner":{"account_id":20262536,"reputation":1,"user_id":14860576,"display_name":"nour rekik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73212339,"answer_count":1,"score":0,"last_activity_date":1659465947,"creation_date":1659458532,"question_id":73210980,"body_markdown":"I am working with DeepLearning4j library. I am running everything on HPC and I generate a jar file to submit with spark-submit. I was using the version beta7 and I didn&#39;t have any problem. Recently, I wanted to upgrade the version to M2 but I got this error: \r\n\r\n``` Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.&lt;init&gt;(NativeOpExecutioner.java:79)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at java.lang.Class.newInstance(Class.java:442)\r\n        at org.nd4j.linalg.factory.Nd4j.initWithBackend(Nd4j.java:5129)\r\n        at org.nd4j.linalg.factory.Nd4j.initContext(Nd4j.java:5044)\r\n        at org.nd4j.linalg.factory.Nd4j.&lt;clinit&gt;(Nd4j.java:269)\r\n        at org.datavec.image.loader.NativeImageLoader.transformImage(NativeImageLoader.java:631)\r\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:554)\r\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:280)\r\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:255)\r\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:249)\r\n        at org.datavec.image.recordreader.BaseImageRecordReader.next(BaseImageRecordReader.java:247)\r\n        at org.datavec.image.recordreader.BaseImageRecordReader.nextRecord(BaseImageRecordReader.java:511)\r\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.initializeUnderlying(RecordReaderDataSetIterator.java:194)\r\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.next(RecordReaderDataSetIterator.java:341)\r\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.next(RecordReaderDataSetIterator.java:421)\r\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.next(RecordReaderDataSetIterator.java:53)\r\n        at com.examples.DeepLearningOnSpark.imageNet_image.streaming.NetworkRetrainingMain.entryPoint(NetworkRetrainingMain.java:55)\r\n        at com.examples.DeepLearningOnSpark.imageNet_image.streaming.NetworkRetrainingMain.main(NetworkRetrainingMain.java:31)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:928)\r\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1007)\r\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1016)\r\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\nCaused by: java.lang.RuntimeException: ND4J is probably missing dependencies. For more information, please refer to: https://deeplearning4j.konduit.ai/nd4j/backend\r\n        at org.nd4j.nativeblas.NativeOpsHolder.&lt;init&gt;(NativeOpsHolder.java:116)\r\n        at org.nd4j.nativeblas.NativeOpsHolder.&lt;clinit&gt;(NativeOpsHolder.java:37)\r\n        ... 34 more\r\nCaused by: java.lang.UnsatisfiedLinkError: no jnind4jcpu in java.library.path\r\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\r\n        at java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n        at java.lang.System.loadLibrary(System.java:1122)\r\n        at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:1800)\r\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1402)\r\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1214)\r\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1190)\r\n        at org.nd4j.linalg.cpu.nativecpu.bindings.Nd4jCpu.&lt;clinit&gt;(Nd4jCpu.java:14)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:348)\r\n        at org.nd4j.common.config.ND4JClassLoading.loadClassByName(ND4JClassLoading.java:62)\r\n        at org.nd4j.common.config.ND4JClassLoading.loadClassByName(ND4JClassLoading.java:56)\r\n        at org.nd4j.nativeblas.NativeOpsHolder.&lt;init&gt;(NativeOpsHolder.java:88)\r\n        ... 35 more\r\nCaused by: java.lang.UnsatisfiedLinkError: /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libjnind4jcpu.so: /lib64/libm.so.6: version `GLIBC_2.27&#39; not found (required by /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libnd4jcpu.so)\r\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1941)\r\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1824)\r\n        at java.lang.Runtime.load0(Runtime.java:809)\r\n        at java.lang.System.load(System.java:1086)\r\n        at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:1747)\r\n        ... 44 more \r\n```\r\n\r\nHere is my pom.xml file:\r\n``` &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;deepLearningSimpleOne&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;dl4j-master.version&gt;1.0.0-M2&lt;/dl4j-master.version&gt;\r\n        &lt;!-- Change the nd4j.backend property to nd4j-cuda-X-platform to use CUDA GPUs --&gt;\r\n        &lt;!-- &lt;nd4j.backend&gt;nd4j-cuda-10.2-platform&lt;/nd4j.backend&gt; --&gt;\r\n        &lt;nd4j.backend&gt;nd4j-native&lt;/nd4j.backend&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;shadedClassifier&gt;bin&lt;/shadedClassifier&gt;\r\n        &lt;scala.binary.version&gt;2.12&lt;/scala.binary.version&gt;\r\n        &lt;maven-compiler-plugin.version&gt;3.8.1&lt;/maven-compiler-plugin.version&gt;\r\n        &lt;maven.minimum.version&gt;3.3.1&lt;/maven.minimum.version&gt;\r\n        &lt;exec-maven-plugin.version&gt;1.4.0&lt;/exec-maven-plugin.version&gt;\r\n        &lt;maven-shade-plugin.version&gt;2.4.3&lt;/maven-shade-plugin.version&gt;\r\n        &lt;jcommon.version&gt;1.0.23&lt;/jcommon.version&gt;\r\n        &lt;jfreechart.version&gt;1.0.13&lt;/jfreechart.version&gt;\r\n        &lt;logback.version&gt;1.1.7&lt;/logback.version&gt;\r\n        &lt;jcommander.version&gt;1.27&lt;/jcommander.version&gt;\r\n        &lt;azure.hadoop.version&gt;2.7.4&lt;/azure.hadoop.version&gt;\r\n        &lt;azure.storage.version&gt;2.0.0&lt;/azure.storage.version&gt;\r\n        &lt;spark.version&gt;2.4.8&lt;/spark.version&gt;\r\n        &lt;aws.sdk.version&gt;1.11.109&lt;/aws.sdk.version&gt;\r\n        &lt;jackson.version&gt;2.5.1&lt;/jackson.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${exec-maven-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;exec&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;executable&gt;java&lt;/executable&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-shade-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                    &lt;shadedClassifierName&gt;${shadedClassifier}&lt;/shadedClassifierName&gt;\r\n                    &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;org/datanucleus/**&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                                    &lt;resource&gt;reference.conf&lt;/resource&gt;\r\n                                &lt;/transformer&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--      Added to enable jar creation using mvn command--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;!-- bind to the packaging phase --&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n\r\n    &lt;dependencies&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resources&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;${spark.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;${nd4j.backend}&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.datavec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;datavec-spark_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dl4j-spark_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dl4j-spark-parameterserver_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.beust&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jcommander&lt;/artifactId&gt;\r\n            &lt;version&gt;${jcommander.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Used for patent classification example --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;deeplearning4j-nlp&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;deeplearning4j-zoo&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-M2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAnyone can help me please. Thank you!","title":"no jnind4jcpu in java.library.path when using version M2 of DeepLearning4j","body":"<p>I am working with DeepLearning4j library. I am running everything on HPC and I generate a jar file to submit with spark-submit. I was using the version beta7 and I didn't have any problem. Recently, I wanted to upgrade the version to M2 but I got this error:</p>\n<pre><code>        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.&lt;init&gt;(NativeOpExecutioner.java:79)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at java.lang.Class.newInstance(Class.java:442)\n        at org.nd4j.linalg.factory.Nd4j.initWithBackend(Nd4j.java:5129)\n        at org.nd4j.linalg.factory.Nd4j.initContext(Nd4j.java:5044)\n        at org.nd4j.linalg.factory.Nd4j.&lt;clinit&gt;(Nd4j.java:269)\n        at org.datavec.image.loader.NativeImageLoader.transformImage(NativeImageLoader.java:631)\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:554)\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:280)\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:255)\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:249)\n        at org.datavec.image.recordreader.BaseImageRecordReader.next(BaseImageRecordReader.java:247)\n        at org.datavec.image.recordreader.BaseImageRecordReader.nextRecord(BaseImageRecordReader.java:511)\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.initializeUnderlying(RecordReaderDataSetIterator.java:194)\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.next(RecordReaderDataSetIterator.java:341)\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.next(RecordReaderDataSetIterator.java:421)\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.next(RecordReaderDataSetIterator.java:53)\n        at com.examples.DeepLearningOnSpark.imageNet_image.streaming.NetworkRetrainingMain.entryPoint(NetworkRetrainingMain.java:55)\n        at com.examples.DeepLearningOnSpark.imageNet_image.streaming.NetworkRetrainingMain.main(NetworkRetrainingMain.java:31)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:928)\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1007)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1016)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.RuntimeException: ND4J is probably missing dependencies. For more information, please refer to: https://deeplearning4j.konduit.ai/nd4j/backend\n        at org.nd4j.nativeblas.NativeOpsHolder.&lt;init&gt;(NativeOpsHolder.java:116)\n        at org.nd4j.nativeblas.NativeOpsHolder.&lt;clinit&gt;(NativeOpsHolder.java:37)\n        ... 34 more\nCaused by: java.lang.UnsatisfiedLinkError: no jnind4jcpu in java.library.path\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:870)\n        at java.lang.System.loadLibrary(System.java:1122)\n        at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:1800)\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1402)\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1214)\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1190)\n        at org.nd4j.linalg.cpu.nativecpu.bindings.Nd4jCpu.&lt;clinit&gt;(Nd4jCpu.java:14)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at org.nd4j.common.config.ND4JClassLoading.loadClassByName(ND4JClassLoading.java:62)\n        at org.nd4j.common.config.ND4JClassLoading.loadClassByName(ND4JClassLoading.java:56)\n        at org.nd4j.nativeblas.NativeOpsHolder.&lt;init&gt;(NativeOpsHolder.java:88)\n        ... 35 more\nCaused by: java.lang.UnsatisfiedLinkError: /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libjnind4jcpu.so: /lib64/libm.so.6: version `GLIBC_2.27' not found (required by /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libnd4jcpu.so)\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1941)\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1824)\n        at java.lang.Runtime.load0(Runtime.java:809)\n        at java.lang.System.load(System.java:1086)\n        at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:1747)\n        ... 44 more \n</code></pre>\n<p>Here is my pom.xml file:</p>\n<pre><code>    &lt;artifactId&gt;deepLearningSimpleOne&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;dl4j-master.version&gt;1.0.0-M2&lt;/dl4j-master.version&gt;\n        &lt;!-- Change the nd4j.backend property to nd4j-cuda-X-platform to use CUDA GPUs --&gt;\n        &lt;!-- &lt;nd4j.backend&gt;nd4j-cuda-10.2-platform&lt;/nd4j.backend&gt; --&gt;\n        &lt;nd4j.backend&gt;nd4j-native&lt;/nd4j.backend&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;shadedClassifier&gt;bin&lt;/shadedClassifier&gt;\n        &lt;scala.binary.version&gt;2.12&lt;/scala.binary.version&gt;\n        &lt;maven-compiler-plugin.version&gt;3.8.1&lt;/maven-compiler-plugin.version&gt;\n        &lt;maven.minimum.version&gt;3.3.1&lt;/maven.minimum.version&gt;\n        &lt;exec-maven-plugin.version&gt;1.4.0&lt;/exec-maven-plugin.version&gt;\n        &lt;maven-shade-plugin.version&gt;2.4.3&lt;/maven-shade-plugin.version&gt;\n        &lt;jcommon.version&gt;1.0.23&lt;/jcommon.version&gt;\n        &lt;jfreechart.version&gt;1.0.13&lt;/jfreechart.version&gt;\n        &lt;logback.version&gt;1.1.7&lt;/logback.version&gt;\n        &lt;jcommander.version&gt;1.27&lt;/jcommander.version&gt;\n        &lt;azure.hadoop.version&gt;2.7.4&lt;/azure.hadoop.version&gt;\n        &lt;azure.storage.version&gt;2.0.0&lt;/azure.storage.version&gt;\n        &lt;spark.version&gt;2.4.8&lt;/spark.version&gt;\n        &lt;aws.sdk.version&gt;1.11.109&lt;/aws.sdk.version&gt;\n        &lt;jackson.version&gt;2.5.1&lt;/jackson.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${exec-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;java&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-shade-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                    &lt;shadedClassifierName&gt;${shadedClassifier}&lt;/shadedClassifierName&gt;\n                    &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;org/datanucleus/**&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                                    &lt;resource&gt;reference.conf&lt;/resource&gt;\n                                &lt;/transformer&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;!--      Added to enable jar creation using mvn command--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;!-- bind to the packaging phase --&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n\n    &lt;dependencies&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n            &lt;artifactId&gt;resources&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\n            &lt;artifactId&gt;${nd4j.backend}&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.datavec&lt;/groupId&gt;\n            &lt;artifactId&gt;datavec-spark_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dl4j-spark_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dl4j-spark-parameterserver_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.beust&lt;/groupId&gt;\n            &lt;artifactId&gt;jcommander&lt;/artifactId&gt;\n            &lt;version&gt;${jcommander.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Used for patent classification example --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n            &lt;artifactId&gt;deeplearning4j-nlp&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n            &lt;artifactId&gt;deeplearning4j-zoo&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n            &lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Anyone can help me please. Thank you!</p>\n"},{"tags":["java","class","jvm","opcode"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1327112654,"post_id":8949933,"comment_id":11204841,"body_markdown":"This isn&#39;t an answer, but to understand why the flag is used I think you also need to understand what the flag meant under the JVM version 1 spec - see http://java.sun.com/docs/books/jvms/first_edition/html/Instructions2.doc7.html#invokespecial","body":"This isn&#39;t an answer, but to understand why the flag is used I think you also need to understand what the flag meant under the JVM version 1 spec - see <a href=\"http://java.sun.com/docs/books/jvms/first_edition/html/Instructions2.doc7.html#invokespecial\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/jvms/first_edition/html/&hellip;</a>"},{"owner":{"account_id":133139,"reputation":22924,"user_id":334274,"accept_rate":100,"display_name":"Jivings"},"score":0,"creation_date":1327140634,"post_id":8949933,"comment_id":11207805,"body_markdown":"Side by side, I can&#39;t see any difference.","body":"Side by side, I can&#39;t see any difference."}],"answers":[{"tags":[],"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1659465832,"creation_date":1327118853,"answer_id":8950564,"question_id":8949933,"body_markdown":"ACC_SUPER was introduced to correct a problem with the invocation of super methods. The ACC_SUPER flag marks a class as compiled for the changed semantics of the opcode 183 instruction. It&#39;s purpose is similar to that of the class file version number as it allows the JVM to detect whether a class was compiled for the older or newer semantics of that instruction. Java 1.0.2 did not set and ignored ACC_SUPER while Java 1.1 and later always sets ACC_SUPER.\r\n\r\nBefore Java 1.1 the byte code instruction with opcode 183 that is now called `invokespecial` was called `invokenonvirtual` and had a partially different specification. It was used whenever instance methods had to be invoked without a virtual method lookup. This was the case for private methods, instance initializers (constructors) and to implement method invocations on `super`. But the latter case caused problems with evolving class libraries.\r\n\r\nA method reference in byte code (`CONSTANT_Methodref_info`) not only defines the name and the argument and return types of a method but also the class to which it belongs. Opcode 183 gets such a method reference parameter and was meant to directly invoke the referenced method from the specified class without further lookups. In the case of invocations on `super` it was the compilers responsibility to resolve the closest super class that implements this method and generate a reference to it into the byte code.\r\n\r\nSince Java 1.1 it was changed to essentially ignore the class referenced in `CONSTANT_Methodref_info` and to instead do the lookup for the closest super method with the given method name and signature in the JVM. This is usually done now when the class gets loaded or right before the instruction is executed or JIT compiled the first time.\r\n\r\nHere is an example why this change was neccessary. In Java 1.0.2 the AWT classes `Container` and `Component` were defined this way:\r\n\r\n    class Component\r\n    {\r\n        public void paint( Graphics g ) {}\r\n    }\r\n\r\n    class Container extends Component\r\n    {\r\n        // inherits paint from Component but doesn&#39;t override it\r\n    }\r\n\r\nIn Java 1.1 the class `Container` was changed to have its own implementation of `paint`:\r\n\r\n    class Container extends Component\r\n    {\r\n        public void paint( Graphics g ) {/*...*/}\r\n    }\r\n\r\nNow when you had a direct or indirect subclass of `Container` that made a call on `super.paint(g)` and compiled it for 1.0.2 it generated a `invokenonvirtual` instruction for `Component.paint` since this was the first parent that had this method. But if you used this compiled class on a JVM that also had `Container.paint` it would still have called `Component.paint` which is not what you would expect.\r\n\r\nOn the other hand, when you compiled the class for 1.1 and executed it on a 1.0.2 JVM it would throw a AbstractMethodError or more likely for VMs of that era simply crash. To avoid the crash you had to write `((Component)super).paint(g)` and compile it with a 1.1 compiler to get the desired behaviour in either VM. This would set ACC_SUPER but still generate the instruction to call `Component.paint`. A 1.0.2 VM would ignore ACC_SUPER and go straight to invoke `Component.paint` which is fine while a 1.1 VM would find ACC_SUPER set and thus do the lookup itself which would make it invoke `Container.paint` even though the byte code method reference was `Component.paint`.\r\n\r\nYou can find more about this in [this old post on the ikvm.net weblog][1].\r\n\r\n  [1]: https://web.archive.org/web/20210518044444/weblog.ikvm.net/PermaLink.aspx?guid=99fcff6c-8ab7-4358-9467-ddf71dd20acd","title":"What is the purpose of the ACC_SUPER access flag on Java Class files?","body":"<p>ACC_SUPER was introduced to correct a problem with the invocation of super methods. The ACC_SUPER flag marks a class as compiled for the changed semantics of the opcode 183 instruction. It's purpose is similar to that of the class file version number as it allows the JVM to detect whether a class was compiled for the older or newer semantics of that instruction. Java 1.0.2 did not set and ignored ACC_SUPER while Java 1.1 and later always sets ACC_SUPER.</p>\n<p>Before Java 1.1 the byte code instruction with opcode 183 that is now called <code>invokespecial</code> was called <code>invokenonvirtual</code> and had a partially different specification. It was used whenever instance methods had to be invoked without a virtual method lookup. This was the case for private methods, instance initializers (constructors) and to implement method invocations on <code>super</code>. But the latter case caused problems with evolving class libraries.</p>\n<p>A method reference in byte code (<code>CONSTANT_Methodref_info</code>) not only defines the name and the argument and return types of a method but also the class to which it belongs. Opcode 183 gets such a method reference parameter and was meant to directly invoke the referenced method from the specified class without further lookups. In the case of invocations on <code>super</code> it was the compilers responsibility to resolve the closest super class that implements this method and generate a reference to it into the byte code.</p>\n<p>Since Java 1.1 it was changed to essentially ignore the class referenced in <code>CONSTANT_Methodref_info</code> and to instead do the lookup for the closest super method with the given method name and signature in the JVM. This is usually done now when the class gets loaded or right before the instruction is executed or JIT compiled the first time.</p>\n<p>Here is an example why this change was neccessary. In Java 1.0.2 the AWT classes <code>Container</code> and <code>Component</code> were defined this way:</p>\n<pre><code>class Component\n{\n    public void paint( Graphics g ) {}\n}\n\nclass Container extends Component\n{\n    // inherits paint from Component but doesn't override it\n}\n</code></pre>\n<p>In Java 1.1 the class <code>Container</code> was changed to have its own implementation of <code>paint</code>:</p>\n<pre><code>class Container extends Component\n{\n    public void paint( Graphics g ) {/*...*/}\n}\n</code></pre>\n<p>Now when you had a direct or indirect subclass of <code>Container</code> that made a call on <code>super.paint(g)</code> and compiled it for 1.0.2 it generated a <code>invokenonvirtual</code> instruction for <code>Component.paint</code> since this was the first parent that had this method. But if you used this compiled class on a JVM that also had <code>Container.paint</code> it would still have called <code>Component.paint</code> which is not what you would expect.</p>\n<p>On the other hand, when you compiled the class for 1.1 and executed it on a 1.0.2 JVM it would throw a AbstractMethodError or more likely for VMs of that era simply crash. To avoid the crash you had to write <code>((Component)super).paint(g)</code> and compile it with a 1.1 compiler to get the desired behaviour in either VM. This would set ACC_SUPER but still generate the instruction to call <code>Component.paint</code>. A 1.0.2 VM would ignore ACC_SUPER and go straight to invoke <code>Component.paint</code> which is fine while a 1.1 VM would find ACC_SUPER set and thus do the lookup itself which would make it invoke <code>Container.paint</code> even though the byte code method reference was <code>Component.paint</code>.</p>\n<p>You can find more about this in <a href=\"https://web.archive.org/web/20210518044444/weblog.ikvm.net/PermaLink.aspx?guid=99fcff6c-8ab7-4358-9467-ddf71dd20acd\" rel=\"nofollow noreferrer\">this old post on the ikvm.net weblog</a>.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659393448,"creation_date":1659393448,"answer_id":73200244,"question_id":8949933,"body_markdown":"The `ACC_SUPER` flag has not done anything since Java 8.\r\n\r\nPer [JEP draft: Better-defined JVM class file validation](https://openjdk.org/jeps/8267650):\r\n\r\n&gt; The `ACC_SUPER` flag, which has no effect since Java 8, will no longer be specified.\r\n\r\nWhile I haven&#39;t found a single concise easily-linkable authoritative source, it seems that the functionality was removed prior to Java 8, in a Java 7 security update.","title":"What is the purpose of the ACC_SUPER access flag on Java Class files?","body":"<p>The <code>ACC_SUPER</code> flag has not done anything since Java 8.</p>\n<p>Per <a href=\"https://openjdk.org/jeps/8267650\" rel=\"nofollow noreferrer\">JEP draft: Better-defined JVM class file validation</a>:</p>\n<blockquote>\n<p>The <code>ACC_SUPER</code> flag, which has no effect since Java 8, will no longer be specified.</p>\n</blockquote>\n<p>While I haven't found a single concise easily-linkable authoritative source, it seems that the functionality was removed prior to Java 8, in a Java 7 security update.</p>\n"}],"owner":{"account_id":133139,"reputation":22924,"user_id":334274,"accept_rate":100,"display_name":"Jivings"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4890,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":8950564,"answer_count":2,"score":34,"last_activity_date":1659465832,"creation_date":1327108927,"question_id":8949933,"body_markdown":"The `invokespecial` JVM instruction is used for calling initialisation methods (`&lt;init&gt;`) when creating new objects. The description of the instruction suggests (but doesn&#39;t clarify) that the decision on whether to call the constructor of a superclass or a constructor of the current class depends on the state of the `ACC_SUPER` flag set within the `class` file.\n\nFrom the Sun JVM Specification:\n\n&gt; Next, the resolved method is selected for invocation unless all of the following conditions are true:\n&gt;\n&gt;- The ACC_SUPER flag (see Table 4.1, &quot;Class access and property modifiers&quot;) is set for the current class.\n\n-- [Source][1] (`invokespecial` opcode definition)\n\n&gt; The setting of the ACC_SUPER flag indicates which of two alternative semantics for its invokespecial instruction the Java virtual machine is to express; the ACC_SUPER flag exists for backward compatibility for code compiled by Sun&#39;s older compilers for the Java programming language. All new implementations of the Java virtual machine should implement the semantics for invokespecial documented in this specification. All new compilers to the instruction set of the Java virtual machine should set the ACC_SUPER flag. Sun&#39;s older compilers generated ClassFile flags with ACC_SUPER unset. Sun&#39;s older Java virtual machine implementations ignore the flag if it is set.\n\n-- [Source][2] (`ClassFile` format)\n\nThe definition states that the flag is for backward compatibility with old compilers. However it goes on to contradict with `Sun&#39;s older Java virtual machine implementations ignore the flag if it is set.` \n\nIs the flag still used with the `invokespecial` opcode? From what I can tell, it seems to hold no purpose and I can&#39;t find a resource to suggest it ever did.\n\nThanks.\n\n\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/Instructions2.doc6.html#invokespecial\n  [2]: http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html","title":"What is the purpose of the ACC_SUPER access flag on Java Class files?","body":"<p>The <code>invokespecial</code> JVM instruction is used for calling initialisation methods (<code>&lt;init&gt;</code>) when creating new objects. The description of the instruction suggests (but doesn't clarify) that the decision on whether to call the constructor of a superclass or a constructor of the current class depends on the state of the <code>ACC_SUPER</code> flag set within the <code>class</code> file.</p>\n<p>From the Sun JVM Specification:</p>\n<blockquote>\n<p>Next, the resolved method is selected for invocation unless all of the following conditions are true:</p>\n<ul>\n<li>The ACC_SUPER flag (see Table 4.1, &quot;Class access and property modifiers&quot;) is set for the current class.</li>\n</ul>\n</blockquote>\n<p>-- <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/Instructions2.doc6.html#invokespecial\" rel=\"noreferrer\">Source</a> (<code>invokespecial</code> opcode definition)</p>\n<blockquote>\n<p>The setting of the ACC_SUPER flag indicates which of two alternative semantics for its invokespecial instruction the Java virtual machine is to express; the ACC_SUPER flag exists for backward compatibility for code compiled by Sun's older compilers for the Java programming language. All new implementations of the Java virtual machine should implement the semantics for invokespecial documented in this specification. All new compilers to the instruction set of the Java virtual machine should set the ACC_SUPER flag. Sun's older compilers generated ClassFile flags with ACC_SUPER unset. Sun's older Java virtual machine implementations ignore the flag if it is set.</p>\n</blockquote>\n<p>-- <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html\" rel=\"noreferrer\">Source</a> (<code>ClassFile</code> format)</p>\n<p>The definition states that the flag is for backward compatibility with old compilers. However it goes on to contradict with <code>Sun's older Java virtual machine implementations ignore the flag if it is set.</code></p>\n<p>Is the flag still used with the <code>invokespecial</code> opcode? From what I can tell, it seems to hold no purpose and I can't find a resource to suggest it ever did.</p>\n<p>Thanks.</p>\n"},{"tags":["java","opencv","image-processing","javacv","omr"],"comments":[{"owner":{"account_id":7007079,"reputation":12271,"user_id":5375403,"display_name":"Jiri Tousek"},"score":0,"creation_date":1445501266,"post_id":33276073,"comment_id":54352828,"body_markdown":"The error looks like the problem was not heap space limit reached, but rather not enough RAM - Java wanted to allocate more but the OS couldn&#39;t give it more.","body":"The error looks like the problem was not heap space limit reached, but rather not enough RAM - Java wanted to allocate more but the OS couldn&#39;t give it more."},{"owner":{"account_id":1621627,"reputation":57,"user_id":3374256,"accept_rate":92,"display_name":"afnan1992"},"score":0,"creation_date":1445501388,"post_id":33276073,"comment_id":54352897,"body_markdown":"when this error came the ram was at 80 percent of the total 4 gb. It does not seem like a ram issue. The application was occupying 340 mb in the task manager when the page counter was 200.","body":"when this error came the ram was at 80 percent of the total 4 gb. It does not seem like a ram issue. The application was occupying 340 mb in the task manager when the page counter was 200."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1445504565,"post_id":33276073,"comment_id":54354818,"body_markdown":"It&#39;s clearly a RAM issue, and as @JiriTousek said, not Java&#39;s heap, so increasing the heap size shouldn&#39;t even help.","body":"It&#39;s clearly a RAM issue, and as @JiriTousek said, not Java&#39;s heap, so increasing the heap size shouldn&#39;t even help."}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1445511659,"creation_date":1445504951,"answer_id":33277322,"question_id":33276073,"body_markdown":"Your code looks weird. You&#39;re assigning `IplImage` objects to your variables, only to overwrite them instantly. You&#39;re also leaking at least one presumably native resource in the following case:\r\n\r\n    imgxc1 = cvCreateImage(cvGetSize(imgx), imgx.depth(), imgx.nChannels());\r\n    imgxc1 = imgx.clone();//error comes here\r\n\r\nThe original `imgxc1` object that was created with `cvCreateImage` has no longer references to it, but you didn&#39;t release the resources.\r\n\r\nIf how references work in Java is unclear to you, I&#39;d suggest you do some work on that before continuing with your work. You&#39;ll get rid of your redundant double assignment lines and the code will be clearer too.\r\n\r\nEdit: Since I&#39;ve already wasted time on this, let&#39;s go through `init()` line by line.\r\n\r\n    protected boolean init () throws UnableToLoadImage{\r\n        imgx = new IplImage();    // Create a new IplImage() even though we won&#39;t use it\r\n\r\n        imgxc1 = new IplImage();  // Same here. Just food for the garbage collector\r\n\r\n        imgxd1 = new IplImage();  // Third completely unnecessary object creation\r\n\r\n        imgx = cvLoadImage(path+DR+filename);  // Load an image, the previously created object in imgx is now GC food\r\n\r\n        if(imgx == null)throw new UnableToLoadImage(path+DR+filename);\r\n        //cvSaveImage(&quot;debug/&quot;+filename, imgx);\r\n\r\n        imgxc1 = cvCreateImage(cvGetSize(imgx), imgx.depth(), imgx.nChannels());  // Create an image with native resources, previous object is GC food\r\n\r\n        imgxc1 = imgx.clone();    // Third time assignment to imgxc1, previous object isn&#39;t GC food since it holds native resources\r\n        imgxd1 = cvCreateImage(cvGetSize(imgx), IPL_DEPTH_8U, 1);  // The first proper use of cvCreateImage\r\n        cvCvtColor(imgxc1, imgxd1, CV_BGR2GRAY);  // Presumably ok\r\n        return (imgx != null &amp;&amp; imgxc1 != null &amp;&amp; imgxd1 != null)?true:false;  // Doesn&#39;t need the ternary operator at all\r\n    }\r\n\r\nThe code shows a huge misunderstanding of Java, but if there hadn&#39;t been native resources involved, it would only result in some extra object creations which would then be handled by the garbage collector.","title":"JavaCV Insufficient memory, failed to allocate memory","body":"<p>Your code looks weird. You're assigning <code>IplImage</code> objects to your variables, only to overwrite them instantly. You're also leaking at least one presumably native resource in the following case:</p>\n\n<pre><code>imgxc1 = cvCreateImage(cvGetSize(imgx), imgx.depth(), imgx.nChannels());\nimgxc1 = imgx.clone();//error comes here\n</code></pre>\n\n<p>The original <code>imgxc1</code> object that was created with <code>cvCreateImage</code> has no longer references to it, but you didn't release the resources.</p>\n\n<p>If how references work in Java is unclear to you, I'd suggest you do some work on that before continuing with your work. You'll get rid of your redundant double assignment lines and the code will be clearer too.</p>\n\n<p>Edit: Since I've already wasted time on this, let's go through <code>init()</code> line by line.</p>\n\n<pre><code>protected boolean init () throws UnableToLoadImage{\n    imgx = new IplImage();    // Create a new IplImage() even though we won't use it\n\n    imgxc1 = new IplImage();  // Same here. Just food for the garbage collector\n\n    imgxd1 = new IplImage();  // Third completely unnecessary object creation\n\n    imgx = cvLoadImage(path+DR+filename);  // Load an image, the previously created object in imgx is now GC food\n\n    if(imgx == null)throw new UnableToLoadImage(path+DR+filename);\n    //cvSaveImage(\"debug/\"+filename, imgx);\n\n    imgxc1 = cvCreateImage(cvGetSize(imgx), imgx.depth(), imgx.nChannels());  // Create an image with native resources, previous object is GC food\n\n    imgxc1 = imgx.clone();    // Third time assignment to imgxc1, previous object isn't GC food since it holds native resources\n    imgxd1 = cvCreateImage(cvGetSize(imgx), IPL_DEPTH_8U, 1);  // The first proper use of cvCreateImage\n    cvCvtColor(imgxc1, imgxd1, CV_BGR2GRAY);  // Presumably ok\n    return (imgx != null &amp;&amp; imgxc1 != null &amp;&amp; imgxd1 != null)?true:false;  // Doesn't need the ternary operator at all\n}\n</code></pre>\n\n<p>The code shows a huge misunderstanding of Java, but if there hadn't been native resources involved, it would only result in some extra object creations which would then be handled by the garbage collector.</p>\n"}],"owner":{"account_id":1621627,"reputation":57,"user_id":3374256,"accept_rate":92,"display_name":"afnan1992"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33277322,"answer_count":1,"score":0,"last_activity_date":1659465610,"creation_date":1445500949,"question_id":33276073,"body_markdown":"I am developing an OMR(Optical Mark Recognition) application using JavaCV,java interface for OpenCV.The application runs fine for 200 images but after that it fails to allocate memory for IplImage in my code.The allocation error comes when I try to clone imgx and assign it to imgxc1.Can you please suggest a programmatic fix for it? Increasing the heap size seems to be a temporary solution?\r\n\r\nHere is the initialization code(where the exception occurs):\r\n\r\n    protected boolean init () throws UnableToLoadImage{\r\n\t\timgx = new IplImage();\r\n\t\timgxc1 = new IplImage();\r\n\t\timgxd1 = new IplImage();\r\n\t\timgx = cvLoadImage(path+DR+filename);\r\n\t\tif(imgx == null)throw new UnableToLoadImage(path+DR+filename);\r\n\t\t//cvSaveImage(&quot;debug/&quot;+filename, imgx);\r\n\t\timgxc1 = cvCreateImage(cvGetSize(imgx), imgx.depth(), imgx.nChannels());\r\n\t\timgxc1 = imgx.clone();//error comes here\r\n\t\timgxd1 = cvCreateImage(cvGetSize(imgx), IPL_DEPTH_8U, 1);\r\n\t\tcvCvtColor(imgxc1, imgxd1, CV_BGR2GRAY);\r\n\t\treturn (imgx != null &amp;&amp; imgxc1 != null &amp;&amp; imgxd1 != null)?true:false;\r\n\t}\r\n\r\n Here is the cleaning up code:\r\n\r\n    public void release() {\r\n\t\tif(imgx != null){\r\n\r\n\t\t\timgx.release();\r\n\t\t\timgxc1.release();\r\n\t\t\timgxd1.release();\r\n\r\n\t\t\tcvReleaseImage(imgx);\r\n\t\t\tcvReleaseImage(imgxc1);\r\n\t\t\tcvReleaseImage(imgxd1);\r\n\t\t}\r\n\r\n\t}\r\nStack trace:\r\n\r\n    OpenCV Error: Insufficient memory (Failed to allocate 6454368 bytes) in cv::OutOfMemoryError, file ..\\..\\..\\..\\opencv\\modules\\core\\src\\alloc.cpp, line 52\r\n\r\n\tat org.bytedeco.javacpp.opencv_core.cvCloneImage(Native Method)\r\n\tat org.bytedeco.javacpp.helper.opencv_core$AbstractIplImage.clone(opencv_core.java:1005)\r\n\tat com.omr.app.OmrModel.init(OmrModel.java:200)\r\n\tat com.omr.app.OmrController$2.doInBackground(OmrController.java:328)\r\n\tat com.omr.app.OmrController$2.doInBackground(OmrController.java:1)\r\n\tat javax.swing.SwingWorker$1.call(Unknown Source)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat javax.swing.SwingWorker.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)","title":"JavaCV Insufficient memory, failed to allocate memory","body":"<p>I am developing an OMR(Optical Mark Recognition) application using JavaCV,java interface for OpenCV.The application runs fine for 200 images but after that it fails to allocate memory for IplImage in my code.The allocation error comes when I try to clone imgx and assign it to imgxc1.Can you please suggest a programmatic fix for it? Increasing the heap size seems to be a temporary solution?</p>\n\n<p>Here is the initialization code(where the exception occurs):</p>\n\n<pre><code>protected boolean init () throws UnableToLoadImage{\n    imgx = new IplImage();\n    imgxc1 = new IplImage();\n    imgxd1 = new IplImage();\n    imgx = cvLoadImage(path+DR+filename);\n    if(imgx == null)throw new UnableToLoadImage(path+DR+filename);\n    //cvSaveImage(\"debug/\"+filename, imgx);\n    imgxc1 = cvCreateImage(cvGetSize(imgx), imgx.depth(), imgx.nChannels());\n    imgxc1 = imgx.clone();//error comes here\n    imgxd1 = cvCreateImage(cvGetSize(imgx), IPL_DEPTH_8U, 1);\n    cvCvtColor(imgxc1, imgxd1, CV_BGR2GRAY);\n    return (imgx != null &amp;&amp; imgxc1 != null &amp;&amp; imgxd1 != null)?true:false;\n}\n</code></pre>\n\n<p>Here is the cleaning up code:</p>\n\n<pre><code>public void release() {\n    if(imgx != null){\n\n        imgx.release();\n        imgxc1.release();\n        imgxd1.release();\n\n        cvReleaseImage(imgx);\n        cvReleaseImage(imgxc1);\n        cvReleaseImage(imgxd1);\n    }\n\n}\n</code></pre>\n\n<p>Stack trace:</p>\n\n<pre><code>OpenCV Error: Insufficient memory (Failed to allocate 6454368 bytes) in cv::OutOfMemoryError, file ..\\..\\..\\..\\opencv\\modules\\core\\src\\alloc.cpp, line 52\n\nat org.bytedeco.javacpp.opencv_core.cvCloneImage(Native Method)\nat org.bytedeco.javacpp.helper.opencv_core$AbstractIplImage.clone(opencv_core.java:1005)\nat com.omr.app.OmrModel.init(OmrModel.java:200)\nat com.omr.app.OmrController$2.doInBackground(OmrController.java:328)\nat com.omr.app.OmrController$2.doInBackground(OmrController.java:1)\nat javax.swing.SwingWorker$1.call(Unknown Source)\nat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\nat java.util.concurrent.FutureTask.run(Unknown Source)\nat javax.swing.SwingWorker.run(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","jsp","servlets","jakarta-ee","attributes"],"comments":[{"owner":{"account_id":5830092,"reputation":498,"user_id":4594941,"display_name":"pirela"},"score":0,"creation_date":1659466107,"post_id":73211618,"comment_id":129300188,"body_markdown":"could you show a sample of your hasmap tasks ?    \nI&#39;m not sure of your tasks.values in the request. Maybe only tasks ?","body":"could you show a sample of your hasmap tasks ?     I&#39;m not sure of your tasks.values in the request. Maybe only tasks ?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1659485483,"post_id":73211618,"comment_id":129304833,"body_markdown":"When you iterate over the map, you get a sequence of `Map.Entry&lt;Integer, Task&gt;`, not a sequence of `Task`. See @BalusC&#39;s answer in the duplicate.","body":"When you iterate over the map, you get a sequence of <code>Map.Entry&lt;Integer, Task&gt;</code>, not a sequence of <code>Task</code>. See @BalusC&#39;s answer in the duplicate."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1659514715,"post_id":73211618,"comment_id":129310376,"body_markdown":"@user207421 The attribute is assigned as `tasks.values()` so the iteration is over Task not `Map.Entry`?","body":"@user207421 The attribute is assigned as <code>tasks.values()</code> so the iteration is over Task not <code>Map.Entry</code>?"}],"answers":[{"tags":[],"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1659465608,"creation_date":1659465608,"answer_id":73212276,"question_id":73211618,"body_markdown":"Probably your problem could be with your web.xml header, try using this to make it evaluate EL correctly:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.5&quot; \r\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n\r\nAside this, I&#39;m not in touch with jsp by a long time, but I guess you can access those request attributes just calling them, without this requestScope, calling just ``tasks`` or getting them from the request ``request.getAttribute(&quot;tasks&quot;)``\r\n","title":"jsp doesn&#39;t see an attribute transferred from servlet","body":"<p>Probably your problem could be with your web.xml header, try using this to make it evaluate EL correctly:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;2.5&quot; \nxmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\n</code></pre>\n<p>Aside this, I'm not in touch with jsp by a long time, but I guess you can access those request attributes just calling them, without this requestScope, calling just <code>tasks</code> or getting them from the request <code>request.getAttribute(&quot;tasks&quot;)</code></p>\n"}],"owner":{"account_id":22747121,"reputation":23,"user_id":16907763,"display_name":"Matisiuk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1659485490,"accepted_answer_id":73212276,"answer_count":1,"score":1,"last_activity_date":1659465608,"creation_date":1659462135,"question_id":73211618,"body_markdown":"can&#39;t find the cause of my problem the second day. I set attribute to request and forward to a jsp file. But when i try to get it from requestScope, i find out that there is no such attribute.\r\nLook at my code:\r\n\r\nservlet:\r\n```\r\npackage api.servlets;\r\n\r\nimport api.model.Task;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\n\r\n@WebServlet(&quot;/&quot;)\r\npublic class GetStartPageServlet extends HttpServlet {\r\n    private Map&lt;Integer, Task&gt; tasks;\r\n\r\n    @Override\r\n    public void init() {\r\n        final Object tasks = getServletContext().getAttribute(&quot;tasks&quot;);\r\n\r\n        if (tasks instanceof ConcurrentHashMap){\r\n            this.tasks = (ConcurrentHashMap&lt;Integer, Task&gt;) tasks;\r\n        }else {\r\n            throw new IllegalStateException(&quot;Your repo does not initialize!&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        request.setAttribute(&quot;tasks&quot;, tasks.values());\r\n        getServletContext().getRequestDispatcher(&quot;/WEB-INF/view/start-page.jsp&quot;).forward(request, response);\r\n    }\r\n}\r\n```\r\n\r\njsp:\r\n```\r\n&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot;\r\n         pageEncoding=&quot;UTF-8&quot; %&gt;\r\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Сервис задач&lt;/title&gt;\r\n    &lt;style&gt;\r\n        &lt;%@include file=&quot;/WEB-INF/css/style.css&quot; %&gt;\r\n    &lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h2&gt;Все задачи&lt;/h2&gt;\r\n&lt;c:forEach var=&quot;task&quot; items=&quot;${requestScope.tasks}&quot;&gt;\r\n    &lt;ul&gt;\r\n        Название: &lt;c:out value=&quot;${task.title}&quot;/&gt; &lt;br&gt;\r\n        Описание: &lt;c:out value=&quot;${task.description}&quot;/&gt; &lt;br&gt;\r\n\r\n        &lt;form method=&quot;get&quot; action=&quot;&lt;c:url value=&#39;/update-task&#39;/&gt;&quot;&gt;\r\n            &lt;label&gt;\r\n                &lt;input type=&quot;number&quot; hidden name=&quot;id&quot; value=&quot;${task.id}&quot;&gt;\r\n            &lt;/label&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;Редактировать&quot;&gt;\r\n        &lt;/form&gt;\r\n        &lt;form method=&quot;post&quot; action=&quot;&lt;c:url value=&#39;/delete-task&#39;/&gt;&quot;&gt;\r\n            &lt;label&gt;\r\n                &lt;input type=&quot;number&quot; hidden name=&quot;id&quot; value=&quot;${task.id}&quot;&gt;\r\n            &lt;/label&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;Удалить&quot;&gt;\r\n        &lt;/form&gt;\r\n    &lt;/ul&gt;\r\n    &lt;hr/&gt;\r\n&lt;/c:forEach&gt;\r\n&lt;h2&gt;Создание новой задачи&lt;/h2&gt;\r\n&lt;form method=&quot;post&quot; action=&quot;&lt;c:url value=&#39;/add-task&#39;/&gt;&quot;&gt;\r\n    &lt;label&gt;Название &lt;input type=&quot;text&quot; name=&quot;title&quot;/&gt;&lt;/label&gt;&lt;br&gt;\r\n    &lt;label&gt;Описание &lt;input type=&quot;text&quot; name=&quot;description&quot;/&gt;&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;Ok&quot; name=&quot;Ok&quot;/&gt;\r\n&lt;/form&gt;\r\n&lt;h2&gt;Получить JSON задачи по id&lt;/h2&gt;\r\n&lt;form method=&quot;get&quot; action=&quot;&lt;c:url value=&#39;/get-task&#39;/&gt;&quot;&gt;\r\n    &lt;label&gt;ID задачи &lt;input type=&quot;number&quot; name=&quot;id&quot;&gt;&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;Получить данные задачи&quot; name=&quot;Ok&quot;&gt;&lt;br&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nrequestScope doesn&#39;t have field like tasks, and what i see in browser:\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yM41t.png","title":"jsp doesn&#39;t see an attribute transferred from servlet","body":"<p>can't find the cause of my problem the second day. I set attribute to request and forward to a jsp file. But when i try to get it from requestScope, i find out that there is no such attribute.\nLook at my code:</p>\n<p>servlet:</p>\n<pre><code>package api.servlets;\n\nimport api.model.Task;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\n\n@WebServlet(&quot;/&quot;)\npublic class GetStartPageServlet extends HttpServlet {\n    private Map&lt;Integer, Task&gt; tasks;\n\n    @Override\n    public void init() {\n        final Object tasks = getServletContext().getAttribute(&quot;tasks&quot;);\n\n        if (tasks instanceof ConcurrentHashMap){\n            this.tasks = (ConcurrentHashMap&lt;Integer, Task&gt;) tasks;\n        }else {\n            throw new IllegalStateException(&quot;Your repo does not initialize!&quot;);\n        }\n    }\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        request.setAttribute(&quot;tasks&quot;, tasks.values());\n        getServletContext().getRequestDispatcher(&quot;/WEB-INF/view/start-page.jsp&quot;).forward(request, response);\n    }\n}\n</code></pre>\n<p>jsp:</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot;\n         pageEncoding=&quot;UTF-8&quot; %&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Сервис задач&lt;/title&gt;\n    &lt;style&gt;\n        &lt;%@include file=&quot;/WEB-INF/css/style.css&quot; %&gt;\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;Все задачи&lt;/h2&gt;\n&lt;c:forEach var=&quot;task&quot; items=&quot;${requestScope.tasks}&quot;&gt;\n    &lt;ul&gt;\n        Название: &lt;c:out value=&quot;${task.title}&quot;/&gt; &lt;br&gt;\n        Описание: &lt;c:out value=&quot;${task.description}&quot;/&gt; &lt;br&gt;\n\n        &lt;form method=&quot;get&quot; action=&quot;&lt;c:url value='/update-task'/&gt;&quot;&gt;\n            &lt;label&gt;\n                &lt;input type=&quot;number&quot; hidden name=&quot;id&quot; value=&quot;${task.id}&quot;&gt;\n            &lt;/label&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Редактировать&quot;&gt;\n        &lt;/form&gt;\n        &lt;form method=&quot;post&quot; action=&quot;&lt;c:url value='/delete-task'/&gt;&quot;&gt;\n            &lt;label&gt;\n                &lt;input type=&quot;number&quot; hidden name=&quot;id&quot; value=&quot;${task.id}&quot;&gt;\n            &lt;/label&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Удалить&quot;&gt;\n        &lt;/form&gt;\n    &lt;/ul&gt;\n    &lt;hr/&gt;\n&lt;/c:forEach&gt;\n&lt;h2&gt;Создание новой задачи&lt;/h2&gt;\n&lt;form method=&quot;post&quot; action=&quot;&lt;c:url value='/add-task'/&gt;&quot;&gt;\n    &lt;label&gt;Название &lt;input type=&quot;text&quot; name=&quot;title&quot;/&gt;&lt;/label&gt;&lt;br&gt;\n    &lt;label&gt;Описание &lt;input type=&quot;text&quot; name=&quot;description&quot;/&gt;&lt;/label&gt;&lt;br&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Ok&quot; name=&quot;Ok&quot;/&gt;\n&lt;/form&gt;\n&lt;h2&gt;Получить JSON задачи по id&lt;/h2&gt;\n&lt;form method=&quot;get&quot; action=&quot;&lt;c:url value='/get-task'/&gt;&quot;&gt;\n    &lt;label&gt;ID задачи &lt;input type=&quot;number&quot; name=&quot;id&quot;&gt;&lt;/label&gt;&lt;br&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Получить данные задачи&quot; name=&quot;Ok&quot;&gt;&lt;br&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>requestScope doesn't have field like tasks, and what i see in browser:\n<a href=\"https://i.stack.imgur.com/yM41t.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1659449399,"post_id":73208849,"comment_id":129294246,"body_markdown":"The [Maven Shade Plugin](https://maven.apache.org/plugins/maven-shade-plugin/) can be used to create a &quot;fat JAR&quot; = a JAR file that contains all the dependencies of an application (so that you need only one JAR file).","body":"The <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">Maven Shade Plugin</a> can be used to create a &quot;fat JAR&quot; = a JAR file that contains all the dependencies of an application (so that you need only one JAR file)."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1659449647,"post_id":73208849,"comment_id":129294358,"body_markdown":"Will this allow me to achieve the objectives mentioned?","body":"Will this allow me to achieve the objectives mentioned?"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1659450736,"post_id":73208849,"comment_id":129294816,"body_markdown":"It allows you to build a single JAR file that contains everything the application needs. It can also make it an [executable JAR](https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html) for you. Writing the script is something you need to do youself (but that script will be only one or two lines) and putting everything in a zip file is also you need to do yourself (but that&#39;s a simple terminal command). (I didn&#39;t downvote).","body":"It allows you to build a single JAR file that contains everything the application needs. It can also make it an <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html\" rel=\"nofollow noreferrer\">executable JAR</a> for you. Writing the script is something you need to do youself (but that script will be only one or two lines) and putting everything in a zip file is also you need to do yourself (but that&#39;s a simple terminal command). (I didn&#39;t downvote)."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1659457609,"post_id":73208849,"comment_id":129297538,"body_markdown":"Yes, I have already written the script. Just need to include it in the zip with the app and dependencies.\nWait, the shade plugin does not have the ability to package all of this in a zip file? It&#39;d useful if it did as part of the build process.","body":"Yes, I have already written the script. Just need to include it in the zip with the app and dependencies. Wait, the shade plugin does not have the ability to package all of this in a zip file? It&#39;d useful if it did as part of the build process."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1659463931,"post_id":73208849,"comment_id":129299575,"body_markdown":"The assembly plugin can create a zip. You could add your script in the resources of your project and copy those with the maven resources plugin to the output so it can be included in the assembly.","body":"The assembly plugin can create a zip. You could add your script in the resources of your project and copy those with the maven resources plugin to the output so it can be included in the assembly."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1659464534,"post_id":73208849,"comment_id":129299723,"body_markdown":"Yes, I&#39;m experimenting with that now. I can get it build a zip file with the script and jar inside, but the jar does not include any dependencies. I&#39;m also not sure if it&#39;s an executable jar. I can&#39;t figure out how to get it to build the jar with dependencies **and** pull in the script. If I try to use the &quot;jar-with-dependencies&quot; descriptor ref, it produces that, but I can&#39;t get that into the zip file.","body":"Yes, I&#39;m experimenting with that now. I can get it build a zip file with the script and jar inside, but the jar does not include any dependencies. I&#39;m also not sure if it&#39;s an executable jar. I can&#39;t figure out how to get it to build the jar with dependencies <b>and</b> pull in the script. If I try to use the &quot;jar-with-dependencies&quot; descriptor ref, it produces that, but I can&#39;t get that into the zip file."}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1659465520,"creation_date":1659448702,"question_id":73208849,"body_markdown":"I have written a Java application and am using Maven to manage building. (This is *not* a Spring Boot application.) I need to be able to do the following:\r\n\r\n - Include a script that will be the means for a user to execute the application.\r\n\r\n - Produce a zip file containing the script, application and its dependencies. I don&#39;t care whether everything is built into a single jar file, or whether the dependencies are all separate and contained in a &quot;lib&quot; directory that&#39;s also part of the distribution. Whatever makes the most sense.\r\n\r\n - Build an executable jar file. I am assuming this is the easiest way to run the application, but I could modify the script to run it the &quot;non executable jar&quot; way if needed.\r\n\r\nI have been experimenting with the basic Maven jar and dependency plugins, as well as with the Maven assembly plugin. I can&#39;t figure out how to achieve all of the bullet points mentioned above.\r\n\r\nI have been using Maven for quite some time, but it&#39;s been some years since I&#39;ve needed to put together an application this way.\r\n\r\nAny suggestions on how to achieve this are greatly appreciated.\r\n\r\n\r\n**UPDATE**:\r\n\r\nI&#39;ve been focusing mainly on the assembly plugin, which I have used successfully in the past (although I don&#39;t think for this specific use case).\r\n\r\npom.xml:\r\n\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t  &lt;parent&gt;\r\n\t\t&lt;groupId&gt;[hidden]&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cold-storage-nospring&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t  &lt;/parent&gt;\r\n\r\n\t  &lt;artifactId&gt;archive&lt;/artifactId&gt;\r\n\r\n\t  &lt;properties&gt;\r\n\t\t&lt;maven-assembly-plugin.version&gt;3.4.2&lt;/maven-assembly-plugin.version&gt;\r\n\t  &lt;/properties&gt;\r\n\r\n\t  &lt;build&gt;\r\n\t\t&lt;finalName&gt;archive-gitlab-project&lt;/finalName&gt;\r\n\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t  &lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t  &lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\r\n\t\t&lt;plugins&gt;\r\n\t\t  &lt;!-- Assembly plugin --&gt;\r\n\t\t  &lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t  &lt;descriptors&gt;\r\n\t\t\t\t&lt;descriptor&gt;src/assembly/assembly.xml&lt;/descriptor&gt;\r\n\t\t\t  &lt;/descriptors&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t\t\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t  &lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;assemble&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t  &lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t  &lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t  &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t  &lt;/build&gt;\r\n\r\n\t&lt;/project&gt;\r\n\r\nassembly.xml:\r\n\r\n\t&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.1&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.1 https://maven.apache.org/xsd/assembly-2.1.1.xsd&quot;&gt;\r\n\t  &lt;id&gt;make-assembly&lt;/id&gt;\r\n\r\n\t  &lt;formats&gt;\r\n\t\t&lt;format&gt;zip&lt;/format&gt;\r\n\t  &lt;/formats&gt;\r\n\r\n\t  &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n\r\n\t  &lt;files&gt;\r\n\t\t&lt;file&gt;\r\n\t\t  &lt;source&gt;target/archive-gitlab-project.jar&lt;/source&gt;\r\n\t\t  &lt;outputDirectory&gt;.&lt;/outputDirectory&gt;\r\n\t\t&lt;/file&gt;\r\n\r\n\t\t&lt;file&gt;\r\n\t\t  &lt;source&gt;src/main/resources/archive-project.sh&lt;/source&gt;\r\n\t\t  &lt;outputDirectory&gt;.&lt;/outputDirectory&gt;\r\n\t\t&lt;/file&gt;\r\n\t  &lt;/files&gt;\r\n\t&lt;/assembly&gt;\r\n","title":"Need to build Java application jar that includes script and dependencies using Maven","body":"<p>I have written a Java application and am using Maven to manage building. (This is <em>not</em> a Spring Boot application.) I need to be able to do the following:</p>\n<ul>\n<li><p>Include a script that will be the means for a user to execute the application.</p>\n</li>\n<li><p>Produce a zip file containing the script, application and its dependencies. I don't care whether everything is built into a single jar file, or whether the dependencies are all separate and contained in a &quot;lib&quot; directory that's also part of the distribution. Whatever makes the most sense.</p>\n</li>\n<li><p>Build an executable jar file. I am assuming this is the easiest way to run the application, but I could modify the script to run it the &quot;non executable jar&quot; way if needed.</p>\n</li>\n</ul>\n<p>I have been experimenting with the basic Maven jar and dependency plugins, as well as with the Maven assembly plugin. I can't figure out how to achieve all of the bullet points mentioned above.</p>\n<p>I have been using Maven for quite some time, but it's been some years since I've needed to put together an application this way.</p>\n<p>Any suggestions on how to achieve this are greatly appreciated.</p>\n<p><strong>UPDATE</strong>:</p>\n<p>I've been focusing mainly on the assembly plugin, which I have used successfully in the past (although I don't think for this specific use case).</p>\n<p>pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;[hidden]&lt;/groupId&gt;\n    &lt;artifactId&gt;cold-storage-nospring&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;artifactId&gt;archive&lt;/artifactId&gt;\n\n  &lt;properties&gt;\n    &lt;maven-assembly-plugin.version&gt;3.4.2&lt;/maven-assembly-plugin.version&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;archive-gitlab-project&lt;/finalName&gt;\n\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n\n    &lt;plugins&gt;\n      &lt;!-- Assembly plugin --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        \n        &lt;configuration&gt;\n          &lt;descriptors&gt;\n            &lt;descriptor&gt;src/assembly/assembly.xml&lt;/descriptor&gt;\n          &lt;/descriptors&gt;\n        &lt;/configuration&gt;\n        \n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;assemble&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>assembly.xml:</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.1&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.1 https://maven.apache.org/xsd/assembly-2.1.1.xsd&quot;&gt;\n  &lt;id&gt;make-assembly&lt;/id&gt;\n\n  &lt;formats&gt;\n    &lt;format&gt;zip&lt;/format&gt;\n  &lt;/formats&gt;\n\n  &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n\n  &lt;files&gt;\n    &lt;file&gt;\n      &lt;source&gt;target/archive-gitlab-project.jar&lt;/source&gt;\n      &lt;outputDirectory&gt;.&lt;/outputDirectory&gt;\n    &lt;/file&gt;\n\n    &lt;file&gt;\n      &lt;source&gt;src/main/resources/archive-project.sh&lt;/source&gt;\n      &lt;outputDirectory&gt;.&lt;/outputDirectory&gt;\n    &lt;/file&gt;\n  &lt;/files&gt;\n&lt;/assembly&gt;\n</code></pre>\n"},{"tags":["java","omr"],"comments":[{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1281611652,"post_id":3466949,"comment_id":3616437,"body_markdown":"OMR = [Optical Mark Recognition](http://en.wikipedia.org/wiki/Optical_Mark_Recognition)? [Optical Music Recognition](http://en.wikipedia.org/wiki/Optical_music_recognition)?","body":"OMR = <a href=\"http://en.wikipedia.org/wiki/Optical_Mark_Recognition\" rel=\"nofollow noreferrer\">Optical Mark Recognition</a>? <a href=\"http://en.wikipedia.org/wiki/Optical_music_recognition\" rel=\"nofollow noreferrer\">Optical Music Recognition</a>?"},{"owner":{"account_id":78145,"reputation":5085,"user_id":1746300,"accept_rate":89,"display_name":"Aswan"},"score":0,"creation_date":1281614913,"post_id":3466949,"comment_id":3616927,"body_markdown":"optical mark recognition","body":"optical mark recognition"},{"owner":{"account_id":1011410,"reputation":16443,"user_id":1023911,"accept_rate":100,"display_name":"Werner Henze"},"score":0,"creation_date":1381146220,"post_id":3466949,"comment_id":28450582,"body_markdown":"So what is your question? What have you tried so far?","body":"So what is your question? What have you tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1281616579,"creation_date":1281611773,"answer_id":3467021,"question_id":3466949,"body_markdown":"If you&#39;re looking at music recognition for printed music scores, [OpenOMR][1] might provide a solution.\r\n\r\nFor Optical Mark Recognition have a look at [Udai OMR][2], it is Java and sources are available.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/openomr/\r\n  [2]: http://www.cse.iitd.ernet.in/~aseth/udai/OMRProj/README.html","title":"Data capture from ORM (Optical Mark Recognition) sheet in Java","body":"<p>If you're looking at music recognition for printed music scores, <a href=\"http://sourceforge.net/projects/openomr/\" rel=\"noreferrer\">OpenOMR</a> might provide a solution.</p>\n\n<p>For Optical Mark Recognition have a look at <a href=\"http://www.cse.iitd.ernet.in/~aseth/udai/OMRProj/README.html\" rel=\"noreferrer\">Udai OMR</a>, it is Java and sources are available.</p>\n"}],"owner":{"account_id":78145,"reputation":5085,"user_id":1746300,"accept_rate":89,"display_name":"Aswan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5538,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1381146456,"answer_count":1,"score":0,"last_activity_date":1659465308,"creation_date":1281611238,"question_id":3466949,"body_markdown":"i need to develop software for capture omr sheet data in java.pl.","title":"Data capture from ORM (Optical Mark Recognition) sheet in Java","body":"<p>i need to develop software for capture omr sheet data in java.pl.</p>\n"},{"tags":["java","image","image-processing","jasper-reports","omr"],"comments":[{"owner":{"account_id":32049,"reputation":3191,"user_id":88448,"accept_rate":65,"display_name":"ante.sabo"},"score":0,"creation_date":1293015514,"post_id":4507860,"comment_id":4935155,"body_markdown":".. and if I put image into subreport I am risking having two OMR images on one page, what is not appropriate. I need an image on page level..","body":".. and if I put image into subreport I am risking having two OMR images on one page, what is not appropriate. I need an image on page level.."}],"answers":[{"tags":[],"owner":{"account_id":32049,"reputation":3191,"user_id":88448,"accept_rate":65,"display_name":"ante.sabo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1293027182,"creation_date":1293027182,"answer_id":4510017,"question_id":4507860,"body_markdown":"solved with putting picture onto band called &#39;background&#39; of main report. Picture is being shown regularly on each page once. ","title":"creating OMR image for folding machine on each page with JasperReports","body":"<p>solved with putting picture onto band called 'background' of main report. Picture is being shown regularly on each page once. </p>\n"},{"tags":[],"owner":{"account_id":1522399,"reputation":26,"user_id":1421722,"display_name":"Mark Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349928010,"creation_date":1343403821,"answer_id":11691231,"question_id":4507860,"body_markdown":"There is a great application called Mail Markup that will put OMR marks on any document you like. It allows you to configure the OMR marks to your requirements so it is compatible with any folder inserter. You can find out more and download an evaluation [here][1]\r\n\r\n\r\n  [1]: http://www.mailmarkup.com","title":"creating OMR image for folding machine on each page with JasperReports","body":"<p>There is a great application called Mail Markup that will put OMR marks on any document you like. It allows you to configure the OMR marks to your requirements so it is compatible with any folder inserter. You can find out more and download an evaluation <a href=\"http://www.mailmarkup.com\" rel=\"nofollow\">here</a></p>\n"}],"owner":{"account_id":32049,"reputation":3191,"user_id":88448,"accept_rate":65,"display_name":"ante.sabo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4510017,"answer_count":2,"score":0,"last_activity_date":1659465244,"creation_date":1293010763,"question_id":4507860,"body_markdown":"  Our invoicing system needs to print OMR (optical mark recognition) symbol on each page of our invoices so the folding machine knows what to put in the envelope, so that little PNG picture has to be put on each page. \r\n  Our invoice is consisted of main report with two subreports created in special `.jrxml` files. Picture is generated by calling web service with passing page number as a parameter in http request. So, we need to incorporate picture into subreport hoping that subreport will &#39;know&#39; actual page number when generating document. Error we are getting is: \r\n\r\n    Error filling print... Could not resolved style(s): pdf \r\n    net.sf.jasperreports.engine.JRRuntimeException: Could not resolved style(s): pdf      at \r\n    net.sf.jasperreports.engine.fill.JRFillObjectFactory.checkUnresolvedReferences(JRFillObjectFactory.java:1610)      at \r\n    net.sf.jasperreports.engine.fill.JRFillObjectFactory.setStyles(JRFillObjectFactory.java:1537)      at \r\n    net.sf.jasperreports.engine.fill.JRBaseFiller.loadStyles(JRBaseFiller.java:962)      at \r\n    net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:835)      at \r\n    net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:782)      at \r\n    net.sf.jasperreports.engine.fill.JRFillSubreport.fillSubreport(JRFillSubreport.java:532)      at \r\n    net.sf.jasperreports.engine.fill.JRSubreportRunnable.run(JRSubreportRunnable.java:63)      at\r\n     net.sf.jasperreports.engine.fill.JRThreadSubreportRunner.run(JRThreadSubreportRunner.java:209)      at\r\n     java.lang.Thread.run(Unknown Source)\r\n\r\n \r\n\r\n  We are using `JasperReports 3.0.0` - migration to newer version requires lot of changes, so that&#39;s for now out of option, in case we need to go to newer version.\r\n","title":"creating OMR image for folding machine on each page with JasperReports","body":"<p>Our invoicing system needs to print OMR (optical mark recognition) symbol on each page of our invoices so the folding machine knows what to put in the envelope, so that little PNG picture has to be put on each page. \n  Our invoice is consisted of main report with two subreports created in special <code>.jrxml</code> files. Picture is generated by calling web service with passing page number as a parameter in http request. So, we need to incorporate picture into subreport hoping that subreport will 'know' actual page number when generating document. Error we are getting is: </p>\n\n<pre><code>Error filling print... Could not resolved style(s): pdf \nnet.sf.jasperreports.engine.JRRuntimeException: Could not resolved style(s): pdf      at \nnet.sf.jasperreports.engine.fill.JRFillObjectFactory.checkUnresolvedReferences(JRFillObjectFactory.java:1610)      at \nnet.sf.jasperreports.engine.fill.JRFillObjectFactory.setStyles(JRFillObjectFactory.java:1537)      at \nnet.sf.jasperreports.engine.fill.JRBaseFiller.loadStyles(JRBaseFiller.java:962)      at \nnet.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:835)      at \nnet.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:782)      at \nnet.sf.jasperreports.engine.fill.JRFillSubreport.fillSubreport(JRFillSubreport.java:532)      at \nnet.sf.jasperreports.engine.fill.JRSubreportRunnable.run(JRSubreportRunnable.java:63)      at\n net.sf.jasperreports.engine.fill.JRThreadSubreportRunner.run(JRThreadSubreportRunner.java:209)      at\n java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>We are using <code>JasperReports 3.0.0</code> - migration to newer version requires lot of changes, so that's for now out of option, in case we need to go to newer version.</p>\n"},{"tags":["java","spring","spring-boot","sorting","jpa"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1659468247,"post_id":73212197,"comment_id":129300791,"body_markdown":"(No expert here, but ...) Regarding part 2:  `UserType` and `Hobby` suggest use of `Enum`.  A collection of `Enum` can be sorted according to the order in which the values were declared: [See Java Sorting based on Enum constants](https://stackoverflow.com/questions/8007108/java-sorting-based-on-enum-constants/8007155#8007155) .","body":"(No expert here, but ...) Regarding part 2:  <code>UserType</code> and <code>Hobby</code> suggest use of <code>Enum</code>.  A collection of <code>Enum</code> can be sorted according to the order in which the values were declared: <a href=\"https://stackoverflow.com/questions/8007108/java-sorting-based-on-enum-constants/8007155#8007155\">See Java Sorting based on Enum constants</a> ."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1659476520,"post_id":73212197,"comment_id":129303212,"body_markdown":"I haven&#39;t responded to part 1 because I&#39;m not sure what is being asked.  Could you, please, clarify? Maybe add example(s)?","body":"I haven&#39;t responded to part 1 because I&#39;m not sure what is being asked.  Could you, please, clarify? Maybe add example(s)?"}],"owner":{"account_id":1359473,"reputation":1054,"user_id":1297091,"accept_rate":40,"display_name":"codezoner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659465180,"creation_date":1659465180,"question_id":73212197,"body_markdown":"I&#39;m trying to sort a collection of objects with multiple dynamic set of rules.  \r\nExample :  \r\n Rule 1 -&gt; Sort by addedDate | Sort Order :  Asc  \r\nRule 2 -&gt; Sort by User Type | Sort Order : &#39;Gold&#39;, &#39;Silver&#39;, &#39;Bronze&#39; (not ASC or DESC)  \r\nRule 3 -&gt; Sort by Hobby | Sort Order : &#39;Music&#39;, &#39;Drama&#39;, &#39;Sport&#39; (not ASC or DESC)  \r\n\r\nI have 2 questions..\r\n\r\n 1. Since these rules can be dynamic (at one instance Rule 1, Rule 2 and another instance only Rule 3) how do I create dynamic comparators ?\r\n 2. Is there a way of sorting can be done using custom sort(not ASC or DESC) order like in Rule 2 and Rule 3 ?  \r\n\r\nSo far I tried sorting via the repository itself, but could not succeed since it only supports Asc and Desc sort order like below.  `repository.findAll(Sort.by(Sort.Direction.DESC, &quot;colName&quot;));`\r\n\r\nAlso I&#39;ve research Java Comparator, but still I could not pass a custom order like in Rule 2 and Rule 3.  \r\nAny expertise is much appreciated.","title":"Sorting a collection - Dynamic count of rules and Sort by set of values","body":"<p>I'm trying to sort a collection of objects with multiple dynamic set of rules.<br />\nExample :<br />\nRule 1 -&gt; Sort by addedDate | Sort Order :  Asc<br />\nRule 2 -&gt; Sort by User Type | Sort Order : 'Gold', 'Silver', 'Bronze' (not ASC or DESC)<br />\nRule 3 -&gt; Sort by Hobby | Sort Order : 'Music', 'Drama', 'Sport' (not ASC or DESC)</p>\n<p>I have 2 questions..</p>\n<ol>\n<li>Since these rules can be dynamic (at one instance Rule 1, Rule 2 and another instance only Rule 3) how do I create dynamic comparators ?</li>\n<li>Is there a way of sorting can be done using custom sort(not ASC or DESC) order like in Rule 2 and Rule 3 ?</li>\n</ol>\n<p>So far I tried sorting via the repository itself, but could not succeed since it only supports Asc and Desc sort order like below.  <code>repository.findAll(Sort.by(Sort.Direction.DESC, &quot;colName&quot;));</code></p>\n<p>Also I've research Java Comparator, but still I could not pass a custom order like in Rule 2 and Rule 3.<br />\nAny expertise is much appreciated.</p>\n"},{"tags":["java","omr"],"comments":[{"owner":{"account_id":4167652,"reputation":5072,"user_id":3416272,"accept_rate":84,"display_name":"Md Johirul Islam"},"score":0,"creation_date":1484250051,"post_id":41621021,"comment_id":70444499,"body_markdown":"You are getting [NullPointerException](http://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it) because for some reason the source of the image is bull. Check your code to find the possible place where you can loose the information related to image source. Or provide more code to see where the problem is happening","body":"You are getting <a href=\"http://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">NullPointerException</a> because for some reason the source of the image is bull. Check your code to find the possible place where you can loose the information related to image source. Or provide more code to see where the problem is happening"},{"owner":{"account_id":6364842,"reputation":647,"user_id":5058321,"accept_rate":56,"display_name":"Faiyaz Md Abdul"},"score":0,"creation_date":1484250619,"post_id":41621021,"comment_id":70444847,"body_markdown":"I have provided the source link","body":"I have provided the source link"}],"answers":[{"tags":[],"owner":{"account_id":6364842,"reputation":647,"user_id":5058321,"accept_rate":56,"display_name":"Faiyaz Md Abdul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1493795785,"creation_date":1493795785,"answer_id":43753549,"question_id":41621021,"body_markdown":"Path of template images was wrong .","title":"Optical Mark Reader (OMR ) - JAVA","body":"<p>Path of template images was wrong .</p>\n"}],"owner":{"account_id":6364842,"reputation":647,"user_id":5058321,"accept_rate":56,"display_name":"Faiyaz Md Abdul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2012,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":43753549,"answer_count":1,"score":-1,"last_activity_date":1659465123,"creation_date":1484248058,"question_id":41621021,"body_markdown":"Unable to start with a OMR reader application . Tried this [Udai OMr][1] , But I am getting NullPointerException . Any Suggestions ?\r\n\r\n    D:\\OmR\\ java -cp &quot;dist/OMRProj.jar;dist/lib/jiu.jar&quot; omrproj.ProcessTemplate [template-filename]\r\n    at omrproj.ImageUtil.readImage(ImageUtil.java:28)\r\n        at omrproj.ProcessForm.main(ProcessForm.java:27)\r\n\r\n \r\n\r\n\r\n  [1]: http://www.cse.iitd.ernet.in/~aseth/udai/OMRProj/README.html &quot;udai Omr&quot;","title":"Optical Mark Reader (OMR ) - JAVA","body":"<p>Unable to start with a OMR reader application . Tried this <a href=\"http://www.cse.iitd.ernet.in/~aseth/udai/OMRProj/README.html\" rel=\"nofollow noreferrer\" title=\"udai Omr\">Udai OMr</a> , But I am getting NullPointerException . Any Suggestions ?</p>\n\n<pre><code>D:\\OmR\\ java -cp \"dist/OMRProj.jar;dist/lib/jiu.jar\" omrproj.ProcessTemplate [template-filename]\nat omrproj.ImageUtil.readImage(ImageUtil.java:28)\n    at omrproj.ProcessForm.main(ProcessForm.java:27)\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659433146,"creation_date":1659433146,"answer_id":73205286,"question_id":73203183,"body_markdown":"I did not try out the following code (no guarantee) but rather tried to provide corrections to your logic.\r\n\r\nNice is the handling of repeated values like 2, 3, 5, 5, 5, 7, 11, 11, 13...\r\nHowever they provide extra counts, when for 16 several solutions (5, 11) are allowed (binomial, factorial). I did not think but assumed a solution (5, 11) counts as 1. Then duplicates in the array could have been removed and only unique values are remaining, simplifying the algorithm. In fact this is a requirement one should check. Below I count the same values at j and at k, which you neglected, only when at both ends they give the same value.\r\n\r\n    public static int pairsum(int arr[], int sum,int j){\r\n        int count=0;\r\n        int k = arr.length - 1;\r\n        while (j &lt; k) {\r\n            int nj = 1; // Same values at lower bound.\r\n            while (j &lt; k &amp;&amp; str[j + nj] == str[j]) {\r\n                ++nj;\r\n            }\r\n            int nk = 1; // Same values at upper bound.\r\n            while (j &lt; k &amp;&amp; str[k - nj] == str[k]) {\r\n                ++nk;\r\n            }\r\n            \r\n            if (arr[j] + arr[k] == sum) {\r\n                if (arr[j] == arr[k]) { // Or k - j + 1 == nj\r\n                    count++; // binom(k - j&#180;+ 1, 2)! For 1 - 4: 12, 13, 14; 23, 24; 34\r\n                    j = k; // Or break\r\n                } else {\r\n                    count++; // nj, nk\r\n                    j = k;\r\n                }\r\n            }\r\n            else if (arr[j] + arr[k] &gt; sum){\r\n                k -= nk;\r\n            }\r\n            else {\r\n                j += nj;\r\n                //k = arr.length - 1;//occurence of error\r\n            }           \r\n        }\r\n        return count;\r\n    }\r\n\r\n    /**\r\n     * @return the number of triplets summing up to num.\r\n     */\r\n    public static int tripletSum(int[] arr, int num) {\r\n        Arrays.sort(arr);\r\n        int count = 0;\r\n        for (int i = 0; i &lt; arr.length - 2; i++) {\r\n            int sum = num - arr[i];\r\n            count += pairsum(arr, sum, i+1);\r\n        }\r\n        return count;\r\n    }\r\n\r\nThe largest error was setting k back to the end.\r\n\r\nThe heuristic optimization, adding special cases, is not needed.\r\n\r\nThe naming could be more meaningful; as does spacing.\r\n\r\n------------------------------------------------\r\n***Improvements***\r\n\r\nIf you make an array of unique values, and their frequency in the original array,\r\nthat would make the logic easier, and potentially faster.\r\n\r\nFor a huge original array, making those 2 arrays can be improved slightly be reusing the original array, sorting it, counting the duplicates:\r\n\r\n    Arrays.sort(arr);\r\n    int previous = Integer.MAX_VALUE;\r\n    int duplicates = 0;\r\n    if (arr.length != 0 &amp;&amp; arr[0] == Integer.MAX_VALUE) { // Cannot happen.\r\n        duplicates = -1;\r\n    }\r\n    for (int value : arr) {\r\n        if (value == previous) {\r\n            duplicates++;\r\n        }\r\n    }\r\n    int n = arr.length - duplicates;\r\n    int[] occurrences = new int[n]; // Needed when counting non-unique combinations.\r\n    int[] uniqueValues = arr;\r\n    int previous = Integer.MAX_VALUE;\r\n    int i = 0;\r\n    for (int value : arr) {\r\n        if (value != previous) {\r\n            arr[i] = value; // Or uniqueValues[i] = value;\r\n            occurrences[i] = 1;\r\n            i++;\r\n        } else {\r\n            occurrences[i]++;\r\n        }\r\n    }\r\n    assert i == n;\r\n    \r\n    int k = n - 1;\r\n\r\nUsing [`Arrays.binarySearch`][1] would make a considerable difference.\r\n\r\n    int pos = Arrays.binarySearch(arr, ...);\r\n    if (pos &lt; 0) { // Not found\r\n        int insertPos = ~pos;\r\n        k = insertPos - 1;\r\n    } else { // Found\r\n        k = pos;\r\n    }\r\n\r\nIn `pairsum` you could try to find the next k for value `sum - arr[j]`.\r\nwhen not found decrement the k from the insert position.\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#binarySearch(byte%5B%5D,int,int,byte)","title":"Is there another way to assign value for k","body":"<p>I did not try out the following code (no guarantee) but rather tried to provide corrections to your logic.</p>\n<p>Nice is the handling of repeated values like 2, 3, 5, 5, 5, 7, 11, 11, 13...\nHowever they provide extra counts, when for 16 several solutions (5, 11) are allowed (binomial, factorial). I did not think but assumed a solution (5, 11) counts as 1. Then duplicates in the array could have been removed and only unique values are remaining, simplifying the algorithm. In fact this is a requirement one should check. Below I count the same values at j and at k, which you neglected, only when at both ends they give the same value.</p>\n<pre><code>public static int pairsum(int arr[], int sum,int j){\n    int count=0;\n    int k = arr.length - 1;\n    while (j &lt; k) {\n        int nj = 1; // Same values at lower bound.\n        while (j &lt; k &amp;&amp; str[j + nj] == str[j]) {\n            ++nj;\n        }\n        int nk = 1; // Same values at upper bound.\n        while (j &lt; k &amp;&amp; str[k - nj] == str[k]) {\n            ++nk;\n        }\n        \n        if (arr[j] + arr[k] == sum) {\n            if (arr[j] == arr[k]) { // Or k - j + 1 == nj\n                count++; // binom(k - j´+ 1, 2)! For 1 - 4: 12, 13, 14; 23, 24; 34\n                j = k; // Or break\n            } else {\n                count++; // nj, nk\n                j = k;\n            }\n        }\n        else if (arr[j] + arr[k] &gt; sum){\n            k -= nk;\n        }\n        else {\n            j += nj;\n            //k = arr.length - 1;//occurence of error\n        }           \n    }\n    return count;\n}\n\n/**\n * @return the number of triplets summing up to num.\n */\npublic static int tripletSum(int[] arr, int num) {\n    Arrays.sort(arr);\n    int count = 0;\n    for (int i = 0; i &lt; arr.length - 2; i++) {\n        int sum = num - arr[i];\n        count += pairsum(arr, sum, i+1);\n    }\n    return count;\n}\n</code></pre>\n<p>The largest error was setting k back to the end.</p>\n<p>The heuristic optimization, adding special cases, is not needed.</p>\n<p>The naming could be more meaningful; as does spacing.</p>\n<hr />\n<p><em><strong>Improvements</strong></em></p>\n<p>If you make an array of unique values, and their frequency in the original array,\nthat would make the logic easier, and potentially faster.</p>\n<p>For a huge original array, making those 2 arrays can be improved slightly be reusing the original array, sorting it, counting the duplicates:</p>\n<pre><code>Arrays.sort(arr);\nint previous = Integer.MAX_VALUE;\nint duplicates = 0;\nif (arr.length != 0 &amp;&amp; arr[0] == Integer.MAX_VALUE) { // Cannot happen.\n    duplicates = -1;\n}\nfor (int value : arr) {\n    if (value == previous) {\n        duplicates++;\n    }\n}\nint n = arr.length - duplicates;\nint[] occurrences = new int[n]; // Needed when counting non-unique combinations.\nint[] uniqueValues = arr;\nint previous = Integer.MAX_VALUE;\nint i = 0;\nfor (int value : arr) {\n    if (value != previous) {\n        arr[i] = value; // Or uniqueValues[i] = value;\n        occurrences[i] = 1;\n        i++;\n    } else {\n        occurrences[i]++;\n    }\n}\nassert i == n;\n\nint k = n - 1;\n</code></pre>\n<p>Using <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#binarySearch(byte%5B%5D,int,int,byte)\" rel=\"nofollow noreferrer\"><code>Arrays.binarySearch</code></a> would make a considerable difference.</p>\n<pre><code>int pos = Arrays.binarySearch(arr, ...);\nif (pos &lt; 0) { // Not found\n    int insertPos = ~pos;\n    k = insertPos - 1;\n} else { // Found\n    k = pos;\n}\n</code></pre>\n<p>In <code>pairsum</code> you could try to find the next k for value <code>sum - arr[j]</code>.\nwhen not found decrement the k from the insert position.</p>\n"},{"tags":[],"owner":{"account_id":5830092,"reputation":498,"user_id":4594941,"display_name":"pirela"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659464634,"creation_date":1659463851,"answer_id":73211922,"question_id":73203183,"body_markdown":"i suggest another simplest algorithm running also with duplicates values and optional zero.   \r\nFirst, sort all data in ascending order.  \r\nthen loop on A B C , and stop asap: A+A+A or A+B+B or A+B+C less than sum.\r\n\r\n        import java.util.Arrays;\r\n    import java.util.Collections;\r\n\r\n    //------------------ RUN SOME TEST ---------------------\r\n    class QuickStart {\r\n        public static void main(String[] args) {\r\n            Integer[] myData = new Integer[] { 11, 40, 1, 20, 19, 100, 30, 2, 0, 33, 17, 17, 12 };\r\n            searchTriples(53, myData);\r\n            searchTriples(129, myData);\r\n            searchTriples(3, myData);\r\n        }\r\n\r\n        // ----------------- MAIN ALGO PREPARE ------------------\r\n        public static void searchTriples(int sum, Integer[] data) {\r\n            // first sort ascendant\r\n            Arrays.sort(data, Collections.reverseOrder());\r\n            // let see question\r\n            System.out.println(&quot;----------------------------&quot;);\r\n            System.out.println(String.format(&quot;searching for %d within:&quot;, sum));\r\n            for (int num : data) {\r\n                System.out.print(num + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n            // let name A,B,C the triple to be tested as A+B+C\r\n            // C can go up to last indice , others a bit less\r\n            int maxC = data.length - 1;\r\n            int maxB = maxC - 1;\r\n            int maxA = maxB - 1;\r\n            int posA, posB, posC;\r\n            Integer valA, valB, valC, valAB, valABC;\r\n            // ------------------- MAIN ALGO LOOPS ------------------------\r\n            // start with A as first data\r\n            posA = 0;\r\n            while (posA &lt;= maxA) {\r\n                valA = data[posA];\r\n                // as B,C are less than A can cut\r\n                if (valA + valA + valA &lt; sum)\r\n                    break;\r\n                // now add B\r\n                posB = posA + 1;\r\n                while (posB &lt;= maxB) {\r\n                    valB = data[posB];\r\n                    valAB = valA + valB;\r\n                    if (valAB + valB &lt; sum)\r\n                        break;\r\n                    // now add C\r\n                    posC = posB + 1;\r\n                    while (posC &lt;= maxC) {\r\n                        valC = data[posC];\r\n                        valABC = valAB + valC;\r\n                        if (valABC &lt; sum)\r\n                            break;\r\n                        if (valABC == sum) {\r\n                            System.out.println(String.format(&quot;found %d+%d+%d = %d  (at pos: %d %d %d)&quot;, valA, valB, valC,\r\n                                    sum, posA, posB, posC));\r\n                        }\r\n                        posC += 1;\r\n                    }\r\n                    posB += 1;\r\n                }\r\n                posA += 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    ----------------------------\r\n    searching for 53 within:\r\n    100 40 33 30 20 19 17 17 12 11 2 1 0 \r\n    found 40+12+1 = 53  (at pos: 1 8 11)\r\n    found 40+11+2 = 53  (at pos: 1 9 10)\r\n    found 33+20+0 = 53  (at pos: 2 4 12)\r\n    found 33+19+1 = 53  (at pos: 2 5 11)\r\n    found 30+12+11 = 53  (at pos: 3 8 9)\r\n    found 19+17+17 = 53  (at pos: 5 6 7)\r\n    ----------------------------   \r\n    searching for 129 within:   \r\n    100 40 33 30 20 19 17 17 12 11 2 1 0    \r\n    found 100+17+12 = 129  (at pos: 0 6 8)   \r\n    found 100+17+12 = 129  (at pos: 0 7 8)   \r\n    ----------------------------\r\n    searching for 3 within:\r\n    100 40 33 30 20 19 17 17 12 11 2 1 0 \r\n    found 2+1+0 = 3  (at pos: 10 11 12)\r\n\r\nCOMMENTS : \r\nwith a bit more work, i think this algo can be coded as recursive, allowing to any depth , double, triple, quads, etc. \r\nFor another day :) \r\n\r\nHTH\r\n","title":"Is there another way to assign value for k","body":"<p>i suggest another simplest algorithm running also with duplicates values and optional zero.<br />\nFirst, sort all data in ascending order.<br />\nthen loop on A B C , and stop asap: A+A+A or A+B+B or A+B+C less than sum.</p>\n<pre><code>    import java.util.Arrays;\nimport java.util.Collections;\n\n//------------------ RUN SOME TEST ---------------------\nclass QuickStart {\n    public static void main(String[] args) {\n        Integer[] myData = new Integer[] { 11, 40, 1, 20, 19, 100, 30, 2, 0, 33, 17, 17, 12 };\n        searchTriples(53, myData);\n        searchTriples(129, myData);\n        searchTriples(3, myData);\n    }\n\n    // ----------------- MAIN ALGO PREPARE ------------------\n    public static void searchTriples(int sum, Integer[] data) {\n        // first sort ascendant\n        Arrays.sort(data, Collections.reverseOrder());\n        // let see question\n        System.out.println(&quot;----------------------------&quot;);\n        System.out.println(String.format(&quot;searching for %d within:&quot;, sum));\n        for (int num : data) {\n            System.out.print(num + &quot; &quot;);\n        }\n        System.out.println();\n        // let name A,B,C the triple to be tested as A+B+C\n        // C can go up to last indice , others a bit less\n        int maxC = data.length - 1;\n        int maxB = maxC - 1;\n        int maxA = maxB - 1;\n        int posA, posB, posC;\n        Integer valA, valB, valC, valAB, valABC;\n        // ------------------- MAIN ALGO LOOPS ------------------------\n        // start with A as first data\n        posA = 0;\n        while (posA &lt;= maxA) {\n            valA = data[posA];\n            // as B,C are less than A can cut\n            if (valA + valA + valA &lt; sum)\n                break;\n            // now add B\n            posB = posA + 1;\n            while (posB &lt;= maxB) {\n                valB = data[posB];\n                valAB = valA + valB;\n                if (valAB + valB &lt; sum)\n                    break;\n                // now add C\n                posC = posB + 1;\n                while (posC &lt;= maxC) {\n                    valC = data[posC];\n                    valABC = valAB + valC;\n                    if (valABC &lt; sum)\n                        break;\n                    if (valABC == sum) {\n                        System.out.println(String.format(&quot;found %d+%d+%d = %d  (at pos: %d %d %d)&quot;, valA, valB, valC,\n                                sum, posA, posB, posC));\n                    }\n                    posC += 1;\n                }\n                posB += 1;\n            }\n            posA += 1;\n        }\n    }\n}\n\n----------------------------\nsearching for 53 within:\n100 40 33 30 20 19 17 17 12 11 2 1 0 \nfound 40+12+1 = 53  (at pos: 1 8 11)\nfound 40+11+2 = 53  (at pos: 1 9 10)\nfound 33+20+0 = 53  (at pos: 2 4 12)\nfound 33+19+1 = 53  (at pos: 2 5 11)\nfound 30+12+11 = 53  (at pos: 3 8 9)\nfound 19+17+17 = 53  (at pos: 5 6 7)\n----------------------------   \nsearching for 129 within:   \n100 40 33 30 20 19 17 17 12 11 2 1 0    \nfound 100+17+12 = 129  (at pos: 0 6 8)   \nfound 100+17+12 = 129  (at pos: 0 7 8)   \n----------------------------\nsearching for 3 within:\n100 40 33 30 20 19 17 17 12 11 2 1 0 \nfound 2+1+0 = 3  (at pos: 10 11 12)\n</code></pre>\n<p>COMMENTS :\nwith a bit more work, i think this algo can be coded as recursive, allowing to any depth , double, triple, quads, etc.\nFor another day :)</p>\n<p>HTH</p>\n"}],"owner":{"account_id":25954602,"reputation":13,"user_id":19672110,"display_name":"Anto Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73205286,"answer_count":2,"score":1,"last_activity_date":1659464634,"creation_date":1659423338,"question_id":73203183,"body_markdown":"The code given below is to find the no of triplets that produce a sum `num` the method here takes two pointer method and finds `pairsum` to match with the sum I am now able to get almost all the outputs as i can but there are still some cases which i was not able to find. The platform i worked on produced some test cases where the time limit exceeds this is due to the line in the else part which I&#39;ve marked removing that assignment `k = arr.length - 1` , changes the entire output cases to wrong what should i do \r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class Solution {\t\r\n    \r\n\tpublic static int pairsum(int arr[], int sum,int j){\r\n        int count=0;\r\n        int k = arr.length - 1;\r\n            while(j&lt;k)\r\n            {\r\n                if(arr[j] + arr[k] == sum){\r\n                    if(arr[j] == arr[k]){\r\n                        int n = k - j + 1;\r\n                        count = count + (n * (n - 1)) / 2;\r\n                        break;\r\n                    }\r\n                    else{\r\n                    //System.out.println(arr[i] + &quot; &quot; + arr[j] + &quot; &quot; + arr[k]);\r\n                    count++;\r\n                    k--;\r\n                    }\r\n                }\r\n                else if(arr[j] + arr[k] &gt; sum){\r\n                    k--;\r\n                }\r\n                else{\r\n                    j++;\r\n                \tk = arr.length - 1;//occurence of error\r\n                }\r\n                \r\n            }\r\n        \r\n        return count;\r\n\r\n    }\r\n\tpublic static int tripletSum(int[] arr, int num) {\r\n\t\tif(arr.length == 0)\r\n            return 0;\r\n        boolean flag = true;\r\n        for(int i = 0; i &lt; arr.length; i++){\r\n            if(arr[i] != arr[0]){\r\n                flag = false;\r\n            \tbreak;\r\n            }\r\n        }\r\n        if(flag == true &amp;&amp; arr[0] * 3 == num){\r\n            return (arr.length * (arr.length - 1) * (arr.length - 2)) / 6;\r\n        }\r\n        Arrays.sort(arr);\r\n        \r\n        int count = 0;\r\n        for(int i = 0; i &lt; arr.length - 2; i++){\r\n            \r\n            int sum = num - arr[i];\r\n             count+=pairsum(arr,sum,i+1);\r\n        }\r\n        return count;\r\n            \r\n        \r\n    }\r\n}\r\n```","title":"Is there another way to assign value for k","body":"<p>The code given below is to find the no of triplets that produce a sum <code>num</code> the method here takes two pointer method and finds <code>pairsum</code> to match with the sum I am now able to get almost all the outputs as i can but there are still some cases which i was not able to find. The platform i worked on produced some test cases where the time limit exceeds this is due to the line in the else part which I've marked removing that assignment <code>k = arr.length - 1</code> , changes the entire output cases to wrong what should i do</p>\n<pre><code>import java.util.Arrays;\n\npublic class Solution { \n    \n    public static int pairsum(int arr[], int sum,int j){\n        int count=0;\n        int k = arr.length - 1;\n            while(j&lt;k)\n            {\n                if(arr[j] + arr[k] == sum){\n                    if(arr[j] == arr[k]){\n                        int n = k - j + 1;\n                        count = count + (n * (n - 1)) / 2;\n                        break;\n                    }\n                    else{\n                    //System.out.println(arr[i] + &quot; &quot; + arr[j] + &quot; &quot; + arr[k]);\n                    count++;\n                    k--;\n                    }\n                }\n                else if(arr[j] + arr[k] &gt; sum){\n                    k--;\n                }\n                else{\n                    j++;\n                    k = arr.length - 1;//occurence of error\n                }\n                \n            }\n        \n        return count;\n\n    }\n    public static int tripletSum(int[] arr, int num) {\n        if(arr.length == 0)\n            return 0;\n        boolean flag = true;\n        for(int i = 0; i &lt; arr.length; i++){\n            if(arr[i] != arr[0]){\n                flag = false;\n                break;\n            }\n        }\n        if(flag == true &amp;&amp; arr[0] * 3 == num){\n            return (arr.length * (arr.length - 1) * (arr.length - 2)) / 6;\n        }\n        Arrays.sort(arr);\n        \n        int count = 0;\n        for(int i = 0; i &lt; arr.length - 2; i++){\n            \n            int sum = num - arr[i];\n             count+=pairsum(arr,sum,i+1);\n        }\n        return count;\n            \n        \n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","metrics","micrometer","spring-micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659464401,"creation_date":1659464401,"answer_id":73212042,"question_id":73147771,"body_markdown":"`registry.gauge` is a shortcut for a few common use-case.\r\nIf you want to set the description, you can use the Gauge Builder, see the [docs](https://micrometer.io/docs/concepts#_gauge_fluent_builder).","title":"Creating Custom gauge metrics with description and base unit","body":"<p><code>registry.gauge</code> is a shortcut for a few common use-case.\nIf you want to set the description, you can use the Gauge Builder, see the <a href=\"https://micrometer.io/docs/concepts#_gauge_fluent_builder\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"}],"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659464401,"creation_date":1658986936,"question_id":73147771,"body_markdown":"I have created my own gauge metrics and exposed them. Below is the snapshot showing my code. Now I cannot set description and base unit of metrics using this way. \r\n\r\n            int rate = (int) ((finPoint - initPoint)/Constants.TIME_IN_MINS);\r\n            AtomicInteger n = meterRegistry.gauge(&quot;timeout.rate&quot;, atomicInteger);\r\n            n.set(rate);\r\n\r\nCan anyone please point out that there is any way to add a description of metrics using the above meterRegistry object?","title":"Creating Custom gauge metrics with description and base unit","body":"<p>I have created my own gauge metrics and exposed them. Below is the snapshot showing my code. Now I cannot set description and base unit of metrics using this way.</p>\n<pre><code>        int rate = (int) ((finPoint - initPoint)/Constants.TIME_IN_MINS);\n        AtomicInteger n = meterRegistry.gauge(&quot;timeout.rate&quot;, atomicInteger);\n        n.set(rate);\n</code></pre>\n<p>Can anyone please point out that there is any way to add a description of metrics using the above meterRegistry object?</p>\n"},{"tags":["java","android","android-studio-2.3"],"comments":[{"owner":{"account_id":9820989,"reputation":723,"user_id":7275708,"display_name":"Bill F"},"score":1,"creation_date":1496466405,"post_id":44340448,"comment_id":75684300,"body_markdown":"can we see your `build.gradle` and `settings.gradle`?","body":"can we see your <code>build.gradle</code> and <code>settings.gradle</code>?"}],"answers":[{"tags":[],"owner":{"account_id":10316995,"reputation":31,"user_id":7611024,"display_name":"paras08"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496466172,"creation_date":1496466172,"answer_id":44340475,"question_id":44340448,"body_markdown":"Here are a couple of reasons that this could be happening:\r\n\r\na) The library jar file is not being included\r\n\r\nb) The wrong version of the jar file is being included\r\n\r\nc) (if you are using maven) Another jar file is pulling in a newer/different version of the jar file\r\n\r\nd) Your class path does not include the jar file.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/gson/Gson;","body":"<p>Here are a couple of reasons that this could be happening:</p>\n\n<p>a) The library jar file is not being included</p>\n\n<p>b) The wrong version of the jar file is being included</p>\n\n<p>c) (if you are using maven) Another jar file is pulling in a newer/different version of the jar file</p>\n\n<p>d) Your class path does not include the jar file.</p>\n"}],"owner":{"account_id":5374325,"reputation":381,"user_id":4281791,"display_name":"gsanthosh91"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7610,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1659464324,"creation_date":1496465913,"question_id":44340448,"body_markdown":"When I&#39;m trying to run my application i get this error\r\n\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/gson/Gson;\r\n\r\nthis `com.google.gson.Gson` library file that I did added to my project through gradle and also added the libs/gson-2.8.1.jar file through Project Structure and can&#39;t understand when I have this problems.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/gson/Gson;","body":"<p>When I'm trying to run my application i get this error</p>\n\n<pre><code>java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/gson/Gson;\n</code></pre>\n\n<p>this <code>com.google.gson.Gson</code> library file that I did added to my project through gradle and also added the libs/gson-2.8.1.jar file through Project Structure and can't understand when I have this problems.</p>\n"},{"tags":["java","android","spinner"],"comments":[{"owner":{"account_id":20052037,"reputation":279,"user_id":14700539,"display_name":"Arsh"},"score":0,"creation_date":1659464972,"post_id":73211968,"comment_id":129299846,"body_markdown":"[this](https://stackoverflow.com/a/29475471/14700539) will help you","body":"<a href=\"https://stackoverflow.com/a/29475471/14700539\">this</a> will help you"},{"owner":{"account_id":6305344,"reputation":2779,"user_id":4898562,"display_name":"i_A_mok"},"score":0,"creation_date":1659759975,"post_id":73211968,"comment_id":129376576,"body_markdown":"Try change `categoryarraylist.equals(1)` to `i == 1` and `categoryarraylist.equals(2)` to `i == 2`.","body":"Try change <code>categoryarraylist.equals(1)</code> to <code>i == 1</code> and <code>categoryarraylist.equals(2)</code> to <code>i == 2</code>."}],"owner":{"account_id":25902872,"reputation":1,"user_id":19628448,"display_name":"Muhammad Aamir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659464034,"creation_date":1659464034,"question_id":73211968,"body_markdown":"using 2 spinner first one contains the main category and second one contains the items related to the selected category.\r\nbut the second spinner values are not displayed.\r\n\r\n    package com.learning.double_spinner;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Spinner;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Spinner categoryspn,unitspn;\r\n        EditText inputedt;\r\n        Button convertbtn;\r\n        TextView resulttxtv;\r\n    \r\n        ArrayList&lt;String&gt; categoryarraylist;\r\n        ArrayList&lt;String&gt; weightarraylist;\r\n        ArrayList&lt;String&gt; lengtharraylist;\r\n    \r\n        ArrayAdapter&lt;String&gt; categoryarrayadapter;\r\n        ArrayAdapter&lt;String&gt; unitarrayadapter;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            categoryspn= findViewById(R.id.categoryspn);\r\n            unitspn=findViewById(R.id.unitspn);\r\n            inputedt=findViewById(R.id.inputedt);\r\n            convertbtn=findViewById(R.id.convertbtn);\r\n            resulttxtv=findViewById(R.id.resulttxtv);\r\n    \r\n            categoryarraylist= new ArrayList&lt;&gt;();\r\n            categoryarraylist.add(&quot;Select Category&quot;);\r\n            categoryarraylist.add(&quot;Weight&quot;);\r\n            categoryarraylist.add(&quot;Length&quot;);\r\n    \r\n            categoryarrayadapter= new ArrayAdapter&lt;&gt;(getApplicationContext(),android.R.layout.simple_spinner_item,categoryarraylist);\r\n            categoryspn.setAdapter(categoryarrayadapter);\r\n    \r\n            weightarraylist=new ArrayList&lt;&gt;();\r\n            weightarraylist.add(&quot;Kilogram&quot;);\r\n            weightarraylist.add(&quot;Pound&quot;);\r\n    \r\n            lengtharraylist= new ArrayList&lt;&gt;();\r\n            lengtharraylist.add(&quot;kilometer&quot;);\r\n            lengtharraylist.add(&quot;mile&quot;);\r\n    \r\n            categoryspn.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n    \r\n                    if (categoryarraylist.equals(1))\r\n                    {\r\n                        unitarrayadapter= new ArrayAdapter&lt;&gt;(getApplicationContext(),android.R.layout.simple_spinner_item,weightarraylist);\r\n                    }\r\n                    if (categoryarraylist.equals(2))\r\n                    {\r\n                        unitarrayadapter=new ArrayAdapter&lt;&gt;(getApplicationContext(),android.R.layout.simple_spinner_item,lengtharraylist);\r\n                    }\r\n                    unitspn.setAdapter(unitarrayadapter);\r\n                }\r\n    \r\n    \r\n                @Override\r\n                public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n    \r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nusing 2 spinner first one contains the main category and second one contains the items related to the selected category.\r\nbut the second spinner values are not displayed.","title":"multiple spinner in which second spinner values should be related to the selected value in first spinner","body":"<p>using 2 spinner first one contains the main category and second one contains the items related to the selected category.\nbut the second spinner values are not displayed.</p>\n<pre><code>package com.learning.double_spinner;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Spinner;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Spinner categoryspn,unitspn;\n    EditText inputedt;\n    Button convertbtn;\n    TextView resulttxtv;\n\n    ArrayList&lt;String&gt; categoryarraylist;\n    ArrayList&lt;String&gt; weightarraylist;\n    ArrayList&lt;String&gt; lengtharraylist;\n\n    ArrayAdapter&lt;String&gt; categoryarrayadapter;\n    ArrayAdapter&lt;String&gt; unitarrayadapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        categoryspn= findViewById(R.id.categoryspn);\n        unitspn=findViewById(R.id.unitspn);\n        inputedt=findViewById(R.id.inputedt);\n        convertbtn=findViewById(R.id.convertbtn);\n        resulttxtv=findViewById(R.id.resulttxtv);\n\n        categoryarraylist= new ArrayList&lt;&gt;();\n        categoryarraylist.add(&quot;Select Category&quot;);\n        categoryarraylist.add(&quot;Weight&quot;);\n        categoryarraylist.add(&quot;Length&quot;);\n\n        categoryarrayadapter= new ArrayAdapter&lt;&gt;(getApplicationContext(),android.R.layout.simple_spinner_item,categoryarraylist);\n        categoryspn.setAdapter(categoryarrayadapter);\n\n        weightarraylist=new ArrayList&lt;&gt;();\n        weightarraylist.add(&quot;Kilogram&quot;);\n        weightarraylist.add(&quot;Pound&quot;);\n\n        lengtharraylist= new ArrayList&lt;&gt;();\n        lengtharraylist.add(&quot;kilometer&quot;);\n        lengtharraylist.add(&quot;mile&quot;);\n\n        categoryspn.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n                if (categoryarraylist.equals(1))\n                {\n                    unitarrayadapter= new ArrayAdapter&lt;&gt;(getApplicationContext(),android.R.layout.simple_spinner_item,weightarraylist);\n                }\n                if (categoryarraylist.equals(2))\n                {\n                    unitarrayadapter=new ArrayAdapter&lt;&gt;(getApplicationContext(),android.R.layout.simple_spinner_item,lengtharraylist);\n                }\n                unitspn.setAdapter(unitarrayadapter);\n            }\n\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n            }\n        });\n    }\n}\n</code></pre>\n<p>using 2 spinner first one contains the main category and second one contains the items related to the selected category.\nbut the second spinner values are not displayed.</p>\n"},{"tags":["java","fonts","jcheckbox","jradiobutton","multipleselection"],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659463476,"creation_date":1659463476,"answer_id":73211852,"question_id":73211554,"body_markdown":"Example:\r\n```\r\nimport java.awt.Font;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.event.ItemEvent;\r\nimport javax.swing.*;\r\n\r\npublic class Test {\r\n\r\n    public void run() {\r\n        final JTextField textField = new JTextField(20);\r\n        \r\n        JCheckBox bold = new JCheckBox(&quot;Bold&quot;);\r\n        JCheckBox italic = new JCheckBox(&quot;Italic&quot;);\r\n        JPanel stylePanel = new JPanel();\r\n        stylePanel.add(bold);\r\n        stylePanel.add(italic);\r\n        \r\n        bold.addItemListener(e -&gt; changeStyle(textField, Font.BOLD, e.getStateChange()));\r\n        italic.addItemListener(e -&gt; changeStyle(textField, Font.ITALIC, e.getStateChange()));\r\n\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n        frame.add(textField, BorderLayout.NORTH);\r\n        frame.add(stylePanel, BorderLayout.SOUTH);\r\n        frame.setSize(800, 600);\r\n        frame.setVisible(true);\r\n    }\r\n    \r\n    private void changeStyle(JTextField textField, int style, int stateChange) {\r\n        if (stateChange == ItemEvent.DESELECTED) {\r\n            removeStyle(textField, style);\r\n        } else {\r\n            addStyle(textField, style);\r\n        }\r\n    }\r\n    \r\n    private void addStyle(JTextField textField, int style) {\r\n        Font current = textField.getFont();\r\n        int newStyle = current.getStyle() | style;        \r\n        textField.setFont(current.deriveFont(newStyle));\r\n    }\r\n    \r\n    private void removeStyle(JTextField textField, int style) {\r\n        Font current = textField.getFont();\r\n        int newStyle = current.getStyle() &amp; ~style;        \r\n        textField.setFont(current.deriveFont(newStyle));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; new Test().run());\r\n    }\r\n}\r\n```","title":"Is there a way to select multiple check boxes in java?","body":"<p>Example:</p>\n<pre><code>import java.awt.Font;\nimport java.awt.BorderLayout;\nimport java.awt.event.ItemEvent;\nimport javax.swing.*;\n\npublic class Test {\n\n    public void run() {\n        final JTextField textField = new JTextField(20);\n        \n        JCheckBox bold = new JCheckBox(&quot;Bold&quot;);\n        JCheckBox italic = new JCheckBox(&quot;Italic&quot;);\n        JPanel stylePanel = new JPanel();\n        stylePanel.add(bold);\n        stylePanel.add(italic);\n        \n        bold.addItemListener(e -&gt; changeStyle(textField, Font.BOLD, e.getStateChange()));\n        italic.addItemListener(e -&gt; changeStyle(textField, Font.ITALIC, e.getStateChange()));\n\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        frame.add(textField, BorderLayout.NORTH);\n        frame.add(stylePanel, BorderLayout.SOUTH);\n        frame.setSize(800, 600);\n        frame.setVisible(true);\n    }\n    \n    private void changeStyle(JTextField textField, int style, int stateChange) {\n        if (stateChange == ItemEvent.DESELECTED) {\n            removeStyle(textField, style);\n        } else {\n            addStyle(textField, style);\n        }\n    }\n    \n    private void addStyle(JTextField textField, int style) {\n        Font current = textField.getFont();\n        int newStyle = current.getStyle() | style;        \n        textField.setFont(current.deriveFont(newStyle));\n    }\n    \n    private void removeStyle(JTextField textField, int style) {\n        Font current = textField.getFont();\n        int newStyle = current.getStyle() &amp; ~style;        \n        textField.setFont(current.deriveFont(newStyle));\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new Test().run());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25960099,"reputation":1,"user_id":19676866,"display_name":"Maryam Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659463476,"creation_date":1659461750,"question_id":73211554,"body_markdown":"I have been programming this small app that the user can select one of the a font colors, blue , red and black, so i used JradioButton for them. also the user can choose a style to the font whether bold or italic or both at the same time, so i used Jcheckbox. the problem is that i tried to let the user choose both italic and bold but nothing changed, is there a way to do that?   \r\n\r\n    private void jRadioBlackActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n            if (jRadioBlack.isSelected()) {\r\n                jTextField1.setForeground(Color.black);\r\n            }\r\n            if (jCheckBoxBold.isSelected() &amp;&amp; jCheckBoxItalic.isSelected()) {\r\n                jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.BOLD + Font.ITALIC, 14));\r\n            }\r\n        }                                           \r\n    \r\n        private void jRadioRedActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n            if (jRadioRed.isSelected())\r\n                jTextField1.setForeground(Color.red);\r\n        }                                         \r\n    \r\n        private void jRadioBlueActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n            if (jRadioBlue.isSelected())\r\n                jTextField1.setForeground(Color.blue);\r\n        }                                          \r\n    \r\n        private void jCheckBoxBoldItemStateChanged(java.awt.event.ItemEvent evt) {                                               \r\n            if (jCheckBoxBold.isSelected()) {\r\n                jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.BOLD, 14));\r\n            } else {\r\n                jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 14));\r\n            }\r\n        }                                              \r\n    \r\n        private void jCheckBoxItalicStateChanged(javax.swing.event.ChangeEvent evt) {                                             \r\n    \r\n        }                                            \r\n    \r\n        private void jCheckBoxItalicItemStateChanged(java.awt.event.ItemEvent evt) {                                                 \r\n            if (jCheckBoxItalic.isSelected()) {\r\n                jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 14));\r\n            } else {\r\n                jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 14));\r\n            }\r\n        }                                                \r\n\r\n","title":"Is there a way to select multiple check boxes in java?","body":"<p>I have been programming this small app that the user can select one of the a font colors, blue , red and black, so i used JradioButton for them. also the user can choose a style to the font whether bold or italic or both at the same time, so i used Jcheckbox. the problem is that i tried to let the user choose both italic and bold but nothing changed, is there a way to do that?</p>\n<pre><code>private void jRadioBlackActionPerformed(java.awt.event.ActionEvent evt) {                                            \n        if (jRadioBlack.isSelected()) {\n            jTextField1.setForeground(Color.black);\n        }\n        if (jCheckBoxBold.isSelected() &amp;&amp; jCheckBoxItalic.isSelected()) {\n            jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.BOLD + Font.ITALIC, 14));\n        }\n    }                                           \n\n    private void jRadioRedActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        if (jRadioRed.isSelected())\n            jTextField1.setForeground(Color.red);\n    }                                         \n\n    private void jRadioBlueActionPerformed(java.awt.event.ActionEvent evt) {                                           \n        if (jRadioBlue.isSelected())\n            jTextField1.setForeground(Color.blue);\n    }                                          \n\n    private void jCheckBoxBoldItemStateChanged(java.awt.event.ItemEvent evt) {                                               \n        if (jCheckBoxBold.isSelected()) {\n            jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.BOLD, 14));\n        } else {\n            jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 14));\n        }\n    }                                              \n\n    private void jCheckBoxItalicStateChanged(javax.swing.event.ChangeEvent evt) {                                             \n\n    }                                            \n\n    private void jCheckBoxItalicItemStateChanged(java.awt.event.ItemEvent evt) {                                                 \n        if (jCheckBoxItalic.isSelected()) {\n            jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 14));\n        } else {\n            jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 14));\n        }\n    }                                                \n</code></pre>\n"},{"tags":["java","asynchronous"],"comments":[{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1516030953,"post_id":48266032,"comment_id":83515438,"body_markdown":"In C# or Node.js, yes, absolutely - those at least have that feature as part of the language. I truthfully don&#39;t remember if Java has this feature yet, though.","body":"In C# or Node.js, yes, absolutely - those at least have that feature as part of the language. I truthfully don&#39;t remember if Java has this feature yet, though."},{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":2,"creation_date":1516031113,"post_id":48266032,"comment_id":83515533,"body_markdown":"Possible duplicate of [Asynchronous processing with a single thread](https://stackoverflow.com/questions/21263574/asynchronous-processing-with-a-single-thread)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/21263574/asynchronous-processing-with-a-single-thread\">Asynchronous processing with a single thread</a>"}],"answers":[{"tags":[],"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1659462984,"creation_date":1516031540,"answer_id":48266394,"question_id":48266032,"body_markdown":"Short answer: yes. This is actually a common feature of non-blocking I/O. Java has a non-blocking I/O library - you can see more details about it [here](http://tutorials.jenkov.com/java-nio/nio-vs-io.html). (I&#39;m truthfully not aware of all of the implementation details of the library, though, so I&#39;m not sure if there&#39;s a guarantee that it won&#39;t create extra threads). This is a notable feature of Node.js, for example, and the .NET Framework has this feature available as well.\r\n\r\nHere&#39;s an analogy to illustrate the difference between single-threaded asynchronous programming and multithreading: suppose that you go to a restaurant with a group of 10 people. When the waiter asks the first person to order, he&#39;s not ready yet. In &quot;ordinary&quot; single-threaded programming with blocking I/O, the waiter waits until he&#39;s ready before moving on to anyone else. In multithreading, you could bring in a second waiter to wait for him (or to take the other group members&#39; orders). You could also bring in several waiters who each take the order of, for example, 2 or 3 group members. In asynchronous/non-blocking I/O, you simply move on to the next person in the group and come back to the first guy when he&#39;s ready.\r\n\r\nObviously, I&#39;m glossing over a lot of the subtleties here, but hopefully that illustrates the difference to some degree. \r\n\r\nFor more information, see:\r\n\r\nhttps://stackoverflow.com/questions/598436/does-an-asynchronous-call-always-create-call-a-new-thread\r\n\r\nhttps://stackoverflow.com/questions/21263574/asynchronous-processing-with-a-single-thread\r\n\r\n[There is no thread](https://blog.stephencleary.com/2013/11/there-is-no-thread.html) (focuses on C#)","title":"Single-Thread asynchronous processing in Java","body":"<p>Short answer: yes. This is actually a common feature of non-blocking I/O. Java has a non-blocking I/O library - you can see more details about it <a href=\"http://tutorials.jenkov.com/java-nio/nio-vs-io.html\" rel=\"nofollow noreferrer\">here</a>. (I'm truthfully not aware of all of the implementation details of the library, though, so I'm not sure if there's a guarantee that it won't create extra threads). This is a notable feature of Node.js, for example, and the .NET Framework has this feature available as well.</p>\n<p>Here's an analogy to illustrate the difference between single-threaded asynchronous programming and multithreading: suppose that you go to a restaurant with a group of 10 people. When the waiter asks the first person to order, he's not ready yet. In &quot;ordinary&quot; single-threaded programming with blocking I/O, the waiter waits until he's ready before moving on to anyone else. In multithreading, you could bring in a second waiter to wait for him (or to take the other group members' orders). You could also bring in several waiters who each take the order of, for example, 2 or 3 group members. In asynchronous/non-blocking I/O, you simply move on to the next person in the group and come back to the first guy when he's ready.</p>\n<p>Obviously, I'm glossing over a lot of the subtleties here, but hopefully that illustrates the difference to some degree.</p>\n<p>For more information, see:</p>\n<p><a href=\"https://stackoverflow.com/questions/598436/does-an-asynchronous-call-always-create-call-a-new-thread\">Does an asynchronous call always create/call a new thread?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/21263574/asynchronous-processing-with-a-single-thread\">Asynchronous processing with a single thread</a></p>\n<p><a href=\"https://blog.stephencleary.com/2013/11/there-is-no-thread.html\" rel=\"nofollow noreferrer\">There is no thread</a> (focuses on C#)</p>\n"}],"owner":{"account_id":12258666,"reputation":245,"user_id":8947028,"accept_rate":7,"display_name":"elnino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4936,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":48266394,"answer_count":1,"score":8,"last_activity_date":1659462984,"creation_date":1516030296,"question_id":48266032,"body_markdown":"I have a question about Java threading. Is possible run two tasks asynchronously when I use only Main Thread? I read this article: https://stackoverflow.com/questions/748175/asynchronous-vs-synchronous-execution-what-does-it-really-mean\r\nSecond answer says that is possible case where is only one thread (not main thread and one other) and tasks are executed asynchronously. I think that it is not possible in Java because exists only one flow of control.\r\nI think that in Java each task need own thread for execution tasks asynchronously.","title":"Single-Thread asynchronous processing in Java","body":"<p>I have a question about Java threading. Is possible run two tasks asynchronously when I use only Main Thread? I read this article: <a href=\"https://stackoverflow.com/questions/748175/asynchronous-vs-synchronous-execution-what-does-it-really-mean\">Asynchronous vs synchronous execution, what does it really mean?</a>\nSecond answer says that is possible case where is only one thread (not main thread and one other) and tasks are executed asynchronously. I think that it is not possible in Java because exists only one flow of control.\nI think that in Java each task need own thread for execution tasks asynchronously.</p>\n"},{"tags":["java","jquery","ajax","selenium"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1659384151,"post_id":73191839,"comment_id":129277505,"body_markdown":"It&#39;s just a name of a function... look for it to see what it does.  It sounds like it makes a prompt appear in the DOM.  You can test for the appearance of that element. (or the &quot;success&quot; version)","body":"It&#39;s just a name of a function... look for it to see what it does.  It sounds like it makes a prompt appear in the DOM.  You can test for the appearance of that element. (or the &quot;success&quot; version)"},{"owner":{"account_id":10169503,"reputation":37,"user_id":7510248,"display_name":"Petros Belachew"},"score":0,"creation_date":1659462635,"post_id":73191839,"comment_id":129299194,"body_markdown":"@pcalkins, The function prompts a message &quot;Message was sent&quot;.I want to check if the message was sent or not. But,I can&#39;t able to capture the status of the function. Can you help me, How could I do that?","body":"@pcalkins, The function prompts a message &quot;Message was sent&quot;.I want to check if the message was sent or not. But,I can&#39;t able to capture the status of the function. Can you help me, How could I do that?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1659463950,"post_id":73191839,"comment_id":129299580,"body_markdown":"Seems like you&#39;d need to check from the account the message was sent to.  You might want to manually check it.   If you want to check the response like the site does you&#39;d mock-up the call.","body":"Seems like you&#39;d need to check from the account the message was sent to.  You might want to manually check it.   If you want to check the response like the site does you&#39;d mock-up the call."},{"owner":{"account_id":10169503,"reputation":37,"user_id":7510248,"display_name":"Petros Belachew"},"score":0,"creation_date":1659508239,"post_id":73191839,"comment_id":129308320,"body_markdown":"Thanks, @pcalkins, for your response.\nCurrently, there are hundreds of mailboxes, and checking all emails manually takes a lot of time. Is there no mechanism for getting the texts from the DOM prompt?","body":"Thanks, @pcalkins, for your response. Currently, there are hundreds of mailboxes, and checking all emails manually takes a lot of time. Is there no mechanism for getting the texts from the DOM prompt?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1659548898,"post_id":73191839,"comment_id":129322764,"body_markdown":"yes, you&#39;d check the DOM for existence of the prompt... (or alert?  you need to inspect those prompts to see what to target)  Validating the prompt is not necessarily validating that the message has been sent, though.","body":"yes, you&#39;d check the DOM for existence of the prompt... (or alert?  you need to inspect those prompts to see what to target)  Validating the prompt is not necessarily validating that the message has been sent, though."},{"owner":{"account_id":10169503,"reputation":37,"user_id":7510248,"display_name":"Petros Belachew"},"score":0,"creation_date":1659549766,"post_id":73191839,"comment_id":129323075,"body_markdown":"I am not sure that validating the DOM doesn&#39;t mean that the message has been sent. But, here my target is to check the DOM prompt text content, in order to identify the status of each mailbox.I wonder if there will be a way for it. Thanks once again.","body":"I am not sure that validating the DOM doesn&#39;t mean that the message has been sent. But, here my target is to check the DOM prompt text content, in order to identify the status of each mailbox.I wonder if there will be a way for it. Thanks once again."}],"owner":{"account_id":10169503,"reputation":37,"user_id":7510248,"display_name":"Petros Belachew"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659462939,"creation_date":1659347147,"question_id":73191839,"body_markdown":"I want to get the error message that was developed in the ajax error() method. I have tried all wait mechanisms but, it only captures the status of the button: &quot;Sending&quot;.\r\n\r\n**Code snippet** \r\n\r\n    \r\n\t List&lt;WebElement&gt; Shops=driver.findElements(By.className(&quot;card&quot;)) ;\r\n\t\t \r\n\t\tSystem.out.print(&quot;Size  &quot; + Shops.size());\r\n\t\tdriver.manage().window().maximize();\r\n\t\t\r\n\t\tfor(int i=0; i&lt;Shops.size(); i++)\r\n\t\t{ \r\n\t\t\ttry { // Handle Exceptions\r\n\t\t\t\t\r\n\t     Shops.get(i).click(); //click on specific mailbox\r\n\t     \r\n\t\t WebElement Conn_setting= driver.findElement(By.linkText(&quot;Connection Settings&quot;));\r\n\t\t Conn_setting.click();     // click on connection Settings\r\n\t\t \r\n\t\t \r\n\t\t\r\n\t\t \r\n\t\t WebElement Send_Test=driver.findElement(By.xpath(&quot;//*[@id=\\&quot;send-test-trigger\\&quot;]&quot;));\r\n\t\t\r\n\t\t \r\n\t\tJavascriptExecutor j = (JavascriptExecutor) driver;\r\n\t\t \r\n\t     \r\n\t     \r\n\t\t WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(100));\r\n\t\t wait.until(ExpectedConditions.visibilityOf(Send_Test));\r\n\t\t j.executeScript(&quot;arguments[0].click();&quot;,Send_Test);\r\n\t\r\n\t\t\tString textAfter = Send_Test.getText().trim();\r\n\t\t\t\r\n......\r\nIs there anyone who has experience with get the error messages of Ajaxerror() method using selenium with java?\r\nThank you for your help\r\n\r\n[![page with send test button][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AkZoj.png","title":"How to get error messag error messages in ajaxerror() method using selenium java","body":"<p>I want to get the error message that was developed in the ajax error() method. I have tried all wait mechanisms but, it only captures the status of the button: &quot;Sending&quot;.</p>\n<p><strong>Code snippet</strong></p>\n<pre><code> List&lt;WebElement&gt; Shops=driver.findElements(By.className(&quot;card&quot;)) ;\n     \n    System.out.print(&quot;Size  &quot; + Shops.size());\n    driver.manage().window().maximize();\n    \n    for(int i=0; i&lt;Shops.size(); i++)\n    { \n        try { // Handle Exceptions\n            \n     Shops.get(i).click(); //click on specific mailbox\n     \n     WebElement Conn_setting= driver.findElement(By.linkText(&quot;Connection Settings&quot;));\n     Conn_setting.click();     // click on connection Settings\n     \n     \n    \n     \n     WebElement Send_Test=driver.findElement(By.xpath(&quot;//*[@id=\\&quot;send-test-trigger\\&quot;]&quot;));\n    \n     \n    JavascriptExecutor j = (JavascriptExecutor) driver;\n     \n     \n     \n     WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(100));\n     wait.until(ExpectedConditions.visibilityOf(Send_Test));\n     j.executeScript(&quot;arguments[0].click();&quot;,Send_Test);\n\n        String textAfter = Send_Test.getText().trim();\n        \n</code></pre>\n<p>......\nIs there anyone who has experience with get the error messages of Ajaxerror() method using selenium with java?\nThank you for your help</p>\n<p><a href=\"https://i.stack.imgur.com/AkZoj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AkZoj.png\" alt=\"page with send test button\" /></a></p>\n"},{"tags":["java","spring-boot","caching","spring-data","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":3929426,"reputation":11,"user_id":3248650,"display_name":"sathish kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659254988,"creation_date":1659254988,"answer_id":73181595,"question_id":73098956,"body_markdown":"I assume you are using Spring boot for this tryout.\r\nSpring boot by default uses lettuce client.So all you have to provide is redis connection details in application.properties/yaml and create RedisTemplate Bean with RedisConnectionFactory instance.\r\n\r\nRedisConfig.java\r\n\r\n    @Configuration\r\n    public class RedisConfig {\r\n\r\n    @Bean\r\n        public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory factory){\r\n            RedisTemplate&lt;String,Object&gt; redisTemplate=new RedisTemplate&lt;&gt;();\r\n            redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n            redisTemplate.setValueSerializer(new GenericToStringSerializer&lt;Object&gt;(Object.class));\r\n            redisTemplate.setConnectionFactory(factory);\r\n            return redisTemplate;\r\n        }\r\n      }\r\n\r\nApplication.properties:\r\n\r\n    spring.redis.database=0\r\n    spring.redis.host=localhost\r\n    spring.redis.port=6379\r\n    spring.redis.password=mypass\r\n\r\nMake sure the Redis server is running in aforementioned server/port and use redisTemplate bean in your service layer.\r\n\r\n","title":"Connection to Redis Cache using Spring Data Redis","body":"<p>I assume you are using Spring boot for this tryout.\nSpring boot by default uses lettuce client.So all you have to provide is redis connection details in application.properties/yaml and create RedisTemplate Bean with RedisConnectionFactory instance.</p>\n<p>RedisConfig.java</p>\n<pre><code>@Configuration\npublic class RedisConfig {\n\n@Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory factory){\n        RedisTemplate&lt;String,Object&gt; redisTemplate=new RedisTemplate&lt;&gt;();\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\n        redisTemplate.setValueSerializer(new GenericToStringSerializer&lt;Object&gt;(Object.class));\n        redisTemplate.setConnectionFactory(factory);\n        return redisTemplate;\n    }\n  }\n</code></pre>\n<p>Application.properties:</p>\n<pre><code>spring.redis.database=0\nspring.redis.host=localhost\nspring.redis.port=6379\nspring.redis.password=mypass\n</code></pre>\n<p>Make sure the Redis server is running in aforementioned server/port and use redisTemplate bean in your service layer.</p>\n"},{"tags":[],"owner":{"account_id":12655515,"reputation":37,"user_id":9198175,"display_name":"Chaithra Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659462859,"creation_date":1659462859,"answer_id":73211739,"question_id":73098956,"body_markdown":"I could make a successful connection to redis using LettuceConnectionFactory by setting ssl to true and VerifyPeer to false.\r\n```\r\n@Bean\r\n    public LettuceConnectionFactory lettuceConnectionFactory() {\r\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory();\r\n        lettuceConnectionFactory.setHostName(&quot;hostname&quot;);\r\n        lettuceConnectionFactory.setPort(port);\r\n        lettuceConnectionFactory.setPassword(&quot;yourpassword&quot;);\r\n        lettuceConnectionFactory.setUseSsl(true);\r\n        lettuceConnectionFactory.setVerifyPeer(false);\r\n        return lettuceConnectionFactory;\r\n    }\r\n\r\n```","title":"Connection to Redis Cache using Spring Data Redis","body":"<p>I could make a successful connection to redis using LettuceConnectionFactory by setting ssl to true and VerifyPeer to false.</p>\n<pre><code>@Bean\n    public LettuceConnectionFactory lettuceConnectionFactory() {\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory();\n        lettuceConnectionFactory.setHostName(&quot;hostname&quot;);\n        lettuceConnectionFactory.setPort(port);\n        lettuceConnectionFactory.setPassword(&quot;yourpassword&quot;);\n        lettuceConnectionFactory.setUseSsl(true);\n        lettuceConnectionFactory.setVerifyPeer(false);\n        return lettuceConnectionFactory;\n    }\n\n</code></pre>\n"}],"owner":{"account_id":12655515,"reputation":37,"user_id":9198175,"display_name":"Chaithra Rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73211739,"answer_count":2,"score":0,"last_activity_date":1659462859,"creation_date":1658670464,"question_id":73098956,"body_markdown":"I am trying to connect to Redis Cluster using Spring Data Redis. Below are is how I configured it. \r\n\r\n```\r\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\r\nimport org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\r\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\r\nimport org.springframework.data.redis.core.RedisTemplate;\r\n\r\n@Configuration\r\npublic class RedisConfig {\r\n \r\n    @Bean\r\n    public JedisConnectionFactory jedisConnectionFactory(){\r\n        RedisStandaloneConfiguration config= new RedisStandaloneConfiguration(&quot;server&quot;,portno);\r\n        config.setPassword(&quot;password&quot;);\r\n        return new JedisConnectionFactory(config);\r\n    }\r\n\r\n    @Bean\r\n    public LettuceConnectionFactory lettuceConnectionFactory() {\r\n        RedisStandaloneConfiguration config= new RedisStandaloneConfiguration(&quot;server&quot;,portno);\r\n        config.setPassword(&quot;password&quot;);\r\n        return new LettuceConnectionFactory(config);\r\n    }\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(){\r\n        RedisTemplate&lt;String,Object&gt; redisTemplate=new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setConnectionFactory(jedisConnectionFactory());\r\n        return redisTemplate;\r\n    }\r\n}\r\n\r\n```\r\nI have kept it pretty basic as per the documentation and avoided explicitly as Pool configs as such. I am trying to test if I did connect properly and start with redis operations using below Service class.\r\n```\r\n@Service\r\npublic class RedisListCache {\r\n    private RedisTemplate&lt;String, Object&gt; redisTemplate;\r\n    private ListOperations&lt;String, Object&gt; listOperations;\r\n\r\n    public  RedisListCache(RedisTemplate&lt;String, Object&gt; redisTemplate){\r\n        this.redisTemplate=redisTemplate;\r\n        listOperations=redisTemplate.opsForList();\r\n    }\r\n\r\n    @PostConstruct\r\n    public void setup(){\r\n        listOperations.leftPush(&quot;keytest&quot;,&quot;Redistesting&quot;);\r\n        System.out.println(listOperations.rightPop(&quot;keytest&quot;));\r\n    }\r\n}\r\n\r\n```\r\nNow I am unable to connect to redis. Posting partial logs below\r\n```\r\nCaused by: io.lettuce.core.RedisCommandTimeoutException: Connection initialization timed out. Command timed out after 1 minute(s)\r\n\tat io.lettuce.core.internal.ExceptionFactory.createTimeoutException(ExceptionFactory.java:71) ~[lettuce-core-6.1.9.RELEASE.jar:6.1.9.RELEASE]\r\n\tat io.lettuce.core.protocol.RedisHandshakeHandler.lambda$channelRegistered$0(RedisHandshakeHandler.java:62) ~[lettuce-core-6.1.9.RELEASE.jar:6.1.9.RELEASE]\r\n\tat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n\tat io.netty.util.concurrent.PromiseTask.run(PromiseTask.java:106) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n\tat io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n```\r\n\r\nI am fairly new to in-memory data store and caching so please let me know on any inputs to get this working.","title":"Connection to Redis Cache using Spring Data Redis","body":"<p>I am trying to connect to Redis Cluster using Spring Data Redis. Below are is how I configured it.</p>\n<pre><code>import org.springframework.data.redis.connection.RedisStandaloneConfiguration;\nimport org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\nimport org.springframework.data.redis.core.RedisTemplate;\n\n@Configuration\npublic class RedisConfig {\n \n    @Bean\n    public JedisConnectionFactory jedisConnectionFactory(){\n        RedisStandaloneConfiguration config= new RedisStandaloneConfiguration(&quot;server&quot;,portno);\n        config.setPassword(&quot;password&quot;);\n        return new JedisConnectionFactory(config);\n    }\n\n    @Bean\n    public LettuceConnectionFactory lettuceConnectionFactory() {\n        RedisStandaloneConfiguration config= new RedisStandaloneConfiguration(&quot;server&quot;,portno);\n        config.setPassword(&quot;password&quot;);\n        return new LettuceConnectionFactory(config);\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(){\n        RedisTemplate&lt;String,Object&gt; redisTemplate=new RedisTemplate&lt;&gt;();\n        redisTemplate.setConnectionFactory(jedisConnectionFactory());\n        return redisTemplate;\n    }\n}\n\n</code></pre>\n<p>I have kept it pretty basic as per the documentation and avoided explicitly as Pool configs as such. I am trying to test if I did connect properly and start with redis operations using below Service class.</p>\n<pre><code>@Service\npublic class RedisListCache {\n    private RedisTemplate&lt;String, Object&gt; redisTemplate;\n    private ListOperations&lt;String, Object&gt; listOperations;\n\n    public  RedisListCache(RedisTemplate&lt;String, Object&gt; redisTemplate){\n        this.redisTemplate=redisTemplate;\n        listOperations=redisTemplate.opsForList();\n    }\n\n    @PostConstruct\n    public void setup(){\n        listOperations.leftPush(&quot;keytest&quot;,&quot;Redistesting&quot;);\n        System.out.println(listOperations.rightPop(&quot;keytest&quot;));\n    }\n}\n\n</code></pre>\n<p>Now I am unable to connect to redis. Posting partial logs below</p>\n<pre><code>Caused by: io.lettuce.core.RedisCommandTimeoutException: Connection initialization timed out. Command timed out after 1 minute(s)\n    at io.lettuce.core.internal.ExceptionFactory.createTimeoutException(ExceptionFactory.java:71) ~[lettuce-core-6.1.9.RELEASE.jar:6.1.9.RELEASE]\n    at io.lettuce.core.protocol.RedisHandshakeHandler.lambda$channelRegistered$0(RedisHandshakeHandler.java:62) ~[lettuce-core-6.1.9.RELEASE.jar:6.1.9.RELEASE]\n    at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n    at io.netty.util.concurrent.PromiseTask.run(PromiseTask.java:106) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n    at io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n</code></pre>\n<p>I am fairly new to in-memory data store and caching so please let me know on any inputs to get this working.</p>\n"},{"tags":["c#","java","vb.net","programming-languages"],"answers":[{"tags":[],"owner":{"account_id":119129,"reputation":3846,"user_id":310626,"accept_rate":53,"display_name":"duduamar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1288872158,"creation_date":1288872158,"answer_id":4096421,"question_id":4096405,"body_markdown":"In JAVA - use the final keyword:\r\n\r\n    public final class FDetails\r\n\r\n\r\nIn C# - the sealed keyword:\r\n\r\n    sealed class FDetails","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<p>In JAVA - use the final keyword:</p>\n\n<pre><code>public final class FDetails\n</code></pre>\n\n<p>In C# - the sealed keyword:</p>\n\n<pre><code>sealed class FDetails\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1190,"reputation":492175,"user_id":1583,"accept_rate":100,"display_name":"Oded"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1288872178,"creation_date":1288872178,"answer_id":4096423,"question_id":4096405,"body_markdown":"In C# you use the `sealed` keyword in order to prevent a class from being inherited.\r\n\r\nIn VB.NET you use the `NotInheritable` keyword.\r\n\r\nIn Java you use the keyword `final`.","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<p>In C# you use the <code>sealed</code> keyword in order to prevent a class from being inherited.</p>\n\n<p>In VB.NET you use the <code>NotInheritable</code> keyword.</p>\n\n<p>In Java you use the keyword <code>final</code>.</p>\n"},{"tags":[],"owner":{"account_id":43462,"reputation":60851,"user_id":127059,"accept_rate":90,"display_name":"Femaref"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1288872205,"creation_date":1288872205,"answer_id":4096427,"question_id":4096405,"body_markdown":"    java: final  \r\n    vb: NotInheritable (NonOverrideable for properties)\r\n    c#: sealed","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<pre><code>java: final  \nvb: NotInheritable (NonOverrideable for properties)\nc#: sealed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14626,"reputation":2286,"user_id":30297,"accept_rate":92,"display_name":"chillysapien"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1466604723,"creation_date":1288872297,"answer_id":4096441,"question_id":4096405,"body_markdown":"In Java use the final keyword:\r\n\r\n    public final class fdetails{\r\n    \r\n    }\r\n\r\nIn C# use the sealed keyword:\r\n\r\n    public sealed class fdetails{\r\n    \r\n    }\r\n\r\nIn VB.net use the NotInheritable keyword:\r\n\r\n    public notinheritable class fdetails\r\n    \r\n    end class","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<p>In Java use the final keyword:</p>\n\n<pre><code>public final class fdetails{\n\n}\n</code></pre>\n\n<p>In C# use the sealed keyword:</p>\n\n<pre><code>public sealed class fdetails{\n\n}\n</code></pre>\n\n<p>In VB.net use the NotInheritable keyword:</p>\n\n<pre><code>public notinheritable class fdetails\n\nend class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3533289,"reputation":39,"user_id":2952223,"display_name":"Shubhranshu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659462555,"creation_date":1459583622,"answer_id":36370686,"question_id":4096405,"body_markdown":"In order to prevent a class in C# from being inherited, the keyword sealed is used. Thus a sealed class may not serve as a base class of any other class. It is also obvious that a sealed class cannot be an abstract class. Code below...\r\n\r\n    //C# Example\r\n    sealed class ClassA\r\n    {\r\n        public int x;\r\n        public int y;\r\n    }\r\n\r\n\r\nNo class can inherit from ClassA defined above. Instances of ClassA may be created and its members may then be accessed, but nothing like the code below is possible...\r\n\r\n    class DerivedClass : ClassA { } // Error\r\n\r\n\r\nSame in Java and VB.net:\r\n\r\n    java: final  \r\n    vb: NotInheritable (NonOverrideable for properties)","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<p>In order to prevent a class in C# from being inherited, the keyword sealed is used. Thus a sealed class may not serve as a base class of any other class. It is also obvious that a sealed class cannot be an abstract class. Code below...</p>\n<pre><code>//C# Example\nsealed class ClassA\n{\n    public int x;\n    public int y;\n}\n</code></pre>\n<p>No class can inherit from ClassA defined above. Instances of ClassA may be created and its members may then be accessed, but nothing like the code below is possible...</p>\n<pre><code>class DerivedClass : ClassA { } // Error\n</code></pre>\n<p>Same in Java and VB.net:</p>\n<pre><code>java: final  \nvb: NotInheritable (NonOverrideable for properties)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6888589,"reputation":141,"user_id":5292885,"display_name":"Krishna Prasad S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574165648,"creation_date":1574165648,"answer_id":58933884,"question_id":4096405,"body_markdown":"Alternatively to https://stackoverflow.com/a/4096427/5292885 answer, one can create the base class with private constructor to avoid inheritance (in C#, you get error like **the class is inaccessible due to its protection level** in case if you refer the base class)","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<p>Alternatively to <a href=\"https://stackoverflow.com/a/4096427/5292885\">https://stackoverflow.com/a/4096427/5292885</a> answer, one can create the base class with private constructor to avoid inheritance (in C#, you get error like <strong>the class is inaccessible due to its protection level</strong> in case if you refer the base class)</p>\n"},{"tags":[],"owner":{"display_name":"user15635726"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620825183,"creation_date":1620825183,"answer_id":67504392,"question_id":4096405,"body_markdown":"For C#, it&#39;s the &quot;sealed&quot; keyword.\r\n\r\nFor Java, it&#39;s the &quot;final&quot; keyword.\r\n","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<p>For C#, it's the &quot;sealed&quot; keyword.</p>\n<p>For Java, it's the &quot;final&quot; keyword.</p>\n"}],"owner":{"account_id":204161,"reputation":2097,"user_id":452202,"accept_rate":96,"display_name":"Vishnu Pradeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43726,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":4096427,"answer_count":7,"score":15,"last_activity_date":1659462555,"creation_date":1288871995,"question_id":4096405,"body_markdown":"I have a class named `fdetails` and I do not want any other class to inherit from this class.\r\n\r\nCan I set it to not being inherited by another class. I would like to get this done in the following 3 languages:\r\n  \r\n - Java\r\n - VB.NET 3.5\r\n - C# 3.5","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<p>I have a class named <code>fdetails</code> and I do not want any other class to inherit from this class.</p>\n\n<p>Can I set it to not being inherited by another class. I would like to get this done in the following 3 languages:</p>\n\n<ul>\n<li>Java</li>\n<li>VB.NET 3.5</li>\n<li>C# 3.5</li>\n</ul>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2441365,"reputation":13988,"user_id":2129801,"display_name":"werner"},"score":1,"creation_date":1524249278,"post_id":49939398,"comment_id":86912175,"body_markdown":"Please post a minimal version of your pom.xml that demonstrates the problem.","body":"Please post a minimal version of your pom.xml that demonstrates the problem."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1524421984,"post_id":49939398,"comment_id":86954653,"body_markdown":"Are you running on JDK 9 / JDK 10? Which version of Maven are you using?","body":"Are you running on JDK 9 / JDK 10? Which version of Maven are you using?"},{"owner":{"account_id":13406304,"reputation":241,"user_id":9674246,"display_name":"szumi"},"score":0,"creation_date":1524555161,"post_id":49939398,"comment_id":87008013,"body_markdown":"I am using JDK 9.0.4. \n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;. xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;. xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;. \n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;. \n\n  &lt;groupId&gt;group&lt;/groupId&gt;. \n  &lt;artifactId&gt;project&lt;/artifactId&gt;. \n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;. \n  &lt;packaging&gt;jar&lt;/packaging&gt;. \n  &lt;name&gt;projectName&lt;/name&gt;. \n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;.","body":"I am using JDK 9.0.4.  &lt;project xmlns=&quot;<a href=\"http://maven.apache.org/POM/4.0.0\" rel=\"nofollow noreferrer\">maven.apache.org/POM/4.0.0</a>&quot;. xmlns:xsi=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot;. xsi:schemaLocation=&quot;<a href=\"http://maven.apache.org/POM/4.0.0\" rel=\"nofollow noreferrer\">maven.apache.org/POM/4.0.0</a> <a href=\"http://maven.apache.org/xsd/maven-4.0.0.xsd\" rel=\"nofollow noreferrer\">maven.apache.org/xsd/maven-4.0.0.xsd</a>&quot;&gt;.    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;.     &lt;groupId&gt;group&lt;/groupId&gt;.    &lt;artifactId&gt;project&lt;/artifactId&gt;.    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;.    &lt;packaging&gt;jar&lt;/packaging&gt;.    &lt;name&gt;projectName&lt;/name&gt;.    &lt;url&gt;<a href=\"http://maven.apache.org&lt;/url\" rel=\"nofollow noreferrer\">maven.apache.org&lt;/url</a>&gt;."}],"answers":[{"tags":[],"owner":{"account_id":4083966,"reputation":1293,"user_id":3353717,"display_name":"roj"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1547782997,"creation_date":1547782997,"answer_id":54247475,"question_id":49939398,"body_markdown":"I was also getting `Fatal error compiling: CompilerException: NullPointerException` when running a maven 3.3.9 compile under JDK 11.\r\nI switched to JDK 8 and no longer got the `NullPointerException`.","title":"Maven compiler plugin null pointer","body":"<p>I was also getting <code>Fatal error compiling: CompilerException: NullPointerException</code> when running a maven 3.3.9 compile under JDK 11.\nI switched to JDK 8 and no longer got the <code>NullPointerException</code>.</p>\n"},{"tags":[],"owner":{"account_id":1492534,"reputation":4433,"user_id":6999690,"display_name":"Ruslan L&#243;pez"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1566409689,"creation_date":1566409689,"answer_id":57596818,"question_id":49939398,"body_markdown":"It happens when maven compiler plugin can&#39;t find some required part of your source code.\r\n\r\nLet me tell you my case:\r\n\r\n 1. I created a spring boot application and wanted to test it\r\n 2. So I created another maven module to create an API for automated GUI tests\r\n 3. [tag:spring-boot-maven-plugin] overrides the way jars are created so the directories inside the .jar change so I had to tune the [tag:maven-jar-plugin] to generate the jar for me\r\n 4. I forgot to include a package (service) in this plugin so the same error you have appeared\r\n\r\nSo... I included the package and it worked\r\n\r\n         &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;inventarios.Inventarios&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;!--to be imported on other projects--&gt;\r\n                            &lt;classifier&gt;app-to-import&lt;/classifier&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/desktop/*&lt;/include&gt;\r\n                                &lt;include&gt;**/desktop/navigation/*&lt;/include&gt;\r\n                                &lt;include&gt;**/service/*&lt;/include&gt; &lt;!--the package I forgot--&gt;\r\n                                &lt;include&gt;**/util/*&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nAnother suggestion I found while searching for the [bug in JDK classes][1] was to add on the compiler plugin the configuration option `forceJavacCompilerUse`\r\n\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;3.8.1&lt;/version&gt;\r\n       &lt;configuration&gt;\r\n          &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8216202","title":"Maven compiler plugin null pointer","body":"<p>It happens when maven compiler plugin can't find some required part of your source code.</p>\n\n<p>Let me tell you my case:</p>\n\n<ol>\n<li>I created a spring boot application and wanted to test it</li>\n<li>So I created another maven module to create an API for automated GUI tests</li>\n<li><a href=\"/questions/tagged/spring-boot-maven-plugin\" class=\"post-tag\" title=\"show questions tagged &#39;spring-boot-maven-plugin&#39;\" rel=\"tag\">spring-boot-maven-plugin</a> overrides the way jars are created so the directories inside the .jar change so I had to tune the <a href=\"/questions/tagged/maven-jar-plugin\" class=\"post-tag\" title=\"show questions tagged &#39;maven-jar-plugin&#39;\" rel=\"tag\">maven-jar-plugin</a> to generate the jar for me</li>\n<li>I forgot to include a package (service) in this plugin so the same error you have appeared</li>\n</ol>\n\n<p>So... I included the package and it worked</p>\n\n<pre><code>     &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;inventarios.Inventarios&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;jar&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;!--to be imported on other projects--&gt;\n                        &lt;classifier&gt;app-to-import&lt;/classifier&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;**/desktop/*&lt;/include&gt;\n                            &lt;include&gt;**/desktop/navigation/*&lt;/include&gt;\n                            &lt;include&gt;**/service/*&lt;/include&gt; &lt;!--the package I forgot--&gt;\n                            &lt;include&gt;**/util/*&lt;/include&gt;\n                        &lt;/includes&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Another suggestion I found while searching for the <a href=\"https://bugs.openjdk.java.net/browse/JDK-8216202\" rel=\"noreferrer\">bug in JDK classes</a> was to add on the compiler plugin the configuration option <code>forceJavacCompilerUse</code></p>\n\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.8.1&lt;/version&gt;\n   &lt;configuration&gt;\n      &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55444,"reputation":5230,"user_id":166062,"display_name":"Lari Hotari"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1642412230,"creation_date":1642412230,"answer_id":70739212,"question_id":49939398,"body_markdown":"There&#39;s an open issue in Maven Compiler Plugin, https://issues.apache.org/jira/browse/MCOMPILER-346 .\r\n\r\nThe underlying problem is usually caused by a compiler error that gets masked. To find out the compiler error, pass `-Dmaven.compiler.forceJavacCompilerUse=true` to the `mvn` command line.\r\nAfter fixing the compiler error, the problem goes away.\r\n\r\n","title":"Maven compiler plugin null pointer","body":"<p>There's an open issue in Maven Compiler Plugin, <a href=\"https://issues.apache.org/jira/browse/MCOMPILER-346\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/MCOMPILER-346</a> .</p>\n<p>The underlying problem is usually caused by a compiler error that gets masked. To find out the compiler error, pass <code>-Dmaven.compiler.forceJavacCompilerUse=true</code> to the <code>mvn</code> command line.\nAfter fixing the compiler error, the problem goes away.</p>\n"}],"owner":{"account_id":13406304,"reputation":241,"user_id":9674246,"display_name":"szumi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24211,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":3,"score":24,"last_activity_date":1659461213,"creation_date":1524219618,"question_id":49939398,"body_markdown":"I have a problem during run of my tests by terminal. I need to run mvn install, but I get:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project ProjectName: Fatal error compiling: CompilerException: NullPointerException -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project ProjectName: Fatal error compiling\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:564)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\n\r\nI tried to run it with different versions of compiler. When running tests by testNG in Eclipse everything works fine. The problem occurs when running through terminal. These are cucumber tests of mobile application. Runner uses Appium.\r\n","title":"Maven compiler plugin null pointer","body":"<p>I have a problem during run of my tests by terminal. I need to run mvn install, but I get:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project ProjectName: Fatal error compiling: CompilerException: NullPointerException -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project ProjectName: Fatal error compiling\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:564)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n</code></pre>\n\n<p>I tried to run it with different versions of compiler. When running tests by testNG in Eclipse everything works fine. The problem occurs when running through terminal. These are cucumber tests of mobile application. Runner uses Appium.</p>\n"},{"tags":["java","spring-data"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1659427592,"post_id":73203866,"comment_id":129286117,"body_markdown":"How you are using pagerequest with jdbctemplate?","body":"How you are using pagerequest with jdbctemplate?"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1659427635,"post_id":73203866,"comment_id":129286128,"body_markdown":"hi @AshishPatil namedParameter, I see need to extract the pagerequest column string after I set it here,  PageRequest.of(0, 3, Sort.by(&quot;ProductName&quot;).descending());","body":"hi @AshishPatil namedParameter, I see need to extract the pagerequest column string after I set it here,  PageRequest.of(0, 3, Sort.by(&quot;ProductName&quot;).descending());"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659460963,"creation_date":1659429002,"answer_id":73204303,"question_id":73203866,"body_markdown":"If I am understanding your question properly , you want to extract column &amp; order from PageRequest, then you can use something like below (getting Stream of Order, finding first element for extracting column and order details: \r\n\r\n\r\n\r\n    Pageable page = PageRequest.of(0, 3, Sort.by(&quot;ProductName&quot;).descending());\r\n    Sort.Order order = page.getSort().get().findFirst().orElse(null);\r\n    \r\n    if(order!=null) {\r\n       String property = (null != order.getProperty()) ? order.getProperty() : null;   // returns you column name or else null\r\n       String dir = order.getDirection().name();   //returns you Direction\r\n    }","title":"Java Data PageRequest ColumnName and SortOrder in Strings","body":"<p>If I am understanding your question properly , you want to extract column &amp; order from PageRequest, then you can use something like below (getting Stream of Order, finding first element for extracting column and order details:</p>\n<pre><code>Pageable page = PageRequest.of(0, 3, Sort.by(&quot;ProductName&quot;).descending());\nSort.Order order = page.getSort().get().findFirst().orElse(null);\n\nif(order!=null) {\n   String property = (null != order.getProperty()) ? order.getProperty() : null;   // returns you column name or else null\n   String dir = order.getDirection().name();   //returns you Direction\n}\n</code></pre>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73204303,"answer_count":1,"score":0,"last_activity_date":1659460963,"creation_date":1659426777,"question_id":73203866,"body_markdown":"How do I get Column Name and Order property strings in Java PageRequest ?\r\n\r\n    import org.springframework.data.domain.PageRequest;\r\n    PageRequest pageRequest; \r\n\r\nAfter I set it in constructor,\r\n\r\n    PageRequest.of(0, 3, Sort.by(&quot;ProductName&quot;).descending());\r\n\r\nWhat properties should I use in Java to get values from PageRequest object ? \r\n\r\n    getPageRequest().getSort() ??\r\n\r\nI will eventually put values in SQL with NamedParameter JDBC Template: \r\n\r\n  `select * from dbo.Product Order by @ColumnName @SortOrder` **Example**: \r\n`select * from dbo.Order by ProductName desc`\r\n\r\n\r\n","title":"Java Data PageRequest ColumnName and SortOrder in Strings","body":"<p>How do I get Column Name and Order property strings in Java PageRequest ?</p>\n<pre><code>import org.springframework.data.domain.PageRequest;\nPageRequest pageRequest; \n</code></pre>\n<p>After I set it in constructor,</p>\n<pre><code>PageRequest.of(0, 3, Sort.by(&quot;ProductName&quot;).descending());\n</code></pre>\n<p>What properties should I use in Java to get values from PageRequest object ?</p>\n<pre><code>getPageRequest().getSort() ??\n</code></pre>\n<p>I will eventually put values in SQL with NamedParameter JDBC Template:</p>\n<p><code>select * from dbo.Product Order by @ColumnName @SortOrder</code> <strong>Example</strong>:\n<code>select * from dbo.Order by ProductName desc</code></p>\n"},{"tags":["java","swing","jframe","awt","jbutton"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1599150305,"post_id":63727855,"comment_id":112691781,"body_markdown":"provide a method in your Buttoner class that allows that","body":"provide a method in your Buttoner class that allows that"},{"owner":{"account_id":19249119,"reputation":60,"user_id":14067550,"display_name":"Mr. Orange"},"score":0,"creation_date":1599155624,"post_id":63727855,"comment_id":112694091,"body_markdown":"Can you please give me sample?","body":"Can you please give me sample?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1599198134,"post_id":63727855,"comment_id":112704928,"body_markdown":"are you familiar with the concept of setters and getters, or any other method?","body":"are you familiar with the concept of setters and getters, or any other method?"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1599150597,"creation_date":1599150597,"answer_id":63727954,"question_id":63727855,"body_markdown":"Not related to your question but:\r\n\r\n    Buttoner panel = new Buttoner();\r\n    panel.setLayout(new GridLayout(3, 2));\r\n\r\nThe layout manager of the panel should be set BEFORE you add the buttons to the panel. \r\n\r\nThat logic belongs in the constructor of your Buttoner class.\r\n\r\n&gt; how can i get access to my buttons outside of their own class:\r\n\r\nNot sure why you would want to do that.\r\n\r\nThe JFrame is just a container to hold the child components. You should not have any application logic in the class that creates the frame.\r\n\r\n","title":"Maiking buttons visible in other classes","body":"<p>Not related to your question but:</p>\n<pre><code>Buttoner panel = new Buttoner();\npanel.setLayout(new GridLayout(3, 2));\n</code></pre>\n<p>The layout manager of the panel should be set BEFORE you add the buttons to the panel.</p>\n<p>That logic belongs in the constructor of your Buttoner class.</p>\n<blockquote>\n<p>how can i get access to my buttons outside of their own class:</p>\n</blockquote>\n<p>Not sure why you would want to do that.</p>\n<p>The JFrame is just a container to hold the child components. You should not have any application logic in the class that creates the frame.</p>\n"}],"owner":{"account_id":19249119,"reputation":60,"user_id":14067550,"display_name":"Mr. Orange"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":63727954,"answer_count":1,"score":-1,"last_activity_date":1659460414,"creation_date":1599150225,"question_id":63727855,"body_markdown":"I&#39;m writing simple d&amp;d dice manager for practice, and I&#39;m wondering how can i access my buttons outside of their own class:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.*;\r\n\r\n    class Buttoner extends JPanel{\r\n    public JButton d4, d6, d8, d12, d20, d100;\r\n    Buttoner(){\r\n        this.add(d4 = new JButton(&quot;d4&quot;));\r\n        this.add(d6 = new JButton(&quot;d6&quot;));\r\n        this.add(d8 = new JButton(&quot;d8&quot;));\r\n        this.add(d12 = new JButton(&quot;d12&quot;));\r\n        this.add(d20 = new JButton(&quot;d20&quot;));\r\n        this.add(d100 = new JButton(&quot;d100&quot;));\r\n    }\r\n    }\r\n\r\n    class Framer extends JFrame {\r\n    Framer(){\r\n        int DEFAULT_WIDTH = 200;\r\n        int DEFAULT_HEIGHT = 140;\r\n        this.setSize(DEFAULT_WIDTH, DEFAULT_HEIGHT);\r\n        this.setVisible(true);\r\n        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n        this.setTitle(&quot;D&amp;Dice&quot;);\r\n        JButton display = new JButton(&quot;0&quot;);\r\n        display.setEnabled(false);\r\n        this.add(display, BorderLayout.NORTH);\r\n    }\r\n    }\r\n\r\n    public class DandDice extends Framer {\r\n    public static void main(String[] args)\r\n    {\r\n        Buttoner panel = new Buttoner();\r\n        panel.setLayout(new GridLayout(3, 2));\r\n        Framer ramka = new Framer();\r\n       ramka.add(panel, BorderLayout.SOUTH);\r\n    }\r\n   \r\n    }\r\nAnd I&#39;d like to get acess to for example d4 in DandDice class    ","title":"Maiking buttons visible in other classes","body":"<p>I'm writing simple d&amp;d dice manager for practice, and I'm wondering how can i access my buttons outside of their own class:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.*;\n\nclass Buttoner extends JPanel{\npublic JButton d4, d6, d8, d12, d20, d100;\nButtoner(){\n    this.add(d4 = new JButton(&quot;d4&quot;));\n    this.add(d6 = new JButton(&quot;d6&quot;));\n    this.add(d8 = new JButton(&quot;d8&quot;));\n    this.add(d12 = new JButton(&quot;d12&quot;));\n    this.add(d20 = new JButton(&quot;d20&quot;));\n    this.add(d100 = new JButton(&quot;d100&quot;));\n}\n}\n\nclass Framer extends JFrame {\nFramer(){\n    int DEFAULT_WIDTH = 200;\n    int DEFAULT_HEIGHT = 140;\n    this.setSize(DEFAULT_WIDTH, DEFAULT_HEIGHT);\n    this.setVisible(true);\n    this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n    this.setTitle(&quot;D&amp;Dice&quot;);\n    JButton display = new JButton(&quot;0&quot;);\n    display.setEnabled(false);\n    this.add(display, BorderLayout.NORTH);\n}\n}\n\npublic class DandDice extends Framer {\npublic static void main(String[] args)\n{\n    Buttoner panel = new Buttoner();\n    panel.setLayout(new GridLayout(3, 2));\n    Framer ramka = new Framer();\n   ramka.add(panel, BorderLayout.SOUTH);\n}\n\n}\n</code></pre>\n<p>And I'd like to get acess to for example d4 in DandDice class</p>\n"},{"tags":["java","algorithm","sorting","quicksort"],"comments":[{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1659463302,"post_id":73211134,"comment_id":129299386,"body_markdown":"All the partition does is separate the elements into two groups: those that are smaller than the pivot, and those that are larger than the pivot. The pivot itself, and any elements equal to the pivot, can be in either group. So in your example, -9, -1, 3, and 2 are all smaller than the pivot, and 10 and 5 are greater than or equal to the pivot. The order of elements within a group doesn&#39;t matter. Index 3 points to the last element of of the left group.","body":"All the partition does is separate the elements into two groups: those that are smaller than the pivot, and those that are larger than the pivot. The pivot itself, and any elements equal to the pivot, can be in either group. So in your example, -9, -1, 3, and 2 are all smaller than the pivot, and 10 and 5 are greater than or equal to the pivot. The order of elements within a group doesn&#39;t matter. Index 3 points to the last element of of the left group."}],"owner":{"account_id":6506530,"reputation":1934,"user_id":5035236,"accept_rate":58,"display_name":"hawarden_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659459586,"creation_date":1659459586,"question_id":73211134,"body_markdown":"I implemented the Hoare&#39;s partition scheme for quick sort as it is in the book *Introduction to Algorithms* :\r\n\r\n    public static void sortHoare(int[] arr) {\r\n        quickSortHoare(arr, 0, arr.length - 1);\r\n    }\r\n\r\n    public static void quickSortHoare(int[] arr, int left, int right) {\r\n        if (left &lt; right) {\r\n            int indexPartition = partitionHoare(arr, left, right);\r\n            quickSortHoare(arr, left, indexPartition);\r\n            quickSortHoare(arr, indexPartition + 1, right);\r\n        }\r\n    }\r\n\r\n    // should return a pivot integer, which divides the original array into one left and one right array\r\n    private static int partitionHoare(int[] arr, int left, int right) {\r\n        int pivot = arr[left];\r\n        int i = left - 1;\r\n        int j = right + 1;\r\n\r\n        while (true) {\r\n            while (arr[--j] &gt; pivot);\r\n            while (arr[++i] &lt; pivot);\r\n            if (i &gt;= j) {\r\n                return j;\r\n            }\r\n            swap(arr, i, j);\r\n        }\r\n    }\r\n\r\nSo it sorts my array correctly, but what I don&#39;t understand is that, it does actually not return the pivot that divides.\r\n\r\nFor example my array is : `[5, -1, 3, 10, 2, -9]`\r\n\r\nThe pivot is 5. The array becomes :`[-9, -1, 3, 2, 10, 5]` when it returns j. and it actually returns j = 3 (value =&gt; 2), but it&#39;s neither the pivot nor the element divides that two partitions (because 3 is greater than 2)...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WuVBj.png","title":"Quick sort : Why does classic Hoare partition scheme does not return right pivot?","body":"<p>I implemented the Hoare's partition scheme for quick sort as it is in the book <em>Introduction to Algorithms</em> :</p>\n<pre><code>public static void sortHoare(int[] arr) {\n    quickSortHoare(arr, 0, arr.length - 1);\n}\n\npublic static void quickSortHoare(int[] arr, int left, int right) {\n    if (left &lt; right) {\n        int indexPartition = partitionHoare(arr, left, right);\n        quickSortHoare(arr, left, indexPartition);\n        quickSortHoare(arr, indexPartition + 1, right);\n    }\n}\n\n// should return a pivot integer, which divides the original array into one left and one right array\nprivate static int partitionHoare(int[] arr, int left, int right) {\n    int pivot = arr[left];\n    int i = left - 1;\n    int j = right + 1;\n\n    while (true) {\n        while (arr[--j] &gt; pivot);\n        while (arr[++i] &lt; pivot);\n        if (i &gt;= j) {\n            return j;\n        }\n        swap(arr, i, j);\n    }\n}\n</code></pre>\n<p>So it sorts my array correctly, but what I don't understand is that, it does actually not return the pivot that divides.</p>\n<p>For example my array is : <code>[5, -1, 3, 10, 2, -9]</code></p>\n<p>The pivot is 5. The array becomes :<code>[-9, -1, 3, 2, 10, 5]</code> when it returns j. and it actually returns j = 3 (value =&gt; 2), but it's neither the pivot nor the element divides that two partitions (because 3 is greater than 2)...</p>\n<p><a href=\"https://i.stack.imgur.com/WuVBj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WuVBj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":10846480,"reputation":8784,"user_id":7975771,"accept_rate":12,"display_name":"varman"},"score":1,"creation_date":1634148086,"post_id":69560113,"comment_id":122950548,"body_markdown":"Can you show us how you try to save.. Better remove unwated fields, but need to know about the Repository and service and annotations","body":"Can you show us how you try to save.. Better remove unwated fields, but need to know about the Repository and service and annotations"},{"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"score":0,"creation_date":1634149372,"post_id":69560113,"comment_id":122950926,"body_markdown":"It&#39;s very standard so I don&#39;t think it will help but done","body":"It&#39;s very standard so I don&#39;t think it will help but done"},{"owner":{"account_id":996011,"reputation":3477,"user_id":1011926,"accept_rate":78,"display_name":"Chris"},"score":0,"creation_date":1634156629,"post_id":69560113,"comment_id":122953368,"body_markdown":"it does look a bit odd. What happens if you remove all fields but the `id` from `GameEntity` and try to save that?","body":"it does look a bit odd. What happens if you remove all fields but the <code>id</code> from <code>GameEntity</code> and try to save that?"}],"answers":[{"tags":[],"owner":{"account_id":1543832,"reputation":86,"user_id":1437847,"display_name":"Oleksandr Chalyi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634164430,"creation_date":1634164430,"answer_id":69563104,"question_id":69560113,"body_markdown":"Make sure you don&#39;t have cyclic (loop) dependencies between your entities. (For instance entity Player has a reference to a Bet and a Bet to a Player).\r\n","title":"Saving an object to MongoDB causes StackOverflowError","body":"<p>Make sure you don't have cyclic (loop) dependencies between your entities. (For instance entity Player has a reference to a Bet and a Bet to a Player).</p>\n"}],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1723,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69563104,"answer_count":1,"score":3,"last_activity_date":1659459579,"creation_date":1634147384,"question_id":69560113,"body_markdown":"Error: \r\n\r\n&gt; 2021-10-13 12:25:27.092 ERROR 21016 --- [nio-8080-exec-3]\r\n&gt; o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\r\n&gt; servlet [dispatcherServlet] in context with path [] threw exception\r\n&gt; [Handler dispatch failed; nested exception is\r\n&gt; java.lang.StackOverflowError] with root cause\r\n\r\n\r\nStack Trace (many repetitions of):\r\n```none\r\njava.lang.StackOverflowError: null\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.createCollection(MappingMongoConverter.java:731) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writePropertyInternal(MappingMongoConverter.java:646) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeProperties(MappingMongoConverter.java:620) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeInternal(MappingMongoConverter.java:596) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n```\r\n\r\nI am attempting a standard save and the exception I get is not informative. Here is the POJO that causes the crash upon `save()`:\r\n\r\n```java\r\npublic class GameEntity {\r\n     @Id\r\n     @Indexed(unique = true)\r\n     private long id;\r\n     private List&lt;Player&gt; players;\r\n     private List&lt;Card&gt; cards;\r\n     private List&lt;Card&gt; riverCards;\r\n     private boolean isBet;\r\n     private boolean isDealDone;\r\n     private BetManagerEntity betManagerEntity;\r\n\r\n     private int desiredNumberOfPlayers;\r\n     private int openSlots;\r\n     @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n     private Date createdAt;\r\n     @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n     private Date updatedAt;\r\n\r\n//getters and setters\r\n}\r\n```\r\n\r\nAnd here is the nested object:\r\n\r\n```:\r\npublic class BetManagerEntity {\r\n     private int bigBlind;\r\n     private int smallBlind;\r\n     private int turnNumber;\r\n     private int turnsLeftInRound;\r\n     private List&lt;Player&gt; activeBetters;\r\n     private int pot = 0;\r\n     private int betAmount;\r\n     private int bigBlindTurn = -1;\r\n     private List&lt;Bet&gt; bets;\r\n     private List&lt;String&gt; betMessages;\r\n     private Integer maxBet;\r\n\r\n//getters and setters\r\n```\r\n\r\nThe only thing I could think of was that maybe BetManagerEntity also needed an @Id of its own, so I tried adding that and got a slightly different error:\r\n\r\n&gt; OpenJDK 64-Bit Server VM warning: Potentially dangerous stack overflow\r\n&gt; in ReservedStackAccess annotated method\r\n&gt; java.util.concurrent.locks.ReentrantReadWriteLock$Sync.tryAcquireShared(I)I\r\n&gt; [1]  \r\n&gt; OpenJDK 64-Bit Server VM warning: Potentially dangerous stack overflow\r\n&gt; in ReservedStackAccess annotated method\r\n&gt; java.util.concurrent.locks.ReentrantReadWriteLock$Sync.tryReleaseShared(I)Z\r\n&gt; [1]  \r\n&gt; 2021-10-13 12:42:54.845 ERROR 29272 --- [nio-8080-exec-2]\r\n&gt; o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\r\n&gt; servlet [dispatcherServlet] in context with path [] threw exception\r\n&gt; [Handler dispatch failed; nested exception is\r\n&gt; java.lang.StackOverflowError] with root cause\r\n\r\nand\r\n```none\r\njava.lang.StackOverflowError: null\r\n\tat java.base/java.util.concurrent.locks.ReentrantReadWriteLock$Sync.tryReleaseShared(ReentrantReadWriteLock.java:427) ~[na:na]\r\n\tat java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer.releaseShared(AbstractQueuedSynchronizer.java:1382) ~[na:na]\r\n\tat java.base/java.util.concurrent.locks.ReentrantReadWriteLock$ReadLock.unlock(ReentrantReadWriteLock.java:897) ~[na:na]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:239) ~[spring-data-commons-2.4.5.jar:2.4.5]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:201) ~[spring-data-commons-2.4.5.jar:2.4.5]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:87) ~[spring-data-commons-2.4.5.jar:2.4.5]\r\n\tat org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:73) ~[spring-data-commons-2.4.5.jar:2.4.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeInternal(MappingMongoConverter.java:568) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeCollectionInternal(MappingMongoConverter.java:821) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.createCollection(MappingMongoConverter.java:736) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writePropertyInternal(MappingMongoConverter.java:646) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeProperties(MappingMongoConverter.java:620) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeInternal(MappingMongoConverter.java:596) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n```\r\n\r\nI then removed the @Id for BetManagerEntity so that it was back to how it originally was, but I still get the new stack trace when I attempt to save GameEntity\r\n\r\nMy repository is simple:\r\n```java\r\npackage com.brewster.poker.repository;\r\n\r\nimport com.brewster.poker.model.GameEntity;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic interface GameRepository extends MongoRepository&lt;GameEntity, Long&gt; {\r\n}\r\n```\r\n\r\n","title":"Saving an object to MongoDB causes StackOverflowError","body":"<p>Error:</p>\n<blockquote>\n<p>2021-10-13 12:25:27.092 ERROR 21016 --- [nio-8080-exec-3]\no.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\nservlet [dispatcherServlet] in context with path [] threw exception\n[Handler dispatch failed; nested exception is\njava.lang.StackOverflowError] with root cause</p>\n</blockquote>\n<p>Stack Trace (many repetitions of):</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.StackOverflowError: null\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.createCollection(MappingMongoConverter.java:731) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writePropertyInternal(MappingMongoConverter.java:646) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeProperties(MappingMongoConverter.java:620) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeInternal(MappingMongoConverter.java:596) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n</code></pre>\n<p>I am attempting a standard save and the exception I get is not informative. Here is the POJO that causes the crash upon <code>save()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GameEntity {\n     @Id\n     @Indexed(unique = true)\n     private long id;\n     private List&lt;Player&gt; players;\n     private List&lt;Card&gt; cards;\n     private List&lt;Card&gt; riverCards;\n     private boolean isBet;\n     private boolean isDealDone;\n     private BetManagerEntity betManagerEntity;\n\n     private int desiredNumberOfPlayers;\n     private int openSlots;\n     @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n     private Date createdAt;\n     @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n     private Date updatedAt;\n\n//getters and setters\n}\n</code></pre>\n<p>And here is the nested object:</p>\n<pre><code>public class BetManagerEntity {\n     private int bigBlind;\n     private int smallBlind;\n     private int turnNumber;\n     private int turnsLeftInRound;\n     private List&lt;Player&gt; activeBetters;\n     private int pot = 0;\n     private int betAmount;\n     private int bigBlindTurn = -1;\n     private List&lt;Bet&gt; bets;\n     private List&lt;String&gt; betMessages;\n     private Integer maxBet;\n\n//getters and setters\n</code></pre>\n<p>The only thing I could think of was that maybe BetManagerEntity also needed an @Id of its own, so I tried adding that and got a slightly different error:</p>\n<blockquote>\n<p>OpenJDK 64-Bit Server VM warning: Potentially dangerous stack overflow\nin ReservedStackAccess annotated method\njava.util.concurrent.locks.ReentrantReadWriteLock$Sync.tryAcquireShared(I)I\n[1]<br />\nOpenJDK 64-Bit Server VM warning: Potentially dangerous stack overflow\nin ReservedStackAccess annotated method\njava.util.concurrent.locks.ReentrantReadWriteLock$Sync.tryReleaseShared(I)Z\n[1]<br />\n2021-10-13 12:42:54.845 ERROR 29272 --- [nio-8080-exec-2]\no.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\nservlet [dispatcherServlet] in context with path [] threw exception\n[Handler dispatch failed; nested exception is\njava.lang.StackOverflowError] with root cause</p>\n</blockquote>\n<p>and</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.StackOverflowError: null\n    at java.base/java.util.concurrent.locks.ReentrantReadWriteLock$Sync.tryReleaseShared(ReentrantReadWriteLock.java:427) ~[na:na]\n    at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer.releaseShared(AbstractQueuedSynchronizer.java:1382) ~[na:na]\n    at java.base/java.util.concurrent.locks.ReentrantReadWriteLock$ReadLock.unlock(ReentrantReadWriteLock.java:897) ~[na:na]\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:239) ~[spring-data-commons-2.4.5.jar:2.4.5]\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:201) ~[spring-data-commons-2.4.5.jar:2.4.5]\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:87) ~[spring-data-commons-2.4.5.jar:2.4.5]\n    at org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:73) ~[spring-data-commons-2.4.5.jar:2.4.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeInternal(MappingMongoConverter.java:568) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeCollectionInternal(MappingMongoConverter.java:821) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.createCollection(MappingMongoConverter.java:736) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writePropertyInternal(MappingMongoConverter.java:646) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeProperties(MappingMongoConverter.java:620) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeInternal(MappingMongoConverter.java:596) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n</code></pre>\n<p>I then removed the @Id for BetManagerEntity so that it was back to how it originally was, but I still get the new stack trace when I attempt to save GameEntity</p>\n<p>My repository is simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.brewster.poker.repository;\n\nimport com.brewster.poker.model.GameEntity;\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic interface GameRepository extends MongoRepository&lt;GameEntity, Long&gt; {\n}\n</code></pre>\n"},{"tags":["java","eclipse","multidimensional-array","junit"],"comments":[{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":1,"creation_date":1659199685,"post_id":73140686,"comment_id":129239368,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). The code with Condition 4 and printing would suffice in the valid board method.\n\nAdditionally remember to keep your question focused, it should only ask one thing at a time. The JUnit should be a separate question with an attempt at using it and problem encountered.","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. The code with Condition 4 and printing would suffice in the valid board method.  Additionally remember to keep your question focused, it should only ask one thing at a time. The JUnit should be a separate question with an attempt at using it and problem encountered."}],"answers":[{"tags":[],"owner":{"account_id":22639015,"reputation":147,"user_id":16815462,"display_name":"Vlad Nitu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659459483,"creation_date":1658936545,"answer_id":73140908,"question_id":73140686,"body_markdown":"## Running JUnit tests &amp; debug in Eclipse\r\nIf you want to **include JUnit in your project** I recommend this tutorial as it will guide you step by step through how to run JUnit tests for your Java application: [Running JUnit Tests from a Java Application][1]\r\n\r\nTo find why the program does not work as expected you should try to run the Java program in **Debugging mode** (as you&#39;ve included the `eclipse` tag I assume you are using Eclipse as your main IDE, so this tutorial might help: [Beginner’s Guide to Quick Start Debugging][2]) \r\n\r\n\r\n  [1]: https://baeldung-cn.com/junit-tests-run-programmatically-from-java\r\n  [2]: https://www.eclipse.org/community/eclipse_newsletter/2017/june/article1.php\r\n\r\n## **Debugging process**\r\n- I&#39;ve placed a breakpoint on **line 60** (`for (int i = 0; i &lt; board.length;i++) {\r\n`) and then went through some iteratiosn of your loop.\r\n- The error is occuring due to the fact that you are not closing the curly brackets correctly (as you are running the following block\r\n ```java\r\n if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\r\n                    System.out.println(&quot;Amount of discs isn&#39;t fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n                    System.out.println(redCount);\r\n                    return false;\r\n\r\n                }\r\n                else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\r\n                    System.out.println(&quot;Amount of discs isn&#39;t fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n                    return false;\r\n                }\r\n\r\n\r\n                    }\r\n                System.out.println(&quot;The number of red discs is &quot; + redCount + &quot;. And the number of yellow discs is &quot; + yellowCount );\r\n                return true;\r\n```\r\ninside the `for-loop of variable i`.)\r\n- **How to fix**: you should close the for-loop of &#39;i&#39; &#39;s curly bracket before starting to run the code block that I pasted above. After closing the curly brackets correctly, there should be an additional closing curly bracket on **line 83** that you will have to delete.\r\n\r\n## Code snippet after editing\r\n```java\r\npublic class Connect4 {\r\n    public static void main(String args[]) {\r\n        char[][] board = new char[][]{///2d array for board\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;.&#39;, &#39;.&#39;},\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;.&#39;, &#39;.&#39;},\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;Y&#39;, &#39;.&#39;},\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;R&#39;, &#39;.&#39;},\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;Y&#39;, &#39;.&#39;},\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;R&#39;, &#39;.&#39;},\r\n        };\r\n        System.out.println(&quot;\\n1.2/ Is this Board Valid?&quot;);\r\n        System.out.println(Q2_ValidBoard(board) + &quot; this (is/is not) a valid board.&quot;);\r\n        System.out.println();\r\n    }\r\n\r\n    public static boolean Q2_ValidBoard(char[][] board) {\r\n        int allowedRows = 6;///allowed row size for board\r\n        int allowedColumns = 7;///allowed size for columns\r\n        if ((board == null) || (board.length == 0)) { //checks if array is empty\r\n            System.out.println(&quot;Array is Empty&quot;);\r\n            return false;\r\n        }\r\n\r\n        // Verify Board Size and Each Square of the Board\r\n        // Condition 1 - Check if The Size Of Rows is 6 / If Height is 6\r\n        if (board.length != allowedRows) {\r\n            System.out.println(&quot;Number of Rows is Not &quot; + allowedRows);\r\n            return false;\r\n        }\r\n\r\n        for (int i = 0; i &lt; board.length; i++) { // For Each Row in Board..\r\n            if (board[i].length != allowedColumns) { // Check if Size of Column is 6 / If Width is 7\r\n                System.out.println(&quot;Number of Column&#39;s is Not &quot; + allowedColumns + &quot; on ROW &quot; + (i + 1));///Declares if the\r\n                return false;\r\n            }\r\n\r\n            // Condition 2 - Check whether Each Square has a Valid Value\r\n            for (int j = 0; j &lt; board[i].length; j++) { // For Each Column in Board..\r\n                if (((board[i][j] != &#39;R&#39;) &amp;&amp; (board[i][j] != &#39;Y&#39;) &amp;&amp; (board[i][j] != &#39;.&#39;))) {\r\n                    System.out.println(&quot;Invalid Board Square At &quot; + (i + 1) + &quot; x &quot; + (j + 1));\r\n                    return false; // If The Square isn&#39;t R, Y or . it&#39;s not Valid\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        // Condition 3 - Loop Backwards and Check if a Disc is Floating\r\n        for (int i = board.length - 1; i &gt;= 0; i--) {\r\n            for (int j = (board[i].length - 1); j &gt;= 0; j--) {\r\n                if ((board[i][j] == &#39;R&#39;) || (board[i][j] == &#39;Y&#39;)) {\r\n                    if (i != allowedRows - 1) { // Make sure to check it&#39;s not the deepest row level or it will call an error as it looks OutOfBounds of the List (-1)\r\n                        if (board[i + 1][j] == &#39;.&#39;) { // You want to increment to go deeper in the 2D array not decrease; you&#39;re already going backwards.\r\n                            System.out.println(&quot;Disc is Floating at &quot; + (i + 1) + &quot; x &quot; + (j + 1));\r\n                            return false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        ///Condition 4 check if the amount of discs is fair\r\n        int redCount = 0;\r\n        int yellowCount = 0;\r\n        for (int i = 0; i &lt; board.length; i++) {\r\n            for (int j = 0; j &lt; board[i].length; j++) {\r\n                if (board[i][j] == &#39;R&#39;) {\r\n                    System.out.println(&quot;red disc found&quot;);\r\n                    redCount++;\r\n                } else if (board[i][j] == &#39;Y&#39;) {\r\n                    System.out.println(&quot;yellow disc found&quot;);\r\n                    yellowCount++;\r\n                }\r\n            }\r\n\r\n        }\r\n            if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\r\n                System.out.println(&quot;Amount of discs isn&#39;t fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n                System.out.println(redCount);\r\n                return false;\r\n\r\n            }\r\n            else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\r\n                System.out.println(&quot;Amount of discs isn&#39;t fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n                return false;\r\n            }\r\n\r\n\r\n        System.out.println(&quot;The number of red discs is &quot; + redCount + &quot;. And the number of yellow discs is &quot; + yellowCount );\r\n        return true;\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n- After closing the brackets correctly and running the code below, you should see the following output: \r\n```\r\n1.2/ Is this Board Valid?\r\nyellow disc found\r\nred disc found\r\nyellow disc found\r\nred disc found\r\nyellow disc found\r\nred disc found\r\nyellow disc found\r\nyellow disc found\r\nred disc found\r\nred disc found\r\nyellow disc found\r\nred disc found\r\nyellow disc found\r\nyellow disc found\r\nred disc found\r\nred disc found\r\nThe number of red discs is 8. And the number of yellow discs is 8\r\ntrue this (is/is not) a valid board.\r\n```\r\n\r\nI hope this helps fixing your bug!","title":"How would I keep track of the amount of discs in a connect 4 board and JUnit test methods in java?","body":"<h2>Running JUnit tests &amp; debug in Eclipse</h2>\n<p>If you want to <strong>include JUnit in your project</strong> I recommend this tutorial as it will guide you step by step through how to run JUnit tests for your Java application: <a href=\"https://baeldung-cn.com/junit-tests-run-programmatically-from-java\" rel=\"nofollow noreferrer\">Running JUnit Tests from a Java Application</a></p>\n<p>To find why the program does not work as expected you should try to run the Java program in <strong>Debugging mode</strong> (as you've included the <code>eclipse</code> tag I assume you are using Eclipse as your main IDE, so this tutorial might help: <a href=\"https://www.eclipse.org/community/eclipse_newsletter/2017/june/article1.php\" rel=\"nofollow noreferrer\">Beginner’s Guide to Quick Start Debugging</a>)</p>\n<h2><strong>Debugging process</strong></h2>\n<ul>\n<li>I've placed a breakpoint on <strong>line 60</strong> (<code>for (int i = 0; i &lt; board.length;i++) { </code>) and then went through some iteratiosn of your loop.</li>\n<li>The error is occuring due to the fact that you are not closing the curly brackets correctly (as you are running the following block</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\n                   System.out.println(&quot;Amount of discs isn't fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                   System.out.println(redCount);\n                   return false;\n\n               }\n               else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\n                   System.out.println(&quot;Amount of discs isn't fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                   return false;\n               }\n\n\n                   }\n               System.out.println(&quot;The number of red discs is &quot; + redCount + &quot;. And the number of yellow discs is &quot; + yellowCount );\n               return true;\n</code></pre>\n<p>inside the <code>for-loop of variable i</code>.)</p>\n<ul>\n<li><strong>How to fix</strong>: you should close the for-loop of 'i' 's curly bracket before starting to run the code block that I pasted above. After closing the curly brackets correctly, there should be an additional closing curly bracket on <strong>line 83</strong> that you will have to delete.</li>\n</ul>\n<h2>Code snippet after editing</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class Connect4 {\n    public static void main(String args[]) {\n        char[][] board = new char[][]{///2d array for board\n                {'.', '.', '.', 'Y', 'R', '.', '.'},\n                {'.', '.', '.', 'Y', 'R', '.', '.'},\n                {'.', '.', '.', 'Y', 'R', 'Y', '.'},\n                {'.', '.', '.', 'Y', 'R', 'R', '.'},\n                {'.', '.', '.', 'Y', 'R', 'Y', '.'},\n                {'.', '.', '.', 'Y', 'R', 'R', '.'},\n        };\n        System.out.println(&quot;\\n1.2/ Is this Board Valid?&quot;);\n        System.out.println(Q2_ValidBoard(board) + &quot; this (is/is not) a valid board.&quot;);\n        System.out.println();\n    }\n\n    public static boolean Q2_ValidBoard(char[][] board) {\n        int allowedRows = 6;///allowed row size for board\n        int allowedColumns = 7;///allowed size for columns\n        if ((board == null) || (board.length == 0)) { //checks if array is empty\n            System.out.println(&quot;Array is Empty&quot;);\n            return false;\n        }\n\n        // Verify Board Size and Each Square of the Board\n        // Condition 1 - Check if The Size Of Rows is 6 / If Height is 6\n        if (board.length != allowedRows) {\n            System.out.println(&quot;Number of Rows is Not &quot; + allowedRows);\n            return false;\n        }\n\n        for (int i = 0; i &lt; board.length; i++) { // For Each Row in Board..\n            if (board[i].length != allowedColumns) { // Check if Size of Column is 6 / If Width is 7\n                System.out.println(&quot;Number of Column's is Not &quot; + allowedColumns + &quot; on ROW &quot; + (i + 1));///Declares if the\n                return false;\n            }\n\n            // Condition 2 - Check whether Each Square has a Valid Value\n            for (int j = 0; j &lt; board[i].length; j++) { // For Each Column in Board..\n                if (((board[i][j] != 'R') &amp;&amp; (board[i][j] != 'Y') &amp;&amp; (board[i][j] != '.'))) {\n                    System.out.println(&quot;Invalid Board Square At &quot; + (i + 1) + &quot; x &quot; + (j + 1));\n                    return false; // If The Square isn't R, Y or . it's not Valid\n                }\n            }\n\n        }\n\n        // Condition 3 - Loop Backwards and Check if a Disc is Floating\n        for (int i = board.length - 1; i &gt;= 0; i--) {\n            for (int j = (board[i].length - 1); j &gt;= 0; j--) {\n                if ((board[i][j] == 'R') || (board[i][j] == 'Y')) {\n                    if (i != allowedRows - 1) { // Make sure to check it's not the deepest row level or it will call an error as it looks OutOfBounds of the List (-1)\n                        if (board[i + 1][j] == '.') { // You want to increment to go deeper in the 2D array not decrease; you're already going backwards.\n                            System.out.println(&quot;Disc is Floating at &quot; + (i + 1) + &quot; x &quot; + (j + 1));\n                            return false;\n                        }\n                    }\n                }\n            }\n        }\n        ///Condition 4 check if the amount of discs is fair\n        int redCount = 0;\n        int yellowCount = 0;\n        for (int i = 0; i &lt; board.length; i++) {\n            for (int j = 0; j &lt; board[i].length; j++) {\n                if (board[i][j] == 'R') {\n                    System.out.println(&quot;red disc found&quot;);\n                    redCount++;\n                } else if (board[i][j] == 'Y') {\n                    System.out.println(&quot;yellow disc found&quot;);\n                    yellowCount++;\n                }\n            }\n\n        }\n            if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\n                System.out.println(&quot;Amount of discs isn't fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                System.out.println(redCount);\n                return false;\n\n            }\n            else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\n                System.out.println(&quot;Amount of discs isn't fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                return false;\n            }\n\n\n        System.out.println(&quot;The number of red discs is &quot; + redCount + &quot;. And the number of yellow discs is &quot; + yellowCount );\n        return true;\n\n\n    }\n}\n</code></pre>\n<ul>\n<li>After closing the brackets correctly and running the code below, you should see the following output:</li>\n</ul>\n<pre><code>1.2/ Is this Board Valid?\nyellow disc found\nred disc found\nyellow disc found\nred disc found\nyellow disc found\nred disc found\nyellow disc found\nyellow disc found\nred disc found\nred disc found\nyellow disc found\nred disc found\nyellow disc found\nyellow disc found\nred disc found\nred disc found\nThe number of red discs is 8. And the number of yellow discs is 8\ntrue this (is/is not) a valid board.\n</code></pre>\n<p>I hope this helps fixing your bug!</p>\n"}],"owner":{"account_id":17979170,"reputation":11,"user_id":13065961,"display_name":"MrFrieza96"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659459483,"creation_date":1658935546,"question_id":73140686,"body_markdown":"I&#39;ve been working on a connect 4 program in java and and I have been doing some checks of the validity of board but I have encountered a few problems when developing my code. For reference here&#39;s the code with comments\r\n```\r\npublic class Connect4 {\r\n\t public static void main(String args[]) {\r\n\t        char[][] board = new char[][]{///2d array for board\r\n\t                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;.&#39;,&#39;.&#39;},\r\n\t                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;.&#39;,&#39;.&#39;},\r\n\t                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;Y&#39;,&#39;.&#39;},\r\n\t                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;R&#39;,&#39;.&#39;},\r\n\t                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;Y&#39;,&#39;.&#39;},\r\n\t                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;R&#39;,&#39;.&#39;},             \r\n\t            };\r\n\t        System.out.println(&quot;\\n1.2/ Is this Board Valid?&quot;);\r\n\t        System.out.println(Q2_ValidBoard(board) + &quot; this (is/is not) a valid board.&quot;);\r\n\t        System.out.println();\r\n\t }\r\n\r\n\t        public static boolean Q2_ValidBoard(char[][] board) {\r\n\t            int allowedRows = 6;///allowed row size for board\r\n\t            int allowedColumns = 7;///allowed size for columns\r\n\t            if ((board == null) || (board.length == 0)) { //checks if array is empty\r\n\t                System.out.println(&quot;Array is Empty&quot;);\r\n\t                return false;\r\n\t            }\r\n\r\n\t            // Verify Board Size and Each Square of the Board\r\n\t            // Condition 1 - Check if The Size Of Rows is 6 / If Height is 6\r\n\t            if(board.length != allowedRows) {System.out.println(&quot;Number of Rows is Not &quot; + allowedRows); return false;}\r\n\r\n\t            for (int i = 0; i &lt; board.length; i++) { // For Each Row in Board..\r\n\t                if (board[i].length != allowedColumns) { // Check if Size of Column is 6 / If Width is 7\r\n\t                    System.out.println(&quot;Number of Column&#39;s is Not &quot; + allowedColumns + &quot; on ROW &quot; + (i + 1));///Declares if the \r\n\t                    return false;\r\n\t                }\r\n\r\n\t                // Condition 2 - Check whether Each Square has a Valid Value\r\n\t                for (int j = 0; j &lt; board[i].length; j++) { // For Each Column in Board..\r\n\t                    if(((board[i ][j] != &#39;R&#39;)&amp;&amp;(board[i][j] != &#39;Y&#39;)&amp;&amp;(board[i][j] != &#39;.&#39;))) {\r\n\t                        System.out.println(&quot;Invalid Board Square At &quot; + (i + 1) + &quot; x &quot; + (j + 1));\r\n\t                        return false; // If The Square isn&#39;t R, Y or . it&#39;s not Valid\r\n\t                    }\r\n\t                }\r\n\r\n\t            }\r\n\r\n\t            // Condition 3 - Loop Backwards and Check if a Disc is Floating\r\n\t            for (int i = board.length - 1; i &gt;= 0; i--) {\r\n\t                for (int j = (board[i].length - 1); j &gt;= 0; j--) {\r\n\t                    if ((board[i][j] == &#39;R&#39;) || (board[i][j] == &#39;Y&#39;)) {\r\n\t                        if (i != allowedRows - 1) { // Make sure to check it&#39;s not the deepest row level or it will call an error as it looks OutOfBounds of the List (-1)\r\n\t                            if(board[i + 1][j] == &#39;.&#39;) { // You want to increment to go deeper in the 2D array not decrease; you&#39;re already going backwards.\r\n\t                                System.out.println(&quot;Disc is Floating at &quot; + (i + 1) + &quot; x &quot; + (j + 1));\r\n\t                                return false;\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t            ///Condition 4 check if the amount of discs is fair\r\n\t            int redCount = 0;\r\n\t            int yellowCount = 0;\r\n\t            for (int i = 0; i &lt; board.length;i++) {\r\n\t                for (int j = 0 ;j &lt; board[i].length; j++) {\r\n\t                    if (board[i][j] == &#39;R&#39;){\r\n\t                        System.out.println(&quot;red disc found&quot;);\r\n\t                        redCount++;\r\n\t                    }else if (board[i][j] == &#39;Y&#39;) {\r\n\t                    System.out.println(&quot;yellow disc found&quot;);\r\n\t                    yellowCount++;\r\n\t                }\r\n\t             }\r\n\r\n\t            if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\r\n\t                System.out.println(&quot;Amount of discs isn&#39;t fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n\t                System.out.println(redCount);\r\n\t                return false;\r\n\r\n\t            }\r\n\t            else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\r\n\t                System.out.println(&quot;Amount of discs isn&#39;t fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n\t                return false;\r\n\t            }\r\n\r\n\r\n\t                }\r\n\t            System.out.println(&quot;The number of red discs is &quot; + redCount + &quot;. And the number of yellow discs is &quot; + yellowCount );\r\n\t            return true;\r\n   \r\n\t\r\n\t        }\r\n}\r\n\t \r\n\r\n```\r\nThe board I inputted should be valid since the amount of reds and yellows are equivalent. The conditions for the correct proportion of discs are listed within the code comments.\r\n\r\nWhen I input the board I am told that the board is invalid and false is returned\r\n```\r\n1.2/ Is this Board Valid?\r\nyellow disc found\r\nred disc found\r\nyellow disc found\r\nred disc found\r\nyellow disc found\r\nred disc found\r\nyellow disc found\r\nAmount of discs isn&#39;t fair. There are too many yellow discs and thus the board is invalid. There are 3 reds and 4 yellows.\r\nfalse this (is/is not) a valid board.\r\n```\r\nAs you can see the board has more than 3 yellows and 4 reds (8 red discs and 8 yellow discs) but there is something in the code which is stopping the counting of discs within the nested loop which counts the number of reds and yellows. \r\n```\r\n///Condition 4 check if the amount of discs is fair\r\n\t            int redCount = 0;\r\n\t            int yellowCount = 0;\r\n\t            for (int i = 0; i &lt; board.length;i++) {\r\n\t                for (int j = 0 ;j &lt; board[i].length; j++) {\r\n\t                    if (board[i][j] == &#39;R&#39;){\r\n\t                        System.out.println(&quot;red disc found&quot;);\r\n\t                        redCount++;\r\n\t                    }else if (board[i][j] == &#39;Y&#39;) {\r\n\t                    System.out.println(&quot;yellow disc found&quot;);\r\n\t                    yellowCount++;\r\n\t                }\r\n\t             }\r\n\r\n\t            if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\r\n\t                System.out.println(&quot;Amount of discs isn\\&#39;t fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n\t                System.out.println(redCount);\r\n\t                return false;\r\n\r\n\t            }\r\n\t            else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\r\n\t                System.out.println(&quot;Amount of discs isn&#39;t fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n\t                return false;\r\n\t            }\r\n```\r\nHow would I fix this problem and how can I use JUnitTesting to test my code? I&#39;ve been unable to work out how to use JUnitesting so should help.\r\n\r\n\r\n\r\n","title":"How would I keep track of the amount of discs in a connect 4 board and JUnit test methods in java?","body":"<p>I've been working on a connect 4 program in java and and I have been doing some checks of the validity of board but I have encountered a few problems when developing my code. For reference here's the code with comments</p>\n<pre><code>public class Connect4 {\n     public static void main(String args[]) {\n            char[][] board = new char[][]{///2d array for board\n                    {'.', '.', '.', 'Y', 'R', '.','.'},\n                    {'.', '.', '.', 'Y', 'R', '.','.'},\n                    {'.', '.', '.', 'Y', 'R', 'Y','.'},\n                    {'.', '.', '.', 'Y', 'R', 'R','.'},\n                    {'.', '.', '.', 'Y', 'R', 'Y','.'},\n                    {'.', '.', '.', 'Y', 'R', 'R','.'},             \n                };\n            System.out.println(&quot;\\n1.2/ Is this Board Valid?&quot;);\n            System.out.println(Q2_ValidBoard(board) + &quot; this (is/is not) a valid board.&quot;);\n            System.out.println();\n     }\n\n            public static boolean Q2_ValidBoard(char[][] board) {\n                int allowedRows = 6;///allowed row size for board\n                int allowedColumns = 7;///allowed size for columns\n                if ((board == null) || (board.length == 0)) { //checks if array is empty\n                    System.out.println(&quot;Array is Empty&quot;);\n                    return false;\n                }\n\n                // Verify Board Size and Each Square of the Board\n                // Condition 1 - Check if The Size Of Rows is 6 / If Height is 6\n                if(board.length != allowedRows) {System.out.println(&quot;Number of Rows is Not &quot; + allowedRows); return false;}\n\n                for (int i = 0; i &lt; board.length; i++) { // For Each Row in Board..\n                    if (board[i].length != allowedColumns) { // Check if Size of Column is 6 / If Width is 7\n                        System.out.println(&quot;Number of Column's is Not &quot; + allowedColumns + &quot; on ROW &quot; + (i + 1));///Declares if the \n                        return false;\n                    }\n\n                    // Condition 2 - Check whether Each Square has a Valid Value\n                    for (int j = 0; j &lt; board[i].length; j++) { // For Each Column in Board..\n                        if(((board[i ][j] != 'R')&amp;&amp;(board[i][j] != 'Y')&amp;&amp;(board[i][j] != '.'))) {\n                            System.out.println(&quot;Invalid Board Square At &quot; + (i + 1) + &quot; x &quot; + (j + 1));\n                            return false; // If The Square isn't R, Y or . it's not Valid\n                        }\n                    }\n\n                }\n\n                // Condition 3 - Loop Backwards and Check if a Disc is Floating\n                for (int i = board.length - 1; i &gt;= 0; i--) {\n                    for (int j = (board[i].length - 1); j &gt;= 0; j--) {\n                        if ((board[i][j] == 'R') || (board[i][j] == 'Y')) {\n                            if (i != allowedRows - 1) { // Make sure to check it's not the deepest row level or it will call an error as it looks OutOfBounds of the List (-1)\n                                if(board[i + 1][j] == '.') { // You want to increment to go deeper in the 2D array not decrease; you're already going backwards.\n                                    System.out.println(&quot;Disc is Floating at &quot; + (i + 1) + &quot; x &quot; + (j + 1));\n                                    return false;\n                                }\n                            }\n                        }\n                    }\n                }\n                ///Condition 4 check if the amount of discs is fair\n                int redCount = 0;\n                int yellowCount = 0;\n                for (int i = 0; i &lt; board.length;i++) {\n                    for (int j = 0 ;j &lt; board[i].length; j++) {\n                        if (board[i][j] == 'R'){\n                            System.out.println(&quot;red disc found&quot;);\n                            redCount++;\n                        }else if (board[i][j] == 'Y') {\n                        System.out.println(&quot;yellow disc found&quot;);\n                        yellowCount++;\n                    }\n                 }\n\n                if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\n                    System.out.println(&quot;Amount of discs isn't fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                    System.out.println(redCount);\n                    return false;\n\n                }\n                else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\n                    System.out.println(&quot;Amount of discs isn't fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                    return false;\n                }\n\n\n                    }\n                System.out.println(&quot;The number of red discs is &quot; + redCount + &quot;. And the number of yellow discs is &quot; + yellowCount );\n                return true;\n   \n    \n            }\n}\n     \n\n</code></pre>\n<p>The board I inputted should be valid since the amount of reds and yellows are equivalent. The conditions for the correct proportion of discs are listed within the code comments.</p>\n<p>When I input the board I am told that the board is invalid and false is returned</p>\n<pre><code>1.2/ Is this Board Valid?\nyellow disc found\nred disc found\nyellow disc found\nred disc found\nyellow disc found\nred disc found\nyellow disc found\nAmount of discs isn't fair. There are too many yellow discs and thus the board is invalid. There are 3 reds and 4 yellows.\nfalse this (is/is not) a valid board.\n</code></pre>\n<p>As you can see the board has more than 3 yellows and 4 reds (8 red discs and 8 yellow discs) but there is something in the code which is stopping the counting of discs within the nested loop which counts the number of reds and yellows.</p>\n<pre><code>///Condition 4 check if the amount of discs is fair\n                int redCount = 0;\n                int yellowCount = 0;\n                for (int i = 0; i &lt; board.length;i++) {\n                    for (int j = 0 ;j &lt; board[i].length; j++) {\n                        if (board[i][j] == 'R'){\n                            System.out.println(&quot;red disc found&quot;);\n                            redCount++;\n                        }else if (board[i][j] == 'Y') {\n                        System.out.println(&quot;yellow disc found&quot;);\n                        yellowCount++;\n                    }\n                 }\n\n                if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\n                    System.out.println(&quot;Amount of discs isn\\'t fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                    System.out.println(redCount);\n                    return false;\n\n                }\n                else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\n                    System.out.println(&quot;Amount of discs isn't fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                    return false;\n                }\n</code></pre>\n<p>How would I fix this problem and how can I use JUnitTesting to test my code? I've been unable to work out how to use JUnitesting so should help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8854,"page":1138,"page_size":100}
