{"items":[{"tags":["java","android","image","tensorflow","bitmap"],"answers":[{"tags":[],"owner":{"account_id":24819032,"reputation":116,"user_id":18699558,"display_name":"Joe_Bao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649139216,"creation_date":1649139216,"answer_id":71747025,"question_id":71746861,"body_markdown":"The null return value suggests that the image data could not be decoded when you call `BitmapFactory.decodeByteArray`. You may check your input contents first. \r\n\r\nHere is a link to another similar question about how to convert android.media.image to Bitmap : https://stackoverflow.com/questions/41775968/how-to-convert-android-media-image-to-bitmap-object\r\n\r\nIf it doesn&#39;t work, you may also try to check and handle Java error, where this question may be helpful https://stackoverflow.com/questions/60022726/how-do-i-keep-track-of-java-exceptions ","title":"Android Media Image to Bitmap Conversion for Tensorflow Lite","body":"<p>The null return value suggests that the image data could not be decoded when you call <code>BitmapFactory.decodeByteArray</code>. You may check your input contents first.</p>\n<p>Here is a link to another similar question about how to convert android.media.image to Bitmap : <a href=\"https://stackoverflow.com/questions/41775968/how-to-convert-android-media-image-to-bitmap-object\">How to convert android.media.Image to bitmap object?</a></p>\n<p>If it doesn't work, you may also try to check and handle Java error, where this question may be helpful <a href=\"https://stackoverflow.com/questions/60022726/how-do-i-keep-track-of-java-exceptions\">How do I keep track of Java Exceptions</a></p>\n"}],"owner":{"account_id":1822946,"reputation":1475,"user_id":1656553,"accept_rate":75,"display_name":"Sathish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71747025,"answer_count":1,"score":0,"last_activity_date":1649139216,"creation_date":1649137914,"question_id":71746861,"body_markdown":"I am taking the camera input and processing it with **Tensorflow Lite** model to detect the image and gesture. Tensorflow lite model is **taking bitmap as an input**. I am taking the camera image which is in **android media image** format. Here my problem is I am trying to convert the media image to bitmap. I have found the following.\r\n\r\n      val buffer: ByteBuffer = image!!.planes[0].buffer\r\n            val bytes = ByteArray(buffer.capacity())\r\n            buffer.get(bytes)\r\n            val bmp:Bitmap=BitmapFactory.decodeByteArray(bytes, 0, bytes.size, null)\r\n          \r\n\r\nBut the converted bitmap is null always. Please guide me in the right way where I am going wrong.\r\nThanks in Advance.","title":"Android Media Image to Bitmap Conversion for Tensorflow Lite","body":"<p>I am taking the camera input and processing it with <strong>Tensorflow Lite</strong> model to detect the image and gesture. Tensorflow lite model is <strong>taking bitmap as an input</strong>. I am taking the camera image which is in <strong>android media image</strong> format. Here my problem is I am trying to convert the media image to bitmap. I have found the following.</p>\n<pre><code>  val buffer: ByteBuffer = image!!.planes[0].buffer\n        val bytes = ByteArray(buffer.capacity())\n        buffer.get(bytes)\n        val bmp:Bitmap=BitmapFactory.decodeByteArray(bytes, 0, bytes.size, null)\n      \n</code></pre>\n<p>But the converted bitmap is null always. Please guide me in the right way where I am going wrong.\nThanks in Advance.</p>\n"},{"tags":["java","type-conversion"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1649139016,"post_id":71746968,"comment_id":126793194,"body_markdown":"That is called casting, so you can access its own attributs/methods","body":"That is called casting, so you can access its own attributs/methods"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1649139066,"post_id":71746968,"comment_id":126793203,"body_markdown":"Because `equals` expects an `Object` as a parameter so, syntactically speaking, you could be passing it any kind of object. You can try: `var p = new Person(&quot;joe&quot;, 30); System.out.println(p.equals(&quot;clearly not a person&quot;));`","body":"Because <code>equals</code> expects an <code>Object</code> as a parameter so, syntactically speaking, you could be passing it any kind of object. You can try: <code>var p = new Person(&quot;joe&quot;, 30); System.out.println(p.equals(&quot;clearly not a person&quot;));</code>"}],"owner":{"account_id":24830323,"reputation":1,"user_id":18709577,"display_name":"Akkiri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649139016,"answer_count":0,"score":0,"last_activity_date":1649138797,"creation_date":1649138797,"question_id":71746968,"body_markdown":"```\r\npublic class Person {\r\n\r\n    String name;\r\n    int age;\r\n\r\n    public Person(String name, int age) {\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person [name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object otherObject) {\r\n\r\n        if (otherObject instanceof Person) {\r\n            Person otherPerson = (Person) otherObject;\r\n\r\n            if (this.age == otherPerson.age) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is a code, I find at a book.\r\nI don&#39;t konw, why `Person otherPerson = (Person) otherObject;` need forced type conversion.\r\n\r\nAfter trying many situations, I think may it is no need?","title":"Why this part need forced type conversion","body":"<pre><code>public class Person {\n\n    String name;\n    int age;\n\n    public Person(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Person [name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;;\n    }\n\n    @Override\n    public boolean equals(Object otherObject) {\n\n        if (otherObject instanceof Person) {\n            Person otherPerson = (Person) otherObject;\n\n            if (this.age == otherPerson.age) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n}\n</code></pre>\n<p>This is a code, I find at a book.\nI don't konw, why <code>Person otherPerson = (Person) otherObject;</code> need forced type conversion.</p>\n<p>After trying many situations, I think may it is no need?</p>\n"},{"tags":["java","spring-boot","enums"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1649134291,"post_id":71745476,"comment_id":126792359,"body_markdown":"can `GroceryType` be just `String`,  `groceryname` in `GroceryList` and `groceryType` are different?","body":"can <code>GroceryType</code> be just <code>String</code>,  <code>groceryname</code> in <code>GroceryList</code> and <code>groceryType</code> are different?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1649139225,"post_id":71745476,"comment_id":126793235,"body_markdown":"You should clarify your problem.","body":"You should clarify your problem."},{"owner":{"account_id":19617755,"reputation":39,"user_id":14358849,"display_name":"anonymous"},"score":0,"creation_date":1649195275,"post_id":71745476,"comment_id":126813669,"body_markdown":"@HariHaravelan GroceryType is a enum it can only strjng..groceryname in GroceryList and grocerytype are different","body":"@HariHaravelan GroceryType is a enum it can only strjng..groceryname in GroceryList and grocerytype are different"}],"answers":[{"tags":[],"owner":{"account_id":24749609,"reputation":81,"user_id":18635297,"display_name":"Math_Guerin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649125328,"creation_date":1649125328,"answer_id":71745676,"question_id":71745476,"body_markdown":"a switch case should do the trick for single element\r\n\r\n    GroceryType expression = groceryList[0]\r\n    &gt; switch(expression) {\r\n      case GroceryType.MANGO:\r\n        // your code here\r\n        break;\r\n      case GroceryType.ORANGE:\r\n        // your code here\r\n        break;\r\n      default:\r\n        // code block\r\n    }\r\n\r\nYou can also use a loop if you need to clean all the data\r\n\r\n    for(int i=0;i&lt;groceryList.length();i++){\r\n        if(groceryList[i]==GroceryType.MANGO){\r\n              //do stuff\r\n         }\r\n         else if(groceryList[i]==GroceryType.ORANGE){\r\n              //do stuff\r\n    }\r\n    } ","title":"Validating data based on enum type in springboot java","body":"<p>a switch case should do the trick for single element</p>\n<pre><code>GroceryType expression = groceryList[0]\n&gt; switch(expression) {\n  case GroceryType.MANGO:\n    // your code here\n    break;\n  case GroceryType.ORANGE:\n    // your code here\n    break;\n  default:\n    // code block\n}\n</code></pre>\n<p>You can also use a loop if you need to clean all the data</p>\n<pre><code>for(int i=0;i&lt;groceryList.length();i++){\n    if(groceryList[i]==GroceryType.MANGO){\n          //do stuff\n     }\n     else if(groceryList[i]==GroceryType.ORANGE){\n          //do stuff\n}\n} \n</code></pre>\n"}],"owner":{"account_id":19617755,"reputation":39,"user_id":14358849,"display_name":"anonymous"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649138528,"creation_date":1649122889,"question_id":71745476,"body_markdown":"I have an object `Grocery`, I have a field `GroceryType` as an `enum` in the `Grocery` object. I have one more field as list `groceryList`. \r\n\r\nI need to add a validation to accept only one `groceryList` when `GroceryType` is `MANGO`\r\nExample:\r\n\r\n    //Grocery object\r\n    public class Grocery {    \r\n        private GroceryType groceryType;    \r\n        private List&lt;GroceryList&gt; groceryList;    \r\n    }\r\n    \r\n    //GroceryList object\r\n    public class GroceryList {    \r\n        private String groceryname;    \r\n        private String quantity;    \r\n    }\r\n    \r\n    //AddressType enum    \r\n    public enum GroceryType {    \r\n        MANGO, ORANGE    \r\n      }        \r\n    }","title":"Validating data based on enum type in springboot java","body":"<p>I have an object <code>Grocery</code>, I have a field <code>GroceryType</code> as an <code>enum</code> in the <code>Grocery</code> object. I have one more field as list <code>groceryList</code>.</p>\n<p>I need to add a validation to accept only one <code>groceryList</code> when <code>GroceryType</code> is <code>MANGO</code>\nExample:</p>\n<pre><code>//Grocery object\npublic class Grocery {    \n    private GroceryType groceryType;    \n    private List&lt;GroceryList&gt; groceryList;    \n}\n\n//GroceryList object\npublic class GroceryList {    \n    private String groceryname;    \n    private String quantity;    \n}\n\n//AddressType enum    \npublic enum GroceryType {    \n    MANGO, ORANGE    \n  }        \n}\n</code></pre>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":3,"creation_date":1507035191,"post_id":46545024,"comment_id":80044129,"body_markdown":"Look up &quot;Binary search&quot;","body":"Look up &quot;Binary search&quot;"},{"owner":{"account_id":2056173,"reputation":2037,"user_id":1833878,"accept_rate":68,"display_name":"Chris Phillips"},"score":0,"creation_date":1507039266,"post_id":46545024,"comment_id":80046992,"body_markdown":"place `System.out.println(count)` inside of your for-loop.\nI suspect your loop isn&#39;t implemented properly. Youll be able to see how many times your loop is running.","body":"place <code>System.out.println(count)</code> inside of your for-loop. I suspect your loop isn&#39;t implemented properly. Youll be able to see how many times your loop is running."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1509605226,"post_id":46545024,"comment_id":81086130,"body_markdown":"Why would you sort a sorted array??","body":"Why would you sort a sorted array??"}],"answers":[{"tags":[],"owner":{"account_id":7612520,"reputation":74,"user_id":5772964,"display_name":"kui.z"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1507035446,"creation_date":1507035446,"answer_id":46545193,"question_id":46545024,"body_markdown":"no need sort,only foreach,it is more effiective method","title":"SortedSearch.countNumbers(new int[] { 1, 3, 5, 7 }, 4) should return 2 because there are two array elements less than 4","body":"<p>no need sort,only foreach,it is more effiective method</p>\n"},{"tags":[],"owner":{"account_id":8019810,"reputation":99,"user_id":6048780,"display_name":"Veerendar Chary Munigadapa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509605111,"creation_date":1509605111,"answer_id":47069153,"question_id":46545024,"body_markdown":"Try below code \r\n\r\n    public static int countNumbers(int[] sortedArray, int lessThan) {\r\n    \tint start = 0;\r\n        int end = sortedArray.length - 1;\r\n        int mid = 0;\r\n        while (start &lt;= end) {\r\n            mid = (start + end) / 2;\r\n            if (sortedArray[mid] &lt; lessThan) {\r\n                if (mid &lt; sortedArray.length - 1 &amp;&amp; sortedArray[mid + 1] &lt; lessThan) { // check id next value is also valid\r\n                    start = mid + 1;\r\n                    continue;\r\n                } else\r\n                    return mid + 1;\r\n            }\r\n \r\n            if (sortedArray[mid] &gt;= lessThan) {\r\n                end = mid - 1;\r\n            } else {\r\n                start = mid + 1;\r\n            }\r\n        }\r\n        return 0;\r\n \t\r\n    }\r\n","title":"SortedSearch.countNumbers(new int[] { 1, 3, 5, 7 }, 4) should return 2 because there are two array elements less than 4","body":"<p>Try below code </p>\n\n<pre><code>public static int countNumbers(int[] sortedArray, int lessThan) {\n    int start = 0;\n    int end = sortedArray.length - 1;\n    int mid = 0;\n    while (start &lt;= end) {\n        mid = (start + end) / 2;\n        if (sortedArray[mid] &lt; lessThan) {\n            if (mid &lt; sortedArray.length - 1 &amp;&amp; sortedArray[mid + 1] &lt; lessThan) { // check id next value is also valid\n                start = mid + 1;\n                continue;\n            } else\n                return mid + 1;\n        }\n\n        if (sortedArray[mid] &gt;= lessThan) {\n            end = mid - 1;\n        } else {\n            start = mid + 1;\n        }\n    }\n    return 0;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519673608,"creation_date":1509608354,"answer_id":47069959,"question_id":46545024,"body_markdown":"You can use Java&#39;s built-in binary search:\r\n\r\n    public static int countNumbers(int[] sortedArray, int lessThan) {\r\n        int i = java.util.Arrays.binarySearch(sortedArray, lessThan);\r\n        if (i &lt; 0) {\r\n            return -i - 1;\r\n        } else {\r\n            // in case of duplicates, find first occurrence\r\n            for (; i &gt; 0 &amp;&amp; sortedArray[i - 1] == lessThan; i--);\r\n            return i;\r\n        }\r\n    }","title":"SortedSearch.countNumbers(new int[] { 1, 3, 5, 7 }, 4) should return 2 because there are two array elements less than 4","body":"<p>You can use Java's built-in binary search:</p>\n\n<pre><code>public static int countNumbers(int[] sortedArray, int lessThan) {\n    int i = java.util.Arrays.binarySearch(sortedArray, lessThan);\n    if (i &lt; 0) {\n        return -i - 1;\n    } else {\n        // in case of duplicates, find first occurrence\n        for (; i &gt; 0 &amp;&amp; sortedArray[i - 1] == lessThan; i--);\n        return i;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13023821,"reputation":93,"user_id":9412365,"display_name":"Hoxsey"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1519637507,"creation_date":1519637507,"answer_id":48985210,"question_id":46545024,"body_markdown":"@shmosel Code is correct, but the for loop isn&#39;t needed. The binarySearch method returns the index of the value you are looking for. Therefore you&#39;ll only need to return i.\r\n\r\n    public static int countNumbers(int[] sortedArray, int lessThan) {\r\n        int i = java.util.Arrays.binarySearch(sortedArray, lessThan);\r\n        if (i &lt; 0) \r\n            return -i - 1;\r\n        else\r\n            return i;\r\n    }","title":"SortedSearch.countNumbers(new int[] { 1, 3, 5, 7 }, 4) should return 2 because there are two array elements less than 4","body":"<p>@shmosel Code is correct, but the for loop isn't needed. The binarySearch method returns the index of the value you are looking for. Therefore you'll only need to return i.</p>\n\n<pre><code>public static int countNumbers(int[] sortedArray, int lessThan) {\n    int i = java.util.Arrays.binarySearch(sortedArray, lessThan);\n    if (i &lt; 0) \n        return -i - 1;\n    else\n        return i;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9553834,"reputation":348,"user_id":7097028,"display_name":"Florian Talour"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579016424,"creation_date":1519925423,"answer_id":49055481,"question_id":46545024,"body_markdown":"They expect you to use the [Array.BinarySearch][1] method to get 100%.\r\n\r\n    using System;\r\n\r\n    public class SortedSearch\r\n        {\r\n        public static int CountNumbers(int[] sortedArray, int lessThan)\r\n        {\r\n            int lengthOfArray = sortedArray.Length;\r\n            if (lengthOfArray == 0) return 0;\r\n\r\n            if (sortedArray[0] &gt;= lessThan) return 0;\r\n\r\n            if (sortedArray[lengthOfArray - 1] &lt; lessThan) return lengthOfArray;\r\n\r\n            int index = Array.BinarySearch(sortedArray, lessThan);\r\n            if (index &lt; 0)\r\n                return ~index;\r\n\r\n            return index;\r\n        }\r\n\r\n        public static void Main(string[] args)\r\n        {\r\n            Console.WriteLine(SortedSearch.CountNumbers(new int[] { 1, 3, 5, 7 }, 4));\r\n        }\r\n    }\r\n\r\n[1]: https://msdn.microsoft.com/en-us/library/2cy9f6wb(v=vs.110).aspx &quot;Array.BinarySearch&amp;lt;T&amp;gt; Method &amp;#40;T[], T&amp;#41;&quot;","title":"SortedSearch.countNumbers(new int[] { 1, 3, 5, 7 }, 4) should return 2 because there are two array elements less than 4","body":"<p>They expect you to use the <a href=\"https://msdn.microsoft.com/en-us/library/2cy9f6wb(v=vs.110).aspx\" rel=\"nofollow noreferrer\" title=\"Array.BinarySearch&lt;T&gt; Method &#40;T[], T&#41;\">Array.BinarySearch</a> method to get 100%.</p>\n\n<pre><code>using System;\n\npublic class SortedSearch\n    {\n    public static int CountNumbers(int[] sortedArray, int lessThan)\n    {\n        int lengthOfArray = sortedArray.Length;\n        if (lengthOfArray == 0) return 0;\n\n        if (sortedArray[0] &gt;= lessThan) return 0;\n\n        if (sortedArray[lengthOfArray - 1] &lt; lessThan) return lengthOfArray;\n\n        int index = Array.BinarySearch(sortedArray, lessThan);\n        if (index &lt; 0)\n            return ~index;\n\n        return index;\n    }\n\n    public static void Main(string[] args)\n    {\n        Console.WriteLine(SortedSearch.CountNumbers(new int[] { 1, 3, 5, 7 }, 4));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16632387,"reputation":1,"user_id":12019950,"display_name":"mbara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628325199,"creation_date":1628325199,"answer_id":68690685,"question_id":46545024,"body_markdown":"    public class SortedSearch {\r\n        public static int countNumbers(int[] sortedArray, int lessThan) {\r\n               int end = sortedArray.length-1;\r\n            int start = 0;\r\n            int mid =0;\r\n    \r\n            while (start&lt;=end){\r\n                mid = (start+end)/2;\r\n                if(sortedArray[mid] &lt;lessThan){\r\n                    if(mid&lt;sortedArray.length-1 &amp;&amp; sortedArray[mid+1]&lt;lessThan){\r\n                      start = mid+1;\r\n                      continue;\r\n                    }else{\r\n                        return mid+1;\r\n                    }\r\n                }else{\r\n                    end = mid-1;\r\n                }\r\n    \r\n            }\r\n    return 0;\r\n        }\r\n        \r\n        ","title":"SortedSearch.countNumbers(new int[] { 1, 3, 5, 7 }, 4) should return 2 because there are two array elements less than 4","body":"<pre><code>public class SortedSearch {\n    public static int countNumbers(int[] sortedArray, int lessThan) {\n           int end = sortedArray.length-1;\n        int start = 0;\n        int mid =0;\n\n        while (start&lt;=end){\n            mid = (start+end)/2;\n            if(sortedArray[mid] &lt;lessThan){\n                if(mid&lt;sortedArray.length-1 &amp;&amp; sortedArray[mid+1]&lt;lessThan){\n                  start = mid+1;\n                  continue;\n                }else{\n                    return mid+1;\n                }\n            }else{\n                end = mid-1;\n            }\n\n        }\nreturn 0;\n    }\n    \n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10465547,"reputation":1,"user_id":7715081,"display_name":"israa alsarsour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649138452,"creation_date":1648727733,"answer_id":71692036,"question_id":46545024,"body_markdown":"    using System;\r\n\r\n    public class SortedSearch\r\n     {\r\n    public static int CountNumbers(int[] sortedArray, int lessThan)\r\n    {\r\n        //throw new NotImplementedException(&quot;Waiting to be implemented.&quot;);\r\n        int left=0;\r\n        int right= sortedArray.Length-1;\r\n        int mid=0;\r\n        \r\n        if(sortedArray[left]==lessThan)\r\n           return 0;\r\n        if(sortedArray[right]==lessThan)\r\n          return right;\r\n        if(sortedArray[right]&lt;lessThan)\r\n            return right+1;\r\n        \r\n        while(left&lt;=right){\r\n         \r\n                mid=(right+left)/2;\r\n            \r\n            if(sortedArray[mid]==lessThan)\r\n                return mid;\r\n                \r\n            if(sortedArray[mid]&gt;lessThan){\r\n                right=mid-1;\r\n                \r\n            }else{\r\n                //Console.WriteLine(mid);\r\n                //if(sortedArray[mid+1]==lessThan)\r\n                 //   return mid+1;\r\n                if(sortedArray[mid+1]&gt;=lessThan)\r\n                  return mid+1;\r\n                else \r\n                    left=mid+1;\r\n            }\r\n        }\r\n       return 0;\r\n       \r\n    }\r\n    \r\n     static void Main(string[] args)\r\n    {\r\n        Console.WriteLine(SortedSearch.CountNumbers(new int[] { -1,1,7 }\r\n                                                    , 9));\r\n    }\r\n}\r\n\r\nUsing the idea of binary search will solve the problem in O(logn) which means the complexity is reduced to half of the normal search using a loop to iterate all the element to find the solution with complexity of O(n), this was solved in C# but it can be translated to any programming language","title":"SortedSearch.countNumbers(new int[] { 1, 3, 5, 7 }, 4) should return 2 because there are two array elements less than 4","body":"<pre><code>using System;\n\npublic class SortedSearch\n {\npublic static int CountNumbers(int[] sortedArray, int lessThan)\n{\n    //throw new NotImplementedException(&quot;Waiting to be implemented.&quot;);\n    int left=0;\n    int right= sortedArray.Length-1;\n    int mid=0;\n    \n    if(sortedArray[left]==lessThan)\n       return 0;\n    if(sortedArray[right]==lessThan)\n      return right;\n    if(sortedArray[right]&lt;lessThan)\n        return right+1;\n    \n    while(left&lt;=right){\n     \n            mid=(right+left)/2;\n        \n        if(sortedArray[mid]==lessThan)\n            return mid;\n            \n        if(sortedArray[mid]&gt;lessThan){\n            right=mid-1;\n            \n        }else{\n            //Console.WriteLine(mid);\n            //if(sortedArray[mid+1]==lessThan)\n             //   return mid+1;\n            if(sortedArray[mid+1]&gt;=lessThan)\n              return mid+1;\n            else \n                left=mid+1;\n        }\n    }\n   return 0;\n   \n}\n\n static void Main(string[] args)\n{\n    Console.WriteLine(SortedSearch.CountNumbers(new int[] { -1,1,7 }\n                                                , 9));\n}\n</code></pre>\n<p>}</p>\n<p>Using the idea of binary search will solve the problem in O(logn) which means the complexity is reduced to half of the normal search using a loop to iterate all the element to find the solution with complexity of O(n), this was solved in C# but it can be translated to any programming language</p>\n"}],"owner":{"account_id":10739541,"reputation":21,"user_id":7903124,"display_name":"Ritesh Karmare"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3415,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":7,"score":-3,"last_activity_date":1649138452,"creation_date":1507034949,"question_id":46545024,"body_markdown":"Need more efficient way \r\n\r\n**Following are the results:**  \r\n\r\n - Example case: Correct answer    \r\n\r\n - Various small arrays: Correct answer    \r\n\r\n - Performance test when sortedArray contains ***lessThan***: Time\r\n   limit exceeded    \r\n\r\n - Performance test when sortedArray doesn&#39;t contain ***lessThan***: Time limit exceeded\r\n\r\n\r\n**Following is the code:**\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class SortedSearch {\r\n        public static int countNumbers(int[] sortedArray, int lessThan) {\r\n     \r\n            Arrays.sort(sortedArray);\r\n            int count =0;\r\n     \r\n            for(int num :sortedArray){\r\n                \r\n                if(num &lt; lessThan)\r\n                count++;\r\n            }\r\n            return count;\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            System.out.println(SortedSearch.countNumbers(new int[] { 1, 3, 5, 7 }, 4));\r\n        }\r\n    }\r\n\r\n\r\nRef Link : [Try here][1]\r\n\r\n\r\n  [1]: https://www.testdome.com/questions/java/sorted-search/9879?visibility=1&amp;skillId=4","title":"SortedSearch.countNumbers(new int[] { 1, 3, 5, 7 }, 4) should return 2 because there are two array elements less than 4","body":"<p>Need more efficient way </p>\n\n<p><strong>Following are the results:</strong>  </p>\n\n<ul>\n<li><p>Example case: Correct answer    </p></li>\n<li><p>Various small arrays: Correct answer    </p></li>\n<li><p>Performance test when sortedArray contains <strong><em>lessThan</em></strong>: Time\nlimit exceeded    </p></li>\n<li><p>Performance test when sortedArray doesn't contain <strong><em>lessThan</em></strong>: Time limit exceeded</p></li>\n</ul>\n\n<p><strong>Following is the code:</strong></p>\n\n<pre><code>import java.util.Arrays;\n\npublic class SortedSearch {\n    public static int countNumbers(int[] sortedArray, int lessThan) {\n\n        Arrays.sort(sortedArray);\n        int count =0;\n\n        for(int num :sortedArray){\n\n            if(num &lt; lessThan)\n            count++;\n        }\n        return count;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(SortedSearch.countNumbers(new int[] { 1, 3, 5, 7 }, 4));\n    }\n}\n</code></pre>\n\n<p>Ref Link : <a href=\"https://www.testdome.com/questions/java/sorted-search/9879?visibility=1&amp;skillId=4\" rel=\"nofollow noreferrer\">Try here</a></p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1442776539,"post_id":32683199,"comment_id":53211149,"body_markdown":"You got the idea, but implemented a solution that only works when the number has exactly 3 digits. You should now write a solution that works whatever the number of digits is, to find a more generic solution.","body":"You got the idea, but implemented a solution that only works when the number has exactly 3 digits. You should now write a solution that works whatever the number of digits is, to find a more generic solution."},{"owner":{"account_id":3012344,"reputation":605,"user_id":2555504,"accept_rate":57,"display_name":"Saurabh Goyal"},"score":0,"creation_date":1442776586,"post_id":32683199,"comment_id":53211164,"body_markdown":"If you are sure that user will enter a valid 3 digit number, then instead of first converting to integer and then fetching the digits, you can just print the three characters of number string.","body":"If you are sure that user will enter a valid 3 digit number, then instead of first converting to integer and then fetching the digits, you can just print the three characters of number string."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1442776811,"post_id":32683199,"comment_id":53211258,"body_markdown":"That seems good, because a 1 digit answer, e.g. `5`, still gets printed on 3 lines (`0`, `0`, `5`), but if number is &gt;999, e.g. 5432, the first &quot;digit&quot; will be a larger number (`54`, `3`, `2`). Is that what it should do?","body":"That seems good, because a 1 digit answer, e.g. <code>5</code>, still gets printed on 3 lines (<code>0</code>, <code>0</code>, <code>5</code>), but if number is &gt;999, e.g. 5432, the first &quot;digit&quot; will be a larger number (<code>54</code>, <code>3</code>, <code>2</code>). Is that what it should do?"},{"owner":{"account_id":5383017,"reputation":67,"user_id":4287774,"display_name":"Ninja"},"score":1,"creation_date":1442776974,"post_id":32683199,"comment_id":53211323,"body_markdown":"my teacher told us to assume the user will enter a valid 3-digit number and that we aren&#39;t required to account for any error, yet.","body":"my teacher told us to assume the user will enter a valid 3-digit number and that we aren&#39;t required to account for any error, yet."},{"owner":{"account_id":2533222,"reputation":4782,"user_id":2201050,"display_name":"folkol"},"score":0,"creation_date":1442777395,"post_id":32683199,"comment_id":53211465,"body_markdown":"Does &quot;in order&quot; mean in order entered, or in numeric (sorted) order?","body":"Does &quot;in order&quot; mean in order entered, or in numeric (sorted) order?"},{"owner":{"account_id":5383017,"reputation":67,"user_id":4287774,"display_name":"Ninja"},"score":0,"creation_date":1442777756,"post_id":32683199,"comment_id":53211584,"body_markdown":"&quot;in order &quot; means ordered entered. if the user inputs 682, the program prints 6,8, and 2.","body":"&quot;in order &quot; means ordered entered. if the user inputs 682, the program prints 6,8, and 2."}],"answers":[{"tags":[],"owner":{"account_id":2682468,"reputation":5771,"user_id":2317535,"display_name":"ashiquzzaman33"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1442777824,"creation_date":1442776555,"answer_id":32683236,"question_id":32683199,"body_markdown":"Alternate solution:\r\n\r\nFirst input a integer and convert it to `String` then loop through the `String`.\r\n\r\n    \t public static void main (String [] args ) {\r\n\t        System.out.println(&quot;Give me a three digit integer and I will print out each individual digit&quot;);\r\n\t        Scanner input = new Scanner(System.in);\r\n\t        int number = input.nextInt();\r\n\t        String str = Integer.toString(number);\r\n\t        for(int i=0; i&lt;str.length(); i++){\r\n\t        \tSystem.out.println(str.charAt(i));\r\n\t        }\r\n\t    }","title":"Separating the digits of a three-digit integer","body":"<p>Alternate solution:</p>\n\n<p>First input a integer and convert it to <code>String</code> then loop through the <code>String</code>.</p>\n\n<pre><code>     public static void main (String [] args ) {\n        System.out.println(\"Give me a three digit integer and I will print out each individual digit\");\n        Scanner input = new Scanner(System.in);\n        int number = input.nextInt();\n        String str = Integer.toString(number);\n        for(int i=0; i&lt;str.length(); i++){\n            System.out.println(str.charAt(i));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442777440,"creation_date":1442776989,"answer_id":32683324,"question_id":32683199,"body_markdown":"Another solution, if Java 8 and built-in methods are allowed, is to iterate over the characters of the number as a String and print them using `forEach`.\r\n\r\n    int number = 12345;\r\n    String.valueOf(number).chars().map(Character::getNumericValue).forEach(System.out::println);\r\n    // or String.valueOf(number).chars().forEach(c -&gt; System.out.println((char) c));","title":"Separating the digits of a three-digit integer","body":"<p>Another solution, if Java 8 and built-in methods are allowed, is to iterate over the characters of the number as a String and print them using <code>forEach</code>.</p>\n\n<pre><code>int number = 12345;\nString.valueOf(number).chars().map(Character::getNumericValue).forEach(System.out::println);\n// or String.valueOf(number).chars().forEach(c -&gt; System.out.println((char) c));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2533222,"reputation":4782,"user_id":2201050,"display_name":"folkol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442777546,"creation_date":1442777546,"answer_id":32683422,"question_id":32683199,"body_markdown":"One way would be to read the number as a String instead, and loop through the chars:\r\n\r\n    import java.util.Scanner;\r\n    public class ThreeDigits\r\n    {\r\n        public static void main (String [] args ){\r\n            System.out.println(&quot;Give me a three digit integer and I will print out each individual digit&quot;);\r\n            Scanner input = new Scanner(System.in);\r\n            String number = input.next();\r\n            \r\n            for(char c : number.toCharArray())\r\n                System.out.println(c);\r\n        }\r\n    }","title":"Separating the digits of a three-digit integer","body":"<p>One way would be to read the number as a String instead, and loop through the chars:</p>\n\n<pre><code>import java.util.Scanner;\npublic class ThreeDigits\n{\n    public static void main (String [] args ){\n        System.out.println(\"Give me a three digit integer and I will print out each individual digit\");\n        Scanner input = new Scanner(System.in);\n        String number = input.next();\n\n        for(char c : number.toCharArray())\n            System.out.println(c);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4641187,"reputation":118,"user_id":3761001,"display_name":"user3761001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442778029,"creation_date":1442778029,"answer_id":32683510,"question_id":32683199,"body_markdown":"A nice solution is by using a stack.\r\n\r\n    public static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Enter number: &quot;);\r\n        Scanner input = new Scanner(System.in);\r\n        int num = input.nextInt();\r\n        input.close();\r\n        \r\n        if(num&lt;0)\r\n        \tnum*=-1;\r\n        \r\n        Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\r\n\t\twhile (num != 0)\r\n\t\t{\r\n\t\t\tstack.push(num%10);\r\n\t\t\tnum/=10;\r\n\t\t}\r\n\t\tint count=1;\r\n\t\twhile(!stack.isEmpty())\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;digit&quot; + count + &quot;: &quot; + stack.pop());\r\n\t\t\tcount++;\r\n\t\t}\r\n\t}\r\n\r\nDon&#39;t forget to import it.\r\n\r\nimport java.util.Stack;","title":"Separating the digits of a three-digit integer","body":"<p>A nice solution is by using a stack.</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"Enter number: \");\n    Scanner input = new Scanner(System.in);\n    int num = input.nextInt();\n    input.close();\n\n    if(num&lt;0)\n        num*=-1;\n\n    Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\n    while (num != 0)\n    {\n        stack.push(num%10);\n        num/=10;\n    }\n    int count=1;\n    while(!stack.isEmpty())\n    {\n        System.out.println(\"digit\" + count + \": \" + stack.pop());\n        count++;\n    }\n}\n</code></pre>\n\n<p>Don't forget to import it.</p>\n\n<p>import java.util.Stack;</p>\n"},{"tags":[],"owner":{"account_id":24810371,"reputation":1,"user_id":18691903,"display_name":"Gigi C. Valdez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649138217,"creation_date":1648993079,"answer_id":71726425,"question_id":32683199,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    class Main {\r\n    \tpublic static void main(String args[]) {\r\n    \r\n    \t\tScanner input = new Scanner(System.in);\r\n    \r\n    \t\tint n = input.nextInt();\r\n    \t\tint iter = n, sum = 0;\r\n    \r\n    \t\twhile(iter &gt; 0) {\r\n    \t\t\tsum = sum + iter;\r\n    \t\t\titer--;\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;The sum from 1 to &quot; + n + &quot; is &quot; + sum + &quot;.&quot;);\r\n    \t}\r\n    }","title":"Separating the digits of a three-digit integer","body":"<pre><code>import java.util.Scanner;\n\nclass Main {\n    public static void main(String args[]) {\n\n        Scanner input = new Scanner(System.in);\n\n        int n = input.nextInt();\n        int iter = n, sum = 0;\n\n        while(iter &gt; 0) {\n            sum = sum + iter;\n            iter--;\n        }\n\n        System.out.println(&quot;The sum from 1 to &quot; + n + &quot; is &quot; + sum + &quot;.&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5383017,"reputation":67,"user_id":4287774,"display_name":"Ninja"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10636,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32683236,"answer_count":5,"score":3,"last_activity_date":1649138217,"creation_date":1442776337,"question_id":32683199,"body_markdown":"For my APCS class, my assignment was to take a three-digit number inputed by the user and to print each digit in order on separate lines. My code works fine:\r\n\r\n    import java.util.Scanner;\r\n    public class threeDigits\r\n    {\r\n        public static void main (String [] args ){\r\n            System.out.println(&quot;Give me a three digit integer and I will print out each individual digit&quot;);\r\n            Scanner input = new Scanner(System.in);\r\n            int number = input.nextInt();\r\n            int digit1 = number / 100;\r\n            int digit2 = (number % 100)/10;\r\n            int digit3 = number % 10;\r\n            System.out.println(digit1);\r\n            System.out.println(digit2);\r\n            System.out.println(digit3);\r\n        }\r\n    }\r\n\r\nWhat I would like to know is if there is a better, more simple way to get the same result or if this is the best way to do it. \r\nEven if this is the most quick-and-dirty way to get the result, I would love to see alternate ways of doing the same thing, not to hand in for a grade but just as a learning experience.","title":"Separating the digits of a three-digit integer","body":"<p>For my APCS class, my assignment was to take a three-digit number inputed by the user and to print each digit in order on separate lines. My code works fine:</p>\n\n<pre><code>import java.util.Scanner;\npublic class threeDigits\n{\n    public static void main (String [] args ){\n        System.out.println(\"Give me a three digit integer and I will print out each individual digit\");\n        Scanner input = new Scanner(System.in);\n        int number = input.nextInt();\n        int digit1 = number / 100;\n        int digit2 = (number % 100)/10;\n        int digit3 = number % 10;\n        System.out.println(digit1);\n        System.out.println(digit2);\n        System.out.println(digit3);\n    }\n}\n</code></pre>\n\n<p>What I would like to know is if there is a better, more simple way to get the same result or if this is the best way to do it. \nEven if this is the most quick-and-dirty way to get the result, I would love to see alternate ways of doing the same thing, not to hand in for a grade but just as a learning experience.</p>\n"},{"tags":["java","mongodb","spring-boot","migration","mongock"],"answers":[{"tags":[],"owner":{"account_id":1447146,"reputation":50,"user_id":1365220,"display_name":"Ilan Toren"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649138197,"creation_date":1649138197,"answer_id":71746893,"question_id":71746778,"body_markdown":"**Aggregation stage $out**\r\nA simple way to copy a collection is the aggregation stage $out\r\n\r\n    db.collectionOld.aggregate( [{$out: &quot;collectionNew&quot;}])\r\n\r\nfollowed by a drop of the old collection (do yourself a favor and backup that collection prior to the drop)\r\nThe two steps can be combined (but not the backup) into a simple program or better scripted in bsh or such.\r\n","title":"Can we use mongock as a migration tool to rename mongodb collection","body":"<p><strong>Aggregation stage $out</strong>\nA simple way to copy a collection is the aggregation stage $out</p>\n<pre><code>db.collectionOld.aggregate( [{$out: &quot;collectionNew&quot;}])\n</code></pre>\n<p>followed by a drop of the old collection (do yourself a favor and backup that collection prior to the drop)\nThe two steps can be combined (but not the backup) into a simple program or better scripted in bsh or such.</p>\n"}],"owner":{"account_id":24830093,"reputation":1,"user_id":18709367,"display_name":"AQS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649138197,"creation_date":1649137167,"question_id":71746778,"body_markdown":"We are going to rename a mongodb collection and writing migration script in our spring boot microservice.Is it ok to use mongock for the same?\r\nTrying to understand if the changeunit is executed once on app startup, would it throw exception once it is restarted and does not find the old collection to be renamed.\r\n\r\nmongoTemplate.getCollection(&quot;collection1&quot;).rename(&quot;collection2&quot;);\r\n\r\nOn first execution it will be renamed but what about second time the application is deployed.","title":"Can we use mongock as a migration tool to rename mongodb collection","body":"<p>We are going to rename a mongodb collection and writing migration script in our spring boot microservice.Is it ok to use mongock for the same?\nTrying to understand if the changeunit is executed once on app startup, would it throw exception once it is restarted and does not find the old collection to be renamed.</p>\n<p>mongoTemplate.getCollection(&quot;collection1&quot;).rename(&quot;collection2&quot;);</p>\n<p>On first execution it will be renamed but what about second time the application is deployed.</p>\n"},{"tags":["java","jvm"],"answers":[{"tags":[],"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648970805,"creation_date":1648970805,"answer_id":71723845,"question_id":71723799,"body_markdown":"Try to reinstall JDK. Path seemingly works fine there","title":"Error occurred during initialization of VM,error in opening files","body":"<p>Try to reinstall JDK. Path seemingly works fine there</p>\n"},{"tags":[],"owner":{"account_id":22660902,"reputation":11,"user_id":16834004,"display_name":"harsh bhardwaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649137725,"creation_date":1649137725,"answer_id":71746842,"question_id":71723799,"body_markdown":"After trying a number of solutions, at last I used the java update installer it upgraded the java version and the problem was solved.","title":"Error occurred during initialization of VM,error in opening files","body":"<p>After trying a number of solutions, at last I used the java update installer it upgraded the java version and the problem was solved.</p>\n"}],"owner":{"account_id":22660902,"reputation":11,"user_id":16834004,"display_name":"harsh bhardwaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649137725,"creation_date":1648970382,"question_id":71723799,"body_markdown":"Some time back it was working fine on command prompt but I don&#39;t know why it is showing errors now. I have tried setting the java path still error persists. Also checked the files msvcr100.dll and rt.jar both are present and are not empty. Please help if u can :)\r\n\r\n![this is the error](https://i.stack.imgur.com/aM6Vh.png)\r\n![this is the path](https://i.stack.imgur.com/qduJS.png)","title":"Error occurred during initialization of VM,error in opening files","body":"<p>Some time back it was working fine on command prompt but I don't know why it is showing errors now. I have tried setting the java path still error persists. Also checked the files msvcr100.dll and rt.jar both are present and are not empty. Please help if u can :)</p>\n<p><img src=\"https://i.stack.imgur.com/aM6Vh.png\" alt=\"this is the error\" />\n<img src=\"https://i.stack.imgur.com/qduJS.png\" alt=\"this is the path\" /></p>\n"},{"tags":["python","java","web-applications","wsgi","asgi"],"owner":{"account_id":24830020,"reputation":11,"user_id":18709310,"display_name":"Rayman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649136618,"creation_date":1649136618,"question_id":71746730,"body_markdown":"In Python as we have WSGI or ASGI which differ in the way they handle the incoming requests to the web application, is there a **Java equivalent** to these two varying methodologies? ","title":"Is there an equivalent to Python ASGI in Java?","body":"<p>In Python as we have WSGI or ASGI which differ in the way they handle the incoming requests to the web application, is there a <strong>Java equivalent</strong> to these two varying methodologies?</p>\n"},{"tags":["java","javascript","jsp","servlets"],"comments":[{"owner":{"account_id":450407,"reputation":7155,"user_id":845704,"accept_rate":89,"display_name":"James Hay"},"score":0,"creation_date":1334637863,"post_id":10185134,"comment_id":13073056,"body_markdown":"The only way you can &#39;watch&#39; for changes in an iframe is to use javascript. There is no way to do it *purely* in any server-side language.","body":"The only way you can &#39;watch&#39; for changes in an iframe is to use javascript. There is no way to do it <i>purely</i> in any server-side language."}],"answers":[{"tags":[],"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334637750,"creation_date":1334637750,"answer_id":10185163,"question_id":10185134,"body_markdown":"Instead of sending a 301 or 302 redirect, send a JSP page (or write to the output stream of the response) with html content that has the javascript redirect in it set to execute on load.  That way you can do your checking in the java side of things and just send the javascript redirect when appropriate, otherwise send regular content.","title":"Redirect parent page from a ifram in JSP by JAVA","body":"<p>Instead of sending a 301 or 302 redirect, send a JSP page (or write to the output stream of the response) with html content that has the javascript redirect in it set to execute on load.  That way you can do your checking in the java side of things and just send the javascript redirect when appropriate, otherwise send regular content.</p>\n"},{"tags":[],"owner":{"account_id":8224283,"reputation":49,"user_id":6187033,"display_name":"Amarjit Kushwaha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649136502,"creation_date":1649136502,"answer_id":71746712,"question_id":10185134,"body_markdown":"I have scenario like:\r\n\r\nWe have an application deployed on WebLogic and one application deployed on tomcat.\r\nwe have embeded tomcat application to run in WebLogic application.\r\nsomewhere we want to redirect the page on WebLogic application URL which is the parent application. for that if you use:\r\n`response.sendRedirect(&quot;newUrl.jsp&quot;)` it will redirect to inner application URL(tomcat).\r\n\r\nto resolve it I have used JavaScript for redirection\r\n\r\n    &lt;%\r\n    boolean isRedirect = true // check if redirection required, I have made it true for testing\r\n    String redirectHomepage = &quot;home.jsp&quot;;\r\n    if(isRedirect){\r\n    %&gt; \r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n            window.parent.location.href = &quot;&lt;%=redirectHomepage%&gt;&quot;\r\n        &lt;/script&gt;\r\n    &lt;%\r\n        return;\r\n    }\r\n    %&gt;\r\n\r\n","title":"Redirect parent page from a ifram in JSP by JAVA","body":"<p>I have scenario like:</p>\n<p>We have an application deployed on WebLogic and one application deployed on tomcat.\nwe have embeded tomcat application to run in WebLogic application.\nsomewhere we want to redirect the page on WebLogic application URL which is the parent application. for that if you use:\n<code>response.sendRedirect(&quot;newUrl.jsp&quot;)</code> it will redirect to inner application URL(tomcat).</p>\n<p>to resolve it I have used JavaScript for redirection</p>\n<pre><code>&lt;%\nboolean isRedirect = true // check if redirection required, I have made it true for testing\nString redirectHomepage = &quot;home.jsp&quot;;\nif(isRedirect){\n%&gt; \n    &lt;script type=&quot;text/javascript&quot;&gt;\n        window.parent.location.href = &quot;&lt;%=redirectHomepage%&gt;&quot;\n    &lt;/script&gt;\n&lt;%\n    return;\n}\n%&gt;\n</code></pre>\n"}],"owner":{"account_id":484421,"reputation":5836,"user_id":900081,"accept_rate":58,"display_name":"D&#233;bora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4021,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1649136502,"creation_date":1334637539,"question_id":10185134,"body_markdown":"A same question can be found [here](https://stackoverflow.com/questions/580669/redirect-parent-window-from-an-iframe-action-using-javascript) .  and some equal questions found.  \r\n  They are about `javascript` (answer :-window.top.location.href = &quot;http://www.site.com&quot;; )  \r\n **But**  \r\nI want to know how to redirect it by `Java` in a jsp page. A usual redirect can be done as..  \r\n\r\n    response.sendRedirect(&quot;newUrl.jsp&quot;);  \r\nBut it redirects the source page inside the iframe not the parent page. The task is that the source file of the iframe get refreshed and do some stuff(checking session.. getting attributes.  )and if the source page meets a particular logical stage,then the parent page might be redirected to another page.But not in javascript, I want to know it in JAVA( That means the jsp/servlet container decides and redirects to another page in the server).  \r\nMy current opinion is that, such things might be handle with javascript.Your all info is highly appreciated. ","title":"Redirect parent page from a ifram in JSP by JAVA","body":"<p>A same question can be found <a href=\"https://stackoverflow.com/questions/580669/redirect-parent-window-from-an-iframe-action-using-javascript\">here</a> .  and some equal questions found.<br>\n  They are about <code>javascript</code> (answer :-window.top.location.href = \"<a href=\"http://www.site.com\" rel=\"nofollow noreferrer\">http://www.site.com</a>\"; )<br>\n <strong>But</strong><br>\nI want to know how to redirect it by <code>Java</code> in a jsp page. A usual redirect can be done as..  </p>\n\n<pre><code>response.sendRedirect(\"newUrl.jsp\");  \n</code></pre>\n\n<p>But it redirects the source page inside the iframe not the parent page. The task is that the source file of the iframe get refreshed and do some stuff(checking session.. getting attributes.  )and if the source page meets a particular logical stage,then the parent page might be redirected to another page.But not in javascript, I want to know it in JAVA( That means the jsp/servlet container decides and redirects to another page in the server).<br>\nMy current opinion is that, such things might be handle with javascript.Your all info is highly appreciated. </p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1233862383,"post_id":517532,"comment_id":330999,"body_markdown":"1.) What language/environment? 2.) The link you posted is password-protected","body":"1.) What language/environment? 2.) The link you posted is password-protected"},{"owner":{"account_id":13052,"reputation":36521,"user_id":26004,"accept_rate":92,"display_name":"fmsf"},"score":0,"creation_date":1233862545,"post_id":517532,"comment_id":331010,"body_markdown":"oh sry :S firefox is storing the password totaly forgot it","body":"oh sry :S firefox is storing the password totaly forgot it"},{"owner":{"account_id":13052,"reputation":36521,"user_id":26004,"accept_rate":92,"display_name":"fmsf"},"score":0,"creation_date":1233862586,"post_id":517532,"comment_id":331015,"body_markdown":"and it says it&#39;s language independent","body":"and it says it&#39;s language independent"},{"owner":{"account_id":17179,"reputation":114983,"user_id":38206,"accept_rate":80,"display_name":"Brian Rasmussen"},"score":0,"creation_date":1233863455,"post_id":517532,"comment_id":331078,"body_markdown":"You might want to drop the link then.","body":"You might want to drop the link then."},{"owner":{"account_id":7335,"reputation":334951,"user_id":12711,"accept_rate":75,"display_name":"Michael Burr"},"score":0,"creation_date":1233865638,"post_id":517532,"comment_id":331244,"body_markdown":"This information would definitely be dependent on the language and environment.","body":"This information would definitely be dependent on the language and environment."}],"answers":[{"tags":[],"owner":{"account_id":22651,"reputation":13651,"user_id":56076,"accept_rate":72,"display_name":"Don Branson"},"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1233862359,"creation_date":1233862359,"answer_id":517539,"question_id":517532,"body_markdown":"It&#39;s not atomic because it&#39;s a multiple-step operation at the machine code level.  That is, longs and doubles are longer than the processor&#39;s word length.","title":"Writing long and double is not atomic in Java?","body":"<p>It's not atomic because it's a multiple-step operation at the machine code level.  That is, longs and doubles are longer than the processor's word length.</p>\n"},{"tags":[],"owner":{"account_id":6957,"reputation":74511,"user_id":11858,"accept_rate":93,"display_name":"daveb"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1336956349,"creation_date":1248742039,"answer_id":1191390,"question_id":517532,"body_markdown":"Just to clarify the situation for Java, doubles and longs are not read or written to atomically unless they&#39;re declared `volatile`\r\n\r\n[JLS - Nonatomic Treatment of double and long][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.7","title":"Writing long and double is not atomic in Java?","body":"<p>Just to clarify the situation for Java, doubles and longs are not read or written to atomically unless they're declared <code>volatile</code></p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.7\" rel=\"noreferrer\">JLS - Nonatomic Treatment of double and long</a></p>\n"},{"tags":[],"owner":{"account_id":3167910,"reputation":56,"user_id":2677484,"display_name":"digvijayb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431851852,"creation_date":1431851852,"answer_id":30284973,"question_id":517532,"body_markdown":"Java programming language memory model, a single write to a non-volatile long or double value is treated as two separate writes: one to each 32-bit half. This can result in a situation where a thread sees the first 32 bits of a 64-bit value from one write, and the second 32 bits from another write.","title":"Writing long and double is not atomic in Java?","body":"<p>Java programming language memory model, a single write to a non-volatile long or double value is treated as two separate writes: one to each 32-bit half. This can result in a situation where a thread sees the first 32 bits of a 64-bit value from one write, and the second 32 bits from another write.</p>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459142343,"creation_date":1459142343,"answer_id":36256426,"question_id":517532,"body_markdown":"Read answer by maaartinus @ [What operations in Java are considered atomic?][1] &lt;BR&gt;\r\nRead answer by Jon Skeet @ [When primitive datatypes not thread-safe in Java?][2]\r\n\r\nAs per the [JLS][3] you can make read and write operation on double and long to be atomic by declaring it as volatile. But this will not ensure ++ to be atomic. That needs concurrent.atomic package. &lt;BR&gt;Read this [answer][4] from Louis Wasserman.\r\n\r\nAlso this [blog][5] and comments.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4756536/what-operations-in-java-are-considered-atomic\r\n  [2]: https://stackoverflow.com/questions/9278764/are-primitive-datatypes-thread-safe-in-java\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.7\r\n  [4]: https://stackoverflow.com/questions/19744508/volatile-vs-atomic\r\n  [5]: http://jeremymanson.blogspot.in/2007/08/volatile-does-not-mean-atomic.html","title":"Writing long and double is not atomic in Java?","body":"<p>Read answer by maaartinus @ <a href=\"https://stackoverflow.com/questions/4756536/what-operations-in-java-are-considered-atomic\">What operations in Java are considered atomic?</a> <BR>\nRead answer by Jon Skeet @ <a href=\"https://stackoverflow.com/questions/9278764/are-primitive-datatypes-thread-safe-in-java\">When primitive datatypes not thread-safe in Java?</a></p>\n\n<p>As per the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.7\" rel=\"nofollow noreferrer\">JLS</a> you can make read and write operation on double and long to be atomic by declaring it as volatile. But this will not ensure ++ to be atomic. That needs concurrent.atomic package. <BR>Read this <a href=\"https://stackoverflow.com/questions/19744508/volatile-vs-atomic\">answer</a> from Louis Wasserman.</p>\n\n<p>Also this <a href=\"http://jeremymanson.blogspot.in/2007/08/volatile-does-not-mean-atomic.html\" rel=\"nofollow noreferrer\">blog</a> and comments.</p>\n"},{"tags":[],"owner":{"account_id":4873024,"reputation":193,"user_id":3928902,"accept_rate":0,"display_name":"napster"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1480316856,"creation_date":1480316856,"answer_id":40838829,"question_id":517532,"body_markdown":"Java long and double are not atomic in 32 bit machines, but atomic in 64 bit machines with some of the 64 bit JVMs. why its dependant on machine bit length? Because 32 bit machine needs two writes for long(as long is 64 bit).\r\nRead [this][1] for detailed info.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.7","title":"Writing long and double is not atomic in Java?","body":"<p>Java long and double are not atomic in 32 bit machines, but atomic in 64 bit machines with some of the 64 bit JVMs. why its dependant on machine bit length? Because 32 bit machine needs two writes for long(as long is 64 bit).\nRead <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.7\" rel=\"noreferrer\">this</a> for detailed info.</p>\n"},{"tags":[],"owner":{"account_id":11970064,"reputation":31,"user_id":8758781,"display_name":"Jas Kaur"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537867791,"creation_date":1507795510,"answer_id":46704502,"question_id":517532,"body_markdown":"Many programmers must have read this statement in &quot;3.1.2. Non-Atomic 64bit Operations&quot; in java concurrency in practice . I have referred the latest JLS [17.7. Non-Atomic Treatment of double and long][1]. They still nowhere claim that 64 bit jVM are norm these days. So 64 bit operations are broken into 32 bit operations that break atomicity and dangerous to use in multithreaded environment until declared volatile . Long and double are 64 bit long in java. So writing and reading operations are not atomic in java.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se9/html/jls-17.html#jls-17.7","title":"Writing long and double is not atomic in Java?","body":"<p>Many programmers must have read this statement in \"3.1.2. Non-Atomic 64bit Operations\" in java concurrency in practice . I have referred the latest JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-17.html#jls-17.7\" rel=\"nofollow noreferrer\">17.7. Non-Atomic Treatment of double and long</a>. They still nowhere claim that 64 bit jVM are norm these days. So 64 bit operations are broken into 32 bit operations that break atomicity and dangerous to use in multithreaded environment until declared volatile . Long and double are 64 bit long in java. So writing and reading operations are not atomic in java.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613576507,"creation_date":1608481358,"answer_id":65382071,"question_id":517532,"body_markdown":"Atomic variable operation means that any thread can read/write from/to it without any trash\r\n\r\nNon `long`/`double` read/write are `atomic` for x32 and **some** x64 because of hardware limitations. If `volatile` is used it makes it/add to it `atomic` \r\n\r\n[\\[Atomicity\\]][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59491099/4770877","title":"Writing long and double is not atomic in Java?","body":"<p>Atomic variable operation means that any thread can read/write from/to it without any trash</p>\n<p>Non <code>long</code>/<code>double</code> read/write are <code>atomic</code> for x32 and <strong>some</strong> x64 because of hardware limitations. If <code>volatile</code> is used it makes it/add to it <code>atomic</code></p>\n<p><a href=\"https://stackoverflow.com/a/59491099/4770877\">[Atomicity]</a></p>\n"}],"owner":{"account_id":13052,"reputation":36521,"user_id":26004,"accept_rate":92,"display_name":"fmsf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14824,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":517539,"answer_count":7,"score":37,"last_activity_date":1649135988,"creation_date":1233862284,"question_id":517532,"body_markdown":"&gt; Reading and writing of a single variable is atomic (language guarantee!), unless the variable is of type long or double. \r\n\r\n\r\nI was reading a course&#39;s slides and I found that written. The class was about concurrency.\r\n\r\nCan anyone explain to me why writing a long or a double is not an atomic operation? It really took me by surprise.\r\n","title":"Writing long and double is not atomic in Java?","body":"<blockquote>\n  <p>Reading and writing of a single variable is atomic (language guarantee!), unless the variable is of type long or double. </p>\n</blockquote>\n\n<p>I was reading a course's slides and I found that written. The class was about concurrency.</p>\n\n<p>Can anyone explain to me why writing a long or a double is not an atomic operation? It really took me by surprise.</p>\n"},{"tags":["java","reference","stack"],"answers":[{"tags":[],"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649131210,"creation_date":1649131210,"answer_id":71746161,"question_id":71746128,"body_markdown":"```\r\npublic String toString() {\r\n    StringBuilder s = new StringBuilder();\r\n    while(top!=null) {\r\n        s.append(top.data + &quot; -&gt; &quot;);\r\n        top = top.next;\r\n    }\r\n    return s.toString();\r\n}\r\n```\r\n\r\nWhen calling `toString()`, you move the member variable `top` pointer along to the end of the stack, effectively `null`ing the stack; make a copy of `top` and iterate over that to solve your problem.","title":"Stack implementation using LinkedList in java references not working properly","body":"<pre><code>public String toString() {\n    StringBuilder s = new StringBuilder();\n    while(top!=null) {\n        s.append(top.data + &quot; -&gt; &quot;);\n        top = top.next;\n    }\n    return s.toString();\n}\n</code></pre>\n<p>When calling <code>toString()</code>, you move the member variable <code>top</code> pointer along to the end of the stack, effectively <code>null</code>ing the stack; make a copy of <code>top</code> and iterate over that to solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":16200133,"reputation":41,"user_id":11696713,"display_name":"Prachi Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649135839,"creation_date":1649135839,"answer_id":71746637,"question_id":71746128,"body_markdown":"In intellij, there is an enable toString() view of an object property, if we disable it, then toString() will be invoked only when we invoke it.\r\nOtherwise toString() is invoked each time a method like stack.push() is being called, which makes my stack null due to the incorrect implementation of my toString() method. \r\n\r\nThe first answer will help with the understanding.\r\n\r\nhttps://stackoverflow.com/questions/47866398/skipped-breakpoint-because-it-happened-inside-debugger-evaluation-intellij-ide","title":"Stack implementation using LinkedList in java references not working properly","body":"<p>In intellij, there is an enable toString() view of an object property, if we disable it, then toString() will be invoked only when we invoke it.\nOtherwise toString() is invoked each time a method like stack.push() is being called, which makes my stack null due to the incorrect implementation of my toString() method.</p>\n<p>The first answer will help with the understanding.</p>\n<p><a href=\"https://stackoverflow.com/questions/47866398/skipped-breakpoint-because-it-happened-inside-debugger-evaluation-intellij-ide\">Skipped breakpoint because it happened inside debugger evaluation - Intellij IDEA</a></p>\n"}],"owner":{"account_id":16200133,"reputation":41,"user_id":11696713,"display_name":"Prachi Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71746161,"answer_count":2,"score":0,"last_activity_date":1649135839,"creation_date":1649130780,"question_id":71746128,"body_markdown":"Each time a push operation is called on this stack, the new node is created but the stack just gets null.\r\nPlease help me with what is wrong with my code.\r\nI am messing up with reference variables. When a push operation is called from main method, the top gets null each time. I don&#39;t know why is this happening.\r\nimport java.util.EmptyStackException;\r\n\r\npublic class LinkedListImplStack&lt;T&gt; {\r\n\r\n    public LinkedListImplStack() {\r\n        this.top = null;\r\n    }\r\n    //Node\r\n    private static class Node&lt;T&gt; {\r\n        T data;\r\n        Node next;\r\n\r\n        public Node(T data) {\r\n            this.data = data;\r\n            this.next = null;\r\n        }\r\n    }\r\n\r\n    // maintain top\r\n    private Node top;\r\n\r\n    //push()\r\n    public void push(T data) {\r\n        Node&lt;T&gt; node = new Node(data);\r\n        node.next = top;\r\n         top = node;\r\n    }\r\n\r\n    //pop()\r\n    public T pop() {\r\n        if(top == null)\r\n            throw new EmptyStackException();\r\n        T toBePopped = (T) top.data;\r\n        top = top.next;\r\n        return toBePopped;\r\n    }\r\n\r\n    //peek()\r\n    public T peek() {\r\n        if(top == null)\r\n            throw new EmptyStackException();\r\n        return (T) top.data;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder s = new StringBuilder();\r\n        while(top!=null) {\r\n            s.append(top.data + &quot; -&gt; &quot;);\r\n            top = top.next;\r\n        }\r\n        return s.toString();\r\n    }\r\n    public static void main(String[] args) {\r\n        LinkedListImplStack myStack = new LinkedListImplStack();\r\n        myStack.push(1);\r\n        myStack.push(2);\r\n        myStack.push(3);\r\n        System.out.println(myStack);\r\n        myStack.pop();\r\n        System.out.println(myStack);\r\n        myStack.push(&quot;four&quot;);\r\n        System.out.println(myStack);\r\n        System.out.println(myStack.peek());\r\n    }\r\n}\r\n\r\n\r\n","title":"Stack implementation using LinkedList in java references not working properly","body":"<p>Each time a push operation is called on this stack, the new node is created but the stack just gets null.\nPlease help me with what is wrong with my code.\nI am messing up with reference variables. When a push operation is called from main method, the top gets null each time. I don't know why is this happening.\nimport java.util.EmptyStackException;</p>\n<p>public class LinkedListImplStack {</p>\n<pre><code>public LinkedListImplStack() {\n    this.top = null;\n}\n//Node\nprivate static class Node&lt;T&gt; {\n    T data;\n    Node next;\n\n    public Node(T data) {\n        this.data = data;\n        this.next = null;\n    }\n}\n\n// maintain top\nprivate Node top;\n\n//push()\npublic void push(T data) {\n    Node&lt;T&gt; node = new Node(data);\n    node.next = top;\n     top = node;\n}\n\n//pop()\npublic T pop() {\n    if(top == null)\n        throw new EmptyStackException();\n    T toBePopped = (T) top.data;\n    top = top.next;\n    return toBePopped;\n}\n\n//peek()\npublic T peek() {\n    if(top == null)\n        throw new EmptyStackException();\n    return (T) top.data;\n}\n\n@Override\npublic String toString() {\n    StringBuilder s = new StringBuilder();\n    while(top!=null) {\n        s.append(top.data + &quot; -&gt; &quot;);\n        top = top.next;\n    }\n    return s.toString();\n}\npublic static void main(String[] args) {\n    LinkedListImplStack myStack = new LinkedListImplStack();\n    myStack.push(1);\n    myStack.push(2);\n    myStack.push(3);\n    System.out.println(myStack);\n    myStack.pop();\n    System.out.println(myStack);\n    myStack.push(&quot;four&quot;);\n    System.out.println(myStack);\n    System.out.println(myStack.peek());\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","dagger-hilt"],"answers":[{"tags":[],"owner":{"account_id":19576761,"reputation":271,"user_id":14326682,"display_name":"feigo808"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649135346,"creation_date":1649135346,"answer_id":71746583,"question_id":71728457,"body_markdown":" 1. Ensure your activity &amp; fragment are having `@AndroidEntryPoint` annotation.\r\n 2. Add `implementation &quot;androidx.fragment:fragment-ktx:1.4.1&quot;` to `build.gradle(:app)`","title":"Hilt Dagger Error java.lang.RuntimeException: Cannot create an instance of class HomeFragmentViewModel","body":"<ol>\n<li>Ensure your activity &amp; fragment are having <code>@AndroidEntryPoint</code> annotation.</li>\n<li>Add <code>implementation &quot;androidx.fragment:fragment-ktx:1.4.1&quot;</code> to <code>build.gradle(:app)</code></li>\n</ol>\n"}],"owner":{"account_id":21144914,"reputation":43,"user_id":15546453,"display_name":"gejivi2011"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71746583,"answer_count":1,"score":0,"last_activity_date":1649135346,"creation_date":1649007870,"question_id":71728457,"body_markdown":"I was trying to inject my viewModel to fragment but I have this error : \r\n\r\njava.lang.RuntimeException: Cannot create an instance of class com.mas.cryptomasters.ui.fragment.home.HomeFragmentViewModel\r\n\r\nMy Code : \r\n\r\n    class HomeFragment : BaseFragment&lt;FragmentHomeBinding&gt;() {\r\n    \r\n        private val viewModel: HomeFragmentViewModel by viewModels()\r\n    \r\n        override fun init() {\r\n    \r\n            viewModel.homeMutable.observe(this) {\r\n                when {\r\n                    it.reLogin -&gt; requireActivity().reLogin()\r\n                    it.error.isNotEmpty() -&gt; requireContext().crToast()\r\n                    it.data != null -&gt; Log.e(&quot;TAG&quot;, &quot;data != null&quot;)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd this my ViewModel class \r\n\r\n\r\n    @HiltViewModel\r\n    class HomeFragmentViewModel @Inject constructor(apiRepository: ApiRepository) :\r\n        ViewModel() {\r\n        val homeMutable: MutableLiveData&lt;Response&gt; = MutableLiveData()\r\n    \r\n        init {\r\n            viewModelScope.launch {\r\n                apiRepository.getHome()\r\n                    .let {\r\n                        when (it.isRequestSuccess(it.body()!!.code)) {\r\n                            RESPONSE.SUCCESS -&gt; homeMutable.postValue(Response(it.body()!!))\r\n                            RESPONSE.ERROR -&gt; homeMutable.postValue(Response(error = &quot;${it.errorBody()}&quot;))\r\n                            RESPONSE.AUT -&gt; homeMutable.postValue(Response(reLogin = true))\r\n                        }\r\n                    }\r\n            }\r\n        }\r\n    }","title":"Hilt Dagger Error java.lang.RuntimeException: Cannot create an instance of class HomeFragmentViewModel","body":"<p>I was trying to inject my viewModel to fragment but I have this error :</p>\n<p>java.lang.RuntimeException: Cannot create an instance of class com.mas.cryptomasters.ui.fragment.home.HomeFragmentViewModel</p>\n<p>My Code :</p>\n<pre><code>class HomeFragment : BaseFragment&lt;FragmentHomeBinding&gt;() {\n\n    private val viewModel: HomeFragmentViewModel by viewModels()\n\n    override fun init() {\n\n        viewModel.homeMutable.observe(this) {\n            when {\n                it.reLogin -&gt; requireActivity().reLogin()\n                it.error.isNotEmpty() -&gt; requireContext().crToast()\n                it.data != null -&gt; Log.e(&quot;TAG&quot;, &quot;data != null&quot;)\n            }\n        }\n    }\n}\n</code></pre>\n<p>And this my ViewModel class</p>\n<pre><code>@HiltViewModel\nclass HomeFragmentViewModel @Inject constructor(apiRepository: ApiRepository) :\n    ViewModel() {\n    val homeMutable: MutableLiveData&lt;Response&gt; = MutableLiveData()\n\n    init {\n        viewModelScope.launch {\n            apiRepository.getHome()\n                .let {\n                    when (it.isRequestSuccess(it.body()!!.code)) {\n                        RESPONSE.SUCCESS -&gt; homeMutable.postValue(Response(it.body()!!))\n                        RESPONSE.ERROR -&gt; homeMutable.postValue(Response(error = &quot;${it.errorBody()}&quot;))\n                        RESPONSE.AUT -&gt; homeMutable.postValue(Response(reLogin = true))\n                    }\n                }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","constructor","binary-tree"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1649133485,"post_id":71746338,"comment_id":126792239,"body_markdown":"You can use a List with only one member. (and empty lists for the leaf nodes)","body":"You can use a List with only one member. (and empty lists for the leaf nodes)"}],"answers":[{"tags":[],"owner":{"account_id":10600070,"reputation":186,"user_id":7807270,"display_name":"Horace Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649134581,"creation_date":1649133565,"answer_id":71746370,"question_id":71746338,"body_markdown":"For these problems, we should tackle it bottom up.\r\n\r\n```\r\nOrg orgG = new Org(&#39;G&#39;, Arrays.asList());\r\nOrg orgF = new Org(&#39;F&#39;, Arrays.asList());\r\nOrg orgE = new Org(&#39;E&#39;, Arrays.asList());\r\nOrg orgD = new Org(&#39;D&#39;, Arrays.asList());\r\n        \r\nOrg orgC = new Org(&#39;C&#39;, Arrays.asList(orgF, orgG));\r\nOrg orgB = new Org(&#39;B&#39;, Arrays.asList(orgD, orgE));\r\nOrg orgA = new Org(&#39;A&#39;, Arrays.asList(orgC, orgB));\r\n```\r\n\r\nWith this, if `Org` has empty list means it is a leaf node (no child for it).","title":"How to create a tree like structure with a List&lt;CustomType&gt; parameter in java constructor","body":"<p>For these problems, we should tackle it bottom up.</p>\n<pre><code>Org orgG = new Org('G', Arrays.asList());\nOrg orgF = new Org('F', Arrays.asList());\nOrg orgE = new Org('E', Arrays.asList());\nOrg orgD = new Org('D', Arrays.asList());\n        \nOrg orgC = new Org('C', Arrays.asList(orgF, orgG));\nOrg orgB = new Org('B', Arrays.asList(orgD, orgE));\nOrg orgA = new Org('A', Arrays.asList(orgC, orgB));\n</code></pre>\n<p>With this, if <code>Org</code> has empty list means it is a leaf node (no child for it).</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649133726,"creation_date":1649133726,"answer_id":71746384,"question_id":71746338,"body_markdown":"You have to start from the bottom up, constructing the child object and passing it to the parent constructor. For the sake of brevity, I&#39;ll substitute `Org...` for `List&lt;Org&gt;`:\r\n\r\n    new Org(&#39;A&#39;,\r\n        new Org(&#39;B&#39;,\r\n            new Org(&#39;D&#39;), new Org(&#39;E&#39;)),\r\n        new Org(&#39;C&#39;,\r\n            new Org(&#39;F&#39;), new Org(&#39;G&#39;)))\r\n","title":"How to create a tree like structure with a List&lt;CustomType&gt; parameter in java constructor","body":"<p>You have to start from the bottom up, constructing the child object and passing it to the parent constructor. For the sake of brevity, I'll substitute <code>Org...</code> for <code>List&lt;Org&gt;</code>:</p>\n<pre><code>new Org('A',\n    new Org('B',\n        new Org('D'), new Org('E')),\n    new Org('C',\n        new Org('F'), new Org('G')))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16017137,"reputation":313,"user_id":12892702,"display_name":"kingified"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649135116,"creation_date":1649135116,"answer_id":71746554,"question_id":71746338,"body_markdown":"For the benefit of anyone who faces a similar issue, I was able to get what I needed with this based on the comments and answers provided by contributors. \r\n\r\n\r\n```\r\n            Org orgG = new Org(&#39;G&#39;, new ArrayList());\r\n            Org orgF = new Org(&#39;F&#39;, new ArrayList());\r\n            Org orgE = new Org(&#39;E&#39;, new ArrayList());\r\n            Org orgD = new Org(&#39;D&#39;, Arrays.asList(orgH,orgI));\r\n            Org orgC = new Org(&#39;C&#39;, Arrays.asList(orgF,orgG));\r\n            Org orgB = new Org(&#39;B&#39;, Arrays.asList(orgD,orgE));\r\n            Org orgA = new Org(&#39;A&#39;, Arrays.asList(orgB,orgC));\r\n```","title":"How to create a tree like structure with a List&lt;CustomType&gt; parameter in java constructor","body":"<p>For the benefit of anyone who faces a similar issue, I was able to get what I needed with this based on the comments and answers provided by contributors.</p>\n<pre><code>            Org orgG = new Org('G', new ArrayList());\n            Org orgF = new Org('F', new ArrayList());\n            Org orgE = new Org('E', new ArrayList());\n            Org orgD = new Org('D', Arrays.asList(orgH,orgI));\n            Org orgC = new Org('C', Arrays.asList(orgF,orgG));\n            Org orgB = new Org('B', Arrays.asList(orgD,orgE));\n            Org orgA = new Org('A', Arrays.asList(orgB,orgC));\n</code></pre>\n"}],"owner":{"account_id":16017137,"reputation":313,"user_id":12892702,"display_name":"kingified"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71746370,"answer_count":3,"score":0,"last_activity_date":1649135116,"creation_date":1649133214,"question_id":71746338,"body_markdown":"I have a class **Org** that has **name** and a list of **tasks** and I want to print a list of tasks under each name in a tree like structure using the class constructor:  \r\nname -&gt; A tasks - &gt; B, C, name -&gt;B tasks - &gt; D, E, name -&gt; C, tasks -&gt; F,G \r\n\r\n```\r\n        A\r\n       / \\\r\n     B     C\r\n    / \\   / \\\r\n   D   E  F  G\r\n\r\n\r\n```\r\nHere is the class structure:\r\n```\r\nstatic class Org {\r\n        char name;\r\n        List&lt;Org&gt; tasks;\r\n\r\n        Org(char name, List&lt;Org&gt; tasks){\r\n            this.name = name;\r\n            this.tasks = tasks;\r\n        }\r\n```\r\nI read [this][1] but it does not apply to what I&#39;m doing.\r\nHere is what I tried  \r\n\r\n```\r\n List&lt;Org&gt; org = new Org(&#39;A&#39;, new ArrayList&lt;Org&gt;(&#39;B&#39;,&#39;C&#39;)); // for the first level\r\n org.add(&#39;B&#39;, new ArrayList&lt;Org&gt;(&#39;D&#39;,&#39;E&#39;)); // for the second level\r\n org.add(&#39;C&#39;, new ArrayList&lt;Org&gt;(&#39;F&#39;,&#39;G&#39;)); // for the third level\r\n\r\n\r\n```\r\n\r\nThis does not work because the second parameter in the constructor expects an Org type and not a char type. How would you create such a tree using this constructor? Any help would be appreciated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69443740/making-a-binary-tree-with-a-constructor-with-an-array-parameter","title":"How to create a tree like structure with a List&lt;CustomType&gt; parameter in java constructor","body":"<p>I have a class <strong>Org</strong> that has <strong>name</strong> and a list of <strong>tasks</strong> and I want to print a list of tasks under each name in a tree like structure using the class constructor:<br />\nname -&gt; A tasks - &gt; B, C, name -&gt;B tasks - &gt; D, E, name -&gt; C, tasks -&gt; F,G</p>\n<pre><code>        A\n       / \\\n     B     C\n    / \\   / \\\n   D   E  F  G\n\n\n</code></pre>\n<p>Here is the class structure:</p>\n<pre><code>static class Org {\n        char name;\n        List&lt;Org&gt; tasks;\n\n        Org(char name, List&lt;Org&gt; tasks){\n            this.name = name;\n            this.tasks = tasks;\n        }\n</code></pre>\n<p>I read <a href=\"https://stackoverflow.com/questions/69443740/making-a-binary-tree-with-a-constructor-with-an-array-parameter\">this</a> but it does not apply to what I'm doing.\nHere is what I tried</p>\n<pre><code> List&lt;Org&gt; org = new Org('A', new ArrayList&lt;Org&gt;('B','C')); // for the first level\n org.add('B', new ArrayList&lt;Org&gt;('D','E')); // for the second level\n org.add('C', new ArrayList&lt;Org&gt;('F','G')); // for the third level\n\n\n</code></pre>\n<p>This does not work because the second parameter in the constructor expects an Org type and not a char type. How would you create such a tree using this constructor? Any help would be appreciated.</p>\n"},{"tags":["java","swing","jprogressbar"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1649134159,"post_id":71746296,"comment_id":126792340,"body_markdown":"What OS and what look and feel?","body":"What OS and what look and feel?"},{"owner":{"account_id":7227100,"reputation":2697,"user_id":5515287,"display_name":"Mustafa Poya"},"score":1,"creation_date":1649134737,"post_id":71746296,"comment_id":126792421,"body_markdown":"The location you call `UIManager.put` matters, try to call it on top-level section of your code","body":"The location you call <code>UIManager.put</code> matters, try to call it on top-level section of your code"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649135432,"post_id":71746296,"comment_id":126792526,"body_markdown":"As hinted by MadProgrammer, I have found that this is almost always caused by having a look and feel set that will override what you do (Your IDE may have auto-generated the look and feel code for one without you noticing). As per the JavaDoc for [put](https://docs.oracle.com/en/java/javase/15/docs/api/java.desktop/javax/swing/UIManager.html#put(java.lang.Object,java.lang.Object)) &quot;Stores an object in the developer defaults. This is a cover method for getDefaults().put(key, value). **This only effects the developer defaults, not the system or look and feel defaults.**&quot; emphasis mine.","body":"As hinted by MadProgrammer, I have found that this is almost always caused by having a look and feel set that will override what you do (Your IDE may have auto-generated the look and feel code for one without you noticing). As per the JavaDoc for <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.desktop/javax/swing/UIManager.html#put(java.lang.Object,java.lang.Object)\" rel=\"nofollow noreferrer\">put</a> &quot;Stores an object in the developer defaults. This is a cover method for getDefaults().put(key, value). <b>This only effects the developer defaults, not the system or look and feel defaults.</b>&quot; emphasis mine."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1649135701,"post_id":71746296,"comment_id":126792568,"body_markdown":"If you do have a look and feel set, then use the following to change the look and feel `UIManager.getLookAndFeelDefaults().put(...);` rather than just changing the system defaults `UIManager.put(...);`","body":"If you do have a look and feel set, then use the following to change the look and feel <code>UIManager.getLookAndFeelDefaults().put(...);</code> rather than just changing the system defaults <code>UIManager.put(...);</code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1649136261,"post_id":71746296,"comment_id":126792663,"body_markdown":"@sorifiend I&#39;m found that most &quot;system&quot; look and feels (like Windows and MacOS) will simply ignore the keys altogether &#128580;","body":"@sorifiend I&#39;m found that most &quot;system&quot; look and feels (like Windows and MacOS) will simply ignore the keys altogether 🙄"}],"answers":[{"tags":[],"owner":{"account_id":7227100,"reputation":2697,"user_id":5515287,"display_name":"Mustafa Poya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649134993,"creation_date":1649134993,"answer_id":71746534,"question_id":71746296,"body_markdown":"the problem with your code might relate to the location which you called `UIManager`.\r\nif you call it before object initialization it works correctly:\r\n\r\n```\r\nUIManager.put(&quot;ProgressBar.background&quot;, Color.GREEN);\r\nUIManager.put(&quot;ProgressBar.foreground&quot;, Color.BLUE);\r\nUIManager.put(&quot;ProgressBar.selectionBackground&quot;, Color.RED);\r\nUIManager.put(&quot;ProgressBar.selectionForeground&quot;, Color.GREEN);\r\n\r\nJProgressBar progress = new JProgressBar();\r\n```\r\nresult:&lt;br/&gt;\r\n[![enter image description here][1]][1]\r\n\r\nand if you call `UIManager` after initialization the result will differ:\r\n\r\n```\r\nJProgressBar progress = new JProgressBar();\r\n\r\nUIManager.put(&quot;ProgressBar.background&quot;, Color.GREEN);\r\nUIManager.put(&quot;ProgressBar.foreground&quot;, Color.BLUE);\r\nUIManager.put(&quot;ProgressBar.selectionBackground&quot;, Color.RED);\r\nUIManager.put(&quot;ProgressBar.selectionForeground&quot;, Color.GREEN);\r\n\r\n```\r\nresult:&lt;br/&gt;\r\n![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rZpeH.png\r\n  [2]: https://i.stack.imgur.com/MPwkU.png","title":"how to change the color of JProgressBar","body":"<p>the problem with your code might relate to the location which you called <code>UIManager</code>.\nif you call it before object initialization it works correctly:</p>\n<pre><code>UIManager.put(&quot;ProgressBar.background&quot;, Color.GREEN);\nUIManager.put(&quot;ProgressBar.foreground&quot;, Color.BLUE);\nUIManager.put(&quot;ProgressBar.selectionBackground&quot;, Color.RED);\nUIManager.put(&quot;ProgressBar.selectionForeground&quot;, Color.GREEN);\n\nJProgressBar progress = new JProgressBar();\n</code></pre>\n<p>result:<br/>\n<a href=\"https://i.stack.imgur.com/rZpeH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rZpeH.png\" alt=\"enter image description here\" /></a></p>\n<p>and if you call <code>UIManager</code> after initialization the result will differ:</p>\n<pre><code>JProgressBar progress = new JProgressBar();\n\nUIManager.put(&quot;ProgressBar.background&quot;, Color.GREEN);\nUIManager.put(&quot;ProgressBar.foreground&quot;, Color.BLUE);\nUIManager.put(&quot;ProgressBar.selectionBackground&quot;, Color.RED);\nUIManager.put(&quot;ProgressBar.selectionForeground&quot;, Color.GREEN);\n\n</code></pre>\n<p>result:<br/>\n<img src=\"https://i.stack.imgur.com/MPwkU.png\" alt=\"enter image description here\" />]<a href=\"https://i.stack.imgur.com/MPwkU.png\" rel=\"nofollow noreferrer\">2</a></p>\n"}],"owner":{"account_id":22468124,"reputation":13,"user_id":16668954,"display_name":"yona masa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71746534,"answer_count":1,"score":1,"last_activity_date":1649134993,"creation_date":1649132793,"question_id":71746296,"body_markdown":"1 I am trying to change the color of the progress bar but it stays orange here&#39;s the code:\r\n\r\n```\r\ntest(){  \r\n\t\tUIManager.put(&quot;ProgressBar.background&quot;, Color.BLACK);\r\n \t    UIManager.put(&quot;ProgressBar.foreground&quot;, Color.RED);\r\n \t    UIManager.put(&quot;ProgressBar.selectionBackground&quot;, Color.YELLOW);\r\n \t    UIManager.put(&quot;ProgressBar.selectionForeground&quot;, Color.BLUE);\r\n \t    \r\n\t\t  \r\n\t\t bar = new JProgressBar();\r\n         bar.setBounds(20, 30,400 , 200);\r\n         bar.setString(&quot;Welcome...&quot;);\r\n         bar.setStringPainted(true);\r\n         this.add(bar);\r\n\r\n        \r\n```\r\n\r\nI&#39;ve tried .setbackground it also didnt work","title":"how to change the color of JProgressBar","body":"<p>1 I am trying to change the color of the progress bar but it stays orange here's the code:</p>\n<pre><code>test(){  \n        UIManager.put(&quot;ProgressBar.background&quot;, Color.BLACK);\n        UIManager.put(&quot;ProgressBar.foreground&quot;, Color.RED);\n        UIManager.put(&quot;ProgressBar.selectionBackground&quot;, Color.YELLOW);\n        UIManager.put(&quot;ProgressBar.selectionForeground&quot;, Color.BLUE);\n        \n          \n         bar = new JProgressBar();\n         bar.setBounds(20, 30,400 , 200);\n         bar.setString(&quot;Welcome...&quot;);\n         bar.setStringPainted(true);\n         this.add(bar);\n\n        \n</code></pre>\n<p>I've tried .setbackground it also didnt work</p>\n"},{"tags":["java","android","mqtt"],"owner":{"account_id":24829832,"reputation":11,"user_id":18709131,"display_name":"Adie "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649134911,"creation_date":1649134911,"question_id":71746525,"body_markdown":"I have a Android app that connects to MQTT broker. It successfully connects to the broker. However, when I turned off the mobile data, it still show that the connection is still active.\r\n\r\nIs there a way for me to check if the connection is not available?\r\n\r\nI used:\r\n\r\n`mqttClient.isConnected()`\r\n\r\nTo check the connection periodically (every 10 seconds). The result always returns true.","title":"How to check if mqtt is disconnected after successfully connected in Android Java","body":"<p>I have a Android app that connects to MQTT broker. It successfully connects to the broker. However, when I turned off the mobile data, it still show that the connection is still active.</p>\n<p>Is there a way for me to check if the connection is not available?</p>\n<p>I used:</p>\n<p><code>mqttClient.isConnected()</code></p>\n<p>To check the connection periodically (every 10 seconds). The result always returns true.</p>\n"},{"tags":["java","maven","pom.xml","spring-tool-suite","azure-artifacts"],"comments":[{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":0,"creation_date":1604859045,"post_id":64732082,"comment_id":114469151,"body_markdown":"Does it work when you run the Maven build from the command line instead of using the IDE? And if that works, what happens if you configure your local Maven installation to be used inside of the IDE instead of the embedded version? You can configure that in the `Preferences -&gt; Maven -&gt; Installations`.","body":"Does it work when you run the Maven build from the command line instead of using the IDE? And if that works, what happens if you configure your local Maven installation to be used inside of the IDE instead of the embedded version? You can configure that in the <code>Preferences -&gt; Maven -&gt; Installations</code>."},{"owner":{"account_id":10095128,"reputation":72400,"user_id":7460777,"display_name":"Leo Liu"},"score":0,"creation_date":1604901303,"post_id":64732082,"comment_id":114477666,"body_markdown":"Share the detailed error log in your question and the PERSONAL_TOKEN you provided have permission to access the feed?","body":"Share the detailed error log in your question and the PERSONAL_TOKEN you provided have permission to access the feed?"},{"owner":{"account_id":8923372,"reputation":809,"user_id":6658931,"display_name":"Jonathan Myers"},"score":0,"creation_date":1604940096,"post_id":64732082,"comment_id":114494120,"body_markdown":"I assume the preceding comment is just missing a word, but DO NOT share your PAT with anyone anywhere at any time.","body":"I assume the preceding comment is just missing a word, but DO NOT share your PAT with anyone anywhere at any time."}],"answers":[{"tags":[],"owner":{"account_id":6103423,"reputation":11,"user_id":4761730,"display_name":"Rick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649134475,"creation_date":1649134475,"answer_id":71746469,"question_id":64732082,"body_markdown":"Just ran into this.  \r\nBe aware that the feed can be set up as Organization or Project feed, so it makes a difference in the url e.g.:\r\n`&lt;url&gt;https://pkgs.dev.azure.com/[ORGANIZATION]/[PROJECT]/_packaging/[FEED]/maven/v1&lt;/url&gt;` or `&lt;url&gt;https://pkgs.dev.azure.com/[ORGANIZATION]/_packaging/[FEED]/maven/v1&lt;/url&gt;`\r\n\r\nAlso, the &lt;username&gt;[USER_NAME]&lt;/username&gt; should be &lt;username&gt;[ORGANIZATION]&lt;/username&gt; in your settings.xml.\r\n\r\nAlso, if you are using eclipse, then the built in Maven has an issue uploading jar files.  See answer here: https://stackoverflow.com/questions/64006644/maven-bintray-distribution-in-eclipse-is-not-uploading-jar-files-error-code-401\r\n\r\nUsing an external Maven source solved the problem for me.","title":"Acces denied deploying artifact to Azure Artifacts using STS4","body":"<p>Just ran into this.<br />\nBe aware that the feed can be set up as Organization or Project feed, so it makes a difference in the url e.g.:\n<code>&lt;url&gt;https://pkgs.dev.azure.com/[ORGANIZATION]/[PROJECT]/_packaging/[FEED]/maven/v1&lt;/url&gt;</code> or <code>&lt;url&gt;https://pkgs.dev.azure.com/[ORGANIZATION]/_packaging/[FEED]/maven/v1&lt;/url&gt;</code></p>\n<p>Also, the [USER_NAME] should be [ORGANIZATION] in your settings.xml.</p>\n<p>Also, if you are using eclipse, then the built in Maven has an issue uploading jar files.  See answer here: <a href=\"https://stackoverflow.com/questions/64006644/maven-bintray-distribution-in-eclipse-is-not-uploading-jar-files-error-code-401\">Maven Bintray distribution in Eclipse is not uploading jar files. Error code 401 (Unauthorized) but only for jar packaging?</a></p>\n<p>Using an external Maven source solved the problem for me.</p>\n"}],"owner":{"account_id":19143347,"reputation":1,"user_id":14426078,"display_name":"alopez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649134475,"creation_date":1604780622,"question_id":64732082,"body_markdown":"I have a problem using STS4 deploying artifacts to Azure Artifacts. Using the same config files, I can deploy the artifacts using STS3. I do not modify anything and I cannot deploy anything to Azure, I always receive Access denied error.\r\n\r\nMy maven settings.xml (working with STS3) :\r\n\r\n```\r\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                              https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n &lt;localRepository&gt;${user.home}/.m2/repository&lt;/localRepository&gt;\r\n  &lt;servers&gt;\r\n\r\n    &lt;server&gt;\r\n      &lt;id&gt;[FEED_NAME]&lt;/id&gt;\r\n      &lt;username&gt;[USER_NAME]&lt;/username&gt;\r\n      &lt;password&gt;[PERSONAL_TOKEN]&lt;/password&gt;\r\n    &lt;/server&gt;\r\n\r\n&lt;/servers&gt;\r\n&lt;/settings&gt;\r\n```\r\nand the pom.xml distributionmanagement\r\n```\r\n\t&lt;distributionManagement&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;[FEED_NAME]&lt;/id&gt;\r\n\t\t\t&lt;url&gt;https://pkgs.dev.azure.com/[ORGANIZATION]/[PROJECT]/_packaging/[FEED]/maven/v1&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/distributionManagement&gt;\r\n```\r\n\r\nAnd the pom properties:\r\n\r\n```\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;Hoxton.SR5&lt;/spring-cloud.version&gt;\r\n\t\t&lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n```\r\n\r\nI have seen that the maven installation versions are different from STS3 to STS4. In STS4 in settings&gt;Maven&gt;Installations, I can see in Embedded ```3.6.3/1.16.0.20200610-1735```and in STS3 ```3.6.3/1.14.0.20191209-1923```but I do not know how to deal with that.\r\n\r\nAny idea?\r\n\r\nThank you!!","title":"Acces denied deploying artifact to Azure Artifacts using STS4","body":"<p>I have a problem using STS4 deploying artifacts to Azure Artifacts. Using the same config files, I can deploy the artifacts using STS3. I do not modify anything and I cannot deploy anything to Azure, I always receive Access denied error.</p>\n<p>My maven settings.xml (working with STS3) :</p>\n<pre><code>&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\n                              https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n &lt;localRepository&gt;${user.home}/.m2/repository&lt;/localRepository&gt;\n  &lt;servers&gt;\n\n    &lt;server&gt;\n      &lt;id&gt;[FEED_NAME]&lt;/id&gt;\n      &lt;username&gt;[USER_NAME]&lt;/username&gt;\n      &lt;password&gt;[PERSONAL_TOKEN]&lt;/password&gt;\n    &lt;/server&gt;\n\n&lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>and the pom.xml distributionmanagement</p>\n<pre><code>    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;[FEED_NAME]&lt;/id&gt;\n            &lt;url&gt;https://pkgs.dev.azure.com/[ORGANIZATION]/[PROJECT]/_packaging/[FEED]/maven/v1&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n</code></pre>\n<p>And the pom properties:</p>\n<pre><code>    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Hoxton.SR5&lt;/spring-cloud.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>I have seen that the maven installation versions are different from STS3 to STS4. In STS4 in settings&gt;Maven&gt;Installations, I can see in Embedded <code>3.6.3/1.16.0.20200610-1735</code>and in STS3 <code>3.6.3/1.14.0.20191209-1923</code>but I do not know how to deal with that.</p>\n<p>Any idea?</p>\n<p>Thank you!!</p>\n"},{"tags":["java","android","kotlin","smartphone"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1649134476,"post_id":71746452,"comment_id":126792382,"body_markdown":"may this helpful https://stackoverflow.com/questions/46538848/how-to-disable-audio-recording-apps-in-android","body":"may this helpful <a href=\"https://stackoverflow.com/questions/46538848/how-to-disable-audio-recording-apps-in-android\" title=\"how to disable audio recording apps in android\">stackoverflow.com/questions/46538848/&hellip;</a>"},{"owner":{"account_id":21114754,"reputation":115,"user_id":15522051,"display_name":"PRASHANT VERMA"},"score":0,"creation_date":1649134861,"post_id":71746452,"comment_id":126792443,"body_markdown":"That&#39;s like a mess not a particular solution","body":"That&#39;s like a mess not a particular solution"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1649134984,"post_id":71746452,"comment_id":126792460,"body_markdown":"You can not change behavior of other apps . If you want to make Change in Android AOSP u are welcome to do so. Even is you try to get audio focus when any app opens this will become a mess i think ..","body":"You can not change behavior of other apps . If you want to make Change in Android AOSP u are welcome to do so. Even is you try to get audio focus when any app opens this will become a mess i think .."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1649134985,"post_id":71746452,"comment_id":126792461,"body_markdown":"will you please add some code and details about your question.","body":"will you please add some code and details about your question."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1649135297,"post_id":71746452,"comment_id":126792506,"body_markdown":"Hi @PRASHANTVERMA. Why don&#39;t you try [this](https://stackoverflow.com/a/46659636/17133283)? It also has received 100 bounty, is accepted and has 7 upvotes","body":"Hi @PRASHANTVERMA. Why don&#39;t you try <a href=\"https://stackoverflow.com/a/46659636/17133283\">this</a>? It also has received 100 bounty, is accepted and has 7 upvotes"}],"owner":{"account_id":21114754,"reputation":115,"user_id":15522051,"display_name":"PRASHANT VERMA"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649134305,"creation_date":1649134305,"question_id":71746452,"body_markdown":"Is there any method so that I can restrict any type of audio recording even after installing any recording apps or start an in-built audio recorder. I want to change the android phone code to prevent to do any recording.","title":"How to Stop Audio recording on android","body":"<p>Is there any method so that I can restrict any type of audio recording even after installing any recording apps or start an in-built audio recorder. I want to change the android phone code to prevent to do any recording.</p>\n"},{"tags":["java","c#",".net-core"],"comments":[{"owner":{"account_id":441231,"reputation":1314,"user_id":831211,"display_name":"John V"},"score":0,"creation_date":1649132928,"post_id":71746183,"comment_id":126792141,"body_markdown":"Do you need help writing the encrypt and decrypt functions?","body":"Do you need help writing the encrypt and decrypt functions?"},{"owner":{"account_id":6910283,"reputation":125,"user_id":5306468,"display_name":"Taqiuddin Shokordey"},"score":0,"creation_date":1649133422,"post_id":71746183,"comment_id":126792215,"body_markdown":"@JohnV i just need to write the encrypt function. My encrypt in C# is not entirely correct with the Java Program that i wrote(it produce wrong result)","body":"@JohnV i just need to write the encrypt function. My encrypt in C# is not entirely correct with the Java Program that i wrote(it produce wrong result)"},{"owner":{"account_id":441231,"reputation":1314,"user_id":831211,"display_name":"John V"},"score":1,"creation_date":1649133480,"post_id":71746183,"comment_id":126792237,"body_markdown":"You need to share the code of your encrypt function then.","body":"You need to share the code of your encrypt function then."},{"owner":{"account_id":6910283,"reputation":125,"user_id":5306468,"display_name":"Taqiuddin Shokordey"},"score":0,"creation_date":1649133713,"post_id":71746183,"comment_id":126792265,"body_markdown":"the second code block is in c# .Net Core, The first one is in Java.","body":"the second code block is in c# .Net Core, The first one is in Java."},{"owner":{"account_id":3838048,"reputation":37100,"user_id":3181933,"accept_rate":78,"display_name":"ProgrammingLlama"},"score":0,"creation_date":1649133775,"post_id":71746183,"comment_id":126792270,"body_markdown":"You&#39;ll want to use the same key and iv for encryption in both your codes. You&#39;ll probably want to set it to a new byte array (all zeroes) or the correct length in C# if you&#39;re not setting it in Java. Honestly I think it would be better to use HMAC-SHA256 and pass the key to that instead of using AES and SHA256.","body":"You&#39;ll want to use the same key and iv for encryption in both your codes. You&#39;ll probably want to set it to a new byte array (all zeroes) or the correct length in C# if you&#39;re not setting it in Java. Honestly I think it would be better to use HMAC-SHA256 and pass the key to that instead of using AES and SHA256."}],"owner":{"account_id":6910283,"reputation":125,"user_id":5306468,"display_name":"Taqiuddin Shokordey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649134056,"creation_date":1649131418,"question_id":71746183,"body_markdown":"Currently doing a encryption in java which takes \r\n\r\n1. API Secret. Perform Secret key hash algorithm by using SHA256. The resulted hash algorithm would be Encrypted Key = SHA256 (API Secret)\r\n2. Request Raw Parameter(param) in JSon format encrypted using the Encrypted Key trough the AES/ECB/PKCS5Padding algorithm, and the ciphertext is converted into hexadecimal characters to be the value of the Encrypted data \r\nEncrypted Data = aesEcbPkcs5Padding (param, Encrypted key)\r\n\r\nHere are the codes in Java\r\n```\r\npublic static byte[] aesEcbPkcs5PaddingEncrypt(String content, String key) {    \t\r\n\t    try {\r\n\t    \tMessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    \t\tbyte[] aesKey = digest.digest(key.getBytes());\r\n\t    \tSecretKey secretKey = new SecretKeySpec(aesKey,&quot;AES&quot;);\r\n\t        Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n\t        cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n\t        return cipher.doFinal(content.getBytes(&quot;utf-8&quot;));\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (NoSuchPaddingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (InvalidKeyException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IllegalBlockSizeException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (BadPaddingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}   \r\n\t    return null;\r\n    }\r\n```\r\n\r\nI Need to do the same encryption but using Net Core and C#.This is the code in C# Net Core\r\nAll i can do is something like this.\r\n\r\n```\r\n public static byte[] aesEcbPkcs5PaddingEncrypt(String content, string secretKey)\r\n        {\r\n            byte[] hashBytes = Encoding.UTF8.GetBytes(secretKey);\r\n            byte[] cipher_content = Encoding.UTF8.GetBytes(content);\r\n\r\n            using (AesManaged aes = new AesManaged())\r\n            {\r\n                byte[] encrypted = Encrypt(raw, aes.Key, aes.IV);\r\n                // Print encrypted string    \r\n                Console.WriteLine($ &quot;Encrypted data: {System.Text.Encoding.UTF8.GetString(encrypted)}&quot;);\r\n                // Decrypt the bytes to a string.    \r\n                string decrypted = Decrypt(encrypted, aes.Key, aes.IV);\r\n            }\r\n                SHA256 sha256 = SHA256Managed.Create();\r\n            byte[] cryptPassword = sha256.ComputeHash(hashBytes);\r\n            \r\n        }\r\n```\r\n\r\nIs there any better solution/Correct solution in net core which will resulted with the same result as Java? \r\n\r\n\r\n","title":"Getting the Hex String from cipherText in Net Core","body":"<p>Currently doing a encryption in java which takes</p>\n<ol>\n<li>API Secret. Perform Secret key hash algorithm by using SHA256. The resulted hash algorithm would be Encrypted Key = SHA256 (API Secret)</li>\n<li>Request Raw Parameter(param) in JSon format encrypted using the Encrypted Key trough the AES/ECB/PKCS5Padding algorithm, and the ciphertext is converted into hexadecimal characters to be the value of the Encrypted data\nEncrypted Data = aesEcbPkcs5Padding (param, Encrypted key)</li>\n</ol>\n<p>Here are the codes in Java</p>\n<pre><code>public static byte[] aesEcbPkcs5PaddingEncrypt(String content, String key) {        \n        try {\n            MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n            byte[] aesKey = digest.digest(key.getBytes());\n            SecretKey secretKey = new SecretKeySpec(aesKey,&quot;AES&quot;);\n            Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n            return cipher.doFinal(content.getBytes(&quot;utf-8&quot;));\n        } catch (NoSuchAlgorithmException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (NoSuchPaddingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (InvalidKeyException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IllegalBlockSizeException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (BadPaddingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (UnsupportedEncodingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }   \n        return null;\n    }\n</code></pre>\n<p>I Need to do the same encryption but using Net Core and C#.This is the code in C# Net Core\nAll i can do is something like this.</p>\n<pre><code> public static byte[] aesEcbPkcs5PaddingEncrypt(String content, string secretKey)\n        {\n            byte[] hashBytes = Encoding.UTF8.GetBytes(secretKey);\n            byte[] cipher_content = Encoding.UTF8.GetBytes(content);\n\n            using (AesManaged aes = new AesManaged())\n            {\n                byte[] encrypted = Encrypt(raw, aes.Key, aes.IV);\n                // Print encrypted string    \n                Console.WriteLine($ &quot;Encrypted data: {System.Text.Encoding.UTF8.GetString(encrypted)}&quot;);\n                // Decrypt the bytes to a string.    \n                string decrypted = Decrypt(encrypted, aes.Key, aes.IV);\n            }\n                SHA256 sha256 = SHA256Managed.Create();\n            byte[] cryptPassword = sha256.ComputeHash(hashBytes);\n            \n        }\n</code></pre>\n<p>Is there any better solution/Correct solution in net core which will resulted with the same result as Java?</p>\n"},{"tags":["java","alfresco","activiti"],"answers":[{"tags":[],"owner":{"account_id":9231986,"reputation":267,"user_id":6857779,"display_name":"Vahid Alizadeh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588237917,"creation_date":1588237917,"answer_id":61519872,"question_id":61515312,"body_markdown":"if you want to get a specific user all tasks you can use the below code:\r\n\r\n    List&lt;Task&gt; tasks=getTaskService().createTaskQuery().taskAssignee(userid).active().list();\r\n\r\nbut if you want all active tasks use the below code:\r\n\r\n    List&lt;Task&gt; tasks=getTaskService().createTaskQuery().active().list();","title":"Retrieving all User Tasks from an Activiti Workflow","body":"<p>if you want to get a specific user all tasks you can use the below code:</p>\n\n<pre><code>List&lt;Task&gt; tasks=getTaskService().createTaskQuery().taskAssignee(userid).active().list();\n</code></pre>\n\n<p>but if you want all active tasks use the below code:</p>\n\n<pre><code>List&lt;Task&gt; tasks=getTaskService().createTaskQuery().active().list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3283541,"reputation":1,"user_id":2763536,"display_name":"imsongsong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649133824,"creation_date":1649133824,"answer_id":71746398,"question_id":61515312,"body_markdown":"You can use below method in RepositoryService:\r\nBpmnModel getBpmnModel(String processDefinitionId);","title":"Retrieving all User Tasks from an Activiti Workflow","body":"<p>You can use below method in RepositoryService:\nBpmnModel getBpmnModel(String processDefinitionId);</p>\n"}],"owner":{"account_id":7630245,"reputation":141,"user_id":6125195,"accept_rate":0,"display_name":"sarvs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649133824,"creation_date":1588216416,"question_id":61515312,"body_markdown":"Hi I am quite new to Activiti, and wanted to see if there is a way to get all the user tasks within an Activiti workflow. I have tried doing this.\r\n\r\n    getTaskService().createTaskQuery()\r\n\t\t\t\t\t.processDefinitionId(processDefinitionId).list();\r\n\r\nBut this does not give me the desired result. It does not return just the User Tasks. \r\n\r\nThank you","title":"Retrieving all User Tasks from an Activiti Workflow","body":"<p>Hi I am quite new to Activiti, and wanted to see if there is a way to get all the user tasks within an Activiti workflow. I have tried doing this.</p>\n\n<pre><code>getTaskService().createTaskQuery()\n                .processDefinitionId(processDefinitionId).list();\n</code></pre>\n\n<p>But this does not give me the desired result. It does not return just the User Tasks. </p>\n\n<p>Thank you</p>\n"},{"tags":["java","regex","elasticsearch","lucene","regex-lookarounds"],"comments":[{"owner":{"account_id":335222,"reputation":10215,"user_id":761132,"accept_rate":70,"display_name":"Mustofa Rizwan"},"score":2,"creation_date":1649062793,"post_id":71734393,"comment_id":126772162,"body_markdown":"Please provide sample input and output as example","body":"Please provide sample input and output as example"},{"owner":{"account_id":24072201,"reputation":61,"user_id":18048010,"display_name":"Dishant"},"score":0,"creation_date":1649065190,"post_id":71734393,"comment_id":126773042,"body_markdown":"@RizwanM.Tuman The pattern that I want to test is &quot;(?&lt;![\\\\p{Alnum}])(\\\\p{Alnum}+\\\\p{Punct}\\\\p{Alnum}+)&quot;.I want to test it on the string: &quot;:port&amp;hid$query-input&quot; And, I am expecting the following tokens as output. port&amp;hid, hid$query, query-input","body":"@RizwanM.Tuman The pattern that I want to test is &quot;(?&lt;![\\\\p{Alnum}])(\\\\p{Alnum}+\\\\p{Punct}\\\\p{Alnum}+)&quot;.I want to test it on the string: &quot;:port&amp;hid$query-input&quot; And, I am expecting the following tokens as output. port&amp;hid, hid$query, query-input"}],"answers":[{"tags":[],"owner":{"account_id":335222,"reputation":10215,"user_id":761132,"accept_rate":70,"display_name":"Mustofa Rizwan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649067660,"creation_date":1649066542,"answer_id":71735344,"question_id":71734393,"body_markdown":"You may try this:\r\n\r\n    (\\w+[&amp;$-])(?=(\\w+))\r\n\r\nExplanation:\r\n\r\n 1. Here I get a word `\\w+` followed by &amp; or $ or -. I package this as Group 1\r\n 2. Then I positively look ahead for another immediate word. I package this as group 2.\r\n\r\nSo you get your desired ouput from group 1 and group 2 from 3 matches:\r\n\r\n    Match1: port&amp;\r\n    group 1:port&amp;\r\n    group 2:hid\r\n\r\n    Match 2: hid$\r\n    group 1:hid$\r\n    group 2:query\r\n\r\n    Match 3:query-\r\n    group 1:query-\r\n    group 2:input\r\n\r\n\r\n\r\nSo you get your desired ouput from group 1 and group 2\r\n\r\n[Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/GrwhFj/1","title":"Using a Java pattern Globally PatternCaptureGroupTokenFilter","body":"<p>You may try this:</p>\n<pre><code>(\\w+[&amp;$-])(?=(\\w+))\n</code></pre>\n<p>Explanation:</p>\n<ol>\n<li>Here I get a word <code>\\w+</code> followed by &amp; or $ or -. I package this as Group 1</li>\n<li>Then I positively look ahead for another immediate word. I package this as group 2.</li>\n</ol>\n<p>So you get your desired ouput from group 1 and group 2 from 3 matches:</p>\n<pre><code>Match1: port&amp;\ngroup 1:port&amp;\ngroup 2:hid\n\nMatch 2: hid$\ngroup 1:hid$\ngroup 2:query\n\nMatch 3:query-\ngroup 1:query-\ngroup 2:input\n</code></pre>\n<p>So you get your desired ouput from group 1 and group 2</p>\n<p><a href=\"https://regex101.com/r/GrwhFj/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}],"owner":{"account_id":24072201,"reputation":61,"user_id":18048010,"display_name":"Dishant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649133351,"creation_date":1649062256,"question_id":71734393,"body_markdown":"I am currently using the Pattern Capture Group Token Filter inside an Elasticsearch plugin. Currently, the plugin is working absolutely fine and is emitting the tokens also. But, the issue is that the pattern which I am using inside the Pattern Capture Group Token Filter, it is returning only the first match and not continuing the matching after it.\r\n\r\nMy Pattern Capture Token Filter definition inside the TokenFilterFactory file looks like the below one:\r\n\r\n    PatternCaptureGroupTokenFilter(tokenStream, true, Pattern.compile(&quot;(?&lt;![\\\\p{Alnum}])(\\\\p{Alnum}+\\\\p{Punct}\\\\p{Alnum}+)&quot;))\r\n\r\nI know in the case of JAVA, I can solve this issue by using find() and group() methods, but don&#39;t know if it can be resolved simply with the pattern itself.\r\n\r\nThe pattern that I want to test is &quot;(?&lt;![\\\\p{Alnum}])(\\\\p{Alnum}+\\\\p{Punct}\\\\p{Alnum}+)&quot;.I want to test it on the string: &quot;:port&amp;hid$query-input&quot; And, I am expecting the following tokens as output. port&amp;hid, hid$query, query-input\r\n\r\nMy code in the java file looks like:\r\n\r\n\r\n    import org.apache.lucene.analysis.TokenStream;\r\n    import org.apache.lucene.analysis.pattern.PatternCaptureGroupTokenFilter;\r\n    import org.elasticsearch.common.settings.Settings;\r\n    import org.elasticsearch.env.Environment;\r\n    import org.elasticsearch.index.IndexSettings;\r\n    import org.elasticsearch.index.analysis.AbstractTokenFilterFactory;\r\n    \r\n    import java.util.regex.Pattern;\r\n    \r\n    public class AlPuAlTokenFilterFactory extends AbstractTokenFilterFactory {\r\n    \r\n        public AlPuAlTokenFilterFactory(IndexSettings indexSettings, Environment environment, String name, Settings settings) {\r\n            super(indexSettings, name, settings);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public TokenStream create(TokenStream tokenStream) {\r\n            return new PatternCaptureGroupTokenFilter(tokenStream, true, Pattern.compile(&quot;(\\\\p{Alnum}+\\\\p{Punct}\\\\p{Alnum}+)(?=(\\\\p{Punct}))&quot;));\r\n        }\r\n    }\r\n\r\n","title":"Using a Java pattern Globally PatternCaptureGroupTokenFilter","body":"<p>I am currently using the Pattern Capture Group Token Filter inside an Elasticsearch plugin. Currently, the plugin is working absolutely fine and is emitting the tokens also. But, the issue is that the pattern which I am using inside the Pattern Capture Group Token Filter, it is returning only the first match and not continuing the matching after it.</p>\n<p>My Pattern Capture Token Filter definition inside the TokenFilterFactory file looks like the below one:</p>\n<pre><code>PatternCaptureGroupTokenFilter(tokenStream, true, Pattern.compile(&quot;(?&lt;![\\\\p{Alnum}])(\\\\p{Alnum}+\\\\p{Punct}\\\\p{Alnum}+)&quot;))\n</code></pre>\n<p>I know in the case of JAVA, I can solve this issue by using find() and group() methods, but don't know if it can be resolved simply with the pattern itself.</p>\n<p>The pattern that I want to test is &quot;(?&lt;![\\p{Alnum}])(\\p{Alnum}+\\p{Punct}\\p{Alnum}+)&quot;.I want to test it on the string: &quot;:port&amp;hid$query-input&quot; And, I am expecting the following tokens as output. port&amp;hid, hid$query, query-input</p>\n<p>My code in the java file looks like:</p>\n<pre><code>import org.apache.lucene.analysis.TokenStream;\nimport org.apache.lucene.analysis.pattern.PatternCaptureGroupTokenFilter;\nimport org.elasticsearch.common.settings.Settings;\nimport org.elasticsearch.env.Environment;\nimport org.elasticsearch.index.IndexSettings;\nimport org.elasticsearch.index.analysis.AbstractTokenFilterFactory;\n\nimport java.util.regex.Pattern;\n\npublic class AlPuAlTokenFilterFactory extends AbstractTokenFilterFactory {\n\n    public AlPuAlTokenFilterFactory(IndexSettings indexSettings, Environment environment, String name, Settings settings) {\n        super(indexSettings, name, settings);\n\n    }\n\n    @Override\n    public TokenStream create(TokenStream tokenStream) {\n        return new PatternCaptureGroupTokenFilter(tokenStream, true, Pattern.compile(&quot;(\\\\p{Alnum}+\\\\p{Punct}\\\\p{Alnum}+)(?=(\\\\p{Punct}))&quot;));\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19496528,"reputation":106,"user_id":14263615,"display_name":"HolaPz"},"score":0,"creation_date":1639802146,"post_id":70400703,"comment_id":124447485,"body_markdown":"I got the same warning message today. :/ I don&#39;t know what happend","body":"I got the same warning message today. :/ I don&#39;t know what happend"}],"answers":[{"tags":[],"owner":{"account_id":13659717,"reputation":56,"user_id":9855195,"display_name":"Marcus P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639797033,"creation_date":1639797033,"answer_id":70400726,"question_id":70400703,"body_markdown":"Have you tried following the warning suggestion? Try to edit settings.json.\r\n\r\n    &quot;java.configuration.runtimes&quot;: [{\r\n        &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n        &quot;path&quot;: &quot;/usr/lib/jvm/jdk-11.0.13&quot;,\r\n        &quot;sources&quot;: &quot;/usr/lib/jvm/jdk-11.0.13/lib/src.zip&quot;,\r\n        &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\r\n        &quot;default&quot;: true\r\n    }]\r\n\r\nJust adjust this to your installation directory and java version.","title":"Visual Studio Code showing&quot; Please download and install a JDK to compile your project...&quot; Althought I downloaded and install the newest JDK version","body":"<p>Have you tried following the warning suggestion? Try to edit settings.json.</p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [{\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\n    &quot;path&quot;: &quot;/usr/lib/jvm/jdk-11.0.13&quot;,\n    &quot;sources&quot;: &quot;/usr/lib/jvm/jdk-11.0.13/lib/src.zip&quot;,\n    &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\n    &quot;default&quot;: true\n}]\n</code></pre>\n<p>Just adjust this to your installation directory and java version.</p>\n"},{"tags":[],"owner":{"account_id":5105567,"reputation":1321,"user_id":4093727,"display_name":"Michael M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649133018,"creation_date":1649133018,"answer_id":71746315,"question_id":70400703,"body_markdown":"This threw me off as well.  My unfamiliarity with configuring Java through VS Code was what made it confusing to me.\r\n\r\nAs stated by @Marcus-p The warning is correct... you will want to update your settings.  Yet knowing that the &quot;settings&quot; are contained within the `settings.json` file is *not* clear.\r\n\r\nSince the `settings.json` file is part of VS Code, and is global to all projects, it doesn&#39;t appear within your projects file list.  Here&#39;s how to open it for editing:\r\n\r\n 1. Open the command palette (F1 or Ctrl + Shift + P)\r\n 2. Type in the string: &#39;Open Settings&#39; *(without apostrophe&#39;s)* \r\n 3. Find the option for opening the JSON file.\r\n\r\nFrom there, you can add the appropriate configuration for one or more Java installations.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PEaiy.png","title":"Visual Studio Code showing&quot; Please download and install a JDK to compile your project...&quot; Althought I downloaded and install the newest JDK version","body":"<p>This threw me off as well.  My unfamiliarity with configuring Java through VS Code was what made it confusing to me.</p>\n<p>As stated by @Marcus-p The warning is correct... you will want to update your settings.  Yet knowing that the &quot;settings&quot; are contained within the <code>settings.json</code> file is <em>not</em> clear.</p>\n<p>Since the <code>settings.json</code> file is part of VS Code, and is global to all projects, it doesn't appear within your projects file list.  Here's how to open it for editing:</p>\n<ol>\n<li>Open the command palette (F1 or Ctrl + Shift + P)</li>\n<li>Type in the string: 'Open Settings' <em>(without apostrophe's)</em></li>\n<li>Find the option for opening the JSON file.</li>\n</ol>\n<p>From there, you can add the appropriate configuration for one or more Java installations.</p>\n<p><a href=\"https://i.stack.imgur.com/PEaiy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PEaiy.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23680407,"reputation":1,"user_id":17706035,"display_name":"Aarron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649133018,"creation_date":1639796711,"question_id":70400703,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1jiQg.png\r\nNow I cannot run, debug any file. Althought I downloaded and install the newest JDK version. 1 day ago it couldn&#39;t run and debug any java file. Can you help me? I am a newbie. Thank you","title":"Visual Studio Code showing&quot; Please download and install a JDK to compile your project...&quot; Althought I downloaded and install the newest JDK version","body":"<p><a href=\"https://i.stack.imgur.com/1jiQg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Now I cannot run, debug any file. Althought I downloaded and install the newest JDK version. 1 day ago it couldn't run and debug any java file. Can you help me? I am a newbie. Thank you</p>\n"},{"tags":["java","java.util.scanner","arithmeticexception"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":4,"creation_date":1649128388,"post_id":71745926,"comment_id":126791573,"body_markdown":"Pretty clear error? You are performing a division and the value of the divisor is zero. Check your values before you try to divide.","body":"Pretty clear error? You are performing a division and the value of the divisor is zero. Check your values before you try to divide."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1649128505,"post_id":71745926,"comment_id":126791586,"body_markdown":"`average = counter != 0 ? Math.round(sum / counter) : 0;`","body":"<code>average = counter != 0 ? Math.round(sum &#47; counter) : 0;</code>"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1649128869,"post_id":71745926,"comment_id":126791632,"body_markdown":"Not that hard, don&#39;t divide by zero.","body":"Not that hard, don&#39;t divide by zero."}],"answers":[{"tags":[],"owner":{"account_id":5306592,"reputation":810,"user_id":4234254,"display_name":"anqit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649128519,"creation_date":1649128519,"answer_id":71745950,"question_id":71745926,"body_markdown":"You should make sure the counter isn&#39;t `0` before attempting the division:\r\n```java\r\nif(counter != 0) {\r\n    average = Math.round(sum / counter);\r\n}\r\nSystem.out.println(&quot;SUM = &quot; + sum + &quot; AVG = &quot; + (double)average);\r\nscanner.close();\r\n```","title":"How to solve ArithmeticException Error : / by zero","body":"<p>You should make sure the counter isn't <code>0</code> before attempting the division:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(counter != 0) {\n    average = Math.round(sum / counter);\n}\nSystem.out.println(&quot;SUM = &quot; + sum + &quot; AVG = &quot; + (double)average);\nscanner.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13580418,"reputation":676,"user_id":9796589,"display_name":"red"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649132291,"creation_date":1649132291,"answer_id":71746262,"question_id":71745926,"body_markdown":"You could also show a different message if the counter is 0.\r\n\r\n```\r\nif(counter != 0) {\r\n    average = Math.round(sum / counter);\r\n    System.out.println(&quot;SUM = &quot; + sum + &quot; AVG = &quot; + (double)average);\r\n} else {\r\n    System.out.println(&quot;You did not provide any valid value.&quot;);\r\n}\r\nscanner.close();\r\n```","title":"How to solve ArithmeticException Error : / by zero","body":"<p>You could also show a different message if the counter is 0.</p>\n<pre><code>if(counter != 0) {\n    average = Math.round(sum / counter);\n    System.out.println(&quot;SUM = &quot; + sum + &quot; AVG = &quot; + (double)average);\n} else {\n    System.out.println(&quot;You did not provide any valid value.&quot;);\n}\nscanner.close();\n</code></pre>\n"}],"owner":{"account_id":24828987,"reputation":19,"user_id":18708364,"display_name":"Sean Lim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71745950,"answer_count":2,"score":-1,"last_activity_date":1649132291,"creation_date":1649128246,"question_id":71745926,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class InputCalculator {\r\n    public static void main(String[] args) {\r\n        inputThenPrintSumAndAverage();\r\n    }\r\n\r\n    public static void inputThenPrintSumAndAverage(){\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        int sum = 0;\r\n        int counter = 0;\r\n        long average = 0L;\r\n        while(true){\r\n            System.out.println(&quot;Enter a number : &quot;);\r\n            boolean isAnInt = scanner.hasNextInt();\r\n\r\n            if(!isAnInt){\r\n                break;\r\n            }else{\r\n                counter++;\r\n                int number = scanner.nextInt();\r\n                sum +=number;\r\n            }\r\n\r\n            scanner.nextLine();\r\n        }\r\n\r\n\r\n\r\n        average = Math.round(sum / counter);\r\n        System.out.println(&quot;SUM = &quot; + sum + &quot; AVG = &quot; + (double)average);\r\n        scanner.close();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nThis method aims to print out the sum and average for the numbers that were entered by the user. I was trying to print &quot;SUM = 0 AVG = 0&quot; when user entered a non-integer type but I encounter this error.\r\n**Exception in thread &quot;main&quot; java.lang.ArithmeticException: / by zero**","title":"How to solve ArithmeticException Error : / by zero","body":"<pre><code>import java.util.Scanner;\n\npublic class InputCalculator {\n    public static void main(String[] args) {\n        inputThenPrintSumAndAverage();\n    }\n\n    public static void inputThenPrintSumAndAverage(){\n        Scanner scanner = new Scanner(System.in);\n\n        int sum = 0;\n        int counter = 0;\n        long average = 0L;\n        while(true){\n            System.out.println(&quot;Enter a number : &quot;);\n            boolean isAnInt = scanner.hasNextInt();\n\n            if(!isAnInt){\n                break;\n            }else{\n                counter++;\n                int number = scanner.nextInt();\n                sum +=number;\n            }\n\n            scanner.nextLine();\n        }\n\n\n\n        average = Math.round(sum / counter);\n        System.out.println(&quot;SUM = &quot; + sum + &quot; AVG = &quot; + (double)average);\n        scanner.close();\n    }\n\n\n}\n</code></pre>\n<p>This method aims to print out the sum and average for the numbers that were entered by the user. I was trying to print &quot;SUM = 0 AVG = 0&quot; when user entered a non-integer type but I encounter this error.\n<strong>Exception in thread &quot;main&quot; java.lang.ArithmeticException: / by zero</strong></p>\n"},{"tags":["java","excel","spring","jpa","export-to-excel"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":1,"creation_date":1649132857,"post_id":71746259,"comment_id":126792130,"body_markdown":"You need to take a look to Apache Poi and some for-loops.","body":"You need to take a look to Apache Poi and some for-loops."},{"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"score":0,"creation_date":1649133646,"post_id":71746259,"comment_id":126792255,"body_markdown":"Please see if this helps: https://stackoverflow.com/questions/24933868/exporting-resultset-from-java-database-to-excel-using-apache-poi","body":"Please see if this helps: <a href=\"https://stackoverflow.com/questions/24933868/exporting-resultset-from-java-database-to-excel-using-apache-poi\" title=\"exporting resultset from java database to excel using apache poi\">stackoverflow.com/questions/24933868/&hellip;</a>"},{"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"score":0,"creation_date":1649133658,"post_id":71746259,"comment_id":126792256,"body_markdown":"Does this answer your question? [Exporting Resultset from Java database to Excel using Apache Poi](https://stackoverflow.com/questions/24933868/exporting-resultset-from-java-database-to-excel-using-apache-poi)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24933868/exporting-resultset-from-java-database-to-excel-using-apache-poi\">Exporting Resultset from Java database to Excel using Apache Poi</a>"}],"owner":{"account_id":24069093,"reputation":55,"user_id":18045244,"display_name":"user18045244"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649132269,"creation_date":1649132269,"question_id":71746259,"body_markdown":"How can I save the saved column of Entity class to Excel?\r\n\r\nI want to create a Util class, and when Util class receive an Entity as parameter, I want to save the column stored in the Entity to Excel.\r\n\r\nI was wondering how can I save different columns of multiple Entity in one Util class to Excel?","title":"How can I save the saved column of Entity class to Excel?","body":"<p>How can I save the saved column of Entity class to Excel?</p>\n<p>I want to create a Util class, and when Util class receive an Entity as parameter, I want to save the column stored in the Entity to Excel.</p>\n<p>I was wondering how can I save different columns of multiple Entity in one Util class to Excel?</p>\n"},{"tags":["java","class","runtime","classpath","classloader"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":2,"creation_date":1649131552,"post_id":71746170,"comment_id":126791956,"body_markdown":"I think it&#39;s about time to looking into [Java packages](https://docs.oracle.com/javase/tutorial/java/package/index.html). Using what&#39;s available in Java by default is going to be a lot easier than writing your own class loader.","body":"I think it&#39;s about time to looking into <a href=\"https://docs.oracle.com/javase/tutorial/java/package/index.html\" rel=\"nofollow noreferrer\">Java packages</a>. Using what&#39;s available in Java by default is going to be a lot easier than writing your own class loader."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1649184772,"post_id":71746170,"comment_id":126810539,"body_markdown":"Yes, to complete this exercise, you&#39;ll need your own ClassLoader implementation.  But honestly, nobody does this kind of thing.  There are better ways of solving this problem.","body":"Yes, to complete this exercise, you&#39;ll need your own ClassLoader implementation.  But honestly, nobody does this kind of thing.  There are better ways of solving this problem."}],"owner":{"account_id":24829344,"reputation":1,"user_id":18708686,"display_name":"code owl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649131294,"creation_date":1649131294,"question_id":71746170,"body_markdown":"Write two classes (say &quot;A&quot; and &quot;B&quot;) , in class &quot;A&quot; create an instance of class &quot;B&quot;. Compile class &quot;A&quot; in some directory &quot;D1&quot; and class &quot;B&quot; in &quot;D2&quot; , now A.class and B.class are in two separate directories. Try to run class &quot;A&quot; from directory &quot;D1&quot; (it will say class &quot;B&quot; not found). If you set classpath to both directories then it will work (try it out!)\r\nTry to set the classpath from the class &quot;A&quot; itself (instead of specifying the classpath in the DOS shell , try to set in in your java prog!).\r\n\r\nClass A is in Directory 1;\r\n\r\n\r\n```\r\npublic class A{\r\n\tA(){\r\n\t\tSystem.out.println(&quot;class A is called&quot;);\r\n\t}\r\n\tpublic static  void main(String args[]){\r\n\t\tSystem.setProperty(&quot;java.class.path&quot;, &quot;D:/task2/Dir2&quot;);\r\n\t\tB obj = new B();\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\nClass B is in Directory 2\r\n\r\n```\r\npublic class B{\r\n\tB(){\r\n\t       System.out.println(&quot;class B is called&quot;);\r\n\t}\r\n\tpublic static  void main(String args[]){\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n`System.setProperty(&quot;java.class.path&quot;, &quot;D:/task2/Dir2&quot;);`\r\n\r\nthe above one doesn&#39;t work .\r\nShould i need to create my own classloader or any other way we have?","title":"How to set java classpath programatically for different directory at runtime?","body":"<p>Write two classes (say &quot;A&quot; and &quot;B&quot;) , in class &quot;A&quot; create an instance of class &quot;B&quot;. Compile class &quot;A&quot; in some directory &quot;D1&quot; and class &quot;B&quot; in &quot;D2&quot; , now A.class and B.class are in two separate directories. Try to run class &quot;A&quot; from directory &quot;D1&quot; (it will say class &quot;B&quot; not found). If you set classpath to both directories then it will work (try it out!)\nTry to set the classpath from the class &quot;A&quot; itself (instead of specifying the classpath in the DOS shell , try to set in in your java prog!).</p>\n<p>Class A is in Directory 1;</p>\n<pre><code>public class A{\n    A(){\n        System.out.println(&quot;class A is called&quot;);\n    }\n    public static  void main(String args[]){\n        System.setProperty(&quot;java.class.path&quot;, &quot;D:/task2/Dir2&quot;);\n        B obj = new B();\n        \n    }\n}\n</code></pre>\n<p>Class B is in Directory 2</p>\n<pre><code>public class B{\n    B(){\n           System.out.println(&quot;class B is called&quot;);\n    }\n    public static  void main(String args[]){\n        \n        \n    }\n}\n</code></pre>\n<p><code>System.setProperty(&quot;java.class.path&quot;, &quot;D:/task2/Dir2&quot;);</code></p>\n<p>the above one doesn't work .\nShould i need to create my own classloader or any other way we have?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1649110509,"post_id":71744287,"comment_id":126788829,"body_markdown":"So, from the `Date` constructor, it&#39;s doing `int y = year + 1900;`, so you &quot;should&quot; be doing `new Date(120, 11, 1);`, but then this leads to `getYear` returning `120` - so, which &quot;problem&quot; to you want to live with?","body":"So, from the <code>Date</code> constructor, it&#39;s doing <code>int y = year + 1900;</code>, so you &quot;should&quot; be doing <code>new Date(120, 11, 1);</code>, but then this leads to <code>getYear</code> returning <code>120</code> - so, which &quot;problem&quot; to you want to live with?"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":1,"creation_date":1649110603,"post_id":71744287,"comment_id":126788848,"body_markdown":"I would strongly suggest moving away from `java.util.Date` and use the newer `java.time` API. @MadProgrammer already provided the reason for this.","body":"I would strongly suggest moving away from <code>java.util.Date</code> and use the newer <code>java.time</code> API. @MadProgrammer already provided the reason for this."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1649110644,"post_id":71744287,"comment_id":126788861,"body_markdown":"Yeah, don&#39;t use those methods.  They&#39;re deprecated for a reason.  If you look at the Javadocs, the constructor automatically adds 1900 to the year, so that you can use it for two-digit years.  And the `getYear` automatically subtracts 1900, so that it returns a two-digit year.  In other words, Java, although invented in the 1990s, came with its very own Y2K issue.","body":"Yeah, don&#39;t use those methods.  They&#39;re deprecated for a reason.  If you look at the Javadocs, the constructor automatically adds 1900 to the year, so that you can use it for two-digit years.  And the <code>getYear</code> automatically subtracts 1900, so that it returns a two-digit year.  In other words, Java, although invented in the 1990s, came with its very own Y2K issue."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1649131256,"creation_date":1649110875,"answer_id":71744381,"question_id":71744287,"body_markdown":"# tl;dr\r\n\r\n    LocalDate.of( 2020, Month.DECEMBER, 1 ) \r\n\r\n\r\n# Avoid legacy date-time classes\r\n\r\nYou are using a terrible date-time class, `Date`, which has many tragic design flaws. One of those flaws is an offset of 1900 years. \r\n\r\nThe solution is simple: Stop using that class. It is now legacy, supplanted years ago by the modern *java.time* classes defined in JSR 310.  \r\n\r\nPlus, the `java.util.Date` class does  not fit your need. That class represents a moment, a date with time of day as seen in UTC, an offset of zero hours minutes seconds. But you want a date-only, without time of day, without the context of an offset or time zone. \r\n\r\nThe other `Date`,`java.sql.Date` class, pretends to fit your need as a date-only value. But actually that class inherited from `java.util.Date` in an extremely poor design choice. \r\n\r\n# Use `LocalDate`\r\n\r\nInstead, use [`java.time.LocalDate`][1]. \r\n\r\nThis class uses **sane numbering**: \r\n\r\n - The year 2020 is 2020.\r\n - The months January through December are 1 to 12.\r\n\r\nInstantiate via `static` factory methods. \r\n\r\n    LocalDate ld = LocalDate.of( 2020, 12, 1 ) ;\r\n\r\nOr use the `Month` enum. \r\n\r\n    LocalDate ld = LocalDate.of( 2020, Month.DECEMBER, 1 ) ;\r\n\r\nInterrogate for parts.\r\n\r\n    int y = ld.getYear() ;\r\n    int m = ld.getMonthValue() ;\r\n    String month = ld.etMonth().getDisplayName( TextStyle.FULL , Locale.CANADA_FRENCH ) ;\r\n    int d = ld.getDayOfMonth() ;\r\n    String dow = ld.getDayOfWeek().getDisplayName( TextStyle.FULL , Locale.JAPAN ) ;\r\n   \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html","title":"java.util.Date toString method returns a String with wrong year: 3920 instead of 2020","body":"<h1>tl;dr</h1>\n<pre><code>LocalDate.of( 2020, Month.DECEMBER, 1 ) \n</code></pre>\n<h1>Avoid legacy date-time classes</h1>\n<p>You are using a terrible date-time class, <code>Date</code>, which has many tragic design flaws. One of those flaws is an offset of 1900 years.</p>\n<p>The solution is simple: Stop using that class. It is now legacy, supplanted years ago by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Plus, the <code>java.util.Date</code> class does  not fit your need. That class represents a moment, a date with time of day as seen in UTC, an offset of zero hours minutes seconds. But you want a date-only, without time of day, without the context of an offset or time zone.</p>\n<p>The other <code>Date</code>,<code>java.sql.Date</code> class, pretends to fit your need as a date-only value. But actually that class inherited from <code>java.util.Date</code> in an extremely poor design choice.</p>\n<h1>Use <code>LocalDate</code></h1>\n<p>Instead, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalDate</code></a>.</p>\n<p>This class uses <strong>sane numbering</strong>:</p>\n<ul>\n<li>The year 2020 is 2020.</li>\n<li>The months January through December are 1 to 12.</li>\n</ul>\n<p>Instantiate via <code>static</code> factory methods.</p>\n<pre><code>LocalDate ld = LocalDate.of( 2020, 12, 1 ) ;\n</code></pre>\n<p>Or use the <code>Month</code> enum.</p>\n<pre><code>LocalDate ld = LocalDate.of( 2020, Month.DECEMBER, 1 ) ;\n</code></pre>\n<p>Interrogate for parts.</p>\n<pre><code>int y = ld.getYear() ;\nint m = ld.getMonthValue() ;\nString month = ld.etMonth().getDisplayName( TextStyle.FULL , Locale.CANADA_FRENCH ) ;\nint d = ld.getDayOfMonth() ;\nString dow = ld.getDayOfWeek().getDisplayName( TextStyle.FULL , Locale.JAPAN ) ;\n</code></pre>\n"}],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1649114174,"accepted_answer_id":71744381,"answer_count":1,"score":-1,"last_activity_date":1649131256,"creation_date":1649110109,"question_id":71744287,"body_markdown":"I have this code:\r\n\r\n```\r\nDate date = new Date(2020, 11, 1);\r\n\r\nSystem.out.println(date); // Wed Dec 01 00:00:00 XXX 3920\r\nSystem.out.println(date.getYear()); // 2020\r\nSystem.out.println(date.getMonth()); // 11\r\nSystem.out.println(date.getDay()); // 3\r\n```\r\n\r\nAs can be seen, it prints year `3920` instead of `2020`. Why does it happen? Any way to fix it without radically changing the code? \r\n\r\nPS I know the constructor and the getter methods are deprecated. Unless that is the reason for the wrong output, I&#39;d prefer to keep using them in this particular example.","title":"java.util.Date toString method returns a String with wrong year: 3920 instead of 2020","body":"<p>I have this code:</p>\n<pre><code>Date date = new Date(2020, 11, 1);\n\nSystem.out.println(date); // Wed Dec 01 00:00:00 XXX 3920\nSystem.out.println(date.getYear()); // 2020\nSystem.out.println(date.getMonth()); // 11\nSystem.out.println(date.getDay()); // 3\n</code></pre>\n<p>As can be seen, it prints year <code>3920</code> instead of <code>2020</code>. Why does it happen? Any way to fix it without radically changing the code?</p>\n<p>PS I know the constructor and the getter methods are deprecated. Unless that is the reason for the wrong output, I'd prefer to keep using them in this particular example.</p>\n"},{"tags":["java","soap","jax-ws","websphere-8","websphere-9"],"comments":[{"owner":{"account_id":13739626,"reputation":116,"user_id":9915084,"display_name":"Thomas Johnson"},"score":0,"creation_date":1647526968,"post_id":71506204,"comment_id":126397387,"body_markdown":"I&#39;m wondering if you might be hitting a know issue not related to this APAR fix, easy way to tell is by asking you what version your web.xml is set to (assuming its not an EJB based Web Service)?","body":"I&#39;m wondering if you might be hitting a know issue not related to this APAR fix, easy way to tell is by asking you what version your web.xml is set to (assuming its not an EJB based Web Service)?"},{"owner":{"account_id":3228532,"reputation":133,"user_id":2724291,"display_name":"Nilesh"},"score":0,"creation_date":1647886221,"post_id":71506204,"comment_id":126479253,"body_markdown":"Web.xml version is 3.0","body":"Web.xml version is 3.0"},{"owner":{"account_id":13739626,"reputation":116,"user_id":9915084,"display_name":"Thomas Johnson"},"score":0,"creation_date":1648064932,"post_id":71506204,"comment_id":126532850,"body_markdown":"You might try upticking the web.xml version to 3.1 then, I&#39;ve heard that resolved some WebServiceContext issues returning null on v9.  If that doesn&#39;t work, would you mind posting the version of v9 you&#39;re on, and the stack trace for the NPE if possible?","body":"You might try upticking the web.xml version to 3.1 then, I&#39;ve heard that resolved some WebServiceContext issues returning null on v9.  If that doesn&#39;t work, would you mind posting the version of v9 you&#39;re on, and the stack trace for the NPE if possible?"},{"owner":{"account_id":3228532,"reputation":133,"user_id":2724291,"display_name":"Nilesh"},"score":0,"creation_date":1649131636,"post_id":71506204,"comment_id":126791967,"body_markdown":"newly installed Websphere version is 9.0.5.10  whereas older websphere version is 8.5.5.20. Added stack trace for for NPE (My apologies for typos, if any. The could not copy the stack trace due to data restriction of my org, so I typed it.)","body":"newly installed Websphere version is 9.0.5.10  whereas older websphere version is 8.5.5.20. Added stack trace for for NPE (My apologies for typos, if any. The could not copy the stack trace due to data restriction of my org, so I typed it.)"}],"answers":[{"tags":[],"owner":{"account_id":24627652,"reputation":124,"user_id":18527205,"display_name":"Defandi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648004695,"creation_date":1648004695,"answer_id":71581351,"question_id":71506204,"body_markdown":"You can open this link `https://github.com/quarkiverse/quarkus-cxf/issues/92` in the answer section of `neXus1987` (commented on Jan 11, 2021). Hope it can help your problem","title":"Websphere V9.0.5.10 -WebServiceContext is null","body":"<p>You can open this link <code>https://github.com/quarkiverse/quarkus-cxf/issues/92</code> in the answer section of <code>neXus1987</code> (commented on Jan 11, 2021). Hope it can help your problem</p>\n"}],"owner":{"account_id":3228532,"reputation":133,"user_id":2724291,"display_name":"Nilesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649131062,"creation_date":1647481966,"question_id":71506204,"body_markdown":"WebServiceContext object is null when Soap Services are deployed on WebSphere V9.0.5.10 .\r\n\r\nI am trying to migrate the SOAP Web Services from WebSphere V8.5.5.20 to V9.0.5.10 and\r\none of Web service is using WebServiceContext object to get the message context. \r\nThe WebServiceContext and MessageContext objects are created as follows -\r\n\r\n    @Resource\r\n    WebServiceContext ctx;\r\n    \r\n    public void getHeaderData(){\r\n         MessageContext msgctx =  ctx.getMessageContext();   /// ctx is NULL\r\n    }\r\n\r\n**However, this code works on WebSphere V8.5.5.20 but throws NULLPointerException on V9.0.5.10 as WebServiceContext object is null.**\r\n\r\nI tried to inject the WebService Context as -\r\n\r\n    WebServiceContext ctx;\r\n    \r\n    @Resource\r\n    public WebServiceContext setContext(WebServiceContext ctx){\r\n             this.ctx = ctx;\r\n    }\r\n\r\nbut this code did not work.\r\n\r\nThe Exception Stack trace is -\r\n\r\n    java.lang.NullPointerException : null\r\n    at com.app.soap.service.AppSoapWebService.getHeaderData(AppSoapWebService.java:1530)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]\r\n    at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]\r\n    at org.apache.axis2.jaxws.server.dispatcher.JavaDispatcher.invokeTargetOperation(JavaDispatcher.java:120) [org.apache.axis2.jar:?]\r\n    at org.apache.axis2.jaxws.server.dispatcher.JabaBeanDispatcher.invoke(JabaBeanDispatcher.java:118)\r\n    at org.apache.axis2.jaxws.server.dispatcher.EndpointController.invoke(EndpointController.java:111)\r\n    at org.apache.axis2.jaxws.server.JAXWSMessageReceiver.receive(JAXWSMessageReceiver.java:161)\r\n    at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:212)\r\n    at org.apache.axis2.transport.http.HttpTransportUtil.processHTTPPostRequest(HttpTransportUtil.java:172)\r\n    at com.ibm.ws.websvcs.transport.http.WASAxis2Servlet.doPost(WASAxis2Servlet.java:1633)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1235)\r\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:779)\r\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:478)\r\n    at com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:179)\r\n    at com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilter(WebAppFilterManager.java:1134) \r\n    at com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:82)\r\n    at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:966) \r\n    at com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1817)\r\n    at com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:382)\r\n    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:465)\r\n    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:532)\r\n    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:318)\r\n    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready(HttpInboundLink.java:289)\r\n    at com.ibm.ws.ssl.channel.impl.SSLConnectionLink.determineNextChannel(SSLConnectionLink.java:1187)\r\n    at com.ibm.ws.ssl.channel.impl.SSLConnectionLink$MyReadCompletedCallback.complete(SSLConnectionLink.java:694)\r\n    at com.ibm.ws.ssl.channel.impl.SSLReadServiceContext$SSLReadCompltedCallback.complete(SSLReadServiceContext.java:1833)\r\n    at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)\r\n    at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\r\n    at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\r\n    at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\r\n    at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\r\n    at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\r\n    at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\r\n    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1909)\r\n\r\nIs there any fix available for this error ?\r\n\r\nThank you in advance.\r\n \r\n\r\n","title":"Websphere V9.0.5.10 -WebServiceContext is null","body":"<p>WebServiceContext object is null when Soap Services are deployed on WebSphere V9.0.5.10 .</p>\n<p>I am trying to migrate the SOAP Web Services from WebSphere V8.5.5.20 to V9.0.5.10 and\none of Web service is using WebServiceContext object to get the message context.\nThe WebServiceContext and MessageContext objects are created as follows -</p>\n<pre><code>@Resource\nWebServiceContext ctx;\n\npublic void getHeaderData(){\n     MessageContext msgctx =  ctx.getMessageContext();   /// ctx is NULL\n}\n</code></pre>\n<p><strong>However, this code works on WebSphere V8.5.5.20 but throws NULLPointerException on V9.0.5.10 as WebServiceContext object is null.</strong></p>\n<p>I tried to inject the WebService Context as -</p>\n<pre><code>WebServiceContext ctx;\n\n@Resource\npublic WebServiceContext setContext(WebServiceContext ctx){\n         this.ctx = ctx;\n}\n</code></pre>\n<p>but this code did not work.</p>\n<p>The Exception Stack trace is -</p>\n<pre><code>java.lang.NullPointerException : null\nat com.app.soap.service.AppSoapWebService.getHeaderData(AppSoapWebService.java:1530)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]\nat java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]\nat org.apache.axis2.jaxws.server.dispatcher.JavaDispatcher.invokeTargetOperation(JavaDispatcher.java:120) [org.apache.axis2.jar:?]\nat org.apache.axis2.jaxws.server.dispatcher.JabaBeanDispatcher.invoke(JabaBeanDispatcher.java:118)\nat org.apache.axis2.jaxws.server.dispatcher.EndpointController.invoke(EndpointController.java:111)\nat org.apache.axis2.jaxws.server.JAXWSMessageReceiver.receive(JAXWSMessageReceiver.java:161)\nat org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:212)\nat org.apache.axis2.transport.http.HttpTransportUtil.processHTTPPostRequest(HttpTransportUtil.java:172)\nat com.ibm.ws.websvcs.transport.http.WASAxis2Servlet.doPost(WASAxis2Servlet.java:1633)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1235)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:779)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:478)\nat com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:179)\nat com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilter(WebAppFilterManager.java:1134) \nat com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:82)\nat com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:966) \nat com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1817)\nat com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:382)\nat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:465)\nat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:532)\nat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:318)\nat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready(HttpInboundLink.java:289)\nat com.ibm.ws.ssl.channel.impl.SSLConnectionLink.determineNextChannel(SSLConnectionLink.java:1187)\nat com.ibm.ws.ssl.channel.impl.SSLConnectionLink$MyReadCompletedCallback.complete(SSLConnectionLink.java:694)\nat com.ibm.ws.ssl.channel.impl.SSLReadServiceContext$SSLReadCompltedCallback.complete(SSLReadServiceContext.java:1833)\nat com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)\nat com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\nat com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\nat com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\nat com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\nat com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\nat com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\nat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1909)\n</code></pre>\n<p>Is there any fix available for this error ?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","spring-security","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649130778,"creation_date":1649130778,"answer_id":71746127,"question_id":71739925,"body_markdown":"As per [Spring documentation][1] you will find the token in the response in form of [HTML hidden input][2] looking like:\r\n\r\n    &lt;input type=&quot;hidden&quot; name=&quot;${A}&quot; value=&quot;${_csrf.token}&quot;/&gt;\r\n\r\nso you will be able to use [CSS Selector Extractor][3] to get the token value and store it into a [JMeter Variable][4] so you will be able to re-use it later on where required.   \r\n\r\nMore information: [How to Load Test CSRF-Protected Web Sites][5]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/csrf.html#csrf-include-csrf-token-form\r\n  [2]: https://www.w3schools.com/tags/att_input_type_hidden.asp\r\n  [3]: https://jmeter.apache.org/usermanual/component_reference.html#CSS_Selector_Extractor\r\n  [4]: https://jmeter.apache.org/usermanual/functions.html\r\n  [5]: https://www.blazemeter.com/blog/how-load-test-csrf-protected-web-sites","title":"How I can get attribute from request Jmeter","body":"<p>As per <a href=\"https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/csrf.html#csrf-include-csrf-token-form\" rel=\"nofollow noreferrer\">Spring documentation</a> you will find the token in the response in form of <a href=\"https://www.w3schools.com/tags/att_input_type_hidden.asp\" rel=\"nofollow noreferrer\">HTML hidden input</a> looking like:</p>\n<pre><code>&lt;input type=&quot;hidden&quot; name=&quot;${A}&quot; value=&quot;${_csrf.token}&quot;/&gt;\n</code></pre>\n<p>so you will be able to use <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#CSS_Selector_Extractor\" rel=\"nofollow noreferrer\">CSS Selector Extractor</a> to get the token value and store it into a <a href=\"https://jmeter.apache.org/usermanual/functions.html\" rel=\"nofollow noreferrer\">JMeter Variable</a> so you will be able to re-use it later on where required.</p>\n<p>More information: <a href=\"https://www.blazemeter.com/blog/how-load-test-csrf-protected-web-sites\" rel=\"nofollow noreferrer\">How to Load Test CSRF-Protected Web Sites</a></p>\n"}],"owner":{"account_id":19459512,"reputation":21,"user_id":14235030,"display_name":"Pavel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71746127,"answer_count":1,"score":0,"last_activity_date":1649130778,"creation_date":1649086415,"question_id":71739925,"body_markdown":"I need to get a csrfToken from the session that is in the request attributes, and put in POST request, how I can do it?[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WlNWk.png","title":"How I can get attribute from request Jmeter","body":"<p>I need to get a csrfToken from the session that is in the request attributes, and put in POST request, how I can do it?<a href=\"https://i.stack.imgur.com/WlNWk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WlNWk.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","lambda","functional-programming","java-stream"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1649100241,"post_id":71741109,"comment_id":126786104,"body_markdown":"There&#39;s nothing wrong with using loops.","body":"There&#39;s nothing wrong with using loops."},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1649123715,"post_id":71741109,"comment_id":126790947,"body_markdown":"@Bohemian thanks for your reply, I can do it using loops, but would be better if I can do the same using lambda as it would be more concise and new learning for me, and I need this at several places in my code.","body":"@Bohemian thanks for your reply, I can do it using loops, but would be better if I can do the same using lambda as it would be more concise and new learning for me, and I need this at several places in my code."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649149688,"post_id":71741109,"comment_id":126796743,"body_markdown":"Well, obviously, the problem is the cast to `ObjectBuilder&lt;BulkOperation&gt;`. When the expression doesn’t evaluate to a `ObjectBuilder&lt;BulkOperation&gt;`, you can’t cast it to `ObjectBuilder&lt;BulkOperation&gt;` and expect it to somehow turn into a `ObjectBuilder&lt;BulkOperation&gt;`. Part of the problem is that this code is unreadable; it’s just impossible to guess and then remember, which closing bracket belongs to which opening bracket with these seven or eight levels of nesting and the nonmatching formatting.","body":"Well, obviously, the problem is the cast to <code>ObjectBuilder&lt;BulkOperation&gt;</code>. When the expression doesn’t evaluate to a <code>ObjectBuilder&lt;BulkOperation&gt;</code>, you can’t cast it to <code>ObjectBuilder&lt;BulkOperation&gt;</code> and expect it to somehow turn into a <code>ObjectBuilder&lt;BulkOperation&gt;</code>. Part of the problem is that this code is unreadable; it’s just impossible to guess and then remember, which closing bracket belongs to which opening bracket with these seven or eight levels of nesting and the nonmatching formatting."},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1649150294,"post_id":71741109,"comment_id":126796977,"body_markdown":"@Holger totally agree with you, its not readable, but this is how Elasticsearch new java client is designed, I posted same question to their forum and their team member suggested changes like this https://github.com/spinscale/elasticsearch-rest-client-samples/blob/main/src/main/java/de/spinscale/restclient/ProductServiceImpl.java#L73-L94","body":"@Holger totally agree with you, its not readable, but this is how Elasticsearch new java client is designed, I posted same question to their forum and their team member suggested changes like this <a href=\"https://github.com/spinscale/elasticsearch-rest-client-samples/blob/main/src/main/java/de/spinscale/restclient/ProductServiceImpl.java#L73-L94\" rel=\"nofollow noreferrer\">github.com/spinscale/elasticsearch-rest-client-samples/blob/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1649150387,"post_id":71741109,"comment_id":126797026,"body_markdown":"@Holger if you want I can format the code to be more readable, also I like the way Elastic team member created it using same product example, only this which i don&#39;t like is the use of for loop inside lambda, can we avoid for loop completely.","body":"@Holger if you want I can format the code to be more readable, also I like the way Elastic team member created it using same product example, only this which i don&#39;t like is the use of for loop inside lambda, can we avoid for loop completely."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1649150656,"post_id":71741109,"comment_id":126797130,"body_markdown":"Well, when there are no checked exceptions involved, you can simply change `for (Product product : products) { … }` to `products.forEach(product -&gt; { … } );`. The second loop uses the loop index; it would be possible to rewrite it using an `IntStream.range(…)`, but I’d stay with the loop.","body":"Well, when there are no checked exceptions involved, you can simply change <code>for (Product product : products) { … }</code> to <code>products.forEach(product -&gt; { … } );</code>. The second loop uses the loop index; it would be possible to rewrite it using an <code>IntStream.range(…)</code>, but I’d stay with the loop."}],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649130699,"creation_date":1649092083,"question_id":71741109,"body_markdown":"I am trying to create a Elasticsearch java API `bulkRequest` for products. `bulkRequest` accepts list of operations and for creating each operation we need to pass a product object (product element of products list). Not able to do it using the functional interface.\r\n\r\nSyntax of creating the operations are as:\r\n```java\r\n/**\r\n * Required - Request body.\r\n * &lt;p&gt;\r\n * API name: {@code _value_body}\r\n * &lt;p&gt;\r\n * Adds a value to &lt;code&gt;operations&lt;/code&gt; using a builder lambda.\r\n */\r\npublic final Builder operations(Function&lt;BulkOperation.Builder, ObjectBuilder&lt;BulkOperation&gt;&gt; fn) {\r\n    return operations(fn.apply(new BulkOperation.Builder()).build());\r\n}\r\n```\r\nOverloaded method of creating the operations are as:\r\n```java\r\npublic final Builder operations(List&lt;BulkOperation&gt; list) {\r\n    this.operations = _listAddAll(this.operations, list);\r\n    return this;\r\n}\r\n```\r\n\r\nIf I use below code, then it works fine\r\n\r\n```java\r\nBulkResponse bulkResponse = esUtil.bulkIndex(new BulkRequest.Builder().index(INDEX_NAME)\r\n                    .operations(products.stream().map(p -&gt; new BulkOperation.Builder()\r\n                            .index(new IndexOperation.Builder&lt;&gt;().document(p).id(String.valueOf(p.getId())).build()).build()).toList())\r\n                    .build());\r\n```\r\nProblem which I am facing is that I am not able to create `operations` builder that accepts the List of `Index operation` and each `index operation` is created using the `product` object. \r\n\r\nIf I use below code, it compiles fine but returns `ClassCastException` runtime.\r\n\r\n```\r\nBulkResponse bulkResponse = esUtil.bulkIndex(new BulkRequest.Builder().index(INDEX)\r\n                            .operations(bo -&gt; (ObjectBuilder&lt;BulkOperation&gt;) products.stream().map(\r\n                                    p -&gt; bo.index(io-&gt; io.document(p).id(String.valueOf(p.Id()))))\r\n                                    ).build());\r\n```\r\n\r\n**Let me know if further information or clarification required. Not an expert in Java stream and in functional programming here.** ","title":"use elements in a sub-stream and, using each element of the stream, create another object, and finally return list of objects created in higher stream","body":"<p>I am trying to create a Elasticsearch java API <code>bulkRequest</code> for products. <code>bulkRequest</code> accepts list of operations and for creating each operation we need to pass a product object (product element of products list). Not able to do it using the functional interface.</p>\n<p>Syntax of creating the operations are as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Required - Request body.\n * &lt;p&gt;\n * API name: {@code _value_body}\n * &lt;p&gt;\n * Adds a value to &lt;code&gt;operations&lt;/code&gt; using a builder lambda.\n */\npublic final Builder operations(Function&lt;BulkOperation.Builder, ObjectBuilder&lt;BulkOperation&gt;&gt; fn) {\n    return operations(fn.apply(new BulkOperation.Builder()).build());\n}\n</code></pre>\n<p>Overloaded method of creating the operations are as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final Builder operations(List&lt;BulkOperation&gt; list) {\n    this.operations = _listAddAll(this.operations, list);\n    return this;\n}\n</code></pre>\n<p>If I use below code, then it works fine</p>\n<pre class=\"lang-java prettyprint-override\"><code>BulkResponse bulkResponse = esUtil.bulkIndex(new BulkRequest.Builder().index(INDEX_NAME)\n                    .operations(products.stream().map(p -&gt; new BulkOperation.Builder()\n                            .index(new IndexOperation.Builder&lt;&gt;().document(p).id(String.valueOf(p.getId())).build()).build()).toList())\n                    .build());\n</code></pre>\n<p>Problem which I am facing is that I am not able to create <code>operations</code> builder that accepts the List of <code>Index operation</code> and each <code>index operation</code> is created using the <code>product</code> object.</p>\n<p>If I use below code, it compiles fine but returns <code>ClassCastException</code> runtime.</p>\n<pre><code>BulkResponse bulkResponse = esUtil.bulkIndex(new BulkRequest.Builder().index(INDEX)\n                            .operations(bo -&gt; (ObjectBuilder&lt;BulkOperation&gt;) products.stream().map(\n                                    p -&gt; bo.index(io-&gt; io.document(p).id(String.valueOf(p.Id()))))\n                                    ).build());\n</code></pre>\n<p><strong>Let me know if further information or clarification required. Not an expert in Java stream and in functional programming here.</strong></p>\n"},{"tags":["java","request","okhttp"],"answers":[{"tags":[],"owner":{"account_id":12340586,"reputation":75,"user_id":9003926,"display_name":"Ho&#224;ng Nguyễn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649130548,"creation_date":1649130548,"answer_id":71746109,"question_id":71745554,"body_markdown":"i found problem is `gson.toJson(jsonObject)` insert `map` string before my `Json String`. \r\nI changed to `jsonObject.toString()` and it worked. ","title":"@RequestBody return null after create body","body":"<p>i found problem is <code>gson.toJson(jsonObject)</code> insert <code>map</code> string before my <code>Json String</code>.\nI changed to <code>jsonObject.toString()</code> and it worked.</p>\n"}],"owner":{"account_id":12340586,"reputation":75,"user_id":9003926,"display_name":"Ho&#224;ng Nguyễn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71746109,"answer_count":1,"score":0,"last_activity_date":1649130548,"creation_date":1649123834,"question_id":71745554,"body_markdown":"i have created `RequestBody` with Gson and add to `Post` request, but in the `controller` of api (url), all attrs return null.\r\n- Add to `RequestBody`:\r\n\r\n      MediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\r\n      Gson gson = new Gson();\r\n                               \r\n      JSONObject jsonObject = new JSONObject();\r\n      jsonObject.put(&quot;dataFromAppChinh&quot;, &quot;demo thoi&quot;);\r\n      jsonObject.put(&quot;path&quot;, path);\r\n      String body = gson.toJson(jsonObject);\r\n      RequestBody requestBody = RequestBody.create(body, JSON);\r\n      Request request = new Request.Builder().url(&quot;http://&quot; + path + &quot;/api/startapp&quot;).post(requestBody).build();\r\n\r\n- Controller \r\n\r\n        @RestController\r\n        @RequestMapping(&quot;/api&quot;)\r\n        public class ChatBot {\r\n        @PostMapping(value = &quot;/startapp&quot;)\r\n            @ResponseBody\r\n            public Object start(@RequestBody() ChatBotResponse item) {\r\n                try {\r\n                    item.setResponseList(startApp(item.getPath()));\r\n                    return item;\r\n                } catch (Exception ex) {\r\n                    log.error(ex);\r\n                    return ex.getMessage();\r\n                }\r\n            }\r\n        }\r\n\r\n- My `ChatBotResponse` POJO:\r\n\r\n        @Data\r\n        public class ChatBotResponse \r\n        {\r\n            private String dataFromAppChinh;\r\n            private String responseList;\r\n            private String path;\r\n        }\r\n\r\n \r\n\r\n\r\n\r\n","title":"@RequestBody return null after create body","body":"<p>i have created <code>RequestBody</code> with Gson and add to <code>Post</code> request, but in the <code>controller</code> of api (url), all attrs return null.</p>\n<ul>\n<li><p>Add to <code>RequestBody</code>:</p>\n<pre><code>MediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\nGson gson = new Gson();\n\nJSONObject jsonObject = new JSONObject();\njsonObject.put(&quot;dataFromAppChinh&quot;, &quot;demo thoi&quot;);\njsonObject.put(&quot;path&quot;, path);\nString body = gson.toJson(jsonObject);\nRequestBody requestBody = RequestBody.create(body, JSON);\nRequest request = new Request.Builder().url(&quot;http://&quot; + path + &quot;/api/startapp&quot;).post(requestBody).build();\n</code></pre>\n</li>\n<li><p>Controller</p>\n<pre><code>  @RestController\n  @RequestMapping(&quot;/api&quot;)\n  public class ChatBot {\n  @PostMapping(value = &quot;/startapp&quot;)\n      @ResponseBody\n      public Object start(@RequestBody() ChatBotResponse item) {\n          try {\n              item.setResponseList(startApp(item.getPath()));\n              return item;\n          } catch (Exception ex) {\n              log.error(ex);\n              return ex.getMessage();\n          }\n      }\n  }\n</code></pre>\n</li>\n<li><p>My <code>ChatBotResponse</code> POJO:</p>\n<pre><code>  @Data\n  public class ChatBotResponse \n  {\n      private String dataFromAppChinh;\n      private String responseList;\n      private String path;\n  }\n</code></pre>\n</li>\n</ul>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"score":4,"creation_date":1648417554,"post_id":71640547,"comment_id":126612703,"body_markdown":"`i` is not shared. You created two thread instances, hence two instances of `i`. Make `i` static, then it will be shared, and you will have a race.","body":"<code>i</code> is not shared. You created two thread instances, hence two instances of <code>i</code>. Make <code>i</code> static, then it will be shared, and you will have a race."},{"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"score":1,"creation_date":1648417562,"post_id":71640547,"comment_id":126612707,"body_markdown":"There is no shared variable. You created two instances of a class that have their own instance variables. They dont have anything to do with each other.","body":"There is no shared variable. You created two instances of a class that have their own instance variables. They dont have anything to do with each other."},{"owner":{"account_id":23601844,"reputation":315,"user_id":17638206,"display_name":"AAA"},"score":0,"creation_date":1648418832,"post_id":71640547,"comment_id":126612952,"body_markdown":"@BurakSerdar I have made i static and still I dont get a race condition .public class test {\n   static int i = 0;\n\tpublic static void main(String[] args) {\n\t\t\n\t\tthread_creation t1 = new thread_creation(i);\n\t\tthread_creation t2 = new thread_creation(i);\n\t\tt1.start();\n\t\ttry {\n\t\t\tThread.sleep(500);\n\t\t} catch (InterruptedException e) {\n\t\t\t\n\t\t\te.printStackTrace();\n\t\t}\n\t\tt2.start();\n\t}\n\n}","body":"@BurakSerdar I have made i static and still I dont get a race condition .public class test {    static int i = 0; \tpublic static void main(String[] args) { \t\t \t\tthread_creation t1 = new thread_creation(i); \t\tthread_creation t2 = new thread_creation(i); \t\tt1.start(); \t\ttry { \t\t\tThread.sleep(500); \t\t} catch (InterruptedException e) { \t\t\t \t\t\te.printStackTrace(); \t\t} \t\tt2.start(); \t}  }"},{"owner":{"account_id":23601844,"reputation":315,"user_id":17638206,"display_name":"AAA"},"score":0,"creation_date":1648419032,"post_id":71640547,"comment_id":126612977,"body_markdown":"@JhanzaibHumayun How do I pass a shared variable then ?","body":"@JhanzaibHumayun How do I pass a shared variable then ?"},{"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"score":1,"creation_date":1648419685,"post_id":71640547,"comment_id":126613081,"body_markdown":"Because of the sleep, it is very unlikely that you&#39;ll observe a race. That doesn&#39;t mean it is not there.","body":"Because of the sleep, it is very unlikely that you&#39;ll observe a race. That doesn&#39;t mean it is not there."},{"owner":{"account_id":23601844,"reputation":315,"user_id":17638206,"display_name":"AAA"},"score":0,"creation_date":1648420388,"post_id":71640547,"comment_id":126613182,"body_markdown":"@BurakSerdar I have one more question please  , If i is an object of a certain class say A ( instead of int ) and t is declared as of type A . Then i will be shared object or will be local for each thread ?","body":"@BurakSerdar I have one more question please  , If i is an object of a certain class say A ( instead of int ) and t is declared as of type A . Then i will be shared object or will be local for each thread ?"},{"owner":{"account_id":23601844,"reputation":315,"user_id":17638206,"display_name":"AAA"},"score":0,"creation_date":1648420868,"post_id":71640547,"comment_id":126613252,"body_markdown":"@BurakSerdar For example in this question : https://stackoverflow.com/questions/71639928/confusion-regarding-threads-in-java/71639998#71639998  is the member &quot;x&quot; of object &quot;ob&quot; is shared between the two threads ? Sorry but I am confused and I need to understand this concept. Thanks alot.","body":"@BurakSerdar For example in this question : <a href=\"https://stackoverflow.com/questions/71639928/confusion-regarding-threads-in-java/71639998#71639998\" title=\"confusion regarding threads in java\">stackoverflow.com/questions/71639928/&hellip;</a>  is the member &quot;x&quot; of object &quot;ob&quot; is shared between the two threads ? Sorry but I am confused and I need to understand this concept. Thanks alot."},{"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"score":0,"creation_date":1648421078,"post_id":71640547,"comment_id":126613294,"body_markdown":"If you create one object `i` and assign that to two instances of threads, then it will be a shared variable. Not an int, or other primitive type though. Only Objects.","body":"If you create one object <code>i</code> and assign that to two instances of threads, then it will be a shared variable. Not an int, or other primitive type though. Only Objects."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1648428439,"post_id":71640547,"comment_id":126614212,"body_markdown":"Your threads are not using `i`, they are using `t`. You need to make `t` shared, or make your threads use `test.i` instead of `t` to observe any behaviour associated with shared variables.","body":"Your threads are not using <code>i</code>, they are using <code>t</code>. You need to make <code>t</code> shared, or make your threads use <code>test.i</code> instead of <code>t</code> to observe any behaviour associated with shared variables."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648423827,"creation_date":1648423827,"answer_id":71641058,"question_id":71640547,"body_markdown":"Two crucial things you&#39;re missing. Both individually explain this behaviour - you can &#39;fix&#39; either one and you&#39;ll still see this, you&#39;d have to fix both to see 1-20:\r\n\r\n## Java is pass-by-value\r\n\r\nWhen you pass `i`, you pass _a copy of it_. In fact, in java, __all__ parameters to methods are __always__ copies. Hence, when the thread does `t++`, it has absolutely no effect whatsoever on your `i`. You can trivially test this, and you don&#39;t need to mess with threads to see it:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n  int i = 0;\r\n  add5(i);\r\n  System.out.println(i); // prints 0!!\r\n}\r\n\r\nstatic void add5(int i) {\r\n  i = i + 5;\r\n}\r\n```\r\n\r\nNote that all non-primitives are references. That means: A copy of the reference is passed. It&#39;s like passing the address of a house and not the house itself. If I have an address book, and I hand you _a scanned copy_ of a page that contains the address to my summer home, you can still drive over there and toss a brick through the window, and I&#39;ll &#39;see&#39; that when I go follow my copy of the address. So, when you pass e.g. a `list` and the method you passed the list to runs `list.add(&quot;foo&quot;)`, you _DO_ see that. You may think: AHA! That means java does _not_ pass a copy, it passed the real list! Not so. Java passed a copy of a street address (A reference). The method I handed that copy to decided to drive over there and act - that you can see.\r\n\r\nIn other words, `=`, `++`, that sort of thing? That is done to the copy. `.` is java for &#39;drive to the address and enter the house&#39;. Anything you &#39;do&#39; with `.` is visible to the caller, `=` and `++` and such are not.\r\n\r\n## Fixing the code to avoid the pass-by-value problem\r\n\r\nChange your code to:\r\n\r\n```\r\nclass thread_creation extends Thread {\r\n    static int t; // now its global!\r\n    \r\n    public void run() {\r\n      increment();\r\n    }\r\n    \r\n    public void increment() {\r\n        for(int i =0 ; i&lt;10 ; i++) {\r\n            t++;\r\n//            System.out.println(t);\r\n        }\r\n    }\r\n}\r\n\r\npublic class test {\r\n    public static void main(String[] args) throws Exception {\r\n        thread_creation t1 = new thread_creation();\r\n        thread_creation t2 = new thread_creation();\r\n        t1.start();\r\n        Thread.sleep(500);\r\n        t2.start();\r\n        Thread.sleep(500);\r\n        System.out.println(thread_creation.t);\r\n    }\r\n}\r\n```\r\n\r\nNote that I remarked out the print line. I did that intentionally - see below. If you run the above code, you&#39;d think you see 20, but depending on your hardware, the OS, the song playing on your mp3 playing app, which websites you have open, and the phase of the moon, it may be less than 20. So what&#39;s going on there? Enter the...\r\n\r\n## The evil coin.\r\n\r\n\r\nThe relevant spec here is the JMM (The Java Memory Model). This spec explains precisely what a JVM must do, and therefore, what a JVM is free not to do, especially when it comes to how memory is actually managed.\r\n\r\nThe crucial aspect is the following:\r\n\r\n* Any effects (updates to fields, such as that `t` field) __may or may not__ be observable, JVM&#39;s choice. There&#39;s no guarantee that anything you do is visible to anything else... _unless_ there exists a Happens-Before/Happens-After relationship: Any 2 statements with such a relationship have the property that the JVM guarantees that you cannot observe the lack of the update done by the HB line from the HA line.\r\n\r\nHB/HA can be established in various ways:\r\n\r\n* The &#39;natural&#39; way: Anything that is &#39;before&#39; something else __and runs in the same thread_ has an HB/HA relationship. In other words, if you do in one thread `x++; System.out.println(x);` then you can&#39;t observe that the `x++` hasn&#39;t happened yet. It&#39;s stated like this so that if you&#39;re not observing, you get no guarantees, which gives the JVM the freedom to optimize. For example, Given `x++;y++;` and that&#39;s all you do, the JVM is free to re-order that and increment y before x. Or not. There are no guarantees, a JVM can do whatever it wants.\r\n\r\n* `synchronized`. The moment of &#39;exiting&#39; a `synchronized (x) {}` block has HB to the HA of another thread &#39;entering&#39; the top of any synchronized block on the same object, if it enters later.\r\n* `volatile` - but note that with `volatile` it&#39;s basically impossible which one came first. But one of them did, and any interaction with a volatile field is HB relative to another thread accessing the same field later.\r\n* thread starting. `thread.start()` is HB relative to the first line of the `run()` of that thread.\r\n* thread yielding. `thread.yield()` is HA relative to the last line of the thread.\r\n\r\nThere are a few more exotic ways to establish HB/HA but that&#39;s pretty much it.\r\n\r\nCrucially, __in your code there is no HB/HA between any of the statements that modify or print t!__\r\n\r\nIn other words, the JVM is free to run it all in such a way that the effects of various `t++` statements run by one thread aren&#39;t observed by another thread.\r\n\r\n## What the.. WHY????\r\n\r\nBecause of efficiency. Your memory banks on your CPU are, relative to how fast CPUs are, __oceans__ away from the CPU core. Fetching or writing to core memory from a CPU takes an incredibly long time - your CPU is twiddling its thumbs for a very long time while it waits for the memory controller to get the job done. It could be running hundreds of instructions in that time.\r\n\r\nSo, CPU cores __do not write to memory AT ALL__. Instead they work with caches: They have an on-core cache page, and the only interaction with your main memory banks (which are shared by CPU cores) is &#39;load in an entire cache page&#39; and &#39;write an entire cache page&#39;. That cache page is then effectively a &#39;local copy&#39; that only that core can see and interact with (but can do so very very quickly, as that IS very close to the core, unlike the main memory banks), and then once the algorithm is done it can flush that page back to main memory.\r\n\r\nThe JVM needs to be free to use this. Had the JVM actually worked like you want (that anything any thread does is instantly observable by all others), then __anything__ that __any__ line does must first wait 500 cycles to load the relevant page, then wait another 500 cycles to write it back. All java apps would _literally_ be 1000x slower than they could be.\r\n\r\nThis in passing also explains that actual synchronizing is __really slow__. Nothing java can do about that, it is a fundamental limitation of our modern multi-core CPUs.\r\n\r\n## So, evil coin?\r\n\r\nNote that the JVM does not guarantee that the CPU must neccessarily work with this cache stuff, nor does it make any promises about when cache pages are flushed. It merely limits the guarantees so that JVMs can be efficiently written on CPUs that work like that.\r\n\r\nThat means that any read or write to any field any java code ever does can best be thought of as follows:\r\n\r\nThe JVM first flips a coin. On heads, it uses a local cached copy. On tails, it copies over the value from some other thread&#39;s cached copy instead.\r\n\r\nThe coin is evil: It is not reliably a 50/50 arrangement. It is entirely plausible that throughout developing a feature and testing it, the coin lands tails every time it is flipped. It remains flipping tails 100% of the time for the first week that you deployed it. And then just when that big potential customer comes in and you&#39;re demoing your app, the coin, being an evil, evil coin, starts flipping heads a few times and breaking your app.\r\n\r\nThe correct conclusion is that the coin __will mess with you__ and that you __cannot unit test against it__. The only way to win the game is to ensure that __the coin is never flipped__.\r\n\r\nYou do this by never touching a field from multiple threads unless it is constant (`final`, or simply never changes), or if _all_ access to it (both reads and writes) has clearly established HB/HA between all threads.\r\n\r\nThis is hard to do. That&#39;s why the vast majority of apps don&#39;t do it at all. Instead, they:\r\n\r\n* Talk between threads using a database, which has vastly more advanced synchronization primitives: Transactions.\r\n* Talk using a message bus such as RabbitMQ or similar.\r\n* Use stuff from the `java.util.concurrent` package such as a Latch, ForkJoin, ConcurrentMap, or AtomicInteger. These are easier to use (specifically: It is a lot harder to write code for these abstractions that is buggy but where the bug cannot be observed or tested for on the machine of the developer that wrote it, it&#39;ll only blow up much later in production. But not impossible, of course).\r\n\r\n## Let&#39;s fix it!\r\n\r\nvolatile doesn&#39;t &#39;fix&#39; ++. `x++;` is &#39;read x, increment by 1, write result to x&#39; and volatile doesn&#39;t make that atomic, so we cannot use this. We can either replace `t++` with:\r\n\r\n```\r\nsynchronized(thread_creation.class) {\r\n  t++;\r\n}\r\n```\r\n\r\nWhich works fine but is really slow (and you shouldn&#39;t lock on publicly visible stuff if you can help it, so make a custom object to lock on, but you get the gist hopefully), or, better, dig into that j.u.c package for something that seems useful. And so there is! AtomicInteger!\r\n\r\n```\r\nclass thread_creation extends Thread {\r\n    static AtomicInteger t = new AtomicInteger();\r\n    \r\n    public void run() {\r\n      increment();\r\n    }\r\n    \r\n    public void increment() {\r\n        for(int i =0 ; i&lt;10 ; i++) {\r\n            t.incrementAndGet();\r\n        }\r\n    }\r\n}\r\n\r\npublic class test {\r\n    public static void main(String[] args) throws Exception {\r\n        thread_creation t1 = new thread_creation();\r\n        thread_creation t2 = new thread_creation();\r\n        t1.start();\r\n        Thread.sleep(500);\r\n        t2.start();\r\n        Thread.sleep(500);\r\n        System.out.println(thread_creation.t.get());\r\n    }\r\n}\r\n```\r\n\r\nThat code will print 20. Every time (unless those threads take longer than 500msec which technically could be, but is rather unlikely of course).\r\n\r\n## Why did you remark out the print statement?\r\n\r\nThat HB/HA stuff can sneak up on you: When you call code you did not write, such as `System.out.println`, who knows what kind of HB/HA relationships are in that code? Javadoc isn&#39;t _that_ kind of specific, they won&#39;t tell you. Turns out that on most OSes and JVM implementations, interaction with standard out, such as `System.out.println`, causes synchronization; either the JVM does it, or the OS does. Thus, introducing print statements &#39;to test stuff&#39; doesn&#39;t work - that makes it impossible to observe the race conditions your code does have. Similarly, involving debuggers is a great way to make that coin really go evil on you and flip juuust so that you can&#39;t tell your code is buggy.\r\n\r\nThat is why I remarked it out, because with it in, I bet on almost all hardware you end up seeing 20 eventhough the JVM doesn&#39;t guarantee it and that first version __is broken__. Even if on your particular machine, on this day, with this phase of the moon, it seems to reliably print 20 every single time you run it.\r\n\r\n","title":"Trying to understand shared variables in java threads","body":"<p>Two crucial things you're missing. Both individually explain this behaviour - you can 'fix' either one and you'll still see this, you'd have to fix both to see 1-20:</p>\n<h2>Java is pass-by-value</h2>\n<p>When you pass <code>i</code>, you pass <em>a copy of it</em>. In fact, in java, <strong>all</strong> parameters to methods are <strong>always</strong> copies. Hence, when the thread does <code>t++</code>, it has absolutely no effect whatsoever on your <code>i</code>. You can trivially test this, and you don't need to mess with threads to see it:</p>\n<pre><code>public static void main(String[] args) {\n  int i = 0;\n  add5(i);\n  System.out.println(i); // prints 0!!\n}\n\nstatic void add5(int i) {\n  i = i + 5;\n}\n</code></pre>\n<p>Note that all non-primitives are references. That means: A copy of the reference is passed. It's like passing the address of a house and not the house itself. If I have an address book, and I hand you <em>a scanned copy</em> of a page that contains the address to my summer home, you can still drive over there and toss a brick through the window, and I'll 'see' that when I go follow my copy of the address. So, when you pass e.g. a <code>list</code> and the method you passed the list to runs <code>list.add(&quot;foo&quot;)</code>, you <em>DO</em> see that. You may think: AHA! That means java does <em>not</em> pass a copy, it passed the real list! Not so. Java passed a copy of a street address (A reference). The method I handed that copy to decided to drive over there and act - that you can see.</p>\n<p>In other words, <code>=</code>, <code>++</code>, that sort of thing? That is done to the copy. <code>.</code> is java for 'drive to the address and enter the house'. Anything you 'do' with <code>.</code> is visible to the caller, <code>=</code> and <code>++</code> and such are not.</p>\n<h2>Fixing the code to avoid the pass-by-value problem</h2>\n<p>Change your code to:</p>\n<pre><code>class thread_creation extends Thread {\n    static int t; // now its global!\n    \n    public void run() {\n      increment();\n    }\n    \n    public void increment() {\n        for(int i =0 ; i&lt;10 ; i++) {\n            t++;\n//            System.out.println(t);\n        }\n    }\n}\n\npublic class test {\n    public static void main(String[] args) throws Exception {\n        thread_creation t1 = new thread_creation();\n        thread_creation t2 = new thread_creation();\n        t1.start();\n        Thread.sleep(500);\n        t2.start();\n        Thread.sleep(500);\n        System.out.println(thread_creation.t);\n    }\n}\n</code></pre>\n<p>Note that I remarked out the print line. I did that intentionally - see below. If you run the above code, you'd think you see 20, but depending on your hardware, the OS, the song playing on your mp3 playing app, which websites you have open, and the phase of the moon, it may be less than 20. So what's going on there? Enter the...</p>\n<h2>The evil coin.</h2>\n<p>The relevant spec here is the JMM (The Java Memory Model). This spec explains precisely what a JVM must do, and therefore, what a JVM is free not to do, especially when it comes to how memory is actually managed.</p>\n<p>The crucial aspect is the following:</p>\n<ul>\n<li>Any effects (updates to fields, such as that <code>t</code> field) <strong>may or may not</strong> be observable, JVM's choice. There's no guarantee that anything you do is visible to anything else... <em>unless</em> there exists a Happens-Before/Happens-After relationship: Any 2 statements with such a relationship have the property that the JVM guarantees that you cannot observe the lack of the update done by the HB line from the HA line.</li>\n</ul>\n<p>HB/HA can be established in various ways:</p>\n<ul>\n<li><p>The 'natural' way: Anything that is 'before' something else _<em>and runs in the same thread</em> has an HB/HA relationship. In other words, if you do in one thread <code>x++; System.out.println(x);</code> then you can't observe that the <code>x++</code> hasn't happened yet. It's stated like this so that if you're not observing, you get no guarantees, which gives the JVM the freedom to optimize. For example, Given <code>x++;y++;</code> and that's all you do, the JVM is free to re-order that and increment y before x. Or not. There are no guarantees, a JVM can do whatever it wants.</p>\n</li>\n<li><p><code>synchronized</code>. The moment of 'exiting' a <code>synchronized (x) {}</code> block has HB to the HA of another thread 'entering' the top of any synchronized block on the same object, if it enters later.</p>\n</li>\n<li><p><code>volatile</code> - but note that with <code>volatile</code> it's basically impossible which one came first. But one of them did, and any interaction with a volatile field is HB relative to another thread accessing the same field later.</p>\n</li>\n<li><p>thread starting. <code>thread.start()</code> is HB relative to the first line of the <code>run()</code> of that thread.</p>\n</li>\n<li><p>thread yielding. <code>thread.yield()</code> is HA relative to the last line of the thread.</p>\n</li>\n</ul>\n<p>There are a few more exotic ways to establish HB/HA but that's pretty much it.</p>\n<p>Crucially, <strong>in your code there is no HB/HA between any of the statements that modify or print t!</strong></p>\n<p>In other words, the JVM is free to run it all in such a way that the effects of various <code>t++</code> statements run by one thread aren't observed by another thread.</p>\n<h2>What the.. WHY????</h2>\n<p>Because of efficiency. Your memory banks on your CPU are, relative to how fast CPUs are, <strong>oceans</strong> away from the CPU core. Fetching or writing to core memory from a CPU takes an incredibly long time - your CPU is twiddling its thumbs for a very long time while it waits for the memory controller to get the job done. It could be running hundreds of instructions in that time.</p>\n<p>So, CPU cores <strong>do not write to memory AT ALL</strong>. Instead they work with caches: They have an on-core cache page, and the only interaction with your main memory banks (which are shared by CPU cores) is 'load in an entire cache page' and 'write an entire cache page'. That cache page is then effectively a 'local copy' that only that core can see and interact with (but can do so very very quickly, as that IS very close to the core, unlike the main memory banks), and then once the algorithm is done it can flush that page back to main memory.</p>\n<p>The JVM needs to be free to use this. Had the JVM actually worked like you want (that anything any thread does is instantly observable by all others), then <strong>anything</strong> that <strong>any</strong> line does must first wait 500 cycles to load the relevant page, then wait another 500 cycles to write it back. All java apps would <em>literally</em> be 1000x slower than they could be.</p>\n<p>This in passing also explains that actual synchronizing is <strong>really slow</strong>. Nothing java can do about that, it is a fundamental limitation of our modern multi-core CPUs.</p>\n<h2>So, evil coin?</h2>\n<p>Note that the JVM does not guarantee that the CPU must neccessarily work with this cache stuff, nor does it make any promises about when cache pages are flushed. It merely limits the guarantees so that JVMs can be efficiently written on CPUs that work like that.</p>\n<p>That means that any read or write to any field any java code ever does can best be thought of as follows:</p>\n<p>The JVM first flips a coin. On heads, it uses a local cached copy. On tails, it copies over the value from some other thread's cached copy instead.</p>\n<p>The coin is evil: It is not reliably a 50/50 arrangement. It is entirely plausible that throughout developing a feature and testing it, the coin lands tails every time it is flipped. It remains flipping tails 100% of the time for the first week that you deployed it. And then just when that big potential customer comes in and you're demoing your app, the coin, being an evil, evil coin, starts flipping heads a few times and breaking your app.</p>\n<p>The correct conclusion is that the coin <strong>will mess with you</strong> and that you <strong>cannot unit test against it</strong>. The only way to win the game is to ensure that <strong>the coin is never flipped</strong>.</p>\n<p>You do this by never touching a field from multiple threads unless it is constant (<code>final</code>, or simply never changes), or if <em>all</em> access to it (both reads and writes) has clearly established HB/HA between all threads.</p>\n<p>This is hard to do. That's why the vast majority of apps don't do it at all. Instead, they:</p>\n<ul>\n<li>Talk between threads using a database, which has vastly more advanced synchronization primitives: Transactions.</li>\n<li>Talk using a message bus such as RabbitMQ or similar.</li>\n<li>Use stuff from the <code>java.util.concurrent</code> package such as a Latch, ForkJoin, ConcurrentMap, or AtomicInteger. These are easier to use (specifically: It is a lot harder to write code for these abstractions that is buggy but where the bug cannot be observed or tested for on the machine of the developer that wrote it, it'll only blow up much later in production. But not impossible, of course).</li>\n</ul>\n<h2>Let's fix it!</h2>\n<p>volatile doesn't 'fix' ++. <code>x++;</code> is 'read x, increment by 1, write result to x' and volatile doesn't make that atomic, so we cannot use this. We can either replace <code>t++</code> with:</p>\n<pre><code>synchronized(thread_creation.class) {\n  t++;\n}\n</code></pre>\n<p>Which works fine but is really slow (and you shouldn't lock on publicly visible stuff if you can help it, so make a custom object to lock on, but you get the gist hopefully), or, better, dig into that j.u.c package for something that seems useful. And so there is! AtomicInteger!</p>\n<pre><code>class thread_creation extends Thread {\n    static AtomicInteger t = new AtomicInteger();\n    \n    public void run() {\n      increment();\n    }\n    \n    public void increment() {\n        for(int i =0 ; i&lt;10 ; i++) {\n            t.incrementAndGet();\n        }\n    }\n}\n\npublic class test {\n    public static void main(String[] args) throws Exception {\n        thread_creation t1 = new thread_creation();\n        thread_creation t2 = new thread_creation();\n        t1.start();\n        Thread.sleep(500);\n        t2.start();\n        Thread.sleep(500);\n        System.out.println(thread_creation.t.get());\n    }\n}\n</code></pre>\n<p>That code will print 20. Every time (unless those threads take longer than 500msec which technically could be, but is rather unlikely of course).</p>\n<h2>Why did you remark out the print statement?</h2>\n<p>That HB/HA stuff can sneak up on you: When you call code you did not write, such as <code>System.out.println</code>, who knows what kind of HB/HA relationships are in that code? Javadoc isn't <em>that</em> kind of specific, they won't tell you. Turns out that on most OSes and JVM implementations, interaction with standard out, such as <code>System.out.println</code>, causes synchronization; either the JVM does it, or the OS does. Thus, introducing print statements 'to test stuff' doesn't work - that makes it impossible to observe the race conditions your code does have. Similarly, involving debuggers is a great way to make that coin really go evil on you and flip juuust so that you can't tell your code is buggy.</p>\n<p>That is why I remarked it out, because with it in, I bet on almost all hardware you end up seeing 20 eventhough the JVM doesn't guarantee it and that first version <strong>is broken</strong>. Even if on your particular machine, on this day, with this phase of the moon, it seems to reliably print 20 every single time you run it.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649129995,"creation_date":1648425064,"answer_id":71641160,"question_id":71640547,"body_markdown":"You seem to think that `int t;` in `thread_creation` is a shared variable.  I&#39;m afraid you are mistaken.  Each `t` instance is a different variable.  So the two threads are updating distinct counters.  \r\n\r\nThe output you are seeing reflects that.\r\n\r\n--------------------\r\n\r\nThis is the nub of your question:\r\n\r\n&gt;  How do I pass a shared variable then ? \r\n\r\nActually, you can&#39;t&lt;sup&gt;1&lt;/sup&gt;.  Strictly a shared variable is actually a variable belonging to a shared object.  You cannot pass a variable *per se*.  Java does not allow passing of variables.  This is what *&quot;Java does not support call-by-reference&quot;* **really** means.  You can&#39;t pass or return a variable or the address of a variable in any method call.  (Or in any other way.)\r\n\r\nIn Java you pass and return values: either primitives, or references to objects.  The values may *read from* a variable by the call&#39;s parameter expression or *assigned to* a variable after the call&#39;s return.  But you are not *passing* the variable.  A variable and its value / contents are different things.\r\n\r\n--------------------\r\n\r\nSo the only way to implement a shared counter is to implement it as a shared counter **object**.  \r\n\r\nNote that &quot;variable&quot; and &quot;object&quot; mean different things, both in Java and in other programming languages.  You should NOT use the two terms interchangeable.  For example, when I declare this in Java:\r\n\r\n     String s = &quot;Hello&quot;;\r\n\r\nthe `s` variable is not a `String` object.  It is a variable that contains a *reference* to the `String` object.  Other variables may contain references to the same `String` object as well.  The distinction is even more stark when the objects are mutable.  (`String` is not mutable ... in Java.) \r\n\r\nHere are the two (IMO) best ways to implement a shared counter object.\r\n\r\n  - You could create a custom Java `Counter` class with a `count` variable, a get method, and methods for incrementing, decrementing the counter.  The class needs to implement various methods as thread-safe and atomic; e.g. by using `synchronized` methods or blocks&lt;sup&gt;2&lt;/sup&gt;.\r\n\r\n  - You could just use an `AtomicInteger` instance.  That takes care of atomicity and thread-safety ... to the extent that it is possible with this kind of API.\r\n\r\nThe latter approach is simpler and likely more efficient ... unless you need to do something special each time the counter changes.\r\n\r\n(It is conceivable that you could implement a shared counter other ways, but that is too much detail for this answer.)\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - I realize that I just said the same thing more than 3 times.  But as the Bellman says in [&quot;The Hunting of the Snark&quot;](https://www.poetryfoundation.org/poems/43909/the-hunting-of-the-snark): *&quot;What I tell you three times is true.&quot;*\r\n&lt;br&gt;2 - If the counter is not implemented using `synchronized` or an equivalent mutual exclusion mechanism with the appropriate *happens before* semantics, you are liable to see Heisenbugs; e.g. race conditions and memory visibility problems.&lt;/sup&gt;","title":"Trying to understand shared variables in java threads","body":"<p>You seem to think that <code>int t;</code> in <code>thread_creation</code> is a shared variable.  I'm afraid you are mistaken.  Each <code>t</code> instance is a different variable.  So the two threads are updating distinct counters.</p>\n<p>The output you are seeing reflects that.</p>\n<hr />\n<p>This is the nub of your question:</p>\n<blockquote>\n<p>How do I pass a shared variable then ?</p>\n</blockquote>\n<p>Actually, you can't<sup>1</sup>.  Strictly a shared variable is actually a variable belonging to a shared object.  You cannot pass a variable <em>per se</em>.  Java does not allow passing of variables.  This is what <em>&quot;Java does not support call-by-reference&quot;</em> <strong>really</strong> means.  You can't pass or return a variable or the address of a variable in any method call.  (Or in any other way.)</p>\n<p>In Java you pass and return values: either primitives, or references to objects.  The values may <em>read from</em> a variable by the call's parameter expression or <em>assigned to</em> a variable after the call's return.  But you are not <em>passing</em> the variable.  A variable and its value / contents are different things.</p>\n<hr />\n<p>So the only way to implement a shared counter is to implement it as a shared counter <strong>object</strong>.</p>\n<p>Note that &quot;variable&quot; and &quot;object&quot; mean different things, both in Java and in other programming languages.  You should NOT use the two terms interchangeable.  For example, when I declare this in Java:</p>\n<pre><code> String s = &quot;Hello&quot;;\n</code></pre>\n<p>the <code>s</code> variable is not a <code>String</code> object.  It is a variable that contains a <em>reference</em> to the <code>String</code> object.  Other variables may contain references to the same <code>String</code> object as well.  The distinction is even more stark when the objects are mutable.  (<code>String</code> is not mutable ... in Java.)</p>\n<p>Here are the two (IMO) best ways to implement a shared counter object.</p>\n<ul>\n<li><p>You could create a custom Java <code>Counter</code> class with a <code>count</code> variable, a get method, and methods for incrementing, decrementing the counter.  The class needs to implement various methods as thread-safe and atomic; e.g. by using <code>synchronized</code> methods or blocks<sup>2</sup>.</p>\n</li>\n<li><p>You could just use an <code>AtomicInteger</code> instance.  That takes care of atomicity and thread-safety ... to the extent that it is possible with this kind of API.</p>\n</li>\n</ul>\n<p>The latter approach is simpler and likely more efficient ... unless you need to do something special each time the counter changes.</p>\n<p>(It is conceivable that you could implement a shared counter other ways, but that is too much detail for this answer.)</p>\n<hr />\n<p><sup>1 - I realize that I just said the same thing more than 3 times.  But as the Bellman says in <a href=\"https://www.poetryfoundation.org/poems/43909/the-hunting-of-the-snark\" rel=\"nofollow noreferrer\">&quot;The Hunting of the Snark&quot;</a>: <em>&quot;What I tell you three times is true.&quot;</em>\n<br>2 - If the counter is not implemented using <code>synchronized</code> or an equivalent mutual exclusion mechanism with the appropriate <em>happens before</em> semantics, you are liable to see Heisenbugs; e.g. race conditions and memory visibility problems.</sup></p>\n"}],"owner":{"account_id":23601844,"reputation":315,"user_id":17638206,"display_name":"AAA"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71641160,"answer_count":2,"score":-1,"last_activity_date":1649129995,"creation_date":1648417340,"question_id":71640547,"body_markdown":"I have the following code : \r\n\r\n    class thread_creation extends Thread{\r\n    \tint t;\r\n    \tthread_creation(int x){\r\n    \t\tt=x;\r\n    \t}\r\n    \t\r\n    \tpublic void run() {\r\n    \tincrement();\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void increment() {\r\n    \t\tfor(int i =0 ; i&lt;10 ; i++) {\r\n    \t\t\tt++;\r\n    \tSystem.out.println(t);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    public class test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint i =0;\r\n    \t\tthread_creation t1 = new thread_creation(i);\r\n    \t\tthread_creation t2 = new thread_creation(i);\r\n    \t\tt1.start();\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(500);\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tt2.start();\r\n    \t}\r\n    \r\n    }\r\n\r\nWhen I run it , I get  :\r\n\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5\r\n    6\r\n    7\r\n    8\r\n    9\r\n    10\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5\r\n    6\r\n    7\r\n    8\r\n    9\r\n    10\r\nWhy I am getting this output ? According to my understanding ,  the variable i is a shared variable between the two threads created. So according to the code , the first thread will execute and increments i 10 times , and hence , i will be equal to 10 . The second thread will start after the first one because of the sleep statement and since i is shared , then the second thread will start will i=10 and will start incrementing it 10 times to have i = 20 , but this is not the case in the output , so why that ? ","title":"Trying to understand shared variables in java threads","body":"<p>I have the following code :</p>\n<pre><code>class thread_creation extends Thread{\n    int t;\n    thread_creation(int x){\n        t=x;\n    }\n    \n    public void run() {\n    increment();\n        \n        \n    }\n    \n    public void increment() {\n        for(int i =0 ; i&lt;10 ; i++) {\n            t++;\n    System.out.println(t);\n        }\n        \n    }\n}\n\n\n\n\npublic class test {\n\n    public static void main(String[] args) {\n        int i =0;\n        thread_creation t1 = new thread_creation(i);\n        thread_creation t2 = new thread_creation(i);\n        t1.start();\n        try {\n            Thread.sleep(500);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        t2.start();\n    }\n\n}\n</code></pre>\n<p>When I run it , I get  :</p>\n<pre><code>1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n</code></pre>\n<p>Why I am getting this output ? According to my understanding ,  the variable i is a shared variable between the two threads created. So according to the code , the first thread will execute and increments i 10 times , and hence , i will be equal to 10 . The second thread will start after the first one because of the sleep statement and since i is shared , then the second thread will start will i=10 and will start incrementing it 10 times to have i = 20 , but this is not the case in the output , so why that ?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1883951,"reputation":2791,"user_id":1707015,"accept_rate":71,"display_name":"qr&#228;bn&#246;"},"score":0,"creation_date":1532032205,"post_id":51431114,"comment_id":89833379,"body_markdown":"Well, read this! It will help you! https://stackoverflow.com/help/mcve","body":"Well, read this! It will help you! <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}],"answers":[{"tags":[],"owner":{"account_id":7147888,"reputation":3217,"user_id":5462988,"display_name":"anoopknr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649129912,"creation_date":1532033251,"answer_id":51431451,"question_id":51431114,"body_markdown":"Try using [musicg][1]\r\n\r\n**musicg** is a lightweight audio analysis library, written in `Java`, with the purpose of extracting both *high level* and *low level* audio features. This API allows developers to extract audio features and operate audio data like reading, cutting and trimming easily from an inputstream. It also provides tools for digital signal processing, renders the wavform or **spectrogram** for research and development purpose.\r\n\r\nAdd musicg library to your project and try this code :-\r\n\r\n    Wave w1= new Wave(&quot;first_wav&quot;); // Base Audio file\r\n    Wave w2= new Wave(&quot;second_wav&quot;); // Audio file to compare\r\n    // Finding Audio Fingerprint Similarity\r\n    FingerprintSimilarity fps = w1.getFingerprintSimilarity(w2);\r\n    float score = fps.getScore();\r\n    float sim = fps.getSimilarity();\r\n`sim` contains the *similarity* between to audio files *(value rages from 0 to 1.0)*. value greater that *`0.3`* can be considered as similar sound.musicg uses `16 bit PCM` audio files.\r\n\r\nbut getFingerprintSimilarity() accept only wave format files.\r\n\r\n[This app][2] uses musicg for sound detection.\r\n\r\n\r\n  [1]: https://github.com/loisaidasam/musicg\r\n  [2]: https://github.com/anoopknr/akuvo","title":"How to Detect a specific sound in android app?","body":"<p>Try using <a href=\"https://github.com/loisaidasam/musicg\" rel=\"nofollow noreferrer\">musicg</a></p>\n<p><strong>musicg</strong> is a lightweight audio analysis library, written in <code>Java</code>, with the purpose of extracting both <em>high level</em> and <em>low level</em> audio features. This API allows developers to extract audio features and operate audio data like reading, cutting and trimming easily from an inputstream. It also provides tools for digital signal processing, renders the wavform or <strong>spectrogram</strong> for research and development purpose.</p>\n<p>Add musicg library to your project and try this code :-</p>\n<pre><code>Wave w1= new Wave(&quot;first_wav&quot;); // Base Audio file\nWave w2= new Wave(&quot;second_wav&quot;); // Audio file to compare\n// Finding Audio Fingerprint Similarity\nFingerprintSimilarity fps = w1.getFingerprintSimilarity(w2);\nfloat score = fps.getScore();\nfloat sim = fps.getSimilarity();\n</code></pre>\n<p><code>sim</code> contains the <em>similarity</em> between to audio files <em>(value rages from 0 to 1.0)</em>. value greater that <em><code>0.3</code></em> can be considered as similar sound.musicg uses <code>16 bit PCM</code> audio files.</p>\n<p>but getFingerprintSimilarity() accept only wave format files.</p>\n<p><a href=\"https://github.com/anoopknr/akuvo\" rel=\"nofollow noreferrer\">This app</a> uses musicg for sound detection.</p>\n"}],"owner":{"account_id":13994465,"reputation":41,"user_id":10107649,"display_name":"Heramb Uttarwar"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3679,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"closed_date":1532162745,"accepted_answer_id":51431451,"answer_count":1,"score":1,"last_activity_date":1649129912,"creation_date":1532031672,"question_id":51431114,"body_markdown":"I am beginner in Android Programmming. Developing a **sound detection app** in Android studio. Can somebody help me to detect a specific sound ?","title":"How to Detect a specific sound in android app?","body":"<p>I am beginner in Android Programmming. Developing a <strong>sound detection app</strong> in Android studio. Can somebody help me to detect a specific sound ?</p>\n"},{"tags":["java","android","2d-games"],"comments":[{"owner":{"account_id":16641188,"reputation":449,"user_id":12026681,"display_name":"lue"},"score":0,"creation_date":1579951766,"post_id":59908142,"comment_id":105943139,"body_markdown":"I think the tutorial you watched is a veery bad one.","body":"I think the tutorial you watched is a veery bad one."},{"owner":{"account_id":16641188,"reputation":449,"user_id":12026681,"display_name":"lue"},"score":0,"creation_date":1579951945,"post_id":59908142,"comment_id":105943169,"body_markdown":"please post your full code (sleep, resume + pause methods)","body":"please post your full code (sleep, resume + pause methods)"},{"owner":{"account_id":17612141,"reputation":9,"user_id":12779963,"display_name":"jittu kumar"},"score":0,"creation_date":1580041307,"post_id":59908142,"comment_id":105960277,"body_markdown":"i have edited my above code with sleep, resume ,and pause method...plz check ...when i use  -= 10  background moves towards left accurately but i want to move it towards right side......background1.x -= 10 * screenratiox; // move \nbackground2.x -= 10 * screenratioy; // move","body":"i have edited my above code with sleep, resume ,and pause method...plz check ...when i use  -= 10  background moves towards left accurately but i want to move it towards right side......background1.x -= 10 * screenratiox; // move  background2.x -= 10 * screenratioy; // move"}],"answers":[{"tags":[],"owner":{"account_id":16641188,"reputation":449,"user_id":12026681,"display_name":"lue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579952191,"creation_date":1579951890,"answer_id":59908789,"question_id":59908142,"body_markdown":"&gt; background1.x += 10 * screenratiox; // move \r\n&gt; \r\n&gt; background2.x += 10 * screenratioy; // move\r\n\r\nliterally means: move the `x` to the right.\r\n\r\nSo\r\n\r\n    background1.x -= 10 * screenratiox; // move \r\n    background2.x -= 10 * screenratioy; // move","title":"scrolling background in game android studio.Background moves towards right with screen blinking how to solve it","body":"<blockquote>\n  <p>background1.x += 10 * screenratiox; // move </p>\n  \n  <p>background2.x += 10 * screenratioy; // move</p>\n</blockquote>\n\n<p>literally means: move the <code>x</code> to the right.</p>\n\n<p>So</p>\n\n<pre><code>background1.x -= 10 * screenratiox; // move \nbackground2.x -= 10 * screenratioy; // move\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24829243,"reputation":1,"user_id":18708598,"display_name":"Lp Pung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649129842,"creation_date":1649129842,"answer_id":71746047,"question_id":59908142,"body_markdown":"background1.x -= (int)(10 * screenratiox);\r\n\r\nbackground2.x -= (int)(10 * screenratiox); ","title":"scrolling background in game android studio.Background moves towards right with screen blinking how to solve it","body":"<p>background1.x -= (int)(10 * screenratiox);</p>\n<p>background2.x -= (int)(10 * screenratiox);</p>\n"}],"owner":{"account_id":17612141,"reputation":9,"user_id":12779963,"display_name":"jittu kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1649129842,"creation_date":1579945851,"question_id":59908142,"body_markdown":"I want to implement a **scrolling background** in my game in android studio.\r\n\r\nMy idea was to have two Bitmaps, who are drawn next to each other and to reset the position of a bitmap if it is not the screen anymore\r\n\r\n 1. The background moves **right**\r\n 2. the screen is **blinking**\r\n\r\nHow can I solve my problems?\r\n\r\nmy `SurfaceView` class\r\n```\r\npublic class GameView extends SurfaceView implements Runnable {\r\n\r\n  private Thread thread; // draw + update thread\r\n\r\n  int screenx, screeny; // screen size\r\n  Background background1 , background2;\r\n\r\n  float screenratiox, screenratioy;\r\n  \r\n  private boolean isplaying;\r\n\r\n  Paint paint;\r\n\r\n  public GameView(Context context, int screenx, int screeny) {\r\n    super(context);\r\n\r\n    this.screenx = screenx;\r\n    this.screeny = screeny;\r\n\r\n    this.screenratiox = 1920f / screenx;\r\n    this.screenratioy = 1080f / screeny;\r\n\r\n    background1 = new Background(screenx, screeny, getResources());\r\n    background2 = new Background(screenx, screeny, getResources());\r\n\r\n    background2.x = screenx;\r\n\r\n    paint = new Paint();\r\n  }\r\n\r\n  @Override\r\n  public void run() {\r\n    while (isplaying) {\r\n      update();\r\n      sleep();\r\n      draw();\r\n    }\r\n  }\r\n\r\n  public void sleep() {\r\n    try {\r\n      Thread.sleep(17);\r\n    } catch (InterruptedException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n  \r\n  public void resume() {\r\n    isplaying = true ;\r\n    thread = new Thread(this) ;\r\n    thread.start();\r\n  }\r\n\r\n  public void pause() {\r\n    try {\r\n      isplaying = false ;\r\n      thread.join();\r\n    } catch (InterruptedException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n\r\n  private void update() { //should move the background and reset it, if beyond the screen\r\n    background1.x += 10 * screenratiox; // move\r\n    background2.x += 10 * screenratioy; // move\r\n\r\n    if (background1.x + background1.background.getWidth() &lt; 0) {\r\n      background1.x = screenx; //reset x\r\n    } \r\n\r\n    if (background2.x + background2.background.getWidth() &lt; 0) {\r\n      background2.x = screenx; //reset x\r\n    } \r\n  }\r\n\r\n  private void draw () {\r\n    if (getHolder().getSurface().isValid()) {\r\n\r\n      Canvas canvas = getHolder().lockCanvas();\r\n\r\n      canvas.drawBitmap(background1.background, background1.x, background1.y, paint);\r\n      canvas.drawBitmap(background2.background, background2.x, background2.y, paint);\r\n\r\n      getHolder().unlockCanvasAndPost(canvas);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nmy Background class\r\n\r\n    public class Background {\r\n      int x = 0, y = 0; // position\r\n      Bitmap background; // image\r\n\r\n      Background(int screenx , int screeny , Resources res) {\r\n        background = BitmapFactory.decodeResource(res, R.drawable.background);\r\n        background = Bitmap.createScaledBitmap(background, screenx, screeny, false);\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"scrolling background in game android studio.Background moves towards right with screen blinking how to solve it","body":"<p>I want to implement a <strong>scrolling background</strong> in my game in android studio.</p>\n\n<p>My idea was to have two Bitmaps, who are drawn next to each other and to reset the position of a bitmap if it is not the screen anymore</p>\n\n<ol>\n<li>The background moves <strong>right</strong></li>\n<li>the screen is <strong>blinking</strong></li>\n</ol>\n\n<p>How can I solve my problems?</p>\n\n<p>my <code>SurfaceView</code> class</p>\n\n<pre><code>public class GameView extends SurfaceView implements Runnable {\n\n  private Thread thread; // draw + update thread\n\n  int screenx, screeny; // screen size\n  Background background1 , background2;\n\n  float screenratiox, screenratioy;\n\n  private boolean isplaying;\n\n  Paint paint;\n\n  public GameView(Context context, int screenx, int screeny) {\n    super(context);\n\n    this.screenx = screenx;\n    this.screeny = screeny;\n\n    this.screenratiox = 1920f / screenx;\n    this.screenratioy = 1080f / screeny;\n\n    background1 = new Background(screenx, screeny, getResources());\n    background2 = new Background(screenx, screeny, getResources());\n\n    background2.x = screenx;\n\n    paint = new Paint();\n  }\n\n  @Override\n  public void run() {\n    while (isplaying) {\n      update();\n      sleep();\n      draw();\n    }\n  }\n\n  public void sleep() {\n    try {\n      Thread.sleep(17);\n    } catch (InterruptedException e) {\n      e.printStackTrace();\n    }\n  }\n\n  public void resume() {\n    isplaying = true ;\n    thread = new Thread(this) ;\n    thread.start();\n  }\n\n  public void pause() {\n    try {\n      isplaying = false ;\n      thread.join();\n    } catch (InterruptedException e) {\n      e.printStackTrace();\n    }\n  }\n\n  private void update() { //should move the background and reset it, if beyond the screen\n    background1.x += 10 * screenratiox; // move\n    background2.x += 10 * screenratioy; // move\n\n    if (background1.x + background1.background.getWidth() &lt; 0) {\n      background1.x = screenx; //reset x\n    } \n\n    if (background2.x + background2.background.getWidth() &lt; 0) {\n      background2.x = screenx; //reset x\n    } \n  }\n\n  private void draw () {\n    if (getHolder().getSurface().isValid()) {\n\n      Canvas canvas = getHolder().lockCanvas();\n\n      canvas.drawBitmap(background1.background, background1.x, background1.y, paint);\n      canvas.drawBitmap(background2.background, background2.x, background2.y, paint);\n\n      getHolder().unlockCanvasAndPost(canvas);\n    }\n  }\n}\n</code></pre>\n\n<p>my Background class</p>\n\n<pre><code>public class Background {\n  int x = 0, y = 0; // position\n  Bitmap background; // image\n\n  Background(int screenx , int screeny , Resources res) {\n    background = BitmapFactory.decodeResource(res, R.drawable.background);\n    background = Bitmap.createScaledBitmap(background, screenx, screeny, false);\n  }\n}\n</code></pre>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1649127830,"post_id":71745754,"comment_id":126791504,"body_markdown":"This is not an Eclipse problem.  It shouldn&#39;t be tagged with `[eclipse]`.","body":"This is not an Eclipse problem.  It shouldn&#39;t be tagged with <code>[eclipse]</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1649128224,"post_id":71745754,"comment_id":126791547,"body_markdown":"For what it is worth, I cannot reproduce the problem.   Try compiling and running the program from a command shell.  It works for me with Java 8 &amp; Java 17 on Linux.   It might be a problem with your Java installation ...","body":"For what it is worth, I cannot reproduce the problem.   Try compiling and running the program from a command shell.  It works for me with Java 8 &amp; Java 17 on Linux.   It might be a problem with your Java installation ..."}],"owner":{"account_id":24828756,"reputation":1,"user_id":18708156,"display_name":"Kenny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649127748,"creation_date":1649126216,"question_id":71745754,"body_markdown":"I am having a problem with using awt tools in java. There are no errors when I finish and run a code but when I click a button that i make this shows the &quot;\\[AWTView javaRole\\]: unrecognized selector sent to instance 0x7fad4072cb30&quot;\r\n\r\nIm using jdk 1.8 version and latest eclipse version with using m1 pro mac\r\n\r\n&gt;     import java.awt.*;\r\n&gt;     public class Grade {\r\n&gt;     \tpublic static void main(String args[]) {\r\n&gt;     \t\tFrame frame = new Frame(&quot;informaton input program&quot;);\r\n&gt;     \t\tframe.setSize(450, 150);\r\n&gt;     \t\tframe.setLayout(new FlowLayout());\r\n&gt;     \t\t\r\n&gt;     \t\t\r\n&gt;     \t\tLabel Ib1 = new Label(&quot;Please Select your grade&quot;);\r\n&gt;     \t\t\r\n&gt;     \t\t\r\n&gt;     \t\tChoice ch = new Choice();\r\n&gt;     \t\tch.add(&quot;1 grade&quot;);\r\n&gt;     \t\tch.add(&quot;2 grade&quot;);\r\n&gt;     \t\tch.add(&quot;3 grade&quot;);\r\n&gt;     \t\tch.add(&quot;4 grade&quot;);\r\n&gt;     \t\t\r\n&gt;     \t\tButton btn = new Button(&quot;Submit&quot;);\r\n&gt;     \t\tButton btn2 = new Button(&quot;Search&quot;);\r\n&gt;     \t\t\r\n&gt;     \t\tframe.add(Ib1);\r\n&gt;     \t\tframe.add(ch);\r\n&gt;     \t\tframe.add(btn);\r\n&gt;     \t\tframe.add(btn2);\r\n&gt;     \t\tframe.setVisible(true);\r\n&gt;     \t}\r\n&gt;     }\r\n\r\nwhen I click a button or Choice ch that I made, It shows the error like this\r\n\r\n&gt; java\\[18717:636221\\] -\\[AWTView javaRole\\]: unrecognized selector sent to instance 0x7ff777758790","title":"java error unrecognized selector sent to instance","body":"<p>I am having a problem with using awt tools in java. There are no errors when I finish and run a code but when I click a button that i make this shows the &quot;[AWTView javaRole]: unrecognized selector sent to instance 0x7fad4072cb30&quot;</p>\n<p>Im using jdk 1.8 version and latest eclipse version with using m1 pro mac</p>\n<blockquote>\n<pre><code>import java.awt.*;\npublic class Grade {\n  public static void main(String args[]) {\n      Frame frame = new Frame(&quot;informaton input program&quot;);\n      frame.setSize(450, 150);\n      frame.setLayout(new FlowLayout());\n      \n      \n      Label Ib1 = new Label(&quot;Please Select your grade&quot;);\n      \n      \n      Choice ch = new Choice();\n      ch.add(&quot;1 grade&quot;);\n      ch.add(&quot;2 grade&quot;);\n      ch.add(&quot;3 grade&quot;);\n      ch.add(&quot;4 grade&quot;);\n      \n      Button btn = new Button(&quot;Submit&quot;);\n      Button btn2 = new Button(&quot;Search&quot;);\n      \n      frame.add(Ib1);\n      frame.add(ch);\n      frame.add(btn);\n      frame.add(btn2);\n      frame.setVisible(true);\n  }\n}\n</code></pre>\n</blockquote>\n<p>when I click a button or Choice ch that I made, It shows the error like this</p>\n<blockquote>\n<p>java[18717:636221] -[AWTView javaRole]: unrecognized selector sent to instance 0x7ff777758790</p>\n</blockquote>\n"},{"tags":["java","mysql","jdbc","remote-access"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":3,"creation_date":1649127221,"post_id":71745820,"comment_id":126791433,"body_markdown":"Use `%` as host for granting the permission.","body":"Use <code>%</code> as host for granting the permission."},{"owner":{"account_id":14388888,"reputation":1,"user_id":10394037,"display_name":"Fernas Techno"},"score":0,"creation_date":1649127768,"post_id":71745820,"comment_id":126791499,"body_markdown":"Thank you very much, the solution was in front of me, but I would not have seen it without you. Thanks again","body":"Thank you very much, the solution was in front of me, but I would not have seen it without you. Thanks again"}],"owner":{"account_id":14388888,"reputation":1,"user_id":10394037,"display_name":"Fernas Techno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649160741,"answer_count":0,"score":0,"last_activity_date":1649127051,"creation_date":1649127051,"question_id":71745820,"body_markdown":"I have hosting on HostGator and I create database, but I can&#39;t to access to this database from any network before (Go to &quot;cPanel&quot; -&gt; &quot;Remote MySQL&quot; and Add Access Host(IP Address))\r\n\r\n[enter image description here][1]\r\n\r\nHow I can allow to any IP access to my database from my java program\r\n\r\n         try {\r\n\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\r\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://ns0000.hostgator.com:3306/employee101&quot;, &quot;admin&quot;, &quot;passAdmin&quot;);\r\n\r\n            Statement stmt = con.createStatement();\r\n            ResultSet rs = stmt.executeQuery(&quot;SELECT username FROM employee_data&quot;);\r\n\r\n            while (rs.next()) {\r\n                System.out.println(rs.getString(1));\r\n            }\r\n\r\n            con.close();\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\nKnowing that the code works without problems if the IP is added to Remote MySQL, and if I do not add the IP, the following error will appear to me:\r\n\r\n&gt; Access denied for user &#39;admin&#39;@&#39;188.247.79.199&#39; (using password: YES)\r\n\r\n  [1]: https://i.stack.imgur.com/FVPEq.png","title":"How can I access the database remotely using java wihtout added the IP in Remote MySQL","body":"<p>I have hosting on HostGator and I create database, but I can't to access to this database from any network before (Go to &quot;cPanel&quot; -&gt; &quot;Remote MySQL&quot; and Add Access Host(IP Address))</p>\n<p><a href=\"https://i.stack.imgur.com/FVPEq.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>How I can allow to any IP access to my database from my java program</p>\n<pre><code>     try {\n\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n\n        Connection con = DriverManager.getConnection(&quot;jdbc:mysql://ns0000.hostgator.com:3306/employee101&quot;, &quot;admin&quot;, &quot;passAdmin&quot;);\n\n        Statement stmt = con.createStatement();\n        ResultSet rs = stmt.executeQuery(&quot;SELECT username FROM employee_data&quot;);\n\n        while (rs.next()) {\n            System.out.println(rs.getString(1));\n        }\n\n        con.close();\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n    }\n</code></pre>\n<p>Knowing that the code works without problems if the IP is added to Remote MySQL, and if I do not add the IP, the following error will appear to me:</p>\n<blockquote>\n<p>Access denied for user 'admin'@'188.247.79.199' (using password: YES)</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1649125493,"post_id":71744932,"comment_id":126791197,"body_markdown":"It&#39;s great that you included the expected output...but can you can ALSO include the original problem description too?","body":"It&#39;s great that you included the expected output...but can you can ALSO include the original problem description too?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1649125800,"post_id":71744932,"comment_id":126791232,"body_markdown":"Are you supposed to make two different SETS of nested for loops, one for the &quot;H&quot;s and another for the numbers.   Or just one outer loop (five rows) with two different nested for loops inside that single outer loop?","body":"Are you supposed to make two different SETS of nested for loops, one for the &quot;H&quot;s and another for the numbers.   Or just one outer loop (five rows) with two different nested for loops inside that single outer loop?"}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649124823,"creation_date":1649124823,"answer_id":71745633,"question_id":71744932,"body_markdown":"We can solve this quite easily by modifying how the loops work. This looks like a homework question, so rather than just copying the code below I encourage you to read through the [official tutorial](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html) to understand how it works, and even to play with the loop variables in the code below to see what changes as you modify them.\r\n\r\n\r\n----------\r\n\r\nA quick explanation of how a for loop works. So if we wrote a for loop like this:\r\n\r\n\r\n    for (int i = 0; i &lt; 5; i++) {...\r\n\r\nThis is what is happening under the hood:\r\n\r\n    for (initialization; termination; increment) {...\r\n\r\nThe first part `int i = 0` is the initialization of where the loop starts from.\r\n\r\nThe second part `i &lt; 5` is the termination condition that causes the loop to stop when i is no longer less than 5.\r\n\r\nThe last part `i++` is the increment, or what changes each time the loop finishes\r\n\r\nNote that for the final increment condition we can do all sorts of things, it does not have to be `i++`, we could decrease it with `i--` or even do a bit of math `i = i*2`.\r\n\r\n----------\r\n\r\n\r\nSo when it comes to your question. In the first loop the simple solution is to work backwards, by starting high using the `b` value for the initialization like so `for (int i = b;`, and we want to work backwards so we use `i--` as the increment action, and finally we use `i &gt; 0;` in the middle as the termination so that we stop one we hit 0:\r\n\r\n    //start of the 1st loop\r\n    for (int i = b; i &gt; 0; i--) {\r\n        //...\r\n    }\r\n\r\nNow for the inner loop we just need to modify it slightly so that it runs the correct number of times and add `System.out.println();` after the inner loop so that the lines are correct:\r\n\r\n    //start of the 1st loop\r\n    for (int i = b; i &gt; 0; i--) {\r\n        for (int p = 0; p &lt; i; p++) {\r\n\t\t    System.out.print(k+ &quot; &quot;);\r\n        }\r\n        //Move to the next line\r\n\t    System.out.println();\r\n    }\r\n\r\nFor the second loop we simply start from 0 and work up like normal:\r\n\r\n    //start of the 2nd loop\r\n    for (int i = 0; i &lt; b; i++) {\r\n        //...\r\n    }\r\n\r\nThe interesting part is the inner loop, it also works as normal by starting from 0, and we just use a bit of logic, a simple short calculation `int value = cn - (p*3);` to work out what the printed value needs to be. This works because the value of p changes each loop and will subtract a multiple of 3 from `cn` to give 14 11 8 5... and so on:\r\n\r\n    //start of the 2nd loop\r\n    for (int i = 0; i &lt; b; i++) {\r\n        for (int p = 0; p &lt;= i; p++) {\r\n            //calculate value using cn - i*3 (To get -3 for each number)\r\n\t\t    int value = cn - (p*3);\r\n\t\t    System.out.print(value+ &quot; &quot;);\r\n\t    }\r\n        //Move to the next line\r\n\t    System.out.println();\r\n    }\r\n    //end of the 2nd loop`\r\n\r\nAnd the output is:\r\n\r\n    H H H H H \r\n    H H H H \r\n    H H H \r\n    H H \r\n    H \r\n    \r\n    14 \r\n    14 11 \r\n    14 11 8 \r\n    14 11 8 5 \r\n    14 11 8 5 2 ","title":"How can i do a nested loop with 5 repetitions, but the starting number (initialization) contradicts with the repetition which is the condition?","body":"<p>We can solve this quite easily by modifying how the loops work. This looks like a homework question, so rather than just copying the code below I encourage you to read through the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">official tutorial</a> to understand how it works, and even to play with the loop variables in the code below to see what changes as you modify them.</p>\n<hr />\n<p>A quick explanation of how a for loop works. So if we wrote a for loop like this:</p>\n<pre><code>for (int i = 0; i &lt; 5; i++) {...\n</code></pre>\n<p>This is what is happening under the hood:</p>\n<pre><code>for (initialization; termination; increment) {...\n</code></pre>\n<p>The first part <code>int i = 0</code> is the initialization of where the loop starts from.</p>\n<p>The second part <code>i &lt; 5</code> is the termination condition that causes the loop to stop when i is no longer less than 5.</p>\n<p>The last part <code>i++</code> is the increment, or what changes each time the loop finishes</p>\n<p>Note that for the final increment condition we can do all sorts of things, it does not have to be <code>i++</code>, we could decrease it with <code>i--</code> or even do a bit of math <code>i = i*2</code>.</p>\n<hr />\n<p>So when it comes to your question. In the first loop the simple solution is to work backwards, by starting high using the <code>b</code> value for the initialization like so <code>for (int i = b;</code>, and we want to work backwards so we use <code>i--</code> as the increment action, and finally we use <code>i &gt; 0;</code> in the middle as the termination so that we stop one we hit 0:</p>\n<pre><code>//start of the 1st loop\nfor (int i = b; i &gt; 0; i--) {\n    //...\n}\n</code></pre>\n<p>Now for the inner loop we just need to modify it slightly so that it runs the correct number of times and add <code>System.out.println();</code> after the inner loop so that the lines are correct:</p>\n<pre><code>//start of the 1st loop\nfor (int i = b; i &gt; 0; i--) {\n    for (int p = 0; p &lt; i; p++) {\n        System.out.print(k+ &quot; &quot;);\n    }\n    //Move to the next line\n    System.out.println();\n}\n</code></pre>\n<p>For the second loop we simply start from 0 and work up like normal:</p>\n<pre><code>//start of the 2nd loop\nfor (int i = 0; i &lt; b; i++) {\n    //...\n}\n</code></pre>\n<p>The interesting part is the inner loop, it also works as normal by starting from 0, and we just use a bit of logic, a simple short calculation <code>int value = cn - (p*3);</code> to work out what the printed value needs to be. This works because the value of p changes each loop and will subtract a multiple of 3 from <code>cn</code> to give 14 11 8 5... and so on:</p>\n<pre><code>//start of the 2nd loop\nfor (int i = 0; i &lt; b; i++) {\n    for (int p = 0; p &lt;= i; p++) {\n        //calculate value using cn - i*3 (To get -3 for each number)\n        int value = cn - (p*3);\n        System.out.print(value+ &quot; &quot;);\n    }\n    //Move to the next line\n    System.out.println();\n}\n//end of the 2nd loop`\n</code></pre>\n<p>And the output is:</p>\n<pre><code>H H H H H \nH H H H \nH H H \nH H \nH \n\n14 \n14 11 \n14 11 8 \n14 11 8 5 \n14 11 8 5 2 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649126618,"creation_date":1649126618,"answer_id":71745787,"question_id":71744932,"body_markdown":"Assuming two different sets of nested for loops, here&#39;s an alternate approach for both:\r\n\r\n    String name = &quot;Hotdogs&quot;;\r\n    int b = 5, cn = 14;\r\n    char k = name.charAt(0);\r\n\r\n    for (int row=1; row&lt;=b; row++) {\r\n      for (int col=row; col&lt;=b; col++) {\r\n        System.out.print(k + &quot; &quot;);\r\n      }\r\n      System.out.println();\r\n    }\r\n    for (int row=1; row&lt;=b; row++) {\r\n      for (int col=1, x=cn; col&lt;=row; col++, x=x-3) {\r\n        System.out.print(x + &quot; &quot;);\r\n      }\r\n      System.out.println();\r\n    }\r\n\r\nNote that in the second set of nested for loops that generates the numbers, in the INNER for loop, we&#39;re declaring two different variables and have two different incrementors separated by commas.\r\n\r\nOutput generated:\r\n\r\n    H H H H H \r\n    H H H H \r\n    H H H \r\n    H H \r\n    H \r\n    14 \r\n    14 11 \r\n    14 11 8 \r\n    14 11 8 5 \r\n    14 11 8 5 2\r\n\r\n","title":"How can i do a nested loop with 5 repetitions, but the starting number (initialization) contradicts with the repetition which is the condition?","body":"<p>Assuming two different sets of nested for loops, here's an alternate approach for both:</p>\n<pre><code>String name = &quot;Hotdogs&quot;;\nint b = 5, cn = 14;\nchar k = name.charAt(0);\n\nfor (int row=1; row&lt;=b; row++) {\n  for (int col=row; col&lt;=b; col++) {\n    System.out.print(k + &quot; &quot;);\n  }\n  System.out.println();\n}\nfor (int row=1; row&lt;=b; row++) {\n  for (int col=1, x=cn; col&lt;=row; col++, x=x-3) {\n    System.out.print(x + &quot; &quot;);\n  }\n  System.out.println();\n}\n</code></pre>\n<p>Note that in the second set of nested for loops that generates the numbers, in the INNER for loop, we're declaring two different variables and have two different incrementors separated by commas.</p>\n<p>Output generated:</p>\n<pre><code>H H H H H \nH H H H \nH H H \nH H \nH \n14 \n14 11 \n14 11 8 \n14 11 8 5 \n14 11 8 5 2\n</code></pre>\n"}],"owner":{"account_id":24827747,"reputation":1,"user_id":18707297,"display_name":"Neal Caranzo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649126618,"creation_date":1649116544,"question_id":71744932,"body_markdown":"so here is the code the problem is with the 2nd nested loop  where it involves numbers also the 2ND NESTED LOOP HAS A DECREMENT OF -3 EVERY REPETITION IT MAKE\r\n\r\n`` `// b is the repetition and cn is the starting point which it means it falsify this 14 &lt;= 5 which is wrong ``\r\n\r\n`String name = &quot;Hotdogs&quot;`\r\n`int b = 5, cn = 14`\r\n`char k = name.charAt(0);`\r\n\r\n               //start of the 1st loop\r\n            for (int i = 1; i &lt;= b; i++) {\r\n                for (int p = i; p &lt;= b; p++) {\r\n            System.out.print(k+ &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n               //end of the 1st loop\r\n    \r\n                //start of the 2nd loop\r\n            for (int a = cn; a &lt;= b; a= a-3) {\r\n                for (int z = cn; z &lt;= a; z++) {\r\n            System.out.print(cn+ &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n                //end of the 2nd loop`\r\n\r\nso im expecting the 2nd nested loop is to do a half pyramid pattern which is this: the one with letters is the 1st nested loop and the one with number is the 2nd nested loop HERE IS THE EXPECTED OUTPUT\r\n\r\n[![](https://i.stack.imgur.com/jICnz.png)](https://i.stack.imgur.com/jICnz.png)","title":"How can i do a nested loop with 5 repetitions, but the starting number (initialization) contradicts with the repetition which is the condition?","body":"<p>so here is the code the problem is with the 2nd nested loop  where it involves numbers also the 2ND NESTED LOOP HAS A DECREMENT OF -3 EVERY REPETITION IT MAKE</p>\n<p><code>`// b is the repetition and cn is the starting point which it means it falsify this 14 &lt;= 5 which is wrong</code></p>\n<p><code>String name = &quot;Hotdogs&quot;</code>\n<code>int b = 5, cn = 14</code>\n<code>char k = name.charAt(0);</code></p>\n<pre><code>           //start of the 1st loop\n        for (int i = 1; i &lt;= b; i++) {\n            for (int p = i; p &lt;= b; p++) {\n        System.out.print(k+ &quot; &quot;);\n        }\n        System.out.println();\n           //end of the 1st loop\n\n            //start of the 2nd loop\n        for (int a = cn; a &lt;= b; a= a-3) {\n            for (int z = cn; z &lt;= a; z++) {\n        System.out.print(cn+ &quot; &quot;);\n        }\n        System.out.println();\n            //end of the 2nd loop`\n</code></pre>\n<p>so im expecting the 2nd nested loop is to do a half pyramid pattern which is this: the one with letters is the 1st nested loop and the one with number is the 2nd nested loop HERE IS THE EXPECTED OUTPUT</p>\n<p><a href=\"https://i.stack.imgur.com/jICnz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jICnz.png\" alt=\"\" /></a></p>\n"},{"tags":["java","minecraft","bukkit","spigot"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1646759667,"post_id":71397263,"comment_id":126201498,"body_markdown":"Are you trying to achieve different seconds for different `StartCountdown` instances?","body":"Are you trying to achieve different seconds for different <code>StartCountdown</code> instances?"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646760350,"creation_date":1646760350,"answer_id":71399135,"question_id":71397263,"body_markdown":"You can create a timer for each players, but it&#39;s not the most optimized way and it doesn&#39;t seems to be what you are looking for.\r\n\r\nThe better solution for you seems to be the [`Map`](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html).\r\n\r\nDo you this, you should change `seconds` to :\r\n```java\r\npublic HashMap&lt;Player, Integer&gt; seconds = new HashMap&lt;&gt;();\r\n```\r\nThen, you should put value in map at the begin, and manage value with map, like that:\r\n```java\r\n@Override\r\npublic void start(Player player) {\r\n   seconds.put(player, COUNTDOWN_SECONDS);\r\n   taskID = Bukkit.getScheduler().scheduleSyncRepeatingTask(Challenge.getInstance(), () -&gt; {\r\n       int playerSecond = seconds.getOrDefault(player, 0); // get stored value\r\n       if(playerSecond == 1) {\r\n           // here do what you want\r\n       }\r\n       seconds.put(player, playerSecond - 1); // downgrade second value\r\n   }, 20, 20);\r\n}\r\n```\r\nPS: you will have the same problem with the taskId.","title":"How to set integer for target player?","body":"<p>You can create a timer for each players, but it's not the most optimized way and it doesn't seems to be what you are looking for.</p>\n<p>The better solution for you seems to be the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a>.</p>\n<p>Do you this, you should change <code>seconds</code> to :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public HashMap&lt;Player, Integer&gt; seconds = new HashMap&lt;&gt;();\n</code></pre>\n<p>Then, you should put value in map at the begin, and manage value with map, like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void start(Player player) {\n   seconds.put(player, COUNTDOWN_SECONDS);\n   taskID = Bukkit.getScheduler().scheduleSyncRepeatingTask(Challenge.getInstance(), () -&gt; {\n       int playerSecond = seconds.getOrDefault(player, 0); // get stored value\n       if(playerSecond == 1) {\n           // here do what you want\n       }\n       seconds.put(player, playerSecond - 1); // downgrade second value\n   }, 20, 20);\n}\n</code></pre>\n<p>PS: you will have the same problem with the taskId.</p>\n"},{"tags":[],"owner":{"account_id":17848421,"reputation":658,"user_id":12964643,"display_name":"KingsDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649125108,"creation_date":1649125108,"answer_id":71745658,"question_id":71397263,"body_markdown":"I would suggest doing what Elikill58 suggested in this answer: https://stackoverflow.com/a/71399135/12964643\r\n\r\nHowever, you shouldn&#39;t need to store a copy of the taskID if you are just trying to cancel it after a certain number of iterations. Where you and Elikill58 have written:\r\n```\r\n() -&gt; {\r\n    // Code\r\n}\r\n```\r\nIt can be replaced with\r\n```\r\ntask -&gt; {\r\n    // Code\r\n}\r\n```\r\nThis allows you to have an instance of the `BukkitTask` in order to cancel it.","title":"How to set integer for target player?","body":"<p>I would suggest doing what Elikill58 suggested in this answer: <a href=\"https://stackoverflow.com/a/71399135/12964643\">https://stackoverflow.com/a/71399135/12964643</a></p>\n<p>However, you shouldn't need to store a copy of the taskID if you are just trying to cancel it after a certain number of iterations. Where you and Elikill58 have written:</p>\n<pre><code>() -&gt; {\n    // Code\n}\n</code></pre>\n<p>It can be replaced with</p>\n<pre><code>task -&gt; {\n    // Code\n}\n</code></pre>\n<p>This allows you to have an instance of the <code>BukkitTask</code> in order to cancel it.</p>\n"}],"owner":{"account_id":22054444,"reputation":31,"user_id":16318222,"display_name":"Slyxx_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1649125108,"creation_date":1646752298,"question_id":71397263,"body_markdown":"I need an integer per player. I created a countdown, but the integer is for all players. When I set a value, this applies to all players. Each player should get their own value.\r\n\r\nDoes anyone have an idea how to fix this?\r\n\r\nMy code:\r\n\r\n    private static final int COUNTDOWN_SECONDS = 6;\r\n    private int seconds;\r\n\r\n    public StartCountdown() {\r\n        seconds = COUNTDOWN_SECONDS;\r\n    }\r\n\r\n    @Override\r\n    public void start(Player player) {\r\n\r\n        taskID = Bukkit.getScheduler().scheduleSyncRepeatingTask(Challenge.getInstance(), () -&gt; {\r\n\r\n            switch(seconds) {\r\n                case 5:\r\n                    player.sendTitle(ChatColor.DARK_RED + &quot;5&quot;, &quot;&quot;, 10, 20, 30);\r\n                    player.playSound(player.getLocation(), Sound.ENTITY_EXPERIENCE_ORB_PICKUP, 1, 1);\r\n                    break;\r\n                case 4:\r\n                    player.sendTitle(ChatColor.RED + &quot;4&quot;, &quot;&quot;, 10, 20, 30);\r\n                    player.playSound(player.getLocation(), Sound.ENTITY_EXPERIENCE_ORB_PICKUP, 1, 1);\r\n                    break;\r\n                case 3:\r\n                    player.sendTitle(ChatColor.GOLD + &quot;3&quot;, &quot;&quot;, 10, 20, 30);\r\n                    player.playSound(player.getLocation(), Sound.ENTITY_EXPERIENCE_ORB_PICKUP, 1, 1);\r\n                    break;\r\n\r\n                case 2:\r\n                    player.sendTitle(ChatColor.YELLOW + &quot;2&quot;, &quot;&quot;, 10, 20, 30);\r\n                    player.playSound(player.getLocation(), Sound.ENTITY_EXPERIENCE_ORB_PICKUP, 1, 1);\r\n                    break;\r\n                case 1:\r\n                    player.sendTitle(ChatColor.DARK_GREEN + &quot;1&quot;, &quot;&quot;, 10, 20, 30);\r\n                    player.playSound(player.getLocation(), Sound.ENTITY_EXPERIENCE_ORB_PICKUP, 1, 1);\r\n                    break;\r\n                case 0:\r\n                    player.sendTitle(ChatColor.GREEN + &quot;GO&quot;, &quot;&quot;, 10, 20, 50);\r\n                    player.playSound(player.getLocation(), Sound.ENTITY_PLAYER_LEVELUP, 1, 1);\r\n                    seconds = COUNTDOWN_SECONDS;\r\n                    stop();\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n            seconds--;\r\n        }, 0, 20);","title":"How to set integer for target player?","body":"<p>I need an integer per player. I created a countdown, but the integer is for all players. When I set a value, this applies to all players. Each player should get their own value.</p>\n<p>Does anyone have an idea how to fix this?</p>\n<p>My code:</p>\n<pre><code>private static final int COUNTDOWN_SECONDS = 6;\nprivate int seconds;\n\npublic StartCountdown() {\n    seconds = COUNTDOWN_SECONDS;\n}\n\n@Override\npublic void start(Player player) {\n\n    taskID = Bukkit.getScheduler().scheduleSyncRepeatingTask(Challenge.getInstance(), () -&gt; {\n\n        switch(seconds) {\n            case 5:\n                player.sendTitle(ChatColor.DARK_RED + &quot;5&quot;, &quot;&quot;, 10, 20, 30);\n                player.playSound(player.getLocation(), Sound.ENTITY_EXPERIENCE_ORB_PICKUP, 1, 1);\n                break;\n            case 4:\n                player.sendTitle(ChatColor.RED + &quot;4&quot;, &quot;&quot;, 10, 20, 30);\n                player.playSound(player.getLocation(), Sound.ENTITY_EXPERIENCE_ORB_PICKUP, 1, 1);\n                break;\n            case 3:\n                player.sendTitle(ChatColor.GOLD + &quot;3&quot;, &quot;&quot;, 10, 20, 30);\n                player.playSound(player.getLocation(), Sound.ENTITY_EXPERIENCE_ORB_PICKUP, 1, 1);\n                break;\n\n            case 2:\n                player.sendTitle(ChatColor.YELLOW + &quot;2&quot;, &quot;&quot;, 10, 20, 30);\n                player.playSound(player.getLocation(), Sound.ENTITY_EXPERIENCE_ORB_PICKUP, 1, 1);\n                break;\n            case 1:\n                player.sendTitle(ChatColor.DARK_GREEN + &quot;1&quot;, &quot;&quot;, 10, 20, 30);\n                player.playSound(player.getLocation(), Sound.ENTITY_EXPERIENCE_ORB_PICKUP, 1, 1);\n                break;\n            case 0:\n                player.sendTitle(ChatColor.GREEN + &quot;GO&quot;, &quot;&quot;, 10, 20, 50);\n                player.playSound(player.getLocation(), Sound.ENTITY_PLAYER_LEVELUP, 1, 1);\n                seconds = COUNTDOWN_SECONDS;\n                stop();\n                break;\n\n            default:\n                break;\n        }\n        seconds--;\n    }, 0, 20);\n</code></pre>\n"},{"tags":["java","equals","hashcode","hash-code-uniqueness"],"answers":[{"tags":[],"owner":{"account_id":1439522,"reputation":9489,"user_id":1360074,"accept_rate":85,"display_name":"Nikolay Kuznetsov"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1365421236,"creation_date":1365420758,"answer_id":15877964,"question_id":15877914,"body_markdown":"This is widely accepted approach:\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        int res = 17;\r\n        res = res * 31 + Math.min(from, to);\r\n        res = res * 31 + Math.max(from, to);\r\n        return res;\r\n    }","title":"Java overriding equals() and hashcode() for two interchangeable integers","body":"<p>This is widely accepted approach:</p>\n\n<pre><code>@Override\npublic int hashCode() {\n    int res = 17;\n    res = res * 31 + Math.min(from, to);\n    res = res * 31 + Math.max(from, to);\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":390447,"reputation":537,"user_id":750518,"accept_rate":50,"display_name":"infthi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365421120,"creation_date":1365421120,"answer_id":15878090,"question_id":15877914,"body_markdown":"i think, something like \r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return to*to+from*from;\r\n    }\r\n\r\nis good enough","title":"Java overriding equals() and hashcode() for two interchangeable integers","body":"<p>i think, something like </p>\n\n<pre><code>@Override\npublic int hashCode() {\n    return to*to+from*from;\n}\n</code></pre>\n\n<p>is good enough</p>\n"},{"tags":[],"owner":{"account_id":1057674,"reputation":12774,"user_id":1060037,"display_name":"Jayamohan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365421586,"creation_date":1365421244,"answer_id":15878130,"question_id":15877914,"body_markdown":"Typically I use XOR for hashcode method.\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn from ^ to;\r\n\t}","title":"Java overriding equals() and hashcode() for two interchangeable integers","body":"<p>Typically I use XOR for hashcode method.</p>\n\n<pre><code>@Override\npublic int hashCode() {\n    return from ^ to;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1365427597,"creation_date":1365423201,"answer_id":15878758,"question_id":15877914,"body_markdown":"Three solutions that would &quot;work&quot; have been proposed.  (By work, I mean that they satisfy the basic requirement of a hashcode ... that different inputs give different outputs ... and they also satisfy the OP&#39;s additional &quot;symmetry&quot; requirement.)\r\n\r\nThese are:\r\n\r\n       # 1\r\n       return from ^ to;\r\n    \r\n       # 2\r\n       return to*to+from*from;\r\n    \r\n       # 3\r\n       int res = 17;\r\n       res = res * 31 + Math.min(from, to);\r\n       res = res * 31 + Math.max(from, to);\r\n       return res;\r\n\r\nThe first one has the problem that the range of the output is bounded by the range of the actual input values.  So for instance if we assume that the inputs are both non-negative numbers less or equal to 2&lt;sup&gt;i&lt;/sup&gt; and 2&lt;sup&gt;j&lt;/sup&gt; respectively, then the output will be less or equal to 2&lt;sup&gt;max(i,j)&lt;/sup&gt;.  That is likely to give you poor &quot;dispersion&quot;&lt;sup&gt;1&lt;/sup&gt; in your hash table ... and a higher rate of collisions.  (There is also a problem when `from == to`!)\r\n\r\nThe second and third ones are better than the first, but you are still liable to get more collisions than is desirable if `from` and `to` are small.\r\n\r\n--------------------------\r\n\r\nI would suggest a 4th alternative if it is critical that you minimize collisions for small values of `from` and `to`.\r\n\r\n      #4\r\n      int res = Math.max(from, to);\r\n      res = (res &lt;&lt; 16) | (res &gt;&gt;&gt; 16);  // exchange top and bottom 16 bits.\r\n      res = res ^ Math.min(from, to);\r\n      return res;\r\n\r\nThis has the advantage that if `from` and `to` are both in the range 0..2&lt;sup&gt;16&lt;/sup&gt;-1, you get a unique hashcode for each distinct (unordered) pair.\r\n\r\n-------------------------------------------\r\n\r\n&lt;sup&gt;1 - I don&#39;t know if this is the correct technical term for this ...&lt;/sup&gt;","title":"Java overriding equals() and hashcode() for two interchangeable integers","body":"<p>Three solutions that would \"work\" have been proposed.  (By work, I mean that they satisfy the basic requirement of a hashcode ... that different inputs give different outputs ... and they also satisfy the OP's additional \"symmetry\" requirement.)</p>\n\n<p>These are:</p>\n\n<pre><code>   # 1\n   return from ^ to;\n\n   # 2\n   return to*to+from*from;\n\n   # 3\n   int res = 17;\n   res = res * 31 + Math.min(from, to);\n   res = res * 31 + Math.max(from, to);\n   return res;\n</code></pre>\n\n<p>The first one has the problem that the range of the output is bounded by the range of the actual input values.  So for instance if we assume that the inputs are both non-negative numbers less or equal to 2<sup>i</sup> and 2<sup>j</sup> respectively, then the output will be less or equal to 2<sup>max(i,j)</sup>.  That is likely to give you poor \"dispersion\"<sup>1</sup> in your hash table ... and a higher rate of collisions.  (There is also a problem when <code>from == to</code>!)</p>\n\n<p>The second and third ones are better than the first, but you are still liable to get more collisions than is desirable if <code>from</code> and <code>to</code> are small.</p>\n\n<hr>\n\n<p>I would suggest a 4th alternative if it is critical that you minimize collisions for small values of <code>from</code> and <code>to</code>.</p>\n\n<pre><code>  #4\n  int res = Math.max(from, to);\n  res = (res &lt;&lt; 16) | (res &gt;&gt;&gt; 16);  // exchange top and bottom 16 bits.\n  res = res ^ Math.min(from, to);\n  return res;\n</code></pre>\n\n<p>This has the advantage that if <code>from</code> and <code>to</code> are both in the range 0..2<sup>16</sup>-1, you get a unique hashcode for each distinct (unordered) pair.</p>\n\n<hr>\n\n<p><sup>1 - I don't know if this is the correct technical term for this ...</sup></p>\n"},{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402842738,"creation_date":1402842738,"answer_id":24230617,"question_id":15877914,"body_markdown":"I wonder why nobody offered the usually best solution: *Normalize your data*:\r\n\r\n     Connection(int from, int to) {\r\n          this.from = Math.min(from, to);\r\n          this.to = Math.max(from, to);\r\n     }\r\n\r\nIf it&#39;s impossible, then I&#39;d suggest something like\r\n\r\n     27644437 * (from+to) + Math.min(from, to)\r\n\r\n- By a using a multiplier different from 31, you avoid collisions like in [this question][1].\r\n- By using a big multiplier you spread the numbers better.\r\n- By using an odd multiplier you ensure that the multiplication is bijective (i.e., no information gets lost).\r\n\r\n- By using a *prime* you gain *nothing at all*, but everyone does it and it has no disadvantage.\r\n\r\n[1]: https://stackoverflow.com/q/13785353/581205\r\n","title":"Java overriding equals() and hashcode() for two interchangeable integers","body":"<p>I wonder why nobody offered the usually best solution: <em>Normalize your data</em>:</p>\n\n<pre><code> Connection(int from, int to) {\n      this.from = Math.min(from, to);\n      this.to = Math.max(from, to);\n }\n</code></pre>\n\n<p>If it's impossible, then I'd suggest something like</p>\n\n<pre><code> 27644437 * (from+to) + Math.min(from, to)\n</code></pre>\n\n<ul>\n<li>By a using a multiplier different from 31, you avoid collisions like in <a href=\"https://stackoverflow.com/q/13785353/581205\">this question</a>.</li>\n<li>By using a big multiplier you spread the numbers better.</li>\n<li><p>By using an odd multiplier you ensure that the multiplication is bijective (i.e., no information gets lost).</p></li>\n<li><p>By using a <em>prime</em> you gain <em>nothing at all</em>, but everyone does it and it has no disadvantage.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2505018,"reputation":65,"user_id":2179002,"display_name":"answer42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649124650,"creation_date":1649124650,"answer_id":71745620,"question_id":15877914,"body_markdown":"Java 1.7+ have Objects.hash\r\n```\r\n@Override\r\npublic int hashCode() {\r\n    return Objects.hash(from, to);\r\n}\r\n```","title":"Java overriding equals() and hashcode() for two interchangeable integers","body":"<p>Java 1.7+ have Objects.hash</p>\n<pre><code>@Override\npublic int hashCode() {\n    return Objects.hash(from, to);\n}\n</code></pre>\n"}],"owner":{"account_id":2017350,"reputation":1410,"user_id":1804325,"accept_rate":80,"display_name":"Twice Circled"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3712,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":15877964,"answer_count":6,"score":10,"last_activity_date":1649124650,"creation_date":1365420630,"question_id":15877914,"body_markdown":"I&#39;m overriding the equals and hashcode methods for a simple container object for two ints. Each int reflects the index of another object (it doesn&#39;t matter what that object is). The point of the class is to represent a connection between the two objects.\r\n\r\nThe direction of the connection doesn&#39;t matter, therefore the equals method should return true regardless of which way round the two ints are in the object E.g.\r\n\r\n    connectionA = new Connection(1,2);\r\n    connectionB = new Connection(1,3);\r\n    connectionC = new Connection(2,1);\r\n    \r\n    connectionA.equals(connectionB); // returns false\r\n    connectionA.equals(connectionC); // returns true\r\n\r\nHere is what I have (modified from the source code for Integer):\r\n\r\n    public class Connection {\r\n        // Simple container for two numbers which are connected.\r\n        // Two Connection objects are equal regardless of the order of from and to.\r\n\r\n        int from;\r\n        int to;\r\n\r\n        public Connection(int from, int to) {\r\n\t        this.from = from;\r\n\t        this.to = to;\r\n\t    }\r\n\r\n\t    // Modifed from Integer source code\r\n\t    @Override\r\n\t    public boolean equals(Object obj) {\r\n\t\t    if (obj instanceof Connection) {\r\n\t\t    \tConnection connectionObj = (Connection) obj;\r\n\t\t\t    return ((from == connectionObj.from &amp;&amp; to == connectionObj.to) || (from == connectionObj.to &amp;&amp; to == connectionObj.from));\r\n\t\t    }\r\n\t\t    return false;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public int hashCode() {\r\n\t\t    return from*to;\r\n\t    }\r\n    }\r\n\r\nThis does work however my question is: Is there a better way to achieve this?\r\n\r\nMy main worry is with the hashcode() method will return the same hashcode for any two integers which multiply to equal the same number. E.g.\r\n\r\n    3*4 = 12\r\n    2*6 = 12 // same!\r\n\r\nThe documentation, http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html#hashCode(), states that\r\n\r\n&gt; It is not required that if two objects are unequal according to the\r\n&gt; equals(java.lang.Object) method, then calling the hashCode method on\r\n&gt; each of the two objects must produce distinct integer results.\r\n&gt; However, the programmer should be aware that producing distinct\r\n&gt; integer results for unequal objects may improve the performance of\r\n&gt; hashtables.\r\n\r\nIf anyone can see a simple way of reducing the number of matching hashcodes then I would be appreciative of an answer.\r\n\r\nThanks!\r\n\r\nTim\r\n    \r\n\r\nPS I&#39;m aware that there is a java.sql.Connection which could cause some import annoyances. The object actually has a more specific name in my application but for brevity I shortened it to Connection here.","title":"Java overriding equals() and hashcode() for two interchangeable integers","body":"<p>I'm overriding the equals and hashcode methods for a simple container object for two ints. Each int reflects the index of another object (it doesn't matter what that object is). The point of the class is to represent a connection between the two objects.</p>\n\n<p>The direction of the connection doesn't matter, therefore the equals method should return true regardless of which way round the two ints are in the object E.g.</p>\n\n<pre><code>connectionA = new Connection(1,2);\nconnectionB = new Connection(1,3);\nconnectionC = new Connection(2,1);\n\nconnectionA.equals(connectionB); // returns false\nconnectionA.equals(connectionC); // returns true\n</code></pre>\n\n<p>Here is what I have (modified from the source code for Integer):</p>\n\n<pre><code>public class Connection {\n    // Simple container for two numbers which are connected.\n    // Two Connection objects are equal regardless of the order of from and to.\n\n    int from;\n    int to;\n\n    public Connection(int from, int to) {\n        this.from = from;\n        this.to = to;\n    }\n\n    // Modifed from Integer source code\n    @Override\n    public boolean equals(Object obj) {\n        if (obj instanceof Connection) {\n            Connection connectionObj = (Connection) obj;\n            return ((from == connectionObj.from &amp;&amp; to == connectionObj.to) || (from == connectionObj.to &amp;&amp; to == connectionObj.from));\n        }\n        return false;\n    }\n\n    @Override\n    public int hashCode() {\n        return from*to;\n    }\n}\n</code></pre>\n\n<p>This does work however my question is: Is there a better way to achieve this?</p>\n\n<p>My main worry is with the hashcode() method will return the same hashcode for any two integers which multiply to equal the same number. E.g.</p>\n\n<pre><code>3*4 = 12\n2*6 = 12 // same!\n</code></pre>\n\n<p>The documentation, <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html#hashCode()\">http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html#hashCode()</a>, states that</p>\n\n<blockquote>\n  <p>It is not required that if two objects are unequal according to the\n  equals(java.lang.Object) method, then calling the hashCode method on\n  each of the two objects must produce distinct integer results.\n  However, the programmer should be aware that producing distinct\n  integer results for unequal objects may improve the performance of\n  hashtables.</p>\n</blockquote>\n\n<p>If anyone can see a simple way of reducing the number of matching hashcodes then I would be appreciative of an answer.</p>\n\n<p>Thanks!</p>\n\n<p>Tim</p>\n\n<p>PS I'm aware that there is a java.sql.Connection which could cause some import annoyances. The object actually has a more specific name in my application but for brevity I shortened it to Connection here.</p>\n"},{"tags":["java","android","mqtt","paho"],"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":2,"creation_date":1649063123,"post_id":71734183,"comment_id":126772277,"body_markdown":"I feel this question is too broad. You are basically asking us to run and debug your code.","body":"I feel this question is too broad. You are basically asking us to run and debug your code."},{"owner":{"account_id":24740824,"reputation":133,"user_id":18627591,"display_name":"AndroidE"},"score":0,"creation_date":1649063896,"post_id":71734183,"comment_id":126772554,"body_markdown":"@AdriaanKoster Hmm, no. I&#39;m just asking for someone to suggest to me to put the reconnecting code.","body":"@AdriaanKoster Hmm, no. I&#39;m just asking for someone to suggest to me to put the reconnecting code."},{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1649064910,"post_id":71734183,"comment_id":126772948,"body_markdown":"You need to edit this code down to basically remove all the Bluetooth code so it is just the MQTT connection/reconnect code that you are having problems with. And show what you&#39;ve already tried and how it didn&#39;t work.","body":"You need to edit this code down to basically remove all the Bluetooth code so it is just the MQTT connection/reconnect code that you are having problems with. And show what you&#39;ve already tried and how it didn&#39;t work."},{"owner":{"account_id":24740824,"reputation":133,"user_id":18627591,"display_name":"AndroidE"},"score":0,"creation_date":1649124285,"post_id":71734183,"comment_id":126791037,"body_markdown":"@hardillb ok. I will edit it","body":"@hardillb ok. I will edit it"}],"owner":{"account_id":24740824,"reputation":133,"user_id":18627591,"display_name":"AndroidE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1649124448,"creation_date":1649061294,"question_id":71734183,"body_markdown":"I&#39;m have some project, realtime sending RSSI and MAC of Bluetooth Low Energy.\r\nI&#39;ve seen questions regarding MQTT reconnecting. But I&#39;m confused when it is applied to my origin code. \r\n\r\nMainActivity.Java\r\n\r\n   \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private Button turnon, changeLayout;\r\n        MqttAndroidClient client;\r\n        private boolean state=false;\r\n        private BluetoothAdapter bluetoothAdapter;\r\n        public static final int REQUEST_ACCESS_COARSE_LOCATION = 1;\r\n        public static final int REQUEST_ENABLE_BLUETOOTH = 11;\r\n        public static String mqtt_server,mqtt_port,mqtt_id,mqtt_topic;\r\n        private TextView textView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            getSupportActionBar().hide();\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            Log.d(&quot;Logger&quot;, &quot;On Create Android&quot;);\r\n    \r\n            turnon = findViewById(R.id.turnon);\r\n            changeLayout = findViewById(R.id.mqttSet);\r\n            bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n            textView = findViewById(R.id.textView4);\r\n    \r\n            textView.setText(&quot;id &quot;+mqtt_id+&quot; port &quot;+mqtt_port+&quot; server &quot;+mqtt_server);\r\n            client = new MqttAndroidClient(this.getApplicationContext(), &quot;tcp://&quot;+mqtt_server+&quot;:&quot;+mqtt_port,mqtt_id);\r\n    \r\n            final Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    stateCheck();\r\n                    Log.d(&quot;Logger&quot;, &quot;State Check&quot;);\r\n                    handler.postDelayed(this, 1000);\r\n                }\r\n            }, 1000);\r\n    \r\n            turnon.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (!state){\r\n                        turnon.setText(&quot;Turn Off&quot;);\r\n                        Log.d(&quot;Logger&quot;, &quot;Turn On State&quot;);\r\n                        if(mqtt_server!=null||mqtt_id!=null||mqtt_port!=null||mqtt_topic!=null){\r\n                        try {\r\n                            Log.d(&quot;Logger&quot;, &quot;Try &quot;);\r\n                            IMqttToken token = client.connect();\r\n                            token.setActionCallback(new IMqttActionListener() {\r\n                                @Override\r\n                                public void onSuccess(IMqttToken asyncActionToken) {\r\n                                    Log.d(&quot;Logger&quot;, &quot;Connect MQTT&quot;);\r\n                                    Toast.makeText(MainActivity.this,&quot;connected!!&quot;,Toast.LENGTH_LONG).show();\r\n    \r\n                                }\r\n    \r\n                                @Override\r\n                                public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\r\n                                    Log.d(&quot;Logger&quot;, &quot;Connect Failed&quot;);\r\n                                    Toast.makeText(MainActivity.this,&quot;connection failed!!&quot;,Toast.LENGTH_LONG).show();\r\n                                }\r\n                            });\r\n                        } catch (MqttException e) {\r\n                            e.printStackTrace();\r\n                            Log.d(&quot;Logger&quot;, &quot;error&quot;+e);\r\n                        }}\r\n                        state = true;\r\n                    }else{\r\n                        turnon.setText(&quot;Turn On&quot;);\r\n                        state = false;\r\n                    }\r\n                }\r\n            });\r\n    \r\n            changeLayout.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    startActivity(new Intent(MainActivity.this,MqttActivity.class));\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void stateCheck(){\r\n        if (state){\r\n            Log.d(&quot;Logger&quot;, &quot;Discover&quot;);   \r\n        }\r\n        }\r\n    \r\n    }\r\n\r\nThe code I made has not been able to reconnect when my server restarts.\r\nCan anyone help me? But I&#39;m asking for help with indicating which code I should change. Thanks","title":"How to reconnect MQTT with this program?","body":"<p>I'm have some project, realtime sending RSSI and MAC of Bluetooth Low Energy.\nI've seen questions regarding MQTT reconnecting. But I'm confused when it is applied to my origin code.</p>\n<p>MainActivity.Java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private Button turnon, changeLayout;\n    MqttAndroidClient client;\n    private boolean state=false;\n    private BluetoothAdapter bluetoothAdapter;\n    public static final int REQUEST_ACCESS_COARSE_LOCATION = 1;\n    public static final int REQUEST_ENABLE_BLUETOOTH = 11;\n    public static String mqtt_server,mqtt_port,mqtt_id,mqtt_topic;\n    private TextView textView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getSupportActionBar().hide();\n        setContentView(R.layout.activity_main);\n\n        Log.d(&quot;Logger&quot;, &quot;On Create Android&quot;);\n\n        turnon = findViewById(R.id.turnon);\n        changeLayout = findViewById(R.id.mqttSet);\n        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n        textView = findViewById(R.id.textView4);\n\n        textView.setText(&quot;id &quot;+mqtt_id+&quot; port &quot;+mqtt_port+&quot; server &quot;+mqtt_server);\n        client = new MqttAndroidClient(this.getApplicationContext(), &quot;tcp://&quot;+mqtt_server+&quot;:&quot;+mqtt_port,mqtt_id);\n\n        final Handler handler = new Handler();\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                stateCheck();\n                Log.d(&quot;Logger&quot;, &quot;State Check&quot;);\n                handler.postDelayed(this, 1000);\n            }\n        }, 1000);\n\n        turnon.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (!state){\n                    turnon.setText(&quot;Turn Off&quot;);\n                    Log.d(&quot;Logger&quot;, &quot;Turn On State&quot;);\n                    if(mqtt_server!=null||mqtt_id!=null||mqtt_port!=null||mqtt_topic!=null){\n                    try {\n                        Log.d(&quot;Logger&quot;, &quot;Try &quot;);\n                        IMqttToken token = client.connect();\n                        token.setActionCallback(new IMqttActionListener() {\n                            @Override\n                            public void onSuccess(IMqttToken asyncActionToken) {\n                                Log.d(&quot;Logger&quot;, &quot;Connect MQTT&quot;);\n                                Toast.makeText(MainActivity.this,&quot;connected!!&quot;,Toast.LENGTH_LONG).show();\n\n                            }\n\n                            @Override\n                            public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\n                                Log.d(&quot;Logger&quot;, &quot;Connect Failed&quot;);\n                                Toast.makeText(MainActivity.this,&quot;connection failed!!&quot;,Toast.LENGTH_LONG).show();\n                            }\n                        });\n                    } catch (MqttException e) {\n                        e.printStackTrace();\n                        Log.d(&quot;Logger&quot;, &quot;error&quot;+e);\n                    }}\n                    state = true;\n                }else{\n                    turnon.setText(&quot;Turn On&quot;);\n                    state = false;\n                }\n            }\n        });\n\n        changeLayout.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(new Intent(MainActivity.this,MqttActivity.class));\n            }\n        });\n    }\n\n    public void stateCheck(){\n    if (state){\n        Log.d(&quot;Logger&quot;, &quot;Discover&quot;);   \n    }\n    }\n\n}\n</code></pre>\n<p>The code I made has not been able to reconnect when my server restarts.\nCan anyone help me? But I'm asking for help with indicating which code I should change. Thanks</p>\n"},{"tags":["java","eclipse","javafx","jlink","jpackage"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649161465,"post_id":71745518,"comment_id":126801103,"body_markdown":"Who will use your app? how many users? on what platforms? how will they obtain it? how will they install it? how will they uninstall it? how will they run it? what is too big? what is not too big? how will they update it?  I see so many questions about jar packaging for JavaFX applications, even though it is not recommended (see [javafx tag packaging info](https://stackoverflow.com/tags/javafx/info)).  I just wonder what the answers to these kind of questions are because nobody provides that info in the questions.","body":"Who will use your app? how many users? on what platforms? how will they obtain it? how will they install it? how will they uninstall it? how will they run it? what is too big? what is not too big? how will they update it?  I see so many questions about jar packaging for JavaFX applications, even though it is not recommended (see <a href=\"https://stackoverflow.com/tags/javafx/info\">javafx tag packaging info</a>).  I just wonder what the answers to these kind of questions are because nobody provides that info in the questions."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649161670,"post_id":71745518,"comment_id":126801173,"body_markdown":"If you want jar packaging in the smallest possible jar file, then rely on a JRE install that includes JavaFX, e.g. Liberica &quot;Full JRE&quot; or Zulu &quot;JRE FX&quot; or a custom JRE you create using jlink.","body":"If you want jar packaging in the smallest possible jar file, then rely on a JRE install that includes JavaFX, e.g. Liberica &quot;Full JRE&quot; or Zulu &quot;JRE FX&quot; or a custom JRE you create using jlink."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1649161812,"post_id":71745518,"comment_id":126801225,"body_markdown":"JavaFX-web-17.0.2-linux.jar is the web engine for Linux.   JavaFX-web-17.0.2-win.jar is the WebEngine for Windows.   I do not know why you were exporting these because your project does not use them.","body":"JavaFX-web-17.0.2-linux.jar is the web engine for Linux.   JavaFX-web-17.0.2-win.jar is the WebEngine for Windows.   I do not know why you were exporting these because your project does not use them."},{"owner":{"account_id":15830847,"reputation":1,"user_id":11422205,"display_name":"Reinvert"},"score":0,"creation_date":1649402184,"post_id":71745518,"comment_id":126870705,"body_markdown":"I finally resolved it. I rebuilt my pom.xml file, and exported to jar file(same menu option), it reduced to 11MB(no need to proceed jlink, because google json library kept it from jlink command). For someone who suffer this problem, I leave my pom.xml file which is finally resolved. https://github.com/reinvert/CrossStitchConverter/blob/master/pom.xml","body":"I finally resolved it. I rebuilt my pom.xml file, and exported to jar file(same menu option), it reduced to 11MB(no need to proceed jlink, because google json library kept it from jlink command). For someone who suffer this problem, I leave my pom.xml file which is finally resolved. <a href=\"https://github.com/reinvert/CrossStitchConverter/blob/master/pom.xml\" rel=\"nofollow noreferrer\">github.com/reinvert/CrossStitchConverter/blob/master/pom.xml</a>"}],"owner":{"account_id":15830847,"reputation":1,"user_id":11422205,"display_name":"Reinvert"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649123769,"creation_date":1649123335,"question_id":71745518,"body_markdown":"I have my own project(&lt;https://github.com/reinvert/CrossStitchConverter&gt;)\r\n\r\nAnd I always compile the project on eclipse by File-Export-Runnable JAR File-(Library handling)Package required libraries into generated JAR.\r\n\r\nIt works fine, but the jar file size is too big(83.0MB)\r\n\r\nHow can I reduce the file size?\r\n\r\nI tried jlink, jpackage, and etc, but none of those have an effect.\r\n\r\nThis is my pom.xml file\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;CrossStitchConverter&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;CrossStitchConverter&lt;/artifactId&gt;\r\n\t&lt;version&gt;1&lt;/version&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.0.8&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;CrossStitchConverter&lt;/mainClass&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;17.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.palexdev&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;materialfx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.13.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI found large library file(JavaFX-web-17.0.2-linux.jar and JavaFX-web-17.0.2-win.jar, which is total 50MB) in exported jar file, so I deleted these file and tried to run jar file, it worked. I think other unused jar library can be removed as those, but I can&#39;t find an option for it.","title":"Exported JavaFX Application file size is too big","body":"<p>I have my own project(<a href=\"https://github.com/reinvert/CrossStitchConverter\" rel=\"nofollow noreferrer\">https://github.com/reinvert/CrossStitchConverter</a>)</p>\n<p>And I always compile the project on eclipse by File-Export-Runnable JAR File-(Library handling)Package required libraries into generated JAR.</p>\n<p>It works fine, but the jar file size is too big(83.0MB)</p>\n<p>How can I reduce the file size?</p>\n<p>I tried jlink, jpackage, and etc, but none of those have an effect.</p>\n<p>This is my pom.xml file</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;CrossStitchConverter&lt;/groupId&gt;\n    &lt;artifactId&gt;CrossStitchConverter&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n    &lt;build&gt;\n        &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;CrossStitchConverter&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.palexdev&lt;/groupId&gt;\n            &lt;artifactId&gt;materialfx&lt;/artifactId&gt;\n            &lt;version&gt;11.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I found large library file(JavaFX-web-17.0.2-linux.jar and JavaFX-web-17.0.2-win.jar, which is total 50MB) in exported jar file, so I deleted these file and tried to run jar file, it worked. I think other unused jar library can be removed as those, but I can't find an option for it.</p>\n"},{"tags":["java","eclipse","macos","shell"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1649141167,"post_id":71744865,"comment_id":126793733,"body_markdown":"To run on macOS 12 you need a very recent version of Eclipse and these require at least Java 11.","body":"To run on macOS 12 you need a very recent version of Eclipse and these require at least Java 11."},{"owner":{"account_id":24827559,"reputation":1,"user_id":18707141,"display_name":"Reeen"},"score":0,"creation_date":1649142854,"post_id":71744865,"comment_id":126794236,"body_markdown":"I&#39;m on macOS 10.15.7 (Catalina)","body":"I&#39;m on macOS 10.15.7 (Catalina)"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1649166989,"post_id":71744865,"comment_id":126803609,"body_markdown":".ini files are configuration, you cannot execute them. After installing, I can just open Eclipse like any other macos app. I don&#39;t know why you need a script.","body":".ini files are configuration, you cannot execute them. After installing, I can just open Eclipse like any other macos app. I don&#39;t know why you need a script."}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649122967,"creation_date":1649122544,"answer_id":71745450,"question_id":71744865,"body_markdown":"It does not make sense to add the .ini file, it is for startup options. You need the native launcher binary, the equivalent of `eclipse/eclipse` on Linux.\r\n\r\nThe native launcher binary on macOS is packaged as `Eclipse.app/Contents/MacOS/eclipse`. You can list properly installed JREs using `/usr/libexec/java_home`; I suggest running it with `--help`.","title":"adapting a start (shell?) script for Eclipse to MacOS (Windows and Linux examples given)","body":"<p>It does not make sense to add the .ini file, it is for startup options. You need the native launcher binary, the equivalent of <code>eclipse/eclipse</code> on Linux.</p>\n<p>The native launcher binary on macOS is packaged as <code>Eclipse.app/Contents/MacOS/eclipse</code>. You can list properly installed JREs using <code>/usr/libexec/java_home</code>; I suggest running it with <code>--help</code>.</p>\n"}],"owner":{"account_id":24827559,"reputation":1,"user_id":18707141,"display_name":"Reeen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649122967,"creation_date":1649115786,"question_id":71744865,"body_markdown":"I&#39;m trying to follow an instruction on how to place versions of Eclipse and OpenJDK in a separate folder and run them by executing a small program named eclipsestart. We are working with an older JDK version and the goal is to have this separate from other Java versions already installed and to use the same environment as everyone else in the class.\r\n\r\nThis is the setup of the folder:\r\n\r\n- Eclipse\r\n\r\n- jdk1.8 (openJDK 8)\r\n\r\n- workspace (where all java files will be stored)\r\n\r\n- eclipsestart.txt\r\n\r\nI  have examples of what the code in eclipsestart looks like for Windows and Linux operating systems, but don&#39;t know how to adapt the code for macOS Catalina.\r\n\r\nCode for Windows:\r\n\r\n    start eclipse\\\\eclipse.exe -vm &quot;jdk1.8\\\\jre\\\\bin\\\\javaw.exe&quot; -data &quot;workspace&quot;\r\n\r\n\\--\\&gt; write code in txt-file and change name to eclipsestart.cmd\r\n\r\nCode for Linux:\r\n\r\n    #!/bin/sh\r\n    ./eclipse/eclipse -vm jdk1.8/jre/bin/java -data workspace -showlocation &amp;\r\n\r\n\\--\\&gt; write code in txt-file and make file executable by „chmod +x eclipsestart“\r\n\r\nCan anyone help me to adapt this small script to its equivalent for MacOS?\r\n\r\nI think I should keep most of the Linux version.\r\n\r\nI changed the filename to eclipsestart.sh and executed the following in Terminal:\r\n\r\n    chmod u+x eclipsestart.sh \r\n    eclipsestart.sh\r\n\r\nIt starts running but tells me \r\n\r\n    ./eclipsestart.sh: line 2: ./eclipse/eclipse: No such file or directory  \r\n\r\nI saw that there is a file ./eclipse/eclipse.ini , so I changed eclipsestart.sh accordingly. I could also see that the directory for java in jdk1.8 is different from the Linux one, so changed that as well:\r\n\r\n        #!/bin/sh\r\n    ./eclipse/eclipse.ini -vm jdk1.8/Contents/Home/jre/bin/java -data workspace -showlocation &amp;\r\n\r\nUnfortunately I get \r\n\r\n    ./eclipsestart.sh: line 2: ./eclipse/eclipse.ini: Permission denied  \r\n\r\nDoes it make sense to add the *.ini? Or should I be looking for another file? Can I work around the &quot;permission denied&quot;-error?","title":"adapting a start (shell?) script for Eclipse to MacOS (Windows and Linux examples given)","body":"<p>I'm trying to follow an instruction on how to place versions of Eclipse and OpenJDK in a separate folder and run them by executing a small program named eclipsestart. We are working with an older JDK version and the goal is to have this separate from other Java versions already installed and to use the same environment as everyone else in the class.</p>\n<p>This is the setup of the folder:</p>\n<ul>\n<li><p>Eclipse</p>\n</li>\n<li><p>jdk1.8 (openJDK 8)</p>\n</li>\n<li><p>workspace (where all java files will be stored)</p>\n</li>\n<li><p>eclipsestart.txt</p>\n</li>\n</ul>\n<p>I  have examples of what the code in eclipsestart looks like for Windows and Linux operating systems, but don't know how to adapt the code for macOS Catalina.</p>\n<p>Code for Windows:</p>\n<pre><code>start eclipse\\\\eclipse.exe -vm &quot;jdk1.8\\\\jre\\\\bin\\\\javaw.exe&quot; -data &quot;workspace&quot;\n</code></pre>\n<p>--&gt; write code in txt-file and change name to eclipsestart.cmd</p>\n<p>Code for Linux:</p>\n<pre><code>#!/bin/sh\n./eclipse/eclipse -vm jdk1.8/jre/bin/java -data workspace -showlocation &amp;\n</code></pre>\n<p>--&gt; write code in txt-file and make file executable by „chmod +x eclipsestart“</p>\n<p>Can anyone help me to adapt this small script to its equivalent for MacOS?</p>\n<p>I think I should keep most of the Linux version.</p>\n<p>I changed the filename to eclipsestart.sh and executed the following in Terminal:</p>\n<pre><code>chmod u+x eclipsestart.sh \neclipsestart.sh\n</code></pre>\n<p>It starts running but tells me</p>\n<pre><code>./eclipsestart.sh: line 2: ./eclipse/eclipse: No such file or directory  \n</code></pre>\n<p>I saw that there is a file ./eclipse/eclipse.ini , so I changed eclipsestart.sh accordingly. I could also see that the directory for java in jdk1.8 is different from the Linux one, so changed that as well:</p>\n<pre><code>    #!/bin/sh\n./eclipse/eclipse.ini -vm jdk1.8/Contents/Home/jre/bin/java -data workspace -showlocation &amp;\n</code></pre>\n<p>Unfortunately I get</p>\n<pre><code>./eclipsestart.sh: line 2: ./eclipse/eclipse.ini: Permission denied  \n</code></pre>\n<p>Does it make sense to add the *.ini? Or should I be looking for another file? Can I work around the &quot;permission denied&quot;-error?</p>\n"},{"tags":["java","ios","xcode","cordova"],"answers":[{"tags":[],"owner":{"account_id":389916,"reputation":9994,"user_id":749657,"accept_rate":83,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649121476,"creation_date":1649113251,"answer_id":71744644,"question_id":71743057,"body_markdown":"You are confused. The package name is not the app name. Your package is `com.companyname.PolarisSearch` but the name of your app will be set in your config.xml\r\n\r\n     &lt;name&gt;Polaris Search&lt;/name&gt;\r\n\r\nJust edit your config.xml name node. Alternatively, you could locate in the `info.pList` file\r\n\r\n     CFBundleDisplayName\r\n\r\nAnd set the value to \r\n\r\n     Polaris\\U2007Search\r\n","title":"Need assistance with the way Cordova is naming and/or displaying app name","body":"<p>You are confused. The package name is not the app name. Your package is <code>com.companyname.PolarisSearch</code> but the name of your app will be set in your config.xml</p>\n<pre><code> &lt;name&gt;Polaris Search&lt;/name&gt;\n</code></pre>\n<p>Just edit your config.xml name node. Alternatively, you could locate in the <code>info.pList</code> file</p>\n<pre><code> CFBundleDisplayName\n</code></pre>\n<p>And set the value to</p>\n<pre><code> Polaris\\U2007Search\n</code></pre>\n"}],"owner":{"account_id":9210650,"reputation":3,"user_id":6843972,"display_name":"Dustin Tinsley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649121476,"creation_date":1649101944,"question_id":71743057,"body_markdown":"I have an app developed in Cordova that I am having an issue with the way it names my app. My package name is like this &quot;com.companyname.PolarisSearch&quot;. The app name should be Polaris Search. When is run, the app shows up as PolarisSearch on iOS. For some reason, the space is just deleted. I can rename my app the ANYTHING other than Polaris Search, and the space shows up just fine. It is just if the name matches the last part of the package name. This is all on Mac OS using Xcode. Does anyone know of a work around for this or how to fix this issue without renaming my package as it has already been submitted and approved on the App Store.\r\n\r\nI have tried so far the following:\r\n\r\nRemoving the iOS build and re-adding it.\r\nUsing the plugin cordova-plugin-app-name\r\nCreating a new app and starting from scratch with same package name and app name. \r\n\r\nEvery time, it will delete that space from the name.","title":"Need assistance with the way Cordova is naming and/or displaying app name","body":"<p>I have an app developed in Cordova that I am having an issue with the way it names my app. My package name is like this &quot;com.companyname.PolarisSearch&quot;. The app name should be Polaris Search. When is run, the app shows up as PolarisSearch on iOS. For some reason, the space is just deleted. I can rename my app the ANYTHING other than Polaris Search, and the space shows up just fine. It is just if the name matches the last part of the package name. This is all on Mac OS using Xcode. Does anyone know of a work around for this or how to fix this issue without renaming my package as it has already been submitted and approved on the App Store.</p>\n<p>I have tried so far the following:</p>\n<p>Removing the iOS build and re-adding it.\nUsing the plugin cordova-plugin-app-name\nCreating a new app and starting from scratch with same package name and app name.</p>\n<p>Every time, it will delete that space from the name.</p>\n"},{"tags":["java","loops","for-loop","calendar"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1649120557,"post_id":71745257,"comment_id":126790491,"body_markdown":"`future` is always equal to `current`","body":"<code>future</code> is always equal to <code>current</code>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1649121486,"post_id":71745257,"comment_id":126790627,"body_markdown":"The two lines where you initialise `current` and `future` need to be BEFORE the `for` loop, not inside it, otherwise you just reset them every time through.  So you could just move them up a couple of lines, and your problem would be solved.  You should also stop using `Calendar` and use `LocalDate` instead, although that&#39;s kind of a different issue.  Put those two ideas together, and you get MadProgrammer&#39;s answer.","body":"The two lines where you initialise <code>current</code> and <code>future</code> need to be BEFORE the <code>for</code> loop, not inside it, otherwise you just reset them every time through.  So you could just move them up a couple of lines, and your problem would be solved.  You should also stop using <code>Calendar</code> and use <code>LocalDate</code> instead, although that&#39;s kind of a different issue.  Put those two ideas together, and you get MadProgrammer&#39;s answer."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649244561,"post_id":71745257,"comment_id":126825524,"body_markdown":"I recommend you don’t use `Calendar`. That class is poorly designed and long outdated. Instead use classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>Calendar</code>. That class is poorly designed and long outdated. Instead use classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649120788,"creation_date":1649120788,"answer_id":71745312,"question_id":71745257,"body_markdown":"On each iteration of the loop, you make `future` equal to `current`\r\n\r\n    current = Calendar.getInstance();\r\n    future = (Calendar) current.clone();\r\n\r\nSo your `if` condition will always be true.\r\n\r\nInstead, dump the `Calendar` class, it&#39;s out-of-date and error prone (and somewhat confusing to use) and start making use of the `java.time` APIs instead.\r\n\r\nStart by seeding the current date and future date values, then on each iteration, check if they match, if they do, set the future date again. For example...\r\n\r\n\r\n    import java.time.LocalDate;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            LocalDate date = LocalDate.now();\r\n            LocalDate triggerDate = date.plusDays(7);\r\n\r\n            for (int index = 0; index &lt; 80; index++) {\r\n                if (date.equals(triggerDate)) {\r\n                    System.out.println(&quot;[&quot; + index + &quot;] Show me the money!!&quot;);\r\n                    triggerDate = date.plusDays(7);\r\n                }\r\n                date = date.plusDays(1);\r\n            }\r\n        }\r\n    }\r\n\r\nwhich prints\r\n\r\n    [7] Show me the money!!\r\n    [14] Show me the money!!\r\n    [21] Show me the money!!\r\n    [28] Show me the money!!\r\n    [35] Show me the money!!\r\n    [42] Show me the money!!\r\n    [49] Show me the money!!\r\n    [56] Show me the money!!\r\n    [63] Show me the money!!\r\n    [70] Show me the money!!\r\n    [77] Show me the money!!","title":"How to write a function that triggers two Calendar objects once every 7 days?","body":"<p>On each iteration of the loop, you make <code>future</code> equal to <code>current</code></p>\n<pre><code>current = Calendar.getInstance();\nfuture = (Calendar) current.clone();\n</code></pre>\n<p>So your <code>if</code> condition will always be true.</p>\n<p>Instead, dump the <code>Calendar</code> class, it's out-of-date and error prone (and somewhat confusing to use) and start making use of the <code>java.time</code> APIs instead.</p>\n<p>Start by seeding the current date and future date values, then on each iteration, check if they match, if they do, set the future date again. For example...</p>\n<pre><code>import java.time.LocalDate;\n\npublic class Main {\n    public static void main(String[] args) {\n        LocalDate date = LocalDate.now();\n        LocalDate triggerDate = date.plusDays(7);\n\n        for (int index = 0; index &lt; 80; index++) {\n            if (date.equals(triggerDate)) {\n                System.out.println(&quot;[&quot; + index + &quot;] Show me the money!!&quot;);\n                triggerDate = date.plusDays(7);\n            }\n            date = date.plusDays(1);\n        }\n    }\n}\n</code></pre>\n<p>which prints</p>\n<pre><code>[7] Show me the money!!\n[14] Show me the money!!\n[21] Show me the money!!\n[28] Show me the money!!\n[35] Show me the money!!\n[42] Show me the money!!\n[49] Show me the money!!\n[56] Show me the money!!\n[63] Show me the money!!\n[70] Show me the money!!\n[77] Show me the money!!\n</code></pre>\n"}],"owner":{"account_id":13672625,"reputation":1,"user_id":9864980,"display_name":"Mac Gyver"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649120788,"creation_date":1649120151,"question_id":71745257,"body_markdown":"I&#39;m struggling to create a section to a program I&#39;m writing to charge an amount to a credit card in the simulation once every 7 days. In other words, the current day will advance by one day each day and whenever it gets to the future day (set 7 days in the future) the event will occur, and the future day will be reset to another 7 days in the future. This is what I have so far:\r\n\r\n    import java.util.Calendar;\r\n\r\n    public class MyClass {\r\n         public static void main(String args[]) {\r\n      \r\n           int programLength = 80;\r\n           Calendar current, future;\r\n      \r\n           for (int i = 0; i &lt; programLength; i++) {\r\n               current = Calendar.getInstance();\r\n               future = (Calendar) current.clone();\r\n          \r\n               if (current.equals(future)) {\r\n                   System.out.println(i + &quot; Success!&quot;);\r\n                   future.add(Calendar.DATE, 7);\r\n               }\r\n          \r\n               current.add(Calendar.DATE, 1);\r\n           }\r\n      \r\n         }\r\n    }\r\n\r\nThe output is just (i + &quot; Success!&quot;) 80 times, as the for loop runs 80 times. I want the output to be (i + &quot; Success!&quot;) for only one every seven times the loop runs. Help please.","title":"How to write a function that triggers two Calendar objects once every 7 days?","body":"<p>I'm struggling to create a section to a program I'm writing to charge an amount to a credit card in the simulation once every 7 days. In other words, the current day will advance by one day each day and whenever it gets to the future day (set 7 days in the future) the event will occur, and the future day will be reset to another 7 days in the future. This is what I have so far:</p>\n<pre><code>import java.util.Calendar;\n\npublic class MyClass {\n     public static void main(String args[]) {\n  \n       int programLength = 80;\n       Calendar current, future;\n  \n       for (int i = 0; i &lt; programLength; i++) {\n           current = Calendar.getInstance();\n           future = (Calendar) current.clone();\n      \n           if (current.equals(future)) {\n               System.out.println(i + &quot; Success!&quot;);\n               future.add(Calendar.DATE, 7);\n           }\n      \n           current.add(Calendar.DATE, 1);\n       }\n  \n     }\n}\n</code></pre>\n<p>The output is just (i + &quot; Success!&quot;) 80 times, as the for loop runs 80 times. I want the output to be (i + &quot; Success!&quot;) for only one every seven times the loop runs. Help please.</p>\n"},{"tags":["java","arrays","string","split","reverse"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1649071435,"post_id":71736237,"comment_id":126775287,"body_markdown":"Hint : you can do the reversing with one `for` loop and modify `i` and `j` within it at once. Hint 2 : your code right now is effectively filling the `rev` array with the last character from `ori` array and you iterating over `rev` array `rev.length` times.","body":"Hint : you can do the reversing with one <code>for</code> loop and modify <code>i</code> and <code>j</code> within it at once. Hint 2 : your code right now is effectively filling the <code>rev</code> array with the last character from <code>ori</code> array and you iterating over <code>rev</code> array <code>rev.length</code> times."},{"owner":{"account_id":24820360,"reputation":3,"user_id":18700770,"display_name":"Paweł Niewolak"},"score":0,"creation_date":1649072057,"post_id":71736237,"comment_id":126775521,"body_markdown":"&quot;Hint : you can do the reversing with one for loop and modify i and j within it at once&quot; - thanks, I&#39;ll try!\n&quot;Hint 2 : your code right now is effectively filling the rev array with the last character from ori array and you iterating over rev array rev.length times.&quot; - I asked question the the duck why does it fills the last letters only, and found this answer just a minute after writting the post, thanks!","body":"&quot;Hint : you can do the reversing with one for loop and modify i and j within it at once&quot; - thanks, I&#39;ll try! &quot;Hint 2 : your code right now is effectively filling the rev array with the last character from ori array and you iterating over rev array rev.length times.&quot; - I asked question the the duck why does it fills the last letters only, and found this answer just a minute after writting the post, thanks!"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1649072178,"post_id":71736237,"comment_id":126775561,"body_markdown":"Nitpick: `split` is quite expensive operation to use for dividing the word into characters (because it uses regex). You should use `getChars`. Bonus point: certain characters (like emojis) will not look anywhere near the right way when simply reversing like that.","body":"Nitpick: <code>split</code> is quite expensive operation to use for dividing the word into characters (because it uses regex). You should use <code>getChars</code>. Bonus point: certain characters (like emojis) will not look anywhere near the right way when simply reversing like that."},{"owner":{"account_id":24820360,"reputation":3,"user_id":18700770,"display_name":"Paweł Niewolak"},"score":0,"creation_date":1649072650,"post_id":71736237,"comment_id":126775738,"body_markdown":"Thanks @M.Prokhorov I&#39;ll remmeber that :)\nI&#39;ll try to modify whole code later on to use getChars then :)","body":"Thanks @M.Prokhorov I&#39;ll remmeber that :) I&#39;ll try to modify whole code later on to use getChars then :)"},{"owner":{"account_id":24820360,"reputation":3,"user_id":18700770,"display_name":"Paweł Niewolak"},"score":0,"creation_date":1649073777,"post_id":71736237,"comment_id":126776159,"body_markdown":"@MichałKrzywański following your hit it looks like this:\n\n`public static String reverse (String s){\n        String [] ori = s.split(&quot;&quot;);\n        String [] rev = new String[ori.length];\n        for (int i = 0, j = rev.length - i - 1; i &lt; rev.length; i++, j--) {\n            rev[j] = ori[i];\n            }\n        s = Arrays.toString(rev);\n        return s;\n`\nAnd it works just fine, I had no idea I can modify 2 variables in one for loop so this is really valuable hit for me :) anyway Ammar&#39;s solution looks waay better so I&#39;ll stick with his :)","body":"@MichałKrzywański following your hit it looks like this:  <code>public static String reverse (String s){         String [] ori = s.split(&quot;&quot;);         String [] rev = new String[ori.length];         for (int i = 0, j = rev.length - i - 1; i &lt; rev.length; i++, j--) {             rev[j] = ori[i];             }         s = Arrays.toString(rev);         return s; </code> And it works just fine, I had no idea I can modify 2 variables in one for loop so this is really valuable hit for me :) anyway Ammar&#39;s solution looks waay better so I&#39;ll stick with his :)"}],"answers":[{"tags":[],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649071609,"creation_date":1649071444,"answer_id":71736421,"question_id":71736237,"body_markdown":"Hy Pawel Niewolak, the issue is with your reverse function.\r\n\r\nDepending on your requirements use that: \r\n\r\n   \r\n\r\n     public static String reverse(String s) {\r\n            String[] ori = s.split(&quot;&quot;);\r\n            String[] rev = new String[ori.length];\r\n    \r\n            for (int i = 0; i &lt; rev.length; i++) {\r\n                rev[i] = ori[rev.length - i - 1];\r\n            }\r\n            s = &quot;&quot;;\r\n            for (String str : rev) {\r\n                s += str;\r\n            }\r\n            return s;\r\n        }\r\n    }","title":"Reverse the order of characters within words with five letters or more","body":"<p>Hy Pawel Niewolak, the issue is with your reverse function.</p>\n<p>Depending on your requirements use that:</p>\n<pre><code> public static String reverse(String s) {\n        String[] ori = s.split(&quot;&quot;);\n        String[] rev = new String[ori.length];\n\n        for (int i = 0; i &lt; rev.length; i++) {\n            rev[i] = ori[rev.length - i - 1];\n        }\n        s = &quot;&quot;;\n        for (String str : rev) {\n            s += str;\n        }\n        return s;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649119970,"creation_date":1649079894,"answer_id":71738344,"question_id":71736237,"body_markdown":"Here is another possibility that uses the existing array of characters.\r\n- create the array using `String.toCharArray()`\r\n- iterate half-way thru the array, simply swapping the end characters moving inward.\r\n- then since the String constructor takes an array of characters as an argument, return `new String(array)`\r\n```\r\npublic static String reverse(String s) {\r\n\tchar[] array = s.toCharArray();\r\n\tfor (int i = 0; i &lt;array.length/2; i++) {\r\n\t\tchar ch = array[i];\r\n\t\tarray[i] = array[array.length-i-1];\r\n\t\tarray[array.length-i-1] = ch;\r\n\t}\r\n\treturn new String(array);\r\n}\r\n```\r\nNote that for even length strings, the middle two characters are swapped. For odd length strings, the middle character is untouched.","title":"Reverse the order of characters within words with five letters or more","body":"<p>Here is another possibility that uses the existing array of characters.</p>\n<ul>\n<li>create the array using <code>String.toCharArray()</code></li>\n<li>iterate half-way thru the array, simply swapping the end characters moving inward.</li>\n<li>then since the String constructor takes an array of characters as an argument, return <code>new String(array)</code></li>\n</ul>\n<pre><code>public static String reverse(String s) {\n    char[] array = s.toCharArray();\n    for (int i = 0; i &lt;array.length/2; i++) {\n        char ch = array[i];\n        array[i] = array[array.length-i-1];\n        array[array.length-i-1] = ch;\n    }\n    return new String(array);\n}\n</code></pre>\n<p>Note that for even length strings, the middle two characters are swapped. For odd length strings, the middle character is untouched.</p>\n"}],"owner":{"account_id":24820360,"reputation":3,"user_id":18700770,"display_name":"Paweł Niewolak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71736421,"answer_count":2,"score":0,"last_activity_date":1649119970,"creation_date":1649070611,"question_id":71736237,"body_markdown":"I&#39;m new to Java and I&#39;m still learning. As a part of my learning I took a challenge to write a program that will take a string, and check if there are any words, that are 5 or more in length and if so, it will flip the chars in the 5+ long words. The challenge was to do it without using Collections.reverse(list) or StringBuilder.\r\n\r\nMy idea was, I&#39;d say simple to write 2 methods.\r\nMain will split the string, and iterate by each string array index looking for 5+ long words, and method called &#39;reverse&#39; would be triggered inside &#39;if&#39; condition. Look like this one works okay.\r\nFor the reverse method idea was to split the word to an array, and then with help of 2 nested &#39;for&#39; loops iterate by indexes of &#39;ori&#39; and auxiliary &#39;rev&#39; arrays to assign value of index ori\\[i\\] to index rev\\[j\\].\r\n\r\nSo beginning with i=0 and j=arr.length-1 will result with assigning value &quot;s&quot; out of sentence word in ori\\[0\\] to rev\\[7\\], then &quot;e&quot; from ori\\[1\\] to rev\\[6\\], and so on, so the result would be \\[e, c, n, e, t, n, e, s\\]\r\n\r\nInstead I get output like this:\r\n\r\n    [This, [e, e, e, e, e, e, e, e], will, [n, n, n, n, n, n, n], [s, s, s, s, s], with, more, than, five, [., ., ., ., ., ., ., .]]\r\n\r\nI tried to fix that many ways, but so far my logic fails. Could someone explain me please, what am I doing wrong, how did I screw that apparently simple logic?\r\n\r\nI&#39;ll figure out how to display this as a regular sentence without square brackets and commas later so this is no issue so far.\r\n\r\nThe code:\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class Main {\r\n    public static void main (String[] args) {\r\n\r\n        String original = &quot;This sentence will contain words with more than five letters.&quot;;\r\n        String[] splitter = original.split(&quot; &quot;);\r\n        for (int i = 0; i &lt; splitter.length; i++){\r\n            if (splitter[i].length() &gt;= 5){\r\n                splitter[i] = reverse(splitter[i]);\r\n            }\r\n        }\r\n        System.out.println(Arrays.toString(splitter));\r\n\r\n    }\r\n    public static String reverse (String s){\r\n        String [] ori = s.split(&quot;&quot;);\r\n        String [] rev = new String[ori.length];\r\n        for (int i = 0; i &lt; rev.length; i++) {\r\n            for (int j = rev.length-1; j &gt;=0; j--) {\r\n                rev[j] = ori[i];\r\n            }\r\n        }\r\n        s = Arrays.toString(rev);\r\n        return s;\r\n    }\r\n}\r\n```\r\n\r\nPlease be understading for a newbie :)\r\n\r\nI tried to modify this part:\r\n\r\n```\r\npublic static String reverse (String s){\r\n        String [] ori = s.split(&quot;&quot;);\r\n        String [] rev = new String[ori.length];\r\n        for (int i = 0; i &lt; rev.length; i++) {\r\n            for (int j = rev.length-1; j &gt;=0; j--) {\r\n                rev[j] = ori[i];\r\n```\r\n\r\nby swapping i/j, rev\\[i\\] = ori\\[j\\], --j, j \\&gt; 0 and many others, mostly blind shots looking for some inspiration where my logic fails.","title":"Reverse the order of characters within words with five letters or more","body":"<p>I'm new to Java and I'm still learning. As a part of my learning I took a challenge to write a program that will take a string, and check if there are any words, that are 5 or more in length and if so, it will flip the chars in the 5+ long words. The challenge was to do it without using Collections.reverse(list) or StringBuilder.</p>\n<p>My idea was, I'd say simple to write 2 methods.\nMain will split the string, and iterate by each string array index looking for 5+ long words, and method called 'reverse' would be triggered inside 'if' condition. Look like this one works okay.\nFor the reverse method idea was to split the word to an array, and then with help of 2 nested 'for' loops iterate by indexes of 'ori' and auxiliary 'rev' arrays to assign value of index ori[i] to index rev[j].</p>\n<p>So beginning with i=0 and j=arr.length-1 will result with assigning value &quot;s&quot; out of sentence word in ori[0] to rev[7], then &quot;e&quot; from ori[1] to rev[6], and so on, so the result would be [e, c, n, e, t, n, e, s]</p>\n<p>Instead I get output like this:</p>\n<pre><code>[This, [e, e, e, e, e, e, e, e], will, [n, n, n, n, n, n, n], [s, s, s, s, s], with, more, than, five, [., ., ., ., ., ., ., .]]\n</code></pre>\n<p>I tried to fix that many ways, but so far my logic fails. Could someone explain me please, what am I doing wrong, how did I screw that apparently simple logic?</p>\n<p>I'll figure out how to display this as a regular sentence without square brackets and commas later so this is no issue so far.</p>\n<p>The code:</p>\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main (String[] args) {\n\n        String original = &quot;This sentence will contain words with more than five letters.&quot;;\n        String[] splitter = original.split(&quot; &quot;);\n        for (int i = 0; i &lt; splitter.length; i++){\n            if (splitter[i].length() &gt;= 5){\n                splitter[i] = reverse(splitter[i]);\n            }\n        }\n        System.out.println(Arrays.toString(splitter));\n\n    }\n    public static String reverse (String s){\n        String [] ori = s.split(&quot;&quot;);\n        String [] rev = new String[ori.length];\n        for (int i = 0; i &lt; rev.length; i++) {\n            for (int j = rev.length-1; j &gt;=0; j--) {\n                rev[j] = ori[i];\n            }\n        }\n        s = Arrays.toString(rev);\n        return s;\n    }\n}\n</code></pre>\n<p>Please be understading for a newbie :)</p>\n<p>I tried to modify this part:</p>\n<pre><code>public static String reverse (String s){\n        String [] ori = s.split(&quot;&quot;);\n        String [] rev = new String[ori.length];\n        for (int i = 0; i &lt; rev.length; i++) {\n            for (int j = rev.length-1; j &gt;=0; j--) {\n                rev[j] = ori[i];\n</code></pre>\n<p>by swapping i/j, rev[i] = ori[j], --j, j &gt; 0 and many others, mostly blind shots looking for some inspiration where my logic fails.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":3,"creation_date":1484407120,"post_id":41175409,"comment_id":70501778,"body_markdown":"Source control would be my advice","body":"Source control would be my advice"},{"owner":{"account_id":6914687,"reputation":484,"user_id":5309409,"accept_rate":62,"display_name":"Lakhwinder Singh Dhillon"},"score":0,"creation_date":1488649520,"post_id":41175409,"comment_id":72329235,"body_markdown":"try this http://stackoverflow.com/a/32440507/5309409 might help. Although its very late to answer but might help someone else","body":"try this <a href=\"http://stackoverflow.com/a/32440507/5309409\">stackoverflow.com/a/32440507/5309409</a> might help. Although its very late to answer but might help someone else"}],"answers":[{"tags":[],"owner":{"account_id":4304589,"reputation":149,"user_id":3517339,"display_name":"resw67"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484406907,"creation_date":1484406907,"answer_id":41651518,"question_id":41175409,"body_markdown":"In my case there were 2 file 1 had XML code and other had java code. \r\nDelete the file that has XML code and rename your Java file the way it was. Solved my problem.","title":"Android Studio java file gets corrupted","body":"<p>In my case there were 2 file 1 had XML code and other had java code. \nDelete the file that has XML code and rename your Java file the way it was. Solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":14437670,"reputation":940,"user_id":10429260,"display_name":"amos godwin"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1547225080,"creation_date":1547225080,"answer_id":54150744,"question_id":41175409,"body_markdown":"I once had this issue and the way i solved it was to delete the folder C:\\Users\\cc\\.AndroidStudio3.2\\system\\caches.\r\n\r\n\r\n\r\ni hope this helps","title":"Android Studio java file gets corrupted","body":"<p>I once had this issue and the way i solved it was to delete the folder C:\\Users\\cc.AndroidStudio3.2\\system\\caches.</p>\n\n<p>i hope this helps</p>\n"},{"tags":[],"owner":{"account_id":11960877,"reputation":11,"user_id":8751957,"display_name":"Lenos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582208593,"creation_date":1582208593,"answer_id":60322106,"question_id":41175409,"body_markdown":"To solve the problem I would cut all the files from the project, allowing android studio to update its indices showing no files in the project tree. Soon after I move them all back then let android studio to load the files again. After loading the cache would get updated with the correct information.","title":"Android Studio java file gets corrupted","body":"<p>To solve the problem I would cut all the files from the project, allowing android studio to update its indices showing no files in the project tree. Soon after I move them all back then let android studio to load the files again. After loading the cache would get updated with the correct information.</p>\n"},{"tags":[],"owner":{"account_id":13445501,"reputation":323,"user_id":9701586,"display_name":"Ruwan Liyanage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649119245,"creation_date":1649119245,"answer_id":71745190,"question_id":41175409,"body_markdown":"What I found was, all the source files are exist in the project directory without any damage, but the Android Studio loads an XML code file. This happened after an sudden turn off of the pc.\r\n\r\nInvalidate cache and restart not worked.\r\n\r\nI solved the problem by,\r\n\r\nClose the Android Studio.\r\nDelete the folder C:\\Users\\[UserAccountName]\\.android\\cache folder, \r\nand then open the Android Studio. Everything worked fine.\r\n\r\nHope this helps someone.","title":"Android Studio java file gets corrupted","body":"<p>What I found was, all the source files are exist in the project directory without any damage, but the Android Studio loads an XML code file. This happened after an sudden turn off of the pc.</p>\n<p>Invalidate cache and restart not worked.</p>\n<p>I solved the problem by,</p>\n<p>Close the Android Studio.\nDelete the folder C:\\Users[UserAccountName].android\\cache folder,\nand then open the Android Studio. Everything worked fine.</p>\n<p>Hope this helps someone.</p>\n"}],"owner":{"account_id":3460600,"reputation":406,"user_id":2897841,"accept_rate":56,"display_name":"Sini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6764,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":4,"score":17,"last_activity_date":1649119245,"creation_date":1481847133,"question_id":41175409,"body_markdown":"Unfortunaetly my laptop shutdown unproperly during coding in Android Studio. When I turned on again and tried to reload the project one class / java file was corrupted and suddenly all code was gone! \r\n\r\nWhat I already tried:\r\n\r\n- Local History -&gt; Show History = nothing to show\r\n- File / Invalidate Caches and Restart = no luck\r\n- Decompiled apk, but code has been obfuscated by Proguard, so it is almost impossible to read\r\n\r\nWeird thing is that the java file has a size but the content is empty (I already deleted &quot;nul nul nul&quot; characters but still no luck. \r\n\r\nAny help or advice?\r\n\r\n","title":"Android Studio java file gets corrupted","body":"<p>Unfortunaetly my laptop shutdown unproperly during coding in Android Studio. When I turned on again and tried to reload the project one class / java file was corrupted and suddenly all code was gone! </p>\n\n<p>What I already tried:</p>\n\n<ul>\n<li>Local History -> Show History = nothing to show</li>\n<li>File / Invalidate Caches and Restart = no luck</li>\n<li>Decompiled apk, but code has been obfuscated by Proguard, so it is almost impossible to read</li>\n</ul>\n\n<p>Weird thing is that the java file has a size but the content is empty (I already deleted \"nul nul nul\" characters but still no luck. </p>\n\n<p>Any help or advice?</p>\n"},{"tags":["python","java","amazon-web-services","performance","aws-lambda"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1649119447,"post_id":71745142,"comment_id":126790329,"body_markdown":"Is the &quot;url&quot; a third party - i.e. something you don&#39;t control?","body":"Is the &quot;url&quot; a third party - i.e. something you don&#39;t control?"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1649120130,"post_id":71745142,"comment_id":126790425,"body_markdown":"Look at the actual Lambda metrics in CloudWatch.","body":"Look at the actual Lambda metrics in CloudWatch."},{"owner":{"account_id":14954455,"reputation":3,"user_id":10796313,"display_name":"GeorgeGuguli"},"score":0,"creation_date":1649120454,"post_id":71745142,"comment_id":126790479,"body_markdown":"@stdunbar I didn&#39;t wanted to paste actual URL. The URL is my API Gateway Rest API URL.","body":"@stdunbar I didn&#39;t wanted to paste actual URL. The URL is my API Gateway Rest API URL."},{"owner":{"account_id":14954455,"reputation":3,"user_id":10796313,"display_name":"GeorgeGuguli"},"score":0,"creation_date":1649120513,"post_id":71745142,"comment_id":126790483,"body_markdown":"@jarmod I checked them and there is nothing there. Also all of the requests returned 200 in lambda.","body":"@jarmod I checked them and there is nothing there. Also all of the requests returned 200 in lambda."},{"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"score":0,"creation_date":1649137611,"post_id":71745142,"comment_id":126792930,"body_markdown":"You won&#39;t see anything in CloudWatch because it only monitors what happens AFTER the public endpoint in charge of connections and TLS termination, so you can&#39;t see connection and TLS errors in there.","body":"You won&#39;t see anything in CloudWatch because it only monitors what happens AFTER the public endpoint in charge of connections and TLS termination, so you can&#39;t see connection and TLS errors in there."},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1649161996,"post_id":71745142,"comment_id":126801293,"body_markdown":"I was proposing to review the CW Lambda metrics simply as an additional diagnostic. You should be able to infer, for example, what percentage of requests actually resulted in invoked Lambdas, what their average runtime was etc. Hopefully that confirms the problem is not the Lambdas but, perhaps API Gateway. Then I would [troubleshoot API Gateway logs](https://aws.amazon.com/premiumsupport/knowledge-center/api-gateway-cloudwatch-logs/).","body":"I was proposing to review the CW Lambda metrics simply as an additional diagnostic. You should be able to infer, for example, what percentage of requests actually resulted in invoked Lambdas, what their average runtime was etc. Hopefully that confirms the problem is not the Lambdas but, perhaps API Gateway. Then I would <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/api-gateway-cloudwatch-logs/\" rel=\"nofollow noreferrer\">troubleshoot API Gateway logs</a>."},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1649164137,"post_id":71745142,"comment_id":126802271,"body_markdown":"Also, you haven&#39;t given any indication of what your Lambda config looks like, especially concurrency limits (related info [here](https://aws.amazon.com/premiumsupport/knowledge-center/lambda-concurrency-limit-increase)).","body":"Also, you haven&#39;t given any indication of what your Lambda config looks like, especially concurrency limits (related info <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/lambda-concurrency-limit-increase\" rel=\"nofollow noreferrer\">here</a>)."},{"owner":{"account_id":14954455,"reputation":3,"user_id":10796313,"display_name":"GeorgeGuguli"},"score":0,"creation_date":1649285258,"post_id":71745142,"comment_id":126840173,"body_markdown":"@jarmod I checked it and all lambdas where triggered, also the mean runtime was ~30ms. Lambda config: 512mb and 1000 concurrency limit. Could it be that Gatling is breaking something?","body":"@jarmod I checked it and all lambdas where triggered, also the mean runtime was ~30ms. Lambda config: 512mb and 1000 concurrency limit. Could it be that Gatling is breaking something?"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1649340907,"post_id":71745142,"comment_id":126855448,"body_markdown":"Your Gatling clients are all hitting the same API Gateway endpoint URL, yes? Does API Gateway logging show anything related to these failures? Also, out of interest, wonder if you can test after enabling/disabling SNI in Gatling (see [here](https://stackoverflow.com/questions/50755456/how-to-disable-ssl-hostname-verification-with-gatling-and-ssl-two-way)).","body":"Your Gatling clients are all hitting the same API Gateway endpoint URL, yes? Does API Gateway logging show anything related to these failures? Also, out of interest, wonder if you can test after enabling/disabling SNI in Gatling (see <a href=\"https://stackoverflow.com/questions/50755456/how-to-disable-ssl-hostname-verification-with-gatling-and-ssl-two-way\">here</a>)."},{"owner":{"account_id":14954455,"reputation":3,"user_id":10796313,"display_name":"GeorgeGuguli"},"score":0,"creation_date":1649376279,"post_id":71745142,"comment_id":126866235,"body_markdown":"Yes, I disabled SSL and SNI in Gatling and it seems that it is working now fine. Thank you!","body":"Yes, I disabled SSL and SNI in Gatling and it seems that it is working now fine. Thank you!"},{"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"score":0,"creation_date":1655386781,"post_id":71745142,"comment_id":128323977,"body_markdown":"Can you add more detail about the Lambda setup and their response times under normal use? Adding X-Ray tracing with sub-segments would be a good way to identify when time is being spent.","body":"Can you add more detail about the Lambda setup and their response times under normal use? Adding X-Ray tracing with sub-segments would be a good way to identify when time is being spent."}],"owner":{"account_id":14954455,"reputation":3,"user_id":10796313,"display_name":"GeorgeGuguli"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649118770,"creation_date":1649118770,"question_id":71745142,"body_markdown":"Currently, I&#39;m doing load testing using Gatling and I have one issue with my lambdas. I have two lambdas one is written in Java 8 and one is written in Python. I&#39;m using Gatling for my load testing and I have a test where I&#39;m doing one request with 120 concurrent users then I&#39;m ramping them from 120 to 400 users in 1 minute, and then Gatling is doing requests with 400 constants users per second for 2 minutes.  \r\nThere is a weird behavior in these lambdas because the responses are very high. In the lambdas there is no logic, they are just returning a String. \r\nHere are some screenshots of Gatling reports:   \r\n[Java Report][1]  \r\n[Python Report][2]\r\nI can add that I did some tests when Lambda is warm-up and there is the same behaviour as well.  \r\nI&#39;m using API Gateway to run my lambdas.\r\n\r\nDo you have any idea why there is such a big response time? Sometimes I&#39;m receiving an HTTP error that says:  \r\n\r\n     i.n.h.s.SslHandshakeTimeoutException: handshake timed out after 10000ms \r\nHere is also my Gatling simulation code:  \r\n\r\n    public class OneEndpointSimulation extends Simulation {\r\n    \r\n    HttpProtocolBuilder httpProtocol = http\r\n            .baseUrl(&quot;url&quot;) // Here is the root for all relative URLs\r\n            .acceptHeader(&quot;text/html,application/xhtml+xml,application/json,application/xml;q=0.9,*/*;q=0.8&quot;) // Here are the common headers\r\n            .acceptEncodingHeader(&quot;gzip, deflate&quot;)\r\n            .acceptLanguageHeader(&quot;en-US,en;q=0.5&quot;)\r\n            .userAgentHeader(&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:16.0) Gecko/20100101 Firefox/16.0&quot;);\r\n    \r\n    ScenarioBuilder scn = scenario(&quot;Scenario 1 Workload 2&quot;)\r\n            .exec(http(&quot;Get all activities&quot;)\r\n                    .get(&quot;/dev&quot;)).pause(1);\r\n    \r\n    {\r\n        setUp(scn.injectOpen(\r\n                        atOnceUsers(120),\r\n                        rampUsersPerSec(120).to(400).during(60),\r\n                        constantUsersPerSec(400).during(Duration.ofMinutes(1))\r\n                ).protocols(httpProtocol)\r\n        );\r\n    }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/sCx9M.png\r\n  [2]: https://i.stack.imgur.com/SuHU0.png","title":"AWS Lamdba slow responses","body":"<p>Currently, I'm doing load testing using Gatling and I have one issue with my lambdas. I have two lambdas one is written in Java 8 and one is written in Python. I'm using Gatling for my load testing and I have a test where I'm doing one request with 120 concurrent users then I'm ramping them from 120 to 400 users in 1 minute, and then Gatling is doing requests with 400 constants users per second for 2 minutes.<br />\nThere is a weird behavior in these lambdas because the responses are very high. In the lambdas there is no logic, they are just returning a String.\nHere are some screenshots of Gatling reports:<br />\n<a href=\"https://i.stack.imgur.com/sCx9M.png\" rel=\"nofollow noreferrer\">Java Report</a><br />\n<a href=\"https://i.stack.imgur.com/SuHU0.png\" rel=\"nofollow noreferrer\">Python Report</a>\nI can add that I did some tests when Lambda is warm-up and there is the same behaviour as well.<br />\nI'm using API Gateway to run my lambdas.</p>\n<p>Do you have any idea why there is such a big response time? Sometimes I'm receiving an HTTP error that says:</p>\n<pre><code> i.n.h.s.SslHandshakeTimeoutException: handshake timed out after 10000ms \n</code></pre>\n<p>Here is also my Gatling simulation code:</p>\n<pre><code>public class OneEndpointSimulation extends Simulation {\n\nHttpProtocolBuilder httpProtocol = http\n        .baseUrl(&quot;url&quot;) // Here is the root for all relative URLs\n        .acceptHeader(&quot;text/html,application/xhtml+xml,application/json,application/xml;q=0.9,*/*;q=0.8&quot;) // Here are the common headers\n        .acceptEncodingHeader(&quot;gzip, deflate&quot;)\n        .acceptLanguageHeader(&quot;en-US,en;q=0.5&quot;)\n        .userAgentHeader(&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:16.0) Gecko/20100101 Firefox/16.0&quot;);\n\nScenarioBuilder scn = scenario(&quot;Scenario 1 Workload 2&quot;)\n        .exec(http(&quot;Get all activities&quot;)\n                .get(&quot;/dev&quot;)).pause(1);\n\n{\n    setUp(scn.injectOpen(\n                    atOnceUsers(120),\n                    rampUsersPerSec(120).to(400).during(60),\n                    constantUsersPerSec(400).during(Duration.ofMinutes(1))\n            ).protocols(httpProtocol)\n    );\n}\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"score":0,"creation_date":1649116584,"post_id":71744886,"comment_id":126789881,"body_markdown":"Did you enter anything?","body":"Did you enter anything?"},{"owner":{"account_id":24827839,"reputation":11,"user_id":18707376,"display_name":"Rafeek"},"score":0,"creation_date":1649116915,"post_id":71744886,"comment_id":126789952,"body_markdown":"when I execute it shows this result   Exception in thread &quot;main&quot; java.util.NoSuchElementException at java.base/java.util.Scanner.throwFor(Scanner.java:937) at java.base/java.util.Scanner.next(Scanner.java:1594) at java.base/java.util.Scanner.nextInt(Scanner.java:2258) at java.base/java.util.Scanner.nextInt(Scanner.java:2212) at lab3.main(lab3.java:19)","body":"when I execute it shows this result   Exception in thread &quot;main&quot; java.util.NoSuchElementException at java.base/java.util.Scanner.throwFor(Scanner.java:937) at java.base/java.util.Scanner.next(Scanner.java:1594) at java.base/java.util.Scanner.nextInt(Scanner.java:2258) at java.base/java.util.Scanner.nextInt(Scanner.java:2212) at lab3.main(lab3.java:19)"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649117307,"post_id":71744886,"comment_id":126790022,"body_markdown":"I can&#39;t see anything obvious in your code that would cause a `NoSuchElementException`. Is this the exact code that is causing the error? A [NoSuchElementException](https://docs.oracle.com/javase/8/docs/api/java/util/NoSuchElementException.html) is `thrown by various accessor methods to indicate that the element being requested does not exist`, however, you don&#39;t have any such methods in your question.","body":"I can&#39;t see anything obvious in your code that would cause a <code>NoSuchElementException</code>. Is this the exact code that is causing the error? A <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/NoSuchElementException.html\" rel=\"nofollow noreferrer\">NoSuchElementException</a> is <code>thrown by various accessor methods to indicate that the element being requested does not exist</code>, however, you don&#39;t have any such methods in your question."}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649118086,"creation_date":1649117683,"answer_id":71745049,"question_id":71744886,"body_markdown":"You have not shown us all your code, but the issue is most likely that you have a larger project with multiple scanners.\r\n\r\nIf you ever create a scanner to `System.in` like so `Scanner input = new Scanner(System.in);` you must never close it with `input.close();` because this will close the `System.in` stream, and will cause all future scanners created using `System.in` will throw a `NoSuchElementException`.\r\n\r\nThe simple solution is just to never close a `System.in` scanner, or have a single `System.in` scanner that is shared between all classes and methods that need to use it.\r\n\r\nThis will throw a `NoSuchElementException`:\r\n\r\n\tScanner firstScanner = new Scanner(System.in);\r\n\tSystem.out.println(&quot;Enter a value&quot;);\r\n\tint firstInput = firstScanner.nextInt();\r\n\tfirstScanner.close(); //this line is the problem\r\n\t\r\n\tScanner secondScanner = new Scanner(System.in);\r\n\tSystem.out.println(&quot;Enter a value&quot;);\r\n\tint secondInput = secondScanner.nextInt();\r\n\t\r\nThis code will work as expected by removing `close()`:\r\n\r\n\tScanner firstScanner = new Scanner(System.in);\r\n\tSystem.out.println(&quot;Enter a value&quot;);\r\n\tint firstInput = firstScanner.nextInt();\r\n\t//firstScanner.close(); //Remove this line\r\n\t\r\n\tScanner secondScanner = new Scanner(System.in);\r\n\tSystem.out.println(&quot;Enter a value&quot;);\r\n\tint secondInput = secondScanner.nextInt();\r\n\r\n","title":"I&#39;m trying to get user input using Scanner but i got an error","body":"<p>You have not shown us all your code, but the issue is most likely that you have a larger project with multiple scanners.</p>\n<p>If you ever create a scanner to <code>System.in</code> like so <code>Scanner input = new Scanner(System.in);</code> you must never close it with <code>input.close();</code> because this will close the <code>System.in</code> stream, and will cause all future scanners created using <code>System.in</code> will throw a <code>NoSuchElementException</code>.</p>\n<p>The simple solution is just to never close a <code>System.in</code> scanner, or have a single <code>System.in</code> scanner that is shared between all classes and methods that need to use it.</p>\n<p>This will throw a <code>NoSuchElementException</code>:</p>\n<pre><code>Scanner firstScanner = new Scanner(System.in);\nSystem.out.println(&quot;Enter a value&quot;);\nint firstInput = firstScanner.nextInt();\nfirstScanner.close(); //this line is the problem\n\nScanner secondScanner = new Scanner(System.in);\nSystem.out.println(&quot;Enter a value&quot;);\nint secondInput = secondScanner.nextInt();\n</code></pre>\n<p>This code will work as expected by removing <code>close()</code>:</p>\n<pre><code>Scanner firstScanner = new Scanner(System.in);\nSystem.out.println(&quot;Enter a value&quot;);\nint firstInput = firstScanner.nextInt();\n//firstScanner.close(); //Remove this line\n\nScanner secondScanner = new Scanner(System.in);\nSystem.out.println(&quot;Enter a value&quot;);\nint secondInput = secondScanner.nextInt();\n</code></pre>\n"}],"owner":{"account_id":24827839,"reputation":11,"user_id":18707376,"display_name":"Rafeek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1649334744,"answer_count":1,"score":1,"last_activity_date":1649118086,"creation_date":1649115963,"question_id":71744886,"body_markdown":"I got this error while I&#39;m coding but I can&#39;t solve it\r\nplease enter the length of the rectangle\r\n\r\n`Exception in thread &quot;main&quot; java.util.NoSuchElementException`\r\n`at java.base/java.util.Scanner.throwFor(Scanner.java:937)`\r\n`at java.base/java.util.Scanner.next(Scanner.java:1594)`\r\n`at java.base/java.util.Scanner.nextInt(Scanner.java:2258)`\r\n`at java.base/java.util.Scanner.nextInt(Scanner.java:2212)`\r\n`at lab3.main(lab3.java:19)`\r\n\r\ni&#39;m trying to get the user input for the length and width and this my code \r\n\r\n    import java.util.*;  \r\n    public class lab3 {\r\n      public static void main(String[] args) {\r\n          \r\n    //input section,using assignment stats\r\n    Scanner input = new Scanner(System.in); // creates an instance of the \r\n    \r\n    int length;\r\n    int width; \r\n    int area = 0;\r\n    \r\n    \r\n    System.out.println(&quot;please enter the length of the rectangle&quot;);\r\n        length = input.nextInt(); \r\n    System.out.println(&quot;please enter the width of the rectangle&quot;);\r\n        width = input.nextInt(); \r\n    \r\n    //process section \r\n    \r\n    area = length * width;\r\n    \r\n    // output section \r\n    \r\n    System.out.println(&quot;Length = &quot;+ length);\r\n    System.out.println(&quot;Width = &quot;+ width);\r\n    System.out.println(&quot;Area = Length * Width= &quot;+ area);\r\n      }\r\n    }","title":"I&#39;m trying to get user input using Scanner but i got an error","body":"<p>I got this error while I'm coding but I can't solve it\nplease enter the length of the rectangle</p>\n<p><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException</code>\n<code>at java.base/java.util.Scanner.throwFor(Scanner.java:937)</code>\n<code>at java.base/java.util.Scanner.next(Scanner.java:1594)</code>\n<code>at java.base/java.util.Scanner.nextInt(Scanner.java:2258)</code>\n<code>at java.base/java.util.Scanner.nextInt(Scanner.java:2212)</code>\n<code>at lab3.main(lab3.java:19)</code></p>\n<p>i'm trying to get the user input for the length and width and this my code</p>\n<pre><code>import java.util.*;  \npublic class lab3 {\n  public static void main(String[] args) {\n      \n//input section,using assignment stats\nScanner input = new Scanner(System.in); // creates an instance of the \n\nint length;\nint width; \nint area = 0;\n\n\nSystem.out.println(&quot;please enter the length of the rectangle&quot;);\n    length = input.nextInt(); \nSystem.out.println(&quot;please enter the width of the rectangle&quot;);\n    width = input.nextInt(); \n\n//process section \n\narea = length * width;\n\n// output section \n\nSystem.out.println(&quot;Length = &quot;+ length);\nSystem.out.println(&quot;Width = &quot;+ width);\nSystem.out.println(&quot;Area = Length * Width= &quot;+ area);\n  }\n}\n</code></pre>\n"},{"tags":["java","xml","jaxb","stax","xmlstreamreader"],"comments":[{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1621918257,"post_id":67667516,"comment_id":119631034,"body_markdown":"I even tried the `XMLEventReader` but many of the articles have mentioned that it&#39;s not very memory efficient. So still looking for the answer any suggestion would be really helpful.","body":"I even tried the <code>XMLEventReader</code> but many of the articles have mentioned that it&#39;s not very memory efficient. So still looking for the answer any suggestion would be really helpful."}],"answers":[{"tags":[],"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649118004,"creation_date":1649118004,"answer_id":71745076,"question_id":67667516,"body_markdown":"&quot;Going back&quot; in a stream implies some kind of memory, so there is no point in sticking to the most memory-efficient tool.\r\n\r\n`XMLEventReader` can handle this with ease:\r\n\r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String args[]) throws Exception {\r\n        Unmarshaller aUnmarshaller = JAXBContext.newInstance(A.class).createUnmarshaller();\r\n        Unmarshaller bUnmarshaller = JAXBContext.newInstance(B.class).createUnmarshaller();\r\n        Unmarshaller cUnmarshaller = JAXBContext.newInstance(C.class).createUnmarshaller();\r\n        try (InputStream input = Main.class.getResourceAsStream(&quot;InputEPCISEvents.xml&quot;)) {\r\n            XMLEventReader reader = XMLInputFactory.newInstance().createXMLEventReader(input);\r\n            while (reader.hasNext()) {\r\n                XMLEvent event = reader.peek();\r\n                if (event.isStartElement()) {\r\n                    switch (event.asStartElement().getName().getLocalPart()) {\r\n                        case &quot;a&quot; -&gt; System.out.println(aUnmarshaller.unmarshal(reader));\r\n                        case &quot;b&quot; -&gt; System.out.println(bUnmarshaller.unmarshal(reader));\r\n                        case &quot;c&quot; -&gt; System.out.println(cUnmarshaller.unmarshal(reader));\r\n                    }\r\n                }\r\n                reader.next();\r\n            }\r\n        }\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    static class ABC {\r\n        String name;\r\n        String age;\r\n\r\n        public String toString() {\r\n            return getClass().getSimpleName() + &quot;{name=&#39;&quot; + name + &quot;&#39;, age=&#39;&quot; + age + &quot;}&quot;;\r\n        }\r\n    }\r\n    @XmlRootElement static class A extends ABC {}\r\n    @XmlRootElement static class B extends ABC {}\r\n    @XmlRootElement static class C extends ABC {}\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nC{name=&#39;CName&#39;, age=&#39;CAge}\r\nB{name=&#39;BName&#39;, age=&#39;BAge}\r\nA{name=&#39;AName&#39;, age=&#39;AAge}\r\nB{name=&#39;BName&#39;, age=&#39;BAge}\r\n```\r\n\r\nBy the way, your XML [needs](https://www.w3resource.com/xml/well-formed.php) to be wrapped in a parent element as it contains more than one root element.","title":"Stax XMLStreamReader check for the next event without moving ahead","body":"<p>&quot;Going back&quot; in a stream implies some kind of memory, so there is no point in sticking to the most memory-efficient tool.</p>\n<p><code>XMLEventReader</code> can handle this with ease:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String args[]) throws Exception {\n        Unmarshaller aUnmarshaller = JAXBContext.newInstance(A.class).createUnmarshaller();\n        Unmarshaller bUnmarshaller = JAXBContext.newInstance(B.class).createUnmarshaller();\n        Unmarshaller cUnmarshaller = JAXBContext.newInstance(C.class).createUnmarshaller();\n        try (InputStream input = Main.class.getResourceAsStream(&quot;InputEPCISEvents.xml&quot;)) {\n            XMLEventReader reader = XMLInputFactory.newInstance().createXMLEventReader(input);\n            while (reader.hasNext()) {\n                XMLEvent event = reader.peek();\n                if (event.isStartElement()) {\n                    switch (event.asStartElement().getName().getLocalPart()) {\n                        case &quot;a&quot; -&gt; System.out.println(aUnmarshaller.unmarshal(reader));\n                        case &quot;b&quot; -&gt; System.out.println(bUnmarshaller.unmarshal(reader));\n                        case &quot;c&quot; -&gt; System.out.println(cUnmarshaller.unmarshal(reader));\n                    }\n                }\n                reader.next();\n            }\n        }\n    }\n\n    @XmlAccessorType(XmlAccessType.FIELD)\n    static class ABC {\n        String name;\n        String age;\n\n        public String toString() {\n            return getClass().getSimpleName() + &quot;{name='&quot; + name + &quot;', age='&quot; + age + &quot;}&quot;;\n        }\n    }\n    @XmlRootElement static class A extends ABC {}\n    @XmlRootElement static class B extends ABC {}\n    @XmlRootElement static class C extends ABC {}\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>C{name='CName', age='CAge}\nB{name='BName', age='BAge}\nA{name='AName', age='AAge}\nB{name='BName', age='BAge}\n</code></pre>\n<p>By the way, your XML <a href=\"https://www.w3resource.com/xml/well-formed.php\" rel=\"nofollow noreferrer\">needs</a> to be wrapped in a parent element as it contains more than one root element.</p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1253,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1649118004,"creation_date":1621837544,"question_id":67667516,"body_markdown":"I have a large `XML` file that consists of many events. I would like to `unmarshal` them. As it&#39;s a large file, I would like to `unmarshal` them one by one so the whole file is not stored in memory. It works for some events but fails for some due to the fact that it&#39;s unable to map to a particular class as it&#39;s already in the next event.\r\n\r\nNote: I am aware of the `XMLEventReader` but most of them have mentioned it as not very memory efficient so I am trying to use `XMLStreamReader` and accomplish this.\r\n\r\nFollowing is the sample `XML` file that contains the events:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;extension&gt;\r\n        &lt;extension&gt;\r\n            &lt;c&gt;\r\n                &lt;name&gt;CName&lt;/name&gt;\r\n                &lt;age&gt;CAge&lt;/age&gt;\r\n            &lt;/c&gt;\r\n        &lt;/extension&gt;\r\n    &lt;/extension&gt;\r\n    &lt;extension&gt;\r\n        &lt;b&gt;\r\n            &lt;name&gt;BName&lt;/name&gt;\r\n            &lt;age&gt;BAge&lt;/age&gt;\r\n        &lt;/b&gt;\r\n    &lt;/extension&gt;\r\n    &lt;a&gt;\r\n        &lt;name&gt;AName&lt;/name&gt;\r\n        &lt;age&gt;AAge&lt;/age&gt;\r\n    &lt;/a&gt;\r\n    &lt;extension&gt;\r\n        &lt;b&gt;\r\n            &lt;name&gt;BName&lt;/name&gt;\r\n            &lt;age&gt;BAge&lt;/age&gt;\r\n        &lt;/b&gt;\r\n    &lt;/extension&gt;\r\n\r\nI have 3 classes corresponding to them which will be used for `unmarshalling`:\r\n\r\n    @XmlRootElement(name = &quot;a&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;a&quot;, propOrder = {&quot;name&quot;,&quot;age&quot;})\r\n    public class A\r\n    {\r\n    \tprivate String name;\r\n    \tprivate String age;\r\n    \t//Getter, Setter and other constructors\r\n    }\r\n    \r\n    @XmlRootElement(name = &quot;extension&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;extension&quot;, propOrder = {&quot;name&quot;,&quot;age&quot;})\r\n    public class B\r\n    {\r\n        @XmlPath(&quot;b/name/text()&quot;)\r\n    \tprivate String name;\r\n    \t@XmlPath(&quot;b/age/text()&quot;)\r\n    \tprivate String age;\r\n    \t//Getter, Setter and other constructors\r\n    }\r\n    \r\n    @XmlRootElement(name = &quot;extension&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;extension&quot;, propOrder = {&quot;name&quot;,&quot;age&quot;})\r\n    public class C\r\n    {\r\n        @XmlPath(&quot;extension/c/name/text()&quot;)\r\n    \tprivate String name;\r\n    \t@XmlPath(&quot;extension/c/age/text()&quot;)\r\n    \tprivate String age;\r\n    \t//Getter, Setter and other constructors\r\n    }\r\n\r\nFollowing is my `Main` class which will be used for `unmarshalling`:\r\n\r\n    public class Main{\r\n         \r\n        private Unmarshaller unmarshaller = null;\r\n        private JAXBContext jaxbContext = null;\r\n      \r\n        public void unmarshaller(InputStream xmlStream) throws IOException, XMLStreamException, JAXBException {\r\n            final XMLInputFactory xmlInputFactory = XMLInputFactory.newInstance();\r\n            final XMLStreamReader streamReader = xmlInputFactory.createXMLStreamReader(xmlStream);\r\n            \r\n            //Navigate to next and start of the XML Elements\r\n            streamReader.next();\r\n\r\n            //Read Until the end of the file\r\n            while (streamReader.hasNext()) {\r\n                //Check if the element is &quot;extension&quot; if so its Class B or C\r\n                if (streamReader.isStartElement() &amp;&amp; streamReader.getLocalName().equalsIgnoreCase(&quot;extension&quot;)) {\r\n\r\n                    //Check if the next element also has &quot;extension&quot; if so its Class C\r\n                   //This is IMPORTANT step for mapping b/w Class B &amp; C which is confusing me\r\n                    streamReader.next();\r\n\r\n                    if (streamReader.isStartElement() &amp;&amp; streamReader.getLocalName().equalsIgnoreCase(&quot;extension&quot;)) {\r\n                        //If there is 2 extension tag then its Class C\r\n                        classSpecifier(C.class);\r\n                        final C cInfo = unmarshaller.unmarshal(streamReader, C.class).getValue();\r\n                        System.out.println(cInfo);\r\n                    }else{\r\n                        //If there is no &quot;extension&quot; tag then its Class B\r\n                        //THIS IS WHERE ITS FAILING: IF ITS NOT CLASS C THEN IT WOULD COME HERE BUT SINCE I HAVE \r\n                        //ALREADY MOVED TO NEXT ELEMENT TO CHECK IF ITS &quot;extension&quot; ITS UNABLE TO MAP THE WHOLE CLASS TO CLASS B\r\n                        classSpecifier(B.class);\r\n                        final B bInfo = unmarshaller.unmarshal(streamReader, B.class).getValue();\r\n                        System.out.println(bInfo);\r\n                    }\r\n                }else if(streamReader.isStartElement() &amp;&amp; streamReader.getLocalName().equalsIgnoreCase(&quot;a&quot;)){\r\n                    //If there is no &quot;extension&quot; then its class A\r\n                    classSpecifier(A.class);\r\n                    final A aInfo = unmarshaller.unmarshal(streamReader, A.class).getValue();\r\n                    System.out.println(aInfo);\r\n                }\r\n            }\r\n        }\r\n        \r\n        //Method to initialize the JAXBContext and Unmarshaller based on the incoming eventType\r\n        private void classSpecifier(Class eventTypeClass) throws JAXBException {\r\n            this.jaxbContext = JAXBContext.newInstance(eventTypeClass);\r\n            unmarshaller = jaxbContext.createUnmarshaller();\r\n        }\r\n        \r\n        public static void main(String args[]){\r\n            try{\r\n                InputStream xmlStream = Main.class.getClassLoader().getResourceAsStream(&quot;InputEPCISEvents.xml&quot;);\r\n                unmarshaller(xmlStream);\r\n            } catch (Exception e) {\r\n                System.out.println(e);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nThe problem I am facing is the differentiating between class `B` and `C`.\r\n1. I need to check if the incoming `localName` is `extension`.\r\n2. If it&#39;s `extension` then I need to check if the next element `localName` is also `extension`.\r\n3. If so then it&#39;s `class C` if not then `class B`.\r\n4. Since in `Step-2` I have already moved to `streamreader.next()` and if the element is not `extension` then its unable to map it to `class B` as I have already moved to `next()` element and it does not have the whole class.\r\n\r\nI am looking for some solutions where I can do the following:\r\n1. If the element in the 2nd verification is not `extension` then go back to the previous element then assign the whole class to `class B`.\r\n2. Assign the `streamReader` to `tempreader` when making a check so that you will be advancing in `tempreader`. But this also failing.\r\n\r\nIs there a way to go back to the previous element in a stream or else how can I tackle this issue? I hope I was able to provide a complete explanation.","title":"Stax XMLStreamReader check for the next event without moving ahead","body":"<p>I have a large <code>XML</code> file that consists of many events. I would like to <code>unmarshal</code> them. As it's a large file, I would like to <code>unmarshal</code> them one by one so the whole file is not stored in memory. It works for some events but fails for some due to the fact that it's unable to map to a particular class as it's already in the next event.</p>\n<p>Note: I am aware of the <code>XMLEventReader</code> but most of them have mentioned it as not very memory efficient so I am trying to use <code>XMLStreamReader</code> and accomplish this.</p>\n<p>Following is the sample <code>XML</code> file that contains the events:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;extension&gt;\n    &lt;extension&gt;\n        &lt;c&gt;\n            &lt;name&gt;CName&lt;/name&gt;\n            &lt;age&gt;CAge&lt;/age&gt;\n        &lt;/c&gt;\n    &lt;/extension&gt;\n&lt;/extension&gt;\n&lt;extension&gt;\n    &lt;b&gt;\n        &lt;name&gt;BName&lt;/name&gt;\n        &lt;age&gt;BAge&lt;/age&gt;\n    &lt;/b&gt;\n&lt;/extension&gt;\n&lt;a&gt;\n    &lt;name&gt;AName&lt;/name&gt;\n    &lt;age&gt;AAge&lt;/age&gt;\n&lt;/a&gt;\n&lt;extension&gt;\n    &lt;b&gt;\n        &lt;name&gt;BName&lt;/name&gt;\n        &lt;age&gt;BAge&lt;/age&gt;\n    &lt;/b&gt;\n&lt;/extension&gt;\n</code></pre>\n<p>I have 3 classes corresponding to them which will be used for <code>unmarshalling</code>:</p>\n<pre><code>@XmlRootElement(name = &quot;a&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;a&quot;, propOrder = {&quot;name&quot;,&quot;age&quot;})\npublic class A\n{\n    private String name;\n    private String age;\n    //Getter, Setter and other constructors\n}\n\n@XmlRootElement(name = &quot;extension&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;extension&quot;, propOrder = {&quot;name&quot;,&quot;age&quot;})\npublic class B\n{\n    @XmlPath(&quot;b/name/text()&quot;)\n    private String name;\n    @XmlPath(&quot;b/age/text()&quot;)\n    private String age;\n    //Getter, Setter and other constructors\n}\n\n@XmlRootElement(name = &quot;extension&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;extension&quot;, propOrder = {&quot;name&quot;,&quot;age&quot;})\npublic class C\n{\n    @XmlPath(&quot;extension/c/name/text()&quot;)\n    private String name;\n    @XmlPath(&quot;extension/c/age/text()&quot;)\n    private String age;\n    //Getter, Setter and other constructors\n}\n</code></pre>\n<p>Following is my <code>Main</code> class which will be used for <code>unmarshalling</code>:</p>\n<pre><code>public class Main{\n     \n    private Unmarshaller unmarshaller = null;\n    private JAXBContext jaxbContext = null;\n  \n    public void unmarshaller(InputStream xmlStream) throws IOException, XMLStreamException, JAXBException {\n        final XMLInputFactory xmlInputFactory = XMLInputFactory.newInstance();\n        final XMLStreamReader streamReader = xmlInputFactory.createXMLStreamReader(xmlStream);\n        \n        //Navigate to next and start of the XML Elements\n        streamReader.next();\n\n        //Read Until the end of the file\n        while (streamReader.hasNext()) {\n            //Check if the element is &quot;extension&quot; if so its Class B or C\n            if (streamReader.isStartElement() &amp;&amp; streamReader.getLocalName().equalsIgnoreCase(&quot;extension&quot;)) {\n\n                //Check if the next element also has &quot;extension&quot; if so its Class C\n               //This is IMPORTANT step for mapping b/w Class B &amp; C which is confusing me\n                streamReader.next();\n\n                if (streamReader.isStartElement() &amp;&amp; streamReader.getLocalName().equalsIgnoreCase(&quot;extension&quot;)) {\n                    //If there is 2 extension tag then its Class C\n                    classSpecifier(C.class);\n                    final C cInfo = unmarshaller.unmarshal(streamReader, C.class).getValue();\n                    System.out.println(cInfo);\n                }else{\n                    //If there is no &quot;extension&quot; tag then its Class B\n                    //THIS IS WHERE ITS FAILING: IF ITS NOT CLASS C THEN IT WOULD COME HERE BUT SINCE I HAVE \n                    //ALREADY MOVED TO NEXT ELEMENT TO CHECK IF ITS &quot;extension&quot; ITS UNABLE TO MAP THE WHOLE CLASS TO CLASS B\n                    classSpecifier(B.class);\n                    final B bInfo = unmarshaller.unmarshal(streamReader, B.class).getValue();\n                    System.out.println(bInfo);\n                }\n            }else if(streamReader.isStartElement() &amp;&amp; streamReader.getLocalName().equalsIgnoreCase(&quot;a&quot;)){\n                //If there is no &quot;extension&quot; then its class A\n                classSpecifier(A.class);\n                final A aInfo = unmarshaller.unmarshal(streamReader, A.class).getValue();\n                System.out.println(aInfo);\n            }\n        }\n    }\n    \n    //Method to initialize the JAXBContext and Unmarshaller based on the incoming eventType\n    private void classSpecifier(Class eventTypeClass) throws JAXBException {\n        this.jaxbContext = JAXBContext.newInstance(eventTypeClass);\n        unmarshaller = jaxbContext.createUnmarshaller();\n    }\n    \n    public static void main(String args[]){\n        try{\n            InputStream xmlStream = Main.class.getClassLoader().getResourceAsStream(&quot;InputEPCISEvents.xml&quot;);\n            unmarshaller(xmlStream);\n        } catch (Exception e) {\n            System.out.println(e);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The problem I am facing is the differentiating between class <code>B</code> and <code>C</code>.</p>\n<ol>\n<li>I need to check if the incoming <code>localName</code> is <code>extension</code>.</li>\n<li>If it's <code>extension</code> then I need to check if the next element <code>localName</code> is also <code>extension</code>.</li>\n<li>If so then it's <code>class C</code> if not then <code>class B</code>.</li>\n<li>Since in <code>Step-2</code> I have already moved to <code>streamreader.next()</code> and if the element is not <code>extension</code> then its unable to map it to <code>class B</code> as I have already moved to <code>next()</code> element and it does not have the whole class.</li>\n</ol>\n<p>I am looking for some solutions where I can do the following:</p>\n<ol>\n<li>If the element in the 2nd verification is not <code>extension</code> then go back to the previous element then assign the whole class to <code>class B</code>.</li>\n<li>Assign the <code>streamReader</code> to <code>tempreader</code> when making a check so that you will be advancing in <code>tempreader</code>. But this also failing.</li>\n</ol>\n<p>Is there a way to go back to the previous element in a stream or else how can I tackle this issue? I hope I was able to provide a complete explanation.</p>\n"},{"tags":["java","algorithm","loops","if-statement"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649108192,"creation_date":1649096538,"answer_id":71742017,"question_id":71736076,"body_markdown":"You are checking all the possible combinations on the game field. But it is redundant because you know the coordinates of the last move.\r\n\r\nIt&#39;s sufficient to find whether the cells adjacent with the current cell (the cell of the last move) form a winning combination. In order to do that, you might declare a `static` variable that will encompass all winning combinations for an arbitrary cell.\r\n\r\nAnd there are only four cases:\r\n* cells are aligned horizontally `-`;\r\n* cells are aligned vertically `|`;\r\n* next two cases: cells are forming a diagonal line `\\` or `/`.\r\n\r\nAnd this class variable will be a ***nested array*** where each element will represent a *shift* which needs to be added to the current cell in order to find the coordinates of its neighbor:\r\n```\r\npublic static final int[][][] NEIGHBOURS =\r\n                   {{{0, -1}, {0, 1}},   // horizontal -\r\n                    {{-1, 0}, {1, 0}},   // vertical   |\r\n                    {{-1, -1}, {1, 1}},  // diagonal   \\\r\n                    {{1, 1}, {-1, -1}}}; // diagonal   /\r\n```\r\n\r\nThe method `isWinningMove()` as its name suggests, checks whether the current move is a winning move. It expects *coordinates* of the last move and iterates over `NEIGHBOURS` array. If a winning combination wasn&#39;t found, it returns `false`:\r\n\r\n    public static boolean isWinningMove(int row, int col) {\r\n        for (int[][] next: NEIGHBOURS) {\r\n            if (isWinningCombo(next, row, col)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nMethod `isWinningCombo()` validates the combination by checking where the *&quot;left&quot; neighbour&#39;s* value and the *&quot;right&quot; neighbour&#39;s* value are equal to the *current value*.\r\n\r\n    public static boolean isWinningCombo(int[][] neighbour, int row, int col) {\r\n        int[] leftShift = neighbour[0];\r\n        int[] rightShift = neighbour[1];\r\n\r\n        return getMapValue(row + leftShift[0], col + leftShift[1]) == map[row][col] &amp;&amp;  // leftNeighbour == current\r\n               getMapValue(row + rightShift[0], col + rightShift[1]) == map[row][col];  // rightNeighbour == current\r\n    }\r\n\r\nMethod `getMapValue()` is responsible for validation of the *coordinates* of *neighbors*. If the *neighbor* doesn&#39;t exist it&#39;ll return an invalid character so that `isWinningCombo()` will return `false`. If the *neighbor* exists, the method yields its value.\r\n\r\n    public static char getMapValue(int row, int col) {\r\n        if (row &lt; 0 || row == map.length || col &lt; 0 || col == map.length) { // invalid index\r\n            return &#39;!&#39;; // illegal value for which `isWinningCombo()` will return false\r\n        }\r\n        return map[row][col];\r\n    }\r\n\r\nNote: all methods are deliberately designed to be narrow-focused, as the ***Single responsibility principle suggests***. It makes it easier to read, test and reuse the code.","title":"Replace if-statements with Loops","body":"<p>You are checking all the possible combinations on the game field. But it is redundant because you know the coordinates of the last move.</p>\n<p>It's sufficient to find whether the cells adjacent with the current cell (the cell of the last move) form a winning combination. In order to do that, you might declare a <code>static</code> variable that will encompass all winning combinations for an arbitrary cell.</p>\n<p>And there are only four cases:</p>\n<ul>\n<li>cells are aligned horizontally <code>-</code>;</li>\n<li>cells are aligned vertically <code>|</code>;</li>\n<li>next two cases: cells are forming a diagonal line <code>\\</code> or <code>/</code>.</li>\n</ul>\n<p>And this class variable will be a <em><strong>nested array</strong></em> where each element will represent a <em>shift</em> which needs to be added to the current cell in order to find the coordinates of its neighbor:</p>\n<pre><code>public static final int[][][] NEIGHBOURS =\n                   {{{0, -1}, {0, 1}},   // horizontal -\n                    {{-1, 0}, {1, 0}},   // vertical   |\n                    {{-1, -1}, {1, 1}},  // diagonal   \\\n                    {{1, 1}, {-1, -1}}}; // diagonal   /\n</code></pre>\n<p>The method <code>isWinningMove()</code> as its name suggests, checks whether the current move is a winning move. It expects <em>coordinates</em> of the last move and iterates over <code>NEIGHBOURS</code> array. If a winning combination wasn't found, it returns <code>false</code>:</p>\n<pre><code>public static boolean isWinningMove(int row, int col) {\n    for (int[][] next: NEIGHBOURS) {\n        if (isWinningCombo(next, row, col)) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>Method <code>isWinningCombo()</code> validates the combination by checking where the <em>&quot;left&quot; neighbour's</em> value and the <em>&quot;right&quot; neighbour's</em> value are equal to the <em>current value</em>.</p>\n<pre><code>public static boolean isWinningCombo(int[][] neighbour, int row, int col) {\n    int[] leftShift = neighbour[0];\n    int[] rightShift = neighbour[1];\n\n    return getMapValue(row + leftShift[0], col + leftShift[1]) == map[row][col] &amp;&amp;  // leftNeighbour == current\n           getMapValue(row + rightShift[0], col + rightShift[1]) == map[row][col];  // rightNeighbour == current\n}\n</code></pre>\n<p>Method <code>getMapValue()</code> is responsible for validation of the <em>coordinates</em> of <em>neighbors</em>. If the <em>neighbor</em> doesn't exist it'll return an invalid character so that <code>isWinningCombo()</code> will return <code>false</code>. If the <em>neighbor</em> exists, the method yields its value.</p>\n<pre><code>public static char getMapValue(int row, int col) {\n    if (row &lt; 0 || row == map.length || col &lt; 0 || col == map.length) { // invalid index\n        return '!'; // illegal value for which `isWinningCombo()` will return false\n    }\n    return map[row][col];\n}\n</code></pre>\n<p>Note: all methods are deliberately designed to be narrow-focused, as the <em><strong>Single responsibility principle suggests</strong></em>. It makes it easier to read, test and reuse the code.</p>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649117750,"creation_date":1649117750,"answer_id":71745055,"question_id":71736076,"body_markdown":"If you still want to brute force check using loops:\r\n\r\n      static boolean checkWin(char dot) {\r\n        boolean winFound = false;\r\n        // check for horizontal win\r\n        for(int row = 0; row &lt; map.length &amp;&amp; !winFound; row++) {\r\n          winFound = checkRow(row, dot);\r\n        }\r\n        // check for vertical win (assuming all rows have same width)\r\n        for(int col = 0; col &lt; map[0].length &amp;&amp; !winFound; col++) {\r\n          winFound = checkColumn(col, dot);\r\n        }\r\n        // check for diagonal wins (they will not be checked if a win has already been found)\r\n        return winFound || checkDiagonal1(dot) || checkDiagonal2(dot);\r\n      }\r\n    \r\n      static boolean checkRow(int row, char dot) {\r\n        for(char c : map[row]) {\r\n          if (c != dot) return false;\r\n        }\r\n        return true;\r\n      }\r\n    \r\n      static boolean checkColumn(int col, char dot) {\r\n        for(int row = 0; row &lt; map.length; row++) {\r\n          if (map[row][col] != dot) return false;\r\n        }\r\n        return true;\r\n      }\r\n      \r\n      static boolean checkDiagonal1(char dot) {\r\n        // Upper left to bottom right (assumes a SQUARE map)\r\n        for(int row = 0, col = 0; row &lt; map.length; row++, col++) {\r\n          if (map[row][col] != dot) return false;\r\n        }\r\n        return true;\r\n      }\r\n    \r\n      static boolean checkDiagonal2(char dot) {\r\n        // Upper right to bottom left (assumes a SQUARE map)\r\n        for(int row = 0, col = (map[0].length - 1); row &lt; map.length; row++, col--) {\r\n          if (map[row][col] != dot) return false;\r\n        }\r\n        return true;\r\n      }\r\n\r\n","title":"Replace if-statements with Loops","body":"<p>If you still want to brute force check using loops:</p>\n<pre><code>  static boolean checkWin(char dot) {\n    boolean winFound = false;\n    // check for horizontal win\n    for(int row = 0; row &lt; map.length &amp;&amp; !winFound; row++) {\n      winFound = checkRow(row, dot);\n    }\n    // check for vertical win (assuming all rows have same width)\n    for(int col = 0; col &lt; map[0].length &amp;&amp; !winFound; col++) {\n      winFound = checkColumn(col, dot);\n    }\n    // check for diagonal wins (they will not be checked if a win has already been found)\n    return winFound || checkDiagonal1(dot) || checkDiagonal2(dot);\n  }\n\n  static boolean checkRow(int row, char dot) {\n    for(char c : map[row]) {\n      if (c != dot) return false;\n    }\n    return true;\n  }\n\n  static boolean checkColumn(int col, char dot) {\n    for(int row = 0; row &lt; map.length; row++) {\n      if (map[row][col] != dot) return false;\n    }\n    return true;\n  }\n  \n  static boolean checkDiagonal1(char dot) {\n    // Upper left to bottom right (assumes a SQUARE map)\n    for(int row = 0, col = 0; row &lt; map.length; row++, col++) {\n      if (map[row][col] != dot) return false;\n    }\n    return true;\n  }\n\n  static boolean checkDiagonal2(char dot) {\n    // Upper right to bottom left (assumes a SQUARE map)\n    for(int row = 0, col = (map[0].length - 1); row &lt; map.length; row++, col--) {\n      if (map[row][col] != dot) return false;\n    }\n    return true;\n  }\n</code></pre>\n"}],"owner":{"account_id":24820566,"reputation":11,"user_id":18700958,"display_name":"IMBABOT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649117750,"creation_date":1649069803,"question_id":71736076,"body_markdown":"I&#39;m working on a *Tic-tac-toe* game.\r\n\r\nI&#39;ve got a method, which initially looked like this:\r\n\r\n        static boolean checkWin(char dot) {\r\n            if (map[0][0] == dot &amp;&amp; map[0][1] == dot &amp;&amp; map[0][2] == dot) {\r\n                return true;\r\n            }\r\n\r\n            // more code\r\n\r\n            if (map[0][2] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[2][0] == dot) {\r\n                return true;\r\n            }\r\n    \r\n            return false;\r\n        }\r\n\r\nWith loops, I refactored this method to:\r\n\r\n\r\n    static boolean checkWin(char dot) {\r\n        for (int i = 0; i &lt;map.length ; i++) {\r\n            for (int j = 0; j &lt; map[i].length; j++) {\r\n                if (map[0][i] == dot &amp;&amp; i == 2) {\r\n                    return true;\r\n                }\r\n                if (map[1][i] == dot &amp;&amp; i == 2) {\r\n                    return true;\r\n                }\r\n                if (map[2][i] == dot &amp;&amp; i == 2) {\r\n                    return true;\r\n                }\r\n                if (map[i][0] == dot &amp;&amp; i == 2) {\r\n                    return true;\r\n                }\r\n                if (map[i][1] == dot &amp;&amp; i == 2) {\r\n                    return true;\r\n                }\r\n                if (map[i][2] == dot &amp;&amp; i == 2) {\r\n                    return true;\r\n                }\r\n\r\n                if (map[i][i] == dot &amp;&amp; i == 2) {\r\n                    return true;\r\n                }\r\n\r\n                if (map[0][2] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[2][0] == dot) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nI&#39;ve got a problem with this line of code:\r\n\r\n         if (map[0][2] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[2][0] == dot) \r\n                  return true;\r\n         }\r\n\r\nI need to get `map[i][?]`.\r\n\r\nWhere `?` - `2`, `1`, `0`\r\n\r\nHow can I achieve it?\r\n","title":"Replace if-statements with Loops","body":"<p>I'm working on a <em>Tic-tac-toe</em> game.</p>\n<p>I've got a method, which initially looked like this:</p>\n<pre><code>    static boolean checkWin(char dot) {\n        if (map[0][0] == dot &amp;&amp; map[0][1] == dot &amp;&amp; map[0][2] == dot) {\n            return true;\n        }\n\n        // more code\n\n        if (map[0][2] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[2][0] == dot) {\n            return true;\n        }\n\n        return false;\n    }\n</code></pre>\n<p>With loops, I refactored this method to:</p>\n<pre><code>static boolean checkWin(char dot) {\n    for (int i = 0; i &lt;map.length ; i++) {\n        for (int j = 0; j &lt; map[i].length; j++) {\n            if (map[0][i] == dot &amp;&amp; i == 2) {\n                return true;\n            }\n            if (map[1][i] == dot &amp;&amp; i == 2) {\n                return true;\n            }\n            if (map[2][i] == dot &amp;&amp; i == 2) {\n                return true;\n            }\n            if (map[i][0] == dot &amp;&amp; i == 2) {\n                return true;\n            }\n            if (map[i][1] == dot &amp;&amp; i == 2) {\n                return true;\n            }\n            if (map[i][2] == dot &amp;&amp; i == 2) {\n                return true;\n            }\n\n            if (map[i][i] == dot &amp;&amp; i == 2) {\n                return true;\n            }\n\n            if (map[0][2] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[2][0] == dot) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>I've got a problem with this line of code:</p>\n<pre><code>     if (map[0][2] == dot &amp;&amp; map[1][1] == dot &amp;&amp; map[2][0] == dot) \n              return true;\n     }\n</code></pre>\n<p>I need to get <code>map[i][?]</code>.</p>\n<p>Where <code>?</code> - <code>2</code>, <code>1</code>, <code>0</code></p>\n<p>How can I achieve it?</p>\n"},{"tags":["java","calculator"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1649116842,"post_id":71744893,"comment_id":126789940,"body_markdown":"I think, for starters, your 100,000 limit doesn&#39;t make sense. You probably meant 99,999.99. Second, do you want to create your own method or use a library for the conversion? I assume you want to do your own.","body":"I think, for starters, your 100,000 limit doesn&#39;t make sense. You probably meant 99,999.99. Second, do you want to create your own method or use a library for the conversion? I assume you want to do your own."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1649117016,"post_id":71744893,"comment_id":126789976,"body_markdown":"You should be able to get the `ChoiceFormat` class to do this.  If not, you could write your own implementation of `NumberFormat`.","body":"You should be able to get the <code>ChoiceFormat</code> class to do this.  If not, you could write your own implementation of <code>NumberFormat</code>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1649117070,"post_id":71744893,"comment_id":126789986,"body_markdown":"For [example](https://stackoverflow.com/questions/2944822/format-double-value-in-scientific-notation)","body":"For <a href=\"https://stackoverflow.com/questions/2944822/format-double-value-in-scientific-notation\">example</a>"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649117710,"creation_date":1649117710,"answer_id":71745050,"question_id":71744893,"body_markdown":"Oddly enough, I&#39;ve normally had the reverse problem ;) Using no format normally sees scientific notation happen automatically, though I haven&#39;t looked into the docs to see when it happens. An experiment rather than an answer:\r\n\r\n    public class WhenScientific {\r\n        public static void main(String[] args) {\r\n            try {\r\n                double d = 1.0;\r\n                for(int i = 0;i &lt; 10;i++) {  \r\n                    System.out.println(d);\r\n                    d *= 10;\r\n                }\r\n            }\r\n            catch(Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Java Calculator - Showing Result in Scientific Notation","body":"<p>Oddly enough, I've normally had the reverse problem ;) Using no format normally sees scientific notation happen automatically, though I haven't looked into the docs to see when it happens. An experiment rather than an answer:</p>\n<pre><code>public class WhenScientific {\n    public static void main(String[] args) {\n        try {\n            double d = 1.0;\n            for(int i = 0;i &lt; 10;i++) {  \n                System.out.println(d);\n                d *= 10;\n            }\n        }\n        catch(Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24751201,"reputation":13,"user_id":18636674,"display_name":"Dippylicious"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649117710,"creation_date":1649116033,"question_id":71744893,"body_markdown":"I am coding a java-based calculator and just wanted to show any value over 100,000 into scientific notation format. I&#39;m wondering how you would display the number, change it back into long form for calculations on the back-end, and then display it once again in clean, scientific notation. I would like it to be as simple as possible as I am not a master by any means at java, I have just started learning it about two months ago.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    package javacalc;\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.io.*;\r\n    import javax.swing.*;\r\n    import java.text.DecimalFormat;\r\n\r\n    public class CalcGUI extends JFrame implements ActionListener { \r\n        final static String PROJ_TITLE = &quot;Calculator&quot;;\r\n        final static String PROJ_AUTHORS = String.format(&quot;Jaren Browne%nKevin Miller&quot;);\r\n\r\n        final static int[] PROJ_WINDOW_SIZE = {490, 650};\r\n        final static int[] PROJ_WINDOW_LOCATION = {300, 300};\r\n\r\n        GridBagConstraints gbcCalcPanel = new GridBagConstraints();\r\n        GridBagConstraints gbcButtonPanel = new GridBagConstraints();\r\n        JPanel calcPanel = new JPanel();\r\n        JTextField upperDisplay;\r\n        JTextField lowerDisplay;\r\n        \r\n        private static char operation;\r\n        private static double firstNumber = 0;\r\n        private static double secondNumber = 0;\r\n        private static double mem = 0;\r\n        private static boolean clearScreen = true;\r\n        \r\n        DecimalFormat df = new DecimalFormat(&quot;0.##############&quot;);\r\n        \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            String command = e.getActionCommand();\r\n            String displayString = upperDisplay.getText();\r\n            \r\n            if (digitTest(command)) {\r\n                updateDisplay(command);\r\n                return;\r\n            }\r\n\r\n            // Basic arithmetic\r\n            if (command.equals(&quot;=&quot;) || command.equals(&quot;+&quot;) || command.equals(&quot;-&quot;) || command.equals(&quot;x&quot;) || command.equals(&quot;&#247;&quot;) || command.equals(&quot;%&quot;)) {\r\n                clearScreen = true;\r\n\r\n                try {\r\n                    if (!calculate(Double.parseDouble(displayString))) {\r\n                        updateDisplay(&quot;DIV / 0&quot;);\r\n                        reset();\r\n                        return;\r\n                    }\r\n                } catch (NumberFormatException ex) {}\r\n\r\n                updateDisplay(&quot;&quot; + df.format(secondNumber));\r\n                clearScreen = true;\r\n                operation = command.charAt(0);\r\n                firstNumber = secondNumber;\r\n                return;\r\n            }\r\n\r\n            switch (command) {\r\n                case &quot;.&quot;:                   // decimal\r\n                    updateDisplay(&quot;.&quot;);\r\n                    break;\r\n\r\n                // Pos/Neg pressed\r\n                case &quot;+/-&quot;:\r\n                    clearScreen = true;\r\n                    if (!upperDisplay.getText().equals(&quot;0&quot;)) {\r\n                        try {\r\n                            double inverse = Double.parseDouble(displayString);\r\n                            inverse *= -1;\r\n                            updateDisplay(df.format(inverse));\r\n                        } catch (NumberFormatException ex) {\r\n                            updateDisplay(&quot;0&quot;);\r\n                        }\r\n                    }\r\n                    break;\r\n                    \r\n                // Clear pressed\r\n                case &quot;CE&quot;:\r\n                    reset();\r\n                    updateDisplay(&quot;0&quot;);\r\n                    break;\r\n\r\n                // Backspace pressed\r\n                case &quot;&lt;-&quot;:\r\n                    if (clearScreen) {\r\n                        updateDisplay(&quot;0&quot;);\r\n                    } else {\r\n                        deletePressed();\r\n                    }\r\n                    break;\r\n                    \r\n                case &quot;MC&quot;:\r\n                    mem = 0;\r\n                    break;\r\n                    \r\n                case &quot;MR&quot;:\r\n                    clearScreen = true;\r\n                    updateDisplay(&quot;&quot; + df.format(mem));\r\n                    clearScreen = true;\r\n                    break;\r\n                    \r\n                case &quot;M+&quot;:\r\n                    try {\r\n                        mem += Double.parseDouble(displayString);\r\n                    } catch (NumberFormatException ex) {}\r\n                    break;\r\n                    \r\n                case &quot;M-&quot;:\r\n                    try {\r\n                        mem -= Double.parseDouble(displayString);\r\n                    } catch (NumberFormatException ex) {}\r\n                    break;\r\n                    \r\n                case &quot;π&quot;:\r\n                    clearScreen = true;\r\n                    updateDisplay(String.valueOf(Math.PI));\r\n                    clearScreen = true;\r\n                    break;\r\n                    \r\n                case &quot;xⁿ&quot;:\r\n                    clearScreen = true;\r\n                    calculate(Double.parseDouble(displayString));\r\n                    updateDisplay(&quot;&quot; + df.format(secondNumber));\r\n                    operation = &#39;^&#39;;\r\n                    firstNumber = secondNumber;\r\n                    clearScreen = true;\r\n                    break;\r\n                \r\n                case &quot;√&quot;:\r\n                    clearScreen = true;\r\n                    calculate(Double.parseDouble(displayString));\r\n                    updateDisplay(&quot;&quot; + df.format(secondNumber));\r\n                    operation = &#39;√&#39;;\r\n                    firstNumber = secondNumber;\r\n                    clearScreen = true;\r\n                    break;\r\n\r\n                case &quot;ⁿ√&quot;:\r\n                    clearScreen = true;\r\n                    calculate(Double.parseDouble(displayString));\r\n                    updateDisplay(&quot;&quot; + df.format(secondNumber));\r\n                    operation = &#39;&amp;&#39;;\r\n                    firstNumber = secondNumber;\r\n                    clearScreen = true;\r\n                    break;\r\n                    \r\n                case &quot;sin&quot;:\r\n                    clearScreen = true;\r\n                    calculate(Double.parseDouble(displayString));\r\n                    updateDisplay(&quot;&quot; + df.format(secondNumber));\r\n                    operation = &#39;S&#39;;\r\n                    firstNumber = secondNumber;\r\n                    clearScreen = true;\r\n                    break;\r\n\r\n                case &quot;cos&quot;:\r\n                    clearScreen = true;\r\n                    calculate(Double.parseDouble(displayString));\r\n                    updateDisplay(&quot;&quot; + df.format(secondNumber));\r\n                    operation = &#39;C&#39;;\r\n                    firstNumber = secondNumber;\r\n                    clearScreen = true;\r\n                    break;\r\n\r\n                case &quot;tan&quot;:\r\n                    clearScreen = true;\r\n                    calculate(Double.parseDouble(displayString));\r\n                    updateDisplay(&quot;&quot; + df.format(secondNumber));\r\n                    operation = &#39;T&#39;;\r\n                    firstNumber = secondNumber;\r\n                    clearScreen = true;\r\n                    break;\r\n                    \r\n                case &quot;sin‾&#185;&quot;:\r\n                    clearScreen = true;\r\n                    calculate(Double.parseDouble(displayString));\r\n                    updateDisplay(&quot;&quot; + df.format(secondNumber));\r\n                    operation = &#39;s&#39;;\r\n                    firstNumber = secondNumber;\r\n                    clearScreen = true;\r\n                    break;\r\n                    \r\n                case &quot;cos‾&#185;&quot;:\r\n                    clearScreen = true;\r\n                    calculate(Double.parseDouble(displayString));\r\n                    updateDisplay(&quot;&quot; + df.format(secondNumber));\r\n                    operation = &#39;c&#39;;\r\n                    firstNumber = secondNumber;\r\n                    clearScreen = true;\r\n                    break;\r\n\r\n                case &quot;tan‾&#185;&quot;:\r\n                    clearScreen = true;\r\n                    calculate(Double.parseDouble(displayString));\r\n                    updateDisplay(&quot;&quot; + df.format(secondNumber));\r\n                    operation = &#39;t&#39;;\r\n                    firstNumber = secondNumber;\r\n                    clearScreen = true;\r\n                    break;\r\n\r\n            }\r\n        }\r\n       \r\n        private boolean calculate(double displayNumber) {\r\n            secondNumber = displayNumber;\r\n            \r\n            switch (operation) {\r\n                case &#39;+&#39;:           // Addition\r\n                    secondNumber += firstNumber;\r\n                    break;\r\n\r\n                case &#39;-&#39;:           // Subtraction\r\n                    secondNumber = firstNumber - secondNumber;\r\n                    break;\r\n\r\n                case &#39;x&#39;:           // Multiplication\r\n                    secondNumber *= firstNumber;\r\n                    break;\r\n\r\n                case &#39;&#247;&#39;:           // Division\r\n                    try {\r\n                        int divZeroTest = (int) firstNumber / (int) secondNumber;\r\n                        secondNumber = firstNumber / secondNumber;\r\n                        break;\r\n                    } catch (ArithmeticException ex){\r\n                        clearScreen = true;\r\n                        return false;\r\n                    }\r\n                    \r\n                case &#39;%&#39;:           // Percentage\r\n                    secondNumber = (firstNumber / 100) * secondNumber;\r\n                    break;\r\n                    \r\n                case &#39;^&#39;:           // Exponential power\r\n                    secondNumber = Math.pow(firstNumber, secondNumber);\r\n                    break;\r\n                    \r\n                case &#39;√&#39;:           // Square root\r\n                    if (firstNumber == 0) {\r\n                        firstNumber = 1;\r\n                    }\r\n                    secondNumber = firstNumber * Math.sqrt(secondNumber);\r\n                    break;\r\n                    \r\n                case &#39;&amp;&#39;:           // Exponential root\r\n                    secondNumber = Math.pow(secondNumber, (1 / firstNumber));\r\n                    break;\r\n                    \r\n                case &#39;S&#39;:\r\n                    if (firstNumber == 0) {\r\n                        firstNumber = 1;\r\n                    }\r\n                    secondNumber = firstNumber * Math.sin(Math.toRadians(secondNumber));\r\n                    break;\r\n                    \r\n                case &#39;C&#39;:\r\n                    if (firstNumber == 0) {\r\n                        firstNumber = 1;\r\n                    }\r\n                    secondNumber = firstNumber * Math.cos(Math.toRadians(secondNumber));\r\n                    break;\r\n\r\n                case &#39;T&#39;:\r\n                    if (firstNumber == 0) {\r\n                        firstNumber = 1;\r\n                    }\r\n                    secondNumber = firstNumber * Math.tan(Math.toRadians(secondNumber));\r\n                    break;\r\n                    \r\n                case &#39;s&#39;:\r\n                    if (firstNumber == 0) {\r\n                        firstNumber = 1;\r\n                    }\r\n                    secondNumber = firstNumber * Math.toDegrees(Math.asin(secondNumber));\r\n                    break;\r\n\r\n                case &#39;c&#39;:\r\n                    if (firstNumber == 0) {\r\n                        firstNumber = 1;\r\n                    }\r\n                    secondNumber = firstNumber * Math.toDegrees(Math.acos(secondNumber));\r\n                    break;\r\n\r\n                case &#39;t&#39;:\r\n                    if (firstNumber == 0) {\r\n                        firstNumber = 1;\r\n                    }\r\n                    secondNumber = firstNumber * Math.toDegrees(Math.atan(secondNumber));\r\n                    break;\r\n\r\n            }\r\n            return true;\r\n        }\r\n        \r\n        // MAIN CONSTRUCT\r\n        public CalcGUI() {\r\n            initGUI();\r\n\r\n            calcPanel.setLayout(new GridBagLayout());\r\n            \r\n            // Add display box\r\n            gbcCalcPanel.gridx = 0;\r\n            gbcCalcPanel.gridy = 0;\r\n            gbcCalcPanel.fill = GridBagConstraints.HORIZONTAL;\r\n            gbcCalcPanel.gridwidth = 1;\r\n            calcPanel.add(upperDisplay = buildDisplay(), gbcCalcPanel);\r\n            \r\n    //        // Add second display box\r\n    //        gbcCalcPanel.gridx = 0;\r\n    //        gbcCalcPanel.gridy = 1;\r\n    //        gbcCalcPanel.fill = GridBagConstraints.HORIZONTAL;\r\n    //        gbcCalcPanel.gridwidth = 1;\r\n    //        calcPanel.add(lowerDisplay = buildDisplay(), gbcCalcPanel);\r\n                    \r\n            // Add advanced calculator buttons\r\n            gbcCalcPanel.gridx = 0;\r\n            gbcCalcPanel.gridy = 2;\r\n            gbcCalcPanel.weighty = 1;\r\n            gbcCalcPanel.fill = GridBagConstraints.BOTH;\r\n            calcPanel.add(buildAdvancedButtonPanel(), gbcCalcPanel);\r\n            \r\n            // Add calculator buttons\r\n            gbcCalcPanel.gridx = 0;\r\n            gbcCalcPanel.gridy = 3;\r\n            gbcCalcPanel.weighty = 1;\r\n            gbcCalcPanel.fill = GridBagConstraints.BOTH;        \r\n            calcPanel.add(buildButtonPanel(), gbcCalcPanel);\r\n            \r\n            setContentPane(calcPanel);\r\n            pack();\r\n        }\r\n\r\n        // DISPLAY BOX\r\n        private JTextField buildDisplay() {\r\n            JTextField t = new JTextField(&quot;&quot;, 16);\r\n            t.setHorizontalAlignment(SwingConstants.RIGHT);\r\n            t.setBackground(Color.DARK_GRAY);\r\n            t.setForeground(Color.GREEN);\r\n            t.setText(&quot;0&quot;);\r\n            t.setCaretPosition(1);\r\n\r\n            InputStream fontStream = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;DS-DIGII.TTF&quot;);\r\n            try {\r\n                Font calcDisplayFont = Font.createFont(Font.TRUETYPE_FONT, fontStream).deriveFont(60f);\r\n                GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n                ge.registerFont(calcDisplayFont);\r\n                t.setFont(calcDisplayFont);\r\n            } catch (IOException | FontFormatException ex) {\r\n                System.out.println(ex.getMessage());\r\n                Font calcDisplayFont = new Font(&quot;Lucida Console&quot;, Font.BOLD, 40);\r\n                t.setFont(calcDisplayFont);\r\n            }\r\n\r\n\r\n            return t;\r\n        }\r\n        \r\n        // MAIN BUTTON PANEL\r\n        private JPanel buildButtonPanel() {\r\n            JPanel panel = new JPanel();\r\n            panel.setLayout(new GridBagLayout());\r\n            panel.setBackground(Color.gray);\r\n            \r\n            String[][] buttonText = {{&quot;MC&quot;, &quot;MR&quot;, &quot;M-&quot;, &quot;M+&quot;, &quot;&#247;&quot;},\r\n                                    {&quot;+/-&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;x&quot;},\r\n                                    {&quot;%&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;-&quot;},\r\n                                    {&quot;√&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;+&quot;},\r\n                                    {&quot;CE&quot;, &quot;0&quot;, &quot;.&quot;, &quot;=&quot;, &quot;+&quot;}};\r\n\r\n            int maxWidth = buttonText[0].length;\r\n            int maxHeight = buttonText.length;\r\n            JButton[][] calcButton = new JButton[maxHeight][maxWidth];\r\n            \r\n            // cycle through button array and build\r\n            for (int yPos = 0; yPos &lt; maxHeight; yPos++) {\r\n                for (int xPos = 0; xPos &lt; maxWidth; xPos++) {\r\n                    \r\n                    // build button panel, skipping button for extended &#39;+&#39; button\r\n                    if (!(yPos == 4 &amp;&amp; xPos == 4)) {\r\n                        calcButton[yPos][xPos] = new JButton(buttonText[yPos][xPos]);\r\n                        calcButton[yPos][xPos].setFont(calcButton[yPos][xPos].getFont().deriveFont(30f));\r\n                        calcButton[yPos][xPos].setBackground(Color.black);\r\n                        calcButton[yPos][xPos].addActionListener(this);\r\n\r\n                        gbcButtonPanel.gridx = xPos;\r\n                        gbcButtonPanel.gridy = yPos;\r\n                        gbcButtonPanel.gridwidth = 1;\r\n                        gbcButtonPanel.weightx = 1;\r\n                        gbcButtonPanel.weighty = 1;\r\n                        Insets buttonSpacing = new Insets(2,2,2,2);\r\n                        gbcButtonPanel.insets = buttonSpacing;\r\n                        \r\n                        // if the button being added is &#39;+&#39; extended it vertically\r\n                        if (yPos == 3 &amp;&amp; xPos == 4) {\r\n                            gbcButtonPanel.gridheight = 2;\r\n                            gbcButtonPanel.fill = GridBagConstraints.BOTH;\r\n                        } else {\r\n                            gbcButtonPanel.gridheight = 1;\r\n                            gbcButtonPanel.fill = GridBagConstraints.BOTH;\r\n                        }\r\n                        panel.add(calcButton[yPos][xPos], gbcButtonPanel);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return panel;\r\n        }\r\n        \r\n        // ADDITIONAL BUTTON PANEL\r\n        private JPanel buildAdvancedButtonPanel() {\r\n            JPanel panel = new JPanel();\r\n            panel.setLayout(new GridBagLayout());\r\n            panel.setBackground(Color.darkGray);\r\n            \r\n            String[][] buttonText = {{&quot;&lt;-&quot;, &quot;xⁿ&quot;, &quot;sin&quot;, &quot;cos&quot;, &quot;tan&quot;},\r\n                                    {&quot;π&quot;, &quot;ⁿ√&quot;, &quot;sin‾&#185;&quot;, &quot;cos‾&#185;&quot;, &quot;tan‾&#185;&quot;}};\r\n\r\n            int maxWidth = buttonText[0].length;\r\n            int maxHeight = buttonText.length;\r\n            JButton[][] calcButton = new JButton[maxHeight][maxWidth];\r\n            \r\n            // cycle through button array and build\r\n            for (int yPos = 0; yPos &lt; maxHeight; yPos++) {\r\n                for (int xPos = 0; xPos &lt; maxWidth; xPos++) {\r\n                    calcButton[yPos][xPos] = new JButton(buttonText[yPos][xPos]);\r\n                    calcButton[yPos][xPos].setFont(calcButton[yPos][xPos].getFont().deriveFont(30f));\r\n                    calcButton[yPos][xPos].addActionListener(this);\r\n                    \r\n                    gbcButtonPanel.gridx = xPos;\r\n                    gbcButtonPanel.gridy = yPos;\r\n                    gbcButtonPanel.gridwidth = 1;\r\n                    gbcButtonPanel.weightx = 1;\r\n                    gbcButtonPanel.weighty = 1;\r\n                    gbcButtonPanel.gridheight = 1;\r\n                    Insets buttonSpacing = new Insets(2,2,2,2);\r\n                    gbcButtonPanel.insets = buttonSpacing;\r\n                    gbcButtonPanel.fill = GridBagConstraints.BOTH;\r\n                    \r\n                    panel.add(calcButton[yPos][xPos], gbcButtonPanel);\r\n                }\r\n            }\r\n            return panel;\r\n        }\r\n        \r\n        // INITIALIZE GUI LOOK AND FEEL\r\n        private void initGUI() {\r\n            try {\r\n                // sets the look and feel to that of the OS if possible\r\n                UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n            } catch (UnsupportedLookAndFeelException | ClassNotFoundException | InstantiationException | IllegalAccessException ex) {\r\n                // tell us a story\r\n                System.out.printf(&quot;Unable to load GUI.%n%s%n&quot;, ex.getMessage());\r\n            } \r\n            \r\n            // set some window and frame options\r\n            setTitle(PROJ_TITLE);\r\n            setResizable(false);\r\n            setLocation(PROJ_WINDOW_LOCATION[0], PROJ_WINDOW_LOCATION[1]);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n        \r\n        // TEST IF REQUEST IS A NUMBER\r\n        private boolean digitTest(String s) {\r\n            try {\r\n                Integer.parseInt(s);\r\n                return true;\r\n            } catch (NumberFormatException ex) {\r\n                return false;\r\n            }\r\n        }\r\n        \r\n        // UPDATE DISPLAY\r\n        private void updateDisplay(String displayDigits) {\r\n            String displayString = upperDisplay.getText();\r\n\r\n            // Does screen need cleared before moving forward?\r\n            if (clearScreen) {\r\n                displayString = &quot;0&quot;;\r\n                upperDisplay.setText(displayString);\r\n                clearScreen = false;\r\n            }   \r\n            \r\n            // Decimal handler\r\n            if (displayDigits.equals(&quot;.&quot;)){\r\n                if (!displayString.contains(displayDigits)) {\r\n                    if (displayString.equals(&quot;0&quot;)) {\r\n                        displayString = String.format(&quot;0%s&quot;, displayDigits);\r\n                    } else {\r\n                        displayString = String.format(&quot;%s&quot;, displayString + displayDigits);\r\n                    }\r\n                }\r\n            } else {        // No decimal\r\n                if (displayString.equals(&quot;0&quot;)) {\r\n                    displayString = String.format(&quot;%s&quot;, displayDigits);\r\n                } else {\r\n                    displayString = String.format(displayString + displayDigits);\r\n                }\r\n            }\r\n            \r\n\r\n            // Check for DIV/0 and format string for display length\r\n            try {            \r\n            // Check length and truncate\r\n                if (Double.parseDouble(displayString) &lt; 0 &amp;&amp; displayString.length() &gt; 16) {\r\n                    displayString = displayString.substring(0,16);\r\n                } else if (Double.parseDouble(displayString) &gt; 0 &amp;&amp; displayString.length() &gt; 15) {\r\n                    displayString = displayString.substring(0,15);\r\n                } else if (Double.isNaN(Double.parseDouble(displayString))) {\r\n                    displayString = String.format(&quot;%-16s&quot;, &quot;Domain Error&quot;);\r\n                    reset();\r\n                }\r\n            } catch (NumberFormatException ex) {\r\n                displayString = String.format(&quot;%-17s&quot;, displayDigits);\r\n            }\r\n            \r\n            upperDisplay.setText(displayString);\r\n        }\r\n\r\n        // DELETE LAST CHARACTER\r\n        private void deletePressed(){\r\n            int l = upperDisplay.getText().length();\r\n            int n = upperDisplay.getText().length() - 1;\r\n            \r\n            if (l &gt; 1) {\r\n                StringBuilder backSpace = new StringBuilder(upperDisplay.getText());\r\n                upperDisplay.setText(backSpace.deleteCharAt(n).toString());\r\n            } else {\r\n                upperDisplay.setText(&quot;0&quot;);\r\n            }\r\n        }\r\n        \r\n        // CLEAR VARIABLES AND RESET\r\n        private void reset() {\r\n            firstNumber = 0;\r\n            secondNumber = 0;\r\n            operation = &#39; &#39;;\r\n            clearScreen = true;\r\n        }\r\n        \r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java Calculator - Showing Result in Scientific Notation","body":"<p>I am coding a java-based calculator and just wanted to show any value over 100,000 into scientific notation format. I'm wondering how you would display the number, change it back into long form for calculations on the back-end, and then display it once again in clean, scientific notation. I would like it to be as simple as possible as I am not a master by any means at java, I have just started learning it about two months ago.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package javacalc;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.io.*;\nimport javax.swing.*;\nimport java.text.DecimalFormat;\n\npublic class CalcGUI extends JFrame implements ActionListener { \n    final static String PROJ_TITLE = \"Calculator\";\n    final static String PROJ_AUTHORS = String.format(\"Jaren Browne%nKevin Miller\");\n\n    final static int[] PROJ_WINDOW_SIZE = {490, 650};\n    final static int[] PROJ_WINDOW_LOCATION = {300, 300};\n\n    GridBagConstraints gbcCalcPanel = new GridBagConstraints();\n    GridBagConstraints gbcButtonPanel = new GridBagConstraints();\n    JPanel calcPanel = new JPanel();\n    JTextField upperDisplay;\n    JTextField lowerDisplay;\n    \n    private static char operation;\n    private static double firstNumber = 0;\n    private static double secondNumber = 0;\n    private static double mem = 0;\n    private static boolean clearScreen = true;\n    \n    DecimalFormat df = new DecimalFormat(\"0.##############\");\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        String command = e.getActionCommand();\n        String displayString = upperDisplay.getText();\n        \n        if (digitTest(command)) {\n            updateDisplay(command);\n            return;\n        }\n\n        // Basic arithmetic\n        if (command.equals(\"=\") || command.equals(\"+\") || command.equals(\"-\") || command.equals(\"x\") || command.equals(\"÷\") || command.equals(\"%\")) {\n            clearScreen = true;\n\n            try {\n                if (!calculate(Double.parseDouble(displayString))) {\n                    updateDisplay(\"DIV / 0\");\n                    reset();\n                    return;\n                }\n            } catch (NumberFormatException ex) {}\n\n            updateDisplay(\"\" + df.format(secondNumber));\n            clearScreen = true;\n            operation = command.charAt(0);\n            firstNumber = secondNumber;\n            return;\n        }\n\n        switch (command) {\n            case \".\":                   // decimal\n                updateDisplay(\".\");\n                break;\n\n            // Pos/Neg pressed\n            case \"+/-\":\n                clearScreen = true;\n                if (!upperDisplay.getText().equals(\"0\")) {\n                    try {\n                        double inverse = Double.parseDouble(displayString);\n                        inverse *= -1;\n                        updateDisplay(df.format(inverse));\n                    } catch (NumberFormatException ex) {\n                        updateDisplay(\"0\");\n                    }\n                }\n                break;\n                \n            // Clear pressed\n            case \"CE\":\n                reset();\n                updateDisplay(\"0\");\n                break;\n\n            // Backspace pressed\n            case \"&lt;-\":\n                if (clearScreen) {\n                    updateDisplay(\"0\");\n                } else {\n                    deletePressed();\n                }\n                break;\n                \n            case \"MC\":\n                mem = 0;\n                break;\n                \n            case \"MR\":\n                clearScreen = true;\n                updateDisplay(\"\" + df.format(mem));\n                clearScreen = true;\n                break;\n                \n            case \"M+\":\n                try {\n                    mem += Double.parseDouble(displayString);\n                } catch (NumberFormatException ex) {}\n                break;\n                \n            case \"M-\":\n                try {\n                    mem -= Double.parseDouble(displayString);\n                } catch (NumberFormatException ex) {}\n                break;\n                \n            case \"π\":\n                clearScreen = true;\n                updateDisplay(String.valueOf(Math.PI));\n                clearScreen = true;\n                break;\n                \n            case \"xⁿ\":\n                clearScreen = true;\n                calculate(Double.parseDouble(displayString));\n                updateDisplay(\"\" + df.format(secondNumber));\n                operation = '^';\n                firstNumber = secondNumber;\n                clearScreen = true;\n                break;\n            \n            case \"√\":\n                clearScreen = true;\n                calculate(Double.parseDouble(displayString));\n                updateDisplay(\"\" + df.format(secondNumber));\n                operation = '√';\n                firstNumber = secondNumber;\n                clearScreen = true;\n                break;\n\n            case \"ⁿ√\":\n                clearScreen = true;\n                calculate(Double.parseDouble(displayString));\n                updateDisplay(\"\" + df.format(secondNumber));\n                operation = '&amp;';\n                firstNumber = secondNumber;\n                clearScreen = true;\n                break;\n                \n            case \"sin\":\n                clearScreen = true;\n                calculate(Double.parseDouble(displayString));\n                updateDisplay(\"\" + df.format(secondNumber));\n                operation = 'S';\n                firstNumber = secondNumber;\n                clearScreen = true;\n                break;\n\n            case \"cos\":\n                clearScreen = true;\n                calculate(Double.parseDouble(displayString));\n                updateDisplay(\"\" + df.format(secondNumber));\n                operation = 'C';\n                firstNumber = secondNumber;\n                clearScreen = true;\n                break;\n\n            case \"tan\":\n                clearScreen = true;\n                calculate(Double.parseDouble(displayString));\n                updateDisplay(\"\" + df.format(secondNumber));\n                operation = 'T';\n                firstNumber = secondNumber;\n                clearScreen = true;\n                break;\n                \n            case \"sin‾¹\":\n                clearScreen = true;\n                calculate(Double.parseDouble(displayString));\n                updateDisplay(\"\" + df.format(secondNumber));\n                operation = 's';\n                firstNumber = secondNumber;\n                clearScreen = true;\n                break;\n                \n            case \"cos‾¹\":\n                clearScreen = true;\n                calculate(Double.parseDouble(displayString));\n                updateDisplay(\"\" + df.format(secondNumber));\n                operation = 'c';\n                firstNumber = secondNumber;\n                clearScreen = true;\n                break;\n\n            case \"tan‾¹\":\n                clearScreen = true;\n                calculate(Double.parseDouble(displayString));\n                updateDisplay(\"\" + df.format(secondNumber));\n                operation = 't';\n                firstNumber = secondNumber;\n                clearScreen = true;\n                break;\n\n        }\n    }\n   \n    private boolean calculate(double displayNumber) {\n        secondNumber = displayNumber;\n        \n        switch (operation) {\n            case '+':           // Addition\n                secondNumber += firstNumber;\n                break;\n\n            case '-':           // Subtraction\n                secondNumber = firstNumber - secondNumber;\n                break;\n\n            case 'x':           // Multiplication\n                secondNumber *= firstNumber;\n                break;\n\n            case '÷':           // Division\n                try {\n                    int divZeroTest = (int) firstNumber / (int) secondNumber;\n                    secondNumber = firstNumber / secondNumber;\n                    break;\n                } catch (ArithmeticException ex){\n                    clearScreen = true;\n                    return false;\n                }\n                \n            case '%':           // Percentage\n                secondNumber = (firstNumber / 100) * secondNumber;\n                break;\n                \n            case '^':           // Exponential power\n                secondNumber = Math.pow(firstNumber, secondNumber);\n                break;\n                \n            case '√':           // Square root\n                if (firstNumber == 0) {\n                    firstNumber = 1;\n                }\n                secondNumber = firstNumber * Math.sqrt(secondNumber);\n                break;\n                \n            case '&amp;':           // Exponential root\n                secondNumber = Math.pow(secondNumber, (1 / firstNumber));\n                break;\n                \n            case 'S':\n                if (firstNumber == 0) {\n                    firstNumber = 1;\n                }\n                secondNumber = firstNumber * Math.sin(Math.toRadians(secondNumber));\n                break;\n                \n            case 'C':\n                if (firstNumber == 0) {\n                    firstNumber = 1;\n                }\n                secondNumber = firstNumber * Math.cos(Math.toRadians(secondNumber));\n                break;\n\n            case 'T':\n                if (firstNumber == 0) {\n                    firstNumber = 1;\n                }\n                secondNumber = firstNumber * Math.tan(Math.toRadians(secondNumber));\n                break;\n                \n            case 's':\n                if (firstNumber == 0) {\n                    firstNumber = 1;\n                }\n                secondNumber = firstNumber * Math.toDegrees(Math.asin(secondNumber));\n                break;\n\n            case 'c':\n                if (firstNumber == 0) {\n                    firstNumber = 1;\n                }\n                secondNumber = firstNumber * Math.toDegrees(Math.acos(secondNumber));\n                break;\n\n            case 't':\n                if (firstNumber == 0) {\n                    firstNumber = 1;\n                }\n                secondNumber = firstNumber * Math.toDegrees(Math.atan(secondNumber));\n                break;\n\n        }\n        return true;\n    }\n    \n    // MAIN CONSTRUCT\n    public CalcGUI() {\n        initGUI();\n\n        calcPanel.setLayout(new GridBagLayout());\n        \n        // Add display box\n        gbcCalcPanel.gridx = 0;\n        gbcCalcPanel.gridy = 0;\n        gbcCalcPanel.fill = GridBagConstraints.HORIZONTAL;\n        gbcCalcPanel.gridwidth = 1;\n        calcPanel.add(upperDisplay = buildDisplay(), gbcCalcPanel);\n        \n//        // Add second display box\n//        gbcCalcPanel.gridx = 0;\n//        gbcCalcPanel.gridy = 1;\n//        gbcCalcPanel.fill = GridBagConstraints.HORIZONTAL;\n//        gbcCalcPanel.gridwidth = 1;\n//        calcPanel.add(lowerDisplay = buildDisplay(), gbcCalcPanel);\n                \n        // Add advanced calculator buttons\n        gbcCalcPanel.gridx = 0;\n        gbcCalcPanel.gridy = 2;\n        gbcCalcPanel.weighty = 1;\n        gbcCalcPanel.fill = GridBagConstraints.BOTH;\n        calcPanel.add(buildAdvancedButtonPanel(), gbcCalcPanel);\n        \n        // Add calculator buttons\n        gbcCalcPanel.gridx = 0;\n        gbcCalcPanel.gridy = 3;\n        gbcCalcPanel.weighty = 1;\n        gbcCalcPanel.fill = GridBagConstraints.BOTH;        \n        calcPanel.add(buildButtonPanel(), gbcCalcPanel);\n        \n        setContentPane(calcPanel);\n        pack();\n    }\n\n    // DISPLAY BOX\n    private JTextField buildDisplay() {\n        JTextField t = new JTextField(\"\", 16);\n        t.setHorizontalAlignment(SwingConstants.RIGHT);\n        t.setBackground(Color.DARK_GRAY);\n        t.setForeground(Color.GREEN);\n        t.setText(\"0\");\n        t.setCaretPosition(1);\n\n        InputStream fontStream = ClassLoader.getSystemClassLoader().getResourceAsStream(\"DS-DIGII.TTF\");\n        try {\n            Font calcDisplayFont = Font.createFont(Font.TRUETYPE_FONT, fontStream).deriveFont(60f);\n            GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n            ge.registerFont(calcDisplayFont);\n            t.setFont(calcDisplayFont);\n        } catch (IOException | FontFormatException ex) {\n            System.out.println(ex.getMessage());\n            Font calcDisplayFont = new Font(\"Lucida Console\", Font.BOLD, 40);\n            t.setFont(calcDisplayFont);\n        }\n\n\n        return t;\n    }\n    \n    // MAIN BUTTON PANEL\n    private JPanel buildButtonPanel() {\n        JPanel panel = new JPanel();\n        panel.setLayout(new GridBagLayout());\n        panel.setBackground(Color.gray);\n        \n        String[][] buttonText = {{\"MC\", \"MR\", \"M-\", \"M+\", \"÷\"},\n                                {\"+/-\", \"7\", \"8\", \"9\", \"x\"},\n                                {\"%\", \"4\", \"5\", \"6\", \"-\"},\n                                {\"√\", \"1\", \"2\", \"3\", \"+\"},\n                                {\"CE\", \"0\", \".\", \"=\", \"+\"}};\n\n        int maxWidth = buttonText[0].length;\n        int maxHeight = buttonText.length;\n        JButton[][] calcButton = new JButton[maxHeight][maxWidth];\n        \n        // cycle through button array and build\n        for (int yPos = 0; yPos &lt; maxHeight; yPos++) {\n            for (int xPos = 0; xPos &lt; maxWidth; xPos++) {\n                \n                // build button panel, skipping button for extended '+' button\n                if (!(yPos == 4 &amp;&amp; xPos == 4)) {\n                    calcButton[yPos][xPos] = new JButton(buttonText[yPos][xPos]);\n                    calcButton[yPos][xPos].setFont(calcButton[yPos][xPos].getFont().deriveFont(30f));\n                    calcButton[yPos][xPos].setBackground(Color.black);\n                    calcButton[yPos][xPos].addActionListener(this);\n\n                    gbcButtonPanel.gridx = xPos;\n                    gbcButtonPanel.gridy = yPos;\n                    gbcButtonPanel.gridwidth = 1;\n                    gbcButtonPanel.weightx = 1;\n                    gbcButtonPanel.weighty = 1;\n                    Insets buttonSpacing = new Insets(2,2,2,2);\n                    gbcButtonPanel.insets = buttonSpacing;\n                    \n                    // if the button being added is '+' extended it vertically\n                    if (yPos == 3 &amp;&amp; xPos == 4) {\n                        gbcButtonPanel.gridheight = 2;\n                        gbcButtonPanel.fill = GridBagConstraints.BOTH;\n                    } else {\n                        gbcButtonPanel.gridheight = 1;\n                        gbcButtonPanel.fill = GridBagConstraints.BOTH;\n                    }\n                    panel.add(calcButton[yPos][xPos], gbcButtonPanel);\n                }\n            }\n        }\n\n        return panel;\n    }\n    \n    // ADDITIONAL BUTTON PANEL\n    private JPanel buildAdvancedButtonPanel() {\n        JPanel panel = new JPanel();\n        panel.setLayout(new GridBagLayout());\n        panel.setBackground(Color.darkGray);\n        \n        String[][] buttonText = {{\"&lt;-\", \"xⁿ\", \"sin\", \"cos\", \"tan\"},\n                                {\"π\", \"ⁿ√\", \"sin‾¹\", \"cos‾¹\", \"tan‾¹\"}};\n\n        int maxWidth = buttonText[0].length;\n        int maxHeight = buttonText.length;\n        JButton[][] calcButton = new JButton[maxHeight][maxWidth];\n        \n        // cycle through button array and build\n        for (int yPos = 0; yPos &lt; maxHeight; yPos++) {\n            for (int xPos = 0; xPos &lt; maxWidth; xPos++) {\n                calcButton[yPos][xPos] = new JButton(buttonText[yPos][xPos]);\n                calcButton[yPos][xPos].setFont(calcButton[yPos][xPos].getFont().deriveFont(30f));\n                calcButton[yPos][xPos].addActionListener(this);\n                \n                gbcButtonPanel.gridx = xPos;\n                gbcButtonPanel.gridy = yPos;\n                gbcButtonPanel.gridwidth = 1;\n                gbcButtonPanel.weightx = 1;\n                gbcButtonPanel.weighty = 1;\n                gbcButtonPanel.gridheight = 1;\n                Insets buttonSpacing = new Insets(2,2,2,2);\n                gbcButtonPanel.insets = buttonSpacing;\n                gbcButtonPanel.fill = GridBagConstraints.BOTH;\n                \n                panel.add(calcButton[yPos][xPos], gbcButtonPanel);\n            }\n        }\n        return panel;\n    }\n    \n    // INITIALIZE GUI LOOK AND FEEL\n    private void initGUI() {\n        try {\n            // sets the look and feel to that of the OS if possible\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        } catch (UnsupportedLookAndFeelException | ClassNotFoundException | InstantiationException | IllegalAccessException ex) {\n            // tell us a story\n            System.out.printf(\"Unable to load GUI.%n%s%n\", ex.getMessage());\n        } \n        \n        // set some window and frame options\n        setTitle(PROJ_TITLE);\n        setResizable(false);\n        setLocation(PROJ_WINDOW_LOCATION[0], PROJ_WINDOW_LOCATION[1]);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n    \n    // TEST IF REQUEST IS A NUMBER\n    private boolean digitTest(String s) {\n        try {\n            Integer.parseInt(s);\n            return true;\n        } catch (NumberFormatException ex) {\n            return false;\n        }\n    }\n    \n    // UPDATE DISPLAY\n    private void updateDisplay(String displayDigits) {\n        String displayString = upperDisplay.getText();\n\n        // Does screen need cleared before moving forward?\n        if (clearScreen) {\n            displayString = \"0\";\n            upperDisplay.setText(displayString);\n            clearScreen = false;\n        }   \n        \n        // Decimal handler\n        if (displayDigits.equals(\".\")){\n            if (!displayString.contains(displayDigits)) {\n                if (displayString.equals(\"0\")) {\n                    displayString = String.format(\"0%s\", displayDigits);\n                } else {\n                    displayString = String.format(\"%s\", displayString + displayDigits);\n                }\n            }\n        } else {        // No decimal\n            if (displayString.equals(\"0\")) {\n                displayString = String.format(\"%s\", displayDigits);\n            } else {\n                displayString = String.format(displayString + displayDigits);\n            }\n        }\n        \n\n        // Check for DIV/0 and format string for display length\n        try {            \n        // Check length and truncate\n            if (Double.parseDouble(displayString) &lt; 0 &amp;&amp; displayString.length() &gt; 16) {\n                displayString = displayString.substring(0,16);\n            } else if (Double.parseDouble(displayString) &gt; 0 &amp;&amp; displayString.length() &gt; 15) {\n                displayString = displayString.substring(0,15);\n            } else if (Double.isNaN(Double.parseDouble(displayString))) {\n                displayString = String.format(\"%-16s\", \"Domain Error\");\n                reset();\n            }\n        } catch (NumberFormatException ex) {\n            displayString = String.format(\"%-17s\", displayDigits);\n        }\n        \n        upperDisplay.setText(displayString);\n    }\n\n    // DELETE LAST CHARACTER\n    private void deletePressed(){\n        int l = upperDisplay.getText().length();\n        int n = upperDisplay.getText().length() - 1;\n        \n        if (l &gt; 1) {\n            StringBuilder backSpace = new StringBuilder(upperDisplay.getText());\n            upperDisplay.setText(backSpace.deleteCharAt(n).toString());\n        } else {\n            upperDisplay.setText(\"0\");\n        }\n    }\n    \n    // CLEAR VARIABLES AND RESET\n    private void reset() {\n        firstNumber = 0;\n        secondNumber = 0;\n        operation = ' ';\n        clearScreen = true;\n    }\n    \n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring-boot","spring-security","checkmarx"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1649084026,"post_id":71733286,"comment_id":126780438,"body_markdown":"you have excluded the code that tells us what you are actually doing with the map so how can we know?","body":"you have excluded the code that tells us what you are actually doing with the map so how can we know?"},{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1649095332,"post_id":71733286,"comment_id":126784627,"body_markdown":"From my experience with Checkmarx, it is a static code analysis tool, so adding filters does not actually resolve the findings as it cannot see them at analysis time. I never found any generalized solutions to findings like this. An approach like [this dzone article](https://dzone.com/articles/anti-cross-site-scripting-xss-for-spring-boot-apps) was helpful to me, but required marking findings as false positive after discussing with the info security team.","body":"From my experience with Checkmarx, it is a static code analysis tool, so adding filters does not actually resolve the findings as it cannot see them at analysis time. I never found any generalized solutions to findings like this. An approach like <a href=\"https://dzone.com/articles/anti-cross-site-scripting-xss-for-spring-boot-apps\" rel=\"nofollow noreferrer\">this dzone article</a> was helpful to me, but required marking findings as false positive after discussing with the info security team."},{"owner":{"account_id":6951133,"reputation":111,"user_id":5333733,"display_name":"Champ-Java"},"score":0,"creation_date":1649114266,"post_id":71733286,"comment_id":126789499,"body_markdown":"Hi @Toerktumlare we received this multivaluemap from component and send same header to cloud to perform the action. so this header will require to get output of end destination.","body":"Hi @Toerktumlare we received this multivaluemap from component and send same header to cloud to perform the action. so this header will require to get output of end destination."},{"owner":{"account_id":6951133,"reputation":111,"user_id":5333733,"display_name":"Champ-Java"},"score":0,"creation_date":1649114480,"post_id":71733286,"comment_id":126789529,"body_markdown":"Hi @SteveRiesenberg, do you have any link where it mentioned Checkmarx is a static code analysis tool. Because, why I am asking I need to go there and want to know, how checkmarx is working? if you have please let me know.","body":"Hi @SteveRiesenberg, do you have any link where it mentioned Checkmarx is a static code analysis tool. Because, why I am asking I need to go there and want to know, how checkmarx is working? if you have please let me know."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1649114785,"post_id":71733286,"comment_id":126789587,"body_markdown":"your explanation makes no sense, i dont understand.","body":"your explanation makes no sense, i dont understand."},{"owner":{"account_id":6951133,"reputation":111,"user_id":5333733,"display_name":"Champ-Java"},"score":0,"creation_date":1649115408,"post_id":71733286,"comment_id":126789670,"body_markdown":"@Toerktumlare The controller class receives the header from ESP(component); thereafter controller passes this header to the service class. After that, we have an API service class that we call the cloud service.","body":"@Toerktumlare The controller class receives the header from ESP(component); thereafter controller passes this header to the service class. After that, we have an API service class that we call the cloud service."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1649115528,"post_id":71733286,"comment_id":126789693,"body_markdown":"please **dont describe your code, update your question with your code**. I was asking for the CODE, not your intention with the code. remove the `&lt;calling service&gt;` and insert your ACTUAL code","body":"please <b>dont describe your code, update your question with your code</b>. I was asking for the CODE, not your intention with the code. remove the <code>&lt;calling service&gt;</code> and insert your ACTUAL code"},{"owner":{"account_id":6951133,"reputation":111,"user_id":5333733,"display_name":"Champ-Java"},"score":0,"creation_date":1649116485,"post_id":71733286,"comment_id":126789861,"body_markdown":"@Toerktumlare, I update the code.","body":"@Toerktumlare, I update the code."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1649146624,"post_id":71733286,"comment_id":126795608,"body_markdown":"You are not even using headers","body":"You are not even using headers"},{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1649170912,"post_id":71733286,"comment_id":126805335,"body_markdown":"Sorry @Java-Singh I don&#39;t have much more info than that. Checkmarx was just something I happened to use when the info security team where I worked required us to use it. Based on your description, I assume you&#39;re using [this product](https://checkmarx.com/product/cxsast-source-code-scanning/) which is &quot;Source Code Scanning&quot;.","body":"Sorry @Java-Singh I don&#39;t have much more info than that. Checkmarx was just something I happened to use when the info security team where I worked required us to use it. Based on your description, I assume you&#39;re using <a href=\"https://checkmarx.com/product/cxsast-source-code-scanning/\" rel=\"nofollow noreferrer\">this product</a> which is &quot;Source Code Scanning&quot;."}],"owner":{"account_id":6951133,"reputation":111,"user_id":5333733,"display_name":"Champ-Java"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1452,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1649117498,"creation_date":1649056392,"question_id":71733286,"body_markdown":"Checkmarx is giving XSS vulnerability for following method in my Controller class. Specifically: This element’s value (MultiValueMap&lt;String, String&gt; headers) then flows through the code without being properly sanitized or validated and is eventually displayed to the user in method:\r\n\r\n     @PutMapping(value = &quot;&lt;URL&gt;{listId}/some/{itemId}&quot;, consumes = {APPLICATION_JSON_VALUE})\r\n        public ResponseEntity&lt;String&gt; deleteBlacklistItem(@PathVariable(&quot;itemId&quot;) String itemId,\r\n                                                          @PathVariable(&quot;listId&quot;) String listId,\r\n                                                          @RequestHeader MultiValueMap&lt;String, String&gt; headers) {\r\n    \t\t\t\t\t\t\t\t&lt;calling service &gt;\t\t\t\t\t  \r\n    \r\n        }\r\n\r\nI tried; I created one customized filter. as below in the security configuration class.\r\n\r\n    public FilterRegistrationBean xssPreventFilter() {\r\n        FilterRegistrationBean registrationBean = new FilterRegistrationBean();\r\n        registrationBean.setFilter(new XSSFilter());\r\n        registrationBean.addUrlPatterns(&quot;/*&quot;);\r\n        return registrationBean;\r\n    }\r\n\r\nand \r\n  \r\n\r\n     @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf().disable()\r\n                    .headers()\r\n                    .xssProtection()\r\n                    .and()\r\n                    .contentSecurityPolicy(&quot;script-src &#39;self&#39;&quot;)\r\n                    .and()\r\n                    .frameOptions()\r\n                    .deny()\r\n                    .and().authorizeRequests().antMatchers(&quot;/&quot;).permitAll()\r\n                    .antMatchers(&quot;/abc/api/*&quot;).permitAll();\r\n        }\r\n\r\nBut above solution is not working can some one help me? Not sure, how we can  sanitized or validated Multivaluemap.\r\n\r\nAlso I implement one coutomized solution as below. But my lead said like they want some solution should be there at spring security level\r\n\r\n    public static MultiValueMap&lt;String, String&gt; sanitizeObject(Object object) throws JSONException, IOException {\r\n            Gson gson = new Gson();\r\n            String json = Jsoup.clean(StringEscapeUtils.escapeHtml4(gson.toJson(object)), Whitelist.basic());\r\n            JSONObject jsonObject = new JSONObject(json);\r\n    \r\n            Iterator&lt;String&gt; nameItr = jsonObject.keys();\r\n            Map&lt;String, String&gt; outMap = new HashMap&lt;String, String&gt;();\r\n            while(nameItr.hasNext()) {\r\n                String name = nameItr.next();\r\n                outMap.put(name, jsonObject.getString(name));\r\n    \r\n            }\r\n            MultiValueMap&lt;String, String&gt; multiValueMap = new LinkedMultiValueMap&lt;String, String&gt;(\r\n                    outMap.entrySet().stream().collect(\r\n                            Collectors.toMap(Map.Entry::getKey, e -&gt; Arrays.asList(e.getValue()))));\r\n            System.out.println(multiValueMap);\r\n            return multiValueMap;\r\n        }\r\n \r\n//Controller\r\n\r\n    @GetMapping(value = &quot;/&lt;API URL&gt;/filter&quot;, consumes = {APPLICATION_JSON_VALUE})\r\n            public ResponseEntity&lt;String&gt; deletelistItem(@RequestHeader MultiValueMap&lt;String, String&gt; headers,\r\n                                                      @RequestParam Map&lt;String, String&gt; request) throws JSONException, IOException {\r\n               ResponseEntity response = service.getDeleteId(headers, request);\r\n                return response;\r\n            }\r\n\r\n//Service Class\r\n\t\r\n\t\r\n\r\n    public ResponseEntity getDeleteId(MultiValueMap&lt;String, String&gt; headers, Map&lt;String, String&gt; request) {\r\n                response = clousservice.getDeleteListId(request.get(QUERY_KEY_VALUE), headers);\r\n            }\r\n\r\n//Cloud Service \r\n\r\n    @Override\r\n        public ResponseEntity&lt;String&gt; getDeleteId(String id, MultiValueMap&lt;String, String&gt; headers) {\r\n                ResponseEntity&lt;String&gt; response = restTemplate.exchange(deleteUrl, GET, entity, String.class);\r\n                log.info(&quot;Http Response &quot;, response.getStatusCode());\r\n                return response;\r\n            } catch (HttpClientErrorException | HttpServerErrorException e) {\r\n                throw new CustomizeException(e.getResponseBodyAsString(), e, e.getStatusCode());\r\n            } catch (Exception e) {\r\n                throw new CustomizeException(&quot;Unable Delete&quot;, e, BAD_GATEWAY);\r\n            }\r\n        }\t","title":"XSS Vulnerabilities Checkmarx In REST API MultiValueMap","body":"<p>Checkmarx is giving XSS vulnerability for following method in my Controller class. Specifically: This element’s value (MultiValueMap&lt;String, String&gt; headers) then flows through the code without being properly sanitized or validated and is eventually displayed to the user in method:</p>\n<pre><code> @PutMapping(value = &quot;&lt;URL&gt;{listId}/some/{itemId}&quot;, consumes = {APPLICATION_JSON_VALUE})\n    public ResponseEntity&lt;String&gt; deleteBlacklistItem(@PathVariable(&quot;itemId&quot;) String itemId,\n                                                      @PathVariable(&quot;listId&quot;) String listId,\n                                                      @RequestHeader MultiValueMap&lt;String, String&gt; headers) {\n                                &lt;calling service &gt;                    \n\n    }\n</code></pre>\n<p>I tried; I created one customized filter. as below in the security configuration class.</p>\n<pre><code>public FilterRegistrationBean xssPreventFilter() {\n    FilterRegistrationBean registrationBean = new FilterRegistrationBean();\n    registrationBean.setFilter(new XSSFilter());\n    registrationBean.addUrlPatterns(&quot;/*&quot;);\n    return registrationBean;\n}\n</code></pre>\n<p>and</p>\n<pre><code> @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .headers()\n                .xssProtection()\n                .and()\n                .contentSecurityPolicy(&quot;script-src 'self'&quot;)\n                .and()\n                .frameOptions()\n                .deny()\n                .and().authorizeRequests().antMatchers(&quot;/&quot;).permitAll()\n                .antMatchers(&quot;/abc/api/*&quot;).permitAll();\n    }\n</code></pre>\n<p>But above solution is not working can some one help me? Not sure, how we can  sanitized or validated Multivaluemap.</p>\n<p>Also I implement one coutomized solution as below. But my lead said like they want some solution should be there at spring security level</p>\n<pre><code>public static MultiValueMap&lt;String, String&gt; sanitizeObject(Object object) throws JSONException, IOException {\n        Gson gson = new Gson();\n        String json = Jsoup.clean(StringEscapeUtils.escapeHtml4(gson.toJson(object)), Whitelist.basic());\n        JSONObject jsonObject = new JSONObject(json);\n\n        Iterator&lt;String&gt; nameItr = jsonObject.keys();\n        Map&lt;String, String&gt; outMap = new HashMap&lt;String, String&gt;();\n        while(nameItr.hasNext()) {\n            String name = nameItr.next();\n            outMap.put(name, jsonObject.getString(name));\n\n        }\n        MultiValueMap&lt;String, String&gt; multiValueMap = new LinkedMultiValueMap&lt;String, String&gt;(\n                outMap.entrySet().stream().collect(\n                        Collectors.toMap(Map.Entry::getKey, e -&gt; Arrays.asList(e.getValue()))));\n        System.out.println(multiValueMap);\n        return multiValueMap;\n    }\n</code></pre>\n<p>//Controller</p>\n<pre><code>@GetMapping(value = &quot;/&lt;API URL&gt;/filter&quot;, consumes = {APPLICATION_JSON_VALUE})\n        public ResponseEntity&lt;String&gt; deletelistItem(@RequestHeader MultiValueMap&lt;String, String&gt; headers,\n                                                  @RequestParam Map&lt;String, String&gt; request) throws JSONException, IOException {\n           ResponseEntity response = service.getDeleteId(headers, request);\n            return response;\n        }\n</code></pre>\n<p>//Service Class</p>\n<pre><code>public ResponseEntity getDeleteId(MultiValueMap&lt;String, String&gt; headers, Map&lt;String, String&gt; request) {\n            response = clousservice.getDeleteListId(request.get(QUERY_KEY_VALUE), headers);\n        }\n</code></pre>\n<p>//Cloud Service</p>\n<pre><code>@Override\n    public ResponseEntity&lt;String&gt; getDeleteId(String id, MultiValueMap&lt;String, String&gt; headers) {\n            ResponseEntity&lt;String&gt; response = restTemplate.exchange(deleteUrl, GET, entity, String.class);\n            log.info(&quot;Http Response &quot;, response.getStatusCode());\n            return response;\n        } catch (HttpClientErrorException | HttpServerErrorException e) {\n            throw new CustomizeException(e.getResponseBodyAsString(), e, e.getStatusCode());\n        } catch (Exception e) {\n            throw new CustomizeException(&quot;Unable Delete&quot;, e, BAD_GATEWAY);\n        }\n    }   \n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","mpandroidchart"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1649123643,"post_id":71745031,"comment_id":126790939,"body_markdown":"Have you tried adding log statements to confirm whether `weekList` actually has the values in it you expect to show up in the plot?","body":"Have you tried adding log statements to confirm whether <code>weekList</code> actually has the values in it you expect to show up in the plot?"},{"owner":{"account_id":22053337,"reputation":49,"user_id":16317259,"display_name":"Kirion"},"score":0,"creation_date":1649126355,"post_id":71745031,"comment_id":126791326,"body_markdown":"@TylerV Even if it is 0, I have the values ​​and this process really works perfectly when the graph is drawn later, the only problem is that the graph is not created when the application is first loaded.","body":"@TylerV Even if it is 0, I have the values ​​and this process really works perfectly when the graph is drawn later, the only problem is that the graph is not created when the application is first loaded."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1649126615,"post_id":71745031,"comment_id":126791362,"body_markdown":"You haven&#39;t given enough information here for someone to debug this or replicate it - you either need to post something that someone else could run to see the same issue as you, or start debugging yourself with log/print/debugger. For example, does the observer get triggered on the first load? If it does, is the array of data empty at that point?","body":"You haven&#39;t given enough information here for someone to debug this or replicate it - you either need to post something that someone else could run to see the same issue as you, or start debugging yourself with log/print/debugger. For example, does the observer get triggered on the first load? If it does, is the array of data empty at that point?"}],"owner":{"account_id":22053337,"reputation":49,"user_id":16317259,"display_name":"Kirion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649117472,"creation_date":1649117472,"question_id":71745031,"body_markdown":"When first installing the application on the device, the mp android chart does not show correctly, what is the reason ?\r\n\r\nHere is my code:\r\n\r\n    viewModel.weekRead( ( calender.get(Calendar.DAY_OF_MONTH) - 7 ) , ( calender.get(Calendar.MONTH) + 1 ) ).observe(viewLifecycleOwner) {\r\n\r\n\t\t\tval weekList = ArrayList&lt;BarEntry&gt;()\r\n\r\n\t\t\tfor (i in it) {\r\n\r\n\t\t\t\tweekList.add ( BarEntry ( i.day.toFloat() , i.step_value.toFloat() ) )\r\n\t\t\t}\r\n\r\n\t\t\tval barDataSet = BarDataSet ( weekList , &quot; &quot; )\r\n\r\n\t\t\tbarDataSet.setColors(ColorTemplate.COLORFUL_COLORS, 250)\r\n\t\t\tbarDataSet.valueTextSize = 12F\r\n\r\n\t\t\tval barData = BarData(barDataSet)\r\n\r\n\t\t\tbinding.weekChart.setFitBars(true)\r\n\t\t\tbinding.weekChart.data = barData\r\n\t\t\tbinding.weekChart.animateY(2000)\r\n\r\n\t\t\tbinding.weekChart.setTouchEnabled(false)\r\n\t\t\tbinding.weekChart.description = null\r\n\r\n\t\t\tbinding.weekChart.xAxis.apply {\r\n\r\n\t\t\t\tsetDrawGridLines(false)\r\n\t\t\t\tsetDrawLabels(false)\r\n\t\t\t}\r\n\r\n\t\t\tbinding.weekChart.axisLeft.axisMinimum = 0f\r\n\t\t\tbinding.weekChart.axisRight.axisMinimum = 0f\r\n\r\n\t\t\tbinding.weekChart.refreshDrawableState()\r\n\t\t\tbinding.weekChart.invalidate()\r\n    }\r\n\r\nFor more details, I&#39;m throwing the layout part in addition.\r\n\r\nHere is my XML codes : \r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView3&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:text=&quot;Aylık Adım Sayısı&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/mount_chart&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/mount_chart&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;com.github.mikephil.charting.charts.BarChart\r\n                android:id=&quot;@+id/mount_chart&quot;\r\n                android:layout_width=&quot;336dp&quot;\r\n                android:layout_height=&quot;254dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textView3&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nFinally, the image of the error :\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XJtKg.png","title":"The mp android chart does not work correctly when first installing the application on the device","body":"<p>When first installing the application on the device, the mp android chart does not show correctly, what is the reason ?</p>\n<p>Here is my code:</p>\n<pre><code>viewModel.weekRead( ( calender.get(Calendar.DAY_OF_MONTH) - 7 ) , ( calender.get(Calendar.MONTH) + 1 ) ).observe(viewLifecycleOwner) {\n\n        val weekList = ArrayList&lt;BarEntry&gt;()\n\n        for (i in it) {\n\n            weekList.add ( BarEntry ( i.day.toFloat() , i.step_value.toFloat() ) )\n        }\n\n        val barDataSet = BarDataSet ( weekList , &quot; &quot; )\n\n        barDataSet.setColors(ColorTemplate.COLORFUL_COLORS, 250)\n        barDataSet.valueTextSize = 12F\n\n        val barData = BarData(barDataSet)\n\n        binding.weekChart.setFitBars(true)\n        binding.weekChart.data = barData\n        binding.weekChart.animateY(2000)\n\n        binding.weekChart.setTouchEnabled(false)\n        binding.weekChart.description = null\n\n        binding.weekChart.xAxis.apply {\n\n            setDrawGridLines(false)\n            setDrawLabels(false)\n        }\n\n        binding.weekChart.axisLeft.axisMinimum = 0f\n        binding.weekChart.axisRight.axisMinimum = 0f\n\n        binding.weekChart.refreshDrawableState()\n        binding.weekChart.invalidate()\n}\n</code></pre>\n<p>For more details, I'm throwing the layout part in addition.</p>\n<p>Here is my XML codes :</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView3&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:text=&quot;Aylık Adım Sayısı&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/mount_chart&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/mount_chart&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;com.github.mikephil.charting.charts.BarChart\n            android:id=&quot;@+id/mount_chart&quot;\n            android:layout_width=&quot;336dp&quot;\n            android:layout_height=&quot;254dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textView3&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Finally, the image of the error :</p>\n<p><a href=\"https://i.stack.imgur.com/XJtKg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","spring-boot","spring-batch","datasource"],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649117410,"creation_date":1649117410,"answer_id":71745024,"question_id":71744902,"body_markdown":"    @Bean(&quot;hikaridev&quot;) \r\n    public DataSource devDataSource() {\r\n            HikariDataSource dataSource = new HikariDataSource();\r\n            ...\r\n            ...\r\n            return dataSource;\r\n            \r\n            }\r\n    \r\n    @Bean(&quot;liquibase&quot;) \r\n    public DataSource liquibaseDataSource() {\r\n            HikariDataSource dataSource = new HikariDataSource();\r\n            ...\r\n            ...\r\n            return dataSource;\r\n            \r\n            }\r\n    \r\n----------------\r\n    \r\n    AnnotationConfigApplicationContext context;\r\n            context = new AnnotationConfigApplicationContext();\r\n    \r\n    DataSource dev = (DataSource) context.getBean(&quot;hikaridev&quot;);\r\n    DataSource liquibase = (DataSource) context.getBean(&quot;liquibase&quot;);\r\n\r\n","title":"How to configure Datasource for spring batch?","body":"<pre><code>@Bean(&quot;hikaridev&quot;) \npublic DataSource devDataSource() {\n        HikariDataSource dataSource = new HikariDataSource();\n        ...\n        ...\n        return dataSource;\n        \n        }\n\n@Bean(&quot;liquibase&quot;) \npublic DataSource liquibaseDataSource() {\n        HikariDataSource dataSource = new HikariDataSource();\n        ...\n        ...\n        return dataSource;\n        \n        }\n</code></pre>\n<hr />\n<pre><code>AnnotationConfigApplicationContext context;\n        context = new AnnotationConfigApplicationContext();\n\nDataSource dev = (DataSource) context.getBean(&quot;hikaridev&quot;);\nDataSource liquibase = (DataSource) context.getBean(&quot;liquibase&quot;);\n</code></pre>\n"}],"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649150245,"answer_count":1,"score":0,"last_activity_date":1649117410,"creation_date":1649116146,"question_id":71744902,"body_markdown":"In my case, I am using spring boot and MySQL DB. I am having two database users.\r\n\r\n1. Admin user is used by liquibase to create tables. It is having its own data source.\r\n2. Dev User is used to read/write data to the tables. It is having another data source. \r\n\r\n```\r\n@Bean\r\npublic DataSource devDataSource() {\r\n        HikariDataSource dataSource = new HikariDataSource();\r\n        ...\r\n\t\t...\r\n\t\treturn dataSource;\r\n\t\t\r\n\t\t}\r\n```\r\n```\r\n@Bean\t\r\npublic DataSource liquibaseDataSource() {\r\n        HikariDataSource dataSource = new HikariDataSource();\r\n        ...\r\n\t\t...\r\n\t\treturn dataSource;\r\n\t\t\r\n\t\t}\r\n```\r\nNow I am trying to add the Spring batch to the service. I am getting a duplicate bean exception. \r\nIt is getting fixed when I am adding @Primary to liquibase datasource, but we dont want to use this for read/write operations for batch.\r\n\r\nIf I add @Primary in the Dev User data source the batch meta-data tables are not getting created.\r\nAs far as I understood, Dev User is not having the privilege to create the table. So when Dev data source is configured for batch, the tables are not getting created.\r\n\r\nI want to create batch meta-data table via spring config(automatically) and for all read, and write to all tables(including batch meta table) via Dev user if possible.\r\n\r\n\r\nNot sure what I am missing here. any help is appreciated","title":"How to configure Datasource for spring batch?","body":"<p>In my case, I am using spring boot and MySQL DB. I am having two database users.</p>\n<ol>\n<li>Admin user is used by liquibase to create tables. It is having its own data source.</li>\n<li>Dev User is used to read/write data to the tables. It is having another data source.</li>\n</ol>\n<pre><code>@Bean\npublic DataSource devDataSource() {\n        HikariDataSource dataSource = new HikariDataSource();\n        ...\n        ...\n        return dataSource;\n        \n        }\n</code></pre>\n<pre><code>@Bean   \npublic DataSource liquibaseDataSource() {\n        HikariDataSource dataSource = new HikariDataSource();\n        ...\n        ...\n        return dataSource;\n        \n        }\n</code></pre>\n<p>Now I am trying to add the Spring batch to the service. I am getting a duplicate bean exception.\nIt is getting fixed when I am adding @Primary to liquibase datasource, but we dont want to use this for read/write operations for batch.</p>\n<p>If I add @Primary in the Dev User data source the batch meta-data tables are not getting created.\nAs far as I understood, Dev User is not having the privilege to create the table. So when Dev data source is configured for batch, the tables are not getting created.</p>\n<p>I want to create batch meta-data table via spring config(automatically) and for all read, and write to all tables(including batch meta table) via Dev user if possible.</p>\n<p>Not sure what I am missing here. any help is appreciated</p>\n"},{"tags":["java","android","android-fragments","android-recyclerview","swiperefreshlayout"],"answers":[{"tags":[],"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649117021,"creation_date":1649039453,"answer_id":71731455,"question_id":71729467,"body_markdown":"First, inflate the root layout and then access the property of the layout view. I hope this solves your issue. And make sure, you have &lt;b&gt;swiperefresh&lt;/b&gt; as an id present in the root layout.  \r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n      View view = inflater.inflate(R.layout.fragment_photos, container, false);\r\n\r\n      SwipeRefreshLayout swipeRefreshLayout = view.findViewById(R.id.swiperefresh);\r\n      swipeRefreshLayout.setOnRefreshListener(\r\n                new  SwipeRefreshLayout.OnRefreshListener() {\r\n                    @Override\r\n                    public void onRefresh() {\r\n                     loadPhotos();                     \r\n                     swipeRefreshLayout.setRefreshing(false);\r\n                    }\r\n                }\r\n        );\r\n     return view;\r\n    }","title":"Swipe To Refresh layout Android Fragments Iimplement","body":"<p>First, inflate the root layout and then access the property of the layout view. I hope this solves your issue. And make sure, you have <b>swiperefresh</b> as an id present in the root layout.</p>\n<pre><code>@Nullable\n@Override\npublic View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n  View view = inflater.inflate(R.layout.fragment_photos, container, false);\n\n  SwipeRefreshLayout swipeRefreshLayout = view.findViewById(R.id.swiperefresh);\n  swipeRefreshLayout.setOnRefreshListener(\n            new  SwipeRefreshLayout.OnRefreshListener() {\n                @Override\n                public void onRefresh() {\n                 loadPhotos();                     \n                 swipeRefreshLayout.setRefreshing(false);\n                }\n            }\n    );\n return view;\n}\n</code></pre>\n"}],"owner":{"account_id":23533539,"reputation":55,"user_id":17917893,"display_name":"Mikael David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71731455,"answer_count":1,"score":0,"last_activity_date":1649117021,"creation_date":1649016444,"question_id":71729467,"body_markdown":"So I am trying to implement swipe to refresh layout into my fragment but it always tells me the following error \r\n\r\n**Cannot resolve method &#39;findViewById&#39; in &#39;FragmentPhotos&#39;**\r\n\r\n```\r\npackage dev.kael.whatsappstatussaver.Fragments;\r\n\r\n\r\nimport android.app.Activity;\r\nimport android.content.ContentResolver;\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.ImageDecoder;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.documentfile.provider.DocumentFile;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout;\r\n\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.tapadoo.alerter.Alerter;\r\n\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\nimport java.util.Objects;\r\n\r\nimport dev.kael.whatsappstatussaver.Adapter.PhotosAdapter;\r\nimport dev.kael.whatsappstatussaver.MainActivity;\r\nimport dev.kael.whatsappstatussaver.R;\r\nimport dev.kael.whatsappstatussaver.Utils.StorageFunctions;\r\n\r\n\r\npublic class FragmentPhotos extends Fragment {\r\n\r\n    ProgressBar progressBar;\r\n    RecyclerView rvStatuses;\r\n    TextView tvNoStatuses;\r\n    Context ctx;\r\n    RecyclerView.LayoutManager layoutManager;\r\n    PhotosAdapter rv_adapter;\r\n    private Activity mActivity;\r\n    static public DocumentFile dir;\r\n    public DocumentFile[] fileListed;\r\n    FloatingActionButton fab_save_photo;\r\n    StorageFunctions storageHelper;\r\n    SharedPreferences.Editor editor;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n\r\n        SwipeRefreshLayout swipeRefreshLayout = findViewById(R.id.swiperefresh);\r\n\r\n        swipeRefreshLayout.setOnRefreshListener(\r\n                new SwipeRefreshLayout.OnRefreshListener() {\r\n                    @Override\r\n                    public void onRefresh() {\r\n                        loadPhotos();\r\n                        // This line is important as it explicitly\r\n                        // refreshes only once\r\n                        // If &quot;true&quot; it implicitly refreshes forever\r\n                        swipeRefreshLayout.setRefreshing(false);\r\n                    }\r\n                }\r\n        );\r\n\r\n        return inflater.inflate(R.layout.fragment_photos, container, false);\r\n\r\n    }\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        progressBar = view.findViewById(R.id.pg_photos);\r\n        rvStatuses = view.findViewById(R.id.rv_photos);\r\n        tvNoStatuses = view.findViewById(R.id.tv_no_photos);\r\n        fab_save_photo = view.findViewById(R.id.fab_save_photos);\r\n\r\n        tvNoStatuses.setVisibility(View.GONE);\r\n        layoutManager = new GridLayoutManager(ctx,3);\r\n\r\n        editor = MainActivity.sharedPreferences.edit();\r\n        storageHelper = new StorageFunctions();\r\n        setUpRecyclerView();\r\n\r\n        fab_save_photo.setOnClickListener(view1 -&gt; {\r\n            for(int i = 0;i &lt; MainActivity.filePathsPhotos.size();i++){\r\n\r\n                if (!MainActivity.filePathsPhotosChecked.get(i).equals(&quot;0&quot;)) {\r\n                    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\r\n                        displayAlerter(storageHelper.savePhotoQ(ctx, getBitmapOnAndroidQ(Uri.parse(MainActivity.filePathsPhotos.get(i)))));\r\n                    }else{\r\n                        displayAlerter(storageHelper.save(new File(MainActivity.filePathsPhotos.get(i)), 0, ctx));\r\n                    }\r\n\r\n                }\r\n            }\r\n            if(MainActivity.sharedPreferences.getInt(&quot;counter&quot;,0) &gt;= 5){\r\n                showFullscreenAd();\r\n                editor.putInt(&quot;counter&quot;, 0);\r\n            }else{\r\n                editor.putInt(&quot;counter&quot;, MainActivity.sharedPreferences.getInt(&quot;counter&quot;,0) + 1);\r\n            }\r\n            editor.apply();\r\n            reset();\r\n        });\r\n\r\n    }\r\n    private void setUpRecyclerView(){\r\n        new Thread(() -&gt; {\r\n            if (loadPhotos()) {\r\n\r\n                mActivity.runOnUiThread(() -&gt; {\r\n                    if (MainActivity.filePathsPhotos.size() == 0) {\r\n                        tvNoStatuses.setVisibility(View.VISIBLE);\r\n                    }else{\r\n                        tvNoStatuses.setVisibility(View.GONE);\r\n                    }\r\n\r\n                    rvStatuses.setLayoutManager(layoutManager);\r\n                    rv_adapter = new PhotosAdapter(FragmentPhotos.this);\r\n                    rvStatuses.setAdapter(rv_adapter);\r\n\r\n                    progressBar.setVisibility(View.GONE);\r\n                });\r\n\r\n            }\r\n        }).start();\r\n    }\r\n    public boolean loadPhotos(){\r\n\r\n        MainActivity.statusMode = 0;\r\n        try {\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\r\n                dir = DocumentFile.fromTreeUri(ctx, MainActivity.uri);\r\n                assert dir != null;\r\n                fileListed = dir.listFiles();\r\n\r\n                for(int i = 0;i &lt; fileListed.length;i++){\r\n                    try{\r\n                        if(!Objects.requireNonNull(fileListed[i].getName()).contains(&quot;.mp4&quot;) &amp;&amp; !Objects.requireNonNull(fileListed[i].getName()).contains(&quot;.nomedia&quot;)){\r\n                            MainActivity.filePathsPhotos.add(String.valueOf(fileListed[i].getUri()));\r\n                        }\r\n\r\n                    }catch (NullPointerException e){\r\n                        Toast.makeText(ctx, R.string.error_contact_dev, Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n                }\r\n\r\n                for (int y = 0; y &lt; MainActivity.filePathsPhotos.size();y++){\r\n                    MainActivity.filePathsPhotosChecked.add(&quot;0&quot;);\r\n                }\r\n\r\n            }else{\r\n                File oldStatusPath = new File(&quot;/storage/emulated/0/WhatsApp/Media/.Statuses&quot;);\r\n                File[] files = oldStatusPath.listFiles();\r\n                for (int i = 0; i &lt; files.length; ++i) {\r\n                    File file = files[i];\r\n                    if(!file.getAbsolutePath().contains(&quot;nomedia&quot;) &amp;&amp; !file.getAbsolutePath().endsWith(&quot;.mp4&quot;)){\r\n                        MainActivity.filePathsPhotos.add(file.getAbsolutePath());\r\n                    }\r\n                }\r\n                for (int y = 0; y &lt; MainActivity.filePathsPhotos.size();y++){\r\n                    MainActivity.filePathsPhotosChecked.add(&quot;0&quot;);\r\n                }\r\n\r\n            }\r\n            return true;\r\n\r\n        }catch (NullPointerException e){\r\n            Toast.makeText(ctx, R.string.error_contact_dev, Toast.LENGTH_SHORT).show();\r\n        }\r\n        return false;\r\n    }\r\n    public void checkFAB(){\r\n        int anzahl = 0;\r\n        for(int i = 0;i &lt; MainActivity.filePathsPhotosChecked.size();i++){\r\n            anzahl = anzahl + Integer.parseInt(MainActivity.filePathsPhotosChecked.get(i));\r\n        }\r\n\r\n        if (anzahl != 0) {\r\n            fab_save_photo.show();\r\n        }else{\r\n            fab_save_photo.hide();\r\n        }\r\n    }\r\n    private void reset(){\r\n        //TODO Improve\r\n        MainActivity.filePathsPhotos = new ArrayList&lt;&gt;();\r\n        MainActivity.filePathsPhotosChecked = new ArrayList&lt;&gt;();\r\n        checkFAB();\r\n\r\n        progressBar.setVisibility(View.VISIBLE);\r\n        setUpRecyclerView();\r\n    }\r\n    @Override\r\n    public void onAttach(@NonNull Context context) {\r\n        super.onAttach(context);\r\n\r\n        if (context instanceof Activity){\r\n            mActivity =(Activity) context;\r\n            ctx = context;\r\n        }\r\n\r\n    }\r\n    public Bitmap getBitmapOnAndroidQ(Uri uri) {\r\n        Bitmap bitmap = null;\r\n        ContentResolver contentResolver = mActivity.getContentResolver();\r\n        try {\r\n            if(Build.VERSION.SDK_INT &lt; 28) {\r\n                bitmap = MediaStore.Images.Media.getBitmap(contentResolver, uri);\r\n            } else {\r\n                ImageDecoder.Source source = ImageDecoder.createSource(contentResolver, uri);\r\n                bitmap = ImageDecoder.decodeBitmap(source);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return bitmap;\r\n    }\r\n    private void displayAlerter(boolean hasSaved){\r\n        if(hasSaved) {\r\n            Alerter.create(mActivity)\r\n                    .setTitle(R.string.saved_s)\r\n                    .setText(R.string.save_s_long)\r\n                    .setBackgroundColorRes(R.color.backgroundPrimary)\r\n                    .show();\r\n\r\n        } else {\r\n            Alerter.create(mActivity)\r\n                    .setTitle(R.string.error)\r\n                    .setText(R.string.error_long)\r\n                    .setBackgroundColorRes(R.color.backgroundPrimary)\r\n                    .show();\r\n        }\r\n    }\r\n    public void showFullscreenAd(){\r\n        if (MainActivity.mInterstitialAd != null) {\r\n            MainActivity.mInterstitialAd.show(mActivity);\r\n            Toast.makeText(ctx, R.string.saved_s, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Log.d(&quot;show fullscreen&quot;, &quot;Cant display -&gt; No ad available!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nthis is my fragment code, If u you need any more datail to help me let me know in a comment, I am new to java and I kinda do not know so much about this but it is so important for me to solve as well.","title":"Swipe To Refresh layout Android Fragments Iimplement","body":"<p>So I am trying to implement swipe to refresh layout into my fragment but it always tells me the following error</p>\n<p><strong>Cannot resolve method 'findViewById' in 'FragmentPhotos'</strong></p>\n<pre><code>package dev.kael.whatsappstatussaver.Fragments;\n\n\nimport android.app.Activity;\nimport android.content.ContentResolver;\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.graphics.Bitmap;\nimport android.graphics.ImageDecoder;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.documentfile.provider.DocumentFile;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout;\n\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.tapadoo.alerter.Alerter;\n\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.Objects;\n\nimport dev.kael.whatsappstatussaver.Adapter.PhotosAdapter;\nimport dev.kael.whatsappstatussaver.MainActivity;\nimport dev.kael.whatsappstatussaver.R;\nimport dev.kael.whatsappstatussaver.Utils.StorageFunctions;\n\n\npublic class FragmentPhotos extends Fragment {\n\n    ProgressBar progressBar;\n    RecyclerView rvStatuses;\n    TextView tvNoStatuses;\n    Context ctx;\n    RecyclerView.LayoutManager layoutManager;\n    PhotosAdapter rv_adapter;\n    private Activity mActivity;\n    static public DocumentFile dir;\n    public DocumentFile[] fileListed;\n    FloatingActionButton fab_save_photo;\n    StorageFunctions storageHelper;\n    SharedPreferences.Editor editor;\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n\n        SwipeRefreshLayout swipeRefreshLayout = findViewById(R.id.swiperefresh);\n\n        swipeRefreshLayout.setOnRefreshListener(\n                new SwipeRefreshLayout.OnRefreshListener() {\n                    @Override\n                    public void onRefresh() {\n                        loadPhotos();\n                        // This line is important as it explicitly\n                        // refreshes only once\n                        // If &quot;true&quot; it implicitly refreshes forever\n                        swipeRefreshLayout.setRefreshing(false);\n                    }\n                }\n        );\n\n        return inflater.inflate(R.layout.fragment_photos, container, false);\n\n    }\n    @Override\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        progressBar = view.findViewById(R.id.pg_photos);\n        rvStatuses = view.findViewById(R.id.rv_photos);\n        tvNoStatuses = view.findViewById(R.id.tv_no_photos);\n        fab_save_photo = view.findViewById(R.id.fab_save_photos);\n\n        tvNoStatuses.setVisibility(View.GONE);\n        layoutManager = new GridLayoutManager(ctx,3);\n\n        editor = MainActivity.sharedPreferences.edit();\n        storageHelper = new StorageFunctions();\n        setUpRecyclerView();\n\n        fab_save_photo.setOnClickListener(view1 -&gt; {\n            for(int i = 0;i &lt; MainActivity.filePathsPhotos.size();i++){\n\n                if (!MainActivity.filePathsPhotosChecked.get(i).equals(&quot;0&quot;)) {\n                    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\n                        displayAlerter(storageHelper.savePhotoQ(ctx, getBitmapOnAndroidQ(Uri.parse(MainActivity.filePathsPhotos.get(i)))));\n                    }else{\n                        displayAlerter(storageHelper.save(new File(MainActivity.filePathsPhotos.get(i)), 0, ctx));\n                    }\n\n                }\n            }\n            if(MainActivity.sharedPreferences.getInt(&quot;counter&quot;,0) &gt;= 5){\n                showFullscreenAd();\n                editor.putInt(&quot;counter&quot;, 0);\n            }else{\n                editor.putInt(&quot;counter&quot;, MainActivity.sharedPreferences.getInt(&quot;counter&quot;,0) + 1);\n            }\n            editor.apply();\n            reset();\n        });\n\n    }\n    private void setUpRecyclerView(){\n        new Thread(() -&gt; {\n            if (loadPhotos()) {\n\n                mActivity.runOnUiThread(() -&gt; {\n                    if (MainActivity.filePathsPhotos.size() == 0) {\n                        tvNoStatuses.setVisibility(View.VISIBLE);\n                    }else{\n                        tvNoStatuses.setVisibility(View.GONE);\n                    }\n\n                    rvStatuses.setLayoutManager(layoutManager);\n                    rv_adapter = new PhotosAdapter(FragmentPhotos.this);\n                    rvStatuses.setAdapter(rv_adapter);\n\n                    progressBar.setVisibility(View.GONE);\n                });\n\n            }\n        }).start();\n    }\n    public boolean loadPhotos(){\n\n        MainActivity.statusMode = 0;\n        try {\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\n                dir = DocumentFile.fromTreeUri(ctx, MainActivity.uri);\n                assert dir != null;\n                fileListed = dir.listFiles();\n\n                for(int i = 0;i &lt; fileListed.length;i++){\n                    try{\n                        if(!Objects.requireNonNull(fileListed[i].getName()).contains(&quot;.mp4&quot;) &amp;&amp; !Objects.requireNonNull(fileListed[i].getName()).contains(&quot;.nomedia&quot;)){\n                            MainActivity.filePathsPhotos.add(String.valueOf(fileListed[i].getUri()));\n                        }\n\n                    }catch (NullPointerException e){\n                        Toast.makeText(ctx, R.string.error_contact_dev, Toast.LENGTH_SHORT).show();\n                    }\n\n                }\n\n                for (int y = 0; y &lt; MainActivity.filePathsPhotos.size();y++){\n                    MainActivity.filePathsPhotosChecked.add(&quot;0&quot;);\n                }\n\n            }else{\n                File oldStatusPath = new File(&quot;/storage/emulated/0/WhatsApp/Media/.Statuses&quot;);\n                File[] files = oldStatusPath.listFiles();\n                for (int i = 0; i &lt; files.length; ++i) {\n                    File file = files[i];\n                    if(!file.getAbsolutePath().contains(&quot;nomedia&quot;) &amp;&amp; !file.getAbsolutePath().endsWith(&quot;.mp4&quot;)){\n                        MainActivity.filePathsPhotos.add(file.getAbsolutePath());\n                    }\n                }\n                for (int y = 0; y &lt; MainActivity.filePathsPhotos.size();y++){\n                    MainActivity.filePathsPhotosChecked.add(&quot;0&quot;);\n                }\n\n            }\n            return true;\n\n        }catch (NullPointerException e){\n            Toast.makeText(ctx, R.string.error_contact_dev, Toast.LENGTH_SHORT).show();\n        }\n        return false;\n    }\n    public void checkFAB(){\n        int anzahl = 0;\n        for(int i = 0;i &lt; MainActivity.filePathsPhotosChecked.size();i++){\n            anzahl = anzahl + Integer.parseInt(MainActivity.filePathsPhotosChecked.get(i));\n        }\n\n        if (anzahl != 0) {\n            fab_save_photo.show();\n        }else{\n            fab_save_photo.hide();\n        }\n    }\n    private void reset(){\n        //TODO Improve\n        MainActivity.filePathsPhotos = new ArrayList&lt;&gt;();\n        MainActivity.filePathsPhotosChecked = new ArrayList&lt;&gt;();\n        checkFAB();\n\n        progressBar.setVisibility(View.VISIBLE);\n        setUpRecyclerView();\n    }\n    @Override\n    public void onAttach(@NonNull Context context) {\n        super.onAttach(context);\n\n        if (context instanceof Activity){\n            mActivity =(Activity) context;\n            ctx = context;\n        }\n\n    }\n    public Bitmap getBitmapOnAndroidQ(Uri uri) {\n        Bitmap bitmap = null;\n        ContentResolver contentResolver = mActivity.getContentResolver();\n        try {\n            if(Build.VERSION.SDK_INT &lt; 28) {\n                bitmap = MediaStore.Images.Media.getBitmap(contentResolver, uri);\n            } else {\n                ImageDecoder.Source source = ImageDecoder.createSource(contentResolver, uri);\n                bitmap = ImageDecoder.decodeBitmap(source);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return bitmap;\n    }\n    private void displayAlerter(boolean hasSaved){\n        if(hasSaved) {\n            Alerter.create(mActivity)\n                    .setTitle(R.string.saved_s)\n                    .setText(R.string.save_s_long)\n                    .setBackgroundColorRes(R.color.backgroundPrimary)\n                    .show();\n\n        } else {\n            Alerter.create(mActivity)\n                    .setTitle(R.string.error)\n                    .setText(R.string.error_long)\n                    .setBackgroundColorRes(R.color.backgroundPrimary)\n                    .show();\n        }\n    }\n    public void showFullscreenAd(){\n        if (MainActivity.mInterstitialAd != null) {\n            MainActivity.mInterstitialAd.show(mActivity);\n            Toast.makeText(ctx, R.string.saved_s, Toast.LENGTH_SHORT).show();\n        } else {\n            Log.d(&quot;show fullscreen&quot;, &quot;Cant display -&gt; No ad available!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>this is my fragment code, If u you need any more datail to help me let me know in a comment, I am new to java and I kinda do not know so much about this but it is so important for me to solve as well.</p>\n"},{"tags":["java","ssl","java-8","httpsurlconnection","sslsocketfactory"],"owner":{"account_id":4867247,"reputation":21,"user_id":3925045,"display_name":"thavala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1649117017,"creation_date":1649117017,"question_id":71744990,"body_markdown":"One of the server my client application connects to is going to require SNI sent in requests. They are going to host multiple apps on same host and port.\r\n\r\nMy app Jdk version - 1.8.0_321\r\nI updated my code to add SNI through SSLSocketFactory. Now I am facing an interesting problem.\r\n\r\nAssume server side is as below.\r\nHost - abc.com (1.1.1.1)\r\nPort - 8443\r\nServer1 - domain1.com\r\nServer2 - domain2.com\r\n\r\n1. If I send 1.1.1.1 as url and add domain1.com/domain2.com as SNIServerName, server is recieving the correct domain name\r\n2. If I send abc.com as url and add domain1.com/domain2.com as SNIServerName, the ssl debug logs shows that it is getting overwritten with abc.com and send. Even server side logs show abc.com\r\n\r\nNote : for scenario #2, there is an additional log line which says \r\n&quot;The previous server name in SNI (type=host_name (0), value=domain2.com) was replaced with (type=host_name (0), value=abc.com)\r\n\r\nWhat does this mean?\r\nI am going in circles after reading some related topics.\r\n\r\n","title":"Java jdk 1.8.0_321 SNI getting overwritten by hostname","body":"<p>One of the server my client application connects to is going to require SNI sent in requests. They are going to host multiple apps on same host and port.</p>\n<p>My app Jdk version - 1.8.0_321\nI updated my code to add SNI through SSLSocketFactory. Now I am facing an interesting problem.</p>\n<p>Assume server side is as below.\nHost - abc.com (1.1.1.1)\nPort - 8443\nServer1 - domain1.com\nServer2 - domain2.com</p>\n<ol>\n<li>If I send 1.1.1.1 as url and add domain1.com/domain2.com as SNIServerName, server is recieving the correct domain name</li>\n<li>If I send abc.com as url and add domain1.com/domain2.com as SNIServerName, the ssl debug logs shows that it is getting overwritten with abc.com and send. Even server side logs show abc.com</li>\n</ol>\n<p>Note : for scenario #2, there is an additional log line which says\n&quot;The previous server name in SNI (type=host_name (0), value=domain2.com) was replaced with (type=host_name (0), value=abc.com)</p>\n<p>What does this mean?\nI am going in circles after reading some related topics.</p>\n"},{"tags":["java","reactive-programming","aop","aspectj","aspect"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1602126393,"post_id":64199679,"comment_id":113623629,"body_markdown":"In your original question you used an `@Around` advice. This is where `ProceedingJoinPoint jp` and `jp.proceed()` fit. The second aspect after your edit shows a `@Before` advice. There you have to use a normal `JoinPoint` and you never call `proceed()` because unless you throw an exception in the advice, the target method will be executed automatically afterwards. Your try to cast and proceed shows that you do not understand that. You really ought to read some documentation and not just hack away by trial &amp; error.","body":"In your original question you used an <code>@Around</code> advice. This is where <code>ProceedingJoinPoint jp</code> and <code>jp.proceed()</code> fit. The second aspect after your edit shows a <code>@Before</code> advice. There you have to use a normal <code>JoinPoint</code> and you never call <code>proceed()</code> because unless you throw an exception in the advice, the target method will be executed automatically afterwards. Your try to cast and proceed shows that you do not understand that. You really ought to read some documentation and not just hack away by trial &amp; error."},{"owner":{"account_id":15396148,"reputation":381,"user_id":11107197,"display_name":"Fllappy"},"score":0,"creation_date":1602146091,"post_id":64199679,"comment_id":113629587,"body_markdown":"@kriegaex Did read the documents. Which is why I am using JoinPoint for @ before. Understand your point about not using ProceedingJoinPoint here. The above examples are going to work fine in a normal scenario. I am stuck with not understanding how I could do a doOnSubscribe inside the before method here. This is not covered in the documentation, at least none I could see.","body":"@kriegaex Did read the documents. Which is why I am using JoinPoint for @ before. Understand your point about not using ProceedingJoinPoint here. The above examples are going to work fine in a normal scenario. I am stuck with not understanding how I could do a doOnSubscribe inside the before method here. This is not covered in the documentation, at least none I could see."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1602147991,"post_id":64199679,"comment_id":113630498,"body_markdown":"Then read the documentation again. There is no point in trying to cast a normal joinpoint from a before advice to a proceeding joinpoint expected to be used in an around advice. Calling `proceed()` is even more crazy. I am 100% sure you never found that in any documentation, tutorial or sample code. It is just plain wrong. Before you worry about `doOnsubscribe()`, learn how to use AspectJ. That was my point.","body":"Then read the documentation again. There is no point in trying to cast a normal joinpoint from a before advice to a proceeding joinpoint expected to be used in an around advice. Calling <code>proceed()</code> is even more crazy. I am 100% sure you never found that in any documentation, tutorial or sample code. It is just plain wrong. Before you worry about <code>doOnsubscribe()</code>, learn how to use AspectJ. That was my point."},{"owner":{"account_id":15396148,"reputation":381,"user_id":11107197,"display_name":"Fllappy"},"score":0,"creation_date":1602148623,"post_id":64199679,"comment_id":113630794,"body_markdown":"@kriegaex Would never have bothered with ProceedingJoinPoint in a @ Before if not for my worry with doOnsubscribe() trying to see if there is a work around to get it to work. In any case thanks for responding.","body":"@kriegaex Would never have bothered with ProceedingJoinPoint in a @ Before if not for my worry with doOnsubscribe() trying to see if there is a work around to get it to work. In any case thanks for responding."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1602156973,"post_id":64199679,"comment_id":113634600,"body_markdown":"I don&#39;t get it. If you just want to capture the result and log something, use `@AfterReturning`, not `@Before`. You want to do something **after** the method has returned, not **before**. If you want to change the return value and/or do something before + after the original method, use `@Around`. You cannot have read any documentation if you don&#39;t know that. I am really trying to help here. For the 3rd and last time, your problem has nothing to do with `doOnSubscribe()`. You need to practice and understand AOP.","body":"I don&#39;t get it. If you just want to capture the result and log something, use <code>@AfterReturning</code>, not <code>@Before</code>. You want to do something <b>after</b> the method has returned, not <b>before</b>. If you want to change the return value and/or do something before + after the original method, use <code>@Around</code>. You cannot have read any documentation if you don&#39;t know that. I am really trying to help here. For the 3rd and last time, your problem has nothing to do with <code>doOnSubscribe()</code>. You need to practice and understand AOP."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1602557373,"post_id":64199679,"comment_id":113750888,"body_markdown":"Have you given up on this? No more feedback? It is still on my follow-up list.","body":"Have you given up on this? No more feedback? It is still on my follow-up list."},{"owner":{"account_id":15396148,"reputation":381,"user_id":11107197,"display_name":"Fllappy"},"score":0,"creation_date":1602612860,"post_id":64199679,"comment_id":113774017,"body_markdown":"@kriegaex &quot;For the 3rd and last time&quot;. Wasn&#39;t under the impression I was going to get any further feedback after that. \nYou&#39;ve mentioned more than once now that I need to start reading up aspect now. Fair point, am no expert. But my issue is \nspecifically on how to use aspect for a reactive method. Used aspect a fair bit in past projects. My struggle is with trying to aspect \na reactive method which is new to me. I been attempting with @ Around from start.","body":"@kriegaex &quot;For the 3rd and last time&quot;. Wasn&#39;t under the impression I was going to get any further feedback after that.  You&#39;ve mentioned more than once now that I need to start reading up aspect now. Fair point, am no expert. But my issue is  specifically on how to use aspect for a reactive method. Used aspect a fair bit in past projects. My struggle is with trying to aspect  a reactive method which is new to me. I been attempting with @ Around from start."},{"owner":{"account_id":15396148,"reputation":381,"user_id":11107197,"display_name":"Fllappy"},"score":0,"creation_date":1602612870,"post_id":64199679,"comment_id":113774019,"body_markdown":"@kriegaex Only reason I played with @ Before is based on your suggestion below and might have pushed it a bit trying to hack with it. \nThus back to saying doOnSubscribe() is the crux of this question. I need to add operations within there\nelse that operation going to happen before a subscription occurs.","body":"@kriegaex Only reason I played with @ Before is based on your suggestion below and might have pushed it a bit trying to hack with it.  Thus back to saying doOnSubscribe() is the crux of this question. I need to add operations within there else that operation going to happen before a subscription occurs."},{"owner":{"account_id":15396148,"reputation":381,"user_id":11107197,"display_name":"Fllappy"},"score":0,"creation_date":1602613426,"post_id":64199679,"comment_id":113774276,"body_markdown":"Added Further attempt above for reference. No probs if this is still not making any sense.","body":"Added Further attempt above for reference. No probs if this is still not making any sense."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1602647850,"post_id":64199679,"comment_id":113783800,"body_markdown":"What I was referring to by my previous comment is that I gave you hints, but received zero feedback. Instead, you are trying completely different things which do not even make sense. You neither understand my answer nor my hints nor AOP nor reactive programming. Sorry, I do not mean to offend you but to help. But without qualified feedback I cannot help you. As a last resort, please let your code speak: Provide an [MCVE](https://stackoverflow.com/help/mcve) on GitHub, so I can reproduce your problem. I do not want to guess and recreate your situation by myself.","body":"What I was referring to by my previous comment is that I gave you hints, but received zero feedback. Instead, you are trying completely different things which do not even make sense. You neither understand my answer nor my hints nor AOP nor reactive programming. Sorry, I do not mean to offend you but to help. But without qualified feedback I cannot help you. As a last resort, please let your code speak: Provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub, so I can reproduce your problem. I do not want to guess and recreate your situation by myself."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1602647998,"post_id":64199679,"comment_id":113783831,"body_markdown":"Why would you add more `doOn*()` callbacks in your aspect to the already existing ones in the application code? I thought you want to intercept the existing ones. It does not make any sense to me and it is also not what I said you could try instead in my answer, section **B**.","body":"Why would you add more <code>doOn*()</code> callbacks in your aspect to the already existing ones in the application code? I thought you want to intercept the existing ones. It does not make any sense to me and it is also not what I said you could try instead in my answer, section <b>B</b>."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1647974848,"post_id":64199679,"comment_id":126505173,"body_markdown":"Did you work with promise? Maybe you need to understand rx. When you subscribe it will trigger when data is received. Also main thread does not wait for execution process. Especially aspect prints first and when the data received from database, subscribe works.","body":"Did you work with promise? Maybe you need to understand rx. When you subscribe it will trigger when data is received. Also main thread does not wait for execution process. Especially aspect prints first and when the data received from database, subscribe works."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649116500,"creation_date":1601860502,"answer_id":64201365,"question_id":64199679,"body_markdown":"## What is the problem?\r\n\r\nThe problem is not the aspect, it is your understanding of how and when the code you are trying to intercept is getting executed. The aspect does exactly what you tell it to: It logs something before and after the annotated method is executed. So far, so good.\r\n\r\n## What you should to do instead\r\n\r\nWhat you want to intercept are the asynchronous callbacks you register in the `add` method configuring the behaviour for later execution. If you want to do that, you should rather intercept the code provided to `doOnSubscribe` and `doOnEach` with `@Before` or `@After` advices, depending on when you want the information printed (in your example log you seem to prefer after).\r\n\r\n### A) If you use Spring AOP\r\n\r\nIn order to do that, you cannot use lambdas in combination with Spring AOP because Spring AOP can only intercept code in Spring components. So you would have to extract both lambdas into classes (which essentially they are, just anonymous ones), make those classes Spring beans and then intercept their methods. I hope you know that a lambda is basically an anonymous class implementing an interface with a single method (not really internally in JVM byte code, but for simple understanding). So if you create separate Spring components from RxJava subclasses of `Consumer`, `Observer` or whatever your callback implements, you can intercept them via Spring AOP. But that would mean to modify your code so as to accommodate to and facilitate AOP usage. Your code would also get less terse and expressive. But you asked the question, I am just answering it.\r\n\r\n### B) If you use AspectJ\r\n\r\nIf you switch to from Spring AOP to AspectJ or have been using AspectJ already, you can try to directly target the lambdas, but this is also tricky. I would have to write a very long answer to explain why, you you can read [this answer](https://stackoverflow.com/a/49624393/1082681) and [AspectJ issue #471347](https://bugs.eclipse.org/bugs/show_bug.cgi?id=471347) for more information.\r\n\r\nIt gets easier if you convert the lambdas to classical anonymous subclasses (a good IDE like IntelliJ IDEA should help you do that automatically for you with two mouse clicks when you ask it to), which then you can intercept via AspectJ. But again, you are then catering your programming style to AOP usage because at the moment AspectJ does not have explicit support for lambdas.\r\n\r\n---\r\n\r\n### Update after question was changed\r\n\r\n_You edited your question ~1.5 years ago, about 1 week after my answer, providing additional sample code snippets (but sadly, still no [MCVE](https://stackoverflow.com/help/mcve). However, people who commented on or answered questions do not get notifications about question or answer edits. If you want their attention, you need to notify them in an additional comment. I just happened to open this question again today by chance, searching for something else. So even though I hope that you have solved your problem long ago, let me provide some feedback for the record, as other people might also stumble upon this question._\r\n\r\n&gt; ```java\r\n&gt; @Before(&quot;...&quot;)\r\n&gt; public void before(JoinPoint jp, SomeLogger someLogger) throws Throwable {\r\n&gt;     Object[] args = jp.getArgs();\r\n&gt;     Single&lt;?&gt; proceed = ((Single&lt;?&gt;) ((ProceedingJoinPoint) jp).proceed(args));\r\n&gt;     // ...\r\n&gt; }\r\n&gt; ```\r\n\r\nYou are mixing a `@Before` advice with `ProceedingJoinPoint`, which is a `JoinPoint` subclass used only in `@Around` advice, by trying to down-cast and `proceed()` on it. This is doomed to fail. It is the same as trying to cast an instance of `Ellipse` to `Circle` (a specific ellipse with excentricity 0) or `Rectangle` to `Square` (a specific rectangle with four equal sides). In order to be able to use a `Square`, `Circle` or `ProceedingJoinPoint`, the object your are trying to cast actually needs to be one such instance, which is not the case here. The joinpoint object in a before-advice is not a proceeding joinpoint.\r\n\r\nAs for your second example, it is an `@Around` advice, which is fine if you wish to change the original return value. But here...\r\n\r\n&gt; ```java\r\n&gt;     return pjp.proceed(methodArguments)\r\n&gt; ```\r\n\r\nYou are trying to proceed with arguments you never defined via `pjp.getArgs()` before. Just like the first problem, this one is not even an AOP problem but simply using an undefined variable in Java. Of course, it cannot compile. Actually, if you do not change the arguments, there is no need to do that. Simply call `proceed()` without arguments, and it will use the original ones.","title":"Aspect call ending before the method is subscribed","body":"<h2>What is the problem?</h2>\n<p>The problem is not the aspect, it is your understanding of how and when the code you are trying to intercept is getting executed. The aspect does exactly what you tell it to: It logs something before and after the annotated method is executed. So far, so good.</p>\n<h2>What you should to do instead</h2>\n<p>What you want to intercept are the asynchronous callbacks you register in the <code>add</code> method configuring the behaviour for later execution. If you want to do that, you should rather intercept the code provided to <code>doOnSubscribe</code> and <code>doOnEach</code> with <code>@Before</code> or <code>@After</code> advices, depending on when you want the information printed (in your example log you seem to prefer after).</p>\n<h3>A) If you use Spring AOP</h3>\n<p>In order to do that, you cannot use lambdas in combination with Spring AOP because Spring AOP can only intercept code in Spring components. So you would have to extract both lambdas into classes (which essentially they are, just anonymous ones), make those classes Spring beans and then intercept their methods. I hope you know that a lambda is basically an anonymous class implementing an interface with a single method (not really internally in JVM byte code, but for simple understanding). So if you create separate Spring components from RxJava subclasses of <code>Consumer</code>, <code>Observer</code> or whatever your callback implements, you can intercept them via Spring AOP. But that would mean to modify your code so as to accommodate to and facilitate AOP usage. Your code would also get less terse and expressive. But you asked the question, I am just answering it.</p>\n<h3>B) If you use AspectJ</h3>\n<p>If you switch to from Spring AOP to AspectJ or have been using AspectJ already, you can try to directly target the lambdas, but this is also tricky. I would have to write a very long answer to explain why, you you can read <a href=\"https://stackoverflow.com/a/49624393/1082681\">this answer</a> and <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=471347\" rel=\"nofollow noreferrer\">AspectJ issue #471347</a> for more information.</p>\n<p>It gets easier if you convert the lambdas to classical anonymous subclasses (a good IDE like IntelliJ IDEA should help you do that automatically for you with two mouse clicks when you ask it to), which then you can intercept via AspectJ. But again, you are then catering your programming style to AOP usage because at the moment AspectJ does not have explicit support for lambdas.</p>\n<hr />\n<h3>Update after question was changed</h3>\n<p><em>You edited your question ~1.5 years ago, about 1 week after my answer, providing additional sample code snippets (but sadly, still no <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. However, people who commented on or answered questions do not get notifications about question or answer edits. If you want their attention, you need to notify them in an additional comment. I just happened to open this question again today by chance, searching for something else. So even though I hope that you have solved your problem long ago, let me provide some feedback for the record, as other people might also stumble upon this question.</em></p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@Before(&quot;...&quot;)\npublic void before(JoinPoint jp, SomeLogger someLogger) throws Throwable {\n    Object[] args = jp.getArgs();\n    Single&lt;?&gt; proceed = ((Single&lt;?&gt;) ((ProceedingJoinPoint) jp).proceed(args));\n    // ...\n}\n</code></pre>\n</blockquote>\n<p>You are mixing a <code>@Before</code> advice with <code>ProceedingJoinPoint</code>, which is a <code>JoinPoint</code> subclass used only in <code>@Around</code> advice, by trying to down-cast and <code>proceed()</code> on it. This is doomed to fail. It is the same as trying to cast an instance of <code>Ellipse</code> to <code>Circle</code> (a specific ellipse with excentricity 0) or <code>Rectangle</code> to <code>Square</code> (a specific rectangle with four equal sides). In order to be able to use a <code>Square</code>, <code>Circle</code> or <code>ProceedingJoinPoint</code>, the object your are trying to cast actually needs to be one such instance, which is not the case here. The joinpoint object in a before-advice is not a proceeding joinpoint.</p>\n<p>As for your second example, it is an <code>@Around</code> advice, which is fine if you wish to change the original return value. But here...</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>    return pjp.proceed(methodArguments)\n</code></pre>\n</blockquote>\n<p>You are trying to proceed with arguments you never defined via <code>pjp.getArgs()</code> before. Just like the first problem, this one is not even an AOP problem but simply using an undefined variable in Java. Of course, it cannot compile. Actually, if you do not change the arguments, there is no need to do that. Simply call <code>proceed()</code> without arguments, and it will use the original ones.</p>\n"}],"owner":{"account_id":15396148,"reputation":381,"user_id":11107197,"display_name":"Fllappy"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":919,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1649116500,"creation_date":1601844105,"question_id":64199679,"body_markdown":"I have a method which has reactive code in it (RxJava). \r\n\r\nI have an Aspect @around wrapped around it. \r\n\r\nThe setup is fine, it does the print out as follows. \r\n\r\nBut it happens before the method is even subscribed to. \r\n\r\nIs there a way we could set it up such that the Aspect is going to only kick off after the method gets subscribed to? \r\n\r\nMy Aspect class \r\n\r\n    @Aspect\r\n    public class AspectClass {\r\n    \r\n            @Around(&quot;@annotation(someLogger) &amp;&amp; execution(* *(..))&quot;)\r\n            public Object getMockedData(ProceedingJoinPoint pjp, SomeLogger someLogger) throws Throwable {\r\n        \r\n                System.out.println(&quot;from aspect start: &quot; + Thread.currentThread().getName());\r\n        \r\n                Object actualResponse = pjp.proceed(methodArguments);\r\n        \r\n                System.out.println(&quot;from aspect close: &quot; + Thread.currentThread().getName());\r\n        \r\n                return actualResponse;\r\n        \r\n            }\r\n        }\r\n\r\nThe custom annotation \r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface SomeLogger {\r\n    \r\n        String name() default &quot;&quot;;\r\n    }\r\n\r\nThe method that gets annotated to use aspect. \r\n\r\n    @SomeLogger(name = &quot;name&quot;)\r\n    public Single&lt;Response&gt;  add(Request request) {\r\n    \r\n        return sample(request)\r\n                .flatMapObservable(resultSet -&gt; Observable.from(resultSet.getRows()))\r\n                .map(row -&gt; Response.builder()\r\n                        .sampleTimestamp(localDateTime(row.getInstant(&quot;sample&quot;)))\r\n                        .build()\r\n                )\r\n                .first()\r\n                .toSingle()\r\n                .doOnSubscribe(() -&gt; System.out.println(&quot;method is subbed: add &quot; + Thread.currentThread().getName()))\r\n                .doOnEach(n -&gt; System.out.println(&quot;method ends and doOnEach: add &quot; + Thread.currentThread().getName()));\r\n    \r\n    }\r\n\r\nAs mentioned the print lines in the aspect class gets printed even before subscription which is wrong. \r\n\r\nThus this is the current wrong order for the print. \r\n\r\n    from aspect start: eventloop-thread-3\r\n    from aspect close: eventloop-thread-3\r\n    method is subbed: add eventloop-thread-3\r\n    method ends and doOnEach: add eventloop-thread-3\r\n\r\nI was expecting the following order. \r\n\r\n    method is subbed: add eventloop-thread-3\r\n    from aspect start: eventloop-thread-3\r\n    method ends and doOnEach: add eventloop-thread-3\r\n    from aspect close: eventloop-thread-3\r\n\r\nIs this possible? \r\n\r\nThis is the closest question I found with regards to this. \r\nhttps://stackoverflow.com/questions/60630848/writing-aspects-for-reactive-pipelines\r\n\r\nBut that question is based off Spring. Also there is a line in that answer: \r\n\r\n&gt; You do need to make the aspect aware of the asynchronous situation.\r\n\r\nSounds like this is what I need to do, but how can I do it? Thanks for any advice. \r\n\r\n**--- UPDATE after suggestion ---**\r\n\r\n\r\nTo note, am using AspectJ not Spring. \r\n\r\nThis doesn&#39;t work cos variable proceed is null before subscription. \r\n\r\nThus I added a null check. But we are only going to enter here once. \r\n\r\nThus proceed.doOnSubscribe() never happens. \r\n\r\n    @Before(&quot;@annotation(someLogger) &amp;&amp; execution(* *(..))&quot;)\r\n    public void before(JoinPoint jp, SomeLogger someLogger) throws Throwable {\r\n    \r\n        Object[] args = jp.getArgs();\r\n    \r\n        Single&lt;?&gt; proceed = ((Single&lt;?&gt;) ((ProceedingJoinPoint) jp).proceed(args));\r\n    \r\n        if(proceed != null) {\r\n            proceed.doOnSubscribe(() -&gt; System.out.println(&quot;doOnSubscribe in before&quot;));\r\n        }\r\n    \r\n        // this will print before a subscription\r\n        // as expected before which is not what I want. \r\n        System.out.println(&quot;inside before&quot;);\r\n    \r\n    }\r\n\r\nFurther attempt: \r\n\r\nAt least in theory was expecting this to work. But throws AJC Compiler errors. \r\n\r\n    @Around(&quot;@annotation(someLogger) &amp;&amp; execution(* *(..))&quot;)\r\n        public Object around(ProceedingJoinPoint pjp, SomeLogger someLogger) {\r\n    \r\n            // return pjp.proceed(methodArguments); // compiles fine if no operations on method \r\n    \r\n            return pjp.proceed(methodArguments)\r\n            .doOnSubscribe(() -&gt; System.out.println(&quot;method is subbed: add &quot; + Thread.currentThread().getName()))\r\n            .doOnEach(n -&gt; System.out.println(&quot;method ends and doOnEach: add &quot; + Thread.currentThread().getName()));\r\n    }","title":"Aspect call ending before the method is subscribed","body":"<p>I have a method which has reactive code in it (RxJava).</p>\n<p>I have an Aspect @around wrapped around it.</p>\n<p>The setup is fine, it does the print out as follows.</p>\n<p>But it happens before the method is even subscribed to.</p>\n<p>Is there a way we could set it up such that the Aspect is going to only kick off after the method gets subscribed to?</p>\n<p>My Aspect class</p>\n<pre><code>@Aspect\npublic class AspectClass {\n\n        @Around(&quot;@annotation(someLogger) &amp;&amp; execution(* *(..))&quot;)\n        public Object getMockedData(ProceedingJoinPoint pjp, SomeLogger someLogger) throws Throwable {\n    \n            System.out.println(&quot;from aspect start: &quot; + Thread.currentThread().getName());\n    \n            Object actualResponse = pjp.proceed(methodArguments);\n    \n            System.out.println(&quot;from aspect close: &quot; + Thread.currentThread().getName());\n    \n            return actualResponse;\n    \n        }\n    }\n</code></pre>\n<p>The custom annotation</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface SomeLogger {\n\n    String name() default &quot;&quot;;\n}\n</code></pre>\n<p>The method that gets annotated to use aspect.</p>\n<pre><code>@SomeLogger(name = &quot;name&quot;)\npublic Single&lt;Response&gt;  add(Request request) {\n\n    return sample(request)\n            .flatMapObservable(resultSet -&gt; Observable.from(resultSet.getRows()))\n            .map(row -&gt; Response.builder()\n                    .sampleTimestamp(localDateTime(row.getInstant(&quot;sample&quot;)))\n                    .build()\n            )\n            .first()\n            .toSingle()\n            .doOnSubscribe(() -&gt; System.out.println(&quot;method is subbed: add &quot; + Thread.currentThread().getName()))\n            .doOnEach(n -&gt; System.out.println(&quot;method ends and doOnEach: add &quot; + Thread.currentThread().getName()));\n\n}\n</code></pre>\n<p>As mentioned the print lines in the aspect class gets printed even before subscription which is wrong.</p>\n<p>Thus this is the current wrong order for the print.</p>\n<pre><code>from aspect start: eventloop-thread-3\nfrom aspect close: eventloop-thread-3\nmethod is subbed: add eventloop-thread-3\nmethod ends and doOnEach: add eventloop-thread-3\n</code></pre>\n<p>I was expecting the following order.</p>\n<pre><code>method is subbed: add eventloop-thread-3\nfrom aspect start: eventloop-thread-3\nmethod ends and doOnEach: add eventloop-thread-3\nfrom aspect close: eventloop-thread-3\n</code></pre>\n<p>Is this possible?</p>\n<p>This is the closest question I found with regards to this.\n<a href=\"https://stackoverflow.com/questions/60630848/writing-aspects-for-reactive-pipelines\">Writing Aspects For Reactive Pipelines</a></p>\n<p>But that question is based off Spring. Also there is a line in that answer:</p>\n<blockquote>\n<p>You do need to make the aspect aware of the asynchronous situation.</p>\n</blockquote>\n<p>Sounds like this is what I need to do, but how can I do it? Thanks for any advice.</p>\n<p><strong>--- UPDATE after suggestion ---</strong></p>\n<p>To note, am using AspectJ not Spring.</p>\n<p>This doesn't work cos variable proceed is null before subscription.</p>\n<p>Thus I added a null check. But we are only going to enter here once.</p>\n<p>Thus proceed.doOnSubscribe() never happens.</p>\n<pre><code>@Before(&quot;@annotation(someLogger) &amp;&amp; execution(* *(..))&quot;)\npublic void before(JoinPoint jp, SomeLogger someLogger) throws Throwable {\n\n    Object[] args = jp.getArgs();\n\n    Single&lt;?&gt; proceed = ((Single&lt;?&gt;) ((ProceedingJoinPoint) jp).proceed(args));\n\n    if(proceed != null) {\n        proceed.doOnSubscribe(() -&gt; System.out.println(&quot;doOnSubscribe in before&quot;));\n    }\n\n    // this will print before a subscription\n    // as expected before which is not what I want. \n    System.out.println(&quot;inside before&quot;);\n\n}\n</code></pre>\n<p>Further attempt:</p>\n<p>At least in theory was expecting this to work. But throws AJC Compiler errors.</p>\n<pre><code>@Around(&quot;@annotation(someLogger) &amp;&amp; execution(* *(..))&quot;)\n    public Object around(ProceedingJoinPoint pjp, SomeLogger someLogger) {\n\n        // return pjp.proceed(methodArguments); // compiles fine if no operations on method \n\n        return pjp.proceed(methodArguments)\n        .doOnSubscribe(() -&gt; System.out.println(&quot;method is subbed: add &quot; + Thread.currentThread().getName()))\n        .doOnEach(n -&gt; System.out.println(&quot;method ends and doOnEach: add &quot; + Thread.currentThread().getName()));\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649115397,"post_id":71744780,"comment_id":126789666,"body_markdown":"Lists and Arrays in Java/ANdroind are 0 based. So the first value is always at index 0 not index 1.","body":"Lists and Arrays in Java/ANdroind are 0 based. So the first value is always at index 0 not index 1."},{"owner":{"account_id":24203866,"reputation":3,"user_id":18707329,"display_name":"bloop"},"score":0,"creation_date":1649115513,"post_id":71744780,"comment_id":126789688,"body_markdown":"@sorifiend Will it matter if I choose not to call the value at index 0 and skip right onto 1?","body":"@sorifiend Will it matter if I choose not to call the value at index 0 and skip right onto 1?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649115737,"post_id":71744780,"comment_id":126789719,"body_markdown":"You could, however, it looks like you only ever add a single `RecipeModel` to your list. Please edit your question to include the RecipeModel class, however, I assume that you want to get the inner contents of that item, so you would need to use something like `returnRecipe.get(0).get(...)` or `returnRecipe.get(0).getRecipeName();`","body":"You could, however, it looks like you only ever add a single <code>RecipeModel</code> to your list. Please edit your question to include the RecipeModel class, however, I assume that you want to get the inner contents of that item, so you would need to use something like <code>returnRecipe.get(0).get(...)</code> or <code>returnRecipe.get(0).getRecipeName();</code>"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1649117400,"post_id":71744780,"comment_id":126790031,"body_markdown":"IMO ``readRecipe`` shouldn&#39;t really be returning a list at all, since it explicitly only returns a single ``RecipeModel``. And yeah, it should definitely expose properties with ``getName()`` etc, no magic numbers like ``get(1)``!","body":"IMO <code>readRecipe</code> shouldn&#39;t really be returning a list at all, since it explicitly only returns a single <code>RecipeModel</code>. And yeah, it should definitely expose properties with <code>getName()</code> etc, no magic numbers like <code>get(1)</code>!"}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649115739,"creation_date":1649115739,"answer_id":71744860,"question_id":71744780,"body_markdown":"The method `List&lt;RecipeModel&gt; readRecipe()` return a List who contain a single `RecipeModel`.\r\n\r\nYou should write :\r\n\r\n            viewRecipeName.setText((CharSequence) returnRecipe.get(0).getName());\r\n            viewCountry.setText((CharSequence) returnRecipe.get(0).getCountry());\r\n            viewTxtHours.setText((CharSequence) returnRecipe.get(0).getTxtHours());\r\n            ...\r\n\r\nIf you need just to fill the informations of a single RecipeModel , change the helper Method return type is better , i suggest that you make it return a RecipeModel not a List of RecipeModels.","title":"In what manner are values added to a list in android studio?","body":"<p>The method <code>List&lt;RecipeModel&gt; readRecipe()</code> return a List who contain a single <code>RecipeModel</code>.</p>\n<p>You should write :</p>\n<pre><code>        viewRecipeName.setText((CharSequence) returnRecipe.get(0).getName());\n        viewCountry.setText((CharSequence) returnRecipe.get(0).getCountry());\n        viewTxtHours.setText((CharSequence) returnRecipe.get(0).getTxtHours());\n        ...\n</code></pre>\n<p>If you need just to fill the informations of a single RecipeModel , change the helper Method return type is better , i suggest that you make it return a RecipeModel not a List of RecipeModels.</p>\n"}],"owner":{"account_id":24203866,"reputation":3,"user_id":18707329,"display_name":"bloop"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71744860,"answer_count":1,"score":0,"last_activity_date":1649116103,"creation_date":1649114846,"question_id":71744780,"body_markdown":"I have been getting this problem when trying to retrieve data from the database: I save the data into &#39;new recipe&#39; and then add that to the list, however, whenever I try to get the value from an index in that list, it says it is out of index range in logcat(java.lang.IndexOutOfBoundsException: Index: 1, Size: 1), even though the index is 1. This leads me to ask: When adding to a list in this way, are all the variables stored in one item in the list rather than 8 separate ones?\r\n\r\nHere&#39;s the code for reading and adding to the list (inDBHelper Class):\r\n\r\n     public List&lt;RecipeModel&gt; readRecipe() {\r\n            SQLiteDatabase db = this.getReadableDatabase();\r\n            List&lt;RecipeModel&gt; returnRecipe = new ArrayList&lt;&gt;();\r\n    \r\n            String queryString = &quot;SELECT * FROM &quot; + RECIPE_TABLE;\r\n    \r\n            Cursor cursor = db.rawQuery(queryString, null);\r\n    \r\n            cursor.moveToLast();\r\n            int recipeID = cursor.getInt(0);\r\n            String recipeName = cursor.getString(1);\r\n            String recipeCountry = cursor.getString( 2);\r\n            String recipeHours = cursor.getString(3);\r\n            String recipeMinutes = cursor.getString(4);\r\n            String recipeEquipment = cursor.getString(5);\r\n            String recipeIngredients = cursor.getString(6);\r\n            String recipeMethod = cursor.getString(7);\r\n            String recipeStory = cursor.getString(8);\r\n    \r\n            RecipeModel newRecipe = new RecipeModel(recipeID, recipeName, recipeCountry, recipeHours, recipeMinutes, recipeEquipment, recipeIngredients, recipeMethod, recipeStory);\r\n    \r\n            returnRecipe.add(newRecipe);\r\n            cursor.close();\r\n            db.close();\r\n            return returnRecipe;\r\n    \r\n        }\r\n\r\nHere is the code that is trying to get the value from the list index (in Main Activity): \r\n\r\n     DBHelper dbHelper = new DBHelper(preview_recipe.this);\r\n            //call read function and array\r\n            List&lt;RecipeModel&gt; returnRecipe = dbHelper.readRecipe();\r\n    \r\n            //Setting values into text views\r\n            viewRecipeName.setText((CharSequence) returnRecipe.get(1));\r\n            viewCountry.setText((CharSequence) returnRecipe.get(2));\r\n            viewTxtHours.setText((CharSequence) returnRecipe.get(3));\r\n            viewMins.setText((CharSequence) returnRecipe.get(4));\r\n            viewTxtEquipment.setText((CharSequence) returnRecipe.get(5));\r\n            viewTxtIngredients.setText((CharSequence) returnRecipe.get(6));\r\n            viewTxtMethod.setText((CharSequence) returnRecipe.get(7));\r\n            viewPersonalStory.setText((CharSequence) returnRecipe.get(8));\r\n\r\n\r\nRecipeModel (excluding getters and setters) : \r\n\r\n    public class RecipeModel {\r\n        private int id;\r\n        private String recipeName;\r\n        private String recipeCountry;\r\n        private String recipeHours;\r\n        private String recipeMinutes;\r\n        private String recipeEquipment;\r\n        private String recipeIngredients;\r\n        private String recipeMethod;\r\n        private String recipeStory;\r\n    \r\n        public RecipeModel(int id, String recipeName, String recipeCountry, String recipeHours, String recipeMinutes, String recipeEquipment, String recipeIngredients, String recipeMethod, String recipeStory) {\r\n            this.id = id;\r\n            this.recipeName = recipeName;\r\n            this.recipeCountry = recipeCountry;\r\n            this.recipeHours = recipeHours;\r\n            this.recipeMinutes = recipeMinutes;\r\n            this.recipeEquipment = recipeEquipment;\r\n            this.recipeIngredients = recipeIngredients;\r\n            this.recipeMethod = recipeMethod;\r\n            this.recipeStory = recipeStory;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;RecipeModel{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, recipeName=&#39;&quot; + recipeName + &#39;\\&#39;&#39; +\r\n                    &quot;, recipeCountry=&#39;&quot; + recipeCountry + &#39;\\&#39;&#39; +\r\n                    &quot;, recipeHours=&#39;&quot; + recipeHours + &#39;\\&#39;&#39; +\r\n                    &quot;, recipeMinutes=&#39;&quot; + recipeMinutes + &#39;\\&#39;&#39; +\r\n                    &quot;, recipeEquipment=&#39;&quot; + recipeEquipment + &#39;\\&#39;&#39; +\r\n                    &quot;, recipeIngredients=&#39;&quot; + recipeIngredients + &#39;\\&#39;&#39; +\r\n                    &quot;, recipeMethod=&#39;&quot; + recipeMethod + &#39;\\&#39;&#39; +\r\n                    &quot;, recipeStory=&#39;&quot; + recipeStory + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n\r\n","title":"In what manner are values added to a list in android studio?","body":"<p>I have been getting this problem when trying to retrieve data from the database: I save the data into 'new recipe' and then add that to the list, however, whenever I try to get the value from an index in that list, it says it is out of index range in logcat(java.lang.IndexOutOfBoundsException: Index: 1, Size: 1), even though the index is 1. This leads me to ask: When adding to a list in this way, are all the variables stored in one item in the list rather than 8 separate ones?</p>\n<p>Here's the code for reading and adding to the list (inDBHelper Class):</p>\n<pre><code> public List&lt;RecipeModel&gt; readRecipe() {\n        SQLiteDatabase db = this.getReadableDatabase();\n        List&lt;RecipeModel&gt; returnRecipe = new ArrayList&lt;&gt;();\n\n        String queryString = &quot;SELECT * FROM &quot; + RECIPE_TABLE;\n\n        Cursor cursor = db.rawQuery(queryString, null);\n\n        cursor.moveToLast();\n        int recipeID = cursor.getInt(0);\n        String recipeName = cursor.getString(1);\n        String recipeCountry = cursor.getString( 2);\n        String recipeHours = cursor.getString(3);\n        String recipeMinutes = cursor.getString(4);\n        String recipeEquipment = cursor.getString(5);\n        String recipeIngredients = cursor.getString(6);\n        String recipeMethod = cursor.getString(7);\n        String recipeStory = cursor.getString(8);\n\n        RecipeModel newRecipe = new RecipeModel(recipeID, recipeName, recipeCountry, recipeHours, recipeMinutes, recipeEquipment, recipeIngredients, recipeMethod, recipeStory);\n\n        returnRecipe.add(newRecipe);\n        cursor.close();\n        db.close();\n        return returnRecipe;\n\n    }\n</code></pre>\n<p>Here is the code that is trying to get the value from the list index (in Main Activity):</p>\n<pre><code> DBHelper dbHelper = new DBHelper(preview_recipe.this);\n        //call read function and array\n        List&lt;RecipeModel&gt; returnRecipe = dbHelper.readRecipe();\n\n        //Setting values into text views\n        viewRecipeName.setText((CharSequence) returnRecipe.get(1));\n        viewCountry.setText((CharSequence) returnRecipe.get(2));\n        viewTxtHours.setText((CharSequence) returnRecipe.get(3));\n        viewMins.setText((CharSequence) returnRecipe.get(4));\n        viewTxtEquipment.setText((CharSequence) returnRecipe.get(5));\n        viewTxtIngredients.setText((CharSequence) returnRecipe.get(6));\n        viewTxtMethod.setText((CharSequence) returnRecipe.get(7));\n        viewPersonalStory.setText((CharSequence) returnRecipe.get(8));\n</code></pre>\n<p>RecipeModel (excluding getters and setters) :</p>\n<pre><code>public class RecipeModel {\n    private int id;\n    private String recipeName;\n    private String recipeCountry;\n    private String recipeHours;\n    private String recipeMinutes;\n    private String recipeEquipment;\n    private String recipeIngredients;\n    private String recipeMethod;\n    private String recipeStory;\n\n    public RecipeModel(int id, String recipeName, String recipeCountry, String recipeHours, String recipeMinutes, String recipeEquipment, String recipeIngredients, String recipeMethod, String recipeStory) {\n        this.id = id;\n        this.recipeName = recipeName;\n        this.recipeCountry = recipeCountry;\n        this.recipeHours = recipeHours;\n        this.recipeMinutes = recipeMinutes;\n        this.recipeEquipment = recipeEquipment;\n        this.recipeIngredients = recipeIngredients;\n        this.recipeMethod = recipeMethod;\n        this.recipeStory = recipeStory;\n    }\n\n\n    @Override\n    public String toString() {\n        return &quot;RecipeModel{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, recipeName='&quot; + recipeName + '\\'' +\n                &quot;, recipeCountry='&quot; + recipeCountry + '\\'' +\n                &quot;, recipeHours='&quot; + recipeHours + '\\'' +\n                &quot;, recipeMinutes='&quot; + recipeMinutes + '\\'' +\n                &quot;, recipeEquipment='&quot; + recipeEquipment + '\\'' +\n                &quot;, recipeIngredients='&quot; + recipeIngredients + '\\'' +\n                &quot;, recipeMethod='&quot; + recipeMethod + '\\'' +\n                &quot;, recipeStory='&quot; + recipeStory + '\\'' +\n                '}';\n    }\n</code></pre>\n"},{"tags":["java","mysql","sql","jdbc"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1571127103,"post_id":58390022,"comment_id":103126763,"body_markdown":"You can&#39;t do this in MySQL without using a stored procedure or dynamic SQL, so it won&#39;t work from JDBC, [see here](https://stackoverflow.com/questions/24571611/mysql-alter-table-if-column-not-exists).  You may write a stored procedure and then call it from Java.","body":"You can&#39;t do this in MySQL without using a stored procedure or dynamic SQL, so it won&#39;t work from JDBC, <a href=\"https://stackoverflow.com/questions/24571611/mysql-alter-table-if-column-not-exists\">see here</a>.  You may write a stored procedure and then call it from Java."},{"owner":{"account_id":14448550,"reputation":230,"user_id":12118403,"display_name":"David Krell"},"score":0,"creation_date":1571127231,"post_id":58390022,"comment_id":103126824,"body_markdown":"@TimBiegeleisen so you mean in a separated text file?","body":"@TimBiegeleisen so you mean in a separated text file?"}],"answers":[{"tags":[],"owner":{"account_id":15623803,"reputation":25,"user_id":11271975,"display_name":"Semper_fi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571129184,"creation_date":1571129184,"answer_id":58390662,"question_id":58390022,"body_markdown":"You can use :\r\n\r\n    select * from information_schema.columns\r\n    where\r\n    table_schame=&#39;&lt;enter_your_database_name_here_remove_brackets&gt;&#39; and\r\n    table_name=&#39;test_cm_documents&#39; and\r\n    column_name=&#39;test_id&#39;\r\n\r\nto recieve list of tuples in your Java application and if the size of this list is 0, execute mysql query:\r\n\r\n    alter table test_cm_documents add column test_id int;\r\n\r\nAlso, you will need to the grant access(for information_schema) to the user specified in your java application. (Ignore this if user is &#39;ROOT&#39;).","title":"How to use the IF NOT EXISTS Statement for the ALTER TABLE Statement?","body":"<p>You can use :</p>\n\n<pre><code>select * from information_schema.columns\nwhere\ntable_schame='&lt;enter_your_database_name_here_remove_brackets&gt;' and\ntable_name='test_cm_documents' and\ncolumn_name='test_id'\n</code></pre>\n\n<p>to recieve list of tuples in your Java application and if the size of this list is 0, execute mysql query:</p>\n\n<pre><code>alter table test_cm_documents add column test_id int;\n</code></pre>\n\n<p>Also, you will need to the grant access(for information_schema) to the user specified in your java application. (Ignore this if user is 'ROOT').</p>\n"}],"owner":{"account_id":14448550,"reputation":230,"user_id":12118403,"display_name":"David Krell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649115522,"creation_date":1571126915,"question_id":58390022,"body_markdown":"I am working on an application which is written in Java. Now I have to create a new column in my Database. But the column shall just be created when it is not existing. \r\n\r\nSo I want to use *IF NOT EXISTS* and *ALTER TABLE* to create my new Column. \r\n\r\nHere is what I tried:\r\n\r\n    //Some import statements and previous, not for the question relevant code\r\n     \r\n    //relevant code:\r\n\r\n     Statement alter = conn.createStatement();{\r\n       String alterStr=&quot;alter table test_cm_documents ADD if not exists test_id int&quot;;\r\n       alter.executeQuery(alterStr);\r\n       System.out.println(&quot;Column has been generated.&quot;)\r\n     }\r\n\r\nActually I just expected that it prints out &quot;Column has been generated.&quot; but it gives me the following error Message:\r\n\r\n&gt;ERROR 1064(42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;if not exists test_id&#39; at line 1\r\n\r\n\r\nI am quite new to the topic so please excuse any mistakes.","title":"How to use the IF NOT EXISTS Statement for the ALTER TABLE Statement?","body":"<p>I am working on an application which is written in Java. Now I have to create a new column in my Database. But the column shall just be created when it is not existing.</p>\n<p>So I want to use <em>IF NOT EXISTS</em> and <em>ALTER TABLE</em> to create my new Column.</p>\n<p>Here is what I tried:</p>\n<pre><code>//Some import statements and previous, not for the question relevant code\n \n//relevant code:\n\n Statement alter = conn.createStatement();{\n   String alterStr=&quot;alter table test_cm_documents ADD if not exists test_id int&quot;;\n   alter.executeQuery(alterStr);\n   System.out.println(&quot;Column has been generated.&quot;)\n }\n</code></pre>\n<p>Actually I just expected that it prints out &quot;Column has been generated.&quot; but it gives me the following error Message:</p>\n<blockquote>\n<p>ERROR 1064(42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if not exists test_id' at line 1</p>\n</blockquote>\n<p>I am quite new to the topic so please excuse any mistakes.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":13055248,"reputation":559,"user_id":9434323,"display_name":"Sterconium"},"score":0,"creation_date":1571142589,"post_id":58394655,"comment_id":103135040,"body_markdown":"Why don&#39;t you just split by spaces and dashes and take the words length -2 ?","body":"Why don&#39;t you just split by spaces and dashes and take the words length -2 ?"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1571143074,"creation_date":1571142738,"answer_id":58394809,"question_id":58394655,"body_markdown":"You may use\r\n\r\n    String text = &quot;elephant-rides are really fun!&quot;;\r\n    Pattern r = Pattern.compile(&quot;(?U)(\\\\w)(\\\\w{2,})(\\\\w)&quot;);\r\n    Matcher m = r.matcher(text);\r\n    StringBuffer sb = new StringBuffer();\r\n    while (m.find()) {\r\n        m.appendReplacement(sb, m.group(1) + m.group(2).length() + m.group(3));\r\n    }\r\n    m.appendTail(sb); // append the rest of the contents\r\n    System.out.println(sb);\r\n    // =&gt; e6t-r3s are r4y fun!\r\n\r\nSee the [Java demo][1]\r\n\r\nHere, `(?U)(\\\\w)(\\\\w{2,})(\\\\w)` matches any Unicode word char capturing it into Group 1, then captures any 2 or more word chars into Group 2 and then captures a single word char into Group 3, and inside the `.appendReplacement` method, the second group contents are &quot;converted&quot; into its length.\r\n\r\n[Java 9+][2]:\r\n\r\n    String text = &quot;elephant-rides are really fun!&quot;;\r\n    Pattern r = Pattern.compile(&quot;(?U)(\\\\w)(\\\\w{2,})(\\\\w)&quot;);\r\n    Matcher m = r.matcher(text);\r\n\tString result = m.replaceAll(x -&gt; x.group(1) + x.group(2).length() + x.group(3));\r\n\tSystem.out.println( result );\r\n    // =&gt; e6t-r3s are r4y fun!\r\n\r\n  [1]: http://ideone.com/mRmiX7\r\n  [2]: http://ideone.com/4C0ZHD","title":"(hello-&gt; h3o) How to replace in a String the middle letters for the number of letters replaced","body":"<p>You may use</p>\n\n<pre><code>String text = \"elephant-rides are really fun!\";\nPattern r = Pattern.compile(\"(?U)(\\\\w)(\\\\w{2,})(\\\\w)\");\nMatcher m = r.matcher(text);\nStringBuffer sb = new StringBuffer();\nwhile (m.find()) {\n    m.appendReplacement(sb, m.group(1) + m.group(2).length() + m.group(3));\n}\nm.appendTail(sb); // append the rest of the contents\nSystem.out.println(sb);\n// =&gt; e6t-r3s are r4y fun!\n</code></pre>\n\n<p>See the <a href=\"http://ideone.com/mRmiX7\" rel=\"nofollow noreferrer\">Java demo</a></p>\n\n<p>Here, <code>(?U)(\\\\w)(\\\\w{2,})(\\\\w)</code> matches any Unicode word char capturing it into Group 1, then captures any 2 or more word chars into Group 2 and then captures a single word char into Group 3, and inside the <code>.appendReplacement</code> method, the second group contents are \"converted\" into its length.</p>\n\n<p><a href=\"http://ideone.com/4C0ZHD\" rel=\"nofollow noreferrer\">Java 9+</a>:</p>\n\n<pre><code>String text = \"elephant-rides are really fun!\";\nPattern r = Pattern.compile(\"(?U)(\\\\w)(\\\\w{2,})(\\\\w)\");\nMatcher m = r.matcher(text);\nString result = m.replaceAll(x -&gt; x.group(1) + x.group(2).length() + x.group(3));\nSystem.out.println( result );\n// =&gt; e6t-r3s are r4y fun!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13055248,"reputation":559,"user_id":9434323,"display_name":"Sterconium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571143754,"creation_date":1571143382,"answer_id":58395016,"question_id":58394655,"body_markdown":"For the instructions you gave us, this would be sufficient:\r\n\r\n    String [] result = string.split(&quot;[\\\\s-]&quot;);\r\n    for (int i=0; i&lt;result.length; i++){\r\n    \tresult[i] = &quot;&quot; + result[i].charAt(0) + ((result[i].length())-2) + result[i].charAt(result[i].length()-1);\r\n    }\r\n\r\nWith your input, it creates the array `[ &quot;e6t&quot;, &quot;r3s&quot;, &quot;a1e&quot;, &quot;r4y&quot;, &quot;f2!&quot; ]`\r\n\r\nAnd it works even with one or two sized words, but it gives result such as:\r\n\r\nInput: *`I am a small`*; Output: `[ &quot;I-1I&quot;, &quot;a0m&quot;, &quot;a-1a&quot;, &quot;s3l&quot; ]`\r\n\r\nAgain, for the instructions you gave us this would be legal.\r\n\r\nHope I helped!","title":"(hello-&gt; h3o) How to replace in a String the middle letters for the number of letters replaced","body":"<p>For the instructions you gave us, this would be sufficient:</p>\n\n<pre><code>String [] result = string.split(\"[\\\\s-]\");\nfor (int i=0; i&lt;result.length; i++){\n    result[i] = \"\" + result[i].charAt(0) + ((result[i].length())-2) + result[i].charAt(result[i].length()-1);\n}\n</code></pre>\n\n<p>With your input, it creates the array <code>[ \"e6t\", \"r3s\", \"a1e\", \"r4y\", \"f2!\" ]</code></p>\n\n<p>And it works even with one or two sized words, but it gives result such as:</p>\n\n<p>Input: <em><code>I am a small</code></em>; Output: <code>[ \"I-1I\", \"a0m\", \"a-1a\", \"s3l\" ]</code></p>\n\n<p>Again, for the instructions you gave us this would be legal.</p>\n\n<p>Hope I helped!</p>\n"}],"owner":{"account_id":11159969,"reputation":393,"user_id":8914395,"display_name":"Olegario L&#243;pez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58394809,"answer_count":2,"score":1,"last_activity_date":1649115447,"creation_date":1571142313,"question_id":58394655,"body_markdown":"I need to build a method which receive a String e.g. &quot;elephant-rides are really fun!&quot;. and return another similar String, in this example the return should be: &quot;e6t-r3s are r4y fun!&quot;. (because e-lephan-t has 6 middle letters, r-ide-s has 3 middle letters and so on)\r\n\r\nTo get that return I need to replace in each word the middle letters for the number of letters replaced leaving without changes everything which isn&#39;t a letter and the first and the last letter of every word.\r\n\r\nfor the moment I&#39;ve tried using regex to split the received string into words, and saving these words in an array of strings also I have another array of int in which I save the number of middle letters, but I don&#39;t know how to join both arrays and the symbols into a correct String to return\r\n\r\n    String string=&quot;elephant-rides are really fun!&quot;;\r\n\tString[] parts = string.split(&quot;[^a-zA-Z]&quot;);\r\n\tint[] sizes = new int[parts.length];\r\n\tint index=0;\r\n\r\n\tfor(String aux: parts)\r\n\t{\t \r\n\t\tsizes[index]= aux.length()-2;\r\n\t\tSystem.out.println( sizes[index]);\r\n\t\tindex++;\t \r\n\t}","title":"(hello-&gt; h3o) How to replace in a String the middle letters for the number of letters replaced","body":"<p>I need to build a method which receive a String e.g. &quot;elephant-rides are really fun!&quot;. and return another similar String, in this example the return should be: &quot;e6t-r3s are r4y fun!&quot;. (because e-lephan-t has 6 middle letters, r-ide-s has 3 middle letters and so on)</p>\n<p>To get that return I need to replace in each word the middle letters for the number of letters replaced leaving without changes everything which isn't a letter and the first and the last letter of every word.</p>\n<p>for the moment I've tried using regex to split the received string into words, and saving these words in an array of strings also I have another array of int in which I save the number of middle letters, but I don't know how to join both arrays and the symbols into a correct String to return</p>\n<pre><code>String string=&quot;elephant-rides are really fun!&quot;;\nString[] parts = string.split(&quot;[^a-zA-Z]&quot;);\nint[] sizes = new int[parts.length];\nint index=0;\n\nfor(String aux: parts)\n{    \n    sizes[index]= aux.length()-2;\n    System.out.println( sizes[index]);\n    index++;     \n}\n</code></pre>\n"},{"tags":["java","minecraft","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649115263,"creation_date":1649115263,"answer_id":71744824,"question_id":71718536,"body_markdown":"If this is LWJGL 3, then it doesn&#39;t work because there *is* no Keyboard class for LWJGL 3. The Keyboard class in LWJGL 2 was removed in LWJGL 3.","title":"Problem with minecraft code 1.16.5 and org.lwjgl.input.Keyboard","body":"<p>If this is LWJGL 3, then it doesn't work because there <em>is</em> no Keyboard class for LWJGL 3. The Keyboard class in LWJGL 2 was removed in LWJGL 3.</p>\n"}],"owner":{"account_id":24799549,"reputation":11,"user_id":18682036,"display_name":"StilShem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1649115263,"creation_date":1648910863,"question_id":71718536,"body_markdown":"I have a code of my minecraft mod.\r\n\r\n```\r\npackage com.StilShem.BetterPH.keys;\r\n\r\nimport com.StilShem.BetterPH.Client;\r\nimport net.minecraftforge.client.event.InputEvent;\r\nimport net.minecraftforge.eventbus.api.SubscribeEvent;\r\nimport org.lwjgl.input.Keyboard;\r\n\r\npublic class key {\r\n    @SubscribeEvent\r\n    public void onKeyInput(InputEvent.KeyInputEvent e) {\r\n        if (Keyboard.isKeyDown(Keyboard.getEventKey())) {\r\n            if (Keyboard.getEventKey() != Keyboard.KEY_NONE) {\r\n                Client.keyPress(Keyboard.getEventKey());\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is code for Minecraft version 1.12.2\r\nOn version 1.16.5 no package &quot;org.lwjgl.input.Keyboard&quot;\r\nI need to change this code for version 1.16.5.","title":"Problem with minecraft code 1.16.5 and org.lwjgl.input.Keyboard","body":"<p>I have a code of my minecraft mod.</p>\n<pre><code>package com.StilShem.BetterPH.keys;\n\nimport com.StilShem.BetterPH.Client;\nimport net.minecraftforge.client.event.InputEvent;\nimport net.minecraftforge.eventbus.api.SubscribeEvent;\nimport org.lwjgl.input.Keyboard;\n\npublic class key {\n    @SubscribeEvent\n    public void onKeyInput(InputEvent.KeyInputEvent e) {\n        if (Keyboard.isKeyDown(Keyboard.getEventKey())) {\n            if (Keyboard.getEventKey() != Keyboard.KEY_NONE) {\n                Client.keyPress(Keyboard.getEventKey());\n            }\n        }\n    }\n}\n</code></pre>\n<p>This is code for Minecraft version 1.12.2\nOn version 1.16.5 no package &quot;org.lwjgl.input.Keyboard&quot;\nI need to change this code for version 1.16.5.</p>\n"},{"tags":["java","android","kotlin","colors","gradient"],"comments":[{"owner":{"account_id":9365051,"reputation":13243,"user_id":6950238,"accept_rate":75,"display_name":"Andrii Omelchenko"},"score":1,"creation_date":1550558915,"post_id":54760195,"comment_id":96301339,"body_markdown":"Take a look at [this](https://stackoverflow.com/q/22218140/6950238) question and answer.","body":"Take a look at <a href=\"https://stackoverflow.com/q/22218140/6950238\">this</a> question and answer."},{"owner":{"account_id":10692508,"reputation":5229,"user_id":7870874,"accept_rate":70,"display_name":"Sira Lam"},"score":0,"creation_date":1550559362,"post_id":54760195,"comment_id":96301522,"body_markdown":"@AndriiOmelchenko Oh right that&#39;s exactly my question and it applies in all programming language. Thanks!","body":"@AndriiOmelchenko Oh right that&#39;s exactly my question and it applies in all programming language. Thanks!"},{"owner":{"account_id":9365051,"reputation":13243,"user_id":6950238,"accept_rate":75,"display_name":"Andrii Omelchenko"},"score":0,"creation_date":1550559412,"post_id":54760195,"comment_id":96301545,"body_markdown":"You&#39;re welcome!","body":"You&#39;re welcome!"}],"answers":[{"tags":[],"owner":{"account_id":12113377,"reputation":31,"user_id":8885577,"display_name":"indrih17"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649115231,"creation_date":1649115231,"answer_id":71744819,"question_id":54760195,"body_markdown":"You simply linearly interpolate the red, the green, and the blue colors like this:\r\n\r\n    fun pointBetweenColors(from: Float, to: Float, percent: Float): Float =\r\n        from + percent * (to - from)\r\n\r\n    fun pointBetweenColors(from: Color, to: Color, percent: Float) = \r\n        Color(\r\n            red = pointBetweenColors(from.red, to.red, percent),\r\n            green = pointBetweenColors(from.green, to.green, percent),\r\n            blue = pointBetweenColors(from.blue, to.blue, percent),\r\n            alpha = pointBetweenColors(from.alpha, to.alpha, percent),\r\n        )\r\n\r\nwhere `percent` is a value between 0 and 1\r\n","title":"How to get a color in a certain point of a linear gradient, in Java / Kotlin / Android?","body":"<p>You simply linearly interpolate the red, the green, and the blue colors like this:</p>\n<pre><code>fun pointBetweenColors(from: Float, to: Float, percent: Float): Float =\n    from + percent * (to - from)\n\nfun pointBetweenColors(from: Color, to: Color, percent: Float) = \n    Color(\n        red = pointBetweenColors(from.red, to.red, percent),\n        green = pointBetweenColors(from.green, to.green, percent),\n        blue = pointBetweenColors(from.blue, to.blue, percent),\n        alpha = pointBetweenColors(from.alpha, to.alpha, percent),\n    )\n</code></pre>\n<p>where <code>percent</code> is a value between 0 and 1</p>\n"}],"owner":{"account_id":10692508,"reputation":5229,"user_id":7870874,"accept_rate":70,"display_name":"Sira Lam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649115231,"creation_date":1550558449,"question_id":54760195,"body_markdown":"Before asking my question, let me clarify 2 things first:\r\n\r\n  1. I am developing an Android app\r\n  2. I do not need nor want to draw the gradient. I just want to know the color.\r\n\r\n### Question\r\n\r\nI have 2 colors, let&#39;s name them `startColor` and `endColor`.\r\n\r\nNow please imagine a linear gradient line from `startColor` to `endColor`.\r\n\r\nLet&#39;s say I have a float `0.3f`.\r\n\r\nI want to know at the 30% position, from start to end, the color at the gradient.\r\n\r\nHow can I do this?\r\n\r\n### Things I have tried\r\n\r\n- Java awt library&#39;s `GradientPaint` - It is not available in Android context;\r\n- android.graphics.LinearGradient - The best I can do is to get a `Matrix` from this gradient, but then I don&#39;t know what to do next.","title":"How to get a color in a certain point of a linear gradient, in Java / Kotlin / Android?","body":"<p>Before asking my question, let me clarify 2 things first:</p>\n\n<ol>\n<li>I am developing an Android app</li>\n<li>I do not need nor want to draw the gradient. I just want to know the color.</li>\n</ol>\n\n<h3>Question</h3>\n\n<p>I have 2 colors, let's name them <code>startColor</code> and <code>endColor</code>.</p>\n\n<p>Now please imagine a linear gradient line from <code>startColor</code> to <code>endColor</code>.</p>\n\n<p>Let's say I have a float <code>0.3f</code>.</p>\n\n<p>I want to know at the 30% position, from start to end, the color at the gradient.</p>\n\n<p>How can I do this?</p>\n\n<h3>Things I have tried</h3>\n\n<ul>\n<li>Java awt library's <code>GradientPaint</code> - It is not available in Android context;</li>\n<li>android.graphics.LinearGradient - The best I can do is to get a <code>Matrix</code> from this gradient, but then I don't know what to do next.</li>\n</ul>\n"},{"tags":["java","garbage-collection","g1gc","java-17","zgc"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1649114707,"post_id":71744753,"comment_id":126789565,"body_markdown":"It looks like the machine you&#39;re running this on doesn&#39;t have enough RAM to allocate what you&#39;ve asked for.  You&#39;ll have to either get more RAM, or choose values that line up better with the amount of RAM you have available.","body":"It looks like the machine you&#39;re running this on doesn&#39;t have enough RAM to allocate what you&#39;ve asked for.  You&#39;ll have to either get more RAM, or choose values that line up better with the amount of RAM you have available."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1649146648,"post_id":71744753,"comment_id":126795617,"body_markdown":"By year 2022’s standards, a max heap of 4GB is not “pretty memory intensive” and not necessarily a reason to switch from G1GC to ZGC. I wouldn’t use a GC without string deduplication anyway, which ZGC learned only in JDK&#160;18, which happens to be the version where the bug you’ve linked has been fixed too.","body":"By year 2022’s standards, a max heap of 4GB is not “pretty memory intensive” and not necessarily a reason to switch from G1GC to ZGC. I wouldn’t use a GC without string deduplication anyway, which ZGC learned only in JDK 18, which happens to be the version where the bug you’ve linked has been fixed too."},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1649184862,"post_id":71744753,"comment_id":126810568,"body_markdown":"These are both good tips, there any good documentation points for these recommend practices I can spread around my company?","body":"These are both good tips, there any good documentation points for these recommend practices I can spread around my company?"},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1649185161,"post_id":71744753,"comment_id":126810678,"body_markdown":"@DawoodibnKareem I guessed that too, but I&#39;m not sure what I&#39;d reduce the -Xms/Xmx values to give ZGC enough overhead to even start the GC.","body":"@DawoodibnKareem I guessed that too, but I&#39;m not sure what I&#39;d reduce the -Xms/Xmx values to give ZGC enough overhead to even start the GC."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1649185622,"post_id":71744753,"comment_id":126810815,"body_markdown":"I&#39;d say you want to reduce both `-Xmx` and `-Xms`.  But getting some more RAM is better, unless you&#39;ve got a really good reason not to.  RAM is cheap.","body":"I&#39;d say you want to reduce both <code>-Xmx</code> and <code>-Xms</code>.  But getting some more RAM is better, unless you&#39;ve got a really good reason not to.  RAM is cheap."},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1649186404,"post_id":71744753,"comment_id":126811051,"body_markdown":"I&#39;ll ask around my infra team. Thanks for the tips!","body":"I&#39;ll ask around my infra team. Thanks for the tips!"},{"owner":{"account_id":2708748,"reputation":188,"user_id":2337743,"display_name":"Mario.Cadiz"},"score":0,"creation_date":1662661106,"post_id":71744753,"comment_id":130063554,"body_markdown":"Please confirm if some of the tips worked for you. Note that Bug JDK-8276796 is indicating this issue was fixed in JDK 18. Did you have a chance to test it in that version?","body":"Please confirm if some of the tips worked for you. Note that Bug JDK-8276796 is indicating this issue was fixed in JDK 18. Did you have a chance to test it in that version?"},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1664410342,"post_id":71744753,"comment_id":130467643,"body_markdown":"@Mario.Cadiz Unfortunately my company&#39;s stuck at 17 for the moment because we&#39;re on an LTS release train, so I can&#39;t confirm any fixes to 18, but I was able to get ZGC to run after allocating a lot more ram. After reading docs I believe there was a minimum set -Xmx overhead of like a few gigs. Since I don&#39;t have string dedup, and have no gain for services so small, I reverted my work for now haven&#39;t really tested passed some theory gained from here: https://wiki.openjdk.org/display/zgc/Main","body":"@Mario.Cadiz Unfortunately my company&#39;s stuck at 17 for the moment because we&#39;re on an LTS release train, so I can&#39;t confirm any fixes to 18, but I was able to get ZGC to run after allocating a lot more ram. After reading docs I believe there was a minimum set -Xmx overhead of like a few gigs. Since I don&#39;t have string dedup, and have no gain for services so small, I reverted my work for now haven&#39;t really tested passed some theory gained from here: <a href=\"https://wiki.openjdk.org/display/zgc/Main\" rel=\"nofollow noreferrer\">wiki.openjdk.org/display/zgc/Main</a>"}],"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649114516,"creation_date":1649114516,"question_id":71744753,"body_markdown":"I have an application in Java 17 configured like so:\r\n\r\n`-Xms4096m -Xmx4096m -XX:+UseG1GC -XX:MaxMetaspaceSize=1024m`\r\n\r\nIt&#39;s a rather large web service that is pretty memory intensive over the years that&#39;s grown from a baseline other services use:\r\n\r\n`-Xms1024m -Xmx1024m -XX:+UseG1GC -XX:MaxMetaspaceSize=128m`\r\n\r\nI&#39;ve started to trial ZGC in our company on our web services to try and get a little bit more performance out of our services so I switched some of our baseline services which seemed to perform fine:\r\n\r\n`-Xms1024m -Xmx1024m -XX:+UseZGC -XX:MaxMetaspaceSize=128m`\r\n\r\nbut when I went to try our single large service on ZGC I run into an error:\r\n\r\n`-Xms4096m -Xmx4096m -XX:+UseZGC -XX:MaxMetaspaceSize=1024m`\r\n\r\nResults in:\r\n\r\n```\r\nApr 4, 2022 @ 15:06:22.103\tError: Could not create the Java Virtual Machine.\r\nApr 4, 2022 @ 15:06:22.026\t[0.983s][error][gc] Failed to allocate initial Java heap (4096M)\r\nApr 4, 2022 @ 15:06:21.952\t[0.966s][error][gc] Failed to commit memory (Not enough space)\r\nApr 4, 2022 @ 15:06:21.881\t[0.983s][error][gc] Forced to lower max Java heap size from 4096M(100%) to 3366M(82%)\r\nApr 4, 2022 @ 15:06:21.826\t[0.982s][error][gc] Failed to commit memory (Not enough space)\r\nApr 4, 2022 @ 15:06:21.826\tError: A fatal exception has occurred. Program will exit.\r\nApr 4, 2022 @ 15:06:21.783\t[0.934s][error][gc] Failed to commit memory (Not enough space)\r\nApr 4, 2022 @ 15:06:21.226\t[0.979s][error][gc] Failed to commit memory (Not enough space)\r\nApr 4, 2022 @ 15:06:20.224\t[0.591s][error][gc] Failed to commit memory (Not enough space)\r\n```\r\n\r\nI noticed that there was a similar JDK issue logged on one of their tests [here](https://bugs.openjdk.java.net/browse/JDK-8276796) and although I&#39;m not using the `-XX:+UseLargePages` I believe the implication is that I&#39;m not leaving enough space in the heap to let ZGC start up compared to G1GC. I&#39;d definitely like to use ZGC in the bigger service as I feel like there&#39;s the most gain there; but ZGC is new enough that I haven&#39;t found a lot of information on it during my search. What are the appropriate values/ratios in the flags for utilizing ZGC? Are there official recommendations on when to use ZGC over Shenandoah or G1GC?","title":"ZGC out of memory error when moving from G1GC","body":"<p>I have an application in Java 17 configured like so:</p>\n<p><code>-Xms4096m -Xmx4096m -XX:+UseG1GC -XX:MaxMetaspaceSize=1024m</code></p>\n<p>It's a rather large web service that is pretty memory intensive over the years that's grown from a baseline other services use:</p>\n<p><code>-Xms1024m -Xmx1024m -XX:+UseG1GC -XX:MaxMetaspaceSize=128m</code></p>\n<p>I've started to trial ZGC in our company on our web services to try and get a little bit more performance out of our services so I switched some of our baseline services which seemed to perform fine:</p>\n<p><code>-Xms1024m -Xmx1024m -XX:+UseZGC -XX:MaxMetaspaceSize=128m</code></p>\n<p>but when I went to try our single large service on ZGC I run into an error:</p>\n<p><code>-Xms4096m -Xmx4096m -XX:+UseZGC -XX:MaxMetaspaceSize=1024m</code></p>\n<p>Results in:</p>\n<pre><code>Apr 4, 2022 @ 15:06:22.103  Error: Could not create the Java Virtual Machine.\nApr 4, 2022 @ 15:06:22.026  [0.983s][error][gc] Failed to allocate initial Java heap (4096M)\nApr 4, 2022 @ 15:06:21.952  [0.966s][error][gc] Failed to commit memory (Not enough space)\nApr 4, 2022 @ 15:06:21.881  [0.983s][error][gc] Forced to lower max Java heap size from 4096M(100%) to 3366M(82%)\nApr 4, 2022 @ 15:06:21.826  [0.982s][error][gc] Failed to commit memory (Not enough space)\nApr 4, 2022 @ 15:06:21.826  Error: A fatal exception has occurred. Program will exit.\nApr 4, 2022 @ 15:06:21.783  [0.934s][error][gc] Failed to commit memory (Not enough space)\nApr 4, 2022 @ 15:06:21.226  [0.979s][error][gc] Failed to commit memory (Not enough space)\nApr 4, 2022 @ 15:06:20.224  [0.591s][error][gc] Failed to commit memory (Not enough space)\n</code></pre>\n<p>I noticed that there was a similar JDK issue logged on one of their tests <a href=\"https://bugs.openjdk.java.net/browse/JDK-8276796\" rel=\"nofollow noreferrer\">here</a> and although I'm not using the <code>-XX:+UseLargePages</code> I believe the implication is that I'm not leaving enough space in the heap to let ZGC start up compared to G1GC. I'd definitely like to use ZGC in the bigger service as I feel like there's the most gain there; but ZGC is new enough that I haven't found a lot of information on it during my search. What are the appropriate values/ratios in the flags for utilizing ZGC? Are there official recommendations on when to use ZGC over Shenandoah or G1GC?</p>\n"},{"tags":["java","bufferedreader","serversocket"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1649110108,"post_id":71741688,"comment_id":126788735,"body_markdown":"It looks like both lines end with `\\n`.  Try calling `out.flush();` after the println statements.  Sockets have their own memory buffers, so data you send may not actually get sent over the network immediately.  flush() will (usually) force everything that’s been sent to go to its destination.","body":"It looks like both lines end with <code>\\n</code>.  Try calling <code>out.flush();</code> after the println statements.  Sockets have their own memory buffers, so data you send may not actually get sent over the network immediately.  flush() will (usually) force everything that’s been sent to go to its destination."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1649114318,"post_id":71741688,"comment_id":126789509,"body_markdown":"@VGR: the `(InputStream, boolean=true)` constructor sets autoflush and println automatically flushes, so you don&#39;t need to. See the javadoc.","body":"@VGR: the <code>(InputStream, boolean=true)</code> constructor sets autoflush and println automatically flushes, so you don&#39;t need to. See the javadoc."}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649114269,"creation_date":1649114269,"answer_id":71744730,"question_id":71741688,"body_markdown":"The [`PrintWriter.println(various)` overloads](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/PrintWriter.html#println()) _add_ a line terminator, which varies depending on your platform which you didn&#39;t identify. However `BufferedReader` recognizes _any_ line terminator, including the one created by `\\n` in a string or character literal AND the one added by `println`.\r\n\r\nThus assuming for simplicity you are on some kind of Unix, your code\r\n\r\n    out.println(&quot;thing\\n&quot;);\r\n    out.println(&quot;other\\n&quot;);\r\n\r\nactually outputs _four_ lines\r\n\r\n    t h i n g NL   &lt;-- NL in string literal, ends first line\r\n    NL   &lt;-- NL added by println, ends second line\r\n    o t h e r NL   &lt;-- as above, ends third line\r\n    NL   &lt;-- as above, ends fourth line\r\n\r\nand your client code only reads the first two.\r\n\r\nTo terminate a line use EITHER `&quot;...\\n&quot;` OR `println()` but NOT BOTH.\r\n","title":"BufferedReader, Socket: How to get BufferedReader to print a multi-line string?","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/PrintWriter.html#println()\" rel=\"nofollow noreferrer\"><code>PrintWriter.println(various)</code> overloads</a> <em>add</em> a line terminator, which varies depending on your platform which you didn't identify. However <code>BufferedReader</code> recognizes <em>any</em> line terminator, including the one created by <code>\\n</code> in a string or character literal AND the one added by <code>println</code>.</p>\n<p>Thus assuming for simplicity you are on some kind of Unix, your code</p>\n<pre><code>out.println(&quot;thing\\n&quot;);\nout.println(&quot;other\\n&quot;);\n</code></pre>\n<p>actually outputs <em>four</em> lines</p>\n<pre><code>t h i n g NL   &lt;-- NL in string literal, ends first line\nNL   &lt;-- NL added by println, ends second line\no t h e r NL   &lt;-- as above, ends third line\nNL   &lt;-- as above, ends fourth line\n</code></pre>\n<p>and your client code only reads the first two.</p>\n<p>To terminate a line use EITHER <code>&quot;...\\n&quot;</code> OR <code>println()</code> but NOT BOTH.</p>\n"}],"owner":{"account_id":24825196,"reputation":1,"user_id":18705090,"display_name":"GMay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649114269,"creation_date":1649094808,"question_id":71741688,"body_markdown":"If I make any formatting errors with this question I apologize, this is my first question to stack overflow.\r\n\r\nI saw a couple posts similar to what I am looking for but I cannot figure out how to apply it to what I am trying to do.\r\n\r\nIn short, I am new to socket programming and I want my server to send a string that has multiple lines, the below code isn&#39;t what my program is but it gets the point across.\r\n\r\nClient.java\r\n\r\n```\r\nBufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));//server input\r\n\r\nSystem.out.println(in.readLine());\r\nSystem.out.println(in.readLine());\r\n```\r\n\r\nServer.java\r\n\r\n```\r\nPrintWriter out = new PrintWriter(client.getOutputStream(), true);//output to client\r\n\r\nout.println(&quot;Hello World! \\n&quot;);\r\nout.println(&quot;This is a printing test! + \\n);\r\n```\r\n\r\nAgain, this is a very shortened version of what I&#39;m trying to do, basically, the client will only print &quot;Hello World!&quot; because the &quot;\\\\n&quot; is considered the next line by the buffered reader. So the second line won&#39;t come through.\r\n\r\nObviously I want the client to print &quot;Hello World!&quot; and &quot;This is a printing test!&quot;.\r\n\r\nI was hoping there was a read() method that was meant for Strings, but I could only see a read() method for int. If I was able to get my point across, could anyone help?","title":"BufferedReader, Socket: How to get BufferedReader to print a multi-line string?","body":"<p>If I make any formatting errors with this question I apologize, this is my first question to stack overflow.</p>\n<p>I saw a couple posts similar to what I am looking for but I cannot figure out how to apply it to what I am trying to do.</p>\n<p>In short, I am new to socket programming and I want my server to send a string that has multiple lines, the below code isn't what my program is but it gets the point across.</p>\n<p>Client.java</p>\n<pre><code>BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));//server input\n\nSystem.out.println(in.readLine());\nSystem.out.println(in.readLine());\n</code></pre>\n<p>Server.java</p>\n<pre><code>PrintWriter out = new PrintWriter(client.getOutputStream(), true);//output to client\n\nout.println(&quot;Hello World! \\n&quot;);\nout.println(&quot;This is a printing test! + \\n);\n</code></pre>\n<p>Again, this is a very shortened version of what I'm trying to do, basically, the client will only print &quot;Hello World!&quot; because the &quot;\\n&quot; is considered the next line by the buffered reader. So the second line won't come through.</p>\n<p>Obviously I want the client to print &quot;Hello World!&quot; and &quot;This is a printing test!&quot;.</p>\n<p>I was hoping there was a read() method that was meant for Strings, but I could only see a read() method for int. If I was able to get my point across, could anyone help?</p>\n"},{"tags":["java","fonts","formatting","itext","pdf-to-html"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1649787607,"post_id":71744500,"comment_id":126963149,"body_markdown":"pdfHTML 1.x.y is different from pdfHTML 2.v.w and therefore they may product different conversion results which is pretty natural (otherwise why would a new version be released anyway). So either the difference in the behavior is a regression, or an improvement. To better understand which type this change is of, please minimize your HTML sample file and post it to your question, together with your minimal reproducible code (the current code is only a short snipped that is not reproducible), and explain the expected result.","body":"pdfHTML 1.x.y is different from pdfHTML 2.v.w and therefore they may product different conversion results which is pretty natural (otherwise why would a new version be released anyway). So either the difference in the behavior is a regression, or an improvement. To better understand which type this change is of, please minimize your HTML sample file and post it to your question, together with your minimal reproducible code (the current code is only a short snipped that is not reproducible), and explain the expected result."}],"owner":{"account_id":18656229,"reputation":23,"user_id":13598584,"display_name":"James Gillies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649112857,"creation_date":1649111867,"question_id":71744500,"body_markdown":"I need to keep all fonts the same when upgrading from pdfHTML 1.01 (default Helvetica in paragraph etc) to pdfHTML 2. How can this be accomplished the easiest way, using fontProvider?\r\n\r\nI need all formatting to be the same in newest pdftohtml (iText 7) as it was in the old (iText 5). I am only familiar with default font changes\r\n\r\n            FontProvider fp = new FontProvider();\r\n            fp.addStandardPdfFonts();\r\n            fp.addDirectory(resources);\r\n            props.setFontProvider(fp);\r\nThis results in Helvetica Bold being used in some places in iText5, while in iText 7 it is not\r\n[iText7 fonts used][1]\r\n[iText5 fonts used][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v9EJR.png\r\n  [2]: https://i.stack.imgur.com/9dmZ7.png","title":"Upgrade from iText 5 to iText 7 pdftohtml, keep all fonts same","body":"<p>I need to keep all fonts the same when upgrading from pdfHTML 1.01 (default Helvetica in paragraph etc) to pdfHTML 2. How can this be accomplished the easiest way, using fontProvider?</p>\n<p>I need all formatting to be the same in newest pdftohtml (iText 7) as it was in the old (iText 5). I am only familiar with default font changes</p>\n<pre><code>        FontProvider fp = new FontProvider();\n        fp.addStandardPdfFonts();\n        fp.addDirectory(resources);\n        props.setFontProvider(fp);\n</code></pre>\n<p>This results in Helvetica Bold being used in some places in iText5, while in iText 7 it is not\n<a href=\"https://i.stack.imgur.com/v9EJR.png\" rel=\"nofollow noreferrer\">iText7 fonts used</a>\n<a href=\"https://i.stack.imgur.com/9dmZ7.png\" rel=\"nofollow noreferrer\">iText5 fonts used</a></p>\n"},{"tags":["java","java-9","finalizer","finalize","finalization"],"comments":[{"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":4,"creation_date":1557875750,"post_id":56139760,"comment_id":98910173,"body_markdown":"See also the discussions linked from the OpenJDK bug: https://bugs.openjdk.java.net/browse/JDK-8165641","body":"See also the discussions linked from the OpenJDK bug: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8165641\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8165641</a>"},{"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":3,"creation_date":1557875957,"post_id":56139760,"comment_id":98910215,"body_markdown":"Short answer, though: Yes. It is useless far more often than people think, dangerous to use even for experts who understand it very well (for example, unless you know what a reachability fence is and how to use one, I guarantee that your finalizers that manage native resources are all buggy), and it&#39;s an attractive nuisance for people who are looking for C++-style destructors. I say: farewell to finalizers, and good riddance.","body":"Short answer, though: Yes. It is useless far more often than people think, dangerous to use even for experts who understand it very well (for example, unless you know what a reachability fence is and how to use one, I guarantee that your finalizers that manage native resources are all buggy), and it&#39;s an attractive nuisance for people who are looking for C++-style destructors. I say: farewell to finalizers, and good riddance."},{"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":2,"creation_date":1557877494,"post_id":56139760,"comment_id":98910552,"body_markdown":"Your *question* may be different, but the *answer* is the same. (That&#39;s why the message is phrased as &quot;This question already has an answer here.&quot;) If there is no valid use case, then deprecation is natural.","body":"Your <i>question</i> may be different, but the <i>answer</i> is the same. (That&#39;s why the message is phrased as &quot;This question already has an answer here.&quot;) If there is no valid use case, then deprecation is natural."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1557878332,"post_id":56139760,"comment_id":98910704,"body_markdown":"Here is a thread about what you should replace it with: https://stackoverflow.com/questions/47762986/replacing-finalize-in-java","body":"Here is a thread about what you should replace it with: <a href=\"https://stackoverflow.com/questions/47762986/replacing-finalize-in-java\" title=\"replacing finalize in java\">stackoverflow.com/questions/47762986/replacing-finalize-in-j&zwnj;&#8203;ava</a>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1557891531,"post_id":56139760,"comment_id":98912911,"body_markdown":"While @DanielPryden has already explained why it doesn&#39;t really matter that your question is different from the duplicate, I&#39;d also add that your question is probably off topic for Stack Overflow since it is not really about a programming issue, and any answers would be _&quot;primarily opinion-based&quot;_. (I suppose you could have been incredibly lucky and received an answer from the person who was responsible for deciding to deprecate `finalize()` in JDK 10 but it&#39;s pretty unlikely, and any answer from anyone else would have been mere speculation.)","body":"While @DanielPryden has already explained why it doesn&#39;t really matter that your question is different from the duplicate, I&#39;d also add that your question is probably off topic for Stack Overflow since it is not really about a programming issue, and any answers would be <i>&quot;primarily opinion-based&quot;</i>. (I suppose you could have been incredibly lucky and received an answer from the person who was responsible for deciding to deprecate <code>finalize()</code> in JDK 10 but it&#39;s pretty unlikely, and any answer from anyone else would have been mere speculation.)"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":4,"creation_date":1559664558,"post_id":56139760,"comment_id":99488673,"body_markdown":"@skomisa Too bad this question was closed. There is a set of questions about the *rationale* for decisions that certainly can be answered. Either people involved in the decision might show up and answer it -- which has certainly happened before, particularly in regard to recent decisions -- or the answer might be written down somewhere, either in a mailing list post or a comment in a bug report. Rationale may be subjective, but it can be definitive and not purely opinion-based.","body":"@skomisa Too bad this question was closed. There is a set of questions about the <i>rationale</i> for decisions that certainly can be answered. Either people involved in the decision might show up and answer it -- which has certainly happened before, particularly in regard to recent decisions -- or the answer might be written down somewhere, either in a mailing list post or a comment in a bug report. Rationale may be subjective, but it can be definitive and not purely opinion-based."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":6,"creation_date":1559664646,"post_id":56139760,"comment_id":99488714,"body_markdown":"@DanielPryden You don&#39;t know that the answer is the same, unless you were involved in the decision. I was; I don&#39;t think you were.","body":"@DanielPryden You don&#39;t know that the answer is the same, unless you were involved in the decision. I was; I don&#39;t think you were."},{"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1559667771,"post_id":56139760,"comment_id":99490192,"body_markdown":"@StuartMarks: You are of course correct. The only knowledge I have of the rationale is what is publicly available in the mailing list archives. If you feel that the question can be meaningfully answered without just devolving into a re-hash of why finalizers are problematic, I have no objection. I will refrain from any further actions on this question; please vote to re-open if you wish. I will admit that part of my eagerness to dupe-close the question is the somewhat rant-y nature of the phrasing (&quot;So is finalize() method really so dangerous or absolutely useless to kick it out from Java?&quot;).","body":"@StuartMarks: You are of course correct. The only knowledge I have of the rationale is what is publicly available in the mailing list archives. If you feel that the question can be meaningfully answered without just devolving into a re-hash of why finalizers are problematic, I have no objection. I will refrain from any further actions on this question; please vote to re-open if you wish. I will admit that part of my eagerness to dupe-close the question is the somewhat rant-y nature of the phrasing (&quot;So is finalize() method really so dangerous or absolutely useless to kick it out from Java?&quot;)."},{"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1559667839,"post_id":56139760,"comment_id":99490218,"body_markdown":"@StuartMarks: For what it&#39;s worth, since you hold a gold badge in the `java` tag, you can single-handedly reopen the question if you believe it should be open.","body":"@StuartMarks: For what it&#39;s worth, since you hold a gold badge in the <code>java</code> tag, you can single-handedly reopen the question if you believe it should be open."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":1,"creation_date":1559703921,"post_id":56139760,"comment_id":99500220,"body_markdown":"@DanielPryden Thanks for your responses. The un-dupe-hammer works! I didn&#39;t know that. I knew about the dupe-hammer but I seem to recall having to vote and wait for other votes to reopen closed questions in the past. In any case I&#39;ll provide an answer at some point.","body":"@DanielPryden Thanks for your responses. The un-dupe-hammer works! I didn&#39;t know that. I knew about the dupe-hammer but I seem to recall having to vote and wait for other votes to reopen closed questions in the past. In any case I&#39;ll provide an answer at some point."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1559704531,"post_id":56139760,"comment_id":99500313,"body_markdown":"@StuartMarks Well I certainly take your (implied) point that since you were involved in the decision to deprecate `Object.finalize()`, it may make sense to reopen this, as suggested in another comment. I guess `Object.finalize()` may have been deprecated specifically in Java 9 (as opposed to any earlier/later release) because of the the addition of the `Cleaner` class in Java 9, and [JDK-8165641\nDeprecate Object.finalize](https://bugs.openjdk.java.net/browse/JDK-8165641) somewhat supports that view, but that&#39;s just pure speculation on my part. Anyway, voting to reopen based on your comments.","body":"@StuartMarks Well I certainly take your (implied) point that since you were involved in the decision to deprecate <code>Object.finalize()</code>, it may make sense to reopen this, as suggested in another comment. I guess <code>Object.finalize()</code> may have been deprecated specifically in Java 9 (as opposed to any earlier/later release) because of the the addition of the <code>Cleaner</code> class in Java 9, and <a href=\"https://bugs.openjdk.java.net/browse/JDK-8165641\" rel=\"nofollow noreferrer\">JDK-8165641 Deprecate Object.finalize</a> somewhat supports that view, but that&#39;s just pure speculation on my part. Anyway, voting to reopen based on your comments."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1559704619,"post_id":56139760,"comment_id":99500330,"body_markdown":"@StuartMarks Heh - I see the question was reopened while I was writing my comment.","body":"@StuartMarks Heh - I see the question was reopened while I was writing my comment."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":1,"creation_date":1559705224,"post_id":56139760,"comment_id":99500417,"body_markdown":"@skomisa Yep, Daniel Pryden pointed out to me that I could do it myself, so I did! In any case, thanks for your response. I think there is more to be said that&#39;s not in the other answer. Sorry I was a bit snippy about this -- I do think that questions about rationale are different from pure &quot;opinion-based&quot; questions that are things like &quot;Is X better than Y?&quot; and that it&#39;s possible to have useful (though subjective) answers about rationale.","body":"@skomisa Yep, Daniel Pryden pointed out to me that I could do it myself, so I did! In any case, thanks for your response. I think there is more to be said that&#39;s not in the other answer. Sorry I was a bit snippy about this -- I do think that questions about rationale are different from pure &quot;opinion-based&quot; questions that are things like &quot;Is X better than Y?&quot; and that it&#39;s possible to have useful (though subjective) answers about rationale."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1559706022,"post_id":56139760,"comment_id":99500557,"body_markdown":"@StuartMarks [1] I agree with all that, and with hindsight I was obviously hasty in suggesting that it was unlikely for anyone involved in the decision to deprecate `finalize()` to respond here - my bad. [2] Though not a duplicate, [Should Java 9 Cleaner be preferred to finalization?](https://stackoverflow.com/q/52879761/2985643) seems relevant.","body":"@StuartMarks [1] I agree with all that, and with hindsight I was obviously hasty in suggesting that it was unlikely for anyone involved in the decision to deprecate <code>finalize()</code> to respond here - my bad. [2] Though not a duplicate, <a href=\"https://stackoverflow.com/q/52879761/2985643\">Should Java 9 Cleaner be preferred to finalization?</a> seems relevant."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":1,"creation_date":1559706509,"post_id":56139760,"comment_id":99500641,"body_markdown":"@skomisa (Ah, it&#39;s closed-opinion-based where I&#39;ve had to wait for reopen votes, whereas this one was reopened immediately because it was closed as a duplicate. I had mixed those up.) In any case maybe I reopened too quickly, because this question now seems to be attracting poor answers!","body":"@skomisa (Ah, it&#39;s closed-opinion-based where I&#39;ve had to wait for reopen votes, whereas this one was reopened immediately because it was closed as a duplicate. I had mixed those up.) In any case maybe I reopened too quickly, because this question now seems to be attracting poor answers!"}],"answers":[{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":1,"up_vote_count":46,"is_accepted":true,"score":45,"last_activity_date":1649112523,"creation_date":1559709667,"answer_id":56454348,"question_id":56139760,"body_markdown":"Although the question was asking about the `Object.finalize` method, the subject really is about the *finalization* mechanism as a whole. This mechanism includes not only the surface API `Object.finalize`, but it also includes specifications of the programming language about the life cycle of objects, and practical impact on garbage collector implementations in JVMs.\r\n\r\nMuch has been written about why finalization is difficult to use from the application&#39;s point of view. See the questions [Why would you ever implement finalize()?][1] and [Should Java 9 Cleaner be preferred to finalization?][2] and their answers. See also *Effective Java, 3rd edition* by Joshua Bloch, Item 8.\r\n\r\nBriefly, some points about the problems associated with using finalizers are:\r\n\r\n - they are notoriously difficult to program correctly\r\n\r\n - in particular, they can be run unexpectedly when an object\r\n   becomes unreachable unexpectedly (but correctly); for example,\r\n   see [my answer to this question][3]\r\n\r\n - finalization can easily break subclass/superclass relationships\r\n\r\n - there is no ordering among finalizers\r\n\r\n - a given object&#39;s `finalize` method is invoked at most once by the JVM, even if that object is &quot;resurrected&quot;\r\n\r\n - there are no guarantees about timeliness of finalization or\r\n   even that it will run at all\r\n\r\n - there is no explicit registration or deregistration mechanism\r\n\r\nThe above are difficulties with the use of finalization. Anyone who is considering using finalization should reconsider, given the above list of issues. But are these issues sufficient to deprecate finalization in the Java platform? There are several additional reasons explained in the sections below.\r\n\r\n**Finalization Potentially Makes Systems Fragile**\r\n\r\nEven if you write an object that uses finalization correctly, it can cause problems when your object is integrated into a larger system. Even if you don&#39;t use finalization at all, being integrated into a larger system, some parts of which use finalization, can result in problems. The general issue is that worker threads that create garbage need to be in balance with the garbage collector. If the garbage collector falls behind, at least some collectors can &quot;stop the world&quot; and do a full collection to catch up. Finalization complicates this interaction. Even if the garbage collector is keeping up with application threads, finalization can introduce bottlenecks and slow down the system, or it can cause delays in freeing resources that result in exhaustion of those resources. This is a *systems* problem. Even if the actual code that uses finalization is correct, problems can still occur in correctly programmed systems.\r\n\r\n(Edit 2021-09-16: [this question][4] describes a problem where a system works fine under low load but fails under high load, likely because the relative rate of allocation outstrips the rate of finalization under high load.)\r\n\r\n**Finalization Contributes to Security Issues**\r\n\r\nThe *SEI CERT Oracle Coding Standard for Java* has a rule [MET12-J: Do not use finalizers][5]. (Note, this is a site about secure coding.) In particular, it says\r\n\r\n&gt; Improper use of finalizers can result in resurrection of garbage-collection-ready objects and result in denial-of-service vulnerabilities.\r\n\r\nOracle&#39;s [*Secure Coding Guidelines for Java SE*][6] is more explicit about potential security issues that can arise using finalization. In this case it is not a problem with code that uses finalization. Instead, finalization can be used *by an attacker* to attack sensitive code that hasn&#39;t properly defended itself. In particular, *Guideline 7-3 / OBJECT-3* states in part,\r\n\r\n&gt; Partially initialized instances of a non-final class can be accessed via a finalizer attack. The attacker overrides the protected `finalize` method in a subclass and attempts to create a new instance of that subclass. This attempt fails ... but the attacker simply ignores any exception and waits for the virtual machine to perform finalization on the partially initialized object. When that occurs the malicious `finalize` method implementation is invoked, giving the attacker access to `this`, a reference to the object being finalized. Although the object is only partially initialized, the attacker can still invoke methods on it....\r\n\r\nThus, the presence of the finalization mechanism in the platform imposes a burden on programmers who are trying to write high assurance code.\r\n\r\n**Finalization Adds Complexity to Specifications**\r\n\r\nThe Java Platform is defined by several specifications, including specifications for the language, the virtual machine, and the class library APIs. Impact of finalization is spread thinly across all of these, but it repeatedly makes its presence felt. For example, finalization has a very subtle interaction with object creation (which is already complicated enough). Finalization also has appeared Java&#39;s public APIs, meaning that evolution of those APIs has (up to now) been required to remain compatible with previously specified behaviors. Evolving these specifications is made more costly the presence of finalization.\r\n\r\n**Finalization Adds Complexity to Implementations**\r\n\r\nThis is mainly about garbage collectors. There are several garbage collection implementations, and all are required to pay the cost of implementing finalization. The implementations are quite good at minimizing the runtime overhead if finalization isn&#39;t used. However, the implementation still needs to be there, and it needs to be correct and well tested. This is an ongoing development and maintenance burden.\r\n\r\n**Summary**\r\n\r\nWe&#39;ve seen elsewhere that it&#39;s not recommended for programmers to use finalization. However, if something is not useful, it doesn&#39;t necessarily follow that it should be deprecated. The points above illustrate the fact that even if finalization isn&#39;t used, the mere presence of the mechanism in the platform imposes ongoing specification, development, and maintenance costs. Given the lack of usefulness of the mechanism and the costs it imposes, it makes sense to deprecate it. Eventually, getting rid of finalization will benefit everyone.\r\n\r\nAs of this writing (2019-06-04) there is no concrete plan to remove finalization from Java. However, it is certainly the intent to do so. We&#39;ve deprecated the `Object.finalize` method, but have not marked it for removal. This is a formal recommendation that programmers stop using this mechanism. It&#39;s been known informally that finalization shouldn&#39;t be used, but of course it&#39;s necessary to take a formal step. In addition, certain `finalize` methods in library classes (for example, [`ZipFile.finalize`][7]) have been deprecated &quot;for removal&quot; which means that the finalization behavior of these classes may be removed from a future release. Eventually, we hope to disable finalization in the JVM (perhaps first optionally, and then later by default), and at some point in the future actually remove the finalization implementation from garbage collectors.\r\n\r\n(Edit 2021-11-03: [JEP 421][8] has just been posted, which proposes to deprecate finalization for removal. At this writing it&#39;s in the &quot;candidate&quot; state but I expect it will move forward. The deprecations added by this JEP are a formal notification that finalization will be removed at some point in a subsequent Java release. Perhaps not surprisingly, there&#39;s a fair overlap between the material in this answer and in the JEP, though the JEP is more precise and describes a moderate evolution in our thinking on the topic.)\r\n\r\n(Edit 2022-04-04: [JEP 421][8] *Deprecate Finalization for Removal* has been integrated and delivered in JDK 18.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/158174/why-would-you-ever-implement-finalize\r\n  [2]: https://stackoverflow.com/questions/52879761/should-java-9-cleaner-be-preferred-to-finalization\r\n  [3]: https://stackoverflow.com/a/26645534/1441122\r\n  [4]: https://stackoverflow.com/q/64264807/1441122\r\n  [5]: https://wiki.sei.cmu.edu/confluence/display/java/MET12-J.+Do+not+use+finalizers\r\n  [6]: https://www.oracle.com/technetwork/java/seccodeguide-139067.html\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/zip/ZipFile.html#finalize()\r\n  [8]: https://openjdk.java.net/jeps/421","title":"Why is the finalize() method deprecated in Java 9?","body":"<p>Although the question was asking about the <code>Object.finalize</code> method, the subject really is about the <em>finalization</em> mechanism as a whole. This mechanism includes not only the surface API <code>Object.finalize</code>, but it also includes specifications of the programming language about the life cycle of objects, and practical impact on garbage collector implementations in JVMs.</p>\n<p>Much has been written about why finalization is difficult to use from the application's point of view. See the questions <a href=\"https://stackoverflow.com/questions/158174/why-would-you-ever-implement-finalize\">Why would you ever implement finalize()?</a> and <a href=\"https://stackoverflow.com/questions/52879761/should-java-9-cleaner-be-preferred-to-finalization\">Should Java 9 Cleaner be preferred to finalization?</a> and their answers. See also <em>Effective Java, 3rd edition</em> by Joshua Bloch, Item 8.</p>\n<p>Briefly, some points about the problems associated with using finalizers are:</p>\n<ul>\n<li><p>they are notoriously difficult to program correctly</p>\n</li>\n<li><p>in particular, they can be run unexpectedly when an object\nbecomes unreachable unexpectedly (but correctly); for example,\nsee <a href=\"https://stackoverflow.com/a/26645534/1441122\">my answer to this question</a></p>\n</li>\n<li><p>finalization can easily break subclass/superclass relationships</p>\n</li>\n<li><p>there is no ordering among finalizers</p>\n</li>\n<li><p>a given object's <code>finalize</code> method is invoked at most once by the JVM, even if that object is &quot;resurrected&quot;</p>\n</li>\n<li><p>there are no guarantees about timeliness of finalization or\neven that it will run at all</p>\n</li>\n<li><p>there is no explicit registration or deregistration mechanism</p>\n</li>\n</ul>\n<p>The above are difficulties with the use of finalization. Anyone who is considering using finalization should reconsider, given the above list of issues. But are these issues sufficient to deprecate finalization in the Java platform? There are several additional reasons explained in the sections below.</p>\n<p><strong>Finalization Potentially Makes Systems Fragile</strong></p>\n<p>Even if you write an object that uses finalization correctly, it can cause problems when your object is integrated into a larger system. Even if you don't use finalization at all, being integrated into a larger system, some parts of which use finalization, can result in problems. The general issue is that worker threads that create garbage need to be in balance with the garbage collector. If the garbage collector falls behind, at least some collectors can &quot;stop the world&quot; and do a full collection to catch up. Finalization complicates this interaction. Even if the garbage collector is keeping up with application threads, finalization can introduce bottlenecks and slow down the system, or it can cause delays in freeing resources that result in exhaustion of those resources. This is a <em>systems</em> problem. Even if the actual code that uses finalization is correct, problems can still occur in correctly programmed systems.</p>\n<p>(Edit 2021-09-16: <a href=\"https://stackoverflow.com/q/64264807/1441122\">this question</a> describes a problem where a system works fine under low load but fails under high load, likely because the relative rate of allocation outstrips the rate of finalization under high load.)</p>\n<p><strong>Finalization Contributes to Security Issues</strong></p>\n<p>The <em>SEI CERT Oracle Coding Standard for Java</em> has a rule <a href=\"https://wiki.sei.cmu.edu/confluence/display/java/MET12-J.+Do+not+use+finalizers\" rel=\"noreferrer\">MET12-J: Do not use finalizers</a>. (Note, this is a site about secure coding.) In particular, it says</p>\n<blockquote>\n<p>Improper use of finalizers can result in resurrection of garbage-collection-ready objects and result in denial-of-service vulnerabilities.</p>\n</blockquote>\n<p>Oracle's <a href=\"https://www.oracle.com/technetwork/java/seccodeguide-139067.html\" rel=\"noreferrer\"><em>Secure Coding Guidelines for Java SE</em></a> is more explicit about potential security issues that can arise using finalization. In this case it is not a problem with code that uses finalization. Instead, finalization can be used <em>by an attacker</em> to attack sensitive code that hasn't properly defended itself. In particular, <em>Guideline 7-3 / OBJECT-3</em> states in part,</p>\n<blockquote>\n<p>Partially initialized instances of a non-final class can be accessed via a finalizer attack. The attacker overrides the protected <code>finalize</code> method in a subclass and attempts to create a new instance of that subclass. This attempt fails ... but the attacker simply ignores any exception and waits for the virtual machine to perform finalization on the partially initialized object. When that occurs the malicious <code>finalize</code> method implementation is invoked, giving the attacker access to <code>this</code>, a reference to the object being finalized. Although the object is only partially initialized, the attacker can still invoke methods on it....</p>\n</blockquote>\n<p>Thus, the presence of the finalization mechanism in the platform imposes a burden on programmers who are trying to write high assurance code.</p>\n<p><strong>Finalization Adds Complexity to Specifications</strong></p>\n<p>The Java Platform is defined by several specifications, including specifications for the language, the virtual machine, and the class library APIs. Impact of finalization is spread thinly across all of these, but it repeatedly makes its presence felt. For example, finalization has a very subtle interaction with object creation (which is already complicated enough). Finalization also has appeared Java's public APIs, meaning that evolution of those APIs has (up to now) been required to remain compatible with previously specified behaviors. Evolving these specifications is made more costly the presence of finalization.</p>\n<p><strong>Finalization Adds Complexity to Implementations</strong></p>\n<p>This is mainly about garbage collectors. There are several garbage collection implementations, and all are required to pay the cost of implementing finalization. The implementations are quite good at minimizing the runtime overhead if finalization isn't used. However, the implementation still needs to be there, and it needs to be correct and well tested. This is an ongoing development and maintenance burden.</p>\n<p><strong>Summary</strong></p>\n<p>We've seen elsewhere that it's not recommended for programmers to use finalization. However, if something is not useful, it doesn't necessarily follow that it should be deprecated. The points above illustrate the fact that even if finalization isn't used, the mere presence of the mechanism in the platform imposes ongoing specification, development, and maintenance costs. Given the lack of usefulness of the mechanism and the costs it imposes, it makes sense to deprecate it. Eventually, getting rid of finalization will benefit everyone.</p>\n<p>As of this writing (2019-06-04) there is no concrete plan to remove finalization from Java. However, it is certainly the intent to do so. We've deprecated the <code>Object.finalize</code> method, but have not marked it for removal. This is a formal recommendation that programmers stop using this mechanism. It's been known informally that finalization shouldn't be used, but of course it's necessary to take a formal step. In addition, certain <code>finalize</code> methods in library classes (for example, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/zip/ZipFile.html#finalize()\" rel=\"noreferrer\"><code>ZipFile.finalize</code></a>) have been deprecated &quot;for removal&quot; which means that the finalization behavior of these classes may be removed from a future release. Eventually, we hope to disable finalization in the JVM (perhaps first optionally, and then later by default), and at some point in the future actually remove the finalization implementation from garbage collectors.</p>\n<p>(Edit 2021-11-03: <a href=\"https://openjdk.java.net/jeps/421\" rel=\"noreferrer\">JEP 421</a> has just been posted, which proposes to deprecate finalization for removal. At this writing it's in the &quot;candidate&quot; state but I expect it will move forward. The deprecations added by this JEP are a formal notification that finalization will be removed at some point in a subsequent Java release. Perhaps not surprisingly, there's a fair overlap between the material in this answer and in the JEP, though the JEP is more precise and describes a moderate evolution in our thinking on the topic.)</p>\n<p>(Edit 2022-04-04: <a href=\"https://openjdk.java.net/jeps/421\" rel=\"noreferrer\">JEP 421</a> <em>Deprecate Finalization for Removal</em> has been integrated and delivered in JDK 18.)</p>\n"}],"owner":{"account_id":15096004,"reputation":2715,"user_id":10894456,"display_name":"J.J. Beam"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24575,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":56454348,"answer_count":1,"score":31,"last_activity_date":1649112523,"creation_date":1557875338,"question_id":56139760,"body_markdown":"(This question is different from [Why would you ever implement finalize()?](https://stackoverflow.com/questions/158174/why-would-you-ever-implement-finalize) This question is about deprecation from the Java platform, and the other question is about whether one should use this mechanism in applications.)\r\n\r\nWhy is the `finalize()` method deprecated in Java 9?\r\n\r\nYes it could be used in wrong way (like save an object from garbage collecting [only one time though] or try to close some native resources within it [it&#39;s better than don&#39;t close at all though]) as well as many other methods could be used wrongly.\r\n\r\nSo is `finalize()` really so dangerous or absolutely useless that it&#39;s necessary to kick it out of Java?\r\n","title":"Why is the finalize() method deprecated in Java 9?","body":"<p>(This question is different from <a href=\"https://stackoverflow.com/questions/158174/why-would-you-ever-implement-finalize\">Why would you ever implement finalize()?</a> This question is about deprecation from the Java platform, and the other question is about whether one should use this mechanism in applications.)</p>\n\n<p>Why is the <code>finalize()</code> method deprecated in Java 9?</p>\n\n<p>Yes it could be used in wrong way (like save an object from garbage collecting [only one time though] or try to close some native resources within it [it's better than don't close at all though]) as well as many other methods could be used wrongly.</p>\n\n<p>So is <code>finalize()</code> really so dangerous or absolutely useless that it's necessary to kick it out of Java?</p>\n"},{"tags":["java","security","sonarqube"],"comments":[{"owner":{"account_id":1316894,"reputation":10675,"user_id":1263543,"display_name":"benzonico"},"score":0,"creation_date":1521105383,"post_id":49295094,"comment_id":85592977,"body_markdown":"Could you share the rule key of the rule which is raising the issue ? I suspect this is a findsecbug rule and not a SonarJava rule.","body":"Could you share the rule key of the rule which is raising the issue ? I suspect this is a findsecbug rule and not a SonarJava rule."},{"owner":{"account_id":6339764,"reputation":355,"user_id":4922150,"accept_rate":38,"display_name":"Vito Karleone"},"score":0,"creation_date":1521107093,"post_id":49295094,"comment_id":85594116,"body_markdown":"Im not sure how to get rule key. There are cwe, owasp-4, wasc in Rule tags.","body":"Im not sure how to get rule key. There are cwe, owasp-4, wasc in Rule tags."},{"owner":{"account_id":7279750,"reputation":188,"user_id":5549900,"accept_rate":100,"display_name":"Karthik"},"score":0,"creation_date":1521107171,"post_id":49295094,"comment_id":85594162,"body_markdown":"http://find-sec-bugs.github.io/bugs.htm#PATH_TRAVERSAL_OUT","body":"<a href=\"http://find-sec-bugs.github.io/bugs.htm#PATH_TRAVERSAL_OUT\" rel=\"nofollow noreferrer\">find-sec-bugs.github.io/bugs.htm#PATH_TRAVERSAL_OUT</a>"},{"owner":{"account_id":1543493,"reputation":1273,"user_id":1437586,"accept_rate":80,"display_name":"Josef Prochazka"},"score":0,"creation_date":1521114027,"post_id":49295094,"comment_id":85598729,"body_markdown":"try Paths.get(SOME_CONSTANT_OF_ROOT, someValue.getRelativePath()).normalize(); Now you don&#39;t fully relay on suplied value.","body":"try Paths.get(SOME_CONSTANT_OF_ROOT, someValue.getRelativePath()).normalize(); Now you don&#39;t fully relay on suplied value."},{"owner":{"account_id":8789642,"reputation":14456,"user_id":6570042,"display_name":"Gabor Lengyel"},"score":0,"creation_date":1521118107,"post_id":49295094,"comment_id":85601417,"body_markdown":"You can&#39;t tell from the code above whether your application is vulnerable to path traversal or not. It depends on where `someValue` comes from (in *any* execution path). However, this method could be more secure by sanitizing its inputs, thus implementing defense in depth. Things like adding a constant part to the beginning of the constructed path and normalizing appended parts might help, but note that it may not be the full solution in some cases. Unfortunately this can&#39;t be answered in short.","body":"You can&#39;t tell from the code above whether your application is vulnerable to path traversal or not. It depends on where <code>someValue</code> comes from (in <i>any</i> execution path). However, this method could be more secure by sanitizing its inputs, thus implementing defense in depth. Things like adding a constant part to the beginning of the constructed path and normalizing appended parts might help, but note that it may not be the full solution in some cases. Unfortunately this can&#39;t be answered in short."},{"owner":{"account_id":7279750,"reputation":188,"user_id":5549900,"accept_rate":100,"display_name":"Karthik"},"score":0,"creation_date":1521133114,"post_id":49295094,"comment_id":85612510,"body_markdown":"@GaborLengyel, I don&#39;t think one should sanitize input. Its actually insecure. Rather we need to validate against known good inputs.","body":"@GaborLengyel, I don&#39;t think one should sanitize input. Its actually insecure. Rather we need to validate against known good inputs."},{"owner":{"account_id":8789642,"reputation":14456,"user_id":6570042,"display_name":"Gabor Lengyel"},"score":0,"creation_date":1521133712,"post_id":49295094,"comment_id":85612918,"body_markdown":"@Karthik you are of course right in general, and my comment is not very well written, that&#39;s why I said there is no short answer, and also that it would be *more* secure. In this type of vulnerability, input sanitization, together with other measures of course (see the reference to defense in depth above) can be effective, but explaining it all would be much longer than a comment. Whitelisting is of course the best option, but most of the times not possible. No offense, I should have crafted my comment better.","body":"@Karthik you are of course right in general, and my comment is not very well written, that&#39;s why I said there is no short answer, and also that it would be <i>more</i> secure. In this type of vulnerability, input sanitization, together with other measures of course (see the reference to defense in depth above) can be effective, but explaining it all would be much longer than a comment. Whitelisting is of course the best option, but most of the times not possible. No offense, I should have crafted my comment better."}],"answers":[{"tags":[],"owner":{"account_id":7279750,"reputation":188,"user_id":5549900,"accept_rate":100,"display_name":"Karthik"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1521108253,"creation_date":1521108253,"answer_id":49296491,"question_id":49295094,"body_markdown":"Before fixing anything, please understand the vulnerabilities. What this means is that when sonar (or any other similar tool) highlights a piece of code, don&#39;t try to get rid of the issue as quick as possible. Understand what the issue is. Do some research on the highlighted vulnerability. \r\n\r\nThis piece of code exposes for an attacker to get an understanding of the directory structure or get access to files which shouldn&#39;t be. normalize() is one of the step to fix this vulnerability, not the full fix. On how to approach a fix please read [here](https://www.owasp.org/index.php/File_System#Path_traversal)\r\n\r\nA sample fix too is given [here](http://find-sec-bugs.github.io/bugs.htm#SCALA_PATH_TRAVERSAL_IN). I hope that helps. ","title":"SonarQube Java path traversal attack","body":"<p>Before fixing anything, please understand the vulnerabilities. What this means is that when sonar (or any other similar tool) highlights a piece of code, don't try to get rid of the issue as quick as possible. Understand what the issue is. Do some research on the highlighted vulnerability. </p>\n\n<p>This piece of code exposes for an attacker to get an understanding of the directory structure or get access to files which shouldn't be. normalize() is one of the step to fix this vulnerability, not the full fix. On how to approach a fix please read <a href=\"https://www.owasp.org/index.php/File_System#Path_traversal\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>A sample fix too is given <a href=\"http://find-sec-bugs.github.io/bugs.htm#SCALA_PATH_TRAVERSAL_IN\" rel=\"nofollow noreferrer\">here</a>. I hope that helps. </p>\n"}],"owner":{"account_id":6339764,"reputation":355,"user_id":4922150,"accept_rate":38,"display_name":"Vito Karleone"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15334,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1649112237,"creation_date":1521104374,"question_id":49295094,"body_markdown":"I have some method for file deleting. I use SonarQube for static analysis of my code.\r\n\r\nThe method code:\r\n\r\n    private static void removeFile(MyClass someValue) {\r\n        Path filePath = Paths.get(someValue.getRootFolderPath(), someValue.getRelativePath());\r\n\r\n        if (!Files.exists(filePath)) {\r\n            LOG.warn(&quot;File does not exist&quot;, filePath.toAbsolutePath().toString());\r\n            return;\r\n        }\r\n\r\n        try {\r\n            Files.delete(filePath.getFileName());\r\n            LOG.debug(&quot;File &quot; + someValue.getRelativePath() + &quot; was deleted&quot;);\r\n        } catch (Exception e) {\r\n            String excMessage = &quot;some info&quot;;\r\n            LOG.warn(excMessage, e);\r\n        }\r\n    }\r\n\r\nSonar says:\r\n\r\n&gt; java/nio/file/Paths.get(Ljava/lang/String;[Ljava/lang/String;)Ljava/nio/file/Path;\r\n&gt; reads a file whose location might be specified by user input\r\n\r\n\r\nI added call of *normalize* method to prevent path traversal attack.\r\n    \r\n    Path filePath = Paths.get(someValue.getRootFolderPath(), someValue.getRelativePath()).normalize();\r\n\r\nBut Sonar still says me about potential path traversal vulnerabilities.  \r\n\r\nAm I doing something wrong or there is a better solution for preventing such type of attacks which will suits Sonar ?\r\n\r\n**UPD**:\r\nHave tried a lot of ways of solving this problem and all of them are wrong by static analysis.\r\n    \r\nVulnerable Code:\r\n\r\n    Path filePath = Paths.get(FilenameUtils.getName(someValue.getFileName()));\r\n    Path filePath = Paths.get(&quot;some/path&quot;, FilenameUtils.getName(someValue.getFileName()));\r\n    Path filePath = Paths.get(&quot;some/path&quot;, FilenameUtils.getName(fileName));\r\n    Path filePath = Paths.get(FilenameUtils.getName(fileName));\r\n    File file = new File(someValue.getRootFolderPath(), someValue.getRelativePath());\r\n    File file = new File(someValue.getRootFolderPath(), FilenameUtils.getName(someValue.getFileName()));\r\n    File file = new File(FilenameUtils.getPath(someValue.getRootFolderPath()), FilenameUtils.getName(someValue.getFileName()));\r\n    File file = new File(&quot;some/path&quot;, FilenameUtils.getName(fileName));\r\n    File file = new File(FilenameUtils.getName(fileName));\r\n    File file = new File(FilenameUtils.getName(&quot;bla-bla-bla&quot;));","title":"SonarQube Java path traversal attack","body":"<p>I have some method for file deleting. I use SonarQube for static analysis of my code.</p>\n\n<p>The method code:</p>\n\n<pre><code>private static void removeFile(MyClass someValue) {\n    Path filePath = Paths.get(someValue.getRootFolderPath(), someValue.getRelativePath());\n\n    if (!Files.exists(filePath)) {\n        LOG.warn(\"File does not exist\", filePath.toAbsolutePath().toString());\n        return;\n    }\n\n    try {\n        Files.delete(filePath.getFileName());\n        LOG.debug(\"File \" + someValue.getRelativePath() + \" was deleted\");\n    } catch (Exception e) {\n        String excMessage = \"some info\";\n        LOG.warn(excMessage, e);\n    }\n}\n</code></pre>\n\n<p>Sonar says:</p>\n\n<blockquote>\n  <p>java/nio/file/Paths.get(Ljava/lang/String;[Ljava/lang/String;)Ljava/nio/file/Path;\n  reads a file whose location might be specified by user input</p>\n</blockquote>\n\n<p>I added call of <em>normalize</em> method to prevent path traversal attack.</p>\n\n<pre><code>Path filePath = Paths.get(someValue.getRootFolderPath(), someValue.getRelativePath()).normalize();\n</code></pre>\n\n<p>But Sonar still says me about potential path traversal vulnerabilities.  </p>\n\n<p>Am I doing something wrong or there is a better solution for preventing such type of attacks which will suits Sonar ?</p>\n\n<p><strong>UPD</strong>:\nHave tried a lot of ways of solving this problem and all of them are wrong by static analysis.</p>\n\n<p>Vulnerable Code:</p>\n\n<pre><code>Path filePath = Paths.get(FilenameUtils.getName(someValue.getFileName()));\nPath filePath = Paths.get(\"some/path\", FilenameUtils.getName(someValue.getFileName()));\nPath filePath = Paths.get(\"some/path\", FilenameUtils.getName(fileName));\nPath filePath = Paths.get(FilenameUtils.getName(fileName));\nFile file = new File(someValue.getRootFolderPath(), someValue.getRelativePath());\nFile file = new File(someValue.getRootFolderPath(), FilenameUtils.getName(someValue.getFileName()));\nFile file = new File(FilenameUtils.getPath(someValue.getRootFolderPath()), FilenameUtils.getName(someValue.getFileName()));\nFile file = new File(\"some/path\", FilenameUtils.getName(fileName));\nFile file = new File(FilenameUtils.getName(fileName));\nFile file = new File(FilenameUtils.getName(\"bla-bla-bla\"));\n</code></pre>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1460851405,"post_id":36671212,"comment_id":60933640,"body_markdown":"First of all, it&#39;s bad practice to extend Thread. So this is a non-issue. But even if this wasn&#39;t the case, then yes, what you&#39;ve posted is not a good idea -- to critically use an object before it has completed construction is never good.","body":"First of all, it&#39;s bad practice to extend Thread. So this is a non-issue. But even if this wasn&#39;t the case, then yes, what you&#39;ve posted is not a good idea -- to critically use an object before it has completed construction is never good."},{"owner":{"account_id":6381809,"reputation":1,"user_id":4950981,"display_name":"Andrija Boricic"},"score":0,"creation_date":1460852087,"post_id":36671212,"comment_id":60933781,"body_markdown":"Could you explain why extending a thread is a bad practice?I can see a restriction( not being able to extend), but other than that, it&#39;s pretty much a matter of choice.","body":"Could you explain why extending a thread is a bad practice?I can see a restriction( not being able to extend), but other than that, it&#39;s pretty much a matter of choice."}],"answers":[{"tags":[],"owner":{"account_id":3970935,"reputation":470,"user_id":3275555,"display_name":"Richard Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460851812,"creation_date":1460851812,"answer_id":36671256,"question_id":36671212,"body_markdown":"In general it&#39;s good practice to control an object from the outside only, hence getter and setter methods etc..the same applies here, starting a thread like that just smells bad, don&#39;t do it.","title":"Starting Thread from inside it&#39;s constructor","body":"<p>In general it's good practice to control an object from the outside only, hence getter and setter methods etc..the same applies here, starting a thread like that just smells bad, don't do it.</p>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1460856713,"creation_date":1460855943,"answer_id":36671665,"question_id":36671212,"body_markdown":"As noted in my comment,  it&#39;s bad practice to extend Thread, and so the question is a non-issue. But again your suggested code is much more than &quot;bad practice&quot; -- it&#39;s dangerous. You&#39;re performing critical actions on an object before it has been fully constructed, and this can lead to unforeseen and difficult to debug bugs and side effects. Also this greatly limits the flexibility of your code, since now you are forced to use the thread in one and only one way. \r\n\r\nRegarding the separate issue of implementing Runnable or extending Thread, this has been well discussed on this site in multiple threads including [this one](https://stackoverflow.com/questions/541487/implements-runnable-vs-extends-thread), and I invite you to take a look.","title":"Starting Thread from inside it&#39;s constructor","body":"<p>As noted in my comment,  it's bad practice to extend Thread, and so the question is a non-issue. But again your suggested code is much more than \"bad practice\" -- it's dangerous. You're performing critical actions on an object before it has been fully constructed, and this can lead to unforeseen and difficult to debug bugs and side effects. Also this greatly limits the flexibility of your code, since now you are forced to use the thread in one and only one way. </p>\n\n<p>Regarding the separate issue of implementing Runnable or extending Thread, this has been well discussed on this site in multiple threads including <a href=\"https://stackoverflow.com/questions/541487/implements-runnable-vs-extends-thread\">this one</a>, and I invite you to take a look.</p>\n"}],"owner":{"account_id":6381809,"reputation":1,"user_id":4950981,"display_name":"Andrija Boricic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1473866636,"accepted_answer_id":36671665,"answer_count":2,"score":0,"last_activity_date":1649111401,"creation_date":1460851290,"question_id":36671212,"body_markdown":"Is it acceptable to start a Thread from inside of its constructor after we have initialized fields and is it a bad practice in general to start a Thread from inside of its constructor?\r\nFor example:\r\n\r\n        class A extends Thread{\r\n           private String s;\r\n           private int x\r\n           public A(String str,int xx){\r\n             s = str;\r\n             x = xx;\r\n             start();\r\n           }\r\n          public void run() { System.out.println(s + &quot; &quot; + x);}\r\n\r\n        }\r\n","title":"Starting Thread from inside it&#39;s constructor","body":"<p>Is it acceptable to start a Thread from inside of its constructor after we have initialized fields and is it a bad practice in general to start a Thread from inside of its constructor?\nFor example:</p>\n<pre><code>    class A extends Thread{\n       private String s;\n       private int x\n       public A(String str,int xx){\n         s = str;\n         x = xx;\n         start();\n       }\n      public void run() { System.out.println(s + &quot; &quot; + x);}\n\n    }\n</code></pre>\n"},{"tags":["java","gradle","clips"],"comments":[{"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"score":1,"creation_date":1649011921,"post_id":71726882,"comment_id":126762647,"body_markdown":"This worked for me in gradle.build add to your dependencies &quot;implementation files(&#39;clips-jni/CLIPSJNI.jar&#39;)&quot;","body":"This worked for me in gradle.build add to your dependencies &quot;implementation files(&#39;clips-jni/CLIPSJNI.jar&#39;)&quot;"},{"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"score":0,"creation_date":1649109387,"post_id":71726882,"comment_id":126788565,"body_markdown":"Don&#39;t forget to add libCLIPSJNI.jnilib to your project. Otherwise, library is not found in java path and thus it will fail with following runtime exception java.lang.UnsatisfiedLinkError.","body":"Don&#39;t forget to add libCLIPSJNI.jnilib to your project. Otherwise, library is not found in java path and thus it will fail with following runtime exception java.lang.UnsatisfiedLinkError."}],"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649110569,"creation_date":1648996840,"question_id":71726882,"body_markdown":"Update \r\n\r\nI would like to use external library that is not available on maven repository. \r\n\r\nCurrently, I have subproject called libs and within CLIPSJNI.jar\r\nIn Gradle.build of root project I declare dependency like this \r\n```\r\ndependencies {\r\n  implementation files(&#39;/libs/library.jar&#39;)\r\n}\r\n```\r\nbut in order to run java application I also have to add file with .jnilib. \r\n\r\nMy question is it possible to publish to maven local this jar and reuse this dependency. So that .jnilib is redundant.\r\n\r\nInitial question was resolve. If you wanna use CLIPSJNI in java application there are only 2 steps you should follow, which are described in comments down below.","title":"Publish jar to maven local and use this dependency in root project","body":"<p>Update</p>\n<p>I would like to use external library that is not available on maven repository.</p>\n<p>Currently, I have subproject called libs and within CLIPSJNI.jar\nIn Gradle.build of root project I declare dependency like this</p>\n<pre><code>dependencies {\n  implementation files('/libs/library.jar')\n}\n</code></pre>\n<p>but in order to run java application I also have to add file with .jnilib.</p>\n<p>My question is it possible to publish to maven local this jar and reuse this dependency. So that .jnilib is redundant.</p>\n<p>Initial question was resolve. If you wanna use CLIPSJNI in java application there are only 2 steps you should follow, which are described in comments down below.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1647798434,"post_id":71549169,"comment_id":126456268,"body_markdown":"The `print`ing happens after the recursive call - &quot;on the way up&quot;. I recommend executing the algorithmy &quot;by hand&quot;, with a sheet of paper and a pen. --- Please read: [How to debug small programs (`https://ericlippert.com/`)](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"The <code>print</code>ing happens after the recursive call - &quot;on the way up&quot;. I recommend executing the algorithmy &quot;by hand&quot;, with a sheet of paper and a pen. --- Please read: <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (<code>https:&#47;&#47;ericlippert.com&#47;</code>)</a>"},{"owner":{"account_id":24555788,"reputation":603,"user_id":18464383,"display_name":"Devesh"},"score":1,"creation_date":1647798688,"post_id":71549169,"comment_id":126456327,"body_markdown":"@Rookery, Try to visualize call-stack with a small value. for example, let&#39;s take printArray(2) will call printArray(1), which will call printArray(0). from here stack will return and printing expression will start.","body":"@Rookery, Try to visualize call-stack with a small value. for example, let&#39;s take printArray(2) will call printArray(1), which will call printArray(0). from here stack will return and printing expression will start."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1647798803,"post_id":71549169,"comment_id":126456353,"body_markdown":"Hint: take a piece of paper and a pen. Write down exactly what calls happen, and what the variables and actions are.","body":"Hint: take a piece of paper and a pen. Write down exactly what calls happen, and what the variables and actions are."}],"answers":[{"tags":[],"owner":{"account_id":20129083,"reputation":141,"user_id":14761811,"display_name":"Pietro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647800139,"creation_date":1647800139,"answer_id":71549425,"question_id":71549169,"body_markdown":"The **printArray** method works by calling itself decreasing the integer **i**. The `System.out.println` statement is executed **after** calling the function with **i-1**. For example, given an input of *10*:\r\n\r\n 1. `printArray(10)` is exectued -&gt; `printArray(10-1)` is called\r\n 2. `printArray(9)` is executed -&gt; `printArray(9-1)` is called\r\n 3. [...]\r\n 4. `printArray(0)` is executed -&gt; `return`. The program goes back to the previous istance of **printArray**, the one where **i = 1**\r\n 5. We are here in the code: the line `printArray(1-1)` has just been executed.  The next line is `System.out.println(&quot;[&quot; + (1-1) + &quot;]&quot; + values[1-1])` -&gt; `[0]0` is printed (right now **i = 1**). Now the program goes back to the previous instance where **i = 2**\r\n6. [...]\r\n\r\nI think you can figure out the rest :)\r\n\r\n\r\n ","title":"Can&#39;t figure out this recursion program","body":"<p>The <strong>printArray</strong> method works by calling itself decreasing the integer <strong>i</strong>. The <code>System.out.println</code> statement is executed <strong>after</strong> calling the function with <strong>i-1</strong>. For example, given an input of <em>10</em>:</p>\n<ol>\n<li><code>printArray(10)</code> is exectued -&gt; <code>printArray(10-1)</code> is called</li>\n<li><code>printArray(9)</code> is executed -&gt; <code>printArray(9-1)</code> is called</li>\n<li>[...]</li>\n<li><code>printArray(0)</code> is executed -&gt; <code>return</code>. The program goes back to the previous istance of <strong>printArray</strong>, the one where <strong>i = 1</strong></li>\n<li>We are here in the code: the line <code>printArray(1-1)</code> has just been executed.  The next line is <code>System.out.println(&quot;[&quot; + (1-1) + &quot;]&quot; + values[1-1])</code> -&gt; <code>[0]0</code> is printed (right now <strong>i = 1</strong>). Now the program goes back to the previous instance where <strong>i = 2</strong></li>\n<li>[...]</li>\n</ol>\n<p>I think you can figure out the rest :)</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647801780,"creation_date":1647801780,"answer_id":71549623,"question_id":71549169,"body_markdown":"See if this helps.\r\n```\r\nstatic void printVal(int i) {\r\n\tif (i &gt; 0) {\r\n\t\tSystem.out.printf(&quot;Calling printVal(%d) again%n&quot;, i-1);\r\n\t\tprintVal(i-1);\r\n\t}\r\n\tSystem.out.println(&quot;Returning from print - call stack has &quot; + i);\r\n}\r\n\r\nprintVal(10);\r\n```\r\nprints\r\n```\r\nCalling printVal(9) again\r\nCalling printVal(8) again\r\nCalling printVal(7) again\r\nCalling printVal(6) again\r\nCalling printVal(5) again\r\nCalling printVal(4) again\r\nCalling printVal(3) again\r\nCalling printVal(2) again\r\nCalling printVal(1) again\r\nCalling printVal(0) again\r\nReturning from print - call stack has 0\r\nReturning from print - call stack has 1\r\nReturning from print - call stack has 2\r\nReturning from print - call stack has 3\r\nReturning from print - call stack has 4\r\nReturning from print - call stack has 5\r\nReturning from print - call stack has 6\r\nReturning from print - call stack has 7\r\nReturning from print - call stack has 8\r\nReturning from print - call stack has 9\r\nReturning from print - call stack has 10\r\n```\r\nEach subsequent call to `printVal` puts the `value-1` on the call stack. When they are all finally returned, they return in the reverse order.\r\n","title":"Can&#39;t figure out this recursion program","body":"<p>See if this helps.</p>\n<pre><code>static void printVal(int i) {\n    if (i &gt; 0) {\n        System.out.printf(&quot;Calling printVal(%d) again%n&quot;, i-1);\n        printVal(i-1);\n    }\n    System.out.println(&quot;Returning from print - call stack has &quot; + i);\n}\n\nprintVal(10);\n</code></pre>\n<p>prints</p>\n<pre><code>Calling printVal(9) again\nCalling printVal(8) again\nCalling printVal(7) again\nCalling printVal(6) again\nCalling printVal(5) again\nCalling printVal(4) again\nCalling printVal(3) again\nCalling printVal(2) again\nCalling printVal(1) again\nCalling printVal(0) again\nReturning from print - call stack has 0\nReturning from print - call stack has 1\nReturning from print - call stack has 2\nReturning from print - call stack has 3\nReturning from print - call stack has 4\nReturning from print - call stack has 5\nReturning from print - call stack has 6\nReturning from print - call stack has 7\nReturning from print - call stack has 8\nReturning from print - call stack has 9\nReturning from print - call stack has 10\n</code></pre>\n<p>Each subsequent call to <code>printVal</code> puts the <code>value-1</code> on the call stack. When they are all finally returned, they return in the reverse order.</p>\n"}],"owner":{"account_id":23995056,"reputation":1,"user_id":17980664,"display_name":"Rookery"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1649110421,"answer_count":2,"score":-1,"last_activity_date":1649110416,"creation_date":1647798269,"question_id":71549169,"body_markdown":"I can&#39;t seem to figure out why this recursion program prints the values the way it does. I thought it would print [9]9 first but intead it does it backwards from [0]0. Can anyone explain why this happens?\r\n\r\n```\r\nclass RecTest {\r\n\tint values[];\r\n\t\r\n\tRecTest (int i){\r\n\t\tvalues = new int[i];\r\n\t}\r\n\t\r\n\tvoid printArray(int i) {\r\n\t\tif(i==0) return;\r\n\t\telse printArray(i-1);\r\n\t\tSystem.out.println(&quot;[&quot; + (i-1) + &quot;]&quot; + values[i-1]);\r\n\t}\r\n}\r\n```\r\n```\r\npublic class Recursion2 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tRecTest ob = new RecTest (10);\r\n\t\tint i;\r\n\t\t\r\n\t\tfor(i=0; i&lt;10; i++) ob.values[i] = i;\r\n\t\t\r\n\t\tob.printArray(10);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n","title":"Can&#39;t figure out this recursion program","body":"<p>I can't seem to figure out why this recursion program prints the values the way it does. I thought it would print [9]9 first but intead it does it backwards from [0]0. Can anyone explain why this happens?</p>\n<pre><code>class RecTest {\n    int values[];\n    \n    RecTest (int i){\n        values = new int[i];\n    }\n    \n    void printArray(int i) {\n        if(i==0) return;\n        else printArray(i-1);\n        System.out.println(&quot;[&quot; + (i-1) + &quot;]&quot; + values[i-1]);\n    }\n}\n</code></pre>\n<pre><code>public class Recursion2 {\n\n    public static void main(String[] args) {\n        RecTest ob = new RecTest (10);\n        int i;\n        \n        for(i=0; i&lt;10; i++) ob.values[i] = i;\n        \n        ob.printArray(10);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":14627561,"reputation":1444,"user_id":10564458,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649107196,"creation_date":1649107196,"answer_id":71743839,"question_id":71743809,"body_markdown":"You can create a new array and then copy the values into it:\r\n\r\n```java\r\nfor (int i = 0; i &lt; testList.length; i++) {\r\n    int[] copy = new int[testList[i].length];\r\n    int copyIndex = 0;\r\n    \r\n    for (int j = testList[i].length-1; j &gt;=0; j--) {\r\n        System.out.print(testList[i][j] + &quot; &quot;);\r\n        copy[copyIndex++] = testList[i][j];\r\n    }\r\n}\r\n```","title":"Java how to copy values from 2D array to regular array row by row","body":"<p>You can create a new array and then copy the values into it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; testList.length; i++) {\n    int[] copy = new int[testList[i].length];\n    int copyIndex = 0;\n    \n    for (int j = testList[i].length-1; j &gt;=0; j--) {\n        System.out.print(testList[i][j] + &quot; &quot;);\n        copy[copyIndex++] = testList[i][j];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649107812,"creation_date":1649107812,"answer_id":71743936,"question_id":71743809,"body_markdown":"The Arrays class gives you a lot of nifty features:\r\n    \r\n    public static void main(String[] args) {\r\n\t\tInteger[][] testList = new Integer[][]{{1,2,3},{4,5,6},{7,8,9}, {10,11,12}};\r\n\t\tint max = 0;\r\n\t\tfor (Integer[] row : testList) {\r\n\t\t\tmax = Math.max(max, row.length);\r\n\t\t}\r\n\t\t\r\n\t\tInteger[][] copy = new Integer[testList.length][max];\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; testList.length; i++) {\r\n\t\t\tcopy[i] = Arrays.copyOf(testList[i], copy[i].length);\r\n\t\t}\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; testList.length; i++) {\r\n\t\t\tSystem.out.println(&quot;Source &quot; + i + &quot;: &quot; + Arrays.toString(testList[i]));\r\n\t\t\tSystem.out.println(&quot;Copy &quot; + i + &quot;: &quot; + Arrays.toString(copy[i]));\r\n\t\t}\r\n\t}","title":"Java how to copy values from 2D array to regular array row by row","body":"<p>The Arrays class gives you a lot of nifty features:</p>\n<pre><code>public static void main(String[] args) {\n    Integer[][] testList = new Integer[][]{{1,2,3},{4,5,6},{7,8,9}, {10,11,12}};\n    int max = 0;\n    for (Integer[] row : testList) {\n        max = Math.max(max, row.length);\n    }\n    \n    Integer[][] copy = new Integer[testList.length][max];\n    \n    for (int i = 0; i &lt; testList.length; i++) {\n        copy[i] = Arrays.copyOf(testList[i], copy[i].length);\n    }\n    \n    for (int i = 0; i &lt; testList.length; i++) {\n        System.out.println(&quot;Source &quot; + i + &quot;: &quot; + Arrays.toString(testList[i]));\n        System.out.println(&quot;Copy &quot; + i + &quot;: &quot; + Arrays.toString(copy[i]));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649110323,"creation_date":1649108671,"answer_id":71744076,"question_id":71743809,"body_markdown":"This will copy any size 2D array of `ints`.\r\n```\r\nint[][] testData = { { 1, 2, 3 },{}, null, { 4, 5, 6, 7 },null,{ 8, 9 },\r\n\t\t{ 10, 11, 12 } };\r\nint[] result = copy2DArrays(testData);\r\nSystem.out.println(Arrays.toString(result));\r\n```\r\nprints\r\n```\r\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\r\n```\t\r\n- First, compute size of result array. This also handles null rows.\r\n- if a null row is encountered, replace with an empty array for copy phase.\r\n- Allocate the return array of computed `size`\r\n- Then for each row\r\n    - iterate thru the row, copying the value to result array indexed by `k`\r\n- When done, return the resultant array.\r\n```\r\npublic static int[] copy2DArrays(int[][] array) {\r\n\tint size = 0;\r\n\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\tif (array[i] == null) {\r\n\t\t\t// replace null row with empty one\r\n\t\t\tarray[i] = new int[]{};\r\n\t\t   continue;\r\n\t\t}\r\n\t\tsize += array[i].length;\r\n\t}\r\n\r\n\tint k = 0;\r\n\tint[] result = new int[size];\r\n\tfor (int[] row : array) {\r\n\t\tfor (int v : row) {\r\n\t\t\tresult[k++] = v;\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn result;\r\n}\r\n```\r\nAnother, simpler option is using streams.\r\n\r\n- stream the &quot;2D&quot; array\r\n- only pass nonNull rows\r\n- flatten each row into a single stream\r\n- then gather them into an array.\r\n```\r\nint[] array = Arrays.stream(testData)\r\n\t\t.filter(Objects::nonNull)\r\n\t\t.flatMapToInt(Arrays::stream)\r\n\t\t.toArray();","title":"Java how to copy values from 2D array to regular array row by row","body":"<p>This will copy any size 2D array of <code>ints</code>.</p>\n<pre><code>int[][] testData = { { 1, 2, 3 },{}, null, { 4, 5, 6, 7 },null,{ 8, 9 },\n        { 10, 11, 12 } };\nint[] result = copy2DArrays(testData);\nSystem.out.println(Arrays.toString(result));\n</code></pre>\n<p>prints</p>\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\n</code></pre>\n<ul>\n<li>First, compute size of result array. This also handles null rows.</li>\n<li>if a null row is encountered, replace with an empty array for copy phase.</li>\n<li>Allocate the return array of computed <code>size</code></li>\n<li>Then for each row\n<ul>\n<li>iterate thru the row, copying the value to result array indexed by <code>k</code></li>\n</ul>\n</li>\n<li>When done, return the resultant array.</li>\n</ul>\n<pre><code>public static int[] copy2DArrays(int[][] array) {\n    int size = 0;\n    for (int i = 0; i &lt; array.length; i++) {\n        if (array[i] == null) {\n            // replace null row with empty one\n            array[i] = new int[]{};\n           continue;\n        }\n        size += array[i].length;\n    }\n\n    int k = 0;\n    int[] result = new int[size];\n    for (int[] row : array) {\n        for (int v : row) {\n            result[k++] = v;\n        }\n    }\n    \n    return result;\n}\n</code></pre>\n<p>Another, simpler option is using streams.</p>\n<ul>\n<li>stream the &quot;2D&quot; array</li>\n<li>only pass nonNull rows</li>\n<li>flatten each row into a single stream</li>\n<li>then gather them into an array.</li>\n</ul>\n<pre><code>int[] array = Arrays.stream(testData)\n        .filter(Objects::nonNull)\n        .flatMapToInt(Arrays::stream)\n        .toArray();\n</code></pre>\n"}],"owner":{"account_id":16310063,"reputation":1,"user_id":11778955,"display_name":"GoGo001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1649110323,"creation_date":1649107001,"question_id":71743809,"body_markdown":"I have the 2D array and printed them out backward. What I am trying to achieve is to copy each line of printed row to a regular array. Is it possible to do that?\r\n\r\n```\r\nInteger[][] testList;\r\n        testList = new Integer[][]{{1,2,3},{4,5,6},{7,8,9}, {10,11,12}};\r\n for (int i = 0; i &lt; testList.length; i++) {\r\n            for (int j = testList[i].length-1; j &gt;=0; j--) {\r\n                System.out.print(testList[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n```\r\n\r\n","title":"Java how to copy values from 2D array to regular array row by row","body":"<p>I have the 2D array and printed them out backward. What I am trying to achieve is to copy each line of printed row to a regular array. Is it possible to do that?</p>\n<pre><code>Integer[][] testList;\n        testList = new Integer[][]{{1,2,3},{4,5,6},{7,8,9}, {10,11,12}};\n for (int i = 0; i &lt; testList.length; i++) {\n            for (int j = testList[i].length-1; j &gt;=0; j--) {\n                System.out.print(testList[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20962495,"reputation":553,"user_id":15401610,"display_name":"ozerodb"},"score":1,"creation_date":1649106551,"post_id":71743686,"comment_id":126787881,"body_markdown":"You could use a counter and increase it once every turn, then print its value at the very end","body":"You could use a counter and increase it once every turn, then print its value at the very end"},{"owner":{"account_id":24749817,"reputation":1,"user_id":18635480,"display_name":"Joshua"},"score":0,"creation_date":1649107611,"post_id":71743686,"comment_id":126788152,"body_markdown":"Could you please show how by code. This is my first year doing java. The course is really doing the most","body":"Could you please show how by code. This is my first year doing java. The course is really doing the most"},{"owner":{"account_id":20962495,"reputation":553,"user_id":15401610,"display_name":"ozerodb"},"score":0,"creation_date":1649108460,"post_id":71743686,"comment_id":126788350,"body_markdown":"could you specify what `moves` (or `move` as in another comment) is? Is it the player move at the current turn?","body":"could you specify what <code>moves</code> (or <code>move</code> as in another comment) is? Is it the player move at the current turn?"},{"owner":{"account_id":24749817,"reputation":1,"user_id":18635480,"display_name":"Joshua"},"score":0,"creation_date":1649109089,"post_id":71743686,"comment_id":126788504,"body_markdown":"So I&#39;m creating a boardgame where the player just places colors in the 8&#215;8 board and avoid certain patterns. Using move = StdIn.readInt(); for moves like 0 to delete row and 1 to place a color and 2 to quit. But I want to keep track of the moves. So everytime you choose either of that (mostly number 1) I want the programme to give the amount of moves. So let&#39;s say 18 colors out of the 64 were place before the people lost. I want to get the 18 as the amount of moves made","body":"So I&#39;m creating a boardgame where the player just places colors in the 8&#215;8 board and avoid certain patterns. Using move = StdIn.readInt(); for moves like 0 to delete row and 1 to place a color and 2 to quit. But I want to keep track of the moves. So everytime you choose either of that (mostly number 1) I want the programme to give the amount of moves. So let&#39;s say 18 colors out of the 64 were place before the people lost. I want to get the 18 as the amount of moves made"}],"answers":[{"tags":[],"owner":{"account_id":24166624,"reputation":39,"user_id":18129365,"display_name":"ewoloschuk"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649108188,"creation_date":1649108188,"answer_id":71743991,"question_id":71743686,"body_markdown":"You can initialize a counter variable. Something like int numMoves = 0; Then, after every move, you can increment this by 1 by doing: numMoves++;","title":"How do you make your programme keep track of the amount of input you are putting in","body":"<p>You can initialize a counter variable. Something like int numMoves = 0; Then, after every move, you can increment this by 1 by doing: numMoves++;</p>\n"}],"owner":{"account_id":24749817,"reputation":1,"user_id":18635480,"display_name":"Joshua"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649109614,"creation_date":1649106098,"question_id":71743686,"body_markdown":"I&#39;m using \r\nint moves = StdIn.readInt();\r\nAnd I would like to know what code to use to make my program keep track of the amount of input and not the actual input. So when I&#39;m playing a board game. I need the amount of moves printed out at the end of the game. Its between 3 and 64. But I&#39;m unsure of how to code it. I&#39;m using java. And eclipse. Please help.","title":"How do you make your programme keep track of the amount of input you are putting in","body":"<p>I'm using\nint moves = StdIn.readInt();\nAnd I would like to know what code to use to make my program keep track of the amount of input and not the actual input. So when I'm playing a board game. I need the amount of moves printed out at the end of the game. Its between 3 and 64. But I'm unsure of how to code it. I'm using java. And eclipse. Please help.</p>\n"},{"tags":["java","spring","spring-boot","postman","http-status-code-404"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1649104420,"post_id":71743297,"comment_id":126787393,"body_markdown":"Can you show a screenshot of the request you send in Postman (verify that you&#39;re using &quot;POST&quot;). Do the other requests work with Postman?","body":"Can you show a screenshot of the request you send in Postman (verify that you&#39;re using &quot;POST&quot;). Do the other requests work with Postman?"},{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1649108155,"post_id":71743297,"comment_id":126788272,"body_markdown":"also , share the post body request","body":"also , share the post body request"},{"owner":{"account_id":24826473,"reputation":1,"user_id":18706183,"display_name":"devils123"},"score":0,"creation_date":1649112177,"post_id":71743297,"comment_id":126789176,"body_markdown":"Yes, it looks like this:  [Postman scr](https://imgur.com/a/F5SvVtA) I also set in header content-type: application/json","body":"Yes, it looks like this:  <a href=\"https://imgur.com/a/F5SvVtA\" rel=\"nofollow noreferrer\">Postman scr</a> I also set in header content-type: application/json"}],"answers":[{"tags":[],"owner":{"account_id":2297930,"reputation":98,"user_id":2018929,"display_name":"Guillaume Macke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649109475,"creation_date":1649109475,"answer_id":71744194,"question_id":71743297,"body_markdown":"Have you specify the POST method in Postman ? \r\nAnd the body of your request ? \r\n\r\n[Postam sample][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZTXJi.png","title":"spring boot crud api receive 404 error from post request: postman","body":"<p>Have you specify the POST method in Postman ?\nAnd the body of your request ?</p>\n<p><a href=\"https://i.stack.imgur.com/ZTXJi.png\" rel=\"nofollow noreferrer\">Postam sample</a></p>\n"}],"owner":{"account_id":24826473,"reputation":1,"user_id":18706183,"display_name":"devils123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649109475,"creation_date":1649103476,"question_id":71743297,"body_markdown":"I am working on the CRUD rest API and application is turning on but when I&#39;m trying to make a post request there is a: &quot;status&quot;: 404, &quot;error&quot;: &quot;Not Found&quot;. On the postman, I also add header content-type: application/JSON and requesting at URL: http://localhost:8080/tickets.\r\n\r\nDo you know guys how to fix this?\r\nHere is the code.\r\n\r\nmodel:\r\n\r\n```\r\n\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table\r\npublic class Tickets {\r\n\r\n    @Id\r\n    @Column\r\n    private int ticketid;\r\n    @Column\r\n    private String title;\r\n    @Column\r\n    private String description;\r\n    @Column\r\n    private String creationDate;\r\n    @Column\r\n    private String severity;\r\n    @Column\r\n    private String status;\r\n\r\n    public int getTicketid() {\r\n        return ticketid;\r\n    }\r\n\r\n    public void setTicketid(int ticketid) {\r\n        this.ticketid = ticketid;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public String getCreationDate() {\r\n        return creationDate;\r\n    }\r\n\r\n    public void setCreationDate(String creationDate) {\r\n        this.creationDate = creationDate;\r\n    }\r\n\r\n    public String getSeverity() {\r\n        return severity;\r\n    }\r\n\r\n    public void setSeverity(String severity) {\r\n        this.severity = severity;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n}\r\n```\r\n\r\ncontroller:\r\n\r\n```\r\n\r\n\r\nimport com.cisco.interview.model.Tickets;\r\nimport com.cisco.interview.service.TicketsService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\npublic class TicketsController {\r\n\r\n    @Autowired\r\n    TicketsService ticketsService;\r\n\r\n    @GetMapping(&quot;/ticket&quot;)\r\n    private List&lt;Tickets&gt; getAllTickets() {\r\n        return ticketsService.getAllTickets();\r\n    }\r\n\r\n    @GetMapping(&quot;/ticket/{ticketid}&quot;)\r\n    private Tickets getTicket(@PathVariable(&quot;ticketid&quot;)int ticketid) {\r\n        return ticketsService.getTicketsById(ticketid);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/ticket/{ticketid}&quot;)\r\n    private void deleteTicket(@PathVariable(&quot;ticketid&quot;)int ticketid) {\r\n        ticketsService.deleteTicket(ticketid);\r\n    }\r\n\r\n    @PostMapping(value = &quot;/tickets&quot;)\r\n    private int saveTicket(@RequestBody Tickets tickets) {\r\n        ticketsService.saveUpdateTicket(tickets);\r\n        return tickets.getTicketid();\r\n    }\r\n\r\n    @PutMapping(&quot;/tickets&quot;)\r\n    private Tickets updateTicket(@RequestBody Tickets tickets) {\r\n        ticketsService.saveUpdateTicket(tickets);\r\n        return tickets;\r\n    }\r\n}\r\n```\r\n\r\nservice:\r\n\r\n```\r\n\r\n\r\nimport com.cisco.interview.model.Tickets;\r\nimport com.cisco.interview.repository.TicketsRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class TicketsService {\r\n\r\n    @Autowired\r\n    TicketsRepository ticketsRepository;\r\n\r\n    public List&lt;Tickets&gt; getAllTickets() {\r\n        List&lt;Tickets&gt; tickets = new ArrayList&lt;Tickets&gt;();\r\n        ticketsRepository.findAll().forEach(tickets1 -&gt; tickets.add(tickets1));\r\n        return tickets;\r\n    }\r\n\r\n    public Tickets getTicketsById(int id) {\r\n        return ticketsRepository.findById(id).get();\r\n    }\r\n\r\n    public void saveUpdateTicket(Tickets tickets) {\r\n        ticketsRepository.save(tickets);\r\n    }\r\n\r\n    public void deleteTicket(int id) {\r\n        ticketsRepository.deleteById(id);\r\n    }\r\n\r\n    public void update(Tickets tickets, int ticketid) {\r\n        ticketsRepository.save(tickets);\r\n    }\r\n}\r\n```\r\n\r\nrepository:\r\n\r\n```\r\n\r\nimport com.cisco.interview.model.Tickets;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\npublic interface TicketsRepository extends CrudRepository&lt;Tickets, Integer&gt; {\r\n\r\n}\r\n```\r\n\r\nim trying to make a post request at postman and getting 404 error","title":"spring boot crud api receive 404 error from post request: postman","body":"<p>I am working on the CRUD rest API and application is turning on but when I'm trying to make a post request there is a: &quot;status&quot;: 404, &quot;error&quot;: &quot;Not Found&quot;. On the postman, I also add header content-type: application/JSON and requesting at URL: http://localhost:8080/tickets.</p>\n<p>Do you know guys how to fix this?\nHere is the code.</p>\n<p>model:</p>\n<pre><code>\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table\npublic class Tickets {\n\n    @Id\n    @Column\n    private int ticketid;\n    @Column\n    private String title;\n    @Column\n    private String description;\n    @Column\n    private String creationDate;\n    @Column\n    private String severity;\n    @Column\n    private String status;\n\n    public int getTicketid() {\n        return ticketid;\n    }\n\n    public void setTicketid(int ticketid) {\n        this.ticketid = ticketid;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getCreationDate() {\n        return creationDate;\n    }\n\n    public void setCreationDate(String creationDate) {\n        this.creationDate = creationDate;\n    }\n\n    public String getSeverity() {\n        return severity;\n    }\n\n    public void setSeverity(String severity) {\n        this.severity = severity;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n}\n</code></pre>\n<p>controller:</p>\n<pre><code>\n\nimport com.cisco.interview.model.Tickets;\nimport com.cisco.interview.service.TicketsService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\npublic class TicketsController {\n\n    @Autowired\n    TicketsService ticketsService;\n\n    @GetMapping(&quot;/ticket&quot;)\n    private List&lt;Tickets&gt; getAllTickets() {\n        return ticketsService.getAllTickets();\n    }\n\n    @GetMapping(&quot;/ticket/{ticketid}&quot;)\n    private Tickets getTicket(@PathVariable(&quot;ticketid&quot;)int ticketid) {\n        return ticketsService.getTicketsById(ticketid);\n    }\n\n    @DeleteMapping(&quot;/ticket/{ticketid}&quot;)\n    private void deleteTicket(@PathVariable(&quot;ticketid&quot;)int ticketid) {\n        ticketsService.deleteTicket(ticketid);\n    }\n\n    @PostMapping(value = &quot;/tickets&quot;)\n    private int saveTicket(@RequestBody Tickets tickets) {\n        ticketsService.saveUpdateTicket(tickets);\n        return tickets.getTicketid();\n    }\n\n    @PutMapping(&quot;/tickets&quot;)\n    private Tickets updateTicket(@RequestBody Tickets tickets) {\n        ticketsService.saveUpdateTicket(tickets);\n        return tickets;\n    }\n}\n</code></pre>\n<p>service:</p>\n<pre><code>\n\nimport com.cisco.interview.model.Tickets;\nimport com.cisco.interview.repository.TicketsRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Service\npublic class TicketsService {\n\n    @Autowired\n    TicketsRepository ticketsRepository;\n\n    public List&lt;Tickets&gt; getAllTickets() {\n        List&lt;Tickets&gt; tickets = new ArrayList&lt;Tickets&gt;();\n        ticketsRepository.findAll().forEach(tickets1 -&gt; tickets.add(tickets1));\n        return tickets;\n    }\n\n    public Tickets getTicketsById(int id) {\n        return ticketsRepository.findById(id).get();\n    }\n\n    public void saveUpdateTicket(Tickets tickets) {\n        ticketsRepository.save(tickets);\n    }\n\n    public void deleteTicket(int id) {\n        ticketsRepository.deleteById(id);\n    }\n\n    public void update(Tickets tickets, int ticketid) {\n        ticketsRepository.save(tickets);\n    }\n}\n</code></pre>\n<p>repository:</p>\n<pre><code>\nimport com.cisco.interview.model.Tickets;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface TicketsRepository extends CrudRepository&lt;Tickets, Integer&gt; {\n\n}\n</code></pre>\n<p>im trying to make a post request at postman and getting 404 error</p>\n"},{"tags":["java","stream","compression"],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649029647,"creation_date":1649029019,"answer_id":71730650,"question_id":71730573,"body_markdown":"When I test this, `is.read(readBytes)` returns 505, the length of bytes read.  The other single-argument-array stream methods return `void` and guarantee that the entire array is read or written, but `is.read()` is a different API and requires that you check the amount of bytes actually read.\r\n\r\n        ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\r\n        System.err.println( &quot;bais size = &quot; + bais.available() );\r\n        InflaterInputStream is = new InflaterInputStream(bais);\r\n        byte[] readbytes = new byte[len];\r\n        System.err.println( &quot;read = &quot; + is.read(readbytes) );  // 505\r\n\r\nThis runs without throwing an error for me:\r\n\r\n        ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\r\n        System.err.println( &quot;bais size = &quot; + bais.available() );\r\n        InflaterInputStream is = new InflaterInputStream(bais);\r\n        byte[] readbytes = new byte[len];\r\n        for( int total = 0, result = 0; (result = is.read(readbytes, total, len-total )) != -1; )\r\n        {\r\n           total += result;\r\n           System.err.println( &quot;reading : &quot; + total );\r\n           if( total == len ) break;\r\n        }\r\n","title":"My DeflaterOutputStream/InputStream code corrupting data","body":"<p>When I test this, <code>is.read(readBytes)</code> returns 505, the length of bytes read.  The other single-argument-array stream methods return <code>void</code> and guarantee that the entire array is read or written, but <code>is.read()</code> is a different API and requires that you check the amount of bytes actually read.</p>\n<pre><code>    ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\n    System.err.println( &quot;bais size = &quot; + bais.available() );\n    InflaterInputStream is = new InflaterInputStream(bais);\n    byte[] readbytes = new byte[len];\n    System.err.println( &quot;read = &quot; + is.read(readbytes) );  // 505\n</code></pre>\n<p>This runs without throwing an error for me:</p>\n<pre><code>    ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\n    System.err.println( &quot;bais size = &quot; + bais.available() );\n    InflaterInputStream is = new InflaterInputStream(bais);\n    byte[] readbytes = new byte[len];\n    for( int total = 0, result = 0; (result = is.read(readbytes, total, len-total )) != -1; )\n    {\n       total += result;\n       System.err.println( &quot;reading : &quot; + total );\n       if( total == len ) break;\n    }\n</code></pre>\n"}],"owner":{"account_id":3033509,"reputation":539,"user_id":2572072,"accept_rate":38,"display_name":"Stik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71730650,"answer_count":1,"score":0,"last_activity_date":1649109375,"creation_date":1649028021,"question_id":71730573,"body_markdown":"I&#39;ve got a simple test case that fails to compress a stream of data.  I generate a `byte[]` of some random bytes, compress it via `DeflaterOutputStream`, `flush()` the stream, then reverse those operations to retrieve the original array.  At byte 505 the reconstructed stream starts to consist entirely of `0x00` bytes, and I don&#39;t understand why:\r\n\r\n```java\r\n\t\t//\r\n\t\t// create some random bytes\r\n\t\t//\r\n\t\tRandom rng = new Random();\r\n\t\tint len = 5000;\r\n\t\tbyte[] data = new byte[len];\r\n\t\tfor (int i = 0; i &lt; len; ++i)\r\n\t\t\tdata[i] = (byte) rng.nextInt(0xff);\r\n\r\n\t\t//\r\n\t\t// write to byte[] via a deflater stream\r\n\t\t//\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\tDeflaterOutputStream os = new DeflaterOutputStream(baos, true);\r\n\t\tos.write(data);\r\n\t\tos.flush();\r\n\r\n\t\t//\r\n\t\t// read back into byte[] via an inflater stream\r\n\t\t//\r\n\t\tByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\r\n\t\tInflaterInputStream is = new InflaterInputStream(bais);\r\n\t\tbyte[] readbytes = new byte[len];\r\n\t\tis.read(readbytes);\r\n\r\n\t\t//\r\n\t\t// check they match (they don&#39;t, at byte 505)\r\n\t\t//\r\n\t\tfor (int i = 0; i &lt; len; ++i)\r\n\t\t\tif (data[i] != readbytes[i])\r\n\t\t\t\tthrow new RuntimeException(&quot;Mismatch at position &quot; + i);\r\n```\r\n\r\nIt doesn&#39;t seem to matter what&#39;s in the source array, it&#39;s always at position 505 it fails.  \r\n\r\nHere&#39;s what the two `byte[]` arrays look like around the region they differ:\r\n\r\n```text\r\n?\\m&#183;g&#183;&#183;gWNLErZ&#183;&#183;&#183;,&#183;&#183;-&#183;&#183;=&#183;;n=&#183;&#183;F?&#183;&#183;&#183;13&#183;{&#183;rw&#183;&#183;&#183;&#183;&#183;&#183;&#183;\\`3&#183;&#183;&#183;f&#183;&#183;&#183;&#183;{/&#183;&#183;&#183;&#183;t&#183;1&#183;WK$&#183;&#183;&#183;&#183;&#183;&#183;&#183;WZ&#183;&#183;&#183;&#183;&#183;&#183;x\r\n?\\m&#183;g&#183;&#183;gWNLErZ&#183;&#183;&#183;,&#183;&#183;-&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;\r\n                       ^byte 505\r\n```\r\nAll those unprintable chars are `0x00` from that point on.  Why is this happening?  I feel like I must be misunderstanding something fundamental about how the Deflate/Inflate streams work.  The real-world use case here is a stream over a network that I thought I could easily improve the performance of by inserting Deflate/Inflate streams into\r\n\r\n","title":"My DeflaterOutputStream/InputStream code corrupting data","body":"<p>I've got a simple test case that fails to compress a stream of data.  I generate a <code>byte[]</code> of some random bytes, compress it via <code>DeflaterOutputStream</code>, <code>flush()</code> the stream, then reverse those operations to retrieve the original array.  At byte 505 the reconstructed stream starts to consist entirely of <code>0x00</code> bytes, and I don't understand why:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        //\n        // create some random bytes\n        //\n        Random rng = new Random();\n        int len = 5000;\n        byte[] data = new byte[len];\n        for (int i = 0; i &lt; len; ++i)\n            data[i] = (byte) rng.nextInt(0xff);\n\n        //\n        // write to byte[] via a deflater stream\n        //\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        DeflaterOutputStream os = new DeflaterOutputStream(baos, true);\n        os.write(data);\n        os.flush();\n\n        //\n        // read back into byte[] via an inflater stream\n        //\n        ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\n        InflaterInputStream is = new InflaterInputStream(bais);\n        byte[] readbytes = new byte[len];\n        is.read(readbytes);\n\n        //\n        // check they match (they don't, at byte 505)\n        //\n        for (int i = 0; i &lt; len; ++i)\n            if (data[i] != readbytes[i])\n                throw new RuntimeException(&quot;Mismatch at position &quot; + i);\n</code></pre>\n<p>It doesn't seem to matter what's in the source array, it's always at position 505 it fails.</p>\n<p>Here's what the two <code>byte[]</code> arrays look like around the region they differ:</p>\n<pre><code>?\\m·g··gWNLErZ···,··-··=·;n=··F?···13·{·rw·······\\`3···f····{/····t·1·WK$·······WZ······x\n?\\m·g··gWNLErZ···,··-····································································\n                       ^byte 505\n</code></pre>\n<p>All those unprintable chars are <code>0x00</code> from that point on.  Why is this happening?  I feel like I must be misunderstanding something fundamental about how the Deflate/Inflate streams work.  The real-world use case here is a stream over a network that I thought I could easily improve the performance of by inserting Deflate/Inflate streams into</p>\n"},{"tags":["java","performance","jmh"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649109279,"creation_date":1649109279,"answer_id":71744163,"question_id":71736845,"body_markdown":"&gt; I assume that the costs of calling String.valueOf() within benchmark method remained the same\r\n\r\nIt is not. In the first case, the method argument is constant, so JIT can apply the [Constant Propagation](https://en.wikipedia.org/wiki/Constant_folding) optimization.\r\n\r\nConsider a very simplified example:\r\n```java\r\nstatic char getLastDigit(int n) {\r\n    return (char) ((n % 10) + &#39;0&#39;);\r\n}\r\n\r\nchar c1 = getLastDigit(123);\r\n\r\nchar c2 = getLastDigit(this.n);\r\n```\r\n\r\nWhen `getLastDigit` is called with a constant, there is no need to execute the actual division or addition - JIT may replace the entire call with `char c1 = &#39;3&#39;;` It obviously can&#39;t do the same optimization with a variable.\r\n\r\nOf course, `Integer.getChars` is more complex, but it still may skip some comparisons and arithmetic operations when called with a constant.","title":"Field access costs and constant folding in JMH benchmark","body":"<blockquote>\n<p>I assume that the costs of calling String.valueOf() within benchmark method remained the same</p>\n</blockquote>\n<p>It is not. In the first case, the method argument is constant, so JIT can apply the <a href=\"https://en.wikipedia.org/wiki/Constant_folding\" rel=\"nofollow noreferrer\">Constant Propagation</a> optimization.</p>\n<p>Consider a very simplified example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static char getLastDigit(int n) {\n    return (char) ((n % 10) + '0');\n}\n\nchar c1 = getLastDigit(123);\n\nchar c2 = getLastDigit(this.n);\n</code></pre>\n<p>When <code>getLastDigit</code> is called with a constant, there is no need to execute the actual division or addition - JIT may replace the entire call with <code>char c1 = '3';</code> It obviously can't do the same optimization with a variable.</p>\n<p>Of course, <code>Integer.getChars</code> is more complex, but it still may skip some comparisons and arithmetic operations when called with a constant.</p>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71744163,"answer_count":1,"score":2,"last_activity_date":1649109279,"creation_date":1649073335,"question_id":71736845,"body_markdown":"I&#39;m running the following benchmark on Java 17:\r\n```java\r\n@State(Scope.Thread)\r\n@BenchmarkMode(Mode.AverageTime)\r\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n@Fork(jvmArgsAppend = {&quot;-Xms2g&quot;, &quot;-Xmx2g&quot;})\r\npublic class ValueOfBenchmark {\r\n    private final int value = 12345;\r\n\r\n    @Benchmark\r\n    public String concat() {\r\n        return &quot;&quot; + value;\r\n    }\r\n\r\n    @Benchmark\r\n    public String valueOf() {\r\n        return String.valueOf(value);\r\n    }\r\n}\r\n```\r\nAfter compilation I have this bytecode\r\n```\r\n  public concat()Ljava/lang/String;\r\n  @Lorg/openjdk/jmh/annotations/Benchmark;()\r\n   L0\r\n    LINENUMBER 21 L0\r\n    LDC &quot;12345&quot;\r\n    ARETURN\r\n   L1\r\n    LOCALVARIABLE this Lcom/tsypanov/ovn/ValueOfBenchmark; L0 L1 0\r\n    MAXSTACK = 1\r\n    MAXLOCALS = 1\r\n\r\n  // access flags 0x1\r\n  public valueOf()Ljava/lang/String;\r\n  @Lorg/openjdk/jmh/annotations/Benchmark;()\r\n   L0\r\n    LINENUMBER 26 L0\r\n    SIPUSH 12345\r\n    INVOKESTATIC java/lang/String.valueOf (I)Ljava/lang/String;\r\n    ARETURN\r\n   L1\r\n    LOCALVARIABLE this Lcom/tsypanov/ovn/ValueOfBenchmark; L0 L1 0\r\n    MAXSTACK = 1\r\n    MAXLOCALS = 1\r\n```\r\nHere I conclude that javac constant-folded the value of accessed field at compile time. In `concat` method it went even further and predicted eventual value to be returned from the method, but failed to do the same for `valueOf()` and as a result constant value of `12345` is pushed onto the stack with subsequent call to `String.valueOf()`.\r\n\r\nThis benchmark gives the following results:\r\n```\r\nBenchmark                 Mode  Cnt  Score   Error  Units\r\nValueOfBenchmark.concat   avgt   40  1,665 &#177; 0,006  ns/op\r\nValueOfBenchmark.valueOf  avgt   40  4,475 &#177; 0,217  ns/op\r\n```\r\n\r\nThen I remove `final` from `value` field declaration and recompile the benchmark:\r\n```\r\npublic concat()Ljava/lang/String;\r\n@Lorg/openjdk/jmh/annotations/Benchmark;()\r\n L0\r\n  LINENUMBER 21 L0\r\n  ALOAD 0\r\n  GETFIELD com/tsypanov/ovn/ValueOfBenchmark.value : I\r\n  INVOKEDYNAMIC makeConcatWithConstants(I)Ljava/lang/String; [\r\n    // handle kind 0x6 : INVOKESTATIC\r\n    java/lang/invoke/StringConcatFactory.makeConcatWithConstants(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/invoke/CallSite;\r\n    // arguments:\r\n    &quot;\\u0001&quot;\r\n  ]\r\n  ARETURN\r\n L1\r\n  LOCALVARIABLE this Lcom/tsypanov/ovn/ValueOfBenchmark; L0 L1 0\r\n  MAXSTACK = 1\r\n  MAXLOCALS = 1\r\n\r\n// access flags 0x1\r\npublic valueOf()Ljava/lang/String;\r\n@Lorg/openjdk/jmh/annotations/Benchmark;()\r\n L0\r\n  LINENUMBER 26 L0\r\n  ALOAD 0\r\n  GETFIELD com/tsypanov/ovn/ValueOfBenchmark.value : I\r\n  INVOKESTATIC java/lang/String.valueOf (I)Ljava/lang/String;\r\n  ARETURN\r\n L1\r\n  LOCALVARIABLE this Lcom/tsypanov/ovn/ValueOfBenchmark; L0 L1 0\r\n  MAXSTACK = 1\r\n  MAXLOCALS = 1\r\n```\r\nNow we have `invokedynamic` for `concat()` method, but `valueOf()` remained basically the same, the only difference is that int value is read from the field. This however brought significant regression of results:\r\n```\r\nBenchmark                 Mode  Cnt   Score   Error  Units\r\nValueOfBenchmark.concat   avgt   40   9,829 &#177; 0,059  ns/op\r\nValueOfBenchmark.valueOf  avgt   40  10,238 &#177; 0,463  ns/op\r\n```\r\nFor sure I expected this for `concat()` method as now we do concat two values into one String.\r\n\r\nBut what puzzles me is the regression of `valueOf()` method.\r\n\r\nI assume that the costs of calling `String.valueOf()` within benchmark method remained the same, so why does the field access become so expensive?","title":"Field access costs and constant folding in JMH benchmark","body":"<p>I'm running the following benchmark on Java 17:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@State(Scope.Thread)\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@Fork(jvmArgsAppend = {&quot;-Xms2g&quot;, &quot;-Xmx2g&quot;})\npublic class ValueOfBenchmark {\n    private final int value = 12345;\n\n    @Benchmark\n    public String concat() {\n        return &quot;&quot; + value;\n    }\n\n    @Benchmark\n    public String valueOf() {\n        return String.valueOf(value);\n    }\n}\n</code></pre>\n<p>After compilation I have this bytecode</p>\n<pre><code>  public concat()Ljava/lang/String;\n  @Lorg/openjdk/jmh/annotations/Benchmark;()\n   L0\n    LINENUMBER 21 L0\n    LDC &quot;12345&quot;\n    ARETURN\n   L1\n    LOCALVARIABLE this Lcom/tsypanov/ovn/ValueOfBenchmark; L0 L1 0\n    MAXSTACK = 1\n    MAXLOCALS = 1\n\n  // access flags 0x1\n  public valueOf()Ljava/lang/String;\n  @Lorg/openjdk/jmh/annotations/Benchmark;()\n   L0\n    LINENUMBER 26 L0\n    SIPUSH 12345\n    INVOKESTATIC java/lang/String.valueOf (I)Ljava/lang/String;\n    ARETURN\n   L1\n    LOCALVARIABLE this Lcom/tsypanov/ovn/ValueOfBenchmark; L0 L1 0\n    MAXSTACK = 1\n    MAXLOCALS = 1\n</code></pre>\n<p>Here I conclude that javac constant-folded the value of accessed field at compile time. In <code>concat</code> method it went even further and predicted eventual value to be returned from the method, but failed to do the same for <code>valueOf()</code> and as a result constant value of <code>12345</code> is pushed onto the stack with subsequent call to <code>String.valueOf()</code>.</p>\n<p>This benchmark gives the following results:</p>\n<pre><code>Benchmark                 Mode  Cnt  Score   Error  Units\nValueOfBenchmark.concat   avgt   40  1,665 ± 0,006  ns/op\nValueOfBenchmark.valueOf  avgt   40  4,475 ± 0,217  ns/op\n</code></pre>\n<p>Then I remove <code>final</code> from <code>value</code> field declaration and recompile the benchmark:</p>\n<pre><code>public concat()Ljava/lang/String;\n@Lorg/openjdk/jmh/annotations/Benchmark;()\n L0\n  LINENUMBER 21 L0\n  ALOAD 0\n  GETFIELD com/tsypanov/ovn/ValueOfBenchmark.value : I\n  INVOKEDYNAMIC makeConcatWithConstants(I)Ljava/lang/String; [\n    // handle kind 0x6 : INVOKESTATIC\n    java/lang/invoke/StringConcatFactory.makeConcatWithConstants(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/invoke/CallSite;\n    // arguments:\n    &quot;\\u0001&quot;\n  ]\n  ARETURN\n L1\n  LOCALVARIABLE this Lcom/tsypanov/ovn/ValueOfBenchmark; L0 L1 0\n  MAXSTACK = 1\n  MAXLOCALS = 1\n\n// access flags 0x1\npublic valueOf()Ljava/lang/String;\n@Lorg/openjdk/jmh/annotations/Benchmark;()\n L0\n  LINENUMBER 26 L0\n  ALOAD 0\n  GETFIELD com/tsypanov/ovn/ValueOfBenchmark.value : I\n  INVOKESTATIC java/lang/String.valueOf (I)Ljava/lang/String;\n  ARETURN\n L1\n  LOCALVARIABLE this Lcom/tsypanov/ovn/ValueOfBenchmark; L0 L1 0\n  MAXSTACK = 1\n  MAXLOCALS = 1\n</code></pre>\n<p>Now we have <code>invokedynamic</code> for <code>concat()</code> method, but <code>valueOf()</code> remained basically the same, the only difference is that int value is read from the field. This however brought significant regression of results:</p>\n<pre><code>Benchmark                 Mode  Cnt   Score   Error  Units\nValueOfBenchmark.concat   avgt   40   9,829 ± 0,059  ns/op\nValueOfBenchmark.valueOf  avgt   40  10,238 ± 0,463  ns/op\n</code></pre>\n<p>For sure I expected this for <code>concat()</code> method as now we do concat two values into one String.</p>\n<p>But what puzzles me is the regression of <code>valueOf()</code> method.</p>\n<p>I assume that the costs of calling <code>String.valueOf()</code> within benchmark method remained the same, so why does the field access become so expensive?</p>\n"},{"tags":["java","asynchronous"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1649098317,"post_id":71741976,"comment_id":126785565,"body_markdown":"`eventArrayCopy` is a function-local variable. Other calls to this function cannot change the value of another function. Where is `eventArray` defined? If this is global, then other threads or calls can modify it.","body":"<code>eventArrayCopy</code> is a function-local variable. Other calls to this function cannot change the value of another function. Where is <code>eventArray</code> defined? If this is global, then other threads or calls can modify it."},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1649109015,"post_id":71741976,"comment_id":126788482,"body_markdown":"eventArray is global, but is only used inside this monitor.","body":"eventArray is global, but is only used inside this monitor."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1649137559,"post_id":71741976,"comment_id":126792913,"body_markdown":"then why do you need to have it global, if only accessed from this monitor? Get rid of the `eventArray`, get rid of the monitor. Simply `eventArrayCopy = new JsonArray(); eventArrayCopy.add(body); /* rest of method */`.","body":"then why do you need to have it global, if only accessed from this monitor? Get rid of the <code>eventArray</code>, get rid of the monitor. Simply <code>eventArrayCopy = new JsonArray(); eventArrayCopy.add(body); &#47;* rest of method *&#47;</code>."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1649137585,"post_id":71741976,"comment_id":126792921,"body_markdown":"And btw: return `null` for a `CompletableFuture` type is generally bad – it forces you to add null checks all over your program. Why not return `CompletableFuture.completedFuture(null)` instead?","body":"And btw: return <code>null</code> for a <code>CompletableFuture</code> type is generally bad – it forces you to add null checks all over your program. Why not return <code>CompletableFuture.completedFuture(null)</code> instead?"}],"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649109051,"creation_date":1649096324,"question_id":71741976,"body_markdown":"in a service, we need to batch up calls to new relic logging.  The below code is supposed to send asnc an array of messages when a limit is reached.  However, we are losing messages.  We don&#39;t care about the result (although it would be nice to log an error).  In the below code, I would assume that when the monitor protected section is passed, a new caller of send could overwrite the eventArrayCopy in line 3?  I think the developer struggled because the parameter sent to the async call could not be a simple (safe) local variable.\r\n\r\n\r\n\r\n        @Override\r\n        public CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; send(JsonElement body)  {\r\n        final JsonArray eventArrayCopy = new JsonArray();\r\n\r\n        synchronized (monitor) {\r\n            eventArray.add(body);\r\n            log.info(&quot;added event to eventArray. array size:&quot; + eventArray.size());\r\n            if (eventArray.size() &lt; senderConfig.getEventPerRequest() &amp;&amp; !isTimeToSend()) \r\n         {\r\n                return null;\r\n            }\r\n            eventArrayCopy.addAll(eventArray);\r\n            eventArray = new JsonArray();\r\n        }\r\n\r\n        \r\n        return CompletableFuture.supplyAsync(()-&gt;sendEvents(eventArrayCopy));\r\n    }\r\n\r\n\r\neventArray is gobal,but is only used inside the monitor.","title":"java async future and concurrency","body":"<p>in a service, we need to batch up calls to new relic logging.  The below code is supposed to send asnc an array of messages when a limit is reached.  However, we are losing messages.  We don't care about the result (although it would be nice to log an error).  In the below code, I would assume that when the monitor protected section is passed, a new caller of send could overwrite the eventArrayCopy in line 3?  I think the developer struggled because the parameter sent to the async call could not be a simple (safe) local variable.</p>\n<pre><code>    @Override\n    public CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; send(JsonElement body)  {\n    final JsonArray eventArrayCopy = new JsonArray();\n\n    synchronized (monitor) {\n        eventArray.add(body);\n        log.info(&quot;added event to eventArray. array size:&quot; + eventArray.size());\n        if (eventArray.size() &lt; senderConfig.getEventPerRequest() &amp;&amp; !isTimeToSend()) \n     {\n            return null;\n        }\n        eventArrayCopy.addAll(eventArray);\n        eventArray = new JsonArray();\n    }\n\n    \n    return CompletableFuture.supplyAsync(()-&gt;sendEvents(eventArrayCopy));\n}\n</code></pre>\n<p>eventArray is gobal,but is only used inside the monitor.</p>\n"},{"tags":["java","annotations","cdi","java-ee-6","reflections"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1648914047,"post_id":71718844,"comment_id":126745945,"body_markdown":"What type of annotation is it? If it&#39;s a qualifier you can probably use `aClasses.select(...)`. You can extend `AnnotationLiteral` to get a literal annotation value that you can use for in the select call.","body":"What type of annotation is it? If it&#39;s a qualifier you can probably use <code>aClasses.select(...)</code>. You can extend <code>AnnotationLiteral</code> to get a literal annotation value that you can use for in the select call."},{"owner":{"account_id":7315288,"reputation":23,"user_id":5573164,"display_name":"geminal"},"score":0,"creation_date":1648915128,"post_id":71718844,"comment_id":126746174,"body_markdown":"No it is not a qualifier. I do not want to use a qualifier. I just want to &quot;scan&quot; all the classes with this annotation and take the information that is included. I cannot use it as a qualifier in my case.My annotation has these annotations\n@Target(value = ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)","body":"No it is not a qualifier. I do not want to use a qualifier. I just want to &quot;scan&quot; all the classes with this annotation and take the information that is included. I cannot use it as a qualifier in my case.My annotation has these annotations @Target(value = ElementType.TYPE) @Retention(RetentionPolicy.RUNTIME)"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1648915643,"post_id":71718844,"comment_id":126746271,"body_markdown":"Can you add `@Inherited` to your annotation? Then the proxy sub classes should inherit it.","body":"Can you add <code>@Inherited</code> to your annotation? Then the proxy sub classes should inherit it."},{"owner":{"account_id":7315288,"reputation":23,"user_id":5573164,"display_name":"geminal"},"score":0,"creation_date":1648918797,"post_id":71718844,"comment_id":126746879,"body_markdown":"Unfortunately it does not work. Something else that I do not know is why in different deployments I get sometime proxy for an object and some time no for the same one.","body":"Unfortunately it does not work. Something else that I do not know is why in different deployments I get sometime proxy for an object and some time no for the same one."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1648934059,"post_id":71718844,"comment_id":126749832,"body_markdown":"Like Rob Spoor writes, this is trivial to accomplish with a qualifier. On the other hand, I think it will most probably NOT work reliably without a qualifier. Can you explain (edit the question) what *exactly* are you trying to accomplish and why do you not want to use a qualifier?","body":"Like Rob Spoor writes, this is trivial to accomplish with a qualifier. On the other hand, I think it will most probably NOT work reliably without a qualifier. Can you explain (edit the question) what <i>exactly</i> are you trying to accomplish and why do you not want to use a qualifier?"},{"owner":{"account_id":7315288,"reputation":23,"user_id":5573164,"display_name":"geminal"},"score":0,"creation_date":1648940710,"post_id":71718844,"comment_id":126750865,"body_markdown":"The use of a qualifier is not so easy because I don&#39;t have any parameter to perform *implementations.select(....)* . I am not aware of how many implementations are there and if they are annotated. I am trying to generate a description from this annotations. Each annotation has information regarding each class.","body":"The use of a qualifier is not so easy because I don&#39;t have any parameter to perform <i>implementations.select(....)</i> . I am not aware of how many implementations are there and if they are annotated. I am trying to generate a description from this annotations. Each annotation has information regarding each class."},{"owner":{"account_id":7315288,"reputation":23,"user_id":5573164,"display_name":"geminal"},"score":0,"creation_date":1649402812,"post_id":71718844,"comment_id":126870901,"body_markdown":"Hello, so I see that I have to retry using it as a qualifier and I did. Again I have a proxy object of course but in this case I see the annotations(in debug mode). I tried to figure out how to take the annotations from proxy object using InvocationHandler. If you have any hint regarding this it would be helpful.","body":"Hello, so I see that I have to retry using it as a qualifier and I did. Again I have a proxy object of course but in this case I see the annotations(in debug mode). I tried to figure out how to take the annotations from proxy object using InvocationHandler. If you have any hint regarding this it would be helpful."}],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649108929,"creation_date":1649108929,"answer_id":71744118,"question_id":71718844,"body_markdown":"I think you would be better served by using a CDI Portable Extension, rather than a Singleton EJB. A couple of reasons\r\n\r\n * In CDI, everything is a proxy. So like some of the commenters have said, using reflection would be very fragile as it&#39;s not part of the spec. You&#39;re dealing with classes that are defined at runtime. It may work if you tie yourself to implementation-specific details, but it could break between releases of your CDI container.\r\n\r\n * The CDI Container will do all of the annotation scanning for you :) \r\n\r\n * A portable extension runs on startup, before other stuff starts flying around your app\r\n\r\n\r\nA google search gave me this guide, but there are lots of them: https://www.baeldung.com/cdi-portable-extension\r\n\r\nI think you would want to hook in `processAnnotatedType()` if you&#39;re modifying the bean declarations, or `afterBeanDiscovery()` if you&#39;re just documenting them as you said.\r\n\r\nWe actually have a CDI Portable Extension we use internally that does some config magic for environments. One of the config params is an annotation that is not a qualifier annotation, which sounds like what you want... the CDI container can get you the type, from which you can inspect the annotations. \r\n\r\nFinally, this is not directed related to your question but may be useful: If your annotations drive configuration through fields of the annotations, selecting them can be quite complicated because of how the Java type and inheritance system works with annotations. You may benefit by using `AnnotationLitreal` in those cases. Read up here on this useful utility class here: http://www.kurtsparber.de/?p=387\r\n\r\nEDIT:\r\nAnother side note... even thought I think you should switch to a Portable Extension, you shouldn&#39;t need @EJB&#39;s Singleton Startup anymore! you can do this with pure CDI: https://rmannibucau.wordpress.com/2015/03/10/cdi-and-startup/","title":"Class inspection via reflection API. Use of custom annotations","body":"<p>I think you would be better served by using a CDI Portable Extension, rather than a Singleton EJB. A couple of reasons</p>\n<ul>\n<li><p>In CDI, everything is a proxy. So like some of the commenters have said, using reflection would be very fragile as it's not part of the spec. You're dealing with classes that are defined at runtime. It may work if you tie yourself to implementation-specific details, but it could break between releases of your CDI container.</p>\n</li>\n<li><p>The CDI Container will do all of the annotation scanning for you :)</p>\n</li>\n<li><p>A portable extension runs on startup, before other stuff starts flying around your app</p>\n</li>\n</ul>\n<p>A google search gave me this guide, but there are lots of them: <a href=\"https://www.baeldung.com/cdi-portable-extension\" rel=\"nofollow noreferrer\">https://www.baeldung.com/cdi-portable-extension</a></p>\n<p>I think you would want to hook in <code>processAnnotatedType()</code> if you're modifying the bean declarations, or <code>afterBeanDiscovery()</code> if you're just documenting them as you said.</p>\n<p>We actually have a CDI Portable Extension we use internally that does some config magic for environments. One of the config params is an annotation that is not a qualifier annotation, which sounds like what you want... the CDI container can get you the type, from which you can inspect the annotations.</p>\n<p>Finally, this is not directed related to your question but may be useful: If your annotations drive configuration through fields of the annotations, selecting them can be quite complicated because of how the Java type and inheritance system works with annotations. You may benefit by using <code>AnnotationLitreal</code> in those cases. Read up here on this useful utility class here: <a href=\"http://www.kurtsparber.de/?p=387\" rel=\"nofollow noreferrer\">http://www.kurtsparber.de/?p=387</a></p>\n<p>EDIT:\nAnother side note... even thought I think you should switch to a Portable Extension, you shouldn't need @EJB's Singleton Startup anymore! you can do this with pure CDI: <a href=\"https://rmannibucau.wordpress.com/2015/03/10/cdi-and-startup/\" rel=\"nofollow noreferrer\">https://rmannibucau.wordpress.com/2015/03/10/cdi-and-startup/</a></p>\n"}],"owner":{"account_id":7315288,"reputation":23,"user_id":5573164,"display_name":"geminal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649108929,"creation_date":1648913094,"question_id":71718844,"body_markdown":"I have done my research before asking but no luck.\r\n\r\nI have a StartUp Singleton bean. In this bean I have an @Inject @Any Instance. I loop all the implementations and try to check if the class is annotated with a custom annotation. All the implementations(all the classes that I want to inspect) are Stateful or Stateless beans.\r\nSometime the class I want is found and I can perform getClass().isAnnotationPresent(ClassNameAnnotation.class)\r\n\r\nMost of the times I get a proxy object and in this case I cannot perform the above check.\r\nI cannot find a way to get the real object. I have tried to get the SuperClass but not luck.\r\nI will attach some of the code so you can have a better idea.\r\n\r\n```\r\n@Singleton\r\n@Startup\r\npublic class CacheLoader {\r\n\r\n    @Inject\r\n    @Any\r\n    private Instance&lt;ClassNameA&gt; aClasses;\r\n\r\n   .......\r\n\r\n    @Lock(LockType.READ)\r\n    public void evaluate() {\r\n\r\n        if (!aClasses.isUnsatisfied()) {\r\n            for (ClassNameA className : aClasses) {\r\n                if (className.getClass().isAnnotationPresent(ClassNameAnnotation.class)) {\r\n                    ....\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nI tried to use the SuperClass of the proxy object but it does not return what I want. I tried also via Proxy.getInvocationHandler(). Even when I check the methods Proxy.isProxyClass(getClass()) or isSynthetic() does not return that the object is a proxy. \r\n\r\nThank you!","title":"Class inspection via reflection API. Use of custom annotations","body":"<p>I have done my research before asking but no luck.</p>\n<p>I have a StartUp Singleton bean. In this bean I have an @Inject @Any Instance. I loop all the implementations and try to check if the class is annotated with a custom annotation. All the implementations(all the classes that I want to inspect) are Stateful or Stateless beans.\nSometime the class I want is found and I can perform getClass().isAnnotationPresent(ClassNameAnnotation.class)</p>\n<p>Most of the times I get a proxy object and in this case I cannot perform the above check.\nI cannot find a way to get the real object. I have tried to get the SuperClass but not luck.\nI will attach some of the code so you can have a better idea.</p>\n<pre><code>@Singleton\n@Startup\npublic class CacheLoader {\n\n    @Inject\n    @Any\n    private Instance&lt;ClassNameA&gt; aClasses;\n\n   .......\n\n    @Lock(LockType.READ)\n    public void evaluate() {\n\n        if (!aClasses.isUnsatisfied()) {\n            for (ClassNameA className : aClasses) {\n                if (className.getClass().isAnnotationPresent(ClassNameAnnotation.class)) {\n                    ....\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>I tried to use the SuperClass of the proxy object but it does not return what I want. I tried also via Proxy.getInvocationHandler(). Even when I check the methods Proxy.isProxyClass(getClass()) or isSynthetic() does not return that the object is a proxy.</p>\n<p>Thank you!</p>\n"},{"tags":["java","javafx","javafx-8","draggable"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1649065086,"post_id":71732537,"comment_id":126773011,"body_markdown":"dashboard.setDragView(chessImg)? If that doesn&#39;t meet your requirements, you&#39;ll have to handle the &quot;live&quot; move/drag yourself, as in the example you referenced.","body":"dashboard.setDragView(chessImg)? If that doesn&#39;t meet your requirements, you&#39;ll have to handle the &quot;live&quot; move/drag yourself, as in the example you referenced."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1649065947,"post_id":71732537,"comment_id":126773314,"body_markdown":".. or content.putImage(chessImg)?","body":".. or content.putImage(chessImg)?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1649109438,"post_id":71732537,"comment_id":126788583,"body_markdown":"The nice [paper doll app from Oracle](https://docs.oracle.com/javase/8/javafx/events-tutorial/paper-doll.htm#CBHFHJID) ([source here](https://docs.oracle.com/javase/8/javafx/events-tutorial/paperdolljava.htm#BGBBGDHB)) can be enhanced with a drag view by adding the line `db.setDragView(currentImage.getImage());` to the `setOnDragDetected` event handler defined in the Cloth class.  I tried it on a Mac, it worked great and was a nice touch for the app.","body":"The nice <a href=\"https://docs.oracle.com/javase/8/javafx/events-tutorial/paper-doll.htm#CBHFHJID\" rel=\"nofollow noreferrer\">paper doll app from Oracle</a> (<a href=\"https://docs.oracle.com/javase/8/javafx/events-tutorial/paperdolljava.htm#BGBBGDHB\" rel=\"nofollow noreferrer\">source here</a>) can be enhanced with a drag view by adding the line <code>db.setDragView(currentImage.getImage());</code> to the <code>setOnDragDetected</code> event handler defined in the Cloth class.  I tried it on a Mac, it worked great and was a nice touch for the app."},{"owner":{"account_id":9361550,"reputation":25,"user_id":6947715,"display_name":"Roy K."},"score":0,"creation_date":1649135886,"post_id":71732537,"comment_id":126792600,"body_markdown":"db.setDragView(chessImg) worked!","body":"db.setDragView(chessImg) worked!"}],"owner":{"account_id":9361550,"reputation":25,"user_id":6947715,"display_name":"Roy K."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1649108593,"answer_count":0,"score":1,"last_activity_date":1649108616,"creation_date":1649051175,"question_id":71732537,"body_markdown":"**GOAL:**\r\nI wish to change the white file icon that appears when dragging a node that has implemented setOnDragDetected. More specifically, I&#39;m recreating chess in JavaFX, and want to have a chess piece image appear when dragging, instead of the current white file image, like as shown below.\r\n\r\n[![Dragging an Image from one node to another][1]][1]\r\n\r\n\r\n**CODE:** I&#39;ve created a minimal example:\r\n```\r\npackage application;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.event.EventHandler;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.input.ClipboardContent;\r\nimport javafx.scene.input.DragEvent;\r\nimport javafx.scene.input.Dragboard;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.input.TransferMode;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.scene.text.Text;\r\n\r\n\r\npublic class StackOverflowSample extends Application {\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n\t\ttry {\r\n\r\n\t\t\tprimaryStage.setTitle(&quot;Chess Sample&quot;);\r\n\t\t\tGroup root = new Group();\r\n\t\t\tScene scene = new Scene(root, 400, 200);\r\n\r\n\t\t\t/* 1. Setting up Chess squares (aka stackpanes)*/\r\n\t\t\tStackPane source1 = new StackPane(new Rectangle(100,100,Color.BLUE));\r\n\t\t\tStackPane target1 = new StackPane(new Rectangle(100,100,Color.LIGHTBLUE));\r\n\t\t\tsource1.setLayoutX(50);\r\n\t\t\tsource1.setLayoutY(50);\r\n\t\t\ttarget1.setLayoutX(250);\r\n\t\t\ttarget1.setLayoutY(50);\r\n\r\n\t\t\t/*2. Setting up the chess piece to move*/\r\n\t\t\tImage whiteKnightImg = new Image(&quot;https://www.kindpng.com/picc/m/22-223299_white-knight-chess-png-transparent-png.png&quot;, 90,90,true,true);\r\n\t\t\tImageView whiteKnightView = new ImageView(whiteKnightImg);\r\n\t\t\tsource1.getChildren().add(whiteKnightView);\r\n\t\t\r\n\r\n\t\t\t/* 3. Adding Drag and Drop Functionality*/\r\n\t\t\tsource1.setOnDragDetected(new EventHandler&lt;MouseEvent&gt;() {\r\n\t\t\t\tpublic void handle(MouseEvent event) {\r\n\r\n\t\t\t\t\tDragboard db = source1.startDragAndDrop(TransferMode.ANY);\r\n\t\t\t\t\tClipboardContent content = new ClipboardContent();\r\n\r\n\t\t\t\t\tcontent.putString(&quot;hasPiece&quot;);\r\n\t\t\t\t\tdb.setContent(content);\r\n\t\t\t\t\tevent.consume();\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\ttarget1.setOnDragOver(new EventHandler &lt;DragEvent&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void handle(DragEvent event) {\r\n\t\t\t\t\tif (event.getGestureSource() != target1 &amp;&amp; event.getDragboard().hasString()) {\r\n\t\t\t\t\t\tevent.acceptTransferModes(TransferMode.MOVE);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevent.consume();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\ttarget1.setOnDragDropped(new EventHandler&lt;DragEvent&gt;() {\r\n\t\t\t\tpublic void handle(DragEvent event) {\r\n\t\t\t\t\tDragboard db = event.getDragboard();\r\n\t\t\t\t\tboolean success = false;\r\n\t\t\t\t\tif (db.hasString()) {\r\n\t\t\t\t\t\ttarget1.getChildren().add(whiteKnightView);\r\n\t\t\t\t\t\tsuccess = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevent.setDropCompleted(success);\r\n\t\t\t\t\tevent.consume();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tsource1.setOnDragDone(new EventHandler&lt;DragEvent&gt;() {\r\n\t\t\t\tpublic void handle(DragEvent event) {\r\n\t\t\t\t\tif (event.getTransferMode() == TransferMode.MOVE) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;success&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevent.consume();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t\r\n\t\t\troot.getChildren().addAll(source1,target1);\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**POSSIBLE SOLUTIONS:**\r\n\r\n1. Java Source Code. Maybe there&#39;s a way to inherit the Node class that implement the dragging related methods. I took a look at the source code for JavaFX.scene.Node and found the section related to setOnDragDetected, but didn&#39;t look into it any further.\r\n\r\n```\r\n    public final void setOnDragDetected(\r\n            EventHandler&lt;? super MouseEvent&gt; value) {\r\n        onDragDetectedProperty().set(value);\r\n    }\r\n\r\n    public final EventHandler&lt;? super MouseEvent&gt; getOnDragDetected() {\r\n        return (eventHandlerProperties == null)\r\n                ? null : eventHandlerProperties.getOnDragDetected();\r\n    }\r\n\r\n    /**\r\n     * Defines a function to be called when drag gesture has been\r\n     * detected. This is the right place to start drag and drop operation.\r\n     * @return the event handler that is called when drag gesture has been\r\n     * detected\r\n     */\r\n    public final ObjectProperty&lt;EventHandler&lt;? super MouseEvent&gt;&gt;\r\n            onDragDetectedProperty() {\r\n        return getEventHandlerProperties().onDragDetectedProperty();\r\n    }\r\n```\r\n\r\n2. It&#39;s not possible. I&#39;ve considered that it&#39;s not something that can be changed. believe it&#39;s possible that it&#39;s impossible to change this white icon, so I might just change my approach entirely. Instead of using StackPanes as squares that also hold images, I&#39;m considering [this tutorial][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RIYzZ.gif\r\n  [2]: http://java-buddy.blogspot.com/2013/07/javafx-drag-and-move-something.html","title":"Is it possible to change the white file icon that appears when dragging a node with setOnDragDetected? (JavaFX)","body":"<p><strong>GOAL:</strong>\nI wish to change the white file icon that appears when dragging a node that has implemented setOnDragDetected. More specifically, I'm recreating chess in JavaFX, and want to have a chess piece image appear when dragging, instead of the current white file image, like as shown below.</p>\n<p><a href=\"https://i.stack.imgur.com/RIYzZ.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RIYzZ.gif\" alt=\"Dragging an Image from one node to another\" /></a></p>\n<p><strong>CODE:</strong> I've created a minimal example:</p>\n<pre><code>package application;\n\nimport javafx.application.Application;\nimport javafx.event.EventHandler;\nimport javafx.stage.Stage;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.input.ClipboardContent;\nimport javafx.scene.input.DragEvent;\nimport javafx.scene.input.Dragboard;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.input.TransferMode;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.text.Text;\n\n\npublic class StackOverflowSample extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n\n            primaryStage.setTitle(&quot;Chess Sample&quot;);\n            Group root = new Group();\n            Scene scene = new Scene(root, 400, 200);\n\n            /* 1. Setting up Chess squares (aka stackpanes)*/\n            StackPane source1 = new StackPane(new Rectangle(100,100,Color.BLUE));\n            StackPane target1 = new StackPane(new Rectangle(100,100,Color.LIGHTBLUE));\n            source1.setLayoutX(50);\n            source1.setLayoutY(50);\n            target1.setLayoutX(250);\n            target1.setLayoutY(50);\n\n            /*2. Setting up the chess piece to move*/\n            Image whiteKnightImg = new Image(&quot;https://www.kindpng.com/picc/m/22-223299_white-knight-chess-png-transparent-png.png&quot;, 90,90,true,true);\n            ImageView whiteKnightView = new ImageView(whiteKnightImg);\n            source1.getChildren().add(whiteKnightView);\n        \n\n            /* 3. Adding Drag and Drop Functionality*/\n            source1.setOnDragDetected(new EventHandler&lt;MouseEvent&gt;() {\n                public void handle(MouseEvent event) {\n\n                    Dragboard db = source1.startDragAndDrop(TransferMode.ANY);\n                    ClipboardContent content = new ClipboardContent();\n\n                    content.putString(&quot;hasPiece&quot;);\n                    db.setContent(content);\n                    event.consume();\n\n                }\n            });\n\n            target1.setOnDragOver(new EventHandler &lt;DragEvent&gt;() {\n                @Override\n                public void handle(DragEvent event) {\n                    if (event.getGestureSource() != target1 &amp;&amp; event.getDragboard().hasString()) {\n                        event.acceptTransferModes(TransferMode.MOVE);\n                    }\n                    event.consume();\n                }\n            });\n\n            target1.setOnDragDropped(new EventHandler&lt;DragEvent&gt;() {\n                public void handle(DragEvent event) {\n                    Dragboard db = event.getDragboard();\n                    boolean success = false;\n                    if (db.hasString()) {\n                        target1.getChildren().add(whiteKnightView);\n                        success = true;\n                    }\n                    event.setDropCompleted(success);\n                    event.consume();\n                }\n            });\n\n            source1.setOnDragDone(new EventHandler&lt;DragEvent&gt;() {\n                public void handle(DragEvent event) {\n                    if (event.getTransferMode() == TransferMode.MOVE) {\n                        System.out.println(&quot;success&quot;);\n                    }\n                    event.consume();\n                }\n            });\n\n            \n            root.getChildren().addAll(source1,target1);\n            primaryStage.setScene(scene);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\n</code></pre>\n<p><strong>POSSIBLE SOLUTIONS:</strong></p>\n<ol>\n<li>Java Source Code. Maybe there's a way to inherit the Node class that implement the dragging related methods. I took a look at the source code for JavaFX.scene.Node and found the section related to setOnDragDetected, but didn't look into it any further.</li>\n</ol>\n<pre><code>    public final void setOnDragDetected(\n            EventHandler&lt;? super MouseEvent&gt; value) {\n        onDragDetectedProperty().set(value);\n    }\n\n    public final EventHandler&lt;? super MouseEvent&gt; getOnDragDetected() {\n        return (eventHandlerProperties == null)\n                ? null : eventHandlerProperties.getOnDragDetected();\n    }\n\n    /**\n     * Defines a function to be called when drag gesture has been\n     * detected. This is the right place to start drag and drop operation.\n     * @return the event handler that is called when drag gesture has been\n     * detected\n     */\n    public final ObjectProperty&lt;EventHandler&lt;? super MouseEvent&gt;&gt;\n            onDragDetectedProperty() {\n        return getEventHandlerProperties().onDragDetectedProperty();\n    }\n</code></pre>\n<ol start=\"2\">\n<li>It's not possible. I've considered that it's not something that can be changed. believe it's possible that it's impossible to change this white icon, so I might just change my approach entirely. Instead of using StackPanes as squares that also hold images, I'm considering <a href=\"http://java-buddy.blogspot.com/2013/07/javafx-drag-and-move-something.html\" rel=\"nofollow noreferrer\">this tutorial</a>.</li>\n</ol>\n"},{"tags":["java","reactjs","spring-boot","rest","servlet-filters"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649084915,"creation_date":1649084915,"answer_id":71739584,"question_id":71739175,"body_markdown":"&gt; Java can be so frustrating and outdated sometimes, when you end up\r\n&gt; wasting 10 hours getting simple things to work.\r\n\r\nThis can&#39;t be said. It is just that you miss much important info to understand why it is failing.\r\n\r\n**1st)**\r\n\r\n    http.formLogin()\r\n                    .loginPage(&quot;/&quot;)\r\n                    .loginProcessingUrl(&quot;/login&quot;)\r\n                    .defaultSuccessUrl(&quot;/auth-success&quot;)\r\n                    .failureUrl(&quot;/auth-failure&quot;);\r\n\r\nThis is intended to be used with Spring MVC not in scope of Rest Spring Boot application indicated by the use of `@RestController`. Spring login form is intended to deliver an html form and the system uses the MVC pattern to make the authorization. It does not match your needs where, you have another frontend with another framework doing simple ajax calls.\r\n\r\n**2nd)**\r\n\r\nAfter you understand why (1) fails you have to decide which path you can go down to. You can switch to basic authentication or you can try to implement something more complex like JWT authentication token. There are more solutions available if you search enough, but I would say the most common ones are the ones I mention here.\r\n\r\nAdjust your application to use one of those security structures, then update your frontend to make such calls and you should be fine.","title":"Request parameter in Spring Boot is null when submitting JavaScript request but works with normal request","body":"<blockquote>\n<p>Java can be so frustrating and outdated sometimes, when you end up\nwasting 10 hours getting simple things to work.</p>\n</blockquote>\n<p>This can't be said. It is just that you miss much important info to understand why it is failing.</p>\n<p><strong>1st)</strong></p>\n<pre><code>http.formLogin()\n                .loginPage(&quot;/&quot;)\n                .loginProcessingUrl(&quot;/login&quot;)\n                .defaultSuccessUrl(&quot;/auth-success&quot;)\n                .failureUrl(&quot;/auth-failure&quot;);\n</code></pre>\n<p>This is intended to be used with Spring MVC not in scope of Rest Spring Boot application indicated by the use of <code>@RestController</code>. Spring login form is intended to deliver an html form and the system uses the MVC pattern to make the authorization. It does not match your needs where, you have another frontend with another framework doing simple ajax calls.</p>\n<p><strong>2nd)</strong></p>\n<p>After you understand why (1) fails you have to decide which path you can go down to. You can switch to basic authentication or you can try to implement something more complex like JWT authentication token. There are more solutions available if you search enough, but I would say the most common ones are the ones I mention here.</p>\n<p>Adjust your application to use one of those security structures, then update your frontend to make such calls and you should be fine.</p>\n"}],"owner":{"display_name":"user16422658"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2901,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649108445,"creation_date":1649083283,"question_id":71739175,"body_markdown":"I have wasted 10 hours trying to figure out a simple thing.\r\n\r\nI have a React front-end and a Spring Boot back-end running on port 8080.\r\n\r\nI have my own login form at the front-end.\r\n\r\nAll I would like in an ideal world is let Spring Boot do its form validation as usual without that ugly bootstrap form.\r\n\r\nI have setup a basic in memory authentication just to practice and it just doesn&#39;t work\r\n\r\nI have two options:\r\n\r\n1) Try to modify formLogin() method in security class to get it to work (Im trying but failing)\r\n\r\n2) Handle authentication in a Rest endpoint and then set the Security context as a rest endpoint instead of in a filter\r\n\r\n\r\nHere is the code:\r\n\r\nConfiguration file:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurity extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private TestFilter testFilter;\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.inMemoryAuthentication()\r\n                    .withUser(&quot;mama&quot;)\r\n                    .password(&quot;mama&quot;)\r\n                    .roles(&quot;AUTH&quot;);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            //Request authorization\r\n            http\r\n                    .authorizeRequests()\r\n                    .mvcMatchers(&quot;/api/vault&quot;).hasRole(&quot;AUTH&quot;)\r\n                    .mvcMatchers(&quot;/api/vault/**&quot;).hasRole(&quot;AUTH&quot;)\r\n                    .mvcMatchers(&quot;/**&quot;).permitAll();\r\n    \r\n            //Disable default authentication behaviour:\r\n            //http.httpBasic().disable();\r\n    \r\n           http.formLogin()\r\n                    .loginPage(&quot;/&quot;)\r\n                    .loginProcessingUrl(&quot;/login&quot;)\r\n                    .defaultSuccessUrl(&quot;/auth-success&quot;)\r\n                    .failureUrl(&quot;/auth-failure&quot;);\r\n    \r\n            //CSRF Protection:\r\n            HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository();\r\n            repository.setHeaderName(&quot;X-CSRF-TOKEN&quot;);\r\n            repository.setParameterName(&quot;_csrf&quot;);\r\n            http.csrf()\r\n                    .csrfTokenRepository(repository);\r\n    \r\n            http.addFilterBefore(testFilter, UsernamePasswordAuthenticationFilter.class);\r\n    \r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder(){\r\n            return NoOpPasswordEncoder.getInstance();\r\n        }\r\n    }\r\n\r\n\r\nDefault Controller:\r\n\r\n    @Controller\r\n    public class App {\r\n    \r\n        /**\r\n         * \r\n         */\r\n        @GetMapping(value = &quot;/{path:[^\\\\.]*}&quot;)\r\n        public String index() {\r\n            return &quot;index&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nSimple Test API:\r\n\r\n    @RestController\r\n    public class TestApi {\r\n    \r\n        @GetMapping(value = &quot;/api/get-csrf&quot;, consumes = {&quot;application/json&quot;})\r\n        public CsrfTestResponse getCsrf(HttpServletRequest request){\r\n    \r\n            TestingLombokWorks testingLombokWorks = new TestingLombokWorks(&quot;Mama&quot;, &quot;Mama is the best!&quot;);\r\n    \r\n            CsrfToken token = new HttpSessionCsrfTokenRepository().loadToken(request);\r\n            CsrfTestResponse testResponse = new CsrfTestResponse();\r\n            testResponse.setCsrfHeaderName(token.getHeaderName());\r\n            testResponse.setCsrfParameterName(token.getParameterName());\r\n            testResponse.setCsrfToken(token.getToken());\r\n            testResponse.setTestingLombokWorks(testingLombokWorks);\r\n            return testResponse;\r\n        }\r\n    \r\n        @GetMapping(&quot;/api/welcome&quot;)\r\n        public String publicResource(){\r\n            return &quot;Welcome API!&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/api/login-success&quot;)\r\n        public String loginSuccess() {\r\n            return &quot;Login Successful!&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/api/post-test&quot;)\r\n        public CsrfTestResponse postTest(HttpServletRequest request){\r\n    \r\n            CsrfToken token = new HttpSessionCsrfTokenRepository().loadToken(request);\r\n    \r\n            CsrfTestResponse testResponse = new CsrfTestResponse();\r\n            testResponse.setCsrfHeaderName(token.getHeaderName());\r\n            testResponse.setCsrfParameterName(token.getParameterName());\r\n            testResponse.setCsrfToken(token.getToken());\r\n            return testResponse;\r\n        }\r\n    \r\n        @PostMapping(&quot;/login&quot;)\r\n        public String testLogin(){\r\n            return &quot;Login Works?!&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/auth-success&quot;)\r\n        public String authSuccess(){\r\n            return &quot;Auth Success!&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/auth-failure&quot;)\r\n        public String authFailure(){\r\n            return &quot;Auth Failure!&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nThe Filter to test:\r\n\r\n    @Component\r\n    public class TestFilter extends OncePerRequestFilter {\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n            System.out.println(&quot;Username?: &quot; + request.getParameter(&quot;username&quot;));\r\n            System.out.println(&quot;Password?: &quot; + request.getParameter(&quot;password&quot;));\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\nReact front-end:\r\n\r\n    import React from &#39;react&#39;\r\n    import { useForm } from &#39;react-hook-form&#39;\r\n    \r\n    export default function Login(props) {\r\n    \r\n        const {register, handleSubmit, formState} = useForm();\r\n    \r\n        return (\r\n            &lt;form onSubmit={handleSubmit((data, event) =&gt; {\r\n    \r\n                    event.preventDefault();\r\n    \r\n                    let formData = new FormData();\r\n                    formData.append(&quot;username&quot;, data.username);\r\n                    formData.append(&quot;password&quot;, data.password);\r\n    \r\n                    let body = new URLSearchParams(formData);\r\n    \r\n                    let str = `username=${data.username}&amp;password=${data.password}`;\r\n    \r\n                    console.log(str);\r\n    \r\n                    fetch(&#39;/login&#39;, {\r\n                        method: &#39;POST&#39;,\r\n                        credentials: &#39;include&#39;,\r\n                        headers: {\r\n                            &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n                            Accept: &#39;*/*&#39;,\r\n                            [props.csrfHeaderName]: props.csrfToken\r\n                        },\r\n                        body: str\r\n                    })\r\n                    .then(response =&gt; response.text())\r\n                    .then(data =&gt; console.log(data))\r\n                    .catch(error =&gt; console.log(error));\r\n                   \r\n                })}\r\n            &gt;\r\n                &lt;legend&gt;Login&lt;/legend&gt;\r\n                &lt;div&gt;\r\n                    &lt;input \r\n                        {\r\n                            ...register(&quot;username&quot;, {\r\n                                value: &quot;&quot;,\r\n                                required: true,\r\n                            })\r\n                        } \r\n                        type=&quot;text&quot;\r\n                        placeholder=&#39;Username: &#39;\r\n                    /&gt;\r\n                &lt;/div&gt;\r\n                &lt;div&gt;\r\n                    &lt;input \r\n                        {\r\n                            ...register(&quot;password&quot;, {\r\n                                value: &quot;&quot;,\r\n                                required: true,\r\n                            })\r\n                        } \r\n                        type=&quot;password&quot;\r\n                        placeholder=&#39;Password: &#39;\r\n                    /&gt;\r\n                &lt;/div&gt;\r\n                &lt;button type=&#39;submit&#39;&gt;Login&lt;/button&gt;\r\n            &lt;/form&gt;\r\n        )\r\n    }\r\n\r\n\r\nI have created a test filter just to test and it is proving my point.\r\nWhen the form is submitted with the normal server side rendered default Spring Boot form, the request works, but when the request is sent with JavaScript it fails.\r\n\r\nWhen I see the logs for the post request for login, I dont see it hitting that endpoint at all, instead it directly goes to /auth-failure:\r\n\r\n    Username?: null\r\n    Password?: null\r\n    Username?: null\r\n    Password?: null\r\n    2022-04-04 15:53:45.960 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\r\n    2022-04-04 15:53:45.960 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\r\n    2022-04-04 15:53:45.960 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\r\n    2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET &quot;/auth-failure&quot;, parameters={}\r\n    2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\r\n    2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;text/plain&#39;, given [*/*] and supported [text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json]\r\n    2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;Auth Failure!&quot;]\r\n    2022-04-04 15:53:45.962 DEBUG 20327 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n\r\nI would like to know what is the best way to do this simple authentication.\r\n\r\nI tried everything imaginable, I tried JSON post body with ObjectMapper, it threw the IOException with no meaningful error message,\r\n\r\nJava can be so frustrating and outdated sometimes, when you end up wasting 10 hours getting simple things to work.\r\n\r\nHere is an example of an article I have read: https://www.baeldung.com/spring-security-login-react\r\n\r\nI can&#39;t understand why Spring Boot cannot get the request parameters from a form if it is submitted via javascript but it can when it is submitted via the browser?\r\nHow does the server know this?\r\nI checked that they were not null on the client.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Request parameter in Spring Boot is null when submitting JavaScript request but works with normal request","body":"<p>I have wasted 10 hours trying to figure out a simple thing.</p>\n<p>I have a React front-end and a Spring Boot back-end running on port 8080.</p>\n<p>I have my own login form at the front-end.</p>\n<p>All I would like in an ideal world is let Spring Boot do its form validation as usual without that ugly bootstrap form.</p>\n<p>I have setup a basic in memory authentication just to practice and it just doesn't work</p>\n<p>I have two options:</p>\n<ol>\n<li><p>Try to modify formLogin() method in security class to get it to work (Im trying but failing)</p>\n</li>\n<li><p>Handle authentication in a Rest endpoint and then set the Security context as a rest endpoint instead of in a filter</p>\n</li>\n</ol>\n<p>Here is the code:</p>\n<p>Configuration file:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private TestFilter testFilter;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n                .withUser(&quot;mama&quot;)\n                .password(&quot;mama&quot;)\n                .roles(&quot;AUTH&quot;);\n    }\n\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        //Request authorization\n        http\n                .authorizeRequests()\n                .mvcMatchers(&quot;/api/vault&quot;).hasRole(&quot;AUTH&quot;)\n                .mvcMatchers(&quot;/api/vault/**&quot;).hasRole(&quot;AUTH&quot;)\n                .mvcMatchers(&quot;/**&quot;).permitAll();\n\n        //Disable default authentication behaviour:\n        //http.httpBasic().disable();\n\n       http.formLogin()\n                .loginPage(&quot;/&quot;)\n                .loginProcessingUrl(&quot;/login&quot;)\n                .defaultSuccessUrl(&quot;/auth-success&quot;)\n                .failureUrl(&quot;/auth-failure&quot;);\n\n        //CSRF Protection:\n        HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository();\n        repository.setHeaderName(&quot;X-CSRF-TOKEN&quot;);\n        repository.setParameterName(&quot;_csrf&quot;);\n        http.csrf()\n                .csrfTokenRepository(repository);\n\n        http.addFilterBefore(testFilter, UsernamePasswordAuthenticationFilter.class);\n\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return NoOpPasswordEncoder.getInstance();\n    }\n}\n</code></pre>\n<p>Default Controller:</p>\n<pre><code>@Controller\npublic class App {\n\n    /**\n     * \n     */\n    @GetMapping(value = &quot;/{path:[^\\\\.]*}&quot;)\n    public String index() {\n        return &quot;index&quot;;\n    }\n\n}\n</code></pre>\n<p>Simple Test API:</p>\n<pre><code>@RestController\npublic class TestApi {\n\n    @GetMapping(value = &quot;/api/get-csrf&quot;, consumes = {&quot;application/json&quot;})\n    public CsrfTestResponse getCsrf(HttpServletRequest request){\n\n        TestingLombokWorks testingLombokWorks = new TestingLombokWorks(&quot;Mama&quot;, &quot;Mama is the best!&quot;);\n\n        CsrfToken token = new HttpSessionCsrfTokenRepository().loadToken(request);\n        CsrfTestResponse testResponse = new CsrfTestResponse();\n        testResponse.setCsrfHeaderName(token.getHeaderName());\n        testResponse.setCsrfParameterName(token.getParameterName());\n        testResponse.setCsrfToken(token.getToken());\n        testResponse.setTestingLombokWorks(testingLombokWorks);\n        return testResponse;\n    }\n\n    @GetMapping(&quot;/api/welcome&quot;)\n    public String publicResource(){\n        return &quot;Welcome API!&quot;;\n    }\n\n    @GetMapping(&quot;/api/login-success&quot;)\n    public String loginSuccess() {\n        return &quot;Login Successful!&quot;;\n    }\n\n    @PostMapping(&quot;/api/post-test&quot;)\n    public CsrfTestResponse postTest(HttpServletRequest request){\n\n        CsrfToken token = new HttpSessionCsrfTokenRepository().loadToken(request);\n\n        CsrfTestResponse testResponse = new CsrfTestResponse();\n        testResponse.setCsrfHeaderName(token.getHeaderName());\n        testResponse.setCsrfParameterName(token.getParameterName());\n        testResponse.setCsrfToken(token.getToken());\n        return testResponse;\n    }\n\n    @PostMapping(&quot;/login&quot;)\n    public String testLogin(){\n        return &quot;Login Works?!&quot;;\n    }\n\n    @GetMapping(&quot;/auth-success&quot;)\n    public String authSuccess(){\n        return &quot;Auth Success!&quot;;\n    }\n\n    @GetMapping(&quot;/auth-failure&quot;)\n    public String authFailure(){\n        return &quot;Auth Failure!&quot;;\n    }\n\n}\n</code></pre>\n<p>The Filter to test:</p>\n<pre><code>@Component\npublic class TestFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        System.out.println(&quot;Username?: &quot; + request.getParameter(&quot;username&quot;));\n        System.out.println(&quot;Password?: &quot; + request.getParameter(&quot;password&quot;));\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>React front-end:</p>\n<pre><code>import React from 'react'\nimport { useForm } from 'react-hook-form'\n\nexport default function Login(props) {\n\n    const {register, handleSubmit, formState} = useForm();\n\n    return (\n        &lt;form onSubmit={handleSubmit((data, event) =&gt; {\n\n                event.preventDefault();\n\n                let formData = new FormData();\n                formData.append(&quot;username&quot;, data.username);\n                formData.append(&quot;password&quot;, data.password);\n\n                let body = new URLSearchParams(formData);\n\n                let str = `username=${data.username}&amp;password=${data.password}`;\n\n                console.log(str);\n\n                fetch('/login', {\n                    method: 'POST',\n                    credentials: 'include',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        Accept: '*/*',\n                        [props.csrfHeaderName]: props.csrfToken\n                    },\n                    body: str\n                })\n                .then(response =&gt; response.text())\n                .then(data =&gt; console.log(data))\n                .catch(error =&gt; console.log(error));\n               \n            })}\n        &gt;\n            &lt;legend&gt;Login&lt;/legend&gt;\n            &lt;div&gt;\n                &lt;input \n                    {\n                        ...register(&quot;username&quot;, {\n                            value: &quot;&quot;,\n                            required: true,\n                        })\n                    } \n                    type=&quot;text&quot;\n                    placeholder='Username: '\n                /&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;input \n                    {\n                        ...register(&quot;password&quot;, {\n                            value: &quot;&quot;,\n                            required: true,\n                        })\n                    } \n                    type=&quot;password&quot;\n                    placeholder='Password: '\n                /&gt;\n            &lt;/div&gt;\n            &lt;button type='submit'&gt;Login&lt;/button&gt;\n        &lt;/form&gt;\n    )\n}\n</code></pre>\n<p>I have created a test filter just to test and it is proving my point.\nWhen the form is submitted with the normal server side rendered default Spring Boot form, the request works, but when the request is sent with JavaScript it fails.</p>\n<p>When I see the logs for the post request for login, I dont see it hitting that endpoint at all, instead it directly goes to /auth-failure:</p>\n<pre><code>Username?: null\nPassword?: null\nUsername?: null\nPassword?: null\n2022-04-04 15:53:45.960 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\n2022-04-04 15:53:45.960 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\n2022-04-04 15:53:45.960 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\n2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET &quot;/auth-failure&quot;, parameters={}\n2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springreact.api.TestApi#authFailure()\n2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/plain', given [*/*] and supported [text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json]\n2022-04-04 15:53:45.961 DEBUG 20327 --- [nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;Auth Failure!&quot;]\n2022-04-04 15:53:45.962 DEBUG 20327 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n</code></pre>\n<p>I would like to know what is the best way to do this simple authentication.</p>\n<p>I tried everything imaginable, I tried JSON post body with ObjectMapper, it threw the IOException with no meaningful error message,</p>\n<p>Java can be so frustrating and outdated sometimes, when you end up wasting 10 hours getting simple things to work.</p>\n<p>Here is an example of an article I have read: <a href=\"https://www.baeldung.com/spring-security-login-react\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-login-react</a></p>\n<p>I can't understand why Spring Boot cannot get the request parameters from a form if it is submitted via javascript but it can when it is submitted via the browser?\nHow does the server know this?\nI checked that they were not null on the client.</p>\n"},{"tags":["java","eclipse","javafx","scenebuilder"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1649090462,"post_id":71737653,"comment_id":126783000,"body_markdown":"Check out [my answer in this other Q&amp;A](https://stackoverflow.com/questions/53237287/module-error-when-running-javafx-media-application/53237667#53237667) (but substitute `javafx.fxml` in place of `javafx.media`).","body":"Check out <a href=\"https://stackoverflow.com/questions/53237287/module-error-when-running-javafx-media-application/53237667#53237667\">my answer in this other Q&amp;A</a> (but substitute <code>javafx.fxml</code> in place of <code>javafx.media</code>)."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649077856,"creation_date":1649077856,"answer_id":71737854,"question_id":71737653,"body_markdown":"\r\nYou can validate that this answer from Github is the solution :\r\n&lt;a href=&quot;https://github.com/javafxports/openjdk-jfx/issues/548#:~:text=Hey%20!%20I%20fixed%20this%20problem%20by%20adding%20the%20configuration%20parameters%20%3A&quot;&gt;IllegalAccessError Java FX&lt;/a&gt;\r\n\r\n\r\nHey ! I fixed this problem by adding the configuration parameters :\r\n\r\n    --module-path &quot;your path\\javafx-sdk-15.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml\r\n\r\n","title":"JAVAFX ERROR (Exception in Application start method java.lang.reflect.InvocationTargetException)","body":"<p>You can validate that this answer from Github is the solution :\n<a href=\"https://github.com/javafxports/openjdk-jfx/issues/548#:~:text=Hey%20!%20I%20fixed%20this%20problem%20by%20adding%20the%20configuration%20parameters%20%3A\" rel=\"nofollow noreferrer\">IllegalAccessError Java FX</a></p>\n<p>Hey ! I fixed this problem by adding the configuration parameters :</p>\n<pre><code>--module-path &quot;your path\\javafx-sdk-15.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml\n</code></pre>\n"}],"owner":{"account_id":23332328,"reputation":1,"user_id":17408548,"display_name":"Adrian Carmona"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1915,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649108132,"answer_count":1,"score":0,"last_activity_date":1649108259,"creation_date":1649077091,"question_id":71737653,"body_markdown":"I tried to run my program, and I get this error. It used to work for me, but suddenly it stopped working. I have everything updated, and the fxml makes it an automatic scene builder. I tried to do things that I found out there, but nothing works for me. \r\n\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat javafx.graphics@18/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n    \tat javafx.graphics@18/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat javafx.graphics@18/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n    \tat javafx.graphics@18/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.lang.IllegalAccessError: class com.sun.javafx.fxml.FXMLLoaderHelper (in unnamed module @0x6908f47e) cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @0x6908f47e\r\n    \tat com.sun.javafx.fxml.FXMLLoaderHelper.&lt;clinit&gt;(FXMLLoaderHelper.java:38)\r\n    \tat javafx.fxml.FXMLLoader.&lt;clinit&gt;(FXMLLoader.java:2135)\r\n    \tat application.Main.start(Main.java:14)\r\n    \r\n    Exception running application application.Main\r\n\r\nThis is my main:\r\n\r\n    public class Main extends Application {\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\ttry {\r\n    \t\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;/view/expendedora.fxml&quot;));\r\n    \t\t\tScene scene = new Scene(root);\r\n    \t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n    \t\t\tprimaryStage.setScene(scene);\r\n    \t\t\tprimaryStage.setTitle(&quot;Maquina Expendedora&quot;);\r\n    \t\t\tprimaryStage.show();\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n\r\nAnd this .fxml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.image.Image?&gt;\r\n    &lt;?import javafx.scene.image.ImageView?&gt;\r\n    &lt;?import javafx.scene.layout.BorderPane?&gt;\r\n    &lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;?import javafx.scene.layout.Pane?&gt;\r\n    &lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;700.0&quot; prefWidth=&quot;700.0&quot; style=&quot;-fx-background-color: lightblue;&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.controller.ExpendedoraController&quot;&gt;","title":"JAVAFX ERROR (Exception in Application start method java.lang.reflect.InvocationTargetException)","body":"<p>I tried to run my program, and I get this error. It used to work for me, but suddenly it stopped working. I have everything updated, and the fxml makes it an automatic scene builder. I tried to do things that I found out there, but nothing works for me.</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics@18/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@18/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@18/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@18/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalAccessError: class com.sun.javafx.fxml.FXMLLoaderHelper (in unnamed module @0x6908f47e) cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @0x6908f47e\n    at com.sun.javafx.fxml.FXMLLoaderHelper.&lt;clinit&gt;(FXMLLoaderHelper.java:38)\n    at javafx.fxml.FXMLLoader.&lt;clinit&gt;(FXMLLoader.java:2135)\n    at application.Main.start(Main.java:14)\n\nException running application application.Main\n</code></pre>\n<p>This is my main:</p>\n<pre><code>public class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/view/expendedora.fxml&quot;));\n            Scene scene = new Scene(root);\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.setTitle(&quot;Maquina Expendedora&quot;);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n}\n</code></pre>\n<p>And this .fxml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;700.0&quot; prefWidth=&quot;700.0&quot; style=&quot;-fx-background-color: lightblue;&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.controller.ExpendedoraController&quot;&gt;\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":404900,"reputation":924,"user_id":773480,"accept_rate":80,"display_name":"tobi.g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649108126,"creation_date":1649108126,"answer_id":71743983,"question_id":71743818,"body_markdown":"Just call the getAdapterPosition() on your holder instead of the position and the lint should go away. Documentation states: \r\n\r\n&gt; RecyclerView will not call this method again if the position of the\r\n&gt; item changes in the data set unless the item itself is invalidated or\r\n&gt; the new position cannot be determined. For this reason, you should\r\n&gt; only use the position parameter while acquiring the related data item\r\n&gt; inside this method and should not keep a copy of it. If you need the\r\n&gt; position of an item later on (e.g. in a click listener), use\r\n&gt; getAdapterPosition() which will have the updated adapter position.\r\n\r\nHave a look here:\r\nhttps://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#onBindViewHolder%28VH,%20int%29","title":"call get Adapter Position error in Android Studio","body":"<p>Just call the getAdapterPosition() on your holder instead of the position and the lint should go away. Documentation states:</p>\n<blockquote>\n<p>RecyclerView will not call this method again if the position of the\nitem changes in the data set unless the item itself is invalidated or\nthe new position cannot be determined. For this reason, you should\nonly use the position parameter while acquiring the related data item\ninside this method and should not keep a copy of it. If you need the\nposition of an item later on (e.g. in a click listener), use\ngetAdapterPosition() which will have the updated adapter position.</p>\n</blockquote>\n<p>Have a look here:\n<a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#onBindViewHolder%28VH,%20int%29\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#onBindViewHolder%28VH,%20int%29</a></p>\n"}],"owner":{"account_id":23134501,"reputation":1,"user_id":17238912,"display_name":"Levi Ackerman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649108126,"creation_date":1649107083,"question_id":71743818,"body_markdown":"[enter image description here][1]so, when I write position on  43rd line, int position on 40th line should change into final int position, but it doesn&#39;t. so I think I have to use getAdapterPosition() instead, inside bind view holder method. but I don&#39;t know how? can anyone help me? thanks in advance!\r\n\r\nI tried to change int position into final int position manually let&#39;s say by myself tho didn&#39;t work.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MQofG.png","title":"call get Adapter Position error in Android Studio","body":"<p><a href=\"https://i.stack.imgur.com/MQofG.png\" rel=\"nofollow noreferrer\">enter image description here</a>so, when I write position on  43rd line, int position on 40th line should change into final int position, but it doesn't. so I think I have to use getAdapterPosition() instead, inside bind view holder method. but I don't know how? can anyone help me? thanks in advance!</p>\n<p>I tried to change int position into final int position manually let's say by myself tho didn't work.</p>\n"},{"tags":["java","image-processing","ffmpeg","blender","openexr"],"comments":[{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":0,"creation_date":1649108410,"post_id":71725213,"comment_id":126788335,"body_markdown":"Are you sure linearizeDepth is big endian? Are you sure the 3 color channels are written to the buffer as 3 planes one after the other sequentially (green plane width * height * 4 bytes, then blue plane width * height * 4 bytes then red plane width * height * 4 bytes)? What viewer are you using for displaying the exr image?","body":"Are you sure linearizeDepth is big endian? Are you sure the 3 color channels are written to the buffer as 3 planes one after the other sequentially (green plane width * height * 4 bytes, then blue plane width * height * 4 bytes then red plane width * height * 4 bytes)? What viewer are you using for displaying the exr image?"},{"owner":{"account_id":14974757,"reputation":300,"user_id":10810503,"display_name":"Chryfi"},"score":0,"creation_date":1649146611,"post_id":71725213,"comment_id":126795603,"body_markdown":"Yes, I was about to write that, I managed to fix it yesterday in the evening and hadn&#39;t had the time to write it here. I found out openEXR saves the R G B channels as separate &quot;images&quot; so to say... I found it through tests, but couldn&#39;t find it well explained in the file specs of openEXR","body":"Yes, I was about to write that, I managed to fix it yesterday in the evening and hadn&#39;t had the time to write it here. I found out openEXR saves the R G B channels as separate &quot;images&quot; so to say... I found it through tests, but couldn&#39;t find it well explained in the file specs of openEXR"}],"answers":[{"tags":[],"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649107467,"creation_date":1649023906,"answer_id":71730237,"question_id":71725213,"body_markdown":"The issue is the color conversion from `grayf32be` to `gbrpf32le`.  \r\n\r\nAssuming source pixel range is [0, 1] we may add format conversion filter: `-vf format=rgb48le` before converting the pixel format to `gbrpf32le`.  \r\n\r\nIt also looks like FFmpeg ignores the range arguments, the fix is adding scale filter: `scale=in_range=full:out_range=full`.  \r\n\r\nUpdated command:  \r\n\r\n    ffmpeg -y -f rawvideo -pix_fmt grayf32be -src_range 1 -s 192x108 -i in.raw -vf &quot;scale=in_range=full:out_range=full,format=rgb48le&quot; -vcodec exr -compression zip1 -pix_fmt gbrpf32le -dst_range 1 out.exr\r\n\r\n---\r\n\r\nReproducible example:  \r\n\r\n - Create 16 bits Tiff image (used as reference):  \r\n\r\n        ffmpeg -y -f lavfi -i testsrc=size=192x108:rate=1:duration=1 -pix_fmt gray16le in.tif\r\n\r\n - Convert the Tiff to float (big endian):  \r\n\r\n        ffmpeg -y -src_range 1 -i in.tif -pix_fmt grayf32be -dst_range 1 -f rawvideo in.raw\r\n\r\n - Convert from raw to OpenEXR format:  \r\n\r\n        ffmpeg -y -f rawvideo -pix_fmt grayf32be -src_range 1 -s 192x108 -i in.raw -vf &quot;scale=in_range=full:out_range=full,format=rgb48le&quot; -vcodec exr -compression zip1 -pix_fmt gbrpf32le -dst_range 1 out.exr\r\n\r\n---\r\n\r\nPython code for comparing the differences:  \r\n\r\n&lt;!-- language: lang-python --&gt;\r\n\r\n    img1 = cv2.imread(&#39;in.tif&#39;, cv2.IMREAD_UNCHANGED)\r\n    img2 = cv2.imread(&#39;out.exr&#39;, cv2.IMREAD_UNCHANGED)\r\n    \r\n    green_ch = img2[:, :, 1]  # Green channel\r\n    \r\n    max_abs_diff = np.max(np.abs(green_ch*65535 - img1.astype(float)))\r\n\r\nThe maximum difference is `3` (out of 65535 levels).  \r\nWe may have to play a bit with the filters arguments...\r\n\r\n---\r\n\r\nSince there are issues with FFmpeg color conversion and range conversion (so it seems), there is a change that you are not going to get the desired results until the issues are fixed.\r\n\r\n---\r\n\r\nUpdate:  \r\n---\r\n\r\nLooks like it&#39;s working when the pixel format of the input is `grayf32be` (three color channels planar format).  \r\n\r\nTesting:  \r\n\r\n - Create 16 bits Tiff image (used as reference):  \r\n\r\n        ffmpeg -y -f lavfi -i testsrc=size=192x108:rate=1:duration=1 -pix_fmt gray16le in.tif\r\n\r\n - Convert the Tiff to float (big endian):  \r\n\r\n        ffmpeg -y -src_range 1 -i in.tif -pix_fmt grayf32be -dst_range 1 -f rawvideo in.raw\r\n\r\n - Duplicate the &quot;Grayscale plane&quot; three times for getting 3 identical color planes (using &quot;concat protocol&quot; for avoiding any color conversion issues):  \r\n\r\n        ffmpeg -y -f rawvideo -pix_fmt grayf32be -s 192x108 -i &quot;concat:in.raw|in.raw|in.raw&quot; -f rawvideo in3.raw\r\n\r\n - Convert from 3 color channels raw to OpenEXR format:  \r\n\r\n        ffmpeg -y -f rawvideo -pix_fmt gbrpf32be -s 192x108 -i in3.raw -vcodec exr -compression zip1 -pix_fmt gbrpf32le out.exr\r\n\r\n---\r\n\r\nPython code for comparing the differences (compare 3 color channels):  \r\n\r\n&lt;!-- language: lang-python --&gt;\r\n\r\n    img1 = cv2.imread(&#39;in.tif&#39;, cv2.IMREAD_UNCHANGED)\r\n    img2 = cv2.imread(&#39;out.exr&#39;, cv2.IMREAD_UNCHANGED)\r\n    \r\n    blue_ch = img2[:, :, 0]  # Blue channel\r\n    green_ch = img2[:, :, 1]  # Green channel\r\n    red_ch = img2[:, :, 2]  # Red channel\r\n    \r\n    max_red_abs_diff = np.max(np.abs(red_ch*65535 - img1.astype(float)))\r\n    max_green_abs_diff = np.max(np.abs(green_ch*65535 - img1.astype(float)))\r\n    max_blue_abs_diff = np.max(np.abs(blue_ch*65535 - img1.astype(float)))\r\n\r\nThe maximum difference is `0.001953125` (negligible).  \r\n\r\n\r\n","title":"FFmpeg cant recognize 3 channels with each 32 bit","body":"<p>The issue is the color conversion from <code>grayf32be</code> to <code>gbrpf32le</code>.</p>\n<p>Assuming source pixel range is [0, 1] we may add format conversion filter: <code>-vf format=rgb48le</code> before converting the pixel format to <code>gbrpf32le</code>.</p>\n<p>It also looks like FFmpeg ignores the range arguments, the fix is adding scale filter: <code>scale=in_range=full:out_range=full</code>.</p>\n<p>Updated command:</p>\n<pre><code>ffmpeg -y -f rawvideo -pix_fmt grayf32be -src_range 1 -s 192x108 -i in.raw -vf &quot;scale=in_range=full:out_range=full,format=rgb48le&quot; -vcodec exr -compression zip1 -pix_fmt gbrpf32le -dst_range 1 out.exr\n</code></pre>\n<hr />\n<p>Reproducible example:</p>\n<ul>\n<li><p>Create 16 bits Tiff image (used as reference):</p>\n<pre><code> ffmpeg -y -f lavfi -i testsrc=size=192x108:rate=1:duration=1 -pix_fmt gray16le in.tif\n</code></pre>\n</li>\n<li><p>Convert the Tiff to float (big endian):</p>\n<pre><code> ffmpeg -y -src_range 1 -i in.tif -pix_fmt grayf32be -dst_range 1 -f rawvideo in.raw\n</code></pre>\n</li>\n<li><p>Convert from raw to OpenEXR format:</p>\n<pre><code> ffmpeg -y -f rawvideo -pix_fmt grayf32be -src_range 1 -s 192x108 -i in.raw -vf &quot;scale=in_range=full:out_range=full,format=rgb48le&quot; -vcodec exr -compression zip1 -pix_fmt gbrpf32le -dst_range 1 out.exr\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>Python code for comparing the differences:</p>\n<pre class=\"lang-python prettyprint-override\"><code>img1 = cv2.imread('in.tif', cv2.IMREAD_UNCHANGED)\nimg2 = cv2.imread('out.exr', cv2.IMREAD_UNCHANGED)\n\ngreen_ch = img2[:, :, 1]  # Green channel\n\nmax_abs_diff = np.max(np.abs(green_ch*65535 - img1.astype(float)))\n</code></pre>\n<p>The maximum difference is <code>3</code> (out of 65535 levels).<br />\nWe may have to play a bit with the filters arguments...</p>\n<hr />\n<p>Since there are issues with FFmpeg color conversion and range conversion (so it seems), there is a change that you are not going to get the desired results until the issues are fixed.</p>\n<hr />\n<h2>Update:</h2>\n<p>Looks like it's working when the pixel format of the input is <code>grayf32be</code> (three color channels planar format).</p>\n<p>Testing:</p>\n<ul>\n<li><p>Create 16 bits Tiff image (used as reference):</p>\n<pre><code> ffmpeg -y -f lavfi -i testsrc=size=192x108:rate=1:duration=1 -pix_fmt gray16le in.tif\n</code></pre>\n</li>\n<li><p>Convert the Tiff to float (big endian):</p>\n<pre><code> ffmpeg -y -src_range 1 -i in.tif -pix_fmt grayf32be -dst_range 1 -f rawvideo in.raw\n</code></pre>\n</li>\n<li><p>Duplicate the &quot;Grayscale plane&quot; three times for getting 3 identical color planes (using &quot;concat protocol&quot; for avoiding any color conversion issues):</p>\n<pre><code> ffmpeg -y -f rawvideo -pix_fmt grayf32be -s 192x108 -i &quot;concat:in.raw|in.raw|in.raw&quot; -f rawvideo in3.raw\n</code></pre>\n</li>\n<li><p>Convert from 3 color channels raw to OpenEXR format:</p>\n<pre><code> ffmpeg -y -f rawvideo -pix_fmt gbrpf32be -s 192x108 -i in3.raw -vcodec exr -compression zip1 -pix_fmt gbrpf32le out.exr\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>Python code for comparing the differences (compare 3 color channels):</p>\n<pre class=\"lang-python prettyprint-override\"><code>img1 = cv2.imread('in.tif', cv2.IMREAD_UNCHANGED)\nimg2 = cv2.imread('out.exr', cv2.IMREAD_UNCHANGED)\n\nblue_ch = img2[:, :, 0]  # Blue channel\ngreen_ch = img2[:, :, 1]  # Green channel\nred_ch = img2[:, :, 2]  # Red channel\n\nmax_red_abs_diff = np.max(np.abs(red_ch*65535 - img1.astype(float)))\nmax_green_abs_diff = np.max(np.abs(green_ch*65535 - img1.astype(float)))\nmax_blue_abs_diff = np.max(np.abs(blue_ch*65535 - img1.astype(float)))\n</code></pre>\n<p>The maximum difference is <code>0.001953125</code> (negligible).</p>\n"}],"owner":{"account_id":14974757,"reputation":300,"user_id":10810503,"display_name":"Chryfi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71730237,"answer_count":1,"score":3,"last_activity_date":1649107467,"creation_date":1648983217,"question_id":71725213,"body_markdown":"I am writing the linearized depth buffer of a game to openEXR using FFmpeg. Unfortunately, FFmpeg does not adhere to the openEXR file specification fully (like allowing unsigned integer for one channel) so I am writing one float channel to openEXR, which is put into the green channel with this command `-f rawvideo -pix_fmt grayf32be -s %WIDTH%x%HEIGHT% -r %FPS% -i - -vf %DEFVF% -preset ultrafast -tune zerolatency -qp 6 -compression zip1 -pix_fmt gbrpf32le %NAME%_depth_%d.exr`.\r\n\r\nThe float range is from 0F to 1F and it is linear. I can confirm that the calculation and linearization is correct by testing 16 bit integer (per pixel component) PNG in Blender compositor. The 16 bit integer data is written like this `short s = (short) (linearzieDepth(depth) * (Math.pow(2,16) - 1))` whereas for float the linearized value is directly written to OpenEXR without multiplying with a value. \r\n\r\nHowever, when viewing the openEXR file it doesn&#39;t have the same &quot;gradient&quot; as the 16 bit png... when viewing them side by side, it appears as if the values near 0 are not linear, and they are not as dark as they should be like in the 16 bit png.\r\n(And yes, I set the image node to linear), and comparing it with 3d tracking data from the game I cant reproduce the depth and cant mask things using the depth buffer where as with the png I can.\r\n\r\nHow is it possible for a linear float range to turn out so different to a linear integer range in an image?\r\n\r\n\r\n\r\nUPDATE:\r\n\r\nI now write 3 channels to the ffmpeg with this code \r\n\r\n    float f2 = this.linearizeDepth(depth);\r\n    \r\n    buffer.putFloat(f2);\r\n    buffer.putFloat(0);\r\n    buffer.putFloat(0);\r\n\r\nthe byte buffer is of the size `width * height * 3 * 4` -&gt; 3 channels with each 4 bytes. The command is now `-f rawvideo -pix_fmt gbrpf32be -s %WIDTH%x%HEIGHT% -r %FPS% -i - -vf %DEFVF% -preset ultrafast -tune zerolatency -qp 6 -compression zip1 -pix_fmt gbrpf32le %NAME%_depth_%d.exr` which should mean that the input (byte buffer) is expecting 32 bit floats with 3 channels. [![This is how it turns out][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8RtrB.png\r\n\r\nFFmpeg is somehow splitting up channels or whatever... could be a bug, could be my fault?","title":"FFmpeg cant recognize 3 channels with each 32 bit","body":"<p>I am writing the linearized depth buffer of a game to openEXR using FFmpeg. Unfortunately, FFmpeg does not adhere to the openEXR file specification fully (like allowing unsigned integer for one channel) so I am writing one float channel to openEXR, which is put into the green channel with this command <code>-f rawvideo -pix_fmt grayf32be -s %WIDTH%x%HEIGHT% -r %FPS% -i - -vf %DEFVF% -preset ultrafast -tune zerolatency -qp 6 -compression zip1 -pix_fmt gbrpf32le %NAME%_depth_%d.exr</code>.</p>\n<p>The float range is from 0F to 1F and it is linear. I can confirm that the calculation and linearization is correct by testing 16 bit integer (per pixel component) PNG in Blender compositor. The 16 bit integer data is written like this <code>short s = (short) (linearzieDepth(depth) * (Math.pow(2,16) - 1))</code> whereas for float the linearized value is directly written to OpenEXR without multiplying with a value.</p>\n<p>However, when viewing the openEXR file it doesn't have the same &quot;gradient&quot; as the 16 bit png... when viewing them side by side, it appears as if the values near 0 are not linear, and they are not as dark as they should be like in the 16 bit png.\n(And yes, I set the image node to linear), and comparing it with 3d tracking data from the game I cant reproduce the depth and cant mask things using the depth buffer where as with the png I can.</p>\n<p>How is it possible for a linear float range to turn out so different to a linear integer range in an image?</p>\n<p>UPDATE:</p>\n<p>I now write 3 channels to the ffmpeg with this code</p>\n<pre><code>float f2 = this.linearizeDepth(depth);\n\nbuffer.putFloat(f2);\nbuffer.putFloat(0);\nbuffer.putFloat(0);\n</code></pre>\n<p>the byte buffer is of the size <code>width * height * 3 * 4</code> -&gt; 3 channels with each 4 bytes. The command is now <code>-f rawvideo -pix_fmt gbrpf32be -s %WIDTH%x%HEIGHT% -r %FPS% -i - -vf %DEFVF% -preset ultrafast -tune zerolatency -qp 6 -compression zip1 -pix_fmt gbrpf32le %NAME%_depth_%d.exr</code> which should mean that the input (byte buffer) is expecting 32 bit floats with 3 channels. <a href=\"https://i.stack.imgur.com/8RtrB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8RtrB.png\" alt=\"This is how it turns out\" /></a></p>\n<p>FFmpeg is somehow splitting up channels or whatever... could be a bug, could be my fault?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1474555820,"post_id":39642156,"comment_id":66587955,"body_markdown":"There are tests that rely on its [use on a top-level class](https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot-test-autoconfigure/src/test/java/org/springframework/boot/test/autoconfigure/ExampleTestConfig.java) so it should work. Can you share an example of it not working?","body":"There are tests that rely on its <a href=\"https://github.com/spring-projects/spring-boot/blob/v1.4.1.RELEASE/spring-boot-test-autoconfigure/src/test/java/org/springframework/boot/test/autoconfigure/ExampleTestConfig.java\" rel=\"nofollow noreferrer\">use on a top-level class</a> so it should work. Can you share an example of it not working?"}],"answers":[{"tags":[],"owner":{"account_id":2491695,"reputation":1124,"user_id":2169012,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474556484,"creation_date":1474556484,"answer_id":39642555,"question_id":39642156,"body_markdown":"whenever we have used `&lt;context:component-scan base-package=&quot;some.package&quot; /&gt;` or `@ComponentScan` . it scans all . for that to prevent Spring Boot provides `@TestComponent` so that they should not be picked up by scanning.","title":"What is the purpose of @TestConfiguration on a top-level class?","body":"<p>whenever we have used <code>&lt;context:component-scan base-package=\"some.package\" /&gt;</code> or <code>@ComponentScan</code> . it scans all . for that to prevent Spring Boot provides <code>@TestComponent</code> so that they should not be picked up by scanning.</p>\n"},{"tags":[],"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1649106947,"creation_date":1539151589,"answer_id":52733607,"question_id":39642156,"body_markdown":"Since I&#39;ve asked this question, the wording in the documentation has been clarified and explains the behaviour much better now.\r\n\r\nPer [the new documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.excluding-configuration):\r\n\r\n&gt; When placed on a top-level class, `@TestConfiguration` indicates that classes in `src/test/java` should not be picked up by scanning. You can then import that class explicitly where it is required, as shown in the following example:\r\n&gt; \r\n&gt; ```lang-java\r\n&gt; @SpringBootTest\r\n&gt; @Import(MyTestsConfiguration.class)\r\n&gt; class MyTests {\r\n&gt; \r\n&gt;     @Test\r\n&gt;     void exampleTest() {\r\n&gt;         // ...\r\n&gt;     }\r\n&gt; \r\n&gt; }\r\n&gt; ```","title":"What is the purpose of @TestConfiguration on a top-level class?","body":"<p>Since I've asked this question, the wording in the documentation has been clarified and explains the behaviour much better now.</p>\n<p>Per <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.excluding-configuration\" rel=\"nofollow noreferrer\">the new documentation</a>:</p>\n<blockquote>\n<p>When placed on a top-level class, <code>@TestConfiguration</code> indicates that classes in <code>src/test/java</code> should not be picked up by scanning. You can then import that class explicitly where it is required, as shown in the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@Import(MyTestsConfiguration.class)\nclass MyTests {\n\n    @Test\n    void exampleTest() {\n        // ...\n    }\n\n}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7098,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":52733607,"answer_count":2,"score":9,"last_activity_date":1649106947,"creation_date":1474555321,"question_id":39642156,"body_markdown":"Spring Boot 1.4 has brought [many good improvements][boot] for testing.\r\n\r\nI am unclear of the purpose of [`@TestConfiguration`][javadoc]. It doesn&#39;t seem to work as expected.\r\n\r\nI thought that if I use `@TestConfiguration` on a top-level class under `/src/test/java` that it gets picked up by a `@SpringBootTest` test ([see here][bootdoc]). But this seems not to be the case. If I instead use `@Configuration` then it gets correctly picked up.\r\n\r\nDid I misunderstand? Is the manual wrong? Is there a bug in the Spring Boot code?\r\n\r\n  [boot]: https://spring.io/blog/2016/04/15/testing-improvements-in-spring-boot-1-4\r\n  [javadoc]: http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/TestConfiguration.html\r\n  [bootdoc]: http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-excluding-config","title":"What is the purpose of @TestConfiguration on a top-level class?","body":"<p>Spring Boot 1.4 has brought <a href=\"https://spring.io/blog/2016/04/15/testing-improvements-in-spring-boot-1-4\" rel=\"noreferrer\">many good improvements</a> for testing.</p>\n\n<p>I am unclear of the purpose of <a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/TestConfiguration.html\" rel=\"noreferrer\"><code>@TestConfiguration</code></a>. It doesn't seem to work as expected.</p>\n\n<p>I thought that if I use <code>@TestConfiguration</code> on a top-level class under <code>/src/test/java</code> that it gets picked up by a <code>@SpringBootTest</code> test (<a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-excluding-config\" rel=\"noreferrer\">see here</a>). But this seems not to be the case. If I instead use <code>@Configuration</code> then it gets correctly picked up.</p>\n\n<p>Did I misunderstand? Is the manual wrong? Is there a bug in the Spring Boot code?</p>\n"},{"tags":["java","try-catch","user-input"],"answers":[{"tags":[],"owner":{"account_id":24813987,"reputation":1,"user_id":18695044,"display_name":"xfn14"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649020492,"creation_date":1649020492,"answer_id":71729904,"question_id":71729412,"body_markdown":"First you are using a `userInput.nextLine();` without putting it&#39;s value into a variable, and then you do the same thing inside your while-loop.\r\nMaybe removing them should do the job.\r\nAlso on your `catch` statement what you should be using is `userInput.next();` not `userInput.nextLine();`","title":"try catch/user input for Java","body":"<p>First you are using a <code>userInput.nextLine();</code> without putting it's value into a variable, and then you do the same thing inside your while-loop.\nMaybe removing them should do the job.\nAlso on your <code>catch</code> statement what you should be using is <code>userInput.next();</code> not <code>userInput.nextLine();</code></p>\n"}],"owner":{"account_id":21310208,"reputation":1,"user_id":15684717,"display_name":"Fidel Castro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1649106470,"creation_date":1649015930,"question_id":71729412,"body_markdown":"What I&#39;m trying to do is create a loop that prints out a schedule then another loop that will go week to week in that schedule. What my issue is, is that when I try to put in the prompt of &quot;Start&quot;, the code doesn&#39;t continue after I hit enter the first time and when it does it just goes back to the first loop.\r\n\r\nHere&#39;s my code. Tell me if I need to show more\r\n\r\n    public class WorkoutDriver {\r\n        public static void main(String[] args) {\r\n            boolean run = true;\r\n            boolean startRun = true;\r\n            System.out.println(&quot;************************************************&quot; +\r\n                    &quot;\\n*** Welcome to your customized workout plan! ***&quot; +\r\n                    &quot;\\n************************************************&quot;);\r\n\r\n\r\n            Scanner userInput = new Scanner(System.in);\r\n            int userNum;\r\n            String userStart;\r\n            while(run){\r\n                try{\r\n                    System.out.println(&quot;How many weeks would you like to schedule?&quot;);\r\n                    userNum = userInput.nextInt();\r\n\r\n                    WorkoutPlan plan = new WorkoutPlan(userNum);\r\n                    if(userNum &gt; 0){\r\n                        userInput.nextLine();\r\n                        plan.fillList();\r\n                        System.out.println(&quot;Great lets look at your &quot; + userNum + &quot; week schedule!\\n&quot;);\r\n                        System.out.println(plan);\r\n\r\n\r\n                        //loops to have user go through each week\r\n                        int weekCount = 1;\r\n                        System.out.println(&quot;Time to start working out!&quot;);\r\n                        while(weekCount &lt;= userNum) {\r\n                            System.out.println(&quot;Type \\&quot;Start\\&quot; to complete one week of workouts:&quot;);\r\n                            userStart = userInput.nextLine();\r\n                            if (userStart.equalsIgnoreCase(&quot;start&quot;)) {\r\n                                userInput.nextLine();\r\n                                plan.workoutNextWeek(userNum - 1);\r\n                                plan.printProgress();\r\n                            } else {\r\n                                System.out.println(&quot;Don&#39;t worry you got this!&quot;);\r\n                            }\r\n                            weekCount++;\r\n\r\n                        }\r\n\r\n\r\n\r\n\r\n                    }else{\r\n                        System.out.println(&quot;Please enter a number higher than 0&quot;);\r\n                        System.out.println();\r\n                    }\r\n\r\n\r\n                }catch (ArrayIndexOutOfBoundsException e){\r\n                System.out.println(&quot;Please try again, enter a valid integer&quot;);\r\n                userInput.nextLine();\r\n                }catch (Exception e){\r\n                System.out.println(&quot;Please try again, enter a valid integer&quot;);\r\n                userInput.nextLine();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"try catch/user input for Java","body":"<p>What I'm trying to do is create a loop that prints out a schedule then another loop that will go week to week in that schedule. What my issue is, is that when I try to put in the prompt of &quot;Start&quot;, the code doesn't continue after I hit enter the first time and when it does it just goes back to the first loop.</p>\n<p>Here's my code. Tell me if I need to show more</p>\n<pre><code>public class WorkoutDriver {\n    public static void main(String[] args) {\n        boolean run = true;\n        boolean startRun = true;\n        System.out.println(&quot;************************************************&quot; +\n                &quot;\\n*** Welcome to your customized workout plan! ***&quot; +\n                &quot;\\n************************************************&quot;);\n\n\n        Scanner userInput = new Scanner(System.in);\n        int userNum;\n        String userStart;\n        while(run){\n            try{\n                System.out.println(&quot;How many weeks would you like to schedule?&quot;);\n                userNum = userInput.nextInt();\n\n                WorkoutPlan plan = new WorkoutPlan(userNum);\n                if(userNum &gt; 0){\n                    userInput.nextLine();\n                    plan.fillList();\n                    System.out.println(&quot;Great lets look at your &quot; + userNum + &quot; week schedule!\\n&quot;);\n                    System.out.println(plan);\n\n\n                    //loops to have user go through each week\n                    int weekCount = 1;\n                    System.out.println(&quot;Time to start working out!&quot;);\n                    while(weekCount &lt;= userNum) {\n                        System.out.println(&quot;Type \\&quot;Start\\&quot; to complete one week of workouts:&quot;);\n                        userStart = userInput.nextLine();\n                        if (userStart.equalsIgnoreCase(&quot;start&quot;)) {\n                            userInput.nextLine();\n                            plan.workoutNextWeek(userNum - 1);\n                            plan.printProgress();\n                        } else {\n                            System.out.println(&quot;Don't worry you got this!&quot;);\n                        }\n                        weekCount++;\n\n                    }\n\n\n\n\n                }else{\n                    System.out.println(&quot;Please enter a number higher than 0&quot;);\n                    System.out.println();\n                }\n\n\n            }catch (ArrayIndexOutOfBoundsException e){\n            System.out.println(&quot;Please try again, enter a valid integer&quot;);\n            userInput.nextLine();\n            }catch (Exception e){\n            System.out.println(&quot;Please try again, enter a valid integer&quot;);\n            userInput.nextLine();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","angularjs","selenium","file-upload"],"answers":[{"tags":[],"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"ᴇʟᴇvᴀтᴇ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649106329,"creation_date":1649106329,"answer_id":71743717,"question_id":71743619,"body_markdown":"The `&lt;input&gt;` needs to have the attribute `type=&quot;file&quot;` for the sendKeys method to work. Your test may need to add the attribute via JavaScript beforehand.\r\n\r\n    js.executeScript(&quot;arguments[0].setAttribute(&#39;type&#39;, &#39;file&#39;)&quot;, input);\r\n\r\n(Untested code)","title":"File upload with Selenium Send Keys causes Mime Type Error for AngularJS file upload","body":"<p>The <code>&lt;input&gt;</code> needs to have the attribute <code>type=&quot;file&quot;</code> for the sendKeys method to work. Your test may need to add the attribute via JavaScript beforehand.</p>\n<pre><code>js.executeScript(&quot;arguments[0].setAttribute('type', 'file')&quot;, input);\n</code></pre>\n<p>(Untested code)</p>\n"}],"owner":{"account_id":20044895,"reputation":416,"user_id":14694812,"display_name":"Benjamin Peinhardt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649106329,"creation_date":1649105662,"question_id":71743619,"body_markdown":"I am writing smoke and regression tests in Selenium (Java) for one of my company&#39;s software platforms, which has an AngularJS front end. I need to  perform a file upload as part of a much longer test, but I&#39;m running into some problems.\r\nThe button to upload the file clicks on a hidden input, which launches the file explorer. These tests run in headless mode on bitbucket pipelines, so I need to work around this by using sendKeys on the hidden input element instead. \r\n\r\nThis is the relevant HTML\r\n```\r\n\r\n&lt;!--Action Button--&gt;\r\n&lt;span class=&quot;pull-right&quot;&gt;\r\n\t&lt;form name=&quot;23&quot; ng-submit=&quot;progressCtrl.action()&quot; disable-on-submit=&quot;1000&quot; novalidate=&quot;&quot; class=&quot;ng-pristine ng-valid&quot;&gt;\r\n\t\t&lt;!-- ngIf: progressCtrl.enableAction() &amp;&amp; !item.completed_at --&gt;\r\n\t\t&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-progress ng-binding ng-scope&quot; ng-if=&quot;progressCtrl.enableAction() &amp;amp;&amp;amp; !item.completed_at&quot;&gt;\r\n\t\t\t&lt;i class=&quot;fa fa-star&quot;&gt;&lt;/i&gt; \r\n\t\t\tComplete\r\n\t\t&lt;/button&gt;\r\n\t\t&lt;!-- end ngIf: progressCtrl.enableAction() &amp;&amp; !item.completed_at --&gt;\r\n                \r\n\t\t&lt;!-- ngIf: progressCtrl.enableAction() &amp;&amp; item.completed_at --&gt;\r\n        &lt;/form&gt;\r\n&lt;/span&gt;\r\n\r\n&lt;!--Hidden Upload Input--&gt;\r\n&lt;!-- ngIf: progressCtrl.enableUpload --&gt;\r\n&lt;input id=&quot;upload-postal-file&quot; ng-if=&quot;progressCtrl.enableUpload&quot; class=&quot;hidden-input ng-pristine ng-untouched ng-valid ng-scope&quot; ngf-select=&quot;&quot; ng-change=&quot;progressCtrl.uploadFile(file)&quot; ng-model=&quot;file&quot; accept=&quot;&quot;&gt;\r\n&lt;!-- end ngIf: progressCtrl.enableUpload --&gt;\r\n    \r\n```\r\n\r\nThis is what I&#39;m doing currently\r\n```\r\n// Sample file to upload\r\nFile sampleFile = new File(Constants.TEST_DATA_FILE_PATH + &quot;SamplePostalFile.txt&quot;);\r\nString filePath = sampleFile.getAbsolutePath();\r\n\r\n// Javascript executor\r\nJavascriptExecutor js = (JavascriptExecutor) DriverFactory.drivers.get();\r\n\r\n// Find the hidden input element\r\nWebElement input = new WebDriverWait(DriverFactory.drivers.get(), Duration.ofSeconds(DEFAULT_ELEMENT_WAIT))\r\n\t.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//input[@id=&#39;upload-postal-file&#39;]&quot;)));\r\n\r\n// Unhide the element so that it is interactable\r\nString notVisibleClasses = input.getAttribute(&quot;class&quot;);\r\nString visibleClasses = notVisibleClasses.replaceAll(&quot;hidden-input&quot;, &quot;&quot;);\r\njs.executeScript(String.format(&quot;arguments[0].setAttribute(&#39;class&#39;, &#39;%s&#39;)&quot;, visibleClasses), input);\r\n\r\n// Send the filePath to the input element\r\ninput.sendKeys(filePath);\r\n\r\n_implicit_wait_as_a_last_resort(5);\r\n\r\n// Click conirm on the confirmation popup\r\nif(getWebElementAndScroll(&quot;//div[@class=&#39;modal-content&#39;]//i[contains(@class,&#39;fa-check-circle&#39;)]/..&quot;)!=null) {\r\n\tWebElement confirmBtn = getWebElementAndScroll(&quot;//div[@class=&#39;modal-content&#39;]//i[contains(@class,&#39;fa-check-circle&#39;)]/..&quot;, &quot;Unable to find &#39;Confirm&#39; button on upload postal file confirmation popup&quot;)._element;\r\n\tjs.executeScript(&quot;arguments[0].click()&quot;, confirmBtn);\r\n}\r\n\r\n// Wait for the success message to come and go\r\ngetWebElementAndScroll(OPERATION_ALERT_MESSAGE, &quot;Did not get success message&quot;);\r\nwaitForInvisibilityOfElementLocatedByXpath(OPERATION_ALERT_MESSAGE);\r\n```\r\n\r\nUpon clicking confirm on the generated popup, I get an error message &quot;Call to a member function getMimeType() on a String&quot;. I think maybe the String for the file path is being uploaded as the contents of the file itself? Any help figuring this out would be much appreciated.\r\n\r\nApparently https://github.com/danialfarid/ng-file-upload is being used for the file uploads. The end result is supposed to be a POST request with the file. ","title":"File upload with Selenium Send Keys causes Mime Type Error for AngularJS file upload","body":"<p>I am writing smoke and regression tests in Selenium (Java) for one of my company's software platforms, which has an AngularJS front end. I need to  perform a file upload as part of a much longer test, but I'm running into some problems.\nThe button to upload the file clicks on a hidden input, which launches the file explorer. These tests run in headless mode on bitbucket pipelines, so I need to work around this by using sendKeys on the hidden input element instead.</p>\n<p>This is the relevant HTML</p>\n<pre><code>\n&lt;!--Action Button--&gt;\n&lt;span class=&quot;pull-right&quot;&gt;\n    &lt;form name=&quot;23&quot; ng-submit=&quot;progressCtrl.action()&quot; disable-on-submit=&quot;1000&quot; novalidate=&quot;&quot; class=&quot;ng-pristine ng-valid&quot;&gt;\n        &lt;!-- ngIf: progressCtrl.enableAction() &amp;&amp; !item.completed_at --&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-progress ng-binding ng-scope&quot; ng-if=&quot;progressCtrl.enableAction() &amp;amp;&amp;amp; !item.completed_at&quot;&gt;\n            &lt;i class=&quot;fa fa-star&quot;&gt;&lt;/i&gt; \n            Complete\n        &lt;/button&gt;\n        &lt;!-- end ngIf: progressCtrl.enableAction() &amp;&amp; !item.completed_at --&gt;\n                \n        &lt;!-- ngIf: progressCtrl.enableAction() &amp;&amp; item.completed_at --&gt;\n        &lt;/form&gt;\n&lt;/span&gt;\n\n&lt;!--Hidden Upload Input--&gt;\n&lt;!-- ngIf: progressCtrl.enableUpload --&gt;\n&lt;input id=&quot;upload-postal-file&quot; ng-if=&quot;progressCtrl.enableUpload&quot; class=&quot;hidden-input ng-pristine ng-untouched ng-valid ng-scope&quot; ngf-select=&quot;&quot; ng-change=&quot;progressCtrl.uploadFile(file)&quot; ng-model=&quot;file&quot; accept=&quot;&quot;&gt;\n&lt;!-- end ngIf: progressCtrl.enableUpload --&gt;\n    \n</code></pre>\n<p>This is what I'm doing currently</p>\n<pre><code>// Sample file to upload\nFile sampleFile = new File(Constants.TEST_DATA_FILE_PATH + &quot;SamplePostalFile.txt&quot;);\nString filePath = sampleFile.getAbsolutePath();\n\n// Javascript executor\nJavascriptExecutor js = (JavascriptExecutor) DriverFactory.drivers.get();\n\n// Find the hidden input element\nWebElement input = new WebDriverWait(DriverFactory.drivers.get(), Duration.ofSeconds(DEFAULT_ELEMENT_WAIT))\n    .until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//input[@id='upload-postal-file']&quot;)));\n\n// Unhide the element so that it is interactable\nString notVisibleClasses = input.getAttribute(&quot;class&quot;);\nString visibleClasses = notVisibleClasses.replaceAll(&quot;hidden-input&quot;, &quot;&quot;);\njs.executeScript(String.format(&quot;arguments[0].setAttribute('class', '%s')&quot;, visibleClasses), input);\n\n// Send the filePath to the input element\ninput.sendKeys(filePath);\n\n_implicit_wait_as_a_last_resort(5);\n\n// Click conirm on the confirmation popup\nif(getWebElementAndScroll(&quot;//div[@class='modal-content']//i[contains(@class,'fa-check-circle')]/..&quot;)!=null) {\n    WebElement confirmBtn = getWebElementAndScroll(&quot;//div[@class='modal-content']//i[contains(@class,'fa-check-circle')]/..&quot;, &quot;Unable to find 'Confirm' button on upload postal file confirmation popup&quot;)._element;\n    js.executeScript(&quot;arguments[0].click()&quot;, confirmBtn);\n}\n\n// Wait for the success message to come and go\ngetWebElementAndScroll(OPERATION_ALERT_MESSAGE, &quot;Did not get success message&quot;);\nwaitForInvisibilityOfElementLocatedByXpath(OPERATION_ALERT_MESSAGE);\n</code></pre>\n<p>Upon clicking confirm on the generated popup, I get an error message &quot;Call to a member function getMimeType() on a String&quot;. I think maybe the String for the file path is being uploaded as the contents of the file itself? Any help figuring this out would be much appreciated.</p>\n<p>Apparently <a href=\"https://github.com/danialfarid/ng-file-upload\" rel=\"nofollow noreferrer\">https://github.com/danialfarid/ng-file-upload</a> is being used for the file uploads. The end result is supposed to be a POST request with the file.</p>\n"},{"tags":["java","android","constraints","worker","android-workmanager"],"comments":[{"owner":{"account_id":1316697,"reputation":4921,"user_id":1263362,"accept_rate":29,"display_name":"Sayem"},"score":0,"creation_date":1648801101,"post_id":71703792,"comment_id":126721132,"body_markdown":"how much time did you wait after connecting to network to be executed?","body":"how much time did you wait after connecting to network to be executed?"},{"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"score":0,"creation_date":1648803851,"post_id":71703792,"comment_id":126721998,"body_markdown":"I just tried to wait 15 minutes, doesn&#39;t get triggered. The trigger onFailure, and method call to this method. I will get onFailure when I enter flight mode in emulator, disable flight mode and wait 15 minutes... nothing happens. Any suggestion?","body":"I just tried to wait 15 minutes, doesn&#39;t get triggered. The trigger onFailure, and method call to this method. I will get onFailure when I enter flight mode in emulator, disable flight mode and wait 15 minutes... nothing happens. Any suggestion?"},{"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"score":0,"creation_date":1648804624,"post_id":71703792,"comment_id":126722287,"body_markdown":"&quot;The trigger onFailure&quot;, what I mean is that in my onFailure I will call the method handleFeedbackMessageFailure that I posted in my question.","body":"&quot;The trigger onFailure&quot;, what I mean is that in my onFailure I will call the method handleFeedbackMessageFailure that I posted in my question."},{"owner":{"account_id":16549970,"reputation":2193,"user_id":11958566,"display_name":"Shlomi Katriel"},"score":0,"creation_date":1648809085,"post_id":71703792,"comment_id":126723887,"body_markdown":"`CONNECTED` constraint is a bit misleading because it&#39;s actually means &quot;Connected and verified&quot;. You can be connected to WiFi but without being connected to the internet - was this the case?","body":"<code>CONNECTED</code> constraint is a bit misleading because it&#39;s actually means &quot;Connected and verified&quot;. You can be connected to WiFi but without being connected to the internet - was this the case?"},{"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"score":0,"creation_date":1648811614,"post_id":71703792,"comment_id":126724720,"body_markdown":"This was on the Emulator, I pressed &quot;Airplane mode&quot;, triggered the API call which then goes to onFailure. Then waited a few moments and un-ticked the &quot;Airplane mode&quot;. So I am not sure.\nWhen I tested on my real device it actually somehow worked... thing is, on the real device I don&#39;t have any Cellular, so I un-ticked &quot;WiFi&quot;, then triggered API call-&gt;onFailure, and then ticked &quot;WiFi&quot;. The worker ran, but I cannot run debug with breakpoints from IDE to phone, still could see in logs and DB that message was sent... beats me","body":"This was on the Emulator, I pressed &quot;Airplane mode&quot;, triggered the API call which then goes to onFailure. Then waited a few moments and un-ticked the &quot;Airplane mode&quot;. So I am not sure. When I tested on my real device it actually somehow worked... thing is, on the real device I don&#39;t have any Cellular, so I un-ticked &quot;WiFi&quot;, then triggered API call-&gt;onFailure, and then ticked &quot;WiFi&quot;. The worker ran, but I cannot run debug with breakpoints from IDE to phone, still could see in logs and DB that message was sent... beats me"},{"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"score":0,"creation_date":1648811696,"post_id":71703792,"comment_id":126724748,"body_markdown":"So maybe it is a problem with this CONNECTED constraint... what else could I use? The reason we have this method call to re-send when onFailure method is reached is that we suspect users will lose their WiFi connection from time to time. And with connection, I mean they will most likely not un-tick WiFi but rather go out of range from AP/Router","body":"So maybe it is a problem with this CONNECTED constraint... what else could I use? The reason we have this method call to re-send when onFailure method is reached is that we suspect users will lose their WiFi connection from time to time. And with connection, I mean they will most likely not un-tick WiFi but rather go out of range from AP/Router"}],"answers":[{"tags":[],"owner":{"account_id":9579833,"reputation":1418,"user_id":7114714,"display_name":"Yavor Mitev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649105416,"creation_date":1649104842,"answer_id":71743495,"question_id":71703792,"body_markdown":"Check the JS info as described here:\r\n\r\nhttps://developer.android.com/topic/libraries/architecture/workmanager/how-to/debugging\r\n\r\nUse:\r\nadb shell dumpsys jobscheduler\r\n\r\nIn the result - check what is unstatisfied in the Constraints section.\r\n\r\nIf it is Connectivity:\r\n\r\nCheck what Capabilities you expect(part of the logs in the job info) and compare them to the current active network Capabilities.\r\n\r\nAlso if not enough time is the problem - you will see it there in the constraints. \r\n\r\n","title":"Worker class not getting triggered by the OneTimeWorkRequest","body":"<p>Check the JS info as described here:</p>\n<p><a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/how-to/debugging\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/workmanager/how-to/debugging</a></p>\n<p>Use:\nadb shell dumpsys jobscheduler</p>\n<p>In the result - check what is unstatisfied in the Constraints section.</p>\n<p>If it is Connectivity:</p>\n<p>Check what Capabilities you expect(part of the logs in the job info) and compare them to the current active network Capabilities.</p>\n<p>Also if not enough time is the problem - you will see it there in the constraints.</p>\n"}],"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71743495,"answer_count":1,"score":1,"last_activity_date":1649105416,"creation_date":1648800872,"question_id":71703792,"body_markdown":"I have this OneTimeWorkRequest that don&#39;t trigger my SendFeedbackMessageWorker.\r\nThe work request should get triggered with the constraint &quot;.setRequiredNetworkType(NetworkType.CONNECTED)&quot;, but whenever I try to send a message without network connected and then connect again, the class is never triggered.\r\n\r\nCan anybody point out where this is broken?\r\n\r\n``` \r\nprivate void handleFeedbackMessageFailure(Context context, FeedbackMessage message) {\r\n\r\n        Constraints constraints4 = new Constraints.Builder()\r\n                .setRequiredNetworkType(NetworkType.CONNECTED)\r\n                .build();\r\n        Data myFeedbackMessage = new Data.Builder()\r\n                .putString(&quot;myFeedbackMessageId&quot;, message.getId())\r\n                .putString(&quot;myFeedbackMessage&quot;, message.getFeedbackMessage())\r\n                .putString(&quot;myFeedbackPerson&quot;, message.getFeedbackPersonName())\r\n                .putString(&quot;myFeedbackCreated&quot;, message.getCreated().toString())\r\n                .build();\r\n\r\n        OneTimeWorkRequest sendFeedbackWorker = new OneTimeWorkRequest.Builder(SendFeedbackMessageWorker.class)\r\n                .setInputData(myFeedbackMessage)\r\n                .setConstraints(constraints4)\r\n                .build();\r\n\r\n        WorkManager.getInstance(context).enqueue(\r\n                sendFeedbackWorker\r\n        );\r\n```\r\n","title":"Worker class not getting triggered by the OneTimeWorkRequest","body":"<p>I have this OneTimeWorkRequest that don't trigger my SendFeedbackMessageWorker.\nThe work request should get triggered with the constraint &quot;.setRequiredNetworkType(NetworkType.CONNECTED)&quot;, but whenever I try to send a message without network connected and then connect again, the class is never triggered.</p>\n<p>Can anybody point out where this is broken?</p>\n<pre><code>private void handleFeedbackMessageFailure(Context context, FeedbackMessage message) {\n\n        Constraints constraints4 = new Constraints.Builder()\n                .setRequiredNetworkType(NetworkType.CONNECTED)\n                .build();\n        Data myFeedbackMessage = new Data.Builder()\n                .putString(&quot;myFeedbackMessageId&quot;, message.getId())\n                .putString(&quot;myFeedbackMessage&quot;, message.getFeedbackMessage())\n                .putString(&quot;myFeedbackPerson&quot;, message.getFeedbackPersonName())\n                .putString(&quot;myFeedbackCreated&quot;, message.getCreated().toString())\n                .build();\n\n        OneTimeWorkRequest sendFeedbackWorker = new OneTimeWorkRequest.Builder(SendFeedbackMessageWorker.class)\n                .setInputData(myFeedbackMessage)\n                .setConstraints(constraints4)\n                .build();\n\n        WorkManager.getInstance(context).enqueue(\n                sendFeedbackWorker\n        );\n</code></pre>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":1,"creation_date":1615810491,"post_id":66637732,"comment_id":117798001,"body_markdown":"how are your test classes named? I&#39;m having hard time believing you will only have test classes named &quot;test.java&quot;. Normally they would need to be named xxxTest.java to be picked up by maven, where xxx is some prefix.","body":"how are your test classes named? I&#39;m having hard time believing you will only have test classes named &quot;test.java&quot;. Normally they would need to be named xxxTest.java to be picked up by maven, where xxx is some prefix."},{"owner":{"account_id":6596539,"reputation":1350,"user_id":5096142,"display_name":"Carlos"},"score":0,"creation_date":1615810550,"post_id":66637732,"comment_id":117798026,"body_markdown":"this is working as expected :)   https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html    How are your test classes named ?  They should match the expression written on the include and of course being placed on the folder that maven expects it","body":"this is working as expected :)   <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a>    How are your test classes named ?  They should match the expression written on the include and of course being placed on the folder that maven expects it"},{"owner":{"account_id":8000578,"reputation":302,"user_id":6035548,"accept_rate":44,"display_name":"Nathaniel Cutajar"},"score":0,"creation_date":1615811888,"post_id":66637732,"comment_id":117798662,"body_markdown":"Apologies. The tests are the same name of the classes to test, with the added `Test` at the end. But they are all in a folder called `test`. I just had a sudden realization though that the custom config I  was adding was checking for the actual name of the file. So it makes sense that I don&#39;t need to have custom include tags since the names are following the default naming convention. Updating question to remove the extra bad details","body":"Apologies. The tests are the same name of the classes to test, with the added <code>Test</code> at the end. But they are all in a folder called <code>test</code>. I just had a sudden realization though that the custom config I  was adding was checking for the actual name of the file. So it makes sense that I don&#39;t need to have custom include tags since the names are following the default naming convention. Updating question to remove the extra bad details"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1615812702,"post_id":66637732,"comment_id":117799060,"body_markdown":"Probably 1) tests are not annotated with @Test 2) test classes are outside of maven&#39;s `test` directory","body":"Probably 1) tests are not annotated with @Test 2) test classes are outside of maven&#39;s <code>test</code> directory"},{"owner":{"account_id":8000578,"reputation":302,"user_id":6035548,"accept_rate":44,"display_name":"Nathaniel Cutajar"},"score":0,"creation_date":1615813810,"post_id":66637732,"comment_id":117799611,"body_markdown":"@Antoniossss tests are all annotated with the `@Test` and I can run them manually. The `test` directory is in the same level as the `main`","body":"@Antoniossss tests are all annotated with the <code>@Test</code> and I can run them manually. The <code>test</code> directory is in the same level as the <code>main</code>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1615814337,"post_id":66637732,"comment_id":117799842,"body_markdown":"But maybe you did some tweaks and the test directory is not the default test location. You could share effective pom maybe?","body":"But maybe you did some tweaks and the test directory is not the default test location. You could share effective pom maybe?"},{"owner":{"account_id":8000578,"reputation":302,"user_id":6035548,"accept_rate":44,"display_name":"Nathaniel Cutajar"},"score":0,"creation_date":1615818642,"post_id":66637732,"comment_id":117801997,"body_markdown":"@Antoniossss https://pastebin.com/6edTz7qp This should be everything, apart from the confidential stuff","body":"@Antoniossss <a href=\"https://pastebin.com/6edTz7qp\" rel=\"nofollow noreferrer\">pastebin.com/6edTz7qp</a> This should be everything, apart from the confidential stuff"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1615822579,"post_id":66637732,"comment_id":117804151,"body_markdown":"add it to the question.","body":"add it to the question."},{"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"score":0,"creation_date":1615835288,"post_id":66637732,"comment_id":117810143,"body_markdown":"The answer in already in https://stackoverflow.com/questions/66605008/seektool-what-can-that-be?noredirect=1#comment117750898_66605008","body":"The answer in already in <a href=\"https://stackoverflow.com/questions/66605008/seektool-what-can-that-be?noredirect=1#comment117750898_66605008\" title=\"seektool what can that be\">stackoverflow.com/questions/66605008/&hellip;</a>"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1615840038,"post_id":66637732,"comment_id":117811942,"body_markdown":"@NathanielCutajar your pastebin pom does not even have the surefire plugin that you have in the question? please update the question with your full pom to reproduce this issue.","body":"@NathanielCutajar your pastebin pom does not even have the surefire plugin that you have in the question? please update the question with your full pom to reproduce this issue."},{"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"score":0,"creation_date":1616155457,"post_id":66637732,"comment_id":117920358,"body_markdown":"@NathanielCutajar Can we continue in the chat? You was invited!","body":"@NathanielCutajar Can we continue in the chat? You was invited!"},{"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"score":0,"creation_date":1649105059,"post_id":66637732,"comment_id":126787542,"body_markdown":"The version **3.0.0-M6** has been deployed to the Maven Central repository. The workaround **useModulePath=false** can be removed in your POM now.","body":"The version <b>3.0.0-M6</b> has been deployed to the Maven Central repository. The workaround <b>useModulePath=false</b> can be removed in your POM now."},{"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"score":0,"creation_date":1649105329,"post_id":66637732,"comment_id":126787604,"body_markdown":"The version **3.0.0-M6** has 111 fixes and it supports the latest JDK 18 and Maven 3.8.5 as well. We will start a new Release Vote for **2.22.3** on the Apache Maven dev mailing list. The version **2.22.3** has 23 backported bug fixes and it supports JDK 18 as well.","body":"The version <b>3.0.0-M6</b> has 111 fixes and it supports the latest JDK 18 and Maven 3.8.5 as well. We will start a new Release Vote for <b>2.22.3</b> on the Apache Maven dev mailing list. The version <b>2.22.3</b> has 23 backported bug fixes and it supports JDK 18 as well."}],"answers":[{"tags":[],"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615885334,"creation_date":1615885334,"answer_id":66651983,"question_id":66637732,"body_markdown":"Yes we have a bug in surefire 3.0.0-M5 (when JDK 9+ and no JPMS is used) but we published the workaround on the Stackoverflow several times.\r\n\r\nPls check it out with a temporal workaround\r\n\r\n&gt; mvn test -Dsurefire.useModulePath=false\r\n\r\nThe fix is already done and it will be released in the version `3.0.0-M6`. There the workaround `useModulePath=false` would not be needed anymore.\r\n","title":"Maven ignoring tests on build","body":"<p>Yes we have a bug in surefire 3.0.0-M5 (when JDK 9+ and no JPMS is used) but we published the workaround on the Stackoverflow several times.</p>\n<p>Pls check it out with a temporal workaround</p>\n<blockquote>\n<p>mvn test -Dsurefire.useModulePath=false</p>\n</blockquote>\n<p>The fix is already done and it will be released in the version <code>3.0.0-M6</code>. There the workaround <code>useModulePath=false</code> would not be needed anymore.</p>\n"},{"tags":[],"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649104976,"creation_date":1649104976,"answer_id":71743509,"question_id":66637732,"body_markdown":"The version **3.0.0-M6** has been deployed to the Maven Central repository.\r\nThis issue is fixed.\r\nPls check the POM and the configuration **useModulePath=false** as a workaround.\r\nhttp://quabr.com:8182/66637732/maven-ignoring-tests-on-build\r\nNow the workaround can be removed.","title":"Maven ignoring tests on build","body":"<p>The version <strong>3.0.0-M6</strong> has been deployed to the Maven Central repository.\nThis issue is fixed.\nPls check the POM and the configuration <strong>useModulePath=false</strong> as a workaround.\n<a href=\"http://quabr.com:8182/66637732/maven-ignoring-tests-on-build\" rel=\"nofollow noreferrer\">http://quabr.com:8182/66637732/maven-ignoring-tests-on-build</a>\nNow the workaround can be removed.</p>\n"}],"owner":{"account_id":8000578,"reputation":302,"user_id":6035548,"accept_rate":44,"display_name":"Nathaniel Cutajar"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2439,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71743509,"answer_count":2,"score":2,"last_activity_date":1649104976,"creation_date":1615810170,"question_id":66637732,"body_markdown":"Currently trying to test a project and for some reason, it won&#39;t run the tests when using `mvn clean install`. Strangely enough though, right-clicking on the project and do `Run &#39;All Tests&#39;` on Intellij, runs all the tests well. \r\n\r\nThe folder is called `test`, with the tests having a `Test` added after the name of the class they are testing. I have this configuration in the POM file set up:\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nwith the java version being set as such: `&lt;java.version&gt;11&lt;/java.version&gt;`\r\n\r\nand the junit dependency being set like so:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThis will result in: \r\n\r\n```\r\n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ ******* ---\r\n[INFO] \r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n```\r\n\r\nUsually I don&#39;t need to even add the `maven-surefire-plugin` under the plugins tag, although I did this to specify the version, maybe that might help but it&#39;s of no use.\r\n\r\nAny idea what the issue might be?\r\n\r\n# UPDATE 1:\r\nAdded some configuration for the surefire plugin: `&lt;useModulePath&gt;false&lt;/useModulePath&gt;`\r\n\r\nLogs from `mvn -X test`: https://controlc.com/0e9faba9","title":"Maven ignoring tests on build","body":"<p>Currently trying to test a project and for some reason, it won't run the tests when using <code>mvn clean install</code>. Strangely enough though, right-clicking on the project and do <code>Run 'All Tests'</code> on Intellij, runs all the tests well.</p>\n<p>The folder is called <code>test</code>, with the tests having a <code>Test</code> added after the name of the class they are testing. I have this configuration in the POM file set up:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>with the java version being set as such: <code>&lt;java.version&gt;11&lt;/java.version&gt;</code></p>\n<p>and the junit dependency being set like so:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>This will result in:</p>\n<pre><code>[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ ******* ---\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n<p>Usually I don't need to even add the <code>maven-surefire-plugin</code> under the plugins tag, although I did this to specify the version, maybe that might help but it's of no use.</p>\n<p>Any idea what the issue might be?</p>\n<h1>UPDATE 1:</h1>\n<p>Added some configuration for the surefire plugin: <code>&lt;useModulePath&gt;false&lt;/useModulePath&gt;</code></p>\n<p>Logs from <code>mvn -X test</code>: <a href=\"https://controlc.com/0e9faba9\" rel=\"nofollow noreferrer\">https://controlc.com/0e9faba9</a></p>\n"},{"tags":["java","database","sqlite","kotlin"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1649109796,"post_id":71743430,"comment_id":126788674,"body_markdown":"Values mismatch. |You have 26 field items to fill and you are using 26 question marks for your prepared statements, yet, you are only using 25 p-Statements. You also have `cliente_denom` listed twice in the fields list.","body":"Values mismatch. |You have 26 field items to fill and you are using 26 question marks for your prepared statements, yet, you are only using 25 p-Statements. You also have <code>cliente_denom</code> listed twice in the fields list."},{"owner":{"account_id":19261735,"reputation":75,"user_id":14077479,"display_name":"NicolaM94"},"score":0,"creation_date":1649114108,"post_id":71743430,"comment_id":126789480,"body_markdown":"Thank you so much, I can&#39;t believe I missed it out, so trivial. Thanks again. Anyway, since I&#39;m new to SQL, if I may ask another question: do you think this is a good approach? I feel like there are too many calls and maybe too many columns?","body":"Thank you so much, I can&#39;t believe I missed it out, so trivial. Thanks again. Anyway, since I&#39;m new to SQL, if I may ask another question: do you think this is a good approach? I feel like there are too many calls and maybe too many columns?"}],"owner":{"account_id":19261735,"reputation":75,"user_id":14077479,"display_name":"NicolaM94"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649104409,"creation_date":1649104409,"question_id":71743430,"body_markdown":"I&#39;m in need of some help troubleshooting a strange behaviour with Kotlin and SQLite database.\r\nWhen I try filling the database, an entire column gets &quot;skipped&quot;.\r\n\r\nHere&#39;s the database:\r\n\r\n```\r\n    &quot;Id&quot; INTEGER,\r\n\t&quot;fornitore_pi&quot;\tTEXT,\r\n\t&quot;fornitore_denom&quot;\tTEXT,\r\n\t&quot;fornitore_cap&quot;\tTEXT,\r\n\t&quot;fornitore_indirizzo&quot;\tTEXT,\r\n\t&quot;fornitore_comune&quot;\tTEXT,\r\n\t&quot;fornitore_provincia&quot;\tTEXT,\r\n\t&quot;fornitore_nazione&quot;\tTEXT,\r\n\t&quot;cliente_pi&quot;\tTEXT,\r\n\t&quot;cliente_denom&quot;\tTEXT,\r\n\t&quot;cliente_cap&quot;\tTEXT,\r\n\t&quot;cliente_indirizzo&quot;\tTEXT,\r\n\t&quot;cliente_comune&quot;\tTEXT,\r\n\t&quot;cliente_provincia&quot;\tTEXT,\r\n\t&quot;cliente_nazione&quot;\tTEXT,\r\n\t&quot;data&quot;\tTEXT,\r\n\t&quot;numero&quot;\tTEXT,\r\n\t&quot;tipo&quot;\tTEXT,\r\n\t&quot;divisa&quot;\tTEXT,\r\n\t&quot;importo&quot;\tTEXT,\r\n\t&quot;scadenza&quot;\tTEXT,\r\n\t&quot;mod_pagamento&quot;\tTEXT,\r\n\t&quot;iban&quot;\tTEXT,\r\n\t&quot;pagamento&quot;\tTEXT,\r\n\t&quot;condizioni&quot;\tTEXT,\r\n\t&quot;pagata&quot;\tTEXT,\r\n\tPRIMARY KEY(&quot;Id&quot; AUTOINCREMENT)\r\n```\r\nAnd here the Kotlin insertion function I wrote:\r\n\r\n```\r\nfun insertObject (connection:Connection,bill: BaseBill) {\r\n\r\n    val insertionQuery :String = &quot;insert into BILLS (&quot; +\r\n            &quot;fornitore_pi,&quot; +\r\n            &quot;fornitore_denom,&quot; +\r\n            &quot;fornitore_cap,&quot; +\r\n            &quot;fornitore_indirizzo,&quot; +\r\n            &quot;fornitore_comune,&quot; +\r\n            &quot;fornitore_provincia,&quot; +\r\n            &quot;fornitore_nazione,&quot; +\r\n            &quot;cliente_pi,&quot; +\r\n            &quot;cliente_denom,&quot; +\r\n            &quot;cliente_cap,&quot; +\r\n            &quot;cliente_denom,&quot; +\r\n            &quot;cliente_indirizzo,&quot; +\r\n            &quot;cliente_comune,&quot; +\r\n            &quot;cliente_provincia,&quot; +\r\n            &quot;cliente_nazione,&quot; +\r\n            &quot;data,&quot; +\r\n            &quot;numero,&quot; +\r\n            &quot;tipo,&quot; +\r\n            &quot;divisa,&quot; +\r\n            &quot;importo,&quot; +\r\n            &quot;scadenza,&quot; +\r\n            &quot;mod_pagamento,&quot; +\r\n            &quot;iban,&quot; +\r\n            &quot;pagamento,&quot; +\r\n            &quot;condizioni,&quot; +\r\n            &quot;pagata&quot; +\r\n            &quot;) values (&quot; +\r\n            &quot;?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?&quot; +\r\n            &quot;)&quot;\r\n\r\n    val driver = connection.prepareStatement(insertionQuery)\r\n\r\n    var counter = 0\r\n\r\n    driver.setString(++counter,bill.features[&quot;fornitore_pi&quot;])\r\n    driver.setString(++counter,bill.features[&quot;fornitore_denom&quot;])\r\n    driver.setString(++counter,bill.features[&quot;fornitore_cap&quot;])\r\n    driver.setString(++counter,bill.features[&quot;fornitore_indirizzo&quot;]?.normalizer())\r\n    driver.setString(++counter,bill.features[&quot;fornitore_comune&quot;])\r\n    driver.setString(++counter,bill.features[&quot;fornitore_provincia&quot;])\r\n    driver.setString(++counter,bill.features[&quot;fornitore_nazione&quot;])\r\n    driver.setString(++counter,bill.features[&quot;cliente_pi&quot;])\r\n    driver.setString(++counter,bill.features[&quot;cliente_denom&quot;])\r\n    driver.setString(++counter,bill.features[&quot;cliente_cap&quot;])\r\n    driver.setString(++counter,bill.features[&quot;cliente_indirizzo&quot;])\r\n    driver.setString(++counter,bill.features[&quot;cliente_comune&quot;])\r\n    driver.setString(++counter,bill.features[&quot;cliente_provincia&quot;])\r\n    driver.setString(++counter,bill.features[&quot;cliente_nazione&quot;])\r\n    driver.setString(++counter,bill.features[&quot;data&quot;])\r\n    driver.setString(++counter,bill.features[&quot;numero&quot;])\r\n    driver.setString(++counter,bill.features[&quot;tipo&quot;])\r\n    driver.setString(++counter,bill.features[&quot;divisa&quot;])\r\n    driver.setString(++counter,bill.features[&quot;importo&quot;])\r\n    driver.setString(++counter,bill.features[&quot;scadenza&quot;])\r\n    driver.setString(++counter,bill.features[&quot;mod_pagamento&quot;])\r\n    driver.setString(++counter,bill.features[&quot;iban&quot;])\r\n    driver.setString(++counter,bill.features[&quot;pagamento&quot;])\r\n    driver.setString(++counter,bill.features[&quot;condizioni&quot;])\r\n    driver.setString(++counter,bill.features[&quot;pagata&quot;])\r\n\r\n    driver.execute()\r\n```\r\nNow the strange fact about this is that it generates no errors at all, but the values that should go under the `cliente_indirizzo` column get all skipped. So the column `cliente_indirizzo` gets filled with `cliente_comune` values and everything is moved one column back, generating all null values on the last column.\r\nWhat am I missing? Any idea about this?\r\nThanks in advance!","title":"Kotlin/Sqlite column not filling","body":"<p>I'm in need of some help troubleshooting a strange behaviour with Kotlin and SQLite database.\nWhen I try filling the database, an entire column gets &quot;skipped&quot;.</p>\n<p>Here's the database:</p>\n<pre><code>    &quot;Id&quot; INTEGER,\n    &quot;fornitore_pi&quot;  TEXT,\n    &quot;fornitore_denom&quot;   TEXT,\n    &quot;fornitore_cap&quot; TEXT,\n    &quot;fornitore_indirizzo&quot;   TEXT,\n    &quot;fornitore_comune&quot;  TEXT,\n    &quot;fornitore_provincia&quot;   TEXT,\n    &quot;fornitore_nazione&quot; TEXT,\n    &quot;cliente_pi&quot;    TEXT,\n    &quot;cliente_denom&quot; TEXT,\n    &quot;cliente_cap&quot;   TEXT,\n    &quot;cliente_indirizzo&quot; TEXT,\n    &quot;cliente_comune&quot;    TEXT,\n    &quot;cliente_provincia&quot; TEXT,\n    &quot;cliente_nazione&quot;   TEXT,\n    &quot;data&quot;  TEXT,\n    &quot;numero&quot;    TEXT,\n    &quot;tipo&quot;  TEXT,\n    &quot;divisa&quot;    TEXT,\n    &quot;importo&quot;   TEXT,\n    &quot;scadenza&quot;  TEXT,\n    &quot;mod_pagamento&quot; TEXT,\n    &quot;iban&quot;  TEXT,\n    &quot;pagamento&quot; TEXT,\n    &quot;condizioni&quot;    TEXT,\n    &quot;pagata&quot;    TEXT,\n    PRIMARY KEY(&quot;Id&quot; AUTOINCREMENT)\n</code></pre>\n<p>And here the Kotlin insertion function I wrote:</p>\n<pre><code>fun insertObject (connection:Connection,bill: BaseBill) {\n\n    val insertionQuery :String = &quot;insert into BILLS (&quot; +\n            &quot;fornitore_pi,&quot; +\n            &quot;fornitore_denom,&quot; +\n            &quot;fornitore_cap,&quot; +\n            &quot;fornitore_indirizzo,&quot; +\n            &quot;fornitore_comune,&quot; +\n            &quot;fornitore_provincia,&quot; +\n            &quot;fornitore_nazione,&quot; +\n            &quot;cliente_pi,&quot; +\n            &quot;cliente_denom,&quot; +\n            &quot;cliente_cap,&quot; +\n            &quot;cliente_denom,&quot; +\n            &quot;cliente_indirizzo,&quot; +\n            &quot;cliente_comune,&quot; +\n            &quot;cliente_provincia,&quot; +\n            &quot;cliente_nazione,&quot; +\n            &quot;data,&quot; +\n            &quot;numero,&quot; +\n            &quot;tipo,&quot; +\n            &quot;divisa,&quot; +\n            &quot;importo,&quot; +\n            &quot;scadenza,&quot; +\n            &quot;mod_pagamento,&quot; +\n            &quot;iban,&quot; +\n            &quot;pagamento,&quot; +\n            &quot;condizioni,&quot; +\n            &quot;pagata&quot; +\n            &quot;) values (&quot; +\n            &quot;?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?&quot; +\n            &quot;)&quot;\n\n    val driver = connection.prepareStatement(insertionQuery)\n\n    var counter = 0\n\n    driver.setString(++counter,bill.features[&quot;fornitore_pi&quot;])\n    driver.setString(++counter,bill.features[&quot;fornitore_denom&quot;])\n    driver.setString(++counter,bill.features[&quot;fornitore_cap&quot;])\n    driver.setString(++counter,bill.features[&quot;fornitore_indirizzo&quot;]?.normalizer())\n    driver.setString(++counter,bill.features[&quot;fornitore_comune&quot;])\n    driver.setString(++counter,bill.features[&quot;fornitore_provincia&quot;])\n    driver.setString(++counter,bill.features[&quot;fornitore_nazione&quot;])\n    driver.setString(++counter,bill.features[&quot;cliente_pi&quot;])\n    driver.setString(++counter,bill.features[&quot;cliente_denom&quot;])\n    driver.setString(++counter,bill.features[&quot;cliente_cap&quot;])\n    driver.setString(++counter,bill.features[&quot;cliente_indirizzo&quot;])\n    driver.setString(++counter,bill.features[&quot;cliente_comune&quot;])\n    driver.setString(++counter,bill.features[&quot;cliente_provincia&quot;])\n    driver.setString(++counter,bill.features[&quot;cliente_nazione&quot;])\n    driver.setString(++counter,bill.features[&quot;data&quot;])\n    driver.setString(++counter,bill.features[&quot;numero&quot;])\n    driver.setString(++counter,bill.features[&quot;tipo&quot;])\n    driver.setString(++counter,bill.features[&quot;divisa&quot;])\n    driver.setString(++counter,bill.features[&quot;importo&quot;])\n    driver.setString(++counter,bill.features[&quot;scadenza&quot;])\n    driver.setString(++counter,bill.features[&quot;mod_pagamento&quot;])\n    driver.setString(++counter,bill.features[&quot;iban&quot;])\n    driver.setString(++counter,bill.features[&quot;pagamento&quot;])\n    driver.setString(++counter,bill.features[&quot;condizioni&quot;])\n    driver.setString(++counter,bill.features[&quot;pagata&quot;])\n\n    driver.execute()\n</code></pre>\n<p>Now the strange fact about this is that it generates no errors at all, but the values that should go under the <code>cliente_indirizzo</code> column get all skipped. So the column <code>cliente_indirizzo</code> gets filled with <code>cliente_comune</code> values and everything is moved one column back, generating all null values on the last column.\nWhat am I missing? Any idea about this?\nThanks in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649242082,"post_id":71742805,"comment_id":126824582,"body_markdown":"I recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead justv use `OffsetDateTime` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead justv use <code>OffsetDateTime</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649104085,"creation_date":1649100858,"answer_id":71742843,"question_id":71742805,"body_markdown":"# tl;dr\r\n\r\n    Date.from( \r\n        OffsetDateTime\r\n        .parse( &quot;2018-02-13T00:00:51.045+13:00&quot; )\r\n        .toInstant() \r\n    ) \r\n\r\n\r\n\r\n# Details\r\n \r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. Avoid `Date`/`Calendar`. \r\n\r\nFor a date with time of day as seen with a particular offset, use `OffsetDateTime` class. \r\n\r\nYour input text complies with the standard ISO 8601 format used by default in the *java.time* classes. So no need to specify a formatting pattern. \r\n\r\n    OffsetDateTime.parse( &quot;2018-02-13T00:00:51.045+13:00&quot; )\r\n\r\nIf you must use the legacy classes to interoperate with old code not yet updated for *java.time*, you can convert to and fro. Use the new conversion methods added to the old classes. \r\n\r\n    java.util.Date d = Date.from( myOffsetDateTime.toInstant() ) ;\r\n\r\nAll this has been covered many many times already on Stack Overflow. Search to learn more. And see the tutorial provided by Oracle Corp free of cost. ","title":"Java ParseException Unparseable date when date string is UTC+13:00 timezone","body":"<h1>tl;dr</h1>\n<pre><code>Date.from( \n    OffsetDateTime\n    .parse( &quot;2018-02-13T00:00:51.045+13:00&quot; )\n    .toInstant() \n) \n</code></pre>\n<h1>Details</h1>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310. Avoid <code>Date</code>/<code>Calendar</code>.</p>\n<p>For a date with time of day as seen with a particular offset, use <code>OffsetDateTime</code> class.</p>\n<p>Your input text complies with the standard ISO 8601 format used by default in the <em>java.time</em> classes. So no need to specify a formatting pattern.</p>\n<pre><code>OffsetDateTime.parse( &quot;2018-02-13T00:00:51.045+13:00&quot; )\n</code></pre>\n<p>If you must use the legacy classes to interoperate with old code not yet updated for <em>java.time</em>, you can convert to and fro. Use the new conversion methods added to the old classes.</p>\n<pre><code>java.util.Date d = Date.from( myOffsetDateTime.toInstant() ) ;\n</code></pre>\n<p>All this has been covered many many times already on Stack Overflow. Search to learn more. And see the tutorial provided by Oracle Corp free of cost.</p>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649104338,"creation_date":1649104338,"answer_id":71743419,"question_id":71742805,"body_markdown":"Your issue is that `SimpleDateFormat` does not support the optional sections - that is, the enclosure of parts of the format in `[ ]` characters.  You need to either\r\n\r\n- abandon the use of the optional sections,\r\n- write your own `DateFormat` implementation,\r\n- switch to the more modern classes in the `java.time` package.\r\n\r\nThe third option is usually the best - the `java.time` package has been around for many years now, and the `DateTimeFormatter` class does indeed support the `[ ]` notation.  But if you have to deal with legacy date and time classes, you might be best to write your own `DateFormat`.","title":"Java ParseException Unparseable date when date string is UTC+13:00 timezone","body":"<p>Your issue is that <code>SimpleDateFormat</code> does not support the optional sections - that is, the enclosure of parts of the format in <code>[ ]</code> characters.  You need to either</p>\n<ul>\n<li>abandon the use of the optional sections,</li>\n<li>write your own <code>DateFormat</code> implementation,</li>\n<li>switch to the more modern classes in the <code>java.time</code> package.</li>\n</ul>\n<p>The third option is usually the best - the <code>java.time</code> package has been around for many years now, and the <code>DateTimeFormatter</code> class does indeed support the <code>[ ]</code> notation.  But if you have to deal with legacy date and time classes, you might be best to write your own <code>DateFormat</code>.</p>\n"}],"owner":{"account_id":13399156,"reputation":406,"user_id":9669217,"display_name":"SlobodanT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71742843,"answer_count":2,"score":0,"last_activity_date":1649104338,"creation_date":1649100702,"question_id":71742805,"body_markdown":"I am getting weird error which I can&#39;t get around easily.\r\nThis is my code\r\n\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.[S][SS][SSS][SSSS][SSSSS][SSSSSS][SSSSSSS][SSSSSSSS][SSSSSSSSS]X&quot;);\r\n    df.setTimeZone(TimeZone.getDefault());\r\n    Date issued = df.parse(this.dateAndTimeOfIssue);\r\n\r\nI am getting exception\r\njava.text.ParseException: Unparseable date: &quot;2018-02-13T00:00:51.045+13:00&quot;\r\n\r\nDoes anyone knows what is causing error?","title":"Java ParseException Unparseable date when date string is UTC+13:00 timezone","body":"<p>I am getting weird error which I can't get around easily.\nThis is my code</p>\n<pre><code>DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.[S][SS][SSS][SSSS][SSSSS][SSSSSS][SSSSSSS][SSSSSSSS][SSSSSSSSS]X&quot;);\ndf.setTimeZone(TimeZone.getDefault());\nDate issued = df.parse(this.dateAndTimeOfIssue);\n</code></pre>\n<p>I am getting exception\njava.text.ParseException: Unparseable date: &quot;2018-02-13T00:00:51.045+13:00&quot;</p>\n<p>Does anyone knows what is causing error?</p>\n"},{"tags":["java","locks","redisson","readwritelock"],"owner":{"account_id":5005742,"reputation":11,"user_id":4023456,"display_name":"elizalde1981"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649103954,"creation_date":1649103954,"question_id":71743365,"body_markdown":"I am new to Redisson and tried to implement a ReadWriteLock downgrade but after doing the release of the writeLock, Redisson is not renewing the lock even when there is still a readlock and after 30 seconds the readlock is gone.\r\n\r\nI created a simple example to test the downgrade but it is not working as expected. In the first part, the code is creating a readwritelock and then acquiring a writelock and readlock. To check that Redisson was keeping these locks without issues, every 5 seconds the code is checking the TTL and the locks counts and everything looks fine.\r\n\r\nHowever after releasing the writeLock, Redisson is not longer renewing the lock and after 30 seconds is gone. I was expecting Redisson to continue keeping the readLock alive until it is released.\r\n\r\n```java\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport org.redisson.Redisson;\r\nimport org.redisson.api.RReadWriteLock;\r\nimport org.redisson.api.RedissonClient;\r\nimport org.redisson.config.Config;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class ReadWriteLockExample {\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(ReadWriteLockExample.class);\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tConfig config = new Config();\r\n\t\tconfig.useSingleServer().setAddress(&quot;redis://127.0.0.1:6379&quot;);\r\n\r\n\t\tRedissonClient redisson = Redisson.create(config);\r\n\r\n\t\tRReadWriteLock rwlock = redisson.getReadWriteLock(&quot;myLock&quot;);\r\n\r\n\t\trwlock.writeLock().lock();\r\n\t\tlogger.info(&quot;Write lock acquired&quot;);\r\n\t\tlogger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\r\n\t\tlogger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\r\n\r\n\t\trwlock.readLock().lock();\r\n\t\tlogger.info(&quot;Read lock acquired&quot;);\r\n\t\tlogger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\r\n\t\tlogger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 6; i++) {\r\n\t\t\tlogger.info(&quot;Lock TTL: {} Write lock count {} Read lock count: {}&quot;, rwlock.readLock().remainTimeToLive(),\r\n\t\t\t\t\trwlock.writeLock().getHoldCount(), rwlock.readLock().getHoldCount());\r\n\t\t\ttry {\r\n\t\t\t\tTimeUnit.SECONDS.sleep(5);\r\n\t\t\t} catch (InterruptedException ie) {\r\n\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Lock downgrading\r\n\t\trwlock.writeLock().unlock();\r\n\t\tlogger.info(&quot;Write lock released/downgraded&quot;);\r\n\t\tlogger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\r\n\t\tlogger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\r\n\r\n\t\t// After 30 seconds, I would expect to see the readLock still locking\r\n\t\t// However is gone\r\n\t\tfor (int i = 0; i &lt; 6; i++) {\r\n\t\t\tlogger.info(&quot;Lock TTL: {} Write lock count {} Read lock count: {}&quot;, rwlock.readLock().remainTimeToLive(),\r\n\t\t\t\t\trwlock.writeLock().getHoldCount(), rwlock.readLock().getHoldCount());\r\n\t\t\ttry {\r\n\t\t\t\tTimeUnit.SECONDS.sleep(5);\r\n\t\t\t} catch (InterruptedException ie) {\r\n\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlogger.info(&quot;Write lock count after 30s: &quot; + rwlock.writeLock().getHoldCount());\r\n\t\tlogger.info(&quot;Read lock count after 30s: &quot; + rwlock.readLock().getHoldCount());\r\n\r\n\t\t// Releasing ReadLock\r\n\t\trwlock.readLock().unlock();\r\n\t\tlogger.info(&quot;Read lock released&quot;);\r\n\t\tlogger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\r\n\t\tlogger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\r\n\r\n\t\tredisson.shutdown();\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe output:\r\n\r\n```\r\n11:34:43.417 [main] INFO  org.redisson.Version - Redisson 3.16.8\r\n11:34:44.382 [redisson-netty-2-14] INFO  org.redisson.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379\r\n11:34:44.405 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379\r\n11:34:44.455 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock acquired\r\n11:34:44.459 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 1\r\n11:34:44.461 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 0\r\n11:34:44.463 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock acquired\r\n11:34:44.465 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 1\r\n11:34:44.466 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 1\r\n11:34:44.469 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 29997 Write lock count 1 Read lock count: 1\r\n11:34:49.484 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 24988 Write lock count 1 Read lock count: 1\r\n11:34:54.514 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 19961 Write lock count 1 Read lock count: 1\r\n11:34:59.541 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 25019 Write lock count 1 Read lock count: 1\r\n11:35:04.569 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 19996 Write lock count 1 Read lock count: 1\r\n11:35:09.582 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 25074 Write lock count 1 Read lock count: 1\r\n11:35:14.596 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock released/downgraded\r\n11:35:14.599 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 0\r\n11:35:14.603 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 1\r\n11:35:14.615 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 20042 Write lock count 0 Read lock count: 1\r\n11:35:19.635 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 15021 Write lock count 0 Read lock count: 1\r\n11:35:24.647 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 10009 Write lock count 0 Read lock count: 1\r\n11:35:29.658 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 4998 Write lock count 0 Read lock count: 1\r\n11:35:34.681 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: -2 Write lock count 0 Read lock count: 0\r\n11:35:39.709 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: -2 Write lock count 0 Read lock count: 0\r\n11:35:44.727 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count after 30s: 0\r\n11:35:44.731 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count after 30s: 0\r\n11:35:44.738 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock released\r\n11:35:44.742 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 0\r\n11:35:44.745 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 0\r\n```\r\n\r\nI run this example on Redis server 6.2.5 on Ubuntu 20.04.3 LTS using WSL (Windows 10).\r\nNot sure if this a bug or I am missing something.","title":"ReadWriteLock downgrading not working as expected","body":"<p>I am new to Redisson and tried to implement a ReadWriteLock downgrade but after doing the release of the writeLock, Redisson is not renewing the lock even when there is still a readlock and after 30 seconds the readlock is gone.</p>\n<p>I created a simple example to test the downgrade but it is not working as expected. In the first part, the code is creating a readwritelock and then acquiring a writelock and readlock. To check that Redisson was keeping these locks without issues, every 5 seconds the code is checking the TTL and the locks counts and everything looks fine.</p>\n<p>However after releasing the writeLock, Redisson is not longer renewing the lock and after 30 seconds is gone. I was expecting Redisson to continue keeping the readLock alive until it is released.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.TimeUnit;\n\nimport org.redisson.Redisson;\nimport org.redisson.api.RReadWriteLock;\nimport org.redisson.api.RedissonClient;\nimport org.redisson.config.Config;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class ReadWriteLockExample {\n\n    private static final Logger logger = LoggerFactory.getLogger(ReadWriteLockExample.class);\n\n    public static void main(String[] args) {\n\n        Config config = new Config();\n        config.useSingleServer().setAddress(&quot;redis://127.0.0.1:6379&quot;);\n\n        RedissonClient redisson = Redisson.create(config);\n\n        RReadWriteLock rwlock = redisson.getReadWriteLock(&quot;myLock&quot;);\n\n        rwlock.writeLock().lock();\n        logger.info(&quot;Write lock acquired&quot;);\n        logger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\n        logger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\n\n        rwlock.readLock().lock();\n        logger.info(&quot;Read lock acquired&quot;);\n        logger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\n        logger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\n        \n        for (int i = 0; i &lt; 6; i++) {\n            logger.info(&quot;Lock TTL: {} Write lock count {} Read lock count: {}&quot;, rwlock.readLock().remainTimeToLive(),\n                    rwlock.writeLock().getHoldCount(), rwlock.readLock().getHoldCount());\n            try {\n                TimeUnit.SECONDS.sleep(5);\n            } catch (InterruptedException ie) {\n                Thread.currentThread().interrupt();\n            }\n        }\n\n        // Lock downgrading\n        rwlock.writeLock().unlock();\n        logger.info(&quot;Write lock released/downgraded&quot;);\n        logger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\n        logger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\n\n        // After 30 seconds, I would expect to see the readLock still locking\n        // However is gone\n        for (int i = 0; i &lt; 6; i++) {\n            logger.info(&quot;Lock TTL: {} Write lock count {} Read lock count: {}&quot;, rwlock.readLock().remainTimeToLive(),\n                    rwlock.writeLock().getHoldCount(), rwlock.readLock().getHoldCount());\n            try {\n                TimeUnit.SECONDS.sleep(5);\n            } catch (InterruptedException ie) {\n                Thread.currentThread().interrupt();\n            }\n        }\n\n        logger.info(&quot;Write lock count after 30s: &quot; + rwlock.writeLock().getHoldCount());\n        logger.info(&quot;Read lock count after 30s: &quot; + rwlock.readLock().getHoldCount());\n\n        // Releasing ReadLock\n        rwlock.readLock().unlock();\n        logger.info(&quot;Read lock released&quot;);\n        logger.info(&quot;Write lock count: &quot; + rwlock.writeLock().getHoldCount());\n        logger.info(&quot;Read lock count: &quot; + rwlock.readLock().getHoldCount());\n\n        redisson.shutdown();\n\n    }\n\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>11:34:43.417 [main] INFO  org.redisson.Version - Redisson 3.16.8\n11:34:44.382 [redisson-netty-2-14] INFO  org.redisson.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379\n11:34:44.405 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379\n11:34:44.455 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock acquired\n11:34:44.459 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 1\n11:34:44.461 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 0\n11:34:44.463 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock acquired\n11:34:44.465 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 1\n11:34:44.466 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 1\n11:34:44.469 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 29997 Write lock count 1 Read lock count: 1\n11:34:49.484 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 24988 Write lock count 1 Read lock count: 1\n11:34:54.514 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 19961 Write lock count 1 Read lock count: 1\n11:34:59.541 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 25019 Write lock count 1 Read lock count: 1\n11:35:04.569 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 19996 Write lock count 1 Read lock count: 1\n11:35:09.582 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 25074 Write lock count 1 Read lock count: 1\n11:35:14.596 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock released/downgraded\n11:35:14.599 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 0\n11:35:14.603 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 1\n11:35:14.615 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 20042 Write lock count 0 Read lock count: 1\n11:35:19.635 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 15021 Write lock count 0 Read lock count: 1\n11:35:24.647 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 10009 Write lock count 0 Read lock count: 1\n11:35:29.658 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: 4998 Write lock count 0 Read lock count: 1\n11:35:34.681 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: -2 Write lock count 0 Read lock count: 0\n11:35:39.709 [main] INFO  com.test.redis.ReadWriteLockExample - Lock TTL: -2 Write lock count 0 Read lock count: 0\n11:35:44.727 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count after 30s: 0\n11:35:44.731 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count after 30s: 0\n11:35:44.738 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock released\n11:35:44.742 [main] INFO  com.test.redis.ReadWriteLockExample - Write lock count: 0\n11:35:44.745 [main] INFO  com.test.redis.ReadWriteLockExample - Read lock count: 0\n</code></pre>\n<p>I run this example on Redis server 6.2.5 on Ubuntu 20.04.3 LTS using WSL (Windows 10).\nNot sure if this a bug or I am missing something.</p>\n"},{"tags":["python","java","encryption","rsa","pkcs#1"],"comments":[{"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"ᴇʟᴇvᴀтᴇ"},"score":0,"creation_date":1649102780,"post_id":71743133,"comment_id":126786914,"body_markdown":"Possible duplicate of: https://stackoverflow.com/questions/61388531/rsa-encryption-in-java-and-python-gives-different-encryption-result","body":"Possible duplicate of: <a href=\"https://stackoverflow.com/questions/61388531/rsa-encryption-in-java-and-python-gives-different-encryption-result\" title=\"rsa encryption in java and python gives different encryption result\">stackoverflow.com/questions/61388531/&hellip;</a>"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1649111120,"post_id":71743133,"comment_id":126788967,"body_markdown":"You **encrypt** with a public key and **decrypt** with a private key. Note that the public key is included in the private key for RSA, so it is probably using that. What are you trying to achieve? @ᴇʟᴇvᴀтᴇ That&#39;s not a dupe, different issue.","body":"You <b>encrypt</b> with a public key and <b>decrypt</b> with a private key. Note that the public key is included in the private key for RSA, so it is probably using that. What are you trying to achieve? @ᴇʟᴇvᴀтᴇ That&#39;s not a dupe, different issue."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1649114498,"post_id":71743133,"comment_id":126789531,"body_markdown":"Both libraries behave differently: Java, allows decryption with the public key (as part of a low level signing/verification process, where the private key is used for signing; as padding RSASSA-PKCS1-v1_5 is implicitly applied). Python, on the other hand, doesn&#39;t allow this. As described in the previous comment, Python encrypts with the public key contained in the private key (as padding RSAES-PKCS1-v1_5 is implicitly applied). Therefore your combination is not compatible (public key for both, encryption and decryption, and two divergent paddings).","body":"Both libraries behave differently: Java, allows decryption with the public key (as part of a low level signing/verification process, where the private key is used for signing; as padding RSASSA-PKCS1-v1_5 is implicitly applied). Python, on the other hand, doesn&#39;t allow this. As described in the previous comment, Python encrypts with the public key contained in the private key (as padding RSAES-PKCS1-v1_5 is implicitly applied). Therefore your combination is not compatible (public key for both, encryption and decryption, and two divergent paddings)."},{"owner":{"account_id":59873,"reputation":7919,"user_id":179034,"accept_rate":50,"display_name":"Mikhail.Mamaev"},"score":0,"creation_date":1649141962,"post_id":71743133,"comment_id":126793963,"body_markdown":"I&#39;m trying to acive secure communication between client and server applications. On client side I use public key for encryption and private key on the server side.  \nWhen the server side app responds the message supposed to be encrypted and client should be able to read it.\nI do not expose nor publish public key, it is embedded in application.\nPotentially I can switch public and private key between peers if the needful cannot be achieved with Python.","body":"I&#39;m trying to acive secure communication between client and server applications. On client side I use public key for encryption and private key on the server side.   When the server side app responds the message supposed to be encrypted and client should be able to read it. I do not expose nor publish public key, it is embedded in application. Potentially I can switch public and private key between peers if the needful cannot be achieved with Python."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1649147480,"post_id":71743133,"comment_id":126795907,"body_markdown":"The correct way is for each side to generate a key pair and exchange the public keys. Encryption uses the recipient&#39;s public key, so that only the recipient can decrypt with its own private key. Encryption with the private key is not supported by most libraries (like PyCryptodome), because decryption with the public key (which generally everyone can have) for the purpose of confidentiality is a contradiction in terms.","body":"The correct way is for each side to generate a key pair and exchange the public keys. Encryption uses the recipient&#39;s public key, so that only the recipient can decrypt with its own private key. Encryption with the private key is not supported by most libraries (like PyCryptodome), because decryption with the public key (which generally everyone can have) for the purpose of confidentiality is a contradiction in terms."}],"owner":{"account_id":59873,"reputation":7919,"user_id":179034,"accept_rate":50,"display_name":"Mikhail.Mamaev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649103664,"creation_date":1649102472,"question_id":71743133,"body_markdown":"I make RSA **encryption in python** with private key and cannot **decrypt in Java** with public key. Below is Python/Java source codes and exception.\r\nI tried multiple combinations with PKCS1_OAEP and hash algorythms but getting the same error.\r\n\r\nAt the same time encription / decription **within the same platform** works fine (e.g. encrypt in Java or Python with public key and decrypt with private and vice versa encrypt in Java or Python with private key and decrypt with public) \r\n\r\nJava version = 1.8, \r\nPython version = 3.10\r\n\r\n**Python**\r\n\r\n    import base64\r\n    from Crypto.PublicKey import RSA\r\n    from Crypto.Cipher import PKCS1_v1_5\r\n    \r\n    KEY = &quot;-----BEGIN RSA PRIVATE KEY-----\\n&quot; \\\r\n          &quot;MII...WI=&quot; \\\r\n          &quot;\\n-----END RSA PRIVATE KEY-----&quot;\r\n    \r\n    #import private key\r\n    priv_key = RSA.import_key(KEY)\r\n    rsa_cipher = PKCS1_v1_5.new(priv_key)\r\n    #encode text\r\n    enc_text = rsa_cipher.encrypt(&quot;Hello Stackoverflow&quot;.encode(&#39;utf-8&#39;))\r\n    enc_text_64 = base64.b64encode(cipher_text).decode(&quot;utf-8&quot;)\r\n    print(enc_text_64)\r\n\r\n**Java**\r\n\r\n    PublicKey pubKey = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(new ByteArrayInputStream(decodeBase64(PUBLIC_KEY))).getPublicKey();\r\n    \r\n    Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;, new BouncyCastleProvider());\r\n    cipher.init(Cipher.DECRYPT_MODE, pubKey);        \r\n    String res = new String(cipher.doFinal(Base64.getMimeDecoder().decode(str)), &quot;utf-8&quot;);\r\n\r\n**Exception in Java**\r\n\r\n    org.bouncycastle.jcajce.provider.util.BadBlockException: unable to decrypt block\r\n    Caused by: org.bouncycastle.crypto.InvalidCipherTextException: block incorrect\r\n\t\r\n","title":"RSA encryption in Python unable to decrypt in Java","body":"<p>I make RSA <strong>encryption in python</strong> with private key and cannot <strong>decrypt in Java</strong> with public key. Below is Python/Java source codes and exception.\nI tried multiple combinations with PKCS1_OAEP and hash algorythms but getting the same error.</p>\n<p>At the same time encription / decription <strong>within the same platform</strong> works fine (e.g. encrypt in Java or Python with public key and decrypt with private and vice versa encrypt in Java or Python with private key and decrypt with public)</p>\n<p>Java version = 1.8,\nPython version = 3.10</p>\n<p><strong>Python</strong></p>\n<pre><code>import base64\nfrom Crypto.PublicKey import RSA\nfrom Crypto.Cipher import PKCS1_v1_5\n\nKEY = &quot;-----BEGIN RSA PRIVATE KEY-----\\n&quot; \\\n      &quot;MII...WI=&quot; \\\n      &quot;\\n-----END RSA PRIVATE KEY-----&quot;\n\n#import private key\npriv_key = RSA.import_key(KEY)\nrsa_cipher = PKCS1_v1_5.new(priv_key)\n#encode text\nenc_text = rsa_cipher.encrypt(&quot;Hello Stackoverflow&quot;.encode('utf-8'))\nenc_text_64 = base64.b64encode(cipher_text).decode(&quot;utf-8&quot;)\nprint(enc_text_64)\n</code></pre>\n<p><strong>Java</strong></p>\n<pre><code>PublicKey pubKey = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(new ByteArrayInputStream(decodeBase64(PUBLIC_KEY))).getPublicKey();\n\nCipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;, new BouncyCastleProvider());\ncipher.init(Cipher.DECRYPT_MODE, pubKey);        \nString res = new String(cipher.doFinal(Base64.getMimeDecoder().decode(str)), &quot;utf-8&quot;);\n</code></pre>\n<p><strong>Exception in Java</strong></p>\n<pre><code>org.bouncycastle.jcajce.provider.util.BadBlockException: unable to decrypt block\nCaused by: org.bouncycastle.crypto.InvalidCipherTextException: block incorrect\n</code></pre>\n"},{"tags":["java","passwords","special-characters"],"answers":[{"tags":[],"owner":{"account_id":24422841,"reputation":110,"user_id":18464679,"display_name":"ubw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649092958,"creation_date":1649092958,"answer_id":71741290,"question_id":71741186,"body_markdown":"You don&#39;t get any validaton errors when special characters are not entered because this is not what your check does:\r\n\r\n    if(specialCounter &gt; 1)\r\n        System.out.println(&quot;Password should contain only 1 special characters&quot;);\r\n\r\nYou are printing an error message when there are more than one special characters (which doesn&#39;t make sense). I suggest:\r\n\r\n    if(specialCounter &lt; 1)\r\n        System.out.println(&quot;Password should contain at least 1 special characters&quot;);                    \r\n                    ","title":"How can I check for special characters in password validation in Java?","body":"<p>You don't get any validaton errors when special characters are not entered because this is not what your check does:</p>\n<pre><code>if(specialCounter &gt; 1)\n    System.out.println(&quot;Password should contain only 1 special characters&quot;);\n</code></pre>\n<p>You are printing an error message when there are more than one special characters (which doesn't make sense). I suggest:</p>\n<pre><code>if(specialCounter &lt; 1)\n    System.out.println(&quot;Password should contain at least 1 special characters&quot;);                    \n                \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24504724,"reputation":26,"user_id":18419893,"display_name":"Romin Mart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649103610,"creation_date":1649103610,"answer_id":71743318,"question_id":71741186,"body_markdown":"What you should do this instead in this line :\r\n\r\n\r\n    if(specialCounter != 1)\r\n        System.out.println(&quot;Password should contain only 1 special characters&quot;);\r\n\r\n\r\nif it is not equal to 0, it will throw the exception. The != means not equal, so if it is less or above 1, It will do the error.","title":"How can I check for special characters in password validation in Java?","body":"<p>What you should do this instead in this line :</p>\n<pre><code>if(specialCounter != 1)\n    System.out.println(&quot;Password should contain only 1 special characters&quot;);\n</code></pre>\n<p>if it is not equal to 0, it will throw the exception. The != means not equal, so if it is less or above 1, It will do the error.</p>\n"}],"owner":{"account_id":6830909,"reputation":457,"user_id":5254942,"accept_rate":58,"display_name":"Kivan Ilangakoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2985,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71743318,"answer_count":2,"score":0,"last_activity_date":1649103610,"creation_date":1649092433,"question_id":71741186,"body_markdown":"I am trying to get the code to check for special characters entered, however, I am not getting any validation errors when special characters are not entered in the password. Is there a reason why special characters are not been identified? All the other password validation checks work fine\r\n\r\n    //package sampleProject;\r\n    import java.util.*;\r\n    import java.util.Scanner;\r\n    \r\n    public class Lab7 {\r\n    \r\n          public static void main(String []args){\r\n             \r\n                 // Specify the maximum number of letters in a password\r\n                 final int MAX=10;\r\n                 int invalidCount = 0;                          \r\n             \r\n                 // Specifying the number of uppercase letters in password\r\n                 final int MIN_Uppercase=1;\r\n                 // Specifying the minimum lowercase letters in password\r\n                 final int NUM_Digits=2;\r\n                 // Specify the minimum number of special case letters\r\n                 final int Special=1;\r\n                 // Count number of uppercase letters in a password\r\n                 int uppercaseCounter=0;\r\n                 // Count digits in a password\r\n                 int digitCounter=0;\r\n                 // count special case letters in a password\r\n                 int specialCounter=0;            \r\n                        \r\n     System.out.println(&quot;Enter the password\\n&quot;);\r\n                \r\n     Scanner input = new Scanner(System.in);        \r\n                \r\n     String password = input.nextLine();\r\n                 \r\n                 for (int i=0; i &lt; password.length(); i++ ) {\r\n                        char c = password.charAt(i);\r\n                        if(Character.isUpperCase(c)) \r\n                              uppercaseCounter++;\r\n                        else if(Character.isDigit(c)) \r\n                              digitCounter++;     \r\n                         if(c == &#39;$&#39; || c == &#39;#&#39; || c == &#39;?&#39; || c == &#39;!&#39; || c == &#39;_&#39; || c == &#39;=&#39; || c == &#39;%&#39;){\r\n                          specialCounter++;\r\n                     }                    \r\n                 }\r\n                 \r\n                 if (password.length() &gt;= MAX &amp;&amp; uppercaseCounter &gt;= MIN_Uppercase &amp;&amp; specialCounter == 1 &amp;&amp; digitCounter == 2 || digitCounter == 3) { \r\n                        System.out.println(&quot;Valid Password&quot;);\r\n                 }\r\n                 else {\r\n                \t \tSystem.out.println(&quot;Your password does not contain the following:&quot;);            \t \t\r\n                \t \t\r\n                        if(password.length() &lt; MAX)\r\n                              System.out.println(&quot;Enter atleast 10 characters&quot;);\r\n                        if (uppercaseCounter &lt; MIN_Uppercase) \r\n                              System.out.println(&quot;Enter at least 1 uppercase character&quot;);\r\n                        if(digitCounter != 2 || digitCounter != 3) \r\n                              System.out.println(&quot;Enter either 2 or 3 digits&quot;);\r\n                        if(specialCounter &gt; 1)\r\n                              System.out.println(&quot;Password should contain only 1 special characters&quot;);                    \r\n                 }            \r\n    \t}\r\n    }","title":"How can I check for special characters in password validation in Java?","body":"<p>I am trying to get the code to check for special characters entered, however, I am not getting any validation errors when special characters are not entered in the password. Is there a reason why special characters are not been identified? All the other password validation checks work fine</p>\n<pre><code>//package sampleProject;\nimport java.util.*;\nimport java.util.Scanner;\n\npublic class Lab7 {\n\n      public static void main(String []args){\n         \n             // Specify the maximum number of letters in a password\n             final int MAX=10;\n             int invalidCount = 0;                          \n         \n             // Specifying the number of uppercase letters in password\n             final int MIN_Uppercase=1;\n             // Specifying the minimum lowercase letters in password\n             final int NUM_Digits=2;\n             // Specify the minimum number of special case letters\n             final int Special=1;\n             // Count number of uppercase letters in a password\n             int uppercaseCounter=0;\n             // Count digits in a password\n             int digitCounter=0;\n             // count special case letters in a password\n             int specialCounter=0;            \n                    \n System.out.println(&quot;Enter the password\\n&quot;);\n            \n Scanner input = new Scanner(System.in);        \n            \n String password = input.nextLine();\n             \n             for (int i=0; i &lt; password.length(); i++ ) {\n                    char c = password.charAt(i);\n                    if(Character.isUpperCase(c)) \n                          uppercaseCounter++;\n                    else if(Character.isDigit(c)) \n                          digitCounter++;     \n                     if(c == '$' || c == '#' || c == '?' || c == '!' || c == '_' || c == '=' || c == '%'){\n                      specialCounter++;\n                 }                    \n             }\n             \n             if (password.length() &gt;= MAX &amp;&amp; uppercaseCounter &gt;= MIN_Uppercase &amp;&amp; specialCounter == 1 &amp;&amp; digitCounter == 2 || digitCounter == 3) { \n                    System.out.println(&quot;Valid Password&quot;);\n             }\n             else {\n                    System.out.println(&quot;Your password does not contain the following:&quot;);                    \n                    \n                    if(password.length() &lt; MAX)\n                          System.out.println(&quot;Enter atleast 10 characters&quot;);\n                    if (uppercaseCounter &lt; MIN_Uppercase) \n                          System.out.println(&quot;Enter at least 1 uppercase character&quot;);\n                    if(digitCounter != 2 || digitCounter != 3) \n                          System.out.println(&quot;Enter either 2 or 3 digits&quot;);\n                    if(specialCounter &gt; 1)\n                          System.out.println(&quot;Password should contain only 1 special characters&quot;);                    \n             }            \n    }\n}\n</code></pre>\n"},{"tags":["java","vaadin"],"answers":[{"tags":[],"owner":{"account_id":22306698,"reputation":191,"user_id":16531281,"display_name":"Paola De Bartolo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649103475,"creation_date":1649103475,"answer_id":71743296,"question_id":71722954,"body_markdown":"Instead of using ```setText``` you could use ```setComponent``` and add a component to the joined columns header and then, you can easily style that component. Something like this:\r\n\r\n```\r\nDiv simpleNameCell = new Div();\r\nsimpleNameCell.setText(res.getSimpleName());\r\nsimpleNameCell.getElement().getStyle().set(&quot;text-align&quot;, &quot;center&quot;);\r\nheaderRow.join(nameColumn, statusColumn).setComponent(simpleNameCell);\r\n```","title":"How to center a HeaderRow in Vaadin 14?","body":"<p>Instead of using <code>setText</code> you could use <code>setComponent</code> and add a component to the joined columns header and then, you can easily style that component. Something like this:</p>\n<pre><code>Div simpleNameCell = new Div();\nsimpleNameCell.setText(res.getSimpleName());\nsimpleNameCell.getElement().getStyle().set(&quot;text-align&quot;, &quot;center&quot;);\nheaderRow.join(nameColumn, statusColumn).setComponent(simpleNameCell);\n</code></pre>\n"}],"owner":{"account_id":22184586,"reputation":31,"user_id":16427721,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649103475,"creation_date":1648959078,"question_id":71722954,"body_markdown":"I&#39;ve got a `HeaderRow` grouping a `Name` and `Status` column. The `HeaderRow` is named User and is currently positioned to the very left of a Grid. This is what it looks like now:\r\n\r\n            | User |\r\n            | Name | |Status|\r\n\r\nI would like the User header to be centered, like so:\r\n\r\n                 | User |\r\n            | Name | |Status|\r\n\r\nMy current code. Keep in mind that the statusLabel and resourceLink methods are irrelevant to the problem. \r\n\r\n    public Grid&lt;E&gt; loadGrid(Class&lt;? extends Resource&gt; res) {\r\n    \t\ttry {\r\n    \t\t\tGrid&lt;E&gt; grid = new Grid&lt;&gt;();\r\n    \t\t\tColumn&lt;E&gt; nameColumn = grid.addComponentColumn(E -&gt; resourceLink(E)).setHeader(&quot;Name&quot;).setWidth(&quot;50%&quot;)\r\n    \t\t\t\t\t.setFlexGrow(0).setTextAlign(ColumnTextAlign.CENTER);\r\n    \t\t\tColumn&lt;E&gt; statusColumn = grid.addComponentColumn(E -&gt; statusLabel(E)).setHeader(&quot;Status&quot;).setWidth(&quot;50%&quot;)\r\n    \t\t\t\t\t.setFlexGrow(0).setTextAlign(ColumnTextAlign.CENTER);\r\n    \t\t\tgrid.addClassName(&quot;availaboard-grid&quot;);\r\n    \t\t\tgrid.setAllRowsVisible(true);\r\n    \t\t\tgrid.setItems((Collection&lt;E&gt;) (db.loadResources(type)));\r\n    \r\n    \t\t\tgrid.addSelectionListener(selection -&gt; {\r\n    \t\t\t\tgrid.getSelectionModel().getFirstSelectedItem().ifPresent(item -&gt; {\r\n    \t\t\t\t\tSystem.out.println(item.getName());\r\n    \t\t\t\t});\r\n    \t\t\t});\r\n    \t\t\t\r\n    \t\t\tHeaderRow headerRow = grid.prependHeaderRow();\r\n    \t\t\theaderRow.join(nameColumn, statusColumn).setText(res.getSimpleName());\r\n    \t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\treturn grid;\r\n    \t\t} catch (IllegalArgumentException | SecurityException e) {\r\n    \r\n    \t\t}\r\n    \t\treturn null;\r\n    \r\n    \t}\r\n\r\nThanks!\r\n","title":"How to center a HeaderRow in Vaadin 14?","body":"<p>I've got a <code>HeaderRow</code> grouping a <code>Name</code> and <code>Status</code> column. The <code>HeaderRow</code> is named User and is currently positioned to the very left of a Grid. This is what it looks like now:</p>\n<pre><code>        | User |\n        | Name | |Status|\n</code></pre>\n<p>I would like the User header to be centered, like so:</p>\n<pre><code>             | User |\n        | Name | |Status|\n</code></pre>\n<p>My current code. Keep in mind that the statusLabel and resourceLink methods are irrelevant to the problem.</p>\n<pre><code>public Grid&lt;E&gt; loadGrid(Class&lt;? extends Resource&gt; res) {\n        try {\n            Grid&lt;E&gt; grid = new Grid&lt;&gt;();\n            Column&lt;E&gt; nameColumn = grid.addComponentColumn(E -&gt; resourceLink(E)).setHeader(&quot;Name&quot;).setWidth(&quot;50%&quot;)\n                    .setFlexGrow(0).setTextAlign(ColumnTextAlign.CENTER);\n            Column&lt;E&gt; statusColumn = grid.addComponentColumn(E -&gt; statusLabel(E)).setHeader(&quot;Status&quot;).setWidth(&quot;50%&quot;)\n                    .setFlexGrow(0).setTextAlign(ColumnTextAlign.CENTER);\n            grid.addClassName(&quot;availaboard-grid&quot;);\n            grid.setAllRowsVisible(true);\n            grid.setItems((Collection&lt;E&gt;) (db.loadResources(type)));\n\n            grid.addSelectionListener(selection -&gt; {\n                grid.getSelectionModel().getFirstSelectedItem().ifPresent(item -&gt; {\n                    System.out.println(item.getName());\n                });\n            });\n            \n            HeaderRow headerRow = grid.prependHeaderRow();\n            headerRow.join(nameColumn, statusColumn).setText(res.getSimpleName());\n        \n            \n            \n            return grid;\n        } catch (IllegalArgumentException | SecurityException e) {\n\n        }\n        return null;\n\n    }\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","while-loop"],"answers":[{"tags":[],"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"ᴇʟᴇvᴀтᴇ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649103399,"creation_date":1649103399,"answer_id":71743282,"question_id":71743132,"body_markdown":"You can use `Thread.sleep()` to slow down the processing.\r\nE.g. `Thread.sleep(1000)` causes the current thread to suspend execution for a second (1000 ms). Can you use that method judiciously to put delays into the code? You can use [java.util.Random](https://docs.oracle.com/javase/8/docs/api/java/util/Random.html) to generate random numbers.\r\n\r\n    Random random = new Random();\r\n\r\n    Thread.sleep((random.nextInt(6) + 1) * 1000);  // Delays from 1 - 6 secs\r\n\r\n\r\n","title":"Run each loop at a different time interval","body":"<p>You can use <code>Thread.sleep()</code> to slow down the processing.\nE.g. <code>Thread.sleep(1000)</code> causes the current thread to suspend execution for a second (1000 ms). Can you use that method judiciously to put delays into the code? You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\">java.util.Random</a> to generate random numbers.</p>\n<pre><code>Random random = new Random();\n\nThread.sleep((random.nextInt(6) + 1) * 1000);  // Delays from 1 - 6 secs\n</code></pre>\n"}],"owner":{"account_id":18586802,"reputation":9,"user_id":13544973,"display_name":"Anthony Langley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71743282,"answer_count":1,"score":0,"last_activity_date":1649103399,"creation_date":1649102454,"question_id":71743132,"body_markdown":"I&#39;m currently working on a program that pits two simulated fighters against one another. The way I have it right now, each round is done and the output is printed all at once (virtually all at once because it is calculated so fast).\r\n\r\nHow would I take the below code and make it so that actions in the second loop occur in pseudo real time where it executes x amount of seconds where x is a random roll? Any suggestions or guidance would be great. I would even settle for the second while loop executing every three seconds or so. This is a prototype for now and the simulation will get more varied so reading the output may get more interesting.\r\n```\r\npublic static void fight(Character player1, Character player2, int roundMax){\r\n        player1.setTempHitPoints(player1.getHitPoints());\r\n        player2.setTempHitPoints(player2.getHitPoints());\r\n        int r = ROUND;\r\n        while(!isFightOver(player1, player2)){\r\n            roundTimer = 0;\r\n            System.out.println(&quot;================&quot;);\r\n            System.out.println(&quot;Round &quot; + r + &quot; FIGHT!&quot;);\r\n            System.out.println(&quot;================&quot;);\r\n            while(roundTimer &lt; roundMax &amp;&amp; !isFightOver(player1, player2)){\r\n                roundTimer = roundTimer + Commands.roll(10);\r\n                round(player1, player2);\r\n                timerPrint(roundTimer, roundMax);\r\n            }\r\n            System.out.println(&quot;================&quot;);\r\n            System.out.println(&quot;Round &quot; + r + &quot; OVER!&quot;);\r\n            System.out.println(&quot;================&quot;);\r\n            System.out.println(&quot;&quot;);\r\n\r\n            if(!isFightOver(player1, player2)){\r\n                Commands.rest(player1);\r\n                Commands.rest(player2);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n            r++;\r\n        }\r\n            declareWinner(player1, player2);\r\n    }\r\n```","title":"Run each loop at a different time interval","body":"<p>I'm currently working on a program that pits two simulated fighters against one another. The way I have it right now, each round is done and the output is printed all at once (virtually all at once because it is calculated so fast).</p>\n<p>How would I take the below code and make it so that actions in the second loop occur in pseudo real time where it executes x amount of seconds where x is a random roll? Any suggestions or guidance would be great. I would even settle for the second while loop executing every three seconds or so. This is a prototype for now and the simulation will get more varied so reading the output may get more interesting.</p>\n<pre><code>public static void fight(Character player1, Character player2, int roundMax){\n        player1.setTempHitPoints(player1.getHitPoints());\n        player2.setTempHitPoints(player2.getHitPoints());\n        int r = ROUND;\n        while(!isFightOver(player1, player2)){\n            roundTimer = 0;\n            System.out.println(&quot;================&quot;);\n            System.out.println(&quot;Round &quot; + r + &quot; FIGHT!&quot;);\n            System.out.println(&quot;================&quot;);\n            while(roundTimer &lt; roundMax &amp;&amp; !isFightOver(player1, player2)){\n                roundTimer = roundTimer + Commands.roll(10);\n                round(player1, player2);\n                timerPrint(roundTimer, roundMax);\n            }\n            System.out.println(&quot;================&quot;);\n            System.out.println(&quot;Round &quot; + r + &quot; OVER!&quot;);\n            System.out.println(&quot;================&quot;);\n            System.out.println(&quot;&quot;);\n\n            if(!isFightOver(player1, player2)){\n                Commands.rest(player1);\n                Commands.rest(player2);\n            }\n            System.out.println(&quot;&quot;);\n            r++;\n        }\n            declareWinner(player1, player2);\n    }\n</code></pre>\n"},{"tags":["java","gradle","buildpack","java-17","paketo"],"answers":[{"tags":[],"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649103275,"creation_date":1649103275,"answer_id":71743262,"question_id":71731658,"body_markdown":"I can&#39;t speak to the first builder, but for Paketo Buildpacks, you just need to set `BP_JVM_VERSION` and that&#39;ll tell the builder what version to use. It&#39;ll use Java 11 by default, so I think that&#39;s why you&#39;re getting Java 11.\r\n\r\nEx:  `pack build cool-app -e BP_JVM_VERSION=17`\r\n\r\nhttps://paketo.io/docs/howto/java/#install-a-specific-jvm-version\r\n\r\nThere is a [Gradle Sample App available here](https://github.com/paketo-buildpacks/samples/tree/main/java/gradle).\r\n\r\n-------\r\n\r\nI don&#39;t know why some things have been built with Java 17, but for the Paketo Java buildpack, you cannot build with one version and run with another version, the same version is always used for both build and run.\r\n\r\nThe only time I&#39;ve seen this happen is when I build locally on Java 17 and `pack build -p build/libs/app.jar`, forgetting to set `BP_JVM_VERSION` to `17`. In that case, it&#39;ll build from my locally compiled code which is from a newer Java version.\r\n\r\nIf you leave off the `-p` argument or have `-p` point to your Java source code, then you should always get a consistent build with the same version of Java at build and runtime.","title":"How do I enable a Cloud Native Buildpacks builder to detect my Gradle Java project&#39;s Java version?","body":"<p>I can't speak to the first builder, but for Paketo Buildpacks, you just need to set <code>BP_JVM_VERSION</code> and that'll tell the builder what version to use. It'll use Java 11 by default, so I think that's why you're getting Java 11.</p>\n<p>Ex:  <code>pack build cool-app -e BP_JVM_VERSION=17</code></p>\n<p><a href=\"https://paketo.io/docs/howto/java/#install-a-specific-jvm-version\" rel=\"nofollow noreferrer\">https://paketo.io/docs/howto/java/#install-a-specific-jvm-version</a></p>\n<p>There is a <a href=\"https://github.com/paketo-buildpacks/samples/tree/main/java/gradle\" rel=\"nofollow noreferrer\">Gradle Sample App available here</a>.</p>\n<hr />\n<p>I don't know why some things have been built with Java 17, but for the Paketo Java buildpack, you cannot build with one version and run with another version, the same version is always used for both build and run.</p>\n<p>The only time I've seen this happen is when I build locally on Java 17 and <code>pack build -p build/libs/app.jar</code>, forgetting to set <code>BP_JVM_VERSION</code> to <code>17</code>. In that case, it'll build from my locally compiled code which is from a newer Java version.</p>\n<p>If you leave off the <code>-p</code> argument or have <code>-p</code> point to your Java source code, then you should always get a consistent build with the same version of Java at build and runtime.</p>\n"}],"owner":{"account_id":6529610,"reputation":1563,"user_id":5051165,"accept_rate":67,"display_name":"Matt Welke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71743262,"answer_count":1,"score":1,"last_activity_date":1649103275,"creation_date":1649042129,"question_id":71731658,"body_markdown":"I&#39;m having trouble getting either of the two Cloud Native Buildpacks builders I&#39;ve tried (`gcr.io/buildpacks/builder:v1` and `paketobuildpacks/builder:base`) to fully detect my desired Java version so that the right JVM is used to build my project and to run it. It seems to successfully detect my desired version as it completes the build step, but I notice in the logs during the build that it ends up downloading a version 11 JDK and I get an error when trying to run a container from the built image:\r\n\r\n```\r\nError: LinkageError occurred while loading main class com.mattwelke.javatests.JavalinPostgresJdbc\r\njava.lang.UnsupportedClassVersionError: com/mattwelke/javatests/JavalinPostgresJdbc has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n```\r\n\r\nThis error infers that it chose to use JDK 17 to build the class files but then JDK 11 to run them.\r\n\r\nMy project structure is the one produced by running `gradle init` and choosing &quot;application&quot; as the type of project to be created, except I moved the contents of `app` up into the root and deleted `settings.gradle`. I found that I had to do that in order for the first builder I tried to be able to detect it as a Gradle project in the first place. I also had to add `id &#39;com.github.johnrengelman.shadow&#39; version &#39;7.1.2&#39;` to the `plugins` section of `build.gradle`, otherwise the builder failed to build, with an error about not being able to find a main class.\r\n\r\nI added the following to `build.gradle` to indicate my preferred Java version for the project:\r\n\r\n```\r\njava {\r\n    toolchain {\r\n        languageVersion = JavaLanguageVersion.of(17)\r\n    }\r\n}\r\n```\r\n\r\nI thought that this might be something I&#39;m doing wrong, therefore being a good reason to post to Stack Overflow, instead of raising a GitHub issue in either of the repos for the two builders I tried, because I got the exact same error with both builders (the one from Google and the one from Paketo).","title":"How do I enable a Cloud Native Buildpacks builder to detect my Gradle Java project&#39;s Java version?","body":"<p>I'm having trouble getting either of the two Cloud Native Buildpacks builders I've tried (<code>gcr.io/buildpacks/builder:v1</code> and <code>paketobuildpacks/builder:base</code>) to fully detect my desired Java version so that the right JVM is used to build my project and to run it. It seems to successfully detect my desired version as it completes the build step, but I notice in the logs during the build that it ends up downloading a version 11 JDK and I get an error when trying to run a container from the built image:</p>\n<pre><code>Error: LinkageError occurred while loading main class com.mattwelke.javatests.JavalinPostgresJdbc\njava.lang.UnsupportedClassVersionError: com/mattwelke/javatests/JavalinPostgresJdbc has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n</code></pre>\n<p>This error infers that it chose to use JDK 17 to build the class files but then JDK 11 to run them.</p>\n<p>My project structure is the one produced by running <code>gradle init</code> and choosing &quot;application&quot; as the type of project to be created, except I moved the contents of <code>app</code> up into the root and deleted <code>settings.gradle</code>. I found that I had to do that in order for the first builder I tried to be able to detect it as a Gradle project in the first place. I also had to add <code>id 'com.github.johnrengelman.shadow' version '7.1.2'</code> to the <code>plugins</code> section of <code>build.gradle</code>, otherwise the builder failed to build, with an error about not being able to find a main class.</p>\n<p>I added the following to <code>build.gradle</code> to indicate my preferred Java version for the project:</p>\n<pre><code>java {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(17)\n    }\n}\n</code></pre>\n<p>I thought that this might be something I'm doing wrong, therefore being a good reason to post to Stack Overflow, instead of raising a GitHub issue in either of the repos for the two builders I tried, because I got the exact same error with both builders (the one from Google and the one from Paketo).</p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1648896761,"post_id":71716820,"comment_id":126742613,"body_markdown":"Your code is working fine, please take a loot at it again","body":"Your code is working fine, please take a loot at it again"},{"owner":{"account_id":22355114,"reputation":13,"user_id":16572547,"display_name":"FineFree22"},"score":0,"creation_date":1648911957,"post_id":71716820,"comment_id":126745503,"body_markdown":"Thanks everyone for help, i&#39;m only learning and yall helped me a lot!","body":"Thanks everyone for help, i&#39;m only learning and yall helped me a lot!"}],"answers":[{"tags":[],"owner":{"account_id":7302869,"reputation":11,"user_id":5564904,"display_name":"Roko Parac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648896897,"creation_date":1648896897,"answer_id":71716918,"question_id":71716820,"body_markdown":"    public static void main(String[] args) {\r\n        int a[][] = {\r\n                {0, 1, 1, 0, 1, 0, 0, 1, 0},\r\n                {1, 0, 1, 1, 0, 0, 0, 1, 0},\r\n                {1, 0, 0, 1, 0, 1, 1, 0, 1},\r\n                {0, 1, 0, 0, 0, 1, 0, 0, 1},\r\n                {0, 0, 1, 1, 0, 0, 0, 0, 1},\r\n                {1, 0, 0, 0, 0, 0, 1, 1, 0},\r\n                {0, 0, 0, 0, 1, 1, 1, 0, 0}\r\n        };\r\n    \r\n        int rows = a.length;\r\n        int cols = a[0].length;\r\n    \r\n        int sumCol;\r\n        int minSumCol = 100000000; // arbitrary large value\r\n    \r\n        for (int i = 0; i &lt; cols; i++) {\r\n            sumCol = 0;\r\n            for (int j = 0; j &lt; rows; j++) {\r\n                sumCol = sumCol + a[j][i];\r\n            }\r\n            minSumCol = Math.min(minSumCol, sumCol);\r\n            System.out.println(&quot;Sum of &quot; + (i + 1) + &quot; column: &quot; + sumCol);\r\n        }\r\n        System.out.println(&quot;Min sum in the matrix is: &quot; + minSumCol);\r\n    }\r\n\r\nHi, your code is indeed correct. It does return 2 as the smallest value. This is the output that I got:\r\n\r\nSum of 1 column: 3\r\n\r\nSum of 2 column: 2\r\n\r\nSum of 3 column: 3\r\n\r\nSum of 4 column: 3\r\n\r\nSum of 5 column: 2\r\n\r\nSum of 6 column: 3\r\n\r\nSum of 7 column: 3\r\n\r\nSum of 8 column: 3\r\n\r\nSum of 9 column: 3\r\n\r\nMin sum in the matrix is: 2\r\n","title":"How do i get minimum sum of 2D Array in Java?","body":"<pre><code>public static void main(String[] args) {\n    int a[][] = {\n            {0, 1, 1, 0, 1, 0, 0, 1, 0},\n            {1, 0, 1, 1, 0, 0, 0, 1, 0},\n            {1, 0, 0, 1, 0, 1, 1, 0, 1},\n            {0, 1, 0, 0, 0, 1, 0, 0, 1},\n            {0, 0, 1, 1, 0, 0, 0, 0, 1},\n            {1, 0, 0, 0, 0, 0, 1, 1, 0},\n            {0, 0, 0, 0, 1, 1, 1, 0, 0}\n    };\n\n    int rows = a.length;\n    int cols = a[0].length;\n\n    int sumCol;\n    int minSumCol = 100000000; // arbitrary large value\n\n    for (int i = 0; i &lt; cols; i++) {\n        sumCol = 0;\n        for (int j = 0; j &lt; rows; j++) {\n            sumCol = sumCol + a[j][i];\n        }\n        minSumCol = Math.min(minSumCol, sumCol);\n        System.out.println(&quot;Sum of &quot; + (i + 1) + &quot; column: &quot; + sumCol);\n    }\n    System.out.println(&quot;Min sum in the matrix is: &quot; + minSumCol);\n}\n</code></pre>\n<p>Hi, your code is indeed correct. It does return 2 as the smallest value. This is the output that I got:</p>\n<p>Sum of 1 column: 3</p>\n<p>Sum of 2 column: 2</p>\n<p>Sum of 3 column: 3</p>\n<p>Sum of 4 column: 3</p>\n<p>Sum of 5 column: 2</p>\n<p>Sum of 6 column: 3</p>\n<p>Sum of 7 column: 3</p>\n<p>Sum of 8 column: 3</p>\n<p>Sum of 9 column: 3</p>\n<p>Min sum in the matrix is: 2</p>\n"}],"owner":{"account_id":22355114,"reputation":13,"user_id":16572547,"display_name":"FineFree22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649103208,"creation_date":1648895927,"question_id":71716820,"body_markdown":"I have this code, which calculates the sum of all rows in 2D array but I want to print the smallest sum of rows also.\r\n\r\nHere down is my code:\r\n\r\n```\r\npackage com.example;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class discrete2 {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int a[][] = {\r\n                {0, 1, 1, 0, 1, 0, 0, 1, 0},\r\n                {1, 0, 1, 1, 0, 0, 0, 1, 0},\r\n                {1, 0, 0, 1, 0, 1, 1, 0, 1},\r\n                {0, 1, 0, 0, 0, 1, 0, 0, 1},\r\n                {0, 0, 1, 1, 0, 0, 0, 0, 1},\r\n                {1, 0, 0, 0, 0, 0, 1, 1, 0},\r\n                {0, 0, 0, 0, 1, 1, 1, 0, 0}\r\n        };\r\n\r\n        int rows = a.length;\r\n        int cols = a[0].length;\r\n\r\n        int sumCol;\r\n\r\n        for(int i = 0; i &lt; cols; i++){\r\n            sumCol = 0;\r\n            for(int j = 0; j &lt; rows; j++){\r\n                sumCol = sumCol + a[j][i];\r\n            }\r\n            System.out.println(&quot;Sum of &quot; + (i+1) +&quot; column: &quot; + sumCol);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried to changing my code to have variable that remembers the smallest number but it&#39;s not working somehow and gives out 3, when it should be 2.","title":"How do i get minimum sum of 2D Array in Java?","body":"<p>I have this code, which calculates the sum of all rows in 2D array but I want to print the smallest sum of rows also.</p>\n<p>Here down is my code:</p>\n<pre><code>package com.example;\n\nimport java.util.Arrays;\n\npublic class discrete2 {\n\n    public static void main(String[] args) {\n\n        int a[][] = {\n                {0, 1, 1, 0, 1, 0, 0, 1, 0},\n                {1, 0, 1, 1, 0, 0, 0, 1, 0},\n                {1, 0, 0, 1, 0, 1, 1, 0, 1},\n                {0, 1, 0, 0, 0, 1, 0, 0, 1},\n                {0, 0, 1, 1, 0, 0, 0, 0, 1},\n                {1, 0, 0, 0, 0, 0, 1, 1, 0},\n                {0, 0, 0, 0, 1, 1, 1, 0, 0}\n        };\n\n        int rows = a.length;\n        int cols = a[0].length;\n\n        int sumCol;\n\n        for(int i = 0; i &lt; cols; i++){\n            sumCol = 0;\n            for(int j = 0; j &lt; rows; j++){\n                sumCol = sumCol + a[j][i];\n            }\n            System.out.println(&quot;Sum of &quot; + (i+1) +&quot; column: &quot; + sumCol);\n        }\n    }\n}\n</code></pre>\n<p>I tried to changing my code to have variable that remembers the smallest number but it's not working somehow and gives out 3, when it should be 2.</p>\n"},{"tags":["java","jvm","keytool"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1409294396,"post_id":8980364,"comment_id":39919666,"body_markdown":"You need to import a certificate into your JVM *truststore,* unless its a signed CSR, in which case you should be importing it into your *own* keystore, and you must already know where that is, otherwise you wouldn&#39;t have been able to generate the keypair or the CSR.","body":"You need to import a certificate into your JVM <i>truststore,</i> unless its a signed CSR, in which case you should be importing it into your <i>own</i> keystore, and you must already know where that is, otherwise you wouldn&#39;t have been able to generate the keypair or the CSR."}],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":2,"up_vote_count":163,"is_accepted":false,"score":161,"last_activity_date":1415898921,"creation_date":1327364061,"answer_id":8980460,"question_id":8980364,"body_markdown":"Your keystore will be in your `JAVA_HOME---&gt; JRE --&gt;lib---&gt; security--&gt; cacerts`.  You need to check where your JAVA_HOME is configured, possibly one of these places, \r\n\r\n 1. Computer---&gt;Advanced --&gt; Environment variables---&gt; JAVA_HOME\r\n \r\n 2. Your server startup batch files.\r\n\r\nIn your import command -keystore cacerts (give full path to the above JRE here instead of just saying cacerts).","title":"How do I find out what keystore my JVM is using?","body":"<p>Your keystore will be in your <code>JAVA_HOME---&gt; JRE --&gt;lib---&gt; security--&gt; cacerts</code>.  You need to check where your JAVA_HOME is configured, possibly one of these places, </p>\n\n<ol>\n<li><p>Computer--->Advanced --> Environment variables---> JAVA_HOME</p></li>\n<li><p>Your server startup batch files.</p></li>\n</ol>\n\n<p>In your import command -keystore cacerts (give full path to the above JRE here instead of just saying cacerts).</p>\n"},{"tags":[],"owner":{"account_id":443300,"reputation":15543,"user_id":834424,"accept_rate":91,"display_name":"dbrin"},"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1649102368,"creation_date":1327364275,"answer_id":8980479,"question_id":8980364,"body_markdown":"**Keystore Location**\r\n\r\nEach keytool command has a `-keystore` option for specifying the name and location of the persistent keystore file for the keystore managed by keytool. The keystore is by default stored in a file named `.keystore` in the user&#39;s home directory, as determined by the &quot;user.home&quot; system property. Given user name uName, the &quot;user.home&quot; property value defaults to\r\n\r\n    C:\\Users\\uName on Windows 7 systems\r\n    C:\\Winnt\\Profiles\\uName on multi-user Windows NT systems\r\n    C:\\Windows\\Profiles\\uName on multi-user Windows 95 systems\r\n    C:\\Windows on single-user Windows 95 systems\r\n\r\nThus, if the user name is &quot;cathy&quot;, &quot;user.home&quot; defaults to\r\n\r\n    C:\\Users\\cathy on Windows 7 systems\r\n    C:\\Winnt\\Profiles\\cathy on multi-user Windows NT systems\r\n    C:\\Windows\\Profiles\\cathy on multi-user Windows 95 systems\r\n\r\n[https://docs.oracle.com/en/java/javase/17/docs/specs/man/keytool.html#importing-a-certificate-for-the-ca][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/keytool.html#importing-a-certificate-for-the-ca","title":"How do I find out what keystore my JVM is using?","body":"<p><strong>Keystore Location</strong></p>\n<p>Each keytool command has a <code>-keystore</code> option for specifying the name and location of the persistent keystore file for the keystore managed by keytool. The keystore is by default stored in a file named <code>.keystore</code> in the user's home directory, as determined by the &quot;user.home&quot; system property. Given user name uName, the &quot;user.home&quot; property value defaults to</p>\n<pre><code>C:\\Users\\uName on Windows 7 systems\nC:\\Winnt\\Profiles\\uName on multi-user Windows NT systems\nC:\\Windows\\Profiles\\uName on multi-user Windows 95 systems\nC:\\Windows on single-user Windows 95 systems\n</code></pre>\n<p>Thus, if the user name is &quot;cathy&quot;, &quot;user.home&quot; defaults to</p>\n<pre><code>C:\\Users\\cathy on Windows 7 systems\nC:\\Winnt\\Profiles\\cathy on multi-user Windows NT systems\nC:\\Windows\\Profiles\\cathy on multi-user Windows 95 systems\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/keytool.html#importing-a-certificate-for-the-ca\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/specs/man/keytool.html#importing-a-certificate-for-the-ca</a></p>\n"},{"tags":[],"owner":{"account_id":156936,"reputation":3579,"user_id":374532,"display_name":"Sharan Rajendran"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1386327101,"creation_date":1341510636,"answer_id":11349768,"question_id":8980364,"body_markdown":"As DimtryB mentioned, by default the keystore is under the user directory. But if you are trying to update the `cacerts` file, so that the JVM can pick the keys, then you will have to update the `cacerts` file under `jre/lib/security`. You can also view the keys by executing the command `keytool -list -keystore cacerts` to see if your certificate is added. ","title":"How do I find out what keystore my JVM is using?","body":"<p>As DimtryB mentioned, by default the keystore is under the user directory. But if you are trying to update the <code>cacerts</code> file, so that the JVM can pick the keys, then you will have to update the <code>cacerts</code> file under <code>jre/lib/security</code>. You can also view the keys by executing the command <code>keytool -list -keystore cacerts</code> to see if your certificate is added. </p>\n"},{"tags":[],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1355318977,"creation_date":1354718475,"answer_id":13725671,"question_id":8980364,"body_markdown":"This works for me:\r\n\r\n&lt;!-- language: lang-sh --&gt;\r\n&lt;pre&gt;\r\n#! /bin/bash\r\n\r\nCACERTS=$(readlink -e $(dirname $(readlink -e $(which keytool)))/../lib/security/cacerts)\r\n\r\nif keytool -list -keystore $CACERTS -storepass changeit &gt; /dev/null ; then\r\n    echo $CACERTS\r\nelse\r\n    echo &#39;Can not find cacerts file.&#39; &gt;&amp;2\r\n    exit 1\r\nfi\r\n&lt;/pre&gt;\r\n\r\nOnly for Linux. My Solaris has no readlink. In the end I used this Perl-Script:\r\n\r\n&lt;!-- language: lang-perl --&gt;\r\n&lt;pre&gt;\r\n#! /usr/bin/env perl\r\nuse strict;\r\nuse warnings;\r\nuse Cwd qw(realpath);\r\n$_ = realpath((grep {-x &amp;&amp; -f} map {&quot;$_/keytool&quot;} split(&#39;:&#39;, $ENV{PATH}))[0]);\r\ndie &quot;Can not find keytool&quot; unless defined $_;\r\nmy $keytool = $_;\r\nprint &quot;Using &#39;$keytool&#39;.\\n&quot;;\r\ns/keytool$//;\r\n$_ = realpath($_ . &#39;../lib/security/cacerts&#39;);\r\ndie &quot;Can not find cacerts&quot; unless -f $_;\r\nmy $cacerts = $_;\r\nprint &quot;Importing into &#39;$cacerts&#39;.\\n&quot;;\r\n`$keytool -list -keystore &quot;$cacerts&quot; -storepass changeit`;\r\ndie &quot;Can not read key container&quot; unless $? == 0;\r\nexit if $ARGV[0] eq &#39;-d&#39;;\r\nforeach (@ARGV) {\r\n    my $cert = $_;\r\n    s/\\.[^.]+$//;\r\n    my $alias = $_;\r\n    print &quot;Importing &#39;$cert&#39; as &#39;$alias&#39;.\\n&quot;;\r\n    `keytool -importcert -file &quot;$cert&quot; -alias &quot;$alias&quot; -keystore &quot;$cacerts&quot; -storepass changeit`;\r\n    warn &quot;Can not import certificate: $?&quot; unless $? == 0;\r\n}\r\n&lt;/pre&gt;","title":"How do I find out what keystore my JVM is using?","body":"<p>This works for me:</p>\n\n<pre class=\"lang-sh prettyprint-override\">\n#! /bin/bash\n\nCACERTS=$(readlink -e $(dirname $(readlink -e $(which keytool)))/../lib/security/cacerts)\n\nif keytool -list -keystore $CACERTS -storepass changeit > /dev/null ; then\n    echo $CACERTS\nelse\n    echo 'Can not find cacerts file.' >&2\n    exit 1\nfi\n</pre>\n\n<p>Only for Linux. My Solaris has no readlink. In the end I used this Perl-Script:</p>\n\n<pre class=\"lang-perl prettyprint-override\">\n#! /usr/bin/env perl\nuse strict;\nuse warnings;\nuse Cwd qw(realpath);\n$_ = realpath((grep {-x && -f} map {\"$_/keytool\"} split(':', $ENV{PATH}))[0]);\ndie \"Can not find keytool\" unless defined $_;\nmy $keytool = $_;\nprint \"Using '$keytool'.\\n\";\ns/keytool$//;\n$_ = realpath($_ . '../lib/security/cacerts');\ndie \"Can not find cacerts\" unless -f $_;\nmy $cacerts = $_;\nprint \"Importing into '$cacerts'.\\n\";\n`$keytool -list -keystore \"$cacerts\" -storepass changeit`;\ndie \"Can not read key container\" unless $? == 0;\nexit if $ARGV[0] eq '-d';\nforeach (@ARGV) {\n    my $cert = $_;\n    s/\\.[^.]+$//;\n    my $alias = $_;\n    print \"Importing '$cert' as '$alias'.\\n\";\n    `keytool -importcert -file \"$cert\" -alias \"$alias\" -keystore \"$cacerts\" -storepass changeit`;\n    warn \"Can not import certificate: $?\" unless $? == 0;\n}\n</pre>\n"},{"tags":[],"owner":{"account_id":799227,"reputation":4289,"user_id":1118703,"accept_rate":67,"display_name":"Evans Y."},"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1540709903,"creation_date":1384140923,"answer_id":19898415,"question_id":8980364,"body_markdown":"You can find it in your &quot;Home&quot; directory:\r\n\r\nOn Windows 7:\r\n\r\n    C:\\Users\\&lt;YOUR_ACCOUNT&gt;\\.keystore\r\n\r\nOn Linux (Ubuntu):\r\n\r\n    /home/&lt;YOUR_ACCOUNT&gt;/.keystore","title":"How do I find out what keystore my JVM is using?","body":"<p>You can find it in your \"Home\" directory:</p>\n\n<p>On Windows 7:</p>\n\n<pre><code>C:\\Users\\&lt;YOUR_ACCOUNT&gt;\\.keystore\n</code></pre>\n\n<p>On Linux (Ubuntu):</p>\n\n<pre><code>/home/&lt;YOUR_ACCOUNT&gt;/.keystore\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6067116,"reputation":1,"user_id":4737030,"display_name":"Nicolas de Jong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445864788,"creation_date":1445864788,"answer_id":33346551,"question_id":8980364,"body_markdown":"We encountered this issue on a Tomcat running from a jre directory that was (almost fully) removed after an automatic jre update, so that the running jre could no longer find jre.../lib/security/cacerts because it no longer existed.\r\n\r\nRestarting Tomcat (after changing the configuration to run from the different jre location) fixed the problem.","title":"How do I find out what keystore my JVM is using?","body":"<p>We encountered this issue on a Tomcat running from a jre directory that was (almost fully) removed after an automatic jre update, so that the running jre could no longer find jre.../lib/security/cacerts because it no longer existed.</p>\n\n<p>Restarting Tomcat (after changing the configuration to run from the different jre location) fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":5306113,"reputation":3722,"user_id":4233951,"accept_rate":56,"display_name":"atlas_scoffed"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1478046310,"creation_date":1478046310,"answer_id":40370627,"question_id":8980364,"body_markdown":"Mac OS X 10.12 with Java 1.8:\r\n\r\n$JAVA_HOME/jre/lib/security\r\n\r\n    cd $JAVA_HOME\r\n\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home\r\n\r\nFrom there it&#39;s in:\r\n\r\n    ./jre/lib/security\r\n\r\nI have a cacerts keystore in there.\r\n\r\nTo specify this as a VM option:\r\n\r\n    -Djavax.net.ssl.trustStore=/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/security/cacerts -Djavax.net.ssl.trustStorePassword=changeit\r\n\r\nI&#39;m not saying this is the correct way (Why doesn&#39;t java know to look within JAVA_HOME?), but this is what I had to do to get it working.\r\n","title":"How do I find out what keystore my JVM is using?","body":"<p>Mac OS X 10.12 with Java 1.8:</p>\n\n<p>$JAVA_HOME/jre/lib/security</p>\n\n<pre><code>cd $JAVA_HOME\n</code></pre>\n\n<p>/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home</p>\n\n<p>From there it's in:</p>\n\n<pre><code>./jre/lib/security\n</code></pre>\n\n<p>I have a cacerts keystore in there.</p>\n\n<p>To specify this as a VM option:</p>\n\n<pre><code>-Djavax.net.ssl.trustStore=/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/jre/lib/security/cacerts -Djavax.net.ssl.trustStorePassword=changeit\n</code></pre>\n\n<p>I'm not saying this is the correct way (Why doesn't java know to look within JAVA_HOME?), but this is what I had to do to get it working.</p>\n"},{"tags":[],"owner":{"account_id":10045083,"reputation":448,"user_id":7426774,"display_name":"VSh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551734251,"creation_date":1551734251,"answer_id":54991695,"question_id":8980364,"body_markdown":"In addition to all answers above:\r\n\r\nIf updating the cacerts file in JRE directory doesn&#39;t help, try to update it in JDK. \r\n\r\n**C:\\Program Files\\Java\\jdk1.8.0_192\\jre\\lib\\security**","title":"How do I find out what keystore my JVM is using?","body":"<p>In addition to all answers above:</p>\n\n<p>If updating the cacerts file in JRE directory doesn't help, try to update it in JDK. </p>\n\n<p><strong>C:\\Program Files\\Java\\jdk1.8.0_192\\jre\\lib\\security</strong></p>\n"},{"tags":[],"owner":{"account_id":3441364,"reputation":602,"user_id":2883267,"display_name":"Patrick Beard"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1556155627,"creation_date":1556155627,"answer_id":55840594,"question_id":8980364,"body_markdown":"On Debian, using openjdk version &quot;1.8.0_212&quot;, I found cacerts here:\r\n\r\n     /etc/ssl/certs/java/cacerts\r\n\r\nSure would be handy if there was a standard command that would print out this path.","title":"How do I find out what keystore my JVM is using?","body":"<p>On Debian, using openjdk version \"1.8.0_212\", I found cacerts here:</p>\n\n<pre><code> /etc/ssl/certs/java/cacerts\n</code></pre>\n\n<p>Sure would be handy if there was a standard command that would print out this path.</p>\n"},{"tags":[],"owner":{"account_id":6402290,"reputation":12668,"user_id":4964553,"display_name":"jonashackt"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1566982136,"creation_date":1566982136,"answer_id":57688426,"question_id":8980364,"body_markdown":"For me using the [official OpenJDK 12 Docker image](https://hub.docker.com/_/openjdk), the location of the Java keystore was:\r\n\r\n    /usr/java/openjdk-12/lib/security/cacerts","title":"How do I find out what keystore my JVM is using?","body":"<p>For me using the <a href=\"https://hub.docker.com/_/openjdk\" rel=\"noreferrer\">official OpenJDK 12 Docker image</a>, the location of the Java keystore was:</p>\n\n<pre><code>/usr/java/openjdk-12/lib/security/cacerts\n</code></pre>\n"}],"owner":{"account_id":126889,"reputation":11185,"user_id":323698,"accept_rate":78,"display_name":"Strong Like Bull"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582650,"favorite_count":0,"down_vote_count":1,"up_vote_count":161,"answer_count":10,"score":160,"last_activity_date":1649102368,"creation_date":1327363244,"question_id":8980364,"body_markdown":"I need to import a certificate into my JVM keystore. I am using the following:\r\n\r\n    keytool -import -alias daldap -file somecert.cer\r\n\r\n\r\nso I would need to probably change my call into something like:\r\n\r\n    keytool -import -alias daldap -file somecert.cer -keystore cacerts –storepass changeit","title":"How do I find out what keystore my JVM is using?","body":"<p>I need to import a certificate into my JVM keystore. I am using the following:</p>\n\n<pre><code>keytool -import -alias daldap -file somecert.cer\n</code></pre>\n\n<p>so I would need to probably change my call into something like:</p>\n\n<pre><code>keytool -import -alias daldap -file somecert.cer -keystore cacerts –storepass changeit\n</code></pre>\n"},{"tags":["java","eclipse","uml","prototype","papyrus"],"comments":[{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":0,"creation_date":1648843579,"post_id":71707656,"comment_id":126735611,"body_markdown":"Is it the output from Eclipse which you don&#39;t understand? Then how about &quot;Error messages from Eclipse when creating UML&quot; or whatever (I don&#39;t know Eclipse)?","body":"Is it the output from Eclipse which you don&#39;t understand? Then how about &quot;Error messages from Eclipse when creating UML&quot; or whatever (I don&#39;t know Eclipse)?"},{"owner":{"account_id":3804693,"reputation":2622,"user_id":3157428,"accept_rate":88,"display_name":"Ruli"},"score":0,"creation_date":1648896006,"post_id":71707656,"comment_id":126742491,"body_markdown":"there are no errors, it seems the output is correct, I simply can&#39;t understand how the uml package works, how am I supposed to do something like &quot;select one of the diagrams contained in UML and analyze it&#39;s elements one by one&quot;. The output I get seems to have some structure I can&#39;t understand and I couldn&#39;t find any resources pointing me how to work with it.","body":"there are no errors, it seems the output is correct, I simply can&#39;t understand how the uml package works, how am I supposed to do something like &quot;select one of the diagrams contained in UML and analyze it&#39;s elements one by one&quot;. The output I get seems to have some structure I can&#39;t understand and I couldn&#39;t find any resources pointing me how to work with it."}],"answers":[{"tags":[],"owner":{"account_id":3804693,"reputation":2622,"user_id":3157428,"accept_rate":88,"display_name":"Ruli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649102006,"creation_date":1649102006,"answer_id":71743068,"question_id":71707656,"body_markdown":"Studying the docs, looking here and there on forums I was able to write some basic parser for the UML file. Right now it is parsing only a single element of state machine diagram, has unfinished list of possible attr names and just prints out the names and values, but I am adding it here if soomebody ever was looking for such code as it is hard to find some examples. It is possible that the way I am parsing it is not 100% correct, but it seems to be working. \r\n\r\n\r\n```java\r\nimport org.eclipse.emf.common.util.TreeIterator;\r\nimport org.eclipse.emf.common.util.URI;\r\nimport org.eclipse.emf.ecore.EObject;\r\nimport org.eclipse.emf.ecore.resource.Resource;\r\nimport org.eclipse.emf.ecore.resource.ResourceSet;\r\nimport org.eclipse.emf.ecore.resource.impl.ResourceSetImpl;\r\nimport org.eclipse.emf.ecore.util.BasicFeatureMap;\r\nimport org.eclipse.uml2.uml.UMLPackage;\r\nimport org.eclipse.uml2.uml.resource.UMLResource;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class Loader {\r\n\r\n    public Loader(){\r\n        List&lt;String&gt; statemachine = Arrays.asList(&quot;Transition&quot;, &quot;State&quot;, &quot;Pseudostate&quot;, &quot;FinalState&quot;);\r\n        List&lt;String&gt; usecase = Arrays.asList(&quot;Actor&quot;, &quot;UseCase&quot;, &quot;Include&quot;, &quot;ExtensionPoint&quot;, &quot;Extend&quot;, &quot;Generalization&quot;, &quot;Association&quot;, &quot;Property&quot;);\r\n        List&lt;String&gt; classdiag = Arrays.asList(&quot;Class&quot;, &quot;Property&quot;, &quot;PrimitiveType&quot;, &quot;LiteralInteger&quot;, &quot;LiteralUnlimitedNatural&quot;,&quot;Association&quot;, &quot;Generalization&quot;, &quot;PrimitiveType&quot;);\r\n        //default behaviour\r\n        ResourceSet set = new ResourceSetImpl();\r\n        set.getPackageRegistry().put(UMLPackage.eNS_URI, UMLPackage.eINSTANCE);\r\n        set.getResourceFactoryRegistry().getExtensionToFactoryMap()\r\n                .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\r\n        Resource.Factory.Registry.INSTANCE.getExtensionToFactoryMap()\r\n                .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\r\n\r\n        Resource res = set.getResource(URI.createFileURI(&quot;C:/Users/gopco/workspace-papyrus/Test/Test.uml&quot;), true);\r\n\r\n        boolean classd = false;\r\n        boolean usecased = false;\r\n        boolean stated = false;\r\n        for (\r\n                TreeIterator&lt;EObject&gt; i = res.getAllContents();\r\n                i.hasNext();\r\n        ) {\r\n            EObject current = i.next();\r\n            try {\r\n                if(!stated &amp; current.eClass().getName().equals(&quot;StateMachine&quot;)){\r\n                    System.out.println(&quot;--------------------------------------------&quot;);\r\n                    classd = false;\r\n                    usecased = false;\r\n                    stated = true;\r\n                    System.out.println(&quot;State machine diagram found with these elements: &quot;);\r\n                }\r\n                else if(!usecased &amp; current.eClass().getName().equals(&quot;Interaction&quot;)){\r\n                    System.out.println(&quot;--------------------------------------------&quot;);\r\n                    classd = false;\r\n                    usecased = true;\r\n                    stated = false;\r\n                    System.out.println(&quot;Use-case diagram found with these elements: &quot;);\r\n                }\r\n                else if(!classd &amp; current.eClass().getName().equals(&quot;Class&quot;)){\r\n                    System.out.println(&quot;--------------------------------------------&quot;);\r\n                    classd = true;\r\n                    usecased = false;\r\n                    stated = false;\r\n                    System.out.println(&quot;Class diagram found with these elements: &quot;);\r\n                }\r\n                else if (statemachine.contains(current.eClass().getName())){\r\n                    System.out.println(current.eClass().getName() + &quot; detected as a state machine element&quot;);\r\n                    if (current.eClass().getName().equals(&quot;Transition&quot;)){\r\n                        BasicFeatureMap m = (BasicFeatureMap)current.eGet(current.eClass().getEStructuralFeature ( &quot;anyAttribute&quot; ));\r\n                        for(int elems=0;elems&lt;m.basicList().size();elems++){\r\n                            System.out.println(&quot;The attr&#39;s name: &quot;+m.basicList().get(elems).toString().split(&quot;=&quot;)[0]);\r\n                            System.out.println(&quot;The attr&#39;s value: &quot;+m.basicList().get(elems).getValue());\r\n                        }\r\n                    }\r\n                }\r\n                else if (usecase.contains(current.eClass().getName())){\r\n                    System.out.println(current.eClass().getName() + &quot; detected as a use-case element&quot;);\r\n                }\r\n                else if (classd &amp; classdiag.contains(current.eClass().getName())){\r\n                    System.out.println(current.eClass().getName() + &quot; detected as a class diagram element&quot;);\r\n                }\r\n                else {\r\n                    //System.out.println(current);\r\n                    System.out.println(current.eClass().getName() + &quot; - detected elements not contained in any diagram keywords&quot;);\r\n                }\r\n            }catch(Exception e) {System.out.println(e);}\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe output follows:\r\n\r\n    Model - detected elements not contained in any diagram keywords\r\n    PackageImport - detected elements not contained in any diagram keywords\r\n    Model - detected elements not contained in any diagram keywords\r\n    --------------------------------------------\r\n    State machine diagram found with these elements: \r\n    Region - detected elements not contained in any diagram keywords\r\n    Transition detected as a state machine element\r\n    The attr&#39;s name: source\r\n    The attr&#39;s value: __KptIH08EeyJJLSm_hhhpA\r\n    The attr&#39;s name: target\r\n    The attr&#39;s value: _7Rd1EH08EeyJJLSm_hhhpA\r\n    Transition detected as a state machine element\r\n    The attr&#39;s name: name\r\n    The attr&#39;s value: InsertCardNo\r\n    The attr&#39;s name: source\r\n    The attr&#39;s value: _7Rd1EH08EeyJJLSm_hhhpA\r\n    The attr&#39;s name: target\r\n    The attr&#39;s value: _89NlMH08EeyJJLSm_hhhpA\r\n    Transition detected as a state machine element\r\n    The attr&#39;s name: name\r\n    The attr&#39;s value: InsertPassword\r\n    The attr&#39;s name: source\r\n    The attr&#39;s value: _89NlMH08EeyJJLSm_hhhpA\r\n    The attr&#39;s name: target\r\n    The attr&#39;s value: _BNzQoH09EeyJJLSm_hhhpA\r\n    Transition detected as a state machine element\r\n    The attr&#39;s name: name\r\n    The attr&#39;s value: [invalid_InputData]\r\n    The attr&#39;s name: source\r\n    The attr&#39;s value: _BNzQoH09EeyJJLSm_hhhpA\r\n    The attr&#39;s name: target\r\n    The attr&#39;s value: _7Rd1EH08EeyJJLSm_hhhpA\r\n    Transition detected as a state machine element\r\n    The attr&#39;s name: source\r\n    The attr&#39;s value: _BNzQoH09EeyJJLSm_hhhpA\r\n    The attr&#39;s name: target\r\n    The attr&#39;s value: _GwWTMH09EeyJJLSm_hhhpA\r\n    State detected as a state machine element\r\n    State detected as a state machine element\r\n    Pseudostate detected as a state machine element\r\n    State detected as a state machine element\r\n    FinalState detected as a state machine element\r\n    --------------------------------------------\r\n    Use-case diagram found with these elements: \r\n    Actor detected as a use-case element\r\n    UseCase detected as a use-case element\r\n    Include detected as a use-case element\r\n    UseCase detected as a use-case element\r\n    ExtensionPoint detected as a use-case element\r\n    UseCase detected as a use-case element\r\n    Extend detected as a use-case element\r\n    UseCase detected as a use-case element\r\n    Generalization detected as a use-case element\r\n    ...\r\n\r\n","title":"Parse .uml file with eclipse uml2","body":"<p>Studying the docs, looking here and there on forums I was able to write some basic parser for the UML file. Right now it is parsing only a single element of state machine diagram, has unfinished list of possible attr names and just prints out the names and values, but I am adding it here if soomebody ever was looking for such code as it is hard to find some examples. It is possible that the way I am parsing it is not 100% correct, but it seems to be working.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.emf.common.util.TreeIterator;\nimport org.eclipse.emf.common.util.URI;\nimport org.eclipse.emf.ecore.EObject;\nimport org.eclipse.emf.ecore.resource.Resource;\nimport org.eclipse.emf.ecore.resource.ResourceSet;\nimport org.eclipse.emf.ecore.resource.impl.ResourceSetImpl;\nimport org.eclipse.emf.ecore.util.BasicFeatureMap;\nimport org.eclipse.uml2.uml.UMLPackage;\nimport org.eclipse.uml2.uml.resource.UMLResource;\n\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Loader {\n\n    public Loader(){\n        List&lt;String&gt; statemachine = Arrays.asList(&quot;Transition&quot;, &quot;State&quot;, &quot;Pseudostate&quot;, &quot;FinalState&quot;);\n        List&lt;String&gt; usecase = Arrays.asList(&quot;Actor&quot;, &quot;UseCase&quot;, &quot;Include&quot;, &quot;ExtensionPoint&quot;, &quot;Extend&quot;, &quot;Generalization&quot;, &quot;Association&quot;, &quot;Property&quot;);\n        List&lt;String&gt; classdiag = Arrays.asList(&quot;Class&quot;, &quot;Property&quot;, &quot;PrimitiveType&quot;, &quot;LiteralInteger&quot;, &quot;LiteralUnlimitedNatural&quot;,&quot;Association&quot;, &quot;Generalization&quot;, &quot;PrimitiveType&quot;);\n        //default behaviour\n        ResourceSet set = new ResourceSetImpl();\n        set.getPackageRegistry().put(UMLPackage.eNS_URI, UMLPackage.eINSTANCE);\n        set.getResourceFactoryRegistry().getExtensionToFactoryMap()\n                .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\n        Resource.Factory.Registry.INSTANCE.getExtensionToFactoryMap()\n                .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\n\n        Resource res = set.getResource(URI.createFileURI(&quot;C:/Users/gopco/workspace-papyrus/Test/Test.uml&quot;), true);\n\n        boolean classd = false;\n        boolean usecased = false;\n        boolean stated = false;\n        for (\n                TreeIterator&lt;EObject&gt; i = res.getAllContents();\n                i.hasNext();\n        ) {\n            EObject current = i.next();\n            try {\n                if(!stated &amp; current.eClass().getName().equals(&quot;StateMachine&quot;)){\n                    System.out.println(&quot;--------------------------------------------&quot;);\n                    classd = false;\n                    usecased = false;\n                    stated = true;\n                    System.out.println(&quot;State machine diagram found with these elements: &quot;);\n                }\n                else if(!usecased &amp; current.eClass().getName().equals(&quot;Interaction&quot;)){\n                    System.out.println(&quot;--------------------------------------------&quot;);\n                    classd = false;\n                    usecased = true;\n                    stated = false;\n                    System.out.println(&quot;Use-case diagram found with these elements: &quot;);\n                }\n                else if(!classd &amp; current.eClass().getName().equals(&quot;Class&quot;)){\n                    System.out.println(&quot;--------------------------------------------&quot;);\n                    classd = true;\n                    usecased = false;\n                    stated = false;\n                    System.out.println(&quot;Class diagram found with these elements: &quot;);\n                }\n                else if (statemachine.contains(current.eClass().getName())){\n                    System.out.println(current.eClass().getName() + &quot; detected as a state machine element&quot;);\n                    if (current.eClass().getName().equals(&quot;Transition&quot;)){\n                        BasicFeatureMap m = (BasicFeatureMap)current.eGet(current.eClass().getEStructuralFeature ( &quot;anyAttribute&quot; ));\n                        for(int elems=0;elems&lt;m.basicList().size();elems++){\n                            System.out.println(&quot;The attr's name: &quot;+m.basicList().get(elems).toString().split(&quot;=&quot;)[0]);\n                            System.out.println(&quot;The attr's value: &quot;+m.basicList().get(elems).getValue());\n                        }\n                    }\n                }\n                else if (usecase.contains(current.eClass().getName())){\n                    System.out.println(current.eClass().getName() + &quot; detected as a use-case element&quot;);\n                }\n                else if (classd &amp; classdiag.contains(current.eClass().getName())){\n                    System.out.println(current.eClass().getName() + &quot; detected as a class diagram element&quot;);\n                }\n                else {\n                    //System.out.println(current);\n                    System.out.println(current.eClass().getName() + &quot; - detected elements not contained in any diagram keywords&quot;);\n                }\n            }catch(Exception e) {System.out.println(e);}\n        }\n    }\n\n}\n</code></pre>\n<p>The output follows:</p>\n<pre><code>Model - detected elements not contained in any diagram keywords\nPackageImport - detected elements not contained in any diagram keywords\nModel - detected elements not contained in any diagram keywords\n--------------------------------------------\nState machine diagram found with these elements: \nRegion - detected elements not contained in any diagram keywords\nTransition detected as a state machine element\nThe attr's name: source\nThe attr's value: __KptIH08EeyJJLSm_hhhpA\nThe attr's name: target\nThe attr's value: _7Rd1EH08EeyJJLSm_hhhpA\nTransition detected as a state machine element\nThe attr's name: name\nThe attr's value: InsertCardNo\nThe attr's name: source\nThe attr's value: _7Rd1EH08EeyJJLSm_hhhpA\nThe attr's name: target\nThe attr's value: _89NlMH08EeyJJLSm_hhhpA\nTransition detected as a state machine element\nThe attr's name: name\nThe attr's value: InsertPassword\nThe attr's name: source\nThe attr's value: _89NlMH08EeyJJLSm_hhhpA\nThe attr's name: target\nThe attr's value: _BNzQoH09EeyJJLSm_hhhpA\nTransition detected as a state machine element\nThe attr's name: name\nThe attr's value: [invalid_InputData]\nThe attr's name: source\nThe attr's value: _BNzQoH09EeyJJLSm_hhhpA\nThe attr's name: target\nThe attr's value: _7Rd1EH08EeyJJLSm_hhhpA\nTransition detected as a state machine element\nThe attr's name: source\nThe attr's value: _BNzQoH09EeyJJLSm_hhhpA\nThe attr's name: target\nThe attr's value: _GwWTMH09EeyJJLSm_hhhpA\nState detected as a state machine element\nState detected as a state machine element\nPseudostate detected as a state machine element\nState detected as a state machine element\nFinalState detected as a state machine element\n--------------------------------------------\nUse-case diagram found with these elements: \nActor detected as a use-case element\nUseCase detected as a use-case element\nInclude detected as a use-case element\nUseCase detected as a use-case element\nExtensionPoint detected as a use-case element\nUseCase detected as a use-case element\nExtend detected as a use-case element\nUseCase detected as a use-case element\nGeneralization detected as a use-case element\n...\n</code></pre>\n"}],"owner":{"account_id":3804693,"reputation":2622,"user_id":3157428,"accept_rate":88,"display_name":"Ruli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71743068,"answer_count":1,"score":-1,"last_activity_date":1649102135,"creation_date":1648819551,"question_id":71707656,"body_markdown":"I am working on a task where I need to convert UML diagram to a prototype in any language that I choose. I have created a diagram through eclypse papyrus and saved it as .uml file. It contains Use-case, state machine diagram and class diagram. Combining those should be enough to create a prototype - states represent screens and their follow-up. Class diagram provides info what each screen contains and use-case diagram provides info how is it to be used. I then wish to load the uml file to a java code. After a short research, eclipse uml2 package seem to be what I need - a tool for manipulating UML elements. Thus I managed to load the UML file and somehow print it part by part:\r\n\r\n    import org.eclipse.emf.common.util.TreeIterator;\r\n    import org.eclipse.emf.common.util.URI;\r\n    import org.eclipse.emf.ecore.EObject;\r\n    import org.eclipse.emf.ecore.resource.Resource;\r\n    import org.eclipse.emf.ecore.resource.ResourceSet;\r\n    import org.eclipse.emf.ecore.resource.impl.ResourceSetImpl;\r\n    import org.eclipse.emf.ecore.util.EcoreUtil;\r\n    import org.eclipse.uml2.uml.NamedElement;\r\n    import org.eclipse.uml2.uml.UMLPackage;\r\n    import org.eclipse.uml2.uml.resource.UMLResource;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.Iterator;\r\n    \r\n    public class Loader {\r\n    \r\n        public Loader(){\r\n            //default behaviour\r\n            ResourceSet set = new ResourceSetImpl();\r\n            set.getPackageRegistry().put(UMLPackage.eNS_URI, UMLPackage.eINSTANCE);\r\n            set.getResourceFactoryRegistry().getExtensionToFactoryMap()\r\n                    .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\r\n            Resource.Factory.Registry.INSTANCE.getExtensionToFactoryMap()\r\n                    .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\r\n    \r\n            Resource res = set.getResource(URI.createFileURI(&quot;C:/Users/gopco/workspace-papyrus/Test/Test.uml&quot;), true);\r\n            Resource model = set.createResource(URI.createFileURI(&quot;C:/Users/gopco/workspace-papyrus/Test/Test.uml&quot;));\r\n    \r\n            for (TreeIterator&lt;EObject&gt; stuffInModel = res.getAllContents();\r\n                 stuffInModel.hasNext();) {\r\n                EObject eObject = stuffInModel.next();\r\n                System.out.println(&quot;--------------------------------------------&quot;);\r\n                System.out.println(eObject.eContents());\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nHowever, this produces the following output (part of it):\r\n\r\n    first result ommited for size\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@dd3b207 (eProxyURI: pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#_0 eClass: org.eclipse.emf.ecore.impl.EClassImpl@641147d0 (name: Model) (instanceClassName: null) (abstract: false, interface: false))]\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@731f8236 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@255b53dc (name: Region) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [ecore.xml.type:text=\r\n          , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6b53e23f (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=__KptIH08EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), ecore.xml.type:text=\r\n          , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@3b2c72c2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertCardNo, source=_7Rd1EH08EeyJJLSm_hhhpA, target=_89NlMH08EeyJJLSm_hhhpA]), ecore.xml.type:text=\r\n          , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@491666ad (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertPassword, source=_89NlMH08EeyJJLSm_hhhpA, target=_BNzQoH09EeyJJLSm_hhhpA]), ecore.xml.type:text=\r\n          , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@176d53b2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=[invalid_InputData], source=_BNzQoH09EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), ecore.xml.type:text=\r\n          , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@971d0d8 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=_BNzQoH09EeyJJLSm_hhhpA, target=_GwWTMH09EeyJJLSm_hhhpA]), ecore.xml.type:text=\r\n          , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@2b4a2ec7 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S1]), ecore.xml.type:text=\r\n          , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@51b7e5df (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S2]), ecore.xml.type:text=\r\n          , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@18a70f16 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@62e136d3 (name: Pseudostate) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Init]), ecore.xml.type:text=\r\n          , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@c8e4bb0 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S3]), ecore.xml.type:text=\r\n          , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6279cee3 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@4206a205 (name: FinalState) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Final State]), ecore.xml.type:text=\r\n        ], anyAttribute: [name=Region1])]\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6b53e23f (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=__KptIH08EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@3b2c72c2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertCardNo, source=_7Rd1EH08EeyJJLSm_hhhpA, target=_89NlMH08EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@491666ad (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertPassword, source=_89NlMH08EeyJJLSm_hhhpA, target=_BNzQoH09EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@176d53b2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=[invalid_InputData], source=_BNzQoH09EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@971d0d8 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=_BNzQoH09EeyJJLSm_hhhpA, target=_GwWTMH09EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@2b4a2ec7 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S1]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@51b7e5df (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S2]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@18a70f16 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@62e136d3 (name: Pseudostate) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Init]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@c8e4bb0 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S3]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6279cee3 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@4206a205 (name: FinalState) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Final State])]\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@61009542 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@77e9807f (name: Include) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [addition=_7NZC0H07EeyJJLSm_hhhpA])]\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@44a664f2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@7f9fcf7f (name: ExtensionPoint) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=ExtensionPoint1])]\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@145eaa29 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@15bb6bea (name: Extend) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [extendedCase=_7NZC0H07EeyJJLSm_hhhpA, extensionLocation=_A3uvcH08EeyJJLSm_hhhpA])]\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@41ee392b (eClass: org.eclipse.emf.ecore.impl.EClassImpl@1e67a849 (name: Generalization) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [general=_2gOwIH07EeyJJLSm_hhhpA])]\r\n    --------------------------------------------\r\n    []\r\n    --------------------------------------------\r\n    [org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@36f0f1be (eClass: org.eclipse.emf.ecore.impl.EClassImpl@1e67a849 (name: Generalization) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [general=_2gOwIH07EeyJJLSm_hhhpA])]\r\n    --------------------------------------------\r\n\r\nI cannot find clear description for this, how can I manipulate these objects? I need to determine which one is of what type (Eg. class, graph edge, actor, etc.) and according to that, create a UI representation - for example for a single state create a single screen. All I can find is commercial software converting UML to code, no opensource projects I could take inspiration from. Can somebody provide an example how to parse UML elements from .uml file and possibly process it (for examples, println is totally OK). Maybe it is described somewhere but I haven&#39;t found?","title":"Parse .uml file with eclipse uml2","body":"<p>I am working on a task where I need to convert UML diagram to a prototype in any language that I choose. I have created a diagram through eclypse papyrus and saved it as .uml file. It contains Use-case, state machine diagram and class diagram. Combining those should be enough to create a prototype - states represent screens and their follow-up. Class diagram provides info what each screen contains and use-case diagram provides info how is it to be used. I then wish to load the uml file to a java code. After a short research, eclipse uml2 package seem to be what I need - a tool for manipulating UML elements. Thus I managed to load the UML file and somehow print it part by part:</p>\n<pre><code>import org.eclipse.emf.common.util.TreeIterator;\nimport org.eclipse.emf.common.util.URI;\nimport org.eclipse.emf.ecore.EObject;\nimport org.eclipse.emf.ecore.resource.Resource;\nimport org.eclipse.emf.ecore.resource.ResourceSet;\nimport org.eclipse.emf.ecore.resource.impl.ResourceSetImpl;\nimport org.eclipse.emf.ecore.util.EcoreUtil;\nimport org.eclipse.uml2.uml.NamedElement;\nimport org.eclipse.uml2.uml.UMLPackage;\nimport org.eclipse.uml2.uml.resource.UMLResource;\n\nimport java.util.Collection;\nimport java.util.Iterator;\n\npublic class Loader {\n\n    public Loader(){\n        //default behaviour\n        ResourceSet set = new ResourceSetImpl();\n        set.getPackageRegistry().put(UMLPackage.eNS_URI, UMLPackage.eINSTANCE);\n        set.getResourceFactoryRegistry().getExtensionToFactoryMap()\n                .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\n        Resource.Factory.Registry.INSTANCE.getExtensionToFactoryMap()\n                .put(UMLResource.FILE_EXTENSION, UMLResource.Factory.INSTANCE);\n\n        Resource res = set.getResource(URI.createFileURI(&quot;C:/Users/gopco/workspace-papyrus/Test/Test.uml&quot;), true);\n        Resource model = set.createResource(URI.createFileURI(&quot;C:/Users/gopco/workspace-papyrus/Test/Test.uml&quot;));\n\n        for (TreeIterator&lt;EObject&gt; stuffInModel = res.getAllContents();\n             stuffInModel.hasNext();) {\n            EObject eObject = stuffInModel.next();\n            System.out.println(&quot;--------------------------------------------&quot;);\n            System.out.println(eObject.eContents());\n\n        }\n    }\n}\n</code></pre>\n<p>However, this produces the following output (part of it):</p>\n<pre><code>first result ommited for size\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@dd3b207 (eProxyURI: pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#_0 eClass: org.eclipse.emf.ecore.impl.EClassImpl@641147d0 (name: Model) (instanceClassName: null) (abstract: false, interface: false))]\n--------------------------------------------\n[]\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@731f8236 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@255b53dc (name: Region) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [ecore.xml.type:text=\n      , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6b53e23f (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=__KptIH08EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), ecore.xml.type:text=\n      , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@3b2c72c2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertCardNo, source=_7Rd1EH08EeyJJLSm_hhhpA, target=_89NlMH08EeyJJLSm_hhhpA]), ecore.xml.type:text=\n      , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@491666ad (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertPassword, source=_89NlMH08EeyJJLSm_hhhpA, target=_BNzQoH09EeyJJLSm_hhhpA]), ecore.xml.type:text=\n      , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@176d53b2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=[invalid_InputData], source=_BNzQoH09EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), ecore.xml.type:text=\n      , transition=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@971d0d8 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=_BNzQoH09EeyJJLSm_hhhpA, target=_GwWTMH09EeyJJLSm_hhhpA]), ecore.xml.type:text=\n      , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@2b4a2ec7 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S1]), ecore.xml.type:text=\n      , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@51b7e5df (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S2]), ecore.xml.type:text=\n      , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@18a70f16 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@62e136d3 (name: Pseudostate) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Init]), ecore.xml.type:text=\n      , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@c8e4bb0 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S3]), ecore.xml.type:text=\n      , subvertex=org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6279cee3 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@4206a205 (name: FinalState) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Final State]), ecore.xml.type:text=\n    ], anyAttribute: [name=Region1])]\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6b53e23f (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=__KptIH08EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@3b2c72c2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertCardNo, source=_7Rd1EH08EeyJJLSm_hhhpA, target=_89NlMH08EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@491666ad (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=InsertPassword, source=_89NlMH08EeyJJLSm_hhhpA, target=_BNzQoH09EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@176d53b2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=[invalid_InputData], source=_BNzQoH09EeyJJLSm_hhhpA, target=_7Rd1EH08EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@971d0d8 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@64d2d351 (name: Transition) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [source=_BNzQoH09EeyJJLSm_hhhpA, target=_GwWTMH09EeyJJLSm_hhhpA]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@2b4a2ec7 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S1]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@51b7e5df (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S2]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@18a70f16 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@62e136d3 (name: Pseudostate) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Init]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@c8e4bb0 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@564718df (name: State) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=S3]), org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@6279cee3 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@4206a205 (name: FinalState) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=Final State])]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[]\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@61009542 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@77e9807f (name: Include) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [addition=_7NZC0H07EeyJJLSm_hhhpA])]\n--------------------------------------------\n[]\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@44a664f2 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@7f9fcf7f (name: ExtensionPoint) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [name=ExtensionPoint1])]\n--------------------------------------------\n[]\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@145eaa29 (eClass: org.eclipse.emf.ecore.impl.EClassImpl@15bb6bea (name: Extend) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [extendedCase=_7NZC0H07EeyJJLSm_hhhpA, extensionLocation=_A3uvcH08EeyJJLSm_hhhpA])]\n--------------------------------------------\n[]\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@41ee392b (eClass: org.eclipse.emf.ecore.impl.EClassImpl@1e67a849 (name: Generalization) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [general=_2gOwIH07EeyJJLSm_hhhpA])]\n--------------------------------------------\n[]\n--------------------------------------------\n[org.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl@36f0f1be (eClass: org.eclipse.emf.ecore.impl.EClassImpl@1e67a849 (name: Generalization) (instanceClassName: null) (abstract: false, interface: false)) (mixed: [], anyAttribute: [general=_2gOwIH07EeyJJLSm_hhhpA])]\n--------------------------------------------\n</code></pre>\n<p>I cannot find clear description for this, how can I manipulate these objects? I need to determine which one is of what type (Eg. class, graph edge, actor, etc.) and according to that, create a UI representation - for example for a single state create a single screen. All I can find is commercial software converting UML to code, no opensource projects I could take inspiration from. Can somebody provide an example how to parse UML elements from .uml file and possibly process it (for examples, println is totally OK). Maybe it is described somewhere but I haven't found?</p>\n"},{"tags":["java","constraints","gurobi","objective-function"],"answers":[{"tags":[],"owner":{"account_id":200642,"reputation":5503,"user_id":446610,"display_name":"Greg Glockner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649101443,"creation_date":1649101443,"answer_id":71742957,"question_id":71737759,"body_markdown":"I don&#39;t have a full program to test, but I suspect the issue is the second parameter in these two methods:\r\n\r\n```\r\nmodel.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);\r\n// ...\r\nmodel.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);\r\n```\r\n\r\nThey should be:\r\n\r\n```\r\nmodel.addConstr(w, GRB.GREATER_EQUAL, expr);\r\n// ...\r\nmodel.addConstr(w, GRB.GREATER_EQUAL, expr);\r\n```\r\n\r\nAlso, it&#39;s better not to label constraints alike; if you want to label them, then use a unique identifier for each instance.","title":"How can I insert this objective function min W with its two constraints on Gurobi using Java? How do I initialise w?","body":"<p>I don't have a full program to test, but I suspect the issue is the second parameter in these two methods:</p>\n<pre><code>model.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);\n// ...\nmodel.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);\n</code></pre>\n<p>They should be:</p>\n<pre><code>model.addConstr(w, GRB.GREATER_EQUAL, expr);\n// ...\nmodel.addConstr(w, GRB.GREATER_EQUAL, expr);\n</code></pre>\n<p>Also, it's better not to label constraints alike; if you want to label them, then use a unique identifier for each instance.</p>\n"}],"owner":{"account_id":24779378,"reputation":21,"user_id":18662868,"display_name":"Paolo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649101443,"creation_date":1649077451,"question_id":71737759,"body_markdown":"I tried to initialise like this but it&#39;s wrong\r\n\r\n    GRBVar w = null;\r\n\t\tGRBLinExpr obj = new GRBLinExpr();\r\n\t\tobj.addTerm(1, w);\r\n\t\tmodel.setObjective(obj);\r\n\t\tmodel.set(GRB.IntAttr.ModelSense, GRB.MINIMIZE);\r\n\r\nThese are the two constraints\r\n\r\n w &gt;= xir pir - xik pik\r\n\r\n\t\tGRBLinExpr expr = new GRBLinExpr();\r\n\t\tfor(int i=0; i&lt;M; i++) {\r\n\t\t\tfor(int r=0; r&lt;4; r++) {\r\n\t\t\t\texpr.addTerm(pij[i][r], xij[i][r]);\r\n\t\t\t}\r\n\t\t\tfor(int n=4; n&lt;K; n++) {\r\n\t\t\t\texpr.addTerm(-pij[i][n], xij[i][n]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tmodel.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);\r\n\t\t\r\nw &gt;= xik pik - xir pir\r\n\r\n\t\texpr = new GRBLinExpr();\r\n\t\tfor(int i=0; i&lt;M; i++) {\r\n\t\t\tfor(int n=4; n&lt;K; n++) {\r\n\t\t\t\texpr.addTerm(pij[i][n], xij[i][n]);\r\n\t\t\t}\r\n\t\t\tfor(int r=0; r&lt;4; r++) {\r\n\t\t\t\texpr.addTerm(-pij[i][r], xij[i][r]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tmodel.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);","title":"How can I insert this objective function min W with its two constraints on Gurobi using Java? How do I initialise w?","body":"<p>I tried to initialise like this but it's wrong</p>\n<pre><code>GRBVar w = null;\n    GRBLinExpr obj = new GRBLinExpr();\n    obj.addTerm(1, w);\n    model.setObjective(obj);\n    model.set(GRB.IntAttr.ModelSense, GRB.MINIMIZE);\n</code></pre>\n<p>These are the two constraints</p>\n<p>w &gt;= xir pir - xik pik</p>\n<pre><code>    GRBLinExpr expr = new GRBLinExpr();\n    for(int i=0; i&lt;M; i++) {\n        for(int r=0; r&lt;4; r++) {\n            expr.addTerm(pij[i][r], xij[i][r]);\n        }\n        for(int n=4; n&lt;K; n++) {\n            expr.addTerm(-pij[i][n], xij[i][n]);\n        }\n    }\n    model.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);\n    \n</code></pre>\n<p>w &gt;= xik pik - xir pir</p>\n<pre><code>    expr = new GRBLinExpr();\n    for(int i=0; i&lt;M; i++) {\n        for(int n=4; n&lt;K; n++) {\n            expr.addTerm(pij[i][n], xij[i][n]);\n        }\n        for(int r=0; r&lt;4; r++) {\n            expr.addTerm(-pij[i][r], xij[i][r]);\n        }\n    }\n    model.addConstr(w, (char) GRB.MINIMIZE, expr, &quot;vincolo &quot;);\n</code></pre>\n"},{"tags":["java","leaflet","gis"],"comments":[{"owner":{"account_id":6615307,"reputation":48703,"user_id":5108796,"display_name":"ghybs"},"score":0,"creation_date":1649121300,"post_id":71742868,"comment_id":126790601,"body_markdown":"Do you mean you not only want a search by point name, but also by popup content and progress/symbol status?","body":"Do you mean you not only want a search by point name, but also by popup content and progress/symbol status?"},{"owner":{"account_id":18061990,"reputation":3,"user_id":13128899,"display_name":"Bj&#246;rn Bauhofer"},"score":0,"creation_date":1649191327,"post_id":71742868,"comment_id":126812505,"body_markdown":"Search by name is enough","body":"Search by name is enough"}],"owner":{"account_id":18061990,"reputation":3,"user_id":13128899,"display_name":"Bj&#246;rn Bauhofer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649100960,"creation_date":1649100960,"question_id":71742868,"body_markdown":"I have a leaflet project with around 150 points that should be displayed. The idea is to show the progress of a project, therefore there are 257 symbols which could be assigned to a point. And there is also a pop up which display additional infos. \r\nThe &quot;database&quot; is an excel sheet which gets updated regularly. So I have a python script which updates my leaflet script. This part is running fine and does what it should.\r\n\r\nCurrent code\r\n\r\n    var map = L.map(&#39;map&#39;).setView([47.0, 9.0], 13);\r\n     L.tileLayer(&#39;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&#39;, {\r\n        maxZoom: 19,\r\n        attribution: &#39;&amp;copy; &lt;a href=&quot;https://openstreetmap.org/copyright&quot;&gt;OpenStreetMap contributors&lt;/a&gt;&#39;\r\n      }).addTo(map);\r\n\r\n        // show the scale bar on the lower left corner\r\n        L.control.scale({imperial: false, metric: true}).addTo(map);\r\n\r\n        var symb_A2_22_1 = L.icon({\r\n        iconUrl: &#39;folder/KB-11.png&#39;,\r\n        iconSize:     [42, 20]\r\n        });\r\n        \r\n        var A2_22_1 = L.marker([47.4678,8.7049],{icon: symb_A2_22_1}).addTo(map)\r\n                                  \r\n        A2_22_1.bindPopup(&quot;&lt;b&gt;A2-22-1&lt;/b&gt;&lt;br&gt;x&lt;br&gt;PWD&lt;br&gt;x&lt;br&gt;x&quot;)\r\n        \r\n\r\n        var symb_A2_22_100 = L.icon({\r\n        iconUrl: &#39;folder/RS-11.png&#39;,\r\n        iconSize:     [42, 20]\r\n        });\r\n        \r\n        var A2_22_100 = L.marker([47.4708,8.7059],{icon: symb_A2_22_100}).addTo(map)\r\n                                  \r\n        A2_22_100.bindPopup(&quot;&lt;b&gt;A2-22-100&lt;/b&gt;&lt;br&gt;x&lt;br&gt;PWD&lt;br&gt;x&lt;br&gt;x)\r\n\r\nNow I want to add a search option to search by the name of the point. I already searched for solutions. I think I have to bring all my points into one layer. So the here (https://stackoverflow.com/questions/27756050/putting-multiple-markers-in-layer-group )presented solution seems to be a good idea (create markers, add to layer, and then add the layer to the map and not the single markers). \r\n\r\nHowever how I get the popup content and my custom symbol into the list?\r\n\r\nOr do you have another solution to make my markers searchable?\r\n","title":"Leaflet search options for multiple markers","body":"<p>I have a leaflet project with around 150 points that should be displayed. The idea is to show the progress of a project, therefore there are 257 symbols which could be assigned to a point. And there is also a pop up which display additional infos.\nThe &quot;database&quot; is an excel sheet which gets updated regularly. So I have a python script which updates my leaflet script. This part is running fine and does what it should.</p>\n<p>Current code</p>\n<pre><code>var map = L.map('map').setView([47.0, 9.0], 13);\n L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    maxZoom: 19,\n    attribution: '&amp;copy; &lt;a href=&quot;https://openstreetmap.org/copyright&quot;&gt;OpenStreetMap contributors&lt;/a&gt;'\n  }).addTo(map);\n\n    // show the scale bar on the lower left corner\n    L.control.scale({imperial: false, metric: true}).addTo(map);\n\n    var symb_A2_22_1 = L.icon({\n    iconUrl: 'folder/KB-11.png',\n    iconSize:     [42, 20]\n    });\n    \n    var A2_22_1 = L.marker([47.4678,8.7049],{icon: symb_A2_22_1}).addTo(map)\n                              \n    A2_22_1.bindPopup(&quot;&lt;b&gt;A2-22-1&lt;/b&gt;&lt;br&gt;x&lt;br&gt;PWD&lt;br&gt;x&lt;br&gt;x&quot;)\n    \n\n    var symb_A2_22_100 = L.icon({\n    iconUrl: 'folder/RS-11.png',\n    iconSize:     [42, 20]\n    });\n    \n    var A2_22_100 = L.marker([47.4708,8.7059],{icon: symb_A2_22_100}).addTo(map)\n                              \n    A2_22_100.bindPopup(&quot;&lt;b&gt;A2-22-100&lt;/b&gt;&lt;br&gt;x&lt;br&gt;PWD&lt;br&gt;x&lt;br&gt;x)\n</code></pre>\n<p>Now I want to add a search option to search by the name of the point. I already searched for solutions. I think I have to bring all my points into one layer. So the here (<a href=\"https://stackoverflow.com/questions/27756050/putting-multiple-markers-in-layer-group\">Putting multiple markers in Layer Group</a> )presented solution seems to be a good idea (create markers, add to layer, and then add the layer to the map and not the single markers).</p>\n<p>However how I get the popup content and my custom symbol into the list?</p>\n<p>Or do you have another solution to make my markers searchable?</p>\n"},{"tags":["java","unit-testing","spring-boot","spring-data-jpa","spy"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1533809157,"post_id":51763756,"comment_id":90487042,"body_markdown":"Why so complex? Annotate the field you want to spy upon with `@SpyBean` instead of trying to shoehorn a dedicated configuration class into place. See https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-mocking-beans","body":"Why so complex? Annotate the field you want to spy upon with <code>@SpyBean</code> instead of trying to shoehorn a dedicated configuration class into place. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-mocking-beans\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":14121720,"reputation":211,"user_id":10202040,"display_name":"a-kraschitzer"},"score":0,"creation_date":1533814592,"post_id":51763756,"comment_id":90490414,"body_markdown":"Using `@SpyBean` instead of `@Autowire` on aRepository results in the same behavior, it becomes mock but not a spy.","body":"Using <code>@SpyBean</code> instead of <code>@Autowire</code> on aRepository results in the same behavior, it becomes mock but not a spy."},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1533991542,"post_id":51763756,"comment_id":90555968,"body_markdown":"Why go to this effort and complexity to test around a repository when https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html spring boot can help you out?  Additionally this requires you to understand the underlying complexities of a repository and how it works.","body":"Why go to this effort and complexity to test around a repository when <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a> spring boot can help you out?  Additionally this requires you to understand the underlying complexities of a repository and how it works."},{"owner":{"account_id":5010755,"reputation":229,"user_id":4027107,"display_name":"Mihaita Tinta"},"score":1,"creation_date":1545399080,"post_id":51763756,"comment_id":94617709,"body_markdown":"There is an opened bug: https://github.com/spring-projects/spring-boot/issues/7033","body":"There is an opened bug: <a href=\"https://github.com/spring-projects/spring-boot/issues/7033\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/7033</a>"},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1642502062,"post_id":51763756,"comment_id":125081786,"body_markdown":"did you try this one? https://stackoverflow.com/questions/62698827/spring-aop-aspectj-afterreturning-advice-wrongly-executed-while-mockingbefo/62809074#62809074","body":"did you try this one? <a href=\"https://stackoverflow.com/questions/62698827/spring-aop-aspectj-afterreturning-advice-wrongly-executed-while-mockingbefo/62809074#62809074\" title=\"spring aop aspectj afterreturning advice wrongly executed while mockingbefo\">stackoverflow.com/questions/62698827/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1649100927,"creation_date":1547732444,"answer_id":54237213,"question_id":51763756,"body_markdown":"You should use [`@SpyBean`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/SpyBean.html) from `spring-boot-test`. \r\n\r\nThis used to be broken (per Spring Boot issue [#7033](http://github.com/spring-projects/spring-boot/issues/7033)) but it&#39;s now been fixed and supported since Spring Boot `2.5.3`.\r\n\r\nIf you still getting this error and can&#39;t update your Spring Boot version, you might want to try the work-around proposed by @Mateusz Zając in [his answer](https://stackoverflow.com/a/68632497) to this question.\r\n","title":"Mockito cannot create Spy of @Autowired Spring-Data Repository","body":"<p>You should use <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/SpyBean.html\" rel=\"nofollow noreferrer\"><code>@SpyBean</code></a> from <code>spring-boot-test</code>.</p>\n<p>This used to be broken (per Spring Boot issue <a href=\"http://github.com/spring-projects/spring-boot/issues/7033\" rel=\"nofollow noreferrer\">#7033</a>) but it's now been fixed and supported since Spring Boot <code>2.5.3</code>.</p>\n<p>If you still getting this error and can't update your Spring Boot version, you might want to try the work-around proposed by @Mateusz Zając in <a href=\"https://stackoverflow.com/a/68632497\">his answer</a> to this question.</p>\n"},{"tags":[],"owner":{"account_id":2162167,"reputation":146,"user_id":1916100,"display_name":"Mateusz Zając"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1627978301,"creation_date":1627978301,"answer_id":68632497,"question_id":51763756,"body_markdown":"**@SpyBean** now **works** with spring data repositories since spring boot version **2.5.3**\r\n\r\nIf you can&#39;t upgrade you can work around this by instantiating your spy as such in the test method body:\r\n\r\n    var yourSpy = Mockito.mock(FooRepository.class, AdditionalAnswers.delegatesTo(real))","title":"Mockito cannot create Spy of @Autowired Spring-Data Repository","body":"<p><strong>@SpyBean</strong> now <strong>works</strong> with spring data repositories since spring boot version <strong>2.5.3</strong></p>\n<p>If you can't upgrade you can work around this by instantiating your spy as such in the test method body:</p>\n<pre><code>var yourSpy = Mockito.mock(FooRepository.class, AdditionalAnswers.delegatesTo(real))\n</code></pre>\n"}],"owner":{"account_id":14121720,"reputation":211,"user_id":10202040,"display_name":"a-kraschitzer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15291,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":2,"score":21,"last_activity_date":1649100927,"creation_date":1533807894,"question_id":51763756,"body_markdown":"I am trying to overlay my whole test environment with Mockito.spy functionality so whenever I want i can stub a method but all other calls go to default functionality.\r\nThis worked very well with the Service layer but I have problems with the Repository layer.\r\n\r\nMy setup is as follows:\r\n\r\nMockito - 2.15.0\r\nSpring - 5.0.8\r\nSpringBoot - 2.0.4\r\n\r\nRepository:\r\n\r\n    public interface ARepository extends CrudRepository&lt;ADBO, Long&gt; {}\r\n\r\nService:\r\n\r\n    @Service\r\n    public class AService {\r\n\r\n        @Autowired\r\n        ARepository aRepository;\r\n\r\n        public ADBO getById(long id) {\r\n            return aRepository.findById(id).orElse(null);\r\n        }\r\n\r\n        public Iterable&lt;ADBO&gt; getAll() {\r\n            return aRepository.findAll();\r\n        }\r\n    }\r\n\r\nThe configuration for the spy:\r\n\r\n    @Profile(&quot;enableSpy&quot;)\r\n    @Configuration\r\n    public class SpyConfig {\r\n\r\n        @Bean\r\n        @Primary\r\n        public ARepository aRepository() {\r\n            return Mockito.spy(ARepository.class);\r\n        }\r\n    }\r\n\r\nAnd my test class:\r\n\r\n    @ActiveProfiles(&quot;enableSpy&quot;)\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class AServiceTest {\r\n\r\n        @Autowired\r\n        AService aService;\r\n\r\n        @Autowired\r\n        ARepository aRepository;\r\n\r\n        @Test\r\n        public void test() {\r\n            ADBO foo = new ADBO();\r\n            foo.setTestValue(&quot;bar&quot;);\r\n            aRepository.save(foo);\r\n\r\n            doReturn(Optional.of(new ADBO())).when(aRepository).findById(1L);\r\n            System.out.println(&quot;result (1):&quot; + aService.getById(1));\r\n\r\n            System.out.println(&quot;result all:&quot; + aService.getAll());\r\n\r\n        }\r\n    }\r\n\r\nNow there are three possible outcomes to this test:\r\n\r\n - aRepository is neither a mock nor a spy:  \r\n   `org.mockito.exceptions.misusing.NotAMockException: \r\n    Argument passed to when() is not a mock!\r\n    Example of corr...`\r\n - aRepository is a mock but not a spy (this is the result I get):  \r\n    `result (1):ADBO(id=null, testValue=null)\r\n    result all:[]`\r\n\r\n - aRepository is a spy (this is what I want):  \r\n    `result (1):ADBO(id=null, testValue=null)\r\n    result all:[ADBO(id=1, testValue=bar)]`\r\n\r\nI attribute this behavior to the fact that the spring instantiation of the repository is more complex in the background and the repository is not correctly instantiated when calling `Mockito.spy(ARepository.class)`.\r\n\r\nI have also tried autowireing the proper instance into the Configuration and calling `Mockito.spy()` with the @Autowired object.\r\n\r\nThis results in:\r\n\r\n    Cannot mock/spy class com.sun.proxy.$Proxy75\r\n    Mockito cannot mock/spy because :\r\n     - final class\r\n\r\nAccording to my research Mockito can mock and spy final classes since v2.0.0.\r\n\r\nCalling `Mockito.mockingDetails(aRepository).isSpy()` returns `true` which leads me to think the object in the background was not correctly instantiated.\r\n\r\n**Finally my question:**\r\n\r\nHow do I get a spy instance of a Spring-Data Repository in my UnitTest with @Autowired?","title":"Mockito cannot create Spy of @Autowired Spring-Data Repository","body":"<p>I am trying to overlay my whole test environment with Mockito.spy functionality so whenever I want i can stub a method but all other calls go to default functionality.\nThis worked very well with the Service layer but I have problems with the Repository layer.</p>\n\n<p>My setup is as follows:</p>\n\n<p>Mockito - 2.15.0\nSpring - 5.0.8\nSpringBoot - 2.0.4</p>\n\n<p>Repository:</p>\n\n<pre><code>public interface ARepository extends CrudRepository&lt;ADBO, Long&gt; {}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>@Service\npublic class AService {\n\n    @Autowired\n    ARepository aRepository;\n\n    public ADBO getById(long id) {\n        return aRepository.findById(id).orElse(null);\n    }\n\n    public Iterable&lt;ADBO&gt; getAll() {\n        return aRepository.findAll();\n    }\n}\n</code></pre>\n\n<p>The configuration for the spy:</p>\n\n<pre><code>@Profile(\"enableSpy\")\n@Configuration\npublic class SpyConfig {\n\n    @Bean\n    @Primary\n    public ARepository aRepository() {\n        return Mockito.spy(ARepository.class);\n    }\n}\n</code></pre>\n\n<p>And my test class:</p>\n\n<pre><code>@ActiveProfiles(\"enableSpy\")\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class AServiceTest {\n\n    @Autowired\n    AService aService;\n\n    @Autowired\n    ARepository aRepository;\n\n    @Test\n    public void test() {\n        ADBO foo = new ADBO();\n        foo.setTestValue(\"bar\");\n        aRepository.save(foo);\n\n        doReturn(Optional.of(new ADBO())).when(aRepository).findById(1L);\n        System.out.println(\"result (1):\" + aService.getById(1));\n\n        System.out.println(\"result all:\" + aService.getAll());\n\n    }\n}\n</code></pre>\n\n<p>Now there are three possible outcomes to this test:</p>\n\n<ul>\n<li>aRepository is neither a mock nor a spy:<br>\n<code>org.mockito.exceptions.misusing.NotAMockException: \nArgument passed to when() is not a mock!\nExample of corr...</code></li>\n<li><p>aRepository is a mock but not a spy (this is the result I get):<br>\n<code>result (1):ADBO(id=null, testValue=null)\nresult all:[]</code></p></li>\n<li><p>aRepository is a spy (this is what I want):<br>\n<code>result (1):ADBO(id=null, testValue=null)\nresult all:[ADBO(id=1, testValue=bar)]</code></p></li>\n</ul>\n\n<p>I attribute this behavior to the fact that the spring instantiation of the repository is more complex in the background and the repository is not correctly instantiated when calling <code>Mockito.spy(ARepository.class)</code>.</p>\n\n<p>I have also tried autowireing the proper instance into the Configuration and calling <code>Mockito.spy()</code> with the @Autowired object.</p>\n\n<p>This results in:</p>\n\n<pre><code>Cannot mock/spy class com.sun.proxy.$Proxy75\nMockito cannot mock/spy because :\n - final class\n</code></pre>\n\n<p>According to my research Mockito can mock and spy final classes since v2.0.0.</p>\n\n<p>Calling <code>Mockito.mockingDetails(aRepository).isSpy()</code> returns <code>true</code> which leads me to think the object in the background was not correctly instantiated.</p>\n\n<p><strong>Finally my question:</strong></p>\n\n<p>How do I get a spy instance of a Spring-Data Repository in my UnitTest with @Autowired?</p>\n"},{"tags":["java","applescript"],"comments":[{"owner":{"account_id":908335,"reputation":5155,"user_id":942774,"accept_rate":100,"display_name":"Hendrik"},"score":1,"creation_date":1649101979,"post_id":71740226,"comment_id":126786655,"body_markdown":"Tipp: Oftentimes it is useful to crank up the logging for *JaplScript* to see the generated AppleScript snippets.","body":"Tipp: Oftentimes it is useful to crank up the logging for <i>JaplScript</i> to see the generated AppleScript snippets."}],"answers":[{"tags":[],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649100648,"creation_date":1649100648,"answer_id":71742797,"question_id":71740226,"body_markdown":"Found it buried quite away down in the README.md file of the base project https://github.com/japlscript/japlscript\r\n\r\n\r\n    Reference reference = app.make(UserPlaylist.CLASS, songkongPlaylistFolder, null);\r\n    UserPlaylist userPlaylist = reference.cast(UserPlaylist.class);\r\n    userPlaylist.setName(playlistname);","title":"Unable to create Apple Music user playlist within playlist folder using Java Applescript library wrapper com.tagtraum.obstmusic","body":"<p>Found it buried quite away down in the README.md file of the base project <a href=\"https://github.com/japlscript/japlscript\" rel=\"nofollow noreferrer\">https://github.com/japlscript/japlscript</a></p>\n<pre><code>Reference reference = app.make(UserPlaylist.CLASS, songkongPlaylistFolder, null);\nUserPlaylist userPlaylist = reference.cast(UserPlaylist.class);\nuserPlaylist.setName(playlistname);\n</code></pre>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71742797,"answer_count":1,"score":1,"last_activity_date":1649100648,"creation_date":1649087777,"question_id":71740226,"body_markdown":"Trying to use https://github.com/japlscript/obstmusic to talk to Apple Music app on Macos with Java, I used to write native applescript and then java applescript library but that was removed from Java.\r\n\r\nIn this case I cant work out to create a user playlist within a folder playlist, when I run the code \r\n\r\n        public void createPlaylist() throws Exception\r\n        {\r\n            FolderPlaylist songkongPlaylistFolder = getPlayListFolder();\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd kk:mm&quot;);\r\n            String playlistname = &quot;SongKong:&quot; + sdf.format(new Date());\r\n            Application app = Application.getInstance();\r\n    \r\n            Map&lt;String, Reference&gt; properties = new HashMap&lt;&gt;();\r\n            Object userPlaylist = app.make(TypeClass.fromClass(UserPlaylist.class), songkongPlaylistFolder, properties);\r\n            ((UserPlaylist)userPlaylist).setName(playlistname);\r\n        }\r\n\r\n\r\nI get exception\r\n\r\n    \r\n\r\n&gt; 04/04/2022\r\n&gt; 14.52.44:BST:OSXUpdateItunesWithChanges:updateItunes:SEVERE: *** Unable to run itunes update:{     NSAppleScriptErrorAppName = Music;  \r\n&gt; NSAppleScriptErrorBriefMessage = &quot;Can’t make some data into the\r\n&gt; expected type.&quot;;     NSAppleScriptErrorMessage = &quot;Music got an error:\r\n&gt; Can’t make some data into the expected type.&quot;;    \r\n&gt; NSAppleScriptErrorNumber = &quot;-1700&quot;;     NSAppleScriptErrorRange =\r\n&gt; &quot;NSRange: {23, 93}&quot;; }\r\n&gt; com.tagtraum.japlscript.execution.JaplScriptException: {    \r\n&gt; NSAppleScriptErrorAppName = Music;     NSAppleScriptErrorBriefMessage\r\n&gt; = &quot;Can’t make some data into the expected type.&quot;;     NSAppleScriptErrorMessage = &quot;Music got an error: Can’t make some data\r\n&gt; into the expected type.&quot;;     NSAppleScriptErrorNumber = &quot;-1700&quot;;    \r\n&gt; NSAppleScriptErrorRange = &quot;NSRange: {23, 93}&quot;; } \tat\r\n&gt; com.tagtraum.japlscript.execution.CocoaScriptExecutor.execute(Native\r\n&gt; Method) \tat\r\n&gt; com.tagtraum.japlscript.execution.CocoaScriptExecutor.executeImpl(CocoaScriptExecutor.java:28)\r\n&gt; \tat\r\n&gt; com.tagtraum.japlscript.execution.ScriptExecutor.execute(ScriptExecutor.java:102)\r\n&gt; \tat\r\n&gt; com.tagtraum.japlscript.ObjectInvocationHandler.executeAppleScript(ObjectInvocationHandler.java:476)\r\n&gt; \tat\r\n&gt; com.tagtraum.japlscript.ObjectInvocationHandler.executeAppleScript(ObjectInvocationHandler.java:468)\r\n&gt; \tat\r\n&gt; com.tagtraum.japlscript.ObjectInvocationHandler.executeAppleScript(ObjectInvocationHandler.java:464)\r\n&gt; \tat\r\n&gt; com.tagtraum.japlscript.ObjectInvocationHandler.invokeCommand(ObjectInvocationHandler.java:280)\r\n&gt; \tat\r\n&gt; com.tagtraum.japlscript.ObjectInvocationHandler.invoke(ObjectInvocationHandler.java:191)\r\n&gt; \tat jdk.proxy2/jdk.proxy2.$Proxy59.make(Unknown Source) \tat\r\n&gt; com.jthink.songkong.ituneshelper.OSXUpdateMusicWithChanges.createPlaylist(OSXUpdateMusicWithChanges.java:62)\r\n&gt; \tat\r\n&gt; com.jthink.songkong.ituneshelper.OSXUpdateItunesWithChanges.analyseFiles(OSXUpdateItunesWithChanges.java:246)\r\n&gt; \tat\r\n&gt; com.jthink.songkong.ituneshelper.OSXUpdateItunesWithChanges.updateItunes(OSXUpdateItunesWithChanges.java:126)\r\n&gt; \tat\r\n&gt; com.jthink.songkong.ituneshelper.UpdateItunesWithChanges.call(UpdateItunesWithChanges.java:184)\r\n&gt; \tat\r\n&gt; com.jthink.songkong.ituneshelper.UpdateItunesWithChanges.call(UpdateItunesWithChanges.java:33)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\r\nI think the problem is how I call `app.make()` but I cant work out how to do it.","title":"Unable to create Apple Music user playlist within playlist folder using Java Applescript library wrapper com.tagtraum.obstmusic","body":"<p>Trying to use <a href=\"https://github.com/japlscript/obstmusic\" rel=\"nofollow noreferrer\">https://github.com/japlscript/obstmusic</a> to talk to Apple Music app on Macos with Java, I used to write native applescript and then java applescript library but that was removed from Java.</p>\n<p>In this case I cant work out to create a user playlist within a folder playlist, when I run the code</p>\n<pre><code>    public void createPlaylist() throws Exception\n    {\n        FolderPlaylist songkongPlaylistFolder = getPlayListFolder();\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd kk:mm&quot;);\n        String playlistname = &quot;SongKong:&quot; + sdf.format(new Date());\n        Application app = Application.getInstance();\n\n        Map&lt;String, Reference&gt; properties = new HashMap&lt;&gt;();\n        Object userPlaylist = app.make(TypeClass.fromClass(UserPlaylist.class), songkongPlaylistFolder, properties);\n        ((UserPlaylist)userPlaylist).setName(playlistname);\n    }\n</code></pre>\n<p>I get exception</p>\n<blockquote>\n<p>04/04/2022\n14.52.44:BST:OSXUpdateItunesWithChanges:updateItunes:SEVERE: *** Unable to run itunes update:{     NSAppleScriptErrorAppName = Music;<br />\nNSAppleScriptErrorBriefMessage = &quot;Can’t make some data into the\nexpected type.&quot;;     NSAppleScriptErrorMessage = &quot;Music got an error:\nCan’t make some data into the expected type.&quot;;<br />\nNSAppleScriptErrorNumber = &quot;-1700&quot;;     NSAppleScriptErrorRange =\n&quot;NSRange: {23, 93}&quot;; }\ncom.tagtraum.japlscript.execution.JaplScriptException: {<br />\nNSAppleScriptErrorAppName = Music;     NSAppleScriptErrorBriefMessage\n= &quot;Can’t make some data into the expected type.&quot;;     NSAppleScriptErrorMessage = &quot;Music got an error: Can’t make some data\ninto the expected type.&quot;;     NSAppleScriptErrorNumber = &quot;-1700&quot;;<br />\nNSAppleScriptErrorRange = &quot;NSRange: {23, 93}&quot;; }  at\ncom.tagtraum.japlscript.execution.CocoaScriptExecutor.execute(Native\nMethod)   at\ncom.tagtraum.japlscript.execution.CocoaScriptExecutor.executeImpl(CocoaScriptExecutor.java:28)\nat\ncom.tagtraum.japlscript.execution.ScriptExecutor.execute(ScriptExecutor.java:102)\nat\ncom.tagtraum.japlscript.ObjectInvocationHandler.executeAppleScript(ObjectInvocationHandler.java:476)\nat\ncom.tagtraum.japlscript.ObjectInvocationHandler.executeAppleScript(ObjectInvocationHandler.java:468)\nat\ncom.tagtraum.japlscript.ObjectInvocationHandler.executeAppleScript(ObjectInvocationHandler.java:464)\nat\ncom.tagtraum.japlscript.ObjectInvocationHandler.invokeCommand(ObjectInvocationHandler.java:280)\nat\ncom.tagtraum.japlscript.ObjectInvocationHandler.invoke(ObjectInvocationHandler.java:191)\nat jdk.proxy2/jdk.proxy2.$Proxy59.make(Unknown Source)  at\ncom.jthink.songkong.ituneshelper.OSXUpdateMusicWithChanges.createPlaylist(OSXUpdateMusicWithChanges.java:62)\nat\ncom.jthink.songkong.ituneshelper.OSXUpdateItunesWithChanges.analyseFiles(OSXUpdateItunesWithChanges.java:246)\nat\ncom.jthink.songkong.ituneshelper.OSXUpdateItunesWithChanges.updateItunes(OSXUpdateItunesWithChanges.java:126)\nat\ncom.jthink.songkong.ituneshelper.UpdateItunesWithChanges.call(UpdateItunesWithChanges.java:184)\nat\ncom.jthink.songkong.ituneshelper.UpdateItunesWithChanges.call(UpdateItunesWithChanges.java:33)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)</p>\n</blockquote>\n<p>I think the problem is how I call <code>app.make()</code> but I cant work out how to do it.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8533,"page":1459,"page_size":100}
